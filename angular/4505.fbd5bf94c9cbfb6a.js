"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4505],{47635:(re,wt,g)=>{g.d(wt,{c:()=>ut});var S=g(10936),o=g(66257),e=g(48725),H=g(59640),r=g(37497),t=g(27208),x=g(18586),v=g(26860),a=g(65162),ft=g(43070),bt=g(46899),yt=g(25898),tt=g(54460),lt=g(47712),Z=g(18718),at=g(22613),nt=g(69135),dt=g(32099),it=g(5800),mt=g(10123),F=g(15343),U=g(73437);function W(K,B){if(1&K){const $=v.RV6();v.j41(0,"div",5)(1,"div",6)(2,"azt-search-box",7),v.bIt("onSearch",function(Et){v.eBV($);const Xt=v.XpG();return v.Njj(Xt.onSearchBox(Et.searchObj))}),v.nI1(3,"mytranslate"),v.k0s()()()}2&K&&(v.R7$(2),v.Y8G("isServerSearch",!0)("placeholder",v.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function D(K,B){if(1&K&&v.nrm(0,"azt-loading-effect",10),2&K){const $=v.XpG(2);v.Y8G("currentStatusObj",$.statusObj)}}const V=function(K){return{"text-primary stroke-width-2.5":K}};function ht(K,B){if(1&K&&(v.j41(0,"div",20),v.nrm(1,"lucide-icon",21)(2,"lucide-icon",22),v.k0s()),2&K){const $=v.XpG().$implicit,pt=v.XpG(3);v.R7$(1),v.Y8G("ngClass",v.eq3(2,V,$.typeFieldSort===pt.typeFieldSort.asc)),v.R7$(1),v.Y8G("ngClass",v.eq3(4,V,$.typeFieldSort===pt.typeFieldSort.desc))}}function Ft(K,B){if(1&K){const $=v.RV6();v.j41(0,"th",17)(1,"div",18),v.bIt("click",function(){const Xt=v.eBV($).$implicit,ie=v.XpG(3);return v.Njj(ie.sortTableByFieldName(Xt))}),v.EFF(2),v.nI1(3,"mytranslate"),v.DNE(4,ht,3,6,"div",19),v.k0s()()}if(2&K){const $=B.$implicit;v.R7$(1),v.Aen($.customStyle),v.HbH($.customClassCss),v.R7$(1),v.SpI(" ",v.bMT(3,6,$.key)," "),v.R7$(2),v.Y8G("ngIf",!$.ignore)}}function Yt(K,B){if(1&K){const $=v.RV6();v.j41(0,"tr",23)(1,"td"),v.nrm(2,"azt-student-info-box",24),v.k0s(),v.j41(3,"td",25),v.EFF(4),v.nI1(5,"formatStudentCodeToNumber"),v.k0s(),v.j41(6,"td",25),v.EFF(7),v.nI1(8,"formatOnlyDateByUserUnitPipe"),v.k0s(),v.j41(9,"td",25)(10,"div",26),v.nrm(11,"textarea",27),v.nI1(12,"mytranslate"),v.j41(13,"span",28,29),v.bIt("click",function(){const Xt=v.eBV($).$implicit,ie=v.XpG(3);return v.Njj(ie.showAllComment(Xt))}),v.nI1(15,"mytranslate"),v.nrm(16,"lucide-icon",30),v.k0s()()()()}if(2&K){const $=B.$implicit,pt=v.sdS(14);v.Y8G("id","row_student_"+$.id),v.R7$(2),v.Y8G("name",$.fullName)("parentFullName",$.parentFullName)("parentId",$.parentId)("parentPhone",$.parentPhone)("avatar",$.avatar)("gender",$.gender)("hasUser",$.hasUser)("schoolName",$.schoolName)("classrooms",$.classrooms)("joinedAt",$.joinedAt),v.R7$(2),v.JRh($.identificationNumber?v.i5U(5,20,$.identificationNumber,6):""),v.R7$(3),v.JRh(v.bMT(8,23,null!=$.assessments&&$.assessments[0]?null==$.assessments||null==$.assessments[0]?null:$.assessments[0].createdAt:"")),v.R7$(4),v.FS9("placeholder",v.bMT(12,25,"lang_azt_enter_comment")),v.Y8G("id","assessment_content_"+$.id)("disabled",!0)("value",$.lastAssessmentComment),v.R7$(2),v.FS9("matTooltip",v.bMT(15,27,"lang_student_show_all_comment")),v.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",pt.isDisabled)}}function Jt(K,B){if(1&K){const $=v.RV6();v.j41(0,"azt-paging",34),v.bIt("goToPaginationPage",function(Et){v.eBV($);const Xt=v.XpG(4);return v.Njj(Xt.setPageStudent(Et))}),v.k0s()}if(2&K){const $=v.XpG(4);v.Y8G("pageObj",$.pageObj)}}function le(K,B){if(1&K&&(v.j41(0,"div",35),v.EFF(1),v.nI1(2,"mytranslate"),v.k0s()),2&K){const $=v.XpG(4);v.R7$(1),v.Lme("",$.totalStudent," ",v.bMT(2,2,"lang_notify_list_students"),"")}}function me(K,B){if(1&K&&(v.j41(0,"div",31),v.nrm(1,"div"),v.DNE(2,Jt,1,1,"azt-paging",32),v.DNE(3,le,3,4,"div",33),v.k0s()),2&K){const $=v.XpG(3);v.R7$(2),v.Y8G("ngIf",$.totalStudent>$.pageObj.pageSize),v.R7$(1),v.Y8G("ngIf",!$.isStudent)}}function ee(K,B){if(1&K&&(v.j41(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),v.DNE(5,Ft,5,8,"th",14),v.k0s()(),v.j41(6,"tbody"),v.DNE(7,Yt,17,29,"tr",15),v.k0s()()()(),v.DNE(8,me,4,2,"div",16)),2&K){const $=v.XpG(2);v.R7$(5),v.Y8G("ngForOf",$.sortTableByFieldNameService.fieldNameList),v.R7$(2),v.Y8G("ngForOf",$.listStudent),v.R7$(1),v.Y8G("ngIf",$.listStudent&&$.totalStudent&&$.totalStudent>0)}}function Qt(K,B){if(1&K&&(v.j41(0,"div",1),v.DNE(1,D,1,1,"azt-loading-effect",8),v.DNE(2,ee,9,3,"ng-template",null,9,v.C5r),v.k0s()),2&K){const $=v.sdS(3),pt=v.XpG();v.R7$(1),v.Y8G("ngIf",pt.statusObj.loading)("ngIfElse",$)}}function jt(K,B){if(1&K&&v.nrm(0,"azt-loading-effect",10),2&K){const $=v.XpG(2);v.Y8G("currentStatusObj",$.statusObj)}}function Lt(K,B){1&K&&(v.j41(0,"div",39),v.EFF(1),v.nI1(2,"mytranslate"),v.k0s()),2&K&&(v.R7$(1),v.SpI(" ",v.bMT(2,1,"lang_azt_no_comments_yet")," "))}function kt(K,B){if(1&K&&(v.j41(0,"div",42)(1,"div",43)(2,"p",44),v.EFF(3),v.nI1(4,"mytranslate"),v.nI1(5,"formatOnlyDateByUserUnitPipe"),v.k0s()(),v.nrm(6,"div",45),v.nI1(7,"safeNormalHtmlContent"),v.k0s()),2&K){const $=B.$implicit;v.R7$(3),v.Lme("",v.bMT(4,3,"lang_student_add_comment_date"),": ",v.bMT(5,5,$.updatedAt),""),v.R7$(3),v.Y8G("innerHTML",v.bMT(7,7,$.comment),v.npT)}}function Ot(K,B){if(1&K&&(v.j41(0,"div",40),v.DNE(1,kt,8,9,"div",41),v.k0s()),2&K){const $=v.XpG(3);v.R7$(1),v.Y8G("ngForOf",null==$.firstStudent?null:$.firstStudent.assessments)}}function Ct(K,B){if(1&K&&(v.DNE(0,Lt,3,3,"div",37),v.DNE(1,Ot,2,1,"ng-template",null,38,v.C5r)),2&K){const $=v.sdS(2),pt=v.XpG(2);v.Y8G("ngIf",!(null!=pt.firstStudent&&pt.firstStudent.assessments&&null!=pt.firstStudent&&null!=pt.firstStudent.assessments&&pt.firstStudent.assessments.length))("ngIfElse",$)}}function Ut(K,B){if(1&K&&(v.j41(0,"div",1),v.DNE(1,jt,1,1,"azt-loading-effect",8),v.DNE(2,Ct,3,2,"ng-template",null,36,v.C5r),v.k0s()),2&K){const $=v.sdS(3),pt=v.XpG();v.R7$(1),v.Y8G("ngIf",pt.statusObj.loading)("ngIfElse",$)}}let ut=(()=>{class K extends H.H{onSearchBox($){this.searchContentObj=$,this.getData()}showAllComment($){this.sAztDialogService.open(x.U,{width:"700px",restoreFocus:!1,data:{student:$,isTeacher:!1}}).afterClosed().subscribe(pt=>{pt&&this.getData()})}setPageStudent($){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+$),this.pageObj.setPageNumber($),this.getData()}sortTableByFieldName($){$.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort($),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj}).subscribe({next:pt=>{pt.list.length&&(this.listStudent=[]),this.totalStudent=pt.total,pt.list.forEach(Et=>{let Xt=this.sAztAssessmentStudentService.getLastAssessmentStudent(Et);this.listStudent.push({...Et,commentControl:new S.gE({id:new S.MJ(0,{nonNullable:!0}),updatedAt:new S.MJ(Xt?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new S.MJ(Xt?.comment??"",{nonNullable:!0}),isEditted:new S.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Et.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=pt.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:pt=>{this.errorStatusObj(pt.error.message,!0)}}))}convertBreakLine($){if(!$)return;const pt=$.assessments?.map(Et=>({...Et,comment:Et.comment?.replace(/\n/g,"<br/>")}));return{...$,assessments:pt}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:o.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:o.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:o.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:o.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor($,pt,Et,Xt,ie){super(),this.activeRoute=$,this.studentService=pt,this.sAztDialogService=Et,this.sAztAssessmentStudentService=Xt,this.sortTableByFieldNameService=ie,this.classroomId=0,this.searchContentObj=new t.Z,this.pageObj=new r.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=o.H}static#t=this.\u0275fac=function(pt){return new(pt||K)(v.rXU(a.nX),v.rXU(ft.b0),v.rXU(bt.i),v.rXU(yt.n),v.rXU(e.s))};static#e=this.\u0275cmp=v.VBU({type:K,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[v.Jv_([e.s]),v.Vt3],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",1,"-mt-2",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],["doneLoadingStudent",""],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(pt,Et){1&pt&&(v.j41(0,"div",0)(1,"div",1)(2,"h3",2),v.EFF(3),v.nI1(4,"mytranslate"),v.k0s()(),v.DNE(5,W,4,4,"div",3),v.DNE(6,Qt,4,2,"div",4),v.DNE(7,Ut,4,2,"div",4),v.k0s()),2&pt&&(v.R7$(3),v.JRh(v.bMT(4,4,"lang_azt_comments")),v.R7$(2),v.Y8G("ngIf",!Et.isStudent),v.R7$(1),v.Y8G("ngIf",!Et.isStudent),v.R7$(1),v.Y8G("ngIf",Et.isStudent))},dependencies:[tt.YU,tt.Sq,tt.bT,lt.oV,Z.K,at.q,nt.f,dt.W,it.B,mt.jd,mt.Ew,F.WGl,U.wp,U._y,U.Po,U.vv],encapsulation:2})}return K})()},56172:(re,wt,g)=>{g.d(wt,{E:()=>Ut});var S=g(10127),o=g(66257),e=g(48725),H=g(59640),r=g(37497),t=g(27208),x=g(26860),v=g(65162),a=g(46899),ft=g(43070),bt=g(54460),yt=g(18718),tt=g(22613),lt=g(32099),Z=g(5800),at=g(10123),nt=g(15343),dt=g(85127),it=g(73437);function mt(ut,K){if(1&ut&&(x.j41(0,"div",11),x.nrm(1,"azt-loading-effect",12),x.k0s()),2&ut){const B=x.XpG(2);x.R7$(1),x.Y8G("currentStatusObj",B.statusObj)}}function F(ut,K){1&ut&&(x.j41(0,"div",18),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&ut&&(x.R7$(1),x.SpI(" ",x.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}const U=function(ut){return{"text-primary stroke-width-2.5":ut}};function W(ut,K){if(1&ut&&(x.j41(0,"div",27),x.nrm(1,"lucide-icon",28)(2,"lucide-icon",29),x.k0s()),2&ut){const B=x.XpG().$implicit,$=x.XpG(5);x.R7$(1),x.Y8G("ngClass",x.eq3(2,U,B.typeFieldSort===$.typeFieldSort.asc)),x.R7$(1),x.Y8G("ngClass",x.eq3(4,U,B.typeFieldSort===$.typeFieldSort.desc))}}function D(ut,K){if(1&ut){const B=x.RV6();x.j41(0,"th",24)(1,"div",25),x.bIt("click",function(){const Et=x.eBV(B).$implicit,Xt=x.XpG(5);return x.Njj(Xt.sortTableByFieldName(Et))}),x.EFF(2),x.nI1(3,"mytranslate"),x.DNE(4,W,3,6,"div",26),x.k0s()()}if(2&ut){const B=K.$implicit;x.R7$(1),x.Aen(B.customStyle),x.HbH(B.customClassCss),x.R7$(1),x.SpI(" ",x.bMT(3,6,B.key)," "),x.R7$(2),x.Y8G("ngIf",!B.ignore)}}function V(ut,K){1&ut&&(x.j41(0,"span"),x.EFF(1,"/"),x.k0s())}function ht(ut,K){if(1&ut&&(x.j41(0,"span"),x.EFF(1),x.DNE(2,V,2,0,"span",3),x.EFF(3),x.k0s()),2&ut){const B=x.XpG().$implicit;x.R7$(1),x.SpI(" ",B.lastMonthPaid," "),x.R7$(1),x.Y8G("ngIf",B.lastMonthPaid),x.R7$(1),x.SpI(" ",B.lastYearPaid," ")}}function Ft(ut,K){1&ut&&(x.j41(0,"span",36),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&ut&&(x.R7$(1),x.SpI(" ",x.bMT(2,1,"lang_core_hoc_thu")," "))}function Yt(ut,K){if(1&ut){const B=x.RV6();x.j41(0,"tr")(1,"td",30),x.bIt("click",function(){const Et=x.eBV(B).$implicit,Xt=x.XpG(5);return x.Njj(Xt.addOrEditTuitionFee(Et))}),x.nrm(2,"azt-student-info-box",31),x.k0s(),x.j41(3,"td",32),x.EFF(4),x.nI1(5,"formatStudentCodeToNumber"),x.k0s(),x.j41(6,"td",33),x.EFF(7),x.k0s(),x.j41(8,"td",34),x.DNE(9,ht,4,3,"span",3),x.DNE(10,Ft,3,3,"span",35),x.k0s()()}if(2&ut){const B=K.$implicit;let $;x.R7$(2),x.Y8G("name",B.fullName)("avatar",B.avatar)("gender",B.gender)("schoolName",B.schoolName)("hasUser",B.hasUser)("classrooms",B.classrooms)("joinedAt",B.joinedAt),x.R7$(2),x.JRh(B.identificationNumber?x.i5U(5,11,B.identificationNumber,6):""),x.R7$(3),x.SpI(" ",null!==($=null==B.classroom?null:B.classroom.name)&&void 0!==$?$:""," "),x.R7$(2),x.Y8G("ngIf",!B.isTrial),x.R7$(1),x.Y8G("ngIf",B.isTrial)}}const Jt=function(){return[]};function le(ut,K){if(1&ut&&(x.j41(0,"div")(1,"div",19)(2,"drag-scroll")(3,"table",20)(4,"thead")(5,"tr",21),x.DNE(6,D,5,8,"th",22),x.k0s()(),x.j41(7,"tbody"),x.DNE(8,Yt,11,14,"tr",23),x.k0s()()()()()),2&ut){const B=x.XpG(4);let $;x.R7$(6),x.Y8G("ngForOf",B.sortTableByFieldNameService.fieldNameList),x.R7$(2),x.Y8G("ngForOf",null!==($=null==B.listPayment?null:B.listPayment.list)&&void 0!==$?$:x.lJ4(2,Jt))}}function me(ut,K){if(1&ut){const B=x.RV6();x.j41(0,"div",37),x.EFF(1),x.nI1(2,"mytranslate"),x.j41(3,"span",38),x.bIt("click",function(){x.eBV(B);const pt=x.XpG(4);return x.Njj(pt.goBack())}),x.EFF(4),x.nI1(5,"mytranslate"),x.k0s()()}2&ut&&(x.R7$(1),x.SpI(" ",x.bMT(2,2,"lang_core_not_found_student"),"... "),x.R7$(3),x.JRh(x.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function ee(ut,K){if(1&ut&&(x.j41(0,"div",15),x.DNE(1,F,3,3,"div",16),x.DNE(2,le,9,3,"div",3),x.DNE(3,me,6,6,"div",17),x.k0s()),2&ut){const B=x.XpG(3);let $,pt;x.R7$(1),x.Y8G("ngIf",!B.searchContentObj.isLoading&&0==(null==B.listPayment?null:B.listPayment.total)&&""==B.searchContentObj.searchContent),x.R7$(1),x.Y8G("ngIf",(null!==($=null==B.listPayment?null:B.listPayment.total)&&void 0!==$?$:0)>0),x.R7$(1),x.Y8G("ngIf",!B.searchContentObj.isLoading&&0==(null!==(pt=null==B.listPayment?null:B.listPayment.list)&&void 0!==pt?pt:x.lJ4(3,Jt)).length&&""!=B.searchContentObj.searchContent)}}function Qt(ut,K){if(1&ut){const B=x.RV6();x.j41(0,"azt-paging",42),x.bIt("goToPaginationPage",function(pt){x.eBV(B);const Et=x.XpG(4);return x.Njj(Et.setPageStudent(pt))}),x.k0s()}if(2&ut){const B=x.XpG(4);x.Y8G("pageObj",B.pageObj)}}function jt(ut,K){if(1&ut&&(x.j41(0,"div",43),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&ut){const B=x.XpG(4);x.R7$(1),x.Lme("",B.listPayment.total," ",x.bMT(2,2,"lang_notify_list_students"),"")}}function Lt(ut,K){if(1&ut&&(x.j41(0,"div",39),x.nrm(1,"div"),x.DNE(2,Qt,1,1,"azt-paging",40),x.DNE(3,jt,3,4,"div",41),x.k0s()),2&ut){const B=x.XpG(3);x.R7$(2),x.Y8G("ngIf",B.listPayment.total>B.pageObj.pageSize),x.R7$(1),x.Y8G("ngIf",!B.isStudent)}}function kt(ut,K){if(1&ut&&(x.DNE(0,ee,4,4,"div",13),x.DNE(1,Lt,4,2,"div",14)),2&ut){const B=x.XpG(2);let $;x.Y8G("ngIf",!B.isStudent),x.R7$(1),x.Y8G("ngIf",B.listPayment&&B.listPayment.total&&(null!==($=null==B.listPayment?null:B.listPayment.total)&&void 0!==$?$:0)>0)}}function Ot(ut,K){if(1&ut){const B=x.RV6();x.qex(0),x.j41(1,"div",5)(2,"div",6)(3,"div",7)(4,"azt-search-box",8),x.bIt("onSearch",function(pt){x.eBV(B);const Et=x.XpG();return x.Njj(Et.onSearchBox(pt.searchObj))}),x.nI1(5,"mytranslate"),x.k0s()()()(),x.DNE(6,mt,2,1,"div",9),x.DNE(7,kt,2,2,"ng-template",null,10,x.C5r),x.bVm()}if(2&ut){const B=x.sdS(8),$=x.XpG();x.R7$(4),x.Y8G("isServerSearch",!0)("placeholder",x.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",$.searchContentObj),x.R7$(2),x.Y8G("ngIf",$.statusObj.loading)("ngIfElse",B)}}function Ct(ut,K){1&ut&&(x.j41(0,"div",44),x.nrm(1,"detail-tuition-fee-student"),x.k0s())}let Ut=(()=>{class ut extends H.H{onSearchBox(B){this.searchContentObj=B,this.getData()}addOrEditTuitionFee(B){this.sAztDialogService.open(S.B,{width:"900px",restoreFocus:!1,data:B}).afterClosed().subscribe($=>{$&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent()}sortTableByFieldName(B){B.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(B),this.getData())}setPageStudent(B){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+B),this.pageObj.setPageNumber(B),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:$=>{this.listPayment=$,this.pageObj.setTotalPages($.total??0),this.successStatusObj()},error:$=>{this.errorStatusObj($.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:o.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:o.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:o.H.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:o.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(B,$,pt,Et){super(),this.activeRoute=B,this.sAztDialogService=$,this.studentService=pt,this.sortTableByFieldNameService=Et,this.pageStudent=1,this.searchContentObj=new t.Z,this.classroomId=0,this.pageObj=new r.d(50),this.typeFieldSort=o.H}static#t=this.\u0275fac=function($){return new($||ut)(x.rXU(v.nX),x.rXU(a.i),x.rXU(ft.b0),x.rXU(e.s))};static#e=this.\u0275cmp=x.VBU({type:ut,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[x.Jv_([e.s]),x.Vt3],decls:7,vars:5,consts:[[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",1,"-mt-2",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function($,pt){1&$&&(x.j41(0,"div",0)(1,"div",1)(2,"h3",2),x.EFF(3),x.nI1(4,"mytranslate"),x.k0s()(),x.DNE(5,Ot,9,7,"ng-container",3),x.DNE(6,Ct,2,0,"div",4),x.k0s()),2&$&&(x.R7$(3),x.SpI(" ",x.bMT(4,3,pt.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),x.R7$(2),x.Y8G("ngIf",!pt.isStudent),x.R7$(1),x.Y8G("ngIf",pt.isStudent))},dependencies:[bt.YU,bt.Sq,bt.bT,yt.K,tt.q,lt.W,Z.B,at.jd,at.Ew,nt.WGl,dt.k,it.wp,it.Po],encapsulation:2})}return ut})()},85127:(re,wt,g)=>{g.d(wt,{k:()=>tt});var S=g(59640),o=g(26860),e=g(43070),H=g(54460),r=g(52811),t=g(10123),x=g(73437);function v(lt,Z){1&lt&&(o.j41(0,"tr",9)(1,"td",10)(2,"span",11),o.nrm(3,"azt-loading-ui"),o.k0s()()())}function a(lt,Z){if(1&lt&&(o.j41(0,"tr")(1,"td",9),o.EFF(2),o.k0s(),o.j41(3,"td"),o.EFF(4),o.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),o.k0s(),o.j41(6,"td"),o.EFF(7),o.k0s(),o.j41(8,"td",9)(9,"span",15),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s()()()),2&lt){const at=Z.$implicit,nt=Z.index;o.R7$(2),o.JRh(nt+1),o.R7$(2),o.JRh(o.bMT(5,4,at.createdAt)),o.R7$(3),o.JRh(at.month+"/"+at.year),o.R7$(3),o.SpI(" ",o.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function ft(lt,Z){if(1&lt&&(o.qex(0),o.DNE(1,a,12,8,"tr",14),o.bVm()),2&lt){const at=o.XpG(2);o.R7$(1),o.Y8G("ngForOf",at.historyTuitionFeeList)}}function bt(lt,Z){1&lt&&(o.j41(0,"tr")(1,"td",16),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&lt&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"lang_student_profile_not_data_view")," "))}function yt(lt,Z){if(1&lt&&(o.DNE(0,ft,2,1,"ng-container",12),o.DNE(1,bt,4,3,"ng-template",null,13,o.C5r)),2&lt){const at=o.sdS(2),nt=o.XpG();o.Y8G("ngIf",nt.historyTuitionFeeList.length)("ngIfElse",at)}}let tt=(()=>{class lt extends S.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(at=>{at?(this.historyTuitionFeeList=at.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(at){super(),this.paymentService=at,this.historyTuitionFeeList=[]}static#t=this.\u0275fac=function(nt){return new(nt||lt)(o.rXU(e.WG))};static#e=this.\u0275cmp=o.VBU({type:lt,selectors:[["detail-tuition-fee-student"]],features:[o.Vt3],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(nt,dt){if(1&nt&&(o.j41(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),o.EFF(7),o.nI1(8,"mytranslate"),o.k0s(),o.j41(9,"th",5),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s(),o.j41(12,"th",5),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s(),o.j41(15,"th",6),o.EFF(16),o.nI1(17,"mytranslate"),o.k0s()()(),o.j41(18,"tbody"),o.DNE(19,v,4,0,"tr",7),o.DNE(20,yt,3,2,"ng-template",null,8,o.C5r),o.k0s()()()()()),2&nt){const it=o.sdS(21);o.R7$(7),o.SpI(" ",o.bMT(8,6,"lang_auto_stt")," "),o.R7$(3),o.SpI(" ",o.bMT(11,8,"lang_student_payment_time")," "),o.R7$(3),o.SpI(" ",o.bMT(14,10,"lang_student_monthly_tuition_fee")," "),o.R7$(3),o.SpI(" ",o.bMT(17,12,"lang_student_status")," "),o.R7$(3),o.Y8G("ngIf",dt.statusObj.loading)("ngIfElse",it)}},dependencies:[H.Sq,H.bT,r.R,t.jd,t.Ew,x.wp,x.bH],encapsulation:2})}return lt})()},25898:(re,wt,g)=>{g.d(wt,{n:()=>e});var S=g(10936),o=g(26860);let e=(()=>{class H{makeListFormArrayComment(t,x){let v=new S.Yp([]);return t&&t.forEach(a=>{v.push(new S.gE({id:new S.MJ({value:a.id,disabled:!x},{nonNullable:!0}),updatedAt:new S.MJ({value:a.updatedAt?.toString()??"",disabled:!x},{nonNullable:!0}),comment:new S.MJ({value:a.comment??"",disabled:!x},{nonNullable:!0}),isEditted:new S.MJ(!1,{nonNullable:!0})}))}),v}getLastAssessmentStudent(t){if(t.assessments&&t.assessments.length)return t.assessments[0]}static#t=this.\u0275fac=function(x){return new(x||H)};static#e=this.\u0275prov=o.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},18586:(re,wt,g)=>{g.d(wt,{U:()=>Qt});var S=g(81519),o=g(26860),e=g(10936),H=g(34514),r=g(47426),t=g(89163),x=g(99503),v=g(79347),a=g(33887),ft=g(91930),bt=g(9691),yt=g(25898),tt=g(10296),lt=g(67638),Z=g(40609),at=g(54460),nt=g(47712),dt=g(81587),it=g(2915),mt=g(52811),F=g(5800),U=g(15343),W=g(73437);function D(jt,Lt){if(1&jt){const kt=o.RV6();o.j41(0,"button",14),o.bIt("click",function(){o.eBV(kt);const Ct=o.XpG();return o.Njj(Ct.changeEditStatus(!0))}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}2&jt&&(o.R7$(1),o.SpI(" ",o.bMT(2,1,"lang_auto_sua")," "))}function V(jt,Lt){if(1&jt){const kt=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV(kt);const Ct=o.XpG();return o.Njj(Ct.changeEditStatus(!1))}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}if(2&jt){const kt=o.XpG();o.Y8G("disabled",kt.isSave),o.R7$(1),o.SpI(" ",o.bMT(2,2,"lang_auto_huy_sua")," ")}}function ht(jt,Lt){if(1&jt){const kt=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){o.eBV(kt);const Ct=o.XpG();return o.Njj(Ct.saveEdit())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}if(2&jt){const kt=o.XpG();o.Y8G("disabled",kt.isSave||kt.countChangedComment()),o.R7$(1),o.SpI(" ",o.bMT(2,2,"lang_auto_luu")," ")}}function Ft(jt,Lt){1&jt&&(o.j41(0,"div",17)(1,"span",18),o.nrm(2,"azt-loading-ui"),o.k0s()())}function Yt(jt,Lt){1&jt&&(o.j41(0,"div",21),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&jt&&(o.R7$(1),o.SpI(" ",o.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Jt(jt,Lt){if(1&jt){const kt=o.RV6();o.j41(0,"button",30),o.bIt("click",function(){o.eBV(kt);const Ct=o.XpG().$implicit,Ut=o.XpG(3);return o.Njj(Ut.deleteAssesment(Ct.controls.id.value))}),o.nrm(1,"lucide-icon",31),o.nI1(2,"mytranslate"),o.k0s()}if(2&jt){const kt=o.XpG(4);o.Y8G("disabled",kt.isSave),o.R7$(1),o.FS9("matTooltip",o.bMT(2,2,"lang_auto_xoa"))}}function le(jt,Lt){if(1&jt){const kt=o.RV6();o.j41(0,"div",24)(1,"form",25)(2,"div",26)(3,"p",27),o.EFF(4),o.nI1(5,"mytranslate"),o.nI1(6,"formatOnlyDateByUserUnitPipe"),o.k0s(),o.DNE(7,Jt,3,4,"button",28),o.k0s(),o.j41(8,"textarea",29),o.bIt("change",function(){const Ut=o.eBV(kt).$implicit;return o.Njj(Ut.controls.isEditted.setValue(!0))}),o.k0s()()()}if(2&jt){const kt=Lt.$implicit,Ot=o.XpG(3);o.R7$(1),o.Y8G("formGroup",kt),o.R7$(3),o.Lme("",o.bMT(5,4,"lang_student_add_comment_date"),": ",o.bMT(6,6,kt.controls.updatedAt.value),""),o.R7$(3),o.Y8G("ngIf",Ot.isEdit)}}function me(jt,Lt){if(1&jt&&(o.j41(0,"div",22),o.DNE(1,le,9,8,"div",23),o.k0s()),2&jt){const kt=o.XpG(2);o.R7$(1),o.Y8G("ngForOf",null==kt.data.student.listCommentControl?null:kt.data.student.listCommentControl.controls)}}function ee(jt,Lt){if(1&jt&&(o.DNE(0,Yt,3,3,"div",19),o.DNE(1,me,2,1,"ng-template",null,20,o.C5r)),2&jt){const kt=o.sdS(2),Ot=o.XpG();o.Y8G("ngIf",!Ot.data.student.assessments||!Ot.data.student.assessments.length)("ngIfElse",kt)}}let Qt=(()=>{class jt extends a._{filterData(kt){this.dataFilter=kt,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Ot=>Ot.controls.isEditted.value&&!Ot.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let kt=this.data.student.listCommentControl?.controls.filter(Ct=>Ct.controls.isEditted.value).map(Ct=>({id:Ct.controls.id.value,studentId:this.data.student.id,comment:Ct.controls.comment.value}))??[];if(!kt.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:kt}).subscribe(Ct=>{Ct.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(kt){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(kt).subscribe(Ot=>{Ot.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(kt){this.isEdit=kt,this.data.student.listCommentControl?.controls.map(Ot=>kt?Ot.enable():Ot.disable())}getStudent(kt){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0}).subscribe({next:Ct=>{if(Ct.list.length){let Ut=this.sAztAssessmentStudentService.getLastAssessmentStudent(Ct.list[0]);this.data.student={...Ct.list[0],commentControl:new e.gE({id:new e.MJ(0,{nonNullable:!0}),updatedAt:new e.MJ(Ut?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new e.MJ(Ut?.comment??"",{nonNullable:!0}),isEditted:new e.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Ct.list[0].assessments,kt)}}this.stopStatusObj()},error:Ct=>{this.errorStatusObj(Ct.error.message,!0)}}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(kt,Ot,Ct,Ut,ut,K,B){super(B,K),this.sAztAssessmentStudentService=kt,this.sAztTimeService=Ot,this.shareFileFlutterService=Ct,this.exportExcelService=Ut,this.studentService=ut,this.dialogRef=K,this.data=B,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,o.WQX)(ft.R)}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(Ot){return new(Ot||jt)(o.rXU(yt.n),o.rXU(bt.F),o.rXU(tt.R),o.rXU(lt.x),o.rXU(Z.b),o.rXU(t.CP,8),o.rXU(t.Vh,8))};static#e=this.\u0275cmp=o.VBU({type:jt,selectors:[["azt-student-comments"]],features:[o.Jv_([{provide:S.$O,useClass:x.fb,deps:[r.Ju,H.ij]},{provide:S.vq,useFactory:v.fJ,deps:[bt.F]}]),o.Vt3],decls:17,vars:17,consts:[[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["doneLoading",""],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"disabled","click"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"disabled","click"],["name","trash-2",2,"width","16px !important","height","16px !important",3,"matTooltip"]],template:function(Ot,Ct){if(1&Ot&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2),o.nrm(3,"azt-student-info-box",3),o.j41(4,"div",4),o.qSk(),o.j41(5,"svg",5),o.bIt("click",function(){return Ct.closeDialog()}),o.nI1(6,"mytranslate"),o.nrm(7,"path",6)(8,"path",7),o.k0s()()(),o.joV(),o.j41(9,"div",8),o.DNE(10,D,3,3,"button",9),o.DNE(11,V,3,4,"button",10),o.DNE(12,ht,3,4,"button",11),o.k0s()(),o.j41(13,"azt-mat-dialog-content"),o.DNE(14,Ft,3,0,"div",12),o.DNE(15,ee,3,2,"ng-template",null,13,o.C5r),o.k0s()()),2&Ot){const Ut=o.sdS(16);o.R7$(3),o.Y8G("name",Ct.data.student.fullName)("parentFullName",Ct.data.student.parentFullName)("parentId",Ct.data.student.parentId)("parentPhone",Ct.data.student.parentPhone)("phone",Ct.data.student.phone)("email",Ct.data.student.email)("avatar",Ct.data.student.avatar)("gender",Ct.data.student.gender)("hasUser",Ct.data.student.hasUser),o.R7$(2),o.FS9("matTooltip",o.bMT(6,15,"lang_auto_dong")),o.R7$(5),o.Y8G("ngIf",!Ct.isEdit&&Ct.data.isTeacher),o.R7$(1),o.Y8G("ngIf",Ct.isEdit),o.R7$(1),o.Y8G("ngIf",Ct.isEdit),o.R7$(2),o.Y8G("ngIf",Ct.statusObj.loading)("ngIfElse",Ut)}},dependencies:[at.Sq,at.bT,nt.oV,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,dt.t,it.U,mt.R,F.B,U.WGl,W.wp,W.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]})}return jt})()},66067:(re,wt,g)=>{g.d(wt,{E:()=>Ii});var S=g(76627),o=g(59640),e=g(26860),H=g(65162),r=g(73202),t=g(43070),x=g(9691),v=g(54460),a=g(18718),ft=g(64198),bt=g(75421),yt=g(93518),tt=g(53043),lt=g(69307),Z=g(46899),at=g(40111),nt=g(17818),dt=g(47712),it=g(69135),mt=g(52811),F=g(91584),U=g(15343),W=g(23750),D=g(81519),V=g(10936),ht=g(34514),Ft=g(47426),Yt=g(99503),Jt=g(79347);class le{static addNewEducationalProgramFormValidator(z){let p=z,k=p.controls.weekdayConfig;if(!k.length)return p.setErrors(null),null;let T=0,M=0;return k.controls.forEach(L=>{let rt=!1,It={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};L.controls.selected.value?(L.controls.infrastructureId.value||(rt=!0,It.invalidInfrastructure=!0),L.controls.startTime.value&&L.controls.endTime.value?new Date("1970-01-01T"+L.controls.startTime.value).getTime()>=new Date("1970-01-01T"+L.controls.endTime.value).getTime()?(rt=!0,It.invalidTime=!0):It.invalidTime=!1:(rt=!0,It.requireTime=!0),L.setErrors(rt?It:null),M++):L.setErrors(null),L.invalid&&T++},k),T||!M?(p.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(p.setErrors(null),null)}}var me=g(43234),ee=g(66772),Qt=g(84828),jt=g(39471),Lt=g(97839),kt=g(74960),Ot=g(4375),Ct=g(20378),Ut=g(81587),ut=g(5502),K=g(73437);const B=["startTime"];function $(f,z){if(1&f&&e.nrm(0,"azt-loading-effect",4),2&f){const p=e.XpG();e.Y8G("currentStatusObj",p.statusObj)}}function pt(f,z){if(1&f){const p=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(p);const T=e.XpG(2);return e.Njj(T.saveEducationalProgramEmit.emit(!1))}),e.qSk(),e.j41(1,"svg",42),e.nrm(2,"polyline",43),e.k0s(),e.joV(),e.j41(3,"span",44),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(2);e.Y8G("disabled",p.isSavingProgram),e.R7$(4),e.JRh(e.bMT(5,2,"lang_auto_huy"))}}function Et(f,z){1&f&&e.nrm(0,"lucide-icon",49)}function Xt(f,z){1&f&&e.nrm(0,"lucide-icon",50)}function ie(f,z){1&f&&e.nrm(0,"lucide-icon",58)}const Se=function(f){return{"border border-primary":f}};function $e(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",54)(1,"div",55),e.bIt("click",function(){const M=e.eBV(p).$implicit,L=e.XpG().$implicit,rt=e.XpG(2).$implicit,It=e.XpG(2);let Nt;return e.Njj(It.selectSubject(null!==(Nt=rt.id)&&void 0!==Nt?Nt:0,null!==(Nt=L.id)&&void 0!==Nt?Nt:0,M))}),e.j41(2,"span",56),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,ie,1,0,"lucide-icon",57),e.k0s()()}if(2&f){const p=z.$implicit;e.Y8G("ngClass",e.eq3(5,Se,p.selected)),e.R7$(3),e.JRh(e.bMT(4,3,p.name)),e.R7$(2),e.Y8G("ngIf",p.selected)}}function de(f,z){if(1&f&&(e.qex(0),e.j41(1,"h3",51)(2,"span",52),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,$e,6,7,"div",53),e.bVm()),2&f){const p=z.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,p.name)," "),e.R7$(2),e.Y8G("ngForOf",p.children)}}function Pe(f,z){if(1&f&&(e.qex(0),e.DNE(1,de,6,4,"ng-container",18),e.bVm()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",p.subjects)}}function ye(f,z){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"h3",45)(2,"span",46),e.bIt("click",function(){const M=e.eBV(p).$implicit,L=e.XpG(2);let rt;return e.Njj(L.showEducationalProgramSubject(null!==(rt=M.id)&&void 0!==rt?rt:0))}),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,Et,1,0,"lucide-icon",47),e.DNE(6,Xt,1,0,"lucide-icon",48),e.k0s()(),e.DNE(7,Pe,2,1,"ng-container",19),e.bVm()}if(2&f){const p=z.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,p.name)," "),e.R7$(2),e.Y8G("ngIf",p.showChild),e.R7$(1),e.Y8G("ngIf",!p.showChild),e.R7$(1),e.Y8G("ngIf",p.showChild)}}function je(f,z){1&f&&(e.qex(0),e.j41(1,"small",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function Oe(f,z){1&f&&(e.qex(0),e.j41(1,"small",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function fe(f,z){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"div",61),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(T.controls.id.value))}),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()}if(2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("formGroup",p),e.R7$(2),e.JRh(e.bMT(4,2,p.controls.name.value))}}function we(f,z){1&f&&(e.j41(0,"button",82),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_huy")))}function be(f,z){1&f&&(e.j41(0,"button",83),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_xac_nhan")))}function ze(f,z){1&f&&e.nrm(0,"p",84)}function Q(f,z){1&f&&(e.j41(0,"mat-label"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function Rt(f,z){if(1&f&&(e.j41(0,"mat-option",85),e.EFF(1),e.k0s()),2&f){const p=z.$implicit;e.FS9("value",p.id),e.R7$(1),e.JRh(p.name)}}function A(f,z){1&f&&(e.qex(0),e.j41(1,"small",86),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function ot(f,z){1&f&&(e.qex(0),e.j41(1,"small",86),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function et(f,z){1&f&&(e.qex(0),e.nrm(1,"br"),e.j41(2,"small",87),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(3),e.SpI("* ",e.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function Mt(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",62)(1,"div",63)(2,"span",64),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(T.controls.id.value))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"lucide-icon",65),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(T.controls.id.value))}),e.k0s(),e.j41(6,"div",66)(7,"div",67)(8,"div",68),e.nrm(9,"input",69),e.nI1(10,"mytranslate"),e.nrm(11,"ngx-mat-timepicker",70,71),e.k0s(),e.j41(13,"span",72),e.EFF(14,"\xa0-\xa0"),e.k0s(),e.j41(15,"div",68),e.nrm(16,"input",73),e.nI1(17,"mytranslate"),e.nrm(18,"ngx-mat-timepicker",70,74),e.k0s(),e.DNE(20,we,3,3,"ng-template",null,75,e.C5r),e.DNE(22,be,3,3,"ng-template",null,76,e.C5r),e.DNE(24,ze,1,0,"ng-template",null,77,e.C5r),e.j41(26,"lucide-icon",78),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(T.controls.id.value))}),e.k0s()(),e.j41(27,"mat-form-field",79),e.DNE(28,Q,3,3,"mat-label",19),e.j41(29,"mat-select",80),e.bIt("openedChange",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(2);return e.Njj(L.touchedMatSelect(T,M))}),e.DNE(30,Rt,2,2,"mat-option",81),e.k0s()(),e.DNE(31,A,4,3,"ng-container",19),e.DNE(32,ot,4,3,"ng-container",19),e.DNE(33,et,5,3,"ng-container",19),e.k0s()()()}if(2&f){const p=e.sdS(12),k=e.sdS(19),T=e.sdS(21),M=e.sdS(23),L=e.sdS(25),rt=e.XpG().$implicit,It=e.XpG(2);e.Y8G("formGroup",rt)("ngClass",e.eq3(29,Se,rt.controls.selected.value)),e.R7$(3),e.JRh(e.bMT(4,23,rt.controls.name.value)),e.R7$(6),e.FS9("placeholder",e.bMT(10,25,"lang_auto_tu")),e.Y8G("ngxMatTimepicker",p)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",L)("enableKeyboardInput",!0)("cancelBtnTmpl",T)("confirmBtnTmpl",M),e.R7$(5),e.FS9("placeholder",e.bMT(17,27,"lang_auto_den")),e.Y8G("ngxMatTimepicker",k)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",L)("enableKeyboardInput",!0)("cancelBtnTmpl",T)("confirmBtnTmpl",M),e.R7$(10),e.Y8G("ngIf",rt.errors&&rt.errors.invalidInfrastructure&&!rt.controls.infrastructureId.touched),e.R7$(1),e.Y8G("value",rt.controls.infrastructureId.value),e.R7$(1),e.Y8G("ngForOf",It.listInfrastructureObjs),e.R7$(1),e.Y8G("ngIf",rt.errors&&rt.errors.requireTime),e.R7$(1),e.Y8G("ngIf",rt.errors&&rt.errors.invalidTime),e.R7$(1),e.Y8G("ngIf",rt.errors&&rt.errors.invalidInfrastructure)}}function Kt(f,z){if(1&f&&(e.qex(0),e.DNE(1,fe,5,4,"ng-container",19),e.DNE(2,Mt,34,31,"div",60),e.bVm()),2&f){const p=z.$implicit;e.R7$(1),e.Y8G("ngIf",!p.controls.selected.value),e.R7$(1),e.Y8G("ngIf",p.controls.selected.value)}}function Pt(f,z){1&f&&(e.qex(0),e.j41(1,"small",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Zt(f,z){1&f&&e.nrm(0,"azt-loading-ui",91)}function Ce(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",88)(1,"button",89),e.bIt("click",function(){e.eBV(p);const T=e.XpG(2);return e.Njj(T.saveEducationalProgram())}),e.DNE(2,Zt,1,0,"azt-loading-ui",90),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(2);e.R7$(1),e.Y8G("disabled",p.form.invalid||p.isSavingProgram),e.R7$(1),e.Y8G("ngIf",p.isSavingProgram),e.R7$(1),e.SpI(" ",e.bMT(4,3,"lang_auto_luu")," ")}}const ne=function(f){return{"mt-2":f}},ce=function(){return{"width.px":"auto","height.%":100}},Ae=function(f){return[f]},ge=function(f){return{backTo:f}},Ee=function(f,z){return{hiddenVisible:f,visibleIpt:z}};function en(f,z){if(1&f){const p=e.RV6();e.DNE(0,pt,6,4,"button",5),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e.EFF(7,"1"),e.k0s()(),e.j41(8,"span",12),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"lucide-icon",13),e.bIt("click",function(){e.eBV(p);const T=e.XpG();return e.Njj(T.reloadAllEducationalProgram())}),e.k0s()(),e.j41(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.DNE(16,ye,8,6,"ng-container",18),e.DNE(17,je,4,3,"ng-container",19),e.DNE(18,Oe,4,3,"ng-container",19),e.k0s()()(),e.j41(19,"div",17)(20,"a",20),e.nI1(21,"navigationLocalize"),e.qSk(),e.j41(22,"svg",21),e.nrm(23,"line",22)(24,"line",23),e.k0s(),e.joV(),e.j41(25,"span",24),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()()()()(),e.j41(28,"div",8)(29,"div",9)(30,"div",10)(31,"h3",11),e.EFF(32,"2"),e.k0s()(),e.j41(33,"span",25),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s()(),e.j41(36,"div",26)(37,"div",27)(38,"ng-scrollbar",16)(39,"div",28),e.DNE(40,Kt,3,2,"ng-container",18),e.k0s()()()()(),e.j41(41,"div",8)(42,"div",9)(43,"div",10)(44,"h3",11),e.EFF(45,"3"),e.k0s()(),e.j41(46,"span",25),e.EFF(47),e.nI1(48,"mytranslate"),e.k0s()(),e.j41(49,"div",29)(50,"div",30)(51,"ng-scrollbar",16)(52,"div",31)(53,"mat-form-field",32)(54,"input",33),e.bIt("click",function(){e.eBV(p);const T=e.XpG();return e.Njj(T.openDateTimePicker(1))}),e.k0s(),e.j41(55,"button",34),e.bIt("click",function(T){return e.eBV(p),e.XpG().openDateTimePicker(1),e.Njj(T.stopPropagation())}),e.nrm(56,"lucide-icon",35),e.k0s(),e.j41(57,"ngx-mat-datetime-picker",36,37)(59,"ngx-mat-datepicker-actions")(60,"button",38),e.EFF(61),e.nI1(62,"mytranslate"),e.k0s(),e.j41(63,"button",39),e.EFF(64,"OK"),e.k0s()()()(),e.DNE(65,Pt,4,3,"ng-container",19),e.k0s()()(),e.DNE(66,Ce,5,5,"div",40),e.k0s()()()()}if(2&f){const p=e.sdS(58),k=e.XpG();e.Y8G("ngIf",k.programObj),e.R7$(2),e.Y8G("ngClass",e.eq3(39,ne,k.programObj)),e.R7$(7),e.JRh(e.bMT(10,27,"lang_config_educational_program_select_new")),e.R7$(5),e.Y8G("visibility","hover")("ngStyle",e.lJ4(41,ce)),e.R7$(2),e.Y8G("ngForOf",k.listEducationalProgramObjs),e.R7$(1),e.Y8G("ngIf",!k.form.controls.chooseProgramId.value&&k.listEducationalProgramObjs.length>0),e.R7$(1),e.Y8G("ngIf",!k.listEducationalProgramObjs.length),e.R7$(2),e.Y8G("routerLink",e.eq3(42,Ae,e.bMT(21,29,"/business/create-general-educational-program")))("queryParams",e.eq3(44,ge,k.currentURL)),e.R7$(6),e.JRh(e.bMT(27,31,"lang_config_educational_program_add_new")),e.R7$(8),e.JRh(e.bMT(35,33,"lang_config_educational_program_add_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(46,Ee,k.form.controls.stepChoose.value<2,k.form.controls.stepChoose.value>=2)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(49,ce)),e.R7$(2),e.Y8G("ngForOf",k.form.controls.weekdayConfig.controls),e.R7$(7),e.JRh(e.bMT(48,35,"lang_config_educational_program_add_start_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(50,Ee,k.form.controls.stepChoose.value<3,k.form.controls.stepChoose.value>=3)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(53,ce)),e.R7$(3),e.Y8G("max",k.maxDate)("ngxMatDatetimePicker",p),e.R7$(3),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(4),e.JRh(e.bMT(62,37,"lang_auto_dong")),e.R7$(4),e.Y8G("ngIf",k.form.controls.startTimeEducationalProgram.invalid),e.R7$(1),e.Y8G("ngIf",!k.statusObj.loading)}}let P=(()=>{class f extends o.H{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(k=>{k.id==p&&(k.showChild=!k.showChild,k.showChild||k.subjects.forEach(T=>{T.children?.find(M=>M.id==this.form.controls.chooseProgramId.value)&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0))}))}),this.initForm()}selectSubject(p,k,T){this.listEducationalProgramObjs.forEach(M=>{M.id==p?M.subjects.forEach(L=>{L.id==k?L.children?.forEach(rt=>{rt.id==T.id?(rt.selected=!rt.selected,this.form.controls.chooseProgramId.setValue(rt.selected?T.id:0),this.form.controls.stepChoose.setValue(rt.selected?2:1)):rt.selected=!1}):L.children?.map(rt=>rt.selected=!1)}):M.subjects.map(L=>L.children?.map(rt=>rt.selected=!1))})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(k=>{k.controls.id.value==p&&k.controls.selected.setValue(!k.controls.selected.value)})}touchedMatSelect(p,k){p?k.controls.infrastructureId.markAsTouched():k.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p).subscribe({next:k=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:k=>{this.isSavingProgram=!1,this.errorStatusObj(k.error.message,!0)}}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(k=>{if(k.controls.selected.value){let T={days:k.controls.id.value,fromHour:new Date("1970-01-01T"+k.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+k.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+k.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+k.controls.endTime.value).getMinutes(),roomId:k.controls.infrastructureId.value};p.push(T)}}),p}convertSubjectList(p,k){let T=[];return p.forEach(M=>{if(M.schoolLevelId==k)if(T.filter(rt=>rt.id==M.schoolSubjectId&&rt.levelId==M.schoolLevelId).length)T.forEach(rt=>{rt.id==M.schoolSubjectId&&rt.levelId==M.schoolLevelId&&(rt.children?.find(It=>It==M)||rt.children?.push(M))});else{let rt={id:M.schoolSubjectId,levelId:M.schoolLevelId,name:this.schoolSubjectObjs.find(It=>It.id==M.schoolSubjectId)?.name,children:[M]};T.push(rt)}}),T}convertProgramInfo(p){let k=[],T=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",M=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(L=>{if(L.name=`${L.name} (${L.totalSession} ${M})`,!k.filter(It=>It.id==L.schoolLevelId).length){let It={id:L.schoolLevelId,name:T+" "+L.schoolLevelId,subjects:this.convertSubjectList(p,L.schoolLevelId),showChild:!1};k.push(It)}}),k.sort((L,rt)=>(rt.id??0)-(L.id??0))}convertListInfrastructure(p){let k=[],T=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(M=>{M.name=`${M.infrastructure?.name??""} - ${M.name} (${M.numberSeat} ${T})`,k.push(M)}),k}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:p=>{this.listInfrastructureObjs=this.convertListInfrastructure(p.list),this.stopStatusObj()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let k=new V.gE({id:new V.MJ(p,{nonNullable:!0}),name:new V.MJ("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new V.MJ("",{nonNullable:!0}),endTime:new V.MJ("",{nonNullable:!0}),infrastructureId:new V.MJ(0,{nonNullable:!0}),selected:new V.MJ(!1,{nonNullable:!0}),invalidTime:new V.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(k)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:p=>{this.listEducationalProgramObjs=this.convertProgramInfo(p.list),this.getAllInfrastructure()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(p.data?.schoolLevelSubjectObjs.map(k=>k.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(k=>k.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,k,T,M,L,rt,It){super(),this.cd=p,this.timeService=k,this.classroomService=T,this.programService=M,this.infrastructureService=L,this.sAZTranslateService=rt,this.commonListService=It,this.saveEducationalProgramEmit=new e.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=me.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new V.gE({chooseProgramId:new V.MJ(0,{nonNullable:!0,validators:[V.k0.required,V.k0.min(1)]}),startTimeEducationalProgram:new V.MJ("",{nonNullable:!0,validators:[V.k0.required]}),weekdayConfig:new V.Yp([]),stepChoose:new V.MJ(1,{nonNullable:!0})},{validators:[le.addNewEducationalProgramFormValidator]}),this.initForm()}static#t=this.\u0275fac=function(k){return new(k||f)(e.rXU(e.gRc),e.rXU(x.F),e.rXU(t.zS),e.rXU(t.sC),e.rXU(t.BU),e.rXU(ee.o),e.rXU(Qt.Nz))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-add-new-educational-program"]],viewQuery:function(k,T){if(1&k&&e.GBs(B,5),2&k){let M;e.mGM(M=e.lsd())&&(T.startTime=M.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e.Jv_([{provide:D.$O,useClass:Yt.fb,deps:[Ft.Ju,ht.ij]},{provide:D.vq,useFactory:Jt.In,deps:[x.F]}]),e.Vt3],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",1,"ml-2","clickable",2,"vertical-align","baseline !important","width","18px !important","height","18px !important",3,"click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","check-square","class","text-primary","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","check-square",1,"text-primary",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","check-square",1,"text-primary","ml-2","clickable","change-block-hidden",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","check-square",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(k,T){if(1&k&&(e.j41(0,"div",0)(1,"form",1),e.DNE(2,$,1,1,"azt-loading-effect",2),e.DNE(3,en,67,54,"ng-template",null,3,e.C5r),e.k0s()()),2&k){const M=e.sdS(4);e.R7$(1),e.Y8G("formGroup",T.form),e.R7$(1),e.Y8G("ngIf",T.statusObj.loading)("ngIfElse",M)}},dependencies:[H.Wk,v.YU,v.Sq,v.bT,v.B3,Ft.wT,jt.$z,Lt.fg,kt.rl,kt.nJ,kt.yw,Ot.VO,D.m7,D.yF,D.HF,D.gx,D.Uq,Ct.gu,Ct.wn,V.qT,V.me,V.BC,V.cb,V.j4,V.JD,V.v8,a.K,Ut.t,mt.R,U.WGl,ut.Yh,K.F2,K.wp],encapsulation:2})}return f})();function xt(f,z){if(1&f&&(e.qex(0),e.j41(1,"p",5),e.EFF(2),e.k0s(),e.bVm()),2&f){const p=z.$implicit;e.R7$(2),e.SpI("",p.content," ")}}function I(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(p);const T=e.XpG(2);return e.Njj(T.editContent())}),e.qSk(),e.j41(1,"svg",7),e.nrm(2,"path",8)(3,"path",9),e.k0s()()}}function X(f,z){if(1&f&&(e.j41(0,"div",2)(1,"div"),e.DNE(2,xt,3,1,"ng-container",3),e.k0s(),e.DNE(3,I,4,0,"div",4),e.k0s()),2&f){const p=e.XpG();e.R7$(2),e.Y8G("ngForOf",p.contents),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function Y(f,z){if(1&f){const p=e.RV6();e.j41(0,"button",22),e.nI1(1,"mytranslate"),e.qSk(),e.j41(2,"svg",23),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.removeContent(T))}),e.nrm(3,"path",24)(4,"path",25),e.k0s()()}if(2&f){const p=e.XpG(3);e.FS9("matTooltip",e.bMT(1,2,"lang_button_delete")),e.Y8G("disabled",p.statusObj.loading)}}function gt(f,z){1&f&&(e.j41(0,"div",26)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&f&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function j(f,z){if(1&f&&(e.j41(0,"div")(1,"div",18),e.nrm(2,"input",19),e.nI1(3,"mytranslate"),e.DNE(4,Y,5,4,"button",20),e.k0s(),e.DNE(5,gt,4,3,"div",21),e.k0s()),2&f){const p=z.$implicit,k=e.XpG(2);e.R7$(2),e.FS9("placeholder",e.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Y8G("formControl",p.controls.content)("disabled",k.statusObj.loading),e.R7$(2),e.Y8G("ngIf",k.listFormContent.controls.length>1),e.R7$(1),e.Y8G("ngIf",p.controls.content.errors)}}function Tt(f,z){1&f&&e.nrm(0,"azt-loading-ui",27)}function O(f,z){1&f&&(e.qSk(),e.j41(0,"svg",28),e.nrm(1,"path",29)(2,"polyline",30)(3,"polyline",31),e.k0s())}const E=function(){return[]};function y(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",10),e.DNE(1,j,6,7,"div",3),e.j41(2,"div",11)(3,"button",12),e.bIt("click",function(){e.eBV(p);const T=e.XpG();return e.Njj(T.viewContent())}),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"button",13),e.bIt("click",function(){e.eBV(p);const T=e.XpG();return e.Njj(T.addContent())}),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"button",14),e.bIt("click",function(){e.eBV(p);const T=e.XpG();return e.Njj(T.saveContent())}),e.DNE(10,Tt,1,0,"azt-loading-ui",15),e.DNE(11,O,4,0,"svg",16),e.j41(12,"span",17),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()()}if(2&f){const p=e.XpG();let k;e.R7$(1),e.Y8G("ngForOf",null!==(k=null==p.listFormContent?null:p.listFormContent.controls)&&void 0!==k?k:e.lJ4(15,E)),e.R7$(2),e.Y8G("disabled",p.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(5,9,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(1),e.SpI(" + ",e.bMT(8,11,"lang_button_add")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(1),e.Y8G("ngIf",p.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!p.statusObj.loading),e.R7$(2),e.SpI(" ",e.bMT(14,13,"lang_button_save")," ")}}let vt=(()=>{class f extends o.H{isEmptyContent(){return!!this.listFormContent.controls.find(p=>p.controls.content.errors)}editContent(){this.listFormContent=new V.Yp(this.contents.map(p=>new V.gE({contentId:new V.MJ(p.id,{nonNullable:!0,validators:[V.k0.required]}),content:new V.MJ(p.content,{nonNullable:!0,validators:[V.k0.required]})})))}addContent(){var p=this.listFormContent.controls.map(k=>k.getRawValue().contentId);this.listFormContent.controls.push(new V.gE({contentId:new V.MJ(this.commonService.getVirtualIdWithoutInList(!0,p),{nonNullable:!0,validators:[V.k0.required]}),content:new V.MJ("",{nonNullable:!0,validators:[V.k0.required]})}))}removeContent(p){this.listFormContent.controls=this.listFormContent.controls.filter(k=>k!=p)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let p={contents:this.listFormContent?.controls.map(k=>({id:k.getRawValue().contentId<0?0:k.getRawValue().contentId,content:k.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,p).subscribe({next:k=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:k=>{this.errorStatusObj(k.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.classroomService=p,this.contents=[],this.close=new e.bkB,this.listFormContent=new V.Yp([])}static#t=this.\u0275fac=function(k){return new(k||f)(e.rXU(t.zS))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e.Jv_([{provide:D.$O,useClass:Yt.fb,deps:[Ft.Ju,ht.ij]},{provide:D.vq,useFactory:Jt.In,deps:[x.F]}]),e.Vt3],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil","zoom-in"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],["style","height: 16px; width: 16px;",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-save",4,"ngIf"],[1,"ml-2"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","btn-clear-form-content",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[2,"height","16px","width","16px"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-save"],["d","M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"],["points","17 21 17 13 7 13 7 21"],["points","7 3 7 8 15 8"]],template:function(k,T){1&k&&(e.DNE(0,X,4,2,"div",0),e.DNE(1,y,15,16,"div",1)),2&k&&(e.Y8G("ngIf",0==T.listFormContent.controls.length),e.R7$(1),e.Y8G("ngIf",T.listFormContent.controls.length>0))},dependencies:[v.Sq,v.bT,dt.oV,V.me,V.BC,V.l_,mt.R,K.wp],encapsulation:2})}return f})();function Dt(f,z){if(1&f&&(e.j41(0,"div",3),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,p.errorApiMessage)," ")}}function nn(f,z){if(1&f){const p=e.RV6();e.j41(0,"app-add-new-educational-program",6),e.bIt("saveEducationalProgramEmit",function(T){e.eBV(p);const M=e.XpG(2);return e.Njj(M.emitDataReloadSession(T))}),e.k0s()}if(2&f){const p=e.XpG(2);e.Y8G("classroomId",p.classroomId)("programObj",p.programObj)}}function Me(f,z){if(1&f){const p=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(p);const T=e.XpG(3);return e.Njj(T.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",13),e.j41(2,"span",14),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_educational_program_select_another")))}function cn(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",17)(1,"a",18),e.bIt("auxclick",function(T){const L=e.eBV(p).$implicit,rt=e.XpG(4);return e.Njj(rt.previewFile(L,T))})("click",function(T){const L=e.eBV(p).$implicit,rt=e.XpG(4);return e.Njj(rt.previewFile(L,T))}),e.nrm(2,"azt-document-type-file",19),e.k0s()()}if(2&f){const p=z.$implicit;let k;e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(k=p.name)&&void 0!==k?k:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function Fe(f,z){if(1&f&&(e.qex(0),e.j41(1,"div",15),e.DNE(2,cn,3,5,"div",16),e.k0s(),e.bVm()),2&f){const p=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",p.generalDocumentObjs)}}function bn(f,z){1&f&&e.nrm(0,"lucide-icon",24)}function Re(f,z){1&f&&e.nrm(0,"lucide-icon",25)}function q(f,z){1&f&&(e.j41(0,"button",34),e.nrm(1,"lucide-icon",35),e.j41(2,"span",14),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_student_absence")))}function wn(f,z){1&f&&(e.j41(0,"button",36),e.nrm(1,"lucide-icon",35),e.k0s())}function Ue(f,z){if(1&f&&(e.j41(0,"div",31),e.DNE(1,q,5,3,"button",32),e.nI1(2,"async"),e.nI1(3,"allowFeatureBusinessForUser"),e.DNE(4,wn,2,0,"button",33),e.nI1(5,"async"),e.nI1(6,"allowFeatureBusinessForUser"),e.k0s()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(2,2,e.brH(3,4,"","training_center_student_attendance",!0))),e.R7$(3),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(5,8,e.brH(6,10,"","training_center_student_attendance",!0)))}}function Le(f,z){if(1&f&&(e.qex(0),e.j41(1,"span",42),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const he=function(f){return{"text-slate-700":f}};function En(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",37),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(5);return e.Njj(M.expandSessionObj(T))}),e.j41(1,"div",38)(2,"h3",39)(3,"span",40),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",41),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,Le,4,3,"ng-container",5),e.k0s()()}if(2&f){const p=e.XpG().$implicit;e.R7$(3),e.Y8G("ngClass",e.eq3(8,he,p.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,4,"lang_core_buoi")+" "+p.sort),e.R7$(3),e.JRh(e.bMT(8,6,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.R7$(2),e.Y8G("ngIf",p.room)}}function vn(f,z){if(1&f&&(e.qex(0),e.j41(1,"span",60),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const Be=function(f,z){return{"text-slate-600":f,"text-warning":z}};function kn(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",49)(1,"div",50)(2,"span",51),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"app-education-program-session-content-form",61),e.bIt("close",function(T){e.eBV(p);const M=e.XpG(2).$implicit,L=e.XpG(5);return e.Njj(L.reloadData(T,M))}),e.k0s()()}if(2&f){const p=e.XpG(2).$implicit,k=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(8,Be,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(4,6,"lang_auto_noi_dung")),e.R7$(2),e.Y8G("contents",p.contents)("teacherRole",k.teacherRole)("classroomId",k.classroomId)("sessionId",p.id)}}function on(f,z){1&f&&(e.qex(0),e.j41(1,"div",73),e.nrm(2,"img",74),e.nI1(3,"convertCdnLinkOfGitHub"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.Y8G("src",e.bMT(3,1,"images/type_file/unknown-file.svg"),e.B4B))}function mn(f,z){1&f&&(e.qex(0),e.j41(1,"div",75),e.nrm(2,"lucide-icon",76),e.k0s(),e.bVm())}function xn(f,z){1&f&&(e.qex(0),e.j41(1,"div",77),e.nrm(2,"lucide-icon",78),e.k0s(),e.bVm())}function dn(f,z){if(1&f&&(e.j41(0,"small",79),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.E5c(" ",e.bMT(2,3,"lang_auto_da_nop"),":\xa0",p.totalFinish,"/",p.totalAttendee," ")}}const C=function(f,z){return{"text-success":f,"text-slate-700/50":z}};function ct(f,z){if(1&f&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG().$implicit;e.Y8G("ngClass",e.l_i(4,C,p.totalFinish,!p.totalFinish)),e.R7$(1),e.SpI(" ",e.bMT(2,2,p.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function b(f,z){if(1&f){const p=e.RV6();e.j41(0,"small",81),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"button",82),e.bIt("click",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(2).$implicit;return e.XpG(5).editMarkCoefficient(M,L),T.stopPropagation(),e.Njj(T.preventDefault())}),e.nI1(4,"mytranslate"),e.nrm(5,"lucide-icon",83),e.k0s()()}if(2&f){const p=e.XpG().$implicit;e.R7$(1),e.Lme(" ",e.bMT(2,3,"lang_student_score_factor"),":\xa0",p.markCoefficient," "),e.R7$(2),e.FS9("matTooltip",e.bMT(4,5,"lang_student_edit_mark_coefficient"))}}const R=function(f){return[f]},G=function(f){return{backto:f}};function St(f,z){if(1&f&&(e.j41(0,"div",62)(1,"a",63),e.nI1(2,"navigationLocalize"),e.j41(3,"div",64)(4,"div",65),e.DNE(5,on,4,3,"ng-container",5),e.DNE(6,mn,3,0,"ng-container",5),e.DNE(7,xn,3,0,"ng-container",5),e.k0s(),e.j41(8,"div",66)(9,"div",67)(10,"span",68,69),e.EFF(12),e.k0s(),e.DNE(13,dn,3,5,"small",70),e.DNE(14,ct,3,7,"small",71),e.DNE(15,b,6,7,"small",72),e.k0s()()()()()),2&f){const p=z.$implicit,k=e.sdS(11),T=e.XpG(7);let M;e.R7$(1),e.Y8G("routerLink",e.eq3(14,R,e.bMT(2,12,p.documentType==T.allDocumentTypes.exam?T.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(M=p.categoryId)&&void 0!==M?M:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:T.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(M=p.classroomId)&&void 0!==M?M:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.eq3(16,G,T.currentUrl)),e.R7$(4),e.Y8G("ngIf",!p.type),e.R7$(1),e.Y8G("ngIf","exam"==p.type),e.R7$(1),e.Y8G("ngIf","homework"==p.type),e.R7$(3),e.FS9("matTooltip",p.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",k.isDisabled),e.R7$(2),e.SpI(" ",p.name," "),e.R7$(1),e.Y8G("ngIf",T.teacherRole),e.R7$(1),e.Y8G("ngIf",!T.teacherRole),e.R7$(1),e.Y8G("ngIf",T.teacherRole)}}const At=function(f,z,p,k,T,M){return{backto:f,classroomId:z,programId:p,sessionId:k,levelId:T,subjectId:M}},Ve=function(f,z){return{"text-slate-600":f,"btn-text-primary":z}};function Cn(f,z){if(1&f&&(e.j41(0,"a",84),e.nI1(1,"navigationLocalize"),e.j41(2,"span",85),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(2).$implicit,k=e.XpG(5);let T;e.Y8G("routerLink",e.eq3(8,R,e.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.l4e(10,At,k.currentUrl,k.classroomId,p.programId,p.id,null!==(T=null==k.programObj?null:k.programObj.schoolLevelId)&&void 0!==T?T:0,null!==(T=null==k.programObj?null:k.programObj.schoolSubjectId)&&void 0!==T?T:0))("ngClass",e.l_i(17,Ve,p.outOfDate,!p.outOfDate)),e.R7$(3),e.SpI("+ ",e.bMT(4,6,"lang_business_assign_exams"),"")}}function _i(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",102)(1,"a",103),e.bIt("click",function(T){e.eBV(p);const M=e.XpG(2).$implicit,L=e.XpG(3).$implicit,rt=e.XpG(4).$implicit;let Nt;return e.XpG(5).removeDocumentFromSession(rt,null!==(Nt=M.sessionId)&&void 0!==Nt?Nt:0,M.id,L),T.preventDefault(),e.Njj(T.stopPropagation())}),e.nrm(2,"lucide-icon",104),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Yn(f,z){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",99),e.bIt("auxclick",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))})("click",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))}),e.nrm(2,"azt-document-type-file",100),e.DNE(3,_i,4,3,"div",101),e.k0s()()}if(2&f){const p=e.XpG().$implicit,k=e.XpG(12);let T;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(T=p.name)&&void 0!==T?T:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",k.teacherRole)}}function ui(f,z){if(1&f&&(e.qex(0),e.DNE(1,Yn,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.video)}}const Tn=function(f){return{"dropdown-menu-scroll":f}};function Gi(f,z){if(1&f&&(e.qex(0),e.j41(1,"h3",92)(2,"span",93),e.nrm(3,"lucide-icon",94),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",95,96)(8,"div",97)(9,"ul",98),e.DNE(10,ui,2,1,"ng-container",11),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),k=e.XpG(2).$implicit,T=e.XpG(4).last,M=e.XpG(2).last;e.R7$(1),e.Y8G("matMenuTriggerFor",k.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_config_educational_program_"+k.name),""," ("+k.documentObjs.length+")"," "),e.R7$(5),e.Y8G("ngClass",e.eq3(7,Tn,M&&T||k.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",k.documentObjs)}}function pi(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",102)(1,"a",107),e.bIt("click",function(T){e.eBV(p);const M=e.XpG(2).$implicit,L=e.XpG(3).$implicit,rt=e.XpG(4).$implicit;let Nt;return e.XpG(5).removeDocumentFromSession(rt,null!==(Nt=M.sessionId)&&void 0!==Nt?Nt:0,M.id,L),T.preventDefault(),e.Njj(T.stopPropagation())}),e.nrm(2,"lucide-icon",104),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function gi(f,z){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",106),e.bIt("auxclick",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))})("click",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))}),e.nrm(2,"azt-document-type-file",100),e.DNE(3,pi,4,3,"div",101),e.k0s()()}if(2&f){const p=e.XpG().$implicit,k=e.XpG(12);let T;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(T=p.name)&&void 0!==T?T:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",k.teacherRole)}}function Un(f,z){if(1&f&&(e.qex(0),e.DNE(1,gi,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.document)}}function hi(f,z){if(1&f&&(e.qex(0),e.j41(1,"h3",92)(2,"span",93),e.nrm(3,"lucide-icon",94),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",95,105)(8,"div",97)(9,"ul",98),e.DNE(10,Un,2,1,"ng-container",11),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),k=e.XpG(2).$implicit,T=e.XpG(4).last,M=e.XpG(2).last;e.R7$(1),e.Y8G("matMenuTriggerFor",k.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_config_educational_program_"+k.name),""," ("+k.documentObjs.length+")"," "),e.R7$(5),e.Y8G("ngClass",e.eq3(7,Tn,M&&T||k.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",k.documentObjs)}}function Ht(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",102)(1,"a",112),e.bIt("click",function(T){e.eBV(p);const M=e.XpG(2).$implicit,L=e.XpG(3).$implicit,rt=e.XpG(4).$implicit;let Nt;return e.XpG(5).removeDocumentFromSession(rt,null!==(Nt=M.sessionId)&&void 0!==Nt?Nt:0,M.id,L),T.preventDefault(),e.Njj(T.stopPropagation())}),e.nrm(2,"lucide-icon",104),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function _e(f,z){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",111),e.bIt("auxclick",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))})("click",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))}),e.nrm(2,"azt-document-type-file",100),e.DNE(3,Ht,4,3,"div",101),e.k0s()()}if(2&f){const p=e.XpG().$implicit,k=e.XpG(12);let T;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(T=p.name)&&void 0!==T?T:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",k.teacherRole)}}function De(f,z){if(1&f&&(e.qex(0),e.DNE(1,_e,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.homework)}}function Mn(f,z){if(1&f&&(e.qex(0),e.j41(1,"h3",92)(2,"span",93),e.nrm(3,"lucide-icon",108),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",109,110)(8,"div",97)(9,"ul",98),e.DNE(10,De,2,1,"ng-container",11),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),k=e.XpG(2).$implicit,T=e.XpG(4).last,M=e.XpG(2).last;e.R7$(1),e.Y8G("matMenuTriggerFor",k.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_config_educational_program_"+k.name),""," ("+k.documentObjs.length+")"," "),e.R7$(5),e.Y8G("ngClass",e.eq3(7,Tn,M&&T||k.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",k.documentObjs)}}function $i(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",102)(1,"a",116),e.bIt("click",function(T){e.eBV(p);const M=e.XpG(2).$implicit,L=e.XpG(3).$implicit,rt=e.XpG(4).$implicit;let Nt;return e.XpG(5).removeDocumentFromSession(rt,null!==(Nt=M.sessionId)&&void 0!==Nt?Nt:0,M.id,L),T.preventDefault(),e.Njj(T.stopPropagation())}),e.nrm(2,"lucide-icon",104),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Pi(f,z){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",114),e.bIt("auxclick",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))})("click",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))}),e.nrm(2,"azt-document-type-file",115),e.DNE(3,$i,4,3,"div",101),e.k0s()()}if(2&f){const p=e.XpG().$implicit,k=e.XpG(12);let T;e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(T=p.name)&&void 0!==T?T:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",k.teacherRole)}}function fi(f,z){if(1&f&&(e.qex(0),e.DNE(1,Pi,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.homework_view)}}function bi(f,z){if(1&f&&(e.qex(0),e.j41(1,"h3",92)(2,"span",93),e.nrm(3,"lucide-icon",108),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",109,113)(8,"div",97)(9,"ul",98),e.DNE(10,fi,2,1,"ng-container",11),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),k=e.XpG(2).$implicit,T=e.XpG(4).last,M=e.XpG(2).last;e.R7$(1),e.Y8G("matMenuTriggerFor",k.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_config_educational_program_"+k.name),""," ("+k.documentObjs.length+")"," "),e.R7$(5),e.Y8G("ngClass",e.eq3(7,Tn,M&&T||k.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",k.documentObjs)}}function zi(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",102)(1,"a",120),e.bIt("click",function(T){e.eBV(p);const M=e.XpG(2).$implicit,L=e.XpG(3).$implicit,rt=e.XpG(4).$implicit;let Nt;return e.XpG(5).removeDocumentFromSession(rt,null!==(Nt=M.sessionId)&&void 0!==Nt?Nt:0,M.id,L),T.preventDefault(),e.Njj(T.stopPropagation())}),e.nrm(2,"lucide-icon",104),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function vi(f,z){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",119),e.bIt("auxclick",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))})("click",function(T){e.eBV(p);const M=e.XpG().$implicit,L=e.XpG(12);return e.Njj(L.previewFile(M,T))}),e.nrm(2,"azt-document-type-file",115),e.DNE(3,zi,4,3,"div",101),e.k0s()()}if(2&f){const p=e.XpG().$implicit,k=e.XpG(12);let T;e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(T=p.name)&&void 0!==T?T:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",k.teacherRole)}}function Ai(f,z){if(1&f&&(e.qex(0),e.DNE(1,vi,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.unknown)}}function Xn(f,z){if(1&f&&(e.qex(0),e.j41(1,"h3",92)(2,"span",93),e.nrm(3,"lucide-icon",94),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",109,117)(8,"div",118)(9,"ul",98),e.DNE(10,Ai,2,1,"ng-container",11),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),k=e.XpG(2).$implicit,T=e.XpG(4).last,M=e.XpG(2).last;e.R7$(1),e.Y8G("matMenuTriggerFor",p),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_config_educational_program_"+k.name),""," ("+k.documentObjs.length+")"," "),e.R7$(5),e.Y8G("ngClass",e.eq3(7,Tn,M&&T||k.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",k.documentObjs)}}function Te(f,z){if(1&f&&(e.j41(0,"div",91),e.DNE(1,Gi,11,9,"ng-container",5),e.DNE(2,hi,11,9,"ng-container",5),e.DNE(3,Mn,11,9,"ng-container",5),e.DNE(4,bi,11,9,"ng-container",5),e.DNE(5,Xn,11,9,"ng-container",5),e.k0s()),2&f){const p=e.XpG().$implicit,k=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.video),e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.document),e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.homework),e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.homework_view),e.R7$(1),e.Y8G("ngIf",p.name==k.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function Li(f,z){if(1&f&&(e.qex(0),e.DNE(1,Te,6,5,"div",90),e.bVm()),2&f){const p=z.$implicit,k=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name!=k.allDocumentGroupTypes.unknown||p.name==k.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function qt(f,z){if(1&f&&(e.qex(0),e.DNE(1,Li,2,1,"ng-container",11),e.bVm()),2&f){const p=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngForOf",p.groupDocumentObjs)}}function Xe(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",102)(1,"a",125),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(4).$implicit,L=e.XpG(5);let rt;return e.Njj(L.removeDocumentFromSession(M,null!==(rt=T.sessionId)&&void 0!==rt?rt:0,T.id))}),e.nrm(2,"lucide-icon",104),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function He(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",122)(1,"a",123),e.bIt("auxclick",function(T){const L=e.eBV(p).$implicit,rt=e.XpG(9);return e.Njj(rt.previewFile(L,T))})("click",function(T){const L=e.eBV(p).$implicit,rt=e.XpG(9);return e.Njj(rt.previewFile(L,T))}),e.nrm(2,"azt-document-type-file",124),e.k0s(),e.DNE(3,Xe,4,3,"div",101),e.k0s()}if(2&f){const p=z.$implicit,k=e.XpG(9);let T;e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(T=p.name)&&void 0!==T?T:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",k.teacherRole)}}function Hn(f,z){if(1&f&&e.DNE(0,He,4,5,"div",121),2&f){const p=e.XpG(3).$implicit;e.Y8G("ngForOf",p.normalDocumentObjs)}}function Wn(f,z){if(1&f){const p=e.RV6();e.j41(0,"app-upload-document-for-session",126),e.bIt("emitFileDocument",function(T){e.eBV(p);const M=e.XpG(3).$implicit,L=e.XpG(5);return e.Njj(L.uploadFileEmitted(T,M))}),e.j41(1,"span",85),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(3).$implicit;e.Y8G("isBtn",!0)("customClass",p.outOfDate?"text-slate-600":"text-primary"),e.R7$(2),e.JRh(e.bMT(3,3,"lang_educational_program_add_document"))}}function Sn(f,z){if(1&f&&(e.j41(0,"div",53),e.DNE(1,qt,2,1,"ng-container",86),e.DNE(2,Hn,1,1,"ng-template",null,87,e.C5r),e.j41(4,"div",88),e.DNE(5,Wn,4,5,"app-upload-document-for-session",89),e.k0s()()),2&f){const p=e.sdS(3),k=e.XpG(2).$implicit,T=e.XpG(5);e.R7$(1),e.Y8G("ngIf",k.groupDocumentObjs.length)("ngIfElse",p),e.R7$(4),e.Y8G("ngIf",T.teacherRole)}}function _n(f,z){1&f&&(e.j41(0,"div",127)(1,"div",128)(2,"span",129),e.nrm(3,"azt-loading-ui",130),e.k0s()()()),2&f&&(e.R7$(3),e.Y8G("type","oval"))}function Fn(f,z){if(1&f&&(e.j41(0,"a",138),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",139),e.j41(3,"span",137),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(5);e.Y8G("routerLink",e.eq3(8,R,e.bMT(1,4,"/admin/student/attendance-student/"+k.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(10,G,"/admin/student/classroom-details/"+k.classroomId+"/3?sessionId="+p.id+"&backto="+k.backLink)),e.R7$(4),e.Lme("",e.bMT(5,6,"lang_student_attendance_student"),""," ("+p.totalJoinedStudent+"/"+p.totalStudent+")","")}}function Rn(f,z){if(1&f&&(e.j41(0,"a",140),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",141),e.j41(3,"span",137),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(5);e.Y8G("routerLink",e.eq3(7,R,e.bMT(1,3,"/admin/student/distribute-document/"+k.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(9,G,"/admin/student/classroom-details/"+k.classroomId+"/3?sessionId="+p.id+"&backto="+k.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_distribute_books"))}}function ki(f,z){if(1&f&&(e.j41(0,"a",142),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",143),e.j41(3,"span",137),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,k=e.XpG(5);e.Y8G("routerLink",e.eq3(7,R,e.bMT(1,3,"/admin/student/submit-score/"+k.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(9,G,"/admin/student/classroom-details/"+k.classroomId+"/3?sessionId="+p.id+"&backto="+k.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_enter_score"))}}function We(f,z){if(1&f&&(e.j41(0,"div",56)(1,"div",50)(2,"span",51),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",131),e.DNE(6,Fn,6,12,"a",132),e.nI1(7,"async"),e.nI1(8,"allowFeatureBusinessForUser"),e.DNE(9,Rn,6,11,"a",133),e.nI1(10,"async"),e.nI1(11,"allowFeatureBusinessForUser"),e.DNE(12,ki,6,11,"a",134),e.nI1(13,"async"),e.nI1(14,"allowFeatureBusinessForUser"),e.j41(15,"a",135),e.nI1(16,"navigationLocalize"),e.nrm(17,"lucide-icon",136),e.j41(18,"span",137),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&f){const p=e.XpG(2).$implicit,k=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(32,Be,p.outOfDate,!p.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,8,"lang_auto_hanh_dong")," "),e.R7$(3),e.Y8G("ngIf",e.bMT(7,10,e.brH(8,12,"","training_center_student_attendance",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(10,16,e.brH(11,18,"","training_center_student_book",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(13,22,e.brH(14,24,"","training_center_student_mark",!1))),e.R7$(3),e.Y8G("routerLink",e.eq3(35,R,e.bMT(16,28,"/admin/student/add-comment/"+k.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(37,G,"/admin/student/classroom-details/"+k.classroomId+"/3?sessionId="+p.id+"&backto="+k.backLink)),e.R7$(4),e.JRh(e.bMT(20,30,"lang_auto_nhap_nhan_xet"))}}function Jn(f,z){if(1&f&&(e.j41(0,"div",56)(1,"div",50)(2,"span",51),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",131)(6,"div",144)(7,"span"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"span",145),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()()()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.Y8G("ngClass",e.l_i(10,Be,p.outOfDate,!p.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,4,"lang_auto_hanh_dong")," "),e.R7$(5),e.JRh(e.bMT(9,6,"lang_business_requested_leave_with_a_reason")),e.R7$(3),e.JRh(null!=p.studentAttendance&&p.studentAttendance.reason?null==p.studentAttendance?null:p.studentAttendance.reason:e.bMT(12,8,"lang_student_absence_no_reason"))}}function xi(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",43)(1,"div",44),e.bIt("click",function(){e.eBV(p);const T=e.XpG().$implicit,M=e.XpG(5);return e.Njj(M.expandSessionObj(T))}),e.j41(2,"h3",45)(3,"span",46),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",47),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,vn,4,3,"ng-container",5),e.k0s(),e.DNE(10,kn,6,11,"div",48),e.j41(11,"div",49)(12,"div",50)(13,"span",51),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.j41(16,"div",52)(17,"div",53),e.DNE(18,St,16,18,"div",54),e.DNE(19,Cn,5,20,"a",55),e.k0s()()(),e.j41(20,"div",56)(21,"div",50)(22,"span",51),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()(),e.j41(25,"div",52),e.DNE(26,Sn,6,3,"div",57),e.DNE(27,_n,4,1,"div",58),e.k0s()(),e.DNE(28,We,21,39,"div",59),e.nI1(29,"async"),e.nI1(30,"allowFeatureBusinessForUser"),e.nI1(31,"async"),e.nI1(32,"allowFeatureBusinessForUser"),e.nI1(33,"async"),e.nI1(34,"allowFeatureBusinessForUser"),e.DNE(35,Jn,13,13,"div",59),e.nI1(36,"async"),e.nI1(37,"allowFeatureBusinessForUser"),e.k0s()}if(2&f){const p=e.XpG().$implicit,k=e.XpG(5);e.BMQ("id","session-"+p.id),e.R7$(3),e.Y8G("ngClass",e.eq3(48,he,p.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,16,"lang_core_buoi")+" "+p.sort),e.R7$(3),e.JRh(e.bMT(8,18,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.R7$(2),e.Y8G("ngIf",p.room),e.R7$(1),e.Y8G("ngIf",p.contents&&p.contents.length),e.R7$(3),e.Y8G("ngClass",e.l_i(50,Be,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),e.R7$(4),e.Y8G("ngForOf",p.examHomeworkObjs),e.R7$(1),e.Y8G("ngIf",k.teacherRole),e.R7$(3),e.Y8G("ngClass",e.l_i(53,Be,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(24,22,"lang_testbank_document_list_header_title")),e.R7$(3),e.Y8G("ngIf",!p.isDeletingDocument&&!p.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",p.isDeletingDocument||p.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",(e.bMT(29,24,e.brH(30,26,"","training_center_student_attendance",!1))||e.bMT(31,30,e.brH(32,32,"","training_center_student_book",!1))||e.bMT(33,36,e.brH(34,38,"","training_center_student_mark",!1)))&&k.teacherRole),e.R7$(7),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(36,42,e.brH(37,44,"","training_center_student_attendance",!0))&&!k.teacherRole)}}function Dn(f,z){if(1&f&&(e.j41(0,"div",27),e.DNE(1,Ue,7,14,"div",28),e.DNE(2,En,10,10,"div",29),e.DNE(3,xi,38,56,"div",30),e.k0s()),2&f){const p=z.$implicit,k=e.XpG(5);e.R7$(1),e.Y8G("ngIf",!k.teacherRole),e.R7$(1),e.Y8G("ngIf",!p.isExpanded),e.R7$(1),e.Y8G("ngIf",p.isExpanded)}}function Ci(f,z){if(1&f&&(e.qex(0),e.DNE(1,Dn,4,3,"div",26),e.bVm()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",p.programObjs)}}function Nn(f,z){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"h3",20)(2,"span",21),e.bIt("click",function(){const M=e.eBV(p).$implicit;return e.Njj(M.expand=!M.expand)}),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,bn,1,0,"lucide-icon",22),e.DNE(6,Re,1,0,"lucide-icon",23),e.k0s()(),e.DNE(7,Ci,2,1,"ng-container",5),e.bVm()}if(2&f){const p=z.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,p.monthName)," "),e.R7$(2),e.Y8G("ngIf",p.expand),e.R7$(1),e.Y8G("ngIf",!p.expand),e.R7$(1),e.Y8G("ngIf",p.expand)}}function In(f,z){if(1&f&&(e.qex(0),e.j41(1,"div",7)(2,"div",8)(3,"h3",9),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.DNE(6,Me,5,3,"button",10),e.k0s(),e.DNE(7,Fe,3,1,"ng-container",5),e.k0s(),e.qex(8),e.DNE(9,Nn,8,6,"ng-container",11),e.bVm()()),2&f){const p=e.XpG(2);e.R7$(4),e.SpI(" ",e.bMT(5,4,"lang_educational_program_general_documents")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.generalDocumentObjs.length),e.R7$(2),e.Y8G("ngForOf",p.groupProgramSessionObjs)}}function yn(f,z){1&f&&(e.j41(0,"h3",152),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}function sn(f,z){if(1&f){const p=e.RV6();e.j41(0,"button",153),e.bIt("click",function(){e.eBV(p);const T=e.XpG(4);return e.Njj(T.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",154),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_config_educational_program_select_new")))}function un(f,z){if(1&f&&(e.j41(0,"div",148)(1,"h3",149),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,yn,3,3,"h3",150),e.DNE(5,sn,5,3,"button",151),e.k0s()),2&f){const p=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function Ti(f,z){1&f&&(e.j41(0,"h3",152),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function Bi(f,z){if(1&f){const p=e.RV6();e.j41(0,"button",156),e.bIt("click",function(){e.eBV(p);const T=e.XpG(4);return e.Njj(T.editEducationalProgram())}),e.nrm(1,"lucide-icon",157),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_config_educational_program_edit_btn")))}function an(f,z){if(1&f&&(e.j41(0,"div",148)(1,"h3",149),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Ti,3,3,"h3",150),e.DNE(5,Bi,5,3,"button",155),e.k0s()),2&f){const p=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function Si(f,z){if(1&f&&(e.qex(0),e.DNE(1,un,6,5,"div",146),e.DNE(2,an,6,5,"ng-template",null,147,e.C5r),e.bVm()),2&f){const p=e.sdS(3),k=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!k.programObj)("ngIfElse",p)}}function Vi(f,z){if(1&f&&(e.DNE(0,nn,1,2,"app-add-new-educational-program",4),e.DNE(1,In,10,6,"ng-container",5),e.DNE(2,Si,4,2,"ng-container",5)),2&f){const p=e.XpG();e.Y8G("ngIf",p.showAddNewEducationalProgram),e.R7$(1),e.Y8G("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length),e.R7$(1),e.Y8G("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length<=0)}}let ue=(()=>{class f extends o.H{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,k){this.sAztDialogService.open(lt._,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:k.programId,classroomId:this.classroomId,sessionId:k.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(M=>{M&&this.reloadSessionDataOfProgram(k)})}reloadData(p,k){p&&this.reloadSessionDataOfProgram(k)}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+p)}removeDocumentFromSession(p,k,T,M){var L=(p.normalDocumentObjs.filter(It=>It.id==T)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),rt=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+L+" </div> ?";this.sAztDialogService.open(bt.u,{data:{content:rt},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(It=>{It&&(p.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,k,T).subscribe({next:Nt=>{M&&(M.documentObjs=M.documentObjs.filter(zt=>zt.id!=T)),p.normalDocumentObjs=p.normalDocumentObjs.filter(zt=>zt.id!=T),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),p.isDeletingDocument=!1},error:Nt=>{p.isDeletingDocument=!1,this.errorStatusObj(Nt.error.message,!0)}})))})}uploadFileEmitted(p,k){k.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,k.id,p).subscribe({next:T=>{this.reloadSessionDataOfProgram(k),k.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:T=>{k.isUploadingDocument=!1,this.errorStatusObj(T.error.message,!0)}}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p,k){if(this.isBusinessDomain&&p.type==r.d.video&&(0,ft.xy)(p.link??""))window.open(p.link,"_blank");else{const T={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(tt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...T,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let p=this.programSessionObjs.find(k=>k.isExpanded);if(p){let k=document.getElementById("session-"+p.id);window.scrollTo({top:k?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,k,T,M){super(),this.sAztDialogService=p,this.cd=k,this.classroomService=T,this.sAztFileTypeService=M,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.bkB,this.changeSessionDataEmitter=new e.bkB,this.allDocumentTypes=r.d,this.allDocumentGroupTypes=yt.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}static#t=this.\u0275fac=function(k){return new(k||f)(e.rXU(Z.i),e.rXU(e.gRc),e.rXU(t.zS),e.rXU(at.k))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white","style","cursor: default; align-items: baseline",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",2,"cursor","default","align-items","baseline",3,"click"],["name","refresh-cw",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",3,"matTooltip","click"],["name","square-pen","size","24"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],[1,"clickable","w-full","text-primary",2,"align-items","center"],["name","arrow-down-circle",2,"width","18px !important","height","18px !important","vertical-align","top"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show","w-80"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","arrow-down-circle","size","18"],["xPosition","before"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],[1,"dropdown-menu","show","w-72"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",1,"mr-1"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",1,"mr-1"]],template:function(k,T){if(1&k&&(e.j41(0,"div",0),e.DNE(1,Dt,3,3,"div",1),e.DNE(2,Vi,3,3,"ng-template",null,2,e.C5r),e.k0s()),2&k){const M=e.sdS(3);e.R7$(1),e.Y8G("ngIf",!T.statusObj.loading&&T.errorApiMessage)("ngIfElse",M)}},dependencies:[H.Wk,v.YU,v.Sq,v.bT,nt.kk,nt.Cp,dt.oV,it.f,mt.R,F.m,U.WGl,W.J,P,vt,v.Jj,K.F2,K.wp,K.gt,K.bj],encapsulation:2})}return f})();function pn(f,z){if(1&f&&e.nrm(0,"azt-loading-effect",2),2&f){const p=e.XpG();e.Y8G("currentStatusObj",p.statusObj)}}function gn(f,z){if(1&f){const p=e.RV6();e.j41(0,"div",3)(1,"app-list-sessions",4),e.bIt("reloadSessionDataEmitter",function(T){e.eBV(p);const M=e.XpG();return e.Njj(M.reloadSessionData(T))})("changeSessionDataEmitter",function(T){e.eBV(p);const M=e.XpG();return e.Njj(M.changeSessionData(T))}),e.k0s()()}if(2&f){const p=e.XpG();e.R7$(1),e.Y8G("teacherRole",p.teacherRole)("classroomId",p.classroomId)("backLink",p.backLink)("errorApiMessage",p.errorApiMessage)("generalDocumentObjs",p.generalDocumentObjs)("programSessionObjs",p.programSessionObjs)("groupProgramSessionObjs",p.groupProgramSessionObjs)("programObj",p.programObj)}}let hn=(()=>{class f extends o.H{changeSessionData(p){this.programSessionObjs.map(k=>k.id==p.id?p:k),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let k={};return p.forEach(T=>{T.groupType&&(k.hasOwnProperty(T.groupType)||(k[T.groupType]=[]),k[T.groupType].push(T))}),k}processData(p){let k=this.commonService.arrayToDictionary(p,M=>M.groupType?M.groupType:"unknown"),T=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(k).forEach(([M,L],rt)=>{if(L.length>0){let It={name:M,documentObjs:L};"video"==It.name&&(T[0]=It),"document"==It.name&&(T[1]=It),"homework"==It.name&&(T[2]=It),"homework_view"==It.name&&(T[3]=It),"unknown"==It.name&&(T[4]=It)}}),T}convertDocumentsOfSession(p,k){let T=(new Date).toDateString(),M=!1;return p.forEach((L,rt)=>{L.normalDocumentObjs=L.allDocumentObjs.filter(zt=>"exam"!=zt.type&&"homework"!=zt.type),L.examHomeworkObjs=L.allDocumentObjs.filter(zt=>"exam"==zt.type||"homework"==zt.type),L.groupDocumentObjs=this.processData(L.normalDocumentObjs),L.indexSession=L.sort;let It="",Nt="";if(L.fromTime){let zt=new Date(L.fromTime),Ie=new Date(zt.toDateString()),Gn=new Date(T),Kn=Math.floor((Ie.getTime()-Gn.getTime())/1e3);L.dateSession=this.timeService.getFormatDate(L.fromTime),L.outOfDate=Kn<0,L.monthSession=zt.getMonth()+1,L.yearSession=zt.getFullYear(),It+=this.addZeroToTime(zt.getHours())+":"+this.addZeroToTime(zt.getMinutes()),Nt=this.timeService.calculationTimeAgoOnlyDate(Ie,Gn)}if(L.toTime){let zt=new Date(L.toTime);It+=" - "+this.addZeroToTime(zt.getHours())+":"+this.addZeroToTime(zt.getMinutes())}It+=Nt?" ("+Nt+")":"",L.timeSession=It,M||(L.isExpanded=k?L.isExpanded:!L.outOfDate,L.isExpanded&&(M=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,k){p.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:T=>{p.map(M=>{M.studentAttendance=T.list.find(L=>L.sessionId==M.id)}),k(p)},error:T=>{this.errorStatusObj(T.error.message,!0),k(p)}})):k(p)}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let k=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(k.subscribe({next:T=>{this.generalDocumentObjs=T.generalDocuments.map(L=>({...L,documentType:this.commonService.getEnumTypeWithDefault(r.d,L.type,r.d.unknown)})),this.programObj=T.program;let M=T.sessions.map(L=>({...L,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:L.documents.map(rt=>({...rt,documentType:this.commonService.getEnumTypeWithDefault(r.d,rt.type,r.d.unknown)}))}));M=this.convertDocumentsOfSession(M,!!p),this.getSchoolLeaveObjs(M,L=>{if(p){let zt=L.find(Ie=>Ie.id==p.id);this.programSessionObjs=this.programSessionObjs.map(Ie=>Ie.id==zt?.id?{...zt,isExpanded:Ie.isExpanded}:Ie)}else this.programSessionObjs=L;this.sessionId&&this.programSessionObjs.map(zt=>zt.isExpanded=zt.id==this.sessionId);let rt=this.commonService.arrayToDictionary(this.programSessionObjs,zt=>zt.monthSession?.toString()+"/"+zt.yearSession?.toString()),It=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",Nt=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(rt).forEach(([zt,Ie],Gn)=>{let Kn=Ie.find(Yi=>Yi.isExpanded);this.groupProgramSessionObjs.push({monthName:It+" "+zt,programObjs:Ie,expand:!(zt!=Nt&&!Kn)})}),this.stopStatusObj()})},error:T=>{this.errorApiMessage=T.error.message,this.errorStatusObj(T.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,k,T,M){super(),this.classroomService=p,this.timeService=k,this.studentService=T,this.activeRoute=M,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}static#t=this.\u0275fac=function(k){return new(k||f)(e.rXU(t.zS),e.rXU(x.F),e.rXU(t.b0),e.rXU(H.nX))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(k,T){if(1&k&&(e.DNE(0,pn,1,1,"azt-loading-effect",0),e.DNE(1,gn,2,8,"ng-template",null,1,e.C5r)),2&k){const M=e.sdS(2);e.Y8G("ngIf",T.statusObj.loading)("ngIfElse",M)}},dependencies:[v.bT,a.K,ue],encapsulation:2})}return f})(),Ii=(()=>{class f extends o.H{ngOnInit(){this.waitDestroy((0,S.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}static#t=this.\u0275fac=function(k){return new(k||f)(e.rXU(H.nX))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.Vt3],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(k,T){1&k&&e.nrm(0,"app-view-educational-program",0),2&k&&e.Y8G("teacherRole",!T.isStudent)("classroomId",T.classroomId)("sessionId",T.sessionId)("backLink",T.backLink)},dependencies:[hn],encapsulation:2})}return f})()},69307:(re,wt,g)=>{g.d(wt,{_:()=>at});var S=g(10936),o=g(89163),e=g(33887),H=g(15766),r=g(26860),t=g(90998),x=g(54460),v=g(81587),a=g(52811),ft=g(73437);function bt(nt,dt){1&nt&&(r.j41(0,"div",17),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&nt&&(r.R7$(1),r.SpI(" *",r.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function yt(nt,dt){if(1&nt&&(r.j41(0,"div",15)(1,"label",8),r.EFF(2),r.nI1(3,"mytranslate"),r.k0s(),r.nrm(4,"input",16),r.nI1(5,"mytranslate"),r.DNE(6,bt,3,3,"div",10),r.k0s()),2&nt){const it=r.XpG();r.R7$(2),r.SpI(" ",r.bMT(3,3,"lang_student_name_component_score")," "),r.R7$(2),r.FS9("placeholder",r.bMT(5,5,"lang_student_enter_name_component_score")),r.R7$(2),r.Y8G("ngIf",it.form.controls.name.dirty&&it.form.controls.name.errors)}}function tt(nt,dt){if(1&nt&&(r.j41(0,"div",15)(1,"label",8),r.EFF(2),r.nI1(3,"mytranslate"),r.k0s(),r.nrm(4,"input",18),r.nI1(5,"mytranslate"),r.k0s()),2&nt){const it=r.XpG();r.R7$(2),r.SpI(" ",r.bMT(3,3,"homework"==it.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),r.R7$(2),r.FS9("placeholder",r.bMT(5,5,"lang_student_enter_name_component_score")),r.Y8G("value",it.data.documentName)}}function lt(nt,dt){1&nt&&(r.j41(0,"div",17),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&nt&&(r.R7$(1),r.SpI(" *",r.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function Z(nt,dt){1&nt&&r.nrm(0,"azt-loading-ui",19)}let at=(()=>{class nt extends e._{setValueCoeffcient(){var it=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(it)??0)}createStartingPoint(){let it={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,it).subscribe(mt=>{mt?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(it)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(it).subscribe(mt=>{mt?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(it)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(it,mt,F){super(F,mt),this.commonMarkService=it,this.dialogRef=mt,this.data=F,this.form=new S.gE({name:new S.MJ({value:F.name??"",disabled:0==F.canEditName},{nonNullable:!0,validators:[S.k0.required,H.M.noWhiteSpace]}),coefficient:new S.MJ(F.coefficient,{nonNullable:!0,validators:[S.k0.required,S.k0.pattern(/^[1-9]\d*$/)]})})}static#t=this.\u0275fac=function(mt){return new(mt||nt)(r.rXU(t.a),r.rXU(o.CP,8),r.rXU(o.Vh))};static#e=this.\u0275cmp=r.VBU({type:nt,selectors:[["app-create-score-dialog"]],features:[r.Vt3],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(mt,F){1&mt&&(r.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),r.EFF(5),r.nI1(6,"mytranslate"),r.k0s()(),r.j41(7,"div",5),r.DNE(8,yt,7,7,"div",6),r.DNE(9,tt,6,7,"div",6),r.j41(10,"div",7)(11,"label",8),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s(),r.j41(14,"input",9),r.bIt("input",function(){return F.setValueCoeffcient()}),r.nI1(15,"mytranslate"),r.k0s(),r.DNE(16,lt,3,3,"div",10),r.k0s()()(),r.j41(17,"div",11)(18,"button",12),r.bIt("click",function(){return F.dialogRef.close()}),r.EFF(19),r.nI1(20,"mytranslate"),r.k0s(),r.j41(21,"button",13),r.bIt("click",function(){return F.createStartingPoint()}),r.DNE(22,Z,1,0,"azt-loading-ui",14),r.EFF(23),r.nI1(24,"mytranslate"),r.k0s()()()()),2&mt&&(r.R7$(1),r.Y8G("formGroup",F.form),r.R7$(4),r.SpI(" ",r.bMT(6,11,F.data.id?F.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),r.R7$(3),r.Y8G("ngIf",!F.data.isOnlyCoefficient),r.R7$(1),r.Y8G("ngIf",F.data.isOnlyCoefficient),r.R7$(3),r.SpI(" ",r.bMT(13,13,"lang_student_score_factor")," "),r.R7$(2),r.FS9("placeholder",r.bMT(15,15,"lang_student_enter_score_factor")),r.R7$(2),r.Y8G("ngIf",F.form.controls.coefficient.dirty&&F.form.controls.coefficient.errors),r.R7$(3),r.JRh(r.bMT(20,17,"lang_button_cancel")),r.R7$(2),r.Y8G("disabled",F.form.controls.name.errors&&!F.data.isOnlyCoefficient||F.form.controls.coefficient.errors),r.R7$(1),r.Y8G("ngIf",F.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(24,19,"lang_button_save")," "))},dependencies:[x.bT,S.qT,S.me,S.Q0,S.BC,S.cb,S.j4,S.JD,v.t,a.R,ft.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]})}return nt})()},71703:(re,wt,g)=>{g.d(wt,{V:()=>ze});var S=g(81519),o=g(34514),e=g(47426),H=g(89163),r=g(99503),t=g(79347),x=g(33887),v=g(9691),a=g(26860),ft=g(91930),bt=g(59640),yt=g(18148),tt=g(69307),lt=g(46899),Z=g(10296),at=g(67638),nt=g(40609),dt=g(54460),it=g(47712),mt=g(66729),F=g(2915),U=g(52811),W=g(5800),D=g(74637),V=g(10123),ht=g(15343),Ft=g(73437);const Yt=["table_score_student"];function Jt(Q,Rt){if(1&Q){const A=a.RV6();a.j41(0,"div",11)(1,"button",12),a.bIt("click",function(){a.eBV(A);const et=a.XpG();return a.Njj(et.downloadTableScore())}),a.nrm(2,"lucide-icon",13),a.j41(3,"span"),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s()()()}2&Q&&(a.R7$(4),a.JRh(a.bMT(5,1,"lang_student_export_a_grade_sheet")))}function le(Q,Rt){if(1&Q){const A=a.RV6();a.j41(0,"div",14)(1,"lucide-icon",15),a.bIt("click",function(){a.eBV(A);const et=a.XpG();return a.Njj(et.downloadTableScore())}),a.nI1(2,"mytranslate"),a.k0s(),a.qSk(),a.j41(3,"svg",16),a.bIt("click",function(){a.eBV(A);const et=a.XpG();return a.Njj(et.closeDiaglog.emit(et.isEdit))}),a.nI1(4,"mytranslate"),a.nrm(5,"path",17)(6,"path",18),a.k0s()()}2&Q&&(a.R7$(1),a.FS9("matTooltip",a.bMT(2,2,"lang_student_export_a_grade_sheet")),a.R7$(2),a.FS9("matTooltip",a.bMT(4,4,"lang_auto_thoat")))}function me(Q,Rt){1&Q&&a.nrm(0,"azt-loading-ui",25)}function ee(Q,Rt){if(1&Q&&(a.j41(0,"div",38),a.EFF(1),a.nI1(2,"mytranslate"),a.nI1(3,"formatOnlyDateByUserUnitPipe"),a.k0s()),2&Q){const A=a.XpG().$implicit;a.R7$(1),a.Lme(" ",a.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",a.bMT(3,4,A.createdAt)," ")}}function Qt(Q,Rt){if(1&Q&&(a.j41(0,"div",38)(1,"span"),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.j41(4,"span",39),a.EFF(5),a.k0s()()),2&Q){const A=a.XpG().$implicit;a.R7$(2),a.JRh(a.bMT(3,2,"lang_auto_he_so")),a.R7$(3),a.JRh(A.coefficient)}}function jt(Q,Rt){if(1&Q){const A=a.RV6();a.j41(0,"button",40),a.bIt("click",function(){a.eBV(A);const et=a.XpG().$implicit,Mt=a.XpG(2);return a.Njj(Mt.editScore(et))}),a.nI1(1,"mytranslate"),a.qSk(),a.j41(2,"svg",41),a.nrm(3,"path",42)(4,"path",43),a.k0s()()}2&Q&&a.FS9("matTooltip",a.bMT(1,1,"lang_student_sua_dau_diem"))}function Lt(Q,Rt){if(1&Q&&(a.j41(0,"div",44),a.nrm(1,"azt-check-mark",45),a.k0s()),2&Q){const A=a.XpG().$implicit;a.R7$(1),a.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function kt(Q,Rt){if(1&Q&&(a.j41(0,"div",44),a.nrm(1,"azt-check-mark",45),a.k0s()),2&Q){const A=a.XpG().$implicit,ot=a.XpG(2);a.R7$(1),a.Y8G("mark",ot.returnValue(A))}}function Ot(Q,Rt){if(1&Q){const A=a.RV6();a.j41(0,"input",46),a.bIt("input",function(et){a.eBV(A);const Mt=a.XpG().$implicit,Kt=a.XpG(2);return a.Njj(Kt.handleMarkStudent(et,Mt.id))}),a.nI1(1,"mytranslate"),a.nI1(2,"mytranslate"),a.k0s()}if(2&Q){const A=a.XpG().$implicit,ot=a.XpG(2);a.FS9("matTooltip",a.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),a.Mz_("id","input_point_",A.id.toString(),""),a.FS9("placeholder",a.bMT(2,7,"lang_auto_nhap_diem")),a.Y8G("disabled",ot.isStudent)("value",ot.returnValue(A))}}function Ct(Q,Rt){1&Q&&(a.qSk(),a.j41(0,"svg",50),a.nI1(1,"mytranslate"),a.nI1(2,"mytranslate"),a.nrm(3,"path",42)(4,"path",43),a.k0s()),2&Q&&a.FCK("matTooltip","",a.bMT(1,2,"lang_auto_sua")," ",a.bMT(2,4,"lang_auto_diem"),"")}function Ut(Q,Rt){1&Q&&(a.qSk(),a.j41(0,"svg",51),a.nI1(1,"mytranslate"),a.nrm(2,"path",17)(3,"path",18),a.k0s()),2&Q&&a.FS9("matTooltip",a.bMT(1,1,"lang_editor_common_cancel"))}function ut(Q,Rt){if(1&Q){const A=a.RV6();a.j41(0,"button",47),a.bIt("click",function(){a.eBV(A);const et=a.XpG().$implicit,Mt=a.XpG(2);return a.Njj(Mt.viewInput(et.id==Mt.inputPointSelect?-1:et.id))}),a.DNE(1,Ct,5,6,"svg",48),a.DNE(2,Ut,4,3,"svg",49),a.k0s()}if(2&Q){const A=a.XpG().$implicit,ot=a.XpG(2);a.R7$(1),a.Y8G("ngIf",ot.inputPointSelect!=A.id),a.R7$(1),a.Y8G("ngIf",ot.inputPointSelect==A.id)}}function K(Q,Rt){1&Q&&a.nrm(0,"azt-loading-ui",55)}function B(Q,Rt){1&Q&&(a.qSk(),a.j41(0,"svg",56),a.nrm(1,"path",57),a.k0s())}function $(Q,Rt){if(1&Q){const A=a.RV6();a.j41(0,"button",52),a.bIt("click",function(){a.eBV(A);const et=a.XpG().$implicit,Mt=a.XpG(2);return a.Njj(Mt.saveMark(et))}),a.nI1(1,"mytranslate"),a.DNE(2,K,1,0,"azt-loading-ui",53),a.DNE(3,B,2,0,"svg",54),a.k0s()}if(2&Q){const A=a.XpG(3);a.FS9("matTooltip",a.bMT(1,4,"lang_button_save")),a.Y8G("disabled",A.isSave),a.R7$(2),a.Y8G("ngIf",A.isSave),a.R7$(1),a.Y8G("ngIf",!A.isSave)}}function pt(Q,Rt){if(1&Q){const A=a.RV6();a.qSk(),a.j41(0,"svg",58),a.bIt("click",function(){a.eBV(A);const et=a.XpG().$implicit,Mt=a.XpG(2);return a.Njj(Mt.goToEditPoint(et))}),a.nI1(1,"mytranslate"),a.nrm(2,"path",59)(3,"polyline",60)(4,"line",61),a.k0s()}2&Q&&a.FS9("matTooltip",a.bMT(1,1,"lang_core_go_to_enter_score"))}function Et(Q,Rt){if(1&Q&&(a.j41(0,"tr")(1,"td")(2,"div",26)(3,"div"),a.EFF(4),a.DNE(5,ee,4,6,"div",27),a.DNE(6,Qt,6,4,"div",28),a.k0s(),a.DNE(7,jt,5,3,"button",29),a.k0s()(),a.j41(8,"td",30)(9,"div",31),a.DNE(10,Lt,2,1,"div",32),a.DNE(11,kt,2,1,"div",32),a.DNE(12,Ot,3,9,"input",33),a.DNE(13,ut,3,2,"button",34),a.DNE(14,$,4,6,"button",35),a.k0s()(),a.j41(15,"td",36),a.DNE(16,pt,5,3,"svg",37),a.k0s()()),2&Q){const A=Rt.$implicit,ot=a.XpG(2);a.R7$(4),a.SpI(" ",A.name," "),a.R7$(1),a.Y8G("ngIf",A.createdAt&&!ot.isStudent),a.R7$(1),a.Y8G("ngIf",A.coefficient),a.R7$(1),a.Y8G("ngIf",!ot.isStudent),a.R7$(3),a.Y8G("ngIf","homework"==A.objectType),a.R7$(1),a.Y8G("ngIf","homework"!=A.objectType&&ot.inputPointSelect!=A.id),a.R7$(1),a.Y8G("ngIf","homework"!=A.objectType&&ot.inputPointSelect==A.id),a.R7$(1),a.Y8G("ngIf",!ot.isStudent&&A.canEditMark&&!ot.listMarkNew),a.R7$(1),a.Y8G("ngIf",!ot.isStudent&&A.canEditMark&&ot.listMarkNew&&ot.listMarkNew.id==A.id),a.R7$(2),a.Y8G("ngIf",!ot.isStudent&&A.programId&&A.sessionId)}}function Xt(Q,Rt){1&Q&&a.nrm(0,"azt-loading-ui",25)}const ie=function(){return[]};function Se(Q,Rt){if(1&Q){const A=a.RV6();a.j41(0,"azt-mat-dialog-content")(1,"div",19),a.DNE(2,me,1,0,"azt-loading-ui",20),a.j41(3,"azt-filter-box",21),a.bIt("sendFilter",function(et){a.eBV(A);const Mt=a.XpG();return a.Njj(Mt.filterData(et))}),a.k0s()(),a.j41(4,"table",22)(5,"tbody"),a.DNE(6,Et,17,10,"tr",10),a.j41(7,"tr")(8,"td"),a.EFF(9),a.nI1(10,"mytranslate"),a.k0s(),a.j41(11,"td",23)(12,"div",24),a.DNE(13,Xt,1,0,"azt-loading-ui",20),a.EFF(14),a.k0s()()()()()()}if(2&Q){const A=a.XpG();let ot;a.R7$(2),a.Y8G("ngIf",A.statusObj.loading),a.R7$(4),a.Y8G("ngForOf",null!==(ot=A.data.marks)&&void 0!==ot?ot:a.lJ4(8,ie)),a.R7$(3),a.SpI(" ",a.bMT(10,6,"lang_business_diem_tong_ket")," "),a.R7$(2),a.Y8G("colSpan",2),a.R7$(2),a.Y8G("ngIf",A.isSave),a.R7$(1),a.SpI(" ",A.data.averageMark," ")}}function $e(Q,Rt){if(1&Q&&(a.j41(0,"div",38)(1,"span"),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.j41(4,"span",39),a.EFF(5),a.k0s()()),2&Q){const A=a.XpG().$implicit;a.R7$(2),a.JRh(a.bMT(3,2,"lang_auto_he_so")),a.R7$(3),a.JRh(A.coefficient)}}function de(Q,Rt){if(1&Q&&(a.j41(0,"div",44),a.nrm(1,"azt-check-mark",45),a.k0s()),2&Q){const A=a.XpG().$implicit;a.R7$(1),a.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function Pe(Q,Rt){if(1&Q&&(a.j41(0,"div",44),a.nrm(1,"azt-check-mark",45),a.k0s()),2&Q){const A=a.XpG().$implicit,ot=a.XpG(2);a.R7$(1),a.Y8G("mark",ot.returnValue(A))}}function ye(Q,Rt){if(1&Q&&(a.j41(0,"tr")(1,"td")(2,"div",26)(3,"div"),a.EFF(4),a.DNE(5,$e,6,4,"div",28),a.k0s()()(),a.j41(6,"td",66),a.DNE(7,de,2,1,"div",32),a.DNE(8,Pe,2,1,"div",32),a.k0s()()),2&Q){const A=Rt.$implicit;a.R7$(4),a.SpI(" ",A.name," "),a.R7$(1),a.Y8G("ngIf",A.coefficient),a.R7$(2),a.Y8G("ngIf","homework"==A.objectType),a.R7$(1),a.Y8G("ngIf","homework"!=A.objectType)}}function je(Q,Rt){if(1&Q&&(a.j41(0,"table",62)(1,"thead")(2,"tr")(3,"th",63),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s(),a.j41(6,"th",64),a.EFF(7),a.nI1(8,"mytranslate"),a.k0s()()(),a.j41(9,"tbody"),a.DNE(10,ye,9,4,"tr",10),a.j41(11,"tr")(12,"td"),a.EFF(13),a.nI1(14,"mytranslate"),a.k0s(),a.j41(15,"td")(16,"div",65),a.EFF(17),a.k0s()()()()()),2&Q){const A=a.XpG();let ot;a.R7$(4),a.JRh(a.bMT(5,5,"lang_student_name_component_score")),a.R7$(3),a.JRh(a.bMT(8,7,"lang_testbank_update_exam_point")),a.R7$(3),a.Y8G("ngForOf",null!==(ot=A.data.marks)&&void 0!==ot?ot:a.lJ4(11,ie)),a.R7$(3),a.SpI(" ",a.bMT(14,9,"lang_business_diem_tong_ket")," "),a.R7$(4),a.SpI(" ",A.data.averageMark," ")}}function Oe(Q,Rt){if(1&Q&&a.nrm(0,"azt-check-mark",45),2&Q){const A=a.XpG().$implicit;a.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function fe(Q,Rt){if(1&Q&&a.nrm(0,"azt-check-mark",45),2&Q){const A=a.XpG().$implicit,ot=a.XpG();a.Y8G("mark",ot.returnValue(A))}}function we(Q,Rt){if(1&Q&&(a.j41(0,"tr")(1,"td",9),a.EFF(2),a.k0s(),a.j41(3,"td",9),a.EFF(4),a.k0s(),a.j41(5,"td",9),a.EFF(6),a.k0s(),a.j41(7,"td",9),a.DNE(8,Oe,1,1,"azt-check-mark",67),a.DNE(9,fe,1,1,"azt-check-mark",67),a.k0s()()),2&Q){const A=Rt.$implicit,ot=Rt.index,et=a.XpG();a.R7$(1),a.BMQ("excelRow",ot+1)("excelColumn",0)("excelStyle",et.styleTdNormal),a.R7$(1),a.SpI(" ",A.name?ot+1:""," "),a.R7$(1),a.BMQ("excelRow",ot+1)("excelColumn",1)("excelStyle",et.styleTdNormalLeft),a.R7$(1),a.SpI(" ",A.name," "),a.R7$(1),a.BMQ("excelRow",ot+1)("excelColumn",2)("excelStyle",et.styleTdNotNumberNormal),a.R7$(1),a.SpI(" ",A.coefficient," "),a.R7$(1),a.BMQ("excelRow",ot+1)("excelColumn",3)("excelStyle",et.styleTdNotNumberNormal),a.R7$(1),a.Y8G("ngIf","homework"==A.objectType),a.R7$(1),a.Y8G("ngIf","homework"!=A.objectType)}}let be=(()=>{class Q extends bt.H{filterData(A){this.dataFilter=A,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:ot=>{ot.list.length&&(this.data=ot.list[0]),this.stopStatusObj()},error:ot=>{this.errorStatusObj(ot.error.message,!0)}}))}downloadTableScore(){yt.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var A=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let ot=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(A,ot),yt.L.closeLoadingEffect(200)}goToEditPoint(A){this.closeDiaglog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+A.classroomId+"/"+A.programId+"/"+A.sessionId,"?studentId="+this.data.id)}viewInput(A){this.inputPointSelect=A}handleMarkStudent(A,ot){if(!this.isStudent){var et=this.commonService.handlePointByValueInput(A);this.listMarkNew={id:ot,points:et.length>0?et:[-1]}}}saveMark(A){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:A.programId,classroomId:A.classroomId,sessionId:A.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(et=>{et?(this.data.marks?.filter(Mt=>Mt.id==A.id)?.forEach(Mt=>Mt.marks=this.listMarkNew?.points?.find(Kt=>-1==Kt)?[]:this.listMarkNew?.points??Mt.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(A){A&&this.sAztDialogService.open(tt._,{data:{...A,canEditName:A.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(ot=>{if(ot){try{var et=this.data.marks?.find(Mt=>Mt.id==A.id);et&&(et.coefficient=ot.coefficient,et.name=ot.name)}catch{}this.isEdit=!0}})}returnValue(A){return(A.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(A,ot,et,Mt,Kt){super(),this.sAztDialogService=A,this.sAztTimeService=ot,this.shareFileFlutterService=et,this.exportExcelService=Mt,this.studentService=Kt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDiaglog=new a.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,a.WQX)(ft.R)}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(ot){return new(ot||Q)(a.rXU(lt.i),a.rXU(v.F),a.rXU(Z.R),a.rXU(at.x),a.rXU(nt.b))};static#e=this.\u0275cmp=a.VBU({type:Q,selectors:[["azt-view-table-score-single"]],viewQuery:function(ot,et){if(1&ot&&a.GBs(Yt,5),2&ot){let Mt;a.mGM(Mt=a.lsd())&&(et.table_score_student=Mt.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDiaglog:"closeDiaglog"},features:[a.Jv_([{provide:S.$O,useClass:r.fb,deps:[e.Ju,o.ij]},{provide:S.vq,useFactory:t.fJ,deps:[v.F]}]),a.Vt3],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",1,"mr-1"],[1,"flex"],["name","download",1,"clickable",2,"width","20px !important","height","20px !important",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","style","color: gray;","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-external-link zoom-in clickable",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","disabled","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-pencil",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["style","color: green;","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-check",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-check",2,"color","green"],["d","M20 6 9 17l-5-5"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-external-link","zoom-in","clickable",2,"color","gray",3,"matTooltip","click"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","x2","21","y1","14","y2","3"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(ot,et){if(1&ot&&(a.DNE(0,Jt,6,3,"div",0),a.j41(1,"div",1)(2,"div",2),a.nrm(3,"azt-student-info-box",3),a.DNE(4,le,7,6,"div",4),a.k0s(),a.DNE(5,Se,15,9,"azt-mat-dialog-content",5),a.DNE(6,je,18,12,"table",6),a.k0s(),a.j41(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s(),a.j41(14,"th",9),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s(),a.j41(17,"th",9),a.EFF(18),a.nI1(19,"mytranslate"),a.k0s(),a.j41(20,"th",9),a.EFF(21),a.nI1(22,"mytranslate"),a.k0s()()(),a.j41(23,"tbody"),a.DNE(24,we,10,17,"tr",10),a.j41(25,"tr")(26,"td",9),a.EFF(27),a.k0s(),a.j41(28,"td",9),a.EFF(29),a.nI1(30,"mytranslate"),a.k0s(),a.nrm(31,"td"),a.j41(32,"td",9),a.EFF(33),a.k0s()()()()),2&ot){let Mt,Kt,Pt,Zt,Ce,ne;a.Y8G("ngIf",et.isStudent&&!et.viewDialog),a.R7$(3),a.Y8G("name",et.data.fullName)("parentFullName",et.data.parentFullName)("parentId",et.data.parentId)("parentPhone",et.data.parentPhone)("phone",et.data.phone)("email",et.data.email)("avatar",et.data.avatar)("gender",et.data.gender)("hasUser",et.data.hasUser),a.R7$(1),a.Y8G("ngIf",et.viewDialog),a.R7$(1),a.Y8G("ngIf",et.viewDialog),a.R7$(1),a.Y8G("ngIf",et.isStudent&&!et.viewDialog),a.R7$(1),a.Y8G("border",1),a.R7$(4),a.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",et.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(13,50,"lang_student_export_excel_no")," "),a.R7$(2),a.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",et.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(16,52,"lang_student_name_component_score")," "),a.R7$(2),a.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",et.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(19,54,"lang_auto_he_so")," "),a.R7$(2),a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",et.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(22,56,"lang_testbank_update_exam_point")," "),a.R7$(3),a.Y8G("ngForOf",null!==(Mt=et.data.marks)&&void 0!==Mt?Mt:a.lJ4(60,ie)),a.R7$(2),a.BMQ("excelRow",(null!==(Kt=null==et.data.marks?null:et.data.marks.length)&&void 0!==Kt?Kt:0)+1)("excelColumn",0)("excelStyle",et.styleTdNormal),a.R7$(1),a.SpI(" ",(null!==(Pt=null==et.data.marks?null:et.data.marks.length)&&void 0!==Pt?Pt:0)+1," "),a.R7$(1),a.BMQ("excelRow",(null!==(Zt=null==et.data.marks?null:et.data.marks.length)&&void 0!==Zt?Zt:0)+1)("excelColumn",1)("excelStyle",et.styleTdNormal),a.R7$(1),a.SpI(" ",a.bMT(30,58,"lang_business_diem_tong_ket")," "),a.R7$(2),a.BMQ("excelRow",(null!==(Ce=null==et.data.marks?null:et.data.marks.length)&&void 0!==Ce?Ce:0)+1)("excelColumn",3)("excelStyle",et.styleTdNormal),a.R7$(1),a.BMQ("excelRow",(null!==(ne=null==et.data.marks?null:et.data.marks.length)&&void 0!==ne?ne:0)+1)("excelColumn",4)("excelStyle",et.styleTdNotNumberNormal),a.R7$(1),a.SpI(" ",et.data.averageMark," ")}},dependencies:[dt.Sq,dt.bT,it.oV,mt.D,F.U,U.R,W.B,D.E,V.Ew,ht.WGl,Ft.wp,Ft.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]})}return Q})(),ze=(()=>{class Q extends x._{closeDiaglog(A){this.dialogRef.close(A)}ngOnInit(){super.ngOnInit()}constructor(A,ot){super(ot,A),this.dialogRef=A,this.data=ot}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(ot){return new(ot||Q)(a.rXU(H.CP,8),a.rXU(H.Vh,8))};static#e=this.\u0275cmp=a.VBU({type:Q,selectors:[["azt-table-score-single"]],features:[a.Jv_([{provide:S.$O,useClass:r.fb,deps:[e.Ju,o.ij]},{provide:S.vq,useFactory:t.fJ,deps:[v.F]}]),a.Vt3],decls:1,vars:3,consts:[[3,"data","isStudent","viewDialog","closeDiaglog"]],template:function(ot,et){1&ot&&(a.j41(0,"azt-view-table-score-single",0),a.bIt("closeDiaglog",function(Kt){return et.closeDiaglog(Kt)}),a.k0s()),2&ot&&a.Y8G("data",et.data.student)("isStudent",!et.data.isTeacher)("viewDialog",!0)},dependencies:[be],encapsulation:2})}return Q})()},19857:(re,wt,g)=>{g.d(wt,{g:()=>en});var S=g(76627),o=g(59640),e=g(18148),H=g(37497),r=g(75421),t=g(27208),x=g(69307),v=g(71703),a=g(26860),ft=g(90998),bt=g(40609),yt=g(9691),tt=g(46899),lt=g(64624),Z=g(67638),at=g(65162),nt=g(10296),dt=g(54460),it=g(47712),mt=g(18718),F=g(22613),U=g(66729),W=g(52811),D=g(11002),V=g(32099),ht=g(5800),Ft=g(10123),Yt=g(15343),Jt=g(73437);const le=["table_score"];function me(P,xt){1&P&&(a.j41(0,"div",6)(1,"h3",7),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s()()),2&P&&(a.R7$(2),a.JRh(a.bMT(3,1,"lang_student_enter_score")))}function ee(P,xt){1&P&&(a.j41(0,"div",6)(1,"h3",7),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s()()),2&P&&(a.R7$(2),a.JRh(a.bMT(3,1,"lang_auto_bang_diem")))}function Qt(P,xt){if(1&P){const I=a.RV6();a.j41(0,"button",16),a.bIt("click",function(){a.eBV(I);const Y=a.XpG(2);return a.Njj(Y.createNewScore())}),a.qSk(),a.j41(1,"svg",17),a.nrm(2,"line",18)(3,"line",19),a.k0s(),a.joV(),a.j41(4,"span"),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s()()}2&P&&(a.R7$(5),a.JRh(a.bMT(6,1,"lang_student_enter_new_component_score")))}function jt(P,xt){if(1&P){const I=a.RV6();a.j41(0,"button",20),a.bIt("click",function(){a.eBV(I);const Y=a.XpG(2);return a.Njj(Y.downloadTableScore())}),a.nrm(1,"lucide-icon",21),a.j41(2,"span"),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}2&P&&(a.R7$(3),a.JRh(a.bMT(4,1,"lang_student_export_a_grade_sheet")))}function Lt(P,xt){1&P&&a.nrm(0,"azt-loading-ui",25)}function kt(P,xt){if(1&P){const I=a.RV6();a.j41(0,"flexed-on-the-top",22)(1,"button",23),a.bIt("click",function(){a.eBV(I);const Y=a.XpG(2);return a.Njj(Y.saveMark())}),a.DNE(2,Lt,1,0,"azt-loading-ui",24),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}if(2&P){const I=a.XpG(2);a.Y8G("colorBackground","#f0f8ffe8"),a.R7$(1),a.Y8G("disabled",0==I.listStudentMark.length||I.isSave),a.R7$(1),a.Y8G("ngIf",I.isSave),a.R7$(1),a.SpI(" ",a.bMT(4,4,"lang_auto_luu")," ")}}function Ot(P,xt){if(1&P){const I=a.RV6();a.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),a.bIt("onSearch",function(Y){a.eBV(I);const gt=a.XpG();return a.Njj(gt.onSearchBox(Y.searchObj))}),a.nI1(4,"mytranslate"),a.k0s()(),a.j41(5,"div",12),a.DNE(6,Qt,7,3,"button",13),a.DNE(7,jt,5,3,"button",14),a.DNE(8,kt,5,6,"flexed-on-the-top",15),a.k0s()()()}if(2&P){const I=a.XpG();a.R7$(3),a.Y8G("isServerSearch",!0)("placeholder",a.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),a.R7$(3),a.Y8G("ngIf","ENTER_SCORE"==I.screenType),a.R7$(1),a.Y8G("ngIf","TABLE_SCORE"==I.screenType),a.R7$(1),a.Y8G("ngIf","ENTER_SCORE"==I.screenType)}}function Ct(P,xt){if(1&P&&a.nrm(0,"azt-loading-effect",26),2&P){const I=a.XpG();a.Y8G("currentStatusObj",I.statusObj)}}function Ut(P,xt){1&P&&(a.j41(0,"div",32),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&P&&(a.R7$(1),a.JRh(a.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function ut(P,xt){if(1&P&&(a.j41(0,"div",49)(1,"span"),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.j41(4,"span",50),a.EFF(5),a.k0s()()),2&P){const I=a.XpG().$implicit;a.R7$(2),a.JRh(a.bMT(3,2,"lang_auto_he_so")),a.R7$(3),a.JRh(I.coefficient)}}function K(P,xt){if(1&P){const I=a.RV6();a.j41(0,"button",51),a.bIt("click",function(){a.eBV(I);const Y=a.XpG().$implicit,gt=a.XpG(3);return a.Njj(gt.createNewScore(Y))}),a.nI1(1,"mytranslate"),a.qSk(),a.j41(2,"svg",52),a.nrm(3,"path",53)(4,"path",54),a.k0s()()}2&P&&a.FS9("matTooltip",a.bMT(1,1,"lang_student_sua_dau_diem"))}function B(P,xt){if(1&P){const I=a.RV6();a.j41(0,"button",55),a.bIt("click",function(){a.eBV(I);const Y=a.XpG().$implicit,gt=a.XpG(3);return a.Njj(gt.deleteMark(Y))}),a.nI1(1,"mytranslate"),a.qSk(),a.j41(2,"svg",56),a.nrm(3,"path",57)(4,"path",58)(5,"path",59)(6,"line",60)(7,"line",61),a.k0s()()}2&P&&a.FS9("matTooltip",a.bMT(1,1,"lang_button_delete"))}function $(P,xt){if(1&P&&(a.j41(0,"th",41)(1,"div",42)(2,"div",43)(3,"div",44),a.EFF(4),a.k0s(),a.j41(5,"div",45),a.DNE(6,ut,6,4,"div",46),a.DNE(7,K,5,3,"button",47),a.DNE(8,B,8,3,"button",48),a.k0s()()()()),2&P){const I=xt.$implicit,X=a.XpG(3);a.R7$(3),a.FS9("matTooltip",I.name),a.R7$(1),a.JRh(I.name),a.R7$(2),a.Y8G("ngIf",I.coefficient),a.R7$(1),a.Y8G("ngIf",!X.isStudent),a.R7$(1),a.Y8G("ngIf",I.canEditName)}}function pt(P,xt){1&P&&(a.j41(0,"th",62),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&P&&(a.R7$(1),a.JRh(a.bMT(2,1,"lang_business_diem_tong_ket")))}function Et(P,xt){if(1&P&&(a.j41(0,"div",72),a.nrm(1,"azt-check-mark",73),a.k0s()),2&P){const I=a.XpG().$implicit;a.R7$(1),a.Y8G("mark",I.marks.length>0?I.marks[0]:"")}}function Xt(P,xt){if(1&P&&(a.j41(0,"div",72),a.nrm(1,"azt-check-mark",73),a.k0s()),2&P){const I=a.XpG().$implicit,X=a.XpG(4);a.R7$(1),a.Y8G("mark",X.returnValue(I))}}function ie(P,xt){if(1&P){const I=a.RV6();a.j41(0,"input",74),a.bIt("input",function(Y){a.eBV(I);const gt=a.XpG().index,j=a.XpG().index,Tt=a.XpG(3);return a.Njj(Tt.handleMarkStudent(Y,j,gt))}),a.nI1(1,"mytranslate"),a.nI1(2,"mytranslate"),a.k0s()}if(2&P){const I=a.XpG().$implicit,X=a.XpG().$implicit,Y=a.XpG(3);a.FS9("matTooltip",a.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),a.FS9("id",I.id.toString()+"-"+X.id.toString()),a.FS9("placeholder",a.bMT(2,7,"lang_auto_nhap_diem")),a.Y8G("matTooltipDisabled",!I.canEditMark)("value",Y.returnValue(I))}}function Se(P,xt){if(1&P&&(a.j41(0,"td",68),a.DNE(1,Et,2,1,"div",69),a.DNE(2,Xt,2,1,"div",69),a.DNE(3,ie,3,9,"input",70),a.nrm(4,"div",71),a.k0s()),2&P){const I=xt.$implicit,X=a.XpG().$implicit,Y=a.XpG(3);a.Y8G("hidden","TABLE_SCORE"==Y.screenType),a.R7$(1),a.Y8G("ngIf","homework"==I.objectType),a.R7$(1),a.Y8G("ngIf","homework"!=I.objectType&&(!I.canEditMark||"ENTER_SCORE"!=Y.screenType)),a.R7$(1),a.Y8G("ngIf","homework"!=I.objectType&&I.canEditMark),a.R7$(1),a.Mz_("id","error-",I.id.toString()+"-"+X.id.toString(),""),a.Y8G("hidden",!0)}}function $e(P,xt){if(1&P&&(a.j41(0,"td")(1,"div",75),a.EFF(2),a.k0s()()),2&P){const I=a.XpG().$implicit;a.R7$(2),a.SpI(" ",I.averageMark," ")}}const de=function(){return[]};function Pe(P,xt){if(1&P){const I=a.RV6();a.j41(0,"tr",63)(1,"td",64),a.bIt("click",function(){const gt=a.eBV(I).$implicit,j=a.XpG(3);return a.Njj(j.openDialogTableSingle(gt))}),a.nrm(2,"azt-student-info-box",65),a.k0s(),a.j41(3,"td",66),a.EFF(4),a.nI1(5,"formatStudentCodeToNumber"),a.k0s(),a.DNE(6,Se,5,6,"td",67),a.DNE(7,$e,3,1,"td",30),a.k0s()}if(2&P){const I=xt.$implicit,X=a.XpG(3);let Y;a.Y8G("id","row_student_"+I.id),a.R7$(2),a.Y8G("name",I.fullName)("parentFullName",I.parentFullName)("parentId",I.parentId)("parentPhone",I.parentPhone)("avatar",I.avatar)("gender",I.gender)("hasUser",I.hasUser)("schoolName",I.schoolName)("classrooms",I.classrooms)("joinedAt",I.joinedAt),a.R7$(2),a.JRh(I.identificationNumber?a.i5U(5,14,I.identificationNumber,6):""),a.R7$(2),a.Y8G("ngForOf",null!==(Y=I.marks)&&void 0!==Y?Y:a.lJ4(17,de)),a.R7$(1),a.Y8G("ngIf","TABLE_SCORE"==X.screenType)}}function ye(P,xt){if(1&P&&(a.j41(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr",35)(5,"th",36),a.EFF(6),a.nI1(7,"mytranslate"),a.k0s(),a.j41(8,"th",37),a.EFF(9),a.nI1(10,"mytranslate"),a.k0s(),a.DNE(11,$,9,5,"th",38),a.DNE(12,pt,3,3,"th",39),a.k0s()(),a.j41(13,"tbody"),a.DNE(14,Pe,8,18,"tr",40),a.k0s()()()()),2&P){const I=a.XpG(2);let X,Y;a.R7$(6),a.JRh(a.bMT(7,5,"lang_auto_ho_va_ten")),a.R7$(3),a.JRh(a.bMT(10,7,"lang_auto_so_bao_danh")),a.R7$(2),a.Y8G("ngForOf",null!==(X=null==I.dataMark?null:I.dataMark.list)&&void 0!==X?X:a.lJ4(9,de)),a.R7$(1),a.Y8G("ngIf","TABLE_SCORE"==I.screenType),a.R7$(2),a.Y8G("ngForOf",null!==(Y=null==I.dataStudent?null:I.dataStudent.list)&&void 0!==Y?Y:a.lJ4(10,de))}}function je(P,xt){if(1&P&&(a.j41(0,"div",78),a.nrm(1,"azt-student-info-box",79),a.j41(2,"div",80)(3,"div",81),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s(),a.j41(6,"div",81),a.EFF(7),a.k0s()()()),2&P){const I=xt.$implicit;a.R7$(1),a.Y8G("name",I.fullName)("parentFullName",I.parentFullName)("parentId",I.parentId)("parentPhone",I.parentPhone)("phone",I.phone)("email",I.email)("avatar",I.avatar)("gender",I.gender)("hasUser",I.hasUser),a.R7$(3),a.SpI(" ",a.bMT(5,11,"lang_business_diem_tong_ket")," "),a.R7$(3),a.SpI(" ",I.averageMark," ")}}function Oe(P,xt){1&P&&a.nrm(0,"lucide-icon",86)}function fe(P,xt){1&P&&a.nrm(0,"lucide-icon",87)}function we(P,xt){if(1&P&&(a.j41(0,"div",97)(1,"span"),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.j41(4,"span",50),a.EFF(5),a.k0s()()),2&P){const I=a.XpG().$implicit;a.R7$(2),a.JRh(a.bMT(3,2,"lang_auto_he_so")),a.R7$(3),a.JRh(I.coefficient)}}function be(P,xt){if(1&P&&(a.j41(0,"div",98),a.nrm(1,"azt-check-mark",73),a.k0s()),2&P){const I=a.XpG().$implicit;a.R7$(1),a.Y8G("mark",I.marks.length>0?I.marks[0]:"")}}function ze(P,xt){if(1&P&&(a.j41(0,"div",98),a.nrm(1,"azt-check-mark",73),a.k0s()),2&P){const I=a.XpG().$implicit,X=a.XpG(6);a.R7$(1),a.Y8G("mark",X.returnValue(I))}}function Q(P,xt){if(1&P&&(a.j41(0,"tr")(1,"td")(2,"div",93)(3,"div"),a.EFF(4),a.DNE(5,we,6,4,"div",94),a.k0s()()(),a.j41(6,"td",95),a.DNE(7,be,2,1,"div",96),a.DNE(8,ze,2,1,"div",96),a.k0s()()),2&P){const I=xt.$implicit;a.R7$(4),a.SpI(" ",I.name," "),a.R7$(1),a.Y8G("ngIf",I.coefficient),a.R7$(2),a.Y8G("ngIf","homework"==I.objectType),a.R7$(1),a.Y8G("ngIf","homework"!=I.objectType)}}function Rt(P,xt){if(1&P&&(a.j41(0,"div",89)(1,"table",90)(2,"thead")(3,"tr")(4,"th",91),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s(),a.j41(7,"th",92),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s()()(),a.j41(10,"tbody"),a.DNE(11,Q,9,4,"tr",77),a.k0s()()()),2&P){const I=a.XpG(2).$implicit;a.R7$(5),a.JRh(a.bMT(6,3,"lang_student_name_component_score")),a.R7$(3),a.JRh(a.bMT(9,5,"lang_testbank_update_exam_point")),a.R7$(3),a.Y8G("ngForOf",I.marks)}}function A(P,xt){if(1&P&&(a.qex(0),a.DNE(1,Rt,12,7,"div",88),a.bVm()),2&P){const I=a.XpG(4);a.R7$(1),a.Y8G("ngIf",I.isStudent)}}function ot(P,xt){if(1&P){const I=a.RV6();a.j41(0,"div")(1,"h3",82)(2,"span",83),a.bIt("click",function(){const gt=a.eBV(I).$implicit;return a.Njj(gt.expand=!gt.expand)}),a.EFF(3),a.nI1(4,"mytranslate"),a.DNE(5,Oe,1,0,"lucide-icon",84),a.DNE(6,fe,1,0,"lucide-icon",85),a.k0s()(),a.DNE(7,A,2,1,"ng-container",30),a.k0s()}if(2&P){const I=xt.$implicit;a.R7$(3),a.Lme(" ",a.bMT(4,5,"lang_core_thang")," ",I.date," "),a.R7$(2),a.Y8G("ngIf",I.expand),a.R7$(1),a.Y8G("ngIf",!I.expand),a.R7$(1),a.Y8G("ngIf",I.expand)}}function et(P,xt){if(1&P&&(a.j41(0,"div"),a.DNE(1,je,8,13,"div",76),a.DNE(2,ot,8,7,"div",77),a.k0s()),2&P){const I=a.XpG(2);let X;a.R7$(1),a.Y8G("ngForOf",null!==(X=null==I.dataStudent?null:I.dataStudent.list)&&void 0!==X?X:a.lJ4(2,de)),a.R7$(1),a.Y8G("ngForOf",I.listGroupMarkDate)}}function Mt(P,xt){if(1&P){const I=a.RV6();a.j41(0,"azt-paging",102),a.bIt("goToPaginationPage",function(Y){a.eBV(I);const gt=a.XpG(3);return a.Njj(gt.setPageStudent(Y))}),a.k0s()}if(2&P){const I=a.XpG(3);a.Y8G("pageObj",I.pageObj)}}function Kt(P,xt){if(1&P&&(a.j41(0,"div",12),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&P){const I=a.XpG(3);a.R7$(1),a.Lme("",I.dataStudent.total," ",a.bMT(2,2,"lang_notify_list_students"),"")}}function Pt(P,xt){if(1&P&&(a.j41(0,"div",99),a.nrm(1,"div"),a.DNE(2,Mt,1,1,"azt-paging",100),a.DNE(3,Kt,3,4,"div",101),a.k0s()),2&P){const I=a.XpG(2);a.R7$(2),a.Y8G("ngIf",I.dataStudent.total>I.pageObj.pageSize),a.R7$(1),a.Y8G("ngIf",!I.isStudent)}}function Zt(P,xt){if(1&P&&(a.j41(0,"div",27),a.DNE(1,Ut,3,3,"div",28),a.DNE(2,ye,15,11,"div",29),a.DNE(3,et,3,3,"div",30),a.k0s(),a.DNE(4,Pt,4,2,"div",31)),2&P){const I=a.XpG();let X,Y,gt;a.R7$(1),a.Y8G("ngIf",!I.isStudent&&0==(null==I.dataStudent||null==I.dataStudent.list?null:I.dataStudent.list.length)&&0==(null!==(X=null==I.dataStudent?null:I.dataStudent.total)&&void 0!==X?X:0)),a.R7$(1),a.Y8G("ngIf",!I.isStudent&&(null!==(Y=null==I.dataStudent||null==I.dataStudent.list?null:I.dataStudent.list.length)&&void 0!==Y?Y:0)>0),a.R7$(1),a.Y8G("ngIf",I.isStudent),a.R7$(1),a.Y8G("ngIf",I.dataStudent&&I.dataStudent.total&&(null!==(gt=null==I.dataStudent?null:I.dataStudent.total)&&void 0!==gt?gt:0)>0)}}function Ce(P,xt){if(1&P&&(a.j41(0,"th",105),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&P){const I=xt.$implicit,X=xt.index,Y=a.XpG(2);a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+X)("excelStyle",Y.styleThNormal),a.R7$(1),a.Lme(" ",I.name+"\n"," "," ("+a.bMT(2,6,"lang_auto_he_so")+" "+I.coefficient+")"," ")}}function ne(P,xt){if(1&P&&a.nrm(0,"azt-check-mark",73),2&P){const I=a.XpG().$implicit;a.Y8G("mark",I.marks.length>0?I.marks[0]:"")}}function ce(P,xt){if(1&P&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&P){const I=a.XpG().$implicit,X=a.XpG(3);a.R7$(1),a.SpI(" ",X.returnValue(I)," ")}}function Ae(P,xt){if(1&P&&(a.j41(0,"td",105),a.DNE(1,ne,1,1,"azt-check-mark",107),a.DNE(2,ce,2,1,"span",30),a.k0s()),2&P){const I=xt.$implicit,X=xt.index,Y=a.XpG().index,gt=a.XpG(2);a.BMQ("excelRow",Y+1)("excelColumn",6+X)("excelStyle",gt.styleTdNormal),a.R7$(1),a.Y8G("ngIf","homework"==I.objectType),a.R7$(1),a.Y8G("ngIf","homework"!=I.objectType)}}function ge(P,xt){if(1&P&&(a.j41(0,"tr")(1,"td",105),a.EFF(2),a.k0s(),a.j41(3,"td",105),a.EFF(4),a.k0s(),a.j41(5,"td",105),a.EFF(6),a.k0s(),a.j41(7,"td",105),a.EFF(8),a.k0s(),a.j41(9,"td",105),a.EFF(10),a.nI1(11,"formatOnlyDateByUserUnitPipe"),a.k0s(),a.j41(12,"td",105),a.EFF(13),a.nI1(14,"mytranslate"),a.nI1(15,"mytranslate"),a.k0s(),a.DNE(16,Ae,3,5,"td",106),a.j41(17,"td",105),a.EFF(18),a.k0s()()),2&P){const I=xt.$implicit,X=xt.index,Y=a.XpG(2);let gt,j;a.R7$(1),a.BMQ("excelRow",X+1)("excelColumn",0)("excelStyle",Y.styleTdNormal),a.R7$(1),a.SpI(" ",null!=I&&I.fullName?X+1:""," "),a.R7$(1),a.BMQ("excelRow",X+1)("excelColumn",1)("excelStyle",Y.styleTdNormalLeft),a.R7$(1),a.SpI(" ",null==I?null:I.fullName," "),a.R7$(1),a.BMQ("excelRow",X+1)("excelColumn",2)("excelStyle",Y.styleTdNotNumberNormal),a.R7$(1),a.SpI(" ",null==I?null:I.phone," "),a.R7$(1),a.BMQ("excelRow",X+1)("excelColumn",3)("excelStyle",Y.styleTdNormal),a.R7$(1),a.SpI(" ",null==I?null:I.email," "),a.R7$(1),a.BMQ("excelRow",X+1)("excelColumn",4)("excelStyle",Y.styleTdNormal),a.R7$(1),a.SpI(" ",a.bMT(11,29,null==I?null:I.birthday)," "),a.R7$(2),a.BMQ("excelRow",X+1)("excelColumn",5)("excelStyle",Y.styleTdNormal),a.R7$(1),a.SpI(" ",1==(null==I?null:I.gender)?a.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==I?null:I.gender)?a.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),a.R7$(3),a.Y8G("ngForOf",null!==(gt=I.marks)&&void 0!==gt?gt:a.lJ4(35,de)),a.R7$(1),a.BMQ("excelRow",X+1)("excelColumn",6+(null!==(j=null==I.marks?null:I.marks.length)&&void 0!==j?j:0))("excelStyle",Y.styleTdNotNumberNormal),a.R7$(1),a.SpI(" ",I.averageMark," ")}}function Ee(P,xt){if(1&P&&(a.j41(0,"table",103,104)(2,"thead")(3,"tr")(4,"th",105),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s(),a.j41(7,"th",105),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s(),a.j41(10,"th",105),a.EFF(11),a.nI1(12,"mytranslate"),a.k0s(),a.j41(13,"th",105),a.EFF(14),a.nI1(15,"mytranslate"),a.k0s(),a.j41(16,"th",105),a.EFF(17),a.nI1(18,"mytranslate"),a.k0s(),a.j41(19,"th",105),a.EFF(20),a.nI1(21,"mytranslate"),a.k0s(),a.DNE(22,Ce,3,8,"th",106),a.j41(23,"th",105),a.EFF(24),a.nI1(25,"mytranslate"),a.k0s()()(),a.j41(26,"tbody"),a.DNE(27,ge,19,36,"tr",77),a.k0s()()),2&P){const I=a.XpG();let X,Y,gt;a.Y8G("border",1),a.R7$(4),a.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",I.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(6,38,"lang_student_export_excel_no")," "),a.R7$(2),a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",I.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(9,40,"lang_student_export_excel_full_name")," "),a.R7$(2),a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",I.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(12,42,"lang_number_phone")," "),a.R7$(2),a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",I.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(15,44,"lang_student_export_excel_email")," "),a.R7$(2),a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",I.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(18,46,"lang_student_export_excel_birthday")," "),a.R7$(2),a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",I.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(21,48,"lang_student_export_excel_gender")," "),a.R7$(2),a.Y8G("ngForOf",null!==(X=null==I.dataMark?null:I.dataMark.list)&&void 0!==X?X:a.lJ4(52,de)),a.R7$(1),a.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(Y=null==I.dataMark||null==I.dataMark.list?null:I.dataMark.list.length)&&void 0!==Y?Y:0))("excelStyle",I.styleThNormal),a.R7$(1),a.SpI(" ",a.bMT(25,50,"lang_business_diem_tong_ket")," "),a.R7$(3),a.Y8G("ngForOf",null!==(gt=null==I.dataStudent?null:I.dataStudent.list)&&void 0!==gt?gt:a.lJ4(53,de))}}let en=(()=>{class P extends o.H{goToProfile(I,X){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+I+"/"+X,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(I){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+I),this.initStatusObj(),this.pageObj.setPageNumber(I),this.getListStudent()}openDialogTableSingle(I){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(v.V,{width:"750px",restoreFocus:!1,data:{student:I,isTeacher:!0}}).afterClosed().subscribe(X=>{X&&this.getListStudent()}):(I.classroomId||I.id)&&this.goToProfile(I.classroomId,I.id)}onSearchBox(I){this.searchContentObj=I,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var I=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let X=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(I,X),e.L.closeLoadingEffect(200)}handlePointByValueInput(I){var X=I.target;let Y=""===X.value.trim()?"":X.value;Y=Y.replace(/[^\d\s,\.]/g,""),Y=Y.replace(/,/g,"."),Y=Y.replace(/\s+/g," "),Y=Y.replace(/\.{2,}/g,"."),Y=Y.replace(/(?:^|\s)\./g," 0."),Y=Y.replace(/^\s+/,""),Y=Y.replace(/\.\s/g," ");var gt=Y.split(" ");if(gt.length>0){var j=""!=gt[gt.length-1]?gt[gt.length-1]:gt[gt.length-2];Number(j)>-1?j.split(".").length>1&&j.split(".")[1].length>2&&(Y=Y.substring(0,Y.length-1)):Y=Y.replace(/\.$/," ")}return X.value=Y,Y.split(" ").filter(E=>""!=E).map(E=>parseFloat(E))}handleMarkStudent(I,X,Y){var gt=this.handlePointByValueInput(I);gt=0==gt.length?[-1]:gt;var j=this.dataStudent.list[X],Tt=this.dataMark.list[Y],O=this.listStudentMark.findIndex(vt=>vt.id==j.id);if(O>-1){var E=(this.listStudentMark[O].listMarks??[]).findIndex(vt=>vt.id==Tt.id);E>-1?this.listStudentMark[O].listMarks[E].points=gt:this.listStudentMark[O].listMarks?.push({id:Tt.id,points:gt})}else this.listStudentMark.push({id:j.id,listMarks:[{id:Tt.id,points:gt}]})}returnValue(I){return(I.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:X=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:X=>{this.errorStatusObj(X.error.message,!0),this.isSave=!1}}))}createNewScore(I){this.isStudent||this.sAztDialogService.open(x._,{data:I||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(Y=>{Y&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:X=>{this.dataMark=X,this.getListStudent()},error:X=>{this.errorStatusObj(X.error.message,!0)}}))}deleteMark(I){var X=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+I.name+" </div> ?";this.sAztDialogService.open(r.u,{data:{content:X},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(Y=>{Y&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(I.id).subscribe({next:gt=>{this.getListMark()},error:gt=>{this.errorStatusObj(gt.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(I=>{1==I.success&&(this.classroomObj=I.data?.obj)}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:X=>{this.dataStudent=X,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(X.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:X=>{this.errorStatusObj(X.error.message,!0)}}))}handleGroupMarkByDate(I){let X=[];I.forEach(gt=>{let j=gt.marks?.map(Tt=>({...Tt,monthAndYear:this.sAztTimeService.formatDateToMonthYear(Tt.createdAt)}))??[];X=X.concat(j)});let Y=this.commonService.arrayToDictionary(X,gt=>gt.monthAndYear);this.listGroupMarkDate=Object.entries(Y).map(([gt,j])=>({date:gt,marks:j,expand:!1}))}scrollElementStudentById(){if(this.studentId){var I=document.getElementById("row_student_"+this.studentId);I&&I.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,S.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(I,X,Y,gt,j,Tt,O,E){super(),this.commonMarkService=I,this.studentService=X,this.sAztTimeService=Y,this.sAztDialogService=gt,this.classroomService=j,this.exportExcelService=Tt,this.activeRoute=O,this.shareFileFlutterService=E,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new H.d(50),this.searchContentObj=new t.Z}static#t=this.\u0275fac=function(X){return new(X||P)(a.rXU(ft.a),a.rXU(bt.b),a.rXU(yt.F),a.rXU(tt.i),a.rXU(lt.z),a.rXU(Z.x),a.rXU(at.nX),a.rXU(nt.R))};static#e=this.\u0275cmp=a.VBU({type:P,selectors:[["app-table-score"]],viewQuery:function(X,Y){if(1&X&&a.GBs(le,5),2&X){let gt;a.mGM(gt=a.lsd())&&(Y.table_answer=gt.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[a.Vt3],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",1,"mr-1"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(X,Y){if(1&X&&(a.j41(0,"div",0),a.DNE(1,me,4,3,"div",1),a.DNE(2,ee,4,3,"div",1),a.DNE(3,Ot,9,7,"div",2),a.k0s(),a.DNE(4,Ct,1,1,"azt-loading-effect",3),a.DNE(5,Zt,5,4,"ng-template",null,4,a.C5r),a.DNE(7,Ee,28,54,"table",5)),2&X){const gt=a.sdS(6);a.R7$(1),a.Y8G("ngIf","ENTER_SCORE"==Y.screenType),a.R7$(1),a.Y8G("ngIf","TABLE_SCORE"==Y.screenType),a.R7$(1),a.Y8G("ngIf",!Y.isStudent),a.R7$(1),a.Y8G("ngIf",Y.statusObj.loading)("ngIfElse",gt),a.R7$(3),a.Y8G("ngIf","TABLE_SCORE"==Y.screenType)}},dependencies:[dt.Sq,dt.bT,it.oV,mt.K,F.q,U.D,W.R,D.$,V.W,ht.B,Ft.jd,Ft.Ew,Yt.WGl,Jt.wp,Jt.Po,Jt.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]})}return P})()},57350:(re,wt,g)=>{g.d(wt,{s:()=>r});var S=g(59640),o=g(26860),e=g(65162),H=g(19857);let r=(()=>{class t extends S.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(v){super(),this.activeRoute=v,this.classroomId=0}static#t=this.\u0275fac=function(a){return new(a||t)(o.rXU(e.nX))};static#e=this.\u0275cmp=o.VBU({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[o.Vt3],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(a,ft){1&a&&o.nrm(0,"app-table-score",0),2&a&&o.Y8G("isStudent",ft.isStudent)("screenType","TABLE_SCORE")("classroomId",ft.classroomId)("programId",0)("sessionId",0)},dependencies:[H.g],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]})}return t})()},25622:(re,wt,g)=>{g.d(wt,{b:()=>U});var S=g(59640),o=g(26860),e=g(43070),H=g(65162),r=g(54460),t=g(18718),x=g(68323),v=g(73437);function a(W,D){if(1&W&&o.nrm(0,"azt-loading-effect",2),2&W){const V=o.XpG();o.Y8G("currentStatusObj",V.statusObj)}}const ft=function(W){return{"text-white":W}};function bt(W,D){if(1&W&&(o.j41(0,"div",21),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&W){const V=o.XpG(),Ft=V.$implicit;o.Y8G("ngClass",o.eq3(4,ft,0===V.index)),o.R7$(1),o.JRh(Ft.averageMark+" "+o.bMT(2,2,"lang_auto_diem"))}}function yt(W,D){if(1&W&&(o.j41(0,"div",21),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&W){const V=o.XpG();o.Y8G("ngClass",o.eq3(4,ft,0===V.index&&V.$implicit.averageMark)),o.R7$(1),o.JRh(o.bMT(2,2,"lang_not_data"))}}function tt(W,D){1&W&&(o.j41(0,"div",22),o.qSk(),o.j41(1,"svg",23),o.nrm(2,"path",24),o.j41(3,"g",25),o.nrm(4,"path",26),o.k0s(),o.j41(5,"defs")(6,"clipPath",27),o.nrm(7,"rect",28),o.k0s()()()())}function lt(W,D){1&W&&(o.j41(0,"div",29),o.qSk(),o.j41(1,"svg",23),o.nrm(2,"path",30),o.j41(3,"g",31),o.nrm(4,"path",26),o.k0s(),o.j41(5,"defs")(6,"clipPath",32),o.nrm(7,"rect",28),o.k0s()()()())}function Z(W,D){1&W&&(o.j41(0,"div",33),o.qSk(),o.j41(1,"svg",23),o.nrm(2,"path",34),o.j41(3,"g",35),o.nrm(4,"path",26),o.k0s(),o.j41(5,"defs")(6,"clipPath",36),o.nrm(7,"rect",28),o.k0s()()()())}const at=function(W,D,V){return{"p-5 bg-primary text-white":W,"p-3":D,"border border-primary p-4 border-w-2":V}},nt=function(W){return{"text-base":W}};function dt(W,D){if(1&W){const V=o.RV6();o.j41(0,"div",8),o.bIt("click",function(){const Yt=o.eBV(V).$implicit,Jt=o.XpG(3);return o.Njj(Jt.goToProfile(Yt.classroomId,Yt.id))}),o.j41(1,"div",9)(2,"span",10),o.EFF(3),o.k0s()(),o.j41(4,"div",11)(5,"div",12),o.nrm(6,"azt-create-avatar",13),o.k0s(),o.j41(7,"div",14)(8,"div",15),o.EFF(9),o.k0s(),o.DNE(10,bt,3,6,"div",16),o.DNE(11,yt,3,6,"div",16),o.k0s()(),o.j41(12,"div",17),o.DNE(13,tt,8,0,"div",18),o.DNE(14,lt,8,0,"div",19),o.DNE(15,Z,8,0,"div",20),o.k0s()()}if(2&W){const V=D.$implicit,ht=D.index;o.Y8G("ngClass",o.sMw(12,at,0===ht&&V.averageMark,0!==ht||!V.averageMark,(2===ht||1===ht)&&V.averageMark)),o.R7$(3),o.JRh(ht+1),o.R7$(3),o.Y8G("linkAvatar",V.avatar)("nameCreateAvatar",V.fullName)("size",0===ht?48:44),o.R7$(2),o.Y8G("ngClass",o.eq3(16,nt,0===ht)),o.R7$(1),o.JRh(V.fullName),o.R7$(1),o.Y8G("ngIf",V.averageMark),o.R7$(1),o.Y8G("ngIf",!V.averageMark),o.R7$(2),o.Y8G("ngIf",0===ht&&V.averageMark),o.R7$(1),o.Y8G("ngIf",1===ht&&V.averageMark),o.R7$(1),o.Y8G("ngIf",2===ht&&V.averageMark)}}function it(W,D){if(1&W&&(o.j41(0,"div",5)(1,"div",6),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.DNE(4,dt,16,18,"div",7),o.k0s()),2&W){const V=o.XpG(2);o.R7$(2),o.SpI(" ",o.bMT(3,2,"lang_azt_leaderboard")," "),o.R7$(2),o.Y8G("ngForOf",V.dataStudent.list)}}function mt(W,D){1&W&&(o.j41(0,"div",37)(1,"div",38),o.qSk(),o.j41(2,"svg",39),o.nrm(3,"path",40)(4,"path",41)(5,"path",42)(6,"path",43)(7,"path",44)(8,"path",45),o.k0s(),o.joV(),o.j41(9,"p",46),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s()()()),2&W&&(o.R7$(10),o.JRh(o.bMT(11,1,"lang_not_data")+"!"))}function F(W,D){if(1&W&&(o.DNE(0,it,5,4,"div",3),o.DNE(1,mt,12,3,"ng-template",null,4,o.C5r)),2&W){const V=o.sdS(2),ht=o.XpG();o.Y8G("ngIf",ht.dataStudent&&ht.dataStudent.list&&ht.dataStudent.list.length)("ngIfElse",V)}}let U=(()=>{class W extends S.H{goToProfile(V,ht){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+V+"/"+ht,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${V}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}}).subscribe({next:ht=>{this.dataStudent=ht,this.stopStatusObj()},error:ht=>{this.errorStatusObj(ht.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(V,ht){super(),this.studentService=V,this.activeRoute=ht,this.classroomId=0}static#t=this.\u0275fac=function(ht){return new(ht||W)(o.rXU(e.b0),o.rXU(H.nX))};static#e=this.\u0275cmp=o.VBU({type:W,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[o.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#FFD54B"],["clip-path","url(#clip0_199_17919)"],["d","M20 15L23.3333 20L27.5 16.6667L25.8333 25H14.1667L12.5 16.6667L16.6667 20L20 15Z","fill","white","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_199_17919"],["width","20","height","20","fill","white","transform","translate(10 10)"],[1,"icon-top-2"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#E1E1E2"],["clip-path","url(#clip0_199_17945)"],["id","clip0_199_17945"],[1,"icon-top-3"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#F6B191"],["clip-path","url(#clip0_199_17968)"],["id","clip0_199_17968"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(ht,Ft){if(1&ht&&(o.DNE(0,a,1,1,"azt-loading-effect",0),o.DNE(1,F,3,2,"ng-template",null,1,o.C5r)),2&ht){const Yt=o.sdS(2);o.Y8G("ngIf",Ft.statusObj.loading)("ngIfElse",Yt)}},dependencies:[r.YU,r.Sq,r.bT,t.K,x.p,v.wp],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]})}return W})()},95054:(re,wt,g)=>{g.d(wt,{K:()=>gt});var S=g(26988),o=g(59640),e=function(j){return j[j.ADD_NEW=0]="ADD_NEW",j[j.UPDATE=1]="UPDATE",j[j.DELETE=2]="DELETE",j}(e||{}),H=g(10936),r=g(26860),t=g(43070),x=g(54460),v=g(47712),a=g(18718),ft=g(52811),bt=g(15343),yt=g(15766),tt=g(39712),lt=g(36484),Z=g(97839),at=g(99965),nt=g(63349),dt=g(53043),it=g(46899);function mt(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"div",2)(1,"div",3)(2,"a",4),r.bIt("click",function(){const vt=r.eBV(O).$implicit,Dt=r.XpG();return r.Njj(Dt.onShowFile(vt,-1))}),r.j41(3,"div",5),r.nrm(4,"img",6),r.j41(5,"span",7),r.bIt("click",function(){const vt=r.eBV(O).$implicit,Dt=r.XpG();return r.Njj(Dt.removeFile(vt))}),r.qSk(),r.j41(6,"svg",8),r.nrm(7,"line",9)(8,"line",10),r.k0s()()()()()()}if(2&j){const O=Tt.$implicit;r.R7$(4),r.Y8G("src",O.url,r.B4B)}}let F=(()=>{class j extends o.H{onShowFile(O,E){let y={...O,index:E};this.sAztDialogService.open(dt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:y},restoreFocus:!1})}removeFile(O){this.files=this.files.filter(E=>E.url!=O.url),this.filesChange.emit(this.files)}constructor(O){super(),this.sAztDialogService=O,this.filesChange=new r.bkB}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(it.i))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[r.Vt3],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","stroke-1.5","h-4","w-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(E,y){1&E&&(r.j41(0,"div",0),r.DNE(1,mt,9,1,"div",1),r.k0s()),2&E&&(r.R7$(1),r.Y8G("ngForOf",y.files))},dependencies:[x.Sq],encapsulation:2})}return j})();var U=g(73437);function W(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"app-new-list-images",13),r.bIt("filesChange",function(y){r.eBV(O);const vt=r.XpG();return r.Njj(vt.files=y)}),r.k0s()}if(2&j){const O=r.XpG();r.Y8G("files",O.files)}}function D(j,Tt){1&j&&r.nrm(0,"azt-loading-ui",14)}const V=function(j){return[j]};let ht=(()=>{class j extends o.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var O={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(E=>E.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.newsService.apiNewsPost(O).subscribe({next:E=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...E,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}}handleUploadComplete(O){this.files.push(...O)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(O,E){super(),this.newsService=O,this.userService=E,this.changePostObjEvent=new r.bkB,this.contentFormControl=new H.MJ("",{nonNullable:!0,validators:[yt.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=tt.b8,this.allUploadFileTypes=tt.PO}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(lt.R))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.Vt3],decls:19,vars:21,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],["size","24",3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"mr-1"]],template:function(E,y){1&E&&(r.j41(0,"div",0)(1,"div",1)(2,"textarea",2),r.nI1(3,"mytranslate"),r.EFF(4,"        "),r.k0s(),r.DNE(5,W,1,1,"app-new-list-images",3),r.k0s(),r.j41(6,"div",4)(7,"div",5)(8,"button",6),r.bIt("click",function(){return y.isLockComment=!y.isLockComment}),r.nI1(9,"mytranslate"),r.nrm(10,"lucide-icon",7),r.k0s(),r.j41(11,"azt-upload-multiple-box",8),r.bIt("uploadComplete",function(Dt){return y.handleUploadComplete(Dt)}),r.j41(12,"span",9),r.nrm(13,"lucide-icon",10),r.nI1(14,"mytranslate"),r.k0s()(),r.j41(15,"button",11),r.bIt("click",function(){return y.saveNewPost()}),r.DNE(16,D,1,0,"azt-loading-ui",12),r.EFF(17),r.nI1(18,"mytranslate"),r.k0s()()()()),2&E&&(r.R7$(2),r.FS9("placeholder",r.bMT(3,11,"lang_business_news_post_content")),r.Y8G("formControl",y.contentFormControl),r.R7$(3),r.Y8G("ngIf",y.files.length),r.R7$(3),r.FS9("matTooltip",r.bMT(9,13,y.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),r.R7$(2),r.Y8G("name",y.isLockComment?"lock":"unlock"),r.R7$(1),r.Y8G("uploadToCdnMenu",y.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",r.eq3(19,V,y.allUploadFileTypes.IMAGE)),r.R7$(2),r.FS9("matTooltip",r.bMT(14,15,"lang_core_tai_anh")),r.R7$(2),r.Y8G("disabled",""==y.contentFormControl.value||y.statusObj.loading),r.R7$(1),r.Y8G("ngIf",y.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(18,17,"lang_business_news_add_new_post_button")," "))},dependencies:[x.bT,Z.fg,v.oV,H.me,H.BC,H.l_,at.j,ft.R,nt.V,bt.WGl,F,U.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]})}return j})();var Ft=g(89163),Yt=g(33887),Jt=g(2915);function le(j,Tt){1&j&&r.nrm(0,"azt-loading-ui",9)}let me=(()=>{class j extends Yt._{btnCloseDialog(O){this.dialogRef.close(O)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:O=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}constructor(O,E,y){super(y,E),this.newsService=O,this.dialogRef=E,this.data=y,this.postObj=y}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(Ft.CP,8),r.rXU(Ft.Vh,8))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-delete-news-post-confirm-dialog"]],features:[r.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(E,y){1&E&&(r.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),r.EFF(5),r.nI1(6,"mytranslate"),r.j41(7,"b",4),r.EFF(8),r.k0s(),r.EFF(9,"? "),r.k0s()()()(),r.j41(10,"div",5)(11,"button",6),r.bIt("click",function(){return y.btnCloseDialog(!1)}),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s(),r.j41(14,"button",7),r.bIt("click",function(){return y.confirmDelete()}),r.DNE(15,le,1,0,"azt-loading-ui",8),r.EFF(16),r.nI1(17,"mytranslate"),r.k0s()()()),2&E&&(r.R7$(5),r.SpI(" ",r.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),r.R7$(3),r.JRh(y.postObj.content),r.R7$(4),r.SpI(" ",r.bMT(13,7,"lang_cms_common_close_btn")," "),r.R7$(3),r.Y8G("ngIf",y.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[x.bT,Jt.U,ft.R,U.wp],encapsulation:2})}return j})();var ee=g(17818),Qt=g(68323),jt=g(49221),Lt=function(j){return j[j.ADD_NEW=0]="ADD_NEW",j[j.UPDATE=1]="UPDATE",j[j.DELETE=2]="DELETE",j}(Lt||{}),kt=g(74960),Ot=g(43558);function Ct(j,Tt){1&j&&r.nrm(0,"azt-loading-ui",9)}let Ut=(()=>{class j extends o.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:E=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...E,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:E=>{this.errorStatusObj(E.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(O,E){super(),this.newsService=O,this.userService=E,this.changeCommentObjEvent=new r.bkB,this.commentContentFormControl=new H.MJ("",{nonNullable:!0,validators:[yt.M.noWhiteSpace]})}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(lt.R))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[r.Vt3],decls:12,vars:13,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",1,"text-primary","flex-none","zoom-in"],[1,"mr-1"]],template:function(E,y){1&E&&(r.j41(0,"div",0),r.nrm(1,"azt-create-avatar",1),r.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),r.bIt("enterKey",function(){return!(""==y.commentContentFormControl.value||y.statusObj.loading)&&y.saveNewComment()}),r.nI1(5,"mytranslate"),r.EFF(6,"            "),r.k0s()(),r.j41(7,"div",5)(8,"button",6),r.bIt("click",function(){return y.saveNewComment()}),r.nI1(9,"mytranslate"),r.DNE(10,Ct,1,0,"azt-loading-ui",7),r.nrm(11,"lucide-icon",8),r.k0s()()()()),2&E&&(r.R7$(1),r.Y8G("nameCreateAvatar",y.userObj.fullName)("linkAvatar",y.userObj.avatar)("size",30),r.R7$(3),r.FS9("placeholder",r.bMT(5,9,"lang_core_viet_binh_luan")),r.Y8G("enableInMobile",!1)("formControl",y.commentContentFormControl),r.R7$(4),r.FS9("matTooltip",r.bMT(9,11,"lang_business_news_add_new_post_button")),r.Y8G("disabled",""==y.commentContentFormControl.value||y.statusObj.loading),r.R7$(2),r.Y8G("ngIf",y.statusObj.loading))},dependencies:[x.bT,Z.fg,kt.rl,v.oV,H.me,H.BC,H.l_,Qt.p,at.j,Ot.Z,ft.R,bt.WGl,U.wp],encapsulation:2})}return j})();function ut(j,Tt){1&j&&r.nrm(0,"azt-loading-ui",9)}let K=(()=>{class j extends Yt._{btnCloseDialog(O){this.dialogRef.close(O)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:O=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}constructor(O,E,y){super(y,E),this.newsService=O,this.dialogRef=E,this.data=y,this.postObj=y.postObj,this.commentObj=y.commentObj}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(Ft.CP,8),r.rXU(Ft.Vh,8))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[r.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(E,y){1&E&&(r.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),r.EFF(5),r.nI1(6,"mytranslate"),r.j41(7,"b",4),r.EFF(8),r.k0s(),r.EFF(9,"? "),r.k0s()()()(),r.j41(10,"div",5)(11,"button",6),r.bIt("click",function(){return y.btnCloseDialog(!1)}),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s(),r.j41(14,"button",7),r.bIt("click",function(){return y.confirmDelete()}),r.DNE(15,ut,1,0,"azt-loading-ui",8),r.EFF(16),r.nI1(17,"mytranslate"),r.k0s()()()),2&E&&(r.R7$(5),r.SpI(" ",r.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),r.R7$(3),r.JRh(y.commentObj.content),r.R7$(4),r.SpI(" ",r.bMT(13,7,"lang_cms_common_close_btn")," "),r.R7$(3),r.Y8G("ngIf",y.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[x.bT,Jt.U,ft.R,U.wp],encapsulation:2})}return j})();function B(j,Tt){if(1&j&&(r.j41(0,"button",15),r.qSk(),r.j41(1,"svg",16),r.nrm(2,"circle",17)(3,"circle",18)(4,"circle",19),r.k0s()()),2&j){r.XpG();const O=r.sdS(12);r.Y8G("matMenuTriggerFor",O)}}function $(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"li")(1,"a",20),r.bIt("click",function(){r.eBV(O);const y=r.XpG();return r.Njj(y.editCommentEvent())}),r.nrm(2,"lucide-icon",21),r.EFF(3),r.nI1(4,"mytranslate"),r.k0s()()}2&j&&(r.R7$(3),r.SpI(" ",r.bMT(4,1,"lang_auto_sua")," "))}function pt(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"li")(1,"a",22),r.bIt("click",function(){r.eBV(O);const y=r.XpG();return r.Njj(y.deleteCommentEvent())}),r.nrm(2,"lucide-icon",23),r.EFF(3),r.nI1(4,"mytranslate"),r.k0s()()}2&j&&(r.R7$(3),r.SpI(" ",r.bMT(4,1,"lang_auto_xoa")," "))}let Et=(()=>{class j extends o.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:Lt.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(K,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(E=>{E&&this.changeCommentObjEvent.emit({actionType:Lt.DELETE,commentObj:this.commentObj})})}constructor(O){super(),this.sAztDialogService=O,this.changeCommentObjEvent=new r.bkB}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(it.i))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[r.Jv_([S.h]),r.Vt3],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",1,"mr-1"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",1,"mr-1","text-danger"]],template:function(E,y){1&E&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"azt-create-avatar",2),r.k0s(),r.j41(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),r.EFF(7),r.k0s(),r.nrm(8,"azt-see-more-multiple-lines",6),r.k0s(),r.j41(9,"div",7),r.DNE(10,B,5,1,"button",8),r.j41(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),r.DNE(15,$,5,3,"li",13),r.DNE(16,pt,5,3,"li",13),r.k0s()()()()(),r.j41(17,"div",14),r.EFF(18),r.nI1(19,"relativeTime"),r.k0s()()()),2&E&&(r.R7$(2),r.Y8G("nameCreateAvatar",null==y.commentObj.user?null:y.commentObj.user.fullName)("linkAvatar",null==y.commentObj.user?null:y.commentObj.user.avatar)("size",30),r.R7$(5),r.SpI(" ",null==y.commentObj.user?null:y.commentObj.user.fullName,"\xa0 "),r.R7$(1),r.Y8G("content",y.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),r.R7$(2),r.Y8G("ngIf",y.commentObj.allowDelete||y.commentObj.allowEdit),r.R7$(5),r.Y8G("ngIf",y.commentObj.allowEdit),r.R7$(1),r.Y8G("ngIf",y.commentObj.allowDelete),r.R7$(2),r.JRh(r.bMT(19,11,y.commentObj.createdAt)))},dependencies:[x.bT,ee.kk,ee.Cp,Qt.p,jt.R,bt.WGl,U.wp,U.NA],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]})}return j})();function Xt(j,Tt){1&j&&r.nrm(0,"azt-loading-ui",11)}let ie=(()=>{class j extends o.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var O={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,O).subscribe({next:E=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=O.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(O,E){super(),this.newsService=O,this.userService=E,this.changeCommentObjEvent=new r.bkB,this.commentContentFormControl=new H.MJ("",{nonNullable:!0,validators:[yt.M.noWhiteSpace]})}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(lt.R))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[r.Vt3],decls:16,vars:16,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",1,"text-primary"],[1,"mr-1"]],template:function(E,y){1&E&&(r.j41(0,"div",0),r.nrm(1,"azt-create-avatar",1),r.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),r.bIt("enterKey",function(){return!(""==y.commentContentFormControl.value||y.statusObj.loading)&&y.saveNewComment()}),r.nI1(5,"mytranslate"),r.EFF(6,"            "),r.k0s()(),r.j41(7,"div",5)(8,"div",6)(9,"button",7),r.bIt("click",function(){return y.cancel()}),r.EFF(10),r.nI1(11,"mytranslate"),r.k0s(),r.j41(12,"button",8),r.bIt("click",function(){return y.saveNewComment()}),r.nI1(13,"mytranslate"),r.DNE(14,Xt,1,0,"azt-loading-ui",9),r.nrm(15,"lucide-icon",10),r.k0s()()()()()),2&E&&(r.R7$(1),r.Y8G("nameCreateAvatar",y.userObj.fullName)("linkAvatar",y.userObj.avatar)("size",30),r.R7$(3),r.FS9("placeholder",r.bMT(5,10,"lang_core_viet_binh_luan")),r.Y8G("enableInMobile",!1)("formControl",y.commentContentFormControl),r.R7$(6),r.SpI(" ",r.bMT(11,12,"lang_cms_common_close_btn")," "),r.R7$(2),r.FS9("matTooltip",r.bMT(13,14,"lang_business_news_add_new_post_button")),r.Y8G("disabled",""==y.commentContentFormControl.value||y.statusObj.loading),r.R7$(2),r.Y8G("ngIf",y.statusObj.loading))},dependencies:[x.bT,Z.fg,kt.rl,v.oV,H.me,H.BC,H.l_,Qt.p,at.j,Ot.Z,ft.R,bt.WGl,U.wp],encapsulation:2})}return j})();function Se(j,Tt){if(1&j){const O=r.RV6();r.qex(0),r.j41(1,"app-news-view-comment",6),r.bIt("changeCommentObjEvent",function(y){r.eBV(O);const vt=r.XpG(2);return r.Njj(vt.changeCommentObj(y.actionType,y.commentObj))}),r.k0s(),r.bVm()}if(2&j){const O=r.XpG().$implicit,E=r.XpG();r.R7$(1),r.Y8G("postObj",E.postObj)("commentObj",O)}}function $e(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"div",2)(1,"app-news-edit-comment",6),r.bIt("changeCommentObjEvent",function(y){r.eBV(O);const vt=r.XpG(2);return r.Njj(vt.changeCommentObj(vt.enumNewsCommentActionType.UPDATE,y))}),r.k0s()()}if(2&j){const O=r.XpG().$implicit,E=r.XpG();r.R7$(1),r.Y8G("postObj",E.postObj)("commentObj",O)}}function de(j,Tt){if(1&j&&(r.j41(0,"div"),r.DNE(1,Se,2,2,"ng-container",4),r.DNE(2,$e,2,2,"ng-template",null,5,r.C5r),r.k0s()),2&j){const O=Tt.$implicit,E=r.sdS(3);r.R7$(1),r.Y8G("ngIf",!O.isShowEditForm)("ngIfElse",E)}}function Pe(j,Tt){1&j&&r.nrm(0,"azt-loading-ui",10)}function ye(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"div",7)(1,"button",8),r.bIt("click",function(){r.eBV(O);const y=r.XpG();return r.Njj(!y.sAztNextPaginationService.isLoadingNextPage&&y.getNextPage())}),r.EFF(2),r.nI1(3,"mytranslate"),r.DNE(4,Pe,1,0,"azt-loading-ui",9),r.k0s()()}if(2&j){const O=r.XpG();r.R7$(2),r.SpI(" ",r.bMT(3,2,"lang_business_news_load_more_comments")," "),r.R7$(2),r.Y8G("ngIf",O.sAztNextPaginationService.isLoadingNextPage)}}let je=(()=>{class j extends o.H{changeCommentObj(O,E){O==Lt.ADD_NEW?(this.commentObjs.unshift(E),this.postObj.totalComment+=1):O==Lt.UPDATE?this.commentObjs=this.commentObjs.map(y=>y.id==E.id?E:y):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(y=>y.id!=E.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(O){O?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:E=>{E.list.forEach(y=>{this.commentObjs.push({...y,isShowEditForm:!1,allowEdit:y.tenantId==this.userObj.id,allowDelete:!this.isStudent||y.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(E.total),this.stopStatusObj()},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(O,E,y){super(),this.newsService=O,this.userService=E,this.sAztNextPaginationService=y,this.commentObjs=[],this.enumNewsCommentActionType=Lt,this.userObj=this.userService.getUserObj()}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(lt.R),r.rXU(S.h))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[r.Jv_([S.h]),r.Vt3],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(E,y){1&E&&(r.DNE(0,de,4,2,"div",0),r.DNE(1,ye,5,4,"div",1),r.j41(2,"div",2)(3,"app-news-add-new-comments",3),r.bIt("changeCommentObjEvent",function(Dt){return y.changeCommentObj(y.enumNewsCommentActionType.ADD_NEW,Dt)}),r.k0s()()),2&E&&(r.Y8G("ngForOf",y.commentObjs),r.R7$(1),r.Y8G("ngIf",y.commentObjs.length&&y.sAztNextPaginationService.hasNextPage),r.R7$(2),r.Y8G("postObj",y.postObj))},dependencies:[x.Sq,x.bT,ft.R,Ut,Et,ie,U.wp],encapsulation:2})}return j})();function Oe(j,Tt){1&j&&(r.j41(0,"div",2)(1,"span",3),r.nrm(2,"lucide-icon",4),r.k0s(),r.j41(3,"span"),r.EFF(4),r.nI1(5,"mytranslate"),r.k0s()()),2&j&&(r.R7$(4),r.JRh(r.bMT(5,1,"lang_student_comment_feature_disabled")))}const fe=function(j){return{clickable:j}},we=function(j,Tt){return{"heart-selected":j,"heart-non-selected":Tt}};function be(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"div",5)(1,"div",6),r.nI1(2,"isParentViewOnly"),r.j41(3,"button",7),r.bIt("click",function(){r.eBV(O);const y=r.XpG();return r.Njj(y.changeEmotionEvent())}),r.nI1(4,"isParentViewOnly"),r.qSk(),r.j41(5,"svg",8),r.nrm(6,"path",9),r.k0s()(),r.joV(),r.j41(7,"span"),r.EFF(8),r.k0s()(),r.j41(9,"div",10),r.nI1(10,"isParentViewOnly"),r.j41(11,"button",11),r.bIt("click",function(){r.eBV(O);const y=r.XpG();return r.Njj(y.showCommentObjs())}),r.nI1(12,"isParentViewOnly"),r.nrm(13,"lucide-icon",12),r.k0s(),r.j41(14,"span"),r.EFF(15),r.k0s()()()}if(2&j){const O=r.XpG();r.R7$(1),r.Y8G("ngClass",r.eq3(15,fe,!r.bMT(2,7,""))),r.R7$(2),r.Y8G("disabled",r.bMT(4,9,"")),r.R7$(2),r.Y8G("ngClass",r.l_i(17,we,O.postObj.hasLoveEmotion,!O.postObj.hasLoveEmotion)),r.R7$(3),r.JRh(O.postObj.totalEmotion),r.R7$(1),r.Y8G("ngClass",r.eq3(20,fe,!r.bMT(10,11,""))),r.R7$(2),r.Y8G("disabled",r.bMT(12,13,"")),r.R7$(4),r.JRh(O.postObj.totalComment)}}let ze=(()=>{class j extends o.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:O=>{this.successStatusObj()},error:O=>{this.errorStatusObj(O.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(O){super(),this.newsService=O,this.changePostObjEvent=new r.bkB}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.Vt3],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-heart",3,"ngClass"],["d","M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"disabled","click"],["name","message-square","size","20"]],template:function(E,y){1&E&&(r.DNE(0,Oe,6,3,"div",0),r.DNE(1,be,16,22,"div",1)),2&E&&(r.Y8G("ngIf",y.postObj.isLockComment),r.R7$(1),r.Y8G("ngIf",!y.postObj.isLockComment))},dependencies:[x.YU,x.bT,bt.WGl,U.wp,U.hx],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']})}return j})();var Q=g(40111);function Rt(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"a",3),r.bIt("click",function(){const vt=r.eBV(O).$implicit,Dt=r.XpG();return r.Njj(Dt.onShowFile(vt))}),r.nrm(1,"img",4),r.k0s()}if(2&j){const O=Tt.$implicit;r.R7$(1),r.Y8G("src",O.imageLink,r.B4B)}}let A=(()=>{class j extends o.H{onShowFile(O){this.sAztDialogService.open(dt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+O.id,mimes:"image/jpeg",url:O.imageLink,index:-1}},restoreFocus:!1})}constructor(O,E){super(),this.sAztDialogService=O,this.sAztFileTypeService=E,this.images=[]}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(it.i),r.rXU(Q.k))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[r.Vt3],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(E,y){1&E&&(r.j41(0,"div",0)(1,"div",1),r.DNE(2,Rt,2,1,"a",2),r.k0s()()),2&E&&(r.R7$(2),r.Y8G("ngForOf",y.images))},dependencies:[x.Sq],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']})}return j})();function ot(j,Tt){if(1&j&&r.eu8(0,14),2&j){r.XpG();const O=r.sdS(17);r.Y8G("ngTemplateOutlet",O)}}function et(j,Tt){if(1&j&&(r.j41(0,"div"),r.nrm(1,"hr",10)(2,"app-news-list-comments",15),r.k0s()),2&j){const O=r.XpG();r.R7$(2),r.Y8G("isStudent",O.isStudent)("postObj",O.postObj)}}function Mt(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"div",16)(1,"button",17),r.qSk(),r.j41(2,"svg",18),r.nrm(3,"circle",19)(4,"circle",20)(5,"circle",21),r.k0s()(),r.joV(),r.j41(6,"mat-menu",22,23)(8,"div",24)(9,"ul",25)(10,"li")(11,"a",26),r.bIt("click",function(){r.eBV(O);const y=r.XpG();return r.Njj(y.editPostEvent())}),r.nrm(12,"lucide-icon",27),r.EFF(13),r.nI1(14,"mytranslate"),r.k0s()(),r.j41(15,"li")(16,"a",28),r.bIt("click",function(){r.eBV(O);const y=r.XpG();return r.Njj(y.deletePostEvent())}),r.nrm(17,"lucide-icon",29),r.EFF(18),r.nI1(19,"mytranslate"),r.k0s()(),r.j41(20,"li")(21,"label",30),r.bIt("click",function(y){return y.stopPropagation()}),r.j41(22,"div",31),r.nrm(23,"lucide-icon",32),r.EFF(24),r.nI1(25,"mytranslate"),r.k0s(),r.j41(26,"div",33)(27,"input",34),r.bIt("change",function(){r.eBV(O);const y=r.XpG();return r.Njj(y.changeLockCommentStatus())}),r.k0s()()()()()()()()}if(2&j){const O=r.sdS(7),E=r.XpG();r.R7$(1),r.Y8G("matMenuTriggerFor",O),r.R7$(12),r.SpI(" ",r.bMT(14,5,"lang_auto_sua")," "),r.R7$(5),r.SpI(" ",r.bMT(19,7,"lang_auto_xoa")," "),r.R7$(6),r.SpI(" ",r.bMT(25,9,"lang_student_comment_lock")," "),r.R7$(3),r.Y8G("formControl",E.isLockComment)}}let Kt=(()=>{class j extends o.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(me,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(E=>{E&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const O=this.isLockComment.value;this.waitDestroy((O?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const y=O?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=O?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(y)},error:y=>{this.errorStatusObj(y.error.message,!0)}}))}changeEmotionEventEvent(O){this.postObj=O,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(O,E){super(),this.sAztDialogService=O,this.newsService=E,this.changePostObjEvent=new r.bkB,this.isLockComment=new H.MJ(!1)}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(it.i),r.rXU(t.bH))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.Vt3],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",1,"mr-1"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",1,"mr-1"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",1,"mr-1"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(E,y){if(1&E&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"azt-create-avatar",2),r.k0s(),r.j41(3,"div",3)(4,"a",4),r.EFF(5),r.k0s(),r.j41(6,"div",5),r.EFF(7),r.nI1(8,"relativeTime"),r.k0s()()(),r.DNE(9,ot,1,1,"ng-container",6),r.j41(10,"div",7),r.nrm(11,"azt-see-more-multiple-lines",8),r.k0s(),r.nrm(12,"app-list-images-post",9)(13,"hr",10),r.j41(14,"app-news-emotions",11),r.bIt("changePostObjEvent",function(Dt){return y.changeEmotionEventEvent(Dt)}),r.k0s(),r.DNE(15,et,3,2,"div",12),r.DNE(16,Mt,28,11,"ng-template",null,13,r.C5r)),2&E){let vt;r.R7$(2),r.Y8G("nameCreateAvatar",null==y.postObj.user?null:y.postObj.user.fullName)("linkAvatar",null==y.postObj.user?null:y.postObj.user.avatar)("size",36),r.R7$(3),r.SpI("",null==y.postObj.user?null:y.postObj.user.fullName,"\xa0"),r.R7$(2),r.JRh(r.bMT(8,11,y.postObj.createdAt)),r.R7$(2),r.Y8G("ngIf",!y.isStudent),r.R7$(2),r.Y8G("content",y.postObj.content)("maxLine",0==(null!==(vt=null==y.postObj.images?null:y.postObj.images.length)&&void 0!==vt?vt:0)?y.postObj.content.length:10),r.R7$(1),r.Y8G("images",y.postObj.images),r.R7$(2),r.Y8G("postObj",y.postObj),r.R7$(1),r.Y8G("ngIf",y.postObj.isShowCommentBox)}},dependencies:[x.bT,x.T3,ee.kk,ee.Cp,H.Zm,H.BC,H.l_,Qt.p,jt.R,bt.WGl,je,ze,A,U.wp,U.NA],encapsulation:2})}return j})();function Pt(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"app-new-list-images",13),r.bIt("filesChange",function(y){r.eBV(O);const vt=r.XpG();return r.Njj(vt.files=y)}),r.k0s()}if(2&j){const O=r.XpG();r.Y8G("files",O.files)}}function Zt(j,Tt){1&j&&r.nrm(0,"azt-loading-ui",14)}const Ce=function(j){return[j]};let ne=(()=>{class j extends o.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let O={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(E=>E.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,O).subscribe({next:E=>{this.successStatusObj("lang_cms_update_success",!0);let y=[];this.files.forEach(vt=>{y.push({id:0,newsId:this.postObj?.id??0,imageLink:vt.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=O.content,this.postObj.images=y,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}}handleUploadComplete(O){this.files.push(...O)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(O=>{this.files.push({name:"",mimes:"image/jpeg",url:O.imageLink})})}constructor(O,E){super(),this.newsService=O,this.userService=E,this.changePostObjEvent=new r.bkB,this.contentFormControl=new H.MJ("",{nonNullable:!0,validators:[yt.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=tt.b8,this.allUploadFileTypes=tt.PO}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(lt.R))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.Vt3],decls:21,vars:23,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"files","filesChange"],[1,"mr-1"]],template:function(E,y){1&E&&(r.j41(0,"div")(1,"div",0),r.nrm(2,"azt-create-avatar",1),r.j41(3,"div",2)(4,"textarea",3),r.nI1(5,"mytranslate"),r.EFF(6,"            "),r.k0s()()(),r.DNE(7,Pt,1,1,"app-new-list-images",4),r.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),r.bIt("uploadComplete",function(Dt){return y.handleUploadComplete(Dt)}),r.j41(11,"span",8),r.nrm(12,"lucide-icon",9),r.nI1(13,"mytranslate"),r.k0s()(),r.j41(14,"button",10),r.bIt("click",function(){return y.cancel()}),r.EFF(15),r.nI1(16,"mytranslate"),r.k0s(),r.j41(17,"button",11),r.bIt("click",function(){return y.saveNewPost()}),r.DNE(18,Zt,1,0,"azt-loading-ui",12),r.EFF(19),r.nI1(20,"mytranslate"),r.k0s()()()()),2&E&&(r.R7$(2),r.Y8G("nameCreateAvatar",y.userObj.fullName)("linkAvatar",y.userObj.avatar)("size",36),r.R7$(2),r.FS9("placeholder",r.bMT(5,13,"lang_business_news_post_content")),r.Y8G("formControl",y.contentFormControl),r.R7$(3),r.Y8G("ngIf",y.files.length),r.R7$(3),r.Y8G("uploadToCdnMenu",y.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",r.eq3(21,Ce,y.allUploadFileTypes.IMAGE)),r.R7$(2),r.FS9("matTooltip",r.bMT(13,15,"lang_core_tai_anh")),r.R7$(3),r.SpI(" ",r.bMT(16,17,"lang_cms_common_close_btn")," "),r.R7$(2),r.Y8G("disabled",""==y.contentFormControl.value||y.statusObj.loading),r.R7$(1),r.Y8G("ngIf",y.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(20,19,"lang_business_news_update_post_button")," "))},dependencies:[x.bT,Z.fg,v.oV,H.me,H.BC,H.l_,Qt.p,at.j,ft.R,nt.V,bt.WGl,F,U.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]})}return j})();function ce(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"div",10)(1,"app-news-add-new-post",11),r.bIt("changePostObjEvent",function(y){r.eBV(O);const vt=r.XpG();return r.Njj(vt.changePostObj(vt.enumNewsPostActionType.ADD_NEW,y))}),r.k0s()()}if(2&j){const O=r.XpG();r.R7$(1),r.Y8G("classroomId",O.classroomId)("isSchool",O.isSchoolControl.getRawValue())}}function Ae(j,Tt){if(1&j&&(r.j41(0,"div",12),r.nrm(1,"azt-loading-effect",13),r.k0s()),2&j){const O=r.XpG();r.R7$(1),r.Y8G("currentStatusObj",O.statusObj)}}function ge(j,Tt){if(1&j){const O=r.RV6();r.qex(0),r.j41(1,"app-news-view-post",18),r.bIt("changePostObjEvent",function(y){r.eBV(O);const vt=r.XpG(3);return r.Njj(vt.changePostObj(y.actionType,y.postObj))}),r.k0s(),r.bVm()}if(2&j){const O=r.XpG().$implicit,E=r.XpG(2);r.R7$(1),r.Y8G("isStudent",E.isStudent)("postObj",O)}}function Ee(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"app-news-edit-post",19),r.bIt("changePostObjEvent",function(y){r.eBV(O);const vt=r.XpG(3);return r.Njj(vt.changePostObj(vt.enumNewsPostActionType.UPDATE,y))}),r.k0s()}if(2&j){const O=r.XpG().$implicit,E=r.XpG(2);r.Y8G("postObj",O)("classroomId",E.classroomId)}}function en(j,Tt){if(1&j&&(r.j41(0,"div",15),r.DNE(1,ge,2,2,"ng-container",16),r.DNE(2,Ee,1,2,"ng-template",null,17,r.C5r),r.k0s()),2&j){const O=Tt.$implicit,E=r.sdS(3);r.R7$(1),r.Y8G("ngIf",!O.isShowEditForm)("ngIfElse",E)}}function P(j,Tt){1&j&&(r.j41(0,"div",10)(1,"div",20)(2,"div",21),r.qSk(),r.j41(3,"svg",22),r.nrm(4,"path",23)(5,"path",24)(6,"path",25)(7,"path",26)(8,"path",27)(9,"path",28),r.k0s(),r.joV(),r.j41(10,"p",29),r.EFF(11),r.nI1(12,"mytranslate"),r.k0s()()()()),2&j&&(r.R7$(11),r.JRh(r.bMT(12,1,"lang_student_news_there_is_no_news")+"!"))}function xt(j,Tt){1&j&&r.nrm(0,"azt-loading-ui")}function I(j,Tt){if(1&j){const O=r.RV6();r.j41(0,"button",32),r.bIt("click",function(){r.eBV(O);const y=r.XpG(3);return r.Njj(y.getNextPage())}),r.nI1(1,"mytranslate"),r.nrm(2,"lucide-icon",33),r.k0s()}2&j&&r.FS9("matTooltip",r.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function X(j,Tt){if(1&j&&(r.j41(0,"div",10)(1,"div",30),r.DNE(2,xt,1,0,"azt-loading-ui",16),r.DNE(3,I,3,3,"ng-template",null,31,r.C5r),r.k0s()()),2&j){const O=r.sdS(4),E=r.XpG(2);r.R7$(2),r.Y8G("ngIf",E.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",O)}}function Y(j,Tt){if(1&j&&(r.DNE(0,en,4,2,"div",14),r.DNE(1,P,13,3,"div",7),r.DNE(2,X,5,2,"div",7)),2&j){const O=r.XpG();r.Y8G("ngForOf",O.postObjs),r.R7$(1),r.Y8G("ngIf",O.postObjs.length<=0),r.R7$(1),r.Y8G("ngIf",O.postObjs.length&&O.sAztNextPaginationService.hasNextPage)}}let gt=(()=>{class j extends o.H{selectedViewNewsSchool(O){let E=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";O?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(E,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(E,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(O,E){switch(O){case e.ADD_NEW:this.postObjs.unshift(E);break;case e.UPDATE:this.postObjs=this.postObjs.map(y=>y.id==E.id?E:y);break;case e.DELETE:this.postObjs=this.postObjs.filter(y=>y.id!=E.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(O){var E={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};O?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(E).subscribe({next:y=>{let vt={page:1,size:-1,newsIds:y.list.map(Dt=>Dt.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(vt).subscribe({next:Dt=>{let nn=this.commonService.arrayToUniqueDictionary(Dt.list??[],Me=>Me.newsId.toString());y.list.forEach(Me=>{this.postObjs.push({...Me,hasLoveEmotion:nn.hasOwnProperty(Me.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(y.total),this.stopStatusObj()},error:Dt=>{this.errorStatusObj(Dt.error.message,!0)}}))},error:y=>{this.errorStatusObj(y.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(O,E){super(),this.newsService=O,this.sAztNextPaginationService=E,this.isSchoolControl=new H.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=e}static#t=this.\u0275fac=function(E){return new(E||j)(r.rXU(t.bH),r.rXU(S.h))};static#e=this.\u0275cmp=r.VBU({type:j,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[r.Jv_([S.h]),r.Vt3,r.OA$],decls:19,vars:16,consts:[[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","classroom",1,"pl-2","form-check-label"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","school",1,"pl-2","form-check-label"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","isSchool","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["doneLoadNextPage",""],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["name","chevron-down","size","20"]],template:function(E,y){if(1&E&&(r.j41(0,"div",0)(1,"div",1)(2,"p"),r.EFF(3),r.nI1(4,"mytranslate"),r.k0s(),r.j41(5,"div",2)(6,"input",3),r.bIt("click",function(){return y.selectedViewNewsSchool(!1)}),r.k0s(),r.j41(7,"label",4),r.EFF(8),r.nI1(9,"mytranslate"),r.k0s()(),r.j41(10,"div",2)(11,"input",5),r.bIt("click",function(){return y.selectedViewNewsSchool(!0)}),r.k0s(),r.j41(12,"label",6),r.EFF(13),r.nI1(14,"mytranslate"),r.k0s()()(),r.DNE(15,ce,2,2,"div",7),r.DNE(16,Ae,2,1,"div",8),r.DNE(17,Y,3,3,"ng-template",null,9,r.C5r),r.k0s()),2&E){const vt=r.sdS(18);r.R7$(3),r.JRh(r.bMT(4,10,"lang_azt_hien_ban_tin_theo")),r.R7$(3),r.Y8G("value",0)("formControl",y.isSchoolControl),r.R7$(2),r.JRh(r.bMT(9,12,"lang_auto_lop_hoc")),r.R7$(3),r.Y8G("value",1)("formControl",y.isSchoolControl),r.R7$(2),r.JRh(r.bMT(14,14,"lang_azt_truong_hoc")),r.R7$(2),r.Y8G("ngIf",!y.isStudent),r.R7$(1),r.Y8G("ngIf",y.statusObj.loading)("ngIfElse",vt)}},dependencies:[x.Sq,x.bT,v.oV,H.me,H.Fm,H.BC,H.l_,a.K,ft.R,bt.WGl,ht,Kt,ne,U.wp],encapsulation:2})}return j})()},44658:(re,wt,g)=>{g.d(wt,{e:()=>dt});var S=g(10936),o=g(33887),e=g(38009),H=g(80037),r=g(26860),t=g(19548),x=g(3780),v=g(54460),a=g(89163);function ft(it,mt){1&it&&(r.j41(0,"div",11)(1,"span",12),r.nrm(2,"azt-loading-ui"),r.k0s()())}function bt(it,mt){if(1&it&&(r.j41(0,"span"),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&it){const F=r.XpG(2);r.R7$(1),r.JRh(" ("+F.dataUpgradeClass.length+" "+r.bMT(2,1,"lang_testbank_test_list_classes")+")")}}function yt(it,mt){1&it&&(r.j41(0,"div",25),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&it&&(r.R7$(1),r.SpI("",r.bMT(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function tt(it,mt){if(1&it){const F=r.RV6();r.j41(0,"input",38),r.bIt("keyup",function(){r.eBV(F);const W=r.XpG().index,D=r.XpG(2);return r.Njj(D.validateInput(W))}),r.nI1(1,"mytranslate"),r.k0s()}if(2&it){const F=r.XpG(),W=F.$implicit;r.Mz_("id","input-event-",F.index,""),r.FS9("value",W.nameClass),r.FS9("placeholder",r.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function lt(it,mt){if(1&it){const F=r.RV6();r.j41(0,"textarea",39),r.bIt("keyup",function(){r.eBV(F);const W=r.XpG().index,D=r.XpG(2);return r.Njj(D.validateInput(W))}),r.nI1(1,"mytranslate"),r.k0s()}if(2&it){const F=r.XpG(),W=F.$implicit;r.Mz_("id","input-event-",F.index,""),r.FS9("value",W.nameClass),r.FS9("placeholder",r.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function Z(it,mt){if(1&it){const F=r.RV6();r.j41(0,"div",26)(1,"div",27)(2,"div",28),r.DNE(3,tt,2,5,"input",29),r.DNE(4,lt,2,5,"textarea",30),r.k0s(),r.j41(5,"div",31)(6,"button",32),r.bIt("click",function(){const D=r.eBV(F).$implicit,V=r.XpG(2);return r.Njj(V.clearInput(D.id))}),r.qSk(),r.j41(7,"svg",33),r.nrm(8,"line",34)(9,"line",35),r.k0s()()()(),r.joV(),r.j41(10,"div",36,37),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s()()}if(2&it){const F=mt.index,U=r.XpG(2);r.R7$(3),r.Y8G("ngIf",0==U.isMobile),r.R7$(1),r.Y8G("ngIf",1==U.isMobile),r.R7$(6),r.Mz_("id","logerror",F,""),r.R7$(2),r.SpI(" ",r.bMT(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function at(it,mt){if(1&it){const F=r.RV6();r.j41(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox",16),r.bIt("changeCheckboxEvent",function(){r.eBV(F);const W=r.XpG();return r.Njj(W.changeCheckboxEvent())})("createdNewClassroom",function(){r.eBV(F);const W=r.XpG();return r.Njj(W.isCreatedNewClassroom=!0)}),r.k0s()(),r.j41(4,"div",17)(5,"div",18),r.EFF(6),r.nI1(7,"mytranslate"),r.DNE(8,bt,3,3,"span",19),r.k0s(),r.j41(9,"div",20)(10,"ng-scrollbar",21),r.DNE(11,yt,3,3,"div",22),r.j41(12,"div",23),r.DNE(13,Z,14,6,"div",24),r.k0s()()()()()()}if(2&it){const F=r.XpG();r.Y8G("formGroup",F.form),r.R7$(3),r.Y8G("form",F.form)("classroomGroupData",F.classroomWithGroup)("permissionName",F.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),r.R7$(3),r.SpI(" ",r.bMT(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),r.R7$(2),r.Y8G("ngIf",F.dataUpgradeClass.length),r.R7$(2),r.Y8G("visibility","hover")("autoHeightDisabled",!0),r.R7$(1),r.Y8G("ngIf",0==F.dataUpgradeClass.length),r.R7$(2),r.Y8G("ngForOf",F.dataUpgradeClass)}}function nt(it,mt){1&it&&r.nrm(0,"azt-loading-ui",40)}let dt=(()=>{class it extends o._{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(F){let U=document.getElementById("input-event-"+F),W=U?U.value:"";if(""==W){let D=document.getElementById("logerror"+F);D&&(D.style.display="block")}if(""!=W){let D=document.getElementById("logerror"+F);D&&(D.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let F=!0;this.sendDataUpgradeClass=[];for(let U=0;U<this.dataUpgradeClass.length;U++){let W=document.getElementById("input-event-"+U),D=W?W.value:"";""==D&&(F=!1),this.validateInput(U),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[U].id,newName:D,year:this.increaseYear(this.dataUpgradeClass[U].year)})}1==F&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(F){if(null!=F||null!=F){let U=F.split(" ")[0],W=parseInt(U,10)+1;return W+" - "+(W+1)}}changeCheckboxEvent(){const F=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),U=F.concat(this.dataUpgradeClass.map(D=>D.id??0));let W=U.filter(D=>U.indexOf(D)===U.lastIndexOf(D));F.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(D=>W.includes(D.id??0)).map(D=>{let Yt,V=D.name,ht=D.year,Ft=V?.match(/\d+/g);if(null==Ft)Yt=V;else{let Jt=parseInt(Ft[0].toString(),10)+1;Yt=V?.replace(Ft[0],Jt.toString())}return{id:D.id,nameClass:Yt,year:ht}})):W.forEach(D=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(V=>V.id===D),1)})}clearInput(F){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+F)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var F=[],U=0;U<this.sendDataUpgradeClass.length;U++)F.push({oldId:this.sendDataUpgradeClass[U].oldId??0,newName:this.sendDataUpgradeClass[U].newName??"",year:this.sendDataUpgradeClass[U].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(F).subscribe(W=>{1==W.success?(W.data?.isDuplicatedClassroomName?this.errorStatusObj(W.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(F=>{F.success?(this.classroomWithGroup=F.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(U=>U.classroomObjs)),this.successStatusObj()):this.errorStatusObj(F.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(F,U,W,D){super(void 0,D),this.classroomGroupService=F,this.sAztClassroomCheckboxService=U,this.location=W,this.dialogRef=D,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.t,this.classroomWithGroup=[],this.form=new S.gE({classroomFormArray:new S.Yp([]),whoAllow:new S.MJ(0,{nonNullable:!0})},{validators:[H.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}static#t=this.\u0275fac=function(U){return new(U||it)(r.rXU(t.kG),r.rXU(x.Q),r.rXU(v.aZ),r.rXU(a.CP,8))};static#e=this.\u0275cmp=r.VBU({type:it,selectors:[["app-create-class-new-course"]],features:[r.Vt3],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent","createdNewClassroom"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"mr-1"]],template:function(U,W){if(1&U&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r.EFF(4),r.nI1(5,"mytranslate"),r.k0s(),r.j41(6,"div",4),r.EFF(7),r.nI1(8,"mytranslate"),r.k0s()(),r.DNE(9,ft,3,0,"div",5),r.DNE(10,at,14,13,"ng-template",null,6,r.C5r),r.k0s(),r.j41(12,"div",7)(13,"button",8),r.bIt("click",function(){return W.closeDialog()}),r.EFF(14),r.nI1(15,"mytranslate"),r.k0s(),r.j41(16,"button",9),r.bIt("click",function(){return W.handleUpgrade()}),r.DNE(17,nt,1,0,"azt-loading-ui",10),r.EFF(18),r.nI1(19,"mytranslate"),r.k0s()()()),2&U){const D=r.sdS(11);r.R7$(4),r.SpI(" ",r.bMT(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),r.R7$(3),r.JRh(r.bMT(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),r.R7$(2),r.Y8G("ngIf",W.statusObj.loading)("ngIfElse",D),r.R7$(5),r.SpI(" ",r.bMT(15,12,"lang_button_cancel")," "),r.R7$(2),r.Y8G("disabled",W.form.invalid),r.R7$(1),r.Y8G("ngIf",W.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(19,14,"lang_button_save")," ")}},encapsulation:2})}return it})()},40777:(re,wt,g)=>{g.d(wt,{I:()=>d});var S=g(65162),o=g(1133),e=g(50866),H=g(76627),r=g(59640),t=g(26860),x=g(46134),v=g(54460),a=g(96451),ft=g(15343),bt=g(66067),yt=g(26988),tt=g(27208),lt=g(9280),Z=g(17818),at=g(18718),nt=g(52811),dt=g(32099),it=g(47712),mt=g(69135),F=g(73437);function U(i,u){1&i&&(t.nrm(0,"lucide-icon",11),t.nI1(1,"mytranslate")),2&i&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function W(i,u){1&i&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&i&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function D(i,u){if(1&i&&(t.j41(0,"div")(1,"div",8),t.DNE(2,U,2,3,"lucide-icon",9),t.DNE(3,W,2,3,"lucide-icon",10),t.k0s()()),2&i){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",1==n.document.homework.isPublished),t.R7$(1),t.Y8G("ngIf",1!=n.document.homework.isPublished)}}function V(i,u){1&i&&(t.nrm(0,"lucide-icon",15),t.nI1(1,"mytranslate")),2&i&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function ht(i,u){1&i&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&i&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Ft(i,u){if(1&i&&(t.j41(0,"div",13),t.DNE(1,V,2,3,"lucide-icon",14),t.DNE(2,ht,2,3,"lucide-icon",10),t.k0s()),2&i){const n=t.XpG();t.R7$(1),t.Y8G("ngIf",1==(null==n.document.exam?null:n.document.exam.isPublished)),t.R7$(1),t.Y8G("ngIf",1!=(null==n.document.exam?null:n.document.exam.isPublished))}}function Yt(i,u){if(1&i&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i){const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_luot_lam")+": "+n.document.exam.attended)}}function Jt(i,u){if(1&i&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i){const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_da_nop")+": "+n.document.homework.count+"/"+n.document.homework.totalStudent)}}const le=function(i){return{"mt-3":i}};let me=(()=>{class i extends r.H{static#t=this.\u0275fac=function(){let n;return function(c){return(n||(n=t.xGo(i)))(c||i)}}();static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.Vt3],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"text-primary"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-pending"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,D,4,2,"div",2),t.DNE(3,Ft,3,2,"ng-template",null,3,t.C5r),t.k0s(),t.j41(5,"div",4)(6,"div",5,6),t.EFF(8),t.k0s(),t.DNE(9,Yt,4,3,"div",7),t.DNE(10,Jt,4,3,"div",7),t.k0s()()),2&m){const h=t.sdS(4),w=t.sdS(7);t.Y8G("ngClass",t.eq3(9,le,0!==c.index)),t.R7$(2),t.Y8G("ngIf",c.document.homework)("ngIfElse",h),t.R7$(4),t.FS9("matTooltip",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",w.isDisabled),t.R7$(2),t.SpI(" ",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name," "),t.R7$(1),t.Y8G("ngIf",c.document.exam),t.R7$(1),t.Y8G("ngIf",c.document.homework)}},dependencies:[v.YU,v.bT,it.oV,mt.f,ft.WGl,F.wp],encapsulation:2})}return i})();function ee(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",17),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Qt(i,u){1&i&&(t.j41(0,"span",38),t.nrm(1,"azt-loading-ui"),t.k0s())}function jt(i,u){1&i&&(t.j41(0,"span",39)(1,"span",40),t.EFF(2,"1"),t.k0s()())}function Lt(i,u){1&i&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",41),t.EFF(3,"1"),t.k0s()())}function kt(i,u){1&i&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function Ot(i,u){1&i&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_search_results")))}function Ct(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2);return t.Njj(c.backToDocumentList())}),t.nrm(1,"lucide-icon",44),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_auto_quay_lai")))}function Ut(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",17),2&i){const n=t.XpG(2);t.Y8G("currentStatusObj",n.statusObj)}}const ut=function(i){return[i]},K=function(i,u){return{backto:i,filterBy:u}};function B(i,u){if(1&i&&(t.j41(0,"a",60),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&i){const n=t.XpG(2),m=n.$implicit,c=n.index,h=t.XpG(6);t.Y8G("routerLink",t.eq3(6,ut,t.bMT(1,4,"/admin/testbank/homework-results-list/"+m.homework.classroomId+"/"+m.homework.id+"/"+m.homework.hashId)))("queryParams",t.l_i(8,K,"/admin/student/classroom-details/"+h.classroomId+"/1",h.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function $(i,u){if(1&i&&(t.j41(0,"a",62),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&i){const n=t.XpG(2),m=n.$implicit,c=n.index,h=t.XpG(6);t.Y8G("routerLink",t.eq3(6,ut,t.bMT(1,4,"/bai-tap/"+m.homework.hashId)))("queryParams",t.l_i(8,K,"/student/classroom-details/"+h.classroomId+"/1",h.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function pt(i,u){if(1&i&&(t.qex(0),t.DNE(1,B,3,11,"a",58),t.DNE(2,$,3,11,"a",59),t.bVm()),2&i){const n=t.XpG(7);t.R7$(1),t.Y8G("ngIf",!n.isStudent),t.R7$(1),t.Y8G("ngIf",n.isStudent)}}function Et(i,u){if(1&i&&(t.j41(0,"a",65),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&i){const n=t.XpG(2),m=n.$implicit,c=n.index,h=t.XpG(6);let w;t.Y8G("routerLink",t.eq3(6,ut,t.bMT(1,4,"/admin/testbank/exam-results-list/"+(null!==(w=null==m.exam?null:m.exam.categoryId)&&void 0!==w?w:0)+"/"+(null==m.exam?null:m.exam.id)+"/0")))("queryParams",t.l_i(8,K,"/admin/student/classroom-details/"+h.classroomId+"/1",h.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function Xt(i,u){if(1&i&&(t.j41(0,"a",66),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&i){const n=t.XpG(2),m=n.$implicit,c=n.index,h=t.XpG(6);t.Y8G("routerLink",t.eq3(6,ut,t.bMT(1,4,"/de-thi/"+(null==m.exam?null:m.exam.hashId))))("queryParams",t.l_i(8,K,"/student/classroom-details/"+h.classroomId+"/1",h.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function ie(i,u){if(1&i&&(t.DNE(0,Et,3,11,"a",63),t.DNE(1,Xt,3,11,"a",64)),2&i){const n=t.XpG(7);t.Y8G("ngIf",!n.isStudent),t.R7$(1),t.Y8G("ngIf",n.isStudent)}}function Se(i,u){if(1&i&&(t.j41(0,"div",56),t.DNE(1,pt,3,2,"ng-container",46),t.DNE(2,ie,2,2,"ng-template",null,57,t.C5r),t.k0s()),2&i){const n=u.$implicit,m=t.sdS(3);t.R7$(1),t.Y8G("ngIf",n.homework)("ngIfElse",m)}}function $e(i,u){if(1&i&&(t.j41(0,"div",54),t.DNE(1,Se,4,2,"div",55),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",n.documentList)}}function de(i,u){if(1&i){const n=t.RV6();t.j41(0,"div")(1,"div")(2,"button",50),t.bIt("click",function(){const h=t.eBV(n).$implicit;return t.Njj(h.isExpand=!h.isExpand)}),t.nrm(3,"lucide-icon",51),t.j41(4,"span",52),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"getDayOfWeek"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,$e,2,1,"div",53),t.k0s()}if(2&i){const n=u.$implicit;t.R7$(3),t.FS9("name",n.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(6,3,t.bMT(7,5,n.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,n.assignmentDate)),t.R7$(5),t.Y8G("ngIf",n.isExpand)}}function Pe(i,u){1&i&&t.nrm(0,"azt-loading-ui",70)}function ye(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",67)(1,"button",68),t.bIt("click",function(){t.eBV(n);const c=t.XpG(4);return t.Njj(!c.sAztNextPaginationService.isLoadingNextPage&&c.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Pe,1,0,"azt-loading-ui",69),t.k0s()()}if(2&i){const n=t.XpG(4);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",n.sAztNextPaginationService.isLoadingNextPage)}}function je(i,u){if(1&i&&(t.qex(0),t.DNE(1,de,11,11,"div",48),t.DNE(2,ye,5,4,"div",49),t.bVm()),2&i){const n=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",n.listGroupDocumentObjs),t.R7$(1),t.Y8G("ngIf",n.sAztNextPaginationService.hasNextPage)}}function Oe(i,u){1&i&&(t.j41(0,"div",71)(1,"div",72),t.qSk(),t.j41(2,"svg",73),t.nrm(3,"path",74)(4,"path",75)(5,"path",76)(6,"path",77)(7,"path",78)(8,"path",79),t.k0s(),t.joV(),t.j41(9,"p",80),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()),2&i&&(t.R7$(10),t.JRh(t.bMT(11,1,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function fe(i,u){if(1&i&&(t.j41(0,"div",45),t.DNE(1,je,3,2,"ng-container",46),t.DNE(2,Oe,12,3,"ng-template",null,47,t.C5r),t.k0s()),2&i){const n=t.sdS(3),m=t.XpG(2);t.R7$(1),t.Y8G("ngIf",m.listGroupDocumentObjs.length>0)("ngIfElse",n)}}function we(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"azt-search-box",23),t.bIt("onSearch",function(c){t.eBV(n);const h=t.XpG();return t.Njj(h.searchDocumentObjs(c.searchObj))}),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"button",24),t.DNE(8,Qt,2,0,"span",25),t.nrm(9,"lucide-icon",26),t.DNE(10,jt,3,0,"span",27),t.j41(11,"span",28),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,Lt,4,0,"span",29),t.k0s()()(),t.j41(15,"div",30)(16,"button",31),t.nrm(17,"lucide-icon",32),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",33),t.DNE(21,kt,3,3,"h2",34),t.DNE(22,Ot,3,3,"h2",34),t.DNE(23,Ct,5,3,"button",35),t.k0s(),t.j41(24,"div",36),t.DNE(25,Ut,1,1,"azt-loading-effect",0),t.k0s(),t.DNE(26,fe,4,2,"ng-template",null,37,t.C5r),t.k0s()}if(2&i){const n=t.sdS(27),m=t.XpG(),c=t.sdS(4),h=t.sdS(25);t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(6,15,"lang_auto_tim_kiem"))("searchContentObj",m.searchContentObj),t.R7$(2),t.Y8G("matMenuTriggerFor",c),t.R7$(1),t.Y8G("ngIf",m.loadingFilter),t.R7$(2),t.Y8G("ngIf",""!=m.typeFilter),t.R7$(2),t.SpI(" ",t.bMT(13,17,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=m.typeFilter),t.R7$(2),t.Y8G("matMenuTriggerFor",h),t.R7$(2),t.SpI(" ",t.bMT(19,19,"lang_student_new_assignment")," "),t.R7$(3),t.Y8G("ngIf",!m.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",m.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",m.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",m.searchContentObj.isLoading||m.loadingFilter)("ngIfElse",n)}}function be(i,u){1&i&&t.nrm(0,"lucide-icon",81)}function ze(i,u){1&i&&t.nrm(0,"lucide-icon",81)}let Q=(()=>{class i extends r.H{changeFilter(n){this.typeFilter=n,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+n),this.getData(!0)}openEditor(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(n){this.searchContentObj=n,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let m={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(m.categoryId,m.documentType,m.shareType,m.fileType,m.classroomId,m.name,m.suggestExamPurpose,m.lite,m.getGlobal,m.page,m.itemPerPage).subscribe(c=>{c.success?(this.listDocumentObjs=this.listDocumentObjs.concat(c.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(c.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(c.message,!0)),this.loadingFilter=!1}))}processData(n){let m=this.commonService.arrayToDictionary(n,h=>h.exam?new Date(h.exam.createdAt??0).toDateString():new Date(h?.homework?.createdAt??0).toDateString()),c=[];Object.entries(m).forEach(([h,w],N)=>{if(w.length>0){let J=w[0];c.push({isExpand:!0,assignmentDate:J.exam?J.exam.createdAt:J.homework?.createdAt,documentList:w})}}),this.listGroupDocumentObjs=c}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(n,m,c){super(),this.documentService=n,this.activeRoute=m,this.sAztNextPaginationService=c,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new tt.Z,this.typeFilter="",this.loadingFilter=!1}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(lt.DK),t.rXU(S.nX),t.rXU(yt.h))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([yt.h]),t.Vt3],decls:38,vars:19,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","after"],["menuFilter","matMenu"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["name","notepad-text","size","16",1,"mr-1"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",1,"mr-1"],["name","check","size","16","class","ml-1",4,"ngIf"],["name","file-check","size","16",1,"mr-1"],["xPosition","before"],["menuAssignment","matMenu"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["name","filter","size","16",1,"mr-0","md:mr-1"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],["name","plus","size","18",1,"mr-1"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",1,"mr-1"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],["name","check","size","16",1,"ml-1"]],template:function(m,c){if(1&m&&(t.DNE(0,ee,1,1,"azt-loading-effect",0),t.DNE(1,we,28,21,"ng-template",null,1,t.C5r),t.j41(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"button",6),t.bIt("click",function(){return c.changeFilter("")}),t.nrm(9,"lucide-icon",7),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"button",8),t.bIt("click",function(){return c.changeFilter("homework")}),t.nrm(14,"lucide-icon",9),t.EFF(15),t.nI1(16,"mytranslate"),t.DNE(17,be,1,0,"lucide-icon",10),t.k0s()(),t.j41(18,"li")(19,"button",6),t.bIt("click",function(){return c.changeFilter("exam")}),t.nrm(20,"lucide-icon",11),t.EFF(21),t.nI1(22,"mytranslate"),t.DNE(23,ze,1,0,"lucide-icon",10),t.k0s()()()()(),t.j41(24,"mat-menu",12,13)(26,"div",14)(27,"ul",5)(28,"li")(29,"button",15),t.bIt("click",function(){return c.openHomeworkScreen()}),t.nrm(30,"lucide-icon",9),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"button",16),t.bIt("click",function(){return c.openEditor()}),t.nrm(35,"lucide-icon",11),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()()),2&m){const h=t.sdS(2);t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h),t.R7$(10),t.SpI(" ",t.bMT(11,9,"lang_auto_tat_ca")," "),t.R7$(5),t.SpI(" ",t.bMT(16,11,"lang_auto_bai_tap")," "),t.R7$(2),t.Y8G("ngIf","homework"==c.typeFilter),t.R7$(4),t.SpI(" ",t.bMT(22,13,"lang_auto_de_thi")," "),t.R7$(2),t.Y8G("ngIf","exam"==c.typeFilter),t.R7$(8),t.SpI(" ",t.bMT(32,15,"lang_student_new_homework")," "),t.R7$(5),t.SpI(" ",t.bMT(37,17,"lang_student_new_exam")," ")}},dependencies:[S.Wk,v.Sq,v.bT,Z.kk,Z.Cp,at.K,nt.R,dt.W,ft.WGl,me,F.F2,F.wp,F.vv,F.hZ],encapsulation:2})}return i})();var Rt=g(57350),A=g(95054),ot=g(47635),et=g(66257),Mt=g(48725),Kt=g(37497),Pt=g(89163),Zt=g(33887),Ce=g(43070),ne=g(2915),ce=g(5800),Ae=g(74637),ge=g(10123);function Ee(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",12),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function en(i,u){if(1&i&&(t.j41(0,"tr")(1,"td",22),t.EFF(2),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(4,"td")(5,"div",23),t.nrm(6,"input",24),t.k0s()(),t.j41(7,"td")(8,"div",23),t.nrm(9,"input",24),t.k0s()(),t.j41(10,"td"),t.nrm(11,"textarea",25),t.k0s()()),2&i){const n=u.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,7,n.sessionTime)," "),t.R7$(4),t.Y8G("checked",n.receivedDocument)("disabled",!0),t.R7$(3),t.Y8G("checked",n.absent)("disabled",!0),t.R7$(2),t.Y8G("disabled",!0)("value",n.reason)}}function P(i,u){if(1&i&&(t.qex(0),t.DNE(1,en,12,9,"tr",21),t.bVm()),2&i){const n=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",n.attendanceObj.list)}}function xt(i,u){1&i&&(t.j41(0,"tr")(1,"td",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function I(i,u){if(1&i&&(t.j41(0,"drag-scroll")(1,"table",13)(2,"thead")(3,"tr",14)(4,"th",15),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",16),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",17),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",17),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"tbody",18),t.DNE(17,P,2,1,"ng-container",19),t.DNE(18,xt,4,3,"ng-template",null,20,t.C5r),t.k0s()()()),2&i){const n=t.sdS(19),m=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(9,8,"lang_core_da_phat_tai_lieu")),t.R7$(3),t.JRh(t.bMT(12,10,"lang_student_absence")),t.R7$(3),t.JRh(t.bMT(15,12,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngIf",m.attendanceObj&&m.attendanceObj.list.length)("ngIfElse",n)}}let X=(()=>{class i extends Zt._{handleCloseDialog(){this.dialogRef.close()}filterData(n){this.dataFilter=n,this.getData()}getData(){this.initStatusObj();const n=this.data.student;this.waitDestroy(this.studentService.apiStudentsStudentIdAttendancesGet(n.id,n.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected).subscribe({next:m=>{this.attendanceObj=m,this.successStatusObj()},error:m=>{this.errorStatusObj(m.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(n,m,c){super(m,n),this.dialogRef=n,this.data=m,this.studentService=c}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8),t.rXU(Ce.b0))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["azt-attendance-detail"]],features:[t.Vt3],decls:14,vars:11,consts:[[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],["name","x","size","18"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],["emptyData",""],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-student-info-box",3),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return c.handleCloseDialog()}),t.nrm(6,"lucide-icon",6),t.k0s()()(),t.j41(7,"div",7)(8,"azt-filter-box",8),t.bIt("sendFilter",function(w){return c.filterData(w)}),t.k0s()()(),t.j41(9,"div",9)(10,"azt-mat-dialog-content"),t.DNE(11,Ee,1,1,"azt-loading-effect",10),t.DNE(12,I,20,14,"ng-template",null,11,t.C5r),t.k0s()()()),2&m){const h=t.sdS(13);t.R7$(3),t.Y8G("name",c.data.student.fullName)("parentFullName",c.data.student.parentFullName)("parentId",c.data.student.parentId)("parentPhone",c.data.student.parentPhone)("phone",c.data.student.phone)("email",c.data.student.email)("avatar",c.data.student.avatar)("gender",c.data.student.gender)("hasUser",c.data.student.hasUser),t.R7$(8),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h)}},dependencies:[v.Sq,v.bT,at.K,ne.U,ce.B,Ae.E,ge.jd,ge.Ew,ft.WGl,F.wp,F.vv],encapsulation:2})}return i})();var Y=g(46899),gt=g(22613);function j(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",8),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const Tt=function(i){return{"text-primary stroke-width-2.5":i}};function O(i,u){if(1&i&&(t.j41(0,"div",18),t.nrm(1,"lucide-icon",19)(2,"lucide-icon",20),t.k0s()),2&i){const n=t.XpG().$implicit,m=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.eq3(2,Tt,n.typeFieldSort===m.typeFieldSort.asc)),t.R7$(1),t.Y8G("ngClass",t.eq3(4,Tt,n.typeFieldSort===m.typeFieldSort.desc))}}function E(i,u){if(1&i){const n=t.RV6();t.j41(0,"th",15)(1,"div",16),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(2);return t.Njj(w.sortTableByFieldName(h))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,O,3,6,"div",17),t.k0s()()}if(2&i){const n=u.$implicit;t.R7$(1),t.Aen(n.customStyle),t.HbH(n.customClassCss),t.R7$(1),t.SpI(" ",t.bMT(3,6,n.key)," "),t.R7$(2),t.Y8G("ngIf",!n.ignore)}}function y(i,u){if(1&i){const n=t.RV6();t.j41(0,"tr",21)(1,"td",22),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(2);return t.Njj(w.showAttendanceDetail(h))}),t.nrm(2,"azt-student-info-box",23),t.k0s(),t.j41(3,"td",24),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",24),t.EFF(7),t.k0s(),t.j41(8,"td",24),t.EFF(9),t.k0s(),t.j41(10,"td",24),t.EFF(11),t.k0s(),t.j41(12,"td",24),t.EFF(13),t.k0s()()}if(2&i){const n=u.$implicit;t.Y8G("id","row_student_"+n.id),t.R7$(2),t.Y8G("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,16,n.identificationNumber,6):""),t.R7$(3),t.JRh(null==n?null:n.totalAttend),t.R7$(2),t.JRh(null==n?null:n.totalAbsence),t.R7$(2),t.JRh(null==n?null:n.totalAbsentPermission),t.R7$(2),t.JRh(null==n?null:n.totalAbsentNoPermission)}}function vt(i,u){if(1&i){const n=t.RV6();t.j41(0,"azt-paging",28),t.bIt("goToPaginationPage",function(c){t.eBV(n);const h=t.XpG(3);return t.Njj(h.setPageStudent(c))}),t.k0s()}if(2&i){const n=t.XpG(3);t.Y8G("pageObj",n.pageObj)}}function Dt(i,u){if(1&i&&(t.j41(0,"div",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG(3);t.R7$(1),t.Lme("",n.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function nn(i,u){if(1&i&&(t.j41(0,"div",25),t.nrm(1,"div"),t.DNE(2,vt,1,1,"azt-paging",26),t.DNE(3,Dt,3,4,"div",27),t.k0s()),2&i){const n=t.XpG(2);t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageObj.pageSize),t.R7$(1),t.Y8G("ngIf",!n.isStudent)}}function Me(i,u){if(1&i&&(t.j41(0,"div",9)(1,"drag-scroll")(2,"table",10)(3,"thead")(4,"tr",11),t.DNE(5,E,5,8,"th",12),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,y,14,19,"tr",13),t.k0s()()()(),t.DNE(8,nn,4,2,"div",14)),2&i){const n=t.XpG();t.R7$(5),t.Y8G("ngForOf",n.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",n.listStudent),t.R7$(1),t.Y8G("ngIf",n.listStudent&&n.totalStudent&&n.totalStudent>0)}}let cn=(()=>{class i extends r.H{onSearchBox(n){this.searchContentObj=n,this.getData()}setPageStudent(n){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+n),this.pageObj.setPageNumber(n),this.getData()}sortTableByFieldName(n){n.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(n),this.getData())}showAttendanceDetail(n){this.sAztDialogService.open(X,{width:"700px",restoreFocus:!1,data:{student:n,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:m=>{this.listStudent=m.list,this.totalStudent=m.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:m=>{this.errorStatusObj(m.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:et.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:et.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:et.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:et.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:et.H.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:et.H.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(n,m,c,h){super(),this.activeRoute=n,this.studentService=m,this.sortTableByFieldNameService=c,this.sAztDialogService=h,this.classroomId=0,this.searchContentObj=new tt.Z,this.pageObj=new Kt.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=et.H}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(S.nX),t.rXU(Ce.b0),t.rXU(Mt.s),t.rXU(Y.i))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([Mt.s]),t.Vt3],decls:13,vars:9,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",1,"-mt-2",3,"ngClass"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"div",4)(7,"azt-search-box",5),t.bIt("onSearch",function(w){return c.onSearchBox(w.searchObj)}),t.nI1(8,"mytranslate"),t.k0s()()(),t.j41(9,"div",1),t.DNE(10,j,1,1,"azt-loading-effect",6),t.DNE(11,Me,9,3,"ng-template",null,7,t.C5r),t.k0s()()),2&m){const h=t.sdS(12);t.R7$(3),t.JRh(t.bMT(4,5,"lang_azt_attendance")),t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(8,7,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h)}},dependencies:[v.YU,v.Sq,v.bT,at.K,gt.q,dt.W,ce.B,ge.jd,ge.Ew,ft.WGl,F.wp,F.Po],encapsulation:2})}return i})();var Fe=g(56172),bn=g(25622),Re=g(71204),q=g(10936),wn=g(51698),Ue=g(74871),Le=g(18148),he=g(60902),En=g(95412),vn=g(45344);let Be=(()=>{class i extends Zt._{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(n=>1==n.selected)}saveData(){this.initStatusObj();var n=[];this.checkboxMonth.checkboxMonth.filter(c=>1==c.selected).forEach(c=>{n.push({month:c.month,year:c.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:n,studentId:this.data}).subscribe({next:c=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:c=>{this.errorStatusObj(c.error.message,!0)}}))}constructor(n,m,c){super(c,m),this.paymentService=n,this.dialogRef=m,this.data=c,this.checkboxMonth=new he.L,this.checkboxMonth.studentId=c}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(En.W),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["azt-dialog-checkbox-month"]],features:[t.Vt3],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-checkbox-month",3),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return c.btnCloseDialog()}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return c.saveData()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(3),t.Y8G("checkboxMonth",c.checkboxMonth),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!c.isSelectedMonth()||c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(10,6,"lang_business_news_update_post_button")," "))},dependencies:[vn.u,F.wp],encapsulation:2})}return i})();var kn=g(87039),on=g(81519),mn=g(47426),xn=g(74960),dn=g(99503),C=g(79347),ct=g(9691),b=g(42947),R=g(39712),G=g(43234),St=g(10296),At=g(65544),Ve=g(60303),Cn=g(9260),_i=g(96112),Yn=g(19965),ui=g(5502);const Tn=["fileSelect"];function Gi(i,u){if(1&i&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.JRh((null==n.cellData?null:n.cellData.fullName)+": ")}}function pi(i,u){if(1&i&&(t.j41(0,"span",28),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&i){const n=u.$implicit,m=u.index,c=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,1,n.errorMessage)+(m===c.errors.length-1?" ("+t.bMT(3,3,"lang_auto_line")+" "+c.row+")":", ")," ")}}function gi(i,u){if(1&i&&(t.j41(0,"div",24),t.DNE(1,Gi,2,1,"span",25),t.DNE(2,pi,4,5,"span",26),t.k0s()),2&i){const n=u.$implicit;t.R7$(1),t.Y8G("ngIf",null==n.cellData?null:n.cellData.fullName),t.R7$(1),t.Y8G("ngForOf",n.errors)}}function Un(i,u){if(1&i&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s(),t.j41(3,"div",21)(4,"ng-scrollbar",22),t.DNE(5,gi,3,2,"div",23),t.k0s()()()),2&i){const n=t.XpG(2);t.R7$(2),t.JRh("T\u1ed5ng s\u1ed1 l\u1ed7i: "+n.errorImportFile.length),t.R7$(2),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(1),t.Y8G("ngForOf",n.errorImportFile)}}const hi=function(i){return[i]};function Ht(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",29)(1,"azt-upload-single-document-to-editor",30),t.bIt("emitFiles",function(c){t.eBV(n);const h=t.XpG(2);return t.Njj(h.handleUploadComplete(c))}),t.j41(2,"div",31)(3,"div",32),t.nrm(4,"lucide-icon",33),t.j41(5,"span",34),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&i){const n=t.XpG(2);t.R7$(1),t.Y8G("fileType",t.eq3(7,hi,n.allUploadFileTypes.EXCEL)),t.R7$(5),t.SpI(" ",t.bMT(7,3,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(9,5,"lang_auto_hoc_click_de_chon_file")," ")}}function _e(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",39)(5,"div",40),t.nrm(6,"img",41),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",42)(9,"p",43,44),t.EFF(11),t.k0s(),t.j41(12,"div",45),t.EFF(13),t.k0s()(),t.j41(14,"div",46)(15,"button",47),t.bIt("click",function(c){t.eBV(n);const h=t.XpG(2);return t.Njj(h.removeFile(c))}),t.nI1(16,"mytranslate"),t.nrm(17,"lucide-icon",48),t.k0s()()()()()()()}if(2&i){const n=t.sdS(10),m=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==m.file?null:m.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.R7$(2),t.SpI(" ",m.file?m.file.name:""," "),t.R7$(2),t.SpI(" ",m.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}function De(i,u){if(1&i){const n=t.RV6();t.j41(0,"a",49),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2);return t.Njj(c.exportDefaultListStudent())}),t.nrm(1,"lucide-icon",50),t.j41(2,"span",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_student_utils_download_file")," "))}function Mn(i,u){if(1&i){const n=t.RV6();t.j41(0,"a",49),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2);return t.Njj(c.exportListStudent())}),t.nrm(1,"lucide-icon",50),t.j41(2,"span",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_student_utils_export_list_student")," "))}function $i(i,u){if(1&i&&(t.j41(0,"div",12),t.DNE(1,Un,6,4,"div",13),t.j41(2,"div",14),t.DNE(3,Ht,10,9,"div",15),t.DNE(4,_e,18,11,"ng-template",null,16,t.C5r),t.j41(6,"div",17),t.DNE(7,De,5,3,"a",18),t.DNE(8,Mn,5,3,"a",18),t.k0s()()()),2&i){const n=t.sdS(5),m=t.XpG();t.R7$(1),t.Y8G("ngIf",m.errorImportFile.length),t.R7$(2),t.Y8G("ngIf",!m.file)("ngIfElse",n),t.R7$(4),t.Y8G("ngIf",0==(null==m.studentObjs?null:m.studentObjs.length)||m.isBusinessDomain),t.R7$(1),t.Y8G("ngIf",0!=(null==m.studentObjs?null:m.studentObjs.length)&&!m.isBusinessDomain)}}function Pi(i,u){if(1&i&&(t.j41(0,"div",55)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,1,n.msgError),"!")}}function fi(i,u){if(1&i&&(t.j41(0,"div",52),t.nrm(1,"azt-form-enter-info-student",53),t.DNE(2,Pi,4,3,"div",54),t.k0s()),2&i){const n=t.XpG();t.R7$(1),t.Y8G("studentForm",n.studentForm),t.R7$(1),t.Y8G("ngIf",""!==n.msgError)}}function bi(i,u){1&i&&t.nrm(0,"azt-loading-ui",56)}function zi(i,u){if(1&i){const n=t.RV6();t.j41(0,"azt-export-excel-for-student-list",57),t.bIt("exportDataDone",function(c){t.eBV(n);const h=t.XpG();return t.Njj(h.exportStudentListDone(c))}),t.k0s()}if(2&i){const n=t.XpG();t.Y8G("objs",n.exportStudentObjs)}}let vi=(()=>{class i extends Zt._{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(n){let m=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,m)}changeNameDownloadFile(n){return this.commonService.createFileNameExportFile([n])+".xlsx"}handleUploadComplete(n){this.file=n,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(n){return n&&n>0?(n/=1048576).toFixed(2):0}removeFile(n){n.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(n){this.importExcel=n}confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(m=>{1==m.success?m.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=m.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(m.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(m=>{1==m.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(m.message??"",!0))})));else if(this.studentForm.form.valid){let m={fullName:n.fullName,phone:n.phoneNumber,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,email:n.email,gender:Number(n.gender),birthday:n.birthday,classroomId:this.classroomObj.id??0,password:n.password,facebookLink:n.facebookLink,schoolName:n.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(m).subscribe(c=>{1==c.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=c.message??"")}))}}btnCloseDialog(n){this.dialogRef.close(n)}selectedIndexChange(n){if(this.selected.setValue(n),this.showImportExcel(0!=n),this.file){let m=document.getElementById("button-remove-export");m&&m.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(n,m,c,h){super(h,c),this.shareFileFlutterService=n,this.studentService=m,this.dialogRef=c,this.data=h,this.studentForm=new b.d,this.selected=new q.MJ(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=G.c.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=R.PO,this.file=null,this.studentObjs=h.studentObjs,this.classroomObj=h.classroomObj}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(St.R),t.rXU(At.b0),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-add-student"]],viewQuery:function(m,c){if(1&m&&t.GBs(Tn,5),2&m){let h;t.mGM(h=t.lsd())&&(c.fileSelect=h.first)}},features:[t.Jv_([{provide:on.$O,useClass:dn.fb,deps:[mn.Ju,dn.ij]},{provide:on.vq,useFactory:C.fJ,deps:[ct.F]},{provide:xn.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-danger","font-medium","text-right"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],["name","file-spreadsheet","size","20",1,"mr-1","text-success"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["name","trash-2","size","18"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",1,"mr-1"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"mr-1"],[3,"objs","exportDataDone"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.bIt("selectedIndexChange",function(w){return c.selectedIndexChange(w)}),t.nrm(5,"mat-tab",4),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",4),t.nI1(8,"mytranslate"),t.nrm(9,"mat-tab",4),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div"),t.DNE(12,$i,9,5,"div",5),t.DNE(13,fi,3,2,"div",6),t.k0s()()()(),t.j41(14,"div",7)(15,"button",8),t.bIt("click",function(){return c.btnCloseDialog(!1)}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",9),t.bIt("click",function(){return c.confirmAction()}),t.DNE(19,bi,1,0,"azt-loading-ui",10),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()(),t.DNE(22,zi,1,1,"azt-export-excel-for-student-list",11)),2&m&&(t.R7$(4),t.Y8G("selectedIndex",c.selected.value),t.R7$(1),t.FS9("label",t.bMT(6,11,"lang_student_utils_add_student")),t.R7$(2),t.FS9("label",t.bMT(8,13,"lang_student_utils_quick_add_excel")),t.R7$(2),t.FS9("label",t.bMT(10,15,"lang_student_utils_quick_add_phone_and_email")),t.R7$(3),t.Y8G("ngIf",0!=c.selected.value),t.R7$(1),t.Y8G("ngIf",0==c.selected.value),t.R7$(3),t.SpI(" ",t.bMT(17,17,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",c.statusObj.loading||c.studentForm.form.invalid&&!c.importExcel||null==c.file&&c.importExcel),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,19,"lang_cms_common_confirm_btn")," "),t.R7$(2),t.Y8G("ngIf",c.exportStudentObjs))},dependencies:[v.Sq,v.bT,Ve.mq,Ve.T8,it.oV,ne.U,mt.f,Cn.m,nt.R,_i.s,Yn.p,ft.WGl,ui.Yh,F.wp,F.gt],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#1baba10d;border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]})}return i})();var Ai=g(47160);function Xn(i,u){if(1&i&&(t.j41(0,"div",21)(1,"span",22),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-see-more-content",23),t.k0s()()),2&i){const n=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.R7$(2),t.Y8G("content",n.listStudentsNames)("maxLength",200)}}function Te(i,u){1&i&&t.nrm(0,"azt-loading-ui",24)}let Li=(()=>{class i extends Zt._{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.initStatusObj();let n=this.listStudentObjs.map(c=>c.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:n}).subscribe(c=>{1==c.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(c.message,!0),this.btnCloseDialog(!1))}))}constructor(n,m,c){super(c,m),this.studentService=n,this.dialogRef=m,this.data=c,this.listStudentsNames="",this.listStudentObjs=c.listStudentObjs,this.classroomObj=c.classroomObj,this.listStudentsNames=c.listStudentObjs.map(h=>h.fullName).join(", ")}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(At.b0),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-delete-list-student"]],features:[t.Vt3],decls:36,vars:20,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.qSk(),t.j41(4,"svg",4),t.nrm(5,"path",5)(6,"path",6)(7,"path",7)(8,"line",8)(9,"line",9),t.k0s(),t.joV(),t.j41(10,"span"),t.EFF(11),t.nI1(12,"mytranslate"),t.j41(13,"span",10),t.EFF(14),t.k0s(),t.EFF(15," \xa0 "),t.j41(16,"span",11),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.EFF(19),t.nI1(20,"mytranslate"),t.j41(21,"span",12),t.EFF(22),t.k0s(),t.EFF(23," ? "),t.k0s()(),t.j41(24,"div",13)(25,"azt-mat-dialog-content",14)(26,"div",15),t.DNE(27,Xn,5,5,"div",16),t.k0s()()()()(),t.j41(28,"div",17)(29,"button",18),t.bIt("click",function(){return c.btnCloseDialog(!1)}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.j41(32,"button",19),t.bIt("click",function(){return c.confirmDelete()}),t.DNE(33,Te,1,0,"azt-loading-ui",20),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(11),t.SpI(" ",t.bMT(12,10,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.R7$(3),t.JRh(c.data.listStudentObjs.length),t.R7$(3),t.JRh(t.bMT(18,12,"lang_auto_hoc_sinh")),t.R7$(2),t.SpI(" ",t.bMT(20,14,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(c.classroomObj.name),t.R7$(3),t.Y8G("defaultHeight",70),t.R7$(2),t.Y8G("ngIf",""!=c.listStudentsNames),t.R7$(3),t.SpI(" ",t.bMT(31,16,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(35,18,"lang_cms_common_confirm_btn")," "))},dependencies:[v.bT,Ai.l,ne.U,nt.R,F.wp],encapsulation:2})}return i})();var qt=g(14999),Xe=g(46723),He=g(84828);function Hn(i,u){if(1&i&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName)}}function Wn(i,u){if(1&i&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone)}}function Sn(i,u){if(1&i&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail)}}function _n(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"span",9),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",10),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,Hn,5,4,"span",11),t.DNE(15,Wn,5,4,"span",11),t.DNE(16,Sn,5,4,"span",11),t.j41(17,"div",12)(18,"div",13),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG();return t.Njj(w.reApproveStudent(h.studentId,h.id))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG();return t.Njj(w.rejectApproveRequest(h.studentId,h.id))}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()}if(2&i){const n=u.$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.R7$(3),t.JRh(n.studentName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.R7$(3),t.JRh(n.classroomName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.R7$(2),t.Y8G("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName),t.R7$(1),t.Y8G("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone),t.R7$(1),t.Y8G("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.R7$(3),t.JRh(t.bMT(23,18,"lang_button_skip"))}}let Fn=(()=>{class i extends Zt._{reApproveStudent(n,m){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(n??0).subscribe(c=>{1==c.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(h=>h.id!=m),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(c.message??"",!0)}))}rejectApproveRequest(n,m){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(n??0).subscribe(c=>{1==c.success?(this.noticeObjs=this.noticeObjs.filter(h=>h.id!=m),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(c.message??"",!0)}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,m,c,h){super(h,c),this.studentService=n,this.noticeService=m,this.dialogRef=c,this.data=h,this.classroomObj=h.classroomObj,this.noticeObjs=h.noticeObjs}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(At.b0),t.rXU(He.eI),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-re-approve-request"]],features:[t.Vt3],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.DNE(4,_n,24,20,"div",3),t.k0s()()(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return c.btnCloseDialog(!1)}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(4),t.Y8G("ngForOf",c.noticeObjs),t.R7$(3),t.SpI(" ",t.bMT(8,2,"lang_cms_common_close_btn")," "))},dependencies:[v.Sq,v.bT,ne.U,F.wp],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]})}return i})();var Rn=g(34514),ki=g(44477),We=g(81587);function Jn(i,u){if(1&i&&(t.j41(0,"div",5),t.nrm(1,"input",6),t.k0s()),2&i){const n=t.XpG();t.R7$(1),t.Y8G("value",n.data.student.phone)}}function xi(i,u){if(1&i&&(t.j41(0,"div",5),t.nrm(1,"input",17),t.k0s()),2&i){const n=t.XpG();t.R7$(1),t.Y8G("value",n.data.student.email)}}function Dn(i,u){1&i&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ci(i,u){1&i&&(t.j41(0,"div",18)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Nn(i,u){1&i&&t.nrm(0,"azt-loading-ui",19)}let In=(()=>{class i extends Zt._{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,password:this.studentForm.form.controls.password?.value??""}).subscribe({next:m=>{this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)},error:m=>{this.errorStatusObj(m.error.message??"lang_business_create_account_unsuccessfully",!0)}})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new q.gE({fullName:new q.MJ(this.data.student.fullName??"",{nonNullable:!0,validators:[q.k0.required]}),gender:new q.MJ(this.data.student.gender,{nonNullable:!0}),birthday:new q.MJ(this.data.student.birthday,{nonNullable:!0}),email:new q.MJ(this.data.student.email??"",{nonNullable:!0,validators:[ki.U.isInvalidEmail,q.k0.email,q.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new q.MJ(this.data.student.phone??"",{nonNullable:!0,validators:[q.k0.required,q.k0.pattern(/^[0-9\-]*$/),q.k0.minLength(10),q.k0.maxLength(10)]}),identificationNumber:new q.MJ(this.commonService.padLeadingZeros(this.data.student.identificationNumber??void 0,6),{nonNullable:!0,validators:[q.k0.min(1),q.k0.maxLength(6),q.k0.pattern("^[0-9]*$")]}),facebookLink:new q.MJ(this.data.student?.moreInfo?.facebookLink,{nonNullable:!0}),school:new q.MJ(this.data.student?.moreInfo?.schoolName,{nonNullable:!0}),password:new q.MJ("",{nonNullable:!0,validators:[q.k0.required,q.k0.minLength(6)]})})}constructor(n,m,c){super(c,m),this.studentService=n,this.dialogRef=m,this.data=c,this.showPassword=!1,this.studentForm=new b.d}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(At.b0),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["azt-create-user-business"]],features:[t.Jv_([{provide:on.$O,useClass:dn.fb,deps:[mn.Ju,Rn.ij]},{provide:on.vq,useFactory:C.fJ,deps:[ct.F]}]),t.Vt3],decls:28,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["autocomplete","new-phone","type","text","disabled","",1,"form-control",3,"value"],["class","mt-3",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","18",3,"name"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","mr-1",4,"ngIf"],["type","text","autocomplete","new-email","disabled","",1,"form-control",3,"value"],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"form",4)(8,"div",5),t.nrm(9,"input",6),t.k0s(),t.DNE(10,Jn,2,1,"div",7),t.DNE(11,xi,2,1,"div",7),t.j41(12,"div",5)(13,"div",8),t.nrm(14,"input",9),t.nI1(15,"mytranslate"),t.j41(16,"button",10),t.bIt("click",function(){return c.showPassword=!c.showPassword}),t.nrm(17,"lucide-icon",11),t.k0s()(),t.DNE(18,Dn,3,3,"div",12),t.DNE(19,Ci,4,3,"div",12),t.k0s()()()()(),t.j41(20,"div",13)(21,"button",14),t.bIt("click",function(){return c.btnCloseDialog()}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"button",15),t.bIt("click",function(){return c.confirmCreate()}),t.DNE(25,Nn,1,0,"azt-loading-ui",16),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.SpI(" ",t.bMT(6,14,"lang_business_create_account")," "),t.R7$(2),t.Y8G("formGroup",c.studentForm.form),t.R7$(2),t.Y8G("value",c.data.student.fullName),t.R7$(1),t.Y8G("ngIf",c.data.student.phone),t.R7$(1),t.Y8G("ngIf",c.data.student.email),t.R7$(3),t.FS9("placeholder",t.bMT(15,16,"lang_auto_mat_khau")),t.Y8G("type",c.showPassword?"text":"password"),t.R7$(3),t.FS9("name",c.showPassword?"eye":"eye-off"),t.R7$(1),t.Y8G("ngIf",null==c.studentForm.form.controls.password||null==c.studentForm.form.controls.password.errors?null:c.studentForm.form.controls.password.errors.minlength),t.R7$(1),t.Y8G("ngIf",null==c.studentForm.form.controls.password||null==c.studentForm.form.controls.password.errors?null:c.studentForm.form.controls.password.errors.required),t.R7$(3),t.SpI(" ",t.bMT(23,18,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",(null==c.studentForm.form.controls.password?null:c.studentForm.form.controls.password.invalid)||c.statusObj.loading),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(27,20,"lang_auto_luu")," "))},dependencies:[v.bT,q.qT,q.me,q.BC,q.cb,q.j4,q.JD,We.t,ne.U,nt.R,ft.WGl,F.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]})}return i})();var yn=g(68774),sn=g(67638),un=g(40609),Ti=g(91930),Bi=g(51913),an=g(41715),Si=g(99927),Vi=g(91640);let ue=(()=>{class i{constructor(n,m,c,h,w,N){this.commonService=n,this.examPageResultService=m,this.permissionService=c,this.globalService=h,this.answerTypeService=w,this.homeworkExamService=N}getTestedAllResultByClassroomId(n,m,c,h){return this.globalService.startIntervalFunc(n),this.getTestedOfExamResultByClassroomId(n,m,"all",c,h)}getTestedOfExamResultByClassroomId(n,m,c,h,w){return new wn.c(N=>{this.examPageResultService.apiExamPageResultGetObjV2Get(m).subscribe(J=>{if(1==J.success){let _t=J.data?.examObj,Vt=this.hasEssay(J.data?.examQuestionObjs??[]),Ge=J.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",_t)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",_t)?this.getAllExamResultObjs(n,[],m,"",xe=>{if(xe.hasOwnProperty("success")&&1==xe.success){let mi=this.mergeStudentWithAvatar(xe.studentWithResultObjs??[]),Vo={};mi?.forEach(di=>{let qa=di.parentId??"0";Vo.hasOwnProperty(qa)||(Vo[qa]=di.examResultObjs??[])});let Qa=w;if(this.homeworkExamService.mustInClassroom(_t)&&Ge.length>0)for(let di=0;di<Ge.length;di++)if(Ge[di].classroomObj?.id==h){let se=Ge[di].studentObjs??[];if(se.length>0)for(let ae=0;ae<se.length;ae++){let ir=se[ae].parentId??"0";Vo.hasOwnProperty(ir)?(Array.isArray(se[ae].examResultObjs)||(se[ae].examResultObjs=[]),se[ae].examResultObjs=this.findExamResultOfStudent(se[ae].examResultObjs?.concat(Vo[ir])??[],se[ae].id??"0")):se[ae].examResultObjs=this.findExamResultOfStudent(se[ae].examResultObjs??[],se[ae].id??"0");let or=this.filterExamResultByType(se[ae].examResultObjs??[],"first"),sr=this.filterExamResultByType(se[ae].examResultObjs??[],"last"),ar=this.filterExamResultByType(se[ae].examResultObjs??[],"highest");Qa.forEach(Ni=>{if(Ni.dataExam||(Ni.dataExam=[]),Ni.parentId==se[ae].parentId||Ni.id.toString()==se[ae].id){let Yo=or.hasOwnProperty(se[ae].parentId??0)?or[se[ae].parentId??0]:void 0,Uo=sr.hasOwnProperty(se[ae].parentId??0)?sr[se[ae].parentId??0]:void 0,rr=ar.hasOwnProperty(se[ae].parentId??0)?ar[se[ae].parentId??0]:void 0,lr={id:_t?.id??0,name:_t?.name??"",firstPoint:Yo?this.checkMarkStatus(Yo,Vt):void 0,lastPoint:Uo?this.checkMarkStatus(Uo,Vt):void 0,highestPoint:rr?this.checkMarkStatus(rr,Vt):void 0};Ni.dataExam.push(lr)}Ni.dataExam.sort((Yo,Uo)=>(Yo.id??0)-(Uo.id??0))},Qa)}break}N.next({status:200,success:1,data:Qa,message:"successful"}),N.complete()}else N.next({status:xe.code,success:0,data:w,message:xe.message??""}),N.complete()}):(N.next({status:200,success:1,data:w,message:"successful"}),N.complete())}else N.next({status:J.code,success:0,data:w,message:J.message??""}),N.complete()})})}getAllExamResultObjs(n,m,c,h,w){this.examPageResultService.apiExamPageResultGetObjsV2Get(c,"export",h).subscribe(N=>{1==N.success?(N.data?.objs&&m.push(...N.data.objs),N.data?.nextPage?this.globalService.isStopIntervalFunc(n)?w({studentWithResultObjs:m,success:1}):setTimeout(()=>{this.getAllExamResultObjs(n,m,c,N.data?.nextPage??"",w)},300):w({studentWithResultObjs:m,success:1})):w({code:N.code,studentWithResultObjs:[],success:0,message:N.message??""})})}filterExamResultOnTest(n,m,c){var h={};return n.forEach(w=>{var N=this.commonService.myClone(w)??{};if(N.testStatus)h[N.userId??0]=N.testStatus;else if(N.startedTest&&c)if(m.endTime){var J=Math.floor(new Date(m.endTime).getTime()/1e3);h[N.userId??0]=c<=J+60*(m.minutes??0)+600?0:-1}else{var _t=N.startedTest?Math.floor(new Date(N.startedTest).getTime()/1e3):0;h[N.userId??0]=c<=_t+86400?0:-1}else h[N.userId??0]=0}),h}mergeStudentWithAvatar(n){var m=[];return n.forEach(c=>{var h=m.filter(N=>N.parentId==c.parentId);if(h&&0!=h.length)for(var w=0;w<m.length;w++)m[w].parentId==c.parentId&&(m[w].examResultObjs=m[w].examResultObjs?.concat(c.examResultObjs??[]));else m.push(c)}),m}findExamResultOfStudent(n,m){var c=[];return n.forEach(h=>{(h.studentId==m||null==h.studentId)&&c.push(h)}),c}createStudentWithResult(n,m,c){return{id:n.id,userId:n.parentId,studentId:n.id,identificationNumber:m.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:m.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:n.gender,fullName:n.fullName,avatar:n.avatar,birthday:n.birthday,mark:m.hasOwnProperty("mark")?m.mark:null,confirmedAt:m.hasOwnProperty("confirmedAt")?m.confirmedAt:null,startedTest:m.hasOwnProperty("startedTest")?m.startedTest:null,createdAt:m.hasOwnProperty("createdAt")?m.createdAt:null,status:c,totalExamResultObjs:0,checkBoxGroupControl:new q.gE({isShow:new q.MJ(!1,{nonNullable:!0}),selectedCheckbox:new q.MJ(!1,{nonNullable:!0})})}}filterExamResultByType(n,m){var c={};if(n.length>1)n.forEach((w,N)=>{var J=this.commonService.myClone(w);w.testStatus&&(J.resultId=J.id,J.indexTest=N,"last"==m&&(c[J.userId??0]=J),"first"==m&&(c.hasOwnProperty(J.userId??0)||(c[J.userId??0]=J)),"highest"==m)&&(c.hasOwnProperty(J.userId??0)?(c[J.userId??0].mark??-1)<=(J.mark??-1)&&(c[J.userId??0]=J):c[J.userId??0]=J)});else{var h=this.commonService.myClone(n[0]??{});h.resultId=h.testStatus?h.id:0,h.indexTest=0,c[h.userId??0]=h}return c}hasEssay(n){let m=!1;for(let c=0;c<n.length;c++)if(this.answerTypeService.isEssayAnswer(n[c])){m=!0;break}return m}checkMarkStatus(n,m){return m?1==n.testStatus?n.confirmedAt?n.mark:-1:void 0:1==n.testStatus?n.mark:void 0}static#t=this.\u0275fac=function(m){return new(m||i)(t.KVO(Ti.R),t.KVO(lt.TE),t.KVO(Bi.p),t.KVO(an.r),t.KVO(Si._),t.KVO(Vi.Z))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var pn=g(53904),gn=g(68323),hn=g(78745),Ii=g(7919),f=g(60694);const z=["parent"];function p(i,u){if(1&i&&(t.j41(0,"div",10),t.nrm(1,"azt-loading-effect",11),t.k0s()),2&i){const n=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",n.statusObj)}}function k(i,u){if(1&i&&t.nrm(0,"azt-download-qr-code",30),2&i){const n=t.XpG(2);t.Y8G("fileName",n.convertNameForQR())("linkUrl",n.copyLinkToClipboard())("showLink",!n.isMobileDevice)}}function T(i,u){if(1&i&&(t.j41(0,"button",33)(1,"span",34),t.nrm(2,"lucide-icon",35),t.k0s()()),2&i){t.XpG(3);const n=t.sdS(5);t.Y8G("matMenuTriggerFor",n)}}function M(i,u){if(1&i&&(t.j41(0,"div",31),t.DNE(1,T,3,1,"button",32),t.k0s()),2&i){const n=t.XpG(2);t.R7$(1),t.Y8G("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function L(i,u){if(1&i&&(t.j41(0,"span",49),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG(3);t.R7$(1),t.Lme("",t.bMT(2,2,"lang_auto_da_chon")," ",n.totalCheckboxSelected,"")}}function rt(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_xoa")," "))}function It(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.exportListStudent())}),t.nrm(1,"lucide-icon",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_utils_export_list_student")," "))}function Nt(i,u){1&i&&t.nrm(0,"azt-loading-ui",57)}function zt(i,u){1&i&&t.nrm(0,"lucide-icon",58)}function Ie(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",54),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.exportExcelForScoreOfClassroom())}),t.DNE(1,Nt,1,0,"azt-loading-ui",55),t.DNE(2,zt,1,0,"lucide-icon",56),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&i){const n=t.XpG(3);t.R7$(1),t.Y8G("ngIf",n.loadingExport),t.R7$(1),t.Y8G("ngIf",!n.loadingExport),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_xuat_bang_diem")," ")}}function Gn(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",59),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.addStudentDialog(c.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_them_hoc_sinh")," "))}function Kn(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",61),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.openDialogAutoNumbering())}),t.nrm(1,"lucide-icon",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_danh_so_bao_danh")," "))}function fn(i,u){if(1&i&&(t.j41(0,"button",63),t.nrm(1,"lucide-icon",35),t.k0s()),2&i){t.XpG(3);const n=t.sdS(5);t.Y8G("matMenuTriggerFor",n)}}function Yi(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"div",38)(3,"azt-search-box",39),t.bIt("onSearch",function(c){t.eBV(n);const h=t.XpG(2);return t.Njj(h.onSearchBox(c.searchObj))}),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",40),t.DNE(6,L,3,4,"span",41),t.DNE(7,rt,4,3,"button",42),t.DNE(8,It,4,3,"button",43),t.nI1(9,"viewPermission"),t.DNE(10,Ie,5,5,"button",44),t.nI1(11,"viewPermission"),t.DNE(12,Gn,4,3,"button",45),t.nI1(13,"editPermission"),t.DNE(14,Kn,4,3,"button",46),t.nI1(15,"editPermission"),t.j41(16,"div",47),t.DNE(17,fn,2,1,"button",48),t.k0s()()()()}if(2&i){const n=t.XpG(2);t.R7$(3),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(4,9,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",n.totalCheckboxSelected>0&&!(n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("ngIf",n.totalCheckboxSelected>0&&!(n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("ngIf",t.i5U(9,11,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(11,14,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(13,17,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(15,20,n.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function $n(i,u){if(1&i){const n=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(n);const c=t.XpG(4);return t.Njj(c.selectSingleStudent())}),t.k0s()}if(2&i){const n=t.XpG().$implicit;t.Y8G("formControl",n.checked)}}function Zn(i,u){if(1&i){const n=t.RV6();t.j41(0,"mat-icon",95),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2),h=c.index,w=c.$implicit,N=t.XpG(3);return t.Njj(N.onPositionChange("up",h-1,w.id,null==N.classroomObj?null:N.classroomObj.id))}),t.EFF(1," keyboard_arrow_up "),t.k0s()}}function Qn(i,u){if(1&i){const n=t.RV6();t.j41(0,"mat-icon",96),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2),h=c.index,w=c.$implicit,N=t.XpG(3);return t.Njj(N.onPositionChange("down",h+1,w.id,null==N.classroomObj?null:N.classroomObj.id))}),t.EFF(1," keyboard_arrow_down "),t.k0s()}}function Xo(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",90),t.DNE(1,Zn,2,0,"mat-icon",91),t.j41(2,"input",92,93),t.bIt("keyup.enter",function(){t.eBV(n);const c=t.sdS(3),h=t.XpG(),w=h.index,N=h.$implicit,J=t.XpG(3);return t.Njj(J.onPositionChange(c.value,w,N.id,null==J.classroomObj?null:J.classroomObj.id))}),t.k0s(),t.DNE(4,Qn,2,0,"mat-icon",94),t.k0s()}if(2&i){const n=t.XpG().index,m=t.XpG(3);t.R7$(1),t.Y8G("ngIf",0!=n),t.R7$(1),t.FS9("value",n+1),t.R7$(2),t.Y8G("ngIf",m.listStudents&&n!=m.listStudents.length-1)}}function Ho(i,u){if(1&i&&(t.j41(0,"div",97),t.EFF(1),t.k0s()),2&i){const n=t.XpG().index;t.R7$(1),t.SpI(" ",n+1," ")}}function Wo(i,u){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Jo(i,u){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Ui(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",98),t.bIt("click",function(){t.eBV(n);const c=t.XpG().$implicit,h=t.XpG(3);return t.Njj(h.editStudentDialog(c))}),t.nrm(1,"lucide-icon",99),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_sua")," "))}function Ko(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",100),t.bIt("click",function(){t.eBV(n);const c=t.XpG().$implicit,h=t.XpG(3);return t.Njj(h.deleteStudentDialog(c))}),t.nrm(1,"lucide-icon",101),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_button_delete")," "))}function Zo(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",102),t.bIt("click",function(){t.eBV(n);const c=t.XpG().$implicit,h=t.XpG(3);return t.Njj(h.openDialogResetPass(c))}),t.nrm(1,"lucide-icon",103),t.j41(2,"span",70),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_core_dat_lai_mat_khau")))}function Qo(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",104),t.bIt("click",function(){t.eBV(n);const c=t.XpG().$implicit,h=t.XpG(3);return t.Njj(h.openDialogCreateUser(c))}),t.nrm(1,"lucide-icon",105),t.j41(2,"span",70),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_business_create_account")))}const ao=function(i){return{opacity:i}};function qo(i,u){if(1&i){const n=t.RV6();t.j41(0,"tr",74)(1,"td",75),t.DNE(2,$n,1,1,"input",76),t.k0s(),t.j41(3,"td",77),t.DNE(4,Xo,5,3,"div",78),t.nI1(5,"editPermission"),t.DNE(6,Ho,2,1,"ng-template",null,79,t.C5r),t.k0s(),t.j41(8,"td",80),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(3);return t.Njj(w.goToProfile(h.classroomId,h.id))}),t.nrm(9,"azt-student-info-box",81),t.k0s(),t.j41(10,"td",82),t.EFF(11),t.nI1(12,"formatStudentCodeToNumber"),t.k0s(),t.j41(13,"td",83),t.DNE(14,Wo,3,5,"span",7),t.k0s(),t.j41(15,"td",83),t.DNE(16,Jo,3,5,"span",7),t.k0s(),t.j41(17,"td",83)(18,"div",84),t.DNE(19,Ui,4,3,"button",85),t.nI1(20,"editPermission"),t.DNE(21,Ko,4,3,"button",86),t.nI1(22,"editPermission"),t.DNE(23,Zo,5,3,"button",87),t.nI1(24,"editPermission"),t.DNE(25,Qo,5,3,"button",88),t.nI1(26,"editPermission"),t.k0s()()()}if(2&i){const n=u.$implicit,m=t.sdS(7),c=t.XpG(3);t.Y8G("ngStyle",t.eq3(42,ao,null!=n.checked&&n.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==n.checked),t.R7$(2),t.Y8G("ngIf",1==(null==c.classroomObj?null:c.classroomObj.sortType)&&t.i5U(5,24,c.classroomObj,"student"))("ngIfElse",m),t.R7$(5),t.Y8G("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("identificationNumber",n.identificationNumber)("gender",n.gender)("hasUser",1==n.isVerified)("schoolName",n.schoolName)("classrooms",null==n.moreInfo?null:n.moreInfo.classrooms)("joinedAt",null==n.moreInfo?null:n.moreInfo.joinedAt)("phone",n.phone)("email",n.email),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(12,27,n.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.R7$(2),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.R7$(3),t.Y8G("ngIf",t.i5U(20,30,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(22,33,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(24,36,c.classroomObj,"student")&&c.isBusinessDomain&&n.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(26,39,c.classroomObj,"student")&&c.isBusinessDomain&&!n.parentId)}}const qn=function(){return["fullName","phone","email"]};function ro(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",64)(1,"drag-scroll")(2,"table",65)(3,"thead")(4,"tr",66)(5,"th")(6,"input",67),t.bIt("change",function(){t.eBV(n);const c=t.XpG(2);return t.Njj(c.selectAllStudentsObjs())}),t.k0s()(),t.j41(7,"th",68)(8,"div",69),t.nI1(9,"mytranslate"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"th",70),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",71),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",72),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",72),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",72),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,qo,27,44,"tr",73),t.nI1(29,"appFilter"),t.k0s()()()()}if(2&i){const n=t.XpG(2);t.R7$(6),t.Y8G("formControl",n.isSelectAllFormControl),t.R7$(2),t.FCK("matTooltip","",t.bMT(9,13,"lang_student_classroom_list_detail_quantity"),": ",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0,""),t.Y8G("matTooltipDisabled",n.isMobileDevice),t.R7$(2),t.E5c(" ",t.bMT(11,15,n.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",n.isMobileDevice?"":": ","",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0," "),t.R7$(3),t.JRh(t.bMT(14,17,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(17,19,"lang_auto_so_bao_danh")),t.R7$(3),t.SpI(" ",t.bMT(20,21,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.SpI(" ",t.bMT(23,23,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.JRh(t.bMT(26,25,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",t.brH(29,27,n.listStudents,n.searchContentObj.searchContent,t.lJ4(31,qn)))}}function ts(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",117),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.addStudentDialog(c.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_them_hoc_sinh")," "))}function es(i,u){if(1&i&&(t.j41(0,"div",106)(1,"div",107),t.qSk(),t.j41(2,"svg",108),t.nrm(3,"path",109)(4,"path",110)(5,"path",111)(6,"path",112)(7,"path",113)(8,"path",114),t.k0s(),t.joV(),t.j41(9,"div",115),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.DNE(12,ts,4,3,"button",116),t.nI1(13,"editPermission"),t.k0s()()),2&i){const n=t.XpG(2);let m;t.R7$(10),t.SpI(" ",t.bMT(11,2,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(13,4,n.classroomObj,"student")&&0==(null!==(m=null==n.listStudents?null:n.listStudents.length)&&void 0!==m?m:0))}}function ns(i,u){if(1&i){const n=t.RV6();t.j41(0,"div")(1,"input",67),t.bIt("change",function(){t.eBV(n);const c=t.XpG(2);return t.Njj(c.selectAllStudentsObjs())}),t.k0s(),t.j41(2,"span",118),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&i){const n=t.XpG(2);t.R7$(1),t.Y8G("formControl",n.isSelectAllFormControl),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_tat_ca"))}}const Xi=function(i){return{"w-full":i}};function is(i,u){if(1&i&&(t.j41(0,"span",119),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,Xi,n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Lme("",t.bMT(2,3,"lang_auto_da_chon")," ",n.totalCheckboxSelected,"")}}function lo(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",120),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2);return t.Njj(c.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_xoa")," "))}function os(i,u){if(1&i){const n=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.selectSingleStudent())}),t.k0s()}if(2&i){const n=t.XpG().$implicit;t.Y8G("formControl",n.checked)}}function ss(i,u){if(1&i&&(t.j41(0,"a",135),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatStudentCodeToNumber"),t.nI1(6,"mytranslate"),t.EFF(7),t.k0s()),2&i){const n=t.XpG().$implicit;t.Tbm("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(1,7,"lang_first_and_last_name"),": ",n.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(2,9,"lang_number_phone"),": ",n.phone?n.phone:t.bMT(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(4,13,"lang_auto_so_bao_danh"),": ",n.identificationNumber?t.i5U(5,15,n.identificationNumber,6):t.bMT(6,18,"lang_not_data"),""),t.R7$(7),t.SpI(" ",n.fullName," \xa0 ")}}function as(i,u){if(1&i&&(t.j41(0,"div",136),t.EFF(1),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",n.phone," ")}}function rs(i,u){if(1&i&&(t.j41(0,"div",137),t.EFF(1),t.k0s()),2&i){const n=t.XpG().$implicit;t.FS9("matTooltip",n.email),t.R7$(1),t.SpI(" ",n.email," ")}}function ls(i,u){if(1&i){const n=t.RV6();t.j41(0,"a",145),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2).$implicit,h=t.XpG(2);return t.Njj(h.editStudentDialog(c))}),t.nrm(1,"lucide-icon",99),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_sua")," "))}function cs(i,u){if(1&i){const n=t.RV6();t.j41(0,"a",146),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2).$implicit,h=t.XpG(2);return t.Njj(h.deleteStudentDialog(c))}),t.nrm(1,"lucide-icon",147),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_button_delete")," "))}function ms(i,u){if(1&i){const n=t.RV6();t.j41(0,"a",149),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3).$implicit,h=t.XpG(2);return t.Njj(h.openDialogResetPass(c))}),t.nrm(1,"lucide-icon",150),t.j41(2,"span",70),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_core_dat_lai_mat_khau")))}function ds(i,u){if(1&i&&(t.j41(0,"li"),t.DNE(1,ms,5,3,"a",148),t.nI1(2,"editPermission"),t.k0s()),2&i){const n=t.XpG(2).$implicit,m=t.XpG(2);t.R7$(1),t.Y8G("ngIf",t.i5U(2,1,m.classroomObj,"student")&&n.parentId)}}function _s(i,u){if(1&i&&(t.j41(0,"div",138)(1,"a",139),t.nrm(2,"lucide-icon",140),t.k0s(),t.j41(3,"mat-menu",null,141)(5,"div",142)(6,"ul",6)(7,"li"),t.DNE(8,ls,4,3,"a",143),t.nI1(9,"editPermission"),t.k0s(),t.j41(10,"li"),t.DNE(11,cs,4,3,"a",144),t.nI1(12,"editPermission"),t.k0s(),t.DNE(13,ds,3,4,"li",7),t.k0s()()()()),2&i){const n=t.sdS(4),m=t.XpG(3);t.R7$(1),t.Y8G("matMenuTriggerFor",n),t.R7$(7),t.Y8G("ngIf",t.i5U(9,4,m.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(12,7,m.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",m.isBusinessDomain)}}function us(i,u){1&i&&(t.j41(0,"div",156)(1,"span",157),t.nrm(2,"lucide-icon",158),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_co_tai_khoan")," "))}function ps(i,u){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function gs(i,u){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function co(i,u){if(1&i){const n=t.RV6();t.j41(0,"mat-icon",163),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3),h=c.index,w=c.$implicit,N=t.XpG(2);return t.Njj(N.onPositionChange("up",h-1,w.id,null==N.classroomObj?null:N.classroomObj.id))}),t.EFF(1," keyboard_arrow_up "),t.k0s()}}function hs(i,u){if(1&i){const n=t.RV6();t.j41(0,"mat-icon",164),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3),h=c.index,w=c.$implicit,N=t.XpG(2);return t.Njj(N.onPositionChange("down",h+1,w.id,null==N.classroomObj?null:N.classroomObj.id))}),t.EFF(1," keyboard_arrow_down "),t.k0s()}}function Ne(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",151)(1,"div",159)(2,"div",160),t.DNE(3,co,2,0,"mat-icon",161),t.j41(4,"input",92,93),t.bIt("keyup.enter",function(){t.eBV(n);const c=t.sdS(5),h=t.XpG(2),w=h.index,N=h.$implicit,J=t.XpG(2);return t.Njj(J.onPositionChange(c.value,w,N.id,null==J.classroomObj?null:J.classroomObj.id))}),t.k0s(),t.DNE(6,hs,2,0,"mat-icon",162),t.k0s()()()}if(2&i){const n=t.XpG(2).index,m=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0!=n),t.R7$(1),t.FS9("value",n+1),t.R7$(2),t.Y8G("ngIf",m.listStudents&&n!=m.listStudents.length-1)}}function Pn(i,u){if(1&i&&(t.j41(0,"div")(1,"div",151)(2,"div",152),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",153),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s()(),t.j41(8,"div",151)(9,"div",152),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",153),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",151)(17,"div",152),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",153),t.EFF(21),t.nI1(22,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.j41(23,"div",151)(24,"div",152),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"div",153),t.DNE(28,us,5,3,"div",154),t.k0s()(),t.j41(29,"div",151)(30,"div",152),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",153),t.DNE(34,ps,3,5,"span",7),t.k0s()(),t.j41(35,"div",151)(36,"div",152),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",153),t.DNE(40,gs,3,5,"span",7),t.k0s()(),t.DNE(41,Ne,7,3,"div",155),t.nI1(42,"editPermission"),t.k0s()),2&i){const n=t.XpG().$implicit,m=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,13,"lang_auto_so_bao_danh")," "),t.R7$(3),t.SpI(" ",n.identificationNumber?t.i5U(7,15,n.identificationNumber,6):""," "),t.R7$(4),t.SpI(" ",t.bMT(11,18,"lang_gender")," "),t.R7$(3),t.SpI(" ",0==n.gender?t.bMT(14,20,"lang_auto_nu"):t.bMT(15,22,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_birthday")," "),t.R7$(3),t.SpI(" ",t.bMT(22,26,n.birthday)," "),t.R7$(4),t.SpI(" ",t.bMT(26,28,"lang_testbank_folder_and_file_status")," "),t.R7$(3),t.Y8G("ngIf",1==n.isVerified),t.R7$(3),t.SpI(" ",t.bMT(32,30,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.R7$(1),t.Y8G("ngIf",1==(null==m.classroomObj?null:m.classroomObj.sortType)&&t.i5U(42,34,m.classroomObj,"student"))}}function fs(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",121)(1,"div",122),t.DNE(2,os,1,1,"input",76),t.j41(3,"div",123)(4,"div",124),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(2);return t.Njj(w.goToProfile(h.classroomId,h.id))}),t.j41(5,"div",125),t.nrm(6,"azt-create-avatar",126),t.nI1(7,"anonymousPhone"),t.nI1(8,"mycdn"),t.k0s(),t.j41(9,"div",127),t.DNE(10,ss,8,20,"a",128),t.DNE(11,as,2,1,"div",129),t.DNE(12,rs,2,2,"div",130),t.k0s()(),t.DNE(13,_s,14,10,"div",131),t.nI1(14,"editPermission"),t.k0s(),t.j41(15,"button",132),t.bIt("click",function(){const h=t.eBV(n).index,w=t.XpG(2);return t.Njj(w.toggleExpandedContent(h))}),t.j41(16,"span"),t.nrm(17,"lucide-icon",133),t.k0s()()(),t.j41(18,"div",134),t.DNE(19,Pn,43,37,"div",7),t.k0s()()}if(2&i){const n=u.$implicit,m=u.index,c=t.XpG(2);t.Y8G("ngStyle",t.eq3(21,ao,null!=n.checked&&n.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==n.checked),t.R7$(4),t.Mz_("matTooltip","",0==n.parentId||1==n.isAnonymous?null:" Id: "+n.parentId+(""!=t.bMT(7,14,n.parentPhone)?" - Phone: "+n.parentPhone:"")+" - Name: "+n.parentFullName," "),t.Y8G("nameCreateAvatar",n.fullName)("linkAvatar",t.bMT(8,16,n.avatar))("size",36),t.R7$(4),t.Y8G("ngIf",n.fullName),t.R7$(1),t.Y8G("ngIf",n.phone),t.R7$(1),t.Y8G("ngIf",n.email),t.R7$(1),t.Y8G("ngIf",t.i5U(14,18,c.classroomObj,"student")),t.R7$(3),t.AVh("rotate-180",c.expandedItemIndex===m),t.R7$(2),t.Y8G("@expandCollapse",c.expandedItemIndex===m?"open":"closed"),t.R7$(1),t.Y8G("ngIf",c.expandedItemIndex===m)}}function mo(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",166),t.bIt("click",function(){t.eBV(n);const c=t.XpG(3);return t.Njj(c.addStudentDialog(c.classroomObj))}),t.nrm(1,"lucide-icon",167),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_them_hoc_sinh")," "))}function bs(i,u){if(1&i&&(t.j41(0,"div",106)(1,"div",107),t.qSk(),t.j41(2,"svg",108),t.nrm(3,"path",109)(4,"path",110)(5,"path",111)(6,"path",112)(7,"path",113)(8,"path",114),t.k0s(),t.joV(),t.j41(9,"div",115),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.DNE(12,mo,4,3,"button",165),t.nI1(13,"editPermission"),t.k0s()()),2&i){const n=t.XpG(2);let m;t.R7$(10),t.SpI(" ",t.bMT(11,2,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(13,4,n.classroomObj,"student")&&0==(null!==(m=null==n.listStudents?null:n.listStudents.length)&&void 0!==m?m:0))}}const vs=function(i){return{"flex-wrap":i}};function ks(i,u){if(1&i&&(t.j41(0,"div",12)(1,"div",13)(2,"h2",14),t.EFF(3),t.k0s(),t.j41(4,"span",15),t.EFF(5),t.k0s(),t.DNE(6,k,1,3,"azt-download-qr-code",16),t.k0s(),t.j41(7,"div",13),t.nrm(8,"azt-share",17),t.DNE(9,M,2,1,"div",18),t.k0s()(),t.DNE(10,Yi,18,23,"div",19),t.j41(11,"div",20)(12,"div",21),t.DNE(13,ro,30,32,"div",22),t.nI1(14,"appFilter"),t.DNE(15,es,14,7,"div",23),t.nI1(16,"appFilter"),t.k0s(),t.j41(17,"div",24)(18,"div",25),t.DNE(19,ns,5,4,"div",7),t.j41(20,"div",26),t.DNE(21,is,3,7,"span",27),t.DNE(22,lo,4,3,"button",28),t.k0s()(),t.DNE(23,fs,20,23,"div",29),t.nI1(24,"appFilter"),t.DNE(25,bs,14,7,"div",23),t.nI1(26,"appFilter"),t.k0s()()),2&i){const n=t.XpG();t.Y8G("ngClass",t.eq3(36,vs,n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("ngClass",t.eq3(38,Xi,n.isMobileDevice||n.isMobileWebView)),t.R7$(2),t.SpI(" ",null==n.classroomObj?null:n.classroomObj.name," "),t.R7$(2),t.SpI("( ",null==n.classroomObj?null:n.classroomObj.year," )"),t.R7$(1),t.Y8G("ngIf",n.joinClassroomLink),t.R7$(1),t.Y8G("ngClass",t.eq3(40,Xi,n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("backToLink",n.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",n.classroomId)("classroomWithPermissionObj",n.classroomObj),t.R7$(1),t.Y8G("ngIf",!n.hasStudents||!(null!=n.listStudents&&n.listStudents.length)),t.R7$(1),t.Y8G("ngIf",n.hasStudents||(null==n.listStudents?null:n.listStudents.length)),t.R7$(3),t.Y8G("ngIf",t.brH(14,20,n.listStudents,n.searchContentObj.searchContent,t.lJ4(42,qn)).length>0),t.R7$(2),t.Y8G("ngIf",!n.hasStudents||0==t.brH(16,24,n.listStudents,n.searchContentObj.searchContent,t.lJ4(43,qn)).length),t.R7$(4),t.Y8G("ngIf",n.listStudents&&n.listStudents.length>0),t.R7$(2),t.Y8G("ngIf",n.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngIf",n.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngForOf",t.brH(24,28,n.listStudents,n.searchContentObj.searchContent,t.lJ4(44,qn))),t.R7$(2),t.Y8G("ngIf",!n.hasStudents||0==t.brH(26,32,n.listStudents,n.searchContentObj.searchContent,t.lJ4(45,qn)).length)}}function Gt(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"button",168),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.goToMergeStudent(null==c.classroomObj?null:c.classroomObj.id))}),t.nrm(2,"lucide-icon",169),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_student_classroom_list_detail_merge_student")," "))}function zn(i,u){1&i&&(t.j41(0,"span",173),t.nrm(1,"lucide-icon",174),t.k0s())}function xs(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"button",170),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.changeSortType(0))}),t.nrm(2,"lucide-icon",171),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,zn,2,0,"span",172),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,2,"lang_student_classroom_list_detail_sort_name")," "),t.R7$(2),t.Y8G("ngIf",0==(null==n.classroomObj?null:n.classroomObj.sortType))}}function ti(i,u){1&i&&t.nrm(0,"lucide-icon",174)}function te(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"button",175),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.changeSortType(1))}),t.nrm(2,"lucide-icon",176),t.j41(3,"span",177),t.nI1(4,"mytranslate"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,ti,1,0,"lucide-icon",178),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(3),t.FS9("matTooltip",t.bMT(4,3,"lang_student_classroom_list_detail_request")),t.R7$(2),t.JRh(t.bMT(6,5,"lang_student_classroom_list_detail_change")),t.R7$(2),t.Y8G("ngIf",0!=(null==n.classroomObj?null:n.classroomObj.sortType))}}function ei(i,u){if(1&i){const n=t.RV6();t.j41(0,"li",179)(1,"button",180),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.openDialogAutoNumbering())}),t.nrm(2,"lucide-icon",181),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_danh_so_bao_danh")," "))}function _o(i,u){if(1&i){const n=t.RV6();t.j41(0,"li",179)(1,"button",182),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.exportListStudent())}),t.nrm(2,"lucide-icon",183),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_student_utils_export_list_student")," "))}function Cs(i,u){if(1&i){const n=t.RV6();t.j41(0,"li",179)(1,"button",182),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.exportExcelForScoreOfClassroom())}),t.nrm(2,"lucide-icon",183),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_xuat_bang_diem")," "))}function Ts(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"div",184),t.bIt("click",function(c){return c.stopPropagation()}),t.j41(2,"input",185),t.bIt("change",function(){t.eBV(n);const c=t.XpG();let h;return t.Njj(c.changeAnonymousStudentStatus(null!==(h=null==c.classroomObj?null:c.classroomObj.id)&&void 0!==h?h:0,c.checkAddStudent.value))}),t.k0s(),t.j41(3,"label",186),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&i){const n=t.XpG();t.R7$(2),t.Y8G("formControl",n.checkAddStudent)("checked",1==(null==n.classroomObj?null:n.classroomObj.showAddStudent)),t.R7$(2),t.SpI(" ",n.checkAddStudent.value?t.bMT(5,3,"lang_student_classroom_list_detail_on"):t.bMT(6,5,"lang_student_classroom_list_detail_off")," ")}}function Ss(i,u){if(1&i){const n=t.RV6();t.j41(0,"azt-export-excel-for-student-list",187),t.bIt("exportDataDone",function(c){t.eBV(n);const h=t.XpG();return t.Njj(h.exportStudentListDone(c))}),t.k0s()}if(2&i){const n=t.XpG();t.Y8G("objs",n.exportStudentObjs)}}let Bt=(()=>{class i extends r.H{onSearchBox(n){this.searchContentObj=n}toggleExpandedContent(n){this.expandedItemIndex=this.expandedItemIndex===n?-1:n}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(n){let m=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,m)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let n="";Le.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(m=>{1==m.success?m.data?.objs&&m.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(c=>{if(1==c.success){let h=c.data?.objs??new Array;this.prepareDataForExportScore(m.data?.objs??[],h).subscribe(w=>{let N=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",J=this.commonService.createFileNameExportFile([N,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(_t=>{n=_t.lang_auto_tap_tin_dang_duoc_tai_xuong,Le.L.changeMsgLoadingEffect(n)}),this.classroomObj){const _t=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,w,m.data?.objs);this.shareFileFlutterService.shareFileWithBlob(_t,J+".xlsx")}Le.L.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(c.message??"",!0),Le.L.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(m.message,!0),Le.L.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let n=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(m=>{if(1==m.success){let c=this.commonService.createFileNameExportFile([n,this.classroomObj?.name??""]);if(this.classroomObj){const h=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,m.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(h,c+".xlsx")}}else this.errorStatusObj(m.message??"",!0);Le.L.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(n,m){return new wn.c(c=>{let h=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",w=0,N=n.length,J=_t=>{w<N?(Le.L.changeMsgLoadingEffect(h+n[w].name+" ("+(w+1)+"/"+N+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",n[w].id??0,this.classroomId,_t).subscribe(Vt=>{1==Vt.success?(Vt.data&&(_t=[...Vt.data]),w++,J(_t)):c.error(Vt.message)}))):(c.next(_t),c.complete())};J(m)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(n=>{1==n.success?(n.data?.objs?.length??0)>0&&this.sAztDialogService.open(Fn,{width:"750px",data:{noticeObjs:n.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(n){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,n).subscribe(m=>{1==m.success?(this.checkSortListStudent(n),this.classroomObj?.sortType&&(this.classroomObj.sortType=n),this.getData()):this.errorStatusObj(m.message,!0)}))}checkSortListStudent(n){this.listStudents=0==n?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(m=>{m.checked=new q.MJ(!1,{nonNullable:!0})})}onPositionChange(n,m,c,h){let w="up"==n?1:"down"==n?2:3,N=3==w?n??"":"",J=parseInt(N,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=w?m:J),Number(c),Number(h),Number(w)).subscribe(Vt=>{1==Vt.success?this.getData():this.showErrorSnack(""==N&&3==w?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(n,m){this.waitDestroy(m?this.classroomService.apiClassroomChangeShowAddStudentGet(n,1).subscribe(c=>{1==c.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(c.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(n,0).subscribe(c=>{1==c.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(c.message,!0)}))}addStudentDialog(n){this.sAztDialogService.open(vi,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:n},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.getData()})}deleteStudentDialog(n){this.sAztDialogService.open(qt.d,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(c=>{c&&this.getData()})}deleteListStudentDialog(){let n=this.listStudents?.filter(c=>c.checked?.value);this.sAztDialogService.open(Li,{data:{listStudentObjs:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(c=>{c&&this.getData()})}editStudentDialog(n){this.sAztDialogService.open(Xe.B,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(c=>{c&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(kn.O,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(m=>{m&&this.getData()})}openDialogCheckboxMonth(n){this.sAztDialogService.open(Be,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(m=>{m&&this.getListStudentApiNew()})}goToProfile(n,m){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+m,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${n}/0`))}goToMergeStudent(n){this.commonService.myNavigation("/admin/student/merge-student/"+n)}translateExportNote(){let n="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),m="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),c="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),h="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[n,m,c,h]}openDialogResetPass(n){this.sAztDialogService.open(Ue.$,{width:"500px",restoreFocus:!1,data:{id:n.parentId,name:n.fullName}}).afterClosed().subscribe(m=>{m&&this.getData()})}openDialogCreateUser(n){this.sAztDialogService.open(In,{width:"500px",restoreFocus:!1,data:{student:n}}).afterClosed().subscribe(m=>{m&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(n=>{if(1==n.success){this.classroomObj=n?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=n?.data?.studentObjs,this.checkSortListStudent(n?.data?.classroomObj?.sortType);let c=this.commonService.getCurrentDomain();this.joinClassroomLink=`${c}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!n.data?.studentObjs.length,this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(n.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(m=>{m?m.list.forEach(c=>{var h=this.listStudents?.find(w=>w.id==c.id);h&&(h.lastMonthPaid=c.lastMonthPaid,h.lastYearPaid=c.lastYearPaid,h.schoolName=c.schoolName,h.facebookLink=h.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(n=>{n.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(n=>n.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||"/admin/student/manage-classroom/0",this.getData()}constructor(n,m,c,h,w,N,J,_t,Vt,Ge,xe){super(),this.shareFileFlutterService=n,this.classroomService=m,this.classroomExportDataService=c,this.noticeService=h,this.activeRoute=w,this.sortService=N,this.studentProfileV2Service=J,this.exportExcelService=_t,this.sAztDialogService=Vt,this.studentService=Ge,this.exportClassroomScoreApiService=xe,this.checkAddStudent=new q.MJ(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new q.MJ(!1,{nonNullable:!0}),this.searchContentObj=new tt.Z,this.form=new q.gE({startIdentifyIndex:new q.MJ("",{nonNullable:!0,validators:[q.k0.min(1),q.k0.max(999999),q.k0.pattern(/^[0-9]*$/)]})})}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(St.R),t.rXU(x.zS),t.rXU(At.$F),t.rXU(He.eI),t.rXU(S.nX),t.rXU(yn.g),t.rXU(At.m_),t.rXU(sn.x),t.rXU(Y.i),t.rXU(un.b),t.rXU(ue))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-student-list"]],viewQuery:function(m,c){if(1&m&&t.GBs(z,5),2&m){let h;t.mGM(h=t.lsd())&&(c.slider=h.first)}},features:[t.Vt3],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-center"],["name","settings","size","18"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex","items-center"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger mr-2",3,"click",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger","mr-2",3,"click"],["name","trash-2","size","16",1,"mr-1"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["name","file-text","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","mr-1",4,"ngIf"],["name","file-text","size","18",4,"ngIf"],[1,"mr-1"],["name","file-text","size","18"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],["name","plus","size","18",1,"mr-1"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","18",1,"mr-1"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"formControl","change"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-hM337DYZ_","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-qGNig67L4","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"formControl","change"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-DAInj2oep","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],["azt-track-service","class-list-details-piloTgTGAq","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-DAInj2oep",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-piloTgTGAq",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["name","square-pen","size","16",1,"mr-1"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger","mr-3",3,"click"],["name","trash-2","size","18",1,"mr-1"],["azt-track-service","student-list-hM337DYZ_",1,"btn","btn-sm","mr-3",3,"click"],["name","list-restart","size","16",1,"mr-1"],["azt-track-service","student-list-qGNig67L4",1,"btn","btn-sm","mr-3",3,"click"],["name","user-plus","size","16",1,"mr-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],["name","chevron-down","size","20"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis","size","20",1,"text-slate-500"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["name","trash-2","size","20",1,"mr-1"],["azt-track-service","student-list-BQ1zew8XrF","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","student-list-BQ1zew8XrF",1,"dropdown-item",3,"click"],["name","list-restart","size","20",1,"mr-1"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],[1,"mr-2","inline-block"],["name","check-square","size","18"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-uQr-XCrTnlF","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Ad3KhS_O8H4","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-uQr-XCrTnlF",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-Ad3KhS_O8H4",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["name","plus","size","20",1,"mr-1"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["name","link-2","size","16",1,"mr-1"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["name","arrow-down-wide-narrow","size","16",1,"mr-1"],["class","text-success inline-block flex-none",4,"ngIf"],[1,"text-success","inline-block","flex-none"],["name","check","size","20",1,"ml-1","text-success"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["name","list-ordered","size","16",1,"mr-1"],[1,"ml-1",3,"matTooltip"],["name","check","size","20","class","ml-1 text-success",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["name","binary","size","16",1,"mr-1"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",1,"mr-1"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0),t.DNE(1,p,2,1,"div",1),t.DNE(2,ks,27,46,"ng-template",null,2,t.C5r),t.k0s(),t.j41(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.DNE(8,Gt,5,3,"li",7),t.DNE(9,xs,6,4,"li",7),t.DNE(10,te,8,7,"li",7),t.DNE(11,ei,5,3,"li",8),t.nI1(12,"editPermission"),t.DNE(13,_o,5,3,"li",8),t.nI1(14,"viewPermission"),t.DNE(15,Cs,5,3,"li",8),t.DNE(16,Ts,7,7,"li",7),t.nI1(17,"editPermission"),t.k0s()()(),t.DNE(18,Ss,1,1,"azt-export-excel-for-student-list",9)),2&m){const h=t.sdS(3);t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h),t.R7$(7),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(12,10,c.classroomObj,"student")&&(c.hasStudents||(null==c.listStudents?null:c.listStudents.length))),t.R7$(2),t.Y8G("ngIf",t.i5U(14,13,c.classroomObj,"student")&&(c.hasStudents||(null==c.listStudents?null:c.listStudents.length))),t.R7$(2),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(17,16,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",c.exportStudentObjs)}},dependencies:[v.YU,v.Sq,v.bT,v.B3,pn.An,Z.kk,Z.Cp,it.oV,q.Zm,q.BC,q.l_,at.K,gn.p,hn.d,Ii.Z,Cn.m,nt.R,f.M,dt.W,ce.B,ge.jd,ge.Ew,ft.WGl,F.wp,F.nf,F.WL,F.xL,F.FV,F.eL,F.Po,F.vv],encapsulation:2,data:{animation:[(0,Re.hZ)("expandCollapse",[(0,Re.wk)("open",(0,Re.iF)({height:"*"})),(0,Re.wk)("closed",(0,Re.iF)({height:"0px"})),(0,Re.kY)("open <=> closed",[(0,Re.i0)("0.3s ease-in-out")])])]}})}return i})();const rn=function(i){return{"text-white bg-primary":i}},Je=function(i){return[i]};function Is(i,u){if(1&i&&(t.j41(0,"a",30),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",31),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(7,rn,3===n.tabActive))("routerLink",t.eq3(9,Je,t.bMT(1,3,"/admin/student/classroom-details/"+n.classroomId+"/3"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_educational_program"))}}function uo(i,u){if(1&i&&(t.j41(0,"a",32),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",7),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(7,rn,4===n.tabActive))("routerLink",t.eq3(9,Je,t.bMT(1,3,"/admin/student/classroom-details/"+n.classroomId+"/4"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_grade_sheet"))}}function Ye(i,u){if(1&i&&(t.j41(0,"a",33),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",34),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(7,rn,6===n.tabActive))("routerLink",t.eq3(9,Je,t.bMT(1,3,"/admin/student/classroom-details/"+n.classroomId+"/6"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_assessment_board"))}}function po(i,u){if(1&i&&(t.j41(0,"a",35),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",36),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(7,rn,7===n.tabActive))("routerLink",t.eq3(9,Je,t.bMT(1,3,"/admin/student/classroom-details/"+n.classroomId+"/7"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_attendance_board"))}}function go(i,u){if(1&i&&(t.j41(0,"a",37),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",38),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(7,rn,8===n.tabActive))("routerLink",t.eq3(9,Je,t.bMT(1,3,"/admin/student/classroom-details/"+n.classroomId+"/8"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_tuition_fee_board"))}}function ys(i,u){if(1&i&&(t.j41(0,"a",39),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",40),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(7,rn,5===n.tabActive))("routerLink",t.eq3(9,Je,t.bMT(1,3,"/admin/student/classroom-details/"+n.classroomId+"/5"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_leaderboard"))}}function js(i,u){1&i&&(t.j41(0,"div",22)(1,"div",23),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",22),t.DNE(5,Is,6,11,"a",24),t.nI1(6,"async"),t.nI1(7,"allowFeatureBusinessForUser"),t.DNE(8,uo,6,11,"a",25),t.nI1(9,"async"),t.nI1(10,"allowFeatureBusinessForUser"),t.DNE(11,Ye,6,11,"a",26),t.nI1(12,"async"),t.nI1(13,"allowFeatureBusinessForUser"),t.DNE(14,po,6,11,"a",27),t.nI1(15,"async"),t.nI1(16,"allowFeatureBusinessForUser"),t.DNE(17,go,6,11,"a",28),t.nI1(18,"async"),t.nI1(19,"allowFeatureBusinessForUser"),t.DNE(20,ys,6,11,"a",29),t.nI1(21,"async"),t.nI1(22,"allowFeatureBusinessForUser"),t.k0s()()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,7,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(6,9,t.brH(7,11,"","training_center_curriculum_in_classroom",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(9,15,t.brH(10,17,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(12,21,t.brH(13,23,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(15,27,t.brH(16,29,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(18,33,t.brH(19,35,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(21,39,t.brH(22,41,"","training_center_student_mark",!1))))}function Os(i,u){1&i&&(t.j41(0,"div",41),t.nrm(1,"app-student-list"),t.k0s())}function ws(i,u){1&i&&(t.j41(0,"div",42),t.nrm(1,"app-exam-exercises",43),t.k0s()),2&i&&(t.R7$(1),t.Y8G("isStudent",!1))}function Es(i,u){if(1&i&&(t.j41(0,"div",44),t.nrm(1,"app-news-board",45),t.k0s()),2&i){const n=t.XpG();t.R7$(1),t.Y8G("classroomId",n.classroomId)("isStudent",!1)}}function Ms(i,u){1&i&&(t.j41(0,"div",46),t.nrm(1,"app-educational-program",43),t.k0s()),2&i&&(t.R7$(1),t.Y8G("isStudent",!1))}function Fs(i,u){1&i&&(t.j41(0,"div",47),t.nrm(1,"app-grand-board",43),t.k0s()),2&i&&(t.R7$(1),t.Y8G("isStudent",!1))}function Hi(i,u){1&i&&(t.j41(0,"div",48)(1,"div",49),t.nrm(2,"app-leader-board",43),t.k0s()()),2&i&&(t.R7$(2),t.Y8G("isStudent",!1))}function Rs(i,u){1&i&&(t.j41(0,"div",50)(1,"div",51),t.nrm(2,"app-assessment-board",43),t.k0s()()),2&i&&(t.R7$(2),t.Y8G("isStudent",!1))}function Ds(i,u){1&i&&(t.j41(0,"div",52)(1,"div",51),t.nrm(2,"app-attendance-board",43),t.k0s()()),2&i&&(t.R7$(2),t.Y8G("isStudent",!1))}function ho(i,u){1&i&&(t.j41(0,"div",53)(1,"div",51),t.nrm(2,"app-tuition-fee-board",43),t.k0s()()),2&i&&(t.R7$(2),t.Y8G("isStudent",!1))}const fo=function(i){return{"font-medium text-white bg-primary":i}};let bo=(()=>{class i extends r.H{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(n=>{n&&n.success&&(this.classroomName=n.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,H.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n&&""!=n?n:"/admin/student/manage-classroom/0"}constructor(n,m){super(),this.activeRoute=n,this.classroomService=m,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(S.nX),t.rXU(x.zS))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-teacher-classroom-details"]],features:[t.Vt3],decls:39,vars:57,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","user","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper","size","18",1,"mr-1","flex-none"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16",1,"mr-1"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16",1,"mr-1"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal","size","18",1,"mr-1","flex-none"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"]],template:function(m,c){1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"a",6),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",7),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"a",8),t.nI1(18,"navigationLocalize"),t.nrm(19,"lucide-icon",9),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,js,23,45,"div",10),t.nI1(24,"async"),t.nI1(25,"allowFeatureBusinessForUser"),t.nI1(26,"async"),t.nI1(27,"allowFeatureBusinessForUser"),t.k0s()(),t.j41(28,"div",11)(29,"div",12),t.DNE(30,Os,2,0,"div",13),t.DNE(31,ws,2,1,"div",14),t.DNE(32,Es,2,2,"div",15),t.DNE(33,Ms,2,1,"div",16),t.DNE(34,Fs,2,1,"div",17),t.DNE(35,Hi,3,1,"div",18),t.DNE(36,Rs,3,1,"div",19),t.DNE(37,Ds,3,1,"div",20),t.DNE(38,ho,3,1,"div",21),t.k0s()()()()),2&m&&(t.Y8G("headerBackToLink",c.backToLink)("headerTitle",c.classroomName),t.R7$(5),t.Y8G("ngClass",t.eq3(45,rn,0===c.tabActive))("routerLink",t.eq3(47,Je,t.bMT(6,21,"/admin/student/classroom-details/"+c.classroomId+"/0"))),t.R7$(4),t.JRh(t.bMT(10,23,"lang_cms_classroom_student_list_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(49,rn,1===c.tabActive))("routerLink",t.eq3(51,Je,t.bMT(12,25,"/admin/student/classroom-details/"+c.classroomId+"/1"))),t.R7$(4),t.JRh(t.bMT(16,27,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngClass",t.eq3(53,fo,2===c.tabActive))("routerLink",t.eq3(55,Je,t.bMT(18,29,"/admin/student/classroom-details/"+c.classroomId+"/2"))),t.R7$(4),t.JRh(t.bMT(22,31,"lang_student_news_board")),t.R7$(2),t.Y8G("ngIf",t.bMT(24,33,t.brH(25,35,"","training_center_curriculum_in_classroom",!1))||t.bMT(26,39,t.brH(27,41,"","training_center_student_mark",!1))),t.R7$(7),t.Y8G("ngIf",0===c.tabActive),t.R7$(1),t.Y8G("ngIf",1===c.tabActive),t.R7$(1),t.Y8G("ngIf",2===c.tabActive),t.R7$(1),t.Y8G("ngIf",3===c.tabActive),t.R7$(1),t.Y8G("ngIf",4===c.tabActive),t.R7$(1),t.Y8G("ngIf",5===c.tabActive),t.R7$(1),t.Y8G("ngIf",6===c.tabActive),t.R7$(1),t.Y8G("ngIf",7===c.tabActive),t.R7$(1),t.Y8G("ngIf",8===c.tabActive))},dependencies:[S.Wk,v.YU,v.bT,a.Q,ft.WGl,bt.E,Q,Rt.s,A.K,ot.c,cn,Fe.E,bn.b,Bt,v.Jj,F.F2,F.wp,F.bj],encapsulation:2})}return i})();var Wi=g(11002);function Ns(i,u){1&i&&t.nrm(0,"azt-loading-ui",16)}function vo(i,u){1&i&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Ji(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",18),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function ko(i,u){1&i&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function xo(i,u){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,ko,2,0,"span",33),t.EFF(3),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",n.lastMonthPaid," "),t.R7$(1),t.Y8G("ngIf",n.lastMonthPaid),t.R7$(1),t.SpI(" ",n.lastYearPaid," ")}}function yi(i,u){1&i&&(t.j41(0,"span",49),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function ji(i,u){if(1&i){const n=t.RV6();t.j41(0,"tr")(1,"td",28),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(3);return t.Njj(w.goToProfile(h.classroomId,h.id))}),t.nrm(2,"azt-student-info-box",29),t.k0s(),t.j41(3,"td",30),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",31)(7,"div",32),t.DNE(8,xo,4,3,"span",33),t.DNE(9,yi,3,3,"span",34),t.j41(10,"button",35),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(3);return t.Njj(w.openDialogCheckboxMonth(h))}),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.qSk(),t.j41(13,"svg",36),t.nrm(14,"path",37)(15,"path",38)(16,"path",39)(17,"path",40)(18,"path",41)(19,"path",42),t.k0s()()()(),t.joV(),t.j41(20,"td",43)(21,"div",44),t.EFF(22),t.nI1(23,"mytranslate"),t.nI1(24,"mytranslate"),t.k0s()(),t.j41(25,"td",43)(26,"div",44),t.EFF(27),t.nI1(28,"mytranslate"),t.nI1(29,"mytranslate"),t.k0s()(),t.j41(30,"td",31)(31,"div",45)(32,"input",46),t.bIt("change",function(c){const w=t.eBV(n).$implicit,N=t.XpG(3);return t.Njj(N.setAttendance("receivedDocument",w.id,c))}),t.k0s()()(),t.j41(33,"td",31)(34,"div",45)(35,"input",47),t.bIt("change",function(c){const w=t.eBV(n).$implicit,N=t.XpG(3);return t.Njj(N.setAttendance("absent",w.id,c))}),t.k0s()()(),t.j41(36,"td",31)(37,"textarea",48),t.bIt("input",function(c){const w=t.eBV(n).$implicit,N=t.XpG(3);return t.Njj(N.setReasonAttendance(w.id,c))}),t.nI1(38,"mytranslate"),t.k0s()()()}if(2&i){const n=u.$implicit;let m,c;t.R7$(2),t.Y8G("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,27,n.identificationNumber,6):""),t.R7$(4),t.Y8G("ngIf",n.lastMonthPaid||n.lastYearPaid),t.R7$(1),t.Y8G("ngIf",!n.lastMonthPaid||!n.lastYearPaid),t.R7$(1),t.FCK("matTooltip","",t.bMT(11,30,"lang_cms_auto_gen_test_select")," ",t.bMT(12,32,"lang_auto_month"),""),t.R7$(10),t.Y8G("ngClass",n.totalRemainHomework>0||n.noHomework?"darkgray":n.finishHomework?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(23,34,n.totalRemainHomework>0?t.bMT(24,36,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainHomework.toString()+")":n.noHomework?"lang_auto_hoan_thanh":n.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(3),t.Y8G("ngClass",n.totalRemainExam>0||n.noExam?"darkgray":n.finishExam?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(28,38,n.totalRemainExam>0?t.bMT(29,40,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainExam.toString()+")":n.noExam?"lang_auto_hoan_thanh":n.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(5),t.Y8G("id","received_document_"+n.id)("checked",null!==(m=null==n.attendance?null:n.attendance.receivedDocument)&&void 0!==m?m:0),t.R7$(3),t.Y8G("id","absent_"+n.id)("checked",null!==(c=null==n.attendance?null:n.attendance.absent)&&void 0!==c?c:0),t.R7$(2),t.FS9("placeholder",t.bMT(38,42,"lang_business_reason_for_leave")),t.Y8G("id","attendance_reason_"+n.id)("disabled",!(null!=n.attendance&&n.attendance.absent))("value",null==n.attendance?null:n.attendance.reason)}}function An(i,u){if(1&i&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",23),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",24),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",25),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",26),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",24)(21,"div"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",24),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",24),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,ji,39,44,"tr",27),t.k0s()()()),2&i){const n=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,11,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,13,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(12,15,"lang_test_market_withdraw_time")," ",t.bMT(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(16,19,"lang_student_frontend_dashboard_homework")),t.R7$(3),t.JRh(t.bMT(19,21,"lang_auto_only_de_thi")),t.R7$(4),t.SpI(" ",t.bMT(23,23,"lang_core_da_phat")," "),t.R7$(2),t.SpI(" ",t.bMT(25,25,"lang_auto_tai_lieu")," "),t.R7$(3),t.SpI(" ",t.bMT(28,27,"lang_business_vang_mat")," "),t.R7$(3),t.JRh(t.bMT(31,29,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngForOf",n.listStudent)}}function Oi(i,u){if(1&i&&t.DNE(0,An,34,31,"div",19),2&i){const n=t.XpG();t.Y8G("ngIf",n.listStudent.length>0)}}function Co(i,u){if(1&i){const n=t.RV6();t.j41(0,"azt-paging",53),t.bIt("goToPaginationPage",function(c){t.eBV(n);const h=t.XpG(2);return t.Njj(h.setPageStudent(c))}),t.k0s()}if(2&i){const n=t.XpG(2);t.Y8G("pageObj",n.pageObj)}}function Gs(i,u){if(1&i&&(t.j41(0,"div",50),t.nrm(1,"div"),t.DNE(2,Co,1,1,"azt-paging",51),t.j41(3,"div",52),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageObj.pageSize),t.R7$(2),t.Lme("",n.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}let $s=(()=>{class i extends r.H{openDialogCheckboxMonth(n){this.sAztDialogService.open(Be,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(m=>{m&&this.getListStudent()})}goToProfile(n,m){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+m,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(n){var m="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,c="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(m,c),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}setAttendance(n,m,c){var h=c.target,w=h.checked?1:0,N=this.listStudent.find(_t=>_t.id==m);if(N){var J=this.listAttendanceNew.find(Vt=>Vt.id==m);let _t=document.getElementById("attendance_reason_"+m);"absent"==n?(N.attendance.absent=w,h.checked?N.attendance.receivedDocument=0:(N.attendance.reason="",_t.value="")):(N.attendance.receivedDocument=w,h.checked&&(N.attendance.absent=0,N.attendance.reason="",_t.value="")),J?(J.absent=N.attendance?.absent,J.receivedDocument=N.attendance?.receivedDocument,J.reason=_t.value):this.listAttendanceNew.push({id:m,absent:N.attendance?.absent,receivedDocument:N.attendance?.receivedDocument,reason:_t.value})}}setReasonAttendance(n,m){var c=m.target,h=this.listStudent.find(N=>N.id==n);if(h){var w=this.listAttendanceNew.find(N=>N.id==n);w?w.reason=c.value:this.listAttendanceNew.push({id:n,absent:h.attendance?.absent,receivedDocument:h.attendance?.receivedDocument,reason:c.value})}}saveAttendance(){this.isSave=!0;let n={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(n).subscribe(m=>{m.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(m=>{m?(m.list.forEach(c=>{c.attendance||(c.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:c.id,absent:0,permission:0,reason:""})},m.list),this.listStudent=m.list,this.totalStudent=m.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,H.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(n,m,c){super(),this.activeRoute=n,this.studentService=m,this.sAztDialogService=c,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new tt.Z,this.pageObj=new Kt.d(20)}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(S.nX),t.rXU(un.b),t.rXU(Y.i))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-attendance-student"]],features:[t.Vt3],decls:22,vars:19,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(w){return c.onSearchBox(w.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"flexed-on-the-top",8)(12,"button",9),t.bIt("click",function(){return c.saveAttendance()}),t.DNE(13,Ns,1,0,"azt-loading-ui",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.j41(16,"div",11),t.DNE(17,vo,3,3,"div",12),t.DNE(18,Ji,1,1,"azt-loading-effect",13),t.DNE(19,Oi,1,1,"ng-template",null,14,t.C5r),t.k0s(),t.DNE(21,Gs,6,5,"div",15),t.k0s()),2&m){const h=t.sdS(20);t.Y8G("headerBackToLink",c.backToLink),t.R7$(4),t.JRh(t.bMT(5,13,"lang_student_attendance_student")),t.R7$(5),t.Y8G("isServerSearch",!0)("searchContentObj",c.searchContentObj)("placeholder",t.bMT(10,15,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",c.isSave),t.R7$(1),t.Y8G("ngIf",c.isSave),t.R7$(1),t.SpI(" ",t.bMT(15,17,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",0==c.listStudent.length&&0==c.totalStudent),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h),t.R7$(3),t.Y8G("ngIf",c.totalStudent>0)}},dependencies:[v.YU,v.Sq,v.bT,it.oV,at.K,gt.q,nt.R,Wi.$,dt.W,ce.B,a.Q,F.wp,F.Po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return i})();var To=g(12787);function Ps(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",10),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function zs(i,u){1&i&&(t.j41(0,"div",23),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}const So=function(i){return{width:i}};function st(i,u){if(1&i&&(t.j41(0,"div",24)(1,"div",25)(2,"div",26,27),t.nrm(4,"img",28),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",29)(7,"div",30),t.EFF(8),t.k0s(),t.j41(9,"div",31),t.EFF(10),t.k0s()()()()),2&i){const n=u.$implicit,m=t.sdS(3);t.R7$(4),t.FS9("src",""!=n.iconLink&&n.iconLink?n.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.B4B),t.FS9("alt",t.bMT(5,6,"lang_core_anh_sach")),t.R7$(2),t.Y8G("ngStyle",t.eq3(8,So,"calc(100% -  "+(m.offsetWidth+12)+"px)")),t.R7$(1),t.FS9("matTooltip",n.name),t.R7$(1),t.JRh(n.name),t.R7$(2),t.JRh(n.description)}}function tr(i,u){1&i&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function $t(i,u){if(1&i&&(t.j41(0,"th",39)(1,"div",40),t.EFF(2),t.k0s()()),2&i){const n=u.$implicit;t.R7$(1),t.FS9("matTooltip",n.name),t.R7$(1),t.SpI(" ",n.name," ")}}const Ke=function(){return[]};function Ze(i,u){if(1&i){const n=t.RV6();t.j41(0,"td",45)(1,"div",46)(2,"input",47),t.bIt("change",function(c){t.eBV(n);const h=t.XpG().$implicit,w=t.XpG(3);return t.Njj(w.setStatusBook(h,c))}),t.k0s()()()}if(2&i){const n=u.$implicit,m=t.XpG().$implicit,c=t.XpG(3);let h;t.R7$(2),t.Mz_("id","input-book-",n.id,""),t.Y8G("value",n.id)("checked",c.checkStatusDistribute(n,null!==(h=m.books)&&void 0!==h?h:t.lJ4(3,Ke)))}}function jn(i,u){if(1&i){const n=t.RV6();t.j41(0,"tr")(1,"td",41),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(3);return t.Njj(w.goToProfile(h.classroomId,h.id))}),t.nrm(2,"azt-student-info-box",42),t.k0s(),t.j41(3,"td",43),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,Ze,3,4,"td",44),t.k0s()}if(2&i){const n=u.$implicit,m=t.XpG(3);let c;t.R7$(2),t.Y8G("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,12,n.identificationNumber,6):""),t.R7$(2),t.Y8G("ngForOf",null!==(c=null==m.listBook?null:m.listBook.list)&&void 0!==c?c:t.lJ4(15,Ke))}}function Ln(i,u){if(1&i&&(t.j41(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",36),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,$t,3,2,"th",37),t.k0s()(),t.j41(12,"tbody"),t.DNE(13,jn,7,16,"tr",38),t.k0s()()()()),2&i){const n=t.XpG(2);let m;t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(m=null==n.listBook?null:n.listBook.list)&&void 0!==m?m:t.lJ4(8,Ke)),t.R7$(2),t.Y8G("ngForOf",n.listStudent)}}function ni(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",48),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",49),t.bIt("click",function(){t.eBV(n);const c=t.XpG(2);return t.Njj(c.search(c.searchContentObj))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Ki(i,u){if(1&i){const n=t.RV6();t.j41(0,"azt-paging",17),t.bIt("goToPaginationPage",function(c){t.eBV(n);const h=t.XpG(3);return t.Njj(h.setPageStudent(c))}),t.k0s()}if(2&i){const n=t.XpG(3);t.Y8G("pageObj",n.pageStudentObj)}}function ii(i,u){if(1&i&&(t.j41(0,"div",50),t.nrm(1,"div"),t.DNE(2,Ki,1,1,"azt-paging",51),t.j41(3,"div",52),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG(2);t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageStudentObj.pageSize),t.R7$(2),t.Lme("",n.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}function oi(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",11)(1,"div",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,zs,3,3,"div",13),t.j41(5,"div",14),t.DNE(6,st,11,10,"div",15),t.k0s(),t.j41(7,"div",16)(8,"azt-paging",17),t.bIt("goToPaginationPage",function(c){t.eBV(n);const h=t.XpG();return t.Njj(h.setPageBook(c))}),t.k0s()()(),t.j41(9,"div",18),t.DNE(10,tr,3,3,"div",19),t.DNE(11,Ln,14,9,"div",20),t.DNE(12,ni,6,6,"div",21),t.k0s(),t.DNE(13,ii,6,5,"div",22)}if(2&i){const n=t.XpG();let m;t.R7$(2),t.JRh(t.bMT(3,8,"lang_core_thong_tin_sach")),t.R7$(2),t.Y8G("ngIf",!(null!=n.listBook&&n.listBook.list&&0!=(null==n.listBook?null:n.listBook.total)||""!=n.searchContentObj.searchContent)),t.R7$(2),t.Y8G("ngForOf",null!==(m=null==n.listBook?null:n.listBook.list)&&void 0!==m?m:t.lJ4(10,Ke)),t.R7$(2),t.Y8G("pageObj",n.pageBookObj),t.R7$(2),t.Y8G("ngIf",0==n.listStudent.length&&""==n.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",n.listStudent.length>0),t.R7$(1),t.Y8G("ngIf",0==n.listStudent.length&&""!=n.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",n.totalStudent>0)}}let Io=(()=>{class i extends r.H{setPageStudent(n){var m="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,c="?page="+n+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(m,c),this.initStatusObj(),this.pageStudentObj.setPageNumber(n),this.getListStudent()}goToProfile(n,m){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+m,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(n){this.searchContentObj=n,this.setPageStudent(1)}setPageBook(n){this.pageBookObj.setPageNumber(n),this.getBooks()}checkStatusDistribute(n,m){for(let c=0;c<m.length;c++)if(m[c].bookId==n.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(m=>{m?(this.listBook=m,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(n,m){var c=m.target;if(c.checked){var h={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(c.value),activate:c.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(h).subscribe(N=>{N.success||(document.getElementById("input-book-"+c.value).checked=!c.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var w={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(c.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(w).subscribe(N=>{N.success||(document.getElementById("input-book-"+c.value).checked=!c.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(m=>{m?(this.listStudent=m.list,this.totalStudent=m.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,H.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(n,m,c){super(),this.bookService=n,this.studentService=m,this.activeRoute=c,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new tt.Z,this.pageBookObj=new Kt.d(20),this.pageStudentObj=new Kt.d(20)}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(To.l),t.rXU(un.b),t.rXU(S.nX))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-distribute-documents"]],features:[t.Vt3],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(w){return c.search(w.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()()()()(),t.DNE(11,Ps,1,1,"azt-loading-effect",8),t.DNE(12,oi,14,11,"ng-template",null,9,t.C5r),t.k0s()),2&m){const h=t.sdS(13);t.Y8G("headerBackToLink",c.backLink),t.R7$(4),t.JRh(t.bMT(5,7,"lang_student_distribute_books")),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",c.searchContentObj),t.R7$(2),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h)}},dependencies:[v.Sq,v.bT,v.B3,it.oV,at.K,gt.q,dt.W,ce.B,a.Q,ge.jd,ge.Ew,F.wp,F.Po],styles:[".add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}"]})}return i})();var As=g(19857);let Qe=(()=>{class i extends r.H{ngOnInit(){(0,H.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let n=this.commonService.getMyQueryParam("studentId"),m=this.commonService.getMyQueryParam("backTo");this.backToLink=n?"/admin/student/classroom-details/"+this.classroomId+"/4":m||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(n){super(),this.activeRoute=n,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(S.nX))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-enter-score"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(m,c){1&m&&(t.j41(0,"teacher-layout",0),t.nrm(1,"app-table-score",1),t.k0s()),2&m&&(t.Y8G("headerBackToLink",c.backToLink),t.R7$(1),t.Y8G("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",c.classroomId)("programId",c.programId)("sessionId",c.sessionId))},dependencies:[a.Q,As.g],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]})}return i})();var ve=g(44658),qe=g(19548),Bn=g(43404),yo=g(4375);function On(i,u){1&i&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function Zi(i,u){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2);t.R7$(1),t.SpI("- ",n.selectedYearValue+1,"")}}function Qi(i,u){if(1&i&&(t.j41(0,"mat-option",34),t.EFF(1),t.DNE(2,Zi,2,1,"span",35),t.k0s()),2&i){const n=u.$implicit,m=t.XpG();t.Y8G("value",n),t.R7$(1),t.SpI(" ",n," "),t.R7$(1),t.Y8G("ngIf",m.selectedYearValue==n)}}function Ls(i,u){1&i&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function Bs(i,u){if(1&i&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.groupObj.name))}}function Vs(i,u){if(1&i&&(t.j41(0,"span",42),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&i){const n=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,n.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,n.groupObj.name))}}function si(i,u){if(1&i&&(t.qex(0),t.j41(1,"div",37)(2,"mat-radio-button",38),t.DNE(3,Bs,3,3,"span",39),t.nI1(4,"mytranslate"),t.DNE(5,Vs,4,6,"span",40),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&i){const n=u.$implicit;t.R7$(2),t.Y8G("value",n.groupObj.id),t.R7$(1),t.Y8G("ngIf",n.groupObj.name&&t.bMT(4,3,n.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",n.groupObj.name&&t.bMT(6,5,n.groupObj.name).length>=15)}}function Ys(i,u){1&i&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function Us(i,u){if(1&i){const n=t.RV6();t.j41(0,"a",44),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function Xs(i,u){1&i&&(t.nrm(0,"input",45,46),t.nI1(2,"mytranslate")),2&i&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function Hs(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",47)(1,"button",48),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",49),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",50),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(1),t.Y8G("disabled",n.form.controls.nameGroup.errors),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function jo(i,u){1&i&&(t.j41(0,"div",51),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function Ws(i,u){1&i&&t.nrm(0,"azt-loading-ui",54)}function Js(i,u){if(1&i){const n=t.RV6();t.qex(0),t.j41(1,"button",52),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.saveClassroomObj(!1))}),t.DNE(2,Ws,1,0,"azt-loading-ui",53),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&i){const n=t.XpG();t.R7$(1),t.Y8G("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",n.statusObj.loading&&"save"==n.activeButton),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function Ks(i,u){1&i&&t.nrm(0,"azt-loading-ui",54)}function Zs(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.updateClassroomObj())}),t.DNE(1,Ks,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&i){const n=t.XpG();t.Y8G("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",n.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function Qs(i,u){1&i&&t.nrm(0,"azt-loading-ui",54)}function qs(i,u){if(1&i){const n=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.saveClassroomObj(!0))}),t.DNE(1,Qs,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&i){const n=t.XpG();t.Y8G("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",n.statusObj.loading&&"save_and_close"==n.activeButton),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let qi=(()=>{class i extends Zt._{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let n={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(n).subscribe(m=>{1==m.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(m.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(n){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=n}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let m=this.form.getRawValue().group;m=m!=this.fakeGroupValue?m:void 0;let c={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:m??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(c).subscribe(h=>{1==h.success?h.data?.isDuplicatedClassroomName?this.errorStatusObj(h.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(n){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=n?"save_and_close":"save";let c=this.form.getRawValue().group;c=c!=this.fakeGroupValue?c:void 0;let h={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:c};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(h).subscribe(w=>{if(1==w.success)if(w.data?.isDuplicatedClassroomName)this.errorStatusObj(w.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let N=w.data?.obj.id;n&&(this.dialogRef.close(),this.commonService.myNavigation(`/admin/student/classroom-details/${N}/0`)),this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let n=(new Date).getFullYear();for(let w=n-20;w<=n+40;w++)this.years.push(w);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let m=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=m?parseInt(m??"",10):n;let c=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new q.gE({nameClass:new q.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[q.k0.required]}),nameGroup:new q.MJ("",{nonNullable:!0,validators:[q.k0.required]}),group:new q.MJ(c,{nonNullable:!0,validators:[q.k0.required]}),year:new q.MJ(this.selectedYearValue,{nonNullable:!0,validators:[q.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{1==n.success?(this.activeClassroomData=n?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(n,m,c){super(c,m),this.classroomGroupService=n,this.dialogRef=m,this.data=c,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewGroup=!1,this.activeButton="save",this.classroomObj=c.classroomObj,this.form=new q.gE({nameClass:new q.MJ("",{nonNullable:!0,validators:[q.k0.required]}),nameGroup:new q.MJ("",{nonNullable:!0,validators:[q.k0.required]}),group:new q.MJ(0,{nonNullable:!0,validators:[q.k0.required]}),year:new q.MJ(0,{nonNullable:!0,validators:[q.k0.required]})})}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(qe.kG),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-create-or-classroom"]],features:[t.Vt3],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",8),t.nI1(15,"mytranslate"),t.DNE(16,On,3,3,"div",9),t.k0s(),t.j41(17,"div",10)(18,"label",11),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",12)(22,"mat-select",13),t.bIt("valueChange",function(w){return c.selectedYearValue=w}),t.DNE(23,Qi,3,3,"mat-option",14),t.k0s()(),t.DNE(24,Ls,3,3,"div",15),t.k0s(),t.j41(25,"div",16)(26,"div",17),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.DNE(32,si,7,7,"ng-container",21),t.k0s()(),t.DNE(33,Ys,3,3,"div",22),t.j41(34,"div",23),t.DNE(35,Us,3,3,"a",24),t.DNE(36,Xs,3,3,"input",25),t.DNE(37,Hs,6,4,"div",26),t.k0s(),t.DNE(38,jo,3,3,"div",27),t.k0s()()()()(),t.j41(39,"div",28)(40,"button",29),t.bIt("click",function(){return c.closeDialog()}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s(),t.DNE(43,Js,5,5,"ng-container",30),t.DNE(44,Zs,4,5,"ng-template",null,31,t.C5r),t.DNE(46,qs,4,5,"button",32),t.k0s()()()),2&m){const h=t.sdS(45);t.R7$(1),t.Y8G("formGroup",c.form),t.R7$(4),t.SpI(" ",c.classroomObj?t.bMT(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,24,"lang_auto_ten_lop")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,26,"lang_auto_nhap_ten_lop")),t.R7$(2),t.Y8G("ngIf",c.form.controls.nameClass.dirty&&c.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,28,"lang_auto_nam_hoc")," "),t.R7$(3),t.Y8G("value",c.selectedYearValue),t.R7$(1),t.Y8G("ngForOf",c.years),t.R7$(1),t.Y8G("ngIf",c.form.controls.year.dirty&&c.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",c.activeClassroomData),t.R7$(1),t.Y8G("ngIf",c.form.controls.group.dirty&&c.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==c.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",1==c.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",c.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",c.isShowCreateGroupOfClassroom&&c.form.controls.nameGroup.dirty&&c.form.controls.nameGroup.errors),t.R7$(3),t.JRh(t.bMT(42,32,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!c.classroomObj)("ngIfElse",h),t.R7$(3),t.Y8G("ngIf",!c.classroomObj)}},dependencies:[v.Sq,v.bT,mn.wT,xn.rl,Bn.VT,Bn._g,yo.VO,it.oV,q.qT,q.me,q.BC,q.cb,q.j4,q.JD,We.t,ne.U,nt.R,ft.WGl,F.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]})}return i})();var ta=g(18350),ea=g(7814);let Oo=(()=>{class i extends ea.W{reloadClassrooms(n){this.typeFilter=n??"all",this.getClassroomObjs()}eventOfClassroomMenu(n){n&&this.getClassroomObjs()}updateGroupSuccessEvent(n){n&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(n=>{n.success?(this.classroomGroupData=(this.isShowActiveClassroom?n?.data?.activeClassroomData:n?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(n?.data?.storageClassroomData?.map(m=>m.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(m=>m.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.WQX)(qe.kG),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}static#t=this.\u0275fac=function(m){return new(m||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-base-show-classrooms"]],features:[t.Vt3],decls:0,vars:0,template:function(m,c){},encapsulation:2})}return i})();function ai(i,u){1&i&&t.nrm(0,"azt-loading-ui",10)}let na=(()=>{class i extends Zt._{closeDialog(n){this.dialogRef.close(n)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(n=>{1==n.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(m=>{1==m.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(n,m,c){super(c,m),this.classroomGroupService=n,this.dialogRef=m,this.data=c,this.classroomObj=c.classroomObj}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(qe.kG),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-teacher-delete-classroom"]],features:[t.Vt3],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s()()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return c.closeDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return c.deleteClassroomObj()}),t.DNE(15,ai,1,0,"azt-loading-ui",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.Lme(" ",c.classroomObj.isShareClassroom?t.bMT(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.bMT(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.R7$(4),t.JRh(c.classroomObj.name),t.R7$(3),t.SpI(" ",t.bMT(13,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==c.statusObj.loading),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(17,13,"lang_button_delete")," "))},dependencies:[v.bT,nt.R,F.wp],encapsulation:2})}return i})();function ia(i,u){1&i&&t.nrm(0,"azt-loading-ui")}function oa(i,u){if(1&i&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i){const n=t.XpG(3).$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.groupObj.name))}}function sa(i,u){if(1&i&&(t.j41(0,"span",23),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&i){const n=t.XpG(3).$implicit;t.FS9("matTooltip",t.bMT(1,2,n.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,n.groupObj.name))}}function aa(i,u){if(1&i&&(t.j41(0,"mat-radio-button",19),t.DNE(1,oa,3,3,"span",20),t.DNE(2,sa,4,6,"span",21),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.Y8G("value",n.groupObj.id),t.R7$(1),t.Y8G("ngIf",n.groupObj.name&&n.groupObj.name.length<15),t.R7$(1),t.Y8G("ngIf",n.groupObj.name&&n.groupObj.name.length>=15)}}function ra(i,u){if(1&i&&(t.j41(0,"div",17),t.DNE(1,aa,3,3,"mat-radio-button",18),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",null!=n.groupObj)}}function la(i,u){1&i&&(t.j41(0,"div",24)(1,"mat-radio-button",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i&&(t.R7$(1),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_student_classroom_list_other")," "))}function ca(i,u){if(1&i&&(t.qex(0),t.DNE(1,ra,2,1,"div",15),t.DNE(2,la,4,4,"div",16),t.bVm()),2&i){const n=u.$implicit;t.R7$(1),t.Y8G("ngIf",null!=n.groupObj),t.R7$(1),t.Y8G("ngIf",null==n.groupObj)}}function ma(i,u){1&i&&t.nrm(0,"azt-loading-ui",25)}let da=(()=>{class i extends Zt._{closeDialog(){this.dialogRef.close()}chooseGroup(){let n=this.form.getRawValue();this.groupId=n.groupId!=this.fakeGroupValue?n.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(m=>{1==m.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{if(1==n.success){for(var m of(this.activeClassroomData=n?.data?.activeClassroomData??[],this.activeClassroomData))m.classroomObjs.find(w=>w.id==this.classId)&&(this.form=new q.gE({groupId:new q.MJ(m.groupObj.id,{nonNullable:!0,validators:[q.k0.required]})}));this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(n,m,c){super(c,m),this.classroomGroupService=n,this.dialogRef=m,this.data=c,this.classId=0,this.fakeGroupValue=-2,this.classId=c.classId,this.form=new q.gE({groupId:new q.MJ(void 0,{nonNullable:!0,validators:[q.k0.required]})})}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(qe.kG),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-move-classroom-to-group"]],features:[t.Vt3],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],[4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.DNE(10,ia,1,0,"azt-loading-ui",7),t.j41(11,"mat-radio-group",8),t.bIt("change",function(){return c.chooseGroup()}),t.j41(12,"div",9),t.DNE(13,ca,3,2,"ng-container",10),t.k0s()()()()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("click",function(){return c.closeDialog()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return c.updateClassroomToGroup()}),t.DNE(19,ma,1,0,"azt-loading-ui",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&m&&(t.R7$(1),t.Y8G("formGroup",c.form),t.R7$(4),t.SpI(" ",t.bMT(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.R7$(5),t.Y8G("ngIf",c.statusObj.loading),t.R7$(3),t.Y8G("ngForOf",c.activeClassroomData),t.R7$(3),t.JRh(t.bMT(17,10,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",c.form.controls.groupId.errors),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,12,"lang_button_update")," "))},dependencies:[v.Sq,v.bT,Bn.VT,Bn._g,it.oV,q.qT,q.BC,q.cb,q.j4,q.JD,We.t,ne.U,nt.R,F.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]})}return i})();function _a(i,u){1&i&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_add_home_work_share")))}function ua(i,u){if(1&i&&(t.j41(0,"div",16)(1,"a",17),t.bIt("click",function(m){return m.preventDefault()}),t.nrm(2,"lucide-icon",18),t.k0s()()),2&i){t.XpG();const n=t.sdS(17);t.R7$(1),t.Y8G("matMenuTriggerFor",n)}}function pa(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.editClassroomDialog())}),t.qSk(),t.j41(2,"svg",20),t.nrm(3,"path",21)(4,"path",22),t.k0s(),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}2&i&&(t.R7$(5),t.SpI(" ",t.bMT(6,1,"lang_auto_sua_lop")," "))}function ga(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",23),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.copyClassroomObj())}),t.qSk(),t.j41(2,"svg",20),t.nrm(3,"rect",24)(4,"path",25),t.k0s(),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}2&i&&(t.R7$(5),t.SpI(" ",t.bMT(6,1,"lang_auto_nhan_ban_lop")," "))}function ha(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",26),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.moveClassroomToStorage())}),t.qSk(),t.j41(2,"svg",20),t.nrm(3,"ellipse",27)(4,"path",28)(5,"path",29),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()}2&i&&(t.R7$(6),t.SpI(" ",t.bMT(7,1,"lang_auto_dua_vao_luu_tru")," "))}function fa(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",30),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.moveSharedClassroomToStorage())}),t.qSk(),t.j41(2,"svg",20),t.nrm(3,"ellipse",27)(4,"path",28)(5,"path",29),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()}2&i&&(t.R7$(6),t.SpI(" ",t.bMT(7,1,"lang_auto_dua_vao_luu_tru")," "))}function ba(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",31),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.moveClassroomFromStorageToActive())}),t.qSk(),t.j41(2,"svg",20),t.nrm(3,"path",32)(4,"path",33)(5,"path",34)(6,"path",35),t.k0s(),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()}2&i&&(t.R7$(7),t.SpI(" ",t.bMT(8,1,"lang_auto_khoi_phuc")," "))}function va(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",36),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.moveSharedClassroomFromStorageToActive())}),t.qSk(),t.j41(2,"svg",20),t.nrm(3,"path",32)(4,"path",33)(5,"path",34)(6,"path",35),t.k0s(),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()}2&i&&(t.R7$(7),t.SpI(" ",t.bMT(8,1,"lang_auto_khoi_phuc")," "))}function ka(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",36),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.updateClassroom())}),t.qSk(),t.j41(2,"svg",20),t.nrm(3,"path",37)(4,"path",38)(5,"path",39)(6,"path",40)(7,"path",41),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()}2&i&&(t.R7$(8),t.SpI(" ",t.bMT(9,1,"lang_core_sua_di_chuyen")," "))}function xa(i,u){if(1&i){const n=t.RV6();t.j41(0,"li")(1,"a",42),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.deleteClassroomDialog())}),t.qSk(),t.j41(2,"svg",43),t.nrm(3,"polyline",44)(4,"path",45),t.k0s(),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}2&i&&(t.R7$(5),t.SpI(" ",t.bMT(6,1,"lang_auto_xoa_lop")," "))}const Ca=function(i){return[i]};let wo=(()=>{class i extends r.H{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(da,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(m.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(m.message??"")})}editClassroomDialog(){this.sAztDialogService.open(qi,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(na,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(n,m,c){super(),this.classroomGroupService=n,this.permissionTeamService=m,this.sAztDialogService=c,this.eventOfClassroomMenu=new t.bkB,this.screenTemplate=""}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(qe.kG),t.rXU(qe.km),t.rXU(Y.i))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.Vt3],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis","size","20",1,"text-slate-500"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["d","M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"],["d","m18 2 4 4-4 4"],["d","M2 6h1.9c1.5 0 2.9.9 3.6 2.2"],["d","M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"],["d","m18 14 4 4-4 4"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"a",1),t.nI1(2,"navigationLocalize"),t.j41(3,"div",2)(4,"a",3,4),t.EFF(6),t.k0s()(),t.j41(7,"div",5)(8,"div",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.DNE(14,_a,4,3,"div",8),t.k0s(),t.DNE(15,ua,3,1,"div",9),t.k0s(),t.j41(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.DNE(20,pa,7,3,"li",14),t.nI1(21,"editPermission"),t.DNE(22,ga,7,3,"li",14),t.nI1(23,"fullPermission"),t.DNE(24,ha,8,3,"li",14),t.DNE(25,fa,8,3,"li",14),t.DNE(26,ba,9,3,"li",14),t.DNE(27,va,9,3,"li",14),t.DNE(28,ka,10,3,"li",14),t.DNE(29,xa,7,3,"li",14),t.nI1(30,"deletePermission"),t.k0s()()()),2&m){const h=t.sdS(5);t.R7$(1),t.Y8G("routerLink",t.eq3(34,Ca,t.bMT(2,19,"/admin/student/classroom-details/"+c.classroomObj.id+(c.programId?"/3":"/0")))),t.R7$(3),t.FS9("matTooltip",c.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",h.isDisabled),t.R7$(2),t.SpI(" ",c.classroomObj.name," "),t.R7$(3),t.Lme("",t.bMT(10,21,"lang_auto_si_so"),": ",c.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(13,23,"lang_auto_nam_hoc"),": ",c.classroomObj.year,""),t.R7$(2),t.Y8G("ngIf",c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",c.classroomObj.permissionObj),t.R7$(5),t.Y8G("ngIf",""==c.screenTemplate&&t.i5U(21,25,c.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==c.screenTemplate&&t.i5U(23,28,c.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==c.screenTemplate&&!c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf","storage"==c.screenTemplate),t.R7$(1),t.Y8G("ngIf","showListPeopleWhoWillShare"==c.screenTemplate),t.R7$(1),t.Y8G("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",t.i5U(30,31,c.classroomObj,"classroom"))}},dependencies:[v.bT,Z.kk,Z.Cp,it.oV,S.Wk,ft.WGl,mt.f,F.F2,F.wp,F.gC,F.FV,F.AJ],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00,#68cc009c);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]})}return i})();function Ta(i,u){1&i&&t.nrm(0,"azt-loading-ui",10)}let Sa=(()=>{class i extends Zt._{closeDialog(n){this.dialogRef.close(n)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(n=>{1==n.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(n.message??"",!0),this.dialogRef.close())}))}constructor(n,m,c){super(c,m),this.classroomGroupService=n,this.dialogRef=m,this.data=c,this.currentGroupOfClassroomDataThatIsEdited=c.groupObj}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(qe.kG),t.rXU(Pt.CP,8),t.rXU(Pt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-delete-group"]],features:[t.Vt3],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s()()()()(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return c.closeDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return c.deleteGroupOfClassroom()}),t.DNE(14,Ta,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.R7$(3),t.JRh(null==c.currentGroupOfClassroomDataThatIsEdited?null:c.currentGroupOfClassroomDataThatIsEdited.name),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==c.statusObj.loading),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(16,10,"lang_button_delete")," "))},dependencies:[v.bT,nt.R,F.wp],encapsulation:2})}return i})();function Ia(i,u){1&i&&(t.j41(0,"span"),t.qSk(),t.j41(1,"svg",26),t.nrm(2,"path",27),t.k0s()())}function ya(i,u){1&i&&(t.j41(0,"span"),t.qSk(),t.j41(1,"svg",28),t.nrm(2,"path",29),t.k0s()())}function ja(i,u){if(1&i&&(t.j41(0,"button",30),t.bIt("click",function(m){return m.stopPropagation()}),t.nrm(1,"lucide-icon",31),t.k0s()),2&i){t.XpG();const n=t.sdS(12);t.Y8G("matMenuTriggerFor",n)}}function Oa(i,u){1&i&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_enter_name_group")," "))}let Eo=(()=>{class i extends r.H{collapseByGroupId(n){this.collapseByGroupIdEvent.emit(n)}deleteGroupDialog(){this.sAztDialogService.open(Sa,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(n){if(""!=n.trim()){var m={groupId:this.groupObj?.id??0,name:n};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(m).subscribe(c=>{1==c.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(c.message??"",!0)}))}}constructor(n,m){super(),this.classroomGroupService=n,this.sAztDialogService=m,this.updateGroupSuccessEvent=new t.bkB,this.collapseByGroupIdEvent=new t.bkB}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(qe.kG),t.rXU(Y.i))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.Vt3],decls:44,vars:31,consts:[[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[4,"ngIf"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["name","square-pen","size","16",1,"mr-1"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","16",1,"mr-1"],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-right"],["d","m9 18 6-6-6-6"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis-vertical","size","16"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(m,c){if(1&m){const h=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.bIt("click",function(){return c.collapseByGroupId(c.groupObj)}),t.DNE(3,Ia,3,0,"span",3),t.DNE(4,ya,3,0,"span",3),t.j41(5,"h2",4),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s()()(),t.j41(9,"div",5),t.DNE(10,ja,2,1,"button",6),t.j41(11,"mat-menu",null,7)(13,"div",8)(14,"button",9),t.bIt("click",function(N){return N.stopPropagation()}),t.nrm(15,"lucide-icon",10),t.j41(16,"span"),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"button",11),t.bIt("click",function(){return c.deleteGroupDialog()}),t.nrm(20,"lucide-icon",12),t.j41(21,"span"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()(),t.j41(24,"mat-menu",13,14)(26,"div",15)(27,"div",16)(28,"div",17)(29,"h2",18),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.j41(32,"div",19),t.bIt("click",function(N){return N.stopPropagation()}),t.nrm(33,"input",20,21),t.nI1(35,"mytranslate"),t.DNE(36,Oa,3,3,"div",22),t.k0s(),t.j41(37,"div",23)(38,"button",24),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s(),t.j41(41,"button",25),t.bIt("click",function(){t.eBV(h);const N=t.sdS(34);return t.Njj(c.updateGroupOfClassroom(N.value))}),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s()()()()()()}if(2&m){const h=t.sdS(25),w=t.sdS(34);t.R7$(3),t.Y8G("ngIf",c.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",!c.groupObj.isExpand),t.R7$(2),t.Lme("",t.bMT(7,15,c.groupObj.name)," ","("+c.groupObj.totalViewClassrooms+" "+t.bMT(8,17,"lang_testbank_test_list_classes")+")",""),t.R7$(4),t.Y8G("ngIf",c.groupObj.id>0&&c.isOwned),t.R7$(4),t.Y8G("matMenuTriggerFor",h),t.R7$(3),t.JRh(t.bMT(18,19,"lang_button_edit")),t.R7$(5),t.JRh(t.bMT(23,21,"lang_button_delete")),t.R7$(8),t.JRh(t.bMT(31,23,"lang_student_classroom_list_update_group")),t.R7$(3),t.FS9("value",c.groupObj.name),t.FS9("placeholder",t.bMT(35,25,"lang_auto_nhap_ten_nhom")),t.R7$(3),t.Y8G("ngIf",""==w.value.trim()),t.R7$(3),t.SpI(" ",t.bMT(40,27,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",""==w.value.trim()),t.R7$(1),t.SpI(" ",t.bMT(43,29,"lang_student_classroom_list_update")," ")}},dependencies:[v.bT,Z.kk,Z.Cp,ft.WGl,F.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return i})();function wa(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",3),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Ea(i,u){1&i&&(t.j41(0,"span"),t.qSk(),t.j41(1,"svg",12),t.nrm(2,"path",13)(3,"path",14),t.k0s()())}function Ma(i,u){1&i&&(t.j41(0,"span",15),t.qSk(),t.j41(1,"svg",16),t.nrm(2,"path",17)(3,"path",18),t.k0s()())}function Fa(i,u){if(1&i){const n=t.RV6();t.qex(0),t.j41(1,"div",26)(2,"azt-information-class-box",27),t.bIt("eventOfClassroomMenu",function(c){t.eBV(n);const h=t.XpG(5);return t.Njj(h.eventOfClassroomMenu(c))}),t.k0s()(),t.bVm()}if(2&i){const n=u.$implicit;t.R7$(1),t.Y8G("hidden",!n.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",n)}}function Ra(i,u){if(1&i&&(t.j41(0,"div",25),t.DNE(1,Fa,3,2,"ng-container",10),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",n.classroomObjs)}}function Da(i,u){1&i&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function Na(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",20)(1,"app-teacher-classroom-show-group-box",21),t.bIt("updateGroupSuccessEvent",function(c){t.eBV(n);const h=t.XpG(3);return t.Njj(h.updateGroupSuccessEvent(c))})("collapseByGroupIdEvent",function(){t.eBV(n);const c=t.XpG().$implicit,h=t.XpG(2);return t.Njj(h.collapseByGroupId(c.groupObj))}),t.k0s(),t.j41(2,"div",22),t.DNE(3,Ra,2,1,"div",23),t.DNE(4,Da,3,3,"div",24),t.k0s()()}if(2&i){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",n.groupObj)("isOwned",n.isOwned),t.R7$(1),t.Y8G("hidden",!n.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",n.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==n.classroomObjs.length)}}function Ga(i,u){if(1&i&&(t.j41(0,"div"),t.DNE(1,Na,5,5,"div",19),t.k0s()),2&i){const n=u.$implicit;t.R7$(1),t.Y8G("ngIf",n.groupObj.isShowGroup)}}const $a=function(i){return[i]};function Pa(i,u){if(1&i&&(t.j41(0,"div",29),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&i){const n=t.XpG(2);t.Y8G("routerLink",t.eq3(7,$a,t.bMT(1,3,"/admin/student/manage-classroom/1"))),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",n.totalStorageClassroom,") ")}}function ln(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(c){t.eBV(n);const h=t.XpG();return t.Njj(h.searchByName(c.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.collapseAll(!c.isExpandAll))}),t.DNE(5,Ea,4,0,"span",8),t.DNE(6,Ma,4,0,"span",9),t.k0s()(),t.DNE(7,Ga,2,1,"div",10),t.DNE(8,Pa,4,9,"div",11)}if(2&i){const n=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,6,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("ngIf",!n.isExpandAll),t.R7$(1),t.Y8G("ngIf",n.isExpandAll),t.R7$(1),t.Y8G("ngForOf",n.viewClassroomGroupObjs),t.R7$(1),t.Y8G("ngIf",n.totalStorageClassroom)}}let pe=(()=>{class i extends Oo{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}static#t=this.\u0275fac=function(m){return new(m||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-teacher-active-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],[4,"ngIf"],["class","clickable",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-up-down"],["d","m7 15 5 5 5-5"],["d","m7 9 5-5 5 5"],[1,"clickable"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-down-up"],["d","m7 20 5-5 5 5"],["d","m7 4 5 5 5-5"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0),t.DNE(1,wa,1,1,"azt-loading-effect",1),t.DNE(2,ln,9,8,"ng-template",null,2,t.C5r),t.k0s()),2&m){const h=t.sdS(3);t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h)}},dependencies:[S.Wk,v.Sq,v.bT,at.K,wo,dt.W,Eo,F.F2,F.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return i})();function Wt(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",3),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function ke(i,u){1&i&&(t.j41(0,"span"),t.qSk(),t.j41(1,"svg",11),t.nrm(2,"path",12)(3,"path",13),t.k0s()())}function ri(i,u){1&i&&(t.j41(0,"span",14),t.qSk(),t.j41(1,"svg",15),t.nrm(2,"path",16)(3,"path",17),t.k0s()())}function er(i,u){if(1&i){const n=t.RV6();t.qex(0),t.j41(1,"div",25)(2,"azt-information-class-box",26),t.bIt("eventOfClassroomMenu",function(c){t.eBV(n);const h=t.XpG(5);return t.Njj(h.eventOfClassroomMenu(c))}),t.k0s()(),t.bVm()}if(2&i){const n=u.$implicit;t.R7$(1),t.Y8G("hidden",!n.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",n)("screenTemplate","storage")}}function wi(i,u){if(1&i&&(t.j41(0,"div",24),t.DNE(1,er,3,3,"ng-container",10),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",n.classroomObjs)}}function Ei(i,u){1&i&&(t.j41(0,"div",27),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function li(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",19)(1,"app-teacher-classroom-show-group-box",20),t.bIt("updateGroupSuccessEvent",function(c){t.eBV(n);const h=t.XpG(3);return t.Njj(h.updateGroupSuccessEvent(c))})("collapseByGroupIdEvent",function(){t.eBV(n);const c=t.XpG().$implicit,h=t.XpG(2);return t.Njj(h.collapseByGroupId(c.groupObj))}),t.k0s(),t.j41(2,"div",21),t.DNE(3,wi,2,1,"div",22),t.DNE(4,Ei,3,3,"div",23),t.k0s()()}if(2&i){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",n.groupObj)("isOwned",n.isOwned),t.R7$(1),t.Y8G("hidden",!n.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",n.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==n.classroomObjs.length)}}function za(i,u){if(1&i&&(t.j41(0,"div"),t.DNE(1,li,5,5,"div",18),t.k0s()),2&i){const n=u.$implicit;t.R7$(1),t.Y8G("ngIf",n.groupObj.isShowGroup)}}function Mi(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(c){t.eBV(n);const h=t.XpG();return t.Njj(h.searchByName(c.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.collapseAll(!c.isExpandAll))}),t.DNE(5,ke,4,0,"span",8),t.DNE(6,ri,4,0,"span",9),t.k0s()(),t.DNE(7,za,2,1,"div",10)}if(2&i){const n=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,5,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("ngIf",!n.isExpandAll),t.R7$(1),t.Y8G("ngIf",n.isExpandAll),t.R7$(1),t.Y8G("ngForOf",n.viewClassroomGroupObjs)}}let Mo=(()=>{class i extends Oo{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}static#t=this.\u0275fac=function(m){return new(m||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-teacher-archive-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],[4,"ngIf"],["class","clickable",4,"ngIf"],[4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-up-down"],["d","m7 15 5 5 5-5"],["d","m7 9 5-5 5 5"],[1,"clickable"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-down-up"],["d","m7 20 5-5 5 5"],["d","m7 4 5 5 5-5"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0),t.DNE(1,Wt,1,1,"azt-loading-effect",1),t.DNE(2,Mi,8,7,"ng-template",null,2,t.C5r),t.k0s()),2&m){const h=t.sdS(3);t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h)}},dependencies:[v.Sq,v.bT,at.K,wo,dt.W,Eo,F.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return i})();const tn=["childActiveClassrooms"],Fo=["childArchiveClassrooms"];function oe(i,u){1&i&&(t.j41(0,"span",31),t.EFF(1,"1"),t.k0s())}function ci(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",32),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const Fi=function(){return[]};function Aa(i,u){1&i&&(t.qex(0),t.nrm(1,"app-teacher-active-classrooms",35,36),t.bVm()),2&i&&(t.R7$(1),t.Y8G("classroomGroupData",t.lJ4(1,Fi)))}function La(i,u){1&i&&t.nrm(0,"app-teacher-archive-classrooms",35,37),2&i&&t.Y8G("classroomGroupData",t.lJ4(1,Fi))}function Ba(i,u){if(1&i&&(t.j41(0,"div"),t.DNE(1,Aa,3,2,"ng-container",33),t.DNE(2,La,2,2,"ng-template",null,34,t.C5r),t.k0s()),2&i){const n=t.sdS(3),m=t.XpG();t.R7$(1),t.Y8G("ngIf",m.isShowActiveClassroom)("ngIfElse",n)}}function Va(i,u){1&i&&t.nrm(0,"lucide-icon",38)}function Ya(i,u){1&i&&t.nrm(0,"lucide-icon",38)}function Ri(i,u){1&i&&t.nrm(0,"lucide-icon",38)}let Di=(()=>{class i extends r.H{changeFilter(n){this.typeFilter=n,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(qi,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(m=>{m&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(ve.e,{restoreFocus:!1}).afterClosed().subscribe(m=>{m&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(kn.O,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(n=>{n&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,H.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==n;let m=this.commonService.getMyQueryParam("programId");this.backToLink=m&&""!=m?"/business/educational-program/"+m:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(n,m,c){super(),this.activeRoute=n,this.sAztDialogService=m,this.mobileWebviewService=c,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(S.nX),t.rXU(Y.i),t.rXU(ta.f))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-teacher-classroom"]],viewQuery:function(m,c){if(1&m&&(t.GBs(tn,5),t.GBs(Fo,5)),2&m){let h;t.mGM(h=t.lsd())&&(c.viewActiveClassrooms=h.first),t.mGM(h=t.lsd())&&(c.viewArchiveClassrooms=h.first)}},features:[t.Vt3],decls:69,vars:41,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["name","plus","size","16",1,"mr-1"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],["name","plus","size","16"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","16",1,"mr-1"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",1,"mr-1"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["name","rows-4","size","16",1,"mr-1"],["name","check","size","16","class","ml-1",4,"ngIf"],["name","user-check","size","16",1,"mr-1"],["name","tags","size","16",1,"mr-1"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["showArchiveBox",""],[3,"classroomGroupData"],["childActiveClassrooms",""],["childArchiveClassrooms",""],["name","check","size","16",1,"ml-1"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return c.createClassroomDialog()}),t.nrm(10,"lucide-icon",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.nrm(14,"lucide-icon",9),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return c.createClassroomForNewCourseDialog()}),t.nrm(16,"lucide-icon",7),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",11),t.bIt("click",function(){return c.openDialogAutomaticIdentification()}),t.nrm(20,"lucide-icon",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"button",13),t.nrm(24,"lucide-icon",14),t.EFF(25),t.nI1(26,"mytranslate"),t.DNE(27,oe,2,0,"span",15),t.k0s()()(),t.j41(28,"div",16)(29,"div",17),t.DNE(30,ci,1,1,"azt-loading-effect",18),t.DNE(31,Ba,4,2,"ng-template",null,19,t.C5r),t.k0s()()()(),t.j41(33,"mat-menu",20,21)(35,"div",22)(36,"ul",23)(37,"li")(38,"button",24),t.bIt("click",function(){return c.createClassroomForNewCourseDialog()}),t.nrm(39,"lucide-icon",7),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"button",25),t.bIt("click",function(){return c.openDialogAutomaticIdentification()}),t.nrm(44,"lucide-icon",12),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()(),t.j41(47,"mat-menu",20,26)(49,"div",22)(50,"ul",23)(51,"li")(52,"button",24),t.bIt("click",function(){return c.changeFilter("all")}),t.nrm(53,"lucide-icon",27),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,Va,1,0,"lucide-icon",28),t.k0s()(),t.j41(57,"li")(58,"button",25),t.bIt("click",function(){return c.changeFilter("owner")}),t.nrm(59,"lucide-icon",29),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,Ya,1,0,"lucide-icon",28),t.k0s()(),t.j41(63,"li")(64,"button",24),t.bIt("click",function(){return c.changeFilter("user")}),t.nrm(65,"lucide-icon",30),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,Ri,1,0,"lucide-icon",28),t.k0s()()()()()),2&m){const h=t.sdS(32),w=t.sdS(34),N=t.sdS(48);t.Y8G("headerBackToLink",c.backToLink),t.R7$(5),t.SpI(" ",c.isShowActiveClassroom?t.bMT(6,19,"lang_student_classroom_list_header_title"):t.bMT(7,21,"lang_auto_kho_luu_tru")," "),t.R7$(6),t.SpI(" ",t.bMT(12,23,"lang_student_classroom_list_create_class")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",w),t.R7$(4),t.SpI(" ",t.bMT(18,25,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(4),t.SpI(" ",t.bMT(22,27,"lang_auto_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",N),t.R7$(2),t.SpI(" ",t.bMT(26,29,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf","all"!=c.typeFilter),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h),t.R7$(10),t.SpI(" ",t.bMT(41,31,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(5),t.SpI(" ",t.bMT(46,33,"lang_auto_danh_so_bao_danh")," "),t.R7$(9),t.SpI(" ",t.bMT(55,35,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==c.typeFilter),t.R7$(4),t.SpI(" ",t.bMT(61,37,"lang_core_lop_cua_toi")," "),t.R7$(2),t.Y8G("ngIf","owner"==c.typeFilter),t.R7$(4),t.SpI(" ",t.bMT(67,39,"lang_auto_lop_duoc_chia_se")," "),t.R7$(2),t.Y8G("ngIf","user"==c.typeFilter)}},dependencies:[v.bT,Z.kk,Z.Cp,at.K,a.Q,ft.WGl,pe,Mo,F.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return i})(),to=(()=>{class i extends r.H{static#t=this.\u0275fac=function(){let n;return function(c){return(n||(n=t.xGo(i)))(c||i)}}();static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["homework-master-page"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","student-layout"]],template:function(m,c){1&m&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[S.n3],encapsulation:2})}return i})(),Ro=(()=>{class i extends r.H{constructor(){super(...arguments),this.closeDialog=new t.bkB}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}static#t=this.\u0275fac=function(){let n;return function(c){return(n||(n=t.xGo(i)))(c||i)}}();static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.Vt3],decls:26,vars:17,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"],[1,"flex","justify-end","my-3","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-32","btn-primary",2,"margin-left","15px",3,"click"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),t.EFF(8),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",8)(12,"button",9),t.bIt("click",function(){return c.btnCloseDialog()}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return c.confirmQuit()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()()()(),t.j41(18,"div",11)(19,"div",12)(20,"button",13),t.bIt("click",function(){return c.btnCloseDialog()}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"button",14),t.bIt("click",function(){return c.confirmQuit()}),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(8),t.SpI("",null!=c.data&&c.data.type&&"update_phone_student"==(null==c.data?null:c.data.type)?t.bMT(9,5,"lang_student_utils_confirm_merge_verifi")+"?":t.bMT(10,7,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.R7$(5),t.SpI(" ",t.bMT(14,9,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(17,11,"lang_cms_common_confirm_btn")," "),t.R7$(5),t.SpI(" ",t.bMT(22,13,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(25,15,"lang_cms_common_confirm_btn")," "))},dependencies:[F.wp],encapsulation:2})}return i})();function eo(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",4),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const no=function(i){return{"bg-success":i}};function Ua(i,u){if(1&i&&(t.j41(0,"div",22)(1,"b"),t.EFF(2),t.k0s()()),2&i){const n=t.XpG().$implicit,m=t.XpG(2);t.Y8G("ngClass",t.eq3(2,no,m.haveSelected(n))),t.R7$(2),t.JRh(n.fullName)}}function Vn(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",20),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(2);return t.Njj(w.selectObj(h))}),t.DNE(1,Ua,3,4,"div",21),t.k0s()}if(2&i){const n=u.$implicit,m=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!m.inMergeObjs(n))}}function Xa(i,u){if(1&i){const n=t.RV6();t.j41(0,"div")(1,"div",23),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"b",24),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",24),t.EFF(9),t.k0s(),t.EFF(10," \xa0\xa0 "),t.j41(11,"span",25),t.bIt("click",function(){const h=t.eBV(n).index,w=t.XpG(2);return t.Njj(w.removeMergeArray(h))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&i){const n=u.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_merge_student_merge_student")," "),t.R7$(3),t.JRh(null==n.from?null:n.from.fullName),t.R7$(1),t.SpI(" ",t.bMT(7,7,"lang_student_merge_student_return")," "),t.R7$(3),t.JRh(null==n.to?null:n.to.fullName),t.R7$(3),t.JRh(t.bMT(13,9,"lang_auto_xoa"))}}function Do(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",23)(1,"div",27)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"button",28),t.bIt("click",function(){t.eBV(n);const c=t.XpG().$implicit,h=t.XpG(2);return t.Njj(h.revertStudent(c.id))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&i){const n=t.XpG().$implicit;t.R7$(3),t.JRh(n.fullName),t.R7$(2),t.SpI(" ",t.bMT(6,2,"lang_button_revert")," ")}}function No(i,u){if(1&i&&(t.j41(0,"div"),t.DNE(1,Do,7,4,"div",26),t.k0s()),2&i){const n=u.$implicit,m=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!m.inMergeObjs(n))}}function Ha(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",5)(1,"mat-tab-group",6)(2,"mat-tab",7),t.nI1(3,"mytranslate"),t.j41(4,"div",8)(5,"div",9)(6,"div",10),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,Vn,2,1,"div",11),t.k0s(),t.j41(10,"div",12)(11,"div",13)(12,"div",14)(13,"div",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,Xa,14,11,"div",15),t.j41(17,"div",16)(18,"button",17),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.showConfirmBox())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()()()(),t.j41(21,"mat-tab",7),t.nI1(22,"mytranslate"),t.j41(23,"div",18)(24,"div",19)(25,"div")(26,"div",16),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,No,2,1,"div",15),t.k0s()()()()()()}if(2&i){const n=t.XpG();t.R7$(1),t.Y8G("selectedIndex",n.selectedIndex),t.R7$(1),t.FS9("label",t.bMT(3,11,"lang_student_merge_student_lable")),t.R7$(5),t.SpI(" ",t.bMT(8,13,"lang_student_merge_student_required_click_merge")," "),t.R7$(2),t.Y8G("ngForOf",n.studentObjs),t.R7$(5),t.SpI(" ",t.bMT(15,15,"lang_student_merge_student_list_student_merge")," "),t.R7$(2),t.Y8G("ngForOf",n.studentMergeObjs),t.R7$(2),t.Y8G("disabled",n.studentMergeObjs&&n.studentMergeObjs.length<1),t.R7$(1),t.SpI(" ",t.bMT(20,17,"lang_student_merge_student_start_merge_list")," "),t.R7$(2),t.FS9("label",t.bMT(22,19,"lang_student_merge_student_revert")),t.R7$(6),t.SpI(" ",t.bMT(28,21,"lang_student_merge_student_list_submitted")," "),t.R7$(2),t.Y8G("ngForOf",n.studentMergeListObjs)}}function Go(i,u){if(1&i){const n=t.RV6();t.j41(0,"app-merge-student-confirm-box",29),t.bIt("closeDialog",function(c){t.eBV(n);const h=t.XpG();return t.Njj(h.closeConfirmDialog(c))}),t.k0s()}if(2&i){const n=t.XpG();t.Y8G("data",n.confirmBox)}}let io=(()=>{class i extends r.H{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(n){this.confirmBox={isShow:!1},n&&this.sendToServer()}inMergeObjs(n){let m=!1,c=this.studentMergeObjs?.length??0;for(let h=0;h<c;h++)(this.studentMergeObjs?.[h].from?.id==n.id||this.studentMergeObjs?.[h].to?.id==n.id)&&(m=!0);return m}haveSelected(n){let m=!1;for(let c=0;c<this.selectObjs.length;c++)this.selectObjs[c].id==n.id&&(m=!0);return m}selectObj(n){this.haveSelected(n)?this.selectObjs=[]:this.selectObjs.push(n),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(n){this.studentMergeObjs?.[n]&&this.studentMergeObjs.splice(n,1)}sendToServer(){const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let m=[],c=this.studentMergeObjs?.length??0;for(let J=0;J<c;J++){var h=this.studentMergeObjs?.[J].from?.id,w=this.studentMergeObjs?.[J].to?.id;h&&w&&m.push({fromId:h,toId:w})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:n,mergeObjs:m}).subscribe(J=>{1==J.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(J.message??"",!0)}))}getData(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(n).subscribe(m=>{1==m.success?(this.studentObjs=this.sortService.sortFirstNameStudents(m?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(n).subscribe(m=>{1==m.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(m?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}revertStudent(n){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(n).subscribe(m=>{1==m.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(n,m,c,h){super(),this.activeRoute=n,this.studentService=m,this.mergeStudentService=c,this.sortService=h,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(S.nX),t.rXU(At.b0),t.rXU(At.$$),t.rXU(yn.g))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-merge-student"]],features:[t.Vt3],decls:5,vars:4,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0),t.DNE(1,eo,1,1,"azt-loading-effect",1),t.DNE(2,Ha,30,23,"ng-template",null,2,t.C5r),t.k0s(),t.DNE(4,Go,1,1,"app-merge-student-confirm-box",3)),2&m){const h=t.sdS(3);t.Y8G("headerBackToLink",c.backToLink),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h),t.R7$(3),t.Y8G("ngIf",c.confirmBox.isShow)}},dependencies:[v.YU,v.Sq,v.bT,Ve.mq,Ve.T8,at.K,a.Q,Ro,F.wp],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]})}return i})();var $o=g(16583);function Po(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",3),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function zo(i,u){if(1&i&&t.nrm(0,"azt-student-profile",4),2&i){const n=t.XpG();t.Y8G("studentId",n.studentId)("select",n.select)("classroomId",n.classroomId)("backToLink",n.backToLink)("paramBackToLink",n.paramBackToLink)("classroomList",n.classroomList)("isTeacherDashboard",!0)}}let oo=(()=>{class i extends r.H{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(n=>{1===n.success?(this.classroomList=n.data?.objs??[],this.classroomList.find(m=>m.id+"-"+m.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,H.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"classroom_id"),m=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(n||"",10),this.studentId=parseInt(m||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??this.backToLink,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(n,m,c){super(),this.sAztDialogService=n,this.activeRoute=m,this.studentProfileV2Service=c,this.select=new q.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(Y.i),t.rXU(S.nX),t.rXU(At.m_))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["student-profile"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0),t.DNE(1,Po,1,1,"azt-loading-effect",1),t.DNE(2,zo,1,7,"ng-template",null,2,t.C5r),t.k0s()),2&m){const h=t.sdS(3);t.Y8G("headerBackToLink",c.paramBackToLink),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h)}},dependencies:[v.bT,at.K,$o.x,a.Q],encapsulation:2})}return i})();var so=g(18586),Ao=g(25898);function Lo(i,u){1&i&&t.nrm(0,"azt-loading-ui",15)}function Wa(i,u){if(1&i&&t.nrm(0,"azt-loading-effect",16),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Bo(i,u){1&i&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Ja(i,u){if(1&i){const n=t.RV6();t.j41(0,"tr")(1,"td",26),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(3);return t.Njj(w.goToProfile(h.classroomId,h.id))}),t.nrm(2,"azt-student-info-box",27),t.k0s(),t.j41(3,"td",28),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",29)(7,"div",30)(8,"span"),t.EFF(9),t.nI1(10,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.j41(11,"td",29)(12,"form",31)(13,"textarea",32),t.bIt("change",function(){const h=t.eBV(n).$implicit;return t.Njj(h.commentControl.controls.isEditted.setValue(!0))}),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"td",29)(16,"span",33,34),t.bIt("click",function(){const h=t.eBV(n).$implicit,w=t.XpG(3);return t.Njj(w.showAllComment(h))}),t.nI1(18,"mytranslate"),t.nrm(19,"lucide-icon",35),t.k0s()()()}if(2&i){const n=u.$implicit,m=t.sdS(17);t.R7$(2),t.Y8G("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,18,n.identificationNumber,6):""),t.R7$(5),t.SpI(" ",t.bMT(10,21,n.commentControl.controls.updatedAt.value)," "),t.R7$(3),t.Y8G("formGroup",n.commentControl),t.R7$(1),t.FS9("placeholder",t.bMT(14,23,"lang_auto_nhap_nhan_xet")),t.Y8G("id","add_comment_"+n.id),t.R7$(3),t.FS9("matTooltip",t.bMT(18,25,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",m.isDisabled)}}function Ka(i,u){if(1&i&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",23),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",24),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",24),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"th",24),t.k0s()(),t.j41(17,"tbody"),t.DNE(18,Ja,20,27,"tr",25),t.k0s()()()),2&i){const n=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(12,9,"lang_student_add_comment_date")),t.R7$(3),t.JRh(t.bMT(15,11,"lang_student_add_comment")),t.R7$(4),t.Y8G("ngForOf",n.listStudent)}}function nr(i,u){if(1&i&&(t.DNE(0,Bo,3,3,"div",17),t.DNE(1,Ka,19,13,"div",18)),2&i){const n=t.XpG();t.Y8G("ngIf",0==n.listStudent.length&&0==n.totalStudent),t.R7$(1),t.Y8G("ngIf",n.listStudent.length>0)}}function Za(i,u){if(1&i){const n=t.RV6();t.j41(0,"azt-paging",39),t.bIt("goToPaginationPage",function(c){t.eBV(n);const h=t.XpG(2);return t.Njj(h.setPageStudent(c))}),t.k0s()}if(2&i){const n=t.XpG(2);t.Y8G("pageObj",n.pageObj)}}function _(i,u){if(1&i&&(t.j41(0,"div",36),t.nrm(1,"div"),t.DNE(2,Za,1,1,"azt-paging",37),t.j41(3,"div",38),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&i){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageObj.pageSize),t.R7$(2),t.Lme("",n.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}const s=[{path:"",component:to,canActivate:[e.t],children:[{path:"merge-student/:id",component:io},{path:"profile-student/:classroom_id/:id",component:oo},{path:"manage-classroom/:id",component:Di},{path:"classroom-details/:id/:tabId",component:bo},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:$s},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{class i extends r.H{goToProfile(n,m){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+m,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(n){var m="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,c="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(m,c),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}showAllComment(n){this.sAztDialogService.open(so.U,{width:"700px",restoreFocus:!1,data:{student:n,isTeacher:!0}}).afterClosed().subscribe(m=>{m&&this.getListStudent()})}countChangedComment(){let n=0;return this.listStudent.forEach(m=>{m.commentControl.controls.isEditted.value&&!m.commentControl.controls.comment.value&&n++}),1==n}saveComment(){this.isSave=!0;let n=this.listStudent.filter(c=>c.commentControl.controls.isEditted.value&&c.commentControl.controls.comment.value).map(c=>({id:0,studentId:c.id,comment:c.commentControl.controls.comment.value}))??[],m={classroomId:this.classroomId,studentAssessments:n};if(0==n.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(m).subscribe(c=>{c.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(m=>{m?(m.list.length||(this.listStudent=[]),m.list.forEach(c=>{let h=this.sAztAssessmentStudentService.getLastAssessmentStudent(c);this.listStudent.push({...c,commentControl:new q.gE({id:new q.MJ(0,{nonNullable:!0}),updatedAt:new q.MJ(h?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new q.MJ(h?.comment??"",{nonNullable:!0}),isEditted:new q.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(c.assessments),editComment:!1})}),this.totalStudent=m.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,H.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(n,m,c,h){super(),this.sAztAssessmentStudentService=n,this.activeRoute=m,this.studentService=c,this.sAztDialogService=h,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new tt.Z,this.pageObj=new Kt.d(20)}static#t=this.\u0275fac=function(m){return new(m||i)(t.rXU(Ao.n),t.rXU(S.nX),t.rXU(un.b),t.rXU(Y.i))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-add-student-comment"]],features:[t.Vt3],decls:21,vars:18,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"id","placeholder","change"],[1,"mr-2","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(w){return c.onSearchBox(w.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"flexed-on-the-top",8)(12,"button",9),t.bIt("click",function(){return c.saveComment()}),t.DNE(13,Lo,1,0,"azt-loading-ui",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.j41(16,"div",11),t.DNE(17,Wa,1,1,"azt-loading-effect",12),t.DNE(18,nr,2,2,"ng-template",null,13,t.C5r),t.k0s(),t.DNE(20,_,6,5,"div",14),t.k0s()),2&m){const h=t.sdS(19);t.Y8G("headerBackToLink",c.backToLink),t.R7$(4),t.JRh(t.bMT(5,12,"lang_student_assessment_student")),t.R7$(5),t.Y8G("isServerSearch",!0)("searchContentObj",c.searchContentObj)("placeholder",t.bMT(10,14,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",c.isSave||c.countChangedComment()),t.R7$(1),t.Y8G("ngIf",c.isSave),t.R7$(1),t.SpI(" ",t.bMT(15,16,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",h),t.R7$(3),t.Y8G("ngIf",c.totalStudent>0)}},dependencies:[v.Sq,v.bT,it.oV,q.qT,q.me,q.BC,q.cb,q.j4,q.JD,at.K,gt.q,We.t,mt.f,nt.R,Wi.$,dt.W,ce.B,a.Q,ft.WGl,F.wp,F.Po,F.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return i})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:Io},{path:"submit-score/:classroom_id/:program_id/:session_id",component:Qe},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let d=(()=>{class i{static#t=this.\u0275fac=function(m){return new(m||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=t.G2t({imports:[S.iI.forChild(s),S.iI,o.XE]})}return i})()},14505:(re,wt,g)=>{g.d(wt,{h:()=>F});var S=g(54460),o=g(10936),e=g(89163),H=g(65162),r=g(69223),t=g(23047),x=g(15343),v=g(13763),a=g(10123),ft=g(25571),bt=g(20378),yt=g(5502),tt=g(46584),lt=g(70050),Z=g(7050),at=g(91100),nt=g(43234),dt=g(1816),it=g(40777),mt=g(26860);let F=(()=>{class U{static#t=this.\u0275fac=function(V){return new(V||U)};static#e=this.\u0275mod=mt.$C({type:U});static#n=this.\u0275inj=mt.G2t({providers:[{provide:r.vn,useValue:nt.c.azt_tiny_mce_script_src}],imports:[H.iI,S.MD,tt.s,bt.T_,r.sv,o.YN,o.X1,e.hM,lt.L,v.Lk,it.I,ft.xv,at.Q,Z.b,a.AC,x.flO.pick(x.Ptg),yt.Id,t.Fr,dt.AzotaBusinessModule]})}return U})()},66257:(re,wt,g)=>{g.d(wt,{H:()=>S});var S=function(o){return o.none="None",o.asc="Asc",o.desc="Desc",o}(S||{})},48725:(re,wt,g)=>{g.d(wt,{s:()=>o});var S=g(66257);class o{resetSortFieldName(H){this.fieldNameList.forEach(r=>{r.fieldName!==H.fieldName&&(r.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(H){this.fieldNameList=H}convertDataSort(H){switch(this.resetSortFieldName(H),H.typeFieldSort){case this.typeFieldSort.none:H.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:H.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:H.typeFieldSort=this.typeFieldSort.none}return{fieldName:H.fieldName,descending:H.typeFieldSort===this.typeFieldSort.desc,ignore:H.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=S.H,this.fieldNameList=[]}}},49221:(re,wt,g)=>{g.d(wt,{R:()=>yt});var S=g(59640),o=g(26860),e=g(54460),H=g(73437);function r(tt,lt){if(1&tt){const Z=o.RV6();o.j41(0,"a",4),o.bIt("click",function(){o.eBV(Z);const nt=o.XpG(2);return o.Njj(nt.clickToSeeMore())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}2&tt&&(o.R7$(1),o.JRh(o.bMT(2,1,"lang_cms_common_see_more")))}function t(tt,lt){if(1&tt){const Z=o.RV6();o.j41(0,"a",4),o.bIt("click",function(){o.eBV(Z);const nt=o.XpG(2);return o.Njj(nt.clickToShowShortContent())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}2&tt&&(o.R7$(1),o.JRh(o.bMT(2,1,"lang_cms_common_see_short_content")))}function x(tt,lt){if(1&tt&&(o.j41(0,"div"),o.nrm(1,"span",2),o.nI1(2,"safeNormalHtmlContent"),o.DNE(3,r,3,3,"a",3),o.DNE(4,t,3,3,"a",3),o.k0s()),2&tt){const Z=o.XpG();o.R7$(1),o.Y8G("innerHTML",o.bMT(2,3,Z.showContent),o.npT),o.R7$(2),o.Y8G("ngIf",Z.showSeeMoreButton&&Z.content.length>Z.maxLength),o.R7$(1),o.Y8G("ngIf",Z.showShortContentButton&&Z.content.length>Z.maxLength)}}function v(tt,lt){if(1&tt&&(o.nrm(0,"span",10),o.nI1(1,"safeNormalHtmlContent")),2&tt){const Z=o.XpG(2);o.Y8G("innerHTML",o.bMT(1,1,Z.showContent),o.npT)}}function a(tt,lt){if(1&tt){const Z=o.RV6();o.j41(0,"a",4),o.bIt("click",function(){o.eBV(Z);const nt=o.XpG(2);return o.Njj(nt.clickToSeeMore())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}if(2&tt){const Z=o.XpG(2);o.Aen("position: absolute; bottom: 0; right: 0; background-color: "+Z.backgroundColor),o.R7$(1),o.SpI(" ...",o.bMT(2,3,"lang_cms_common_see_more")," ")}}function ft(tt,lt){if(1&tt){const Z=o.RV6();o.j41(0,"a",4),o.bIt("click",function(){o.eBV(Z);const nt=o.XpG(2);return o.Njj(nt.clickToShowShortContent())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}2&tt&&(o.R7$(1),o.JRh(o.bMT(2,1,"lang_cms_common_see_short_content")))}function bt(tt,lt){if(1&tt&&(o.j41(0,"div",5),o.nrm(1,"div",6),o.nI1(2,"safeNormalHtmlContent"),o.nrm(3,"div",6,7),o.nI1(5,"safeNormalHtmlContent"),o.DNE(6,v,2,3,"span",8),o.DNE(7,a,3,5,"a",9),o.DNE(8,ft,3,3,"a",3),o.k0s()),2&tt){const Z=o.sdS(4),at=o.XpG();o.R7$(1),o.Aen(at.styleContent),o.Y8G("innerHTML",o.bMT(2,9,at.showContent),o.npT),o.R7$(2),o.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),o.Y8G("innerHTML",o.bMT(5,11,at.showContent),o.npT),o.R7$(3),o.Y8G("ngIf",at.showShortContentButton),o.R7$(1),o.Y8G("ngIf",at.showSeeMoreButton&&Z.offsetHeight>20*at.maxLine),o.R7$(1),o.Y8G("ngIf",at.showShortContentButton&&Z.offsetHeight>20*at.maxLine)}}let yt=(()=>{class tt extends S.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let Z=this.commonService.removeTagHtml(this.content);if(this.maxLength&&Z.length>this.maxLength)this.showContent=this.showSeeMoreButton?Z.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var at=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+at+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}static#t=this.\u0275fac=function(at){return new(at||tt)};static#e=this.\u0275cmp=o.VBU({type:tt,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[o.Vt3,o.OA$],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(at,nt){1&at&&(o.DNE(0,x,5,5,"div",0),o.DNE(1,bt,9,13,"div",1)),2&at&&(o.Y8G("ngIf",nt.maxLength),o.R7$(1),o.Y8G("ngIf",nt.maxLine&&!nt.maxLength))},dependencies:[e.bT,H.wp,H._y],encapsulation:2})}return tt})()},66729:(re,wt,g)=>{g.d(wt,{D:()=>yt});var S=g(59640),o=g(26860),e=g(54460),H=g(47712),r=g(73437);function t(tt,lt){1&tt&&(o.j41(0,"span",2),o.nI1(1,"mytranslate"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()),2&tt&&(o.FS9("matTooltip",o.bMT(1,2,"lang_auto_dat")),o.R7$(2),o.JRh(o.bMT(3,4,"lang_auto_d_upper")))}function x(tt,lt){1&tt&&(o.j41(0,"span",2),o.nI1(1,"mytranslate"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()),2&tt&&(o.FS9("matTooltip",o.bMT(1,2,"lang_auto_chua_dat")),o.R7$(2),o.JRh(o.bMT(3,4,"lang_auto_cd_upper")))}function v(tt,lt){1&tt&&(o.j41(0,"span",2),o.nI1(1,"mytranslate"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()),2&tt&&(o.FS9("matTooltip",o.bMT(1,2,"lang_auto_hoan_thanh")),o.R7$(2),o.JRh(o.bMT(3,4,"lang_auto_tag_ht")))}function a(tt,lt){1&tt&&(o.j41(0,"span",2),o.nI1(1,"mytranslate"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()),2&tt&&(o.FS9("matTooltip",o.bMT(1,2,"lang_auto_chua_hoan_thanh")),o.R7$(2),o.SpI("",o.bMT(3,4,"lang_auto_tag_CHT")," "))}function ft(tt,lt){1&tt&&(o.j41(0,"span",2),o.nI1(1,"mytranslate"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()),2&tt&&(o.FS9("matTooltip",o.bMT(1,2,"lang_auto_hoan_thanh_tot")),o.R7$(2),o.JRh(o.bMT(3,4,"lang_auto_tag_HTT")))}function bt(tt,lt){if(1&tt&&(o.j41(0,"span",3),o.EFF(1),o.k0s()),2&tt){const Z=o.XpG();o.R7$(1),o.JRh(Z.mark)}}let yt=(()=>{class tt extends S.H{constructor(){super(...arguments),this.mark=0}static#t=this.\u0275fac=function(){let Z;return function(nt){return(Z||(Z=o.xGo(tt)))(nt||tt)}}();static#e=this.\u0275cmp=o.VBU({type:tt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[o.Vt3],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(at,nt){1&at&&(o.DNE(0,t,4,6,"span",0),o.DNE(1,x,4,6,"span",0),o.DNE(2,v,4,6,"span",0),o.DNE(3,a,4,6,"span",0),o.DNE(4,ft,4,6,"span",0),o.DNE(5,bt,2,1,"span",1)),2&at&&(o.Y8G("ngIf","1000"==nt.mark),o.R7$(1),o.Y8G("ngIf","1001"==nt.mark),o.R7$(1),o.Y8G("ngIf","2000"==nt.mark),o.R7$(1),o.Y8G("ngIf","2001"==nt.mark),o.R7$(1),o.Y8G("ngIf","3000"==nt.mark),o.R7$(1),o.Y8G("ngIf","2001"!=nt.mark&&"2000"!=nt.mark&&"1001"!=nt.mark&&"1000"!=nt.mark&&"3000"!=nt.mark))},dependencies:[e.bT,H.oV,r.wp],encapsulation:2})}return tt})()},74637:(re,wt,g)=>{g.d(wt,{E:()=>nt});var S=g(26860),o=g(59640),e=g(54460),H=g(17818),r=g(73437);function t(dt,it){1&dt&&(S.j41(0,"span",13),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt&&(S.R7$(1),S.JRh(S.bMT(2,1,"lang_core_thang")))}function x(dt,it){if(1&dt&&(S.j41(0,"span",13),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt){const mt=S.XpG();S.R7$(1),S.Lme("",S.bMT(2,2,"lang_core_thang")," ",mt.dataFilter.monthSelected,"")}}function v(dt,it){1&dt&&(S.j41(0,"span",13),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt&&(S.R7$(1),S.JRh(S.bMT(2,1,"lang_core_nam")))}function a(dt,it){if(1&dt&&(S.j41(0,"span",13),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt){const mt=S.XpG();S.R7$(1),S.Lme("",S.bMT(2,2,"lang_core_nam")," ",mt.dataFilter.yearSelected,"")}}function ft(dt,it){1&dt&&(S.j41(0,"span"),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt&&(S.R7$(1),S.JRh(S.bMT(2,1,"lang_auto_tat_ca")))}function bt(dt,it){if(1&dt&&(S.j41(0,"span"),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt){const mt=S.XpG().index;S.R7$(1),S.Lme("",S.bMT(2,2,"lang_core_thang")," ",mt,"")}}function yt(dt,it){if(1&dt){const mt=S.RV6();S.j41(0,"li",14),S.bIt("click",function(){const W=S.eBV(mt).index,D=S.XpG();return S.Njj(D.selectMonth(W))}),S.DNE(1,ft,3,3,"span",15),S.DNE(2,bt,3,4,"span",15),S.k0s()}if(2&dt){const mt=it.index,F=S.XpG();S.Y8G("ngClass",F.dataFilter.monthSelected==mt?"color-select":""),S.R7$(1),S.Y8G("ngIf",0==mt),S.R7$(1),S.Y8G("ngIf",mt>0)}}function tt(dt,it){1&dt&&(S.j41(0,"span"),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt&&(S.R7$(1),S.JRh(S.bMT(2,1,"lang_auto_tat_ca")))}function lt(dt,it){if(1&dt&&(S.j41(0,"span"),S.EFF(1),S.nI1(2,"mytranslate"),S.k0s()),2&dt){const mt=S.XpG().index,F=S.XpG();S.R7$(1),S.Lme("",S.bMT(2,2,"lang_core_nam")," ",F.currentDate.getFullYear()-(mt-1),"")}}function Z(dt,it){if(1&dt){const mt=S.RV6();S.j41(0,"li",16),S.bIt("click",function(){const W=S.eBV(mt).index,D=S.XpG();return S.Njj(D.selectYear(W))}),S.DNE(1,tt,3,3,"span",15),S.DNE(2,lt,3,4,"span",15),S.k0s()}if(2&dt){const mt=it.index,F=S.XpG();S.Y8G("ngClass",!F.dataFilter.yearSelected||F.currentDate.getFullYear()-(F.dataFilter.yearSelected-1)!=mt&&0!=F.dataFilter.yearSelected?"":"color-select"),S.R7$(1),S.Y8G("ngIf",0==mt),S.R7$(1),S.Y8G("ngIf",mt>0)}}const at=function(){return[]};let nt=(()=>{class dt extends o.H{selectMonth(mt){this.isApply=!0,this.dataFilter.monthSelected=mt,this.sendFilter.emit(this.dataFilter)}selectYear(mt){this.isApply=!0,this.dataFilter.yearSelected=mt>0?this.currentDate.getFullYear()-(mt-1):mt,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new S.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}static#t=this.\u0275fac=function(F){return new(F||dt)};static#e=this.\u0275cmp=S.VBU({type:dt,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[S.Vt3],decls:24,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(F,U){if(1&F&&(S.j41(0,"div",0)(1,"div",1),S.EFF(2),S.nI1(3,"mytranslate"),S.k0s(),S.j41(4,"div",2),S.DNE(5,t,3,3,"span",3),S.DNE(6,x,3,4,"span",3),S.qSk(),S.j41(7,"svg",4),S.nrm(8,"path",5),S.k0s()(),S.joV(),S.j41(9,"div",2),S.DNE(10,v,3,3,"span",3),S.DNE(11,a,3,4,"span",3),S.qSk(),S.j41(12,"svg",4),S.nrm(13,"path",5),S.k0s()()(),S.joV(),S.j41(14,"mat-menu",6,7)(16,"div",8)(17,"ul",9),S.DNE(18,yt,3,3,"li",10),S.k0s()()(),S.j41(19,"mat-menu",6,11)(21,"div",8)(22,"ul",9),S.DNE(23,Z,3,3,"li",12),S.k0s()()()),2&F){const W=S.sdS(15),D=S.sdS(20);S.R7$(2),S.SpI(" ",S.bMT(3,9,"lang_testbank_tested_list_sort"),": "),S.R7$(2),S.Y8G("matMenuTriggerFor",W),S.R7$(1),S.Y8G("ngIf",!U.dataFilter.monthSelected),S.R7$(1),S.Y8G("ngIf",U.dataFilter.monthSelected&&U.dataFilter.monthSelected>0),S.R7$(3),S.Y8G("matMenuTriggerFor",D),S.R7$(1),S.Y8G("ngIf",!U.dataFilter.yearSelected),S.R7$(1),S.Y8G("ngIf",U.dataFilter.yearSelected&&U.dataFilter.yearSelected>0),S.R7$(7),S.Y8G("ngForOf",S.lJ4(11,at).constructor(13)),S.R7$(5),S.Y8G("ngForOf",S.lJ4(12,at).constructor(10))}},dependencies:[e.YU,e.Sq,e.bT,H.kk,H.Cp,r.wp],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]})}return dt})()},16583:(re,wt,g)=>{g.d(wt,{x:()=>dn});var S=g(10936),o=g(59640),e=g(26860),H=g(65544),r=g(91930),t=g(50589);let x=(()=>{class C{countChecked(b){var R=0;for(var G in b)!0===b[G]&&(R+=1);return R}getDefaultFilterObj(b){var R=this.localStorageSlug+b;if(this.listFilterObjs[R])return this.listFilterObjs[R];var G=this.getInitFilterObj(),St=this.browserStorageService.getSimpleStorage(R),At=this.commonService.castJsonToObj(St??"");return At&&(G=At),G}saveFilterObj(b,R){var G=this.localStorageSlug+b;this.listFilterObjs[G]=R,this.browserStorageService.saveSimpleStorage(G,this.commonService.serializeJson(R))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(b,R){this.commonService=b,this.browserStorageService=R,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}static#t=this.\u0275fac=function(R){return new(R||C)(e.KVO(r.R),e.KVO(t.z))};static#e=this.\u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var v=g(51913),a=g(54460),ft=g(47712),bt=g(18718),yt=g(66729),tt=g(17818),lt=g(73437);function Z(C,ct){if(1&C&&(e.j41(0,"span"),e.EFF(1,"\xa0"),e.j41(2,"span",21),e.EFF(3),e.k0s()()),2&C){const b=e.XpG();e.R7$(3),e.JRh(b.totalCustomFilter)}}function at(C,ct){if(1&C){const b=e.RV6();e.j41(0,"li")(1,"label",22),e.bIt("click",function(G){return G.stopPropagation()}),e.EFF(2),e.nI1(3,"mytranslate"),e.j41(4,"div",10)(5,"input",23),e.bIt("change",function(){e.eBV(b);const G=e.XpG();return G.filterObj.getResendAnswer=!G.filterObj.getResendAnswer,e.Njj(G.changeFilter())}),e.k0s()()()()}if(2&C){const b=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.R7$(3),e.Y8G("checked",b.filterObj.getResendAnswer)}}let nt=(()=>{class C extends o.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(b){super(),this.studentProfileFilterService=b,this.filterType="",this.changeFilterEvent=new e.bkB,this.totalCustomFilter=0}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(x))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.Vt3],decls:41,vars:24,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(R,G){if(1&R&&(e.j41(0,"button",0),e.qSk(),e.j41(1,"svg",1),e.nrm(2,"polygon",2),e.k0s(),e.joV(),e.j41(3,"span",3),e.EFF(4),e.nI1(5,"mytranslate"),e.DNE(6,Z,4,1,"span",4),e.k0s()(),e.j41(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),e.bIt("click",function(At){return At.stopPropagation()}),e.EFF(13),e.nI1(14,"mytranslate"),e.j41(15,"div",10)(16,"input",11),e.bIt("change",function(){return G.filterObj.getHasMark=!G.filterObj.getHasMark,G.changeFilter()}),e.k0s()()()(),e.j41(17,"li")(18,"label",12),e.bIt("click",function(At){return At.stopPropagation()}),e.EFF(19),e.nI1(20,"mytranslate"),e.j41(21,"div",10)(22,"input",13),e.bIt("change",function(){return G.filterObj.getNotMarked=!G.filterObj.getNotMarked,G.changeFilter()}),e.k0s()()()(),e.j41(23,"li")(24,"label",14),e.bIt("click",function(At){return At.stopPropagation()}),e.EFF(25),e.nI1(26,"mytranslate"),e.j41(27,"div",10)(28,"input",15),e.bIt("change",function(){return G.filterObj.getNotDone=!G.filterObj.getNotDone,G.changeFilter()}),e.k0s()()()(),e.DNE(29,at,6,4,"li",4),e.j41(30,"li"),e.nrm(31,"hr",16),e.k0s(),e.j41(32,"li")(33,"div",17)(34,"button",18),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s(),e.j41(37,"div",19),e.bIt("click",function(At){return At.stopPropagation()}),e.j41(38,"button",20),e.bIt("click",function(){return G.clearFilter()}),e.EFF(39),e.nI1(40,"mytranslate"),e.k0s()()()()()()()),2&R){const St=e.sdS(8);e.Y8G("matMenuTriggerFor",St),e.R7$(4),e.SpI(" ",e.bMT(5,12,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",G.totalCustomFilter>0),e.R7$(7),e.SpI(" ",e.bMT(14,14,"lang_student_profile_filter_get_has_mark")," "),e.R7$(3),e.Y8G("checked",G.filterObj.getHasMark),e.R7$(3),e.SpI(" ",e.bMT(20,16,"lang_student_profile_filter_get_not_marked")," "),e.R7$(3),e.Y8G("checked",G.filterObj.getNotMarked),e.R7$(3),e.SpI(" ",e.bMT(26,18,"exam"==G.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.R7$(3),e.Y8G("checked",G.filterObj.getNotDone),e.R7$(1),e.Y8G("ngIf","homework"==G.filterType),e.R7$(6),e.JRh(e.bMT(36,20,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(40,22,"lang_button_delete"))}},dependencies:[a.bT,tt.kk,tt.Cp,lt.wp],encapsulation:2})}return C})();function dt(C,ct){if(1&C&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",18),e.k0s()),2&C){const b=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",b.resultMarkObj.point)}}function it(C,ct){1&C&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function mt(C,ct){if(1&C&&(e.qex(0),e.DNE(1,dt,4,4,"span",14),e.DNE(2,it,3,3,"span",17),e.bVm()),2&C){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",b.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj.confirmedAt)}}function F(C,ct){1&C&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function U(C,ct){if(1&C){const b=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const St=e.eBV(b).$implicit,At=e.XpG();return e.Njj(At.clickToExamObj(St))}),e.j41(1,"div",8),e.qSk(),e.j41(2,"svg",9),e.nrm(3,"path",10),e.k0s()(),e.joV(),e.j41(4,"div",11)(5,"p",12),e.EFF(6),e.k0s(),e.j41(7,"div",13),e.DNE(8,mt,3,2,"ng-container",14),e.DNE(9,F,3,3,"span",15),e.k0s(),e.j41(10,"div",16),e.EFF(11),e.nI1(12,"mytranslate"),e.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&C){const b=ct.$implicit,R=ct.index;e.ZvI("clickable zoom-in flex items-center ",R>0?"mt-3":""," pb-2"),e.R7$(5),e.FS9("matTooltip",b.name),e.R7$(1),e.Lme("",R+1,". ",b.name,""),e.R7$(2),e.Y8G("ngIf",b.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj),e.R7$(2),e.Lme("",e.bMT(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",e.bMT(13,12,b.createdAt),"")}}function W(C,ct){1&C&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function D(C,ct){if(1&C&&e.nrm(0,"azt-loading-effect",27),2&C){const b=e.XpG(2);e.Y8G("currentStatusObj",b.statusObj)}}function V(C,ct){if(1&C){const b=e.RV6();e.j41(0,"div",22),e.DNE(1,D,1,1,"azt-loading-effect",23),e.j41(2,"button",24),e.bIt("click",function(){e.eBV(b);const G=e.XpG();return e.Njj(G.getNextExamResultObjs())}),e.nI1(3,"mytranslate"),e.qSk(),e.j41(4,"svg",25),e.nrm(5,"polyline",26),e.k0s()()()}if(2&C){const b=e.XpG();e.R7$(1),e.Y8G("ngIf",b.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),e.Y8G("disabled",!b.examNextPage)}}let ht=(()=>{class C extends o.H{clickToExamObj(b){this.isTeacher?b.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",b)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+b.id+"/"+b.resultMarkObj?.userId+"/"+b.resultMarkObj?.studentId+"/"+(b.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(b.categoryId??0)+"/"+b.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(b.resultMarkObj?.resultId?"/test/answer-test/"+b.resultMarkObj?.userId+"/0/"+b.hashId+"/"+(b.resultMarkObj?.resultId??0):"/de-thi/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var b=this.studentProfileFilterService.getDefaultFilterObj("exam");b.classroomId=this.classroomId,b.studentId=this.studentId,b.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(b).subscribe(R=>{1==R.success?(this.examObjs=this.examObjs.concat(R.data?.objs??[]),this.examNextPage=R.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(b,R,G){super(),this.studentProfileV2Service=b,this.studentProfileFilterService=R,this.permissionService=G,this.backToLink="",this.isTeacher=!0,this.examObjs=[],this.examNextPage=""}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(H.m_),e.rXU(x),e.rXU(v.p))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"],[3,"currentStatusObj"]],template:function(R,G){1&R&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return G.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,U,14,14,"div",4),e.DNE(7,W,3,3,"div",5),e.DNE(8,V,6,5,"div",6),e.k0s()),2&R&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.R7$(2),e.Y8G("filterType","exam"),e.R7$(2),e.Y8G("ngForOf",G.examObjs),e.R7$(1),e.Y8G("ngIf",0==G.examObjs.length&&!G.examNextPage),e.R7$(1),e.Y8G("ngIf",G.examObjs.length>0&&G.examNextPage))},dependencies:[a.Sq,a.bT,ft.oV,bt.K,yt.D,nt,lt.wp,lt.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]})}return C})();var Ft=g(47426),Yt=g(74960),Jt=g(4375),le=g(89163),me=g(33887),ee=g(2915),Qt=g(52811);function jt(C,ct){1&C&&e.nrm(0,"azt-loading-ui",11)}let Lt=(()=>{class C extends me._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(b=>{1==b.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(b.message??"",!0))}))}btnCloseDialog(b){this.dialogRef.close(b)}constructor(b,R,G){super(G,R),this.studentService=b,this.dialogRef=R,this.data=G,this.studentObj=G.studentObj,this.classroomObj=G.classroomObj}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(H.b0),e.rXU(le.CP,8),e.rXU(le.Vh,8))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["app-delete-parent"]],features:[e.Vt3],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(R,G){1&R&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"span",5),e.EFF(12),e.k0s(),e.EFF(13,"\xa0 "),e.j41(14,"span",6),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()(),e.j41(17,"div",7)(18,"button",8),e.bIt("click",function(){return G.btnCloseDialog(!1)}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",9),e.bIt("click",function(){return G.confirmDelete()}),e.DNE(22,jt,1,0,"azt-loading-ui",10),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()),2&R&&(e.R7$(5),e.SpI(" ",e.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.R7$(3),e.JRh(G.studentObj.fullName),e.R7$(1),e.SpI(" ",e.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.R7$(2),e.FS9("matTooltip",G.classroomObj.name),e.R7$(1),e.SpI(" ",G.classroomObj.name,""),e.R7$(3),e.SpI("* ",e.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),e.R7$(4),e.SpI(" ",e.bMT(20,15,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",G.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[a.bT,ft.oV,ee.U,Qt.R,lt.wp],encapsulation:2})}return C})();var kt=g(14999),Ot=g(46723),Ct=g(46899),Ut=g(15343),ut=g(5800);function K(C,ct){if(1&C&&e.nrm(0,"azt-loading-effect",3),2&C){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function B(C,ct){if(1&C){const b=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(b);const G=e.XpG(4);return e.Njj(G.editStudentDialog(G.studentObj))}),e.j41(1,"div",16),e.nrm(2,"lucide-icon",17),e.k0s(),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}2&C&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"lang_button_edit")," "))}function $(C,ct){if(1&C){const b=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(b);const G=e.XpG(4);return e.Njj(G.deleteStudentDialog(G.studentObj))}),e.j41(1,"div",19),e.nrm(2,"lucide-icon",20),e.k0s(),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}2&C&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function pt(C,ct){if(1&C){const b=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(b);const G=e.XpG(4);return e.Njj(G.deleteParentOfStudentDialog(G.studentObj))}),e.j41(1,"div",22),e.nrm(2,"lucide-icon",23),e.k0s(),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}2&C&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"lang_student_profile_utils_account_student_required_verifie")," "))}function Et(C,ct){if(1&C&&(e.j41(0,"div",11),e.DNE(1,B,5,3,"button",12),e.nI1(2,"editPermission"),e.DNE(3,$,5,3,"button",13),e.nI1(4,"fullPermission"),e.nI1(5,"editPermission"),e.DNE(6,pt,5,3,"button",14),e.nI1(7,"editPermission"),e.k0s()),2&C){const b=e.XpG(3);e.R7$(1),e.Y8G("ngIf",e.i5U(2,3,b.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",e.i5U(4,6,b.classroomObj,"student")||e.i5U(5,9,b.classroomObj,"student")),e.R7$(3),e.Y8G("ngIf",0!=b.studentObj.parentId&&e.i5U(7,12,b.classroomObj,"student"))}}function Xt(C,ct){if(1&C){const b=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(b);const G=e.XpG(4);return e.Njj(G.deleteStudentDialog(G.studentObj))}),e.j41(1,"div",19),e.nrm(2,"lucide-icon",20),e.k0s(),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}2&C&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function ie(C,ct){if(1&C){const b=e.RV6();e.j41(0,"div",11)(1,"button",24),e.bIt("click",function(){e.eBV(b);const G=e.XpG(3);return e.Njj(G.editStudentDialog(G.studentObj))}),e.j41(2,"div",16),e.nrm(3,"lucide-icon",17),e.k0s(),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.DNE(6,Xt,5,3,"button",25),e.nI1(7,"fullPermission"),e.nI1(8,"editPermission"),e.k0s()}if(2&C){const b=e.XpG(3);e.R7$(4),e.SpI(" ",e.bMT(5,2,"lang_button_edit")," "),e.R7$(2),e.Y8G("ngIf",e.i5U(7,4,b.classroomObj,"student")||e.i5U(8,7,b.classroomObj,"student"))}}const Se=function(){return[]};function $e(C,ct){if(1&C&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"azt-student-info-box",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,Et,8,15,"div",10),e.nI1(6,"editPermission"),e.k0s()(),e.DNE(7,ie,9,10,"div",10),e.nI1(8,"editPermission"),e.bVm()),2&C){const b=e.XpG(2);let R;e.R7$(3),e.Y8G("name",b.studentObj.fullName)("parentFullName",b.studentObj.parentFullName)("parentId",b.studentObj.parentId)("parentPhone",b.studentObj.parentPhone)("email",b.studentObj.email)("birthday",b.studentObj.birthday)("avatar",b.studentObj.avatar)("gender",b.studentObj.gender)("schoolName",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.schoolName)("facebookLink",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.facebookLink)("identificationNumber",b.studentObj.identificationNumber)("hasUser",1==b.studentObj.isVerified)("classrooms",null!==(R=null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.classrooms)&&void 0!==R?R:e.lJ4(22,Se))("joinedAt",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.joinedAt),e.R7$(2),e.Y8G("ngIf",b.isTeacher&&0!=b.studentObj.parentId&&e.i5U(6,16,b.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",b.isTeacher&&0==b.studentObj.parentId&&e.i5U(8,19,b.classroomObj,"student"))}}function de(C,ct){1&C&&(e.j41(0,"div",27)(1,"span",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&C&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_profile_student_not_found")))}function Pe(C,ct){if(1&C&&(e.DNE(0,$e,9,23,"ng-container",4),e.DNE(1,de,4,3,"ng-template",null,5,e.C5r)),2&C){const b=e.sdS(2),R=e.XpG();e.Y8G("ngIf",R.studentObj)("ngIfElse",b)}}const ye=function(C){return{"pb-5":C}};let je=(()=>{class C extends o.H{deleteStudentDialog(b){this.sAztDialogService.open(kt.d,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(G=>{G&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(b){this.sAztDialogService.open(Ot.B,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(G=>{G&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(b){this.sAztDialogService.open(Lt,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(G=>{G&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(b){super(),this.sAztDialogService=b,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.bkB}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(Ct.i))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:5,consts:[[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-primary"],["name","pencil","size","18"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-danger"],["name","trash-2","size","18"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-warning"],["name","shield-alert","size","18"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(R,G){if(1&R&&(e.j41(0,"div",0),e.DNE(1,K,1,1,"azt-loading-effect",1),e.DNE(2,Pe,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&R){const St=e.sdS(3);e.Y8G("ngClass",e.eq3(3,ye,!G.studentObj)),e.R7$(1),e.Y8G("ngIf",G.statusObj.loading)("ngIfElse",St)}},dependencies:[a.YU,a.bT,Ut.WGl,bt.K,ut.B,lt.wp,lt.gC,lt.FV],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]})}return C})();var Oe=g(71703),fe=g(43070);let we=(()=>{class C extends o.H{constructor(b,R){super(),this.studentService=b,this.sAztDialogService=R,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(Oe.V,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(b=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(b=>{b?(this.attendanceObj=b,this.avgPoint=b.averageMark??0,this.studentObj=b.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(fe.b0),e.rXU(Ct.i))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole"},features:[e.Vt3,e.OA$],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check","size","24"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off","size","24"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","alert-octagon","size","24"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","x-octagon","size","24"],[1,"text-2xl","text-danger","font-medium"]],template:function(R,G){1&R&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e.nrm(7,"lucide-icon",7),e.k0s()(),e.j41(8,"div",8),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"a",9),e.bIt("click",function(){return G.showTotalPointDetail()}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",10),e.EFF(15),e.k0s()()()(),e.j41(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),e.nrm(21,"lucide-icon",13),e.k0s()(),e.j41(22,"div",8),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s(),e.j41(25,"div",10),e.EFF(26),e.k0s()()()(),e.j41(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),e.nrm(32,"lucide-icon",15),e.k0s()(),e.j41(33,"div",8),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",16),e.EFF(37),e.k0s()()()(),e.j41(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),e.nrm(43,"lucide-icon",18),e.k0s()(),e.j41(44,"div",8),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s(),e.j41(47,"div",19),e.EFF(48),e.k0s()()()(),e.j41(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),e.nrm(54,"lucide-icon",21),e.k0s()(),e.j41(55,"div",8),e.EFF(56),e.nI1(57,"mytranslate"),e.k0s(),e.j41(58,"div",22),e.EFF(59),e.k0s()()()()()()),2&R&&(e.R7$(9),e.SpI(" ",e.bMT(10,11,"lang_business_diem_tong_ket")," "),e.R7$(3),e.SpI("(",e.bMT(13,13,"lang_auto_xem_chi_tiet"),")"),e.R7$(3),e.JRh(G.avgPoint),e.R7$(8),e.JRh(e.bMT(24,15,"lang_student_number_of_sessions_attended")),e.R7$(3),e.JRh(null==G.attendanceObj?null:G.attendanceObj.totalAttend),e.R7$(8),e.JRh(e.bMT(35,17,"lang_student_number_of_sessions_missed")),e.R7$(3),e.JRh(null==G.attendanceObj?null:G.attendanceObj.totalAbsence),e.R7$(8),e.JRh(e.bMT(46,19,"lang_student_number_of_approved_absences")),e.R7$(3),e.JRh(null==G.attendanceObj?null:G.attendanceObj.totalAbsentPermission),e.R7$(8),e.JRh(e.bMT(57,21,"lang_student_number_of_unauthorized_absences")),e.R7$(3),e.JRh(null==G.attendanceObj?null:G.attendanceObj.totalAbsentWithoutPermission))},dependencies:[Ut.WGl,lt.wp],encapsulation:2})}return C})();var be=g(10123);function ze(C,ct){if(1&C&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()),2&C){const b=ct.$implicit,R=ct.index;e.R7$(2),e.JRh(R+1),e.R7$(2),e.JRh(b.bookName),e.R7$(2),e.JRh(e.bMT(7,3,b.createdAt))}}function Q(C,ct){if(1&C&&(e.qex(0),e.DNE(1,ze,8,5,"tr",9),e.bVm()),2&C){const b=e.XpG();e.R7$(1),e.Y8G("ngForOf",b.bookDistributionList)}}function Rt(C,ct){1&C&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&C&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let A=(()=>{class C extends o.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(b=>{b?(this.bookDistributionList=b.list,this.totalBookDistribution=b.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(b){super(),this.studentService=b,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(fe.b0))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(R,G){if(1&R&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()(),e.j41(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",6),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",6),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,Q,2,1,"ng-container",7),e.DNE(20,Rt,4,3,"ng-template",null,8,e.C5r),e.k0s()()()()),2&R){const St=e.sdS(21);e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_student_total")+": "+G.totalBookDistribution," "),e.R7$(8),e.SpI(" ",e.bMT(11,8,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_core_ten_sach")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_auto_thoi_gian")," "),e.R7$(3),e.Y8G("ngIf",G.bookDistributionList.length)("ngIfElse",St)}},dependencies:[a.Sq,a.bT,be.jd,be.Ew,lt.wp,lt.bH],encapsulation:2})}return C})();var ot=g(23047),et=g(9280),Mt=g(9691),Kt=g(5849),Pt=g(19258),Zt=g(10805);function Ce(C,ct){if(1&C&&e.nrm(0,"azt-loading-effect",3),2&C){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function ne(C,ct){if(1&C&&(e.j41(0,"span",24),e.EFF(1),e.k0s()),2&C){const b=e.XpG(2).$implicit;e.R7$(1),e.JRh(b.averageMark)}}const ce=function(C){return{"width.%":C}};function Ae(C,ct){if(1&C&&(e.j41(0,"div",22),e.DNE(1,ne,2,1,"span",23),e.k0s()),2&C){const b=e.XpG().$implicit;e.Y8G("ngStyle",e.eq3(2,ce,10*b.averageMark)),e.R7$(1),e.Y8G("ngIf",b.averageMark&&b.averageMark>1)}}function ge(C,ct){1&C&&(e.j41(0,"div",25)(1,"span",26),e.nrm(2,"azt-loading-ui"),e.k0s()())}function Ee(C,ct){1&C&&(e.qex(0),e.j41(1,"div",29)(2,"span",30),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&C&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_profile_student_not_support_subject")))}function en(C,ct){if(1&C&&(e.j41(0,"span",24),e.EFF(1),e.k0s()),2&C){const b=e.XpG(2).$implicit;e.R7$(1),e.JRh(b.averageMark)}}const P=function(C,ct,b,R){return{"bg-orange-600":C,"bg-red-600":ct,"bg-green-600":b,"bg-blue-600":R}};function xt(C,ct){if(1&C&&(e.j41(0,"div",51),e.DNE(1,en,2,1,"span",23),e.k0s()),2&C){const b=e.XpG().$implicit;e.Y8G("ngClass",e.ziG(3,P,1==b.id,3==b.id,2==b.id,4==b.id))("ngStyle",e.eq3(8,ce,10*b.averageMark)),e.R7$(1),e.Y8G("ngIf",b.averageMark>1)}}const I=function(C){return{"border-none":C}};function X(C,ct){if(1&C&&(e.j41(0,"div",41)(1,"div",42)(2,"div",43)(3,"h3",44),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",45)(7,"h3",44),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12," / "),e.j41(13,"b"),e.EFF(14),e.k0s(),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",46)(18,"div",47)(19,"span",48),e.EFF(20,"0"),e.k0s(),e.j41(21,"div",49),e.DNE(22,xt,2,10,"div",50),e.k0s(),e.j41(23,"span",19),e.EFF(24,"10"),e.k0s()()()()()),2&C){const b=ct.$implicit;e.Y8G("ngClass",e.eq3(13,I,ct.last)),e.R7$(4),e.SpI(" ",e.bMT(5,7,b.name)," "),e.R7$(4),e.SpI(" ",e.bMT(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),e.R7$(3),e.JRh(b.totalCorrectQuestion),e.R7$(3),e.JRh(b.totalQuestion),e.R7$(1),e.SpI(" \xa0",e.bMT(16,11,"azt_lang_sugg_question")," "),e.R7$(7),e.Y8G("ngIf",b.averageMark)}}function Y(C,ct){if(1&C&&(e.qex(0),e.j41(1,"div",39)(2,"h4",33),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,X,25,15,"div",40),e.bVm()),2&C){const b=e.XpG(3).$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.R7$(2),e.Y8G("ngForOf",b.difficultyDataObjs)}}function gt(C,ct){if(1&C&&(e.nrm(0,"coazt-student-skill-chapter",31),e.j41(1,"div",32)(2,"h4",33),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",34)(6,"div",35)(7,"div",36),e.nrm(8,"div",37),e.k0s()()(),e.DNE(9,Y,6,4,"ng-container",38)),2&C){const b=e.XpG(2).$implicit,R=e.XpG(2);e.Y8G("levelId",b.levelId)("subjectId",b.subjectId)("userId",R.studentObj.parentId),e.R7$(3),e.SpI(" ",e.bMT(4,6,"lang_student_profile_exam_point_by_time")," "),e.R7$(5),e.Y8G("chart",b.chart),e.R7$(1),e.Y8G("ngIf",b.difficultyDataObjs&&b.difficultyDataObjs.length)}}function j(C,ct){if(1&C&&(e.DNE(0,Ee,5,3,"ng-container",27),e.DNE(1,gt,10,8,"ng-template",null,28,e.C5r)),2&C){const b=e.sdS(2),R=e.XpG().$implicit;e.Y8G("ngIf",R.errorGetData)("ngIfElse",b)}}function Tt(C,ct){if(1&C){const b=e.RV6();e.qex(0),e.j41(1,"mat-expansion-panel",8),e.bIt("opened",function(){const St=e.eBV(b).index,At=e.XpG(2);return e.Njj(At.getStatisticalById(St))}),e.j41(2,"mat-expansion-panel-header",9)(3,"div",10)(4,"div",11)(5,"h3",12),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",13)(10,"div",14)(11,"span",15),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"span",16),e.EFF(15,"0"),e.k0s(),e.j41(16,"div",17),e.DNE(17,Ae,2,4,"div",18),e.k0s(),e.j41(18,"span",19),e.EFF(19,"10"),e.k0s()()()()(),e.DNE(20,ge,3,0,"div",20),e.DNE(21,j,3,2,"ng-template",null,21,e.C5r),e.k0s(),e.bVm()}if(2&C){const b=ct.$implicit,R=e.sdS(22);e.R7$(6),e.Lme("",e.bMT(7,6,b.subjectName)," ","("+e.bMT(8,8,b.levelName)+")",""),e.R7$(6),e.JRh(e.bMT(13,10,"lang_auto_diem_trung_binh")),e.R7$(5),e.Y8G("ngIf",b.averageMark),e.R7$(3),e.Y8G("ngIf",b.isLoading)("ngIfElse",R)}}function O(C,ct){if(1&C&&(e.j41(0,"div",4)(1,"div",5)(2,"mat-accordion",6),e.DNE(3,Tt,23,12,"ng-container",7),e.k0s()()()),2&C){const b=e.XpG();e.R7$(3),e.Y8G("ngForOf",b.levelSubjectObjs)}}let E=(()=>{class C extends o.H{getStatisticalById(b){this.studentObj&&this.levelSubjectObjs.length&&this.levelSubjectObjs[b]&&(this.levelSubjectObjs[b].isLoading=!0,this.levelSubjectObjs[b].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentObj.id,this.levelSubjectObjs[b].levelId??0,this.levelSubjectObjs[b].subjectId??0).subscribe({next:R=>{R?(this.levelSubjectObjs[b].difficultyDataObjs=R.difficulty??[],this.levelSubjectObjs[b].knowledgeDataObjs=R.knowledge??[],this.levelSubjectObjs[b].chart=this.createChart(R.examResults??[]),this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!1):(this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!0,this.stopStatusObj())},error:R=>{this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!0,this.errorStatusObj(R.error.message??"",!0)}}))}createChart(b){let R=this.commonService.myTranslateInstant("lang_auto_Diem")??"",G=[],St=[];return b.forEach(Ve=>{G.push(Ve.mark??0),St.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(Ve.createdAt))}),new ot.t1({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:"",useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:St},yAxis:{title:{text:R}},series:[{name:R,type:"line",data:G}]})}getDataSubject(){this.studentObj&&(this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentObj.id).subscribe({next:b=>{this.levelSubjectObjs=b.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:b=>{this.errorStatusObj(b.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentObj.id).subscribe(b=>{1==b.success&&b.data?(this.levelSubjectObjs=b.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(b.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(b,R,G,St){super(),this.examPageResultService=b,this.studentService=R,this.sAztTimeService=G,this.studentPracticeService=St,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.bkB,this.levelSubjectObjs=[]}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(et.TE),e.rXU(fe.b0),e.rXU(Mt.F),e.rXU(Kt.Kw))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentObj:"studentObj",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[3,"levelId","subjectId","userId"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(R,G){if(1&R&&(e.j41(0,"div",0),e.DNE(1,Ce,1,1,"azt-loading-effect",1),e.DNE(2,O,4,1,"ng-template",null,2,e.C5r),e.k0s()),2&R){const St=e.sdS(3);e.R7$(1),e.Y8G("ngIf",G.statusObj.loading)("ngIfElse",St)}},dependencies:[a.YU,a.Sq,a.bT,a.B3,Pt.BS,Pt.GK,Pt.Z2,ot.S6,bt.K,Qt.R,Zt.g,lt.wp],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]})}return C})();function y(C,ct){if(1&C&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td",10)(9,"span",11),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&C){const b=ct.$implicit,R=ct.index;let G;e.R7$(2),e.JRh(R+1),e.R7$(2),e.JRh(e.bMT(5,4,null!==(G=b.updatedAt)&&void 0!==G?G:b.createdAt)),e.R7$(3),e.JRh(b.month+"/"+b.year),e.R7$(3),e.SpI(" ",e.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function vt(C,ct){if(1&C&&(e.qex(0),e.DNE(1,y,12,8,"tr",9),e.bVm()),2&C){const b=e.XpG();e.R7$(1),e.Y8G("ngForOf",b.historyTuitionFeeList)}}function Dt(C,ct){1&C&&(e.j41(0,"tr")(1,"td",12),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&C&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let nn=(()=>{class C extends o.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(b=>{b?this.historyTuitionFeeList=b.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(b){super(),this.paymentService=b,this.studentId=0,this.historyTuitionFeeList=[]}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(fe.WG))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(R,G){if(1&R&&(e.j41(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"th",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",5),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",6),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,vt,2,1,"ng-container",7),e.DNE(20,Dt,4,3,"ng-template",null,8,e.C5r),e.k0s()()()()()),2&R){const St=e.sdS(21);e.R7$(7),e.SpI(" ",e.bMT(8,6,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(11,8,"lang_student_payment_time")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_student_monthly_tuition_fee")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_student_status")," "),e.R7$(3),e.Y8G("ngIf",G.historyTuitionFeeList.length)("ngIfElse",St)}},dependencies:[a.Sq,a.bT,be.jd,be.Ew,lt.wp,lt.bH],encapsulation:2})}return C})();function Me(C,ct){if(1&C&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",22),e.k0s()),2&C){const b=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",b.resultMarkObj.point)}}function cn(C,ct){1&C&&(e.j41(0,"span",23),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function Fe(C,ct){if(1&C&&(e.j41(0,"span"),e.DNE(1,Me,4,4,"span",18),e.DNE(2,cn,3,3,"span",21),e.k0s()),2&C){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",b.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj.confirmedAt)}}function bn(C,ct){1&C&&(e.j41(0,"span",24),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_no_result")," "))}function Re(C,ct){if(1&C&&(e.j41(0,"span",24),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C){const b=e.XpG().$implicit;e.R7$(1),e.Lme("",e.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",b.resendAnswerObj.resendNote,"")}}function q(C,ct){if(1&C){const b=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const St=e.eBV(b).$implicit,At=e.XpG();return e.Njj(At.clickToHomeworkObj(St))}),e.j41(1,"div",8),e.qSk(),e.j41(2,"svg",9),e.nrm(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),e.k0s()(),e.joV(),e.j41(8,"div",15)(9,"p",16),e.EFF(10),e.k0s(),e.j41(11,"div",17),e.DNE(12,Fe,3,2,"span",18),e.DNE(13,bn,3,3,"span",19),e.DNE(14,Re,3,4,"span",19),e.k0s(),e.j41(15,"div",20),e.EFF(16),e.nI1(17,"mytranslate"),e.nI1(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&C){const b=ct.$implicit,R=ct.index;e.ZvI("clickable zoom-in flex items-center ",R>0?"mt-5":""," pb-2"),e.R7$(9),e.FS9("matTooltip",b.name),e.R7$(1),e.Lme("",R+1,". ",b.name,""),e.R7$(2),e.Y8G("ngIf",b.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj&&!b.resendAnswerObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj&&b.resendAnswerObj),e.R7$(2),e.Lme("",e.bMT(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",e.bMT(18,13,b.createdAt),"")}}function wn(C,ct){1&C&&(e.j41(0,"div",25),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function Ue(C,ct){if(1&C&&e.nrm(0,"azt-loading-effect",31),2&C){const b=e.XpG(2);e.Y8G("currentStatusObj",b.statusObj)}}function Le(C,ct){if(1&C){const b=e.RV6();e.j41(0,"div",26),e.DNE(1,Ue,1,1,"azt-loading-effect",27),e.j41(2,"button",28),e.bIt("click",function(){e.eBV(b);const G=e.XpG();return e.Njj(G.getNextHomeworkAnswerObjs())}),e.nI1(3,"mytranslate"),e.qSk(),e.j41(4,"svg",29),e.nrm(5,"polyline",30),e.k0s()()()}if(2&C){const b=e.XpG();e.R7$(1),e.Y8G("ngIf",b.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Y8G("disabled",!b.homeworkNextPage)}}let he=(()=>{class C extends o.H{clickToHomeworkObj(b){this.isTeacher?b.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",b)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+b.resultMarkObj?.resultId+"/"+b.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(b.classroomId??0)+"/"+b.id+"/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(b.resultMarkObj?.resultId?"/homework/switch-view-homework/"+b.resultMarkObj?.resultId+"/"+b.hashId:"/bai-tap/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var b=this.studentProfileFilterService.getDefaultFilterObj("homework");b.classroomId=this.classroomId,b.studentId=this.studentId,b.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(b).subscribe(R=>{1==R.success?(this.homeworkObjs=this.homeworkObjs.concat(R.data?.objs??[]),this.homeworkNextPage=R.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(b,R,G){super(),this.studentProfileV2Service=b,this.studentProfileFilterService=R,this.permissionService=G,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(H.m_),e.rXU(x),e.rXU(v.p))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"],[3,"currentStatusObj"]],template:function(R,G){1&R&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return G.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,q,19,15,"div",4),e.DNE(7,wn,3,3,"div",5),e.DNE(8,Le,6,5,"div",6),e.k0s()),2&R&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.R7$(2),e.Y8G("filterType","homework"),e.R7$(2),e.Y8G("ngForOf",G.homeworkObjs),e.R7$(1),e.Y8G("ngIf",0==G.homeworkObjs.length&&!G.homeworkNextPage),e.R7$(1),e.Y8G("ngIf",G.homeworkObjs.length>0&&G.homeworkNextPage))},dependencies:[a.Sq,a.bT,ft.oV,bt.K,yt.D,nt,lt.wp,lt.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]})}return C})();function En(C,ct){if(1&C&&e.nrm(0,"azt-loading-effect",2),2&C){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function vn(C,ct){if(1&C&&(e.j41(0,"mat-option",23),e.EFF(1),e.k0s()),2&C){const b=ct.$implicit;e.Y8G("value",b.id+"-"+b.studentId),e.R7$(1),e.SpI(" ",b.name," ")}}function Be(C,ct){if(1&C&&(e.j41(0,"div",24)(1,"p",21),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-attendance",25),e.k0s()),2&C){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,4,"lang_student_attendance_point_info")),e.R7$(2),e.Y8G("studentId",b.studentId)("isTeacherRole",b.isTeacherDashboard)("selectClassroomId",b.classroomId)}}function kn(C,ct){if(1&C&&(e.j41(0,"div",24)(1,"p",21),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-tuition-fee",26),e.k0s()),2&C){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_tuition_fee_info")),e.R7$(2),e.Y8G("studentId",b.studentId)}}function on(C,ct){if(1&C&&(e.j41(0,"div",24)(1,"p",21),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-book-distribution",26),e.k0s()),2&C){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_book_distribution_info")),e.R7$(2),e.Y8G("studentId",b.studentId)}}const mn=function(C){return{"margin-bottom":C}};function xn(C,ct){if(1&C){const b=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h3",5),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",6)(6,"mat-form-field",7)(7,"mat-select",8),e.bIt("selectionChange",function(G){e.eBV(b);const St=e.XpG();return e.Njj(St.selectedClassroom(G))}),e.j41(8,"mat-option",9),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.DNE(11,vn,2,2,"mat-option",10),e.k0s()()()(),e.j41(12,"div",11)(13,"azt-detail-account-student",12),e.bIt("reInitComponentEvent",function(){e.eBV(b);const G=e.XpG();return e.Njj(G.reInitOtherComponent())}),e.k0s(),e.j41(14,"div",13)(15,"div",14),e.nrm(16,"azt-student-profile-list-exams",15,16),e.k0s(),e.j41(18,"div",17),e.nrm(19,"azt-student-profile-list-homeworks",15,18),e.k0s()(),e.DNE(21,Be,5,6,"div",19),e.DNE(22,kn,5,4,"div",19),e.DNE(23,on,5,4,"div",19),e.j41(24,"div",20)(25,"p",21),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"azt-detail-by-subject-student",22),e.bIt("reInitComponentEvent",function(){e.eBV(b);const G=e.XpG();return e.Njj(G.reInitOtherComponent())}),e.k0s()()()()}if(2&C){const b=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,30,"lang_student_classroom_profile_student")," "),e.R7$(4),e.Y8G("formControl",b.select),e.R7$(1),e.Y8G("value","")("disabled",!0),e.R7$(1),e.SpI(" ---",e.bMT(10,32,"lang_auto_chon_lop"),"--- "),e.R7$(2),e.Y8G("ngForOf",b.classroomList),e.R7$(2),e.Y8G("studentObj",b.studentObj)("classroomObj",b.classroomObj)("classroomList",b.classroomList)("classroomId",b.classroomId)("backToLink",b.backToLink)("paramBackToLink",b.paramBackToLink)("isTeacher",b.isTeacherDashboard),e.R7$(3),e.Y8G("studentId",b.studentId)("isTeacher",b.isTeacherDashboard)("classroomId",b.classroomId)("backToLink",b.backToLink),e.R7$(2),e.Y8G("ngStyle",e.eq3(36,mn,b.isMobileWebView?"200px":"0")),e.R7$(1),e.Y8G("studentId",b.studentId)("isTeacher",b.isTeacherDashboard)("classroomId",b.classroomId)("backToLink",b.backToLink),e.R7$(2),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(3),e.JRh(e.bMT(27,34,"lang_student_academic_results_report")),e.R7$(2),e.Y8G("studentObj",b.studentObj)("classroomId",b.classroomId)("backToLink",b.backToLink)("paramBackToLink",b.paramBackToLink)}}let dn=(()=>{class C extends o.H{reInitOtherComponent(b){this.listExam?.reInitData(),this.listHomework?.reInitData(),b&&this.getData()}selectedClassroom(b){let R=b.value.split("-")[0],G=b.value.split("-")[1],St=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+R+"/"+G,St?"?backTo="+encodeURIComponent(St):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(R=>{1==R.success?(R.data?.studentObj&&R.data?.classroomObj&&R.data.classroomObj.permissionObj&&(this.studentObj=R.data.studentObj,this.classroomObj=R.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(b){super(),this.studentProfileV2Service=b,this.select=new S.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}static#t=this.\u0275fac=function(R){return new(R||C)(e.rXU(H.m_))};static#e=this.\u0275cmp=e.VBU({type:C,selectors:[["azt-student-profile"]],viewQuery:function(R,G){if(1&R&&(e.GBs(ht,5),e.GBs(ht,5)),2&R){let St;e.mGM(St=e.lsd())&&(G.listExam=St.first),e.mGM(St=e.lsd())&&(G.listHomework=St.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink"],["listExam",""],[1,"intro-y","box","col-span-12","lg:col-span-6",3,"ngStyle"],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentObj","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId"],[3,"studentId"]],template:function(R,G){if(1&R&&(e.DNE(0,En,1,1,"azt-loading-effect",0),e.DNE(1,xn,29,38,"ng-template",null,1,e.C5r)),2&R){const St=e.sdS(2);e.Y8G("ngIf",G.statusObj.loading)("ngIfElse",St)}},dependencies:[a.Sq,a.bT,a.B3,Ft.wT,Yt.rl,Jt.VO,S.BC,S.l_,bt.K,je,we,A,E,nn,he,ht,lt.wp],encapsulation:2})}return C})()},20378:(re,wt,g)=>{g.d(wt,{gu:()=>so,wn:()=>Ka,T_:()=>Za});var S=g(73022),o=g(26860),e=g(29666);class H extends Error{}class r extends H{constructor(l){super(`Invalid DateTime: ${l.toMessage()}`)}}class t extends H{constructor(l){super(`Invalid Duration: ${l.toMessage()}`)}}class x extends H{constructor(l){super(`Invalid Interval: ${l.toMessage()}`)}}class v extends H{constructor(l){super(`Invalid unit ${l}`),Object.setPrototypeOf(this,v.prototype)}}class a extends H{constructor(l){super(`${l} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,a.prototype)}}class ft extends H{constructor(l){super(l),Object.setPrototypeOf(this,ft.prototype)}}class bt extends H{constructor(l){super(l),Object.setPrototypeOf(this,bt.prototype)}}class yt extends H{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,yt.prototype)}}class lt{get type(){throw new yt}get ianaName(){return this.name}get name(){throw new yt}get isUniversal(){throw new yt}offsetName(l,s){throw new yt}formatOffset(l,s){throw new yt}offset(l){throw new yt}equals(l){throw new yt}get isValid(){throw new yt}}var Z=Intl;let at={};const dt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let F={};class U extends lt{static create(l){return F[l]||(F[l]=new U(l)),F[l]}static resetCache(){F={},at={}}static isValidSpecifier(l){return this.isValidZone(l)}static isValidZone(l){if(!l)return!1;try{return new Z.DateTimeFormat("en-US",{timeZone:l}).format(),!0}catch{return!1}}constructor(l){super(),this._zoneName=l,this._valid=U.isValidZone(l)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(l,{format:s,locale:d}={}){return xi(l,s,d,this.name)}formatOffset(l,s){return In(this.offset(l),s)}offset(l){const s=new Date(l);if(isNaN(+s))return NaN;const d=function nt(_){if(!at[_])try{at[_]=new Z.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new a(_)}return at[_]}(this.name);let i;const[u,n,m,c,h,w,N]=typeof d.formatToParts==typeof isNaN?function mt(_,l){const s=_.formatToParts(l),d=[];for(let i=0;i<s.length;i++){const{type:u,value:n}=s[i],m=dt[u];"era"===u?d[m]=n:_e(m)||(d[m]=parseInt(n,10))}return d}(d,s):function it(_,l){const s=_.format(l).replace(/\u200E/g,""),d=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(s),[,i,u,n,m,c,h,w]=d;return[n,i,u,m,c,h,w]}(d,s);"BC"===c&&(i=1-Math.abs(+u));let Vt=+s;const Ge=Vt%1e3;return Vt-=Ge>=0?Ge:1e3+Ge,(Rn({year:i||+u,month:+n,day:+m,hour:+(24===h?0:h),minute:+w,second:+N,millisecond:0})-Vt)/6e4}equals(l){return"iana"===l.type&&l.name===this.name}get isValid(){return this._valid}}const D="numeric",V="short",ht="long",Ft={year:D,month:D,day:D},Yt={year:D,month:V,day:D},Jt={year:D,month:V,day:D,weekday:V},le={year:D,month:ht,day:D},me={year:D,month:ht,day:D,weekday:ht},ee={hour:D,minute:D},Qt={hour:D,minute:D,second:D},jt={hour:D,minute:D,second:D,timeZoneName:V},Lt={hour:D,minute:D,second:D,timeZoneName:ht},kt={hour:D,minute:D,hourCycle:"h23"},Ot={hour:D,minute:D,second:D,hourCycle:"h23"},Ct={hour:D,minute:D,second:D,hourCycle:"h23",timeZoneName:V},Ut={hour:D,minute:D,second:D,hourCycle:"h23",timeZoneName:ht},ut={year:D,month:D,day:D,hour:D,minute:D},K={year:D,month:D,day:D,hour:D,minute:D,second:D},B={year:D,month:V,day:D,hour:D,minute:D},$={year:D,month:V,day:D,hour:D,minute:D,second:D},pt={year:D,month:V,day:D,weekday:V,hour:D,minute:D},Et={year:D,month:ht,day:D,hour:D,minute:D,timeZoneName:V},Xt={year:D,month:ht,day:D,hour:D,minute:D,second:D,timeZoneName:V},ie={year:D,month:ht,day:D,weekday:ht,hour:D,minute:D,timeZoneName:ht},Se={year:D,month:ht,day:D,weekday:ht,hour:D,minute:D,second:D,timeZoneName:ht},$e=["January","February","March","April","May","June","July","August","September","October","November","December"],de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Pe=["J","F","M","A","M","J","J","A","S","O","N","D"];function ye(_){switch(_){case"narrow":return[...Pe];case"short":return[...de];case"long":return[...$e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const je=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Oe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],fe=["M","T","W","T","F","S","S"];function we(_){switch(_){case"narrow":return[...fe];case"short":return[...Oe];case"long":return[...je];case"numeric":return["1","2","3","4","5","6","7"]}}const be=["AM","PM"],ze=["Before Christ","Anno Domini"],Q=["BC","AD"],Rt=["B","A"];function A(_){switch(_){case"narrow":return[...Rt];case"short":return[...Q];case"long":return[...ze]}}let Zt={},ne={};function ce(_,l={}){const s=JSON.stringify([_,l]);let d=ne[s];return d||(d=new Z.DateTimeFormat(_,l),ne[s]=d),d}let P,Ae={},Ee={};function j(_,l,s,d){return"en"===_.listingMode()?s(l):d(l)}class Tt{constructor(l,s,d){const{padTo:i,floor:u}=d,n=function W(_,l){var s={};for(var d in _)Object.prototype.hasOwnProperty.call(_,d)&&l.indexOf(d)<0&&(s[d]=_[d]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(d=Object.getOwnPropertySymbols(_);i<d.length;i++)l.indexOf(d[i])<0&&Object.prototype.propertyIsEnumerable.call(_,d[i])&&(s[d[i]]=_[d[i]])}return s}(d,["padTo","floor"]);if(this._padTo=i||0,this._floor=u||!1,!s||Object.keys(n).length>0){const m=Object.assign({useGrouping:!1},d);this._padTo>0&&(m.minimumIntegerDigits=i),this._inf=function ge(_,l){const s=JSON.stringify([_,l]);let d=Ae[s];return d||(d=new Z.NumberFormat(_,l),Ae[s]=d),d}(l,m)}}format(l){if(this._inf){const s=this._floor?Math.floor(l):l;return this._inf.format(s)}return qt(this._floor?Math.floor(l):Wn(l,3),this._padTo)}}class O{get dtf(){return this._dtf}constructor(l,s,d){let i;if(this._opts=d,this._opts.timeZone)this._dt=l;else if("fixed"===l.zone.type){const n=l.offset/60*-1,m=n>=0?`Etc/GMT+${n}`:`Etc/GMT${n}`;0!==l.offset&&U.create(m).isValid?(i=m,this._dt=l):(i="UTC",this._dt=0===l.offset?l:l.setZone("UTC").plus({minutes:l.offset}),this._originalZone=l.zone)}else"system"===l.zone.type?this._dt=l:"iana"===l.zone.type?(this._dt=l,i=l.zone.name):(i="UTC",this._dt=l.setZone("UTC").plus({minutes:l.offset}),this._originalZone=l.zone);const u=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||i});this._dtf=ce(s,u)}format(){return this._originalZone?this.formatToParts().map(({value:l})=>l).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const l=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?l.map(s=>{if("timeZoneName"===s.type){const d=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},s),{value:d})}return s}):l}resolvedOptions(){return this._dtf.resolvedOptions()}}class E{constructor(l,s,d){this._opts=Object.assign({style:"long"},d),!s&&fi()&&(this._rtf=function en(_,l={}){const s=JSON.stringify([_,l]);let d=Ee[s];return d||(d=new Z.RelativeTimeFormat(_,l),Ee[s]=d),d}(l,d))}format(l,s){return this._rtf?this._rtf.format(l,s):function Pt(_,l,s="always",d=!1){const u=Gt.normalizeUnit(_),n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[u],m=-1===["hours","minutes","seconds"].indexOf(u);if("auto"===s&&m){const J="days"===u;switch(l){case 1:return J?"tomorrow":`next ${n[0]}`;case-1:return J?"yesterday":`last ${n[0]}`;case 0:return J?"today":`this ${n[0]}`}}const c=Object.is(l,-0)||l<0,h=Math.abs(l),w=1===h,N=d?w?n[1]:n[2]||n[1]:w?n[0]:u;return c?`${h} ${N} ago`:`in ${h} ${N}`}(s,l,this._opts.numeric,"long"!==this._opts.style)}formatToParts(l,s){return this._rtf?this._rtf.formatToParts(l,s):[]}}let y=(()=>{class _{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(s,d,i,u,n){const[m,c,h]=function I(_){const l=_.indexOf("-x-");-1!==l&&(_=_.substring(0,l));const s=_.indexOf("-u-");if(-1===s)return[_];{let d,i;try{d=ce(_).resolvedOptions(),i=_}catch{const c=_.substring(0,s);d=ce(c).resolvedOptions(),i=c}const{numberingSystem:u,calendar:n}=d;return[i,u,n]}}(s);this.locale=m,this.numberingSystem=d||c,this.outputCalendar=i||h,this._intl=function X(_,l,s){return(s||l)&&(_.includes("-u-")||(_+="-u"),s&&(_+=`-ca-${s}`),l&&(_+=`-nu-${l}`)),_}(this.locale,this.numberingSystem,this.outputCalendar),this._weekSettings=u,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=n,this._fastNumbersCached=void 0}static create(s,d,i,u,n=!1){const m=s||C.defaultLocale,c=m||(n?"en-US":function xt(){return P||(P=(new Z.DateTimeFormat).resolvedOptions().locale),P}()),h=d||C.defaultNumberingSystem,w=i||C.defaultOutputCalendar,N=Xn(u)||C.defaultWeekSettings;return new _(c,h,w,N,m)}static fromObject({locale:s,numberingSystem:d,outputCalendar:i,weekSettings:u}={}){return _.create(s,d,i,u)}static fromOpts(s){return _.create(s.locale,s.numberingSystem,s.outputCalendar,s.weekSettings,s.defaultToEN)}static resetCache(){P=void 0,Zt={},ne={},Ae={},Ee={}}clone(s){return s&&0!==Object.getOwnPropertyNames(s).length?_.create(s.locale||this._specifiedLocale,s.numberingSystem||this.numberingSystem,s.outputCalendar||this.outputCalendar,Xn(s.weekSettings)||this._weekSettings,s.defaultToEN||!1):this}dtFormatter(s,d={}){return new O(s,this._intl,d)}equals(s){return this.locale===s.locale&&this.numberingSystem===s.numberingSystem&&this.outputCalendar===s.outputCalendar}eras(s){return j(this,s,A,d=>{const i={era:d};return this._eraCache[d]||(this._eraCache[d]=[st.utc(-40,1,1),st.utc(2017,1,1)].map(u=>this.extract(u,i,"era"))),this._eraCache[d]})}extract(s,d,i){const m=this.dtFormatter(s,d).formatToParts().find(c=>c.type.toLowerCase()===i.toLowerCase());if(!m)throw new Error(`Invalid extract field ${i}`);return m.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:bi()?this._getCachedWeekInfo(this.locale):an}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new Z.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(s={}){return function Ce(_,l={}){const s=JSON.stringify([_,l]);let d=Zt[s];return d||(d=new Z.ListFormat(_,l),Zt[s]=d),d}(this._intl,s)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return j(this,"long",()=>be,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[st.utc(2016,11,13,9),st.utc(2016,11,13,19)].map(s=>this.extract(s,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(s,d=!1){return j(this,s,ye,i=>{const u=d?{month:i,day:"numeric"}:{month:i},n=d?"format":"standalone";return this._monthsCache[n][i]||(this._monthsCache[n][i]=function Y(_){const l=[];for(let s=1;s<=12;s++){const d=st.utc(2009,s,1);l.push(_(d))}return l}(m=>this.extract(m,u,"month"))),this._monthsCache[n][i]})}numberFormatter(s={}){return new Tt(this._intl,this.fastNumbers,s)}redefaultToEN(s={}){return this.clone(Object.assign(Object.assign({},s),{defaultToEN:!0}))}redefaultToSystem(s={}){return this.clone(Object.assign(Object.assign({},s),{defaultToEN:!1}))}relFormatter(s={}){return new E(this._intl,this.isEnglish(),s)}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}weekdays(s,d=!1){return j(this,s,we,i=>{const u=d?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},n=d?"format":"standalone";return this._weekdaysCache[n][i]||(this._weekdaysCache[n][i]=function gt(_){const l=[];for(let s=1;s<=7;s++){const d=st.utc(2016,11,13+s);l.push(_(d))}return l}(m=>this.extract(m,u,"weekday"))),this._weekdaysCache[n][i]})}_getCachedWeekInfo(s){let d=_._weekInfoCache[s];if(!d){const i=new Z.Locale(s);d="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,_._weekInfoCache[s]=d}return d}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===Z.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return _._weekInfoCache={},_})(),vt=null;class Dt extends lt{static get utcInstance(){return null===vt&&(vt=new Dt(0)),vt}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${In(-this._fixed,"narrow")}`}get isUniversal(){return!0}get isValid(){return!0}get name(){return 0===this._fixed?"UTC":`UTC${In(this._fixed,"narrow")}`}get type(){return"fixed"}constructor(l){super(),this._fixed=l}static instance(l){return 0===l?Dt.utcInstance:new Dt(l)}static parseSpecifier(l){if(l){const s=l.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new Dt(Dn(s[1],s[2]))}return null}equals(l){return"fixed"===l.type&&l._fixed===this._fixed}formatOffset(l,s){return In(this._fixed,s)}offset(){return this._fixed}offsetName(){return this.name}}class nn extends lt{constructor(l){super(),this._zoneName=l,Object.setPrototypeOf(this,nn.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Me=null;class cn extends lt{static get instance(){return null===Me&&(Me=new cn),Me}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(l,{format:s,locale:d}){return xi(l,s,d)}formatOffset(l,s){return In(this.offset(l),s)}offset(l){return-new Date(l).getTimezoneOffset()}equals(l){return"system"===l.type}get isValid(){return!0}}const Fe=(_,l)=>{if(_e(_)||null===_)return l;if(_ instanceof lt)return _;if(function $i(_){return"string"==typeof _}(_)){const s=_.toLowerCase();return"default"===s?l:"local"===s||"system"===s?cn.instance:"utc"===s||"gmt"===s?Dt.utcInstance:Dt.parseSpecifier(s)||U.create(_)}return De(_)?Dt.instance(_):"object"==typeof _&&"offset"in _&&"function"==typeof _.offset?_:new nn(_)},bn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Re={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},q=bn.hanidec.replace(/[\[|\]]/g,"").split("");let Ue={};function he({numberingSystem:_},l=""){const s=_||"latn";return Ue[s]||(Ue[s]={}),Ue[s][l]||(Ue[s][l]=new RegExp(`${bn[s]}${l}`)),Ue[s][l]}let Be,kn,on,dn,En=()=>Date.now(),vn="system",mn=60,xn=!1;class C{static set defaultLocale(l){Be=l}static get defaultLocale(){return Be}static set defaultNumberingSystem(l){kn=l}static get defaultNumberingSystem(){return kn}static set defaultOutputCalendar(l){on=l}static get defaultOutputCalendar(){return on}static set defaultWeekSettings(l){dn=Xn(l)}static get defaultWeekSettings(){return dn}static set defaultZone(l){vn=l}static get defaultZone(){return Fe(vn,cn.instance)}static set defaultZoneLike(l){vn=l}static set now(l){En=l}static get now(){return En}static set throwOnInvalid(l){xn=l}static get throwOnInvalid(){return xn}static set twoDigitCutoffYear(l){mn=l%100}static get twoDigitCutoffYear(){return mn}static resetCaches(){y.resetCache(),U.resetCache(),st.resetCache(),function Le(){Ue={}}()}}class ct{constructor(l,s){this.reason=l,this.explanation=s,this._formattedExplanation="",s&&(this._formattedExplanation=`: ${s}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const b=[0,31,59,90,120,151,181,212,243,273,304,334],R=[0,31,60,91,121,152,182,213,244,274,305,335];function G(_,l){return new ct("unit out of range",`you specified ${l} (of type ${typeof l}) as a ${_}, which is invalid`)}function St(_,l,s){return s+(Sn(_)?R:b)[l-1]}function At(_,l){const s=Sn(_)?R:b,d=s.findIndex(u=>u<l);return{month:d+1,day:l-s[d]}}function Ve(_,l,s){const d=new Date(Date.UTC(_,l-1,s));_<100&&_>=0&&d.setUTCFullYear(d.getUTCFullYear()-1900);const i=d.getUTCDay();return 0===i?7:i}function Cn(_,l=an.minimalDays,s=an.firstDay){const{year:d,month:i,day:u}=_,n=St(d,i,u),m=Un(Ve(d,i,u),s);let h,c=Math.floor((n-m+14-l)/7);return c<1?(h=d-1,c=We(h,l,s)):c>We(d,l,s)?(h=d+1,c=1):h=d,Object.assign({weekYear:h,weekNumber:c,weekday:m},yn(_))}function _i(_,l=an.minimalDays,s=an.firstDay){const{weekYear:d,weekNumber:i,weekday:u}=_,n=Un(Ve(d,1,l),s),m=_n(d);let h,c=7*i+u-n-7+l;c<1?(h=d-1,c+=_n(h)):c>m?(h=d+1,c-=_n(d)):h=d;const{month:w,day:N}=At(h,c);return Object.assign({year:h,month:w,day:N},yn(_))}function Yn(_){const{year:l,month:s,day:d}=_,i=St(l,s,d);return Object.assign({year:l,ordinal:i},yn(_))}function ui(_){const{year:l,ordinal:s}=_,{month:d,day:i}=At(l,s);return Object.assign({year:l,month:d,day:i},yn(_))}function pi(_){const l=Mn(_.year),s=Te(_.month,1,12),d=Te(_.day,1,Fn(_.year,_.month));return l?s?!d&&G("day",_.day):G("month",_.month):G("year",_.year)}function gi(_){const{hour:l,minute:s,second:d,millisecond:i}=_,u=Te(l,0,23)||24===l&&0===s&&0===d&&0===i,n=Te(s,0,59),m=Te(d,0,59),c=Te(i,0,999);return u?n?m?!c&&G("millisecond",i):G("second",d):G("minute",s):G("hour",l)}function Un(_,l){return(_-l+7)%7+1}function hi(_,l){if(Ht(_.localWeekday)||Ht(_.localWeekNumber)||Ht(_.localWeekYear)){if(Ht(_.weekday)||Ht(_.weekNumber)||Ht(_.weekYear))throw new ft("Cannot mix locale-based week fields with ISO-based week fields");return Ht(_.localWeekday)&&(_.weekday=_.localWeekday),Ht(_.localWeekNumber)&&(_.weekNumber=_.localWeekNumber),Ht(_.localWeekYear)&&(_.weekYear=_.localWeekYear),delete _.localWeekday,delete _.localWeekNumber,delete _.localWeekYear,{minDaysInFirstWeek:l.getMinDaysInFirstWeek(),startOfWeek:l.getStartOfWeek()}}return{minDaysInFirstWeek:an.minimalDays,startOfWeek:an.firstDay}}function Ht(_){return typeof _<"u"}function _e(_){return typeof _>"u"}function De(_){return"number"==typeof _}function Mn(_){return De(_)&&_%1==0}function fi(){try{return typeof Z<"u"&&!!Z.RelativeTimeFormat}catch{return!1}}function bi(){try{return typeof Z<"u"&&!!Z.Locale&&("weekInfo"in Z.Locale.prototype||"getWeekInfo"in Z.Locale.prototype)}catch{return!1}}function vi(_,l,s){return 0===_.length?void 0:_.reduce((i,u)=>{const n=[l(u),u];return s(i[0],n[0])===i[0]?i:n},[l(_[0]),_[0]])[1]}function Xn(_){if(_){if("object"!=typeof _)throw new bt("Week settings must be an object");if(!Te(_.firstDay,1,7)||!Te(_.minimalDays,1,7)||!Array.isArray(_.weekend)||_.weekend.some(l=>!Te(l,1,7)))throw new bt("Invalid week settings");return{firstDay:_.firstDay,minimalDays:_.minimalDays,weekend:_.weekend}}}function Te(_,l,s){return Mn(_)&&_>=l&&_<=s}function qt(_,l=2){const s=+_<0?"-":"",d=s?-1*+_:_;let i;return i=d.toString().length<l?("0".repeat(l)+d).slice(-l):d.toString(),`${s}${i}`}function Xe(_){if(_)return parseInt(_,10)}function He(_){if(_)return parseFloat(_)}function Hn(_){if(!_e(_)&&null!==_&&""!==_){const l=1e3*parseFloat("0."+_);return Math.floor(l)}}function Wn(_,l,s=!1){const d=Math.pow(10,l);return(s?Math.trunc:Math.round)(_*d)/d}function Sn(_){return _%4==0&&(_%100!=0||_%400==0)}function _n(_){return Sn(_)?366:365}function Fn(_,l){const s=function Li(_,l){return _-l*Math.floor(_/l)}(l-1,12)+1;return[31,Sn(_+(l-s)/12)?29:28,31,30,31,30,31,31,30,31,30,31][s-1]}function Rn(_){let l=Date.UTC(_.year,_.month-1,_.day,_.hour,_.minute,_.second,_.millisecond);return _.year<100&&_.year>=0&&(l=new Date(l),l.setUTCFullYear(_.year,_.month-1,_.day)),+l}function ki(_,l,s){return-Un(Ve(_,1,l),s)+l-1}function We(_,l=4,s=1){const d=ki(_,l,s),i=ki(_+1,l,s);return(_n(_)-d+i)/7}function Jn(_){return _>99?_:_>C.twoDigitCutoffYear?1900+_:2e3+_}function xi(_,l,s,d){const i=new Date(_),n=Object.assign({timeZoneName:l},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:d}),m=new Z.DateTimeFormat(s,n).formatToParts(i).find(c=>"timezonename"===c.type.toLowerCase());return m?m.value:null}function Dn(_,l){let s=parseInt(_,10);Number.isNaN(s)&&(s=0);const d=parseInt(l,10)||0;return 60*s+(s<0||Object.is(s,-0)?-d:d)}function Ci(_){const l=Number(_);if("boolean"==typeof _||""===_||Number.isNaN(l))throw new bt(`Invalid unit value ${_}`);return l}function Nn(_,l){return Object.keys(_).reduce((s,d)=>(null!=_[d]&&(s[l(d)]=Ci(_[d])),s),{})}function In(_,l){const s=Math.trunc(Math.abs(_/60)),d=Math.trunc(Math.abs(_%60)),i=_>=0?"+":"-";switch(l){case"short":return`${i}${qt(s,2)}:${qt(d,2)}`;case"narrow":return`${i}${s}${d>0?`:${d}`:""}`;case"techie":return`${i}${qt(s,2)}${qt(d,2)}`;default:throw new RangeError(`Value format ${l} is out of range for property format`)}}function yn(_){return function Ai(_,l){return l.reduce((s,d)=>(s[d]=_[d],s),{})}(_,["hour","minute","second","millisecond"])}const sn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],un=sn.slice(0).reverse(),Ti=["years","months","days","hours","minutes","seconds","milliseconds"],Bi={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},an={firstDay:1,minimalDays:4,weekend:[6,7]};function Si(_,l){let s="";for(const d of _)s+=d.literal?d.val:l(d.val);return s}const Vi={D:Ft,DD:Yt,DDD:le,DDDD:me,t:ee,tt:Qt,ttt:jt,tttt:Lt,T:kt,TT:Ot,TTT:Ct,TTTT:Ut,f:ut,ff:B,fff:Et,ffff:ie,F:K,FF:$,FFF:Xt,FFFF:Se};class ue{constructor(l,s){this._opts=s,this._loc=l,this._systemLoc=void 0}static create(l,s={}){return new ue(l,s)}static macroTokenToFormatOpts(l){return Vi[l]}static parseFormat(l){let s=null,d="",i=!1;const u=[];for(let n=0;n<l.length;n++){const m=l.charAt(n);"'"===m?(d.length>0&&u.push({literal:i||/^\s+$/.test(d),val:d}),s=null,d="",i=!i):i||m===s?d+=m:(d.length>0&&u.push({literal:/^\s+$/.test(d),val:d}),d=m,s=m)}return d.length>0&&u.push({literal:i||/^\s+$/.test(d),val:d}),u}dtFormatter(l,s={}){return this._loc.dtFormatter(l,Object.assign(Object.assign({},this._opts),s))}formatDateTime(l,s){return this.dtFormatter(l,s).format()}formatDateTimeFromString(l,s){const d="en"===this._loc.listingMode(),i=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,u=(_t,Vt)=>this._loc.extract(l,_t,Vt),n=_t=>l.isOffsetFixed&&0===l.offset&&_t.allowZ?"Z":l.isValid?l.zone.formatOffset(l.ts,_t.format):"",c=(_t,Vt)=>d?function Mt(_,l){return ye(l)[_.month-1]}(l,_t):u(Vt?{month:_t}:{month:_t,day:"numeric"},"month"),h=(_t,Vt)=>d?function et(_,l){return we(l)[_.weekday-1]}(l,_t):u(Vt?{weekday:_t}:{weekday:_t,month:"long",day:"numeric"},"weekday"),w=_t=>{const Vt=ue.macroTokenToFormatOpts(_t);return Vt?this.formatWithSystemDefault(l,Vt):_t},N=_t=>d?function Kt(_,l){return A(l)[_.year<0?0:1]}(l,_t):u({era:_t},"era");return Si(ue.parseFormat(s),_t=>{switch(_t){case"S":return this.num(l.millisecond);case"u":case"SSS":return this.num(l.millisecond,3);case"s":return this.num(l.second);case"ss":return this.num(l.second,2);case"uu":return this.num(Math.floor(l.millisecond/10),2);case"uuu":return this.num(Math.floor(l.millisecond/100));case"m":return this.num(l.minute);case"mm":return this.num(l.minute,2);case"h":return this.num(l.hour%12==0?12:l.hour%12);case"hh":return this.num(l.hour%12==0?12:l.hour%12,2);case"H":return this.num(l.hour);case"HH":return this.num(l.hour,2);case"Z":return n({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return n({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return n({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return l.zone.offsetName(l.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return l.zone.offsetName(l.ts,{format:"long",locale:this._loc.locale})||"";case"z":return l.zoneName||"";case"a":return d?function ot(_){return be[_.hour<12?0:1]}(l):u({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return i?u({day:"numeric"},"day"):this.num(l.day);case"dd":return i?u({day:"2-digit"},"day"):this.num(l.day,2);case"c":case"E":return this.num(l.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return i?u({month:"numeric",day:"numeric"},"month"):this.num(l.month);case"LL":return i?u({month:"2-digit",day:"numeric"},"month"):this.num(l.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return i?u({month:"numeric"},"month"):this.num(l.month);case"MM":return i?u({month:"2-digit"},"month"):this.num(l.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return i?u({year:"numeric"},"year"):this.num(l.year);case"yy":return i?u({year:"2-digit"},"year"):this.num(parseInt(l.year.toString().slice(-2),10),2);case"yyyy":return i?u({year:"numeric"},"year"):this.num(l.year,4);case"yyyyyy":return i?u({year:"numeric"},"year"):this.num(l.year,6);case"G":return N("short");case"GG":return N("long");case"GGGGG":return N("narrow");case"kk":return this.num(parseInt(l.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(l.weekYear,4);case"W":return this.num(l.weekNumber);case"WW":return this.num(l.weekNumber,2);case"o":return this.num(l.ordinal);case"ooo":return this.num(l.ordinal,3);case"q":return this.num(l.quarter);case"qq":return this.num(l.quarter,2);case"X":return this.num(Math.floor(l.ts/1e3));case"x":return this.num(l.ts);default:return w(_t)}})}formatDateTimeParts(l,s){return this.dtFormatter(l,s).formatToParts()}formatDurationFromString(l,s){const d=c=>{switch(c[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},u=ue.parseFormat(s),n=u.reduce((c,{literal:h,val:w})=>h?c:c.concat(w),[]);return Si(u,(c=>h=>{const w=d(h);return w?this.num(c.get(w),h.length):h})(l.shiftTo(...n.map(d).filter(c=>!!c))))}formatInterval(l,s={}){if(!l.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(l.start,s).dtf.formatRange(l.start.toJSDate(),l.end.toJSDate())}formatWithSystemDefault(l,s){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(l,Object.assign(Object.assign({},this._opts),s)).format()}num(l,s=0){if(this._opts.forceSimple)return qt(l,s);const d=Object.assign({},this._opts);return s>0&&(d.padTo=s),this._loc.numberFormatter(d).format(l)}resolvedOptions(l,s={}){return this.dtFormatter(l,s).resolvedOptions()}}function pn(..._){const l=_.reduce((s,d)=>s+d.source,"");return RegExp(`^${l}$`)}function gn(..._){return l=>_.reduce(([s,d,i],u)=>{const[n,m,c]=u(l,i);return[Object.assign(Object.assign({},s),n),m||d,c]},[{},null,1]).slice(0,2)}function hn(_,...l){if(null==_)return[null,null];for(const[s,d]of l){const i=s.exec(_);if(i)return d(i)}return[null,null]}function Ii(..._){return(l,s)=>{const d={};let i;for(i=0;i<_.length;i++)d[_[i]]=Xe(l[s+i]);return[d,null,s+i]}}const f=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,z=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,k=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,T=RegExp(`${k.source}(?:${z.source}?(?:\\[(${f.source})\\])?)?`),M=RegExp(`(?:T${T.source})?`),Nt=Ii("weekYear","weekNumber","weekday"),zt=Ii("year","ordinal"),Gn=RegExp(`${k.source} ?(?:${z.source}|(${f.source}))?`),Kn=RegExp(`(?: ${Gn.source})?`);function fn(_,l,s){return _e(_[l])?s:Xe(_[l])}function $n(_,l){return[{hour:fn(_,l,0),minute:fn(_,l+1,0),second:fn(_,l+2,0),millisecond:Hn(_[l+3])},null,l+4]}function Zn(_,l){const s=!_[l]&&!_[l+1],d=Dn(_[l+1],_[l+2]);return[{},s?null:Dt.instance(d),l+3]}function Qn(_,l){return[{},_[l]?U.create(_[l]):null,l+1]}const Xo=RegExp(`^T?${k.source}$`),Ho=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Wo(_){const[l,s,d,i,u,n,m,c,h]=_,w=l.startsWith("-"),N=!!c&&c.startsWith("-"),J=(_t,Vt=!1)=>"number"==typeof _t&&(Vt||_t&&w)?-_t:_t;return[{years:J(He(s)),months:J(He(d)),weeks:J(He(i)),days:J(He(u)),hours:J(He(n)),minutes:J(He(m)),seconds:J(He(c),"-0"===c),milliseconds:J(Hn(h),N)}]}const Jo={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ui(_,l,s,d,i,u,n){let m;return _&&(m=_.length>3?je.indexOf(_)+1:Oe.indexOf(_)+1),{year:2===l.length?Jn(Xe(l)):Xe(l),month:de.indexOf(s)+1,day:Xe(d),hour:Xe(i),minute:Xe(u),second:Xe(n),weekday:m}}const Ko=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Zo(_){const[,l,s,d,i,u,n,m,c,h,w,N]=_,J=Ui(l,i,d,s,u,n,m);let _t;return _t=c?Jo[c]:h?0:Dn(w,N),[J,new Dt(_t)]}const ao=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,qo=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ro(_){const[,l,s,d,i,u,n,m]=_;return[Ui(l,i,d,s,u,n,m),Dt.utcInstance]}function ts(_){const[,l,s,d,i,u,n,m]=_;return[Ui(l,m,s,d,i,u,n),Dt.utcInstance]}const es=pn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,M),ns=pn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,M),Xi=pn(/(\d{4})-?(\d{3})/,M),is=pn(T),lo=gn(function Yi(_,l){return[{year:fn(_,l,0),month:fn(_,l+1,1),day:fn(_,l+2,1)},null,l+3]},$n,Zn,Qn),os=gn(Nt,$n,Zn,Qn),ss=gn(zt,$n,Zn,Qn),as=gn($n,Zn,Qn),_s=pn(/(\d{4})-(\d\d)-(\d\d)/,Kn),us=pn(Gn),ps=gn($n,Zn,Qn),co={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},hs=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},co),Ne=365.2425,Pn=30.436875,fs=Object.assign({years:{quarters:4,months:12,weeks:Ne/7,days:Ne,hours:24*Ne,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Ne/28,days:Ne/4,hours:24*Ne/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Pn/7,days:Pn,hours:24*Pn,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},co);function mo(_,l){var s;let d=null!==(s=l.milliseconds)&&void 0!==s?s:0;for(const i of un.slice(1))l[i]&&(d+=l[i]*_[i].milliseconds);return d}function bs(_,l){return void 0===_||0===_?void 0===l||0===l:_===l}class Gt{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(l){let d,i;"longterm"===l.conversionAccuracy?(i="longterm",d=fs):(i="casual",d=hs),l.matrix&&(d=l.matrix),this._values=l.values||{},this._loc=l.loc||y.create(),this._conversionAccuracy=i,this._invalid=l.invalid||null,this._matrix=d,this._isLuxonDuration=!0}static fromDurationLike(l){if(De(l))return Gt.fromMillis(l);if(Gt.isDuration(l))return l;if("object"==typeof l)return Gt.fromObject(l);throw new bt(`Unknown duration argument ${l} of type ${typeof l}`)}static fromISO(l,s){const[d]=function cs(_){return hn(_,[Ho,Wo])}(l);return d?Gt.fromObject(d,s):Gt.invalid("unparsable",`the input "${l}" can't be parsed as ISO 8601`)}static fromISOTime(l,s={}){const[d]=function ms(_){return hn(_,[Xo,gn($n)])}(l);return d?Gt.fromObject(d,s):Gt.invalid("unparsable",`the input "${l}" can't be parsed as ISO 8601`)}static fromMillis(l,s={}){return Gt.fromObject({milliseconds:l},s)}static fromObject(l,s={}){if(null==l||"object"!=typeof l)throw new bt("Duration.fromObject: argument expected to be an object, got "+(null===l?"null":typeof l));return new Gt({values:Nn(l,Gt.normalizeUnit),loc:y.fromObject(s),conversionAccuracy:s.conversionAccuracy,matrix:s.matrix})}static invalid(l,s){if(!l)throw new bt("need to specify a reason the Duration is invalid");const d=l instanceof ct?l:new ct(l,s);if(C.throwOnInvalid)throw new t(d);return new Gt({invalid:d})}static isDuration(l){return!!l&&l._isLuxonDuration||!1}static normalizeUnit(l){const s={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[l];if(!s)throw new v(l);return s}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(l){return this.shiftTo(l).get(l)}equals(l){if(!this.isValid||!l.isValid||!this._loc.equals(l._loc))return!1;for(const s of sn)if(!bs(this._values[s],l._values[s]))return!1;return!0}get(l){return this[Gt.normalizeUnit(l)]}getMaxUnit(l=!1){const s=l?Ti:sn,d=this.shiftTo(...s).toObject();return s.find(i=>(d[i]||0)>0)||un[0]}mapUnits(l){if(!this.isValid)return this;const s={};return Object.keys(this._values).forEach(d=>{s[d]=Ci(l(this._values[d],d))}),this._clone(this,{values:s},!0)}minus(l){if(!this.isValid)return this;const s=Gt.fromDurationLike(l);return this.plus(s.negate())}negate(){if(!this.isValid)return this;const l={};return Object.keys(this._values).forEach(s=>{l[s]=0===this._values[s]?0:-this._values[s]}),this._clone(this,{values:l},!0)}normalize(){if(!this.isValid)return this;const l=this.toObject();return function vs(_,l){const s=mo(_,l)<0?-1:1;un.reduce((d,i)=>{if(_e(l[i]))return d;if(d){const n=_[i][d],m=Math.floor(l[d]*s/n);l[i]+=m*s,l[d]-=m*n*s}return i},null),sn.reduce((d,i)=>{if(_e(l[i]))return d;if(d){const u=l[d]%1;l[d]-=u,l[i]+=u*_[d][i]}return i},null)}(this._matrix,l),this._clone(this,{values:l},!0)}plus(l){if(!this.isValid)return this;const s=Gt.fromDurationLike(l),d={};return sn.forEach(i=>{(void 0!==s._values[i]||void 0!==this._values[i])&&(d[i]=s.get(i)+this.get(i))}),this._clone(this,{values:d},!0)}reconfigure({locale:l,numberingSystem:s,conversionAccuracy:d,matrix:i}={}){const n={loc:this._loc.clone({locale:l,numberingSystem:s}),matrix:i,conversionAccuracy:d};return this._clone(this,n)}rescale(){if(!this.isValid)return this;const l=function ks(_={}){return Object.entries(_).reduce((l,[s,d])=>(0!==d&&(l[s]=d),l),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:l},!0)}set(l){if(!this.isValid)return this;const s=Object.assign(Object.assign({},this._values),Nn(l,Gt.normalizeUnit));return this._clone(this,{values:s})}shiftTo(...l){if(!this.isValid||0===l.length)return this;l=l.map(n=>Gt.normalizeUnit(n));const s={},d={},i=this.toObject();let u;return sn.forEach(n=>{if(l.indexOf(n)>=0){u=n;let m=0;Object.keys(d).forEach(h=>{m+=this._matrix[h][n]*d[h],d[h]=0}),De(i[n])&&(m+=i[n]);const c=Math.trunc(m);s[n]=c,d[n]=(1e3*m-1e3*c)/1e3}else De(i[n])&&(d[n]=i[n])}),Object.keys(d).forEach(n=>{const m=d[n];0!==m&&(s[u]+=n===u?m:m/this._matrix[u][n])}),this._clone(this,{values:s},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(l,s={floor:!0}){const d=Object.assign(Object.assign({},s),{floor:!1!==s.round&&!1!==s.floor});return this.isValid?ue.create(this._loc,d).formatDurationFromString(this,l):Gt._INVALID}toHuman(l={}){if(!this.isValid)return Gt._INVALID;const s=this.getMaxUnit(!0),d=l.onlyHumanUnits?Ti:sn,u=this.shiftTo(...d.slice(d.indexOf(s))).toObject(),n=d.map(c=>{const h=u[c];return _e(h)||0===h?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},l),{unit:c.slice(0,-1)})).format(h)}).filter(c=>c),m=Object.assign({type:"conjunction",style:l.listStyle||"narrow"},l);return this._loc.listFormatter(m).format(n)}toISO(){if(!this.isValid)return null;let l="P";return 0!==this.years&&(l+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(l+=this.months+3*this.quarters+"M"),0!==this.weeks&&(l+=this.weeks+"W"),0!==this.days&&(l+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(l+="T"),0!==this.hours&&(l+=this.hours+"H"),0!==this.minutes&&(l+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(l+=Wn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===l&&(l+="T0S"),l}toISOTime(l={}){if(!this.isValid)return null;const s=this.toMillis();return s<0||s>=864e5?null:(l=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},l),{includeOffset:!1}),st.fromMillis(s,{zone:"UTC"}).toISOTime(l))}toJSON(){return this.toISO()}toMillis(){return this.isValid?mo(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(l,s,d=!1){const i={values:d?s.values:Object.assign(Object.assign({},l._values),s.values||{}),loc:l._loc.clone(s.loc),conversionAccuracy:s.conversionAccuracy||l.conversionAccuracy,matrix:s.matrix||l.matrix};return new Gt(i)}}const zn="Invalid Interval";function ti(_){if(st.isDateTime(_))return _;if(_&&_.valueOf&&De(_.valueOf()))return st.fromJSDate(_);if(_&&"object"==typeof _)return st.fromObject(_);throw new bt(`Unknown datetime argument: ${_}, of type ${typeof _}`)}class te{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(l){this._s=l.start,this._e=l.end,this._invalid=l.invalid||null,this._isLuxonInterval=!0}static after(l,s){const d=Gt.fromDurationLike(s),i=ti(l);return new te({start:i,end:i?i.plus(d):void 0})}static before(l,s){const d=Gt.fromDurationLike(s),i=ti(l);return new te({start:i?i.minus(d):void 0,end:i})}static fromDateTimes(l,s){const d=ti(l),i=ti(s);return function xs(_,l){return _&&_.isValid?l&&l.isValid?l<_?te.invalid("end before start",`The end of an interval must be after its start, but you had start=${_.toISO()} and end=${l.toISO()}`):void 0:te.invalid("missing or invalid end"):te.invalid("missing or invalid start")}(d,i)||new te({start:d,end:i})}static fromISO(l,s={}){const[d,i]=(l||"").split("/",2);if(d&&i){let u,n,m,c;try{u=st.fromISO(d,s),n=u.isValid}catch{n=!1}try{m=st.fromISO(i,s),c=m.isValid}catch{c=!1}if(n&&c)return te.fromDateTimes(u,m);if(n){const h=Gt.fromISO(i,s);if(h.isValid)return te.after(u,h)}else if(c){const h=Gt.fromISO(d,s);if(h.isValid)return te.before(m,h)}}return te.invalid("unparsable",`the input "${l}" can't be parsed as ISO 8601`)}static invalid(l,s){if(!l)throw new bt("need to specify a reason the Interval is invalid");const d=l instanceof ct?l:new ct(l,s);if(C.throwOnInvalid)throw new x(d);return new te({invalid:d})}static isInterval(l){return!!l&&l._isLuxonInterval||!1}static merge(l){const[s,d]=l.sort((i,u)=>i._s.valueOf()-u._s.valueOf()).reduce(([i,u],n)=>u?u.overlaps(n)||u.abutsStart(n)?[i,u.union(n)]:[i.concat([u]),n]:[i,n],[[],null]);return d&&s.push(d),s}static xor(l){let s=null,d=0;const i=[],u=l.map(c=>[{time:c._s,type:"s"},{time:c._e,type:"e"}]),m=Array.prototype.concat(...u).sort((c,h)=>+c.time-+h.time);for(const c of m)d+="s"===c.type?1:-1,1===d?s=c.time:(s&&s.valueOf()!==c.time.valueOf()&&i.push(te.fromDateTimes(s,c.time)),s=null);return te.merge(i)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(l){return+l._e==+this._s}abutsStart(l){return+this._e==+l._s}contains(l){return this._s<=l&&this._e>l}count(l="milliseconds",s){if(!this.isValid)return NaN;const d=this.start.startOf(l,s);let i;return i=s?.useLocaleWeeks?this.end.reconfigure({locale:d.locale}):this.end,i=i.startOf(l,s),Math.floor(i.diff(d,l).get(l))+ +(i.valueOf()!==this.end.valueOf())}difference(...l){return te.xor([this].concat(l)).map(s=>this.intersection(s)).filter(s=>s&&!s.isEmpty())}divideEqually(l){return this.isValid?this.splitBy({milliseconds:this.length()/l}).slice(0,l):[]}engulfs(l){return!!this.isValid&&this._s<=l._s&&this._e>=l._e}equals(l){return!(!this.isValid||!l.isValid)&&this._s.equals(l._s)&&this._e.equals(l._e)}hasSame(l){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,l))}intersection(l){if(!this.isValid)return this;const s=this._s>l._s?this._s:l._s,d=this._e<l._e?this._e:l._e;return s>=d?null:te.fromDateTimes(s,d)}isAfter(l){return!!this.isValid&&this._s>l}isBefore(l){return!!this.isValid&&this._e<=l}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(l="milliseconds"){return this.toDuration(l).get(l)}mapEndpoints(l){return te.fromDateTimes(l(this._s),l(this._e))}overlaps(l){return this._e>l._s&&this._s<l._e}set({start:l,end:s}={}){return this.isValid?te.fromDateTimes(l||this._s,s||this._e):this}splitAt(...l){const s=l.map(ti).filter(n=>this.contains(n)).sort((n,m)=>n.toMillis()-m.toMillis()),d=[];let i=this._s,u=0;for(;i<this._e;){const n=s[u]||this._e,m=+n>+this._e?this._e:n;d.push(te.fromDateTimes(i,m)),i=m,u+=1}return d}splitBy(l){const s=Gt.fromDurationLike(l);if(!this.isValid||!s.isValid||0===s.as("milliseconds"))return[];let u,d=this._s,i=1;const n=[];for(;d<this._e;){const m=this.start.plus(s.mapUnits(c=>c*i));u=+m>+this._e?this._e:m,n.push(te.fromDateTimes(d,u)),d=u,i+=1}return n}toDuration(l="milliseconds",s={}){return this.isValid?this._e.diff(this._s,l,s):Gt.invalid(this._invalid.reason)}toFormat(l,{separator:s=" - "}={}){return this.isValid?`${this._s.toFormat(l)}${s}${this._e.toFormat(l)}`:zn}toISO(l={}){return this.isValid?`${this._s.toISO(l)}/${this._e.toISO(l)}`:zn}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:zn}toISOTime(l={}){return this.isValid?`${this._s.toISOTime(l)}/${this._e.toISOTime(l)}`:zn}toLocaleString(l=Ft,s={}){return this.isValid?ue.create(this._s.loc.clone(s),l).formatInterval(this):zn}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:zn}union(l){return this.isValid?te.fromDateTimes(this._s<l._s?this._s:l._s,this._e>l._e?this._e:l._e):this}}class ei{static eras(l="short",{locale:s}={}){return y.create(s,void 0,"gregory").eras(l)}static features(){return{relative:fi(),localeWeek:bi()}}static getMinimumDaysInFirstWeek({locale:l,locObj:s}={}){return(s||y.create(l)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:l,locObj:s}={}){return(s||y.create(l)).getStartOfWeek()}static getWeekendWeekdays({locale:l,locObj:s}={}){return(s||y.create(l)).getWeekendDays().slice()}static hasDST(l=C.defaultZone){const s=st.now().setZone(l).set({month:12});return!l.isUniversal&&s.offset!==s.set({month:6}).offset}static isValidIANAZone(l){return U.isValidZone(l)}static meridiems({locale:l}={}){return y.create(l).meridiems()}static months(l="long",{locale:s=null,locObj:d=null,numberingSystem:i=null,outputCalendar:u="gregory"}={}){return(d||y.create(s,i,u)).months(l)}static monthsFormat(l="long",{locale:s,locObj:d,numberingSystem:i,outputCalendar:u="gregory"}={}){return(d||y.create(s,i,u)).months(l,!0)}static normalizeZone(l){return Fe(l,C.defaultZone)}static weekdays(l="long",{locale:s,locObj:d,numberingSystem:i}={}){return(d||y.create(s,i)).weekdays(l)}static weekdaysFormat(l="long",{locale:s,locObj:d,numberingSystem:i}={}){return(d||y.create(s,i)).weekdays(l,!0)}}function _o(_,l){const s=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),d=s(l)-s(_);return Math.floor(Gt.fromMillis(d).as("days"))}function Bt(_,l=(s=>s)){return{regex:_,deser:([s])=>l(function wn(_){const l=parseInt(_,10);if(!isNaN(l))return l;let s="";for(let d=0;d<_.length;d++){const i=_.charCodeAt(d);if(-1!==_[d].search(bn.hanidec))s+=q.indexOf(_[d]);else for(const u in Re){const[n,m]=Re[u];if(i>=n&&i<=m){s+=i-n;break}}}return parseInt(s,10)}(s))}}const rn="[ \xa0]",Je=new RegExp(rn,"g");function Is(_){return _.replace(/\./g,"\\.?").replace(Je,rn)}function uo(_){return _.replace(/\./g,"").replace(Je," ").toLowerCase()}function Ye(_,l){return{regex:RegExp(_.map(Is).join("|")),deser:([s])=>_.findIndex(d=>uo(s)===uo(d))+l}}function po(_,l){return{regex:_,deser:([,s,d])=>Dn(s,d),groups:l}}function go(_){return{regex:_,deser:([l])=>l}}function ys(_){return _.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Os={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Hi;function ho(_,l){return Array.prototype.concat(..._.map(s=>function Ds(_,l){if(_.literal)return _;const d=vo(ue.macroTokenToFormatOpts(_.val),l);return null==d||d.includes(void 0)?_:d}(s,l)))}class fo{get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}get isValid(){return!this.disqualifyingUnit}constructor(l,s){this.locale=l,this.format=s,this._mapTokens()}explainFromTokens(l){if(this.isValid){const[s,d]=function Ms(_,l,s){const d=l.exec(_),i={};if(null!==d){let u=1;s.forEach(n=>{const m=n.groups?n.groups+1:1;n.literal||(i[n.token.val[0]]=n.deser(d.slice(u,u+m))),u+=m})}return[d,i]}(l,this.regex,this.handlers),[i,u,n]=d?function Fs(_){let d,s=null;return Ht(_.z)&&(s=U.create(_.z)),Ht(_.Z)&&(s||(s=new Dt(+_.Z)),d=+_.Z),Ht(_.q)&&(_.M=3*(_.q-1)+1),Ht(_.h)&&(+_.h<12&&1===_.a?_.h=_.h+12:12===_.h&&0===_.a&&(_.h=0)),0===_.G&&_.y&&(_.y=-_.y),Ht(_.u)&&(_.S=Hn(_.u)||0),[Object.keys(_).reduce((u,n)=>{const m=(u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return m&&(u[m]=_[n]),u},{}),s,d]}(d):[null,null,void 0];if(d.hasOwnProperty("a")&&d.hasOwnProperty("H"))throw new ft("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:this.tokens,regex:this.regex,rawMatches:s,matches:d,result:i,zone:u,specificOffset:n}}return{input:l,tokens:this.tokens,invalidReason:this.invalidReason}}_mapTokens(){this.tokens=ho(ue.parseFormat(this.format),this.locale);const l=this.tokens.map(s=>function js(_,l){const s=he(l),d=he(l,"{2}"),i=he(l,"{3}"),u=he(l,"{4}"),n=he(l,"{6}"),m=he(l,"{1,2}"),c=he(l,"{1,3}"),h=he(l,"{1,6}"),w=he(l,"{1,9}"),N=he(l,"{2,4}"),J=he(l,"{4,6}"),_t=xe=>({regex:RegExp(ys(xe.val)),deser:([mi])=>mi,literal:!0}),Ge=(xe=>{if(_.literal)return _t(xe);switch(xe.val){case"G":return Ye(l.eras("short"),0);case"GG":return Ye(l.eras("long"),0);case"y":return Bt(h);case"yy":case"kk":return Bt(N,Jn);case"yyyy":case"kkkk":return Bt(u);case"yyyyy":return Bt(J);case"yyyyyy":return Bt(n);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Bt(m);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Bt(d);case"MMM":return Ye(l.months("short",!0),1);case"MMMM":return Ye(l.months("long",!0),1);case"LLL":return Ye(l.months("short",!1),1);case"LLLL":return Ye(l.months("long",!1),1);case"o":case"S":return Bt(c);case"ooo":case"SSS":return Bt(i);case"u":return go(w);case"a":return Ye(l.meridiems(),0);case"E":case"c":return Bt(s);case"EEE":return Ye(l.weekdays("short",!1),1);case"EEEE":return Ye(l.weekdays("long",!1),1);case"ccc":return Ye(l.weekdays("short",!0),1);case"cccc":return Ye(l.weekdays("long",!0),1);case"Z":case"ZZ":return po(new RegExp(`([+-]${m.source})(?::(${d.source}))?`),2);case"ZZZ":return po(new RegExp(`([+-]${m.source})(${d.source})?`),2);case"z":return go(/[a-z_+-/]{1,256}?/i);default:return _t(xe)}})(_)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},Ge),{token:_})}(s,this.locale));if(this.disqualifyingUnit=l.find(s=>s.invalidReason),this.units=l.filter(s=>!s.invalidReason),!this.disqualifyingUnit){const[s,d]=function Es(_){return[`^${_.map(s=>s.regex).reduce((s,d)=>`${s}(${d.source})`,"")}$`,_]}(this.units);this.regex=RegExp(s,"i"),this.handlers=d}}}function bo(_,l,s){return new fo(_,s).explainFromTokens(l)}function Wi(_){return _.replace(/\u202F/g," ")}function vo(_,l){if(!_)return null;const d=ue.create(l,_).dtFormatter(function Rs(_){return void 0===Hi&&(Hi=st.fromMillis(1555555555555,{locale:_.locale})),Hi}(l)),i=d.formatToParts(),u=d.resolvedOptions();return i.map(n=>function ws(_,l,s){const{type:d,value:i}=_;if("literal"===d){const c=/^\s+$/.test(i);return{literal:!c,val:c?" ":i}}let n=d;"hour"===d&&(n=null!=l.hour12?l.hour12?"hour12":"hour24":null!=l.hourCycle?"h11"===l.hourCycle||"h12"===l.hourCycle?"hour12":"hour24":s.hour12?"hour12":"hour24");let m=Os[n];if("object"==typeof m&&(m=m[l[d]]),m)return{literal:!1,val:m}}(n,_,u))}const Ji="Invalid DateTime",ko=864e13;function xo(_,l,s){let d=_-60*l*1e3;const i=s.offset(d);if(l===i)return[d,l];d-=60*(i-l)*1e3;const u=s.offset(d);return i===u?[d,i]:[_-60*Math.min(i,u)*1e3,Math.max(i,u)]}function yi(_,l){const s=new Date(_+=60*l*1e3);return{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}function ji(_,l,s){return xo(Rn(_),l,s)}function An(_,l,s,d,i,u){const{setZone:n,zone:m}=s;if(_&&0!==Object.keys(_).length||l){const c=l||m,h=st.fromObject(_||void 0,Object.assign(Object.assign({},s),{zone:c,specificOffset:u}));return n?h:h.setZone(m)}return st.invalid(new ct("unparsable",`the input "${i}" can't be parsed as ${d}`))}function Oi(_,l,s=!0){return _.isValid?ue.create(y.create("en-US"),{allowZ:s,forceSimple:!0}).formatDateTimeFromString(_,l):null}const Co={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Gs={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$s={ordinal:1,hour:0,minute:0,second:0,millisecond:0},To=["year","month","day","hour","minute","second","millisecond"],Ps=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zs=["year","ordinal","hour","minute","second","millisecond"];function So(_){const l=Bi[_.toLowerCase()];if(!l)throw new v(_);return l}class st{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return Fn(this.year,this.month)}get daysInYear(){return this.isValid?_n(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Sn(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?ei.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?ei.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?Yn(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?ei.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?ei.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?We(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?We(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(l){const s=l.zone||C.defaultZone;let i,u,d=l.invalid||(Number.isNaN(l.ts)?new ct("invalid timestamp"):null)||(s.isValid?null:st._unsupportedZone(s));if(this._ts=_e(l.ts)?C.now():l.ts,!d)if(l.old&&l.old.ts===this._ts&&l.old.zone.equals(s))[u,i]=[l.old.c,l.old.o];else{const m=De(l.o)&&!l.old?l.o:s.offset(this.ts);u=yi(this._ts,m),d=Number.isNaN(u.year)?new ct("invalid input"):null,u=d?void 0:u,i=d?void 0:m}this._zone=s,this._loc=l.loc||y.create(),this._invalid=d,this._weekData=null,this._c=u,this._o=i,this._isLuxonDateTime=!0}static buildFormatParser(l,s={}){const{locale:d=null,numberingSystem:i=null}=s,u=y.fromOpts({locale:d,numberingSystem:i,defaultToEN:!0});return new fo(u,l)}static expandFormat(l,s={}){return ho(ue.parseFormat(l),y.fromObject(s)).map(i=>i.val).join("")}static fromFormat(l,s,d={}){if(_e(l)||_e(s))throw new bt("fromFormat requires an input string and a format");const{locale:i,numberingSystem:u}=d,n=y.fromOpts({locale:i,numberingSystem:u,defaultToEN:!0}),[m,c,h,w]=function Ns(_,l,s){const{result:d,zone:i,specificOffset:u,invalidReason:n}=bo(_,Wi(l),Wi(s));return[d,i,u,n]}(n,l,s);return w?st.invalid(w):An(m,c||null,d,`format ${s}`,l,h)}static fromFormatExplain(l,s,d={}){const{locale:i,numberingSystem:u}=d;return bo(y.fromOpts({locale:i,numberingSystem:u,defaultToEN:!0}),l,s)}static fromFormatParser(l,s,d={}){if(_e(l)||_e(s))throw new bt("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:u=null}=d,n=y.fromOpts({locale:i,numberingSystem:u,defaultToEN:!0});if(!n.equals(s.locale))throw new bt(`fromFormatParser called with a locale of ${n}, but the format parser was created for ${s.locale}`);const{result:m,zone:c,specificOffset:h,invalidReason:w}=s.explainFromTokens(l);return w?st.invalid(w):An(m,c,d,`format ${s.format}`,l,h)}static fromHTTP(l,s={}){const[d,i]=function rs(_){return hn(_,[ao,ro],[qo,ro],[qn,ts])}(l);return An(d,i,s,"HTTP",l)}static fromISO(l,s={}){const[d,i]=function ls(_){return hn(_,[es,lo],[ns,os],[Xi,ss],[is,as])}(l);return An(d,i,s,"ISO 8601",l)}static fromJSDate(l,s={}){const d=function Pi(_){return"[object Date]"===Object.prototype.toString.call(_)}(l)?l.valueOf():NaN;if(Number.isNaN(d))return st.invalid("invalid input");const i=Fe(s.zone,C.defaultZone);return i.isValid?new st({ts:d,zone:i,loc:y.fromObject(s)}):st.invalid(st._unsupportedZone(i))}static fromMillis(l,s={}){if(De(l))return l<-ko||l>ko?st.invalid("Timestamp out of range"):new st({ts:l,zone:Fe(s.zone,C.defaultZone),loc:y.fromObject(s)});throw new bt(`fromMillis requires a numerical input, but received a ${typeof l} with value ${l}`)}static fromObject(l={},s={}){const d=Fe(s.zone,C.defaultZone);if(!d.isValid)return st.invalid(st._unsupportedZone(d));const i=y.fromObject(s),u=Nn(l,So),n=C.now(),m=De(s.specificOffset)?s.specificOffset:d.offset(n),c=Ht(u.ordinal),h=Ht(u.year),w=Ht(u.month)||Ht(u.day),N=h||w,J=u.weekYear||u.weekNumber;if((N||c)&&J)throw new ft("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&c)throw new ft("Can't mix ordinal dates with month/day");const _t=J||u.weekday&&!N,{minDaysInFirstWeek:Vt,startOfWeek:Ge}=hi(u,i),xe=yi(n,m),mi={containsGregor:N,containsOrdinal:c,loc:i,normalized:u,obj:l,offsetProvis:m,useWeekData:_t,zoneToUse:d};return _t?st._buildObject(mi,Ps,Gs,Cn(xe,Vt,Ge)):c?st._buildObject(mi,zs,$s,Yn(xe)):st._buildObject(mi,To,Co,xe)}static fromRFC2822(l,s={}){const[d,i]=function ds(_){return hn(function Qo(_){return _.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(_),[Ko,Zo])}(l);return An(d,i,s,"RFC 2822",l)}static fromSQL(l,s={}){const[d,i]=function gs(_){return hn(_,[_s,lo],[us,ps])}(l);return An(d,i,s,"SQL",l)}static fromSeconds(l,s={}){if(!De(l))throw new bt("fromSeconds requires a numerical input");return new st({ts:1e3*l,zone:Fe(s.zone,C.defaultZone),loc:y.fromObject(s)})}static fromString(l,s,d={}){return st.fromFormat(l,s,d)}static fromStringExplain(l,s,d={}){return st.fromFormatExplain(l,s,d)}static invalid(l,s){if(!l)throw new bt("need to specify a reason the DateTime is invalid");const d=l instanceof ct?l:new ct(l,s);if(C.throwOnInvalid)throw new r(d);return new st({invalid:d})}static isDateTime(l){return!(!l||!l._isLuxonDateTime)}static local(...l){const[s,d]=this._lastOpts(l),[i,u,n,m,c,h,w]=d;return st._quickDT({year:i,month:u,day:n,hour:m,minute:c,second:h,millisecond:w},s)}static max(...l){if(!l.every(st.isDateTime))throw new bt("max requires all arguments be DateTimes");return vi(l,s=>s.valueOf(),Math.max)}static min(...l){if(!l.every(st.isDateTime))throw new bt("min requires all arguments be DateTimes");return vi(l,s=>s.valueOf(),Math.min)}static now(){return new st({})}static parseFormatForOpts(l,s={}){const d=vo(l,y.fromObject(s));return d?d.map(i=>i?i.val:null).join(""):null}static resetCache(){this._zoneOffsetTs=void 0,this._zoneOffsetGuessCache=new Map}static utc(...l){const[s,d]=this._lastOpts(l),[i,u,n,m,c,h,w]=d;return s.zone=Dt.utcInstance,this._quickDT({year:i,month:u,day:n,hour:m,minute:c,second:h,millisecond:w},s)}static _buildObject(l,s,d,i){let u=!1;s.forEach(J=>{Ht(l.normalized[J])?u=!0:l.normalized[J]=u?d[J]:i[J]});const m=(l.useWeekData?function Tn(_,l=4,s=1){const d=Mn(_.weekYear),i=Te(_.weekNumber,1,We(_.weekYear,l,s)),u=Te(_.weekday,1,7);return d?i?!u&&G("weekday",_.weekday):G("week",_.weekNumber):G("weekYear",_.weekYear)}(l.normalized):l.containsOrdinal?function Gi(_){const l=Mn(_.year),s=Te(_.ordinal,1,_n(_.year));return l?!s&&G("ordinal",_.ordinal):G("year",_.year)}(l.normalized):pi(l.normalized))||gi(l.normalized);if(m)return st.invalid(m);const c=l.useWeekData?_i(l.normalized):l.containsOrdinal?ui(l.normalized):l.normalized,[h,w]=ji(c,l.offsetProvis,l.zoneToUse),N=new st({ts:h,zone:l.zoneToUse,o:w,loc:l.loc});return l.normalized.weekday&&l.containsGregor&&l.obj.weekday!==N.weekday?st.invalid("mismatched weekday",`you can't specify both a weekday of ${l.normalized.weekday} and a date of ${N.toISO()}`):N.isValid?N:st.invalid(N._invalid)}static _diffRelative(l,s,d){const i=!!_e(d.round)||d.round,u=(m,c)=>(m=Wn(m,i||d.calendary?0:2,!0),s._loc.clone(d).relFormatter(d).format(m,c)),n=m=>d.calendary?s.hasSame(l,m)?0:s.startOf(m).diff(l.startOf(m),m).get(m):s.diff(l,m).get(m);if(d.unit)return u(n(d.unit),d.unit);for(const m of d.units){const c=n(m);if(Math.abs(c)>=1)return u(c,m)}return u(l>s?-0:0,d.units[d.units.length-1])}static _guessOffsetForZone(l){return this._zoneOffsetGuessCache.has(l)||(void 0===this._zoneOffsetTs&&(this._zoneOffsetTs=C.now()),this._zoneOffsetGuessCache.set(l,l.offset(this._zoneOffsetTs))),this._zoneOffsetGuessCache.get(l)}static _lastOpts(l){let d,s={};return l.length>0&&"object"==typeof l[l.length-1]?(s=l.pop(),d=l):d=Array.from(l),[s,d]}static _quickDT(l,s){const d=Fe(s.zone,C.defaultZone);if(!d.isValid)return st.invalid(this._unsupportedZone(d));const i=y.fromObject(s),u=C.now();let n,m;if(Ht(l.year)){for(const w of To)_e(l[w])&&(l[w]=Co[w]);const c=pi(l)||gi(l);if(c)return st.invalid(c);const h=this._guessOffsetForZone(d);[n,m]=ji(l,h,d)}else n=u;return new st({ts:n,zone:d,loc:i,o:m})}static _unsupportedZone(l){return new ct("unsupported zone",`the zone "${l.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(l,s="milliseconds",d={}){if(!this.isValid||!l.isValid)return Gt.invalid(this.invalidReason||l.invalidReason,"created by diffing an invalid DateTime");const i=function zi(_){return Array.isArray(_)?_:[_]}(s).map(Gt.normalizeUnit),u=l.valueOf()>this.valueOf(),c=((_,l,s,d)=>{let[i,u,n,m]=function Cs(_,l,s){const d=[["years",(c,h)=>h.year-c.year],["quarters",(c,h)=>h.quarter-c.quarter+4*(h.year-c.year)],["months",(c,h)=>h.month-c.month+12*(h.year-c.year)],["weeks",(c,h)=>{const w=_o(c,h);return(w-w%7)/7}],["days",_o]],i={},u=_;let n,m;for(const[c,h]of d)s.indexOf(c)>=0&&(n=c,i[c]=h(_,l),m=u.plus(i),m>l?(i[c]--,(_=u.plus(i))>l&&(m=_,i[c]--,_=u.plus(i))):_=m);return[_,i,m,n]}(_,l,s);const c=+l-+i,h=s.filter(N=>["hours","minutes","seconds","milliseconds"].indexOf(N)>=0);0===h.length&&(n<l&&(n=i.plus({[m]:1})),n!==i&&(u[m]=(u[m]||0)+c/(+n-+i)));const w=Gt.fromObject(u,d);return h.length>0?Gt.fromMillis(c,d).shiftTo(...h).plus(w):w})(u?this:l,u?l:this,i,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},d));return u?c.negate():c}diffNow(l="milliseconds",s={}){return this.diff(st.now(),l,s)}endOf(l,{useLocaleWeeks:s=!1}={}){return this.plus({[l]:1}).startOf(l,{useLocaleWeeks:s}).minus({milliseconds:1})}equals(l){return this.valueOf()===l.valueOf()&&this.zone.equals(l.zone)&&this._loc.equals(l._loc)}get(l){return this[l]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const l=864e5,s=6e4,d=Rn(this._c),i=this.zone.offset(d-l),u=this.zone.offset(d+l),n=this.zone.offset(d-i*s),m=this.zone.offset(d-u*s);if(n===m)return[this];const c=d-n*s,h=d-m*s,w=yi(c,n),N=yi(h,m);return w.hour===N.hour&&w.minute===N.minute&&w.second===N.second&&w.millisecond===N.millisecond?[this._clone({ts:c}),this._clone({ts:h})]:[this]}hasSame(l,s,d){if(!this.isValid)return!1;const i=l.valueOf(),u=this.setZone(l.zone,{keepLocalTime:!0});return+u.startOf(s)<=i&&i<=+u.endOf(s,d)}minus(l){if(!this.isValid)return this;const s=Gt.fromDurationLike(l).negate();return this._clone(this._adjustTime(s))}plus(l){if(!this.isValid)return this;const s=Gt.fromDurationLike(l);return this._clone(this._adjustTime(s))}reconfigure(l){const s=this._loc.clone(l);return this._clone({loc:s})}resolvedLocaleOptions(l={}){const{locale:s,numberingSystem:d,calendar:i}=ue.create(this._loc.clone(l),l).resolvedOptions(this);return{locale:s,numberingSystem:d,outputCalendar:i}}set(l){if(!this.isValid)return this;const s=Nn(l,So),{minDaysInFirstWeek:d,startOfWeek:i}=hi(s,this.loc),u=Ht(s.weekYear)||Ht(s.weekNumber)||Ht(s.weekday),n=Ht(s.ordinal),m=Ht(s.year),c=Ht(s.month)||Ht(s.day);if((m||c||n)&&(s.weekYear||s.weekNumber))throw new ft("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&n)throw new ft("Can't mix ordinal dates with month/day");let N;u?N=_i(Object.assign(Object.assign({},Cn(this._c,d,i)),s),d,i):_e(s.ordinal)?(N=Object.assign(Object.assign({},this.toObject()),s),_e(s.day)&&(N.day=Math.min(Fn(N.year,N.month),N.day))):N=ui(Object.assign(Object.assign({},Yn(this._c)),s));const[J,_t]=ji(N,this._o,this.zone);return this._clone({ts:J,o:_t})}setLocale(l){return this.reconfigure({locale:l})}setZone(l,{keepLocalTime:s=!1,keepCalendarTime:d=!1}={}){if((l=Fe(l,C.defaultZone)).equals(this.zone))return this;if(l.isValid){let i=this._ts;if(s||d){const u=l.offset(this._ts);i=ji(this.toObject(),u,l)[0]}return this._clone({ts:i,zone:l})}return st.invalid(st._unsupportedZone(l))}startOf(l,{useLocaleWeeks:s=!1}={}){if(!this.isValid)return this;const d={},i=Gt.normalizeUnit(l);switch(i){case"years":d.month=1;case"quarters":case"months":d.day=1;case"weeks":case"days":d.hour=0;case"hours":d.minute=0;case"minutes":d.second=0;case"seconds":d.millisecond=0}if("weeks"===i)if(s){const u=this.loc.getStartOfWeek(),{weekday:n}=this;n<u&&(d.weekNumber=this.weekNumber-1),d.weekday=u}else d.weekday=1;if("quarters"===i){const u=Math.ceil(this.month/3);d.month=3*(u-1)+1}return this.set(d)}toBSON(){return this.toJSDate()}toFormat(l,s={}){return this.isValid?ue.create(this._loc.redefaultToEN(s)).formatDateTimeFromString(this,l):Ji}toHTTP(){return Oi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:l="extended",suppressSeconds:s=!1,suppressMilliseconds:d=!1,includeOffset:i=!0,extendedZone:u=!1}={}){if(!this.isValid)return null;const n="extended"===l;return[this._toISODate(n),"T",this._toISOTime(n,s,d,i,u)].join("")}toISODate({format:l="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===l):null}toISOTime({suppressMilliseconds:l=!1,suppressSeconds:s=!1,includeOffset:d=!0,includePrefix:i=!1,extendedZone:u=!1,format:n="extended"}={}){return this.isValid?[i?"T":"",this._toISOTime("extended"===n,s,l,d,u)].join(""):null}toISOWeekDate(){return Oi(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(C.defaultZone)}toLocaleParts(l={}){return this.isValid?ue.create(this._loc.clone(l),l).formatDateTimeParts(this):[]}toLocaleString(l=Ft,s={}){return this.isValid?ue.create(this._loc.clone(s),l).formatDateTime(this):Ji}toMillis(){return this.isValid?this.ts:NaN}toObject(l={includeConfig:!1}){if(!this.isValid)return{};const s=Object.assign({},this._c);return l.includeConfig&&(s.outputCalendar=this.outputCalendar,s.numberingSystem=this._loc.numberingSystem,s.locale=this._loc.locale),s}toRFC2822(){return Oi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(l={}){if(!this.isValid)return null;const s=l.base||st.fromObject({},{zone:this.zone}),d=l.padding?this<s?-l.padding:l.padding:0;let i=["years","months","days","hours","minutes","seconds"],u=l.unit;return Array.isArray(l.unit)&&(i=l.unit,u=void 0),st._diffRelative(s,this.plus(d),Object.assign(Object.assign({},l),{numeric:"always",units:i,unit:u}))}toRelativeCalendar(l={}){return this.isValid?st._diffRelative(l.base||st.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},l),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(l={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(l)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:l=!0,includeZone:s=!1,includeOffsetSpace:d=!0}={}){let i="HH:mm:ss.SSS";return(s||l)&&(d&&(i+=" "),s?i+="z":l&&(i+="ZZ")),Oi(this,i,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():Ji}toUTC(l=0,s={}){return this.setZone(Dt.instance(l),s)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(l){return te.fromDateTimes(this,l)}valueOf(){return this.toMillis()}_adjustTime(l){const s=this._o,d=this._c.year+Math.trunc(l.years),i=this._c.month+Math.trunc(l.months)+3*Math.trunc(l.quarters),u=Object.assign(Object.assign({},this._c),{year:d,month:i,day:Math.min(this._c.day,Fn(d,i))+Math.trunc(l.days)+7*Math.trunc(l.weeks)}),n=Gt.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds"),m=Rn(u);let[c,h]=xo(m,s,this.zone);return 0!==n&&(c+=n,h=this.zone.offset(c)),{ts:c,o:h}}_clone(l){const s={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new st(Object.assign(Object.assign(Object.assign({},s),l),{old:s}))}_possiblyCachedLocalWeekData(l){return l._localWeekData||(l._localWeekData=Cn(l._c,l.loc.getMinDaysInFirstWeek(),l.loc.getStartOfWeek())),l._localWeekData}_possiblyCachedWeekData(l){return null===l._weekData&&(l._weekData=Cn(l._c)),l._weekData}_toISODate(l){const s=this._c.year>9999||this._c.year<0;let d="";return s&&this._c.year>=0&&(d+="+"),d+=qt(this._c.year,s?6:4),l?(d+="-",d+=qt(this._c.month),d+="-",d+=qt(this._c.day)):(d+=qt(this._c.month),d+=qt(this._c.day)),d}_toISOTime(l,s,d,i,u){let n=qt(this._c.hour);return l?(n+=":",n+=qt(this._c.minute),(0!==this._c.millisecond||0!==this._c.second||!s)&&(n+=":")):n+=qt(this._c.minute),(0!==this._c.millisecond||0!==this._c.second||!s)&&(n+=qt(this._c.second),(0!==this._c.millisecond||!d)&&(n+=".",n+=qt(this._c.millisecond,3))),i&&(this.isOffsetFixed&&0===this.offset&&!u?n+="Z":this._o<0?(n+="-",n+=qt(Math.trunc(-this._o/60)),n+=":",n+=qt(Math.trunc(-this._o%60))):(n+="+",n+=qt(Math.trunc(this._o/60)),n+=":",n+=qt(Math.trunc(this._o%60)))),u&&(n+="["+this.zone.ianaName+"]"),n}}st.DATETIME_FULL=Et,st.DATETIME_FULL_WITH_SECONDS=Xt,st.DATETIME_HUGE=ie,st.DATETIME_HUGE_WITH_SECONDS=Se,st.DATETIME_MED=B,st.DATETIME_MED_WITH_SECONDS=$,st.DATETIME_MED_WITH_WEEKDAY=pt,st.DATETIME_SHORT=ut,st.DATETIME_SHORT_WITH_SECONDS=K,st.DATE_FULL=le,st.DATE_HUGE=me,st.DATE_MED=Yt,st.DATE_MED_WITH_WEEKDAY=Jt,st.DATE_SHORT=Ft,st.TIME_24_SIMPLE=kt,st.TIME_24_WITH_LONG_OFFSET=Ut,st.TIME_24_WITH_SECONDS=Ot,st.TIME_24_WITH_SHORT_OFFSET=Ct,st.TIME_SIMPLE=ee,st.TIME_WITH_LONG_OFFSET=Lt,st.TIME_WITH_SECONDS=Qt,st.TIME_WITH_SHORT_OFFSET=jt,st._zoneOffsetGuessCache=new Map;var $t=g(54460),Ke=g(89163),Ze=g(39471),jn=g(63552),Ln=g(71217),ni=g(18447),Ki=g(5424),ii=g(88249),oi=g(82040),Io=g(47947),As=g(66645),Qe=g(71204),ve=g(10936),qe=g(30470),Bn=g(4375),yo=g(47426),On=g(74960),Zi=g(53904),Qi=g(97839),Ls=g(46192);const Bs=["clockFace"],Vs=["clockHand"],si=function(_){return{transform:_}};function Ys(_,l){if(1&_&&(o.j41(0,"button",9),o.nI1(1,"activeHour"),o.EFF(2),o.nI1(3,"timeLocalizer"),o.k0s()),2&_){const s=l.$implicit,d=o.XpG();o.Y8G("color",o.brH(1,4,s.time,null==d.selectedTime?null:d.selectedTime.time,d.isClockFaceDisabled)?d.color:void 0)("ngStyle",o.eq3(11,si,"rotateZ(-"+s.angle+"deg)"))("disabled",s.disabled),o.R7$(2),o.SpI(" ",o.i5U(3,8,s.time,d.timeUnit.HOUR)," ")}}function Us(_,l){if(1&_&&(o.j41(0,"div",12)(1,"button",9),o.nI1(2,"activeMinute"),o.EFF(3),o.nI1(4,"timeLocalizer"),o.nI1(5,"minutesFormatter"),o.k0s()()),2&_){const s=l.$implicit,d=o.XpG(2);o.Y8G("ngStyle",o.eq3(16,si,"rotateZ("+s.angle+"deg)")),o.R7$(1),o.Y8G("color",o.ii3(2,5,s.time,null==d.selectedTime?null:d.selectedTime.time,d.minutesGap,d.isClockFaceDisabled)?d.color:void 0)("ngStyle",o.eq3(18,si,"rotateZ(-"+s.angle+"deg)"))("disabled",s.disabled),o.R7$(2),o.SpI(" ",o.i5U(4,10,o.i5U(5,13,s.time,d.minutesGap),d.timeUnit.MINUTE)," ")}}function Xs(_,l){if(1&_&&(o.j41(0,"div",10),o.DNE(1,Us,6,20,"div",11),o.k0s()),2&_){const s=o.XpG();o.R7$(1),o.Y8G("ngForOf",s.faceTime)("ngForTrackBy",s.trackByTime)}}function Hs(_,l){1&_&&o.SdG(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const jo=function(_){return{$implicit:_}};function Ws(_,l){if(1&_&&(o.j41(0,"div",12),o.DNE(1,Hs,1,0,"ng-content",14),o.k0s()),2&_){const s=l.$implicit;o.XpG(2);const d=o.sdS(1);o.Y8G("ngStyle",o.eq3(3,si,"rotateZ("+s.angle+"deg)")),o.R7$(1),o.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",o.eq3(5,jo,s))}}function Js(_,l){1&_&&o.SdG(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Ks(_,l){if(1&_&&(o.j41(0,"div",17),o.DNE(1,Js,1,0,"ng-content",14),o.k0s()),2&_){const s=l.$implicit,d=o.XpG(3),i=o.sdS(1);o.xc7("top","calc(50% - "+d.innerClockFaceSize+"px)")("height",d.innerClockFaceSize,"px"),o.Y8G("ngStyle",o.eq3(7,si,"rotateZ("+s.angle+"deg)")),o.R7$(1),o.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",o.eq3(9,jo,s))}}function Zs(_,l){if(1&_&&(o.j41(0,"div",15),o.DNE(1,Ks,2,11,"div",16),o.nI1(2,"slice"),o.k0s()),2&_){const s=o.XpG(2);o.R7$(1),o.Y8G("ngForOf",o.brH(2,2,s.faceTime,12,24))("ngForTrackBy",s.trackByTime)}}function Qs(_,l){if(1&_&&(o.j41(0,"div",10),o.DNE(1,Ws,2,7,"div",11),o.nI1(2,"slice"),o.DNE(3,Zs,3,6,"div",13),o.k0s()),2&_){const s=o.XpG();o.R7$(1),o.Y8G("ngForOf",o.brH(2,3,s.faceTime,0,12))("ngForTrackBy",s.trackByTime),o.R7$(2),o.Y8G("ngIf",s.faceTime.length>12)}}function qs(_,l){if(1&_&&(o.j41(0,"button",18),o.nrm(1,"span",19),o.k0s()),2&_){const s=o.XpG();o.Y8G("color",s.color)}}const qi=["*","*"],ta=function(_){return{"clock-face__clock-hand_minute":_}};function ea(_,l){if(1&_){const s=o.RV6();o.j41(0,"div",5),o.bIt("@scaleInOut.done",function(){o.eBV(s);const i=o.XpG(2);return o.Njj(i.animationDone())}),o.j41(1,"p"),o.EFF(2,"Current time would be invalid in this period."),o.k0s()()}2&_&&o.Y8G("@scaleInOut",void 0)}function Oo(_,l){if(1&_&&o.DNE(0,ea,3,1,"div",4),2&_){const s=o.XpG();o.Y8G("ngIf",!s.isPeriodAvailable)}}const ai=function(_){return{active:_}};function na(_,l){if(1&_){const s=o.RV6();o.j41(0,"input",2),o.bIt("ngModelChange",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.time=i)})("input",function(){o.eBV(s);const i=o.XpG();return o.Njj(i.updateTime())})("focus",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.saveTimeAndChangeTimeUnit(i,u.timeUnit))}),o.nI1(1,"timeLocalizer"),o.k0s()}if(2&_){const s=o.XpG();o.Y8G("ngClass",o.eq3(8,ai,s.isActive))("ngModel",o.brH(1,4,s.time,s.timeUnit,!0))("disabled",s.disabled)("ngxMatTimepickerAutofocus",s.isActive)}}function ia(_,l){if(1&_){const s=o.RV6();o.j41(0,"input",3),o.bIt("ngModelChange",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.onModelChange(i))})("input",function(){o.eBV(s);const i=o.XpG();return o.Njj(i.updateTime())})("focus",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.saveTimeAndChangeTimeUnit(i,u.timeUnit))})("keydown",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.onKeydown(i))})("keypress",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.changeTimeByKeyboard(i))}),o.nI1(1,"timeLocalizer"),o.nI1(2,"ngxMatTimepickerParser"),o.k0s()}if(2&_){const s=o.XpG();o.Y8G("ngClass",o.eq3(11,ai,s.isActive))("ngModel",o.brH(1,4,o.i5U(2,8,s.time,s.timeUnit),s.timeUnit,!0))("disabled",s.disabled)("ngxMatTimepickerAutofocus",s.isActive)}}function oa(_,l){if(1&_){const s=o.RV6();o.j41(0,"ngx-mat-timepicker-period",7),o.bIt("periodChanged",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.changePeriod(i))}),o.k0s()}if(2&_){const s=o.XpG();o.Y8G("selectedPeriod",s.period)("activeTimeUnit",s.activeTimeUnit)("maxTime",s.maxTime)("minTime",s.minTime)("format",s.format)("hours",s.hours)("minutes",s.minutes)("selectedHour",s.hour)("meridiems",s.meridiems)}}function sa(_,l){1&_&&o.eu8(0)}function aa(_,l){1&_&&(o.j41(0,"small",11),o.EFF(1," * use arrows ("),o.j41(2,"span"),o.EFF(3,"\u21c5"),o.k0s(),o.EFF(4,") to change the time"),o.k0s())}const ra=function(_){return{"timepicker-dial__hint-container--hidden":_}};function la(_,l){if(1&_&&(o.j41(0,"div",8),o.DNE(1,sa,1,0,"ng-container",9),o.DNE(2,aa,5,0,"ng-template",null,10,o.C5r),o.k0s()),2&_){const s=o.sdS(3),d=o.XpG();o.Y8G("ngClass",o.eq3(2,ra,!d.isHintVisible)),o.R7$(1),o.Y8G("ngTemplateOutlet",d.editableHintTmpl?d.editableHintTmpl:s)}}function ca(_,l){1&_&&o.eu8(0)}function ma(_,l){if(1&_&&(o.j41(0,"div"),o.DNE(1,ca,1,0,"ng-container",3),o.k0s()),2&_){o.XpG();const s=o.sdS(4);o.R7$(1),o.Y8G("ngTemplateOutlet",s)}}function da(_,l){1&_&&o.eu8(0)}function _a(_,l){if(1&_&&o.DNE(0,da,1,0,"ng-container",3),2&_){o.XpG();const s=o.sdS(4);o.Y8G("ngTemplateOutlet",s)}}function ua(_,l){1&_&&o.SdG(0)}const pa=["*"];function ga(_,l){if(1&_&&(o.j41(0,"button",14),o.EFF(1,"CANCEL "),o.k0s()),2&_){const s=o.XpG();o.Y8G("color",s.color)}}function ha(_,l){if(1&_&&(o.j41(0,"button",14),o.EFF(1,"OK "),o.k0s()),2&_){const s=o.XpG();o.Y8G("color",s.color)}}function fa(_,l){if(1&_){const s=o.RV6();o.j41(0,"ngx-mat-timepicker-24-hours-face",17),o.bIt("hourChange",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourChange(i))})("hourSelected",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourSelected(i))}),o.nI1(1,"async"),o.k0s()}if(2&_){const s=o.XpG(2);o.Y8G("color",s.color)("selectedHour",o.bMT(1,5,s.selectedHour))("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)}}function ba(_,l){if(1&_){const s=o.RV6();o.j41(0,"ngx-mat-timepicker-12-hours-face",18),o.bIt("hourChange",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourChange(i))})("hourSelected",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourSelected(i))}),o.nI1(1,"async"),o.nI1(2,"async"),o.k0s()}if(2&_){const s=o.XpG(2);o.Y8G("color",s.color)("selectedHour",o.bMT(1,5,s.selectedHour))("period",o.bMT(2,7,s.selectedPeriod))("minTime",s.data.minTime)("maxTime",s.data.maxTime)}}function va(_,l){if(1&_&&(o.j41(0,"div"),o.DNE(1,fa,2,7,"ngx-mat-timepicker-24-hours-face",15),o.DNE(2,ba,3,9,"ng-template",null,16,o.C5r),o.k0s()),2&_){const s=o.sdS(3),d=o.XpG();o.R7$(1),o.Y8G("ngIf",24===d.data.format)("ngIfElse",s)}}function ka(_,l){if(1&_){const s=o.RV6();o.j41(0,"ngx-mat-timepicker-minutes-face",19),o.bIt("minuteChange",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.onMinuteChange(i))}),o.nI1(1,"async"),o.nI1(2,"async"),o.nI1(3,"async"),o.k0s()}if(2&_){const s=o.XpG();let d;o.Y8G("color",s.color)("selectedMinute",o.bMT(1,8,s.selectedMinute))("selectedHour",null==(d=o.bMT(2,10,s.selectedHour))?null:d.time)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)("period",o.bMT(3,12,s.selectedPeriod))("minutesGap",s.data.minutesGap)}}function xa(_,l){1&_&&o.eu8(0)}function Ca(_,l){1&_&&o.eu8(0)}function wo(_,l){if(1&_&&(o.j41(0,"button",14),o.EFF(1,"CANCEL "),o.k0s()),2&_){const s=o.XpG();o.Y8G("color",s.color)}}function Ta(_,l){if(1&_&&(o.j41(0,"button",14),o.EFF(1,"OK "),o.k0s()),2&_){const s=o.XpG();o.Y8G("color",s.color)}}function Sa(_,l){if(1&_){const s=o.RV6();o.j41(0,"ngx-mat-timepicker-24-hours-face",17),o.bIt("hourChange",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourChange(i))})("hourSelected",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourSelected(i))}),o.nI1(1,"async"),o.k0s()}if(2&_){const s=o.XpG(2);o.Y8G("color",s.color)("selectedHour",o.bMT(1,5,s.selectedHour))("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)}}function Ia(_,l){if(1&_){const s=o.RV6();o.j41(0,"ngx-mat-timepicker-12-hours-face",18),o.bIt("hourChange",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourChange(i))})("hourSelected",function(i){o.eBV(s);const u=o.XpG(2);return o.Njj(u.onHourSelected(i))}),o.nI1(1,"async"),o.nI1(2,"async"),o.k0s()}if(2&_){const s=o.XpG(2);o.Y8G("color",s.color)("selectedHour",o.bMT(1,5,s.selectedHour))("period",o.bMT(2,7,s.selectedPeriod))("minTime",s.data.minTime)("maxTime",s.data.maxTime)}}function ya(_,l){if(1&_&&(o.j41(0,"div"),o.DNE(1,Sa,2,7,"ngx-mat-timepicker-24-hours-face",15),o.DNE(2,Ia,3,9,"ng-template",null,16,o.C5r),o.k0s()),2&_){const s=o.sdS(3),d=o.XpG();o.R7$(1),o.Y8G("ngIf",24===d.data.format)("ngIfElse",s)}}function ja(_,l){if(1&_){const s=o.RV6();o.j41(0,"ngx-mat-timepicker-minutes-face",19),o.bIt("minuteChange",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.onMinuteChange(i))}),o.nI1(1,"async"),o.nI1(2,"async"),o.nI1(3,"async"),o.k0s()}if(2&_){const s=o.XpG();let d;o.Y8G("color",s.color)("selectedMinute",o.bMT(1,8,s.selectedMinute))("selectedHour",null==(d=o.bMT(2,10,s.selectedHour))?null:d.time)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)("period",o.bMT(3,12,s.selectedPeriod))("minutesGap",s.data.minutesGap)}}function Oa(_,l){1&_&&o.eu8(0)}function Eo(_,l){1&_&&o.eu8(0)}function wa(_,l){1&_&&o.nrm(0,"ngx-mat-timepicker-standalone")}function Ea(_,l){1&_&&(o.qSk(),o.j41(0,"svg",2),o.nrm(1,"path",3),o.k0s())}const Ma=[[["","ngxMatTimepickerToggleIcon",""]]],Fa=["[ngxMatTimepickerToggleIcon]"];function Ra(_,l){if(1&_&&(o.j41(0,"mat-option",12),o.EFF(1),o.k0s()),2&_){const s=l.$implicit;o.Y8G("value",s),o.R7$(1),o.JRh(s)}}function Da(_,l){if(1&_){const s=o.RV6();o.j41(0,"mat-form-field",9)(1,"mat-select",10),o.bIt("selectionChange",function(i){o.eBV(s);const u=o.XpG();return o.Njj(u.changePeriod(i))}),o.DNE(2,Ra,2,2,"mat-option",11),o.k0s()()}if(2&_){const s=o.XpG();o.Y8G("color",s.color),o.R7$(1),o.Y8G("disabled",s.disabled||s.isChangePeriodDisabled)("ngModel",s.period),o.R7$(1),o.Y8G("ngForOf",s.periods)}}function Na(_,l){1&_&&o.eu8(0)}function Ga(_,l){if(1&_&&(o.j41(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),o.DNE(2,Na,1,0,"ng-container",15),o.k0s()()),2&_){const s=o.XpG(),d=o.sdS(8),i=o.sdS(10);o.Y8G("for",d)("disabled",s.disabled),o.R7$(2),o.Y8G("ngTemplateOutlet",s.toggleIcon||i)}}function $a(_,l){1&_&&(o.j41(0,"mat-icon"),o.EFF(1,"watch_later"),o.k0s())}const Pa=function(_){return{"ngx-mat-timepicker--disabled":_}};var ln=function(_){return _.TWELVE="hh:mm a",_.TWELVE_SHORT="h:m a",_.TWENTY_FOUR="HH:mm",_.TWENTY_FOUR_SHORT="H:m",_}(ln||{}),pe=function(_){return _.AM="AM",_.PM="PM",_}(pe||{});let Wt=(()=>{class _{static#t=this.defaultFormat=12;static#e=this.defaultLocale="en-US";static#n=this.defaultNumberingSystem="latn";static formatHour(s,d,i){if(this.isTwentyFour(d))return s;const u=i===pe.AM?s:s+12;return i===pe.AM&&12===u?0:i===pe.PM&&24===u?12:u}static formatTime(s,d){if(!s)return"Invalid Time";const i=this.parseTime(s,d).setLocale(this.defaultLocale);if(!i.isValid)return"Invalid time";const u=!this.isTwentyFour(d.format);return u?i.toLocaleString({...st.TIME_SIMPLE,hour12:u}).replace(/\u200E/g,""):i.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(s,d){return s.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(d)?ln.TWENTY_FOUR:ln.TWELVE)}static isBetween(s,d,i,u="minutes"){const n="hours"===u?u:void 0;return this.isSameOrBefore(s,i,n)&&this.isSameOrAfter(s,d,n)}static isSameOrAfter(s,d,i="minutes"){return"hours"===i?s.hour>=d.hour:s.hasSame(d,i)||s.valueOf()>d.valueOf()}static isSameOrBefore(s,d,i="minutes"){return"hours"===i?s.hour<=d.hour:s.hasSame(d,i)||s.valueOf()<=d.valueOf()}static isTimeAvailable(s,d,i,u,n,m){if(!s)return;const c=this.parseTime(s,{format:m}),h=c.minute;if(n&&h==h&&h%n!=0)throw new Error(`Your minutes - ${h} doesn't match your minutesGap - ${n}`);const w=d&&!i&&this.isSameOrAfter(c,d,u),N=i&&!d&&this.isSameOrBefore(c,i,u),J=d&&i&&this.isBetween(c,d,i,u);return w||N||J||!d&&!i}static isTwentyFour(s){return 24===s}static parseTime(s,d){const i=this._getLocaleOptionsByTime(s,d);let u=ln.TWENTY_FOUR_SHORT;return s.match(/\s/g)&&(s=s.replace(/\.\s*/g,""),u=ln.TWELVE_SHORT),st.fromFormat(s.replace(/\s+/g," "),u,{numberingSystem:i.numberingSystem,locale:i.locale})}static toLocaleTimeString(s,d={}){const{format:i=this.defaultFormat,locale:u=this.defaultLocale}=d;let n="h12",m=ln.TWELVE_SHORT;return this.isTwentyFour(i)&&(n="h23",m=ln.TWENTY_FOUR_SHORT),st.fromFormat(s,m).reconfigure({locale:u,numberingSystem:d.numberingSystem,defaultToEN:d.defaultToEN,outputCalendar:d.outputCalendar}).toLocaleString({...st.TIME_SIMPLE,hourCycle:n})}static _getLocaleOptionsByTime(s,d){const{numberingSystem:i,locale:u}=st.now().reconfigure({locale:d.locale,numberingSystem:d.numberingSystem,outputCalendar:d.outputCalendar,defaultToEN:d.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(s,10))?{numberingSystem:i,locale:u}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return _})();var ke=function(_){return _[_.HOUR=0]="HOUR",_[_.MINUTE=1]="MINUTE",_}(ke||{});const ri=new o.nKC("NGX_MAT_TIMEPICKER_CONFIG"),wi={time:12,angle:360},Ei={time:0,angle:360};let li=(()=>{class _{constructor(){this._hour$=new Ln.t(wi),this._minute$=new Ln.t(Ei),this._period$=new Ln.t(pe.AM)}set hour(s){this._hour$.next(s)}set minute(s){this._minute$.next(s)}set period(s){(s===pe.AM||s===pe.PM)&&this._period$.next(s)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(s){const d=this._hour$.getValue().time,i=this._minute$.getValue().time,c=`${d??wi.time}:${i??Ei.time} ${12===s?this._period$.getValue():""}`.trim();return Wt.formatTime(c,{format:s})}setDefaultTimeIfAvailable(s,d,i,u,n){s||this._resetTime();try{Wt.isTimeAvailable(s,d,i,"minutes",n)&&this._setDefaultTime(s,u)}catch(m){console.error(m)}}_resetTime(){this.hour={...wi},this.minute={...Ei},this.period=pe.AM}_setDefaultTime(s,d){const i=Wt.parseTime(s,{format:d});if(i.isValid){const u=s.substring(s.length-2).toUpperCase(),n=i.hour;this.hour={...wi,time:za(n,u)},this.minute={...Ei,time:i.minute},this.period=u}else this._resetTime()}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275prov=o.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function za(_,l){switch(l){case pe.AM:return 0===_?12:_;case pe.PM:return 12===_?12:_-12;default:return _}}let Mi=(()=>{class _{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,ii.t)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,ii.t)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new ni.B,this._keydownEvent$=new ni.B}dispatchEvent(s){switch(s.type){case"click":this._backdropClick$.next(s);break;case"keydown":this._keydownEvent$.next(s);break;default:throw new Error("no such event type")}}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275prov=o.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Mo=new o.nKC("TimeLocale",{providedIn:"root",factory:()=>Wt.defaultLocale});let tn=(()=>{class _{get locale(){return this._locale}constructor(s){this._locale=s}updateLocale(s){this._locale=s||this._initialLocale}static#t=this.\u0275fac=function(d){return new(d||_)(o.KVO(Mo))};static#e=this.\u0275prov=o.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Fo=(()=>{class _{set color(s){this._color=s}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(s){this._defaultTime=s,this._setDefaultTime(s)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,d,i,u){this._timepickerSrv=s,this._eventSrv=d,this._timepickerLocaleSrv=i,this.data=u,this.activeTimeUnit=ke.HOUR,this.timeUnit=ke,this._color="primary",this._subsCtrl$=new ni.B,this.color=u.color,this.defaultTime=u.defaultTime}changePeriod(s){this._timepickerSrv.period=s,this._onTimeChange()}changeTimeUnit(s){this.activeTimeUnit=s}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,ii.t)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,ii.t)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,ii.t)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,Ki.Q)(this._subsCtrl$)).subscribe({next:s=>{s&&this._setDefaultTime(s)}})}onHourChange(s){this._timepickerSrv.hour=s,this._onTimeChange()}onHourSelected(s){this.data.hoursOnly||this.changeTimeUnit(ke.MINUTE),this.data.timepickerBaseRef.hourSelected.next(s)}onKeydown(s){this._eventSrv.dispatchEvent(s),s.stopPropagation()}onMinuteChange(s){this._timepickerSrv.minute=s,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const s=this.data.minTime;if(s&&!this.data.time&&!this.data.defaultTime){const d=Wt.fromDateTimeToString(s,this.data.format);this._setDefaultTime(d)}}_onTimeChange(){const s=Wt.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(s)}_setDefaultTime(s){this._timepickerSrv.setDefaultTimeIfAvailable(s,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(li),o.rXU(Mi),o.rXU(tn),o.rXU(ri))};static#e=this.\u0275dir=o.FsC({type:_,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(d,i){1&d&&o.bIt("keydown",function(n){return i.onKeydown(n)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0})}return _})();class oe{static disableHours(l,s){return s.min||s.max?l.map(d=>{const i=Wt.isTwentyFour(s.format)?d.time:Wt.formatHour(d.time,s.format,s.period),u=st.fromObject({hour:i}).toFormat(ln.TWELVE);return{...d,disabled:!Wt.isTimeAvailable(u,s.min,s.max,"hours")}}):l}static disableMinutes(l,s,d){if(d.min||d.max){const i=Wt.formatHour(s,d.format,d.period);let u=st.fromObject({hour:i,minute:0});return l.map(n=>(u=u.set({minute:n.time}),{...n,disabled:!Wt.isTimeAvailable(u.toFormat(ln.TWELVE),d.min,d.max,"minutes")}))}return l}static getHours(l){return Array(l).fill(1).map((s,d)=>{const u=s+d;return{time:24===u?0:u,angle:30*u}})}static getMinutes(l=1){const i=[];for(let u=0;u<60;u++){const n=6*u;u%l==0&&i.push({time:u,angle:0!==n?n:360})}return i}static isDigit(l){return!!([46,8,9,27,13].some(s=>s===l.keyCode)||65===l.keyCode&&(!0===l.ctrlKey||!0===l.metaKey)||67===l.keyCode&&(!0===l.ctrlKey||!0===l.metaKey)||88===l.keyCode&&(!0===l.ctrlKey||!0===l.metaKey)||l.keyCode>=35&&l.keyCode<=40)||!((l.keyCode<48||l.keyCode>57)&&(l.keyCode<96||l.keyCode>105))}}var ci=function(_){return _.hour="hour",_.minute="minute",_}(ci||{});let Fi=(()=>{class _{get _locale(){return this._timepickerLocaleSrv.locale}constructor(s){this._timepickerLocaleSrv=s}transform(s,d,i=!1){if(null==s||""===s)return"";switch(d){case ke.HOUR:return this._formatTime(ci.hour,s,0===s||i?"HH":"H");case ke.MINUTE:return this._formatTime(ci.minute,s,"mm");default:throw new Error(`There is no Time Unit with type ${d}`)}}_formatTime(s,d,i){try{return st.fromObject({[s]:+d}).setLocale(this._locale).toFormat(i)}catch{throw new Error(`Cannot format provided time - ${d} to locale - ${this._locale}`)}}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(tn,16))};static#e=this.\u0275pipe=o.EJ8({name:"timeLocalizer",type:_,pure:!0,standalone:!0})}return _})(),Aa=(()=>{class _{transform(s,d=5){return s&&(s%d==0?s:"")}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275pipe=o.EJ8({name:"minutesFormatter",type:_,pure:!0,standalone:!0})}return _})(),La=(()=>{class _{transform(s,d,i,u){return null!=s&&!u&&d===s&&s%(i||5)==0}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275pipe=o.EJ8({name:"activeMinute",type:_,pure:!0,standalone:!0})}return _})(),Ba=(()=>{class _{transform(s,d,i){return null!=s&&!i&&s===d}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275pipe=o.EJ8({name:"activeHour",type:_,pure:!0,standalone:!0})}return _})();const Ri_small_height="75px",Ri_small_top="calc(50% - 75px)",Ri_large_height="103px",Ri_large_top="calc(50% - 103px)";let Di=(()=>{class _{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new o.bkB,this.timeSelected=new o.bkB,this.timeUnit=ke}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(s){const d=s.faceTime,i=s.selectedTime;d&&d.currentValue&&i&&i.currentValue&&(this.selectedTime=this.faceTime.find(u=>u.time===this.selectedTime.time)),i&&i.currentValue&&this._setClockHandPosition(),d&&d.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(s){s.preventDefault(),this._isStarted=!0}onMouseup(s){s.preventDefault(),this._isStarted=!1}selectTime(s){if(!this._isStarted&&s instanceof MouseEvent&&"click"!==s.type)return;const d=this.clockFace.nativeElement.getBoundingClientRect(),i=d.left+d.width/2,u=d.top+d.height/2,n=180*Math.atan(Math.abs(s.clientX-i)/Math.abs(s.clientY-u))/Math.PI,m=function Ya(_,l,s,d,i){return d>l&&s>=_?180-i:d>l&&s<_?180+i:d<l&&s<_?360-i:i}(i,u,s.clientX,s.clientY,n),c=this.format&&this._isInnerClockFace(i,u,s.clientX,s.clientY),N=(function Va(_,l){return Math.round(_/l)*l}(m,this.unit===ke.MINUTE?6*(this.minutesGap||1):30)||360)+(c?360:0),J=this.faceTime.find(_t=>_t.angle===N);J&&!J.disabled&&(this.timeChange.next(J),this._isStarted||this.timeSelected.next(J.time))}trackByTime(s,d){return d.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=Ri_small_height,this.clockHand.nativeElement.style.top=Ri_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=Ri_large_height,this.clockHand.nativeElement.style.top=Ri_large_top}_isInnerClockFace(s,d,i,u){return Math.sqrt(Math.pow(i-s,2)+Math.pow(u-d,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const s=this.faceTime.find(d=>this.selectedTime.time===d.time);if(this.isClockFaceDisabled=this.faceTime.every(d=>d.disabled),s&&s.disabled&&!this.isClockFaceDisabled){const d=this.faceTime.find(i=>!i.disabled);this.timeChange.next(d)}}_setClockHandPosition(){Wt.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(d,i){if(1&d&&(o.GBs(Bs,7),o.GBs(Vs,7,o.aKT)),2&d){let u;o.mGM(u=o.lsd())&&(i.clockFace=u.first),o.mGM(u=o.lsd())&&(i.clockHand=u.first)}},hostBindings:function(d,i){1&d&&o.bIt("mousedown",function(n){return i.onMousedown(n)})("mouseup",function(n){return i.onMouseup(n)})("click",function(n){return i.selectTime(n)})("touchmove",function(n){return i.selectTime(n.changedTouches[0])})("touchend",function(n){return i.selectTime(n.changedTouches[0])})("mousemove",function(n){return i.selectTime(n)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[o.OA$,o.aNF],ngContentSelectors:qi,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(d,i){if(1&d&&(o.NAR(qi),o.DNE(0,Ys,4,13,"ng-template",null,0,o.C5r),o.DNE(2,Xs,2,2,"ng-template",null,1,o.C5r),o.j41(4,"div",2,3),o.DNE(6,Qs,4,7,"div",4),o.j41(7,"mat-toolbar",5,6),o.DNE(9,qs,2,1,"button",7),o.k0s(),o.nrm(10,"mat-toolbar",8),o.k0s()),2&d){const u=o.sdS(3);o.R7$(6),o.Y8G("ngIf",i.unit!==i.timeUnit.MINUTE)("ngIfElse",u),o.R7$(1),o.Y8G("color",i.color)("ngClass",o.eq3(7,ta,i.unit===i.timeUnit.MINUTE))("hidden",i.isClockFaceDisabled),o.R7$(2),o.Y8G("ngIf",i.unit===i.timeUnit.MINUTE),o.R7$(1),o.Y8G("color",i.color)}},dependencies:[Ze.Hl,Ze.$0,$t.B3,$t.pM,$t.bT,$t.T3,jn.s5,jn.KQ,$t.YU,$t.P9,Ba,La,Aa,Fi],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0})}return _})(),to=(()=>{class _{set color(s){this._color=s}get color(){return this._color}constructor(){this.minuteChange=new o.bkB,this.minutesList=[],this.timeUnit=ke,this._color="primary"}ngOnChanges(s){if(s.period&&s.period.currentValue){const d=oe.getMinutes(this.minutesGap);this.minutesList=oe.disableMinutes(d,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[o.OA$,o.aNF],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(d,i){1&d&&(o.j41(0,"ngx-mat-timepicker-face",0),o.bIt("timeChange",function(n){return i.minuteChange.next(n)}),o.k0s()),2&d&&o.Y8G("color",i.color)("faceTime",i.minutesList)("selectedTime",i.selectedMinute)("minutesGap",i.minutesGap)("unit",i.timeUnit.MINUTE)},dependencies:[Di],encapsulation:2})}return _})(),Ro=(()=>{class _{set color(s){this._color=s}get color(){return this._color}set format(s){this._format=s,this.hoursList=oe.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new o.bkB,this.hourSelected=new o.bkB,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(s){this.hourSelected.next(s)}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275dir=o.FsC({type:_,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0})}return _})(),eo=(()=>{class _ extends Ro{constructor(){super(),this.format=12}ngOnChanges(s){s.period&&s.period.currentValue&&(this.hoursList=oe.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[o.Vt3,o.OA$,o.aNF],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(d,i){1&d&&(o.j41(0,"ngx-mat-timepicker-face",0),o.bIt("timeChange",function(n){return i.hourChange.next(n)})("timeSelected",function(n){return i.onTimeSelected(n)}),o.k0s()),2&d&&o.Y8G("color",i.color)("selectedTime",i.selectedHour)("faceTime",i.hoursList)},dependencies:[Di],encapsulation:2,changeDetection:0})}return _})(),no=(()=>{class _ extends Ro{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=oe.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[o.Vt3,o.aNF],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(d,i){1&d&&(o.j41(0,"ngx-mat-timepicker-face",0),o.bIt("timeChange",function(n){return i.hourChange.next(n)})("timeSelected",function(n){return i.onTimeSelected(n)}),o.k0s()),2&d&&o.Y8G("color",i.color)("selectedTime",i.selectedHour)("faceTime",i.hoursList)("format",i.format)},dependencies:[Di],encapsulation:2,changeDetection:0})}return _})(),Ua=(()=>{class _{constructor(s){this._overlay=s,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new o.bkB,this.timePeriod=pe}animationDone(){this.isPeriodAvailable=!0}changePeriod(s){this.isPeriodAvailable=this._isSwitchPeriodAvailable(s),this.isPeriodAvailable&&this.periodChanged.next(s)}_getDisabledTimeByPeriod(s){switch(this.activeTimeUnit){case ke.HOUR:return oe.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:s});case ke.MINUTE:return oe.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:s});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(s){return!this._getDisabledTimeByPeriod(s).every(i=>i.disabled)}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(e.hJ))};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[o.aNF],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(d,i){if(1&d&&(o.j41(0,"div",0,1)(2,"button",2),o.bIt("click",function(){return i.changePeriod(i.timePeriod.AM)}),o.EFF(3),o.k0s(),o.j41(4,"button",2),o.bIt("click",function(){return i.changePeriod(i.timePeriod.PM)}),o.EFF(5),o.k0s()(),o.DNE(6,Oo,1,1,"ng-template",3)),2&d){const u=o.sdS(1);o.R7$(2),o.Y8G("ngClass",o.eq3(8,ai,i.selectedPeriod===i.timePeriod.AM)),o.R7$(1),o.JRh(i.meridiems[0]),o.R7$(1),o.Y8G("ngClass",o.eq3(10,ai,i.selectedPeriod===i.timePeriod.PM)),o.R7$(1),o.JRh(i.meridiems[1]),o.R7$(1),o.Y8G("cdkConnectedOverlayScrollStrategy",i.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",i.overlayPositionStrategy)("cdkConnectedOverlayOrigin",u)("cdkConnectedOverlayOpen",!i.isPeriodAvailable)}},dependencies:[e.$Q,$t.YU,e.WB,$t.bT],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,Qe.hZ)("scaleInOut",[(0,Qe.kY)(":enter",[(0,Qe.iF)({transform:"scale(0)"}),(0,Qe.i0)(".2s",(0,Qe.iF)({transform:"scale(1)"})),(0,Qe.K2)([(0,Qe.i0)("3s",(0,Qe.iF)({opacity:1})),(0,Qe.i0)(".3s",(0,Qe.iF)({opacity:0}))])])])]}})}return _})(),Vn=(()=>{class _{get _locale(){return this._timepickerLocaleSrv.locale}constructor(s){this._timepickerLocaleSrv=s,this._numberingSystem=st.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(s,d=ke.HOUR){return null==s||""===s?"":isNaN(+s)?d===ke.MINUTE?this._parseTime(s,"mm",ci.minute).toString():this._parseTime(s,"HH",ci.hour).toString():`${s}`}_parseTime(s,d,i){const u=st.fromFormat(String(s),d,{numberingSystem:this._numberingSystem})[i];if(!isNaN(u))return u;throw new Error(`Cannot parse time - ${s}`)}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(tn,16))};static#e=this.\u0275pipe=o.EJ8({name:"ngxMatTimepickerParser",type:_,pure:!0,standalone:!0});static#n=this.\u0275prov=o.jDH({token:_,factory:_.\u0275fac})}return _})(),Xa=(()=>{class _{constructor(s,d){this._element=s,this._document=d,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(o.aKT),o.rXU($t.qQ,8))};static#e=this.\u0275dir=o.FsC({type:_,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[o.OA$]})}return _})();function Do(){this.selectionStart=this.selectionEnd}let No=(()=>{class _{get _selectedTime(){if(this.time)return this.timeList.find(s=>s.time===+this.time)}constructor(s,d){this._elRef=s,this._timeParserPipe=d,this.focused=new o.bkB,this.timeChanged=new o.bkB,this.timeUnitChanged=new o.bkB,this.unfocused=new o.bkB}changeTimeByKeyboard(s){const d=String.fromCharCode(s.keyCode);(function Ha(_,l,s){if(/\d/.test(l))return Go(_+l,s)})(this.time,d,this.timeList)&&s.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Do,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Do)}onKeydown(s){oe.isDigit(s)?this._changeTimeByArrow(s.keyCode):s.preventDefault()}onModelChange(s){this.time=this._timeParserPipe.transform(s,this.timeUnit)}saveTimeAndChangeTimeUnit(s,d){s.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(d),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(s){return`0${+this.time+s}`.substr(-2)}_changeTimeByArrow(s){let d;38===s?d=this._addTime(this.minutesGap||1):40===s&&(d=this._addTime(-1*(this.minutesGap||1))),Go(d,this.timeList)||(this.time=d,this.updateTime())}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(o.aKT),o.rXU(Vn))};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[o.Jv_([Vn]),o.aNF],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(d,i){if(1&d&&(o.DNE(0,na,2,10,"input",0),o.DNE(1,ia,3,13,"ng-template",null,1,o.C5r)),2&d){const u=o.sdS(2);o.Y8G("ngIf",!i.isEditable)("ngIfElse",u)}},dependencies:[$t.bT,ve.YN,ve.me,ve.BC,ve.vS,$t.YU,Xa,Vn,Fi],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]})}return _})();function Go(_,l){const s=l.find(d=>d.time===+_);return!s||s&&s.disabled}let oo,io=(()=>{class _{set color(s){this._color=s}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(s){this._localeSrv=s,this.hourChanged=new o.bkB,this.meridiems=ei.meridiems({locale:this._locale}),this.minuteChanged=new o.bkB,this.periodChanged=new o.bkB,this.timeUnit=ke,this.timeUnitChanged=new o.bkB,this._color="primary"}changeHour(s){this.hourChanged.next(s)}changeMinute(s){this.minuteChanged.next(s)}changePeriod(s){this.periodChanged.next(s)}changeTimeUnit(s){this.timeUnitChanged.next(s)}hideHint(){this.isHintVisible=!1}ngOnChanges(s){const d=s.period&&s.period.currentValue;if(d||s.format&&s.format.currentValue){const i=oe.getHours(this.format);this.hours=oe.disableHours(i,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(d||s.hour&&s.hour.currentValue){const i=oe.getMinutes(this.minutesGap);this.minutes=oe.disableMinutes(i,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(tn))};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[o.OA$,o.aNF],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(d,i){1&d&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),o.bIt("timeUnitChanged",function(n){return i.changeTimeUnit(n)})("timeChanged",function(n){return i.changeHour(n)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),o.k0s(),o.j41(4,"span"),o.EFF(5,":"),o.k0s(),o.j41(6,"ngx-mat-timepicker-dial-control",4),o.bIt("timeUnitChanged",function(n){return i.changeTimeUnit(n)})("timeChanged",function(n){return i.changeMinute(n)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),o.k0s()(),o.DNE(7,oa,1,9,"ngx-mat-timepicker-period",5),o.k0s(),o.DNE(8,la,4,4,"div",6),o.k0s()),2&d&&(o.R7$(3),o.Y8G("timeList",i.hours)("time",i.hourString)("timeUnit",i.timeUnit.HOUR)("isActive",i.activeTimeUnit===i.timeUnit.HOUR)("isEditable",i.isEditable),o.R7$(3),o.Y8G("timeList",i.minutes)("time",i.minuteString)("timeUnit",i.timeUnit.MINUTE)("isActive",i.activeTimeUnit===i.timeUnit.MINUTE)("isEditable",i.isEditable)("minutesGap",i.minutesGap)("disabled",i.hoursOnly),o.R7$(1),o.Y8G("ngIf",24!==i.format),o.R7$(1),o.Y8G("ngIf",i.isEditable||i.editableHintTmpl))},dependencies:[No,$t.bT,Ua,$t.YU,$t.T3],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0})}return _})(),$o=(()=>{class _{static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[o.aNF],ngContentSelectors:pa,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(d,i){if(1&d&&(o.NAR(),o.DNE(0,ma,2,1,"div",0),o.DNE(1,_a,1,1,"ng-template",null,1,o.C5r),o.DNE(3,ua,1,0,"ng-template",null,2,o.C5r)),2&d){const u=o.sdS(2);o.Y8G("ngIf",i.appendToInput)("ngIfElse",u)}},dependencies:[$t.bT,$t.T3],encapsulation:2})}return _})(),Po=(()=>{class _ extends Fo{constructor(s,d,i,u,n){super(i,u,n,s),this.data=s,this._dialogRef=d}close(){this._dialogRef.close()}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(Ke.Vh),o.rXU(Ke.CP),o.rXU(li),o.rXU(Mi),o.rXU(tn))};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[o.Vt3,o.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(d,i){if(1&d&&(o.DNE(0,ga,2,1,"ng-template",null,0,o.C5r),o.DNE(2,ha,2,1,"ng-template",null,1,o.C5r),o.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),o.bIt("periodChanged",function(n){return i.changePeriod(n)})("timeUnitChanged",function(n){return i.changeTimeUnit(n)})("hourChanged",function(n){return i.onHourChange(n)})("minuteChanged",function(n){return i.onMinuteChange(n)}),o.nI1(9,"async"),o.nI1(10,"async"),o.nI1(11,"async"),o.k0s()(),o.j41(12,"div",7)(13,"div",8),o.DNE(14,va,4,2,"div",9),o.DNE(15,ka,4,14,"ngx-mat-timepicker-minutes-face",10),o.k0s()()()()(),o.j41(16,"div",11)(17,"div",12),o.bIt("click",function(){return i.close()}),o.DNE(18,xa,1,0,"ng-container",13),o.k0s(),o.j41(19,"div",12),o.bIt("click",function(){return i.setTime()}),o.DNE(20,Ca,1,0,"ng-container",13),o.k0s()()),2&d){const u=o.sdS(1),n=o.sdS(3);let m,c;o.R7$(5),o.Y8G("appendToInput",i.data.appendToInput)("inputElement",i.data.inputElement),o.R7$(1),o.Y8G("ngClass",i.data.timepickerClass),o.R7$(1),o.AVh("is-editable",i.data.enableKeyboardInput),o.Y8G("color",i.color),o.R7$(1),o.Y8G("color",i.color)("format",i.data.format)("hour",null==(m=o.bMT(9,23,i.selectedHour))?null:m.time)("minute",null==(c=o.bMT(10,25,i.selectedMinute))?null:c.time)("period",o.bMT(11,27,i.selectedPeriod))("activeTimeUnit",i.activeTimeUnit)("minTime",i.data.minTime)("maxTime",i.data.maxTime)("isEditable",i.data.enableKeyboardInput)("editableHintTmpl",i.data.editableHintTmpl)("minutesGap",i.data.minutesGap)("hoursOnly",i.data.hoursOnly),o.R7$(5),o.Y8G("ngSwitch",i.activeTimeUnit),o.R7$(1),o.Y8G("ngSwitchCase",i.timeUnit.HOUR),o.R7$(1),o.Y8G("ngSwitchCase",i.timeUnit.MINUTE),o.R7$(3),o.Y8G("ngTemplateOutlet",i.data.cancelBtnTmpl?i.data.cancelBtnTmpl:u),o.R7$(2),o.Y8G("ngTemplateOutlet",i.data.confirmBtnTmpl?i.data.confirmBtnTmpl:n)}},dependencies:[$t.Jj,$t.YU,$t.bT,$t.ux,$t.e1,$t.T3,Ze.Hl,Ze.$z,Ke.hM,Ke.Yi,Ke.E7,jn.s5,jn.KQ,$o,io,no,eo,to],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2})}return _})(),zo=(()=>{class _ extends Fo{constructor(s,d,i,u){super(d,i,u,s),this.data=s}close(){this.data.timepickerBaseRef.close()}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(ri),o.rXU(li),o.rXU(Mi),o.rXU(tn))};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(d,i){2&d&&o.AVh("mat-app-background",!0)},standalone:!0,features:[o.Vt3,o.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(d,i){if(1&d&&(o.DNE(0,wo,2,1,"ng-template",null,0,o.C5r),o.DNE(2,Ta,2,1,"ng-template",null,1,o.C5r),o.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),o.bIt("periodChanged",function(n){return i.changePeriod(n)})("timeUnitChanged",function(n){return i.changeTimeUnit(n)})("hourChanged",function(n){return i.onHourChange(n)})("minuteChanged",function(n){return i.onMinuteChange(n)}),o.nI1(9,"async"),o.nI1(10,"async"),o.nI1(11,"async"),o.k0s()(),o.j41(12,"div",7)(13,"div",8),o.DNE(14,ya,4,2,"div",9),o.DNE(15,ja,4,14,"ngx-mat-timepicker-minutes-face",10),o.k0s()()()(),o.j41(16,"div",11)(17,"div",12),o.bIt("click",function(){return i.close()}),o.DNE(18,Oa,1,0,"ng-container",13),o.k0s(),o.j41(19,"div",12),o.bIt("click",function(){return i.setTime()}),o.DNE(20,Eo,1,0,"ng-container",13),o.k0s()()()),2&d){const u=o.sdS(1),n=o.sdS(3);let m,c;o.R7$(5),o.Y8G("appendToInput",i.data.appendToInput)("inputElement",i.data.inputElement),o.R7$(1),o.Y8G("ngClass",i.data.timepickerClass),o.R7$(1),o.AVh("is-editable",i.data.enableKeyboardInput),o.Y8G("color",i.color),o.R7$(1),o.Y8G("color",i.color)("format",i.data.format)("hour",null==(m=o.bMT(9,23,i.selectedHour))?null:m.time)("minute",null==(c=o.bMT(10,25,i.selectedMinute))?null:c.time)("period",o.bMT(11,27,i.selectedPeriod))("activeTimeUnit",i.activeTimeUnit)("minTime",i.data.minTime)("maxTime",i.data.maxTime)("isEditable",i.data.enableKeyboardInput)("editableHintTmpl",i.data.editableHintTmpl)("minutesGap",i.data.minutesGap)("hoursOnly",i.data.hoursOnly),o.R7$(5),o.Y8G("ngSwitch",i.activeTimeUnit),o.R7$(1),o.Y8G("ngSwitchCase",i.timeUnit.HOUR),o.R7$(1),o.Y8G("ngSwitchCase",i.timeUnit.MINUTE),o.R7$(3),o.Y8G("ngTemplateOutlet",i.data.cancelBtnTmpl?i.data.cancelBtnTmpl:u),o.R7$(2),o.Y8G("ngTemplateOutlet",i.data.confirmBtnTmpl?i.data.confirmBtnTmpl:n)}},dependencies:[Ze.Hl,Ze.$z,qe.Pd,qe.kB,$o,$t.YU,jn.s5,jn.KQ,io,$t.ux,$t.e1,$t.bT,no,eo,to,$t.T3,$t.Jj],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2})}return _})(),so=(()=>{class _{static#t=this.nextId=0;set appendToInput(s){this._appendToInput=(0,S.he)(s)}set color(s){this._color=s}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(s){this._enableKeyboardInput=(0,S.he)(s)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(s){this._format=Wt.isTwentyFour(s)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(s){null!=s&&(s=Math.floor(s),this._minutesGap=s<=59?s:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(s,d,i){this._eventService=s,this._dialog=d,this._overlay=i,this.closed=new o.bkB,this.hourSelected=new o.bkB,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++_.nextId,this.isEsc=!0,this.opened=new o.bkB,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new o.bkB,this.timeSet=new o.bkB,this.timeUpdated=new Ln.t(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){oo={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Po,{panelClass:"ngx-mat-timepicker-dialog",data:{...oo}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(s){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",s.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=s}unregisterInput(){this._timepickerInput=void 0}updateTime(s){this.timeUpdated.next(s)}static#e=this.\u0275fac=function(d){return new(d||_)(o.rXU(Mi),o.rXU(Ke.bZ),o.rXU(e.hJ))};static#n=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(d,i){2&d&&o.Mr5("id",i.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[o.Jv_([{provide:ri,useFactory:()=>oo}]),o.aNF],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(d,i){1&d&&(o.DNE(0,wa,1,0,"ng-template",0),o.bIt("backdropClick",function(){return i.close()})),2&d&&o.Y8G("cdkConnectedOverlayPositions",i.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",i.overlayOrigin)("cdkConnectedOverlayOpen",i.showPicker)},dependencies:[e.WB,zo],encapsulation:2})}return _})(),Ao=(()=>{class _{static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275dir=o.FsC({type:_,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0})}return _})(),Lo=(()=>{class _{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(s){this._disabled=s}open(s){this.timepicker&&(this.timepicker.open(),s.stopPropagation())}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(d,i,u){if(1&d&&o.wni(u,Ao,7),2&d){let n;o.mGM(n=o.lsd())&&(i.customIcon=n.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[o.aNF],ngContentSelectors:Fa,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(d,i){1&d&&(o.NAR(Ma),o.j41(0,"button",0),o.bIt("click",function(n){return i.open(n)}),o.DNE(1,Ea,2,0,"svg",1),o.SdG(2),o.k0s()),2&d&&(o.Y8G("disabled",i.disabled),o.R7$(1),o.Y8G("ngIf",!i.customIcon))},dependencies:[Ze.Hl,Ze.iY,$t.bT],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2})}return _})(),Bo=(()=>{class _{static#t=this.nextId=0;set color(s){this._color=s}get color(){return this._color}set floatLabel(s){this._floatLabel=s}get floatLabel(){return this._floatLabel}constructor(s){this._timeParser=s,this.id=_.nextId++,this.timeChanged=new o.bkB,this._color="primary",this._floatLabel="auto"}changeTime(s){s.stopPropagation();const d=s.data,i=function Wa(_,l){if(/\d/.test(l))return+(_+l)}(String(this.time),d);this._changeTimeIfValid(i)}decrease(){if(!this.disabled){let s=+this.time-1;s<this.min&&(s=this.max),this._isSelectedTimeDisabled(s)&&(s=this._getAvailableTime(s,this._getPrevAvailableTime.bind(this))),s!==this.time&&this.timeChanged.emit(s)}}increase(){if(!this.disabled){let s=+this.time+1;s>this.max&&(s=this.min),this._isSelectedTimeDisabled(s)&&(s=this._getAvailableTime(s,this._getNextAvailableTime.bind(this))),s!==this.time&&this.timeChanged.emit(s)}}ngOnChanges(s){s.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(s){switch(s.stopPropagation(),oe.isDigit(s)||s.preventDefault(),s.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==s.key&&s.preventDefault()}onModelChange(s){this.time=+this._timeParser.transform(s,this.timeUnit)}_changeTimeIfValid(s){if(!isNaN(s)){if(this.time=s,this.time>this.max){const d=String(s);this.time=+d[d.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(s,d){return d(this.timeList.findIndex(n=>n.time===s))??this.time}_getNextAvailableTime(s){const d=this.timeList,i=d.length;for(let u=s+1;u<i;u++){const n=d[u];if(!n.disabled)return n.time}}_getPrevAvailableTime(s){for(let d=s;d>=0;d--){const i=this.timeList[d];if(!i.disabled)return i.time}}_isSelectedTimeDisabled(s){return this.timeList.find(d=>d.time===s).disabled}_setAvailableTime(){this.time=this.timeList.find(s=>!s.disabled).time,this.timeChanged.emit(this.time)}static#e=this.\u0275fac=function(d){return new(d||_)(o.rXU(Vn))};static#n=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[o.Jv_([Vn]),o.OA$,o.aNF],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(d,i){1&d&&(o.j41(0,"mat-form-field",0)(1,"input",1),o.bIt("ngModelChange",function(n){return i.onModelChange(n)})("keydown",function(n){return i.onKeydown(n)})("beforeinput",function(n){return i.changeTime(n)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),o.nI1(2,"timeLocalizer"),o.nI1(3,"ngxMatTimepickerParser"),o.k0s(),o.j41(4,"div",2)(5,"span",3),o.bIt("click",function(){return i.increase()}),o.qSk(),o.j41(6,"svg",4),o.nrm(7,"path",5)(8,"path",6),o.k0s()(),o.joV(),o.j41(9,"span",3),o.bIt("click",function(){return i.decrease()}),o.qSk(),o.j41(10,"svg",4),o.nrm(11,"path",7)(12,"path",8),o.k0s()()()()),2&d&&(o.Y8G("color",i.color)("floatLabel",i.floatLabel)("ngClass",o.eq3(15,ai,i.isFocused)),o.R7$(1),o.Mz_("id","ngx_mat_timepicker_field_",i.id,"")("name","ngx_mat_timepicker_field_",i.id,""),o.Y8G("ngModel",o.brH(2,8,o.i5U(3,12,i.time,i.timeUnit),i.timeUnit,!0))("placeholder",i.placeholder)("disabled",i.disabled))},dependencies:[On.RG,On.rl,On.yw,$t.YU,Qi.fS,Qi.fg,ve.YN,ve.me,ve.BC,ve.tU,ve.vS,Vn,Fi],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0})}return _})(),Ja=(()=>{class _{get color(){return this._color}set color(s){this._color=s}get defaultTime(){return this._defaultTime}set defaultTime(s){this._defaultTime=s,this._isDefaultTime=!!s}get floatLabel(){return this._floatLabel}set floatLabel(s){this._floatLabel=s}get format(){return this._format}set format(s){Wt.isTwentyFour(s)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=oe.getHours(this._format),s&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(s){this._max="string"!=typeof s?s:Wt.parseTime(s,{locale:this._locale,format:this.format})}get min(){return this._min}set min(s){this._min="string"!=typeof s?s:Wt.parseTime(s,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,d){this._timepickerService=s,this._timepickerLocaleSrv=d,this.hour$=new Ln.t(void 0),this.maxHour=12,this.minHour=1,this.minute$=new Ln.t(void 0),this.period=pe.AM,this.periods=[pe.AM,pe.PM],this.timeChanged=new o.bkB,this.timeUnit=ke,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new ni.B,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(s){this._timepickerService.hour=this.hoursList.find(d=>d.time===s),this._changeTime()}changeMinute(s){this._timepickerService.minute=this.minutesList.find(d=>d.time===s),this._changeTime()}changePeriod(s){this._timepickerService.period=s.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=oe.getHours(this._format),this.minutesList=oe.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,oi.M)(s=>this._selectedHour=s?.time),(0,Io.T)(this._changeDefaultTimeValue.bind(this)),(0,oi.M)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:s=>this.hour$.next(s)}),this._timepickerService.selectedMinute.pipe((0,Io.T)(this._changeDefaultTimeValue.bind(this)),(0,oi.M)(()=>this._isFirstTimeChange=!1)).subscribe({next:s=>this.minute$.next(s)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,As.F)(),(0,oi.M)(s=>this.period=s),(0,oi.M)(s=>this.isChangePeriodDisabled=this._isPeriodDisabled(s)),(0,Ki.Q)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(s){this._updateTime(s),this._emitLocalTimeChange(s)}registerOnChange(s){this._onChange=s}registerOnTouched(s){this._onTouched=s}setDisabledState(s){this.disabled=s}writeValue(s){s?this._initTime(s):this._resetTime()}_changeDefaultTimeValue(s){return!this._isDefaultTime&&this._isFirstTimeChange?{...s,time:null}:s}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const s=this._timepickerService.getFullTime(this.format);this.timepickerTime=s,this._emitLocalTimeChange(s)}}_emitLocalTimeChange(s){const d=Wt.toLocaleTimeString(s,{format:this.format,locale:this._locale});this._onChange(d),this._onTouched(d),this.timeChanged.emit(d)}_initTime(s){if(!Wt.isTimeAvailable(s,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(Wt.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(Wt.fromDateTimeToString(this.max,this.format))}this._updateTime(s)}_isPeriodDisabled(s){return oe.disableHours(oe.getHours(12),{min:this.min,max:this.max,format:12,period:s===pe.AM?pe.PM:pe.AM}).every(d=>d.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=oe.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=oe.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(s){if(s){const d=Wt.formatTime(s,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(d,this.min,this.max,this.format),this.timepickerTime=d}}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(li),o.rXU(tn))};static#e=this.\u0275cmp=o.VBU({type:_,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[o.Jv_([li,{provide:ve.kq,useExisting:_,multi:!0}]),o.aNF],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(d,i){if(1&d&&(o.j41(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),o.bIt("timeChanged",function(n){return i.changeHour(n)}),o.k0s(),o.j41(2,"span",2),o.EFF(3,":"),o.k0s(),o.j41(4,"ngx-mat-timepicker-time-control",3),o.bIt("timeChanged",function(n){return i.changeMinute(n)}),o.k0s(),o.DNE(5,Da,3,4,"mat-form-field",4),o.DNE(6,Ga,3,3,"ngx-mat-timepicker-toggle",5),o.k0s(),o.j41(7,"ngx-mat-timepicker",6,7),o.bIt("timeSet",function(n){return i.onTimeSet(n)}),o.k0s(),o.DNE(9,$a,2,0,"ng-template",null,8,o.C5r)),2&d){let u,n;o.Y8G("ngClass",o.eq3(30,Pa,i.disabled)),o.R7$(1),o.Y8G("color",i.color)("floatLabel",i.floatLabel)("placeholder","HH")("time",null==(u=i.hour$.getValue())?null:u.time)("min",i.minHour)("max",i.maxHour)("timeUnit",i.timeUnit.HOUR)("disabled",i.disabled)("timeList",i.hoursList)("preventTyping",i.isTimeRangeSet),o.R7$(3),o.Y8G("color",i.color)("floatLabel",i.floatLabel)("placeholder","MM")("time",null==(n=i.minute$.getValue())?null:n.time)("min",0)("max",59)("timeUnit",i.timeUnit.MINUTE)("disabled",i.disabled)("timeList",i.minutesList)("preventTyping",i.isTimeRangeSet),o.R7$(1),o.Y8G("ngIf",24!==i.format),o.R7$(1),o.Y8G("ngIf",!i.controlOnly),o.R7$(1),o.Y8G("color",i.color)("min",i.min)("max",i.max)("defaultTime",i.timepickerTime)("format",i.format)("cancelBtnTmpl",i.cancelBtnTmpl)("confirmBtnTmpl",i.confirmBtnTmpl)}},dependencies:[$t.YU,Bo,$t.bT,On.RG,On.rl,Bn.Ve,Bn.VO,yo.wT,ve.YN,ve.BC,ve.vS,$t.pM,yo.Sy,Lo,Ao,$t.T3,so,Zi.m_,Zi.An],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0})}return _})(),Ka=(()=>{class _{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(s){this._format=Wt.isTwentyFour(+s)?24:12,s&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(s){this._max="string"!=typeof s?s:Wt.parseTime(s,{locale:this._locale,format:this.format})}get min(){return this._min}set min(s){this._min="string"!=typeof s?s:Wt.parseTime(s,{locale:this._locale,format:this.format})}set timepicker(s){this._registerTimepicker(s)}get value(){return this._value?Wt.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(s){if(!s)return this._value="",void this._updateInputValue();const d=Wt.formatTime(s,{locale:this._locale,format:this.format});if(Wt.isTimeAvailable(d,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=d,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(s){this._timepicker.defaultTime=Wt.formatTime(s,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,d,i){this._elementRef=s,this._timepickerLocaleSrv=d,this._matFormField=i,this.cdkOverlayOrigin=new e.$Q(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new ni.B,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(s){const d=s.value;d&&d.currentValue&&(this._defaultTime=d.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(s){this.disableClick||(this._timepicker.open(),s.stopPropagation())}registerOnChange(s){this._onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.disabled=s}updateValue(s){this.value=s.target.value,this._onChange(this.value)}writeValue(s){this.value=s,s&&(this._defaultTime=s)}_registerTimepicker(s){if(!s)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=s,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,Ki.Q)(this._subsCtrl$)).subscribe(d=>{this.value=d,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}static#t=this.\u0275fac=function(d){return new(d||_)(o.rXU(o.aKT),o.rXU(tn),o.rXU(On.rl,8))};static#e=this.\u0275dir=o.FsC({type:_,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(d,i){1&d&&o.bIt("blur",function(){return i.onTouched()})("click",function(n){return i.onClick(n)})("change",function(n){return i.updateValue(n)}),2&d&&(o.Mr5("disabled",i.disabled),o.BMQ("cdkOverlayOrigin",i.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[o.Jv_([{provide:ve.kq,useExisting:_,multi:!0}]),o.OA$]})}return _})(),Za=(()=>{class _{static setLocale(s){return{ngModule:_,providers:[{provide:Mo,useValue:s},{provide:ri,useValue:void 0},tn]}}static#t=this.\u0275fac=function(d){return new(d||_)};static#e=this.\u0275mod=o.$C({type:_});static#n=this.\u0275inj=o.G2t({providers:[tn,{provide:Ze.Il,useValue:{color:"void"}}],imports:[$t.MD,qe.Pd,ve.YN,Ze.Hl,On.RG,Ke.hM,Qi.fS,Bn.Ve,jn.s5,Zi.m_,e.z_,Ls.jc,so,io,No,Po,Di,to,zo,Lo,eo,no,Ja,Bo]})}return _})()}}]);