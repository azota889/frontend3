(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[3338],{21713:(Xe,be,y)=>{"use strict";y.d(be,{C:()=>St});var m=y(81519),c=y(26860),e=y(10936),F=y(34514),H=y(47426),le=y(99503),se=y(79347),K=y(9691),Q=y(59640),S=y(39712),E=y(43234),M=y(96699),j=y(54460),B=y(39471),V=y(97839),$=y(74960),q=y(4375),te=y(81587),Le=y(74175),Ae=y(63349),X=y(43166),ye=y(15343),ge=y(44233),Se=y(76975);function ne(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function N(Y,Fe){if(1&Y&&(c.j41(0,"mat-option",62),c.EFF(1),c.k0s()),2&Y){const pe=Fe.$implicit;c.Y8G("value",pe.id),c.R7$(1),c.SpI(" ",pe.name," ")}}function fe(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Me(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function je(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function dt(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Et(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_test_market_request_with_draw_note_birthday")," "))}function kt(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Je(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function vt(Y,Fe){1&Y&&(c.j41(0,"div",61),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&Y&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_test_market_must_accept_policy")," "))}function Nt(Y,Fe){if(1&Y){const pe=c.RV6();c.j41(0,"div",63)(1,"button",64),c.bIt("click",function(){c.eBV(pe);const z=c.XpG();return c.Njj(z.acceptSendRequest(!0))}),c.nI1(2,"calcYearOldUser"),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s(),c.j41(5,"button",65),c.bIt("click",function(){c.eBV(pe);const z=c.XpG();return c.Njj(z.acceptSendRequest(!1))}),c.EFF(6),c.nI1(7,"mytranslate"),c.k0s()()}if(2&Y){const pe=c.XpG();c.R7$(1),c.Y8G("disabled",pe.form.invalid||pe.sendRequest||!pe.totalBalance||pe.totalBalance<pe.minimumWithdraw||2!=pe.citizenIdImages.length||c.bMT(2,3,pe.form.controls.birthday.value)<18),c.R7$(2),c.SpI(" ",c.bMT(4,5,"lang_test_market_request_with_draw")," "),c.R7$(3),c.SpI(" ",c.bMT(7,7,"lang_auto_huy")," ")}}function ot(Y,Fe){if(1&Y){const pe=c.RV6();c.j41(0,"div",71),c.bIt("click",function(){c.eBV(pe);const z=c.XpG().$implicit,Pe=c.XpG(2);return c.Njj(Pe.removeImg(z))}),c.nrm(1,"lucide-icon",72),c.k0s()}}function wt(Y,Fe){if(1&Y&&(c.j41(0,"div",67)(1,"div",68),c.nrm(2,"img",69),c.nI1(3,"mycdn"),c.k0s(),c.DNE(4,ot,2,0,"div",70),c.k0s()),2&Y){const pe=Fe.$implicit,he=c.XpG(2);c.R7$(2),c.Y8G("src",c.bMT(3,2,pe),c.B4B),c.R7$(2),c.Y8G("ngIf",he.enableEditInfo)}}function Wt(Y,Fe){if(1&Y&&(c.j41(0,"div"),c.DNE(1,wt,5,4,"div",66),c.k0s()),2&Y){const pe=c.XpG();c.R7$(1),c.Y8G("ngForOf",pe.citizenIdImages)}}const Ee=function(){return{"mr-2":!0}};function Ie(Y,Fe){1&Y&&(c.j41(0,"div",73)(1,"div",74),c.nrm(2,"lucide-icon",75),c.j41(3,"span",76),c.EFF(4),c.nI1(5,"mytranslate"),c.k0s()()()),2&Y&&(c.R7$(2),c.Y8G("ngClass",c.lJ4(4,Ee)),c.R7$(2),c.JRh(c.bMT(5,2,"lang_auto_upload_file")))}function bt(Y,Fe){if(1&Y){const pe=c.RV6();c.j41(0,"div",77)(1,"div",63)(2,"button",78),c.bIt("click",function(){c.eBV(pe);const z=c.XpG();return c.Njj(z.acceptSendRequest(!0))}),c.nI1(3,"calcYearOldUser"),c.EFF(4),c.nI1(5,"mytranslate"),c.k0s(),c.j41(6,"button",79),c.bIt("click",function(){c.eBV(pe);const z=c.XpG();return c.Njj(z.acceptSendRequest(!1))}),c.EFF(7),c.nI1(8,"mytranslate"),c.k0s()()()}if(2&Y){const pe=c.XpG();c.R7$(2),c.Y8G("disabled",pe.form.invalid||pe.sendRequest||!pe.totalBalance||pe.totalBalance<pe.minimumWithdraw||2!=pe.citizenIdImages.length||c.bMT(3,3,pe.form.controls.birthday.value)<18),c.R7$(2),c.SpI(" ",c.bMT(5,5,"lang_test_market_request_with_draw")," "),c.R7$(3),c.SpI(" ",c.bMT(8,7,"lang_auto_huy")," ")}}const rt=function(){return{"ml-5 mr-2":!0}},_t=function(Y){return{"error-border":Y}},Be=function(Y){return[Y]};let St=(()=>{var Y;class Fe extends Q.H{getCurLang(){return this.commonService.getCurrentLang()}handleUploadComplete(he){he.forEach(z=>{this.citizenIdImages.push(z.url??"")})}removeImg(he){let z=this.citizenIdImages?.filter(Pe=>Pe!==he);this.citizenIdImages=z}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo?.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo?.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo?.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo?.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo?.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo?.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo?.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo?.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo?.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo?.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(he){this.currentBankId=he}removeSignatureKeyImages(he){if(0==he.length)return[];{let z=[];return he.forEach(Pe=>{z.push(Pe.substring(0,Pe.indexOf("?")))}),z}}acceptSendRequest(he){if(he){this.sendRequest=!0;let z=this.getFormValue(),Pe={bankId:z.bankId??this.transactionInfo?.bankId,bankHolder:z.accountNameControl??this.transactionInfo?.bankHolder,address:z.address??this.transactionInfo?.address,bankAccountNumber:z.bankNumber??this.transactionInfo?.bankAccountNumber,contactPhone:z.contactPhone??this.balanceUserInfo?.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(z.birthday??this.balanceUserInfo?.birthday??""),idCard:z.idCard??this.balanceUserInfo?.idCard,idIssuedBy:z.idIssuedBy??this.balanceUserInfo?.idIssuedBy,idIssuedAt:new Date(z.idIssuedAt??this.balanceUserInfo?.idIssuedAt??"")};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(Pe).subscribe($e=>{$e.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj($e.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(he=>{he.success?(this.listBanks=he.data?.objs??[],this.successStatusObj()):this.errorStatusObj(he.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.getBankObjs(),this.transactionInfo||(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo?.idImages&&this.balanceUserInfo?.idImages.length?this.balanceUserInfo.idImages:[],this.form=new e.gE({accountNameControl:new e.MJ({value:this.transactionInfo?.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),bankId:new e.MJ({value:this.transactionInfo?.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),bankNumber:new e.MJ({value:this.transactionInfo?.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[A-Za-z0-9]*$")]}),address:new e.MJ({value:this.transactionInfo?.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),contactPhone:new e.MJ({value:this.balanceUserInfo?.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[0-9]*$"),e.k0.minLength(10)]}),idCard:new e.MJ({value:this.balanceUserInfo?.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[0-9]*$")]}),idIssuedBy:new e.MJ({value:this.balanceUserInfo?.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),idIssuedAt:new e.MJ({value:this.balanceUserInfo?.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),birthday:new e.MJ({value:this.balanceUserInfo?.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),acceptPolicy:new e.MJ(!1,{nonNullable:!0,validators:[e.k0.requiredTrue]})}),this.currentBankId=this.transactionInfo?.bankId??1}constructor(he){super(),this.testMarketQuestionService=he,this.totalBalance=0,this.closeRequest=new c.bkB,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=E.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=S.b8,this.allUploadFileTypes=S.PO,this.minimumWithdraw=2e5,this.form=new e.gE({accountNameControl:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),bankId:new e.MJ({value:1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),bankNumber:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[A-Za-z0-9]*$")]}),address:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),contactPhone:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[0-9]*$"),e.k0.minLength(10)]}),idCard:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[0-9]*$")]}),idIssuedBy:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),idIssuedAt:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),birthday:new e.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.k0.required]}),acceptPolicy:new e.MJ(!1,{nonNullable:!0,validators:[e.k0.requiredTrue]})})}}return(Y=Fe).\u0275fac=function(he){return new(he||Y)(c.rXU(M.e2))},Y.\u0275cmp=c.VBU({type:Y,selectors:[["withdraw-balance"]],inputs:{balanceUserInfo:"balanceUserInfo",transactionInfo:"transactionInfo",totalBalance:"totalBalance"},outputs:{closeRequest:"closeRequest"},features:[c.Jv_([{provide:m.$O,useClass:le.fb,deps:[H.Ju,F.ij]},{provide:m.vq,useFactory:se.fJ,deps:[K.F]}]),c.Vt3],decls:132,vars:116,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"text-danger","text-xs"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","square-pen",2,"width","1.25rem !important",3,"ngClass"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline",3,"ngClass"],["searchInList","","formControlName","bankId","name","bankIdInput",3,"value","valueChange","selectionChange"],["searchInListBank","searchInList"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","20"],[3,"touchUi","hideTime"],["idIssuedAt",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["birthday",""],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],[2,"display","block",3,"uploadToCdnMenu","fileType","uploadComplete"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","x","size","16"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["name","upload","size","16",3,"ngClass"],[1,"text-primary","mr-1"],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(he,z){if(1&he){const Pe=c.RV6();c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),c.EFF(5),c.nI1(6,"mytranslate"),c.nI1(7,"number"),c.k0s(),c.j41(8,"span",5),c.EFF(9),c.nI1(10,"mytranslate"),c.k0s()(),c.j41(11,"div",6)(12,"h2",7),c.EFF(13),c.nI1(14,"mytranslate"),c.k0s(),c.j41(15,"div",8),c.bIt("click",function(){return z.enableEdit()}),c.nrm(16,"lucide-icon",9),c.EFF(17),c.nI1(18,"mytranslate"),c.k0s()(),c.j41(19,"form",10)(20,"div",11)(21,"div",12)(22,"div",13)(23,"div",14)(24,"label",15),c.EFF(25),c.nI1(26,"mytranslate"),c.k0s(),c.nrm(27,"input",16),c.DNE(28,ne,3,3,"div",17),c.k0s(),c.j41(29,"div",14)(30,"label",18),c.EFF(31),c.nI1(32,"mytranslate"),c.k0s(),c.j41(33,"mat-form-field",19)(34,"mat-select",20,21),c.bIt("valueChange",function(v){return z.currentBankId=v})("selectionChange",function(v){return z.selectBank(v.value)}),c.j41(36,"mat-option"),c.nrm(37,"ngx-mat-select-search",22),c.nI1(38,"mytranslate"),c.nI1(39,"mytranslate"),c.k0s(),c.DNE(40,N,2,2,"mat-option",23),c.k0s()(),c.DNE(41,fe,3,3,"div",17),c.k0s(),c.j41(42,"div",14)(43,"label",24),c.EFF(44),c.nI1(45,"mytranslate"),c.k0s(),c.nrm(46,"input",25),c.DNE(47,Me,3,3,"div",17),c.k0s(),c.j41(48,"div",26)(49,"h2",27),c.EFF(50),c.nI1(51,"mytranslate"),c.k0s()(),c.j41(52,"div",14)(53,"label",28),c.EFF(54),c.nI1(55,"mytranslate"),c.k0s(),c.nrm(56,"input",29),c.DNE(57,je,3,3,"div",17),c.k0s(),c.j41(58,"div",14)(59,"label",30),c.EFF(60),c.nI1(61,"mytranslate"),c.k0s(),c.nrm(62,"input",31),c.DNE(63,dt,3,3,"div",17),c.k0s(),c.j41(64,"div",14)(65,"label",32),c.EFF(66),c.nI1(67,"mytranslate"),c.k0s(),c.j41(68,"mat-form-field",33)(69,"input",34),c.bIt("click",function(){c.eBV(Pe);const v=c.sdS(74);return c.Njj(v.open())}),c.nI1(70,"mytranslate"),c.k0s(),c.j41(71,"button",35),c.bIt("click",function(v){return c.eBV(Pe),c.sdS(74).open(),c.Njj(v.stopPropagation())}),c.nrm(72,"lucide-icon",36),c.k0s(),c.j41(73,"ngx-mat-datetime-picker",37,38)(75,"ngx-mat-datepicker-actions")(76,"button",39),c.EFF(77,"OK"),c.k0s()()()()(),c.j41(78,"div",14)(79,"label",40),c.EFF(80),c.nI1(81,"mytranslate"),c.k0s(),c.j41(82,"mat-form-field",33)(83,"input",41),c.bIt("click",function(){c.eBV(Pe);const v=c.sdS(88);return c.Njj(v.open())}),c.nI1(84,"mytranslate"),c.k0s(),c.j41(85,"button",42),c.bIt("click",function(v){return c.eBV(Pe),c.sdS(88).open(),c.Njj(v.stopPropagation())}),c.nrm(86,"lucide-icon",36),c.k0s(),c.j41(87,"ngx-mat-datetime-picker",37,43)(89,"ngx-mat-datepicker-actions")(90,"button",39),c.EFF(91,"OK"),c.k0s()()()(),c.DNE(92,Et,3,3,"div",17),c.nI1(93,"calcYearOldUser"),c.k0s(),c.j41(94,"div",14)(95,"label",44),c.EFF(96),c.nI1(97,"mytranslate"),c.k0s(),c.nrm(98,"input",45),c.DNE(99,kt,3,3,"div",17),c.k0s(),c.j41(100,"div",14)(101,"label",46),c.EFF(102),c.nI1(103,"mytranslate"),c.k0s(),c.nrm(104,"input",47),c.DNE(105,Je,3,3,"div",17),c.k0s(),c.j41(106,"div",14)(107,"div",48),c.nrm(108,"input",49),c.j41(109,"label",50),c.EFF(110),c.nI1(111,"mytranslate"),c.j41(112,"a",51),c.EFF(113),c.nI1(114,"mytranslate"),c.k0s(),c.EFF(115),c.nI1(116,"mytranslate"),c.nrm(117,"azt-download-link-item",52),c.nI1(118,"convertRawLinkOfGitHubWithLocale"),c.EFF(119),c.nI1(120,"mytranslate"),c.k0s()(),c.DNE(121,vt,3,3,"div",17),c.k0s(),c.DNE(122,Nt,8,9,"div",53),c.k0s(),c.j41(123,"div",54)(124,"div",55)(125,"h2",56),c.EFF(126),c.nI1(127,"mytranslate"),c.k0s()(),c.DNE(128,Wt,2,1,"div",57),c.j41(129,"azt-upload-multiple-box",58),c.bIt("uploadComplete",function(v){return z.handleUploadComplete(v)}),c.DNE(130,Ie,6,5,"div",59),c.k0s()(),c.DNE(131,bt,9,9,"div",60),c.k0s()()()()()()}if(2&he){const Pe=c.sdS(35),$e=c.sdS(74),v=c.sdS(88);c.R7$(5),c.Lme("",c.bMT(6,59,"lang_test_market_balance"),"",c.bMT(7,61,z.totalBalance),"\u0111"),c.R7$(4),c.JRh(c.bMT(10,63,"lang_test_market_request_with_draw_notice")),c.R7$(4),c.SpI(" ",c.bMT(14,65,"lang_test_market_bank_information")," "),c.R7$(3),c.Y8G("ngClass",c.lJ4(111,rt)),c.R7$(1),c.SpI(" ",c.bMT(18,67,z.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),c.R7$(2),c.Y8G("formGroup",z.form),c.R7$(6),c.SpI(" ",c.bMT(26,69,"lang_test_market_bankHolder")," "),c.R7$(3),c.Y8G("ngIf",z.form.controls.accountNameControl.dirty&&z.form.controls.accountNameControl.errors),c.R7$(3),c.SpI(" ",c.bMT(32,71,"lang_test_market_bankName")," "),c.R7$(2),c.Y8G("ngClass",c.eq3(112,_t,z.form.controls.bankId.invalid)),c.R7$(1),c.Y8G("value",z.currentBankId),c.R7$(3),c.FS9("placeholderLabel",c.bMT(38,73,"lang_bot_common_search_by_name")),c.FS9("noEntriesFoundLabel",c.bMT(39,75,"lang_bot_common_search_not_found")),c.Y8G("formControl",Pe.searchControl),c.R7$(3),c.Y8G("ngForOf",Pe.filter(z.listBanks,"name")),c.R7$(1),c.Y8G("ngIf",z.form.controls.bankId.dirty&&z.form.controls.bankId.errors),c.R7$(3),c.SpI(" ",c.bMT(45,77,"lang_test_market_bankNumber")," "),c.R7$(3),c.Y8G("ngIf",z.form.controls.bankNumber.dirty&&z.form.controls.bankNumber.errors),c.R7$(3),c.SpI(" ",c.bMT(51,79,"lang_test_market_personal_information")," "),c.R7$(4),c.SpI(" ",c.bMT(55,81,"lang_test_market_citizen_id")," "),c.R7$(3),c.Y8G("ngIf",z.form.controls.idCard.dirty&&z.form.controls.idCard.errors),c.R7$(3),c.SpI(" ",c.bMT(61,83,"lang_test_market_issued_by")," "),c.R7$(3),c.Y8G("ngIf",z.form.controls.idIssuedBy.dirty&&z.form.controls.idIssuedBy.errors),c.R7$(3),c.SpI(" ",c.bMT(67,85,"lang_test_market_issued_at")," "),c.R7$(3),c.FS9("placeholder",c.bMT(70,87,"lang_test_market_issued_at")),c.Y8G("max",z.maxDate)("ngxMatDatetimePicker",$e),c.R7$(4),c.Y8G("touchUi",!0)("hideTime",!0),c.R7$(7),c.SpI(" ",c.bMT(81,89,"lang_auto_ngay_sinh")," "),c.R7$(3),c.FS9("placeholder",c.bMT(84,91,"lang_auto_ngay_sinh")),c.Y8G("max",z.maxDate)("ngxMatDatetimePicker",v),c.R7$(4),c.Y8G("touchUi",!0)("hideTime",!0),c.R7$(5),c.Y8G("ngIf",c.bMT(93,93,z.form.controls.birthday.value)<18),c.R7$(4),c.SpI(" ",c.bMT(97,95,"lang_number_phone")," "),c.R7$(3),c.Y8G("ngIf",z.form.controls.contactPhone.dirty&&z.form.controls.contactPhone.errors),c.R7$(3),c.SpI(" ",c.bMT(103,97,"lang_test_market_address")," "),c.R7$(3),c.Y8G("ngIf",z.form.controls.address.dirty&&z.form.controls.address.errors),c.R7$(5),c.SpI(" ",c.bMT(111,99,"lang_test_market_Azota_policy_1")," "),c.R7$(2),c.FS9("href","/"+z.getCurLang()+"/admin/test-market/privacy",c.B4B),c.R7$(1),c.SpI(" ",c.bMT(114,101,"lang_test_market_Azota_policy_2")," "),c.R7$(2),c.SpI(" \xa0",c.bMT(116,103,"lang_auto_va"),"\xa0 "),c.R7$(2),c.Y8G("dataUrl",c.bMT(118,105,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),c.R7$(2),c.SpI(" ",c.bMT(120,107,"lang_test_market_Azota_policy_3")," "),c.R7$(2),c.Y8G("ngIf",(null==z.form.controls.acceptPolicy?null:z.form.controls.acceptPolicy.dirty)&&(null==z.form.controls.acceptPolicy?null:z.form.controls.acceptPolicy.errors)&&!(null!=z.form.controls.acceptPolicy&&z.form.controls.acceptPolicy.value)),c.R7$(1),c.Y8G("ngIf",!z.isMobile),c.R7$(4),c.SpI(" ",c.bMT(127,109,"lang_test_market_upload_citizenID_images")," "),c.R7$(2),c.Y8G("ngIf",z.citizenIdImages.length>0),c.R7$(1),c.Y8G("uploadToCdnMenu",z.allUploadToCdnMenuTypes.GET_PUBLIC_UPLOAD_URL_FOR_ID_NUMBER)("fileType",c.eq3(114,Be,z.allUploadFileTypes.IMAGE)),c.R7$(1),c.Y8G("ngIf",z.enableEditInfo),c.R7$(1),c.Y8G("ngIf",z.isMobile)}},dependencies:[j.YU,j.Sq,j.bT,e.qT,e.me,e.Zm,e.BC,e.cb,H.wT,B.$z,V.fg,$.rl,$.yw,q.VO,m.m7,m.yF,m.HF,m.Uq,e.l_,e.j4,e.JD,te.t,Le.W,Ae.V,X.x,ye.WGl,ge.U9,j.QX,Se.wp,Se.nf,Se.V3,Se.gs],encapsulation:2}),Fe})()},73338:(Xe,be,y)=>{"use strict";y.r(be),y.d(be,{AuthModule:()=>s_});var m=y(54460),c=y(32065),e=y(26860),F=y(24788);(0,F.registerVersion)("firebase","10.5.2","app");var se=y(19899),Q=y(48050);const E=new class S extends Q.q{}(class K extends se.R{constructor(u,n){super(u,n),this.scheduler=u,this.work=n}schedule(u,n=0){return n>0?super.schedule(u,n):(this.delay=n,this.state=u,this.scheduler.flush(this),this)}execute(u,n){return n>0||this.closed?super.execute(u,n):this._execute(u,n)}requestAsyncId(u,n,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(u,n,i):(u.flush(this),0)}});var j=y(26061),B=y(82040),V=y(89764),$=y(59668);const q=new e.RxE("ANGULARFIRE2_VERSION");class X{constructor(){return((t,u)=>{const n=(0,F.getApps)(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(b=>{i.includes(b)||i.push(b)})}),i})(ye)}}const ye="app-check";function ge(){}class Se{constructor(u,n=E){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=u,this.delegate=n}now(){return this.delegate.now()}schedule(u,n,i){const r=this.zone;return this.delegate.schedule(function(b){r.runGuarded(()=>{u.apply(this,[b])})},n,i)}}class ne{constructor(u){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=u}call(u,n){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ge,{},ge,ge)),n.pipe((0,B.M)({next:i,complete:i,error:i})).subscribe(u).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let N=(()=>{var t;class u{constructor(i){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new Se(Zone.current)),this.insideAngular=i.run(()=>new Se(Zone.current,j.E)),globalThis.\u0275AngularFireScheduler||=this}}return t=u,(0,c.A)(u,"\u0275fac",function(i){return new(i||t)(e.KVO(e.SKi))}),(0,c.A)(u,"\u0275prov",e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})),u})();function kt(t){return function Je(t){return function(n){return(n=n.lift(new ne(t.ngZone))).pipe((0,V._)(t.outsideAngular),(0,$.Q)(t.insideAngular))}}(function fe(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}())(t)}var ot=y(26863);ot.A.registerVersion("firebase","10.5.2","app-compat");const Ee=["ngOnDestroy"];class rt{constructor(u){return u}}const _t=new e.nKC("angularfire2.app.options"),Be=new e.nKC("angularfire2.app.name");function St(t,u,n){const r="object"==typeof n&&n||{};r.name=r.name||"string"==typeof n&&n||"[DEFAULT]";const b=ot.A.apps.filter(w=>w&&w.name===r.name)[0]||u.runOutsideAngular(()=>ot.A.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(b.options)){const w=!!module.hot;Y("error",`${b.name} Firebase App already initialized with different options${w?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new rt(b)}const Y=(t,...u)=>{(0,e.naY)()&&typeof console<"u"&&console[t](...u)},Fe={provide:rt,useFactory:St,deps:[_t,e.SKi,[new e.Xx1,Be]]};let pe=(()=>{var t;class u{static initializeApp(i,r){return{ngModule:u,providers:[{provide:_t,useValue:i},{provide:Be,useValue:r}]}}constructor(i){ot.A.registerVersion("angularfire",q.full,"core"),ot.A.registerVersion("angularfire",q.full,"app-compat"),ot.A.registerVersion("angular",e.xvI.full,i.toString())}}return t=u,(0,c.A)(u,"\u0275fac",function(i){return new(i||t)(e.KVO(e.Agw))}),(0,c.A)(u,"\u0275mod",e.$C({type:t})),(0,c.A)(u,"\u0275inj",e.G2t({providers:[Fe]})),u})();const Pe=typeof module<"u"&&!!module.hot,$e=(t,...u)=>{(0,e.naY)()&&typeof console<"u"&&console[t](...u)};globalThis.\u0275AngularfireInstanceCache||=[];var v=y(10936),_e=y(65162),xt=y(69223),oe=y(15343);function At(t,u){if(1&t){const n=e.RV6();e.j41(0,"input",3,4),e.bIt("paste",function(r){e.eBV(n);const d=e.XpG(2);return e.Njj(d.handlePaste(r))})("keyup",function(r){const b=e.eBV(n).index,w=e.XpG(2);return e.Njj(w.onKeyUp(r,b))})("input",function(r){e.eBV(n);const d=e.XpG(2);return e.Njj(d.onInput(r))})("keydown",function(r){const b=e.eBV(n).index,w=e.XpG(2);return e.Njj(w.onKeyDown(r,b))}),e.k0s()}if(2&t){const n=u.$implicit,i=u.index,r=e.XpG(2);e.ZvI("otp-input ",r.config.inputClass,""),e.Y8G("pattern",r.config.allowNumbersOnly?"\\d*":"")("type",r.inputType)("placeholder",(null==r.config?null:r.config.placeholder)||"")("ngStyle",r.config.inputStyles)("formControl",r.otpForm.controls[n])("id",r.getBoxId(i))}}function Ot(t,u){if(1&t&&(e.j41(0,"div",1),e.DNE(1,At,2,9,"input",2),e.nI1(2,"keys"),e.k0s()),2&t){const n=e.XpG();e.ZvI("ng-otp-input-wrapper wrapper ",n.config.containerClass,""),e.Mz_("id","c_",n.componentKey,""),e.Y8G("ngStyle",n.config.containerStyles),e.R7$(1),e.Y8G("ngForOf",e.bMT(2,6,null==n.otpForm?null:n.otpForm.controls))}}class Ze{static ifTab(u){return this.ifKey(u,"Tab")}static ifDelete(u){return this.ifKey(u,"Delete;Del")}static ifBackspace(u){return this.ifKey(u,"Backspace")}static ifRightArrow(u){return this.ifKey(u,"ArrowRight;Right")}static ifLeftArrow(u){return this.ifKey(u,"ArrowLeft;Left")}static ifSpacebar(u){return this.ifKey(u,"Spacebar; ")}static ifKey(u,n){return n.split(";").some(r=>r===u.key)}}let mt=(()=>{class t{transform(n){return Object.keys(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.EJ8({name:"keys",type:t,pure:!0}),t})(),st=(()=>{class t{constructor(n,i){this.keysPipe=n,this.document=i,this.config={length:4},this.onInputChange=new e.bkB,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new v.gE({});for(let n=0;n<this.config.length;n++)this.otpForm.addControl(this.getControlName(n),new v.MJ);this.otpForm.valueChanges.subscribe(n=>{this.keysPipe.transform(this.otpForm.controls).forEach(i=>{var r=this.otpForm.controls[i].value;r&&r.length>1&&(r.length>=this.config.length?this.setValue(r):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const n=this.document.getElementById(`c_${this.componentKey}`);if(n){const i=n.getElementsByClassName("otp-input")[0];i&&i.focus&&i.focus()}}}getControlName(n){return`ctrl_${n}`}onKeyDown(n,i){const r=this.getBoxId(i-1),d=this.getBoxId(i);return Ze.ifSpacebar(n)?(n.preventDefault(),!1):Ze.ifBackspace(n)?(n.target.value?this.clearInput(d,i):(this.clearInput(r,i-1),this.setSelected(r)),void this.rebuildValue()):void 0}onInput(n){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${n.target.value}`:n.target.value))return n.target.value="",n.stopPropagation(),void n.preventDefault()}onKeyUp(n,i){Ze.ifTab(n)&&(i-=1);const r=this.getBoxId(i+1),d=this.getBoxId(i-1),b=this.getBoxId(i);return Ze.ifRightArrow(n)?(n.preventDefault(),void this.setSelected(r)):Ze.ifLeftArrow(n)?(n.preventDefault(),void this.setSelected(d)):Ze.ifDelete(n)?(n.target.value?this.clearInput(b,i):(this.clearInput(d,i-1),this.setSelected(d)),void this.rebuildValue()):void(n.target.value&&(this.ifValidKeyCode(n)&&this.setSelected(r),this.rebuildValue()))}validateNumber(n){return n&&/^[0-9]+$/.test(n)}getBoxId(n){return`otp_${n}_${this.componentKey}`}clearInput(n,i){let r=this.getControlName(i);this.otpForm.controls[r]?.setValue(null);const d=this.document.getElementById(n);d&&d instanceof HTMLInputElement&&(d.value=null)}setSelected(n){this.focusTo(n);const i=this.document.getElementById(n);i&&i.setSelectionRange&&setTimeout(()=>{i.setSelectionRange(0,1)},0)}ifValidKeyCode(n){const i=n.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(i)}focusTo(n){const i=this.document.getElementById(n);i&&i.focus()}setValue(n){if(!this.config.allowNumbersOnly||!isNaN(n)){if(this.otpForm.reset(),!n)return void this.rebuildValue();if(n=n.toString().replace(/\s/g,""),Array.from(n).forEach((r,d)=>{this.otpForm.get(this.getControlName(d))&&this.otpForm.get(this.getControlName(d)).setValue(r)}),!this.config.disableAutoFocus){const r=this.document.getElementById(`c_${this.componentKey}`);var i=n.length<this.config.length?n.length:this.config.length-1;let d=r.getElementsByClassName("otp-input")[i];d&&d.focus&&d.focus()}this.rebuildValue()}}rebuildValue(){let n="";this.keysPipe.transform(this.otpForm.controls).forEach(i=>{if(this.otpForm.controls[i].value){let r=this.otpForm.controls[i].value,d=r.length>1,b=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());r=r[0];let w=b?"upper"==this.config.letterCase.toLocaleLowerCase()?r.toUpperCase():r.toLowerCase():r;b&&w==r?b=!1:r=w,n+=r,(d||b)&&this.otpForm.controls[i].setValue(r)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(n),this.onInputChange.emit(n),this.currentVal=n}handlePaste(n){let i=n.clipboardData||window.clipboardData;if(i)var r=i.getData("Text");n.stopPropagation(),n.preventDefault(),r&&(!this.config.allowNumbersOnly||this.validateNumber(r))&&this.setValue(r)}}return t.\u0275fac=function(n){return new(n||t)(e.rXU(mt),e.rXU(m.qQ))},t.\u0275cmp=e.VBU({type:t,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(n,i){1&n&&e.DNE(0,Ot,3,8,"div",0),2&n&&e.Y8G("ngIf",null==i.otpForm?null:i.otpForm.controls)},dependencies:[m.bT,m.B3,m.Sq,v.me,v.R_,v.BC,v.l_,mt],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),t})(),pt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({providers:[mt],imports:[[m.MD,v.YN,v.X1]]}),t})();var fn=y(13763),Ue=y(10123),lt=y(25571),Tt=y(44233),ht=y(5502),rn=y(21656),Ge=y(70050),Ve=y(7050),Qt=y(91100),et=y(43234),Jt=y(1133),Ne=y(76627),at=y(78248),Z=y(59640),gt=y(73402),Kt=y(69988),He=y(36484),ct=y(39307),Rt=y(52509),C=y(46899),I=y(18718),g=y(22783),f=y(96451),p=y(69715),R=y(81519),P=y(47426),U=y(74960),ie=y(99503),ce=y(79347),Te=y(9691),J=y(15766),we=y(89163),me=y(33887),ue=y(53916),Ft=y(84828),A=y(4375),T=y(52811),L=y(43166),O=y(76975);function de(t,u){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function ve(t,u){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function Oe(t,u){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function Ke(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",21,22),e.bIt("valueChange",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.department_select=r)})("selectionChange",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.selectDepartment(r.value))}),e.nI1(4,"mytranslate"),e.j41(5,"mat-option"),e.nrm(6,"ngx-mat-select-search",8),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,Oe,2,2,"mat-option",9),e.k0s()()()}if(2&t){const n=e.sdS(3),i=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"lang_testbank_utils_school_info_select_department")),e.Y8G("value",i.department_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(7,8,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(8,10,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(i.departments,"name"))}}function We(t,u){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function qt(t,u){1&t&&(e.j41(0,"span",23),e.nrm(1,"azt-loading-ui"),e.k0s())}let Zt=(()=>{var t;class u extends me._{initData(){this.getProvinces(),this.getTypeSchool()}selectLocation(i){this.location_select=i,this.department_select=null,this.departments=[],this.getDistrictsByProvince()}selectLevel(i){this.schools=[],this.school_select=null,this.level_select=i,i<=3?(this.getListSchool(),this.getDistrictsByProvince()):i>3&&this.getListSchoolByProvince()}selectDepartment(i){this.schools=[],this.school_select=null,this.department_select=i,this.getListSchool()}selectSchool(i){this.school_select=i}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(r=>{r&&1==r.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(r.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack(this.sAztUserService.isTeacherRole()?"lang_auto_vui_long_chon_truong_minh_dang_giang_day":"lang_auto_vui_long_chon_truong_minh_dang_theo_hoc")}btnCloseDialog(i){this.dialogRef.close(i)}getProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(i=>{i&&(this.locations=i.data?.objs??new Array,this.locations=this.sortName(this.locations))})}getTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(i=>{i&&(this.levels=i.data?.objs??new Array)})}getDistrictsByProvince(i=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(r=>{r&&(this.departments=r.data?.objs??new Array,this.departments=this.sortName(this.departments),i())})}getListSchoolByProvince(i=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),i())})}getListSchool(i=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),i())})}sortName(i){return i.sort((r,d)=>r.name?.trim().localeCompare(d.name?.trim()??"")??-1),i}ngOnInit(){this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.getDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),super.ngOnInit()}constructor(i,r,d,b,w){super(w,b),this.schoolConfigService=i,this.schoolInfoService=r,this.sAztUserService=d,this.dialogRef=b,this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=w.infoSchool,this.form=new v.gE({LocationName:new v.MJ("",{nonNullable:!0}),LevelName:new v.MJ("",{nonNullable:!0}),DepartmentName:new v.MJ("",{nonNullable:!0}),SchoolName:new v.MJ("",{nonNullable:!0}),multiChooseLevel:new v.MJ([]),listMultiChooseSubject:new v.Yp([])})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.C1),e.rXU(Ft.OC),e.rXU(He.R),e.rXU(we.CP,8),e.rXU(we.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-school-info"]],features:[e.Vt3],decls:47,vars:52,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["searchInList","","name","LocationName",3,"value","placeholder","valueChange","selectionChange"],["searchInListLocation","searchInList"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["searchInList","","name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["searchInListLevel","searchInList"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["searchInList","","name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],["searchInListSchool","searchInList"],[1,"mt-3","mb-2","flex","justify-end"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value"],["searchInList","","name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],["searchInListDepartment","searchInList"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",2),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-select",6,7),e.bIt("valueChange",function(b){return r.location_select=b})("selectionChange",function(b){return r.selectLocation(b.value)}),e.nI1(12,"mytranslate"),e.j41(13,"mat-option"),e.nrm(14,"ngx-mat-select-search",8),e.nI1(15,"mytranslate"),e.nI1(16,"mytranslate"),e.k0s(),e.DNE(17,de,2,2,"mat-option",9),e.k0s()()(),e.j41(18,"div",4)(19,"mat-form-field",5)(20,"mat-select",10,11),e.bIt("valueChange",function(b){return r.level_select=b})("selectionChange",function(b){return r.selectLevel(b.value)}),e.nI1(22,"mytranslate"),e.j41(23,"mat-option"),e.nrm(24,"ngx-mat-select-search",8),e.nI1(25,"mytranslate"),e.nI1(26,"mytranslate"),e.k0s(),e.DNE(27,ve,2,2,"mat-option",9),e.k0s()()(),e.DNE(28,Ke,10,12,"div",12),e.j41(29,"div",13)(30,"mat-form-field",5)(31,"mat-select",14,15),e.bIt("valueChange",function(b){return r.school_select=b})("selectionChange",function(b){return r.selectSchool(b.value)}),e.nI1(33,"mytranslate"),e.j41(34,"mat-option"),e.nrm(35,"ngx-mat-select-search",8),e.nI1(36,"mytranslate"),e.nI1(37,"mytranslate"),e.k0s(),e.DNE(38,We,2,2,"mat-option",9),e.k0s()()()(),e.j41(39,"div",16)(40,"button",17),e.bIt("click",function(){return r.btnCloseDialog(void 0)}),e.EFF(41),e.nI1(42,"mytranslate"),e.k0s(),e.j41(43,"button",18),e.bIt("click",function(){return r.saveInfo()}),e.DNE(44,qt,2,0,"span",19),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()()()),2&i){const d=e.sdS(11),b=e.sdS(21),w=e.sdS(32);let G;e.R7$(2),e.SpI(" ",e.bMT(3,26,"lang_auto_cap_nhat_thong_tin_truong")," "),e.R7$(3),e.SpI(" ",e.bMT(6,28,"lang_testbank_utils_school_info_note_tutorial")," "),e.R7$(2),e.Y8G("formGroup",r.form),e.R7$(3),e.FS9("placeholder",e.bMT(12,30,"lang_testbank_utils_school_info_select_province")),e.Y8G("value",r.location_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(15,32,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(16,34,"lang_bot_common_search_not_found")),e.Y8G("formControl",d.searchControl),e.R7$(3),e.Y8G("ngForOf",d.filter(r.locations,"name")),e.R7$(3),e.FS9("placeholder",e.bMT(22,36,"lang_testbank_utils_school_info_select_level")),e.Y8G("value",r.level_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(25,38,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(26,40,"lang_bot_common_search_not_found")),e.Y8G("formControl",b.searchControl),e.R7$(3),e.Y8G("ngForOf",b.filter(r.levels,"name")),e.R7$(1),e.Y8G("ngIf",(null!==(G=r.level_select)&&void 0!==G?G:0)<=3),e.R7$(3),e.FS9("placeholder",e.bMT(33,42,"lang_testbank_utils_school_info_select_school")),e.Y8G("value",r.school_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(36,44,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(37,46,"lang_bot_common_search_not_found")),e.Y8G("formControl",w.searchControl),e.R7$(3),e.Y8G("ngForOf",w.filter(r.schools,"name")),e.R7$(3),e.SpI(" ",e.bMT(42,48,"lang_testbank_utils_school_info_later")," "),e.R7$(2),e.Y8G("disabled",r.statusObj.loading),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(46,50,"lang_button_save")," ")}},dependencies:[m.Sq,m.bT,P.wT,U.rl,A.VO,v.qT,v.BC,v.cb,v.l_,v.j4,Tt.U9,T.R,L.x,O.wp],encapsulation:2}),u})();var Lr=y(40246);function Gr(t,u){1&t&&(e.j41(0,"span",7),e.nrm(1,"azt-loading-ui"),e.k0s())}let $r=(()=>{var t;class u extends me._{setData(i){this.dataObjs=i}checkValidChooseGradeAndSubject(i){let r=!0;return i.length?i.forEach(d=>{(!d.subjectsIds||!d.subjectsIds.length)&&(r=!1)}):r=!1,r}saveInfo(){let i=[],r=[],d=[];for(let b=0;b<this.dataObjs.length;b++)if(this.commonService.isExistInArray(r,this.dataObjs[b].class?.value)||(r.push(Number(this.dataObjs[b].class?.value)),d.push(String(this.dataObjs[b].class?.desc))),this.dataObjs[b].subjectsIds&&Array.isArray(this.dataObjs[b].subjectsIds)){let w=this.dataObjs[b].subjectsIds??[];if(w.length)for(let G=0;G<w.length;G++)i.push({classId:this.dataObjs[b].class?.value??0,subjectId:w[G]})}i.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:i}).subscribe(b=>{b&&1==b.success?(this.classroomGradePathValue=r,this.dialogRef.close({classroomIds:r,classroomDescs:d})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(i,r,d){super(d,r),this.surveyConfigService=i,this.dialogRef=r,this.dataDialog=d,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((b,w)=>(b.class?.value??0)-(w.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey,this.form=new v.gE({LocationName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),LevelName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),DepartmentName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),SchoolName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),multiChooseLevel:new v.MJ([]),listMultiChooseSubject:new v.Yp([])})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.K0),e.rXU(we.CP,8),e.rXU(we.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-grade-subject-info"]],features:[e.Vt3],decls:11,vars:13,consts:[[1,"box","p-5"],[3,"formGroup"],[3,"valueSurvey","valueSubjectSurvey","classroomGradePathValue","dataObjs","sendData"],[1,"mt-3","flex","justify-end"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"form",1)(2,"azt-multi-choose-level-subject",2),e.bIt("sendData",function(b){return r.setData(b)}),e.k0s()(),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){return r.btnCloseDialog()}),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){return r.saveInfo()}),e.DNE(8,Gr,2,0,"span",6),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(1),e.Y8G("valueSurvey",r.valueSurvey)("valueSubjectSurvey",r.valueSubjectSurvey)("classroomGradePathValue",r.classroomGradePathValue)("dataObjs",r.dataObjs),e.R7$(3),e.SpI(" ",e.bMT(6,9,"lang_testbank_utils_school_info_later")," "),e.R7$(2),e.Y8G("disabled",r.statusObj.loading||!r.checkValidChooseGradeAndSubject(r.dataObjs)),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(10,11,"lang_button_save")," "))},dependencies:[m.bT,v.qT,v.cb,v.j4,T.R,Lr.C,O.wp],encapsulation:2}),u})();var De=y(39712),Yo=y(97357),zr=y(7896),oi=y(95624),sn=y(39471),Br=y(97839),Wo=y(68323),tt=y(81587),Qo=y(64198),qo=y(9516);function ri(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e.SdG(4,1),e.k0s(),e.j41(5,"div",8)(6,"div",9)(7,"image-cropper",10),e.bIt("imageCropped",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.imageCropped(r))}),e.k0s()()(),e.j41(8,"div",11)(9,"button",12),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.removeDialog())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",13),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.submitImage())}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()()()}if(2&t){const n=e.XpG();e.Y8G("ngClass",n.isMobileWebView?"box-mobile-web-view":"box-web"),e.R7$(7),e.Y8G("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),e.R7$(3),e.JRh(e.bMT(11,8,"lang_auto_huy")),e.R7$(3),e.JRh(e.bMT(14,10,"lang_auto_cap_nhat"))}}const Nn=[[["","body",""]],[["","header",""]]],si=["[body]","[header]"];let Ur=(()=>{var t;class u extends qo.L{constructor(){super(...arguments),this.uploadComplete=new e.bkB,this.imageChangedEvent=void 0,this.imageFileName="",this.hasClicked=!1}checkPermissionCameraAndImagePicker(i){this.hasClicked=!1,this.onOpenFileDictionary();var r=this.commonService.appVersion();this.isMobileWebView&&r?(this.mobileWebviewService.sendSimpleMessage("CHECK_PERMISSION_IMAGE_PICKER"),this.mobileWebviewService.getWebviewPermissionImagePicker().subscribe(d=>{this.hasClicked||(d?.url&&this.uploadComplete.emit({url:d.url}),this.hasClicked=!0)})):i.click()}fileChangeEvent(i){const d=i.target.files;if(d){if((0,Qo.hD)(d[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=i,this.imageFileName=d?.length?d[0]?.name:""}}imageCropped(i){fetch(i.objectUrl??"").then(r=>r.blob()).then(r=>{const d=new FileReader;d.onload=()=>{let w=this.b64toFile(d.result,this.imageFileName);this.saveImage=w},d.readAsDataURL(r)}).catch(r=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",r))})}submitImage(){const i=this.imageChangedEvent?.target;i.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(r=>{r&&this.uploadComplete.emit(r)})}removeDialog(){const i=this.imageChangedEvent?.target;i.files=null,this.imageChangedEvent=void 0}emitUploadComplete(i){}b64toFile(i,r){i=i.replace("data:image/png;base64,","");let w=window.atob(i),G=[];for(let ae=0;ae<w.length;ae+=512){let ke=w.slice(ae,ae+512),qe=new Array(ke.length);for(let Ye=0;Ye<ke.length;Ye++)qe[Ye]=ke.charCodeAt(Ye);let Re=new Uint8Array(qe);G.push(Re)}return new File(G,r,{type:"image/png"})}}return(t=u).\u0275fac=function(){let n;return function(r){return(n||(n=e.xGo(t)))(r||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["azt-upload-image-cropper"]],outputs:{uploadComplete:"uploadComplete"},features:[e.Vt3],ngContentSelectors:si,decls:5,vars:2,consts:[[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"accept","change","cancel"],["formChoseFile",""],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(i,r){if(1&i){const d=e.RV6();e.NAR(Nn),e.j41(0,"div",0),e.bIt("click",function(){e.eBV(d);const w=e.sdS(2);return e.Njj(r.checkPermissionCameraAndImagePicker(w))}),e.j41(1,"input",1,2),e.bIt("change",function(w){return r.fileChangeEvent(w)})("cancel",function(w){return r.onCancelSelect(w)}),e.k0s(),e.SdG(3),e.k0s(),e.DNE(4,ri,15,12,"div",3)}2&i&&(e.R7$(1),e.FS9("accept",r.fileType),e.R7$(3),e.Y8G("ngIf",r.imageChangedEvent))},dependencies:[m.YU,m.bT,lt._D,O.wp],styles:[".source-image{margin:auto!important}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:auto}.box-web[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px}.box-mobile-web-view[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px;display:flex;align-items:center;justify-content:center}"]}),u})();function ai(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Vr(t,u){1&t&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function Yr(t,u){1&t&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_user_name_no_whitespace")," "))}function Xo(t,u){if(1&t&&(e.j41(0,"div",16)(1,"label",49),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"input",50),e.nI1(5,"mytranslate"),e.DNE(6,Yr,3,3,"div",19),e.k0s()),2&t){const n=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,3,"Username")," "),e.R7$(2),e.FS9("placeholder",e.bMT(5,5,"Username")+"..."),e.R7$(2),e.Y8G("ngIf",""!=n.form.controls.userName.value&&n.form.controls.userName.errors)}}function Ho(t,u){1&t&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function Wr(t,u){1&t&&e.nrm(0,"input",51)}function Jo(t,u){1&t&&(e.nrm(0,"input",52),e.nI1(1,"mytranslate")),2&t&&e.FS9("placeholder",e.bMT(1,1,"lang_auto_nhap_email")+"...")}function Qr(t,u){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI("*",e.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function an(t,u){if(1&t&&(e.j41(0,"div",53),e.DNE(1,Qr,3,3,"div",44),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.getErrorType("email","email")||n.getErrorType("email","pattern"))}}function Ko(t,u){if(1&t){const n=e.RV6();e.j41(0,"a",54),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.goToConfirmEmail())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")," "))}function li(t,u){1&t&&e.nrm(0,"input",55)}function Zo(t,u){1&t&&(e.nrm(0,"input",56),e.nI1(1,"mytranslate")),2&t&&e.FS9("placeholder",e.bMT(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function ci(t,u){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function qr(t,u){if(1&t&&(e.j41(0,"div",53),e.DNE(1,ci,3,3,"div",44),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.getErrorType("phone","pattern")||n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function ui(t,u){if(1&t){const n=e.RV6();e.j41(0,"a",57),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.goToConfirm())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")," "))}function Xr(t,u){1&t&&(e.j41(0,"div",65)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_account_general_require_school"),""))}const vn=function(){return{"mr-2":!0}};function Ln(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",58)(1,"label",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",60),e.nrm(5,"input",61),e.j41(6,"button",62),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.openDialogInfoSchool())}),e.nrm(7,"lucide-icon",63),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.DNE(10,Xr,4,3,"div",64),e.k0s()}if(2&t){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,5,"lang_auto_thong_tin_truong")),e.R7$(3),e.FS9("value",null==n.infoSchool?null:n.infoSchool.name),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,vn)),e.R7$(1),e.SpI(" ",e.bMT(9,7,null!=n.infoSchool&&n.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),e.R7$(2),e.Y8G("ngIf",!(null!=n.infoSchool&&n.infoSchool.name))}}function di(t,u){if(1&t&&(e.j41(0,"div",58)(1,"label",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",60),e.nrm(5,"input",61),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_auto_thong_tin_truong")),e.R7$(3),e.FS9("value",n.dataStudent.schoolName)}}function Hr(t,u){1&t&&(e.j41(0,"div",65)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_account_general_require_grade_subject"),""))}function _i(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",66)(2,"label",59),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",60),e.nrm(6,"input",61),e.j41(7,"button",67),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.openSelectGradeSubjectDialog())}),e.nrm(8,"lucide-icon",63),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.DNE(11,Hr,4,3,"div",64),e.k0s(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,5,"lang_auto_chon_khoi_day_mon_day")),e.R7$(3),e.FS9("value",n.classroomGradeDesc.join(", ")),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,vn)),e.R7$(1),e.SpI(" ",e.bMT(10,7,n.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),e.R7$(2),e.Y8G("ngIf",!n.classroomGradeDesc.length)}}function Jr(t,u){1&t&&e.nrm(0,"azt-loading-ui",68)}const mi=function(t){return[t]};function Kr(t,u){if(1&t){const n=e.RV6();e.j41(0,"form",4)(1,"div",5)(2,"div",6),e.nrm(3,"azt-create-avatar",7),e.k0s(),e.j41(4,"azt-upload-image-cropper",8),e.bIt("uploadComplete",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.submitAvatar(r))}),e.j41(5,"div",9)(6,"div",10)(7,"button",11),e.nrm(8,"lucide-icon",12),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",13),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",14),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()(),e.j41(17,"div",15)(18,"div",16)(19,"label",17),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.nrm(22,"input",18),e.nI1(23,"mytranslate"),e.DNE(24,Vr,3,3,"div",19),e.k0s(),e.DNE(25,Xo,7,7,"div",20),e.j41(26,"div",16)(27,"label",21),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s(),e.j41(30,"mat-form-field",22)(31,"input",23),e.bIt("click",function(){e.eBV(n);const r=e.sdS(36);return e.Njj(r.open())}),e.nI1(32,"mytranslate"),e.k0s(),e.j41(33,"button",24),e.bIt("click",function(r){return e.eBV(n),e.sdS(36).open(),e.Njj(r.stopPropagation())}),e.nrm(34,"lucide-icon",25),e.k0s(),e.j41(35,"ngx-mat-datetime-picker",26,27)(37,"ngx-mat-datepicker-actions")(38,"button",28),e.EFF(39,"OK"),e.k0s()()()(),e.DNE(40,Ho,3,3,"div",19),e.k0s(),e.j41(41,"div",16)(42,"label",29),e.EFF(43),e.nI1(44,"mytranslate"),e.k0s(),e.DNE(45,Wr,1,0,"input",30),e.DNE(46,Jo,2,3,"input",31),e.DNE(47,an,2,1,"div",32),e.DNE(48,Ko,3,3,"a",33),e.k0s(),e.j41(49,"div",16)(50,"label",29),e.EFF(51),e.nI1(52,"mytranslate"),e.k0s(),e.DNE(53,li,1,0,"input",34),e.DNE(54,Zo,2,3,"input",35),e.DNE(55,qr,2,1,"div",32),e.DNE(56,ui,3,3,"a",36),e.k0s(),e.j41(57,"div",16)(58,"label",29),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s(),e.j41(61,"div",37)(62,"div",38),e.nrm(63,"input",39),e.j41(64,"label",40),e.EFF(65),e.nI1(66,"mytranslate"),e.k0s()(),e.j41(67,"div",38),e.nrm(68,"input",41),e.j41(69,"label",42),e.EFF(70),e.nI1(71,"mytranslate"),e.k0s()()()(),e.DNE(72,Ln,11,10,"div",43),e.DNE(73,di,6,4,"div",43),e.DNE(74,_i,12,10,"ng-container",44),e.k0s(),e.j41(75,"div",45)(76,"button",46),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.parseInfoFieldForStudentObjsInExportExcel())}),e.DNE(77,Jr,1,0,"azt-loading-ui",47),e.EFF(78),e.nI1(79,"mytranslate"),e.k0s()()()}if(2&t){const n=e.sdS(36),i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(3),e.Y8G("linkAvatar",null==i.userObj?null:i.userObj.avatar)("nameCreateAvatar",null==i.userObj?null:i.userObj.fullName)("size",96),e.R7$(1),e.Y8G("uploadToCdnMenu",i.allUploadToCdnMenuTypes.AVATAR)("fileType",e.eq3(67,mi,i.allUploadFileTypes.IMAGE))("limitSize",i.limitSize),e.R7$(4),e.Y8G("ngClass",e.lJ4(69,vn)),e.R7$(1),e.SpI(" ",e.bMT(10,41,"lang_auto_tai_len")," "),e.R7$(3),e.SpI(" ",e.bMT(13,43,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),e.R7$(3),e.JRh(e.bMT(16,45,"lang_auto_cap_nhat_anh_dai_dien")),e.R7$(5),e.SpI(" ",e.bMT(21,47,"lang_auto_ho_va_ten")," "),e.R7$(2),e.FS9("placeholder",e.bMT(23,49,"lang_auto_nhap_ho_va_ten")+"..."),e.R7$(2),e.Y8G("ngIf",i.form.controls.fullName.errors),e.R7$(1),e.Y8G("ngIf",!i.isTqbDomain),e.R7$(3),e.JRh(e.bMT(29,51,"lang_auto_ngay_sinh")),e.R7$(3),e.FS9("placeholder",e.bMT(32,53,"lang_auto_ngay_sinh")),e.Y8G("max",i.maxDate)("ngxMatDatetimePicker",n),e.R7$(4),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(5),e.Y8G("ngIf",i.form.controls.birthday.errors),e.R7$(3),e.SpI(" ",e.bMT(44,55,"lang_auto_email")," "),e.R7$(2),e.Y8G("ngIf",null==i.userObj?null:i.userObj.email),e.R7$(1),e.Y8G("ngIf",!(null!=i.userObj&&i.userObj.email)),e.R7$(1),e.Y8G("ngIf",i.form.controls.email.invalid&&i.form.controls.email.dirty),e.R7$(1),e.Y8G("ngIf",(null==i.userObj?null:i.userObj.email)&&!i.isBusinessDomain),e.R7$(3),e.SpI(" ",e.bMT(52,57,"lang_auto_so_dien_thoai")," "),e.R7$(2),e.Y8G("ngIf",null==i.userObj?null:i.userObj.phone),e.R7$(1),e.Y8G("ngIf",!(null!=i.userObj&&i.userObj.phone)),e.R7$(1),e.Y8G("ngIf",i.form.controls.phone.invalid&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)),e.R7$(1),e.Y8G("ngIf",(null==i.userObj?null:i.userObj.phone)&&!i.isBusinessDomain),e.R7$(3),e.SpI(" ",e.bMT(60,59,"lang_auto_gioi_tinh")," "),e.R7$(6),e.SpI(" ",e.bMT(66,61,"lang_auto_nam")," "),e.R7$(5),e.SpI(" ",e.bMT(71,63,"lang_auto_nu")," "),e.R7$(2),e.Y8G("ngIf",!i.dataStudent),e.R7$(1),e.Y8G("ngIf",i.dataStudent),e.R7$(1),e.Y8G("ngIf",i.isTeacherDashboard),e.R7$(2),e.Y8G("disabled",!i.form.valid||!(null!=i.infoSchool&&i.infoSchool.name)||i.isTeacherDashboard&&!i.classroomGradeDesc.length),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(79,65,"lang_auto_cap_nhat")," ")}}let pi=(()=>{var t;class u extends Z.H{openSelectGradeSubjectDialog(){this.sAztDialogService.open($r,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.multiChooseLevelSubjectService.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.multiChooseLevelSubjectService.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(d=>{d&&d.classroomIds.length&&d.classroomDescs.length?(this.classroomGradePathValue=d.classroomIds,this.classroomGradeDesc=d.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(i=>{1==i.success?(this.multiChooseLevelSubjectService.processDataSchoolAndLevel(i.data?.schoolLevelSubjectObjs??[]),this.checkSurveySubmitted()):this.errorStatusObj(i.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(i=>{i&&1==i.success?((i.data?.objs??[]).forEach(d=>{let b=this.multiChooseLevelSubjectService.valueSurvey.find(w=>w.value==d.classId);if(b){b.value&&b.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,b.value)&&(this.classroomGradePathValue.push(b.value),this.classroomGradeDesc.push(b.desc));let w=this.dataObjs.filter(G=>G.class?.value==b?.value);w&&w.length?this.dataObjs.forEach(G=>{G.class?.value==b?.value&&d.subjectId&&G.subjectsIds?.push(d.subjectId)},this.dataObjs):this.dataObjs.push({class:b,subjectsIds:d.subjectId?[d.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}submitAvatar(i){this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:i.url??""}).subscribe(d=>{1==d.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)}))}openDialogInfoSchool(){this.sAztDialogService.open(Zt,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&(this.infoSchool=r)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(i=>{this.infoSchool=i.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let i=this.getFormValue(),r=this.userObj?.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),d=i.birthday?i.birthday:r.toString(),b={fullName:i.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(d),gender:Number(i.gender)??0,email:i.email,phone:i.phone};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(b).subscribe(w=>{1==w.success?(w.data&&(this.saveUserObj.emit(w.data),this.userObj=w.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(w.message??"",!0)}))}}initData(){let i=this.userObj?.birthday?this.userObj.birthday:"";this.isTqbDomain&&!this.isTeacherDashboard?this.getStudentInfo():(this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",userName:this.userObj?.userName??"",email:this.userObj?.email??"",phone:this.userObj?.phone??"",gender:1!=this.userObj?.gender?"0":"1"}),this.form.controls.birthday.setValue(i.toString()))}getStudentInfo(){this.waitDestroy(this.frontPageStudentService.apiFrontPageStudentGetExamObjsInDashboardGet().subscribe(i=>{const r=i.data?.objs??[];r.length&&this.getStudent(r[0]?.classroomObj?.id)}))}getStudent(i){i&&this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:50,name:"",programId:0,classroomId:i,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!0,getAssessment:!1}).subscribe({next:d=>{if(this.dataStudent=d.list?.[0],!this.dataStudent)return;let b=this.dataStudent?.birthday?this.dataStudent.birthday:"";this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",userName:this.dataStudent?.parentUserName??this.userObj?.userName??"",email:this.dataStudent?.email??"",phone:this.dataStudent?.phone??"",gender:1!=this.dataStudent?.gender?"0":"1",birthday:b.toString()}),this.stopStatusObj()},error:d=>{this.errorStatusObj(d.error.message,!0)}}))}getFormValue(){return this.form.getRawValue()}getErrorType(i,r){return!!this.form.controls?.[i]?.errors?.[r]&&this.form.controls?.[i]?.errors?.[r]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var i="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/confirm_account",i)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var i="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",i)}checkEnableChangeEmailOrPhone(i,r){if("email"==r){if(!i||!i.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==r&&(!i||i.length>15))return!0;return!1}ngOnInit(){this.userObj?.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj?.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(i,r,d,b,w,G,re,ae,ke,qe){super(),this.userInfoService=i,this.userService=r,this.timeService=d,this.sAztDialogService=b,this.schoolConfigService=w,this.surveyConfigService=G,this.commonListService=re,this.multiChooseLevelSubjectService=ae,this.frontPageStudentService=ke,this.studentService=qe,this.isTeacherDashboard=!1,this.saveUserObj=new e.bkB,this.returnUrl="",this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1,this.maxDate=et.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=De.b8,this.allUploadFileTypes=De.PO,this.limitSize=5,this.userObj=this.userService.getUserObj(),this.form=new v.gE({fullName:new v.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace]}),userName:new v.MJ({value:"",disabled:!0},{nonNullable:!0,validators:[J.M.noWhiteSpace]}),gender:new v.MJ({value:"",disabled:!!this.userObj?.isParentViewOnly},{nonNullable:!0}),birthday:new v.MJ({value:"",disabled:!!this.userObj?.isParentViewOnly},{nonNullable:!0,validators:[v.k0.required]}),phone:new v.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[v.k0.pattern("^[0-9]{10}$")]}),email:new v.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[v.k0.email,v.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.fv),e.rXU(He.R),e.rXU(Te.F),e.rXU(C.i),e.rXU(ue.C1),e.rXU(ue.K0),e.rXU(Ft.Nz),e.rXU(Yo.Y),e.rXU(zr.Hx),e.rXU(oi.b0))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[e.Jv_([m.vh,{provide:R.$O,useClass:ie.fb,deps:[P.Ju,ie.ij]},{provide:R.vq,useFactory:ce.fJ,deps:[Te.F]},{provide:U.U$,useValue:{floatLabel:"never"}}]),e.Vt3],decls:4,vars:3,consts:[[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoad",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[3,"uploadToCdnMenu","fileType","limitSize","uploadComplete"],["body","",1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary"],["name","upload","size","16",3,"ngClass"],[1,"text-slate-500","mt-1","text-xs"],["header","",1,"font-medium","text-base","mr-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["class","col-span-12 lg:col-span-6",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["class","mt-1 text-xs","style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],["class","col-span-12",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["for","azt-acs-username",1,"form-label","font-medium"],["id","azt-acs-username","type","text","formControlName","userName",1,"form-control",3,"placeholder"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[1,"mt-1","text-xs",2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["name","square-pen","size","16",3,"ngClass"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],[1,"mr-1"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0),e.DNE(1,ai,1,1,"azt-loading-effect",1),e.DNE(2,Kr,80,70,"ng-template",null,2,e.C5r),e.k0s()),2&i){const d=e.sdS(3);e.BMQ("style",r.isMobileWebView?"transform: none !important; animation: none":"",e.$dS),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[m.YU,m.bT,v.qT,v.me,v.Fm,v.BC,v.cb,sn.$z,Br.fg,U.rl,U.yw,R.m7,R.yF,R.HF,R.Uq,v.j4,v.JD,I.K,Wo.p,tt.t,T.R,Ur,oe.WGl,O.wp],encapsulation:2}),u})();function Zr(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function hi(t,u){if(1&t&&(e.j41(0,"div",18),e.DNE(1,Zr,3,3,"span",19),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.form.controls.oldPassword.errors.required)}}function es(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function gi(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ts(t,u){if(1&t&&(e.j41(0,"div",18),e.DNE(1,es,3,3,"span",19),e.DNE(2,gi,3,3,"span",19),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.form.controls.newPassword.errors.required),e.R7$(1),e.Y8G("ngIf",n.form.controls.newPassword.errors.minlength)}}function fi(t,u){if(1&t){const n=e.RV6();e.j41(0,"a",20),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.forgotPassword())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_quen_mat_khau")))}function bn(t,u){1&t&&e.nrm(0,"azt-loading-ui",21)}const Pt=function(){return{"dark:text-slate-500":!0}};let vi=(()=>{var t;class u extends Z.H{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let i=this.getFormValue(),r={password:i.newPassword,oldPassword:i.oldPassword};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(r).subscribe(d=>{1==d.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(d.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let i=this.commonService.getMyParam(this.activeRoute,"roleType"),r=this.commonService.getMyParam(this.activeRoute,"modeType");var d="?return_url="+encodeURIComponent(`/auth/account-setting/${i}/${r}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",d)}getFormValue(){return this.form.getRawValue()}constructor(i,r){super(),this.userInfoService=i,this.activeRoute=r,this.showPasswordOld=!1,this.showPasswordNew=!1,this.form=new v.gE({oldPassword:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),newPassword:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]})})}ngOnInit(){}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.fv),e.rXU(_e.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-password"]],features:[e.Vt3],decls:32,vars:32,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_","class","text-primary font-medium inline-block mr-auto",3,"click",4,"ngIf"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5),e.nrm(8,"input",6),e.nI1(9,"mytranslate"),e.j41(10,"button",7),e.bIt("click",function(){return r.togglePasswordOld()}),e.nrm(11,"lucide-icon",8),e.k0s()(),e.j41(12,"div",9),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.DNE(15,hi,2,1,"div",10),e.k0s(),e.j41(16,"div",3)(17,"label",11),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.j41(20,"div",5),e.nrm(21,"input",12),e.nI1(22,"mytranslate"),e.j41(23,"button",13),e.bIt("click",function(){return r.togglePasswordNew()}),e.nrm(24,"lucide-icon",8),e.k0s()(),e.DNE(25,ts,3,2,"div",10),e.k0s()(),e.j41(26,"div",14),e.DNE(27,fi,3,3,"a",15),e.j41(28,"button",16),e.bIt("click",function(){return r.parseInfoFieldForStudentObjsInExportExcel()}),e.DNE(29,bn,1,0,"azt-loading-ui",17),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()()()()),2&i&&(e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(4),e.SpI(" ",e.bMT(6,18,"lang_auto_mat_khau_hien_tai")," "),e.R7$(3),e.FS9("placeholder",e.bMT(9,20,"lang_auto_nhap_mat_khau")+"..."),e.Y8G("type",r.showPasswordOld?"text":"password"),e.R7$(3),e.Y8G("name",r.showPasswordOld?"eye":"eye-off")("ngClass",e.lJ4(30,Pt)),e.R7$(2),e.SpI(" ",e.bMT(14,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),e.R7$(2),e.Y8G("ngIf",r.form.controls.oldPassword.errors&&(r.form.controls.oldPassword.dirty||r.form.controls.oldPassword.touched)),e.R7$(3),e.JRh(e.bMT(19,24,"lang_auto_mat_khau_moi")),e.R7$(3),e.FS9("placeholder",e.bMT(22,26,"lang_auto_nhap_mat_khau")+"..."),e.Y8G("type",r.showPasswordNew?"text":"password"),e.R7$(3),e.Y8G("name",r.showPasswordNew?"eye":"eye-off")("ngClass",e.lJ4(31,Pt)),e.R7$(1),e.Y8G("ngIf",r.form.controls.newPassword.errors&&(r.form.controls.newPassword.dirty||r.form.controls.newPassword.touched)),e.R7$(2),e.Y8G("ngIf",!r.isBusinessDomain),e.R7$(1),e.Y8G("disabled",r.form.invalid),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(31,28,"lang_auto_cap_nhat")," "))},dependencies:[m.YU,m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,tt.t,T.R,oe.WGl,O.wp],encapsulation:2}),u})();var It=y(64396);function jt(t,u){1&t&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auth_remove_teacher_role")))}function ns(t,u){if(1&t&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,n.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function bi(t,u){if(1&t&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,n.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function is(t,u){1&t&&e.nrm(0,"azt-loading-ui",7)}let yi=(()=>{var t;class u extends Z.H{becomeTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(i=>{1==i.success?this.redirectByRoleService.redirectLoginByRole(""):this.errorStatusObj(i.message??"",!0)}))}becomeStudent(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(i=>{1==i.success?this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/classroom/0")):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(i,r){super(),this.redirectByRoleService=i,this.userInfoService=r,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(ue.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[e.Vt3],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"h5"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,jt,3,3,"span",3),e.DNE(4,ns,3,3,"span",3),e.DNE(5,bi,3,3,"span",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return r.isTeacherDashboard?r.becomeStudent():r.becomeTeacher()}),e.DNE(7,is,1,0,"azt-loading-ui",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()),2&i&&(e.R7$(3),e.Y8G("ngIf",r.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!r.isTeacherDashboard&&!r.isMobileWebView),e.R7$(1),e.Y8G("ngIf",!r.isTeacherDashboard&&r.isMobileWebView),e.R7$(2),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[m.bT,T.R,O.wp],encapsulation:2}),u})();var os=y(23356);function Ii(t,u){if(1&t&&(e.j41(0,"option",10),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=u.$implicit,i=e.XpG();e.Y8G("value",n)("selected",n==i.form.controls.dateFormat.value),e.R7$(1),e.Lme(" ",n," - ",e.bMT(2,4,"lang_auth_user_setting_unit_"+n)," ")}}function rs(t,u){1&t&&e.nrm(0,"azt-loading-ui",11)}let ss=(()=>{var t;class u extends Z.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(r=>{1==r.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(r.message??"",!0)}))}constructor(i,r,d){super(),this.timeService=i,this.userUnitService=r,this.configService=d,this.form=new v.gE({dateFormat:new v.MJ("",[v.k0.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var i=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(i??null)}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Te.F),e.rXU(ue.lV),e.rXU(os.u))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-unit"]],features:[e.Vt3],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[3,"value","selected"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"select",5),e.DNE(8,Ii,3,6,"option",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return r.saveUnitObj()}),e.DNE(11,rs,1,0,"azt-loading-ui",9),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()()()),2&i&&(e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(4),e.SpI(" ",e.bMT(6,5,"lang_auth_user_setting_unit_format_date")," "),e.R7$(3),e.Y8G("ngForOf",r.formatDataObjs),e.R7$(3),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[m.Sq,m.bT,v.qT,v.xH,v.y7,v.wz,v.BC,v.cb,v.j4,v.JD,tt.t,T.R,O.wp],encapsulation:2}),u})();var Ci=y(59224),Mt=y(96699),yn=y(50589),as=y(21713),Lt=y(85969);function fl(t,u){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-effect",4),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("currentStatusObj",n.statusObj)}}const ki=function(t){return[t]},Gt=function(){return{backTo:"/auth/account-setting/0/3?tab=0"}};function ln(t,u){if(1&t&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"p",14),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"a",15),e.nI1(8,"navigationLocalize"),e.j41(9,"b"),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"p",17),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",18),e.nrm(16,"azt-create-avatar",19),e.j41(17,"div",20)(18,"div",21),e.EFF(19),e.k0s()()()(),e.j41(20,"p",22),e.EFF(21),e.nI1(22,"mytranslate"),e.j41(23,"b"),e.EFF(24),e.nI1(25,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()(),e.j41(26,"div",23)(27,"b",24),e.EFF(28),e.nI1(29,"number"),e.k0s()()()()()),2&t){const n=u.$implicit;let i;e.R7$(5),e.SpI(" ",e.bMT(6,13,"lang_auto_de_thi"),": "),e.R7$(2),e.Y8G("routerLink",e.eq3(25,ki,e.bMT(8,15,"/admin/testbank/exam-results-list/"+(null!==(i=n.examCategoryId)&&void 0!==i?i:0)+"/"+n.examId+"/0")))("queryParams",e.lJ4(27,Gt)),e.R7$(3),e.JRh(n.examName),e.R7$(3),e.SpI("",e.bMT(14,17,"lang_history_sold_exam_relative_user"),":"),e.R7$(3),e.Y8G("nameCreateAvatar",n.relativeName)("size",32)("showTooltip",!1)("linkAvatar",n.relativeAvatar),e.R7$(3),e.SpI(" ",n.relativeName," "),e.R7$(2),e.SpI(" ",e.bMT(22,19,"lang_history_sold_exam_create_at"),": "),e.R7$(3),e.JRh(e.bMT(25,21,n.createdAt)),e.R7$(4),e.SpI("",e.bMT(29,23,n.money),"\u0111")}}function In(t,u){if(1&t&&(e.j41(0,"drag-scroll",8),e.DNE(1,ln,30,28,"div",9),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",n.examHistorySoldObjs)}}function ls(t,u){1&t&&(e.j41(0,"div",25),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_withdraw_not_have_history_sold_exam")," "))}const cs=function(){return{"flex-none":!0}};function us(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",26)(1,"button",27),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.getExamSoldHistory())}),e.j41(2,"span",28),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.nrm(5,"lucide-icon",29),e.k0s()()}2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_auto_xem_them")," "),e.R7$(2),e.Y8G("ngClass",e.lJ4(4,cs)))}function ds(t,u){if(1&t&&(e.j41(0,"div",3),e.DNE(1,In,2,1,"drag-scroll",5),e.DNE(2,ls,3,3,"div",6),e.k0s(),e.DNE(3,us,6,5,"div",7)),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",0!=n.examHistorySoldObjs.length),e.R7$(1),e.Y8G("ngIf",0==n.examHistorySoldObjs.length),e.R7$(1),e.Y8G("ngIf",n.nextPage)}}let cn=(()=>{var t;class u extends Z.H{getExamSoldHistory(){this.initStatusObj(),this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetObjsGet(this.nextPage).subscribe(i=>{i.success?(this.examHistorySoldObjs=i.data?.objs??[],this.nextPage=i.data?.nextPage??void 0,this.totalSoldExam=i.data?.total??0,this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,Ne.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getExamSoldHistory()}))}constructor(i,r){super(),this.activeRoute=i,this.examPaymentHistoryService=r,this.nextPage="",this.examHistorySoldObjs=[],this.totalSoldExam=0}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(_e.nX),e.rXU(Lt.hl))},t.\u0275cmp=e.VBU({type:t,selectors:[["view-exam-sold-history"]],features:[e.Vt3],decls:4,vars:2,consts:[[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],["class","col-span-12 flex flex-wrap sm:flex-row sm:flex-nowrap items-center",4,"ngIf"],[2,"height","100%"],["class","pb-2",4,"ngFor","ngForOf"],[1,"pb-2"],[1,"box","p-2"],[1,"flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2",2,"white-space","normal"],[3,"routerLink","queryParams"],[1,"mt-2","flex"],[1,"flex",2,"align-items","center"],[1,"dropdown-toggle","w-full","h-10","rounded-full","flex","trigger-menu","ml-2",2,"align-items","center"],[3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"px-2"],[1,"font-medium"],[1,"mt-2"],[1,"font-medium","md:flex","text-xs"],[1,"p-2","bg-success","text-white",2,"border-radius","10px"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"btn","btn-outline-secondary","btn-transparent","mt-2","mx-auto",3,"click"],[1,"mr-2"],["name","chevron-down","size","20",3,"ngClass"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0),e.DNE(1,fl,2,1,"div",1),e.DNE(2,ds,4,3,"ng-template",null,2,e.C5r),e.k0s()),2&i){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[_e.Wk,m.YU,m.Sq,m.bT,I.K,Wo.p,oe.WGl,Ue.jd,m.QX,O.F2,O.wp,O.bH],encapsulation:2}),u})();var _s=y(65106),Gn=y(25539),er=y(37497),tr=y(50282),Cn=y(29660),Ct=y(9280),un=y(30683),en=y(94743);const Si=function(t){return{"mt-2 sm:mt-0":t}};function $n(t,u){if(1&t&&(e.j41(0,"div",27),e.nrm(1,"input",28),e.j41(2,"label",29),e.EFF(3),e.k0s()()),2&t){const n=u.$implicit,i=u.index,r=e.XpG();let d;e.Y8G("ngClass",e.eq3(5,Si,0!==i)),e.R7$(1),e.FS9("id","tag_"+n.id),e.FS9("value",n.id),e.R7$(1),e.FS9("for","tag_"+n.id),e.R7$(1),e.SpI(" ",null!==(d=n[r.commonService.getCurrentLang()+"Name"])&&void 0!==d?d:n.enName," ")}}function nr(t,u){if(1&t&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=u.$implicit,i=e.XpG();e.Y8G("value",null==n.schoolLevel?null:n.schoolLevel.id)("selected",(null==n.schoolLevel?null:n.schoolLevel.id)==i.form.controls.schoolLevel.value),e.R7$(1),e.SpI(" ",e.bMT(2,3,null==n.schoolLevel?null:n.schoolLevel.key)," ")}}function ir(t,u){if(1&t&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=u.$implicit,i=e.XpG();e.Y8G("value",n.id)("selected",n.id==i.form.controls.schoolSubject.value),e.R7$(1),e.SpI(" ",e.bMT(2,3,n.key)," ")}}function ms(t,u){1&t&&(e.qex(0),e.j41(1,"div",34)(2,"span",35),e.nrm(3,"azt-loading-ui"),e.k0s()(),e.bVm())}const zn=function(){return{"mr-2 text-slate-600 dark:text-slate-500 flex-none":!0}};function Ti(t,u){1&t&&(e.j41(0,"span",46),e.nrm(1,"lucide-icon",47),e.k0s()),2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,zn)))}function Ri(t,u){if(1&t){const n=e.RV6();e.qex(0),e.DNE(1,Ti,2,2,"span",44),e.j41(2,"span",45),e.bIt("click",function(){e.eBV(n);const r=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(r))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()}if(2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",n.isLeaf),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}const kn=function(){return{"mr-2 text-slate-600 dark:text-slate-500":!0}};function Ei(t,u){if(1&t){const n=e.RV6();e.j41(0,"span",48),e.nrm(1,"lucide-icon",49),e.k0s(),e.j41(2,"string",50),e.bIt("click",function(){e.eBV(n);const r=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(r))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngClass",e.lJ4(4,kn)),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}const or=function(t){return{"azt-text-primary":t}};function wi(t,u){if(1&t&&(e.j41(0,"mat-tree-node",41),e.nrm(1,"button",42),e.DNE(2,Ri,5,4,"ng-container",32),e.DNE(3,Ei,5,5,"ng-template",null,43,e.C5r),e.k0s()),2&t){const n=u.$implicit,i=e.sdS(4),r=e.XpG(4);e.Y8G("ngClass",e.eq3(3,or,r.form.controls.classifyMaterials.value==n.id)),e.R7$(2),e.Y8G("ngIf",n.isLeaf)("ngIfElse",i)}}function rr(t,u){if(1&t&&(e.j41(0,"button",54),e.nrm(1,"lucide-icon",55),e.k0s()),2&t){const n=e.XpG().$implicit,i=e.XpG(4);e.BMQ("aria-label","Toggle "+n.item),e.R7$(1),e.Y8G("name",i.treeControl.isExpanded(n)?"chevron-down":"chevron-right")}}function xi(t,u){1&t&&(e.j41(0,"span",46),e.nrm(1,"lucide-icon",47),e.k0s()),2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,zn)))}function Bn(t,u){if(1&t){const n=e.RV6();e.qex(0),e.DNE(1,xi,2,2,"span",44),e.j41(2,"span",56),e.bIt("click",function(){e.eBV(n);const r=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(r))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()}if(2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",n.isLeaf),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}function Ai(t,u){if(1&t){const n=e.RV6();e.j41(0,"span",48),e.nrm(1,"lucide-icon",49),e.k0s(),e.j41(2,"span",57),e.bIt("click",function(){e.eBV(n);const r=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(r))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngClass",e.lJ4(4,kn)),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}function sr(t,u){1&t&&e.nrm(0,"azt-loading-ui",58)}const Oi=function(t){return{"azt-text-primary azt-font-bold":t}};function ar(t,u){if(1&t&&(e.j41(0,"mat-tree-node",41),e.DNE(1,rr,2,2,"button",51),e.DNE(2,Bn,5,4,"ng-container",32),e.DNE(3,Ai,5,5,"ng-template",null,52,e.C5r),e.DNE(5,sr,1,0,"azt-loading-ui",53),e.k0s()),2&t){const n=u.$implicit,i=e.sdS(4),r=e.XpG(4);e.Y8G("ngClass",e.eq3(5,Oi,r.form.controls.classifyMaterials.value==n.id)),e.R7$(1),e.Y8G("ngIf",!n.isLeaf),e.R7$(1),e.Y8G("ngIf",n.isLeaf)("ngIfElse",i),e.R7$(3),e.Y8G("ngIf",n.isLoading)}}function Fi(t,u){if(1&t&&(e.qex(0),e.j41(1,"mat-tree",38),e.DNE(2,wi,5,5,"mat-tree-node",39),e.DNE(3,ar,6,7,"mat-tree-node",40),e.k0s(),e.bVm()),2&t){const n=e.XpG(3);e.R7$(1),e.Y8G("dataSource",n.dataSource)("treeControl",n.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",n.hasChild)}}function ps(t,u){1&t&&(e.j41(0,"div",34)(1,"div",59),e.nrm(2,"azt-svg-icon",60),e.j41(3,"p",61),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(2),e.Y8G("size",84),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function Pi(t,u){if(1&t&&(e.j41(0,"ng-scrollbar",36),e.DNE(1,Fi,4,3,"ng-container",32),e.DNE(2,ps,6,4,"ng-template",null,37,e.C5r),e.k0s()),2&t){const n=e.sdS(3),i=e.XpG(2);e.Y8G("visibility","hover"),e.R7$(1),e.Y8G("ngIf",i.dataSource.data.length)("ngIfElse",n)}}function hs(t,u){if(1&t&&(e.j41(0,"div",12)(1,"div",31),e.DNE(2,ms,4,0,"ng-container",32),e.DNE(3,Pi,4,3,"ng-template",null,33,e.C5r),e.k0s()()),2&t){const n=e.sdS(4),i=e.XpG();e.R7$(2),e.Y8G("ngIf",i.loadingUnitSubject)("ngIfElse",n)}}function ji(t,u){1&t&&e.nrm(0,"azt-loading-ui",62)}let Sn=(()=>{var t;class u extends me._{handleCloseDialog(){this.dialogRef.close()}initData(i){let r=this.form.controls.schoolLevel.value,d=this.form.controls.schoolSubject.value;this.dataSource=new Cn.d1(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!i?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(r,d).then(b=>{if(this.dataSource.data=b,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let w=this.data.questionShared?.knowledgeParentIds;for(let G=0;G<w.length;G++)(re=>{setTimeout(()=>{let ae=this.dataSource.getNode(w[G]);ae&&this.treeControl.expand(ae)},500*G)})()}this.loadingUnitSubject=!1}))}onPressNode(i){if(i){if(i.isLeaf){let r=this.commonService.myClone(i);for(this.breadcrumbs=[r];r.prNode;)if(this.breadcrumbs.unshift(r.prNode),r=r.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(i)}}else this.breadcrumbs=[]}chooseLeafFolder(i){i.isLeaf?this.form.controls.classifyMaterials.setValue(i.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.initStatusObj();let i={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},r={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(i.questionId??0,i).subscribe(d=>{d.success?1==d.data?.status&&(this.dialogRef.close(r),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(d.message??"",!0)}))}patchValueForm(){let i=12,r=40,d=1,b=0;this.data.configShareQuestionLog.classifyMaterials?(d=this.data.configShareQuestionLog.awarenessLevel??1,i=this.data.configShareQuestionLog.schoolLevel??12,r=this.data.configShareQuestionLog.schoolSubject??40,b=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(i=this.data.questionShared.levelId??12,r=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(d=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(i),this.form.controls.awarenessLevel.setValue(d),this.form.controls.schoolLevel.setValue(i),this.form.controls.schoolSubject.setValue(r),this.form.controls.classifyMaterials.setValue(b),this.initData()}filterSchoolSubject(i){if(this.form.controls.classifyMaterials.setValue(0),0==this.subjectSelectedList.length)this.filterSubject(i??1);else{let r=!1;for(let d=0;d<this.subjectSelectedList.length;d++)i&&(i<(this.subjectSelectedList[d].from??0)||i>(this.subjectSelectedList[d].to??0))&&(r=!0);r&&(this.filterSubject(i??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(i){this.subjectSelectedList=this.data.schoolLevelAndSubjectObjs.find(r=>r.schoolLevel?.id==i)?.schoolSubjectObjs??[]}ngOnInit(){super.ngOnInit(),this.patchValueForm()}constructor(i,r,d,b,w){super(w,b),this.documentConfigService=i,this.database=r,this.testMarketQuestionService=d,this.dialogRef=b,this.data=w,this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=G=>G.level,this.isExpandable=G=>G.expandable,this.hasChild=(G,re)=>re.expandable,this.treeControl=new tr.XW(this.getLevel,this.isExpandable),this.dataSource=new Cn.d1(this.treeControl,r),this.form=new v.gE({awarenessLevel:new v.MJ(1,{nonNullable:!0}),schoolLevel:new v.MJ(0,{nonNullable:!0}),schoolSubject:new v.MJ(0,{nonNullable:!0}),classifyMaterials:new v.MJ(0,{nonNullable:!0})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Ct.x_),e.rXU(Cn._8),e.rXU(Mt.e2),e.rXU(we.CP,8),e.rXU(we.Vh))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-edit-share-question"]],features:[e.Vt3],decls:53,vars:37,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["noDataSource",""],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["notIsLeaf",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],["name","file-text","size","24",3,"ngClass"],["matTreeNodeToggle","",1,"cursor-pointer"],["name","folder","size","24",3,"ngClass"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["notIsLeafChild",""],["class","ml-3",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],["size","20",3,"name"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"ml-3"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()(),e.j41(6,"div",1)(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",10),e.DNE(16,$n,4,7,"div",11),e.k0s()(),e.j41(17,"div",12)(18,"label",9),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"label",17),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"select",18),e.bIt("change",function(){return r.filterSchoolSubject(r.form.controls.schoolLevel.value)}),e.j41(29,"option",19),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s(),e.DNE(32,nr,3,5,"option",20),e.k0s()()(),e.j41(33,"div",15)(34,"div",16)(35,"label",17),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s(),e.j41(38,"select",21),e.bIt("change",function(){return r.initData("change")}),e.j41(39,"option",19),e.EFF(40),e.nI1(41,"mytranslate"),e.k0s(),e.DNE(42,ir,3,5,"option",20),e.k0s()()()()()()(),e.j41(43,"div",7),e.DNE(44,hs,5,2,"div",22),e.k0s()()()()(),e.j41(45,"div",23)(46,"button",24),e.bIt("click",function(){return r.handleCloseDialog()}),e.EFF(47),e.nI1(48,"mytranslate"),e.k0s(),e.j41(49,"button",25),e.bIt("click",function(){return r.confirmAction()}),e.DNE(50,ji,1,0,"azt-loading-ui",26),e.EFF(51),e.nI1(52,"mytranslate"),e.k0s()()()),2&i&&(e.R7$(4),e.SpI(" ",e.bMT(5,19,"lang_test_market_edit_shared_question")," "),e.R7$(4),e.Y8G("formGroup",r.form),e.R7$(5),e.SpI(" ",e.bMT(14,21,"lang_auto_muc_do_nhan_biet")," "),e.R7$(3),e.Y8G("ngForOf",r.data.questionTags),e.R7$(3),e.SpI(" ",e.bMT(20,23,"lang_auto_don_vi_kien_thuc")," "),e.R7$(7),e.SpI(" ",e.bMT(27,25,"lang_auto_lop_hoc")," "),e.R7$(3),e.Y8G("selected",0==r.form.controls.schoolLevel.value),e.R7$(1),e.SpI("",e.bMT(31,27,"lang_auto_---chon_khoi"),"---"),e.R7$(2),e.Y8G("ngForOf",r.data.schoolLevelAndSubjectObjs),e.R7$(4),e.SpI(" ",e.bMT(37,29,"lang_auto_mon_hoc")," "),e.R7$(2),e.BMQ("disabled",0==r.form.controls.schoolLevel.value?"":null),e.R7$(1),e.Y8G("selected",0==r.form.controls.schoolSubject.value),e.R7$(1),e.SpI("",e.bMT(41,31,"lang_auto_---chon_mon"),"---"),e.R7$(2),e.Y8G("ngForOf",r.subjectSelectedList),e.R7$(2),e.Y8G("ngIf",0!=r.form.controls.schoolSubject.value),e.R7$(3),e.SpI(" ",e.bMT(48,33,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",r.statusObj.loading||!r.form.controls.classifyMaterials.value),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(52,35,"lang_auto_sua")," "))},dependencies:[m.YU,m.Sq,m.bT,v.qT,v.xH,v.y7,v.me,v.wz,v.Fm,v.BC,v.cb,sn.iY,un.yI,un.yF,un.pO,un.lQ,un.d6,v.j4,v.JD,tt.t,T.R,en.m,ht.Yh,oe.WGl,O.wp],encapsulation:2}),u})();var Mi=y(50065),Di=y(32639),Tn=y(22613),Ni=y(9570);function Li(t,u){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-effect",4),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("currentStatusObj",n.statusObj)}}function gs(t,u){1&t&&(e.j41(0,"span",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_new")," "))}function Gi(t,u){1&t&&(e.j41(0,"span",31),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_approved")," "))}function fs(t,u){if(1&t&&(e.j41(0,"span",32),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(1),e.Lme("",e.bMT(2,2,"lang_auto_status_rejected"),"",n.rejectedReason?e.bMT(3,4," - "+n.rejectedReason):"","")}}function $i(t,u){if(1&t){const n=e.RV6();e.j41(0,"a",33),e.bIt("click",function(){e.eBV(n);const r=e.XpG().$implicit,d=e.XpG(3);return e.Njj(d.editQuestionShared(r))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_sua")," "))}const vs=function(t){return{"selected-border-box":t}};function zi(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){const d=e.eBV(n).index,b=e.XpG(3);return e.Njj(b.selected=d)}),e.j41(1,"div",14)(2,"div",15)(3,"p",16),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",17),e.nrm(7,"azt-dynamic-hook",18),e.k0s()(),e.j41(8,"div",19)(9,"div",20)(10,"p",21),e.EFF(11),e.nI1(12,"mytranslate"),e.DNE(13,gs,3,3,"span",22),e.DNE(14,Gi,3,3,"span",23),e.DNE(15,fs,4,6,"span",24),e.k0s(),e.j41(16,"p",21),e.EFF(17),e.nI1(18,"mytranslate"),e.j41(19,"b"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()(),e.j41(22,"p",21),e.EFF(23),e.nI1(24,"mytranslate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.j41(28,"p",25),e.EFF(29),e.nI1(30,"mytranslate"),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div",26)(33,"div",27)(34,"a",28),e.bIt("click",function(){const d=e.eBV(n).$implicit,b=e.XpG(3);return e.Njj(b.viewQuestionDetail(d))}),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s(),e.DNE(37,$i,3,3,"a",29),e.k0s()()()()()}if(2&t){const n=u.$implicit,i=u.index,r=e.XpG(3);let d;e.Y8G("ngClass",e.eq3(33,vs,i==r.selected)),e.R7$(4),e.SpI("",e.bMT(5,15,"lang_auto_cau_hoi"),":"),e.R7$(3),e.Y8G("content",null!==(d=null==n.question?null:n.question.content)&&void 0!==d?d:""),e.R7$(4),e.SpI(" ",e.bMT(12,17,"lang_auto_trang_thai"),": "),e.R7$(2),e.Y8G("ngIf","new"==n.status),e.R7$(1),e.Y8G("ngIf","approved"==n.status),e.R7$(1),e.Y8G("ngIf","rejected"==n.status),e.R7$(2),e.SpI(" ",e.bMT(18,19,"lang_auto_muc_do_nhan_biet"),": "),e.R7$(3),e.JRh(e.bMT(21,21,n.questionTagName)),e.R7$(3),e.SpI(" ",e.bMT(24,23,"lang_auto_don_vi_kien_thuc"),": "),e.R7$(3),e.JRh(e.bMT(27,25,n.knowledgeName)),e.R7$(3),e.Lme("",e.bMT(30,27,n.levelName)," - ",e.bMT(31,29,n.subjectName),""),e.R7$(6),e.SpI(" ",e.bMT(36,31,"lang_test_market_view_question")," "),e.R7$(2),e.Y8G("ngIf","approved"!=n.status)}}function lr(t,u){if(1&t&&(e.j41(0,"drag-scroll",11),e.DNE(1,zi,38,35,"div",12),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",n.shareQuestionList)}}function Bi(t,u){1&t&&(e.j41(0,"div",34),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_co_cau_hoi_nao")," "))}function bs(t,u){if(1&t&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.SpI(" ",n.totalShareQuestion+" "+e.bMT(2,1,"lang_auto_cau_hoi")," ")}}function Ui(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",3),e.DNE(1,lr,2,1,"drag-scroll",5),e.DNE(2,Bi,3,3,"div",6),e.k0s(),e.j41(3,"div",7)(4,"div",8)(5,"azt-paging",9),e.bIt("goToPaginationPage",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.getData(r))}),e.k0s()(),e.DNE(6,bs,3,3,"div",10),e.k0s()}if(2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",0!=n.totalShareQuestion),e.R7$(1),e.Y8G("ngIf",0==n.totalShareQuestion),e.R7$(3),e.Y8G("pageObj",n.pageObj),e.R7$(1),e.Y8G("ngIf",0!=n.totalShareQuestion)}}let ys=(()=>{var t;class u extends Z.H{editQuestionShared(i){this.sAztDialogService.open(Sn,{width:"95vw",data:{questionShared:i,schoolLevelAndSubjectObjs:this.schoolLevelAndSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:i.levelId,schoolSubject:i.subjectId,awarenessLevel:i.questionTagId,questionId:i.questionId,classifyMaterials:i.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(d=>{if(d){let b=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=b??"",this.getData(this.pageObj.page)}})}viewQuestionDetail(i){this.sAztDialogService.open(Mi._,{width:"700px",data:{obj:i},restoreFocus:!1}).afterClosed().subscribe(d=>{})}getData(i){this.initStatusObj(),this.pageObj.setPageNumber(i),this.selected=-1,this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,i,void 0).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.shareQuestionList=r.data?.objs??[];let d=r.data?.total??1;this.totalShareQuestion=d,this.pageObj.setTotalPages(d);let b=this.shareQuestionList.filter(w=>w.question).map(w=>w.question).filter(this.commonService.notEmpty);this.loadQuest(this.shareQuestionList,b,w=>{this.shareQuestionList=w,this.stopStatusObj()})}))}loadQuest(i,r,d){const b=this.commonService.castJsonToClassObjs(Gn.I,JSON.stringify(r));this.questionRenderService.parseRenderQuestions(b??[],w=>{},this.configRenderService).then(w=>{w.forEach(G=>{let re=i.find(ae=>ae.question?.id==G.id);re&&(re.question=this.commonService.castObj(G))}),d(i)}).catch(w=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),d(i)})}ngOnChanges(i){i.fillStatus&&!i.fillStatus.firstChange&&this.getData(1)}ngOnInit(){this.waitDestroy((0,Ne.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(i,r,d,b,w){super(),this.testMarketQuestionService=i,this.activeRoute=r,this.questionRenderService=d,this.browserStorageService=b,this.sAztDialogService=w,this.fillStatus="",this.shareQuestionList=[],this.configRenderService=new _s.y(!0),this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.schoolLevelAndSubjectObjs=[],this.questionTags=[],this.isWithDraw=!1,this.selected=-1,this.pageObj=new er.d(10)}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Mt.e2),e.rXU(_e.nX),e.rXU(Di.g),e.rXU(yn.z),e.rXU(C.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["view-question-shared"]],inputs:{fillStatus:"fillStatus"},features:[e.Vt3,e.OA$],decls:4,vars:2,consts:[[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"pageObj","goToPaginationPage"],["class","w-20 mt-3 sm:mt-0",4,"ngIf"],[2,"height","100%"],["class","pb-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pb-2",3,"ngClass","click"],[1,"box","p-2"],[1,"px-2","pb-2","border-b","border-slate-300"],[2,"font-weight","450"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],[1,"mt-2","flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"mt-2",2,"font-weight","450"],[1,"font-medium","md:flex","text-xs"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0),e.DNE(1,Li,2,1,"div",1),e.DNE(2,Ui,7,4,"ng-template",null,2,e.C5r),e.k0s()),2&i){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[m.YU,m.Sq,m.bT,I.K,Tn.q,Ni.x,Ue.jd,O.wp],encapsulation:2}),u})();var Un=y(17818);const Is=function(t,u,n){return{"bg-danger":t,"bg-success":u,"bg-warning":n}};function Cs(t,u){if(1&t&&(e.j41(0,"div",13),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.Y8G("ngClass",e.sMw(8,Is,"rejected"==n.fillStatus,"approved"==n.fillStatus,"new"==n.fillStatus)),e.R7$(1),e.SpI(" ","new"==n.fillStatus?e.bMT(2,2,"lang_status_new_icon"):"approved"==n.fillStatus?e.bMT(3,4,"lang_status_approved_icon"):e.bMT(4,6,"lang_status_rejected_icon")," ")}}const dn=function(t){return{"bg-primary text-white no-hover":t}};let ks=(()=>{var t;class u extends Z.H{filterStatus(i){this.fillStatus=i??"",this.changeFilterStatus.emit(i??"")}ngOnInit(){}constructor(){super(),this.fillStatus="",this.changeFilterStatus=new e.bkB}}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["filter-question-shared-status"]],inputs:{fillStatus:"fillStatus"},outputs:{changeFilterStatus:"changeFilterStatus"},features:[e.Vt3],decls:25,vars:26,consts:[[1,"w-full","text-right"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","box","relative",3,"matMenuTriggerFor"],["name","filter","size","12"],["class","absolute text-white rounded-full font-bold","style","top: -5px; right: -5px; font-size: 7px; overflow: hidden; width: 15px; height: 15px; line-height: 15px; text-align: center",3,"ngClass",4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],[1,"absolute","text-white","rounded-full","font-bold",2,"top","-5px","right","-5px","font-size","7px","overflow","hidden","width","15px","height","15px","line-height","15px","text-align","center",3,"ngClass"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.nrm(3,"lucide-icon",3),e.DNE(4,Cs,5,12,"div",4),e.k0s()(),e.j41(5,"mat-menu",5,6)(7,"div",7)(8,"ul",8)(9,"li")(10,"span",9),e.bIt("click",function(){return r.filterStatus(void 0)}),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()(),e.j41(13,"li")(14,"span",10),e.bIt("click",function(){return r.filterStatus("new")}),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"li")(18,"span",11),e.bIt("click",function(){return r.filterStatus("approved")}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()(),e.j41(21,"li")(22,"span",12),e.bIt("click",function(){return r.filterStatus("rejected")}),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()()()()),2&i){const d=e.sdS(6);e.R7$(2),e.Y8G("matMenuTriggerFor",d),e.R7$(2),e.Y8G("ngIf",r.fillStatus),e.R7$(6),e.Y8G("ngClass",e.eq3(18,dn,!r.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(12,10,"lang_auto_tat_ca")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(20,dn,"new"==r.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(16,12,"lang_auto_status_new")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(22,dn,"approved"==r.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(20,14,"lang_auto_status_approved")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(24,dn,"rejected"==r.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(24,16,"lang_auto_status_rejected")," ")}},dependencies:[m.YU,m.bT,Un.kk,Un.Cp,oe.WGl,O.wp],encapsulation:2}),u})();function Ss(t,u){1&t&&e.nrm(0,"azt-loading-ui",10)}function Vi(t,u){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,n.totalShared),"")}}function Ts(t,u){1&t&&e.nrm(0,"azt-loading-ui",10)}function Yi(t,u){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,n.totalSoldExam),"")}}let Rs=(()=>{var t;class u extends Z.H{withdrawBalance(){this.openWithdrawForm.emit(!0)}ngOnInit(){}constructor(){super(),this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0,this.totalShared=0,this.totalSoldExam=0,this.totalApproved=0,this.totalUsed=0,this.totalBalance=0,this.openWithdrawForm=new e.bkB}}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["withdraw-information"]],inputs:{loadingSoldExamCount:"loadingSoldExamCount",loadingSharedQuestionCount:"loadingSharedQuestionCount",totalShared:"totalShared",totalSoldExam:"totalSoldExam",totalApproved:"totalApproved",totalUsed:"totalUsed",totalBalance:"totalBalance"},outputs:{openWithdrawForm:"openWithdrawForm"},features:[e.Vt3],decls:38,vars:36,consts:[[1,"box","p-5","w-full"],[1,"justify-between","items-center",3,"ngClass"],[1,"text-md","items-center"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],[1,"text-md","items-center","mt-2"],[3,"ngClass"],[1,"text-md","items-center",3,"ngClass"],[1,"text-right",3,"ngClass"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md",3,"disabled","click"],["type","bootstrap-spinner",1,"loading-upload","mr-2"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),e.EFF(4),e.nI1(5,"mytranslate"),e.j41(6,"b"),e.DNE(7,Ss,1,0,"azt-loading-ui",3),e.DNE(8,Vi,3,3,"span",4),e.k0s()(),e.j41(9,"h3",5),e.EFF(10),e.nI1(11,"mytranslate"),e.j41(12,"b"),e.DNE(13,Ts,1,0,"azt-loading-ui",3),e.DNE(14,Yi,3,3,"span",4),e.k0s()()(),e.j41(15,"div",6)(16,"h3",2),e.EFF(17),e.nI1(18,"mytranslate"),e.j41(19,"b"),e.EFF(20),e.nI1(21,"number"),e.k0s()(),e.j41(22,"h3",5),e.EFF(23),e.nI1(24,"mytranslate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"number"),e.k0s()()(),e.j41(28,"h3",7),e.EFF(29),e.nI1(30,"mytranslate"),e.j41(31,"b"),e.EFF(32),e.nI1(33,"number"),e.k0s()(),e.j41(34,"div",8)(35,"button",9),e.bIt("click",function(){return r.withdrawBalance()}),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()()()()),2&i&&(e.R7$(1),e.Y8G("ngClass",r.isMobileDevice?"":"flex"),e.R7$(3),e.SpI(" ",e.bMT(5,18,"lang_test_market_total_questions_share")," "),e.R7$(3),e.Y8G("ngIf",r.loadingSharedQuestionCount),e.R7$(1),e.Y8G("ngIf",!r.loadingSharedQuestionCount),e.R7$(2),e.SpI(" ",e.bMT(11,20,"lang_test_market_total_exam_sold")," "),e.R7$(3),e.Y8G("ngIf",r.loadingSoldExamCount),e.R7$(1),e.Y8G("ngIf",!r.loadingSoldExamCount),e.R7$(1),e.Y8G("ngClass",r.isMobileDevice?"mt-2":""),e.R7$(2),e.SpI(" ",e.bMT(18,22,"lang_test_market_total_questions_approve")," "),e.R7$(3),e.JRh(e.bMT(21,24,r.totalApproved)),e.R7$(3),e.SpI(" ",e.bMT(24,26,"lang_test_market_total_questions_used")," "),e.R7$(3),e.JRh(e.bMT(27,28,r.totalUsed)),e.R7$(2),e.Y8G("ngClass",r.isMobileDevice?"mt-2":""),e.R7$(1),e.SpI(" ",e.bMT(30,30,"lang_test_market_total_balance")," "),e.R7$(3),e.SpI("",e.bMT(33,32,r.totalBalance),"\u0111"),e.R7$(2),e.Y8G("ngClass",r.isMobileDevice?"mt-2":""),e.R7$(1),e.Y8G("disabled",!r.totalBalance),e.R7$(1),e.SpI(" ",e.bMT(37,34,"lang_test_market_withdraw")," "))},dependencies:[m.YU,m.bT,T.R,m.QX,O.wp],encapsulation:2}),u})();function Wi(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Es(t,u){if(1&t){const n=e.RV6();e.j41(0,"withdraw-balance",7),e.bIt("closeRequest",function(r){e.eBV(n);const d=e.XpG(2);return e.Njj(d.closeRequest(r))}),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("transactionInfo",n.transactionInfo)("balanceUserInfo",n.balanceUserInfo)("totalBalance",n.totalBalance)}}function Qi(t,u){if(1&t){const n=e.RV6();e.j41(0,"filter-question-shared-status",18),e.bIt("changeFilterStatus",function(r){e.eBV(n);const d=e.XpG(3);return e.Njj(d.changeFilterStatus(r))}),e.k0s()}if(2&t){const n=e.XpG(3);e.Y8G("fillStatus",n.fillStatus)}}function ws(t,u){1&t&&(e.qex(0),e.nrm(1,"view-exam-sold-history"),e.bVm())}function qi(t,u){if(1&t&&(e.qex(0),e.nrm(1,"view-question-shared",19),e.bVm()),2&t){const n=e.XpG(3);e.R7$(1),e.Y8G("fillStatus",n.fillStatus)}}const cr=function(t){return{"border-bottom-width.px":t}},Vn=function(t){return{"font-weight":t}};function xs(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"withdraw-information",8),e.bIt("openWithdrawForm",function(r){e.eBV(n);const d=e.XpG(2);return e.Njj(d.withdrawBalance(r))}),e.k0s(),e.j41(2,"div",9)(3,"div",10)(4,"div",11),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onTabChanged(0))}),e.j41(5,"span",12),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()(),e.j41(8,"div",13)(9,"div",14),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onTabChanged(1))}),e.j41(10,"div",15)(11,"span",16),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.DNE(14,Qi,1,1,"filter-question-shared-status",17),e.k0s()()()(),e.DNE(15,ws,2,0,"ng-container",6),e.DNE(16,qi,2,1,"ng-container",6),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("loadingSoldExamCount",n.loadingSoldExamCount)("loadingSharedQuestionCount",n.loadingSharedQuestionCount)("totalShared",n.totalShared)("totalSoldExam",n.totalSoldExam)("totalApproved",n.totalApproved)("totalUsed",n.totalUsed)("totalBalance",n.totalBalance),e.R7$(3),e.Y8G("ngStyle",e.eq3(20,cr,0==n.selectedIndexTab?2:0)),e.R7$(1),e.Y8G("ngStyle",e.eq3(22,Vn,0==n.selectedIndexTab?"500":"400")),e.R7$(1),e.JRh(e.bMT(7,16,"lang_withdraw_history_sold_exam")),e.R7$(3),e.Y8G("ngStyle",e.eq3(24,cr,1==n.selectedIndexTab?2:0)),e.R7$(2),e.Y8G("ngStyle",e.eq3(26,Vn,1==n.selectedIndexTab?"500":"400")),e.R7$(1),e.JRh(e.bMT(13,18,"lang_auto_danh_sach_cau_hoi_chia_se")),e.R7$(2),e.Y8G("ngIf",1==n.selectedIndexTab),e.R7$(1),e.Y8G("ngIf",0==n.selectedIndexTab),e.R7$(1),e.Y8G("ngIf",1==n.selectedIndexTab)}}function Xi(t,u){if(1&t&&(e.j41(0,"div",4),e.DNE(1,Es,1,3,"withdraw-balance",5),e.DNE(2,xs,17,28,"ng-container",6),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.isWithDraw&&n.balanceUserInfo),e.R7$(1),e.Y8G("ngIf",!n.isWithDraw)}}let As=(()=>{var t;class u extends Z.H{changeFilterStatus(i){this.fillStatus=i??"",this.browserStorageService.saveSimpleStorage("view_question_filter",i??"")}withdrawBalance(i){this.isWithDraw=!this.isWithDraw}closeRequest(i){if(i){let r=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),d=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${r}/${d}`,"?tab="+this.selectedIndexTab),this.isWithDraw=!1}else this.isWithDraw=!1}getBalanceQuestionShared(){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(i=>{i.success?(this.totalShared=i.data?.shared??0,this.totalUsed=i.data?.used??0,this.totalApproved=i.data?.approved??0,this.totalBalance=i.data?.balance??0,this.transactionInfo=i.data?.lastTransaction,this.balanceUserInfo=i.data,this.loadingSharedQuestionCount=!1,this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}getTotalSoldExam(){this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetTotalSoldGet().subscribe(i=>{i.success?(this.totalSoldExam=i.data?.value??0,this.loadingSoldExamCount=!1,this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}onTabChanged(i){this.selectedIndexTab=i;let r=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),d=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${r}/${d}`,"?tab="+this.selectedIndexTab)}ngOnInit(){this.initStatusObj(),this.waitDestroy((0,Ne.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let i=this.browserStorageService.getSimpleStorage("view_question_filter"),r=this.commonService.getMyQueryParam("tab")??0;this.fillStatus=i??"",this.selectedIndexTab=Number(r),this.getBalanceQuestionShared(),this.getTotalSoldExam()}))}constructor(i,r,d,b){super(),this.examPaymentHistoryService=i,this.testMarketQuestionService=r,this.activeRoute=d,this.browserStorageService=b,this.isWithDraw=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.fillStatus="",this.selectedIndexTab=0,this.totalSoldExam=0,this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Ci.h),e.rXU(Mt.e2),e.rXU(_e.nX),e.rXU(yn.z))},t.\u0275cmp=e.VBU({type:t,selectors:[["view-share-question"]],features:[e.Vt3],decls:4,vars:2,consts:[[1,"relative"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest"],[3,"loadingSoldExamCount","loadingSharedQuestionCount","totalShared","totalSoldExam","totalApproved","totalUsed","totalBalance","openWithdrawForm"],[1,"flex"],[1,"w-40","hover-tab",2,"align-self","center"],[1,"px-3","pt-5","pb-3","border-slate-300","text-center",2,"cursor","pointer","align-self","center",3,"ngStyle","click"],[2,"align-self","center",3,"ngStyle"],[1,"w-44","hover-tab"],[1,"px-3","pt-5","pb-3","border-slate-300","relative","text-center",2,"cursor","pointer","align-self","center",3,"ngStyle","click"],[1,"flex","w-full","text-center"],[1,"mr-2",2,"align-self","center",3,"ngStyle"],[3,"fillStatus","changeFilterStatus",4,"ngIf"],[3,"fillStatus","changeFilterStatus"],[3,"fillStatus"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0),e.DNE(1,Wi,1,1,"azt-loading-effect",1),e.DNE(2,Xi,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&i){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[m.bT,m.B3,I.K,as.C,cn,ys,ks,Rs,O.wp],encapsulation:2}),u})();function Os(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function ur(t,u){1&t&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_new")," "))}function Hi(t,u){1&t&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_approved")," "))}function Fs(t,u){1&t&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_settled")," "))}function _n(t,u){1&t&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_rejected")," "))}function dr(t,u){if(1&t&&(e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"p"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"p"),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"p"),e.EFF(16),e.nI1(17,"mytranslate"),e.nI1(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()(),e.j41(19,"div",14)(20,"b",15),e.EFF(21),e.nI1(22,"number"),e.k0s(),e.j41(23,"div",16),e.DNE(24,ur,3,3,"div",17),e.DNE(25,Hi,3,3,"div",18),e.DNE(26,Fs,3,3,"div",18),e.DNE(27,_n,3,3,"div",19),e.k0s()()()()),2&t){const n=u.$implicit;e.R7$(4),e.Lme("",e.bMT(5,15,"lang_test_market_bankHolder"),": ",n.bankHolder,""),e.R7$(3),e.Lme("",e.bMT(8,17,"lang_test_market_bankName"),": ",n.bankName,""),e.R7$(3),e.Lme("",e.bMT(11,19,"lang_test_market_bankNumber"),": ",n.bankAccountNumber,""),e.R7$(3),e.Lme("",e.bMT(14,21,"lang_test_market_address"),": ",n.address,""),e.R7$(3),e.Lme("",e.bMT(17,23,"lang_auto_ngay_tao"),": ",e.bMT(18,25,n.createdAt),""),e.R7$(5),e.SpI("",e.bMT(22,27,n.amount),"\u0111"),e.R7$(3),e.Y8G("ngIf","new"==n.status),e.R7$(1),e.Y8G("ngIf","approved"==n.status),e.R7$(1),e.Y8G("ngIf","settled"==n.status),e.R7$(1),e.Y8G("ngIf","rejected"==n.status)}}function Ps(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5),e.DNE(3,dr,28,29,"div",6),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"azt-paging",9),e.bIt("goToPaginationPage",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.getData(r))}),e.k0s()(),e.j41(7,"div",10),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG();e.R7$(3),e.Y8G("ngForOf",n.withdrawHistoryObjs),e.R7$(3),e.Y8G("pageObj",n.pageObj),e.R7$(2),e.SpI(" ",n.totalWithdrawTimes+" "+e.bMT(9,3,"lang_test_market_withdraw_times")," ")}}let js=(()=>{var t;class u extends Z.H{getData(i){this.initStatusObj(),this.pageObj.setPageNumber(i),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(r=>{if(r.success){this.withdrawHistoryObjs=r.data?.objs??[];let d=r.data?.total??1;this.totalWithdrawTimes=d,this.pageObj.setTotalPages(d),this.successStatusObj()}else this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,Ne.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(i,r){super(),this.testMarketQuestionService=i,this.activeRoute=r,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[],this.pageObj=new er.d(10)}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Mt.e2),e.rXU(_e.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["history-withdraw"]],features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],["class","pb-2",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"pageObj","goToPaginationPage"],[1,"mt-3","sm:mt-0"],[1,"pb-2"],[1,"box","p-2","flex","items-center"],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","md:flex","text-xs"],[1,"px-2","bg-success","text-white"],[1,"ml-0","md:ml-2","mt-1","md:mt-0","text-center"],["class","px-2 bg-pending text-white",4,"ngIf"],["class","px-2 bg-success text-white",4,"ngIf"],["class","px-2 bg-danger text-white",4,"ngIf"],[1,"px-2","bg-pending","text-white"],[1,"px-2","bg-danger","text-white"]],template:function(i,r){if(1&i&&(e.DNE(0,Os,1,1,"azt-loading-effect",0),e.DNE(1,Ps,10,5,"ng-template",null,1,e.C5r)),2&i){const d=e.sdS(2);e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[m.Sq,m.bT,I.K,Tn.q,m.QX,O.wp,O.bH],encapsulation:2}),u})();function Ms(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function Ds(t,u){if(1&t&&(e.j41(0,"div",12),e.DNE(1,Ms,3,3,"span",13),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.form.controls.reason.errors.required)}}function Ns(t,u){1&t&&e.nrm(0,"azt-loading-ui",14)}let vl=(()=>{var t;class u extends Z.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(i=>{1==i.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(i.message??"",!0)}))}constructor(i,r){super(),this.authService=i,this.mobileWebviewService=r,this.form=new v.gE({reason:new v.MJ("",[v.k0.required])})}ngOnInit(){this.form.controls.reason.setValue("")}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.uR),e.rXU(Rt.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["remove-account"]],features:[e.Vt3],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",6),e.nrm(11,"input",7),e.k0s(),e.DNE(12,Ds,2,1,"div",8),e.k0s()(),e.j41(13,"div",9)(14,"button",10),e.bIt("click",function(){return r.saveUnitObj()}),e.DNE(15,Ns,1,0,"azt-loading-ui",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()()),2&i&&(e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(4),e.SpI(" ",e.bMT(6,7,"lang_auto_xoa_tai_khoan")," "),e.R7$(3),e.SpI(" ",e.bMT(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),e.R7$(4),e.Y8G("ngIf",r.form.controls.reason.errors&&(r.form.controls.reason.dirty||r.form.controls.reason.touched)),e.R7$(2),e.Y8G("disabled",r.statusObj.loading||r.form.controls.reason.errors),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(17,11,"lang_auto_xac_nhan")," "))},dependencies:[m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,tt.t,T.R,O.wp],encapsulation:2}),u})();function bl(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}const yl=function(){return{"mr-2 flex-none":!0}};function Ji(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"label",7),e.nrm(5,"lucide-icon",8),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"input",9),e.bIt("change",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.mobLoginFingerprintOrFace())}),e.k0s()()()()()}if(2&t){const n=e.XpG();e.R7$(5),e.Y8G("name",n.enableForFace?"scan-face":"fingerprint")("ngClass",e.lJ4(8,yl)),e.R7$(1),e.SpI(" ",n.enableForFace?e.bMT(7,4,"lang_core_login_with_face"):e.bMT(8,6,"lang_core_login_with_fingerprint")," "),e.R7$(3),e.Y8G("formControl",n.checkLoginFingerprintOrFaceControl)}}let Ls=(()=>{var t;class u extends Z.H{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(i){super(),this.mobileWebviewService=i,this.checkLoginFingerprintOrFaceControl=new v.MJ(!1,{nonNullable:!0}),this.enableForFace=!1}ngOnInit(){}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Rt.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],["size","20",3,"name","ngClass"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"]],template:function(i,r){if(1&i&&(e.DNE(0,bl,1,1,"azt-loading-effect",0),e.DNE(1,Ji,10,9,"ng-template",null,1,e.C5r)),2&i){const d=e.sdS(2);e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[m.YU,m.bT,v.Zm,v.BC,v.l_,I.K,oe.WGl,O.wp],encapsulation:2}),u})();var Gs=y(69775),Il=y(92401),mn=y(34208),Cl=y(77474),kl=y(20013);function Sl(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",4),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}const Yn=function(){return{"mr-2 flex-none":!0}},tn=function(t){return{"text-danger":t}};function Ki(t,u){if(1&t&&(e.qex(0),e.j41(1,"div",21)(2,"div",22),e.nrm(3,"lucide-icon",23),e.j41(4,"span",10),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"span"),e.EFF(8),e.nI1(9,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s()(),e.j41(10,"div",24),e.nrm(11,"lucide-icon",25),e.j41(12,"span",26),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"span",27),e.EFF(16),e.nI1(17,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.nI1(18,"mytranslate"),e.k0s()()(),e.bVm()),2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(17,Yn)),e.R7$(2),e.SpI(" ",e.bMT(6,7,"lang_azt_vip_purchase_date")+":"," "),e.R7$(3),e.JRh(e.bMT(9,9,null==n.vipPackageObj?null:n.vipPackageObj.startTime)),e.R7$(2),e.Y8G("ngClass",e.eq3(18,tn,n.expirationDate<=n.flatWarning)),e.R7$(1),e.Y8G("ngClass",e.lJ4(20,Yn)),e.R7$(2),e.SpI(" ",e.bMT(14,11,"lang_azt_expiration_date")+":"," "),e.R7$(3),e.JRh(e.bMT(17,13,null==n.vipPackageObj?null:n.vipPackageObj.endTime)+" ( "+n.expirationDate+" "+e.bMT(18,15,"lang_auto_ngay")+" )")}}function $s(t,u){1&t&&(e.j41(0,"div",29)(1,"div",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip")+" !"))}function zs(t,u){1&t&&(e.j41(0,"div",29)(1,"div",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip_student")+" !"))}function Bs(t,u){if(1&t&&(e.DNE(0,$s,4,3,"div",28),e.DNE(1,zs,4,3,"div",28)),2&t){const n=e.XpG(2);e.Y8G("ngIf",n.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!n.isTeacherDashboard)}}function Tl(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",31)(1,"button",32),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.getVipBill())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_vip_print_bill")))}function Us(t,u){if(1&t&&(e.j41(0,"tr")(1,"td",34),e.EFF(2),e.nI1(3,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"td",35),e.EFF(8),e.nI1(9,"formatMoney"),e.nI1(10,"mytranslate"),e.k0s()()),2&t){const n=u.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,3,n.createdAt)," "),e.R7$(3),e.SpI(" ",e.bMT(6,5,null!=n&&n.packageName?null==n?null:n.packageName:"lang_azt_azota_vip")," "),e.R7$(3),e.SpI(" ",e.bMT(9,7,n.packageMoney)+" "+e.bMT(10,9,"lang_auto_vnd_upper")," ")}}const Vs=function(){return[]};function Zi(t,u){if(1&t&&(e.qex(0),e.DNE(1,Us,11,11,"tr",33),e.bVm()),2&t){const n=e.XpG(2);let i;e.R7$(1),e.Y8G("ngForOf",null!==(i=null==n.vipPackageObj?null:n.vipPackageObj.subscriptionHistories)&&void 0!==i?i:e.lJ4(1,Vs))}}function eo(t,u){1&t&&(e.j41(0,"tr")(1,"td",36),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_khong_co_du_lieu")+"!"))}function Ys(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",5)(1,"div",6),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Ki,19,21,"ng-container",7),e.DNE(5,Bs,2,2,"ng-template",null,8,e.C5r),e.j41(7,"div",9)(8,"div",10)(9,"button",11),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.redirectToVipPackages())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.DNE(12,Tl,4,3,"div",12),e.k0s()(),e.j41(13,"div",13)(14,"div",14),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s(),e.j41(17,"div",15)(18,"drag-scroll")(19,"table",16)(20,"thead")(21,"tr")(22,"th",17),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s(),e.j41(25,"th",18),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"th",19),e.EFF(29),e.nI1(30,"mytranslate"),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,Zi,2,2,"ng-container",7),e.DNE(33,eo,4,3,"ng-template",null,20,e.C5r),e.k0s()()()()()}if(2&t){const n=e.sdS(6),i=e.sdS(34),r=e.XpG();e.R7$(2),e.JRh(e.bMT(3,11,"lang_azt_your_subscription_package")),e.R7$(2),e.Y8G("ngIf",(null==r.vipPackageObj?null:r.vipPackageObj.isVipStudent)||(null==r.vipPackageObj?null:r.vipPackageObj.isVipTeacher))("ngIfElse",n),e.R7$(6),e.JRh(e.bMT(11,13,"lang_azt_upgrade_now")),e.R7$(2),e.Y8G("ngIf",r.showBtnTakeInvoice),e.R7$(3),e.JRh(e.bMT(16,15,"lang_azt_purchase_history")),e.R7$(8),e.JRh(e.bMT(24,17,"lang_auto_thoi_gian")),e.R7$(3),e.JRh(e.bMT(27,19,"lang_business_config_billing_history_package_name")),e.R7$(3),e.JRh(e.bMT(30,21,"lang_azt_price")),e.R7$(3),e.Y8G("ngIf",r.vipPackageObj&&(null==r.vipPackageObj.subscriptionHistories?null:r.vipPackageObj.subscriptionHistories.length))("ngIfElse",i)}}const Wn=function(t){return[t]};function _r(t,u){if(1&t){const n=e.RV6();e.j41(0,"span",44)(1,"azt-check-vip-account",45)(2,"azt-upload-single-box",46),e.bIt("uploadComplete",function(r){e.eBV(n);const d=e.XpG(2);return e.Njj(d.uploadNewLogo("thumb",r))}),e.j41(3,"span",10),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("vipPackageType","VIP_FOR_TEACHER")("isAction",!0)("isShowBadgeVip",!0)("trackingKey","ACCOUNT_SETTING_TEACHER_THUMBNAIL"),e.R7$(1),e.Y8G("uploadToCdnMenu",n.allUploadToCdnMenuTypes.AVATAR)("fileType",e.eq3(10,Wn,n.allUploadFileTypes.IMAGE))("allowCompressImage",!1),e.R7$(2),e.JRh(e.bMT(5,8,"lang_business_config_upload_new_logo"))}}function Ws(t,u){if(1&t){const n=e.RV6();e.j41(0,"azt-check-vip-account",47),e.bIt("checkAction",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.uploadNewLogo("thumb"))}),e.j41(1,"span",10),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.Y8G("vipPackageType","VIP_FOR_TEACHER")("isAction",!0)("isShowBadgeVip",!0)("classCSSCustom","btn-text-primary font-medium flex items-center cursor-pointer ml-2")("trackingKey","ACCOUNT_SETTING_TEACHER_THUMBNAIL"),e.R7$(2),e.JRh(e.bMT(3,6,"lang_business_config_upload_new_logo")))}function Qs(t,u){if(1&t){const n=e.RV6();e.j41(0,"span",31),e.EFF(1," | "),e.j41(2,"span",48),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.deleteLogo("thumb"))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_button_delete")))}function qs(t,u){1&t&&e.nrm(0,"azt-loading-ui",49)}const Rl=function(t){return{"bg-blue-800":t}};function mr(t,u){if(1&t&&(e.j41(0,"div",50),e.nrm(1,"img",51),e.nI1(2,"getSystemDefaultLogo"),e.k0s()),2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(4,Rl,!n.thumbnailLogoURL)),e.R7$(1),e.Y8G("src",n.thumbnailLogoURL?n.thumbnailLogoURL:e.bMT(2,2,"thumb"),e.B4B)}}function El(t,u){if(1&t&&(e.j41(0,"div",37)(1,"div",38)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,_r,6,12,"span",39),e.DNE(6,Ws,4,8,"ng-template",null,40,e.C5r),e.DNE(8,Qs,5,3,"span",12),e.k0s(),e.j41(9,"div",41),e.DNE(10,qs,1,0,"azt-loading-ui",42),e.DNE(11,mr,3,6,"ng-template",null,43,e.C5r),e.k0s()()),2&t){const n=e.sdS(7),i=e.sdS(12),r=e.XpG();e.R7$(3),e.SpI("",e.bMT(4,6,"lang_user_config_thumbnail_img")+" | ","\xa0"),e.R7$(2),e.Y8G("ngIf",null==r.vipPackageObj?null:r.vipPackageObj.isVipTeacher)("ngIfElse",n),e.R7$(3),e.Y8G("ngIf",r.thumbnailLogoURL),e.R7$(2),e.Y8G("ngIf",r.loadingThumb)("ngIfElse",i)}}let to=(()=>{var t;class u extends Z.H{redirectToVipPackages(){this.commonService.myNavigationWithQueryString("/auth/vip-packages/"+(this.isTeacherDashboard?"teacherVip":"studentVip"),`?backto=${encodeURIComponent(`/auth/account-setting/${this.isTeacherDashboard?0:1}/8`)}&trackingKey=${this.isTeacherDashboard?"ACCOUNT_SETTING_TEACHER":"ACCOUNT_SETTING_STUDENT"}`)}deleteLogo(i){this.sAztDialogService.open(Gs.x,{restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&(this.thumbnailLogoURL="",this.saveConfigLogo())})}uploadNewLogo(i,r){"thumb"==i&&r?.url&&(this.thumbnailLogoURL=r.url),this.saveConfigLogo()}saveConfigLogo(){this.loadingThumb=!0,this.waitDestroy(this.userInfoService.apiUserInfoUpdateConfigPost({logo:this.thumbnailLogoURL}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message?i.message:"lang_cms_add_homework_upload_file_error",!0);this.loadingThumb=!1,this.successStatusObj("lang_user_config_thumbnail_upload_img_success",!0)}))}getVipBill(){this.sAztDialogService.open(Il.V,{data:{askForInvoice:!1},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(r=>{r&&this.getData()})}getData(){this.initStatusObj(),this.loadingThumb=!0,this.waitDestroy(this.vipPackageService.apiVipPackageGetMyPackagePost({vipPackageType:this.isTeacherDashboard?mn.W.TEACHER:mn.W.STUDENT}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.vipPackageObj=i.data?.obj,this.showBtnTakeInvoice=i.data?.obj?.showInvoice??!1,this.thumbnailLogoURL=i.data?.obj?.userConfig?.logo??"",this.loadingThumb=!1,this.expirationDate=this.timeService.calculationTimeOnlyDate(void 0,this.vipPackageObj?.endTime),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.getData()}constructor(i,r,d,b,w){super(),this.userInfoService=i,this.activeRoute=r,this.vipPackageService=d,this.timeService=b,this.sAztDialogService=w,this.expirationDate=0,this.flatWarning=10,this.isTeacherDashboard=!1,this.thumbnailLogoURL="",this.loadingThumb=!1,this.allUploadToCdnMenuTypes=De.b8,this.allUploadFileTypes=De.PO,this.showBtnTakeInvoice=!1}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.fv),e.rXU(_e.nX),e.rXU(Cl.vg),e.rXU(Te.F),e.rXU(C.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-azota-vip"]],features:[e.Vt3],decls:5,vars:3,consts:[[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","intro-x box p-5 mt-2",4,"ngIf"],[3,"currentStatusObj"],[1,"azota-vip"],[1,"text-lg","font-medium","mb-2"],[4,"ngIf","ngIfElse"],["noVipPackage",""],[1,"flex","text-right","mt-3","items-center",2,"justify-content","end"],[1,"mr-2"],[1,"btn","btn-primary",3,"click"],["class","ml-2",4,"ngIf"],[1,"subscription-history","mt-4"],[1,"text-lg","font-medium"],[1,"w-full","h-full","mt-2"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px","width","250px"],[1,"whitespace-nowrap",2,"width","350px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],["noHistory",""],[1,"vip"],[1,"flex","items-center","font-medium","mt-2"],["name","calendar-check","size","20",3,"ngClass"],[1,"flex","items-center","flex-wrap","font-medium","mt-2",3,"ngClass"],["name","calendar-off","size","20",3,"ngClass"],[1,"mr-2","mt-1","sm:mt-0"],[1,"mr-1"],["class","no-vip",4,"ngIf"],[1,"no-vip"],[1,"note"],[1,"ml-2"],[1,"btn","btn-success","text-white",3,"click"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[2,"text-align","right","padding-right","20px"],["colspan","3",1,"text-center"],[1,"intro-x","box","p-5","mt-2"],[1,"text-md","font-medium","mb-2","flex","items-center","w-full","flex-wrap"],["class","clickable link-color",4,"ngIf","ngIfElse"],["noVip",""],[1,"p-2","text-center","w-full"],["class","mx-auto my-auto",4,"ngIf","ngIfElse"],["doneLoadThumb",""],[1,"clickable","link-color"],[3,"vipPackageType","isAction","isShowBadgeVip","trackingKey"],[1,"inline-block",3,"uploadToCdnMenu","fileType","allowCompressImage","uploadComplete"],[3,"vipPackageType","isAction","isShowBadgeVip","classCSSCustom","trackingKey","checkAction"],[1,"clickable","text-danger",3,"click"],[1,"mx-auto","my-auto"],[1,"mx-auto",2,"width","200px","height","auto",3,"ngClass"],["width","100%","height","100%",3,"src"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0),e.DNE(1,Sl,1,1,"azt-loading-effect",1),e.DNE(2,Ys,35,23,"ng-template",null,2,e.C5r),e.k0s(),e.DNE(4,El,13,8,"div",3)),2&i){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d),e.R7$(3),e.Y8G("ngIf",r.isTeacherDashboard)}},dependencies:[m.YU,m.Sq,m.bT,I.K,T.R,kl.T,g.F,oe.WGl,Ue.jd,Ue.Ew,O.wp,O.i_,O.t0,O.Vo],encapsulation:2}),u})();function Xs(t,u){if(1&t&&(e.j41(0,"teacher-layout",2),e.eu8(1,3),e.k0s()),2&t){const n=e.XpG(),i=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",i)}}function Hs(t,u){if(1&t&&(e.j41(0,"student-layout",2),e.eu8(1,3),e.k0s()),2&t){const n=e.XpG(),i=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",i)}}function Rn(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",26),2&t){const n=e.XpG(2);e.Y8G("currentStatusObj",n.statusObj)}}const $t=function(t){return{"bg-primary text-white font-medium":t}},xe=function(){return{"mr-2 flex-none":!0}};function Js(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(0))}),e.nrm(1,"lucide-icon",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,$t,"general"==n.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auto_chung")," ")}}function no(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(1))}),e.nrm(1,"lucide-icon",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,$t,"password"==n.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auto_doi_mat_khau")," ")}}function Ks(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(5))}),e.nrm(1,"lucide-icon",32),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,$t,"setting-unit"==n.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auth_setting_user_unit")," ")}}function io(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(3))}),e.nrm(1,"lucide-icon",34),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,$t,"share-question"==n.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_payment_history_transaction_history")," ")}}function Zs(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(4))}),e.nrm(1,"lucide-icon",36),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,$t,"history-withdraw"==n.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_test_market_withdraw_history")," ")}}function ea(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(2))}),e.nrm(1,"lucide-icon",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,$t,"setting-role"==n.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auth_user_setting_change_role")," ")}}function pr(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(7))}),e.nrm(1,"lucide-icon",39),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(8,$t,"setting-fingerprint-or-face"==n.modeView)),e.R7$(1),e.Y8G("name",n.enableForFace?"scan-face":"fingerprint")("ngClass",e.lJ4(10,xe)),e.R7$(1),e.SpI(" ",n.enableForFace?e.bMT(3,4,"lang_core_login_with_face"):e.bMT(4,6,"lang_core_login_with_fingerprint")," ")}}function ta(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.goToProfileStudent())}),e.nrm(1,"lucide-icon",41),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto_thong_ke_hoc_tap")," "))}function Qn(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",42),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(8))}),e.j41(1,"div",43),e.nrm(2,"azt-check-vip-account",44),e.k0s(),e.j41(3,"span"),e.EFF(4,"Azota VIP"),e.k0s()()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(4,$t,"setting-azota-vip"==n.modeView)),e.R7$(2),e.Y8G("vipPackageType",n.isTeacherDashboard?"VIP_FOR_TEACHER":"VIP_FOR_STUDENT")("isShowBadgeVip",!0)("trackingKey",n.isTeacherDashboard?"ACCOUNT_SETTING_TEACHER":"ACCOUNT_SETTING_STUDENT")}}function hr(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changModeView(6))}),e.nrm(1,"lucide-icon",46),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,$t,"remove-account"==n.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auto_xoa_tai_khoan")," ")}}function En(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changeAccountStudent())}),e.nrm(1,"lucide-icon",48),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_core_chon_lai_con")," "))}function qn(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.mobLogout())}),e.nrm(1,"lucide-icon",50),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,xe)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto_dang_xuat")," "))}function na(t,u){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"setting-general",51),e.bIt("saveUserObj",function(r){e.eBV(n);const d=e.XpG(2);return e.Njj(d.saveUserObjData(r))}),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("userObj",n.userObj)("isTeacherDashboard",n.isTeacherDashboard)}}function oo(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"setting-password"),e.k0s())}function gr(t,u){if(1&t&&(e.j41(0,"div"),e.nrm(1,"setting-role",52),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("isTeacherDashboard",n.isTeacherDashboard)("hasTeacherRole",n.hasTeacherRole)}}function ro(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"setting-unit"),e.k0s())}function ia(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"view-share-question"),e.k0s())}function so(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"history-withdraw"),e.k0s())}function fr(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"remove-account"),e.k0s())}function oa(t,u){if(1&t&&(e.j41(0,"div"),e.nrm(1,"setting-fingerprint-or-face",53),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("checkLoginFingerprintOrFaceControl",n.checkLoginFingerprintOrFace)("enableForFace",n.enableForFace)}}function ra(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"setting-azota-vip"),e.k0s())}const wl=function(t){return{"margin-bottom":t}};function vr(t,u){if(1&t&&(e.DNE(0,Rn,1,1,"azt-loading-effect",4),e.j41(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",9)(8,"div",10)(9,"div",11),e.DNE(10,Js,4,8,"button",12),e.DNE(11,no,4,8,"button",13),e.DNE(12,Ks,4,8,"button",14),e.DNE(13,io,4,8,"button",15),e.DNE(14,Zs,4,8,"button",16),e.DNE(15,ea,4,8,"button",17),e.DNE(16,pr,5,11,"button",18),e.DNE(17,ta,4,5,"button",19),e.DNE(18,Qn,5,6,"button",20),e.DNE(19,hr,4,8,"button",21),e.DNE(20,En,4,5,"button",22),e.nI1(21,"isParentViewOnly"),e.DNE(22,qn,4,5,"button",23),e.k0s()()(),e.j41(23,"div",24),e.DNE(24,na,2,2,"div",25),e.DNE(25,oo,2,0,"div",25),e.DNE(26,gr,2,2,"div",25),e.DNE(27,ro,2,0,"div",25),e.DNE(28,ia,2,0,"div",25),e.DNE(29,so,2,0,"div",25),e.DNE(30,fr,2,0,"div",25),e.DNE(31,oa,2,2,"div",25),e.DNE(32,ra,2,0,"div",25),e.k0s()()()),2&t){const n=e.XpG();e.Y8G("ngIf",n.isLoading),e.R7$(5),e.SpI(" ",e.bMT(6,24,"lang_auto_cai_dat_tai_khoan")," "),e.R7$(5),e.Y8G("ngIf","setting-role"!=n.modeView),e.R7$(1),e.Y8G("ngIf","setting-role"!=n.modeView),e.R7$(1),e.Y8G("ngIf","setting-role"!=n.modeView&&!n.isTqbDomain),e.R7$(1),e.Y8G("ngIf","setting-role"!=n.modeView&&n.isTeacherDashboard&&!n.isBusinessDomain),e.R7$(1),e.Y8G("ngIf","setting-role"!=n.modeView&&n.isTeacherDashboard&&!n.isBusinessDomain),e.R7$(1),e.Y8G("ngIf","setting-role"==n.modeView&&!n.isMobileWebView),e.R7$(1),e.Y8G("ngIf",n.isMobileWebView&&n.isShowBiometricSetting),e.R7$(1),e.Y8G("ngIf",!n.isTeacherDashboard&&n.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",!n.isBusinessDomain&&!n.isMobileWebView),e.R7$(1),e.Y8G("ngIf",n.isMobileWebView),e.R7$(1),e.Y8G("ngIf",n.isMobileWebView&&e.bMT(21,26,"")&&n.sAztParentUserService.getCurrentLoginStudent(n.userObj)),e.R7$(2),e.Y8G("ngIf",n.isMobileWebView),e.R7$(1),e.Y8G("ngStyle",e.eq3(28,wl,n.isMobileWebView?"200px":"0")),e.R7$(1),e.Y8G("ngIf","general"==n.modeView&&n.userObj),e.R7$(1),e.Y8G("ngIf","password"==n.modeView),e.R7$(1),e.Y8G("ngIf","setting-role"==n.modeView&&!n.isMobileWebView),e.R7$(1),e.Y8G("ngIf","setting-unit"==n.modeView),e.R7$(1),e.Y8G("ngIf","share-question"==n.modeView),e.R7$(1),e.Y8G("ngIf","history-withdraw"==n.modeView),e.R7$(1),e.Y8G("ngIf","remove-account"==n.modeView),e.R7$(1),e.Y8G("ngIf","setting-fingerprint-or-face"==n.modeView),e.R7$(1),e.Y8G("ngIf","setting-azota-vip"==n.modeView)}}let sa=(()=>{var t;class u extends Z.H{goToProfileStudent(){this.initStatusObj();const i=Number(this.commonService.getMyParam(this.activeRoute,"modeType"));this.myNavigationWithQueryString("/student/profile-student/0/0","?backTo="+encodeURIComponent("/auth/account-setting/1/"+(this.isTeacherDashboard?0:1)+i+"?tab=0"))}changModeView(i){let r=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString(`/auth/account-setting/${this.isTeacherDashboard?0:1}/`+i,r?"?backTo="+encodeURIComponent(r)+"&tab=0":"?tab=0")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(i){this.userObj=i}mobLogout(){this.sAztUserLogoutService.mobLogout()}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.isTeacherDashboard||this.mobileWebviewService.sendSimpleMessage("OPEN_PROFILE"),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.waitDestroy(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(i=>{(i?.supportFace||i?.supportFingerprint)&&(this.enableForFace=i.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(i?.isOnOfOff??!1)),this.stopStatusObj()}))}changeAccountStudent(){this.sAztDialogService.open(gt.q,{data:!0,restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"})),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.waitDestroy((0,Ne.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;case 8:this.modeView="setting-azota-vip";break;default:this.modeView="general"}const r=this.commonService.getMyQueryParam("modeView");r&&(this.modeView=r);let d=this.commonService.getMyQueryParam("backTo");this.backLink=d??(this.isTeacherDashboard?"/admin/dashboard":"/student/classroom/0")}))}constructor(i,r,d,b,w){super(),this.userService=i,this.redirectService=r,this.activeRoute=d,this.mobileWebviewService=b,this.sAztDialogService=w,this.sAztUserLogoutService=(0,e.WQX)(at.d),this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new v.MJ(!1,{nonNullable:!0}),this.enableForFace=!1,this.isShowBiometricSetting=!1,this.sAztParentUserService=(0,e.WQX)(Kt.V)}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(He.R),e.rXU(ct.m),e.rXU(_e.nX),e.rXU(Rt.f),e.rXU(C.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-account-setting"]],features:[e.Vt3],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-1aaFkwubF","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-pOR0okU-y","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],[3,"currentStatusObj"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["name","user","size","16",3,"ngClass"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","lock","size","16",3,"ngClass"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","ruler","size","16",3,"ngClass"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","history","size","16",3,"ngClass"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["size","16",3,"name","ngClass"],["azt-track-service","account-setting-1aaFkwubF",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","bar-chart-3","size","16",3,"ngClass"],["azt-track-service","account-setting-pOR0okU-y",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"mr-2"],[3,"vipPackageType","isShowBadgeVip","trackingKey"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","trash-2","size","16",3,"ngClass"],[1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","hand","size","16",3,"ngClass"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["name","log-out","size","16",3,"ngClass"],[3,"userObj","isTeacherDashboard","saveUserObj"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(i,r){1&i&&(e.DNE(0,Xs,2,2,"teacher-layout",0),e.DNE(1,Hs,2,2,"student-layout",0),e.DNE(2,vr,33,30,"ng-template",null,1,e.C5r)),2&i&&(e.Y8G("ngIf",r.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!r.isTeacherDashboard))},dependencies:[m.YU,m.bT,m.T3,m.B3,I.K,g.F,f.Q,p.j,oe.WGl,pi,vi,yi,ss,As,js,vl,Ls,to,O.wp,O.hx],encapsulation:2}),u})();var wn=function(t){return t.NEW_PACKAGE="NEW_PACKAGE",t.EXTEND_PACKAGE="EXTEND_PACKAGE",t.UPGRADE_PACKAGE="UPGRADE_PACKAGE",t}(wn||{}),ut=y(40509),ao=y(92746);let lo=(()=>{var t;class u extends Z.H{getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesGet().subscribe(i=>{1===i.success?(this.packageList=i.data?.objs??[],this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.businessPackageService=(0,e.WQX)(ao.WC),this.packageList=[]}}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-base-business-packages"]],inputs:{businessPackageType:"businessPackageType",businessRegisterId:"businessRegisterId",businessRegisterHash:"businessRegisterHash"},features:[e.Vt3],decls:0,vars:0,template:function(i,r){},encapsulation:2}),u})();const Xn=function(){return{"mr-2 flex-none":!0}},Hn=function(t,u){return{"text-slate-400":t,"text-success":u}},Jn=function(){return{"flex-none":!0}},Kn=function(t){return{"text-slate-400":t}};function co(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",6)(4,"div",7),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()(),e.j41(7,"div",8)(8,"div",9),e.EFF(9),e.nI1(10,"formatMoney"),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"div",10),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",11)(16,"div",12),e.nrm(17,"lucide-icon",13),e.j41(18,"div",14)(19,"span",15),e.EFF(20),e.nI1(21,"formatMoney"),e.nI1(22,"mytranslate"),e.k0s()()(),e.j41(23,"div",16)(24,"div",17),e.nrm(25,"lucide-icon",18),e.k0s(),e.j41(26,"div",14)(27,"span",19),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()(),e.j41(30,"div",16)(31,"div",20),e.nrm(32,"lucide-icon",18),e.k0s(),e.j41(33,"div",14)(34,"span",19),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()()(),e.j41(37,"div",16)(38,"div",20),e.nrm(39,"lucide-icon",18),e.k0s(),e.j41(40,"div",14)(41,"span",19),e.EFF(42),e.nI1(43,"mytranslate"),e.k0s()()(),e.j41(44,"div",16)(45,"div",17),e.nrm(46,"lucide-icon",18),e.k0s(),e.j41(47,"div",14)(48,"span",19),e.EFF(49),e.nI1(50,"mytranslate"),e.k0s()()()(),e.j41(51,"div",21)(52,"button",22),e.bIt("click",function(){const d=e.eBV(n).$implicit,b=e.XpG();return e.Njj(b.choosePackage(d.id))}),e.EFF(53),e.nI1(54,"mytranslate"),e.k0s()()()()}if(2&t){const n=u.$implicit;e.R7$(5),e.JRh(e.bMT(6,26,n.name)),e.R7$(4),e.SpI(" ",e.bMT(10,28,n.price)+" "+e.bMT(11,30,"lang_auto_vnd_upper")," "),e.R7$(4),e.SpI(" "," / "+e.bMT(14,32,n.timeUnit)," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(48,Xn)),e.R7$(3),e.SpI(" ",e.bMT(21,34,n.totalActiveStudentPerMonth)+" "+e.bMT(22,36,"lang_core_active_students_per_month")," "),e.R7$(4),e.Y8G("ngClass",e.l_i(49,Hn,!n.supportToIntegrateToOwnSystem,n.supportToIntegrateToOwnSystem)),e.R7$(1),e.Y8G("name",n.supportToIntegrateToOwnSystem?"check":"x")("ngClass",e.lJ4(52,Jn)),e.R7$(2),e.Y8G("ngClass",e.eq3(53,Kn,!n.supportToIntegrateToOwnSystem)),e.R7$(1),e.SpI(" ",e.bMT(29,38,"lang_core_support_integration_with_existing_system_users")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(55,Hn,!n.supportOwnDomain,n.supportOwnDomain)),e.R7$(1),e.Y8G("name",n.supportOwnDomain?"check":"x")("ngClass",e.lJ4(58,Jn)),e.R7$(2),e.Y8G("ngClass",e.eq3(59,Kn,!n.supportOwnDomain)),e.R7$(1),e.SpI(" ",e.bMT(36,40,"lang_core_support_custom_domain")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(61,Hn,!n.supportTechnical,n.supportTechnical)),e.R7$(1),e.Y8G("name",n.supportTechnical?"check":"x")("ngClass",e.lJ4(64,Jn)),e.R7$(2),e.Y8G("ngClass",e.eq3(65,Kn,!n.supportTechnical)),e.R7$(1),e.SpI(" ",e.bMT(43,42,"lang_core_dedicated_technical_support_during_usage")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(67,Hn,!n.supportAdvanceReport,n.supportAdvanceReport)),e.R7$(1),e.Y8G("name",n.supportAdvanceReport?"check":"x")("ngClass",e.lJ4(70,Jn)),e.R7$(2),e.Y8G("ngClass",e.eq3(71,Kn,!n.supportAdvanceReport)),e.R7$(1),e.SpI(" ",e.bMT(50,44,"lang_core_support_building_extended_analysis_reports")," "),e.R7$(4),e.SpI(" ",e.bMT(54,46,"lang_auth_use")," ")}}let br=(()=>{var t;class u extends Z.H{constructor(){super(...arguments),this.packageList=[],this.choosePackageEvent=new e.bkB}choosePackage(i){this.choosePackageEvent.emit(i)}}return(t=u).\u0275fac=function(){let n;return function(r){return(n||(n=e.xGo(t)))(r||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-package-box"]],inputs:{packageList:"packageList"},outputs:{choosePackageEvent:"choosePackageEvent"},features:[e.Vt3],decls:7,vars:7,consts:[[1,"intro-y","text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8"],["class","col-span-12 md:col-span-6 lg:col-span-4",4,"ngFor","ngForOf"],[1,"text-center","pt-6","font-medium",3,"innerHTML"],[1,"col-span-12","md:col-span-6","lg:col-span-4"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center"],[1,"text-xl","font-medium"],[1,"mt-8","flex","items-center"],[1,"font-semibold","text-2xl","mr-1"],[1,"text-slate-500"],[1,"mt-8","text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-4"],["name","graduation-cap","size","20",3,"ngClass"],[1,"mt-0"],[1,"font-medium"],[1,"flex","mt-4"],[1,"mr-2",3,"ngClass"],["size","20",3,"name","ngClass"],[1,"font-medium",3,"ngClass"],[1,"flex-none","mr-2",3,"ngClass"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div",1),e.DNE(4,co,55,73,"div",2),e.k0s(),e.nrm(5,"div",3),e.nI1(6,"mytranslate")),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,3,"lang_auth_choose_package_to_use"),"\n"),e.R7$(3),e.Y8G("ngForOf",r.packageList),e.R7$(1),e.Y8G("innerHTML",e.bMT(6,5,"lang_business_package_please_contact_us_if_you_have_any_questions"),e.npT))},dependencies:[m.YU,m.Sq,oe.WGl,O.wp,O.t0],encapsulation:2}),u})();function aa(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function la(t,u){if(1&t){const n=e.RV6();e.j41(0,"app-business-packages-package-box",3),e.bIt("choosePackageEvent",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.buyBusinessPackage(r))}),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("packageList",n.packageList)}}let ca=(()=>{var t;class u extends lo{buyBusinessPackage(i){const r="userRole=teacher&productType=business_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),i,this.businessRegisterId,this.businessRegisterHash,r).subscribe(d=>{1===d.success?(window.location.href=d.data?.value??"",this.successStatusObj()):this.errorStatusObj(d.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getBusinessPackages()}constructor(i){super(),this.productOrderService=i}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Lt.Hg))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-buy-new-package"]],features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"packageList","choosePackageEvent"]],template:function(i,r){if(1&i&&(e.DNE(0,aa,1,1,"azt-loading-effect",0),e.DNE(1,la,1,1,"ng-template",null,1,e.C5r)),2&i){const d=e.sdS(2);e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[m.bT,I.K,br],encapsulation:2}),u})(),ua=(()=>{var t;class u extends lo{buyBusinessPackage(){const i="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderExtendBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),i).subscribe(r=>{1===r.success?(window.location.href=r.data?.value??"",this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.buyBusinessPackage()}constructor(i,r,d){super(),this.userService=i,this.redirectService=r,this.productOrderService=d}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(He.R),e.rXU(ct.m),e.rXU(Lt.Hg))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-extend-package"]],features:[e.Vt3],decls:1,vars:1,consts:[[3,"currentStatusObj"]],template:function(i,r){1&i&&e.nrm(0,"azt-loading-effect",0),2&i&&e.Y8G("currentStatusObj",r.statusObj)},dependencies:[I.K],encapsulation:2}),u})();function yr(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function da(t,u){if(1&t){const n=e.RV6();e.j41(0,"app-business-packages-package-box",3),e.bIt("choosePackageEvent",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.buyBusinessPackage(r))}),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("packageList",n.packageList)}}let _a=(()=>{var t;class u extends lo{buyBusinessPackage(i){const r="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderUpgradeBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),i,r).subscribe(d=>{1===d.success?(window.location.href=d.data?.value??"",this.successStatusObj()):this.errorStatusObj(d.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.getBusinessPackages()}constructor(i,r,d){super(),this.userService=i,this.redirectService=r,this.productOrderService=d}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(He.R),e.rXU(ct.m),e.rXU(Lt.Hg))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-upgrade-package"]],features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"packageList","choosePackageEvent"]],template:function(i,r){if(1&i&&(e.DNE(0,yr,1,1,"azt-loading-effect",0),e.DNE(1,da,1,1,"ng-template",null,1,e.C5r)),2&i){const d=e.sdS(2);e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[m.bT,I.K,br],encapsulation:2}),u})();function ma(t,u){if(1&t&&(e.qex(0),e.nrm(1,"app-business-packages-buy-new-package",2),e.bVm()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}function uo(t,u){if(1&t&&(e.qex(0),e.nrm(1,"app-business-packages-extend-package",2),e.bVm()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}function pa(t,u){if(1&t&&(e.qex(0),e.nrm(1,"app-business-packages-upgrade-package",2),e.bVm()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}let _o=(()=>{var t;class u extends Z.H{ngOnInit(){super.ngOnInit(),this.businessPackageType=this.commonService.getEnumTypeWithDefault(wn,this.commonService.getMyParam(this.activeRoute,"businessPackageType")?.toUpperCase()??"",wn.NEW_PACKAGE),this.businessRegisterId=Number(this.commonService.getMyParam(this.activeRoute,"businessRegisterId")),this.businessRegisterHash=String(this.commonService.getMyParam(this.activeRoute,"businessRegisterHash"))}constructor(i){super(),this.activeRoute=i,this.allBusinessPackageType=wn,this.businessPackageType=wn.NEW_PACKAGE,this.businessRegisterId=0,this.businessRegisterHash=""}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(_e.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages"]],features:[e.Vt3],decls:4,vars:5,consts:[[3,"maxWidth","contentBoxClass"],[4,"ngIf"],[3,"businessPackageType","businessRegisterId","businessRegisterHash"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout",0),e.DNE(1,ma,2,3,"ng-container",1),e.DNE(2,uo,2,3,"ng-container",1),e.DNE(3,pa,2,3,"ng-container",1),e.k0s()),2&i&&(e.Y8G("maxWidth","950px")("contentBoxClass","bg-transparent shadow-none"),e.R7$(1),e.Y8G("ngIf",r.businessPackageType==r.allBusinessPackageType.NEW_PACKAGE),e.R7$(1),e.Y8G("ngIf",r.businessPackageType==r.allBusinessPackageType.EXTEND_PACKAGE),e.R7$(1),e.Y8G("ngIf",r.businessPackageType==r.allBusinessPackageType.UPGRADE_PACKAGE))},dependencies:[m.bT,ut.K,ca,ua,_a],encapsulation:2}),u})();var xn=y(58227);function mo(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_email")," "))}function ha(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function po(t,u){if(1&t&&(e.j41(0,"div",17),e.DNE(1,mo,3,3,"span",2),e.DNE(2,ha,3,3,"span",2),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.form.controls.email.errors.required),e.R7$(1),e.Y8G("ngIf",n.form.controls.email.errors.email||n.form.controls.email.errors.pattern)}}function Zn(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function ho(t,u){if(1&t&&(e.j41(0,"div",18),e.DNE(1,Zn,3,3,"span",2),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors.required)}}function ga(t,u){1&t&&e.nrm(0,"azt-loading-ui",19)}const go=function(){return{"dark:text-slate-500":!0}};function fa(t,u){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"form",6)(2,"div",7),e.nrm(3,"input",8),e.nI1(4,"mytranslate"),e.DNE(5,po,3,2,"div",9),e.k0s(),e.j41(6,"div",7)(7,"div",10),e.nrm(8,"input",11),e.nI1(9,"mytranslate"),e.j41(10,"button",12),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.togglePassword())}),e.nrm(11,"lucide-icon",13),e.k0s()(),e.DNE(12,ho,2,1,"div",14),e.k0s(),e.j41(13,"div",3)(14,"button",15),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.confirmChangeEmail())}),e.DNE(15,ga,1,0,"azt-loading-ui",16),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG();e.R7$(1),e.Y8G("formGroup",n.form),e.R7$(2),e.FS9("placeholder",e.bMT(4,11,"lang_auto_nhap_email_moi")),e.R7$(2),e.Y8G("ngIf",n.form.controls.email.errors&&n.form.controls.email.dirty),e.R7$(3),e.FS9("placeholder",e.bMT(9,13,"lang_auto_mat_khau")),e.Y8G("type",n.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",e.lJ4(17,go)),e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(2),e.Y8G("disabled",n.statusObj.loading||n.form.invalid),e.R7$(1),e.Y8G("ngIf",n.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(17,15,"lang_button_confirm")," ")}}function nn(t,u){if(1&t&&(e.j41(0,"div")(1,"div",20)(2,"div",21)(3,"p",22),e.EFF(4),e.nI1(5,"mytranslate"),e.j41(6,"b"),e.EFF(7),e.k0s(),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()),2&t){const n=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.R7$(3),e.JRh(n.oldEmail),e.R7$(1),e.SpI(" ",e.bMT(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}const fo=function(){return{"mr-2":!0}};let va=(()=>{var t;class u extends Z.H{confirmChangeEmail(){this.form.valid&&(this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoChangeEmailByPasswordPost({newEmail:this.form.controls.email.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success){let d=r.data?.value;if(d){this.successStatusObj("lang_auth_email_changed_successfully",!0);let b=this.userService.getUserObj();b.email=d,this.userService.saveUserObj(b),this.localStorageObject.clearAllCache(),this.backToRedirect()}else this.errorStatusObj("lang_auto_vui_long_nhap_email",!0)}else this.errorStatusObj(r.message??"",!0)})))}backToRedirect(){let i=this.getMyQueryParam("return_url");i&&this.myNavigation(i)}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(i,r,d){super(),this.userInfoService=i,this.localStorageObject=r,this.userService=d,this.step=1,this.oldEmail="",this.showPassword=!1,this.form=new v.gE({email:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.email,v.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.fv),e.rXU(xn.G),e.rXU(He.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-account"]],features:[e.Vt3],decls:12,vars:10,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","autocomplete","new-email","name","email","formControlName","email",1,"form-control","py-3","px-4",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[2,"position","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","py-3","px-4","w-full",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","font-medium","mt-1"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",1),e.DNE(5,fa,18,18,"div",2),e.DNE(6,nn,10,7,"div",2),e.j41(7,"div",3)(8,"a",4),e.bIt("click",function(){return r.backToRedirect()}),e.nrm(9,"lucide-icon",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_auto_doi_email_moi")," "),e.R7$(3),e.Y8G("ngIf",1==r.step),e.R7$(1),e.Y8G("ngIf",!r.statusObj.loading&&2==r.step),e.R7$(3),e.Y8G("ngClass",e.lJ4(9,fo)),e.R7$(1),e.SpI(" ",e.bMT(11,7,"lang_auto_quay_lai")," "))},dependencies:[m.YU,m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,tt.t,T.R,ut.K,oe.WGl,O.wp],encapsulation:2}),u})(),ba=(()=>{var t;class u extends Z.H{get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")??""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(i=>{if(1==i.success){let r=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type="+this.confirm_type+"&app_name="+i?.data?.app;window.location.href=r.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(i){super(),this.userInfoService=i}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-checking-service"]],features:[e.Vt3],decls:4,vars:3,consts:[[1,"mt-5","text-center"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"h2",0),e.nrm(1,"azt-loading-ui",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[T.R,O.wp],encapsulation:2}),u})();function ya(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",16),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}let vo=(()=>{var t;class u extends Z.H{chooseRegisterStudent(){let i=this.commonService.getMyQueryParam("return_url");i&&(i.includes("/vi")||i.includes("/en"))&&(i=i.substring(3)),this.myNavigation(i||"/student/classroom/0")}chooseRegisterTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(i=>{if(1==i.success){let r=this.commonService.getMyQueryParam("return_url");r&&(r.includes("/vi")||r.includes("/en"))&&(r=r.substring(3)),this.myNavigation(r||"/admin/dashboard")}else this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(i,r){super(),this.userInfoService=i,this.redirectByRoleService=r}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.fv),e.rXU(It.b))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-download-answer-sheet"]],features:[e.Vt3],decls:28,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["name","graduation-cap","size","36"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"],[3,"currentStatusObj"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"div",2),e.j41(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"img",6),e.nI1(7,"getLinkLogo"),e.j41(8,"h3",7),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",8)(12,"div",9),e.DNE(13,ya,1,1,"azt-loading-effect",10),e.j41(14,"div",11),e.bIt("click",function(){return r.chooseRegisterStudent()}),e.j41(15,"div",12),e.nrm(16,"lucide-icon",13),e.j41(17,"p"),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()()(),e.j41(20,"div",14),e.bIt("click",function(){return r.chooseRegisterTeacher()}),e.j41(21,"div",12),e.nrm(22,"img",15),e.nI1(23,"convertCdnLinkOfGitHub"),e.j41(24,"p"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()()()()()()(),e.nrm(27,"div",2),e.k0s()()),2&i&&(e.R7$(6),e.Y8G("src",e.bMT(7,6,"bigLogo"),e.B4B),e.R7$(3),e.JRh(e.bMT(10,8,"lang_auto_chon_vai_tro")),e.R7$(4),e.Y8G("ngIf",r.statusObj.loading),e.R7$(5),e.JRh(e.bMT(19,10,"lang_auto_toi_la_hoc_sinh")),e.R7$(4),e.Y8G("src",e.bMT(23,12,"images/teacher.png"),e.B4B),e.R7$(3),e.JRh(e.bMT(26,14,"lang_auto_toi_la_giao_vien")))},dependencies:[m.bT,I.K,oe.WGl,O.wp,O.gt,O.ph],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),u})();function Ir(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.nI1(6,"mytranslate"),e.nI1(7,"mytranslate"),e.k0s(),e.j41(8,"div",14)(9,"button",15),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.ignoreRequest())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",16),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.confirmPassword())}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()}2&t&&(e.R7$(2),e.SjE(" ",e.bMT(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.bMT(4,9,"lang_auto_xac_nhan"),'" ',e.bMT(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.bMT(6,13,"lang_auto_huy"),'" ',e.bMT(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.R7$(8),e.SpI(" ",e.bMT(11,17,"lang_cms_common_close_btn")," "),e.R7$(3),e.SpI(" ",e.bMT(14,19,"lang_cms_common_confirm_btn")," "))}function Ia(t,u){1&t&&(e.j41(0,"div")(1,"div",17),e.nrm(2,"azt-loading-ui",18),e.j41(3,"span",19),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}const Ca=function(t){return[t]},bo=function(){return{user_click:"true"}};function ka(t,u){1&t&&(e.j41(0,"div",22)(1,"div",23),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",24)(5,"div",25)(6,"a",26),e.nI1(7,"navigationLocalize"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(10,Ca,e.bMT(7,6,"/auth/login")))("queryParams",e.lJ4(12,bo)),e.R7$(2),e.JRh(e.bMT(9,8,"lang_auto_dang_nhap_tai_khoan")))}function yo(t,u){if(1&t&&(e.j41(0,"div",22)(1,"div",27),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.E5c("",e.bMT(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",e.bMT(4,5,n.hasErrorMessage),"",e.bMT(5,7,"lang_auto__vui_long_thu_lai_sau"),"")}}function Sa(t,u){if(1&t&&(e.j41(0,"div"),e.DNE(1,ka,10,13,"div",20),e.DNE(2,yo,6,9,"ng-template",null,21,e.C5r),e.k0s()),2&t){const n=e.sdS(3),i=e.XpG();e.R7$(1),e.Y8G("ngIf",!i.hasErrorMessage)("ngIfElse",n)}}let Io=(()=>{var t;class u extends Z.H{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var r={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(r).subscribe(d=>{1==d.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=d.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(i,r){super(),this.redirectByRoleService=i,this.smsService=r,this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(ue.$T))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password-email"]],features:[e.Vt3],decls:18,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],[1,"mr-1"],[1,"sr-only","ml-2"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9)(13,"div"),e.DNE(14,Ir,15,21,"div",10),e.k0s(),e.DNE(15,Ia,6,3,"div",11),e.DNE(16,Sa,4,2,"div",11),e.k0s()()(),e.nrm(17,"div",3),e.k0s()()()),2&i&&(e.R7$(5),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(4),e.Y8G("ngIf",1==r.step),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!r.statusObj.loading&&2==r.step))},dependencies:[_e.Wk,m.bT,sn.$z,T.R,O.F2,O.wp,O.ph],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),u})(),Co=(()=>{var t;class u{get windowRef(){return window}}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac}),u})();var Ta=y(7919);function An(t,u){1&t&&(e.j41(0,"div",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Ra(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Ea(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ko(t,u){if(1&t&&(e.j41(0,"div",20),e.DNE(1,Ra,3,3,"span",21),e.DNE(2,Ea,3,3,"span",21),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors.required),e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function So(t,u){1&t&&e.nrm(0,"azt-loading-ui",22)}const To=function(){return{"dark:text-slate-500":!0}},wa=function(){return{"mr-2":!0}};let Cr=(()=>{var t;class u extends Z.H{handleClickLogout(){"forgot_password"==this.confirmType||"change_phone"==this.confirmType?this.redirectByRoleService.redirectLoginByRole(""):(this.sAztUserLogoutService.logout(),this.redirectService.redirectSimpleLogin())}togglePassword(){this.showPassword=!this.showPassword}handleBackToLink(){let i=this.getMyQueryParam("return_url")??"/auth/account-setting/0/0";this.commonService.myNavigation(i)}handleUpdatePhoneNumber(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj(),this.userInfoService.apiUserInfoChangePhoneByPasswordPost({newPhone:this.form.controls.newPhone.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success){const d=r.data?.value;if(d){this.successStatusObj("lang_auto_cap_nhat_so_dien_thoai_thanh_cong",!0);let b=this.userService.getUserObj();b.phone=d,this.userService.saveUserObj(b),this.localStorageObject.clearAllCache(),this.handleBackToLink()}}else this.errorStatusObj(r.message??"",!0)})}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}getTranslateMetaData(i){switch(i){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}getData(){"forgot_password"!==this.confirmType&&this.userInfoService.apiUserInfoInfoGet().subscribe(i=>{1==i.success?1==i?.new_user?.isVerifyPhone?"change_phone"!=this.confirmType&&this.redirectByRoleService.redirectLoginByRole(""):i?.new_user?.phone&&i?.new_user?.phone.length<=10?this.form.controls.newPhone.setValue(""):(this.form.controls.newPhone.setValue(""),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(r=>{this.showErrorSnack(r+(i.message?" | "+i.message:""))})})}ngOnInit(){super.ngOnInit(),this.confirmType=this.getConfirmType(),this.getData(),this.getTranslateMetaData(this.confirmType)}constructor(i,r,d,b,w){super(),this.redirectByRoleService=i,this.userService=r,this.userInfoService=d,this.redirectService=b,this.localStorageObject=w,this.sAztUserLogoutService=(0,e.WQX)(at.d),this.confirmType="forgot_password",this.showPassword=!1,this.form=new v.gE({newPhone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(10),v.k0.maxLength(10),v.k0.pattern(/^[0-9]*$/)]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(He.R),e.rXU(ue.fv),e.rXU(ct.m),e.rXU(xn.G))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-account"]],features:[e.Jv_([Co]),e.Vt3],decls:30,vars:28,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"mt-2"],[3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"azt-form-group"],["id","phoneInput","type","text","appOnlyNumber","","formControlName","newPhone","name","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"btn","btn-primary","px-4","py-3","w-full","mt-4",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mt-4"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout")(1,"div",0)(2,"h2",1),e.EFF(3),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",2)(7,"form",3)(8,"div",4)(9,"div",5)(10,"div",6),e.nrm(11,"input",7),e.nI1(12,"mytranslate"),e.DNE(13,An,3,3,"div",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"input",10),e.nI1(16,"mytranslate"),e.j41(17,"button",11),e.bIt("click",function(){return r.togglePassword()}),e.nrm(18,"lucide-icon",12),e.k0s(),e.DNE(19,ko,3,2,"div",13),e.k0s(),e.j41(20,"button",14),e.bIt("click",function(){return r.handleUpdatePhoneNumber()}),e.DNE(21,So,1,0,"azt-loading-ui",15),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()(),e.nrm(24,"hr"),e.j41(25,"div",16)(26,"a",17),e.bIt("click",function(){return r.handleBackToLink()}),e.nrm(27,"lucide-icon",18),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()()()()),2&i&&(e.R7$(3),e.SpI(" ","change_phone"==r.confirmType?e.bMT(4,14,"lang_auto_doi_so_diem_thoai_moi"):e.bMT(5,16,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),e.R7$(4),e.Y8G("formGroup",r.form),e.R7$(4),e.FS9("placeholder",e.bMT(12,18,"lang_auto_nhap_so_dien_thoai_moi")),e.R7$(2),e.Y8G("ngIf",(r.form.controls.newPhone.dirty||r.form.controls.newPhone.touched)&&r.form.controls.newPhone.errors),e.R7$(2),e.FS9("type",r.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(16,20,"lang_auto_mat_khau")),e.R7$(3),e.Y8G("name",r.showPassword?"eye":"eye-off")("ngClass",e.lJ4(26,To)),e.R7$(1),e.Y8G("ngIf",r.form.controls.password.errors&&(r.form.controls.password.dirty||r.form.controls.password.touched)),e.R7$(1),e.Y8G("disabled",r.statusObj.loading),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(23,22,"lang_cms_common_confirm_btn")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(27,wa)),e.R7$(1),e.SpI(" ",e.bMT(29,24,"lang_auto_quay_lai")," "))},dependencies:[m.YU,m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,Ta.Z,tt.t,T.R,ut.K,oe.WGl,O.wp],encapsulation:2}),u})();var kr=y(407),zt=y(44477),Ro=y(23837);function xa(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Eo(t,u){1&t&&(e.j41(0,"h2",7),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_quen_mat_khau")," "))}function Aa(t,u){1&t&&(e.j41(0,"div",30)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Oa(t,u){if(1&t&&(e.j41(0,"div",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(3);e.R7$(1),e.SpI(" ",e.bMT(2,1,n.msgError)," ")}}function wo(t,u){1&t&&(e.j41(0,"span",31),e.nrm(1,"lucide-icon",32),e.k0s())}function Fa(t,u){1&t&&(e.j41(0,"span",31),e.nrm(1,"lucide-icon",33),e.k0s())}function Pa(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function xo(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ja(t,u){if(1&t&&(e.j41(0,"div",30),e.DNE(1,Pa,3,3,"span",6),e.DNE(2,xo,3,3,"span",6),e.k0s()),2&t){const n=e.XpG(3);e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors.required),e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function Ao(t,u){1&t&&e.nrm(0,"azt-loading-ui",34)}const Bt=function(t){return[t]},Oo=function(t){return{return_url:t}},Xt=function(){return{"mr-2":!0}},Ht=function(){return{user_click:"true"}};function Ma(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",8)(2,"div",9)(3,"input",10),e.bIt("input",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.isInvalidUserPhoneOrEmail(r.form.controls.emailOrPhone.value))}),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,Aa,4,3,"div",11),e.DNE(6,Oa,3,3,"div",11),e.k0s(),e.j41(7,"div",12),e.nrm(8,"input",13),e.nI1(9,"mytranslate"),e.j41(10,"button",14),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.togglePassword())}),e.DNE(11,wo,2,0,"span",15),e.DNE(12,Fa,2,0,"span",15),e.k0s(),e.DNE(13,ja,3,2,"div",11),e.k0s()(),e.j41(14,"div",16)(15,"a",17),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",18)(19,"button",19),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.changePassword())}),e.DNE(20,Ao,1,0,"azt-loading-ui",20),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.j41(23,"div",21)(24,"span",22),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",23)(28,"button",24),e.nI1(29,"navigationLocalize"),e.nrm(30,"lucide-icon",25),e.j41(31,"span",26),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()()(),e.j41(34,"div",27)(35,"a",28),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.removeKeyStorage())}),e.nI1(36,"navigationLocalize"),e.nrm(37,"lucide-icon",29),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.FS9("placeholder",e.bMT(4,21,"lang_auto_email_hoac_so_dien_thoai")),e.R7$(2),e.Y8G("ngIf",n.form.controls.emailOrPhone.errors&&(n.form.controls.emailOrPhone.dirty||n.form.controls.emailOrPhone.touched)&&!n.msgError),e.R7$(1),e.Y8G("ngIf",n.msgError),e.R7$(2),e.FS9("type",n.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(9,23,"lang_auto_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",n.showPassword),e.R7$(1),e.Y8G("ngIf",!n.showPassword),e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(3),e.SpI(" ",e.bMT(17,25,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),e.R7$(3),e.Y8G("disabled",n.form.invalid),e.R7$(1),e.Y8G("ngIf",n.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(22,27,"lang_auto_tiep_tuc")," "),e.R7$(4),e.SpI(" ",e.bMT(26,29,"lang_auto_hoac")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(39,Bt,e.bMT(29,31,"/auth/confirm_forgot_password_qr")))("queryParams",e.eq3(41,Oo,n.backLink)),e.R7$(2),e.Y8G("ngClass",e.lJ4(43,Xt)),e.R7$(2),e.SpI(" ",e.bMT(33,33,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(44,Bt,e.bMT(36,35,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(46,Ht)),e.R7$(2),e.Y8G("ngClass",e.lJ4(47,Xt)),e.R7$(1),e.SpI(" ",e.bMT(39,37,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Sr(t,u){if(1&t&&(e.j41(0,"div",44)(1,"a",45),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(3);e.R7$(1),e.BMQ("href","sms:"+n.phoneSend+(n.isCheckIos?"&":"?")+"body=MK "+(null==n.responseChangePass?null:n.responseChangePass.otp),e.B4B),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets")," ")}}function Tr(t,u){1&t&&(e.j41(0,"div",44),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "))}function Rr(t,u){if(1&t){const n=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(n);const r=e.XpG(3);return e.Njj(r.changeStepByNext())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_tiep_tuc")," "))}function Da(t,u){if(1&t&&(e.j41(0,"div",47),e.nrm(1,"azt-loading-ui",34),e.j41(2,"div",47),e.EFF(3),e.k0s(),e.j41(4,"div",48)(5,"div",49)(6,"span"),e.EFF(7),e.nI1(8,"mytranslate"),e.j41(9,"b"),e.EFF(10),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"span",50),e.EFF(13),e.k0s()()()()),2&t){const n=e.XpG(3);e.R7$(3),e.JRh(n.currentMessage),e.R7$(4),e.SpI(" ",e.bMT(8,5,"lang_auth_note_send_otp_password")+" "," "),e.R7$(3),e.JRh(n.form.controls.emailOrPhone.value),e.R7$(1),e.SpI(" ",": "," "),e.R7$(2),e.SpI(" ",n.displayTime," ")}}function Er(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",35)(2,"div",26),e.EFF(3),e.nI1(4,"mytranslate"),e.j41(5,"strong"),e.EFF(6),e.k0s(),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",36)(10,"strong"),e.EFF(11),e.k0s(),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"strong"),e.EFF(15),e.k0s()(),e.DNE(16,Sr,4,4,"div",37),e.j41(17,"div",38),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.DNE(20,Tr,3,3,"div",37),e.j41(21,"div",39),e.DNE(22,Rr,3,3,"button",40),e.DNE(23,Da,14,7,"div",41),e.k0s()(),e.j41(24,"div",27)(25,"a",42),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.removeKeyStorage())}),e.nI1(26,"navigationLocalize"),e.nrm(27,"lucide-icon",43),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,15,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),e.R7$(3),e.JRh(n.form.controls.emailOrPhone.value),e.R7$(1),e.SpI(" ",e.bMT(8,17,"lang_auto_va_soan_tin_nhan"),": "),e.R7$(4),e.SpI("MK ",null==n.responseChangePass?null:n.responseChangePass.otp,""),e.R7$(1),e.SpI(" ",e.bMT(13,19,"lang_auto_gui")," "),e.R7$(3),e.JRh(n.phoneSend),e.R7$(1),e.Y8G("ngIf",n.isMobileDevice),e.R7$(2),e.SpI("(",e.bMT(19,21,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),")"),e.R7$(2),e.Y8G("ngIf",2===n.step),e.R7$(2),e.Y8G("ngIf",2==n.step),e.R7$(1),e.Y8G("ngIf",3===n.step),e.R7$(2),e.Y8G("routerLink",e.eq3(27,Bt,e.bMT(26,23,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(29,Ht)),e.R7$(2),e.Y8G("ngClass",e.lJ4(30,Xt)),e.R7$(1),e.SpI(" ",e.bMT(29,25,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Fo(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",51)(2,"div",52),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",53)(6,"a",54),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.removeKeyStorage())}),e.nI1(7,"navigationLocalize"),e.nrm(8,"lucide-icon",29),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,5,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(11,Bt,e.bMT(7,7,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(13,Ht)),e.R7$(2),e.Y8G("ngClass",e.lJ4(14,Xt)),e.R7$(1),e.SpI(" ",e.bMT(10,9,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}const Na=function(){return{"text-success":!0}};function La(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",35)(2,"div",47),e.nrm(3,"lucide-icon",55),e.k0s(),e.j41(4,"div",56),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",57),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",53)(15,"div",58)(16,"a",59),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.removeKeyStorage())}),e.nI1(17,"navigationLocalize"),e.nrm(18,"lucide-icon",29),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(19,Na)),e.R7$(2),e.SpI(" ",e.bMT(6,9,"lang_auto_kiem_tra_email_cua_ban")," "),e.R7$(3),e.SpI(" ",e.bMT(9,11,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),e.R7$(3),e.JRh(n.form.controls.emailOrPhone.value),e.R7$(1),e.SpI(" ",e.bMT(13,13,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(20,Bt,e.bMT(17,15,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(22,Ht)),e.R7$(2),e.Y8G("ngClass",e.lJ4(23,Xt)),e.R7$(1),e.SpI(" ",e.bMT(20,17,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}const Ga=function(){return{"mx-auto text-success":!0}};function Po(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",60)(2,"div",47),e.nrm(3,"lucide-icon",61),e.k0s(),e.j41(4,"div",56),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",62),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",63)(11,"div",58)(12,"a",59),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.removeKeyStorage())}),e.nI1(13,"navigationLocalize"),e.nrm(14,"lucide-icon",29),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(15,Ga)),e.R7$(2),e.SpI(" ",e.bMT(6,7,"lang_auth_password_changed")," "),e.R7$(3),e.SpI(" ",e.bMT(9,9,"lang_auth_your_password_has_been_changed_successfully")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(16,Bt,e.bMT(13,11,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(18,Ht)),e.R7$(2),e.Y8G("ngClass",e.lJ4(19,Xt)),e.R7$(1),e.SpI(" ",e.bMT(16,13,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function $a(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",64)(2,"div",65)(3,"div",66),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",67),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",63)(10,"ng-otp-input",68),e.bIt("onInputChange",function(r){e.eBV(n);const d=e.XpG(2);return e.Njj(d.onOtpChange(r))}),e.k0s()(),e.j41(11,"div",69)(12,"div",70)(13,"span",71),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"span",50),e.EFF(17),e.k0s()()(),e.j41(18,"div",72)(19,"button",73),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.verifyOTP())}),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()(),e.j41(22,"div",27)(23,"a",74),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.removeKeyStorage())}),e.nI1(24,"navigationLocalize"),e.nrm(25,"lucide-icon",29),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(4),e.SpI(" ",e.bMT(5,10,"lang_auth_otp_verification")," "),e.R7$(3),e.SpI(" ",e.bMT(8,12,"lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")," "),e.R7$(3),e.Y8G("config",n.config),e.R7$(4),e.JRh(e.bMT(15,14,"lang_auth_the_code_will_expire_in")+":"),e.R7$(3),e.SpI(" ",n.displayTimeOtp," "),e.R7$(3),e.SpI(" ",e.bMT(21,16,"lang_cms_common_confirm_btn")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(22,Bt,e.bMT(24,18,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(24,Ht)),e.R7$(2),e.Y8G("ngClass",e.lJ4(25,Xt)),e.R7$(1),e.SpI(" ",e.bMT(27,20,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function za(t,u){if(1&t&&(e.j41(0,"div",3)(1,"form",4),e.DNE(2,Eo,3,3,"h2",5),e.DNE(3,Ma,40,48,"ng-container",6),e.DNE(4,Er,30,31,"ng-container",6),e.DNE(5,Fo,11,15,"ng-container",6),e.DNE(6,La,21,24,"ng-container",6),e.DNE(7,Po,17,20,"ng-container",6),e.DNE(8,$a,28,26,"ng-container",6),e.k0s()()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("formGroup",n.form),e.R7$(1),e.Y8G("ngIf",7!==n.step&&6!==n.step),e.R7$(1),e.Y8G("ngIf",1==n.step),e.R7$(1),e.Y8G("ngIf",2==n.step||3==n.step),e.R7$(1),e.Y8G("ngIf",!n.statusObj.loading&&4==n.step),e.R7$(1),e.Y8G("ngIf",5==n.step),e.R7$(1),e.Y8G("ngIf",6==n.step),e.R7$(1),e.Y8G("ngIf",7==n.step)}}let Ba=(()=>{var t;class u extends Z.H{isInvalidUserPhoneOrEmail(i){this.msgError=zt.U.validPhoneOrEmail(i)}randomPhone(i){if(i.includes(",")){let r=i.split(",");return r[this.commonService.getRandomNumber(0,r.length-1)]}return i}removeKeyStorage(){this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"),this.browserStorageService.removeStorage("azt_response_change_pass")}onOtpChange(i){this.otp=i}togglePassword(){this.showPassword=!this.showPassword}changePassword(){this.form.valid?(this.initStatusObj(),this.smsService.apiSmsChangePassPost({phone:this.form.controls.emailOrPhone.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success)if(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@"))this.step=5;else{this.step=2,this.responseChangePass=r.data;const d=this.serializeJson(this.responseChangePass??{});this.browserStorageService.saveStorage("azt_response_change_pass",d)}else this.errorStatusObj(r.message??"",!0)})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callChangePasswordOtpApi(i,r){this.smsService.apiSmsSendOtpPost(i).subscribe(d=>{1==d.success?(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@")?this.step=5:(this.step=7,this.tokenChangePass=d.data?.value??"",this.durationOtp=300,this.timerOtp(this.durationOtp),this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.saveStorage("duration_otp_forgot_password",this.durationOtp.toString()),this.browserStorageService.saveStorage("token_forgot_password",this.tokenChangePass.toString()))):this.errorStatusObj(d.message??"",!0)})}changePasswordOtp(){this.initStatusObj();const i=this.browserStorageService.getStorage("azt_phone_change_password")??"",r=this.browserStorageService.getStorage("azt_pass_change_password")??"";if(!i||!r)return;const d={phone:i,password:r};this.executeImportantAction().then(b=>{this.callChangePasswordOtpApi(d,b)}).catch(b=>{this.callChangePasswordOtpApi(d,"")})}verifyOTP(){6===this.otp.length?this.waitDestroy(this.smsService.apiSmsConfirmChangePassByPhoneOtpPost({otp:this.otp,secret:this.tokenChangePass}).subscribe(i=>{i.success?(this.step=6,this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password")):this.errorStatusObj(i.message??"",!0)})):this.showErrorSnack("lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(i=>{1==i.success?(this.successStatusObj(),this.phoneSend=this.randomPhone(i.data?.phone??"")):this.errorStatusObj(i.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(r=>{this.currentMessage=r}),this.form.controls.emailOrPhone.value&&this.form.controls.password.value&&(this.browserStorageService.saveStorage("azt_phone_change_password",this.form.controls.emailOrPhone.value),this.browserStorageService.saveStorage("azt_pass_change_password",this.form.controls.password.value)),this.getSecondTimeChangePassword(),this.step=3;const i=this.browserStorageService.getStorage("azt_phone_change_password")??"";this.loopCheck=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(i).subscribe(r=>{1==r.success?(this.successStatusObj(),1==r.data?.status&&(this.step=6,clearInterval(this.loopCheck))):(this.errorStatusObj(r.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(d=>{this.currentMessage=d}),clearInterval(this.loopCheck))})},1e3)}saveRemaining(i){i&&!(0,kr.isNaN)(i)&&this.browserStorageService.saveStorage("duration_otp_forgot_password",i.toString())}executeImportantAction(){return new Promise(i=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{i(r)})})}getSecondTimeChangePassword(){const i=this.browserStorageService.getStorage("azt_phone_change_password");i&&(this.form.controls.emailOrPhone.value||this.form.controls.emailOrPhone.setValue(i),this.loading=!0,this.waitDestroy(this.smsService.apiSmsGetSecondGet(i).subscribe(r=>{if(r.success){const d=r.data?.status;if(0===d&&(this.changePasswordOtp(),this.browserStorageService.removeStorage("azt_response_change_pass")),d&&d>0){const b=this.browserStorageService.getStorage("azt_response_change_pass")??"";this.responseChangePass=this.castJsonToObj(b),this.step=3,this.timer(d),this.loopCheck||this.changeStepByNext()}-1===d&&(this.step=1,this.removeKeyStorage())}else this.errorStatusObj(r.message??"");this.loading=!1})))}timerOtp(i){let r="0",d=i%60;const b=i/60<10?"0":"";this.loopCheckTimeOtp=window.setInterval(()=>{i--,0!=d?d--:d=i%60,r=d<10?"0"+d:d,this.displayTimeOtp=`${b}${Math.floor(i/60)}:${r}`,this.saveRemaining(i),0==i&&(clearInterval(this.loopCheckTimeOtp),this.showErrorSnack("lang_core_expired_otp"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"))},1e3)}timer(i){let r="0",d=i%60;const b=i/60<10?"0":"";this.loopCheckTime=window.setInterval(()=>{i--,0!=d?d--:d=i%60,r=d<10?"0"+d:d,this.displayTime=`${b}${Math.floor(i/60)}:${r}`,this.saveRemaining(i),0==i&&(clearInterval(this.loopCheckTime),this.changePasswordOtp())},1e3)}ngOnInit(){super.ngOnInit(),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),this.getSecondTimeChangePassword();const i=this.browserStorageService.getStorage("token_forgot_password"),r=this.browserStorageService.getStorage("duration_otp_forgot_password")??"0";this.durationOtp=Number(r),i&&this.durationOtp>0&&(this.tokenChangePass=i,this.step=7,this.timerOtp(this.durationOtp))}constructor(i,r,d){super(),this.smsService=i,this.browserStorageService=r,this.recaptchaV3Service=d,this.backLink="",this.step=1,this.currentMessage="",this.phoneSend="",this.isOnApp=!1,this.isCheckIos=!1,this.tokenChangePass="",this.msgError="",this.showPassword=!1,this.otp="",this.durationOtp=0,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:""},this.displayTimeOtp="",this.displayTime="",this.loading=!1,this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),hash:new v.MJ("",{nonNullable:!0}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}ngOnDestroy(){this.loopCheck&&clearInterval(this.loopCheck),this.loopCheckTimeOtp&&clearInterval(this.loopCheckTimeOtp),this.loopCheckTime&&clearInterval(this.loopCheckTime),super.ngOnDestroy()}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.$T),e.rXU(yn.z),e.rXU(Ro.ob))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf"],["class","azt-forget-password",4,"ngIf"],[3,"currentStatusObj"],[1,"azt-forget-password"],[3,"formGroup"],["class","intro-x font-bold text-2xl text-center",4,"ngIf"],[4,"ngIf"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","dark:text-slate-500",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],["name","scan-line","size","18",3,"ngClass"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],["name","chevron-left","size","18",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"dark:text-slate-500"],["name","eye","size","24"],["name","eye-off","size","24"],[1,"mr-1"],[1,"index-x","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3",2,"font-style","italic"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],["name","chevron-left","size","16",3,"ngClass"],[1,"sms-info","text-center","mb-3"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I",1,"btn-text-primary"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],[1,"mt-4"],[1,"font-normal"],[1,"font-medium","text-danger","inline-block","ml-2"],[1,"index-x","box","p-5","mt-8","test"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],["name","mail-check","size","64",3,"ngClass"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],[1,"index-x","mt-5"],["name","circle-check","size","64",3,"ngClass"],[1,"text-md","mt-1","px-5","text-center"],[1,"text-center","mt-5"],[1,"opt","intro-x"],[1,"otp-head"],[1,"font-medium","text-lg"],[1,"text-slate-500","mt-0.5"],[3,"config","onInputChange"],[1,"flex","items-center","mt-4"],[1,"ml-auto"],[1,""],[1,"mt-5"],[1,"btn","btn-primary","w-full",3,"click"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200","flex","items-center","flex","items-center",3,"routerLink","queryParams","click"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout"),e.DNE(1,xa,1,1,"azt-loading-effect",0),e.DNE(2,za,9,8,"div",1),e.k0s()),2&i&&(e.R7$(1),e.Y8G("ngIf",r.loading),e.R7$(1),e.Y8G("ngIf",!r.loading))},dependencies:[_e.Wk,m.YU,m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,I.K,tt.t,T.R,ut.K,oe.WGl,st,O.F2,O.wp]}),u})();function ei(t,u){1&t&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"azt-loading-ui"),e.j41(3,"span",12),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}function Ua(t,u){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Va(t,u){if(1&t&&(e.j41(0,"div",27),e.DNE(1,Ua,3,3,"div",10),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function Ya(t,u){if(1&t&&(e.j41(0,"div",13)(1,"label",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.SpI("*** ",e.bMT(3,1,n.statusObj.errorMessage),"")}}function Wa(t,u){1&t&&e.nrm(0,"azt-loading-ui",29)}const Qa=function(t){return[t]},qa=function(){return{user_click:"true"}};function Xa(t,u){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),e.nrm(4,"input",16),e.nI1(5,"mytranslate"),e.j41(6,"div",17),e.nrm(7,"lucide-icon",18),e.k0s()(),e.DNE(8,Va,2,1,"div",19),e.k0s()(),e.DNE(9,Ya,4,3,"div",20),e.j41(10,"div",21)(11,"div",14)(12,"div",22)(13,"button",23),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.form.invalid||r.statusObj.loading||r.changePassword())}),e.DNE(14,Wa,1,0,"azt-loading-ui",24),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.nrm(17,"hr"),e.j41(18,"div",25)(19,"a",26),e.nI1(20,"navigationLocalize"),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(4),e.FS9("placeholder",e.bMT(5,9,"lang_auto_mat_khau_moi")),e.R7$(4),e.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",n.statusObj.errorMessage),e.R7$(4),e.Y8G("disabled",n.form.invalid||n.statusObj.loading),e.R7$(1),e.Y8G("ngIf",n.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(16,11,"lang_auto_doi_mat_khau")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(17,Qa,e.bMT(20,13,"/auth/login")))("queryParams",e.lJ4(19,qa)),e.R7$(2),e.SpI(" ",e.bMT(22,15,"lang_auto_dang_nhap_tai_khoan")," ")}}let Ha=(()=>{var t;class u extends Z.H{getError(i){return!!this.form.controls[i].errors&&this.form.controls[i].errors}getErrorType(i,r){return!!this.form.controls[i].errors?.[r]&&this.form.controls[i].errors?.[r]}getFormValue(){return this.form.getRawValue()}changePassword(){if(this.form.valid){var i=this.getFormValue(),r=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(r??"",i.password).subscribe(d=>{1==d.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(d.message??"")}))}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(i,r){super(),this.redirectByRoleService=i,this.userInfoService=r,this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0}),hash:new v.MJ("",{nonNullable:!0}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(ue.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password-admin"]],features:[e.Vt3],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["name","lock","size","20","id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9),e.DNE(13,ei,6,3,"div",10),e.DNE(14,Xa,23,20,"div",10),e.k0s()()(),e.nrm(15,"div",3),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(4),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!r.statusObj.loading))},dependencies:[_e.Wk,m.bT,v.qT,v.me,v.BC,v.cb,sn.$z,v.j4,v.JD,tt.t,T.R,oe.WGl,O.F2,O.wp,O.ph],encapsulation:2}),u})();var pn=y(42358),Qe=y(73014);const Ja=(()=>{class t{constructor(n,i,r,d,b){this._legacyCanvasSize=t.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=n,this.$canvas=document.createElement("canvas"),r&&"object"==typeof r?this._onDecode=i:(console.warn(r||d||b?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=i),this._onDecodeError=(i="object"==typeof r?r:{}).onDecodeError||("function"==typeof r?r:this._onDecodeError),this._calculateScanRegion=i.calculateScanRegion||("function"==typeof d?d:this._calculateScanRegion),this._preferredCamera=i.preferredCamera||b||this._preferredCamera,this._legacyCanvasSize="number"==typeof r?r:"number"==typeof d?d:this._legacyCanvasSize,this._maxScansPerSecond=i.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),n.disablePictureInPicture=!0,n.playsInline=!0,n.muted=!0;let w=!1;if(n.hidden&&(n.hidden=!1,w=!0),document.body.contains(n)||(document.body.appendChild(n),w=!0),r=n.parentElement,i.highlightScanRegion||i.highlightCodeOutline){if(d=!!i.overlay,this.$overlay=i.overlay||document.createElement("div"),(b=this.$overlay.style).position="absolute",b.display="none",b.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!d&&i.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}r.insertBefore(this.$overlay,this.$video.nextSibling)}i.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(n),requestAnimationFrame(()=>{let G=window.getComputedStyle(n);"none"===G.display&&(n.style.setProperty("display","block","important"),w=!0),"visible"!==G.visibility&&(n.style.setProperty("visibility","visible","important"),w=!0),w&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),n.style.opacity="0",n.style.width="0",n.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),n.addEventListener("play",this._onPlay),n.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=t.createQrEngine()}static set WORKER_PATH(n){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,Qe.A)(function*(){try{return!!(yield t.listCameras(!1)).length}catch{return!1}})()}static listCameras(n=!1){return(0,Qe.A)(function*(){if(!navigator.mediaDevices)return[];let r,i=function(){var d=(0,Qe.A)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(b=>"videoinput"===b.kind)});return function(){return d.apply(this,arguments)}}();try{n&&(yield i()).every(d=>!d.label)&&(r=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield i()).map((d,b)=>({id:d.deviceId,label:d.label||(0===b?"Default Camera":`Camera ${b+1}`)}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),t._stopVideoStream(r))}})()}hasFlash(){var n=this;return(0,Qe.A)(function*(){let i;try{if(n.$video.srcObject){if(!(n.$video.srcObject instanceof MediaStream))return!1;i=n.$video.srcObject}else i=(yield n._getCameraStream()).stream;return"torch"in i.getVideoTracks()[0].getSettings()}catch{return!1}finally{i&&i!==n.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),t._stopVideoStream(i))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var n=this;return(0,Qe.A)(function*(){n._flashOn?yield n.turnFlashOff():yield n.turnFlashOn()})()}turnFlashOn(){var n=this;return(0,Qe.A)(function*(){if(!n._flashOn&&!n._destroyed&&(n._flashOn=!0,n._active&&!n._paused))try{if(!(yield n.hasFlash()))throw"No flash available";yield n.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(i){throw n._flashOn=!1,i}})()}turnFlashOff(){var n=this;return(0,Qe.A)(function*(){n._flashOn&&(n._flashOn=!1,yield n._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),t._postWorkerMessage(this._qrEnginePromise,"close")}start(){var n=this;return(0,Qe.A)(function*(){if(n._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!n._active||n._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),n._active=!0,!document.hidden))if(n._paused=!1,n.$video.srcObject)yield n.$video.play();else try{let{stream:i,facingMode:r}=yield n._getCameraStream();!n._active||n._paused?t._stopVideoStream(i):(n._setVideoMirror(r),n.$video.srcObject=i,yield n.$video.play(),n._flashOn&&(n._flashOn=!1,n.turnFlashOn().catch(()=>{})))}catch(i){if(!n._paused)throw n._active=!1,i}})()}stop(){this.pause(),this._active=!1}pause(n=!1){var i=this;return(0,Qe.A)(function*(){if(i._paused=!0,!i._active)return!0;i.$video.pause(),i.$overlay&&(i.$overlay.style.display="none");let r=()=>{i.$video.srcObject instanceof MediaStream&&(t._stopVideoStream(i.$video.srcObject),i.$video.srcObject=null)};return n?(r(),!0):(yield new Promise(d=>setTimeout(d,300)),!!i._paused&&(r(),!0))})()}setCamera(n){var i=this;return(0,Qe.A)(function*(){n!==i._preferredCamera&&(i._preferredCamera=n,yield i._restartVideoStream())})()}static scanImage(n,i,r,d,b=!1,w=!1){return(0,Qe.A)(function*(){let G,re=!1;i&&("scanRegion"in i||"qrEngine"in i||"canvas"in i||"disallowCanvasResizing"in i||"alsoTryWithoutScanRegion"in i||"returnDetailedScanResult"in i)?(G=i.scanRegion,r=i.qrEngine,d=i.canvas,b=i.disallowCanvasResizing||!1,w=i.alsoTryWithoutScanRegion||!1,re=!0):console.warn(i||r||d||b||w?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),i=!!r;try{let ae,ke,qe;if([r,ae]=yield Promise.all([r||t.createQrEngine(),t._loadImage(n)]),[d,ke]=t._drawToCanvas(ae,G,d,b),r instanceof Worker){let Re=r;i||t._postWorkerMessageSync(Re,"inversionMode","both"),qe=yield new Promise((Ye,hn)=>{let Vt,ft,Yt,gn=-1;ft=it=>{it.data.id===gn&&(Re.removeEventListener("message",ft),Re.removeEventListener("error",Yt),clearTimeout(Vt),null!==it.data.data?Ye({data:it.data.data,cornerPoints:t._convertPoints(it.data.cornerPoints,G)}):hn(t.NO_QR_CODE_FOUND))},Yt=it=>{Re.removeEventListener("message",ft),Re.removeEventListener("error",Yt),clearTimeout(Vt),hn("Scanner error: "+(it?it.message||it:"Unknown Error"))},Re.addEventListener("message",ft),Re.addEventListener("error",Yt),Vt=setTimeout(()=>Yt("timeout"),1e4);let ze=ke.getImageData(0,0,d.width,d.height);gn=t._postWorkerMessageSync(Re,"decode",ze,[ze.data.buffer])})}else qe=yield Promise.race([new Promise((Re,Ye)=>window.setTimeout(()=>Ye("Scanner error: timeout"),1e4)),(0,Qe.A)(function*(){try{var[Re]=yield r.detect(d);if(!Re)throw t.NO_QR_CODE_FOUND;return{data:Re.rawValue,cornerPoints:t._convertPoints(Re.cornerPoints,G)}}catch(Ye){if(/not implemented|service unavailable/.test(Re=Ye.message||Ye))return t._disableBarcodeDetector=!0,t.scanImage(n,{scanRegion:G,canvas:d,disallowCanvasResizing:b,alsoTryWithoutScanRegion:w});throw`Scanner error: ${Re}`}})()]);return re?qe:qe.data}catch(ae){if(!G||!w)throw ae;let ke=yield t.scanImage(n,{qrEngine:r,canvas:d,disallowCanvasResizing:b});return re?ke:ke.data}finally{i||t._postWorkerMessage(r,"close")}})()}setGrayscaleWeights(n,i,r,d=!0){t._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:n,green:i,blue:r,useIntegerApproximation:d})}setInversionMode(n){t._postWorkerMessage(this._qrEnginePromise,"inversionMode",n)}static createQrEngine(n){return(0,Qe.A)(function*(){if(n&&console.warn("Specifying a worker path is not required and not supported anymore."),n=()=>y.e(2402).then(y.bind(y,32402)).then(r=>r.createWorker()),t._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return n();let i=navigator.userAgentData;return i&&i.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(i.platform)&&(yield i.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:d})=>/arm/i.test(r||"arm")&&13<=parseInt(d||"13")).catch(()=>!0))?n():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(n){let i=Math.round(.6666666666666666*Math.min(n.videoWidth,n.videoHeight));return{x:Math.round((n.videoWidth-i)/2),y:Math.round((n.videoHeight-i)/2),width:i,height:i,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var n=this.$video,i=n.videoWidth,r=n.videoHeight,d=n.offsetWidth,b=n.offsetHeight,w=n.offsetLeft,G=n.offsetTop,re=window.getComputedStyle(n),ae=re.objectFit,ke=i/r,qe=d/b;switch(ae){case"none":var Re=i,Ye=r;break;case"fill":Re=d,Ye=b;break;default:("cover"===ae?ke>qe:ke<qe)?Re=(Ye=b)*ke:Ye=(Re=d)/ke,"scale-down"===ae&&(Re=Math.min(Re,i),Ye=Math.min(Ye,r))}var[hn,Vt]=re.objectPosition.split(" ").map((Yt,gn)=>{const ze=parseFloat(Yt);return Yt.endsWith("%")?(gn?b-Ye:d-Re)*ze/100:ze});qe=this._scanRegion.height||r,ae=this._scanRegion.x||0;var ft=this._scanRegion.y||0;(ke=this.$overlay.style).width=(re=this._scanRegion.width||i)/i*Re+"px",ke.height=qe/r*Ye+"px",ke.top=`${G+Vt+ft/r*Ye}px`,r=/scaleX\(-1\)/.test(n.style.transform),ke.left=`${w+(r?d-hn-Re:hn)+(r?i-ae-re:ae)/i*Re}px`,ke.transform=n.style.transform}})}static _convertPoints(n,i){if(!i)return n;let r=i.x||0,d=i.y||0,b=i.width&&i.downScaledWidth?i.width/i.downScaledWidth:1;i=i.height&&i.downScaledHeight?i.height/i.downScaledHeight:1;for(let w of n)w.x=w.x*b+r,w.y=w.y*i+d;return n}_scanFrame(){var n=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,Qe.A)(function*(){if(!(1>=n.$video.readyState)){var i=Date.now()-n._lastScanTimestamp,r=1e3/n._maxScansPerSecond;i<r&&(yield new Promise(b=>setTimeout(b,r-i))),n._lastScanTimestamp=Date.now();try{var d=yield t.scanImage(n.$video,{scanRegion:n._scanRegion,qrEngine:n._qrEnginePromise,canvas:n.$canvas})}catch(b){if(!n._active)return;n._onDecodeError(b)}!t._disableBarcodeDetector||(yield n._qrEnginePromise)instanceof Worker||(n._qrEnginePromise=t.createQrEngine()),d?(n._onDecode?n._onDecode(d):n._legacyOnDecode&&n._legacyOnDecode(d.data),n.$codeOutlineHighlight&&(clearTimeout(n._codeOutlineHighlightRemovalTimeout),n._codeOutlineHighlightRemovalTimeout=void 0,n.$codeOutlineHighlight.setAttribute("viewBox",`${n._scanRegion.x||0} ${n._scanRegion.y||0} ${n._scanRegion.width||n.$video.videoWidth} ${n._scanRegion.height||n.$video.videoHeight}`),n.$codeOutlineHighlight.firstElementChild.setAttribute("points",d.cornerPoints.map(({x:b,y:w})=>`${b},${w}`).join(" ")),n.$codeOutlineHighlight.style.display="")):n.$codeOutlineHighlight&&!n._codeOutlineHighlightRemovalTimeout&&(n._codeOutlineHighlightRemovalTimeout=setTimeout(()=>n.$codeOutlineHighlight.style.display="none",100))}n._scanFrame()}))}_onDecodeError(n){n!==t.NO_QR_CODE_FOUND&&console.log(n)}_getCameraStream(){var n=this;return(0,Qe.A)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let i=/^(environment|user)$/.test(n._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],d=r.map(b=>Object.assign({},b,{[i]:{exact:n._preferredCamera}}));for(let b of[...d,...r])try{let w=yield navigator.mediaDevices.getUserMedia({video:b,audio:!1});return{stream:w,facingMode:n._getFacingMode(w)||(b.facingMode?n._preferredCamera:"environment"===n._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var n=this;return(0,Qe.A)(function*(){let i=n._paused;(yield n.pause(!0))&&!i&&n._active&&(yield n.start())})()}static _stopVideoStream(n){for(let i of n.getTracks())i.stop(),n.removeTrack(i)}_setVideoMirror(n){this.$video.style.transform="scaleX("+("user"===n?-1:1)+")"}_getFacingMode(n){return(n=n.getVideoTracks()[0])?/rear|back|environment/i.test(n.label)?"environment":/front|user|face/i.test(n.label)?"user":null:null}static _drawToCanvas(n,i,r,d=!1){r=r||document.createElement("canvas");let b=i&&i.x?i.x:0,w=i&&i.y?i.y:0,G=i&&i.width?i.width:n.videoWidth||n.width,re=i&&i.height?i.height:n.videoHeight||n.height;return d||(d=i&&i.downScaledWidth?i.downScaledWidth:G,i=i&&i.downScaledHeight?i.downScaledHeight:re,r.width!==d&&(r.width=d),r.height!==i&&(r.height=i)),(i=r.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,i.drawImage(n,b,w,G,re,0,0,r.width,r.height),[r,i]}static _loadImage(n){return(0,Qe.A)(function*(){if(n instanceof Image)return yield t._awaitImageLoad(n),n;if(n instanceof HTMLVideoElement||n instanceof HTMLCanvasElement||n instanceof SVGImageElement||"OffscreenCanvas"in window&&n instanceof OffscreenCanvas||"ImageBitmap"in window&&n instanceof ImageBitmap)return n;if(!(n instanceof File||n instanceof Blob||n instanceof URL||"string"==typeof n))throw"Unsupported image type.";{let i=new Image;i.src=n instanceof File||n instanceof Blob?URL.createObjectURL(n):n.toString();try{return yield t._awaitImageLoad(i),i}finally{(n instanceof File||n instanceof Blob)&&URL.revokeObjectURL(i.src)}}})()}static _awaitImageLoad(n){return(0,Qe.A)(function*(){n.complete&&0!==n.naturalWidth||(yield new Promise((i,r)=>{let d=b=>{n.removeEventListener("load",d),n.removeEventListener("error",d),b instanceof ErrorEvent?r("Image load error"):i()};n.addEventListener("load",d),n.addEventListener("error",d)}))})()}static _postWorkerMessage(n,i,r,d){return(0,Qe.A)(function*(){return t._postWorkerMessageSync(yield n,i,r,d)})()}static _postWorkerMessageSync(n,i,r,d){if(!(n instanceof Worker))return-1;let b=t._workerMessageId++;return n.postMessage({id:b,type:i,data:r},d),b}}return t.DEFAULT_CANVAS_SIZE=400,t.NO_QR_CODE_FOUND="No QR code found",t._disableBarcodeDetector=!1,t._workerMessageId=0,t})();var Ka=y(71217);class On{static encode(u){return"azt:$"+btoa(u)}static decode(u){return u=u.replace("azt:$",""),atob(u)}static isEncode(u){return 0===u.indexOf("azt:$")}}var jo=y(62095),Za=y(76688);function el(t,u){if(1&t){const n=e.RV6();e.j41(0,"zxing-scanner",8),e.bIt("deviceChange",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.currentDevice=r)})("scanSuccess",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.onCodeResult(r))})("permissionResponse",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.onHasPermission(r))})("camerasFound",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.onCamerasFound(r))})("torchCompatible",function(r){e.eBV(n);const d=e.XpG();return e.Njj(d.onTorchCompatible(r))}),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("torch",n.torchEnabled)("device",n.currentDevice)("tryHarder",n.tryHarder)("formats",n.formatsEnabled)}}function tl(t,u){if(1&t&&(e.j41(0,"span",9),e.EFF(1),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.SpI("( ",n.contentResult," )")}}const nl=function(){return{"mr-1":!0}};let wr=(()=>{var t;class u extends Z.H{constructor(i){super(),this.commonService=i,this.outContentScan=new e.bkB,this.outNotCamAllow=new e.bkB,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new Ka.t(!1),this.tryHarder=!1,this.formatsEnabled=[pn.BarcodeFormat.CODE_128,pn.BarcodeFormat.DATA_MATRIX,pn.BarcodeFormat.EAN_13,pn.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(i){this.availableDevices=i,this.hasDevices=!(!i||!i.length)}onCodeResult(i){this.qrResultString=i,On.isEncode(i)?this.switchChangeContent(On.decode(i)):this.switchChangeContent(null)}onDeviceSelectChange(i){const r=this.availableDevices.find(d=>d.deviceId===i);this.currentDevice=r||void 0}onHasPermission(i){this.hasPermission=i}onTorchCompatible(i){this.torchAvailable$.next(i||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(i){let b=i.target.files;if(b?.length){var w=b[0];if(!w)return;this.scanProcessSelectFile(i,w,0)}else this.switchChangeContent(null)}scanProcessSelectFile(i,r,d){Ja.scanImage(r,{returnDetailedScanResult:!0}).then(b=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(b)),i.target.value="";var w=b.data;this.thatLog("onFileSelected: 1 "+w),On.isEncode(w)?this.switchChangeContent(On.decode(w)):this.switchChangeContent(null)}).catch(b=>{d>=2?(i.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(b)),this.switchChangeContent(null)):this.scanProcessSelectFile(i,r,d++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(i){this.contentResult=i,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+i),this.outContentScan.emit(this.contentResult)}thatLog(i){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+i)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(jo.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[e.Vt3],decls:10,vars:7,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],["name","upload","size","24",3,"ngClass"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(i,r){if(1&i){const d=e.RV6();e.j41(0,"div",0),e.DNE(1,el,1,4,"zxing-scanner",1),e.k0s(),e.j41(2,"div",2),e.DNE(3,tl,2,1,"span",3),e.j41(4,"input",4,5),e.bIt("change",function(w){return r.onFileSelected(w)}),e.k0s(),e.j41(6,"a",6),e.bIt("click",function(){e.eBV(d);const w=e.sdS(5);return e.Njj(w.click())}),e.nrm(7,"lucide-icon",7),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()}2&i&&(e.R7$(1),e.Y8G("ngIf",r.isShowScanner),e.R7$(2),e.Y8G("ngIf",r.isShowLog),e.R7$(4),e.Y8G("ngClass",e.lJ4(6,nl)),e.R7$(1),e.SpI(" ",e.bMT(9,4,"lang_auto_tai_len_ma_co_san")," "))},dependencies:[m.YU,m.bT,Za.M,oe.WGl,O.wp],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),u})();const Mo=["aztScanQrcode"];function Do(t,u){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function il(t,u){if(1&t&&(e.j41(0,"div",38),e.DNE(1,Do,3,3,"div",39),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function No(t,u){1&t&&e.nrm(0,"azt-loading-ui",40)}function ol(t,u){1&t&&(e.j41(0,"div",41)(1,"span",42),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI("***",e.bMT(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai"),""))}function xr(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.reloadProcessForgot())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_thu_lai")," "))}const Ar=function(){return{"dark:text-slate-500":!0}};function Lo(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",22)(1,"div",23),e.nrm(2,"input",24),e.nI1(3,"mytranslate"),e.j41(4,"button",25)(5,"span",26),e.nrm(6,"lucide-icon",27),e.k0s()()(),e.j41(7,"div",23),e.nrm(8,"input",28),e.nI1(9,"mytranslate"),e.j41(10,"button",29),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.togglePassword())}),e.nrm(11,"lucide-icon",30),e.k0s(),e.DNE(12,il,2,1,"div",31),e.k0s(),e.j41(13,"div",32)(14,"div",33)(15,"button",34),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.changePassword())}),e.DNE(16,No,1,0,"azt-loading-ui",35),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()(),e.DNE(19,ol,4,3,"div",36),e.DNE(20,xr,4,3,"div",37),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(3,12,"lang_auto_ma_xac_thuc")),e.BMQ("disabled",!0),e.R7$(6),e.FS9("type",n.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(9,14,"lang_auto_mat_khau_moi")),e.R7$(3),e.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",e.lJ4(18,Ar)),e.R7$(1),e.Y8G("ngIf",n.form.controls.password.invalid&&n.form.controls.password.dirty),e.R7$(3),e.Y8G("disabled",n.statusObj.errorMessage||n.form.invalid||n.statusObj.loading),e.R7$(1),e.Y8G("ngIf",n.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(18,16,"lang_auto_tiep_tuc")," "),e.R7$(2),e.Y8G("ngIf",n.statusObj.errorMessage),e.R7$(1),e.Y8G("ngIf",n.statusObj.errorMessage)}}const rl=function(t){return{hiddenIpt:t}},Al=function(t){return[t]},Go=function(){return{user_click:"true"}};let Or=(()=>{var t;class u extends Z.H{getError(i){return!!this.form.controls[i].errors&&this.form.controls[i].errors}getErrorType(i,r){return!!this.form.controls[i].errors?.[r]&&this.form.controls[i].errors?.[r]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(i){null!==i?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:i}).subscribe(d=>{1==d.success&&1==d?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(i),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var i=this.getFormValue();this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:i.hash,password:i.password}).subscribe(d=>{0!=d.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}getFormValue(){return this.form.getRawValue()}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",super.ngOnInit()}constructor(i,r){super(),this.localStorageObject=i,this.qrCodeForgotPasswordService=r,this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink="",this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0}),hash:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(xn.G),e.rXU(ue.Cu))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],viewQuery:function(i,r){if(1&i&&e.GBs(Mo,5),2&i){let d;e.mGM(d=e.lsd())&&(r.elementZztScanQrcode=d.first)}},features:[e.Vt3],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["name","qr-code","size","20"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5 text-center xl:text-left",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"div",8)(9,"div",8)(10,"div",8),e.k0s()(),e.nrm(11,"br")(12,"br"),e.j41(13,"div",9)(14,"div",10)(15,"span",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",12)(19,"div",13)(20,"div",14),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"azt-scan-qrcode",15,16),e.bIt("outContentScan",function(b){return r.outContentScan(b)}),e.k0s()(),e.DNE(25,Lo,21,19,"div",17),e.k0s(),e.nrm(26,"hr"),e.j41(27,"div",18)(28,"div",19)(29,"a",20),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div")(33,"a",21),e.nI1(34,"navigationLocalize"),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()()()()(),e.nrm(37,"div",3),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(7),e.Y8G("ngClass",r.stepByStep+2==1?"active":r.stepByStep+2>1?"active pro":""),e.R7$(1),e.Y8G("ngClass",r.stepByStep+2==2?"active":r.stepByStep+2>2?"active pro":""),e.R7$(1),e.Y8G("ngClass",r.stepByStep+2==3?"active":r.stepByStep+2>3?"active pro":""),e.R7$(6),e.JRh(e.bMT(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),e.R7$(3),e.Y8G("ngClass",e.eq3(22,rl,r.sussScanNextConf)),e.R7$(2),e.SpI(" ",e.bMT(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),e.R7$(4),e.Y8G("ngIf",r.sussScanNextConf),e.R7$(5),e.JRh(e.bMT(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),e.R7$(3),e.Y8G("routerLink",e.eq3(24,Al,e.bMT(34,18,r.backLink?r.backLink:"/auth/login")))("queryParams",e.lJ4(26,Go)),e.R7$(2),e.SpI(" ",e.bMT(36,20,r.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan")," "))},dependencies:[_e.Wk,m.YU,m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,wr,tt.t,T.R,oe.WGl,O.F2,O.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),u})();var ti=y(15437);const Fr=function(){return{"mr-2":!0}};function Pr(t,u){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"lucide-icon",4),e.EFF(2),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngClass",e.lJ4(2,Fr)),e.R7$(1),e.SpI(" ",n.stringDuration," ")}}let jr=(()=>{var t;class u extends Z.H{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new e.bkB,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink="",this.contentNew=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.qrCode&&(this.loopDuration=setInterval(()=>{var i=Math.floor(Date.now()/1e3),d=this.expired-(i-this.startDuration);if(d<0)this.clearLoopDuration(),this.qrCode.clear(),this.expiredAction.emit();else{var b=Math.floor(d/60),w=d-60*b;this.stringDuration=(b<10?"0"+b:""+b)+" : "+(w<10?"0"+w:""+w)}},1e3))}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=On.encode(this.content)}onChangeURL(i){this.qrCodeDownloadLink=i}downloadQrCode(i){this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,i=i||"azota-qr")}}return(t=u).\u0275fac=function(){let n;return function(r){return(n||(n=e.xGo(t)))(r||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[e.Vt3],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"qrdata","width","errorCorrectionLevel","qrCodeURL"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["name","timer","size","20",3,"ngClass"]],template:function(i,r){1&i&&(e.j41(0,"div",0),e.DNE(1,Pr,3,3,"div",1),e.j41(2,"qrcode",2),e.bIt("qrCodeURL",function(b){return r.onChangeURL(b)}),e.k0s()()),2&i&&(e.R7$(1),e.Y8G("ngIf",r.isDuration),e.R7$(1),e.Y8G("qrdata",r.contentNew)("width",r.width)("errorCorrectionLevel","M"))},dependencies:[m.YU,m.bT,oe.WGl,ti.c],encapsulation:2}),u})();const sl=["elementCreateQr"];function al(t,u){if(1&t&&(e.j41(0,"div",11),e.nrm(1,"azt-create-qr-image",12,13),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("content",n.contentQrcodeHash)("width",300)("height",300)("expired",0)}}const ll=function(){return{"mx-auto":!0}};function cl(t,u){if(1&t&&(e.j41(0,"div",14),e.nrm(1,"lucide-icon",15),e.j41(2,"div",16),e.EFF(3),e.k0s()()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngClass",e.lJ4(2,ll)),e.R7$(2),e.SpI(" ",n.noticeContentString," ")}}const Fn=function(){return{"mr-2":!0}};function ul(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.downloadQrCode())}),e.nrm(2,"lucide-icon",19),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,Fn)),e.R7$(1),e.SpI(" ",e.bMT(4,2,"lang_auto_tai_xuong_ma")," "))}function Ol(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",17)(1,"button",20),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.openDialog())}),e.nrm(2,"lucide-icon",21),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,Fn)),e.R7$(1),e.SpI(" ",e.bMT(4,2,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const a=function(t){return[t]};function o(t,u){1&t&&(e.j41(0,"a",22),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",23),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()),2&t&&(e.Y8G("routerLink",e.eq3(7,a,e.bMT(1,3,"/admin/dashboard"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Fn)),e.R7$(1),e.SpI(" ",e.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}function s(t,u){1&t&&(e.j41(0,"a",24),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",23),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()),2&t&&(e.Y8G("routerLink",e.eq3(7,a,e.bMT(1,3,"/student/classroom/0"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Fn)),e.R7$(1),e.SpI(" ",e.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}const l=function(){return{"mr-2 text-pending":!0}};let _=(()=>{var t;class u extends Z.H{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(i=>{1==i.success?0!=i?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(r=>{this.noticeContentString=r}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(r=>{this.noticeContentString=r}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(i=>{1==i.success?this.contentQrcodeHash=i.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.sAztDialogService.open(h,{restoreFocus:!1}).afterClosed().subscribe(r=>{!0===r&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-forgot")}ngOnInit(){var i=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(i,10),this.checkQrThisMe(),super.ngOnInit()}constructor(i,r,d){super(),this.sAztDialogService=i,this.activeRoute=r,this.qrCodeForgotPasswordService=d,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(C.i),e.rXU(_e.nX),e.rXU(ue.Cu))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-gzip-tool"]],viewQuery:function(i,r){if(1&i&&e.GBs(sl,5),2&i){let d;e.mGM(d=e.lsd())&&(r.elementCreateQr=d.first)}},features:[e.Vt3],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["name","eye","size","24",3,"ngClass"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["name","upload","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["name","image-plus","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout")(1,"div",0)(2,"h3",1),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",2)(6,"div",3),e.DNE(7,al,3,4,"div",4),e.DNE(8,cl,4,3,"div",5),e.k0s(),e.j41(9,"div",6),e.DNE(10,ul,5,5,"div",7),e.DNE(11,Ol,5,5,"div",7),e.k0s()(),e.j41(12,"div",8),e.DNE(13,o,5,10,"a",9),e.DNE(14,s,5,10,"a",10),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,7,"lang_auto_qrcode_quen_mat_khau")," "),e.R7$(4),e.Y8G("ngIf",r.contentQrcodeHash),e.R7$(1),e.Y8G("ngIf",!r.contentQrcodeHash&&r.noticeContentString),e.R7$(2),e.Y8G("ngIf",r.contentQrcodeHash),e.R7$(1),e.Y8G("ngIf",!r.contentQrcodeHash),e.R7$(2),e.Y8G("ngIf",0==r.role),e.R7$(1),e.Y8G("ngIf",1==r.role))},dependencies:[_e.Wk,m.YU,m.bT,jr,ut.K,oe.WGl,O.F2,O.wp]}),u})(),h=(()=>{var t;class u extends me._{}return(t=u).\u0275fac=function(){let n;return function(r){return(n||(n=e.xGo(t)))(r||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["dialog-conf-content-qrcode-dialog"]],features:[e.Vt3],decls:29,vars:30,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["name","qr-code","size","32",3,"ngClass"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.nrm(4,"lucide-icon",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5)(8,"p",6),e.EFF(9),e.nI1(10,"mytranslate"),e.nI1(11,"mytranslate"),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"p",7),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"p",7),e.EFF(17),e.nI1(18,"mytranslate"),e.nrm(19,"br"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()(),e.j41(22,"div",8)(23,"button",9),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"button",10),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()),2&i&&(e.R7$(4),e.Y8G("ngClass",e.lJ4(29,l)),e.R7$(1),e.SpI(" ",e.bMT(6,11,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),e.R7$(4),e.E5c(" ",e.bMT(10,13,"lang_auto_bam"),' "',e.bMT(11,15,"lang_auto_xac_nhan"),'" ',e.bMT(12,17,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),e.R7$(5),e.SpI(" ",e.bMT(15,19,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),e.R7$(3),e.SpI(" ",e.bMT(18,21,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),e.R7$(3),e.SpI(" ",e.bMT(21,23,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),e.R7$(4),e.SpI(" ",e.bMT(25,25,"lang_auto_huy")," "),e.R7$(2),e.Y8G("mat-dialog-close",!0),e.R7$(1),e.SpI(" ",e.bMT(28,27,"lang_auto_xac_nhan")," "))},dependencies:[m.YU,we.tx,oe.WGl,O.wp],encapsulation:2}),u})(),k=(()=>{var t;class u extends Z.H{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return(t=u).\u0275fac=function(){let n;return function(r){return(n||(n=e.xGo(t)))(r||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],features:[e.Vt3],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"div",8)(9,"div",8)(10,"div",8),e.k0s()(),e.nrm(11,"br")(12,"br"),e.j41(13,"div",9)(14,"div",10)(15,"span",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",12)(19,"p"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"div",13)(23,"a",14),e.bIt("click",function(){return r.redirectToHome()}),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"a",15),e.bIt("click",function(){return r.redirectToCreateQrCode()}),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()()(),e.nrm(29,"div",3),e.k0s()()()),2&i&&(e.R7$(8),e.Y8G("ngClass",r.step_by_step+2==1?"active":r.step_by_step+2>1?"active pro":""),e.R7$(1),e.Y8G("ngClass",r.step_by_step+2==2?"active":r.step_by_step+2>2?"active pro":""),e.R7$(1),e.Y8G("ngClass",r.step_by_step+2==3?"active":r.step_by_step+2>3?"active pro":""),e.R7$(6),e.JRh(e.bMT(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),e.R7$(4),e.JRh(e.bMT(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),e.R7$(4),e.JRh(e.bMT(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),e.R7$(3),e.JRh(e.bMT(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[m.YU,O.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),u})(),x=(()=>{var t;class u extends Z.H{ngOnInit(){super.ngOnInit();var i=/iPad|iPhone|iPod/.test(window.navigator.userAgent),r=this.commonService.getMyParam(this.activeRoute,"code")?.toString(),d=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString();"teacher"==d?i?window.location.replace("azota://"+r):window.location.replace("https://aztappteacher.page.link/"+r):window.location.replace("https://azt.page.link/"+r)}constructor(i){super(),this.activeRoute=i}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(_e.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-go-to-mobile"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"centerBoth"],[1,"text-center"],["type","logo-azota","id","jobing-j-drawit","id","Layer_1",3,"size"],[1,"p-0","mt-2"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-svg-icon",2),e.j41(3,"h3",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&i&&(e.R7$(2),e.Y8G("size",48),e.R7$(2),e.SpI("",e.bMT(5,2,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[en.m,O.wp],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]}),u})();var D=y(97730),nt=(y(94200),y(56094),y(12248),y(1703)),ni=(y(52114),y(18447)),Pn=y(63016),ii=y(51698),$o=y(14159),Mr=y(17509),Dt=y(22867),jn=y(47947),zo=y(88249),Bo=y(91126);function Uo(t,u){return(0,Bo.T)(u)?(0,Dt.n)(()=>t,u):(0,Dt.n)(()=>t)}var dl=y(41483);const _l=new e.nKC("angularfire2.auth.use-emulator"),Bl=new e.nKC("angularfire2.auth.settings"),Ul=new e.nKC("angularfire2.auth.tenant-id"),Vl=new e.nKC("angularfire2.auth.langugage-code"),Yl=new e.nKC("angularfire2.auth.use-device-language"),Wl=new e.nKC("angularfire.auth.persistence");let Dr=(()=>{var t;class u{constructor(i,r,d,b,w,G,re,ae,ke,qe,Re,Ye){(0,c.A)(this,"authState",void 0),(0,c.A)(this,"idToken",void 0),(0,c.A)(this,"user",void 0),(0,c.A)(this,"idTokenResult",void 0),(0,c.A)(this,"credential",void 0);const hn=new ni.B,Vt=(0,Pn.of)(void 0).pipe((0,$.Q)(w.outsideAngular),(0,Dt.n)(()=>b.runOutsideAngular(()=>Promise.resolve().then(y.bind(y,52114)))),(0,jn.T)(()=>St(i,b,r)),(0,jn.T)(ft=>((t,u,n,i,r,d,b,w)=>function he(t,u,n,i,r){const[,d,b]=globalThis.\u0275AngularfireInstanceCache.find(w=>w[0]===t)||[];if(d)return function z(t,u){try{return t.toString()===u.toString()}catch{return t===u}}(r,b)||($e("error",`${u} was already initialized on the ${n} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:r,was:b})),d;{const w=i();return globalThis.\u0275AngularfireInstanceCache.push([t,w,r]),w}}(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const G=u.runOutsideAngular(()=>t.auth());if(n&&G.useEmulator(...n),i&&(G.tenantId=i),G.languageCode=r,d&&G.useDeviceLanguage(),b)for(const[re,ae]of Object.entries(b))G.settings[re]=ae;return w&&G.setPersistence(w),G},[n,i,r,d,b,w]))(ft,b,G,ae,ke,qe,re,Re)),(0,zo.t)({bufferSize:1,refCount:!1}));if((0,m.Vy)(d))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pn.of)(null);else{Vt.pipe((0,nt.$)()).subscribe();const ft=Vt.pipe((0,Dt.n)(ze=>ze.getRedirectResult().then(it=>it,()=>null)),kt,(0,zo.t)({bufferSize:1,refCount:!1})),Yt=Vt.pipe((0,Dt.n)(ze=>new ii.c(it=>({unsubscribe:b.runOutsideAngular(()=>ze.onAuthStateChanged(Dn=>it.next(Dn),Dn=>it.error(Dn),()=>it.complete()))})))),gn=Vt.pipe((0,Dt.n)(ze=>new ii.c(it=>({unsubscribe:b.runOutsideAngular(()=>ze.onIdTokenChanged(Dn=>it.next(Dn),Dn=>it.error(Dn),()=>it.complete()))}))));this.authState=ft.pipe(Uo(Yt),(0,V._)(w.outsideAngular),(0,$.Q)(w.insideAngular)),this.user=ft.pipe(Uo(gn),(0,V._)(w.outsideAngular),(0,$.Q)(w.insideAngular)),this.idToken=this.user.pipe((0,Dt.n)(ze=>ze?(0,$o.H)(ze.getIdToken()):(0,Pn.of)(null))),this.idTokenResult=this.user.pipe((0,Dt.n)(ze=>ze?(0,$o.H)(ze.getIdTokenResult()):(0,Pn.of)(null))),this.credential=(0,Mr.h)(ft,hn,this.authState.pipe((0,dl.p)(ze=>!ze))).pipe((0,jn.T)(ze=>ze?.user?ze:null),(0,V._)(w.outsideAngular),(0,$.Q)(w.insideAngular))}return((t,u,n,i={})=>new Proxy(t,{get:(r,d)=>n.runOutsideAngular(()=>{if(t[d])return i?.spy?.get&&i.spy.get(d,t[d]),t[d];if(Ee.indexOf(d)>-1)return()=>{};const b=u.toPromise().then(w=>{const G=w?.[d];return"function"==typeof G?G.bind(w):G?.then?G.then(re=>n.run(()=>re)):n.run(()=>G)});return new Proxy(()=>{},{get:(w,G)=>b[G],apply:(w,G,re)=>b.then(ae=>{const ke=ae?.(...re);return i?.spy?.apply&&i.spy.apply(d,re,ke),ke})})})}))(this,Vt,b,{spy:{apply:(ft,Yt,gn)=>{(ft.startsWith("signIn")||ft.startsWith("createUser"))&&gn.then(ze=>hn.next(ze))}}})}}return t=u,(0,c.A)(u,"\u0275fac",function(i){return new(i||t)(e.KVO(_t),e.KVO(Be,8),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(N),e.KVO(_l,8),e.KVO(Bl,8),e.KVO(Ul,8),e.KVO(Vl,8),e.KVO(Yl,8),e.KVO(Wl,8),e.KVO(X,8))}),(0,c.A)(u,"\u0275prov",e.jDH({token:t,factory:t.\u0275fac,providedIn:"any"})),u})(),ql=(()=>{var t;class u extends Z.H{constructor(i,r,d){super(),this.fireAuth=i,this.authService=r,this.redirectByRoleService=d,this.fireAuth.authState.pipe((0,nt.$)()).subscribe(b=>{b?this.signInWithTokenGoogle(b):this.googleSignIn()})}signInWithTokenGoogle(i){const r=this.commonService.getMyQueryParam("type");i.getIdToken().then(d=>{let b={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:d??"",language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(b).subscribe(w=>{if(1==w.success){let re=this.commonService.getMyQueryParam("return_url")??"";if(""===re){let ae=this.commonService.getMyQueryParam("backto")??"";var G=ae.includes("return_url=")?ae.split("return_url=")[1]:"";re=decodeURIComponent(G)}1==w.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${encodeURIComponent(re)}`):"0"==r?this.redirectByRoleService.redirectLoginForStudent(re):this.redirectByRoleService.redirectLoginByRole(re)}else{this.errorStatusObj(w.message??"",!0);const re=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(re)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new D.W).then(()=>this.fireAuth.getRedirectResult().then(i=>{})).catch(i=>{const r=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(r)})}ngOnDestroy(){super.ngOnDestroy()}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Dr),e.rXU(ue.uR),e.rXU(It.b))},t.\u0275cmp=e.VBU({type:t,selectors:[["login-by-openapi"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-loading-ui",2),e.k0s(),e.j41(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("type","azota-logo"),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[T.R,O.wp],encapsulation:2}),u})(),Xl=(()=>{var t;class u extends Z.H{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(i){var r=this.userService.getUserObjFromJwtToken(i);null!=r?(this.userService.saveUserObj(r),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var i=this.commonService.getMyQueryParam("zaccess_token")??"",r=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=et.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_login=1");let d=this.commonService.getMyQueryParam("hasError");!r&&i?this.loginWithAccessToken(i):r&&!this.isBusinessDomain?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`):d?(this.commonService.snackError("lang_auth_login_by_zalo_error"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`)):this.loginZalo()}constructor(i,r,d){super(),this.redirectByRoleService=i,this.redirectService=r,this.userService=d,this.returnUrl="",this.zaloLoginUrl=""}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(ct.m),e.rXU(He.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-login-by-zalo"]],features:[e.Vt3],decls:3,vars:1,consts:[[1,"azt-login-form"],[3,"currentStatusObj"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout")(1,"div",0),e.nrm(2,"azt-loading-effect",1),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("currentStatusObj",r.statusObj))},dependencies:[I.K,ut.K],encapsulation:2}),u})();const Hl=["elementCreateQr"],Jl=["aztScanQrcode"];function Kl(t,u){1&t&&(e.j41(0,"div",24),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function Zl(t,u){1&t&&(e.j41(0,"div",24),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function ec(t,u){if(1&t&&(e.j41(0,"div",25),e.nrm(1,"azt-loading-ui",26),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(2),e.Lme(" ",e.bMT(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",n.nameSessionConfirm," ")}}function tc(t,u){1&t&&(e.j41(0,"div",25),e.nrm(1,"azt-loading-ui",26),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dang_cho_quet_ma_qrcode")," "))}function nc(t,u){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"br"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",n.nameSessionConfirm," ")}}function ic(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"azt-loading-ui",26),e.j41(2,"span",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function oc(t,u){if(1&t&&(e.j41(0,"div",35),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.JRh(n.textResultErr)}}function rc(t,u){if(1&t&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.JRh(n.textResultSuss)}}function sc(t,u){1&t&&e.nrm(0,"azt-loading-ui",26)}function ac(t,u){1&t&&e.nrm(0,"azt-loading-ui",26)}function lc(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",37)(1,"button",38),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.confContentPendingLogin(1))}),e.DNE(2,sc,1,0,"azt-loading-ui",39),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",40),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.confContentPendingLogin(2))}),e.DNE(6,ac,1,0,"azt-loading-ui",39),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("disabled",n.isLoadingBtn||n.textResultErr),e.R7$(1),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(1),e.SpI(" ",e.bMT(4,6,"lang_auto_chap_nhan")," "),e.R7$(2),e.Y8G("disabled",n.isLoadingBtn||n.textResultErr),e.R7$(1),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(1),e.SpI(" ",e.bMT(8,8,"lang_auto_tu_choi")," ")}}function cc(t,u){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"button",41),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.backScanActionWithIsLogin())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_quay_lai")))}function uc(t,u){if(1&t&&(e.j41(0,"div",27)(1,"div",28)(2,"div",29),e.DNE(3,nc,6,7,"span",30),e.k0s(),e.DNE(4,ic,5,3,"div",30),e.DNE(5,oc,2,1,"div",31),e.DNE(6,rc,2,1,"div",32),e.DNE(7,lc,9,10,"div",33),e.DNE(8,cc,4,3,"div",30),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.Y8G("ngIf",n.nameSessionConfirm),e.R7$(1),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(1),e.Y8G("ngIf",n.textResultErr),e.R7$(1),e.Y8G("ngIf",n.textResultSuss),e.R7$(1),e.Y8G("ngIf",!n.textResultSuss||!n.isConfirmBtn),e.R7$(1),e.Y8G("ngIf",n.isLogin&&!1===n.isLoadingBtn&&!0===n.isConfirmBtn)}}function dc(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",45),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.createRequestLoginHashCodeAction())}),e.j41(1,"div",46),e.nrm(2,"lucide-icon",47),e.j41(3,"div"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()}2&t&&(e.R7$(4),e.JRh(e.bMT(5,1,"lang_auto_tao_moi_ma")))}function _c(t,u){if(1&t){const n=e.RV6();e.j41(0,"azt-create-qr-image",48,49),e.bIt("expiredAction",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.expiredQrcodeAction())}),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("content",n.contentCreateQrcode)("width",300)("height",300)("expired",n.durationQrcodeExpire)}}function mc(t,u){if(1&t&&(e.j41(0,"div",42),e.DNE(1,dc,6,3,"div",43),e.DNE(2,_c,2,4,"azt-create-qr-image",44),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",!1===n.isLogin&&!n.contentCreateQrcode),e.R7$(1),e.Y8G("ngIf",n.contentCreateQrcode)}}const ml=function(){return{"mr-2":!0}};function pc(t,u){if(1&t){const n=e.RV6();e.j41(0,"a",50),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.downloadQrCode())}),e.nrm(1,"lucide-icon",51),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,ml)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto_tai_xuong_ma")," "))}function hc(t,u){1&t&&(e.j41(0,"div",52)(1,"span",53),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_hoac")," "))}function gc(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",11)(1,"a",54),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.switchModeView())}),e.nrm(2,"lucide-icon",55),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()}2&t&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,ml)),e.R7$(2),e.JRh(e.bMT(5,2,"lang_auto_quet_ma_qr_co_san")))}function fc(t,u){if(1&t&&(e.j41(0,"div",35),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.JRh(n.textResultErr)}}function vc(t,u){if(1&t&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.JRh(n.textResultSuss)}}function bc(t,u){1&t&&e.nrm(0,"azt-loading-ui",26)}function yc(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",37)(1,"button",56),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.confContentLogin())}),e.DNE(2,bc,1,0,"azt-loading-ui",39),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",57),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.reopenScanCamInit())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("disabled",n.isLoadingBtn||n.textResultErr),e.R7$(1),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(1),e.SpI(" ",e.bMT(4,5,"lang_auto_dang_nhap")," "),e.R7$(2),e.Y8G("disabled",n.isLoadingBtn),e.R7$(1),e.JRh(e.bMT(7,7,"lang_auto_thu_lai"))}}function Ic(t,u){if(1&t&&(e.j41(0,"div",27)(1,"div",28)(2,"div",29),e.EFF(3),e.nI1(4,"mytranslate"),e.nrm(5,"br"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,fc,2,1,"div",31),e.DNE(9,vc,2,1,"div",32),e.DNE(10,yc,8,9,"div",33),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.R7$(3),e.SpI(" ",e.bMT(7,7,"lang_auto_voi_ma_qr_da_phat_hien")," "),e.R7$(2),e.Y8G("ngIf",n.textResultErr),e.R7$(1),e.Y8G("ngIf",n.textResultSuss),e.R7$(1),e.Y8G("ngIf",!n.textResultSuss)}}function Cc(t,u){1&t&&(e.j41(0,"div"),e.nrm(1,"azt-loading-ui",26),e.j41(2,"span",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function kc(t,u){if(1&t&&e.nrm(0,"div",61),2&t){const n=e.XpG(2);e.Y8G("innerHTML",n.textResultErr,e.npT)}}function Sc(t,u){1&t&&e.nrm(0,"azt-loading-ui",26)}function Tc(t,u){if(1&t&&(e.j41(0,"button",62),e.DNE(1,Sc,1,0,"azt-loading-ui",39),e.EFF(2),e.k0s()),2&t){const n=e.XpG(2);e.Y8G("disabled",!n.textResultSuss),e.R7$(1),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(1),e.SpI(" ",n.textResultSuss," ")}}function Rc(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"div",29)(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.nrm(6,"br"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,Cc,5,3,"div",30),e.DNE(10,kc,1,1,"div",58),e.j41(11,"div",37),e.DNE(12,Tc,3,3,"button",59),e.j41(13,"button",60),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.reopenScanCamInit())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,8,"lang_auto_dang_nhap_tai_khoan")," "),e.R7$(3),e.Lme(" ",e.bMT(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",n.nameSessionConfirm," "),e.R7$(2),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(1),e.Y8G("ngIf",n.textResultErr),e.R7$(2),e.Y8G("ngIf",!n.textResultSuss&&n.isLoadingBtn),e.R7$(1),e.Y8G("disabled",n.isLoadingBtn),e.R7$(1),e.JRh(e.bMT(15,12,"lang_auto_thu_lai"))}}const pl=function(t){return{hiddenIpt:t}},Ec=function(t){return[t]};let wc=(()=>{var t;class u extends Z.H{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.waitDestroy(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(i=>{1==i.success?(this.successStatusObj(),this.contentCreateQrcode=i?.data?.qrCode??"",this.durationQrcodeExpire=i?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(i){null!==i?(this.scanQrContent=i,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(d=>{this.isLoadingBtn=!1,1==d.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=d?.data?.qrCode??"",this.nameSessionConfirm=d?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(b=>{this.textResultErr=b}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(d=>{this.textResultErr=d}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(r=>{1==r.success&&(1==r.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):r.data&&2===r.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(d=>{this.textResultErr=d}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(i=>{1==i.success&&i.data&&""!==i.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=i?.data?.qrCode??"",this.nameSessionConfirm=i?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(i){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:i}).subscribe(d=>{1==d.success?this.textResultSuss=1==i?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(b=>{this.textResultErr=b}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(i=>{1==i.success&&(this.contentCreateQrcode=i?.data?.qrCode??"",this.nameSessionConfirm=i?.data?.name??"",this.durationQrcodeExpire=i?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(r=>{1===r.success&&404!=r?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(r=>{this.isLoadingBtn=!1,r.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(d=>{this.textResultSuss=d}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(d=>{this.textResultErr=d})})}ngOnInit(){var i=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(i,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/classroom/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(i,r,d,b,w,G){super(),this.redirectByRoleService=i,this.userService=r,this.localStorageObject=d,this.activeRoute=b,this.qrCodeLoginService=w,this.redirectService=G,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(He.R),e.rXU(xn.G),e.rXU(_e.nX),e.rXU(ue.f0),e.rXU(ct.m))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-login"]],viewQuery:function(i,r){if(1&i&&(e.GBs(Hl,5),e.GBs(Jl,5)),2&i){let d;e.mGM(d=e.lsd())&&(r.elementCreateQr=d.first),e.mGM(d=e.lsd())&&(r.elementZztScanQrcode=d.first)}},features:[e.Vt3],decls:38,vars:39,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center flex items-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-center"],[1,"mb-3","text-center"],[1,"mr-1"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["class","mr-1",4,"ngIf"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"disabled","click"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],["name","refresh-ccw","size","20"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center","flex","items-center",3,"click"],["name","download","size","20",3,"ngClass"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],["name","focus","size","20",3,"ngClass"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"disabled","click"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"disabled","click"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout")(1,"div",0)(2,"h3",1),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",2),e.DNE(6,Kl,3,3,"div",3),e.DNE(7,Zl,3,3,"div",3),e.DNE(8,ec,4,4,"div",4),e.DNE(9,tc,4,3,"div",4),e.k0s(),e.j41(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),e.DNE(14,uc,9,6,"div",9),e.DNE(15,mc,3,2,"div",10),e.j41(16,"div",11),e.DNE(17,pc,4,5,"a",12),e.k0s(),e.DNE(18,hc,4,3,"div",13),e.DNE(19,gc,6,5,"div",14),e.k0s(),e.j41(20,"div",15)(21,"div",16),e.EFF(22),e.nI1(23,"mytranslate"),e.j41(24,"a",17),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",18)(28,"azt-scan-qrcode",19,20),e.bIt("outContentScan",function(b){return r.outContentScan(b)}),e.k0s()(),e.DNE(30,Ic,11,9,"div",9),e.DNE(31,Rc,16,14,"div",9),e.k0s()()()(),e.j41(32,"div",21)(33,"a",22),e.nI1(34,"navigationLocalize"),e.nrm(35,"lucide-icon",23),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,20,"lang_auto_dang_nhap_voi_ma_qr_code")," "),e.R7$(3),e.Y8G("ngIf",!r.isLogin),e.R7$(1),e.Y8G("ngIf",r.isLogin),e.R7$(1),e.Y8G("ngIf",!r.isLogin&&r.contentCreateQrcode),e.R7$(1),e.Y8G("ngIf",r.isLogin&&r.contentCreateQrcode&&!r.scanQrContentConfirm),e.R7$(4),e.Y8G("ngClass",e.eq3(30,pl,"create"!==r.modeShowInit)),e.R7$(1),e.Y8G("ngIf",r.scanQrContentConfirm&&r.isLogin),e.R7$(1),e.Y8G("ngIf",!r.scanQrContentConfirm),e.R7$(2),e.Y8G("ngIf",r.contentCreateQrcode&&!r.scanQrContentConfirm),e.R7$(1),e.Y8G("ngIf",!r.scanQrContentConfirm),e.R7$(1),e.Y8G("ngIf",!r.scanQrContentConfirm),e.R7$(1),e.Y8G("ngClass",e.eq3(32,pl,"scan"!==r.modeShowInit)),e.R7$(2),e.SpI(" ",e.bMT(23,22,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),e.R7$(3),e.JRh(e.bMT(26,24,"lang_auto_huong_dan")),e.R7$(2),e.Y8G("ngClass",e.eq3(34,pl,!1!==r.sussScanNextConf)),e.R7$(3),e.Y8G("ngIf",!0===r.sussScanNextConf&&r.isLogin),e.R7$(1),e.Y8G("ngIf",!0===r.sussScanNextConf&&!r.isLogin),e.R7$(2),e.Y8G("routerLink",e.eq3(36,Ec,e.bMT(34,26,r.backToLink))),e.R7$(2),e.Y8G("ngClass",e.lJ4(38,ml)),e.R7$(1),e.SpI(" ",e.bMT(37,28,"lang_auto_quay_lai")," "))},dependencies:[_e.Wk,m.YU,m.bT,jr,wr,T.R,ut.K,oe.WGl,O.F2,O.wp],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),u})();var Fl=y(46247),hl=y(40949),Pl=y(79767);let jl=(()=>{var t;class u{constructor(){}isCommonInAppBrowser(){const i=navigator.userAgent?.toLowerCase(),r=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let d=0;d<r.length;d++)if(-1!==i.indexOf(r[d]))return!0;return!1}getMobileOperatingSystem(){let i=navigator.userAgent||navigator.vendor||Pl.A.opera,r="Android";return/android/i.test(i)&&(r="Android"),/iPad|iPhone|iPod/.test(i)&&!Pl.A.MSStream&&(r="iOS"),r}getCommonInAppBrowser(){const i=navigator.userAgent;let r="";return i.indexOf("FBAN")>-1||i.indexOf("FBAV")>-1?r="Facebook":i.indexOf("Zalo")>-1?r="Zalo":i.indexOf("Twitter")>-1?r="Twitter":i.indexOf("Instagram")>-1?r="Instagram":i.indexOf("Line")>-1?r="Line":i.indexOf("MicroMessenger")>-1?r="WeChat":i.indexOf("QQ")>-1?r="QQ":i.indexOf("KAKAOTALK")>-1&&(r="KakaoTalk"),r}}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),u})();function xc(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.loadingDomainConfigStatus)}}function Ac(t,u){if(1&t&&(e.qex(0),e.j41(1,"auth-layout",6)(2,"div",7)(3,"div",8)(4,"div",9),e.nrm(5,"div",10),e.k0s(),e.j41(6,"div",11)(7,"div",12),e.eu8(8,13),e.k0s()()()()(),e.bVm()),2&t){const n=e.XpG(2),i=e.sdS(4);e.R7$(1),e.Y8G("maxWidth","")("removeBoxClass",!0)("contentBoxClass","mx-auto w-full"),e.R7$(4),e.Y8G("innerHtml",n.businessWelcomeText,e.npT),e.R7$(3),e.Y8G("ngTemplateOutlet",i)}}function Oc(t,u){if(1&t&&(e.j41(0,"div",15),e.eu8(1,13),e.k0s()),2&t){e.XpG(3);const n=e.sdS(4);e.R7$(1),e.Y8G("ngTemplateOutlet",n)}}function Fc(t,u){if(1&t&&(e.j41(0,"div",15),e.nrm(1,"azt-loading-effect",3),e.k0s()),2&t){const n=e.XpG(3);e.R7$(1),e.Y8G("currentStatusObj",n.statusObj)}}function Pc(t,u){if(1&t&&(e.j41(0,"auth-layout"),e.DNE(1,Oc,2,1,"div",14),e.DNE(2,Fc,2,1,"div",14),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!n.loginByToken),e.R7$(1),e.Y8G("ngIf",n.loginByToken)}}function jc(t,u){if(1&t&&(e.DNE(0,Ac,9,5,"ng-container",4),e.DNE(1,Pc,3,2,"ng-template",null,5,e.C5r)),2&t){const n=e.sdS(2),i=e.XpG();e.Y8G("ngIf",i.businessWelcomeText&&!i.loginByToken)("ngIfElse",n)}}function Mc(t,u){1&t&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email_hoac_username")))}function Dc(t,u){1&t&&(e.j41(0,"div",34)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Nc(t,u){if(1&t&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,1,n.messageError)," ")}}function Lc(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",36)(1,"a",37),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.forgotPassword())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_quen_mat_khau")))}function Gc(t,u){1&t&&e.nrm(0,"azt-loading-ui",38)}function $c(t,u){1&t&&(e.j41(0,"span"),e.EFF(1,"\xa0|\xa0"),e.k0s())}const Ml=function(t){return[t]},zc=function(){return{backTo:"/auth/login"}};function Bc(t,u){1&t&&(e.j41(0,"a",50),e.nI1(1,"navigationLocalize"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.Y8G("routerLink",e.eq3(7,Ml,e.bMT(1,3,"/auth/register-for-organization")))("queryParams",e.lJ4(9,zc)),e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_register_for_business_register_for_business")," "))}const Uc=function(t){return{return_url:t,user_click:"true"}},Vc=function(){return{"mr-2":!0}};function Yc(t,u){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",39)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"a",40),e.nI1(6,"navigationLocalize"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,$c,2,0,"span",32),e.DNE(10,Bc,4,10,"a",41),e.k0s(),e.j41(11,"div",42)(12,"span",43),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",44)(16,"button",45),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.googleSignIn())})("keydown.enter",function(r){return r.preventDefault()}),e.nrm(17,"azt-svg-icon",46),e.j41(18,"span",47),e.EFF(19,"Google"),e.k0s()(),e.j41(20,"button",48),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.loginByQrCode())})("keydown.enter",function(r){return r.preventDefault()}),e.nrm(21,"lucide-icon",49),e.j41(22,"span",47),e.EFF(23,"Qrcode"),e.k0s()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,9,"lang_auto_ban_chua_co_tai_khoan")),e.R7$(2),e.Y8G("routerLink",e.eq3(17,Ml,e.bMT(6,11,"/auth/register")))("queryParams",e.eq3(19,Uc,n.returnUrl)),e.R7$(2),e.SpI(" ",e.bMT(8,13,"lang_auto_tao_mot_tai_khoan_moi")," "),e.R7$(2),e.Y8G("ngIf",!(null!=n.userObj&&null!=n.userObj.roles&&n.userObj.roles.includes("STUDENT"))),e.R7$(1),e.Y8G("ngIf",!(null!=n.userObj&&null!=n.userObj.roles&&n.userObj.roles.includes("STUDENT"))),e.R7$(3),e.SpI(" ",e.bMT(14,15,"lang_auto_hoac")," "),e.R7$(4),e.Y8G("size",16),e.R7$(4),e.Y8G("ngClass",e.lJ4(21,Vc))}}const Wc=function(){return{"dark:text-slate-500":!0}};function Qc(t,u){if(1&t){const n=e.RV6();e.j41(0,"form",16)(1,"h2",17),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",18)(5,"div",19)(6,"input",20),e.bIt("keydown.enter",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.login())}),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,Mc,4,3,"div",21),e.k0s(),e.j41(9,"div",19)(10,"div",22)(11,"input",23),e.bIt("keydown.enter",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.login())}),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"button",24),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.togglePassword())}),e.nrm(14,"lucide-icon",25),e.k0s()(),e.DNE(15,Dc,4,3,"div",26),e.k0s()(),e.DNE(16,Nc,3,3,"div",27),e.DNE(17,Lc,4,3,"div",28),e.j41(18,"div",29)(19,"button",30),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.login())}),e.DNE(20,Gc,1,0,"azt-loading-ui",31),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.DNE(23,Yc,24,22,"ng-container",32),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(2),e.SpI(" ",e.bMT(3,15,"lang_auto_dang_nhap")," "),e.R7$(4),e.FS9("placeholder",e.bMT(7,17,"lang_auto_nhap_sdt_hoac_email_hoac_username")),e.R7$(2),e.Y8G("ngIf",n.form.controls.username.invalid&&(n.form.controls.username.dirty||n.form.controls.username.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(12,19,"lang_auto_mat_khau")),e.Y8G("type",n.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",e.lJ4(23,Wc)),e.R7$(1),e.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",""!=n.messageError),e.R7$(1),e.Y8G("ngIf",!n.isBusinessDomain),e.R7$(2),e.Y8G("disabled",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",n.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(22,21,"lang_auto_dang_nhap")," "),e.R7$(2),e.Y8G("ngIf",!n.isBusinessDomain)}}let qc=(()=>{var t;class u extends Z.H{executeImportantAction(){return new Promise(i=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{i(r)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}callLoginApi(i){var r=this.getFormValue(),d={phone:r.username,password:r.password,tokenCaptcha:i,domain:this.commonService.getBusinessDomainUrl()};this.waitDestroy(this.authService.apiAuthLoginWebPost(d).subscribe(b=>{1==b.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=b.message??"",this.errorStatusObj(b.message??""))}))}login(){this.form.valid?(this.initStatusObj(),this.executeImportantAction().then(i=>{this.callLoginApi(i)}).catch(i=>{this.callLoginApi("")})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callLoginAnonymousApi(i){this.waitDestroy(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:i}).subscribe(d=>{1==d.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(d.message??"")}))}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(i=>{this.callLoginAnonymousApi(i)}).catch(i=>{this.callLoginAnonymousApi("")})}loginWithAccessToken(i){var r=this.userService.getUserObjFromJwtToken(i);if(null!=r){if(et.c.isProdAzotaVn&&(r.domainName=r.domainName?.replace("tqb.azota.vn","tqb-live.azota.io")),r.domainName&&r.domainName!=this.commonService.getCurrentHostName())return this.sAztRedirectService.redirectLoginWithToken(r.domainName,r.rememberToken??"",this.commonService.getMyQueryParam("return_url")??"");this.userService.saveUserObj(r),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")}else this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1}googleSignIn(){if(this.browserUserAgentService.isCommonInAppBrowser()){let i=this.browserUserAgentService.getCommonInAppBrowser(),r=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),d="facebook"===i.toLowerCase()?"fb":"zalo",b=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${d}_1.png`),w=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${d}_2.png`);this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(G=>{let re=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),ae=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(Fl.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${G+" "+i}. ${re}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${ae} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${b}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${ae} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${w}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})})}else{const i=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(i)}&click_login=1`)}}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}getFormValue(){return this.form.getRawValue()}loadDomainConfig(){this.isBusinessDomain&&(this.loadingDomainConfigStatus.loading=!0,this.waitDestroy(this.infoService.apiInfoGetDomainConfigsGet(this.commonService.getCurrentHostName()).subscribe(i=>{this.loadingDomainConfigStatus.loading=!1,i.success&&(this.businessWelcomeText=i.data?.welcomeTextAtLogin)})))}checkRedirect(i){return i&&!this.isBusinessDomain?(this.commonService.myNavigation("/auth/register"),!0):this.userService.isLoginAndNotAnonymous()?(this.redirectByRoleService.redirectLoginByRole(this.returnUrl),!0):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous(),!0)}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var i=this.commonService.getMyQueryParam("not_register"),r=this.commonService.getMyQueryParam("user_click");if("1"==this.commonService.getMyQueryParam("isFirstTime")&&this.browserStorageService.saveStorage("isFirstTime","1"),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),!i&&this.mobileAccessTkn)return this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn),void(this.userObj=this.userService.getUserObj());if(this.initStatusObj(),!this.checkRedirect(i)){if(!r&&this.userService.isAnonymousRoleOfCurrentUser())return void this.myNavigation("/student/classroom/0");this.loadDomainConfig(),this.loginByToken=!1,this.userObj=this.userService.getUserObj(),this.stopStatusObj()}}constructor(i,r,d,b,w,G,re,ae,ke,qe,Re){super(),this.sAztRedirectService=i,this.userService=r,this.browserStorageService=d,this.localStorageObject=b,this.authService=w,this.redirectByRoleService=G,this.recaptchaV3Service=re,this.cdnService=ae,this.browserUserAgentService=ke,this.sAztDialogService=qe,this.infoService=Re,this.mobileAccessTkn="",this.returnUrl="",this.msgError="",this.messageError="",this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1,this.loginByToken=!0,this.businessWelcomeText=void 0,this.loadingDomainConfigStatus={loading:!1,errorMessage:"",mustShowErrorBox:!1},this.form=new v.gE({username:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace]}),fullName:new v.MJ("",{nonNullable:!0}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ct.m),e.rXU(He.R),e.rXU(yn.z),e.rXU(xn.G),e.rXU(ue.uR),e.rXU(It.b),e.rXU(Ro.ob),e.rXU(hl.B),e.rXU(jl),e.rXU(C.i),e.rXU(ue.OE))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-login"]],features:[e.Vt3],decls:5,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoadDomainConfig",""],["loginForm",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["normalTemplate",""],[3,"maxWidth","removeBoxClass","contentBoxClass"],[1,"mx-auto",2,"max-width","1200px"],[1,"grid","grid-cols-12","bg-white"],[1,"col-span-12","md:col-span-6","p-3"],[1,"w-full",3,"innerHtml"],[1,"col-span-12","md:col-span-6","p-3",2,"background","#f8f7f7"],[1,"flex","items-center","h-full"],[3,"ngTemplateOutlet"],["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[1,"w-full",3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],["class","intro-x flex text-slate-600 dark:text-slate-500 text-xs sm:text-sm mt-4",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],[4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],[1,"mr-1"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","login-fMer8LWOR","class","pt-3 text-primary clickable",3,"routerLink","queryParams",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["name","qr-code","size","16",3,"ngClass"],["azt-track-service","login-fMer8LWOR",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"]],template:function(i,r){if(1&i&&(e.DNE(0,xc,1,1,"azt-loading-effect",0),e.DNE(1,jc,3,2,"ng-template",null,1,e.C5r),e.DNE(3,Qc,24,24,"ng-template",null,2,e.C5r)),2&i){const d=e.sdS(2);e.Y8G("ngIf",r.loadingDomainConfigStatus.loading)("ngIfElse",d)}},dependencies:[_e.Wk,m.YU,m.bT,m.T3,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,I.K,tt.t,T.R,en.m,ut.K,oe.WGl,O.F2,O.wp],encapsulation:2}),u})(),Xc=(()=>{var t;class u extends Z.H{ngOnInit(){super.ngOnInit(),this.fireAuth.signOut(),this.sAztUserLogoutService.logout();var i=this.commonService.getMyQueryParam("return_url")||null;if(i)return this.redirectService.redirectSimpleLoginWithReturnUrl(i);this.redirectService.redirectSimpleLogin()}constructor(i,r){super(),this.fireAuth=i,this.redirectService=r,this.sAztParentUserService=(0,e.WQX)(Kt.V),this.sAztUserLogoutService=(0,e.WQX)(at.d)}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Dr),e.rXU(ct.m))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],features:[e.Vt3],decls:0,vars:0,template:function(i,r){},encapsulation:2}),u})(),Hc=(()=>{var t;class u extends Z.H{ngOnInit(){super.ngOnInit()}constructor(i){super(),this.commonService=i}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(jo.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["auth-master-page"]],features:[e.Vt3],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(i,r){1&i&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[_e.n3],encapsulation:2}),u})(),Jc=(()=>{var t;class u extends Z.H{constructor(i,r,d,b){super(),this.activeRoute=i,this.fireAuth=r,this.authService=d,this.redirectByRoleService=b,this.checkLoadingLogin=!1,this.fireAuth.authState.pipe((0,nt.$)()).subscribe(w=>{w?this.signInWithTokenGoogle(w):this.googleSignIn()})}signInWithTokenGoogle(i){this.checkLoadingLogin=!0;let r=this.commonService.getMyParam(this.activeRoute,"type"),d=parseInt(r??"0",10);i.getIdToken().then(b=>{let w={isRegisterForm:1,isRegisterForTeacher:d,firebaseToken:b,language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(w).subscribe(G=>{if(1==G.success){let ae=this.commonService.getMyQueryParam("return_url")??"";if(""===ae){let ke=this.commonService.getMyQueryParam("backto")??"";var re=ke.includes("return_url=")?ke.split("return_url=")[1]:"";ae=decodeURIComponent(re)}0==Number(r)?this.redirectByRoleService.redirectLoginForStudent(ae):this.redirectByRoleService.redirectLoginByRole(ae),this.successStatusObj(),this.checkLoadingLogin=!1}else{this.errorStatusObj(G.message??"",!0);const ae=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(ae)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new D.W).then(()=>this.fireAuth.getRedirectResult().then(i=>{})).catch(i=>{const r=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(r)})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(_e.nX),e.rXU(Dr),e.rXU(ue.uR),e.rXU(It.b))},t.\u0275cmp=e.VBU({type:t,selectors:[["register-by-openapi"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-loading-ui",2),e.k0s(),e.j41(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("type","azota-logo"),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[T.R,O.wp],encapsulation:2}),u})();function Kc(t,u){1&t&&(e.j41(0,"div",4),e.nrm(1,"azt-loading-ui",5),e.k0s()),2&t&&(e.R7$(1),e.Y8G("size",40))}const Zc=function(){return{"text-white bg-success rounded-full p-1":!0}};function eu(t,u){1&t&&(e.j41(0,"div",22),e.nrm(1,"lucide-icon",23),e.k0s()),2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,Zc)))}const tu=function(){return{"text-white bg-danger rounded-full p-1":!0}};function nu(t,u){1&t&&(e.j41(0,"div",24),e.nrm(1,"lucide-icon",25),e.k0s()),2&t&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,tu)))}const iu=function(t){return[t]},ou=function(){return{"mr-2":!0}};function ru(t,u){1&t&&(e.j41(0,"a",26),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",27),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&t&&(e.Y8G("routerLink",e.eq3(7,iu,e.bMT(1,3,"/auth/login"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,ou)),e.R7$(2),e.JRh(e.bMT(5,5,"lang_powerpoint_frontend_chart_back")))}const su=function(){return{"ml-2":!0}};function au(t,u){if(1&t&&(e.j41(0,"a",28)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"lucide-icon",29),e.k0s()),2&t){const n=e.XpG(2);e.Y8G("href","https://"+n.businessRegister.domain+"/"+n.language+"/auth/login",e.B4B),e.R7$(2),e.JRh(e.bMT(3,3,"lang_azt_login_now")),e.R7$(2),e.Y8G("ngClass",e.lJ4(5,su))}}const lu=function(){return{"mr-2 text-success":!0}};function cu(t,u){if(1&t&&(e.j41(0,"div",6),e.DNE(1,eu,2,2,"div",7),e.DNE(2,nu,2,2,"div",8),e.j41(3,"div",9)(4,"span"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",10)(8,"div",11),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"div",12)(12,"div",13),e.nrm(13,"lucide-icon",14),e.j41(14,"span"),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",15),e.EFF(18,":"),e.k0s(),e.j41(19,"div",16),e.EFF(20," 0972 112 969 "),e.k0s()(),e.j41(21,"div",17)(22,"div",13),e.nrm(23,"azt-svg-icon",18),e.j41(24,"span"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",15),e.EFF(28,":"),e.k0s(),e.j41(29,"div",16),e.EFF(30," 0972 112 969 "),e.k0s()()()(),e.j41(31,"div",19),e.DNE(32,ru,6,10,"a",20),e.DNE(33,au,5,6,"a",21),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.businessRegister),e.R7$(1),e.Y8G("ngIf",!n.businessRegister),e.R7$(3),e.JRh(e.bMT(6,10,n.businessRegister?"lang_auto_xac_nhan_thanh_cong":"lang_azt_confirmation_failed")),e.R7$(4),e.SpI(" ",e.bMT(10,12,n.businessRegister?"lang_azt_confirmation_success_desc":"lang_azt_confirmation_failed_desc")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(18,lu)),e.R7$(2),e.SpI(" ",e.bMT(16,14,"lang_auto_dien_thoai"),""),e.R7$(8),e.Y8G("size",16),e.R7$(2),e.SpI(" ",e.bMT(26,16,"Zalo"),""),e.R7$(7),e.Y8G("ngIf",!n.businessRegister),e.R7$(1),e.Y8G("ngIf",n.businessRegister)}}let uu=(()=>{var t;class u extends Z.H{getRegistersConfirm(i){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersConfirmPost({secret:i}).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.businessRegister=r.data,this.successStatusObj()}))}constructor(i){super(),this.businessPackageService=i,this.secret="",this.language=this.commonService.getCurrentLang()}ngOnInit(){super.ngOnInit(),this.secret=this.getMyQueryParam("secret")??"",this.getRegistersConfirm(this.secret)}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ao.WC))},t.\u0275cmp=e.VBU({type:t,selectors:[["register-confirm"]],features:[e.Vt3],decls:5,vars:4,consts:[[3,"maxWidth","contentBoxClass"],[1,"box","text-center",2,"min-height","300px"],["class","h-full flex items-center justify-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"h-full","flex","items-center","justify-center"],[3,"size"],[1,"p-4"],["class","rounded-full shadow-md inline-block p-3 bg-success/20",4,"ngIf"],["class","rounded-full shadow-md inline-block p-3 bg-danger/20",4,"ngIf"],[1,"mt-3","text-lg","font-bold"],[1,"mt-3","mx-auto",2,"max-width","400px"],[1,"text-slate-500"],[1,"mt-2","flex","items-center","font-medium","justify-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","16",3,"ngClass"],[1,"mx-1"],[1,"ml-0"],[1,"mt-3","flex","items-center","font-medium","justify-center"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-3","border-t","border-slate-200","dark:border-darkmode-400","p-3"],["class","btn btn-primary w-full",3,"routerLink",4,"ngIf"],["class","btn btn-primary w-full",3,"href",4,"ngIf"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-success/20"],["name","check","size","20",3,"ngClass"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-danger/20"],["name","x",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"href"],["name","chevron-right","size","16",3,"ngClass"]],template:function(i,r){if(1&i&&(e.j41(0,"auth-layout",0)(1,"div",1),e.DNE(2,Kc,2,1,"div",2),e.DNE(3,cu,34,19,"ng-template",null,3,e.C5r),e.k0s()()),2&i){const d=e.sdS(4);e.Y8G("maxWidth","500px")("contentBoxClass","mt-10"),e.R7$(2),e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[_e.Wk,m.YU,m.bT,T.R,en.m,ut.K,oe.WGl,O.F2,O.wp],encapsulation:2}),u})();class Dl{static isInvalidPhone(u){let i=u.value?.trim()??"";return i&&(isNaN(Number(i))||10!=i.length)?{isInvalidPhone:!0}:null}}const Nl=function(t){return[t]};function du(t,u){if(1&t&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"mytranslate"),e.j41(3,"a",10),e.nI1(4,"navigationLocalize"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("innerHTML",e.bMT(2,3,"lang_register_for_business_success"),e.npT),e.R7$(2),e.Y8G("routerLink",e.eq3(9,Nl,e.bMT(4,5,n.backTo))),e.R7$(2),e.JRh(e.bMT(6,7,"lang_register_for_business_back_to"))}}function _u(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",14),2&t){const n=e.XpG(2);e.Y8G("currentStatusObj",n.statusObj)}}function mu(t,u){1&t&&(e.j41(0,"div",40)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_full_name")))}function pu(t,u){1&t&&(e.j41(0,"div",40)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function hu(t,u){1&t&&(e.j41(0,"div",40)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function gu(t,u){1&t&&(e.j41(0,"div",40)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function fu(t,u){if(1&t&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function vu(t,u){1&t&&(e.j41(0,"div",42),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function bu(t,u){if(1&t&&(e.j41(0,"mat-option",41),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function yu(t,u){1&t&&(e.j41(0,"div",42),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function Iu(t,u){if(1&t&&(e.qex(0),e.j41(1,"mat-form-field",28)(2,"mat-select",43,44),e.nI1(4,"mytranslate"),e.j41(5,"mat-option"),e.nrm(6,"ngx-mat-select-search",31),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,bu,2,2,"mat-option",32),e.k0s()(),e.DNE(10,yu,3,3,"div",33),e.bVm()),2&t){const n=e.sdS(3),i=e.XpG(3);e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"lang_register_for_business_select_district")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(7,8,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(8,10,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(i.districtObjs,"name")),e.R7$(1),e.Y8G("ngIf",i.form.controls.districtId.invalid&&(i.form.controls.districtId.dirty||i.form.controls.districtId.touched))}}function Cu(t,u){1&t&&(e.j41(0,"span",45),e.nrm(1,"azt-loading-ui"),e.k0s())}function ku(t,u){1&t&&e.nrm(0,"azt-loading-ui",46)}const Su=function(t){return{waiting:t}};function Tu(t,u){if(1&t){const n=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),e.nrm(5,"input",20),e.nI1(6,"mytranslate"),e.DNE(7,mu,4,3,"div",21),e.k0s(),e.j41(8,"div",19),e.nrm(9,"input",22),e.nI1(10,"mytranslate"),e.DNE(11,pu,4,3,"div",21),e.k0s(),e.j41(12,"div",19),e.nrm(13,"input",23),e.nI1(14,"mytranslate"),e.DNE(15,hu,4,3,"div",21),e.k0s(),e.j41(16,"div",19),e.nrm(17,"input",24),e.nI1(18,"mytranslate"),e.DNE(19,gu,4,3,"div",21),e.k0s(),e.j41(20,"div",19),e.nrm(21,"textarea",25),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",26)(24,"div",27)(25,"div",19)(26,"mat-form-field",28)(27,"mat-select",29,30),e.bIt("selectionChange",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.selectProvinceObj(r.form.controls.provinceId.value))}),e.nI1(29,"mytranslate"),e.j41(30,"mat-option"),e.nrm(31,"ngx-mat-select-search",31),e.nI1(32,"mytranslate"),e.nI1(33,"mytranslate"),e.k0s(),e.DNE(34,fu,2,2,"mat-option",32),e.k0s()(),e.DNE(35,vu,3,3,"div",33),e.k0s()(),e.j41(36,"div",27)(37,"div",19),e.DNE(38,Iu,11,12,"ng-container",7),e.DNE(39,Cu,2,0,"ng-template",null,34,e.C5r),e.k0s()()()()()(),e.j41(41,"div",35)(42,"div",36)(43,"a",37),e.nI1(44,"navigationLocalize"),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"button",38),e.bIt("click",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.registerForBusiness())}),e.DNE(48,ku,1,0,"azt-loading-ui",39),e.EFF(49),e.nI1(50,"mytranslate"),e.k0s()()()}if(2&t){const n=e.sdS(28),i=e.sdS(40),r=e.XpG(2);e.Y8G("formGroup",r.form),e.R7$(5),e.FS9("placeholder",e.bMT(6,24,"lang_register_for_business_full_name")),e.R7$(2),e.Y8G("ngIf",r.form.controls.fullName.errors&&(r.form.controls.fullName.dirty||r.form.controls.fullName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(10,26,"lang_register_for_business_phone")),e.R7$(2),e.Y8G("ngIf",r.form.controls.phone.errors&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(14,28,"lang_register_for_business_email")),e.R7$(2),e.Y8G("ngIf",r.form.controls.email.errors&&(r.form.controls.email.dirty||r.form.controls.email.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(18,30,"lang_register_for_business_business_name")),e.R7$(2),e.Y8G("ngIf",r.form.controls.businessName.errors&&(r.form.controls.businessName.dirty||r.form.controls.businessName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(22,32,"lang_register_for_business_note")),e.R7$(6),e.FS9("placeholder",e.bMT(29,34,"lang_register_for_business_select_province")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(32,36,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(33,38,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(r.provinceObjs,"name")),e.R7$(1),e.Y8G("ngIf",r.form.controls.provinceId.invalid&&(r.form.controls.provinceId.dirty||r.form.controls.provinceId.touched)),e.R7$(3),e.Y8G("ngIf",!r.isLoadingDistrictData)("ngIfElse",i),e.R7$(5),e.Y8G("routerLink",e.eq3(46,Nl,e.bMT(44,40,r.backTo))),e.R7$(2),e.JRh(e.bMT(46,42,"lang_register_for_business_back_to")),e.R7$(2),e.Y8G("ngClass",e.eq3(48,Su,r.statusObj.loading))("disabled",r.form.invalid),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(50,44,"lang_register_for_business_register")," ")}}function Ru(t,u){if(1&t&&(e.j41(0,"div",11),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.DNE(6,_u,1,1,"azt-loading-effect",12),e.DNE(7,Tu,51,50,"ng-template",null,13,e.C5r)),2&t){const n=e.sdS(8),i=e.XpG();e.R7$(1),e.JRh(e.bMT(2,4,"lang_register_for_business_contact_info")),e.R7$(3),e.JRh(e.bMT(5,6,"lang_register_for_business_detail_contact_info")),e.R7$(2),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",n)}}let Eu=(()=>{var t;class u extends Z.H{selectProvinceObj(i){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(i).subscribe(r=>{r.success?(this.districtObjs=r.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(r.message,!0),this.isLoadingDistrictData=!1}))}initData(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListProvincesGet().subscribe(i=>{i.success?(this.provinceObjs=i.data?.objs??[],this.districtObjs=[],this.stopStatusObj()):this.errorStatusObj(i.message,!0)}))}registerForBusiness(){var i={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,note:this.form.controls.note.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value};this.registerSuccessfully=!1,this.initStatusObj(),this.waitDestroy(this.registerForBusinessService.apiRegisterForBusinessRegisterPost(i).subscribe(r=>{1==r.success?(this.successStatusObj(),this.registerSuccessfully=!0):this.errorStatusObj(r.message??"")}))}ngOnInit(){super.ngOnInit(),this.initData();let i=this.commonService.getMyQueryParam("backTo")??"";this.backTo=i||"/auth/register"}constructor(i,r){super(),this.commonListService=i,this.registerForBusinessService=r,this.backTo="",this.isLoadingDistrictData=!1,this.registerSuccessfully=!1,this.provinceObjs=[],this.districtObjs=[],this.form=new v.gE({fullName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace]}),phone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,Dl.isInvalidPhone]}),email:new v.MJ("",{nonNullable:!0,validators:[zt.U.isInvalidEmail]}),businessName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),provinceId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),districtId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),note:new v.MJ("",{nonNullable:!0})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Ft.Nz),e.rXU(ue.eM))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register-for-business"]],features:[e.Vt3],decls:14,vars:10,consts:[[3,"maxWidth","contentBoxClass"],[1,"grid","grid-cols-12"],[1,"col-span-12","sm:col-span-12","lg:col-span-6"],[1,"left_box","text-white","p-5","text-slate-600","box"],[1,"text-lg","pb-5"],[3,"innerHTML"],[1,"p-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["registerForm",""],[1,"pb-5","text-lg","text-success",3,"innerHTML"],[1,"pt-3","text-primary","clickable","dark:text-slate-200",3,"routerLink"],[1,"text-lg","mb-2"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","email",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","businessName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","note",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",2,"min-height","150px",3,"placeholder"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["appearance","fill",1,"box","mt-4",2,"width","100%"],["searchInList","","formControlName","provinceId",3,"placeholder","selectionChange"],["searchInListProvince","searchInList"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["isLoadingDistrict",""],[1,"flex","mt-4"],[1,"mr-auto","flex","items-center","text-primary","clickable","dark:text-slate-200"],[3,"routerLink"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-info","align-top",3,"ngClass","disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[3,"value"],[1,"alert","alert-danger"],["searchInList","","formControlName","districtId",3,"placeholder"],["searchInListDistrict","searchInList"],[1,"w-8","h-8","inline-block","mt-4"],[1,"mr-1"]],template:function(i,r){if(1&i&&(e.j41(0,"auth-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.nrm(7,"div",5),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",2)(10,"div",6),e.DNE(11,du,7,11,"div",7),e.DNE(12,Ru,9,8,"ng-template",null,8,e.C5r),e.k0s()()()()),2&i){const d=e.sdS(13);e.Y8G("maxWidth","1000px")("contentBoxClass",""),e.R7$(5),e.JRh(e.bMT(6,6,"lang_register_for_business_free_to_register")),e.R7$(2),e.Y8G("innerHTML",e.bMT(8,8,"lang_register_for_business_all_feature"),e.npT),e.R7$(4),e.Y8G("ngIf",r.registerSuccessfully)("ngIfElse",d)}},dependencies:[_e.Wk,m.YU,m.Sq,m.bT,v.qT,v.me,v.BC,v.cb,P.wT,U.rl,A.VO,v.l_,v.j4,v.JD,I.K,tt.t,T.R,L.x,ut.K,Tt.U9,O.F2,O.wp],styles:[".left_box[_ngcontent-%COMP%]{background-color:#3c8dbc;border-radius:.375rem 0 0 .375rem;height:100%}@media (max-width: 576px){.left_box[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0;height:auto}}"]}),u})();var wu=y(17178);let xu=(()=>{class u{static invalidFormat(i){let d=i.value?.trim();return d?u.isValidSubdomain(d)?null:{invalidFormat:!0}:null}}return u.isValidSubdomain=n=>/^[a-zA-Z0-9-]+$/.test(n),u})();var Au=y(48188),Ou=y(9002);function Fu(t,u){1&t&&(e.j41(0,"div",65)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Pu(t,u){1&t&&(e.j41(0,"div",65)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function ju(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_email")))}function Mu(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function Du(t,u){if(1&t&&(e.j41(0,"div",65),e.DNE(1,ju,3,3,"span",66),e.DNE(2,Mu,3,3,"span",66),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.required),e.R7$(1),e.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.isInvalidEmail)}}function Nu(t,u){1&t&&(e.j41(0,"div",65)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function Lu(t,u){if(1&t&&(e.j41(0,"mat-option",67),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function Gu(t,u){1&t&&(e.j41(0,"div",65),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function $u(t,u){if(1&t&&(e.j41(0,"mat-option",67),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",n.name," ")}}function zu(t,u){1&t&&(e.j41(0,"div",65),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function Bu(t,u){if(1&t&&(e.qex(0)(1),e.j41(2,"mat-form-field",41)(3,"mat-select",68,69),e.nI1(5,"mytranslate"),e.j41(6,"mat-option"),e.nrm(7,"ngx-mat-select-search",36),e.nI1(8,"mytranslate"),e.nI1(9,"mytranslate"),e.k0s(),e.DNE(10,$u,2,2,"mat-option",37),e.k0s()(),e.DNE(11,zu,3,3,"div",28),e.bVm()()),2&t){const n=e.sdS(4),i=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(5,6,"lang_register_for_business_select_district")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(8,8,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(9,10,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(i.districtObjs,"name")),e.R7$(1),e.Y8G("ngIf",i.districtObjs.length>0&&i.form.controls.districtId.invalid&&(i.form.controls.districtId.dirty||i.form.controls.districtId.touched))}}function Uu(t,u){1&t&&(e.j41(0,"span",70),e.nrm(1,"azt-loading-ui"),e.k0s())}function Vu(t,u){1&t&&(e.j41(0,"div",65)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function Yu(t,u){if(1&t&&(e.j41(0,"mat-option",67),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",e.bMT(2,2,n.name)," ")}}function Wu(t,u){1&t&&(e.j41(0,"div",65),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auth_please_select")+" "+e.bMT(3,3,"lang_auth_school_organization_type"),". "))}function Qu(t,u){if(1&t&&(e.j41(0,"mat-option",67),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(1),e.SpI(" ",e.bMT(2,2,n.name)," ")}}function qu(t,u){1&t&&(e.j41(0,"div",65),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auth_please_select")+" "+e.bMT(3,3,"lang_auth_scale_of_organization_environment"),". "))}function Xu(t,u){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI("",e.bMT(2,1,"lang_auth_please_enter")+" "+e.bMT(3,3,"lang_auth_system_domain"),"."))}function Hu(t,u){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI("",e.bMT(2,1,"lang_auth_business_domain_invalid_format"),"."))}function Ju(t,u){if(1&t&&(e.j41(0,"div",65),e.DNE(1,Xu,4,5,"div",66),e.DNE(2,Hu,3,3,"div",66),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.form.controls.desiredDomain.errors.noWhiteSpace),e.R7$(1),e.Y8G("ngIf",n.form.controls.desiredDomain.errors.invalidFormat)}}function Ku(t,u){1&t&&e.nrm(0,"azt-loading-ui",71)}const Mn=function(){return{"mr-2":!0}},Zu=function(t){return{"error-border":t}},ed=function(t){return{waiting:t}},td=function(t){return[t]};let nd=(()=>{var t;class u extends Z.H{selectProvinceObj(i){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(i).subscribe(r=>{r.success?(this.districtObjs=r.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(r.message,!0),this.isLoadingDistrictData=!1}))}togglePassword(){this.showPassword=!this.showPassword}registerForBusiness(){if(this.form.invalid)return this.form.markAllAsTouched(),this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin");const i={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value,businessTypeId:this.form.controls.businessTypeId.value,businessWebUrl:this.form.controls.businessWebUrl.value,businessScaleId:this.form.controls.businessScaleId.value,adminPassword:"",domain:this.getDomainUrl()};this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersPost(i).subscribe(r=>{1==r.success?(this.successStatusObj(),this.myNavigation("/auth/thank-for-business")):this.errorStatusObj(r.message??"",!0)}))}toggleDrawer(){this.chatBoxDrawer.toggle(),this.chatBoxDrawer.drawerType=this.drawerType.guide,this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.chatBoxDrawer.isOpened()}))}callMultipleApi(){const i=this.commonListService.apiCommonListBusinessTypesGet(),r=this.commonListService.apiCommonListBusinessScalesGet(),d=this.commonListService.apiCommonListProvincesGet();return(0,Ne.z)([i,r,d]).pipe((0,jn.T)(([b,w,G])=>({resType:b,resScale:w,resProvince:G})),(0,wu.W)(b=>{throw b}))}initData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:i=>{this.provinceObjs=i.resProvince.data?.objs??[],this.businessTypeList=i.resType.data?.objs??[],this.businessScaleList=i.resScale.data?.objs??[],this.stopStatusObj()},error:i=>{this.errorStatusObj(i.error.message,!0)}}))}getDomainUrl(){return this.form.controls.desiredDomain.value+"."+et.c.businessDomain}ngOnInit(){super.ngOnInit(),this.initData();let i=this.commonService.getMyQueryParam("backTo")??"";this.backTo=i||"/auth/register"}constructor(i,r,d,b){super(),this.commonListService=i,this.businessPackageService=r,this.browserStorageService=d,this.chatBoxDrawer=b,this.backTo="",this.isLoadingDistrictData=!1,this.provinceObjs=[],this.districtObjs=[],this.businessScaleList=[],this.businessTypeList=[],this.azotaDomain=et.c.businessDomain,this.showPassword=!1,this.isLoadingCheckDomain=!1,this.drawerType=Au.I,this.form=new v.gE({fullName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace]}),phone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,Dl.isInvalidPhone]}),email:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,zt.U.isInvalidEmail]}),businessName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),provinceId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),districtId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),businessTypeId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),businessWebUrl:new v.MJ("",{nonNullable:!0}),businessScaleId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),desiredDomain:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace,xu.invalidFormat]})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(Ft.Nz),e.rXU(ao.WC),e.rXU(yn.z),e.rXU(Ou.o))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register-for-business"]],features:[e.Vt3],decls:153,vars:146,consts:[[3,"maxWidth","contentBoxClass"],[3,"formGroup"],["id","register-for-business",1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-6","p-1"],[1,"box","intro-x","bg-gradient-primary","border-r","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","flex-col","p-4","h-full","justify-between"],[1,"text-white"],[1,"text-xl","font-semibold"],[1,"mt-4","text-base","font-medium"],[1,"flex","items-center","mt-4"],[1,"flex-none"],["name","layers","size","18",3,"ngClass"],[1,"flex","items-center","mt-3"],["name","database","size","18",3,"ngClass"],["name","book","size","18",3,"ngClass"],["name","webcam","size","18",3,"ngClass"],["name","bar-chart-3","size","18",3,"ngClass"],[1,"text-center"],["alt","bg",3,"src"],[1,"col-span-12","md:col-span-6"],[1,"p-4"],[1,"text-xl","font-semibold","mb-2"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"grid","grid-cols-12","gap-4","mt-4"],[1,"azt-form-group"],["type","text","formControlName","fullName","name","fullName","id","fullName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone","name","phone","id","phone",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"azt-form-group","mt-4"],["type","text","formControlName","email","name","email","id","email",1,"intro-x","login__input","form-control","block",3,"placeholder"],["type","text","formControlName","businessName","name","businessName","id","businessName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%",3,"ngClass"],["searchInList","","formControlName","provinceId","name","provinceId","id","provinceId",3,"placeholder","selectionChange"],["searchInListProvince","searchInList"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["isLoadingDistrict",""],["type","text","formControlName","businessWebUrl","name","businessWebUrl","id","businessWebUrl",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%"],["searchInList","","formControlName","businessTypeId","name","businessTypeId","id","businessTypeId",3,"placeholder"],["searchInListBusinessType","searchInList"],["searchInList","","formControlName","businessScaleId","name","businessScaleId","id","businessScaleId",3,"placeholder"],["searchInListBusinessScale","searchInList"],[1,"azt-form-group","w-full","mt-4"],[1,"flex","items-center"],[1,"w-full"],["type","text","formControlName","desiredDomain","name","domain","id","desiredDomain",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"flex"],[1,"ml-2"],[1,"flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/business-terms-of-use.html","target","_blank",1,"text-primary","font-medium","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/business-privacy.html","target","_blank",1,"text-primary","font-medium","dark:text-slate-200"],[1,"flex","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","align-top","w-full",3,"ngClass","click"],["class","mr-1",4,"ngIf"],[1,"mt-5"],[1,"font-medium","btn-text-primary",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"],[1,"relative","md:fixed","bottom-0","left-0","p-5"],[1,"btn","btn-primary-soft",3,"click"],["name","circle-help","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[3,"value"],["searchInList","","formControlName","districtId","name","districtId","id","districtId",3,"placeholder"],["searchInListDistrict","searchInList"],[1,"w-8","h-8","inline-block"],[1,"mr-1"]],template:function(i,r){if(1&i&&(e.j41(0,"auth-layout",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",8),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"div",9)(14,"div",10),e.nrm(15,"lucide-icon",11),e.k0s(),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"div",12)(19,"div",10),e.nrm(20,"lucide-icon",13),e.k0s(),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",12)(24,"div",10),e.nrm(25,"lucide-icon",14),e.k0s(),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"div",12)(29,"div",10),e.nrm(30,"lucide-icon",15),e.k0s(),e.EFF(31),e.nI1(32,"mytranslate"),e.k0s(),e.j41(33,"div",12)(34,"div",10),e.nrm(35,"lucide-icon",16),e.k0s(),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()(),e.j41(38,"div",17),e.nrm(39,"img",18),e.nI1(40,"convertCdnLinkOfGitHub"),e.k0s()()()(),e.j41(41,"div",19)(42,"div",20)(43,"div",21),e.EFF(44),e.nI1(45,"mytranslate"),e.k0s(),e.j41(46,"div",22)(47,"div",23)(48,"div",24)(49,"div",25)(50,"div",19)(51,"div",26),e.nrm(52,"input",27),e.nI1(53,"mytranslate"),e.DNE(54,Fu,4,3,"div",28),e.k0s()(),e.j41(55,"div",19)(56,"div",26),e.nrm(57,"input",29),e.nI1(58,"mytranslate"),e.DNE(59,Pu,4,3,"div",28),e.k0s()()(),e.j41(60,"div",30),e.nrm(61,"input",31),e.nI1(62,"mytranslate"),e.DNE(63,Du,3,2,"div",28),e.k0s(),e.j41(64,"div",30),e.nrm(65,"input",32),e.nI1(66,"mytranslate"),e.DNE(67,Nu,4,3,"div",28),e.k0s(),e.j41(68,"div",25)(69,"div",19)(70,"div",26)(71,"mat-form-field",33)(72,"mat-select",34,35),e.bIt("selectionChange",function(){return r.selectProvinceObj(r.form.controls.provinceId.value)}),e.nI1(74,"mytranslate"),e.j41(75,"mat-option"),e.nrm(76,"ngx-mat-select-search",36),e.nI1(77,"mytranslate"),e.nI1(78,"mytranslate"),e.k0s(),e.DNE(79,Lu,2,2,"mat-option",37),e.k0s()(),e.DNE(80,Gu,3,3,"div",28),e.k0s()(),e.j41(81,"div",19)(82,"div",26),e.DNE(83,Bu,12,12,"ng-container",38),e.DNE(84,Uu,2,0,"ng-template",null,39,e.C5r),e.k0s()()(),e.j41(86,"div",30),e.nrm(87,"input",40),e.nI1(88,"mytranslate"),e.DNE(89,Vu,4,3,"div",28),e.k0s(),e.j41(90,"div",30)(91,"mat-form-field",41)(92,"mat-select",42,43),e.nI1(94,"mytranslate"),e.j41(95,"mat-option"),e.nrm(96,"ngx-mat-select-search",36),e.nI1(97,"mytranslate"),e.nI1(98,"mytranslate"),e.k0s(),e.DNE(99,Yu,3,4,"mat-option",37),e.k0s()(),e.DNE(100,Wu,4,5,"div",28),e.k0s(),e.j41(101,"div",30)(102,"mat-form-field",41)(103,"mat-select",44,45),e.nI1(105,"mytranslate"),e.j41(106,"mat-option"),e.nrm(107,"ngx-mat-select-search",36),e.nI1(108,"mytranslate"),e.nI1(109,"mytranslate"),e.k0s(),e.DNE(110,Qu,3,4,"mat-option",37),e.k0s()(),e.DNE(111,qu,4,5,"div",28),e.k0s(),e.j41(112,"div",46)(113,"div",47)(114,"div",48),e.nrm(115,"input",49),e.nI1(116,"mytranslate"),e.nrm(117,"div",50),e.k0s(),e.j41(118,"div",51)(119,"div",50),e.EFF(120),e.k0s()()(),e.DNE(121,Ju,3,2,"div",28),e.k0s(),e.j41(122,"div",52)(123,"p",53),e.EFF(124),e.nI1(125,"mytranslate"),e.nI1(126,"mytranslate"),e.nI1(127,"mytranslate"),e.j41(128,"a",54),e.EFF(129),e.nI1(130,"mytranslate"),e.k0s(),e.EFF(131),e.nI1(132,"mytranslate"),e.j41(133,"a",55),e.EFF(134),e.nI1(135,"mytranslate"),e.k0s()()(),e.j41(136,"div",56)(137,"button",57),e.bIt("click",function(){return r.registerForBusiness()}),e.DNE(138,Ku,1,0,"azt-loading-ui",58),e.EFF(139),e.nI1(140,"mytranslate"),e.k0s()(),e.j41(141,"div",59)(142,"a",60),e.nI1(143,"navigationLocalize"),e.nrm(144,"lucide-icon",61),e.EFF(145),e.nI1(146,"mytranslate"),e.k0s()()()()()()()()(),e.j41(147,"div",62)(148,"button",63),e.bIt("click",function(){return r.toggleDrawer()}),e.nrm(149,"lucide-icon",64),e.j41(150,"span"),e.EFF(151),e.nI1(152,"mytranslate"),e.k0s()()()()),2&i){const d=e.sdS(73),b=e.sdS(85),w=e.sdS(93),G=e.sdS(104);e.Y8G("maxWidth","1050px")("contentBoxClass","margin-top--50"),e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(7),e.SpI(" ",e.bMT(9,65,"lang_azt_feature_introduction")," "),e.R7$(3),e.SpI(" ",e.bMT(12,67,"lang_auth_register_business_desc_one")+": "," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(133,Mn)),e.R7$(1),e.SpI(" ",e.bMT(17,69,"lang_auth_register_business_desc_two")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(134,Mn)),e.R7$(1),e.SpI(" ",e.bMT(22,71,"lang_auth_register_business_desc_three")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(135,Mn)),e.R7$(1),e.SpI(" ",e.bMT(27,73,"lang_auth_register_business_desc_four")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(136,Mn)),e.R7$(1),e.SpI(" ",e.bMT(32,75,"lang_auth_register_business_desc_five")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(137,Mn)),e.R7$(1),e.SpI(" ",e.bMT(37,77,"lang_auth_register_business_desc_six")," "),e.R7$(3),e.Y8G("src",e.bMT(40,79,"images/illustration.svg"),e.B4B),e.R7$(5),e.JRh(e.bMT(45,81,"lang_azt_experience_registration")),e.R7$(8),e.FS9("placeholder",e.bMT(53,83,"lang_first_and_last_name")),e.R7$(2),e.Y8G("ngIf",r.form.controls.fullName.errors&&(r.form.controls.fullName.dirty||r.form.controls.fullName.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(58,85,"lang_number_phone")),e.R7$(2),e.Y8G("ngIf",r.form.controls.phone.errors&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(62,87,"lang_azt_email_address")),e.R7$(2),e.Y8G("ngIf",r.form.controls.email.errors&&(r.form.controls.email.dirty||r.form.controls.email.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(66,89,"lang_register_for_business_business_name")),e.R7$(2),e.Y8G("ngIf",r.form.controls.businessName.errors&&(r.form.controls.businessName.dirty||r.form.controls.businessName.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(138,Zu,r.form.controls.provinceId.invalid)),e.R7$(1),e.FS9("placeholder",e.bMT(74,91,"lang_register_for_business_select_province")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(77,93,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(78,95,"lang_bot_common_search_not_found")),e.Y8G("formControl",d.searchControl),e.R7$(3),e.Y8G("ngForOf",d.filter(r.provinceObjs,"name")),e.R7$(1),e.Y8G("ngIf",r.form.controls.provinceId.invalid&&(r.form.controls.provinceId.dirty||r.form.controls.provinceId.touched)),e.R7$(3),e.Y8G("ngIf",!r.isLoadingDistrictData)("ngIfElse",b),e.R7$(4),e.FS9("placeholder",e.bMT(88,97,"lang_auth_school_organization_website")),e.R7$(2),e.Y8G("ngIf",r.form.controls.businessWebUrl.errors&&(r.form.controls.businessWebUrl.dirty||r.form.controls.businessWebUrl.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(94,99,"lang_auth_school_organization_type")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(97,101,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(98,103,"lang_bot_common_search_not_found")),e.Y8G("formControl",w.searchControl),e.R7$(3),e.Y8G("ngForOf",w.filter(r.businessTypeList,"name")),e.R7$(1),e.Y8G("ngIf",r.form.controls.businessTypeId.invalid&&(r.form.controls.businessTypeId.dirty||r.form.controls.businessTypeId.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(105,105,"lang_auth_scale_of_organization_environment")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(108,107,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(109,109,"lang_bot_common_search_not_found")),e.Y8G("formControl",G.searchControl),e.R7$(3),e.Y8G("ngForOf",G.filter(r.businessScaleList,"name")),e.R7$(1),e.Y8G("ngIf",r.form.controls.businessScaleId.invalid&&(r.form.controls.businessScaleId.dirty||r.form.controls.businessScaleId.touched)),e.R7$(4),e.FS9("placeholder",e.bMT(116,111,"lang_auth_system_domain")),e.R7$(5),e.SpI(" ","."+r.azotaDomain," "),e.R7$(1),e.Y8G("ngIf",r.form.controls.desiredDomain.errors&&(r.form.controls.desiredDomain.dirty||r.form.controls.desiredDomain.touched)),e.R7$(3),e.E5c(" ",e.bMT(125,113,"lang_auto_bang_cach_an_vao_nut"),' "',e.bMT(126,115,"lang_azt_send_experience_request_and_feature_introduction"),'" ',e.bMT(127,117,"lang_auto__toi_dong_y_voi")," "),e.R7$(5),e.JRh(e.bMT(130,119,"lang_auto_dieu_khoan_su_dung")),e.R7$(2),e.SpI(" ",e.bMT(132,121,"lang_auto_va")," "),e.R7$(3),e.SpI(" ",e.bMT(135,123,"lang_auto_chinh_sach_bao_mat_cua_azota")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(140,ed,r.statusObj.loading)),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(140,125,"lang_azt_send_experience_request_and_feature_introduction")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(142,td,e.bMT(143,127,r.backTo))),e.R7$(2),e.Y8G("ngClass",e.lJ4(144,Mn)),e.R7$(1),e.SpI(" ",e.bMT(146,129,"lang_register_for_business_back_to")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(145,Mn)),e.R7$(2),e.JRh(e.bMT(152,131,"lang_testbank_test_dashboard_support"))}},dependencies:[_e.Wk,m.YU,m.Sq,m.bT,v.qT,v.me,v.BC,v.cb,P.wT,U.rl,A.VO,v.l_,v.j4,v.JD,tt.t,T.R,L.x,ut.K,oe.WGl,Tt.U9,O.F2,O.wp,O.gt],encapsulation:2}),u})();const Nr=function(t){return[t]},id=function(){return{backTo:"/auth/register"}};function od(t,u){1&t&&(e.j41(0,"div",47)(1,"a",48),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(1),e.Y8G("routerLink",e.eq3(7,Nr,e.bMT(2,3,"/auth/register-for-organization")))("queryParams",e.lJ4(9,id)),e.R7$(2),e.SpI(" ",e.bMT(4,5,"lang_register_for_business_register_for_business")," "))}function rd(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.changeRegisterType(0))}),e.nrm(3,"lucide-icon",42),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()(),e.j41(7,"div",40)(8,"div",44),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.changeRegisterType(1))}),e.nrm(9,"azt-svg-icon",45),e.j41(10,"p",43),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()(),e.DNE(13,od,5,10,"div",46),e.k0s()}if(2&t){const n=e.XpG();e.R7$(3),e.Y8G("size",128),e.R7$(2),e.JRh(e.bMT(6,5,"lang_auto_toi_la_hoc_sinh")),e.R7$(4),e.Y8G("size",128),e.R7$(2),e.JRh(e.bMT(12,7,"lang_auto_toi_la_giao_vien")),e.R7$(2),e.Y8G("ngIf",!(null!=n.userObj&&null!=n.userObj.roles&&n.userObj.roles.includes("STUDENT")))}}function sd(t,u){1&t&&(e.j41(0,"div",49)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function ad(t,u){1&t&&(e.j41(0,"div",49)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function ld(t,u){if(1&t&&(e.j41(0,"div",49),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,n.msgError)," ")}}function cd(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function ud(t,u){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function dd(t,u){if(1&t&&(e.j41(0,"div",49),e.DNE(1,cd,3,3,"span",50),e.DNE(2,ud,3,3,"span",50),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors.required),e.R7$(1),e.Y8G("ngIf",n.form.controls.password.errors.minlength)}}const Ll=function(t,u){return{return_url:t,from:"register",user_click:"true",type:u}};function _d(t,u){if(1&t&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"a",55),e.nI1(4,"navigationLocalize"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,5,n.statusObj.errorMessage)," Click "),e.R7$(2),e.Y8G("routerLink",e.eq3(13,Nr,e.bMT(4,7,"/auth/login")))("queryParams",e.l_i(15,Ll,n.returnUrl,n.isStudent?0:1)),e.R7$(2),e.SpI(" ",e.bMT(6,9,"lang_auto_vao_day")," "),e.R7$(2),e.SpI(" ",e.bMT(8,11,"lang_auto_de_dang_nhap")," ")}}function md(t,u){if(1&t&&(e.j41(0,"label",56),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,1,n.statusObj.errorMessage)," ")}}function pd(t,u){if(1&t&&(e.j41(0,"div",51),e.DNE(1,_d,9,18,"div",52),e.DNE(2,md,3,3,"ng-template",null,53,e.C5r),e.k0s()),2&t){const n=e.sdS(3),i=e.XpG();e.R7$(1),e.Y8G("ngIf",i.isDuplicateEmailOrPhone>0)("ngIfElse",n)}}function hd(t,u){1&t&&e.nrm(0,"azt-loading-ui",57)}function gd(t,u){if(1&t&&(e.qex(0),e.j41(1,"a",58),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("routerLink",e.eq3(7,Nr,e.bMT(2,3,"/auth/login")))("queryParams",e.l_i(9,Ll,n.returnUrl,n.isStudent?0:1)),e.R7$(2),e.SpI(" ",e.bMT(4,5,"lang_auto_dang_nhap")," ")}}const fd=function(t){return{return_url:t,from:"register",user_click:"true"}};function vd(t,u){if(1&t&&(e.j41(0,"a",59),e.nI1(1,"navigationLocalize"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.Y8G("routerLink",e.eq3(7,Nr,e.bMT(1,3,"/auth/login")))("queryParams",e.eq3(9,fd,n.returnUrl)),e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_auto_dang_nhap")," ")}}const Gl=function(t){return{active:t}},$l=function(){return{"mr-2":!0}},bd=function(){return{"dark:text-slate-500":!0}};let zl=(()=>{var t;class u extends Z.H{isInvalidUserPhoneOrEmail(i){this.msgError=zt.U.validPhoneOrEmail(i)}executeImportantAction(){return new Promise(i=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{i(r)})})}getFormValue(){return this.form.getRawValue()}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url")??"";var i="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",i)}changeRegisterType(i){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${i}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==i?(this.isTeacher=!1,this.isStudent=!0,this.msgError=""):(this.isTeacher=!0,this.isStudent=!1,this.msgError="")}loginZalo(){window.location.href=this.zaloLoginUrl}callRegisterForTeacherApi(i){var r=this.getFormValue(),d={fullName:r.fullName,password:r.password,tokenCaptcha:i,language:this.commonService.getCurrentLang()};zt.U.validateEmail(r.username)?d.email=r.username:d.phone=r.username,this.waitDestroy(this.authService.apiAuthRegisterPost(d).subscribe(b=>{1==b.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"",this.isBusinessDomain,this.isMobileWebView)):(this.errorStatusObj(b.message??""),this.isDuplicateEmailOrPhone=b.data?.isDuplicateEmailOrPhone??0)}))}registerForTeacher(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(i=>{this.callRegisterForTeacherApi(i)}).catch(i=>{this.callRegisterForTeacherApi("")}))}callRegisterForStudentApi(i){var r=this.getFormValue(),d={fullName:r.fullName,password:r.password,tokenCaptcha:i,language:this.commonService.getCurrentLang()};zt.U.validateEmail(r.username)?d.email=r.username:d.phone=r.username,this.waitDestroy(this.authService.apiAuthRegisterForStudentPost(d).subscribe(b=>{1==b.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(b.message??""),this.isDuplicateEmailOrPhone=b.data?.isDuplicateEmailOrPhone??0)}))}registerForStudent(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(i=>{this.callRegisterForStudentApi(i)}).catch(i=>{this.callRegisterForStudentApi("")}))}googleSignIn(){const i=this.browserUserAgentService.isCommonInAppBrowser();let r=this.browserUserAgentService.getCommonInAppBrowser(),d=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),b="zalo";"facebook"===r.toLowerCase()&&(b="fb");let w=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${d}/${d}_${b}_1.png`),G=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${d}/${d}_${b}_2.png`);if(i)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(re=>{let ae=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),ke=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(Fl.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${re+" "+r}. ${ae}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${ke} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${w}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${ke} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${G}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const re=this.commonService.getMyParam(this.activeRoute,"type"),ae=`/auth/register/${re}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${re}`,`?backto=${encodeURIComponent(ae)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLoginAndNotAnonymous())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=et.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_register=1");let d=this.commonService.getMyQueryParam("user_click");var i=this.commonService.getMyParam(this.activeRoute,"type");if(this.isBusinessDomain&&this.myNavigation("/auth/login"),null!=i){var r=parseInt(i?.toString(),10);this.changeRegisterType(0==r?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),!d&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/classroom/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}this.userObj=this.userService.getUserObj()}constructor(i,r,d,b,w,G,re,ae){super(),this.redirectByRoleService=i,this.activeRoute=r,this.userService=d,this.recaptchaV3Service=b,this.cdnService=w,this.sAztDialogService=G,this.authService=re,this.browserUserAgentService=ae,this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1,this.form=new v.gE({username:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace]}),fullName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(5),J.M.noWhiteSpace]})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(_e.nX),e.rXU(He.R),e.rXU(Ro.ob),e.rXU(hl.B),e.rXU(C.i),e.rXU(ue.uR),e.rXU(jl))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],features:[e.Vt3],decls:72,vars:72,consts:[[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["name","graduation-cap","size","16",3,"ngClass"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["name","user","size","16",3,"ngClass"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["name","graduation-cap",3,"size"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["type","teacher",3,"size"],["class","col-span-12 text-center w-width",4,"ngIf"],[1,"col-span-12","text-center","w-width"],["azt-track-service","register--fhLRd1G4",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],[1,"mr-1"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(i,r){if(1&i&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,rd,14,9,"div",1),e.j41(5,"div",2)(6,"form",3)(7,"div",4)(8,"ul",5)(9,"li",6)(10,"button",7),e.bIt("click",function(){return r.changeRegisterType(0)}),e.nrm(11,"lucide-icon",8),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"li",9)(15,"button",10),e.bIt("click",function(){return r.changeRegisterType(1)}),e.nrm(16,"lucide-icon",11),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()(),e.j41(19,"div",12)(20,"div",13)(21,"div",14),e.nrm(22,"input",15),e.nI1(23,"mytranslate"),e.DNE(24,sd,4,3,"div",16),e.k0s(),e.j41(25,"div",14)(26,"input",17),e.bIt("input",function(){return r.isInvalidUserPhoneOrEmail(r.form.controls.username.value)}),e.nI1(27,"mytranslate"),e.k0s(),e.DNE(28,ad,4,3,"div",16),e.DNE(29,ld,3,3,"div",16),e.k0s(),e.j41(30,"div",14)(31,"div",18),e.nrm(32,"input",19),e.nI1(33,"mytranslate"),e.j41(34,"button",20),e.bIt("click",function(){return r.togglePassword()}),e.nrm(35,"lucide-icon",21),e.k0s()(),e.DNE(36,dd,3,2,"div",16),e.k0s()()()(),e.DNE(37,pd,4,2,"div",22),e.j41(38,"div",23)(39,"p",24),e.EFF(40),e.nI1(41,"mytranslate"),e.nI1(42,"mytranslate"),e.nI1(43,"mytranslate"),e.j41(44,"a",25),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s(),e.EFF(47),e.nI1(48,"mytranslate"),e.j41(49,"a",26),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()()(),e.j41(52,"div",27)(53,"button",28),e.bIt("click",function(){return 1==r.isStudent?r.registerForStudent():r.registerForTeacher()}),e.DNE(54,hd,1,0,"azt-loading-ui",29),e.EFF(55),e.nI1(56,"mytranslate"),e.k0s()(),e.j41(57,"div",30),e.EFF(58),e.nI1(59,"mytranslate"),e.DNE(60,gd,5,12,"ng-container",31),e.DNE(61,vd,4,11,"ng-template",null,32,e.C5r),e.k0s(),e.j41(63,"div",33)(64,"span",34),e.EFF(65),e.nI1(66,"mytranslate"),e.k0s()(),e.j41(67,"div",35)(68,"button",36),e.bIt("click",function(){return r.googleSignIn()}),e.nrm(69,"azt-svg-icon",37),e.j41(70,"span",38),e.EFF(71,"Google"),e.k0s()()()()()()),2&i){const d=e.sdS(62);e.R7$(2),e.SpI(" ",e.bMT(3,35,"lang_auto_dang_ky")," "),e.R7$(2),e.Y8G("ngIf",1==r.isShowOption),e.R7$(1),e.Y8G("hidden",r.isShowOption),e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(4),e.Y8G("ngClass",e.eq3(65,Gl,r.isStudent)),e.R7$(1),e.Y8G("ngClass",e.lJ4(67,$l)),e.R7$(1),e.SpI(" ",e.bMT(13,37,"lang_auto_hoc_sinh")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(68,Gl,r.isTeacher)),e.R7$(1),e.Y8G("ngClass",e.lJ4(70,$l)),e.R7$(1),e.SpI(" ",e.bMT(18,39,"lang_auto_giao_vien")," "),e.R7$(5),e.FS9("placeholder",e.bMT(23,41,"lang_auto_ho_ten")),e.R7$(2),e.Y8G("ngIf",r.form.controls.fullName.errors&&(r.form.controls.fullName.dirty||r.form.controls.fullName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(27,43,"lang_auto_nhap_sdt_hoac_email")),e.R7$(2),e.Y8G("ngIf",r.form.controls.username.errors&&(r.form.controls.username.dirty||r.form.controls.username.touched)&&!r.msgError),e.R7$(1),e.Y8G("ngIf",r.msgError),e.R7$(3),e.FS9("placeholder",e.bMT(33,45,"lang_auto_mat_khau")),e.Y8G("type",r.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",r.showPassword?"eye":"eye-off")("ngClass",e.lJ4(71,bd)),e.R7$(1),e.Y8G("ngIf",r.form.controls.password.errors&&(r.form.controls.password.dirty||r.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",r.statusObj.errorMessage),e.R7$(3),e.E5c(" ",e.bMT(41,47,"lang_auto_bang_cach_an_vao_nut"),' "',e.bMT(42,49,"lang_auto_dang_ky"),'" ',e.bMT(43,51,"lang_auto__toi_dong_y_voi")," "),e.R7$(5),e.JRh(e.bMT(46,53,"lang_auto_dieu_khoan_su_dung")),e.R7$(2),e.SpI(" ",e.bMT(48,55,"lang_auto_va")," "),e.R7$(3),e.JRh(e.bMT(51,57,"lang_auto_chinh_sach_bao_mat_cua_azota")),e.R7$(3),e.Y8G("disabled",r.form.invalid||r.statusObj.loading),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(56,59,"lang_auto_dang_ky")," "),e.R7$(3),e.SpI(" ",e.bMT(59,61,"lang_auto_ban_da_co_tai_khoan")," "),e.R7$(2),e.Y8G("ngIf",r.isDuplicateEmailOrPhone>0)("ngIfElse",d),e.R7$(5),e.JRh(e.bMT(66,63,"lang_auto_hoac")),e.R7$(4),e.Y8G("size",16)}},dependencies:[_e.Wk,m.YU,m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,tt.t,T.R,en.m,ut.K,oe.WGl,O.F2,O.wp],encapsulation:2}),u})();var yd=y(39763);function Id(t,u){1&t&&(e.j41(0,"div",11)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Cd(t,u){if(1&t&&(e.j41(0,"div",11),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,n.msgError)," ")}}function kd(t,u){1&t&&e.nrm(0,"azt-loading-ui",12)}const Sd=function(){return{"mr-2":!0}};let Td=(()=>{var t;class u extends Z.H{isInvalidUserPhoneOrEmail(i){this.msgError=zt.U.validPhoneOrEmail(i)}addEmailOrPhone(){if(this.form.valid){let i,r;this.initStatusObj(),zt.U.validateEmail(this.form.controls.phone.value)?r=this.form.controls.phone.value:i=this.form.controls.phone.value,this.waitDestroy(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(i,r).subscribe(d=>{if(1==d.success){let b=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(b),this.successStatusObj()}else this.errorStatusObj(d.message??"",!0)}))}}backToRedirect(){let i=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(i)}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(i,r){super(),this.userZaloService=i,this.zaloService=r,this.msgError="",this.form=new v.gE({phone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,J.M.noWhiteSpace]})}),this.zaloService.checkLoginZalo()||this.backToRedirect()}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(ue.lM),e.rXU(yd.m))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-required-phone-or-email"]],features:[e.Vt3],decls:21,vars:19,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"disabled","click"],["class","mr-1",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),e.bIt("input",function(){return r.isInvalidUserPhoneOrEmail(r.form.controls.phone.value)}),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,Id,4,3,"div",5),e.DNE(10,Cd,3,3,"div",5),e.k0s(),e.j41(11,"div",6)(12,"button",7),e.bIt("click",function(){return r.addEmailOrPhone()}),e.DNE(13,kd,1,0,"azt-loading-ui",8),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()(),e.j41(16,"div",6)(17,"a",9),e.bIt("click",function(){return r.backToRedirect()}),e.nrm(18,"lucide-icon",10),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,10,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),e.R7$(3),e.Y8G("formGroup",r.form),e.R7$(2),e.FS9("placeholder",e.bMT(8,12,"lang_auto_nhap_sdt_hoac_email")),e.R7$(2),e.Y8G("ngIf",r.form.controls.phone.invalid&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)&&!r.msgError),e.R7$(1),e.Y8G("ngIf",r.msgError),e.R7$(2),e.Y8G("disabled",r.statusObj.loading||r.form.invalid),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(15,14,"lang_auto_tiep_tuc")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(18,Sd)),e.R7$(1),e.SpI(" ",e.bMT(20,16,"lang_auto_quay_lai")," "))},dependencies:[m.YU,m.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,tt.t,T.R,ut.K,oe.WGl,O.wp],encapsulation:2}),u})();function Rd(t,u){1&t&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"azt-loading-ui"),e.j41(3,"span",12),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}function Ed(t,u){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function wd(t,u){if(1&t&&(e.j41(0,"div",29),e.DNE(1,Ed,3,3,"div",10),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function xd(t,u){if(1&t&&(e.j41(0,"div",13)(1,"label",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.SpI("*** ",e.bMT(3,1,n.statusObj.errorMessage),"")}}function Ad(t,u){1&t&&e.nrm(0,"azt-loading-ui",31)}const Od=function(t){return[t]},Fd=function(){return{user_click:"true"}};function Pd(t,u){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),e.nrm(4,"input",16),e.nI1(5,"mytranslate"),e.j41(6,"div",17)(7,"span",18),e.nrm(8,"lucide-icon",19),e.k0s()()(),e.j41(9,"div",15),e.nrm(10,"input",20),e.nI1(11,"mytranslate"),e.j41(12,"div",17)(13,"span",18),e.nrm(14,"lucide-icon",19),e.k0s()()(),e.DNE(15,wd,2,1,"div",21),e.k0s()(),e.DNE(16,xd,4,3,"div",22),e.j41(17,"div",23)(18,"div",14)(19,"div",24)(20,"button",25),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.form.invalid||r.statusObj.loading||r.changePassword())}),e.DNE(21,Ad,1,0,"azt-loading-ui",26),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()(),e.nrm(24,"hr"),e.j41(25,"div",27)(26,"a",28),e.nI1(27,"navigationLocalize"),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(4),e.FS9("placeholder",e.bMT(5,10,"lang_auto_mat_khau_moi")),e.R7$(6),e.FS9("placeholder",e.bMT(11,12,"lang_auto_xac_nhan_mat_khau")),e.R7$(5),e.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",n.statusObj.errorMessage),e.R7$(4),e.Y8G("disabled",n.form.invalid||n.statusObj.loading),e.R7$(1),e.Y8G("ngIf",n.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(23,14,"lang_auto_doi_mat_khau")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(20,Od,e.bMT(27,16,"/auth/login")))("queryParams",e.lJ4(22,Fd)),e.R7$(2),e.JRh(e.bMT(29,18,"lang_auto_dang_nhap_tai_khoan"))}}let jd=(()=>{var t;class u extends Z.H{getError(i){return!!this.form.controls[i].errors&&this.form.controls[i].errors}getErrorType(i,r){return!!this.form.controls[i].errors?.[r]&&this.form.controls[i].errors?.[r]}changePassword(){if(this.form.valid){let b=this.getFormValue();if(b.password!=b.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var i=this.commonService.getMyQueryParam("token"),r=this.commonService.getMyQueryParam("app_name");this.waitDestroy(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:i??"",newPassword:b.password,appName:r??""}).subscribe(w=>{1==w.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(w.message??"")}))}}}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(i,r){super(),this.redirectByRoleService=i,this.userInfoService=r,this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),hash:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(It.b),e.rXU(ue.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],features:[e.Vt3],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["name","lock","size","20"],["type","password","formControlName","confirm_password","autocomplete","new-confirm-password",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mr-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9),e.DNE(13,Rd,6,3,"div",10),e.DNE(14,Pd,30,23,"div",10),e.k0s()()(),e.nrm(15,"div",3),e.k0s()()()),2&i&&(e.R7$(1),e.Y8G("formGroup",r.form),e.R7$(4),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!r.statusObj.loading))},dependencies:[_e.Wk,m.bT,v.qT,v.me,v.BC,v.cb,sn.$z,v.j4,v.JD,tt.t,T.R,oe.WGl,O.F2,O.wp,O.ph],encapsulation:2}),u})();const gl=function(){return{"mr-2":!0}},Md=function(t){return[t]};let Dd=(()=>{var t;class u extends Z.H{ngOnInit(){super.ngOnInit()}constructor(){super()}}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-thank-for-business"]],features:[e.Vt3],decls:52,vars:35,consts:[[3,"maxWidth","contentBoxClass"],[1,"box","h-full","p-5","thank-for-business"],[1,"font-semibold","text-center","intro-x",2,"font-family","'Kaushan Script', cursive","font-size","4em","line-height","1","color","#5892FF"],[1,"mx-auto","mt-5","text-center","intro-x",2,"max-width","700px"],[1,"text-slate-500"],[1,"mt-4","mx-auto",2,"max-width","190px"],[1,"font-medium","text-center"],[1,"ml-0"],[1,"mt-3","flex","items-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","18",3,"ngClass"],[1,"mx-1"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-4"],[1,"font-medium"],[1,"mt-3"],[1,"azt-copy","relative","intro-x","mx-auto"],["type","text","readonly","","value","Azota For School.pdf",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10","text-primary","cursor-pointer"],["azt-track-service","thank-for-business-npZYLKAD0","href","https://drive.google.com/file/d/1qG4uKTl1UC1lMQ96LX_dQjb2FPbeejyn/view?usp=sharing","target","_blank",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0"],["name","square-arrow-out-up-right","size","18",3,"ngClass"],[1,"text-center","mt-8","intro-x"],["azt-track-service","thank-for-business-fr0dFQRDKx",1,"btn","btn-outline-primary","w-72",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"]],template:function(i,r){1&i&&(e.j41(0,"auth-layout",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Thank you ! "),e.k0s(),e.j41(4,"div",3)(5,"span",4),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"div",5)(9,"div",6),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"div",7)(13,"div",8)(14,"div",9),e.nrm(15,"lucide-icon",10),e.j41(16,"span"),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()(),e.j41(19,"div",11),e.EFF(20,":"),e.k0s(),e.j41(21,"div",7),e.EFF(22," 0972 112 969 "),e.k0s()(),e.j41(23,"div",8)(24,"div",9),e.nrm(25,"azt-svg-icon",12),e.j41(26,"span"),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()(),e.j41(29,"div",11),e.EFF(30,":"),e.k0s(),e.j41(31,"div",7),e.EFF(32," 0972 112 969 "),e.k0s()()()(),e.j41(33,"div",13)(34,"div",14),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s(),e.j41(37,"div",15)(38,"div",16),e.nrm(39,"input",17),e.j41(40,"a",18),e.nrm(41,"lucide-icon",19),e.j41(42,"span"),e.EFF(43),e.nI1(44,"mytranslate"),e.k0s()()()()(),e.j41(45,"div",20)(46,"a",21),e.nI1(47,"navigationLocalize"),e.nrm(48,"lucide-icon",22),e.j41(49,"span"),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()()()()()),2&i&&(e.Y8G("maxWidth","800px")("contentBoxClass","margin-top--50"),e.R7$(6),e.SpI(" ",e.bMT(7,14,"lang_azt_thank_you_for_interest_in_azotas_features")," "),e.R7$(4),e.SpI(" ",e.bMT(11,16,"lang_azt_live_support_advice")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(30,gl)),e.R7$(2),e.SpI(" ",e.bMT(18,18,"lang_auto_dien_thoai"),""),e.R7$(8),e.Y8G("size",16),e.R7$(2),e.SpI(" ",e.bMT(28,20,"Zalo"),""),e.R7$(8),e.SpI(" ",e.bMT(36,22,"lang_azt_feature_solution_overview")," "),e.R7$(6),e.Y8G("ngClass",e.lJ4(31,gl)),e.R7$(2),e.JRh(e.bMT(44,24,"lang_testbank_create_wibsite_result_Access")),e.R7$(3),e.Y8G("routerLink",e.eq3(32,Md,e.bMT(47,26,"/auth/login"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(34,gl)),e.R7$(2),e.SpI(" ",e.bMT(51,28,"lang_auto_quay_lai_dang_nhap"),""))},dependencies:[_e.Wk,m.YU,en.m,ut.K,oe.WGl,O.F2,O.wp],encapsulation:2}),u})();var Nd=y(53043),Ld=y(13420);function Gd(t,u){if(1&t&&(e.j41(0,"teacher-layout",2),e.eu8(1,3),e.k0s()),2&t){const n=e.XpG(),i=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",i)}}function $d(t,u){if(1&t&&(e.j41(0,"student-layout",2),e.eu8(1,3),e.k0s()),2&t){const n=e.XpG(),i=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",i)}}function zd(t,u){if(1&t&&e.nrm(0,"azt-loading-effect",6),2&t){const n=e.XpG(2);e.Y8G("currentStatusObj",n.statusObj)}}function Bd(t,u){1&t&&(e.j41(0,"div",13),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auth_choose_package_to_use")," "))}function Ud(t,u){if(1&t&&e.eu8(0,3),2&t){e.XpG();const n=e.sdS(6);e.Y8G("ngTemplateOutlet",n)}}function Vd(t,u){if(1&t&&e.eu8(0,3),2&t){e.XpG();const n=e.sdS(8);e.Y8G("ngTemplateOutlet",n)}}function Yd(t,u){if(1&t&&e.eu8(0,3),2&t){e.XpG();const n=e.sdS(10);e.Y8G("ngTemplateOutlet",n)}}function Wd(t,u){if(1&t&&(e.j41(0,"div",39)(1,"span",40),e.EFF(2),e.nI1(3,"formatMoney"),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",41),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()),2&t){const n=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,n.price/12)+" "+e.bMT(4,4,"lang_auto_vnd_upper")),e.R7$(4),e.JRh("/"+e.bMT(7,6,"lang_auto_"+n.timeUnit))}}function Qd(t,u){if(1&t&&(e.j41(0,"div",39)(1,"span",40),e.EFF(2),e.nI1(3,"formatMoney"),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",41),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()),2&t){const n=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,n.price)+" "+e.bMT(4,4,"lang_auto_vnd_upper")),e.R7$(4),e.JRh("/"+e.bMT(7,6,"lang_auto_"+n.timeUnit))}}function qd(t,u){1&t&&(e.j41(0,"div",42),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_azt_most_economical")," "))}const Xd=function(t,u){return{"order-0":t,"order-1":u}},Hd=function(t,u){return{"btn-primary":t,"btn-outline-primary":u}};function Jd(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20),e.nrm(5,"lucide-icon",21),e.k0s(),e.j41(6,"div",22),e.EFF(7),e.nI1(8,"mytranslate"),e.nI1(9,"mytranslate"),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",23),e.EFF(12),e.nI1(13,"mytranslate"),e.nI1(14,"formatMoney"),e.nI1(15,"mytranslate"),e.nI1(16,"mytranslate"),e.nI1(17,"mytranslate"),e.k0s(),e.DNE(18,Wd,8,8,"div",24),e.DNE(19,Qd,8,8,"div",24),e.DNE(20,qd,3,3,"div",25),e.k0s(),e.j41(21,"div",26)(22,"div",19),e.nrm(23,"azt-svg-icon",27),e.j41(24,"div",28),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",29),e.nrm(28,"lucide-icon",30),e.j41(29,"div",31),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div",29),e.nrm(33,"lucide-icon",32),e.j41(34,"div",31),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()(),e.j41(37,"div",29),e.nrm(38,"lucide-icon",33),e.j41(39,"div",31),e.EFF(40),e.nI1(41,"mytranslate"),e.k0s()(),e.j41(42,"div",29),e.nrm(43,"azt-svg-icon",34),e.j41(44,"div",28),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"div",29),e.nrm(48,"lucide-icon",35),e.j41(49,"div",31),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()(),e.j41(52,"div",29),e.nrm(53,"lucide-icon",36),e.j41(54,"div",31),e.EFF(55),e.nI1(56,"mytranslate"),e.k0s()(),e.j41(57,"div",37)(58,"button",38),e.bIt("click",function(){const d=e.eBV(n).$implicit,b=e.XpG(4);return e.Njj(b.choosePackage(d.id))}),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s()()()()()}if(2&t){const n=u.$implicit;e.Y8G("ngClass",e.l_i(54,Xd,12===n.totalMonth,12!==n.totalMonth)),e.R7$(7),e.SpI(" ",e.bMT(8,22,12===n.totalMonth?e.bMT(9,24,"lang_azt_by_year"):e.bMT(10,26,"lang_azt_by_month"))," "),e.R7$(5),e.SpI(" ",12===n.totalMonth?e.bMT(13,28,"lang_azt_pay")+" "+e.bMT(14,30,n.price)+" "+e.bMT(15,32,"lang_auto_vnd_upper")+" "+e.bMT(16,34,"lang_azt_every_year_equivalent"):e.bMT(17,36,"lang_azt_pay_today")," "),e.R7$(6),e.Y8G("ngIf",12===n.totalMonth),e.R7$(1),e.Y8G("ngIf",12!==n.totalMonth),e.R7$(1),e.Y8G("ngIf",12===n.totalMonth),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(26,38,"lang_azt_no_ads")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(31,40,"lang_auto_tai_de_thi_dinh_dang_docx")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(36,42,"lang_auto_tai_excel_ket_qua_thi_tren_50_hoc_sinh")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(41,44,"lang_auto_hoc_sinh_l\xe0m_de_thi_bai_tap_khong_co_quang_cao")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(46,46,"lang_auto_quan_ly_tai_khoan_hoc_sinh_tao_tai_khoan_doi_mat_khau")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(51,48,"lang_auto_duoc_dung_ngan_hang_phan_loai_cua_azota")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(56,50,"lang_auto_tu_dong_phan_tich_cau_truc_de_giup_danh_gia_nang_luc_hoc_sinh")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(57,Hd,12===n.totalMonth,12!==n.totalMonth)),e.R7$(1),e.SpI(" ",e.bMT(60,52,"lang_auth_use")," ")}}function Kd(t,u){if(1&t&&(e.j41(0,"div",14),e.DNE(1,Jd,61,60,"div",15),e.k0s()),2&t){const n=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",n.vipPackageList)}}function Zd(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",43)(1,"div",44),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",45)(5,"div",46)(6,"div",47),e.bIt("click",function(){e.eBV(n);const r=e.XpG(3);return e.Njj(r.onShowFile("images/vip-package/no_ads.png"))}),e.j41(7,"div",48),e.nrm(8,"img",49),e.nI1(9,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(10,"div",50)(11,"div",51),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",52),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.j41(17,"div",46)(18,"div",47),e.bIt("click",function(){e.eBV(n);const r=e.XpG(3);return e.Njj(r.onShowFile("images/vip-package/no_limit_export.png"))}),e.j41(19,"div",48),e.nrm(20,"img",49),e.nI1(21,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(22,"div",50)(23,"div",51),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"div",52),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()(),e.j41(29,"div",46)(30,"div",47),e.bIt("click",function(){e.eBV(n);const r=e.XpG(3);return e.Njj(r.onShowFile("images/vip-package/manager_account.png"))}),e.j41(31,"div",48),e.nrm(32,"img",49),e.nI1(33,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(34,"div",50)(35,"div",51),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s(),e.j41(38,"div",52),e.EFF(39),e.nI1(40,"mytranslate"),e.k0s()()()(),e.j41(41,"div",46)(42,"div",47),e.bIt("click",function(){e.eBV(n);const r=e.XpG(3);return e.Njj(r.onShowFile("images/vip-package/matrix_book.png"))}),e.j41(43,"div",48),e.nrm(44,"img",49),e.nI1(45,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(46,"div",50)(47,"div",51),e.EFF(48),e.nI1(49,"mytranslate"),e.k0s(),e.j41(50,"div",52),e.EFF(51),e.nI1(52,"mytranslate"),e.k0s()()()(),e.j41(53,"div",46)(54,"div",47),e.bIt("click",function(){e.eBV(n);const r=e.XpG(3);return e.Njj(r.onShowFile("images/vip-package/auto_ analysis_exam.png"))}),e.j41(55,"div",48),e.nrm(56,"img",49),e.nI1(57,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(58,"div",50)(59,"div",51),e.EFF(60),e.nI1(61,"mytranslate"),e.k0s(),e.j41(62,"div",52),e.EFF(63),e.nI1(64,"mytranslate"),e.k0s()()()()()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,16,"lang_azt_vip_upgrade_privileges")," "),e.R7$(6),e.Y8G("src",e.bMT(9,18,"images/vip-package/no_ads.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(13,20,"lang_azt_vip_upgrade_privilegs_one_title")," "),e.R7$(3),e.SpI(" ",e.bMT(16,22,"lang_azt_vip_upgrade_privilegs_one_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(21,24,"images/vip-package/no_limit_export.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(25,26,"lang_azt_vip_upgrade_privilegs_two_title")," "),e.R7$(3),e.SpI(" ",e.bMT(28,28,"lang_azt_vip_upgrade_privilegs_two_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(33,30,"images/vip-package/manager_account.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(37,32,"lang_azt_vip_upgrade_privilegs_three_title")," "),e.R7$(3),e.SpI(" ",e.bMT(40,34,"lang_azt_vip_upgrade_privilegs_three_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(45,36,"images/vip-package/matrix_book.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(49,38,"lang_azt_vip_upgrade_privilegs_four_title")," "),e.R7$(3),e.SpI(" ",e.bMT(52,40,"lang_azt_vip_upgrade_privilegs_four_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(57,42,"images/vip-package/auto_ analysis_exam.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(61,44,"lang_azt_vip_upgrade_privilegs_five_title")," "),e.R7$(3),e.SpI(" ",e.bMT(64,46,"lang_azt_vip_upgrade_privilegs_five_desc")," "))}function e_(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",56)(1,"div",57)(2,"div",58)(3,"div",59),e.nrm(4,"lucide-icon",60),e.k0s(),e.j41(5,"div",61)(6,"div",62),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",29)(10,"div",63),e.EFF(11),e.nI1(12,"formatMoney"),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",64),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.j41(17,"div",65),e.nrm(18,"azt-svg-icon",27),e.j41(19,"div",28),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()(),e.j41(22,"div",37)(23,"button",66),e.bIt("click",function(){const d=e.eBV(n).$implicit,b=e.XpG(4);return e.Njj(b.choosePackage(d.id))}),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()()()()}if(2&t){const n=u.$implicit;e.R7$(7),e.JRh(e.bMT(8,6,n.name)),e.R7$(4),e.SpI(" ",e.bMT(12,8,n.price)+" "+e.bMT(13,10,"lang_auto_vnd_upper")," "),e.R7$(4),e.SpI(" "," / "+n.totalMonth+" "+e.bMT(16,12,"lang_auto_"+n.timeUnit)," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(21,14,"lang_azt_no_ads")," "),e.R7$(4),e.SpI(" ",e.bMT(25,16,"lang_auth_use")," ")}}function t_(t,u){if(1&t&&(e.j41(0,"div",53),e.nrm(1,"div",54),e.DNE(2,e_,26,18,"div",55),e.k0s()),2&t){const n=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",n.vipPackageList)}}function n_(t,u){if(1&t&&(e.j41(0,"div",7),e.DNE(1,Bd,3,3,"div",8),e.DNE(2,Ud,1,1,"ng-container",9),e.DNE(3,Vd,1,1,"ng-container",9),e.DNE(4,Yd,1,1,"ng-container",9),e.k0s(),e.DNE(5,Kd,2,1,"ng-template",null,10,e.C5r),e.DNE(7,Zd,65,48,"ng-template",null,11,e.C5r),e.DNE(9,t_,3,1,"ng-template",null,12,e.C5r)),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!n.isMobileWebView),e.R7$(1),e.Y8G("ngIf",!n.isMobileWebView&&n.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",n.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!n.isMobileWebView&&!n.isTeacherDashboard)}}function i_(t,u){if(1&t&&(e.DNE(0,zd,1,1,"azt-loading-effect",4),e.DNE(1,n_,11,4,"ng-template",null,5,e.C5r)),2&t){const n=e.sdS(2),i=e.XpG();e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",n)}}const o_=[{path:"",component:Hc,children:[{path:"login",component:qc},{path:"login-scan/:role",component:wc},{path:"login-by-zalo",component:Xl},{path:"register",component:zl},{path:"register/:type",component:zl},{path:"choose-role",component:vo},{path:"required-phone-or-email",component:Td},{path:"logout",component:Xc},{path:"confirm_forgot_password",component:Ba},{path:"confirm-forgot-password-email",component:Io},{path:"forgot_password_success",component:k},{path:"confirm_forgot_password_qr",component:Or},{path:"confirm_forgot_password_old",component:Ha},{path:"confirm_account",component:Cr},{path:"checking_service",component:ba},{path:"set_new_password",component:jd},{path:"create-qr-forgot-pass/:role",component:_},{path:"change-email",component:va},{path:"account-setting/:roleType/:modeType",component:sa},{path:"go-to-mobile/:code",component:x},{path:"go-to-mobile/:code/:fromApp",component:x},{path:"login-by-openapi",component:ql},{path:"register-by-openapi/:type",component:Jc},{path:"register-for-organization",component:nd},{path:"register-for-business-old",component:Eu},{path:"thank-for-business",component:Dd},{path:"register-confirm",component:uu},{path:"vip-packages/:vipPackageType",component:(()=>{var t;class u extends Z.H{choosePackage(i){let r=this.commonService.getMyQueryParam("backTo")?this.commonService.getMyQueryParam("backTo"):void 0;const d=`userRole=${this.vipPackageType==mn.W.TEACHER?"teacher":"student"}&productType=vip_package&backTo=`+encodeURIComponent(r??this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyVipMemberGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),i,this.trackingKey,d).subscribe(b=>{if(!b.success)return this.errorStatusObj(b.message,!0);window.location.href=b.data?.value??"",this.successStatusObj()}))}onShowFile(i){(()=>{let w=window.pageYOffset||document.documentElement.scrollLeft,G=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=()=>{window.scrollTo(w,G)}})(),this.sAztDialogService.open(Nd.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{url:this.SAztCdnService.convertCdnLinkOfGitHub(i),mimes:"image/jpeg"},viewFullImageWithScroll:!0},restoreFocus:!1}).afterClosed().subscribe(w=>{window.onscroll=()=>{}})}getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.vipPackageService.apiVipPackageGetPackageObjsPost({vipPackageType:this.vipPackageType}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.vipPackageList=i.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.vipPackageType="teacherVip"==this.commonService.getMyParam(this.activeRoute,"vipPackageType")?mn.W.TEACHER:mn.W.STUDENT,this.isTeacherDashboard="teacherVip"==this.commonService.getMyParam(this.activeRoute,"vipPackageType"),this.backLink=this.commonService.getMyQueryParam("backto")??`/auth/account-setting/${this.vipPackageType==mn.W.TEACHER?0:1}/8`,this.trackingKey=this.commonService.getMyQueryParam("trackingKey")?this.commonService.getMyQueryParam("trackingKey"):void 0,this.getBusinessPackages()}constructor(i,r,d,b,w){super(),this.activeRoute=i,this.vipPackageService=r,this.productOrderService=d,this.sAztDialogService=b,this.SAztCdnService=w,this.vipPackageList=[],this.backLink="",this.allPackages=mn.W,this.isTeacherDashboard=!1,this.trackingKey=void 0}}return(t=u).\u0275fac=function(i){return new(i||t)(e.rXU(_e.nX),e.rXU(Ld.v),e.rXU(Lt.Hg),e.rXU(C.i),e.rXU(hl.B))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-vip-packages"]],features:[e.Vt3],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mx-auto","mt-8"],["class","text-center text-2xl font-medium",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["teacherVipTpl",""],["whyTeacherVipTpl",""],["studentVipTpl",""],[1,"text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8","mx-auto",2,"max-width","900px"],["class","col-span-12 md:col-span-6",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6",3,"ngClass"],[1,"intro-y","box","package-teacher","flex-1","w-full"],[1,"border-b","border-slate-200","dark:border-darkmode-400","p-5"],[1,"flex","items-center"],[1,"vip-icon","btn","btn-gradient-primary","mr-2",2,"width","40px","height","40px","font-size","20px","font-weight","600","font-style","italic"],["name","gem","size","20"],[1,"font-bold","text-2xl"],[1,"leading-relaxed","font-medium","mt-4"],["class","package-price mt-4",4,"ngIf"],["class","py-1 px-2 rounded-full text-xs bg-pending text-white cursor-pointer font-medium box-save",4,"ngIf"],[1,"p-5"],["type","noads",1,"mr-2","flex-none",3,"size"],[1,"ml-2","font-medium"],[1,"mt-2","flex","items-center"],["name","folder-down",1,"mr-2","flex-none",3,"size"],[1,"font-medium"],["name","file-down",1,"mr-2","flex-none",3,"size"],["name","file-pen-line",1,"mr-2","flex-none",3,"size"],["type","user-pen",1,"mr-2","flex-none",3,"size"],["name","landmark",1,"mr-2","flex-none",3,"size"],["name","layout-panel-top",1,"mr-2","flex-none",3,"size"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","w-full","px-4","py-3",3,"ngClass","click"],[1,"package-price","mt-4"],[1,"font-bold",2,"font-size","30px"],[1,"text-base","font-bold"],[1,"py-1","px-2","rounded-full","text-xs","bg-pending","text-white","cursor-pointer","font-medium","box-save"],[1,"mt-8","mx-auto"],[1,"text-2xl","font-medium","text-center"],[1,"grid","grid-cols-10","gap-5","mt-5"],[1,"col-span-12","md:col-span-5","lg:col-span-2","intro-x"],[1,"box","overflow-hidden","zoom-in","h-full",3,"click"],[1,"box-head","object-fit"],[1,"box-img",3,"src"],[1,"box-body","p-2"],[1,"text-base","font-medium"],[1,"mt-2","leading-relaxed","text-slate-500"],[1,"grid","grid-cols-12","gap-5","mt-8","mx-auto",2,"max-width","800px"],[1,"md:col-span-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center","pb-5","border-b","border-slate-200","dark:border-darkmode-400"],[1,"vip-icon","btn","btn-gradient-primary",2,"width","80px","height","80px","font-size","30px","font-weight","600","font-style","italic"],["name","gem","size","30"],[1,"ml-3"],[1,"text-xl","font-medium"],[1,"font-medium","text-lg","mr-1"],[1,"text-slate-500"],[1,"mt-5","flex","items-center"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(i,r){1&i&&(e.DNE(0,Gd,2,2,"teacher-layout",0),e.DNE(1,$d,2,2,"student-layout",0),e.DNE(2,i_,3,2,"ng-template",null,1,e.C5r)),2&i&&(e.Y8G("ngIf",r.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!r.isTeacherDashboard))},dependencies:[m.YU,m.Sq,m.bT,m.T3,I.K,en.m,f.Q,p.j,oe.WGl,O.wp,O.gt,O.t0],styles:[".package-teacher[_ngcontent-%COMP%]{position:relative}.box-save[_ngcontent-%COMP%]{position:absolute;top:-12px;right:20px}"]}),u})()},{path:"business-packages/:businessPackageType/:businessRegisterId/:businessRegisterHash",component:_o}]}];let r_=(()=>{var t;class u{}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[_e.iI.forChild(o_),_e.iI,Jt.XE]}),u})(),s_=(()=>{var t;class u{}return(t=u).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({providers:[{provide:xt.vn,useValue:et.c.azt_tiny_mce_script_src}],imports:[_e.iI,m.MD,v.YN,xt.sv,rn.s,v.X1,r_,Qt.Q,Ve.b,Ge.L,lt.xv,ht.Id,pe.initializeApp(et.c.firebaseConfig_app1,"auth"),oe.flO.pick(oe.Ptg),Ue.AC,pt,fn.Lk,Tt.An]}),u})()},69775:(Xe,be,y)=>{"use strict";y.d(be,{x:()=>le});var m=y(89163),c=y(33887),e=y(26860),F=y(2915),H=y(76975);let le=(()=>{var se;class K extends c._{confirmDelete(){this.btnCloseDialog(!0)}btnCloseDialog(S){this.dialogRef.close(S)}constructor(S,E){super(E,S),this.dialogRef=S,this.data=E}}return(se=K).\u0275fac=function(S){return new(S||se)(e.rXU(m.CP,8),e.rXU(m.Vh,8))},se.\u0275cmp=e.VBU({type:se,selectors:[["app-confirm-delete-logo"]],features:[e.Vt3],decls:14,vars:9,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"click"]],template:function(S,E){1&S&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()()(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return E.btnCloseDialog(!1)}),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return E.confirmDelete()}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()()),2&S&&(e.R7$(5),e.SpI(" ",e.bMT(6,3,"lang_business_config_are_your_sure_to_delete_this_logo")," "),e.R7$(4),e.SpI(" ",e.bMT(10,5,"lang_cms_common_close_btn")," "),e.R7$(3),e.SpI(" ",e.bMT(13,7,"lang_cms_common_confirm_btn")," "))},dependencies:[F.U,H.wp],encapsulation:2}),K})()},29660:(Xe,be,y)=>{"use strict";y.d(be,{_8:()=>se,d1:()=>K});var m=y(71217),c=y(17509),e=y(47947),F=y(26860),H=y(96699);class le{constructor(S,E,M,j,B=1,V=!1,$=!1,q,te){this.id=S,this.pr=E,this.type=M,this.item=j,this.level=B,this.expandable=V,this.isLoading=$,this.prNode=q,this.isLeaf=te}}let se=(()=>{var Q;class S{constructor(M){this.testMarketQuestionService=M,this.levelId=0,this.subjectId=0}initialData(M,j){return this.levelId=M,this.subjectId=j,new Promise(B=>{this.apiLeechData(void 0).then(V=>{B(V.map($=>new le($.id,$.pr,$.type,$.name,0,"cate"===$.type,!1,void 0,$.isLeaf)))})})}apiLeechData(M){return new Promise(j=>{const B=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,M).subscribe(V=>{1===V.success&&V.data&&(V.data.objs||[]).forEach(q=>{B.push({pr:M??0,id:q.id??0,name:q.name?`${q.name}`:"",type:"cate",isLeaf:q.isLeaf??!1})}),j(B)})})}}return(Q=S).\u0275fac=function(M){return new(M||Q)(F.KVO(H.e2))},Q.\u0275prov=F.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"}),S})();class K{get data(){return this.dataChange.value}set data(S){this._treeControl.dataNodes=S,this.dataChange.next(S)}constructor(S,E){this._treeControl=S,this._database=E,this.dataChange=new m.t([])}connect(S){return this._treeControl.expansionModel.changed.subscribe(E=>{(E.added||E.removed)&&this.handleTreeControl(E)}),(0,c.h)(S.viewChange,this.dataChange).pipe((0,e.T)(()=>this.data))}getNode(S){let E=this.data.filter(M=>M.id==S);return E&&E.length>0?E[0]:null}disconnect(S){}handleTreeControl(S){S.added&&S.added.forEach(E=>this.toggleNode(E,!0)),S.removed&&S.removed.slice().reverse().forEach(E=>this.toggleNode(E,!1))}toggleNode(S,E){if("cate"!==S.type)return;const M=this.data.indexOf(S);if(E)S.isLoading=!0,this._database.apiLeechData(S.id).then(j=>{const B=j.map(V=>new le(V.id,V.pr,V.type,V.name,S.level+1,"cate"===V.type,!1,S,V.isLeaf));this.data.splice(M+1,0,...B),this.dataChange.next(this.data),S.isLoading=!1});else{let j=0;for(let B=M+1;B<this.data.length&&this.data[B].level>S.level;B++,j++);this.data.splice(M+1,j),this.dataChange.next(this.data)}}}},10296:(Xe,be,y)=>{"use strict";y.d(be,{R:()=>se});var m=y(43277),e=y(18148),F=y(26860),H=y(52509),le=y(62095);let se=(()=>{var K;class Q{constructor(E,M){this.mobileWebviewService=E,this.commonService=M}shareFileWithBlob(E,M){if(this.commonService.isMobileWebview(void 0)){e.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let j=new FileReader;j.readAsDataURL(E),j.onloadend=()=>{let B=j.result;"string"==typeof B&&(this.mobileWebviewService.sendShareFileBase64(M,String(B)),e.L.closeLoadingEffect(100))}}else m.saveAs(E,M)}shareFileWithBase64(E,M){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(M,E):m.saveAs(E,M)}}return(K=Q).\u0275fac=function(E){return new(E||K)(F.KVO(H.f),F.KVO(le.R))},K.\u0275prov=F.jDH({token:K,factory:K.\u0275fac,providedIn:"root"}),Q})()},39763:(Xe,be,y)=>{"use strict";y.d(be,{m:()=>F});var m=y(26860),c=y(36484),e=y(62095);let F=(()=>{var H;class le{constructor(K,Q){this.userService=K,this.commonService=Q}checkLoginZalo(){if(!this.userService.isLogin())return!1;const K=this.userService.getUserObj();return!(!K.zaloId||K.phone&&10==K.phone.length||K.email&&-1!==K.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}}return(H=le).\u0275fac=function(K){return new(K||H)(m.KVO(c.R),m.KVO(e.R))},H.\u0275prov=m.jDH({token:H,factory:H.\u0275fac,providedIn:"root"}),le})()},18148:(Xe,be,y)=>{"use strict";y.d(be,{L:()=>m});let m=(()=>{var c;class e{static openLoadingEffect(H){e.getDomElement().style.display="flex",setTimeout(()=>{e.changeMsgLoadingEffect(H)},50)}static closeLoadingEffect(H){return new Promise(le=>{setTimeout(()=>{const se=e.getDomElement();se&&(se.style.display="none"),le(!0)},H)})}static changeMsgLoadingEffect(H){e.getDomContent().innerText=H}static getDomContent(){return document.getElementById(e.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(e.idComponent)??this.createDomElement()}static createDomElement(){const H=document.createElement("div");return H.id=e.idComponent,H.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),H.style.display="none",H.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${e.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(H),H}}return(c=e).idComponent="azt-status-loading-effect",c.idStatusContent="azt-status-loading-effect-content",e})()},40509:(Xe,be,y)=>{"use strict";y.d(be,{K:()=>Ae});var m=y(59640),c=y(26860),e=y(50589),F=y(65162),H=y(54460),le=y(61318),se=y(15343),K=y(19938),Q=y(76975);function S(X,ye){if(1&X&&(c.j41(0,"div",6),c.eu8(1,7),c.k0s()),2&X){c.XpG();const ge=c.sdS(6);c.R7$(1),c.Y8G("ngTemplateOutlet",ge)}}function E(X,ye){if(1&X&&(c.j41(0,"div",6),c.eu8(1,7),c.k0s()),2&X){c.XpG();const ge=c.sdS(8);c.R7$(1),c.Y8G("ngTemplateOutlet",ge)}}function M(X,ye){1&X&&c.SdG(0)}const j=function(){return{"mr-2":!0}};function B(X,ye){if(1&X){const ge=c.RV6();c.j41(0,"button",19),c.bIt("click",function(){c.eBV(ge);const ne=c.XpG(2);return c.Njj(ne.switchModeUI("dark"))}),c.nrm(1,"lucide-icon",20),c.j41(2,"span",21),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s()()}2&X&&(c.R7$(1),c.Y8G("ngClass",c.lJ4(4,j)),c.R7$(2),c.JRh(c.bMT(4,2,"lang_auto_che_de_toi")))}function V(X,ye){if(1&X){const ge=c.RV6();c.j41(0,"button",22),c.bIt("click",function(){c.eBV(ge);const ne=c.XpG(2);return c.Njj(ne.switchModeUI("light"))}),c.nrm(1,"lucide-icon",23),c.j41(2,"span"),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s()()}2&X&&(c.R7$(1),c.Y8G("ngClass",c.lJ4(4,j)),c.R7$(2),c.JRh(c.bMT(4,2,"lang_auto_che_de_sang")))}const $=function(X){return[X]};function q(X,ye){if(1&X&&(c.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"a",11),c.nI1(4,"navigationLocalize"),c.nrm(5,"img",12),c.nI1(6,"getLinkLogo"),c.k0s()(),c.j41(7,"div",13),c.nrm(8,"azt-switch-language"),c.k0s(),c.j41(9,"div",14),c.DNE(10,B,5,5,"button",15),c.DNE(11,V,5,5,"button",16),c.k0s()(),c.j41(12,"div",17)(13,"div")(14,"div",18),c.eu8(15,7),c.k0s()()()()),2&X){const ge=c.XpG(),Se=c.sdS(4);c.R7$(3),c.Y8G("routerLink",c.eq3(13,$,c.bMT(4,9,"/auth/login"))),c.R7$(2),c.Y8G("src",c.bMT(6,11,"bigLogo"),c.B4B),c.R7$(5),c.Y8G("ngIf","light"==ge.modeUI),c.R7$(1),c.Y8G("ngIf","dark"==ge.modeUI),c.R7$(2),c.Aen("max-width:"+ge.maxWidth),c.HbH(ge.contentBoxClass+(ge.removeBoxClass?"":" box mx-auto w-full")),c.R7$(2),c.Y8G("ngTemplateOutlet",Se)}}function te(X,ye){if(1&X&&(c.j41(0,"div",8)(1,"div",17)(2,"div")(3,"div",18),c.eu8(4,7),c.k0s()()()()),2&X){const ge=c.XpG(),Se=c.sdS(4);c.R7$(2),c.Aen("max-width:"+ge.maxWidth),c.HbH(ge.contentBoxClass+(ge.removeBoxClass?"":" box mx-auto w-full")),c.R7$(2),c.Y8G("ngTemplateOutlet",Se)}}const Le=["*"];let Ae=(()=>{var X;class ye extends m.H{switchModeUI(Se){let ne=document.getElementById("azota-app-html");ne&&(this.modeUI=Se,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(ne.classList.remove("dark"),ne.classList.add("light")):(ne.classList.remove("light"),ne.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(Se){super(),this.browserStorageService=Se,this.maxWidth="500px",this.contentBoxClass="p-5",this.removeBoxClass=!1,this.modeUI="",this.initStatusObj()}}return(X=ye).\u0275fac=function(Se){return new(Se||X)(c.rXU(e.z))},X.\u0275cmp=c.VBU({type:X,selectors:[["auth-layout"]],inputs:{maxWidth:"maxWidth",contentBoxClass:"contentBoxClass",removeBoxClass:"removeBoxClass"},features:[c.Vt3],ngContentSelectors:Le,decls:11,vars:2,consts:[[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden"],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","moon","size","20",3,"ngClass"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","sun","size","20",3,"ngClass"]],template:function(Se,ne){1&Se&&(c.NAR(),c.j41(0,"div",0),c.DNE(1,S,2,1,"div",1),c.DNE(2,E,2,1,"div",1),c.k0s(),c.DNE(3,M,1,0,"ng-template",null,2,c.C5r),c.DNE(5,q,16,15,"ng-template",null,3,c.C5r),c.DNE(7,te,5,5,"ng-template",null,4,c.C5r),c.j41(9,"div",5),c.nrm(10,"header-setting-color"),c.k0s()),2&Se&&(c.R7$(1),c.Y8G("ngIf",!ne.isMobileWebView&&!ne.statusObj.loading),c.R7$(1),c.Y8G("ngIf",ne.isMobileWebView&&!ne.statusObj.loading))},dependencies:[F.Wk,H.YU,H.bT,H.T3,le.V,se.WGl,K.o,Q.F2,Q.wp,Q.ph],encapsulation:2}),ye})()},46247:(Xe,be,y)=>{"use strict";y.d(be,{l:()=>E});var m=y(10936),c=y(89163),e=y(33887),F=y(26860),H=y(54460),le=y(15343),se=y(2915),K=y(76975);function Q(M,j){if(1&M&&(F.j41(0,"div",12),F.nrm(1,"input",13),F.j41(2,"label",14),F.EFF(3),F.nI1(4,"mytranslate"),F.k0s()()),2&M){const B=F.XpG();F.R7$(1),F.Y8G("formControl",B.isHiddenShowAgain),F.R7$(2),F.JRh(F.bMT(4,2,"lang_testbank_create_exam_width_file_pdf_not_view"))}}const S=function(){return{"mr-2 text-pending":!0}};let E=(()=>{var M;class j extends e._{handleCloseDialog(){this.dialogRef.close(this.isHiddenShowAgain.value)}constructor(V,$){super($,V),this.dialogRef=V,this.data=$,this.isHiddenShowAgain=new m.MJ(!1,{nonNullable:!0})}}return(M=j).\u0275fac=function(V){return new(V||M)(F.rXU(c.CP,8),F.rXU(c.Vh,8))},M.\u0275cmp=F.VBU({type:M,selectors:[["azt-dialog-warning"]],features:[F.Vt3],decls:16,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-base","font-medium","flex","items-center","p-3","pb-0"],["name","octagon-alert","size","24",3,"ngClass"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-md","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","flex","items-cennter"],["class","form-check",4,"ngIf"],[1,"ml-auto"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"],[1,"form-check"],["id","is-not-show-again","type","checkbox",1,"form-check-input",3,"formControl"],["for","is-not-show-again",1,"form-check-label"]],template:function(V,$){1&V&&(F.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),F.nrm(4,"lucide-icon",4),F.EFF(5),F.nI1(6,"mytranslate"),F.k0s(),F.j41(7,"div",5)(8,"azt-mat-dialog-content",6),F.nrm(9,"div",7),F.k0s()()()(),F.j41(10,"div",8),F.DNE(11,Q,5,4,"div",9),F.j41(12,"div",10)(13,"button",11),F.bIt("click",function(){return $.handleCloseDialog()}),F.EFF(14),F.nI1(15,"mytranslate"),F.k0s()()()()),2&V&&(F.R7$(4),F.Y8G("ngClass",F.lJ4(10,S)),F.R7$(1),F.SpI(" ",F.bMT(6,6,"lang_auto_canh_bao")," "),F.R7$(3),F.Y8G("defaultHeight",60),F.R7$(1),F.Y8G("innerHtml",$.data.content,F.npT),F.R7$(2),F.Y8G("ngIf",$.data.isUsingDoneShowAgain),F.R7$(3),F.SpI(" ",F.bMT(15,8,"lang_auto_dong")," "))},dependencies:[H.YU,H.bT,m.Zm,m.BC,m.l_,le.WGl,se.U,K.wp],encapsulation:2}),j})()},74175:(Xe,be,y)=>{"use strict";y.d(be,{W:()=>M});var m=y(47947),c=y(59640),e=y(26860),F=y(10296),H=y(62095),le=y(27691),se=y(54460),K=y(76975);function Q(j,B){if(1&j){const V=e.RV6();e.qex(0),e.j41(1,"a",2),e.bIt("click",function(){e.eBV(V);const q=e.XpG();return e.Njj(q.shareFileToFlutter())}),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.SdG(5),e.k0s(),e.bVm()}if(2&j){const V=e.XpG();e.R7$(1),e.Aen(V.style),e.HbH(V.classStyle),e.FS9("target",V.target),e.R7$(2),e.JRh(e.bMT(4,7,V.fileDescription))}}function S(j,B){if(1&j&&(e.j41(0,"a",3)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.SdG(4,1),e.k0s()),2&j){const V=e.XpG();e.Aen(V.style),e.HbH(V.classStyle),e.FS9("href",V.dataUrl,e.B4B),e.FS9("target",V.target),e.FS9("download",V.fileName),e.R7$(2),e.JRh(e.bMT(3,9,V.fileDescription))}}const E=["*","*"];let M=(()=>{var j;class B extends c.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,m.T)($=>$))}shareFileToFlutter(){this.downloadFile().subscribe($=>{this.shareFileFlutterService.shareFileWithBlob($,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor($,q,te){super(),this.shareFileFlutterService=$,this.commonService=q,this.http=te,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return(j=B).\u0275fac=function($){return new($||j)(e.rXU(F.R),e.rXU(H.R),e.rXU(le.Qq))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[e.Vt3],ngContentSelectors:E,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function($,q){if(1&$&&(e.NAR(E),e.DNE(0,Q,6,9,"ng-container",0),e.DNE(1,S,5,11,"ng-template",null,1,e.C5r)),2&$){const te=e.sdS(2);e.Y8G("ngIf",q.isMobileWebView)("ngIfElse",te)}},dependencies:[se.bT,K.wp],encapsulation:2}),B})()},20013:(Xe,be,y)=>{"use strict";y.d(be,{T:()=>K});var m=y(26860),c=y(9516),e=y(54460),F=y(52811);function H(Q,S){1&Q&&m.SdG(0,0,["*ngIf","!isUploadFile"])}function le(Q,S){1&Q&&(m.j41(0,"span",5),m.nrm(1,"azt-loading-ui"),m.k0s())}const se=["*"];let K=(()=>{var Q;class S extends c.L{constructor(){super(...arguments),this.uploadComplete=new m.bkB}emitUploadComplete(M){M.length>0&&this.uploadComplete.emit(M[0])}}return(Q=S).\u0275fac=function(){let E;return function(j){return(E||(E=m.xGo(Q)))(j||Q)}}(),Q.\u0275cmp=m.VBU({type:Q,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[m.Vt3],ngContentSelectors:se,decls:6,vars:3,consts:[[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"accept","change","cancel"],["formChoseFile",""],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(M,j){if(1&M){const B=m.RV6();m.NAR(),m.j41(0,"div",0),m.bIt("click",function(){m.eBV(B);const $=m.sdS(2);return m.Njj(j.onOpenFileDictionary()&&$.click())}),m.j41(1,"input",1,2),m.bIt("change",function($){return j.onFileSelected($)})("cancel",function($){return j.onCancelSelect($)}),m.k0s(),m.DNE(3,H,1,0,"ng-content",3),m.j41(4,"div"),m.DNE(5,le,2,0,"span",4),m.k0s()()}2&M&&(m.R7$(1),m.FS9("accept",j.fileType),m.R7$(2),m.Y8G("ngIf",!j.isUploadFile),m.R7$(2),m.Y8G("ngIf",j.isUploadFile))},dependencies:[e.bT,F.R],encapsulation:2}),S})()},97730:(Xe,be,y)=>{"use strict";y.d(be,{$:()=>en,A:()=>E,E:()=>B,J:()=>Xo,K:()=>an,M:()=>jt,P:()=>fa,Q:()=>P,R:()=>_a,U:()=>ki,V:()=>ls,W:()=>cs,X:()=>us,Y:()=>In,Z:()=>Gn,_:()=>er,a:()=>to,a0:()=>Bn,a1:()=>sr,a2:()=>ar,a3:()=>hs,a4:()=>gs,a5:()=>fs,a6:()=>vs,a7:()=>lr,a8:()=>bs,a9:()=>ys,aA:()=>ye,aB:()=>N,aC:()=>Sr,aD:()=>p,aE:()=>U,aF:()=>Bt,aG:()=>Cr,aH:()=>wa,aI:()=>De,aM:()=>Rn,aP:()=>cn,aa:()=>Is,ab:()=>Cs,ac:()=>ks,ad:()=>Ss,ae:()=>Rs,af:()=>Es,ag:()=>ws,aj:()=>xs,ak:()=>As,al:()=>Os,ao:()=>ms,ap:()=>Ns,ar:()=>$s,as:()=>Ys,at:()=>Me,au:()=>T,av:()=>ue,aw:()=>X,ax:()=>Mo,ay:()=>Er,az:()=>L,b:()=>mr,c:()=>Ca,d:()=>Sa,e:()=>ka,f:()=>Ro,g:()=>Fa,h:()=>Aa,i:()=>vr,j:()=>ja,k:()=>xr,l:()=>xn,m:()=>rl,p:()=>K,r:()=>ha,s:()=>pa,u:()=>ga});var m=y(73014),c=y(94200),e=y(24788),F=y(56094),H=y(31635),le=y(12248);const K={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},E={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const B=function M(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},V=function j(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$=new c.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),te=new F.Vy("@firebase/auth");function Ae(a,...o){te.logLevel<=F.$b.ERROR&&te.error(`Auth (${e.SDK_VERSION}): ${a}`,...o)}function X(a,...o){throw ne(a,...o)}function ye(a,...o){return ne(a,...o)}function ge(a,o,s){const l=Object.assign(Object.assign({},V()),{[o]:s});return new c.FA("auth","Firebase",l).create(o,{appName:a.name})}function Se(a,o,s){if(!(o instanceof s))throw s.name!==o.constructor.name&&X(a,"argument-error"),ge(a,"argument-error",`Type of ${o.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ne(a,...o){if("string"!=typeof a){const s=o[0],l=[...o.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(s,...l)}return $.create(a,...o)}function N(a,o,...s){if(!a)throw ne(o,...s)}function fe(a){const o="INTERNAL ASSERTION FAILED: "+a;throw Ae(o),new Error(o)}function Me(a,o){a||fe(o)}function je(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.href)||""}function dt(){return"http:"===Et()||"https:"===Et()}function Et(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.protocol)||null}class vt{constructor(o,s){this.shortDelay=o,this.longDelay=s,Me(s>o,"Short delay should be less than long delay!"),this.isMobile=(0,c.jZ)()||(0,c.lV)()}get(){return function kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,c.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(a,o){Me(a.emulator,"Emulator should always be set here");const{url:s}=a.emulator;return o?`${s}${o.startsWith("/")?o.slice(1):o}`:s}class ot{static initialize(o,s,l){this.fetchImpl=o,s&&(this.headersImpl=s),l&&(this.responseImpl=l)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Wt=new vt(3e4,6e4);function Ee(a,o){return a.tenantId&&!o.tenantId?Object.assign(Object.assign({},o),{tenantId:a.tenantId}):o}function Ie(a,o,s,l){return bt.apply(this,arguments)}function bt(){return(bt=(0,m.A)(function*(a,o,s,l,_={}){return rt(a,_,(0,m.A)(function*(){let h={},k={};l&&("GET"===o?k=l:h={body:JSON.stringify(l)});const x=(0,c.Am)(Object.assign({key:a.config.apiKey},k)).slice(1),D=yield a._getAdditionalHeaders();return D["Content-Type"]="application/json",a.languageCode&&(D["X-Firebase-Locale"]=a.languageCode),ot.fetch()(Y(a,a.config.apiHost,s,x),Object.assign({method:o,headers:D,referrerPolicy:"no-referrer"},h))}))})).apply(this,arguments)}function rt(a,o,s){return _t.apply(this,arguments)}function _t(){return(_t=(0,m.A)(function*(a,o,s){a._canInitEmulator=!1;const l=Object.assign(Object.assign({},wt),o);try{const _=new pe(a),h=yield Promise.race([s(),_.promise]);_.clearNetworkTimeout();const k=yield h.json();if("needConfirmation"in k)throw he(a,"account-exists-with-different-credential",k);if(h.ok&&!("errorMessage"in k))return k;{const x=h.ok?k.errorMessage:k.error.message,[D,W]=x.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===D)throw he(a,"credential-already-in-use",k);if("EMAIL_EXISTS"===D)throw he(a,"email-already-in-use",k);if("USER_DISABLED"===D)throw he(a,"user-disabled",k);const ee=l[D]||D.toLowerCase().replace(/[_\s]+/g,"-");if(W)throw ge(a,ee,W);X(a,ee)}}catch(_){if(_ instanceof c.g)throw _;X(a,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Be(a,o,s,l){return St.apply(this,arguments)}function St(){return(St=(0,m.A)(function*(a,o,s,l,_={}){const h=yield Ie(a,o,s,l,_);return"mfaPendingCredential"in h&&X(a,"multi-factor-auth-required",{_serverResponse:h}),h})).apply(this,arguments)}function Y(a,o,s,l){const _=`${o}${s}?${l}`;return a.config.emulator?Nt(a.config,_):`${a.config.apiScheme}://${_}`}function Fe(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pe{constructor(o){this.auth=o,this.timer=null,this.promise=new Promise((s,l)=>{this.timer=setTimeout(()=>l(ye(this.auth,"network-request-failed")),Wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function he(a,o,s){const l={appName:a.name};s.email&&(l.email=s.email),s.phoneNumber&&(l.phoneNumber=s.phoneNumber);const _=ye(a,o,l);return _.customData._tokenResponse=s,_}function z(a){return void 0!==a&&void 0!==a.getResponse}function Pe(a){return void 0!==a&&void 0!==a.enterprise}class $e{constructor(o){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===o.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=o.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=o.recaptchaEnforcementState}getProviderEnforcementState(o){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===o)return Fe(s.enforcementState);return null}isProviderEnabled(o){return"ENFORCE"===this.getProviderEnforcementState(o)||"AUDIT"===this.getProviderEnforcementState(o)}}function _e(){return(_e=(0,m.A)(function*(a){return(yield Ie(a,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xt(a,o){return oe.apply(this,arguments)}function oe(){return(oe=(0,m.A)(function*(a,o){return Ie(a,"GET","/v2/recaptchaConfig",Ee(a,o))})).apply(this,arguments)}function Ot(){return(Ot=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:delete",o)})).apply(this,arguments)}function mt(){return(mt=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:update",o)})).apply(this,arguments)}function pt(){return(pt=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:lookup",o)})).apply(this,arguments)}function yt(a){if(a)try{const o=new Date(Number(a));if(!isNaN(o.getTime()))return o.toUTCString()}catch{}}function lt(){return(lt=(0,m.A)(function*(a,o=!1){const s=(0,c.Ku)(a),l=yield s.getIdToken(o),_=ht(l);N(_&&_.exp&&_.auth_time&&_.iat,s.auth,"internal-error");const h="object"==typeof _.firebase?_.firebase:void 0,k=h?.sign_in_provider;return{claims:_,token:l,authTime:yt(Tt(_.auth_time)),issuedAtTime:yt(Tt(_.iat)),expirationTime:yt(Tt(_.exp)),signInProvider:k||null,signInSecondFactor:h?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(a){return 1e3*Number(a)}function ht(a){const[o,s,l]=a.split(".");if(void 0===o||void 0===s||void 0===l)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,c.u)(s);return _?JSON.parse(_):(Ae("Failed to decode base64 JWT payload"),null)}catch(_){return Ae("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ge(a,o){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,m.A)(function*(a,o,s=!1){if(s)return o;try{return yield o}catch(l){throw l instanceof c.g&&function Qt({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}(l)&&a.auth.currentUser===a&&(yield a.auth.signOut()),l}})).apply(this,arguments)}class et{constructor(o){this.user=o,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(o){var s;if(o){const l=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),l}{this.errorBackoff=3e4;const _=(null!==(s=this.user.stsTokenManager.expirationTime)&&void 0!==s?s:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(o=!1){var s=this;if(!this.isRunning)return;const l=this.getInterval(o);this.timerId=setTimeout((0,m.A)(function*(){yield s.iteration()}),l)}iteration(){var o=this;return(0,m.A)(function*(){try{yield o.user.getIdToken(!0)}catch(s){return void("auth/network-request-failed"===s?.code&&o.schedule(!0))}o.schedule()})()}}class Jt{constructor(o,s){this.createdAt=o,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=yt(this.lastLoginAt),this.creationTime=yt(this.createdAt)}_copy(o){this.createdAt=o.createdAt,this.lastLoginAt=o.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ne(a){return at.apply(this,arguments)}function at(){return at=(0,m.A)(function*(a){var o;const s=a.auth,l=yield a.getIdToken(),_=yield Ge(a,function st(a,o){return pt.apply(this,arguments)}(s,{idToken:l}));N(_?.users.length,s,"internal-error");const h=_.users[0];a._notifyReloadListener(h);const k=null!==(o=h.providerUserInfo)&&void 0!==o&&o.length?function He(a){return a.map(o=>{var{providerId:s}=o,l=(0,H.Tt)(o,["providerId"]);return{providerId:s,uid:l.rawId||"",displayName:l.displayName||null,email:l.email||null,phoneNumber:l.phoneNumber||null,photoURL:l.photoUrl||null}})}(h.providerUserInfo):[],x=function Kt(a,o){return[...a.filter(l=>!o.some(_=>_.providerId===l.providerId)),...o]}(a.providerData,k),ee=!!a.isAnonymous&&!(a.email&&h.passwordHash||x?.length),Ce={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:x,metadata:new Jt(h.createdAt,h.lastLoginAt),isAnonymous:ee};Object.assign(a,Ce)}),at.apply(this,arguments)}function gt(){return(gt=(0,m.A)(function*(a){const o=(0,c.Ku)(a);yield Ne(o),yield o.auth._persistUserIfCurrent(o),o.auth._notifyListenersIfCurrent(o)})).apply(this,arguments)}function Rt(){return(Rt=(0,m.A)(function*(a,o){const s=yield rt(a,{},(0,m.A)(function*(){const l=(0,c.Am)({grant_type:"refresh_token",refresh_token:o}).slice(1),{tokenApiHost:_,apiKey:h}=a.config,k=Y(a,_,"/v1/token",`key=${h}`),x=yield a._getAdditionalHeaders();return x["Content-Type"]="application/x-www-form-urlencoded",ot.fetch()(k,{method:"POST",headers:x,body:l})}));return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}})).apply(this,arguments)}class C{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(o){N(o.idToken,"internal-error"),N(typeof o.idToken<"u","internal-error"),N(typeof o.refreshToken<"u","internal-error");const s="expiresIn"in o&&typeof o.expiresIn<"u"?Number(o.expiresIn):function rn(a){const o=ht(a);return N(o,"internal-error"),N(typeof o.exp<"u","internal-error"),N(typeof o.iat<"u","internal-error"),Number(o.exp)-Number(o.iat)}(o.idToken);this.updateTokensAndExpiration(o.idToken,o.refreshToken,s)}getToken(o,s=!1){var l=this;return(0,m.A)(function*(){return N(!l.accessToken||l.refreshToken,o,"user-token-expired"),s||!l.accessToken||l.isExpired?l.refreshToken?(yield l.refresh(o,l.refreshToken),l.accessToken):null:l.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(o,s){var l=this;return(0,m.A)(function*(){const{accessToken:_,refreshToken:h,expiresIn:k}=yield function ct(a,o){return Rt.apply(this,arguments)}(o,s);l.updateTokensAndExpiration(_,h,Number(k))})()}updateTokensAndExpiration(o,s,l){this.refreshToken=s||null,this.accessToken=o||null,this.expirationTime=Date.now()+1e3*l}static fromJSON(o,s){const{refreshToken:l,accessToken:_,expirationTime:h}=s,k=new C;return l&&(N("string"==typeof l,"internal-error",{appName:o}),k.refreshToken=l),_&&(N("string"==typeof _,"internal-error",{appName:o}),k.accessToken=_),h&&(N("number"==typeof h,"internal-error",{appName:o}),k.expirationTime=h),k}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(o){this.accessToken=o.accessToken,this.refreshToken=o.refreshToken,this.expirationTime=o.expirationTime}_clone(){return Object.assign(new C,this.toJSON())}_performRefresh(){return fe("not implemented")}}function I(a,o){N("string"==typeof a||typeof a>"u","internal-error",{appName:o})}class g{constructor(o){var{uid:s,auth:l,stsTokenManager:_}=o,h=(0,H.Tt)(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=l,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Jt(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(o){var s=this;return(0,m.A)(function*(){const l=yield Ge(s,s.stsTokenManager.getToken(s.auth,o));return N(l,s.auth,"internal-error"),s.accessToken!==l&&(s.accessToken=l,yield s.auth._persistUserIfCurrent(s),s.auth._notifyListenersIfCurrent(s)),l})()}getIdTokenResult(o){return function Ue(a){return lt.apply(this,arguments)}(this,o)}reload(){return function Z(a){return gt.apply(this,arguments)}(this)}_assign(o){this!==o&&(N(this.uid===o.uid,this.auth,"internal-error"),this.displayName=o.displayName,this.photoURL=o.photoURL,this.email=o.email,this.emailVerified=o.emailVerified,this.phoneNumber=o.phoneNumber,this.isAnonymous=o.isAnonymous,this.tenantId=o.tenantId,this.providerData=o.providerData.map(s=>Object.assign({},s)),this.metadata._copy(o.metadata),this.stsTokenManager._assign(o.stsTokenManager))}_clone(o){const s=new g(Object.assign(Object.assign({},this),{auth:o,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(o){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=o,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(o){this.reloadListener?this.reloadListener(o):this.reloadUserInfo=o}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(o,s=!1){var l=this;return(0,m.A)(function*(){let _=!1;o.idToken&&o.idToken!==l.stsTokenManager.accessToken&&(l.stsTokenManager.updateFromServerResponse(o),_=!0),s&&(yield Ne(l)),yield l.auth._persistUserIfCurrent(l),_&&l.auth._notifyListenersIfCurrent(l)})()}delete(){var o=this;return(0,m.A)(function*(){const s=yield o.getIdToken();return yield Ge(o,function At(a,o){return Ot.apply(this,arguments)}(o.auth,{idToken:s})),o.stsTokenManager.clearRefreshToken(),o.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(o=>Object.assign({},o)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(o,s){var l,_,h,k,x,D,W,ee;const Ce=null!==(l=s.displayName)&&void 0!==l?l:void 0,nt=null!==(_=s.email)&&void 0!==_?_:void 0,on=null!==(h=s.phoneNumber)&&void 0!==h?h:void 0,ni=null!==(k=s.photoURL)&&void 0!==k?k:void 0,Pn=null!==(x=s.tenantId)&&void 0!==x?x:void 0,ii=null!==(D=s._redirectEventId)&&void 0!==D?D:void 0,$o=null!==(W=s.createdAt)&&void 0!==W?W:void 0,Mr=null!==(ee=s.lastLoginAt)&&void 0!==ee?ee:void 0,{uid:Dt,emailVerified:jn,isAnonymous:zo,providerData:Bo,stsTokenManager:Uo}=s;N(Dt&&Uo,o,"internal-error");const dl=C.fromJSON(this.name,Uo);N("string"==typeof Dt,o,"internal-error"),I(Ce,o.name),I(nt,o.name),N("boolean"==typeof jn,o,"internal-error"),N("boolean"==typeof zo,o,"internal-error"),I(on,o.name),I(ni,o.name),I(Pn,o.name),I(ii,o.name),I($o,o.name),I(Mr,o.name);const Vo=new g({uid:Dt,auth:o,email:nt,emailVerified:jn,displayName:Ce,isAnonymous:zo,photoURL:ni,phoneNumber:on,tenantId:Pn,stsTokenManager:dl,createdAt:$o,lastLoginAt:Mr});return Bo&&Array.isArray(Bo)&&(Vo.providerData=Bo.map(_l=>Object.assign({},_l))),ii&&(Vo._redirectEventId=ii),Vo}static _fromIdTokenResponse(o,s,l=!1){return(0,m.A)(function*(){const _=new C;_.updateFromServerResponse(s);const h=new g({uid:s.localId,auth:o,stsTokenManager:_,isAnonymous:l});return yield Ne(h),h})()}}const f=new Map;function p(a){Me(a instanceof Function,"Expected a class definition");let o=f.get(a);return o?(Me(o instanceof a,"Instance stored in cache mismatched with class"),o):(o=new a,f.set(a,o),o)}const P=(()=>{class a{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.A)(function*(){return!0})()}_set(s,l){var _=this;return(0,m.A)(function*(){_.storage[s]=l})()}_get(s){var l=this;return(0,m.A)(function*(){const _=l.storage[s];return void 0===_?null:_})()}_remove(s){var l=this;return(0,m.A)(function*(){delete l.storage[s]})()}_addListener(s,l){}_removeListener(s,l){}}return a.type="NONE",a})();function U(a,o,s){return`firebase:${a}:${o}:${s}`}class ie{constructor(o,s,l){this.persistence=o,this.auth=s,this.userKey=l;const{config:_,name:h}=this.auth;this.fullUserKey=U(this.userKey,_.apiKey,h),this.fullPersistenceKey=U("persistence",_.apiKey,h),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(o){return this.persistence._set(this.fullUserKey,o.toJSON())}getCurrentUser(){var o=this;return(0,m.A)(function*(){const s=yield o.persistence._get(o.fullUserKey);return s?g._fromJSON(o.auth,s):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(o){var s=this;return(0,m.A)(function*(){if(s.persistence===o)return;const l=yield s.getCurrentUser();return yield s.removeCurrentUser(),s.persistence=o,l?s.setCurrentUser(l):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(o,s,l="authUser"){return(0,m.A)(function*(){if(!s.length)return new ie(p(P),o,l);const _=(yield Promise.all(s.map(function(){var W=(0,m.A)(function*(ee){if(yield ee._isAvailable())return ee});return function(ee){return W.apply(this,arguments)}}()))).filter(W=>W);let h=_[0]||p(P);const k=U(l,o.config.apiKey,o.name);let x=null;for(const W of s)try{const ee=yield W._get(k);if(ee){const Ce=g._fromJSON(o,ee);W!==h&&(x=Ce),h=W;break}}catch{}const D=_.filter(W=>W._shouldAllowMigration);return h._shouldAllowMigration&&D.length?(h=D[0],x&&(yield h._set(k,x.toJSON())),yield Promise.all(s.map(function(){var W=(0,m.A)(function*(ee){if(ee!==h)try{yield ee._remove(k)}catch{}});return function(ee){return W.apply(this,arguments)}}())),new ie(h,o,l)):new ie(h,o,l)})()}}function ce(a){const o=a.toLowerCase();if(o.includes("opera/")||o.includes("opr/")||o.includes("opios/"))return"Opera";if(me(o))return"IEMobile";if(o.includes("msie")||o.includes("trident/"))return"IE";if(o.includes("edge/"))return"Edge";if(Te(o))return"Firefox";if(o.includes("silk/"))return"Silk";if(Ft(o))return"Blackberry";if(A(o))return"Webos";if(J(o))return"Safari";if((o.includes("chrome/")||we(o))&&!o.includes("edge/"))return"Chrome";if(ue(o))return"Android";{const l=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===l?.length)return l[1]}return"Other"}function Te(a=(0,c.ZQ)()){return/firefox\//i.test(a)}function J(a=(0,c.ZQ)()){const o=a.toLowerCase();return o.includes("safari/")&&!o.includes("chrome/")&&!o.includes("crios/")&&!o.includes("android")}function we(a=(0,c.ZQ)()){return/crios\//i.test(a)}function me(a=(0,c.ZQ)()){return/iemobile/i.test(a)}function ue(a=(0,c.ZQ)()){return/android/i.test(a)}function Ft(a=(0,c.ZQ)()){return/blackberry/i.test(a)}function A(a=(0,c.ZQ)()){return/webos/i.test(a)}function T(a=(0,c.ZQ)()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function L(a=(0,c.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(a)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(a)}function ve(a=(0,c.ZQ)()){return T(a)||ue(a)||A(a)||Ft(a)||/windows phone/i.test(a)||me(a)}function Ke(a,o=[]){let s;switch(a){case"Browser":s=ce((0,c.ZQ)());break;case"Worker":s=`${ce((0,c.ZQ)())}-${a}`;break;default:s=a}const l=o.length?o.join(","):"FirebaseCore-web";return`${s}/JsCore/${e.SDK_VERSION}/${l}`}class We{constructor(o){this.auth=o,this.queue=[]}pushCallback(o,s){const l=h=>new Promise((k,x)=>{try{k(o(h))}catch(D){x(D)}});l.onAbort=s,this.queue.push(l);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(o){var s=this;return(0,m.A)(function*(){if(s.auth.currentUser===o)return;const l=[];try{for(const _ of s.queue)yield _(o),_.onAbort&&l.push(_.onAbort)}catch(_){l.reverse();for(const h of l)try{h()}catch{}throw s.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Zt(){return(Zt=(0,m.A)(function*(a,o={}){return Ie(a,"GET","/v2/passwordPolicy",Ee(a,o))})).apply(this,arguments)}class Gr{constructor(o){var s,l,_,h;const k=o.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(s=k.minPasswordLength)&&void 0!==s?s:6,k.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=k.maxPasswordLength),void 0!==k.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=k.containsLowercaseCharacter),void 0!==k.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=k.containsUppercaseCharacter),void 0!==k.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=k.containsNumericCharacter),void 0!==k.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=k.containsNonAlphanumericCharacter),this.enforcementState=o.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(l=o.allowedNonAlphanumericCharacters)||void 0===l?void 0:l.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(h=o.forceUpgradeOnSignin)&&void 0!==h&&h,this.schemaVersion=o.schemaVersion}validatePassword(o){var s,l,_,h,k,x;const D={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(o,D),this.validatePasswordCharacterOptions(o,D),D.isValid&&(D.isValid=null===(s=D.meetsMinPasswordLength)||void 0===s||s),D.isValid&&(D.isValid=null===(l=D.meetsMaxPasswordLength)||void 0===l||l),D.isValid&&(D.isValid=null===(_=D.containsLowercaseLetter)||void 0===_||_),D.isValid&&(D.isValid=null===(h=D.containsUppercaseLetter)||void 0===h||h),D.isValid&&(D.isValid=null===(k=D.containsNumericCharacter)||void 0===k||k),D.isValid&&(D.isValid=null===(x=D.containsNonAlphanumericCharacter)||void 0===x||x),D}validatePasswordLengthOptions(o,s){const l=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;l&&(s.meetsMinPasswordLength=o.length>=l),_&&(s.meetsMaxPasswordLength=o.length<=_)}validatePasswordCharacterOptions(o,s){let l;this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);for(let _=0;_<o.length;_++)l=o.charAt(_),this.updatePasswordCharacterOptionsStatuses(s,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(o,s,l,_,h){this.customStrengthOptions.containsLowercaseLetter&&(o.containsLowercaseLetter||(o.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(o.containsUppercaseLetter||(o.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(o.containsNumericCharacter||(o.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(o.containsNonAlphanumericCharacter||(o.containsNonAlphanumericCharacter=h))}}class $r{constructor(o,s,l,_){this.app=o,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=l,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yo(this),this.idTokenSubscription=new Yo(this),this.beforeStateQueue=new We(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=o.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(o,s){var l=this;return s&&(this._popupRedirectResolver=p(s)),this._initializationPromise=this.queue((0,m.A)(function*(){var _,h;if(!l._deleted&&(l.persistenceManager=yield ie.create(l,o),!l._deleted)){if(null!==(_=l._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield l._popupRedirectResolver._initialize(l)}catch{}yield l.initializeCurrentUser(s),l.lastNotifiedUid=(null===(h=l.currentUser)||void 0===h?void 0:h.uid)||null,!l._deleted&&(l._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var o=this;return(0,m.A)(function*(){if(o._deleted)return;const s=yield o.assertedPersistence.getCurrentUser();if(o.currentUser||s){if(o.currentUser&&s&&o.currentUser.uid===s.uid)return o._currentUser._assign(s),void(yield o.currentUser.getIdToken());yield o._updateCurrentUser(s,!0)}})()}initializeCurrentUser(o){var s=this;return(0,m.A)(function*(){var l;const _=yield s.assertedPersistence.getCurrentUser();let h=_,k=!1;if(o&&s.config.authDomain){yield s.getOrInitRedirectPersistenceManager();const x=null===(l=s.redirectUser)||void 0===l?void 0:l._redirectEventId,D=h?._redirectEventId,W=yield s.tryRedirectSignIn(o);(!x||x===D)&&W?.user&&(h=W.user,k=!0)}if(!h)return s.directlySetCurrentUser(null);if(!h._redirectEventId){if(k)try{yield s.beforeStateQueue.runMiddleware(h)}catch(x){h=_,s._popupRedirectResolver._overrideRedirectResult(s,()=>Promise.reject(x))}return h?s.reloadAndSetCurrentUserOrClear(h):s.directlySetCurrentUser(null)}return N(s._popupRedirectResolver,s,"argument-error"),yield s.getOrInitRedirectPersistenceManager(),s.redirectUser&&s.redirectUser._redirectEventId===h._redirectEventId?s.directlySetCurrentUser(h):s.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(o){var s=this;return(0,m.A)(function*(){let l=null;try{l=yield s._popupRedirectResolver._completeRedirectFn(s,o,!0)}catch{yield s._setRedirectUser(null)}return l})()}reloadAndSetCurrentUserOrClear(o){var s=this;return(0,m.A)(function*(){try{yield Ne(o)}catch(l){if("auth/network-request-failed"!==l?.code)return s.directlySetCurrentUser(null)}return s.directlySetCurrentUser(o)})()}useDeviceLanguage(){this.languageCode=function Je(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}()}_delete(){var o=this;return(0,m.A)(function*(){o._deleted=!0})()}updateCurrentUser(o){var s=this;return(0,m.A)(function*(){const l=o?(0,c.Ku)(o):null;return l&&N(l.auth.config.apiKey===s.config.apiKey,s,"invalid-user-token"),s._updateCurrentUser(l&&l._clone(s))})()}_updateCurrentUser(o,s=!1){var l=this;return(0,m.A)(function*(){if(!l._deleted)return o&&N(l.tenantId===o.tenantId,l,"tenant-id-mismatch"),s||(yield l.beforeStateQueue.runMiddleware(o)),l.queue((0,m.A)(function*(){yield l.directlySetCurrentUser(o),l.notifyAuthListeners()}))})()}signOut(){var o=this;return(0,m.A)(function*(){return yield o.beforeStateQueue.runMiddleware(null),(o.redirectPersistenceManager||o._popupRedirectResolver)&&(yield o._setRedirectUser(null)),o._updateCurrentUser(null,!0)})()}setPersistence(o){var s=this;return this.queue((0,m.A)(function*(){yield s.assertedPersistence.setPersistence(p(o))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(o){var s=this;return(0,m.A)(function*(){s._getPasswordPolicyInternal()||(yield s._updatePasswordPolicy());const l=s._getPasswordPolicyInternal();return l.schemaVersion!==s.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(s._errorFactory.create("unsupported-password-policy-schema-version",{})):l.validatePassword(o)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var o=this;return(0,m.A)(function*(){const s=yield function qt(a){return Zt.apply(this,arguments)}(o),l=new Gr(s);null===o.tenantId?o._projectPasswordPolicy=l:o._tenantPasswordPolicies[o.tenantId]=l})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(o){this._errorFactory=new c.FA("auth","Firebase",o())}onAuthStateChanged(o,s,l){return this.registerStateListener(this.authStateSubscription,o,s,l)}beforeAuthStateChanged(o,s){return this.beforeStateQueue.pushCallback(o,s)}onIdTokenChanged(o,s,l){return this.registerStateListener(this.idTokenSubscription,o,s,l)}authStateReady(){return new Promise((o,s)=>{if(this.currentUser)o();else{const l=this.onAuthStateChanged(()=>{l(),o()},s)}})}toJSON(){var o;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(o=this._currentUser)||void 0===o?void 0:o.toJSON()}}_setRedirectUser(o,s){var l=this;return(0,m.A)(function*(){const _=yield l.getOrInitRedirectPersistenceManager(s);return null===o?_.removeCurrentUser():_.setCurrentUser(o)})()}getOrInitRedirectPersistenceManager(o){var s=this;return(0,m.A)(function*(){if(!s.redirectPersistenceManager){const l=o&&p(o)||s._popupRedirectResolver;N(l,s,"argument-error"),s.redirectPersistenceManager=yield ie.create(s,[p(l._redirectPersistence)],"redirectUser"),s.redirectUser=yield s.redirectPersistenceManager.getCurrentUser()}return s.redirectPersistenceManager})()}_redirectUserForId(o){var s=this;return(0,m.A)(function*(){var l,_;return s._isInitialized&&(yield s.queue((0,m.A)(function*(){}))),(null===(l=s._currentUser)||void 0===l?void 0:l._redirectEventId)===o?s._currentUser:(null===(_=s.redirectUser)||void 0===_?void 0:_._redirectEventId)===o?s.redirectUser:null})()}_persistUserIfCurrent(o){var s=this;return(0,m.A)(function*(){if(o===s.currentUser)return s.queue((0,m.A)(function*(){return s.directlySetCurrentUser(o)}))})()}_notifyListenersIfCurrent(o){o===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var o,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=null!==(s=null===(o=this.currentUser)||void 0===o?void 0:o.uid)&&void 0!==s?s:null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(o,s,l,_){if(this._deleted)return()=>{};const h="function"==typeof s?s:s.next.bind(s);let k=!1;const x=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(x,this,"internal-error"),x.then(()=>{k||h(this.currentUser)}),"function"==typeof s){const D=o.addObserver(s,l,_);return()=>{k=!0,D()}}{const D=o.addObserver(s);return()=>{k=!0,D()}}}directlySetCurrentUser(o){var s=this;return(0,m.A)(function*(){s.currentUser&&s.currentUser!==o&&s._currentUser._stopProactiveRefresh(),o&&s.isProactiveRefreshEnabled&&o._startProactiveRefresh(),s.currentUser=o,o?yield s.assertedPersistence.setCurrentUser(o):yield s.assertedPersistence.removeCurrentUser()})()}queue(o){return this.operations=this.operations.then(o,o),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(o){!o||this.frameworks.includes(o)||(this.frameworks.push(o),this.frameworks.sort(),this.clientVersion=Ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var o=this;return(0,m.A)(function*(){var s;const l={"X-Client-Version":o.clientVersion};o.app.options.appId&&(l["X-Firebase-gmpid"]=o.app.options.appId);const _=yield null===(s=o.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===s?void 0:s.getHeartbeatsHeader();_&&(l["X-Firebase-Client"]=_);const h=yield o._getAppCheckToken();return h&&(l["X-Firebase-AppCheck"]=h),l})()}_getAppCheckToken(){var o=this;return(0,m.A)(function*(){var s;const l=yield null===(s=o.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===s?void 0:s.getToken();return l?.error&&function Le(a,...o){te.logLevel<=F.$b.WARN&&te.warn(`Auth (${e.SDK_VERSION}): ${a}`,...o)}(`Error while retrieving App Check token: ${l.error}`),l?.token})()}}function De(a){return(0,c.Ku)(a)}class Yo{constructor(o){this.auth=o,this.observer=null,this.addObserver=(0,c.tD)(s=>this.observer=s)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oi(a){return new Promise((o,s)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=o,l.onerror=_=>{const h=ye("internal-error");h.customData=_,s(h)},l.type="text/javascript",l.charset="UTF-8",function zr(){var a,o;return null!==(o=null===(a=document.getElementsByTagName("head"))||void 0===a?void 0:a[0])&&void 0!==o?o:document}().appendChild(l)})}function sn(a){return`__${a}${Math.floor(1e6*Math.random())}`}class Qo{constructor(o){this.type="recaptcha-enterprise",this.auth=De(o)}verify(o="verify",s=!1){var l=this;return(0,m.A)(function*(){function h(){return h=(0,m.A)(function*(x){if(!s){if(null==x.tenantId&&null!=x._agentRecaptchaConfig)return x._agentRecaptchaConfig.siteKey;if(null!=x.tenantId&&void 0!==x._tenantRecaptchaConfigs[x.tenantId])return x._tenantRecaptchaConfigs[x.tenantId].siteKey}return new Promise(function(){var D=(0,m.A)(function*(W,ee){xt(x,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ce=>{if(void 0!==Ce.recaptchaKey){const nt=new $e(Ce);return null==x.tenantId?x._agentRecaptchaConfig=nt:x._tenantRecaptchaConfigs[x.tenantId]=nt,W(nt.siteKey)}ee(new Error("recaptcha Enterprise site key undefined"))}).catch(Ce=>{ee(Ce)})});return function(W,ee){return D.apply(this,arguments)}}())}),h.apply(this,arguments)}function k(x,D,W){const ee=window.grecaptcha;Pe(ee)?ee.enterprise.ready(()=>{ee.enterprise.execute(x,{action:o}).then(Ce=>{D(Ce)}).catch(()=>{D("NO_RECAPTCHA")})}):W(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((x,D)=>{(function _(x){return h.apply(this,arguments)})(l.auth).then(W=>{if(!s&&Pe(window.grecaptcha))k(W,x,D);else{if(typeof window>"u")return void D(new Error("RecaptchaVerifier is only supported in browser"));oi("https://www.google.com/recaptcha/enterprise.js?render="+W).then(()=>{k(W,x,D)}).catch(ee=>{D(ee)})}}).catch(W=>{D(W)})})})()}}function qo(a,o,s){return ri.apply(this,arguments)}function ri(){return(ri=(0,m.A)(function*(a,o,s,l=!1){const _=new Qo(a);let h;try{h=yield _.verify(s)}catch{h=yield _.verify(s,!0)}const k=Object.assign({},o);return Object.assign(k,l?{captchaResp:h}:{captchaResponse:h}),Object.assign(k,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(k,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),k})).apply(this,arguments)}function Nn(a,o,s,l){return si.apply(this,arguments)}function si(){return si=(0,m.A)(function*(a,o,s,l){var _;if(null!==(_=a._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=yield qo(a,o,s,"getOobCode"===s);return l(a,h)}return l(a,o).catch(function(){var h=(0,m.A)(function*(k){if("auth/missing-recaptcha-token"===k.code){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=yield qo(a,o,s,"getOobCode"===s);return l(a,x)}return Promise.reject(k)});return function(k){return h.apply(this,arguments)}}())}),si.apply(this,arguments)}function Xo(a,o,s){const l=De(a);N(l._canInitEmulator,l,"emulator-config-failed"),N(/^https?:\/\//.test(o),l,"invalid-emulator-scheme");const _=!!s?.disableWarnings,h=Ho(o),{host:k,port:x}=function Wr(a){const o=Ho(a),s=/(\/\/)?([^?#/]+)/.exec(a.substr(o.length));if(!s)return{host:"",port:null};const l=s[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(l);if(_){const h=_[1];return{host:h,port:Jo(l.substr(h.length+1))}}{const[h,k]=l.split(":");return{host:h,port:Jo(k)}}}(o);l.config.emulator={url:`${h}//${k}${null===x?"":`:${x}`}/`},l.settings.appVerificationDisabledForTesting=!0,l.emulatorConfig=Object.freeze({host:k,port:x,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Qr(){function a(){const o=document.createElement("p"),s=o.style;o.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",o.classList.add("firebase-emulator-warning"),document.body.appendChild(o)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a())}()}function Ho(a){const o=a.indexOf(":");return o<0?"":a.substr(0,o+1)}function Jo(a){if(!a)return null;const o=Number(a);return isNaN(o)?null:o}class an{constructor(o,s){this.providerId=o,this.signInMethod=s}toJSON(){return fe("not implemented")}_getIdTokenResponse(o){return fe("not implemented")}_linkToIdToken(o,s){return fe("not implemented")}_getReauthenticationResolver(o){return fe("not implemented")}}function Ko(a,o){return li.apply(this,arguments)}function li(){return(li=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:resetPassword",Ee(a,o))})).apply(this,arguments)}function Zo(a,o){return ci.apply(this,arguments)}function ci(){return(ci=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:update",o)})).apply(this,arguments)}function ui(){return(ui=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:update",Ee(a,o))})).apply(this,arguments)}function Xr(a,o){return vn.apply(this,arguments)}function vn(){return(vn=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signInWithPassword",Ee(a,o))})).apply(this,arguments)}function Ln(a,o){return di.apply(this,arguments)}function di(){return(di=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:sendOobCode",Ee(a,o))})).apply(this,arguments)}function _i(){return(_i=(0,m.A)(function*(a,o){return Ln(a,o)})).apply(this,arguments)}function Jr(a,o){return mi.apply(this,arguments)}function mi(){return(mi=(0,m.A)(function*(a,o){return Ln(a,o)})).apply(this,arguments)}function Kr(a,o){return pi.apply(this,arguments)}function pi(){return(pi=(0,m.A)(function*(a,o){return Ln(a,o)})).apply(this,arguments)}function hi(){return(hi=(0,m.A)(function*(a,o){return Ln(a,o)})).apply(this,arguments)}function gi(){return(gi=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signInWithEmailLink",Ee(a,o))})).apply(this,arguments)}function fi(){return(fi=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signInWithEmailLink",Ee(a,o))})).apply(this,arguments)}class bn extends an{constructor(o,s,l,_=null){super("password",l),this._email=o,this._password=s,this._tenantId=_}static _fromEmailAndPassword(o,s){return new bn(o,s,"password")}static _fromEmailAndCode(o,s,l=null){return new bn(o,s,"emailLink",l)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(o){const s="string"==typeof o?JSON.parse(o):o;if(s?.email&&s?.password){if("password"===s.signInMethod)return this._fromEmailAndPassword(s.email,s.password);if("emailLink"===s.signInMethod)return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}_getIdTokenResponse(o){var s=this;return(0,m.A)(function*(){switch(s.signInMethod){case"password":return Nn(o,{returnSecureToken:!0,email:s._email,password:s._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xr);case"emailLink":return function es(a,o){return gi.apply(this,arguments)}(o,{email:s._email,oobCode:s._password});default:X(o,"internal-error")}})()}_linkToIdToken(o,s){var l=this;return(0,m.A)(function*(){switch(l.signInMethod){case"password":return Zo(o,{idToken:s,returnSecureToken:!0,email:l._email,password:l._password});case"emailLink":return function ts(a,o){return fi.apply(this,arguments)}(o,{idToken:s,email:l._email,oobCode:l._password});default:X(o,"internal-error")}})()}_getReauthenticationResolver(o){return this._getIdTokenResponse(o)}}function Pt(a,o){return vi.apply(this,arguments)}function vi(){return(vi=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signInWithIdp",Ee(a,o))})).apply(this,arguments)}class jt extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(o){const s=new jt(o.providerId,o.signInMethod);return o.idToken||o.accessToken?(o.idToken&&(s.idToken=o.idToken),o.accessToken&&(s.accessToken=o.accessToken),o.nonce&&!o.pendingToken&&(s.nonce=o.nonce),o.pendingToken&&(s.pendingToken=o.pendingToken)):o.oauthToken&&o.oauthTokenSecret?(s.accessToken=o.oauthToken,s.secret=o.oauthTokenSecret):X("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(o){const s="string"==typeof o?JSON.parse(o):o,{providerId:l,signInMethod:_}=s,h=(0,H.Tt)(s,["providerId","signInMethod"]);if(!l||!_)return null;const k=new jt(l,_);return k.idToken=h.idToken||void 0,k.accessToken=h.accessToken||void 0,k.secret=h.secret,k.nonce=h.nonce,k.pendingToken=h.pendingToken||null,k}_getIdTokenResponse(o){return Pt(o,this.buildRequest())}_linkToIdToken(o,s){const l=this.buildRequest();return l.idToken=s,Pt(o,l)}_getReauthenticationResolver(o){const s=this.buildRequest();return s.autoCreate=!1,Pt(o,s)}buildRequest(){const o={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)o.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),o.postBody=(0,c.Am)(s)}return o}}function bi(){return(bi=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:sendVerificationCode",Ee(a,o))})).apply(this,arguments)}function yi(){return(yi=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signInWithPhoneNumber",Ee(a,o))})).apply(this,arguments)}function Ii(){return(Ii=(0,m.A)(function*(a,o){const s=yield Be(a,"POST","/v1/accounts:signInWithPhoneNumber",Ee(a,o));if(s.temporaryProof)throw he(a,"account-exists-with-different-credential",s);return s})).apply(this,arguments)}const rs={USER_NOT_FOUND:"user-not-found"};function Ci(){return(Ci=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signInWithPhoneNumber",Ee(a,Object.assign(Object.assign({},o),{operation:"REAUTH"})),rs)})).apply(this,arguments)}class Mt extends an{constructor(o){super("phone","phone"),this.params=o}static _fromVerification(o,s){return new Mt({verificationId:o,verificationCode:s})}static _fromTokenResponse(o,s){return new Mt({phoneNumber:o,temporaryProof:s})}_getIdTokenResponse(o){return function is(a,o){return yi.apply(this,arguments)}(o,this._makeVerificationRequest())}_linkToIdToken(o,s){return function os(a,o){return Ii.apply(this,arguments)}(o,Object.assign({idToken:s},this._makeVerificationRequest()))}_getReauthenticationResolver(o){return function ss(a,o){return Ci.apply(this,arguments)}(o,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:o,phoneNumber:s,verificationId:l,verificationCode:_}=this.params;return o&&s?{temporaryProof:o,phoneNumber:s}:{sessionInfo:l,code:_}}toJSON(){const o={providerId:this.providerId};return this.params.phoneNumber&&(o.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(o.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(o.verificationCode=this.params.verificationCode),this.params.verificationId&&(o.verificationId=this.params.verificationId),o}static fromJSON(o){"string"==typeof o&&(o=JSON.parse(o));const{verificationId:s,verificationCode:l,phoneNumber:_,temporaryProof:h}=o;return l||s||_||h?new Mt({verificationId:s,verificationCode:l,phoneNumber:_,temporaryProof:h}):null}}class Lt{constructor(o){var s,l,_,h,k,x;const D=(0,c.I9)((0,c.hp)(o)),W=null!==(s=D.apiKey)&&void 0!==s?s:null,ee=null!==(l=D.oobCode)&&void 0!==l?l:null,Ce=function yn(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=D.mode)&&void 0!==_?_:null);N(W&&ee&&Ce,"argument-error"),this.apiKey=W,this.operation=Ce,this.code=ee,this.continueUrl=null!==(h=D.continueUrl)&&void 0!==h?h:null,this.languageCode=null!==(k=D.languageCode)&&void 0!==k?k:null,this.tenantId=null!==(x=D.tenantId)&&void 0!==x?x:null}static parseLink(o){const s=function as(a){const o=(0,c.I9)((0,c.hp)(a)).link,s=o?(0,c.I9)((0,c.hp)(o)).deep_link_id:null,l=(0,c.I9)((0,c.hp)(a)).deep_link_id;return(l?(0,c.I9)((0,c.hp)(l)).link:null)||l||s||o||a}(o);try{return new Lt(s)}catch{return null}}}let ki=(()=>{class a{constructor(){this.providerId=a.PROVIDER_ID}static credential(s,l){return bn._fromEmailAndPassword(s,l)}static credentialWithLink(s,l){const _=Lt.parseLink(l);return N(_,"argument-error"),bn._fromEmailAndCode(s,_.code,_.tenantId)}}return a.PROVIDER_ID="password",a.EMAIL_PASSWORD_SIGN_IN_METHOD="password",a.EMAIL_LINK_SIGN_IN_METHOD="emailLink",a})();class Gt{constructor(o){this.providerId=o,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(o){this.defaultLanguageCode=o}setCustomParameters(o){return this.customParameters=o,this}getCustomParameters(){return this.customParameters}}class ln extends Gt{constructor(){super(...arguments),this.scopes=[]}addScope(o){return this.scopes.includes(o)||this.scopes.push(o),this}getScopes(){return[...this.scopes]}}class In extends ln{static credentialFromJSON(o){const s="string"==typeof o?JSON.parse(o):o;return N("providerId"in s&&"signInMethod"in s,"argument-error"),jt._fromParams(s)}credential(o){return this._credential(Object.assign(Object.assign({},o),{nonce:o.rawNonce}))}_credential(o){return N(o.idToken||o.accessToken,"argument-error"),jt._fromParams(Object.assign(Object.assign({},o),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(o){return In.oauthCredentialFromTaggedObject(o)}static credentialFromError(o){return In.oauthCredentialFromTaggedObject(o.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{oauthIdToken:s,oauthAccessToken:l,oauthTokenSecret:_,pendingToken:h,nonce:k,providerId:x}=o;if(!l&&!_&&!s&&!h||!x)return null;try{return new In(x)._credential({idToken:s,accessToken:l,nonce:k,pendingToken:h})}catch{return null}}}let ls=(()=>{class a extends ln{constructor(){super("facebook.com")}static credential(s){return jt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.FACEBOOK_SIGN_IN_METHOD,accessToken:s})}static credentialFromResult(s){return a.credentialFromTaggedObject(s)}static credentialFromError(s){return a.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s||!("oauthAccessToken"in s)||!s.oauthAccessToken)return null;try{return a.credential(s.oauthAccessToken)}catch{return null}}}return a.FACEBOOK_SIGN_IN_METHOD="facebook.com",a.PROVIDER_ID="facebook.com",a})(),cs=(()=>{class a extends ln{constructor(){super("google.com"),this.addScope("profile")}static credential(s,l){return jt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GOOGLE_SIGN_IN_METHOD,idToken:s,accessToken:l})}static credentialFromResult(s){return a.credentialFromTaggedObject(s)}static credentialFromError(s){return a.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{oauthIdToken:l,oauthAccessToken:_}=s;if(!l&&!_)return null;try{return a.credential(l,_)}catch{return null}}}return a.GOOGLE_SIGN_IN_METHOD="google.com",a.PROVIDER_ID="google.com",a})(),us=(()=>{class a extends ln{constructor(){super("github.com")}static credential(s){return jt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GITHUB_SIGN_IN_METHOD,accessToken:s})}static credentialFromResult(s){return a.credentialFromTaggedObject(s)}static credentialFromError(s){return a.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s||!("oauthAccessToken"in s)||!s.oauthAccessToken)return null;try{return a.credential(s.oauthAccessToken)}catch{return null}}}return a.GITHUB_SIGN_IN_METHOD="github.com",a.PROVIDER_ID="github.com",a})();class cn extends an{constructor(o,s){super(o,o),this.pendingToken=s}_getIdTokenResponse(o){return Pt(o,this.buildRequest())}_linkToIdToken(o,s){const l=this.buildRequest();return l.idToken=s,Pt(o,l)}_getReauthenticationResolver(o){const s=this.buildRequest();return s.autoCreate=!1,Pt(o,s)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(o){const s="string"==typeof o?JSON.parse(o):o,{providerId:l,signInMethod:_,pendingToken:h}=s;return l&&_&&h&&l===_?new cn(l,h):null}static _create(o,s){return new cn(o,s)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gn extends Gt{constructor(o){N(o.startsWith("saml."),"argument-error"),super(o)}static credentialFromResult(o){return Gn.samlCredentialFromTaggedObject(o)}static credentialFromError(o){return Gn.samlCredentialFromTaggedObject(o.customData||{})}static credentialFromJSON(o){const s=cn.fromJSON(o);return N(s,"argument-error"),s}static samlCredentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{pendingToken:s,providerId:l}=o;if(!s||!l)return null;try{return cn._create(l,s)}catch{return null}}}let er=(()=>{class a extends ln{constructor(){super("twitter.com")}static credential(s,l){return jt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.TWITTER_SIGN_IN_METHOD,oauthToken:s,oauthTokenSecret:l})}static credentialFromResult(s){return a.credentialFromTaggedObject(s)}static credentialFromError(s){return a.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{oauthAccessToken:l,oauthTokenSecret:_}=s;if(!l||!_)return null;try{return a.credential(l,_)}catch{return null}}}return a.TWITTER_SIGN_IN_METHOD="twitter.com",a.PROVIDER_ID="twitter.com",a})();function tr(a,o){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signUp",Ee(a,o))})).apply(this,arguments)}class Ct{constructor(o){this.user=o.user,this.providerId=o.providerId,this._tokenResponse=o._tokenResponse,this.operationType=o.operationType}static _fromIdTokenResponse(o,s,l,_=!1){return(0,m.A)(function*(){const h=yield g._fromIdTokenResponse(o,l,_),k=un(l);return new Ct({user:h,providerId:k,_tokenResponse:l,operationType:s})})()}static _forOperation(o,s,l){return(0,m.A)(function*(){yield o._updateTokensIfNecessary(l,!0);const _=un(l);return new Ct({user:o,providerId:_,_tokenResponse:l,operationType:s})})()}}function un(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}function en(a){return Si.apply(this,arguments)}function Si(){return(Si=(0,m.A)(function*(a){var o;const s=De(a);if(yield s._initializationPromise,null!==(o=s.currentUser)&&void 0!==o&&o.isAnonymous)return new Ct({user:s.currentUser,providerId:null,operationType:"signIn"});const l=yield tr(s,{returnSecureToken:!0}),_=yield Ct._fromIdTokenResponse(s,"signIn",l,!0);return yield s._updateCurrentUser(_.user),_})).apply(this,arguments)}class $n extends c.g{constructor(o,s,l,_){var h;super(s.code,s.message),this.operationType=l,this.user=_,Object.setPrototypeOf(this,$n.prototype),this.customData={appName:o.name,tenantId:null!==(h=o.tenantId)&&void 0!==h?h:void 0,_serverResponse:s.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(o,s,l,_){return new $n(o,s,l,_)}}function nr(a,o,s,l){return("reauthenticate"===o?s._getReauthenticationResolver(a):s._getIdTokenResponse(a)).catch(h=>{throw"auth/multi-factor-auth-required"===h.code?$n._fromErrorAndOperation(a,h,o,l):h})}function ir(a){return new Set(a.map(({providerId:o})=>o).filter(o=>!!o))}function ms(a,o){return zn.apply(this,arguments)}function zn(){return zn=(0,m.A)(function*(a,o){const s=(0,c.Ku)(a);yield kn(!0,s,o);const{providerUserInfo:l}=yield function Ze(a,o){return mt.apply(this,arguments)}(s.auth,{idToken:yield s.getIdToken(),deleteProvider:[o]}),_=ir(l||[]);return s.providerData=s.providerData.filter(h=>_.has(h.providerId)),_.has("phone")||(s.phoneNumber=null),yield s.auth._persistUserIfCurrent(s),s}),zn.apply(this,arguments)}function Ti(a,o){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,m.A)(function*(a,o,s=!1){const l=yield Ge(a,o._linkToIdToken(a.auth,yield a.getIdToken()),s);return Ct._forOperation(a,"link",l)})).apply(this,arguments)}function kn(a,o,s){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,m.A)(function*(a,o,s){yield Ne(o);const _=!1===a?"provider-already-linked":"no-such-provider";N(ir(o.providerData).has(s)===a,o.auth,_)})).apply(this,arguments)}function or(a,o){return wi.apply(this,arguments)}function wi(){return(wi=(0,m.A)(function*(a,o,s=!1){const{auth:l}=a,_="reauthenticate";try{const h=yield Ge(a,nr(l,_,o,a),s);N(h.idToken,l,"internal-error");const k=ht(h.idToken);N(k,l,"internal-error");const{sub:x}=k;return N(a.uid===x,l,"user-mismatch"),Ct._forOperation(a,_,h)}catch(h){throw"auth/user-not-found"===h?.code&&X(l,"user-mismatch"),h}})).apply(this,arguments)}function rr(a,o){return xi.apply(this,arguments)}function xi(){return(xi=(0,m.A)(function*(a,o,s=!1){const l="signIn",_=yield nr(a,l,o),h=yield Ct._fromIdTokenResponse(a,l,_);return s||(yield a._updateCurrentUser(h.user)),h})).apply(this,arguments)}function Bn(a,o){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,m.A)(function*(a,o){return rr(De(a),o)})).apply(this,arguments)}function sr(a,o){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.A)(function*(a,o){const s=(0,c.Ku)(a);return yield kn(!1,s,o.providerId),Ti(s,o)})).apply(this,arguments)}function ar(a,o){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,m.A)(function*(a,o){return or((0,c.Ku)(a),o)})).apply(this,arguments)}function Pi(){return(Pi=(0,m.A)(function*(a,o){return Be(a,"POST","/v1/accounts:signInWithCustomToken",Ee(a,o))})).apply(this,arguments)}function hs(a,o){return ji.apply(this,arguments)}function ji(){return ji=(0,m.A)(function*(a,o){const s=De(a),l=yield function ps(a,o){return Pi.apply(this,arguments)}(s,{token:o,returnSecureToken:!0}),_=yield Ct._fromIdTokenResponse(s,"signIn",l);return yield s._updateCurrentUser(_.user),_}),ji.apply(this,arguments)}class Sn{constructor(o,s){this.factorId=o,this.uid=s.mfaEnrollmentId,this.enrollmentTime=new Date(s.enrolledAt).toUTCString(),this.displayName=s.displayName}static _fromServerResponse(o,s){return"phoneInfo"in s?Mi._fromServerResponse(o,s):"totpInfo"in s?Di._fromServerResponse(o,s):X(o,"internal-error")}}class Mi extends Sn{constructor(o){super("phone",o),this.phoneNumber=o.phoneInfo}static _fromServerResponse(o,s){return new Mi(s)}}class Di extends Sn{constructor(o){super("totp",o)}static _fromServerResponse(o,s){return new Di(s)}}function Tn(a,o,s){var l;N((null===(l=s.url)||void 0===l?void 0:l.length)>0,a,"invalid-continue-uri"),N(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,a,"invalid-dynamic-link-domain"),o.continueUrl=s.url,o.dynamicLinkDomain=s.dynamicLinkDomain,o.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(N(s.iOS.bundleId.length>0,a,"missing-ios-bundle-id"),o.iOSBundleId=s.iOS.bundleId),s.android&&(N(s.android.packageName.length>0,a,"missing-android-pkg-name"),o.androidInstallApp=s.android.installApp,o.androidMinimumVersionCode=s.android.minimumVersion,o.androidPackageName=s.android.packageName)}function Ni(a){return Li.apply(this,arguments)}function Li(){return(Li=(0,m.A)(function*(a){const o=De(a);o._getPasswordPolicyInternal()&&(yield o._updatePasswordPolicy())})).apply(this,arguments)}function gs(a,o,s){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,m.A)(function*(a,o,s){const l=De(a),_={requestType:"PASSWORD_RESET",email:o,clientType:"CLIENT_TYPE_WEB"};s&&Tn(l,_,s),yield Nn(l,_,"getOobCode",Jr)})).apply(this,arguments)}function fs(a,o,s){return $i.apply(this,arguments)}function $i(){return $i=(0,m.A)(function*(a,o,s){yield Ko((0,c.Ku)(a),{oobCode:o,newPassword:s}).catch(function(){var l=(0,m.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Ni(a),_});return function(_){return l.apply(this,arguments)}}())}),$i.apply(this,arguments)}function vs(a,o){return zi.apply(this,arguments)}function zi(){return zi=(0,m.A)(function*(a,o){yield function qr(a,o){return ui.apply(this,arguments)}((0,c.Ku)(a),{oobCode:o})}),zi.apply(this,arguments)}function lr(a,o){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,m.A)(function*(a,o){const s=(0,c.Ku)(a),l=yield Ko(s,{oobCode:o}),_=l.requestType;switch(N(_,s,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(l.newEmail,s,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(l.mfaInfo,s,"internal-error");default:N(l.email,s,"internal-error")}let h=null;return l.mfaInfo&&(h=Sn._fromServerResponse(De(s),l.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===l.requestType?l.newEmail:l.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===l.requestType?l.email:l.newEmail)||null,multiFactorInfo:h},operation:_}})).apply(this,arguments)}function bs(a,o){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,m.A)(function*(a,o){const{data:s}=yield lr((0,c.Ku)(a),o);return s.email})).apply(this,arguments)}function ys(a,o,s){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.A)(function*(a,o,s){const l=De(a),k=yield Nn(l,{returnSecureToken:!0,email:o,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tr).catch(D=>{throw"auth/password-does-not-meet-requirements"===D.code&&Ni(a),D}),x=yield Ct._fromIdTokenResponse(l,"signIn",k);return yield l._updateCurrentUser(x.user),x})).apply(this,arguments)}function Is(a,o,s){return Bn((0,c.Ku)(a),ki.credential(o,s)).catch(function(){var l=(0,m.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Ni(a),_});return function(_){return l.apply(this,arguments)}}())}function Cs(a,o,s){return dn.apply(this,arguments)}function dn(){return(dn=(0,m.A)(function*(a,o,s){const l=De(a),_={requestType:"EMAIL_SIGNIN",email:o,clientType:"CLIENT_TYPE_WEB"};(function h(k,x){N(x.handleCodeInApp,l,"argument-error"),x&&Tn(l,k,x)})(_,s),yield Nn(l,_,"getOobCode",Kr)})).apply(this,arguments)}function ks(a,o){const s=Lt.parseLink(o);return"EMAIL_SIGNIN"===s?.operation}function Ss(a,o,s){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a),_=ki.credentialWithLink(o,s||je());return N(_._tenantId===(l.tenantId||null),l,"tenant-id-mismatch"),Bn(l,_)})).apply(this,arguments)}function Yi(){return(Yi=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:createAuthUri",Ee(a,o))})).apply(this,arguments)}function Rs(a,o){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,m.A)(function*(a,o){const l={identifier:o,continueUri:dt()?je():"http://localhost"},{signinMethods:_}=yield function Ts(a,o){return Yi.apply(this,arguments)}((0,c.Ku)(a),l);return _||[]}),Wi.apply(this,arguments)}function Es(a,o){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,m.A)(function*(a,o){const s=(0,c.Ku)(a),_={requestType:"VERIFY_EMAIL",idToken:yield a.getIdToken()};o&&Tn(s.auth,_,o);const{email:h}=yield function Hr(a,o){return _i.apply(this,arguments)}(s.auth,_);h!==a.email&&(yield a.reload())}),Qi.apply(this,arguments)}function ws(a,o,s){return qi.apply(this,arguments)}function qi(){return qi=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a),h={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield a.getIdToken(),newEmail:o};s&&Tn(l.auth,h,s);const{email:k}=yield function Zr(a,o){return hi.apply(this,arguments)}(l.auth,h);k!==a.email&&(yield a.reload())}),qi.apply(this,arguments)}function Vn(){return(Vn=(0,m.A)(function*(a,o){return Ie(a,"POST","/v1/accounts:update",o)})).apply(this,arguments)}function xs(a,o){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,m.A)(function*(a,{displayName:o,photoURL:s}){if(void 0===o&&void 0===s)return;const l=(0,c.Ku)(a),h={idToken:yield l.getIdToken(),displayName:o,photoUrl:s,returnSecureToken:!0},k=yield Ge(l,function cr(a,o){return Vn.apply(this,arguments)}(l.auth,h));l.displayName=k.displayName||null,l.photoURL=k.photoUrl||null;const x=l.providerData.find(({providerId:D})=>"password"===D);x&&(x.displayName=l.displayName,x.photoURL=l.photoURL),yield l._updateTokensIfNecessary(k)}),Xi.apply(this,arguments)}function As(a,o){return ur((0,c.Ku)(a),o,null)}function Os(a,o){return ur((0,c.Ku)(a),null,o)}function ur(a,o,s){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,m.A)(function*(a,o,s){const{auth:l}=a,h={idToken:yield a.getIdToken(),returnSecureToken:!0};o&&(h.email=o),s&&(h.password=s);const k=yield Ge(a,Zo(l,h));yield a._updateTokensIfNecessary(k,!0)})).apply(this,arguments)}class _n{constructor(o,s,l={}){this.isNewUser=o,this.providerId=s,this.profile=l}}class dr extends _n{constructor(o,s,l,_){super(o,s,l),this.username=_}}class Ps extends _n{constructor(o,s){super(o,"facebook.com",s)}}class js extends dr{constructor(o,s){super(o,"github.com",s,"string"==typeof s?.login?s?.login:null)}}class Ms extends _n{constructor(o,s){super(o,"google.com",s)}}class Ds extends dr{constructor(o,s,l){super(o,"twitter.com",s,l)}}function Ns(a){const{user:o,_tokenResponse:s}=a;return o.isAnonymous&&!s?{providerId:null,isNewUser:!1,profile:null}:function Fs(a){var o,s;if(!a)return null;const{providerId:l}=a,_=a.rawUserInfo?JSON.parse(a.rawUserInfo):{},h=a.isNewUser||"identitytoolkit#SignupNewUserResponse"===a.kind;if(!l&&a?.idToken){const k=null===(s=null===(o=ht(a.idToken))||void 0===o?void 0:o.firebase)||void 0===s?void 0:s.sign_in_provider;if(k)return new _n(h,"anonymous"!==k&&"custom"!==k?k:null)}if(!l)return null;switch(l){case"facebook.com":return new Ps(h,_);case"github.com":return new js(h,_);case"google.com":return new Ms(h,_);case"twitter.com":return new Ds(h,_,a.screenName||null);case"custom":case"anonymous":return new _n(h,null);default:return new _n(h,l,_)}}(s)}class tn{constructor(o,s,l){this.type=o,this.credential=s,this.user=l}static _fromIdtoken(o,s){return new tn("enroll",o,s)}static _fromMfaPendingCredential(o){return new tn("signin",o)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(o){var s,l;if(o?.multiFactorSession){if(null!==(s=o.multiFactorSession)&&void 0!==s&&s.pendingCredential)return tn._fromMfaPendingCredential(o.multiFactorSession.pendingCredential);if(null!==(l=o.multiFactorSession)&&void 0!==l&&l.idToken)return tn._fromIdtoken(o.multiFactorSession.idToken)}return null}}class Ki{constructor(o,s,l){this.session=o,this.hints=s,this.signInResolver=l}static _fromError(o,s){const l=De(o),_=s.customData._serverResponse,h=(_.mfaInfo||[]).map(x=>Sn._fromServerResponse(l,x));N(_.mfaPendingCredential,l,"internal-error");const k=tn._fromMfaPendingCredential(_.mfaPendingCredential);return new Ki(k,h,function(){var x=(0,m.A)(function*(D){const W=yield D._process(l,k);delete _.mfaInfo,delete _.mfaPendingCredential;const ee=Object.assign(Object.assign({},_),{idToken:W.idToken,refreshToken:W.refreshToken});switch(s.operationType){case"signIn":const Ce=yield Ct._fromIdTokenResponse(l,s.operationType,ee);return yield l._updateCurrentUser(Ce.user),Ce;case"reauthenticate":return N(s.user,l,"internal-error"),Ct._forOperation(s.user,s.operationType,ee);default:X(l,"internal-error")}});return function(D){return x.apply(this,arguments)}}())}resolveSignIn(o){var s=this;return(0,m.A)(function*(){return s.signInResolver(o)})()}}function $s(a,o){var s;const l=(0,c.Ku)(a),_=o;return N(o.customData.operationType,l,"argument-error"),N(null===(s=_.customData._serverResponse)||void 0===s?void 0:s.mfaPendingCredential,l,"argument-error"),Ki._fromError(l,_)}class Zi{constructor(o){this.user=o,this.enrolledFactors=[],o._onReload(s=>{s.mfaInfo&&(this.enrolledFactors=s.mfaInfo.map(l=>Sn._fromServerResponse(o.auth,l)))})}static _fromUser(o){return new Zi(o)}getSession(){var o=this;return(0,m.A)(function*(){return tn._fromIdtoken(yield o.user.getIdToken(),o.user)})()}enroll(o,s){var l=this;return(0,m.A)(function*(){const _=o,h=yield l.getSession(),k=yield Ge(l.user,_._process(l.user.auth,h,s));return yield l.user._updateTokensIfNecessary(k),l.user.reload()})()}unenroll(o){var s=this;return(0,m.A)(function*(){const l="string"==typeof o?o:o.uid,_=yield s.user.getIdToken();try{const h=yield Ge(s.user,function Vs(a,o){return Ie(a,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(a,o))}(s.user.auth,{idToken:_,mfaEnrollmentId:l}));s.enrolledFactors=s.enrolledFactors.filter(({uid:k})=>k!==l),yield s.user._updateTokensIfNecessary(h),yield s.user.reload()}catch(h){throw h}})()}}const eo=new WeakMap;function Ys(a){const o=(0,c.Ku)(a);return eo.has(o)||eo.set(o,Zi._fromUser(o)),eo.get(o)}const Wn="__sak";class _r{constructor(o,s){this.storageRetriever=o,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Wn,"1"),this.storage.removeItem(Wn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(o,s){return this.storage.setItem(o,JSON.stringify(s)),Promise.resolve()}_get(o){const s=this.storage.getItem(o);return Promise.resolve(s?JSON.parse(s):null)}_remove(o){return this.storage.removeItem(o),Promise.resolve()}get storage(){return this.storageRetriever()}}const mr=(()=>{class a extends _r{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(s,l)=>this.onStorageEvent(s,l),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ws(){const a=(0,c.ZQ)();return J(a)||T(a)}()&&function Oe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(s){for(const l of Object.keys(this.listeners)){const _=this.storage.getItem(l),h=this.localCache[l];_!==h&&s(l,h,_)}}onStorageEvent(s,l=!1){if(!s.key)return void this.forAllChangedKeys((x,D,W)=>{this.notifyListeners(x,W)});const _=s.key;if(l?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const x=this.storage.getItem(_);if(s.newValue!==x)null!==s.newValue?this.storage.setItem(_,s.newValue):this.storage.removeItem(_);else if(this.localCache[_]===s.newValue&&!l)return}const h=()=>{const x=this.storage.getItem(_);!l&&this.localCache[_]===x||this.notifyListeners(_,x)},k=this.storage.getItem(_);!function de(){return(0,c.lT)()&&10===document.documentMode}()||k===s.newValue||s.newValue===s.oldValue?h():setTimeout(h,10)}notifyListeners(s,l){this.localCache[s]=l;const _=this.listeners[s];if(_)for(const h of Array.from(_))h(l&&JSON.parse(l))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((s,l,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:s,oldValue:l,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(s,l){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[s]||(this.listeners[s]=new Set,this.localCache[s]=this.storage.getItem(s)),this.listeners[s].add(l)}_removeListener(s,l){this.listeners[s]&&(this.listeners[s].delete(l),0===this.listeners[s].size&&delete this.listeners[s]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(s,l){var _=()=>super._set,h=this;return(0,m.A)(function*(){yield _().call(h,s,l),h.localCache[s]=JSON.stringify(l)})()}_get(s){var l=()=>super._get,_=this;return(0,m.A)(function*(){const h=yield l().call(_,s);return _.localCache[s]=JSON.stringify(h),h})()}_remove(s){var l=()=>super._remove,_=this;return(0,m.A)(function*(){yield l().call(_,s),delete _.localCache[s]})()}}return a.type="LOCAL",a})(),to=(()=>{class a extends _r{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(s,l){}_removeListener(s,l){}}return a.type="SESSION",a})();let Hs=(()=>{class a{constructor(s){this.eventTarget=s,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(s){const l=this.receivers.find(h=>h.isListeningto(s));if(l)return l;const _=new a(s);return this.receivers.push(_),_}isListeningto(s){return this.eventTarget===s}handleEvent(s){var l=this;return(0,m.A)(function*(){const _=s,{eventId:h,eventType:k,data:x}=_.data,D=l.handlersMap[k];if(!D?.size)return;_.ports[0].postMessage({status:"ack",eventId:h,eventType:k});const W=Array.from(D).map(function(){var Ce=(0,m.A)(function*(nt){return nt(_.origin,x)});return function(nt){return Ce.apply(this,arguments)}}()),ee=yield function Xs(a){return Promise.all(a.map(function(){var o=(0,m.A)(function*(s){try{return{fulfilled:!0,value:yield s}}catch(l){return{fulfilled:!1,reason:l}}});return function(s){return o.apply(this,arguments)}}()))}(W);_.ports[0].postMessage({status:"done",eventId:h,eventType:k,response:ee})})()}_subscribe(s,l){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[s]||(this.handlersMap[s]=new Set),this.handlersMap[s].add(l)}_unsubscribe(s,l){this.handlersMap[s]&&l&&this.handlersMap[s].delete(l),(!l||0===this.handlersMap[s].size)&&delete this.handlersMap[s],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return a.receivers=[],a})();function Rn(a="",o=10){let s="";for(let l=0;l<o;l++)s+=Math.floor(10*Math.random());return a+s}class $t{constructor(o){this.target=o,this.handlers=new Set}removeMessageHandler(o){o.messageChannel&&(o.messageChannel.port1.removeEventListener("message",o.onMessage),o.messageChannel.port1.close()),this.handlers.delete(o)}_send(o,s,l=50){var _=this;return(0,m.A)(function*(){const h=typeof MessageChannel<"u"?new MessageChannel:null;if(!h)throw new Error("connection_unavailable");let k,x;return new Promise((D,W)=>{const ee=Rn("",20);h.port1.start();const Ce=setTimeout(()=>{W(new Error("unsupported_event"))},l);x={messageChannel:h,onMessage(nt){const on=nt;if(on.data.eventId===ee)switch(on.data.status){case"ack":clearTimeout(Ce),k=setTimeout(()=>{W(new Error("timeout"))},3e3);break;case"done":clearTimeout(k),D(on.data.response);break;default:clearTimeout(Ce),clearTimeout(k),W(new Error("invalid_response"))}}},_.handlers.add(x),h.port1.addEventListener("message",x.onMessage),_.target.postMessage({eventType:o,eventId:ee,data:s},[h.port2])}).finally(()=>{x&&_.removeMessageHandler(x)})})()}}function xe(){return window}function no(){return typeof xe().WorkerGlobalScope<"u"&&"function"==typeof xe().importScripts}function io(){return(io=(0,m.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pr="firebaseLocalStorageDb",Qn="firebaseLocalStorage",hr="fbase_key";class En{constructor(o){this.request=o}toPromise(){return new Promise((o,s)=>{this.request.addEventListener("success",()=>{o(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function qn(a,o){return a.transaction([Qn],o?"readwrite":"readonly").objectStore(Qn)}function oo(){const a=indexedDB.open(pr,1);return new Promise((o,s)=>{a.addEventListener("error",()=>{s(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(Qn,{keyPath:hr})}catch(_){s(_)}}),a.addEventListener("success",(0,m.A)(function*(){const l=a.result;l.objectStoreNames.contains(Qn)?o(l):(l.close(),yield function na(){const a=indexedDB.deleteDatabase(pr);return new En(a).toPromise()}(),o(yield oo()))}))})}function gr(a,o,s){return ro.apply(this,arguments)}function ro(){return(ro=(0,m.A)(function*(a,o,s){const l=qn(a,!0).put({[hr]:o,value:s});return new En(l).toPromise()})).apply(this,arguments)}function so(){return(so=(0,m.A)(function*(a,o){const s=qn(a,!1).get(o),l=yield new En(s).toPromise();return void 0===l?null:l.value})).apply(this,arguments)}function fr(a,o){const s=qn(a,!0).delete(o);return new En(s).toPromise()}const vr=(()=>{class a{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var s=this;return(0,m.A)(function*(){return s.db||(s.db=yield oo()),s.db})()}_withRetries(s){var l=this;return(0,m.A)(function*(){let _=0;for(;;)try{const h=yield l._openDb();return yield s(h)}catch(h){if(_++>3)throw h;l.db&&(l.db.close(),l.db=void 0)}})()}initializeServiceWorkerMessaging(){var s=this;return(0,m.A)(function*(){return no()?s.initializeReceiver():s.initializeSender()})()}initializeReceiver(){var s=this;return(0,m.A)(function*(){s.receiver=Hs._getInstance(function ea(){return no()?self:null}()),s.receiver._subscribe("keyChanged",function(){var l=(0,m.A)(function*(_,h){return{keyProcessed:(yield s._poll()).includes(h.key)}});return function(_,h){return l.apply(this,arguments)}}()),s.receiver._subscribe("ping",function(){var l=(0,m.A)(function*(_,h){return["keyChanged"]});return function(_,h){return l.apply(this,arguments)}}())})()}initializeSender(){var s=this;return(0,m.A)(function*(){var l,_;if(s.activeServiceWorker=yield function Ks(){return io.apply(this,arguments)}(),!s.activeServiceWorker)return;s.sender=new $t(s.activeServiceWorker);const h=yield s.sender._send("ping",{},800);h&&null!==(l=h[0])&&void 0!==l&&l.fulfilled&&null!==(_=h[0])&&void 0!==_&&_.value.includes("keyChanged")&&(s.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(s){var l=this;return(0,m.A)(function*(){if(l.sender&&l.activeServiceWorker&&function Zs(){var a;return(null===(a=navigator?.serviceWorker)||void 0===a?void 0:a.controller)||null}()===l.activeServiceWorker)try{yield l.sender._send("keyChanged",{key:s},l.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.A)(function*(){try{if(!indexedDB)return!1;const s=yield oo();return yield gr(s,Wn,"1"),yield fr(s,Wn),!0}catch{}return!1})()}_withPendingWrite(s){var l=this;return(0,m.A)(function*(){l.pendingWrites++;try{yield s()}finally{l.pendingWrites--}})()}_set(s,l){var _=this;return(0,m.A)(function*(){return _._withPendingWrite((0,m.A)(function*(){return yield _._withRetries(h=>gr(h,s,l)),_.localCache[s]=l,_.notifyServiceWorker(s)}))})()}_get(s){var l=this;return(0,m.A)(function*(){const _=yield l._withRetries(h=>function ia(a,o){return so.apply(this,arguments)}(h,s));return l.localCache[s]=_,_})()}_remove(s){var l=this;return(0,m.A)(function*(){return l._withPendingWrite((0,m.A)(function*(){return yield l._withRetries(_=>fr(_,s)),delete l.localCache[s],l.notifyServiceWorker(s)}))})()}_poll(){var s=this;return(0,m.A)(function*(){const l=yield s._withRetries(k=>{const x=qn(k,!1).getAll();return new En(x).toPromise()});if(!l)return[];if(0!==s.pendingWrites)return[];const _=[],h=new Set;for(const{fbase_key:k,value:x}of l)h.add(k),JSON.stringify(s.localCache[k])!==JSON.stringify(x)&&(s.notifyListeners(k,x),_.push(k));for(const k of Object.keys(s.localCache))s.localCache[k]&&!h.has(k)&&(s.notifyListeners(k,null),_.push(k));return _})()}notifyListeners(s,l){this.localCache[s]=l;const _=this.listeners[s];if(_)for(const h of Array.from(_))h(l)}startPolling(){var s=this;this.stopPolling(),this.pollTimer=setInterval((0,m.A)(function*(){return s._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(s,l){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[s]||(this.listeners[s]=new Set,this._get(s)),this.listeners[s].add(l)}_removeListener(s,l){this.listeners[s]&&(this.listeners[s].delete(l),0===this.listeners[s].size&&delete this.listeners[s]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return a.type="LOCAL",a})(),Xn=1e12;class Hn{constructor(o){this.auth=o,this.counter=Xn,this._widgets=new Map}render(o,s){const l=this.counter;return this._widgets.set(l,new Jn(o,this.auth.name,s||{})),this.counter++,l}reset(o){var s;const l=o||Xn;null===(s=this._widgets.get(l))||void 0===s||s.delete(),this._widgets.delete(l)}getResponse(o){var s;return(null===(s=this._widgets.get(o||Xn))||void 0===s?void 0:s.getResponse())||""}execute(o){var s=this;return(0,m.A)(function*(){var l;return null===(l=s._widgets.get(o||Xn))||void 0===l||l.execute(),""})()}}class Jn{constructor(o,s,l){this.params=l,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof o?document.getElementById(o):o;N(_,"argument-error",{appName:s}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kn(a){const o=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let l=0;l<a;l++)o.push(s.charAt(Math.floor(62*Math.random())));return o.join("")}(50);const{callback:o,"expired-callback":s}=this.params;if(o)try{o(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const co=sn("rcb"),br=new vt(3e4,6e4);class la{constructor(){var o;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(o=xe().grecaptcha)||void 0===o||!o.render)}load(o,s=""){return N(function ca(a){return a.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(a)}(s),o,"argument-error"),this.shouldResolveImmediately(s)&&z(xe().grecaptcha)?Promise.resolve(xe().grecaptcha):new Promise((l,_)=>{const h=xe().setTimeout(()=>{_(ye(o,"network-request-failed"))},br.get());xe()[co]=()=>{xe().clearTimeout(h),delete xe()[co];const x=xe().grecaptcha;if(!x||!z(x))return void _(ye(o,"internal-error"));const D=x.render;x.render=(W,ee)=>{const Ce=D(W,ee);return this.counter++,Ce},this.hostLanguage=s,l(x)},oi(`https://www.google.com/recaptcha/api.js??${(0,c.Am)({onload:co,render:"explicit",hl:s})}`).catch(()=>{clearTimeout(h),_(ye(o,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(o){var s;return!(null===(s=xe().grecaptcha)||void 0===s||!s.render)&&(o===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ua{load(o){return(0,m.A)(function*(){return new Hn(o)})()}clearedOneInstance(){}}const yr="recaptcha",da={theme:"light",type:"image"};class _a{constructor(o,s,l=Object.assign({},da)){this.parameters=l,this.type=yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=De(o),this.isInvisible="invisible"===this.parameters.size,N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof s?document.getElementById(s):s;N(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ua:new la,this.validateStartingState()}verify(){var o=this;return(0,m.A)(function*(){o.assertNotDestroyed();const s=yield o.render(),l=o.getAssertedRecaptcha();return l.getResponse(s)||new Promise(h=>{const k=x=>{x&&(o.tokenChangeListeners.delete(k),h(x))};o.tokenChangeListeners.add(k),o.isInvisible&&l.execute(s)})})()}render(){try{this.assertNotDestroyed()}catch(o){return Promise.reject(o)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(o=>{throw this.renderPromise=null,o})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(o=>{this.container.removeChild(o)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(o){return s=>{if(this.tokenChangeListeners.forEach(l=>l(s)),"function"==typeof o)o(s);else if("string"==typeof o){const l=xe()[o];"function"==typeof l&&l(s)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var o=this;return(0,m.A)(function*(){if(yield o.init(),!o.widgetId){let s=o.container;if(!o.isInvisible){const l=document.createElement("div");s.appendChild(l),s=l}o.widgetId=o.getAssertedRecaptcha().render(s,o.parameters)}return o.widgetId})()}init(){var o=this;return(0,m.A)(function*(){N(dt()&&!no(),o.auth,"internal-error"),yield function ma(){let a=null;return new Promise(o=>{"complete"!==document.readyState?(a=()=>o(),window.addEventListener("load",a)):o()}).catch(o=>{throw a&&window.removeEventListener("load",a),o})}(),o.recaptcha=yield o._recaptchaLoader.load(o.auth,o.auth.languageCode||void 0);const s=yield function v(a){return _e.apply(this,arguments)}(o.auth);N(s,o.auth,"internal-error"),o.parameters.sitekey=s})()}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class uo{constructor(o,s){this.verificationId=o,this.onConfirmation=s}confirm(o){const s=Mt._fromVerification(this.verificationId,o);return this.onConfirmation(s)}}function pa(a,o,s){return _o.apply(this,arguments)}function _o(){return(_o=(0,m.A)(function*(a,o,s){const l=De(a),_=yield Zn(l,o,(0,c.Ku)(s));return new uo(_,h=>Bn(l,h))})).apply(this,arguments)}function xn(a,o,s){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a);yield kn(!1,l,"phone");const _=yield Zn(l.auth,o,(0,c.Ku)(s));return new uo(_,h=>sr(l,h))})).apply(this,arguments)}function ha(a,o,s){return po.apply(this,arguments)}function po(){return(po=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a),_=yield Zn(l.auth,o,(0,c.Ku)(s));return new uo(_,h=>ar(l,h))})).apply(this,arguments)}function Zn(a,o,s){return ho.apply(this,arguments)}function ho(){return ho=(0,m.A)(function*(a,o,s){var l;const _=yield s.verify();try{let h;if(N("string"==typeof _,a,"argument-error"),N(s.type===yr,a,"argument-error"),h="string"==typeof o?{phoneNumber:o}:o,"session"in h){const k=h.session;if("phoneNumber"in h)return N("enroll"===k.type,a,"internal-error"),(yield function zs(a,o){return Ie(a,"POST","/v2/accounts/mfaEnrollment:start",Ee(a,o))}(a,{idToken:k.credential,phoneEnrollmentInfo:{phoneNumber:h.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{N("signin"===k.type,a,"internal-error");const x=(null===(l=h.multiFactorHint)||void 0===l?void 0:l.uid)||h.multiFactorUid;return N(x,a,"missing-multi-factor-info"),(yield function sa(a,o){return Ie(a,"POST","/v2/accounts/mfaSignIn:start",Ee(a,o))}(a,{mfaPendingCredential:k.credential,mfaEnrollmentId:x,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:k}=yield function ns(a,o){return bi.apply(this,arguments)}(a,{phoneNumber:h.phoneNumber,recaptchaToken:_});return k}}finally{s._reset()}}),ho.apply(this,arguments)}function ga(a,o){return go.apply(this,arguments)}function go(){return(go=(0,m.A)(function*(a,o){yield Ti((0,c.Ku)(a),o)})).apply(this,arguments)}let fa=(()=>{class a{constructor(s){this.providerId=a.PROVIDER_ID,this.auth=De(s)}verifyPhoneNumber(s,l){return Zn(this.auth,s,(0,c.Ku)(l))}static credential(s,l){return Mt._fromVerification(s,l)}static credentialFromResult(s){return a.credentialFromTaggedObject(s)}static credentialFromError(s){return a.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{phoneNumber:l,temporaryProof:_}=s;return l&&_?Mt._fromTokenResponse(l,_):null}}return a.PROVIDER_ID="phone",a.PHONE_SIGN_IN_METHOD="phone",a})();function nn(a,o){return o?p(o):(N(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class fo extends an{constructor(o){super("custom","custom"),this.params=o}_getIdTokenResponse(o){return Pt(o,this._buildIdpRequest())}_linkToIdToken(o,s){return Pt(o,this._buildIdpRequest(s))}_getReauthenticationResolver(o){return Pt(o,this._buildIdpRequest())}_buildIdpRequest(o){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return o&&(s.idToken=o),s}}function va(a){return rr(a.auth,new fo(a),a.bypassAuthState)}function ba(a){const{auth:o,user:s}=a;return N(s,o,"internal-error"),or(s,new fo(a),a.bypassAuthState)}function ya(a){return vo.apply(this,arguments)}function vo(){return(vo=(0,m.A)(function*(a){const{auth:o,user:s}=a;return N(s,o,"internal-error"),Ti(s,new fo(a),a.bypassAuthState)})).apply(this,arguments)}class Ir{constructor(o,s,l,_,h=!1){this.auth=o,this.resolver=l,this.user=_,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){var o=this;return new Promise(function(){var s=(0,m.A)(function*(l,_){o.pendingPromise={resolve:l,reject:_};try{o.eventManager=yield o.resolver._initialize(o.auth),yield o.onExecution(),o.eventManager.registerConsumer(o)}catch(h){o.reject(h)}});return function(l,_){return s.apply(this,arguments)}}())}onAuthEvent(o){var s=this;return(0,m.A)(function*(){const{urlResponse:l,sessionId:_,postBody:h,tenantId:k,error:x,type:D}=o;if(x)return void s.reject(x);const W={auth:s.auth,requestUri:l,sessionId:_,tenantId:k||void 0,postBody:h||void 0,user:s.user,bypassAuthState:s.bypassAuthState};try{s.resolve(yield s.getIdpTask(D)(W))}catch(ee){s.reject(ee)}})()}onError(o){this.reject(o)}getIdpTask(o){switch(o){case"signInViaPopup":case"signInViaRedirect":return va;case"linkViaPopup":case"linkViaRedirect":return ya;case"reauthViaPopup":case"reauthViaRedirect":return ba;default:X(this.auth,"internal-error")}}resolve(o){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(o),this.unregisterAndCleanUp()}reject(o){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(o),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ia=new vt(2e3,1e4);function Ca(a,o,s){return bo.apply(this,arguments)}function bo(){return(bo=(0,m.A)(function*(a,o,s){const l=De(a);Se(a,o,Gt);const _=nn(l,s);return new Co(l,"signInViaPopup",o,_).executeNotNull()})).apply(this,arguments)}function ka(a,o,s){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a);Se(l.auth,o,Gt);const _=nn(l.auth,s);return new Co(l.auth,"reauthViaPopup",o,_,l).executeNotNull()})).apply(this,arguments)}function Sa(a,o,s){return Io.apply(this,arguments)}function Io(){return(Io=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a);Se(l.auth,o,Gt);const _=nn(l.auth,s);return new Co(l.auth,"linkViaPopup",o,_,l).executeNotNull()})).apply(this,arguments)}let Co=(()=>{class a extends Ir{constructor(s,l,_,h,k){super(s,l,h,k),this.provider=_,this.authWindow=null,this.pollId=null,a.currentPopupAction&&a.currentPopupAction.cancel(),a.currentPopupAction=this}executeNotNull(){var s=this;return(0,m.A)(function*(){const l=yield s.execute();return N(l,s.auth,"internal-error"),l})()}onExecution(){var s=this;return(0,m.A)(function*(){Me(1===s.filter.length,"Popup operations only handle one event");const l=Rn();s.authWindow=yield s.resolver._openPopup(s.auth,s.provider,s.filter[0],l),s.authWindow.associatedEvent=l,s.resolver._originValidation(s.auth).catch(_=>{s.reject(_)}),s.resolver._isIframeWebStorageSupported(s.auth,_=>{_||s.reject(ye(s.auth,"web-storage-unsupported"))}),s.pollUserCancellation()})()}get eventId(){var s;return(null===(s=this.authWindow)||void 0===s?void 0:s.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,a.currentPopupAction=null}pollUserCancellation(){const s=()=>{var l,_;this.pollId=null!==(_=null===(l=this.authWindow)||void 0===l?void 0:l.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(s,Ia.get())};s()}}return a.currentPopupAction=null,a})();const Ta="pendingRedirect",An=new Map;class Ra extends Ir{constructor(o,s,l=!1){super(o,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,l),this.eventId=null}execute(){var o=()=>super.execute,s=this;return(0,m.A)(function*(){let l=An.get(s.auth._key());if(!l){try{const h=(yield function Ea(a,o){return ko.apply(this,arguments)}(s.resolver,s.auth))?yield o().call(s):null;l=()=>Promise.resolve(h)}catch(_){l=()=>Promise.reject(_)}An.set(s.auth._key(),l)}return s.bypassAuthState||An.set(s.auth._key(),()=>Promise.resolve(null)),l()})()}onAuthEvent(o){var s=()=>super.onAuthEvent,l=this;return(0,m.A)(function*(){if("signInViaRedirect"===o.type)return s().call(l,o);if("unknown"!==o.type){if(o.eventId){const _=yield l.auth._redirectUserForId(o.eventId);if(_)return l.user=_,s().call(l,o);l.resolve(null)}}else l.resolve(null)})()}onExecution(){return(0,m.A)(function*(){})()}cleanUp(){}}function ko(){return(ko=(0,m.A)(function*(a,o){const s=zt(o),l=kr(a);if(!(yield l._isAvailable()))return!1;const _="true"===(yield l._get(s));return yield l._remove(s),_})).apply(this,arguments)}function So(a,o){return To.apply(this,arguments)}function To(){return(To=(0,m.A)(function*(a,o){return kr(a)._set(zt(o),"true")})).apply(this,arguments)}function wa(){An.clear()}function Cr(a,o){An.set(a._key(),o)}function kr(a){return p(a._redirectPersistence)}function zt(a){return U(Ta,a.config.apiKey,a.name)}function Ro(a,o,s){return function xa(a,o,s){return Eo.apply(this,arguments)}(a,o,s)}function Eo(){return(Eo=(0,m.A)(function*(a,o,s){const l=De(a);Se(a,o,Gt),yield l._initializationPromise;const _=nn(l,s);return yield So(_,l),_._openRedirect(l,o,"signInViaRedirect")})).apply(this,arguments)}function Aa(a,o,s){return function Oa(a,o,s){return wo.apply(this,arguments)}(a,o,s)}function wo(){return(wo=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a);Se(l.auth,o,Gt),yield l.auth._initializationPromise;const _=nn(l.auth,s);yield So(_,l.auth);const h=yield Xt(l);return _._openRedirect(l.auth,o,"reauthViaRedirect",h)})).apply(this,arguments)}function Fa(a,o,s){return function Pa(a,o,s){return xo.apply(this,arguments)}(a,o,s)}function xo(){return(xo=(0,m.A)(function*(a,o,s){const l=(0,c.Ku)(a);Se(l.auth,o,Gt),yield l.auth._initializationPromise;const _=nn(l.auth,s);yield kn(!1,l,o.providerId),yield So(_,l.auth);const h=yield Xt(l);return _._openRedirect(l.auth,o,"linkViaRedirect",h)})).apply(this,arguments)}function ja(a,o){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,m.A)(function*(a,o){return yield De(a)._initializationPromise,Bt(a,o,!1)})).apply(this,arguments)}function Bt(a,o){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,m.A)(function*(a,o,s=!1){const l=De(a),_=nn(l,o),k=yield new Ra(l,_,s).execute();return k&&!s&&(delete k.user._redirectEventId,yield l._persistUserIfCurrent(k.user),yield l._setRedirectUser(null,o)),k})).apply(this,arguments)}function Xt(a){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.A)(function*(a){const o=Rn(`${a.uid}:::`);return a._redirectEventId=o,yield a.auth._setRedirectUser(a),yield a.auth._persistUserIfCurrent(a),o})).apply(this,arguments)}class Sr{constructor(o){this.auth=o,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(o){this.consumers.add(o),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,o)&&(this.sendToConsumer(this.queuedRedirectEvent,o),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(o){this.consumers.delete(o)}onEvent(o){if(this.hasEventBeenHandled(o))return!1;let s=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(o,l)&&(s=!0,this.sendToConsumer(o,l),this.saveEventToCache(o))}),this.hasHandledPotentialRedirect||!function Da(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rr(a);default:return!1}}(o)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=o,s=!0)),s}sendToConsumer(o,s){var l;if(o.error&&!Rr(o)){const _=(null===(l=o.error.code)||void 0===l?void 0:l.split("auth/")[1])||"internal-error";s.onError(ye(this.auth,_))}else s.onAuthEvent(o)}isEventForConsumer(o,s){const l=null===s.eventId||!!o.eventId&&o.eventId===s.eventId;return s.filter.includes(o.type)&&l}hasEventBeenHandled(o){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tr(o))}saveEventToCache(o){this.cachedEventUids.add(Tr(o)),this.lastProcessedEventTime=Date.now()}}function Tr(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(o=>o).join("-")}function Rr({type:a,error:o}){return"unknown"===a&&"auth/no-auth-event"===o?.code}function Er(a){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,m.A)(function*(a,o={}){return Ie(a,"GET","/v1/projects",o)})).apply(this,arguments)}const Na=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,La=/^https?/;function Po(){return(Po=(0,m.A)(function*(a){if(a.config.emulator)return;const{authorizedDomains:o}=yield Er(a);for(const s of o)try{if($a(s))return}catch{}X(a,"unauthorized-domain")})).apply(this,arguments)}function $a(a){const o=je(),{protocol:s,hostname:l}=new URL(o);if(a.startsWith("chrome-extension://")){const k=new URL(a);return""===k.hostname&&""===l?"chrome-extension:"===s&&a.replace("chrome-extension://","")===o.replace("chrome-extension://",""):"chrome-extension:"===s&&k.hostname===l}if(!La.test(s))return!1;if(Na.test(a))return l===a;const _=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(l)}const za=new vt(3e4,6e4);function Ut(){const a=xe().___jsl;if(a?.H)for(const o of Object.keys(a.H))if(a.H[o].r=a.H[o].r||[],a.H[o].L=a.H[o].L||[],a.H[o].r=[...a.H[o].L],a.CP)for(let s=0;s<a.CP.length;s++)a.CP[s]=null}let ei=null;const Va=new vt(5e3,15e3),Ya="__/auth/iframe",Wa="emulator/auth/iframe",Qa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xa(a){const o=a.config;N(o.authDomain,a,"auth-domain-config-required");const s=o.emulator?Nt(o,Wa):`https://${a.config.authDomain}/${Ya}`,l={apiKey:o.apiKey,appName:a.name,v:e.SDK_VERSION},_=qa.get(a.config.apiHost);_&&(l.eid=_);const h=a._getFrameworks();return h.length&&(l.fw=h.join(",")),`${s}?${(0,c.Am)(l).slice(1)}`}function pn(){return pn=(0,m.A)(function*(a){const o=yield function Ua(a){return ei=ei||function Ba(a){return new Promise((o,s)=>{var l,_,h;function k(){Ut(),gapi.load("gapi.iframes",{callback:()=>{o(gapi.iframes.getContext())},ontimeout:()=>{Ut(),s(ye(a,"network-request-failed"))},timeout:za.get()})}if(null!==(_=null===(l=xe().gapi)||void 0===l?void 0:l.iframes)&&void 0!==_&&_.Iframe)o(gapi.iframes.getContext());else{if(null===(h=xe().gapi)||void 0===h||!h.load){const x=sn("iframefcb");return xe()[x]=()=>{gapi.load?k():s(ye(a,"network-request-failed"))},oi(`https://apis.google.com/js/api.js?onload=${x}`).catch(D=>s(D))}k()}}).catch(o=>{throw ei=null,o})}(a),ei}(a),s=xe().gapi;return N(s,a,"internal-error"),o.open({where:document.body,url:Xa(a),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qa,dontclear:!0},l=>new Promise(function(){var _=(0,m.A)(function*(h,k){yield l.restyle({setHideOnLeave:!1});const x=ye(a,"network-request-failed"),D=xe().setTimeout(()=>{k(x)},Va.get());function W(){xe().clearTimeout(D),h(l)}l.ping(W).then(W,()=>{k(x)})});return function(h,k){return _.apply(this,arguments)}}()))}),pn.apply(this,arguments)}const Qe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jo{constructor(o){this.window=o,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tl="__/auth/handler",nl="emulator/auth/handler",wr=encodeURIComponent("fac");function Mo(a,o,s,l,_,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,m.A)(function*(a,o,s,l,_,h){N(a.config.authDomain,a,"auth-domain-config-required"),N(a.config.apiKey,a,"invalid-api-key");const k={apiKey:a.config.apiKey,appName:a.name,authType:s,redirectUrl:l,v:e.SDK_VERSION,eventId:_};if(o instanceof Gt){o.setDefaultLanguage(a.languageCode),k.providerId=o.providerId||"",(0,c.Im)(o.getCustomParameters())||(k.customParameters=JSON.stringify(o.getCustomParameters()));for(const[ee,Ce]of Object.entries(h||{}))k[ee]=Ce}if(o instanceof ln){const ee=o.getScopes().filter(Ce=>""!==Ce);ee.length>0&&(k.scopes=ee.join(","))}a.tenantId&&(k.tid=a.tenantId);const x=k;for(const ee of Object.keys(x))void 0===x[ee]&&delete x[ee];const D=yield a._getAppCheckToken(),W=D?`#${wr}=${encodeURIComponent(D)}`:"";return`${function il({config:a}){return a.emulator?Nt(a,nl):`https://${a.authDomain}/${tl}`}(a)}?${(0,c.Am)(x).slice(1)}${W}`})).apply(this,arguments)}const No="webStorageSupport",xr=class ol{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=to,this._completeRedirectFn=Bt,this._overrideRedirectResult=Cr}_openPopup(o,s,l,_){var h=this;return(0,m.A)(function*(){var k;Me(null===(k=h.eventManagers[o._key()])||void 0===k?void 0:k.manager,"_initialize() not called before _openPopup()");const x=yield Mo(o,s,l,je(),_);return function Za(a,o,s,l=500,_=600){const h=Math.max((window.screen.availHeight-_)/2,0).toString(),k=Math.max((window.screen.availWidth-l)/2,0).toString();let x="";const D=Object.assign(Object.assign({},Qe),{width:l.toString(),height:_.toString(),top:h,left:k}),W=(0,c.ZQ)().toLowerCase();s&&(x=we(W)?"_blank":s),Te(W)&&(o=o||"http://localhost",D.scrollbars="yes");const ee=Object.entries(D).reduce((nt,[on,ni])=>`${nt}${on}=${ni},`,"");if(function O(a=(0,c.ZQ)()){var o;return T(a)&&!(null===(o=window.navigator)||void 0===o||!o.standalone)}(W)&&"_self"!==x)return function el(a,o){const s=document.createElement("a");s.href=a,s.target=o;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(l)}(o||"",x),new jo(null);const Ce=window.open(o||"",x,ee);N(Ce,a,"popup-blocked");try{Ce.focus()}catch{}return new jo(Ce)}(o,x,Rn())})()}_openRedirect(o,s,l,_){var h=this;return(0,m.A)(function*(){return yield h._originValidation(o),function Js(a){xe().location.href=a}(yield Mo(o,s,l,je(),_)),new Promise(()=>{})})()}_initialize(o){const s=o._key();if(this.eventManagers[s]){const{manager:_,promise:h}=this.eventManagers[s];return _?Promise.resolve(_):(Me(h,"If manager is not set, promise should be"),h)}const l=this.initAndGetManager(o);return this.eventManagers[s]={promise:l},l.catch(()=>{delete this.eventManagers[s]}),l}initAndGetManager(o){var s=this;return(0,m.A)(function*(){const l=yield function Ha(a){return pn.apply(this,arguments)}(o),_=new Sr(o);return l.register("authEvent",h=>(N(h?.authEvent,o,"invalid-auth-event"),{status:_.onEvent(h.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),s.eventManagers[o._key()]={manager:_},s.iframes[o._key()]=l,_})()}_isIframeWebStorageSupported(o,s){this.iframes[o._key()].send(No,{type:No},_=>{var h;const k=null===(h=_?.[0])||void 0===h?void 0:h[No];void 0!==k&&s(!!k),X(o,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(o){const s=o._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=function Ga(a){return Po.apply(this,arguments)}(o)),this.originValidationPromises[s]}get _shouldInitProactively(){return ve()||J()||T()}};class Ar{constructor(o){this.factorId=o}_process(o,s,l){switch(s.type){case"enroll":return this._finalizeEnroll(o,s.credential,l);case"signin":return this._finalizeSignIn(o,s.credential);default:return fe("unexpected MultiFactorSessionType")}}}class Lo extends Ar{constructor(o){super("phone"),this.credential=o}static _fromCredential(o){return new Lo(o)}_finalizeEnroll(o,s,l){return function Bs(a,o){return Ie(a,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(a,o))}(o,{idToken:s,displayName:l,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(o,s){return function wn(a,o){return Ie(a,"POST","/v2/accounts/mfaSignIn:finalize",Ee(a,o))}(o,{mfaPendingCredential:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rl=(()=>{class a{constructor(){}static assertion(s){return Lo._fromCredential(s)}}return a.FACTOR_ID="phone",a})();var Fr="@firebase/auth";class jr{constructor(o){this.auth=o,this.internalListeners=new Map}getUid(){var o;return this.assertAuthConfigured(),(null===(o=this.auth.currentUser)||void 0===o?void 0:o.uid)||null}getToken(o){var s=this;return(0,m.A)(function*(){return s.assertAuthConfigured(),yield s.auth._initializationPromise,s.auth.currentUser?{accessToken:yield s.auth.currentUser.getIdToken(o)}:null})()}addAuthTokenListener(o){if(this.assertAuthConfigured(),this.internalListeners.has(o))return;const s=this.auth.onIdTokenChanged(l=>{o(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(o,s),this.updateProactiveRefresh()}removeAuthTokenListener(o){this.assertAuthConfigured();const s=this.internalListeners.get(o);s&&(this.internalListeners.delete(o),s(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,c.XA)("authIdTokenMaxAge"),function al(a){(0,e._registerComponent)(new le.uA("auth",(o,{options:s})=>{const l=o.getProvider("app").getImmediate(),_=o.getProvider("heartbeat"),h=o.getProvider("app-check-internal"),{apiKey:k,authDomain:x}=l.options;N(k&&!k.includes(":"),"invalid-api-key",{appName:l.name});const D={apiKey:k,authDomain:x,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ke(a)},W=new $r(l,_,h,D);return function Yr(a,o){const s=o?.persistence||[],l=(Array.isArray(s)?s:[s]).map(p);o?.errorMap&&a._updateErrorMap(o.errorMap),a._initializeWithPersistence(l,o?.popupRedirectResolver)}(W,s),W},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((o,s,l)=>{o.getProvider("auth-internal").initialize()})),(0,e._registerComponent)(new le.uA("auth-internal",o=>{const s=De(o.getProvider("auth").getImmediate());return new jr(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,e.registerVersion)(Fr,"1.3.2",function sl(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(a)),(0,e.registerVersion)(Fr,"1.3.2","esm2017")}("Browser")},94200:(Xe,be,y)=>{"use strict";y.d(be,{Am:()=>Ot,Bd:()=>Me,FA:()=>bt,I9:()=>Ze,Im:()=>v,Ku:()=>Rt,Ll:()=>fe,T9:()=>X,Uj:()=>Q,XA:()=>ye,ZQ:()=>ne,bD:()=>xt,cY:()=>ge,eX:()=>wt,g:()=>Ie,gR:()=>Pe,hp:()=>mt,jZ:()=>N,lT:()=>kt,lV:()=>dt,sr:()=>je,tD:()=>pt,u:()=>S,zW:()=>ot,zw:()=>M});const F=function(C){const I=[];let g=0;for(let f=0;f<C.length;f++){let p=C.charCodeAt(f);p<128?I[g++]=p:p<2048?(I[g++]=p>>6|192,I[g++]=63&p|128):55296==(64512&p)&&f+1<C.length&&56320==(64512&C.charCodeAt(f+1))?(p=65536+((1023&p)<<10)+(1023&C.charCodeAt(++f)),I[g++]=p>>18|240,I[g++]=p>>12&63|128,I[g++]=p>>6&63|128,I[g++]=63&p|128):(I[g++]=p>>12|224,I[g++]=p>>6&63|128,I[g++]=63&p|128)}return I},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(C,I){if(!Array.isArray(C))throw Error("encodeByteArray takes an array as a parameter");this.init_();const g=I?this.byteToCharMapWebSafe_:this.byteToCharMap_,f=[];for(let p=0;p<C.length;p+=3){const R=C[p],P=p+1<C.length,U=P?C[p+1]:0,ie=p+2<C.length,ce=ie?C[p+2]:0;let we=(15&U)<<2|ce>>6,me=63&ce;ie||(me=64,P||(we=64)),f.push(g[R>>2],g[(3&R)<<4|U>>4],g[we],g[me])}return f.join("")},encodeString(C,I){return this.HAS_NATIVE_SUPPORT&&!I?btoa(C):this.encodeByteArray(F(C),I)},decodeString(C,I){return this.HAS_NATIVE_SUPPORT&&!I?atob(C):function(C){const I=[];let g=0,f=0;for(;g<C.length;){const p=C[g++];if(p<128)I[f++]=String.fromCharCode(p);else if(p>191&&p<224){const R=C[g++];I[f++]=String.fromCharCode((31&p)<<6|63&R)}else if(p>239&&p<365){const ie=((7&p)<<18|(63&C[g++])<<12|(63&C[g++])<<6|63&C[g++])-65536;I[f++]=String.fromCharCode(55296+(ie>>10)),I[f++]=String.fromCharCode(56320+(1023&ie))}else{const R=C[g++],P=C[g++];I[f++]=String.fromCharCode((15&p)<<12|(63&R)<<6|63&P)}}return I.join("")}(this.decodeStringToByteArray(C,I))},decodeStringToByteArray(C,I){this.init_();const g=I?this.charToByteMapWebSafe_:this.charToByteMap_,f=[];for(let p=0;p<C.length;){const R=g[C.charAt(p++)],U=p<C.length?g[C.charAt(p)]:0;++p;const ce=p<C.length?g[C.charAt(p)]:64;++p;const J=p<C.length?g[C.charAt(p)]:64;if(++p,null==R||null==U||null==ce||null==J)throw new se;f.push(R<<2|U>>4),64!==ce&&(f.push(U<<4&240|ce>>2),64!==J&&f.push(ce<<6&192|J))}return f},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let C=0;C<this.ENCODED_VALS.length;C++)this.byteToCharMap_[C]=this.ENCODED_VALS.charAt(C),this.charToByteMap_[this.byteToCharMap_[C]]=C,this.byteToCharMapWebSafe_[C]=this.ENCODED_VALS_WEBSAFE.charAt(C),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[C]]=C,C>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(C)]=C,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(C)]=C)}}};class se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(C){return function(C){const I=F(C);return le.encodeByteArray(I,!0)}(C).replace(/\./g,"")},S=function(C){try{return le.decodeString(C,!0)}catch(I){console.error("base64Decode failed: ",I)}return null};function M(C,I){if(!(I instanceof Object))return I;switch(I.constructor){case Date:return new Date(I.getTime());case Object:void 0===C&&(C={});break;case Array:C=[];break;default:return I}for(const g in I)!I.hasOwnProperty(g)||!j(g)||(C[g]=M(C[g],I[g]));return C}function j(C){return"__proto__"!==C}const te=()=>{try{return function B(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const C=process.env.__FIREBASE_DEFAULTS__;return C?JSON.parse(C):void 0})()||(()=>{if(typeof document>"u")return;let C;try{C=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const I=C&&S(C[1]);return I&&JSON.parse(I)})()}catch(C){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${C}`)}},X=()=>{var C;return null===(C=te())||void 0===C?void 0:C.config},ye=C=>{var I;return null===(I=te())||void 0===I?void 0:I[`_${C}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((I,g)=>{this.resolve=I,this.reject=g})}wrapCallback(I){return(g,f)=>{g?this.reject(g):this.resolve(f),"function"==typeof I&&(this.promise.catch(()=>{}),1===I.length?I(g):I(g,f))}}}function ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function fe(){var C;const I=null===(C=te())||void 0===C?void 0:C.forceEnvironment;if("node"===I)return!0;if("browser"===I)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function je(){const C="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof C&&void 0!==C.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const C=ne();return C.indexOf("MSIE ")>=0||C.indexOf("Trident/")>=0}function ot(){try{return"object"==typeof indexedDB}catch{return!1}}function wt(){return new Promise((C,I)=>{try{let g=!0;const f="validate-browser-context-for-indexeddb-analytics-module",p=self.indexedDB.open(f);p.onsuccess=()=>{p.result.close(),g||self.indexedDB.deleteDatabase(f),C(!0)},p.onupgradeneeded=()=>{g=!1},p.onerror=()=>{var R;I((null===(R=p.error)||void 0===R?void 0:R.message)||"")}}catch(g){I(g)}})}class Ie extends Error{constructor(I,g,f){super(g),this.code=I,this.customData=f,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(I,g,f){this.service=I,this.serviceName=g,this.errors=f}create(I,...g){const f=g[0]||{},p=`${this.service}/${I}`,R=this.errors[I],P=R?function rt(C,I){return C.replace(_t,(g,f)=>{const p=I[f];return null!=p?String(p):`<${f}?>`})}(R,f):"Error";return new Ie(p,`${this.serviceName}: ${P} (${p}).`,f)}}const _t=/\{\$([^}]+)}/g;function Pe(C,I){return Object.prototype.hasOwnProperty.call(C,I)}function v(C){for(const I in C)if(Object.prototype.hasOwnProperty.call(C,I))return!1;return!0}function xt(C,I){if(C===I)return!0;const g=Object.keys(C),f=Object.keys(I);for(const p of g){if(!f.includes(p))return!1;const R=C[p],P=I[p];if(oe(R)&&oe(P)){if(!xt(R,P))return!1}else if(R!==P)return!1}for(const p of f)if(!g.includes(p))return!1;return!0}function oe(C){return null!==C&&"object"==typeof C}function Ot(C){const I=[];for(const[g,f]of Object.entries(C))Array.isArray(f)?f.forEach(p=>{I.push(encodeURIComponent(g)+"="+encodeURIComponent(p))}):I.push(encodeURIComponent(g)+"="+encodeURIComponent(f));return I.length?"&"+I.join("&"):""}function Ze(C){const I={};return C.replace(/^\?/,"").split("&").forEach(f=>{if(f){const[p,R]=f.split("=");I[decodeURIComponent(p)]=decodeURIComponent(R)}}),I}function mt(C){const I=C.indexOf("?");if(!I)return"";const g=C.indexOf("#",I);return C.substring(I,g>0?g:void 0)}function pt(C,I){const g=new yt(C,I);return g.subscribe.bind(g)}class yt{constructor(I,g){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=g,this.task.then(()=>{I(this)}).catch(f=>{this.error(f)})}next(I){this.forEachObserver(g=>{g.next(I)})}error(I){this.forEachObserver(g=>{g.error(I)}),this.close(I)}complete(){this.forEachObserver(I=>{I.complete()}),this.close()}subscribe(I,g,f){let p;if(void 0===I&&void 0===g&&void 0===f)throw new Error("Missing Observer.");p=function Ue(C,I){if("object"!=typeof C||null===C)return!1;for(const g of I)if(g in C&&"function"==typeof C[g])return!0;return!1}(I,["next","error","complete"])?I:{next:I,error:g,complete:f},void 0===p.next&&(p.next=lt),void 0===p.error&&(p.error=lt),void 0===p.complete&&(p.complete=lt);const R=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?p.error(this.finalError):p.complete()}catch{}}),this.observers.push(p),R}unsubscribeOne(I){void 0===this.observers||void 0===this.observers[I]||(delete this.observers[I],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(I){if(!this.finalized)for(let g=0;g<this.observers.length;g++)this.sendOne(g,I)}sendOne(I,g){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[I])try{g(this.observers[I])}catch(f){typeof console<"u"&&console.error&&console.error(f)}})}close(I){this.finalized||(this.finalized=!0,void 0!==I&&(this.finalError=I),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lt(){}function Rt(C){return C&&C._delegate?C._delegate:C}},43277:function(Xe,be){var y,c;void 0!==(c="function"==typeof(y=function(){"use strict";function F(S,E,M){var j=new XMLHttpRequest;j.open("GET",S),j.responseType="blob",j.onload=function(){Q(j.response,E,M)},j.onerror=function(){console.error("could not download file")},j.send()}function H(S){var E=new XMLHttpRequest;E.open("HEAD",S,!1);try{E.send()}catch{}return 200<=E.status&&299>=E.status}function le(S){try{S.dispatchEvent(new MouseEvent("click"))}catch{var E=document.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),S.dispatchEvent(E)}}var se="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,K=se.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Q=se.saveAs||("object"!=typeof window||window!==se?function(){}:"download"in HTMLAnchorElement.prototype&&!K?function(S,E,M){var j=se.URL||se.webkitURL,B=document.createElement("a");B.download=E=E||S.name||"download",B.rel="noopener","string"==typeof S?(B.href=S,B.origin===location.origin?le(B):H(B.href)?F(S,E,M):le(B,B.target="_blank")):(B.href=j.createObjectURL(S),setTimeout(function(){j.revokeObjectURL(B.href)},4e4),setTimeout(function(){le(B)},0))}:"msSaveOrOpenBlob"in navigator?function(S,E,M){if(E=E||S.name||"download","string"!=typeof S)navigator.msSaveOrOpenBlob(function e(S,E){return typeof E>"u"?E={autoBom:!1}:"object"!=typeof E&&(console.warn("Deprecated: Expected third argument to be a object"),E={autoBom:!E}),E.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(S.type)?new Blob(["\ufeff",S],{type:S.type}):S}(S,M),E);else if(H(S))F(S,E,M);else{var j=document.createElement("a");j.href=S,j.target="_blank",setTimeout(function(){le(j)})}}:function(S,E,M,j){if((j=j||open("","_blank"))&&(j.document.title=j.document.body.innerText="downloading..."),"string"==typeof S)return F(S,E,M);var B="application/octet-stream"===S.type,V=/constructor/i.test(se.HTMLElement)||se.safari,$=/CriOS\/[\d]+/.test(navigator.userAgent);if(($||B&&V||K)&&typeof FileReader<"u"){var q=new FileReader;q.onloadend=function(){var Ae=q.result;Ae=$?Ae:Ae.replace(/^data:[^;]*;/,"data:attachment/file;"),j?j.location.href=Ae:location=Ae,j=null},q.readAsDataURL(S)}else{var te=se.URL||se.webkitURL,Le=te.createObjectURL(S);j?j.location=Le:location.href=Le,j=null,setTimeout(function(){te.revokeObjectURL(Le)},4e4)}});se.saveAs=Q.saveAs=Q,Xe.exports=Q})?y.apply(be,[]):y)&&(Xe.exports=c)},26863:(Xe,be,y)=>{"use strict";y.d(be,{A:()=>V});var m=y(94200),c=y(12248),e=y(24788),F=y(56094);class H{constructor(q,te){this._delegate=q,this.firebase=te,(0,e._addComponent)(q,new c.uA("app-compat",()=>this,"PUBLIC")),this.container=q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this._delegate.automaticDataCollectionEnabled=q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(q=>{this._delegate.checkDestroyed(),q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,e.deleteApp)(this._delegate)))}_getService(q,te=e._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(q);return!Ae.isInitialized()&&"EXPLICIT"===(null===(Le=Ae.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:te})}_removeServiceInstance(q,te=e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(q).clearInstance(te)}_addComponent(q){(0,e._addComponent)(this._delegate,q)}_addOrOverwriteComponent(q){(0,e._addOrOverwriteComponent)(this._delegate,q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new m.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),S=function Q(){const $=function K($){const q={},te={__esModule:!0,initializeApp:function X(ne,N={}){const fe=e.initializeApp(ne,N);if((0,m.gR)(q,fe.name))return q[fe.name];const Me=new $(fe,te);return q[fe.name]=Me,Me},app:Ae,registerVersion:e.registerVersion,setLogLevel:e.setLogLevel,onLog:e.onLog,apps:null,SDK_VERSION:e.SDK_VERSION,INTERNAL:{registerComponent:function ge(ne){const N=ne.name,fe=N.replace("-compat","");if(e._registerComponent(ne)&&"PUBLIC"===ne.type){const Me=(je=Ae())=>{if("function"!=typeof je[fe])throw se.create("invalid-app-argument",{appName:N});return je[fe]()};void 0!==ne.serviceProps&&(0,m.zw)(Me,ne.serviceProps),te[fe]=Me,$.prototype[fe]=function(...je){return this._getService.bind(this,N).apply(this,ne.multipleInstances?je:[])}}return"PUBLIC"===ne.type?te[fe]:null},removeApp:function Le(ne){delete q[ne]},useAsService:function Se(ne,N){return"serverAuth"===N?null:N},modularAPIs:e}};function Ae(ne){if(!(0,m.gR)(q,ne=ne||e._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:ne});return q[ne]}return te.default=te,Object.defineProperty(te,"apps",{get:function ye(){return Object.keys(q).map(ne=>q[ne])}}),Ae.App=$,te}(H);return $.INTERNAL=Object.assign(Object.assign({},$.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function q(te){(0,m.zw)($,te)},createSubscribe:m.tD,ErrorFactory:m.FA,deepExtend:m.zw}),$}(),E=new F.Vy("@firebase/app-compat");if((0,m.Bd)()&&void 0!==self.firebase){E.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $=self.firebase.SDK_VERSION;$&&$.indexOf("LITE")>=0&&E.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const V=S;!function B($){(0,e.registerVersion)("@firebase/app-compat","0.2.22",$)}()},24788:(Xe,be,y)=>{"use strict";y.r(be),y.d(be,{FirebaseError:()=>F.g,SDK_VERSION:()=>Qt,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>yt,_addOrOverwriteComponent:()=>fn,_apps:()=>st,_clearComponents:()=>ht,_components:()=>pt,_getProvider:()=>lt,_registerComponent:()=>Ue,_removeServiceInstance:()=>Tt,deleteApp:()=>at,getApp:()=>Jt,getApps:()=>Ne,initializeApp:()=>et,onLog:()=>Kt,registerVersion:()=>gt,setLogLevel:()=>He});var m=y(73014),c=y(12248),e=y(56094),F=y(94200);const H=(A,T)=>T.some(L=>A instanceof L);let le,se;const S=new WeakMap,E=new WeakMap,M=new WeakMap,j=new WeakMap,B=new WeakMap;let q={get(A,T,L){if(A instanceof IDBTransaction){if("done"===T)return E.get(A);if("objectStoreNames"===T)return A.objectStoreNames||M.get(A);if("store"===T)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return X(A[T])},set:(A,T,L)=>(A[T]=L,!0),has:(A,T)=>A instanceof IDBTransaction&&("done"===T||"store"===T)||T in A};function Ae(A){return"function"==typeof A?function Le(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...T){return A.apply(ye(this),T),X(S.get(this))}:function(...T){return X(A.apply(ye(this),T))}:function(T,...L){const O=A.call(ye(this),T,...L);return M.set(O,T.sort?T.sort():[T]),X(O)}}(A):(A instanceof IDBTransaction&&function $(A){if(E.has(A))return;const T=new Promise((L,O)=>{const de=()=>{A.removeEventListener("complete",ve),A.removeEventListener("error",Oe),A.removeEventListener("abort",Oe)},ve=()=>{L(),de()},Oe=()=>{O(A.error||new DOMException("AbortError","AbortError")),de()};A.addEventListener("complete",ve),A.addEventListener("error",Oe),A.addEventListener("abort",Oe)});E.set(A,T)}(A),H(A,function K(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,q):A)}function X(A){if(A instanceof IDBRequest)return function V(A){const T=new Promise((L,O)=>{const de=()=>{A.removeEventListener("success",ve),A.removeEventListener("error",Oe)},ve=()=>{L(X(A.result)),de()},Oe=()=>{O(A.error),de()};A.addEventListener("success",ve),A.addEventListener("error",Oe)});return T.then(L=>{L instanceof IDBCursor&&S.set(L,A)}).catch(()=>{}),B.set(T,A),T}(A);if(j.has(A))return j.get(A);const T=Ae(A);return T!==A&&(j.set(A,T),B.set(T,A)),T}const ye=A=>B.get(A),ne=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],fe=new Map;function Me(A,T){if(!(A instanceof IDBDatabase)||T in A||"string"!=typeof T)return;if(fe.get(T))return fe.get(T);const L=T.replace(/FromIndex$/,""),O=T!==L,de=N.includes(L);if(!(L in(O?IDBIndex:IDBObjectStore).prototype)||!de&&!ne.includes(L))return;const ve=function(){var Oe=(0,m.A)(function*(Ke,...We){const qt=this.transaction(Ke,de?"readwrite":"readonly");let Zt=qt.store;return O&&(Zt=Zt.index(We.shift())),(yield Promise.all([Zt[L](...We),de&&qt.done]))[0]});return function(We){return Oe.apply(this,arguments)}}();return fe.set(T,ve),ve}!function te(A){q=A(q)}(A=>({...A,get:(T,L,O)=>Me(T,L)||A.get(T,L,O),has:(T,L)=>!!Me(T,L)||A.has(T,L)}));class je{constructor(T){this.container=T}getPlatformInfoString(){return this.container.getProviders().map(L=>{if(function dt(A){const T=A.getComponent();return"VERSION"===T?.type}(L)){const O=L.getImmediate();return`${O.library}/${O.version}`}return null}).filter(L=>L).join(" ")}}const Et="@firebase/app",Je=new e.Vy("@firebase/app"),Ze="[DEFAULT]",mt={[Et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,pt=new Map;function yt(A,T){try{A.container.addComponent(T)}catch(L){Je.debug(`Component ${T.name} failed to register with FirebaseApp ${A.name}`,L)}}function fn(A,T){A.container.addOrOverwriteComponent(T)}function Ue(A){const T=A.name;if(pt.has(T))return Je.debug(`There were multiple attempts to register component ${T}.`),!1;pt.set(T,A);for(const L of st.values())yt(L,A);return!0}function lt(A,T){const L=A.container.getProvider("heartbeat").getImmediate({optional:!0});return L&&L.triggerHeartbeat(),A.container.getProvider(T)}function Tt(A,T,L=Ze){lt(A,T).clearInstance(L)}function ht(){pt.clear()}const Ge=new F.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ve{constructor(T,L,O){this._isDeleted=!1,this._options=Object.assign({},T),this._config=Object.assign({},L),this._name=L.name,this._automaticDataCollectionEnabled=L.automaticDataCollectionEnabled,this._container=O,this.container.addComponent(new c.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(T){this.checkDestroyed(),this._automaticDataCollectionEnabled=T}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(T){this._isDeleted=T}checkDestroyed(){if(this.isDeleted)throw Ge.create("app-deleted",{appName:this._name})}}const Qt="10.5.2";function et(A,T={}){let L=A;"object"!=typeof T&&(T={name:T});const O=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},T),de=O.name;if("string"!=typeof de||!de)throw Ge.create("bad-app-name",{appName:String(de)});if(L||(L=(0,F.T9)()),!L)throw Ge.create("no-options");const ve=st.get(de);if(ve){if((0,F.bD)(L,ve.options)&&(0,F.bD)(O,ve.config))return ve;throw Ge.create("duplicate-app",{appName:de})}const Oe=new c.h1(de);for(const We of pt.values())Oe.addComponent(We);const Ke=new Ve(L,O,Oe);return st.set(de,Ke),Ke}function Jt(A=Ze){const T=st.get(A);if(!T&&A===Ze&&(0,F.T9)())return et();if(!T)throw Ge.create("no-app",{appName:A});return T}function Ne(){return Array.from(st.values())}function at(A){return Z.apply(this,arguments)}function Z(){return(Z=(0,m.A)(function*(A){const T=A.name;st.has(T)&&(st.delete(T),yield Promise.all(A.container.getProviders().map(L=>L.delete())),A.isDeleted=!0)})).apply(this,arguments)}function gt(A,T,L){var O;let de=null!==(O=mt[A])&&void 0!==O?O:A;L&&(de+=`-${L}`);const ve=de.match(/\s|\//),Oe=T.match(/\s|\//);if(ve||Oe){const Ke=[`Unable to register library "${de}" with version "${T}":`];return ve&&Ke.push(`library name "${de}" contains illegal characters (whitespace or "/")`),ve&&Oe&&Ke.push("and"),Oe&&Ke.push(`version name "${T}" contains illegal characters (whitespace or "/")`),void Je.warn(Ke.join(" "))}Ue(new c.uA(`${de}-version`,()=>({library:de,version:T}),"VERSION"))}function Kt(A,T){if(null!==A&&"function"!=typeof A)throw Ge.create("invalid-log-argument");(0,e.Ey)(A,T)}function He(A){(0,e.He)(A)}const ct="firebase-heartbeat-database",Rt=1,C="firebase-heartbeat-store";let I=null;function g(){return I||(I=function ge(A,T,{blocked:L,upgrade:O,blocking:de,terminated:ve}={}){const Oe=indexedDB.open(A,T),Ke=X(Oe);return O&&Oe.addEventListener("upgradeneeded",We=>{O(X(Oe.result),We.oldVersion,We.newVersion,X(Oe.transaction),We)}),L&&Oe.addEventListener("blocked",We=>L(We.oldVersion,We.newVersion,We)),Ke.then(We=>{ve&&We.addEventListener("close",()=>ve()),de&&We.addEventListener("versionchange",qt=>de(qt.oldVersion,qt.newVersion,qt))}).catch(()=>{}),Ke}(ct,Rt,{upgrade:(A,T)=>{0===T&&A.createObjectStore(C)}}).catch(A=>{throw Ge.create("idb-open",{originalErrorMessage:A.message})})),I}function p(){return(p=(0,m.A)(function*(A){try{return yield(yield g()).transaction(C).objectStore(C).get(U(A))}catch(T){if(T instanceof F.g)Je.warn(T.message);else{const L=Ge.create("idb-get",{originalErrorMessage:T?.message});Je.warn(L.message)}}})).apply(this,arguments)}function R(A,T){return P.apply(this,arguments)}function P(){return(P=(0,m.A)(function*(A,T){try{const O=(yield g()).transaction(C,"readwrite");yield O.objectStore(C).put(T,U(A)),yield O.done}catch(L){if(L instanceof F.g)Je.warn(L.message);else{const O=Ge.create("idb-set",{originalErrorMessage:L?.message});Je.warn(O.message)}}})).apply(this,arguments)}function U(A){return`${A.name}!${A.options.appId}`}class Te{constructor(T){this.container=T,this._heartbeatsCache=null;const L=this.container.getProvider("app").getImmediate();this._storage=new me(L),this._heartbeatsCachePromise=this._storage.read().then(O=>(this._heartbeatsCache=O,O))}triggerHeartbeat(){var T=this;return(0,m.A)(function*(){const O=T.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),de=J();if(null===T._heartbeatsCache&&(T._heartbeatsCache=yield T._heartbeatsCachePromise),T._heartbeatsCache.lastSentHeartbeatDate!==de&&!T._heartbeatsCache.heartbeats.some(ve=>ve.date===de))return T._heartbeatsCache.heartbeats.push({date:de,agent:O}),T._heartbeatsCache.heartbeats=T._heartbeatsCache.heartbeats.filter(ve=>{const Oe=new Date(ve.date).valueOf();return Date.now()-Oe<=2592e6}),T._storage.overwrite(T._heartbeatsCache)})()}getHeartbeatsHeader(){var T=this;return(0,m.A)(function*(){if(null===T._heartbeatsCache&&(yield T._heartbeatsCachePromise),null===T._heartbeatsCache||0===T._heartbeatsCache.heartbeats.length)return"";const L=J(),{heartbeatsToSend:O,unsentEntries:de}=function we(A,T=1024){const L=[];let O=A.slice();for(const de of A){const ve=L.find(Oe=>Oe.agent===de.agent);if(ve){if(ve.dates.push(de.date),ue(L)>T){ve.dates.pop();break}}else if(L.push({agent:de.agent,dates:[de.date]}),ue(L)>T){L.pop();break}O=O.slice(1)}return{heartbeatsToSend:L,unsentEntries:O}}(T._heartbeatsCache.heartbeats),ve=(0,F.Uj)(JSON.stringify({version:2,heartbeats:O}));return T._heartbeatsCache.lastSentHeartbeatDate=L,de.length>0?(T._heartbeatsCache.heartbeats=de,yield T._storage.overwrite(T._heartbeatsCache)):(T._heartbeatsCache.heartbeats=[],T._storage.overwrite(T._heartbeatsCache)),ve})()}}function J(){return(new Date).toISOString().substring(0,10)}class me{constructor(T){this.app=T,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.A)(function*(){return!!(0,F.zW)()&&(0,F.eX)().then(()=>!0).catch(()=>!1)})()}read(){var T=this;return(0,m.A)(function*(){return(yield T._canUseIndexedDBPromise)&&(yield function f(A){return p.apply(this,arguments)}(T.app))||{heartbeats:[]}})()}overwrite(T){var L=this;return(0,m.A)(function*(){var O;if(yield L._canUseIndexedDBPromise){const ve=yield L.read();return R(L.app,{lastSentHeartbeatDate:null!==(O=T.lastSentHeartbeatDate)&&void 0!==O?O:ve.lastSentHeartbeatDate,heartbeats:T.heartbeats})}})()}add(T){var L=this;return(0,m.A)(function*(){var O;if(yield L._canUseIndexedDBPromise){const ve=yield L.read();return R(L.app,{lastSentHeartbeatDate:null!==(O=T.lastSentHeartbeatDate)&&void 0!==O?O:ve.lastSentHeartbeatDate,heartbeats:[...ve.heartbeats,...T.heartbeats]})}})()}}function ue(A){return(0,F.Uj)(JSON.stringify({version:2,heartbeats:A})).length}!function Ft(A){Ue(new c.uA("platform-logger",T=>new je(T),"PRIVATE")),Ue(new c.uA("heartbeat",T=>new Te(T),"PRIVATE")),gt(Et,"0.9.22",A),gt(Et,"0.9.22","esm2017"),gt("fire-js","")}("")},12248:(Xe,be,y)=>{"use strict";y.d(be,{h1:()=>K,uA:()=>e});var m=y(73014),c=y(94200);class e{constructor(S,E,M){this.name=S,this.instanceFactory=E,this.type=M,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(S){return this.instantiationMode=S,this}setMultipleInstances(S){return this.multipleInstances=S,this}setServiceProps(S){return this.serviceProps=S,this}setInstanceCreatedCallback(S){return this.onInstanceCreated=S,this}}const F="[DEFAULT]";class H{constructor(S,E){this.name=S,this.container=E,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(S){const E=this.normalizeInstanceIdentifier(S);if(!this.instancesDeferred.has(E)){const M=new c.cY;if(this.instancesDeferred.set(E,M),this.isInitialized(E)||this.shouldAutoInitialize())try{const j=this.getOrInitializeService({instanceIdentifier:E});j&&M.resolve(j)}catch{}}return this.instancesDeferred.get(E).promise}getImmediate(S){var E;const M=this.normalizeInstanceIdentifier(S?.identifier),j=null!==(E=S?.optional)&&void 0!==E&&E;if(!this.isInitialized(M)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:M})}catch(B){if(j)return null;throw B}}getComponent(){return this.component}setComponent(S){if(S.name!==this.name)throw Error(`Mismatching Component ${S.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=S,this.shouldAutoInitialize()){if(function se(Q){return"EAGER"===Q.instantiationMode}(S))try{this.getOrInitializeService({instanceIdentifier:F})}catch{}for(const[E,M]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(E);try{const B=this.getOrInitializeService({instanceIdentifier:j});M.resolve(B)}catch{}}}}clearInstance(S=F){this.instancesDeferred.delete(S),this.instancesOptions.delete(S),this.instances.delete(S)}delete(){var S=this;return(0,m.A)(function*(){const E=Array.from(S.instances.values());yield Promise.all([...E.filter(M=>"INTERNAL"in M).map(M=>M.INTERNAL.delete()),...E.filter(M=>"_delete"in M).map(M=>M._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(S=F){return this.instances.has(S)}getOptions(S=F){return this.instancesOptions.get(S)||{}}initialize(S={}){const{options:E={}}=S,M=this.normalizeInstanceIdentifier(S.instanceIdentifier);if(this.isInitialized(M))throw Error(`${this.name}(${M}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:M,options:E});for(const[B,V]of this.instancesDeferred.entries())M===this.normalizeInstanceIdentifier(B)&&V.resolve(j);return j}onInit(S,E){var M;const j=this.normalizeInstanceIdentifier(E),B=null!==(M=this.onInitCallbacks.get(j))&&void 0!==M?M:new Set;B.add(S),this.onInitCallbacks.set(j,B);const V=this.instances.get(j);return V&&S(V,j),()=>{B.delete(S)}}invokeOnInitCallbacks(S,E){const M=this.onInitCallbacks.get(E);if(M)for(const j of M)try{j(S,E)}catch{}}getOrInitializeService({instanceIdentifier:S,options:E={}}){let M=this.instances.get(S);if(!M&&this.component&&(M=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=S,Q===F?void 0:Q),options:E}),this.instances.set(S,M),this.instancesOptions.set(S,E),this.invokeOnInitCallbacks(M,S),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,S,M)}catch{}var Q;return M||null}normalizeInstanceIdentifier(S=F){return this.component?this.component.multipleInstances?S:F:S}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(S){this.name=S,this.providers=new Map}addComponent(S){const E=this.getProvider(S.name);if(E.isComponentSet())throw new Error(`Component ${S.name} has already been registered with ${this.name}`);E.setComponent(S)}addOrOverwriteComponent(S){this.getProvider(S.name).isComponentSet()&&this.providers.delete(S.name),this.addComponent(S)}getProvider(S){if(this.providers.has(S))return this.providers.get(S);const E=new H(S,this);return this.providers.set(S,E),E}getProviders(){return Array.from(this.providers.values())}}},52114:(Xe,be,y)=>{"use strict";y.r(be);var m=y(73014),c=y(26863),e=y(97730),F=y(94200),se=(y(24788),y(56094),y(12248));function K(){return window}function E(){return E=(0,m.A)(function*(g,f,p){var R;const{BuildInfo:P}=K();(0,e.at)(f.sessionId,"AuthEvent did not contain a session ID");const U=yield function te(g){return Le.apply(this,arguments)}(f.sessionId),ie={};return(0,e.au)()?ie.ibi=P.packageName:(0,e.av)()?ie.apn=P.packageName:(0,e.aw)(g,"operation-not-supported-in-this-environment"),P.displayName&&(ie.appDisplayName=P.displayName),ie.sessionId=U,(0,e.ax)(g,p,f.type,void 0,null!==(R=f.eventId)&&void 0!==R?R:void 0,ie)}),E.apply(this,arguments)}function j(){return(j=(0,m.A)(function*(g){const{BuildInfo:f}=K(),p={};(0,e.au)()?p.iosBundleId=f.packageName:(0,e.av)()?p.androidPackageName=f.packageName:(0,e.aw)(g,"operation-not-supported-in-this-environment"),yield(0,e.ay)(g,p)})).apply(this,arguments)}function $(){return($=(0,m.A)(function*(g,f,p){const{cordova:R}=K();let P=()=>{};try{yield new Promise((U,ie)=>{let ce=null;function Te(){var me;U();const ue=null===(me=R.plugins.browsertab)||void 0===me?void 0:me.close;"function"==typeof ue&&ue(),"function"==typeof p?.close&&p.close()}function J(){ce||(ce=window.setTimeout(()=>{ie((0,e.aA)(g,"redirect-cancelled-by-user"))},2e3))}function we(){"visible"===document?.visibilityState&&J()}f.addPassiveListener(Te),document.addEventListener("resume",J,!1),(0,e.av)()&&document.addEventListener("visibilitychange",we,!1),P=()=>{f.removePassiveListener(Te),document.removeEventListener("resume",J,!1),document.removeEventListener("visibilitychange",we,!1),ce&&window.clearTimeout(ce)}})}finally{P()}})).apply(this,arguments)}function Le(){return(Le=(0,m.A)(function*(g){const f=function Ae(g){if((0,e.at)(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const f=new ArrayBuffer(g.length),p=new Uint8Array(f);for(let R=0;R<g.length;R++)p[R]=g.charCodeAt(R);return p}(g),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(P=>P.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ye extends e.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,m.A)(function*(){yield f.initPromise})()}}function ne(g){return N.apply(this,arguments)}function N(){return(N=(0,m.A)(function*(g){const f=yield je()._get(dt(g));return f&&(yield je()._remove(dt(g))),f})).apply(this,arguments)}function Me(){const g=[];for(let p=0;p<20;p++){const R=Math.floor(62*Math.random());g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(R))}return g.join("")}function je(){return(0,e.aD)(e.b)}function dt(g){return(0,e.aE)("authEvent",g.config.apiKey,g.name)}function Je(g){if(!g?.includes("?"))return{};const[f,...p]=g.split("?");return(0,F.I9)(p.join("?"))}const ot=class Nt{constructor(){this._redirectPersistence=e.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=e.aF,this._overrideRedirectResult=e.aG}_initialize(f){var p=this;return(0,m.A)(function*(){const R=f._key();let P=p.eventManagers.get(R);return P||(P=new ye(f),p.eventManagers.set(R,P),p.attachCallbackListeners(f,P)),P})()}_openPopup(f){(0,e.aw)(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,R,P){var U=this;return(0,m.A)(function*(){!function q(g){var f,p,R,P,U,ie,ce,Te,J,we;const me=K();(0,e.aB)("function"==typeof(null===(f=me?.universalLinks)||void 0===f?void 0:f.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,e.aB)(typeof(null===(p=me?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,e.aB)("function"==typeof(null===(U=null===(P=null===(R=me?.cordova)||void 0===R?void 0:R.plugins)||void 0===P?void 0:P.browsertab)||void 0===U?void 0:U.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,e.aB)("function"==typeof(null===(Te=null===(ce=null===(ie=me?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Te?void 0:Te.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,e.aB)("function"==typeof(null===(we=null===(J=me?.cordova)||void 0===J?void 0:J.InAppBrowser)||void 0===we?void 0:we.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const ie=yield U._initialize(f);yield ie.initialized(),ie.resetRedirect(),(0,e.aH)(),yield U._originValidation(f);const ce=function ge(g,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Me(),postBody:null,tenantId:g.tenantId,error:(0,e.aA)(g,"no-auth-event")}}(f,R,P);yield function Se(g,f){return je()._set(dt(g),f)}(f,ce);const Te=yield function S(g,f,p){return E.apply(this,arguments)}(f,ce,p),J=yield function B(g){const{cordova:f}=K();return new Promise(p=>{f.plugins.browsertab.isAvailable(R=>{let P=null;R?f.plugins.browsertab.openUrl(g):P=f.InAppBrowser.open(g,(0,e.az)()?"_blank":"_system","location=yes"),p(P)})})}(Te);return function V(g,f,p){return $.apply(this,arguments)}(f,ie,J)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function M(g){return j.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:R,handleOpenURL:P,BuildInfo:U}=K(),ie=setTimeout((0,m.A)(function*(){yield ne(f),p.onEvent(wt())}),500),ce=function(){var we=(0,m.A)(function*(me){clearTimeout(ie);const ue=yield ne(f);let Ft=null;ue&&me?.url&&(Ft=function fe(g,f){var p,R;const P=function kt(g){const f=Je(g),p=f.link?decodeURIComponent(f.link):void 0,R=Je(p).link,P=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Je(P).link||P||R||p||g}(f);if(P.includes("/__/auth/callback")){const U=Je(P),ie=U.firebaseError?function Et(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(U.firebaseError)):null,ce=null===(R=null===(p=ie?.code)||void 0===p?void 0:p.split("auth/"))||void 0===R?void 0:R[1],Te=ce?(0,e.aA)(ce):null;return Te?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:P,postBody:null}}return null}(ue,me.url)),p.onEvent(Ft||wt())});return function(ue){return we.apply(this,arguments)}}();typeof R<"u"&&"function"==typeof R.subscribe&&R.subscribe(null,ce);const Te=P,J=`${U.packageName.toLowerCase()}://`;K().handleOpenURL=function(){var we=(0,m.A)(function*(me){if(me.toLowerCase().startsWith(J)&&ce({url:me}),"function"==typeof Te)try{Te(me)}catch(ue){console.error(ue)}});return function(me){return we.apply(this,arguments)}}()}};function wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,e.aA)("no-auth-event")}}function rt(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function Be(g=(0,F.ZQ)()){return!("file:"!==rt()&&"ionic:"!==rt()&&"capacitor:"!==rt()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function he(){try{const g=self.localStorage,f=e.aM();if(g)return g.setItem(f,"1"),g.removeItem(f),!function pe(g=(0,F.ZQ)()){return function Y(){return(0,F.lT)()&&11===document?.documentMode}()||function Fe(g=(0,F.ZQ)()){return/Edge\/\d+/.test(g)}(g)}()||(0,F.zW)()}catch{return z()&&(0,F.zW)()}return!1}function z(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pe(){return(function _t(){return"http:"===rt()||"https:"===rt()}()||(0,F.sr)()||Be())&&!function St(){return(0,F.lV)()||(0,F.Ll)()}()&&he()&&!z()}function $e(){return Be()&&typeof document<"u"}function _e(){return(_e=(0,m.A)(function*(){return!!$e()&&new Promise(g=>{const f=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),g(!0)})})})).apply(this,arguments)}const oe={LOCAL:"local",NONE:"none",SESSION:"session"},At=e.aB,Ot="persistence";function mt(g){return st.apply(this,arguments)}function st(){return(st=(0,m.A)(function*(g){yield g._initializationPromise;const f=yt(),p=e.aE(Ot,g.config.apiKey,g.name);f&&f.setItem(p,g._getPersistence())})).apply(this,arguments)}function yt(){var g;try{return(null===(g=function xt(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const fn=e.aB;class Ue{constructor(){this.browserResolver=e.aD(e.k),this.cordovaResolver=e.aD(ot),this.underlyingResolver=null,this._redirectPersistence=e.a,this._completeRedirectFn=e.aF,this._overrideRedirectResult=e.aG}_initialize(f){var p=this;return(0,m.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,R,P){var U=this;return(0,m.A)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openPopup(f,p,R,P)})()}_openRedirect(f,p,R,P){var U=this;return(0,m.A)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openRedirect(f,p,R,P)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return $e()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,m.A)(function*(){if(f.underlyingResolver)return;const p=yield function v(){return _e.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function lt(g){return g.unwrap()}function ht(g){return Ge(g)}function Ge(g){const{_tokenResponse:f}=g instanceof F.g?g.customData:g;if(!f)return null;if(!(g instanceof F.g)&&"temporaryProof"in f&&"phoneNumber"in f)return e.P.credentialFromResult(g);const p=f.providerId;if(!p||p===e.p.PASSWORD)return null;let R;switch(p){case e.p.GOOGLE:R=e.W;break;case e.p.FACEBOOK:R=e.V;break;case e.p.GITHUB:R=e.X;break;case e.p.TWITTER:R=e._;break;default:const{oauthIdToken:P,oauthAccessToken:U,oauthTokenSecret:ie,pendingToken:ce,nonce:Te}=f;return U||ie||P||ce?ce?p.startsWith("saml.")?e.aP._create(p,ce):e.M._fromParams({providerId:p,signInMethod:p,pendingToken:ce,idToken:P,accessToken:U}):new e.Y(p).credential({idToken:P,accessToken:U,rawNonce:Te}):null}return g instanceof F.g?R.credentialFromError(g):R.credentialFromResult(g)}function Ve(g,f){return f.catch(p=>{throw p instanceof F.g&&function rn(g,f){var p;const R=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Jt(g,e.ar(g,f));else if(R){const P=Ge(f),U=f;P&&(U.credential=P,U.tenantId=R.tenantId||void 0,U.email=R.email||void 0,U.phoneNumber=R.phoneNumber||void 0)}}(g,p),p}).then(p=>{const P=p.user;return{operationType:p.operationType,credential:ht(p),additionalUserInfo:e.ap(p),user:Ne.getOrCreate(P)}})}function Qt(g,f){return et.apply(this,arguments)}function et(){return(et=(0,m.A)(function*(g,f){const p=yield f;return{verificationId:p.verificationId,confirm:R=>Ve(g,p.confirm(R))}})).apply(this,arguments)}class Jt{constructor(f,p){this.resolver=p,this.auth=function Tt(g){return g.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ve(lt(this.auth),this.resolver.resolveSignIn(f))}}class Ne{constructor(f){this._delegate=f,this.multiFactor=e.as(f)}static getOrCreate(f){return Ne.USER_MAP.has(f)||Ne.USER_MAP.set(f,new Ne(f)),Ne.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,m.A)(function*(){return Ve(p.auth,e.a1(p._delegate,f))})()}linkWithPhoneNumber(f,p){var R=this;return(0,m.A)(function*(){return Qt(R.auth,e.l(R._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,m.A)(function*(){return Ve(p.auth,e.d(p._delegate,f,Ue))})()}linkWithRedirect(f){var p=this;return(0,m.A)(function*(){return yield mt(e.aI(p.auth)),e.g(p._delegate,f,Ue)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,m.A)(function*(){return Ve(p.auth,e.a2(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Qt(this.auth,e.r(this._delegate,f,p))}reauthenticateWithPopup(f){return Ve(this.auth,e.e(this._delegate,f,Ue))}reauthenticateWithRedirect(f){var p=this;return(0,m.A)(function*(){return yield mt(e.aI(p.auth)),e.h(p._delegate,f,Ue)})()}sendEmailVerification(f){return e.af(this._delegate,f)}unlink(f){var p=this;return(0,m.A)(function*(){return yield e.ao(p._delegate,f),p})()}updateEmail(f){return e.ak(this._delegate,f)}updatePassword(f){return e.al(this._delegate,f)}updatePhoneNumber(f){return e.u(this._delegate,f)}updateProfile(f){return e.aj(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return e.ag(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ne.USER_MAP=new WeakMap;const at=e.aB;let Z=(()=>{class g{constructor(p,R){if(this.app=p,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:P}=p.options;at(P,"invalid-api-key",{appName:p.name}),at(P,"invalid-api-key",{appName:p.name});const U=typeof window<"u"?Ue:void 0;this._delegate=R.initialize({options:{persistence:Kt(P,p.name),popupRedirectResolver:U}}),this._delegate._updateErrorMap(e.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,R){e.J(this._delegate,p,R)}applyActionCode(p){return e.a6(this._delegate,p)}checkActionCode(p){return e.a7(this._delegate,p)}confirmPasswordReset(p,R){return e.a5(this._delegate,p,R)}createUserWithEmailAndPassword(p,R){var P=this;return(0,m.A)(function*(){return Ve(P._delegate,e.a9(P._delegate,p,R))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return e.ae(this._delegate,p)}isSignInWithEmailLink(p){return e.ac(this._delegate,p)}getRedirectResult(){var p=this;return(0,m.A)(function*(){at(Pe(),p._delegate,"operation-not-supported-in-this-environment");const R=yield e.j(p._delegate,Ue);return R?Ve(p._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Wt(g,f){(0,e.aI)(g)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,R,P){const{next:U,error:ie,complete:ce}=gt(p,R,P);return this._delegate.onAuthStateChanged(U,ie,ce)}onIdTokenChanged(p,R,P){const{next:U,error:ie,complete:ce}=gt(p,R,P);return this._delegate.onIdTokenChanged(U,ie,ce)}sendSignInLinkToEmail(p,R){return e.ab(this._delegate,p,R)}sendPasswordResetEmail(p,R){return e.a4(this._delegate,p,R||void 0)}setPersistence(p){var R=this;return(0,m.A)(function*(){let P;switch(function Ze(g,f){At(Object.values(oe).includes(f),g,"invalid-persistence-type"),(0,F.lV)()?At(f!==oe.SESSION,g,"unsupported-persistence-type"):(0,F.Ll)()?At(f===oe.NONE,g,"unsupported-persistence-type"):z()?At(f===oe.NONE||f===oe.LOCAL&&(0,F.zW)(),g,"unsupported-persistence-type"):At(f===oe.NONE||he(),g,"unsupported-persistence-type")}(R._delegate,p),p){case oe.SESSION:P=e.a;break;case oe.LOCAL:P=(yield e.aD(e.i)._isAvailable())?e.i:e.b;break;case oe.NONE:P=e.Q;break;default:return e.aw("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(P)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Ve(this._delegate,e.$(this._delegate))}signInWithCredential(p){return Ve(this._delegate,e.a0(this._delegate,p))}signInWithCustomToken(p){return Ve(this._delegate,e.a3(this._delegate,p))}signInWithEmailAndPassword(p,R){return Ve(this._delegate,e.aa(this._delegate,p,R))}signInWithEmailLink(p,R){return Ve(this._delegate,e.ad(this._delegate,p,R))}signInWithPhoneNumber(p,R){return Qt(this._delegate,e.s(this._delegate,p,R))}signInWithPopup(p){var R=this;return(0,m.A)(function*(){return at(Pe(),R._delegate,"operation-not-supported-in-this-environment"),Ve(R._delegate,e.c(R._delegate,p,Ue))})()}signInWithRedirect(p){var R=this;return(0,m.A)(function*(){return at(Pe(),R._delegate,"operation-not-supported-in-this-environment"),yield mt(R._delegate),e.f(R._delegate,p,Ue)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return e.a8(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=oe,g})();function gt(g,f,p){let R=g;"function"!=typeof g&&({next:R,error:f,complete:p}=g);const P=R;return{next:ie=>P(ie&&Ne.getOrCreate(ie)),error:f,complete:p}}function Kt(g,f){const p=function pt(g,f){const p=yt();if(!p)return[];const R=e.aE(Ot,g,f);switch(p.getItem(R)){case oe.NONE:return[e.Q];case oe.LOCAL:return[e.i,e.a];case oe.SESSION:return[e.a];default:return[]}}(g,f);if(typeof self<"u"&&!p.includes(e.i)&&p.push(e.i),typeof window<"u")for(const R of[e.b,e.a])p.includes(R)||p.push(R);return p.includes(e.Q)||p.push(e.Q),p}class He{constructor(){this.providerId="phone",this._delegate=new e.P(lt(c.A.auth()))}static credential(f,p){return e.P.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}He.PHONE_SIGN_IN_METHOD=e.P.PHONE_SIGN_IN_METHOD,He.PROVIDER_ID=e.P.PROVIDER_ID;const ct=e.aB;class Rt{constructor(f,p,R=c.A.app()){var P;ct(null===(P=R.options)||void 0===P?void 0:P.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new e.R(R.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function I(g){g.INTERNAL.registerComponent(new se.uA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),R=f.getProvider("auth");return new Z(p,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:e.A.EMAIL_SIGNIN,PASSWORD_RESET:e.A.PASSWORD_RESET,RECOVER_EMAIL:e.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:e.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:e.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:e.A.VERIFY_EMAIL}},EmailAuthProvider:e.U,FacebookAuthProvider:e.V,GithubAuthProvider:e.X,GoogleAuthProvider:e.W,OAuthProvider:e.Y,SAMLAuthProvider:e.Z,PhoneAuthProvider:He,PhoneMultiFactorGenerator:e.m,RecaptchaVerifier:Rt,TwitterAuthProvider:e._,Auth:Z,AuthCredential:e.K,Error:F.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.4.8")}(c.A)},56094:(Xe,be,y)=>{"use strict";y.d(be,{$b:()=>c,Ey:()=>Q,He:()=>K,Vy:()=>se});const m=[];var c=function(S){return S[S.DEBUG=0]="DEBUG",S[S.VERBOSE=1]="VERBOSE",S[S.INFO=2]="INFO",S[S.WARN=3]="WARN",S[S.ERROR=4]="ERROR",S[S.SILENT=5]="SILENT",S}(c||{});const e={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},F=c.INFO,H={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},le=(S,E,...M)=>{if(E<S.logLevel)return;const j=(new Date).toISOString(),B=H[E];if(!B)throw new Error(`Attempted to log a message with an invalid logType (value: ${E})`);console[B](`[${j}]  ${S.name}:`,...M)};class se{constructor(E){this.name=E,this._logLevel=F,this._logHandler=le,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in c))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel="string"==typeof E?e[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if("function"!=typeof E)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(...E){this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...E),this._logHandler(this,c.DEBUG,...E)}log(...E){this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...E),this._logHandler(this,c.VERBOSE,...E)}info(...E){this._userLogHandler&&this._userLogHandler(this,c.INFO,...E),this._logHandler(this,c.INFO,...E)}warn(...E){this._userLogHandler&&this._userLogHandler(this,c.WARN,...E),this._logHandler(this,c.WARN,...E)}error(...E){this._userLogHandler&&this._userLogHandler(this,c.ERROR,...E),this._logHandler(this,c.ERROR,...E)}}function K(S){m.forEach(E=>{E.setLogLevel(S)})}function Q(S,E){for(const M of m){let j=null;E&&E.level&&(j=e[E.level]),M.userLogHandler=null===S?null:(B,V,...$)=>{const q=$.map(te=>{if(null==te)return null;if("string"==typeof te)return te;if("number"==typeof te||"boolean"==typeof te)return te.toString();if(te instanceof Error)return te.message;try{return JSON.stringify(te)}catch{return null}}).filter(te=>te).join(" ");V>=(j??B.logLevel)&&S({level:c[V].toLowerCase(),message:q,args:$,type:B.name})}}}}}]);