"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4552],{47635:(Mt,It,l)=>{l.d(It,{c:()=>U});var f=l(10936),i=l(66257),t=l(48725),Q=l(59640),o=l(37497),e=l(27208),c=l(18586),u=l(48891),n=l(65162),dt=l(95624),kt=l(46899),nt=l(25898),ot=l(54460),gt=l(47712),L=l(18718),q=l(22613),W=l(69135),K=l(32099),J=l(5800),Y=l(10123),V=l(15343),X=l(76975);const _t=R=>({"text-primary stroke-width-2.5":R}),ut=R=>({"text-primary stroke-width-2.5":R,"-mt-2":!0});function St(R,N){1&R&&(u.j41(0,"div",10),u.EFF(1),u.nI1(2,"mytranslate"),u.k0s()),2&R&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function st(R,N){if(1&R){const j=u.RV6();u.j41(0,"div",11)(1,"div",12)(2,"azt-search-box",13),u.nI1(3,"mytranslate"),u.bIt("onSearch",function(ct){u.eBV(j);const Et=u.XpG();return u.Njj(Et.onSearchBox(ct.searchObj))}),u.k0s()()()}2&R&&(u.R7$(2),u.Y8G("isServerSearch",!0)("placeholder",u.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function Ft(R,N){if(1&R&&u.nrm(0,"azt-loading-effect",15),2&R){const j=u.XpG(2);u.Y8G("currentStatusObj",j.statusObj)}}function zt(R,N){if(1&R&&(u.j41(0,"div",25),u.nrm(1,"lucide-icon",26)(2,"lucide-icon",27),u.k0s()),2&R){const j=u.XpG().$implicit,G=u.XpG(3);u.R7$(),u.Y8G("ngClass",u.eq3(2,_t,j.typeFieldSort===G.typeFieldSort.asc)),u.R7$(),u.Y8G("ngClass",u.eq3(4,ut,j.typeFieldSort===G.typeFieldSort.desc))}}function H(R,N){if(1&R){const j=u.RV6();u.j41(0,"th",22)(1,"div",23),u.bIt("click",function(){const ct=u.eBV(j).$implicit,Et=u.XpG(3);return u.Njj(Et.sortTableByFieldName(ct))}),u.EFF(2),u.nI1(3,"mytranslate"),u.DNE(4,zt,3,6,"div",24),u.k0s()()}if(2&R){const j=N.$implicit;u.R7$(),u.Aen(j.customStyle),u.HbH(j.customClassCss),u.R7$(),u.SpI(" ",u.bMT(3,6,j.key)," "),u.R7$(2),u.Y8G("ngIf",!j.ignore)}}function jt(R,N){if(1&R){const j=u.RV6();u.j41(0,"tr",28)(1,"td"),u.nrm(2,"azt-student-info-box",29),u.k0s(),u.j41(3,"td",30),u.EFF(4),u.nI1(5,"formatStudentCodeToNumber"),u.k0s(),u.j41(6,"td",30),u.EFF(7),u.nI1(8,"formatOnlyDateByUserUnitPipe"),u.k0s(),u.j41(9,"td",30)(10,"div",31),u.nrm(11,"textarea",32),u.nI1(12,"mytranslate"),u.j41(13,"span",33,1),u.nI1(15,"mytranslate"),u.bIt("click",function(){const ct=u.eBV(j).$implicit,Et=u.XpG(3);return u.Njj(Et.showAllComment(ct))}),u.nrm(16,"lucide-icon",34),u.k0s()()()()}if(2&R){const j=N.$implicit,G=u.sdS(14);u.Y8G("id","row_student_"+j.id),u.R7$(2),u.Y8G("name",j.fullName)("parentFullName",j.parentFullName)("parentId",j.parentId)("phone",j.phone)("parentPhone",j.parentPhone)("avatar",j.avatar)("gender",j.gender)("hasUser",j.hasUser)("schoolName",j.schoolName)("classrooms",j.classrooms)("joinedAt",j.joinedAt)("identificationNumber",j.identificationNumber),u.R7$(2),u.JRh(j.identificationNumber?u.i5U(5,22,j.identificationNumber,6):""),u.R7$(3),u.JRh(u.bMT(8,25,null!=j.assessments&&j.assessments[0]?null==j.assessments||null==j.assessments[0]?null:j.assessments[0].createdAt:"")),u.R7$(4),u.FS9("placeholder",u.bMT(12,27,"lang_azt_enter_comment")),u.Y8G("id","assessment_content_"+j.id)("disabled",!0)("value",j.lastAssessmentComment),u.R7$(2),u.FS9("matTooltip",u.bMT(15,29,"lang_student_show_all_comment")),u.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",G.isDisabled)}}function lt(R,N){if(1&R){const j=u.RV6();u.j41(0,"azt-paging",38),u.bIt("goToPaginationPage",function(ct){u.eBV(j);const Et=u.XpG(4);return u.Njj(Et.setPageStudent(ct))}),u.k0s()}if(2&R){const j=u.XpG(4);u.Y8G("pageObj",j.pageObj)}}function et(R,N){if(1&R&&(u.j41(0,"div",39),u.EFF(1),u.nI1(2,"mytranslate"),u.k0s()),2&R){const j=u.XpG(4);u.R7$(),u.Lme("",j.totalStudent," ",u.bMT(2,2,"lang_notify_list_students"),"")}}function bt(R,N){if(1&R&&(u.j41(0,"div",35),u.nrm(1,"div"),u.DNE(2,lt,1,1,"azt-paging",36)(3,et,3,4,"div",37),u.k0s()),2&R){const j=u.XpG(3);u.R7$(2),u.Y8G("ngIf",j.totalStudent>j.pageObj.pageSize),u.R7$(),u.Y8G("ngIf",!j.isStudent)}}function yt(R,N){if(1&R&&(u.j41(0,"div",16)(1,"drag-scroll")(2,"table",17)(3,"thead")(4,"tr",18),u.DNE(5,H,5,8,"th",19),u.k0s()(),u.j41(6,"tbody"),u.DNE(7,jt,17,31,"tr",20),u.k0s()()()(),u.DNE(8,bt,4,2,"div",21)),2&R){const j=u.XpG(2);u.R7$(5),u.Y8G("ngForOf",j.sortTableByFieldNameService.fieldNameList),u.R7$(2),u.Y8G("ngForOf",j.listStudent),u.R7$(),u.Y8G("ngIf",j.listStudent&&j.totalStudent&&j.totalStudent>0)}}function rt(R,N){if(1&R&&(u.j41(0,"div",5),u.DNE(1,Ft,1,1,"azt-loading-effect",14)(2,yt,9,3,"ng-template",null,0,u.C5r),u.k0s()),2&R){const j=u.sdS(3),G=u.XpG();u.R7$(),u.Y8G("ngIf",G.statusObj.loading)("ngIfElse",j)}}function ft(R,N){if(1&R&&u.nrm(0,"azt-loading-effect",15),2&R){const j=u.XpG(2);u.Y8G("currentStatusObj",j.statusObj)}}function mt(R,N){1&R&&(u.j41(0,"div",41),u.EFF(1),u.nI1(2,"mytranslate"),u.k0s()),2&R&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"lang_azt_no_comments_yet")," "))}function it(R,N){if(1&R&&(u.j41(0,"div",44)(1,"div",45)(2,"p",46),u.EFF(3),u.nI1(4,"mytranslate"),u.nI1(5,"formatOnlyDateByUserUnitPipe"),u.k0s()(),u.nrm(6,"div",47),u.nI1(7,"safeNormalHtmlContent"),u.k0s()),2&R){const j=N.$implicit;u.R7$(3),u.Lme("",u.bMT(4,3,"lang_student_add_comment_date"),": ",u.bMT(5,5,j.updatedAt),""),u.R7$(3),u.Y8G("innerHTML",u.bMT(7,7,j.comment),u.npT)}}function at(R,N){if(1&R&&(u.j41(0,"div",42),u.DNE(1,it,8,9,"div",43),u.k0s()),2&R){const j=u.XpG(3);u.R7$(),u.Y8G("ngForOf",null==j.firstStudent?null:j.firstStudent.assessments)}}function Tt(R,N){if(1&R&&u.DNE(0,mt,3,3,"div",40)(1,at,2,1,"ng-template",null,3,u.C5r),2&R){const j=u.sdS(2),G=u.XpG(2);u.Y8G("ngIf",!(null!=G.firstStudent&&G.firstStudent.assessments&&null!=G.firstStudent&&null!=G.firstStudent.assessments&&G.firstStudent.assessments.length))("ngIfElse",j)}}function Dt(R,N){if(1&R&&(u.j41(0,"div",5),u.DNE(1,ft,1,1,"azt-loading-effect",14)(2,Tt,3,2,"ng-template",null,2,u.C5r),u.k0s()),2&R){const j=u.sdS(3),G=u.XpG();u.R7$(),u.Y8G("ngIf",G.statusObj.loading)("ngIfElse",j)}}let U=(()=>{var R;class N extends Q.H{onSearchBox(G){this.searchContentObj=G,this.getData()}showAllComment(G){this.sAztDialogService.open(c.U,{width:"700px",restoreFocus:!1,data:{student:G,isTeacher:!1}}).afterClosed().subscribe(ct=>{ct&&this.getData()})}setPageStudent(G){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+G),this.pageObj.setPageNumber(G),this.getData()}sortTableByFieldName(G){G.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(G),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj})).subscribe(ct=>{if(!ct.success)return this.errorStatusObj(ct.message,!0);ct.data?.list.length&&(this.listStudent=[]),ct.data?.list.forEach(Et=>{let At=this.sAztAssessmentStudentService.getLastAssessmentStudent(Et);this.listStudent.push({...Et,commentControl:new f.gE({id:new f.MJ(0,{nonNullable:!0}),updatedAt:new f.MJ(At?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new f.MJ(At?.comment??"",{nonNullable:!0}),isEdited:new f.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Et.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=ct.data?.total??0,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()}))}convertBreakLine(G){if(!G)return;const ct=G.assessments?.map(Et=>({...Et,comment:Et.comment?.replace(/\n/g,"<br/>")}));return{...G,assessments:ct}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(G,ct,Et,At,Vt){super(),this.activeRoute=G,this.studentService=ct,this.sAztDialogService=Et,this.sAztAssessmentStudentService=At,this.sortTableByFieldNameService=Vt,this.classroomId=0,this.searchContentObj=new e.Z,this.pageObj=new o.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=i.H}}return(R=N).\u0275fac=function(G){return new(G||R)(u.rXU(n.nX),u.rXU(dt.b0),u.rXU(kt.i),u.rXU(nt.n),u.rXU(t.s))},R.\u0275cmp=u.VBU({type:R,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[u.Jv_([t.s]),u.Vt3],decls:9,vars:7,consts:[["doneLoading",""],["c","isDisabled"],["doneLoadingStudent",""],["hasData",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","phone","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(G,ct){1&G&&(u.j41(0,"div",4)(1,"div",5)(2,"h3",6),u.EFF(3),u.nI1(4,"mytranslate"),u.k0s(),u.DNE(5,St,3,3,"div",7),u.k0s(),u.DNE(6,st,4,4,"div",8)(7,rt,4,2,"div",9)(8,Dt,4,2,"div",9),u.k0s()),2&G&&(u.R7$(3),u.JRh(u.bMT(4,5,"lang_azt_comments")),u.R7$(2),u.Y8G("ngIf",ct.isMobileDevice&&ct.listStudent.length>0&&!ct.isStudent),u.R7$(),u.Y8G("ngIf",!ct.isStudent),u.R7$(),u.Y8G("ngIf",!ct.isStudent),u.R7$(),u.Y8G("ngIf",ct.isStudent))},dependencies:[ot.YU,ot.Sq,ot.bT,gt.oV,L.K,q.q,W.f,K.W,J.B,Y.jd,Y.Ew,V.WGl,X.wp,X._y,X.Po,X.vv],encapsulation:2}),N})()},33791:(Mt,It,l)=>{l.d(It,{E:()=>Dt});var f=l(10127),i=l(66257),t=l(48725),Q=l(59640),o=l(37497),e=l(27208),c=l(48891),u=l(65162),n=l(46899),dt=l(95624),kt=l(54460),nt=l(18718),ot=l(22613),gt=l(32099),L=l(5800),q=l(10123),W=l(15343),K=l(85127),J=l(76975);const Y=()=>[],V=U=>({"text-primary stroke-width-2.5":U}),X=U=>({"text-primary stroke-width-2.5":U,"-mt-2":!0});function _t(U,R){1&U&&(c.j41(0,"div",7),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&U&&(c.R7$(),c.SpI(" ",c.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function ut(U,R){if(1&U&&(c.j41(0,"div",13),c.nrm(1,"azt-loading-effect",14),c.k0s()),2&U){const N=c.XpG(2);c.R7$(),c.Y8G("currentStatusObj",N.statusObj)}}function St(U,R){1&U&&(c.j41(0,"div",20),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&U&&(c.R7$(),c.SpI(" ",c.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function st(U,R){if(1&U&&(c.j41(0,"div",29),c.nrm(1,"lucide-icon",30)(2,"lucide-icon",31),c.k0s()),2&U){const N=c.XpG().$implicit,j=c.XpG(5);c.R7$(),c.Y8G("ngClass",c.eq3(2,V,N.typeFieldSort===j.typeFieldSort.asc)),c.R7$(),c.Y8G("ngClass",c.eq3(4,X,N.typeFieldSort===j.typeFieldSort.desc))}}function Ft(U,R){if(1&U){const N=c.RV6();c.j41(0,"th",26)(1,"div",27),c.bIt("click",function(){const G=c.eBV(N).$implicit,ct=c.XpG(5);return c.Njj(ct.sortTableByFieldName(G))}),c.EFF(2),c.nI1(3,"mytranslate"),c.DNE(4,st,3,6,"div",28),c.k0s()()}if(2&U){const N=R.$implicit;c.R7$(),c.Aen(N.customStyle),c.HbH(N.customClassCss),c.R7$(),c.SpI(" ",c.bMT(3,6,N.key)," "),c.R7$(2),c.Y8G("ngIf",!N.ignore)}}function zt(U,R){1&U&&(c.j41(0,"span"),c.EFF(1,"/"),c.k0s())}function H(U,R){if(1&U&&(c.j41(0,"span"),c.EFF(1),c.DNE(2,zt,2,0,"span",5),c.EFF(3),c.k0s()),2&U){const N=c.XpG().$implicit;c.R7$(),c.SpI(" ",N.lastMonthPaid," "),c.R7$(),c.Y8G("ngIf",N.lastMonthPaid),c.R7$(),c.SpI(" ",N.lastYearPaid," ")}}function jt(U,R){1&U&&(c.j41(0,"span",38),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&U&&(c.R7$(),c.SpI(" ",c.bMT(2,1,"lang_core_hoc_thu")," "))}function lt(U,R){if(1&U){const N=c.RV6();c.j41(0,"tr")(1,"td",32),c.bIt("click",function(){const G=c.eBV(N).$implicit,ct=c.XpG(5);return c.Njj(ct.addOrEditTuitionFee(G))}),c.nrm(2,"azt-student-info-box",33),c.k0s(),c.j41(3,"td",34),c.EFF(4),c.nI1(5,"formatStudentCodeToNumber"),c.k0s(),c.j41(6,"td",35),c.EFF(7),c.k0s(),c.j41(8,"td",36),c.DNE(9,H,4,3,"span",5)(10,jt,3,3,"span",37),c.k0s()()}if(2&U){let N;const j=R.$implicit;c.R7$(2),c.Y8G("name",j.fullName)("avatar",j.avatar)("gender",j.gender)("schoolName",j.schoolName)("hasUser",j.hasUser)("classrooms",j.classrooms)("joinedAt",j.joinedAt)("phone",j.phone)("identificationNumber",j.identificationNumber),c.R7$(2),c.JRh(j.identificationNumber?c.i5U(5,13,j.identificationNumber,6):""),c.R7$(3),c.SpI(" ",null!==(N=null==j.classroom?null:j.classroom.name)&&void 0!==N?N:""," "),c.R7$(2),c.Y8G("ngIf",!j.isTrial),c.R7$(),c.Y8G("ngIf",j.isTrial)}}function et(U,R){if(1&U&&(c.j41(0,"div")(1,"div",21)(2,"drag-scroll")(3,"table",22)(4,"thead")(5,"tr",23),c.DNE(6,Ft,5,8,"th",24),c.k0s()(),c.j41(7,"tbody"),c.DNE(8,lt,11,16,"tr",25),c.k0s()()()()()),2&U){let N;const j=c.XpG(4);c.R7$(6),c.Y8G("ngForOf",j.sortTableByFieldNameService.fieldNameList),c.R7$(2),c.Y8G("ngForOf",null!==(N=null==j.listPayment?null:j.listPayment.list)&&void 0!==N?N:c.lJ4(2,Y))}}function bt(U,R){if(1&U){const N=c.RV6();c.j41(0,"div",39),c.EFF(1),c.nI1(2,"mytranslate"),c.j41(3,"span",40),c.bIt("click",function(){c.eBV(N);const G=c.XpG(4);return c.Njj(G.goBack())}),c.EFF(4),c.nI1(5,"mytranslate"),c.k0s()()}2&U&&(c.R7$(),c.SpI(" ",c.bMT(2,2,"lang_core_not_found_student"),"... "),c.R7$(3),c.JRh(c.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function yt(U,R){if(1&U&&(c.j41(0,"div",17),c.DNE(1,St,3,3,"div",18)(2,et,9,3,"div",5)(3,bt,6,6,"div",19),c.k0s()),2&U){let N,j;const G=c.XpG(3);c.R7$(),c.Y8G("ngIf",!G.searchContentObj.isLoading&&0==(null==G.listPayment?null:G.listPayment.total)&&""==G.searchContentObj.searchContent),c.R7$(),c.Y8G("ngIf",(null!==(N=null==G.listPayment?null:G.listPayment.total)&&void 0!==N?N:0)>0),c.R7$(),c.Y8G("ngIf",!G.searchContentObj.isLoading&&0==(null!==(j=null==G.listPayment?null:G.listPayment.list)&&void 0!==j?j:c.lJ4(3,Y)).length&&""!=G.searchContentObj.searchContent)}}function rt(U,R){if(1&U){const N=c.RV6();c.j41(0,"azt-paging",44),c.bIt("goToPaginationPage",function(G){c.eBV(N);const ct=c.XpG(4);return c.Njj(ct.setPageStudent(G))}),c.k0s()}if(2&U){const N=c.XpG(4);c.Y8G("pageObj",N.pageObj)}}function ft(U,R){if(1&U&&(c.j41(0,"div",45),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&U){const N=c.XpG(4);c.R7$(),c.Lme("",N.listPayment.total," ",c.bMT(2,2,"lang_notify_list_students"),"")}}function mt(U,R){if(1&U&&(c.j41(0,"div",41),c.nrm(1,"div"),c.DNE(2,rt,1,1,"azt-paging",42)(3,ft,3,4,"div",43),c.k0s()),2&U){const N=c.XpG(3);c.R7$(2),c.Y8G("ngIf",N.listPayment.total>N.pageObj.pageSize),c.R7$(),c.Y8G("ngIf",!N.isStudent)}}function it(U,R){if(1&U&&c.DNE(0,yt,4,4,"div",15)(1,mt,4,2,"div",16),2&U){let N;const j=c.XpG(2);c.Y8G("ngIf",!j.isStudent),c.R7$(),c.Y8G("ngIf",j.listPayment&&j.listPayment.total&&(null!==(N=null==j.listPayment?null:j.listPayment.total)&&void 0!==N?N:0)>0)}}function at(U,R){if(1&U){const N=c.RV6();c.qex(0),c.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"azt-search-box",11),c.nI1(5,"mytranslate"),c.bIt("onSearch",function(G){c.eBV(N);const ct=c.XpG();return c.Njj(ct.onSearchBox(G.searchObj))}),c.k0s()()()(),c.DNE(6,ut,2,1,"div",12)(7,it,2,2,"ng-template",null,0,c.C5r),c.bVm()}if(2&U){const N=c.sdS(8),j=c.XpG();c.R7$(4),c.Y8G("isServerSearch",!0)("placeholder",c.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",j.searchContentObj),c.R7$(2),c.Y8G("ngIf",j.statusObj.loading)("ngIfElse",N)}}function Tt(U,R){1&U&&(c.j41(0,"div",46),c.nrm(1,"detail-tuition-fee-student"),c.k0s())}let Dt=(()=>{var U;class R extends Q.H{onSearchBox(j){this.searchContentObj=j,this.getData()}addOrEditTuitionFee(j){this.sAztDialogService.open(f.B,{width:"900px",restoreFocus:!1,data:j}).afterClosed().subscribe(G=>{G&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent("EMIT_EVENT")}sortTableByFieldName(j){j.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(j),this.getData())}setPageStudent(j){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+j),this.pageObj.setPageNumber(j),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj})).subscribe(G=>{if(!G.success)return this.errorStatusObj(G.message,!0);this.listPayment=G.data,this.pageObj.setTotalPages(G.data?.total??0),this.successStatusObj()}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:i.H.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(j,G,ct,Et){super(),this.activeRoute=j,this.sAztDialogService=G,this.studentService=ct,this.sortTableByFieldNameService=Et,this.pageStudent=1,this.searchContentObj=new e.Z,this.classroomId=0,this.pageObj=new o.d(50),this.typeFieldSort=i.H}}return(U=R).\u0275fac=function(j){return new(j||U)(c.rXU(u.nX),c.rXU(n.i),c.rXU(dt.b0),c.rXU(t.s))},U.\u0275cmp=c.VBU({type:U,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[c.Jv_([t.s]),c.Vt3],decls:8,vars:6,consts:[["doneLoading",""],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(j,G){1&j&&(c.j41(0,"div",1)(1,"div",2)(2,"h3",3),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s(),c.DNE(5,_t,3,3,"div",4),c.k0s(),c.DNE(6,at,9,7,"ng-container",5)(7,Tt,2,0,"div",6),c.k0s()),2&j&&(c.R7$(3),c.SpI(" ",c.bMT(4,4,G.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),c.R7$(2),c.Y8G("ngIf",(G.isMobileDevice||G.isMobileWebView)&&!G.isStudent),c.R7$(),c.Y8G("ngIf",!G.isStudent),c.R7$(),c.Y8G("ngIf",G.isStudent))},dependencies:[kt.YU,kt.Sq,kt.bT,nt.K,ot.q,gt.W,L.B,q.jd,q.Ew,W.WGl,K.k,J.wp,J.Po],encapsulation:2}),R})()},85127:(Mt,It,l)=>{l.d(It,{k:()=>gt});var f=l(59640),i=l(48891),t=l(95624),Q=l(54460),o=l(52811),e=l(10123),c=l(76975);function u(L,q){1&L&&(i.j41(0,"div"),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&L&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function n(L,q){1&L&&(i.j41(0,"tr",11)(1,"td",12)(2,"span",13),i.nrm(3,"azt-loading-ui"),i.k0s()()())}function dt(L,q){if(1&L&&(i.j41(0,"tr")(1,"td",11),i.EFF(2),i.k0s(),i.j41(3,"td"),i.EFF(4),i.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.k0s(),i.j41(6,"td"),i.EFF(7),i.k0s(),i.j41(8,"td",11)(9,"span",16),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s()()()),2&L){const W=q.$implicit,K=q.index;i.R7$(2),i.JRh(K+1),i.R7$(2),i.JRh(i.bMT(5,4,W.createdAt)),i.R7$(3),i.JRh(W.month+"/"+W.year),i.R7$(3),i.SpI(" ",i.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function kt(L,q){if(1&L&&(i.qex(0),i.DNE(1,dt,12,8,"tr",15),i.bVm()),2&L){const W=i.XpG(2);i.R7$(),i.Y8G("ngForOf",W.historyTuitionFeeList)}}function nt(L,q){1&L&&(i.j41(0,"tr")(1,"td",17),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()()),2&L&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"lang_student_profile_not_data_view")," "))}function ot(L,q){if(1&L&&i.DNE(0,kt,2,1,"ng-container",14)(1,nt,4,3,"ng-template",null,1,i.C5r),2&L){const W=i.sdS(2),K=i.XpG();i.Y8G("ngIf",K.historyTuitionFeeList.length)("ngIfElse",W)}}let gt=(()=>{var L;class q extends f.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(K=>{K?(this.historyTuitionFeeList=K.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(K){super(),this.paymentService=K,this.historyTuitionFeeList=[]}}return(L=q).\u0275fac=function(K){return new(K||L)(i.rXU(t.WG))},L.\u0275cmp=i.VBU({type:L,selectors:[["detail-tuition-fee-student"]],features:[i.Vt3],decls:23,vars:15,consts:[["doneLoading",""],["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(K,J){if(1&K&&(i.j41(0,"div",2),i.DNE(1,u,3,3,"div",3),i.j41(2,"div",4)(3,"drag-scroll")(4,"table",5)(5,"thead",6)(6,"tr")(7,"th",7),i.EFF(8),i.nI1(9,"mytranslate"),i.k0s(),i.j41(10,"th",8),i.EFF(11),i.nI1(12,"mytranslate"),i.k0s(),i.j41(13,"th",8),i.EFF(14),i.nI1(15,"mytranslate"),i.k0s(),i.j41(16,"th",9),i.EFF(17),i.nI1(18,"mytranslate"),i.k0s()()(),i.j41(19,"tbody"),i.DNE(20,n,4,0,"tr",10)(21,ot,3,2,"ng-template",null,0,i.C5r),i.k0s()()()()()),2&K){const Y=i.sdS(22);i.R7$(),i.Y8G("ngIf",J.isMobileDevice||J.isMobileWebView),i.R7$(7),i.SpI(" ",i.bMT(9,7,"lang_auto_stt")," "),i.R7$(3),i.SpI(" ",i.bMT(12,9,"lang_student_payment_time")," "),i.R7$(3),i.SpI(" ",i.bMT(15,11,"lang_student_monthly_tuition_fee")," "),i.R7$(3),i.SpI(" ",i.bMT(18,13,"lang_student_status")," "),i.R7$(3),i.Y8G("ngIf",J.statusObj.loading)("ngIfElse",Y)}},dependencies:[Q.Sq,Q.bT,o.R,e.jd,e.Ew,c.wp,c.bH],encapsulation:2}),q})()},25898:(Mt,It,l)=>{l.d(It,{n:()=>t});var f=l(10936),i=l(48891);let t=(()=>{var Q;class o{makeListFormArrayComment(c,u){let n=new f.Yp([]);return c&&c.forEach(dt=>{n.push(new f.gE({id:new f.MJ({value:dt.id,disabled:!u},{nonNullable:!0}),updatedAt:new f.MJ({value:dt.updatedAt?.toString()??"",disabled:!u},{nonNullable:!0}),comment:new f.MJ({value:dt.comment??"",disabled:!u},{nonNullable:!0}),isEdited:new f.MJ(!1,{nonNullable:!0})}))}),n}getLastAssessmentStudent(c){if(c.assessments&&c.assessments.length)return c.assessments[0]}}return(Q=o).\u0275fac=function(c){return new(c||Q)},Q.\u0275prov=i.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"}),o})()},18586:(Mt,It,l)=>{l.d(It,{U:()=>yt});var f=l(81519),i=l(48891),t=l(10936),Q=l(34514),o=l(47426),e=l(89163),c=l(99503),u=l(79347),n=l(33887),dt=l(62095),kt=l(9691),nt=l(25898),ot=l(10296),gt=l(67638),L=l(40609),q=l(54460),W=l(47712),K=l(81587),J=l(2915),Y=l(52811),V=l(5800),X=l(15343),_t=l(76975);const ut=()=>({"ml-2 cursor-pointer":!0});function St(rt,ft){if(1&rt){const mt=i.RV6();i.j41(0,"button",13),i.bIt("click",function(){i.eBV(mt);const at=i.XpG();return i.Njj(at.changeEditStatus(!0))}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&rt&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_sua")," "))}function st(rt,ft){if(1&rt){const mt=i.RV6();i.j41(0,"button",14),i.bIt("click",function(){i.eBV(mt);const at=i.XpG();return i.Njj(at.changeEditStatus(!1))}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&rt){const mt=i.XpG();i.Y8G("disabled",mt.isSave),i.R7$(),i.SpI(" ",i.bMT(2,2,"lang_auto_huy_sua")," ")}}function Ft(rt,ft){if(1&rt){const mt=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(mt);const at=i.XpG();return i.Njj(at.saveEdit())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&rt){const mt=i.XpG();i.Y8G("disabled",mt.isSave||mt.countChangedComment()),i.R7$(),i.SpI(" ",i.bMT(2,2,"lang_auto_luu")," ")}}function zt(rt,ft){1&rt&&(i.j41(0,"div",16)(1,"span",17),i.nrm(2,"azt-loading-ui"),i.k0s()())}function H(rt,ft){1&rt&&(i.j41(0,"div",19),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&rt&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_azt_no_comments_yet")," "))}function jt(rt,ft){if(1&rt){const mt=i.RV6();i.j41(0,"button",28),i.bIt("click",function(){i.eBV(mt);const at=i.XpG().$implicit,Tt=i.XpG(3);return i.Njj(Tt.deleteAssesment(at.controls.id.value))}),i.nrm(1,"lucide-icon",29),i.nI1(2,"mytranslate"),i.k0s()}if(2&rt){const mt=i.XpG(4);i.Y8G("disabled",mt.isSave),i.R7$(),i.FS9("matTooltip",i.bMT(2,2,"lang_auto_xoa"))}}function lt(rt,ft){if(1&rt){const mt=i.RV6();i.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),i.EFF(4),i.nI1(5,"mytranslate"),i.nI1(6,"formatOnlyDateByUserUnitPipe"),i.k0s(),i.DNE(7,jt,3,4,"button",26),i.k0s(),i.j41(8,"textarea",27),i.bIt("change",function(){const at=i.eBV(mt).$implicit;return i.Njj(at.controls.isEdited.setValue(!0))}),i.k0s()()()}if(2&rt){const mt=ft.$implicit,it=i.XpG(3);i.R7$(),i.Y8G("formGroup",mt),i.R7$(3),i.Lme("",i.bMT(5,4,"lang_student_add_comment_date"),": ",i.bMT(6,6,mt.controls.updatedAt.value),""),i.R7$(3),i.Y8G("ngIf",it.isEdit)}}function et(rt,ft){if(1&rt&&(i.j41(0,"div",20),i.DNE(1,lt,9,8,"div",21),i.k0s()),2&rt){const mt=i.XpG(2);i.R7$(),i.Y8G("ngForOf",null==mt.data.student.listCommentControl?null:mt.data.student.listCommentControl.controls)}}function bt(rt,ft){if(1&rt&&i.DNE(0,H,3,3,"div",18)(1,et,2,1,"ng-template",null,1,i.C5r),2&rt){const mt=i.sdS(2),it=i.XpG();i.Y8G("ngIf",!it.data.student.assessments||!it.data.student.assessments.length)("ngIfElse",mt)}}let yt=(()=>{var rt;class ft extends n._{filterData(it){this.dataFilter=it,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(at=>at.controls.isEdited.value&&!at.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let it=this.data.student.listCommentControl?.controls.filter(Tt=>Tt.controls.isEdited.value).map(Tt=>({id:Tt.controls.id.value,studentId:this.data.student.id,comment:Tt.controls.comment.value}))??[];if(!it.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:it}).subscribe(Tt=>{Tt.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(it){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(it).subscribe(at=>{at.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(it){this.isEdit=it,this.data.student.listCommentControl?.controls.map(at=>it?at.enable():at.disable())}getStudent(it){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0})).subscribe(Tt=>{if(!Tt.success)return this.errorStatusObj(Tt.message,!0);if(!Tt.data?.list.length)return this.stopStatusObj();var Dt=Tt.data.list[0];let U=this.sAztAssessmentStudentService.getLastAssessmentStudent(Dt);this.data.student={...Dt,commentControl:new t.gE({id:new t.MJ(0,{nonNullable:!0}),updatedAt:new t.MJ(U?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new t.MJ(U?.comment??"",{nonNullable:!0}),isEdited:new t.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Dt.assessments,it)},this.stopStatusObj()}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(it,at,Tt,Dt,U,R,N){super(N,R),this.sAztAssessmentStudentService=it,this.sAztTimeService=at,this.shareFileFlutterService=Tt,this.exportExcelService=Dt,this.studentService=U,this.dialogRef=R,this.data=N,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,i.WQX)(dt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(rt=ft).\u0275fac=function(it){return new(it||rt)(i.rXU(nt.n),i.rXU(kt.F),i.rXU(ot.R),i.rXU(gt.x),i.rXU(L.b),i.rXU(e.CP,8),i.rXU(e.Vh,8))},rt.\u0275cmp=i.VBU({type:rt,selectors:[["azt-student-comments"]],features:[i.Jv_([{provide:f.$O,useClass:c.fb,deps:[o.Ju,Q.ij]},{provide:f.vq,useFactory:u.fJ,deps:[kt.F]}]),i.Vt3],decls:15,vars:19,consts:[["doneLoading",""],["hasData",""],[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"click","matTooltip","ngClass"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"click","disabled"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2","items-center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","trash-2","size","16",3,"matTooltip"]],template:function(it,at){if(1&it){const Tt=i.RV6();i.j41(0,"div",2)(1,"div",3)(2,"div",4),i.nrm(3,"azt-student-info-box",5),i.j41(4,"div",6)(5,"lucide-icon",7),i.nI1(6,"mytranslate"),i.bIt("click",function(){return i.eBV(Tt),i.Njj(at.closeDialog())}),i.k0s()()(),i.j41(7,"div",8),i.DNE(8,St,3,3,"button",9)(9,st,3,4,"button",10)(10,Ft,3,4,"button",11),i.k0s()(),i.j41(11,"azt-mat-dialog-content"),i.DNE(12,zt,3,0,"div",12)(13,bt,3,2,"ng-template",null,0,i.C5r),i.k0s()()}if(2&it){const Tt=i.sdS(14);i.R7$(3),i.Y8G("name",at.data.student.fullName)("parentFullName",at.data.student.parentFullName)("parentId",at.data.student.parentId)("parentPhone",at.data.student.parentPhone)("phone",at.data.student.phone)("email",at.data.student.email)("avatar",at.data.student.avatar)("gender",at.data.student.gender)("hasUser",at.data.student.hasUser),i.R7$(2),i.FS9("matTooltip",i.bMT(6,16,"lang_auto_dong")),i.Y8G("ngClass",i.lJ4(18,ut)),i.R7$(3),i.Y8G("ngIf",!at.isEdit&&at.data.isTeacher),i.R7$(),i.Y8G("ngIf",at.isEdit),i.R7$(),i.Y8G("ngIf",at.isEdit),i.R7$(2),i.Y8G("ngIf",at.statusObj.loading)("ngIfElse",Tt)}},dependencies:[q.YU,q.Sq,q.bT,W.oV,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,K.t,J.U,Y.R,V.B,X.WGl,_t.wp,_t.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),ft})()},66067:(Mt,It,l)=>{l.d(It,{E:()=>Pn});var f=l(76627),i=l(59640),t=l(48891),Q=l(65162),o=l(73202),e=l(95624),c=l(9691),u=l(54460),n=l(18718),dt=l(64198),kt=l(75421),nt=l(93518),ot=l(53043),gt=l(69307),L=l(46899),q=l(40111),W=l(17818),K=l(47426),J=l(47712),Y=l(69135),V=l(52811),X=l(91584),_t=l(15343),ut=l(23750),St=l(81519),st=l(10936),Ft=l(34514),zt=l(99503),H=l(79347);class jt{static addNewEducationalProgramFormValidator(S){let r=S,s=r.controls.weekdayConfig;if(!s.length)return r.setErrors(null),null;let d=0,C=0;return s.controls.forEach(k=>{let $=!1,Z={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};k.controls.selected.value?(k.controls.infrastructureId.value||($=!0,Z.invalidInfrastructure=!0),k.controls.startTime.value&&k.controls.endTime.value?new Date("1970-01-01T"+k.controls.startTime.value).getTime()>=new Date("1970-01-01T"+k.controls.endTime.value).getTime()?($=!0,Z.invalidTime=!0):Z.invalidTime=!1:($=!0,Z.requireTime=!0),k.setErrors($?Z:null),C++):k.setErrors(null),k.invalid&&d++},s),d||!C?(r.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(r.setErrors(null),null)}}var lt=l(43234),et=l(66772),bt=l(84828),yt=l(39471),rt=l(97839),ft=l(95670),mt=l(4375),it=l(20378),at=l(81587),Tt=l(43166),Dt=l(5502),U=l(44233),R=l(76975);const N=["startTime"],j=a=>({"mt-2":a}),G=()=>({"ml-2 clickable":!0}),ct=()=>({"width.px":"auto","height.%":100}),Et=a=>[a],At=a=>({backTo:a}),Vt=()=>({"mr-2":!0}),Ht=(a,S)=>({hiddenVisible:a,visibleIpt:S}),Xt=a=>({"border border-primary":a}),Qt=()=>({"text-primary":!0});function ee(a,S){if(1&a&&t.nrm(0,"azt-loading-effect",11),2&a){const r=t.XpG();t.Y8G("currentStatusObj",r.statusObj)}}function ne(a,S){if(1&a){const r=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(r);const d=t.XpG(2);return t.Njj(d.saveEducationalProgramEmit.emit(!1))}),t.nrm(1,"lucide-icon",46),t.j41(2,"span",47),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&a){const r=t.XpG(2);t.Y8G("disabled",r.isSavingProgram),t.R7$(3),t.JRh(t.bMT(4,2,"lang_auto_huy"))}}function oe(a,S){1&a&&t.nrm(0,"lucide-icon",52)}function ie(a,S){1&a&&t.nrm(0,"lucide-icon",53)}function ae(a,S){1&a&&t.nrm(0,"lucide-icon",61),2&a&&t.Y8G("ngClass",t.lJ4(1,Qt))}function se(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",57)(1,"div",58),t.bIt("click",function(){let d;const C=t.eBV(r).$implicit,k=t.XpG().$implicit,$=t.XpG(2).$implicit,Z=t.XpG(2);return t.Njj(Z.selectSubject(null!==(d=$.id)&&void 0!==d?d:0,null!==(d=k.id)&&void 0!==d?d:0,C))}),t.j41(2,"span",59),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,ae,1,2,"lucide-icon",60),t.k0s()()}if(2&a){const r=S.$implicit;t.Y8G("ngClass",t.eq3(5,Xt,r.selected)),t.R7$(3),t.JRh(t.bMT(4,3,r.name)),t.R7$(2),t.Y8G("ngIf",r.selected)}}function re(a,S){if(1&a&&(t.qex(0),t.j41(1,"h3",54)(2,"span",55),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.DNE(5,se,6,7,"div",56),t.bVm()),2&a){const r=S.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,2,r.name)," "),t.R7$(2),t.Y8G("ngForOf",r.children)}}function D(a,S){if(1&a&&(t.qex(0),t.DNE(1,re,6,4,"ng-container",25),t.bVm()),2&a){const r=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",r.subjects)}}function pt(a,S){if(1&a){const r=t.RV6();t.qex(0),t.j41(1,"h3",48),t.bIt("click",function(){let d;const C=t.eBV(r).$implicit,k=t.XpG(2);return t.Njj(k.showEducationalProgramSubject(null!==(d=C.id)&&void 0!==d?d:0))}),t.j41(2,"span",49),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,oe,1,0,"lucide-icon",50)(6,ie,1,0,"lucide-icon",51),t.k0s(),t.DNE(7,D,2,1,"ng-container",26),t.bVm()}if(2&a){const r=S.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,4,r.name)," "),t.R7$(2),t.Y8G("ngIf",r.showChild),t.R7$(),t.Y8G("ngIf",!r.showChild),t.R7$(),t.Y8G("ngIf",r.showChild)}}function M(a,S){1&a&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&a&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function F(a,S){1&a&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&a&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function P(a,S){if(1&a){const r=t.RV6();t.qex(0),t.j41(1,"div",64),t.bIt("click",function(){t.eBV(r);const d=t.XpG().$implicit,C=t.XpG(2);return t.Njj(C.openWeekdayConfig(d.controls.id.value))}),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()}if(2&a){const r=t.XpG().$implicit;t.R7$(),t.Y8G("formGroup",r),t.R7$(2),t.JRh(t.bMT(4,2,r.controls.name.value))}}function Ct(a,S){1&a&&(t.j41(0,"button",82),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_huy")))}function Rt(a,S){1&a&&(t.j41(0,"button",83),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_xac_nhan")))}function Nt(a,S){1&a&&t.nrm(0,"p",84)}function Ut(a,S){1&a&&(t.j41(0,"mat-label"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function Wt(a,S){if(1&a&&(t.j41(0,"mat-option",85),t.EFF(1),t.k0s()),2&a){const r=S.$implicit;t.FS9("value",r.id),t.R7$(),t.JRh(r.name)}}function Yt(a,S){1&a&&(t.qex(0),t.j41(1,"small",86),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&a&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function _e(a,S){1&a&&(t.qex(0),t.j41(1,"small",86),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&a&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function me(a,S){1&a&&(t.qex(0),t.nrm(1,"br"),t.j41(2,"small",87),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()),2&a&&(t.R7$(3),t.SpI("* ",t.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function de(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",65)(1,"div",66)(2,"span",67),t.bIt("click",function(){t.eBV(r);const d=t.XpG().$implicit,C=t.XpG(2);return t.Njj(C.openWeekdayConfig(d.controls.id.value))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"lucide-icon",68),t.bIt("click",function(){t.eBV(r);const d=t.XpG().$implicit,C=t.XpG(2);return t.Njj(C.openWeekdayConfig(d.controls.id.value))}),t.k0s(),t.j41(6,"div",69)(7,"div",70)(8,"div",71),t.nrm(9,"input",72),t.nI1(10,"mytranslate"),t.nrm(11,"ngx-mat-timepicker",73,2),t.k0s(),t.j41(13,"div",74)(14,"span",75),t.EFF(15,"\xa0-\xa0"),t.k0s()(),t.j41(16,"div",71),t.nrm(17,"input",76),t.nI1(18,"mytranslate"),t.nrm(19,"ngx-mat-timepicker",73,3),t.k0s(),t.DNE(21,Ct,3,3,"ng-template",null,4,t.C5r)(23,Rt,3,3,"ng-template",null,5,t.C5r)(25,Nt,1,0,"ng-template",null,6,t.C5r),t.j41(27,"lucide-icon",77),t.bIt("click",function(){t.eBV(r);const d=t.XpG().$implicit,C=t.XpG(2);return t.Njj(C.openWeekdayConfig(d.controls.id.value))}),t.k0s()(),t.j41(28,"mat-form-field",78),t.DNE(29,Ut,3,3,"mat-label",26),t.j41(30,"mat-select",79,7),t.bIt("openedChange",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(2);return t.Njj(k.touchedMatSelect(d,C))}),t.j41(32,"mat-option"),t.nrm(33,"ngx-mat-select-search",80),t.nI1(34,"mytranslate"),t.nI1(35,"mytranslate"),t.k0s(),t.DNE(36,Wt,2,2,"mat-option",81),t.k0s()(),t.DNE(37,Yt,4,3,"ng-container",26)(38,_e,4,3,"ng-container",26)(39,me,5,3,"ng-container",26),t.k0s()()()}if(2&a){const r=t.sdS(12),s=t.sdS(20),d=t.sdS(22),C=t.sdS(24),k=t.sdS(26),$=t.sdS(31),Z=t.XpG().$implicit,vt=t.XpG(2);t.Y8G("formGroup",Z)("ngClass",t.eq3(36,Xt,Z.controls.selected.value)),t.R7$(3),t.JRh(t.bMT(4,26,Z.controls.name.value)),t.R7$(6),t.FS9("placeholder",t.bMT(10,28,"lang_auto_tu")),t.Y8G("ngxMatTimepicker",r)("format",24),t.R7$(2),t.Y8G("editableHintTmpl",k)("enableKeyboardInput",!0)("cancelBtnTmpl",d)("confirmBtnTmpl",C),t.R7$(6),t.FS9("placeholder",t.bMT(18,30,"lang_auto_den")),t.Y8G("ngxMatTimepicker",s)("format",24),t.R7$(2),t.Y8G("editableHintTmpl",k)("enableKeyboardInput",!0)("cancelBtnTmpl",d)("confirmBtnTmpl",C),t.R7$(10),t.Y8G("ngIf",Z.errors&&Z.errors.invalidInfrastructure&&!Z.controls.infrastructureId.touched),t.R7$(),t.Y8G("value",Z.controls.infrastructureId.value),t.R7$(3),t.FS9("placeholderLabel",t.bMT(34,32,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(35,34,"lang_search_not_found")),t.Y8G("formControl",$.searchControl),t.R7$(3),t.Y8G("ngForOf",$.filter(vt.listInfrastructureObjs,"name")),t.R7$(),t.Y8G("ngIf",Z.errors&&Z.errors.requireTime),t.R7$(),t.Y8G("ngIf",Z.errors&&Z.errors.invalidTime),t.R7$(),t.Y8G("ngIf",Z.errors&&Z.errors.invalidInfrastructure)}}function Zt(a,S){if(1&a&&(t.qex(0),t.DNE(1,P,5,4,"ng-container",26)(2,de,40,38,"div",63),t.bVm()),2&a){const r=S.$implicit;t.R7$(),t.Y8G("ngIf",!r.controls.selected.value),t.R7$(),t.Y8G("ngIf",r.controls.selected.value)}}function ue(a,S){1&a&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&a&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function pe(a,S){1&a&&t.nrm(0,"azt-loading-ui",91)}function ge(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",88)(1,"button",89),t.bIt("click",function(){t.eBV(r);const d=t.XpG(2);return t.Njj(d.saveEducationalProgram())}),t.DNE(2,pe,1,0,"azt-loading-ui",90),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&a){const r=t.XpG(2);t.R7$(),t.Y8G("disabled",r.form.invalid||r.isSavingProgram),t.R7$(),t.Y8G("ngIf",r.isSavingProgram),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_luu")," ")}}function T(a,S){if(1&a){const r=t.RV6();t.DNE(0,ne,5,4,"button",12),t.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3",18),t.EFF(7,"1"),t.k0s()(),t.j41(8,"span",19),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"lucide-icon",20),t.bIt("click",function(){t.eBV(r);const d=t.XpG();return t.Njj(d.reloadAllEducationalProgram())}),t.k0s()(),t.j41(12,"div",21)(13,"div",22)(14,"ng-scrollbar",23)(15,"div",24),t.DNE(16,pt,8,6,"ng-container",25)(17,M,4,3,"ng-container",26)(18,F,4,3,"ng-container",26),t.k0s()()(),t.j41(19,"div",24)(20,"a",27),t.nI1(21,"navigationLocalize"),t.nrm(22,"lucide-icon",28),t.j41(23,"span",29),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()()(),t.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"h3",18),t.EFF(30,"2"),t.k0s()(),t.j41(31,"span",30),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()(),t.j41(34,"div",31)(35,"div",32)(36,"ng-scrollbar",23)(37,"div",33),t.DNE(38,Zt,3,2,"ng-container",25),t.k0s()()()()(),t.j41(39,"div",15)(40,"div",16)(41,"div",17)(42,"h3",18),t.EFF(43,"3"),t.k0s()(),t.j41(44,"span",30),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()(),t.j41(47,"div",34)(48,"div",35)(49,"ng-scrollbar",23)(50,"div",36)(51,"mat-form-field",37)(52,"input",38),t.bIt("click",function(){t.eBV(r);const d=t.XpG();return t.Njj(d.openDateTimePicker(1))}),t.k0s(),t.j41(53,"button",39),t.bIt("click",function(d){return t.eBV(r),t.XpG().openDateTimePicker(1),t.Njj(d.stopPropagation())}),t.nrm(54,"lucide-icon",40),t.k0s(),t.j41(55,"ngx-mat-datetime-picker",41,1)(57,"ngx-mat-datepicker-actions")(58,"button",42),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s(),t.j41(61,"button",43),t.EFF(62,"OK"),t.k0s()()()(),t.DNE(63,ue,4,3,"ng-container",26),t.k0s()()(),t.DNE(64,ge,5,5,"div",44),t.k0s()()()()}if(2&a){const r=t.sdS(56),s=t.XpG();t.Y8G("ngIf",s.programObj),t.R7$(2),t.Y8G("ngClass",t.eq3(41,j,s.programObj)),t.R7$(7),t.JRh(t.bMT(10,29,"lang_config_educational_program_select_new")),t.R7$(2),t.Y8G("ngClass",t.lJ4(43,G)),t.R7$(3),t.Y8G("visibility","hover")("ngStyle",t.lJ4(44,ct)),t.R7$(2),t.Y8G("ngForOf",s.listEducationalProgramObjs),t.R7$(),t.Y8G("ngIf",s.listEducationalProgramObjs.length>0&&!s.form.controls.chooseProgramId.value),t.R7$(),t.Y8G("ngIf",!s.listEducationalProgramObjs.length),t.R7$(2),t.Y8G("routerLink",t.eq3(45,Et,t.bMT(21,31,"/business/create-general-educational-program")))("queryParams",t.eq3(47,At,s.currentURL)),t.R7$(2),t.Y8G("ngClass",t.lJ4(49,Vt)),t.R7$(2),t.JRh(t.bMT(25,33,"lang_config_educational_program_add_new")),t.R7$(8),t.JRh(t.bMT(33,35,"lang_config_educational_program_add_time")),t.R7$(3),t.Y8G("ngClass",t.l_i(50,Ht,s.form.controls.stepChoose.value<2,s.form.controls.stepChoose.value>=2)),t.R7$(),t.Y8G("visibility","hover")("ngStyle",t.lJ4(53,ct)),t.R7$(2),t.Y8G("ngForOf",s.form.controls.weekdayConfig.controls),t.R7$(7),t.JRh(t.bMT(46,37,"lang_config_educational_program_add_start_time")),t.R7$(3),t.Y8G("ngClass",t.l_i(54,Ht,s.form.controls.stepChoose.value<3,s.form.controls.stepChoose.value>=3)),t.R7$(),t.Y8G("visibility","hover")("ngStyle",t.lJ4(57,ct)),t.R7$(3),t.Y8G("max",s.maxDate)("ngxMatDatetimePicker",r),t.R7$(3),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(4),t.JRh(t.bMT(60,39,"lang_auto_dong")),t.R7$(4),t.Y8G("ngIf",s.form.controls.startTimeEducationalProgram.invalid),t.R7$(),t.Y8G("ngIf",!s.statusObj.loading)}}let tt=(()=>{var a;class S extends i.H{openDateTimePicker(s){1==s&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(s){this.listEducationalProgramObjs.forEach(d=>{d.id==s&&(d.showChild=!d.showChild,d.showChild||d.subjects.forEach(C=>{C.children?.forEach(k=>{k.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0),k.selected=!1,this.initFormWeekly())})}))})}selectSubject(s,d,C){this.listEducationalProgramObjs.forEach(k=>{k.id==s?k.subjects.forEach($=>{$.id==d?$.children?.forEach(Z=>{Z.id==C.id?(Z.selected=!Z.selected,this.form.controls.chooseProgramId.setValue(Z.selected?C.id:0),this.form.controls.stepChoose.setValue(Z.selected?2:1)):Z.selected=!1}):$.children?.map(Z=>Z.selected=!1)}):k.subjects.map($=>$.children?.map(Z=>Z.selected=!1))})}reloadAllEducationalProgram(){this.form.controls.chooseProgramId.setValue(0),this.initFormWeekly(),this.initData()}openWeekdayConfig(s){this.form.controls.weekdayConfig.controls.forEach(d=>{d.controls.id.value==s&&d.controls.selected.setValue(!d.controls.selected.value)})}touchedMatSelect(s,d){s?d.controls.infrastructureId.markAsTouched():d.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let s={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,s)).subscribe(d=>{if(this.isSavingProgram=!1,!d.success)return this.errorStatusObj(d.message,!0);this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.saveEducationalProgramEmit.emit(!0)}))}convertStudyTimes(){let s=[];return this.form.controls.weekdayConfig.controls.forEach(d=>{if(d.controls.selected.value){let C={days:d.controls.id.value,fromHour:new Date("1970-01-01T"+d.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+d.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+d.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+d.controls.endTime.value).getMinutes(),roomId:d.controls.infrastructureId.value};s.push(C)}}),s}convertSubjectList(s,d){let C=[];return s.forEach(k=>{if(k.schoolLevelId==d)if(C.filter(Z=>Z.id==k.schoolSubjectId&&Z.levelId==k.schoolLevelId).length)C.forEach(Z=>{Z.id==k.schoolSubjectId&&Z.levelId==k.schoolLevelId&&(Z.children?.find(vt=>vt==k)||Z.children?.push(k))});else{let Z={id:k.schoolSubjectId,levelId:k.schoolLevelId,name:this.schoolSubjectObjs.find(vt=>vt.id==k.schoolSubjectId)?.name,children:[k]};C.push(Z)}}),C}convertProgramInfo(s){let d=[],C=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",k=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return s.forEach($=>{if($.name=`${$.name} (${$.totalSession} ${k})`,!d.filter(vt=>vt.id==$.schoolLevelId).length){let vt={id:$.schoolLevelId,name:C+" "+$.schoolLevelId,subjects:this.convertSubjectList(s,$.schoolLevelId),showChild:!1};d.push(vt)}}),d.sort(($,Z)=>(Z.id??0)-($.id??0))}convertListInfrastructure(s){let d=[],C=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return s.forEach(k=>{k.name=`${k.infrastructure?.name??""} - ${k.name} (${k.numberSeat} ${C})`,d.push(k)}),d}getAllInfrastructure(){this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresRoomsGet()).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);this.listInfrastructureObjs=this.convertListInfrastructure(s.data?.list??[]),this.stopStatusObj()}))}initFormWeekly(){this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let s=0;s<7;s++){let d=new st.gE({id:new st.MJ(s,{nonNullable:!0}),name:new st.MJ("lang_config_educational_program_day_"+s,{nonNullable:!0}),startTime:new st.MJ("",{nonNullable:!0}),endTime:new st.MJ("",{nonNullable:!0}),infrastructureId:new st.MJ(0,{nonNullable:!0}),selected:new st.MJ(!1,{nonNullable:!0}),invalidTime:new st.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(d)}}initData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsListPost({page:0,size:-1})).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);this.listEducationalProgramObjs=this.convertProgramInfo(s.data?.list??[]),this.getAllInfrastructure()}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(s=>{1==s.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(s.data?.schoolLevelSubjectObjs.map(d=>d.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(s.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(d=>d.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(s,d,C,k,$,Z,vt){super(),this.cd=s,this.timeService=d,this.classroomService=C,this.programService=k,this.infrastructureService=$,this.sAZTranslateService=Z,this.commonListService=vt,this.saveEducationalProgramEmit=new t.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=lt.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new st.gE({chooseProgramId:new st.MJ(0,{nonNullable:!0,validators:[st.k0.required,st.k0.min(1)]}),startTimeEducationalProgram:new st.MJ("",{nonNullable:!0,validators:[st.k0.required]}),weekdayConfig:new st.Yp([]),stepChoose:new st.MJ(1,{nonNullable:!0})},{validators:[jt.addNewEducationalProgramFormValidator]}),this.initFormWeekly()}}return(a=S).\u0275fac=function(s){return new(s||a)(t.rXU(t.gRc),t.rXU(c.F),t.rXU(e.zS),t.rXU(e.sC),t.rXU(e.BU),t.rXU(et.o),t.rXU(bt.Nz))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-add-new-educational-program"]],viewQuery:function(s,d){if(1&s&&t.GBs(N,5),2&s){let C;t.mGM(C=t.lsd())&&(d.startTime=C.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[t.Jv_([{provide:St.$O,useClass:zt.fb,deps:[K.Ju,Ft.ij]},{provide:St.vq,useFactory:H.In,deps:[c.F]}]),t.Vt3],decls:5,vars:3,consts:[["doneLoading",""],["startTime",""],["timeStartPicker",""],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["searchInListInfrastructure","searchInList"],[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw","size","18",3,"click","ngClass"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"click","max","ngxMatDatetimePicker"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"click","disabled"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block","ml-1"],[1,"flex","items-center","mt-2","cursor-pointer",2,"font-weight","420","font-size","15px",3,"click"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"mr-2"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","items-center","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"click","formGroup"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","items-center","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],[1,"text-center","flex",2,"height","38px","width","10px","align-items","center"],[2,"vertical-align","middle","height","16px","width","10px","margin-left","-2px"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["searchInList","","formControlName","infrastructureId",3,"openedChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(s,d){if(1&s&&(t.j41(0,"div",8)(1,"form",9),t.DNE(2,ee,1,1,"azt-loading-effect",10)(3,T,65,58,"ng-template",null,0,t.C5r),t.k0s()()),2&s){const C=t.sdS(4);t.R7$(),t.Y8G("formGroup",d.form),t.R7$(),t.Y8G("ngIf",d.statusObj.loading)("ngIfElse",C)}},dependencies:[Q.Wk,u.YU,u.Sq,u.bT,u.B3,K.wT,yt.$z,rt.fg,ft.rl,ft.nJ,ft.yw,mt.VO,St.m7,St.yF,St.HF,St.gx,St.Uq,it.gu,it.wn,st.qT,st.me,st.BC,st.cb,st.l_,st.j4,st.JD,st.v8,n.K,at.t,V.R,Tt.x,_t.WGl,Dt.Yh,U.U9,R.F2,R.wp],encapsulation:2}),S})();const I=()=>({"zoom-in":!0}),x=()=>[];function E(a,S){if(1&a&&(t.qex(0),t.j41(1,"p",5),t.EFF(2),t.k0s(),t.bVm()),2&a){const r=S.$implicit;t.R7$(2),t.SpI("",r.content," ")}}function w(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",6),t.bIt("click",function(){t.eBV(r);const d=t.XpG(2);return t.Njj(d.editContent())}),t.nrm(1,"lucide-icon",7),t.k0s()}2&a&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,I)))}function ht(a,S){if(1&a&&(t.j41(0,"div",2)(1,"div"),t.DNE(2,E,3,1,"ng-container",3),t.k0s(),t.DNE(3,w,2,2,"div",4),t.k0s()),2&a){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.contents),t.R7$(),t.Y8G("ngIf",r.teacherRole)}}function wt(a,S){if(1&a){const r=t.RV6();t.j41(0,"button",21),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(r);const d=t.XpG().$implicit,C=t.XpG(2);return t.Njj(C.removeContent(d))}),t.nrm(2,"lucide-icon",22),t.k0s()}if(2&a){const r=t.XpG(3);t.FS9("matTooltip",t.bMT(1,2,"lang_button_delete")),t.Y8G("disabled",r.statusObj.loading)}}function $t(a,S){1&a&&(t.j41(0,"div",23)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&a&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function Lt(a,S){if(1&a&&(t.j41(0,"div")(1,"div",17),t.nrm(2,"input",18),t.nI1(3,"mytranslate"),t.DNE(4,wt,3,4,"button",19),t.k0s(),t.DNE(5,$t,4,3,"div",20),t.k0s()),2&a){const r=S.$implicit,s=t.XpG(2);t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),t.Y8G("formControl",r.controls.content)("disabled",s.statusObj.loading),t.R7$(2),t.Y8G("ngIf",s.listFormContent.controls.length>1),t.R7$(),t.Y8G("ngIf",r.controls.content.errors)}}function Bt(a,S){1&a&&t.nrm(0,"azt-loading-ui",24),2&a&&t.Y8G("size",16)}function fe(a,S){1&a&&t.nrm(0,"lucide-icon",25)}function le(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",8),t.DNE(1,Lt,6,7,"div",3),t.j41(2,"div",9)(3,"button",10),t.bIt("click",function(){t.eBV(r);const d=t.XpG();return t.Njj(d.viewContent())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"button",11),t.bIt("click",function(){t.eBV(r);const d=t.XpG();return t.Njj(d.addContent())}),t.nrm(7,"lucide-icon",12),t.j41(8,"span",13),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",14),t.bIt("click",function(){t.eBV(r);const d=t.XpG();return t.Njj(d.saveContent())}),t.DNE(12,Bt,1,1,"azt-loading-ui",15)(13,fe,1,0,"lucide-icon",16),t.j41(14,"span",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()}if(2&a){let r;const s=t.XpG();t.R7$(),t.Y8G("ngForOf",null!==(r=null==s.listFormContent?null:s.listFormContent.controls)&&void 0!==r?r:t.lJ4(15,x)),t.R7$(2),t.Y8G("disabled",s.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(5,9,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",s.statusObj.loading||s.isEmptyContent()),t.R7$(3),t.SpI(" ",t.bMT(10,11,"lang_button_add")," "),t.R7$(2),t.Y8G("disabled",s.statusObj.loading||s.isEmptyContent()),t.R7$(),t.Y8G("ngIf",s.statusObj.loading),t.R7$(),t.Y8G("ngIf",!s.statusObj.loading),t.R7$(2),t.SpI(" ",t.bMT(16,13,"lang_button_save")," ")}}let b=(()=>{var a;class S extends i.H{isEmptyContent(){return!!this.listFormContent.controls.find(s=>s.controls.content.errors)}editContent(){this.listFormContent=new st.Yp(this.contents.map(s=>new st.gE({contentId:new st.MJ(s.id,{nonNullable:!0,validators:[st.k0.required]}),content:new st.MJ(s.content,{nonNullable:!0,validators:[st.k0.required]})})))}addContent(){var s=this.listFormContent.controls.map(d=>d.getRawValue().contentId);this.listFormContent.controls.push(new st.gE({contentId:new st.MJ(this.commonService.getVirtualIdWithoutInList(!0,s),{nonNullable:!0,validators:[st.k0.required]}),content:new st.MJ("",{nonNullable:!0,validators:[st.k0.required]})}))}removeContent(s){this.listFormContent.controls=this.listFormContent.controls.filter(d=>d!=s)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let s={contents:this.listFormContent?.controls.map(d=>({id:d.getRawValue().contentId<0?0:d.getRawValue().contentId,content:d.getRawValue().content}))??[]};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,s)).subscribe(d=>{if(!d.success)return this.errorStatusObj(d.message,!0);this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)}))}ngOnInit(){super.ngOnInit()}constructor(s){super(),this.classroomService=s,this.contents=[],this.close=new t.bkB,this.listFormContent=new st.Yp([])}}return(a=S).\u0275fac=function(s){return new(s||a)(t.rXU(e.zS))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[t.Jv_([{provide:St.$O,useClass:zt.fb,deps:[K.Ju,Ft.ij]},{provide:St.vq,useFactory:H.In,deps:[c.F]}]),t.Vt3],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"click","disabled"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"click","disabled"],["name","plus","size","16"],[1,"ml-1"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"click","disabled"],[3,"size",4,"ngIf"],["name","save","size","16",4,"ngIf"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"click","matTooltip","disabled"],["name","trash-2","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[3,"size"],["name","save","size","16"]],template:function(s,d){1&s&&t.DNE(0,ht,4,2,"div",0)(1,le,17,16,"div",1),2&s&&(t.Y8G("ngIf",0==d.listFormContent.controls.length),t.R7$(),t.Y8G("ngIf",d.listFormContent.controls.length>0))},dependencies:[u.YU,u.Sq,u.bT,J.oV,st.me,st.BC,st.l_,V.R,_t.WGl,R.wp],encapsulation:2}),S})();const B=a=>({"text-slate-700":a}),O=(a,S)=>({"text-slate-600":a,"text-warning":S}),h=a=>[a],p=a=>({backto:a}),z=()=>({"text-pending":!0}),Gt=()=>({"text-primary":!0}),Jt=(a,S)=>({"text-success":a,"text-slate-700/50":S}),ve=(a,S,r,s,d,C)=>({backto:a,classroomId:S,programId:r,sessionId:s,levelId:d,subjectId:C}),ce=(a,S)=>({"text-slate-600":a,"btn-text-primary":S}),be=a=>({width:a}),he=a=>({"dropdown-menu-scroll":a}),Ce=()=>({"mr-2":!0});function Ie(a,S){if(1&a&&(t.j41(0,"div",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a){const r=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,r.errorApiMessage)," ")}}function Se(a,S){if(1&a){const r=t.RV6();t.j41(0,"app-add-new-educational-program",15),t.bIt("saveEducationalProgramEmit",function(d){t.eBV(r);const C=t.XpG(2);return t.Njj(C.emitDataReloadSession(d))}),t.k0s()}if(2&a){const r=t.XpG(2);t.Y8G("classroomId",r.classroomId)("programObj",r.programObj)}}function je(a,S){if(1&a){const r=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(r);const d=t.XpG(3);return t.Njj(d.addNewEducationalProgram())}),t.nrm(1,"lucide-icon",22),t.j41(2,"span",23),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_educational_program_select_another")))}function Te(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",26)(1,"a",27),t.bIt("auxclick",function(d){const C=t.eBV(r).$implicit,k=t.XpG(4);return t.Njj(k.previewFile(C,d))})("click",function(d){const C=t.eBV(r).$implicit,k=t.XpG(4);return t.Njj(k.previewFile(C,d))}),t.nrm(2,"azt-document-type-file",28),t.k0s()()}if(2&a){let r;const s=S.$implicit;t.R7$(2),t.Y8G("type",s.documentType)("name",null!==(r=s.name)&&void 0!==r?r:"")("url",s.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function ke(a,S){if(1&a&&(t.qex(0),t.j41(1,"div",24),t.DNE(2,Te,3,5,"div",25),t.k0s(),t.bVm()),2&a){const r=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",r.generalDocumentObjs)}}function xe(a,S){1&a&&t.nrm(0,"lucide-icon",33)}function Oe(a,S){1&a&&t.nrm(0,"lucide-icon",34)}function Ee(a,S){1&a&&(t.j41(0,"button",43),t.nrm(1,"lucide-icon",44),t.j41(2,"span",45),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_student_absence")))}function ye(a,S){1&a&&(t.j41(0,"button",46),t.nrm(1,"lucide-icon",44),t.k0s())}function Re(a,S){if(1&a&&(t.j41(0,"div",40),t.DNE(1,Ee,5,3,"button",41),t.nI1(2,"allowFeatureBusinessForUser"),t.nI1(3,"async"),t.DNE(4,ye,2,0,"button",42),t.nI1(5,"allowFeatureBusinessForUser"),t.nI1(6,"async"),t.k0s()),2&a){const r=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",(null==r.studentAttendance?null:r.studentAttendance.absent)&&t.bMT(3,5,t.i5U(2,2,"training_center_student_attendance",!0))),t.R7$(3),t.Y8G("ngIf",(null==r.studentAttendance?null:r.studentAttendance.absent)&&t.bMT(6,10,t.i5U(5,7,"training_center_student_attendance",!0)))}}function we(a,S){if(1&a&&(t.qex(0),t.j41(1,"span",52),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&a){const r=t.XpG(2).$implicit;t.R7$(2),t.JRh(t.bMT(3,1,"lang_test_market_address")+": "+(null==r.room.infrastructure?null:r.room.infrastructure.name)+" - "+r.room.name)}}function Fe(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",47),t.bIt("click",function(){t.eBV(r);const d=t.XpG().$implicit,C=t.XpG(5);return t.Njj(C.expandSessionObj(d))}),t.j41(1,"div",48)(2,"h3",49)(3,"span",50),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",51),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,we,4,3,"ng-container",14),t.k0s()()}if(2&a){const r=t.XpG().$implicit;t.R7$(3),t.Y8G("ngClass",t.eq3(8,B,r.outOfDate)),t.R7$(),t.JRh(t.bMT(5,4,"lang_core_buoi")+" "+r.sort),t.R7$(3),t.JRh(t.bMT(8,6,"lang_config_educational_program_day_"+r.day)+", "+r.dateSession+" "+r.timeSession),t.R7$(2),t.Y8G("ngIf",r.room)}}function De(a,S){if(1&a&&(t.qex(0),t.j41(1,"span",70),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&a){const r=t.XpG(2).$implicit;t.R7$(2),t.JRh(t.bMT(3,1,"lang_test_market_address")+": "+(null==r.room.infrastructure?null:r.room.infrastructure.name)+" - "+r.room.name)}}function Pe(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",59)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"app-education-program-session-content-form",71),t.bIt("close",function(d){t.eBV(r);const C=t.XpG(2).$implicit,k=t.XpG(5);return t.Njj(k.reloadData(d,C))}),t.k0s()()}if(2&a){const r=t.XpG(2).$implicit,s=t.XpG(5);t.R7$(2),t.Y8G("ngClass",t.l_i(8,O,r.outOfDate,!r.outOfDate)),t.R7$(),t.JRh(t.bMT(4,6,"lang_auto_noi_dung")),t.R7$(2),t.Y8G("contents",r.contents)("teacherRole",s.teacherRole)("classroomId",s.classroomId)("sessionId",r.id)}}function Me(a,S){1&a&&(t.qex(0),t.j41(1,"div",82),t.nrm(2,"img",83),t.nI1(3,"convertCdnLinkOfGitHub"),t.k0s(),t.bVm()),2&a&&(t.R7$(2),t.Y8G("src",t.bMT(3,1,"images/type_file/unknown-file.svg"),t.B4B))}function ze(a,S){1&a&&(t.qex(0),t.nrm(1,"lucide-icon",84),t.bVm()),2&a&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,z)))}function Ge(a,S){1&a&&(t.qex(0),t.nrm(1,"lucide-icon",85),t.bVm()),2&a&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,Gt)))}function $e(a,S){if(1&a&&(t.j41(0,"small",86),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a){const r=t.XpG().$implicit;t.R7$(),t.E5c(" ",t.bMT(2,3,"lang_auto_da_nop"),":\xa0",r.totalFinish,"/",r.totalAttendee," ")}}function Ne(a,S){if(1&a&&(t.j41(0,"small",87),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a){const r=t.XpG().$implicit;t.Y8G("ngClass",t.l_i(4,Jt,r.totalFinish,!r.totalFinish)),t.R7$(),t.SpI(" ",t.bMT(2,2,r.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function Ae(a,S){if(1&a){const r=t.RV6();t.j41(0,"small",88),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"button",89),t.nI1(4,"mytranslate"),t.bIt("click",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(2).$implicit;return t.XpG(5).editMarkCoefficient(C,k),d.stopPropagation(),t.Njj(d.preventDefault())}),t.nrm(5,"lucide-icon",90),t.k0s()()}if(2&a){const r=t.XpG().$implicit;t.R7$(),t.Lme(" ",t.bMT(2,3,"lang_student_score_factor"),":\xa0",r.markCoefficient," "),t.R7$(2),t.FS9("matTooltip",t.bMT(4,5,"lang_student_edit_mark_coefficient"))}}function Le(a,S){if(1&a&&(t.j41(0,"div",72)(1,"a",73),t.nI1(2,"navigationLocalize"),t.j41(3,"div",74)(4,"div",75),t.DNE(5,Me,4,3,"ng-container",14)(6,ze,2,2,"ng-container",14)(7,Ge,2,2,"ng-container",14),t.k0s(),t.j41(8,"div",76)(9,"div",77)(10,"span",78,2),t.EFF(12),t.k0s(),t.DNE(13,$e,3,5,"small",79)(14,Ne,3,7,"small",80)(15,Ae,6,7,"small",81),t.k0s()()()()()),2&a){let r;const s=S.$implicit,d=t.sdS(11),C=t.XpG(7);t.R7$(),t.Y8G("routerLink",t.eq3(14,h,t.bMT(2,12,s.documentType==C.allDocumentTypes.exam?C.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(r=s.categoryId)&&void 0!==r?r:0)+"/"+s.refId+"/0":"/de-thi/"+s.hashId:C.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(r=s.classroomId)&&void 0!==r?r:0)+"/"+s.refId+"/"+s.hashId:"/bai-tap/"+s.hashId)))("queryParams",t.eq3(16,p,C.currentUrl)),t.R7$(4),t.Y8G("ngIf",!s.type),t.R7$(),t.Y8G("ngIf","exam"==s.type),t.R7$(),t.Y8G("ngIf","homework"==s.type),t.R7$(3),t.FS9("matTooltip",s.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",d.isDisabled),t.R7$(2),t.SpI(" ",s.name," "),t.R7$(),t.Y8G("ngIf",C.teacherRole),t.R7$(),t.Y8G("ngIf",!C.teacherRole),t.R7$(),t.Y8G("ngIf",C.teacherRole)}}function Be(a,S){if(1&a&&(t.j41(0,"a",91),t.nI1(1,"navigationLocalize"),t.j41(2,"span",92),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&a){let r;const s=t.XpG(2).$implicit,d=t.XpG(5);t.Y8G("routerLink",t.eq3(8,h,t.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",t.l4e(10,ve,d.currentUrl,d.classroomId,s.programId,s.id,null!==(r=null==d.programObj?null:d.programObj.schoolLevelId)&&void 0!==r?r:0,null!==(r=null==d.programObj?null:d.programObj.schoolSubjectId)&&void 0!==r?r:0))("ngClass",t.l_i(17,ce,s.outOfDate,!s.outOfDate)),t.R7$(3),t.SpI("+ ",t.bMT(4,6,"lang_business_assign_exams"),"")}}function Ye(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",106)(1,"a",107),t.bIt("click",function(d){let C;t.eBV(r);const k=t.XpG(2).$implicit,$=t.XpG(3).$implicit,Z=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(Z,null!==(C=k.sessionId)&&void 0!==C?C:0,k.id,$),d.preventDefault(),t.Njj(d.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&a&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Ve(a,S){if(1&a){const r=t.RV6();t.j41(0,"li")(1,"a",103),t.bIt("auxclick",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))})("click",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,Ye,4,3,"div",105),t.k0s()()}if(2&a){let r;const s=t.XpG().$implicit,d=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",s.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(r=s.name)&&void 0!==r?r:"")("url",s.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",d.teacherRole)}}function Xe(a,S){if(1&a&&(t.qex(0),t.DNE(1,Ve,4,10,"li",14),t.bVm()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(9);t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.video)}}function _(a,S){if(1&a&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,4)(8,"div",101)(9,"ul",102),t.DNE(10,Xe,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&a){const r=t.sdS(7),s=t.XpG(2).$implicit,d=t.XpG(4).last,C=t.XpG(2).last;t.XpG();const k=t.sdS(2),$=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",s.documentObjs.length?r:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+s.name),""," ("+s.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,be,$.isMobileWebView?k.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,he,C&&d||s.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",s.documentObjs)}}function y(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",106)(1,"a",110),t.bIt("click",function(d){let C;t.eBV(r);const k=t.XpG(2).$implicit,$=t.XpG(3).$implicit,Z=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(Z,null!==(C=k.sessionId)&&void 0!==C?C:0,k.id,$),d.preventDefault(),t.Njj(d.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&a&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function g(a,S){if(1&a){const r=t.RV6();t.j41(0,"li")(1,"a",109),t.bIt("auxclick",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))})("click",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,y,4,3,"div",105),t.k0s()()}if(2&a){let r;const s=t.XpG().$implicit,d=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",s.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(r=s.name)&&void 0!==r?r:"")("url",s.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",d.teacherRole)}}function m(a,S){if(1&a&&(t.qex(0),t.DNE(1,g,4,10,"li",14),t.bVm()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(9);t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.document)}}function v(a,S){if(1&a&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,5)(8,"div",101)(9,"ul",102),t.DNE(10,m,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&a){const r=t.sdS(7),s=t.XpG(2).$implicit,d=t.XpG(4).last,C=t.XpG(2).last;t.XpG();const k=t.sdS(2),$=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",s.documentObjs.length?r:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+s.name),""," ("+s.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,be,$.isMobileWebView?k.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,he,C&&d||s.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",s.documentObjs)}}function A(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",106)(1,"a",112),t.bIt("click",function(d){let C;t.eBV(r);const k=t.XpG(2).$implicit,$=t.XpG(3).$implicit,Z=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(Z,null!==(C=k.sessionId)&&void 0!==C?C:0,k.id,$),d.preventDefault(),t.Njj(d.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&a&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function xt(a,S){if(1&a){const r=t.RV6();t.j41(0,"li")(1,"a",111),t.bIt("auxclick",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))})("click",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,A,4,3,"div",105),t.k0s()()}if(2&a){let r;const s=t.XpG().$implicit,d=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",s.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(r=s.name)&&void 0!==r?r:"")("url",s.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",d.teacherRole)}}function Pt(a,S){if(1&a&&(t.qex(0),t.DNE(1,xt,4,10,"li",14),t.bVm()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(9);t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.homework)}}function qt(a,S){if(1&a&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,6)(8,"div",101)(9,"ul",102),t.DNE(10,Pt,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&a){const r=t.sdS(7),s=t.XpG(2).$implicit,d=t.XpG(4).last,C=t.XpG(2).last;t.XpG();const k=t.sdS(2),$=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",s.documentObjs.length?r:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+s.name),""," ("+s.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,be,$.isMobileWebView?k.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,he,C&&d||s.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",s.documentObjs)}}function Je(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",106)(1,"a",115),t.bIt("click",function(d){let C;t.eBV(r);const k=t.XpG(2).$implicit,$=t.XpG(3).$implicit,Z=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(Z,null!==(C=k.sessionId)&&void 0!==C?C:0,k.id,$),d.preventDefault(),t.Njj(d.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&a&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Ke(a,S){if(1&a){const r=t.RV6();t.j41(0,"li")(1,"a",113),t.bIt("auxclick",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))})("click",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))}),t.nrm(2,"azt-document-type-file",114),t.DNE(3,Je,4,3,"div",105),t.k0s()()}if(2&a){let r;const s=t.XpG().$implicit,d=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("type",s.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(r=s.name)&&void 0!==r?r:"")("url",s.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",d.teacherRole)}}function He(a,S){if(1&a&&(t.qex(0),t.DNE(1,Ke,4,10,"li",14),t.bVm()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(9);t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.homework_view)}}function Qe(a,S){if(1&a&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,7)(8,"div",101)(9,"ul",102),t.DNE(10,He,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&a){const r=t.sdS(7),s=t.XpG(2).$implicit,d=t.XpG(4).last,C=t.XpG(2).last;t.XpG();const k=t.sdS(2),$=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",s.documentObjs.length?r:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+s.name),""," ("+s.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,be,$.isMobileWebView?k.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,he,C&&d||s.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",s.documentObjs)}}function Ze(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",106)(1,"a",117),t.bIt("click",function(d){let C;t.eBV(r);const k=t.XpG(2).$implicit,$=t.XpG(3).$implicit,Z=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(Z,null!==(C=k.sessionId)&&void 0!==C?C:0,k.id,$),d.preventDefault(),t.Njj(d.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&a&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function qe(a,S){if(1&a){const r=t.RV6();t.j41(0,"li")(1,"a",116),t.bIt("auxclick",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))})("click",function(d){t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(12);return t.Njj(k.previewFile(C,d))}),t.nrm(2,"azt-document-type-file",114),t.DNE(3,Ze,4,3,"div",105),t.k0s()()}if(2&a){let r;const s=t.XpG().$implicit,d=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("type",s.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(r=s.name)&&void 0!==r?r:"")("url",s.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",d.teacherRole)}}function tn(a,S){if(1&a&&(t.qex(0),t.DNE(1,qe,4,10,"li",14),t.bVm()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(9);t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.unknown)}}function en(a,S){if(1&a&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,8)(8,"div",101)(9,"ul",102),t.DNE(10,tn,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&a){const r=t.sdS(7),s=t.XpG(2).$implicit,d=t.XpG(4).last,C=t.XpG(2).last;t.XpG();const k=t.sdS(2),$=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",r),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+s.name),""," ("+s.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,be,$.isMobileWebView?k.offsetWidth-40+"px":"18rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,he,C&&d||s.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",s.documentObjs)}}function nn(a,S){if(1&a&&(t.j41(0,"div",97),t.DNE(1,_,11,12,"ng-container",14)(2,v,11,12,"ng-container",14)(3,qt,11,12,"ng-container",14)(4,Qe,11,12,"ng-container",14)(5,en,11,12,"ng-container",14),t.k0s()),2&a){const r=t.XpG().$implicit,s=t.XpG(9);t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.video),t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.document),t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.homework),t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.homework_view),t.R7$(),t.Y8G("ngIf",r.name==s.allDocumentGroupTypes.unknown&&r.documentObjs.length)}}function on(a,S){if(1&a&&(t.qex(0),t.DNE(1,nn,6,5,"div",96),t.bVm()),2&a){const r=S.$implicit,s=t.XpG(9);t.R7$(),t.Y8G("ngIf",r.name!=s.allDocumentGroupTypes.unknown||r.name==s.allDocumentGroupTypes.unknown&&r.documentObjs.length)}}function an(a,S){if(1&a&&(t.qex(0),t.DNE(1,on,2,1,"ng-container",20),t.bVm()),2&a){const r=t.XpG(3).$implicit;t.R7$(),t.Y8G("ngForOf",r.groupDocumentObjs)}}function sn(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",106)(1,"a",122),t.bIt("click",function(){let d;t.eBV(r);const C=t.XpG().$implicit,k=t.XpG(4).$implicit,$=t.XpG(5);return t.Njj($.removeDocumentFromSession(k,null!==(d=C.sessionId)&&void 0!==d?d:0,C.id))}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&a&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function rn(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",119)(1,"a",120),t.bIt("auxclick",function(d){const C=t.eBV(r).$implicit,k=t.XpG(9);return t.Njj(k.previewFile(C,d))})("click",function(d){const C=t.eBV(r).$implicit,k=t.XpG(9);return t.Njj(k.previewFile(C,d))}),t.nrm(2,"azt-document-type-file",121),t.k0s(),t.DNE(3,sn,4,3,"div",105),t.k0s()}if(2&a){let r;const s=S.$implicit,d=t.XpG(9);t.R7$(2),t.Y8G("type",s.documentType)("name",null!==(r=s.name)&&void 0!==r?r:"")("url",s.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",d.teacherRole)}}function ln(a,S){if(1&a&&t.DNE(0,rn,4,5,"div",118),2&a){const r=t.XpG(3).$implicit;t.Y8G("ngForOf",r.normalDocumentObjs)}}function cn(a,S){if(1&a){const r=t.RV6();t.j41(0,"app-upload-document-for-session",123),t.bIt("emitFileDocument",function(d){t.eBV(r);const C=t.XpG(3).$implicit,k=t.XpG(5);return t.Njj(k.uploadFileEmitted(d,C))}),t.j41(1,"span",92),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&a){const r=t.XpG(3).$implicit;t.Y8G("isBtn",!0)("customClass",r.outOfDate?"text-slate-600":"text-primary"),t.R7$(2),t.JRh(t.bMT(3,3,"lang_educational_program_add_document"))}}function _n(a,S){if(1&a&&(t.j41(0,"div",63),t.DNE(1,an,2,1,"ng-container",93)(2,ln,1,1,"ng-template",null,3,t.C5r),t.j41(4,"div",94),t.DNE(5,cn,4,5,"app-upload-document-for-session",95),t.k0s()()),2&a){const r=t.sdS(3),s=t.XpG(2).$implicit,d=t.XpG(5);t.R7$(),t.Y8G("ngIf",s.groupDocumentObjs.length)("ngIfElse",r),t.R7$(4),t.Y8G("ngIf",d.teacherRole)}}function mn(a,S){1&a&&(t.j41(0,"div",124)(1,"div",125)(2,"span",126),t.nrm(3,"azt-loading-ui",127),t.k0s()()()),2&a&&(t.R7$(3),t.Y8G("type","oval"))}function dn(a,S){if(1&a&&(t.j41(0,"a",135),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",136),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(5);t.Y8G("routerLink",t.eq3(8,h,t.bMT(1,4,"/admin/student/attendance-student/"+s.classroomId+"/"+r.programId+"/"+r.id)))("queryParams",t.eq3(10,p,"/admin/student/classroom-details/"+s.classroomId+"/3?sessionId="+r.id+"&backto="+s.backLink)),t.R7$(4),t.Lme("",t.bMT(5,6,"lang_student_attendance_student"),""," ("+r.totalJoinedStudent+"/"+r.totalStudent+")","")}}function un(a,S){if(1&a&&(t.j41(0,"a",137),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",138),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(5);t.Y8G("routerLink",t.eq3(7,h,t.bMT(1,3,"/admin/student/distribute-document/"+s.classroomId+"/"+r.programId+"/"+r.id)))("queryParams",t.eq3(9,p,"/admin/student/classroom-details/"+s.classroomId+"/3?sessionId="+r.id+"&backto="+s.backLink)),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_distribute_books"))}}function pn(a,S){if(1&a&&(t.j41(0,"a",139),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",140),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&a){const r=t.XpG(3).$implicit,s=t.XpG(5);t.Y8G("routerLink",t.eq3(7,h,t.bMT(1,3,"/admin/student/submit-score/"+s.classroomId+"/"+r.programId+"/"+r.id)))("queryParams",t.eq3(9,p,"/admin/student/classroom-details/"+s.classroomId+"/3?sessionId="+r.id+"&backto="+s.backLink)),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_enter_score"))}}function gn(a,S){if(1&a&&(t.j41(0,"div",66)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",128),t.DNE(6,dn,6,12,"a",129),t.nI1(7,"allowFeatureBusinessForUser"),t.nI1(8,"async"),t.DNE(9,un,6,11,"a",130),t.nI1(10,"allowFeatureBusinessForUser"),t.nI1(11,"async"),t.DNE(12,pn,6,11,"a",131),t.nI1(13,"allowFeatureBusinessForUser"),t.nI1(14,"async"),t.j41(15,"a",132),t.nI1(16,"navigationLocalize"),t.nrm(17,"lucide-icon",133),t.j41(18,"span",134),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&a){const r=t.XpG(2).$implicit,s=t.XpG(5);t.R7$(2),t.Y8G("ngClass",t.l_i(29,O,r.outOfDate,!r.outOfDate)),t.R7$(),t.SpI(" ",t.bMT(4,8,"lang_auto_hanh_dong")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(8,13,t.i5U(7,10,"training_center_student_attendance",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(11,18,t.i5U(10,15,"training_center_student_book",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(14,23,t.i5U(13,20,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("routerLink",t.eq3(32,h,t.bMT(16,25,"/admin/student/add-comment/"+s.classroomId+"/"+r.programId+"/"+r.id)))("queryParams",t.eq3(34,p,"/admin/student/classroom-details/"+s.classroomId+"/3?sessionId="+r.id+"&backto="+s.backLink)),t.R7$(4),t.JRh(t.bMT(20,27,"lang_auto_nhap_nhan_xet"))}}function fn(a,S){if(1&a&&(t.j41(0,"div",66)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",128)(6,"div",141)(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"span",142),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()),2&a){const r=t.XpG(2).$implicit;t.R7$(2),t.Y8G("ngClass",t.l_i(10,O,r.outOfDate,!r.outOfDate)),t.R7$(),t.SpI(" ",t.bMT(4,4,"lang_auto_hanh_dong")," "),t.R7$(5),t.JRh(t.bMT(9,6,"lang_business_requested_leave_with_a_reason")),t.R7$(3),t.JRh(null!=r.studentAttendance&&r.studentAttendance.reason?null==r.studentAttendance?null:r.studentAttendance.reason:t.bMT(12,8,"lang_student_absence_no_reason"))}}function bn(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",53)(1,"div",54),t.bIt("click",function(){t.eBV(r);const d=t.XpG().$implicit,C=t.XpG(5);return t.Njj(C.expandSessionObj(d))}),t.j41(2,"h3",55)(3,"span",56),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",57),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,De,4,3,"ng-container",14),t.k0s(),t.DNE(10,Pe,6,11,"div",58),t.j41(11,"div",59)(12,"div",60)(13,"span",61),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",62)(17,"div",63),t.DNE(18,Le,16,18,"div",64)(19,Be,5,20,"a",65),t.k0s()()(),t.j41(20,"div",66)(21,"div",60)(22,"span",61),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.j41(25,"div",62),t.DNE(26,_n,6,3,"div",67)(27,mn,4,1,"div",68),t.k0s()(),t.DNE(28,gn,21,36,"div",69),t.nI1(29,"allowFeatureBusinessForUser"),t.nI1(30,"async"),t.nI1(31,"allowFeatureBusinessForUser"),t.nI1(32,"async"),t.nI1(33,"allowFeatureBusinessForUser"),t.nI1(34,"async"),t.DNE(35,fn,13,13,"div",69),t.nI1(36,"allowFeatureBusinessForUser"),t.nI1(37,"async"),t.k0s()}if(2&a){const r=t.XpG().$implicit,s=t.XpG(5);t.BMQ("id","session-"+r.id),t.R7$(3),t.Y8G("ngClass",t.eq3(44,B,r.outOfDate)),t.R7$(),t.JRh(t.bMT(5,16,"lang_core_buoi")+" "+r.sort),t.R7$(3),t.JRh(t.bMT(8,18,"lang_config_educational_program_day_"+r.day)+", "+r.dateSession+" "+r.timeSession),t.R7$(2),t.Y8G("ngIf",r.room),t.R7$(),t.Y8G("ngIf",r.contents&&r.contents.length),t.R7$(3),t.Y8G("ngClass",t.l_i(46,O,r.outOfDate,!r.outOfDate)),t.R7$(),t.JRh(t.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),t.R7$(4),t.Y8G("ngForOf",r.examHomeworkObjs),t.R7$(),t.Y8G("ngIf",s.teacherRole),t.R7$(3),t.Y8G("ngClass",t.l_i(49,O,r.outOfDate,!r.outOfDate)),t.R7$(),t.JRh(t.bMT(24,22,"lang_testbank_document_list_header_title")),t.R7$(3),t.Y8G("ngIf",!r.isDeletingDocument&&!r.isUploadingDocument),t.R7$(),t.Y8G("ngIf",r.isDeletingDocument||r.isUploadingDocument),t.R7$(),t.Y8G("ngIf",(t.bMT(30,27,t.i5U(29,24,"training_center_student_attendance",!1))||t.bMT(32,32,t.i5U(31,29,"training_center_student_book",!1))||t.bMT(34,37,t.i5U(33,34,"training_center_student_mark",!1)))&&s.teacherRole),t.R7$(7),t.Y8G("ngIf",(null==r.studentAttendance?null:r.studentAttendance.absent)&&t.bMT(37,42,t.i5U(36,39,"training_center_student_attendance",!0))&&!s.teacherRole)}}function hn(a,S){if(1&a&&(t.j41(0,"div",36),t.DNE(1,Re,7,12,"div",37)(2,Fe,10,10,"div",38)(3,bn,38,52,"div",39),t.k0s()),2&a){const r=S.$implicit,s=t.XpG(5);t.R7$(),t.Y8G("ngIf",!s.teacherRole),t.R7$(),t.Y8G("ngIf",!r.isExpanded),t.R7$(),t.Y8G("ngIf",r.isExpanded)}}function vn(a,S){if(1&a&&(t.qex(0),t.DNE(1,hn,4,3,"div",35),t.bVm()),2&a){const r=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",r.programObjs)}}function Cn(a,S){if(1&a){const r=t.RV6();t.qex(0),t.j41(1,"h3",29)(2,"span",30),t.bIt("click",function(){const d=t.eBV(r).$implicit;return t.Njj(d.expand=!d.expand)}),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,xe,1,0,"lucide-icon",31)(6,Oe,1,0,"lucide-icon",32),t.k0s()(),t.DNE(7,vn,2,1,"ng-container",14),t.bVm()}if(2&a){const r=S.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,4,r.monthName)," "),t.R7$(2),t.Y8G("ngIf",r.expand),t.R7$(),t.Y8G("ngIf",!r.expand),t.R7$(),t.Y8G("ngIf",r.expand)}}function In(a,S){if(1&a&&(t.qex(0),t.j41(1,"div",16,1)(3,"div",17)(4,"h3",18),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,je,5,3,"button",19),t.k0s(),t.DNE(8,ke,3,1,"ng-container",14),t.k0s(),t.qex(9),t.DNE(10,Cn,8,6,"ng-container",20),t.bVm()()),2&a){const r=t.XpG(2);t.R7$(5),t.SpI(" ",t.bMT(6,4,"lang_educational_program_general_documents")," "),t.R7$(2),t.Y8G("ngIf",r.teacherRole),t.R7$(),t.Y8G("ngIf",r.generalDocumentObjs.length),t.R7$(2),t.Y8G("ngForOf",r.groupProgramSessionObjs)}}function Sn(a,S){1&a&&(t.j41(0,"h3",148),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}function jn(a,S){if(1&a){const r=t.RV6();t.j41(0,"button",149),t.bIt("click",function(){t.eBV(r);const d=t.XpG(4);return t.Njj(d.addNewEducationalProgram())}),t.nrm(1,"lucide-icon",150),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&a&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_config_educational_program_select_new")))}function Tn(a,S){if(1&a&&(t.j41(0,"div",144)(1,"h3",145),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Sn,3,3,"h3",146)(5,jn,5,5,"button",147),t.k0s()),2&a){const r=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),t.R7$(2),t.Y8G("ngIf",r.teacherRole),t.R7$(),t.Y8G("ngIf",r.teacherRole)}}function kn(a,S){1&a&&(t.j41(0,"h3",148),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function xn(a,S){if(1&a){const r=t.RV6();t.j41(0,"button",152),t.bIt("click",function(){t.eBV(r);const d=t.XpG(4);return t.Njj(d.editEducationalProgram())}),t.nrm(1,"lucide-icon",153),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&a&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_config_educational_program_edit_btn")))}function On(a,S){if(1&a&&(t.j41(0,"div",144)(1,"h3",145),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,kn,3,3,"h3",146)(5,xn,5,5,"button",151),t.k0s()),2&a){const r=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),t.R7$(2),t.Y8G("ngIf",r.teacherRole),t.R7$(),t.Y8G("ngIf",r.teacherRole)}}function En(a,S){if(1&a&&(t.qex(0),t.DNE(1,Tn,6,5,"div",143)(2,On,6,5,"ng-template",null,9,t.C5r),t.bVm()),2&a){const r=t.sdS(3),s=t.XpG(2);t.R7$(),t.Y8G("ngIf",!s.programObj)("ngIfElse",r)}}function yn(a,S){if(1&a&&t.DNE(0,Se,1,2,"app-add-new-educational-program",13)(1,In,11,6,"ng-container",14)(2,En,4,2,"ng-container",14),2&a){const r=t.XpG();t.Y8G("ngIf",r.showAddNewEducationalProgram),t.R7$(),t.Y8G("ngIf",!r.showAddNewEducationalProgram&&r.programSessionObjs.length),t.R7$(),t.Y8G("ngIf",!r.showAddNewEducationalProgram&&r.programSessionObjs.length<=0)}}let Rn=(()=>{var a;class S extends i.H{emitDataReloadSession(s){s?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(s,d){this.sAztDialogService.open(gt._,{data:{id:s.markId??0,name:"",coefficient:s.markCoefficient,programId:d.programId,classroomId:this.classroomId,sessionId:d.id,isOnlyCoefficient:!0,documentName:s.name,documentType:s.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(k=>{k&&this.reloadSessionDataOfProgram(d)})}reloadData(s,d){s&&this.reloadSessionDataOfProgram(d)}reloadSessionDataOfProgram(s){s.isLoadingData=!0,this.reloadSessionDataEmitter.emit(s)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let s=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+(this.programObj?.id??0),"?backTo="+s)}removeDocumentFromSession(s,d,C,k){var $=(s.normalDocumentObjs.filter(vt=>vt.id==C)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+s.sort.toString(),Z=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+$+" </div> ?";this.sAztDialogService.open(kt.u,{data:{content:Z},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(vt=>{vt&&(s.isDeletingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,d,C)).subscribe(te=>{if(s.isDeletingDocument=!1,!te.success)return this.errorStatusObj(te.message,!0);k&&(k.documentObjs=k.documentObjs.filter(Ot=>Ot.id!=C)),s.normalDocumentObjs=s.normalDocumentObjs.filter(Ot=>Ot.id!=C),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully")})))})}uploadFileEmitted(s,d){d.isUploadingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,d.id,s)).subscribe(C=>{if(d.isUploadingDocument=!1,!C.success)return this.errorStatusObj(C.message,!0);this.reloadSessionDataOfProgram(d),this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")}))}expandSessionObj(s){s.isExpanded=!s.isExpanded,this.changeSessionDataEmitter.emit(s)}previewFile(s,d){if(this.isBusinessDomain&&s.type==o.d.video&&(0,dt.xy)(s.link??""))window.open(s.link,"_blank");else{const C={name:s.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(s.type),type:s.type,url:s.link};this.sAztDialogService.open(ot.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...C,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let s=this.programSessionObjs.find(d=>d.isExpanded);if(s){let d=document.getElementById("session-"+s.id);window.scrollTo({top:d?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(s,d,C,k){super(),this.sAztDialogService=s,this.cd=d,this.classroomService=C,this.sAztFileTypeService=k,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new t.bkB,this.changeSessionDataEmitter=new t.bkB,this.allDocumentTypes=o.d,this.allDocumentGroupTypes=nt.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return(a=S).\u0275fac=function(s){return new(s||a)(t.rXU(L.i),t.rXU(t.gRc),t.rXU(e.zS),t.rXU(q.k))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[t.Vt3],decls:4,vars:2,consts:[["noApiError",""],["generalDocumentsWidget",""],["c","isDisabled"],["normalViewDocument",""],["matMenuVideo","matMenu"],["matMenuDocument","matMenu"],["matMenuHomework","matMenu"],["matMenuHomeworkView","matMenu"],["matMenuUnknown","matMenu"],["hasProgramObj",""],[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"saveEducationalProgramEmit","classroomId","programObj"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",3,"click"],["name","refresh-cw","size","16"],[1,"ml-2"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"close","contents","teacherRole","classroomId","sessionId"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative flex items-center","style","font-size: 13px",4,"ngIf"],[1,"w-12","h-12","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","48",3,"ngClass"],["name","file-text","size","48",3,"ngClass"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative","flex","items-center",2,"font-size","13px"],["matRipple","","azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"btn","btn-outline-primary","btn-sm","border-0","shadow-none","p-1",3,"click","matTooltip"],["name","square-pen","size","16"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3","items-center","cursor-pointer","text-primary",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],["name","circle-arrow-down","size","18"],["xPosition","after"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"emitFileDocument","isBtn","customClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-pen","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(s,d){if(1&s&&(t.j41(0,"div",10),t.DNE(1,Ie,3,3,"div",11)(2,yn,3,3,"ng-template",null,0,t.C5r),t.k0s()),2&s){const C=t.sdS(3);t.R7$(),t.Y8G("ngIf",!d.statusObj.loading&&d.errorApiMessage)("ngIfElse",C)}},dependencies:[Q.Wk,u.YU,u.Sq,u.bT,u.B3,W.kk,W.Cp,K.r6,J.oV,Y.f,V.R,X.m,_t.WGl,ut.J,tt,b,u.Jj,R.F2,R.wp,R.gt,R.bj],encapsulation:2}),S})();function wn(a,S){if(1&a&&t.nrm(0,"azt-loading-effect",2),2&a){const r=t.XpG();t.Y8G("currentStatusObj",r.statusObj)}}function Fn(a,S){if(1&a){const r=t.RV6();t.j41(0,"div",3)(1,"app-list-sessions",4),t.bIt("reloadSessionDataEmitter",function(d){t.eBV(r);const C=t.XpG();return t.Njj(C.reloadSessionData(d))})("changeSessionDataEmitter",function(d){t.eBV(r);const C=t.XpG();return t.Njj(C.changeSessionData(d))}),t.k0s()()}if(2&a){const r=t.XpG();t.R7$(),t.Y8G("teacherRole",r.teacherRole)("classroomId",r.classroomId)("backLink",r.backLink)("errorApiMessage",r.errorApiMessage)("generalDocumentObjs",r.generalDocumentObjs)("programSessionObjs",r.programSessionObjs)("groupProgramSessionObjs",r.groupProgramSessionObjs)("programObj",r.programObj)}}let Dn=(()=>{var a;class S extends i.H{changeSessionData(s){this.programSessionObjs.map(d=>d.id==s.id?s:d),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${s.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(s){this.initData(s)}convertNormalDocumentByGroup(s){let d={};return s.forEach(C=>{C.groupType&&(d.hasOwnProperty(C.groupType)||(d[C.groupType]=[]),d[C.groupType].push(C))}),d}processData(s){let d=this.commonService.arrayToDictionary(s,k=>k.groupType?k.groupType:"unknown"),C=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(d).forEach(([k,$],Z)=>{if($.length>0){let vt={name:k,documentObjs:$};"video"==vt.name&&(C[0]=vt),"document"==vt.name&&(C[1]=vt),"homework"==vt.name&&(C[2]=vt),"homework_view"==vt.name&&(C[3]=vt),"unknown"==vt.name&&(C[4]=vt)}}),C}convertDocumentsOfSession(s,d){let C=(new Date).toDateString(),k=!1;return s.forEach(($,Z)=>{$.normalDocumentObjs=$.allDocumentObjs.filter(Ot=>"exam"!=Ot.type&&"homework"!=Ot.type),$.examHomeworkObjs=$.allDocumentObjs.filter(Ot=>"exam"==Ot.type||"homework"==Ot.type),$.groupDocumentObjs=this.processData($.normalDocumentObjs),$.indexSession=$.sort;let vt="",te="";if($.fromTime){let Ot=new Date($.fromTime),Kt=new Date(Ot.toDateString()),Ue=new Date(C),We=Math.floor((Kt.getTime()-Ue.getTime())/1e3);$.dateSession=this.timeService.getFormatDate($.fromTime),$.outOfDate=We<0,$.monthSession=Ot.getMonth()+1,$.yearSession=Ot.getFullYear(),vt+=this.addZeroToTime(Ot.getHours())+":"+this.addZeroToTime(Ot.getMinutes()),te=this.timeService.calculationTimeAgoOnlyDate(Kt,Ue)}if($.toTime){let Ot=new Date($.toTime);vt+=" - "+this.addZeroToTime(Ot.getHours())+":"+this.addZeroToTime(Ot.getMinutes())}vt+=te?" ("+te+")":"",$.timeSession=vt,k||($.isExpanded=d?$.isExpanded:!$.outOfDate,$.isExpanded&&(k=!0))}),s}addZeroToTime(s){return s<10?"0"+s:s.toString()}getSchoolLeaveObjs(s,d){if(!s.length||this.teacherRole)return d(s);this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsAttendancesMeGet(this.classroomId)).subscribe(C=>{if(!C.success)return this.errorStatusObj(C.message,!0),d(s);s.map(k=>{k.studentAttendance=C.data?.list.find($=>$.sessionId==k.id)}),d(s)}))}initData(s){s||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let d=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(this.wrapApiResponse(d).subscribe(C=>{if(!C.success)return this.errorApiMessage=C.message,this.errorStatusObj(C.message,!0);this.generalDocumentObjs=C.data?.generalDocuments.map($=>({...$,documentType:this.commonService.getEnumTypeWithDefault(o.d,$.type,o.d.unknown)}))??[],this.programObj=C.data?.program;let k=C.data?.sessions.map($=>({...$,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:$.documents.map(Z=>({...Z,documentType:this.commonService.getEnumTypeWithDefault(o.d,Z.type,o.d.unknown)}))}))??[];k=this.convertDocumentsOfSession(k,!!s),this.getSchoolLeaveObjs(k,$=>{if(s){let Ot=$.find(Kt=>Kt.id==s.id);this.programSessionObjs=this.programSessionObjs.map(Kt=>Kt.id==Ot?.id?{...Ot,isExpanded:Kt.isExpanded}:Kt)}else this.programSessionObjs=$;this.sessionId&&this.programSessionObjs.map(Ot=>Ot.isExpanded=Ot.id==this.sessionId);let Z=this.commonService.arrayToDictionary(this.programSessionObjs,Ot=>Ot.monthSession?.toString()+"/"+Ot.yearSession?.toString()),vt=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",te=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(Z).forEach(([Ot,Kt],Ue)=>{let We=Kt.find(zn=>zn.isExpanded);this.groupProgramSessionObjs.push({monthName:vt+" "+Ot,programObjs:Kt,expand:!(Ot!=te&&!We)})}),this.stopStatusObj()})}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(s,d,C,k){super(),this.classroomService=s,this.timeService=d,this.studentService=C,this.activeRoute=k,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return(a=S).\u0275fac=function(s){return new(s||a)(t.rXU(e.zS),t.rXU(c.F),t.rXU(e.b0),t.rXU(Q.nX))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[t.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"reloadSessionDataEmitter","changeSessionDataEmitter","teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj"]],template:function(s,d){if(1&s&&t.DNE(0,wn,1,1,"azt-loading-effect",1)(1,Fn,2,8,"ng-template",null,0,t.C5r),2&s){const C=t.sdS(2);t.Y8G("ngIf",d.statusObj.loading)("ngIfElse",C)}},dependencies:[u.bT,n.K,Rn],encapsulation:2}),S})(),Pn=(()=>{var a;class S extends i.H{ngOnInit(){this.waitDestroy((0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let s=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=s||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(s){super(),this.activeRoute=s,this.classroomId=0,this.sessionId=0,this.backLink=""}}return(a=S).\u0275fac=function(s){return new(s||a)(t.rXU(Q.nX))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[t.Vt3],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(s,d){1&s&&t.nrm(0,"app-view-educational-program",0),2&s&&t.Y8G("teacherRole",!d.isStudent)("classroomId",d.classroomId)("sessionId",d.sessionId)("backLink",d.backLink)},dependencies:[Dn],encapsulation:2}),S})()},69307:(Mt,It,l)=>{l.d(It,{_:()=>q});var f=l(10936),i=l(89163),t=l(33887),Q=l(15766),o=l(48891),e=l(90998),c=l(54460),u=l(81587),n=l(52811),dt=l(76975);function kt(W,K){1&W&&(o.j41(0,"div",17),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&W&&(o.R7$(),o.SpI(" *",o.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function nt(W,K){if(1&W&&(o.j41(0,"div",15)(1,"label",8),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.nrm(4,"input",16),o.nI1(5,"mytranslate"),o.DNE(6,kt,3,3,"div",10),o.k0s()),2&W){const J=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,3,"lang_student_name_component_score")," "),o.R7$(2),o.FS9("placeholder",o.bMT(5,5,"lang_student_enter_name_component_score")),o.R7$(2),o.Y8G("ngIf",J.form.controls.name.dirty&&J.form.controls.name.errors)}}function ot(W,K){if(1&W&&(o.j41(0,"div",15)(1,"label",8),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.nrm(4,"input",18),o.nI1(5,"mytranslate"),o.k0s()),2&W){const J=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,3,"homework"==J.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),o.R7$(2),o.FS9("placeholder",o.bMT(5,5,"lang_student_enter_name_component_score")),o.Y8G("value",J.data.documentName)}}function gt(W,K){1&W&&(o.j41(0,"div",17),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&W&&(o.R7$(),o.SpI(" *",o.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function L(W,K){1&W&&o.nrm(0,"azt-loading-ui",19)}let q=(()=>{var W;class K extends t._{setValueCoeffcient(){var Y=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(Y)??0)}createStartingPoint(){let Y={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,Y).subscribe(V=>{V?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(Y)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(Y).subscribe(V=>{V?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(Y)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(Y,V,X){super(X,V),this.commonMarkService=Y,this.dialogRef=V,this.data=X,this.form=new f.gE({name:new f.MJ({value:X.name??"",disabled:0==X.canEditName},{nonNullable:!0,validators:[f.k0.required,Q.M.noWhiteSpace]}),coefficient:new f.MJ(X.coefficient,{nonNullable:!0,validators:[f.k0.required,f.k0.pattern(/^[1-9]\d*$/)]})})}}return(W=K).\u0275fac=function(Y){return new(Y||W)(o.rXU(e.a),o.rXU(i.CP,8),o.rXU(i.Vh))},W.\u0275cmp=o.VBU({type:W,selectors:[["app-create-score-dialog"]],features:[o.Vt3],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"input","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(Y,V){1&Y&&(o.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s()(),o.j41(7,"div",5),o.DNE(8,nt,7,7,"div",6)(9,ot,6,7,"div",6),o.j41(10,"div",7)(11,"label",8),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"input",9),o.nI1(15,"mytranslate"),o.bIt("input",function(){return V.setValueCoeffcient()}),o.k0s(),o.DNE(16,gt,3,3,"div",10),o.k0s()()(),o.j41(17,"div",11)(18,"button",12),o.bIt("click",function(){return V.dialogRef.close()}),o.EFF(19),o.nI1(20,"mytranslate"),o.k0s(),o.j41(21,"button",13),o.bIt("click",function(){return V.createStartingPoint()}),o.DNE(22,L,1,0,"azt-loading-ui",14),o.EFF(23),o.nI1(24,"mytranslate"),o.k0s()()()()),2&Y&&(o.R7$(),o.Y8G("formGroup",V.form),o.R7$(4),o.SpI(" ",o.bMT(6,11,V.data.id?V.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),o.R7$(3),o.Y8G("ngIf",!V.data.isOnlyCoefficient),o.R7$(),o.Y8G("ngIf",V.data.isOnlyCoefficient),o.R7$(3),o.SpI(" ",o.bMT(13,13,"lang_student_score_factor")," "),o.R7$(2),o.FS9("placeholder",o.bMT(15,15,"lang_student_enter_score_factor")),o.R7$(2),o.Y8G("ngIf",V.form.controls.coefficient.dirty&&V.form.controls.coefficient.errors),o.R7$(3),o.JRh(o.bMT(20,17,"lang_button_cancel")),o.R7$(2),o.Y8G("disabled",V.form.controls.name.errors&&!V.data.isOnlyCoefficient||V.form.controls.coefficient.errors),o.R7$(),o.Y8G("ngIf",V.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(24,19,"lang_button_save")," "))},dependencies:[c.bT,f.qT,f.me,f.Q0,f.BC,f.cb,f.j4,f.JD,u.t,n.R,dt.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),K})()},71703:(Mt,It,l)=>{l.d(It,{V:()=>re});var f=l(81519),i=l(34514),t=l(47426),Q=l(89163),o=l(99503),e=l(79347),c=l(33887),u=l(9691),n=l(48891),dt=l(62095),kt=l(59640),nt=l(18148),ot=l(69307),gt=l(46899),L=l(10296),q=l(67638),W=l(40609),K=l(54460),J=l(47712),Y=l(66729),V=l(2915),X=l(52811),_t=l(5800),ut=l(74637),St=l(10123),st=l(15343),Ft=l(76975);const zt=["table_score_student"],H=()=>[],jt=()=>({"mr-2":!0}),lt=()=>({"text-success":!0});function et(D,pt){if(1&D){const M=n.RV6();n.j41(0,"div",11)(1,"button",12),n.bIt("click",function(){n.eBV(M);const P=n.XpG();return n.Njj(P.downloadTableScore())}),n.nrm(2,"lucide-icon",13),n.j41(3,"span"),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()()()}2&D&&(n.R7$(2),n.Y8G("ngClass",n.lJ4(4,jt)),n.R7$(2),n.JRh(n.bMT(5,2,"lang_student_export_a_grade_sheet")))}function bt(D,pt){if(1&D){const M=n.RV6();n.j41(0,"div",14)(1,"button",15),n.nI1(2,"mytranslate"),n.bIt("click",function(){n.eBV(M);const P=n.XpG();return n.Njj(P.downloadTableScore())}),n.nrm(3,"lucide-icon",16),n.k0s(),n.j41(4,"button",17),n.nI1(5,"mytranslate"),n.bIt("click",function(){n.eBV(M);const P=n.XpG();return n.Njj(P.closeDialog.emit(P.isEdit))}),n.nrm(6,"lucide-icon",18),n.k0s()()}2&D&&(n.R7$(),n.FS9("matTooltip",n.bMT(2,2,"lang_student_export_a_grade_sheet")),n.R7$(3),n.FS9("matTooltip",n.bMT(5,4,"lang_auto_thoat")))}function yt(D,pt){1&D&&n.nrm(0,"azt-loading-ui",25)}function rt(D,pt){if(1&D&&(n.j41(0,"div",36),n.EFF(1),n.nI1(2,"mytranslate"),n.nI1(3,"formatOnlyDateByUserUnitPipe"),n.k0s()),2&D){const M=n.XpG().$implicit;n.R7$(),n.Lme(" ",n.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",n.bMT(3,4,M.createdAt)," ")}}function ft(D,pt){if(1&D&&(n.j41(0,"div",36)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",37),n.EFF(5),n.k0s()()),2&D){const M=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(M.coefficient)}}function mt(D,pt){if(1&D){const M=n.RV6();n.j41(0,"button",38),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(M);const P=n.XpG().$implicit,Ct=n.XpG(2);return n.Njj(Ct.editScore(P))}),n.nrm(2,"lucide-icon",39),n.k0s()}2&D&&n.FS9("matTooltip",n.bMT(1,1,"lang_student_sua_dau_diem"))}function it(D,pt){if(1&D&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&D){const M=n.XpG().$implicit;n.R7$(),n.Y8G("mark",M.marks.length>0?M.marks[0]:"")}}function at(D,pt){if(1&D&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&D){const M=n.XpG().$implicit,F=n.XpG(2);n.R7$(),n.Y8G("mark",F.returnValue(M))}}function Tt(D,pt){if(1&D){const M=n.RV6();n.j41(0,"input",42),n.nI1(1,"mytranslate"),n.nI1(2,"mytranslate"),n.bIt("input",function(P){n.eBV(M);const Ct=n.XpG().$implicit,Rt=n.XpG(2);return n.Njj(Rt.handleMarkStudent(P,Ct.id))}),n.k0s()}if(2&D){const M=n.XpG().$implicit,F=n.XpG(2);n.FS9("matTooltip",n.bMT(1,6,"lang_core_diem_duoc_tach_boi_dau_cach")),n.Mz_("id","input_point_",M.id.toString(),""),n.FS9("placeholder",n.bMT(2,8,"lang_auto_nhap_diem")),n.Y8G("disabled",F.isStudent)("value",F.returnValue(M))}}function Dt(D,pt){1&D&&(n.nrm(0,"lucide-icon",46),n.nI1(1,"mytranslate"),n.nI1(2,"mytranslate")),2&D&&n.FCK("matTooltip","",n.bMT(1,3,"lang_auto_sua")," ",n.bMT(2,5,"lang_auto_diem"),"")}function U(D,pt){1&D&&(n.nrm(0,"lucide-icon",47),n.nI1(1,"mytranslate")),2&D&&n.FS9("matTooltip",n.bMT(1,1,"lang_editor_common_cancel"))}function R(D,pt){if(1&D){const M=n.RV6();n.j41(0,"button",43),n.bIt("click",function(){n.eBV(M);const P=n.XpG().$implicit,Ct=n.XpG(2);return n.Njj(Ct.viewInput(P.id==Ct.inputPointSelect?-1:P.id))}),n.DNE(1,Dt,3,7,"lucide-icon",44)(2,U,2,3,"lucide-icon",45),n.k0s()}if(2&D){const M=n.XpG().$implicit,F=n.XpG(2);n.R7$(),n.Y8G("ngIf",F.inputPointSelect!=M.id),n.R7$(),n.Y8G("ngIf",F.inputPointSelect==M.id)}}function N(D,pt){1&D&&n.nrm(0,"azt-loading-ui",51)}function j(D,pt){1&D&&n.nrm(0,"lucide-icon",52),2&D&&n.Y8G("ngClass",n.lJ4(1,lt))}function G(D,pt){if(1&D){const M=n.RV6();n.j41(0,"button",48),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(M);const P=n.XpG().$implicit,Ct=n.XpG(2);return n.Njj(Ct.saveMark(P))}),n.DNE(2,N,1,0,"azt-loading-ui",49)(3,j,1,2,"lucide-icon",50),n.k0s()}if(2&D){const M=n.XpG(3);n.FS9("matTooltip",n.bMT(1,4,"lang_button_save")),n.Y8G("disabled",M.isSave),n.R7$(2),n.Y8G("ngIf",M.isSave),n.R7$(),n.Y8G("ngIf",!M.isSave)}}function ct(D,pt){if(1&D){const M=n.RV6();n.j41(0,"button",53),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(M);const P=n.XpG().$implicit,Ct=n.XpG(2);return n.Njj(Ct.goToEditPoint(P))}),n.nrm(2,"lucide-icon",54),n.k0s()}2&D&&n.FS9("matTooltip",n.bMT(1,1,"lang_core_go_to_enter_score"))}function Et(D,pt){if(1&D&&(n.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),n.EFF(4),n.DNE(5,rt,4,6,"div",26)(6,ft,6,4,"div",26),n.k0s(),n.DNE(7,mt,3,3,"button",27),n.k0s()(),n.j41(8,"td",28)(9,"div",29),n.DNE(10,it,2,1,"div",30)(11,at,2,1,"div",30)(12,Tt,3,10,"input",31)(13,R,3,2,"button",32)(14,G,4,6,"button",33),n.k0s()(),n.j41(15,"td",34),n.DNE(16,ct,3,3,"button",35),n.k0s()()),2&D){const M=pt.$implicit,F=n.XpG(2);n.R7$(4),n.SpI(" ",M.name," "),n.R7$(),n.Y8G("ngIf",M.createdAt&&!F.isStudent),n.R7$(),n.Y8G("ngIf",M.coefficient),n.R7$(),n.Y8G("ngIf",!F.isStudent),n.R7$(3),n.Y8G("ngIf","homework"==M.objectType),n.R7$(),n.Y8G("ngIf","homework"!=M.objectType&&F.inputPointSelect!=M.id),n.R7$(),n.Y8G("ngIf","homework"!=M.objectType&&F.inputPointSelect==M.id),n.R7$(),n.Y8G("ngIf",!F.isStudent&&M.canEditMark&&!F.listMarkNew),n.R7$(),n.Y8G("ngIf",!F.isStudent&&M.canEditMark&&F.listMarkNew&&F.listMarkNew.id==M.id),n.R7$(2),n.Y8G("ngIf",!F.isStudent&&M.programId&&M.sessionId)}}function At(D,pt){1&D&&n.nrm(0,"azt-loading-ui",25)}function Vt(D,pt){if(1&D){const M=n.RV6();n.j41(0,"azt-mat-dialog-content")(1,"div",19),n.DNE(2,yt,1,0,"azt-loading-ui",20),n.j41(3,"azt-filter-box",21),n.bIt("sendFilter",function(P){n.eBV(M);const Ct=n.XpG();return n.Njj(Ct.filterData(P))}),n.k0s()(),n.j41(4,"table",22)(5,"tbody"),n.DNE(6,Et,17,10,"tr",10),n.j41(7,"tr")(8,"td"),n.EFF(9),n.nI1(10,"mytranslate"),n.k0s(),n.j41(11,"td",23)(12,"div",24),n.DNE(13,At,1,0,"azt-loading-ui",20),n.EFF(14),n.k0s()()()()()()}if(2&D){let M;const F=n.XpG();n.R7$(2),n.Y8G("ngIf",F.statusObj.loading),n.R7$(4),n.Y8G("ngForOf",null!==(M=F.data.marks)&&void 0!==M?M:n.lJ4(8,H)),n.R7$(3),n.SpI(" ",n.bMT(10,6,"lang_business_diem_tong_ket")," "),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("ngIf",F.isSave),n.R7$(),n.SpI(" ",F.data.averageMark," ")}}function Ht(D,pt){if(1&D&&(n.j41(0,"div",36)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",37),n.EFF(5),n.k0s()()),2&D){const M=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(M.coefficient)}}function Xt(D,pt){if(1&D&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&D){const M=n.XpG().$implicit;n.R7$(),n.Y8G("mark",M.marks.length>0?M.marks[0]:"")}}function Qt(D,pt){if(1&D&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&D){const M=n.XpG().$implicit,F=n.XpG(2);n.R7$(),n.Y8G("mark",F.returnValue(M))}}function ee(D,pt){if(1&D&&(n.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),n.EFF(4),n.DNE(5,Ht,6,4,"div",26),n.k0s()()(),n.j41(6,"td",59),n.DNE(7,Xt,2,1,"div",30)(8,Qt,2,1,"div",30),n.k0s()()),2&D){const M=pt.$implicit;n.R7$(4),n.SpI(" ",M.name," "),n.R7$(),n.Y8G("ngIf",M.coefficient),n.R7$(2),n.Y8G("ngIf","homework"==M.objectType),n.R7$(),n.Y8G("ngIf","homework"!=M.objectType)}}function ne(D,pt){if(1&D&&(n.j41(0,"table",55)(1,"thead")(2,"tr")(3,"th",56),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"th",57),n.EFF(7),n.nI1(8,"mytranslate"),n.k0s()()(),n.j41(9,"tbody"),n.DNE(10,ee,9,4,"tr",10),n.j41(11,"tr")(12,"td"),n.EFF(13),n.nI1(14,"mytranslate"),n.k0s(),n.j41(15,"td")(16,"div",58),n.EFF(17),n.k0s()()()()()),2&D){let M;const F=n.XpG();n.R7$(4),n.JRh(n.bMT(5,5,"lang_student_name_component_score")),n.R7$(3),n.JRh(n.bMT(8,7,"lang_testbank_update_exam_point")),n.R7$(3),n.Y8G("ngForOf",null!==(M=F.data.marks)&&void 0!==M?M:n.lJ4(11,H)),n.R7$(3),n.SpI(" ",n.bMT(14,9,"lang_business_diem_tong_ket")," "),n.R7$(4),n.SpI(" ",F.data.averageMark," ")}}function oe(D,pt){if(1&D&&n.nrm(0,"azt-check-mark",41),2&D){const M=n.XpG().$implicit;n.Y8G("mark",M.marks.length>0?M.marks[0]:"")}}function ie(D,pt){if(1&D&&n.nrm(0,"azt-check-mark",41),2&D){const M=n.XpG().$implicit,F=n.XpG();n.Y8G("mark",F.returnValue(M))}}function ae(D,pt){if(1&D&&(n.j41(0,"tr")(1,"td",9),n.EFF(2),n.k0s(),n.j41(3,"td",9),n.EFF(4),n.k0s(),n.j41(5,"td",9),n.EFF(6),n.k0s(),n.j41(7,"td",9),n.DNE(8,oe,1,1,"azt-check-mark",60)(9,ie,1,1,"azt-check-mark",60),n.k0s()()),2&D){const M=pt.$implicit,F=pt.index,P=n.XpG();n.R7$(),n.BMQ("excelRow",F+1)("excelColumn",0)("excelStyle",P.styleTdNormal),n.R7$(),n.SpI(" ",M.name?F+1:""," "),n.R7$(),n.BMQ("excelRow",F+1)("excelColumn",1)("excelStyle",P.styleTdNormalLeft),n.R7$(),n.SpI(" ",M.name," "),n.R7$(),n.BMQ("excelRow",F+1)("excelColumn",2)("excelStyle",P.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",M.coefficient," "),n.R7$(),n.BMQ("excelRow",F+1)("excelColumn",3)("excelStyle",P.styleTdNotNumberNormal),n.R7$(),n.Y8G("ngIf","homework"==M.objectType),n.R7$(),n.Y8G("ngIf","homework"!=M.objectType)}}let se=(()=>{var D;class pt extends kt.H{filterData(F){this.dataFilter=F,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1})).subscribe(P=>{if(!P.success)return this.errorStatusObj(P.message,!0);P.data?.list.length&&(this.data=P.data?.list[0]),this.stopStatusObj()}))}downloadTableScore(){nt.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var F=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let P=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(F,P),nt.L.closeLoadingEffect(200)}goToEditPoint(F){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+F.classroomId+"/"+F.programId+"/"+F.sessionId,"?studentId="+this.data.id)}viewInput(F){this.inputPointSelect=F}handleMarkStudent(F,P){if(!this.isStudent){var Ct=this.commonService.handlePointByValueInput(F);this.listMarkNew={id:P,points:Ct.length>0?Ct:[-1]}}}saveMark(F){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:F.programId,classroomId:F.classroomId,sessionId:F.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(Ct=>{Ct?(this.data.marks?.filter(Rt=>Rt.id==F.id)?.forEach(Rt=>Rt.marks=this.listMarkNew?.points?.find(Nt=>-1==Nt)?[]:this.listMarkNew?.points??Rt.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(F){F&&this.sAztDialogService.open(ot._,{data:{...F,canEditName:F.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(P=>{if(P){try{var Ct=this.data.marks?.find(Rt=>Rt.id==F.id);Ct&&(Ct.coefficient=P.coefficient,Ct.name=P.name)}catch{}this.isEdit=!0}})}returnValue(F){return(F.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(F,P,Ct,Rt,Nt){super(),this.sAztDialogService=F,this.sAztTimeService=P,this.shareFileFlutterService=Ct,this.exportExcelService=Rt,this.studentService=Nt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new n.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,n.WQX)(dt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(D=pt).\u0275fac=function(F){return new(F||D)(n.rXU(gt.i),n.rXU(u.F),n.rXU(L.R),n.rXU(q.x),n.rXU(W.b))},D.\u0275cmp=n.VBU({type:D,selectors:[["azt-view-table-score-single"]],viewQuery:function(F,P){if(1&F&&n.GBs(zt,5),2&F){let Ct;n.mGM(Ct=n.lsd())&&(P.table_score_student=Ct.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},features:[n.Jv_([{provide:f.$O,useClass:o.fb,deps:[t.Ju,i.ij]},{provide:f.vq,useFactory:e.fJ,deps:[u.F]}]),n.Vt3],decls:34,vars:61,consts:[["table_score_student",""],["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex","items-center"],["matRipple","",1,"btn","btn-sm","btn-outline-primary","border-0","mr-2","p-1",3,"click","matTooltip"],["name","download","size","20"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","border-0","p-1",3,"click","matTooltip"],["name","x","size","20"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["class","btn btn-secondary-soft","matRipple","",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"click","matTooltip"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltip","id","disabled","value","placeholder"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil","size","16",3,"matTooltip",4,"ngIf"],["name","x","size","16",3,"matTooltip",4,"ngIf"],["name","pencil","size","16",3,"matTooltip"],["name","x","size","16",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"click","matTooltip","disabled"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","check","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","check","size","20",3,"ngClass"],["matRipple","",1,"btn","btn-secondary-soft",3,"click","matTooltip"],["name","external-link","size","16"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(F,P){if(1&F&&(n.DNE(0,et,6,5,"div",1),n.j41(1,"div",2)(2,"div",3),n.nrm(3,"azt-student-info-box",4),n.DNE(4,bt,7,6,"div",5),n.k0s(),n.DNE(5,Vt,15,9,"azt-mat-dialog-content",6)(6,ne,18,12,"table",7),n.k0s(),n.j41(7,"table",8,0)(9,"thead")(10,"tr")(11,"th",9),n.EFF(12),n.nI1(13,"mytranslate"),n.k0s(),n.j41(14,"th",9),n.EFF(15),n.nI1(16,"mytranslate"),n.k0s(),n.j41(17,"th",9),n.EFF(18),n.nI1(19,"mytranslate"),n.k0s(),n.j41(20,"th",9),n.EFF(21),n.nI1(22,"mytranslate"),n.k0s()()(),n.j41(23,"tbody"),n.DNE(24,ae,10,17,"tr",10),n.j41(25,"tr")(26,"td",9),n.EFF(27),n.k0s(),n.j41(28,"td",9),n.EFF(29),n.nI1(30,"mytranslate"),n.k0s(),n.nrm(31,"td"),n.j41(32,"td",9),n.EFF(33),n.k0s()()()()),2&F){let Ct,Rt,Nt,Ut,Wt,Yt;n.Y8G("ngIf",P.isStudent&&!P.viewDialog),n.R7$(3),n.Y8G("name",P.data.fullName)("parentFullName",P.data.parentFullName)("parentId",P.data.parentId)("parentPhone",P.data.parentPhone)("phone",P.data.phone)("email",P.data.email)("avatar",P.data.avatar)("gender",P.data.gender)("hasUser",P.data.hasUser),n.R7$(),n.Y8G("ngIf",P.viewDialog),n.R7$(),n.Y8G("ngIf",P.viewDialog),n.R7$(),n.Y8G("ngIf",P.isStudent&&!P.viewDialog),n.R7$(),n.Y8G("border",1),n.R7$(4),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",P.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(13,50,"lang_student_export_excel_no")," "),n.R7$(2),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",P.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(16,52,"lang_student_name_component_score")," "),n.R7$(2),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",P.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(19,54,"lang_auto_he_so")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",P.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(22,56,"lang_testbank_update_exam_point")," "),n.R7$(3),n.Y8G("ngForOf",null!==(Ct=P.data.marks)&&void 0!==Ct?Ct:n.lJ4(60,H)),n.R7$(2),n.BMQ("excelRow",(null!==(Rt=null==P.data.marks?null:P.data.marks.length)&&void 0!==Rt?Rt:0)+1)("excelColumn",0)("excelStyle",P.styleTdNormal),n.R7$(),n.SpI(" ",(null!==(Nt=null==P.data.marks?null:P.data.marks.length)&&void 0!==Nt?Nt:0)+1," "),n.R7$(),n.BMQ("excelRow",(null!==(Ut=null==P.data.marks?null:P.data.marks.length)&&void 0!==Ut?Ut:0)+1)("excelColumn",1)("excelStyle",P.styleTdNormal),n.R7$(),n.SpI(" ",n.bMT(30,58,"lang_business_diem_tong_ket")," "),n.R7$(2),n.BMQ("excelRow",(null!==(Wt=null==P.data.marks?null:P.data.marks.length)&&void 0!==Wt?Wt:0)+1)("excelColumn",3)("excelStyle",P.styleTdNormal),n.R7$(),n.BMQ("excelRow",(null!==(Yt=null==P.data.marks?null:P.data.marks.length)&&void 0!==Yt?Yt:0)+1)("excelColumn",4)("excelStyle",P.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",P.data.averageMark," ")}},dependencies:[K.YU,K.Sq,K.bT,t.r6,J.oV,Y.D,V.U,X.R,_t.B,ut.E,St.Ew,st.WGl,Ft.wp,Ft.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),pt})(),re=(()=>{var D;class pt extends c._{closeDialog(F){this.dialogRef.close(F)}ngOnInit(){super.ngOnInit()}constructor(F,P){super(P,F),this.dialogRef=F,this.data=P}ngOnDestroy(){super.ngOnDestroy()}}return(D=pt).\u0275fac=function(F){return new(F||D)(n.rXU(Q.CP,8),n.rXU(Q.Vh,8))},D.\u0275cmp=n.VBU({type:D,selectors:[["azt-table-score-single"]],features:[n.Jv_([{provide:f.$O,useClass:o.fb,deps:[t.Ju,i.ij]},{provide:f.vq,useFactory:e.fJ,deps:[u.F]}]),n.Vt3],decls:1,vars:3,consts:[[3,"closeDialog","data","isStudent","viewDialog"]],template:function(F,P){1&F&&(n.j41(0,"azt-view-table-score-single",0),n.bIt("closeDialog",function(Rt){return P.closeDialog(Rt)}),n.k0s()),2&F&&n.Y8G("data",P.data.student)("isStudent",!P.data.isTeacher)("viewDialog",!0)},dependencies:[se],encapsulation:2}),pt})()},19857:(Mt,It,l)=>{l.d(It,{g:()=>ge});var f=l(76627),i=l(59640),t=l(18148),Q=l(37497),o=l(75421),e=l(27208),c=l(69307),u=l(71703),n=l(48891),dt=l(90998),kt=l(40609),nt=l(9691),ot=l(46899),gt=l(64624),L=l(67638),q=l(65162),W=l(10296),K=l(54460),J=l(47712),Y=l(18718),V=l(22613),X=l(66729),_t=l(52811),ut=l(11002),St=l(32099),st=l(5800),Ft=l(10123),zt=l(15343),H=l(76975);const jt=["table_score"],lt=()=>({"mr-2":!0}),et=()=>[],bt=()=>({"text-danger":!0});function yt(T,tt){1&T&&(n.j41(0,"div",10),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&T&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function rt(T,tt){if(1&T&&(n.j41(0,"div",7)(1,"h3",8),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,yt,3,3,"div",9),n.k0s()),2&T){let I;const x=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,"lang_student_enter_score")),n.R7$(2),n.Y8G("ngIf",x.isMobileDevice&&!x.isStudent&&(null!==(I=null==x.dataStudent||null==x.dataStudent.list?null:x.dataStudent.list.length)&&void 0!==I?I:0)>0)}}function ft(T,tt){1&T&&(n.j41(0,"div",10),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&T&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function mt(T,tt){if(1&T&&(n.j41(0,"div",7)(1,"h3",8),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,ft,3,3,"div",9),n.k0s()),2&T){let I;const x=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_bang_diem")),n.R7$(2),n.Y8G("ngIf",x.isMobileDevice&&!x.isStudent&&(null!==(I=null==x.dataStudent||null==x.dataStudent.list?null:x.dataStudent.list.length)&&void 0!==I?I:0)>0)}}function it(T,tt){if(1&T){const I=n.RV6();n.j41(0,"button",19),n.bIt("click",function(){n.eBV(I);const E=n.XpG(2);return n.Njj(E.createNewScore())}),n.nrm(1,"lucide-icon",20),n.j41(2,"span"),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}2&T&&(n.R7$(),n.Y8G("ngClass",n.lJ4(4,lt)),n.R7$(2),n.JRh(n.bMT(4,2,"lang_student_enter_new_component_score")))}function at(T,tt){if(1&T){const I=n.RV6();n.j41(0,"button",21),n.bIt("click",function(){n.eBV(I);const E=n.XpG(2);return n.Njj(E.downloadTableScore())}),n.nrm(1,"lucide-icon",22),n.j41(2,"span"),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}2&T&&(n.R7$(),n.Y8G("ngClass",n.lJ4(4,lt)),n.R7$(2),n.JRh(n.bMT(4,2,"lang_student_export_a_grade_sheet")))}function Tt(T,tt){1&T&&n.nrm(0,"azt-loading-ui",26)}function Dt(T,tt){if(1&T){const I=n.RV6();n.j41(0,"flexed-on-the-top",23)(1,"button",24),n.bIt("click",function(){n.eBV(I);const E=n.XpG(2);return n.Njj(E.saveMark())}),n.DNE(2,Tt,1,0,"azt-loading-ui",25),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}if(2&T){const I=n.XpG(2);n.Y8G("colorBackground","#f0f8ffe8"),n.R7$(),n.Y8G("disabled",0==I.listStudentMark.length||I.isSave),n.R7$(),n.Y8G("ngIf",I.isSave),n.R7$(),n.SpI(" ",n.bMT(4,4,"lang_auto_luu")," ")}}function U(T,tt){if(1&T){const I=n.RV6();n.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"azt-search-box",14),n.nI1(4,"mytranslate"),n.bIt("onSearch",function(E){n.eBV(I);const w=n.XpG();return n.Njj(w.onSearchBox(E.searchObj))}),n.k0s()(),n.j41(5,"div",15),n.DNE(6,it,5,5,"button",16)(7,at,5,5,"button",17)(8,Dt,5,6,"flexed-on-the-top",18),n.k0s()()()}if(2&T){const I=n.XpG();n.R7$(3),n.Y8G("isServerSearch",!0)("placeholder",n.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),n.R7$(3),n.Y8G("ngIf","ENTER_SCORE"==I.screenType),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==I.screenType),n.R7$(),n.Y8G("ngIf","ENTER_SCORE"==I.screenType)}}function R(T,tt){if(1&T&&n.nrm(0,"azt-loading-effect",27),2&T){const I=n.XpG();n.Y8G("currentStatusObj",I.statusObj)}}function N(T,tt){1&T&&(n.j41(0,"div",33),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&T&&(n.R7$(),n.JRh(n.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function j(T,tt){if(1&T&&(n.j41(0,"div",50)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",51),n.EFF(5),n.k0s()()),2&T){const I=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(I.coefficient)}}function G(T,tt){if(1&T){const I=n.RV6();n.j41(0,"button",52),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(I);const E=n.XpG().$implicit,w=n.XpG(3);return n.Njj(w.createNewScore(E))}),n.nrm(2,"lucide-icon",53),n.k0s()}2&T&&n.FS9("matTooltip",n.bMT(1,1,"lang_student_sua_dau_diem"))}function ct(T,tt){if(1&T){const I=n.RV6();n.j41(0,"button",54),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(I);const E=n.XpG().$implicit,w=n.XpG(3);return n.Njj(w.deleteMark(E))}),n.nrm(2,"lucide-icon",55),n.k0s()}2&T&&(n.FS9("matTooltip",n.bMT(1,2,"lang_button_delete")),n.R7$(2),n.Y8G("ngClass",n.lJ4(4,bt)))}function Et(T,tt){if(1&T&&(n.j41(0,"th",42)(1,"div",43)(2,"div",44)(3,"div",45),n.EFF(4),n.k0s(),n.j41(5,"div",46),n.DNE(6,j,6,4,"div",47)(7,G,3,3,"button",48)(8,ct,3,5,"button",49),n.k0s()()()()),2&T){const I=tt.$implicit,x=n.XpG(3);n.R7$(3),n.FS9("matTooltip",I.name),n.R7$(),n.JRh(I.name),n.R7$(2),n.Y8G("ngIf",I.coefficient),n.R7$(),n.Y8G("ngIf",!x.isStudent),n.R7$(),n.Y8G("ngIf",I.canEditName)}}function At(T,tt){1&T&&(n.j41(0,"th",56),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&T&&(n.R7$(),n.JRh(n.bMT(2,1,"lang_business_diem_tong_ket")))}function Vt(T,tt){if(1&T&&(n.j41(0,"div",66),n.nrm(1,"azt-check-mark",67),n.k0s()),2&T){const I=n.XpG().$implicit;n.R7$(),n.Y8G("mark",I.marks.length>0?I.marks[0]:"")}}function Ht(T,tt){if(1&T&&(n.j41(0,"div",66),n.nrm(1,"azt-check-mark",67),n.k0s()),2&T){const I=n.XpG().$implicit,x=n.XpG(4);n.R7$(),n.Y8G("mark",x.returnValue(I))}}function Xt(T,tt){if(1&T){const I=n.RV6();n.j41(0,"input",68),n.nI1(1,"mytranslate"),n.nI1(2,"mytranslate"),n.bIt("input",function(E){n.eBV(I);const w=n.XpG().index,ht=n.XpG().index,wt=n.XpG(3);return n.Njj(wt.handleMarkStudent(E,ht,w))}),n.k0s()}if(2&T){const I=n.XpG().$implicit,x=n.XpG().$implicit,E=n.XpG(3);n.FS9("matTooltip",n.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),n.FS9("id",I.id.toString()+"-"+x.id.toString()),n.FS9("placeholder",n.bMT(2,7,"lang_auto_nhap_diem")),n.Y8G("matTooltipDisabled",!I.canEditMark)("value",E.returnValue(I))}}function Qt(T,tt){if(1&T&&(n.j41(0,"td",62),n.DNE(1,Vt,2,1,"div",63)(2,Ht,2,1,"div",63)(3,Xt,3,9,"input",64),n.nrm(4,"div",65),n.k0s()),2&T){const I=tt.$implicit,x=n.XpG().$implicit,E=n.XpG(3);n.Y8G("hidden","TABLE_SCORE"==E.screenType),n.R7$(),n.Y8G("ngIf","homework"==I.objectType),n.R7$(),n.Y8G("ngIf","homework"!=I.objectType&&(!I.canEditMark||"ENTER_SCORE"!=E.screenType)),n.R7$(),n.Y8G("ngIf","homework"!=I.objectType&&I.canEditMark),n.R7$(),n.Mz_("id","error-",I.id.toString()+"-"+x.id.toString(),""),n.Y8G("hidden",!0)}}function ee(T,tt){if(1&T&&(n.j41(0,"td")(1,"div",69),n.EFF(2),n.k0s()()),2&T){const I=n.XpG().$implicit;n.R7$(2),n.SpI(" ",I.averageMark," ")}}function ne(T,tt){if(1&T){const I=n.RV6();n.j41(0,"tr",57)(1,"td",58),n.bIt("click",function(){const E=n.eBV(I).$implicit,w=n.XpG(3);return n.Njj(w.openDialogTableSingle(E))}),n.nrm(2,"azt-student-info-box",59),n.k0s(),n.j41(3,"td",60),n.EFF(4),n.nI1(5,"formatStudentCodeToNumber"),n.k0s(),n.DNE(6,Qt,5,7,"td",61)(7,ee,3,1,"td",31),n.k0s()}if(2&T){let I;const x=tt.$implicit,E=n.XpG(3);n.Y8G("id","row_student_"+x.id),n.R7$(2),n.Y8G("name",x.fullName)("parentFullName",x.parentFullName)("parentId",x.parentId)("parentPhone",x.parentPhone)("phone",x.phone)("avatar",x.avatar)("gender",x.gender)("hasUser",x.hasUser)("schoolName",x.schoolName)("classrooms",x.classrooms)("joinedAt",x.joinedAt)("identificationNumber",x.identificationNumber),n.R7$(2),n.JRh(x.identificationNumber?n.i5U(5,16,x.identificationNumber,6):""),n.R7$(2),n.Y8G("ngForOf",null!==(I=x.marks)&&void 0!==I?I:n.lJ4(19,et)),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==E.screenType)}}function oe(T,tt){if(1&T&&(n.j41(0,"div",34)(1,"drag-scroll")(2,"table",35)(3,"thead")(4,"tr",36)(5,"th",37),n.EFF(6),n.nI1(7,"mytranslate"),n.k0s(),n.j41(8,"th",38),n.EFF(9),n.nI1(10,"mytranslate"),n.k0s(),n.DNE(11,Et,9,5,"th",39)(12,At,3,3,"th",40),n.k0s()(),n.j41(13,"tbody"),n.DNE(14,ne,8,20,"tr",41),n.k0s()()()()),2&T){let I,x;const E=n.XpG(2);n.R7$(6),n.JRh(n.bMT(7,5,"lang_auto_ho_va_ten")),n.R7$(3),n.JRh(n.bMT(10,7,"lang_auto_so_bao_danh")),n.R7$(2),n.Y8G("ngForOf",null!==(I=null==E.dataMark?null:E.dataMark.list)&&void 0!==I?I:n.lJ4(9,et)),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==E.screenType),n.R7$(2),n.Y8G("ngForOf",null!==(x=null==E.dataStudent?null:E.dataStudent.list)&&void 0!==x?x:n.lJ4(10,et))}}function ie(T,tt){if(1&T&&(n.j41(0,"div",72),n.nrm(1,"azt-student-info-box",73),n.j41(2,"div",74)(3,"div",75),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"div",75),n.EFF(7),n.k0s()()()),2&T){const I=tt.$implicit;n.R7$(),n.Y8G("name",I.fullName)("parentFullName",I.parentFullName)("parentId",I.parentId)("parentPhone",I.parentPhone)("phone",I.phone)("email",I.email)("avatar",I.avatar)("gender",I.gender)("hasUser",I.hasUser)("identificationNumber",I.identificationNumber),n.R7$(3),n.SpI(" ",n.bMT(5,12,"lang_business_diem_tong_ket")," "),n.R7$(3),n.SpI(" ",I.averageMark," ")}}function ae(T,tt){1&T&&n.nrm(0,"lucide-icon",80)}function se(T,tt){1&T&&n.nrm(0,"lucide-icon",81)}function re(T,tt){if(1&T&&(n.j41(0,"div",91)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",51),n.EFF(5),n.k0s()()),2&T){const I=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(I.coefficient)}}function D(T,tt){if(1&T&&(n.j41(0,"div",92),n.nrm(1,"azt-check-mark",67),n.k0s()),2&T){const I=n.XpG().$implicit;n.R7$(),n.Y8G("mark",I.marks.length>0?I.marks[0]:"")}}function pt(T,tt){if(1&T&&(n.j41(0,"div",92),n.nrm(1,"azt-check-mark",67),n.k0s()),2&T){const I=n.XpG().$implicit,x=n.XpG(6);n.R7$(),n.Y8G("mark",x.returnValue(I))}}function M(T,tt){if(1&T&&(n.j41(0,"tr")(1,"td")(2,"div",87)(3,"div"),n.EFF(4),n.DNE(5,re,6,4,"div",88),n.k0s()()(),n.j41(6,"td",89),n.DNE(7,D,2,1,"div",90)(8,pt,2,1,"div",90),n.k0s()()),2&T){const I=tt.$implicit;n.R7$(4),n.SpI(" ",I.name," "),n.R7$(),n.Y8G("ngIf",I.coefficient),n.R7$(2),n.Y8G("ngIf","homework"==I.objectType),n.R7$(),n.Y8G("ngIf","homework"!=I.objectType)}}function F(T,tt){if(1&T&&(n.j41(0,"div",83)(1,"table",84)(2,"thead")(3,"tr")(4,"th",85),n.EFF(5),n.nI1(6,"mytranslate"),n.k0s(),n.j41(7,"th",86),n.EFF(8),n.nI1(9,"mytranslate"),n.k0s()()(),n.j41(10,"tbody"),n.DNE(11,M,9,4,"tr",71),n.k0s()()()),2&T){const I=n.XpG(2).$implicit;n.R7$(5),n.JRh(n.bMT(6,3,"lang_student_name_component_score")),n.R7$(3),n.JRh(n.bMT(9,5,"lang_testbank_update_exam_point")),n.R7$(3),n.Y8G("ngForOf",I.marks)}}function P(T,tt){if(1&T&&(n.qex(0),n.DNE(1,F,12,7,"div",82),n.bVm()),2&T){const I=n.XpG(4);n.R7$(),n.Y8G("ngIf",I.isStudent)}}function Ct(T,tt){if(1&T){const I=n.RV6();n.j41(0,"div")(1,"h3",76)(2,"span",77),n.bIt("click",function(){const E=n.eBV(I).$implicit;return n.Njj(E.expand=!E.expand)}),n.EFF(3),n.nI1(4,"mytranslate"),n.DNE(5,ae,1,0,"lucide-icon",78)(6,se,1,0,"lucide-icon",79),n.k0s()(),n.DNE(7,P,2,1,"ng-container",31),n.k0s()}if(2&T){const I=tt.$implicit;n.R7$(3),n.Lme(" ",n.bMT(4,5,"lang_core_thang")," ",I.date," "),n.R7$(2),n.Y8G("ngIf",I.expand),n.R7$(),n.Y8G("ngIf",!I.expand),n.R7$(),n.Y8G("ngIf",I.expand)}}function Rt(T,tt){if(1&T&&(n.j41(0,"div"),n.DNE(1,ie,8,14,"div",70)(2,Ct,8,7,"div",71),n.k0s()),2&T){let I;const x=n.XpG(2);n.R7$(),n.Y8G("ngForOf",null!==(I=null==x.dataStudent?null:x.dataStudent.list)&&void 0!==I?I:n.lJ4(2,et)),n.R7$(),n.Y8G("ngForOf",x.listGroupMarkDate)}}function Nt(T,tt){if(1&T){const I=n.RV6();n.j41(0,"azt-paging",96),n.bIt("goToPaginationPage",function(E){n.eBV(I);const w=n.XpG(3);return n.Njj(w.setPageStudent(E))}),n.k0s()}if(2&T){const I=n.XpG(3);n.Y8G("pageObj",I.pageObj)}}function Ut(T,tt){if(1&T&&(n.j41(0,"div",15),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&T){const I=n.XpG(3);n.R7$(),n.Lme("",I.dataStudent.total," ",n.bMT(2,2,"lang_notify_list_students"),"")}}function Wt(T,tt){if(1&T&&(n.j41(0,"div",93),n.nrm(1,"div"),n.DNE(2,Nt,1,1,"azt-paging",94)(3,Ut,3,4,"div",95),n.k0s()),2&T){const I=n.XpG(2);n.R7$(2),n.Y8G("ngIf",I.dataStudent.total>I.pageObj.pageSize),n.R7$(),n.Y8G("ngIf",!I.isStudent)}}function Yt(T,tt){if(1&T&&(n.j41(0,"div",28),n.DNE(1,N,3,3,"div",29)(2,oe,15,11,"div",30)(3,Rt,3,3,"div",31),n.k0s(),n.DNE(4,Wt,4,2,"div",32)),2&T){let I,x,E;const w=n.XpG();n.R7$(),n.Y8G("ngIf",!w.isStudent&&0==(null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&0==(null!==(I=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==I?I:0)),n.R7$(),n.Y8G("ngIf",!w.isStudent&&(null!==(x=null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&void 0!==x?x:0)>0),n.R7$(),n.Y8G("ngIf",w.isStudent),n.R7$(),n.Y8G("ngIf",w.dataStudent&&w.dataStudent.total&&(null!==(E=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==E?E:0)>0)}}function _e(T,tt){if(1&T&&(n.j41(0,"th",98),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&T){const I=tt.$implicit,x=tt.index,E=n.XpG(2);n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+x)("excelStyle",E.styleThNormal),n.R7$(),n.Lme(" ",I.name+"\n"," "," ("+n.bMT(2,6,"lang_auto_he_so")+" "+I.coefficient+")"," ")}}function me(T,tt){if(1&T&&n.nrm(0,"azt-check-mark",67),2&T){const I=n.XpG().$implicit;n.Y8G("mark",I.marks.length>0?I.marks[0]:"")}}function de(T,tt){if(1&T&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&T){const I=n.XpG().$implicit,x=n.XpG(3);n.R7$(),n.SpI(" ",x.returnValue(I)," ")}}function Zt(T,tt){if(1&T&&(n.j41(0,"td",98),n.DNE(1,me,1,1,"azt-check-mark",100)(2,de,2,1,"span",31),n.k0s()),2&T){const I=tt.$implicit,x=tt.index,E=n.XpG().index,w=n.XpG(2);n.BMQ("excelRow",E+1)("excelColumn",6+x)("excelStyle",w.styleTdNormal),n.R7$(),n.Y8G("ngIf","homework"==I.objectType),n.R7$(),n.Y8G("ngIf","homework"!=I.objectType)}}function ue(T,tt){if(1&T&&(n.j41(0,"tr")(1,"td",98),n.EFF(2),n.k0s(),n.j41(3,"td",98),n.EFF(4),n.k0s(),n.j41(5,"td",98),n.EFF(6),n.k0s(),n.j41(7,"td",98),n.EFF(8),n.k0s(),n.j41(9,"td",98),n.EFF(10),n.nI1(11,"formatOnlyDateByUserUnitPipe"),n.k0s(),n.j41(12,"td",98),n.EFF(13),n.nI1(14,"mytranslate"),n.nI1(15,"mytranslate"),n.k0s(),n.DNE(16,Zt,3,5,"td",99),n.j41(17,"td",98),n.EFF(18),n.k0s()()),2&T){let I,x;const E=tt.$implicit,w=tt.index,ht=n.XpG(2);n.R7$(),n.BMQ("excelRow",w+1)("excelColumn",0)("excelStyle",ht.styleTdNormal),n.R7$(),n.SpI(" ",null!=E&&E.fullName?w+1:""," "),n.R7$(),n.BMQ("excelRow",w+1)("excelColumn",1)("excelStyle",ht.styleTdNormalLeft),n.R7$(),n.SpI(" ",null==E?null:E.fullName," "),n.R7$(),n.BMQ("excelRow",w+1)("excelColumn",2)("excelStyle",ht.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",null==E?null:E.phone," "),n.R7$(),n.BMQ("excelRow",w+1)("excelColumn",3)("excelStyle",ht.styleTdNormal),n.R7$(),n.SpI(" ",null==E?null:E.email," "),n.R7$(),n.BMQ("excelRow",w+1)("excelColumn",4)("excelStyle",ht.styleTdNormal),n.R7$(),n.SpI(" ",n.bMT(11,29,null==E?null:E.birthday)," "),n.R7$(2),n.BMQ("excelRow",w+1)("excelColumn",5)("excelStyle",ht.styleTdNormal),n.R7$(),n.SpI(" ",1==(null==E?null:E.gender)?n.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==E?null:E.gender)?n.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),n.R7$(3),n.Y8G("ngForOf",null!==(I=E.marks)&&void 0!==I?I:n.lJ4(35,et)),n.R7$(),n.BMQ("excelRow",w+1)("excelColumn",6+(null!==(x=null==E.marks?null:E.marks.length)&&void 0!==x?x:0))("excelStyle",ht.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",E.averageMark," ")}}function pe(T,tt){if(1&T&&(n.j41(0,"table",97,1)(2,"thead")(3,"tr")(4,"th",98),n.EFF(5),n.nI1(6,"mytranslate"),n.k0s(),n.j41(7,"th",98),n.EFF(8),n.nI1(9,"mytranslate"),n.k0s(),n.j41(10,"th",98),n.EFF(11),n.nI1(12,"mytranslate"),n.k0s(),n.j41(13,"th",98),n.EFF(14),n.nI1(15,"mytranslate"),n.k0s(),n.j41(16,"th",98),n.EFF(17),n.nI1(18,"mytranslate"),n.k0s(),n.j41(19,"th",98),n.EFF(20),n.nI1(21,"mytranslate"),n.k0s(),n.DNE(22,_e,3,8,"th",99),n.j41(23,"th",98),n.EFF(24),n.nI1(25,"mytranslate"),n.k0s()()(),n.j41(26,"tbody"),n.DNE(27,ue,19,36,"tr",71),n.k0s()()),2&T){let I,x,E;const w=n.XpG();n.Y8G("border",1),n.R7$(4),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(6,38,"lang_student_export_excel_no")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(9,40,"lang_student_export_excel_full_name")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(12,42,"lang_number_phone")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(15,44,"lang_student_export_excel_email")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(18,46,"lang_student_export_excel_birthday")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(21,48,"lang_student_export_excel_gender")," "),n.R7$(2),n.Y8G("ngForOf",null!==(I=null==w.dataMark?null:w.dataMark.list)&&void 0!==I?I:n.lJ4(52,et)),n.R7$(),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(x=null==w.dataMark||null==w.dataMark.list?null:w.dataMark.list.length)&&void 0!==x?x:0))("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(25,50,"lang_business_diem_tong_ket")," "),n.R7$(3),n.Y8G("ngForOf",null!==(E=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==E?E:n.lJ4(53,et))}}let ge=(()=>{var T;class tt extends i.H{goToProfile(x,E){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+x+"/"+E,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(x){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+x),this.initStatusObj(),this.pageObj.setPageNumber(x),this.getListStudent()}openDialogTableSingle(x){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(u.V,{width:"750px",restoreFocus:!1,data:{student:x,isTeacher:!0}}).afterClosed().subscribe(E=>{E&&this.getListStudent()}):(x.classroomId||x.id)&&this.goToProfile(x.classroomId,x.id)}onSearchBox(x){this.searchContentObj=x,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){t.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var x=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let E=this.commonService.createFileNameExportFile(["bang_diem_lop_"+(this.classroomObj?.name??"bang_diem_lop_id_")+this.classroomId])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(x,E),t.L.closeLoadingEffect(200)}handlePointByValueInput(x){var E=x.target;let w=""===E.value.trim()?"":E.value;w=w.replace(/[^\d\s,\.]/g,""),w=w.replace(/,/g,"."),w=w.replace(/\s+/g," "),w=w.replace(/\.{2,}/g,"."),w=w.replace(/(?:^|\s)\./g," 0."),w=w.replace(/^\s+/,""),w=w.replace(/\.\s/g," ");var ht=w.split(" ");if(ht.length>0){var wt=""!=ht[ht.length-1]?ht[ht.length-1]:ht[ht.length-2];Number(wt)>-1?wt.split(".").length>1&&wt.split(".")[1].length>2&&(w=w.substring(0,w.length-1)):w=w.replace(/\.$/," ")}return E.value=w,w.split(" ").filter(Bt=>""!=Bt).map(Bt=>parseFloat(Bt))}handleMarkStudent(x,E,w){var ht=this.handlePointByValueInput(x);ht=0==ht.length?[-1]:ht;var wt=this.dataStudent.list[E],$t=this.dataMark.list[w],Lt=this.listStudentMark.findIndex(le=>le.id==wt.id);if(Lt>-1){var Bt=(this.listStudentMark[Lt].listMarks??[]).findIndex(le=>le.id==$t.id);Bt>-1?this.listStudentMark[Lt].listMarks[Bt].points=ht:this.listStudentMark[Lt].listMarks?.push({id:$t.id,points:ht})}else this.listStudentMark.push({id:wt.id,listMarks:[{id:$t.id,points:ht}]})}returnValue(x){return(x.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark})).subscribe(E=>{if(this.isSave=!1,!E.success)return this.errorStatusObj(E.message,!0);this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)}))}createNewScore(x){this.isStudent||this.sAztDialogService.open(c._,{data:x||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(w=>{w&&this.getListMark()})}getListMark(){this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId})).subscribe(E=>{if(!E.success)return this.errorStatusObj(E.message,!0);this.dataMark=E.data,this.getListStudent()}))}deleteMark(x){var E=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+x.name+" </div> ?";this.sAztDialogService.open(o.u,{data:{content:E},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(w=>{w&&this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksIdDelete(x.id)).subscribe(ht=>{if(!ht.success)return this.errorStatusObj(ht.message,!0);this.getListMark()}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(x=>{x.success&&(this.classroomObj=x.data?.obj)}))}getListStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1})).subscribe(E=>{if(!E.success)return this.errorStatusObj(E.message,!0);this.dataStudent=E.data,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(E.data?.list??[]):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()}))}handleGroupMarkByDate(x){let E=[];x.forEach(ht=>{let wt=ht.marks?.map($t=>({...$t,monthAndYear:this.sAztTimeService.formatDateToMonthYear($t.createdAt)}))??[];E=E.concat(wt)});let w=this.commonService.arrayToDictionary(E,ht=>ht.monthAndYear);this.listGroupMarkDate=Object.entries(w).map(([ht,wt])=>({date:ht,marks:wt,expand:!1}))}scrollElementStudentById(){if(this.studentId){var x=document.getElementById("row_student_"+this.studentId);x&&x.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(x,E,w,ht,wt,$t,Lt,Bt){super(),this.commonMarkService=x,this.studentService=E,this.sAztTimeService=w,this.sAztDialogService=ht,this.classroomService=wt,this.exportExcelService=$t,this.activeRoute=Lt,this.shareFileFlutterService=Bt,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new Q.d(50),this.searchContentObj=new e.Z}}return(T=tt).\u0275fac=function(x){return new(x||T)(n.rXU(dt.a),n.rXU(kt.b),n.rXU(nt.F),n.rXU(ot.i),n.rXU(gt.z),n.rXU(L.x),n.rXU(q.nX),n.rXU(W.R))},T.\u0275cmp=n.VBU({type:T,selectors:[["app-table-score"]],viewQuery:function(x,E){if(1&x&&n.GBs(jt,5),2&x){let w;n.mGM(w=n.lsd())&&(E.table_answer=w.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[n.Vt3],decls:8,vars:6,consts:[["doneLoading",""],["table_score",""],[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1 col-span-12",4,"ngIf"],[1,"mt-1","col-span-12"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","placeholder"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"click","matTooltip"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltipDisabled","matTooltip","id","value","placeholder"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser","identificationNumber"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(x,E){if(1&x&&(n.j41(0,"div",2),n.DNE(1,rt,5,4,"div",3)(2,mt,5,4,"div",3)(3,U,9,7,"div",4),n.k0s(),n.DNE(4,R,1,1,"azt-loading-effect",5)(5,Yt,5,4,"ng-template",null,0,n.C5r)(7,pe,28,54,"table",6)),2&x){const w=n.sdS(6);n.R7$(),n.Y8G("ngIf","ENTER_SCORE"==E.screenType),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==E.screenType),n.R7$(),n.Y8G("ngIf",!E.isStudent),n.R7$(),n.Y8G("ngIf",E.statusObj.loading)("ngIfElse",w),n.R7$(3),n.Y8G("ngIf","TABLE_SCORE"==E.screenType)}},dependencies:[K.YU,K.Sq,K.bT,J.oV,Y.K,V.q,X.D,_t.R,ut.$,St.W,st.B,Ft.jd,Ft.Ew,zt.WGl,H.wp,H.Po,H.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),tt})()},57350:(Mt,It,l)=>{l.d(It,{s:()=>o});var f=l(59640),i=l(48891),t=l(65162),Q=l(19857);let o=(()=>{var e;class c extends f.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(n){super(),this.activeRoute=n,this.classroomId=0}}return(e=c).\u0275fac=function(n){return new(n||e)(i.rXU(t.nX))},e.\u0275cmp=i.VBU({type:e,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[i.Vt3],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(n,dt){1&n&&i.nrm(0,"app-table-score",0),2&n&&i.Y8G("isStudent",dt.isStudent)("screenType","TABLE_SCORE")("classroomId",dt.classroomId)("programId",0)("sessionId",0)},dependencies:[Q.g],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),c})()},25622:(Mt,It,l)=>{l.d(It,{b:()=>zt});var f=l(59640),i=l(48891),t=l(95624),Q=l(27691),o=l(65162),e=l(36484),c=l(40949),u=l(54460),n=l(18718),dt=l(68323),kt=l(94743),nt=l(76975);const ot=H=>({cursor:H}),gt=(H,jt,lt)=>({"p-5 bg-primary text-white":H,"p-3":jt,"border border-primary p-4 border-w-2":lt}),L=H=>({"text-base":H}),q=H=>({"text-white":H});function W(H,jt){if(1&H&&i.nrm(0,"azt-loading-effect",3),2&H){const lt=i.XpG();i.Y8G("currentStatusObj",lt.statusObj)}}function K(H,jt){if(1&H&&(i.j41(0,"div",22),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&H){const lt=i.XpG(),et=lt.$implicit;i.Y8G("ngClass",i.eq3(4,q,0===lt.index)),i.R7$(),i.JRh(et.averageMark+" "+i.bMT(2,2,"lang_auto_diem"))}}function J(H,jt){if(1&H&&(i.j41(0,"div",22),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&H){const lt=i.XpG();i.Y8G("ngClass",i.eq3(4,q,0===lt.index&&lt.$implicit.averageMark)),i.R7$(),i.JRh(i.bMT(2,2,"lang_not_data"))}}function Y(H,jt){1&H&&(i.j41(0,"div",23),i.nrm(1,"azt-svg-icon",24),i.k0s()),2&H&&(i.R7$(),i.Y8G("size",40))}function V(H,jt){1&H&&(i.j41(0,"div",25),i.nrm(1,"azt-svg-icon",26),i.k0s()),2&H&&(i.R7$(),i.Y8G("size",40))}function X(H,jt){1&H&&(i.j41(0,"div",27),i.nrm(1,"azt-svg-icon",28),i.k0s()),2&H&&(i.R7$(),i.Y8G("size",40))}function _t(H,jt){if(1&H&&(i.j41(0,"div",29)(1,"div",30),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.j41(4,"div",31),i.EFF(5),i.k0s()()),2&H){const lt=i.XpG().index,et=i.XpG(3);i.R7$(2),i.SpI(" ",i.bMT(3,2,"lang_azt_final_score_ranking")+" "+(lt+1)+"/"+et.dataStudent.total," "),i.R7$(3),i.JRh(et.commentByRanking)}}function ut(H,jt){if(1&H){const lt=i.RV6();i.qex(0),i.j41(1,"div",8),i.bIt("click",function(){const bt=i.eBV(lt).$implicit,yt=i.XpG(3);return i.Njj(yt.goToProfile(bt.classroomId,bt.id))}),i.j41(2,"div",9)(3,"span",10),i.EFF(4),i.k0s()(),i.j41(5,"div",11)(6,"div",12),i.nrm(7,"azt-create-avatar",13),i.k0s(),i.j41(8,"div",14)(9,"div",15),i.EFF(10),i.k0s(),i.DNE(11,K,3,6,"div",16)(12,J,3,6,"div",16),i.k0s()(),i.j41(13,"div",17),i.DNE(14,Y,2,1,"div",18)(15,V,2,1,"div",19)(16,X,2,1,"div",20),i.k0s()(),i.DNE(17,_t,6,4,"div",21),i.bVm()}if(2&H){const lt=jt.$implicit,et=jt.index,bt=i.XpG(3);i.R7$(),i.Y8G("ngStyle",i.eq3(15,ot,bt.isStudent?"default":"pointer"))("ngClass",i.sMw(17,gt,0===et&&lt.averageMark,0!==et||!lt.averageMark,(2===et||1===et)&&lt.averageMark))("hidden",!(!bt.isTqbDomain||!bt.isStudent)&&lt.parentId!=bt.curUserId),i.R7$(3),i.JRh(et+1),i.R7$(3),i.Y8G("linkAvatar",lt.avatar)("nameCreateAvatar",lt.fullName)("size",0===et?48:44),i.R7$(2),i.Y8G("ngClass",i.eq3(21,L,0===et)),i.R7$(),i.JRh(lt.fullName),i.R7$(),i.Y8G("ngIf",lt.averageMark),i.R7$(),i.Y8G("ngIf",!lt.averageMark),i.R7$(2),i.Y8G("ngIf",0===et&&lt.averageMark),i.R7$(),i.Y8G("ngIf",1===et&&lt.averageMark),i.R7$(),i.Y8G("ngIf",2===et&&lt.averageMark),i.R7$(),i.Y8G("ngIf",bt.isTqbDomain&&bt.isStudent&&lt.parentId===bt.curUserId)}}function St(H,jt){if(1&H&&(i.j41(0,"div",5)(1,"div",6),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.DNE(4,ut,18,23,"ng-container",7),i.k0s()),2&H){const lt=i.XpG(2);i.R7$(2),i.SpI(" ",i.bMT(3,2,"lang_azt_leaderboard")," "),i.R7$(2),i.Y8G("ngForOf",lt.dataStudent.list)}}function st(H,jt){1&H&&(i.j41(0,"div",32)(1,"div",33),i.nrm(2,"azt-svg-icon",34),i.j41(3,"p",35),i.EFF(4),i.nI1(5,"mytranslate"),i.k0s()()()),2&H&&(i.R7$(2),i.Y8G("size",82),i.R7$(2),i.JRh(i.bMT(5,2,"lang_not_data")+"!"))}function Ft(H,jt){if(1&H&&i.DNE(0,St,5,4,"div",4)(1,st,6,4,"ng-template",null,1,i.C5r),2&H){const lt=i.sdS(2),et=i.XpG();i.Y8G("ngIf",et.dataStudent&&et.dataStudent.list&&et.dataStudent.list.length)("ngIfElse",lt)}}let zt=(()=>{var H;class jt extends f.H{goToProfile(et,bt){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+et+"/"+bt,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${et}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}})).subscribe(bt=>{if(!bt.success)return this.errorStatusObj(bt.message,!0);if(this.dataStudent=bt.data,!this.isTqbDomain)return this.stopStatusObj();const yt=this.splitIntoGroups(this.dataStudent?.list??[]);this.loadTextCdn(this.cdnService.addRandomQueryParam(this.linkTopMess)).subscribe(rt=>{const ft=this.castJsonToObj(rt)??[];ft.length&&yt.forEach((mt,it)=>{mt.forEach(at=>{at.parentId===this.curUserId&&0==it&&(this.commentByRanking=ft[0].mess),at.parentId===this.curUserId&&1==it&&(this.commentByRanking=ft[1].mess),at.parentId===this.curUserId&&2==it&&(this.commentByRanking=ft[2].mess),at.parentId===this.curUserId&&3==it&&(this.commentByRanking=ft[3].mess)})})}),this.stopStatusObj()}))}loadTextCdn(et){return this.http.get(et,{responseType:"text"})}splitIntoGroups(et){const yt=et.length,rt=Math.min(4,yt),ft=Math.ceil(yt/rt);let mt=[];for(let it=0;it<rt;it++)mt.push(et.slice(it*ft,(it+1)*ft));return mt}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.curUserId=this.sAztUserService.getUserObj().id,this.getListStudent()}constructor(et,bt,yt,rt,ft){super(),this.studentService=et,this.http=bt,this.activeRoute=yt,this.sAztUserService=rt,this.cdnService=ft,this.classroomId=0,this.curUserId=0,this.linkTopMess="https://azota889.github.io/storage_public_v2/topmess.json",this.commentByRanking=""}}return(H=jt).\u0275fac=function(et){return new(et||H)(i.rXU(t.b0),i.rXU(Q.Qq),i.rXU(o.nX),i.rXU(e.R),i.rXU(c.B))},H.\u0275cmp=i.VBU({type:H,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[i.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["emptyData",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],[4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"click","ngStyle","ngClass","hidden"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"mt-4"],[1,"font-bold","uppercase","text-center"],[1,"text-center",2,"font-style","italic"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(et,bt){if(1&et&&i.DNE(0,W,1,1,"azt-loading-effect",2)(1,Ft,3,2,"ng-template",null,0,i.C5r),2&et){const yt=i.sdS(2);i.Y8G("ngIf",bt.statusObj.loading)("ngIfElse",yt)}},dependencies:[u.YU,u.Sq,u.bT,u.B3,n.K,dt.p,kt.m,nt.wp],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),jt})()},95054:(Mt,It,l)=>{l.d(It,{K:()=>le});var f=l(10936),i=l(26988),t=l(59640),Q=function(b){return b[b.ADD_NEW=0]="ADD_NEW",b[b.UPDATE=1]="UPDATE",b[b.DELETE=2]="DELETE",b}(Q||{}),o=l(48891),e=l(95624),c=l(54460),u=l(47712),n=l(18718),dt=l(52811),kt=l(94743),nt=l(15343),ot=l(15766),gt=l(39712),L=l(36484),q=l(97839),W=l(99965),K=l(63349),J=l(53043),Y=l(46899);const V=()=>({"stroke-1.5":!0});function X(b,B){if(1&b){const O=o.RV6();o.j41(0,"div",2)(1,"div",3)(2,"a",4),o.bIt("click",function(){const p=o.eBV(O).$implicit,z=o.XpG();return o.Njj(z.onShowFile(p,-1))}),o.j41(3,"div",5),o.nrm(4,"img",6),o.j41(5,"span",7),o.bIt("click",function(){const p=o.eBV(O).$implicit,z=o.XpG();return o.Njj(z.removeFile(p))}),o.nrm(6,"lucide-icon",8),o.k0s()()()()()}if(2&b){const O=B.$implicit;o.R7$(4),o.Y8G("src",O.url,o.B4B),o.R7$(2),o.Y8G("ngClass",o.lJ4(2,V))}}let _t=(()=>{var b;class B extends t.H{onShowFile(h,p){let z={...h,index:p};this.sAztDialogService.open(J.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:z},restoreFocus:!1})}removeFile(h){this.files=this.files.filter(p=>p.url!=h.url),this.filesChange.emit(this.files)}constructor(h){super(),this.sAztDialogService=h,this.filesChange=new o.bkB}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(Y.i))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[o.Vt3],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(h,p){1&h&&(o.j41(0,"div",0),o.DNE(1,X,7,3,"div",1),o.k0s()),2&h&&(o.R7$(),o.Y8G("ngForOf",p.files))},dependencies:[c.YU,c.Sq,nt.WGl],encapsulation:2}),B})();var ut=l(76975);const St=b=>[b],st=()=>({"zoom-in":!0});function Ft(b,B){if(1&b){const O=o.RV6();o.j41(0,"app-new-list-images",13),o.mxI("filesChange",function(p){o.eBV(O);const z=o.XpG();return o.DH7(z.files,p)||(z.files=p),o.Njj(p)}),o.k0s()}if(2&b){const O=o.XpG();o.R50("files",O.files)}}function zt(b,B){1&b&&o.nrm(0,"azt-loading-ui",14)}let H=(()=>{var b;class B extends t.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var h={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(p=>p.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsPost(h)).subscribe(p=>{if(!p.success||!p.data)return this.errorStatusObj(p.message,!0);this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...p.data,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})}))}}handleUploadComplete(h){this.files.push(...h)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(h,p){super(),this.newsService=h,this.userService=p,this.changePostObjEvent=new o.bkB,this.contentFormControl=new f.MJ("",{nonNullable:!0,validators:[ot.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=gt.b8,this.allUploadFileTypes=gt.PO}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(L.R))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"click","matTooltip"],["size","24",3,"name"],[3,"uploadComplete","uploadToCdnMenu","fileType"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"filesChange","files"],[1,"mr-1"]],template:function(h,p){1&h&&(o.j41(0,"div",0)(1,"div",1)(2,"textarea",2),o.nI1(3,"mytranslate"),o.EFF(4,"        "),o.k0s(),o.DNE(5,Ft,1,1,"app-new-list-images",3),o.k0s(),o.j41(6,"div",4)(7,"div",5)(8,"button",6),o.nI1(9,"mytranslate"),o.bIt("click",function(){return p.isLockComment=!p.isLockComment}),o.nrm(10,"lucide-icon",7),o.k0s(),o.j41(11,"azt-upload-multiple-box",8),o.bIt("uploadComplete",function(Gt){return p.handleUploadComplete(Gt)}),o.j41(12,"span",9),o.nrm(13,"lucide-icon",10),o.nI1(14,"mytranslate"),o.k0s()(),o.j41(15,"button",11),o.bIt("click",function(){return p.saveNewPost()}),o.DNE(16,zt,1,0,"azt-loading-ui",12),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s()()()()),2&h&&(o.R7$(2),o.FS9("placeholder",o.bMT(3,12,"lang_business_news_post_content")),o.Y8G("formControl",p.contentFormControl),o.R7$(3),o.Y8G("ngIf",p.files.length),o.R7$(3),o.FS9("matTooltip",o.bMT(9,14,p.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),o.R7$(2),o.Y8G("name",p.isLockComment?"lock":"lock-open"),o.R7$(),o.Y8G("uploadToCdnMenu",p.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",o.eq3(20,St,p.allUploadFileTypes.IMAGE)),o.R7$(2),o.FS9("matTooltip",o.bMT(14,16,"lang_core_tai_anh")),o.Y8G("ngClass",o.lJ4(22,st)),o.R7$(2),o.Y8G("disabled",""==p.contentFormControl.value||p.statusObj.loading),o.R7$(),o.Y8G("ngIf",p.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[c.YU,c.bT,q.fg,u.oV,f.me,f.BC,f.l_,W.j,dt.R,K.V,nt.WGl,_t,ut.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),B})();var jt=l(89163),lt=l(33887),et=l(2915);function bt(b,B){1&b&&o.nrm(0,"azt-loading-ui",9)}let yt=(()=>{var b;class B extends lt._{btnCloseDialog(h){this.dialogRef.close(h)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdDelete(this.postObj.id)).subscribe(h=>{if(!h.success)return this.errorStatusObj(h.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(h,p,z){super(z,p),this.newsService=h,this.dialogRef=p,this.data=z,this.postObj=z}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(jt.CP,8),o.rXU(jt.Vh,8))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-delete-news-post-confirm-dialog"]],features:[o.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(h,p){1&h&&(o.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),o.EFF(5),o.nI1(6,"mytranslate"),o.j41(7,"b",4),o.EFF(8),o.k0s(),o.EFF(9,"? "),o.k0s()()()(),o.j41(10,"div",5)(11,"button",6),o.bIt("click",function(){return p.btnCloseDialog(!1)}),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"button",7),o.bIt("click",function(){return p.confirmDelete()}),o.DNE(15,bt,1,0,"azt-loading-ui",8),o.EFF(16),o.nI1(17,"mytranslate"),o.k0s()()()),2&h&&(o.R7$(5),o.SpI(" ",o.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),o.R7$(3),o.JRh(p.postObj.content),o.R7$(4),o.SpI(" ",o.bMT(13,7,"lang_cms_common_close_btn")," "),o.R7$(3),o.Y8G("ngIf",p.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[c.bT,et.U,dt.R,ut.wp],encapsulation:2}),B})();var rt=l(17818),ft=l(68323),mt=l(49221),it=function(b){return b[b.ADD_NEW=0]="ADD_NEW",b[b.UPDATE=1]="UPDATE",b[b.DELETE=2]="DELETE",b}(it||{}),at=l(95670),Tt=l(43558);const Dt=()=>({"text-primary flex-none zoom-in":!0});function U(b,B){1&b&&o.nrm(0,"azt-loading-ui",9)}let R=(()=>{var b;class B extends t.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value})).subscribe(p=>{if(!p.success||!p.data)return this.errorStatusObj(p.message,!0);this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...p.data,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(h,p){super(),this.newsService=h,this.userService=p,this.changeCommentObjEvent=new o.bkB,this.commentContentFormControl=new f.MJ("",{nonNullable:!0,validators:[ot.M.noWhiteSpace]})}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(L.R))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[o.Vt3],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(h,p){1&h&&(o.j41(0,"div",0),o.nrm(1,"azt-create-avatar",1),o.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),o.nI1(5,"mytranslate"),o.bIt("enterKey",function(){return!(""==p.commentContentFormControl.value||p.statusObj.loading)&&p.saveNewComment()}),o.EFF(6,"            "),o.k0s()(),o.j41(7,"div",5)(8,"button",6),o.nI1(9,"mytranslate"),o.bIt("click",function(){return p.saveNewComment()}),o.DNE(10,U,1,0,"azt-loading-ui",7),o.nrm(11,"lucide-icon",8),o.k0s()()()()),2&h&&(o.R7$(),o.Y8G("nameCreateAvatar",p.userObj.fullName)("linkAvatar",p.userObj.avatar)("size",30),o.R7$(3),o.FS9("placeholder",o.bMT(5,10,"lang_core_viet_binh_luan")),o.Y8G("enableInMobile",!1)("formControl",p.commentContentFormControl),o.R7$(4),o.FS9("matTooltip",o.bMT(9,12,"lang_business_news_add_new_post_button")),o.Y8G("disabled",""==p.commentContentFormControl.value||p.statusObj.loading),o.R7$(2),o.Y8G("ngIf",p.statusObj.loading),o.R7$(),o.Y8G("ngClass",o.lJ4(14,Dt)))},dependencies:[c.YU,c.bT,q.fg,at.rl,u.oV,f.me,f.BC,f.l_,ft.p,W.j,Tt.Z,dt.R,nt.WGl,ut.wp],encapsulation:2}),B})();function N(b,B){1&b&&o.nrm(0,"azt-loading-ui",9)}let j=(()=>{var b;class B extends lt._{btnCloseDialog(h){this.dialogRef.close(h)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id)).subscribe(h=>{if(!h.success)return this.errorStatusObj(h.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(h,p,z){super(z,p),this.newsService=h,this.dialogRef=p,this.data=z,this.postObj=z.postObj,this.commentObj=z.commentObj}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(jt.CP,8),o.rXU(jt.Vh,8))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[o.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(h,p){1&h&&(o.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),o.EFF(5),o.nI1(6,"mytranslate"),o.j41(7,"b",4),o.EFF(8),o.k0s(),o.EFF(9,"? "),o.k0s()()()(),o.j41(10,"div",5)(11,"button",6),o.bIt("click",function(){return p.btnCloseDialog(!1)}),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"button",7),o.bIt("click",function(){return p.confirmDelete()}),o.DNE(15,N,1,0,"azt-loading-ui",8),o.EFF(16),o.nI1(17,"mytranslate"),o.k0s()()()),2&h&&(o.R7$(5),o.SpI(" ",o.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),o.R7$(3),o.JRh(p.commentObj.content),o.R7$(4),o.SpI(" ",o.bMT(13,7,"lang_cms_common_close_btn")," "),o.R7$(3),o.Y8G("ngIf",p.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[c.bT,et.U,dt.R,ut.wp],encapsulation:2}),B})();const G=()=>({"text-slate-500":!0}),ct=()=>({"mr-2":!0}),Et=()=>({"mr-2 text-danger":!0});function At(b,B){if(1&b&&(o.j41(0,"button",15),o.nrm(1,"lucide-icon",16),o.k0s()),2&b){o.XpG();const O=o.sdS(12);o.Y8G("matMenuTriggerFor",O),o.R7$(),o.Y8G("ngClass",o.lJ4(2,G))}}function Vt(b,B){if(1&b){const O=o.RV6();o.j41(0,"li")(1,"a",17),o.bIt("click",function(){o.eBV(O);const p=o.XpG();return o.Njj(p.editCommentEvent())}),o.nrm(2,"lucide-icon",18),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&b&&(o.R7$(2),o.Y8G("ngClass",o.lJ4(4,ct)),o.R7$(),o.SpI(" ",o.bMT(4,2,"lang_auto_sua")," "))}function Ht(b,B){if(1&b){const O=o.RV6();o.j41(0,"li")(1,"a",19),o.bIt("click",function(){o.eBV(O);const p=o.XpG();return o.Njj(p.deleteCommentEvent())}),o.nrm(2,"lucide-icon",20),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&b&&(o.R7$(2),o.Y8G("ngClass",o.lJ4(4,Et)),o.R7$(),o.SpI(" ",o.bMT(4,2,"lang_auto_xoa")," "))}let Xt=(()=>{var b;class B extends t.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:it.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(j,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(p=>{p&&this.changeCommentObjEvent.emit({actionType:it.DELETE,commentObj:this.commentObj})})}constructor(h){super(),this.sAztDialogService=h,this.changeCommentObjEvent=new o.bkB}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(Y.i))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[o.Jv_([i.h]),o.Vt3],decls:20,vars:13,consts:[["menuBox",""],[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(h,p){1&h&&(o.j41(0,"div",1)(1,"div",2),o.nrm(2,"azt-create-avatar",3),o.k0s(),o.j41(3,"div")(4,"div",4)(5,"div",5)(6,"div",6),o.EFF(7),o.k0s(),o.nrm(8,"azt-see-more-multiple-lines",7),o.k0s(),o.j41(9,"div",8),o.DNE(10,At,2,3,"button",9),o.j41(11,"mat-menu",10,0)(13,"div",11)(14,"ul",12),o.DNE(15,Vt,5,5,"li",13)(16,Ht,5,5,"li",13),o.k0s()()()()(),o.j41(17,"div",14),o.EFF(18),o.nI1(19,"relativeTime"),o.k0s()()()),2&h&&(o.R7$(2),o.Y8G("nameCreateAvatar",null==p.commentObj.user?null:p.commentObj.user.fullName)("linkAvatar",null==p.commentObj.user?null:p.commentObj.user.avatar)("size",30),o.R7$(5),o.SpI(" ",null==p.commentObj.user?null:p.commentObj.user.fullName,"\xa0 "),o.R7$(),o.Y8G("content",p.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),o.R7$(2),o.Y8G("ngIf",p.commentObj.allowDelete||p.commentObj.allowEdit),o.R7$(5),o.Y8G("ngIf",p.commentObj.allowEdit),o.R7$(),o.Y8G("ngIf",p.commentObj.allowDelete),o.R7$(2),o.JRh(o.bMT(19,11,p.commentObj.createdAt)))},dependencies:[c.YU,c.bT,rt.kk,rt.Cp,ft.p,mt.R,nt.WGl,ut.wp,ut.NA],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),B})();const Qt=()=>({"text-primary":!0});function ee(b,B){1&b&&o.nrm(0,"azt-loading-ui",11)}let ne=(()=>{var b;class B extends t.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var h={content:this.commentContentFormControl.value};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,h)).subscribe(p=>{if(!p.success)return this.errorStatusObj(p.message,!0);this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=h.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(h,p){super(),this.newsService=h,this.userService=p,this.changeCommentObjEvent=new o.bkB,this.commentContentFormControl=new f.MJ("",{nonNullable:!0,validators:[ot.M.noWhiteSpace]})}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(L.R))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[o.Vt3],decls:16,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(h,p){1&h&&(o.j41(0,"div",0),o.nrm(1,"azt-create-avatar",1),o.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),o.nI1(5,"mytranslate"),o.bIt("enterKey",function(){return!(""==p.commentContentFormControl.value||p.statusObj.loading)&&p.saveNewComment()}),o.EFF(6,"            "),o.k0s()(),o.j41(7,"div",5)(8,"div",6)(9,"button",7),o.bIt("click",function(){return p.cancel()}),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s(),o.j41(12,"button",8),o.nI1(13,"mytranslate"),o.bIt("click",function(){return p.saveNewComment()}),o.DNE(14,ee,1,0,"azt-loading-ui",9),o.nrm(15,"lucide-icon",10),o.k0s()()()()()),2&h&&(o.R7$(),o.Y8G("nameCreateAvatar",p.userObj.fullName)("linkAvatar",p.userObj.avatar)("size",30),o.R7$(3),o.FS9("placeholder",o.bMT(5,11,"lang_core_viet_binh_luan")),o.Y8G("enableInMobile",!1)("formControl",p.commentContentFormControl),o.R7$(6),o.SpI(" ",o.bMT(11,13,"lang_cms_common_close_btn")," "),o.R7$(2),o.FS9("matTooltip",o.bMT(13,15,"lang_business_news_add_new_post_button")),o.Y8G("disabled",""==p.commentContentFormControl.value||p.statusObj.loading),o.R7$(2),o.Y8G("ngIf",p.statusObj.loading),o.R7$(),o.Y8G("ngClass",o.lJ4(17,Qt)))},dependencies:[c.YU,c.bT,q.fg,at.rl,u.oV,f.me,f.BC,f.l_,ft.p,W.j,Tt.Z,dt.R,nt.WGl,ut.wp],encapsulation:2}),B})();function oe(b,B){if(1&b){const O=o.RV6();o.qex(0),o.j41(1,"app-news-view-comment",6),o.bIt("changeCommentObjEvent",function(p){o.eBV(O);const z=o.XpG(2);return o.Njj(z.changeCommentObj(p.actionType,p.commentObj))}),o.k0s(),o.bVm()}if(2&b){const O=o.XpG().$implicit,h=o.XpG();o.R7$(),o.Y8G("postObj",h.postObj)("commentObj",O)}}function ie(b,B){if(1&b){const O=o.RV6();o.j41(0,"div",3)(1,"app-news-edit-comment",6),o.bIt("changeCommentObjEvent",function(p){o.eBV(O);const z=o.XpG(2);return o.Njj(z.changeCommentObj(z.enumNewsCommentActionType.UPDATE,p))}),o.k0s()()}if(2&b){const O=o.XpG().$implicit,h=o.XpG();o.R7$(),o.Y8G("postObj",h.postObj)("commentObj",O)}}function ae(b,B){if(1&b&&(o.j41(0,"div"),o.DNE(1,oe,2,2,"ng-container",5)(2,ie,2,2,"ng-template",null,0,o.C5r),o.k0s()),2&b){const O=B.$implicit,h=o.sdS(3);o.R7$(),o.Y8G("ngIf",!O.isShowEditForm)("ngIfElse",h)}}function se(b,B){1&b&&o.nrm(0,"azt-loading-ui",10)}function re(b,B){if(1&b){const O=o.RV6();o.j41(0,"div",7)(1,"button",8),o.bIt("click",function(){o.eBV(O);const p=o.XpG();return o.Njj(!p.sAztNextPaginationService.isLoadingNextPage&&p.getNextPage())}),o.EFF(2),o.nI1(3,"mytranslate"),o.DNE(4,se,1,0,"azt-loading-ui",9),o.k0s()()}if(2&b){const O=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,2,"lang_business_news_load_more_comments")," "),o.R7$(2),o.Y8G("ngIf",O.sAztNextPaginationService.isLoadingNextPage)}}let D=(()=>{var b;class B extends t.H{changeCommentObj(h,p){h==it.ADD_NEW?(this.commentObjs.unshift(p),this.postObj.totalComment+=1):h==it.UPDATE?this.commentObjs=this.commentObjs.map(z=>z.id==p.id?p:z):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(z=>z.id!=p.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(h){h?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage)).subscribe(p=>{if(!p.success)return this.errorStatusObj(p.message,!0);p.data?.list.forEach(z=>{this.commentObjs.push({...z,isShowEditForm:!1,allowEdit:z.tenantId==this.userObj.id,allowDelete:!this.isStudent||z.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(p.data?.total??0),this.stopStatusObj()}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(h,p,z){super(),this.newsService=h,this.userService=p,this.sAztNextPaginationService=z,this.commentObjs=[],this.enumNewsCommentActionType=it,this.userObj=this.userService.getUserObj()}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(L.R),o.rXU(i.h))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[o.Jv_([i.h]),o.Vt3],decls:4,vars:3,consts:[["showEditForm",""],[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"changeCommentObjEvent","postObj"],[4,"ngIf","ngIfElse"],[3,"changeCommentObjEvent","postObj","commentObj"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(h,p){1&h&&(o.DNE(0,ae,4,2,"div",1)(1,re,5,4,"div",2),o.j41(2,"div",3)(3,"app-news-add-new-comments",4),o.bIt("changeCommentObjEvent",function(Gt){return p.changeCommentObj(p.enumNewsCommentActionType.ADD_NEW,Gt)}),o.k0s()()),2&h&&(o.Y8G("ngForOf",p.commentObjs),o.R7$(),o.Y8G("ngIf",p.commentObjs.length&&p.sAztNextPaginationService.hasNextPage),o.R7$(2),o.Y8G("postObj",p.postObj))},dependencies:[c.Sq,c.bT,dt.R,R,Xt,ne,ut.wp],encapsulation:2}),B})();const pt=b=>({clickable:b}),M=(b,B)=>({"heart-selected":b,"heart-non-selected":B});function F(b,B){1&b&&(o.j41(0,"div",2)(1,"span",3),o.nrm(2,"lucide-icon",4),o.k0s(),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s()()),2&b&&(o.R7$(4),o.JRh(o.bMT(5,1,"lang_student_comment_feature_disabled")))}function P(b,B){if(1&b){const O=o.RV6();o.j41(0,"div",5)(1,"div",6),o.nI1(2,"isParentViewOnly"),o.j41(3,"button",7),o.nI1(4,"isParentViewOnly"),o.bIt("click",function(){o.eBV(O);const p=o.XpG();return o.Njj(p.changeEmotionEvent())}),o.nrm(5,"lucide-icon",8),o.k0s(),o.j41(6,"span"),o.EFF(7),o.k0s()(),o.j41(8,"div",9),o.nI1(9,"isParentViewOnly"),o.j41(10,"button",10),o.nI1(11,"isParentViewOnly"),o.bIt("click",function(){o.eBV(O);const p=o.XpG();return o.Njj(p.showCommentObjs())}),o.nrm(12,"lucide-icon",11),o.k0s(),o.j41(13,"span"),o.EFF(14),o.k0s()()()}if(2&b){const O=o.XpG();o.R7$(),o.Y8G("ngClass",o.eq3(15,pt,!o.bMT(2,7,""))),o.R7$(2),o.Y8G("disabled",o.bMT(4,9,"")),o.R7$(2),o.Y8G("ngClass",o.l_i(17,M,O.postObj.hasLoveEmotion,!O.postObj.hasLoveEmotion)),o.R7$(2),o.JRh(O.postObj.totalEmotion),o.R7$(),o.Y8G("ngClass",o.eq3(20,pt,!o.bMT(9,11,""))),o.R7$(2),o.Y8G("disabled",o.bMT(11,13,"")),o.R7$(4),o.JRh(O.postObj.totalComment)}}let Ct=(()=>{var b;class B extends t.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id)).subscribe(h=>{if(!h.success)return this.errorStatusObj(h.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,void this.changePostObjEvent.emit(this.postObj);this.successStatusObj()}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(h){super(),this.newsService=h,this.changePostObjEvent=new o.bkB}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"mr-2","zoom-in","heart-label",3,"click","disabled"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"click","disabled"],["name","message-square","size","20"]],template:function(h,p){1&h&&o.DNE(0,F,6,3,"div",0)(1,P,15,22,"div",1),2&h&&(o.Y8G("ngIf",p.postObj.isLockComment),o.R7$(),o.Y8G("ngIf",!p.postObj.isLockComment))},dependencies:[c.YU,c.bT,nt.WGl,ut.wp,ut.hx],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}  .heart-selected svg{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),B})();var Rt=l(40111);function Nt(b,B){if(1&b){const O=o.RV6();o.j41(0,"a",3),o.bIt("click",function(){const p=o.eBV(O).$implicit,z=o.XpG();return o.Njj(z.onShowFile(p))}),o.nrm(1,"img",4),o.k0s()}if(2&b){const O=B.$implicit;o.R7$(),o.Y8G("src",O.imageLink,o.B4B)}}let Ut=(()=>{var b;class B extends t.H{onShowFile(h){this.sAztDialogService.open(J.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+h.id,mimes:"image/jpeg",url:h.imageLink,index:-1}},restoreFocus:!1})}constructor(h,p){super(),this.sAztDialogService=h,this.sAztFileTypeService=p,this.images=[]}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(Y.i),o.rXU(Rt.k))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[o.Vt3],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(h,p){1&h&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,Nt,2,1,"a",2),o.k0s()()),2&h&&(o.R7$(2),o.Y8G("ngForOf",p.images))},dependencies:[c.Sq],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),B})();const Wt=()=>({"text-slate-500":!0}),Yt=()=>({"mr-2":!0});function _e(b,B){if(1&b&&o.eu8(0,15),2&b){o.XpG();const O=o.sdS(17);o.Y8G("ngTemplateOutlet",O)}}function me(b,B){if(1&b&&(o.j41(0,"div"),o.nrm(1,"hr",12)(2,"app-news-list-comments",16),o.k0s()),2&b){const O=o.XpG();o.R7$(2),o.Y8G("isStudent",O.isStudent)("postObj",O.postObj)}}function de(b,B){if(1&b){const O=o.RV6();o.j41(0,"div",17)(1,"button",18),o.nrm(2,"lucide-icon",19),o.k0s(),o.j41(3,"mat-menu",20,1)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),o.bIt("click",function(){o.eBV(O);const p=o.XpG();return o.Njj(p.editPostEvent())}),o.nrm(9,"lucide-icon",24),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s()(),o.j41(12,"li")(13,"a",25),o.bIt("click",function(){o.eBV(O);const p=o.XpG();return o.Njj(p.deletePostEvent())}),o.nrm(14,"lucide-icon",26),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()(),o.j41(17,"li")(18,"label",27),o.bIt("click",function(p){return o.eBV(O),o.Njj(p.stopPropagation())}),o.j41(19,"div",28),o.nrm(20,"lucide-icon",29),o.EFF(21),o.nI1(22,"mytranslate"),o.k0s(),o.j41(23,"div",30)(24,"input",31),o.bIt("change",function(){o.eBV(O);const p=o.XpG();return o.Njj(p.changeLockCommentStatus())}),o.k0s()()()()()()()()}if(2&b){const O=o.sdS(4),h=o.XpG();o.R7$(),o.Y8G("matMenuTriggerFor",O),o.R7$(),o.Y8G("ngClass",o.lJ4(15,Wt)),o.R7$(7),o.Y8G("ngClass",o.lJ4(16,Yt)),o.R7$(),o.SpI(" ",o.bMT(11,9,"lang_auto_sua")," "),o.R7$(4),o.Y8G("ngClass",o.lJ4(17,Yt)),o.R7$(),o.SpI(" ",o.bMT(16,11,"lang_auto_xoa")," "),o.R7$(5),o.Y8G("ngClass",o.lJ4(18,Yt)),o.R7$(),o.SpI(" ",o.bMT(22,13,"lang_student_comment_lock")," "),o.R7$(3),o.Y8G("formControl",h.isLockComment)}}let Zt=(()=>{var b;class B extends t.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:Q.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(yt,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(p=>{p&&this.changePostObjEvent.emit({actionType:Q.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const h=this.isLockComment.value,p=h?this.newsService.apiNewsIdLockCommentsPut(this.postObj.id):this.newsService.apiNewsIdUnlockCommentsPut(this.postObj.id);this.waitDestroy(this.wrapApiResponse(p).subscribe(z=>{if(!z.success)return this.errorStatusObj(z.message,!0);const Gt=h?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=h?1:0,this.changePostObjEvent.emit({actionType:Q.UPDATE,postObj:this.postObj}),this.showSuccessSnack(Gt)}))}changeEmotionEventEvent(h){this.postObj=h,this.changePostObjEvent.emit({actionType:Q.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(h,p){super(),this.sAztDialogService=h,this.newsService=p,this.changePostObjEvent=new o.bkB,this.isLockComment=new f.MJ(!1)}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(Y.i),o.rXU(e.bH))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:18,vars:13,consts:[["newsEditOrDeleteNews",""],["menuBox",""],[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"changePostObjEvent","postObj"],[4,"ngIf"],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"change","formControl"]],template:function(h,p){if(1&h){const z=o.RV6();o.j41(0,"div",2)(1,"div",3),o.nrm(2,"azt-create-avatar",4),o.k0s(),o.j41(3,"div",5)(4,"a",6),o.EFF(5),o.k0s(),o.j41(6,"div",7),o.EFF(7),o.nI1(8,"relativeTime"),o.k0s()()(),o.DNE(9,_e,1,1,"ng-container",8),o.j41(10,"div",9),o.nrm(11,"azt-see-more-multiple-lines",10),o.k0s(),o.nrm(12,"app-list-images-post",11)(13,"hr",12),o.j41(14,"app-news-emotions",13),o.bIt("changePostObjEvent",function(Jt){return o.eBV(z),o.Njj(p.changeEmotionEventEvent(Jt))}),o.k0s(),o.DNE(15,me,3,2,"div",14)(16,de,25,19,"ng-template",null,0,o.C5r)}if(2&h){let z;o.R7$(2),o.Y8G("nameCreateAvatar",null==p.postObj.user?null:p.postObj.user.fullName)("linkAvatar",null==p.postObj.user?null:p.postObj.user.avatar)("size",36),o.R7$(3),o.SpI("",null==p.postObj.user?null:p.postObj.user.fullName,"\xa0"),o.R7$(2),o.JRh(o.bMT(8,11,p.postObj.createdAt)),o.R7$(2),o.Y8G("ngIf",!p.isStudent),o.R7$(2),o.Y8G("content",p.postObj.content)("maxLine",0==(null!==(z=null==p.postObj.images?null:p.postObj.images.length)&&void 0!==z?z:0)?p.postObj.content.length:10),o.R7$(),o.Y8G("images",p.postObj.images),o.R7$(2),o.Y8G("postObj",p.postObj),o.R7$(),o.Y8G("ngIf",p.postObj.isShowCommentBox)}},dependencies:[c.YU,c.bT,c.T3,rt.kk,rt.Cp,f.Zm,f.BC,f.l_,ft.p,mt.R,nt.WGl,D,Ct,Ut,ut.wp,ut.NA],encapsulation:2}),B})();const ue=b=>[b],pe=()=>({"zoom-in":!0});function ge(b,B){if(1&b){const O=o.RV6();o.j41(0,"app-new-list-images",13),o.mxI("filesChange",function(p){o.eBV(O);const z=o.XpG();return o.DH7(z.files,p)||(z.files=p),o.Njj(p)}),o.k0s()}if(2&b){const O=o.XpG();o.R50("files",O.files)}}function T(b,B){1&b&&o.nrm(0,"azt-loading-ui",14)}let tt=(()=>{var b;class B extends t.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let h={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(p=>p.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdPut(this.postObj.id,h)).subscribe(p=>{if(!p.success)return this.errorStatusObj(p.message,!0);this.successStatusObj("lang_cms_update_success",!0);let z=[];this.files.forEach(Gt=>{z.push({id:0,newsId:this.postObj?.id??0,imageLink:Gt.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=h.content,this.postObj.images=z,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]}))}}handleUploadComplete(h){this.files.push(...h)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(h=>{this.files.push({name:"",mimes:"image/jpeg",url:h.imageLink})})}constructor(h,p){super(),this.newsService=h,this.userService=p,this.changePostObjEvent=new o.bkB,this.contentFormControl=new f.MJ("",{nonNullable:!0,validators:[ot.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=gt.b8,this.allUploadFileTypes=gt.PO}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(L.R))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"filesChange","files"],[1,"mr-1"]],template:function(h,p){1&h&&(o.j41(0,"div")(1,"div",0),o.nrm(2,"azt-create-avatar",1),o.j41(3,"div",2)(4,"textarea",3),o.nI1(5,"mytranslate"),o.EFF(6,"            "),o.k0s()()(),o.DNE(7,ge,1,1,"app-new-list-images",4),o.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),o.bIt("uploadComplete",function(Gt){return p.handleUploadComplete(Gt)}),o.j41(11,"span",8),o.nrm(12,"lucide-icon",9),o.nI1(13,"mytranslate"),o.k0s()(),o.j41(14,"button",10),o.bIt("click",function(){return p.cancel()}),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s(),o.j41(17,"button",11),o.bIt("click",function(){return p.saveNewPost()}),o.DNE(18,T,1,0,"azt-loading-ui",12),o.EFF(19),o.nI1(20,"mytranslate"),o.k0s()()()()),2&h&&(o.R7$(2),o.Y8G("nameCreateAvatar",p.userObj.fullName)("linkAvatar",p.userObj.avatar)("size",36),o.R7$(2),o.FS9("placeholder",o.bMT(5,14,"lang_business_news_post_content")),o.Y8G("formControl",p.contentFormControl),o.R7$(3),o.Y8G("ngIf",p.files.length),o.R7$(3),o.Y8G("uploadToCdnMenu",p.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",o.eq3(22,ue,p.allUploadFileTypes.IMAGE)),o.R7$(2),o.FS9("matTooltip",o.bMT(13,16,"lang_core_tai_anh")),o.Y8G("ngClass",o.lJ4(24,pe)),o.R7$(3),o.SpI(" ",o.bMT(16,18,"lang_cms_common_close_btn")," "),o.R7$(2),o.Y8G("disabled",""==p.contentFormControl.value||p.statusObj.loading),o.R7$(),o.Y8G("ngIf",p.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[c.YU,c.bT,q.fg,u.oV,f.me,f.BC,f.l_,ft.p,W.j,dt.R,K.V,nt.WGl,_t,ut.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),B})();function I(b,B){if(1&b){const O=o.RV6();o.j41(0,"div",12)(1,"app-news-add-new-post",13),o.bIt("changePostObjEvent",function(p){o.eBV(O);const z=o.XpG();return o.Njj(z.changePostObj(z.enumNewsPostActionType.ADD_NEW,p))}),o.k0s()()}if(2&b){const O=o.XpG();o.R7$(),o.Y8G("classroomId",O.classroomId)("isSchool",O.isSchoolControl.getRawValue())}}function x(b,B){if(1&b&&(o.j41(0,"div",14),o.nrm(1,"azt-loading-effect",15),o.k0s()),2&b){const O=o.XpG();o.R7$(),o.Y8G("currentStatusObj",O.statusObj)}}function E(b,B){if(1&b){const O=o.RV6();o.qex(0),o.j41(1,"app-news-view-post",19),o.bIt("changePostObjEvent",function(p){o.eBV(O);const z=o.XpG(3);return o.Njj(z.changePostObj(p.actionType,p.postObj))}),o.k0s(),o.bVm()}if(2&b){const O=o.XpG().$implicit,h=o.XpG(2);o.R7$(),o.Y8G("isStudent",h.isStudent)("postObj",O)}}function w(b,B){if(1&b){const O=o.RV6();o.j41(0,"app-news-edit-post",20),o.bIt("changePostObjEvent",function(p){o.eBV(O);const z=o.XpG(3);return o.Njj(z.changePostObj(z.enumNewsPostActionType.UPDATE,p))}),o.k0s()}if(2&b){const O=o.XpG().$implicit,h=o.XpG(2);o.Y8G("postObj",O)("classroomId",h.classroomId)}}function ht(b,B){if(1&b&&(o.j41(0,"div",17),o.DNE(1,E,2,2,"ng-container",18)(2,w,1,2,"ng-template",null,1,o.C5r),o.k0s()),2&b){const O=B.$implicit,h=o.sdS(3);o.R7$(),o.Y8G("ngIf",!O.isShowEditForm)("ngIfElse",h)}}function wt(b,B){1&b&&(o.j41(0,"div",12)(1,"div",21)(2,"div",22),o.nrm(3,"azt-svg-icon",23),o.j41(4,"p",24),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s()()()()),2&b&&(o.R7$(3),o.Y8G("size",87),o.R7$(2),o.JRh(o.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function $t(b,B){1&b&&o.nrm(0,"azt-loading-ui")}function Lt(b,B){if(1&b){const O=o.RV6();o.j41(0,"button",26),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(O);const p=o.XpG(3);return o.Njj(p.getNextPage())}),o.nrm(2,"lucide-icon",27),o.k0s()}2&b&&o.FS9("matTooltip",o.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Bt(b,B){if(1&b&&(o.j41(0,"div",12)(1,"div",25),o.DNE(2,$t,1,0,"azt-loading-ui",18)(3,Lt,3,3,"ng-template",null,2,o.C5r),o.k0s()()),2&b){const O=o.sdS(4),h=o.XpG(2);o.R7$(2),o.Y8G("ngIf",h.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",O)}}function fe(b,B){if(1&b&&o.DNE(0,ht,4,2,"div",16)(1,wt,7,4,"div",10)(2,Bt,5,2,"div",10),2&b){const O=o.XpG();o.Y8G("ngForOf",O.postObjs),o.R7$(),o.Y8G("ngIf",O.postObjs.length<=0),o.R7$(),o.Y8G("ngIf",O.postObjs.length&&O.sAztNextPaginationService.hasNextPage)}}let le=(()=>{var b;class B extends t.H{selectedViewNewsSchool(h){let p=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";h?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(p,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(p,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(h,p){switch(h){case Q.ADD_NEW:this.postObjs.unshift(p);break;case Q.UPDATE:this.postObjs=this.postObjs.map(z=>z.id==p.id?p:z);break;case Q.DELETE:this.postObjs=this.postObjs.filter(z=>z.id!=p.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(h){var p={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};h?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsListPost(p)).subscribe(z=>{if(!z.success)return this.errorStatusObj(z.message,!0);let Gt={page:1,size:-1,newsIds:z.data?.list.map(Jt=>Jt.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsEmotionsListPost(Gt)).subscribe(Jt=>{if(!Jt.success)return this.errorStatusObj(Jt.message,!0);let ve=this.commonService.arrayToUniqueDictionary(Jt.data?.list??[],ce=>ce.newsId.toString());z.data?.list.forEach(ce=>{this.postObjs.push({...ce,hasLoveEmotion:ve.hasOwnProperty(ce.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(z.data?.total??0),this.stopStatusObj()}))}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(h,p){super(),this.newsService=h,this.sAztNextPaginationService=p,this.isSchoolControl=new f.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=Q}}return(b=B).\u0275fac=function(h){return new(h||b)(o.rXU(e.bH),o.rXU(i.h))},b.\u0275cmp=o.VBU({type:b,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[o.Jv_([i.h]),o.Vt3,o.OA$],decls:19,vars:16,consts:[["doneLoading",""],["showEditForm",""],["doneLoadNextPage",""],[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","classroom",1,"pl-2","form-check-label"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","school",1,"pl-2","form-check-label"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"changePostObjEvent","classroomId","isSchool"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],[3,"changePostObjEvent","isStudent","postObj"],[3,"changePostObjEvent","postObj","classroomId"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"click","matTooltip"],["name","chevron-down","size","20"]],template:function(h,p){if(1&h){const z=o.RV6();o.j41(0,"div",3)(1,"div",4)(2,"p"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s(),o.j41(5,"div",5)(6,"input",6),o.bIt("click",function(){return o.eBV(z),o.Njj(p.selectedViewNewsSchool(!1))}),o.k0s(),o.j41(7,"label",7),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()(),o.j41(10,"div",5)(11,"input",8),o.bIt("click",function(){return o.eBV(z),o.Njj(p.selectedViewNewsSchool(!0))}),o.k0s(),o.j41(12,"label",9),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s()()(),o.DNE(15,I,2,2,"div",10)(16,x,2,1,"div",11)(17,fe,3,3,"ng-template",null,0,o.C5r),o.k0s()}if(2&h){const z=o.sdS(18);o.R7$(3),o.JRh(o.bMT(4,10,"lang_azt_hien_ban_tin_theo")),o.R7$(3),o.Y8G("value",0)("formControl",p.isSchoolControl),o.R7$(2),o.JRh(o.bMT(9,12,"lang_auto_lop_hoc")),o.R7$(3),o.Y8G("value",1)("formControl",p.isSchoolControl),o.R7$(2),o.JRh(o.bMT(14,14,"lang_azt_truong_hoc")),o.R7$(2),o.Y8G("ngIf",!p.isStudent),o.R7$(),o.Y8G("ngIf",p.statusObj.loading)("ngIfElse",z)}},dependencies:[c.Sq,c.bT,u.oV,f.me,f.Fm,f.BC,f.l_,n.K,dt.R,kt.m,nt.WGl,H,Zt,tt,ut.wp],encapsulation:2}),B})()},14505:(Mt,It,l)=>{l.d(It,{h:()=>V});var f=l(54460),i=l(10936),t=l(89163),Q=l(65162),o=l(69223),e=l(23047),c=l(15343),u=l(13763),n=l(10123),dt=l(25571),kt=l(44233),nt=l(20378),ot=l(5502),gt=l(21656),L=l(70050),q=l(7050),W=l(35143),K=l(43234),J=l(73100),Y=l(48891);let V=(()=>{var X;class _t{}return(X=_t).\u0275fac=function(St){return new(St||X)},X.\u0275mod=Y.$C({type:X}),X.\u0275inj=Y.G2t({providers:[{provide:o.vn,useValue:K.c.azt_tiny_mce_script_src}],imports:[Q.iI,f.MD,gt.s,nt.T_,o.sv,i.YN,i.X1,t.hM,L.L,u.Lk,dt.xv,W.Q,q.b,n.AC,c.flO.pick(c.Ptg),ot.Id,e.Fr,J.AzotaBusinessModule,kt.An]}),_t})()},66257:(Mt,It,l)=>{l.d(It,{H:()=>f});var f=function(i){return i.none="None",i.asc="Asc",i.desc="Desc",i}(f||{})},48725:(Mt,It,l)=>{l.d(It,{s:()=>i});var f=l(66257);class i{resetSortFieldName(Q){this.fieldNameList.forEach(o=>{o.fieldName!==Q.fieldName&&(o.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(Q){this.fieldNameList=Q}convertDataSort(Q){switch(this.resetSortFieldName(Q),Q.typeFieldSort){case this.typeFieldSort.none:Q.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:Q.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:Q.typeFieldSort=this.typeFieldSort.none}return{fieldName:Q.fieldName,descending:Q.typeFieldSort===this.typeFieldSort.desc,ignore:Q.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=f.H,this.fieldNameList=[]}}},67081:(Mt,It,l)=>{l.d(It,{X:()=>J});var f=l(82653),i=l(59640),t=l(48891),Q=l(95624),o=l(54460),e=l(47426),c=l(95670),u=l(4375),n=l(10123),dt=l(52811),kt=l(76975);const nt=()=>[];function ot(Y,V){if(1&Y){const X=t.RV6();t.j41(0,"mat-option",14),t.bIt("click",function(){const ut=t.eBV(X).index,St=t.XpG();return t.Njj(St.filterByMonth(ut))}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()}if(2&Y){const X=V.index;t.Y8G("value",X),t.R7$(2),t.SpI(" ",X?t.bMT(3,2,"lang_core_thang")+" "+X:t.bMT(4,4,"lang_auto_tat_ca")," ")}}function gt(Y,V){1&Y&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.nrm(3,"azt-loading-ui"),t.k0s()()())}function L(Y,V){if(1&Y&&(t.j41(0,"tr")(1,"td",15),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td",15),t.EFF(7),t.k0s(),t.j41(8,"td",15)(9,"span",20),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"td",15),t.EFF(13),t.k0s()()),2&Y){const X=V.$implicit,_t=V.index;t.R7$(2),t.JRh(_t+1),t.R7$(2),t.JRh(t.bMT(5,6,X.sessionTime)),t.R7$(3),t.SpI(" ",X.className," "),t.R7$(2),t.Y8G("ngClass",X.reason?"bg-danger":"bg-success"),t.R7$(),t.SpI(" ",t.bMT(11,8,X.absent?"lang_business_vang_mat":"lang_business_co_mat")," "),t.R7$(3),t.SpI(" ",X.reason," ")}}function q(Y,V){if(1&Y&&(t.qex(0),t.DNE(1,L,14,10,"tr",19),t.bVm()),2&Y){const X=t.XpG(2);t.R7$(),t.Y8G("ngForOf",X.attendanceObjs)}}function W(Y,V){1&Y&&(t.j41(0,"tr")(1,"td",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&Y&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}function K(Y,V){if(1&Y&&t.DNE(0,q,2,1,"ng-container",18)(1,W,4,3,"ng-template",null,1,t.C5r),2&Y){const X=t.sdS(2),_t=t.XpG();t.Y8G("ngIf",_t.attendanceObjs.length)("ngIfElse",X)}}let J=(()=>{var Y;class V extends i.H{constructor(_t){super(),this.studentService=_t,this.classroomIds=[],this.title="lang_student_attendance_info",this.attendanceObjs=[]}getAttendances(_t){if(this.initStatusObj(),this.attendanceObjs=[],this.isTqbDomain){const ut=this.classroomIds.map(St=>this.studentService.apiStudentsAttendancesMeGet(St,void 0,_t));this.wrapApiResponse((0,f.p)(ut)).subscribe(St=>{St.data?.forEach(st=>{if(!st)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.attendanceObjs=this.attendanceObjs.concat(st.list)}),this.successStatusObj()})}}filterByMonth(_t){this.getAttendances(_t)}ngOnChanges(){this.getAttendances()}ngOnInit(){super.ngOnInit()}}return(Y=V).\u0275fac=function(_t){return new(_t||Y)(t.rXU(Q.b0))},Y.\u0275cmp=t.VBU({type:Y,selectors:[["azt-attendance-table"]],inputs:{classroomIds:"classroomIds",title:"title"},features:[t.Vt3,t.OA$],decls:33,vars:29,consts:[["doneLoading",""],["noTuitionFee",""],[1,"flex","items-center","justify-between"],[1,"text-base","font-medium","w-full"],["appearance","outline",2,"border-radius","5px","background","white","width","auto"],[3,"placeholder"],[3,"value","click",4,"ngFor","ngForOf"],["drag-scroll-item","",1,"table","table-bordered","mt-5",2,"white-space","initial","display","table","background","white"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[3,"click","value"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"py-0.5","px-2","rounded-full","text-xs","text-white","cursor-pointer","font-medium",3,"ngClass"],["colspan","4",1,"text-center"]],template:function(_t,ut){if(1&_t&&(t.j41(0,"div")(1,"div",2)(2,"p",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"mat-form-field",4)(6,"mat-select",5),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.DNE(9,ot,5,6,"mat-option",6),t.k0s()()(),t.j41(10,"drag-scroll")(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",10),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",11),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"th",12),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",11),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.j41(29,"tbody"),t.DNE(30,gt,4,0,"tr",13)(31,K,3,2,"ng-template",null,0,t.C5r),t.k0s()()()()),2&_t){const St=t.sdS(32);t.R7$(3),t.JRh(t.bMT(4,12,ut.title)),t.R7$(3),t.FCK("placeholder","",t.bMT(7,14,"azt_lang_sugg_filter")," ",t.bMT(8,16,"lang_auto_month"),""),t.R7$(3),t.Y8G("ngForOf",t.lJ4(28,nt).constructor(13)),t.R7$(6),t.SpI(" ",t.bMT(16,18,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(19,20,"lang_core_thoi_gian_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(22,22,"lang_auto_lop_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(25,24,"lang_student_status")," "),t.R7$(3),t.SpI(" ",t.bMT(28,26,"lang_business_reason_for_leave")," "),t.R7$(3),t.Y8G("ngIf",ut.statusObj.loading)("ngIfElse",St)}},dependencies:[o.YU,o.Sq,o.bT,e.wT,c.rl,u.VO,n.jd,n.Ew,dt.R,kt.wp,kt.i_],encapsulation:2}),V})()},49221:(Mt,It,l)=>{l.d(It,{R:()=>nt});var f=l(59640),i=l(48891),t=l(54460),Q=l(76975);function o(ot,gt){if(1&ot){const L=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(L);const W=i.XpG(2);return i.Njj(W.clickToSeeMore())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&ot&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_cms_common_see_more")))}function e(ot,gt){if(1&ot){const L=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(L);const W=i.XpG(2);return i.Njj(W.clickToShowShortContent())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&ot&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_cms_common_see_short_content")))}function c(ot,gt){if(1&ot&&(i.j41(0,"div"),i.nrm(1,"span",3),i.nI1(2,"safeNormalHtmlContent"),i.DNE(3,o,3,3,"a",4)(4,e,3,3,"a",4),i.k0s()),2&ot){const L=i.XpG();i.R7$(),i.Y8G("innerHTML",i.bMT(2,3,L.showContent),i.npT),i.R7$(2),i.Y8G("ngIf",L.showSeeMoreButton&&L.content.length>L.maxLength),i.R7$(),i.Y8G("ngIf",L.showShortContentButton&&L.content.length>L.maxLength)}}function u(ot,gt){if(1&ot&&(i.nrm(0,"span",10),i.nI1(1,"safeNormalHtmlContent")),2&ot){const L=i.XpG(2);i.Y8G("innerHTML",i.bMT(1,1,L.showContent),i.npT)}}function n(ot,gt){if(1&ot){const L=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(L);const W=i.XpG(2);return i.Njj(W.clickToSeeMore())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&ot){const L=i.XpG(2);i.Aen("position: absolute; bottom: 0; right: 0; background-color: "+L.backgroundColor),i.R7$(),i.SpI(" ...",i.bMT(2,3,"lang_cms_common_see_more")," ")}}function dt(ot,gt){if(1&ot){const L=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(L);const W=i.XpG(2);return i.Njj(W.clickToShowShortContent())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&ot&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_cms_common_see_short_content")))}function kt(ot,gt){if(1&ot&&(i.j41(0,"div",6),i.nrm(1,"div",7),i.nI1(2,"safeNormalHtmlContent"),i.nrm(3,"div",7,0),i.nI1(5,"safeNormalHtmlContent"),i.DNE(6,u,2,3,"span",8)(7,n,3,5,"a",9)(8,dt,3,3,"a",4),i.k0s()),2&ot){const L=i.sdS(4),q=i.XpG();i.R7$(),i.Aen(q.styleContent),i.Y8G("innerHTML",i.bMT(2,9,q.showContent),i.npT),i.R7$(2),i.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),i.Y8G("innerHTML",i.bMT(5,11,q.showContent),i.npT),i.R7$(3),i.Y8G("ngIf",q.showShortContentButton),i.R7$(),i.Y8G("ngIf",q.showSeeMoreButton&&L.offsetHeight>20*q.maxLine),i.R7$(),i.Y8G("ngIf",q.showShortContentButton&&L.offsetHeight>20*q.maxLine)}}let nt=(()=>{var ot;class gt extends f.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let q=this.commonService.removeTagHtml(this.content);if(this.maxLength&&q.length>this.maxLength)this.showContent=this.showSeeMoreButton?q.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var W=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+W+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return(ot=gt).\u0275fac=function(q){return new(q||ot)},ot.\u0275cmp=i.VBU({type:ot,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[i.Vt3,i.OA$],decls:2,vars:2,consts:[["contentElementHide",""],[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(q,W){1&q&&i.DNE(0,c,5,5,"div",1)(1,kt,9,13,"div",2),2&q&&(i.Y8G("ngIf",W.maxLength),i.R7$(),i.Y8G("ngIf",W.maxLine&&!W.maxLength))},dependencies:[t.bT,Q.wp,Q._y],encapsulation:2}),gt})()},74637:(Mt,It,l)=>{l.d(It,{E:()=>K});var f=l(48891),i=l(59640),t=l(54460),Q=l(17818),o=l(15343),e=l(76975);const c=()=>[];function u(J,Y){1&J&&(f.j41(0,"span",12),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J&&(f.R7$(),f.JRh(f.bMT(2,1,"lang_core_thang")))}function n(J,Y){if(1&J&&(f.j41(0,"span",12),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J){const V=f.XpG();f.R7$(),f.Lme("",f.bMT(2,2,"lang_core_thang")," ",V.dataFilter.monthSelected,"")}}function dt(J,Y){1&J&&(f.j41(0,"span",12),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J&&(f.R7$(),f.JRh(f.bMT(2,1,"lang_core_nam")))}function kt(J,Y){if(1&J&&(f.j41(0,"span",12),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J){const V=f.XpG();f.R7$(),f.Lme("",f.bMT(2,2,"lang_core_nam")," ",V.dataFilter.yearSelected,"")}}function nt(J,Y){1&J&&(f.j41(0,"span"),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J&&(f.R7$(),f.JRh(f.bMT(2,1,"lang_auto_tat_ca")))}function ot(J,Y){if(1&J&&(f.j41(0,"span"),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J){const V=f.XpG().index;f.R7$(),f.Lme("",f.bMT(2,2,"lang_core_thang")," ",V,"")}}function gt(J,Y){if(1&J){const V=f.RV6();f.j41(0,"li",13),f.bIt("click",function(){const _t=f.eBV(V).index,ut=f.XpG();return f.Njj(ut.selectMonth(_t))}),f.DNE(1,nt,3,3,"span",14)(2,ot,3,4,"span",14),f.k0s()}if(2&J){const V=Y.index,X=f.XpG();f.Y8G("ngClass",X.dataFilter.monthSelected==V?"color-select":""),f.R7$(),f.Y8G("ngIf",0==V),f.R7$(),f.Y8G("ngIf",V>0)}}function L(J,Y){1&J&&(f.j41(0,"span"),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J&&(f.R7$(),f.JRh(f.bMT(2,1,"lang_auto_tat_ca")))}function q(J,Y){if(1&J&&(f.j41(0,"span"),f.EFF(1),f.nI1(2,"mytranslate"),f.k0s()),2&J){const V=f.XpG().index,X=f.XpG();f.R7$(),f.Lme("",f.bMT(2,2,"lang_core_nam")," ",X.currentDate.getFullYear()-(V-1),"")}}function W(J,Y){if(1&J){const V=f.RV6();f.j41(0,"li",15),f.bIt("click",function(){const _t=f.eBV(V).index,ut=f.XpG();return f.Njj(ut.selectYear(_t))}),f.DNE(1,L,3,3,"span",14)(2,q,3,4,"span",14),f.k0s()}if(2&J){const V=Y.index,X=f.XpG();f.Y8G("ngClass",!X.dataFilter.yearSelected||X.currentDate.getFullYear()-(X.dataFilter.yearSelected-1)!=V&&0!=X.dataFilter.yearSelected?"":"color-select"),f.R7$(),f.Y8G("ngIf",0==V),f.R7$(),f.Y8G("ngIf",V>0)}}let K=(()=>{var J;class Y extends i.H{selectMonth(X){this.isApply=!0,this.dataFilter.monthSelected=X,this.sendFilter.emit(this.dataFilter)}selectYear(X){this.isApply=!0,this.dataFilter.yearSelected=X>0?this.currentDate.getFullYear()-(X-1):X,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new f.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return(J=Y).\u0275fac=function(X){return new(X||J)},J.\u0275cmp=f.VBU({type:J,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[f.Vt3],decls:22,vars:13,consts:[["filterByMonth","matMenu"],["filterByYear","matMenu"],[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"]],template:function(X,_t){if(1&X&&(f.j41(0,"div",2)(1,"div",3),f.EFF(2),f.nI1(3,"mytranslate"),f.k0s(),f.j41(4,"div",4),f.DNE(5,u,3,3,"span",5)(6,n,3,4,"span",5),f.nrm(7,"lucide-icon",6),f.k0s(),f.j41(8,"div",4),f.DNE(9,dt,3,3,"span",5)(10,kt,3,4,"span",5),f.nrm(11,"lucide-icon",6),f.k0s()(),f.j41(12,"mat-menu",7,0)(14,"div",8)(15,"ul",9),f.DNE(16,gt,3,3,"li",10),f.k0s()()(),f.j41(17,"mat-menu",7,1)(19,"div",8)(20,"ul",9),f.DNE(21,W,3,3,"li",11),f.k0s()()()),2&X){const ut=f.sdS(13),St=f.sdS(18);f.R7$(2),f.SpI(" ",f.bMT(3,9,"lang_testbank_tested_list_sort"),": "),f.R7$(2),f.Y8G("matMenuTriggerFor",ut),f.R7$(),f.Y8G("ngIf",!_t.dataFilter.monthSelected),f.R7$(),f.Y8G("ngIf",_t.dataFilter.monthSelected&&_t.dataFilter.monthSelected>0),f.R7$(2),f.Y8G("matMenuTriggerFor",St),f.R7$(),f.Y8G("ngIf",!_t.dataFilter.yearSelected),f.R7$(),f.Y8G("ngIf",_t.dataFilter.yearSelected&&_t.dataFilter.yearSelected>0),f.R7$(6),f.Y8G("ngForOf",f.lJ4(11,c).constructor(13)),f.R7$(5),f.Y8G("ngForOf",f.lJ4(12,c).constructor(10))}},dependencies:[t.YU,t.Sq,t.bT,Q.kk,Q.Cp,o.WGl,e.wp],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]}),Y})()},16583:(Mt,It,l)=>{l.d(It,{x:()=>Xe});var f=l(10936),i=l(59640),t=l(63016),Q=l(51698),o=l(82653),e=l(48891),c=l(31216),u=l(62095),n=l(50589);let dt=(()=>{var _;class y{countChecked(m){var v=0;for(var A in m)!0===m[A]&&(v+=1);return v}getDefaultFilterObj(m){var v=this.localStorageSlug+m;if(this.listFilterObjs[v])return this.listFilterObjs[v];var A=this.getInitFilterObj(),xt=this.browserStorageService.getSimpleStorage(v),Pt=this.commonService.castJsonToObj(xt??"");return Pt&&(A=Pt),A}saveFilterObj(m,v){var A=this.localStorageSlug+m;this.listFilterObjs[A]=v,this.browserStorageService.saveSimpleStorage(A,this.commonService.serializeJson(v))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(m,v){this.commonService=m,this.browserStorageService=v,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return(_=y).\u0275fac=function(m){return new(m||_)(e.KVO(u.R),e.KVO(n.z))},_.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),y})();var kt=l(51913),nt=l(54460),ot=l(47712),gt=l(15343),L=l(18718),q=l(66729),W=l(17818),K=l(76975);const J=()=>({"mr-2":!0});function Y(_,y){if(1&_&&(e.j41(0,"span"),e.EFF(1," \xa0 "),e.j41(2,"span",20),e.EFF(3),e.k0s()()),2&_){const g=e.XpG();e.R7$(3),e.JRh(g.totalCustomFilter)}}function V(_,y){if(1&_){const g=e.RV6();e.j41(0,"li")(1,"label",21),e.bIt("click",function(v){return e.eBV(g),e.Njj(v.stopPropagation())}),e.EFF(2),e.nI1(3,"mytranslate"),e.j41(4,"div",9)(5,"input",22),e.bIt("change",function(){e.eBV(g);const v=e.XpG();return v.filterObj.getResendAnswer=!v.filterObj.getResendAnswer,e.Njj(v.changeFilter())}),e.k0s()()()()}if(2&_){const g=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.R7$(3),e.Y8G("checked",g.filterObj.getResendAnswer)}}let X=(()=>{var _;class y extends i.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(m){super(),this.studentProfileFilterService=m,this.filterType="",this.changeFilterEvent=new e.bkB,this.totalCustomFilter=0}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(dt))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.Vt3],decls:40,vars:26,consts:[["filterMenu","matMenu"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"]],template:function(m,v){if(1&m){const A=e.RV6();e.j41(0,"button",1),e.nrm(1,"lucide-icon",2),e.j41(2,"span",3),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,Y,4,1,"span",4),e.k0s()(),e.j41(6,"mat-menu",5,0)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),e.bIt("click",function(Pt){return e.eBV(A),e.Njj(Pt.stopPropagation())}),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"div",9)(15,"input",10),e.bIt("change",function(){return e.eBV(A),v.filterObj.getHasMark=!v.filterObj.getHasMark,e.Njj(v.changeFilter())}),e.k0s()()()(),e.j41(16,"li")(17,"label",11),e.bIt("click",function(Pt){return e.eBV(A),e.Njj(Pt.stopPropagation())}),e.EFF(18),e.nI1(19,"mytranslate"),e.j41(20,"div",9)(21,"input",12),e.bIt("change",function(){return e.eBV(A),v.filterObj.getNotMarked=!v.filterObj.getNotMarked,e.Njj(v.changeFilter())}),e.k0s()()()(),e.j41(22,"li")(23,"label",13),e.bIt("click",function(Pt){return e.eBV(A),e.Njj(Pt.stopPropagation())}),e.EFF(24),e.nI1(25,"mytranslate"),e.j41(26,"div",9)(27,"input",14),e.bIt("change",function(){return e.eBV(A),v.filterObj.getNotDone=!v.filterObj.getNotDone,e.Njj(v.changeFilter())}),e.k0s()()()(),e.DNE(28,V,6,4,"li",4),e.j41(29,"li"),e.nrm(30,"hr",15),e.k0s(),e.j41(31,"li")(32,"div",16)(33,"button",17),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",18),e.bIt("click",function(Pt){return e.eBV(A),e.Njj(Pt.stopPropagation())}),e.j41(37,"button",19),e.bIt("click",function(){return e.eBV(A),e.Njj(v.clearFilter())}),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()()()()()()()}if(2&m){const A=e.sdS(7);e.Y8G("matMenuTriggerFor",A),e.R7$(),e.Y8G("ngClass",e.lJ4(25,J)),e.R7$(2),e.SpI(" ",e.bMT(4,13,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",v.totalCustomFilter>0),e.R7$(7),e.SpI(" ",e.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),e.R7$(3),e.Y8G("checked",v.filterObj.getHasMark),e.R7$(3),e.SpI(" ",e.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),e.R7$(3),e.Y8G("checked",v.filterObj.getNotMarked),e.R7$(3),e.SpI(" ",e.bMT(25,19,"exam"==v.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.R7$(3),e.Y8G("checked",v.filterObj.getNotDone),e.R7$(),e.Y8G("ngIf","homework"==v.filterType),e.R7$(6),e.JRh(e.bMT(35,21,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(39,23,"lang_button_delete"))}},dependencies:[nt.YU,nt.bT,W.kk,W.Cp,gt.WGl,K.wp],encapsulation:2}),y})();const _t=()=>({"text-pending":!0}),ut=_=>({truncate:_}),St=()=>({"max-width":"85%"}),st=()=>({});function Ft(_,y){if(1&_&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&_){const g=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",g.resultMarkObj.point)}}function zt(_,y){1&_&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function H(_,y){if(1&_&&(e.qex(0),e.DNE(1,Ft,4,4,"span",13)(2,zt,3,3,"span",16),e.bVm()),2&_){const g=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",g.resultMarkObj.confirmedAt),e.R7$(),e.Y8G("ngIf",!g.resultMarkObj.confirmedAt)}}function jt(_,y){1&_&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function lt(_,y){if(1&_){const g=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const v=e.eBV(g).$implicit,A=e.XpG();return e.Njj(A.clickToExamObj(v))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,H,3,2,"ng-container",13)(8,jt,3,3,"span",14),e.k0s(),e.j41(9,"div",15),e.EFF(10),e.nI1(11,"mytranslate"),e.nI1(12,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&_){const g=y.$implicit,m=y.index,v=e.XpG();e.ZvI("clickable zoom-in flex items-center ",m>0?"mt-3":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(17,_t)),e.R7$(2),e.FS9("matTooltip",g.name),e.Y8G("ngClass",e.eq3(18,ut,!v.isMobileDevice))("ngStyle",v.isMobileDevice?e.lJ4(21,st):e.lJ4(20,St)),e.R7$(),e.Lme("",m+1,". ",g.name,""),e.R7$(2),e.Y8G("ngIf",g.resultMarkObj),e.R7$(),e.Y8G("ngIf",!g.resultMarkObj),e.R7$(2),e.Lme("",e.bMT(11,13,"lang_student_profile_utils_list_exam_created_at"),": ",e.bMT(12,15,g.createdAt),"")}}function et(_,y){1&_&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_list_null")))}function bt(_,y){if(1&_&&e.nrm(0,"azt-loading-effect",25),2&_){const g=e.XpG(2);e.Y8G("currentStatusObj",g.statusObj)}}function yt(_,y){if(1&_){const g=e.RV6();e.j41(0,"div",21),e.DNE(1,bt,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.nI1(3,"mytranslate"),e.bIt("click",function(){e.eBV(g);const v=e.XpG();return e.Njj(v.getNextExamResultObjs())}),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&_){const g=e.XpG();e.R7$(),e.Y8G("ngIf",g.statusObj.loading),e.R7$(),e.FS9("matTooltip",e.bMT(3,2,"lang_student_profile_utils_list_exam_tooltip_view"))}}let rt=(()=>{var _;class y extends i.H{clickToExamObj(m){this.isTeacher?m.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",m)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+m.id+"/"+m.resultMarkObj?.userId+"/"+m.resultMarkObj?.studentId+"/"+(m.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(m.categoryId??0)+"/"+m.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(m.resultMarkObj?.resultId?"/test/answer-test/"+m.resultMarkObj?.userId+"/0/"+m.hashId+"/"+(m.resultMarkObj?.resultId??0):"/de-thi/"+m.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.getNextExamResultObjs()}getNextExamResultObjs(){if(!this.isTqbDomain){this.initStatusObj();const v=this.buildFilterObj(this.classroomId,this.studentId,this.currentNextPage);return void this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(v).subscribe(A=>{if(!A.success)return this.errorStatusObj(A.message,!0);this.examObjs=this.examObjs.concat(A.data?.objs??[]),this.currentNextPage=A.data?.nextPage,this.hasNextPage=!!this.currentNextPage,this.stopStatusObj()})}this.initStatusObj();const m=this.classroomList.map(v=>{let A=this.classroomIdToNextPages.get(v.id.toString());if(A==this.endPageStr)return(0,t.of)({errorMessage:void 0,nextPage:void 0,classroomObj:v,examResultObjs:[]});const xt=this.buildFilterObj(v.id,v.studentId,A);return new Q.c(Pt=>{this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(xt).subscribe(qt=>{if(!qt.success)return Pt.next({errorMessage:qt.message,nextPage:qt.data?.nextPage,classroomObj:v,examResultObjs:[]}),void Pt.complete();Pt.next({errorMessage:void 0,nextPage:qt.data?.nextPage,classroomObj:v,examResultObjs:qt.data?.objs??[]}),Pt.complete()})})});(0,o.p)(m).subscribe(v=>{let A=this.commonService.getFirstOfArray(v.filter(xt=>xt?.errorMessage).map(xt=>xt?.errorMessage));if(A)return this.errorStatusObj(A,!0);this.handleExamResultResponses(v),this.successStatusObj()})}buildFilterObj(m,v,A){const xt=this.studentProfileFilterService.getDefaultFilterObj("exam");return xt.classroomId=m,xt.studentId=v,xt.nextPage=A,xt}handleExamResultResponses(m){m.forEach(v=>{this.classroomIdToNextPages.set(v.classroomObj.id.toString(),v.nextPage?v.nextPage:this.endPageStr),this.examObjs=this.examObjs.concat(v.examResultObjs),this.hasNextPage=Array.from(this.classroomIdToNextPages.values()).some(A=>A!=this.endPageStr)})}ngOnInit(){this.getNextExamResultObjs()}constructor(m,v,A){super(),this.studentProfileV2Service=m,this.studentProfileFilterService=v,this.permissionService=A,this.backToLink="",this.isTeacher=!0,this.classroomList=[],this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.endPageStr="END_PAGE"}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(c.m_),e.rXU(dt),e.rXU(kt.p))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher",classroomList:"classroomList"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","file-check","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"font-medium",3,"ngClass","ngStyle","matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",3,"click","matTooltip"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(m,v){1&m&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return v.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,lt,13,22,"div",4)(7,et,3,3,"div",5)(8,yt,5,4,"div",6),e.k0s()),2&m&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.R7$(2),e.Y8G("filterType","exam"),e.R7$(2),e.Y8G("ngForOf",v.examObjs),e.R7$(),e.Y8G("ngIf",0==v.examObjs.length&&!v.hasNextPage),e.R7$(),e.Y8G("ngIf",v.examObjs.length>0&&v.hasNextPage))},dependencies:[nt.YU,nt.Sq,nt.bT,nt.B3,ot.oV,gt.WGl,L.K,q.D,X,K.wp,K.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),y})();var ft=l(47426),mt=l(95670),it=l(4375),at=l(44233),Tt=l(89163),Dt=l(33887),U=l(2915),R=l(52811);function N(_,y){1&_&&e.nrm(0,"azt-loading-ui",11)}let j=(()=>{var _;class y extends Dt._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(m=>{1==m.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(m.message??"",!0))}))}btnCloseDialog(m){this.dialogRef.close(m)}constructor(m,v,A){super(A,v),this.studentService=m,this.dialogRef=v,this.data=A,this.studentObj=A.studentObj,this.classroomObj=A.classroomObj}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(c.b0),e.rXU(Tt.CP,8),e.rXU(Tt.Vh,8))},_.\u0275cmp=e.VBU({type:_,selectors:[["app-delete-parent"]],features:[e.Vt3],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(m,v){1&m&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"span",5),e.EFF(12),e.k0s(),e.EFF(13,"\xa0 "),e.j41(14,"span",6),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()(),e.j41(17,"div",7)(18,"button",8),e.bIt("click",function(){return v.btnCloseDialog(!1)}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",9),e.bIt("click",function(){return v.confirmDelete()}),e.DNE(22,N,1,0,"azt-loading-ui",10),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()),2&m&&(e.R7$(5),e.SpI(" ",e.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.R7$(3),e.JRh(v.studentObj.fullName),e.R7$(),e.SpI(" ",e.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.R7$(2),e.FS9("matTooltip",v.classroomObj.name),e.R7$(),e.SpI(" ",v.classroomObj.name,""),e.R7$(3),e.SpI("* ",e.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),e.R7$(4),e.SpI(" ",e.bMT(20,15,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",v.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[nt.bT,ot.oV,U.U,R.R,K.wp],encapsulation:2}),y})();var G=l(14999),ct=l(46723),Et=l(46899),At=l(5800);const Vt=_=>({"pb-5":_}),Ht=()=>[],Xt=()=>({" mr-2 text-primary":!0}),Qt=()=>({" mr-2 text-danger":!0}),ee=()=>({" mr-2 text-warning":!0});function ne(_,y){if(1&_&&e.nrm(0,"azt-loading-effect",4),2&_){const g=e.XpG();e.Y8G("currentStatusObj",g.statusObj)}}function oe(_,y){if(1&_){const g=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(g);const v=e.XpG(4);return e.Njj(v.editStudentDialog(v.studentObj))}),e.nrm(1,"lucide-icon",16),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Xt)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_button_edit")," "))}function ie(_,y){if(1&_){const g=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(g);const v=e.XpG(4);return e.Njj(v.deleteStudentDialog(v.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Qt)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function ae(_,y){if(1&_){const g=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(g);const v=e.XpG(4);return e.Njj(v.deleteParentOfStudentDialog(v.studentObj))}),e.nrm(1,"lucide-icon",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,ee)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function se(_,y){if(1&_&&(e.j41(0,"div",11),e.DNE(1,oe,4,5,"button",12),e.nI1(2,"editPermission"),e.DNE(3,ie,4,5,"button",13),e.nI1(4,"fullPermission"),e.nI1(5,"editPermission"),e.DNE(6,ae,4,5,"button",14),e.nI1(7,"editPermission"),e.k0s()),2&_){const g=e.XpG(3);e.R7$(),e.Y8G("ngIf",e.i5U(2,3,g.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",e.i5U(4,6,g.classroomObj,"student")||e.i5U(5,9,g.classroomObj,"student")),e.R7$(3),e.Y8G("ngIf",0!=g.studentObj.parentId&&e.i5U(7,12,g.classroomObj,"student"))}}function re(_,y){if(1&_){const g=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(g);const v=e.XpG(4);return e.Njj(v.deleteStudentDialog(v.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Qt)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function D(_,y){if(1&_){const g=e.RV6();e.j41(0,"div",11)(1,"button",21),e.bIt("click",function(){e.eBV(g);const v=e.XpG(3);return e.Njj(v.editStudentDialog(v.studentObj))}),e.nrm(2,"lucide-icon",16),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,re,4,5,"button",22),e.nI1(6,"fullPermission"),e.nI1(7,"editPermission"),e.k0s()}if(2&_){const g=e.XpG(3);e.R7$(2),e.Y8G("ngClass",e.lJ4(11,Xt)),e.R7$(),e.SpI(" ",e.bMT(4,3,"lang_button_edit")," "),e.R7$(2),e.Y8G("ngIf",e.i5U(6,5,g.classroomObj,"student")||e.i5U(7,8,g.classroomObj,"student"))}}function pt(_,y){if(1&_&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"azt-student-info-box",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,se,8,15,"div",10),e.nI1(6,"editPermission"),e.DNE(7,D,8,12,"div",10),e.nI1(8,"editPermission"),e.k0s()(),e.bVm()),2&_){let g;const m=e.XpG(2);e.R7$(3),e.Y8G("name",m.studentObj.fullName)("parentFullName",m.studentObj.parentFullName)("parentUserName",m.studentObj.parentUserName)("parentId",m.studentObj.parentId)("parentPhone",m.studentObj.parentPhone)("phone",m.studentObj.phone)("email",m.studentObj.email)("birthday",m.studentObj.birthday)("avatar",m.studentObj.avatar)("gender",m.studentObj.gender)("schoolName",null==m.studentObj.moreInfo?null:m.studentObj.moreInfo.schoolName)("facebookLink",null==m.studentObj.moreInfo?null:m.studentObj.moreInfo.facebookLink)("identificationNumber",m.studentObj.identificationNumber)("hasUser",1==m.studentObj.isVerified)("classrooms",null!==(g=null==m.studentObj.moreInfo?null:m.studentObj.moreInfo.classrooms)&&void 0!==g?g:e.lJ4(24,Ht))("joinedAt",null==m.studentObj.moreInfo?null:m.studentObj.moreInfo.joinedAt),e.R7$(2),e.Y8G("ngIf",m.isTeacher&&0!=m.studentObj.parentId&&e.i5U(6,18,m.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",m.isTeacher&&0==m.studentObj.parentId&&e.i5U(8,21,m.classroomObj,"student"))}}function M(_,y){1&_&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&_&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_profile_student_not_found")))}function F(_,y){if(1&_&&e.DNE(0,pt,9,25,"ng-container",5)(1,M,4,3,"ng-template",null,1,e.C5r),2&_){const g=e.sdS(2),m=e.XpG();e.Y8G("ngIf",m.studentObj)("ngIfElse",g)}}let P=(()=>{var _;class y extends i.H{deleteStudentDialog(m){this.sAztDialogService.open(G.d,{data:{studentObj:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(A=>{A&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(m){this.sAztDialogService.open(ct.B,{data:{studentObj:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(A=>{A&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(m){this.sAztDialogService.open(j,{data:{studentObj:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(A=>{A&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(m){super(),this.sAztDialogService=m,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.bkB}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(Et.i))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:5,consts:[["doneLoading",""],["noStudentObj",""],[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","phone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(m,v){if(1&m&&(e.j41(0,"div",2),e.DNE(1,ne,1,1,"azt-loading-effect",3)(2,F,3,2,"ng-template",null,0,e.C5r),e.k0s()),2&m){const A=e.sdS(3);e.Y8G("ngClass",e.eq3(3,Vt,!v.studentObj)),e.R7$(),e.Y8G("ngIf",v.statusObj.loading)("ngIfElse",A)}},dependencies:[nt.YU,nt.bT,gt.WGl,L.K,At.B,K.wp,K.gC,K.FV],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),y})();var Ct=l(71703),Rt=l(95624),Nt=l(67081);function Ut(_,y){1&_&&(e.j41(0,"p",13),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_business_diem_tong_ket")))}function Wt(_,y){if(1&_){const g=e.RV6();e.j41(0,"a",14),e.bIt("click",function(){e.eBV(g);const v=e.XpG();return e.Njj(v.showTotalPointDetail())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.SpI("(",e.bMT(2,1,"lang_auto_xem_chi_tiet"),")"))}function Yt(_,y){if(1&_&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&_){const g=e.XpG();e.R7$(),e.JRh(g.avgPoint)}}function _e(_,y){if(1&_&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&_){let g;const m=e.XpG();e.R7$(),e.JRh(e.i5U(2,1,(null!==(g=null==m.attendanceObj?null:m.attendanceObj.averageMark)&&void 0!==g?g:0)/m.classroomList.length,"1.2-2"))}}function me(_,y){if(1&_&&(e.j41(0,"div",2),e.nrm(1,"azt-attendance-table",16),e.k0s()),2&_){const g=e.XpG();e.R7$(),e.Y8G("classroomIds",g.classroomIds)}}let de=(()=>{var _;class y extends i.H{showTotalPointDetail(){this.sAztDialogService.open(Ct.V,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(m=>{this.getInfoAttendance()})}getInfoAttendance(){if(this.initStatusObj(),this.isTqbDomain){const m=this.classroomList.map(v=>this.studentService.apiStudentsStudentIdProfileGet(v.studentId,v.id));this.wrapApiResponse((0,o.p)(m)).subscribe(v=>{if(!v.success)return this.errorStatusObj(v.message,!0);v.data?.forEach(A=>{if(!A)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.updateAttendanceObj(A)}),this.successStatusObj()})}else this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId)).subscribe(m=>{if(!m.success||!m.data)return this.errorStatusObj(m.message,!0);this.attendanceObj=m.data,this.studentObj=m.data.student,this.avgPoint=this.studentObj?.averageMark??0,this.successStatusObj()}))}updateAttendanceObj(m){this.attendanceObj={averageMark:(this.attendanceObj?.averageMark??0)+(m.student?.averageMark??0),totalAttend:(this.attendanceObj?.totalAttend??0)+(m?.totalAttend??0),totalAbsence:(this.attendanceObj?.totalAbsence??0)+(m?.totalAbsence??0),totalAbsentPermission:(this.attendanceObj?.totalAbsentPermission??0)+(m?.totalAbsentPermission??0),totalAbsentWithoutPermission:(this.attendanceObj?.totalAbsentWithoutPermission??0)+(m?.totalAbsentWithoutPermission??0),totalReceivedBook:(this.attendanceObj?.totalReceivedBook??0)+(m?.totalReceivedBook??0),totalReceivedDoc:(this.attendanceObj?.totalReceivedDoc??0)+(m?.totalReceivedDoc??0)}}ngOnChanges(){this.getInfoAttendance(),this.classroomIds=this.classroomList.map(m=>m.id)}ngOnInit(){super.ngOnInit()}constructor(m,v){super(),this.studentService=m,this.sAztDialogService=v,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.classroomList=[],this.avgPoint=0,this.classroomIds=[]}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(Rt.b0),e.rXU(Et.i))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole",classroomList:"classroomList"},features:[e.Vt3,e.OA$],decls:16,vars:8,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],["class","mb-3 text-base font-medium",4,"ngIf"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],["class","ml-2 link__hover link__color",3,"click",4,"ngIf"],["class","text-2xl text-primary font-medium",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mb-3","text-base","font-medium"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[3,"classroomIds"]],template:function(m,v){1&m&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,Ut,3,3,"p",3),e.j41(4,"div",4)(5,"div",5)(6,"button",6)(7,"div",7),e.nrm(8,"lucide-icon",8),e.k0s()(),e.j41(9,"div",9),e.EFF(10),e.nI1(11,"mytranslate"),e.DNE(12,Wt,3,3,"a",10),e.k0s(),e.DNE(13,Yt,2,1,"div",11)(14,_e,3,4,"div",11),e.k0s()()(),e.DNE(15,me,2,1,"div",12),e.k0s()()),2&m&&(e.R7$(3),e.Y8G("ngIf",v.isTqbDomain),e.R7$(7),e.SpI(" ",e.bMT(11,6,"lang_business_diem_tong_ket")," "),e.R7$(2),e.Y8G("ngIf",!v.isTqbDomain),e.R7$(),e.Y8G("ngIf",!v.isTqbDomain),e.R7$(),e.Y8G("ngIf",v.isTqbDomain),e.R7$(),e.Y8G("ngIf",v.isTqbDomain))},dependencies:[nt.bT,gt.WGl,Nt.X,nt.QX,K.wp],encapsulation:2}),y})();var Zt=l(10123);function ue(_,y){if(1&_&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()),2&_){const g=y.$implicit,m=y.index;e.R7$(2),e.JRh(m+1),e.R7$(2),e.JRh(g.bookName),e.R7$(2),e.JRh(e.bMT(7,3,g.createdAt))}}function pe(_,y){if(1&_&&(e.qex(0),e.DNE(1,ue,8,5,"tr",9),e.bVm()),2&_){const g=e.XpG();e.R7$(),e.Y8G("ngForOf",g.bookDistributionList)}}function ge(_,y){1&_&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let T=(()=>{var _;class y extends i.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(m=>{m?(this.bookDistributionList=m.list,this.totalBookDistribution=m.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(m){super(),this.studentService=m,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(Rt.b0))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[["noDistribution",""],[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(m,v){if(1&m&&(e.j41(0,"div",1)(1,"span",2),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()(),e.j41(4,"div",3)(5,"drag-scroll")(6,"table",4)(7,"thead",5)(8,"tr")(9,"th",6),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",7),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",7),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,pe,2,1,"ng-container",8)(20,ge,4,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&m){const A=e.sdS(21);e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_student_total")+": "+v.totalBookDistribution," "),e.R7$(8),e.SpI(" ",e.bMT(11,8,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_core_ten_sach")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_auto_thoi_gian")," "),e.R7$(3),e.Y8G("ngIf",v.bookDistributionList.length)("ngIfElse",A)}},dependencies:[nt.Sq,nt.bT,Zt.jd,Zt.Ew,K.wp,K.bH],encapsulation:2}),y})();var tt=l(23047),I=l(9280),x=l(9691),E=l(91071),w=l(19258),ht=l(10805);const wt=_=>({"width.%":_}),$t=_=>({"border-none":_}),Lt=(_,y,g,m)=>({"bg-orange-600":_,"bg-red-600":y,"bg-green-600":g,"bg-blue-600":m});function Bt(_,y){if(1&_&&e.nrm(0,"azt-loading-effect",5),2&_){const g=e.XpG();e.Y8G("currentStatusObj",g.statusObj)}}function fe(_,y){if(1&_&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&_){const g=e.XpG(3).$implicit;e.R7$(),e.JRh(g.averageMark)}}function le(_,y){if(1&_&&(e.j41(0,"div",24),e.DNE(1,fe,2,1,"span",25),e.k0s()),2&_){const g=e.XpG(2).$implicit;e.Y8G("ngStyle",e.eq3(2,wt,10*g.averageMark)),e.R7$(),e.Y8G("ngIf",g.averageMark&&g.averageMark>1)}}function b(_,y){if(1&_&&(e.j41(0,"div",17)(1,"div",18)(2,"span",19),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",20),e.EFF(6,"0"),e.k0s(),e.j41(7,"div",21),e.DNE(8,le,2,4,"div",22),e.k0s(),e.j41(9,"span",23),e.EFF(10,"10"),e.k0s()()()),2&_){const g=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_diem_trung_binh")),e.R7$(5),e.Y8G("ngIf",g.averageMark)}}function B(_,y){1&_&&(e.j41(0,"div",27)(1,"span",28),e.nrm(2,"azt-loading-ui"),e.k0s()())}function O(_,y){1&_&&(e.qex(0),e.j41(1,"div",30)(2,"span",31),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&_&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_profile_student_not_support_subject")))}function h(_,y){if(1&_&&e.nrm(0,"coazt-student-skill-chapter",40),2&_){const g=e.XpG(3).$implicit,m=e.XpG(2);e.Y8G("levelId",g.levelId)("subjectId",g.subjectId)("userId",m.studentObj.parentId)}}function p(_,y){if(1&_&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&_){const g=e.XpG(2).$implicit;e.R7$(),e.JRh(g.averageMark)}}function z(_,y){if(1&_&&(e.j41(0,"div",53),e.DNE(1,p,2,1,"span",25),e.k0s()),2&_){const g=e.XpG().$implicit;e.Y8G("ngClass",e.ziG(3,Lt,1==g.id,3==g.id,2==g.id,4==g.id))("ngStyle",e.eq3(8,wt,10*g.averageMark)),e.R7$(),e.Y8G("ngIf",g.averageMark>1)}}function Gt(_,y){if(1&_&&(e.j41(0,"div",43)(1,"div",44)(2,"div",45)(3,"h3",46),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",47)(7,"h3",46),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12," / "),e.j41(13,"b"),e.EFF(14),e.k0s(),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",48)(18,"div",49)(19,"span",50),e.EFF(20,"0"),e.k0s(),e.j41(21,"div",51),e.DNE(22,z,2,10,"div",52),e.k0s(),e.j41(23,"span",23),e.EFF(24,"10"),e.k0s()()()()()),2&_){const g=y.$implicit;e.Y8G("ngClass",e.eq3(13,$t,y.last)),e.R7$(4),e.SpI(" ",e.bMT(5,7,g.name)," "),e.R7$(4),e.SpI(" ",e.bMT(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),e.R7$(3),e.JRh(g.totalCorrectQuestion),e.R7$(3),e.JRh(g.totalQuestion),e.R7$(),e.SpI(" \xa0",e.bMT(16,11,"azt_lang_sugg_question")," "),e.R7$(7),e.Y8G("ngIf",g.averageMark)}}function Jt(_,y){if(1&_&&(e.qex(0),e.j41(1,"div",41)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,Gt,25,15,"div",42),e.bVm()),2&_){const g=e.XpG(3).$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.R7$(2),e.Y8G("ngForOf",g.difficultyDataObjs)}}function ve(_,y){if(1&_&&(e.DNE(0,h,1,3,"coazt-student-skill-chapter",32),e.j41(1,"div",33)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",35)(6,"div",36)(7,"div",37),e.nrm(8,"div",38),e.k0s()()(),e.DNE(9,Jt,6,4,"ng-container",39)),2&_){const g=e.XpG(2).$implicit,m=e.XpG(2);e.Y8G("ngIf",!m.isTqbDomain),e.R7$(3),e.SpI(" ",e.bMT(4,4,"lang_student_profile_exam_point_by_time")," "),e.R7$(5),e.Y8G("chart",g.chart),e.R7$(),e.Y8G("ngIf",g.difficultyDataObjs&&g.difficultyDataObjs.length&&!m.isTqbDomain)}}function ce(_,y){if(1&_&&e.DNE(0,O,5,3,"ng-container",29)(1,ve,10,6,"ng-template",null,2,e.C5r),2&_){const g=e.sdS(2),m=e.XpG().$implicit;e.Y8G("ngIf",m.errorGetData)("ngIfElse",g)}}function be(_,y){if(1&_){const g=e.RV6();e.qex(0),e.j41(1,"mat-expansion-panel",10),e.bIt("opened",function(){const v=e.eBV(g).index,A=e.XpG(2);return e.Njj(A.getStatisticalById(v))}),e.j41(2,"mat-expansion-panel-header",11)(3,"div",12)(4,"div",13)(5,"h3",14),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,b,11,4,"div",15),e.k0s()(),e.DNE(10,B,3,0,"div",16)(11,ce,3,2,"ng-template",null,1,e.C5r),e.k0s(),e.bVm()}if(2&_){const g=y.$implicit,m=e.sdS(12),v=e.XpG(2);e.R7$(6),e.Lme("",e.bMT(7,5,g.subjectName)," ","("+e.bMT(8,7,g.levelName)+")",""),e.R7$(3),e.Y8G("ngIf",!v.isTqbDomain),e.R7$(),e.Y8G("ngIf",g.isLoading)("ngIfElse",m)}}function he(_,y){if(1&_&&(e.j41(0,"div",6)(1,"div",7)(2,"mat-accordion",8),e.DNE(3,be,13,9,"ng-container",9),e.k0s()()()),2&_){const g=e.XpG();e.R7$(3),e.Y8G("ngForOf",g.levelSubjectObjs)}}let Ce=(()=>{var _;class y extends i.H{getStatisticalById(m){this.studentObj&&this.levelSubjectObjs.length&&this.levelSubjectObjs[m]&&(this.levelSubjectObjs[m].isLoading=!0,this.levelSubjectObjs[m].errorGetData=!1,this.wrapApiResponse(this.studentService.apiStudentsStudentIdFieldGet(this.studentObj.id,this.levelSubjectObjs[m].levelId??0,this.levelSubjectObjs[m].subjectId??0)).subscribe(v=>(this.levelSubjectObjs[m].isLoading=!1,this.levelSubjectObjs[m].errorGetData=!0,v.success?v.data?(this.levelSubjectObjs[m].difficultyDataObjs=v.data.difficulty??[],this.levelSubjectObjs[m].knowledgeDataObjs=v.data.knowledge??[],void(this.levelSubjectObjs[m].chart=this.createChart(v.data.examResults??[]))):this.stopStatusObj():this.errorStatusObj(v.message,!0))))}createChart(m){let v=this.commonService.myTranslateInstant("lang_auto_Diem")??"",A=[],xt=[];return m.forEach(qt=>{A.push(qt.mark??0),xt.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(qt.createdAt))}),new tt.t1({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:"",useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:xt},yAxis:{title:{text:v}},series:[{name:v,type:"line",data:A}]})}getDataSubject(){this.studentObj&&(this.initStatusObj(),this.isBusinessDomain?this.wrapApiResponse(this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentObj.id)).subscribe(m=>{if(!m.success)return this.errorStatusObj(m.message,!0);this.levelSubjectObjs=m.data?.list??[],this.getStatisticalById(0),this.stopStatusObj()}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentObj.id).subscribe(m=>{if(!m.success||!m.data)return this.errorStatusObj(m.message,!0);this.levelSubjectObjs=m.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(m,v,A,xt){super(),this.examPageResultService=m,this.studentService=v,this.sAztTimeService=A,this.studentPracticeService=xt,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.bkB,this.levelSubjectObjs=[]}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(I.TE),e.rXU(Rt.b0),e.rXU(x.F),e.rXU(E.Kw))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentObj:"studentObj",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:2,consts:[["doneLoading",""],["doneLoadingPage",""],["hasData",""],[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],["class","col-span-12 lg:col-span-9 text-center",4,"ngIf"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[3,"levelId","subjectId","userId",4,"ngIf"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[3,"levelId","subjectId","userId"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(m,v){if(1&m&&(e.j41(0,"div",3),e.DNE(1,Bt,1,1,"azt-loading-effect",4)(2,he,4,1,"ng-template",null,0,e.C5r),e.k0s()),2&m){const A=e.sdS(3);e.R7$(),e.Y8G("ngIf",v.statusObj.loading)("ngIfElse",A)}},dependencies:[nt.YU,nt.Sq,nt.bT,nt.B3,w.BS,w.GK,w.Z2,tt.S6,L.K,R.R,ht.g,K.wp],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),y})();function Ie(_,y){1&_&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Se(_,y){if(1&_&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td",11)(9,"span",12),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&_){let g;const m=y.$implicit,v=y.index;e.R7$(2),e.JRh(v+1),e.R7$(2),e.JRh(e.bMT(5,4,null!==(g=m.updatedAt)&&void 0!==g?g:m.createdAt)),e.R7$(3),e.JRh(m.month+"/"+m.year),e.R7$(3),e.SpI(" ",e.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function je(_,y){if(1&_&&(e.qex(0),e.DNE(1,Se,12,8,"tr",10),e.bVm()),2&_){const g=e.XpG();e.R7$(),e.Y8G("ngForOf",g.historyTuitionFeeList)}}function Te(_,y){1&_&&(e.j41(0,"tr")(1,"td",13),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let ke=(()=>{var _;class y extends i.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(m=>{m?this.historyTuitionFeeList=m.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(m){super(),this.paymentService=m,this.studentId=0,this.historyTuitionFeeList=[]}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(Rt.WG))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:23,vars:15,consts:[["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(m,v){if(1&m&&(e.j41(0,"div",1),e.DNE(1,Ie,3,3,"div",2),e.j41(2,"div",3)(3,"drag-scroll")(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"th",7),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"th",7),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"th",8),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,je,2,1,"ng-container",9)(21,Te,4,3,"ng-template",null,0,e.C5r),e.k0s()()()()()),2&m){const A=e.sdS(22);e.R7$(),e.Y8G("ngIf",v.isMobileDevice||v.isMobileWebView),e.R7$(7),e.SpI(" ",e.bMT(9,7,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(12,9,"lang_student_payment_time")," "),e.R7$(3),e.SpI(" ",e.bMT(15,11,"lang_student_monthly_tuition_fee")," "),e.R7$(3),e.SpI(" ",e.bMT(18,13,"lang_student_status")," "),e.R7$(3),e.Y8G("ngIf",v.historyTuitionFeeList.length)("ngIfElse",A)}},dependencies:[nt.Sq,nt.bT,Zt.jd,Zt.Ew,K.wp,K.bH],encapsulation:2}),y})();const xe=()=>({"text-primary":!0});function Oe(_,y){if(1&_&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&_){const g=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",g.resultMarkObj.point)}}function Ee(_,y){1&_&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function ye(_,y){if(1&_&&(e.j41(0,"span"),e.DNE(1,Oe,4,4,"span",13)(2,Ee,3,3,"span",16),e.k0s()),2&_){const g=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",g.resultMarkObj.confirmedAt),e.R7$(),e.Y8G("ngIf",!g.resultMarkObj.confirmedAt)}}function Re(_,y){1&_&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_student_profile_no_result")," "))}function we(_,y){if(1&_&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_){const g=e.XpG().$implicit;e.R7$(),e.Lme("",e.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",g.resendAnswerObj.resendNote,"")}}function Fe(_,y){if(1&_){const g=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const v=e.eBV(g).$implicit,A=e.XpG();return e.Njj(A.clickToHomeworkObj(v))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,ye,3,2,"span",13)(8,Re,3,3,"span",14)(9,we,3,4,"span",14),e.k0s(),e.j41(10,"div",15),e.EFF(11),e.nI1(12,"mytranslate"),e.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&_){const g=y.$implicit,m=y.index;e.ZvI("clickable zoom-in flex items-center ",m>0?"mt-5":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(16,xe)),e.R7$(2),e.FS9("matTooltip",g.name),e.R7$(),e.Lme("",m+1,". ",g.name,""),e.R7$(2),e.Y8G("ngIf",g.resultMarkObj),e.R7$(),e.Y8G("ngIf",!g.resultMarkObj&&!g.resendAnswerObj),e.R7$(),e.Y8G("ngIf",!g.resultMarkObj&&g.resendAnswerObj),e.R7$(2),e.Lme("",e.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",e.bMT(13,14,g.createdAt),"")}}function De(_,y){1&_&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_list_null")))}function Pe(_,y){if(1&_&&e.nrm(0,"azt-loading-effect",25),2&_){const g=e.XpG(2);e.Y8G("currentStatusObj",g.statusObj)}}function Me(_,y){if(1&_){const g=e.RV6();e.j41(0,"div",21),e.DNE(1,Pe,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.nI1(3,"mytranslate"),e.bIt("click",function(){e.eBV(g);const v=e.XpG();return e.Njj(v.getNextHomeworkAnswerObjs())}),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&_){const g=e.XpG();e.R7$(),e.Y8G("ngIf",g.statusObj.loading),e.R7$(),e.FS9("matTooltip",e.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Y8G("disabled",!g.homeworkNextPage)}}let ze=(()=>{var _;class y extends i.H{clickToHomeworkObj(m){this.isTeacher?m.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",m)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+m.resultMarkObj?.resultId+"/"+m.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(m.classroomId??0)+"/"+m.id+"/"+m.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(m.resultMarkObj?.resultId?"/homework/switch-view-homework/"+m.resultMarkObj?.resultId+"/"+m.hashId:"/bai-tap/"+m.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var m=this.studentProfileFilterService.getDefaultFilterObj("homework");m.classroomId=this.classroomId,m.studentId=this.studentId,m.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(m).subscribe(v=>{1==v.success?(this.homeworkObjs=this.homeworkObjs.concat(v.data?.objs??[]),this.homeworkNextPage=v.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(m,v,A){super(),this.studentProfileV2Service=m,this.studentProfileFilterService=v,this.permissionService=A,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(c.m_),e.rXU(dt),e.rXU(kt.p))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(m,v){1&m&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return v.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Fe,14,17,"div",4)(7,De,3,3,"div",5)(8,Me,5,5,"div",6),e.k0s()),2&m&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.R7$(2),e.Y8G("filterType","homework"),e.R7$(2),e.Y8G("ngForOf",v.homeworkObjs),e.R7$(),e.Y8G("ngIf",0==v.homeworkObjs.length&&!v.homeworkNextPage),e.R7$(),e.Y8G("ngIf",v.homeworkObjs.length>0&&v.homeworkNextPage))},dependencies:[nt.YU,nt.Sq,nt.bT,ot.oV,gt.WGl,L.K,q.D,X,K.wp,K.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),y})();var Ge=l(43166);function $e(_,y){if(1&_&&e.nrm(0,"azt-loading-effect",5),2&_){const g=e.XpG();e.Y8G("currentStatusObj",g.statusObj)}}function Ne(_,y){if(1&_&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&_){const g=y.$implicit;e.Y8G("value",g.id+"-"+g.studentId),e.R7$(),e.SpI(" ",g.name," ")}}function Ae(_,y){if(1&_){const g=e.RV6();e.j41(0,"div",20)(1,"mat-form-field",21)(2,"mat-select",22,3),e.bIt("selectionChange",function(v){e.eBV(g);const A=e.XpG(2);return e.Njj(A.selectedClassroom(v))}),e.j41(4,"mat-option"),e.nrm(5,"ngx-mat-select-search",23),e.nI1(6,"mytranslate"),e.nI1(7,"mytranslate"),e.k0s(),e.j41(8,"mat-option",24),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.DNE(11,Ne,2,2,"mat-option",25),e.k0s()()()}if(2&_){const g=e.sdS(3),m=e.XpG(2);e.R7$(2),e.Y8G("formControl",m.select),e.R7$(3),e.FS9("placeholderLabel",e.bMT(6,8,"lang_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(7,10,"lang_search_not_found")),e.Y8G("formControl",g.searchControl),e.R7$(3),e.Y8G("value","")("disabled",!0),e.R7$(),e.SpI("---",e.bMT(10,12,"lang_auto_chon_lop"),"---"),e.R7$(2),e.Y8G("ngForOf",g.filter(m.classroomList,"name"))}}function Le(_,y){if(1&_&&(e.j41(0,"div",27),e.nrm(1,"azt-detail-attendance",28),e.k0s()),2&_){const g=e.XpG(2);e.R7$(),e.Y8G("studentId",g.studentId)("isTeacherRole",g.isTeacherDashboard)("selectClassroomId",g.classroomId)("classroomList",g.classroomList)}}function Be(_,y){if(1&_&&(e.j41(0,"div",27)(1,"p",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-tuition-fee",29),e.k0s()),2&_){const g=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_tuition_fee_info")),e.R7$(2),e.Y8G("studentId",g.studentId)}}function Ye(_,y){if(1&_&&(e.j41(0,"div",27)(1,"p",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-book-distribution",29),e.k0s()),2&_){const g=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_book_distribution_info")),e.R7$(2),e.Y8G("studentId",g.studentId)}}function Ve(_,y){if(1&_){const g=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"h3",8),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,Ae,12,14,"div",9),e.k0s(),e.j41(6,"div",10)(7,"azt-detail-account-student",11),e.bIt("reInitComponentEvent",function(){e.eBV(g);const v=e.XpG();return e.Njj(v.reInitOtherComponent())}),e.k0s(),e.j41(8,"div",12)(9,"div",13),e.nrm(10,"azt-student-profile-list-exams",14,1),e.k0s(),e.j41(12,"div",13),e.nrm(13,"azt-student-profile-list-homeworks",15,2),e.k0s()(),e.DNE(15,Le,2,4,"div",16)(16,Be,5,4,"div",16)(17,Ye,5,4,"div",16),e.j41(18,"div",17)(19,"p",18),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"azt-detail-by-subject-student",19),e.bIt("reInitComponentEvent",function(){e.eBV(g);const v=e.XpG();return e.Njj(v.reInitOtherComponent())}),e.k0s()()()()}if(2&_){const g=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,26,"lang_student_classroom_profile_student")," "),e.R7$(2),e.Y8G("ngIf",!g.isTqbDomain),e.R7$(2),e.Y8G("studentObj",g.studentObj)("classroomObj",g.classroomObj)("classroomList",g.classroomList)("classroomId",g.classroomId)("backToLink",g.backToLink)("paramBackToLink",g.paramBackToLink)("isTeacher",g.isTeacherDashboard),e.R7$(3),e.Y8G("studentId",g.studentId)("isTeacher",g.isTeacherDashboard)("classroomId",g.classroomId)("backToLink",g.backToLink)("classroomList",g.classroomList),e.R7$(3),e.Y8G("studentId",g.studentId)("isTeacher",g.isTeacherDashboard)("classroomId",g.classroomId)("backToLink",g.backToLink),e.R7$(2),e.Y8G("ngIf",g.isBusinessDomain),e.R7$(),e.Y8G("ngIf",g.isTqbDomain),e.R7$(),e.Y8G("ngIf",g.isTqbDomain),e.R7$(3),e.JRh(e.bMT(21,28,"lang_student_academic_results_report")),e.R7$(2),e.Y8G("studentObj",g.studentObj)("classroomId",g.classroomId)("backToLink",g.backToLink)("paramBackToLink",g.paramBackToLink)}}let Xe=(()=>{var _;class y extends i.H{reInitOtherComponent(m){this.listExam?.reInitData(),this.listHomework?.reInitData(),m&&this.getData()}selectedClassroom(m){let v=m.value.split("-")[0],A=m.value.split("-")[1],xt=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+v+"/"+A,xt?"?backTo="+encodeURIComponent(xt):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(v=>{1==v.success?(v.data?.studentObj&&v.data?.classroomObj&&v.data.classroomObj.permissionObj&&(this.studentObj=v.data.studentObj,this.classroomObj=v.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(m){super(),this.studentProfileV2Service=m,this.select=new f.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return(_=y).\u0275fac=function(m){return new(m||_)(e.rXU(c.m_))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-student-profile"]],viewQuery:function(m,v){if(1&m&&(e.GBs(rt,5),e.GBs(rt,5)),2&m){let A;e.mGM(A=e.lsd())&&(v.listExam=A.first),e.mGM(A=e.lsd())&&(v.listHomework=A.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["listExam",""],["listHomework",""],["searchInListClassroom","searchInList"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],["class","ml-5 box","style","font-size: 12px",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"reInitComponentEvent","studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink","classroomList"],[3,"studentId","isTeacher","classroomId","backToLink"],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"reInitComponentEvent","studentObj","classroomId","backToLink","paramBackToLink"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["searchInList","","name","classroom",3,"selectionChange","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId","classroomList"],[3,"studentId"]],template:function(m,v){if(1&m&&e.DNE(0,$e,1,1,"azt-loading-effect",4)(1,Ve,23,30,"ng-template",null,0,e.C5r),2&m){const A=e.sdS(2);e.Y8G("ngIf",v.statusObj.loading)("ngIfElse",A)}},dependencies:[nt.Sq,nt.bT,ft.wT,mt.rl,it.VO,f.BC,f.l_,at.U9,L.K,P,de,T,Ce,ke,ze,rt,Ge.x,K.wp],encapsulation:2}),y})()}}]);