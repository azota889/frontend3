"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[3738],{49042:(F,Z,m)=>{m.d(Z,{Y:()=>A});var i=m(65879),l=m(46558);let A=(()=>{class _{constructor(e){this.commonService=e,this.enterKey=new i.vpe,this.enableInMobile=!0}onKeyDown(e){!this.enableInMobile&&this.commonService.isMobileDevice()||"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),this.enterKey.emit())}}return _.\u0275fac=function(e){return new(e||_)(i.Y36(l.z))},_.\u0275dir=i.lG2({type:_,selectors:[["","enterKey",""]],hostBindings:function(e,T){1&e&&i.NdJ("keydown",function(k){return T.onKeyDown(k)})},inputs:{enableInMobile:"enableInMobile"},outputs:{enterKey:"enterKey"}}),_})()},28079:(F,Z,m)=>{m.d(Z,{S:()=>C});var i=m(65879),l=m(47496),A=m(38228),_=m(96814),t=m(36727);const e=["table"];function T(u,v){if(1&u&&(i.TgZ(0,"th",2),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&u){const c=i.oxw();i.uIk("excelWidth",20)("excelRow",0)("excelColumn",7)("excelStyle",c.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(2,5,"lang_auto_mat_khau")," ")}}function I(u,v){if(1&u&&(i.TgZ(0,"th",2),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&u){const c=i.oxw();i.uIk("excelWidth",20)("excelRow",0)("excelColumn",c.isBusinessDomain?8:7)("excelStyle",c.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(2,5,"lang_auto_truong")," ")}}function k(u,v){if(1&u&&(i.TgZ(0,"th",2),i._uU(1," Facebook "),i.qZA()),2&u){const c=i.oxw();i.uIk("excelWidth",20)("excelRow",0)("excelColumn",c.isBusinessDomain?9:8)("excelStyle",c.styleThNormal)}}function W(u,v){if(1&u&&(i.TgZ(0,"th",2),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&u){const c=i.oxw();i.uIk("excelWidth",20)("excelRow",0)("excelColumn",c.isBusinessDomain?10:9)("excelStyle",c.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(2,5,"lang_auto_lop")," ")}}function U(u,v){if(1&u&&(i.TgZ(0,"td",2),i._uU(1),i.qZA()),2&u){const c=i.oxw(),f=c.index,x=c.$implicit,g=i.oxw();i.uIk("excelRow",f+1)("excelColumn",7)("excelStyle",null!=x&&x.errorImportIdentification?g.styleTdError:g.styleTdNormal),i.xp6(1),i.hij(" ",null==x?null:x.password," ")}}function S(u,v){if(1&u&&(i.TgZ(0,"td",2),i._uU(1),i.qZA()),2&u){const c=i.oxw(),f=c.index,x=c.$implicit,g=i.oxw();i.uIk("excelRow",f+1)("excelColumn",g.isBusinessDomain?8:7)("excelStyle",null!=x&&x.errorImportIdentification?g.styleTdNotNumberError:g.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",null==x?null:x.nameSchool," ")}}function N(u,v){if(1&u&&(i.TgZ(0,"td",2),i._uU(1),i.qZA()),2&u){const c=i.oxw(),f=c.index,x=c.$implicit,g=i.oxw();i.uIk("excelRow",f+1)("excelColumn",g.isBusinessDomain?9:8)("excelStyle",null!=x&&x.errorImportIdentification?g.styleTdNotNumberError:g.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",null==x?null:x.facebookLink," ")}}function j(u,v){if(1&u&&(i.TgZ(0,"td",2),i._uU(1),i.qZA()),2&u){const c=i.oxw(),f=c.index,x=c.$implicit,g=i.oxw();let z;i.uIk("excelRow",f+1)("excelColumn",g.isBusinessDomain?10:9)("excelStyle",null!=x&&x.errorImportIdentification?g.styleTdError:g.styleTdNormal),i.xp6(1),i.hij(" ",null!==(z=null==x?null:x.classroomName)&&void 0!==z?z:""," ")}}function D(u,v){if(1&u&&(i.TgZ(0,"tr")(1,"td",2),i._uU(2),i.qZA(),i.TgZ(3,"td",2),i._uU(4),i.qZA(),i.TgZ(5,"td",2),i._uU(6),i.qZA(),i.TgZ(7,"td",2),i._uU(8),i.qZA(),i.TgZ(9,"td",2),i._uU(10),i.ALo(11,"formatOnlyDateByUserUnitPipe"),i.qZA(),i.TgZ(12,"td",2),i._uU(13),i.ALo(14,"mytranslate"),i.ALo(15,"mytranslate"),i.qZA(),i.TgZ(16,"td",2),i._uU(17),i.ALo(18,"formatStudentCodeToNumber"),i.qZA(),i.YNc(19,U,2,4,"td",3),i.YNc(20,S,2,4,"td",3),i.YNc(21,N,2,4,"td",3),i.YNc(22,j,2,4,"td",3),i.TgZ(23,"td",5),i._uU(24),i.ALo(25,"mytranslate"),i.qZA(),i.TgZ(26,"td",5),i._uU(27),i.qZA()()),2&u){const c=v.$implicit,f=v.index,x=v.index,g=i.oxw();i.xp6(1),i.uIk("excelRow",x+1)("excelColumn",0)("excelStyle",null!=c&&c.errorImportIdentification?g.styleTdError:g.styleTdNormal),i.xp6(1),i.hij(" ",null!=c&&c.fullName?f+1:""," "),i.xp6(1),i.uIk("excelRow",x+1)("excelColumn",1)("excelStyle",null!=c&&c.errorImportIdentification?g.styleTdErrorLeft:g.styleTdNormalLeft),i.xp6(1),i.hij(" ",null==c?null:c.fullName," "),i.xp6(1),i.uIk("excelRow",x+1)("excelColumn",2)("excelStyle",null!=c&&c.errorImportIdentification?g.styleTdNotNumberError:g.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",null==c?null:c.phone," "),i.xp6(1),i.uIk("excelRow",x+1)("excelColumn",3)("excelStyle",null!=c&&c.errorImportIdentification?g.styleTdError:g.styleTdNormal),i.xp6(1),i.hij(" ",null==c?null:c.email," "),i.xp6(1),i.uIk("excelRow",x+1)("excelColumn",4)("excelStyle",null!=c&&c.errorImportIdentification?g.styleTdError:g.styleTdNormal),i.xp6(1),i.hij(" ",i.lcZ(11,38,null==c?null:c.birthday)," "),i.xp6(2),i.uIk("excelRow",x+1)("excelColumn",5)("excelStyle",null!=c&&c.errorImportIdentification?g.styleTdError:g.styleTdNormal),i.xp6(1),i.hij(" ",1==(null==c?null:c.gender)?i.lcZ(14,40,"lang_student_export_excel_gender_male"):0==(null==c?null:c.gender)?i.lcZ(15,42,"lang_student_export_excel_gender_female"):""," "),i.xp6(3),i.uIk("excelRow",x+1)("excelColumn",6)("excelStyle",null!=c&&c.errorImportIdentification?g.styleTdNotNumberError:g.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",null!=c&&c.identificationNumber?i.xi3(18,44,null==c?null:c.identificationNumber,6):""," "),i.xp6(2),i.Q6J("ngIf",g.isBusinessDomain),i.xp6(1),i.Q6J("ngIf",g.isBusinessDomain),i.xp6(1),i.Q6J("ngIf",g.isBusinessDomain),i.xp6(1),i.Q6J("ngIf",1===g.type),i.xp6(1),i.uIk("excelRow",x+1)("excelColumn",1===g.type&&g.isBusinessDomain?11:10),i.xp6(1),i.hij(" ",i.lcZ(25,47,null==c?null:c.errorImportIdentification)," "),i.xp6(2),i.uIk("excelRow",x+1)("excelColumn",1===g.type&&g.isBusinessDomain?12:11),i.xp6(1),i.hij(" ",g.commentObjs[x]," ")}}let C=(()=>{class u extends l.Q{addCommentToExcelFile(){let c="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),f="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),x="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),g="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four"),z="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_five"),q="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_six"),J="*"+this.commonService.myTranslateInstant("lang_auto_mat_khau_phai_dai_toi_thieu_la_6");this.commentObjs=[c,f,x,g,z,q,J]}ngOnChanges(){this.appendObjs=[],this.isExported=!1;let f=7-(this.objs?.length??0);if(f>0)for(let x=0;x<f;x++)this.appendObjs.push(void 0)}ngAfterViewChecked(){0==this.isExported&&(this.isExported=!0,setTimeout(()=>{this.exportDataDone.emit(this.exportExcelService.exportHtmlTableToExcelBlob(this.table,!0))},0))}ngOnInit(){super.ngOnInit(),this.addCommentToExcelFile()}constructor(c){super(),this.exportExcelService=c,this.type=0,this.exportDataDone=new i.vpe,this.appendObjs=[],this.commentObjs=[],this.isExported=!1,this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleTdErrorLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNotNumberError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}},"isText":"1"}'}}return u.\u0275fac=function(c){return new(c||u)(i.Y36(A.L))},u.\u0275cmp=i.Xpm({type:u,selectors:[["azt-export-excel-for-student-list"]],viewQuery:function(c,f){if(1&c&&i.Gf(e,5),2&c){let x;i.iGM(x=i.CRH())&&(f.table=x.first)}},inputs:{objs:"objs",type:"type"},outputs:{exportDataDone:"exportDataDone"},features:[i.qOj,i.TTD],decls:33,vars:59,consts:[[1,"table","table-bordered",2,"display","none"],["table",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngIf"],[4,"ngFor","ngForOf"],["excelStyle",'{"font":{"bold":true,"color":{"rgb":"f10000"}}}',1,"text-center","azt-excel-cell"]],template:function(c,f){1&c&&(i.TgZ(0,"table",0,1)(2,"thead")(3,"tr")(4,"th",2),i._uU(5),i.ALo(6,"mytranslate"),i.qZA(),i.TgZ(7,"th",2),i._uU(8),i.ALo(9,"mytranslate"),i.qZA(),i.TgZ(10,"th",2),i._uU(11),i.ALo(12,"mytranslate"),i.qZA(),i.TgZ(13,"th",2),i._uU(14),i.ALo(15,"mytranslate"),i.qZA(),i.TgZ(16,"th",2),i._uU(17),i.ALo(18,"mytranslate"),i.qZA(),i.TgZ(19,"th",2),i._uU(20),i.ALo(21,"mytranslate"),i.qZA(),i.TgZ(22,"th",2),i._uU(23),i.ALo(24,"mytranslate"),i.qZA(),i.YNc(25,T,3,7,"th",3),i.YNc(26,I,3,7,"th",3),i.YNc(27,k,2,4,"th",3),i.YNc(28,W,3,7,"th",3),i._UZ(29,"th",2)(30,"th",2),i.qZA()(),i.TgZ(31,"tbody"),i.YNc(32,D,28,49,"tr",4),i.qZA()()),2&c&&(i.xp6(4),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(6,45,"lang_student_export_excel_no")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(9,47,"lang_student_export_excel_full_name")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(12,49,"lang_student_export_excel_phone")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(15,51,"lang_student_export_excel_email")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(18,53,"lang_student_export_excel_birthday")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(21,55,"lang_student_export_excel_gender")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",6)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(24,57,"lang_auto_so_bao_danh")," "),i.xp6(2),i.Q6J("ngIf",f.isBusinessDomain),i.xp6(1),i.Q6J("ngIf",f.isBusinessDomain),i.xp6(1),i.Q6J("ngIf",f.isBusinessDomain),i.xp6(1),i.Q6J("ngIf",1===f.type),i.xp6(1),i.uIk("excelWidth",30)("excelRow",0)("excelColumn",1===f.type&&f.isBusinessDomain?11:10)("excelStyle",f.styleThNormal),i.xp6(1),i.uIk("excelWidth",100),i.xp6(2),i.Q6J("ngForOf",f.objs.concat(f.appendObjs)))},dependencies:[_.sg,_.O5,t.JV,t.gw,t.YK],encapsulation:2}),u})()},97694:(F,Z,m)=>{m.d(Z,{G:()=>rt});var i=m(56223),l=m(19347),A=m(72164),_=m(76359),t=m(47180),e=m(65879),T=m(97151),I=m(4021),k=m(90592),W=m(96814),U=m(92596),S=m(95545),N=m(37722),j=m(76024),D=m(27118),C=m(67679),u=m(68547),v=m(76476),c=m(86717),f=m(78497),x=m(93523),g=m(28079),z=m(7081),q=m(36727);function J(b,y){1&b&&(e.TgZ(0,"div",41)(1,"div",42),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&b&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_testbank_test_config_you_not_yet_class")," "))}function Y(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"div",9)(1,"label",11),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",29)(5,"div",30)(6,"h3",23),e._uU(7),e.ALo(8,"mytranslate"),e._UZ(9,"azt-list-classroom-count-checked",31),e.qZA(),e.TgZ(10,"div",32)(11,"div",33),e._UZ(12,"azt-list-classroom-check-all",34),e.qZA(),e.TgZ(13,"div",35),e._UZ(14,"azt-is-show-check-classroom",36),e.qZA()()(),e.TgZ(15,"div",37)(16,"ng-scrollbar",38)(17,"azt-list-classroom-checkbox",39),e.NdJ("objsChange",function(O){e.CHM(s);const w=e.oxw();return e.KtG(w.classroomObjs=O)}),e.qZA()()()(),e.YNc(18,J,4,3,"div",40),e.qZA()}if(2&b){const s=e.oxw();e.Q6J("hidden",2===s.stepView),e.xp6(2),e.hij(" ",e.lcZ(3,16,"lang_auto_chon_nhung_can_danh_so_bao_danh")," "),e.xp6(5),e.hij(" ",e.lcZ(8,18,"lang_auto_danh_sach_cac_lop"),"\xa0 "),e.xp6(2),e.Q6J("formArray",s.form.controls.classroomIds),e.xp6(3),e.Q6J("formArray",s.form.controls.classroomIds)("objs",s.classroomObjs)("permissionName",s.permissionTypes.exam),e.xp6(2),e.Q6J("form",s.form),e.xp6(2),e.Q6J("visibility","hover")("autoHeightDisabled",!1),e.xp6(1),e.Q6J("form",s.form)("formArrayName","classroomIds")("objs",s.classroomObjs)("examClassroomObjs",s.examClassroomObjs)("permissionName",s.permissionTypes.exam),e.xp6(1),e.Q6J("ngIf",null==s.form.controls.classroomIds.errors?null:s.form.controls.classroomIds.errors.classroomCheckBoxValidatorWithoutWhoAllow)}}function R(b,y){1&b&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau")," "))}function K(b,y){1&b&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_lon_hon_0")," "))}function G(b,y){1&b&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_khong_qua_6_chu_so")," "))}function V(b,y){if(1&b&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_yeu_cau_nhap_so_va_be_nhat_la_1_max_999999")+(999999-(s.totalStudent?s.totalStudent-1:0))," ")}}function H(b,y){if(1&b&&(e.TgZ(0,"div",49),e.YNc(1,R,3,3,"span",50),e.YNc(2,K,3,3,"span",50),e.YNc(3,G,3,3,"span",50),e.YNc(4,V,3,3,"span",50),e.qZA()),2&b){const s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.form.controls.startNumbering.errors.required),e.xp6(1),e.Q6J("ngIf",s.form.controls.startNumbering.errors.min),e.xp6(1),e.Q6J("ngIf",s.form.controls.startNumbering.errors.maxlength&&!s.form.controls.startNumbering.errors.max&&!s.form.controls.startNumbering.errors.min),e.xp6(1),e.Q6J("ngIf",s.form.controls.startNumbering.errors.max)}}function $(b,y){if(1&b&&(e.TgZ(0,"div",43)(1,"label",44),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"span",45),e.ALo(5,"mytranslate"),e._UZ(6,"lucide-icon",46),e.qZA()(),e._UZ(7,"input",47),e.ALo(8,"mytranslate"),e.YNc(9,H,5,4,"div",48),e.qZA()),2&b){const s=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_nhap_so_bao_danh_bat_dau")," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(5,6,"lang_tooltip_input_identification_numbering")),e.xp6(3),e.s9C("placeholder",e.lcZ(8,8,"lang_auto_nhap_so")+"..."),e.xp6(2),e.Q6J("ngIf",s.form.controls.startNumbering.errors&&(s.form.controls.startNumbering.touched||s.form.controls.startNumbering.dirty))}}function X(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"div",61),e.NdJ("click",function(){e.CHM(s);const O=e.MAs(3);return e.KtG(O.click())})("filesChangeEmitter",function(O){e.CHM(s);const w=e.oxw(2);return e.KtG(w.onFileSelected(O))}),e.TgZ(1,"div",62)(2,"input",63,64),e.NdJ("change",function(O){e.CHM(s);const w=e.oxw(2);return e.KtG(w.onFileSelected(O.target.files))}),e.qZA(),e.TgZ(4,"div"),e.O4$(),e.TgZ(5,"svg",65),e._UZ(6,"path",66)(7,"polyline",67)(8,"path",68)(9,"path",69)(10,"path",70)(11,"path",71),e.qZA(),e.kcU(),e.TgZ(12,"span",72),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()}2&b&&(e.xp6(13),e.hij(" ",e.lcZ(14,2,"lang_auto_keo_tha_file_excel")," "),e.xp6(2),e.hij(" ",e.lcZ(16,4,"lang_auto_hoc_click_de_chon_file")," "))}function tt(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"div",75)(3,"div",76)(4,"div",77)(5,"div",78),e._UZ(6,"img",79),e.ALo(7,"convertCdnLinkOfGitHub"),e.qZA(),e.TgZ(8,"div",80)(9,"p",81,82),e._uU(11),e.qZA(),e.TgZ(12,"div",83),e._uU(13),e.qZA()(),e.TgZ(14,"div",84)(15,"button",85),e.NdJ("click",function(O){e.CHM(s);const w=e.oxw(2);return e.KtG(w.removeFile(O))}),e.ALo(16,"mytranslate"),e.O4$(),e.TgZ(17,"svg",86),e._UZ(18,"path",87)(19,"path",88)(20,"path",89)(21,"line",90)(22,"line",91),e.qZA()()()()()()()()}if(2&b){const s=e.MAs(10),p=e.oxw(2);e.xp6(6),e.Q6J("src",e.lcZ(7,7,"images/excel.png"),e.LSH),e.xp6(3),e.s9C("matTooltip",null==p.file?null:p.file.name),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled),e.xp6(2),e.hij(" ",p.file?p.file.name:""," "),e.xp6(2),e.hij(" ",p.fileMb+"mb"," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(16,9,"lang_auto_xoa"))}}function et(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"div",43)(1,"label",51),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,X,17,6,"div",52),e.YNc(5,tt,23,11,"ng-template",null,53,e.W1O),e.TgZ(7,"div",54)(8,"button",55),e.NdJ("click",function(){e.CHM(s);const O=e.oxw();return e.KtG(O.exportStudentListByClassroomIds("click"))}),e.TgZ(9,"span"),e.O4$(),e.TgZ(10,"svg",56),e._UZ(11,"path",57)(12,"path",58)(13,"path",59),e.qZA()(),e.kcU(),e.TgZ(14,"span",60),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()()}if(2&b){const s=e.MAs(6),p=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_tai_file_excel_len")," "),e.xp6(2),e.Q6J("ngIf",!p.file)("ngIfElse",s),e.xp6(11),e.hij(" ",e.lcZ(16,6,"lang_auto_tai_danh_sach_hoc_sinh_trong_lop")," ")}}function ot(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(s);const O=e.oxw();return e.KtG(O.prevStepView())}),e.O4$(),e.TgZ(1,"svg",93),e._UZ(2,"polyline",94),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&b&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_quay_lai")," "))}function it(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"button",95),e.NdJ("click",function(){e.CHM(s);const O=e.oxw();return e.KtG(O.nextStepView())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}if(2&b){const s=e.oxw();e.Q6J("disabled",s.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_tiep_tuc")," ")}}function nt(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"button",96),e.NdJ("click",function(){e.CHM(s);const O=e.oxw();return e.KtG(O.handleNumberingAuto(O.form.controls.howIdentification.value))}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}if(2&b){const s=e.oxw();e.Q6J("disabled","0"==s.form.controls.howIdentification.value&&s.form.controls.startNumbering.errors||"1"==s.form.controls.howIdentification.value&&null==s.file),e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_danh_so")," ")}}function at(b,y){if(1&b){const s=e.EpF();e.TgZ(0,"azt-export-excel-for-student-list",97),e.NdJ("exportDataDone",function(O){e.CHM(s);const w=e.oxw();return e.KtG(w.exportStudentListDone(O))}),e.qZA()}if(2&b){const s=e.oxw();e.Q6J("objs",s.exportStudentObjs)("type",1)}}let rt=(()=>{class b extends A.e{constructor(s,p,O,w,E,M){super(M,E),this.shareFileFlutterService=s,this.studentService=p,this.studentProfileV2Service=O,this.sAztClassroomCheckboxService=w,this.dialogRef=E,this.data=M,this.classroomObjs=[],this.examClassroomObjs=[],this.permissionTypes=_.y,this.stepView=1,this.fileMb=0,this.totalStudent=0,this.form=new i.cw({startNumbering:new i.NI(1,{nonNullable:!0,validators:[i.kI.required,i.kI.pattern("^[0-9]*$"),i.kI.min(1),i.kI.maxLength(6)]}),howIdentification:new i.NI("0",{nonNullable:!0}),classroomIds:new i.Oe([]),file:new i.NI("",{nonNullable:!0}),isShowCheckClass:new i.NI(!1,{nonNullable:!0}),whoAllow:new i.NI(0,{nonNullable:!0})},{validators:[t.h.classroomCheckBoxValidatorWithoutWhoAllow]}),this.processData()}handleCloseDialog(){this.dialogRef.close(!1)}getFileMB(s){return s&&s>0?(s/=1048576).toFixed(2):0}nextStepView(){this.stepView=2,this.getTotalStudentData()}prevStepView(){this.stepView=1}exportStudentListDone(s){let p=this.commonService.createFileNameExportFile(["list-student","danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(s,p)}handleNumberingAuto(s){let p=[];if(1===this.data.type){let O=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,_.y.exam);p=this.sAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,O,this.form.getRawValue().classroomIds)}if(2===this.data.type&&(p=this.data.listCheckBox),"0"==s){let O={classroomIds:p,startCode:this.form.getRawValue().startNumbering};this.numberingAutomaticIdentification(O)}else this.file&&this.numberingExcelIdentification(p,this.file)}numberingAutomaticIdentification(s){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentSetIdentificationNumbersPost(s).subscribe(p=>{1==p.success?(this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0)):this.errorStatusObj(p.message??"",!0)}))}numberingExcelIdentification(s,p){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentImportStudentIdentificationNumbersPostForm(s,p).subscribe(O=>{if(1==O.success)this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0);else{this.errorStatusObj("lang_auto_vui_long_nhap_dung_noi_dung_trong_file",!0);let w=O.data??[];w.length>0&&(this.processDataErrors(w),this.exportStudentListByClassroomIds("auto")),this.file=null}}))}processData(){if(1===this.data.type){for(let s=0;s<this.data.classroomWithGroup.length;s++)null!=this.data.classroomWithGroup[s].groupObj&&-1!=this.data.classroomWithGroup[s].groupObj?.id&&(this.classroomObjs=this.classroomObjs.concat(this.data.classroomWithGroup[s].classroomObjs??[])),null==this.data.classroomWithGroup[s].groupObj&&(this.classroomObjs=this.classroomObjs.concat(this.data.classroomWithGroup[s].classroomObjs??[]));this.classroomObjs=this.classroomObjs.filter(s=>!s.isShareClassroom)}2===this.data.type&&(this.stepView=2)}processDataErrors(s){if(this.exportStudentObjs=[],s.length>0)for(let p=0;p<s.length;p++){let O={id:0,classroomId:0,parentId:0,fullName:s[p].fullName,phone:s[p].phone,email:s[p].email,birthday:s[p].birthday,gender:Number(s[p].gender)??void 0,identificationNumber:s[p].identificationNumber,classroomName:s[p].classroomName};O.errorImportIdentification=s[p].message??"","lang_core_duplicate_student_identification_number"==s[p].message&&(O.errorImportIdentification="lang_auto_trung_so_bao_danh"),this.exportStudentObjs?.push(O)}}getStudentListByClassroomIds(s){this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(s).subscribe(p=>{if(p.success){this.exportStudentObjs=p.data;let O=this.exportStudentObjs?.length??0;if(this.exportStudentObjs){let w=[],E=[];this.exportStudentObjs.forEach((M,Q,st)=>{w.find(B=>B.identificationNumber===M.identificationNumber)?E.push(M):w.push(M)});for(let M=0;M<O;M++)if(this.exportStudentObjs[M].identificationNumber)for(let Q=0;Q<E.length;Q++)this.exportStudentObjs&&this.exportStudentObjs[M].identificationNumber===E[Q].identificationNumber&&(this.exportStudentObjs[M].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[M].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}if(this.exportStudentObjs)for(let w=0;w<O;w++)if(this.exportStudentObjs[w].identificationNumber)for(let E=w+1;E<O;E++)this.exportStudentObjs&&this.exportStudentObjs[w].identificationNumber===this.exportStudentObjs[E].identificationNumber&&(this.exportStudentObjs[w].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[w].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}else this.showErrorSnack(p.message??"")}))}exportStudentListByClassroomIds(s){let p="";if(1===this.data.type){let O=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,_.y.exam);p=this.sAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,O,this.form.getRawValue().classroomIds).toString()}2===this.data.type&&(p=this.data.listCheckBox.toString()),"click"==s&&this.getStudentListByClassroomIds(p)}getTotalStudentData(){let s="";if(1===this.data.type){let p=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,_.y.exam);s=this.sAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,p,this.form.getRawValue().classroomIds).toString()}2===this.data.type&&(s=this.data.listCheckBox.toString()),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(s).subscribe(p=>{p.success&&(this.totalStudent=p.data?.length??0,this.form.controls.startNumbering.addValidators(i.kI.max(999999-(this.totalStudent?this.totalStudent-1:0))))}))}onFileSelected(s){this.file=s?s[0]:this.file,this.fileMb=this.getFileMB(this.file?.size??0),this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}removeFile(s){s.stopPropagation(),this.file=null}ngOnInit(){if(super.ngOnInit(),this.data.totalStudent){this.totalStudent=this.data.totalStudent;let s=999999;this.form.valueChanges.subscribe(p=>{this.form.controls.startNumbering.addValidators(i.kI.max(s-(this.totalStudent?this.totalStudent-1:0)))})}}}return b.\u0275fac=function(s){return new(s||b)(e.Y36(T.g),e.Y36(I.VT),e.Y36(I.LU),e.Y36(k.f),e.Y36(l.so,8),e.Y36(l.WI,8))},b.\u0275cmp=e.Xpm({type:b,selectors:[["azt-automatic-identification"]],features:[e.qOj],decls:53,vars:40,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-lg","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-0.5"],[3,"defaultHeight"],[1,"p-3"],[3,"formGroup"],["class","intro",3,"hidden",4,"ngIf"],[1,"intro",3,"hidden"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],[1,"form-check","mt-1","mr-10"],["id","by-automatic","type","radio","value","0","formControlName","howIdentification",1,"form-check-input"],["for","by-automatic",1,"form-check-label"],[1,"form-check","mt-1"],["id","by-excel","type","radio","value","1","formControlName","howIdentification",1,"form-check-input"],["for","by-excel",1,"form-check-label"],[1,"text-xs","leading-relaxed","mt-4"],[1,"mt-1"],["class","intro mt-4",4,"ngIf"],[1,"p-3","flex","items-center"],[1,"mr-auto"],["azt-track-service","azt-automatic-identification-4p28zlT3gA","class","btn-text-primary",3,"click",4,"ngIf"],["azt-track-service","azt-automatic-identification-2EiEU9_Cnw",1,"btn","btn-secondary","w-20","mr-2",3,"click"],["azt-track-service","azt-automatic-identification-kI3BEINfrN","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],[3,"objs","type","exportDataDone",4,"ngIf"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","pb-1","mt-2"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center"],[3,"formArray"],[1,"flex","mt-2","sm:mt-0"],[1,"mr-3"],[3,"formArray","objs","permissionName"],[1,"mr-0"],[3,"form"],[1,"classroom_list"],["pointerEventsMethod","scrollbar",3,"visibility","autoHeightDisabled"],[3,"form","formArrayName","objs","examClassroomObjs","permissionName","objsChange"],["class","col-span-12 mt-2",4,"ngIf"],[1,"col-span-12","mt-2"],[1,"text-xs","text-danger"],[1,"intro","mt-4"],["for","number-start",1,"form-label","font-medium","flex","items-center"],[1,"inline-block","w-4","h-4","ml-2",3,"matTooltip"],["name","info"],["id","number-start","appOnlyNumber","","type","text","formControlName","startNumbering",1,"form-control",3,"placeholder"],["class","mt-2 fade text-xs text-danger font-medium",4,"ngIf"],[1,"mt-2","fade","text-xs","text-danger","font-medium"],[4,"ngIf"],[1,"form-label","font-medium"],["azt-track-service","azt-automatic-identification-PooqxQVpD","class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md","appDragDrop","",3,"click","filesChangeEmitter",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","azt-automatic-identification-J9l0MWhdQ8",1,"btn","text-primary","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["d","M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"],["d","M12 12v9"],["d","m8 17 4 4 4-4"],[1,"text-primary"],["azt-track-service","azt-automatic-identification-PooqxQVpD","appDragDrop","",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",3,"click","filesChangeEmitter"],[1,"px-4","pb-4","mt-5","flex","items-center","justify-center","text-center","cursor-pointer","relative"],["id","horizontal-form-1","type","file","formControlName","file","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"hiddenIpt",3,"change"],["fileSelect",""],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","text-success","w-5","h-5","mr-2"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M8 13h2"],["d","M8 17h2"],["d","M14 13h2"],["d","M14 17h2"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["azt-track-service","azt-automatic-identification-4p28zlT3gA",1,"btn-text-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["points","15 18 9 12 15 6"],["azt-track-service","azt-automatic-identification-kI3BEINfrN",1,"btn","w-24","btn-primary",3,"disabled","click"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A",1,"btn","w-24","btn-primary",3,"disabled","click"],[3,"objs","type","exportDataDone"]],template:function(s,p){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"azt-mat-dialog-content",5)(10,"div",6)(11,"form",7),e.YNc(12,Y,19,20,"div",8),e.TgZ(13,"div",9)(14,"div",10)(15,"label",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA(),e.TgZ(18,"div",12)(19,"div",13),e._UZ(20,"input",14),e.TgZ(21,"label",15),e._uU(22),e.ALo(23,"mytranslate"),e.qZA()(),e.TgZ(24,"div",16),e._UZ(25,"input",17),e.TgZ(26,"label",18),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()(),e.TgZ(29,"div",19)(30,"div",10)(31,"span",11),e._uU(32),e.ALo(33,"mytranslate"),e.qZA(),e._uU(34),e.ALo(35,"mytranslate"),e.qZA(),e.TgZ(36,"div",20)(37,"span",11),e._uU(38),e.ALo(39,"mytranslate"),e.qZA(),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()()(),e.YNc(42,$,10,10,"div",21),e.YNc(43,et,17,8,"div",21),e.qZA()()()()(),e.TgZ(44,"div",22)(45,"div",23),e.YNc(46,ot,5,3,"button",24),e.qZA(),e.TgZ(47,"button",25),e.NdJ("click",function(){return p.handleCloseDialog()}),e._uU(48),e.ALo(49,"mytranslate"),e.qZA(),e.YNc(50,it,3,4,"button",26),e.YNc(51,nt,3,4,"button",27),e.qZA()(),e.YNc(52,at,1,2,"azt-export-excel-for-student-list",28)),2&s&&(e.xp6(4),e.hij(" ",e.lcZ(5,20,"lang_auto_danh_so_bao_danh")," "),e.xp6(3),e.hij(" ",e.lcZ(8,22,"lang_auto_danh_so_bao_danh_de_su_dung_cho_nhung_ki_thi_offline")," "),e.xp6(2),e.Q6J("defaultHeight",50),e.xp6(2),e.Q6J("formGroup",p.form),e.xp6(1),e.Q6J("ngIf",1===p.data.type),e.xp6(1),e.Q6J("hidden",1===p.stepView),e.xp6(3),e.hij(" ",e.lcZ(17,24,"lang_auto_chon_cach_danh_so_bao_danh")," "),e.xp6(6),e.hij(" ",e.lcZ(23,26,"lang_auto_danh_tu_dong")," "),e.xp6(5),e.hij(" ",e.lcZ(28,28,"lang_auto_danh_bang_file_excel")," "),e.xp6(5),e.hij(" ","*"+e.lcZ(33,30,"lang_auto_danh_tu_dong")+": "," "),e.xp6(2),e.hij(" ",e.lcZ(35,32,"lang_auto_he_thong_se_tu_dong_danh_so_bao_danh_theo_alpha_b")," "),e.xp6(4),e.hij(" ","*"+e.lcZ(39,34,"lang_auto_danh_bang_file_excel")+": "," "),e.xp6(2),e.hij(" ",e.lcZ(41,36,"lang_auto_tai_file_excel_de_danh_so_bao_danh")," "),e.xp6(2),e.Q6J("ngIf","0"==p.form.controls.howIdentification.value),e.xp6(1),e.Q6J("ngIf","1"==p.form.controls.howIdentification.value),e.xp6(3),e.Q6J("ngIf",1===p.data.type&&2===p.stepView),e.xp6(2),e.hij(" ",e.lcZ(49,38,"lang_auto_huy")," "),e.xp6(2),e.Q6J("ngIf",1===p.stepView),e.xp6(1),e.Q6J("ngIf",2===p.stepView),e.xp6(1),e.Q6J("ngIf",p.exportStudentObjs))},dependencies:[W.O5,U.gM,i._Y,i.Fj,i._,i.JJ,i.JL,i.sg,i.u,i.CE,S.KC,N.Nh5,j.Y,D.N,C.M,u.B,v.V,c.f,f.R,x.Q,g.S,z.M,q.JV,q.Bo],encapsulation:2}),b})()},37783:(F,Z,m)=>{m.d(Z,{W:()=>U});var i=m(47496),l=m(65879),A=m(96814),_=m(70342),t=m(77988),e=m(92596),T=m(67742),I=m(36727);function k(S,N){if(1&S){const j=l.EpF();l.O4$(),l.kcU(),l.ynx(0),l.TgZ(1,"div",25)(2,"p",26),l._uU(3),l.ALo(4,"mytranslate"),l.qZA(),l.TgZ(5,"p",26),l._uU(6),l.ALo(7,"mytranslate"),l.qZA(),l.TgZ(8,"div",27),l._UZ(9,"input",28),l.TgZ(10,"button",29),l.NdJ("click",function(){l.CHM(j);const C=l.oxw();return l.KtG(C.showCopySuccess())}),l.O4$(),l.TgZ(11,"svg",30),l._UZ(12,"rect",31)(13,"path",32),l.qZA(),l._uU(14),l.ALo(15,"mytranslate"),l.qZA()()(),l.BQk()}if(2&S){const j=l.oxw();l.xp6(3),l.Oqu(l.lcZ(4,5,"lang_auto_hoac")),l.xp6(3),l.Oqu(l.lcZ(7,7,"lang_classroom_QR_join_link_copy")),l.xp6(3),l.Q6J("value",j.linkUrl),l.xp6(1),l.Q6J("cdkCopyToClipboard",j.copyLinkToClipboard(j.linkUrl)),l.xp6(4),l.hij(" ",l.lcZ(15,9,"lang_auto_sao_chep")," ")}}const W=function(S){return{"w-80":S}};let U=(()=>{class S extends i.Q{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(j){return j}onChangeURL(j){this.qrCodeDownloadLink=j}downloadQrCode(){try{let j=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,j)}catch{console.log("Download QrCode error")}}}return S.\u0275fac=function(){let N;return function(D){return(N||(N=l.n5z(S)))(D||S)}}(),S.\u0275cmp=l.Xpm({type:S,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[l.qOj],decls:28,vars:16,consts:[["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["xPosition","before"],["showQrCode","matMenu"],["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"ngClass","click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel","qrCodeURL"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2","intro-x"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"]],template:function(j,D){if(1&j&&(l.TgZ(0,"button",0),l.ALo(1,"mytranslate"),l.O4$(),l.TgZ(2,"svg",1),l._UZ(3,"rect",2)(4,"rect",3)(5,"rect",4)(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13),l.qZA()(),l.kcU(),l.TgZ(15,"mat-menu",14,15)(17,"div",16),l.NdJ("click",function(u){return u.stopPropagation()}),l.TgZ(18,"div",17)(19,"qrcode",18),l.NdJ("qrCodeURL",function(u){return D.onChangeURL(u)}),l.qZA()(),l.TgZ(20,"a",19),l.NdJ("click",function(){return D.downloadQrCode()}),l.O4$(),l.TgZ(21,"svg",20),l._UZ(22,"path",21)(23,"polyline",22)(24,"line",23),l.qZA(),l._uU(25),l.ALo(26,"mytranslate"),l.qZA(),l.YNc(27,k,16,11,"ng-container",24),l.qZA()()),2&j){const C=l.MAs(16);l.s9C("matTooltip",l.lcZ(1,10,"lang_auto_quet_hoac_tai_ma_qr_code")),l.Q6J("matMenuTriggerFor",C),l.xp6(17),l.Q6J("ngClass",l.VKq(14,W,D.showLink)),l.xp6(2),l.Q6J("allowEmptyString",!0)("qrdata",D.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),l.xp6(6),l.hij(" ",l.lcZ(26,12,"lang_auto_tai_ve_may")," "),l.xp6(2),l.Q6J("ngIf",D.showLink)}},dependencies:[A.mk,A.O5,_.i3,t.VK,t.p6,e.gM,T.V,I.JV],encapsulation:2}),S})()},72428:(F,Z,m)=>{m.d(Z,{b:()=>A});var i=m(65619),l=m(65879);let A=(()=>{class _{constructor(){this.hasDataChanged=new i.X(!1),this.currentMessage=this.hasDataChanged.asObservable()}changeStatus(e){this.hasDataChanged.next(e)}}return _.\u0275fac=function(e){return new(e||_)},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},71299:(F,Z,m)=>{m.d(Z,{y:()=>Gt});var i=m(47496),l=m(56223),A=m(19347),_=m(72164),t=m(65879),e=m(75470),T=m(96814),I=m(43389),k=m(36727);function W(n,d){1&n&&t._UZ(0,"azt-loading-effect",3)}function U(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",4)(1,"div",3)(2,"h3",5),t.O4$(),t.TgZ(3,"svg",6),t._UZ(4,"path",7)(5,"path",8)(6,"path",9)(7,"line",10)(8,"line",11),t.qZA(),t.kcU(),t.TgZ(9,"span",12),t._uU(10),t.ALo(11,"mytranslate"),t.TgZ(12,"span",13),t._uU(13),t.qZA(),t._uU(14,"? "),t.qZA()()()(),t.TgZ(15,"div",14)(16,"button",15),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.cancelDelete())}),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"button",16),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.deletePermissionEvent())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()}if(2&n){const o=t.oxw();t.xp6(10),t.hij(" ",t.lcZ(11,4,"lang_auto_ban_co_chac_chan_muon_xoa")," "),t.xp6(3),t.hij(" ",o.groupObj?o.groupObj.name:null==o.teacherObj?null:o.teacherObj.fullName," "),t.xp6(4),t.Oqu(t.lcZ(18,6,"lang_auto_huy")),t.xp6(3),t.Oqu(t.lcZ(21,8,"lang_auto_xac_nhan"))}}let S=(()=>{class n extends _.e{deletePermissionEvent(){this.groupObj?this.deleteGroupPermission(this.groupObj?.id,this.shareDataObj?.objectId,this.shareDataObj?.objectCodeType):this.teacherObj&&this.deleteTeacherPermission(this.teacherObj?.id,this.shareDataObj?.objectId,this.shareDataObj?.objectCodeType)}cancelDelete(){this.dialogRef.close(!1)}deleteTeacherPermission(o,a,r){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteTeacherPermissionGet(o??0,a??0,r??0).subscribe(h=>{1==h.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}deleteGroupPermission(o,a,r){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteGroupPermissionGet(o??0,a??0,r??0).subscribe(h=>{1==h.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}constructor(o,a,r){super(a,o),this.dialogRef=o,this.data=a,this.permissionTeamService=r,this.groupObj=void 0,this.teacherObj=void 0,this.groupObj=a.groupObj,this.teacherObj=a.teacherObj,this.shareDataObj=a.shareDataObj}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(A.so),t.Y36(A.WI),t.Y36(e.sb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-share-confirm-to-delete-permission-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box"],["class","p-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"text-base","mr-auto"],[1,"font-medium","text-danger"],[1,"p-3","text-right"],["azt-track-service","confirm-to-delete-permission-dialog-mNjxnIzWG8",1,"btn","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-to-delete-permission-dialog-EP57nAPMmq",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,W,1,0,"azt-loading-effect",1),t.YNc(2,U,22,10,"ng-template",null,2,t.W1O),t.qZA()),2&o){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[T.O5,I.l,k.JV],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),n})();var N=m(94690),j=m(2783);let D=(()=>{class n{getTeamPermissionObjs(o,a){var r=this.getCacheKey(o);this.cacheTeamPermissionObjs&&this.cacheTeamPermissionObjs.hasOwnProperty(r)&&this.cacheTeamPermissionObjs[r]?a(this.cacheTeamPermissionObjs[r],""):this.permissionTeamService.apiPermissionTeamGetAllPermissionsGet(o).subscribe(h=>{1==h.success?(this.cacheTeamPermissionObjs[r]=h.data?.objs??[],a(h.data?.objs??[],"")):a([],h.message??"")})}getCacheKey(o){return"type_"+o}constructor(o){this.permissionTeamService=o,this.cacheTeamPermissionObjs={}}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(e.sb))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=m(92596),u=m(85904),v=m(67679);function c(n,d){1&n&&t._UZ(0,"azt-loading-effect",3)}function f(n,d){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Oqu(null==o.teacherObj?null:o.teacherObj.phone)}}function x(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",27)(1,"button",28),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.showConfirmDeleteDialog())}),t.ALo(2,"mytranslate"),t.O4$(),t.TgZ(3,"svg",29),t._UZ(4,"path",30)(5,"path",31)(6,"path",32)(7,"line",33)(8,"line",34),t.qZA()()()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"lang_auto_xoa_quyen")))}function g(n,d){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"input",36),t.TgZ(2,"label",37),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()),2&n){const o=d.$implicit,a=d.index;t.Q6J("formGroup",o),t.xp6(1),t.MGl("id","role-0-",a,""),t.xp6(1),t.MGl("for","role-0-",a,""),t.xp6(1),t.hij(" ",t.lcZ(4,4,o.controls.checkboxLabel.value)," ")}}function z(n,d){1&n&&(t.TgZ(0,"div",38),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_ban_phai_chon_quyen")))}function q(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h3",6)(3,"span",7),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"span",8),t._uU(7),t.qZA()(),t.TgZ(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12),t._UZ(12,"azt-create-avatar",13),t.qZA()(),t.TgZ(13,"div",14)(14,"p",15)(15,"span"),t._uU(16),t.qZA()(),t.YNc(17,f,2,1,"div",16),t.qZA(),t.YNc(18,x,9,3,"div",17),t.qZA()(),t.TgZ(19,"div",18)(20,"form",19)(21,"div",20),t.YNc(22,g,5,6,"div",21),t.qZA()(),t.YNc(23,z,3,3,"div",22),t.qZA()()(),t.TgZ(24,"div",23)(25,"button",24),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.closeDialog())}),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"button",25),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.addOrUpdate())}),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()()}if(2&n){const o=t.oxw();let a,r,h;t.xp6(4),t.hij(" ",t.lcZ(5,14,"lang_auto_gan_quyen_cho")," "),t.xp6(3),t.hij(" ",null!==(a=null==o.groupObj?null:o.groupObj.name)&&void 0!==a?a:null==o.teacherObj?null:o.teacherObj.fullName,""),t.xp6(5),t.Q6J("linkAvatar",null==o.teacherObj?null:o.teacherObj.avatar)("nameCreateAvatar",null!==(r=null==o.groupObj?null:o.groupObj.name)&&void 0!==r?r:null==o.teacherObj?null:o.teacherObj.fullName)("size",40),t.xp6(4),t.Oqu(null!==(h=null==o.groupObj?null:o.groupObj.name)&&void 0!==h?h:null==o.teacherObj?null:o.teacherObj.fullName),t.xp6(1),t.Q6J("ngIf",null==o.teacherObj?null:o.teacherObj.phone),t.xp6(1),t.Q6J("ngIf",null==o.teamSharePermissionObjsAssigned?null:o.teamSharePermissionObjsAssigned.length),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(2),t.Q6J("ngForOf",o.form.controls.permissionObjs.controls),t.xp6(1),t.Q6J("ngIf",o.form.invalid),t.xp6(3),t.Oqu(t.lcZ(27,16,"lang_auto_huy")),t.xp6(2),t.Q6J("disabled",o.form.invalid),t.xp6(1),t.Oqu(t.lcZ(30,18,"lang_auto_luu"))}}let J=(()=>{class n extends _.e{addNewCheckBox(o,a,r){var h=new l.cw({checkbox:new l.NI(r,{nonNullable:!0}),checkboxId:new l.NI(a.id,{nonNullable:!0}),checkboxLabel:new l.NI(a.key??"",{nonNullable:!0})});o.push(h)}addOrUpdate(){this.initStatusObj();for(var o=[],a=this.form.getRawValue(),r=0;r<a.permissionObjs.length;r++)a.permissionObjs[r].checkbox&&o.push(a.permissionObjs[r].checkboxId);this.groupObj?this.permissionTeamService.apiPermissionTeamShareObjectForGroupPermissionPost({groupId:this.groupObj.id??0,objectId:this.shareDataObj?.objectId??0,typeObj:this.shareDataObj?.objectCode??"",permissionIds:o}).subscribe(L=>{1==L.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(L.message??"",!0),this.dialogRef.close(!1))}):this.permissionTeamService.apiPermissionTeamShareObjectForTeacherPermissionPost({teacherId:this.teacherObj?.id??0,objectId:this.shareDataObj?.objectId??0,typeObj:this.shareDataObj?.objectCode??"",permissionIds:o}).subscribe(L=>{1==L.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(L.message??"",!0),this.dialogRef.close(!1))})}showConfirmDeleteDialog(){this.sAztDialogService.open(S,{data:{groupObj:this.groupObj,teacherObj:this.teacherObj,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.dialogRef.close(a)})}closeDialog(){this.dialogRef.close(!1)}filterValidPermissionObjsByObjectCode(o){"CLASSROOM"==this.shareDataObj?.objectCode&&!this.permissionService.hasFullPermission("classroom",{permissionObj:this.permissionObj})&&this.permissionService.hasShareMarkPointPermission("classroom",{permissionObj:this.permissionObj})&&(o=o.filter(h=>2==h.id));for(var a=[],r=0;r<o.length;r++)(this.permissionService.hasFullPermission("exam",{permissionObj:this.permissionObj})||this.permissionService.hasFullPermission("homework",{permissionObj:this.permissionObj})||this.permissionService.hasConfigAndMarkClassroomPermission("exam",{permissionObj:this.permissionObj})&&7==o[r].id||this.permissionService.hasSharePermission("classroom",{permissionObj:this.permissionObj})&&"CLASSROOM"==this.shareDataObj?.objectCode)&&a.push(o[r]);return a}initFormData(){this.initStatusObj(),this.aztShareSAztPermissionService.getTeamPermissionObjs(this.shareDataObj?.objectCodeType??0,(o,a)=>{if(a)this.errorStatusObj(a);else{for(var r=this.filterValidPermissionObjsByObjectCode(o),h=0;h<r.length;h++){var P=this.teamSharePermissionObjsAssigned?.find(L=>L.id==r[h].id);(this.groupObj||this.teacherObj)&&this.addNewCheckBox(this.form.controls?.permissionObjs,r[h],!!P)}this.stopStatusObj()}})}ngOnInit(){super.ngOnInit(),this.shareDataObj?.classroomWithPermissionObj?this.permissionObj=this.shareDataObj?.classroomWithPermissionObj?.permissionObj:this.shareDataObj?.examWithPermissionObj?this.permissionObj=this.shareDataObj?.examWithPermissionObj?.permissionObj:this.shareDataObj?.homeworkWithPermissionObj?this.permissionObj=this.shareDataObj?.homeworkWithPermissionObj?.permissionObj:this.shareDataObj?.categoryWithPermissionObj&&(this.permissionObj=this.shareDataObj?.categoryWithPermissionObj?.permissionObj),this.teamSharePermissionObjsAssigned=this.groupObj?.teamPermissions?.length?this.groupObj?.teamPermissions:this.teacherObj?.teamPermissions,this.initFormData()}constructor(o,a,r,h,P,L){super(h,r),this.permissionService=o,this.sAztDialogService=a,this.dialogRef=r,this.data=h,this.permissionTeamService=P,this.aztShareSAztPermissionService=L,this.groupObj=void 0,this.teacherObj=void 0,this.teamSharePermissionObjsAssigned=void 0,this.groupObj=h.groupObj,this.teacherObj=h.teacherObj,this.shareDataObj=h.shareDataObj,this.form=new l.cw({permissionObjs:new l.Oe([])})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(N.j),t.Y36(j.C),t.Y36(A.so),t.Y36(A.WI),t.Y36(e.sb),t.Y36(D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-share-add-or-edit-permission-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","relative"],[1,"text-lg"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit"],[1,"mr-2",3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","delete-block",4,"ngIf"],[1,"x","px-3"],[3,"formGroup"],["formArrayName","permissionObjs"],["class","col-span-12 mt-3",3,"formGroup",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3 azt-pl-0",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","add-or-edit-permission-dialog-IkGPsxO5mp",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","add-or-edit-permission-dialog-OOSFibqmjy",1,"btn","btn-primary",3,"disabled","click"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"delete-block"],["azt-track-service","add-or-edit-permission-dialog-o6UT_07q4",1,"btn","btn-outline-danger","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"col-span-12","mt-3",3,"formGroup"],["type","checkbox","formControlName","checkbox",1,"show-code","form-check-input","mr-0",3,"id"],[1,"form-check-label",3,"for"],[1,"alert","alert-danger","mt-3","azt-pl-0"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,c,1,0,"azt-loading-effect",1),t.YNc(2,q,31,20,"ng-template",null,2,t.W1O),t.qZA()),2&o){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[T.sg,T.O5,C.gM,l._Y,l.Wl,l.JJ,l.JL,l.sg,l.u,l.CE,I.l,u.g,v.M,k.JV],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),n})();var Y=m(55484),R=m(88131),K=m(78953),G=m(72428),V=m(95545),H=m(93523),$=m(71646);function X(n,d){1&n&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_thu_muc")," "))}function tt(n,d){1&n&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_lop")," "))}function et(n,d){1&n&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_de_thi")," "))}function ot(n,d){1&n&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_bai_tap")," "))}function it(n,d){if(1&n&&(t.TgZ(0,"span",15,16),t._uU(2),t.qZA()),2&n){const o=t.MAs(1),a=t.oxw(2);let r,h;t.s9C("matTooltip",(null!==(r=null==a.shareDataObj.classroomWithPermissionObj?null:a.shareDataObj.classroomWithPermissionObj.name)&&void 0!==r?r:"")||(null!==(r=null==a.shareDataObj.examWithPermissionObj?null:a.shareDataObj.examWithPermissionObj.name)&&void 0!==r?r:"")||(null!==(r=null==a.shareDataObj.homeworkWithPermissionObj?null:a.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==r?r:"")||(null!==(r=null==a.shareDataObj.categoryWithPermissionObj?null:a.shareDataObj.categoryWithPermissionObj.name)&&void 0!==r?r:"")),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.xp6(2),t.hij(' "',(null!==(h=null==a.shareDataObj.classroomWithPermissionObj?null:a.shareDataObj.classroomWithPermissionObj.name)&&void 0!==h?h:"")||(null!==(h=null==a.shareDataObj.examWithPermissionObj?null:a.shareDataObj.examWithPermissionObj.name)&&void 0!==h?h:"")||(null!==(h=null==a.shareDataObj.homeworkWithPermissionObj?null:a.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==h?h:"")||(null!==(h=null==a.shareDataObj.categoryWithPermissionObj?null:a.shareDataObj.categoryWithPermissionObj.name)&&void 0!==h?h:""),'" ')}}function nt(n,d){if(1&n&&(t.TgZ(0,"h3",10)(1,"span",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,X,3,3,"span",12),t.YNc(5,tt,3,3,"span",12),t.YNc(6,et,3,3,"span",12),t.YNc(7,ot,3,3,"span",12),t.YNc(8,it,3,4,"span",13),t.qZA()),2&n){const o=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"lang_auto_chia_se")," "),t.xp6(2),t.Q6J("ngIf","CATEGORY"===(null==o.shareDataObj?null:o.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf","CLASSROOM"===(null==o.shareDataObj?null:o.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf","EXAM"===(null==o.shareDataObj?null:o.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf","HOMEWORK"===(null==o.shareDataObj?null:o.shareDataObj.objectCode)),t.xp6(1),t.Q6J("ngIf",o.shareDataObj)}}function at(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"input",20),t.NdJ("focus",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.showSearchList())})("focusout",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.hideSearchList())}),t.ALo(4,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(5,"svg",21),t._UZ(6,"circle",22)(7,"line",23),t.qZA()()()()}if(2&n){const o=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,2,"lang_auto_nhap_ten_hoac_sdt")),t.Q6J("formControl",o.searchNameKey)}}function rt(n,d){if(1&n&&(t.TgZ(0,"span",43),t.ALo(1,"mytranslate"),t._uU(2),t.qZA()),2&n){const o=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_da_duoc_chia_se_quyen")),t.xp6(2),t.hij(" ",o.name," ")}}function b(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function y(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(3);return t.KtG(P.showEditPermissionDialog(h,void 0))}),t.TgZ(1,"div",33),t.O4$(),t.TgZ(2,"svg",34),t._UZ(3,"path",35)(4,"circle",36)(5,"path",37)(6,"path",38),t.qZA()(),t.kcU(),t.TgZ(7,"div",39)(8,"a",40),t.YNc(9,rt,3,4,"span",41),t.YNc(10,b,2,1,"span",42),t.qZA()()()}if(2&n){const o=d.$implicit;t.xp6(9),t.Q6J("ngIf",null==o.teamPermissions?null:o.teamPermissions.length),t.xp6(1),t.Q6J("ngIf",!(null!=o.teamPermissions&&o.teamPermissions.length))}}function s(n,d){if(1&n&&(t._UZ(0,"img",49),t.ALo(1,"mycdn")),2&n){const o=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,o.avatar),t.LSH)}}function p(n,d){if(1&n&&t._UZ(0,"azt-create-avatar",50),2&n){const o=t.oxw().$implicit;t.Q6J("nameCreateAvatar",o.fullName)("size",40)}}function O(n,d){if(1&n&&(t.TgZ(0,"span",43),t.ALo(1,"mytranslate"),t._uU(2),t.qZA()),2&n){const o=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"lang_auto_da_duoc_chia_se_quyen")),t.xp6(2),t.hij(" ",o.fullName," ")}}function w(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.fullName," ")}}function E(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.phone," ")}}function M(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.email," ")}}function Q(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(3);return t.KtG(P.showEditPermissionDialog(void 0,h))}),t.TgZ(1,"div",45),t.YNc(2,s,2,3,"img",46),t.YNc(3,p,1,2,"azt-create-avatar",47),t.qZA(),t.TgZ(4,"div",39)(5,"a",40),t.YNc(6,O,3,4,"span",41),t.YNc(7,w,2,1,"span",42),t.qZA(),t.TgZ(8,"div",48),t.YNc(9,E,2,1,"span",42),t.YNc(10,M,2,1,"span",42),t.qZA()()()}if(2&n){const o=d.$implicit;t.xp6(2),t.Q6J("ngIf",null!=o.avatar&&""!=(null==o?null:o.avatar)),t.xp6(1),t.Q6J("ngIf",null==o.avatar||""==(null==o?null:o.avatar)),t.xp6(3),t.Q6J("ngIf",null==o.teamPermissions?null:o.teamPermissions.length),t.xp6(1),t.Q6J("ngIf",!(null!=o.teamPermissions&&o.teamPermissions.length)),t.xp6(2),t.Q6J("ngIf",o.phone),t.xp6(1),t.Q6J("ngIf",o.email&&!o.phone)}}function st(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",51)(1,"p"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",52),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(3);return t.KtG(r.showAddNewTeacherDialog())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_auto_khong_co_du_lieu")),t.xp6(3),t.Oqu(t.lcZ(6,4,"lang_testbank_share_add_new_teacher")))}const B=function(){return["name"]},lt=function(){return["fullName","phone","email"]};function ct(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"ng-scrollbar",27)(3,"div",17),t.YNc(4,y,11,2,"div",28),t.ALo(5,"appFilter"),t.YNc(6,Q,11,6,"div",29),t.ALo(7,"appFilter"),t.YNc(8,st,7,6,"div",30),t.ALo(9,"appFilter"),t.ALo(10,"appFilter"),t.qZA()()(),t.TgZ(11,"a",31),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.goToGroup())}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}if(2&n){const o=t.oxw(2);t.xp6(2),t.Q6J("visibility","hover"),t.xp6(2),t.Q6J("ngForOf",t.Dn7(5,5,null==o.shareDataObj?null:o.shareDataObj.allGroupPermissionObjs,o.searchNameKey.value,t.DdM(23,B))),t.xp6(2),t.Q6J("ngForOf",t.Dn7(7,9,null==o.shareDataObj?null:o.shareDataObj.allTeacherPermissionObjs,o.searchNameKey.value,t.DdM(24,lt))),t.xp6(2),t.Q6J("ngIf",1==o.hasDataInSearchList(t.Dn7(9,13,null==o.shareDataObj?null:o.shareDataObj.allGroupPermissionObjs,o.searchNameKey.value,t.DdM(25,B)),t.Dn7(10,17,null==o.shareDataObj?null:o.shareDataObj.allTeacherPermissionObjs,o.searchNameKey.value,t.DdM(26,lt)))),t.xp6(4),t.hij(" ",t.lcZ(13,21,"lang_auto_quan_ly_danh_ba_upper"),"")}}function dt(n,d){if(1&n&&t.YNc(0,ct,14,27,"div",24),2&n){const o=t.oxw();t.Q6J("ngIf",o.isShowSearchList)}}function mt(n,d){1&n&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function ht(n,d){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" (",t.lcZ(2,1,"lang_auto_ban"),") "))}function pt(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw(3);t.xp6(1),t.hij(" ",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.phone," ")}}function _t(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw(3);t.xp6(1),t.hij(" ",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.email," ")}}function ut(n,d){if(1&n&&(t.TgZ(0,"div",60)(1,"div",61)(2,"div",45),t._UZ(3,"azt-create-avatar",62),t.qZA(),t.TgZ(4,"div",63)(5,"span",64,16),t._uU(7),t.YNc(8,ht,3,3,"span",42),t.qZA(),t.TgZ(9,"div",48),t.YNc(10,pt,2,1,"span",42),t.YNc(11,_t,2,1,"span",42),t.qZA()(),t.TgZ(12,"div",65),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()),2&n){const o=t.MAs(6),a=t.oxw(2);t.xp6(3),t.Q6J("linkAvatar",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.avatar)("nameCreateAvatar",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.fullName)("size",40),t.xp6(2),t.s9C("matTooltip",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.fullName),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.xp6(2),t.hij(" ",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.fullName," "),t.xp6(1),t.Q6J("ngIf",(null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.id)===(null==a.userObj?null:a.userObj.id)),t.xp6(2),t.Q6J("ngIf",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.phone),t.xp6(1),t.Q6J("ngIf",(null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.email)&&!(null!=a.shareDataObj&&null!=a.shareDataObj.ownerObj&&a.shareDataObj.ownerObj.phone)),t.xp6(2),t.hij(" ",t.lcZ(14,11,"lang_auto_chu_so_huu")," ")}}function gt(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.phone," ")}}function bt(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.email," ")}}function xt(n,d){if(1&n&&(t.TgZ(0,"span",72),t._uU(1),t.ALo(2,"aztPipeShowTooltipPermission"),t.qZA()),2&n){const o=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.teamPermissions))}}function ft(n,d){if(1&n&&(t.TgZ(0,"span",70),t.ALo(1,"aztPipeShowTooltipPermission"),t.YNc(2,xt,3,3,"span",71),t.qZA()),2&n){const o=d.index,a=t.oxw().$implicit;t.Q6J("matTooltip",t.lcZ(1,2,a.teamPermissions)),t.xp6(2),t.Q6J("ngIf",0===o)}}function Ot(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",66)(1,"div",67),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(2);return t.KtG(P.showEditPermissionDialog(void 0,h))}),t.TgZ(2,"div",45),t._UZ(3,"azt-create-avatar",62),t.qZA(),t.TgZ(4,"div",63)(5,"span",64,16),t._uU(7),t.qZA(),t.TgZ(8,"div",48),t.YNc(9,gt,2,1,"span",42),t.YNc(10,bt,2,1,"span",42),t.qZA()(),t.TgZ(11,"div",68),t.YNc(12,ft,3,4,"span",69),t.qZA()()()}if(2&n){const o=d.$implicit,a=t.MAs(6);t.xp6(3),t.Q6J("linkAvatar",o.avatar)("nameCreateAvatar",o.fullName)("size",40),t.xp6(2),t.s9C("matTooltip",o.fullName),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.xp6(2),t.hij(" ",o.fullName," "),t.xp6(2),t.Q6J("ngIf",o.phone),t.xp6(1),t.Q6J("ngIf",o.email&&!o.phone),t.xp6(2),t.Q6J("ngForOf",o.teamPermissions)}}function vt(n,d){if(1&n&&(t.TgZ(0,"span",72),t._uU(1),t.ALo(2,"aztPipeShowTooltipPermission"),t.qZA()),2&n){const o=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.teamPermissions))}}function Ct(n,d){if(1&n&&(t.TgZ(0,"span",70),t.ALo(1,"aztPipeShowTooltipPermission"),t.YNc(2,vt,3,3,"span",74),t.qZA()),2&n){const o=d.index,a=t.oxw().$implicit;t.Q6J("matTooltip",t.lcZ(1,2,a.teamPermissions)),t.xp6(2),t.Q6J("ngIf",0===o)}}function wt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",66)(1,"div",73),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(2);return t.KtG(P.showEditPermissionDialog(h,void 0))}),t.TgZ(2,"div",33),t.O4$(),t.TgZ(3,"svg",34),t._UZ(4,"path",35)(5,"circle",36)(6,"path",37)(7,"path",38),t.qZA()(),t.kcU(),t.TgZ(8,"div",63)(9,"span",64,16),t._uU(11),t.qZA()(),t.TgZ(12,"div",68),t.YNc(13,Ct,3,4,"span",69),t.qZA()()()}if(2&n){const o=d.$implicit,a=t.MAs(10);t.xp6(9),t.s9C("matTooltip",o.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.xp6(2),t.hij(" ",o.name," "),t.xp6(2),t.Q6J("ngForOf",o.teamPermissions)}}function jt(n,d){if(1&n&&(t.TgZ(0,"div",53)(1,"h4",54),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,mt,2,0,"span",55),t.qZA(),t.TgZ(5,"div",56)(6,"ng-scrollbar",27),t.YNc(7,ut,15,13,"div",57),t.YNc(8,Ot,13,10,"div",58),t.YNc(9,wt,14,5,"div",58),t.qZA()()()),2&n){const o=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"lang_auto_nhung_nguoi_co_quyen_truy_cap")," "),t.xp6(2),t.Q6J("ngIf",o.statusObj.loading),t.xp6(2),t.Q6J("visibility","hover"),t.xp6(1),t.Q6J("ngIf",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.fullName),t.xp6(1),t.Q6J("ngForOf",null==o.shareDataObj?null:o.shareDataObj.teacherObjs),t.xp6(1),t.Q6J("ngForOf",null==o.shareDataObj?null:o.shareDataObj.groupObjs)}}let At=(()=>{class n extends _.e{goToGroup(){this.dialogRef.close(!1),this.backToLink?this.commonService.myNavigationWithQueryString("/admin/teacher-group/2/0","?backTo="+encodeURIComponent(this.backToLink)):this.commonService.myNavigation("/admin/teacher-group/2/0")}closeDialog(){this.hasNewData&&this.aztShareService.changeStatus(!0),this.dialogRef.close(this.hasNewData)}showConfirmDeleteDialog(o,a){this.sAztDialogService.open(S,{data:{groupObj:o,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(h=>{h&&(this.getTeamPermissionObjs(),this.hasNewData=!0)})}showEditPermissionDialog(o,a){this.sAztDialogService.open(J,{data:{groupObj:o,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(h=>{h&&(this.getTeamPermissionObjs(),this.hasNewData=!0)})}showAddNewTeacherDialog(){this.sAztDialogService.open(Y.u,{width:"600px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{type:"add_teacher"},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getTeamPermissionObjs()})}hasDataInSearchList(o,a){return o.length<=0&&a.length<=0}showSearchList(){this.isShowSearchList=!0}hideSearchList(){setTimeout(()=>{this.isShowSearchList=!1},500)}getTeamPermissionObjs(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.shareDataObj?.objectCodeType??0,this.shareDataObj?.objectId??0).subscribe(o=>{1==o.success?(this.shareDataObj&&o.data?.owner&&(this.shareDataObj.ownerObj=o.data?.owner,this.shareDataObj.groupObjs=o.data?.groups??[],this.shareDataObj.teacherObjs=o.data?.teachers??[],this.shareDataObj.allGroupPermissionObjs=this.sortService.sortGroupName(o.data?.allGroupPermissionObjs??[]),this.shareDataObj.allTeacherPermissionObjs=this.sortService.sortFirstNameStudents(o.data?.allTeacherPermissionObjs??[])),this.stopStatusObj()):this.errorStatusObj(o.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.searchNameKey.setValue(""),this.userObj=this.userService.getUserObj()}constructor(o,a,r,h,P,L,Vt){super(a,o),this.dialogRef=o,this.data=a,this.sAztDialogService=r,this.teacherGroupService=h,this.sortService=P,this.userService=L,this.aztShareService=Vt,this.backToLink="",this.searchNameKey=new l.NI("",{nonNullable:!0}),this.hasNewData=!1,this.isShowSearchList=!1,this.backToLink=this.data.backToLink??"",this.shareDataObj=this.data.shareDataObj,this.dialogRef.backdropClick().subscribe(()=>{this.closeDialog()})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(A.so),t.Y36(A.WI),t.Y36(j.C),t.Y36(e.Kq),t.Y36(R.V),t.Y36(K.U),t.Y36(G.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-list-people-who-will-share-dialog"]],features:[t.qOj],decls:19,vars:7,consts:[[1,"box","search-form"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"azt-dialog-share","relative"],[3,"ngTemplateOutlet"],[1,"p-3","text-right"],["azt-track-service","list-people-who-will-share-dialog-5fjZW_u4sI",1,"btn","btn-secondary","mr-2",3,"click"],["sharedBoxTitle",""],["searchSharedBox",""],["listGroupAndTeacherWhoWillShare",""],["listSharedPeople",""],[1,"text-lg","p-3",2,"padding-bottom","0"],[1,"inline-block",2,"vertical-align","middle"],["class","inline-block mx-1 lowercase","style"," vertical-align: middle; ",4,"ngIf"],["class","inline-block truncate font-medium","style","vertical-align: middle;",3,"matTooltip","isDisabledTooltip","matTooltipDisabled",4,"ngIf"],[1,"inline-block","mx-1","lowercase",2,"vertical-align","middle"],[1,"inline-block","truncate","font-medium",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"p-3"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","bg-slate-200","dark:bg-darkmode-300","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"formControl","placeholder","focus","focusout"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","search",1,"lucide","lucide-search","w-4","h-4","absolute","my-auto","inset-y-0","mr-3","right-0","text-slate-500","cursor-pointer"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["class","azt-list-member absolute box z-50 shadow-lg border border-slate-300 dark:border-darkmode-400","style","top: auto; width: calc(100% - 1.5rem); left: 0.75rem",4,"ngIf"],[1,"azt-list-member","absolute","box","z-50","shadow-lg","border","border-slate-300","dark:border-darkmode-400",2,"top","auto","width","calc(100% - 1.5rem)","left","0.75rem"],[1,"list-permission","mt-3",2,"height","220px"],["pointerEventsMethod","scrollbar",3,"visibility"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f","class","flex flex-row items-center mb-2 p-3 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md cursor-pointer",3,"click",4,"ngFor","ngForOf"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB","class","flex flex-row items-center mb-2 p-3 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-fZvVPtnGj3",1,"manage-contacts","p-2","inline-block",3,"click"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f",1,"flex","flex-row","items-center","mb-2","p-3","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","cursor-pointer",3,"click"],[1,"w-10","h-10","rounded-full","border","border-slate-200","dark:border-darkmode-400","image-fit","lg:mr-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","text-primary",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M22 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["style","color: gray !important",3,"matTooltip",4,"ngIf"],[4,"ngIf"],[2,"color","gray !important",3,"matTooltip"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB",1,"flex","flex-row","items-center","mb-2","p-3","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","cursor-pointer",3,"click"],[1,"w-10","h-10","image-fit","lg:mr-1"],["class","rounded-full",3,"src",4,"ngIf"],["class","mr-2",3,"nameCreateAvatar","size",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"rounded-full",3,"src"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-center"],["azt-track-service","list-people-who-will-share-dialog-eNG01s2dq3",1,"manage-contacts","p-2","inline-block",2,"font-size","12px",3,"click"],[1,"mt-3"],[1,"text-md","font-medium","px-3"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"list-permission","mt-3","mb-4",2,"height","260px"],["class","item-permission px-3 mb-2",4,"ngIf"],["class","item-permission cursor-pointer px-3 mb-2",4,"ngFor","ngForOf"],[1,"w-4","h-4","inline-block","mr-2"],[1,"item-permission","px-3","mb-2"],[1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","mr-auto","text-left","mt-0",2,"width","40%"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px","vertical-align","middle"],[1,"item-permission","cursor-pointer","px-3","mb-2"],["azt-track-service","list-people-who-will-share-dialog-jHbwL2fY5e",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"click"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],["class","truncate","style","width: 85px;vertical-align: middle;",4,"ngIf"],[1,"truncate",2,"width","85px","vertical-align","middle"],["azt-track-service","list-people-who-will-share-dialog-1nM5xDYgHR",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"click"],["class","truncate","style","width: 85px; vertical-align: middle;",4,"ngIf"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.GkF(3,3)(4,3)(5,3)(6,3),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return a.closeDialog()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()(),t.YNc(11,nt,9,8,"ng-template",null,6,t.W1O),t.YNc(13,at,8,4,"ng-template",null,7,t.W1O),t.YNc(15,dt,1,1,"ng-template",null,8,t.W1O),t.YNc(17,jt,10,8,"ng-template",null,9,t.W1O)),2&o){const r=t.MAs(12),h=t.MAs(14),P=t.MAs(16),L=t.MAs(18);t.xp6(3),t.Q6J("ngTemplateOutlet",r),t.xp6(1),t.Q6J("ngTemplateOutlet",h),t.xp6(1),t.Q6J("ngTemplateOutlet",P),t.xp6(1),t.Q6J("ngTemplateOutlet",L),t.xp6(3),t.Oqu(t.lcZ(10,5,"lang_auto_huy"))}},dependencies:[T.sg,T.O5,T.tP,C.gM,l.Fj,l.JJ,l.oH,V.KC,u.g,H.Q,$.n,k.JV,k.QN,k.om,k.Uk],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),n})();function Pt(n,d){1&n&&t._UZ(0,"azt-loading-effect",3)}function Tt(n,d){if(1&n&&(t._UZ(0,"img",24),t.ALo(1,"mycdn")),2&n){const o=t.oxw(2);t.s9C("src",t.lcZ(1,1,null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.avatar),t.LSH)}}function kt(n,d){if(1&n&&t._UZ(0,"azt-create-avatar",25),2&n){const o=t.oxw(2);t.Q6J("nameCreateAvatar",null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.fullName)("size",40)}}function St(n,d){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Oqu(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.phone)}}function yt(n,d){if(1&n&&(t.TgZ(0,"div",27)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const o=d.$implicit;t.xp6(2),t.hij("- ",t.lcZ(3,1,o.key),"")}}function Dt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.confirmReceivePermission(3))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_tu_choi")))}function Zt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.confirmReceivePermission(2))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chap_nhan")))}function zt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(2);return t.KtG(r.confirmReceivePermission(3))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xoa_quyen")))}const Mt=function(){return[]};function It(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",4)(1,"div",3)(2,"h3",5)(3,"span",6),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"span",7),t._uU(7),t.qZA()(),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),t.YNc(12,Tt,2,3,"img",12),t.YNc(13,kt,1,2,"azt-create-avatar",13),t.qZA()(),t.TgZ(14,"div",14)(15,"p",15)(16,"span"),t._uU(17),t.qZA()(),t.YNc(18,St,2,1,"div",16),t.qZA()()(),t.TgZ(19,"div",17)(20,"div"),t.YNc(21,yt,4,3,"div",18),t.qZA()()()(),t.TgZ(22,"div",19)(23,"button",20),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.cancelReceivePermission())}),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.YNc(26,Dt,3,3,"button",21),t.YNc(27,Zt,3,3,"button",22),t.YNc(28,zt,3,3,"button",23),t.qZA()}if(2&n){const o=t.oxw();let a;t.xp6(4),t.hij(" ",t.lcZ(5,11,"lang_auto_gan_quyen_cho")," "),t.xp6(3),t.hij(" ",null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.fullName,""),t.xp6(5),t.Q6J("ngIf",null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.avatar),t.xp6(1),t.Q6J("ngIf",!(null!=o.whoSharePermissionObj&&o.whoSharePermissionObj.avatar)),t.xp6(4),t.Oqu(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.fullName),t.xp6(1),t.Q6J("ngIf",null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.phone),t.xp6(3),t.Q6J("ngForOf",null!==(a=null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionObjs)&&void 0!==a?a:t.DdM(15,Mt)),t.xp6(3),t.Oqu(t.lcZ(25,13,"lang_auto_huy")),t.xp6(2),t.Q6J("ngIf",1==(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionStatus)),t.xp6(1),t.Q6J("ngIf",1==(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionStatus)),t.xp6(1),t.Q6J("ngIf",2==(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionStatus))}}let Nt=(()=>{class n extends _.e{cancelReceivePermission(){this.dialogRef.close(!1)}confirmReceivePermission(o){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({tenantId:this.whoSharePermissionObj?.id,objectId:this.shareDataObj?.objectId??0,objectCode:this.shareDataObj?.objectCode??"",status:o}).subscribe(r=>{1==r.success?3==o?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.successStatusObj("lang_auto_xac_nhan_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(r.message??"",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}constructor(o,a,r){super(a,o),this.dialogRef=o,this.data=a,this.permissionTeamService=r,this.whoSharePermissionObj=void 0,this.whoSharePermissionObj=a.whoSharePermissionObj,this.shareDataObj=a.shareDataObj}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(A.so),t.Y36(A.WI),t.Y36(e.sb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-share-show-who-share-permission-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-lg","font-medium","flex","items-center"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2","x"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit","lg:mr-1","flex","items-center"],["class","rounded-full",3,"src",4,"ngIf"],["class","mr-2",3,"nameCreateAvatar","size",4,"ngIf"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],[1,"x","px-3"],["style","font-weight: 500; margin-top: 5px",4,"ngFor","ngForOf"],[1,"p-3","text-right","w-full"],["azt-track-service","who-share-permission-dialog-2WKlv8lCOaG",1,"btn","btn-secondary",3,"click"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a","class","btn btn-danger ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz","class","btn btn-primary ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27","class","btn btn-primary ml-2",3,"click",4,"ngIf"],[1,"rounded-full",3,"src"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-slate-500","text-xs","mt-0.5"],[2,"font-weight","500","margin-top","5px"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a",1,"btn","btn-danger","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz",1,"btn","btn-primary","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27",1,"btn","btn-primary","ml-2",3,"click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,Pt,1,0,"azt-loading-effect",1),t.YNc(2,It,29,16,"ng-template",null,2,t.W1O),t.qZA()),2&o){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[T.sg,T.O5,I.l,u.g,k.JV,k.QN],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),n})();var Lt=m(30617);function Et(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",16)(1,"div",17),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(2);return t.KtG(P.showAddOrEditPermissionDialog(void 0,h))}),t._UZ(2,"azt-create-avatar",18),t.qZA()()}if(2&n){const o=d.$implicit;t.xp6(2),t.Q6J("linkAvatar",o.avatar)("nameCreateAvatar",o.fullName)("size",30)}}function Wt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div")(1,"div",19),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(2);return t.KtG(P.showAddOrEditPermissionDialog(h,void 0))}),t._UZ(2,"azt-create-avatar",20),t.qZA()()}if(2&n){const o=d.$implicit,a=d.index,r=t.oxw(2);t.Gre("w-8 h-8 mb-3 image-fit show-tickets zoom-in -ml-4 ",(null==r.shareDataObj||null==r.shareDataObj.groupObjs?null:r.shareDataObj.groupObjs.length)==a+1?"mr-2":""," "),t.xp6(2),t.Q6J("nameCreateAvatar",o.name)("size",30)}}function Ut(n,d){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"span",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chia_se")," "))}const qt=function(n){return{"ml-2":n}};function Jt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",5)(1,"div"),t.YNc(2,Et,3,3,"div",6),t.YNc(3,Wt,3,5,"div",7),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.showListPeopleWhoWillShare())}),t.O4$(),t.TgZ(5,"svg",9),t._UZ(6,"circle",10)(7,"circle",11)(8,"circle",12)(9,"line",13)(10,"line",14),t.qZA(),t.YNc(11,Ut,3,3,"span",15),t.qZA()()()}if(2&n){const o=t.oxw();t.xp6(1),t.Tol(0!=(null==o.shareDataObj||null==o.shareDataObj.teacherObjs?null:o.shareDataObj.teacherObjs.length)||0!=(null==o.shareDataObj||null==o.shareDataObj.groupObjs?null:o.shareDataObj.groupObjs.length)?"pl-4":""),t.xp6(1),t.Q6J("ngForOf",null==o.shareDataObj?null:o.shareDataObj.teacherObjs),t.xp6(1),t.Q6J("ngForOf",null==o.shareDataObj?null:o.shareDataObj.groupObjs),t.xp6(1),t.Q6J("ngClass",t.VKq(7,qt,0!=(null==o.shareDataObj||null==o.shareDataObj.teacherObjs?null:o.shareDataObj.teacherObjs.length)||0!=(null==o.shareDataObj||null==o.shareDataObj.groupObjs?null:o.shareDataObj.groupObjs.length))),t.xp6(7),t.Q6J("ngIf",!o.isMobileDevice)}}function Ft(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",22)(1,"button",23),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.showListPeopleWhoWillShare())}),t.O4$(),t.TgZ(2,"svg",24),t._UZ(3,"path",25)(4,"circle",26)(5,"line",27)(6,"line",28),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&n&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_chia_se")," "))}function Qt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"mat-icon",35),t.NdJ("click",function(){t.CHM(o);const r=t.oxw().$implicit,h=t.oxw(2);return t.KtG(h.showWhoSharePermissionDialog(r))}),t._uU(1,"check_circle"),t.qZA()}}const Rt=function(n){return{"z-index":n}};function Bt(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(2);return t.KtG(P.showWhoSharePermissionDialog(h))}),t._UZ(2,"azt-create-avatar",18),t.qZA(),t.YNc(3,Qt,2,0,"mat-icon",34),t.qZA()}if(2&n){const o=d.$implicit,a=d.index,r=t.oxw(2);let h;t.Q6J("ngStyle",t.VKq(5,Rt,(null!==(h=null==r.shareDataObj||null==r.shareDataObj.teacherObjs?null:r.shareDataObj.teacherObjs.length)&&void 0!==h?h:0)+(null!==(h=null==r.shareDataObj||null==r.shareDataObj.groupObjs?null:r.shareDataObj.groupObjs.length)&&void 0!==h?h:0)-a)),t.xp6(2),t.Q6J("linkAvatar",o.avatar)("nameCreateAvatar",o.fullName)("size",28),t.xp6(1),t.Q6J("ngIf",2==o.permissionStatus||5==o.permissionStatus)}}function Yt(n,d){if(1&n&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Bt,4,7,"div",31),t.qZA()),2&n){const o=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,2,"lang_auto_giao_vien_chia_se"),":\xa0"),t.xp6(2),t.Q6J("ngForOf",o.whoSharePermission)}}const Kt=function(n){return{permissionObj:n}};let Gt=(()=>{class n extends i.Q{showAddOrEditPermissionDialog(o,a){this.sAztDialogService.open(J,{data:{groupObj:o,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(h=>{h&&this.getTeamPermissionObjs()})}showWhoSharePermissionDialog(o){this.sAztDialogService.open(Nt,{data:{whoSharePermissionObj:o,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&this.getTeamPermissionObjs()})}showListPeopleWhoWillShare(){this.sAztDialogService.open(At,{data:{backToLink:this.backToLink,shareDataObj:this.shareDataObj},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getTeamPermissionObjs()})}getTeamPermissionObjs(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.objectCodeType,this.objectId).subscribe(o=>{1==o.success?(this.whoSharePermission=o.data?.whoSharePermission??[],o.data?.owner&&(this.shareDataObj={objectId:this.objectId,objectCode:this.objectCode,objectCodeType:this.objectCodeType,classroomWithPermissionObj:this.classroomWithPermissionObj,examWithPermissionObj:this.examWithPermissionObj,homeworkWithPermissionObj:this.homeworkWithPermissionObj,categoryWithPermissionObj:this.categoryWithPermissionObj,allGroupPermissionObjs:this.sortService.sortGroupName(o.data?.allGroupPermissionObjs??[]),allTeacherPermissionObjs:this.sortService.sortFirstNameStudents(o.data?.allTeacherPermissionObjs??[]),groupObjs:o.data?.groups??[],teacherObjs:o.data?.teachers??[],ownerObj:o.data?.owner}),this.stopStatusObj()):this.errorStatusObj(o.message??"",!0)})}initPermission(){this.classroomWithPermissionObj?(this.permissionObj=this.classroomWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.examWithPermissionObj?(this.permissionObj=this.examWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.homeworkWithPermissionObj?(this.permissionObj=this.homeworkWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.categoryWithPermissionObj&&(this.permissionObj=this.categoryWithPermissionObj?.permissionObj,this.getTeamPermissionObjs())}ngOnChanges(){this.initPermission()}constructor(o,a,r){super(),this.teacherGroupService=o,this.sortService=a,this.sAztDialogService=r,this.backToLink="",this.objectId=0,this.objectCodeType=0,this.objectCode="",this.whoSharePermission=[]}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(e.Kq),t.Y36(R.V),t.Y36(j.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-share"]],inputs:{backToLink:"backToLink",objectId:"objectId",objectCodeType:"objectCodeType",objectCode:"objectCode",classroomWithPermissionObj:"classroomWithPermissionObj",examWithPermissionObj:"examWithPermissionObj",homeworkWithPermissionObj:"homeworkWithPermissionObj",categoryWithPermissionObj:"categoryWithPermissionObj"},features:[t.qOj,t.TTD],decls:6,vars:8,consts:[[1,"share-block"],[1,"intro","flex"],["class","share-block-item mt-2",4,"ngIf"],["class","share-block-item w-full",4,"ngIf"],["style","display: flex; align-items: center; margin-top: 0.5rem;",4,"ngIf"],[1,"share-block-item","mt-2"],["class","w-8 h-8 mb-2 image-fit show-tickets zoom-in -ml-4",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["azt-track-service","share-button-box-2Ui6XcNn3Z",1,"btn","btn-sm","btn-outline-secondary",2,"vertical-align","middle",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","y1","13.51","x2","15.42","y2","17.49"],["x1","15.41","y1","6.51","x2","8.59","y2","10.49"],["class","ml-2",4,"ngIf"],[1,"w-8","h-8","mb-2","image-fit","show-tickets","zoom-in","-ml-4"],["azt-track-service","share-button-box-vHBJYcuuna",3,"click"],[3,"linkAvatar","nameCreateAvatar","size"],["azt-track-service","share-button-box-GF6YzJ_wHE",3,"click"],[3,"nameCreateAvatar","size"],[1,"ml-2"],[1,"share-block-item","w-full"],["azt-track-service","share-button-box-i8iU_Wa_sh",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],[2,"display","flex","align-items","center","margin-top","0.5rem"],[2,"font-weight","500"],["class","show-tickets clickable ml-1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable","ml-1",3,"ngStyle"],["azt-track-service","share-button-box-CleLxM4YRRW",3,"click"],["azt-track-service","share-button-box-dftQMLrW33j","style","color: green; position: absolute; top: 15px; left: 50%; font-size: 15px;",3,"click",4,"ngIf"],["azt-track-service","share-button-box-dftQMLrW33j",2,"color","green","position","absolute","top","15px","left","50%","font-size","15px",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Jt,12,9,"div",2),t.ALo(3,"aztShareCheckPermission"),t.YNc(4,Ft,9,3,"div",3),t.qZA(),t.YNc(5,Yt,5,4,"div",4),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngIf",t.xi3(3,3,t.VKq(6,Kt,a.permissionObj),a.objectCode)&&4!=a.objectCodeType),t.xp6(2),t.Q6J("ngIf",4==a.objectCodeType),t.xp6(1),t.Q6J("ngIf",a.whoSharePermission.length>0))},dependencies:[T.mk,T.sg,T.O5,T.PC,Lt.Hw,u.g,k.JV,k.KU],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),n})()},47578:(F,Z,m)=>{m.d(Z,{B:()=>D});var i=m(65879),l=m(69862),A=m(47496),_=m(61713),t=m(63120),e=m(82228);let T=(()=>{class C extends A.Q{uploadFile(v){return new Promise(c=>{(0,_.hv)(v).then(f=>{this.apiUploadService.commonUploadFile(this.uploadToCdnMenu,f,this.qrCode).subscribe(x=>{if(x.type!==l.dt.UploadProgress)if(1===x.success){const g={...x.data};c(g)}else this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau",x.message??"none")),c(null)})})})}onFileSelected(v){if(!this.isDisabled)return this.showErrorSnack(this.commonService.translateString("lang_auto_ban_khong_co_quyen_thuc_hien_hanh_dong_nay"));const c=v.target,f=c.files;if(!f)return;if(Array.from(f).find(z=>this.isNotSupportedFile(z)))return this.showErrorSnack("lang_auto_file_khong_duoc_ho_trolang_auto_chua_ho_tro_dinh_dang"+this.notSupportedFile+"lang_auto_vui_long_thu_lai");const g=Array.from(f).map(z=>this.uploadFile(z));this.isUploadFile=!0,Promise.all(g).then(z=>{this.isUploadFile=!1;const q=[];z.map(J=>null!=J&&q.push(J)),this.emitUploadComplete(q)}),c.files=null}isNotSupportedFile(v){const c=[this.notSupportedFile],f=v.name.split(".").pop()?.toLowerCase();return c.includes(`.${f}`)}constructor(v){super(),this.apiUploadService=v,this.fileType=[t.AZ.ALL],this.qrCode="",this.isUploadFile=!1,this.isDisabled=!0,this.notSupportedFile=t.lN.NONE}}return C.\u0275fac=function(v){return new(v||C)(i.Y36(e.W))},C.\u0275cmp=i.Xpm({type:C,selectors:[["ng-component"]],inputs:{fileType:"fileType",qrCode:"qrCode",uploadToCdnMenu:"uploadToCdnMenu",isDisabled:"isDisabled",notSupportedFile:"notSupportedFile"},features:[i.qOj],decls:0,vars:0,template:function(v,c){},encapsulation:2}),C})();var I=m(96814),k=m(56223),W=m(67679),U=m(71646);function S(C,u){1&C&&i.Hsn(0,0,["*ngIf","!isUploadFile"])}function N(C,u){1&C&&(i.TgZ(0,"span",5),i._UZ(1,"azt-loading-ui"),i.qZA())}const j=["*"];let D=(()=>{class C extends T{constructor(){super(...arguments),this.uploadComplete=new i.vpe}emitUploadComplete(v){v.length>0&&this.uploadComplete.emit(v)}}return C.\u0275fac=function(){let u;return function(c){return(u||(u=i.n5z(C)))(c||C)}}(),C.\u0275cmp=i.Xpm({type:C,selectors:[["azt-upload-multiple-box"]],outputs:{uploadComplete:"uploadComplete"},features:[i.qOj],ngContentSelectors:j,decls:6,vars:3,consts:[[1,"flex","items-center","justify-center",3,"click"],["type","file","id","box-left-file-input","formControlName","file","multiple","",1,"form-control","file-input",2,"display","none",3,"accept","change"],["formChoseFile",""],[4,"ngIf"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(v,c){if(1&v){const f=i.EpF();i.F$t(),i.TgZ(0,"div",0),i.NdJ("click",function(){i.CHM(f);const g=i.MAs(2);return i.KtG(g.click())}),i.TgZ(1,"input",1,2),i.NdJ("change",function(g){return c.onFileSelected(g)}),i.qZA(),i.YNc(3,S,1,0,"ng-content",3),i.TgZ(4,"div"),i.YNc(5,N,2,0,"span",4),i.qZA()()}2&v&&(i.xp6(1),i.s9C("accept",c.fileType),i.xp6(2),i.Q6J("ngIf",!c.isUploadFile),i.xp6(2),i.Q6J("ngIf",c.isUploadFile))},dependencies:[I.O5,k.Fj,k.JJ,k.u,W.M,U.n],encapsulation:2}),C})()},63120:(F,Z,m)=>{m.d(Z,{AZ:()=>l,j6:()=>i,lN:()=>A});var i=function(_){return _.HOMEWORK="homework",_.EXAM_QUESTIONS="exam_questions",_.FRONT_EXAM_MOBILE_QR="front_exam_mobile_qr",_.FRONT_HOMEWORK="front_homework",_.FRONT_EXAM="front_exam",_.AVATAR="avatar",_.BUSINESS_PLUGINS="business_plugins",_.BUSINESS_NEWS="business_news",_}(i||{}),l=function(_){return _.ALL="*",_.WORD=".doc, .docx",_.PPT=".ppt, .pptx",_.EXCEL=".xls, .xlsx",_.PDF=".pdf",_.VIDEO="video/*",_.IMAGE="image/*, capture=camera",_.AUDIO="audio/*",_.SYNTHETIC=".doc, .docx, .ppt, .pptx, .xls, .xlsx, .pdf, video/*, image/*, audio/*",_}(l||{}),A=function(_){return _.NONE="",_.WMV=".wmv",_}(A||{})}}]);