(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[5603],{85603:(F,C,l)=>{"use strict";l.r(C),l.d(C,{QuestionLibraryModule:()=>Zt});var m=l(54460),I=l(10936),c=l(89163),f=l(65162),b=l(23047),h=l(15343),k=l(13763),p=l(25571),w=l(44233),_=l(5502),d=l(21656),y=l(70050),u=l(7050),v=l(91100),x=l(1133),E=l(50866),j=l(59640),e=l(26860),R=l(92867),O=l(17776),Q=l(52909),M=l(18718),S=l(52811),ee=l(51614),L=l(96451),te=l(50334),ne=l(47712),T=l(76975);function ie(t,o){1&t&&(e.j41(0,"div",7)(1,"h3",8),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_create_tree_category_select_level_subject_require")))}function ae(t,o){1&t&&(e.j41(0,"div",7)(1,"h3",8),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_create_tree_category_select_level_subject_no_data")))}function oe(t,o){1&t&&(e.j41(0,"div",7),e.nrm(1,"azt-loading-ui",9),e.j41(2,"h3",8),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_cms_common_loading")))}function se(t,o){if(1&t&&(e.qex(0),e.DNE(1,ie,4,3,"div",6),e.DNE(2,ae,4,3,"div",6),e.DNE(3,oe,5,3,"div",6),e.bVm()),2&t){const a=e.XpG();e.R7$(1),e.Y8G("ngIf",!("structure"==a.modeView||a.loadingKnowledge||a.schoolLevelValue&&a.schoolSubjectValue||a.noDataKnowledge)),e.R7$(1),e.Y8G("ngIf",(a.noDataKnowledge||!a.nodeObjs.length)&&a.schoolLevelValue&&a.schoolSubjectValue&&!a.loadingKnowledge),e.R7$(1),e.Y8G("ngIf",a.loadingKnowledge)}}function re(t,o){1&t&&e.nrm(0,"lucide-icon",24)}function le(t,o){1&t&&e.nrm(0,"lucide-icon",25)}function ce(t,o){if(1&t){const a=e.RV6();e.j41(0,"i",21),e.bIt("click",function(){e.eBV(a);const i=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.clickToNode(i))}),e.DNE(1,re,1,0,"lucide-icon",22),e.DNE(2,le,1,0,"lucide-icon",23),e.k0s()}if(2&t){const a=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",!a.isExpand),e.R7$(1),e.Y8G("ngIf",a.isExpand)}}function de(t,o){1&t&&e.nrm(0,"lucide-icon",26)}function ue(t,o){if(1&t){const a=e.RV6();e.j41(0,"a",27),e.bIt("click",function(i){e.eBV(a);const s=e.XpG().$implicit;return e.XpG(2).goToFrameQuestionList(s),e.Njj(i.stopPropagation())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}if(2&t){const a=e.XpG().$implicit;e.R7$(1),e.SpI("(",a.totalQuestion+" "+e.bMT(2,1,"lang_auto_cau_hoi"),")")}}function me(t,o){if(1&t){const a=e.RV6();e.j41(0,"a",28),e.bIt("click",function(){e.eBV(a);const i=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.removeKnowledgeForm(i,i))}),e.nI1(1,"mytranslate"),e.j41(2,"span",29),e.nrm(3,"lucide-icon",30),e.k0s()()}2&t&&e.Y8G("matTooltip",e.bMT(1,1,"lang_auto_xoa"))}function _e(t,o){1&t&&e.eu8(0)}const A=function(t,o){return{item:t,parentObj:o}};function pe(t,o){if(1&t&&(e.qex(0),e.j41(1,"div",32),e.DNE(2,_e,1,0,"ng-container",33),e.k0s(),e.bVm()),2&t){const a=o.$implicit,n=e.XpG(2).$implicit;e.XpG(2);const i=e.sdS(7);e.R7$(2),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.l_i(2,A,a,n))}}function ge(t,o){if(1&t&&(e.qex(0),e.DNE(1,pe,3,5,"ng-container",31),e.bVm()),2&t){const a=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",a.children)}}const P=function(t){return{"padding-left":t}};function be(t,o){if(1&t){const a=e.RV6();e.j41(0,"div",12)(1,"div",13),e.DNE(2,ce,3,2,"i",14),e.j41(3,"label",15),e.bIt("click",function(){const s=e.eBV(a).$implicit,r=e.XpG(2);return e.Njj(r.clickToNode(s))}),e.DNE(4,de,1,0,"lucide-icon",16),e.j41(5,"span"),e.nrm(6,"span",17),e.nI1(7,"safeContentQuestion"),e.nI1(8,"async"),e.nI1(9,"mathJaxContent"),e.k0s(),e.DNE(10,ue,3,3,"a",18),e.k0s(),e.DNE(11,me,4,3,"a",19),e.k0s(),e.DNE(12,ge,2,1,"ng-container",20),e.k0s()}if(2&t){const a=o.$implicit,n=e.XpG(2);e.R7$(1),e.yjJ("id","node-",a.randomHashId,"-",a.level,"-",a.nodeIndex,""),e.Y8G("ngStyle",e.eq3(16,P,12*a.level+"px")),e.R7$(1),e.Y8G("ngIf",a.children.length),e.R7$(2),e.Y8G("ngIf",a.data.id&&("knowledge"==a.typeNode||"objective"==a.typeNode&&!a.children.length)),e.R7$(2),e.Y8G("innerHTML",e.bMT(7,10,e.bMT(8,12,e.bMT(9,14,a.text))),e.npT),e.R7$(4),e.Y8G("ngIf","structure"==n.modeView),e.R7$(1),e.Y8G("ngIf","create"==n.modeView),e.R7$(1),e.Y8G("ngIf",a.children.length)}}function he(t,o){if(1&t&&(e.j41(0,"div",10),e.DNE(1,be,13,18,"div",11),e.k0s()),2&t){const a=e.XpG();e.R7$(1),e.Y8G("ngForOf",a.nodeObjs)}}function fe(t,o){1&t&&e.nrm(0,"lucide-icon",24)}function ve(t,o){1&t&&e.nrm(0,"lucide-icon",25)}function ye(t,o){if(1&t){const a=e.RV6();e.j41(0,"i",21),e.bIt("click",function(){e.eBV(a);const i=e.XpG(3).$implicit,s=e.XpG(2);return e.Njj(s.clickToNode(i))}),e.DNE(1,fe,1,0,"lucide-icon",22),e.DNE(2,ve,1,0,"lucide-icon",23),e.k0s()}if(2&t){const a=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngIf",!a.isExpand),e.R7$(1),e.Y8G("ngIf",a.isExpand)}}function ke(t,o){1&t&&e.nrm(0,"lucide-icon",26)}function xe(t,o){if(1&t){const a=e.RV6();e.j41(0,"a",27),e.bIt("click",function(i){e.eBV(a);const s=e.XpG(3).$implicit;return e.XpG(2).goToFrameQuestionList(s),e.Njj(i.stopPropagation())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}if(2&t){const a=e.XpG(3).$implicit;e.R7$(1),e.SpI("(",a.totalQuestion+" "+e.bMT(2,1,"lang_auto_cau_hoi"),")")}}function je(t,o){if(1&t){const a=e.RV6();e.j41(0,"a",28),e.bIt("click",function(){e.eBV(a);const i=e.XpG(2).$implicit,s=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.removeKnowledgeForm(s,i))}),e.nI1(1,"mytranslate"),e.j41(2,"span",29),e.nrm(3,"lucide-icon",30),e.k0s()()}2&t&&e.Y8G("matTooltip",e.bMT(1,1,"lang_auto_xoa"))}function Ie(t,o){1&t&&e.eu8(0)}function we(t,o){if(1&t&&(e.qex(0),e.j41(1,"div",32),e.DNE(2,Ie,1,0,"ng-container",33),e.k0s(),e.bVm()),2&t){const a=o.$implicit,n=e.XpG(4).$implicit;e.XpG(2);const i=e.sdS(7);e.R7$(2),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.l_i(2,A,a,n))}}function Te(t,o){if(1&t&&(e.qex(0),e.DNE(1,we,3,5,"ng-container",31),e.bVm()),2&t){const a=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngForOf",a.children)}}function Ee(t,o){if(1&t){const a=e.RV6();e.j41(0,"div",35)(1,"div",13),e.DNE(2,ye,3,2,"i",14),e.j41(3,"label",15),e.bIt("click",function(){e.eBV(a);const i=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.clickToNode(i))}),e.DNE(4,ke,1,0,"lucide-icon",16),e.j41(5,"span"),e.nrm(6,"span",17),e.nI1(7,"safeContentQuestion"),e.nI1(8,"async"),e.nI1(9,"mathJaxContent"),e.k0s(),e.DNE(10,xe,3,3,"a",18),e.k0s(),e.DNE(11,je,4,3,"a",19),e.k0s(),e.DNE(12,Te,2,1,"ng-container",20),e.k0s()}if(2&t){const a=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(1),e.yjJ("id","node-",a.randomHashId,"-",a.level,"-",a.nodeIndex,""),e.Y8G("ngStyle",e.eq3(16,P,12*a.level+"px")),e.R7$(1),e.Y8G("ngIf",a.children.length),e.R7$(2),e.Y8G("ngIf",a.data.id&&("knowledge"==a.typeNode||"objective"==a.typeNode&&!a.children.length)),e.R7$(2),e.Y8G("innerHTML",e.bMT(7,10,e.bMT(8,12,e.bMT(9,14,a.text))),e.npT),e.R7$(4),e.Y8G("ngIf","structure"==n.modeView),e.R7$(1),e.Y8G("ngIf","create"==n.modeView),e.R7$(1),e.Y8G("ngIf",a.children.length)}}function Ce(t,o){if(1&t&&(e.qex(0),e.DNE(1,Ee,13,18,"div",34),e.bVm()),2&t){const a=o.$implicit;e.R7$(1),e.Y8G("ngIf",a.isExpand)}}function Re(t,o){if(1&t&&(e.qex(0),e.DNE(1,Ce,2,1,"ng-container",20),e.bVm()),2&t){const a=e.XpG().parentObj,n=e.XpG();e.R7$(1),e.Y8G("ngIf",n.asTemplateDataObj(a))}}function De(t,o){if(1&t&&e.DNE(0,Re,2,1,"ng-container",20),2&t){const a=o.item,n=e.XpG();e.Y8G("ngIf",n.asTemplateDataObj(a))}}const Fe=function(t){return{"box p-2 mt-2":t}};let V=(()=>{var t;class o extends te.C{constructor(){super(...arguments),this.schoolSubjectValue=0,this.schoolLevelValue=0,this.bankId=0,this.noDataKnowledge=!1,this.nodeEmitData=new e.bkB,this.loadingKnowledge=!1,this.nodeObjs=[],this.uuidService=(0,e.WQX)(Q.D)}clickToNode(n){n.children.length&&(n.isExpand?this.collapse(n):this.expand(n))}goToFrameQuestionList(n){if("structure"==this.modeView){let i=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/admin/question-library/view-question-list-node/"+this.bankId+"/"+n.data.id,"?backto="+encodeURIComponent(i))}}asTemplateDataObj(n){return n}removeKnowledgeForm(n,i){if(!n.level)return this.nodeObjs=this.nodeObjs.filter(s=>s.data.id!=n.data.id),void this.nodeEmitData.emit(this.nodeObjs);i.children=i.children.filter(s=>s.data.id!=n.data.id),this.nodeEmitData.emit(this.nodeObjs)}standardTreeNodes(n,i){let s=[];return n.forEach((r,g)=>{let D={level:i,typeNode:r.objectiveId?"objective":r.knowledgeId?"knowledge":"",isExpand:0===i,isShow:!0,nodeIndex:g,selected:!1,randomHashId:this.uuidService.getUuid(),text:r.title,data:{...r,children:[]},children:[],totalQuestion:r.questions.length};D.children=this.standardTreeNodes(r.children,i+1),s.push(D)}),s}ngOnInit(){this.loadingKnowledge=!!this.rawNodes.length,this.nodeObjs=this.standardTreeNodes(this.rawNodes,0)}ngOnChanges(n){n.rawNodes&&(this.loadingKnowledge=!0,this.nodeObjs=this.standardTreeNodes(this.rawNodes,0),this.loadingKnowledge=!1,this.nodeEmitData.emit(this.nodeObjs))}}return(t=o).\u0275fac=function(){let a;return function(i){return(a||(a=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-question-library-tree-component"]],inputs:{rawNodes:"rawNodes",modeView:"modeView",schoolSubjectValue:"schoolSubjectValue",schoolLevelValue:"schoolLevelValue",bankId:"bankId",noDataKnowledge:"noDataKnowledge"},outputs:{nodeEmitData:"nodeEmitData"},features:[e.Vt3,e.OA$],decls:8,vars:6,consts:[[1,"relative",2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],["track","vertical","pointerEventsMethod","scrollbar",3,"visibility"],["perfectScroll",""],[4,"ngIf","ngIfElse"],["showKnowledge",""],["itemTemplate",""],["class","mx-auto my-auto text-center midle-box",4,"ngIf"],[1,"mx-auto","my-auto","text-center","midle-box"],[1,"text-slate-500","text-md",2,"font-weight","420"],[1,"mr-2"],["id","list-category-arr",1,"grid","grid-cols-12","gap-1"],["class","col-span-12 items-center",4,"ngFor","ngForOf"],[1,"col-span-12","items-center"],[1,"flex","items-center","mt-1","w-full",3,"id","ngStyle"],["class","mr-2","aria-hidden","true",3,"click",4,"ngIf"],[2,"line-height","1.6",3,"click"],["name","send-horizontal","size","14","class","mr-2","class","lucide lucide-send-horizontal w-4 h-4 flex-none mr-1",4,"ngIf"],[3,"innerHTML"],["class","link__color ml-2",3,"click",4,"ngIf"],["class","ml-auto btn btn-transparent btn-outline-danger btn-sm text-slate-700 font-medium",3,"matTooltip","click",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"mr-2",3,"click"],["name","chevron-right","size","14",4,"ngIf"],["name","chevron-down","size","14",4,"ngIf"],["name","chevron-right","size","14"],["name","chevron-down","size","14"],["name","send-horizontal","size","14",1,"lucide","lucide-send-horizontal","w-4","h-4","flex-none","mr-1"],[1,"link__color","ml-2",3,"click"],[1,"ml-auto","btn","btn-transparent","btn-outline-danger","btn-sm","text-slate-700","font-medium",3,"matTooltip","click"],[1,"w-4","h-4","flex-none"],["name","x","size","18"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-1","w-full","children-tmp"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","col-span-12",4,"ngIf"],[1,"col-span-12"]],template:function(n,i){if(1&n&&(e.j41(0,"div",0)(1,"ng-scrollbar",1,2),e.DNE(3,se,4,3,"ng-container",3),e.DNE(4,he,2,1,"ng-template",null,4,e.C5r),e.k0s()(),e.DNE(6,De,1,1,"ng-template",null,5,e.C5r)),2&n){const s=e.sdS(5);e.Y8G("ngClass",e.eq3(4,Fe,"create"==i.modeView)),e.R7$(1),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngIf",!i.nodeObjs.length||!i.schoolLevelValue||!i.schoolSubjectValue||i.noDataKnowledge||i.loadingKnowledge)("ngIfElse",s)}},dependencies:[m.YU,m.Sq,m.bT,m.T3,m.B3,ne.oV,_.Yh,S.R,h.WGl,m.Jj,T.wp,T.km,T.ep],encapsulation:2}),o})();function Oe(t,o){if(1&t&&e.nrm(0,"azt-loading-effect",4),2&t){const a=e.XpG();e.Y8G("currentStatusObj",a.statusObj)}}function Se(t,o){1&t&&e.nrm(0,"azt-loading-ui",12)}function Le(t,o){if(1&t){const a=e.RV6();e.j41(0,"h3",5),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div",6)(4,"config-level-subject-book",7),e.bIt("changeDataEvent",function(i){e.eBV(a);const s=e.XpG();return e.Njj(s.getKnowledgeData(i))}),e.k0s()(),e.j41(5,"app-question-library-tree-component",8),e.bIt("nodeEmitData",function(i){e.eBV(a);const s=e.XpG();return e.Njj(s.nodeDataEmitted=i)}),e.k0s(),e.j41(6,"div",9)(7,"button",10),e.bIt("click",function(){e.eBV(a);const i=e.XpG();return e.Njj(i.saveQuestionLibrary())}),e.DNE(8,Se,1,0,"azt-loading-ui",11),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()}if(2&t){const a=e.XpG();e.R7$(1),e.JRh(e.bMT(2,14,"lang_create_tree_question_library")),e.R7$(3),e.Y8G("form",a.form)("removeLevelSubjectWithOtherName",!0)("showBookData",!0)("layout","label_in_one_line")("useExamSchoolLogData",!0),e.R7$(1),e.Y8G("rawNodes",a.nodeObjsData)("modeView","create")("noDataKnowledge",a.noDataKnowledge)("schoolSubjectValue",a.form.controls.schoolSubject.value)("schoolLevelValue",a.form.controls.schoolLevel.value),e.R7$(2),e.Y8G("disabled",a.statusObj.loading||!a.form.controls.schoolLevel.value||!a.form.controls.schoolSubject.value||a.noDataKnowledge),e.R7$(1),e.Y8G("ngIf",a.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(10,16,"lang_create_tree_category_btn")," ")}}let Me=(()=>{var t;class o extends j.H{getKnowledgeData(n){let i=this.form.controls.schoolLevel?.value??0,s=this.form.controls.schoolSubject?.value??0,r=this.form.controls.bookIdFormControl?.value??0;this.bookName=n?.bookName??"",s&&i&&this.waitDestroy(this.aiElearningService.aiApiV1ElearningGetKnowledgeTreeGet(i,s,void 0,r>0?r:void 0).subscribe({next:g=>{g.nodes.length?(this.nodeObjsData=g.nodes,this.noDataKnowledge=!1):this.noDataKnowledge=!0},error:g=>{this.noDataKnowledge=!0}}))}saveQuestionLibrary(){this.initStatusObj();let r={levelId:this.form.controls.schoolLevel?.value??0,subjectId:this.form.controls.schoolSubject?.value??0,bookId:this.form.controls.bookIdFormControl?.value??0,bookName:this.bookName,nodes:this.getNodeSaveApi()};this.waitDestroy(this.eBanksService.apiEbanksPost(r).subscribe(g=>{g.success?(this.successStatusObj("lang_testbank_test_list_create_new_tree_document_success",!0),this.commonService.myNavigation("/admin/question-library")):this.errorStatusObj(g.message,!0)}))}getNodeSaveApi(){return this.nodeDataEmitted.map(n=>({name:n.text,suggestModel:n.typeNode,suggestId:n.data.objectiveId??n.data.knowledgeId,children:this.getChildNode(n.children)}))}getChildNode(n){return n.map(i=>({name:i.text,suggestModel:i.data.objectiveId?"objective":i.data.knowledgeId?"knowledge":"",suggestId:i.data.objectiveId??i.data.knowledgeId,children:this.getChildNode(i.children)}))}ngOnInit(){this.backToLink=this.commonService.getMyQueryParam("backto")??"/admin/question-library"}constructor(n,i,s){super(),this.eBanksService=n,this.aiElearningService=i,this.uuidService=s,this.backToLink="",this.noDataKnowledge=!1,this.nodeObjsData=[],this.nodeDataEmitted=[],this.bookName="",this.form=new I.gE({schoolLevel:new I.MJ(0,{nonNullable:!0}),schoolSubject:new I.MJ(0,{nonNullable:!0}),bookIdFormControl:new I.MJ(0,{nonNullable:!0})})}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(R.nd),e.rXU(O.T5),e.rXU(Q.D))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-add-new-question-library"]],features:[e.Vt3],decls:5,vars:3,consts:[[3,"headerBackToLink"],[1,"container-fluid","overflow-hidden"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"text-md","font-bold","mt-3"],[1,"mt-3","box","p-2"],[3,"form","removeLevelSubjectWithOtherName","showBookData","layout","useExamSchoolLogData","changeDataEvent"],[3,"rawNodes","modeView","noDataKnowledge","schoolSubjectValue","schoolLevelValue","nodeEmitData"],[1,"mt-2","float-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(n,i){if(1&n&&(e.j41(0,"teacher-layout",0)(1,"div",1),e.DNE(2,Oe,1,1,"azt-loading-effect",2),e.DNE(3,Le,11,18,"ng-template",null,3,e.C5r),e.k0s()()),2&n){const s=e.sdS(4);e.Y8G("headerBackToLink",i.backToLink),e.R7$(2),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",s)}},dependencies:[m.bT,M.K,S.R,ee.X,L.Q,V,T.wp],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})();var Ge=l(39712),Ne=l(60531),ze=l(74175),$e=l(80859);const Qe=function(t,o,a,n){return[t,o,a,n]},Ae=function(){return{"text-primary":!0}};let Pe=(()=>{var t;class o extends j.H{changeFileAction(n){this.file=n,this.startParser(this.file)}startParser(n){this.isFollowLibParser=!0,this.commonService.getTranslate("lang_auto_dang_xu_ly_file_dau_vao_vui_long_doi_trong_giay_lat").subscribe(i=>{this.msgLoading=i}),this.saveAndSwitch(n)}saveAndSwitch(n){this.editorOutputDataService.setFileProcess(n),this.commonService.myNavigationWithQueryString("/admin/testbank/azota-editor/0",`?backto=${decodeURIComponent("/admin/question-library/import-question")}&importQuestion=1`)}ngOnInit(){}constructor(n,i){super(),this.activeRoute=n,this.editorOutputDataService=i,this.allUploadFileTypes=Ge.PO,this.isFollowLibParser=!1,this.msgLoading=""}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(f.nX),e.rXU(Ne.O))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-import-question"]],features:[e.Vt3],decls:66,vars:82,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","items-center","justify-center"],[1,"font-medium","text-lg"],[1,"mx-auto",2,"max-width","800px"],[3,"fileType","limitSize","emitFiles"],["azt-track-service","create-new-document-PuQSKmLC3","id","box-left-file-drop",1,"h-full","cursor-pointer","box","p-5"],[1,"h-full","flex","items-center",2,"min-height","55vh"],[1,"mx-auto","text-center"],[1,"w-16","h-16","flex-none","image-fit","overflow-hidden","mx-auto","upload-box"],["name","cloud-upload","size","64",3,"ngClass"],[1,"mt-3"],[1,"font-medium","text-lg","upload-box"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","create-new-document-WauQzqbISx","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"pt-2"],["azt-track-service","create-new-document-FxdEQuAx7G","id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],["azt-track-service","create-new-document-O5FkqsuTLC","id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],["id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],["azt-track-service","create-new-document-cPk0ISITQT","id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],[1,"mt-3","text-center","font-medium"],[1,"text-center","mt-3"],[1,"btn","btn-primary"],["name","folder-input","size","18"],[1,"ml-2"]],template:function(n,i){1&n&&(e.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()(),e.j41(6,"div",1)(7,"div",4)(8,"azt-upload-single-document-to-editor",5),e.bIt("emitFiles",function(r){return i.changeFileAction(r)}),e.j41(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),e.nrm(13,"lucide-icon",10),e.k0s(),e.j41(14,"div",11)(15,"div",12),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"div",13),e.EFF(19),e.nI1(20,"mytranslate"),e.nrm(21,"br"),e.EFF(22),e.nI1(23,"mytranslate"),e.j41(24,"b"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s(),e.EFF(27," , "),e.j41(28,"b"),e.EFF(29),e.nI1(30,"mytranslate"),e.k0s(),e.EFF(31),e.nI1(32,"mytranslate"),e.j41(33,"b"),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.EFF(36),e.nI1(37,"mytranslate"),e.j41(38,"a",14),e.bIt("click",function(r){return r.stopPropagation()}),e.EFF(39),e.nI1(40,"mytranslate"),e.k0s(),e.j41(41,"div",15)(42,"azt-download-link-item",16),e.bIt("click",function(r){return i.isMobileWebView?"":r.stopPropagation()}),e.nI1(43,"convertCdnLinkOfGitHubWithLocale"),e.nI1(44,"mytranslate"),e.k0s(),e.EFF(45," \xa0|\xa0 "),e.j41(46,"azt-download-link-item",17),e.bIt("click",function(r){return i.isMobileWebView?"":r.stopPropagation()}),e.nI1(47,"convertRawLinkOfGitHubWithLocale"),e.nI1(48,"mytranslate"),e.k0s(),e.EFF(49," \xa0|\xa0 "),e.j41(50,"azt-download-link-item",18),e.bIt("click",function(r){return i.isMobileWebView?"":r.stopPropagation()}),e.nI1(51,"convertRawLinkOfGitHubWithLocale"),e.nI1(52,"mytranslate"),e.k0s(),e.EFF(53," \xa0|\xa0 "),e.j41(54,"azt-download-link-item",19),e.bIt("click",function(r){return i.isMobileWebView?"":r.stopPropagation()}),e.nI1(55,"convertRawLinkOfGitHubWithLocale"),e.nI1(56,"mytranslate"),e.k0s()()()()()()()(),e.j41(57,"div",20),e.EFF(58),e.nI1(59,"mytranslate"),e.k0s(),e.j41(60,"div",21)(61,"button",22),e.nrm(62,"lucide-icon",23),e.j41(63,"span",24),e.EFF(64),e.nI1(65,"mytranslate"),e.k0s()()()()()()),2&n&&(e.Y8G("headerBackToLink","/admin/question-library/view-bank/1"),e.R7$(4),e.SpI(" ",e.bMT(5,36,"lang_azt_enter_questions_into_the_bank")," "),e.R7$(4),e.Y8G("fileType",e.ziG(76,Qe,i.allUploadFileTypes.WORD,i.allUploadFileTypes.AZT,i.allUploadFileTypes.PDF,i.allUploadFileTypes.EXCEL))("limitSize",200),e.R7$(5),e.Y8G("ngClass",e.lJ4(81,Ae)),e.R7$(3),e.JRh(e.bMT(17,38,"lang_auto_chon_file_hoc_keo_tha_file_vao_day")),e.R7$(3),e.SpI(" ",e.bMT(20,40,"lang_auto_azota_support_file_type")," .pdf, .docx, .xlsx. "),e.R7$(3),e.SpI(" ",e.bMT(23,42,"lang_auto_can_upload")," "),e.R7$(3),e.JRh(e.bMT(26,44,"lang_auto_bai_tap")),e.R7$(4),e.JRh(e.bMT(30,46,"lang_auto_de_thi")),e.R7$(2),e.SpI(" ",e.bMT(32,48,"lang_auto_hoac")," "),e.R7$(3),e.JRh(e.bMT(35,50,"lang_auto_bang_dap_an")),e.R7$(2),e.SpI(" ",e.bMT(37,52,"lang_auto_de_cham_offline"),". "),e.R7$(3),e.SpI(" ",e.bMT(40,54,"lang_auto_tim_hieu_them")," "),e.R7$(3),e.Y8G("dataUrl",e.bMT(43,56,"medias_[LANG]/de_mau_azota.zip"))("target","_blank")("fileName",e.bMT(44,58,"lang_testbank_create_document_azota_pdf_model"))("fileDescription","lang_testbank_create_document_azota_pdf_model")("classStyle","text-primary"),e.R7$(4),e.Y8G("dataUrl",e.bMT(47,60,"medias_[LANG]/de_mau_azota.docx?raw=true"))("target","_self")("fileName",e.bMT(48,62,"lang_testbank_create_document_azota_docx_model"))("fileDescription","lang_testbank_create_document_azota_docx_model")("classStyle","text-primary"),e.R7$(4),e.Y8G("dataUrl",e.bMT(51,64,"medias_[LANG]/mau_de_dung_sai_azota_v2.docx?raw=true"))("target","_self")("fileName",e.bMT(52,66,"lang_testbank_create_document_azota_docx_true_false_model"))("fileDescription","lang_testbank_create_document_azota_docx_true_false_model")("classStyle","text-primary"),e.R7$(4),e.Y8G("dataUrl",e.bMT(55,68,"medias_[LANG]/de_mau_azota_excel_v2_5.xlsx?raw=true"))("target","_self")("fileName",e.bMT(56,70,"lang_testbank_create_document_azota_pdf_model"))("fileDescription","lang_testbank_create_document_azota_excel_model")("classStyle","text-primary"),e.R7$(4),e.SpI(" ",e.bMT(59,72,"lang_auto_hoac")," "),e.R7$(6),e.JRh(e.bMT(65,74,"lang_azt_import_from_your_exam_questions")))},dependencies:[m.YU,ze.W,$e.p,L.Q,h.WGl,T.wp,T.c2,T.V3],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})(),Ve=(()=>{var t;class o{ngOnInit(){}constructor(){}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-question-library-master-page"]],decls:2,vars:0,consts:[["id","question-library-layout"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[f.n3],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})();var Be=l(37497),B=l(60833),Ye=l(22613),Y=l(94743);function Xe(t,o){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const a=e.XpG();e.Y8G("currentStatusObj",a.statusObj)}}const G=function(t){return[t]},Ue=function(){return{backTo:"/admin/question-library"}};function Ke(t,o){if(1&t&&(e.j41(0,"div",22)(1,"div",23),e.nI1(2,"navigationLocalize"),e.j41(3,"div",24),e.EFF(4),e.k0s(),e.j41(5,"div",25),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()),2&t){const a=o.$implicit;e.R7$(1),e.Y8G("routerLink",e.eq3(8,G,e.bMT(2,4,"/admin/question-library/view-bank/"+a.id+"/0")))("queryParams",e.lJ4(10,Ue)),e.R7$(3),e.JRh(a.name),e.R7$(2),e.JRh(a.totalQuestion+" "+e.bMT(7,6,"lang_notice_question"))}}const X=function(){return{"mr-2":!0}};function qe(t,o){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"h3",9),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",10)(8,"button",11),e.nI1(9,"navigationLocalize"),e.nrm(10,"lucide-icon",12),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()()(),e.j41(13,"div",13),e.DNE(14,Ke,8,11,"div",14),e.k0s(),e.j41(15,"div",15)(16,"div",16)(17,"div",17)(18,"azt-paging",18),e.bIt("goToPaginationPage",function(i){e.eBV(a);const s=e.XpG(2);return e.Njj(s.goToPage(i))}),e.k0s()(),e.j41(19,"div",19)(20,"p",20),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.j41(23,"div",21)(24,"p",20),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&t){const a=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,8,"lang_notice_bank_question")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(18,G,e.bMT(9,10,"/admin/question-library/add-new-question-library"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(20,X)),e.R7$(1),e.SpI(" ",e.bMT(12,12,"lang_azt_create_a_question_bank")," "),e.R7$(3),e.Y8G("ngForOf",a.ebankList),e.R7$(4),e.Y8G("pageObj",a.pageObj),e.R7$(3),e.JRh(a.totalEbank+" "+e.bMT(22,14,"lang_testbank_test_list_document")),e.R7$(4),e.JRh(a.totalEbank+" "+e.bMT(26,16,"lang_testbank_test_list_document"))}}function We(t,o){1&t&&(e.j41(0,"div",26)(1,"p",27),e.nrm(2,"azt-svg-icon",28),e.k0s(),e.j41(3,"p",29),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"p",30)(7,"button",31),e.nI1(8,"navigationLocalize"),e.nrm(9,"lucide-icon",12),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(2),e.Y8G("size",82),e.R7$(2),e.SpI(" ",e.bMT(5,5,"lang_azt_you_dont_have_any_question_bank_yet")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(11,G,e.bMT(8,7,"/admin/question-library/add-new-question-library"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(13,X)),e.R7$(1),e.SpI(" ",e.bMT(11,9,"lang_azt_create_a_question_bank")," "))}function Je(t,o){if(1&t&&(e.DNE(0,qe,27,21,"ng-container",4),e.DNE(1,We,12,14,"ng-template",null,5,e.C5r)),2&t){const a=e.sdS(2),n=e.XpG();e.Y8G("ngIf",n.ebankList.length)("ngIfElse",a)}}let U=(()=>{var t;class o extends j.H{getEbankList(){this.initStatusObj(),this.waitDestroy(this.ebankService.apiEbanksListPost({page:this.pageObj.page,size:this.pageObj.pageSize}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.ebankList=i.data?.objs??[],this.totalEbank=i.data?.total??0,this.pageObj.setTotalPages(this.totalEbank),this.successStatusObj()}))}goToPage(n){this.pageObj.setPageNumber(n)}ngOnInit(){super.ngOnInit(),this.getEbankList()}constructor(n){super(),this.ebankService=n,this.ebankList=[],this.totalEbank=0,this.pageObj=new Be.d(24)}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(B.n))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-question-library-dashboard"]],features:[e.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["emptyQuestionLibrary",""],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],[1,"btn","btn-primary","shadow-md","ml-2",3,"routerLink"],["name","plus","size","16",3,"ngClass"],[1,"grid","grid-cols-12","mt-5","gap-5"],["class","col-span-12 sm:col-span-6 md:col-span-4 lg:col-span-3",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"pageObj","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[1,"col-span-12","sm:col-span-6","md:col-span-4","lg:col-span-3"],[1,"box","p-5","zoom-in","h-full",3,"routerLink","queryParams"],[1,"text-lg","font-bold"],[1,"text-md","text-slate-500","font-medium"],[1,"intro-y","empty-trash","flex","flex-col","justify-center","text-center",2,"height","400px"],[1,"text-primary","text-center"],["type","inbox-empty",3,"size"],[1,"text-lg","font-medium","mt-1"],[1,"text-md","text-slate-500","mt-4"],[1,"btn","btn-primary","shadow-md",3,"routerLink"]],template:function(n,i){if(1&n&&(e.j41(0,"teacher-layout",0),e.DNE(1,Xe,1,1,"azt-loading-effect",1),e.DNE(2,Je,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&n){const s=e.sdS(3);e.Y8G("headerBackToLink","/admin/dashboard"),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",s)}},dependencies:[f.Wk,m.YU,m.Sq,m.bT,M.K,Ye.q,Y.m,L.Q,h.WGl,T.F2,T.wp],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})();var K=l(76627),N=l(68323);function He(t,o){if(1&t&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s()),2&t){const a=e.XpG();e.R7$(1),e.Y8G("chart",a.chartSkill)}}let Ze=(()=>{var t;class o extends j.H{handleData(){return this.data.filter(i=>0!==i.totalQuestion).map(i=>({name:this.commonService.myTranslateInstant(i.name),y:i.totalQuestion}))}createPiaChart(){let n=this.handleData();if(!n.length)return;const i=n.reduce((r,g)=>(g.y??0)>(r.y??0)?g:r,n[0]);n=n.map(r=>r.y===i.y?{...r,sliced:!0,selected:!0}:r);let s=new b.t1({chart:{type:"pie",height:this.height,width:this.width},title:{text:this.commonService.myTranslateInstant(this.keyTitle)},credits:{enabled:!1},series:[{name:this.commonService.myTranslateInstant("lang_core_total_question"),type:"pie",data:n,dataLabels:{enabled:!0,distance:-40,format:"{point.name}: {point.y}",style:{color:"#000000"},filter:{operator:"==",property:"y",value:i.y??0}}}]});this.chartSkill=s,this.stopStatusObj()}ngOnInit(){this.createPiaChart()}constructor(){super(),this.keyTitle="",this.height=300,this.width=250}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-azt-pia-chart"]],inputs:{keyTitle:"keyTitle",data:"data",height:"height",width:"width"},features:[e.Vt3],decls:1,vars:1,consts:[["class","mb-5",4,"ngIf"],[1,"mb-5"],[3,"chart"]],template:function(n,i){1&n&&e.DNE(0,He,2,1,"div",0),2&n&&e.Y8G("ngIf",i.chartSkill)},dependencies:[m.bT,b.S6],encapsulation:2}),o})();function et(t,o){1&t&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-ui",4),e.k0s()),2&t&&(e.R7$(1),e.Y8G("size",30))}function tt(t,o){1&t&&(e.j41(0,"div",5),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_homework_homework_list_not_found"),"\n"))}function nt(t,o){if(1&t&&e.nrm(0,"app-azt-pia-chart",9),2&t){const a=e.XpG(2);e.Y8G("data",a.dataAnalytis.frames)("width",a.widthPiaChart)("keyTitle","lang_core_so_luong_cau_hoi_theo_cau_truc")}}function it(t,o){if(1&t&&e.nrm(0,"app-azt-pia-chart",9),2&t){const a=e.XpG(2);e.Y8G("data",a.dataAnalytis.tags)("width",a.widthPiaChart)("keyTitle","lang_core_ty_le_muc_do_kho_cua_cau_hoi")}}function at(t,o){if(1&t&&e.nrm(0,"app-azt-pia-chart",9),2&t){const a=e.XpG(2);e.Y8G("data",a.dataAnalytis.answerTypes)("width",a.widthPiaChart)("keyTitle","lang_core_ty_le_cac_dang_thuc_cau_hoi")}}function ot(t,o){if(1&t&&(e.j41(0,"tr")(1,"td",17)(2,"div",18),e.nrm(3,"azt-create-avatar",19),e.j41(4,"div",20)(5,"h3",21),e.EFF(6),e.k0s(),e.j41(7,"p",22),e.EFF(8),e.k0s()()()(),e.j41(9,"td",17),e.EFF(10),e.k0s()()),2&t){const a=o.$implicit;e.R7$(3),e.Y8G("linkAvatar",a.avatar)("nameCreateAvatar",a.fullName)("size",35),e.R7$(3),e.JRh(a.fullName),e.R7$(2),e.JRh(a.email),e.R7$(2),e.JRh(a.totalQuestion)}}function st(t,o){if(1&t&&(e.j41(0,"div",10)(1,"div",11)(2,"p",12),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"table",13)(6,"thead")(7,"tr")(8,"th",14),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"th",15),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,ot,11,6,"tr",16),e.k0s()()()),2&t){const a=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,4,"lang_core_danh_sach_dong_gop")),e.R7$(6),e.JRh(e.bMT(10,6,"lang_auto_ho_va_ten")),e.R7$(3),e.JRh(e.bMT(13,8,"S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi")),e.R7$(3),e.Y8G("ngForOf",a.dataAnalytis.members)}}function rt(t,o){if(1&t&&(e.j41(0,"div")(1,"div",6),e.DNE(2,nt,1,3,"app-azt-pia-chart",7),e.DNE(3,it,1,3,"app-azt-pia-chart",7),e.DNE(4,at,1,3,"app-azt-pia-chart",7),e.k0s(),e.DNE(5,st,16,10,"div",8),e.k0s()),2&t){const a=e.XpG();e.R7$(2),e.Y8G("ngIf",a.dataAnalytis.frames.length),e.R7$(1),e.Y8G("ngIf",a.dataAnalytis.tags.length),e.R7$(1),e.Y8G("ngIf",a.dataAnalytis.answerTypes.length),e.R7$(1),e.Y8G("ngIf",a.dataAnalytis.members.length)}}let lt=(()=>{var t;class o extends j.H{getData(){this.ebankService.apiEbanksCountQuestionsGet(this.ebankId,this.ebankFrameId).subscribe(n=>{n.success?(this.dataAnalytis=n.data,this.dataAnalytis&&(this.dataAnalytis.frames=this.checkDataAnalytis(this.dataAnalytis.frames),this.dataAnalytis.answerTypes=this.checkDataAnalytis(this.dataAnalytis.answerTypes),this.dataAnalytis.tags=this.checkDataAnalytis(this.dataAnalytis.tags),this.dataAnalytis.answerTypes.forEach(i=>{i.name="lang_tool_knowledge_answer_type_"+i.name})),console.log(this.dataAnalytis),this.stopStatusObj()):(this.stopStatusObj(),this.showErrorSnack(n.message))})}checkDataAnalytis(n){return n.find(s=>s.totalQuestion>0)?n:[]}ngOnInit(){this.widthPiaChart=window.innerWidth/3,this.initStatusObj(),this.getData()}constructor(n){super(),this.ebankService=n,this.ebankId=1,this.ebankFrameId=1,this.widthPiaChart=0}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(B.n))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-analysis"]],features:[e.Vt3],decls:3,vars:3,consts:[["class","flex justify-center items-center p-5",4,"ngIf"],["class","flex justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","p-5"],[3,"size"],[1,"flex","justify-center","items-center"],[1,"flex","justify-between","mr-5","ml-5"],[3,"data","width","keyTitle",4,"ngIf"],["class","w-full",4,"ngIf"],[3,"data","width","keyTitle"],[1,"w-full"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium"],[1,"table","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[4,"ngFor","ngForOf"],[1,"text-center","capitalize"],[1,"flex","items-center"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-3","text-left"],[1,"font-medium"],[1,"text-slate-500","text-xs"]],template:function(n,i){1&n&&(e.DNE(0,et,2,1,"div",0),e.DNE(1,tt,3,3,"div",1),e.DNE(2,rt,6,4,"div",2)),2&n&&(e.Y8G("ngIf",i.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!i.statusObj.loading&&!i.dataAnalytis),e.R7$(1),e.Y8G("ngIf",!i.statusObj.loading&&i.dataAnalytis))},dependencies:[m.Sq,m.bT,N.p,S.R,Ze,T.wp],encapsulation:2}),o})();var ct=l(60495),dt=l(87840),ut=l(3635),q=l(46899),mt=l(46882),_t=l(36484);function pt(t,o){1&t&&(e.j41(0,"div",2),e.nrm(1,"azt-loading-ui",3),e.k0s()),2&t&&(e.R7$(1),e.Y8G("size",30))}function gt(t,o){if(1&t){const a=e.RV6();e.j41(0,"tr")(1,"td",11)(2,"div",12),e.nrm(3,"azt-create-avatar",13),e.j41(4,"div",14)(5,"h3",15),e.EFF(6),e.k0s(),e.j41(7,"p",16),e.EFF(8),e.k0s()()()(),e.j41(9,"td",11),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"td",17)(13,"lucide-icon",18),e.bIt("click",function(){const s=e.eBV(a).$implicit,r=e.XpG(2);return e.Njj(r.showEditPermissionDialog(s))}),e.k0s()()()}if(2&t){const a=o.$implicit,n=e.XpG(2);e.R7$(3),e.Y8G("nameCreateAvatar",a.fullName)("linkAvatar",a.avatar)("size",35),e.R7$(3),e.JRh(a.fullName),e.R7$(2),e.JRh(a.email),e.R7$(2),e.JRh(e.bMT(11,6,n.checkRole(a.role)))}}function bt(t,o){if(1&t){const a=e.RV6();e.j41(0,"div")(1,"div",4)(2,"p",5),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",6),e.bIt("click",function(){e.eBV(a);const i=e.XpG();return e.Njj(i.showListPeopleWhoWillShare())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"table",7)(9,"thead")(10,"tr")(11,"th",8),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"th",9),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s(),e.nrm(17,"th"),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,gt,14,8,"tr",10),e.k0s()()()}if(2&t){const a=e.XpG();e.R7$(3),e.JRh(e.bMT(4,5,"lang_core_danh_sach_thanh_vien")),e.R7$(3),e.SpI("+ ",e.bMT(7,7,"lang_teacher_group_group_add_member"),""),e.R7$(6),e.JRh(e.bMT(13,9,"lang_auto_ho_va_ten")),e.R7$(3),e.JRh(e.bMT(16,11,"Vai tr\xf2")),e.R7$(4),e.Y8G("ngForOf",a.members)}}let ht=(()=>{var t;class o extends j.H{showListPeopleWhoWillShare(){this.sAztDialogService.open(dt.z,{data:{shareDataObj:this.shareDataObj,setData:()=>this.getData()},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(i=>{i&&this.getData()})}showEditPermissionDialog(n){let i={fullName:n.fullName,phone:n.phone,email:n.email,avatar:n.avatar,id:n.userId,teamPermissions:this.ebankPemisions.filter(r=>r.code==n.role),allowEditPermission:!0,allowDeletePermission:!0};this.sAztDialogService.open(ct.A,{data:{teacherObj:i,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&this.getData()})}getUserTeachers(){this.teacherGroupService.apiTeacherGroupGetUserTeachersGet().subscribe(n=>{n.success?(this.shareDataObj.allTeacherPermissionObjs=n.data?.map(i=>({...i,id:i.teacherId,allowEditPermission:!0,allowDeletePermission:!0})),this.shareDataObj.allTeacherPermissionObjs.forEach(i=>{var s=this.shareDataObj.teacherObjs.find(r=>r.id==i.id);i.teamPermissions=s?.teamPermissions??[]})):this.showErrorSnack(n.message)})}getData(){this.ebankMemberService.apiEbanksMemberEbankIdGet(this.ebankId).subscribe(n=>{n.success?(this.members=n.data??[],this.userService.getUserObj(),this.shareDataObj.teacherObjs=this.members?.map(s=>({fullName:s.fullName,phone:s.phone,email:s.email,avatar:s.avatar,id:s.userId,teamPermissions:this.ebankPemisions.filter(r=>r.code==s.role),allowEditPermission:!0,allowDeletePermission:!0})),this.getUserTeachers(),this.stopStatusObj()):(this.stopStatusObj(),this.showErrorSnack(n.message))})}checkRole(n){return this.ebankPemisions.find(i=>i.code==n)?.key??"lang_auto_nguoi_xem"}createShareData(){this.shareDataObj={objectId:this.ebankId,objectCode:"EBANK",ebankPemisions:this.ebankPemisions,allGroupPermissionObjs:[],allTeacherPermissionObjs:[],groupObjs:[],teacherObjs:[]}}ngOnInit(){this.createShareData(),this.getData()}constructor(n,i,s,r){super(),this.ebankMemberService=n,this.sAztDialogService=i,this.teacherGroupService=s,this.userService=r,this.ebankId=1,this.members=[],this.ebankPemisions=[{id:1,key:"lang_auto_chu_so_huu",code:"owner"},{id:2,key:"lang_auto_nguoi_xem",code:"viewer"},{id:3,key:"lang_auto_nguoi_soan_thao",code:"editor"}]}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(ut.V),e.rXU(q.i),e.rXU(mt.x),e.rXU(_t.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-decentralization"]],features:[e.Vt3],decls:2,vars:2,consts:[["class","p-5 flex justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"p-5","flex","justify-center","items-center"],[3,"size"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium"],[1,"btn","btn-primary","ml-3","btn-sm",3,"click"],[1,"table","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[4,"ngFor","ngForOf"],[1,"text-center","capitalize"],[1,"flex","items-center"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3","text-left"],[1,"font-medium"],[1,"text-slate-500","text-xs"],[1,"text-right","capitalize"],["size","20","name","pencil",1,"clickable",3,"click"]],template:function(n,i){1&n&&(e.DNE(0,pt,2,1,"div",0),e.DNE(1,bt,20,13,"div",1)),2&n&&(e.Y8G("ngIf",i.statusObj.loading),e.R7$(1),e.Y8G("ngIf",i.members.length&&!i.statusObj.loading))},dependencies:[m.Sq,m.bT,N.p,S.R,h.WGl,T.wp],encapsulation:2}),o})(),ft=(()=>{var t;class o extends j.H{convertFrameDataToNode(n){return n.map(i=>({id:i.id,getQuestionKey:"",title:i.name,parentId:i.parentId,children:this.convertFrameDataToNode(i.children),position:i.position,nodeType:1,objectiveId:"objective"==i.suggestModel?i.suggestId:void 0,knowledgeId:"knowledge"==i.suggestModel?i.suggestId:void 0,questions:i.questions.map(s=>({...s,difficultyIndex:0}))}))}ngOnInit(){this.eBankResponseData?.frames&&(this.nodeObjsData=this.convertFrameDataToNode(this.eBankResponseData?.frames))}ngOnChanges(n){n.eBankResponseData&&this.eBankResponseData?.frames&&(this.nodeObjsData=this.convertFrameDataToNode(this.eBankResponseData?.frames))}constructor(n){super(),this.activeRoute=n,this.bankId=0,this.nodeObjsData=[]}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(f.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-structure-question-library"]],inputs:{bankId:"bankId",eBankResponseData:"eBankResponseData"},features:[e.Vt3,e.OA$],decls:2,vars:5,consts:[[3,"bankId","rawNodes","modeView","schoolSubjectValue","schoolLevelValue"]],template:function(n,i){if(1&n&&(e.j41(0,"div"),e.nrm(1,"app-question-library-tree-component",0),e.k0s()),2&n){let s,r;e.R7$(1),e.Y8G("bankId",i.bankId)("rawNodes",i.nodeObjsData)("modeView","structure")("schoolSubjectValue",null!==(s=null==i.eBankResponseData?null:i.eBankResponseData.subjectId)&&void 0!==s?s:0)("schoolLevelValue",null!==(r=null==i.eBankResponseData?null:i.eBankResponseData.levelId)&&void 0!==r?r:0)}},dependencies:[V],encapsulation:2}),o})(),vt=(()=>{var t;class o extends j.H{ngOnInit(){}constructor(){super()}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-work"]],features:[e.Vt3],decls:59,vars:8,consts:[[1,"box-vertical-line","absolute","flex","justify-center"],[1,"vertical-line"],[1,"flex","justify-between","items-center","relative"],[1,"flex","items-center"],[3,"nameCreateAvatar","size"],[1,"ml-2"],[1,"font-medium"],[1,"flex","items-center","text-sm"],["name","pencil-line","size","14",1,"text-primary"],[1,"mr-2","ml-2"],["url","http://localhost:4400/vi/admin/question-library/view-bank/2",1,"text-primary"],[1,"text-xs"],[1,"flex","justify-between","items-center","relative","mt-5"],["name","book-text","size","14",1,"text-primary"]],template:function(n,i){1&n&&(e.j41(0,"div")(1,"div",0),e.nrm(2,"div",1),e.k0s(),e.j41(3,"div",2)(4,"div",3),e.nrm(5,"azt-create-avatar",4),e.j41(6,"div",5)(7,"h3",6),e.EFF(8,"Ho\xe0ng 123"),e.k0s(),e.j41(9,"div",7),e.nrm(10,"lucide-icon",8),e.j41(11,"span",9),e.EFF(12,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(13,"a",10),e.EFF(14,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(15,"p",11),e.EFF(16,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()(),e.j41(17,"div",12)(18,"div",3),e.nrm(19,"azt-create-avatar",4),e.j41(20,"div",5)(21,"h3",6),e.EFF(22,"Ho\xe0ng 123"),e.k0s(),e.j41(23,"div",7),e.nrm(24,"lucide-icon",13),e.j41(25,"span",9),e.EFF(26,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(27,"a",10),e.EFF(28,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(29,"p",11),e.EFF(30,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()(),e.j41(31,"div",12)(32,"div",3),e.nrm(33,"azt-create-avatar",4),e.j41(34,"div",5)(35,"h3",6),e.EFF(36,"Ho\xe0ng 123"),e.k0s(),e.j41(37,"div",7),e.nrm(38,"lucide-icon",13),e.j41(39,"span",9),e.EFF(40,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(41,"a",10),e.EFF(42,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(43,"p",11),e.EFF(44,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()(),e.j41(45,"div",12)(46,"div",3),e.nrm(47,"azt-create-avatar",4),e.j41(48,"div",5)(49,"h3",6),e.EFF(50,"Ho\xe0ng 123"),e.k0s(),e.j41(51,"div",7),e.nrm(52,"lucide-icon",13),e.j41(53,"span",9),e.EFF(54,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(55,"a",10),e.EFF(56,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(57,"p",11),e.EFF(58,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()()()),2&n&&(e.R7$(5),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35),e.R7$(14),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35),e.R7$(14),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35),e.R7$(14),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35))},dependencies:[N.p,h.WGl],styles:[".vertical-line[_ngcontent-%COMP%]{border-left:2px solid lightgray}.box-vertical-line[_ngcontent-%COMP%]{width:35px;height:calc(100% - 2.5rem);padding-top:35px;padding-bottom:35px}"]}),o})();function yt(t,o){if(1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-structure-question-library",24),e.k0s()),2&t){const a=e.XpG();e.R7$(1),e.Y8G("bankId",a.bankId)("eBankResponseData",a.eBankResponseData)}}function kt(t,o){1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-work"),e.k0s())}function xt(t,o){1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-analysis"),e.k0s())}function jt(t,o){1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-decentralization"),e.k0s())}let It=(()=>{var t;class o extends j.H{selectTab(n){this.tab=n,this.commonService.myNavigationWithoutHistory("/admin/question-library/view-bank/"+this.bankId+"/"+n)}getDataBank(){this.initStatusObj(),this.eBanksService.apiEbanksIdGet(this.bankId).subscribe(n=>{n.success?(this.eBankResponseData=n.data,this.successStatusObj()):this.errorStatusObj(n.message,!0)})}ngOnInit(){this.waitDestroy((0,K.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.tab=Number(this.commonService.getMyParam(this.activeRoute,"tab")),this.bankId=Number(this.commonService.getMyParam(this.activeRoute,"bankId")),this.backLink=this.commonService.getMyQueryParam("backto")??"/admin/question-library",this.tab>3&&this.selectTab(0),this.getDataBank()}))}constructor(n,i){super(),this.activeRoute=n,this.eBanksService=i,this.tab=0,this.bankId=0,this.backLink=""}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(f.nX),e.rXU(R.nd))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-view-bank"]],features:[e.Vt3],decls:43,vars:30,consts:[[3,"headerBackToLink"],[1,"p-3"],[1,"flex","justify-between","items-center"],[1,"font-medium"],[1,"ml-3","text-slate-500","text-xs"],[1,"relative","flex","items-center"],["type","text","placeholder","Nh\u1eadp m\xe3 c\xe2u h\u1ecfi",1,"form-control","w-64","box","pr-16"],[1,"lucide","lucide-search","absolute","my-auto","zoom-in","inset-y-0","mr-3","right-0",2,"top","-2px"],["name","search","size","16"],[1,"flex","justify-between","mt-5",2,"margin-bottom","-5px"],[1,"flex"],[1,"btn-tab","clickable",3,"click"],["name","list","size","16",1,"mr-2"],[1,"btn-tab","clickable","ml-2",3,"click"],["name","users","size","16",1,"mr-2"],[1,"text-xs","number-red"],[1,"mr-2",3,"type","size"],[1,"btn-tab","clickable","nl-2",3,"click"],["name","settings","size","16",1,"mr-2"],[1,"flex","items-start"],[1,"btn","btn-primary"],[1,"btn","btn-primary","ml-3"],[1,"box","p-5"],[4,"ngIf"],[3,"bankId","eBankResponseData"]],template:function(n,i){if(1&n&&(e.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"p")(4,"span",3),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"span",4),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",5),e.nrm(11,"input",6),e.j41(12,"button",7),e.nrm(13,"lucide-icon",8),e.k0s()()(),e.j41(14,"div",9)(15,"div",10)(16,"div",11),e.bIt("click",function(){return i.selectTab(0)}),e.nrm(17,"lucide-icon",12),e.EFF(18," C\u1ea5u tr\xfac "),e.k0s(),e.j41(19,"div",13),e.bIt("click",function(){return i.selectTab(1)}),e.nrm(20,"lucide-icon",14),e.EFF(21," C\xe1c ho\u1ea1t \u0111\u1ed9ng "),e.j41(22,"span",15),e.EFF(23,"3"),e.k0s()(),e.j41(24,"div",13),e.bIt("click",function(){return i.selectTab(2)}),e.nrm(25,"azt-svg-icon",16),e.EFF(26," Ph\xe2n t\xedch "),e.k0s(),e.j41(27,"div",17),e.bIt("click",function(){return i.selectTab(3)}),e.nrm(28,"lucide-icon",18),e.EFF(29),e.nI1(30,"mytranslate"),e.k0s()(),e.j41(31,"div",19)(32,"button",20),e.EFF(33),e.nI1(34,"mytranslate"),e.k0s(),e.j41(35,"button",21),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()()(),e.j41(38,"div",22),e.DNE(39,yt,2,2,"div",23),e.DNE(40,kt,2,0,"div",23),e.DNE(41,xt,2,0,"div",23),e.DNE(42,jt,2,0,"div",23),e.k0s()()()),2&n){let s,r;e.Y8G("headerBackToLink",i.backLink),e.R7$(5),e.JRh(null!==(s=null==i.eBankResponseData?null:i.eBankResponseData.name)&&void 0!==s?s:e.bMT(6,20,"lang_notice_bank_question")),e.R7$(3),e.SpI("(",(null!==(r=null==i.eBankResponseData?null:i.eBankResponseData.totalQuestion)&&void 0!==r?r:0)+" "+e.bMT(9,22,"lang_auto_cau_hoi"),")"),e.R7$(8),e.HbH(0==i.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(3),e.HbH(1==i.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(5),e.HbH(2==i.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(1),e.Y8G("type","chart-pie")("size",16),e.R7$(2),e.HbH(3==i.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(2),e.SpI(" ",e.bMT(30,24,"lang_auto_phan_quyen")," "),e.R7$(4),e.JRh(e.bMT(34,26,"lang_core_tao_ma_tran_de_thi")),e.R7$(3),e.SpI("+ ",e.bMT(37,28,"lang_cms_enter_question_description"),""),e.R7$(3),e.Y8G("ngIf",0==i.tab),e.R7$(1),e.Y8G("ngIf",1==i.tab),e.R7$(1),e.Y8G("ngIf",2==i.tab),e.R7$(1),e.Y8G("ngIf",3==i.tab)}},dependencies:[m.bT,Y.m,L.Q,h.WGl,lt,ht,ft,vt,T.wp],styles:[".btn-tab[_ngcontent-%COMP%]{padding:8px 15px 15px;display:flex;justify-content:center;align-items:center}.btn-tab-select[_ngcontent-%COMP%]{background:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.number-red[_ngcontent-%COMP%]{background:red;border-radius:50%;width:15px;height:15px;color:#fff;font-weight:900;display:flex;justify-content:center;align-items:center;margin:auto auto auto 5px}"]}),o})();var wt=l(25539),Tt=l(30657),Et=l(7908),Ct=l(9280),Rt=l(33887),W=l(9570);function Dt(t,o){if(1&t&&(e.j41(0,"div",17)(1,"audio",18),e.nrm(2,"source",19),e.nI1(3,"safe"),e.nI1(4,"mycdn"),e.k0s()()),2&t){const a=e.XpG();e.R7$(1),e.FS9("id","audio_"+a.data.questionObj.id),e.R7$(1),e.Y8G("src",e.bMT(3,2,e.bMT(4,4,a.data.questionObj.attachments[0].url)),e.B4B)}}function Ft(t,o){if(1&t&&(e.j41(0,"div",22)(1,"b",23),e.EFF(2),e.k0s(),e.j41(3,"div",24),e.nrm(4,"azt-dynamic-hook",10),e.k0s()()),2&t){const a=o.$implicit;let n;e.R7$(2),e.SpI("",null!==(n=a.alpha)&&void 0!==n?n:a.key,"."),e.R7$(2),e.Y8G("content",a.content)}}function Ot(t,o){if(1&t&&(e.j41(0,"div",20),e.DNE(1,Ft,5,2,"div",21),e.k0s()),2&t){const a=e.XpG();e.R7$(1),e.Y8G("ngForOf",a.data.questionObj.answers)}}function St(t,o){if(1&t&&(e.j41(0,"h2",25),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const a=e.XpG();e.R7$(1),e.Lme(" ",e.bMT(2,2,"lang_auto_dap_an"),": ",a.data.questionObj.answerResult.join(", ")," ")}}function Lt(t,o){1&t&&(e.j41(0,"span",26),e.nrm(1,"azt-loading-ui"),e.k0s())}let Mt=(()=>{var t;class o extends Rt._{confirmDelete(){this.onDelete=!0,this.waitDestroy(this.eBanksQuestionService.apiEbanksQuestionsDeletePost({questionIds:[this.data.questionObj.id],ebankId:this.data.ebankId}).subscribe(n=>{1==n.success?(this.successStatusObj("lang_cms_delete_success",!0),this.onDelete=!1,this.dialogRef.close(!0)):(this.errorStatusObj(n.message??"",!0),this.onDelete=!1,this.dialogRef.close(!1))}))}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(n,i,s){super(s,i),this.eBanksQuestionService=n,this.dialogRef=i,this.data=s,this.onDelete=!1}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(R.N8),e.rXU(c.CP,8),e.rXU(c.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-remove-question-library-dialog"]],features:[e.Vt3],decls:28,vars:23,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto",2,"max-height","calc(100vh - 150px)"],[1,"text-md","mr-auto","font-bold"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","py-2","mt-2"],[1,"font-medium","text-md","text-center","mb-2"],["class","text-center ml-auto mr-auto mt-2",4,"ngIf"],[1,"question-standalone-label","mt-2"],[1,"tex2jax_process","box-content",2,"width","auto"],[3,"content"],["class","grid grid-cols-12 gap-2 answers mt-3",4,"ngIf"],["class","font-medium text-md text-left text-success my-2 mt-3",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-danger","mw-24",3,"disabled","click"],["class","w-3 mr-2",4,"ngIf"],[1,"text-center","ml-auto","mr-auto","mt-2"],["controls","","preload","true",2,"margin-left","10px","margin-right","10px","max-width","70%",3,"id"],[3,"src"],[1,"grid","grid-cols-12","gap-2","answers","mt-3"],["class","answer col-span-12",4,"ngFor","ngForOf"],[1,"answer","col-span-12"],[1,"answer-label"],[1,"answer-content"],[1,"font-medium","text-md","text-left","text-success","my-2","mt-3"],[1,"w-3","mr-2"]],template:function(n,i){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5)(8,"h2",6),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.DNE(11,Dt,5,6,"div",7),e.j41(12,"div",8),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",9),e.nrm(16,"azt-dynamic-hook",10),e.k0s(),e.DNE(17,Ot,2,1,"div",11),e.DNE(18,St,3,4,"h2",12),e.nI1(19,"isEssayAnswer"),e.k0s()()()(),e.j41(20,"div",13)(21,"button",14),e.bIt("click",function(){return i.btnCloseDialog()}),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s(),e.j41(24,"button",15),e.bIt("click",function(){return i.confirmDelete()}),e.DNE(25,Lt,2,0,"span",16),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()()()),2&n){let s;e.R7$(5),e.SpI(" ",e.bMT(6,11,"lang_remove_question_from_library")," "),e.R7$(4),e.SpI(" ",e.bMT(10,13,"lang_auto_noi_dung_cau_hoi")," "),e.R7$(2),e.Y8G("ngIf",i.data.questionObj.attachments&&i.data.questionObj.attachments.length>0),e.R7$(2),e.SpI(" ",e.bMT(14,15,"lang_auto_cau")+" "+((null!=i.data.questionObj.labelIndex?i.data.questionObj.labelIndex:i.data.index)+1)," "),e.R7$(3),e.Y8G("content",null!==(s=i.data.questionObj.content)&&void 0!==s?s:""),e.R7$(1),e.Y8G("ngIf",1==i.data.questionObj.answerType&&i.data.questionObj.answers&&i.data.questionObj.answers.length>0),e.R7$(1),e.Y8G("ngIf",i.data.questionObj.answerResult&&!e.bMT(19,17,i.data.questionObj)),e.R7$(4),e.SpI(" ",e.bMT(23,19,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",i.onDelete),e.R7$(1),e.Y8G("ngIf",i.onDelete),e.R7$(1),e.SpI(" ",e.bMT(27,21,"lang_auto_xoa")," ")}},dependencies:[m.Sq,m.bT,S.R,W.x,T.wp,T.nf,T.JI,T.Zm],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),o})();var Gt=l(24793),Nt=l(1382),J=l(17818),zt=l(22829),$t=l(34965);function Qt(t,o){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const a=e.XpG();e.Y8G("currentStatusObj",a.statusObj)}}function At(t,o){1&t&&(e.j41(0,"div",14)(1,"h3",15),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_question_library_no_question_exist")))}const H=function(t){return{"padding-mobile":t}};function Pt(t,o){if(1&t&&(e.j41(0,"div",33)(1,"div",37)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",35),e.nrm(6,"azt-dynamic-hook",38),e.k0s()()),2&t){const a=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngClass",e.eq3(5,H,n.isMobileDevice)),e.R7$(3),e.JRh(e.bMT(4,3,"lang_auto_huong_dan_giai_upper")),e.R7$(3),e.Y8G("content",a.help)}}const Vt=function(t){return{"mb-2":t}},Bt=function(){return{}},Yt=function(t){return{id:0,name:"",countQuestion:0,showFrontend:0,allowStudentView:!1,editable:!1,permissionObj:t}},Z=function(t){return{"mr-2":t}};function Xt(t,o){if(1&t){const a=e.RV6();e.j41(0,"div",17)(1,"div",18),e.nrm(2,"azt-question-standalone-for-analyze-knowledge",19),e.j41(3,"div",20)(4,"button",21),e.nrm(5,"lucide-icon",22),e.k0s()(),e.j41(6,"mat-menu",23,24)(8,"div",25)(9,"ul",26)(10,"li")(11,"a",27),e.bIt("click",function(){const i=e.eBV(a),s=i.$implicit,r=i.index,g=e.XpG(3);return e.Njj(g.removeQuestion(s,r))}),e.j41(12,"span"),e.nrm(13,"lucide-icon",28),e.j41(14,"span",29),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.j41(17,"li")(18,"a",30),e.bIt("click",function(){const s=e.eBV(a).$implicit,r=e.XpG(3);return e.Njj(r.editQuestion(s))}),e.j41(19,"span"),e.nrm(20,"lucide-icon",31),e.j41(21,"span",29),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()()()()(),e.DNE(24,Pt,7,7,"div",32),e.j41(25,"div",33)(26,"div",34)(27,"span"),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()(),e.j41(30,"div",35)(31,"azt-question-knowledge-unit-for-update",36),e.bIt("selectKnowledgeEmit",function(i){const r=e.eBV(a).$implicit,g=e.XpG(3);return e.Njj(g.selectKnowledgeEmit(i,r))}),e.k0s()()()()()}if(2&t){const a=o.$implicit,n=o.index,i=o.last,s=e.sdS(7),r=e.XpG(3);let g,D,z,$;e.R7$(1),e.Y8G("ngClass",e.eq3(26,Vt,!i)),e.R7$(1),e.Y8G("examObj",e.eq3(29,Yt,e.lJ4(28,Bt)))("questionObj",a)("modeView","question_lib")("follower",r.followerRenderQuest)("curQuestionIndex",n),e.R7$(2),e.Y8G("matMenuTriggerFor",s),e.R7$(9),e.Y8G("ngClass",e.eq3(31,Z,!r.isMobileDevice)),e.R7$(2),e.JRh(e.bMT(16,20,"lang_auto_xoa_cau_hoi")),e.R7$(5),e.Y8G("ngClass",e.eq3(33,Z,!r.isMobileDevice)),e.R7$(2),e.JRh(e.bMT(23,22,"lang_core_chinh_sua_de_thi")),e.R7$(2),e.Y8G("ngIf",a.help),e.R7$(1),e.Y8G("ngClass",e.eq3(35,H,r.isMobileDevice)),e.R7$(3),e.JRh(e.bMT(29,24,"lang_auto_don_vi_kien_thuc")),e.R7$(3),e.Y8G("knowledgeObjs",r.knowledgeObjs)("questionId",a.id)("levelId",null!==(g=null==r.ebankDataObj?null:r.ebankDataObj.levelId)&&void 0!==g?g:0)("subjectId",null!==(D=null==r.ebankDataObj?null:r.ebankDataObj.subjectId)&&void 0!==D?D:0)("knowledgeId",null!==(z=a.knowledgeId)&&void 0!==z?z:0)("objectiveId",null!==($=a.objectiveId)&&void 0!==$?$:0)}}function Ut(t,o){if(1&t&&e.DNE(0,Xt,32,37,"div",16),2&t){const a=e.XpG(2);e.Y8G("ngForOf",a.questionObjs)}}const Kt=function(){return{"mr-2":!0}};function qt(t,o){if(1&t){const a=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"p")(3,"span",6),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",7),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()()(),e.j41(9,"div",8),e.DNE(10,At,4,3,"div",9),e.DNE(11,Ut,1,1,"ng-template",null,10,e.C5r),e.k0s(),e.j41(13,"div",11)(14,"button",12),e.bIt("click",function(){e.eBV(a);const i=e.XpG();return e.Njj(i.loadMoreQuestion())}),e.EFF(15),e.nI1(16,"mytranslate"),e.nrm(17,"lucide-icon",13),e.k0s()()()}if(2&t){const a=e.sdS(12),n=e.XpG();let i;e.R7$(4),e.JRh(null!==(i=null==n.ebankFrameObj?null:n.ebankFrameObj.name)&&void 0!==i?i:e.bMT(5,7,"lang_notice_bank_question")),e.R7$(3),e.SpI("(",n.totalQuestion+" "+e.bMT(8,9,"lang_auto_cau_hoi"),")"),e.R7$(3),e.Y8G("ngIf",!n.questionObjs.length)("ngIfElse",a),e.R7$(4),e.Y8G("disabled",n.totalQuestion<=n.page*n.sizeApi),e.R7$(1),e.SpI(" ",e.bMT(16,11,"lang_auto_xem_them")," "),e.R7$(2),e.Y8G("ngClass",e.lJ4(13,Kt))}}const Jt=[{path:"",component:Ve,canActivate:[E.t],children:[{path:"",component:U},{path:"question-dashboard",component:U},{path:"import-question",component:Pe},{path:"view-bank/:bankId/:tab",component:It},{path:"add-new-question-library",component:Me},{path:"view-question-list-node/:bankId/:frameId",component:(()=>{var t;class o extends j.H{removeQuestion(n,i){this.sAztDialogService.open(Mt,{width:"750px",data:{questionObj:n,ebankId:this.ebankDataObj?.id??0,index:i},restoreFocus:!1,autoFocus:!1}).afterClosed().subscribe(g=>{g&&(this.initStatusObj(),this.questionObjs=this.questionObjs.filter(D=>D.id!=n.id),this.stopStatusObj())})}editQuestion(n){let i=`/admin/question-library/view-question-list-node/${this.bankId}/${this.frameId}`+(this.backLink?"?backto="+encodeURIComponent(this.backLink):"");window.location.href=this.commonService.getLocalRouter("/admin/testbank/azota-editor/0")+"/"+n.id+"?backto="+encodeURIComponent(i)+"&r="+(n.rawIndex??0)}loadMoreQuestion(){this.page++,this.getDataFrame()}selectKnowledgeEmit(n,i){let s=this.questionObjs.find(r=>r.id==i.id);s&&(s.knowledgeId=n.knowledgeId,s.objectiveId=n.objectiveId,this.checkStructure(n))}checkStructure(n){if(this.structuresObjs.find(r=>n.knowledgeId&&r.id==n.knowledgeId&&"knowledge"==r.typeNode||n.objectiveId&&r.id==n.objectiveId&&"objective"==r.typeNode))return this.calcStructureExamObj();let s=n.objectiveId??n.knowledgeId;s&&(this.structuresObjs.push({id:s,title:n.title,numberOfQuestions:1,typeNode:n.objectiveId?"objective":"knowledge"}),this.calcStructureExamObj())}calcStructureExamObj(){this.structuresObjs.forEach(n=>{n.numberOfQuestions=0,this.questionObjs.forEach(i=>{(i.knowledgeId&&"knowledge"==n.typeNode&&n.id==i.knowledgeId||i.objectiveId&&"objective"==n.typeNode&&n.id==i.objectiveId)&&n.numberOfQuestions++})}),setTimeout(()=>this.structuresObjs=this.structuresObjs.filter(n=>0!=n.numberOfQuestions),0)}initStructureObjs(){this.questionObjs.forEach(n=>{let i=this.sAztKnowledgeObjectiveService.getObjByKnowledgeIdOrObjectiveId(this.knowledgeObjs,n.knowledgeId??0,n.objectiveId??0);i&&this.checkStructure(i)})}getDataFrame(){this.initStatusObj(),this.eBanksQuestionService.apiEbanksQuestionsListPost({ebankId:this.bankId,ebankFrameId:this.frameId,page:this.page,size:this.sizeApi}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.ebankDataObj=i.data?.ebank,this.ebankFrameObj=i.data?.ebankFrame;let s=this.commonService.castJsonToClassObjs(wt.I,JSON.stringify(i.data?.list));const r=this.changeAnswerResultStatus(s??[]);this.followerRenderQuest.setNumQuest(r.length),this.docxService.replaceCanvasBackgroundTS(r),r.map(g=>g.answerResult??[]),this.questionObjs.push(...r),this.questionService.apiQuestionGetTagsGet().subscribe(g=>{1==g.success&&(this.questionTags=g.data?.objs??[])}),this.totalQuestion=i.data?.total??0,this.sAztKnowledgeObjectiveService.getKnowledgeByApi(this.ebankDataObj?.levelId??0,this.ebankDataObj?.subjectId??0,!1,0,g=>{this.knowledgeObjs=g,this.initStructureObjs()},g=>{}),this.successStatusObj()})}changeAnswerResultStatus(n){var i=[];return n.forEach((s,r)=>{s.index=r,s.isRoleTeacher=!0,s.answers&&s.answerResult?(s.answers.forEach(g=>{g.questionId=s.id,g.checked=!1,g.isTrue=this.checkAnswerResult(g.key??"",s.answerResult)}),i.push(s)):i.push(s)}),i}checkAnswerResult(n,i){return null!=i.find(s=>s==n)}ngOnInit(){this.waitDestroy((0,K.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.frameId=Number(this.commonService.getMyParam(this.activeRoute,"frameId")),this.bankId=Number(this.commonService.getMyParam(this.activeRoute,"bankId")),this.backLink=this.commonService.getMyQueryParam("backto")??"/admin/view-bank/"+this.bankId+"/0",this.getDataFrame()}))}constructor(n,i,s,r,g){super(),this.activeRoute=n,this.sAztQuestionKnowledgeUnitService=i,this.eBanksQuestionService=s,this.docxService=r,this.sAztDialogService=g,this.backLink="",this.frameId=0,this.bankId=0,this.page=1,this.sizeApi=50,this.questionTags=[],this.questionObjs=[],this.followerRenderQuest=new Tt.e,this.totalQuestion=0,this.structuresObjs=[],this.knowledgeObjs=[],this.sAztKnowledgeObjectiveService=(0,e.WQX)(Et.n),this.questionService=(0,e.WQX)(Ct.wP)}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(f.nX),e.rXU(Gt.s),e.rXU(R.N8),e.rXU(Nt.I),e.rXU(q.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-view-list-question-node"]],features:[e.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"container","mx-auto","mt-3",2,"max-width","1000px"],[1,"flex","justify-between","items-center"],[1,"font-medium"],[1,"ml-3","text-slate-500","text-xs"],[1,"box","rounded-none","mt-3",2,"background-color","transparent"],["class","mx-auto my-auto text-center midle-box",4,"ngIf","ngIfElse"],["showList",""],[1,"mt-3","mx-auto","w-full","text-center"],[1,"btn","btn-transparent","mx-auto",3,"disabled","click"],["name","chevron-down","size","20",3,"ngClass"],[1,"mx-auto","my-auto","text-center","midle-box"],[1,"text-slate-500","text-md",2,"font-weight","420"],["class","question-standalone-content-box",4,"ngFor","ngForOf"],[1,"question-standalone-content-box"],[1,"box-service","box","border","border-slate-400","dark:border-darkmode-400","px-3","py-2","relative",3,"ngClass"],[3,"examObj","questionObj","modeView","follower","curQuestionIndex"],[1,"absolute",2,"left","auto","top","10px","right","10px"],[1,"btn","btn-sm","btn-transparent",3,"matMenuTriggerFor"],["name","ellipsis-vertical"],["xPosition","before"],["mainMenu","matMenu"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],[1,"dropdown-item","text-danger",2,"align-items","center",3,"click"],["name","trash","size","16",3,"ngClass"],[2,"vertical-align","middle"],[1,"dropdown-item",2,"align-items","center",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],["class","box-help mt-2",3,"ngClass",4,"ngIf"],[1,"box-help","mt-2",3,"ngClass"],[1,"help-title","uppercase"],[1,"tex2jax_process","help-content","text-slate-500"],[3,"knowledgeObjs","questionId","levelId","subjectId","knowledgeId","objectiveId","selectKnowledgeEmit"],[1,"help-title"],[3,"content"]],template:function(n,i){if(1&n&&(e.j41(0,"teacher-layout",0),e.DNE(1,Qt,1,1,"azt-loading-effect",1),e.DNE(2,qt,18,14,"ng-template",null,2,e.C5r),e.k0s()),2&n){const s=e.sdS(3);e.Y8G("headerBackToLink",i.backLink),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",s)}},dependencies:[m.YU,m.Sq,m.bT,J.kk,J.Cp,M.K,W.x,zt.y,$t.Q,L.Q,h.WGl,T.wp],styles:[".box-service-name[_ngcontent-%COMP%], .box-service-question-name[_ngcontent-%COMP%]{outline:1px solid #ccc;padding:3px 10px!important;border-radius:3px;font-weight:500}.box-service-question-name[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.box-service-question[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.box-service-question[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{border-right:none}.box-service-question[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-right:none}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}.custom-cell-knowledge[_ngcontent-%COMP%]{position:absolute;left:10px;top:0;bottom:0}.custom-colums-knowledge[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow-y:auto}@media screen and (max-width: 768px){.custom-colums-knowledge[_ngcontent-%COMP%]{height:auto!important;overflow-y:hidden}}"]}),o})()}]}];let Ht=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.iI.forChild(Jt),f.iI,x.XE]}),o})(),Zt=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.iI,m.MD,d.s,_.Id,I.YN,I.X1,c.hM,y.L,k.Lk,_.Id,p.xv,v.Q,u.b,h.flO.pick(h.Ptg),w.An,Ht,b.Fr]}),o})()},60531:(F,C,l)=>{"use strict";l.d(C,{O:()=>f});var m=l(26860),I=l(50589),c=l(62095);let f=(()=>{var b;class h{setMode(p){this.browserStorageService.saveSimpleStorage("__editor:mode_open",p)}getMode(){var p=this.browserStorageService.getSimpleStorage("__editor:mode_open")||"editor";return this.browserStorageService.removeSimpleStorage("__editor:mode_open"),p}setFileProcess(p){this.file=p}getFirstFile(){let p=this.file;return this.file=void 0,p}setOutputData(p){this.data=p}getOutputData(){return this.data}redirectToConfig(p){this.data.homework&&p.showHomework(),(this.data.exam||this.data.examOffline)&&p.showExam()}setMatrixData(p,w){w?this.matrix=p:this.browserStorageService.saveSimpleStorage("__editor:matrix-data",JSON.stringify(p))}getMatrixData(){var p=this.browserStorageService.getSimpleStorage("__editor:matrix-data");return this.browserStorageService.removeSimpleStorage("__editor:matrix-data"),p?this.commonService.castJsonToObj(p):this.matrix}constructor(p,w){this.browserStorageService=p,this.commonService=w,this.data={}}}return(b=h).\u0275fac=function(p){return new(p||b)(m.KVO(I.z),m.KVO(c.R))},b.\u0275prov=m.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),h})()},10296:(F,C,l)=>{"use strict";l.d(C,{R:()=>k});var m=l(43277),c=l(18148),f=l(26860),b=l(52509),h=l(62095);let k=(()=>{var p;class w{constructor(d,y){this.mobileWebviewService=d,this.commonService=y}shareFileWithBlob(d,y){if(this.commonService.isMobileWebview(void 0)){c.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let u=new FileReader;u.readAsDataURL(d),u.onloadend=()=>{let v=u.result;"string"==typeof v&&(this.mobileWebviewService.sendShareFileBase64(y,String(v)),c.L.closeLoadingEffect(100))}}else m.saveAs(d,y)}shareFileWithBase64(d,y){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(y,d):m.saveAs(d,y)}}return(p=w).\u0275fac=function(d){return new(d||p)(f.KVO(b.f),f.KVO(h.R))},p.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),w})()},18148:(F,C,l)=>{"use strict";l.d(C,{L:()=>m});let m=(()=>{var I;class c{static openLoadingEffect(b){c.getDomElement().style.display="flex",setTimeout(()=>{c.changeMsgLoadingEffect(b)},50)}static closeLoadingEffect(b){return new Promise(h=>{setTimeout(()=>{const k=c.getDomElement();k&&(k.style.display="none"),h(!0)},b)})}static changeMsgLoadingEffect(b){c.getDomContent().innerText=b}static getDomContent(){return document.getElementById(c.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(c.idComponent)??this.createDomElement()}static createDomElement(){const b=document.createElement("div");return b.id=c.idComponent,b.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),b.style.display="none",b.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${c.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(b),b}}return(I=c).idComponent="azt-status-loading-effect",I.idStatusContent="azt-status-loading-effect-content",c})()},74175:(F,C,l)=>{"use strict";l.d(C,{W:()=>y});var m=l(47947),I=l(59640),c=l(26860),f=l(10296),b=l(62095),h=l(27691),k=l(54460),p=l(76975);function w(u,v){if(1&u){const x=c.RV6();c.qex(0),c.j41(1,"a",2),c.bIt("click",function(){c.eBV(x);const j=c.XpG();return c.Njj(j.shareFileToFlutter())}),c.j41(2,"span"),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s(),c.SdG(5),c.k0s(),c.bVm()}if(2&u){const x=c.XpG();c.R7$(1),c.Aen(x.style),c.HbH(x.classStyle),c.FS9("target",x.target),c.R7$(2),c.JRh(c.bMT(4,7,x.fileDescription))}}function _(u,v){if(1&u&&(c.j41(0,"a",3)(1,"span"),c.EFF(2),c.nI1(3,"mytranslate"),c.k0s(),c.SdG(4,1),c.k0s()),2&u){const x=c.XpG();c.Aen(x.style),c.HbH(x.classStyle),c.FS9("href",x.dataUrl,c.B4B),c.FS9("target",x.target),c.FS9("download",x.fileName),c.R7$(2),c.JRh(c.bMT(3,9,x.fileDescription))}}const d=["*","*"];let y=(()=>{var u;class v extends I.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,m.T)(E=>E))}shareFileToFlutter(){this.downloadFile().subscribe(E=>{this.shareFileFlutterService.shareFileWithBlob(E,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(E,j,e){super(),this.shareFileFlutterService=E,this.commonService=j,this.http=e,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return(u=v).\u0275fac=function(E){return new(E||u)(c.rXU(f.R),c.rXU(b.R),c.rXU(h.Qq))},u.\u0275cmp=c.VBU({type:u,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[c.Vt3],ngContentSelectors:d,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(E,j){if(1&E&&(c.NAR(d),c.DNE(0,w,6,9,"ng-container",0),c.DNE(1,_,5,11,"ng-template",null,1,c.C5r)),2&E){const e=c.sdS(2);c.Y8G("ngIf",j.isMobileWebView)("ngIfElse",e)}},dependencies:[k.bT,p.wp],encapsulation:2}),v})()},43277:function(F,C){var l,I;void 0!==(I="function"==typeof(l=function(){"use strict";function f(_,d,y){var u=new XMLHttpRequest;u.open("GET",_),u.responseType="blob",u.onload=function(){w(u.response,d,y)},u.onerror=function(){console.error("could not download file")},u.send()}function b(_){var d=new XMLHttpRequest;d.open("HEAD",_,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function h(_){try{_.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),_.dispatchEvent(d)}}var k="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,p=k.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),w=k.saveAs||("object"!=typeof window||window!==k?function(){}:"download"in HTMLAnchorElement.prototype&&!p?function(_,d,y){var u=k.URL||k.webkitURL,v=document.createElement("a");v.download=d=d||_.name||"download",v.rel="noopener","string"==typeof _?(v.href=_,v.origin===location.origin?h(v):b(v.href)?f(_,d,y):h(v,v.target="_blank")):(v.href=u.createObjectURL(_),setTimeout(function(){u.revokeObjectURL(v.href)},4e4),setTimeout(function(){h(v)},0))}:"msSaveOrOpenBlob"in navigator?function(_,d,y){if(d=d||_.name||"download","string"!=typeof _)navigator.msSaveOrOpenBlob(function c(_,d){return typeof d>"u"?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\ufeff",_],{type:_.type}):_}(_,y),d);else if(b(_))f(_,d,y);else{var u=document.createElement("a");u.href=_,u.target="_blank",setTimeout(function(){h(u)})}}:function(_,d,y,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof _)return f(_,d,y);var v="application/octet-stream"===_.type,x=/constructor/i.test(k.HTMLElement)||k.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||v&&x||p)&&typeof FileReader<"u"){var j=new FileReader;j.onloadend=function(){var O=j.result;O=E?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=O:location=O,u=null},j.readAsDataURL(_)}else{var e=k.URL||k.webkitURL,R=e.createObjectURL(_);u?u.location=R:location.href=R,u=null,setTimeout(function(){e.revokeObjectURL(R)},4e4)}});k.saveAs=w.saveAs=w,F.exports=w})?l.apply(C,[]):l)&&(F.exports=I)}}]);