"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[1683],{19346:(q,w,_)=>{_.d(w,{L:()=>k});var e=_(26860);let k=(()=>{var y;class D{constructor(){this.filesChangeEmitter=new e.bkB,this.background="transparent",this.borderStyle="2px dashed initial"}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #334155"}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #e5e7eb"}onDrop(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #334155",this.filesChangeEmitter.emit(t.dataTransfer.files)}}return(y=D).\u0275fac=function(t){return new(t||y)},y.\u0275dir=e.FsC({type:y,selectors:[["","appDragDrop",""]],hostVars:4,hostBindings:function(t,O){1&t&&e.bIt("dragover",function(T){return O.onDragOver(T)})("dragleave",function(T){return O.onDragLeave(T)})("drop",function(T){return O.onDrop(T)}),2&t&&e.xc7("background",O.background)("border",O.borderStyle)},outputs:{filesChangeEmitter:"filesChangeEmitter"}}),D})()},43558:(q,w,_)=>{_.d(w,{Z:()=>y});var e=_(26860),k=_(62095);let y=(()=>{var D;class E{constructor(O){this.commonService=O,this.enterKey=new e.bkB,this.enableInMobile=!0}onKeyDown(O){!this.enableInMobile&&this.commonService.isMobileDevice()||"Enter"===O.key&&!O.shiftKey&&(O.preventDefault(),this.enterKey.emit())}}return(D=E).\u0275fac=function(O){return new(O||D)(e.rXU(k.R))},D.\u0275dir=e.FsC({type:D,selectors:[["","enterKey",""]],hostBindings:function(O,j){1&O&&e.bIt("keydown",function(M){return j.onKeyDown(M)})},inputs:{enableInMobile:"enableInMobile"},outputs:{enterKey:"enterKey"}}),E})()},9260:(q,w,_)=>{_.d(w,{m:()=>K});var e=_(26860),k=_(59640),y=_(67638),D=_(54460),E=_(76975);const t=["table"];function O(p,I){if(1&p&&(e.j41(0,"th",2),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&p){const i=e.XpG();e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",i.styleThNormal),e.R7$(1),e.Lme("",e.bMT(2,6,"lang_auto_ten_dang_ky"),"",i.isBusinessDomain?"":" (VIP)","")}}function j(p,I){if(1&p&&(e.j41(0,"th",2),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&p){const i=e.XpG();e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",8-(i.isTqbDomain?1:0))("excelStyle",i.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(2,5,"lang_auto_mat_khau")," ")}}function T(p,I){if(1&p&&(e.j41(0,"th",2),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&p){const i=e.XpG();e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",(i.isBusinessDomain||i.checkVipAccountService?9:8)-(i.isTqbDomain?1:0))("excelStyle",i.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(2,5,"lang_auto_truong")," ")}}function M(p,I){if(1&p&&(e.j41(0,"th",2),e.EFF(1,"Facebook"),e.k0s()),2&p){const i=e.XpG();e.BMQ("excelWidth",65)("excelRow",0)("excelColumn",(i.isBusinessDomain||i.checkVipAccountService?10:9)-(i.isTqbDomain?1:0))("excelStyle",i.styleThNormal)}}function A(p,I){if(1&p&&(e.j41(0,"th",2),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&p){const i=e.XpG();e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",(i.isBusinessDomain?11:i.checkVipAccountService?9:8)-(i.isTqbDomain?1:0))("excelStyle",i.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(2,5,"lang_auto_lop")," ")}}function G(p,I){if(1&p&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&p){const i=e.XpG(),x=i.index,r=i.$implicit,l=e.XpG();e.BMQ("excelRow",x+1)("excelColumn",2)("excelStyle",null!=r&&r.errorImportIdentification?l.styleTdErrorLeft:l.styleTdNormalLeft),e.R7$(1),e.SpI(" ",null==r?null:r.parentUserName," ")}}function $(p,I){if(1&p&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&p){const i=e.XpG(),x=i.index,r=i.$implicit,l=e.XpG();e.BMQ("excelRow",x+1)("excelColumn",8-(l.isTqbDomain?1:0))("excelStyle",null!=r&&r.errorImportIdentification?l.styleTdError:l.styleTdNormal),e.R7$(1),e.SpI(" ",null==r?null:r.password," ")}}function B(p,I){if(1&p&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&p){const i=e.XpG(),x=i.index,r=i.$implicit,l=e.XpG();e.BMQ("excelRow",x+1)("excelColumn",(l.isBusinessDomain?9:8)-(l.isTqbDomain?1:0))("excelStyle",null!=r&&r.errorImportIdentification?l.styleTdNotNumberError:l.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null==r?null:r.schoolName," ")}}function W(p,I){if(1&p&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&p){const i=e.XpG(),x=i.index,r=i.$implicit,l=e.XpG();e.BMQ("excelRow",x+1)("excelColumn",(l.isBusinessDomain?10:9)-(l.isTqbDomain?1:0))("excelStyle",null!=r&&r.errorImportIdentification?l.styleTdNotNumberError:l.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null==r?null:r.facebookLink," ")}}function V(p,I){if(1&p&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&p){const i=e.XpG(),x=i.index,r=i.$implicit,l=e.XpG();let z;e.BMQ("excelRow",x+1)("excelColumn",(l.isBusinessDomain?11:l.checkVipAccountService?9:8)-(l.isTqbDomain?1:0))("excelStyle",null!=r&&r.errorImportIdentification?l.styleTdError:l.styleTdNormal),e.R7$(1),e.SpI(" ",null!==(z=null==r?null:r.classroomName)&&void 0!==z?z:""," ")}}const L=function(){return{vertical:"left",horizontal:"left",wrapText:"true"}},Y=function(){return{rgb:"f10000"}},X=function(p){return{bold:"true",color:p}},U=function(p,I){return{alignment:p,font:I}};function N(p,I){if(1&p&&(e.j41(0,"tr")(1,"td",2),e.EFF(2),e.k0s(),e.j41(3,"td",2),e.EFF(4),e.k0s(),e.DNE(5,G,2,4,"td",3),e.j41(6,"td",2),e.EFF(7),e.k0s(),e.j41(8,"td",2),e.EFF(9),e.k0s(),e.j41(10,"td",2),e.EFF(11),e.nI1(12,"formatOnlyDateByUserUnitPipe"),e.k0s(),e.j41(13,"td",2),e.EFF(14),e.nI1(15,"mytranslate"),e.nI1(16,"mytranslate"),e.k0s(),e.j41(17,"td",2),e.EFF(18),e.nI1(19,"formatStudentCodeToNumber"),e.k0s(),e.DNE(20,$,2,4,"td",3),e.DNE(21,B,2,4,"td",3),e.DNE(22,W,2,4,"td",3),e.DNE(23,V,2,4,"td",3),e.j41(24,"td",2),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s(),e.j41(27,"td",2),e.EFF(28),e.k0s()()),2&p){const i=I.$implicit,x=I.index,r=I.index,l=e.XpG();e.R7$(1),e.BMQ("excelRow",r+1)("excelColumn",0)("excelStyle",null!=i&&i.errorImportIdentification?l.styleTdError:l.styleTdNormal),e.R7$(1),e.SpI(" ",null!=i&&i.fullName?x+1:""," "),e.R7$(1),e.BMQ("excelRow",r+1)("excelColumn",1)("excelStyle",null!=i&&i.errorImportIdentification?l.styleTdErrorLeft:l.styleTdNormalLeft),e.R7$(1),e.SpI(" ",null==i?null:i.fullName," "),e.R7$(1),e.Y8G("ngIf",!l.isTqbDomain),e.R7$(1),e.BMQ("excelRow",r+1)("excelColumn",3-(l.isTqbDomain?1:0))("excelStyle",null!=i&&i.errorImportIdentification?l.styleTdNotNumberError:l.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null==i?null:i.phone," "),e.R7$(1),e.BMQ("excelRow",r+1)("excelColumn",4-(l.isTqbDomain?1:0))("excelStyle",null!=i&&i.errorImportIdentification?l.styleTdError:l.styleTdNormal),e.R7$(1),e.SpI(" ",null==i?null:i.email," "),e.R7$(1),e.BMQ("excelRow",r+1)("excelColumn",5-(l.isTqbDomain?1:0))("excelStyle",null!=i&&i.errorImportIdentification?l.styleTdError:l.styleTdNormal),e.R7$(1),e.SpI(" ",e.bMT(12,41,null==i?null:i.birthday)," "),e.R7$(2),e.BMQ("excelRow",r+1)("excelColumn",6-(l.isTqbDomain?1:0))("excelStyle",null!=i&&i.errorImportIdentification?l.styleTdError:l.styleTdNormal),e.R7$(1),e.SpI(" ",1==(null==i?null:i.gender)?e.bMT(15,43,"lang_student_export_excel_gender_male"):0==(null==i?null:i.gender)?e.bMT(16,45,"lang_student_export_excel_gender_female"):""," "),e.R7$(3),e.BMQ("excelRow",r+1)("excelColumn",7-(l.isTqbDomain?1:0))("excelStyle",null!=i&&i.errorImportIdentification?l.styleTdNotNumberError:l.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null!=i&&i.identificationNumber?e.i5U(19,47,null==i?null:i.identificationNumber,6):""," "),e.R7$(2),e.Y8G("ngIf",l.isBusinessDomain||l.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",l.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",l.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",1===l.type),e.R7$(1),e.BMQ("excelRow",r+1)("excelColumn",(l.isBusinessDomain?1===l.type?12:11:1===l.type?l.checkVipAccountService?10:9:8)-(l.isTqbDomain?1:0))("excelStyle",l.styleTdError),e.R7$(1),e.SpI(" ",e.bMT(26,50,null==i?null:i.errorImportIdentification)," "),e.R7$(2),e.BMQ("excelRow",r+1)("excelColumn",(l.isBusinessDomain?1===l.type?13:12:1===l.type?l.checkVipAccountService?11:10:9)-(l.isTqbDomain?1:0))("excelStyle",e.l_i(56,U,e.lJ4(52,L),e.eq3(54,X,e.lJ4(53,Y)))),e.R7$(1),e.SpI(" ",l.commentObjs[r]," ")}}let K=(()=>{var p;class I extends k.H{addCommentToExcelFile(){let x="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),r="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),l="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),z="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four"),Q="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_five"),J="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_six"),H="*"+this.commonService.myTranslateInstant("lang_auto_mat_khau_phai_dai_toi_thieu_la_6"),m="*"+this.commonService.myTranslateInstant("lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai");this.commentObjs=[x,r,l,z,Q,J,H,m+(this.isBusinessDomain?" ":" (VIP)")]}ngOnChanges(){this.appendObjs=[],this.isExported=!1;let r=8-(this.objs?.length??0);if(r>0)for(let l=0;l<r;l++)this.appendObjs.push(void 0)}ngAfterViewChecked(){0==this.isExported&&(this.isExported=!0,setTimeout(()=>{this.exportDataDone.emit(this.exportExcelService.exportHtmlTableToExcelBlob(this.table,!0))},0))}ngOnInit(){super.ngOnInit(),this.addCommentToExcelFile()}constructor(x){super(),this.exportExcelService=x,this.type=0,this.exportDataDone=new e.bkB,this.appendObjs=[],this.commentObjs=[],this.isExported=!1,this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleTdErrorLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNotNumberError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}},"isText":"1"}'}}return(p=I).\u0275fac=function(x){return new(x||p)(e.rXU(y.x))},p.\u0275cmp=e.VBU({type:p,selectors:[["azt-export-excel-for-student-list"]],viewQuery:function(x,r){if(1&x&&e.GBs(t,5),2&x){let l;e.mGM(l=e.lsd())&&(r.table=l.first)}},inputs:{objs:"objs",type:"type"},outputs:{exportDataDone:"exportDataDone"},features:[e.Vt3,e.OA$],decls:34,vars:60,consts:[[1,"table","table-bordered",2,"display","none"],["table",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(x,r){1&x&&(e.j41(0,"table",0,1)(2,"thead")(3,"tr")(4,"th",2),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"th",2),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.DNE(10,O,3,8,"th",3),e.j41(11,"th",2),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"th",2),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s(),e.j41(17,"th",2),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.j41(20,"th",2),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"th",2),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.DNE(26,j,3,7,"th",3),e.DNE(27,T,3,7,"th",3),e.DNE(28,M,2,4,"th",3),e.DNE(29,A,3,7,"th",3),e.nrm(30,"th",2)(31,"th",2),e.k0s()(),e.j41(32,"tbody"),e.DNE(33,N,29,59,"tr",4),e.k0s()()),2&x&&(e.R7$(4),e.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",r.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(6,46,"lang_student_export_excel_no")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",r.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(9,48,"lang_student_export_excel_full_name")," "),e.R7$(2),e.Y8G("ngIf",!r.isTqbDomain),e.R7$(1),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3-(r.isTqbDomain?1:0))("excelStyle",r.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(13,50,"lang_student_export_excel_phone")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4-(r.isTqbDomain?1:0))("excelStyle",r.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(16,52,"lang_student_export_excel_email")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5-(r.isTqbDomain?1:0))("excelStyle",r.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(19,54,"lang_student_export_excel_birthday")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6-(r.isTqbDomain?1:0))("excelStyle",r.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(22,56,"lang_student_export_excel_gender")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",7-(r.isTqbDomain?1:0))("excelStyle",r.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(25,58,"lang_auto_so_bao_danh")," "),e.R7$(2),e.Y8G("ngIf",r.isBusinessDomain||r.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",r.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",r.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",1===r.type),e.R7$(1),e.BMQ("excelWidth",30)("excelRow",0)("excelColumn",(r.isBusinessDomain?1===r.type?12:11:1===r.type?r.checkVipAccountService?10:9:8)-(r.isTqbDomain?1:0))("excelStyle",r.styleThNormal),e.R7$(1),e.BMQ("excelWidth",100),e.R7$(2),e.Y8G("ngForOf",r.objs.concat(r.appendObjs)))},dependencies:[D.Sq,D.bT,E.wp,E.Po,E.vv],encapsulation:2}),I})()},87039:(q,w,_)=>{_.d(w,{O:()=>h});var e=_(10936),k=_(89163),y=_(33887),D=_(38009),E=_(80037),t=_(26860),O=_(21213),j=_(10296),T=_(31216),M=_(3780),A=_(54460),G=_(47712),$=_(15343),B=_(7919),W=_(19346),V=_(81587),L=_(27985),Y=_(69135),X=_(9260),U=_(52811),N=_(76975);function K(s,v){1&s&&(t.j41(0,"div",15)(1,"span",16),t.nrm(2,"azt-loading-ui"),t.k0s()())}function p(s,v){if(1&s){const d=t.RV6();t.j41(0,"div",19)(1,"label",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",32)(5,"azt-list-classroom-checkbox",33),t.bIt("createdNewClassroom",function(){t.eBV(d);const c=t.XpG(2);return t.Njj(c.isCreatedNewClassroom=!0)}),t.k0s()()()}if(2&s){const d=t.XpG(2);t.Y8G("hidden",2===d.stepView),t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_auto_chon_nhung_can_danh_so_bao_danh")," "),t.R7$(3),t.Y8G("form",d.form)("classroomGroupData",d.classroomWithGroups)("examClassroomObjs",d.examClassroomObjs)("permissionName",d.permissionTypes.exam)}}function I(s,v){1&s&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau")," "))}function i(s,v){1&s&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_lon_hon_0")," "))}function x(s,v){1&s&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_khong_qua_6_chu_so")," "))}function r(s,v){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s){const d=t.XpG(4);t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_yeu_cau_nhap_so_va_be_nhat_la_1_max_999999")+(999999-(d.totalStudent?d.totalStudent-1:0))," ")}}function l(s,v){if(1&s&&(t.j41(0,"div",39),t.DNE(1,I,3,3,"span",40),t.DNE(2,i,3,3,"span",40),t.DNE(3,x,3,3,"span",40),t.DNE(4,r,3,3,"span",40),t.k0s()),2&s){const d=t.XpG(3);t.R7$(1),t.Y8G("ngIf",d.form.controls.startNumbering.errors.required),t.R7$(1),t.Y8G("ngIf",d.form.controls.startNumbering.errors.min),t.R7$(1),t.Y8G("ngIf",d.form.controls.startNumbering.errors.maxlength&&!d.form.controls.startNumbering.errors.max&&!d.form.controls.startNumbering.errors.min),t.R7$(1),t.Y8G("ngIf",d.form.controls.startNumbering.errors.max)}}const z=function(){return{"ml-1":!0}};function Q(s,v){if(1&s&&(t.j41(0,"div",34)(1,"label",35),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"lucide-icon",36),t.nI1(5,"mytranslate"),t.k0s(),t.nrm(6,"input",37),t.nI1(7,"mytranslate"),t.DNE(8,l,5,4,"div",38),t.k0s()),2&s){const d=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_nhap_so_bao_danh_bat_dau")," "),t.R7$(2),t.FS9("matTooltip",t.bMT(5,7,"lang_tooltip_input_identification_numbering")),t.Y8G("ngClass",t.lJ4(11,z)),t.R7$(2),t.FS9("placeholder",t.bMT(7,9,"lang_auto_nhap_so")+"..."),t.R7$(2),t.Y8G("ngIf",d.form.controls.startNumbering.errors&&(d.form.controls.startNumbering.touched||d.form.controls.startNumbering.dirty))}}const J=function(){return{"text-success":!0}};function H(s,v){if(1&s){const d=t.RV6();t.j41(0,"div",48),t.bIt("click",function(){t.eBV(d);const c=t.sdS(3);return t.Njj(c.click())})("filesChangeEmitter",function(c){t.eBV(d);const C=t.XpG(3);return t.Njj(C.onFileSelected(c))}),t.j41(1,"div",49)(2,"input",50,51),t.bIt("change",function(c){t.eBV(d);const C=t.XpG(3);return t.Njj(C.onFileSelected(c.target.files))}),t.k0s(),t.j41(4,"div"),t.nrm(5,"lucide-icon",52),t.j41(6,"span",53),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()}2&s&&(t.R7$(5),t.Y8G("ngClass",t.lJ4(7,J)),t.R7$(2),t.SpI(" ",t.bMT(8,3,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(10,5,"lang_auto_hoc_click_de_chon_file")," "))}function m(s,v){if(1&s){const d=t.RV6();t.j41(0,"div",54)(1,"div",55)(2,"div",56)(3,"div",57)(4,"div",58)(5,"div",59),t.nrm(6,"img",60),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",61)(9,"p",62,63),t.EFF(11),t.k0s(),t.j41(12,"div",64),t.EFF(13),t.k0s()(),t.j41(14,"div",65)(15,"button",66),t.bIt("click",function(c){t.eBV(d);const C=t.XpG(3);return t.Njj(C.removeFile(c))}),t.nI1(16,"mytranslate"),t.nrm(17,"lucide-icon",67),t.k0s()()()()()()()}if(2&s){const d=t.sdS(10),a=t.XpG(3);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==a.file?null:a.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",d.isDisabled),t.R7$(2),t.SpI(" ",a.file?a.file.name:""," "),t.R7$(2),t.SpI(" ",a.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}const S=function(){return{"mr-2":!0}};function b(s,v){if(1&s){const d=t.RV6();t.j41(0,"div",34)(1,"label",41),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,H,11,8,"div",42),t.DNE(5,m,18,11,"ng-template",null,43,t.C5r),t.j41(7,"div",44)(8,"button",45),t.bIt("click",function(){t.eBV(d);const c=t.XpG(2);return t.Njj(c.exportStudentListByClassroomIds("click"))}),t.nrm(9,"lucide-icon",46),t.j41(10,"span",47),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()}if(2&s){const d=t.sdS(6),a=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_tai_file_excel_len")," "),t.R7$(2),t.Y8G("ngIf",!a.file)("ngIfElse",d),t.R7$(5),t.Y8G("ngClass",t.lJ4(9,S)),t.R7$(2),t.SpI(" ",t.bMT(12,7,"lang_auto_tai_danh_sach_hoc_sinh_trong_lop")," ")}}function f(s,v){if(1&s&&(t.j41(0,"form",17),t.DNE(1,p,6,8,"div",18),t.j41(2,"div",19)(3,"div",20)(4,"label",21),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",22)(8,"div",23),t.nrm(9,"input",24),t.j41(10,"label",25),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",26),t.nrm(14,"input",27),t.j41(15,"label",28),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"div",29)(19,"div",20)(20,"span",21),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"div",30)(26,"span",21),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()(),t.DNE(31,Q,9,12,"div",31),t.DNE(32,b,13,10,"div",31),t.k0s()()),2&s){const d=t.XpG();t.Y8G("formGroup",d.form),t.R7$(1),t.Y8G("ngIf",1===d.data.type),t.R7$(1),t.Y8G("hidden",1===d.stepView),t.R7$(3),t.SpI(" ",t.bMT(6,12,"lang_auto_chon_cach_danh_so_bao_danh")," "),t.R7$(6),t.SpI(" ",t.bMT(12,14,"lang_auto_danh_tu_dong")," "),t.R7$(5),t.SpI(" ",t.bMT(17,16,"lang_auto_danh_bang_file_excel")," "),t.R7$(5),t.SpI(" ","*"+t.bMT(22,18,"lang_auto_danh_tu_dong")+": "," "),t.R7$(2),t.SpI(" ",t.bMT(24,20,"lang_auto_he_thong_se_tu_dong_danh_so_bao_danh_theo_alpha_b")," "),t.R7$(4),t.SpI(" ","*"+t.bMT(28,22,"lang_auto_danh_bang_file_excel")+": "," "),t.R7$(2),t.SpI(" ",t.bMT(30,24,"lang_auto_tai_file_excel_de_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("ngIf","0"==d.form.controls.howIdentification.value),t.R7$(1),t.Y8G("ngIf","1"==d.form.controls.howIdentification.value)}}function n(s,v){if(1&s){const d=t.RV6();t.j41(0,"button",68),t.bIt("click",function(){t.eBV(d);const c=t.XpG();return t.Njj(c.prevStepView())}),t.nrm(1,"lucide-icon",69),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&s&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,S)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_quay_lai")," "))}function g(s,v){if(1&s){const d=t.RV6();t.j41(0,"button",70),t.bIt("click",function(){t.eBV(d);const c=t.XpG();return t.Njj(c.nextStepView())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&s){const d=t.XpG();t.Y8G("disabled",d.form.invalid),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_tiep_tuc")," ")}}function o(s,v){if(1&s){const d=t.RV6();t.j41(0,"button",71),t.bIt("click",function(){t.eBV(d);const c=t.XpG();return t.Njj(c.handleNumberingAuto(c.form.controls.howIdentification.value))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&s){const d=t.XpG();t.Y8G("disabled","0"==d.form.controls.howIdentification.value&&d.form.controls.startNumbering.errors||"1"==d.form.controls.howIdentification.value&&null==d.file),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_danh_so")," ")}}function u(s,v){if(1&s){const d=t.RV6();t.j41(0,"azt-export-excel-for-student-list",72),t.bIt("exportDataDone",function(c){t.eBV(d);const C=t.XpG();return t.Njj(C.exportStudentListDone(c))}),t.k0s()}if(2&s){const d=t.XpG();t.Y8G("objs",d.exportStudentObjs)("type",1)}}let h=(()=>{var s;class v extends y._{handleCloseDialog(){this.dialogRef.close(this.isCreatedNewClassroom)}getFileMB(a){return a&&a>0?(a/=1048576).toFixed(2):0}nextStepView(){this.stepView=2,this.getTotalStudentData()}prevStepView(){this.stepView=1}exportStudentListDone(a){let c=this.commonService.createFileNameExportFile(["list-student","danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(a,c)}handleNumberingAuto(a){let c=[];if(1===this.data.type&&(c=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray)),2===this.data.type&&(c=this.data.listCheckBox),"0"==a){let C={classroomIds:c,startCode:this.form.getRawValue().startNumbering};this.numberingAutomaticIdentification(C)}else this.file&&this.numberingExcelIdentification(c,this.file)}numberingAutomaticIdentification(a){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentSetIdentificationNumbersPost(a).subscribe(c=>{1==c.success?(this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0)):this.errorStatusObj(c.message??"",!0)}))}numberingExcelIdentification(a,c){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentImportStudentIdentificationNumbersPostForm(a,c).subscribe(C=>{if(1==C.success)this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0);else{this.errorStatusObj("lang_auto_vui_long_nhap_dung_noi_dung_trong_file",!0);let P=C.data??[];P.length>0&&(this.processDataErrors(P),this.exportStudentListByClassroomIds("auto")),this.file=null}}))}processData(){1===this.data.type&&(this.classroomWithGroups.forEach(a=>{null!=a.groupObj&&-1!=a.groupObj?.id&&(this.classroomObjs=this.classroomObjs.concat(a.classroomObjs??[])),null==a.groupObj&&(this.classroomObjs=this.classroomObjs.concat(a.classroomObjs??[]))}),this.classroomObjs=this.classroomObjs.filter(a=>!a.isShareClassroom)),2===this.data.type&&(this.stepView=2)}processDataErrors(a){if(this.exportStudentObjs=[],a.length>0)for(let c=0;c<a.length;c++){let C={id:0,classroomId:0,parentId:0,fullName:a[c].fullName,phone:a[c].phone,email:a[c].email,birthday:a[c].birthday,gender:Number(a[c].gender)??void 0,identificationNumber:a[c].identificationNumber,classroomName:a[c].classroomName};C.errorImportIdentification=a[c].message??"",("lang_core_duplicate_student_identification_number_in_db"==a[c].message||"lang_core_duplicate_student_identification_number_in_excel"==a[c].message||"lang_core_invalid_identification_number_data_type"==a[c].message)&&(C.errorImportIdentification=a[c].message),this.exportStudentObjs?.push(C)}}getStudentListByClassroomIds(a){this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(a).subscribe(c=>{if(c.success){this.exportStudentObjs=c.data;let C=this.exportStudentObjs?.length??0;if(this.exportStudentObjs){let P=[],F=[];this.exportStudentObjs.forEach((R,Z,et)=>{P.find(tt=>tt.identificationNumber===R.identificationNumber)?F.push(R):P.push(R)});for(let R=0;R<C;R++)if(this.exportStudentObjs[R].identificationNumber)for(let Z=0;Z<F.length;Z++)this.exportStudentObjs&&this.exportStudentObjs[R].identificationNumber===F[Z].identificationNumber&&(this.exportStudentObjs[R].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[R].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}if(this.exportStudentObjs)for(let P=0;P<C;P++)if(this.exportStudentObjs[P].identificationNumber)for(let F=P+1;F<C;F++)this.exportStudentObjs&&this.exportStudentObjs[P].identificationNumber===this.exportStudentObjs[F].identificationNumber&&(this.exportStudentObjs[P].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[P].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}else this.showErrorSnack(c.message??"")}))}exportStudentListByClassroomIds(a){let c="";1===this.data.type&&(c=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray).toString()),2===this.data.type&&(c=this.data.listCheckBox.toString()),"click"==a&&this.getStudentListByClassroomIds(c)}getTotalStudentData(){let a="";1===this.data.type&&(a=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray).toString()),2===this.data.type&&(a=this.data.listCheckBox.toString()),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(a).subscribe(c=>{c.success&&(this.totalStudent=c.data?.length??0,this.form.controls.startNumbering.addValidators(e.k0.max(999999-(this.totalStudent?this.totalStudent-1:0))))}))}onFileSelected(a){this.file=a?a[0]:this.file,this.fileMb=this.getFileMB(this.file?.size??0),this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}removeFile(a){a.stopPropagation(),this.file=null}getClassroomObjs(){this.data.needGetClassroomGroups?(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(a=>{a.success?(this.classroomWithGroups=a.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroups.map(c=>c.classroomObjs)),this.processData(),this.successStatusObj()):this.errorStatusObj(a.message??"",!0)}))):this.processData()}ngOnInit(){if(super.ngOnInit(),this.getClassroomObjs(),this.data.totalStudent){this.totalStudent=this.data.totalStudent;let a=999999;this.form.valueChanges.subscribe(c=>{this.form.controls.startNumbering.addValidators(e.k0.max(a-(this.totalStudent?this.totalStudent-1:0)))})}}constructor(a,c,C,P,F,R,Z){super(Z,R),this.classroomGroupService=a,this.shareFileFlutterService=c,this.studentService=C,this.studentProfileV2Service=P,this.sAztClassroomCheckboxService=F,this.dialogRef=R,this.data=Z,this.classroomObjs=[],this.examClassroomObjs=[],this.permissionTypes=D.t,this.stepView=1,this.fileMb=0,this.totalStudent=0,this.isCreatedNewClassroom=!1,this.classroomWithGroups=[],this.form=new e.gE({startNumbering:new e.MJ(1,{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[0-9]*$"),e.k0.min(1),e.k0.maxLength(6)]}),howIdentification:new e.MJ("0",{nonNullable:!0}),classroomFormArray:new e.Yp([]),file:new e.MJ("",{nonNullable:!0}),whoAllow:new e.MJ(0,{nonNullable:!0})},{validators:[E.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return(s=v).\u0275fac=function(a){return new(a||s)(t.rXU(O.kG),t.rXU(j.R),t.rXU(T.b0),t.rXU(T.m_),t.rXU(M.Q),t.rXU(k.CP,8),t.rXU(k.Vh,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["azt-automatic-identification"]],features:[t.Vt3],decls:22,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-lg","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-0.5"],[1,"p-3"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","items-center"],[1,"mr-auto"],["azt-track-service","azt-automatic-identification-4p28zlT3gA","class","btn-text-primary",3,"click",4,"ngIf"],["azt-track-service","azt-automatic-identification-2EiEU9_Cnw",1,"btn","btn-secondary","w-20","mr-2",3,"click"],["azt-track-service","azt-automatic-identification-kI3BEINfrN","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],[3,"objs","type","exportDataDone",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],["class","intro",3,"hidden",4,"ngIf"],[1,"intro",3,"hidden"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],[1,"form-check","mt-1","mr-10"],["id","by-automatic","type","radio","value","0","formControlName","howIdentification",1,"form-check-input"],["for","by-automatic",1,"form-check-label"],[1,"form-check","mt-1"],["id","by-excel","type","radio","value","1","formControlName","howIdentification",1,"form-check-input"],["for","by-excel",1,"form-check-label"],[1,"text-xs","leading-relaxed","mt-4"],[1,"mt-1"],["class","intro mt-4",4,"ngIf"],[1,"azt-list-classroom","mt-3"],[3,"form","classroomGroupData","examClassroomObjs","permissionName","createdNewClassroom"],[1,"intro","mt-4"],["for","number-start",1,"form-label","font-medium","flex","items-center"],["name","info","size","18",3,"ngClass","matTooltip"],["id","number-start","appOnlyNumber","","type","text","formControlName","startNumbering",1,"form-control",3,"placeholder"],["class","mt-2 fade text-xs text-danger font-medium",4,"ngIf"],[1,"mt-2","fade","text-xs","text-danger","font-medium"],[4,"ngIf"],[1,"form-label","font-medium"],["azt-track-service","azt-automatic-identification-PooqxQVpD","class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md","appDragDrop","",3,"click","filesChangeEmitter",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","azt-automatic-identification-J9l0MWhdQ8",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],["azt-track-service","azt-automatic-identification-PooqxQVpD","appDragDrop","",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",3,"click","filesChangeEmitter"],[1,"px-4","pb-4","mt-5","flex","items-center","justify-center","text-center","cursor-pointer","relative"],["id","horizontal-form-1","type","file","formControlName","file","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"hiddenIpt",3,"change"],["fileSelect",""],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["name","trash-2","size","20"],["azt-track-service","azt-automatic-identification-4p28zlT3gA",1,"btn-text-primary",3,"click"],["name","chevron-left","size","16",3,"ngClass"],["azt-track-service","azt-automatic-identification-kI3BEINfrN",1,"btn","w-24","btn-primary",3,"disabled","click"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A",1,"btn","w-24","btn-primary",3,"disabled","click"],[3,"objs","type","exportDataDone"]],template:function(a,c){if(1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",4),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"div",5),t.DNE(10,K,3,0,"div",6),t.DNE(11,f,33,26,"ng-template",null,7,t.C5r),t.k0s()(),t.j41(13,"div",8)(14,"div",9),t.DNE(15,n,4,5,"button",10),t.k0s(),t.j41(16,"button",11),t.bIt("click",function(){return c.handleCloseDialog()}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.DNE(19,g,3,4,"button",12),t.DNE(20,o,3,4,"button",13),t.k0s()(),t.DNE(21,u,1,2,"azt-export-excel-for-student-list",14)),2&a){const C=t.sdS(12);t.R7$(4),t.SpI(" ",t.bMT(5,9,"lang_auto_danh_so_bao_danh")," "),t.R7$(3),t.SpI(" ",t.bMT(8,11,"lang_auto_danh_so_bao_danh_de_su_dung_cho_nhung_ki_thi_offline")," "),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",C),t.R7$(5),t.Y8G("ngIf",1===c.data.type&&2===c.stepView),t.R7$(2),t.SpI(" ",t.bMT(18,13,"lang_auto_huy")," "),t.R7$(2),t.Y8G("ngIf",1===c.stepView),t.R7$(1),t.Y8G("ngIf",2===c.stepView),t.R7$(1),t.Y8G("ngIf",c.exportStudentObjs)}},dependencies:[A.YU,A.bT,G.oV,e.qT,e.me,e.Fm,e.BC,e.cb,e.j4,e.JD,$.WGl,B.Z,W.L,V.t,L.D,Y.f,X.m,U.R,N.wp,N.gt],encapsulation:2}),v})()},35048:(q,w,_)=>{_.d(w,{w:()=>H});var e=_(26860),k=_(10936),y=_(59640),D=_(27208),E=_(68774),t=_(31216),O=_(54460),j=_(47712),T=_(18718),M=_(2915),A=_(69135),G=_(32099),$=_(76975);function B(m,S){if(1&m&&e.nrm(0,"azt-loading-effect",7),2&m){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function W(m,S){if(1&m&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&m){const b=e.XpG(3);e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_da_chon")+": "+b.totalStudentsSelected)}}function V(m,S){if(1&m&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&m){const b=e.XpG(3);e.R7$(1),e.JRh(b.data.classroomName+(b.totalStudentsSelected?" ("+e.bMT(2,1,"lang_auto_da_chon")+": "+b.totalStudentsSelected+")":""))}}function L(m,S){}function Y(m,S){if(1&m&&(e.j41(0,"div")(1,"azt-mat-dialog-content",22),e.DNE(2,L,0,0,"ng-template",23),e.k0s()()),2&m){e.XpG(3);const b=e.sdS(8);e.R7$(1),e.Y8G("defaultHeight",40),e.R7$(1),e.Y8G("ngTemplateOutlet",b)}}function X(m,S){}function U(m,S){if(1&m&&(e.j41(0,"div"),e.DNE(1,X,0,0,"ng-template",23),e.k0s()),2&m){e.XpG(3);const b=e.sdS(8);e.R7$(1),e.Y8G("ngTemplateOutlet",b)}}const N=function(m,S){return{"dark:bg-darkmode-400 bg-slate-100":m,"border-b border-slate-200/60 dark:border-darkmode-400":S}};function K(m,S){if(1&m){const b=e.RV6();e.qex(0),e.j41(1,"div",10)(2,"div",11),e.DNE(3,W,3,3,"span",12),e.DNE(4,V,3,3,"span",12),e.j41(5,"div",13)(6,"azt-search-box",14),e.bIt("onSearch",function(n){e.eBV(b);const g=e.XpG(2);return e.Njj(g.onSearchBox(n.searchObj))}),e.nI1(7,"mytranslate"),e.k0s()()(),e.j41(8,"div",15)(9,"div",16)(10,"input",17),e.bIt("change",function(){e.eBV(b);const n=e.XpG(2);return e.Njj(n.selectAllStudentOfClass())}),e.k0s(),e.j41(11,"label",18),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",19)(15,"input",20),e.bIt("change",function(){e.eBV(b);const n=e.XpG(2);return e.Njj(n.calculateFormData())}),e.k0s(),e.j41(16,"label",21),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()()(),e.DNE(19,Y,3,2,"div",12),e.DNE(20,U,2,1,"div",12),e.bVm()}if(2&m){const b=e.XpG(2);e.R7$(1),e.Y8G("ngClass",e.l_i(18,N,b.isDialog,!b.isDialog)),e.R7$(2),e.Y8G("ngIf",!b.isDialog),e.R7$(1),e.Y8G("ngIf",b.isDialog),e.R7$(2),e.Y8G("isServerSearch",!1)("styleInput","form-control-sm ")("placeholder",e.bMT(7,12,"lang_student_classroom_list_detail_search_name_student")),e.R7$(4),e.Y8G("formControl",b.selectAllFormControl),e.R7$(2),e.SpI(" ",e.bMT(13,14,b.selectAllFormControl.value?"lang_remove_all":"lang_select_all")," "),e.R7$(3),e.Y8G("formControl",b.showCheckedFormControl),e.R7$(2),e.SpI(" ",e.bMT(18,16,"lang_testbank_selected_students")," "),e.R7$(2),e.Y8G("ngIf",b.isDialog),e.R7$(1),e.Y8G("ngIf",!b.isDialog)}}function p(m,S){1&m&&(e.j41(0,"div",24)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_core_class_has_no_student")))}function I(m,S){if(1&m&&(e.DNE(0,K,21,21,"ng-container",8),e.DNE(1,p,4,3,"ng-template",null,9,e.C5r)),2&m){const b=e.sdS(2),f=e.XpG();e.Y8G("ngIf",f.studentObjs.length>0)("ngIfElse",b)}}function i(m,S){if(1&m){const b=e.RV6();e.j41(0,"div",25)(1,"button",26),e.bIt("click",function(){e.eBV(b);const n=e.XpG();return e.Njj(n.btnCloseDialog())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&m&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_cms_common_ok")," "))}function x(m,S){1&m&&(e.qex(0),e.j41(1,"div",24)(2,"span",28),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&m&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_testbank_no_students_selected")))}function r(m,S){if(1&m){const b=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"input",35),e.bIt("change",function(){e.eBV(b);const n=e.XpG(4);return e.Njj(n.calculateFormData())}),e.k0s(),e.j41(3,"label",36,37),e.nI1(5,"mytranslate"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()}if(2&m){const b=e.sdS(4),f=e.XpG().$implicit;e.R7$(2),e.FS9("id","azt-checkbox-student-"+f.id),e.Y8G("formControl",f.isChecked),e.R7$(1),e.FS9("for","azt-checkbox-student-"+f.id),e.Y8G("matTooltip",e.bMT(5,8,f.fullName))("isDisabledTooltip",!1)("matTooltipDisabled",b.isDisabled)("matTooltipShowDelay",500),e.R7$(3),e.SpI(" ",e.bMT(7,10,f.fullName)," ")}}function l(m,S){if(1&m&&(e.qex(0),e.DNE(1,r,8,12,"div",32),e.bVm()),2&m){const b=S.$implicit;e.R7$(1),e.Y8G("ngIf",b.isShowStudent)}}function z(m,S){1&m&&(e.j41(0,"div",24),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&m&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Q(m,S){if(1&m&&(e.j41(0,"div",29),e.DNE(1,l,2,1,"ng-container",30),e.k0s(),e.DNE(2,z,3,3,"div",31)),2&m){const b=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",b.studentObjs),e.R7$(1),e.Y8G("ngIf",0==b.totalStudentsShow)}}function J(m,S){if(1&m&&(e.DNE(0,x,5,3,"ng-container",8),e.DNE(1,Q,3,2,"ng-template",null,27,e.C5r)),2&m){const b=e.sdS(2),f=e.XpG();e.Y8G("ngIf",f.totalStudentsSelected<=0&&f.showCheckedFormControl.value)("ngIfElse",b)}}let H=(()=>{var m;class S extends y.H{resetAll(){this.selectAllFormControl.reset(),this.showCheckedFormControl.reset(),this.selectAllStudentOfClass()}btnCloseDialog(){if(this.studentObjs.length<=0)return this.closeBox.emit();let f={classroomId:this.data.classroomId,classroomName:this.data.classroomName,studentIdsSelected:this.studentObjs.filter(n=>n.isChecked.value).map(n=>n.id)};this.closeBox.emit(f)}onSearchBox(f){this.searchContentObj=f,this.calculateFormData()}selectAllStudentOfClass(){this.studentObjs.map(f=>f.isChecked.setValue(this.selectAllFormControl.value)),this.calculateFormData()}calculateFormData(){let f=this.commonService.convertVietnameseToEnglish(this.searchContentObj.searchContent).toLowerCase().trim();this.studentObjs.forEach(n=>{const g=this.commonService.convertVietnameseToEnglish(n.fullName??"").toLowerCase().trim();let o=""==f||g.includes(f);n.isShowStudent=(!this.showCheckedFormControl.value||n.isChecked.value)&&o}),this.totalStudentsSelected=this.studentObjs.filter(n=>n.isChecked.value).length,this.selectAllFormControl.setValue(this.totalStudentsSelected==this.studentObjs.length),this.totalStudentsShow=this.studentObjs.filter(n=>n.isShowStudent).length,this.isDialog||this.btnCloseDialog()}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.data.classroomId).subscribe(f=>{if(!f.success)return this.errorStatusObj(f.message,!0);let n=f.data?.studentObjs??[];n=0==f.data?.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(n)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(n)??[],"pos","id"),this.initFormData(n),this.stopStatusObj()}))}initFormData(f){this.studentObjs=f.map(n=>({...n,isShowStudent:!0,isChecked:new k.MJ(this.data.studentIdsSelected.includes(n.id),{nonNullable:!0})})),this.calculateFormData()}ngOnInit(){this.getData()}constructor(f,n){super(),this.sortService=f,this.studentProfileV2Service=n,this.selectAllFormControl=new k.MJ(!1,{nonNullable:!0}),this.showCheckedFormControl=new k.MJ(!1,{nonNullable:!0}),this.studentObjs=[],this.totalStudentsSelected=0,this.totalStudentsShow=0,this.searchContentObj=new D.Z,this.isDialog=!0,this.closeBox=new e.bkB}}return(m=S).\u0275fac=function(f){return new(f||m)(e.rXU(E.g),e.rXU(t.m_))},m.\u0275cmp=e.VBU({type:m,selectors:[["azt-select-student"]],inputs:{isDialog:"isDialog",data:"data"},outputs:{closeBox:"closeBox"},features:[e.Vt3],decls:9,vars:3,consts:[["id","selectStudent",1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","p-3 text-right",4,"ngIf"],["templateSelectStudent",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["emptyStudents",""],[1,"p-3","flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center",3,"ngClass"],[1,"font-medium","mr-auto"],[4,"ngIf"],[1,"w-full","relative","flex","items-center","mt-2"],[3,"isServerSearch","styleInput","placeholder","onSearch"],[1,"flex","items-center","mt-2","sm:mt-0"],[1,"form-check","mr-3"],["id","selected-all","type","checkbox",1,"form-check-input",3,"formControl","change"],["for","selected-all",1,"form-check-label"],[1,"form-check"],["id","show-student-checked","type","checkbox",1,"form-check-input",3,"formControl","change"],["for","show-student-checked",1,"form-check-label"],[3,"defaultHeight"],[3,"ngTemplateOutlet"],[1,"h-full","flex","items-center","justify-center","p-5"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"],["checkedBox",""],[1,"mx-auto"],[1,"p-3","grid","grid-cols-12","gap-3"],[4,"ngFor","ngForOf"],["class","h-full flex items-center justify-center p-5",4,"ngIf"],["class","col-span-12 md:col-span-4 mt-2",4,"ngIf"],[1,"col-span-12","md:col-span-4","mt-2"],[1,"azt-checkbox-item"],["type","checkbox",1,"form-check-input",3,"id","formControl","change"],[1,"form-check-label","truncate",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","matTooltipShowDelay","for"],["c","isDisabled"]],template:function(f,n){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,B,1,1,"azt-loading-effect",3),e.DNE(4,I,3,2,"ng-template",null,4,e.C5r),e.k0s()(),e.DNE(6,i,4,3,"div",5),e.k0s(),e.DNE(7,J,3,2,"ng-template",null,6,e.C5r)),2&f){const g=e.sdS(5);e.R7$(3),e.Y8G("ngIf",n.statusObj.loading)("ngIfElse",g),e.R7$(3),e.Y8G("ngIf",n.isDialog)}},dependencies:[O.YU,O.Sq,O.bT,O.T3,j.oV,k.Zm,k.BC,k.l_,T.K,M.U,A.f,G.W,$.wp],encapsulation:2}),S})()},41517:(q,w,_)=>{_.d(w,{M:()=>f});var e=_(59640),k=_(60495),y=_(87840),D=_(89163),E=_(33887),t=_(26860),O=_(21213),j=_(54460),T=_(18718),M=_(68323),A=_(76975);function G(n,g){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function $(n,g){if(1&n&&(t.nrm(0,"img",25),t.nI1(1,"mycdn")),2&n){const o=t.XpG(2);t.FS9("src",t.bMT(1,1,null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.avatar),t.B4B)}}function B(n,g){if(1&n&&t.nrm(0,"azt-create-avatar",26),2&n){const o=t.XpG(2);t.Y8G("nameCreateAvatar",null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.fullName)("size",40)}}function W(n,g){if(1&n&&(t.j41(0,"div",27),t.EFF(1),t.k0s()),2&n){const o=t.XpG(2);t.R7$(1),t.JRh(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.phone)}}function V(n,g){if(1&n&&(t.j41(0,"div",28)(1,"div"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const o=g.$implicit;t.R7$(2),t.SpI("- ",t.bMT(3,1,o.key),"")}}function L(n,g){if(1&n){const o=t.RV6();t.j41(0,"button",29),t.bIt("click",function(){t.eBV(o);const h=t.XpG(2);return t.Njj(h.confirmReceivePermission(3))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_tu_choi")))}function Y(n,g){if(1&n){const o=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(o);const h=t.XpG(2);return t.Njj(h.confirmReceivePermission(2))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_chap_nhan")))}function X(n,g){if(1&n){const o=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(o);const h=t.XpG(2);return t.Njj(h.confirmReceivePermission(3))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_xoa_quyen")))}const U=function(){return[]};function N(n,g){if(1&n){const o=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h3",6)(3,"span",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",8),t.EFF(7),t.k0s()(),t.j41(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12),t.DNE(12,$,2,3,"img",13),t.DNE(13,B,1,2,"azt-create-avatar",14),t.k0s()(),t.j41(14,"div",15)(15,"p",16)(16,"span"),t.EFF(17),t.k0s()(),t.DNE(18,W,2,1,"div",17),t.k0s()()(),t.j41(19,"div",18)(20,"div"),t.DNE(21,V,4,3,"div",19),t.k0s()()()(),t.j41(22,"div",20)(23,"button",21),t.bIt("click",function(){t.eBV(o);const h=t.XpG();return t.Njj(h.cancelReceivePermission())}),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.DNE(26,L,3,3,"button",22),t.DNE(27,Y,3,3,"button",23),t.DNE(28,X,3,3,"button",24),t.k0s()}if(2&n){const o=t.XpG();let u;t.R7$(4),t.JRh(t.bMT(5,11,"lang_auto_gan_quyen_cho")),t.R7$(3),t.JRh(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.fullName),t.R7$(5),t.Y8G("ngIf",null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.avatar),t.R7$(1),t.Y8G("ngIf",!(null!=o.whoSharePermissionObj&&o.whoSharePermissionObj.avatar)),t.R7$(4),t.JRh(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.fullName),t.R7$(1),t.Y8G("ngIf",null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.phone),t.R7$(3),t.Y8G("ngForOf",null!==(u=null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionObjs)&&void 0!==u?u:t.lJ4(15,U)),t.R7$(3),t.JRh(t.bMT(25,13,"lang_auto_huy")),t.R7$(2),t.Y8G("ngIf",1==(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionStatus)),t.R7$(1),t.Y8G("ngIf",1==(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionStatus)),t.R7$(1),t.Y8G("ngIf",2==(null==o.whoSharePermissionObj?null:o.whoSharePermissionObj.permissionStatus))}}let K=(()=>{var n;class g extends E._{cancelReceivePermission(){this.dialogRef.close(!1)}confirmReceivePermission(u){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({tenantId:this.whoSharePermissionObj?.id,objectId:this.shareDataObj?.objectId??0,objectCode:this.shareDataObj?.objectCode??"",status:u}).subscribe(s=>{1==s.success?3==u?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.successStatusObj("lang_auto_xac_nhan_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(s.message??"",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}constructor(u,h,s){super(h,u),this.dialogRef=u,this.data=h,this.permissionTeamService=s,this.whoSharePermissionObj=void 0,this.whoSharePermissionObj=h.whoSharePermissionObj,this.shareDataObj=h.shareDataObj}}return(n=g).\u0275fac=function(u){return new(u||n)(t.rXU(D.CP),t.rXU(D.Vh),t.rXU(O.km))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-share-show-who-share-permission-dialog"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5",3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2","x"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit","lg:mr-1","flex","items-center"],["class","rounded-full",3,"src",4,"ngIf"],["class","mr-2",3,"nameCreateAvatar","size",4,"ngIf"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],[1,"x","px-3"],["style","font-weight: 500; margin-top: 5px",4,"ngFor","ngForOf"],[1,"p-3","text-right","w-full"],["azt-track-service","who-share-permission-dialog-2WKlv8lCOaG",1,"btn","btn-secondary",3,"click"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a","class","btn btn-danger ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz","class","btn btn-primary ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27","class","btn btn-primary ml-2",3,"click",4,"ngIf"],[1,"rounded-full",3,"src"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-slate-500","text-xs","mt-0.5"],[2,"font-weight","500","margin-top","5px"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a",1,"btn","btn-danger","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz",1,"btn","btn-primary","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27",1,"btn","btn-primary","ml-2",3,"click"]],template:function(u,h){if(1&u&&(t.j41(0,"div",0),t.DNE(1,G,1,1,"azt-loading-effect",1),t.DNE(2,N,29,16,"ng-template",null,2,t.C5r),t.k0s()),2&u){const s=t.sdS(3);t.R7$(1),t.Y8G("ngIf",h.statusObj.loading)("ngIfElse",s)}},dependencies:[j.Sq,j.bT,T.K,M.p,A.wp,A.nf],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),g})();var p=_(68774),I=_(46899),i=_(15343);function x(n,g){if(1&n){const o=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){const s=t.eBV(o).$implicit,v=t.XpG(2);return t.Njj(v.showAddOrEditPermissionDialog(void 0,s))}),t.nrm(2,"azt-create-avatar",13),t.k0s()()}if(2&n){const o=g.$implicit;t.R7$(1),t.Y8G("disabled",!o.allowEditPermission),t.R7$(1),t.Y8G("linkAvatar",o.avatar)("nameCreateAvatar",o.fullName)("size",30)}}function r(n,g){if(1&n){const o=t.RV6();t.j41(0,"div")(1,"button",14),t.bIt("click",function(){const s=t.eBV(o).$implicit,v=t.XpG(2);return t.Njj(v.showAddOrEditPermissionDialog(s,void 0))}),t.nrm(2,"azt-create-avatar",15),t.k0s()()}if(2&n){const o=g.$implicit,u=g.index,h=t.XpG(2);t.ZvI("w-8 h-8 mb-3 image-fit show-tickets zoom-in -ml-4 ",(null==h.shareDataObj||null==h.shareDataObj.groupObjs?null:h.shareDataObj.groupObjs.length)==u+1?"mr-2":""," "),t.R7$(1),t.Y8G("disabled",!o.allowEditPermission),t.R7$(1),t.Y8G("nameCreateAvatar",o.name)("size",30)}}function l(n,g){1&n&&(t.j41(0,"span",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chia_se")," "))}const z=function(n){return{"ml-2":n}};function Q(n,g){if(1&n){const o=t.RV6();t.j41(0,"div",5)(1,"div"),t.DNE(2,x,3,4,"div",6),t.DNE(3,r,3,6,"div",7),t.j41(4,"button",8),t.bIt("click",function(){t.eBV(o);const h=t.XpG();return t.Njj(h.showListPeopleWhoWillShare())}),t.nrm(5,"lucide-icon",9),t.DNE(6,l,3,3,"span",10),t.k0s()()()}if(2&n){const o=t.XpG();t.R7$(1),t.HbH(0!=(null==o.shareDataObj||null==o.shareDataObj.teacherObjs?null:o.shareDataObj.teacherObjs.length)||0!=(null==o.shareDataObj||null==o.shareDataObj.groupObjs?null:o.shareDataObj.groupObjs.length)?"pl-4":""),t.R7$(1),t.Y8G("ngForOf",null==o.shareDataObj?null:o.shareDataObj.teacherObjs),t.R7$(1),t.Y8G("ngForOf",null==o.shareDataObj?null:o.shareDataObj.groupObjs),t.R7$(1),t.Y8G("ngClass",t.eq3(7,z,0!=(null==o.shareDataObj||null==o.shareDataObj.teacherObjs?null:o.shareDataObj.teacherObjs.length)||0!=(null==o.shareDataObj||null==o.shareDataObj.groupObjs?null:o.shareDataObj.groupObjs.length))),t.R7$(2),t.Y8G("ngIf",!o.isMobileDevice)}}const J=function(){return{"mr-2":!0}};function H(n,g){if(1&n){const o=t.RV6();t.j41(0,"div",17)(1,"button",18),t.bIt("click",function(){t.eBV(o);const h=t.XpG();return t.Njj(h.showListPeopleWhoWillShare())}),t.nrm(2,"lucide-icon",19),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,J)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_chia_se")," "))}const m=function(n){return{"z-index":n}};function S(n,g){if(1&n){const o=t.RV6();t.j41(0,"div",23)(1,"div",24),t.bIt("click",function(){const s=t.eBV(o).$implicit,v=t.XpG(2);return t.Njj(v.showWhoSharePermissionDialog(s))}),t.nrm(2,"azt-create-avatar",25),t.k0s()()}if(2&n){const o=g.$implicit,u=g.index,h=t.XpG(2);let s;t.Y8G("ngStyle",t.eq3(5,m,(null!==(s=null==h.shareDataObj||null==h.shareDataObj.teacherObjs?null:h.shareDataObj.teacherObjs.length)&&void 0!==s?s:0)+(null!==(s=null==h.shareDataObj||null==h.shareDataObj.groupObjs?null:h.shareDataObj.groupObjs.length)&&void 0!==s?s:0)-u)),t.R7$(2),t.Y8G("linkAvatar",o.avatar)("nameCreateAvatar",o.fullName)("size",28)("showCheckUser",2==o.permissionStatus||5==o.permissionStatus)}}function b(n,g){if(1&n&&(t.j41(0,"div",20)(1,"span",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,S,3,7,"div",22),t.k0s()),2&n){const o=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_giao_vien_chia_se"),":\xa0"),t.R7$(2),t.Y8G("ngForOf",o.whoSharePermission)}}let f=(()=>{var n;class g extends e.H{showAddOrEditPermissionDialog(u,h){this.sAztDialogService.open(k.A,{data:{groupObj:u,teacherObj:h,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(v=>{v&&this.getTeamPermissionObjs()})}showWhoSharePermissionDialog(u){this.sAztDialogService.open(K,{data:{whoSharePermissionObj:u,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(s=>{s&&this.getTeamPermissionObjs()})}showListPeopleWhoWillShare(){this.sAztDialogService.open(y.z,{data:{backToLink:this.backToLink,shareDataObj:this.shareDataObj},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(h=>{h&&this.getTeamPermissionObjs()})}getTeamPermissionObjs(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.objectCodeType,this.objectId).subscribe(u=>{1==u.success?(this.whoSharePermission=u.data?.whoSharePermission??[],this.shareDataObj={objectId:this.objectId,objectCode:this.objectCode,objectCodeType:this.objectCodeType,classroomWithPermissionObj:this.classroomWithPermissionObj,examWithPermissionObj:this.examWithPermissionObj,homeworkWithPermissionObj:this.homeworkWithPermissionObj,categoryWithPermissionObj:this.categoryWithPermissionObj,allGroupPermissionObjs:this.sortService.sortGroupName(u.data?.allGroupPermissionObjs??[]),allTeacherPermissionObjs:this.sortService.sortFirstNameStudents(u.data?.allTeacherPermissionObjs??[]),groupObjs:u.data?.groups??[],teacherObjs:u.data?.teachers??[],ownerObj:u.data?.owner},this.stopStatusObj()):this.errorStatusObj(u.message??"",!0)})}initPermission(){this.classroomWithPermissionObj?(this.permissionObj=this.classroomWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.examWithPermissionObj?(this.permissionObj=this.examWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.homeworkWithPermissionObj?(this.permissionObj=this.homeworkWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.categoryWithPermissionObj&&(this.permissionObj=this.categoryWithPermissionObj?.permissionObj,this.getTeamPermissionObjs())}ngOnChanges(){this.initPermission()}constructor(u,h,s){super(),this.teacherGroupService=u,this.sortService=h,this.sAztDialogService=s,this.backToLink="",this.objectId=0,this.objectCodeType=0,this.typeDisplay="button",this.objectCode="",this.whoSharePermission=[]}}return(n=g).\u0275fac=function(u){return new(u||n)(t.rXU(O.xr),t.rXU(p.g),t.rXU(I.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-share"]],inputs:{backToLink:"backToLink",objectId:"objectId",objectCodeType:"objectCodeType",typeDisplay:"typeDisplay",objectCode:"objectCode",classroomWithPermissionObj:"classroomWithPermissionObj",examWithPermissionObj:"examWithPermissionObj",homeworkWithPermissionObj:"homeworkWithPermissionObj",categoryWithPermissionObj:"categoryWithPermissionObj"},features:[t.Vt3,t.OA$],decls:5,vars:3,consts:[[1,"share-block"],[1,"intro","flex"],["class","share-block-item mt-2",4,"ngIf"],["class","share-block-item w-full",4,"ngIf"],["style","display: flex; align-items: center; margin-top: 0.5rem",4,"ngIf"],[1,"share-block-item","mt-2"],["class","w-8 h-8 mb-2 image-fit show-tickets zoom-in -ml-4",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["azt-track-service","share-button-box-2Ui6XcNn3Z",1,"btn","btn-sm","btn-outline-secondary",2,"vertical-align","middle",3,"ngClass","click"],["name","share-2","size","16"],["class","ml-2",4,"ngIf"],[1,"w-8","h-8","mb-2","image-fit","show-tickets","zoom-in","-ml-4"],["azt-track-service","share-button-box-vHBJYcuuna",3,"disabled","click"],[3,"linkAvatar","nameCreateAvatar","size"],["azt-track-service","share-button-box-GF6YzJ_wHE",3,"disabled","click"],[3,"nameCreateAvatar","size"],[1,"ml-2"],[1,"share-block-item","w-full"],["azt-track-service","share-button-box-i8iU_Wa_sh",1,"dropdown-item","w-full",3,"click"],["name","share-2","size","16",3,"ngClass"],[2,"display","flex","align-items","center","margin-top","0.5rem"],[2,"font-weight","500"],["class","show-tickets clickable ml-1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable","ml-1",3,"ngStyle"],["azt-track-service","share-button-box-CleLxM4YRRW",3,"click"],[3,"linkAvatar","nameCreateAvatar","size","showCheckUser"]],template:function(u,h){1&u&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,Q,7,9,"div",2),t.DNE(3,H,5,5,"div",3),t.k0s(),t.DNE(4,b,5,4,"div",4),t.k0s()),2&u&&(t.R7$(2),t.Y8G("ngIf","button"===h.typeDisplay),t.R7$(1),t.Y8G("ngIf","menu"===h.typeDisplay),t.R7$(1),t.Y8G("ngIf",h.whoSharePermission.length>0&&"button"===h.typeDisplay))},dependencies:[j.YU,j.Sq,j.bT,j.B3,i.WGl,M.p,A.wp],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),g})()}}]);