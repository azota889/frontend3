(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[5242],{43349:(R,D,s)=>{"use strict";s.r(D),s.d(D,{HomeworkFrontModule:()=>Xt});var C=s(96814),r=s(56223),o=s(19347),b=s(21266),I=s(42753),L=s(37722),M=s(21494),k=s(25391),O=s(95545),p=s(29942),m=s(84155),d=s(78217),c=s(35529),f=s(58844),v=s(82481),j=s(43048),S=s(47496),e=s(65879);let F=(()=>{class n extends S.Q{}return n.\u0275fac=function(){let l;return function(i){return(l||(l=e.n5z(n)))(i||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-test-dashboard"]],features:[e.qOj],decls:2,vars:0,consts:[["id","homework-frontend-layout"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[b.lC],encapsulation:2}),n})();var A=s(49671),q=s(69862),ee=s(52572),z=s(61713),ne=s(15828),oe=s(72164),ie=s(79998),U=s(36727);function re(n,l){if(1&n){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"div",12)(1,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.redirectToRegister())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_button_register")," "))}function ae(n,l){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"div",14)(1,"p",15),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_have_account"),"?"))}let se=(()=>{class n extends oe.e{confirmQuit(){this.dialogRef.close(!0)}redirectToRegister(){this.redirectService.redirectRegisterForStudent(),this.dialogRef.close()}redirectToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`),this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(t,i,a,u){super(u,a),this.router=t,this.redirectService=i,this.dialogRef=a,this.data=u}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.F0),e.Y36(ie.z),e.Y36(o.so,8),e.Y36(o.WI,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-message-dialog"]],features:[e.qOj],decls:16,vars:8,consts:[[1,"box","p-5",2,"min-width","400px"],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["class","mx-auto mt-2",4,"ngIf"],["class","mb-2 text-md font-medium mt-2",4,"ngIf"],[1,"mx-auto"],["azt-track-service","message-dialog-VmueIbouAH",1,"btn","w-24","btn-primary",3,"click"],[1,"mx-auto","mt-2"],["azt-track-service","message-dialog-mbvZs1BXU4",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.YNc(10,re,4,3,"div",8),e.YNc(11,ae,4,3,"div",9),e.kcU(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return i.redirectToLogin()}),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()()()()),2&t&&(e.xp6(8),e.hij(" ",e.lcZ(9,4,i.isBusinessDomain?"lang_business_homework_frontend_submit_homework_register_account_submit":"lang_homework_homework_frontend_submit_homework_register_account_submit")," "),e.xp6(2),e.Q6J("ngIf",!i.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",!i.isBusinessDomain),e.xp6(3),e.hij(" ",e.lcZ(15,6,"lang_button_login")," "))},dependencies:[C.O5,U.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var le=s(77757),ce=s(18699),W=s(97540),me=s(12510),de=s(82228),y=s(85929),J=s(78953),Z=s(45468),Y=s(2783),B=s(92596),$=s(91675),te=s(97931),ue=s(71646),be=s(44345),ke=s(85809),xe=s(18881),pe=s(30617);function ye(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.viewDetailHistory(null==a?null:a.id))}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_xem_chi_tiet")))}function Oe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e.NdJ("click",function(){const u=e.CHM(t).$implicit,x=e.oxw(4);return e.KtG(x.onShowFile(u,-1))}),e.TgZ(2,"mat-icon",19),e._uU(3,"attach_file"),e.qZA(),e.TgZ(4,"span",20),e._uU(5),e.qZA()()()}if(2&n){const t=l.$implicit;e.xp6(4),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name)}}function Ce(n,l){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,Oe,6,2,"div",16),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.fileParse)}}function je(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",23),e.NdJ("click",function(){const u=e.CHM(t).$implicit,x=e.oxw(5);return e.KtG(x.onShowFile(u,-1))}),e.TgZ(2,"mat-icon",19),e._uU(3,"attach_file"),e.qZA(),e.TgZ(4,"span",20),e._uU(5),e.qZA()()()}if(2&n){const t=l.$implicit;e.xp6(4),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name)}}function Te(n,l){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,je,6,2,"div",16),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.fileParse)}}function Me(n,l){if(1&n&&(e.TgZ(0,"p",8),e._UZ(1,"azt-check-mark",30),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("mark",t.point)}}function Se(n,l){if(1&n&&(e.TgZ(0,"div",24)(1,"div",25),e.YNc(2,Me,2,1,"p",26),e.qZA(),e.TgZ(3,"div",27)(4,"span",28),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._UZ(7,"div",29),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf",!t.hideMark),e.xp6(3),e.Oqu(e.lcZ(6,3,"lang_homework_homework_frontend_utils_comment")),e.xp6(2),e.Q6J("innerHTML",t.note,e.oJD)}}function Ae(n,l){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Te,2,1,"div",12),e.YNc(2,Se,8,5,"div",22),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.fileParse&&t.fileParse.length>0),e.xp6(1),e.Q6J("ngIf",null!=t&&null!=t.confirmedAt)}}function Ze(n,l){if(1&n&&(e.TgZ(0,"div",6)(1,"div",7)(2,"span",8),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA(),e.YNc(6,ye,3,3,"a",9),e.qZA(),e.TgZ(7,"div",7)(8,"span",10),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"span",11),e._uU(12),e.qZA()()(),e.YNc(13,Ce,2,1,"div",12),e.YNc(14,Ae,3,2,"div",13),e.qZA()),2&n){const t=l.$implicit;e.xp6(3),e.AsE("",e.lcZ(4,7,"lang_auto_nop_luc"),": ",e.lcZ(5,9,t.createdAt),""),e.xp6(3),e.Q6J("ngIf",t.result),e.xp6(3),e.hij("",e.lcZ(10,11,"lang_homework_homework_frontend_utils_request_submit"),": "),e.xp6(3),e.Oqu(t.resendNote),e.xp6(1),e.Q6J("ngIf",!t.result&&t.files),e.xp6(1),e.Q6J("ngIf",t.result)}}function Le(n,l){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()(),e.YNc(6,Ze,15,13,"div",5),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"lang_homework_homework_frontend_utils_history_submit")),e.xp6(2),e.Q6J("ngForOf",t.dataAnswerHistory)}}let He=(()=>{class n extends S.Q{viewDetailHistory(t){this.commonService.myNavigation("/homework/switch-view-homework/"+this.dataHomeworkObj?.id+"/"+this.dataHomeworkObj?.hashId+"/"+t)}onFileClose(){this.isShowPreviewFile=!1}onShowFile(t,i){this.isShowPreviewFile=!0;let a={...t,index:i};this.previewFileEmit.emit(a)}constructor(){super(),this.previewFileEmit=new e.vpe,this.isShowPreviewFile=!1,this.answerFile=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-answer-history"]],inputs:{dataAnswerHistory:"dataAnswerHistory",dataHomeworkObj:"dataHomeworkObj"},outputs:{previewFileEmit:"previewFileEmit"},features:[e.qOj],decls:1,vars:1,consts:[["class","card-box mt-3",4,"ngIf"],[1,"card-box","mt-3"],[1,"row","top-row"],[1,"col-12","text-center"],[1,"h5","text-white"],["class","ml-0 mr-0 mt-4 attach-container p-2",4,"ngFor","ngForOf"],[1,"ml-0","mr-0","mt-4","attach-container","p-2"],[1,"flex-title","mt-2","pl-3","pr-3"],[1,"mb-0"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click",4,"ngIf"],[1,"mb-0",2,"font-weight","400"],[1,"text-danger","text-bold"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","mt-2",4,"ngIf"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],["azt-track-service","answer-history--J0jh8HNJVI","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"mt-2"],["class","row justify-content-between mt-2","style","margin: 16px!important;",4,"ngIf"],["azt-track-service","answer-history-F80xamrrLdV","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-sm-3","col-md-3","col-lg-3","_col-left_result","text-center"],["class","mb-0",4,"ngIf"],[1,"col-sm-8","col-md-8","col-lg-8","_col-right_result"],[1,"h5","title"],[1,"content-homework","pt-3",3,"innerHTML"],[3,"mark"]],template:function(t,i){1&t&&e.YNc(0,Le,7,4,"div",0),2&t&&e.Q6J("ngIf",i.dataAnswerHistory&&i.dataAnswerHistory.length>0)},dependencies:[C.sg,C.O5,pe.Hw,$.B,U.JV,U.$n],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}"]}),n})();function Ie(n,l){if(1&n&&e.GkF(0,9),2&n){e.oxw();const t=e.MAs(6);e.Q6J("ngTemplateOutlet",t)}}function Fe(n,l){if(1&n&&e.GkF(0,9),2&n){e.oxw();const t=e.MAs(8);e.Q6J("ngTemplateOutlet",t)}}function Pe(n,l){if(1&n&&e.GkF(0,9),2&n){e.oxw();const t=e.MAs(12);e.Q6J("ngTemplateOutlet",t)}}function Ue(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_homework_frontend_come_back_at")+e.lcZ(3,3,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.startDate)," ")}}function De(n,l){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e.O4$(),e.TgZ(2,"svg",12),e._UZ(3,"path",13)(4,"path",14)(5,"path",15)(6,"path",16)(7,"path",17)(8,"path",18)(9,"path",19),e.qZA(),e.kcU(),e.TgZ(10,"div",20),e._uU(11),e.ALo(12,"mytranslate"),e.YNc(13,Ue,4,5,"span",21),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.hij(" ",e.lcZ(12,2,t.statusObj.errorMessage)," "),e.xp6(2),e.Q6J("ngIf","lang_core_not_start_homework_obj"==t.statusObj.errorMessage&&(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.startDate))}}const ze=function(n){return{joinByHomeworkHashId:n}};function Ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"div",24),e.GkF(3,9),e.qZA(),e.TgZ(4,"div",25)(5,"app-join-classroom-box",26),e.NdJ("selectStudentEvent",function(a){e.CHM(t);const u=e.oxw();return e.KtG(u.selectStudentEvent(a))}),e.qZA()()()()}if(2&n){const t=e.oxw(),i=e.MAs(10);e.xp6(3),e.Q6J("ngTemplateOutlet",i),e.xp6(2),e.Q6J("joinClassroomByType",e.VKq(2,ze,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId))}}function Ne(n,l){if(1&n&&(e.TgZ(0,"div",27)(1,"h3",28),e._uU(2),e.qZA(),e.TgZ(3,"div",29),e._UZ(4,"azt-download-qr-code",30),e.qZA()(),e.TgZ(5,"div",31)(6,"span",27),e.O4$(),e.TgZ(7,"svg",32),e._UZ(8,"path",33)(9,"path",34)(10,"path",35)(11,"path",36)(12,"rect",37)(13,"rect",38),e.qZA(),e._uU(14),e.ALo(15,"mytranslate"),e.kcU(),e.TgZ(16,"span",39),e._uU(17),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name," "),e.xp6(2),e.Q6J("fileName","azota_submit_homework_qrcode_"+(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId))("linkUrl",t.copyLinkToClipboard()),e.xp6(10),e.hij(" ",e.lcZ(15,5,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),e.xp6(3),e.hij(" ",null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId," ")}}function Je(n,l){if(1&n&&(e.TgZ(0,"div",31)(1,"span",27),e.O4$(),e.TgZ(2,"svg",50),e._UZ(3,"path",67)(4,"circle",68),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.kcU(),e.TgZ(7,"span",45),e._uU(8),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,2,"lang_auto_ten_hoc_sinh")+":"," "),e.xp6(3),e.hij(" ",t.currentChild.fullName," ")}}function Qe(n,l){if(1&n&&(e.TgZ(0,"div",69)(1,"span",27),e.O4$(),e.TgZ(2,"svg",50),e._UZ(3,"rect",70)(4,"line",71)(5,"line",72)(6,"line",73)(7,"path",74)(8,"path",75)(9,"path",76)(10,"path",77)(11,"path",78)(12,"path",79),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.kcU(),e.TgZ(15,"span",45),e._uU(16),e.ALo(17,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(13),e.hij(" ",e.lcZ(14,2,"lang_auto_bat_dau_nop")+":"," "),e.xp6(3),e.hij(" ",e.lcZ(17,4,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.startDate)," ")}}function Be(n,l){if(1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"span",45),e._uU(1),e.ALo(2,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline))}}function qe(n,l){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"span",45),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_homework_homework_frontend_submit_homework_not_time")))}function Ye(n,l){if(1&n&&(e._UZ(0,"img",88),e.ALo(1,"mycdn")),2&n){const t=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,t.url),e.LSH)}}function Re(n,l){if(1&n&&(e._UZ(0,"img",88),e.ALo(1,"convertCdnLinkOfGitHub")),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("src",e.lcZ(1,1,i.getFileIcon(t)),e.LSH)}}function We(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"div",81)(2,"a",82),e.NdJ("click",function(){const u=e.CHM(t).$implicit,x=e.oxw(2);return e.KtG(x.onShowFile(u,-1))}),e.TgZ(3,"div",83),e.YNc(4,Ye,2,3,"img",84),e.YNc(5,Re,2,3,"img",84),e.qZA(),e.TgZ(6,"div",85)(7,"p",86),e._uU(8),e.qZA(),e.TgZ(9,"div",87),e._uU(10),e.qZA()()()()()}if(2&n){const t=l.$implicit,i=e.oxw(2);let a,u;e.xp6(4),e.Q6J("ngIf",null==t.mimes?null:t.mimes.includes("image")),e.xp6(1),e.Q6J("ngIf",!(null!=t.mimes&&t.mimes.includes("image"))),e.xp6(2),e.Q6J("matTooltip",null!==(a=t.name)&&void 0!==a?a:""),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Oqu(i.getFileType(null!==(u=t.mimes)&&void 0!==u?u:""))}}function Ve(n,l){if(1&n&&(e.ynx(0),e.GkF(1,9),e.BQk()),2&n){e.oxw(2);const t=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function $e(n,l){if(1&n&&e.GkF(0,9),2&n){e.oxw(2);const t=e.MAs(16);e.Q6J("ngTemplateOutlet",t)}}function Ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",40),e.GkF(2,9),e.TgZ(3,"div",31)(4,"span",27),e.O4$(),e.TgZ(5,"svg",32),e._UZ(6,"rect",41)(7,"rect",42)(8,"rect",43)(9,"rect",44),e.qZA(),e._uU(10),e.ALo(11,"mytranslate"),e.kcU(),e.TgZ(12,"span",45),e._uU(13),e.qZA()()(),e.YNc(14,Je,9,4,"div",46),e.TgZ(15,"div",47),e.YNc(16,Qe,18,6,"div",48),e.TgZ(17,"div",49)(18,"span",27),e.O4$(),e.TgZ(19,"svg",50),e._UZ(20,"path",51)(21,"path",52)(22,"path",53)(23,"path",54)(24,"path",55)(25,"line",56),e.qZA(),e._uU(26),e.ALo(27,"mytranslate"),e.YNc(28,Be,3,3,"span",57),e.YNc(29,qe,3,3,"span",57),e.qZA()()()(),e.kcU(),e.TgZ(30,"div",24)(31,"div",58),e._UZ(32,"azt-dynamic-hook",59),e.qZA(),e.TgZ(33,"div",60)(34,"div",61),e.YNc(35,We,11,5,"div",62),e.qZA()()(),e.TgZ(36,"div",63),e.YNc(37,Ve,2,1,"ng-container",64),e.YNc(38,$e,1,1,"ng-template",null,65,e.W1O),e.TgZ(40,"app-answer-history",66),e.NdJ("previewFileEmit",function(a){e.CHM(t);const u=e.oxw();return e.KtG(u.onShowFile(a,0))}),e.qZA()()()}if(2&n){const t=e.MAs(39),i=e.oxw(),a=e.MAs(10);let u;e.xp6(2),e.Q6J("ngTemplateOutlet",a),e.xp6(8),e.hij(" ",e.lcZ(11,14,"lang_auto_lop")+":"," "),e.xp6(3),e.hij(" ",i.currentChild||null!=i.obj&&null!=i.obj.classroomObj&&i.obj.classroomObj.name?null==i.obj||null==i.obj.classroomObj?null:i.obj.classroomObj.name:""," "),e.xp6(1),e.Q6J("ngIf",i.currentChild),e.xp6(2),e.Q6J("ngIf",null==i.obj||null==i.obj.homeworkObj?null:i.obj.homeworkObj.startDate),e.xp6(10),e.hij(" ",e.lcZ(27,16,"lang_homework_homework_frontend_submit_homework_dealine"),":\xa0 "),e.xp6(2),e.Q6J("ngIf",null!=(null==i.obj||null==i.obj.homeworkObj?null:i.obj.homeworkObj.deadline)),e.xp6(1),e.Q6J("ngIf",null==(null==i.obj||null==i.obj.homeworkObj?null:i.obj.homeworkObj.deadline)),e.xp6(3),e.Q6J("content",null!==(u=null==i.obj||null==i.obj.homeworkObj?null:i.obj.homeworkObj.content)&&void 0!==u?u:""),e.xp6(3),e.Q6J("ngForOf",i.files),e.xp6(2),e.Q6J("ngIf",null==i.answerObj||null==i.answerObj.confirmedAt)("ngIfElse",t),e.xp6(3),e.Q6J("dataAnswerHistory",i.answerHistory)("dataHomeworkObj",null==i.obj?null:i.obj.homeworkObj)}}function Ge(n,l){1&n&&(e.TgZ(0,"div",107)(1,"div",108)(2,"div",109)(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function Xe(n,l){1&n&&(e.TgZ(0,"div",110)(1,"h5",111),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_loading_wait_it"),"!"))}function et(n,l){if(1&n&&(e.TgZ(0,"div",114)(1,"h5",115),e._uU(2),e.qZA(),e.TgZ(3,"div",116),e._UZ(4,"progress",117),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.fileName),e.xp6(2),e.s9C("value",t.uploadProgress)}}function tt(n,l){if(1&n&&(e.TgZ(0,"div",112),e.YNc(1,et,5,2,"div",113),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.convertObjToArray(t.fileUploadQueue))}}function nt(n,l){1&n&&(e.TgZ(0,"div",110)(1,"h5",118),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_submit_success"),"!"))}function ot(n,l){if(1&n&&(e.TgZ(0,"div",134)(1,"video",135),e._UZ(2,"source",136),e.ALo(3,"safe"),e.qZA(),e.TgZ(4,"div",137)(5,"div",138)(6,"span",139),e._UZ(7,"lucide-icon",140),e.qZA()()()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",e.lcZ(3,1,t.url+"#t=5"),e.LSH)}}function it(n,l){if(1&n&&(e._UZ(0,"img",141),e.ALo(1,"mycdn")),2&n){const t=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,t.thumb),e.LSH)}}function rt(n,l){if(1&n){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"div",142),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.removeImg(a.url))}),e.O4$(),e.TgZ(1,"svg",143),e._UZ(2,"line",144)(3,"line",145),e.qZA()()}}function at(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",121)(1,"div",122),e.NdJ("click",function(){const u=e.CHM(t).$implicit,x=e.oxw(4);return e.KtG(x.onShowFile(u,-1))}),e.YNc(2,ot,8,3,"div",123),e.ALo(3,"isVideo"),e.YNc(4,it,2,3,"ng-template",null,124,e.W1O),e.qZA(),e.TgZ(6,"div",125)(7,"button",126),e.NdJ("click",function(){const u=e.CHM(t).index,x=e.oxw(4);return e.KtG(x.switchAttributeArray(x.answerFileList,u,u-1))}),e.O4$(),e.TgZ(8,"svg",127),e._UZ(9,"polyline",128),e.qZA()(),e.kcU(),e.TgZ(10,"input",129,130),e.NdJ("keyup.enter",function(){const u=e.CHM(t).index,x=e.MAs(11),E=e.oxw(4);return e.KtG(E.switchAttributeArrayInput(u,x.value))})("change",function(){const u=e.CHM(t).index,x=e.MAs(11),E=e.oxw(4);return e.KtG(E.switchAttributeArrayInput(u,x.value))}),e.ALo(12,"mytranslate"),e.qZA(),e.TgZ(13,"button",131),e.NdJ("click",function(){const u=e.CHM(t).index,x=e.oxw(4);return e.KtG(x.switchAttributeArray(x.answerFileList,u,u+1))}),e.O4$(),e.TgZ(14,"svg",127),e._UZ(15,"polyline",132),e.qZA()()(),e.YNc(16,rt,4,0,"div",133),e.qZA()}if(2&n){const t=l.$implicit,i=l.index,a=e.MAs(5),u=e.oxw(4);let x;e.xp6(2),e.Q6J("ngIf",e.lcZ(3,7,null!==(x=t.mimes)&&void 0!==x?x:""))("ngIfElse",a),e.xp6(8),e.s9C("id","input_page_"+i),e.s9C("max",null==u.answerFileList?null:u.answerFileList.length),e.s9C("value",i+1),e.s9C("placeholder",e.lcZ(12,9,"lang_auto_trang_so")),e.xp6(6),e.Q6J("ngIf",!(null!=u.obj&&u.obj.isMarked&&u.isShowGreenCheckbox(t.url)))}}function st(n,l){if(1&n&&(e.TgZ(0,"div",119),e.YNc(1,at,17,11,"div",120),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.answerFileList)}}function lt(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,Ge,6,3,"div",94),e.YNc(2,Xe,4,3,"div",95),e.YNc(3,tt,2,1,"div",96),e.YNc(4,nt,4,3,"div",95),e.YNc(5,st,2,1,"div",97),e.TgZ(6,"div",98),e.O4$(),e.TgZ(7,"svg",50),e._UZ(8,"path",99)(9,"polyline",100)(10,"line",101),e.qZA(),e.kcU(),e.TgZ(11,"span",102),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e.TgZ(14,"input",103,104),e.NdJ("change",function(a){e.CHM(t);const u=e.oxw(2);return e.KtG(u.selectFile(a))}),e.qZA()(),e.TgZ(16,"div",105)(17,"span",106),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.obj?null:t.obj.isMarked),e.xp6(1),e.Q6J("ngIf",t.statusObjData.loading),e.xp6(1),e.Q6J("ngIf",t.convertObjToArray(t.fileUploadQueue).length>0),e.xp6(1),e.Q6J("ngIf",(null==t.answerFileList?null:t.answerFileList.length)&&(null==t.rawAnswerFileList?null:t.rawAnswerFileList.length)&&t.isSubmit),e.xp6(1),e.Q6J("ngIf",null==t.answerFileList?null:t.answerFileList.length),e.xp6(7),e.Oqu(e.lcZ(13,7,"lang_auto_upload_file")),e.xp6(6),e.Oqu(e.lcZ(19,9,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function ct(n,l){1&n&&(e.TgZ(0,"div",107)(1,"div",108)(2,"div",109)(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function mt(n,l){if(1&n&&(e.ynx(0),e._UZ(1,"video",152),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.url+"#t=5",e.LSH)}}function dt(n,l){if(1&n&&(e._UZ(0,"img",153),e.ALo(1,"mycdn")),2&n){const t=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,t.thumb),e.LSH)}}function ut(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",121)(1,"div",148),e.NdJ("click",function(){const u=e.CHM(t).$implicit,x=e.oxw(4);return e.KtG(x.onShowFile(u,-1))}),e.YNc(2,mt,2,1,"ng-container",64),e.ALo(3,"isVideo"),e.YNc(4,dt,2,3,"ng-template",null,149,e.W1O),e.qZA(),e.TgZ(6,"div",125)(7,"button",150),e.O4$(),e.TgZ(8,"svg",127),e._UZ(9,"polyline",128),e.qZA()(),e.kcU(),e._UZ(10,"input",151,130),e.ALo(12,"mytranslate"),e.TgZ(13,"button",150),e.O4$(),e.TgZ(14,"svg",127),e._UZ(15,"polyline",132),e.qZA()()()()}if(2&n){const t=l.$implicit,i=l.index,a=e.MAs(5),u=e.oxw(4);let x;e.xp6(2),e.Q6J("ngIf",e.lcZ(3,6,null!==(x=t.mimes)&&void 0!==x?x:""))("ngIfElse",a),e.xp6(8),e.s9C("id","input_page_"+i),e.s9C("max",null==u.answerFileList?null:u.answerFileList.length),e.s9C("value",i+1),e.s9C("placeholder",e.lcZ(12,8,"lang_auto_trang_so"))}}function _t(n,l){if(1&n&&(e.TgZ(0,"div",119),e.YNc(1,ut,16,10,"div",120),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.answerFileList)}}function pt(n,l){1&n&&(e.TgZ(0,"div",154)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_end_time_submit")))}function ht(n,l){if(1&n&&(e.YNc(0,ct,6,3,"div",146),e.YNc(1,_t,2,1,"div",97),e.YNc(2,pt,4,3,"ng-template",null,147,e.W1O)),2&n){const t=e.MAs(3),i=e.oxw(2);e.Q6J("ngIf",null==i.obj?null:i.obj.isMarked)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf",null==i.answerFileList?null:i.answerFileList.length)}}function gt(n,l){1&n&&(e.TgZ(0,"span",157),e._UZ(1,"azt-loading-ui"),e.qZA())}function ft(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",155),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.submitHomework())}),e.YNc(1,gt,2,0,"span",156),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.statusObjData.loading||!(null!=t.answerFileList&&t.answerFileList.length)||(null==t.obj?null:t.obj.isMarked)||t.isNotChangeData),e.xp6(1),e.Q6J("ngIf",t.statusObjData.loading),e.xp6(1),e.hij(" ",null!=t.obj&&t.obj.isMarked?e.lcZ(3,3,"lang_homework_homework_frontend_submit_homework_submitted"):e.lcZ(4,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function wt(n,l){1&n&&(e.TgZ(0,"span",157),e._UZ(1,"azt-loading-ui"),e.qZA())}function vt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",158),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.submitHomework())}),e.YNc(1,wt,2,0,"span",156),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.statusObjData.loading||!(null!=t.answerFileList&&t.answerFileList.length)||(null==t.obj?null:t.obj.isOverTime)),e.xp6(1),e.Q6J("ngIf",t.statusObjData.loading),e.xp6(1),e.hij(" ",null!=t.obj&&t.obj.isMarked?e.lcZ(3,3,"lang_homework_homework_frontend_submit_homework_submitted"):e.lcZ(4,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function bt(n,l){if(1&n&&(e.TgZ(0,"div",89),e.YNc(1,lt,20,11,"ng-container",64),e.YNc(2,ht,4,3,"ng-template",null,90,e.W1O),e.qZA(),e.TgZ(4,"div",91),e.YNc(5,ft,5,7,"button",92),e.YNc(6,vt,5,7,"button",93),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",!(null!=i.obj&&i.obj.isOverTime))("ngIfElse",t),e.xp6(4),e.Q6J("ngIf",!(null!=i.obj&&i.obj.isOverTime)),e.xp6(1),e.Q6J("ngIf",null==i.obj?null:i.obj.isOverTime)}}function kt(n,l){if(1&n&&(e.ynx(0),e._UZ(1,"video",152),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.url+"#t=5",e.LSH)}}function xt(n,l){if(1&n&&(e._UZ(0,"img",153),e.ALo(1,"mycdn")),2&n){const t=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,t.thumb),e.LSH)}}function yt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",121)(1,"div",166),e.NdJ("click",function(){const u=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.onShowFile(u,-1))}),e.YNc(2,kt,2,1,"ng-container",64),e.ALo(3,"isVideo"),e.YNc(4,xt,2,3,"ng-template",null,167,e.W1O),e.qZA(),e.TgZ(6,"div",125)(7,"button",150),e.O4$(),e.TgZ(8,"svg",127),e._UZ(9,"polyline",128),e.qZA()(),e.kcU(),e._UZ(10,"input",151,130),e.ALo(12,"mytranslate"),e.TgZ(13,"button",150),e.O4$(),e.TgZ(14,"svg",127),e._UZ(15,"polyline",132),e.qZA()()()()}if(2&n){const t=l.$implicit,i=l.index,a=e.MAs(5),u=e.oxw(3);let x;e.xp6(2),e.Q6J("ngIf",e.lcZ(3,6,null!==(x=t.mimes)&&void 0!==x?x:""))("ngIfElse",a),e.xp6(8),e.s9C("id","input_page_"+i),e.s9C("max",null==u.answerFileList?null:u.answerFileList.length),e.s9C("value",i+1),e.s9C("placeholder",e.lcZ(12,8,"lang_auto_trang_so"))}}function Ot(n,l){if(1&n&&(e.TgZ(0,"div",165),e.YNc(1,yt,16,10,"div",120),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.answerFileList)}}function Ct(n,l){1&n&&(e.TgZ(0,"div",168),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark")," "))}function jt(n,l){1&n&&e._UZ(0,"p",177)}function Tt(n,l){if(1&n&&(e.TgZ(0,"p",177),e._UZ(1,"azt-check-mark",178),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("mark",t.answerObj.point)}}function Mt(n,l){if(1&n&&e._UZ(0,"div",183),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.answerObj.note,e.oJD)}}function St(n,l){if(1&n&&e._UZ(0,"div",184),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.answerObj.note,e.oJD)}}function At(n,l){if(1&n&&e._UZ(0,"div",185),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.answerObj.note,e.oJD)}}function Zt(n,l){if(1&n&&e._UZ(0,"div",186),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.answerObj.note,e.oJD)}}function Lt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Mt,1,1,"div",179),e.YNc(2,St,1,1,"div",180),e.YNc(3,At,1,1,"div",181),e.YNc(4,Zt,1,1,"div",182),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","font_chu_in"==t.answerObj.txtCommentFont),e.xp6(1),e.Q6J("ngIf","font_chu_in_\u0111am"==t.answerObj.txtCommentFont),e.xp6(1),e.Q6J("ngIf","font_chu_dep_z"==t.answerObj.txtCommentFont),e.xp6(1),e.Q6J("ngIf","font_chu_in_nghieng"==t.answerObj.txtCommentFont)}}function Ht(n,l){if(1&n&&(e._UZ(0,"div",187),e.ALo(1,"safeAdminHtmlContent")),2&n){const t=e.oxw(3);e.Q6J("innerHTML",e.lcZ(1,1,t.answerObj.note),e.oJD)}}function It(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",169)(1,"h5",161),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._uU(4," \xa0( "),e.TgZ(5,"a",170),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.viewDetail())}),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e._uU(8," ) "),e.qZA(),e.TgZ(9,"div",171)(10,"div",172),e.YNc(11,jt,1,0,"p",173),e.YNc(12,Tt,2,1,"p",173),e.qZA(),e.TgZ(13,"div",174)(14,"h4",175),e._uU(15),e.ALo(16,"mytranslate"),e.qZA(),e.YNc(17,Lt,5,4,"div",64),e.YNc(18,Ht,2,3,"ng-template",null,176,e.W1O),e.qZA()()}if(2&n){const t=e.MAs(19),i=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,7,"lang_homework_homework_frontend_submit_homework_result")),e.xp6(4),e.hij(" ",e.lcZ(7,9,"lang_homework_homework_frontend_submit_homework_view_detail_result")," "),e.xp6(5),e.Q6J("ngIf",!i.isHideMark&&null==i.answerObj.point),e.xp6(1),e.Q6J("ngIf",!i.isHideMark&&null!=i.answerObj.point),e.xp6(3),e.Oqu(e.lcZ(16,11,"lang_homework_homework_frontend_submit_homework_comment")),e.xp6(2),e.Q6J("ngIf",i.answerObj&&null!=i.answerObj.txtCommentFont||null!=i.answerObj.txtCommentFont)("ngIfElse",t)}}function Ft(n,l){if(1&n&&(e.TgZ(0,"div",159)(1,"div",160)(2,"h5",161),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"mytranslate"),e.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()(),e.YNc(9,Ot,2,1,"div",162),e.YNc(10,Ct,3,3,"div",163),e.YNc(11,It,20,13,"ng-template",164),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,"lang_homework_homework_frontend_submit_homework_assignment")),e.xp6(3),e.AsE("\xa0(",e.lcZ(7,8,"lang_homework_homework_frontend_submit_homework_time_submit"),": ",e.lcZ(8,10,null==t.answerObj?null:t.answerObj.createdAt),")"),e.xp6(3),e.Q6J("ngIf",null==t.answerFileList?null:t.answerFileList.length),e.xp6(1),e.Q6J("ngIf",null!=t.answerObj&&(null==t.obj?null:t.obj.isMarked)&&t.whenShowAnswer),e.xp6(1),e.Q6J("ngIf",null!=t.answerObj&&(null==t.obj?null:t.obj.isMarked)&&!t.whenShowAnswer)}}let Pt=(()=>{class n extends S.Q{selectStudentEvent(t){this.localStorageObject.removeCacheByValue("FrontPageStudent"),this.localStorageObject.removeCacheByValue("GetExamObjsInDashboard"),this.localStorageObject.removeCacheByValue("GetClassroomInHomeworkObjsInDashboard"),this.getData()}onShowFile(t,i){let a={...t,index:i};this.sAztDialogService.open(ne.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:a},restoreFocus:!1})}addFileWithProcess(t){t&&(this.isNotChangeData=!1,this.answerFileList?.push(t));let i=this.answerFileList?.length??0;for(let a=0;a<i;a++)this.answerFileList&&!this.answerFileList?.[a].lastModified&&(this.answerFileList[a].lastModified=(new Date).getTime()),this.answerFileList&&!this.answerFileList[a].thumb&&(this.answerFileList[a].thumb=this.homeworkExamService.getThumbWithObj(this.answerFileList[a]));this.answerFileList&&this.answerFileList.length>0&&this.answerFileList.sort((a,u)=>a.lastModified&&u.lastModified?a.lastModified-u.lastModified:0)}getFileType(t){let i=(0,z.Z9)(t),a=this.commonService.myTranslateInstant("lang_auto_hinh_anh")??"",u=this.commonService.myTranslateInstant("lang_auto_video")??"",x=this.commonService.myTranslateInstant("lang_auto_am_thanh")??"",E=this.commonService.myTranslateInstant("lang_auto_tai_lieu")??"";return"image"==i?a:"video"==i?u:"audio"==i?x:E}getFileIcon(t){let i=(0,z.Z9)(t.mimes??"");return"image"==i?t.url??"images/jpg-icon.png":"video"==i?"images/video_sample.png":"audio"==i?"images/audio_sample.png":"pdf"==i?"images/ext_pdf_filetype_icon_176234.svg":"images/documents.png"}isShowGreenCheckbox(t){return!!this.rawAnswerFileList?.length&&null!=this.rawAnswerFileList.find(i=>i.url==t)}switchAttributeArray(t,i,a){if(!this.answerFileList?.length||this.answerFileList?.length<=i||this.answerFileList.length<=a||i<0||a<0)return;let u=this.castObj(this.answerFileList[i]);this.answerFileList[i]=this.castObj(this.answerFileList[a])??{},this.answerFileList[a]=u??{}}switchAttributeArrayInput(t,i){let a=Number(i)-1;a<=0?a=0:this.answerFileList&&a>=this.answerFileList?.length&&(a=this.answerFileList.length),this.answerFileList?.splice(a,0,this.answerFileList.splice(t,1)[0])}viewDetail(){let t=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/homework/switch-view-homework/"+this.answerObj?.id+"/"+this.homeworkHashId,"?backto="+t)}viewDetailHistory(t){let i=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/homework/switch-view-homework/"+this.obj?.homeworkObj?.id+"/"+this.homeworkHashId+"/"+t,"?backto="+i)}convertObjToArray(t){let i=[];for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&i.push(t[a]);return i}removeImg(t){let i=this.answerFileList?.filter(a=>a.url!==t);this.answerFileList=i,this.isNotChangeData=!1}submitHomework(){let t={homeworkHashId:this.obj?.homeworkObj?.hashId??"",studentId:this.currentChild?.id??0,files:JSON.stringify(this.answerFileList)};if("[]"==t.files)return this.showErrorSnack("lang_auto_bai_lam_chua_day_du_vui_long_thu_lai");this.isSubmit=!1,this.statusObjData={loading:!0,errorMessage:""};let i=JSON.stringify({type:"homework",id:this.obj?.homeworkObj?.id,user:this.obj?.homeworkObj?.tenantId});this.frontAnswerService.apiFrontAnswerSaveObjPost(t,i).subscribe(a=>{1==a.success?(this.localStorageObject.clearAllCache(),this.isSubmit=!0,this.statusObjData={loading:!1,errorMessage:""},this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.showSuccessSnack("lang_auto_ban_da_nop_bai_thanh_cong"),this.isNotChangeData=!0):(this.showErrorSnack(a.message??""),this.statusObjData={loading:!1,errorMessage:""},this.isSubmit=!1)},a=>{console.log("Err:"+a)})}copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/bai-tap/${this.homeworkHashId}`}fillData(){if(this.files=this.commonService.myParseJson(this.obj?.homeworkObj?.files??"")??[],null==this.files&&(this.files=new Array),this.obj?.answerObj&&this.obj.answerObj.files&&(this.answerFileList=this.commonService.myParseJson(this.obj.answerObj.files),this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.isNotChangeData=!0),this.obj?.answerHistoryObjs){for(let i=0;i<this.obj.answerHistoryObjs.length;i++)this.obj.answerHistoryObjs[i].result&&(this.obj.answerHistoryObjs[i].note=this.commonService.willDeleteParseJson(this.obj.answerHistoryObjs[i].result??"").comment);this.answerHistory=this.obj.answerHistoryObjs??[];for(let i=0;i<this.answerHistory.length;i++){if(this.answerHistory[i].result){var t=this.commonService.willDeleteParseJson(this.answerHistory[i].resultNote??"");this.answerHistory[i].hideMark=!(!t||!t?.IsHideMark)&&t?.IsHideMark}if(this.answerHistory[i].files)if(this.answerHistory[i].files?.includes("<z>:")){let a=this.zipDataService.decodeContentGzip(this.answerHistory[i].files??"");this.answerHistory[i].fileParse=this.commonService.myParseJson(a)}else this.answerHistory[i].fileParse=this.commonService.myParseJson(this.answerHistory[i].files??"")}}this.obj?.answerObj&&(this.answerObj=this.obj.answerObj),this.answerObj&&this.answerObj.result&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.result)?this.commonService.willDeleteParseJson(this.answerObj.result).comment:"",this.answerObj.txtCommentFont=this.commonService.willDeleteParseJson(this.commonService.willDeleteParseJson(this.answerObj.result).staticTextConfig)?.txtCommentFont,this.isHideMark=null!=this.commonService.willDeleteParseJson(this.answerObj.result)&&this.commonService.willDeleteParseJson(this.answerObj.result).hideMark),null!=this.answerObj?.resultNote&&null==this.answerObj?.note&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.resultNote)?this.commonService.willDeleteParseJson(this.answerObj.resultNote).Note:""),this.currentChild=this.obj?.studentObj?this.obj.studentObj:{...this.userService.getUserObj(),id:0,classroomId:0,parentId:0,gender:0}}getData(){this.initStatusObj(),this.waitDestroy(this.frontHomeworkService.apiFrontHomeworkGetObjGet(this.homeworkHashId).subscribe(t=>{if(!t.success)return this.obj=t.data,this.errorStatusObj(t.message,!0);this.zipDataService.convertAnswersHistories(t.data),this.zipDataService.convertSubmittedAnswersObj(t.data?.answerObj),this.obj=t.data,this.obj?.homeworkObj&&this.zipDataService.convertHomeworkObj(this.obj?.homeworkObj);let i=this.commonService.myTranslateInstant("lang_auto_lop");if(this.commonService.translateMetaData({title:this.obj?.homeworkObj?.name+`- ${i}: `+this.obj?.classroomObj?.name,description:this.obj?.homeworkObj?.content}),this.whenShowAnswer=this.obj?.homeworkObj?.whenShowAnswer??0,1==this.obj?.homeworkObj?.mustVerified&&this.userService.isNotLoginOrIsAnonymous())return this.currentViewType="requiredLogin",this.sAztDialogService.open(se,{data:{type:"redirect_register"},restoreFocus:!1,backdropClass:"azt-backdrop",disableClose:!0}),this.successStatusObj();1==this.obj?.homeworkObj?.mustVerified?this.obj?.studentObj&&1==this.obj.studentObj.isVerified?(this.currentViewType="viewHomework",this.fillData()):this.currentViewType="chooseStudent":this.obj?.studentObj?(this.currentViewType="viewHomework",this.fillData()):this.currentViewType="chooseStudent",this.successStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),(0,ee.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([t,i])=>{this.backToLink=this.commonService.getMyQueryParam("backto")??"/student/classroom/0",this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.getData()}),super.ngOnInit()}constructor(t,i,a,u,x,E,K,Q,V,P,G){var _;super(),_=this,this.activeRoute=t,this.myPdfService=i,this.localStorageObject=a,this.frontHomeworkService=u,this.frontAnswerService=x,this.frontStudentService=E,this.apiUploadService=K,this.zipDataService=Q,this.userService=V,this.homeworkExamService=P,this.sAztDialogService=G,this.homeworkHashId="",this.backToLink="/student/classroom/0",this.statusObjData={loading:!1,errorMessage:""},this.currentViewType="requiredLogin",this.files=[],this.fileUploadQueue=[],this.uploadCount=0,this.countUpload=1,this.answerHistory=[],this.isSubmit=!1,this.isHideMark=!1,this.isNotChangeData=!1,this.whenShowAnswer=0,this.selectFile=function(){var N=(0,A.Z)(function*(T){let h=T.target.files;try{for(let g in h)if("length"!=g&&"item"!=g)if((0,z.zQ)(h[g].type))if((0,z.EO)(h[g].size)<=200)if(_.statusObjData={loading:!0,errorMessage:""},(0,z._4)(h[g].type)){let X=yield _.myPdfService.getImageWithPdf(h[g]);_.answerFile=h?h[g]:_.answerFile,_.uploadFiles(X,_.uploadCount),_.uploadCount+=1}else _.answerFile=h?h[g]:_.answerFile,_.answerFile&&(_.statusObjData={loading:!0,errorMessage:""},_.uploadFile(_.answerFile,_.uploadCount),_.uploadCount+=1);else _.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else _.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");T.target.value="",_.isSubmit=!1}catch(g){alert("errors:"+g)}});return function(T){return N.apply(this,arguments)}}(),this.uploadFileVideo=function(){var N=(0,A.Z)(function*(T,H){_.waitDestroy(_.apiUploadService.uploadToVimeoProgress("front_homework",T,{qrcode:void 0,homeworkId:_.obj?.homeworkObj?.id,teacherId:_.obj?.homeworkObj?.tenantId}).subscribe(h=>{h.isOnProgress?_.fileUploadQueue.hasOwnProperty(H)?(_.fileUploadQueue[H].uploadProgress=Math.round(h.percentage??0),_.fileUploadQueue[H].fileName=T.name):_.fileUploadQueue[H]={uploadProgress:0,fileName:T.name}:1==h.success?(delete _.fileUploadQueue[H],Array.isArray(_.answerFileList)||(_.answerFileList=[]),_.addFileWithProcess({...h.data,lastModified:T.lastModified}),_.statusObjData={loading:!1,errorMessage:""}):h.hasOwnProperty("code")&&401==h.code?_.countUpload<=3&&setTimeout(()=>{_.countUpload++,_.uploadFileVideo(T,H)},15e3):(_.statusObjData={loading:!1,errorMessage:""},_.commonService.snackError("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau_ten: "+T.name))}))});return function(T,H){return N.apply(this,arguments)}}(),this.uploadFiles=function(){var N=(0,A.Z)(function*(T,H){for(let w=0;w<T.length;w++){const h=T[w];yield(0,z.hv)(h).then(g=>{_.apiUploadService.uploadToCdnProgressForFrontendHomework(g).subscribe(X=>{X.type!=q.dt.UploadProgress&&(1==X.success?(delete _.fileUploadQueue[H],Array.isArray(_.answerFileList)||(_.answerFileList=[]),_.addFileWithProcess({...X.data,lastModified:g.lastModified})):(_.statusObjData={loading:!1,errorMessage:""},_.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_ten:"+h.name)))})}),w===T.length-1&&(_.statusObjData={loading:!1,errorMessage:""})}});return function(T,H){return N.apply(this,arguments)}}(),this.uploadFile=function(){var N=(0,A.Z)(function*(T,H){_.isSubmit=!1,((0,z.Or)(T.type)||(0,z.Wv)(T.type)||(0,z.F0)(T.type)||(0,z._4)(T.type)||(0,z.D_)(T.type))&&(0,z.hv)(T).then(w=>{_.apiUploadService.uploadToCdnProgressForFrontendHomework(w).subscribe(h=>{if(h.type!=q.dt.UploadProgress)1==h.success?(delete _.fileUploadQueue[H],Array.isArray(_.answerFileList)||(_.answerFileList=[]),_.addFileWithProcess({...h.data,lastModified:w.lastModified}),_.statusObjData={loading:!1,errorMessage:""}):(_.statusObjData={loading:!1,errorMessage:""},_.showErrorSnack(_.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_ten",T.name,h.message??"none")));else{let g=(h.loaded??0)/(h.total??1)*100;_.fileUploadQueue.hasOwnProperty(H)?(_.fileUploadQueue[H].uploadProgress=g,_.fileUploadQueue[H].fileName=T.name):_.fileUploadQueue[H]={uploadProgress:0,fileName:T.name}}})})});return function(T,H){return N.apply(this,arguments)}}(),this.captureFile=function(){var N=(0,A.Z)(function*(T){let h=T.target.files;try{for(let g in h)if("length"!=g&&"item"!=g)if((0,z.zQ)(h[g].type))if((0,z.EO)(h[g].size)<=200)if(_.statusObjData={loading:!0,errorMessage:""},(0,z._4)(h[g].type)){let X=yield _.myPdfService.getImageWithPdf(h[g]);_.answerFile=h?h[g]:_.answerFile,_.uploadFiles(X,_.uploadCount),_.uploadCount+=1}else _.answerFile=h?h[g]:_.answerFile,_.answerFile&&(_.statusObjData={loading:!0,errorMessage:""},_.uploadFile(_.answerFile,_.uploadCount),_.uploadCount+=1);else _.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else _.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");T.target.value="",_.isSubmit=!1}catch(g){alert(g)}});return function(T){return N.apply(this,arguments)}}(),this.answerFile=null,this.form=new r.cw({file_data:new r.NI("",{nonNullable:!0,validators:[r.kI.required]}),file_capture:new r.NI("",{nonNullable:!0,validators:[r.kI.required]}),file:new r.NI("",{nonNullable:!0,validators:[r.kI.required]})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.gz),e.Y36(le.z),e.Y36(ce.y),e.Y36(W.WY),e.Y36(W.XL),e.Y36(me.Dn),e.Y36(de.W),e.Y36(y.a),e.Y36(J.U),e.Y36(Z.v),e.Y36(Y.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-submit-homework"]],features:[e.qOj],decls:17,vars:4,consts:[[3,"headerBackToLink"],[1,"intro-x","mt-5"],[3,"ngTemplateOutlet",4,"ngIf"],["errorBox",""],["chooseStudent",""],["homeworkDetail",""],["viewHomework",""],["AddNewAnswerOrEditOldAnswer",""],["HomeworkResultTpl",""],[3,"ngTemplateOutlet"],[1,"w-full"],[1,"text-center","p-3",2,"display","block"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 77H63C64.8565 77 66.637 76.2625 67.9497 74.9497C69.2625 73.637 70 71.8565 70 70V26.25L50.75 7H21C19.1435 7 17.363 7.7375 16.0503 9.05025C14.7375 10.363 14 12.1435 14 14V28","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M49 7V28H70","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.5 43.75L28 61.25","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M28 43.75L10.5 61.25","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M42 28H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M63 44H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M63 61H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[4,"ngIf"],[1,"box","mx-auto"],[1,"azt-select-child"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"mt-5","p-3"],[3,"joinClassroomByType","selectStudentEvent"],[1,"flex","items-center"],[1,"text-lg","font-medium","mr-auto"],[1,"w-auto","flex"],[3,"fileName","linkUrl"],[1,"mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],[1,"ml-1","font-bold","text-pirmary"],[1,"azt-info-homework","p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],["x","3","y","3","width","7","height","7"],["x","14","y","3","width","7","height","7"],["x","14","y","14","width","7","height","7"],["x","3","y","14","width","7","height","7"],[1,"ml-1","font-medium"],["class","mt-2",4,"ngIf"],[1,"flex","flex-col","sm:flex-row"],["class","time-create mr-10 mt-2",4,"ngIf"],[1,"time-deadline","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M4.18 4.18A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18"],["d","M21 15.5V6a2 2 0 0 0-2-2H9.5"],["d","M16 2v4"],["d","M3 10h7"],["d","M21 10h-5.5"],["x1","2","y1","2","x2","22","y2","22"],["class","ml-1 font-medium",4,"ngIf"],[1,"azt-content-homework"],[3,"content"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 lg:col-span-3",4,"ngFor","ngForOf"],[1,"p-3"],[4,"ngIf","ngIfElse"],["ViewHomeworkResult",""],[3,"dataAnswerHistory","dataHomeworkObj","previewFileEmit"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"time-create","mr-10","mt-2"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[1,"col-span-12","lg:col-span-3"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","zoom-in"],["azt-track-service","submit-homework-JKHK228AaC",1,"flex","w-full","items-center",3,"click"],[1,"w-12","h-12","image-fit","lg:mr-1"],["class","rounded-md",3,"src",4,"ngIf"],[1,"ml-2","mt-0",2,"max-width","80%"],[1,"font-medium","truncate",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"rounded-md",3,"src"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4"],["notOverTime",""],[1,"text-center","mt-5"],["azt-track-service","submit-homework-SVOZH1hPhT","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","submit-homework-srzM6zkJC9X","class","btn w-24 btn-danger",3,"disabled","click",4,"ngIf"],["class","row ml-0 mr-0",4,"ngIf"],["class","text-center mt-4 mb-4",4,"ngIf"],["class","grid grid-cols-12 gap-1 mt-1 mb-1 pb-3 pt-3 px-3 attach-container",4,"ngIf"],["class","grid grid-cols-10 gap-5 pl-4 pr-5",4,"ngIf"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative",2,"margin-top","80px"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],["id","horizontal-form-1","type","file","id","inp_hidden","multiple","",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","cursor-pointer","relative"],[1,"block","text-slate-600","dark:text-slate-500"],[1,"row","ml-0","mr-0"],[1,"col-12"],[1,"alert","alert-danger","text-center",2,"margin-bottom","1.25rem"],[1,"text-center","mt-4","mb-4"],[1,"text-md","font-medium"],[1,"grid","grid-cols-12","gap-1","mt-1","mb-1","pb-3","pt-3","px-3","attach-container"],["class","col-span-6 md:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-4","lg:col-span-2"],[1,"text-md","font-medium","truncate"],[1,"progress-container"],["max","100",2,"width","100%","height","20px","background-color","#1e40af",3,"value"],[1,"text-md","font-medium","text-success"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5"],["class","col-span-5 md:col-span-2 relative cursor-pointer",4,"ngFor","ngForOf"],[1,"col-span-5","md:col-span-2","relative","cursor-pointer"],["azt-track-service","submit-homework-U3JvmWJWyL","_target","blank",1,"image-fit","h-32",3,"click"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],["notFileVideo",""],[1,"flex","items-center","rounded-md","border","border-slate-200","dark:border-darkmode-400","overflow-hidden",2,"border-top-left-radius","0","border-top-right-radius","0"],["azt-track-service","submit-homework-oCv304vr_j",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","15 18 9 12 15 6"],["type","text","type","number","min","1",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder","keyup.enter","change"],["myInput",""],["azt-track-service","submit-homework-sWozCmSRRn",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["points","9 18 15 12 9 6"],["azt-track-service","submit-homework-OKXWiY1X2a","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","8rem","width","100%","object-fit","cover","border-bottom-left-radius","0","border-bottom-right-radius","0"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],[1,"w-6","h-6","inline-block"],["name","video"],["alt","Azota-Image-Loading",1,"border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","object-fit","contain",3,"src"],["azt-track-service","submit-homework-OKXWiY1X2a",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["class","row ml-0 mr-0",4,"ngIf","ngIfElse"],["notMarked",""],["azt-track-service","submit-homework-MxLAiMtc7R","_target","blank",1,"image-fit","h-32",3,"click"],["notFileVideoOverTime",""],["disabled","",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none"],["type","text","type","number","min","1","disabled","",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder"],[1,"rounded-md","border-bottom-0",3,"src"],["alt","Azota-Image-Loading",1,"rounded-md","w-fit",2,"border-bottom-left-radius","0","border-bottom-right-radius","0",3,"src"],[1,"alert","alert-danger","text-center","mt-2","ml-5","mr-5",2,"margin-bottom","1.25rem"],["azt-track-service","submit-homework-SVOZH1hPhT",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","submit-homework-srzM6zkJC9X",1,"btn","w-24","btn-danger",3,"disabled","click"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","dark:border-darkmode-400","rounded-md","pt-4"],[1,"flex"],[1,"text-md","ml-3","font-medium","text-dark"],["class","grid grid-cols-10 gap-5 pl-4 pr-5 mt-3",4,"ngIf"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf"],[3,"ngIf"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5","mt-3"],["azt-track-service","submit-homework-r1g0ks59mJK","_target","blank",1,"image-fit","h-32","border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom","0","border-bottom-left-radius","0","border-bottom-right-radius","0",3,"click"],["notFileVideoResult",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[1,"flex","mt-3"],["azt-track-service","submit-homework-wmQuG3uTIJb",2,"color","rgba(0, 167, 208, 1)","cursor","pointer",3,"click"],[1,"grid","grid-cols-4","gap-3","mt-3","auto-cols-auto",2,"margin","16px !important"],[1,"col-span-4","sm:col-span-1","md:col-span-1","relative","text-center","border-2","border-dashed","dark:border-darkmode-400","p-8","content-homework"],["class","mb-0",4,"ngIf"],[1,"col-span-4","sm:col-span-3","md:col-start-2","md:col-end-4","relative","border-2","border-dashed","dark:border-darkmode-400","p-3"],[1,"text-md","ml-3","font-medium","text-dark","title"],["fontText",""],[1,"mb-0"],[3,"mark"],["class","content-homework pt-3 text-writing",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-bold",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-beautiful",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-italy",3,"innerHTML",4,"ngIf"],[1,"content-homework","pt-3","text-writing",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-bold",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-beautiful",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-italy",3,"innerHTML"],["id","azt-view-comment",1,"pt-3",3,"innerHTML"]],template:function(t,i){1&t&&(e.TgZ(0,"student-layout",0)(1,"div",1),e.YNc(2,Ie,1,1,"ng-container",2),e.YNc(3,Fe,1,1,"ng-container",2),e.YNc(4,Pe,1,1,"ng-container",2),e.qZA()(),e.YNc(5,De,14,4,"ng-template",null,3,e.W1O),e.YNc(7,Ee,6,4,"ng-template",null,4,e.W1O),e.YNc(9,Ne,18,7,"ng-template",null,5,e.W1O),e.YNc(11,Ke,41,18,"ng-template",null,6,e.W1O),e.YNc(13,bt,7,4,"ng-template",null,7,e.W1O),e.YNc(15,Ft,12,12,"ng-template",null,8,e.W1O)),2&t&&(e.Q6J("headerBackToLink",i.backToLink),e.xp6(2),e.Q6J("ngIf",i.statusObj.errorMessage),e.xp6(1),e.Q6J("ngIf","chooseStudent"==i.currentViewType&&(null==i.obj||null==i.obj.homeworkObj?null:i.obj.homeworkObj.hashId)),e.xp6(1),e.Q6J("ngIf","viewHomework"==i.currentViewType&&(null==i.obj||null==i.obj.homeworkObj?null:i.obj.homeworkObj.hashId)))},dependencies:[C.sg,C.O5,C.tP,B.gM,$.B,te.W,ue.n,be.O,ke.P,xe.L,L.Nh5,He,U.JV,U.QN,U.Tm,U.CR,U.Bo,U.$n,U.ul],styles:['@font-face{font-family:font_chu_dep;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}@font-face{font-family:font_chu_in;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/Roboto-Thin.ttf)}@font-face{font-family:font_chu_in_nghieng;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_in_dam;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-BoldIt.otf)}.text-writing[_ngcontent-%COMP%]{font-family:font_chu_in!important;font-weight:700}.text-writing-beautiful[_ngcontent-%COMP%]{font-family:font_chu_dep!important}.text-writing-italy[_ngcontent-%COMP%]{font-family:font_chu_in_nghieng!important}.text-writing-bold[_ngcontent-%COMP%]{font-family:font_chu_in_dam!important}.content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px}.title[_ngcontent-%COMP%]{position:absolute;top:-11px;background:#fff}.progress-container[_ngcontent-%COMP%]{position:relative;display:block;background:#eee;height:20px;border-radius:6px;overflow:hidden}.progress-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;background:#1e40af}progress[_ngcontent-%COMP%]{accent-color:#1e40af}[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#1e40af}[_ngcontent-%COMP%]::-moz-progress-bar{background-color:#1e40af}']}),n})();var he=s(75270);let ge=(()=>{class n extends S.Q{getData(t,i){this.initStatusObj(),i?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,i).subscribe(a=>{1==a.success?(this.switchViewHomework(a),this.successStatusObj()):this.errorStatusObj(a.message??"",!0)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,t).subscribe(a=>{1==a.success?(this.switchViewHomework(a),this.successStatusObj()):this.errorStatusObj(a.message??"",!0)})}switchViewHomework(t){if(t){this.zipDataService.convertSubmittedAnswersHistoryObj(t.data?.answerObj);let i=t.data,a=this.castObj(i?.answerObj);if(null!=a){let u=this.commonService.myParseJson(a?.result??"");this.commonService.myNavigationWithQueryString(this.historyId?u&&u?.urlDataMark?`/homework/view-homework-new/${a.id}/${this.homeworkHashId}/${this.historyId}`:`/homework/view-homework/${a.id}/${this.homeworkHashId}/${this.historyId}`:u&&u?.urlDataMark?`/homework/view-homework-new/${a.id}/${this.homeworkHashId}`:`/homework/view-homework/${a.id}/${this.homeworkHashId}`,`?backto=${encodeURIComponent(this.backToLink)}`)}}}ngOnInit(){this.classliveUrl=this.envService.getEnvValue("classliveUrl")??"";let t=this.commonService.getMyParam(this.activeRoute,"id")??"";const i=parseInt(t,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.commonService.getMyParam(this.activeRoute,"history_id")){let a=this.commonService.getMyParam(this.activeRoute,"history_id")??"";this.historyId=parseInt(a,10),this.getData(i,this.historyId)}else this.getData(i);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,i,a,u,x){super(),this.activeRoute=t,this.frontAnswerService=i,this.frontAnswerHistoryService=a,this.zipDataService=u,this.envService=x,this.backToLink="",this.homeworkHashId="",this.historyId=0,this.classliveUrl=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.gz),e.Y36(W.XL),e.Y36(W.ln),e.Y36(y.a),e.Y36(he.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-switch-view-homework"]],features:[e.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();var Ut=s(28368),fe=s(32965),Dt=s(85904),zt=s(62703);const Et=function(n){return{height:n}};function Nt(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21)(2,"azt-mark-note",22,23),e.NdJ("handleBackLink",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goBack())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(5,Et,t.sizeMarkEditor.height+"px")),e.xp6(1),e.Q6J("dataMarkNote",t.jsonData)("modeView","student")("showBackLink",!0)("showCopyLinkTeacher",!0)}}function Jt(n,l){if(1&n&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"azt-check-mark",26),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("mark",null==t.result||null==t.result.answerObj?null:t.result.answerObj.point)}}let we=(()=>{class n extends S.Q{getSizeMarkEditor(t){this.sizeMarkEditor=t}goBack(){""!=this.backToLink&&null!=this.backToLink?this.commonService.myNavigationBySpecialQueryString(this.backToLink):this.commonService.myNavigation("/bai-tap/"+this.homeworkHashId)}fillData(t){if(t){if(this.zipDataService.convertSubmittedAnswersHistoryObj(t.data?.answerObj),this.result=t.data,this.files=this.commonService.myParseJson(t.data?.answerObj?.files??"")??[],null!==this.files)for(let Q=0;Q<this.files.length;Q++)this.files&&(this.files[Q].url=this.cdnService.getMyCdn(this.files[Q].url??""),this.files[Q].thumb=this.cdnService.getMyCdn(this.files[Q].thumb??""));let i=this.castObj(this.result?.answerObj),a=this.result?.studentObj,u=this.result?.classroomObj,x=this.result?.homeworkObj?{...this.result.homeworkObj,permissionObj:{}}:void 0,E=this.commonService.myParseJson(i?.result??""),K=this.castJsonToObj(this.result?.answerObj?.resultNote??"");this.commentExercise=K?.Note??"",this.jsonData.cmd="initMNote",this.jsonData.mode="edit",this.jsonData.answer_obj=i,this.jsonData.student_obj=a,this.jsonData.classroom_obj=u,this.jsonData.homework_obj=x,E&&E.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=E.hideMark),this.dataMarkNote=this.jsonData}}getData(t,i){this.initStatusObj(),this.errorMessage="",i?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,i).subscribe(a=>{1==a.success?(this.fillData(a),this.successStatusObj()):(this.errorStatusObj(a.message??"",!0),this.errorMessage=a?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,t).subscribe(a=>{1==a.success?(this.fillData(a),this.successStatusObj()):(this.errorStatusObj(a.message??"",!0),this.errorMessage=a.message)})}copyLinkToClipboard(){const t=this.getMyParam(this.activeRoute,"id"),i=this.getMyParam(this.activeRoute,"studentId");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${t}/${this.homeworkHashId}/${i??0}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){this.commonService.compareDeviceScreen(768)&&(document.body.style.overflowY="hidden");let i=this.commonService.getMyParam(this.activeRoute,"id")??"";const a=parseInt(i,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.initDataEditor=this.sAztTinyMceService.initConfigStudentHomework(),this.commonService.getMyParam(this.activeRoute,"history_id")){let u=this.commonService.getMyParam(this.activeRoute,"history_id")??"";const x=parseInt(u,10);this.getData(a,x)}else this.getData(a);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){document.body.style.overflowY="auto"}constructor(t,i,a,u,x,E){super(),this.sAztTinyMceService=t,this.activeRoute=i,this.frontAnswerService=a,this.frontAnswerHistoryService=u,this.cdnService=x,this.zipDataService=E,this.homeworkHashId="",this.isMarked=!1,this.jsonData={},this.backToLink="",this.dataMarkNote={},this.files=[],this.sizeMarkEditor={width:200,height:800},this.commentExercise="",this.initDataEditor={},this.handleIframe=K=>{if("MNoteLoadComplete"==K.data){const Q=document.getElementById("mNote"),V=Q?Q.contentWindow:null;if(null!==V){let P=this.castObj(this.result?.answerObj);if(null!=P){let w=this.commonService.willDeleteParseJson(P?.result??"");if(null!=w){for(let g=0;g<w.pages.length;g++)w.pages[g].backgroundImage&&(w.pages[g].backgroundImage=this.cdnService.getMyCdn(w.pages[g].backgroundImage)),w.pages[g].draw&&(w.pages[g].draw=this.cdnService.getMyCdn(w.pages[g].draw));w=JSON.stringify(w),P.result=w}let h=this.commonService.willDeleteParseJson(P?.files??"");if(null!=h){for(let g=0;g<h.length;g++)h[g].url&&(h[g].url=this.cdnService.getMyCdn(h[g].url)),h[g].thumb&&(h[g].thumb=this.cdnService.getMyCdn(h[g].thumb));h=JSON.stringify(h),P.files=h}}let G=this.result?.studentObj,_=this.result?.classroomObj,N=this.result?.homeworkObj,T=this.commonService.willDeleteParseJson(P?.result??""),H=!(!T||!T.hasOwnProperty("hideMark"))&&T.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let w=0;w<(this.jsonData.pages?.length??0);w++)this.jsonData.pages?.[w].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[w].backgroundImage=this.cdnService.getMyCdn(this.jsonData.pages[w].backgroundImage??"")),this.jsonData.pages?.[w].hasOwnProperty("draw")&&(this.jsonData.pages[w].draw=this.cdnService.getMyCdn(this.jsonData.pages[w].draw??""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=P,this.jsonData.student_obj=G,this.jsonData.classroom_obj=_,this.jsonData.homework_obj=N,this.jsonData.hideMark=H,V.postMessage(this.jsonData,"*");else{let w=[];this.files.forEach(h=>{w.push({backgroundImage:h.url})}),V.postMessage({cmd:"initMNote",pages:w,answer_obj:P,student_obj:G,classroom_obj:_,homework_obj:N,mode:"view",hideMark:H},"*")}}}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ut.y),e.Y36(b.gz),e.Y36(W.XL),e.Y36(W.ln),e.Y36(fe.E),e.Y36(y.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-homework-new"]],features:[e.qOj],decls:28,vars:16,consts:[[1,"content",2,"padding","0 12px"],[1,"grid","grid-cols-12","gap-3","mt-3"],[4,"ngIf"],[1,"col-span-12","md:col-span-4","mark-general"],[1,"box"],[1,"p-2"],[1,"box-head"],[1,"font-medium"],[1,"flex","items-center","mt-2"],[1,"info-student","flex","items-center"],[3,"nameCreateAvatar","size"],[1,"info","ml-2"],[1,"text-md"],[1,"text-xs"],["class","score ml-auto flex items-center",4,"ngIf"],[1,"comment","mt-3"],[1,"font-medium","text-md"],[1,"comment-editor","mt-2"],["apiKey","q2b0xww12b2xbx637vp80iafuvwuc9zkep6qoceo62ba6qcs",3,"ngModel","disabled","init","ngModelChange"],[1,"mt-3","block","md:hidden"],["azt-track-service","view-homework-new-Ak95y0gQ__",1,"btn","btn-secondary","w-full",3,"click"],[1,"col-span-12","md:col-span-8","mark-editor",3,"ngStyle"],[3,"dataMarkNote","modeView","showBackLink","showCopyLinkTeacher","handleBackLink"],["aztMarkNote",""],[1,"score","ml-auto","flex","items-center"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","p-2","text-danger","text-center","font-medium",2,"width","60px"],[3,"mark"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Nt,4,7,"ng-container",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),e._uU(8),e.qZA(),e.TgZ(9,"div",8)(10,"div",9),e._UZ(11,"azt-create-avatar",10),e.TgZ(12,"div",11)(13,"p",12),e._uU(14),e.qZA(),e.TgZ(15,"p",13),e._uU(16),e.qZA()()(),e.YNc(17,Jt,3,1,"div",14),e.qZA()(),e.TgZ(18,"div",15)(19,"p",16),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"div",17)(23,"editor",18),e.NdJ("ngModelChange",function(u){return i.commentExercise=u}),e.qZA()()(),e.TgZ(24,"div",19)(25,"button",20),e.NdJ("click",function(){return i.goBack()}),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()()()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.jsonData.answer_obj),e.xp6(6),e.hij(" ",null==i.result||null==i.result.homeworkObj?null:i.result.homeworkObj.name," "),e.xp6(3),e.Q6J("nameCreateAvatar",null==i.result||null==i.result.studentObj?null:i.result.studentObj.fullName)("size",35),e.xp6(3),e.hij(" ",null==i.result||null==i.result.studentObj?null:i.result.studentObj.fullName," "),e.xp6(2),e.hij(" ",null==i.result||null==i.result.classroomObj?null:i.result.classroomObj.name," "),e.xp6(1),e.Q6J("ngIf",!i.dataMarkNote.hideMark),e.xp6(3),e.hij(" ",e.lcZ(21,12,"lang_auto_nhan_xet")," "),e.xp6(3),e.Q6J("ngModel",i.commentExercise)("disabled",!0)("init",i.initDataEditor),e.xp6(3),e.hij(" ",e.lcZ(27,14,"lang_auto_quay_lai")," "))},dependencies:[C.O5,C.PC,I.PG,r.JJ,r.On,Dt.g,$.B,zt.H,U.JV],styles:[".btn-score[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.choose-score[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto}.toolbar-list[_ngcontent-%COMP%]{width:100%;padding:5px;position:absolute;top:0;left:0;display:flex;align-items:center;border-bottom-left-radius:0;border-bottom-right-radius:0}.btn-icon[_ngcontent-%COMP%]{padding:10px;min-width:auto;line-height:initial}.toolbar-item[_ngcontent-%COMP%]{margin:0 3px}.toolbar-item[_ngcontent-%COMP%]:first-child{margin-left:0}.btn-icon-child[_ngcontent-%COMP%]{padding:5px}.azt-toolbar-active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--color-slate-200)/var(--tw-bg-opacity))}  .dark .azt-toolbar-active{--tw-bg-opacity: 1;background-color:rgb(var(--color-darkmode-200)/var(--tw-bg-opacity))}@media screen and (max-width: 768px){.choose-score[_ngcontent-%COMP%]{max-width:80%}}"]}),n})();var Qt=s(70342),Bt=s(32296),_e=s(77988),qt=s(43389);function Yt(n,l){if(1&n&&(e.TgZ(0,"h4",12),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",null==t.result||null==t.result.studentObj?null:t.result.studentObj.fullName,", ",null==t.result||null==t.result.classroomObj?null:t.result.classroomObj.name," ")}}function Rt(n,l){1&n&&e._UZ(0,"azt-loading-effect")}function Wt(n,l){if(1&n&&(e.TgZ(0,"div",16)(1,"div",17),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,t.errorMessage))}}function Vt(n,l){if(1&n&&(e.TgZ(0,"div",18),e._UZ(1,"iframe",19),e.ALo(2,"safe"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",e.lcZ(2,1,t.whiteListMNoteIframeSrc),e.uOi)}}function $t(n,l){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e.YNc(2,Wt,4,3,"div",14),e.qZA()(),e.YNc(3,Vt,3,3,"div",15)),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",""!=t.errorMessage),e.xp6(1),e.Q6J("ngIf",""==t.errorMessage)}}let ve=(()=>{class n extends S.Q{goBack(){this.commonService.myNavigation(""!=this.backToLink&&null!=this.backToLink?this.backToLink:"/bai-tap/"+this.homeworkHashId)}fillData(t){if(t){if(this.zipDataService.convertSubmittedAnswersHistoryObj(t.data?.answerObj),this.result=t.data,this.files=this.commonService.myParseJson(t.data?.answerObj?.files??"")??[],null!==this.files)for(let a=0;a<this.files.length;a++)this.files&&(this.files[a].url=this.cdnService.getMyCdn(this.files[a].url??""),this.files[a].thumb=this.cdnService.getMyCdn(this.files[a].thumb??""));if(t.data?.answerObj?.confirmedAt){this.isMarked=!0;var i=this.commonService.myParseJson(this.cdnService.getMyCdn(t?.data?.answerObj?.result??""));i&&(this.jsonData=i,null===this.jsonData&&(this.isMarked=!1))}}}getData(t,i){this.initStatusObj(),this.errorMessage="",i?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,i).subscribe(a=>{1==a.success?(this.fillData(a),this.successStatusObj()):(this.errorStatusObj(a.message??"",!0),this.errorMessage=a?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,t).subscribe(a=>{1==a.success?(this.fillData(a),this.successStatusObj()):(this.errorStatusObj(a.message??"",!0),this.errorMessage=a.message)})}copyLinkToClipboard(){const t=this.getMyParam(this.activeRoute,"id"),i=this.getMyParam(this.activeRoute,"studentId");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${t}/${this.homeworkHashId}/${i??0}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){this.whiteListMNoteIframeSrc=this.envService.getEnvValue("classliveUrl")??"";let t=this.commonService.getMyParam(this.activeRoute,"id")??"";const i=parseInt(t,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.commonService.getMyParam(this.activeRoute,"history_id")){let a=this.commonService.getMyParam(this.activeRoute,"history_id")??"";const u=parseInt(a,10);this.getData(i,u)}else this.getData(i);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,i,a,u,x,E){super(),this.activeRoute=t,this.frontAnswerService=i,this.frontAnswerHistoryService=a,this.cdnService=u,this.zipDataService=x,this.envService=E,this.homeworkHashId="",this.isMarked=!1,this.whiteListMNoteIframeSrc="",this.backToLink="",this.files=[],this.handleIframe=K=>{if("MNoteLoadComplete"==K.data){const Q=document.getElementById("mNote"),V=Q?Q.contentWindow:null;if(null!==V){let P=this.result?.hasOwnProperty("answerObj")?this.castObj(this.result.answerObj)??void 0:void 0;if(this.result?.hasOwnProperty("answerObj")){let w=this.commonService.willDeleteParseJson(P?.result??"");if(null!=w){for(let g=0;g<w.pages.length;g++)w.pages[g].backgroundImage&&(w.pages[g].backgroundImage=this.cdnService.getMyCdn(w.pages[g].backgroundImage)),w.pages[g].draw&&(w.pages[g].draw=this.cdnService.getMyCdn(w.pages[g].draw));w=JSON.stringify(w),null!=P&&(P.result=w)}let h=this.commonService.willDeleteParseJson(P?.files??"");if(null!=h){for(let g=0;g<h.length;g++)h[g].url&&(h[g].url=this.cdnService.getMyCdn(h[g].url)),h[g].thumb&&(h[g].thumb=this.cdnService.getMyCdn(h[g].thumb));h=JSON.stringify(h),null!=P&&(P.files=h)}}let G=this.result?.hasOwnProperty("studentObj")?this.result.studentObj:void 0,_=this.result?.hasOwnProperty("classroomObj")?this.result.classroomObj:void 0,N=this.result?.hasOwnProperty("homeworkObj")?this.result.homeworkObj:void 0,T=this.commonService.willDeleteParseJson(P?.result??""),H=!(!T||!T.hasOwnProperty("hideMark"))&&T.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let w=0;w<(this.jsonData.pages?.length??0);w++)this.jsonData.pages?.[w].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[w].backgroundImage=this.cdnService.getMyCdn(this.jsonData.pages[w].backgroundImage??"")),this.jsonData.pages?.[w].hasOwnProperty("draw")&&(this.jsonData.pages[w].draw=this.cdnService.getMyCdn(this.jsonData.pages[w].draw??""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=P,this.jsonData.student_obj=G,this.jsonData.classroom_obj=_,this.jsonData.homework_obj=N,this.jsonData.hideMark=H,V.postMessage(this.jsonData,"*");else{let w=[];this.files.forEach(h=>{w.push({backgroundImage:h.url})}),V.postMessage({cmd:"initMNote",pages:w,answer_obj:P,student_obj:G,classroom_obj:_,homework_obj:N,mode:"view",hideMark:H},"*")}}}}}ngOnDestroy(){window.removeEventListener("message",this.handleIframe),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.gz),e.Y36(W.XL),e.Y36(W.ln),e.Y36(fe.E),e.Y36(y.a),e.Y36(he.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-exercise"]],features:[e.qOj],decls:20,vars:11,consts:[["id","markContainer",1,"maxW1000","pt-3"],[1,"flex","justify-between","titleRow"],[1,"col","center-row"],["azt-track-service","view-homework-zMU7uFOiO","mat-button","",3,"title","click"],[1,"col","center-row",2,"justify-content","center"],["class","studentInfo","style","padding-right: 10px;",4,"ngIf"],[1,"col","center-row",2,"justify-content","flex-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["azt-track-service","view-homework-Q8Fmec__8U","mat-menu-item","",3,"cdkCopyToClipboard","click"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"studentInfo",2,"padding-right","10px"],[1,"flex","justify-center","py-5"],["class","w-full text-center",4,"ngIf"],["class","card-box listPhotos","style","overflow : hidden",4,"ngIf"],[1,"w-full","text-center"],[1,"alert","text-danger"],[1,"card-box","listPhotos",2,"overflow","hidden"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),e.NdJ("click",function(){return i.goBack()}),e.ALo(4,"mytranslate"),e._uU(5,"keyboard_arrow_left"),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,Yt,2,2,"h4",5),e.qZA(),e.TgZ(8,"div",6)(9,"button",7)(10,"mat-icon"),e._uU(11,"more_vert"),e.qZA()(),e.TgZ(12,"mat-menu",null,8)(14,"button",9),e.NdJ("click",function(){return i.showCopySuccess()}),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()(),e.YNc(17,Rt,1,0,"azt-loading-effect",10),e.YNc(18,$t,4,2,"ng-template",null,11,e.W1O),e.qZA()),2&t){const a=e.MAs(13),u=e.MAs(19);e.xp6(3),e.s9C("title",e.lcZ(4,7,"lang_auto_quay_lai")),e.xp6(4),e.Q6J("ngIf",null==i.result?null:i.result.answerObj),e.xp6(2),e.Q6J("matMenuTriggerFor",a),e.xp6(5),e.Q6J("cdkCopyToClipboard",i.copyLinkToClipboard()),e.xp6(1),e.Oqu(e.lcZ(16,9,"lang_homework_homework_frontend_utils_copy_send_teacher")),e.xp6(2),e.Q6J("ngIf",i.statusObj.loading)("ngIfElse",u)}},dependencies:[C.O5,Qt.i3,Bt.RK,pe.Hw,_e.VK,_e.OP,_e.p6,qt.l,U.JV,U.CR],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}.center-row[_ngcontent-%COMP%]{display:flex;align-items:center}.titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;margin:0;color:#fff}.titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width: 1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),n})();const Kt=[{path:"",component:F,canActivate:[j.J],children:[{path:":hash_id",component:Pt},{path:"view-homework/:id/:hash_id",component:ve},{path:"view-homework/:id/:hash_id/:history_id",component:ve},{path:"switch-view-homework/:id/:hash_id",component:ge},{path:"switch-view-homework/:id/:hash_id/:history_id",component:ge},{path:"view-homework-new/:id/:hash_id",component:we},{path:"view-homework-new/:id/:hash_id/:history_id",component:we}]}];let Gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild(Kt),b.Bz,v.fQ]}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[O.kb,b.Bz,C.ez,p.j,I.Z_,r.u5,r.UX,o.Is,m.Z,M.xC,Gt,k.QG,f.W,d.d,L.qyJ.pick(L.ciZ),c.k]}),n})()},95273:(R,D,s)=>{"use strict";s.d(D,{v:()=>I});var C=s(61713),r=s(78226),o=s(65879),b=s(46558);let I=(()=>{class L{getMineTypeByFileType(k){let p="";switch(this.commonService.getEnumTypeWithDefault(r.s,k,r.s.unknown)){case r.s.doc:case r.s.docx:p="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case r.s.ppt:case r.s.pptx:p="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case r.s.xlsx:p="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case r.s.pdf:p="application/pdf";break;case r.s.video:case r.s.mp4:p="video/mp4";break;case r.s.mov:p="video/mov";break;case r.s.webm:p="video/webm";break;case r.s.quicktime:p="video/quicktime";break;case r.s.audio:p="audio/mpeg";break;case r.s.mp3:p="audio/mp3";break;case r.s.wav:p="audio/wav";break;case r.s.jpeg:case r.s.image:p="image/jpeg";break;case r.s.google_docs:p="google_docs"}return p}getMineTypeByExtension(k){switch(new RegExp(/(?:\.([^.]+))?$/).exec(k)?.[1]){case"pdf":return"application/pdf";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xsl":case"csv":return"application/vnd.ms-excel";case"jpg":return"image/jpg";case"jpge":return"image/jpge";default:return"application/json-patch+json"}}getTypeFileByMime(k){return k.mimes&&(0,C.MH)(k.mimes)||k.name?.toLowerCase().endsWith(".azt")?r.s.docx:k.mimes&&(0,C.AW)(k.mimes)?r.s.xlsx:k.mimes&&(0,C.F0)(k.mimes)?r.s.audio:k.mimes&&(0,C.Wv)(k.mimes)?r.s.video:k.mimes&&(0,C.Or)(k.mimes)?r.s.image:k.mimes&&(0,C._4)(k.mimes)?r.s.pdf:k.mimes&&(0,C.ZA)(k.mimes)?r.s.powerpoint:void 0}constructor(k){this.commonService=k}}return L.\u0275fac=function(k){return new(k||L)(o.LFG(b.z))},L.\u0275prov=o.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},97151:(R,D,s)=>{"use strict";s.d(D,{g:()=>M});var C=s(10217),o=s(89156),b=s(65879),I=s(23433),L=s(46558);let M=(()=>{class k{constructor(p,m){this.mobileWebviewService=p,this.commonService=m}shareFileWithBlob(p,m){if(this.commonService.isMobileWebview(void 0)){o.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let d=new FileReader;d.readAsDataURL(p),d.onloadend=()=>{let c=d.result;"string"==typeof c&&(this.mobileWebviewService.sendShareFileBase64(m,String(c)),o.G.closeLoadingEffect(100))}}else C.saveAs(p,m)}shareFileWithBase64(p,m){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(m,p):C.saveAs(p,m)}}return k.\u0275fac=function(p){return new(p||k)(b.LFG(I.r),b.LFG(L.z))},k.\u0275prov=b.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},61325:(R,D,s)=>{"use strict";s.d(D,{$:()=>k});var C=s(69862),r=s(65592),o=s(61713),b=s(65879),I=s(46558),L=s(82228),M=s(77757);let k=(()=>{class O{replaceImageInContent(m,d){return new r.y(c=>{if(d.includes("<img ")){var f=this.findAllSubString(d,"<img"),v=[],j=[];f.forEach(S=>{var e=d.indexOf("src=",S),F=d.indexOf('"',Number(e)+5),A=d.substring(Number(e)+5,Number(F)+1);A.includes(";base64")?v.push({oldUrl:A}):A.includes("blob:")&&j.push({oldUrl:A})}),v.length>0?this.reUploadBase64File(m,v,(S,e)=>{null==e?j&&j.length>0?this.reUploadBlobFile(m,j,(F,A)=>{null!=A?(d=this.replaceHomeworkContent(d,S),d=this.replaceHomeworkContent(d,F),c.next({errorMessage:void 0,content:d}),c.complete()):(c.next({errorMessage:A,content:d}),c.complete())}):(d=this.replaceHomeworkContent(d,S),c.next({errorMessage:void 0,content:d}),c.complete()):(c.next({errorMessage:e,content:d}),c.complete())}):j.length>0?this.reUploadBlobFile(m,j,(S,e)=>{null==e?(d=this.replaceHomeworkContent(d,S),c.next({errorMessage:void 0,content:d}),c.complete()):(c.next({errorMessage:e,content:d}),c.complete())}):(d=this.replaceHomeworkContent(d,[]),c.next({errorMessage:void 0,content:d}),c.complete())}else c.next({errorMessage:void 0,content:d}),c.complete()})}replaceHomeworkContent(m,d){return d.length>0&&d.forEach(c=>{m=m.replace(c.oldUrl??"  ",c.newUrl+'" class="w-100 img-fluid"')}),m}findAllSubString(m,d){for(var c=0,f=0,v=[];m.indexOf(d,c)>-1;)f=m.indexOf(d,c),v.push(f),c=f+d.length;return v}getTypeFile(m){var d=m.indexOf(";");return m.substring(5,d)}getFileName(m){var d=m.split("").reverse().join(""),c=d.indexOf(";"),f=d.indexOf("/",c);return d.substring(c,f).split("").reverse().join("")}convertBlobToBase64(m){return new Promise(d=>{var c=new Image;c.crossOrigin="Anonymous",c.addEventListener("load",function(){var f=document.createElement("canvas"),v=f.getContext("2d");f.width=c.width,f.height=c.height,v?.drawImage(c,0,0);var j=f.toDataURL("image/png");d(j)},!1),c.src=m})}reUploadBase64File(m,d,c){if(d&&d.length>0){let S,j=d.length;for(var f=[],v=0;v<d.length;v++){const e=d[v],F=e.oldUrl?.substring(0,e.oldUrl.length-1);this.startUploadBlobFile(m,e,F??"",[],(A,q)=>{null==q?f=f.concat(A):S=q,j-=1,0==j&&c(f,S)})}}else c([],"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}reUploadBlobFile(m,d,c){if(d&&d.length>0){let S,j=d.length;for(var f=[],v=0;v<d.length;v++){const e=d[v],F=e?.oldUrl?.substring(0,e.oldUrl.length-1);this.convertBlobToBase64(F??"").then(A=>{this.startUploadBlobFile(m,e,A,[],(q,ee)=>{null==ee?f=f.concat(q):S=ee,j-=1,0==j&&c(f,S)})})}}else c([],"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}startUploadBlobFile(m,d,c,f,v){if(c&&""!=c){var j=this.getTypeFile(c),S=this.myPdfService.b64toFile(c,this.getFileName(j),j);(0,o.hv)(S).then(e=>{this.apiUploadService.commonUploadFile(m,e,"").subscribe(F=>{if(F.type!=C.dt.UploadProgress)if(1==F.success){var A={...d,newUrl:F.data?.url??""};f.push(A),v(f,void 0)}else v(f,this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",F.message??"none"))})})}else v(f,"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}constructor(m,d,c){this.commonService=m,this.apiUploadService=d,this.myPdfService=c}}return O.\u0275fac=function(m){return new(m||O)(b.LFG(I.z),b.LFG(L.W),b.LFG(M.z))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},28368:(R,D,s)=>{"use strict";s.d(D,{y:()=>L});var C=s(65879),r=s(88489);let o=(()=>{class M{getMode(){return""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light"}constructor(O){this.browserStorageService=O}}return M.\u0275fac=function(O){return new(O||M)(C.LFG(r.n))},M.\u0275prov=C.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var b=s(46558),I=s(61325);let L=(()=>{class M{constructor(O,p,m){this.darkModeService=O,this.commonService=p,this.sAztUploadImageOfExamService=m}initConfigForAdmin(){var m={};return m={height:250,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",plugins:["code","fullscreen","link"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | link | code | fullscreen"},"dark"==this.darkModeService.getMode()&&(m.skin="oxide-dark",m.content_css="dark"),m}initConfigForAdminWithUploadImageBox(O){var d={};return d={selector:"textarea#file-picker",menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",branding:!1,plugins:"image code autoresize fullscreen link",toolbar:"fontsize | bold italic underline | forecolor backcolor | alignleft aligncenter alignright | image | link | code | fullscreen",font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 18pt 20pt 22pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",height:250,file_picker_callback:(c,f,v)=>{this.file_picker_callback(O,c,f,v)}},"dark"==this.darkModeService.getMode()&&(d.skin="oxide-dark",d.content_css="dark"),d}initConfigForTeacher(){var m={};return m={height:250,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",plugins:["fullscreen"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | fullscreen"},"dark"==this.darkModeService.getMode()&&(m.skin="oxide-dark",m.content_css="dark"),m}initConfigTeacherHomework(O){var d={};return d={min_height:O,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",resize:!1,plugins:["advlist","anchor","autolink","charmap","code","fullscreen","lists","media","preview","textcolor","emoticons","fontselect","autoresize"],toolbar:"fontfamily | fontsize |bold italic underline | forecolor backcolor | alignleft aligncenter alignright | emoticons",emoticons_database:"emojis",font_family_formats:"Arial=arial,helvetica,sans-serif; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier; Georgia=georgia,palatino; Helvetica=helvetica; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Font ch\u1eef \u0111\u1eb9p=font_chu_dep",font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 18pt 20pt 22pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",content_style:"@font-face { font-family: font_chu_dep; src: url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf');} body { font-family: font_chu_dep; color: red; font-size: 18pt; line-height: initial;};"},"dark"==this.darkModeService.getMode()&&(d.skin="oxide-dark",d.content_css="dark"),d}initConfigStudentHomework(){var m={};return m={height:450,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",readonly:1,plugins:["emoticons advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | emoticons",emoticons_database:"emojis",content_style:"@font-face { font-family: font_chu_dep; src: url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf');} body { font-family: font_chu_dep; color: red; font-size: 18pt; line-height: initial;};"},"dark"==this.darkModeService.getMode()&&(m.skin="oxide-dark",m.content_css="dark"),m}initConfigForTeacherWithUploadImageBox(O){var d={};return d={selector:"textarea#file-picker",menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",branding:!1,plugins:"image code autoresize fullscreen",toolbar:"fontsize | bold italic underline | forecolor backcolor | alignleft aligncenter alignright | image | fullscreen",font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 18pt 20pt 22pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",height:250,file_picker_callback:(c,f,v)=>{this.file_picker_callback(O,c,f,v)}},"dark"==this.darkModeService.getMode()&&(d.skin="oxide-dark",d.content_css="dark"),d}file_picker_callback(O,p,m,d){let c=document.createElement("input");c.setAttribute("type","file"),c.setAttribute("accept","image/*"),c.onchange=()=>{let f=c.files?.[0],v=new FileReader;v.onload=()=>{let S=`<img src="${"data:image/png;base64, "+v.result.split(",")[1]}">`;this.sAztUploadImageOfExamService.replaceImageInContent(O,S).subscribe(e=>{if(e.errorMessage)this.commonService.snackError(e.errorMessage);else{let F=document.createElement("div");F.innerHTML=this.commonService.removeXssInHtml(e.content);let A=F.firstChild;A&&A.src&&p(A.src)}})},v.readAsDataURL(f)},c.click()}}return M.\u0275fac=function(O){return new(O||M)(C.LFG(o),C.LFG(b.z),C.LFG(I.$))},M.\u0275prov=C.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},89156:(R,D,s)=>{"use strict";s.d(D,{G:()=>C});let C=(()=>{class r{static openLoadingEffect(b){r.getDomElement().style.display="flex",setTimeout(()=>{r.changeMsgLoadingEffect(b)},50)}static closeLoadingEffect(b){return new Promise(I=>{setTimeout(()=>{const L=r.getDomElement();L&&(L.style.display="none"),I(!0)},b)})}static changeMsgLoadingEffect(b){r.getDomContent().innerText=b}static getDomContent(){return document.getElementById(r.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(r.idComponent)??this.createDomElement()}static createDomElement(){const b=document.createElement("div");return b.id=r.idComponent,b.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),b.style.display="none",b.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${r.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(b),b}}return r.idComponent="azt-status-loading-effect",r.idStatusContent="azt-status-loading-effect-content",r})()},18881:(R,D,s)=>{"use strict";s.d(D,{L:()=>de});var C=s(47496),r=s(20553),o=s(65879),b=s(94960),I=s(88489),L=s(23433),M=s(78953),k=s(14250),O=s(21266),p=s(96814),m=s(92596),d=s(24097),c=s(82509),f=s(37722),v=s(18456),j=s(1478),S=s(69198),e=s(36727);const F=function(y){return{height:y}};function A(y,J){if(1&y&&(o.TgZ(0,"div",8),o.GkF(1,9),o.TgZ(2,"div",10),o.GkF(3,9),o.TgZ(4,"div",11)(5,"div",12),o.GkF(6,9),o.qZA(),o.TgZ(7,"div",13),o.GkF(8,9),o.qZA()()()()),2&y){const Z=o.oxw(2),Y=o.MAs(8),B=o.MAs(6),$=o.MAs(4),te=o.MAs(2);o.xp6(1),o.Q6J("ngTemplateOutlet",Y),o.xp6(2),o.Q6J("ngTemplateOutlet",B),o.xp6(2),o.Q6J("ngStyle",o.VKq(5,F,Z.headerTitle?"90px":"auto")),o.xp6(1),o.Q6J("ngTemplateOutlet",$),o.xp6(2),o.Q6J("ngTemplateOutlet",te)}}function q(y,J){if(1&y&&(o.TgZ(0,"div",8)(1,"div",10)(2,"div",11)(3,"div",13),o.GkF(4,9),o.qZA()()()()),2&y){o.oxw(2);const Z=o.MAs(2);o.xp6(4),o.Q6J("ngTemplateOutlet",Z)}}function ee(y,J){if(1&y&&(o.TgZ(0,"div",5),o.YNc(1,A,9,7,"div",6),o.YNc(2,q,5,1,"div",6),o.TgZ(3,"div",7),o._UZ(4,"header-setting-color"),o.qZA()()),2&y){const Z=o.oxw();o.xp6(1),o.Q6J("ngIf",!Z.isMobileWebView),o.xp6(1),o.Q6J("ngIf",Z.isMobileWebView)}}function z(y,J){1&y&&o.Hsn(0)}function ne(y,J){if(1&y){const Z=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){o.CHM(Z);const B=o.oxw(2);return o.KtG(B.goBack())}),o.O4$(),o.TgZ(1,"svg",26),o._UZ(2,"polyline",27),o.qZA(),o.kcU(),o.TgZ(3,"span",28),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()}2&y&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"lang_auto_quay_lai")))}function oe(y,J){if(1&y&&(o.TgZ(0,"div",29),o._uU(1),o.qZA()),2&y){const Z=o.oxw(2);o.xp6(1),o.hij(" ",Z.headerTitle," ")}}function ie(y,J){if(1&y&&(o.TgZ(0,"div",14)(1,"div",15)(2,"div",16),o.YNc(3,ne,6,3,"button",17),o.qZA(),o.TgZ(4,"div",18)(5,"span",19),o._uU(6),o.qZA()(),o.TgZ(7,"div",15)(8,"div",20),o._UZ(9,"azt-switch-language"),o.qZA(),o.TgZ(10,"div",20),o._UZ(11,"header-notice-box",21),o.qZA(),o.TgZ(12,"div",22),o._UZ(13,"header-account-menu",23),o.qZA()()(),o.YNc(14,oe,2,1,"div",24),o.qZA()),2&y){const Z=o.oxw();o.xp6(3),o.Q6J("ngIf",""!=Z.headerBackToLink),o.xp6(3),o.hij(" ",Z.headerTitle," "),o.xp6(5),o.Q6J("role",1),o.xp6(2),o.Q6J("isTeacherDashboard",!1),o.xp6(1),o.Q6J("ngIf",Z.headerTitle)}}const U=function(y){return[y]},re=function(){return["/student/message"]};function ae(y,J){1&y&&(o.TgZ(0,"li")(1,"a",40),o.ALo(2,"navigationLocalize"),o.TgZ(3,"div",35),o.ALo(4,"mytranslate"),o.TgZ(5,"div",36),o._UZ(6,"lucide-icon",41),o.qZA()(),o.TgZ(7,"div",38),o._uU(8),o.ALo(9,"mytranslate"),o.qZA()()()),2&y&&(o.xp6(1),o.Q6J("routerLink",o.VKq(11,U,o.lcZ(2,5,"/student/message")))("changeActiveRouter",o.DdM(13,re)),o.xp6(2),o.s9C("matTooltip",o.lcZ(4,7,"lang_business_dashboard_business_messages")),o.Q6J("matTooltipPosition","right"),o.xp6(5),o.Oqu(o.lcZ(9,9,"lang_business_dashboard_business_messages")))}const se=function(){return["/student/classroom/0","/de-thi","/bai-tap","/test/","/auth/account-setting/","/notify","/student/add-teacher","/on-luyen","/student/classroom"]};function le(y,J){if(1&y&&(o.TgZ(0,"nav",30)(1,"a",31),o.ALo(2,"navigationLocalize"),o._UZ(3,"img",32),o.ALo(4,"getLinkLogo"),o.qZA(),o._UZ(5,"div",33),o.TgZ(6,"ul")(7,"li")(8,"a",34),o.ALo(9,"navigationLocalize"),o.TgZ(10,"div",35),o.ALo(11,"mytranslate"),o.TgZ(12,"div",36),o._UZ(13,"lucide-icon",37),o.qZA()(),o.TgZ(14,"div",38),o._uU(15),o.ALo(16,"mytranslate"),o.qZA()()(),o.YNc(17,ae,10,14,"li",39),o.qZA()()),2&y){const Z=o.oxw();o.xp6(1),o.Q6J("routerLink",o.VKq(18,U,o.lcZ(2,8,"/student/classroom/0"))),o.xp6(2),o.Q6J("src",o.lcZ(4,10,"smallLogo"),o.LSH),o.xp6(5),o.Q6J("routerLink",o.VKq(20,U,o.lcZ(9,12,"/student/classroom/0")))("changeActiveRouter",o.DdM(22,se)),o.xp6(2),o.s9C("matTooltip",o.lcZ(11,14,"lang_auto_danh_sach_lop")),o.Q6J("matTooltipPosition","right"),o.xp6(5),o.Oqu(o.lcZ(16,16,"lang_auto_danh_sach_lop")),o.xp6(2),o.Q6J("ngIf",Z.businessChatService.ready)}}const ce=function(){return["/student/classroom/0","/de-thi","/test/answer-test","/auth/account-setting/","/on-luyen/"]};function W(y,J){if(1&y){const Z=o.EpF();o.TgZ(0,"div",42)(1,"div",43)(2,"a",44),o.ALo(3,"navigationLocalize"),o._UZ(4,"img",32),o.ALo(5,"getLinkLogo"),o.qZA(),o.TgZ(6,"a",45),o.NdJ("click",function(){o.CHM(Z);const B=o.oxw();return o.KtG(B.openMenuMobile())}),o.O4$(),o.TgZ(7,"svg",46),o._UZ(8,"line",47)(9,"line",48)(10,"line",49),o.qZA()()(),o.kcU(),o.TgZ(11,"div",50)(12,"a",51),o.NdJ("click",function(){o.CHM(Z);const B=o.oxw();return o.KtG(B.closeMenuMobile())}),o.O4$(),o.TgZ(13,"svg",46),o._UZ(14,"circle",52)(15,"line",53)(16,"line",54),o.qZA()(),o.kcU(),o.TgZ(17,"ul",55)(18,"li")(19,"a",56),o.NdJ("click",function(){o.CHM(Z);const B=o.oxw();return o.KtG(B.closeMenuMobile())}),o.ALo(20,"navigationLocalize"),o.TgZ(21,"div",57)(22,"div",36),o._UZ(23,"lucide-icon",37),o.qZA()(),o.TgZ(24,"div",58),o._uU(25),o.ALo(26,"mytranslate"),o.qZA()()()()()()}2&y&&(o.xp6(2),o.Q6J("routerLink",o.VKq(13,U,o.lcZ(3,5,"/student/classroom/0"))),o.xp6(2),o.Q6J("src",o.lcZ(5,7,"smallLogo"),o.LSH),o.xp6(15),o.Q6J("routerLink",o.VKq(15,U,o.lcZ(20,9,"/student/classroom/0")))("changeActiveRouter",o.DdM(17,ce)),o.xp6(6),o.Oqu(o.lcZ(26,11,"lang_auto_danh_sach_lop")))}const me=["*"];let de=(()=>{class y extends C.Q{toggleDrawer(){this.chatBoxDrawer.toggle(),this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.chatBoxDrawer.isOpened()}))}goBack(){this.commonService.myNavigationBySpecialQueryString(this.headerBackToLink)}openMenuMobile(){document.getElementById("toggle-menu")?.classList.add("mobile-menu--active")}closeMenuMobile(){document.getElementById("toggle-menu")?.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),window.scrollTo(0,0),this.isLogin=this.userService.isLogin()}constructor(Z,Y,B,$,te,ue){super(),this.chatBoxDrawer=Z,this.browserStorageService=Y,this.mobileWebviewService=B,this.userService=$,this.businessChatService=te,this.sAztBusinessChatService=ue,this.headerBackToLink="",this.headerTitle="",this.isLogin=!1,this.willShowAIBox=!r.N.production||r.N.isProdAzotaVn,this.waitDestroy(this.mobileWebviewService.getWebviewBackToListenerSubscriber().subscribe(()=>{this.headerBackToLink&&this.goBack()})),this.sAztBusinessChatService.init()}}return y.\u0275fac=function(Z){return new(Z||y)(o.Y36(b.h),o.Y36(I.n),o.Y36(L.r),o.Y36(M.U),o.Y36(k.c),o.Y36(k.c))},y.\u0275cmp=o.Xpm({type:y,selectors:[["student-layout"]],inputs:{headerBackToLink:"headerBackToLink",headerTitle:"headerTitle"},features:[o.qOj],ngContentSelectors:me,decls:9,vars:1,consts:[["id","azt-layout","class","azt-layout",4,"ngIf"],["BodyContentTpl",""],["TopBarTpl",""],["DesktopMenuTpl",""],["mobileMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden","md:block"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar",3,"ngStyle"],[1,"azt-content"],[1,"block","w-full"],[1,"flex","items-center"],[1,"mr-auto"],["azt-track-service","student-layout-62Iv9eNFqL","class","btn btn-transparent",3,"click",4,"ngIf"],[1,"font-medium","flex-one","text-center"],[1,"azt-hidden","md:block"],[1,"dropdown","mr-2","sm:mr-4"],[3,"role"],[1,"dropdown","h-10","header-account-menu"],[3,"isTeacherDashboard"],["class","block md:hidden text-center pt-2 pb-2 font-medium",4,"ngIf"],["azt-track-service","student-layout-62Iv9eNFqL",1,"btn","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"block","md:hidden","text-center","pt-2","pb-2","font-medium"],[1,"side-nav","side-nav--simple"],["azt-track-service","student-layout-un9eQGSmiX",1,"flex","items-center","pl-5","pt-4","relative",3,"routerLink"],["alt","Azota",1,"w-10",3,"src"],[1,"side-nav__devider","my-6"],["azt-track-service","student-layout-B8HCRZRRkc",1,"side-menu",3,"routerLink","changeActiveRouter"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],[1,"w-6","h-6"],["name","layers"],[1,"side-menu__title"],[4,"ngIf"],["azt-track-service","student-layout-UwU4Yg5km",1,"side-menu",3,"routerLink","changeActiveRouter"],["name","mail"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],["azt-track-service","student-layout-mV8VG2juD5",1,"flex","mr-auto",3,"routerLink"],["azt-track-service","student-layout-vJI1vNSRRy",1,"mobile-menu-toggler",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","text-white","transform","-rotate-90"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"scrollable"],["azt-track-service","student-layout-_36C4dUavQE",1,"mobile-menu-toggler",3,"click"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"scrollable__content","py-2"],["azt-track-service","student-layout-ULLWHHZRD7-",1,"menu",3,"routerLink","changeActiveRouter","click"],[1,"menu__icon"],[1,"menu__title"]],template:function(Z,Y){1&Z&&(o.F$t(),o.YNc(0,ee,5,2,"div",0),o.YNc(1,z,1,0,"ng-template",null,1,o.W1O),o.YNc(3,ie,15,5,"ng-template",null,2,o.W1O),o.YNc(5,le,18,23,"ng-template",null,3,o.W1O),o.YNc(7,W,27,18,"ng-template",null,4,o.W1O)),2&Z&&o.Q6J("ngIf",Y.isLogin)},dependencies:[O.rH,p.O5,p.tP,p.PC,m.gM,d.e,c.f,f.Nh5,v.H,j.y,S.q,e.Jy,e.JV,e.LI],encapsulation:2}),y})()},97931:(R,D,s)=>{"use strict";s.d(D,{W:()=>d});var C=s(47496),r=s(65879),o=s(96814),b=s(77988),I=s(92596),L=s(70342),M=s(67742),k=s(36727);function O(c,f){if(1&c){const v=r.EpF();r.O4$(),r.kcU(),r.ynx(0),r.TgZ(1,"div",9)(2,"p",10),r._uU(3),r.ALo(4,"mytranslate"),r.qZA(),r.TgZ(5,"p",10),r._uU(6),r.ALo(7,"mytranslate"),r.qZA(),r.TgZ(8,"div",11),r._UZ(9,"input",12),r.TgZ(10,"button",13),r.NdJ("click",function(){r.CHM(v);const S=r.oxw();return r.KtG(S.showCopySuccess())}),r.O4$(),r.TgZ(11,"svg",14),r._UZ(12,"rect",15)(13,"path",16),r.qZA(),r._uU(14),r.ALo(15,"mytranslate"),r.qZA()()(),r.BQk()}if(2&c){const v=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,5,"lang_auto_hoac")),r.xp6(3),r.Oqu(r.lcZ(7,7,"lang_classroom_QR_join_link_copy")),r.xp6(3),r.Q6J("value",v.linkUrl),r.xp6(1),r.Q6J("cdkCopyToClipboard",v.copyLinkToClipboard(v.linkUrl)),r.xp6(4),r.hij(" ",r.lcZ(15,9,"lang_auto_sao_chep")," ")}}let p=(()=>{class c extends C.Q{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(v){return v}onChangeURL(v){this.qrCodeDownloadLink=v}downloadQrCode(){try{let v=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,v)}catch{console.log("Download QrCode error")}}}return c.\u0275fac=function(){let f;return function(j){return(f||(f=r.n5z(c)))(j||c)}}(),c.\u0275cmp=r.Xpm({type:c,selectors:[["azt-show-link"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[r.qOj],decls:11,vars:9,consts:[["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel","qrCodeURL"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2","intro-x"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"]],template:function(v,j){1&v&&(r.TgZ(0,"div",0),r.NdJ("click",function(e){return e.stopPropagation()}),r.TgZ(1,"div",1)(2,"qrcode",2),r.NdJ("qrCodeURL",function(e){return j.onChangeURL(e)}),r.qZA()(),r.TgZ(3,"a",3),r.NdJ("click",function(){return j.downloadQrCode()}),r.O4$(),r.TgZ(4,"svg",4),r._UZ(5,"path",5)(6,"polyline",6)(7,"line",7),r.qZA(),r._uU(8),r.ALo(9,"mytranslate"),r.qZA(),r.YNc(10,O,16,11,"ng-container",8),r.qZA()),2&v&&(r.xp6(2),r.Q6J("allowEmptyString",!0)("qrdata",j.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),r.xp6(6),r.hij(" ",r.lcZ(9,7,"lang_auto_tai_ve_may")," "),r.xp6(2),r.Q6J("ngIf",j.showLink))},dependencies:[o.O5,L.i3,M.V,k.JV],encapsulation:2}),c})();const m=function(c){return{"w-80":c}};let d=(()=>{class c extends C.Q{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1}}return c.\u0275fac=function(){let f;return function(j){return(f||(f=r.n5z(c)))(j||c)}}(),c.\u0275cmp=r.Xpm({type:c,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[r.qOj],decls:19,vars:10,consts:[["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["xPosition","before"],["showQrCode","matMenu"],[3,"ngClass"],[3,"linkUrl","fileName","showLink"]],template:function(v,j){if(1&v&&(r.TgZ(0,"button",0),r.ALo(1,"mytranslate"),r.O4$(),r.TgZ(2,"svg",1),r._UZ(3,"rect",2)(4,"rect",3)(5,"rect",4)(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13),r.qZA()(),r.kcU(),r.TgZ(15,"mat-menu",14,15)(17,"div",16),r._UZ(18,"azt-show-link",17),r.qZA()()),2&v){const S=r.MAs(16);r.s9C("matTooltip",r.lcZ(1,6,"lang_auto_quet_hoac_tai_ma_qr_code")),r.Q6J("matMenuTriggerFor",S),r.xp6(17),r.Q6J("ngClass",r.VKq(8,m,j.showLink)),r.xp6(1),r.Q6J("linkUrl",j.linkUrl)("fileName",j.fileName)("showLink",j.showLink)}},dependencies:[o.mk,b.VK,b.p6,I.gM,p,k.JV],encapsulation:2}),c})()},10217:function(R,D){var s,r;void 0!==(r="function"==typeof(s=function(){"use strict";function b(p,m,d){var c=new XMLHttpRequest;c.open("GET",p),c.responseType="blob",c.onload=function(){O(c.response,m,d)},c.onerror=function(){console.error("could not download file")},c.send()}function I(p){var m=new XMLHttpRequest;m.open("HEAD",p,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function L(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(m)}}var M="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,k=M.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),O=M.saveAs||("object"!=typeof window||window!==M?function(){}:"download"in HTMLAnchorElement.prototype&&!k?function(p,m,d){var c=M.URL||M.webkitURL,f=document.createElement("a");f.download=m=m||p.name||"download",f.rel="noopener","string"==typeof p?(f.href=p,f.origin===location.origin?L(f):I(f.href)?b(p,m,d):L(f,f.target="_blank")):(f.href=c.createObjectURL(p),setTimeout(function(){c.revokeObjectURL(f.href)},4e4),setTimeout(function(){L(f)},0))}:"msSaveOrOpenBlob"in navigator?function(p,m,d){if(m=m||p.name||"download","string"!=typeof p)navigator.msSaveOrOpenBlob(function o(p,m){return typeof m>"u"?m={autoBom:!1}:"object"!=typeof m&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p}(p,d),m);else if(I(p))b(p,m,d);else{var c=document.createElement("a");c.href=p,c.target="_blank",setTimeout(function(){L(c)})}}:function(p,m,d,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof p)return b(p,m,d);var f="application/octet-stream"===p.type,v=/constructor/i.test(M.HTMLElement)||M.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||f&&v||k)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var A=S.result;A=j?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=A:location=A,c=null},S.readAsDataURL(p)}else{var e=M.URL||M.webkitURL,F=e.createObjectURL(p);c?c.location=F:location.href=F,c=null,setTimeout(function(){e.revokeObjectURL(F)},4e4)}});M.saveAs=O.saveAs=O,R.exports=O})?s.apply(D,[]):s)&&(R.exports=r)}}]);