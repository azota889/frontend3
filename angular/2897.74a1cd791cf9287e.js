(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[2897],{48382:(tt,N,u)=>{"use strict";u.r(N),u.d(N,{TestFrontModule:()=>kg});var p=u(96814),c=u(56223),O=u(19347),d=u(21266),Q=u(42753),Z=u(67742),q=u(37722),C=u(21494),R=u(25391),x=u(95545),S=u(56731),z=u(84155),T=u(78217),E=u(24090),F=u(69530),U=u(82481),G=u(43048),A=u(52572),w=u(37734),I=u(6050),t=u(65879),j=u(80731),D=u(46558);let St=(()=>{class n{isInIframe(){try{return window.self!==window.top}catch{return!0}}sendMessageToParentIframe(e){try{window.parent.postMessage(e,"*")}catch{}}sendMessageToIFrame(e,i){const o=document.getElementById(e),a=o?o.contentWindow:null;a?.postMessage(i,"*")}constructor(e){this.commonService=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(D.z))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Qt=u(28872),W=u(92596),H=u(43389),ee=u(83306),ne=u(93523),st=u(28740),h=u(36727);function ie(n,s){if(1&n&&(t.TgZ(0,"student-layout",3),t.GkF(1,4),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(3);t.Q6J("headerBackToLink",e.backToLink),t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}function P(n,s){if(1&n&&(t.TgZ(0,"div",5),t.GkF(1,4),t.qZA()),2&n){t.oxw();const e=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function $(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",8),2&n){const e=t.oxw(2);t.Q6J("currentStatusObj",e.statusObj)}}function X(n,s){1&n&&(t.TgZ(0,"h3",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_danh_sach_de_thi")," "))}function rn(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function ln(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name," ")}}const _n=function(n){return{active:n}},cn=function(n){return{clickable:n}},un=function(n){return{"truncate-bread":n}};function mn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",22)(1,"a",23),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.goBackParent(a.id?a.id:0))}),t.TgZ(2,"span",24,25),t.ALo(4,"mytranslate"),t.YNc(5,rn,3,3,"span",26),t.YNc(6,ln,2,1,"span",26),t.qZA()()()}if(2&n){const e=s.$implicit,i=t.MAs(3),o=t.oxw(3);t.Q6J("ngClass",t.VKq(10,_n,e.id==o.categoryId)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,cn,e.id!=o.categoryId)),t.xp6(1),t.s9C("matTooltip",t.lcZ(4,8,e.name)),t.Q6J("ngClass",t.VKq(14,un,e.id!=o.categoryId))("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.xp6(3),t.Q6J("ngIf",-1==e.id),t.xp6(1),t.Q6J("ngIf",-1!=e.id)}}function dn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.cateDetail(a))}),t.TgZ(1,"div",28)(2,"div",29),t.O4$(),t.TgZ(3,"svg",30),t._UZ(4,"path",31)(5,"path",32)(6,"path",33)(7,"path",34),t.qZA()(),t.kcU(),t.TgZ(8,"div",35,25),t._uU(10),t.qZA()()()}if(2&n){const e=s.$implicit,i=t.MAs(9);t.xp6(8),t.s9C("matTooltip",e.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.xp6(2),t.hij(" ",e.name," ")}}function pn(n,s){if(1&n&&(t.TgZ(0,"div",52)(1,"span",53),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function gn(n,s){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"div",54),t.qZA())}function hn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.redirectToExamDetail(o.hashId?o.hashId:""))}),t.TgZ(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",29),t.O4$(),t.TgZ(5,"svg",43)(6,"g"),t._UZ(7,"path",44)(8,"path",45)(9,"rect",46)(10,"rect",47)(11,"rect",48)(12,"rect",49),t.qZA()()(),t.kcU(),t.TgZ(13,"div",35,25),t._uU(15),t.qZA(),t.TgZ(16,"div",50)(17,"span"),t._uU(18),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,pn,6,4,"div",51),t.YNc(22,gn,2,0,"div",51),t.qZA()()()()}if(2&n){const e=t.MAs(14),i=t.oxw().$implicit,o=t.oxw(3);t.s9C("target",o.target),t.xp6(13),t.s9C("matTooltip",i.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",i.name," "),t.xp6(3),t.Oqu(i.attended),t.xp6(1),t.hij(" ",t.lcZ(20,9,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=i.mark),t.xp6(1),t.Q6J("ngIf",null==i.mark)}}function fn(n,s){if(1&n&&(t.TgZ(0,"div",52)(1,"span",53),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function xn(n,s){if(1&n&&(t.TgZ(0,"a",55)(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",29),t.O4$(),t.TgZ(5,"svg",43)(6,"g"),t._UZ(7,"path",44)(8,"path",45)(9,"rect",46)(10,"rect",47)(11,"rect",48)(12,"rect",49),t.qZA()()(),t.kcU(),t.TgZ(13,"div",35,25),t._uU(15),t.qZA(),t.TgZ(16,"div",50)(17,"span"),t._uU(18),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,fn,6,4,"div",51),t.qZA()()()()),2&n){const e=t.MAs(14),i=t.oxw().$implicit,o=t.oxw(3);t.s9C("target",o.target),t.Q6J("href","/de-thi/"+i.hashId,t.LSH),t.xp6(13),t.s9C("matTooltip",i.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",i.name," "),t.xp6(3),t.Oqu(i.attended),t.xp6(1),t.hij(" ",t.lcZ(20,9,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=i.mark)}}function bn(n,s){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,hn,23,11,"a",37),t.YNc(2,xn,22,11,"a",38),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","_blank"!=e.target),t.xp6(1),t.Q6J("ngIf","_blank"==e.target)}}function vn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",9),t.YNc(1,X,3,3,"h3",10),t.TgZ(2,"div",11)(3,"ol",12)(4,"li",13)(5,"a",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.backToAllCate())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.YNc(8,mn,7,16,"li",15),t.qZA()(),t.TgZ(9,"div",16),t.YNc(10,dn,11,4,"div",17),t.YNc(11,bn,3,2,"div",18),t.qZA(),t.TgZ(12,"div",19)(13,"azt-paging",20),t.NdJ("goToPaginationPage",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToPage(o))}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isInIframe),t.xp6(5),t.hij(" ",t.lcZ(7,6,"lang_auto_tat_ca")," "),t.xp6(2),t.Q6J("ngForOf",e.listBreadcrumb),t.xp6(2),t.Q6J("ngForOf",e.cateObjs),t.xp6(1),t.Q6J("ngForOf",e.examObjs),t.xp6(2),t.Q6J("pageObj",e.pageObj)}}function Tn(n,s){if(1&n&&(t.YNc(0,$,1,1,"azt-loading-effect",6),t.YNc(1,vn,14,8,"ng-template",null,7,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",e)}}let wn=(()=>{class n extends w.Q{getListParentCate(){this.waitDestroy(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.categoryId).subscribe(e=>{1==e.success?this.listBreadcrumb=e.data?.objs??new Array:this.errorStatusObj(e.message??"",!0)}))}getData(){this.backToLink=0!=this.categoryId?"/test/category/"+this.tenantId+"/0/"+this.pageObj.page:"/student/classroom/0";var e=Number(this.commonService.getMyParam(this.activeRoute,"page"));this.pageObj.setPageNumber(e>0?e:1),this.initStatusObj(),this.waitDestroy(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.categoryId>0?this.categoryId:0,this.pageObj.page).subscribe(i=>{1==i.success?(this.cateObjs=i.data?.categoryObjs??new Array,this.examObjs=i.data?.examObjs??new Array,this.totalExam=i.data?.totalExam??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)):this.errorStatusObj(i.message??"",!0)}))}goToPage(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.categoryId+"/"+e)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e.id+"/1")}goBackParent(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e+"/1")}redirectToExamDetail(e){this.commonService.myNavigationWithQueryString(`/de-thi/${e}`,"?backto="+encodeURIComponent(this.paramBackToLink))}resizeHeight(){var e=document.body,i=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}checkHeight(){var e=document.body,i=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let e=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.categoryId}/${e}`,this.getData(),this.userLoginStateService.loginMessage.subscribe(i=>{this.changeLogin()}),this.commonService.translateMetaData({title:"lang_auto_danh_sach_de_thi",description:"lang_auto_danh_sach_de_thi"})})),super.ngOnInit()}constructor(e,i,o,a,r){super(),this.activeRoute=e,this.frontExamCategoryService=i,this.frontExamPageService=o,this.iframeService=a,this.userLoginStateService=r,this.totalExam=0,this.tenantId=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.categoryId=0,this.backToLink="",this.paramBackToLink="",this.pageObj=new I.m(18)}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(j.nf),t.Y36(j.Ty),t.Y36(St),t.Y36(Qt.u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-index"]],hostBindings:function(e,i){1&e&&t.NdJ("resize",function(a){return i.resizeHeight(a)},!1,t.Jf7)},features:[t.qOj],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["class","in-iframe",4,"ngIf"],["categoryTemplate",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[1,"in-iframe"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mt-5","mx-auto",2,"max-width","1200px"],["class","text-md uppercase font-medium",4,"ngIf"],[1,"box","p-3","mt-5"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","category--SCvgQNgc",3,"click"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["azt-track-service","category-P9OVEFAeM7","class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3",3,"click",4,"ngFor","ngForOf"],["class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3 cursor-pointer",4,"ngFor","ngForOf"],[1,"mt-3","p-2"],[3,"pageObj","goToPaginationPage"],[1,"text-md","uppercase","font-medium"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","category-4ZVvjZOwmm",3,"ngClass","click"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[4,"ngIf"],["azt-track-service","category-P9OVEFAeM7",1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3",3,"click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","h-full"],[1,"w-3/5","mx-auto"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 72 72",1,"w-full","h-full"],["fill","#95a5b9","d","M57.5,31h-23c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h23c1.4,0,2.5,1.1,2.5,2.5v10 C60,29.9,58.9,31,57.5,31z"],["fill","#6d7a91","d","M59.8,61H12.2C8.8,61,6,58,6,54.4V17.6C6,14,8.8,11,12.2,11h18.5c1.7,0,3.3,1,4.1,2.6L38,24h21.8 c3.4,0,6.2,2.4,6.2,6v24.4C66,58,63.2,61,59.8,61z"],["display","none","fill","#8AA3FF","d","M62.1,61H9.9C7.8,61,6,59.2,6,57c0,0,0-31.5,0-42c0-2.2,1.8-4,3.9-4h19.3 c1.6,0,3.2,0.2,3.9,2.3l2.7,6.8c0.5,1.1,1.6,1.9,2.8,1.9h23.5c2.2,0,3.9,1.8,3.9,4v31C66,59.2,64.2,61,62.1,61z"],["fill","#95a5b9","d","M7.7,59c2.2,2.4,4.7,2,6.3,2h45c1.1,0,3.2,0.1,5.3-2H7.7z"],[1,"block","font-medium","mt-4","text-center","truncate","w-full",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3","cursor-pointer"],["azt-track-service","category-36xAyNdE6R","class","flex h-full",3,"target","click",4,"ngIf"],["azt-track-service","category-QMZDKTOTgR","class","flex h-full",3,"href","target",4,"ngIf"],["azt-track-service","category-36xAyNdE6R",1,"flex","h-full",3,"target","click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","w-full"],[1,"box-title","text-center"],[1,"test","p-2","pl-3","pr-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 72 72",1,"w-full","h-full"],["d","M50,61H22a6,6,0,0,1-6-6V22l9-11H50a6,6,0,0,1,6,6V55A6,6,0,0,1,50,61Z",2,"fill","#599def"],["d","M25,20.556A1.444,1.444,0,0,1,23.556,22H16l9-11h0Z",2,"fill","#c2e1ff"],["x","27","y","31","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","36","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","41","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","46","width","12","height","2","rx","1","ry","1",2,"fill","#fff"],[1,"text-slate-500","text-xs","text-center","mt-0.5"],["class","mt-0.5",4,"ngIf"],[1,"mt-0.5"],[1,"text-center","font-medium"],[2,"height","16px"],["azt-track-service","category-QMZDKTOTgR",1,"flex","h-full",3,"href","target"]],template:function(e,i){1&e&&(t.YNc(0,ie,2,2,"student-layout",0),t.YNc(1,P,2,1,"div",1),t.YNc(2,Tn,3,2,"ng-template",null,2,t.W1O)),2&e&&(t.Q6J("ngIf",!i.isInIframe),t.xp6(1),t.Q6J("ngIf",i.isInIframe))},dependencies:[p.mk,p.sg,p.O5,p.tP,W.gM,H.l,ee.L,ne.Q,st.L,h.JV],encapsulation:2}),n})();var gt=u(45468),et=u(78953),Ot=u(71332),Sn=u(97931),lt=u(20553);function Cn(n,s){1&n&&(t.TgZ(0,"div",1),t._UZ(1,"ins",2),t.qZA())}let kn=(()=>{class n extends w.Q{ngAfterViewInit(){this.doNotShowAds||setTimeout(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){console.error("ads",e)}},900)}constructor(e){super(),this.commonService=e,this.doNotShowAds=this.isBusinessDomain||this.isMobileWebView||!lt.N.production||lt.N.isProdAzotaVn}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-test-bank-frontend-adsense"]],features:[t.qOj],decls:1,vars:1,consts:[["class","adsense-unit mx-auto text-center pt-3",4,"ngIf"],[1,"adsense-unit","mx-auto","text-center","pt-3"],["data-ad-client","ca-pub-5379822583140305","data-ad-slot","2369932214","data-ad-format","auto","data-full-width-responsive","true",1,"adsbygoogle",2,"display","block"]],template:function(e,i){1&e&&t.YNc(0,Cn,2,0,"div",0),2&e&&t.Q6J("ngIf",!i.doNotShowAds)},dependencies:[p.O5],encapsulation:2}),n})();var _t=u(84003),On=u(91675);function An(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",5)(2,"defs")(3,"linearGradient",6),t._UZ(4,"stop",7)(5,"stop",8)(6,"stop",9),t.qZA()(),t.TgZ(7,"g",10)(8,"g",11)(9,"path",12),t._UZ(10,"animateTransform",13),t.qZA(),t.TgZ(11,"circle",14),t._UZ(12,"animateTransform",13),t.qZA()()()()())}function yn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.getExamHistoryByHashId(!0))}),t.YNc(2,An,13,0,"span",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(4,2,"lang_exam_detail_show_exam_history")," ")}}function In(n,s){1&n&&(t.TgZ(0,"h3",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_exam_detail_no_exam_history")," "))}function Zn(n,s){1&n&&(t.TgZ(0,"h3",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_lich_su_lam_bai_cua_ban")," "))}function jn(n,s){if(1&n&&(t.TgZ(0,"span",41),t._UZ(1,"azt-check-mark",42),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.mark)}}function Mn(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"span",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,jn,2,1,"span",39),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function qn(n,s){1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":\xa0 "))}function Qn(n,s){1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function En(n,s){if(1&n&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function Ln(n,s){if(1&n&&(t.ynx(0),t.YNc(1,qn,3,3,"span",43),t.YNc(2,Qn,3,3,"span",43),t.YNc(3,En,2,1,"span",39),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark)}}function Fn(n,s){1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function zn(n,s){if(1&n&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function Pn(n,s){1&n&&(t.TgZ(0,"span",45),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function Un(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Fn,3,3,"span",43),t.YNc(2,zn,2,1,"span",39),t.YNc(3,Pn,3,3,"span",44),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark&&null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.essayMark)}}function Dn(n,s){1&n&&(t.TgZ(0,"span",41),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function Nn(n,s){if(1&n&&(t.TgZ(0,"div",38),t.YNc(1,Mn,5,4,"ng-container",2),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,Ln,4,3,"ng-container",2),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,Un,4,3,"ng-container",2),t.ALo(6,"isOnlyEssay"),t.YNc(7,Dn,3,3,"span",39),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,i.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,i.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,i.examObj)),t.xp6(2),t.Q6J("ngIf",null==e.mark)}}function Rn(n,s){1&n&&(t.TgZ(0,"div",38)(1,"span",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"span",41),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_chua_duoc_xem_diem")," "))}function Jn(n,s){if(1&n&&(t.TgZ(0,"div",31)(1,"p",25),t.O4$(),t.TgZ(2,"svg",46),t._UZ(3,"path",47)(4,"path",48),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",49),t._uU(8),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_so_luong_dung")," "),t.xp6(3),t.hij(" ",e.rightAnswer," ")}}const Yn=function(n){return[n]},Hn=function(n){return{backto:n}};function Bn(n,s){if(1&n&&(t.TgZ(0,"button",50),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",51),t._UZ(5,"polyline",52),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.Q6J("routerLink",t.VKq(7,Yn,t.lcZ(1,3,"/test/answer-test/"+i.curTenantId+"/"+(null!=i.curCategoryId?i.curCategoryId:0)+"/"+i.hashId+"/"+e.id)))("queryParams",t.VKq(9,Hn,i.backToLink)),t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_xem_chi_tiet_bai_lam")," ")}}function Gn(n,s){1&n&&(t.TgZ(0,"button",53),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.Q6J("disabled",!0),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}function Kn(n,s){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,Nn,8,10,"div",22),t.YNc(2,Rn,7,6,"div",22),t.TgZ(3,"div",23)(4,"div",24)(5,"p",25),t.O4$(),t.TgZ(6,"svg",26),t._UZ(7,"circle",27)(8,"polyline",28),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(11,"p",29),t._uU(12),t.qZA()(),t.YNc(13,Jn,9,4,"div",30),t.TgZ(14,"div",31)(15,"p",25),t.O4$(),t.TgZ(16,"svg",26),t._UZ(17,"circle",27)(18,"path",32)(19,"line",33),t.qZA(),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(22,"p",29),t._uU(23),t.qZA()()(),t.TgZ(24,"div",34),t.YNc(25,Bn,6,11,"button",35),t.YNc(26,Gn,3,4,"button",36),t.TgZ(27,"div",37),t._uU(28),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()),2&n){const e=s.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",2!=i.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==i.examObj.whenShowResult),t.xp6(7),t.hij(" ",t.lcZ(10,10,"lang_auto_thoi_gian_lam_bai"),":\xa0 "),t.xp6(3),t.hij(" ",i.calculateTime(e.startedTest,e.createdAt)," "),t.xp6(1),t.Q6J("ngIf",null!=e.rightAnswer&&2!=i.examObj.whenShowResult),t.xp6(7),t.hij(" ",t.lcZ(21,12,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",e.totalQuestion," "),t.xp6(2),t.Q6J("ngIf",!1!==i.examObj.allowStudentView),t.xp6(1),t.Q6J("ngIf",!1===i.examObj.allowStudentView),t.xp6(2),t.hij(" ",t.lcZ(29,14,e.createdAt)," ")}}function Wn(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Kn,30,16,"div",20),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.historyObjs)}}function Vn(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",5)(2,"defs")(3,"linearGradient",6),t._UZ(4,"stop",7)(5,"stop",8)(6,"stop",9),t.qZA()(),t.TgZ(7,"g",10)(8,"g",11)(9,"path",12),t._UZ(10,"animateTransform",13),t.qZA(),t.TgZ(11,"circle",14),t._UZ(12,"animateTransform",13),t.qZA()()()()())}function $n(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",56),t._UZ(2,"polyline",57),t.qZA()())}function Xn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",54)(1,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.pagingData())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Vn,13,0,"span",2),t.YNc(5,$n,3,0,"span",2),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_xem_them")," "),t.xp6(2),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading)}}function ti(n,s){if(1&n&&(t.ynx(0),t.YNc(1,In,3,3,"h3",15),t.YNc(2,Zn,3,3,"h3",16),t.YNc(3,Wn,2,1,"ng-container",2),t.YNc(4,Xn,6,5,"div",17),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.historyObjs.length),t.xp6(1),t.Q6J("ngIf",e.historyObjs.length>0),t.xp6(1),t.Q6J("ngIf",e.examObj&&e.historyObjs.length>0),t.xp6(1),t.Q6J("ngIf",!e.disableBtn&&e.initDataCalled)}}let ei=(()=>{class n extends w.Q{pagingData(){this.getExamHistoryByHashId()}calculateTime(e,i){return e?this.timeService.calculationTimeExamTested(e,i):""}getExamHistoryByHashId(e){this.initStatusObj(),this.waitDestroy(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(i=>{if(1==i.success){e&&(this.initDataCalled=!0);let o=i.data?.objs?i.data?.objs?.length:0;if(i.data?.objs)for(let a=0;a<o;a++)this.historyObjs.push(i.data.objs[a]??{});else this.initDataCalled=!0,this.errorStatusObj(i.message??"");this.page=i.data?.nextPage??"",i.data?.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(i.message??"")}))}ngOnInit(){this.backToLink=this.commonService.getCurrentUrlWithoutLocale()}constructor(e,i){super(),this.frontExamResultHistoryService=e,this.timeService=i,this.curTenantId=0,this.curCategoryId=0,this.backToLink="",this.historyObjs=[],this.page="",this.disableBtn=!1,this.initDataCalled=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.B3),t.Y36(_t.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",examObj:"examObj",curTenantId:"curTenantId",curCategoryId:"curCategoryId"},features:[t.qOj],decls:3,vars:2,consts:[[1,"exam-history","mx-auto","mt-5",2,"max-width","560px"],["class","mx-auto w-full",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","w-full"],["azt-track-service","exam-history-_84BMuODi",1,"btn","btn-outline-secondary","p-3","block","mx-auto",3,"click"],["width","20","viewBox","0 0 38 38","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","ml-2"],["x1","8.042%","y1","0%","x2","65.682%","y2","23.865%","id","a"],["stop-color","rgb(30, 41, 59)","stop-opacity","0","offset","0%"],["stop-color","rgb(30, 41, 59)","stop-opacity",".631","offset","63.146%"],["stop-color","rgb(30, 41, 59)","offset","100%"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)"],["d","M36 18c0-9.94-8.06-18-18-18","id","Oval-2","stroke","url(#a)","stroke-width","3"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","0.9s","repeatCount","indefinite"],["fill","rgb(30, 41, 59)","cx","36","cy","18","r","1"],["class","font-medium mx-auto",4,"ngIf"],["class","font-medium",4,"ngIf"],["class","mt-5 text-center",4,"ngIf"],[1,"font-medium","mx-auto"],[1,"font-medium"],["class","box mx-auto mt-5",4,"ngFor","ngForOf"],[1,"box","mx-auto","mt-5"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"p-5"],["azt-track-service","exam-history-1BV_WDkCER","class","btn btn-secondary w-full",3,"routerLink","queryParams",4,"ngIf"],["class","btn btn-secondary w-full",3,"disabled",4,"ngIf"],[1,"mt-3","text-right","text-slate-500"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],["class","font-medium text-lg","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[3,"mark"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-md","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md",2,"font-size","25px"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["azt-track-service","exam-history-1BV_WDkCER",1,"btn","btn-secondary","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","ml-2"],["points","9 18 15 12 9 6"],[1,"btn","btn-secondary","w-full",3,"disabled"],[1,"mt-5","text-center"],["azt-track-service","exam-history-tzgH_6R1Ki",1,"btn","btn-outline-secondary","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","ml-2","lucide"],["points","6 9 12 15 18 9"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,yn,5,4,"div",1),t.YNc(2,ti,5,4,"ng-container",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!i.initDataCalled),t.xp6(1),t.Q6J("ngIf",i.initDataCalled))},dependencies:[d.rH,p.sg,p.O5,On.B,h.Jy,h.JV,h.GU,h.iP,h.J_,h.$n],encapsulation:2}),n})();function ni(n,s){if(1&n&&(t.TgZ(0,"div",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasErrorMessage)," ")}}const ii=function(n,s){return{"monitor-height":n,"mobile-monitor":s}};function oi(n,s){if(1&n&&(t.TgZ(0,"div",28),t._UZ(1,"div",29,30),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(1,ii,!e.isMobileDevice,e.isMobileDevice))}}function ai(n,s){if(1&n&&(t.TgZ(0,"div",18)(1,"p",13)(2,"span",14),t._UZ(3,"lucide-icon",31),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"p",16),t._uU(7),t.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(9,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_auto_thoi_gian_vao_thi")," "),t.xp6(3),t.hij(" ",e.examObj.startTime?t.lcZ(8,4,e.examObj.startTime):t.lcZ(9,6,"lang_auto_khong_thoi_han")," ")}}function si(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_bat_dau_thi")," "))}function ri(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_start_practicing")," "))}function li(n,s){1&n&&(t.TgZ(0,"div",32)(1,"strong"),t._uU(2,"(*)"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_he_thong_chi_gui_hinh_anh_va_am_thanh_den_giao_vien")," "),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_auto_trong_qua_trinh_lam_bai_thi")),t.xp6(2),t.hij(" ",t.lcZ(9,8,"lang_auto__ngay_sau_khi_ket_thuc_bai_lam_he_thong_ngung_gui_du_lieu_du_lieu_thu_thap_chi_su_dung_phuc_vu_cho_cong_tac")," "),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang_auto_to_chuc_ky_thi")))}function _i(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h3",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"mytranslate"),t._UZ(7,"azt-download-qr-code",9),t.qZA(),t.YNc(8,oi,3,4,"div",10),t.TgZ(9,"div",11)(10,"div",12)(11,"p",13)(12,"span",14),t._UZ(13,"lucide-icon",15),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p",16),t._uU(17),t.ALo(18,"mytranslate"),t.ALo(19,"mytranslate"),t.qZA()(),t.YNc(20,ai,10,8,"div",17),t.TgZ(21,"div",18)(22,"p",13)(23,"span",14),t._UZ(24,"lucide-icon",19),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"p",16),t._uU(28),t.qZA()(),t.TgZ(29,"div",18)(30,"p",13)(31,"span",14),t._UZ(32,"lucide-icon",20),t.qZA(),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t.TgZ(35,"p",16),t._uU(36),t.ALo(37,"mytranslate"),t.qZA()(),t.TgZ(38,"div",18)(39,"p",13)(40,"span",14),t._UZ(41,"lucide-icon",21),t.qZA(),t._uU(42),t.ALo(43,"mytranslate"),t.qZA(),t.TgZ(44,"p",16),t._uU(45),t.ALo(46,"mytranslate"),t.qZA()()(),t.TgZ(47,"div",22)(48,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redirectToTakeTest())}),t.ALo(49,"isParentViewOnly"),t.YNc(50,si,3,3,"span",24),t.YNc(51,ri,3,3,"span",24),t.TgZ(52,"span",14),t._UZ(53,"lucide-icon",25),t.qZA()()(),t.YNc(54,li,13,12,"div",26),t.qZA(),t._UZ(55,"app-exam-history",27)(56,"azt-test-bank-frontend-adsense"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.examObj.name," "),t.xp6(2),t.hij(" ",t.lcZ(6,22,"lang_auto_ma_de_thi")+": "+e.examObj.hashId," "),t.xp6(2),t.Q6J("fileName","azota_exam_qr_code_"+e.examObj.hashId)("linkUrl",e.copyLinkToClipboard()),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&0!=e.examObj.autoMonitor),t.xp6(6),t.hij(" ",t.lcZ(15,24,"lang_testbank_tested_list_time_homework")," "),t.xp6(3),t.hij(" ",e.examObj.minutes&&e.examObj.minutes>0?e.examObj.minutes+" "+t.lcZ(18,26,"lang_auto_phut"):t.lcZ(19,28,"lang_auto_khong_gioi_han")," "),t.xp6(3),t.Q6J("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.xp6(5),t.hij(" ",t.lcZ(26,30,"lang_auto_so_luong_cau_hoi")," "),t.xp6(3),t.hij(" ",2==e.examObj.mixQuestion?e.examObj.limitMixQuestion:e.examObj.countQuestion," "),t.xp6(5),t.hij(" ",t.lcZ(34,32,"lang_auto_loai_de")," "),t.xp6(3),t.hij(" ",t.lcZ(37,34,e.getExamType(e.examObj))," "),t.xp6(6),t.hij(" ",t.lcZ(43,36,"lang_auto_so_luot_lam_de")," "),t.xp6(3),t.hij(" ",null==e.totalAttended?0:e.totalAttended+" "+t.lcZ(46,38,"lang_auto_luot")," "),t.xp6(3),t.Q6J("disabled",t.lcZ(49,40,"")),t.xp6(2),t.Q6J("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.xp6(1),t.Q6J("ngIf",1==e.examConfigObj.allowTestingEachQuestion),t.xp6(3),t.Q6J("ngIf",e.examObj.autoMonitor&&3==e.examObj.autoMonitor),t.xp6(1),t.Q6J("examObj",e.examObj)("curTenantId",e.curTenantId)("curCategoryId",e.curCategoryId)("hashId",e.hashId)}}let ci=(()=>{class n extends w.Q{copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/de-thi/${this.examObj?.hashId}`}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(1===this.examConfigObj.allowTestingEachQuestion?null!=this.curCategoryId?"/test/take-training/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.curTenantId+"/0/"+this.hashId:null!=this.curCategoryId?"/test/take-test/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-test/"+this.curTenantId+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}getExamType(e){return this.homeworkExamService.isOnlyEssay(e)?"lang_auto_tu_luan":this.homeworkExamService.isOnlyTrueFalse(e)?"lang_auto_trac_nghiem":"lang_auto_hon_hop"}getExamByHashId(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamGetExamObjGet(this.hashId).subscribe(e=>{if(1==e.success){if(this.hasErrorMessage=e.data?.errorMessage?e.data.errorMessage:"",this.examObj=e.data?.examObj,this.examConfigObj=e.data?.examConfigObj??{},this.totalAttended=e.data?.totalAttended??0,null!=this.examObj){this.curCategoryId=this.examObj.categoryId??0,this.curTenantId=this.examObj.tenantId??0;let i="";this.commonService.getTranslate("lang_auto_bat_dau_thi").subscribe(o=>{i=o}),this.commonService.translateMetaData({title:i+": "+this.examObj.name,description:this.examObj.name})}this.examObj?.autoMonitor&&3==this.examObj?.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}openVideoMonitor(){this.sAztShowMonitorService.monitorAtStudentDashboard(this.hashId,this.examObj)}ngOnInit(){this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.hashId=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString()??"";let e=this.commonService.getMyQueryParam("offline");if(e)return this.myNavigation(`/test/share-offline-result/${this.hashId}/${e}/-1`);this.password=this.commonService.getMyQueryParam("password")??"",this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=this.commonService.getMyQueryParam("backto")??"/student/classroom/0",this.getExamByHashId()})),super.ngOnInit()}constructor(e,i,o,a,r){super(),this.activeRoute=e,this.homeworkExamService=i,this.userService=o,this.frontExamService=a,this.sAztShowMonitorService=r,this.backToLink="",this.curTenantId=0,this.curCategoryId=0,this.hashId="",this.totalAttended=0,this.hasErrorMessage="",this.password="",this.examConfigObj={}}ngOnDestroy(){this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(gt.v),t.Y36(et.U),t.Y36(j.Tg),t.Y36(Ot.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-view"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[1,"relative"],["class","alert alert-danger mt-2",4,"ngIf"],["class","intro-y mt-8",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[1,"intro-y","mt-8"],[1,"box","mx-auto","mt-5","p-5",2,"max-width","560px"],[1,"text-lg","font-medium","text-center"],[1,"text-md","justify-center","font-medium","mt-2","flex","items-center"],[1,"pl-2","ml-2",3,"fileName","linkUrl"],["class","row my-2",4,"ngIf"],[1,"azt-info-exam","mt-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],[1,"w-4","h-4","mr-2"],["name","clock-4"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["name","help-circle"],["name","clipboard-type"],["name","users"],[1,"mt-5"],["azt-track-service","exam-details-OgNF7kiBSP",1,"btn","btn-pending","w-full","text-white",3,"disabled","click"],[4,"ngIf"],["name","chevron-right"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","curTenantId","curCategoryId","hashId"],[1,"row","my-2"],["id","monitorScreen",1,"self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["name","calendar-clock"],[1,"note-exam","mt-1"]],template:function(e,i){1&e&&(t.TgZ(0,"student-layout",0)(1,"div",1),t.YNc(2,ni,3,3,"div",2),t.YNc(3,_i,57,42,"div",3),t.qZA()()),2&e&&(t.Q6J("headerBackToLink",i.backToLink),t.xp6(2),t.Q6J("ngIf",""!=i.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==i.hasErrorMessage&&i.examObj))},dependencies:[p.mk,p.O5,Sn.W,kn,st.L,q.Nh5,ei,h.JV,h.$n,h._Y],encapsulation:2}),n})(),ui=(()=>{class n extends w.Q{ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[d.lC],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),n})();var Et=u(71518),At=u(89745),ke=u(45337),ct=u(10504),mi=u(20137),di=u(75270),pi=u(18224),gi=u(49649),hi=u(67428),yt=u(23655),Oe=u(77988),oe=u(32651),nt=u(74104),Lt=u(80034),fi=u(9409),xi=u(1976),ae=u(85161),bi=u(29578),it=u(72164),se=u(85929),vi=u(67898),Ti=u(6598),re=u(78497);function wi(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Si(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-mat-dialog-content")(1,"div",4),t._UZ(2,"azt-test-result-tracking",5),t.qZA()(),t.TgZ(3,"div",6)(4,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.dialogRef.close())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw();let i;t.xp6(2),t.Q6J("startQuestionIndex",null!==(i=null==e.examObj?null:e.examObj.startQuestionIndex)&&void 0!==i?i:1)("dataResultObjs",e.dataResultObjs)("dataScrollObjs",e.dataScrollObjs)("ipTrackingDataObjs",e.ipTrackingDataObjs),t.xp6(3),t.hij(" ",t.lcZ(6,5,"lang_auto_thoat")," ")}}let Ci=(()=>{class n extends it.e{getData(e){this.initStatusObj(),this.frontExamResultTrackService.apiFrontExamResultTrackGetObjGet(this.examHashId,e).subscribe(i=>{if(1==i.success){this.examObj=i.data?.examObj;var o=this.castJsonToObj(this.zipDataService.decodeContentGzip(i?.data?.examResultTrackObj?.trackData??""));o&&o&&([this.dataResultObjs,this.dataScrollObjs]=this.sAztTestResultTrackingService.processData(o)),this.ipTrackingDataObjs=i.data?.ipTracks??[],this.successStatusObj()}else this.errorStatusObj(i.message??"",!0);this.isLoading=!1})}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",description:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",image:"lang_cms_test_image"});let e=Number(this.data.examResultIdParam?.toString());this.examHashId=this.data.hashId??"",this.getData(e),super.ngOnInit()}constructor(e,i,o,a,r){super(r,a),this.frontExamResultTrackService=e,this.zipDataService=i,this.sAztTestResultTrackingService=o,this.dialogRef=a,this.data=r,this.dataResultObjs=[],this.dataScrollObjs=[],this.ipTrackingDataObjs=[],this.backToLink="",this.examHashId="",this.isLoading=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.uF),t.Y36(se.a),t.Y36(vi.W),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-front-result-tracking"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","scroll-menu-test",2,"height","calc(100vh - 200px)","min-height","75vh"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"p-3"],[3,"startQuestionIndex","dataResultObjs","dataScrollObjs","ipTrackingDataObjs"],[1,"mt-2","pt-2","pb-2","px-3","text-right","absolute","bottom-0","right-0"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,wi,1,1,"azt-loading-effect",1),t.YNc(2,Si,7,7,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",i.isLoading)("ngIfElse",o)}},dependencies:[p.O5,H.l,Ti.r,re.R,h.JV],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff;width:100vh;max-height:95vh;padding:.5rem 1.25rem 1.25rem;overflow-y:auto}"]}),n})();var ki=u(48830),Oi=u(37796),ot=u(49538);function Ai(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function yi(n,s){1&n&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_don_vi_kien_thuc")," "))}function Ii(n,s){if(1&n&&(t.TgZ(0,"td",18)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.hij(" ",e.title,"")}}function Zi(n,s){1&n&&(t.TgZ(0,"th",19)(1,"span",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_skill_statistical_total_question_completed")))}function ji(n,s){if(1&n&&(t.TgZ(0,"td",18)(1,"span",20),t._uU(2),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.hij(" ",e.numberOfQuestion,"")}}function Mi(n,s){1&n&&(t.TgZ(0,"th",19)(1,"span",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_skill_statistical_total_question_true")))}function qi(n,s){if(1&n&&(t.TgZ(0,"td",18)(1,"span",20),t._uU(2),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.hij(" ",e.numberOfCorrectQuestion,"")}}function Qi(n,s){1&n&&(t.TgZ(0,"th",19)(1,"span",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_ty_le")))}const Ei=function(n){return{"width.%":n}};function Li(n,s){if(1&n&&(t.TgZ(0,"td",18)(1,"div",21)(2,"div",22)(3,"span",23),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()()()),2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngStyle",t.VKq(9,Ei,e.numberOfQuestion?e.numberOfCorrectQuestion/e.numberOfQuestion*100:0)),t.xp6(2),t.Oqu(e.numberOfQuestion&&e.numberOfCorrectQuestion?t.Dn7(5,2,t.xi3(6,6,e.numberOfCorrectQuestion/e.numberOfQuestion*100,"1.0-2"),",",".")+"%":"")}}function Fi(n,s){1&n&&t._UZ(0,"tr",24)}function zi(n,s){1&n&&t._UZ(0,"tr",25)}function Pi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-mat-dialog-content",4)(1,"div")(2,"b"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"table",5),t.ynx(6,6),t.YNc(7,yi,3,3,"th",7),t.YNc(8,Ii,3,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,Zi,4,3,"th",10),t.YNc(11,ji,3,1,"td",8),t.BQk(),t.ynx(12,11),t.YNc(13,Mi,4,3,"th",10),t.YNc(14,qi,3,1,"td",8),t.BQk(),t.ynx(15,12),t.YNc(16,Qi,4,3,"th",10),t.YNc(17,Li,7,11,"td",8),t.BQk(),t.YNc(18,Fi,1,0,"tr",13),t.YNc(19,zi,1,0,"tr",14),t.qZA()(),t.TgZ(20,"div",15)(21,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.btnCloseDialog())}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("minHeight","200px"),t.xp6(3),t.Oqu(t.lcZ(4,7,"lang_testbank_frontend_student_skill_statistic_title")),t.xp6(2),t.Q6J("dataSource",e.objs),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(3),t.hij(" ",t.lcZ(23,9,"lang_auto_dong")," ")}}let Ae=(()=>{class n extends it.e{btnCloseDialog(){this.dialogRef.close()}initData(){this.sAztAzotaTrackingService.sendCustomEvent("CLICK_STUDENT_SKILL_STATISTIC",[]);let e=this.sAztUserService.getUserObj();this.initStatusObj(),this.waitDestroy(this.studentPracticeService.aiApiV1StudentPracticeTnthptProfileGet(e.id,this.data.examSchoolSubjectId).subscribe({next:i=>{this.objs=i.knowledgeItems??[],this.stopStatusObj()},error:i=>{this.errorStatusObj(i.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(e,i,o,a,r){super(r,a),this.sAztAzotaTrackingService=e,this.sAztUserService=i,this.studentPracticeService=o,this.dialogRef=a,this.objs=[],this.displayedColumns=["name","questionTotal","questionTrue","percent"]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ki.g),t.Y36(et.U),t.Y36(Oi.p),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["coazt-student-skill-statistic-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","p-3","skill-statistical"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"minHeight"],["mat-table","",1,"mat-elevation-z8","mt-2",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","questionTotal"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","questionTrue"],["matColumnDef","percent"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],[1,"btn","btn-secondary","w-32",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"text-center"],[1,"center-span"],[1,"progress"],[1,"progress-done",3,"ngStyle"],[1,"text-md","font-medium","span-baseline-middle"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ai,1,1,"azt-loading-effect",1),t.YNc(2,Pi,24,11,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[p.O5,p.PC,ot.BZ,ot.fO,ot.as,ot.w1,ot.Dz,ot.nj,ot.ge,ot.ev,ot.XQ,ot.Gk,H.l,re.R,p.JJ,h.JV,h.qY],encapsulation:2}),n})();var ye=u(43277),Ui=u(72269),ht=u(27161),Ct=u(2783),le=u(70342);let Di=(()=>{class n extends w.Q{copyLinkToClipboard(){return`${this.commonService.getCurrentDomainWithLanguage()}/admin/testbank/test-review/${this.examIdParam}/${this.userIdParam}/${this.studentIdParam}/${this.examResultIdParam??0}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-test-review-show-copy-link-button"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam"},features:[t.qOj],decls:4,vars:4,consts:[[1,"flex","items-center","mt-2"],["azt-track-service","show-copy-link-button-DYZc-0oRwh",1,"btn-text-primary","font-medium",3,"cdkCopyToClipboard","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.showCopySuccess()}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("cdkCopyToClipboard",i.copyLinkToClipboard()),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_auto_copy_link_gui_giao_vien")," "))},dependencies:[le.i3,h.JV],encapsulation:2}),n})();function Ni(n,s){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_combine_exam_component")+(i+1),":\xa0"),t.xp6(3),t.Oqu(e+(o.totalMarkSubject?"/"+t.xi3(5,4,o.totalMarkSubject/o.totalSubject,"1.0-2"):""))}}function Ri(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Ni,6,7,"div",10),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.examResultObj?null:e.examResultObj.subjectMarkValues)}}function Ji(n,s){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.lcZ(2,3,"lang_auto_cau_brackets"),"")}}function Yi(n,s){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.YNc(4,Ji,3,5,"span",12),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,3,"lang_auto_trac_nghiem"),": ",null!=e.examResultObj.trueFalseMark?e.examResultObj.trueFalseMark:t.lcZ(3,5,"lang_auto_chua_co_diem")," "),t.xp6(3),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function Hi(n,s){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.lcZ(2,3,"lang_auto_cau_brackets"),"")}}function Bi(n,s){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.YNc(3,Hi,3,5,"span",12),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,3,"lang_auto_trac_nghiem"),": ",e.examResultObj.mark," "),t.xp6(2),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function Gi(n,s){if(1&n&&(t.YNc(0,Yi,5,7,"div",7),t.YNc(1,Bi,4,5,"div",7)),2&n){const e=t.oxw();t.Q6J("ngIf",2!=(null==e.examObj?null:e.examObj.whenShowResult)&&e.trueFalseChoiceQuestionObjs.length>0&&e.examResultObj&&e.examResultObj.totalQuestion&&!e.viewPractice),t.xp6(1),t.Q6J("ngIf",e.examResultObj&&e.examResultObj.totalQuestion&&e.viewPractice)}}function Ki(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.HOy(" ",t.lcZ(2,4,"lang_auto_tu_luan"),": ",null==e.examResultObj?null:e.examResultObj.essayMark," (",e.essayQuestionObjs.length," ",t.lcZ(3,6,"lang_auto_cau_brackets")," ")}}function Wi(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",15),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_tu_luan"),": "),t.xp6(3),t.Oqu(t.lcZ(5,6,"lang_auto_chua_cham")),t.xp6(2),t.AsE(" (",e.essayQuestionObjs.length," ",t.lcZ(7,8,"lang_auto_cau_brackets")," ")}}function Vi(n,s){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,Ki,4,8,"span",14),t.YNc(2,Wi,8,10,"span",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.examResultObj?null:e.examResultObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!(null!=e.examResultObj&&e.examResultObj.confirmedAt))}}function $i(n,s){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_so_file_da_nop"),": ",e.files.length," ")}}function Xi(n,s){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_so_lan_thoat_man_hinh"),": ",e.examTracks.exitFullScreen," ")}}function to(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clickResultTrack())}),t.O4$(),t.TgZ(4,"svg",17),t._UZ(5,"path",18)(6,"polyline",19)(7,"circle",20)(8,"path",21),t.qZA()()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xem_chi_tiet_qua_trinh_lam_bai"),": "))}function eo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showResultInfors())}),t.O4$(),t.TgZ(4,"svg",23),t._UZ(5,"circle",24)(6,"path",25)(7,"path",26)(8,"path",27),t.qZA()()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_show_infos_test_submit"),": "))}function no(n,s){if(1&n&&t._UZ(0,"app-testbank-test-review-show-copy-link-button",28),2&n){const e=t.oxw();t.Q6J("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)}}let io=(()=>{class n extends w.Q{get checkHasType1Question(){let e=!1;for(let i=0;i<(this.questionObjs?.length??0);i++)if(this.answerTypeService.isOneChoiceAnswer(this.questionObjs?.[i])){e=!0;break}return e}showResultInfors(){this.sAztDialogService.open(Ui.p,{width:"500px",data:this.resultInfos,restoreFocus:!1})}clickResultTrack(){this.sAztDialogService.open(Ci,{width:"750px",data:{examResultIdParam:this.examResultIdParam,hashId:this.examObj?.hashId},restoreFocus:!1})}showStudentSkillStatisticDialog(){32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId?this.sAztDialogService.open(ye.y,{width:"100vw",data:{subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:this.studentObj?.parentId??0},restoreFocus:!1}):this.sAztDialogService.open(Ae,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.totalSubject=this.examResultObj?.subjectMarkValues?.length??3,this.totalMarkSubject=this.examResultObj?.examResultStatisticObj?.examQuestionStatisticObj?.totalMark??0}constructor(e,i){super(),this.answerTypeService=e,this.sAztDialogService=i,this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.files=[],this.historyExamResultObjs=[],this.resultInfos=[],this.viewPractice=!1,this.totalSubject=3,this.totalMarkSubject=30}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ht.i),t.Y36(Ct.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-test-review-show-detail-info-for-student"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam",offlineHashIdParam:"offlineHashIdParam",studentObj:"studentObj",examObj:"examObj",examResultObj:"examResultObj",markedByObj:"markedByObj",questionObjs:"questionObjs",essayQuestionObjs:"essayQuestionObjs",trueFalseChoiceQuestionObjs:"trueFalseChoiceQuestionObjs",files:"files",historyExamResultObjs:"historyExamResultObjs",examTracks:"examTracks",resultInfos:"resultInfos",viewPractice:"viewPractice"},features:[t.qOj],decls:20,vars:14,consts:[[1,"info-exam-online"],[1,"rounded-md","bg-slate-200","dark:bg-darkmode-400","p-3",2,"border-bottom-left-radius","0","border-bottom-right-radius","0"],[1,"flex","items-center"],[1,"text-md"],[1,"info-exam-body","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2",2,"border-top-left-radius","0","border-top-right-radius","0"],[4,"ngIf","ngIfElse"],["showNormalMark",""],["class","flex items-center mt-2",4,"ngIf"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam",4,"ngIf"],[1,"btn","btn-success-soft","w-full","mt-2",3,"click"],["class","flex items-center mt-2",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-2"],["class","ml-2",4,"ngIf"],[1,"ml-2"],[4,"ngIf"],[1,"text-pending"],["azt-track-service","show-detail-info-box-for-student-yw3gtIAU5N",1,"btn-text-primary","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["d","M16 22h2c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3"],["points","14 2 14 8 20 8"],["cx","8","cy","16","r","6"],["d","M9.5 17.5 8 16.25V14"],["azt-track-service","show-detail-info-box-for-student-d5Ae8h9_DU",1,"btn-text-primary","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["cx","12","cy","12","r","10"],["d","M17 12h.01"],["d","M12 12h.01"],["d","M7 12h.01"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()(),t.TgZ(7,"div",4),t.YNc(8,Ri,2,1,"ng-container",5),t.YNc(9,Gi,2,2,"ng-template",null,6,t.W1O),t.YNc(11,Vi,3,2,"div",7),t.YNc(12,$i,3,4,"div",7),t.YNc(13,Xi,3,4,"div",7),t.YNc(14,to,9,3,"div",7),t.YNc(15,eo,9,3,"div",7),t.YNc(16,no,1,4,"app-testbank-test-review-show-copy-link-button",8),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return i.showStudentSkillStatisticDialog()}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()),2&e){const o=t.MAs(10);t.xp6(5),t.hij(" ",t.lcZ(6,10,"lang_auto_thong_tin_chi_tiet")," "),t.xp6(3),t.Q6J("ngIf",2!=(null==i.examObj?null:i.examObj.whenShowResult)&&(null==i.examObj?null:i.examObj.subjectMarks)&&(null==i.examResultObj||null==i.examResultObj.subjectMarkValues?null:i.examResultObj.subjectMarkValues.length))("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",2!=(null==i.examObj?null:i.examObj.whenShowResult)&&i.essayQuestionObjs.length),t.xp6(1),t.Q6J("ngIf",i.essayQuestionObjs.length),t.xp6(1),t.Q6J("ngIf",i.examTracks&&0!=(null==i.examObj?null:i.examObj.autoMonitor)),t.xp6(1),t.Q6J("ngIf",2!=(null==i.examObj?null:i.examObj.whenShowResult)&&i.checkHasType1Question&&!i.offlineHashIdParam&&i.trueFalseChoiceQuestionObjs.length>0&&(null==i.examResultObj?null:i.examResultObj.totalQuestion)&&!i.viewPractice),t.xp6(1),t.Q6J("ngIf",i.resultInfos.length&&!i.viewPractice),t.xp6(1),t.Q6J("ngIf",!i.viewPractice),t.xp6(2),t.hij(" ",t.lcZ(19,12,"lang_testbank_frontend_student_skill_statistic_button")," ")}},dependencies:[p.sg,p.O5,Di,p.JJ,h.JV],encapsulation:2}),n})();function oo(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):""):t.lcZ(2,1,"lang_auto_chua_co_diem"))}}function ao(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"/10"):t.lcZ(2,1,"lang_auto_chua_co_diem"))}}function so(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_duoc_xem")))}let ro=(()=>{class n extends w.Q{ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e,this.viewPractice=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-test-review-show-mark-info-of-student"]],inputs:{examObj:"examObj",examResultObj:"examResultObj",viewPractice:"viewPractice"},features:[t.qOj],decls:7,vars:6,consts:[[1,"font-medium","text-lg","flex","items-center"],[1,"mr-3"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,oo,3,3,"span",2),t.YNc(5,ao,3,3,"span",2),t.YNc(6,so,3,3,"span",2),t.qZA()),2&e&&(t.xp6(2),t.hij("",t.lcZ(3,4,"lang_auto_diem_cuoi"),": "),t.xp6(2),t.Q6J("ngIf",2!=(null==i.examObj?null:i.examObj.whenShowResult)&&!i.viewPractice),t.xp6(1),t.Q6J("ngIf",2!=(null==i.examObj?null:i.examObj.whenShowResult)&&i.viewPractice),t.xp6(1),t.Q6J("ngIf",2==(null==i.examObj?null:i.examObj.whenShowResult)))},dependencies:[p.O5,h.JV],encapsulation:2}),n})();var lo=u(51614);const _o=["drawer"];function co(n,s){1&n&&(t.TgZ(0,"div",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_du_lieu_nop_bai")," "))}function uo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.sAztMatDrawerService.openDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",30),t._UZ(3,"rect",31)(4,"path",32)(5,"path",33),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_mo_menu"))}function mo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.sAztMatDrawerService.closeDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",30),t._UZ(3,"rect",31)(4,"path",32)(5,"path",35),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_dong_menu"))}function po(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"span",37),t._UZ(3,"lucide-icon",38),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_answer_test_must_reach_mark_to_show_answer_1")+(null==e.examConfigObj?null:e.examConfigObj.viewAnswerResultMinMark)+t.lcZ(7,3,"lang_answer_test_must_reach_mark_to_show_answer_2"))}}function go(n,s){if(1&n&&t._UZ(0,"azt-loaded-img",45),2&n){const e=t.oxw(3);t.Q6J("imgSrc",null==e.examObj?null:e.examObj.examHeader)}}function ho(n,s){if(1&n&&(t.TgZ(0,"div",46),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_tong_so_cau_dung")," ",null==e.examResultObj?null:e.examResultObj.rightAnswer,".")}}function fo(n,s){if(1&n&&(t.TgZ(0,"div",46),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);let i;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_tong_so_cau_sai")," ",(null!==(i=null==e.examResultObj?null:e.examResultObj.totalQuestion)&&void 0!==i?i:0)-e.essayQuestionObjs.length-(null!==(i=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==i?i:0),". ")}}const xo=function(n,s){return{correct:n,incorrect:s}};function bo(n,s){if(1&n&&t._UZ(0,"azt-question-standalone-for-student-at-review-page",48),2&n){const e=t.oxw(),i=e.$implicit,o=e.index,a=t.oxw(3);t.Q6J("examObj",a.examObj)("examConfig",a.examConfigObj)("questionObj",i)("curQuestionIndex",o)("follower",a.followerRenderQuest)("isOfflineMark",!(null==a.initDataResult||null==a.initDataResult.data||!a.initDataResult.data.offlineMarkObj))("userAnswersObj",a.userAnswersObj)("curExamResultId",a.examResultIdParam)("currentTab","multiple_choice_tab")("ngClass",t.WLB(10,xo,null==i?null:i.correctAnswer,!i.correctAnswer))}}function vo(n,s){if(1&n&&t.YNc(0,bo,1,13,"azt-question-standalone-for-student-at-review-page",47),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.examObj)}}function To(n,s){if(1&n&&(t.TgZ(0,"mat-tab",39),t.ALo(1,"mytranslate"),t.TgZ(2,"div")(3,"div",40)(4,"div",41),t.YNc(5,go,1,1,"azt-loaded-img",42),t.YNc(6,ho,3,4,"div",43),t.YNc(7,fo,3,4,"div",43),t.YNc(8,vo,1,1,"ng-template",44),t.qZA()()()()),2&n){const e=t.oxw(2);t.s9C("label",t.lcZ(1,8,"lang_auto_trac_nghiem")),t.xp6(2),t.Tol(e.viewOption),t.xp6(3),t.Q6J("ngIf",null==e.examObj?null:e.examObj.examHeader),t.xp6(1),t.Q6J("ngIf","viewRight"==e.viewOption),t.xp6(1),t.Q6J("ngIf","viewWrong"==e.viewOption),t.xp6(1),t.Q6J("ngForOf",e.questionObjs)}}function wo(n,s){if(1&n&&t._UZ(0,"azt-mark-essay-new",55),2&n){const e=t.oxw(4);let i;t.Q6J("examObj",e.examObj)("examConfig",e.examConfigObj)("showForTeacher",!1)("curSelectedTab",e.curSelectedTab)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("files",e.files)("resultID",null!==(i=e.examResultIdParam)&&void 0!==i?i:0)}}function So(n,s){if(1&n&&(t.ynx(0),t.YNc(1,wo,1,9,"azt-mark-essay-new",54),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",1==e.curSelectedTab)}}function Co(n,s){if(1&n&&t._UZ(0,"azt-mark-essay",56),2&n){const e=t.oxw(3);let i;t.Q6J("examObj",e.examObj)("examConfig",e.examConfigObj)("showForTeacher",!1)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("resultID",null!==(i=e.examResultIdParam)&&void 0!==i?i:0)("files",e.files)("iframeViewMode","view")("hasLoadedData",e.hasLoadedData)}}function ko(n,s){if(1&n&&(t.TgZ(0,"mat-tab",49),t.ALo(1,"mytranslate"),t.TgZ(2,"div",50)(3,"div",51),t.YNc(4,So,2,1,"ng-container",52),t.YNc(5,Co,1,10,"ng-template",null,53,t.W1O),t.qZA()()()),2&n){const e=t.MAs(6),i=t.oxw(2);t.s9C("label",t.lcZ(1,3,"lang_auto_tu_luan")),t.xp6(4),t.Q6J("ngIf",i.checkMarkNote)("ngIfElse",e)}}const Oo=function(n,s){return{"w-85":n,"w-25":s}},Ao=function(n){return{"azt-mobile-draw-left":n}},yo=function(){return[]},Io=function(n){return{"ml-5":n}};function Zo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-drawer-container",5)(1,"mat-drawer",6,7),t.NdJ("closedStart",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeStatusNav())}),t.TgZ(3,"div",8)(4,"div",9)(5,"div",10),t._UZ(6,"app-testbank-test-review-show-mark-info-of-student",11),t.qZA(),t.TgZ(7,"div",12),t._UZ(8,"app-testbank-test-review-show-detail-info-for-student",13)(9,"app-testbank-show-offline-result",14),t.ALo(10,"mytranslate"),t.qZA()(),t._UZ(11,"azt-practice-box",15),t.qZA()(),t.TgZ(12,"mat-drawer-content")(13,"div",16)(14,"div",17)(15,"div",18),t.YNc(16,uo,6,3,"button",19),t.YNc(17,mo,6,3,"button",20),t.TgZ(18,"div",21),t._uU(19),t.qZA(),t.TgZ(20,"div",22),t.GkF(21,23),t.qZA()(),t.YNc(22,po,8,5,"ng-container",24),t.TgZ(23,"div",25)(24,"mat-tab-group",26),t.NdJ("selectedTabChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onTabChanged(o))})("selectedIndexChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.curSelectedTab=o)}),t.YNc(25,To,9,10,"mat-tab",27),t.YNc(26,ko,7,5,"mat-tab",28),t.qZA()()()()()()}if(2&n){const e=t.oxw(),i=t.MAs(5);let o,a;t.Q6J("hasBackdrop",e.sAztMatDrawerService.hasBackdrop),t.xp6(1),t.s9C("opened",e.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Q6J("ngClass",t.WLB(52,Oo,e.isMobileDevice,!e.isMobileDevice))("mode",e.sAztMatDrawerService.mode),t.xp6(2),t.Q6J("ngClass",t.VKq(55,Ao,e.isMobileDevice)),t.xp6(3),t.Q6J("examObj",e.examObj)("examResultObj",e.examResultObj)("viewPractice",e.viewPractice),t.xp6(2),t.Q6J("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("offlineHashIdParam",e.offlineHashIdParam)("viewPractice",e.viewPractice)("studentObj",e.studentObj)("examObj",e.examObj)("examResultObj",e.examResultObj)("markedByObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.markedByObj)("questionObjs",e.questionObjs)("essayQuestionObjs",e.essayQuestionObjs)("trueFalseChoiceQuestionObjs",e.trueFalseChoiceQuestionObjs)("files",e.files)("historyExamResultObjs",null!==(o=null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.historyExamResultObjs)&&void 0!==o?o:t.DdM(57,yo))("examTracks",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.examTracks)("resultInfos",e.resultInfos),t.xp6(1),t.Q6J("backToLink",e.backToLink)("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("examObj",e.examObj)("essayExam",!!e.essayQuestionObjs.length)("essayMark",null!=e.examResultObj&&e.examResultObj.confirmedAt?(null!==(a=null==e.examResultObj?null:e.examResultObj.essayMark)&&void 0!==a?a:0).toString():t.lcZ(10,50,"lang_auto_chua_cham"))("questionObjs",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.questionObjs)("offlineMarkObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMarkObj)("offlineMixQuestionObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMixQuestionObj)("isDeletableExamResultObj",!1),t.xp6(2),t.Q6J("showLikeMobile",!0)("resultId",e.examResultIdParam)("webPage","STUDENT_VIEW_RESULT"),t.xp6(2),t.Q6J("ngClass",t.VKq(58,Io,!e.isMobileDevice&&e.sAztMatDrawerService.isOpenSideNav)),t.xp6(3),t.Q6J("ngIf",!e.sAztMatDrawerService.isOpenSideNav||e.isMobileDevice),t.xp6(1),t.Q6J("ngIf",e.sAztMatDrawerService.isOpenSideNav&&!e.isMobileDevice),t.xp6(1),t.s9C("matTooltip",null==e.examObj?null:e.examObj.name),t.xp6(1),t.hij(" ",null==e.examObj?null:e.examObj.name," "),t.xp6(2),t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("ngIf","lang_core_dont_allow_show_answer_by_min_mark"==e.errorMessage),t.xp6(2),t.Q6J("selectedIndex",e.curSelectedTab),t.xp6(1),t.Q6J("ngIf",e.trueFalseChoiceQuestionObjs.length>0),t.xp6(1),t.Q6J("ngIf",e.essayQuestionObjs.length>0&&e.examObj&&e.examResultObj)}}function jo(n,s){1&n&&(t.TgZ(0,"button",73)(1,"span",74),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_sai")," "))}function Mo(n,s){1&n&&(t.TgZ(0,"button",75)(1,"span",74),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_dung")," "))}function qo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",57),t.YNc(1,jo,4,3,"button",58),t.YNc(2,Mo,4,3,"button",59),t.TgZ(3,"button",60),t.O4$(),t.TgZ(4,"svg",61),t._UZ(5,"polygon",62),t.qZA(),t.kcU(),t.TgZ(6,"span",63),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"mat-menu",64,65)(11,"div",66)(12,"ul",67)(13,"li")(14,"label",68),t._uU(15),t.ALo(16,"mytranslate"),t.TgZ(17,"div",69)(18,"input",70),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeViewOption("viewRight"))})("click",function(o){return o.stopPropagation()}),t.qZA()()()(),t.TgZ(19,"li")(20,"label",71),t._uU(21),t.ALo(22,"mytranslate"),t.TgZ(23,"div",69)(24,"input",72),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeViewOption("viewWrong"))})("click",function(o){return o.stopPropagation()}),t.qZA()()()()()()()}if(2&n){const e=t.MAs(10),i=t.oxw();t.xp6(1),t.Q6J("ngIf","viewWrong"===i.viewOption),t.xp6(1),t.Q6J("ngIf","viewRight"===i.viewOption),t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.hij(" ",t.lcZ(8,8,"lang_testbank_tested_list_sort")," "),t.xp6(8),t.hij(" ",t.lcZ(16,10,"lang_auto_cau_dung")," "),t.xp6(3),t.Q6J("checked","viewRight"==i.viewOption),t.xp6(3),t.hij(" ",t.lcZ(22,12,"lang_auto_cau_sai")," "),t.xp6(3),t.Q6J("checked","viewWrong"==i.viewOption)}}let Ie=(()=>{class n extends w.Q{set drawer(e){this.sAztMatDrawerService.resizeDrawerHeight(!0,e)}onResize(e){this.isMobileDevice=e.target.innerWidth<980,this.sAztMatDrawerService.changeToMobileMode(this.isMobileDevice)}changeStatusNav(){this.isMobileDevice&&(document.body.style.overflow="auto")}onChangeViewOption(e){this.viewOption=this.viewOption==e?"viewAll":e}onTabChanged(e){this.matTabGroupIndex=e.index}checkingShowAnswerConfig(){return!(!this.examConfigObj||!this.examResultObj||3!=this.examObj?.whenShowAnswer||!(this.examResultObj.mark&&this.examConfigObj.viewAnswerResultMinMark&&this.examResultObj.mark<this.examConfigObj.viewAnswerResultMinMark))}getQuestionCanFeedback(){if(Array.isArray(this.questionObjs)){let e=[];this.questionObjs.forEach(i=>{i.id&&!this.commonService.isExistInArray(e,i.id)&&e.push(i.id)}),this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(Number(this.examIdParam),e.join(",")).subscribe(i=>{if(1==i.success){let o=i.data?.objs??[];if(Array.isArray(this.questionObjs))for(let a=0;a<this.questionObjs.length;a++)o.forEach(r=>{this.questionObjs&&this.questionObjs[a].id==r.questionId&&(this.questionObjs[a].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}else this.stopStatusObj()}processConvertData(e){if(e.data){this.studentObj=this.testReviewService.mapStudentObjWithTestedObjForFrontendStudent(e.data,this.testedUserObjs,this.studentObj),this.examObj=e?.data?.examObj,this.examResultObj=e?.data?.examResultObj,this.examConfigObj=e?.data?.examConfigObj,this.files=this.commonService.myParseJson(this.examResultObj?.files??"")??[],this.resultInfos=this.commonService.willDeleteParseJson(this.examResultObj?.infors??"")??[],this.errorMessage=e?.data?.errorMessage??"";const i=this.commonService.castJsonToClassObjs(At.v,JSON.stringify(e.data.questionObjs??[]));this.followerRenderQuest.setNumQuest(i?.length||0),this.questionObjs=i,this.questionObjs?.forEach(_=>{_.correctAnswer=this.commonService.isExistInArray(e?.data?.correctQuestionIds,_.id),_.isRoleTeacher=!1}),this.docxService.replaceCanvasBackgroundTS(this.questionObjs??[]),this.questionObjs=this.testReviewService.addIndexLabelToQuestionObjs(this.questionObjs),this.essayQuestionObjs=this.testReviewService.getEssayQuestionObjs(this.questionObjs),this.trueFalseChoiceQuestionObjs=this.testReviewService.getTrueFalseQuestionObjs(this.questionObjs),0==this.trueFalseChoiceQuestionObjs.length&&(this.curSelectedTab=1),this.userAnswersObj=this.testReviewService.convertAnswersArr(this.castJsonToObj(e.data.examResultObj?.answers??"")??[]);let o=0,a=0;this.questionObjs?.forEach((_,m)=>{_.labelIndex=m,this.examConfigObj?.resetQuestionIndex&&_.groupInfo&&_.groupInfo.groupId&&(o!=_.groupInfo.groupId&&(o=_.groupInfo.groupId,a=0),_.labelIndex=a,a++)},this.questionObjs),this.examResultIdParam=this.examResultObj?.id??0,this.examIdParam=this.examObj?.id?.toString()??"0",this.userIdParam=this.examResultObj?.userId?.toString()??"0",this.studentIdParam=this.examResultObj?.studentId?.toString()??this.studentObj?.id.toString()??"0",this.getQuestionCanFeedback(),this.hasLoadedData=!0;const r=this.envService.getVersionMarkNote(this.envService.getEnvValue("classliveUrl")??""),l=1e6;if(this.examResultObj?.result){const _=this.castJsonToObj(this.examResultObj?.result??"");this.checkMarkNote=!(!_||!_.urlDataMark)}else this.checkMarkNote=r>l}}ngOnInit(){this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.offlineHashIdParam=this.commonService.getMyQueryParam("offline"),this.examResultIdParam=Number(this.activeRoute.snapshot.paramMap.get("result_id")),this.userIdParam=this.activeRoute.snapshot.paramMap.get("user_id")??void 0,this.studentIdParam=this.activeRoute.snapshot.paramMap.get("student_id")??void 0,this.examIdParam=this.activeRoute.snapshot.paramMap.get("exam_id")??void 0,this.initDataResult&&this.processConvertData(this.initDataResult)})),this.answerBoxService.switchEssayTabMessage.subscribe(e=>{e&&(this.curSelectedTab=1,setTimeout(()=>{window.scroll(0,0)},0))}),super.ngOnInit()}constructor(e,i,o,a,r,l,_,m){super(),this.activeRoute=e,this.docxService=i,this.envService=o,this.testReviewService=a,this.answerBoxService=r,this.exportResultService=l,this.testMarketFeedbackService=_,this.sAztMatDrawerService=m,this.viewPractice=!1,this.curSelectedTab=0,this.backToLink="",this.examResultIdParam=0,this.viewOption="viewAll",this.matTabGroupIndex=0,this.userAnswersObj={},this.files=[],this.resultInfos=[],this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.followerRenderQuest=new ct.p,this.hasLoadedData=!1,this.checkMarkNote=!1,this.errorMessage=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(mi.n),t.Y36(di.h),t.Y36(pi.t),t.Y36(gi.z),t.Y36(hi.U),t.Y36(yt.nC),t.Y36(ke.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-test-review-for-student"]],viewQuery:function(e,i){if(1&e&&t.Gf(_o,5),2&e){let o;t.iGM(o=t.CRH())&&(i.drawer=o.first)}},inputs:{initDataResult:"initDataResult",testedUserObjs:"testedUserObjs",viewPractice:"viewPractice"},features:[t._Bn([ke.T]),t.qOj],decls:6,vars:2,consts:[["id","test-review-for-student",1,"azt-result-list",3,"resize"],["class","p-3 m-3 text-center alert text-slate-500 font-medium",4,"ngIf","ngIfElse"],["hasResult",""],["ShowCorrectIncorrectFilterTpl",""],[1,"p-3","m-3","text-center","alert","text-slate-500","font-medium"],[1,"azt-drawer-container","mt-5",2,"height","auto",3,"hasBackdrop"],[3,"ngClass","mode","opened","closedStart"],["drawer",""],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"info-user","border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[3,"examObj","examResultObj","viewPractice"],[1,"p-3"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam","offlineHashIdParam","viewPractice","studentObj","examObj","examResultObj","markedByObj","questionObjs","essayQuestionObjs","trueFalseChoiceQuestionObjs","files","historyExamResultObjs","examTracks","resultInfos"],[3,"backToLink","examResultIdParam","userIdParam","studentIdParam","examIdParam","examObj","essayExam","essayMark","questionObjs","offlineMarkObj","offlineMixQuestionObj","isDeletableExamResultObj"],[1,"mt-3","block",3,"showLikeMobile","resultId","webPage"],[1,"azt-drawer-content","azt-test-review-for-teacher-new","relative",3,"ngClass"],[1,"p-0","slide-main"],[1,"flex","box","sm:h-auto","items-center","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-5"],["azt-track-service","test-review-for-student-ZI4M15FHLQ","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","test-review-for-student-lnUiT-MGaoA","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"truncate","font-medium","mx-auto","text-slate-600","dark:text-slate-300",2,"max-width","50%",3,"matTooltip"],[1,"relative","flex"],[3,"ngTemplateOutlet"],[4,"ngIf"],[1,"box","flex-1"],[3,"selectedIndex","selectedTabChange","selectedIndexChange"],[3,"label",4,"ngIf"],["id","tabEssay",3,"label",4,"ngIf"],["azt-track-service","test-review-for-student-ZI4M15FHLQ",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","test-review-for-student-lnUiT-MGaoA",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[1,"alert","alert-danger","mb-5",2,"align-items","center"],[1,"w-4","h-4","mr-2"],["name","alert-octagon"],[3,"label"],[1,"azt-student-list"],[1,"p-3",2,"padding-bottom","80px"],["style","display: block","class","mb-1",3,"imgSrc",4,"ngIf"],["class","p-2 font-bold",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-1",2,"display","block",3,"imgSrc"],[1,"p-2","font-bold"],["class","relative",3,"examObj","examConfig","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass",4,"ngIf"],[1,"relative",3,"examObj","examConfig","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass"],["id","tabEssay",3,"label"],["id","markEssay"],[1,"p-3",2,"padding-bottom","20px"],[4,"ngIf","ngIfElse"],["isFrameMark",""],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID",4,"ngIf"],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID"],[3,"examObj","examConfig","showForTeacher","questions","userAnswersObj","examResultObj","resultID","files","iframeViewMode","hasLoadedData"],[1,"filter","flex"],["class","btn btn-sm btn-danger mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-success mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"azt-hidden","md:block"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["for","viewRight",1,"dropdown-item","cursor-pointer"],[1,"form-check","form-switch","ml-auto"],["azt-track-service","test-review-for-student-AzpxXYDv2dW","id","viewRight","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],["for","viewWrong",1,"dropdown-item","cursor-pointer"],["azt-track-service","test-review-for-student-FiRglRqPWZP","id","viewWrong","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],[1,"btn","btn-sm","btn-danger","mx-2",2,"cursor","default","padding","6px 4px"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-success","mx-2",2,"cursor","default","padding","6px 4px"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("resize",function(a){return i.onResize(a)},!1,t.Jf7),t.YNc(1,co,3,3,"div",1),t.YNc(2,Zo,27,60,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,qo,25,14,"ng-template",null,3,t.W1O)),2&e){const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!(null!=i.initDataResult&&null!=i.initDataResult.data&&i.initDataResult.data.examResultObj||null!=i.initDataResult&&null!=i.initDataResult.data&&i.initDataResult.data.historyExamResultObjs))("ngIfElse",o)}},dependencies:[p.mk,p.sg,p.O5,p.tP,Oe.VK,Oe.p6,oe.jA,oe.kh,oe.LW,nt.uX,nt.SP,W.gM,Lt.y,fi.a,xi.f,ae.O,q.Nh5,bi.S,io,ro,lo.C,h.JV],encapsulation:2}),n})();function Qo(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Eo(n,s){if(1&n&&t._UZ(0,"azt-test-review-for-student",4),2&n){const e=t.oxw();t.Q6J("initDataResult",e.initDataAnswerTest)("viewPractice",!0)}}let Lo=(()=>{class n extends w.Q{redirectToBackLink(){let e=this.commonService.getMyQueryParam("backto")??"";this.backToLink=e}translateMetaTitle(e){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(i=>{this.commonService.translateMetaData({title:i+": "+e,description:i+": "+e,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString()??"",i=Number(this.commonService.getMyParam(this.activeRoute,"practice_id")),o=this.commonService.myTranslateInstant("lang_auto_ket_qua");this.practiceService.apiPracticeHashIdPracticeIdAnswersGet(e,i).subscribe(a=>{1==a.success?(this.initDataAnswerTest=a,this.headerTitle=`${o}: ${a?.data?.examObj?.name}`,this.translateMetaTitle(a.data?.examObj?.name),this.successStatusObj()):this.errorStatusObj(a.message??"",!0)})}))}ngOnInit(){this.getAndProcessDataForStudent(),this.redirectToBackLink(),super.ngOnInit()}constructor(e,i){super(),this.activeRoute=e,this.practiceService=i,this.headerTitle="",this.backToLink=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(Et.ik))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-answer-practice"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"initDataResult","viewPractice"]],template:function(e,i){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,Qo,1,1,"azt-loading-effect",1),t.YNc(2,Eo,1,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",i.backToLink),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[p.O5,H.l,Ie,st.L],encapsulation:2}),n})();function Fo(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function zo(n,s){1&n&&(t.TgZ(0,"div")(1,"div",12)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function Po(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"h2",14),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"div",15)(5,"span",16),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"span",17),t._uU(9),t.qZA()(),t.TgZ(10,"h3",18),t._uU(11),t.qZA(),t.TgZ(12,"div",19)(13,"div",20)(14,"p",21),t.O4$(),t.TgZ(15,"svg",22),t._UZ(16,"path",23)(17,"circle",24),t.qZA(),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(20,"p",25),t._uU(21),t.qZA()(),t.TgZ(22,"div",26)(23,"p",21),t.O4$(),t.TgZ(24,"svg",22),t._UZ(25,"circle",27)(26,"polyline",28),t.qZA(),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(29,"p",25),t._uU(30),t.qZA()(),t.TgZ(31,"div",26)(32,"p",21),t.O4$(),t.TgZ(33,"svg",29),t._UZ(34,"path",30)(35,"path",31),t.qZA(),t._uU(36),t.ALo(37,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(38,"p",32),t._uU(39),t.qZA()(),t.TgZ(40,"div",26)(41,"p",21),t.O4$(),t.TgZ(42,"svg",33),t._UZ(43,"circle",27)(44,"line",34)(45,"line",35),t.qZA(),t._uU(46),t.ALo(47,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(48,"p",36),t._uU(49),t.qZA()(),t.TgZ(50,"div",26)(51,"p",21),t.O4$(),t.TgZ(52,"svg",37),t._UZ(53,"circle",27)(54,"line",38)(55,"line",39),t.qZA(),t._uU(56),t.ALo(57,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(58,"p",40),t._uU(59),t.qZA()()(),t.TgZ(60,"div",41)(61,"div",42)(62,"div",43)(63,"button",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.redirectToAnswerTest())}),t._uU(64),t.ALo(65,"mytranslate"),t.qZA()(),t.TgZ(66,"div",43)(67,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.redirectToPractice())}),t._uU(68),t.ALo(69,"mytranslate"),t.TgZ(70,"span",46),t._UZ(71,"lucide-icon",47),t.qZA()()()()()}if(2&n){const e=t.oxw(2);let i;t.xp6(2),t.Oqu(t.lcZ(3,16,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.xp6(4),t.hij("",t.lcZ(7,18,"lang_auto_diem_cua_ban"),":"),t.xp6(3),t.hij(" ",null==e.practiceObj?null:e.practiceObj.mark," "),t.xp6(2),t.hij(" ",null==e.practiceObj?null:e.practiceObj.name," "),t.xp6(7),t.hij(" ",t.lcZ(19,20,"lang_auto_thi_sinh")," "),t.xp6(3),t.hij(" ",null==e.userObj?null:e.userObj.fullName," "),t.xp6(6),t.hij(" ",t.lcZ(28,22,"lang_auto_thoi_gian_lam_bai")," "),t.xp6(3),t.hij(" ",e.timeTested," "),t.xp6(6),t.hij(" ",t.lcZ(37,24,"lang_auto_so_luong_trac_nghiem_dung")," "),t.xp6(3),t.hij(" ",null==e.practiceObj?null:e.practiceObj.rightAnswer," "),t.xp6(7),t.hij(" ",t.lcZ(47,26,"lang_auto_so_cau_sai")," "),t.xp6(3),t.hij(" ",null==e.practiceObj?null:e.practiceObj.wrongAnswer," "),t.xp6(7),t.hij(" ",t.lcZ(57,28,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",null!==(i=null==e.practiceObj?null:e.practiceObj.totalQuestion)&&void 0!==i?i:0," "),t.xp6(5),t.hij(" ",t.lcZ(65,30,"lang_auto_xem_dap_an_chi_tiet")," "),t.xp6(4),t.hij(" ",t.lcZ(69,32,"lang_core_practice_next")," ")}}function Uo(n,s){if(1&n&&(t.TgZ(0,"div",4),t._UZ(1,"div",5),t.TgZ(2,"div",6)(3,"div",7),t.YNc(4,zo,5,3,"div",8),t.YNc(5,Po,72,34,"ng-template",null,9,t.W1O),t.qZA(),t.TgZ(7,"div",10),t._UZ(8,"azt-practice-box",11),t.qZA()()()),2&n){const e=t.MAs(6),i=t.oxw();t.xp6(4),t.Q6J("ngIf",""!=i.statusObj.errorMessage)("ngIfElse",e),t.xp6(4),t.Q6J("resultId",i.resultId)("webPage","STUDENT_SUBMIT_PRACTICE")}}let Do=(()=>{class n extends w.Q{redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-practice/"+this.practiceId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.returnLink))}redirectToPractice(){this.commonService.myNavigationWithQueryString("/test/take-practice/"+this.practiceObj?.practiceId+"/0/"+this.hashId,"?backto="+encodeURIComponent(this.returnLink))}getData(){this.initStatusObj(),this.waitDestroy(this.practiceService.apiPracticeHashIdPracticeIdGet(this.hashId,this.practiceId).subscribe(e=>{if(1==e.success){this.practiceObj=e.data;const i=new Date(e.data?.startedTest??""),o=new Date(e.data?.savedAt??"");this.timeTested=this.timeService.calculationTimeExamTested(i,o);let a="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(r=>{a=r}),this.commonService.translateMetaData({title:a+": "+this.practiceObj?.name,description:this.practiceObj?.name}),this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}getSuggestExam(){this.waitDestroy(this.practiceService.apiPracticeSuggestGet(0).subscribe(e=>{1==e.success?this.suggestPractice=e.data?.objs??[]:this.showErrorSnack(e.message??"")}))}ngOnInit(){this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();this.practiceId=Number(this.commonService.getMyParam(this.activeRoute,"practice_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=e||"",this.userObj=this.userService.getUserObj(),this.getData(),this.getSuggestExam()})),this.backToLink="/student/classroom/0",this.paramBackToLink=this.commonService.getMyQueryParam("backto")??"",this.returnLink=`/test/submit-practice/${this.practiceId}/${this.hashId}/${this.resultId}`,super.ngOnInit()}constructor(e,i,o,a){super(),this.activeRoute=e,this.timeService=i,this.userService=o,this.practiceService=a,this.backToLink="",this.paramBackToLink="",this.returnLink="",this.hashId="",this.resultId=0,this.practiceId=0,this.timeTested="",this.suggestPractice=[]}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(_t.D),t.Y36(et.U),t.Y36(Et.ik))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-practice"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-5"],[1,"md:col-span-2"],[1,"col-span-12","md:col-span-8"],[1,"box","mx-auto","mt-5"],[4,"ngIf","ngIfElse"],["Normal",""],[1,"mt-5","mx-auto"],[3,"resultId","webPage"],[1,"alert","alert-danger"],[2,"text-align","center","padding-top","30px"],[1,"text-lg","font-bold"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[1,"text-md","font-medium","text-center","mt-3","px-5"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"text-md","font-medium","ml-auto"],[1,"flex","items-center","mt-3"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"text-md","font-medium","text-danger","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-slate-500"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"text-md","text-slate-500","font-medium","ml-auto"],[1,"p-5"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-6"],["azt-track-service","submit-practice-Qzm8hQuNa",1,"btn","btn-outline-primary","w-full",3,"click"],["azt-track-service","submit-practice-Mqu66yKVfk",1,"btn","btn-pending","w-full","text-white",3,"click"],[1,"w-4","h-4","ml-2"],["name","chevron-right"]],template:function(e,i){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,Fo,1,1,"azt-loading-effect",1),t.YNc(2,Uo,9,4,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",i.backToLink),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[p.O5,H.l,ae.O,st.L,q.Nh5,h.JV],encapsulation:2}),n})();class Ft{sendAudioForQuestion(s,e,i,o){let a=i.find(r=>r.id==o.obj?.id);return a&&(1==o.play?a.limitPlay=(a.limitPlay??0)+1:(a.limitPlay=(a.limitPlay??0)-1,a.limitAudio=(a.limitAudio??0)+1,a.audioLimitObjs?.map(r=>r.status=r.index!=o.index&&r.status)),this.saveAudioLimitStorage(s,e,i)),i}addAudioInfoToQuestionObjs(s,e){return e.forEach(i=>{if(i.attachments.length<=0)return;i.audioLimitObjs=[];let o=(s.limitAudio??0)-(i.limitAudio??0);for(var a=0;a<o;a++)i.audioLimitObjs.push({index:a,status:!0})}),e}saveAudioLimitStorage(s,e,i){let o=i.filter(a=>a.attachments.length>0).map(a=>({questionId:a.id,limitTimes:a.limitAudio,limitPlay:a.limitPlay}));o.length>0&&this.browserStorageService.saveSimpleStorage("limitAudioV6_"+s.id+"_"+e,JSON.stringify(o))}getLimitAudioFromLocalStorage(s,e){return this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("limitAudioV6_"+s.id+"_"+e)??"")??[]}constructor(s,e){this.commonService=s,this.browserStorageService=e}}class zt{takeAnswerForQuestion(s,e){return e.forEach(i=>{s.forEach(o=>{if(o.questionId==i.id)if(this.answerTypeService.isFillAnswer(i)||this.answerTypeService.isEssayAnswer(i))i.choseAnswer=[o.answerContent[0].content];else if((this.answerTypeService.isOneChoiceAnswer(i)||this.answerTypeService.isMultipleChoiceAnswer(i))&&i.answers)i.choseAnswer=[(i.answers[a=o.answerContent[0].index].alpha?i.answers[a].alpha:i.answers[a].key)??""];else if(this.answerTypeService.isTrueFalseAnswer(i)){var a=o.answerContent[0].index;let l=this.commonService.myTranslateInstant("T"==o.answerContent[0].status?"lang_auto_dung":"lang_auto_sai");i.choseAnswer?.push((i.answers[a].alpha?i.answers[a].alpha:i.answers[a].key)?.toLowerCase()+") - "+(l??""))}})}),e}reBindDataQuestion(s,e){var i=[];return s.forEach(o=>{e.forEach(a=>{if(a.questionId==o.id){if(this.answerTypeService.isEssayAnswer(o))(r=a.answerContent&&a.answerContent.length>0?a.answerContent[0].content:"")&&(o.essayText=r);else if(this.answerTypeService.isFillAnswer(o)){var r;(r=a.answerContent&&a.answerContent.length>0?a.answerContent[0].content:"")&&(o.essayText=r)}else for(var l of o.answers)if(this.answerTypeService.isTrueFalseAnswer(o))l.checked=this.compareTrueFalseQuestionContent(l,a.answerContent);else{if(this.compareContent(l,a.answerContent&&a.answerContent.length>0?a.answerContent[0]:{index:0,content:""})){l.checked=!0;break}l.checked=!1}o.status=!0}}),i.push(o)}),i}getEssayQuestionIds(s){return s.filter(e=>this.answerTypeService.isEssayAnswer(e)).map(e=>e.id)}changeStatusQuestion(s,e,i){return s.map(o=>o.status=o.id==e?i:o.status),s}changeQuestionContent(s,e,i){var o=[],a=new Ft(this.commonService,this.browserStorageService).getLimitAudioFromLocalStorage(s,e);return i.forEach((r,l)=>{if(r.essayText=this.answerTypeService.isEssayAnswer(r)?"":r.essayText,r.essayText=this.answerTypeService.isFillAnswer(r)?"":r.essayText,s.limitAudio)if(a.length>0){var _=a.find(m=>m.questionId==r.id);_&&null!=_.limitTimes&&null!=_.limitPlay&&(r.limitAudio=_.limitTimes+_.limitPlay,r.limitPlay=0)}else r.attachments.length>0&&(r.limitAudio=0,r.limitPlay=0);r={...r,index:l,status:!1},o.push(r)}),s.limitAudio?new Ft(this.commonService,this.browserStorageService).addAudioInfoToQuestionObjs(s,o):o}changeEssayTextQuestion(s,e,i){let o=s.find(a=>a.id==e.id);return o&&(o.essayText=i),s}setAnswerTrueFalse(s,e,i,o){let a=i.find(_=>_.questionId==o.id);if(o.answerConfig&&null!=o.index&&1==o.type){let _={index:o.index,content:o.isImage?o.answerConfig.content??"":o.answerConfig.key??""},m={questionId:o.id,answerContent:[_]};a?a.answerContent.push(_):i.push(m),e=this.changeStatusAnswer(s,e,m,o.index,!0,o.isImage,o)}else if(o.answerConfig&&null!=o.index&&2==o.type){var r={questionId:o.id,answerContent:[{index:o.index,content:o.isImage?o.answerConfig.content??"":o.answerConfig.key??""}]};a?a.answerContent=r.answerContent:i.push(r),e=this.changeStatusAnswer(s,e,r,o.index,!1,o.isImage,o)}else if(o.answerConfig&&null!=o.index&&5==o.type){var l={questionId:o.id,answerContent:[{index:o.index,content:o.isImage?o.answerConfig.content??"":o.answerConfig.key??"",status:o.answerConfig.status}]};a?i.forEach(_=>{if(_.questionId!=l.questionId)return;let m=!1;_.answerContent.forEach(g=>{g.index==l.answerContent[0].index&&g.content==l.answerContent[0].content&&(g.status=l.answerContent[0].status,m=!0)}),m||_.answerContent.push(l.answerContent[0])}):i.push(l),e=this.changeStatusAnswer(s,e,l,o.index,!1,o.isImage,o)}return[e,i]}setAnswerEssay(s,e,i){if(!(i.event&&null!=i.index&&i.event.target instanceof HTMLTextAreaElement&&null!=i.event.target.value))return[s,e,!1];let o=e.find(l=>l.questionId==i.id),a=null!=o&&""==i.event.target.value.trim();if(a)e=e.filter(l=>l.questionId!=i.id);else{var r={questionId:i.id,answerContent:[{index:i.index,content:i.event.target.value}]};if(o){let l=o.answerContent.find(_=>_.index==r.answerContent[0].index);null!=l?l.content=r.answerContent[0].content:o.answerContent.push(r.answerContent[0])}else e.push(r)}return[s,e,a]}changeStatusAnswer(s,e,i,o,a,r,l){if(a)return e;try{let _=e.find(v=>v.id==i.questionId);if(!_||!_.answers.length)return e;if(this.answerTypeService.isTrueFalseAnswer(_)){let v="T"==l.answerConfig?.status;_.answers[o].checked=_.answers[o].checked!=v?v:void 0}else _.answers.map((v,L)=>v.checked=L==o);if(!this.commonService.isMobileOrTable()||!l.answerConfig)return e;let m=this.commonService.myTranslateInstant("lang_auto_cau"),g=this.commonService.myTranslateInstant("lang_auto_chon"),f=this.commonService.myTranslateInstant("lang_auto_dung"),b=this.commonService.myTranslateInstant("lang_auto_sai");this.commonService.snackChoiceAnswer(m+" "+((_.index??0)+(s.startQuestionIndex??1))+" - "+g+" "+(l.answerConfig.alpha?l.answerConfig.alpha:l.answerConfig.key)+(l.answerConfig.status?" - "+("T"==l.answerConfig.status?f:b):""))}catch(_){console.log(_)}return e}compareContent(s,e){return s.key==e.content}compareTrueFalseQuestionContent(s,e){let i=e.find(o=>o.content==s.key);if(i)return"T"==i.status}constructor(s,e,i){this.commonService=s,this.answerTypeService=e,this.browserStorageService=i}}var ft=u(49671),Pt=u(69862),k=u(61713),Ze=u(77757),je=u(82228),Ut=u(32965),ut=u(30617),xt=u(71646);const No=["customCard"],Ro=["fileSelect"];function Jo(n,s){1&n&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_bai_lam_dang_duoc_tai_len_vui_long_doi_trong_giay_lat")))}function Yo(n,s){1&n&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_dang_dong_bo_du_lieu_vui_long_doi_trong_giay_lat")))}function Ho(n,s){if(1&n&&(t.TgZ(0,"div",16),t.YNc(1,Jo,3,3,"h5",17),t.YNc(2,Yo,3,3,"h5",17),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.Tmploading),t.xp6(1),t.Q6J("ngIf",e.Tmploading)}}const Bo=function(n){return{"width.%":n}};function Go(n,s){if(1&n&&(t.TgZ(0,"div",21)(1,"h5",22),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._UZ(4,"div",24),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.Q6J("ngStyle",t.VKq(2,Bo,e.uploadProgress))}}function Ko(n,s){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Go,5,4,"div",20),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function Wo(n,s){if(1&n&&(t.TgZ(0,"div",32)(1,"video",33),t._UZ(2,"source",34),t.ALo(3,"safe"),t.qZA(),t.TgZ(4,"div",35)(5,"div",36)(6,"span",37),t._UZ(7,"lucide-icon",38),t.qZA()()()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",t.lcZ(3,1,e.url+"#t=5"),t.LSH)}}function Vo(n,s){if(1&n&&(t._UZ(0,"img",39),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.Q6J("src",t.lcZ(1,1,i.getFileIcon(e)),t.LSH)}}function $o(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(3);let r;return t.KtG(a.removeImg(null!==(r=o.url)&&void 0!==r?r:""))}),t.O4$(),t.TgZ(1,"svg",41),t._UZ(2,"line",42)(3,"line",43),t.qZA()()}}function Xo(n,s){1&n&&(t.TgZ(0,"span",44)(1,"mat-icon",45),t._uU(2,"check_box_outline"),t.qZA()())}function ta(n,s){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,Wo,8,3,"div",28),t.ALo(2,"isVideo"),t.YNc(3,Vo,2,3,"ng-template",null,29,t.W1O),t.YNc(5,$o,4,0,"div",30),t.YNc(6,Xo,3,0,"span",31),t.qZA()),2&n){const e=s.$implicit,i=t.MAs(4),o=t.oxw(3);let a;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,null!==(a=e.mimes)&&void 0!==a?a:""))("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",1!=o.isSuccess),t.xp6(1),t.Q6J("ngIf",o.isSuccess)}}function ea(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,ta,7,6,"div",26),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.uploadFiles)}}function na(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openSelectFile())}),t.O4$(),t.TgZ(1,"svg",47),t._UZ(2,"path",48)(3,"polyline",49)(4,"line",50),t.qZA(),t.kcU(),t.TgZ(5,"span",51),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"input",52,53),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.selectFile(o))}),t.qZA()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"lang_auto_upload_file_bai_lam_cua_ban")))}function ia(n,s){1&n&&(t.TgZ(0,"div",54)(1,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}function oa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"span",58),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",59)(6,"span",60),t.O4$(),t.TgZ(7,"svg",61),t._UZ(8,"path",62)(9,"line",63)(10,"line",64),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(13,"div",65)(14,"div",66)(15,"span",18),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"span",67),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"div",68),t._UZ(22,"qrcode",69),t.qZA()(),t.TgZ(23,"div",65)(24,"div",66)(25,"span",18),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"span",67),t._uU(29),t.ALo(30,"mytranslate"),t.qZA(),t.TgZ(31,"div",70),t._UZ(32,"input",71),t.TgZ(33,"button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clickCopyLink())}),t.O4$(),t.TgZ(34,"svg",47),t._UZ(35,"rect",73)(36,"path",74),t.qZA(),t._uU(37),t.ALo(38,"mytranslate"),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,14,"lang_auto_hoac_nop_bang_dien_thoai")),t.xp6(8),t.hij(" ",t.lcZ(12,16,"lang_auto_vui_long_khong_tat_bang_nay_nop_bang_dien_thoai")," "),t.xp6(5),t.hij("",t.lcZ(17,18,"lang_auto_cach_1"),":"),t.xp6(3),t.hij(" ",t.lcZ(20,20,"lang_auto_su_dung_dien_thoai_quet_ma_qrcode_duoi_day_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.Q6J("allowEmptyString",!0)("qrdata",e.urlUploadImage)("elementType","url")("width",160)("errorCorrectionLevel","M"),t.xp6(4),t.hij("",t.lcZ(27,22,"lang_auto_cach_2"),":"),t.xp6(3),t.hij(" ",t.lcZ(30,24,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.s9C("value",e.urlUploadImage),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copylinkToClipboard(e.urlUploadImage)),t.xp6(4),t.hij(" ",t.lcZ(38,26,"lang_auto_sao_chep")," ")}}function aa(n,s){1&n&&(t.TgZ(0,"span",75),t._UZ(1,"azt-loading-ui"),t.qZA())}function sa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",null,2)(3,"div",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t.YNc(7,Ho,3,2,"div",7),t.YNc(8,Ko,2,1,"div",8),t.YNc(9,ea,2,1,"div",9),t.YNc(10,na,10,3,"div",10),t.YNc(11,ia,4,3,"div",11),t.qZA(),t.YNc(12,oa,39,28,"div",12),t.TgZ(13,"div",13)(14,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.YNc(15,aa,2,0,"span",15),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.uploadFiles.length>0),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.data.isMobile),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.hij(" ",t.lcZ(17,9,"lang_auto_xac_nhan")," ")}}let kt=(()=>{class n extends w.Q{copylinkToClipboard(e){return e}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}getFileIcon(e){return(0,k.Or)(e.mimes??"")?e.url??"":(0,k.F0)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_audio.svg"):(0,k.MH)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_word.svg"):(0,k.ZA)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_powerpoint.svg"):(0,k.AW)(e.extension??"")||"xlsx"==e.extension?this.cdnService.convertCdnLinkOfGitHub("images/ext_excel.svg"):e.url??""}isOnSelectFileEmit(e){this.isOnSelectFile.emit(e)}goBackFullScreen(){const e=document.documentElement;let i=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;i&&!this.isCallFullScreenOnce&&this.data.isMonitor&&(i.call(e),this.isCallFullScreenOnce=!0)}saveFile(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}saveFileConf(){!0===this.statusObj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.snackWarning("lang_auto_sync_file_to_system_please_waiting"):this.saveFile()}replaceRequestGetInfoUpload(e){var i=this,o=e;this.intervalGetInfoUpload=window.setInterval(()=>{!1===i.isUploadedPdf&&i.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(i.hashCode).subscribe(a=>{if(1==a.success){var r=i.commonService.myParseJson(a.data?.tmpObj?.files??""),l=!1;(r=r??[]).length!=i.uploadFiles.length?l=!0:r.length>0&&r.forEach(_=>{-1===i.uploadFiles.findIndex(m=>m.path==_.path)&&(l=!0)}),!0===l&&(0==i.isOnSync||o)&&i.addFileMobile.emit({files:r,keepOpen:!0}),o&&(i.uploadFiles=r,i.updateFileUploadMobile(!0),o=!1),i.Tmploading=!1,i.stopStatusObj()}else i.showErrorSnack("lang_auto_dong_bo_du_lieu_khong_thanh_cong_vui_long_an_f5_hoac_tai_lai_trang"),i.Tmploading=!1,i.stopStatusObj()})},3e3)}updateFileUploadMobile(e){return new Promise(i=>{this.initStatusObj(),this.Tmploading=e??!1,this.isOnSync=!0,this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost({hashCode:this.hashCode,files:JSON.stringify(this.uploadFiles)}).subscribe(o=>{1==o.success?(this.stopStatusObj(),this.Tmploading=!1,this.isOnSync=!1,i(!0)):(this.stopStatusObj(),this.Tmploading=!1)})})}openSelectFile(){this.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,this.fileSelect?.nativeElement.click())}onFocus(e){this.onSelectFile&&(null==this.answerFile||0==this.uploadFiles.length)&&(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1))}addFileWithProcess(e){e&&this.uploadFiles.push(e);for(let i=0;i<this.uploadFiles.length;i++)this.uploadFiles[i].lastModified||(this.uploadFiles[i].lastModified=(new Date).getTime()),this.uploadFiles[i].thumb||(this.uploadFiles[i].thumb=this.homeworkExamService.getThumbWithObj(this.uploadFiles[i]));this.uploadFiles.sort((i,o)=>(i.lastModified??0)-(o.lastModified??0))}bindUrlToQrCode(e){var i=this.commonService.getCurrentDomain();this.urlUploadImage=`${i}/n/${e}`}onGlobalClick(e){this.customCard?.nativeElement.contains(e.target)||this.closeDialog.emit()}isVideo(e){return/^(?:video)/i.test(e)}convertObjToArray(e){var i=[];for(var o in e)i.push(e[o]);return i}removeImg(e){var i=this.uploadFiles.filter(o=>o.url!==e);this.uploadFiles=i,this.updateFileUploadMobile(!0)}ngOnChanges(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}ngOnInit(){setTimeout(()=>{this.data.isMobile||this.bindUrlToQrCode(this.hashCode),this.initStatusObj(),this.Tmploading=!0,this.replaceRequestGetInfoUpload(!0)},100),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),super.ngOnInit()}ngOnDestroy(){this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload),super.ngOnDestroy()}constructor(e,i,o,a,r){var l;super(),l=this,this.myPdfService=e,this.apiUploadService=i,this.frontExamResultUploadService=o,this.homeworkExamService=a,this.cdnService=r,this.data={},this.hashCode="",this.isOnSelectFile=new t.vpe,this.closeDialog=new t.vpe,this.addFileMobile=new t.vpe,this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.urlUploadImage="",this.intervalGetInfoUpload=0,this.isUploadedPdf=!1,this.isOnSync=!1,this.Tmploading=!1,this.uploadFile=(_,m)=>{this.isSubmit=!1,((0,k.Or)(_.type)||(0,k.Wv)(_.type)||(0,k.F0)(_.type)||(0,k._4)(_.type)||(0,k.D_)(_.type)||(0,k.AW)(_.type)||(0,k.ZA)(_.type))&&(0,k.hv)(_).then(g=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(g).subscribe(f=>{if(f.type!=Pt.dt.UploadProgress)1==f.success?(delete this.fileUploadQueue[m],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push({...f.data}),this.stopStatusObj(),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_ten",_.name,f.message??"none")));else{var b=Math.round(f.loaded??0/(f.total??1)*100);this.fileUploadQueue.hasOwnProperty(m)?(this.fileUploadQueue[m].uploadProgress=b,this.fileUploadQueue[m].fileName=_.name):this.fileUploadQueue[m]={uploadProgress:0,fileName:_.name}}})})},this.selectFile=function(){var _=(0,ft.Z)(function*(m){let b=m.target.files;try{for(var v in b)if("length"!=v&&"item"!=v)if((0,k.zQ)(b[v].type))if((0,k.EO)(b[v].size)<=200)if(l.answerFile=b?b[v]:l.answerFile,(0,k._4)(b[v].type)){l.isUploadedPdf=!0,l.initStatusObj();var L=yield l.myPdfService.getImageWithPdf(b[v]);l.answerFile=b?b[v]:l.answerFile,l.uploadFilesFunc(L,l.uploadCount),l.uploadCount+=1}else l.answerFile&&(l.isSuccess=!1,l.initStatusObj(),(0,k.Wv)(b[v].type)?l.uploadFileVideo(l.answerFile,l.uploadCount):l.uploadFile(l.answerFile,l.uploadCount),l.uploadCount+=1);else l.showErrorSnack("lang_auto_mb_vui_long_chon_file_khong_qua_200_mb");else l.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");m.target.setAttribute("value",""),l.goBackFullScreen(),l.onSelectFile=!1,l.isOnSelectFileEmit(!1)}catch{l.goBackFullScreen(),l.onSelectFile=!1,l.isOnSelectFileEmit(!1)}});return function(m){return _.apply(this,arguments)}}(),this.uploadFileVideo=function(){var _=(0,ft.Z)(function*(m,g){l.waitDestroy(l.apiUploadService.uploadToVimeoProgress("front_exam",m,void 0).subscribe(f=>{f.isOnProgress?l.fileUploadQueue.hasOwnProperty(g)?(l.fileUploadQueue[g].uploadProgress=Math.round(f.percentage??0),l.fileUploadQueue[g].fileName=m.name):l.fileUploadQueue[g]={uploadProgress:0,fileName:m.name}:1==f.success?(delete l.fileUploadQueue[g],Array.isArray(l.uploadFiles)||(l.uploadFiles=[]),l.addFileWithProcess({...f.data,lastModified:m.lastModified}),l.updateFileUploadMobile(!1)):(l.stopStatusObj(),l.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau"))}))});return function(m,g){return _.apply(this,arguments)}}(),this.uploadFilesFunc=function(){var _=(0,ft.Z)(function*(m,g){for(let f=0;f<m.length;f++){const b=m[f];yield(0,k.hv)(b).then(v=>{l.apiUploadService.uploadToCdnProgressForFrontendExam(v).subscribe(L=>{L.type!=Pt.dt.UploadProgress&&(1==L.success?(delete l.fileUploadQueue[g],Array.isArray(l.uploadFiles)||(l.uploadFiles=[]),l.uploadFiles.push({...L.data}),f===m.length-1&&l.updateFileUploadMobile(!1).then(()=>{l.successStatusObj(),l.isUploadedPdf=!1})):(l.stopStatusObj(),l.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau")))})})}});return function(m,g){return _.apply(this,arguments)}}(),this.answerFile=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ze.z),t.Y36(je.W),t.Y36(j.vO),t.Y36(gt.v),t.Y36(Ut.E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-image"]],viewQuery:function(e,i){if(1&e&&(t.Gf(No,5),t.Gf(Ro,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.customCard=o.first),t.iGM(o=t.CRH())&&(i.fileSelect=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("focus",function(a){return i.onFocus(a)},!1,t.Jf7)("mousedown",function(a){return i.onGlobalClick(a)},!1,t.evT)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],["azt-track-service","upload-image-k-LlZfUpF",1,"bg-overbackground",3,"click"],[1,"intro-x","box","upload-image-block","overflow-auto"],[1,"box","p-5","box-upload"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4"],["class","text-center m-4 mb-8",4,"ngIf"],["class","grid grid-cols-12 gap-5 ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","grid grid-cols-12 gap-5 pl-4 pr-5 mb-4",4,"ngIf"],["azt-track-service","upload-image-xZ-pGKA--d","class","px-4 mt-5 flex items-center justify-center cursor-pointer relative",3,"click",4,"ngIf"],["class","px-4 pb-4 mt-1 flex items-center justify-center cursor-pointer relative",4,"ngIf"],["class","upload-mobile",4,"ngIf"],[1,"mt-5","text-center"],["azt-track-service","upload-image-RXRSe2dtF2",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-center","m-4","mb-8"],["class","font-medium",4,"ngIf"],[1,"font-medium"],[1,"grid","grid-cols-12","gap-5","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"forn-medium","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"grid","grid-cols-12","gap-5","pl-4","pr-5","mb-4"],["class","col-span-6 md:col-span-3 h-28 relative image-fit cursor-pointer zoom-in",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-3","h-28","relative","image-fit","cursor-pointer","zoom-in"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],["noVideo",""],["azt-track-service","upload-image-80z7xb2gI","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","7rem","width","100%","object-fit","cover"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],[1,"w-6","h-6","inline-block"],["name","video"],[1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",3,"src"],["azt-track-service","upload-image-80z7xb2gI",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"notify-badge"],[2,"color","rgb(26, 188, 0)"],["azt-track-service","upload-image-xZ-pGKA--d",1,"px-4","mt-5","flex","items-center","justify-center","cursor-pointer","relative",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1","cursor-pointer"],["id","horizontal-form-1","type","file","multiple","",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer","azt-hidden",3,"change"],["fileSelect",""],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","cursor-pointer","relative"],[1,"block","text-xs","text-slate-600","dark:text-slate-500"],[1,"upload-mobile"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"mt-2","text-center","font-medium"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"mt-3"],[1,"upload-item"],[1,"ml-1"],[1,"qr-img","mt-2","mx-auto","w-40"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel"],[1,"azt-copy","relative","mt-2"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","upload-image-X_utJrb2bC",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,i){1&e&&t.YNc(0,sa,18,11,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.sg,p.O5,p.PC,le.i3,ut.Hw,xt.n,q.Nh5,Z.V,h.JV,h.QN,h.CR,h.ul],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:1001;right:10px;top:10px}.upload-image-block[_ngcontent-%COMP%]{overflow-y:auto;height:calc(100vh - 20px)}.box-upload[_ngcontent-%COMP%]{max-width:600px;min-height:100%}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(242,242,242) 0%,rgb(228,228,228) 100%,rgb(255,255,255) 100%);box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;box-shadow:5px 5px 5px #00000059;height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width: 1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px #00000094}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:white;padding:5px;border-radius:5px}@media (max-width: 1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000a3}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}@media screen and (max-width: 768px){.upload-image-block[_ngcontent-%COMP%]{height:60vh}.box-upload[_ngcontent-%COMP%]{min-height:auto}}"]}),n})();var Me=u(47394),Dt=u(50749);let Nt=(()=>{class n{constructor(e,i,o,a,r){this.commonService=e,this.cdnService=i,this.trackJsExceptionService=o,this.answerTypeService=a,this.userService=r,this.labelsImg=new Image,this.questionLabelMap=[],this.abcdLabelPos={},this.subscription=new Me.w0}cancelSubscription(){this.subscription.unsubscribe()}makeRetry(e,i,o,a,r,l,_,m){e.crossOrigin="anonymous",e.setAttribute("totalRetry","0"),e.onerror=()=>{let g=parseInt(e.getAttribute("totalRetry")||"0");if(g++,g<=i)setTimeout(()=>{if(g>Math.floor(i/2))e.src=this.cdnService.getMyCdn(e.src);else{let v=e.src.split("?")[0];e.src=v+"?t="+Date.now()}e.setAttribute("totalRetry",g.toString())},o);else{var f=0,b=this.userService.getUserObj();b&&b.id&&(f=b.id);let v=document.URL.split("?")[0].split("/"),L={userId:f,trackKey:"V2_ERR_DISPLAY",name:"Track l\u1ed7i kh\xf4ng hi\u1ec3n th\u1ecb c\xe2u h\u1ecfi v2",userAgent:navigator.userAgent,url:document.URL,content:e.src,error:v[v.length-1]};if(this.subscription.add(this.trackJsExceptionService.apiTrackJsExceptionSaveObjPost(L).subscribe(()=>{console.log("Track l\u1ed7i th\xe0nh c\xf4ng!")})),(a||0===a)&&r&&l&&_){_[a].mixDataImg=this.cdnService.convertCdnLinkOfGitHub("svgs/Img_dat-01.svg");let J=document.getElementById("questionPlaceholder_"+a);J?.setAttribute("loadSuccess","0");let B=document.getElementById("media_content_all_"+_[a].id);B?.setAttribute("loadSuccess","0");const V=K=>{"0"===K?.getAttribute("loadSuccess")&&(m?this.prepareImageForOtherTypes(l,a,_):this.prepareImageToDrawForType1(r,l,a,_))};B?B.onclick=()=>{V(B)}:J&&(J.onclick=()=>{V(J)})}}}}prepareImageToDrawForType1(e,i,o,a){if(i.metaData&&i.metaData.question){let r=1+e.length,l=0,_=new Image;_.crossOrigin="anonymous",_.onload=()=>{l++,l==r&&this.drawEachQuestion(e,i,o,_,m,a)},this.makeRetry(_,3,1e3,o,e,i,a),_.src=this.cdnService.getMyCdn(i.metaData.question.url||"");let m=[];for(let g=0;g<e.length;g++)m[g]=new Image,m[g].crossOrigin="anonymous",m[g].onload=()=>{l++,l==r&&this.drawEachQuestion(e,i,o,_,m,a)},this.makeRetry(m[g],3,1e3,o,e,i,a),m[g].src=this.cdnService.getMyCdn(e[g].content)}}prepareImageForOtherTypes(e,i,o){if(e.metaData&&e.metaData.question){let a=document.createElement("canvas");a.width=e.metaData.question.width+10,a.height=e.metaData.question.height;let r=a.getContext("2d"),l=new Image;l.crossOrigin="anonymous";const _=e.metaData.question.remove.x,m=e.metaData.question.remove.y;l.onload=()=>{r?.drawImage(l,10,0),r?.drawImage(this.labelsImg,this.questionLabelMap[i].left,this.questionLabelMap[i].top,this.questionLabelMap[i].width,this.questionLabelMap[i].height,_,m,this.questionLabelMap[i].width,this.questionLabelMap[i].height),o[i].mixDataImg=a.toDataURL("image/png")},this.makeRetry(l,3,1e3,void 0,void 0,void 0,void 0,"others"),l.src=this.cdnService.getMyCdn(e.metaData.question.url||"")}}drawEachQuestion(e,i,o,a,r,l){if(i.metaData&&i.metaData.answers&&i.metaData.question){let _=document.createElement("canvas");_.width=i.metaData.question.width+15,_.height=i.metaData.question.height;let m=_.getContext("2d");m?.drawImage(a,15,0),m?.drawImage(this.labelsImg,this.questionLabelMap[o].left,this.questionLabelMap[o].top,this.questionLabelMap[o].width,this.questionLabelMap[o].height,i.metaData.question.remove.x,i.metaData.question.remove.y,this.questionLabelMap[o].width,this.questionLabelMap[o].height);let g=r[0],f=0,b=0,v=0,L=i.metaData.answers[0].x,J=i.metaData.answers[0].y;f=L,b=L+g.width,v=L+g.width;let B=r[0].height-i.metaData.answers[0].height;m?.drawImage(g,L,J);let V=e[0].alpha?e[0].alpha:e[0].key,K=0;if(e[0].alpha){let M=e[0].key;for(let Y=0;Y<e.length;Y++)if(M==e[Y].alpha){K=Y;break}}let rt={left:void 0!==i.metaData.answers[K].remove.xAns?L+(i.metaData.answers[K].remove.xAns||0):i.metaData.answers[0].remove.x,top:void 0!==i.metaData.answers[K].remove.yAns?J+(i.metaData.answers[K].remove.yAns||0):i.metaData.answers[0].remove.y,width:i.metaData.answers[0].remove.width,height:i.metaData.answers[0].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(V)&&m?.drawImage(this.labelsImg,this.abcdLabelPos[V].left,this.abcdLabelPos[V].top,i.metaData.answers[0].remove.width,i.metaData.answers[0].remove.height,rt.left,rt.top,rt.width,rt.height),l[o].answerLabelsMockup[`label-${e[0].alpha?e[0].alpha:e[0].key}`]=rt;for(let M=1;M<e.length;M++){let Y=i.metaData.answers[M].x,dt=i.metaData.answers[M].y;if(f+30<Y){let pt=[v,b];Y<Math.max(...pt)&&(Y=Math.max(...pt),Y+r[M].width>_.width&&(Y-=Y+r[M].width-_.width),i.metaData.answers[M].remove.x=Y),b+=r[M].width}else if(b=f+r[M].width,dt+=B,B+=r[M].height-i.metaData.answers[M].height,dt+r[M].height>_.height){let pt=dt+r[M].height-_.height;dt-=pt,i.metaData.answers[M].remove.y-=pt}m?.drawImage(r[M],Y,dt);let Mt=M,Ce=e[M].alpha?e[M].alpha:e[M].key;if(e[M].alpha){let pt=e[M].key;for(let wt=0;wt<e.length;wt++)if(pt==e[wt].alpha){Mt=wt;break}}let qt={left:void 0!==i.metaData.answers[Mt].remove.xAns?Y+(i.metaData.answers[Mt].remove.xAns||0):i.metaData.answers[M].remove.x,top:void 0!==i.metaData.answers[Mt].remove.yAns?dt+(i.metaData.answers[Mt].remove.yAns||0):i.metaData.answers[M].remove.y,width:i.metaData.answers[M].remove.width,height:i.metaData.answers[M].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(Ce||"a")&&m?.drawImage(this.labelsImg,this.abcdLabelPos[Ce||"a"].left,this.abcdLabelPos[Ce||"b"].top,i.metaData.answers[M].remove.width,i.metaData.answers[M].remove.height,qt.left,qt.top,qt.width,qt.height),l[o].answerLabelsMockup[`label-${e[M].alpha?e[M].alpha:e[M].key}`]=qt,M==e.length-1&&(l[o].mixDataImg=_.toDataURL("image/png"),document.getElementById("media_content_all_"+l[o].id)?.setAttribute("loadSuccess","1"),document.getElementById("questionPlaceholder_"+o)?.setAttribute("loadSuccess","1"))}}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(D.z),t.LFG(Ut.E),t.LFG(Dt.$s),t.LFG(ht.i),t.LFG(et.U))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Rt=u(18699),bt=u(88489),It=u(7289),Zt=u(19662),ra=u(11460),la=u(15828);function _a(n,s){if(1&n&&(t.TgZ(0,"div",17)(1,"video",18),t._UZ(2,"source",19),t.ALo(3,"safe"),t.qZA(),t.TgZ(4,"div",20)(5,"div",21)(6,"span",22),t._UZ(7,"lucide-icon",23),t.qZA()()()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",t.lcZ(3,1,e.url+"#t=5"),t.LSH)}}function ca(n,s){if(1&n&&(t._UZ(0,"img",24),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("src",t.lcZ(1,1,i.getFileIcon(e)),t.LSH)}}function ua(n,s){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.removeImg(o.url))}),t.O4$(),t.TgZ(1,"svg",26),t._UZ(2,"line",27)(3,"line",28),t.qZA()()}}function ma(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t.NdJ("click",function(o){const r=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onShowFile(o,r,-1))}),t.YNc(2,_a,8,3,"div",6),t.ALo(3,"isVideo"),t.YNc(4,ca,2,3,"ng-template",null,7,t.W1O),t.qZA(),t.TgZ(6,"div",8)(7,"button",9),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.switchAttributeArray(r.answerFiles,a,a-1))}),t.O4$(),t.TgZ(8,"svg",10),t._UZ(9,"polyline",11),t.qZA()(),t.kcU(),t.TgZ(10,"input",12,13),t.NdJ("keyup.enter",function(o){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArrayInput(r,o))})("change",function(o){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArrayInput(r,o))}),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",14),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.switchAttributeArray(r.answerFiles,a,a+1))}),t.O4$(),t.TgZ(14,"svg",10),t._UZ(15,"polyline",15),t.qZA()()(),t.YNc(16,ua,4,0,"div",16),t.qZA()}if(2&n){const e=s.$implicit,i=s.index,o=t.MAs(5),a=t.oxw(2);let r;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,7,null!==(r=e.mimes)&&void 0!==r?r:""))("ngIfElse",o),t.xp6(8),t.s9C("id","input_page_"+i),t.s9C("max",a.answerFiles.length),t.s9C("value",i+1),t.s9C("placeholder",t.lcZ(12,9,"lang_auto_trang_so")),t.xp6(6),t.Q6J("ngIf",!e.uploadSuccess)}}function da(n,s){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,ma,17,11,"div",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.answerFiles)}}const pa=function(n){return{"custom-width-list":n}};let Jt=(()=>{class n extends w.Q{addFileWithProcess(){for(let e=0;e<this.answerFiles.length;e++)this.answerFiles[e].lastModified||(this.answerFiles[e].lastModified=(new Date).getTime()),this.answerFiles[e].thumb||(this.answerFiles[e].thumb=this.homeworkExamService.getThumbWithObj(this.answerFiles[e]));this.answerFiles.sort((e,i)=>e.lastModified&&i.lastModified?e.lastModified-i.lastModified:0)}removeImg(e){var i=this.answerFiles.filter(o=>o.url!==e);this.answerFiles=i,this.removeFile.emit(e)}onShowFile(e,i,o){let a={...i,index:-1};this.sAztDialogService.open(la.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:a},restoreFocus:!1})}switchAttributeArray(e,i,o){if(!(this.answerFiles.length<=i||this.answerFiles.length<=o||i<0||o<0)){var a=this.commonService.myClone(this.answerFiles[i]);this.answerFiles[i]=this.commonService.myClone(this.answerFiles[o]),this.answerFiles[o]=this.commonService.myClone(a),this.changesPosImg.emit(this.answerFiles)}}switchAttributeArrayInput(e,i){var o=Number(i.target.value)-1;o<=0?o=0:o>=this.answerFiles.length&&(o=this.answerFiles.length),this.answerFiles.splice(o,0,this.answerFiles.splice(e,1)[0]),this.changesPosImg.emit(this.answerFiles)}getFileIcon(e){return(0,k.Or)(e.mimes??"")?e.url??"":(0,k.F0)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_audio.svg"):(0,k.MH)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_word.svg"):(0,k.ZA)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_powerpoint.svg"):(0,k.AW)(e.extension??"")||"xlsx"==e.extension?this.cdnService.convertCdnLinkOfGitHub("images/ext_excel.svg"):e.url??""}ngOnChanges(){this.answerFiles&&this.addFileWithProcess()}ngOnInit(){this.addFileWithProcess()}constructor(e,i,o){var a;super(),a=this,this.sAztDialogService=e,this.homeworkExamService=i,this.cdnService=o,this.answerFiles=[],this.isTesting=!1,this.onMobile=!1,this.showList=!1,this.changesPosImg=new t.vpe,this.removeFile=new t.vpe,this.uploadCount=0,this.answerFile=[],this.countUpload=1,this.selectFile=function(){var r=(0,ft.Z)(function*(l){let g=l.target.files;try{for(var f in g)"length"!=f&&"item"!=f&&((0,k.zQ)(g[f].type)?(0,k.EO)(g[f].size)<=200?(a.initStatusObj(),(0,k._4)(g[f].type)?(a.answerFile=g?g[f]:a.answerFile,a.uploadCount+=1):(a.answerFile=g?g[f]:a.answerFile,a.answerFile&&(a.stopStatusObj(),(0,k.Wv)(g[f].type)&&(a.countUpload=0),a.uploadCount+=1))):a.showErrorSnack("lang_auto_mb_vui_long_chon_file_khong_qua_200_mb"):a.showErrorSnack("lang_auto_error_file_no_support_homework_front_end"));l.target.value=""}catch(b){alert("error:"+b)}});return function(l){return r.apply(this,arguments)}}(),this.form=new c.cw({file_data:new c.NI("",{nonNullable:!0,validators:[c.kI.required]}),file_capture:new c.NI("",{nonNullable:!0,validators:[c.kI.required]}),file:new c.NI("",{nonNullable:!0,validators:[c.kI.required]})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ct.C),t.Y36(gt.v),t.Y36(Ut.E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-ui"]],inputs:{answerFiles:"answerFiles",isTesting:"isTesting",onMobile:"onMobile",showList:"showList"},outputs:{changesPosImg:"changesPosImg",removeFile:"removeFile"},features:[t.qOj,t.TTD],decls:2,vars:5,consts:[[1,"mb-4","text-center",3,"formGroup","ngClass"],["class","grid grid-cols-12 gap-5 px-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-5","px-2"],["class","col-span-6 md:col-span-3 relative cursor-pointer",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-3","relative","cursor-pointer"],["azt-track-service","azt-upload-ui-06FXAP2vs","_target","blank",1,"image-fit","h-32",3,"click"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],["noVideo",""],[1,"flex","items-center","rounded-md","border","border-slate-200","dark:border-darkmode-400","overflow-hidden",2,"border-top-left-radius","0","border-top-right-radius","0"],["azt-track-service","azt-upload-ui-C1dMSfPnGq",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","15 18 9 12 15 6"],["type","text","type","number","min","1",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder","keyup.enter","change"],["myInput",""],["azt-track-service","azt-upload-ui-BX4lLFqzFg",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["points","9 18 15 12 9 6"],["azt-track-service","azt-upload-ui-vNQfvRtbXn","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","8rem","width","100%","object-fit","cover","border-bottom-left-radius","0","border-bottom-right-radius","0"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],[1,"w-6","h-6","inline-block"],["name","video"],["alt","Azota-non-image-Loading",1,"rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","position","unset",3,"src"],["azt-track-service","azt-upload-ui-vNQfvRtbXn",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.YNc(1,da,2,1,"div",1),t.qZA()),2&e&&(t.Q6J("formGroup",i.form)("ngClass",t.VKq(3,pa,i.isTesting&&!i.onMobile&&i.showList)),t.xp6(1),t.Q6J("ngIf",null==i.answerFiles?null:i.answerFiles.length))},dependencies:[p.mk,p.sg,p.O5,c._Y,c.JL,c.sg,q.Nh5,h.JV,h.QN,h.CR,h.ul],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.files[_ngcontent-%COMP%]{cursor:pointer}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;line-height:1;width:50px}.input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width: 768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.custom-width-list[_ngcontent-%COMP%]{max-width:83%}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s;width:100%}.box_image_answer_content[_ngcontent-%COMP%]{min-height:288px;border:1px solid #03a7d0}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box_image_answer_control[_ngcontent-%COMP%]{background:white;width:100%;border:1px solid #03a7d0;border-top:none;position:relative;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;left:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;right:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),n})();var qe=u(8720);class ga{constructor(){this.isDestroy=!1}}var _e=u(99413),ce=u(25229),Qe=u(63038),ha=u(91581),ue=u(44345);function fa(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_one_correct_answer")," "))}function xa(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_corrects_answer")," "))}const Ee=function(n){return{"selected-answer border-selected-answer":n}},Le=function(n,s,e,i){return{"border-radius":n,width:s,height:e,"line-height:":i}},Yt=function(n){return{"border-selected-answer":n}};function ba(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,r=o.index,l=t.oxw(2);return t.KtG(l.setAnswerChoose(l.question.id,a,l.typeAnswerChoose,!1,r,a.alpha,a.key,l.answerIndex))}),t.ALo(2,"isOneChoiceAnswer"),t.ALo(3,"isOneChoiceAnswer"),t.ALo(4,"isOneChoiceAnswer"),t.ALo(5,"isOneChoiceAnswer"),t._uU(6),t.qZA(),t.TgZ(7,"div",8),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,r=o.index,l=t.oxw(2);return t.KtG(l.setAnswerChoose(l.question.id,a,l.typeAnswerChoose,!1,r,a.alpha,a.key,l.answerIndex))}),t._UZ(8,"azt-dynamic-hook",9),t.qZA()()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(13,Ee,e.checked))("ngStyle",t.l5B(15,Le,t.lcZ(2,5,i.question)?"50%":"none",t.lcZ(3,7,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(4,9,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(5,11,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px")),t.xp6(5),t.hij(" ",e.alpha?e.alpha:e.key," "),t.xp6(1),t.Q6J("ngClass",t.VKq(20,Yt,e.checked)),t.xp6(1),t.Q6J("content",e.content)}}function va(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"span",2),t.YNc(3,fa,3,3,"span",0),t.ALo(4,"isOneChoiceAnswer"),t.YNc(5,xa,3,3,"span",0),t.ALo(6,"isMultipleChoiceAnswer"),t.qZA()(),t.TgZ(7,"div",3)(8,"div",4),t.YNc(9,ba,9,22,"div",5),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,7,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,9,e.question)),t.xp6(3),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function Ta(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_answer_true_or_false")," "))}const Fe=function(n,s,e,i){return{"border-radius":n,width:s,height:e,"line-height:":i,cursor:"default"}};function wa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",10),t.ALo(2,"isTrueFalseAnswer"),t.ALo(3,"isTrueFalseAnswer"),t.ALo(4,"isTrueFalseAnswer"),t.ALo(5,"isTrueFalseAnswer"),t._uU(6),t.qZA(),t.TgZ(7,"div",11),t._UZ(8,"azt-dynamic-hook",9),t.qZA(),t.TgZ(9,"button",12),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,r=o.index,l=t.oxw(2);return t.KtG(l.setAnswerChoose(l.question.id,a,l.typeAnswerChoose,!1,r,a.alpha,a.key,l.answerIndex,"T"))}),t.ALo(10,"isTrueFalseAnswer"),t.ALo(11,"isTrueFalseAnswer"),t.ALo(12,"isTrueFalseAnswer"),t.ALo(13,"isTrueFalseAnswer"),t.TgZ(14,"span",13),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"button",14),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,r=o.index,l=t.oxw(2);return t.KtG(l.setAnswerChoose(l.question.id,a,l.typeAnswerChoose,!1,r,a.alpha,a.key,l.answerIndex,"F"))}),t.ALo(18,"isTrueFalseAnswer"),t.ALo(19,"isTrueFalseAnswer"),t.ALo(20,"isTrueFalseAnswer"),t.ALo(21,"isTrueFalseAnswer"),t.TgZ(22,"span",13),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(39,Ee,null!=e.checked))("ngStyle",t.l5B(41,Fe,t.lcZ(2,11,i.question)?"50%":"none",t.lcZ(3,13,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(4,15,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(5,17,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px")),t.xp6(5),t.hij(" ",(e.alpha?e.alpha:e.key).toLowerCase(),") "),t.xp6(1),t.Q6J("ngClass",t.VKq(46,Yt,null!=e.checked)),t.xp6(1),t.Q6J("content",e.content),t.xp6(1),t.Q6J("ngStyle",t.l5B(48,Fe,t.lcZ(10,19,i.question)?"50%":"none",t.lcZ(11,21,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(12,23,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(13,25,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px"))("ngClass",t.VKq(53,Yt,null!=e.checked&&1==e.checked)),t.xp6(6),t.Oqu(t.lcZ(16,27,"lang_auto_dung")),t.xp6(2),t.Q6J("ngStyle",t.l5B(55,Le,t.lcZ(18,29,i.question)?"50%":"none",t.lcZ(19,31,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(20,33,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px",t.lcZ(21,35,i.question)&&i.fontSize>1.6?i.fontSize+"em":"40px"))("ngClass",t.VKq(60,Yt,null!=e.checked&&0==e.checked)),t.xp6(6),t.Oqu(t.lcZ(24,37,"lang_auto_sai"))}}function Sa(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"span",2),t.YNc(3,Ta,3,3,"span",0),t.ALo(4,"isTrueFalseAnswer"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t.YNc(7,wa,25,62,"div",5),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,6,e.question)),t.xp6(3),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function Ca(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"div",1)(3,"span",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",16)(7,"textarea",17),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.setAnswerType3(a.question.id,o,3,!1,0))}),t.ALo(8,"mytranslate"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,6,"lang_auto_bai_lam")),t.xp6(3),t.s9C("id","answer-0-all-"+e.question.id),t.s9C("placeholder",t.lcZ(8,8,"lang_auto_bai_lam_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}const ka=function(n){return{"list-answer-mobile":n}};function Oa(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",18)(2,"div",1)(3,"span",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",19)(7,"div",16)(8,"textarea",17),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.setAnswerType3(a.question.id,o,3,!1,0))}),t.ALo(9,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(11,ka,e.isMobileDevice)),t.xp6(3),t.Oqu(t.lcZ(5,7,"lang_auto_nhap_dap_an")),t.xp6(4),t.s9C("id","answer-0-all-"+e.question.id),t.s9C("placeholder",t.lcZ(9,9,"lang_auto_dap_an_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}let me=(()=>{class n extends w.Q{setAnswerChoose(e,i,o,a,r,l,_,m,g){i&&5==o&&(i.status=g);var v,f={id:e,answerConfig:i,event:null,type:o,isImage:a,index:r},b=i.content?this.commonService.myTranslateInstant(i.content+"-"+g=="T"?"lang_auto_dung":"lang_auto_sai"):"";(l||_)&&void 0!==m?(v=[m.toString(),l??"",_??"",e.toString()],this.setResultTracking.emit(v)):!l&&!_&&b&&void 0!==m&&(l=b,_=b,v=[m.toString(),l??"",_??"",e.toString()],this.setResultTracking.emit(v)),this.setAnswerEmitter.emit(f)}setAnswerType3(e,i,o,a,r){var l={id:e,answerConfig:null,event:i,type:o,isImage:a,index:r};if(this.showList)3==o&&(a?(_=document.getElementById("answer-1-unit-"+e))&&(_.value=i.target.value):(_=document.getElementById("answer-0-unit-"+e))&&(_.value=i.target.value));else if(3==o)if(a)(_=document.getElementById("answer-1-all-"+e))&&(_.value=i.target.value);else{var _;(_=document.getElementById("answer-0-all-"+e))&&(_.value=i.target.value)}this.setAnswerEssayEmitter.emit(l)}ngOnInit(){this.answerTypeService.isOneChoiceAnswer(this.question)&&(this.typeAnswerChoose=2),this.answerTypeService.isMultipleChoiceAnswer(this.question)&&(this.typeAnswerChoose=1),this.answerTypeService.isTrueFalseAnswer(this.question)&&(this.typeAnswerChoose=5)}constructor(e){super(),this.answerTypeService=e,this.answerIndex=0,this.showList=!1,this.fontSize=1,this.setResultTracking=new t.vpe,this.setAnswerEmitter=new t.vpe,this.setAnswerEssayEmitter=new t.vpe,this.configRenderService=new qe.v,this.typeAnswerChoose=2}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ht.i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-answer-view-for-student-at-step-page"]],inputs:{question:"question",answerIndex:"answerIndex",showList:"showList",fontSize:"fontSize"},outputs:{setResultTracking:"setResultTracking",setAnswerEmitter:"setAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter"},features:[t.qOj],decls:9,vars:14,consts:[[4,"ngIf"],[1,"strike"],[1,"font-medium","text-slate-600","dark:text-slate-500"],[1,"p-3"],[1,"list-answer"],["class","item-answer flex items-center mt-2 cursor-pointer hover-border-primary",4,"ngFor","ngForOf"],[1,"item-answer","flex","items-center","mt-2","cursor-pointer","hover-border-primary"],[1,"btn","border-slate-400","mr-3",3,"ngClass","ngStyle","click"],[1,"answer-content","p-2","border","border-slate-400","dark:border-darkmode-400","rounded-md",3,"ngClass","click"],[3,"content"],[1,"btn","border-slate-400","mr-3",3,"ngClass","ngStyle"],[1,"answer-content","p-2","border","border-slate-400","dark:border-darkmode-400","rounded-md",3,"ngClass"],[1,"btn","border-slate-400","nohover","rounded-full","ml-2","mr-2",3,"ngStyle","ngClass","click"],[1,"text-xs"],[1,"btn","border-slate-400","nohover","rounded-full","mr-2",3,"ngStyle","ngClass","click"],[1,"azt-answer"],[1,"azt-answer-content","p-3","w-full"],["autoResize","",1,"w-full","form-control",3,"id","placeholder","value","input"],[1,"azt-answer",3,"ngClass"],[1,"flex","items-center","justify-between","w-full"]],template:function(e,i){1&e&&(t.YNc(0,va,10,11,"ng-container",0),t.ALo(1,"isOneChoiceAnswer"),t.ALo(2,"isMultipleChoiceAnswer"),t.YNc(3,Sa,8,8,"ng-container",0),t.ALo(4,"isTrueFalseAnswer"),t.YNc(5,Ca,9,10,"ng-container",0),t.ALo(6,"isEssayAnswer"),t.YNc(7,Oa,10,13,"ng-container",0),t.ALo(8,"isFillAnswer")),2&e&&(t.Q6J("ngIf",t.lcZ(1,4,i.question)||t.lcZ(2,6,i.question)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,8,i.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,10,i.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,12,i.question)))},dependencies:[p.mk,p.sg,p.O5,p.PC,Qe.m,ue.O,h.JV,h.Uy,h.F_,h.eH,h.ck,h.rp],encapsulation:2}),n})();const Aa=function(n){return{"skeleton-box-loading":n}};function ya(n,s){if(1&n&&t._UZ(0,"div",5),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,Aa,e.isFirstRender))}}function Ia(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",15),t.NdJ("sendAudioEmitter",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.sendAudio(o))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("questionObj",e.question)("isShowList",!0)("totalLimit",((null==e.examObj?null:e.examObj.limitAudio)||-1)>0?(null==e.examObj?null:e.examObj.limitAudio)||-1:0)}}function Za(n,s){if(1&n&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"isOfflineExam"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);let i;t.xp6(1),t.AsE(" ",e.customQuestionLabel+" "+((null!=e.question.labelIndex?e.question.labelIndex:e.index)+(null!==(i=e.startQuestionIndex)&&void 0!==i?i:1))," ",t.lcZ(2,2,e.examObj)?" ("+t.lcZ(3,4,"lang_auto_hoi_de_thi_offline")+") ":null," ")}}const ja=function(n){return{"pr-7":n}};function Ma(n,s){if(1&n&&(t.TgZ(0,"div",21)(1,"b",22),t._uU(2),t.ALo(3,"isTrueFalseAnswer"),t.qZA(),t.TgZ(4,"div",23),t._UZ(5,"azt-dynamic-hook",17),t.qZA()()),2&n){const e=s.$implicit,i=t.oxw(5);let o;t.xp6(1),t.Q6J("ngClass",t.VKq(5,ja,i.fontSize>1.5)),t.xp6(1),t.Oqu(t.lcZ(3,3,i.question)?(null!==(o=e.alpha)&&void 0!==o?o:e.key).toLowerCase()+")":(null!==(o=e.alpha)&&void 0!==o?o:e.key)+"."),t.xp6(3),t.Q6J("content",e.content)}}const qa=function(n){return{"remove-grid":n}};function Qa(n,s){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Ma,6,7,"div",20),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("ngClass",t.VKq(3,qa,e.fontSize>1.5))("answerSizeManager",e.answerSizeManager),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function Ea(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"azt-dynamic-hook",17),t.qZA(),t.YNc(3,Qa,2,5,"div",18),t.ALo(4,"isTrueFalseAnswer"),t.ALo(5,"isOneChoiceAnswer"),t.BQk()),2&n){const e=t.oxw(3);let i;t.xp6(2),t.Q6J("content",null!==(i=e.question.content)&&void 0!==i?i:""),t.xp6(1),t.Q6J("ngIf",(t.lcZ(4,2,e.question)||t.lcZ(5,4,e.question))&&e.question.answers&&e.question.answers.length>0&&e.overTime)}}const La=function(n){return{"pb-2":n}};function Fa(n,s){if(1&n&&(t.TgZ(0,"div",9),t.GkF(1,8),t.TgZ(2,"div",10),t.YNc(3,Ia,1,3,"azt-test-audio-ui",11),t.TgZ(4,"div",12),t.YNc(5,Za,4,6,"div",13),t.qZA(),t.YNc(6,Ea,6,6,"ng-container",14),t.ALo(7,"isOfflineExam"),t.qZA()()),2&n){const e=t.oxw(2),i=t.MAs(5);t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.question.id)("ngClass",t.VKq(12,La,e.question.attachments.length>0)),t.xp6(1),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.Q6J("ngIf",e.question.attachments.length>0),t.xp6(2),t.Q6J("ngIf",!e.hideQuestionLabel),t.xp6(1),t.Q6J("ngIf",!t.lcZ(7,10,e.examObj))}}function za(n,s){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,Fa,8,14,"div",7),t.GkF(2,8),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(7);t.xp6(1),t.Q6J("ngIf",e.question),t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}const Pa=function(n){return{"mt-4":n}};function Ua(n,s){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"azt-dynamic-hook",17),t.qZA()),2&n){const e=t.oxw(3);let i;t.Q6J("ngClass",t.VKq(2,Pa,e.isMobile)),t.xp6(1),t.Q6J("content",null!==(i=null==e.question.groupInfo?null:e.question.groupInfo.groupContent)&&void 0!==i?i:"")}}function Da(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Ua,2,4,"div",24),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.question.groupInfo?null:e.question.groupInfo.isFirstInGroup)}}function Na(n,s){if(1&n&&t.YNc(0,Da,2,1,"ng-container",14),2&n){const e=t.oxw();t.Q6J("ngIf",!(null!=e.examObj&&e.examObj.hideGroupQuestion)||(null==e.question?null:e.question.isRoleTeacher))}}function Ra(n,s){if(1&n&&(t.TgZ(0,"span",33),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.question.choseAnswer," ")}}function Ja(n,s){1&n&&(t.TgZ(0,"span")(1,"b",34),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_chua_tra_loi")))}function Ya(n,s){if(1&n&&(t.TgZ(0,"div",30)(1,"p",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ra,2,1,"span",32),t.YNc(5,Ja,4,3,"span",14),t.qZA()),2&n){const e=t.oxw(4);t.xp6(2),t.hij("",t.lcZ(3,3,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.xp6(1),t.Q6J("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function Ha(n,s){if(1&n&&(t.TgZ(0,"span",36)(1,"b",37),t._uU(2),t.qZA(),t.TgZ(3,"b",38),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu((e.alpha?e.alpha:e.key).toLowerCase()+") - "),t.xp6(2),t.Oqu(t.lcZ(5,2,e.checked?"lang_auto_dung":"lang_auto_sai"))}}function Ba(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Ha,6,4,"span",35),t.BQk()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function Ga(n,s){1&n&&(t.TgZ(0,"span")(1,"b",34),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_chua_tra_loi")))}function Ka(n,s){if(1&n&&(t.TgZ(0,"div",30)(1,"p",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ba,2,1,"ng-container",14),t.YNc(5,Ga,4,3,"span",14),t.qZA()),2&n){const e=t.oxw(4);t.xp6(2),t.hij("",t.lcZ(3,3,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngIf",e.hasAnswerChecking()),t.xp6(1),t.Q6J("ngIf",!e.hasAnswerChecking())}}function Wa(n,s){if(1&n&&(t.TgZ(0,"textarea",42),t._uU(1,"\t\t\t\t\t\t"),t.qZA()),2&n){const e=t.oxw(5);t.s9C("id","answer-0-all-"+e.question.id),t.Q6J("value",e.question.choseAnswer),t.uIk("question_id",e.question.id)}}function Va(n,s){if(1&n&&(t.TgZ(0,"textarea",42),t.ALo(1,"mytranslate"),t._uU(2,"\t\t\t\t\t\t\t"),t.qZA()),2&n){const e=t.oxw(5);t.s9C("id","answer-0-all-"+e.question.id),t.Q6J("value",t.lcZ(1,3,"lang_auto_thi_sinh_chua_nhap_thong_tin")),t.uIk("question_id",e.question.id)}}const $a=function(n){return{"w-100":n}};function Xa(n,s){if(1&n&&(t.TgZ(0,"div",30)(1,"p",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",39)(5,"div",40),t.YNc(6,Wa,2,3,"textarea",41),t.YNc(7,Va,3,5,"textarea",41),t.qZA()()()),2&n){const e=t.oxw(4);t.xp6(2),t.hij("",t.lcZ(3,4,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngClass",t.VKq(6,$a,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.xp6(1),t.Q6J("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function ts(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",28),t.YNc(2,Ya,6,5,"div",29),t.ALo(3,"isOneChoiceAnswer"),t.YNc(4,Ka,6,5,"div",29),t.ALo(5,"isTrueFalseAnswer"),t.YNc(6,Xa,8,8,"div",29),t.ALo(7,"isEssayAnswer"),t.ALo(8,"isFillAnswer"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,3,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,5,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,7,e.question)||t.lcZ(8,9,e.question))}}function es(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"azt-question-answer-view-for-student-at-step-page",44),t.NdJ("setResultTracking",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setResultTracking.emit(o))})("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerEmitter.emit(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerEssayEmitter.emit(o))}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("question",e.question)("answerIndex",e.index)("fontSize",e.fontSize)}}function ns(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",45)(1,"azt-question-answer-view-for-student-at-step-page",44),t.NdJ("setResultTracking",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setResultTracking.emit(o))})("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerEmitter.emit(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerEssayEmitter.emit(o))}),t.qZA()(),t.TgZ(2,"a",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.prevQuestion(o.index))}),t.TgZ(3,"mat-icon",47),t._uU(4,"arrow_back_ios_new"),t.qZA()(),t.TgZ(5,"a",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.nextQuestion(o.index))}),t.TgZ(6,"mat-icon",47),t._uU(7,"arrow_forward_ios"),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("question",e.question)("answerIndex",e.index)("fontSize",e.fontSize),t.xp6(1),t.Q6J("hidden",0==e.index),t.xp6(3),t.Q6J("hidden",e.index==e.questionListLength-1)}}function is(n,s){if(1&n&&(t.YNc(0,es,2,3,"ng-container",26),t.YNc(1,ns,8,5,"ng-template",null,43,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(3);t.Q6J("ngIf",i.showList)("ngIfElse",e)}}function os(n,s){if(1&n&&(t.ynx(0),t.YNc(1,ts,9,11,"ng-container",26),t.YNc(2,is,3,2,"ng-template",null,27,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.overTime)("ngIfElse",e)}}function as(n,s){if(1&n&&t.YNc(0,os,4,2,"ng-container",14),2&n){const e=t.oxw();t.Q6J("ngIf",e.question)}}let Ht=(()=>{class n extends w.Q{openSubmitExam(){this.openSubmitExamEmitter.emit(!0)}nextQuestion(e){this.nextQuestionEmitter.emit(e)}prevQuestion(e){this.prevQuestionEmitter.emit(e)}sendAudio(e){e&&this.sendAudioEmit.emit(e)}setAnswer(e,i,o,a,r,l,_,m,g){i&&5==o&&(i.status=g);var v,f={id:e,answerConfig:i,event:null,type:o,isImage:a,index:r},b=i.content?this.commonService.myTranslateInstant(i.content+"-"+g=="T"?"lang_auto_dung":"lang_auto_sai"):"";(l||_)&&void 0!==m?(v=[m.toString(),l??"",_??"",e.toString()],this.setResultTracking.emit(v)):!l&&!_&&b&&void 0!==m&&(l=b,_=b,v=[m.toString(),l??"",_??"",e.toString()],this.setResultTracking.emit(v)),this.setAnswerEmitter.emit(f)}setAnswerType3(e,i,o,a,r){var l={id:e,answerConfig:null,event:i,type:o,isImage:a,index:r};if(this.showList)3==o&&(a?(_=document.getElementById("answer-1-unit-"+e))&&(_.value=i.target.value):(_=document.getElementById("answer-0-unit-"+e))&&(_.value=i.target.value));else if(3==o)if(a)(_=document.getElementById("answer-1-all-"+e))&&(_.value=i.target.value);else{var _;(_=document.getElementById("answer-0-all-"+e))&&(_.value=i.target.value)}this.setAnswerEssayEmitter.emit(l)}startRenderQuestion(){!this.question||this.disableRender||this.flagObjectComponent.isDestroy?this.disableRender&&!this.flagObjectComponent.isDestroy&&this.doneRender.emit():this.questionRenderService.parseRenderQuestion(this.question,this.configRenderService).then(()=>{this.flagObjectComponent.isDestroy||this.doneRender.emit()}).catch(e=>{this.flagObjectComponent.isDestroy||this.showErrorSnack(e.message)})}get customQuestionLabel(){return(this.commonService.castJsonToObj(this.expandInfo??"{}")??{}).label??"C\xe2u"}ngOnChanges(){this.fontSize&&(this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.startRenderQuestion())}ngDoCheck(){if(!this.isRenderElement){const e=document.getElementById("question_render_element_"+this.question.id);e&&(this.disableLazy||e.getAttribute("start_loading")&&"true"==e.getAttribute("start_loading"))&&(this.isRenderElement||(this.isFirstRender&&(this.startRenderQuestion(),this.follower.doneItemPartQuest()),this.isFirstRender=!1,this.isRenderElement=!0))}}setInputValueTextarea(e){var i=Number(e.target.getAttribute("question_id")),o=!!e.target.getAttribute("isImage");this.setAnswerType3(i,e,3,o,0)}hasAnswerChecking(){return null!=this.question.answers.filter(e=>1==e.checked)}ngOnInit(){super.ngOnInit(),this.backToLink=`/test/answer-test/${this.configExam?.tenantId??0}/${this.configExam?.categoryId??0}/${this.configExam?.hashId}/${this.cur_result}`,this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.flagObjectComponent.isDestroy=!1}ngOnDestroy(){this.flagObjectComponent.isDestroy=!0,super.ngOnDestroy()}constructor(e){super(),this.questionRenderService=e,this.follower=new ct.p,this.mathJaxImage=!1,this.disableLazy=!1,this.disableRender=!1,this.index=0,this.last=!1,this.hideQuestionLabel=!1,this.answerSizeManager=0,this.fontSize=1,this.orgExamObjs=[],this.isMobile=!1,this.showList=!1,this.overTime=!1,this.countQuestion=0,this.sendAudioEmit=new t.vpe,this.setAnswerEmitter=new t.vpe,this.setAnswerEssayEmitter=new t.vpe,this.setResultTracking=new t.vpe,this.openSubmitExamEmitter=new t.vpe,this.nextQuestionEmitter=new t.vpe,this.prevQuestionEmitter=new t.vpe,this.doneRender=new t.vpe,this.isFirstRender=!0,this.isRenderElement=!1,this.flagObjectComponent=new ga,this.backToLink="",this.configRenderService=new qe.v}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Zt.h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-standalone-for-student-at-full-test"]],inputs:{follower:"follower",mathJaxImage:"mathJaxImage",disableLazy:"disableLazy",disableRender:"disableRender",cur_result:"cur_result",index:"index",last:"last",questionListLength:"questionListLength",configExam:"configExam",expandInfo:"expandInfo",question:"question",hideQuestionLabel:"hideQuestionLabel",answerSizeManager:"answerSizeManager",fontSize:"fontSize",orgExamObjs:"orgExamObjs",startQuestionIndex:"startQuestionIndex",isMobile:"isMobile",showList:"showList",overTime:"overTime",countQuestion:"countQuestion",examObj:"examObj"},outputs:{sendAudioEmit:"sendAudioEmit",setAnswerEmitter:"setAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter",setResultTracking:"setResultTracking",openSubmitExamEmitter:"openSubmitExamEmitter",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",doneRender:"doneRender"},features:[t.qOj,t.TTD],decls:8,vars:3,consts:[["load_effect_lazy","",1,"question-standalone-box",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],["showQuestionGroupContent",""],["displayTwo",""],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],["class","question-standalone-container mb-0 no-border-question border-slate-200/60 dark:border-darkmode-400",3,"id","fontSize","lineHeight","ngClass",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"question-standalone-container","mb-0","no-border-question","border-slate-200/60","dark:border-darkmode-400",3,"id","ngClass"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],["class","question-standalone-label",4,"ngIf"],[4,"ngIf"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"question-standalone-label"],[3,"content"],["class","row answers",3,"ngClass","answerSizeManager",4,"ngIf"],[1,"row","answers",3,"ngClass","answerSizeManager"],["class","answer col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6"],[1,"answer-label",3,"ngClass"],[1,"answer-content"],["class","group-content-of-question-standalone",3,"ngClass",4,"ngIf"],[1,"group-content-of-question-standalone",3,"ngClass"],[4,"ngIf","ngIfElse"],["NormalShow",""],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content-front",4,"ngIf"],[1,"answer-content-front"],[1,"h5","mb-0","mr-2",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],["class","mr-2",4,"ngFor","ngForOf"],[1,"mr-2"],[2,"font-weight","450"],[1,"text-warning",2,"font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["autoResize","","class","form-control mt-1","readonly","",3,"value","id",4,"ngIf"],["autoResize","","readonly","",1,"form-control","mt-1",3,"value","id"],["showUnit",""],[3,"question","answerIndex","fontSize","setResultTracking","setAnswerEmitter","setAnswerEssayEmitter"],[1,"ml-auto","mr-auto","w-full"],["azt-track-service","azt-standalone-question-qg61lciMK9n",1,"prev_question_btn","clickable",3,"hidden","click"],[1,"arrow_btn"],["azt-track-service","azt-standalone-question-oXYgmFEMM_2",1,"next_question_btn","clickable",3,"hidden","click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,ya,1,3,"div",1),t.YNc(2,za,3,2,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Na,1,1,"ng-template",null,3,t.W1O),t.YNc(6,as,1,1,"ng-template",null,4,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("id","question_render_element_"+i.question.id),t.xp6(1),t.Q6J("ngIf",!i.isRenderElement)("ngIfElse",o)}},dependencies:[p.mk,p.sg,p.O5,p.tP,ut.Hw,_e.C,ce.T,Qe.m,ha.s,me,ue.O,h.JV,h.CL,h.Uy,h.eH,h.ck,h.rp],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();var Bt=u(45061);const ss=["myDialogConfirmExam"];function rs(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"h5",15),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_loi"),": ",t.lcZ(3,4,e.data.messageError),"")}}function ls(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.confirmFinish())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.hij(" ",t.lcZ(6,5,"lang_auto_gui_lai")," ")}}function _s(n,s){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10)(5,"polyline",11)(6,"path",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,rs,4,6,"h5",13),t.kcU(),t._UZ(10,"br"),t.YNc(11,ls,7,7,"div",14),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,3,"lang_auto_bai_lam_cua_ban_dang_duoc_tu_dong_nop_len_he_thong_vui_long_doi_trong_giay_lat")," "),t.xp6(2),t.Q6J("ngIf",e.data.saveFalse&&e.data.messageError),t.xp6(2),t.Q6J("ngIf",e.data.autoSubmit&&e.data.saveFalse)}}function cs(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",28)(1,"span",29),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",30),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(3);let i;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_thoi_gian_lam_bai_cua_ban_con")," "),t.xp6(3),t.lnq(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," : ",(null!==(i=e.timeCount.minute)&&void 0!==i?i:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," : ",(null!==(i=e.timeCount.second)&&void 0!==i?i:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function us(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.lcZ(3,5,"lang_auto_va")," ",t.lcZ(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeft+t.lcZ(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function ms(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function ds(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeft+t.lcZ(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function ps(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",22)(1,"span",15)(2,"span",30),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,us,6,11,"span",31),t.YNc(6,ms,3,3,"span",31),t.YNc(7,ds,4,5,"span",31),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_canh_bao")+": "," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeft),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeft),t.xp6(1),t.Q6J("ngIf",e.data.totalTrueFalseLeft&&!e.data.notHasFiles),t.xp6(2),t.hij(" ",t.lcZ(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function gs(n,s){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",32)(1,"p",23),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban")," "))}function hs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_huy")," "))}function fs(n,s){1&n&&(t.TgZ(0,"span",34),t._UZ(1,"azt-loading-ui"),t.qZA())}function xs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10)(5,"polyline",11)(6,"path",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,cs,6,6,"div",19),t.YNc(10,ps,11,9,"div",20),t.YNc(11,gs,6,9,"div",21),t.kcU(),t.TgZ(12,"div",22)(13,"p",23),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()(),t.TgZ(16,"div",24),t.YNc(17,hs,3,3,"button",25),t.TgZ(18,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmFinish())}),t.YNc(19,fs,2,0,"span",27),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,10,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.xp6(2),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeft),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(3),t.hij(" ",t.lcZ(15,12,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," "),t.xp6(3),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(1),t.Q6J("disabled",e.countTimeEnable>0),t.xp6(1),t.Q6J("ngIf",e.countTimeEnable>0),t.xp6(1),t.AsE(" ",t.lcZ(21,14,"lang_auto_nop_bai")," ",e.countTimeEnable>0?"("+e.countTimeEnable+")":""," ")}}function bs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,_s,12,5,"div",4),t.YNc(4,xs,22,16,"ng-template",null,5,t.W1O),t.qZA()()}if(2&n){const e=t.MAs(5),i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.data.autoSubmit)("ngIfElse",e)}}let de=(()=>{class n extends w.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.data.autoSubmit||this.closeDialog.emit()}confirmFinish(){this.redirectToHomepage.emit({isConfirm:!0,isAutoSubmit:this.data.autoSubmit,isSaveFalse:this.data.saveFalse})}setTimeExam(e){const i=Math.floor(e/3600),a=Math.floor(e%3600/60);this.timeCount={hour:i,minute:a,second:e%60}}setIntervalTimeExam(){if((this.data.time??0)>0){var e="exam_submit",i=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(i==this.globalService.getGlobalInterval(e)){const o=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),l=this.totalTime%60;this.totalTime<=0?(this.data.autoSubmit||setTimeout(()=>{this.confirmFinish()},5e3),clearInterval(this.intervalExamTimeout)):this.timeCount=0==o&&0==r?{hour:o,minute:r,second:l,almostEnd:!0}:{hour:o,minute:r,second:l,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(o){console.log(o)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}else this.timeCount={hour:0,minute:0,second:0,almostEnd:!0}}btnCloseDialog(){this.closeDialog.emit()}enableSubmitBtn(){setTimeout(()=>{this.countTimeEnable>0&&(this.countTimeEnable--,this.enableSubmitBtn())},1e3)}ngOnInit(){this.data.unLimitTime||(this.totalTime=this.data.time??0,this.setIntervalTimeExam(),0==this.data.time&&!this.data.autoSubmit&&setTimeout(()=>{this.confirmFinish()},5e3)),this.data.notHasFiles?this.enableSubmitBtn():this.countTimeEnable=0,this.data.saveFalse&&this.enableSubmitBtn(),super.ngOnInit()}ngOnDestroy(){this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout)}constructor(e,i){super(),this.commonService=e,this.globalService=i,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.timeCount={hour:0,minute:0,second:0},this.countTimeEnable=5,this.intervalExamTimeout=0,this.totalTime=0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z),t.Y36(It.q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-exam"]],viewQuery:function(e,i){if(1&e&&t.Gf(ss,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","comfirm-exam-z_puAsjOC1","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","comfirm-exam-z_puAsjOC1",1,"school-info_bg",3,"click"],[1,"school-info","box","p-4",2,"max-width","400px"],["myDialogConfirmExam",""],["class","border-b border-slate-200/60 dark:border-darkmode-400",4,"ngIf","ngIfElse"],["Normal",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-success"],["d","M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"],["points","14 2 14 8 20 8"],["d","m3 15 2 2 4-4"],["class","text-danger",4,"ngIf"],["class","p-3 text-right",4,"ngIf"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","comfirm-exam-LYN9nXCVX5",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","comfirm-exam-GvkpeRaIJ-",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mt-5 flex items-center",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","justify-end"],["azt-track-service","comfirm-exam-GwLo2uv__","class","btn btn-secondary w-40 mr-2","style","vertical-align: middle;",3,"click",4,"ngIf"],["azt-track-service","comfirm-exam-x-4M3WDlkE",1,"btn","w-40","btn-primary",2,"vertical-align","middle",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-5","flex","items-center"],[1,"text-md"],[1,"font-medium"],[4,"ngIf"],[1,"mt-2","text-center"],["azt-track-service","comfirm-exam-GwLo2uv__",1,"btn","btn-secondary","w-40","mr-2",2,"vertical-align","middle",3,"click"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,i){1&e&&t.YNc(0,bs,6,2,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.O5,xt.n,h.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();const vs=["myDialogExitExam"];function Ts(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",17)(1,"span",18),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",19),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2);let i;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_thoi_gian_lam_bai_cua_ban_con")," "),t.xp6(3),t.lnq(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," : ",(null!==(i=e.timeCount.minute)&&void 0!==i?i:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," : ",(null!==(i=e.timeCount.second)&&void 0!==i?i:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function ws(n,s){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",20)(1,"p",21),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.lnq("",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban"),""))}function Ss(n,s){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",22)(1,"p",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khi_ban_thoat_thoi_gian_lam_bai_cua_ban_se_tiep_tuc_chay_neu_ban_khong_quay_lai_dot")," "))}function Cs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.btnCloseDialog())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_huy")," "))}function ks(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"path",8)(8,"line",9)(9,"line",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,Ts,6,6,"div",11),t.YNc(13,ws,6,9,"div",12),t.YNc(14,Ss,4,3,"div",13),t.qZA()(),t.kcU(),t.TgZ(15,"div",14),t.YNc(16,Cs,3,3,"button",15),t.TgZ(17,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();let i;t.xp6(10),t.hij(" ",t.lcZ(11,6,"lang_auto_ban_co_chac_chan_muon_thoat")+" ?"," "),t.xp6(2),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(null!==(i=e.data.time)&&void 0!==i?i:0)>0||e.data.unLimitTime),t.xp6(2),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(2),t.hij(" ",t.lcZ(19,8,(e.data.time||1)<=0&&!e.data.unLimitTime?"lang_auto_hoan_thanh":"lang_auto_xac_nhan")," ")}}let pe=(()=>{class n extends w.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.closeDialog.emit()}confirmQuit(){this.redirectToHomepage.emit(!0)}setTimeExam(e){const i=Math.floor(e/3600),a=Math.floor(e%3600/60);this.timeCount={hour:i,minute:a,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){this.setTimeExam(this.data.time??0),super.ngOnInit()}constructor(e){super(),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.timeCount={hour:0,minute:0,second:0}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-exit-exam"]],viewQuery:function(e,i){if(1&e&&t.Gf(vs,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","exit-exam-hucOQpWgIe","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","exit-exam-hucOQpWgIe",1,"school-info_bg",3,"click"],[1,"school-info","p-4","box",2,"max-width","400px"],["myDialogExitExam",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["class","mt-5 flex items-center",4,"ngIf"],["class","text-center",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","exit-exam-kt6CrvSrn7","class","btn btn-secondary w-24 mr-2",3,"click",4,"ngIf"],["azt-track-service","exit-exam-HDzj9p0Z53",1,"btn","w-24","btn-primary",3,"click"],[1,"mt-5","flex","items-center"],[1,"text-md"],[1,"font-medium"],[1,"text-center"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],["azt-track-service","exit-exam-kt6CrvSrn7",1,"btn","btn-secondary","w-24","mr-2",3,"click"]],template:function(e,i){1&e&&t.YNc(0,ks,20,10,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.O5,h.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var vt=u(91765),ge=u(79998),ze=u(67679);const Os=["myDialogSubmitName"];function As(n,s){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",15)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.goToRegister())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_dang_ky")," "))}function ys(n,s){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",18)(1,"p",19),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_da_co_tai_khoan")," "))}function Is(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"polygon",10)(5,"line",11)(6,"line",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,As,4,3,"div",13),t.YNc(10,ys,4,3,"div",14),t.kcU(),t.TgZ(11,"div",15)(12,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToLogin())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,4,1==e.type?e.isBusinessDomain?"lang_business_ban_can_phai_dang_nhap_tai_khoan_de_lam_bai_thi":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_lam_bai_thi":e.isBusinessDomain?"lang_business_ban_can_phai_dang_nhap_tai_khoan_de_xem_ket_qua_thi_offline":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_xem_ket_qua_thi_offline")," "),t.xp6(2),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(3),t.hij(" ",t.lcZ(14,6,"lang_auto_dang_nhap")," ")}}function Zs(n,s){1&n&&(t.TgZ(0,"div",37)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_yeu_cau_nhap_ho_ten")))}function js(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.registerAccount())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij('"',t.lcZ(2,1,"lang_auto_dang_ky"),'"'))}function Ms(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_or")))}function qs(n,s){1&n&&(t.TgZ(0,"span",39),t._UZ(1,"azt-loading-ui"),t.qZA())}function Qs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"form",22)(1,"h2",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",24)(5,"div",25),t._UZ(6,"input",26),t.ALo(7,"mytranslate"),t.YNc(8,Zs,4,3,"div",27),t.qZA()(),t.TgZ(9,"div",28)(10,"h5",29),t._uU(11),t.ALo(12,"mytranslate"),t.YNc(13,js,3,3,"a",30),t.YNc(14,Ms,3,3,"span",31),t.TgZ(15,"a",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.goToLogin())}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.TgZ(20,"div",33),t._UZ(21,"div",34),t.TgZ(22,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(23,qs,2,0,"span",36),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(2),t.hij(" ",t.lcZ(3,12,"lang_auto_vui_long_nhap_ten_de_tiep_tuc_bai_thi")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(7,14,"lang_auto_ho_va_ten")),t.xp6(2),t.Q6J("ngIf",e.form.controls.fullName.invalid&&e.form.controls.fullName.dirty&&e.getErrorType("fullName","required")),t.xp6(3),t.hij("",t.lcZ(12,16,"lang_auto_click_vao")," "),t.xp6(2),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(2),t.hij('"',t.lcZ(17,18,"lang_auto_dang_nhap"),'"'),t.xp6(2),t.hij(" ",t.lcZ(19,20,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban"),""),t.xp6(4),t.Q6J("disabled",e.statusObj.loading||e.form.controls.fullName.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(25,22,"lang_auto_xac_nhan")," ")}}function Es(n,s){1&n&&(t.TgZ(0,"div",37)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_yeu_cau_nhap_mat_khau")))}function Ls(n,s){if(1&n&&(t.TgZ(0,"div",44),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.data.errorMessage)," ")}}function Fs(n,s){1&n&&(t.TgZ(0,"span",39),t._UZ(1,"azt-loading-ui"),t.qZA())}function zs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"form",22)(1,"h2",23),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"h4",40),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",24)(10,"div",25),t._UZ(11,"input",41),t.ALo(12,"mytranslate"),t.YNc(13,Es,4,3,"div",27),t.qZA()(),t.YNc(14,Ls,3,3,"div",42),t.TgZ(15,"div",33),t._UZ(16,"div",34),t.TgZ(17,"button",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(18,Fs,2,0,"span",36),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(2),t.lnq(" ",t.lcZ(3,11,"lang_auto_yeu_cau"),' "',t.lcZ(4,13,"lang_auto_mat_khau"),'" ',t.lcZ(5,15,"lang_auto_de_tiep_tuc_bai_thi")," "),t.xp6(5),t.hij(" ",t.lcZ(8,17,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(12,19,"lang_auto_mat_khau_bai_thi")),t.xp6(2),t.Q6J("ngIf",e.form.controls.password.invalid&&e.form.controls.password.dirty&&e.getErrorType("password","required")),t.xp6(1),t.Q6J("ngIf",""!=e.data.errorMessage),t.xp6(3),t.Q6J("disabled",e.statusObj.loading||e.form.controls.password.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(20,21,"lang_auto_xac_nhan")," ")}}function Ps(n,s){if(1&n&&(t.TgZ(0,"div",20)(1,"div",7),t.YNc(2,Qs,26,24,"form",21),t.YNc(3,zs,21,23,"form",21),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.data.needPassword),t.xp6(1),t.Q6J("ngIf",e.data.needPassword)}}function Us(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,Is,15,8,"div",4),t.YNc(4,Ps,4,2,"ng-template",null,5,t.W1O),t.qZA()()}if(2&n){const e=t.MAs(5),i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.data.notAnonymous)("ngIfElse",e)}}let he=(()=>{class n extends w.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.form.valid&&this.submitName()}submitName(){var e=this.getFormValue();if(this.data.needPassword)this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.data.examId?.toString()??"",this.data.hashId??""),this.browserStorageService.saveSimpleStorage("password_"+this.data.hashId,e.password.trim()),this.closeDialog.emit(!0);else{var i={id:0,name:e.fullName};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoChangeNamePost(i).subscribe(o=>{1==o.success?(this.closeDialog.emit(!0),this.successStatusObj()):this.errorStatusObj(o.message??"")}))}}getErrorType(e,i){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors?.[i])&&this.form.controls[e].errors?.[i]}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`)}registerAccount(){this.redirectService.redirectRegisterForStudent()}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit()}constructor(e,i,o,a){super(),this.userInfoService=e,this.router=i,this.redirectService=o,this.browserStorageService=a,this.data={},this.type=1,this.closeDialog=new t.vpe,this.password="",this.form=new c.cw({password:new c.NI("",{nonNullable:!0,validators:[c.kI.required,vt._.noWhiteSpace]}),fullName:new c.NI("",{nonNullable:!0,validators:[c.kI.required,vt._.noWhiteSpace]})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Dt.$C),t.Y36(d.F0),t.Y36(ge.z),t.Y36(bt.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-name"]],viewQuery:function(e,i){if(1&e&&t.Gf(Os,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data",type:"type"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","submit-name-qn6xjUHvDW3","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","submit-name-qn6xjUHvDW3",1,"school-info_bg",3,"click"],[1,"school-info","box","p-5"],["myDialogSubmitName",""],["class","border-slate-200/60 dark:border-darkmode-400 text-center",4,"ngIf","ngIfElse"],["allowAnonymous",""],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["class","mx-auto",4,"ngIf"],["class","mb-2 text-md font-medium mt-2 ",4,"ngIf"],[1,"mx-auto"],["azt-track-service","submit-name-UNDqa4pBGe9",1,"btn","w-24","btn-primary",3,"click"],["azt-track-service","submit-name-DfdZNdp-7E-",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","text-center"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"intro-x","font-bold","text-center"],[1,"intro-x","mt-8"],[1,"azt-form-group","mb-2"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"text-center"],[1,"mb-0","mt-1","text-xs","font-weight-normal"],["azt-track-service","submit-name-9mDwu35n85M","class","clickable text-primary",3,"click",4,"ngIf"],[4,"ngIf"],["azt-track-service","submit-name-I90pj19d1hI",1,"clickable","text-primary",3,"click"],[1,"flex","float-right","mt-8"],[1,"azt-block-button"],["azt-track-service","submit-name-VFvIxTbeIJB",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["azt-track-service","submit-name-9mDwu35n85M",1,"clickable","text-primary",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],[1,"intro-x","font-bold","text-center","text-danger"],["type","text","autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder"],["class","alert alert-danger text-xs mt-3  mb-2",4,"ngIf"],["azt-track-service","submit-name-GP1OEy2B9IJ",1,"btn","w-32","btn-primary",3,"disabled","click"],[1,"alert","alert-danger","text-xs","mt-3","mb-2"]],template:function(e,i){1&e&&t.YNc(0,Us,6,2,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,ze.M,xt.n,h.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var Pe=u(23680),Ue=u(75986),Gt=u(64170),Kt=u(87466),De=u(98525);const Ds=["myDialogSubmitInfo"];function Ns(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",21)(2,"div",22),t._uU(3),t.qZA(),t._UZ(4,"input",23),t.qZA()()),2&n){const e=t.oxw(),i=e.$implicit,o=e.index;t.xp6(3),t.hij(" ",i.title," "),t.xp6(1),t.MGl("formControlName","infoType_0_field_",o,"")}}function Rs(n,s){if(1&n&&(t.TgZ(0,"div",28)(1,"mat-checkbox",29)(2,"span",30),t._uU(3),t.qZA()()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw(2).index,a=t.oxw(2);t.MGl("formArrayName","infoType_1_field_",o,""),t.xp6(1),t.Q6J("checked",a.form.value["infoType_1_field_"+o][i])("formControlName",i),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function Js(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",24)(2,"span",25),t._uU(3),t.qZA()(),t.TgZ(4,"div",26),t.YNc(5,Rs,4,5,"div",27),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.contents)}}function Ys(n,s){if(1&n&&(t.TgZ(0,"mat-radio-button",34)(1,"span",30),t._uU(2),t.qZA()()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function Hs(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",24)(2,"span",31),t._uU(3),t.qZA()(),t.TgZ(4,"mat-radio-group",32),t.YNc(5,Ys,3,3,"mat-radio-button",33),t.qZA()()),2&n){const e=t.oxw(),i=e.$implicit,o=e.index;t.xp6(3),t.Oqu(i.title),t.xp6(1),t.MGl("formControlName","infoType_2_field_",o,""),t.xp6(1),t.Q6J("ngForOf",i.contents)}}function Bs(n,s){if(1&n&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function Gs(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",21)(2,"span",31),t._uU(3),t.qZA()(),t.TgZ(4,"div",35)(5,"mat-form-field",36)(6,"mat-label",37),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"mat-select",38),t.YNc(10,Bs,2,2,"mat-option",39),t.qZA()()()()),2&n){const e=t.oxw(),i=e.$implicit,o=e.index;t.xp6(3),t.Oqu(i.title),t.xp6(4),t.Oqu(t.lcZ(8,4,"lang_auto_chon_mot_thong_tin")),t.xp6(2),t.MGl("formControlName","infoType_3_field_",o,""),t.xp6(1),t.Q6J("ngForOf",i.contents)}}function Ks(n,s){if(1&n&&(t.ynx(0,19),t.YNc(1,Ns,5,2,"div",20),t.YNc(2,Js,6,2,"div",20),t.YNc(3,Hs,6,3,"div",20),t.YNc(4,Gs,11,6,"div",20),t.BQk()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.type),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type),t.xp6(1),t.Q6J("ngIf",3==e.type)}}function Ws(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",41)(1,"h5",42),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"a",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.registerAccount())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7,"\xa0 "),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t._uU(11,"\xa0 "),t.TgZ(12,"a",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToLogin())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_click_vao"),"\xa0 "),t.xp6(3),t.hij('"',t.lcZ(6,7,"lang_auto_dang_ky"),'"'),t.xp6(4),t.Oqu(t.lcZ(10,9,"lang_auto_or")),t.xp6(4),t.hij('"',t.lcZ(14,11,"lang_auto_dang_nhap"),'"'),t.xp6(2),t.hij("\xa0 ",t.lcZ(16,13,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban")," "))}function Vs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",41)(1,"h5",42)(2,"a",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToLogin())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.hij('"',t.lcZ(4,2,"lang_auto_dang_nhap"),'"'),t.xp6(2),t.hij("\xa0 ",t.lcZ(6,4,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban")," "))}function $s(n,s){1&n&&(t.TgZ(0,"span",45),t._UZ(1,"azt-loading-ui"),t.qZA())}function Xs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"form",2)(2,"div",3,4)(4,"div",5)(5,"div",6)(6,"h2",7),t.O4$(),t.TgZ(7,"svg",8),t._UZ(8,"polygon",9)(9,"line",10)(10,"line",11),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(13,"h6",12),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",13),t.YNc(17,Ks,5,4,"ng-container",14),t.YNc(18,Ws,17,15,"div",15),t.YNc(19,Vs,7,6,"div",15),t.qZA(),t.TgZ(20,"div",16)(21,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleConfirm())}),t.YNc(22,$s,2,0,"span",18),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(10),t.hij(" ",t.lcZ(12,9,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(15,11,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")," "),t.xp6(3),t.Q6J("ngForOf",e.data.infoFields),t.xp6(1),t.Q6J("ngIf",e.isAnonymous&&!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",e.isAnonymous&&e.isBusinessDomain),t.xp6(2),t.Q6J("disabled",!e.form.valid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(24,13,"lang_auto_xac_nhan")," ")}}let fe=(()=>{class n extends w.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.form.valid&&this.handleConfirm()}goToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`)}registerAccount(){this.redirectService.redirectRegisterForStudent()}handleConfirm(){this.initStatusObj(),this.mapData(),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.data.examId?.toString()??"",this.data.hashId??""),this.browserStorageService.saveSimpleStorage("userInfoV3_"+this.data.hashId,JSON.stringify(this.infoSubmit));var e={success:!0,info:JSON.stringify(this.infoSubmit)};if(this.data.isAnonymousName){let i="";this.infoSubmit[0]&&this.infoSubmit[0].contents&&this.infoSubmit[0].contents[0]&&(i=this.infoSubmit[0].contents[0]),this.waitDestroy(this.userInfoService.apiUserInfoChangeNamePost({id:0,name:i}).subscribe(a=>{1==a.success?(this.closeDialog.emit(e),this.successStatusObj()):this.errorStatusObj(a.message??"")}))}else this.closeDialog.emit(e),this.successStatusObj()}mapData(){if(this.infoSubmit=[],Array.isArray(this.data.infoFields))for(let e=0;e<this.data.infoFields.length;e++){let i={contents:[]};if(1===(i.index=e,i.type=this.data.infoFields[e].type,i.title=this.data.infoFields[e].title,i.contents=[],this.data.infoFields[e].type))for(let o=0;o<this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`].length;o++)this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`][o]&&i.contents.push(this.data.infoFields[e].contents[o]);else i.contents.push(this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`]);this.infoSubmit.push(i)}}ngOnInit(){this.isAnonymous=this.userService.isAnonymousRoleOfCurrentUser();let e={};if(this.data.isAnonymousName&&(e.fullAnonymousName=new c.NI("")),Array.isArray(this.data.infoFields)){for(let o=0;o<this.data.infoFields.length;o++)switch(this.data.infoFields[o].type){case 1:var i=[];this.data.infoFields[o].contents.forEach(a=>{i.push(new c.NI(!1))}),e[`infoType_1_field_${o}`]=new c.Oe(i,tr(1));break;case 2:e[`infoType_2_field_${o}`]=["",c.kI.required];break;case 3:e[`infoType_3_field_${o}`]=["",c.kI.required];break;default:e[`infoType_0_field_${o}`]=["",c.kI.required]}this.form=this.fb.group(e)}super.ngOnInit()}constructor(e,i,o,a,r,l){super(),this.fb=e,this.redirectService=i,this.userInfoService=o,this.router=a,this.browserStorageService=r,this.userService=l,this.data={},this.closeDialog=new t.vpe,this.form=new c.cw({}),this.infoSubmit=[],this.isAnonymous=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(ge.z),t.Y36(Dt.$C),t.Y36(d.F0),t.Y36(bt.n),t.Y36(et.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-info"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ds,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","submit-info-AkA9Js03Xk","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","submit-info-AkA9Js03Xk",1,"school-info_bg",3,"click"],["id","test-info-form",3,"formGroup"],[1,"school-info","box","scrollable-form"],["myDialogSubmitInfo",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"mt-0","px-4","py-4",2,"padding-bottom","0"],[1,"intro-x","text-md","font-bold","flex","items-center","text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"intro-x","text-xs","text-left","text-slate-600"],[1,"px-4","py-4","pt-0"],["class","info-field",4,"ngFor","ngForOf"],["class","text-left mt-3",4,"ngIf"],[1,"float-right","p-3"],["azt-track-service","submit-info-5wWwRj07M5L",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"info-field"],[4,"ngIf"],[1,"input-group","mt-3"],[1,"input-group-text","whitespace-nowrap",2,"min-width","134px","text-align","left"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group","w-full","mt-3"],[1,"input-group-text","w-full","align-center",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row"],["class","col-span-12 sm:col-span-12 md:col-span-4 text-left mb-1",3,"formArrayName",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","text-left","mb-1",3,"formArrayName"],["color","primary",3,"checked","formControlName"],[1,"truncate",2,"vertical-align","middle",3,"matTooltip"],[1,"input-group-text","w-full",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row",3,"formControlName"],["color","primary","class","col-span-12 sm:col-span-12 md:col-span-4 text-left mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-span-12","sm:col-span-12","md:col-span-4","text-left","mb-1",3,"value"],[1,"border-row"],["appearance","fill",1,"border-0"],[1,"mt-2"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-left","mt-3"],[1,"mb-0","mt-1","text-xs","font-weight-normal"],["azt-track-service","submit-info-OHI7lx2Sde6",1,"clickable","text-primary",3,"click"],["azt-track-service","submit-info-UkAluucVzhQ",1,"clickable","text-primary",3,"click"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,i){1&e&&t.YNc(0,Xs,25,15,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.sg,p.O5,Pe.ey,Ue.oG,Gt.KE,Gt.hX,Kt.VQ,Kt.U0,De.gD,W.gM,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,c.CE,ze.M,xt.n,h.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:800px;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:150px;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.content-form[_ngcontent-%COMP%]{border:1px solid #bebaba;border-radius:5px}.scrollable-form[_ngcontent-%COMP%]{max-height:calc(100vh - 10%);overflow-y:auto}.form-field-custom[_ngcontent-%COMP%]{background-color:#0000000a;border:1px solid rgba(206,212,218,.6980392157);border-radius:.25rem;padding:5px 8px}.border-row[_ngcontent-%COMP%]{border:1px solid #ced4da;border-top:none;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}.truncate[_ngcontent-%COMP%]{max-width:350px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}.truncate[_ngcontent-%COMP%]{max-width:180px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();function tr(n=1){return e=>e.controls.map(o=>o.value).reduce((o,a)=>a?o+a:o,0)>=n?null:{required:!0}}const er=["myDialogCheckEssay"];function nr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"polygon",8)(8,"line",9)(9,"line",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(12,"div",11)(13,"p",12),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()(),t.TgZ(17,"div",13),t._UZ(18,"div",14),t.TgZ(19,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()}2&n&&(t.xp6(10),t.hij(" ",t.lcZ(11,4,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan")," "),t.xp6(4),t.AsE(" ",t.lcZ(15,6,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.lcZ(16,8,"lang_auto_dinh_kem_tu_luan"),'" '),t.xp6(6),t.hij(" ",t.lcZ(21,10,"lang_auto_toi_da_hieu")," "))}let Ne=(()=>{class n extends w.Q{closeDialog(e){this.myDialog?.nativeElement.contains(e.target)||this.closeEssayDialog.emit(!0)}confirmQuit(){this.closeEssayDialog.emit(!0)}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e,this.data={isShow:!1},this.closeEssayDialog=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-check-essay"]],viewQuery:function(e,i){if(1&e&&t.Gf(er,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeEssayDialog:"closeEssayDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","check-essay-rl435DvtvY","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","check-essay-rl435DvtvY",1,"school-info_bg",3,"click"],[1,"school-info","box",2,"max-width","400px"],["myDialogCheckEssay",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],["azt-track-service","check-essay-_8FjX2B80z",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,i){1&e&&t.YNc(0,nr,22,12,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.O5,h.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();const ir=["modalSaveImageUpload"],or=["listQuestionBar"];function ar(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",6),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function sr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-info",7),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeShowInfo(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.showFormInfo)}}function rr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-check-essay",8),t.NdJ("closeEssayDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeEssayDialog(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.dataEssayPopup)}}function lr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-upload-image",12),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.conFirmUpload(o))})("addFileMobile",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.addFileMobileUpload(o))})("isOnSelectFile",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onSelectFileEmit(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function _r(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"azt-loading-effect",15),t.ALo(2,"mytranslate"),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(2,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function cr(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"p",24)(1,"mat-icon",57),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(6);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,null==e.exam_obj?null:e.exam_obj.startTime)," - ",t.lcZ(6,7,null==e.exam_obj?null:e.exam_obj.endTime)," ")}}function ur(n,s){if(1&n&&(t.TgZ(0,"div",58),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",59),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",59),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",59),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&n){const e=t.oxw(6);let i,o,a;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function mr(n,s){1&n&&(t.TgZ(0,"div",60)(1,"mat-icon",57),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function dr(n,s){1&n&&(t.TgZ(0,"div",60)(1,"mat-icon",57),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function pr(n,s){if(1&n&&(t.TgZ(0,"div",61)(1,"div",62),t._UZ(2,"azt-question-standalone-for-student-at-full-test",63),t.qZA()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw(6);t.xp6(2),t.Q6J("startQuestionIndex",null==o.exam_obj?null:o.exam_obj.startQuestionIndex)("expandInfo",null==o.exam_obj?null:o.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("isMobile",o.isMobile)("examObj",o.exam_obj)("question",e)("index",i)("overTime",!0)("questionListLength",o.questionList.length)}}function gr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",67)(1,"div",45)(2,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(3,"svg",47),t._UZ(4,"path",48)(5,"path",49)(6,"path",50),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",69),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(7);t.xp6(7),t.hij(" ",e.files.length>0?t.lcZ(8,2,"lang_auto_nop_them"):t.lcZ(9,4,"lang_auto_nop_tu_luan")," "),t.xp6(4),t.Oqu(t.lcZ(12,6,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function hr(n,s){1&n&&(t.TgZ(0,"div",70),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong")," "))}function fr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",51),t.ALo(1,"mytranslate"),t.YNc(2,gr,13,8,"div",64),t.YNc(3,hr,5,9,"div",65),t.TgZ(4,"app-upload-ui",66),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.removeImg(o))}),t.qZA()()}if(2&n){const e=t.oxw(6);t.s9C("label",t.lcZ(1,4,"lang_auto_tu_luan")+" ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(2),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function xr(n,s){if(1&n){const e=t.EpF();t.ynx(0,19),t.TgZ(1,"div",20)(2,"div",21)(3,"h3",22),t._uU(4),t.qZA(),t.TgZ(5,"p",23),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",24)(9,"div",25),t.O4$(),t.TgZ(10,"svg",26),t._UZ(11,"line",27)(12,"line",28)(13,"circle",29),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",30),t.O4$(),t.TgZ(18,"svg",31),t._UZ(19,"circle",32)(20,"path",33)(21,"line",34),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,cr,7,9,"p",35),t.kcU(),t.TgZ(25,"p",36),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,ur,13,9,"div",37),t.qZA(),t.YNc(31,mr,7,9,"div",38),t.YNc(32,dr,7,9,"div",38),t.TgZ(33,"div",39)(34,"div",40)(35,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(36,"svg",42),t._UZ(37,"path",43)(38,"line",44),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"div",45)(42,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(43,"svg",47),t._UZ(44,"path",48)(45,"path",49)(46,"path",50),t.qZA(),t._uU(47),t.ALo(48,"mytranslate"),t.ALo(49,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(50,"mat-tab-group")(51,"mat-tab",51),t.ALo(52,"mytranslate"),t.YNc(53,pr,3,11,"div",52),t.qZA(),t.YNc(54,fr,5,6,"mat-tab",53),t.qZA(),t.TgZ(55,"div",54)(56,"div",40)(57,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(58,"svg",42),t._UZ(59,"path",43)(60,"line",44),t.qZA(),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(63,"div",45)(64,"button",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(65,"svg",47),t._UZ(66,"path",48)(67,"path",49)(68,"path",50),t.qZA(),t._uU(69),t.ALo(70,"mytranslate"),t.ALo(71,"mytranslate"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw(5);t.xp6(4),t.Oqu(null==e.exam_obj?null:e.exam_obj.name),t.xp6(2),t.AsE("",t.lcZ(7,23,"lang_auto_ma_de"),": ",null==e.exam_obj?null:e.exam_obj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,25,"lang_auto_thoi_gian"),": ",null==e.exam_obj?null:e.exam_obj.minutes," ",t.lcZ(16,27,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,29,"lang_auto_so_cau"),": ",e.countQuestion," "),t.xp6(2),t.Q6J("ngIf",(null==e.exam_obj?null:e.exam_obj.startTime)&&(null==e.exam_obj?null:e.exam_obj.endTime)),t.xp6(2),t.HOy(" ",t.lcZ(27,31,"lang_auto_thi_sinh"),": ",null==e.userObj?null:e.userObj.fullName," ",t.lcZ(28,33,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,35,null==e.testingResultObj?null:e.testingResultObj.startedTest)," "),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(7),t.hij(" ",t.lcZ(40,37,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(48,39,"lang_auto_nop_muon"):t.lcZ(49,41,"lang_powerpoint_frontend_detail_submit")," "),t.xp6(4),t.s9C("label",t.lcZ(52,43,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(62,45,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(70,47,"lang_auto_nop_muon"):t.lcZ(71,49,"lang_powerpoint_frontend_detail_submit")," ")}}function br(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-exit-exam",73),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.closeQuitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.isConfirmToContinue(o))}),t.qZA()}if(2&n){const e=t.oxw(6);t.Q6J("data",e.quitTestData)}}function vr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-confirm-exam",73),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.closeSubmitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.confirmSubmit(o))}),t.qZA()}if(2&n){const e=t.oxw(6);t.Q6J("data",e.submitData)}}function Tr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",80)(1,"button",81),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(2,"svg",42),t._UZ(3,"path",43)(4,"line",44),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_thoat")," "))}function wr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",80)(1,"button",82),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.isConfirmToContinue(!1))}),t.O4$(),t.TgZ(2,"svg",83),t._UZ(3,"polyline",84),t.qZA(),t.kcU(),t.TgZ(4,"span",85),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_quay_lai")))}function Sr(n,s){if(1&n&&(t.TgZ(0,"span",88),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(9);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName,"")}}function Cr(n,s){if(1&n&&(t.TgZ(0,"div",86),t.YNc(1,Sr,3,4,"span",87),t.qZA()),2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("ngIf",e.userObj)}}const kr=function(n){return{"time-almost-end":n}};function Or(n,s){if(1&n&&(t.TgZ(0,"div",89)(1,"div",30),t.O4$(),t.TgZ(2,"svg",90),t._UZ(3,"circle",32)(4,"polyline",91),t.qZA(),t.kcU(),t.TgZ(5,"span",92)(6,"span",59),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",59),t._uU(10),t.qZA(),t._uU(11," : "),t.TgZ(12,"span",59),t._uU(13),t.qZA()()()()),2&n){const e=t.oxw(8);let i,o,a;t.xp6(5),t.Q6J("ngClass",t.VKq(4,kr,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Ar(n,s){1&n&&(t.TgZ(0,"div",89)(1,"div",30),t.O4$(),t.TgZ(2,"svg",90),t._UZ(3,"circle",32)(4,"polyline",91),t.qZA(),t.kcU(),t.TgZ(5,"span",93),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_khong_gioi_han")," "))}function yr(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",98),t._UZ(2,"line",99)(3,"line",100)(4,"line",101)(5,"line",102)(6,"line",103)(7,"line",104),t.qZA()())}function Ir(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",105),t._UZ(2,"path",106)(3,"path",107)(4,"path",108),t.qZA()())}function Zr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",109)(1,"button",110),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"path",111),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}function jr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",94)(1,"button",95),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.changeShowType())}),t.ALo(2,"mytranslate"),t.YNc(3,yr,8,0,"span",72),t.YNc(4,Ir,5,0,"span",72),t.qZA()(),t.YNc(5,Zr,6,3,"div",96),t.TgZ(6,"div",45)(7,"button",97),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openSubmitExam(!0,!1))}),t.O4$(),t.TgZ(8,"svg",47),t._UZ(9,"path",48)(10,"path",49)(11,"path",50),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("matTooltip",t.lcZ(2,5,e.showList?"lang_auto_show_unit":"lang_auto_show_list")),t.xp6(2),t.Q6J("ngIf",!e.showList),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(13,7,"lang_auto_nop_bai")," ")}}const Mr=function(n,s){return{hiddenIpt:n,top_toolBar:s}};function qr(n,s){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,Tr,7,3,"div",77),t.YNc(2,wr,7,3,"div",77),t.YNc(3,Cr,2,1,"div",78),t.YNc(4,Or,14,6,"div",79),t.YNc(5,Ar,8,3,"div",79),t.YNc(6,jr,14,9,"ng-template",75),t.qZA()),2&n){const e=t.oxw(7);t.Q6J("ngClass",t.WLB(7,Mr,e.isMobile&&!e.chooseChildData.isShow,e.checkScrollToShowTopBar())),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}const Qr=function(n){return{joinByExamHashId:n}};function Er(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-join-classroom-box",112),t.NdJ("selectStudentEvent",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.selectStudentEvent(o))}),t.qZA()}if(2&n){const e=t.oxw(7);t.Q6J("joinClassroomByType",t.VKq(1,Qr,null==e.exam_obj?null:e.exam_obj.hashId))}}function Lr(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(3,4,null==e.exam_obj?null:e.exam_obj.startTime)," ")}}function Fr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",119),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.goBackToExamDetails())}),t.TgZ(1,"span",120),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon",121),t._uU(5,"shopping_cart"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_di_mua")))}const zr=function(n){return[n]};function Pr(n,s){if(1&n&&(t.TgZ(0,"div",114)(1,"div",115),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Lr,4,6,"span",72),t.YNc(5,Fr,6,3,"span",116),t.qZA(),t.TgZ(6,"div",117)(7,"a",118),t.ALo(8,"navigationLocalize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(8);t.xp6(2),t.hij(" ",t.lcZ(3,5,e.hasErrorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_does_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(11,zr,t.lcZ(8,7,e.homeLink))),t.xp6(2),t.Oqu(t.lcZ(10,9,"lang_auto_quay_lai_trang_chu"))}}function Ur(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",127)(1,"div",128)(2,"azt-question-standalone-for-student-at-full-test",129),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.prevQuestion(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&n){const e=s.$implicit,i=s.index,o=s.last,a=t.oxw(10);t.xp6(1),t.s9C("id","question_"+i),t.Q6J("hidden",i!=a.curQuestion),t.xp6(1),t.Q6J("startQuestionIndex",null==a.exam_obj?null:a.exam_obj.startQuestionIndex)("expandInfo",null==a.exam_obj?null:a.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("showList",a.showList)("isMobile",a.isMobile)("examObj",a.exam_obj)("question",e)("index",i)("last",o)("countQuestion",a.countQuestion)("overTime",!1)("questionListLength",a.questionList.length)}}const xe=function(n){return{answeredQuestion:n}};function Dr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",133)(1,"button",134),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(11);return t.KtG(r.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(11);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,xe,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}function Nr(n,s){if(1&n&&(t.TgZ(0,"div",130)(1,"h3",88),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",131),t.YNc(5,Dr,3,5,"div",132),t.qZA()()),2&n){const e=t.oxw(10);t.Q6J("hidden",e.isMobile),t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("ngForOf",e.questionList)}}function Rr(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-upload-ui",124),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(2,Ur,3,16,"div",125),t.YNc(3,Nr,6,5,"div",126),t.BQk()}if(2&n){const e=t.oxw(9);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow)}}function Jr(n,s){if(1&n&&t._UZ(0,"azt-loaded-img",140),2&n){const e=t.oxw(10);t.Q6J("imgSrc",null==e.exam_obj?null:e.exam_obj.examHeader)}}function Yr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",141)(1,"div",142)(2,"azt-question-standalone-for-student-at-full-test",143),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.prevQuestion(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(10);t.xp6(1),t.s9C("id","question_all_"+i),t.xp6(1),t.Q6J("startQuestionIndex",null==o.exam_obj?null:o.exam_obj.startQuestionIndex)("expandInfo",null==o.exam_obj?null:o.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("showList",o.showList)("isMobile",o.isMobile)("examObj",o.exam_obj)("countQuestion",o.countQuestion)("question",e)("overTime",!1)("index",i)}}function Hr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",149)(1,"button",150),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(11);return t.KtG(r.goToQuestionAll(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(11);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,xe,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}const Br=function(n,s){return{hiddenIpt:n,top_gameBar:s}},Gr=function(n){return{"sheet-screen-monitor":n}};function Kr(n,s){if(1&n&&(t.TgZ(0,"div",144,145)(2,"div",146)(3,"h3",88),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",147),t.YNc(7,Hr,3,5,"div",148),t.qZA()()()),2&n){const e=t.oxw(10);t.Q6J("ngClass",t.WLB(6,Br,e.isMobile&&!e.chooseChildData.isShow,e.checkScrollToShowTopBar())),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(9,Gr,e.hasVideoMonitor)),t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function Wr(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",135)(2,"div",136)(3,"app-upload-ui",124),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(4,Jr,1,1,"azt-loaded-img",137),t.YNc(5,Yr,3,13,"div",138),t.qZA(),t.YNc(6,Kr,8,11,"div",139),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(9);t.xp6(3),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngIf",null==e.exam_obj?null:e.exam_obj.examHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function Vr(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",178),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(10);return t.KtG(o.openUploadImage())}),t.TgZ(1,"span",179),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_dinh_kem_tu_luan")))}function $r(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",149)(1,"button",180),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(10);return t.KtG(r.showList?r.goToQuestionAll(a):r.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(10);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,xe,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}function Xr(n,s){if(1&n&&(t.TgZ(0,"span",171),t._uU(1),t.qZA()),2&n){const e=t.oxw(10);t.xp6(1),t.Oqu(e.userObj.fullName)}}const tl=function(n){return{"time-almost-end-mobile":n}};function el(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",181),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(10);return t.KtG(o.showSheet(!1))}),t.TgZ(1,"mat-icon",182),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",59),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",59),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",59),t._uU(10),t.qZA()()}if(2&n){const e=t.oxw(10);let i,o,a;t.Q6J("ngClass",t.VKq(4,tl,e.timeCount.almostEnd)),t.xp6(4),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function nl(n,s){1&n&&(t.TgZ(0,"div",183)(1,"mat-icon",184),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",185),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_khong_gioi_han")))}const il=function(n){return{hiddenIpt:n}};function ol(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",151)(2,"div",152)(3,"div",153)(4,"a",154),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(5,"svg",155),t._UZ(6,"path",43)(7,"line",44),t.qZA()()(),t.kcU(),t.TgZ(8,"div",156),t.YNc(9,Vr,4,3,"a",157),t.qZA(),t.TgZ(10,"div",158)(11,"a",159),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openSubmitExam(!0,!1))}),t.TgZ(12,"span",160),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(15,"svg",155),t._UZ(16,"polyline",161),t.qZA()()()()(),t.kcU(),t.TgZ(17,"div",162)(18,"div",163)(19,"div",164)(20,"div",165)(21,"div",166)(22,"div",167),t.YNc(23,$r,3,5,"div",148),t.qZA()()()()(),t.TgZ(24,"div",168)(25,"div",169)(26,"p",170),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!0))}),t.ALo(27,"mytranslate"),t.TgZ(28,"mat-icon",171),t._uU(29,"format_list_bulleted"),t.qZA()(),t.TgZ(30,"p",172),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!0))}),t.ALo(31,"mytranslate"),t.TgZ(32,"mat-icon",171),t._uU(33,"view_compact"),t.qZA()()(),t.TgZ(34,"div",173),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!1))}),t.TgZ(35,"p",174),t.YNc(36,Xr,2,1,"span",175),t.qZA()(),t.YNc(37,el,11,6,"div",176),t.YNc(38,nl,6,3,"div",177),t.qZA()()()}if(2&n){const e=t.oxw(9);t.xp6(9),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(4),t.Oqu(t.lcZ(14,9,"lang_auto_nop_bai")),t.xp6(5),t.Q6J("ngClass",t.VKq(15,il,!e.isShowSheet)),t.xp6(5),t.Q6J("ngForOf",e.questionList),t.xp6(3),t.s9C("matTooltip",t.lcZ(27,11,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(31,13,"lang_auto_xem_tung_cau_don")),t.xp6(6),t.Q6J("ngIf",e.userObj),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}const al=function(n,s){return{"monitor-screen":n,"monitor-screen-mobile":s}};function sl(n,s){if(1&n&&(t.TgZ(0,"div",114),t._UZ(1,"div",122,123),t.YNc(3,Rr,4,6,"ng-container",72),t.YNc(4,Wr,7,7,"ng-container",72),t.YNc(5,ol,39,17,"div",72),t.qZA()),2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("ngClass",t.WLB(4,al,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function rl(n,s){if(1&n&&(t.YNc(0,Pr,11,13,"div",113),t.YNc(1,sl,6,7,"div",113)),2&n){const e=t.oxw(7);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function ll(n,s){if(1&n&&(t.ynx(0),t.YNc(1,qr,7,10,"div",74),t.YNc(2,Er,1,3,"ng-template",75),t.YNc(3,rl,2,2,"ng-template",75),t.BQk()),2&n){const e=t.oxw(6);t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function _l(n,s){if(1&n&&(t.YNc(0,br,1,1,"app-exit-exam",71),t.YNc(1,vr,1,1,"app-confirm-exam",71),t.YNc(2,ll,4,3,"ng-container",72)),2&n){const e=t.oxw(5);t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow&&!e.showFormInfo.isShow)}}function cl(n,s){if(1&n&&(t.ynx(0),t.YNc(1,xr,72,51,"ng-container",17),t.YNc(2,_l,3,3,"ng-template",null,18,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!i.validForTakeTest)("ngIfElse",e)}}function ul(n,s){if(1&n&&(t.TgZ(0,"p",195),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function ml(n,s){if(1&n&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,ul,2,1,"p",194),t.qZA()),2&n){const e=s.$implicit,i=s.index;t.xp6(3),t.AsE("",i+1,". ",e.message,":"),t.xp6(1),t.Q6J("ngForOf",e.data)}}function dl(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",186)(1,"div",187)(2,"h3",188),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",189),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,ml,5,3,"div",190),t.TgZ(25,"p",191)(26,"button",192),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.endTimeBackBtn())}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",193),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.reloadCurrentPage())}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw(4);t.xp6(3),t.hij(" ",t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")," "),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.hij(" ",t.lcZ(10,16,"lang_auto_ma_de_thi")+": "," "),t.xp6(3),t.AsE("",null==e.exam_obj?null:e.exam_obj.hashId," - ",null==e.testingResultObj?null:e.testingResultObj.id,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+e.questsLoadState.loadPercent,"%"),t.xp6(3),t.hij(" ",t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": "," "),t.xp6(3),t.hij(" ",e.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",e.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," ")}}function pl(n,s){if(1&n&&(t.YNc(0,cl,4,2,"ng-container",13),t.YNc(1,dl,32,28,"ng-template",null,16,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(3);t.Q6J("ngIf",!i.questsLoadState.hasErrs)("ngIfElse",e)}}function gl(n,s){if(1&n&&(t.YNc(0,_r,3,4,"ng-container",13),t.YNc(1,pl,3,2,"ng-template",null,14,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(2);t.Q6J("ngIf",i.questsLoadState.startLoad)("ngIfElse",e)}}function hl(n,s){if(1&n&&(t._UZ(0,"azt-loading-effect",15),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(2);t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.loadMixedExamProgress+"%")}}function fl(n,s){if(1&n&&(t.YNc(0,lr,1,2,"app-upload-image",9),t.YNc(1,gl,3,2,"ng-template",null,10,t.W1O),t.YNc(3,hl,2,4,"azt-loading-effect",11)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",!1)("ngIfElse",e)}}function xl(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-name",7),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeSubmitName(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.submitNameData)}}let bl=(()=>{class n extends w.Q{get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}getData(e){const i=this.browserStorageService.getSimpleStorage(`list_practice_id_${this.hashId}`)??"",o=this.castJsonToObj(i)??[];let l,r=this.commonService.myClone(o);e.fromQuestion&&(l=this.partQuestionSearchTextService.partQuestionSearchText(e.fromQuestion));let _={examResultId:0===this.resultExamId?void 0:this.resultExamId,exceptQuestionIds:o,questionText:l};o.length>20&&(this.browserStorageService.removeSimpleStorage(`list_practice_id_${this.hashId}`),r=r.splice(6)),this.waitDestroy(this.practiceService.apiPracticeHashIdTestPost(this.hashId,_).subscribe(m=>{1==m.success?(this.processData(m),m.data?.questions?.forEach(g=>{g.id&&!r.includes(g.id)&&r.push(g.id)}),this.browserStorageService.saveSimpleStorage(`list_practice_id_${this.hashId}`,this.serializeJson(r)),this.successStatusObj()):this.errorStatusObj(m.message??"")}))}processData(e){if(1==e.success){if(this.userService.isAnonymousRoleOfCurrentUser()){let i=this.userService.getUserObj();this.userService.isAnonymousName(i)&&this.openSubmitName(!1)}this.commonService.translateMetaData({title:e.data?.name?e.data.name:"",description:e.data?.name?e.data.name:""}),this.dataProcess=e.data,this.fillData(e)}else this.showErrorSnack(e.message??"")}changeQuestionContent(e){for(var i=[],o=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("limitAudioV6_"+this.exam_obj?.id+"_"+this.testingResultObj?.id)??""),a=0;a<e.length;a++){let l=e[a];if(l){if(this.answerTypeService.isEssayAnswer(e[a])&&(l.essayText=""),this.answerTypeService.isFillAnswer(e[a])&&(l.essayText=""),(this.exam_obj?.limitAudio??-1)>0)if(o){var r=o.filter(_=>_.questionId==e[a].id);r&&r.length>0&&(l.limitAudio=r[0].limitTimes+r[0].limitPlay,l.limitPlay=0)}else l.attachments&&l.attachments.length>0&&(l.limitAudio=0,l.limitPlay=0);l={...l,index:a,status:!1},i.push(l)}}return(this.exam_obj?.limitAudio??-1)>0?this.addAudioObjsToQuestion(i):i}addAudioObjsToQuestion(e){var i=[];return e.forEach(o=>{if(o.attachments&&o.attachments.length>0){o.audioLimitObjs=[];let r=(this.exam_obj?.limitAudio??0)-(o.limitAudio??0);if(r>0)for(var a=0;a<r;a++)o.audioLimitObjs.push({index:a,status:!0})}i.push(o)}),i}sendAudioForQuestion(e){for(var i=0;i<this.questionList.length;i++)this.questionList[i].id==e.obj?.id&&(1==e.play?this.questionList[i].limitPlay=(this.questionList[i].limitPlay??0)+1:(this.questionList[i].limitPlay=(this.questionList[i].limitPlay??0)-1,this.questionList[i].limitAudio=(this.questionList[i].limitAudio??0)+1,this.questionList[i].audioLimitObjs?.forEach(o=>{o.index==e.index&&(o.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e=[];this.questionList.forEach(i=>{i.attachments&&i.attachments.length>0&&e.push({questionId:i.id,limitTimes:i.limitAudio,limitPlay:i.limitPlay})}),e.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV6_"+this.exam_obj?.id+"_"+this.testingResultObj?.id,JSON.stringify(e)))}fillData(e){this.userObj=this.userService.getUserObj(),this.totalTime=this.dataProcess?.countDownSecond??0,this.startTestTime=e.data?.startServerSecond??0;var i=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("savePracticeV1_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId)??"");this.sendHashIdUpdate(this.hashIdUpdate);let o=this.commonService.castJsonToClassObjs(At.v,JSON.stringify(e.data?.questions)),a=this.changeQuestionContent(o??[]);if(this.syncData&&this.syncData.hasOwnProperty("datas")&&""!=this.syncData.datas){var r=this.commonService.willDeleteParseJson(this.syncData.datas);null==i?(this.answerList=null!=r.answers?r.answers:[],this.noteList=null!=r.notes?r.notes:[],this.files=this.commonService.myParseJson(r.files)??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList)):r.saveTime<i.saveTime?(this.answerList=i.answers,this.noteList=i.notes,this.files=this.commonService.myParseJson(i.files)??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList)):(this.answerList=r.answers,this.noteList=r.notes,this.files=this.commonService.myParseJson(r.files)??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList))}else i&&(this.answerList=i.answers,this.noteList=i.notes,this.files=this.commonService.myParseJson(i.files)??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList));this.followerRenderQuest.setNumQuest(a.length),this.questsLoadState.startLoad=!0,this.questionRenderService.parseRenderQuestions(a,l=>{this.questsLoadState.loadPercent=Math.floor(l)}).then(l=>{this.questionList=l,this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.hasEssayQuestion=this.checkEssay(),this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files);for(let _=0;_<this.questionList.length;_++)this.questionList[_].enableFeedback=!0;this.setTimeClient()}).catch(l=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=l})}getQuestionCanFeedback(){if(Array.isArray(this.questionList)){let e=[];this.questionList.forEach(i=>{i.id&&!this.commonService.isExistInArray(e,i.id)&&e.push(i.id)}),this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(this.exam_obj?.id,e.join(",")).subscribe(i=>{if(1==i.success){let o=i.data?.objs??[];if(Array.isArray(this.questionList))for(let a=0;a<this.questionList.length;a++)o.forEach(r=>{this.questionList&&this.questionList[a].id==r.questionId&&(this.questionList[a].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}else this.stopStatusObj()}reloadCurrentPage(){location.reload()}takeAnswerForQuestion(e,i){i.forEach(o=>{e.forEach(a=>{if(a.questionId==o.id)if(this.answerTypeService.isFillAnswer(o)||this.answerTypeService.isEssayAnswer(o))o.choseAnswer=[a.answerContent[0].content];else if((this.answerTypeService.isOneChoiceAnswer(o)||this.answerTypeService.isMultipleChoiceAnswer(o))&&o.answers)o.choseAnswer=[(o.answers[r=a.answerContent[0].index].alpha?o.answers[r].alpha:o.answers[r].key)??""];else if(this.answerTypeService.isTrueFalseAnswer(o)){var r=a.answerContent[0].index;let _=this.commonService.myTranslateInstant("T"==a.answerContent[0].status?"lang_auto_dung":"lang_auto_sai");o.choseAnswer?.push((o.answers[r].alpha?o.answers[r].alpha:o.answers[r].key)?.toLowerCase()+") - "+(_??""))}})})}selectStudentEvent(e){this.practiceObj&&(this.getData(this.practiceObj),this.chooseChildData={classroomObjs:[],studentObjs:[],isPendingApproved:!1,isShow:!1})}setTimeExam(){var e="exam",i=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(i==this.globalService.getGlobalInterval(e)){const o=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),l=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(i??0,e)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==o&&0==r?{hour:o,minute:r,second:l,almostEnd:!0}:{hour:o,minute:r,second:l,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(o){console.log(o)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}getTimeServer(){var e="examServerTime",i=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(i??0,e)),clearInterval(this.intervalGetTimeServer)):clearInterval(this.intervalGetTimeServer)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,i){return Math.floor(Math.random()*(i-e+1)+e)}setTimeAutoSubmit(e,i){var o=this.totalTime+90,a="autoSubmitTimeCount",r=this.globalService.plusGlobalInterval(a);this.intervalAutoSubmit=window.setInterval(()=>{try{if(r!=this.globalService.getGlobalInterval(a)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const l=Math.floor(o/3600),m=Math.floor(o%3600/60),g=o%60;o<=0?(this.timeCount={hour:0,minute:0,second:0},(r==this.globalService.getGlobalInterval(a)||e==this.globalService.getGlobalInterval(i))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:l,minute:m,second:g},o-=1}}catch(l){console.log(l)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",i=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setAnswerTrueFalse(e){var i=this.answerList.filter(_=>_.questionId==e.id);if(e.answerConfig&&null!=e.index&&1==e.type){var o={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(i&&i.length>0)for(var a=0;a<this.answerList.length;a++)this.answerList[a].questionId==o.questionId&&this.answerList[a].answerContent.push(o.answerContent[0]);else this.answerList.push(o);this.changeStatusAnswer(o,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var r={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(i&&i.length>0)for(a=0;a<this.answerList.length;a++)this.answerList[a].questionId==r.questionId&&(this.answerList[a].answerContent=r.answerContent);else this.answerList.push(r);this.changeStatusAnswer(r,e.index,!1,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&5==e.type){var l={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??"",status:e.answerConfig.status}]};if(i&&i.length>0){for(a=0;a<this.answerList.length;a++)if(this.answerList[a].questionId==l.questionId){let m=!1;this.answerList[a].answerContent.forEach(g=>{g.index==l.answerContent[0].index&&g.content==l.answerContent[0].content&&(g.status=l.answerContent[0].status,m=!0)}),m||this.answerList[a].answerContent.push(l.answerContent[0])}}else this.answerList.push(l);this.changeStatusAnswer(l,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id)}setAnswerEssay(e){var i=!0,o=this.answerList.filter(f=>f.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(e.event.target instanceof HTMLTextAreaElement&&null!=e.event.target.value){var a={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value.trim()}]};if(o&&o.length>0){for(var r=0;r<this.answerList.length;r++)if(this.answerList[r].questionId==a.questionId){for(var l=0;l<this.answerList[r].answerContent.length;l++)this.answerList[r].answerContent[l].index==a.answerContent[0].index&&(this.answerList[r].answerContent[l].content=a.answerContent[0].content);var _=this.answerList[r].answerContent.filter(f=>f.index==a.answerContent[0].index);_&&0==_.length&&this.answerList[r].answerContent.push(a.answerContent[0])}}else this.answerList.push(a);if(""==e.event.target.value.trim()){i=!1;var m=this.answerList.filter(f=>f.questionId==e.id);if(m&&1==m.length){var g=this.answerList.indexOf(m[0]);this.answerList.splice(g,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else i=!1;i&&(this.changeStatusQuestion(e.id),this.changeEssayTextQuestion(e))}changeEssayTextQuestion(e){for(let i=0;i<this.questionList.length;i++)this.questionList[i].id==e.id&&e.event?.target instanceof HTMLTextAreaElement&&(this.questionList[i].essayText=e.event?.target.value.trim())}setResultTracking(e){this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var i=0;i<this.questionList.length;i++)this.questionList[i].id==e&&(this.questionList[i].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,i,o,a,r){if(!o)try{this.questionList.forEach(l=>{if(l.id==e.questionId){let m=this.commonService.myTranslateInstant("lang_auto_cau"),g=this.commonService.myTranslateInstant("lang_auto_chon"),f=this.commonService.myTranslateInstant("lang_auto_dung"),b=this.commonService.myTranslateInstant("lang_auto_sai");if(l.answers&&l.answers.length>0){if(this.answerTypeService.isTrueFalseAnswer(l)){let v="T"==r.answerConfig?.status;l.answers[i].checked=l.answers[i].checked!=v?v:void 0}else{for(var _=0;_<l.answers.length;_++)l.answers[_].checked=!1;l.answers[i].checked=!0}this.isMobile&&r.answerConfig&&this.commonService.snackChoiceAnswer(m+" "+((l.index??0)+(this.exam_obj?.startQuestionIndex??1))+" - "+g+" "+(r.answerConfig.alpha?r.answerConfig.alpha:r.answerConfig.key)+(r.answerConfig.status?" - "+("T"==r.answerConfig.status?f:b):""))}}})}catch(l){console.log(l)}}saveToStorage(e,i,o){try{var a={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.exam_obj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},r=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),l={answers:e,notes:i,files:JSON.stringify(o),infors:r,trackInfos:JSON.stringify(a),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("savePracticeV1_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId,JSON.stringify(l))}catch{}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}handleFullScreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.startedTimeSecond>0)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var i={examId:this.exam_obj?.id??0,name:"exit_full_screen",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(i).subscribe(a=>{1==a.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}removeNullContent(e){var i=[];return e.forEach(o=>{o.content&&i.push(o)}),i}removeImg(e){var i=this.files.filter(o=>o.url!==e);this.files=i,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}updateFileUploadMobile(){return new Promise(e=>{let i={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(i).subscribe(o=>{1==o.success&&e(!0)})})}calcRight(){var e=0,i=window.outerWidth,o=document.getElementById("container-content")?.offsetWidth;return o&&(e=(i-o)/2),e}checkWidth(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target instanceof Window&&e.target.innerWidth<1200,this.calcRight()}resizeImg(e,i,o){var a=document.getElementById("media_content_"+e),r=a?.offsetWidth??0;return a?r/i<=1?Math.round(o*(r/i)):Math.round(o):0}resizeImgAll(e,i,o){var a=document.getElementById("media_content_all_"+e),r=a?.offsetWidth??0;return a?r/i<=1?Math.round(o*(r/i)):Math.round(o):0}autoResize(e,i){if(1==i){const o=document.getElementById("note_box_"+e);o&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0)}else{const o=document.getElementById("note_box_all_"+e);o&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0)}}checkEssay(){var e=this.questionList.filter(i=>this.answerTypeService.isEssayAnswer(i));return e&&e.length>0?(this.checkEssayPopup&&this.openEssayDialog(),!0):(this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.hasMonitorScreen=!0),!1)}checkScrollToShowTopBar(){return!!(window.scrollY&&window.scrollY>50)}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}isConfirmToContinue(e){this.quitTestData={id:0,time:0,isShow:!1},e?this.submitTest(!1):this.goBackToExamDetails()}goBackToExamDetails(){this.commonService.myNavigation("/de-thi/"+this.exam_obj?.hashId)}openSubmitName(e,i,o,a){this.submitNameData=!e&&i&&o?{needPassword:o,isShow:!0,examId:this.exam_obj?.id,hashId:i,errorMessage:a||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&this.practiceObj&&(this.getData(this.practiceObj),this.submitNameData={isShow:!1})}openShowInfo(e,i){this.showFormInfo={infoFields:e,examId:this.exam_obj?.id,hashId:this.exam_obj?.hashId,isAnonymousName:i,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getPracticeByHashId(),this.showFormInfo={infoFields:[],isShow:!1})}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1,this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.hasMonitorScreen=!0))}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,i,o){this.quitTestData.isShow||(this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:i,saveFalse:o}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:i,saveFalse:o})}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(e.isAutoSubmit??!1)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.exam_obj?.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1),setTimeout(()=>{let i=document.getElementById("bottom_action"),o=document.getElementById("time_client"),a=i?.offsetHeight;o&&a&&(o.style.bottom=a+"px")},100)}conFirmUpload(e){var i=document.getElementById("monitorScreenTakeTest");e&&e.isConfirm?(this.files=e.uploadFiles??[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1),i&&(i.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile={...e.file,index:e.index}}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}sendHashIdUpdate(e){e&&this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(i=>{if(1==i.success&&this.commonService.isJson(i.data?.tmpObj?.files??"")){var o=this.commonService.willDeleteParseJson(i.data?.tmpObj?.files??"");o.isNotNoti=!0,this.addFileMobileUpload({files:o})}})}addFileMobileUpload(e){this.files=e.files??[],this.uploadImageData={id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj(),this.checkSubmit=!0;let i={answers:this.answerList};this.waitDestroy(this.practiceService.apiPracticeHashIdPracticeIdResultPost(this.hashId,this.dataProcess?.practiceId??0,i).subscribe(o=>{1==o.success?(this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("savePracticeV1_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj?.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj?.hashId+"_",JSON.stringify(o.data)),this.localStorageObject.clearAllCache(),this.localStorageObject.clearAllCache(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-practice/"+this.dataProcess?.practiceId+"/"+this.hashId+"/0","?backto="+encodeURIComponent(this.backToLink))):(this.errorStatusObj(o.message??"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=o.message,setTimeout(()=>{this.checkSubmit=!1},5e3))}))}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),i=0;i<e.length;i++)clearInterval(e[i]);this.globalService.emptyIntervalObjs()}changeShowType(){this.showUnit?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1),setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}showSheet(e){e?this.changeShowType():this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let i=document.getElementById("bottom_action"),o=document.getElementById("time_client"),a=i?.offsetHeight;o&&a&&(o.style.bottom=a+"px")},100)}askBeforeCloseWindow(e){if(!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}prevQuestion(e){var i=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e-1));o&&i&&typeof o.getAttribute("hidden")<"u"&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){var i=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e+1));o&&i&&typeof o.getAttribute("hidden")<"u"&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1)}goToQuestion(e){var i=document.getElementById("question_"+String(this.curQuestion)),o=document.getElementById("question_"+String(e));o&&i&&typeof o.getAttribute("hidden")<"u"&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e)}goToQuestionAll(e){var i=document.getElementById("question_all_"+e);i?.scrollIntoView()}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id);e&&(this.resultTracks=this.commonService.willDeleteParseJson(e))}makeDeviceId(e=10){for(var i="",r=0;r<e;r++)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return i}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}getPracticeByHashId(){this.waitDestroy(this.practiceService.apiPracticeHashIdGet(this.hashId).subscribe(e=>{1==e.success?(this.practiceObj=e.data,this.practiceObj&&this.getData(this.practiceObj)):this.errorStatusObj(e.message??"")}))}constructor(e,i,o,a,r,l,_,m,g,f,b,v,L,J,B){super(),this.activeRoute=e,this.userService=i,this.mixService=o,this.localStorageObject=a,this.timeService=r,this.browserStorageService=l,this.frontExamTrackService=_,this.globalService=m,this.frontExamResultUploadService=g,this.answerTypeService=f,this.questionRenderService=b,this.testMarketFeedbackService=v,this.practiceService=L,this.partQuestionSearchTextService=J,this.sAztShowMonitorService=B,this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.resultExamId=0,this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.followerRenderQuest=new ct.p,this.countQuestion=0,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={datas:""},this.hasMonitorScreen=!1,this.chooseChildData={classroomObjs:[],studentObjs:[],classObj:void 0,isPendingApproved:!1,isShow:!1},this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.hasVideoMonitor=!1,this.acceptSendTrack=!0,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.isShowPreviewFile=!1,this.previewFile={},this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument={...document},this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1,this.widthGameBar=300,this.sAztTestQuestionService=new zt(this.commonService,this.answerTypeService,this.browserStorageService)}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.checkWidth(),this.browserName=this.detectBrowserName(),this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),o=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString(),a=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.resultExamId=Number(this.commonService.getMyQueryParam("resultExamId"))??0,this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=i,this.hashId=o||"",this.tenantId=a,this.homeLink="/student/classroom/0",this.getDeviceId(),this.initStatusObj(),this.getPracticeByHashId()})),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{this.widthGameBar=this.myListQuestionBar?.nativeElement.offsetWidth;let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient);for(var i=this.globalService.getIntervalObjs(),o=0;o<i.length;o++)clearInterval(i[o]);this.globalService.emptyIntervalObjs(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(et.U),t.Y36(Nt),t.Y36(Rt.y),t.Y36(_t.D),t.Y36(bt.n),t.Y36(j.FQ),t.Y36(It.q),t.Y36(j.vO),t.Y36(ht.i),t.Y36(Zt.h),t.Y36(yt.nC),t.Y36(Et.ik),t.Y36(ra.r),t.Y36(Ot.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-take-practice"]],viewQuery:function(e,i){if(1&e&&(t.Gf(ir,5,kt),t.Gf(or,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.modalSaveImageUpload=o.first),t.iGM(o=t.CRH())&&(i.myListQuestionBar=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(a){return i.askBeforeCloseWindow(a)},!1,t.Jf7)},features:[t.qOj],decls:8,vars:5,consts:[[1,"p-0",3,"contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px",3,"resize"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"currentStatusObj"],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"currentStatusObj","customText",4,"ngIf","ngIfElse"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],[4,"ngIf","ngIfElse"],["lstQuestDoneLoad",""],[3,"currentStatusObj","customText"],["lstQuestHasErr",""],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],[2,"padding-bottom","50px"],[1,"box","p-5","margin-question-bar","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],["class","mt-3 text-danger font-medium",4,"ngIf"],[1,"mt-3","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-practice-3Mc2UvXdlm",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],["azt-track-service","take-practice-ac8JtnKKS_",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[3,"label"],["class","intro-x mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mt-2","flex","justify-center"],["azt-track-service","take-practice-Ha9JS-qJp9",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-practice-UiY4hiXKqR",1,"btn","btn-sm","btn-primary",3,"click"],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[1,"ng-binding"],[1,"mt-3","text-danger","font-medium"],[1,"intro-x","mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","isMobile","examObj","question","index","overTime","questionListLength"],["class","text-center mt-1 mb-2",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","removeFile"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-practice-xsqT9egDfs",1,"btn","btn-sm","btn-primary",3,"click"],[1,"h6","mb-2","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],["class","top-bar",3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"top-bar",3,"ngClass"],["class","-intro-x",4,"ngIf"],["class","intro-x relative mx-auto",4,"ngIf"],["class","intro-x mr-6",4,"ngIf"],[1,"-intro-x"],["azt-track-service","take-practice-pL7myV7Hu5",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-practice-BLFCFlBrXw",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[2,"vertical-align","middle"],[1,"intro-x","relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[1,"intro-x","mr-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["points","12 6 12 12 16 14"],[1,"text-md",3,"ngClass"],[1,"text-md"],[1,"intro-x","flex","items-center","dropdown","mr-3"],["azt-track-service","take-practice-ZXXzQKEc5M",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["class","intro-x mr-2",4,"ngIf"],["azt-track-service","take-practice-LyE83Uhmha",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["x1","8","y1","6","x2","21","y2","6"],["x1","8","y1","12","x2","21","y2","12"],["x1","8","y1","18","x2","21","y2","18"],["x1","3","y1","6","x2","3.01","y2","6"],["x1","3","y1","12","x2","3.01","y2","12"],["x1","3","y1","18","x2","3.01","y2","18"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["d","M21 3H3v7h18V3z"],["d","M21 14h-5v7h5v-7z"],["d","M12 14H3v7h9v-7z"],[1,"intro-x","mr-2"],["azt-track-service","take-practice-BAOdWThQEv",1,"btn","btn-sm","btn-secondary",3,"click"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"],[3,"joinClassroomByType","selectStudentEvent"],["class","margin-question-bar pb-4",4,"ngIf"],[1,"margin-question-bar","pb-4"],[1,"alert","alert-danger"],["azt-track-service","take-practice-5r0qsW5Fvx",3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-practice-dtjGvFdgLDF",1,"link__color","link__hover",3,"routerLink"],["azt-track-service","take-practice-5r0qsW5Fvx",3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","removeFile"],["class","intro-x mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],["class","intro-y box w-3/4 mx-auto p-3","style","animation-delay: 0.05s",3,"hidden",4,"ngIf"],[1,"intro-x","mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","question","index","last","countQuestion","overTime","questionListLength","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[1,"intro-y","box","w-3/4","mx-auto","p-3",2,"animation-delay","0.05s",3,"hidden"],[1,"grid","grid-cols-12","gap-2","mt-3","p-3"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"col-span-1"],["azt-track-service","take-practice-0MuZuHTGO3r",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],["id","question_ui",1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","mt-5","sm:mt-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","intro-x mt-2",4,"ngFor","ngForOf"],["class","col-span-12 lg:col-span-3 mt-4","id","listQuestionBar",3,"ngClass",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"intro-x","mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","countQuestion","question","overTime","index","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],["id","listQuestionBar",1,"col-span-12","lg:col-span-3","mt-4",3,"ngClass"],["listQuestionBar",""],[1,"intro-y","box","p-3"],[1,"grid","grid-cols-10","gap-2","mt-3","sheet-screen",3,"ngClass"],["class","col-span-2",4,"ngFor","ngForOf"],[1,"col-span-2"],["azt-track-service","take-practice-9KHWbI1Mha5",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],[1,"top_action"],[1,"grid","grid-cols-12","gap-3","items-center","justify-between","ml-0","mr-0"],[1,"col-span-3","self-center"],["azt-track-service","take-practice-QhgzpLg6Ifb",1,"clickable",2,"color","#fff",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],[1,"col-span-6","text-center","self-center","pl-0","pr-0"],["azt-track-service","take-practice-yKrk_05Da24","class","clickable","style","color: #fff; border: 3px solid #fff; padding: 3px 5px",3,"click",4,"ngIf"],[1,"col-span-3","pl-0","pr-1","text-right","self-center"],["azt-track-service","take-practice-KJRH_OglJN7",1,"clickable","inline-flex","items-center",2,"color","#fff",3,"click"],[2,"vertical-align","top","line-height","1.8"],["points","9 18 15 12 9 6"],["id","bottom_action",1,"bottom_action"],[1,"collapse",3,"ngClass"],[1,"box","mb-2",2,"padding","5px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"grid","grid-cols-10","gap-2","mt-3"],[1,"grid","grid-cols-12","gap-3","justify-between","clickable"],[1,"col-span-3","flex","pr-1","menu-control"],["azt-track-service","take-practice-7FJURH-_c8E",1,"mb-auto","mt-auto","mr-1","clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#fff"],["azt-track-service","take-practice-l6nTAGnORSK",1,"ml-2","mb-auto","mt-auto","clickable",3,"matTooltip","click"],["azt-track-service","take-practice-CT4xw9_1lRi",1,"col-span-5","pl-0","pr-0","text-center","self-center",3,"click"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["azt-track-service","take-practice-bo0vu1hFO6Z","class","col-span-4 text-right pl-0 self-center",3,"ngClass","click",4,"ngIf"],["class","col-span-6 text-center pl-0 pr-1 self-center",4,"ngIf"],["azt-track-service","take-practice-yKrk_05Da24",1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],["azt-track-service","take-practice-CzW5_bOVz_T",1,"rounded-md","border","border-slate-400","p-1","w-full",2,"color","#111",3,"ngClass","click"],["azt-track-service","take-practice-bo0vu1hFO6Z",1,"col-span-4","text-right","pl-0","self-center",3,"ngClass","click"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-span-6","text-center","pl-0","pr-1","self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-practice-TY07Lxx58wo",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-practice-tXOTzgL0kmz",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("contextmenu",function(){return!1}),t.TgZ(1,"div",1),t.NdJ("resize",function(a){return i.onResize(a)},!1,t.Jf7),t.YNc(2,ar,1,1,"azt-loading-effect",2),t.YNc(3,sr,1,1,"app-submit-info",3),t.YNc(4,rr,1,1,"app-check-essay",4),t.YNc(5,fl,4,3,"ng-template",null,5,t.W1O),t.YNc(7,xl,1,1,"app-submit-name",3),t.qZA()()),2&e){const o=t.MAs(6);t.xp6(2),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",i.showFormInfo.isShow&&i.validForTakeTest),t.xp6(1),t.Q6J("ngIf",i.dataEssayPopup.isShow&&i.validForTakeTest),t.xp6(3),t.Q6J("ngIf",i.submitNameData.isShow)}},dependencies:[d.rH,p.mk,p.sg,p.O5,ut.Hw,nt.uX,nt.SP,W.gM,Lt.y,H.l,Jt,Ht,Bt.P,de,pe,he,kt,fe,Ne,h.Jy,h.JV,h.$n],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:70px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}.feedback-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}@keyframes _ngcontent-%COMP%_timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),n})();function vl(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Tl(n,s){if(1&n&&t._UZ(0,"azt-test-review-for-student",4),2&n){const e=t.oxw();t.Q6J("initDataResult",e.initDataAnswerTest)}}let wl=(()=>{class n extends w.Q{redirectToBackLink(){let e=this.commonService.getMyQueryParam("backto")??"/student/classroom/0";this.backToLink=this.commonService.getMyQueryParam("offline")?e??"/student/classroom/0":e}translateMetaTitle(e){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(i=>{this.commonService.translateMetaData({title:i+": "+e,description:i+": "+e,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();let i=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),o=this.commonService.getMyQueryParam("offline")??"",a=this.commonService.myTranslateInstant("lang_auto_ket_qua");this.frontExamResultService.apiFrontExamResultGetExamAnswerGet(e,i,o).subscribe(r=>{1==r.success?(this.initDataAnswerTest=r,this.headerTitle=`${a}: ${r?.data?.examObj?.name}`,this.translateMetaTitle(r.data?.examObj?.name),this.successStatusObj()):this.errorStatusObj(r.message??"",!0)})}))}ngOnInit(){this.getAndProcessDataForStudent(),this.redirectToBackLink(),super.ngOnInit()}constructor(e,i){super(),this.activeRoute=e,this.frontExamResultService=i,this.headerTitle="",this.backToLink=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(j.CA))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-answer-test"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"initDataResult"]],template:function(e,i){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,vl,1,1,"azt-loading-effect",1),t.YNc(2,Tl,1,1,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",i.backToLink),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[p.O5,H.l,Ie,st.L],encapsulation:2}),n})();function Sl(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Cl(n,s){1&n&&(t.TgZ(0,"div")(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function kl(n,s){if(1&n&&(t.TgZ(0,"span",38),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function Ol(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"span",36),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,kl,2,1,"span",37),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij("",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":"),t.xp6(2),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function Al(n,s){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":"))}function yl(n,s){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":"))}function Il(n,s){if(1&n&&(t.TgZ(0,"span",38),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function Zl(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Al,3,3,"span",39),t.YNc(2,yl,3,3,"span",39),t.YNc(3,Il,2,1,"span",37),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function jl(n,s){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":"))}function Ml(n,s){if(1&n&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function ql(n,s){1&n&&(t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function Ql(n,s){if(1&n&&(t.ynx(0),t.YNc(1,jl,3,3,"span",39),t.YNc(2,Ml,2,1,"span",40),t.YNc(3,ql,3,3,"span",35),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark)&&null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark))}}function El(n,s){1&n&&(t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function Ll(n,s){if(1&n&&(t.TgZ(0,"div",33),t.YNc(1,Ol,5,4,"ng-container",34),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,Zl,4,3,"ng-container",34),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,Ql,4,3,"ng-container",34),t.ALo(6,"isOnlyEssay"),t.YNc(7,El,3,3,"span",35),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,e.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,e.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,e.examObj)),t.xp6(2),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.mark))}}function Fl(n,s){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":"))}function zl(n,s){if(1&n&&(t.TgZ(0,"div",33),t.YNc(1,Fl,3,3,"span",39),t.TgZ(2,"span",38),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(2),t.hij(" ",t.lcZ(4,2,"lang_auto_chua_duoc_xem_diem")," ")}}function Pl(n,s){if(1&n&&(t.TgZ(0,"div",43)(1,"p",21),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",44)(4,"circle",45),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",25),t._uU(8),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_thi_sinh")," "),t.xp6(3),t.hij(" ",null!=e.studentObj&&e.studentObj.fullName?null==e.studentObj?null:e.studentObj.fullName:null==e.userObj?null:e.userObj.fullName," ")}}function Ul(n,s){if(1&n&&(t.TgZ(0,"div",20)(1,"p",21),t.O4$(),t.TgZ(2,"svg",46),t._UZ(3,"path",47)(4,"path",48),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",49),t._uU(8),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_so_luong_trac_nghiem_dung")," "),t.xp6(3),t.hij(" ",null==e.examResultObj?null:e.examResultObj.rightAnswer," ")}}function Dl(n,s){if(1&n&&(t.TgZ(0,"div",20)(1,"p",21),t.O4$(),t.TgZ(2,"svg",50),t._UZ(3,"circle",23)(4,"line",51)(5,"line",52),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"p",53),t._uU(9),t.qZA()()),2&n){const e=t.oxw(3);let i;t.xp6(6),t.hij(" ",t.lcZ(7,2,"lang_auto_so_cau_sai")," "),t.xp6(3),t.hij(" ",(null!==(i=null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&void 0!==i?i:0)-(null!==(i=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==i?i:0)," ")}}function Nl(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",62)(1,"button",63),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showStudentSkillStatisticDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_frontend_student_skill_statistic_button")," "))}const Re=function(n,s){return{"col-span-4":n,"col-span-6":s}};function Rl(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",54),t.YNc(2,Nl,4,3,"div",55),t.TgZ(3,"div",56)(4,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToTakeTraining())}),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",58),t._UZ(8,"lucide-icon",59),t.qZA()()(),t.TgZ(9,"div",56)(10,"button",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToAnswerTest())}),t._uU(11),t.ALo(12,"mytranslate"),t.TgZ(13,"span",58),t._UZ(14,"lucide-icon",61),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.isShowStudentSkillStatistic),t.xp6(1),t.Q6J("ngClass",t.WLB(9,Re,e.isShowStudentSkillStatistic,!e.isShowStudentSkillStatistic)),t.xp6(2),t.hij(" ",t.lcZ(6,5,"lang_testbank_frontend_practice_again")," "),t.xp6(4),t.Q6J("ngClass",t.WLB(12,Re,e.isShowStudentSkillStatistic,!e.isShowStudentSkillStatistic)),t.xp6(2),t.hij(" ",t.lcZ(12,7,"lang_auto_xem_dap_an_chi_tiet")," ")}}function Jl(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",67)(1,"button",63),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showStudentSkillStatisticDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_frontend_student_skill_statistic_button")," "))}function Yl(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.redirectToAnswerTest())}),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",58),t._UZ(4,"lucide-icon",61),t.qZA()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xem_dap_an_chi_tiet")," "))}function Hl(n,s){1&n&&(t.TgZ(0,"button",68),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.Q6J("disabled",!0),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}const Bl=function(n,s){return{"col-span-6":n,"col-span-12":s}};function Gl(n,s){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Jl,4,3,"div",64),t.TgZ(2,"div",56),t.YNc(3,Yl,5,3,"button",65),t.YNc(4,Hl,3,4,"button",66),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isShowStudentSkillStatistic),t.xp6(1),t.Q6J("ngClass",t.WLB(4,Bl,e.isShowStudentSkillStatistic,!e.isShowStudentSkillStatistic)),t.xp6(1),t.Q6J("ngIf",!1!==(null==e.examObj?null:e.examObj.allowStudentView)),t.xp6(1),t.Q6J("ngIf",!1===(null==e.examObj?null:e.examObj.allowStudentView))}}function Kl(n,s){if(1&n&&(t.TgZ(0,"div",14)(1,"h2",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.YNc(4,Ll,8,10,"div",16),t.YNc(5,zl,5,4,"div",16),t.TgZ(6,"h3",17),t._uU(7),t.qZA(),t.TgZ(8,"div",18),t.YNc(9,Pl,9,4,"div",19),t.TgZ(10,"div",20)(11,"p",21),t.O4$(),t.TgZ(12,"svg",22),t._UZ(13,"circle",23)(14,"polyline",24),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"p",25),t._uU(18),t.qZA()(),t.YNc(19,Ul,9,4,"div",26),t.YNc(20,Dl,10,4,"div",26),t.TgZ(21,"div",20)(22,"p",21),t.O4$(),t.TgZ(23,"svg",27),t._UZ(24,"circle",23)(25,"line",28)(26,"line",29),t.qZA(),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(29,"p",30),t._uU(30),t.qZA()()(),t.TgZ(31,"div",31),t.YNc(32,Rl,15,15,"ng-container",9),t.YNc(33,Gl,5,7,"ng-template",null,32,t.W1O),t.qZA()),2&n){const e=t.MAs(34),i=t.oxw(2);let o;t.xp6(2),t.Oqu(t.lcZ(3,13,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.xp6(2),t.Q6J("ngIf",2!=(null==i.examObj?null:i.examObj.whenShowResult)),t.xp6(1),t.Q6J("ngIf",2==(null==i.examObj?null:i.examObj.whenShowResult)),t.xp6(2),t.hij(" ",null==i.examObj?null:i.examObj.name," "),t.xp6(2),t.Q6J("ngIf",(null==i.studentObj?null:i.studentObj.fullName)||(null==i.userObj?null:i.userObj.fullName)),t.xp6(6),t.hij(" ",t.lcZ(16,15,"lang_auto_thoi_gian_lam_bai")," "),t.xp6(3),t.hij(" ",i.timeTested," "),t.xp6(1),t.Q6J("ngIf",null!=(null==i.examResultObj?null:i.examResultObj.rightAnswer)),t.xp6(1),t.Q6J("ngIf",(null==i.examResultObj||null==i.examResultObj.examResultStatisticObj||null==i.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:i.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&2!=(null==i.examObj?null:i.examObj.whenShowResult)),t.xp6(7),t.hij(" ",t.lcZ(28,17,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",null!==(o=null==i.examResultObj?null:i.examResultObj.totalQuestion)&&void 0!==o?o:0," "),t.xp6(2),t.Q6J("ngIf",1==i.examConfigObj.allowTestingEachQuestion)("ngIfElse",e)}}const Wl=function(n){return{"max-width":n}};function Vl(n,s){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"div",6),t.TgZ(3,"div",7)(4,"div",8),t.YNc(5,Cl,5,3,"div",9),t.YNc(6,Kl,35,19,"ng-template",null,10,t.W1O),t.qZA(),t.TgZ(8,"div",11),t._UZ(9,"azt-practice-box",12),t.qZA()()()()),2&n){const e=t.MAs(7),i=t.oxw();t.xp6(4),t.Q6J("ngStyle",t.VKq(5,Wl,0!==i.suggestPractice.length||i.checkMobileScreen?"100%":"560px")),t.xp6(1),t.Q6J("ngIf",""!=i.statusObj.errorMessage)("ngIfElse",e),t.xp6(4),t.Q6J("resultId",i.resultId)("webPage","STUDENT_SUBMIT_TEST")}}let $l=(()=>{class n extends w.Q{showStudentSkillStatisticDialog(){32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId?this.sAztDialogService.open(ye.y,{width:"100vw",data:{subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:this.userObj?.id??0},restoreFocus:!1}):this.sAztDialogService.open(Ae,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.returnLink))}redirectToTakeTraining(){this.commonService.myNavigationWithQueryString(null!=this.curCategoryId?"/test/take-training/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.tenantId+"/0/"+this.hashId,"?backto="+encodeURIComponent(this.backToLink))}getExamResult(){this.initStatusObj(),this.waitDestroy(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(e=>{if(1==e.success){this.hasErrorMessage=e.message?e.message:"",this.examObj=e.data?.examObj,this.examResultObj=e.data?.examResultObj,this.studentObj=e.data?.studentObj,this.examConfigObj=e.data?.examConfigObj??{};var i=new Date(e.data?.examResultObj?.startedTest??""),o=new Date(e.data?.examResultObj?.createdAt??"");this.timeTested=this.timeService.calculationTimeExamTested(i,o);let a="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(r=>{a=r}),this.commonService.translateMetaData({title:a+": "+this.examObj?.name,description:this.examObj?.name}),this.getSuggestExam()}else this.errorStatusObj(e.message??"",!0)}))}getSuggestExam(){this.waitDestroy(this.practiceService.apiPracticeSuggestGet(this.resultId).subscribe(e=>{1==e.success?(this.suggestPractice=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=e||"",this.userObj=this.userService.getUserObj(),this.getExamResult()})),this.backToLink=`/de-thi/${this.hashId}`,this.returnLink=`/test/submit-test/${this.tenantId}/${this.curCategoryId}/${this.hashId}/${this.resultId}`,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??"",super.ngOnInit(),this.checkMobileScreen=!this.commonService.compareDeviceScreen(768)}constructor(e,i,o,a,r,l){super(),this.sAztDialogService=e,this.activeRoute=i,this.frontExamResultService=o,this.timeService=a,this.userService=r,this.practiceService=l,this.backToLink="",this.paramBackToLink="",this.returnLink="",this.hashId="",this.curCategoryId=0,this.resultId=0,this.tenantId=0,this.examConfigObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.timeTested="",this.checkMobileScreen=!1,this.isShowStudentSkillStatistic=!0,this.suggestPractice=[]}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ct.C),t.Y36(d.gz),t.Y36(j.CA),t.Y36(_t.D),t.Y36(et.U),t.Y36(Et.ik))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-test"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","mt-8"],[1,"grid","grid-cols-12","gap-5"],[1,"md:col-span-2"],[1,"col-span-12","md:col-span-8"],[1,"box","mx-auto","mt-5",3,"ngStyle"],[4,"ngIf","ngIfElse"],["notError",""],[1,"mt-5","mx-auto"],[3,"resultId","webPage"],[1,"alert","alert-danger"],[2,"text-align","center","padding-top","30px"],[1,"text-lg","font-bold"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"text-md","font-medium","text-center","mt-3","px-5"],[1,"azt-info-exam","mt-5","px-5"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-3"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-slate-500"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"text-md","text-slate-500","font-medium","ml-auto"],[1,"p-5"],["testingFlow",""],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[4,"ngIf"],["class","font-medium text-lg text-danger",4,"ngIf"],[1,"font-medium","text-md","mr-2"],["class","font-medium text-lg","style","font-size: 25px",4,"ngIf"],[1,"font-medium","text-lg",2,"font-size","25px"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-lg",4,"ngIf"],[1,"font-medium","text-lg"],[1,"font-medium","text-lg","text-danger"],[1,"flex","items-center"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"text-md","font-medium","text-danger","ml-auto"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-4",4,"ngIf"],[3,"ngClass"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-pending","w-full",3,"click"],[1,"w-4","h-4","ml-2"],["name","clipboard-edit"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-primary","w-full",3,"click"],["name","chevron-right"],[1,"col-span-4"],[1,"btn","btn-success-soft","w-full",3,"click"],["class","col-span-6",4,"ngIf"],["azt-track-service","submit-test-ikX9fXn-mw","class","btn btn-outline-primary w-full",3,"click",4,"ngIf"],["class","btn btn-outline-primary w-full",3,"disabled",4,"ngIf"],[1,"col-span-6"],[1,"btn","btn-outline-primary","w-full",3,"disabled"]],template:function(e,i){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,Sl,1,1,"azt-loading-effect",1),t.YNc(2,Vl,10,7,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",i.backToLink),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[p.mk,p.O5,p.PC,H.l,ae.O,st.L,q.Nh5,h.JV,h.GU,h.iP,h.J_],encapsulation:2}),n})();var jt=u(78645),Wt=u(91687),Vt=u(59773),be=u(86874);class Je{constructor(){this.customDocument={...document}}showFullScreen(){try{const s=document.documentElement;let e=s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullscreen||s.msRequestFullscreen;e&&e.call(s)}catch{}}exitFullscreen(){try{const s=document;if(window.innerHeight==screen.height){let e=s.exitFullscreen||s.webkitExitFullscreen||s.msExitFullscreen;e&&e.call(s)}}catch{}}checkFullScreen(){switch(this.detectBrowserName()){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}detectBrowserName(){const s=navigator.userAgent.toLowerCase();return s.match(/chrome|chromium|crios/i)?"chrome":s.match(/firefox|fxios/i)?"firefox":s.match(/safari/i)?"safari":s.match(/opr\//i)?"opera":s.match(/edg/i)?"edge":"other"}}class at{getPassword(){return this.browserStorageService.getSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}savePassword(s){null==s||""==s||this.browserStorageService.saveSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId,s)}removePassword(){this.browserStorageService.removeSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}hasInfo(){return null!=this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}getInfo(){return this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}saveInfo(s){null==s||""==s||this.browserStorageService.saveSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId,s)}removeInfo(){this.browserStorageService.removeSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}constructor(s,e){this.examHashId=s,this.browserStorageService=e,this.PASSWORD_LOCAL_STORAGE_KEY="password_",this.USER_INFO_LOCAL_STORAGE_KEY="userInfoV3_"}}class Ye{constructor(){this.isMobile=!1}checkByWidth(){return this.isMobile=window.innerWidth<1200,this.isMobile}}class ve{makeDeviceId(s=10){for(var e="",a=0;a<s;a++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}getDeviceId(){var s=this.browserStorageService.getSimpleStorage("device_session");return this.deviceId=s||this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId),this.deviceId}constructor(s){this.browserStorageService=s,this.deviceId=""}}class $t{constructor(s){this.curQuestionIndex=0,this.questionObjs=s}prevQuestion(s){var e=document.getElementById("question_"+String(s)),i=document.getElementById("question_"+String(s-1));i&&e&&typeof i.getAttribute("hidden")<"u"&&"false"!==i.getAttribute("hidden")&&(e.setAttribute("hidden","true"),i.removeAttribute("hidden"),this.curQuestionIndex=0==s?0:s-1)}nextQuestion(s){var e=document.getElementById("question_"+String(s)),i=document.getElementById("question_"+String(s+1));i&&e&&typeof i.getAttribute("hidden")<"u"&&"false"!==i.getAttribute("hidden")&&(e.setAttribute("hidden","true"),i.removeAttribute("hidden"),this.curQuestionIndex=s==this.questionObjs.length-1?s:s+1)}goToQuestion(s){var e=document.getElementById("question_"+String(this.curQuestionIndex)),i=document.getElementById("question_"+String(s));i&&e&&typeof i.getAttribute("hidden")<"u"&&"false"!==i.getAttribute("hidden")&&(e.setAttribute("hidden","true"),i.removeAttribute("hidden"),this.curQuestionIndex=s)}goToQuestionAll(s){var e=document.getElementById("question_all_"+s);e?.scrollIntoView()}}class He{constructor(){this.fontSize=1}changeSizeImgOrMathJax(s){let e=document.getElementsByClassName("img-docx"),i=document.getElementsByClassName("MJX-TEX");e.length&&Array.from(e).forEach(o=>{if(o instanceof HTMLElement){let a=o.offsetWidth;o.style.width=s?a+10+"px":a-10+"px",o.style.height="auto"}}),i.length&&Array.from(i).forEach(o=>{o instanceof HTMLElement&&(o.style.fontSize=this.fontSize+"em")})}zoomIn(){this.fontSize<2&&(this.fontSize+=.1,this.changeSizeImgOrMathJax(!0))}zoomOut(){this.fontSize>1&&(this.fontSize-=.1,this.changeSizeImgOrMathJax(!1))}}class Be{saveAnswerAndTrackInfoToLocalStorage(s,e,i,o,a,r,l){let _={autoSubmit:void 0,serverCountDown:l,examMinutes:s.minutes,saveStudentId:r.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()},m={answers:i,notes:o,files:JSON.stringify(a),infors:new at(s.hashId??"",this.browserStorageService).getInfo()??"",trackInfos:JSON.stringify(_),saveTime:(new Date).getTime()};this.saveStudentAnswerToLocalStorage(s,e,m)}saveStudentAnswerToLocalStorage(s,e,i){this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+s.id+"_"+e,JSON.stringify(this.encryptionHelper.payload(i)),[s.id.toString(),s.hashId??""])}getStudentAnswerFromLocalStorage(s,e){var i=this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+s.id+"_"+e)??"");return this.encryptionHelper.result({success:1,version:"",code:1,detailMessage:"",message:"",data:i})?.data}removeStudentAnswerInLocalStorage(s,e){this.browserStorageService.removeSimpleStorage(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+s.id+"_"+e)}getResultTrackFromLocalStorage(s,e){let i=this.browserStorageService.getSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(s.hashId??"")+"_"+e);return this.commonService.myParseJson(i??"")??[]}setResultTracking(s,e,i,o){return i.push([...o,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(s.hashId??"")+"_"+e,JSON.stringify(i),[s.id.toString(),s.hashId??""]),i}removeResultTracking(s,e){this.browserStorageService.removeSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+s.hashId+"_"+e)}constructor(s,e,i,o){this.commonService=s,this.encryptionHelper=e,this.timeService=i,this.browserStorageService=o,this.sAztTestDeviceIdService=new ve(this.browserStorageService),this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY="saveResultTrack_",this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY="saveDataV4_"}}var y=function(n){return n[n.INIT=0]="INIT",n[n.LOGIN_DIALOG=1]="LOGIN_DIALOG",n[n.PAYMENT_DIALOG=2]="PAYMENT_DIALOG",n[n.INFO_REQUIRED_DIALOG=3]="INFO_REQUIRED_DIALOG",n[n.WAIT_TO_TEST_TIME=4]="WAIT_TO_TEST_TIME",n[n.CHOOSE_STUDENT=5]="CHOOSE_STUDENT",n[n.SEQUENCE_STEP=6]="SEQUENCE_STEP",n[n.SHOW_ESSAY_WARNING_DIALOG=7]="SHOW_ESSAY_WARNING_DIALOG",n[n.SHOW_FULL_SCREEN=8]="SHOW_FULL_SCREEN",n[n.SHOW_VIDEO_REQUIRED=9]="SHOW_VIDEO_REQUIRED",n[n.RUN_OUT_OF_TIME_AFTER_TEST=10]="RUN_OUT_OF_TIME_AFTER_TEST",n[n.RUN_OUT_OF_TIME_WHEN_F5=11]="RUN_OUT_OF_TIME_WHEN_F5",n[n.START_TEST=12]="START_TEST",n[n.SHOW_ERROR_MESSAGE=13]="SHOW_ERROR_MESSAGE",n}(y||{});class Xt{defaultTime(s=!1){return{hour:0,minute:0,second:0,almostEnd:s,hourStr:"00",minuteStr:"00",secondStr:"00"}}parseTime(s){const e=Math.floor(s/3600),o=Math.floor(s%3600/60),a=s%60;return{hour:e,minute:o,second:a,almostEnd:0==e&&0==o,hourStr:e<10?"0"+e:e.toString(),minuteStr:o<10?"0"+o:o.toString(),secondStr:a<10?"0"+a:a.toString()}}}const Xl=function(n){return{"time-almost-end":n}};let te=(()=>{class n extends w.Q{intervalTime(){let e=this.totalSecond,i=this.timeService.getCurrentSecond();const o=new jt.x,a=(0,Wt.F)(1e3).pipe((0,Vt.R)(o));this.waitDestroy(a.subscribe(r=>{this.timeCount=(new Xt).parseTime(this.totalSecond);let l=this.timeService.getCurrentSecond();this.totalSecond=e-(l-i),this.totalSecond<=0&&(o.next(!0),this.endCountDownEvent.emit(!0))}))}ngOnChanges(){this.timeCount=(new Xt).parseTime(this.totalSecond)}ngOnInit(){super.ngOnInit(),this.timeCount=(new Xt).parseTime(this.totalSecond),this.useCountDown&&this.intervalTime()}constructor(e){super(),this.timeService=e,this.endCountDownEvent=new t.vpe,this.timeCount=(new Xt).defaultTime()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_t.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-frontend-count-down-box"]],inputs:{totalSecond:"totalSecond",useCountDown:"useCountDown"},outputs:{endCountDownEvent:"endCountDownEvent"},features:[t.qOj,t.TTD],decls:2,vars:6,consts:[[1,"font-medium",3,"ngClass"]],template:function(e,i){1&e&&(t.TgZ(0,"span",0),t._uU(1),t.qZA()),2&e&&(t.Q6J("ngClass",t.VKq(4,Xl,i.timeCount.almostEnd)),t.xp6(1),t.lnq("",i.timeCount.hourStr," : ",i.timeCount.minuteStr," : ",i.timeCount.secondStr,""))},dependencies:[p.mk],encapsulation:2}),n})();function t_(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.lcZ(3,5,"lang_auto_va")," ",t.lcZ(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.lcZ(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function e_(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function n_(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.lcZ(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function i_(n,s){if(1&n&&(t.TgZ(0,"div",18)(1,"span",20)(2,"span",21),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,t_,6,11,"span",22),t.YNc(6,e_,3,3,"span",22),t.YNc(7,n_,4,5,"span",22),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_canh_bao")+": "," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.xp6(2),t.hij(" ",t.lcZ(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function o_(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"h3",9),t.O4$(),t.TgZ(2,"svg",10),t._UZ(3,"path",11)(4,"polyline",12)(5,"path",13),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"div",14)(9,"span",15),t._uU(10),t.ALo(11,"mytranslate"),t._UZ(12,"app-testbank-frontend-count-down-box",16),t.qZA()(),t.YNc(13,i_,11,9,"div",17),t.TgZ(14,"div",18)(15,"p",19),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,6,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.xp6(4),t.hij(" ",t.lcZ(11,8,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.xp6(2),t.Q6J("totalSecond",e.data.countDownSecond)("useCountDown",!0),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.xp6(3),t.hij(" ",t.lcZ(17,10,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function a_(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.lcZ(3,5,"lang_auto_va")," ",t.lcZ(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.lcZ(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function s_(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function r_(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.lcZ(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function l_(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",18)(1,"span",20)(2,"span",21),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,a_,6,11,"span",22),t.YNc(6,s_,3,3,"span",22),t.YNc(7,r_,4,5,"span",22),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_canh_bao")+": "," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.xp6(2),t.hij(" ",t.lcZ(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function __(n,s){if(1&n&&(t.TgZ(0,"h3",9),t.O4$(),t.TgZ(1,"svg",10),t._UZ(2,"path",11)(3,"polyline",12)(4,"path",13),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.YNc(7,l_,11,9,"div",17),t.kcU(),t.TgZ(8,"div",18)(9,"p",19),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,3,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.xp6(3),t.hij(" ",t.lcZ(11,5,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function c_(n,s){1&n&&(t.TgZ(0,"span",23),t._UZ(1,"azt-loading-ui"),t.qZA())}let u_=(()=>{class n extends it.e{enableSubmitBtn(){this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable>0&&(this.countTimeEnable--,this.enableSubmitBtn())},1e3):this.countTimeEnable=0}btnCloseDialog(){this.dialogRef.close(!1)}confirmFinish(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit(),this.enableSubmitBtn()}constructor(e,i,o,a){super(a,o),this.commonService=e,this.globalService=i,this.dialogRef=o,this.countTimeEnable=5}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z),t.Y36(It.q),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-confirm-exam-dialog"]],features:[t.qOj],decls:14,vars:11,consts:[[1,"p-4","box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[4,"ngIf","ngIfElse"],["unlimitedTpl",""],[1,"p-3","flex","justify-end"],["azt-track-service","comfirm-exam-GwLo2uv__",1,"btn","btn-secondary","w-40","mr-2",2,"vertical-align","middle",3,"click"],["azt-track-service","comfirm-exam-x-4M3WDlkE",1,"btn","w-40","btn-primary",2,"vertical-align","middle",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-success"],["d","M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"],["points","14 2 14 8 20 8"],["d","m3 15 2 2 4-4"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"text-danger"],[1,"font-medium"],[4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,o_,18,12,"ng-container",3),t.YNc(4,__,12,7,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return i.btnCloseDialog()}),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return i.confirmFinish()}),t.YNc(11,c_,2,0,"span",8),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()),2&e){const o=t.MAs(5);t.xp6(3),t.Q6J("ngIf",!i.data.isUnLimitedTime)("ngIfElse",o),t.xp6(5),t.hij(" ",t.lcZ(9,7,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",i.countTimeEnable>0),t.xp6(1),t.Q6J("ngIf",i.countTimeEnable>0),t.xp6(1),t.AsE(" ",t.lcZ(13,9,"lang_auto_nop_bai")," ",i.countTimeEnable>0?"("+i.countTimeEnable+")":""," ")}},dependencies:[p.O5,xt.n,te,h.JV],encapsulation:2}),n})(),m_=(()=>{class n extends it.e{closeDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(e,i,o){super(o,i),this.commonService=e,this.dialogRef=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-essay-warning-dialog"]],features:[t.qOj],decls:20,vars:12,consts:[[1,"bg-white"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],["azt-track-service","check-essay-_8FjX2B80z",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",8)(11,"p",9),t._uU(12),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.qZA()()()(),t.TgZ(15,"div",10),t._UZ(16,"div",11),t.TgZ(17,"button",12),t.NdJ("click",function(){return i.closeDialog()}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,4,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan")," "),t.xp6(4),t.AsE("",t.lcZ(13,6,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.lcZ(14,8,"lang_auto_dinh_kem_tu_luan"),'"'),t.xp6(6),t.hij(" ",t.lcZ(19,10,"lang_auto_toi_da_hieu")," "))},dependencies:[h.JV],encapsulation:2}),n})();function d_(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",12)(1,"span",13),t._uU(2),t.ALo(3,"mytranslate"),t._UZ(4,"app-testbank-frontend-count-down-box",14),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.xp6(2),t.Q6J("totalSecond",e.data.countDownSecond)("useCountDown",!0)}}let p_=(()=>{class n extends it.e{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(e,i,o){super(o,i),this.commonService=e,this.dialogRef=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-exit-exam"]],features:[t.qOj],decls:18,vars:10,consts:[[1,"p-4","box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["class","mt-5 flex items-center",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","exit-exam-kt6CrvSrn7",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","exit-exam-HDzj9p0Z53",1,"btn","w-24","btn-primary",3,"click"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"path",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.YNc(10,d_,5,5,"div",8),t.qZA()(),t.kcU(),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){return i.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return i.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,4,"lang_testbank_frontend_are_your_sure_to_back")+" ?"," "),t.xp6(2),t.Q6J("ngIf",!i.data.isUnLimitedTime),t.xp6(3),t.hij(" ",t.lcZ(14,6,"lang_auto_dong")," "),t.xp6(3),t.hij(" ",t.lcZ(17,8,"lang_auto_xac_nhan")," "))},dependencies:[p.O5,te,h.JV],encapsulation:2}),n})();function g_(n,s){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",11)(1,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goToRegister())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_dang_ky")," "))}function h_(n,s){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",14)(1,"p",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_da_co_tai_khoan")," "))}let f_=(()=>{class n extends it.e{goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`)}ngOnInit(){super.ngOnInit()}constructor(e,i,o,a){super(a,o),this.router=e,this.redirectService=i,this.dialogRef=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.F0),t.Y36(ge.z),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login-required-dialog"]],features:[t.qOj],decls:17,vars:8,consts:[[1,"box","p-5"],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"inline-block","mb-3"],[1,"font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["class","mx-auto",4,"ngIf"],["class","font-medium mb-3 mt-3",4,"ngIf"],[1,"mx-auto"],["azt-track-service","submit-name-UNDqa4pBGe9",1,"btn","w-24","btn-primary",3,"click"],["azt-track-service","submit-name-DfdZNdp-7E-",1,"btn","w-24","btn-primary",3,"click"],[1,"font-medium","mb-3","mt-3"],[1,"text-xs","text-slate-500","dark:text-slate-400"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"polygon",6)(7,"line",7)(8,"line",8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.YNc(11,g_,4,3,"div",9),t.YNc(12,h_,4,3,"div",10),t.kcU(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return i.goToLogin()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()()()),2&e&&(t.xp6(9),t.hij(" ",t.lcZ(10,4,i.isBusinessDomain?"lang_business_ban_can_phai_dang_nhap_tai_khoan_de_lam_bai_thi":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_lam_bai_thi")," "),t.xp6(2),t.Q6J("ngIf",!i.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!i.isBusinessDomain),t.xp6(3),t.hij(" ",t.lcZ(16,6,"lang_auto_dang_nhap")," "))},dependencies:[p.O5,h.JV],encapsulation:2}),n})(),Ge=(()=>{class n extends it.e{confirmQuit(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit()}constructor(e,i,o){super(o,i),this.commonService=e,this.dialogRef=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-monitor-screen"]],features:[t.qOj],decls:19,vars:18,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mb-0","h5"],[1,"p-3","text-right","items-center"],["azt-track-service","monitoring-dialog-dvRk43CCy8",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t.kcU(),t.TgZ(8,"p",8),t._uU(9),t.ALo(10,"mytranslate"),t.ALo(11,"mytranslate"),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.qZA()()()(),t.TgZ(15,"div",9)(16,"button",10),t.NdJ("click",function(){return i.confirmQuit()}),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(9),t.xDo(" ",t.lcZ(10,6,"lang_auto_day_la_bai_thi_duoc"),' "',t.lcZ(11,8,"lang_auto_giam_sat"),'"',t.lcZ(12,10,"lang_auto__vui_long_bam"),' "',t.lcZ(13,12,"lang_auto_xac_nhan"),'" ',t.lcZ(14,14,"lang_auto_de_tiep_tuc_bai_thi")," "),t.xp6(8),t.hij(" ",t.lcZ(18,16,"lang_auto_xac_nhan")," "))},dependencies:[h.JV],encapsulation:2}),n})();function x_(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t._UZ(5,"input",19),t.qZA(),t.TgZ(6,"div",20)(7,"i"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_auto_ho_va_ten")," "),t.xp6(2),t.Q6J("formControl",e.anonymousFullNameFormControl),t.xp6(3),t.Oqu(t.lcZ(9,5,"lang_testbank_frontend_anonymous_account_need_enter_full_name"))}}function b_(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t._UZ(5,"input",19),t.qZA(),t.TgZ(6,"div",21)(7,"i"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_auto_mat_khau_bai_thi")," "),t.xp6(2),t.Q6J("formControl",e.passwordFormControl),t.xp6(3),t.Oqu(t.lcZ(9,5,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban"))}}function v_(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18),t._uU(3),t.qZA(),t._UZ(4,"input",19),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.textInputInfoField.title," "),t.xp6(1),t.Q6J("formControl",e.textInputInfoField.textInputFormControl)}}function T_(n,s){if(1&n&&(t.TgZ(0,"div",26)(1,"mat-checkbox",27)(2,"span",28),t._uU(3),t.qZA()()()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("formControl",e.checkboxFormControl),t.xp6(1),t.s9C("matTooltip",e.optionName),t.xp6(1),t.Oqu(e.optionName)}}function w_(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",22)(2,"span",23),t._uU(3),t.qZA()(),t.TgZ(4,"div",24),t.YNc(5,T_,4,3,"div",25),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.checkboxInfoField.title),t.xp6(2),t.Q6J("ngForOf",e.checkboxInfoField.data)}}function S_(n,s){if(1&n&&(t.TgZ(0,"mat-radio-button",32)(1,"span",28),t._uU(2),t.qZA()()),2&n){const e=s.$implicit;t.Q6J("value",e.optionName),t.xp6(1),t.s9C("matTooltip",e.optionName),t.xp6(1),t.Oqu(e.optionName)}}function C_(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",22)(2,"span",29),t._uU(3),t.qZA()(),t.TgZ(4,"mat-radio-group",30),t.YNc(5,S_,3,3,"mat-radio-button",31),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.radioInfoField.title),t.xp6(1),t.Q6J("formControl",e.radioInfoField.radioFormControl),t.xp6(1),t.Q6J("ngForOf",e.radioInfoField.data)}}function k_(n,s){if(1&n&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.optionName),t.xp6(1),t.Oqu(e.optionName)}}function O_(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"span",29),t._uU(3),t.qZA()(),t.TgZ(4,"div",33)(5,"mat-form-field",34)(6,"mat-label",35),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"mat-select",36),t.YNc(10,k_,2,2,"mat-option",37),t.qZA()()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.dropDownMenuInfoField.title),t.xp6(4),t.Oqu(t.lcZ(8,4,"lang_auto_chon_mot_thong_tin")),t.xp6(2),t.Q6J("formControl",e.dropDownMenuInfoField.dropDownFormControl),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuInfoField.data)}}function A_(n,s){if(1&n&&(t.ynx(0,15),t.YNc(1,x_,10,7,"div",16),t.YNc(2,b_,10,7,"div",16),t.YNc(3,v_,5,2,"div",16),t.YNc(4,w_,6,2,"div",16),t.YNc(5,C_,6,3,"div",16),t.YNc(6,O_,11,6,"div",16),t.BQk()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",e.anonymousFullNameFormControl),t.xp6(1),t.Q6J("ngIf",e.passwordFormControl),t.xp6(1),t.Q6J("ngIf",e.textInputInfoField),t.xp6(1),t.Q6J("ngIf",e.checkboxInfoField),t.xp6(1),t.Q6J("ngIf",e.radioInfoField),t.xp6(1),t.Q6J("ngIf",e.dropDownMenuInfoField)}}function y_(n,s){1&n&&(t.TgZ(0,"span",39),t._UZ(1,"azt-loading-ui"),t.qZA())}let I_=(()=>{class n extends it.e{handleConfirm(){this.initStatusObj(),this.updateAnonymousFullName(this.data.obj.enterAnonymousFullNameRequired?this.form.controls.anonymousFullNameFormControl?.value:void 0,e=>{if(e&&this.showErrorSnack(e),this.data.obj.passwordRequired&&new at(this.data.obj.examObj.hashId??"",this.browserStorageService).savePassword(this.form.controls.passwordFormControl?.value),this.data.obj.enterInfoRequired){let i=[];this.infoObjs.forEach(o=>{let a={contents:[]};o.checkboxInfoField&&(a.index=o.checkboxInfoField.rawIndex,a.type=o.checkboxInfoField.type,a.title=o.checkboxInfoField.title,o.checkboxInfoField.data.forEach(r=>{r.checkboxFormControl.value&&a.contents.push(r.optionName)}),i.push(a)),o.radioInfoField&&(a.index=o.radioInfoField.rawIndex,a.type=o.radioInfoField.type,a.title=o.radioInfoField.title,a.contents.push(o.radioInfoField.radioFormControl.value),i.push(a)),o.dropDownMenuInfoField&&(a.index=o.dropDownMenuInfoField.rawIndex,a.type=o.dropDownMenuInfoField.type,a.title=o.dropDownMenuInfoField.title,a.contents.push(o.dropDownMenuInfoField.dropDownFormControl.value),i.push(a)),o.textInputInfoField&&(a.index=o.textInputInfoField.rawIndex,a.type=o.textInputInfoField.type,a.title=o.textInputInfoField.title,a.contents.push(o.textInputInfoField.textInputFormControl.value),i.push(a))}),new at(this.data.obj.examObj.hashId??"",this.browserStorageService).saveInfo(JSON.stringify(i))}this.dialogRef.close(!0)})}updateAnonymousFullName(e,i){if(null==e)return i(void 0);this.waitDestroy(this.userInfoService.apiUserInfoChangeNamePost({id:0,name:e}).subscribe(o=>i(o.success?void 0:o.message)))}initFieldForm(){this.data.obj.enterAnonymousFullNameRequired&&this.infoObjs.push({anonymousFullNameFormControl:new c.NI("",{nonNullable:!0,validators:[vt._.noWhiteSpace]})}),this.data.obj.passwordRequired&&this.infoObjs.push({passwordFormControl:new c.NI("",{nonNullable:!0,validators:[vt._.noWhiteSpace]})}),new at(this.data.obj.examObj.hashId??"",this.browserStorageService).hasInfo()||this.data.obj.infoFields.forEach((e,i)=>{switch(e.type){case 1:let o={checkboxInfoField:{rawIndex:i,type:e.type,title:e.title??"",data:[],checkboxFormArray:new c.Oe([],Z_(1))}};e.contents.forEach((m,g)=>{o.checkboxInfoField?.data.push({index:g,optionName:m,checkboxFormControl:new c.NI(!1,{nonNullable:!0})})}),o.checkboxInfoField?.data.forEach(m=>o.checkboxInfoField?.checkboxFormArray.push(m.checkboxFormControl)),this.infoObjs.push(o);break;case 2:let a=this.commonService.getFirstOfArray(e.contents),r={radioInfoField:{rawIndex:i,type:e.type,title:e.title??"",data:[],radioFormControl:new c.NI(a??"",{nonNullable:!0,validators:[vt._.noWhiteSpace]})}};e.contents.forEach((m,g)=>{r.radioInfoField?.data.push({index:g,optionName:m})}),this.infoObjs.push(r);break;case 3:let l={dropDownMenuInfoField:{rawIndex:i,type:e.type,title:e.title??"",data:[],dropDownFormControl:new c.NI("",{nonNullable:!0,validators:[vt._.noWhiteSpace]})}};e.contents.forEach((m,g)=>{l.dropDownMenuInfoField?.data.push({index:g,optionName:m})}),this.infoObjs.push(l);break;default:let _={textInputInfoField:{rawIndex:i,type:e.type??0,title:e.title??"",textInputFormControl:new c.NI("",{nonNullable:!0,validators:[vt._.noWhiteSpace]})}};this.infoObjs.push(_)}}),this.infoObjs.forEach(e=>{e.anonymousFullNameFormControl&&(this.form.controls.anonymousFullNameFormControl=e.anonymousFullNameFormControl),e.passwordFormControl&&(this.form.controls.passwordFormControl=e.passwordFormControl),e.checkboxInfoField&&this.form.controls.checkboxInfoField?.push(e.checkboxInfoField.checkboxFormArray),e.radioInfoField&&this.form.controls.radioInfoField?.push(e.radioInfoField.radioFormControl),e.dropDownMenuInfoField&&this.form.controls.dropDownMenuInfoField?.push(e.dropDownMenuInfoField.dropDownFormControl),e.textInputInfoField&&this.form.controls.textInputInfoField?.push(e.textInputInfoField.textInputFormControl)})}ngOnInit(){super.ngOnInit(),this.initFieldForm()}constructor(e,i,o,a){super(a,o),this.userInfoService=e,this.browserStorageService=i,this.dialogRef=o,this.form=new c.cw({passwordFormControl:new c.NI("empty",{nonNullable:!0}),anonymousFullNameFormControl:new c.NI("empty",{nonNullable:!0}),checkboxInfoField:new c.Oe([]),radioInfoField:new c.Oe([]),dropDownMenuInfoField:new c.Oe([]),textInputInfoField:new c.Oe([])}),this.infoObjs=[]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Dt.$C),t.Y36(bt.n),t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-submit-info"]],features:[t.qOj],decls:21,vars:13,consts:[["id","test-info-form",3,"formGroup"],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"mt-0","px-4","py-4",2,"padding-bottom","0"],[1,"intro-x","text-md","font-bold","flex","items-center","text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"intro-x","text-xs","text-slate-600","pt-3"],[1,"px-4","py-4","pt-0"],["class","info-field",4,"ngFor","ngForOf"],[1,"text-right","px-4","pb-4"],["azt-track-service","submit-info-5wWwRj07M5L",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"info-field"],[4,"ngIf"],[1,"input-group","mt-3"],[1,"input-group-text","whitespace-nowrap",2,"min-width","134px"],["type","text",1,"form-control",3,"formControl"],[1,"pt-1","text-xs"],[1,"pt-1","text-xs","text-danger"],[1,"input-group","w-full","mt-3"],[1,"input-group-text","w-full","align-center",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row"],["class","col-span-12 sm:col-span-12 md:col-span-4 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","mb-1"],["color","primary",3,"formControl"],[1,"truncate",2,"vertical-align","middle",3,"matTooltip"],[1,"input-group-text","w-full",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row",3,"formControl"],["color","primary","class","col-span-12 sm:col-span-12 md:col-span-4 mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-span-12","sm:col-span-12","md:col-span-4","mb-1",3,"value"],[1,"border-row"],["appearance","fill",1,"border-0"],[1,"mt-2"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"polygon",6)(7,"line",7)(8,"line",8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(11,"h6",9),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",10),t.YNc(15,A_,7,6,"ng-container",11),t.qZA(),t.TgZ(16,"div",12)(17,"button",13),t.NdJ("click",function(){return i.handleConfirm()}),t.YNc(18,y_,2,0,"span",14),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()),2&e&&(t.Q6J("formGroup",i.form),t.xp6(9),t.hij(" ",t.lcZ(10,7,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(13,9,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")," "),t.xp6(3),t.Q6J("ngForOf",i.infoObjs),t.xp6(2),t.Q6J("disabled",!i.form.valid||i.statusObj.loading),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(20,11,"lang_auto_xac_nhan")," "))},dependencies:[p.sg,p.O5,Pe.ey,Ue.oG,Gt.KE,Gt.hX,Kt.VQ,Kt.U0,De.gD,W.gM,c._Y,c.Fj,c.JJ,c.JL,c.oH,c.sg,xt.n,h.JV],encapsulation:2}),n})();function Z_(n=1){return e=>e.getRawValue().filter(o=>o).length>=n?null:{required:!0}}let Te=(()=>{class n{result(e){const i=e;return 1===e.success&&e.data&&e.data.content&&(i.data=this.decode(e.data.content)),i}payload(e){return{content:this.encode(e),typeHash:Math.floor(256*Math.random()),keyHash:"U5gleH2CsWW"}}encode(e){const i=JSON.stringify(e),o=new TextEncoder;let a=Math.floor(10*Math.random());const r=o.encode(i);for(let m=0;m<r.length;m++)r[m]=this.hashExtractTemplate[a][r[m]];let l=new Uint8Array(r.length+1);return l.set(r),l[l.length-1]=a,btoa(String.fromCharCode(...l))}decode(e){const i=atob(e).split(""),o=i.pop(),a=new Uint8Array(i.map(m=>m.charCodeAt(0))),r=o?.charCodeAt(0)??0;for(let m=0;m<a.length;m++){const g=this.hashExtractTemplate[r].indexOf(a[m]);a[m]=g}const _=new TextDecoder("utf-8").decode(a);return this.commonService.castJsonToObj(_)}constructor(e){this.commonService=e,this.hashExtractTemplate=this.commonService.castJsonToObj(this.commonService.getContentHashConfigSystem())??[]}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(D.z))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ke=u(21857);const j_=["customCard"],M_=["fileSelect"];function q_(n,s){1&n&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_bai_lam_dang_duoc_tai_len_vui_long_doi_trong_giay_lat")))}function Q_(n,s){1&n&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_dang_dong_bo_du_lieu_vui_long_doi_trong_giay_lat")))}function E_(n,s){if(1&n&&(t.TgZ(0,"div",16),t.YNc(1,q_,3,3,"h5",17),t.YNc(2,Q_,3,3,"h5",17),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.Tmploading),t.xp6(1),t.Q6J("ngIf",e.Tmploading)}}const L_=function(n){return{"width.%":n}};function F_(n,s){if(1&n&&(t.TgZ(0,"div",21)(1,"h5",22),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._UZ(4,"div",24),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.Q6J("ngStyle",t.VKq(2,L_,e.uploadProgress))}}function z_(n,s){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,F_,5,4,"div",20),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function P_(n,s){if(1&n&&(t.TgZ(0,"div",32)(1,"video",33),t._UZ(2,"source",34),t.ALo(3,"safe"),t.qZA(),t.TgZ(4,"div",35)(5,"div",36)(6,"span",37),t._UZ(7,"lucide-icon",38),t.qZA()()()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",t.lcZ(3,1,e.url+"#t=5"),t.LSH)}}function U_(n,s){if(1&n&&(t._UZ(0,"img",39),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.Q6J("src",t.lcZ(1,1,i.getFileIcon(e)),t.LSH)}}function D_(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(3);let r;return t.KtG(a.removeImg(null!==(r=o.url)&&void 0!==r?r:""))}),t.O4$(),t.TgZ(1,"svg",41),t._UZ(2,"line",42)(3,"line",43),t.qZA()()}}function N_(n,s){1&n&&(t.TgZ(0,"span",44)(1,"mat-icon",45),t._uU(2,"check_box_outline"),t.qZA()())}function R_(n,s){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,P_,8,3,"div",28),t.ALo(2,"isVideo"),t.YNc(3,U_,2,3,"ng-template",null,29,t.W1O),t.YNc(5,D_,4,0,"div",30),t.YNc(6,N_,3,0,"span",31),t.qZA()),2&n){const e=s.$implicit,i=t.MAs(4),o=t.oxw(3);let a;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,null!==(a=e.mimes)&&void 0!==a?a:""))("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",1!=o.isSuccess),t.xp6(1),t.Q6J("ngIf",o.isSuccess)}}function J_(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,R_,7,6,"div",26),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.uploadFiles)}}function Y_(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openSelectFile())}),t.O4$(),t.TgZ(1,"svg",47),t._UZ(2,"path",48)(3,"polyline",49)(4,"line",50),t.qZA(),t.kcU(),t.TgZ(5,"span",51),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"input",52,53),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.selectFile(o))}),t.qZA()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"lang_auto_upload_file_bai_lam_cua_ban")))}function H_(n,s){1&n&&(t.TgZ(0,"div",54)(1,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}function B_(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"span",58),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",59)(6,"span",60),t.O4$(),t.TgZ(7,"svg",61),t._UZ(8,"path",62)(9,"line",63)(10,"line",64),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(13,"div",65)(14,"div",66)(15,"span",18),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"span",67),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"div",68),t._UZ(22,"qrcode",69),t.qZA()(),t.TgZ(23,"div",65)(24,"div",66)(25,"span",18),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"span",67),t._uU(29),t.ALo(30,"mytranslate"),t.qZA(),t.TgZ(31,"div",70),t._UZ(32,"input",71),t.TgZ(33,"button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clickCopyLink())}),t.O4$(),t.TgZ(34,"svg",47),t._UZ(35,"rect",73)(36,"path",74),t.qZA(),t._uU(37),t.ALo(38,"mytranslate"),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,14,"lang_auto_hoac_nop_bang_dien_thoai")),t.xp6(8),t.hij(" ",t.lcZ(12,16,"lang_auto_vui_long_khong_tat_bang_nay_nop_bang_dien_thoai")," "),t.xp6(5),t.hij("",t.lcZ(17,18,"lang_auto_cach_1"),":"),t.xp6(3),t.hij(" ",t.lcZ(20,20,"lang_auto_su_dung_dien_thoai_quet_ma_qrcode_duoi_day_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.Q6J("allowEmptyString",!0)("qrdata",e.urlUploadImage)("elementType","url")("width",160)("errorCorrectionLevel","M"),t.xp6(4),t.hij("",t.lcZ(27,22,"lang_auto_cach_2"),":"),t.xp6(3),t.hij(" ",t.lcZ(30,24,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.s9C("value",e.urlUploadImage),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copylinkToClipboard(e.urlUploadImage)),t.xp6(4),t.hij(" ",t.lcZ(38,26,"lang_auto_sao_chep")," ")}}function G_(n,s){1&n&&(t.TgZ(0,"span",75),t._UZ(1,"azt-loading-ui"),t.qZA())}function K_(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",null,2)(3,"div",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t.YNc(7,E_,3,2,"div",7),t.YNc(8,z_,2,1,"div",8),t.YNc(9,J_,2,1,"div",9),t.YNc(10,Y_,10,3,"div",10),t.YNc(11,H_,4,3,"div",11),t.qZA(),t.YNc(12,B_,39,28,"div",12),t.TgZ(13,"div",13)(14,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.YNc(15,G_,2,0,"span",15),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.uploadFiles.length>0),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.data.isMobile),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.hij(" ",t.lcZ(17,9,"lang_auto_xac_nhan")," ")}}let W_=(()=>{class n extends w.Q{copylinkToClipboard(e){return e}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}getFileIcon(e){return(0,k.Or)(e.mimes??"")?e.url??"":(0,k.F0)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_audio.svg"):(0,k.MH)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_word.svg"):(0,k.ZA)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_powerpoint.svg"):(0,k.AW)(e.extension??"")||"xlsx"==e.extension?this.cdnService.convertCdnLinkOfGitHub("images/ext_excel.svg"):e.url??""}isOnSelectFileEmit(e){this.isOnSelectFile.emit(e)}goBackFullScreen(){const e=document.documentElement;let i=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;i&&!this.isCallFullScreenOnce&&this.data.showFullScreenRequired&&(i.call(e),this.isCallFullScreenOnce=!0)}saveFile(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}saveFileConf(){!0===this.statusObj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.snackWarning("lang_auto_sync_file_to_system_please_waiting"):this.saveFile()}replaceRequestGetInfoUpload(e){var i=this,o=e;this.intervalGetInfoUpload=window.setInterval(()=>{!1===i.isUploadedPdf&&i.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(i.hashCode).subscribe(a=>{if(1==a.success){var r=i.commonService.myParseJson(a.data?.tmpObj?.files??""),l=!1;(r=r??[]).length!=i.uploadFiles.length?l=!0:r.length>0&&r.forEach(_=>{-1===i.uploadFiles.findIndex(m=>m.path==_.path)&&(l=!0)}),!0===l&&(0==i.isOnSync||o)&&i.addFileMobile.emit({files:r,keepOpen:!0}),o&&(i.uploadFiles=r,i.updateFileUploadMobile(!0),o=!1),i.Tmploading=!1,i.stopStatusObj()}else i.showErrorSnack("lang_auto_dong_bo_du_lieu_khong_thanh_cong_vui_long_an_f5_hoac_tai_lai_trang"),i.Tmploading=!1,i.stopStatusObj()})},3e3)}updateFileUploadMobile(e){return new Promise(i=>{this.initStatusObj(),this.Tmploading=e??!1,this.isOnSync=!0,this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost({hashCode:this.hashCode,files:JSON.stringify(this.uploadFiles)}).subscribe(o=>{1==o.success?(this.stopStatusObj(),this.Tmploading=!1,this.isOnSync=!1,i(!0)):(this.stopStatusObj(),this.Tmploading=!1)})})}openSelectFile(){this.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,this.fileSelect?.nativeElement.click())}onFocus(e){this.onSelectFile&&(null==this.answerFile||0==this.uploadFiles.length)&&(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1))}addFileWithProcess(e){e&&this.uploadFiles.push(e);for(let i=0;i<this.uploadFiles.length;i++)this.uploadFiles[i].lastModified||(this.uploadFiles[i].lastModified=(new Date).getTime()),this.uploadFiles[i].thumb||(this.uploadFiles[i].thumb=this.homeworkExamService.getThumbWithObj(this.uploadFiles[i]));this.uploadFiles.sort((i,o)=>(i.lastModified??0)-(o.lastModified??0))}bindUrlToQrCode(e){var i=this.commonService.getCurrentDomain();this.urlUploadImage=`${i}/n/${e}`}onGlobalClick(e){this.customCard?.nativeElement.contains(e.target)||this.closeDialog.emit()}isVideo(e){return/^(?:video)/i.test(e)}convertObjToArray(e){var i=[];for(var o in e)i.push(e[o]);return i}removeImg(e){var i=this.uploadFiles.filter(o=>o.url!==e);this.uploadFiles=i,this.updateFileUploadMobile(!0)}ngOnChanges(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}ngOnInit(){setTimeout(()=>{this.data.isMobile||this.bindUrlToQrCode(this.hashCode),this.initStatusObj(),this.Tmploading=!0,this.replaceRequestGetInfoUpload(!0)},100),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),super.ngOnInit()}ngOnDestroy(){this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload),super.ngOnDestroy()}constructor(e,i,o,a,r){var l;super(),l=this,this.myPdfService=e,this.apiUploadService=i,this.frontExamResultUploadService=o,this.homeworkExamService=a,this.cdnService=r,this.data={},this.hashCode="",this.isOnSelectFile=new t.vpe,this.closeDialog=new t.vpe,this.addFileMobile=new t.vpe,this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.urlUploadImage="",this.intervalGetInfoUpload=0,this.isUploadedPdf=!1,this.isOnSync=!1,this.Tmploading=!1,this.uploadFile=(_,m)=>{this.isSubmit=!1,((0,k.Or)(_.type)||(0,k.Wv)(_.type)||(0,k.F0)(_.type)||(0,k._4)(_.type)||(0,k.D_)(_.type)||(0,k.AW)(_.type)||(0,k.ZA)(_.type))&&(0,k.hv)(_).then(g=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(g).subscribe(f=>{if(f.type!=Pt.dt.UploadProgress)1==f.success?(delete this.fileUploadQueue[m],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push({...f.data}),this.stopStatusObj(),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_ten",_.name,f.message??"none")));else{var b=Math.round(f.loaded??0/(f.total??1)*100);this.fileUploadQueue.hasOwnProperty(m)?(this.fileUploadQueue[m].uploadProgress=b,this.fileUploadQueue[m].fileName=_.name):this.fileUploadQueue[m]={uploadProgress:0,fileName:_.name}}})})},this.selectFile=function(){var _=(0,ft.Z)(function*(m){let b=m.target.files;try{for(var v in b)if("length"!=v&&"item"!=v)if((0,k.zQ)(b[v].type))if((0,k.EO)(b[v].size)<=200)if(l.answerFile=b?b[v]:l.answerFile,(0,k._4)(b[v].type)){l.isUploadedPdf=!0,l.initStatusObj();var L=yield l.myPdfService.getImageWithPdf(b[v]);l.answerFile=b?b[v]:l.answerFile,l.uploadFilesFunc(L,l.uploadCount),l.uploadCount+=1}else l.answerFile&&(l.isSuccess=!1,l.initStatusObj(),(0,k.Wv)(b[v].type)?l.uploadFileVideo(l.answerFile,l.uploadCount):l.uploadFile(l.answerFile,l.uploadCount),l.uploadCount+=1);else l.showErrorSnack("lang_auto_mb_vui_long_chon_file_khong_qua_200_mb");else l.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");m.target.setAttribute("value",""),l.goBackFullScreen(),l.onSelectFile=!1,l.isOnSelectFileEmit(!1)}catch{l.goBackFullScreen(),l.onSelectFile=!1,l.isOnSelectFileEmit(!1)}});return function(m){return _.apply(this,arguments)}}(),this.uploadFileVideo=function(){var _=(0,ft.Z)(function*(m,g){l.waitDestroy(l.apiUploadService.uploadToVimeoProgress("front_exam",m,void 0).subscribe(f=>{f.isOnProgress?l.fileUploadQueue.hasOwnProperty(g)?(l.fileUploadQueue[g].uploadProgress=Math.round(f.percentage??0),l.fileUploadQueue[g].fileName=m.name):l.fileUploadQueue[g]={uploadProgress:0,fileName:m.name}:1==f.success?(delete l.fileUploadQueue[g],Array.isArray(l.uploadFiles)||(l.uploadFiles=[]),l.addFileWithProcess({...f.data,lastModified:m.lastModified}),l.updateFileUploadMobile(!1)):(l.stopStatusObj(),l.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau"))}))});return function(m,g){return _.apply(this,arguments)}}(),this.uploadFilesFunc=function(){var _=(0,ft.Z)(function*(m,g){for(let f=0;f<m.length;f++){const b=m[f];yield(0,k.hv)(b).then(v=>{l.apiUploadService.uploadToCdnProgressForFrontendExam(v).subscribe(L=>{L.type!=Pt.dt.UploadProgress&&(1==L.success?(delete l.fileUploadQueue[g],Array.isArray(l.uploadFiles)||(l.uploadFiles=[]),l.uploadFiles.push({...L.data}),f===m.length-1&&l.updateFileUploadMobile(!1).then(()=>{l.successStatusObj(),l.isUploadedPdf=!1})):(l.stopStatusObj(),l.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau")))})})}});return function(m,g){return _.apply(this,arguments)}}(),this.answerFile=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ze.z),t.Y36(je.W),t.Y36(j.vO),t.Y36(gt.v),t.Y36(Ut.E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-upload-image"]],viewQuery:function(e,i){if(1&e&&(t.Gf(j_,5),t.Gf(M_,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.customCard=o.first),t.iGM(o=t.CRH())&&(i.fileSelect=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("focus",function(a){return i.onFocus(a)},!1,t.Jf7)("mousedown",function(a){return i.onGlobalClick(a)},!1,t.evT)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],["azt-track-service","upload-image-k-LlZfUpF",1,"bg-overbackground",3,"click"],[1,"intro-x","box","upload-image-block","overflow-auto"],[1,"box","p-5","box-upload"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4"],["class","text-center m-4 mb-8",4,"ngIf"],["class","grid grid-cols-12 gap-5 ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","grid grid-cols-12 gap-5 pl-4 pr-5 mb-4",4,"ngIf"],["azt-track-service","upload-image-xZ-pGKA--d","class","px-4 mt-5 flex items-center justify-center cursor-pointer relative",3,"click",4,"ngIf"],["class","px-4 pb-4 mt-1 flex items-center justify-center cursor-pointer relative",4,"ngIf"],["class","upload-mobile",4,"ngIf"],[1,"mt-5","text-center"],["azt-track-service","upload-image-RXRSe2dtF2",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-center","m-4","mb-8"],["class","font-medium",4,"ngIf"],[1,"font-medium"],[1,"grid","grid-cols-12","gap-5","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"forn-medium","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"grid","grid-cols-12","gap-5","pl-4","pr-5","mb-4"],["class","col-span-6 md:col-span-3 h-28 relative image-fit cursor-pointer zoom-in",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-3","h-28","relative","image-fit","cursor-pointer","zoom-in"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],["noVideo",""],["azt-track-service","upload-image-80z7xb2gI","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","7rem","width","100%","object-fit","cover"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],[1,"w-6","h-6","inline-block"],["name","video"],[1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",3,"src"],["azt-track-service","upload-image-80z7xb2gI",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"notify-badge"],[2,"color","rgb(26, 188, 0)"],["azt-track-service","upload-image-xZ-pGKA--d",1,"px-4","mt-5","flex","items-center","justify-center","cursor-pointer","relative",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1","cursor-pointer"],["id","horizontal-form-1","type","file","multiple","",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer","azt-hidden",3,"change"],["fileSelect",""],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","cursor-pointer","relative"],[1,"block","text-xs","text-slate-600","dark:text-slate-500"],[1,"upload-mobile"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"mt-2","text-center","font-medium"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"mt-3"],[1,"upload-item"],[1,"ml-1"],[1,"qr-img","mt-2","mx-auto","w-40"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel"],[1,"azt-copy","relative","mt-2"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","upload-image-X_utJrb2bC",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,i){1&e&&t.YNc(0,K_,18,11,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.sg,p.O5,p.PC,le.i3,ut.Hw,xt.n,q.Nh5,Z.V,h.JV,h.QN,h.CR,h.ul],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:1001;right:10px;top:10px}.upload-image-block[_ngcontent-%COMP%]{overflow-y:auto;height:calc(100vh - 20px)}.box-upload[_ngcontent-%COMP%]{max-width:600px;min-height:100%}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(242,242,242) 0%,rgb(228,228,228) 100%,rgb(255,255,255) 100%);box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;box-shadow:5px 5px 5px #00000059;height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width: 1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px #00000094}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:white;padding:5px;border-radius:5px}@media (max-width: 1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000a3}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}@media screen and (max-width: 768px){.upload-image-block[_ngcontent-%COMP%]{height:60vh}.box-upload[_ngcontent-%COMP%]{min-height:auto}}"]}),n})();function V_(n,s){if(1&n&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function $_(n,s){if(1&n&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,V_,2,1,"p",8),t.qZA()),2&n){const e=s.$implicit,i=s.index;t.xp6(3),t.AsE("",i+1,". ",e.message,":"),t.xp6(1),t.Q6J("ngForOf",e.data)}}let X_=(()=>{class n extends w.Q{goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}reloadCurrentPage(){location.reload()}ngOnInit(){super.ngOnInit()}constructor(){super()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-bank-frontend-load-question-error-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink"},features:[t.qOj],decls:32,vars:28,consts:[[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-test-4_EDv4k0GO7",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-test-Z7YL5G4GC5F",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",3),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,$_,5,3,"div",4),t.TgZ(25,"p",5)(26,"button",6),t.NdJ("click",function(){return i.goBackToExamDetails()}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",7),t.NdJ("click",function(){return i.reloadCurrentPage()}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.hij(" ",t.lcZ(10,16,"lang_auto_ma_de_thi")+": "," "),t.xp6(3),t.AsE("",i.currentTakeTestStepData.examObj.hashId," - ",i.currentTakeTestStepData.termExamResultId,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+i.questsLoadState.loadPercent,"%"),t.xp6(3),t.hij(" ",t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": "," "),t.xp6(3),t.hij(" ",i.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",i.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," "))},dependencies:[p.sg,h.JV],encapsulation:2}),n})();function tc(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"p",5)(1,"mat-icon",25),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,e.currentTakeTestStepData.examObj.startTime)," - ",t.lcZ(6,7,e.currentTakeTestStepData.examObj.endTime)," ")}}function ec(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"app-testbank-frontend-count-down-box",27),t.NdJ("endCountDownEvent",function(o){t.CHM(e);const a=t.oxw();return t.KtG(o&&a.submitTestToApi(!0))}),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(2),t.Q6J("totalSecond",e.currentTakeTestStepData.autoSubmitAfterSeconds)("useCountDown",!0),t.xp6(1),t.hij(" ",t.lcZ(5,6,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function nc(n,s){1&n&&(t.ynx(0),t.TgZ(1,"mat-icon",25),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.BQk()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function ic(n,s){1&n&&(t.TgZ(0,"mat-icon",25),t._uU(1,"timer_off"),t.qZA(),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate")),2&n&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(4,5,"lang_auto_nop_muon"),'" ',t.lcZ(5,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function oc(n,s){if(1&n&&(t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"azt-question-standalone-for-student-at-full-test",33),t.qZA()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw(2);t.xp6(2),t.Q6J("startQuestionIndex",o.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",o.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("isMobile",o.isMobile)("examObj",o.currentTakeTestStepData.examObj)("question",e)("fontSize",o.sAztTestResizeService.fontSize)("index",i)("overTime",!0)("questionListLength",o.currentTakeTestStepData.viewQuestionObjs.length)}}function ac(n,s){if(1&n&&(t.TgZ(0,"mat-tab",28),t.ALo(1,"mytranslate"),t.TgZ(2,"div",34),t.Hsn(3),t.qZA()()),2&n){const e=t.oxw(2);t.s9C("label",t.lcZ(1,1,"lang_auto_tu_luan")+" ("+e.files.length+")")}}function sc(n,s){if(1&n&&(t.TgZ(0,"mat-tab-group")(1,"mat-tab",28),t.ALo(2,"mytranslate"),t.YNc(3,oc,3,12,"div",29),t.qZA(),t.YNc(4,ac,4,3,"mat-tab",30),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.s9C("label",t.lcZ(2,3,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.hasEssayQuestion)}}function rc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36)(2,"button",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goBackToExamDetails())}),t.O4$(),t.TgZ(3,"svg",38),t._UZ(4,"path",39)(5,"line",40),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(8,"div",41)(9,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.submitTestToApi(!0))}),t.O4$(),t.TgZ(10,"svg",43),t._UZ(11,"path",44)(12,"path",45)(13,"path",46),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,2,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.currentTakeTestStepData.countDownSecond<-300?t.lcZ(15,4,"lang_auto_nop_muon"):t.lcZ(16,6,"lang_powerpoint_frontend_detail_submit")," ")}}const lc=["*"];let _c=(()=>{class n extends w.Q{submitTestToApi(e){this.submitTestEvent.emit(e)}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.submitTestEvent=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-bank-frontend-over-time-of-exam"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink",isMobile:"isMobile",files:"files",followerRenderQuest:"followerRenderQuest",sAztTestResizeService:"sAztTestResizeService",userObj:"userObj"},outputs:{submitTestEvent:"submitTestEvent"},features:[t.qOj],ngContentSelectors:lc,decls:42,vars:33,consts:[[1,"p-3",2,"padding-bottom","50px"],[1,"box","p-5","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],[1,"mt-3","text-danger","font-medium","text-center"],[4,"ngIf","ngIfElse"],["notActualEndTime",""],[3,"ngTemplateOutlet"],["questionAndAnswerTpl",""],["submitButtonBox",""],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[3,"totalSecond","useCountDown","endCountDownEvent"],[3,"label"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","isMobile","examObj","question","fontSize","index","overTime","questionListLength"],[1,"box","mt-2"],[1,"mt-2","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-test-zYDkrlktkR",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],["azt-track-service","take-test-HI_SB5_l-P",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"]],template:function(e,i){if(1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.qZA(),t.TgZ(5,"p",4),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",5)(9,"div",6),t.O4$(),t.TgZ(10,"svg",7),t._UZ(11,"line",8)(12,"line",9)(13,"circle",10),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",11),t.O4$(),t.TgZ(18,"svg",12),t._UZ(19,"circle",13)(20,"path",14)(21,"line",15),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,tc,7,9,"p",16),t.kcU(),t.TgZ(25,"p",17),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,ec,6,8,"div",18),t.qZA(),t.TgZ(31,"div",19),t.YNc(32,nc,7,9,"ng-container",20),t.YNc(33,ic,6,9,"ng-template",null,21,t.W1O),t.qZA(),t.GkF(35,22)(36,22)(37,22),t.qZA(),t.YNc(38,sc,5,5,"ng-template",null,23,t.W1O),t.YNc(40,rc,17,8,"ng-template",null,24,t.W1O)),2&e){const o=t.MAs(34),a=t.MAs(39),r=t.MAs(41);t.xp6(4),t.Oqu(i.currentTakeTestStepData.examObj.name),t.xp6(2),t.AsE("",t.lcZ(7,19,"lang_auto_ma_de"),": ",i.currentTakeTestStepData.examObj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,21,"lang_auto_thoi_gian"),": ",i.currentTakeTestStepData.examObj.minutes," ",t.lcZ(16,23,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,25,"lang_auto_so_cau"),": ",i.currentTakeTestStepData.countQuestion," "),t.xp6(2),t.Q6J("ngIf",i.currentTakeTestStepData.examObj.startTime&&i.currentTakeTestStepData.examObj.endTime),t.xp6(2),t.HOy(" ",t.lcZ(27,27,"lang_auto_thi_sinh"),": ",null==i.userObj?null:i.userObj.fullName," ",t.lcZ(28,29,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,31,null==i.currentTakeTestStepData.testingResultObj?null:i.currentTakeTestStepData.testingResultObj.startedTest)," "),t.xp6(4),t.Q6J("ngIf",i.currentTakeTestStepData.autoSubmitAfterSeconds),t.xp6(2),t.Q6J("ngIf",i.currentTakeTestStepData.isActualEndTime)("ngIfElse",o),t.xp6(3),t.Q6J("ngTemplateOutlet",r),t.xp6(1),t.Q6J("ngTemplateOutlet",a),t.xp6(1),t.Q6J("ngTemplateOutlet",r)}},dependencies:[p.sg,p.O5,p.tP,ut.Hw,nt.uX,nt.SP,Ht,te,h.JV,h.$n],encapsulation:2}),n})();const cc=["listQuestionBar"];function uc(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",2),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function mc(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16),t.NdJ("resize",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.checkExitFullScreenEvent())},!1,t.Jf7)("contextmenu",function(){return!1}),t.TgZ(2,"div",17),t.GkF(3,18),t.qZA()(),t.BQk()}if(2&n){t.oxw(3);const e=t.MAs(4);t.xp6(3),t.Q6J("ngTemplateOutlet",e)}}function dc(n,s){if(1&n&&(t._UZ(0,"azt-loading-effect",19),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(5);t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function pc(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(3);const e=t.MAs(22);t.Q6J("ngTemplateOutlet",e)}}function gc(n,s){if(1&n&&(t.ynx(0),t.YNc(1,mc,4,1,"ng-container",3),t.YNc(2,dc,2,4,"azt-loading-effect",15),t.YNc(3,pc,1,1,"ng-container",14),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",e.questsLoadState.startLoad),t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function hc(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(2);const e=t.MAs(16);t.Q6J("ngTemplateOutlet",e)}}function fc(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(2);const e=t.MAs(14);t.Q6J("ngTemplateOutlet",e)}}function xc(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(2);const e=t.MAs(18);t.Q6J("ngTemplateOutlet",e)}}const bc=function(n,s,e,i){return[n,s,e,i]},vc=function(n,s){return[n,s]};function Tc(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,gc,4,3,"ng-container",3),t.YNc(2,hc,1,1,"ng-container",14),t.YNc(3,fc,1,1,"ng-container",14),t.YNc(4,xc,1,1,"ng-container",14),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.l5B(4,bc,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.xp6(1),t.Q6J("ngIf",t.WLB(9,vc,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function wc(n,s){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,e.currentTakeTestStepData.errorMessage))}}function Sc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-upload-image",23),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.conFirmUpload(o))})("addFileMobile",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.addFileMobileUpload(o))})("isOnSelectFile",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onSelectFileEmit(o))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("data",e.uploadImageData)("hashCode",e.currentTakeTestStepData.hashIdUpdate)}}function Cc(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(2);const e=t.MAs(6);t.Q6J("ngTemplateOutlet",e)}}function kc(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(2);const e=t.MAs(10);t.Q6J("ngTemplateOutlet",e)}}function Oc(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(2);const e=t.MAs(12);t.Q6J("ngTemplateOutlet",e)}}function Ac(n,s){if(1&n&&t.GkF(0,18),2&n){t.oxw(2);const e=t.MAs(8);t.Q6J("ngTemplateOutlet",e)}}const yc=function(n,s){return{"monitor-screen":n,"monitor-screen-mobile":s}};function Ic(n,s){if(1&n&&(t.YNc(0,Sc,1,2,"app-coazt-upload-image",20),t.YNc(1,Cc,1,1,"ng-container",14),t.TgZ(2,"div",21),t._UZ(3,"div",22),t.YNc(4,kc,1,1,"ng-container",14),t.YNc(5,Oc,1,1,"ng-container",14),t.YNc(6,Ac,1,1,"ng-container",14),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.uploadImageData.isShow),t.xp6(1),t.Q6J("ngIf",!e.isMobile),t.xp6(2),t.Q6J("ngClass",t.WLB(6,yc,!e.isMobile,e.isMobile)),t.xp6(1),t.Q6J("ngIf","showListQuestion"==e.layoutType),t.xp6(1),t.Q6J("ngIf","showStepQuestion"==e.layoutType),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function Zc(n,s){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"app-testbank-frontend-count-down-box",54)),2&n){const e=t.oxw(4);t.Q6J("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function jc(n,s){1&n&&(t.O4$(),t._uU(0),t.ALo(1,"mytranslate")),2&n&&t.hij(" ",t.lcZ(1,1,"lang_auto_khong_gioi_han")," ")}function Mc(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",55),t._UZ(2,"line",56)(3,"line",57)(4,"line",58)(5,"line",59)(6,"line",60)(7,"line",61),t.qZA()())}function qc(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",62),t._UZ(2,"path",63)(3,"path",64)(4,"path",65),t.qZA()())}function Qc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.sAztFullScreenService.showFullScreen())}),t.O4$(),t.TgZ(1,"svg",50),t._UZ(2,"path",69)(3,"path",70)(4,"path",71)(5,"path",72),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()}2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_toan_man_hinh")," "))}function Ec(n,s){if(1&n&&(t.TgZ(0,"div",66),t.YNc(1,Qc,8,3,"button",67),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function Lc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",66)(1,"button",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(2,"svg",50),t._UZ(3,"path",74),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}const Fc=function(n){return{top_toolBar:n}};function zc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(3,"svg",27),t._UZ(4,"polyline",28),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(7,"div",29)(8,"span",30),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",31)(12,"div",32),t.O4$(),t.TgZ(13,"svg",33),t._UZ(14,"circle",34)(15,"polyline",35),t.qZA(),t.YNc(16,Zc,1,2,"app-testbank-frontend-count-down-box",36),t.YNc(17,jc,2,3,"ng-template",null,37,t.W1O),t.qZA()(),t.kcU(),t.TgZ(19,"div",38)(20,"button",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.sAztTestResizeService.zoomOut())}),t.ALo(21,"mytranslate"),t.TgZ(22,"span"),t.O4$(),t.TgZ(23,"svg",40),t._UZ(24,"circle",41)(25,"line",42)(26,"line",43),t.qZA()()(),t.kcU(),t.TgZ(27,"button",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.sAztTestResizeService.zoomIn())}),t.ALo(28,"mytranslate"),t.TgZ(29,"span"),t.O4$(),t.TgZ(30,"svg",45),t._UZ(31,"circle",41)(32,"line",42)(33,"line",46)(34,"line",43),t.qZA()()()(),t.kcU(),t.TgZ(35,"div",38)(36,"button",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.changeShowType())}),t.ALo(37,"mytranslate"),t.YNc(38,Mc,8,0,"span",3),t.YNc(39,qc,5,0,"span",3),t.qZA()(),t.YNc(40,Ec,2,1,"div",48),t.YNc(41,Lc,6,3,"div",48),t.TgZ(42,"div",25)(43,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openSubmitExam())}),t.O4$(),t.TgZ(44,"svg",50),t._UZ(45,"path",51)(46,"path",52)(47,"path",53),t.qZA(),t._uU(48),t.ALo(49,"mytranslate"),t.qZA()()()}if(2&n){const e=t.MAs(18),i=t.oxw(3);t.Q6J("ngClass",t.VKq(28,Fc,i.checkScrollToShowTopBar())),t.xp6(5),t.hij(" ",t.lcZ(6,16,"lang_button_back")," "),t.xp6(4),t.AsE("",t.lcZ(10,18,"lang_auto_thi_sinh"),": ",i.currentTakeTestStepData.testingUserObj.fullName,""),t.xp6(7),t.Q6J("ngIf",!i.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",e),t.xp6(4),t.Q6J("disabled",i.sAztTestResizeService.fontSize<=1)("matTooltip",t.lcZ(21,20,"lang_take_test_zoom_out")),t.xp6(7),t.Q6J("disabled",i.sAztTestResizeService.fontSize>=2)("matTooltip",t.lcZ(28,22,"lang_take_test_zoom_in")),t.xp6(9),t.Q6J("matTooltip",t.lcZ(37,24,"showListQuestion"==i.layoutType?"lang_auto_show_unit":"lang_auto_show_list")),t.xp6(2),t.Q6J("ngIf","showListQuestion"!=i.layoutType),t.xp6(1),t.Q6J("ngIf","showListQuestion"==i.layoutType),t.xp6(1),t.Q6J("ngIf",i.currentTakeTestStepData.showFullScreenRequired),t.xp6(1),t.Q6J("ngIf",i.currentTakeTestStepData.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(49,26,"lang_auto_nop_bai")," ")}}function Pc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",104),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.openUploadImage())}),t.TgZ(1,"span",105),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_dinh_kem_tu_luan")))}const we=function(n){return{answeredQuestion:n}};function Uc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",106)(1,"button",107),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(4);return t.KtG("showListQuestion"==r.layoutType?r.sAztTestNextBackQuestionService.goToQuestionAll(a):r.sAztTestNextBackQuestionService.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(4);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,we,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}function Dc(n,s){if(1&n&&t._UZ(0,"app-testbank-frontend-count-down-box",54),2&n){const e=t.oxw(4);t.Q6J("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function Nc(n,s){1&n&&(t._uU(0),t.ALo(1,"mytranslate")),2&n&&t.hij(" ",t.lcZ(1,1,"lang_auto_khong_gioi_han")," ")}function Rc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",75)(2,"div",76)(3,"div",77)(4,"a",78),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(5,"svg",79),t._UZ(6,"path",80)(7,"line",81),t.qZA()()(),t.kcU(),t.TgZ(8,"div",82),t.YNc(9,Pc,4,3,"a",83),t.qZA(),t.TgZ(10,"div",84)(11,"a",85),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openSubmitExam())}),t.TgZ(12,"span",86),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(15,"svg",79),t._UZ(16,"polyline",87),t.qZA()()()()(),t.kcU(),t.TgZ(17,"div",88)(18,"div",89)(19,"div",90)(20,"div",91)(21,"div",92)(22,"div",93),t.YNc(23,Uc,3,5,"div",94),t.qZA()()()()(),t.TgZ(24,"div",95)(25,"div",96)(26,"p",97),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showSheet(!0))}),t.ALo(27,"mytranslate"),t.TgZ(28,"mat-icon",98),t._uU(29,"format_list_bulleted"),t.qZA()(),t.TgZ(30,"p",99),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showSheet(!0))}),t.ALo(31,"mytranslate"),t.TgZ(32,"mat-icon",98),t._uU(33,"view_compact"),t.qZA()()(),t.TgZ(34,"div",100)(35,"p",101)(36,"span",98),t._uU(37),t.qZA()()(),t.TgZ(38,"div",102)(39,"mat-icon",103),t._uU(40,"av_timer"),t.qZA(),t.YNc(41,Dc,1,2,"app-testbank-frontend-count-down-box",36),t.YNc(42,Nc,2,3,"ng-template",null,37,t.W1O),t.qZA()()()()}if(2&n){const e=t.MAs(43),i=t.oxw(3);t.xp6(9),t.Q6J("ngIf",i.currentTakeTestStepData.hasEssayQuestion),t.xp6(4),t.Oqu(t.lcZ(14,8,"lang_auto_nop_bai")),t.xp6(10),t.Q6J("ngForOf",i.currentTakeTestStepData.viewQuestionObjs),t.xp6(3),t.s9C("matTooltip",t.lcZ(27,10,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(31,12,"lang_auto_xem_tung_cau_don")),t.xp6(7),t.Oqu(i.currentTakeTestStepData.testingUserObj.fullName),t.xp6(4),t.Q6J("ngIf",!i.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",e)}}function Jc(n,s){if(1&n&&t._UZ(0,"azt-loaded-img",115),2&n){const e=t.oxw(4);t.Q6J("imgSrc",e.currentTakeTestStepData.examObj.examHeader)}}function Yc(n,s){if(1&n&&(t.TgZ(0,"div",116),t._UZ(1,"div",117),t.ALo(2,"safeNormalHtmlContent"),t.qZA()),2&n){const e=t.oxw(4);let i;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,null!==(i=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==i?i:""),t.oJD)}}function Hc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",118)(1,"div",119)(2,"azt-question-standalone-for-student-at-full-test",120),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.openSubmitExam())})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.sAztTestNextBackQuestionService.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.sAztTestNextBackQuestionService.prevQuestion(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(4);t.xp6(1),t.s9C("id","question_all_"+i),t.xp6(1),t.Q6J("startQuestionIndex",o.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",o.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("showList",!0)("isMobile",o.isMobile)("examObj",o.currentTakeTestStepData.examObj)("countQuestion",o.currentTakeTestStepData.countQuestion)("question",e)("fontSize",o.sAztTestResizeService.fontSize)("overTime",!1)("index",i)}}function Bc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",106)(1,"button",125),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(5);return t.KtG(r.sAztTestNextBackQuestionService.goToQuestionAll(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(5);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,we,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}const Gc=function(n,s){return{hiddenIpt:n,top_gameBar:s}},Kc=function(n){return{"sheet-screen-monitor":n}};function Wc(n,s){if(1&n&&(t.TgZ(0,"div",121,122)(2,"div",123)(3,"h3",30),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",124),t.YNc(7,Bc,3,5,"div",94),t.qZA()()()),2&n){const e=t.oxw(4);t.Q6J("ngClass",t.WLB(6,Gc,e.isMobile,e.checkScrollToShowTopBar())),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(9,Kc,e.currentTakeTestStepData.isShowVideoMonitor)),t.xp6(1),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}function Vc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",108)(1,"div",109)(2,"app-upload-ui",110),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(3,Jc,1,1,"azt-loaded-img",111),t.YNc(4,Yc,3,3,"div",112),t.YNc(5,Hc,3,14,"div",113),t.qZA(),t.YNc(6,Wc,8,11,"div",114),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",!0),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.examObj.examHeader),t.xp6(1),t.Q6J("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function $c(n,s){if(1&n&&(t.TgZ(0,"div",116),t._UZ(1,"div",117),t.ALo(2,"safeNormalHtmlContent"),t.qZA()),2&n){const e=t.oxw(4);let i;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,null!==(i=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==i?i:""),t.oJD)}}function Xc(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",130)(1,"div",131)(2,"azt-question-standalone-for-student-at-full-test",132),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.openSubmitExam())})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.sAztTestNextBackQuestionService.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.sAztTestNextBackQuestionService.prevQuestion(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&n){const e=s.$implicit,i=s.index,o=s.last,a=t.oxw(4);t.xp6(1),t.s9C("id","question_"+i),t.Q6J("hidden",i!=a.sAztTestNextBackQuestionService.curQuestionIndex),t.xp6(1),t.Q6J("startQuestionIndex",a.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",a.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("showList",!1)("isMobile",a.isMobile)("examObj",a.currentTakeTestStepData.examObj)("question",e)("index",i)("last",o)("countQuestion",a.currentTakeTestStepData.countQuestion)("overTime",!1)("fontSize",a.sAztTestResizeService.fontSize)("questionListLength",a.currentTakeTestStepData.viewQuestionObjs.length)}}function tu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",133)(1,"button",134),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(4);return t.KtG(r.sAztTestNextBackQuestionService.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(4);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,we,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}function eu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-upload-ui",110),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(1,$c,3,3,"div",112),t.YNc(2,Xc,3,17,"div",126),t.TgZ(3,"div",127)(4,"h3",30),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"div",128),t.YNc(8,tu,3,5,"div",129),t.qZA()()}if(2&n){const e=t.oxw(3);t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",!1),t.xp6(1),t.Q6J("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.xp6(1),t.Q6J("hidden",e.isMobile),t.xp6(2),t.hij(" ",t.lcZ(6,9,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}const nu=function(n){return{joinByExamHashId:n}};function iu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-join-classroom-box",135),t.NdJ("selectStudentEvent",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.selectStudentEvent(o))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("joinClassroomByType",t.VKq(1,nu,e.currentTakeTestStepData.examObj.hashId))}}const ou=function(n){return[n]};function au(n,s){if(1&n&&(t.TgZ(0,"div",21)(1,"div",136),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA(),t.TgZ(6,"div",137)(7,"a",138),t.ALo(8,"navigationLocalize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(2),t.lnq(" ",t.lcZ(3,5,e.currentTakeTestStepData.errorMessage)," ",t.lcZ(4,7,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(5,9,e.currentTakeTestStepData.examObj.startTime)," "),t.xp6(5),t.Q6J("routerLink",t.VKq(15,ou,t.lcZ(8,11,e.homeLink))),t.xp6(2),t.Oqu(t.lcZ(10,13,"lang_auto_quay_lai_trang_chu"))}}function su(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-test-bank-frontend-over-time-of-exam",139),t.NdJ("submitTestEvent",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.submitTestToApi(o))}),t.GkF(1,18),t.qZA()}if(2&n){t.oxw();const e=t.MAs(20),i=t.oxw(2);t.Q6J("currentTakeTestStepData",i.currentTakeTestStepData)("questsLoadState",i.questsLoadState)("backToLink",i.backToLink)("isMobile",i.isMobile)("files",i.files)("followerRenderQuest",i.followerRenderQuest)("sAztTestResizeService",i.sAztTestResizeService)("userObj",i.currentTakeTestStepData.testingUserObj),t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function ru(n,s){1&n&&(t.TgZ(0,"div",142),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_you_are_not_upload_any_essay_files")," "))}function lu(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",143)(2,"div",25)(3,"button",144),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(4,"svg",50),t._UZ(5,"path",51)(6,"path",52)(7,"path",53),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",145),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.BQk()}2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_testbank_frontend_upload_essay_files")," "),t.xp6(3),t.Oqu(t.lcZ(12,4,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}function _u(n,s){if(1&n){const e=t.EpF();t.YNc(0,ru,3,3,"div",140),t.YNc(1,lu,13,6,"ng-container",3),t.TgZ(2,"app-upload-ui",141),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.removeImg(o))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngIf",0==e.files.length),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.allowUploadEssayFileWhenEndTime),t.xp6(1),t.Q6J("answerFiles",e.files)}}function cu(n,s){if(1&n&&t._UZ(0,"app-test-bank-frontend-load-question-error-box",146),2&n){const e=t.oxw(3);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const uu=function(n,s,e,i,o,a,r,l){return[n,s,e,i,o,a,r,l]};function mu(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Tc,5,12,"div",3),t.YNc(2,wc,3,3,"div",3),t.YNc(3,Ic,7,9,"ng-template",null,4,t.W1O),t.YNc(5,zc,50,30,"ng-template",null,5,t.W1O),t.YNc(7,Rc,44,14,"ng-template",null,6,t.W1O),t.YNc(9,Vc,7,8,"ng-template",null,7,t.W1O),t.YNc(11,eu,9,11,"ng-template",null,8,t.W1O),t.YNc(13,iu,1,3,"ng-template",null,9,t.W1O),t.YNc(15,au,11,17,"ng-template",null,10,t.W1O),t.YNc(17,su,2,9,"ng-template",null,11,t.W1O),t.YNc(19,_u,3,3,"ng-template",null,12,t.W1O),t.YNc(21,cu,1,3,"ng-template",null,13,t.W1O),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.qlk(2,uu,e.allTakeTestSteps.WAIT_TO_TEST_TIME,e.allTakeTestSteps.CHOOSE_STUDENT,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.SHOW_ERROR_MESSAGE)}}function du(n,s){if(1&n&&t.YNc(0,mu,23,11,"ng-container",3),2&n){const e=t.oxw();t.Q6J("ngIf",e.currentTakeTestStepData)}}let pu=(()=>{class n extends w.Q{goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}checkScrollToShowTopBar(){return window.scrollY>50}askBeforeCloseWindow(e){if([y.START_TEST,y.RUN_OUT_OF_TIME_AFTER_TEST].includes(this.currentTakeTestStepData?.currentStep??y.INIT)&&!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}onResize(){this.isMobile=this.sAztTestCheckMobileService.checkByWidth()}visibilitychange(){var e=()=>!(this.currentTakeTestStepData?.currentStep!=y.START_TEST||!this.currentTakeTestStepData?.showFullScreenRequired||!this.isSendingTrackFullScreenOrVisible||this.isChooseUploadFile||"visible"==document.visibilityState);e()&&setTimeout(()=>{e()&&(this.isSendingTrackFullScreenOrVisible=!1,this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id??0,name:"blur_window",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(o=>{o.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi"),setTimeout(()=>{this.isSendingTrackFullScreenOrVisible=!0},1e3)})))},5e3)}checkExitFullScreenEvent(){var e=()=>!(this.currentTakeTestStepData?.currentStep!=y.START_TEST||!this.currentTakeTestStepData.showFullScreenRequired||this.sAztFullScreenService.checkFullScreen()||!this.isSendingTrackFullScreenOrVisible||this.isChooseUploadFile);e()&&setTimeout(()=>{e()&&(this.isSendingTrackFullScreenOrVisible=!1,this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id??0,name:"exit_full_screen",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(o=>{o.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),setTimeout(()=>{this.isSendingTrackFullScreenOrVisible=!0},1e3)})))},5e3)}changeShowType(){this.layoutType="showListQuestion"==this.layoutType?"showStepQuestion":"showListQuestion",setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthOfListQuestionBar+"px")},500)}showSheet(e){e&&this.changeShowType()}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.isChooseUploadFile=!1):(this.uploadImageData=this.files.length>0?{id:this.currentTakeTestStepData.examObj.id,files:this.files,showFullScreenRequired:this.currentTakeTestStepData.showFullScreenRequired,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.currentTakeTestStepData.examObj.id,files:[],showFullScreenRequired:this.currentTakeTestStepData.showFullScreenRequired,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none"))}conFirmUpload(e){e&&e?.isConfirm&&(this.files=e.uploadFiles??[],window.scrollTo({top:0}),this.saveAnswerAndTrackInfoToLocalStorage(this.answerList,[],this.files),this.saveAnswerAndTrackInfoToApi(this.answerList,this.files)),this.uploadImageData={id:0,isShow:!1},this.isChooseUploadFile=!1,this.reShowFullScreenRequired()}onSelectFileEmit(e){this.isChooseUploadFile=e}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}removeImg(e){var i=this.files.filter(o=>o.url!==e);this.files=i,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan"),this.saveAnswerAndTrackInfoToApi(this.answerList,this.files)})}updateFileUploadMobile(){return new Promise(e=>{let i={hashCode:this.currentTakeTestStepData.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(i).subscribe(o=>{1==o.success&&e(!0)})})}addFileMobileUpload(e){this.files=e.files??[],this.uploadImageData={id:this.currentTakeTestStepData.examObj.id,files:this.files,showFullScreenRequired:this.currentTakeTestStepData.showFullScreenRequired,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}getImagesThatUploadAtMobileQrCodeFromApi(e){e&&this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(i=>{if(i.success&&this.commonService.isJson(i.data?.tmpObj?.files??"")){var o=this.commonService.willDeleteParseJson(i.data?.tmpObj?.files??"");o.isNotNoti=!0,this.addFileMobileUpload({files:o})}})}reShowFullScreenRequired(){this.currentTakeTestStepData.showFullScreenRequired&&this.sAztDialogService.open(Ge,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>{this.sAztFullScreenService.showFullScreen()})}selectStudentEvent(e){this.getInitDataFromApi()}openVideoMonitor(){var e=document.getElementById("monitorScreenTakeTest");e&&(e.style.display="block"),this.sAztShowMonitorService.monitorAtTestPage({roomId:this.hashId,examConfig:this.currentTakeTestStepData.examObj,examId:this.currentTakeTestStepData.examObj.id,resultId:this.currentTakeTestStepData.termExamResultId,userList:[]},this.currentTakeTestStepData.testingUserObj,i=>{i&&(this.currentTakeTestStepData.isShowVideoMonitor=!0)})}intervalExamTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const e=new jt.x,i=(0,Wt.F)(1e3).pipe((0,Vt.R)(e));this.waitDestroy(i.subscribe(o=>{if(this.currentTakeTestStepData.countDownSecond<=0)this.getServerTime(a=>{if(this.currentTakeTestStepData.countDownSecond<=0)return this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(this.currentTakeTestStepData.answerList,this.currentTakeTestStepData.viewQuestionObjs),this.currentTakeTestStepData.isAutoSubmit=!0,this.processByStep(y.RUN_OUT_OF_TIME_AFTER_TEST,this.currentTakeTestStepData),this.sAztDialogService.dialog.closeAll(),e.next(!0)});else{let a=this.timeService.getCurrentSecond();this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.rawCountDownSecond-(a-this.currentTakeTestStepData.clientTimeSecond),this.currentTakeTestStepData=this.calculateNewCountDown(this.currentTakeTestStepData)}}))}intervalToGetServerTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const e=new jt.x,i=(0,Wt.F)(1e3*this.commonService.getRandomNumber(200,300)).pipe((0,Vt.R)(e));this.waitDestroy(i.subscribe(o=>{this.getServerTime(a=>{})}))}getServerTime(e){this.waitDestroy(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(i=>{i.success&&i.data?.curServerTime?(this.currentTakeTestStepData.currentServerTime=i.data.curServerTime,this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.startTestTimeAtServerTime+60*(this.currentTakeTestStepData.examObj.minutes??0)-this.currentTakeTestStepData.currentServerTime,this.currentTakeTestStepData.clientTimeSecond=this.timeService.getCurrentSecond(),this.currentTakeTestStepData.rawCountDownSecond=this.currentTakeTestStepData.countDownSecond,this.currentTakeTestStepData=this.calculateNewCountDown(this.currentTakeTestStepData),e(!0)):e(!1)}))}intervalToSendTestDataToApi(){const e=new jt.x,i=(0,Wt.F)(1e3*this.commonService.getRandomNumber(120,180)).pipe((0,Vt.R)(e));this.waitDestroy(i.subscribe(o=>{this.saveAnswerAndTrackInfoToApi(this.answerList,this.files)}))}openQuitDialog(){this.sAztDialogService.open(p_,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(i=>{i&&this.goBackToExamDetails()})}openSubmitExam(){let e=this.answerList.filter(a=>!this.commonService.isExistInArray(this.currentTakeTestStepData.essayQuestionIds,a.questionId)).length;this.sAztDialogService.open(u_,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime,notHasFiles:this.currentTakeTestStepData.hasEssayQuestion&&0==this.files.length,totalTrueFalseLeftBlank:this.currentTakeTestStepData.countQuestion-this.currentTakeTestStepData.countEssayQuestion-e},restoreFocus:!1,width:"550px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(a=>{a&&this.submitTestToApi(!1)})}sendAudioForQuestion(e){this.currentTakeTestStepData.termExamResultId&&(this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestAudioService.sendAudioForQuestion(this.currentTakeTestStepData.examObj,this.currentTakeTestStepData.termExamResultId,this.currentTakeTestStepData.viewQuestionObjs,e))}setAnswerTrueFalse(e){[this.currentTakeTestStepData.viewQuestionObjs,this.answerList]=this.sAztTestQuestionService.setAnswerTrueFalse(this.currentTakeTestStepData.examObj,this.currentTakeTestStepData.viewQuestionObjs,this.answerList,e),this.changeStatusQuestion(e.id,!0),this.saveAnswerAndTrackInfoToApi(this.answerList,this.files)}setAnswerEssay(e){let i=!1;[this.currentTakeTestStepData.viewQuestionObjs,this.answerList,i]=this.sAztTestQuestionService.setAnswerEssay(this.currentTakeTestStepData.viewQuestionObjs,this.answerList,e),this.changeStatusQuestion(e.id,!i),this.changeEssayTextQuestion(e)}changeEssayTextQuestion(e){!(e.event?.target instanceof HTMLTextAreaElement)||null==e.event?.target.value||(this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.changeEssayTextQuestion(this.currentTakeTestStepData.viewQuestionObjs,e,e.event.target.value))}setResultTracking(e){this.currentTakeTestStepData.termExamResultId&&(this.currentTakeTestStepData.resultTracks=this.sAztTestResultTrackService.setResultTracking(this.currentTakeTestStepData.examObj,this.currentTakeTestStepData.termExamResultId,this.currentTakeTestStepData.resultTracks,e))}changeStatusQuestion(e,i){this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.changeStatusQuestion(this.currentTakeTestStepData.viewQuestionObjs,e,i),this.saveAnswerAndTrackInfoToLocalStorage(this.answerList,[],this.files)}saveAnswerAndTrackInfoToLocalStorage(e,i,o){!this.currentTakeTestStepData.termExamResultId||!this.currentTakeTestStepData.testingUserObj||this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData.examObj,this.currentTakeTestStepData.termExamResultId,e,i,o,this.currentTakeTestStepData.testingUserObj,this.currentTakeTestStepData.countDownSecond)}saveAnswerAndTrackInfoToApi(e,i){var o=this.commonService.myClone(this.currentTakeTestStepData.resultTracks);try{let a={answers:e,files:JSON.stringify(i),infors:new at(this.hashId,this.browserStorageService).getInfo()??"",resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(o)),updatedAt:""},r=this.encryptionHelper.payload(a);this.testLogExamResultAnswerService.answerExamResult(r,this.currentTakeTestStepData.termExamResultId??0).subscribe(l=>{})}catch{}}submitTestToApi(e){if(this.isSubmittingAnswer)return;this.isSubmittingAnswer=!0,this.initStatusObj();var i=new at(this.hashId,this.browserStorageService).getInfo(),o=this.commonService.myClone(this.currentTakeTestStepData.resultTracks);let a=JSON.stringify({type:"exam",id:this.currentTakeTestStepData.examObj.id,user:this.currentTakeTestStepData.examObj.tenantId});var r={autoSubmit:e,serverCountDown:this.currentTakeTestStepData.countDownSecond,examMinutes:this.currentTakeTestStepData.examObj.minutes,saveStudentId:this.currentTakeTestStepData.testingUserObj.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()};let l={answers:this.answerList,notes:[],files:JSON.stringify(this.files),infors:i,trackInfos:JSON.stringify(r),resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(o)),saveTime:0,id:this.currentTakeTestStepData.termExamResultId??0};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(l),a,this.hashId).subscribe(_=>{1==_.success?(new at(this.hashId,this.browserStorageService).removeInfo(),this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.currentTakeTestStepData.examObj.hashId+"_"+this.currentTakeTestStepData.termExamResultId),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.currentTakeTestStepData.examObj.hashId+"_"+this.currentTakeTestStepData.termExamResultId),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.currentTakeTestStepData.examObj.id+"_"+this.currentTakeTestStepData.termExamResultId),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+this.currentTakeTestStepData.examObj.id+"_"+this.currentTakeTestStepData.termExamResultId),this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+_.data?.id,"?backto="+encodeURIComponent(this.backToLink))):e?(this.showErrorSnack(_.message),setTimeout(()=>{this.isSubmittingAnswer=!1,this.submitTestToApi(!0)},5e3)):(this.isSubmittingAnswer=!1,this.errorStatusObj(_.message,!0))}))}getQuestionThatCanFeedbackFromApi(e,i){let o=this.commonService.uniqueArray(e.map(a=>a.id)??[]);this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(this.currentTakeTestStepData.examObj.id,o.join(",")).subscribe(a=>a.success?(a.data?.objs?.forEach(r=>{let l=e.find(_=>_.id==r.questionId);l&&(l.enableFeedback=r.allowFeedback)}),i(void 0,e)):i(a.message,[])))}getDataSyncFromApi(e){this.waitDestroy(this.testLogExamResultAnswerService.listExamResultAnswers(this.currentTakeTestStepData.termExamResultId??0).subscribe(i=>{if(!i.success)return e(void 0);let o={version:i.version??"",code:i.code??0,success:i.success??0,data:{content:i.data?.content??"",typeHash:0,keyHash:""},detailMessage:"",message:i.message??""},r=this.encryptionHelper.result(o)?.data??{answers:[],files:"",infors:"",updatedAt:i?.data?.updated_at??"",resultTrack:""};e(r)}))}setSyncDataFromApi(e,i){let o=this.sAztTestResultTrackService.getStudentAnswerFromLocalStorage(i.examObj,this.currentTakeTestStepData.termExamResultId??0);return e&&e.updatedAt?(i.resultTracks=this.commonService.myParseJson(this.zipDataService.decodeContentGzip(e.resultTrack??""))??[],o?new Date(e.updatedAt).getTime()<o.saveTime?(i.answerList=o.answers??new Array,i.files=this.commonService.myParseJson(o.files)??[],i.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(i.viewQuestionObjs,i.answerList)):(i.answerList=e.answers??new Array,i.files=this.commonService.myParseJson(e.files)??[],i.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(i.viewQuestionObjs,i.answerList)):(i.answerList=e.answers??new Array,i.files=this.commonService.myParseJson(e.files??"")??[],i.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(i.viewQuestionObjs,i.answerList))):o&&(i.answerList=o.answers??[],i.files=this.commonService.myParseJson(o.files)??[],i.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(i.viewQuestionObjs,i.answerList)),i}generateQuestionView(e,i){this.questsLoadState.startLoad=!0,this.followerRenderQuest.setNumQuest(e.length),this.questionRenderService.parseRenderQuestions(e,o=>{this.questsLoadState.loadPercent=Math.floor(o)}).then(o=>{this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,i(o)}).catch(o=>{this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=o,i(void 0)})}resetQuestionIndex(e,i){if(!i)return e;let o=0,a=0;return e.forEach((r,l)=>{r.groupInfo?.groupId&&(o!=r.groupInfo.groupId&&(a=0),r.labelIndex=a,a++,o=r.groupInfo.groupId)}),e}getInitDataFromApi(){let e=new at(this.hashId,this.browserStorageService).getPassword(),i=new at(this.hashId,this.browserStorageService).hasInfo(),o=lt.N.production||lt.N.isProdAzotaVn;this.initStatusObj(),this.waitDestroy(o?this.frontExamService.apiFrontExamInitDataGet(this.hashId,e,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(a=>{const r=this.encryptionHelper.result(a);this.processInitData(""!=e,r)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,e,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(a=>{this.processInitData(""!=e,a)}))}processInitData(e,i){if(!(i&&i?.success&&i?.data&&i.data.examObj))return this.errorStatusObj(i?.message??"",!0);let o=i?.data?.errorMessage??"",a=""==o,r={examObj:i.data.examObj,examConfigObj:i.data.examConfigObj,infoFields:this.commonService.myParseJson(i.data.examObj.infoFieldsV2??"")??[],authUserObj:this.userService.getUserObj(),studentObj:i.data.studentObj,termExamResultId:i.data.testingExamResultObj?.id,testingResultObj:i.data.testingExamResultObj,testingUserObj:this.homeworkExamService.mustInClassroom(i.data.examObj)?i.data.studentObj??this.userService.getUserObj():this.userService.getUserObj(),hashIdUpdate:i.data?.hashCodeUpload??"",currentStep:y.INIT,sequenceSteps:[y.SHOW_ESSAY_WARNING_DIALOG,y.SHOW_FULL_SCREEN,y.SHOW_VIDEO_REQUIRED],questionTestObjs:i.data.questionObjs,viewQuestionObjs:this.commonService.castJsonToClassObjs(At.v,JSON.stringify(i.data.questionObjs))??[],hasEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(i.data.questionObjs).length>0,countEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(i.data.questionObjs).length,essayQuestionIds:this.sAztTestQuestionService.getEssayQuestionIds(i.data.questionObjs),countQuestion:i.data.questionObjs.length,isAnonymousUser:this.userService.isAnonymousRoleOfCurrentUser(),isShowVideoMonitor:!1,startTestTimeAtServerTime:i.data?.startServerSecond??0,currentServerTime:i.data?.currentServerSecond??0,countDownSecond:i.data?.countDownSecond??0,rawCountDownSecond:i.data?.countDownSecond??0,isUnLimitedTime:(i.data.examObj.minutes??0)<=0,clientTimeSecond:this.timeService.getCurrentSecond(),isAutoSubmit:!1,isActualEndTime:!1,allowUploadEssayFileWhenEndTime:!0,autoSubmitAfterSeconds:void 0,loginRequired:!1,errorMessage:o,waitToTestTime:"lang_core_time_smaller_than_start_time"===o,isUnPurchased:"lang_core_does_not_owner_exam"===o,passwordRequired:"lang_core_exam_password_invalid"===o,isInvalidPassword:"lang_core_exam_password_invalid"===o&&e,showFullScreenRequired:null!=i.data.examObj.autoMonitor&&0!=i.data.examObj.autoMonitor&&!this.isMobile,showVideoRequired:null!=i.data.examObj.autoMonitor&&3==i.data.examObj.autoMonitor,enterAnonymousFullNameRequired:!!this.userService.isAnonymousName(this.userService.getUserObj()),enterInfoRequired:!1,chooseStudentRequired:!1,isRunOutOfTime:!1,resultTracks:[],files:[],answerList:[],hasAlreadyGenerateQuestion:!1,hasAlreadyRunIntervalCountDown:!1};return r=this.calculateNewCountDown(r),this.commonService.translateMetaData({title:r.examObj.name,description:r.examObj.name}),r.testingResultObj&&(r.resultTracks=this.sAztTestResultTrackService.getResultTrackFromLocalStorage(r.examObj,r.testingResultObj.id),r.viewQuestionObjs=this.sAztTestQuestionService.changeQuestionContent(r.examObj,r.testingResultObj.id,r.viewQuestionObjs),this.sAztTestAudioService.saveAudioLimitStorage(r.examObj,r.testingResultObj.id,r.viewQuestionObjs)),r.viewQuestionObjs=this.resetQuestionIndex(r.viewQuestionObjs,r.examConfigObj?.resetQuestionIndex??!1),this.sAztTestNextBackQuestionService=new $t(r.viewQuestionObjs),r.enterInfoRequired=1==r.examObj.enterInfo&&r.infoFields.length>0&&!new at(this.hashId,this.browserStorageService).getInfo(),r.loginRequired=!this.homeworkExamService.allowAnonymousUser(r.examObj)&&r.isAnonymousUser,r.chooseStudentRequired=this.homeworkExamService.mustInClassroom(r.examObj)&&null==r.studentObj,r.isRunOutOfTime=!a&&r.countDownSecond<=0&&!r.isUnLimitedTime,this.processByStep(r.loginRequired?y.LOGIN_DIALOG:r.isUnPurchased?y.PAYMENT_DIALOG:r.passwordRequired||r.enterAnonymousFullNameRequired||r.enterInfoRequired?y.INFO_REQUIRED_DIALOG:r.isRunOutOfTime?y.RUN_OUT_OF_TIME_WHEN_F5:r.waitToTestTime?y.WAIT_TO_TEST_TIME:r.chooseStudentRequired?y.CHOOSE_STUDENT:a?y.SHOW_ERROR_MESSAGE:y.SEQUENCE_STEP,r)}processByStep(e,i){return this.currentTakeTestStepData=i,this.currentTakeTestStepData.currentStep=e,e==y.SHOW_ERROR_MESSAGE?this.stopStatusObj():e==y.LOGIN_DIALOG?(this.sAztDialogService.open(f_,{data:{},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}),this.stopStatusObj()):e==y.PAYMENT_DIALOG?(this.sAztDialogService.open(be.X,{data:{examObj:i.examObj},restoreFocus:!1,width:"550px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(r=>{r||this.myNavigation(`/de-thi/${i.examObj.hashId}`)}),this.stopStatusObj()):e==y.INFO_REQUIRED_DIALOG?(this.sAztDialogService.open(I_,{data:{obj:i},restoreFocus:!1,width:"750px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(a=>{a&&this.getInitDataFromApi()}),this.stopStatusObj()):e==y.RUN_OUT_OF_TIME_WHEN_F5||e==y.RUN_OUT_OF_TIME_AFTER_TEST?this.getSyncQuestionDataFromApi(i,o=>(this.currentTakeTestStepData=o,this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(i.answerList,i.viewQuestionObjs),this.stopStatusObj())):e==y.CHOOSE_STUDENT||e==y.WAIT_TO_TEST_TIME?this.stopStatusObj():e==y.SEQUENCE_STEP?this.startShowTestContent(i,()=>{let o=this.commonService.getFirstOfArray(i.sequenceSteps);return i.sequenceSteps=i.sequenceSteps.filter(a=>a!=o),this.processByStep(o||y.START_TEST,i)}):e==y.SHOW_ESSAY_WARNING_DIALOG?i.hasEssayQuestion?(this.sAztDialogService.open(m_,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>{this.processByStep(y.SEQUENCE_STEP,i)}),this.stopStatusObj()):this.processByStep(y.SEQUENCE_STEP,i):e==y.SHOW_FULL_SCREEN?i.showFullScreenRequired?(this.sAztDialogService.open(Ge,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>(this.sAztFullScreenService.showFullScreen(),this.processByStep(y.SEQUENCE_STEP,i))),this.stopStatusObj()):this.processByStep(y.SEQUENCE_STEP,i):e==y.SHOW_VIDEO_REQUIRED?i.showVideoRequired?(this.openVideoMonitor(),this.processByStep(y.SEQUENCE_STEP,i)):this.processByStep(y.SEQUENCE_STEP,i):e==y.START_TEST?this.startShowTestContent(i,()=>{this.stopStatusObj()}):void this.errorStatusObj("lang_take_test_not_found_process_step",!0)}getSyncQuestionDataFromApi(e,i){if(e.hasAlreadyGenerateQuestion)return i(e);this.getDataSyncFromApi(o=>{this.getQuestionThatCanFeedbackFromApi(e.viewQuestionObjs,(a,r)=>{this.generateQuestionView(e.viewQuestionObjs,l=>{if(a||(e.viewQuestionObjs=r),o&&(e=this.setSyncDataFromApi(o,e)),!l)return i(e);e.viewQuestionObjs=l,e.hasAlreadyGenerateQuestion=!0,i(e)})})})}calculateNewCountDown(e){return e.isAutoSubmit=!e.isUnLimitedTime&&e.countDownSecond<=0&&e.countDownSecond>=-90,e.isActualEndTime=!e.isUnLimitedTime&&e.countDownSecond>=-300,e.autoSubmitAfterSeconds=e.isAutoSubmit?e.countDownSecond+90:void 0,e.allowUploadEssayFileWhenEndTime=e.isAutoSubmit&&e.countDownSecond>=-200,e}startShowTestContent(e,i){return this.getSyncQuestionDataFromApi(e,o=>{this.currentTakeTestStepData=o,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown||(this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData.answerList,[],this.currentTakeTestStepData.files),this.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.hashIdUpdate),this.intervalToSendTestDataToApi()),i()})}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.onResize(),this.sAztTestDeviceIdService.getDeviceId(),this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.hashId=(this.commonService.getMyParam(this.activeRoute,"hash_id")??"").toString(),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.getInitDataFromApi(),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{this.widthOfListQuestionBar=this.myListQuestionBar?.nativeElement.offsetWidth;let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthOfListQuestionBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),super.ngOnDestroy()}constructor(e,i,o,a,r,l,_,m,g,f,b,v,L,J,B,V,K,mt,Tt){super(),this.activeRoute=e,this.userService=i,this.mixService=o,this.localStorageObject=a,this.zipDataService=r,this.timeService=l,this.browserStorageService=_,this.frontExamTrackService=m,this.frontExamResultService=g,this.frontExamService=f,this.frontExamResultUploadService=b,this.sAztDialogService=v,this.answerTypeService=L,this.homeworkExamService=J,this.questionRenderService=B,this.testMarketFeedbackService=V,this.encryptionHelper=K,this.testLogExamResultAnswerService=mt,this.sAztShowMonitorService=Tt,this.sAztFullScreenService=new Je,this.sAztTestResizeService=new He,this.sAztTestDeviceIdService=new ve(this.browserStorageService),this.sAztTestNextBackQuestionService=new $t([]),this.sAztTestQuestionService=new zt(this.commonService,this.answerTypeService,this.browserStorageService),this.sAztTestAudioService=new Ft(this.commonService,this.browserStorageService),this.sAztTestCheckMobileService=new Ye,this.sAztTestResultTrackService=new Be(this.commonService,this.encryptionHelper,this.timeService,this.browserStorageService),this.allTakeTestSteps=y,this.followerRenderQuest=new ct.p,this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.layoutType="showListQuestion",this.backToLink="",this.homeLink="/student/classroom/0",this.isMobile=!1,this.hashId="",this.tenantId=1,this.curCateId=0,this.isSendingTrackFullScreenOrVisible=!0,this.isChooseUploadFile=!1,this.isSubmittingAnswer=!1,this.widthOfListQuestionBar=300,this.answerList=[],this.files=[],this.uploadImageData={id:0,isShow:!1}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(et.U),t.Y36(Nt),t.Y36(Rt.y),t.Y36(se.a),t.Y36(_t.D),t.Y36(bt.n),t.Y36(j.FQ),t.Y36(j.CA),t.Y36(j.Tg),t.Y36(j.vO),t.Y36(Ct.C),t.Y36(ht.i),t.Y36(gt.v),t.Y36(Zt.h),t.Y36(yt.nC),t.Y36(Te),t.Y36(Ke.eC),t.Y36(Ot.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-test"]],viewQuery:function(e,i){if(1&e&&t.Gf(cc,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myListQuestionBar=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(a){return i.askBeforeCloseWindow(a)},!1,t.Jf7)("resize",function(a){return i.onResize(a)},!1,t.Jf7)("visibilitychange",function(a){return i.visibilitychange(a)},!1,t.evT)},features:[t.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf"],["mainTakeTestContentTpl",""],["showDesktopTopMenu",""],["showMobileBottomMenu",""],["showListQuestionTpl",""],["showStepQuestionTpl",""],["chooseStudentTpl",""],["waitToTestTimeTpl",""],["overTimeTpl",""],["uploadEssayBoxAtOverTimeTpl",""],["lstQuestHasErrTpl",""],[3,"ngTemplateOutlet",4,"ngIf"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"resize","contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px"],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText"],[3,"data","hashCode","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],[1,"margin-question-bar","pb-4"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],[3,"data","hashCode","closeDialog","addFileMobile","isOnSelectFile"],[1,"top-bar",3,"ngClass"],[1,"intro-x"],["azt-track-service","take-test-E4FLezP4kF",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"intro-x","relative","mx-auto"],[1,"text-md","font-medium"],[1,"intro-x","mr-6"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],[1,"intro-x","flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-out"],["cx","11","cy","11","r","8"],["x1","21","x2","16.65","y1","21","y2","16.65"],["x1","8","x2","14","y1","11","y2","11"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-in"],["x1","11","x2","11","y1","8","y2","14"],["azt-track-service","take-test-UBz-4Fa9hv",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["class","intro-x mr-2",4,"ngIf"],["azt-track-service","take-test-U5gleH2CsWW",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[3,"totalSecond","useCountDown"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["x1","8","y1","6","x2","21","y2","6"],["x1","8","y1","12","x2","21","y2","12"],["x1","8","y1","18","x2","21","y2","18"],["x1","3","y1","6","x2","3.01","y2","6"],["x1","3","y1","12","x2","3.01","y2","12"],["x1","3","y1","18","x2","3.01","y2","18"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["d","M21 3H3v7h18V3z"],["d","M21 14h-5v7h5v-7z"],["d","M12 14H3v7h9v-7z"],[1,"intro-x","mr-2"],["azt-track-service","take-test-7o7YbIPIyM","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","take-test-7o7YbIPIyM",1,"btn","btn-sm","btn-secondary",3,"click"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["azt-track-service","take-test-EYDOxzj8YnB",1,"btn","btn-sm","btn-secondary",3,"click"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"],[1,"top_action"],[1,"grid","grid-cols-12","gap-3","items-center","justify-between","ml-0","mr-0"],[1,"col-span-3","self-center"],["azt-track-service","take-test-Sv-5CQ5vRW_",1,"clickable",2,"color","#fff",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"col-span-6","text-center","self-center","pl-0","pr-0"],["azt-track-service","take-test-Hl-nLDepRGa","class","clickable","style","color: #fff; border: 3px solid #fff; padding: 3px 5px",3,"click",4,"ngIf"],[1,"col-span-3","pl-0","pr-1","text-right","self-center"],["azt-track-service","take-test-qCh4rHipyZ7",1,"clickable","inline-flex","items-center",2,"color","#fff",3,"click"],[2,"vertical-align","top","line-height","1.8"],["points","9 18 15 12 9 6"],["id","bottom_action",1,"bottom_action"],[1,"collapse"],[1,"box","mb-2",2,"padding","5px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-2"],[1,"grid","grid-cols-10","gap-2","mb-2"],["class","col-span-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-3","justify-between","clickable"],[1,"col-span-3","flex","pr-1","menu-control"],["azt-track-service","take-test-X8-EFpj1UGB",1,"mb-auto","mt-auto","mr-1","clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#fff"],["azt-track-service","take-test-gI2KMWWglRl",1,"ml-2","mb-auto","mt-auto","clickable",3,"matTooltip","click"],["azt-track-service","take-test-6mIR-7BLuro",1,"col-span-5","pl-0","pr-0","text-center","self-center"],[1,"mb-0","clickable"],["azt-track-service","take-test-hTmjtImrd1N",1,"col-span-4","text-right","pl-0","self-center"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],["azt-track-service","take-test-Hl-nLDepRGa",1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],[1,"col-span-2"],["azt-track-service","take-test-lH0l4q6-9d0",1,"rounded-md","border","border-slate-400","p-1","w-full",2,"color","#111",3,"ngClass","click"],["id","question_ui",1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","mt-5","sm:mt-0"],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","removeFile"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","box p-3 mb-3",4,"ngIf"],["class","intro-x mt-2",4,"ngFor","ngForOf"],["id","listQuestionBar","class","col-span-12 lg:col-span-3 mt-4",3,"ngClass",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],[1,"intro-x","mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","countQuestion","question","fontSize","overTime","index","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],["id","listQuestionBar",1,"col-span-12","lg:col-span-3","mt-4",3,"ngClass"],["listQuestionBar",""],[1,"intro-y","box","p-3"],[1,"grid","grid-cols-10","gap-2","mt-3","sheet-screen",3,"ngClass"],["azt-track-service","take-test-wdi0TAS3bgU",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],["class","intro-x mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"intro-y","box","w-3/4","mx-auto","p-3",2,"animation-delay","0.05s",3,"hidden"],[1,"grid","grid-cols-12","gap-2","mt-3","p-3"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"intro-x","mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","question","index","last","countQuestion","overTime","fontSize","questionListLength","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[1,"col-span-1"],["azt-track-service","take-test-u72HkJDgcct",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],[3,"joinClassroomByType","selectStudentEvent"],[1,"alert","alert-danger"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-test-8oUvqrS4hCo",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","removeFile"],[1,"p-3","m-2","alert","alert-danger"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-test-EkxWzdqkfZ",1,"btn","btn-sm","btn-primary",3,"click"],[1,"h6","mb-2","mt-1"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(e,i){if(1&e&&(t.YNc(0,uc,1,1,"azt-loading-effect",0),t.YNc(1,du,1,1,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[d.rH,p.mk,p.sg,p.O5,p.tP,ut.Hw,W.gM,Lt.y,H.l,Jt,Ht,Bt.P,W_,te,X_,_c,h.Jy,h.JV,h.fF,h.$n],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:70px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}@keyframes _ngcontent-%COMP%_timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),n})();var gu=u(65592),We=u(68004),Ve=u(61419),hu=u(77827);const fu=["myDialogMonitor"];function xu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeOutsideDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"polygon",8)(8,"line",9)(9,"line",10),t.qZA(),t.kcU(),t.TgZ(10,"p",11),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()(),t.TgZ(17,"div",12)(18,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()}2&n&&(t.xp6(11),t.xDo("",t.lcZ(12,6,"lang_auto_day_la_bai_thi_duoc"),' "',t.lcZ(13,8,"lang_auto_giam_sat"),'"',t.lcZ(14,10,"lang_auto__vui_long_bam"),' "',t.lcZ(15,12,"lang_auto_xac_nhan"),'" ',t.lcZ(16,14,"lang_auto_de_tiep_tuc_bai_thi"),""),t.xp6(8),t.hij(" ",t.lcZ(20,16,"lang_auto_xac_nhan")," "))}let $e=(()=>{class n extends w.Q{closeOutsideDialog(e){this.myDialog?.nativeElement.contains(e.target)||this.closeDialog.emit(!0)}confirmQuit(){this.closeDialog.emit(!0)}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e,this.data={isShow:!1},this.closeDialog=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-monitor-screen"]],viewQuery:function(e,i){if(1&e&&t.Gf(fu,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","monitoring-dialog-Gmybr5iwJs","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","monitoring-dialog-Gmybr5iwJs",1,"school-info_bg",3,"click"],[1,"school-info","box",2,"max-width","400px"],["myDialogMonitor",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mb-0","h5"],[1,"p-3","text-right","items-center"],["azt-track-service","monitoring-dialog-dvRk43CCy8",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,i){1&e&&t.YNc(0,xu,21,18,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[p.O5,h.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();const bu=["modalSaveImageUpload"],vu=["listQuestionBar"];function Tu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-info",11),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeShowInfo(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.showFormInfo)}}function wu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-monitor-screen",11),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeAutoMonitor(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataMonitorAuto)}}function Su(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-check-essay",12),t.NdJ("closeEssayDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeEssayDialog(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataEssayPopup)}}function Cu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-name",11),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeSubmitName(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.submitNameData)}}function ku(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",13),2&n){const e=t.oxw(2);t.Q6J("currentStatusObj",e.statusObj)}}function Ou(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-upload-image",16),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.conFirmUpload(o))})("addFileMobile",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.addFileMobileUpload(o))})("isOnSelectFile",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onSelectFileEmit(o))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function Au(n,s){if(1&n&&(t.YNc(0,Ou,1,2,"app-upload-image",14),t.GkF(1,15)),2&n){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngIf",e.uploadImageData.isShow),t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}function yu(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.NdJ("resize",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleFullScreenEvent())},!1,t.Jf7)("contextmenu",function(){return!1}),t.TgZ(2,"div",6),t.YNc(3,Tu,1,1,"app-submit-info",7),t.YNc(4,wu,1,1,"app-monitor-screen",7),t.YNc(5,Su,1,1,"app-check-essay",8),t.YNc(6,Cu,1,1,"app-submit-name",7),t.YNc(7,ku,1,1,"azt-loading-effect",9),t.YNc(8,Au,2,2,"ng-template",null,10,t.W1O),t.qZA()(),t.BQk()}if(2&n){const e=t.MAs(9),i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.showFormInfo.isShow&&i.validForTakeTest),t.xp6(1),t.Q6J("ngIf",i.dataMonitorAuto.isShow&&i.validForTakeTest),t.xp6(1),t.Q6J("ngIf",i.dataEssayPopup.isShow&&i.validForTakeTest),t.xp6(1),t.Q6J("ngIf",i.submitNameData.isShow),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",e)}}function Iu(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"azt-loading-effect",19),t.ALo(2,"mytranslate"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(2,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Zu(n,s){if(1&n&&(t.ynx(0),t.GkF(1,15),t.BQk()),2&n){const e=t.oxw(3),i=t.MAs(4),o=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e.validForTakeTest?i:o)}}function ju(n,s){if(1&n&&t.GkF(0,15),2&n){t.oxw(3);const e=t.MAs(6);t.Q6J("ngTemplateOutlet",e)}}function Mu(n,s){if(1&n&&(t.YNc(0,Zu,2,1,"ng-container",0),t.YNc(1,ju,1,1,"ng-container",20)),2&n){const e=t.oxw(2);t.Q6J("ngIf",!e.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",e.questsLoadState.hasErrs)}}function qu(n,s){if(1&n&&(t.YNc(0,Iu,3,4,"ng-container",17),t.YNc(1,Mu,2,2,"ng-template",null,18,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.questsLoadState.startLoad)("ngIfElse",e)}}function Qu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-exit-exam",22),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeQuitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isConfirmToContinue(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.quitTestData)}}function Eu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-confirm-exam",22),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.closeSubmitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.confirmSubmit(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.submitData)}}function Lu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",29)(1,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(2,"svg",31),t._UZ(3,"path",32)(4,"line",33),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_thoat")," "))}function Fu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",29)(1,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.isConfirmToContinue(!1))}),t.O4$(),t.TgZ(2,"svg",35),t._UZ(3,"polyline",36),t.qZA(),t.kcU(),t.TgZ(4,"span",37),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_quay_lai")))}function zu(n,s){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName,"")}}function Pu(n,s){if(1&n&&(t.TgZ(0,"div",38),t.YNc(1,zu,3,4,"span",39),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.userObj&&!e.commonService.isEmptyObj(e.userObj))}}const Uu=function(n){return{"time-almost-end":n}};function Du(n,s){if(1&n&&(t.TgZ(0,"div",41)(1,"div",42),t.O4$(),t.TgZ(2,"svg",43),t._UZ(3,"circle",44)(4,"polyline",45),t.qZA(),t.kcU(),t.TgZ(5,"span",46)(6,"span",47),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",47),t._uU(10),t.qZA(),t._uU(11," : "),t.TgZ(12,"span",47),t._uU(13),t.qZA()()()()),2&n){const e=t.oxw(4);let i,o,a;t.xp6(5),t.Q6J("ngClass",t.VKq(4,Uu,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Nu(n,s){1&n&&(t.TgZ(0,"div",41)(1,"div",42),t.O4$(),t.TgZ(2,"svg",43),t._UZ(3,"circle",44)(4,"polyline",45),t.qZA(),t.kcU(),t.TgZ(5,"span",48),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_khong_gioi_han")," "))}function Ru(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",66),t._UZ(2,"line",67)(3,"line",68)(4,"line",69)(5,"line",70)(6,"line",71)(7,"line",72),t.qZA()())}function Ju(n,s){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",73),t._UZ(2,"path",74)(3,"path",75)(4,"path",76),t.qZA()())}function Yu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",79),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.sAztFullScreenService.showFullScreen())}),t.O4$(),t.TgZ(1,"svg",62),t._UZ(2,"path",80)(3,"path",81)(4,"path",82)(5,"path",83),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()}2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_toan_man_hinh")," "))}function Hu(n,s){if(1&n&&(t.TgZ(0,"div",77),t.YNc(1,Yu,8,3,"button",78),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function Bu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",77)(1,"button",84),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(2,"svg",62),t._UZ(3,"path",85),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}function Gu(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",49)(1,"button",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.sAztTestResizeService.zoomOut())}),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t.O4$(),t.TgZ(4,"svg",51),t._UZ(5,"circle",52)(6,"line",53)(7,"line",54),t.qZA()()(),t.kcU(),t.TgZ(8,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.sAztTestResizeService.zoomIn())}),t.ALo(9,"mytranslate"),t.TgZ(10,"span"),t.O4$(),t.TgZ(11,"svg",56),t._UZ(12,"circle",52)(13,"line",53)(14,"line",57)(15,"line",54),t.qZA()()()(),t.kcU(),t.TgZ(16,"div",49)(17,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.changeShowType())}),t.ALo(18,"mytranslate"),t.YNc(19,Ru,8,0,"span",0),t.YNc(20,Ju,5,0,"span",0),t.qZA()(),t.YNc(21,Hu,2,1,"div",59),t.YNc(22,Bu,6,3,"div",59),t.TgZ(23,"div",60)(24,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.openSubmitExam(!0,!1))}),t.O4$(),t.TgZ(25,"svg",62),t._UZ(26,"path",63)(27,"path",64)(28,"path",65),t.qZA(),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("disabled",e.sAztTestResizeService.fontSize<=1)("matTooltip",t.lcZ(2,10,"lang_take_test_zoom_out")),t.xp6(7),t.Q6J("disabled",e.sAztTestResizeService.fontSize>=2)("matTooltip",t.lcZ(9,12,"lang_take_test_zoom_in")),t.xp6(9),t.Q6J("matTooltip",t.lcZ(18,14,e.showList?"lang_auto_show_unit":"lang_auto_show_list")),t.xp6(2),t.Q6J("ngIf",!e.showList),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.hasMonitorScreen),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(30,16,"lang_auto_nop_bai")," ")}}const Ku=function(n,s){return{hiddenIpt:n,top_toolBar:s}};function Wu(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Lu,7,3,"div",26),t.YNc(2,Fu,7,3,"div",26),t.YNc(3,Pu,2,1,"div",27),t.YNc(4,Du,14,6,"div",28),t.YNc(5,Nu,8,3,"div",28),t.YNc(6,Gu,31,18,"ng-template",24),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("ngClass",t.WLB(7,Ku,e.isMobile&&!e.chooseChildData,e.checkScrollToShowTopBar())),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime&&!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",e.unLimitTime&&!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData)}}const Vu=function(n){return{joinByExamHashId:n}};function $u(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-join-classroom-box",86),t.NdJ("selectStudentEvent",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.selectStudentEvent(o))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("joinClassroomByType",t.VKq(1,Vu,null==e.exam_obj?null:e.exam_obj.hashId))}}function Xu(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(3,4,null==e.exam_obj?null:e.exam_obj.startTime),"")}}function tm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",93),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.goBackToExamDetails())}),t.TgZ(1,"span",94),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon",95),t._uU(5,"shopping_cart"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_di_mua")))}const em=function(n){return[n]};function nm(n,s){if(1&n&&(t.TgZ(0,"div",88)(1,"div",89),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Xu,4,6,"span",0),t.YNc(5,tm,6,3,"span",90),t.qZA(),t.TgZ(6,"div",91)(7,"a",92),t.ALo(8,"navigationLocalize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,5,e.hasErrorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_does_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(11,em,t.lcZ(8,7,e.homeLink))),t.xp6(2),t.Oqu(t.lcZ(10,9,"lang_auto_quay_lai_trang_chu"))}}function im(n,s){if(1&n&&(t.TgZ(0,"div",102),t._UZ(1,"div",103),t.ALo(2,"safeNormalHtmlContent"),t.qZA()),2&n){const e=t.oxw(6);let i;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,null!==(i=null==e.examConfigObj?null:e.examConfigObj.header)&&void 0!==i?i:""),t.oJD)}}function om(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-question-standalone-for-student-at-full-test",107),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.sAztTestNextBackQuestionService.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.sAztTestNextBackQuestionService.prevQuestion(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()}if(2&n){const e=t.oxw(),i=e.$implicit,o=e.index,a=e.last,r=t.oxw(6);t.Q6J("startQuestionIndex",r.exam_obj.startQuestionIndex)("expandInfo",r.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",r.followerRenderQuest)("showList",r.showList)("isMobile",r.isMobile)("examObj",r.exam_obj)("question",i)("index",o)("last",a)("countQuestion",r.countQuestion)("overTime",!1)("fontSize",r.sAztTestResizeService.fontSize)("questionListLength",r.questionList.length)}}function am(n,s){if(1&n&&(t.TgZ(0,"div",104)(1,"div",105),t.YNc(2,om,1,15,"azt-question-standalone-for-student-at-full-test",106),t.qZA()()),2&n){const e=s.index,i=t.oxw(6);t.xp6(1),t.s9C("id","question_"+e),t.Q6J("hidden",e!=i.sAztTestNextBackQuestionService.curQuestionIndex),t.xp6(1),t.Q6J("ngIf",i.exam_obj)}}const Se=function(n){return{answeredQuestion:n}};function sm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",111)(1,"button",112),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(7);return t.KtG(r.sAztTestNextBackQuestionService.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(7);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Se,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}function rm(n,s){if(1&n&&(t.TgZ(0,"div",108)(1,"h3",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",109),t.YNc(5,sm,3,5,"div",110),t.qZA()()),2&n){const e=t.oxw(6);t.Q6J("hidden",e.isMobile),t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("ngForOf",e.questionList)}}function lm(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-upload-ui",98),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(5);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(5);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(2,im,3,3,"div",99),t.YNc(3,am,3,3,"div",100),t.YNc(4,rm,6,5,"div",101),t.BQk()}if(2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngIf",null==e.examConfigObj?null:e.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow)}}function _m(n,s){if(1&n&&t._UZ(0,"azt-loaded-img",118),2&n){const e=t.oxw(6);t.Q6J("imgSrc",null==e.exam_obj?null:e.exam_obj.examHeader)}}function cm(n,s){if(1&n&&(t.TgZ(0,"div",102),t._UZ(1,"div",103),t.ALo(2,"safeNormalHtmlContent"),t.qZA()),2&n){const e=t.oxw(6);let i;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,null!==(i=null==e.examConfigObj?null:e.examConfigObj.header)&&void 0!==i?i:""),t.oJD)}}function um(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-question-standalone-for-student-at-full-test",122),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.sAztTestNextBackQuestionService.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.sAztTestNextBackQuestionService.prevQuestion(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()}if(2&n){const e=t.oxw(),i=e.$implicit,o=e.index,a=t.oxw(6);t.Q6J("startQuestionIndex",a.exam_obj.startQuestionIndex)("expandInfo",a.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("showList",a.showList)("isMobile",a.isMobile)("examObj",a.exam_obj)("countQuestion",a.countQuestion)("question",i)("fontSize",a.sAztTestResizeService.fontSize)("overTime",!1)("index",o)}}function mm(n,s){if(1&n&&(t.TgZ(0,"div",119)(1,"div",120),t.YNc(2,um,1,13,"azt-question-standalone-for-student-at-full-test",121),t.qZA()()),2&n){const e=s.index,i=t.oxw(6);t.xp6(1),t.s9C("id","question_all_"+e),t.xp6(1),t.Q6J("ngIf",i.exam_obj)}}function dm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",128)(1,"button",129),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(7);return t.KtG(r.sAztTestNextBackQuestionService.goToQuestionAll(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(7);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Se,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}const pm=function(n,s){return{hiddenIpt:n,top_gameBar:s}},gm=function(n){return{"sheet-screen-monitor":n}};function hm(n,s){if(1&n&&(t.TgZ(0,"div",123,124)(2,"div",125)(3,"h3",40),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",126),t.YNc(7,dm,3,5,"div",127),t.qZA()()()),2&n){const e=t.oxw(6);t.Q6J("ngClass",t.WLB(6,pm,e.isMobile&&!e.chooseChildData,e.checkScrollToShowTopBar())),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(9,gm,e.hasVideoMonitor)),t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function fm(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",113)(2,"div",114)(3,"app-upload-ui",98),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(5);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(5);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(4,_m,1,1,"azt-loaded-img",115),t.YNc(5,cm,3,3,"div",99),t.YNc(6,mm,3,2,"div",116),t.qZA(),t.YNc(7,hm,8,11,"div",117),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(5);t.xp6(3),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngIf",null==e.exam_obj?null:e.exam_obj.examHeader),t.xp6(1),t.Q6J("ngIf",null==e.examConfigObj?null:e.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function xm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",157),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.openUploadImage())}),t.TgZ(1,"span",158),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_dinh_kem_tu_luan")))}function bm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",128)(1,"button",159),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(6);return t.KtG(r.showList?r.sAztTestNextBackQuestionService.goToQuestionAll(a):r.sAztTestNextBackQuestionService.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(6);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Se,e.status)),t.xp6(1),t.AsE(" ",9>i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1?"0":"","",i+(null!==(a=null==o.exam_obj?null:o.exam_obj.startQuestionIndex)&&void 0!==a?a:1)-1+1," ")}}function vm(n,s){if(1&n&&(t.TgZ(0,"span",150),t._uU(1),t.qZA()),2&n){const e=t.oxw(6);t.xp6(1),t.Oqu(e.userObj.fullName)}}const Tm=function(n){return{"time-almost-end-mobile":n}};function wm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",160),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.showSheet(!1))}),t.TgZ(1,"mat-icon",161),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",47),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",47),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",47),t._uU(10),t.qZA()()}if(2&n){const e=t.oxw(6);let i,o,a;t.Q6J("ngClass",t.VKq(4,Tm,e.timeCount.almostEnd)),t.xp6(4),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Sm(n,s){1&n&&(t.TgZ(0,"div",162)(1,"mat-icon",163),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",164),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_khong_gioi_han")))}const Cm=function(n){return{hiddenIpt:n}};function km(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",130)(2,"div",131)(3,"div",132)(4,"a",133),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(5,"svg",134),t._UZ(6,"path",32)(7,"line",33),t.qZA()()(),t.kcU(),t.TgZ(8,"div",135),t.YNc(9,xm,4,3,"a",136),t.qZA(),t.TgZ(10,"div",137)(11,"a",138),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.openSubmitExam(!0,!1))}),t.TgZ(12,"span",139),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(15,"svg",134),t._UZ(16,"polyline",140),t.qZA()()()()(),t.kcU(),t.TgZ(17,"div",141)(18,"div",142)(19,"div",143)(20,"div",144)(21,"div",145)(22,"div",146),t.YNc(23,bm,3,5,"div",127),t.qZA()()()()(),t.TgZ(24,"div",147)(25,"div",148)(26,"p",149),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.showSheet(!0))}),t.ALo(27,"mytranslate"),t.TgZ(28,"mat-icon",150),t._uU(29,"format_list_bulleted"),t.qZA()(),t.TgZ(30,"p",151),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.showSheet(!0))}),t.ALo(31,"mytranslate"),t.TgZ(32,"mat-icon",150),t._uU(33,"view_compact"),t.qZA()()(),t.TgZ(34,"div",152),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.showSheet(!1))}),t.TgZ(35,"p",153),t.YNc(36,vm,2,1,"span",154),t.qZA()(),t.YNc(37,wm,11,6,"div",155),t.YNc(38,Sm,6,3,"div",156),t.qZA()()()}if(2&n){const e=t.oxw(5);t.xp6(9),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(4),t.Oqu(t.lcZ(14,9,"lang_auto_nop_bai")),t.xp6(5),t.Q6J("ngClass",t.VKq(15,Cm,!e.isShowQuestionAnswerSheet)),t.xp6(5),t.Q6J("ngForOf",e.questionList),t.xp6(3),t.s9C("matTooltip",t.lcZ(27,11,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(31,13,"lang_auto_xem_tung_cau_don")),t.xp6(6),t.Q6J("ngIf",e.userObj&&!e.commonService.isEmptyObj(e.userObj)),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}const Om=function(n,s){return{"monitor-screen":n,"monitor-screen-mobile":s}};function Am(n,s){if(1&n&&(t.TgZ(0,"div",88),t._UZ(1,"div",96,97),t.YNc(3,lm,5,7,"ng-container",0),t.YNc(4,fm,8,8,"ng-container",0),t.YNc(5,km,39,17,"div",0),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.WLB(4,Om,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function ym(n,s){if(1&n&&(t.YNc(0,nm,11,13,"div",87),t.YNc(1,Am,6,7,"div",87)),2&n){const e=t.oxw(3);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function Im(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Wu,7,10,"div",23),t.YNc(2,$u,1,3,"ng-template",24),t.YNc(3,ym,2,2,"ng-template",24),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData)}}function Zm(n,s){if(1&n&&(t.YNc(0,Qu,1,1,"app-exit-exam",21),t.YNc(1,Eu,1,1,"app-confirm-exam",21),t.YNc(2,Im,4,3,"ng-container",0)),2&n){const e=t.oxw();t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow&&!e.showFormInfo.isShow)}}function jm(n,s){if(1&n&&(t.TgZ(0,"p",174),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function Mm(n,s){if(1&n&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,jm,2,1,"p",173),t.qZA()),2&n){const e=s.$implicit,i=s.index;t.xp6(3),t.AsE("",i+1,". ",e.message,":"),t.xp6(1),t.Q6J("ngForOf",e.data)}}function qm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",165)(1,"div",166)(2,"h3",167),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",168),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,Mm,5,3,"div",169),t.TgZ(25,"p",170)(26,"button",171),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.endTimeBackBtn())}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",172),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.reloadCurrentPage())}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.hij(" ",t.lcZ(10,16,"lang_auto_ma_de_thi")+": "," "),t.xp6(3),t.AsE("",null==e.exam_obj?null:e.exam_obj.hashId," - ",null==e.testingResultObj?null:e.testingResultObj.id,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+e.questsLoadState.loadPercent,"%"),t.xp6(3),t.hij(" ",t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": "," "),t.xp6(3),t.hij(" ",e.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",e.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," ")}}function Qm(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"p",180)(1,"mat-icon",203),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,null==e.exam_obj?null:e.exam_obj.startTime)," - ",t.lcZ(6,7,null==e.exam_obj?null:e.exam_obj.endTime)," ")}}function Em(n,s){if(1&n&&(t.TgZ(0,"div",204),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",47),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",47),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",47),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);let i,o,a;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function Lm(n,s){1&n&&(t.TgZ(0,"div",205)(1,"mat-icon",203),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Fm(n,s){1&n&&(t.TgZ(0,"div",205)(1,"mat-icon",203),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function zm(n,s){if(1&n&&t._UZ(0,"azt-question-standalone-for-student-at-full-test",209),2&n){const e=t.oxw(),i=e.$implicit,o=e.index,a=t.oxw(2);t.Q6J("startQuestionIndex",a.exam_obj.startQuestionIndex)("expandInfo",a.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("isMobile",a.isMobile)("examObj",a.exam_obj)("question",i)("fontSize",a.sAztTestResizeService.fontSize)("index",o)("overTime",!0)("questionListLength",a.questionList.length)}}function Pm(n,s){if(1&n&&(t.TgZ(0,"div",206)(1,"div",207),t.YNc(2,zm,1,12,"azt-question-standalone-for-student-at-full-test",208),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.exam_obj)}}function Um(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",213)(1,"div",60)(2,"button",214),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(3,"svg",62),t._UZ(4,"path",63)(5,"path",64)(6,"path",65),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",215),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.files.length>0?t.lcZ(8,2,"lang_auto_nop_them"):t.lcZ(9,4,"lang_auto_nop_tu_luan")," "),t.xp6(4),t.Oqu(t.lcZ(12,6,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function Dm(n,s){1&n&&(t.TgZ(0,"div",216),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong")," "))}function Nm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",197),t.ALo(1,"mytranslate"),t.YNc(2,Um,13,8,"div",210),t.YNc(3,Dm,5,9,"div",211),t.TgZ(4,"app-upload-ui",212),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.removeImg(o))}),t.qZA()()}if(2&n){const e=t.oxw(2);t.s9C("label",t.lcZ(1,4,"lang_auto_tu_luan")+" ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(2),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function Rm(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",175)(1,"div",176)(2,"div",177)(3,"h3",178),t._uU(4),t.qZA(),t.TgZ(5,"p",179),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",180)(9,"div",181),t.O4$(),t.TgZ(10,"svg",182),t._UZ(11,"line",183)(12,"line",184)(13,"circle",185),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",42),t.O4$(),t.TgZ(18,"svg",186),t._UZ(19,"circle",44)(20,"path",187)(21,"line",188),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,Qm,7,9,"p",189),t.kcU(),t.TgZ(25,"p",190),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,Em,13,9,"div",191),t.qZA(),t.YNc(31,Lm,7,9,"div",192),t.YNc(32,Fm,7,9,"div",192),t.TgZ(33,"div",193)(34,"div",194)(35,"button",195),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(36,"svg",31),t._UZ(37,"path",32)(38,"line",33),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"div",60)(42,"button",196),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(43,"svg",62),t._UZ(44,"path",63)(45,"path",64)(46,"path",65),t.qZA(),t._uU(47),t.ALo(48,"mytranslate"),t.ALo(49,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(50,"mat-tab-group")(51,"mat-tab",197),t.ALo(52,"mytranslate"),t.YNc(53,Pm,3,1,"div",198),t.qZA(),t.YNc(54,Nm,5,6,"mat-tab",199),t.qZA(),t.TgZ(55,"div",200)(56,"div",194)(57,"button",201),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(58,"svg",31),t._UZ(59,"path",32)(60,"line",33),t.qZA(),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(63,"div",60)(64,"button",202),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(65,"svg",62),t._UZ(66,"path",63)(67,"path",64)(68,"path",65),t.qZA(),t._uU(69),t.ALo(70,"mytranslate"),t.ALo(71,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.exam_obj?null:e.exam_obj.name),t.xp6(2),t.AsE("",t.lcZ(7,23,"lang_auto_ma_de"),": ",null==e.exam_obj?null:e.exam_obj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,25,"lang_auto_thoi_gian"),": ",null==e.exam_obj?null:e.exam_obj.minutes," ",t.lcZ(16,27,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,29,"lang_auto_so_cau"),": ",e.countQuestion," "),t.xp6(2),t.Q6J("ngIf",(null==e.exam_obj?null:e.exam_obj.startTime)&&(null==e.exam_obj?null:e.exam_obj.endTime)),t.xp6(2),t.HOy("",t.lcZ(27,31,"lang_auto_thi_sinh"),": ",null==e.userObj?null:e.userObj.fullName," ",t.lcZ(28,33,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,35,null==e.testingResultObj?null:e.testingResultObj.startedTest),""),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(7),t.hij(" ",t.lcZ(40,37,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(48,39,"lang_auto_nop_muon"):t.lcZ(49,41,"lang_powerpoint_frontend_detail_submit")," "),t.xp6(4),t.s9C("label",t.lcZ(52,43,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(62,45,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(70,47,"lang_auto_nop_muon"):t.lcZ(71,49,"lang_powerpoint_frontend_detail_submit")," ")}}let Jm=(()=>{class n extends w.Q{askBeforeCloseWindow(e){if(!(this.isShowingPayment||this.questsLoadState.startLoad||this.questsLoadState.hasErrs))return e.returnValue=!1}visibilitychange(){"visible"!=document.visibilityState?(this.visiblePage=!1,setTimeout(()=>{if(!this.visiblePage&&!this.onShowUpload&&this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&!(this.startedTimeSecond<=0)){(this.clickedFromIframe||!this.acceptSendTrack)&&(this.clickedFromIframe=!1);var e={examId:this.exam_obj?.id??0,name:"blur_window",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(e).subscribe(i=>{1==i.success?(this.acceptSendTrack=!0,this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi")):setTimeout(()=>{this.acceptSendTrack=!this.acceptSendTrack||this.acceptSendTrack},1e3)}))}},5e3)):this.visiblePage=!0}onResize(){this.isMobile=this.sAztTestCheckMobileService.checkByWidth()}changeShowType(){this.showUnit=!this.showUnit,this.showList=!this.showUnit,setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}showSheet(e){e?this.changeShowType():this.isShowQuestionAnswerSheet=!this.isShowQuestionAnswerSheet,setTimeout(()=>{let i=document.getElementById("bottom_action"),o=document.getElementById("time_client"),a=i?.offsetHeight;o&&a&&(o.style.bottom=a+"px")},100)}checkScrollToShowTopBar(){return window.scrollY>50}handleFullScreenEvent(){if(this.isMobile||this.onShowUpload||!this.exam_obj?.autoMonitor||0==this.exam_obj?.autoMonitor||this.startedTimeSecond<=0)return;if(this.clickedFromIframe)return void(this.clickedFromIframe=!1);if(this.sAztFullScreenService.checkFullScreen()||!this.acceptSendTrack)return;let i={examId:this.exam_obj?.id??0,name:"exit_full_screen",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(i).subscribe(o=>{1==o.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),setTimeout(()=>{this.acceptSendTrack=!0},1e3)}))}isConfirmToContinue(e){this.quitTestData={id:0,time:0,isShow:!1},e?this.submitTestToApi(!1):this.goBackToExamDetails()}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}reloadCurrentPage(){location.reload()}setTimeExam(){if((this.exam_obj?.minutes??-1)>0){var e="exam",i=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(i==this.globalService.getGlobalInterval(e)){const o=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),l=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.questionList=this.sAztTestQuestionService.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(i??0,e)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==o&&0==r?{hour:o,minute:r,second:l,almostEnd:!0}:{hour:o,minute:r,second:l,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(o){console.log(o)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var e="examServerTime",i=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.waitDestroy(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(o=>{1==o.success&&(this.totalTime=this.startTestTime+60*(this.exam_obj?.minutes??0)-(o.data?.curServerTime??0),this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.questionList=this.sAztTestQuestionService.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(i??0,e)),clearInterval(this.intervalGetTimeServer)))})):clearInterval(this.intervalGetTimeServer)}catch(o){console.log(o)}},1e3*this.commonService.getRandomNumber(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}setTimeAutoSync(){var e="autoSyncDataTimeCount",i=this.globalService.plusGlobalInterval(e);this.intervalSyncData=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)&&this.validForTakeTest?this.saveAnswerAndTrackInfoToApi(this.answerList,this.files):clearInterval(this.intervalSyncData)}catch(o){console.log(o)}},1e3*this.commonService.getRandomNumber(120,180)),this.globalService.pushIntervalObjs(this.intervalSyncData)}setTimeAutoSubmit(e,i){var o=this.totalTime+90,a="autoSubmitTimeCount",r=this.globalService.plusGlobalInterval(a);this.intervalAutoSubmit=window.setInterval(()=>{try{if(r!=this.globalService.getGlobalInterval(a)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const l=Math.floor(o/3600),m=Math.floor(o%3600/60),g=o%60;o<=0?(this.timeCount={hour:0,minute:0,second:0},(r==this.globalService.getGlobalInterval(a)||e==this.globalService.getGlobalInterval(i))&&!this.checkSubmit&&this.submitTestToApi(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:l,minute:m,second:g},o-=1}}catch(l){console.log(l)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",i=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(o){console.log(o)}},1e3*this.commonService.getRandomNumber(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.exam_obj?.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowQuestionAnswerSheet&&(this.isShowQuestionAnswerSheet=!1),setTimeout(()=>{let i=document.getElementById("bottom_action"),o=document.getElementById("time_client"),a=i?.offsetHeight;o&&a&&(o.style.bottom=a+"px")},100)}conFirmUpload(e){var i=document.getElementById("monitorScreenTakeTest");e&&e?.isConfirm?(this.files=e.uploadFiles??[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.closeAutoMonitor(!0),this.saveAnswerAndTrackInfoToLocalStorage(this.answerList,this.noteList,this.files),this.saveAnswerAndTrackInfoToApi(this.answerList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),i&&(i.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile={...e.file,index:e.index}}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}removeImg(e){var i=this.files.filter(o=>o.url!==e);this.files=i,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan"),this.saveAnswerAndTrackInfoToApi(this.answerList,this.files)})}updateFileUploadMobile(){return new Promise(e=>{let i={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(i).subscribe(o=>{1==o.success&&e(!0)})})}addFileMobileUpload(e){this.files=e.files??[],this.uploadImageData={id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}selectStudentEvent(e){this.getInitDataFromApi(),this.chooseChildData=!1}openChooseStudent(){this.chooseChildData=!0}openSubmitName(e,i,o,a){this.submitNameData=!e&&i&&o?{needPassword:o,isShow:!0,examId:this.exam_obj?.id,hashId:i,errorMessage:a||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&(this.initStatusObj(),this.getInitDataFromApi(),this.submitNameData={isShow:!1})}openShowInfo(e,i){if(!e.filter(o=>o.isFullName).length&&i&&!this.isBusinessDomain){let o={type:0,title:this.commonService.myTranslateInstant("lang_first_and_last_name")??"H\u1ecd v\xe0 t\xean",contents:[],isFullName:!0};e.unshift(o)}this.showFormInfo={infoFields:e,examId:this.exam_obj?.id,hashId:this.exam_obj?.hashId,isAnonymousName:i,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getInitDataFromApi(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}openVideoMonitor(){this.sAztShowMonitorService.monitorAtTestPage({roomId:this.hashId,examConfig:this.exam_obj,examId:this.exam_obj?.id,resultId:this.testingResultObj?.id,userList:[]},this.userObj,e=>{e&&(this.hasVideoMonitor=!0)})}closeAutoMonitor(e){if(e){if(this.dataMonitorAuto={isShow:!1},!this.isMobile){const r=document.documentElement;let l=r.requestFullscreen||r.webkitRequestFullscreen||r.mozRequestFullscreen||r.msRequestFullscreen;l&&l.call(r)}if(this.startedTimeSecond=Math.floor(Date.now()/1e3),this.exam_obj?.autoMonitor&&3==this.exam_obj?.autoMonitor){if(this.isAfterChooseStudent){var i=this.userService.getUserObj(),o=this.userObj,a={};a[o?.id??0]=i?.id?.toString()+"_"+this.encryptService.createMd5((o?.id??0).toString()+i?.id?.toString()).substring(6,9),this.fireStoreService.examSessions_writeUserMap(this.exam_obj.hashId??"",a).subscribe(r=>{console.log("writeFirestore - success"+JSON.stringify(r))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1,this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0))}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,i,o){if(!this.quitTestData.isShow){let a=this.answerList.filter(r=>!this.commonService.isExistInArray(this.listEssayQuestionIds,r.questionId));this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:i,saveFalse:o,totalTrueFalseLeft:this.countQuestion-this.countEssayQuestion-a.length}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:i,saveFalse:o,totalTrueFalseLeft:this.countQuestion-a.length-(this.hasEssayQuestion?this.countEssayQuestion:0)}}}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTestToApi(e.isAutoSubmit??!1)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTestToApi(!0)}showDialogBuyExam(e){this.sAztDialogService.open(be.X,{data:{examObj:e},restoreFocus:!1,width:"100vw",maxWidth:"100vw",height:"100vh",backdropClass:"azt-backdrop-full-width-height",disableClose:!0}).afterClosed().subscribe(a=>{a||this.myNavigation(`/de-thi/${e.hashId}`)})}sendAudioForQuestion(e){!this.exam_obj||!this.testingResultObj||(this.questionList=this.sAztTestAudioService.sendAudioForQuestion(this.exam_obj,this.testingResultObj.id,this.questionList,e))}setAnswerTrueFalse(e){this.exam_obj&&([this.questionList,this.answerList]=this.sAztTestQuestionService.setAnswerTrueFalse(this.exam_obj,this.questionList,this.answerList,e),this.changeStatusQuestion(e.id,!0),this.saveAnswerAndTrackInfoToApi(this.answerList,this.files))}setAnswerEssay(e){let i=!1;[this.questionList,this.answerList,i]=this.sAztTestQuestionService.setAnswerEssay(this.questionList,this.answerList,e),this.changeStatusQuestion(e.id,!i),this.changeEssayTextQuestion(e)}changeEssayTextQuestion(e){!(e.event?.target instanceof HTMLTextAreaElement)||null==e.event?.target.value||(this.questionList=this.sAztTestQuestionService.changeEssayTextQuestion(this.questionList,e,e.event.target.value))}setResultTracking(e){!this.exam_obj||!this.testingResultObj||(this.resultTracks=this.sAztTestResultTrackService.setResultTracking(this.exam_obj,this.testingResultObj.id,this.resultTracks,e))}changeStatusQuestion(e,i){this.questionList=this.sAztTestQuestionService.changeStatusQuestion(this.questionList,e,i),this.saveAnswerAndTrackInfoToLocalStorage(this.answerList,this.noteList,this.files)}saveAnswerAndTrackInfoToLocalStorage(e,i,o){!this.exam_obj||!this.testingResultObj||!this.userObj||this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.exam_obj,this.testingResultObj?.id,e,i,o,this.userObj,this.totalTime)}getInitDataFromApi(){var e=this.browserStorageService.getSimpleStorage("password_"+this.hashId),i=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.waitDestroy(lt.N.production||lt.N.isProdAzotaVn?this.frontExamService.apiFrontExamInitDataGet(this.hashId,this.password,i||""!=this.tempStorageInfo?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(r=>{const l=this.encryptionHelper.result(r);this.processInitData(l)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,this.password,i||""!=this.tempStorageInfo?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(r=>{this.processInitData(r)}))}getQuestionThatCanFeedbackFromApi(){let e=this.commonService.uniqueArray(this.questionList.map(i=>i.id));this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(this.exam_obj?.id,e.join(",")).subscribe(i=>{1==i.success?((i.data?.objs??[]).forEach(a=>{let r=this.questionList.find(l=>l.id==a.questionId);r&&(r.enableFeedback=a.allowFeedback)}),this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}getDataSyncFromApi(){return new gu.y(e=>{this.testLogExamResultAnswerService.listExamResultAnswers(this.termExamResultId).subscribe(i=>{if(i.success){let a=this.encryptionHelper.result({version:i.version??"",code:i.code??0,success:i.success??0,data:{content:i.data?.content??"",typeHash:0,keyHash:""},detailMessage:"",message:i.message??""});this.syncData=a?.data??{answers:[],files:"",infors:"",updatedAt:"",resultTrack:""},this.resultTracks=a?.data?.resultTrack?this.commonService.myParseJson(this.zipDataService.decodeContentGzip(a.data.resultTrack))??[]:[],this.syncData.updatedAt=i?.data?.updated_at??"",e.next(!0),e.complete()}else e.next(!1),e.complete()})})}submitTestToApi(e){this.initStatusObj();var i=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),o=this.commonService.myClone(this.resultTracks);let a=JSON.stringify({type:"exam",id:this.exam_obj?.id,user:this.exam_obj?.tenantId});var r={autoSubmit:e,serverCountDown:this.totalTime,examMinutes:this.exam_obj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let l={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:i,trackInfos:JSON.stringify(r),resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(o)),saveTime:0,id:this.termExamResultId};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(l),a,this.hashId).subscribe(_=>{1==_.success?(this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.exam_obj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+this.exam_obj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj?.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj?.hashId+"_"+_.data?.id,JSON.stringify(_.data)),this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.globalService.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+_.data?.id,"?backto="+encodeURIComponent(this.backToLink))):(this.errorStatusObj(_.message??"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=_.message,setTimeout(()=>{this.checkSubmit=!1},5e3))}))}saveAnswerAndTrackInfoToApi(e,i){var o=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),a=this.commonService.myClone(this.resultTracks);try{let r={answers:e,files:JSON.stringify(i),infors:o??"",resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(a)),updatedAt:""},l=this.encryptionHelper.payload(r);this.testLogExamResultAnswerService.answerExamResult(l,this.termExamResultId).subscribe(_=>{})}catch{}}getImagesThatUploadAtMobileQrCodeFromApi(e){e&&this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(i=>{if(1==i.success&&this.commonService.isJson(i.data?.tmpObj?.files??"")){var o=this.commonService.willDeleteParseJson(i.data?.tmpObj?.files??"");o.isNotNoti=!0,this.addFileMobileUpload({files:o})}})}fillData(e){this.exam_obj&&this.testingResultObj&&(this.resultTracks=this.sAztTestResultTrackService.getResultTrackFromLocalStorage(this.exam_obj,this.testingResultObj.id)),this.userObj=this.homeworkExamService.mustInClassroom(this.exam_obj)?e.data?.studentObj??this.userService.getUserObj():this.userService.getUserObj(),this.totalTime=e.data?.countDownSecond??0,this.startTestTime=e.data?.startServerSecond??0;var i=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+this.exam_obj?.id+"_"+this.testingResultObj?.id)??"");let a=this.encryptionHelper.result({success:1,version:"",code:1,detailMessage:"",message:"",data:i})?.data;if(this.hashIdUpdate=e.data?.hashCodeUpload??"",this.getImagesThatUploadAtMobileQrCodeFromApi(this.hashIdUpdate),e.data?.errorMessage)this.hasErrorMessage=e.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.stopStatusObj();else{this.hasErrorMessage="",(e.data?.examObj?.minutes??-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((e.data?.countDownSecond??1)<=0&&!this.unLimitTime);let r=this.commonService.castJsonToClassObjs(At.v,JSON.stringify(e.data?.questionObjs)),l=[];this.exam_obj&&this.testingResultObj&&(l=this.sAztTestQuestionService.changeQuestionContent(this.exam_obj,this.testingResultObj.id,r??[])),this.syncData&&this.syncData.updatedAt?null==a?(this.answerList=this.syncData.answers??new Array,this.files=this.commonService.myParseJson(this.syncData.files??"")??[],l=this.sAztTestQuestionService.reBindDataQuestion(l,this.answerList)):new Date(this.syncData.updatedAt).getTime()<a.saveTime?(this.answerList=a.answers??new Array,this.files=this.commonService.myParseJson(a.files)??[],l=this.sAztTestQuestionService.reBindDataQuestion(l,this.answerList)):(this.answerList=this.syncData.answers??new Array,this.files=this.commonService.myParseJson(this.syncData.files)??[],l=this.sAztTestQuestionService.reBindDataQuestion(l,this.answerList)):a&&(this.answerList=a.answers??new Array,this.files=this.commonService.myParseJson(a.files)??[],l=this.sAztTestQuestionService.reBindDataQuestion(l,this.answerList)),this.followerRenderQuest.setNumQuest(l.length),this.stopStatusObj(),this.questsLoadState.startLoad=!0,this.questionRenderService.parseRenderQuestions(l,_=>{this.questsLoadState.loadPercent=Math.floor(_)}).then(_=>{this.setNewQuestionList(_),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.listEssayQuestionIds=this.foundEssayQuestions(),this.countEssayQuestion=this.listEssayQuestionIds.length,this.hasEssayQuestion=!!this.countEssayQuestion,this.exam_obj&&this.testingResultObj&&this.sAztTestAudioService.saveAudioLimitStorage(this.exam_obj,this.testingResultObj?.id,this.questionList),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer(),this.setTimeAutoSync()):(this.questionList=this.sAztTestQuestionService.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam")),this.saveAnswerAndTrackInfoToLocalStorage(this.answerList,this.noteList,this.files),this.getQuestionThatCanFeedbackFromApi(),this.setTimeClient()}).catch(_=>{this.showErrorSnack(e.message),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=_,this.stopStatusObj()})}}processData(e){if(1==e.success&&e.data)if(this.exam_obj=e.data?.examObj,this.examConfigObj=e.data.examConfigObj,this.termExamResultId=e.data?.testingExamResultObj&&e.data?.testingExamResultObj.id?e.data?.testingExamResultObj.id:0,this.testingResultObj=e.data?.testingExamResultObj,this.userObj=e.data?.studentObj,this.commonService.translateMetaData({title:e.data?.examObj?.name?e.data.examObj.name:"",description:e.data?.examObj?.name?e.data.examObj.name:""}),this.dataProcess=e.data,this.userService.isAnonymousRoleOfCurrentUser())if(this.homeworkExamService.allowAnonymousUser(this.dataProcess?.examObj)){var i=this.userService.getUserObj();this.userService.isAnonymousName(i)?(this.stopStatusObj(),1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo&&(o=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o,!0),this.hasErrorMessage="lang_cms_test_must_submit_info"):this.openSubmitName(!1)):1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(o=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getInitDataFromApi()):this.getDataSyncFromApi().subscribe(a=>{this.fillData(e)})}else 1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(o=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getInitDataFromApi()):this.getDataSyncFromApi().subscribe(a=>{this.fillData(e)});else if(this.homeworkExamService.mustInClassroom(this.dataProcess?.examObj))this.dataProcess.hasOwnProperty("studentObj")&&!this.commonService.isEmptyObj(this.dataProcess?.studentObj??{})&&1==this.dataProcess.studentObj?.isVerified?1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(o=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getInitDataFromApi()):this.getDataSyncFromApi().subscribe(a=>{this.fillData(e)}):(this.stopStatusObj(),this.openChooseStudent());else if(1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo){var o;(o=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getInitDataFromApi())}else this.getDataSyncFromApi().subscribe(a=>{this.fillData(e)});else this.showErrorSnack(e.message??"")}processInitData(e){if(!e||!e.data||!e.data.examObj)return;const i=this.userService.isAnonymousRoleOfCurrentUser(),o="lang_core_exam_password_invalid"===e.data.errorMessage,a="lang_core_does_not_owner_exam"===e.data.errorMessage;if(this.isShowingPayment=!1,a){if(!e.data.examConfigObj)return;return this.showDialogBuyExam(e.data.examObj),this.stopStatusObj(),void(this.isShowingPayment=!0)}this.homeworkExamService.allowAnonymousUser(e.data.examObj)?this.handleAnonymousUser(e,o):i?(this.stopStatusObj(),this.openSubmitName(!0)):this.handleNonAnonymousUser(i,e,o)}handleNonAnonymousUser(e,i,o){e?(this.hasErrorMessage="lang_auto_yeu_cau_dang_nhap_de_vao_thi",this.stopStatusObj(),this.openSubmitName(!0)):o?this.handleInvalidPassword(i.data):this.processData(i)}handleAnonymousUser(e,i){i?this.handleInvalidPassword(e.data):this.processData(e)}handleInvalidPassword(e){""===this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj())}setNewQuestionList(e){this.questionList=e;let i=0,o=0;this.questionList.forEach((a,r)=>{a.labelIndex=r,this.examConfigObj?.resetQuestionIndex&&a.groupInfo&&a.groupInfo.groupId&&(i!=a.groupInfo.groupId&&(i=a.groupInfo.groupId,o=0),a.labelIndex=o,o++)},this.questionList),this.sAztTestNextBackQuestionService=new $t(this.questionList)}foundEssayQuestions(){let e=this.sAztTestQuestionService.getEssayQuestionIds(this.questionList);return e.length>0?this.checkEssayPopup&&this.openEssayDialog():this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),e}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.onResize(),this.sAztTestDeviceIdService.getDeviceId(),this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.hashId=(this.commonService.getMyParam(this.activeRoute,"hash_id")??"").toString(),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.initStatusObj(),this.getInitDataFromApi()})),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{this.widthGameBar=this.myListQuestionBar?.nativeElement.offsetWidth;let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient),this.intervalSyncData&&clearInterval(this.intervalSyncData),this.globalService.clearAllInterval(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.sAztDialogService.closeAll(),super.ngOnDestroy()}constructor(e,i,o,a,r,l,_,m,g,f,b,v,L,J,B,V,K,mt,Tt,rt,M,Y,dt){super(),this.activeRoute=e,this.userService=i,this.mixService=o,this.localStorageObject=a,this.fireStoreService=r,this.encryptService=l,this.zipDataService=_,this.timeService=m,this.monitorService=g,this.browserStorageService=f,this.frontExamTrackService=b,this.globalService=v,this.frontExamResultService=L,this.frontExamService=J,this.frontExamResultUploadService=B,this.sAztDialogService=V,this.answerTypeService=K,this.homeworkExamService=mt,this.questionRenderService=Tt,this.testMarketFeedbackService=rt,this.encryptionHelper=M,this.testLogExamResultAnswerService=Y,this.sAztShowMonitorService=dt,this.sAztFullScreenService=new Je,this.sAztTestResizeService=new He,this.sAztTestDeviceIdService=new ve(this.browserStorageService),this.sAztTestNextBackQuestionService=new $t([]),this.sAztTestQuestionService=new zt(this.commonService,this.answerTypeService,this.browserStorageService),this.sAztTestAudioService=new Ft(this.commonService,this.browserStorageService),this.sAztTestCheckMobileService=new Ye,this.sAztTestResultTrackService=new Be(this.commonService,this.encryptionHelper,this.timeService,this.browserStorageService),this.isMobile=!1,this.hasErrorMessage="",this.isShowingPayment=!1,this.homeLink="/student/classroom/0",this.tenantId=1,this.curCateId=0,this.hashId="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.intervalSyncData=0,this.questionList=[],this.followerRenderQuest=new ct.p,this.answerList=[],this.noteList=[],this.files=[],this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.termExamResultId=0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.countQuestion=0,this.countEssayQuestion=0,this.listEssayQuestionIds=[],this.hasEssayQuestion=!1,this.syncData={answers:[],files:"",infors:"",updatedAt:"",resultTrack:""},this.hasMonitorScreen=!1,this.chooseChildData=!1,this.password="",this.backToLink="",this.tempStorageInfo="",this.resultTracks=[],this.sendingData=!1,this.validForTakeTest=!0,this.hasVideoMonitor=!1,this.acceptSendTrack=!0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.visiblePage=!1,this.checkTimeOutExam=!1,this.timeClient=Date.now(),this.isShowPreviewFile=!1,this.previewFile={},this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.showList=!0,this.showUnit=!1,this.isShowQuestionAnswerSheet=!1,this.widthGameBar=300}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(et.U),t.Y36(Nt),t.Y36(Rt.y),t.Y36(We.j),t.Y36(Ve.j),t.Y36(se.a),t.Y36(_t.D),t.Y36(hu.G),t.Y36(bt.n),t.Y36(j.FQ),t.Y36(It.q),t.Y36(j.CA),t.Y36(j.Tg),t.Y36(j.vO),t.Y36(Ct.C),t.Y36(ht.i),t.Y36(gt.v),t.Y36(Zt.h),t.Y36(yt.nC),t.Y36(Te),t.Y36(Ke.eC),t.Y36(Ot.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-take-test"]],viewQuery:function(e,i){if(1&e&&(t.Gf(bu,5,kt),t.Gf(vu,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.modalSaveImageUpload=o.first),t.iGM(o=t.CRH())&&(i.myListQuestionBar=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(a){return i.askBeforeCloseWindow(a)},!1,t.Jf7)("visibilitychange",function(a){return i.visibilitychange(a)},!1,t.evT)("resize",function(a){return i.onResize(a)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:1,consts:[[4,"ngIf"],["mainContentTpl",""],["validForTakeTestTpl",""],["lstQuestHasErrTpl",""],["invalidForTakeTestTpl",""],[1,"p-0",3,"resize","contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"currentStatusObj"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],[4,"ngIf","ngIfElse"],["lstQuestDoneLoad",""],[3,"currentStatusObj","customText"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],["class","top-bar",3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"top-bar",3,"ngClass"],["class","-intro-x",4,"ngIf"],["class","intro-x relative mx-auto",4,"ngIf"],["class","intro-x mr-6",4,"ngIf"],[1,"-intro-x"],["azt-track-service","take-test-E4FLezP4kF",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],["azt-track-service","take-test-Ye6iaFI2rI",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[2,"vertical-align","middle"],[1,"intro-x","relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[1,"intro-x","mr-6"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md",3,"ngClass"],[1,"ng-binding"],[1,"text-md"],[1,"intro-x","flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-out"],["cx","11","cy","11","r","8"],["x1","21","x2","16.65","y1","21","y2","16.65"],["x1","8","x2","14","y1","11","y2","11"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-in"],["x1","11","x2","11","y1","8","y2","14"],["azt-track-service","take-test-UBz-4Fa9hv",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["class","intro-x mr-2",4,"ngIf"],[1,"intro-x"],["azt-track-service","take-test-U5gleH2CsWW",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["x1","8","y1","6","x2","21","y2","6"],["x1","8","y1","12","x2","21","y2","12"],["x1","8","y1","18","x2","21","y2","18"],["x1","3","y1","6","x2","3.01","y2","6"],["x1","3","y1","12","x2","3.01","y2","12"],["x1","3","y1","18","x2","3.01","y2","18"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["d","M21 3H3v7h18V3z"],["d","M21 14h-5v7h5v-7z"],["d","M12 14H3v7h9v-7z"],[1,"intro-x","mr-2"],["azt-track-service","take-test-7o7YbIPIyM","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","take-test-7o7YbIPIyM",1,"btn","btn-sm","btn-secondary",3,"click"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["azt-track-service","take-test-EYDOxzj8YnB",1,"btn","btn-sm","btn-secondary",3,"click"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"],[3,"joinClassroomByType","selectStudentEvent"],["class","margin-question-bar pb-4",4,"ngIf"],[1,"margin-question-bar","pb-4"],[1,"alert","alert-danger"],["azt-track-service","take-test-Q5NwvSmkHDy",3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-test-8oUvqrS4hCo",1,"link__color","link__hover",3,"routerLink"],["azt-track-service","take-test-Q5NwvSmkHDy",3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","removeFile"],["class","box p-3 mb-3",4,"ngIf"],["class","intro-x mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],["class","intro-y box w-3/4 mx-auto p-3","style","animation-delay: 0.05s",3,"hidden",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],[1,"intro-x","mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","question","index","last","countQuestion","overTime","fontSize","questionListLength","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit",4,"ngIf"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","question","index","last","countQuestion","overTime","fontSize","questionListLength","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[1,"intro-y","box","w-3/4","mx-auto","p-3",2,"animation-delay","0.05s",3,"hidden"],[1,"grid","grid-cols-12","gap-2","mt-3","p-3"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"col-span-1"],["azt-track-service","take-test-u72HkJDgcct",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],["id","question_ui",1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","mt-5","sm:mt-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","intro-x mt-2",4,"ngFor","ngForOf"],["class","col-span-12 lg:col-span-3 mt-4","id","listQuestionBar",3,"ngClass",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"intro-x","mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","countQuestion","question","fontSize","overTime","index","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit",4,"ngIf"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","countQuestion","question","fontSize","overTime","index","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],["id","listQuestionBar",1,"col-span-12","lg:col-span-3","mt-4",3,"ngClass"],["listQuestionBar",""],[1,"intro-y","box","p-3"],[1,"grid","grid-cols-10","gap-2","mt-3","sheet-screen",3,"ngClass"],["class","col-span-2",4,"ngFor","ngForOf"],[1,"col-span-2"],["azt-track-service","take-test-wdi0TAS3bgU",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],[1,"top_action"],[1,"grid","grid-cols-12","gap-3","items-center","justify-between","ml-0","mr-0"],[1,"col-span-3","self-center"],["azt-track-service","take-test-Sv-5CQ5vRW_",1,"clickable",2,"color","#fff",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],[1,"col-span-6","text-center","self-center","pl-0","pr-0"],["azt-track-service","take-test-Hl-nLDepRGa","class","clickable","style","color: #fff; border: 3px solid #fff; padding: 3px 5px",3,"click",4,"ngIf"],[1,"col-span-3","pl-0","pr-1","text-right","self-center"],["azt-track-service","take-test-qCh4rHipyZ7",1,"clickable","inline-flex","items-center",2,"color","#fff",3,"click"],[2,"vertical-align","top","line-height","1.8"],["points","9 18 15 12 9 6"],["id","bottom_action",1,"bottom_action"],[1,"collapse",3,"ngClass"],[1,"box","mb-2",2,"padding","5px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"grid","grid-cols-10","gap-2","mt-3"],[1,"grid","grid-cols-12","gap-3","justify-between","clickable"],[1,"col-span-3","flex","pr-1","menu-control"],["azt-track-service","take-test-X8-EFpj1UGB",1,"mb-auto","mt-auto","mr-1","clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#fff"],["azt-track-service","take-test-gI2KMWWglRl",1,"ml-2","mb-auto","mt-auto","clickable",3,"matTooltip","click"],["azt-track-service","take-test-6mIR-7BLuro",1,"col-span-5","pl-0","pr-0","text-center","self-center",3,"click"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["azt-track-service","take-test-hTmjtImrd1N","class","col-span-4 text-right pl-0 self-center",3,"ngClass","click",4,"ngIf"],["class","col-span-6 text-center pl-0 pr-1 self-center",4,"ngIf"],["azt-track-service","take-test-Hl-nLDepRGa",1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],["azt-track-service","take-test-lH0l4q6-9d0",1,"rounded-md","border","border-slate-400","p-1","w-full",2,"color","#111",3,"ngClass","click"],["azt-track-service","take-test-hTmjtImrd1N",1,"col-span-4","text-right","pl-0","self-center",3,"ngClass","click"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-span-6","text-center","pl-0","pr-1","self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-test-4_EDv4k0GO7",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-test-Z7YL5G4GC5F",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"],[2,"padding-bottom","50px"],[1,"box","p-5","margin-question-bar","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],["class","mt-3 text-danger font-medium",4,"ngIf"],[1,"mt-3","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-test-MEvBfplvFx",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-test-J_pIShRvtz",1,"btn","btn-sm","btn-primary",3,"click"],[3,"label"],["class","intro-x mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mt-2","flex","justify-center"],["azt-track-service","take-test-zYDkrlktkR",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-test-HI_SB5_l-P",1,"btn","btn-sm","btn-primary",3,"click"],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[1,"mt-3","text-danger","font-medium"],[1,"intro-x","mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","isMobile","examObj","question","fontSize","index","overTime","questionListLength",4,"ngIf"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","isMobile","examObj","question","fontSize","index","overTime","questionListLength"],["class","text-center mt-1 mb-2",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","removeFile"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-test-EkxWzdqkfZ",1,"btn","btn-sm","btn-primary",3,"click"],[1,"h6","mb-2","mt-1"],[1,"p-3","m-2","alert","alert-danger"]],template:function(e,i){1&e&&(t.YNc(0,yu,10,6,"ng-container",0),t.YNc(1,qu,3,2,"ng-template",null,1,t.W1O),t.YNc(3,Zm,3,3,"ng-template",null,2,t.W1O),t.YNc(5,qm,32,28,"ng-template",null,3,t.W1O),t.YNc(7,Rm,72,51,"ng-template",null,4,t.W1O)),2&e&&t.Q6J("ngIf",!i.isShowingPayment)},dependencies:[d.rH,p.mk,p.sg,p.O5,p.tP,ut.Hw,nt.uX,nt.SP,W.gM,Lt.y,H.l,Jt,Ht,Bt.P,de,pe,he,kt,fe,$e,Ne,h.Jy,h.JV,h.fF,h.$n],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:70px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}@keyframes _ngcontent-%COMP%_timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),n})(),Ym=(()=>{class n extends it.e{btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,i){super(i,e),this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["confirm-reset-answer"]],features:[t.qOj],decls:20,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","px-3","pt-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","confirm-reset-answer-IROMXJMuQD",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","confirm-reset-answer-Dau1W0YPOB",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",8)(11,"azt-mat-dialog-content",9),t._UZ(12,"div",10),t.qZA()()()(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return i.btnCloseDialog(!1)}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"button",13),t.NdJ("click",function(){return i.btnCloseDialog(!0)}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,5,"lang_auto_canh_bao")," "),t.xp6(3),t.Q6J("defaultHeight",60),t.xp6(1),t.Q6J("innerHtml",i.data.content,t.oJD),t.xp6(3),t.hij(" ",t.lcZ(16,7,"lang_auto_huy")," "),t.xp6(3),t.hij(" ",t.lcZ(19,9,"lang_auto_xac_nhan")," "))},dependencies:[re.R,h.JV],encapsulation:2}),n})();function Hm(n,s){if(1&n&&(t.TgZ(0,"button",13)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function Bm(n,s){if(1&n&&(t.TgZ(0,"button",14)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function Gm(n,s){if(1&n&&(t.TgZ(0,"button",15)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function Km(n,s){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,Hm,3,1,"button",10),t.YNc(2,Bm,3,1,"button",11),t.YNc(3,Gm,3,1,"button",12),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",!e.practiceCheckAnswer||"notYet"===e.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","wrong"===e.practiceCheckAnswer||"correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks>1),t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&e.numberOfChecks&&1==e.numberOfChecks)}}const Wm=function(){return[]};let Vm=(()=>{class n extends it.e{constructor(e,i){super(i,e),this.dialogRef=e,this.data=i,this.isDialog=!1}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so,8),t.Y36(O.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["show-answer-dialog"]],features:[t.qOj],decls:13,vars:10,consts:[[1,"box","py-4","px-4"],[1,"flex","items-center"],[1,"text-md","font-medium","inline-block","mr-2"],[1,"border","border-slate-200","dark:border-darkmode-400","mt-2","overflow-auto"],["pointerEventsMethod","scrollbar",2,"max-height","50vh",3,"visibility","autoHeightDisabled"],[1,"flex","items-center","p-3",2,"flex-wrap","wrap","padding-right","0"],["class","mr-3 mb-3 answer-training-block h-full",4,"ngFor","ngForOf"],[1,"text-right","mt-4"],["azt-track-service","preview-offline-exam-pMnvQqQQGlC",1,"btn","btn-primary","w-24",3,"click"],[1,"mr-3","mb-3","answer-training-block","h-full"],["class","btn border-slate-400 btn-sm w-full h-full",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full bg-slate-400 dark:bg-darkmode-800",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full btn-success text-white",4,"ngIf"],[1,"btn","border-slate-400","btn-sm","w-full","h-full"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","bg-slate-400","dark:bg-darkmode-800"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","btn-success","text-white"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",3)(6,"ng-scrollbar",4)(7,"div",5),t.YNc(8,Km,4,3,"div",6),t.qZA()()(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return i.closeDialog()}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()),2&e){let o;t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("visibility","hover")("autoHeightDisabled",!1),t.xp6(2),t.Q6J("ngForOf",null!==(o=i.data.questionList)&&void 0!==o?o:t.DdM(9,Wm)),t.xp6(3),t.hij(" ",t.lcZ(12,7,"lang_auto_dong")," ")}},dependencies:[p.sg,p.O5,x.KC,h.JV],encapsulation:2}),n})();var Xe=u(36621),tn=u(94603),en=u(42242),nn=u(15422),on=u(63529);function $m(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"span",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.showExplainOfQuestion.emit())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_testbank_frontend_you_dont_know_how_to_do_it")+"? "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_testbank_frontend_please_use_the_hint")," "))}function Xm(n,s){if(1&n&&(t.TgZ(0,"div",6)(1,"div",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",7),t._UZ(5,"azt-dynamic-hook",8),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_testbank_hint")," "),t.xp6(3),t.Q6J("content",e.questionObj.help)}}function td(n,s){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,$m,7,6,"div",2),t.YNc(2,Xm,6,4,"div",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isShowExplain),t.xp6(1),t.Q6J("ngIf",e.isShowExplain)}}let ed=(()=>{class n extends w.Q{constructor(){super(...arguments),this.isShowExplain=!1,this.showExplainOfQuestion=new t.vpe}}return n.\u0275fac=function(){let s;return function(i){return(s||(s=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-explain-box-for-student-at-step-test"]],inputs:{isShowExplain:"isShowExplain",questionObj:"questionObj",renderConfigObj:"renderConfigObj"},outputs:{showExplainOfQuestion:"showExplainOfQuestion"},features:[t.qOj],decls:1,vars:1,consts:[["class","p-3",4,"ngIf"],[1,"p-3"],[4,"ngIf"],["class","p-3 mt-4",4,"ngIf"],[1,"font-medium"],[1,"btn-text-primary","font-medium",3,"click"],[1,"p-3","mt-4"],[1,"mt-2"],[3,"content"]],template:function(e,i){1&e&&t.YNc(0,td,3,2,"div",0),2&e&&t.Q6J("ngIf",i.questionObj.help)},dependencies:[p.O5,ue.O,h.JV],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();const nd=function(n){return{"skeleton-box-loading":n}};function id(n,s){if(1&n&&t._UZ(0,"div",10),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,nd,e.renderConfigObj.isFirstRender))}}function od(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",18),t.NdJ("sendAudioEmitter",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sendAudioEmit.emit(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("questionObj",e.questionObj)("isShowList",!0)("totalLimit",(e.examObj.limitAudio||-1)>0?e.examObj.limitAudio||-1:0)}}const ad=function(n){return{"pb-2":n}};function sd(n,s){if(1&n&&(t.TgZ(0,"div",11)(1,"div",12),t._UZ(2,"azt-question-group-content-box",13),t.TgZ(3,"div",14),t.YNc(4,od,1,3,"azt-test-audio-ui",15),t.TgZ(5,"div",16),t._UZ(6,"azt-question-label-box",17),t.qZA(),t._UZ(7,"azt-question-content-box",13),t.qZA()()()),2&n){const e=t.oxw();t.xp6(1),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize&&e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.questionObj.id)("ngClass",t.VKq(17,ad,e.questionObj.attachments.length>0)),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj),t.xp6(2),t.Q6J("ngIf",e.questionObj.attachments.length>0),t.xp6(2),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("curQuestionIndex",e.curQuestionIndex),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)}}function rd(n,s){1&n&&t._UZ(0,"div",19)}let ld=(()=>{class n extends Xe.R{showExplainOfQuestion(){this.showHintAnswer.emit()}ngOnInit(){super.ngOnInit();let e=new tn.m(!0,!0,!1);super.initData(e,this.follower,this.questionObj),this.listenFontChanged&&this.waitDestroy(this.listenFontChanged.subscribe(()=>{this.reRenderContent()}))}constructor(){super(),this.follower=new ct.p,this.curQuestionIndex=0,this.fontSize=1,this.isShowExplain=!1,this.currentAnswerIsCorrect=!1,this.sendAudioEmit=new t.vpe,this.setAnswerEmitter=new t.vpe,this.setAnswerEssayEmitter=new t.vpe,this.setResultTracking=new t.vpe,this.showHintAnswer=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-standalone-for-step-test"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",fontSize:"fontSize",listenFontChanged:"listenFontChanged",isShowExplain:"isShowExplain",currentAnswerIsCorrect:"currentAnswerIsCorrect"},outputs:{sendAudioEmit:"sendAudioEmit",setAnswerEmitter:"setAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter",setResultTracking:"setResultTracking",showHintAnswer:"showHintAnswer"},features:[t.qOj],decls:11,vars:10,consts:[[1,"question-standalone-step-container-box","box"],[1,"question-standalone-step-question-box","p-3"],["load_effect_lazy","",1,"question-standalone-box",2,"box-shadow","none","margin","0px",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-step-answer-container-box"],[1,"ml-auto","mr-auto","w-full","relative"],[3,"question","answerIndex","fontSize","setResultTracking","setAnswerEmitter","setAnswerEssayEmitter"],["class","absolute w-full h-full top-0 left-0 z-50",4,"ngIf"],[3,"questionObj","renderConfigObj","isShowExplain","showExplainOfQuestion"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container",2,"padding","0px",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"examObj","questionObj","renderConfigObj","curQuestionIndex"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"absolute","w-full","h-full","top-0","left-0","z-50"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,id,1,3,"div",3),t.YNc(4,sd,8,19,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"azt-question-answer-view-for-student-at-step-page",7),t.NdJ("setResultTracking",function(a){return i.setResultTracking.emit(a)})("setAnswerEmitter",function(a){return i.setAnswerEmitter.emit(a)})("setAnswerEssayEmitter",function(a){return i.setAnswerEssayEmitter.emit(a)}),t.qZA(),t.YNc(9,rd,1,0,"div",8),t.qZA()(),t.TgZ(10,"azt-question-explain-box-for-student-at-step-test",9),t.NdJ("showExplainOfQuestion",function(){return i.showExplainOfQuestion()}),t.qZA()()),2&e){const o=t.MAs(5);t.xp6(2),t.Q6J("id","question_render_element_"+i.questionObj.id),t.xp6(1),t.Q6J("ngIf",!i.renderConfigObj.isRenderElement)("ngIfElse",o),t.xp6(5),t.Q6J("question",i.questionObj)("answerIndex",i.curQuestionIndex)("fontSize",i.fontSize),t.xp6(1),t.Q6J("ngIf",i.currentAnswerIsCorrect),t.xp6(1),t.Q6J("questionObj",i.questionObj)("renderConfigObj",i.renderConfigObj)("isShowExplain",i.isShowExplain)}},dependencies:[p.mk,p.O5,_e.C,ce.T,me,en.J,nn.L,on.w,ed],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();const _d=function(n){return{"skeleton-box-loading":n}};function cd(n,s){if(1&n&&t._UZ(0,"div",9),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,_d,e.renderConfigObj.isFirstRender))}}function ud(n,s){if(1&n&&t._UZ(0,"azt-test-audio-ui",17),2&n){const e=t.oxw(2);t.Q6J("questionObj",e.questionObj)("isShowList",!0)}}const md=function(n){return{"pb-2":n}};function dd(n,s){if(1&n&&(t.TgZ(0,"div",10)(1,"div",11),t._UZ(2,"azt-question-group-content-box",12),t.TgZ(3,"div",13),t.YNc(4,ud,1,2,"azt-test-audio-ui",14),t.TgZ(5,"div",15),t._UZ(6,"azt-question-label-box",16),t.qZA(),t._UZ(7,"azt-question-content-box",12),t.qZA()()()),2&n){const e=t.oxw();t.xp6(1),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize&&e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.questionObj.id)("ngClass",t.VKq(17,md,e.questionObj.attachments.length>0)),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj),t.xp6(2),t.Q6J("ngIf",e.questionObj.attachments.length>0),t.xp6(2),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("curQuestionIndex",e.curQuestionIndex),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)}}function pd(n,s){1&n&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_tra_loi")," "))}let gd=(()=>{class n extends Xe.R{ngOnInit(){super.ngOnInit();let e=new tn.m(!0,!0,!1);super.initData(e,this.follower,this.questionObj),this.listenFontChanged&&this.waitDestroy(this.listenFontChanged.subscribe(()=>{this.reRenderContent()}))}constructor(){super(),this.follower=new ct.p,this.curQuestionIndex=0,this.fontSize=1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-standalone-for-step-test-when-over-time"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",fontSize:"fontSize",listenFontChanged:"listenFontChanged"},features:[t.qOj],decls:10,vars:7,consts:[[1,"question-standalone-step-container-box","box"],[1,"question-standalone-step-question-box","p-3"],["load_effect_lazy","",1,"question-standalone-box",2,"box-shadow","none","margin","0px",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-step-answer-container-box"],[1,"ml-auto","mr-auto","w-full","relative"],[3,"question","answerIndex","fontSize"],["class","text-danger font-medium p-3 pt-0",4,"ngIf"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container",2,"padding","0px",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList",4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"examObj","questionObj","renderConfigObj","curQuestionIndex"],[3,"questionObj","isShowList"],[1,"text-danger","font-medium","p-3","pt-0"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,cd,1,3,"div",3),t.YNc(4,dd,8,19,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._UZ(8,"azt-question-answer-view-for-student-at-step-page",7),t.qZA()(),t.YNc(9,pd,3,3,"div",8),t.qZA()),2&e){const o=t.MAs(5);t.xp6(2),t.Q6J("id","question_render_element_"+i.questionObj.id),t.xp6(1),t.Q6J("ngIf",!i.renderConfigObj.isRenderElement)("ngIfElse",o),t.xp6(5),t.Q6J("question",i.questionObj)("answerIndex",i.curQuestionIndex)("fontSize",i.fontSize),t.xp6(1),t.Q6J("ngIf",!i.questionObj.choseAnswer||!i.questionObj.choseAnswer.length||""==i.questionObj.choseAnswer[0])}},dependencies:[p.mk,p.O5,_e.C,ce.T,me,en.J,nn.L,on.w,h.JV],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();function hd(n,s){1&n&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function fd(n,s){1&n&&t._UZ(0,"div",11)}function xd(n,s){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,hd,3,0,"div",4),t.YNc(2,fd,1,0,"div",8),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&1==e.numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&1!=e.numberOfChecks||"correct"!==e.practiceCheckAnswer)}}function bd(n,s){1&n&&t._UZ(0,"div",13)}function vd(n,s){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",14),t._UZ(2,"path",15)(3,"path",16),t.qZA()())}function Td(n,s){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function wd(n,s){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",17),t._UZ(2,"polyline",10),t.qZA()())}function Sd(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,bd,1,0,"div",12),t.YNc(2,vd,4,0,"div",6),t.YNc(3,Td,3,0,"div",6),t.YNc(4,wd,3,0,"div",6),t.qZA()),2&n){const e=t.oxw(),i=e.index,o=e.$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i>a.curQuestion),t.xp6(1),t.Q6J("ngIf","wrong"===o.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"===o.practiceCheckAnswer&&1==o.numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"===o.practiceCheckAnswer&&1!=o.numberOfChecks)}}function Cd(n,s){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,xd,3,2,"div",6),t.YNc(2,Sd,5,4,"div",4),t.qZA()),2&n){const e=s.index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===i.curQuestion),t.xp6(1),t.Q6J("ngIf",e!==i.curQuestion)}}function kd(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Cd,3,2,"li",5),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function Od(n,s){1&n&&t._UZ(0,"div",19)}function Ad(n,s){1&n&&t._UZ(0,"div",13)}function yd(n,s){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",14),t._UZ(2,"path",15)(3,"path",16),t.qZA()())}function Id(n,s){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function Zd(n,s){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",17),t._UZ(2,"polyline",10),t.qZA()())}function jd(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ad,1,0,"div",12),t.YNc(2,yd,4,0,"div",6),t.YNc(3,Id,3,0,"div",6),t.YNc(4,Zd,3,0,"div",6),t.qZA()),2&n){const e=t.oxw(2),i=e.index,o=e.$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i>a.curQuestion),t.xp6(1),t.Q6J("ngIf","wrong"===o.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"===o.practiceCheckAnswer&&1==o.numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"===o.practiceCheckAnswer&&1!=o.numberOfChecks)}}function Md(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Od,1,0,"div",18),t.YNc(2,jd,5,4,"div",4),t.BQk()),2&n){const e=t.oxw().index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===i.curQuestion),t.xp6(1),t.Q6J("ngIf",e!==i.curQuestion)}}function qd(n,s){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,Md,3,2,"ng-container",4),t.qZA()),2&n){const e=s.index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e>=i.minCurQuestion&&e<i.minCurQuestion+i.numberOfShowItem)}}function Qd(n,s){if(1&n&&(t.ynx(0),t.YNc(1,qd,2,1,"li",5),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function Ed(n,s){if(1&n&&(t.TgZ(0,"nav",2)(1,"ul",3),t.YNc(2,kd,2,1,"ng-container",4),t.YNc(3,Qd,2,1,"ng-container",4),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.questionList.length<=e.numberOfShowItem),t.xp6(1),t.Q6J("ngIf",e.questionList.length>e.numberOfShowItem)}}let Ld=(()=>{class n extends w.Q{}return n.\u0275fac=function(){let s;return function(i){return(s||(s=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["list-status-answer"]],inputs:{questionList:"questionList",curQuestion:"curQuestion",minCurQuestion:"minCurQuestion",numberOfShowItem:"numberOfShowItem"},features:[t.qOj],decls:2,vars:1,consts:[[1,"azt-hidden","md:block"],["class","inline-block","style","vertical-align: middle;",4,"ngIf"],[1,"inline-block",2,"vertical-align","middle"],[1,"pagination","items-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","mx-1",4,"ngIf"],[1,"mx-1"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","text-success"],["points","20 6 9 17 4 12"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400"],["class","w-2 h-2 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-2","h-2","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","w-4","h-4","text-danger"],["d","M18 6 6 18"],["d","m6 6 12 12"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","text-warning"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ed,4,2,"nav",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.questionList.length&&i.questionList.length>1))},dependencies:[p.sg,p.O5],encapsulation:2}),n})();const Fd=["modalSaveImageUpload"],zd=["listQuestionBar"];function Pd(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",6),2&n){const e=t.oxw(2);t.Q6J("currentStatusObj",e.statusObj)}}function Ud(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-info",7),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeShowInfo(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.showFormInfo)}}function Dd(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-monitor-screen",7),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeAutoMonitor(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataMonitorAuto)}}function Nd(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-upload-image",11),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.conFirmUpload(o))})("addFileMobile",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.addFileMobileUpload(o))})("isOnSelectFile",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onSelectFileEmit(o))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function Rd(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"azt-loading-effect",14),t.ALo(2,"mytranslate"),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(2,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Jd(n,s){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"p",23)(1,"mat-icon",56),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(7);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,null==e.examObj?null:e.examObj.startTime)," - ",t.lcZ(6,7,null==e.examObj?null:e.examObj.endTime)," ")}}function Yd(n,s){if(1&n&&(t.TgZ(0,"div",57),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",58),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",58),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",58),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&n){const e=t.oxw(7);let i,o,a;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function Hd(n,s){1&n&&(t.TgZ(0,"div",59)(1,"mat-icon",56),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Bd(n,s){1&n&&(t.TgZ(0,"div",59)(1,"mat-icon",56),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Gd(n,s){if(1&n&&t._UZ(0,"azt-question-standalone-for-step-test-when-over-time",63),2&n){const e=t.oxw(),i=e.$implicit,o=e.index,a=t.oxw(7);t.Q6J("examObj",a.examObj)("questionObj",i)("follower",a.followerRenderQuest)("curQuestionIndex",o)("fontSize",a.fontSize)("listenFontChanged",a.listenFontChanged.asObservable())}}function Kd(n,s){if(1&n&&(t.TgZ(0,"div",60)(1,"div",61),t.YNc(2,Gd,1,6,"azt-question-standalone-for-step-test-when-over-time",62),t.qZA()()),2&n){const e=s.$implicit,i=t.oxw(7);t.xp6(2),t.Q6J("ngIf",i.examObj&&e)}}function Wd(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",67)(1,"div",44)(2,"button",68),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(3,"svg",46),t._UZ(4,"path",47)(5,"path",48)(6,"path",49),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",69),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(8);t.xp6(7),t.hij(" ",e.files.length>0?t.lcZ(8,2,"lang_auto_nop_them"):t.lcZ(9,4,"lang_auto_nop_tu_luan")," "),t.xp6(4),t.Oqu(t.lcZ(12,6,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function Vd(n,s){1&n&&(t.TgZ(0,"div",70),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong")," "))}function $d(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",50),t.ALo(1,"mytranslate"),t.YNc(2,Wd,13,8,"div",64),t.YNc(3,Vd,5,9,"div",65),t.TgZ(4,"app-upload-ui",66),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.removeImg(o))}),t.qZA()()}if(2&n){const e=t.oxw(7);t.s9C("label",t.lcZ(1,4,"lang_auto_tu_luan")+" ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(2),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function Xd(n,s){if(1&n){const e=t.EpF();t.ynx(0,18),t.TgZ(1,"div",19)(2,"div",20)(3,"h3",21),t._uU(4),t.qZA(),t.TgZ(5,"p",22),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",23)(9,"div",24),t.O4$(),t.TgZ(10,"svg",25),t._UZ(11,"line",26)(12,"line",27)(13,"circle",28),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",29),t.O4$(),t.TgZ(18,"svg",30),t._UZ(19,"circle",31)(20,"path",32)(21,"line",33),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,Jd,7,9,"p",34),t.kcU(),t.TgZ(25,"p",35),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,Yd,13,9,"div",36),t.qZA(),t.YNc(31,Hd,7,9,"div",37),t.YNc(32,Bd,7,9,"div",37),t.TgZ(33,"div",38)(34,"div",39)(35,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(36,"svg",41),t._UZ(37,"path",42)(38,"line",43),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"div",44)(42,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(43,"svg",46),t._UZ(44,"path",47)(45,"path",48)(46,"path",49),t.qZA(),t._uU(47),t.ALo(48,"mytranslate"),t.ALo(49,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(50,"mat-tab-group")(51,"mat-tab",50),t.ALo(52,"mytranslate"),t.YNc(53,Kd,3,1,"div",51),t.qZA(),t.YNc(54,$d,5,6,"mat-tab",52),t.qZA(),t.TgZ(55,"div",53)(56,"div",39)(57,"button",54),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(58,"svg",41),t._UZ(59,"path",42)(60,"line",43),t.qZA(),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(63,"div",44)(64,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(65,"svg",46),t._UZ(66,"path",47)(67,"path",48)(68,"path",49),t.qZA(),t._uU(69),t.ALo(70,"mytranslate"),t.ALo(71,"mytranslate"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw(6);t.xp6(4),t.Oqu(null==e.examObj?null:e.examObj.name),t.xp6(2),t.AsE("",t.lcZ(7,23,"lang_auto_ma_de"),": ",null==e.examObj?null:e.examObj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,25,"lang_auto_thoi_gian"),": ",null==e.examObj?null:e.examObj.minutes," ",t.lcZ(16,27,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,29,"lang_auto_so_cau"),": ",e.countQuestion," "),t.xp6(2),t.Q6J("ngIf",(null==e.examObj?null:e.examObj.startTime)&&(null==e.examObj?null:e.examObj.endTime)),t.xp6(2),t.HOy(" ",t.lcZ(27,31,"lang_auto_thi_sinh"),": ",null==e.userObj?null:e.userObj.fullName," ",t.lcZ(28,33,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,35,null==e.testingResultObj?null:e.testingResultObj.startedTest)," "),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(7),t.hij(" ",t.lcZ(40,37,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(48,39,"lang_auto_nop_muon"):t.lcZ(49,41,"lang_powerpoint_frontend_detail_submit")," "),t.xp6(4),t.s9C("label",t.lcZ(52,43,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(62,45,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(70,47,"lang_auto_nop_muon"):t.lcZ(71,49,"lang_powerpoint_frontend_detail_submit")," ")}}function tp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-exit-exam",72),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.closeQuitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.isConfirmToContinue(o))}),t.qZA()}if(2&n){const e=t.oxw(7);t.Q6J("data",e.quitTestData)}}function ep(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-confirm-exam",72),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.closeSubmitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.confirmSubmit(o))}),t.qZA()}if(2&n){const e=t.oxw(7);t.Q6J("data",e.submitData)}}function np(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",79)(1,"button",80),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openQuitDialog())}),t.TgZ(2,"span",81),t._UZ(3,"lucide-icon",82),t.qZA(),t.TgZ(4,"span",83),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_thoat")," "))}function ip(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",84)(1,"button",85),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.isConfirmToContinue(!1))}),t.O4$(),t.TgZ(2,"svg",86),t._UZ(3,"polyline",87),t.qZA(),t.kcU(),t.TgZ(4,"span",88),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_quay_lai")))}function op(n,s){if(1&n&&(t.TgZ(0,"span",91),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(9);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName,"")}}function ap(n,s){if(1&n&&(t.TgZ(0,"div",89),t.YNc(1,op,3,4,"span",90),t.qZA()),2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("ngIf",e.userObj&&!e.isEmpty(e.userObj))}}const sp=function(n){return{"time-almost-end":n}};function rp(n,s){if(1&n&&(t.TgZ(0,"div",92)(1,"div",29),t.O4$(),t.TgZ(2,"svg",93),t._UZ(3,"circle",31)(4,"polyline",94),t.qZA(),t.kcU(),t.TgZ(5,"span",95)(6,"span",58),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",58),t._uU(10),t.qZA(),t._uU(11," : "),t.TgZ(12,"span",58),t._uU(13),t.qZA()()()()),2&n){const e=t.oxw(8);let i,o,a;t.xp6(5),t.Q6J("ngClass",t.VKq(4,sp,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function lp(n,s){1&n&&(t.TgZ(0,"div",92)(1,"div",29),t.O4$(),t.TgZ(2,"svg",93),t._UZ(3,"circle",31)(4,"polyline",94),t.qZA(),t.kcU(),t.TgZ(5,"span",96),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_khong_gioi_han")," "))}function _p(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",108),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.goBackFullScreen())}),t.ALo(1,"mytranslate"),t.TgZ(2,"span",109),t._UZ(3,"lucide-icon",110),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_toan_man_hinh"))}function cp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",111),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.exitFullscreen())}),t.ALo(1,"mytranslate"),t.TgZ(2,"span",109),t._UZ(3,"lucide-icon",112),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_tested_list_exit_full_screen"))}function up(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",97)(1,"button",98),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.zoomOut())}),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t.O4$(),t.TgZ(4,"svg",99),t._UZ(5,"circle",100)(6,"line",101)(7,"line",102),t.qZA()()(),t.kcU(),t.TgZ(8,"button",103),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.zoomIn())}),t.ALo(9,"mytranslate"),t.TgZ(10,"span"),t.O4$(),t.TgZ(11,"svg",104),t._UZ(12,"circle",100)(13,"line",101)(14,"line",105)(15,"line",102),t.qZA()()()(),t.kcU(),t.TgZ(16,"div",44),t.YNc(17,_p,4,3,"button",106),t.YNc(18,cp,4,3,"button",107),t.qZA()}if(2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("disabled",e.fontSize<=1)("matTooltip",t.lcZ(2,6,"lang_take_test_zoom_out")),t.xp6(7),t.Q6J("disabled",e.fontSize>=2)("matTooltip",t.lcZ(9,8,"lang_take_test_zoom_in")),t.xp6(9),t.Q6J("ngIf",!e.checkFullscreen),t.xp6(1),t.Q6J("ngIf",e.checkFullscreen)}}const mp=function(n){return{joinByExamHashId:n}};function dp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",113)(1,"app-join-classroom-box",114),t.NdJ("selectStudentEvent",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.selectStudentEvent(o))}),t.qZA()()}if(2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("joinClassroomByType",t.VKq(1,mp,null==e.examObj?null:e.examObj.hashId))}}function pp(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(10);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(3,4,null==e.examObj?null:e.examObj.startTime)," ")}}const gp=function(n){return[n]};function hp(n,s){if(1&n&&(t.TgZ(0,"div",117)(1,"div",118)(2,"div",119)(3,"div",120),t._UZ(4,"lucide-icon",121),t.qZA(),t.TgZ(5,"div",122),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.YNc(8,pp,4,6,"span",0),t.qZA()(),t.TgZ(9,"div",123)(10,"btn",124),t.ALo(11,"navigationLocalize"),t.TgZ(12,"span",125),t._UZ(13,"lucide-icon",126),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(9);t.xp6(6),t.Oqu(t.lcZ(7,4,e.hasErrorMessage)),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(10,gp,t.lcZ(11,6,e.homeLink))),t.xp6(4),t.hij(" ",t.lcZ(15,8,"lang_auto_quay_lai_trang_chu")," ")}}function fp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-question-standalone-for-step-test",134),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(12);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(12);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(12);return t.KtG(a.setResultTracking(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(12);return t.KtG(a.sendAudioForQuestion(o))})("showHintAnswer",function(){t.CHM(e);const o=t.oxw(12);return t.KtG(o.showHintAnswer())}),t.qZA()}if(2&n){const e=t.oxw(),i=e.$implicit,o=e.index,a=t.oxw(11);let r;t.Q6J("examObj",a.examObj)("questionObj",i)("follower",a.followerRenderQuest)("curQuestionIndex",o)("fontSize",a.fontSize)("isShowExplain",null!==(r=i.isShowHint)&&void 0!==r&&r)("listenFontChanged",a.listenFontChanged.asObservable())("currentAnswerIsCorrect","correct"===i.practiceCheckAnswer)}}function xp(n,s){if(1&n&&(t.TgZ(0,"div",131)(1,"div",132),t.YNc(2,fp,1,8,"azt-question-standalone-for-step-test",133),t.qZA()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw(11);t.xp6(1),t.s9C("id","question_"+i),t.Q6J("hidden",i!=o.curQuestion),t.xp6(1),t.Q6J("ngIf",o.examObj&&e)}}function bp(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-upload-ui",129),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.changesPosImg(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(2,xp,3,3,"div",130),t.BQk()}if(2&n){const e=t.oxw(10);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngForOf",e.questionList)}}const vp=function(n,s){return{"monitor-screen":n,"monitor-screen-mobile":s}};function Tp(n,s){if(1&n&&(t.TgZ(0,"div",117),t._UZ(1,"div",127,128),t.YNc(3,bp,3,5,"ng-container",0),t.qZA()),2&n){const e=t.oxw(9);t.xp6(1),t.Q6J("ngClass",t.WLB(2,vp,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit)}}function wp(n,s){1&n&&t._UZ(0,"lucide-icon",176)}function Sp(n,s){if(1&n&&(t.TgZ(0,"div",174),t._UZ(1,"lucide-icon",139),t.YNc(2,wp,1,0,"lucide-icon",175),t.qZA()),2&n){const e=t.oxw(12);t.xp6(2),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer)}}function Cp(n,s){1&n&&(t.TgZ(0,"div",177),t._UZ(1,"lucide-icon",176),t.qZA())}function kp(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_testbank_frontend_not_correct")+"!"))}function Op(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_well_done")," "))}function Ap(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_pay_more_attention_okay")," "))}function yp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span")(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",178),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(12);return t.KtG(o.nextQuestion(o.curQuestion))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_testbank_frontend_try_again_or_you_can")+" "),t.xp6(3),t.Oqu(t.lcZ(6,4,"lang_testbank_frontend_skip")))}function Ip(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_keep_up_the_good_work_keep_going")," "))}function Zp(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_keep_trying_harder_okay")," "))}function jp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",155)(1,"div",156),t.YNc(2,Sp,3,1,"div",157),t.YNc(3,Cp,2,0,"div",158),t.TgZ(4,"div",159)(5,"div",160),t.YNc(6,kp,3,3,"span",0),t.YNc(7,Op,3,3,"span",0),t.YNc(8,Ap,3,3,"span",0),t.qZA(),t.TgZ(9,"div",161),t.YNc(10,yp,7,6,"span",0),t.YNc(11,Ip,3,3,"span",0),t.YNc(12,Zp,3,3,"span",0),t.qZA()(),t.TgZ(13,"div",162)(14,"button",163),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(11);return t.KtG(o.closeStatusBoxAnswer())}),t.TgZ(15,"span",164),t._UZ(16,"lucide-icon",165),t.qZA()()()(),t.TgZ(17,"div",148)(18,"div",166),t.O4$(),t.TgZ(19,"svg",167)(20,"filter",168),t._UZ(21,"feOffset",169)(22,"feGaussianBlur",170),t.TgZ(23,"feComponentTransfer"),t._UZ(24,"feFuncA",171),t.qZA(),t.TgZ(25,"feMerge"),t._UZ(26,"feMergeNode")(27,"feMergeNode",172),t.qZA()(),t._UZ(28,"polyline",173),t.qZA()()()()}if(2&n){const e=t.oxw(11);t.xp6(2),t.Q6J("ngIf","wrong"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(3),t.Q6J("ngIf","wrong"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&1==e.questionList[e.curQuestion].numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&e.questionList[e.curQuestion].numberOfChecks&&1!=e.questionList[e.curQuestion].numberOfChecks),t.xp6(2),t.Q6J("ngIf","wrong"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&1==e.questionList[e.curQuestion].numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&e.questionList[e.curQuestion].numberOfChecks&&1!=e.questionList[e.curQuestion].numberOfChecks)}}function Mp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",179),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(11);return t.KtG(o.checkAnswerQuestion())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(11);t.Q6J("disabled",!(e.answerList[e.curQuestion]&&e.answerList[e.curQuestion].answerContent)),t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_testbank_check"))}}function qp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",180),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(11);return t.KtG(o.checkAnswerQuestion())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_testbank_try_again")))}function Qp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",181),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(11);return t.KtG(o.nextQuestion(o.curQuestion))}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_testbank_next_question")))}function Ep(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",182),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(11);return t.KtG(o.showResultAnswer())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_testbank_frontend_view_results")))}function Lp(n,s){1&n&&(t.ynx(0),t.TgZ(1,"div",183),t._UZ(2,"div",184)(3,"div",185),t.qZA(),t.BQk())}function Fp(n,s){if(1&n&&(t.TgZ(0,"div",147)(1,"div",148)(2,"div",149),t.YNc(3,jp,29,8,"div",150),t.qZA(),t.YNc(4,Mp,4,4,"button",151),t.YNc(5,qp,4,3,"button",152),t.YNc(6,Qp,4,3,"button",153),t.YNc(7,Ep,4,3,"button",154),t.YNc(8,Lp,4,0,"ng-container",0),t.qZA()()),2&n){const e=t.oxw(10);t.xp6(3),t.Q6J("ngIf",e.isShowBoxStatusAnswer&&("correct"==e.questionList[e.curQuestion].practiceCheckAnswer||"wrong"==e.questionList[e.curQuestion].practiceCheckAnswer)),t.xp6(1),t.Q6J("ngIf",!(e.questionList[e.curQuestion].practiceCheckAnswer&&e.isShowBoxStatusAnswer||"correct"===e.questionList[e.curQuestion].practiceCheckAnswer)),t.xp6(1),t.Q6J("ngIf","wrong"===e.questionList[e.curQuestion].practiceCheckAnswer&&e.isShowBoxStatusAnswer),t.xp6(1),t.Q6J("ngIf","correct"===e.questionList[e.curQuestion].practiceCheckAnswer&&e.curQuestion!==e.questionList.length-1),t.xp6(1),t.Q6J("ngIf","correct"===e.questionList[e.curQuestion].practiceCheckAnswer&&e.curQuestion===e.questionList.length-1),t.xp6(1),t.Q6J("ngIf",e.showAnimationSuccess)}}function zp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",135)(1,"div",136)(2,"button",137),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.resetAnswerQuestion())}),t.TgZ(3,"span",138),t._UZ(4,"lucide-icon",139),t.qZA(),t.TgZ(5,"span",140),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"button",141),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showAnswerDialog())}),t.TgZ(9,"span",142),t._UZ(10,"lucide-icon",143),t.qZA(),t.TgZ(11,"span",22),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",144),t._UZ(15,"list-status-answer",145),t.qZA()(),t.YNc(16,Fp,9,6,"div",146),t.qZA()}if(2&n){const e=t.oxw(9);t.xp6(2),t.Q6J("disabled",!e.checkWrongAnswer||e.curQuestion===e.questionList.length-1),t.xp6(4),t.hij(" ",t.lcZ(7,8,"lang_testbank_start_over")," "),t.xp6(6),t.hij(" ",t.lcZ(13,10,"lang_auto_cau")+" "+(e.curQuestion+1)+"/"+e.questionList.length," "),t.xp6(3),t.Q6J("questionList",e.questionList)("curQuestion",e.curQuestion)("minCurQuestion",e.minCurQuestion)("numberOfShowItem",e.numberOfShowItemListQuestion),t.xp6(1),t.Q6J("ngIf",e.questionList[e.curQuestion])}}function Pp(n,s){if(1&n&&(t.YNc(0,hp,16,12,"div",115),t.YNc(1,Tp,4,5,"div",115),t.YNc(2,zp,17,12,"div",116)),2&n){const e=t.oxw(8);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function Up(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",73),t.YNc(2,np,7,3,"div",74),t.YNc(3,ip,7,3,"div",75),t.YNc(4,ap,2,1,"div",76),t.YNc(5,rp,14,6,"div",77),t.YNc(6,lp,8,3,"div",77),t.YNc(7,up,19,10,"ng-template",78),t.qZA(),t.YNc(8,dp,2,3,"ng-template",78),t.YNc(9,Pp,3,3,"ng-template",78),t.BQk()),2&n){const e=t.oxw(7);t.xp6(2),t.Q6J("ngIf",!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime&&!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",e.unLimitTime&&!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData),t.xp6(1),t.Q6J("ngIf",e.chooseChildData),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData)}}function Dp(n,s){if(1&n&&(t.YNc(0,tp,1,1,"app-exit-exam",71),t.YNc(1,ep,1,1,"app-confirm-exam",71),t.YNc(2,Up,10,8,"ng-container",0)),2&n){const e=t.oxw(6);t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow&&!e.showFormInfo.isShow)}}function Np(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Xd,72,51,"ng-container",16),t.YNc(2,Dp,3,3,"ng-template",null,17,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(5);t.xp6(1),t.Q6J("ngIf",!i.validForTakeTest)("ngIfElse",e)}}function Rp(n,s){if(1&n&&(t.TgZ(0,"p",195),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function Jp(n,s){if(1&n&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,Rp,2,1,"p",194),t.qZA()),2&n){const e=s.$implicit,i=s.index;t.xp6(3),t.AsE("",i+1,". ",e.message,":"),t.xp6(1),t.Q6J("ngForOf",e.data)}}function Yp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",186)(1,"div",187)(2,"h3",188),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",189),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,Jp,5,3,"div",190),t.TgZ(25,"p",191)(26,"button",192),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeBackBtn())}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",193),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.reloadCurrentPage())}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw(5);t.xp6(3),t.Oqu(t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.hij(" ",t.lcZ(10,16,"lang_auto_ma_de_thi")+": "," "),t.xp6(3),t.AsE("",null==e.examObj?null:e.examObj.hashId," - ",null==e.testingResultObj?null:e.testingResultObj.id,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+e.questsLoadState.loadPercent,"%"),t.xp6(3),t.hij(" ",t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": "," "),t.xp6(3),t.hij(" ",e.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",e.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," ")}}function Hp(n,s){if(1&n&&(t.YNc(0,Np,4,2,"ng-container",12),t.YNc(1,Yp,32,28,"ng-template",null,15,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(4);t.Q6J("ngIf",!i.questsLoadState.hasErrs)("ngIfElse",e)}}function Bp(n,s){if(1&n&&(t.YNc(0,Rd,3,4,"ng-container",12),t.YNc(1,Hp,3,2,"ng-template",null,13,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(3);t.Q6J("ngIf",i.questsLoadState.startLoad)("ngIfElse",e)}}function Gp(n,s){if(1&n&&(t._UZ(0,"azt-loading-effect",14),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(3);t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.loadMixedExamProgress+"%")}}function Kp(n,s){if(1&n&&(t.YNc(0,Nd,1,2,"app-upload-image",8),t.YNc(1,Bp,3,2,"ng-template",null,9,t.W1O),t.YNc(3,Gp,2,4,"azt-loading-effect",10)),2&n){const e=t.MAs(2),i=t.oxw(2);t.Q6J("ngIf",i.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",!1)("ngIfElse",e)}}function Wp(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-name",7),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeSubmitName(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.submitNameData)}}function Vp(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.NdJ("resize",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleFullScreenEvent(o))},!1,t.Jf7)("contextmenu",function(){return!1}),t.TgZ(2,"div",2),t.NdJ("resize",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onResize(o))},!1,t.Jf7),t.YNc(3,Pd,1,1,"azt-loading-effect",3),t.YNc(4,Ud,1,1,"app-submit-info",4),t.YNc(5,Dd,1,1,"app-monitor-screen",4),t.YNc(6,Kp,4,3,"ng-template",null,5,t.W1O),t.YNc(8,Wp,1,1,"app-submit-name",4),t.qZA()(),t.BQk()}if(2&n){const e=t.MAs(7),i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",i.showFormInfo.isShow&&i.validForTakeTest),t.xp6(1),t.Q6J("ngIf",i.dataMonitorAuto.isShow&&i.validForTakeTest),t.xp6(3),t.Q6J("ngIf",i.submitNameData.isShow)}}let $p=(()=>{class n extends w.Q{get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}changeSizeImgOrMathJax(e){let i=document.getElementsByClassName("img-docx"),o=document.getElementsByClassName("MJX-TEX");i.length&&Array.from(i).forEach(a=>{if(a instanceof HTMLElement){let r=a.offsetWidth;a.style.width=e?r+10+"px":r-10+"px",a.style.height="auto"}}),o.length&&Array.from(o).forEach(a=>{a instanceof HTMLElement&&(a.style.fontSize=this.fontSize+"em")})}zoomIn(){this.fontSize<2&&(this.fontSize+=.1,this.changeSizeImgOrMathJax(!0),this.listenFontChanged.next())}zoomOut(){this.fontSize>1&&(this.fontSize-=.1,this.changeSizeImgOrMathJax(!1),this.listenFontChanged.next())}getData(){var e=this.browserStorageService.getSimpleStorage("password_"+this.hashId),i=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.waitDestroy(lt.N.production||lt.N.isProdAzotaVn?this.frontExamService.apiFrontExamInitDataGet(this.hashId,this.password,i||""!=this.tempStorageInfo?1:0,this.deviceId,1).subscribe(a=>{const r=this.encryptionHelper.result(a);this.processInitData(r)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,this.password,i||""!=this.tempStorageInfo?1:0,this.deviceId,1).subscribe(a=>{this.processInitData(a)}))}processInitData(e){e&&e.data&&(this.homeworkExamService.allowAnonymousUser(e.data.examObj)?e.data?.hasOwnProperty("errorMessage")&&"lang_core_exam_password_invalid"==e.data?.errorMessage?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(e):this.userService.isAnonymousRoleOfCurrentUser()?(this.hasErrorMessage="lang_auto_yeu_cau_dang_nhap_de_vao_thi",this.stopStatusObj(),this.openSubmitName(!0)):e.data?.hasOwnProperty("errorMessage")&&"lang_core_exam_password_invalid"==e.data?.errorMessage?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(e))}processData(e){if(1==e.success&&e.data){if(this.examObj=e.data?.examObj?{...e.data.examObj,editable:!0,allowStudentView:!0,permissionObj:{}}:void 0,this.termExamResultId=e.data?.testingExamResultObj&&e.data?.testingExamResultObj.id?e.data?.testingExamResultObj.id:0,this.testingResultObj=e.data?.testingExamResultObj,this.userObj=e.data?.studentObj,this.commonService.translateMetaData({title:e.data?.examObj?.name?e.data.examObj.name:"",description:e.data?.examObj?.name?e.data.examObj.name:""}),this.dataProcess=e.data,"lang_core_does_not_owner_exam"==e.data.errorMessage)return this.hasErrorMessage=e.data.errorMessage,void this.showDialogBuyExam(e.data.examObj);if(this.userService.isAnonymousRoleOfCurrentUser())if(this.homeworkExamService.allowAnonymousUser(this.dataProcess?.examObj)){var i=this.userService.getUserObj();this.userService.isAnonymousName(i)?(this.stopStatusObj(),1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo&&(o=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o,!0),this.hasErrorMessage="lang_cms_test_must_submit_info"):this.openSubmitName(!1)):1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo?(o=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e)}else 1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo?(o=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e);else if(this.homeworkExamService.mustInClassroom(this.dataProcess?.examObj))this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(this.dataProcess?.studentObj??{})&&1==this.dataProcess.studentObj?.isVerified?1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo?(o=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e):(this.stopStatusObj(),this.openChooseStudent());else if(1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo){var o;(o=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&o.length>0&&""!=o?(this.openShowInfo(o),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData())}else this.fillData(e)}else this.showErrorSnack(e.message??"")}changeQuestionContent(e){for(var i=[],o=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("limitAudioV6_"+this.examObj?.id+"_"+this.testingResultObj?.id)??""),a=0;a<e.length;a++){let l=e[a];if(l){if(this.answerTypeService.isEssayAnswer(e[a])&&(l.essayText=""),this.answerTypeService.isFillAnswer(e[a])&&(l.essayText=""),(this.examObj?.limitAudio??-1)>0)if(o){var r=o.filter(_=>_.questionId==e[a].id);r&&r.length>0&&(l.limitAudio=r[0].limitTimes+r[0].limitPlay,l.limitPlay=0)}else l.attachments&&l.attachments.length>0&&(l.limitAudio=0,l.limitPlay=0);l={...l,index:a,status:!1},i.push(l)}}return(this.examObj?.limitAudio??-1)>0?this.addAudioObjsToQuestion(i):i}addAudioObjsToQuestion(e){var i=[];return e.forEach(o=>{if(o.attachments&&o.attachments.length>0){o.audioLimitObjs=[];let r=(this.examObj?.limitAudio??0)-(o.limitAudio??0);if(r>0)for(var a=0;a<r;a++)o.audioLimitObjs.push({index:a,status:!0})}i.push(o)}),i}sendAudioForQuestion(e){for(var i=0;i<this.questionList.length;i++)this.questionList[i].id==e.obj?.id&&(1==e.play?this.questionList[i].limitPlay=(this.questionList[i].limitPlay??0)+1:(this.questionList[i].limitPlay=(this.questionList[i].limitPlay??0)-1,this.questionList[i].limitAudio=(this.questionList[i].limitAudio??0)+1,this.questionList[i].audioLimitObjs?.forEach(o=>{o.index==e.index&&(o.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e=[];this.questionList.forEach(i=>{i.attachments&&i.attachments.length>0&&e.push({questionId:i.id,limitTimes:i.limitAudio,limitPlay:i.limitPlay})}),e.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.examObj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV6_"+this.examObj?.id+"_"+this.testingResultObj?.id,JSON.stringify(e)))}compareContentPDF(e,i){return e.content==i.content}showDialogBuyExam(e){this.sAztDialogService.open(be.X,{data:{examObj:e},width:"550px",hasBackdrop:!1}).afterClosed().subscribe(a=>{a||this.myNavigation(`/de-thi/${e.hashId}`)})}fillData(e){this.checkResultTracking(),this.userObj=this.homeworkExamService.mustInClassroom(this.examObj)?e.data?.studentObj??this.userService.getUserObj():this.userService.getUserObj(),this.totalTime=e.data?.countDownSecond??0,this.startTestTime=e.data?.startServerSecond??0;var i=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id)??"");if(this.hashIdUpdate=e.data?.hashCodeUpload??"",this.sendHashIdUpdate(this.hashIdUpdate),e.data?.hasOwnProperty("errorMessage")&&e.data.errorMessage)this.hasErrorMessage=e.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password?(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)):"lang_core_does_not_owner_exam"==this.hasErrorMessage&&this.showDialogBuyExam(e.data.examObj),this.stopStatusObj();else{this.hasErrorMessage="",(e.data?.examObj?.minutes??-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((e.data?.countDownSecond??1)<=0&&!this.unLimitTime);let o=this.commonService.castJsonToClassObjs(At.v,JSON.stringify(e.data?.questionObjs)),a=this.changeQuestionContent(o??[]);this.syncData&&this.syncData.updatedAt?null==i?(this.answerList=null!=this.syncData.answers?this.syncData.answers:[],this.files=this.commonService.myParseJson(this.syncData.files??"")??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList)):new Date(this.syncData.updatedAt).getTime()<i.saveTime?(this.answerList=i.answers,this.noteList=i.notes,this.files=this.commonService.myParseJson(i.files)??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList)):(this.answerList=this.syncData.answers,this.files=this.commonService.myParseJson(this.syncData.files)??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList)):i&&(this.answerList=i.answers,this.noteList=i.notes,this.files=this.commonService.myParseJson(i.files)??[],a=this.sAztTestQuestionService.reBindDataQuestion(a,this.answerList)),this.curQuestion=this.answerList?.length?this.answerList?.length-1:0,this.followerRenderQuest.setNumQuest(a.length),this.stopStatusObj(),this.questsLoadState.startLoad=!0,this.questionRenderService.parseRenderQuestions(a,r=>{this.questsLoadState.loadPercent=Math.floor(r)}).then(r=>{this.questionList=r,this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.listEssayQuestionIds=this.foundEssayQuestions(),this.countEssayQuestion=this.listEssayQuestionIds.length,this.hasEssayQuestion=!!this.countEssayQuestion,this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer(),this.setTimeAutoSync()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.getQuestionCanFeedback(),this.setTimeClient(),this.reloadGetAnswerQuestion();let l=0,_=0;this.questionList.forEach((m,g)=>{m.labelIndex=g,e.data?.examConfigObj?.resetQuestionIndex&&m.groupInfo&&m.groupInfo.groupId&&(l!=m.groupInfo.groupId&&(l=m.groupInfo.groupId,_=0),m.labelIndex=_,_++)},this.questionList)}).catch(r=>{this.showErrorSnack(e.message),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=r,this.stopStatusObj()})}}getQuestionCanFeedback(){if(Array.isArray(this.questionList)){let e=[];this.questionList.forEach(i=>{i.id&&!this.commonService.isExistInArray(e,i.id)&&e.push(i.id)}),this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(this.examObj?.id,e.join(",")).subscribe(i=>{if(1==i.success){let o=i.data?.objs??[];if(Array.isArray(this.questionList))for(let a=0;a<this.questionList.length;a++)o.forEach(r=>{this.questionList&&this.questionList[a].id==r.questionId&&(this.questionList[a].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}else this.stopStatusObj()}reloadCurrentPage(){location.reload()}takeAnswerForQuestion(e,i){i.forEach(o=>{e?.forEach(a=>{if(a.questionId==o.id)if(this.answerTypeService.isFillAnswer(o)||this.answerTypeService.isEssayAnswer(o))o.choseAnswer=[a.answerContent[0].content];else if((this.answerTypeService.isOneChoiceAnswer(o)||this.answerTypeService.isMultipleChoiceAnswer(o))&&o.answers)o.choseAnswer=[(o.answers[r=a.answerContent[0].index].alpha?o.answers[r].alpha:o.answers[r].key)??""];else if(this.answerTypeService.isTrueFalseAnswer(o)){var r=a.answerContent[0].index;let _=this.commonService.myTranslateInstant("T"==a.answerContent[0].status?"lang_auto_dung":"lang_auto_sai");o.choseAnswer?.push((o.answers[r].alpha?o.answers[r].alpha:o.answers[r].key)?.toLowerCase()+") - "+(_??""))}})})}selectStudentEvent(e){this.getData(),this.chooseChildData=!1}openChooseStudent(){this.chooseChildData=!0}setTimeExam(){if((this.examObj?.minutes??-1)>0){var e="exam",i=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(i==this.globalService.getGlobalInterval(e)){const o=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),l=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(i??0,e)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==o&&0==r?{hour:o,minute:r,second:l,almostEnd:!0}:{hour:o,minute:r,second:l,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(o){console.log(o)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var e="examServerTime",i=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.waitDestroy(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(o=>{1==o.success&&(this.totalTime=this.startTestTime+60*(this.examObj?.minutes??0)-(o.data?.curServerTime??0),this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(i??0,e)),clearInterval(this.intervalGetTimeServer)))})):clearInterval(this.intervalGetTimeServer)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,i){return Math.floor(Math.random()*(i-e+1)+e)}setTimeAutoSync(){var e="autoSyncDataTimeCount",i=this.globalService.plusGlobalInterval(e);this.intervalSyncData=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)&&this.validForTakeTest||clearInterval(this.intervalSyncData)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(120,180)),this.globalService.pushIntervalObjs(this.intervalSyncData)}setTimeAutoSubmit(e,i){var o=this.totalTime+90,a="autoSubmitTimeCount",r=this.globalService.plusGlobalInterval(a);this.intervalAutoSubmit=window.setInterval(()=>{try{if(r!=this.globalService.getGlobalInterval(a)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const l=Math.floor(o/3600),m=Math.floor(o%3600/60),g=o%60;o<=0?(this.timeCount={hour:0,minute:0,second:0},(r==this.globalService.getGlobalInterval(a)||e==this.globalService.getGlobalInterval(i))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:l,minute:m,second:g},o-=1}}catch(l){console.log(l)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",i=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setAnswerTrueFalse(e){var i=this.answerList?.filter(_=>_.questionId==e.id);if(this.isShowBoxStatusAnswer=!1,e.answerConfig&&null!=e.index&&1==e.type){var o={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(i&&i.length>0)for(var a=0;a<this.answerList?.length;a++){let _=!1;for(let g=0;g<this.answerList[a].answerContent.length;g++)if(this.answerList[a].answerContent[g].content===o.answerContent[0].content){_=!0;break}this.answerList[a].questionId==o.questionId&&!_&&this.answerList[a].answerContent.push(o.answerContent[0]);let m=this.answerList[a].answerContent.findIndex(g=>g.index===o.answerContent[0].index);this.answerList[a].questionId==o.questionId&&_&&this.answerList[a].answerContent.splice(m,1)}else this.answerList?.push(o);this.changeStatusAnswer(o,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var r={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(i&&i.length>0)for(a=0;a<this.answerList?.length;a++)this.answerList[a].questionId==r.questionId&&(this.answerList[a].answerContent=r.answerContent);else this.answerList?.push(r);this.changeStatusAnswer(r,e.index,!1,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&5==e.type){var l={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??"",status:e.answerConfig.status}]};if(i&&i.length>0){for(a=0;a<this.answerList.length;a++)if(this.answerList[a].questionId==l.questionId){let m=!1;this.answerList[a].answerContent.forEach(g=>{g.index==l.answerContent[0].index&&g.content==l.answerContent[0].content&&(g.status=l.answerContent[0].status,m=!0)}),m||this.answerList[a].answerContent.push(l.answerContent[0])}}else this.answerList.push(l);this.changeStatusAnswer(l,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id)}setAnswerEssay(e){var i=!0;this.isShowBoxStatusAnswer=!1;var o=this.answerList?.filter(f=>f.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(e.event.target instanceof HTMLTextAreaElement&&null!=e.event.target.value){var a={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value.trim()}]};if(o&&o.length>0){for(var r=0;r<this.answerList?.length;r++)if(this.answerList[r].questionId==a.questionId){for(var l=0;l<this.answerList[r].answerContent.length;l++)this.answerList[r].answerContent[l].index==a.answerContent[0].index&&(this.answerList[r].answerContent[l].content=a.answerContent[0].content);var _=this.answerList[r].answerContent.filter(f=>f.index==a.answerContent[0].index);_&&0==_.length&&this.answerList[r].answerContent.push(a.answerContent[0])}}else this.answerList?.push(a);if(""==e.event.target.value.trim()){i=!1;var m=this.answerList?.filter(f=>f.questionId==e.id);if(m&&1==m.length){var g=this.answerList?.indexOf(m[0]);this.answerList?.splice(g,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else i=!1;i&&(this.changeStatusQuestion(e.id),this.changeEssayTextQuestion(e))}changeEssayTextQuestion(e){for(let i=0;i<this.questionList.length;i++)this.questionList[i].id==e.id&&e.event?.target instanceof HTMLTextAreaElement&&(this.questionList[i].essayText=e.event?.target.value.trim())}setResultTracking(e){this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.examObj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var i=0;i<this.questionList.length;i++)this.questionList[i].id==e&&(this.questionList[i].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,i,o,a,r){if(o)try{const l=this.answerList?.filter(_=>_.questionId==r.id);this.questionList.forEach(_=>{if(_.id==e.questionId){if(_.answers&&_.answers.length>0)for(var m=0;m<_.answers.length;m++)_.answers[m].checked=!1;l[0].answerContent.forEach(g=>{_.answers&&_.answers.length>0&&(_.answers[g.index].checked=!0)})}})}catch(l){console.log(l)}else try{this.questionList.forEach(l=>{if(l.id==e.questionId){let m=this.commonService.myTranslateInstant("lang_auto_cau"),g=this.commonService.myTranslateInstant("lang_auto_chon"),f=this.commonService.myTranslateInstant("lang_auto_dung"),b=this.commonService.myTranslateInstant("lang_auto_sai");if(l.answers&&l.answers.length>0){if(this.answerTypeService.isTrueFalseAnswer(l)){let v="T"==r.answerConfig?.status;l.answers[i].checked=l.answers[i].checked!=v?v:void 0}else{for(var _=0;_<l.answers.length;_++)l.answers[_].checked=!1;l.answers[i].checked=!0}this.isMobile&&r.answerConfig&&this.commonService.snackChoiceAnswer(m+" "+((l.index??0)+(this.examObj?.startQuestionIndex??1))+" - "+g+" "+(r.answerConfig.alpha?r.answerConfig.alpha:r.answerConfig.key)+(r.answerConfig.status?" - "+("T"==r.answerConfig.status?f:b):""))}}})}catch(l){console.log(l)}}saveToStorage(e,i,o){try{var a={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.examObj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},r=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId),l={answers:e,notes:i,files:JSON.stringify(o),infors:r,trackInfos:JSON.stringify(a),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.examObj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id,JSON.stringify(l))}catch{}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}visibilitychange(){"visible"!==document.visibilityState?(this.visiblePage=!1,setTimeout(()=>{if(!this.visiblePage&&!this.onShowUpload&&this.examObj?.autoMonitor&&0!=this.examObj?.autoMonitor&&this.startedTimeSecond>0)if(!this.clickedFromIframe&&this.acceptSendTrack){var e={examId:this.examObj?.id??0,name:"blur_window",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(e).subscribe(i=>{1==i.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}else this.clickedFromIframe=!1},5e3)):this.visiblePage=!0}handleFullScreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.examObj?.autoMonitor&&0!=this.examObj?.autoMonitor&&this.startedTimeSecond>0)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var i={examId:this.examObj?.id??0,name:"exit_full_screen",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(i).subscribe(a=>{1==a.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}goBackFullScreen(){const e=document.documentElement;let i=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;i&&i.call(e),this.checkFullscreen=!0}exitFullscreen(){try{const e=document;if(window.innerHeight==screen.height){let i=e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen;i&&i.call(e)}this.checkFullscreen=!1}catch{}}removeNullContent(e){var i=[];return e.forEach(o=>{o.content&&i.push(o)}),i}removeImg(e){var i=this.files.filter(o=>o.url!==e);this.files=i,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}updateFileUploadMobile(){return new Promise(e=>{let i={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(i).subscribe(o=>{1==o.success&&e(!0)})})}calcRight(){var e=0,i=window.outerWidth,o=document.getElementById("container-content")?.offsetWidth;return o&&(e=(i-o)/2),e}checkWitdh(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target instanceof Window&&e.target.innerWidth<1200,this.calcRight()}resizeImg(e,i,o){var a=document.getElementById("media_content_"+e),r=a?.offsetWidth??0;return a?r/i<=1?Math.round(o*(r/i)):Math.round(o):0}resizeImgAll(e,i,o){var a=document.getElementById("media_content_all_"+e),r=a?.offsetWidth??0;return a?r/i<=1?Math.round(o*(r/i)):Math.round(o):0}autoResize(e,i){if(1==i){const o=document.getElementById("note_box_"+e);o&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0)}else{const o=document.getElementById("note_box_all_"+e);o&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0)}}foundEssayQuestions(){let e=[];var i=this.questionList.filter(o=>this.answerTypeService.isEssayAnswer(o));return i&&i.length>0?(this.checkEssayPopup&&this.openEssayDialog(),i.forEach(o=>{o.id&&e.push(o.id)})):this.examObj?.autoMonitor&&0!=this.examObj?.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),e}checkScrollToShowTopBar(){return!!(window.scrollY&&window.scrollY>50)}isEmpty(e){for(var i in e)if(e.hasOwnProperty(i))return!1;return!0}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}isConfirmToContinue(e){this.quitTestData={id:0,time:0,isShow:!1},e?this.showResultAnswer():this.goBackToExamDetails()}goBackToExamDetails(){this.commonService.myNavigation("/de-thi/"+this.examObj?.hashId)}openSubmitName(e,i,o,a){this.submitNameData=!e&&i&&o?{needPassword:o,isShow:!0,examId:this.examObj?.id,hashId:i,errorMessage:a||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&(this.getData(),this.submitNameData={isShow:!1})}openShowInfo(e,i){this.showFormInfo={infoFields:e,examId:this.examObj?.id,hashId:this.examObj?.hashId,isAnonymousName:i,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}closeAutoMonitor(e){if(e){if(this.dataMonitorAuto={isShow:!1},!this.isMobile){const r=document.documentElement;let l=r.requestFullscreen||r.webkitRequestFullscreen||r.mozRequestFullscreen||r.msRequestFullscreen;l&&l.call(r)}if(this.startedTimeSecond=Math.floor(Date.now()/1e3),this.examObj?.autoMonitor&&3==this.examObj.autoMonitor){if(this.isAfterChooseStudent){var i=this.userService.getUserObj(),o=this.userObj,a={};a[o?.id??0]=i?.id?.toString()+"_"+this.encryptService.createMd5((o?.id??0).toString()+i?.id?.toString()).substring(6,9),this.fireStoreService.examSessions_writeUserMap(this.examObj.hashId??"",a).subscribe(r=>{console.log("writeFirestore - success"+JSON.stringify(r))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1,this.examObj?.autoMonitor&&0!=this.examObj.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0))}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,i,o){if(!this.quitTestData.isShow){let a=this.answerList?.filter(r=>!this.commonService.isExistInArray(this.listEssayQuestionIds,r.questionId));this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:i,saveFalse:o,totalTrueFalseLeft:this.countQuestion-this.countEssayQuestion-a.length}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:i,saveFalse:o,totalTrueFalseLeft:this.countQuestion-a.length-(this.hasEssayQuestion?this.countEssayQuestion:0)}}}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(e.isAutoSubmit??!1)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.examObj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.examObj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.examObj?.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1),setTimeout(()=>{let i=document.getElementById("bottom_action"),o=document.getElementById("time_client"),a=i?.offsetHeight;o&&a&&(o.style.bottom=a+"px")},100)}conFirmUpload(e){var i=document.getElementById("monitorScreenTakeTest");e&&e?.isConfirm?(this.files=e.uploadFiles??[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.examObj?.autoMonitor&&0!=this.examObj.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.examObj?.autoMonitor&&0!=this.examObj.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),i&&(i.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile={...e.file,index:e.index}}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}sendHashIdUpdate(e){e&&this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(i=>{if(1==i.success&&this.commonService.isJson(i.data?.tmpObj?.files??"")){var o=this.commonService.willDeleteParseJson(i.data?.tmpObj?.files??"");o.isNotNoti=!0,this.addFileMobileUpload({files:o})}})}addFileMobileUpload(e){this.files=e.files??[],this.uploadImageData={id:this.examObj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj();var i=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId);let o=JSON.stringify({type:"exam",id:this.examObj?.id,user:this.examObj?.tenantId});var a={autoSubmit:e,serverCountDown:this.totalTime,examMinutes:this.examObj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let r={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:i,trackInfos:JSON.stringify(a),saveTime:0,id:this.termExamResultId};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(r),o,this.hashId).subscribe(l=>{1==l.success?(this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.examObj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.examObj?.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.examObj?.hashId+"_"+l.data?.id,JSON.stringify(l.data)),this.localStorageObject.clearAllCache(),this.exitFullscreen(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+l.data?.id,"?backto="+encodeURIComponent(this.backToLink))):(this.errorStatusObj(l.message??"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=l.message,setTimeout(()=>{this.checkSubmit=!1},5e3))}))}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),i=0;i<e.length;i++)clearInterval(e[i]);this.globalService.emptyIntervalObjs()}changeShowType(){this.showUnit=!0,this.showList=!1,setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}showSheet(e){e?this.changeShowType():this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let i=document.getElementById("bottom_action"),o=document.getElementById("time_client"),a=i?.offsetHeight;o&&a&&(o.style.bottom=a+"px")},100)}askBeforeCloseWindow(e){if(!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}prevQuestion(e){var i=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e-1));o&&i&&typeof o.getAttribute("hidden")<"u"&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){if(this.curQuestion!==this.questionList.length-1){this.showAnimationSuccess=!1;var i=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e+1));o&&i&&typeof o.getAttribute("hidden")<"u"&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1,this.minCurQuestion=Math.floor(this.curQuestion/this.numberOfShowItemListQuestion)*this.numberOfShowItemListQuestion)}else this.showResultAnswer()}goToQuestion(e){var i=document.getElementById("question_"+String(this.curQuestion)),o=document.getElementById("question_"+String(e));o&&i&&typeof o.getAttribute("hidden")<"u"&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e)}goToQuestionAll(e){var i=document.getElementById("question_all_"+e);i?.scrollIntoView()}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id);e&&(this.resultTracks=this.commonService.willDeleteParseJson(e))}openVideoMonitor(){this.sAztShowMonitorService.monitorAtTestPage({roomId:this.hashId,examConfig:this.examObj,examId:this.examObj?.id,resultId:this.testingResultObj?.id,userList:[]},this.userObj,e=>{e&&(this.hasVideoMonitor=!0)})}makeDeviceId(e=10){for(var i="",r=0;r<e;r++)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return i}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}checkAnswerQuestion(e){let i=this.questionList[this.curQuestion],o={questionId:this.questionList[this.curQuestion].id,answerContent:[{index:999,content:""}]};this.subscription.add(this.frontExamResultService.apiFrontExamResultSaveQuestionResultEncryptPost(this.encryptionHelper.payload({examResultId:this.termExamResultId,answer:e?o:this.answerList[this.curQuestion]??o}),this.hashId).subscribe(r=>{if(r.success){let l=r.data;this.isShowBoxStatusAnswer=!0,i.numberOfChecks=i.numberOfChecks?i.numberOfChecks+1:1,e?this.checkWrongAnswer=!0:(i.practiceCheckAnswer=l?.correct?"correct":"wrong",this.checkWrongAnswer||(this.checkWrongAnswer="wrong"===i.practiceCheckAnswer),"correct"===i.practiceCheckAnswer&&(1===i.numberOfChecks&&this.audioSuccess.play(),this.showAnimationSuccess=!0))}else this.errorStatusObj(r.message??"",!0)}))}resetAnswerQuestion(){const i={content:this.commonService.myTranslateInstant("lang_testbank_when_confirming_the_system_will_reset_all_the_answers_you_have_chosen")+"!"};this.sAztDialogService.open(Ym,{data:i,width:"500px"}).afterClosed().subscribe(a=>{a&&this.subscription.add(this.frontExamService.apiFrontExamResetExamResultGet(this.hashId,this.termExamResultId).subscribe(r=>{if(1===r.success){const l=this.encryptionHelper.result(r);l&&(this.clearAllInterval(),this.totalTime=l.data?.countDownSecond??0,this.startTestTime=l.data?.startServerSecond??0,this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer(),this.setTimeAutoSync()):this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam"),this.setTimeClient()),this.answerList=[],this.questionList.forEach(_=>{if(_.answers&&_.answers.length>0)for(var m=0;m<_.answers.length;m++)_.answers[m].checked=!1;_.essayText="",_.practiceCheckAnswer=void 0,_.numberOfChecks=0,_.isShowHint=!1}),this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.examObj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.examObj?.hashId),this.curQuestion=0,this.minCurQuestion=0,this.checkWrongAnswer=!1}else this.errorStatusObj(r.message??"",!0)}))})}reloadGetAnswerQuestion(){this.subscription.add(this.frontExamService.apiFrontExamReloadExamResultGet(this.hashId).subscribe(e=>{1===e.success?((this.encryptionHelper.result(e)?.data?.questions??[]).forEach(a=>{if(1==a.answered){const r=this.questionList.findIndex(l=>l.id==a.id);r<this.questionList.length&&this.questionList[r]&&(this.questionList[r].practiceCheckAnswer=a.correct?"correct":"wrong",this.questionList[r].numberOfChecks=a.correct?1:2,this.curQuestion=r<this.questionList.length-1?r+1:r,this.checkWrongAnswer||(this.checkWrongAnswer="wrong"===this.questionList[r].practiceCheckAnswer))}}),this.curQuestion>0&&(this.minCurQuestion=Math.floor(this.curQuestion/this.numberOfShowItemListQuestion)*this.numberOfShowItemListQuestion)):this.errorStatusObj(e.message??"",!0)}))}showAnswerDialog(){this.sAztDialogService.open(Vm,{data:{questionList:this.questionList},width:"800px"})}showHintAnswer(){this.questionList[this.curQuestion].isShowHint=!0,"correct"!==this.questionList[this.curQuestion].practiceCheckAnswer&&this.checkAnswerQuestion(!0)}showResultAnswer(){this.subscription.add(this.frontExamService.apiFrontExamFinishExamResultGet(this.hashId,this.termExamResultId).subscribe(e=>{if(e.success){if(e.data?.status){try{this.localStorageObject.clearAllCache(),this.exitFullscreen()}catch{}this.myNavigation(`/test/submit-test/${this.tenantId}/${this.curCateId}/${this.hashId}/${this.termExamResultId}`)}}else this.errorStatusObj(e.message??"",!0),this.myNavigation(`/de-thi/${this.hashId}`)}))}closeStatusBoxAnswer(){this.isShowBoxStatusAnswer=!1}constructor(e,i,o,a,r,l,_,m,g,f,b,v,L,J,B,V,K,mt,Tt,rt){super(),this.activeRoute=e,this.userService=i,this.mixService=o,this.localStorageObject=a,this.fireStoreService=r,this.encryptService=l,this.timeService=_,this.browserStorageService=m,this.frontExamTrackService=g,this.globalService=f,this.frontExamResultService=b,this.frontExamService=v,this.frontExamResultUploadService=L,this.sAztDialogService=J,this.answerTypeService=B,this.homeworkExamService=V,this.questionRenderService=K,this.testMarketFeedbackService=mt,this.encryptionHelper=Tt,this.sAztShowMonitorService=rt,this.listenFontChanged=new jt.x,this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.intervalSyncData=0,this.intervalNextQuestion=0,this.fontSize=1,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.nextQuestionTimeout=3,this.termExamResultId=0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.followerRenderQuest=new ct.p,this.countQuestion=0,this.countEssayQuestion=0,this.listEssayQuestionIds=[],this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={answers:[],files:"",infors:"",updatedAt:"",resultTrack:""},this.hasMonitorScreen=!1,this.chooseChildData=!1,this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.hasVideoMonitor=!1,this.acceptSendTrack=!0,this.subscription=new Me.w0,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.visiblePage=!1,this.isShowPreviewFile=!1,this.previewFile={},this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument={...document},this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.curQuestion=0,this.minCurQuestion=0,this.numberOfShowItemListQuestion=15,this.showList=!1,this.showUnit=!0,this.isShowSheet=!1,this.widthGameBar=300,this.checkFullscreen=!1,this.audioSuccess=new Audio("/assets/audio/correct.mp3"),this.checkWrongAnswer=!1,this.isShowBoxStatusAnswer=!1,this.showAnimationSuccess=!1,this.startNextQuestion=!1,this.sAztTestQuestionService=new zt(this.commonService,this.answerTypeService,this.browserStorageService)}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.checkWitdh(),this.browserName=this.detectBrowserName(),this.waitDestroy((0,A.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),o=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString(),a=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=i,this.hashId=o||"",this.tenantId=a,this.homeLink="/student/classroom/0",this.getDeviceId(),this.initStatusObj(),this.getData()})),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{this.widthGameBar=this.myListQuestionBar?.nativeElement.offsetWidth;let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient),this.intervalSyncData&&clearInterval(this.intervalSyncData),this.intervalNextQuestion&&clearInterval(this.intervalNextQuestion);for(var i=this.globalService.getIntervalObjs(),o=0;o<i.length;o++)clearInterval(i[o]);this.globalService.emptyIntervalObjs(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.sAztDialogService.closeAll(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(et.U),t.Y36(Nt),t.Y36(Rt.y),t.Y36(We.j),t.Y36(Ve.j),t.Y36(_t.D),t.Y36(bt.n),t.Y36(j.FQ),t.Y36(It.q),t.Y36(j.CA),t.Y36(j.Tg),t.Y36(j.vO),t.Y36(Ct.C),t.Y36(ht.i),t.Y36(gt.v),t.Y36(Zt.h),t.Y36(yt.nC),t.Y36(Te),t.Y36(Ot.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-take-training"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Fd,5,kt),t.Gf(zd,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.modalSaveImageUpload=o.first),t.iGM(o=t.CRH())&&(i.myListQuestionBar=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("visibilitychange",function(a){return i.visibilitychange(a)},!1,t.evT)("beforeunload",function(a){return i.askBeforeCloseWindow(a)},!1,t.Jf7)},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"p-0",3,"resize","contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px",3,"resize"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],["doneLoading",""],[3,"currentStatusObj"],[3,"data","closeDialog"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"currentStatusObj","customText",4,"ngIf","ngIfElse"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],[4,"ngIf","ngIfElse"],["lstQuestDoneLoad",""],[3,"currentStatusObj","customText"],["lstQuestHasErr",""],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],[2,"padding-bottom","50px"],[1,"box","p-5","margin-question-bar","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],["class","mt-3 text-danger font-medium",4,"ngIf"],[1,"mt-3","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-training-8-UXODsOb",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],["azt-track-service","take-training-Mmo8VeX0qy",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[3,"label"],["class","intro-x mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mt-2","flex","justify-center",2,"margin-bottom","100px"],["azt-track-service","take-training-CoksciI7f6",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-training-ou7A_omX1d",1,"btn","btn-sm","btn-primary",3,"click"],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[1,"ng-binding"],[1,"mt-3","text-danger","font-medium"],[1,"intro-x","mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","listenFontChanged",4,"ngIf"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","listenFontChanged"],["class","text-center mt-1 mb-2",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","removeFile"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-training-49LgiSNfAl",1,"btn","btn-sm","btn-primary",3,"click"],[1,"h6","mb-2","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],[1,"box","flex","items-center","p-3","z-50","fixed","top-0","left-0","w-full"],["class","-intro-x mr-2",4,"ngIf"],["class","-intro-x",4,"ngIf"],["class","intro-x relative mx-auto",4,"ngIf"],["class","intro-x mr-6",4,"ngIf"],[3,"ngIf"],[1,"-intro-x","mr-2"],["azt-track-service","take-training-OtQzLov1Tc",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"w-4","h-4","text-danger"],["name","power"],[1,"azt-hidden","md:inline-block","ml-2"],[1,"-intro-x"],["azt-track-service","take-training-72mkB_XJKQ",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[2,"vertical-align","middle"],[1,"intro-x","relative","mx-auto"],["class","text-md font-medium azt-hidden md:block",4,"ngIf"],[1,"text-md","font-medium","azt-hidden","md:block"],[1,"intro-x","mr-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["points","12 6 12 12 16 14"],[1,"text-md",3,"ngClass"],[1,"text-md"],[1,"intro-x","flex","items-center","dropdown","mr-3"],["azt-track-service","take-training-CokO8cy8Hr",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-out"],["cx","11","cy","11","r","8"],["x1","21","x2","16.65","y1","21","y2","16.65"],["x1","8","x2","14","y1","11","y2","11"],["azt-track-service","take-training-ArV1Ilg7oH",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-in"],["x1","11","x2","11","y1","8","y2","14"],["azt-track-service","take-training-nwvXJ2RFy5","class","btn btn-sm btn-secondary",3,"matTooltip","click",4,"ngIf"],["azt-track-service","take-training-YoGANECQAZ","class","btn btn-sm btn-secondary",3,"matTooltip","click",4,"ngIf"],["azt-track-service","take-training-nwvXJ2RFy5",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],[1,"w-4","h-4"],["name","maximize"],["azt-track-service","take-training-YoGANECQAZ",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["name","minimize"],[2,"margin-top","100px"],[3,"joinClassroomByType","selectStudentEvent"],["class","margin-question-bar pb-4",4,"ngIf"],["class","box z-50 rounded-0 fixed flex items-center bottom-0 left-0 p-3 w-full",4,"ngIf"],[1,"margin-question-bar","pb-4"],[1,"mx-auto","p-3"],[1,"text-danger"],[1,"w-10","h-10","mx-auto"],["name","alert-circle"],[1,"font-medium","text-center","mt-3"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-training-GDMMcq3z8_",1,"btn","btn-outline-primary","btn-transparent",3,"routerLink"],[1,"w-4","h-4","mr-2","inline-block"],["name","chevron-left"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","removeFile"],["class","intro-x mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"intro-x","mt-4",2,"animation-delay","0.05s"],[1,"azt-question","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","isShowExplain","listenFontChanged","currentAnswerIsCorrect","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","sendAudioEmit","showHintAnswer",4,"ngIf"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","isShowExplain","listenFontChanged","currentAnswerIsCorrect","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","sendAudioEmit","showHintAnswer"],[1,"box","z-50","rounded-0","fixed","flex","items-center","bottom-0","left-0","p-3","w-full"],[1,"flex","items-center","mr-auto"],["azt-track-service","take-training-q7-dI4je6b",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"disabled","click"],[1,"w-5","h-5"],["name","rotate-ccw"],[1,"azt-hidden","md:block","ml-2"],["azt-track-service","take-training-QglPB2g4wq",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"click"],[1,"w-5","h-5","mr-2"],["name","clipboard-list"],[1,"list-status-answer"],[3,"questionList","curQuestion","minCurQuestion","numberOfShowItem"],["class","ml-auto",4,"ngIf"],[1,"ml-auto"],[1,"relative"],[1,"box-status"],["class","box box-status-answer absolute p-3",4,"ngIf"],["azt-track-service","take-training-zEj6yaD0WTz","class","btn btn-primary w-32",3,"disabled","click",4,"ngIf"],["azt-track-service","take-training-Vy9M0G9VK1u","class","btn btn-primary w-32",3,"click",4,"ngIf"],["azt-track-service","take-training-EtpBWukccKO","class","btn btn-primary w-48",3,"click",4,"ngIf"],["azt-track-service","take-training-PRUwOLvClZ_","class","btn btn-primary w-32",3,"click",4,"ngIf"],[1,"box","box-status-answer","absolute","p-3"],[1,"flex","items-center","relative"],["class","w-10 h-10 text-primary",4,"ngIf"],["class","w-10 h-10 text-pending",4,"ngIf"],[1,"ml-3"],[1,"font-medium","text-lg"],[1,"mt-0.5"],[1,"absolute",2,"top","-8px","right","-8px"],["azt-track-service","take-training-7mWj7MPCixD",1,"btn","btn-sm","btn-outline-danger","btn-transparent",3,"click"],[1,"w-4","h-4","inline-block"],["name","x"],[1,"absolute","icon-triangle"],["width","20","height","12",1,"_10uuq40"],["id","uid-feedback-popover-21-dropshadow","height","150%"],["dx","0","dy","1","result","offsetblur"],["in","SourceAlpha","stdDeviation","2"],["type","linear","slope","0.1"],["in","SourceGraphic"],["fill","white","points","0,0 10,12 20,0","stroke","rgba(0, 0, 0, 0.1)","filter","url(#uid-feedback-popover-21-dropshadow"],[1,"w-10","h-10","text-primary"],["name","star",4,"ngIf"],["name","star"],[1,"w-10","h-10","text-pending"],["azt-track-service","take-training-CInmJPjmtb",1,"btn-text-primary","font-medium",3,"click"],["azt-track-service","take-training-zEj6yaD0WTz",1,"btn","btn-primary","w-32",3,"disabled","click"],["azt-track-service","take-training-Vy9M0G9VK1u",1,"btn","btn-primary","w-32",3,"click"],["azt-track-service","take-training-EtpBWukccKO",1,"btn","btn-primary","w-48",3,"click"],["azt-track-service","take-training-PRUwOLvClZ_",1,"btn","btn-primary","w-32",3,"click"],[1,"pyro"],[1,"before"],[1,"after"],[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-training-JOSMgOOwgss",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-training-4dSmjc3xbmh",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"]],template:function(e,i){1&e&&t.YNc(0,Vp,9,5,"ng-container",0),2&e&&t.Q6J("ngIf","lang_core_does_not_owner_exam"!=i.hasErrorMessage)},dependencies:[d.rH,p.mk,p.sg,p.O5,ut.Hw,nt.uX,nt.SP,W.gM,H.l,Jt,ld,gd,Bt.P,q.Nh5,de,pe,he,kt,fe,$e,Ld,h.Jy,h.JV,h.$n],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(6rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:70px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}.box-status-answer[_ngcontent-%COMP%]{width:280px;top:-110px;right:50px}.icon-triangle[_ngcontent-%COMP%]{top:7px;right:55px}@keyframes _ngcontent-%COMP%_timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.pyro[_ngcontent-%COMP%] > .before[_ngcontent-%COMP%], .pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{position:absolute;width:5px;height:5px;border-radius:50%;box-shadow:0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff;animation:1s _ngcontent-%COMP%_bang ease-out infinite backwards,1s _ngcontent-%COMP%_gravity ease-in infinite backwards,5s _ngcontent-%COMP%_position linear infinite backwards}.pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{animation-delay:1.25s,1.25s,1.25s;animation-duration:1.25s,1.25s,6.25s}@keyframes _ngcontent-%COMP%_bang{to{box-shadow:84px -53.6666666667px #0fa,210px -58.6666666667px #f50,132px -340.6666666667px #ffc800,-72px -80.6666666667px #8f0,-160px -156.6666666667px #ff004c,-213px -213.6666666667px #c800ff,-218px -70.6666666667px #0008ff,-95px -412.6666666667px #001eff,58px 36.3333333333px #c3ff00,135px -224.6666666667px #f90,66px -205.6666666667px #ff0026,167px -189.6666666667px #f50,-107px -28.6666666667px #0f7,170px -288.6666666667px #5eff00,92px -104.6666666667px #d4ff00,34px -353.6666666667px #b300ff,58px -273.6666666667px #51ff00,-44px -331.6666666667px #05f,11px -410.6666666667px #007bff,38px -226.6666666667px #0fd,135px 19.3333333333px #f40,-110px -77.6666666667px #00e1ff,-51px -409.6666666667px #00ff73,116px -339.6666666667px #fb0,-129px 13.3333333333px #00ff2f,-78px -359.6666666667px #ff00f7,-63px -334.6666666667px #51ff00,1px -196.6666666667px #f7ff00,-176px -87.6666666667px #c8ff00,-28px 41.3333333333px #00ff80,29px -331.6666666667px #fb0,2px -315.6666666667px #5900ff,-162px 42.3333333333px #5eff00,-100px -33.6666666667px #ff0900,236px -24.6666666667px #04f,12px -301.6666666667px #ff00ea,-101px -205.6666666667px #3c00ff,-73px -172.6666666667px #f80,32px -147.6666666667px #ff00a6,-2px -236.6666666667px #00ff9d,-153px -320.6666666667px #ff005d,-18px -4.6666666667px #0f4,-195px -234.6666666667px #bfff00,-77px -315.6666666667px #bf00ff,-175px 8.3333333333px #00aeff,-203px 7.3333333333px #59ff00,-95px -291.6666666667px #3f0,219px -133.6666666667px #f05,-236px -339.6666666667px #f80,-54px 16.3333333333px #0080ff,-126px -173.6666666667px #8cff00}}@keyframes _ngcontent-%COMP%_gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@keyframes _ngcontent-%COMP%_position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}"]}),n})();var an=u(68932),Xp=u(26385),tg=u(63278),eg=u(88131),ng=u(85904),ig=u(43614);function og(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",2),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function ag(n,s){if(1&n&&(t._UZ(0,"img",23),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,e.avatar),t.LSH)}}function sg(n,s){if(1&n&&t._UZ(0,"azt-create-avatar",24),2&n){const e=t.oxw().$implicit;t.Q6J("nameCreateAvatar",e.fullName)("size",30)}}function rg(n,s){if(1&n&&t._UZ(0,"img",25),2&n){const e=t.oxw().$implicit;t.Q6J("nameImages",e.nameImages)}}function lg(n,s){if(1&n&&(t.TgZ(0,"p",20),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"formatOnlyDateByUserUnitPipe"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_ngay_sinh"),": "),t.xp6(3),t.Oqu(t.lcZ(5,4,e.birthday))}}function _g(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_Diem"),"\xa0",e.mark,"")}}function cg(n,s){1&n&&(t.TgZ(0,"span",26),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_test_result_not_marked_essay")," "))}function ug(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function mg(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.selectStudentAction(a))}),t.TgZ(2,"div",9)(3,"div",10)(4,"div",11),t.YNc(5,ag,2,3,"img",12),t.YNc(6,sg,1,2,"azt-create-avatar",13),t.qZA()(),t.TgZ(7,"div",14)(8,"div",15)(9,"p",16),t._uU(10),t.ALo(11,"slice"),t.qZA(),t.TgZ(12,"div",17),t.YNc(13,rg,1,1,"img",18),t.qZA(),t.YNc(14,lg,6,6,"p",19),t.TgZ(15,"p",20),t.YNc(16,_g,3,4,"span",21),t.YNc(17,cg,3,3,"span",22),t.YNc(18,ug,3,3,"span",21),t.qZA()()()()()()}if(2&n){const e=s.$implicit;let i;t.xp6(1),t.Q6J("disabled",!e.examResultId),t.xp6(4),t.Q6J("ngIf",e.avatar&&""!=e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar||""==e.avatar),t.xp6(3),t.s9C("matTooltip",e.fullName&&e.fullName.length>25?e.fullName:""),t.xp6(1),t.hij(" ",e.fullName&&e.fullName.length>25?t.Dn7(11,10,e.fullName,0,25)+"..":e.fullName," "),t.xp6(3),t.Q6J("ngIf",e.nameImages&&(null!==(i=e.id)&&void 0!==i?i:0)<=0),t.xp6(1),t.Q6J("ngIf",e.birthday),t.xp6(2),t.Q6J("ngIf",e.examResultId&&e.examResultConfirmedAt),t.xp6(1),t.Q6J("ngIf",e.examResultId&&!e.examResultConfirmedAt),t.xp6(1),t.Q6J("ngIf",!e.examResultId)}}function dg(n,s){if(1&n&&(t.TgZ(0,"div",3)(1,"h3",4),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,mg,19,14,"div",6),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.lnq("",t.lcZ(3,4,e.classroomGroupObj.groupObj.name)," - ",t.lcZ(4,6,e.classroomGroupObj.classroomObj.name),": ",t.lcZ(5,8,"lang_auto_danh_sach_hoc_sinh"),""),t.xp6(5),t.Q6J("ngForOf",e.classroomGroupObj.classroomObj.studentObjs)}}let pg=(()=>{class n extends w.Q{selectStudentAction(e){this.selectStudentEvent.emit(e)}onSearchBox(e){this.searchContentObj=e}sortStudents(){this.classroomGroupObj.classroomObj.studentObjs=0==this.classroomGroupObj.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[],"pos","id")}getData(){this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost({examHashId:this.examHashId,shareHashId:this.shareOfflineCode,classroomId:this.classroomGroupObj.classroomObj.id}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);let o=this.commonService.concatMultipleArray(i.data?.classroomGroupObjs.map(a=>a.classroomObjs)??[]).find(a=>a.id==this.classroomGroupObj.classroomObj.id);o&&(this.classroomGroupObj.classroomObj=o),this.sortStudents(),this.stopStatusObj()}))}ngOnInit(){if(super.ngOnInit(),this.classroomGroupObj.classroomObj.dataInApi)return this.sortStudents();this.getData()}constructor(e,i){super(),this.frontOfflineShareService=e,this.sortService=i,this.selectStudentEvent=new t.vpe,this.searchContentObj=new tg.h}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(an.bF),t.Y36(eg.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-choose-student-in-share-offline-result"]],inputs:{classroomGroupObj:"classroomGroupObj",examHashId:"examHashId",shareOfflineCode:"shareOfflineCode"},outputs:{selectStudentEvent:"selectStudentEvent"},features:[t.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"block-main","mt-3"],[1,"font-medium","mb-3"],[1,"grid","grid-cols-12","p-2","pt-4","box",2,"background-color","#fff","min-height","100px"],["class","col-span-12 sm:col-span-12 md:col-span-4 lg:col-span-3 mb-3 px-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","lg:col-span-3","mb-3","px-2"],["azt-track-service","share-offline-result-cxL-TXi9YY",1,"flex","items-center","p-3","rounded-md","bg-slate-100","dark:bg-darkmode-300","w-full",2,"min-height","80px",3,"disabled","click"],[1,"grid","grid-cols-12","gap-2","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-span-3"],[1,"flex","items-center",2,"height","100%","justify-content","center"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-span-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-name-fluid","style","height: auto","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","text-xs mb-0",4,"ngIf"],[1,"text-xs","mb-0"],[4,"ngIf"],["class","text-pending",4,"ngIf"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1","img-name-fluid",2,"height","auto",3,"nameImages"],[1,"text-pending"]],template:function(e,i){if(1&e&&(t.YNc(0,og,1,1,"azt-loading-effect",0),t.YNc(1,dg,8,10,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[p.sg,p.O5,W.gM,H.l,ng.g,ig.L,p.OU,h.JV,h.QN,h.YK],encapsulation:2}),n})();function gg(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function hg(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"a",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.backToClassroomList())}),t.TgZ(2,"span",12),t.O4$(),t.TgZ(3,"svg",13),t._UZ(4,"polyline",14),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_student_join_classroom_back_to_classrooms_list")," "))}function fg(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,hg,7,3,"div",9),t.TgZ(2,"app-choose-student-in-share-offline-result",10),t.NdJ("selectStudentEvent",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.chooseStudentSuccess(o))}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.allClassroomObjs.length>1),t.xp6(1),t.Q6J("classroomGroupObj",e.currentClassroomGroupObj)("examHashId",e.examHashIdParam)("shareOfflineCode",e.shareOfflineCodeParam)}}function xg(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-list-classroom-view-for-join-classroom",16),t.NdJ("clickToClassroomEmitter",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clickToClassroomEvent(o))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("isExpandAll",!0)("classroomGroupData",e.classroomWithGroup)}}function bg(n,s){if(1&n&&t.YNc(0,xg,1,2,"azt-list-classroom-view-for-join-classroom",15),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.classroomWithGroup)}}function vg(n,s){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,fg,3,4,"div",7),t.YNc(2,bg,1,1,"ng-template",null,8,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.currentClassroomGroupObj)("ngIfElse",e)}}function Tg(n,s){1&n&&(t.TgZ(0,"div",17)(1,"div",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_giao_vien_chua_cho_xem_ket_qua_thi")," "))}function wg(n,s){if(1&n&&(t.YNc(0,vg,4,2,"div",4),t.YNc(1,Tg,4,3,"ng-template",null,5,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.allClassroomObjs.length)("ngIfElse",e)}}let sn=(()=>{class n extends w.Q{chooseStudentSuccess(e){this.myNavigationWithQueryString(`/test/answer-test/${this.examObj?.tenantId??0}/${this.examObj?.categoryId??0}/${this.examObj?.hashId}/${e.examResultId}`,`?offline=${this.shareOfflineCodeParam}&backto=${this.returnLink}`)}backToClassroomList(){this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/-1"),this.getParamUrl(),this.currentClassroomGroupObj=void 0}clickToClassroomEvent(e){let i=this.allClassroomObjs.find(o=>o.id==e.classroomObj.id);i&&(this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+i.id),this.getParamUrl(),this.currentClassroomGroupObj={groupObj:e.classroomGroupObj,classroomObj:i})}getData(){if(!this.examHashIdParam||!this.shareOfflineCodeParam)return;let e={examHashId:this.examHashIdParam,shareHashId:this.shareOfflineCodeParam,classroomId:-1!=this.classroomIdParam?this.classroomIdParam:void 0};this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost(e).subscribe(i=>{if(!i.success)return this.forceShowErrorBox(i.message);if(this.examObj=i.data?.examObj,this.classroomWithGroup=(i.data?.classroomGroupObjs??[]).map(r=>({groupObj:r.groupObj,isOwned:!0,classroomObjs:r.classroomObjs})),this.allClassroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(r=>r.classroomObjs)),-1!=this.classroomIdParam){let r=this.allClassroomObjs.find(_=>_.id==this.classroomIdParam),l=this.classroomWithGroup.find(_=>_.classroomObjs.find(m=>m.id==this.classroomIdParam));if(r&&l)return this.currentClassroomGroupObj={groupObj:l.groupObj,classroomObj:r},void this.successStatusObj()}let o=1==this.allClassroomObjs.length?this.commonService.getFirstOfArray(this.allClassroomObjs):void 0,a=this.classroomWithGroup.find(r=>r.classroomObjs.find(l=>l.id==o?.id));o&&a&&(this.currentClassroomGroupObj={groupObj:a.groupObj,classroomObj:o}),this.successStatusObj()}))}getParamUrl(){this.examHashIdParam=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.shareOfflineCodeParam=this.commonService.getMyParam(this.activeRoute,"offline_code")??"",this.classroomIdParam=this.commonService.getMyParamToNumber(this.activeRoute,"classroom_id")??-1,this.returnLink="/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+this.classroomIdParam,this.backToLink="/student/classroom/0"}ngOnInit(){this.getParamUrl(),this.getData(),super.ngOnInit()}constructor(e,i){super(),this.frontOfflineShareService=e,this.activeRoute=i,this.backToLink="",this.returnLink="",this.shareOfflineCodeParam="",this.classroomIdParam=-1,this.examHashIdParam="",this.allClassroomObjs=[],this.currentClassroomGroupObj=void 0,this.classroomWithGroup=[]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(an.bF),t.Y36(d.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-share-offline-result"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"mt-5"],[4,"ngIf","ngIfElse"],["showChooseClassrooms",""],[4,"ngIf"],[3,"classroomGroupObj","examHashId","shareOfflineCode","selectStudentEvent"],["azt-track-service","share-offline-result-kZ8e0tmTZ",1,"display-inline-block",3,"click"],[1,"text-primary","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["points","15 18 9 12 15 6"],[3,"isExpandAll","classroomGroupData","clickToClassroomEmitter",4,"ngIf"],[3,"isExpandAll","classroomGroupData","clickToClassroomEmitter"],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"]],template:function(e,i){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,gg,1,1,"azt-loading-effect",1),t.YNc(2,wg,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",i.backToLink),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[p.O5,H.l,Xp.h,st.L,pg,h.JV],encapsulation:2}),n})();const Sg=[{path:"",component:ui,canActivate:[G.J],children:[{path:":hash_id",component:ci},{path:"category/:tenant_id/:cate_id/:page",component:wn},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:$l},{path:"submit-practice/:practice_id/:hash_id/:result_id",component:Do},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:Jm},{path:"take-test-new/:tenant_id/:cate_id/:hash_id",component:pu},{path:"take-training/:tenant_id/:cate_id/:hash_id",component:$p},{path:"take-practice/:tenant_id/:cate_id/:hash_id",component:bl},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:wl},{path:"answer-practice/:practice_id/:hash_id/:result_id",component:Lo},{path:"share-offline-result/:hash_id/:offline_code",component:sn},{path:"share-offline-result/:hash_id/:offline_code/:classroom_id",component:sn}]}];let Cg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(Sg),d.Bz,U.fQ]}),n})(),kg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz,p.ez,S.j,Q.Z_,Cg,c.u5,c.UX,O.Is,z.Z,C.xC,R.QG,E.W,F.f,T.d,q.qyJ.pick(q.ciZ),x.kb,Z.N]}),n})()},63038:(tt,N,u)=>{"use strict";u.d(N,{m:()=>c});var p=u(65879);let c=(()=>{class O{constructor(Q){this.el=Q}onInput(){this.adjustTextAreaHeight(this.el.nativeElement)}ngAfterViewInit(){this.adjustTextAreaHeight(this.el.nativeElement)}adjustTextAreaHeight(Q){Q.style.overflow="hidden",Q.style.height="auto",Q.style.height=Q.scrollHeight+30+"px"}}return O.\u0275fac=function(Q){return new(Q||O)(p.Y36(p.SBq))},O.\u0275dir=p.lG2({type:O,selectors:[["textarea","autoResize",""]],hostBindings:function(Q,Z){1&Q&&p.NdJ("input",function(C){return Z.onInput(C.target.value)})}}),O})()},95273:(tt,N,u)=>{"use strict";u.d(N,{v:()=>Q});var p=u(61713),c=u(78226),O=u(65879),d=u(46558);let Q=(()=>{class Z{getMineTypeByFileType(C){let x="";switch(this.commonService.getEnumTypeWithDefault(c.s,C,c.s.unknown)){case c.s.doc:case c.s.docx:x="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case c.s.ppt:case c.s.pptx:x="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case c.s.xlsx:x="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case c.s.pdf:x="application/pdf";break;case c.s.video:case c.s.mp4:x="video/mp4";break;case c.s.mov:x="video/mov";break;case c.s.webm:x="video/webm";break;case c.s.quicktime:x="video/quicktime";break;case c.s.audio:x="audio/mpeg";break;case c.s.mp3:x="audio/mp3";break;case c.s.wav:x="audio/wav";break;case c.s.jpeg:case c.s.image:x="image/jpeg";break;case c.s.google_docs:x="google_docs"}return x}getMineTypeByExtension(C){switch(new RegExp(/(?:\.([^.]+))?$/).exec(C)?.[1]){case"pdf":return"application/pdf";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xsl":case"csv":return"application/vnd.ms-excel";case"jpg":return"image/jpg";case"jpge":return"image/jpge";default:return"application/json-patch+json"}}getTypeFileByMime(C){return C.mimes&&(0,p.MH)(C.mimes)||C.name?.toLowerCase().endsWith(".azt")?c.s.docx:C.mimes&&(0,p.AW)(C.mimes)?c.s.xlsx:C.mimes&&(0,p.F0)(C.mimes)?c.s.audio:C.mimes&&(0,p.Wv)(C.mimes)?c.s.video:C.mimes&&(0,p.Or)(C.mimes)?c.s.image:C.mimes&&(0,p._4)(C.mimes)?c.s.pdf:C.mimes&&(0,p.ZA)(C.mimes)?c.s.powerpoint:void 0}constructor(C){this.commonService=C}}return Z.\u0275fac=function(C){return new(C||Z)(O.LFG(d.z))},Z.\u0275prov=O.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},97151:(tt,N,u)=>{"use strict";u.d(N,{g:()=>q});var p=u(10217),O=u(89156),d=u(65879),Q=u(23433),Z=u(46558);let q=(()=>{class C{constructor(x,S){this.mobileWebviewService=x,this.commonService=S}shareFileWithBlob(x,S){if(this.commonService.isMobileWebview(void 0)){O.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let z=new FileReader;z.readAsDataURL(x),z.onloadend=()=>{let T=z.result;"string"==typeof T&&(this.mobileWebviewService.sendShareFileBase64(S,String(T)),O.G.closeLoadingEffect(100))}}else p.saveAs(x,S)}shareFileWithBase64(x,S){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(S,x):p.saveAs(x,S)}}return C.\u0275fac=function(x){return new(x||C)(d.LFG(Q.r),d.LFG(Z.z))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},45337:(tt,N,u)=>{"use strict";u.d(N,{T:()=>O});var p=u(65879),c=u(46558);let O=(()=>{class d{resizeDrawerHeight(Z,q){if(this.autoResizeHeight=Z,this.drawer=q,this.drawer&&this.autoResizeHeight){let C=()=>{let S=document.querySelector(".azt-drawer-content"),z=document.querySelector(".azt-draw-left");if(z&&z instanceof HTMLElement&&S&&S instanceof HTMLElement){let T=S;T.style.minHeight=this.isOpenSideNav?z.clientHeight+10+"px":"auto"}},R=new ResizeObserver(S=>{C()}),x=document.querySelector(".azt-draw-left");x&&R.observe(x),C()}}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}toggleDrawer(){this.drawer?.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openedChange(Z){this.isOpenSideNav=Z,this.resizeDrawerHeight(this.autoResizeHeight)}changeToMobileMode(Z){Z?(this.mode="over",this.hasBackdrop=!0):(this.mode="side",this.hasBackdrop=!1)}constructor(Z){this.commonService=Z,this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.autoResizeHeight=!1}}return d.\u0275fac=function(Z){return new(Z||d)(p.LFG(c.z))},d.\u0275prov=p.Yz7({token:d,factory:d.\u0275fac,providedIn:null}),d})()},89156:(tt,N,u)=>{"use strict";u.d(N,{G:()=>p});let p=(()=>{class c{static openLoadingEffect(d){c.getDomElement().style.display="flex",setTimeout(()=>{c.changeMsgLoadingEffect(d)},50)}static closeLoadingEffect(d){return new Promise(Q=>{setTimeout(()=>{const Z=c.getDomElement();Z&&(Z.style.display="none"),Q(!0)},d)})}static changeMsgLoadingEffect(d){c.getDomContent().innerText=d}static getDomContent(){return document.getElementById(c.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(c.idComponent)??this.createDomElement()}static createDomElement(){const d=document.createElement("div");return d.id=c.idComponent,d.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),d.style.display="none",d.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${c.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(d),d}}return c.idComponent="azt-status-loading-effect",c.idStatusContent="azt-status-loading-effect-content",c})()},43277:(tt,N,u)=>{"use strict";u.d(N,{y:()=>G});var p=u(66469),c=u(72164),O=u(19347),d=u(65879),Q=u(3309),Z=u(96814),q=u(78497),C=u(71646),R=u(36727);function x(A,w){1&A&&(d.TgZ(0,"div",7)(1,"b"),d._uU(2),d.ALo(3,"mytranslate"),d.qZA()()),2&A&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"lang_azt_muc_do_thuon_thuc_ky_nang")))}function S(A,w){1&A&&(d.TgZ(0,"div",8)(1,"h4",9),d._uU(2),d.ALo(3,"mytranslate"),d.qZA()()),2&A&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"lang_azt_muc_do_thuon_thuc_ky_nang")," "))}function z(A,w){1&A&&(d.TgZ(0,"div",10)(1,"span",11),d._UZ(2,"azt-loading-ui"),d.qZA()())}function T(A,w){if(1&A&&(d.TgZ(0,"div",13)(1,"div",14)(2,"div",15),d._UZ(3,"div",16),d.qZA()()()),2&A){const I=d.oxw(3);d.xp6(3),d.Q6J("chart",I.chartSkill)}}function E(A,w){if(1&A&&d.YNc(0,T,4,1,"div",12),2&A){const I=d.oxw(2);d.Q6J("ngIf",I.chartSkill)}}function F(A,w){if(1&A){const I=d.EpF();d.TgZ(0,"div",17)(1,"button",18),d.NdJ("click",function(){d.CHM(I);const j=d.oxw(2);return d.KtG(j.dialogRef.close())}),d._uU(2),d.ALo(3,"mytranslate"),d.qZA()()}2&A&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"lang_auto_dong")," "))}function U(A,w){if(1&A&&(d.TgZ(0,"div",1),d.YNc(1,x,4,3,"div",2),d.YNc(2,S,4,3,"div",3),d.YNc(3,z,3,0,"div",4),d.TgZ(4,"azt-mat-dialog-content"),d.YNc(5,E,1,1,"ng-template",null,5,d.W1O),d.qZA(),d.YNc(7,F,4,3,"div",6),d.qZA()),2&A){const I=d.MAs(6),t=d.oxw();d.Q6J("ngClass",1==t.type?"box p-3":""),d.xp6(1),d.Q6J("ngIf",1==t.type),d.xp6(1),d.Q6J("ngIf",!t.type),d.xp6(1),d.Q6J("ngIf",t.statusObj.loading)("ngIfElse",I),d.xp6(4),d.Q6J("ngIf",1==t.type)}}let G=(()=>{class A extends c.e{getSkillProfile(){this.studentPracticeService.aiApiV1StudentPracticeSkillProficiencyPost({schoolLevelId:12,schoolSubjectId:32,userId:this.userId}).subscribe({next:t=>{this.createChartSkill(t.skillChapterViewItems),this.stopStatusObj()},error:t=>{this.errorStatusObj(t.error.message,!0)}})}convertTitle(I,t){return this.commonService.myTranslateInstant(I)+" ("+(t.reduce((D,St)=>(D??0)+(St??0),0)?.toString()??"")+")"}createChartSkill(I){let t=I.map(P=>P.title??""),j=I.map(P=>0==P.countExcellent?null:P.countExcellent),D=I.map(P=>0==P.countGood?null:P.countGood),St=I.map(P=>0==P.countNotGood?null:P.countNotGood),Qt=I.map(P=>0==P.countTerrible?null:P.countTerrible),W=I.map(P=>0==P.countNonePractice?null:P.countNonePractice),H=this.convertTitle("lang_azt_xuat_sac",j),ee=this.convertTitle("lang_azt_kha",D),ne=this.convertTitle("lang_azt_trung_binh",St),st=this.convertTitle("lang_azt_yeu",Qt),h=this.convertTitle("lang_auto_chua_thi",W),ie=new p.kL({chart:{type:"column",style:{fontFamily:"Arial"}},title:{text:"",align:"center"},xAxis:{categories:t},yAxis:{min:0,title:{text:this.commonService.myTranslateInstant("lang_azt_so_kien_thuc")},stackLabels:{enabled:!0}},credits:{enabled:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[{name:H,type:"column",data:j,color:"green",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return I[this.index].excellentSkills.map(($,X)=>X+1+": "+$.title).join("<br/>")}}},{name:ee,type:"column",data:D,color:"yellow",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return I[this.index].goodSkills.map(($,X)=>X+1+": "+$.title).join("<br/>")}}},{name:ne,type:"column",data:St,color:"orange",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return I[this.index].notGoodSkills.map(($,X)=>X+1+": "+$.title).join("<br/>")}}},{name:st,type:"column",data:Qt,color:"red",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return I[this.index].terribleSkills.map(($,X)=>X+1+": "+$.title).join("<br/>")}}},{name:h,type:"column",data:W,color:"grey",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return I[this.index].nonePracticeSkills.map(($,X)=>X+1+": "+$.title).join("<br/>")}}}]});this.chartSkill=ie,this.stopStatusObj()}ngOnInit(){super.ngOnInit(),32==this.subjectId&&12==this.levelId&&(this.initStatusObj(),this.getSkillProfile())}constructor(I,t,j){super(j,t),this.studentPracticeService=I,this.dialogRef=t,j&&(this.subjectId=j.subjectId,this.levelId=j.levelId,this.userId=j.userId,this.type=1)}}return A.\u0275fac=function(I){return new(I||A)(d.Y36(Q.p4),d.Y36(O.so,8),d.Y36(O.WI,8))},A.\u0275cmp=d.Xpm({type:A,selectors:[["coazt-student-skill-chapter"]],inputs:{type:"type",userId:"userId",levelId:"levelId",subjectId:"subjectId"},features:[d.qOj],decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","mb-3",4,"ngIf"],["class","w-auto text-left bg-gray-200","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px",4,"ngIf"],["class","flex justify-center items-center m-5",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex items-center justify-end pt-2 w-full bg-white",4,"ngIf"],[1,"mb-3"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"flex","justify-center","items-center","m-5"],[1,"w-6","h-6","m-5"],["class","report-box intro-x mt-3",4,"ngIf"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],[1,"btn","btn-secondary","w-32",3,"click"]],template:function(I,t){1&I&&d.YNc(0,U,8,6,"div",0),2&I&&d.Q6J("ngIf",32==t.subjectId&&12==t.levelId)},dependencies:[Z.mk,Z.O5,p.Dm,q.R,C.n,R.JV],encapsulation:2}),A})()},97931:(tt,N,u)=>{"use strict";u.d(N,{W:()=>z});var p=u(37734),c=u(65879),O=u(96814),d=u(77988),Q=u(92596),Z=u(70342),q=u(67742),C=u(36727);function R(T,E){if(1&T){const F=c.EpF();c.O4$(),c.kcU(),c.ynx(0),c.TgZ(1,"div",9)(2,"p",10),c._uU(3),c.ALo(4,"mytranslate"),c.qZA(),c.TgZ(5,"p",10),c._uU(6),c.ALo(7,"mytranslate"),c.qZA(),c.TgZ(8,"div",11),c._UZ(9,"input",12),c.TgZ(10,"button",13),c.NdJ("click",function(){c.CHM(F);const G=c.oxw();return c.KtG(G.showCopySuccess())}),c.O4$(),c.TgZ(11,"svg",14),c._UZ(12,"rect",15)(13,"path",16),c.qZA(),c._uU(14),c.ALo(15,"mytranslate"),c.qZA()()(),c.BQk()}if(2&T){const F=c.oxw();c.xp6(3),c.Oqu(c.lcZ(4,5,"lang_auto_hoac")),c.xp6(3),c.Oqu(c.lcZ(7,7,"lang_classroom_QR_join_link_copy")),c.xp6(3),c.Q6J("value",F.linkUrl),c.xp6(1),c.Q6J("cdkCopyToClipboard",F.copyLinkToClipboard(F.linkUrl)),c.xp6(4),c.hij(" ",c.lcZ(15,9,"lang_auto_sao_chep")," ")}}let x=(()=>{class T extends p.Q{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(F){return F}onChangeURL(F){this.qrCodeDownloadLink=F}downloadQrCode(){try{let F=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,F)}catch{console.log("Download QrCode error")}}}return T.\u0275fac=function(){let E;return function(U){return(E||(E=c.n5z(T)))(U||T)}}(),T.\u0275cmp=c.Xpm({type:T,selectors:[["azt-show-link"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[c.qOj],decls:11,vars:9,consts:[["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel","qrCodeURL"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"]],template:function(F,U){1&F&&(c.TgZ(0,"div",0),c.NdJ("click",function(A){return A.stopPropagation()}),c.TgZ(1,"div",1)(2,"qrcode",2),c.NdJ("qrCodeURL",function(A){return U.onChangeURL(A)}),c.qZA()(),c.TgZ(3,"a",3),c.NdJ("click",function(){return U.downloadQrCode()}),c.O4$(),c.TgZ(4,"svg",4),c._UZ(5,"path",5)(6,"polyline",6)(7,"line",7),c.qZA(),c._uU(8),c.ALo(9,"mytranslate"),c.qZA(),c.YNc(10,R,16,11,"ng-container",8),c.qZA()),2&F&&(c.xp6(2),c.Q6J("allowEmptyString",!0)("qrdata",U.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),c.xp6(6),c.hij(" ",c.lcZ(9,7,"lang_auto_tai_ve_may")," "),c.xp6(2),c.Q6J("ngIf",U.showLink))},dependencies:[O.O5,Z.i3,q.V,C.JV],encapsulation:2}),T})();const S=function(T){return{"w-80":T}};let z=(()=>{class T extends p.Q{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1}}return T.\u0275fac=function(){let E;return function(U){return(E||(E=c.n5z(T)))(U||T)}}(),T.\u0275cmp=c.Xpm({type:T,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[c.qOj],decls:19,vars:10,consts:[["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["xPosition","before"],["showQrCode","matMenu"],[3,"ngClass"],[3,"linkUrl","fileName","showLink"]],template:function(F,U){if(1&F&&(c.TgZ(0,"button",0),c.ALo(1,"mytranslate"),c.O4$(),c.TgZ(2,"svg",1),c._UZ(3,"rect",2)(4,"rect",3)(5,"rect",4)(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13),c.qZA()(),c.kcU(),c.TgZ(15,"mat-menu",14,15)(17,"div",16),c._UZ(18,"azt-show-link",17),c.qZA()()),2&F){const G=c.MAs(16);c.s9C("matTooltip",c.lcZ(1,6,"lang_auto_quet_hoac_tai_ma_qr_code")),c.Q6J("matMenuTriggerFor",G),c.xp6(17),c.Q6J("ngClass",c.VKq(8,S,U.showLink)),c.xp6(1),c.Q6J("linkUrl",U.linkUrl)("fileName",U.fileName)("showLink",U.showLink)}},dependencies:[O.mk,d.VK,d.p6,Q.gM,x,C.JV],encapsulation:2}),T})()},10217:function(tt,N){var u,c;void 0!==(c="function"==typeof(u=function(){"use strict";function d(x,S,z){var T=new XMLHttpRequest;T.open("GET",x),T.responseType="blob",T.onload=function(){R(T.response,S,z)},T.onerror=function(){console.error("could not download file")},T.send()}function Q(x){var S=new XMLHttpRequest;S.open("HEAD",x,!1);try{S.send()}catch{}return 200<=S.status&&299>=S.status}function Z(x){try{x.dispatchEvent(new MouseEvent("click"))}catch{var S=document.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),x.dispatchEvent(S)}}var q="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,C=q.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),R=q.saveAs||("object"!=typeof window||window!==q?function(){}:"download"in HTMLAnchorElement.prototype&&!C?function(x,S,z){var T=q.URL||q.webkitURL,E=document.createElement("a");E.download=S=S||x.name||"download",E.rel="noopener","string"==typeof x?(E.href=x,E.origin===location.origin?Z(E):Q(E.href)?d(x,S,z):Z(E,E.target="_blank")):(E.href=T.createObjectURL(x),setTimeout(function(){T.revokeObjectURL(E.href)},4e4),setTimeout(function(){Z(E)},0))}:"msSaveOrOpenBlob"in navigator?function(x,S,z){if(S=S||x.name||"download","string"!=typeof x)navigator.msSaveOrOpenBlob(function O(x,S){return typeof S>"u"?S={autoBom:!1}:"object"!=typeof S&&(console.warn("Deprecated: Expected third argument to be a object"),S={autoBom:!S}),S.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\ufeff",x],{type:x.type}):x}(x,z),S);else if(Q(x))d(x,S,z);else{var T=document.createElement("a");T.href=x,T.target="_blank",setTimeout(function(){Z(T)})}}:function(x,S,z,T){if((T=T||open("","_blank"))&&(T.document.title=T.document.body.innerText="downloading..."),"string"==typeof x)return d(x,S,z);var E="application/octet-stream"===x.type,F=/constructor/i.test(q.HTMLElement)||q.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||E&&F||C)&&typeof FileReader<"u"){var G=new FileReader;G.onloadend=function(){var I=G.result;I=U?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=I:location=I,T=null},G.readAsDataURL(x)}else{var A=q.URL||q.webkitURL,w=A.createObjectURL(x);T?T.location=w:location.href=w,T=null,setTimeout(function(){A.revokeObjectURL(w)},4e4)}});q.saveAs=R.saveAs=R,tt.exports=R})?u.apply(N,[]):u)&&(tt.exports=c)}}]);