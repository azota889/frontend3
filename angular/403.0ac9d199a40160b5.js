"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[403],{76202:(vt,Te,v)=>{v.d(Te,{$:()=>Vo,A:()=>U,E:()=>P,J:()=>jo,K:()=>sn,M:()=>Tt,P:()=>hs,Q:()=>L,R:()=>cs,U:()=>pi,V:()=>ea,W:()=>ta,X:()=>na,Y:()=>gn,Z:()=>On,_:()=>ra,a:()=>Ki,a0:()=>Pn,a1:()=>fn,a2:()=>Ko,a3:()=>ca,a4:()=>la,a5:()=>ua,a6:()=>da,a7:()=>$o,a8:()=>_a,a9:()=>ha,aA:()=>Ie,aB:()=>N,aC:()=>Is,aD:()=>d,aE:()=>Q,aF:()=>bo,aG:()=>Tn,aH:()=>bs,aI:()=>Qe,aM:()=>xn,aP:()=>dn,aa:()=>pa,ab:()=>ma,ac:()=>ga,ad:()=>fa,ae:()=>ya,af:()=>ba,ag:()=>xa,aj:()=>Rn,ak:()=>Aa,al:()=>Ca,ao:()=>aa,ap:()=>Za,ar:()=>La,as:()=>Ma,at:()=>Ee,au:()=>T,av:()=>$e,aw:()=>ve,ax:()=>ko,ay:()=>yr,az:()=>M,b:()=>nr,c:()=>fs,d:()=>ys,e:()=>vs,f:()=>xs,g:()=>As,h:()=>mr,i:()=>ar,j:()=>Ts,k:()=>Cr,l:()=>us,m:()=>$s,p:()=>fe,r:()=>ds,s:()=>ls,u:()=>_s});var m=v(49671),S=v(30229),e=v(79823),x=v(87879),ge=v(97582),_e=v(36820);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const P=function z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},q=function k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},j=new S.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new x.Yd("@firebase/auth");function qe(a,...n){pe.logLevel<=x.in.ERROR&&pe.error(`Auth (${e.SDK_VERSION}): ${a}`,...n)}function ve(a,...n){throw se(a,...n)}function Ie(a,...n){return se(a,...n)}function Oe(a,n,o){const s=Object.assign(Object.assign({},q()),{[n]:o});return new S.LL("auth","Firebase",s).create(n,{appName:a.name})}function Ke(a,n,o){if(!(n instanceof o))throw o.name!==n.constructor.name&&ve(a,"argument-error"),Oe(a,"argument-error",`Type of ${n.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function se(a,...n){if("string"!=typeof a){const o=n[0],s=[...n.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(o,...s)}return j.create(a,...n)}function N(a,n,...o){if(!a)throw se(n,...o)}function ce(a){const n="INTERNAL ASSERTION FAILED: "+a;throw qe(n),new Error(n)}function Ee(a,n){a||ce(n)}function ke(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.href)||""}function ot(){return"http:"===ae()||"https:"===ae()}function ae(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.protocol)||null}class Ue{constructor(n,o){this.shortDelay=n,this.longDelay=o,Ee(o>n,"Short delay should be less than long delay!"),this.isMobile=(0,S.uI)()||(0,S.b$)()}get(){return function je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,S.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(a,n){Ee(a.emulator,"Emulator should always be set here");const{url:o}=a.emulator;return n?`${o}${n.startsWith("/")?n.slice(1):n}`:o}class We{static initialize(n,o,s){this.fetchImpl=n,o&&(this.headersImpl=o),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qt=new Ue(3e4,6e4);function xe(a,n){return a.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:a.tenantId}):n}function ye(a,n,o,s){return yt.apply(this,arguments)}function yt(){return(yt=(0,m.Z)(function*(a,n,o,s,u={}){return V(a,u,(0,m.Z)(function*(){let h={},A={};s&&("GET"===n?A=s:h={body:JSON.stringify(s)});const I=(0,S.xO)(Object.assign({key:a.config.apiKey},A)).slice(1),R=yield a._getAdditionalHeaders();return R["Content-Type"]="application/json",a.languageCode&&(R["X-Firebase-Locale"]=a.languageCode),We.fetch()(ne(a,a.config.apiHost,o,I),Object.assign({method:n,headers:R,referrerPolicy:"no-referrer"},h))}))})).apply(this,arguments)}function V(a,n,o){return be.apply(this,arguments)}function be(){return(be=(0,m.Z)(function*(a,n,o){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},Zt),n);try{const u=new Fe(a),h=yield Promise.race([o(),u.promise]);u.clearNetworkTimeout();const A=yield h.json();if("needConfirmation"in A)throw ct(a,"account-exists-with-different-credential",A);if(h.ok&&!("errorMessage"in A))return A;{const I=h.ok?A.errorMessage:A.error.message,[R,G]=I.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===R)throw ct(a,"credential-already-in-use",A);if("EMAIL_EXISTS"===R)throw ct(a,"email-already-in-use",A);if("USER_DISABLED"===R)throw ct(a,"user-disabled",A);const $=s[R]||R.toLowerCase().replace(/[_\s]+/g,"-");if(G)throw Oe(a,$,G);ve(a,$)}}catch(u){if(u instanceof S.ZR)throw u;ve(a,"network-request-failed",{message:String(u)})}})).apply(this,arguments)}function B(a,n,o,s){return J.apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(a,n,o,s,u={}){const h=yield ye(a,n,o,s,u);return"mfaPendingCredential"in h&&ve(a,"multi-factor-auth-required",{_serverResponse:h}),h})).apply(this,arguments)}function ne(a,n,o,s){const u=`${n}${o}?${s}`;return a.config.emulator?Me(a.config,u):`${a.config.apiScheme}://${u}`}function Ne(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fe{constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((o,s)=>{this.timer=setTimeout(()=>s(Ie(this.auth,"network-request-failed")),Qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ct(a,n,o){const s={appName:a.name};o.email&&(s.email=o.email),o.phoneNumber&&(s.phoneNumber=o.phoneNumber);const u=Ie(a,n,s);return u.customData._tokenResponse=o,u}function Ot(a){return void 0!==a&&void 0!==a.getResponse}function ht(a){return void 0!==a&&void 0!==a.enterprise}class pt{constructor(n){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===n.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=n.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=n.recaptchaEnforcementState}getProviderEnforcementState(n){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const o of this.recaptchaEnforcementState)if(o.provider&&o.provider===n)return Ne(o.enforcementState);return null}isProviderEnabled(n){return"ENFORCE"===this.getProviderEnforcementState(n)||"AUDIT"===this.getProviderEnforcementState(n)}}function we(){return(we=(0,m.Z)(function*(a){return(yield ye(a,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rt(a,n){return Le.apply(this,arguments)}function Le(){return(Le=(0,m.Z)(function*(a,n){return ye(a,"GET","/v2/recaptchaConfig",xe(a,n))})).apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:delete",n)})).apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:update",n)})).apply(this,arguments)}function gt(){return(gt=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:lookup",n)})).apply(this,arguments)}function bt(a){if(a)try{const n=new Date(Number(a));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}function lt(){return(lt=(0,m.Z)(function*(a,n=!1){const o=(0,S.m9)(a),s=yield o.getIdToken(n),u=xt(s);N(u&&u.exp&&u.auth_time&&u.iat,o.auth,"internal-error");const h="object"==typeof u.firebase?u.firebase:void 0,A=h?.sign_in_provider;return{claims:u,token:s,authTime:bt(zt(u.auth_time)),issuedAtTime:bt(zt(u.iat)),expirationTime:bt(zt(u.exp)),signInProvider:A||null,signInSecondFactor:h?.sign_in_second_factor||null}})).apply(this,arguments)}function zt(a){return 1e3*Number(a)}function xt(a){const[n,o,s]=a.split(".");if(void 0===n||void 0===o||void 0===s)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const u=(0,S.tV)(o);return u?JSON.parse(u):(qe("Failed to decode base64 JWT payload"),null)}catch(u){return qe("Caught error parsing JWT payload as JSON",u?.toString()),null}}function De(a,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,m.Z)(function*(a,n,o=!1){if(o)return n;try{return yield n}catch(s){throw s instanceof S.ZR&&function nt({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}(s)&&a.auth.currentUser===a&&(yield a.auth.signOut()),s}})).apply(this,arguments)}class kt{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(n){var o;if(n){const s=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),s}{this.errorBackoff=3e4;const u=(null!==(o=this.user.stsTokenManager.expirationTime)&&void 0!==o?o:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(n=!1){var o=this;if(!this.isRunning)return;const s=this.getInterval(n);this.timerId=setTimeout((0,m.Z)(function*(){yield o.iteration()}),s)}iteration(){var n=this;return(0,m.Z)(function*(){try{yield n.user.getIdToken(!0)}catch(o){return void("auth/network-request-failed"===o?.code&&n.schedule(!0))}n.schedule()})()}}class de{constructor(n,o){this.createdAt=n,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Se(a){return it.apply(this,arguments)}function it(){return it=(0,m.Z)(function*(a){var n;const o=a.auth,s=yield a.getIdToken(),u=yield De(a,function rt(a,n){return gt.apply(this,arguments)}(o,{idToken:s}));N(u?.users.length,o,"internal-error");const h=u.users[0];a._notifyReloadListener(h);const A=null!==(n=h.providerUserInfo)&&void 0!==n&&n.length?function Bt(a){return a.map(n=>{var{providerId:o}=n,s=(0,ge._T)(n,["providerId"]);return{providerId:o,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}(h.providerUserInfo):[],I=function rn(a,n){return[...a.filter(s=>!n.some(u=>u.providerId===s.providerId)),...n]}(a.providerData,A),$=!!a.isAnonymous&&!(a.email&&h.passwordHash||I?.length),me={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:I,metadata:new de(h.createdAt,h.lastLoginAt),isAnonymous:$};Object.assign(a,me)}),it.apply(this,arguments)}function ze(){return(ze=(0,m.Z)(function*(a){const n=(0,S.m9)(a);yield Se(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})).apply(this,arguments)}function Ut(){return(Ut=(0,m.Z)(function*(a,n){const o=yield V(a,{},(0,m.Z)(function*(){const s=(0,S.xO)({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:u,apiKey:h}=a.config,A=ne(a,u,"/v1/token",`key=${h}`),I=yield a._getAdditionalHeaders();return I["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(A,{method:"POST",headers:I,body:s})}));return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}})).apply(this,arguments)}class b{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){N(n.idToken,"internal-error"),N(typeof n.idToken<"u","internal-error"),N(typeof n.refreshToken<"u","internal-error");const o="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):function on(a){const n=xt(a);return N(n,"internal-error"),N(typeof n.exp<"u","internal-error"),N(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,o)}getToken(n,o=!1){var s=this;return(0,m.Z)(function*(){return N(!s.accessToken||s.refreshToken,n,"user-token-expired"),o||!s.accessToken||s.isExpired?s.refreshToken?(yield s.refresh(n,s.refreshToken),s.accessToken):null:s.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(n,o){var s=this;return(0,m.Z)(function*(){const{accessToken:u,refreshToken:h,expiresIn:A}=yield function At(a,n){return Ut.apply(this,arguments)}(n,o);s.updateTokensAndExpiration(u,h,Number(A))})()}updateTokensAndExpiration(n,o,s){this.refreshToken=o||null,this.accessToken=n||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(n,o){const{refreshToken:s,accessToken:u,expirationTime:h}=o,A=new b;return s&&(N("string"==typeof s,"internal-error",{appName:n}),A.refreshToken=s),u&&(N("string"==typeof u,"internal-error",{appName:n}),A.accessToken=u),h&&(N("number"==typeof h,"internal-error",{appName:n}),A.expirationTime=h),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new b,this.toJSON())}_performRefresh(){return ce("not implemented")}}function f(a,n){N("string"==typeof a||typeof a>"u","internal-error",{appName:n})}class p{constructor(n){var{uid:o,auth:s,stsTokenManager:u}=n,h=(0,ge._T)(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=s,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new de(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(n){var o=this;return(0,m.Z)(function*(){const s=yield De(o,o.stsTokenManager.getToken(o.auth,n));return N(s,o.auth,"internal-error"),o.accessToken!==s&&(o.accessToken=s,yield o.auth._persistUserIfCurrent(o),o.auth._notifyListenersIfCurrent(o)),s})()}getIdTokenResult(n){return function He(a){return lt.apply(this,arguments)}(this,n)}reload(){return function wt(a){return ze.apply(this,arguments)}(this)}_assign(n){this!==n&&(N(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(o=>Object.assign({},o)),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){const o=new p(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}));return o.metadata._copy(this.metadata),o}_onReload(n){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(n,o=!1){var s=this;return(0,m.Z)(function*(){let u=!1;n.idToken&&n.idToken!==s.stsTokenManager.accessToken&&(s.stsTokenManager.updateFromServerResponse(n),u=!0),o&&(yield Se(s)),yield s.auth._persistUserIfCurrent(s),u&&s.auth._notifyListenersIfCurrent(s)})()}delete(){var n=this;return(0,m.Z)(function*(){const o=yield n.getIdToken();return yield De(n,function Et(a,n){return Lt.apply(this,arguments)}(n.auth,{idToken:o})),n.stsTokenManager.clearRefreshToken(),n.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>Object.assign({},n)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,o){var s,u,h,A,I,R,G,$;const me=null!==(s=o.displayName)&&void 0!==s?s:void 0,dt=null!==(u=o.email)&&void 0!==u?u:void 0,Yt=null!==(h=o.phoneNumber)&&void 0!==h?h:void 0,Vn=null!==(A=o.photoURL)&&void 0!==A?A:void 0,Sr=null!==(I=o.tenantId)&&void 0!==I?I:void 0,Lo=null!==(R=o._redirectEventId)&&void 0!==R?R:void 0,Zr=null!==(G=o.createdAt)&&void 0!==G?G:void 0,Po=null!==($=o.lastLoginAt)&&void 0!==$?$:void 0,{uid:Wn,emailVerified:Or,isAnonymous:Er,providerData:No,stsTokenManager:Lr}=o;N(Wn&&Lr,n,"internal-error");const rc=b.fromJSON(this.name,Lr);N("string"==typeof Wn,n,"internal-error"),f(me,n.name),f(dt,n.name),N("boolean"==typeof Or,n,"internal-error"),N("boolean"==typeof Er,n,"internal-error"),f(Yt,n.name),f(Vn,n.name),f(Sr,n.name),f(Lo,n.name),f(Zr,n.name),f(Po,n.name);const Ro=new p({uid:Wn,auth:n,email:dt,emailVerified:Or,displayName:me,isAnonymous:Er,photoURL:Vn,phoneNumber:Yt,tenantId:Sr,stsTokenManager:rc,createdAt:Zr,lastLoginAt:Po});return No&&Array.isArray(No)&&(Ro.providerData=No.map(ac=>Object.assign({},ac))),Lo&&(Ro._redirectEventId=Lo),Ro}static _fromIdTokenResponse(n,o,s=!1){return(0,m.Z)(function*(){const u=new b;u.updateFromServerResponse(o);const h=new p({uid:o.localId,auth:n,stsTokenManager:u,isAnonymous:s});return yield Se(h),h})()}}const g=new Map;function d(a){Ee(a instanceof Function,"Expected a class definition");let n=g.get(a);return n?(Ee(n instanceof a,"Instance stored in cache mismatched with class"),n):(n=new a,g.set(a,n),n)}const L=(()=>{class a{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(o,s){var u=this;return(0,m.Z)(function*(){u.storage[o]=s})()}_get(o){var s=this;return(0,m.Z)(function*(){const u=s.storage[o];return void 0===u?null:u})()}_remove(o){var s=this;return(0,m.Z)(function*(){delete s.storage[o]})()}_addListener(o,s){}_removeListener(o,s){}}return a.type="NONE",a})();function Q(a,n,o){return`firebase:${a}:${n}:${o}`}class X{constructor(n,o,s){this.persistence=n,this.auth=o,this.userKey=s;const{config:u,name:h}=this.auth;this.fullUserKey=Q(this.userKey,u.apiKey,h),this.fullPersistenceKey=Q("persistence",u.apiKey,h),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}getCurrentUser(){var n=this;return(0,m.Z)(function*(){const o=yield n.persistence._get(n.fullUserKey);return o?p._fromJSON(n.auth,o):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(n){var o=this;return(0,m.Z)(function*(){if(o.persistence===n)return;const s=yield o.getCurrentUser();return yield o.removeCurrentUser(),o.persistence=n,s?o.setCurrentUser(s):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(n,o,s="authUser"){return(0,m.Z)(function*(){if(!o.length)return new X(d(L),n,s);const u=(yield Promise.all(o.map(function(){var G=(0,m.Z)(function*($){if(yield $._isAvailable())return $});return function($){return G.apply(this,arguments)}}()))).filter(G=>G);let h=u[0]||d(L);const A=Q(s,n.config.apiKey,n.name);let I=null;for(const G of o)try{const $=yield G._get(A);if($){const me=p._fromJSON(n,$);G!==h&&(I=me),h=G;break}}catch{}const R=u.filter(G=>G._shouldAllowMigration);return h._shouldAllowMigration&&R.length?(h=R[0],I&&(yield h._set(A,I.toJSON())),yield Promise.all(o.map(function(){var G=(0,m.Z)(function*($){if($!==h)try{yield $._remove(A)}catch{}});return function($){return G.apply(this,arguments)}}())),new X(h,n,s)):new X(h,n,s)})()}}function W(a){const n=a.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(le(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(Ce(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(Kt(n))return"Blackberry";if(Z(n))return"Webos";if(ee(n))return"Safari";if((n.includes("chrome/")||Y(n))&&!n.includes("edge/"))return"Chrome";if($e(n))return"Android";{const s=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===s?.length)return s[1]}return"Other"}function Ce(a=(0,S.z$)()){return/firefox\//i.test(a)}function ee(a=(0,S.z$)()){const n=a.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function Y(a=(0,S.z$)()){return/crios\//i.test(a)}function le(a=(0,S.z$)()){return/iemobile/i.test(a)}function $e(a=(0,S.z$)()){return/android/i.test(a)}function Kt(a=(0,S.z$)()){return/blackberry/i.test(a)}function Z(a=(0,S.z$)()){return/webos/i.test(a)}function T(a=(0,S.z$)()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function M(a=(0,S.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(a)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(a)}function he(a=(0,S.z$)()){return T(a)||$e(a)||Z(a)||Kt(a)||/windows phone/i.test(a)||le(a)}function Xe(a,n=[]){let o;switch(a){case"Browser":o=W((0,S.z$)());break;case"Worker":o=`${W((0,S.z$)())}-${a}`;break;default:o=a}const s=n.length?n.join(","):"FirebaseCore-web";return`${o}/JsCore/${e.SDK_VERSION}/${s}`}class Ge{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,o){const s=h=>new Promise((A,I)=>{try{A(n(h))}catch(R){I(R)}});s.onAbort=o,this.queue.push(s);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}runMiddleware(n){var o=this;return(0,m.Z)(function*(){if(o.auth.currentUser===n)return;const s=[];try{for(const u of o.queue)yield u(n),u.onAbort&&s.push(u.onAbort)}catch(u){s.reverse();for(const h of s)try{h()}catch{}throw o.auth._errorFactory.create("login-blocked",{originalMessage:u?.message})}})()}}function St(){return(St=(0,m.Z)(function*(a,n={}){return ye(a,"GET","/v2/passwordPolicy",xe(a,n))})).apply(this,arguments)}class Gn{constructor(n){var o,s,u,h;const A=n.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(o=A.minPasswordLength)&&void 0!==o?o:6,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),void 0!==A.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),void 0!==A.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),void 0!==A.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),void 0!==A.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=n.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(u=null===(s=n.allowedNonAlphanumericCharacters)||void 0===s?void 0:s.join(""))&&void 0!==u?u:"",this.forceUpgradeOnSignin=null!==(h=n.forceUpgradeOnSignin)&&void 0!==h&&h,this.schemaVersion=n.schemaVersion}validatePassword(n){var o,s,u,h,A,I;const R={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(n,R),this.validatePasswordCharacterOptions(n,R),R.isValid&&(R.isValid=null===(o=R.meetsMinPasswordLength)||void 0===o||o),R.isValid&&(R.isValid=null===(s=R.meetsMaxPasswordLength)||void 0===s||s),R.isValid&&(R.isValid=null===(u=R.containsLowercaseLetter)||void 0===u||u),R.isValid&&(R.isValid=null===(h=R.containsUppercaseLetter)||void 0===h||h),R.isValid&&(R.isValid=null===(A=R.containsNumericCharacter)||void 0===A||A),R.isValid&&(R.isValid=null===(I=R.containsNonAlphanumericCharacter)||void 0===I||I),R}validatePasswordLengthOptions(n,o){const s=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;s&&(o.meetsMinPasswordLength=n.length>=s),u&&(o.meetsMaxPasswordLength=n.length<=u)}validatePasswordCharacterOptions(n,o){let s;this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);for(let u=0;u<n.length;u++)s=n.charAt(u),this.updatePasswordCharacterOptionsStatuses(o,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(n,o,s,u,h){this.customStrengthOptions.containsLowercaseLetter&&(n.containsLowercaseLetter||(n.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(n.containsUppercaseLetter||(n.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(n.containsNumericCharacter||(n.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(n.containsNonAlphanumericCharacter||(n.containsNonAlphanumericCharacter=h))}}class an{constructor(n,o,s,u){this.app=n,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=s,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new Ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(n,o){var s=this;return o&&(this._popupRedirectResolver=d(o)),this._initializationPromise=this.queue((0,m.Z)(function*(){var u,h;if(!s._deleted&&(s.persistenceManager=yield X.create(s,n),!s._deleted)){if(null!==(u=s._popupRedirectResolver)&&void 0!==u&&u._shouldInitProactively)try{yield s._popupRedirectResolver._initialize(s)}catch{}yield s.initializeCurrentUser(o),s.lastNotifiedUid=(null===(h=s.currentUser)||void 0===h?void 0:h.uid)||null,!s._deleted&&(s._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var n=this;return(0,m.Z)(function*(){if(n._deleted)return;const o=yield n.assertedPersistence.getCurrentUser();if(n.currentUser||o){if(n.currentUser&&o&&n.currentUser.uid===o.uid)return n._currentUser._assign(o),void(yield n.currentUser.getIdToken());yield n._updateCurrentUser(o,!0)}})()}initializeCurrentUser(n){var o=this;return(0,m.Z)(function*(){var s;const u=yield o.assertedPersistence.getCurrentUser();let h=u,A=!1;if(n&&o.config.authDomain){yield o.getOrInitRedirectPersistenceManager();const I=null===(s=o.redirectUser)||void 0===s?void 0:s._redirectEventId,R=h?._redirectEventId,G=yield o.tryRedirectSignIn(n);(!I||I===R)&&G?.user&&(h=G.user,A=!0)}if(!h)return o.directlySetCurrentUser(null);if(!h._redirectEventId){if(A)try{yield o.beforeStateQueue.runMiddleware(h)}catch(I){h=u,o._popupRedirectResolver._overrideRedirectResult(o,()=>Promise.reject(I))}return h?o.reloadAndSetCurrentUserOrClear(h):o.directlySetCurrentUser(null)}return N(o._popupRedirectResolver,o,"argument-error"),yield o.getOrInitRedirectPersistenceManager(),o.redirectUser&&o.redirectUser._redirectEventId===h._redirectEventId?o.directlySetCurrentUser(h):o.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(n){var o=this;return(0,m.Z)(function*(){let s=null;try{s=yield o._popupRedirectResolver._completeRedirectFn(o,n,!0)}catch{yield o._setRedirectUser(null)}return s})()}reloadAndSetCurrentUserOrClear(n){var o=this;return(0,m.Z)(function*(){try{yield Se(n)}catch(s){if("auth/network-request-failed"!==s?.code)return o.directlySetCurrentUser(null)}return o.directlySetCurrentUser(n)})()}useDeviceLanguage(){this.languageCode=function oe(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}()}_delete(){var n=this;return(0,m.Z)(function*(){n._deleted=!0})()}updateCurrentUser(n){var o=this;return(0,m.Z)(function*(){const s=n?(0,S.m9)(n):null;return s&&N(s.auth.config.apiKey===o.config.apiKey,o,"invalid-user-token"),o._updateCurrentUser(s&&s._clone(o))})()}_updateCurrentUser(n,o=!1){var s=this;return(0,m.Z)(function*(){if(!s._deleted)return n&&N(s.tenantId===n.tenantId,s,"tenant-id-mismatch"),o||(yield s.beforeStateQueue.runMiddleware(n)),s.queue((0,m.Z)(function*(){yield s.directlySetCurrentUser(n),s.notifyAuthListeners()}))})()}signOut(){var n=this;return(0,m.Z)(function*(){return yield n.beforeStateQueue.runMiddleware(null),(n.redirectPersistenceManager||n._popupRedirectResolver)&&(yield n._setRedirectUser(null)),n._updateCurrentUser(null,!0)})()}setPersistence(n){var o=this;return this.queue((0,m.Z)(function*(){yield o.assertedPersistence.setPersistence(d(n))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(n){var o=this;return(0,m.Z)(function*(){o._getPasswordPolicyInternal()||(yield o._updatePasswordPolicy());const s=o._getPasswordPolicyInternal();return s.schemaVersion!==o.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(o._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(n)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var n=this;return(0,m.Z)(function*(){const o=yield function Jt(a){return St.apply(this,arguments)}(n),s=new Gn(o);null===n.tenantId?n._projectPasswordPolicy=s:n._tenantPasswordPolicies[n.tenantId]=s})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(n){this._errorFactory=new S.LL("auth","Firebase",n())}onAuthStateChanged(n,o,s){return this.registerStateListener(this.authStateSubscription,n,o,s)}beforeAuthStateChanged(n,o){return this.beforeStateQueue.pushCallback(n,o)}onIdTokenChanged(n,o,s){return this.registerStateListener(this.idTokenSubscription,n,o,s)}authStateReady(){return new Promise((n,o)=>{if(this.currentUser)n();else{const s=this.onAuthStateChanged(()=>{s(),n()},o)}})}toJSON(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(n=this._currentUser)||void 0===n?void 0:n.toJSON()}}_setRedirectUser(n,o){var s=this;return(0,m.Z)(function*(){const u=yield s.getOrInitRedirectPersistenceManager(o);return null===n?u.removeCurrentUser():u.setCurrentUser(n)})()}getOrInitRedirectPersistenceManager(n){var o=this;return(0,m.Z)(function*(){if(!o.redirectPersistenceManager){const s=n&&d(n)||o._popupRedirectResolver;N(s,o,"argument-error"),o.redirectPersistenceManager=yield X.create(o,[d(s._redirectPersistence)],"redirectUser"),o.redirectUser=yield o.redirectPersistenceManager.getCurrentUser()}return o.redirectPersistenceManager})()}_redirectUserForId(n){var o=this;return(0,m.Z)(function*(){var s,u;return o._isInitialized&&(yield o.queue((0,m.Z)(function*(){}))),(null===(s=o._currentUser)||void 0===s?void 0:s._redirectEventId)===n?o._currentUser:(null===(u=o.redirectUser)||void 0===u?void 0:u._redirectEventId)===n?o.redirectUser:null})()}_persistUserIfCurrent(n){var o=this;return(0,m.Z)(function*(){if(n===o.currentUser)return o.queue((0,m.Z)(function*(){return o.directlySetCurrentUser(n)}))})()}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=null!==(o=null===(n=this.currentUser)||void 0===n?void 0:n.uid)&&void 0!==o?o:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,o,s,u){if(this._deleted)return()=>{};const h="function"==typeof o?o:o.next.bind(o);let A=!1;const I=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(I,this,"internal-error"),I.then(()=>{A||h(this.currentUser)}),"function"==typeof o){const R=n.addObserver(o,s,u);return()=>{A=!0,R()}}{const R=n.addObserver(o);return()=>{A=!0,R()}}}directlySetCurrentUser(n){var o=this;return(0,m.Z)(function*(){o.currentUser&&o.currentUser!==n&&o._currentUser._stopProactiveRefresh(),n&&o.isProactiveRefreshEnabled&&n._startProactiveRefresh(),o.currentUser=n,n?yield o.assertedPersistence.setCurrentUser(n):yield o.assertedPersistence.removeCurrentUser()})()}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=Xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var n=this;return(0,m.Z)(function*(){var o;const s={"X-Client-Version":n.clientVersion};n.app.options.appId&&(s["X-Firebase-gmpid"]=n.app.options.appId);const u=yield null===(o=n.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===o?void 0:o.getHeartbeatsHeader();u&&(s["X-Firebase-Client"]=u);const h=yield n._getAppCheckToken();return h&&(s["X-Firebase-AppCheck"]=h),s})()}_getAppCheckToken(){var n=this;return(0,m.Z)(function*(){var o;const s=yield null===(o=n.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===o?void 0:o.getToken();return s?.error&&function Ye(a,...n){pe.logLevel<=x.in.WARN&&pe.warn(`Auth (${e.SDK_VERSION}): ${a}`,...n)}(`Error while retrieving App Check token: ${s.error}`),s?.token})()}}function Qe(a){return(0,S.m9)(a)}class Uo{constructor(n){this.auth=n,this.observer=null,this.addObserver=(0,S.ne)(o=>this.observer=o)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yn(a){return new Promise((n,o)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=n,s.onerror=u=>{const h=Ie("internal-error");h.customData=u,o(h)},s.type="text/javascript",s.charset="UTF-8",function ut(){var a,n;return null!==(n=null===(a=document.getElementsByTagName("head"))||void 0===a?void 0:a[0])&&void 0!==n?n:document}().appendChild(s)})}function Mo(a){return`__${a}${Math.floor(1e6*Math.random())}`}class Do{constructor(n){this.type="recaptcha-enterprise",this.auth=Qe(n)}verify(n="verify",o=!1){var s=this;return(0,m.Z)(function*(){function h(){return h=(0,m.Z)(function*(I){if(!o){if(null==I.tenantId&&null!=I._agentRecaptchaConfig)return I._agentRecaptchaConfig.siteKey;if(null!=I.tenantId&&void 0!==I._tenantRecaptchaConfigs[I.tenantId])return I._tenantRecaptchaConfigs[I.tenantId].siteKey}return new Promise(function(){var R=(0,m.Z)(function*(G,$){Rt(I,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(me=>{if(void 0!==me.recaptchaKey){const dt=new pt(me);return null==I.tenantId?I._agentRecaptchaConfig=dt:I._tenantRecaptchaConfigs[I.tenantId]=dt,G(dt.siteKey)}$(new Error("recaptcha Enterprise site key undefined"))}).catch(me=>{$(me)})});return function(G,$){return R.apply(this,arguments)}}())}),h.apply(this,arguments)}function A(I,R,G){const $=window.grecaptcha;ht($)?$.enterprise.ready(()=>{$.enterprise.execute(I,{action:n}).then(me=>{R(me)}).catch(()=>{R("NO_RECAPTCHA")})}):G(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((I,R)=>{(function u(I){return h.apply(this,arguments)})(s.auth).then(G=>{if(!o&&ht(window.grecaptcha))A(G,I,R);else{if(typeof window>"u")return void R(new Error("RecaptchaVerifier is only supported in browser"));Yn("https://www.google.com/recaptcha/enterprise.js?render="+G).then(()=>{A(G,I,R)}).catch($=>{R($)})}}).catch(G=>{R(G)})})})()}}function qo(a,n,o){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,m.Z)(function*(a,n,o,s=!1){const u=new Do(a);let h;try{h=yield u.verify(o)}catch{h=yield u.verify(o,!0)}const A=Object.assign({},n);return Object.assign(A,s?{captchaResp:h}:{captchaResponse:h}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A})).apply(this,arguments)}function kn(a,n,o,s){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,m.Z)(function*(a,n,o,s){var u;if(null!==(u=a._getRecaptchaConfig())&&void 0!==u&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=yield qo(a,n,o,"getOobCode"===o);return s(a,h)}return s(a,n).catch(function(){var h=(0,m.Z)(function*(A){if("auth/missing-recaptcha-token"===A.code){console.log(`${o} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const I=yield qo(a,n,o,"getOobCode"===o);return s(a,I)}return Promise.reject(A)});return function(A){return h.apply(this,arguments)}}())}),Kn.apply(this,arguments)}function jo(a,n,o){const s=Qe(a);N(s._canInitEmulator,s,"emulator-config-failed"),N(/^https?:\/\//.test(n),s,"invalid-emulator-scheme");const u=!!o?.disableWarnings,h=Fo(n),{host:A,port:I}=function jr(a){const n=Fo(a),o=/(\/\/)?([^?#/]+)/.exec(a.substr(n.length));if(!o)return{host:"",port:null};const s=o[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(s);if(u){const h=u[1];return{host:h,port:Qo(s.substr(h.length+1))}}{const[h,A]=s.split(":");return{host:h,port:Qo(A)}}}(n);s.config.emulator={url:`${h}//${A}${null===I?"":`:${I}`}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:A,port:I,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:u})}),u||function Fr(){function a(){const n=document.createElement("p"),o=n.style;n.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",n.classList.add("firebase-emulator-warning"),document.body.appendChild(n)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a())}()}function Fo(a){const n=a.indexOf(":");return n<0?"":a.substr(0,n+1)}function Qo(a){if(!a)return null;const n=Number(a);return isNaN(n)?null:n}class sn{constructor(n,o){this.providerId=n,this.signInMethod=o}toJSON(){return ce("not implemented")}_getIdTokenResponse(n){return ce("not implemented")}_linkToIdToken(n,o){return ce("not implemented")}_getReauthenticationResolver(n){return ce("not implemented")}}function zo(a,n){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:resetPassword",xe(a,n))})).apply(this,arguments)}function Bo(a,n){return ei.apply(this,arguments)}function ei(){return(ei=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:update",n)})).apply(this,arguments)}function ti(){return(ti=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:update",xe(a,n))})).apply(this,arguments)}function zr(a,n){return ni.apply(this,arguments)}function ni(){return(ni=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signInWithPassword",xe(a,n))})).apply(this,arguments)}function Sn(a,n){return ii.apply(this,arguments)}function ii(){return(ii=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:sendOobCode",xe(a,n))})).apply(this,arguments)}function oi(){return(oi=(0,m.Z)(function*(a,n){return Sn(a,n)})).apply(this,arguments)}function Ct(a,n){return ri.apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(a,n){return Sn(a,n)})).apply(this,arguments)}function Jr(a,n){return ai.apply(this,arguments)}function ai(){return(ai=(0,m.Z)(function*(a,n){return Sn(a,n)})).apply(this,arguments)}function si(){return(si=(0,m.Z)(function*(a,n){return Sn(a,n)})).apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signInWithEmailLink",xe(a,n))})).apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signInWithEmailLink",xe(a,n))})).apply(this,arguments)}class pn extends sn{constructor(n,o,s,u=null){super("password",s),this._email=n,this._password=o,this._tenantId=u}static _fromEmailAndPassword(n,o){return new pn(n,o,"password")}static _fromEmailAndCode(n,o,s=null){return new pn(n,o,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(n){const o="string"==typeof n?JSON.parse(n):n;if(o?.email&&o?.password){if("password"===o.signInMethod)return this._fromEmailAndPassword(o.email,o.password);if("emailLink"===o.signInMethod)return this._fromEmailAndCode(o.email,o.password,o.tenantId)}return null}_getIdTokenResponse(n){var o=this;return(0,m.Z)(function*(){switch(o.signInMethod){case"password":return kn(n,{returnSecureToken:!0,email:o._email,password:o._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zr);case"emailLink":return function Wr(a,n){return ci.apply(this,arguments)}(n,{email:o._email,oobCode:o._password});default:ve(n,"internal-error")}})()}_linkToIdToken(n,o){var s=this;return(0,m.Z)(function*(){switch(s.signInMethod){case"password":return Bo(n,{idToken:o,returnSecureToken:!0,email:s._email,password:s._password});case"emailLink":return function Gr(a,n){return li.apply(this,arguments)}(n,{idToken:o,email:s._email,oobCode:s._password});default:ve(n,"internal-error")}})()}_getReauthenticationResolver(n){return this._getIdTokenResponse(n)}}function Mt(a,n){return ui.apply(this,arguments)}function ui(){return(ui=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signInWithIdp",xe(a,n))})).apply(this,arguments)}class Tt extends sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(n){const o=new Tt(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(o.idToken=n.idToken),n.accessToken&&(o.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(o.nonce=n.nonce),n.pendingToken&&(o.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(o.accessToken=n.oauthToken,o.secret=n.oauthTokenSecret):ve("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(n){const o="string"==typeof n?JSON.parse(n):n,{providerId:s,signInMethod:u}=o,h=(0,ge._T)(o,["providerId","signInMethod"]);if(!s||!u)return null;const A=new Tt(s,u);return A.idToken=h.idToken||void 0,A.accessToken=h.accessToken||void 0,A.secret=h.secret,A.nonce=h.nonce,A.pendingToken=h.pendingToken||null,A}_getIdTokenResponse(n){return Mt(n,this.buildRequest())}_linkToIdToken(n,o){const s=this.buildRequest();return s.idToken=o,Mt(n,s)}_getReauthenticationResolver(n){const o=this.buildRequest();return o.autoCreate=!1,Mt(n,o)}buildRequest(){const n={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),n.postBody=(0,S.xO)(o)}return n}}function $t(){return($t=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:sendVerificationCode",xe(a,n))})).apply(this,arguments)}function _i(){return(_i=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signInWithPhoneNumber",xe(a,n))})).apply(this,arguments)}function hi(){return(hi=(0,m.Z)(function*(a,n){const o=yield B(a,"POST","/v1/accounts:signInWithPhoneNumber",xe(a,n));if(o.temporaryProof)throw ct(a,"account-exists-with-different-credential",o);return o})).apply(this,arguments)}const Hr={USER_NOT_FOUND:"user-not-found"};function Zn(){return(Zn=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signInWithPhoneNumber",xe(a,Object.assign(Object.assign({},n),{operation:"REAUTH"})),Hr)})).apply(this,arguments)}class Xt extends sn{constructor(n){super("phone","phone"),this.params=n}static _fromVerification(n,o){return new Xt({verificationId:n,verificationCode:o})}static _fromTokenResponse(n,o){return new Xt({phoneNumber:n,temporaryProof:o})}_getIdTokenResponse(n){return function mn(a,n){return _i.apply(this,arguments)}(n,this._makeVerificationRequest())}_linkToIdToken(n,o){return function Yr(a,n){return hi.apply(this,arguments)}(n,Object.assign({idToken:o},this._makeVerificationRequest()))}_getReauthenticationResolver(n){return function Kr(a,n){return Zn.apply(this,arguments)}(n,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:n,phoneNumber:o,verificationId:s,verificationCode:u}=this.params;return n&&o?{temporaryProof:n,phoneNumber:o}:{sessionInfo:s,code:u}}toJSON(){const n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n}static fromJSON(n){"string"==typeof n&&(n=JSON.parse(n));const{verificationId:o,verificationCode:s,phoneNumber:u,temporaryProof:h}=n;return s||o||u||h?new Xt({verificationId:o,verificationCode:s,phoneNumber:u,temporaryProof:h}):null}}class ln{constructor(n){var o,s,u,h,A,I;const R=(0,S.zd)((0,S.pd)(n)),G=null!==(o=R.apiKey)&&void 0!==o?o:null,$=null!==(s=R.oobCode)&&void 0!==s?s:null,me=function $r(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(u=R.mode)&&void 0!==u?u:null);N(G&&$&&me,"argument-error"),this.apiKey=G,this.operation=me,this.code=$,this.continueUrl=null!==(h=R.continueUrl)&&void 0!==h?h:null,this.languageCode=null!==(A=R.languageCode)&&void 0!==A?A:null,this.tenantId=null!==(I=R.tenantId)&&void 0!==I?I:null}static parseLink(n){const o=function Xr(a){const n=(0,S.zd)((0,S.pd)(a)).link,o=n?(0,S.zd)((0,S.pd)(n)).deep_link_id:null,s=(0,S.zd)((0,S.pd)(a)).deep_link_id;return(s?(0,S.zd)((0,S.pd)(s)).link:null)||s||o||n||a}(n);try{return new ln(o)}catch{return null}}}let pi=(()=>{class a{constructor(){this.providerId=a.PROVIDER_ID}static credential(o,s){return pn._fromEmailAndPassword(o,s)}static credentialWithLink(o,s){const u=ln.parseLink(s);return N(u,"argument-error"),pn._fromEmailAndCode(o,u.code,u.tenantId)}}return a.PROVIDER_ID="password",a.EMAIL_PASSWORD_SIGN_IN_METHOD="password",a.EMAIL_LINK_SIGN_IN_METHOD="emailLink",a})();class Dt{constructor(n){this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(n){this.defaultLanguageCode=n}setCustomParameters(n){return this.customParameters=n,this}getCustomParameters(){return this.customParameters}}class un extends Dt{constructor(){super(...arguments),this.scopes=[]}addScope(n){return this.scopes.includes(n)||this.scopes.push(n),this}getScopes(){return[...this.scopes]}}class gn extends un{static credentialFromJSON(n){const o="string"==typeof n?JSON.parse(n):n;return N("providerId"in o&&"signInMethod"in o,"argument-error"),Tt._fromParams(o)}credential(n){return this._credential(Object.assign(Object.assign({},n),{nonce:n.rawNonce}))}_credential(n){return N(n.idToken||n.accessToken,"argument-error"),Tt._fromParams(Object.assign(Object.assign({},n),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(n){return gn.oauthCredentialFromTaggedObject(n)}static credentialFromError(n){return gn.oauthCredentialFromTaggedObject(n.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:o,oauthAccessToken:s,oauthTokenSecret:u,pendingToken:h,nonce:A,providerId:I}=n;if(!s&&!u&&!o&&!h||!I)return null;try{return new gn(I)._credential({idToken:o,accessToken:s,nonce:A,pendingToken:h})}catch{return null}}}let ea=(()=>{class a extends un{constructor(){super("facebook.com")}static credential(o){return Tt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.FACEBOOK_SIGN_IN_METHOD,accessToken:o})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o||!("oauthAccessToken"in o)||!o.oauthAccessToken)return null;try{return a.credential(o.oauthAccessToken)}catch{return null}}}return a.FACEBOOK_SIGN_IN_METHOD="facebook.com",a.PROVIDER_ID="facebook.com",a})(),ta=(()=>{class a extends un{constructor(){super("google.com"),this.addScope("profile")}static credential(o,s){return Tt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GOOGLE_SIGN_IN_METHOD,idToken:o,accessToken:s})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{oauthIdToken:s,oauthAccessToken:u}=o;if(!s&&!u)return null;try{return a.credential(s,u)}catch{return null}}}return a.GOOGLE_SIGN_IN_METHOD="google.com",a.PROVIDER_ID="google.com",a})(),na=(()=>{class a extends un{constructor(){super("github.com")}static credential(o){return Tt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GITHUB_SIGN_IN_METHOD,accessToken:o})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o||!("oauthAccessToken"in o)||!o.oauthAccessToken)return null;try{return a.credential(o.oauthAccessToken)}catch{return null}}}return a.GITHUB_SIGN_IN_METHOD="github.com",a.PROVIDER_ID="github.com",a})();class dn extends sn{constructor(n,o){super(n,n),this.pendingToken=o}_getIdTokenResponse(n){return Mt(n,this.buildRequest())}_linkToIdToken(n,o){const s=this.buildRequest();return s.idToken=o,Mt(n,s)}_getReauthenticationResolver(n){const o=this.buildRequest();return o.autoCreate=!1,Mt(n,o)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(n){const o="string"==typeof n?JSON.parse(n):n,{providerId:s,signInMethod:u,pendingToken:h}=o;return s&&u&&h&&s===u?new dn(s,h):null}static _create(n,o){return new dn(n,o)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class On extends Dt{constructor(n){N(n.startsWith("saml."),"argument-error"),super(n)}static credentialFromResult(n){return On.samlCredentialFromTaggedObject(n)}static credentialFromError(n){return On.samlCredentialFromTaggedObject(n.customData||{})}static credentialFromJSON(n){const o=dn.fromJSON(n);return N(o,"argument-error"),o}static samlCredentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{pendingToken:o,providerId:s}=n;if(!o||!s)return null;try{return dn._create(s,o)}catch{return null}}}let ra=(()=>{class a extends un{constructor(){super("twitter.com")}static credential(o,s){return Tt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.TWITTER_SIGN_IN_METHOD,oauthToken:o,oauthTokenSecret:s})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{oauthAccessToken:s,oauthTokenSecret:u}=o;if(!s||!u)return null;try{return a.credential(s,u)}catch{return null}}}return a.TWITTER_SIGN_IN_METHOD="twitter.com",a.PROVIDER_ID="twitter.com",a})();function Jo(a,n){return mi.apply(this,arguments)}function mi(){return(mi=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signUp",xe(a,n))})).apply(this,arguments)}class at{constructor(n){this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}static _fromIdTokenResponse(n,o,s,u=!1){return(0,m.Z)(function*(){const h=yield p._fromIdTokenResponse(n,s,u),A=gi(s);return new at({user:h,providerId:A,_tokenResponse:s,operationType:o})})()}static _forOperation(n,o,s){return(0,m.Z)(function*(){yield n._updateTokensIfNecessary(s,!0);const u=gi(s);return new at({user:n,providerId:u,_tokenResponse:s,operationType:o})})()}}function gi(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}function Vo(a){return fi.apply(this,arguments)}function fi(){return(fi=(0,m.Z)(function*(a){var n;const o=Qe(a);if(yield o._initializationPromise,null!==(n=o.currentUser)&&void 0!==n&&n.isAnonymous)return new at({user:o.currentUser,providerId:null,operationType:"signIn"});const s=yield Jo(o,{returnSecureToken:!0}),u=yield at._fromIdTokenResponse(o,"signIn",s,!0);return yield o._updateCurrentUser(u.user),u})).apply(this,arguments)}class En extends S.ZR{constructor(n,o,s,u){var h;super(o.code,o.message),this.operationType=s,this.user=u,Object.setPrototypeOf(this,En.prototype),this.customData={appName:n.name,tenantId:null!==(h=n.tenantId)&&void 0!==h?h:void 0,_serverResponse:o.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(n,o,s,u){return new En(n,o,s,u)}}function Wo(a,n,o,s){return("reauthenticate"===n?o._getReauthenticationResolver(a):o._getIdTokenResponse(a)).catch(h=>{throw"auth/multi-factor-auth-required"===h.code?En._fromErrorAndOperation(a,h,n,s):h})}function Go(a){return new Set(a.map(({providerId:n})=>n).filter(n=>!!n))}function aa(a,n){return vi.apply(this,arguments)}function vi(){return vi=(0,m.Z)(function*(a,n){const o=(0,S.m9)(a);yield Ln(!0,o,n);const{providerUserInfo:s}=yield function tt(a,n){return mt.apply(this,arguments)}(o.auth,{idToken:yield o.getIdToken(),deleteProvider:[n]}),u=Go(s||[]);return o.providerData=o.providerData.filter(h=>u.has(h.providerId)),u.has("phone")||(o.phoneNumber=null),yield o.auth._persistUserIfCurrent(o),o}),vi.apply(this,arguments)}function yi(a,n){return bi.apply(this,arguments)}function bi(){return(bi=(0,m.Z)(function*(a,n,o=!1){const s=yield De(a,n._linkToIdToken(a.auth,yield a.getIdToken()),o);return at._forOperation(a,"link",s)})).apply(this,arguments)}function Ln(a,n,o){return xi.apply(this,arguments)}function xi(){return(xi=(0,m.Z)(function*(a,n,o){yield Se(n);const u=!1===a?"provider-already-linked":"no-such-provider";N(Go(n.providerData).has(o)===a,n.auth,u)})).apply(this,arguments)}function Yo(a,n){return wi.apply(this,arguments)}function wi(){return(wi=(0,m.Z)(function*(a,n,o=!1){const{auth:s}=a,u="reauthenticate";try{const h=yield De(a,Wo(s,u,n,a),o);N(h.idToken,s,"internal-error");const A=xt(h.idToken);N(A,s,"internal-error");const{sub:I}=A;return N(a.uid===I,s,"user-mismatch"),at._forOperation(a,u,h)}catch(h){throw"auth/user-not-found"===h?.code&&ve(s,"user-mismatch"),h}})).apply(this,arguments)}function Ho(a,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,m.Z)(function*(a,n,o=!1){const s="signIn",u=yield Wo(a,s,n),h=yield at._fromIdTokenResponse(a,s,u);return o||(yield a._updateCurrentUser(h.user)),h})).apply(this,arguments)}function Pn(a,n){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(a,n){return Ho(Qe(a),n)})).apply(this,arguments)}function fn(a,n){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,m.Z)(function*(a,n){const o=(0,S.m9)(a);return yield Ln(!1,o,n.providerId),yi(o,n)})).apply(this,arguments)}function Ko(a,n){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,m.Z)(function*(a,n){return Yo((0,S.m9)(a),n)})).apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(a,n){return B(a,"POST","/v1/accounts:signInWithCustomToken",xe(a,n))})).apply(this,arguments)}function ca(a,n){return Si.apply(this,arguments)}function Si(){return Si=(0,m.Z)(function*(a,n){const o=Qe(a),s=yield function sa(a,n){return ki.apply(this,arguments)}(o,{token:n,returnSecureToken:!0}),u=yield at._fromIdTokenResponse(o,"signIn",s);return yield o._updateCurrentUser(u.user),u}),Si.apply(this,arguments)}class vn{constructor(n,o){this.factorId=n,this.uid=o.mfaEnrollmentId,this.enrollmentTime=new Date(o.enrolledAt).toUTCString(),this.displayName=o.displayName}static _fromServerResponse(n,o){return"phoneInfo"in o?Zi._fromServerResponse(n,o):"totpInfo"in o?Oi._fromServerResponse(n,o):ve(n,"internal-error")}}class Zi extends vn{constructor(n){super("phone",n),this.phoneNumber=n.phoneInfo}static _fromServerResponse(n,o){return new Zi(o)}}class Oi extends vn{constructor(n){super("totp",n)}static _fromServerResponse(n,o){return new Oi(o)}}function Nn(a,n,o){var s;N((null===(s=o.url)||void 0===s?void 0:s.length)>0,a,"invalid-continue-uri"),N(typeof o.dynamicLinkDomain>"u"||o.dynamicLinkDomain.length>0,a,"invalid-dynamic-link-domain"),n.continueUrl=o.url,n.dynamicLinkDomain=o.dynamicLinkDomain,n.canHandleCodeInApp=o.handleCodeInApp,o.iOS&&(N(o.iOS.bundleId.length>0,a,"missing-ios-bundle-id"),n.iOSBundleId=o.iOS.bundleId),o.android&&(N(o.android.packageName.length>0,a,"missing-android-pkg-name"),n.androidInstallApp=o.android.installApp,n.androidMinimumVersionCode=o.android.minimumVersion,n.androidPackageName=o.android.packageName)}function Ei(a){return Li.apply(this,arguments)}function Li(){return(Li=(0,m.Z)(function*(a){const n=Qe(a);n._getPasswordPolicyInternal()&&(yield n._updatePasswordPolicy())})).apply(this,arguments)}function la(a,n,o){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(a,n,o){const s=Qe(a),u={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"};o&&Nn(s,u,o),yield kn(s,u,"getOobCode",Ct)})).apply(this,arguments)}function ua(a,n,o){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,m.Z)(function*(a,n,o){yield zo((0,S.m9)(a),{oobCode:n,newPassword:o}).catch(function(){var s=(0,m.Z)(function*(u){throw"auth/password-does-not-meet-requirements"===u.code&&Ei(a),u});return function(u){return s.apply(this,arguments)}}())}),Ni.apply(this,arguments)}function da(a,n){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,m.Z)(function*(a,n){yield function Qr(a,n){return ti.apply(this,arguments)}((0,S.m9)(a),{oobCode:n})}),Ri.apply(this,arguments)}function $o(a,n){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(a,n){const o=(0,S.m9)(a),s=yield zo(o,{oobCode:n}),u=s.requestType;switch(N(u,o,"internal-error"),u){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(s.newEmail,o,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(s.mfaInfo,o,"internal-error");default:N(s.email,o,"internal-error")}let h=null;return s.mfaInfo&&(h=vn._fromServerResponse(Qe(o),s.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===s.requestType?s.newEmail:s.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===s.requestType?s.email:s.newEmail)||null,multiFactorInfo:h},operation:u}})).apply(this,arguments)}function _a(a,n){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,m.Z)(function*(a,n){const{data:o}=yield $o((0,S.m9)(a),n);return o.email})).apply(this,arguments)}function ha(a,n,o){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,m.Z)(function*(a,n,o){const s=Qe(a),A=yield kn(s,{returnSecureToken:!0,email:n,password:o,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jo).catch(R=>{throw"auth/password-does-not-meet-requirements"===R.code&&Ei(a),R}),I=yield at._fromIdTokenResponse(s,"signIn",A);return yield s._updateCurrentUser(I.user),I})).apply(this,arguments)}function pa(a,n,o){return Pn((0,S.m9)(a),pi.credential(n,o)).catch(function(){var s=(0,m.Z)(function*(u){throw"auth/password-does-not-meet-requirements"===u.code&&Ei(a),u});return function(u){return s.apply(this,arguments)}}())}function ma(a,n,o){return Di.apply(this,arguments)}function Di(){return(Di=(0,m.Z)(function*(a,n,o){const s=Qe(a),u={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"};(function h(A,I){N(I.handleCodeInApp,s,"argument-error"),I&&Nn(s,A,I)})(u,o),yield kn(s,u,"getOobCode",Jr)})).apply(this,arguments)}function ga(a,n){const o=ln.parseLink(n);return"EMAIL_SIGNIN"===o?.operation}function fa(a,n,o){return qi.apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a),u=pi.credentialWithLink(n,o||ke());return N(u._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),Pn(s,u)})).apply(this,arguments)}function ji(){return(ji=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:createAuthUri",xe(a,n))})).apply(this,arguments)}function ya(a,n){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,m.Z)(function*(a,n){const s={identifier:n,continueUri:ot()?ke():"http://localhost"},{signinMethods:u}=yield function va(a,n){return ji.apply(this,arguments)}((0,S.m9)(a),s);return u||[]}),Fi.apply(this,arguments)}function ba(a,n){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,m.Z)(function*(a,n){const o=(0,S.m9)(a),u={requestType:"VERIFY_EMAIL",idToken:yield a.getIdToken()};n&&Nn(o.auth,u,n);const{email:h}=yield function Br(a,n){return oi.apply(this,arguments)}(o.auth,u);h!==a.email&&(yield a.reload())}),Qi.apply(this,arguments)}function xa(a,n,o){return zi.apply(this,arguments)}function zi(){return zi=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a),h={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield a.getIdToken(),newEmail:n};o&&Nn(s.auth,h,o);const{email:A}=yield function Vr(a,n){return si.apply(this,arguments)}(s.auth,h);A!==a.email&&(yield a.reload())}),zi.apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(a,n){return ye(a,"POST","/v1/accounts:update",n)})).apply(this,arguments)}function Rn(a,n){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,m.Z)(function*(a,{displayName:n,photoURL:o}){if(void 0===n&&void 0===o)return;const s=(0,S.m9)(a),h={idToken:yield s.getIdToken(),displayName:n,photoUrl:o,returnSecureToken:!0},A=yield De(s,function wa(a,n){return Bi.apply(this,arguments)}(s.auth,h));s.displayName=A.displayName||null,s.photoURL=A.photoUrl||null;const I=s.providerData.find(({providerId:R})=>"password"===R);I&&(I.displayName=s.displayName,I.photoURL=s.photoURL),yield s._updateTokensIfNecessary(A)}),Ji.apply(this,arguments)}function Aa(a,n){return Xo((0,S.m9)(a),n,null)}function Ca(a,n){return Xo((0,S.m9)(a),null,n)}function Xo(a,n,o){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,m.Z)(function*(a,n,o){const{auth:s}=a,h={idToken:yield a.getIdToken(),returnSecureToken:!0};n&&(h.email=n),o&&(h.password=o);const A=yield De(a,Bo(s,h));yield a._updateTokensIfNecessary(A,!0)})).apply(this,arguments)}class _n{constructor(n,o,s={}){this.isNewUser=n,this.providerId=o,this.profile=s}}class er extends _n{constructor(n,o,s,u){super(n,o,s),this.username=u}}class Ia extends _n{constructor(n,o){super(n,"facebook.com",o)}}class ka extends er{constructor(n,o){super(n,"github.com",o,"string"==typeof o?.login?o?.login:null)}}class qt extends _n{constructor(n,o){super(n,"google.com",o)}}class Sa extends er{constructor(n,o,s){super(n,"twitter.com",o,s)}}function Za(a){const{user:n,_tokenResponse:o}=a;return n.isAnonymous&&!o?{providerId:null,isNewUser:!1,profile:null}:function Ta(a){var n,o;if(!a)return null;const{providerId:s}=a,u=a.rawUserInfo?JSON.parse(a.rawUserInfo):{},h=a.isNewUser||"identitytoolkit#SignupNewUserResponse"===a.kind;if(!s&&a?.idToken){const A=null===(o=null===(n=xt(a.idToken))||void 0===n?void 0:n.firebase)||void 0===o?void 0:o.sign_in_provider;if(A)return new _n(h,"anonymous"!==A&&"custom"!==A?A:null)}if(!s)return null;switch(s){case"facebook.com":return new Ia(h,u);case"github.com":return new ka(h,u);case"google.com":return new qt(h,u);case"twitter.com":return new Sa(h,u,a.screenName||null);case"custom":case"anonymous":return new _n(h,null);default:return new _n(h,s,u)}}(o)}class en{constructor(n,o,s){this.type=n,this.credential=o,this.user=s}static _fromIdtoken(n,o){return new en("enroll",n,o)}static _fromMfaPendingCredential(n){return new en("signin",n)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(n){var o,s;if(n?.multiFactorSession){if(null!==(o=n.multiFactorSession)&&void 0!==o&&o.pendingCredential)return en._fromMfaPendingCredential(n.multiFactorSession.pendingCredential);if(null!==(s=n.multiFactorSession)&&void 0!==s&&s.idToken)return en._fromIdtoken(n.multiFactorSession.idToken)}return null}}class Yi{constructor(n,o,s){this.session=n,this.hints=o,this.signInResolver=s}static _fromError(n,o){const s=Qe(n),u=o.customData._serverResponse,h=(u.mfaInfo||[]).map(I=>vn._fromServerResponse(s,I));N(u.mfaPendingCredential,s,"internal-error");const A=en._fromMfaPendingCredential(u.mfaPendingCredential);return new Yi(A,h,function(){var I=(0,m.Z)(function*(R){const G=yield R._process(s,A);delete u.mfaInfo,delete u.mfaPendingCredential;const $=Object.assign(Object.assign({},u),{idToken:G.idToken,refreshToken:G.refreshToken});switch(o.operationType){case"signIn":const me=yield at._fromIdTokenResponse(s,o.operationType,$);return yield s._updateCurrentUser(me.user),me;case"reauthenticate":return N(o.user,s,"internal-error"),at._forOperation(o.user,o.operationType,$);default:ve(s,"internal-error")}});return function(R){return I.apply(this,arguments)}}())}resolveSignIn(n){var o=this;return(0,m.Z)(function*(){return o.signInResolver(n)})()}}function La(a,n){var o;const s=(0,S.m9)(a),u=n;return N(n.customData.operationType,s,"argument-error"),N(null===(o=u.customData._serverResponse)||void 0===o?void 0:o.mfaPendingCredential,s,"argument-error"),Yi._fromError(s,u)}class Hi{constructor(n){this.user=n,this.enrolledFactors=[],n._onReload(o=>{o.mfaInfo&&(this.enrolledFactors=o.mfaInfo.map(s=>vn._fromServerResponse(n.auth,s)))})}static _fromUser(n){return new Hi(n)}getSession(){var n=this;return(0,m.Z)(function*(){return en._fromIdtoken(yield n.user.getIdToken(),n.user)})()}enroll(n,o){var s=this;return(0,m.Z)(function*(){const u=n,h=yield s.getSession(),A=yield De(s.user,u._process(s.user.auth,h,o));return yield s.user._updateTokensIfNecessary(A),s.user.reload()})()}unenroll(n){var o=this;return(0,m.Z)(function*(){const s="string"==typeof n?n:n.uid,u=yield o.user.getIdToken();try{const h=yield De(o.user,function Ua(a,n){return ye(a,"POST","/v2/accounts/mfaEnrollment:withdraw",xe(a,n))}(o.user.auth,{idToken:u,mfaEnrollmentId:s}));o.enrolledFactors=o.enrolledFactors.filter(({uid:A})=>A!==s),yield o.user._updateTokensIfNecessary(h),yield o.user.reload()}catch(h){throw h}})()}}const yn=new WeakMap;function Ma(a){const n=(0,S.m9)(a);return yn.has(n)||yn.set(n,Hi._fromUser(n)),yn.get(n)}const bn="__sak";class tr{constructor(n,o){this.storageRetriever=n,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(bn,"1"),this.storage.removeItem(bn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(n,o){return this.storage.setItem(n,JSON.stringify(o)),Promise.resolve()}_get(n){const o=this.storage.getItem(n);return Promise.resolve(o?JSON.parse(o):null)}_remove(n){return this.storage.removeItem(n),Promise.resolve()}get storage(){return this.storageRetriever()}}const nr=(()=>{class a extends tr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(o,s)=>this.onStorageEvent(o,s),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Da(){const a=(0,S.z$)();return ee(a)||T(a)}()&&function Ze(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=he(),this._shouldAllowMigration=!0}forAllChangedKeys(o){for(const s of Object.keys(this.listeners)){const u=this.storage.getItem(s),h=this.localCache[s];u!==h&&o(s,h,u)}}onStorageEvent(o,s=!1){if(!o.key)return void this.forAllChangedKeys((I,R,G)=>{this.notifyListeners(I,G)});const u=o.key;if(s?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const I=this.storage.getItem(u);if(o.newValue!==I)null!==o.newValue?this.storage.setItem(u,o.newValue):this.storage.removeItem(u);else if(this.localCache[u]===o.newValue&&!s)return}const h=()=>{const I=this.storage.getItem(u);!s&&this.localCache[u]===I||this.notifyListeners(u,I)},A=this.storage.getItem(u);!function ie(){return(0,S.w1)()&&10===document.documentMode}()||A===o.newValue||o.newValue===o.oldValue?h():setTimeout(h,10)}notifyListeners(o,s){this.localCache[o]=s;const u=this.listeners[o];if(u)for(const h of Array.from(u))h(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((o,s,u)=>{this.onStorageEvent(new StorageEvent("storage",{key:o,oldValue:s,newValue:u}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(o,s){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[o]||(this.listeners[o]=new Set,this.localCache[o]=this.storage.getItem(o)),this.listeners[o].add(s)}_removeListener(o,s){this.listeners[o]&&(this.listeners[o].delete(s),0===this.listeners[o].size&&delete this.listeners[o]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(o,s){var u=()=>super._set,h=this;return(0,m.Z)(function*(){yield u().call(h,o,s),h.localCache[o]=JSON.stringify(s)})()}_get(o){var s=()=>super._get,u=this;return(0,m.Z)(function*(){const h=yield s().call(u,o);return u.localCache[o]=JSON.stringify(h),h})()}_remove(o){var s=()=>super._remove,u=this;return(0,m.Z)(function*(){yield s().call(u,o),delete u.localCache[o]})()}}return a.type="LOCAL",a})(),Ki=(()=>{class a extends tr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(o,s){}_removeListener(o,s){}}return a.type="SESSION",a})();let Qa=(()=>{class a{constructor(o){this.eventTarget=o,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(o){const s=this.receivers.find(h=>h.isListeningto(o));if(s)return s;const u=new a(o);return this.receivers.push(u),u}isListeningto(o){return this.eventTarget===o}handleEvent(o){var s=this;return(0,m.Z)(function*(){const u=o,{eventId:h,eventType:A,data:I}=u.data,R=s.handlersMap[A];if(!R?.size)return;u.ports[0].postMessage({status:"ack",eventId:h,eventType:A});const G=Array.from(R).map(function(){var me=(0,m.Z)(function*(dt){return dt(u.origin,I)});return function(dt){return me.apply(this,arguments)}}()),$=yield function $i(a){return Promise.all(a.map(function(){var n=(0,m.Z)(function*(o){try{return{fulfilled:!0,value:yield o}}catch(s){return{fulfilled:!1,reason:s}}});return function(o){return n.apply(this,arguments)}}()))}(G);u.ports[0].postMessage({status:"done",eventId:h,eventType:A,response:$})})()}_subscribe(o,s){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[o]||(this.handlersMap[o]=new Set),this.handlersMap[o].add(s)}_unsubscribe(o,s){this.handlersMap[o]&&s&&this.handlersMap[o].delete(s),(!s||0===this.handlersMap[o].size)&&delete this.handlersMap[o],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return a.receivers=[],a})();function xn(a="",n=10){let o="";for(let s=0;s<n;s++)o+=Math.floor(10*Math.random());return a+o}class za{constructor(n){this.target=n,this.handlers=new Set}removeMessageHandler(n){n.messageChannel&&(n.messageChannel.port1.removeEventListener("message",n.onMessage),n.messageChannel.port1.close()),this.handlers.delete(n)}_send(n,o,s=50){var u=this;return(0,m.Z)(function*(){const h=typeof MessageChannel<"u"?new MessageChannel:null;if(!h)throw new Error("connection_unavailable");let A,I;return new Promise((R,G)=>{const $=xn("",20);h.port1.start();const me=setTimeout(()=>{G(new Error("unsupported_event"))},s);I={messageChannel:h,onMessage(dt){const Yt=dt;if(Yt.data.eventId===$)switch(Yt.data.status){case"ack":clearTimeout(me),A=setTimeout(()=>{G(new Error("timeout"))},3e3);break;case"done":clearTimeout(A),R(Yt.data.response);break;default:clearTimeout(me),clearTimeout(A),G(new Error("invalid_response"))}}},u.handlers.add(I),h.port1.addEventListener("message",I.onMessage),u.target.postMessage({eventType:n,eventId:$,data:o},[h.port2])}).finally(()=>{I&&u.removeMessageHandler(I)})})()}}function Ve(){return window}function Xi(){return typeof Ve().WorkerGlobalScope<"u"&&"function"==typeof Ve().importScripts}function eo(){return(eo=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vt="firebaseLocalStorageDb",jt="firebaseLocalStorage",ir="fbase_key";class wn{constructor(n){this.request=n}toPromise(){return new Promise((n,o)=>{this.request.addEventListener("success",()=>{n(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function Un(a,n){return a.transaction([jt],n?"readwrite":"readonly").objectStore(jt)}function to(){const a=indexedDB.open(Vt,1);return new Promise((n,o)=>{a.addEventListener("error",()=>{o(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(jt,{keyPath:ir})}catch(u){o(u)}}),a.addEventListener("success",(0,m.Z)(function*(){const s=a.result;s.objectStoreNames.contains(jt)?n(s):(s.close(),yield function Ya(){const a=indexedDB.deleteDatabase(Vt);return new wn(a).toPromise()}(),n(yield to()))}))})}function or(a,n,o){return no.apply(this,arguments)}function no(){return(no=(0,m.Z)(function*(a,n,o){const s=Un(a,!0).put({[ir]:n,value:o});return new wn(s).toPromise()})).apply(this,arguments)}function io(){return(io=(0,m.Z)(function*(a,n){const o=Un(a,!1).get(n),s=yield new wn(o).toPromise();return void 0===s?null:s.value})).apply(this,arguments)}function rr(a,n){const o=Un(a,!0).delete(n);return new wn(o).toPromise()}const ar=(()=>{class a{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var o=this;return(0,m.Z)(function*(){return o.db||(o.db=yield to()),o.db})()}_withRetries(o){var s=this;return(0,m.Z)(function*(){let u=0;for(;;)try{const h=yield s._openDb();return yield o(h)}catch(h){if(u++>3)throw h;s.db&&(s.db.close(),s.db=void 0)}})()}initializeServiceWorkerMessaging(){var o=this;return(0,m.Z)(function*(){return Xi()?o.initializeReceiver():o.initializeSender()})()}initializeReceiver(){var o=this;return(0,m.Z)(function*(){o.receiver=Qa._getInstance(function Wa(){return Xi()?self:null}()),o.receiver._subscribe("keyChanged",function(){var s=(0,m.Z)(function*(u,h){return{keyProcessed:(yield o._poll()).includes(h.key)}});return function(u,h){return s.apply(this,arguments)}}()),o.receiver._subscribe("ping",function(){var s=(0,m.Z)(function*(u,h){return["keyChanged"]});return function(u,h){return s.apply(this,arguments)}}())})()}initializeSender(){var o=this;return(0,m.Z)(function*(){var s,u;if(o.activeServiceWorker=yield function Ja(){return eo.apply(this,arguments)}(),!o.activeServiceWorker)return;o.sender=new za(o.activeServiceWorker);const h=yield o.sender._send("ping",{},800);h&&null!==(s=h[0])&&void 0!==s&&s.fulfilled&&null!==(u=h[0])&&void 0!==u&&u.value.includes("keyChanged")&&(o.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(o){var s=this;return(0,m.Z)(function*(){if(s.sender&&s.activeServiceWorker&&function Va(){var a;return(null===(a=navigator?.serviceWorker)||void 0===a?void 0:a.controller)||null}()===s.activeServiceWorker)try{yield s.sender._send("keyChanged",{key:o},s.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const o=yield to();return yield or(o,bn,"1"),yield rr(o,bn),!0}catch{}return!1})()}_withPendingWrite(o){var s=this;return(0,m.Z)(function*(){s.pendingWrites++;try{yield o()}finally{s.pendingWrites--}})()}_set(o,s){var u=this;return(0,m.Z)(function*(){return u._withPendingWrite((0,m.Z)(function*(){return yield u._withRetries(h=>or(h,o,s)),u.localCache[o]=s,u.notifyServiceWorker(o)}))})()}_get(o){var s=this;return(0,m.Z)(function*(){const u=yield s._withRetries(h=>function Ha(a,n){return io.apply(this,arguments)}(h,o));return s.localCache[o]=u,u})()}_remove(o){var s=this;return(0,m.Z)(function*(){return s._withPendingWrite((0,m.Z)(function*(){return yield s._withRetries(u=>rr(u,o)),delete s.localCache[o],s.notifyServiceWorker(o)}))})()}_poll(){var o=this;return(0,m.Z)(function*(){const s=yield o._withRetries(A=>{const I=Un(A,!1).getAll();return new wn(I).toPromise()});if(!s)return[];if(0!==o.pendingWrites)return[];const u=[],h=new Set;for(const{fbase_key:A,value:I}of s)h.add(A),JSON.stringify(o.localCache[A])!==JSON.stringify(I)&&(o.notifyListeners(A,I),u.push(A));for(const A of Object.keys(o.localCache))o.localCache[A]&&!h.has(A)&&(o.notifyListeners(A,null),u.push(A));return u})()}notifyListeners(o,s){this.localCache[o]=s;const u=this.listeners[o];if(u)for(const h of Array.from(u))h(s)}startPolling(){var o=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return o._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(o,s){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[o]||(this.listeners[o]=new Set,this._get(o)),this.listeners[o].add(s)}_removeListener(o,s){this.listeners[o]&&(this.listeners[o].delete(s),0===this.listeners[o].size&&delete this.listeners[o]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return a.type="LOCAL",a})(),Mn=1e12;class is{constructor(n){this.auth=n,this.counter=Mn,this._widgets=new Map}render(n,o){const s=this.counter;return this._widgets.set(s,new os(n,this.auth.name,o||{})),this.counter++,s}reset(n){var o;const s=n||Mn;null===(o=this._widgets.get(s))||void 0===o||o.delete(),this._widgets.delete(s)}getResponse(n){var o;return(null===(o=this._widgets.get(n||Mn))||void 0===o?void 0:o.getResponse())||""}execute(n){var o=this;return(0,m.Z)(function*(){var s;return null===(s=o._widgets.get(n||Mn))||void 0===s||s.execute(),""})()}}class os{constructor(n,o,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const u="string"==typeof n?document.getElementById(n):n;N(u,"argument-error",{appName:o}),this.container=u,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dn(a){const n=[],o="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<a;s++)n.push(o.charAt(Math.floor(62*Math.random())));return n.join("")}(50);const{callback:n,"expired-callback":o}=this.params;if(n)try{n(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,o)try{o()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Be=Mo("rcb"),yc=new Ue(3e4,6e4);class as{constructor(){var n;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(n=Ve().grecaptcha)||void 0===n||!n.render)}load(n,o=""){return N(function An(a){return a.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(a)}(o),n,"argument-error"),this.shouldResolveImmediately(o)&&Ot(Ve().grecaptcha)?Promise.resolve(Ve().grecaptcha):new Promise((s,u)=>{const h=Ve().setTimeout(()=>{u(Ie(n,"network-request-failed"))},yc.get());Ve()[Be]=()=>{Ve().clearTimeout(h),delete Ve()[Be];const I=Ve().grecaptcha;if(!I||!Ot(I))return void u(Ie(n,"internal-error"));const R=I.render;I.render=(G,$)=>{const me=R(G,$);return this.counter++,me},this.hostLanguage=o,s(I)},Yn(`https://www.google.com/recaptcha/api.js??${(0,S.xO)({onload:Be,render:"explicit",hl:o})}`).catch(()=>{clearTimeout(h),u(Ie(n,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(n){var o;return!(null===(o=Ve().grecaptcha)||void 0===o||!o.render)&&(n===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sr{load(n){return(0,m.Z)(function*(){return new is(n)})()}clearedOneInstance(){}}const cr="recaptcha",ss={theme:"light",type:"image"};class cs{constructor(n,o,s=Object.assign({},ss)){this.parameters=s,this.type=cr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qe(n),this.isInvisible="invisible"===this.parameters.size,N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const u="string"==typeof o?document.getElementById(o):o;N(u,this.auth,"argument-error"),this.container=u,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sr:new as,this.validateStartingState()}verify(){var n=this;return(0,m.Z)(function*(){n.assertNotDestroyed();const o=yield n.render(),s=n.getAssertedRecaptcha();return s.getResponse(o)||new Promise(h=>{const A=I=>{I&&(n.tokenChangeListeners.delete(A),h(I))};n.tokenChangeListeners.add(A),n.isInvisible&&s.execute(o)})})()}render(){try{this.assertNotDestroyed()}catch(n){return Promise.reject(n)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(n=>{throw this.renderPromise=null,n})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(n=>{this.container.removeChild(n)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(n){return o=>{if(this.tokenChangeListeners.forEach(s=>s(o)),"function"==typeof n)n(o);else if("string"==typeof n){const s=Ve()[n];"function"==typeof s&&s(o)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var n=this;return(0,m.Z)(function*(){if(yield n.init(),!n.widgetId){let o=n.container;if(!n.isInvisible){const s=document.createElement("div");o.appendChild(s),o=s}n.widgetId=n.getAssertedRecaptcha().render(o,n.parameters)}return n.widgetId})()}init(){var n=this;return(0,m.Z)(function*(){N(ot()&&!Xi(),n.auth,"internal-error"),yield function lr(){let a=null;return new Promise(n=>{"complete"!==document.readyState?(a=()=>n(),window.addEventListener("load",a)):n()}).catch(n=>{throw a&&window.removeEventListener("load",a),n})}(),n.recaptcha=yield n._recaptchaLoader.load(n.auth,n.auth.languageCode||void 0);const o=yield function y(a){return we.apply(this,arguments)}(n.auth);N(o,n.auth,"internal-error"),n.parameters.sitekey=o})()}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oo{constructor(n,o){this.verificationId=n,this.onConfirmation=o}confirm(n){const o=Xt._fromVerification(this.verificationId,n);return this.onConfirmation(o)}}function ls(a,n,o){return ro.apply(this,arguments)}function ro(){return(ro=(0,m.Z)(function*(a,n,o){const s=Qe(a),u=yield qn(s,n,(0,S.m9)(o));return new oo(u,h=>Pn(s,h))})).apply(this,arguments)}function us(a,n,o){return ao.apply(this,arguments)}function ao(){return(ao=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a);yield Ln(!1,s,"phone");const u=yield qn(s.auth,n,(0,S.m9)(o));return new oo(u,h=>fn(s,h))})).apply(this,arguments)}function ds(a,n,o){return so.apply(this,arguments)}function so(){return(so=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a),u=yield qn(s.auth,n,(0,S.m9)(o));return new oo(u,h=>Ko(s,h))})).apply(this,arguments)}function qn(a,n,o){return co.apply(this,arguments)}function co(){return co=(0,m.Z)(function*(a,n,o){var s;const u=yield o.verify();try{let h;if(N("string"==typeof u,a,"argument-error"),N(o.type===cr,a,"argument-error"),h="string"==typeof n?{phoneNumber:n}:n,"session"in h){const A=h.session;if("phoneNumber"in h)return N("enroll"===A.type,a,"internal-error"),(yield function Pa(a,n){return ye(a,"POST","/v2/accounts/mfaEnrollment:start",xe(a,n))}(a,{idToken:A.credential,phoneEnrollmentInfo:{phoneNumber:h.phoneNumber,recaptchaToken:u}})).phoneSessionInfo.sessionInfo;{N("signin"===A.type,a,"internal-error");const I=(null===(s=h.multiFactorHint)||void 0===s?void 0:s.uid)||h.multiFactorUid;return N(I,a,"missing-multi-factor-info"),(yield function $a(a,n){return ye(a,"POST","/v2/accounts/mfaSignIn:start",xe(a,n))}(a,{mfaPendingCredential:A.credential,mfaEnrollmentId:I,phoneSignInInfo:{recaptchaToken:u}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:A}=yield function cn(a,n){return $t.apply(this,arguments)}(a,{phoneNumber:h.phoneNumber,recaptchaToken:u});return A}}finally{o._reset()}}),co.apply(this,arguments)}function _s(a,n){return lo.apply(this,arguments)}function lo(){return(lo=(0,m.Z)(function*(a,n){yield yi((0,S.m9)(a),n)})).apply(this,arguments)}let hs=(()=>{class a{constructor(o){this.providerId=a.PROVIDER_ID,this.auth=Qe(o)}verifyPhoneNumber(o,s){return qn(this.auth,o,(0,S.m9)(s))}static credential(o,s){return Xt._fromVerification(o,s)}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{phoneNumber:s,temporaryProof:u}=o;return s&&u?Xt._fromTokenResponse(s,u):null}}return a.PROVIDER_ID="phone",a.PHONE_SIGN_IN_METHOD="phone",a})();function tn(a,n){return n?d(n):(N(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class uo extends sn{constructor(n){super("custom","custom"),this.params=n}_getIdTokenResponse(n){return Mt(n,this._buildIdpRequest())}_linkToIdToken(n,o){return Mt(n,this._buildIdpRequest(o))}_getReauthenticationResolver(n){return Mt(n,this._buildIdpRequest())}_buildIdpRequest(n){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(o.idToken=n),o}}function ps(a){return Ho(a.auth,new uo(a),a.bypassAuthState)}function ur(a){const{auth:n,user:o}=a;return N(o,n,"internal-error"),Yo(o,new uo(a),a.bypassAuthState)}function ms(a){return _o.apply(this,arguments)}function _o(){return(_o=(0,m.Z)(function*(a){const{auth:n,user:o}=a;return N(o,n,"internal-error"),yi(o,new uo(a),a.bypassAuthState)})).apply(this,arguments)}class dr{constructor(n,o,s,u,h=!1){this.auth=n,this.resolver=s,this.user=u,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){var n=this;return new Promise(function(){var o=(0,m.Z)(function*(s,u){n.pendingPromise={resolve:s,reject:u};try{n.eventManager=yield n.resolver._initialize(n.auth),yield n.onExecution(),n.eventManager.registerConsumer(n)}catch(h){n.reject(h)}});return function(s,u){return o.apply(this,arguments)}}())}onAuthEvent(n){var o=this;return(0,m.Z)(function*(){const{urlResponse:s,sessionId:u,postBody:h,tenantId:A,error:I,type:R}=n;if(I)return void o.reject(I);const G={auth:o.auth,requestUri:s,sessionId:u,tenantId:A||void 0,postBody:h||void 0,user:o.user,bypassAuthState:o.bypassAuthState};try{o.resolve(yield o.getIdpTask(R)(G))}catch($){o.reject($)}})()}onError(n){this.reject(n)}getIdpTask(n){switch(n){case"signInViaPopup":case"signInViaRedirect":return ps;case"linkViaPopup":case"linkViaRedirect":return ms;case"reauthViaPopup":case"reauthViaRedirect":return ur;default:ve(this.auth,"internal-error")}}resolve(n){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(n),this.unregisterAndCleanUp()}reject(n){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(n),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gs=new Ue(2e3,1e4);function fs(a,n,o){return jn.apply(this,arguments)}function jn(){return(jn=(0,m.Z)(function*(a,n,o){const s=Qe(a);Ke(a,n,Dt);const u=tn(s,o);return new mo(s,"signInViaPopup",n,u).executeNotNull()})).apply(this,arguments)}function vs(a,n,o){return ho.apply(this,arguments)}function ho(){return(ho=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a);Ke(s.auth,n,Dt);const u=tn(s.auth,o);return new mo(s.auth,"reauthViaPopup",n,u,s).executeNotNull()})).apply(this,arguments)}function ys(a,n,o){return po.apply(this,arguments)}function po(){return(po=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a);Ke(s.auth,n,Dt);const u=tn(s.auth,o);return new mo(s.auth,"linkViaPopup",n,u,s).executeNotNull()})).apply(this,arguments)}let mo=(()=>{class a extends dr{constructor(o,s,u,h,A){super(o,s,h,A),this.provider=u,this.authWindow=null,this.pollId=null,a.currentPopupAction&&a.currentPopupAction.cancel(),a.currentPopupAction=this}executeNotNull(){var o=this;return(0,m.Z)(function*(){const s=yield o.execute();return N(s,o.auth,"internal-error"),s})()}onExecution(){var o=this;return(0,m.Z)(function*(){Ee(1===o.filter.length,"Popup operations only handle one event");const s=xn();o.authWindow=yield o.resolver._openPopup(o.auth,o.provider,o.filter[0],s),o.authWindow.associatedEvent=s,o.resolver._originValidation(o.auth).catch(u=>{o.reject(u)}),o.resolver._isIframeWebStorageSupported(o.auth,u=>{u||o.reject(Ie(o.auth,"web-storage-unsupported"))}),o.pollUserCancellation()})()}get eventId(){var o;return(null===(o=this.authWindow)||void 0===o?void 0:o.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,a.currentPopupAction=null}pollUserCancellation(){const o=()=>{var s,u;this.pollId=null!==(u=null===(s=this.authWindow)||void 0===s?void 0:s.window)&&void 0!==u&&u.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(o,gs.get())};o()}}return a.currentPopupAction=null,a})();const _r="pendingRedirect",hn=new Map;class bc extends dr{constructor(n,o,s=!1){super(n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,s),this.eventId=null}execute(){var n=()=>super.execute,o=this;return(0,m.Z)(function*(){let s=hn.get(o.auth._key());if(!s){try{const h=(yield function xc(a,n){return hr.apply(this,arguments)}(o.resolver,o.auth))?yield n().call(o):null;s=()=>Promise.resolve(h)}catch(u){s=()=>Promise.reject(u)}hn.set(o.auth._key(),s)}return o.bypassAuthState||hn.set(o.auth._key(),()=>Promise.resolve(null)),s()})()}onAuthEvent(n){var o=()=>super.onAuthEvent,s=this;return(0,m.Z)(function*(){if("signInViaRedirect"===n.type)return o().call(s,n);if("unknown"!==n.type){if(n.eventId){const u=yield s.auth._redirectUserForId(n.eventId);if(u)return s.user=u,o().call(s,n);s.resolve(null)}}else s.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function hr(){return(hr=(0,m.Z)(function*(a,n){const o=fo(n),s=go(a);if(!(yield s._isAvailable()))return!1;const u="true"===(yield s._get(o));return yield s._remove(o),u})).apply(this,arguments)}function Cn(a,n){return pr.apply(this,arguments)}function pr(){return(pr=(0,m.Z)(function*(a,n){return go(a)._set(fo(n),"true")})).apply(this,arguments)}function bs(){hn.clear()}function Tn(a,n){hn.set(a._key(),n)}function go(a){return d(a._redirectPersistence)}function fo(a){return Q(_r,a.config.apiKey,a.name)}function xs(a,n,o){return function Gt(a,n,o){return In.apply(this,arguments)}(a,n,o)}function In(){return(In=(0,m.Z)(function*(a,n,o){const s=Qe(a);Ke(a,n,Dt),yield s._initializationPromise;const u=tn(s,o);return yield Cn(u,s),u._openRedirect(s,n,"signInViaRedirect")})).apply(this,arguments)}function mr(a,n,o){return function ws(a,n,o){return Fn.apply(this,arguments)}(a,n,o)}function Fn(){return(Fn=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a);Ke(s.auth,n,Dt),yield s.auth._initializationPromise;const u=tn(s.auth,o);yield Cn(u,s.auth);const h=yield gr(s);return u._openRedirect(s.auth,n,"reauthViaRedirect",h)})).apply(this,arguments)}function As(a,n,o){return function Cs(a,n,o){return vo.apply(this,arguments)}(a,n,o)}function vo(){return(vo=(0,m.Z)(function*(a,n,o){const s=(0,S.m9)(a);Ke(s.auth,n,Dt),yield s.auth._initializationPromise;const u=tn(s.auth,o);yield Ln(!1,s,n.providerId),yield Cn(u,s.auth);const h=yield gr(s);return u._openRedirect(s.auth,n,"linkViaRedirect",h)})).apply(this,arguments)}function Ts(a,n){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(a,n){return yield Qe(a)._initializationPromise,bo(a,n,!1)})).apply(this,arguments)}function bo(a,n){return xo.apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(a,n,o=!1){const s=Qe(a),u=tn(s,n),A=yield new bc(s,u,o).execute();return A&&!o&&(delete A.user._redirectEventId,yield s._persistUserIfCurrent(A.user),yield s._setRedirectUser(null,n)),A})).apply(this,arguments)}function gr(a){return wo.apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(a){const n=xn(`${a.uid}:::`);return a._redirectEventId=n,yield a.auth._setRedirectUser(a),yield a.auth._persistUserIfCurrent(a),n})).apply(this,arguments)}class Is{constructor(n){this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(n){this.consumers.add(n),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,n)&&(this.sendToConsumer(this.queuedRedirectEvent,n),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(n){this.consumers.delete(n)}onEvent(n){if(this.hasEventBeenHandled(n))return!1;let o=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(n,s)&&(o=!0,this.sendToConsumer(n,s),this.saveEventToCache(n))}),this.hasHandledPotentialRedirect||!function ks(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vr(a);default:return!1}}(n)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=n,o=!0)),o}sendToConsumer(n,o){var s;if(n.error&&!vr(n)){const u=(null===(s=n.error.code)||void 0===s?void 0:s.split("auth/")[1])||"internal-error";o.onError(Ie(this.auth,u))}else o.onAuthEvent(n)}isEventForConsumer(n,o){const s=null===o.eventId||!!n.eventId&&n.eventId===o.eventId;return o.filter.includes(n.type)&&s}hasEventBeenHandled(n){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fr(n))}saveEventToCache(n){this.cachedEventUids.add(fr(n)),this.lastProcessedEventTime=Date.now()}}function fr(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(n=>n).join("-")}function vr({type:a,error:n}){return"unknown"===a&&"auth/no-auth-event"===n?.code}function yr(a){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,m.Z)(function*(a,n={}){return ye(a,"GET","/v1/projects",n)})).apply(this,arguments)}const Ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zs=/^https?/;function Co(){return(Co=(0,m.Z)(function*(a){if(a.config.emulator)return;const{authorizedDomains:n}=yield yr(a);for(const o of n)try{if(Es(o))return}catch{}ve(a,"unauthorized-domain")})).apply(this,arguments)}function Es(a){const n=ke(),{protocol:o,hostname:s}=new URL(n);if(a.startsWith("chrome-extension://")){const A=new URL(a);return""===A.hostname&&""===s?"chrome-extension:"===o&&a.replace("chrome-extension://","")===n.replace("chrome-extension://",""):"chrome-extension:"===o&&A.hostname===s}if(!Zs.test(o))return!1;if(Ss.test(a))return s===a;const u=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(s)}const Ls=new Ue(3e4,6e4);function br(){const a=Ve().___jsl;if(a?.H)for(const n of Object.keys(a.H))if(a.H[n].r=a.H[n].r||[],a.H[n].L=a.H[n].L||[],a.H[n].r=[...a.H[n].L],a.CP)for(let o=0;o<a.CP.length;o++)a.CP[o]=null}let zn=null;const Rs=new Ue(5e3,15e3),Us="__/auth/iframe",Ms="emulator/auth/iframe",Ds={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function js(a){const n=a.config;N(n.authDomain,a,"auth-domain-config-required");const o=n.emulator?Me(n,Ms):`https://${a.config.authDomain}/${Us}`,s={apiKey:n.apiKey,appName:a.name,v:e.SDK_VERSION},u=qs.get(a.config.apiHost);u&&(s.eid=u);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${o}?${(0,S.xO)(s).slice(1)}`}function To(){return To=(0,m.Z)(function*(a){const n=yield function Ns(a){return zn=zn||function Ps(a){return new Promise((n,o)=>{var s,u,h;function A(){br(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{br(),o(Ie(a,"network-request-failed"))},timeout:Ls.get()})}if(null!==(u=null===(s=Ve().gapi)||void 0===s?void 0:s.iframes)&&void 0!==u&&u.Iframe)n(gapi.iframes.getContext());else{if(null===(h=Ve().gapi)||void 0===h||!h.load){const I=Mo("iframefcb");return Ve()[I]=()=>{gapi.load?A():o(Ie(a,"network-request-failed"))},Yn(`https://apis.google.com/js/api.js?onload=${I}`).catch(R=>o(R))}A()}}).catch(n=>{throw zn=null,n})}(a),zn}(a),o=Ve().gapi;return N(o,a,"internal-error"),n.open({where:document.body,url:js(a),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ds,dontclear:!0},s=>new Promise(function(){var u=(0,m.Z)(function*(h,A){yield s.restyle({setHideOnLeave:!1});const I=Ie(a,"network-request-failed"),R=Ve().setTimeout(()=>{A(I)},Rs.get());function G(){Ve().clearTimeout(R),h(s)}s.ping(G).then(G,()=>{A(I)})});return function(h,A){return u.apply(this,arguments)}}()))}),To.apply(this,arguments)}const Qs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xr{constructor(n){this.window=n,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ys="__/auth/handler",Hs="emulator/auth/handler",Io=encodeURIComponent("fac");function ko(a,n,o,s,u,h){return So.apply(this,arguments)}function So(){return(So=(0,m.Z)(function*(a,n,o,s,u,h){N(a.config.authDomain,a,"auth-domain-config-required"),N(a.config.apiKey,a,"invalid-api-key");const A={apiKey:a.config.apiKey,appName:a.name,authType:o,redirectUrl:s,v:e.SDK_VERSION,eventId:u};if(n instanceof Dt){n.setDefaultLanguage(a.languageCode),A.providerId=n.providerId||"",(0,S.xb)(n.getCustomParameters())||(A.customParameters=JSON.stringify(n.getCustomParameters()));for(const[$,me]of Object.entries(h||{}))A[$]=me}if(n instanceof un){const $=n.getScopes().filter(me=>""!==me);$.length>0&&(A.scopes=$.join(","))}a.tenantId&&(A.tid=a.tenantId);const I=A;for(const $ of Object.keys(I))void 0===I[$]&&delete I[$];const R=yield a._getAppCheckToken(),G=R?`#${Io}=${encodeURIComponent(R)}`:"";return`${function wr({config:a}){return a.emulator?Me(a,Hs):`https://${a.authDomain}/${Ys}`}(a)}?${(0,S.xO)(I).slice(1)}${G}`})).apply(this,arguments)}const Bn="webStorageSupport",Cr=class Ar{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ki,this._completeRedirectFn=bo,this._overrideRedirectResult=Tn}_openPopup(n,o,s,u){var h=this;return(0,m.Z)(function*(){var A;Ee(null===(A=h.eventManagers[n._key()])||void 0===A?void 0:A.manager,"_initialize() not called before _openPopup()");const I=yield ko(n,o,s,ke(),u);return function Ws(a,n,o,s=500,u=600){const h=Math.max((window.screen.availHeight-u)/2,0).toString(),A=Math.max((window.screen.availWidth-s)/2,0).toString();let I="";const R=Object.assign(Object.assign({},Qs),{width:s.toString(),height:u.toString(),top:h,left:A}),G=(0,S.z$)().toLowerCase();o&&(I=Y(G)?"_blank":o),Ce(G)&&(n=n||"http://localhost",R.scrollbars="yes");const $=Object.entries(R).reduce((dt,[Yt,Vn])=>`${dt}${Yt}=${Vn},`,"");if(function K(a=(0,S.z$)()){var n;return T(a)&&!(null===(n=window.navigator)||void 0===n||!n.standalone)}(G)&&"_self"!==I)return function Gs(a,n){const o=document.createElement("a");o.href=a,o.target=n;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(s)}(n||"",I),new xr(null);const me=window.open(n||"",I,$);N(me,a,"popup-blocked");try{me.focus()}catch{}return new xr(me)}(n,I,xn())})()}_openRedirect(n,o,s,u){var h=this;return(0,m.Z)(function*(){return yield h._originValidation(n),function Ba(a){Ve().location.href=a}(yield ko(n,o,s,ke(),u)),new Promise(()=>{})})()}_initialize(n){const o=n._key();if(this.eventManagers[o]){const{manager:u,promise:h}=this.eventManagers[o];return u?Promise.resolve(u):(Ee(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(n);return this.eventManagers[o]={promise:s},s.catch(()=>{delete this.eventManagers[o]}),s}initAndGetManager(n){var o=this;return(0,m.Z)(function*(){const s=yield function Fs(a){return To.apply(this,arguments)}(n),u=new Is(n);return s.register("authEvent",h=>(N(h?.authEvent,n,"invalid-auth-event"),{status:u.onEvent(h.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),o.eventManagers[n._key()]={manager:u},o.iframes[n._key()]=s,u})()}_isIframeWebStorageSupported(n,o){this.iframes[n._key()].send(Bn,{type:Bn},u=>{var h;const A=null===(h=u?.[0])||void 0===h?void 0:h[Bn];void 0!==A&&o(!!A),ve(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(n){const o=n._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=function Os(a){return Co.apply(this,arguments)}(n)),this.originValidationPromises[o]}get _shouldInitProactively(){return he()||ee()||T()}};class Ks{constructor(n){this.factorId=n}_process(n,o,s){switch(o.type){case"enroll":return this._finalizeEnroll(n,o.credential,s);case"signin":return this._finalizeSignIn(n,o.credential);default:return ce("unexpected MultiFactorSessionType")}}}class Zo extends Ks{constructor(n){super("phone"),this.credential=n}static _fromCredential(n){return new Zo(n)}_finalizeEnroll(n,o,s){return function Na(a,n){return ye(a,"POST","/v2/accounts/mfaEnrollment:finalize",xe(a,n))}(n,{idToken:o,displayName:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(n,o){return function Xa(a,n){return ye(a,"POST","/v2/accounts/mfaSignIn:finalize",xe(a,n))}(n,{mfaPendingCredential:o,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $s=(()=>{class a{constructor(){}static assertion(o){return Zo._fromCredential(o)}}return a.FACTOR_ID="phone",a})();var Eo="@firebase/auth";class Xs{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){var n;return this.assertAuthConfigured(),(null===(n=this.auth.currentUser)||void 0===n?void 0:n.uid)||null}getToken(n){var o=this;return(0,m.Z)(function*(){return o.assertAuthConfigured(),yield o.auth._initializationPromise,o.auth.currentUser?{accessToken:yield o.auth.currentUser.getIdToken(n)}:null})()}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;const o=this.auth.onIdTokenChanged(s=>{n(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(n,o),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();const o=this.internalListeners.get(n);o&&(this.internalListeners.delete(n),o(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,S.Pz)("authIdTokenMaxAge"),function tc(a){(0,e._registerComponent)(new _e.wA("auth",(n,{options:o})=>{const s=n.getProvider("app").getImmediate(),u=n.getProvider("heartbeat"),h=n.getProvider("app-check-internal"),{apiKey:A,authDomain:I}=s.options;N(A&&!A.includes(":"),"invalid-api-key",{appName:s.name});const R={apiKey:A,authDomain:I,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xe(a)},G=new an(s,u,h,R);return function qr(a,n){const o=n?.persistence||[],s=(Array.isArray(o)?o:[o]).map(d);n?.errorMap&&a._updateErrorMap(n.errorMap),a._initializeWithPersistence(s,n?.popupRedirectResolver)}(G,o),G},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,o,s)=>{n.getProvider("auth-internal").initialize()})),(0,e._registerComponent)(new _e.wA("auth-internal",n=>{const o=Qe(n.getProvider("auth").getImmediate());return new Xs(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,e.registerVersion)(Eo,"1.3.2",function ec(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(a)),(0,e.registerVersion)(Eo,"1.3.2","esm2017")}("Browser")},30229:(vt,Te,v)=>{v.d(Te,{BH:()=>Oe,L:()=>te,LL:()=>yt,Pz:()=>Ie,UG:()=>ce,ZB:()=>z,ZR:()=>ye,aH:()=>ve,b$:()=>ot,eu:()=>Zt,hl:()=>We,jU:()=>Ee,m9:()=>Ut,ne:()=>gt,pd:()=>mt,r3:()=>ht,ru:()=>ke,tV:()=>O,uI:()=>N,vZ:()=>Rt,w1:()=>je,xO:()=>Lt,xb:()=>y,z$:()=>se,zd:()=>tt});const x=function(b){const f=[];let p=0;for(let g=0;g<b.length;g++){let d=b.charCodeAt(g);d<128?f[p++]=d:d<2048?(f[p++]=d>>6|192,f[p++]=63&d|128):55296==(64512&d)&&g+1<b.length&&56320==(64512&b.charCodeAt(g+1))?(d=65536+((1023&d)<<10)+(1023&b.charCodeAt(++g)),f[p++]=d>>18|240,f[p++]=d>>12&63|128,f[p++]=d>>6&63|128,f[p++]=63&d|128):(f[p++]=d>>12|224,f[p++]=d>>6&63|128,f[p++]=63&d|128)}return f},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(b,f){if(!Array.isArray(b))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=f?this.byteToCharMapWebSafe_:this.byteToCharMap_,g=[];for(let d=0;d<b.length;d+=3){const C=b[d],L=d+1<b.length,Q=L?b[d+1]:0,X=d+2<b.length,W=X?b[d+2]:0;let Y=(15&Q)<<2|W>>6,le=63&W;X||(le=64,L||(Y=64)),g.push(p[C>>2],p[(3&C)<<4|Q>>4],p[Y],p[le])}return g.join("")},encodeString(b,f){return this.HAS_NATIVE_SUPPORT&&!f?btoa(b):this.encodeByteArray(x(b),f)},decodeString(b,f){return this.HAS_NATIVE_SUPPORT&&!f?atob(b):function(b){const f=[];let p=0,g=0;for(;p<b.length;){const d=b[p++];if(d<128)f[g++]=String.fromCharCode(d);else if(d>191&&d<224){const C=b[p++];f[g++]=String.fromCharCode((31&d)<<6|63&C)}else if(d>239&&d<365){const X=((7&d)<<18|(63&b[p++])<<12|(63&b[p++])<<6|63&b[p++])-65536;f[g++]=String.fromCharCode(55296+(X>>10)),f[g++]=String.fromCharCode(56320+(1023&X))}else{const C=b[p++],L=b[p++];f[g++]=String.fromCharCode((15&d)<<12|(63&C)<<6|63&L)}}return f.join("")}(this.decodeStringToByteArray(b,f))},decodeStringToByteArray(b,f){this.init_();const p=f?this.charToByteMapWebSafe_:this.charToByteMap_,g=[];for(let d=0;d<b.length;){const C=p[b.charAt(d++)],Q=d<b.length?p[b.charAt(d)]:0;++d;const W=d<b.length?p[b.charAt(d)]:64;++d;const ee=d<b.length?p[b.charAt(d)]:64;if(++d,null==C||null==Q||null==W||null==ee)throw new re;g.push(C<<2|Q>>4),64!==W&&(g.push(Q<<4&240|W>>2),64!==ee&&g.push(W<<6&192|ee))}return g},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let b=0;b<this.ENCODED_VALS.length;b++)this.byteToCharMap_[b]=this.ENCODED_VALS.charAt(b),this.charToByteMap_[this.byteToCharMap_[b]]=b,this.byteToCharMapWebSafe_[b]=this.ENCODED_VALS_WEBSAFE.charAt(b),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[b]]=b,b>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(b)]=b,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(b)]=b)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const te=function(b){return function(b){const f=x(b);return _e.encodeByteArray(f,!0)}(b).replace(/\./g,"")},O=function(b){try{return _e.decodeString(b,!0)}catch(f){console.error("base64Decode failed: ",f)}return null};function z(b,f){if(!(f instanceof Object))return f;switch(f.constructor){case Date:return new Date(f.getTime());case Object:void 0===b&&(b={});break;case Array:b=[];break;default:return f}for(const p in f)!f.hasOwnProperty(p)||!k(p)||(b[p]=z(b[p],f[p]));return b}function k(b){return"__proto__"!==b}const pe=()=>{try{return function P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const b=process.env.__FIREBASE_DEFAULTS__;return b?JSON.parse(b):void 0})()||(()=>{if(typeof document>"u")return;let b;try{b=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const f=b&&O(b[1]);return f&&JSON.parse(f)})()}catch(b){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${b}`)}},ve=()=>{var b;return null===(b=pe())||void 0===b?void 0:b.config},Ie=b=>{var f;return null===(f=pe())||void 0===f?void 0:f[`_${b}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}wrapCallback(f){return(p,g)=>{p?this.reject(p):this.resolve(g),"function"==typeof f&&(this.promise.catch(()=>{}),1===f.length?f(p):f(p,g))}}}function se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function ce(){var b;const f=null===(b=pe())||void 0===b?void 0:b.forceEnvironment;if("node"===f)return!0;if("browser"===f)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ee(){return"object"==typeof self&&self.self===self}function ke(){const b="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof b&&void 0!==b.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){const b=se();return b.indexOf("MSIE ")>=0||b.indexOf("Trident/")>=0}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function Zt(){return new Promise((b,f)=>{try{let p=!0;const g="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(g);d.onsuccess=()=>{d.result.close(),p||self.indexedDB.deleteDatabase(g),b(!0)},d.onupgradeneeded=()=>{p=!1},d.onerror=()=>{var C;f((null===(C=d.error)||void 0===C?void 0:C.message)||"")}}catch(p){f(p)}})}class ye extends Error{constructor(f,p,g){super(p),this.code=f,this.customData=g,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(f,p,g){this.service=f,this.serviceName=p,this.errors=g}create(f,...p){const g=p[0]||{},d=`${this.service}/${f}`,C=this.errors[f],L=C?function V(b,f){return b.replace(be,(p,g)=>{const d=f[g];return null!=d?String(d):`<${g}?>`})}(C,g):"Error";return new ye(d,`${this.serviceName}: ${L} (${d}).`,g)}}const be=/\{\$([^}]+)}/g;function ht(b,f){return Object.prototype.hasOwnProperty.call(b,f)}function y(b){for(const f in b)if(Object.prototype.hasOwnProperty.call(b,f))return!1;return!0}function Rt(b,f){if(b===f)return!0;const p=Object.keys(b),g=Object.keys(f);for(const d of p){if(!g.includes(d))return!1;const C=b[d],L=f[d];if(Le(C)&&Le(L)){if(!Rt(C,L))return!1}else if(C!==L)return!1}for(const d of g)if(!p.includes(d))return!1;return!0}function Le(b){return null!==b&&"object"==typeof b}function Lt(b){const f=[];for(const[p,g]of Object.entries(b))Array.isArray(g)?g.forEach(d=>{f.push(encodeURIComponent(p)+"="+encodeURIComponent(d))}):f.push(encodeURIComponent(p)+"="+encodeURIComponent(g));return f.length?"&"+f.join("&"):""}function tt(b){const f={};return b.replace(/^\?/,"").split("&").forEach(g=>{if(g){const[d,C]=g.split("=");f[decodeURIComponent(d)]=decodeURIComponent(C)}}),f}function mt(b){const f=b.indexOf("?");if(!f)return"";const p=b.indexOf("#",f);return b.substring(f,p>0?p:void 0)}function gt(b,f){const p=new bt(b,f);return p.subscribe.bind(p)}class bt{constructor(f,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then(()=>{f(this)}).catch(g=>{this.error(g)})}next(f){this.forEachObserver(p=>{p.next(f)})}error(f){this.forEachObserver(p=>{p.error(f)}),this.close(f)}complete(){this.forEachObserver(f=>{f.complete()}),this.close()}subscribe(f,p,g){let d;if(void 0===f&&void 0===p&&void 0===g)throw new Error("Missing Observer.");d=function He(b,f){if("object"!=typeof b||null===b)return!1;for(const p of f)if(p in b&&"function"==typeof b[p])return!0;return!1}(f,["next","error","complete"])?f:{next:f,error:p,complete:g},void 0===d.next&&(d.next=lt),void 0===d.error&&(d.error=lt),void 0===d.complete&&(d.complete=lt);const C=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch{}}),this.observers.push(d),C}unsubscribeOne(f){void 0===this.observers||void 0===this.observers[f]||(delete this.observers[f],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(f){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,f)}sendOne(f,p){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[f])try{p(this.observers[f])}catch(g){typeof console<"u"&&console.error&&console.error(g)}})}close(f){this.finalized||(this.finalized=!0,void 0!==f&&(this.finalError=f),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lt(){}function Ut(b){return b&&b._delegate?b._delegate:b}},87469:(vt,Te,v)=>{v.d(Te,{T:()=>k});var m=v(19347),S=v(47394),e=v(72164),x=v(65879),ge=v(96814),_e=v(91581),re=v(22749),fe=v(40750);function te(P,q){if(1&P&&(x.TgZ(0,"div",20)(1,"b",21),x._uU(2),x.qZA(),x.TgZ(3,"div",22),x._UZ(4,"azt-dynamic-hook",12),x.qZA()()),2&P){const j=q.$implicit;let F;x.xp6(2),x.hij("",null!==(F=j.alpha)&&void 0!==F?F:j.key,"."),x.xp6(2),x.Q6J("content",j.content)}}function O(P,q){if(1&P&&(x.TgZ(0,"div",18),x.YNc(1,te,5,2,"div",19),x.qZA()),2&P){const j=x.oxw();x.Q6J("answerSizeManager",1),x.xp6(1),x.Q6J("ngForOf",null==j.data.obj||null==j.data.obj.question?null:j.data.obj.question.answers)}}function U(P,q){if(1&P&&(x.TgZ(0,"h2",23),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&P){const j=x.oxw();x.xp6(1),x.AsE(" ",x.lcZ(2,2,"lang_auto_dap_an"),": ",null==j.data.obj.question||null==j.data.obj.question.answerResult?null:j.data.obj.question.answerResult.join(", ")," ")}}function z(P,q){if(1&P&&(x.TgZ(0,"div",9)(1,"h2",24),x._uU(2),x.ALo(3,"mytranslate"),x.qZA(),x.TgZ(4,"div",25),x._UZ(5,"azt-dynamic-hook",12),x.qZA()()),2&P){const j=x.oxw();x.xp6(2),x.hij(" ",x.lcZ(3,2,"lang_auto_loi_giai")," "),x.xp6(3),x.Q6J("content",null==j.data.obj.question?null:j.data.obj.question.help)}}let k=(()=>{class P extends e.e{closeDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(j,F){super(F,j),this.dialogRef=j,this.data=F,this.subscriptions=new S.w0}}return P.\u0275fac=function(j){return new(j||P)(x.Y36(m.so,8),x.Y36(m.WI,8))},P.\u0275cmp=x.Xpm({type:P,selectors:[["view-detail-question-share"]],features:[x.qOj],decls:42,vars:34,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto",2,"max-height","calc(100vh - 100px)"],[1,"text-md","mr-auto"],[1,"text-md","mr-auto","mt-2"],[1,"flex","w-full","mt-2"],[1,"text-md"],[1,"text-md","ml-10"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","py-2","mt-2"],[1,"font-medium","text-md","text-center","mb-2"],[1,"tex2jax_process","box-content",2,"width","auto"],[3,"content"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],["class","border-t border-slate-200/60 dark:border-darkmode-400 py-2 mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","view-detail-question-shared-KfIEXO44141",1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content"],[1,"font-medium","text-md","text-left","text-success","my-2"],[1,"font-medium","text-md","text-center"],[1,"help-content","box","px-3","mt-1",2,"display","inherit","border-top-right-radius","0","border-top-left-radius","0","box-shadow","none","overflow","auto","padding-bottom","20px"]],template:function(j,F){1&j&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),x._uU(5),x.ALo(6,"mytranslate"),x.TgZ(7,"b"),x._uU(8),x.ALo(9,"mytranslate"),x.qZA()(),x.TgZ(10,"h2",5),x._uU(11),x.ALo(12,"mytranslate"),x.TgZ(13,"b"),x._uU(14),x.ALo(15,"mytranslate"),x.qZA()(),x.TgZ(16,"div",6)(17,"h2",7),x._uU(18),x.ALo(19,"mytranslate"),x.TgZ(20,"b"),x._uU(21),x.ALo(22,"mytranslate"),x.qZA()(),x.TgZ(23,"h2",8),x._uU(24),x.ALo(25,"mytranslate"),x.TgZ(26,"b"),x._uU(27),x.ALo(28,"mytranslate"),x.qZA()()(),x.TgZ(29,"div",9)(30,"h2",10),x._uU(31),x.ALo(32,"mytranslate"),x.qZA(),x.TgZ(33,"div",11),x._UZ(34,"azt-dynamic-hook",12),x.qZA(),x.YNc(35,O,2,2,"div",13),x.YNc(36,U,3,4,"h2",14),x.qZA(),x.YNc(37,z,6,4,"div",15),x.qZA()()(),x.TgZ(38,"div",16)(39,"button",17),x.NdJ("click",function(){return F.closeDialog()}),x._uU(40),x.ALo(41,"mytranslate"),x.qZA()()()),2&j&&(x.xp6(5),x.hij(" ",x.lcZ(6,14,"lang_test_market_question_info"),": "),x.xp6(3),x.Oqu(x.lcZ(9,16,F.data.obj.knowledgeName)),x.xp6(3),x.hij(" ",x.lcZ(12,18,"lang_auto_muc_do_nhan_biet"),": "),x.xp6(3),x.Oqu(x.lcZ(15,20,F.data.obj.questionTagName)),x.xp6(4),x.hij(" ",x.lcZ(19,22,"lang_auto_lop_hoc"),": "),x.xp6(3),x.Oqu(x.lcZ(22,24,F.data.obj.levelName)),x.xp6(3),x.hij(" ",x.lcZ(25,26,"lang_auto_mon_hoc"),": "),x.xp6(3),x.Oqu(x.lcZ(28,28,F.data.obj.subjectName)),x.xp6(4),x.hij(" ",x.lcZ(32,30,"lang_auto_noi_dung_cau_hoi")," "),x.xp6(3),x.Q6J("content",null==F.data.obj.question?null:F.data.obj.question.content),x.xp6(1),x.Q6J("ngIf",1==(null==F.data.obj.question?null:F.data.obj.question.answerType)&&(null==F.data.obj.question?null:F.data.obj.question.answers)&&(null==F.data.obj||null==F.data.obj.question?null:F.data.obj.question.answers.length)>0),x.xp6(1),x.Q6J("ngIf",null==F.data.obj||null==F.data.obj.question?null:F.data.obj.question.answerResult),x.xp6(1),x.Q6J("ngIf",null==F.data.obj||null==F.data.obj.question?null:F.data.obj.question.help),x.xp6(3),x.hij(" ",x.lcZ(41,32,"lang_auto_dong")," "))},dependencies:[ge.sg,ge.O5,_e.s,re.O,fe.JV],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),P})()},57985:(vt,Te,v)=>{v.d(Te,{C:()=>yt});var m=v(49671),S=v(29023),e=v(65879),x=v(56223),ge=v(73445),_e=v(23680),re=v(44683),fe=v(13217),te=v(84003),O=v(47496),U=v(61713),z=v(20553),k=v(23655),P=v(82228),q=v(96814),j=v(32296),F=v(2032),pe=v(64170),Ye=v(98525),qe=v(67679),ve=v(89310),Ie=v(37722),Oe=v(40750);function Ke(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function se(V,be){if(1&V&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&V){const B=be.$implicit;e.Q6J("value",B.id),e.xp6(1),e.hij(" ",B.name," ")}}function N(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function ce(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function Ee(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function ke(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function ot(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function ae(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function je(V,be){1&V&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_test_market_must_accept_policy")," "))}function oe(V,be){if(1&V){const B=e.EpF();e.TgZ(0,"div",60)(1,"button",61),e.NdJ("click",function(){e.CHM(B);const ne=e.oxw();return e.KtG(ne.acceptSendRequest(!0))}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"button",62),e.NdJ("click",function(){e.CHM(B);const ne=e.oxw();return e.KtG(ne.acceptSendRequest(!1))}),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()}if(2&V){const B=e.oxw();e.xp6(1),e.Q6J("disabled",B.form.invalid||B.sendRequest||!B.totalBalance||2!=B.citizenIdImages.length),e.xp6(1),e.hij(" ",e.lcZ(3,3,"lang_test_market_request_with_draw")," "),e.xp6(3),e.hij(" ",e.lcZ(6,5,"lang_auto_huy")," ")}}function Ue(V,be){if(1&V){const B=e.EpF();e.TgZ(0,"div",68),e.NdJ("click",function(){e.CHM(B);const ne=e.oxw().$implicit,Ne=e.oxw(2);return e.KtG(Ne.removeImg(ne))}),e.O4$(),e.TgZ(1,"svg",69),e._UZ(2,"line",70)(3,"line",71),e.qZA()()}}function Me(V,be){if(1&V&&(e.TgZ(0,"div",64)(1,"div",65),e._UZ(2,"img",66),e.ALo(3,"mycdn"),e.qZA(),e.YNc(4,Ue,4,0,"div",67),e.qZA()),2&V){const B=be.$implicit,J=e.oxw(2);e.xp6(2),e.Q6J("src",e.lcZ(3,2,B),e.LSH),e.xp6(2),e.Q6J("ngIf",J.enableEditInfo)}}function We(V,be){if(1&V&&(e.TgZ(0,"div"),e.YNc(1,Me,5,4,"div",63),e.qZA()),2&V){const B=e.oxw();e.xp6(1),e.Q6J("ngForOf",B.citizenIdImages)}}function Zt(V,be){1&V&&(e.TgZ(0,"div",74),e.O4$(),e.TgZ(1,"svg",75)(2,"g",76)(3,"g",77),e._UZ(4,"circle",78),e.TgZ(5,"path",79),e._UZ(6,"animateTransform",80),e.qZA()()()(),e.kcU(),e.TgZ(7,"h2",54),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()),2&V&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_test_market_uploading_citizenID_images")," "))}function Qt(V,be){if(1&V){const B=e.EpF();e.TgZ(0,"div",74),e.O4$(),e.TgZ(1,"svg",81),e._UZ(2,"path",82)(3,"polyline",83)(4,"line",84),e.qZA(),e.kcU(),e.TgZ(5,"span",85),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"input",86,87),e.NdJ("change",function(ne){e.CHM(B);const Ne=e.oxw(2);return e.KtG(Ne.selectFile(ne))}),e.qZA()()}2&V&&(e.xp6(6),e.Oqu(e.lcZ(7,1,"lang_auto_upload_file")))}function xe(V,be){if(1&V&&(e.TgZ(0,"div",72),e.YNc(1,Zt,10,3,"div",73),e.YNc(2,Qt,10,3,"div",73),e.qZA()),2&V){const B=e.oxw();e.xp6(1),e.Q6J("ngIf",B.loadingUpload),e.xp6(1),e.Q6J("ngIf",!B.loadingUpload)}}function ye(V,be){if(1&V){const B=e.EpF();e.TgZ(0,"div",88)(1,"div",60)(2,"button",89),e.NdJ("click",function(){e.CHM(B);const ne=e.oxw();return e.KtG(ne.acceptSendRequest(!0))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",90),e.NdJ("click",function(){e.CHM(B);const ne=e.oxw();return e.KtG(ne.acceptSendRequest(!1))}),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()()}if(2&V){const B=e.oxw();e.xp6(2),e.Q6J("disabled",B.form.invalid||B.sendRequest||!B.totalBalance||2!=B.citizenIdImages.length),e.xp6(1),e.hij(" ",e.lcZ(4,3,"lang_test_market_request_with_draw")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"lang_auto_huy")," ")}}let yt=(()=>{class V extends O.Q{getCurLang(){return this.commonService.getCurrentLang()}uploadFile(B){B?(this.loadingUpload=!0,(0,U.Or)(B.type)?(0,U.hv)(B).then(J=>{this.apiUploadService.uploadToCdnForCitizenId(J).subscribe(ne=>{1==ne.success?(ne.data?.url&&this.citizenIdImages.push(ne.data.url),this.loadingUpload=!1):(this.loadingUpload=!1,this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",ne.message??"none")))})}):(this.showErrorSnack("lang_auto_vui_long_dung_dinh_dang_anh"),this.loadingUpload=!1)):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}removeImg(B){let J=this.citizenIdImages?.filter(ne=>ne!==B);this.citizenIdImages=J}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(B){this.currentBankId=B}removeSignatureKeyImages(B){if(0==B.length)return[];{let J=[];return B.forEach(ne=>{J.push(ne.substring(0,ne.indexOf("?")))}),J}}acceptSendRequest(B){if(B){this.sendRequest=!0;let J=this.getFormValue(),ne={bankId:J.bankId??this.transactionInfo.bankId,bankHolder:J.accountNameControl??this.transactionInfo.bankHolder,address:J.address??this.transactionInfo.address,bankAccountNumber:J.bankNumber??this.transactionInfo.bankAccountNumber,contactPhone:J.contactPhone??this.balanceUserInfo.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(J.birthday??this.balanceUserInfo.birthday??""),idCard:J.idCard??this.balanceUserInfo.idCard,idIssuedBy:J.idIssuedBy??this.balanceUserInfo.idIssuedBy,idIssuedAt:new Date(J.idIssuedAt??this.balanceUserInfo.idIssuedAt??"")};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(ne).subscribe(Ne=>{1===Ne.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(Ne.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(B=>{1===B.success?(this.listBanks=B.data?.objs??[],this.successStatusObj()):this.errorStatusObj(B.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}constructor(B,J){var ne;super(),ne=this,this.testMarketQuestionService=B,this.apiUploadService=J,this.totalBalance=0,this.closeRequest=new e.vpe,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.loadingUpload=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=z.N.maxDateTimePicker,this.selectFile=function(){var Ne=(0,m.Z)(function*(Fe){let ht=Fe.target.files;try{for(var pt in ht)"length"!=pt&&"item"!=pt&&ne.uploadFile(ht[pt]);Fe.target.setAttribute("value","")}catch{}});return function(Fe){return Ne.apply(this,arguments)}}(),this.form=new x.cw({accountNameControl:new x.NI({value:this.transactionInfo.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required]}),bankId:new x.NI({value:this.transactionInfo.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required]}),bankNumber:new x.NI({value:this.transactionInfo.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required,x.kI.pattern("^[A-Za-z0-9]*$")]}),address:new x.NI({value:this.transactionInfo.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required]}),contactPhone:new x.NI({value:this.balanceUserInfo.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required,x.kI.pattern("^[0-9]*$"),x.kI.minLength(10)]}),idCard:new x.NI({value:this.balanceUserInfo.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required,x.kI.pattern("^[0-9]*$")]}),idIssuedBy:new x.NI({value:this.balanceUserInfo.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required]}),idIssuedAt:new x.NI({value:this.balanceUserInfo.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required]}),birthday:new x.NI({value:this.balanceUserInfo.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[x.kI.required]}),acceptPolicy:new x.NI(!1,{nonNullable:!0,validators:[x.kI.requiredTrue]})})}ngOnInit(){this.getBankObjs(),(!this.transactionInfo||this.commonService.isEmptyObj(this.transactionInfo))&&(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo.idImages&&this.balanceUserInfo.idImages.length?this.balanceUserInfo.idImages:[],this.currentBankId=this.transactionInfo.bankId??1}}return V.\u0275fac=function(B){return new(B||V)(e.Y36(k.Q_),e.Y36(P.W))},V.\u0275cmp=e.Xpm({type:V,selectors:[["withdraw-balance"]],inputs:{transactionInfo:"transactionInfo",totalBalance:"totalBalance",balanceUserInfo:"balanceUserInfo"},outputs:{closeRequest:"closeRequest"},features:[e._Bn([{provide:S.fM,useClass:re.WG,deps:[_e.Ad,ge.o8]},{provide:S.ab,useFactory:fe.fX,deps:[te.D]}]),e.qOj],decls:123,vars:94,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","edit",1,"ml-5","mr-2",2,"width","1.25rem!important"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline"],["formControlName","bankId","name","bankIdInput",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["idIssuedAt",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["birthday",""],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],["class","px-4 flex items-center justify-center cursor-pointer relative my-4",4,"ngIf"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["width","40","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","black",1,"w-5","h-5","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],["id","horizontal-form-1","type","file","id","inp_hidden","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(B,J){if(1&B){const ne=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5),e.ALo(6,"mytranslate"),e.ALo(7,"number"),e.qZA()(),e.TgZ(8,"div",5)(9,"h2",6),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"div",7),e.NdJ("click",function(){return J.enableEdit()}),e._UZ(13,"lucide-icon",8),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.TgZ(16,"form",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"label",14),e._uU(22),e.ALo(23,"mytranslate"),e.qZA(),e._UZ(24,"input",15),e.YNc(25,Ke,3,3,"div",16),e.qZA(),e.TgZ(26,"div",13)(27,"label",17),e._uU(28),e.ALo(29,"mytranslate"),e.qZA(),e.TgZ(30,"mat-form-field",18)(31,"mat-select",19),e.NdJ("valueChange",function(Fe){return J.currentBankId=Fe})("selectionChange",function(Fe){return J.selectBank(Fe.value)}),e.YNc(32,se,2,2,"mat-option",20),e.qZA()(),e.YNc(33,N,3,3,"div",16),e.qZA(),e.TgZ(34,"div",13)(35,"label",21),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e._UZ(38,"input",22),e.YNc(39,ce,3,3,"div",16),e.qZA(),e.TgZ(40,"div",23)(41,"h2",24),e._uU(42),e.ALo(43,"mytranslate"),e.qZA()(),e.TgZ(44,"div",13)(45,"label",25),e._uU(46),e.ALo(47,"mytranslate"),e.qZA(),e._UZ(48,"input",26),e.YNc(49,Ee,3,3,"div",16),e.qZA(),e.TgZ(50,"div",13)(51,"label",27),e._uU(52),e.ALo(53,"mytranslate"),e.qZA(),e._UZ(54,"input",28),e.YNc(55,ke,3,3,"div",16),e.qZA(),e.TgZ(56,"div",13)(57,"label",29),e._uU(58),e.ALo(59,"mytranslate"),e.qZA(),e.TgZ(60,"mat-form-field",30)(61,"input",31),e.NdJ("click",function(){e.CHM(ne);const Fe=e.MAs(67);return e.KtG(Fe.open())}),e.ALo(62,"mytranslate"),e.qZA(),e.TgZ(63,"button",32),e.NdJ("click",function(Fe){return e.CHM(ne),e.MAs(67).open(),e.KtG(Fe.stopPropagation())}),e.TgZ(64,"span",33),e._UZ(65,"lucide-icon",34),e.qZA()(),e.TgZ(66,"ngx-mat-datetime-picker",35,36)(68,"ngx-mat-datepicker-actions")(69,"button",37),e._uU(70,"OK"),e.qZA()()()()(),e.TgZ(71,"div",13)(72,"label",38),e._uU(73),e.ALo(74,"mytranslate"),e.qZA(),e.TgZ(75,"mat-form-field",30)(76,"input",39),e.NdJ("click",function(){e.CHM(ne);const Fe=e.MAs(82);return e.KtG(Fe.open())}),e.ALo(77,"mytranslate"),e.qZA(),e.TgZ(78,"button",40),e.NdJ("click",function(Fe){return e.CHM(ne),e.MAs(82).open(),e.KtG(Fe.stopPropagation())}),e.TgZ(79,"span",33),e._UZ(80,"lucide-icon",34),e.qZA()(),e.TgZ(81,"ngx-mat-datetime-picker",35,41)(83,"ngx-mat-datepicker-actions")(84,"button",37),e._uU(85,"OK"),e.qZA()()()()(),e.TgZ(86,"div",13)(87,"label",42),e._uU(88),e.ALo(89,"mytranslate"),e.qZA(),e._UZ(90,"input",43),e.YNc(91,ot,3,3,"div",16),e.qZA(),e.TgZ(92,"div",13)(93,"label",44),e._uU(94),e.ALo(95,"mytranslate"),e.qZA(),e._UZ(96,"input",45),e.YNc(97,ae,3,3,"div",16),e.qZA(),e.TgZ(98,"div",13)(99,"div",46),e._UZ(100,"input",47),e.TgZ(101,"label",48),e._uU(102),e.ALo(103,"mytranslate"),e.TgZ(104,"a",49),e._uU(105),e.ALo(106,"mytranslate"),e.qZA(),e._uU(107),e.ALo(108,"mytranslate"),e._UZ(109,"azt-download-link-item",50),e.ALo(110,"convertRawLinkOfGitHubWithLocale"),e._uU(111),e.ALo(112,"mytranslate"),e.qZA()(),e.YNc(113,je,3,3,"div",16),e.qZA(),e.YNc(114,oe,7,7,"div",51),e.qZA(),e.TgZ(115,"div",52)(116,"div",53)(117,"h2",54),e._uU(118),e.ALo(119,"mytranslate"),e.qZA()(),e.YNc(120,We,2,1,"div",55),e.YNc(121,xe,3,2,"div",56),e.qZA(),e.YNc(122,ye,8,7,"div",57),e.qZA()()()()()()}if(2&B){const ne=e.MAs(67),Ne=e.MAs(82);e.xp6(5),e.AsE(" ",e.lcZ(6,50,"lang_test_market_balance"),"",e.lcZ(7,52,J.totalBalance),"\u0111 "),e.xp6(5),e.hij(" ",e.lcZ(11,54,"lang_test_market_bank_infomation")," "),e.xp6(4),e.hij(" ",e.lcZ(15,56,J.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),e.xp6(2),e.Q6J("formGroup",J.form),e.xp6(6),e.hij(" ",e.lcZ(23,58,"lang_test_market_bankHolder")," "),e.xp6(3),e.Q6J("ngIf",J.form.controls.accountNameControl.dirty&&J.form.controls.accountNameControl.errors),e.xp6(3),e.hij(" ",e.lcZ(29,60,"lang_test_market_bankName")," "),e.xp6(3),e.Q6J("value",J.currentBankId),e.xp6(1),e.Q6J("ngForOf",J.listBanks),e.xp6(1),e.Q6J("ngIf",J.form.controls.bankId.dirty&&J.form.controls.bankId.errors),e.xp6(3),e.hij(" ",e.lcZ(37,62,"lang_test_market_bankNumber")," "),e.xp6(3),e.Q6J("ngIf",J.form.controls.bankNumber.dirty&&J.form.controls.bankNumber.errors),e.xp6(3),e.hij(" ",e.lcZ(43,64,"lang_test_market_personal_infomation")," "),e.xp6(4),e.hij(" ",e.lcZ(47,66,"lang_test_market_citizen_id")," "),e.xp6(3),e.Q6J("ngIf",J.form.controls.idCard.dirty&&J.form.controls.idCard.errors),e.xp6(3),e.hij(" ",e.lcZ(53,68,"lang_test_market_issued_by")," "),e.xp6(3),e.Q6J("ngIf",J.form.controls.idIssuedBy.dirty&&J.form.controls.idIssuedBy.errors),e.xp6(3),e.hij(" ",e.lcZ(59,70,"lang_test_market_issued_at")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(62,72,"lang_test_market_issued_at")),e.Q6J("max",J.maxDate)("ngxMatDatetimePicker",ne),e.xp6(5),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(7),e.hij(" ",e.lcZ(74,74,"lang_auto_ngay_sinh")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(77,76,"lang_auto_ngay_sinh")),e.Q6J("max",J.maxDate)("ngxMatDatetimePicker",Ne),e.xp6(5),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(7),e.hij(" ",e.lcZ(89,78,"lang_number_phone")," "),e.xp6(3),e.Q6J("ngIf",J.form.controls.contactPhone.dirty&&J.form.controls.contactPhone.errors),e.xp6(3),e.hij(" ",e.lcZ(95,80,"lang_test_market_address")," "),e.xp6(3),e.Q6J("ngIf",J.form.controls.address.dirty&&J.form.controls.address.errors),e.xp6(5),e.hij(" ",e.lcZ(103,82,"lang_test_market_Azota_policy_1"),""),e.xp6(2),e.s9C("href","/"+J.getCurLang()+"/admin/test-market/privacy",e.LSH),e.xp6(1),e.Oqu(e.lcZ(106,84,"lang_test_market_Azota_policy_2")),e.xp6(2),e.hij("\xa0",e.lcZ(108,86,"lang_auto_va"),"\xa0"),e.xp6(2),e.Q6J("dataUrl",e.lcZ(110,88,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),e.xp6(2),e.hij("",e.lcZ(112,90,"lang_test_market_Azota_policy_3")," "),e.xp6(2),e.Q6J("ngIf",(null==J.form.controls.acceptPolicy?null:J.form.controls.acceptPolicy.dirty)&&(null==J.form.controls.acceptPolicy?null:J.form.controls.acceptPolicy.errors)&&!(null!=J.form.controls.acceptPolicy&&J.form.controls.acceptPolicy.value)),e.xp6(1),e.Q6J("ngIf",!J.isMobile),e.xp6(4),e.hij(" ",e.lcZ(119,92,"lang_test_market_upload_citizenID_images")," "),e.xp6(2),e.Q6J("ngIf",J.citizenIdImages.length>0),e.xp6(1),e.Q6J("ngIf",J.enableEditInfo),e.xp6(1),e.Q6J("ngIf",J.isMobile)}},dependencies:[q.sg,q.O5,x._Y,x.Fj,x.Wl,x.JJ,x.JL,_e.ey,j.lW,F.Nt,pe.KE,pe.R9,Ye.gD,S.rZ,S.T$,S.c_,S.cL,x.sg,x.u,qe.M,ve.P,Ie.Nh5,q.JJ,Oe.JV,Oe.QN,Oe.jw],encapsulation:2}),V})()},36403:(vt,Te,v)=>{v.r(Te),v.d(Te,{AuthModule:()=>Lc});var m=v(96814),S=v(37691),e=v(65879),x=v(79823);(0,x.registerVersion)("firebase","10.5.2","app");var re=v(41954),te=v(2631);const U=new class O extends te.v{}(class fe extends re.o{constructor(l,t){super(l,t),this.scheduler=l,this.work=t}schedule(l,t=0){return t>0?super.schedule(l,t):(this.delay=t,this.state=l,this.scheduler.flush(this),this)}execute(l,t){return t>0||this.closed?super.execute(l,t):this._execute(l,t)}requestAsyncId(l,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(l,t,r):(l.flush(this),0)}});var k=v(16321),P=v(99397),q=v(85137),j=v(43093);const F=new e.GfV("ANGULARFIRE2_VERSION");class ve{constructor(){return((i,l)=>{const t=(0,x.getApps)(),r=[];return t.forEach(c=>{c.container.getProvider(i).instances.forEach(w=>{r.includes(w)||r.push(w)})}),r})(Ie)}}const Ie="app-check";function Oe(){}class Ke{constructor(l,t=U){(0,S.Z)(this,"zone",void 0),(0,S.Z)(this,"delegate",void 0),this.zone=l,this.delegate=t}now(){return this.delegate.now()}schedule(l,t,r){const c=this.zone;return this.delegate.schedule(function(w){c.runGuarded(()=>{l.apply(this,[w])})},t,r)}}class se{constructor(l){(0,S.Z)(this,"zone",void 0),(0,S.Z)(this,"task",null),this.zone=l}call(l,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oe,{},Oe,Oe)),t.pipe((0,P.b)({next:r,complete:r,error:r})).subscribe(l).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let N=(()=>{class i{constructor(t){(0,S.Z)(this,"ngZone",void 0),(0,S.Z)(this,"outsideAngular",void 0),(0,S.Z)(this,"insideAngular",void 0),this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ke(Zone.current)),this.insideAngular=t.run(()=>new Ke(Zone.current,k.z)),globalThis.\u0275AngularFireScheduler||=this}}return(0,S.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(e.R0b))}),(0,S.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})),i})();function je(i){return function oe(i){return function(t){return(t=t.lift(new se(i.ngZone))).pipe((0,q.R)(i.outsideAngular),(0,j.Q)(i.insideAngular))}}(function ce(){const i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return i}())(i)}var We=v(83399);We.Z.registerVersion("firebase","10.5.2","app-compat");const xe=["ngOnDestroy"];class V{constructor(l){return l}}const be=new e.OlP("angularfire2.app.options"),B=new e.OlP("angularfire2.app.name");function J(i,l,t){const c="object"==typeof t&&t||{};c.name=c.name||"string"==typeof t&&t||"[DEFAULT]";const w=We.Z.apps.filter(E=>E&&E.name===c.name)[0]||l.runOutsideAngular(()=>We.Z.initializeApp(i,c));try{if(JSON.stringify(i)!==JSON.stringify(w.options)){const E=!!module.hot;ne("error",`${w.name} Firebase App already initialized with different options${E?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new V(w)}const ne=(i,...l)=>{(0,e.X6Q)()&&typeof console<"u"&&console[i](...l)},Ne={provide:V,useFactory:J,deps:[be,e.R0b,[new e.FiY,B]]};let Fe=(()=>{class i{static initializeApp(t,r){return{ngModule:i,providers:[{provide:be,useValue:t},{provide:B,useValue:r}]}}constructor(t){We.Z.registerVersion("angularfire",F.full,"core"),We.Z.registerVersion("angularfire",F.full,"app-compat"),We.Z.registerVersion("angular",e.q4F.full,t.toString())}}return(0,S.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(e.Lbi))}),(0,S.Z)(i,"\u0275mod",e.oAB({type:i})),(0,S.Z)(i,"\u0275inj",e.cJS({providers:[Ne]})),i})();const ht=typeof module<"u"&&!!module.hot,pt=(i,...l)=>{(0,e.X6Q)()&&typeof console<"u"&&console[i](...l)};globalThis.\u0275AngularfireInstanceCache||=[];var y=v(56223),we=v(21266),Rt=v(42753),Le=v(37722);function Et(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"input",3,4),e.NdJ("paste",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.handlePaste(c))})("keyup",function(c){const w=e.CHM(t).index,E=e.oxw(2);return e.KtG(E.onKeyUp(c,w))})("input",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.onInput(c))})("keydown",function(c){const w=e.CHM(t).index,E=e.oxw(2);return e.KtG(E.onKeyDown(c,w))}),e.qZA()}if(2&i){const t=l.$implicit,r=l.index,c=e.oxw(2);e.Gre("otp-input ",c.config.inputClass,""),e.Q6J("pattern",c.config.allowNumbersOnly?"\\d*":"")("type",c.inputType)("placeholder",(null==c.config?null:c.config.placeholder)||"")("ngStyle",c.config.inputStyles)("formControl",c.otpForm.controls[t])("id",c.getBoxId(r))}}function Lt(i,l){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,Et,2,9,"input",2),e.ALo(2,"keys"),e.qZA()),2&i){const t=e.oxw();e.Gre("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),e.MGl("id","c_",t.componentKey,""),e.Q6J("ngStyle",t.config.containerStyles),e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,6,null==t.otpForm?null:t.otpForm.controls))}}class tt{static ifTab(l){return this.ifKey(l,"Tab")}static ifDelete(l){return this.ifKey(l,"Delete;Del")}static ifBackspace(l){return this.ifKey(l,"Backspace")}static ifRightArrow(l){return this.ifKey(l,"ArrowRight;Right")}static ifLeftArrow(l){return this.ifKey(l,"ArrowLeft;Left")}static ifSpacebar(l){return this.ifKey(l,"Spacebar; ")}static ifKey(l,t){return t.split(";").some(c=>c===l.key)}}let mt=(()=>{class i{transform(t){return Object.keys(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"keys",type:i,pure:!0}),i})(),rt=(()=>{class i{constructor(t,r){this.keysPipe=t,this.document=r,this.config={length:4},this.onInputChange=new e.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new y.cw({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new y.NI);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(r=>{var c=this.otpForm.controls[r].value;c&&c.length>1&&(c.length>=this.config.length?this.setValue(c):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const r=t.getElementsByClassName("otp-input")[0];r&&r.focus&&r.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,r){const c=this.getBoxId(r-1),_=this.getBoxId(r);return tt.ifSpacebar(t)?(t.preventDefault(),!1):tt.ifBackspace(t)?(t.target.value?this.clearInput(_,r):(this.clearInput(c,r-1),this.setSelected(c)),void this.rebuildValue()):void 0}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,r){tt.ifTab(t)&&(r-=1);const c=this.getBoxId(r+1),_=this.getBoxId(r-1),w=this.getBoxId(r);return tt.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(c)):tt.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(_)):tt.ifDelete(t)?(t.target.value?this.clearInput(w,r):(this.clearInput(_,r-1),this.setSelected(_)),void this.rebuildValue()):void(t.target.value&&(this.ifValidKeyCode(t)&&this.setSelected(c),this.rebuildValue()))}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,r){let c=this.getControlName(r);this.otpForm.controls[c]?.setValue(null);const _=this.document.getElementById(t);_&&_ instanceof HTMLInputElement&&(_.value=null)}setSelected(t){this.focusTo(t);const r=this.document.getElementById(t);r&&r.setSelectionRange&&setTimeout(()=>{r.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const r=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(r)}focusTo(t){const r=this.document.getElementById(t);r&&r.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((c,_)=>{this.otpForm.get(this.getControlName(_))&&this.otpForm.get(this.getControlName(_)).setValue(c)}),!this.config.disableAutoFocus){const c=this.document.getElementById(`c_${this.componentKey}`);var r=t.length<this.config.length?t.length:this.config.length-1;let _=c.getElementsByClassName("otp-input")[r];_&&_.focus&&_.focus()}this.rebuildValue()}}rebuildValue(){let t="";this.keysPipe.transform(this.otpForm.controls).forEach(r=>{if(this.otpForm.controls[r].value){let c=this.otpForm.controls[r].value,_=c.length>1,w=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());c=c[0];let E=w?"upper"==this.config.letterCase.toLocaleLowerCase()?c.toUpperCase():c.toLowerCase():c;w&&E==c?w=!1:c=E,t+=c,(_||w)&&this.otpForm.controls[r].setValue(c)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.emit(t),this.currentVal=t}handlePaste(t){let r=t.clipboardData||window.clipboardData;if(r)var c=r.getData("Text");t.stopPropagation(),t.preventDefault(),c&&(!this.config.allowNumbersOnly||this.validateNumber(c))&&this.setValue(c)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(mt),e.Y36(m.K0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,r){1&t&&e.YNc(0,Lt,3,8,"div",0),2&t&&e.Q6J("ngIf",null==r.otpForm?null:r.otpForm.controls)},dependencies:[m.O5,m.PC,m.sg,y.Fj,y.c5,y.JJ,y.oH,mt],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),i})(),gt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[mt],imports:[[m.ez,y.u5,y.UX]]}),i})();var Ht=v(60381),He=v(25391),lt=v(95545),zt=v(23348),xt=v(84155),on=v(78217),De=v(24406),Pe=v(20553),nt=v(82481),kt=v(52572),de=v(47496),Se=v(2816),it=v(79998),wt=v(23433),ze=v(43389),rn=v(98129),Bt=v(18881),At=v(29023),Ut=v(69862),b=v(23680),f=v(64170),p=v(44683),g=v(13217),d=v(84003),C=v(91765),L=v(61713),Q=v(19347),X=v(72164),W=v(50749),Ce=v(9235),ee=v(98525),Y=v(40750);function le(i,l){if(1&i&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function $e(i,l){if(1&i&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Kt(i,l){if(1&i&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Z(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",17),e.NdJ("valueChange",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.department_select=c)})("selectionChange",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.selectDepartment(c.value))}),e.ALo(3,"mytranslate"),e.YNc(4,Kt,2,2,"mat-option",7),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,3,"lang_testbank_utils_school_info_select_department")),e.Q6J("value",t.department_select),e.xp6(2),e.Q6J("ngForOf",t.departments)}}function T(i,l){if(1&i&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function M(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",18),e._uU(2,"\xa0"),e.qZA())}let K=(()=>{class i extends X.e{initData(){this.GetProvinces(),this.GetTypeSchool()}selectLocation(t){this.location_select=t,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}selectLevel(t){this.schools=[],this.school_select=null,this.level_select=t,t<=3?(this.getListSchool(),this.GetDistrictsByProvince()):t>3&&this.getListSchoolByProvince()}selectDepartment(t){this.schools=[],this.school_select=null,this.department_select=t,this.getListSchool()}selectSchool(t){this.school_select=t}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(r=>{r&&1==r.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(r.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack(this.sAztUserService.isTeacherRole()?"lang_auto_vui_long_chon_truong_minh_dang_giang_day":"lang_auto_vui_long_chon_truong_minh_dang_theo_hoc")}btnCloseDialog(t){this.dialogRef.close(t)}GetProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(t=>{t&&(this.locations=t.data?.objs??new Array,this.locations=this.sortName(this.locations))})}GetTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(t=>{t&&(this.levels=t.data?.objs??new Array)})}GetDistrictsByProvince(t=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(r=>{r&&(this.departments=r.data?.objs??new Array,this.departments=this.sortName(this.departments),t())})}getListSchoolByProvince(t=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),t())})}getListSchool(t=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),t())})}sortName(t){return t.sort((r,c)=>r.name?.trim().localeCompare(c.name?.trim()??"")??-1),t}ngOnInit(){this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.GetDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),super.ngOnInit()}constructor(t,r,c,_,w){super(w,_),this.schoolConfigService=t,this.schoolInfoService=r,this.sAztUserService=c,this.dialogRef=_,this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=w.infoSchool,this.form=new y.cw({LocationName:new y.NI("",{nonNullable:!0}),LevelName:new y.NI("",{nonNullable:!0}),DepartmentName:new y.NI("",{nonNullable:!0}),SchoolName:new y.NI("",{nonNullable:!0})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.Tt),e.Y36(Ce.pX),e.Y36(Se.U),e.Y36(Q.so,8),e.Y36(Q.WI,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["azt-school-info"]],features:[e.qOj],decls:32,vars:31,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["name","LocationName",3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],[1,"mt-3","mb-2","text-right"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"disabled","click"],[4,"ngIf"],[3,"value"],["name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",2),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-select",6),e.NdJ("valueChange",function(_){return r.location_select=_})("selectionChange",function(_){return r.selectLocation(_.value)}),e.ALo(11,"mytranslate"),e.YNc(12,le,2,2,"mat-option",7),e.qZA()()(),e.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-select",8),e.NdJ("valueChange",function(_){return r.level_select=_})("selectionChange",function(_){return r.selectLevel(_.value)}),e.ALo(16,"mytranslate"),e.YNc(17,$e,2,2,"mat-option",7),e.qZA()()(),e.YNc(18,Z,5,5,"div",9),e.TgZ(19,"div",10)(20,"mat-form-field",5)(21,"mat-select",11),e.NdJ("valueChange",function(_){return r.school_select=_})("selectionChange",function(_){return r.selectSchool(_.value)}),e.ALo(22,"mytranslate"),e.YNc(23,T,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(24,"div",12)(25,"button",13),e.NdJ("click",function(){return r.btnCloseDialog(void 0)}),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"button",14),e.NdJ("click",function(){return r.saveInfo()}),e.YNc(29,M,3,0,"span",15),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()),2&t){let c;e.xp6(2),e.hij(" ",e.lcZ(3,17,"lang_auto_cap_nhat_thong_tin_truong")," "),e.xp6(3),e.hij(" ",e.lcZ(6,19,"lang_testbank_utils_school_info_note_tutorial")," "),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(3),e.s9C("placeholder",e.lcZ(11,21,"lang_testbank_utils_school_info_select_province")),e.Q6J("value",r.location_select),e.xp6(2),e.Q6J("ngForOf",r.locations),e.xp6(3),e.s9C("placeholder",e.lcZ(16,23,"lang_testbank_utils_school_info_select_level")),e.Q6J("value",r.level_select),e.xp6(2),e.Q6J("ngForOf",r.levels),e.xp6(1),e.Q6J("ngIf",(null!==(c=r.level_select)&&void 0!==c?c:0)<=3),e.xp6(3),e.s9C("placeholder",e.lcZ(22,25,"lang_testbank_utils_school_info_select_school")),e.Q6J("value",r.school_select),e.xp6(2),e.Q6J("ngForOf",r.schools),e.xp6(3),e.hij(" ",e.lcZ(27,27,"lang_testbank_utils_school_info_later")," "),e.xp6(2),e.Q6J("disabled",r.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!0===r.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(31,29,"lang_buttom_save")," ")}},dependencies:[m.sg,m.O5,b.ey,f.KE,ee.gD,y._Y,y.JL,y.sg,Y.JV],encapsulation:2}),i})();function ie(i,l){if(1&i&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.desc)}}function he(i,l){if(1&i&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ze(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"p",18),e._uU(3),e.qZA()(),e.TgZ(4,"div",19)(5,"mat-form-field",5)(6,"mat-select",6),e.NdJ("selectionChange",function(c){const w=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.selectSubject(c,w))}),e.YNc(7,he,2,2,"mat-option",7),e.qZA()()()()}if(2&i){const t=l.$implicit,r=e.oxw(2);let c;e.xp6(3),e.Oqu(null==t.class?null:t.class.desc),e.xp6(3),e.Q6J("value",t.subjectsIds),e.xp6(1),e.Q6J("ngForOf",r.valueSubjectSurvey[null!==(c=null==t.class?null:t.class.value)&&void 0!==c?c:0])}}function Xe(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"div",13)(2,"label",4),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",14),e.YNc(6,Ze,8,3,"div",15),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"lang_auto_mon_day")),e.xp6(3),e.Q6J("ngForOf",t.dataObjs)}}function Ge(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",20),e._uU(2,"\xa0"),e.qZA())}let Jt=(()=>{class i extends X.e{ngOnInit(){super.ngOnInit()}selectSubject(t,r){for(let c=0;c<this.dataObjs.length;c++)this.dataObjs[c].class?.value==r.class?.value&&(this.dataObjs[c].subjectsIds=t.value);this.oldDataObjs=this.dataObjs}addSubject(t){let r=t.value.length?t.value:[];this.classroomGrade=[],r.forEach(w=>{let E=this.valueSurvey.find(D=>D.value==w);E&&!this.commonService.isExistInArray(this.classroomGrade,E)&&this.classroomGrade.push(E)});let c=this.oldDataObjs.length,_=this.classroomGrade.length;this.dataObjs.forEach((w,E)=>{this.classroomGrade.find(H=>H.value==w.class?.value)||this.dataObjs.splice(E,1)},this.dataObjs);for(let w=0;w<_;w++)if(this.dataObjs.find(D=>D.class?.value==this.classroomGrade[w].value)||this.dataObjs.push({class:this.classroomGrade[w],subjectsIds:[]}),c>0)for(let D=0;D<c;D++)this.dataObjs[w]&&this.oldDataObjs[D]&&this.dataObjs[w].class?.value==this.oldDataObjs[D].class?.value&&(this.dataObjs[w]=this.oldDataObjs[D]);this.dataObjs.sort((w,E)=>(w.class?.value??0)-(E.class?.value??0))}checkValidChooseGradeAndSubject(t){let r=!0;return t.length?t.forEach(c=>{(!c.subjectsIds||!c.subjectsIds.length)&&(r=!1)}):r=!1,r}saveInfo(){let t=[],r=[],c=[];for(let _=0;_<this.dataObjs.length;_++)if(this.commonService.isExistInArray(r,this.dataObjs[_].class?.value)||(r.push(Number(this.dataObjs[_].class?.value)),c.push(String(this.dataObjs[_].class?.desc))),this.dataObjs[_].subjectsIds&&Array.isArray(this.dataObjs[_].subjectsIds)){let w=this.dataObjs[_].subjectsIds??[];if(w.length)for(let E=0;E<w.length;E++)t.push({classId:this.dataObjs[_].class?.value??0,subjectId:w[E]})}t.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:t}).subscribe(_=>{_&&1==_.success?(this.classroomGradePathValue=r,this.dialogRef.close({classroomIds:r,classroomDescs:c})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}constructor(t,r,c){super(c,r),this.surveyConfigService=t,this.dialogRef=r,this.dataDialog=c,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((_,w)=>(_.class?.value??0)-(w.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey,this.form=new y.cw({LocationName:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),LevelName:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),DepartmentName:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),SchoolName:new y.NI("",{nonNullable:!0,validators:[y.kI.required]})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.XG),e.Y36(Q.so,8),e.Y36(Q.WI,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["azt-grade-subject-info"]],features:[e.qOj],decls:19,vars:15,consts:[[1,"box","p-5"],[1,"mt-3",3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","m-0"],[1,"form-label","font-medium"],["appearance","outline"],["multiple","",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-3","mb-2","text-right"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],[3,"value"],[1,"col-span-12"],[2,"height","250px","overflow-y","auto"],["class","flex w-full mb-2",4,"ngFor","ngForOf"],[1,"flex","w-full","mb-2"],[1,"text-left","w-20",2,"align-self","center"],[1,"text-md","font-medium","mb-0","mr-2"],[1,"w-full"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"mat-form-field",5)(8,"mat-select",6),e.NdJ("selectionChange",function(_){return r.addSubject(_)}),e.YNc(9,ie,2,2,"mat-option",7),e.qZA()()(),e.YNc(10,Xe,7,4,"ng-container",8),e.qZA()(),e.TgZ(11,"div",9)(12,"button",10),e.NdJ("click",function(){return r.btnCloseDialog()}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return r.saveInfo()}),e.YNc(16,Ge,3,0,"span",8),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.Oqu(e.lcZ(6,9,"lang_auto_khoi_day")),e.xp6(3),e.Q6J("value",r.classroomGradePathValue),e.xp6(1),e.Q6J("ngForOf",r.valueSurvey),e.xp6(1),e.Q6J("ngIf",r.dataObjs.length>0),e.xp6(3),e.hij(" ",e.lcZ(14,11,"lang_testbank_utils_school_info_later")," "),e.xp6(2),e.Q6J("disabled",r.statusObj.loading||!r.checkValidChooseGradeAndSubject(r.dataObjs)),e.xp6(1),e.Q6J("ngIf",!0===r.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(18,13,"lang_buttom_save")," "))},dependencies:[m.sg,m.O5,b.ey,f.KE,ee.gD,y._Y,y.JL,y.sg,Y.JV],encapsulation:2}),i})();var St=v(2783),Pr=v(82228),Gn=v(77203),an=v(32296),Qe=v(2032),Uo=v(85904),ut=v(67679);function Yn(i,l){1&i&&e._UZ(0,"azt-loading-effect")}function Mo(i,l){1&i&&(e.TgZ(0,"div",67),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function Nr(i,l){1&i&&e._UZ(0,"input",68)}function Rr(i,l){1&i&&(e._UZ(0,"input",69),e.ALo(1,"mytranslate")),2&i&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_email")+"...")}function Ur(i,l){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij("*",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function Do(i,l){if(1&i&&(e.TgZ(0,"div",70),e.YNc(1,Ur,3,3,"div",63),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("email","email")||t.getErrorType("email","pattern"))}}function qo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",71),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.goToConfirmEmail())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")))}function Hn(i,l){1&i&&e._UZ(0,"input",72)}function kn(i,l){1&i&&(e._UZ(0,"input",73),e.ALo(1,"mytranslate")),2&i&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function Kn(i,l){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function Mr(i,l){if(1&i&&(e.TgZ(0,"div",70),e.YNc(1,Kn,3,3,"div",63),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function $n(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",74),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.goToConfirm())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")))}function Dr(i,l){1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"div",75)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_account_general_require_school"),""))}function qr(i,l){1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"div",75)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_account_general_require_grade_subject"),""))}function jo(i,l){if(1&i){const t=e.EpF();e.O4$(),e.kcU(),e.ynx(0),e.TgZ(1,"div",76)(2,"label",56),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",57),e._UZ(6,"input",58),e.TgZ(7,"button",77),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.openSelectGradeSubjectDialog())}),e.O4$(),e.TgZ(8,"svg",13),e._UZ(9,"path",60)(10,"path",61),e.qZA(),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()(),e.YNc(13,qr,4,3,"div",62),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,4,"lang_auto_chon_khoi_day_mon_day")),e.xp6(3),e.s9C("value",t.classroomGradeDesc.join(", ")),e.xp6(5),e.hij(" ",e.lcZ(12,6,t.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),e.xp6(2),e.Q6J("ngIf",!t.classroomGradeDesc.length)}}function Fo(i,l){1&i&&(e.O4$(),e.TgZ(0,"svg",78)(1,"g",79)(2,"g",80),e._UZ(3,"circle",81),e.TgZ(4,"path",82),e._UZ(5,"animateTransform",83),e.qZA()()()())}function jr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",4)(1,"div",5)(2,"div",6),e._UZ(3,"azt-create-avatar",7),e.qZA(),e.TgZ(4,"div",8)(5,"div",9)(6,"input",10,11),e.NdJ("change",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.fileChangeEvent(c))}),e.qZA(),e.TgZ(8,"button",12),e.NdJ("click",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.fileChangeEvent(c))}),e.O4$(),e.TgZ(9,"svg",13),e._UZ(10,"path",14)(11,"polyline",15)(12,"line",16),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(15,"div",17),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"div",18)(19,"div",19)(20,"label",20),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e._UZ(23,"input",21),e.ALo(24,"mytranslate"),e.YNc(25,Mo,3,3,"div",22),e.qZA(),e.TgZ(26,"div",19)(27,"label",23),e._uU(28),e.ALo(29,"mytranslate"),e.qZA(),e.TgZ(30,"mat-form-field",24)(31,"input",25),e.NdJ("click",function(){e.CHM(t);const c=e.MAs(46);return e.KtG(c.open())}),e.ALo(32,"mytranslate"),e.qZA(),e.TgZ(33,"button",26),e.NdJ("click",function(c){return e.CHM(t),e.MAs(46).open(),e.KtG(c.stopPropagation())}),e.O4$(),e.TgZ(34,"svg",27),e._UZ(35,"rect",28)(36,"line",29)(37,"line",30)(38,"line",31)(39,"path",32)(40,"path",33)(41,"path",34)(42,"path",35)(43,"path",36)(44,"path",37),e.qZA()(),e.kcU(),e.TgZ(45,"ngx-mat-datetime-picker",38,39)(47,"ngx-mat-datepicker-actions")(48,"button",40),e._uU(49,"OK"),e.qZA()()()()(),e.TgZ(50,"div",19)(51,"label",41),e._uU(52),e.ALo(53,"mytranslate"),e.qZA(),e.YNc(54,Nr,1,0,"input",42),e.YNc(55,Rr,2,3,"input",43),e.YNc(56,Do,2,1,"div",44),e.YNc(57,qo,3,3,"a",45),e.qZA(),e.TgZ(58,"div",19)(59,"label",41),e._uU(60),e.ALo(61,"mytranslate"),e.qZA(),e.YNc(62,Hn,1,0,"input",46),e.YNc(63,kn,2,3,"input",47),e.YNc(64,Mr,2,1,"div",44),e.YNc(65,$n,3,3,"a",48),e.qZA(),e.TgZ(66,"div",19)(67,"label",41),e._uU(68),e.ALo(69,"mytranslate"),e.qZA(),e.TgZ(70,"div",49)(71,"div",50),e._UZ(72,"input",51),e.TgZ(73,"label",52),e._uU(74),e.ALo(75,"mytranslate"),e.qZA()(),e.TgZ(76,"div",50),e._UZ(77,"input",53),e.TgZ(78,"label",54),e._uU(79),e.ALo(80,"mytranslate"),e.qZA()()()(),e.TgZ(81,"div",55)(82,"label",56),e._uU(83),e.ALo(84,"mytranslate"),e.qZA(),e.TgZ(85,"div",57),e._UZ(86,"input",58),e.TgZ(87,"button",59),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.openDialogInfoSchool())}),e.O4$(),e.TgZ(88,"svg",13),e._UZ(89,"path",60)(90,"path",61),e.qZA(),e._uU(91),e.ALo(92,"mytranslate"),e.qZA()(),e.YNc(93,Dr,4,3,"div",62),e.qZA(),e.YNc(94,jo,14,8,"ng-container",63),e.qZA(),e.kcU(),e.TgZ(95,"div",64)(96,"button",65),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.parseInfoFieldForStudentObjsInExportExcel())}),e.YNc(97,Fo,6,0,"svg",66),e._uU(98),e.ALo(99,"mytranslate"),e.qZA()()()}if(2&i){const t=e.MAs(46),r=e.oxw();e.Q6J("formGroup",r.form),e.xp6(3),e.Q6J("linkAvatar",r.userObj.avatar)("nameCreateAvatar",r.userObj.fullName)("size",96),e.xp6(10),e.hij(" ",e.lcZ(14,36,"lang_auto_tai_len")," "),e.xp6(3),e.hij(" ",e.lcZ(17,38,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),e.xp6(5),e.hij(" ",e.lcZ(22,40,"lang_auto_ho_va_ten")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(24,42,"lang_auto_nhap_ho_va_ten")+"..."),e.xp6(2),e.Q6J("ngIf",r.form.controls.fullName.errors),e.xp6(3),e.Oqu(e.lcZ(29,44,"lang_auto_ngay_sinh")),e.xp6(3),e.s9C("placeholder",e.lcZ(32,46,"lang_auto_ngay_sinh")),e.Q6J("max",r.maxDate)("ngxMatDatetimePicker",t),e.xp6(14),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(7),e.hij(" ",e.lcZ(53,48,"lang_auto_email")," "),e.xp6(2),e.Q6J("ngIf",r.userObj.email),e.xp6(1),e.Q6J("ngIf",!r.userObj.email),e.xp6(1),e.Q6J("ngIf",r.form.controls.email.invalid&&r.form.controls.email.dirty),e.xp6(1),e.Q6J("ngIf",r.userObj.email),e.xp6(3),e.hij(" ",e.lcZ(61,50,"lang_auto_so_dien_thoai")," "),e.xp6(2),e.Q6J("ngIf",r.userObj.phone),e.xp6(1),e.Q6J("ngIf",!r.userObj.phone),e.xp6(1),e.Q6J("ngIf",r.form.controls.phone.invalid&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",r.userObj.phone),e.xp6(3),e.hij(" ",e.lcZ(69,52,"lang_auto_gioi_tinh")," "),e.xp6(6),e.hij(" ",e.lcZ(75,54,"lang_auto_nam")," "),e.xp6(5),e.hij(" ",e.lcZ(80,56,"lang_auto_nu")," "),e.xp6(4),e.Oqu(e.lcZ(84,58,"lang_auto_thong_tin_truong")),e.xp6(3),e.s9C("value",null==r.infoSchool?null:r.infoSchool.name),e.xp6(5),e.hij(" ",e.lcZ(92,60,null!=r.infoSchool&&r.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),e.xp6(2),e.Q6J("ngIf",!(null!=r.infoSchool&&r.infoSchool.name)),e.xp6(1),e.Q6J("ngIf",r.isTeacherDashboard),e.xp6(2),e.Q6J("disabled",!r.form.valid||!(null!=r.infoSchool&&r.infoSchool.name)||r.isTeacherDashboard&&!r.classroomGradeDesc.length),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(99,62,"lang_auto_cap_nhat")," ")}}function Qo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",96),e.NdJ("click",function(c){return c.stopPropagation()}),e.TgZ(1,"div",97)(2,"span",98),e.O4$(),e.TgZ(3,"svg",99),e._UZ(4,"path",100)(5,"line",101)(6,"line",102),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(9,"a",103),e.NdJ("click",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.fileChangeEvent(c))}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"input",104,11),e.NdJ("change",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.fileChangeEvent(c))}),e.qZA()()()}2&i&&(e.xp6(7),e.hij(" ",e.lcZ(8,2,"lang_auto_file_ban_chon_khong_phai_la_anh_vui_long")," "),e.xp6(3),e.Oqu(e.lcZ(11,4,"lang_auto_chon_lai")))}function Fr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",84)(1,"div",85)(2,"div",86)(3,"div",87)(4,"div",88),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()(),e.TgZ(7,"div",89)(8,"div",90),e.YNc(9,Qo,14,6,"div",91),e.TgZ(10,"image-cropper",92),e.NdJ("imageCropped",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.imageCropped(c))})("loadImageFailed",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.loadImageFailed())}),e.qZA()()(),e.TgZ(11,"div",93)(12,"button",94),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.removeDialog())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",95),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.submitAvatar())}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,9,"lang_auto_cap_nhat_anh_dai_dien")),e.xp6(4),e.Q6J("ngIf",!1===t.textImageFailed),e.xp6(1),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),e.xp6(3),e.Oqu(e.lcZ(14,11,"lang_auto_huy")),e.xp6(3),e.Oqu(e.lcZ(17,13,"lang_auto_cap_nhat"))}}let sn=(()=>{class i extends de.Q{openSelectGradeSubjectDialog(){this.sAztDialogService.open(Jt,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&c.classroomIds.length&&c.classroomDescs.length?(this.classroomGradePathValue=c.classroomIds,this.classroomGradeDesc=c.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.subscriptions.add(this.documentConfigService.apiDocumentConfigGetSubjectAndLevelObjsGet().subscribe(t=>{if(1==t.success){let r=t.data?.schoolLevelObjs??[],c=t.data?.schoolSubjectObjs??[];r.forEach(D=>{let H={value:D.id,desc:this.commonService.myTranslateInstant(D.name)};this.commonService.isExistInArray(this.valueSurvey,H)||this.valueSurvey.push(H)});let _=[],w=[],E=[];c.forEach(D=>{let H={type:0,id:D.id,name:this.commonService.myTranslateInstant(D.name)};D.from&&D.to&&D.from>=1&&D.to<=5?(H.type=1,this.commonService.isExistInArray(_,H)||_.push(H)):D.from&&D.to&&D.from>=6&&D.to<=9?(H.type=2,this.commonService.isExistInArray(w,H)||w.push(H)):(H.type=3,this.commonService.isExistInArray(E,H)||E.push(H));for(var ue=1;ue<=5;ue++)this.valueSubjectSurvey[ue]=_;for(ue=6;ue<=9;ue++)this.valueSubjectSurvey[ue]=w;for(ue=10;ue<=13;ue++)this.valueSubjectSurvey[ue]=E}),this.checkSurveySubmitted()}else this.errorStatusObj(t.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(t=>{t&&1==t.success?((t.data?.objs??[]).forEach(c=>{let _=this.valueSurvey.find(w=>w.value==c.classId);if(_){_.value&&_.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,_.value)&&(this.classroomGradePathValue.push(_.value),this.classroomGradeDesc.push(_.desc));let w=this.dataObjs.filter(E=>E.class?.value==_?.value);w&&w.length?this.dataObjs.forEach(E=>{E.class?.value==_?.value&&c.subjectId&&E.subjectsIds?.push(c.subjectId)},this.dataObjs):this.dataObjs.push({class:_,subjectsIds:c.subjectId?[c.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}fileChangeEvent(t){const r=t.target;r?.files?.length&&r.files[0].size<=5242880?(0,L.Or)(r?.files[0].type)?(this.imageChangedEvent=t,this.imageFileName=r?.files?.length?r.files[0].name:"",this.textImageFailed=!0):this.showErrorSnack("lang_auto_vui_long_tai_len_file_anh"):this.showErrorSnack("lang_auto_vui_long_chon_anh_co_kich_thuoc_nho_hon_5mb")}b64toFile(t,r){t=t.replace("data:image/png;base64,","");let w=window.atob(t),E=[];for(let H=0;H<w.length;H+=512){let ue=w.slice(H,H+512),Re=new Array(ue.length);for(let Ae=0;Ae<ue.length;Ae++)Re[Ae]=ue.charCodeAt(Ae);let st=new Uint8Array(Re);E.push(st)}return new File(E,r,{type:"image/png"})}imageCropped(t){fetch(t.objectUrl??"").then(r=>r.blob()).then(r=>{const c=new FileReader;c.onload=()=>{let w=this.b64toFile(c.result,this.imageFileName);this.saveAvatar=w},c.readAsDataURL(r)}).catch(r=>{console.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i:",r)})}submitAvatar(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0,this.initStatusObj(),this.uploadFile(this.saveAvatar)}removeDialog(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0}loadImageFailed(){this.textImageFailed=!1}uploadFile(t){t?(this.isSubmit=!1,(0,L.Or)(t.type)&&(0,L.hv)(t).then(r=>{this.apiUploadService.uploadToCdnForAvatar(r).subscribe(c=>{c.type!=Ut.dt.UploadProgress&&(1==c.success?this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:c.data?.url??""}).subscribe(w=>{1==w.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)})):this.errorStatusObj(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",c.message??""),!0))})})):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}openDialogInfoSchool(){this.sAztDialogService.open(K,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&(this.infoSchool=r)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(t=>{this.infoSchool=t.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.getFormValue(),r=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),c=t.birthday?t.birthday:r.toString(),_={fullName:t.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(c),gender:Number(t.gender)??0,email:t.email,phone:t.phone};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(_).subscribe(w=>{1==w.success?(w.data&&(this.saveUserObj.emit(w.data),this.userObj=w.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(w.message??"",!0)}))}}initData(){let t=this.userObj.birthday?this.userObj.birthday:new Date(1990,1,1);this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj.fullName??"",email:this.userObj.email??"",phone:this.userObj.phone??"",gender:1!=this.userObj.gender?"0":"1"}),this.form.controls.birthday.setValue(t.toString())}getFormValue(){return this.form.getRawValue()}getErrorType(t,r){return!!this.form.controls?.[t]?.errors?.[r]&&this.form.controls?.[t]?.errors?.[r]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",t)}checkEnableChangeEmailOrPhone(t,r){if("email"==r){if(!t||!t.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==r&&(!t||t.length>15))return!0;return!1}ngOnInit(){this.userObj.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.form.valueChanges.subscribe(t=>{let r=JSON.stringify(t);r!=this.prevData&&(this.prevData=r,this.form.patchValue(t))}),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(t,r,c,_,w,E,D,H){super(),this.userInfoService=t,this.userService=r,this.timeService=c,this.sAztDialogService=_,this.apiUploadService=w,this.schoolConfigService=E,this.surveyConfigService=D,this.documentConfigService=H,this.isTeacherDashboard=!1,this.saveUserObj=new e.vpe,this.prevData="",this.returnUrl="",this.backLink="",this.imageChangedEvent=void 0,this.croppedImage="",this.imageFileName="",this.textImageFailed=void 0,this.isSubmit=!1,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1,this.maxDate=Pe.N.maxDateTimePicker,this.form=new y.cw({fullName:new y.NI("",{nonNullable:!0,validators:[y.kI.required,C._.noWhiteSpace]}),gender:new y.NI("",{nonNullable:!0}),birthday:new y.NI("",{nonNullable:!0}),phone:new y.NI("",{nonNullable:!0,validators:[y.kI.pattern("^[0-9]{10}$")]}),email:new y.NI("",{nonNullable:!0,validators:[y.kI.email,y.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.$C),e.Y36(Se.U),e.Y36(d.D),e.Y36(St.C),e.Y36(Pr.W),e.Y36(W.Tt),e.Y36(W.XG),e.Y36(Gn.Cq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[e._Bn([m.uU,{provide:At.fM,useClass:p.WG,deps:[b.Ad,p.o8]},{provide:At.ab,useFactory:g.fX,deps:[d.D]},{provide:f.o2,useValue:{floatLabel:"never"}}]),e.qOj],decls:5,vars:3,consts:[[1,"intro-x","box","p-5"],[4,"ngIf","ngIfElse"],["doneLoad",""],["style","position: fixed; left: 0; top: 0; z-index: 9999; background: #303030b0; width: 100%; height: 100%; padding: 20px",4,"ngIf"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["type","file","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-slate-500","mt-1","text-xs"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"touchUi","hideTime"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["class","mt-1 text-xs","style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[1,"mt-1","text-xs",2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[2,"position","fixed","left","0","top","0","z-index","9999","background","#303030b0","width","100%","height","100%","padding","20px"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"font-medium","text-base","mr-auto"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],["azt-track-service","setting-general-HnOp3TjmEf","class","profile-img",3,"click",4,"ngIf"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped","loadImageFailed"],[1,"modal-footer"],["azt-track-service","setting-general-9QkXoEEUWs","control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","setting-general-2hxpex74KA","id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"],["azt-track-service","setting-general-HnOp3TjmEf",1,"profile-img",3,"click"],[1,"text-center","relative"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["azt-track-service","setting-general-bT6OQEh_x6",1,"text-primary","mr-1","cursor-pointer",3,"click"],["accept","image/*;capture=camera","type","file",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Yn,1,0,"azt-loading-effect",1),e.YNc(2,jr,100,64,"ng-template",null,2,e.W1O),e.qZA(),e.YNc(4,Fr,18,15,"div",3)),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.statusObj.loading)("ngIfElse",c),e.xp6(3),e.Q6J("ngIf",r.imageChangedEvent)}},dependencies:[m.O5,y._Y,y.Fj,y._,y.JJ,y.JL,an.lW,Qe.Nt,f.KE,f.R9,At.rZ,At.T$,At.c_,At.cL,y.sg,y.u,ze.l,Uo.g,ut.M,He.ap,Y.JV],styles:[".source-image {\n\t\tmargin: auto !important;\n\t}\n\t.modal-dialog[_ngcontent-%COMP%] {\n\t\tmax-width: 500px;\n\t\tmargin: auto;\n\t}"]}),i})();function zo(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",19)(3,"circle",20),e.qZA()())}function Xn(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),e.qZA()())}function Bo(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ei(i,l){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,Bo,3,3,"span",8),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.oldPassword.errors.required)}}function Qr(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",19)(3,"circle",20),e.qZA()())}function ti(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),e.qZA()())}function zr(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ni(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Sn(i,l){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,zr,3,3,"span",8),e.YNc(2,ni,3,3,"span",8),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.minlength)}}function ii(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.forgotPassword())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_quen_mat_khau")))}function Br(i,l){1&i&&(e.O4$(),e.TgZ(0,"svg",27)(1,"g",28)(2,"g",29),e._UZ(3,"circle",30),e.TgZ(4,"path",31),e._UZ(5,"animateTransform",32),e.qZA()()()())}let oi=(()=>{class i extends de.Q{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.getFormValue(),r={password:t.newPassword,oldPassword:t.oldPassword};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(r).subscribe(c=>{1==c.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(c.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let t=this.commonService.getMyParam(this.activeRoute,"roleType"),r=this.commonService.getMyParam(this.activeRoute,"modeType");var c="?return_url="+encodeURIComponent(`/auth/account-setting/${t}/${r}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",c)}getFormValue(){return this.form.getRawValue()}constructor(t,r){super(),this.userInfoService=t,this.activeRoute=r,this.showPasswordOld=!1,this.showPasswordNew=!1,this.form=new y.cw({oldPassword:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),newPassword:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.minLength(6)]})})}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.$C),e.Y36(we.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["setting-password"]],features:[e.qOj],decls:34,vars:30,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_","class","text-primary font-medium inline-block mr-auto",3,"click",4,"ngIf"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500","w-5","h-5"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","fade"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.ALo(9,"mytranslate"),e.TgZ(10,"button",7),e.NdJ("click",function(){return r.togglePasswordOld()}),e.YNc(11,zo,4,0,"span",8),e.YNc(12,Xn,6,0,"span",8),e.qZA()(),e.TgZ(13,"div",9),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.YNc(16,ei,2,1,"div",10),e.qZA(),e.TgZ(17,"div",3)(18,"label",11),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"input",12),e.ALo(23,"mytranslate"),e.TgZ(24,"button",13),e.NdJ("click",function(){return r.togglePasswordNew()}),e.YNc(25,Qr,4,0,"span",8),e.YNc(26,ti,6,0,"span",8),e.qZA()(),e.YNc(27,Sn,3,2,"div",10),e.qZA()(),e.TgZ(28,"div",14),e.YNc(29,ii,3,3,"a",15),e.TgZ(30,"button",16),e.NdJ("click",function(){return r.parseInfoFieldForStudentObjsInExportExcel()}),e.YNc(31,Br,6,0,"svg",17),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.hij(" ",e.lcZ(6,18,"lang_auto_mat_khau_hien_tai")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(9,20,"lang_auto_nhap_mat_khau")+"..."),e.Q6J("type",r.showPasswordOld?"text":"password"),e.xp6(3),e.Q6J("ngIf",r.showPasswordOld),e.xp6(1),e.Q6J("ngIf",!r.showPasswordOld),e.xp6(2),e.hij(" ",e.lcZ(15,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),e.xp6(2),e.Q6J("ngIf",r.form.controls.oldPassword.errors&&(r.form.controls.oldPassword.dirty||r.form.controls.oldPassword.touched)),e.xp6(3),e.Oqu(e.lcZ(20,24,"lang_auto_mat_khau_moi")),e.xp6(3),e.s9C("placeholder",e.lcZ(23,26,"lang_auto_nhap_mat_khau")+"..."),e.Q6J("type",r.showPasswordNew?"text":"password"),e.xp6(3),e.Q6J("ngIf",r.showPasswordNew),e.xp6(1),e.Q6J("ngIf",!r.showPasswordNew),e.xp6(1),e.Q6J("ngIf",r.form.controls.newPassword.errors&&(r.form.controls.newPassword.dirty||r.form.controls.newPassword.touched)),e.xp6(2),e.Q6J("ngIf",!r.isBusinessDomain),e.xp6(1),e.Q6J("disabled",r.form.invalid),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(33,28,"lang_auto_cap_nhat")," "))},dependencies:[m.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,ut.M,Y.JV],encapsulation:2}),i})();var Ct=v(70956);function ri(i,l){1&i&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auth_remove_teacher_role")))}function Jr(i,l){if(1&i&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function ai(i,l){if(1&i&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function Vr(i,l){1&i&&(e.O4$(),e.TgZ(0,"svg",7)(1,"g",8)(2,"g",9),e._UZ(3,"circle",10),e.TgZ(4,"path",11),e._UZ(5,"animateTransform",12),e.qZA()()()())}let si=(()=>{class i extends de.Q{becomeTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(""):this.errorStatusObj(t.message??"",!0)}))}becomeStudent(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/dashboard/0")):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.userInfoService=r,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.C),e.Y36(W.$C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[e.qOj],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"h5"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,ri,3,3,"span",3),e.YNc(4,Jr,3,3,"span",3),e.YNc(5,ai,3,3,"span",3),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return r.isTeacherDashboard?r.becomeStudent():r.becomeTeacher()}),e.YNc(7,Vr,6,0,"svg",5),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",r.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!r.isTeacherDashboard&&!r.isMobileWebView),e.xp6(1),e.Q6J("ngIf",!r.isTeacherDashboard&&r.isMobileWebView),e.xp6(2),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[m.O5,Y.JV],encapsulation:2}),i})();var Wr=v(7444);function ci(i,l){if(1&i&&(e.TgZ(0,"option",10),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=l.$implicit,r=e.oxw();e.Q6J("value",t)("selected",t==r.form.controls.dateFormat.value),e.xp6(1),e.AsE(" ",t," - ",e.lcZ(2,4,"lang_auth_user_setting_unit_"+t)," ")}}function Gr(i,l){1&i&&(e.O4$(),e.TgZ(0,"svg",11)(1,"g",12)(2,"g",13),e._UZ(3,"circle",14),e.TgZ(4,"path",15),e._UZ(5,"animateTransform",16),e.qZA()()()())}let li=(()=>{class i extends de.Q{saveUnitObj(){this.initStatusObj(),this.subscriptions.add(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(r=>{1==r.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(r.message??"",!0)}))}constructor(t,r,c){super(),this.timeService=t,this.userUnitService=r,this.configService=c,this.form=new y.cw({dateFormat:new y.NI("",[y.kI.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var t=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(t??null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.D),e.Y36(W.Fq),e.Y36(Wr.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["setting-unit"]],features:[e.qOj],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[3,"value","selected"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"select",5),e.YNc(8,ci,3,6,"option",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.saveUnitObj()}),e.YNc(11,Gr,6,0,"svg",9),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.hij(" ",e.lcZ(6,5,"lang_auth_user_setting_unit_format_date")," "),e.xp6(3),e.Q6J("ngForOf",r.formatDataObjs),e.xp6(3),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[m.sg,m.O5,y._Y,y.YN,y.Kr,y.EJ,y.JJ,y.JL,y.sg,y.u,ut.M,Y.JV],encapsulation:2}),i})();var pn=v(8720),Mt=v(89745),ui=v(41894),di=v(90159),Tt=v(23655),cn=v(30617),$t=v(98445),mn=v(71646);const _i=function(i){return{"mt-2 sm:mt-0":i}};function Yr(i,l){if(1&i&&(e.TgZ(0,"div",27),e._UZ(1,"input",28),e.TgZ(2,"label",29),e._uU(3),e.qZA()()),2&i){const t=l.$implicit,r=l.index,c=e.oxw();let _;e.Q6J("ngClass",e.VKq(5,_i,0!==r)),e.xp6(1),e.s9C("id","tag_"+t.id),e.s9C("value",t.id),e.xp6(1),e.s9C("for","tag_"+t.id),e.xp6(1),e.hij(" ",null!==(_=t[c.commonService.getCurrentLang()+"Name"])&&void 0!==_?_:t.enName," ")}}function hi(i,l){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=l.$implicit,r=e.oxw();e.Q6J("value",t.id)("selected",t.id==r.form.controls.schoolLevel.value),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.key)," ")}}function Hr(i,l){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=l.$implicit,r=e.oxw();e.Q6J("value",t.id)("selected",t.id==r.form.controls.schoolSubject.value),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.key)," ")}}function Kr(i,l){1&i&&(e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e._UZ(3,"azt-loading-ui",36),e.qZA()(),e.BQk()),2&i&&(e.xp6(3),e.Q6J("type","oval"))}const Zn=function(i){return{"azt-text-primary azt-font-bold":i}};function Xt(i,l){if(1&i&&(e.TgZ(0,"span",47)(1,"span",48),e._UZ(2,"lucide-icon",49),e.qZA()()),2&i){const t=e.oxw(2).$implicit,r=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(1,Zn,r.form.controls.classifyMaterials.value==t.id))}}function $r(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,Xt,3,3,"span",45),e.TgZ(2,"span",46),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.onPressNode(c))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isLeaf),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.item)," ")}}function Xr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",50),e.O4$(),e.TgZ(1,"svg",51),e._UZ(2,"path",52),e.qZA()(),e.kcU(),e.TgZ(3,"string",53),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.onPressNode(c))}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.lcZ(5,1,t.item)," ")}}const ln=function(i){return{"azt-text-primary":i}};function sc(i,l){if(1&i&&(e.TgZ(0,"mat-tree-node",42),e._UZ(1,"button",43),e.YNc(2,$r,5,4,"ng-container",32),e.YNc(3,Xr,6,3,"ng-template",null,44,e.W1O),e.qZA()),2&i){const t=l.$implicit,r=e.MAs(4),c=e.oxw(4);e.Q6J("ngClass",e.VKq(3,ln,c.form.controls.classifyMaterials.value==t.id)),e.xp6(2),e.Q6J("ngIf",t.isLeaf)("ngIfElse",r)}}function pi(i,l){if(1&i&&(e.TgZ(0,"button",57)(1,"mat-icon",58),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit,r=e.oxw(4);e.uIk("aria-label","Toggle "+t.item),e.xp6(2),e.hij(" ",r.treeControl.isExpanded(t)?"expand_more":"chevron_right"," ")}}function Dt(i,l){if(1&i&&(e.TgZ(0,"span",47)(1,"span",48),e._UZ(2,"lucide-icon",49),e.qZA()()),2&i){const t=e.oxw(2).$implicit,r=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(1,ln,r.form.controls.classifyMaterials.value==t.id))}}function un(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,Dt,3,3,"span",45),e.TgZ(2,"span",59),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.onPressNode(c))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isLeaf),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.item)," ")}}function gn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",50),e.O4$(),e.TgZ(1,"svg",51),e._UZ(2,"path",52),e.qZA()(),e.kcU(),e.TgZ(3,"span",60),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.onPressNode(c))}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.lcZ(5,1,t.item)," ")}}function ea(i,l){1&i&&(e.TgZ(0,"span",61),e._UZ(1,"azt-loading-ui",36),e.qZA()),2&i&&(e.xp6(1),e.Q6J("type","oval"))}function ta(i,l){if(1&i&&(e.TgZ(0,"mat-tree-node",42),e.YNc(1,pi,3,2,"button",54),e.YNc(2,un,5,4,"ng-container",32),e.YNc(3,gn,6,3,"ng-template",null,55,e.W1O),e.YNc(5,ea,2,1,"span",56),e.qZA()),2&i){const t=l.$implicit,r=e.MAs(4),c=e.oxw(4);e.Q6J("ngClass",e.VKq(5,Zn,c.form.controls.classifyMaterials.value==t.id)),e.xp6(1),e.Q6J("ngIf",!t.isLeaf),e.xp6(1),e.Q6J("ngIf",t.isLeaf)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",t.isLoading)}}function na(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-tree",39),e.YNc(2,sc,5,5,"mat-tree-node",40),e.YNc(3,ta,6,7,"mat-tree-node",41),e.qZA(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",t.hasChild)}}function ia(i,l){1&i&&(e.TgZ(0,"div",34)(1,"div",62),e.O4$(),e.TgZ(2,"svg",63),e._UZ(3,"path",64)(4,"path",65)(5,"path",66)(6,"path",67),e.qZA(),e.kcU(),e.TgZ(7,"p",68),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()),2&i&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function dn(i,l){if(1&i&&(e.TgZ(0,"ng-scrollbar",37),e.YNc(1,na,4,3,"ng-container",32),e.YNc(2,ia,10,3,"ng-template",null,38,e.W1O),e.qZA()),2&i){const t=e.MAs(3),r=e.oxw(2);e.Q6J("visibility","hover"),e.xp6(1),e.Q6J("ngIf",r.dataSource.data.length)("ngIfElse",t)}}function oa(i,l){if(1&i&&(e.TgZ(0,"div",12)(1,"div",31),e.YNc(2,Kr,4,1,"ng-container",32),e.YNc(3,dn,4,3,"ng-template",null,33,e.W1O),e.qZA()()),2&i){const t=e.MAs(4),r=e.oxw();e.xp6(2),e.Q6J("ngIf",r.loadingUnitSubject)("ngIfElse",t)}}function On(i,l){1&i&&(e.TgZ(0,"span",69),e._UZ(1,"azt-loading-ui",36),e.qZA()),2&i&&(e.xp6(1),e.Q6J("type","oval"))}let ra=(()=>{class i extends X.e{handleCloseDialog(){this.dialogRef.close()}filterSchoolSubject(t){if(this.form.controls.classifyMaterials.setValue(0),0==this.subjectSelectedList.length)this.filterSubject(t??1);else{let r=!1;for(let c=0;c<this.subjectSelectedList.length;c++)t&&(t<(this.subjectSelectedList[c].from??0)||t>(this.subjectSelectedList[c].to??0))&&(r=!0);r&&(this.filterSubject(t??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(t){let r=this.commonService.myClone(this.data.schoolSubjectObjs);this.subjectSelectedList=r.filter(c=>!(c.from&&c.to&&t)||t>=c.from&&t<=c.to)}initData(t){let r=this.form.controls.schoolLevel.value,c=this.form.controls.schoolSubject.value;this.dataSource=new di.LT(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!t?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(r,c).then(_=>{if(this.dataSource.data=_,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let w=this.data.questionShared?.knowledgeParentIds;for(let E=0;E<w.length;E++)(D=>{setTimeout(()=>{let H=this.dataSource.getNode(w[E]);H&&this.treeControl.expand(H)},500*E)})()}this.loadingUnitSubject=!1}))}onPressNode(t){if(t){if(t.isLeaf){let r=this.commonService.myClone(t);for(this.breadcrumbs=[r];r.prNode;)if(this.breadcrumbs.unshift(r.prNode),r=r.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(t)}}else this.breadcrumbs=[]}chooseLeafFolder(t){t.isLeaf?this.form.controls.classifyMaterials.setValue(t.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.initStatusObj();let t={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},r={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(t.questionId??0,t).subscribe(c=>{1===c.success?1==c.data?.status&&(this.dialogRef.close(r),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(c.message??"",!0)}))}patchValueForm(){let t=12,r=40,c=1,_=0;this.data.configShareQuestionLog.classifyMaterials?(c=this.data.configShareQuestionLog.awarenessLevel??1,t=this.data.configShareQuestionLog.schoolLevel??12,r=this.data.configShareQuestionLog.schoolSubject??40,_=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(t=this.data.questionShared.levelId??12,r=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(c=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(t),this.form.controls.awarenessLevel.setValue(c),this.form.controls.schoolLevel.setValue(t),this.form.controls.schoolSubject.setValue(r),this.form.controls.classifyMaterials.setValue(_),this.initData()}ngOnInit(){super.ngOnInit(),this.patchValueForm()}constructor(t,r,c,_,w){super(w,_),this.documentConfigService=t,this.database=r,this.testMarketQuestionService=c,this.dialogRef=_,this.data=w,this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=E=>E.level,this.isExpandable=E=>E.expandable,this.hasChild=(E,D)=>D.expandable,this.treeControl=new ui.C2(this.getLevel,this.isExpandable),this.dataSource=new di.LT(this.treeControl,r),this.form=new y.cw({awarenessLevel:new y.NI(1,{nonNullable:!0}),schoolLevel:new y.NI(0,{nonNullable:!0}),schoolSubject:new y.NI(0,{nonNullable:!0}),classifyMaterials:new y.NI(0,{nonNullable:!0})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Gn.Cq),e.Y36(di.H7),e.Y36(Tt.Q_),e.Y36(Q.so,8),e.Y36(Q.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-share-question"]],features:[e.qOj],decls:53,vars:37,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],[3,"type"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["noDataSource",""],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["notIsLeaf",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],[1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500","flex-none","inline-block",3,"ngClass"],["name","file-text"],["matTreeNodeToggle","",1,"cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500"],["d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["notIsLeafChild",""],["class","w-4 h-4 inline-block ml-4",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"w-4","h-4","inline-block","ml-4"],[1,"text-center","mx-auto"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M38.5 70H14C12.1435 70 10.363 69.2625 9.05025 67.9497C7.7375 66.637 7 64.8565 7 63V17.5C7 13.65 10.15 10.5 14 10.5H27.755C28.9079 10.506 30.0416 10.7966 31.0552 11.3462C32.0687 11.8957 32.9309 12.6871 33.565 13.65L36.435 17.85C37.0691 18.8129 37.9313 19.6043 38.9448 20.1538C39.9584 20.7034 41.092 20.994 42.245 21H70C71.8565 21 73.637 21.7375 74.9497 23.0503C76.2625 24.363 77 26.1435 77 28V42","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M59.5 70C65.299 70 70 65.299 70 59.5C70 53.701 65.299 49 59.5 49C53.701 49 49 53.701 49 59.5C49 65.299 53.701 70 59.5 70Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M73.5 73.5L68.25 68.25","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16 26V44.3184M16 50V54.7432V50Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[1,"w-4","h-4","mr-2"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()(),e.TgZ(6,"div",1)(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"div",10),e.YNc(16,Yr,4,7,"div",11),e.qZA()(),e.TgZ(17,"div",12)(18,"label",9),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"label",17),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"select",18),e.NdJ("change",function(){return r.filterSchoolSubject(r.form.controls.schoolLevel.value)}),e.TgZ(29,"option",19),e._uU(30),e.ALo(31,"mytranslate"),e.qZA(),e.YNc(32,hi,3,5,"option",20),e.qZA()()(),e.TgZ(33,"div",15)(34,"div",16)(35,"label",17),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e.TgZ(38,"select",21),e.NdJ("change",function(){return r.initData("change")}),e.TgZ(39,"option",19),e._uU(40),e.ALo(41,"mytranslate"),e.qZA(),e.YNc(42,Hr,3,5,"option",20),e.qZA()()()()()()(),e.TgZ(43,"div",7),e.YNc(44,oa,5,2,"div",22),e.qZA()()()()(),e.TgZ(45,"div",23)(46,"button",24),e.NdJ("click",function(){return r.handleCloseDialog()}),e._uU(47),e.ALo(48,"mytranslate"),e.qZA(),e.TgZ(49,"button",25),e.NdJ("click",function(){return r.confirmAction()}),e.YNc(50,On,2,1,"span",26),e._uU(51),e.ALo(52,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,19,"lang_test_market_edit_shared_question")," "),e.xp6(4),e.Q6J("formGroup",r.form),e.xp6(5),e.hij(" ",e.lcZ(14,21,"lang_auto_muc_do_nhan_biet")," "),e.xp6(3),e.Q6J("ngForOf",r.data.questionTags),e.xp6(3),e.hij(" ",e.lcZ(20,23,"lang_auto_don_vi_kien_thuc")," "),e.xp6(7),e.hij(" ",e.lcZ(27,25,"lang_auto_lop_hoc")," "),e.xp6(3),e.Q6J("selected",0==r.form.controls.schoolLevel.value),e.xp6(1),e.hij("",e.lcZ(31,27,"lang_auto_---chon_khoi"),"---"),e.xp6(2),e.Q6J("ngForOf",r.data.schoolLevelObjs),e.xp6(4),e.hij(" ",e.lcZ(37,29,"lang_auto_mon_hoc")," "),e.xp6(2),e.uIk("disabled",0==r.form.controls.schoolLevel.value?"":null),e.xp6(1),e.Q6J("selected",0==r.form.controls.schoolSubject.value),e.xp6(1),e.hij("",e.lcZ(41,31,"lang_auto_---chon_mon"),"---"),e.xp6(2),e.Q6J("ngForOf",r.subjectSelectedList),e.xp6(2),e.Q6J("ngIf",0!=r.form.controls.schoolSubject.value),e.xp6(3),e.hij(" ",e.lcZ(48,33,"lang_auto_dong")," "),e.xp6(2),e.Q6J("disabled",r.statusObj.loading||!r.form.controls.classifyMaterials.value),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(52,35,"lang_auto_sua")," "))},dependencies:[m.mk,m.sg,m.O5,y._Y,y.YN,y.Kr,y.Fj,y.EJ,y._,y.JJ,y.JL,an.RK,cn.Hw,$t.fQ,$t.ah,$t.eu,$t.gi,$t.uo,y.sg,y.u,ut.M,mn.n,lt.KC,Le.Nh5,Y.JV],encapsulation:2}),i})();var Jo=v(87469),mi=v(19662),at=v(88489),gi=v(77988),Vo=v(83306),fi=v(22749),En=v(57985);function Wo(i,l){1&i&&e._UZ(0,"azt-loading-effect")}function Go(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"withdraw-balance",6),e.NdJ("closeRequest",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.closeRequest(c))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("transactionInfo",t.transactionInfo)("balanceUserInfo",t.balanceUserInfo)("totalBalance",t.totalBalance)}}function aa(i,l){1&i&&(e.TgZ(0,"button",40)(1,"span",41),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_status_new")," "))}function vi(i,l){1&i&&(e.TgZ(0,"button",42)(1,"span",41),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_status_rejected")," "))}function yi(i,l){1&i&&(e.TgZ(0,"button",43)(1,"span",41),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_status_approved")," "))}function bi(i,l){1&i&&(e.TgZ(0,"span",62),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_new")," "))}function Ln(i,l){1&i&&(e.TgZ(0,"span",63),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_approved")," "))}function xi(i,l){if(1&i&&(e.TgZ(0,"span",64),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"lang_auto_status_rejected"),"",t.rejectedReason?e.lcZ(3,4," - "+t.rejectedReason):""," ")}}function Yo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",65),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.editQuestionShared(c))}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_sua")," "))}const wi=function(i){return{"selected-border-box":i}};function Ho(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr",52),e.NdJ("click",function(){const _=e.CHM(t).index,w=e.oxw(4);return e.KtG(w.selected=_)}),e.TgZ(1,"td")(2,"div",53),e._UZ(3,"azt-dynamic-hook",54),e.qZA()(),e.TgZ(4,"td"),e.YNc(5,bi,3,3,"span",55),e.YNc(6,Ln,3,3,"span",56),e.YNc(7,xi,4,6,"span",57),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"mytranslate"),e.ALo(17,"mytranslate"),e.qZA(),e.TgZ(18,"td",58)(19,"div",59)(20,"a",60),e.NdJ("click",function(){const _=e.CHM(t).$implicit,w=e.oxw(4);return e.KtG(w.viewQuestionDetail(_))}),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.YNc(23,Yo,3,3,"a",61),e.qZA()()()}if(2&i){const t=l.$implicit,r=l.index,c=e.oxw(4);e.Q6J("ngClass",e.VKq(21,wi,r==c.selected)),e.xp6(3),e.Q6J("content",null==t.question?null:t.question.content),e.xp6(2),e.Q6J("ngIf","new"==t.status),e.xp6(1),e.Q6J("ngIf","approved"==t.status),e.xp6(1),e.Q6J("ngIf","rejected"==t.status),e.xp6(2),e.hij(" ",e.lcZ(10,11,t.questionTagName)," "),e.xp6(3),e.hij(" ",e.lcZ(13,13,t.knowledgeName)," "),e.xp6(3),e.AsE(" ",e.lcZ(16,15,t.levelName)," - ",e.lcZ(17,17,t.subjectName)," "),e.xp6(6),e.hij(" ",e.lcZ(22,19,"lang_test_market_view_question")," "),e.xp6(2),e.Q6J("ngIf","approved"!=t.status)}}function Ai(i,l){if(1&i&&(e.TgZ(0,"drag-scroll",44)(1,"table",45)(2,"thead")(3,"tr",46)(4,"th",47),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"th",48),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"th",48),e._uU(11),e.ALo(12,"mytranslate"),e.qZA(),e.TgZ(13,"th",49),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"th",49),e._uU(17),e.ALo(18,"mytranslate"),e.ALo(19,"mytranslate"),e.qZA(),e._UZ(20,"th",50),e.qZA()(),e.TgZ(21,"tbody"),e.YNc(22,Ho,24,23,"tr",51),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(5),e.hij(" ",e.lcZ(6,7,"lang_auto_cau_hoi")," "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"lang_auto_trang_thai")," "),e.xp6(3),e.hij(" ",e.lcZ(12,11,"lang_auto_muc_do_nhan_biet")," "),e.xp6(3),e.hij(" ",e.lcZ(15,13,"lang_auto_don_vi_kien_thuc")," "),e.xp6(3),e.AsE(" ",e.lcZ(18,15,"lang_auto_khoi_hoc")," - ",e.lcZ(19,17,"lang_auto_mon_hoc")," "),e.xp6(5),e.Q6J("ngForOf",t.shareQuestionList)}}function Pn(i,l){1&i&&(e.TgZ(0,"div",66),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_khong_co_cau_hoi_nao")))}function Ci(i,l){if(1&i&&(e.TgZ(0,"div",67),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.totalShareQuestion+" "+e.lcZ(2,1,"lang_auto_cau_hoi")," ")}}const fn=function(i){return{"bg-primary text-white no-hover":i}};function Ti(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),e._uU(5),e.ALo(6,"mytranslate"),e.TgZ(7,"b",11),e._uU(8),e.ALo(9,"number"),e.qZA()()(),e.TgZ(10,"div",12)(11,"h3",10),e._uU(12),e.ALo(13,"mytranslate"),e.TgZ(14,"b",11),e._uU(15),e.ALo(16,"number"),e.qZA()()(),e.TgZ(17,"div",9)(18,"h3",10),e._uU(19),e.ALo(20,"mytranslate"),e.TgZ(21,"b",11),e._uU(22),e.ALo(23,"number"),e.qZA()()(),e.TgZ(24,"div",12)(25,"h3",10),e._uU(26),e.ALo(27,"mytranslate"),e.TgZ(28,"b",11),e._uU(29),e.ALo(30,"number"),e.qZA()()(),e.TgZ(31,"div",13)(32,"button",14),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.withdrawBalance())}),e._uU(33),e.ALo(34,"mytranslate"),e.qZA()()()(),e.TgZ(35,"div",15)(36,"div",16)(37,"button",17),e.O4$(),e.TgZ(38,"svg",18),e._UZ(39,"polygon",19),e.qZA(),e.kcU(),e.TgZ(40,"span",20),e._uU(41),e.ALo(42,"mytranslate"),e.qZA()(),e.YNc(43,aa,4,3,"button",21),e.YNc(44,vi,4,3,"button",22),e.YNc(45,yi,4,3,"button",23),e.qZA(),e.TgZ(46,"mat-menu",24,25)(48,"div",26)(49,"ul",27)(50,"li")(51,"span",28),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.filterStatus(void 0))}),e._uU(52),e.ALo(53,"mytranslate"),e.qZA()(),e.TgZ(54,"li")(55,"span",29),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.filterStatus("new"))}),e._uU(56),e.ALo(57,"mytranslate"),e.qZA()(),e.TgZ(58,"li")(59,"span",30),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.filterStatus("approved"))}),e._uU(60),e.ALo(61,"mytranslate"),e.qZA()(),e.TgZ(62,"li")(63,"span",31),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.filterStatus("rejected"))}),e._uU(64),e.ALo(65,"mytranslate"),e.qZA()()()()()(),e.TgZ(66,"div",32)(67,"div",33),e.YNc(68,Ai,23,19,"drag-scroll",34),e.YNc(69,Pn,3,3,"div",35),e.qZA(),e.TgZ(70,"div",36)(71,"div",37)(72,"azt-paging",38),e.NdJ("goToPaginationPage",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.getData(c))}),e.qZA()(),e.YNc(73,Ci,3,3,"div",39),e.qZA()(),e.BQk()}if(2&i){const t=e.MAs(47),r=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,28,"lang_test_market_total_questions_share")," "),e.xp6(3),e.Oqu(e.lcZ(9,30,r.totalShared)),e.xp6(4),e.hij(" ",e.lcZ(13,32,"lang_test_market_total_questions_approve")," "),e.xp6(3),e.Oqu(e.lcZ(16,34,r.totalApproved)),e.xp6(4),e.hij(" ",e.lcZ(20,36,"lang_test_market_total_questions_used")," "),e.xp6(3),e.Oqu(e.lcZ(23,38,r.totalUsed)),e.xp6(4),e.hij(" ",e.lcZ(27,40,"lang_test_market_total_balance")," "),e.xp6(3),e.hij("",e.lcZ(30,42,r.totalBalance),"\u0111"),e.xp6(3),e.Q6J("disabled",!r.totalBalance),e.xp6(1),e.hij(" ",e.lcZ(34,44,"lang_test_market_withdraw")," "),e.xp6(4),e.Q6J("matMenuTriggerFor",t),e.xp6(4),e.hij(" ",e.lcZ(42,46,"lang_test_market_filter_status")," "),e.xp6(2),e.Q6J("ngIf","new"==r.fillStatus),e.xp6(1),e.Q6J("ngIf","rejected"==r.fillStatus),e.xp6(1),e.Q6J("ngIf","approved"==r.fillStatus),e.xp6(6),e.Q6J("ngClass",e.VKq(56,fn,!r.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(53,48,"lang_auto_tat_ca")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(58,fn,"new"==r.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(57,50,"lang_auto_status_new")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(60,fn,"approved"==r.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(61,52,"lang_auto_status_approved")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(62,fn,"rejected"==r.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(65,54,"lang_auto_status_rejected")," "),e.xp6(4),e.Q6J("ngIf",0!=r.totalShareQuestion),e.xp6(1),e.Q6J("ngIf",0==r.totalShareQuestion),e.xp6(3),e.Q6J("totalPaginationPage",r.totalPage)("paging",r.page),e.xp6(1),e.Q6J("ngIf",0!=r.totalShareQuestion)}}function Ko(i,l){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,Go,1,3,"withdraw-balance",4),e.YNc(2,Ti,74,64,"ng-container",5),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isWithDraw&&t.transactionInfo&&t.balanceUserInfo),e.xp6(1),e.Q6J("ngIf",!t.isWithDraw)}}let Ii=(()=>{class i extends de.Q{constructor(t,r,c,_,w,E){super(),this.testMarketQuestionService=t,this.questionService=r,this.activeRoute=c,this.questionRenderService=_,this.browserStorageService=w,this.sAztDialogService=E,this.shareQuestionList=[],this.page=1,this.totalPage=0,this.sizePage=10,this.loadingRender=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.isWithDraw=!1,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.questionTags=[],this.selected=-1,this.fillStatus="",this.configRenderService=new pn.v(!0)}ngOnInit(){this.waitDestroy((0,kt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let t=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=t??"",this.getData(this.page)}))}filterStatus(t){this.fillStatus=t??"",this.browserStorageService.saveSimpleStorage("view_question_filter",t??""),this.getData(1)}withdrawBalance(){this.isWithDraw=!this.isWithDraw}closeRequest(t){t?(this.getData(this.page),this.isWithDraw=!1):this.isWithDraw=!1}getBalanceQuestionShared(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(t=>{1===t.success?(this.totalShared=t.data?.shared??0,this.totalUsed=t.data?.used??0,this.totalApproved=t.data?.approved??0,this.totalBalance=t.data?.balance??0,this.transactionInfo=t.data?.lastTransaction,this.balanceUserInfo=t.data,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}getData(t){this.loadingRender=!0,this.page=t,this.selected=-1,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,t,void 0).subscribe(r=>{if(1===r.success){this.shareQuestionList=r.data?.objs??[];let c=r.data?.total??1;this.totalShareQuestion=c,this.totalPage=c%this.sizePage>0?(c-c%this.sizePage)/this.sizePage+1:c>0?c/this.sizePage:1,this.page>this.totalPage&&(this.page=this.totalPage);let _=[];this.shareQuestionList.forEach(w=>{w.question&&_.push(w.question)}),this.loadQuest(_),this.getSubjectAndLevel(),this.getTagsQuestion(),this.getBalanceQuestionShared()}else this.errorStatusObj(r.message??"",!0)}))}loadQuest(t){this.loadingRender=!0;const r=this.commonService.castJsonToClassObjs(Mt.v,JSON.stringify(t));this.questionRenderService.parseRenderQuestions(r??[],c=>{},this.configRenderService).then(c=>{for(let _=0;_<this.shareQuestionList.length;_++)this.shareQuestionList[_].question=this.commonService.castObj(c[_]);this.loadingRender=!1}).catch(c=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}getSubjectAndLevel(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsSubjectLevelsGet().subscribe(t=>{1==t.success?(this.schoolLevelObjs=t.data?.schoolLevelObjs??[],this.schoolSubjectObjs=t.data?.schoolSubjectObjs??[],this.successStatusObj()):this.errorStatusObj(t.message??"")}))}getTagsQuestion(){this.subscriptions.add(this.questionService.apiQuestionGetTagsGet().subscribe(t=>{1===t.success?this.questionTags=t.data?.objs??[]:this.errorStatusObj(t.message??"")}))}editQuestionShared(t){this.sAztDialogService.open(ra,{width:"95vw",data:{questionShared:t,schoolLevelObjs:this.schoolLevelObjs,schoolSubjectObjs:this.schoolSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:t.levelId,schoolSubject:t.subjectId,awarenessLevel:t.questionTagId,questionId:t.questionId,classifyMaterials:t.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(c=>{if(c){let _=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=_??"",this.getData(this.page)}})}viewQuestionDetail(t){this.sAztDialogService.open(Jo.T,{width:"700px",data:{obj:t},restoreFocus:!1}).afterClosed().subscribe(c=>{})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Tt.Q_),e.Y36(Gn.aE),e.Y36(we.gz),e.Y36(mi.h),e.Y36(at.n),e.Y36(St.C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["view-share-question"]],features:[e.qOj],decls:4,vars:2,consts:[[1,"relative"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest"],[1,"box","p-5","w-full"],[1,"grid","grid-cols-12","gap-1"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"text-md","items-center"],[1,"text-lg"],[1,"col-span-12","md:col-span-2",2,"align-self","center"],[1,"col-span-12","md:col-span-2","text-right",2,"align-self","center"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md","mr-2",3,"disabled","click"],[1,"w-full","text-right","mt-2"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","mr-2","box",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"azt-hidden","md:block"],["class","btn btn-sm btn-pending","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-danger","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-success","style","cursor: default",4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0;text-align: center;",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"totalPaginationPage","paging","goToPaginationPage"],["class","w-20 mt-3 sm:mt-0 ",4,"ngIf"],[1,"btn","btn-sm","btn-pending",2,"cursor","default"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-danger",2,"cursor","default"],[1,"btn","btn-sm","btn-success",2,"cursor","default"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto","px-1",2,"min-width","1000px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","320px"],[1,"",2,"width","100px"],[1,""],[1,"whitespace-nowrap","text-center",2,"width","190px"],["azt-track-service","view-share-question-dC5aYTlKd6F","class","intro-x",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","view-share-question-dC5aYTlKd6F",1,"intro-x",3,"ngClass","click"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"table-report__action"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Wo,1,0,"azt-loading-effect",1),e.YNc(2,Ko,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.loadingRender)("ngIfElse",c)}},dependencies:[m.mk,m.sg,m.O5,gi.VK,gi.p6,ze.l,Vo.L,fi.O,Ht.HU,En.C,m.JJ,Y.JV],encapsulation:2}),i})();function sa(i,l){1&i&&e._UZ(0,"azt-loading-effect")}function ki(i,l){1&i&&(e.TgZ(0,"span",21),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_new")," "))}function ca(i,l){1&i&&(e.TgZ(0,"span",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_approved")," "))}function Si(i,l){1&i&&(e.TgZ(0,"span",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_settled")," "))}function vn(i,l){1&i&&(e.TgZ(0,"span",23),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_rejected")," "))}function Zi(i,l){if(1&i&&(e.TgZ(0,"tr",15)(1,"td",16),e._uU(2),e.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA(),e.TgZ(4,"td")(5,"b"),e._uU(6),e.ALo(7,"number"),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",17),e.YNc(17,ki,3,3,"span",18),e.YNc(18,ca,3,3,"span",19),e.YNc(19,Si,3,3,"span",19),e.YNc(20,vn,3,3,"span",20),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,10,t.createdAt)," "),e.xp6(4),e.hij("",e.lcZ(7,12,t.amount),"\u0111"),e.xp6(3),e.hij(" ",t.bankHolder," "),e.xp6(2),e.hij(" ",t.bankName," "),e.xp6(2),e.hij(" ",t.bankAccountNumber," "),e.xp6(2),e.hij(" ",t.address," "),e.xp6(2),e.Q6J("ngIf","new"==t.status),e.xp6(1),e.Q6J("ngIf","approved"==t.status),e.xp6(1),e.Q6J("ngIf","settled"==t.status),e.xp6(1),e.Q6J("ngIf","rejected"==t.status)}}function Oi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"drag-scroll",6)(4,"table",7)(5,"thead")(6,"tr",8)(7,"th",9),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"th",9),e._uU(11),e.ALo(12,"mytranslate"),e.qZA(),e.TgZ(13,"th",9),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"th",9),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.TgZ(19,"th",9),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"th",9),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"th",9),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Zi,21,14,"tr",10),e.qZA()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"azt-paging",13),e.NdJ("goToPaginationPage",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.getData(c))}),e.qZA()(),e.TgZ(33,"div",14),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(8),e.hij(" ",e.lcZ(9,11,"lang_test_market_withdraw_time")," "),e.xp6(3),e.hij(" ",e.lcZ(12,13,"lang_test_market_withdraw_amount_withdrawn")," "),e.xp6(3),e.hij(" ",e.lcZ(15,15,"lang_test_market_bankHolder")," "),e.xp6(3),e.hij(" ",e.lcZ(18,17,"lang_test_market_bankName")," "),e.xp6(3),e.hij(" ",e.lcZ(21,19,"lang_test_market_bankNumber")," "),e.xp6(3),e.hij(" ",e.lcZ(24,21,"lang_test_market_address")," "),e.xp6(3),e.hij(" ",e.lcZ(27,23,"lang_auto_trang_thai")," "),e.xp6(3),e.Q6J("ngForOf",t.withdrawHistoryObjs),e.xp6(3),e.Q6J("totalPaginationPage",t.totalPage)("paging",t.page),e.xp6(2),e.hij(" ",t.totalWithdrawTimes+" "+e.lcZ(35,25,"lang_test_market_withdraw_times")," ")}}let Nn=(()=>{class i extends de.Q{constructor(t,r){super(),this.testMarketQuestionService=t,this.activeRoute=r,this.page=1,this.totalPage=0,this.sizePage=10,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[]}ngOnInit(){this.waitDestroy((0,kt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.page)}))}getData(t){this.initStatusObj(),this.page=t,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(r=>{if(1===r.success){this.withdrawHistoryObjs=r.data?.objs??[];let c=r.data?.total??1;this.totalWithdrawTimes=c,this.totalPage=c%this.sizePage>0?(c-c%this.sizePage)/this.sizePage+1:c>0?c/this.sizePage:1,this.successStatusObj()}else this.errorStatusObj(r.message??"",!0)}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Tt.Q_),e.Y36(we.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["history-withdraw"]],features:[e.qOj],decls:4,vars:2,consts:[[1,""],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","1300px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"w-20","mt-3","sm:mt-0"],[1,"intro-x"],[1,"w-90"],[2,"padding-left","45px"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,sa,1,0,"azt-loading-effect",1),e.YNc(2,Oi,36,27,"ng-template",null,2,e.W1O),e.qZA()),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.statusObj.loading)("ngIfElse",c)}},dependencies:[m.sg,m.O5,ze.l,Vo.L,Ht.HU,m.JJ,Y.JV,Y.$n],encapsulation:2}),i})();function Ei(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function Li(i,l){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,Ei,3,3,"span",13),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.reason.errors.required)}}function la(i,l){1&i&&(e.O4$(),e.TgZ(0,"svg",14)(1,"g",15)(2,"g",16),e._UZ(3,"circle",17),e.TgZ(4,"path",18),e._UZ(5,"animateTransform",19),e.qZA()()()())}let Pi=(()=>{class i extends de.Q{saveUnitObj(){this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(t=>{1==t.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(t.message??"",!0)}))}constructor(t,r){super(),this.authService=t,this.mobileWebviewService=r,this.form=new y.cw({reason:new y.NI("",[y.kI.required])})}ngOnInit(){this.form.controls.reason.setValue("")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.e8),e.Y36(wt.r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["remove-account"]],features:[e.qOj],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"input",7),e.qZA(),e.YNc(12,Li,2,1,"div",8),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return r.saveUnitObj()}),e.YNc(15,la,6,0,"svg",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.hij(" ",e.lcZ(6,7,"lang_auto_xoa_tai_khoan")," "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),e.xp6(4),e.Q6J("ngIf",r.form.controls.reason.errors&&(r.form.controls.reason.dirty||r.form.controls.reason.touched)),e.xp6(2),e.Q6J("disabled",r.statusObj.loading||r.form.controls.reason.errors),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(17,11,"lang_auto_xac_nhan")," "))},dependencies:[m.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,ut.M,Y.JV],encapsulation:2}),i})();function ua(i,l){1&i&&e._UZ(0,"azt-loading-effect")}function Ni(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label",6)(5,"span",7),e._UZ(6,"lucide-icon",8),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"input",9),e.NdJ("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.mobLoginFingerprintOrFace())}),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("name",t.enableForFace?"scan-face":"fingerprint"),e.xp6(1),e.hij(" ",t.enableForFace?e.lcZ(8,3,"lang_core_login_with_face"):e.lcZ(9,5,"lang_core_login_with_fingerprint")," "),e.xp6(3),e.Q6J("formControl",t.checkLoginFingerprintOrFaceControl)}}let da=(()=>{class i extends de.Q{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(t){super(),this.mobileWebviewService=t,this.checkLoginFingerprintOrFaceControl=new y.NI(!1,{nonNullable:!0}),this.enableForFace=!1}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(wt.r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],[1,"w-4","h-4","mr-2","inline-block"],[3,"name"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"]],template:function(t,r){if(1&t&&(e.YNc(0,ua,1,0,"azt-loading-effect",0),e.YNc(1,Ni,11,7,"ng-template",null,1,e.W1O)),2&t){const c=e.MAs(2);e.Q6J("ngIf",r.statusObj.loading)("ngIfElse",c)}},dependencies:[m.O5,y.Wl,y.JJ,y.oH,ze.l,Le.Nh5,Y.JV],encapsulation:2}),i})();function Ri(i,l){if(1&i&&(e.TgZ(0,"teacher-layout",2),e.GkF(1,3),e.qZA()),2&i){const t=e.oxw(),r=e.MAs(3);e.Q6J("headerBackToLink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",r)}}function $o(i,l){if(1&i&&(e.TgZ(0,"student-layout",2),e.GkF(1,3),e.qZA()),2&i){const t=e.oxw(),r=e.MAs(3);e.Q6J("headerBackToLink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",r)}}const Pt=function(i){return{"bg-primary text-white font-medium":i}};function _a(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(0))}),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"path",25)(3,"circle",26),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pt,"general"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_auto_chung")," ")}}function Ui(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(1))}),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"rect",28)(3,"path",29),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pt,"password"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_auto_doi_mat_khau")," ")}}function ha(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(5))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",32),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pt,"setting-unit"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auth_setting_user_unit")," ")}}function Mi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(3))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",34),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pt,"share-question"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auto_danh_sach_cau_hoi_chia_se")," ")}}function pa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(4))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",36),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pt,"history-withdraw"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_test_market_withdraw_history")," ")}}function ma(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(2))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",38),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pt,"setting-role"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auth_user_setting_change_role")," ")}}function Di(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(7))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",40),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(7,Pt,"setting-fingerprint-or-face"==t.modeView)),e.xp6(2),e.Q6J("name",t.enableForFace?"scan-face":"fingerprint"),e.xp6(1),e.hij(" ",t.enableForFace?e.lcZ(4,3,"lang_core_login_with_face"):e.lcZ(5,5,"lang_core_login_with_fingerprint")," ")}}function ga(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changModeView(6))}),e.TgZ(1,"span",31),e._UZ(2,"lucide-icon",42),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Pt,"remove-account"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auto_xoa_tai_khoan")," ")}}function fa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.mobLogout())}),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"path",44)(3,"polyline",45)(4,"line",46),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()}2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"lang_auto_dang_xuat")," "))}function qi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"setting-general",47),e.NdJ("saveUserObj",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.saveUserObjData(c))}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("userObj",t.userObj)("isTeacherDashboard",t.isTeacherDashboard)}}function va(i,l){1&i&&(e.TgZ(0,"div"),e._UZ(1,"setting-password"),e.qZA())}function ji(i,l){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"setting-role",48),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("isTeacherDashboard",t.isTeacherDashboard)("hasTeacherRole",t.hasTeacherRole)}}function ya(i,l){1&i&&(e.TgZ(0,"div"),e._UZ(1,"setting-unit"),e.qZA())}function Fi(i,l){1&i&&(e.TgZ(0,"div"),e._UZ(1,"view-share-question"),e.qZA())}function ba(i,l){1&i&&(e.TgZ(0,"div"),e._UZ(1,"history-withdraw"),e.qZA())}function Qi(i,l){1&i&&(e.TgZ(0,"div"),e._UZ(1,"remove-account"),e.qZA())}function xa(i,l){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"setting-fingerprint-or-face",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("checkLoginFingerprintOrFaceControl",t.checkLoginFingerprintOrFace)("enableForFace",t.enableForFace)}}const zi=function(i){return{"margin-bottom":i}};function wa(i,l){if(1&i&&(e._UZ(0,"azt-loading-effect",4),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()(),e.TgZ(7,"div",9)(8,"div",10)(9,"div",11),e.YNc(10,_a,6,6,"button",12),e.YNc(11,Ui,6,6,"button",13),e.YNc(12,ha,5,6,"button",14),e.YNc(13,Mi,5,6,"button",15),e.YNc(14,pa,5,6,"button",16),e.YNc(15,ma,5,6,"button",17),e.YNc(16,Di,6,9,"button",18),e.YNc(17,ga,5,6,"button",19),e.YNc(18,fa,7,3,"button",20),e.qZA()()(),e.TgZ(19,"div",21),e.YNc(20,qi,2,2,"div",22),e.YNc(21,va,2,0,"div",22),e.YNc(22,ji,2,2,"div",22),e.YNc(23,ya,2,0,"div",22),e.YNc(24,Fi,2,0,"div",22),e.YNc(25,ba,2,0,"div",22),e.YNc(26,Qi,2,0,"div",22),e.YNc(27,xa,2,2,"div",22),e.qZA()()()),2&i){const t=e.oxw();e.Q6J("hidden",!1===t.isLoading),e.xp6(5),e.hij(" ",e.lcZ(6,20,"lang_auto_cai_dat_tai_khoan")," "),e.xp6(5),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf","setting-role"==t.modeView),e.xp6(1),e.Q6J("ngIf",t.isMobileWebView&&t.isShowBiometricSetting),e.xp6(1),e.Q6J("ngIf",t.isTeacherDashboard&&t.isMobileWebView),e.xp6(1),e.Q6J("ngIf",t.isMobileWebView),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,zi,t.isMobileWebView?"200px":"0")),e.xp6(1),e.Q6J("ngIf","general"==t.modeView&&t.userObj),e.xp6(1),e.Q6J("ngIf","password"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-unit"==t.modeView),e.xp6(1),e.Q6J("ngIf","share-question"==t.modeView),e.xp6(1),e.Q6J("ngIf","history-withdraw"==t.modeView),e.xp6(1),e.Q6J("ngIf","remove-account"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-fingerprint-or-face"==t.modeView)}}let Bi=(()=>{class i extends de.Q{changModeView(t){let r=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString("/auth/account-setting/0/"+t,r?"?backTo="+encodeURIComponent(r):"")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(t){this.userObj=t}mobLogout(){this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.subscriptions.add(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(t=>{(t?.supportFace||t?.supportFingerprint)&&(this.enableForFace=t.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(t?.isOnOfOff??!1)),this.stopStatusObj()}))}ngOnInit(){this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}),super.ngOnInit()),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.waitDestroy((0,kt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;default:this.modeView="general"}const r=this.commonService.getMyQueryParam("modeView");r&&(this.modeView=r);let c=this.commonService.getMyQueryParam("backTo");this.backLink=c??(this.isTeacherDashboard?"/admin/dashboard":"/student/dashboard/0")}))}constructor(t,r,c,_){super(),this.userService=t,this.redirectService=r,this.activeRoute=c,this.mobileWebviewService=_,this.prevData="",this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new y.NI(!1,{nonNullable:!0}),this.enableForFace=!1,this.isShowBiometricSetting=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Se.U),e.Y36(it.z),e.Y36(we.gz),e.Y36(wt.r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-account-setting"]],features:[e.qOj],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"hidden"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"w-4","h-4","mr-2","inline-block"],["name","ruler"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","clipboard-list"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","history"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","user"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[3,"name"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","trash-2"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[3,"userObj","isTeacherDashboard","saveUserObj"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(t,r){1&t&&(e.YNc(0,Ri,2,2,"teacher-layout",0),e.YNc(1,$o,2,2,"student-layout",0),e.YNc(2,wa,28,24,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf",r.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!r.isTeacherDashboard))},dependencies:[m.mk,m.O5,m.tP,m.PC,ze.l,rn._,Bt.L,Le.Nh5,sn,oi,si,li,Ii,Nn,Pi,da,Y.JV],encapsulation:2}),i})();var Rn=v(18699),Ji=v(24097);function Aa(i,l){if(1&i&&(e.TgZ(0,"div",5),e.GkF(1,6),e.qZA()),2&i){e.oxw();const t=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Ca(i,l){if(1&i&&(e.TgZ(0,"div",5),e.GkF(1,6),e.qZA()),2&i){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Xo(i,l){1&i&&e.Hsn(0)}function Vi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.switchModeUI("dark"))}),e.O4$(),e.TgZ(1,"svg",20),e._UZ(2,"path",21),e.qZA(),e.kcU(),e.TgZ(3,"span",22),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_che_de_toi")))}function Ta(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.switchModeUI("light"))}),e.O4$(),e.TgZ(1,"svg",20),e._UZ(2,"circle",24)(3,"path",25)(4,"path",26)(5,"path",27)(6,"path",28)(7,"path",29)(8,"path",30)(9,"path",31)(10,"path",32),e.qZA(),e.kcU(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()}2&i&&(e.xp6(12),e.Oqu(e.lcZ(13,1,"lang_auto_che_de_sang")))}const _n=function(i){return[i]};function er(i,l){if(1&i&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"a",10),e.ALo(4,"navigationLocalize"),e._UZ(5,"img",11),e.ALo(6,"convertCdnLinkOfGitHub"),e.qZA()(),e.TgZ(7,"div",12),e._UZ(8,"azt-switch-language"),e.qZA(),e.TgZ(9,"div",13),e.YNc(10,Vi,6,3,"button",14),e.YNc(11,Ta,14,3,"button",15),e.qZA()(),e.TgZ(12,"div",16)(13,"div",17)(14,"div",18),e.GkF(15,6),e.qZA()()()()),2&i){const t=e.oxw(),r=e.MAs(4);e.xp6(3),e.Q6J("routerLink",e.VKq(9,_n,e.lcZ(4,5,"/auth/login"))),e.xp6(2),e.Q6J("src",e.lcZ(6,7,"images/logo.svg"),e.LSH),e.xp6(5),e.Q6J("ngIf","light"==t.modeUI),e.xp6(1),e.Q6J("ngIf","dark"==t.modeUI),e.xp6(4),e.Q6J("ngTemplateOutlet",r)}}function Ia(i,l){if(1&i&&(e.TgZ(0,"div",7)(1,"div",16)(2,"div",17)(3,"div",18),e.GkF(4,6),e.qZA()()()()),2&i){e.oxw();const t=e.MAs(4);e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}const ka=["*"];let qt=(()=>{class i extends de.Q{switchModeUI(t){let r=document.getElementById("azota-app-html");r&&(this.modeUI=t,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(r.classList.remove("dark"),r.classList.add("light")):(r.classList.remove("light"),r.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(t){super(),this.browserStorageService=t,this.modeUI="",this.initStatusObj()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(at.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["auth-layout"]],features:[e.qOj],ngContentSelectors:ka,decls:9,vars:2,consts:[[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"p-5","box","mx-auto","w-full",2,"max-width","500px"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"]],template:function(t,r){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,Aa,2,1,"div",1),e.YNc(2,Ca,2,1,"div",1),e.qZA(),e.YNc(3,Xo,1,0,"ng-template",null,2,e.W1O),e.YNc(5,er,16,11,"ng-template",null,3,e.W1O),e.YNc(7,Ia,5,1,"ng-template",null,4,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",!r.isMobileWebView&&!r.statusObj.loading),e.xp6(1),e.Q6J("ngIf",r.isMobileWebView&&!r.statusObj.loading))},dependencies:[we.rH,m.O5,m.tP,Ji.e,Y.Jy,Y.JV,Y.Bo],encapsulation:2}),i})();function Sa(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_email")," "))}function Za(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function cc(i,l){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,Sa,3,3,"span",2),e.YNc(2,Za,3,3,"span",2),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.email||t.form.controls.email.errors.pattern)}}function lc(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",17),e._UZ(2,"path",18)(3,"circle",19),e.qZA()())}function uc(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",17),e._UZ(2,"path",20)(3,"path",21)(4,"path",22)(5,"line",23),e.qZA()())}function Wi(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function Oa(i,l){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,Wi,3,3,"span",2),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required)}}function Ea(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",25)(2,"g",26)(3,"g",27),e._UZ(4,"circle",28),e.TgZ(5,"path",29),e._UZ(6,"animateTransform",30),e.qZA()()()()())}function dc(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",7)(2,"div",8),e._UZ(3,"input",9),e.ALo(4,"mytranslate"),e.YNc(5,cc,3,2,"div",10),e.qZA(),e.TgZ(6,"div",8)(7,"div",11),e._UZ(8,"input",12),e.ALo(9,"mytranslate"),e.TgZ(10,"button",13),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.togglePassword())}),e.YNc(11,lc,4,0,"span",2),e.YNc(12,uc,6,0,"span",2),e.qZA()(),e.YNc(13,Oa,2,1,"div",14),e.qZA(),e.TgZ(14,"div",3)(15,"button",15),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.confirmChangeEmail())}),e.YNc(16,Ea,7,0,"span",2),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.s9C("placeholder",e.lcZ(4,11,"lang_auto_nhap_email_moi")),e.xp6(2),e.Q6J("ngIf",t.form.controls.email.errors&&t.form.controls.email.dirty),e.xp6(3),e.s9C("placeholder",e.lcZ(9,13,"lang_auto_mat_khau")),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(2),e.Q6J("disabled",t.statusObj.loading||t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(18,15,"lang_button_confirm")," ")}}function _c(i,l){if(1&i&&(e.TgZ(0,"div")(1,"div",31)(2,"div",32)(3,"p",33),e._uU(4),e.ALo(5,"mytranslate"),e.TgZ(6,"b"),e._uU(7),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.xp6(3),e.Oqu(t.oldEmail),e.xp6(1),e.hij(" ",e.lcZ(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let hc=(()=>{class i extends de.Q{confirmChangeEmail(){this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeEmailByPasswordPost({newEmail:this.form.controls.email.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success){let c=r.data?.value;if(c){this.successStatusObj("lang_auth_email_changed_successfully",!0);let _=this.userService.getUserObj();_.email=c,this.userService.saveUserObj(_),this.localStorageObject.clearAllCache(),this.backToRedirect()}else this.errorStatusObj("lang_auto_vui_long_nhap_email",!0)}else this.errorStatusObj(r.message??"",!0)})))}backToRedirect(){let t=this.getMyQueryParam("return_url");t&&this.myNavigation(t)}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r,c){super(),this.userInfoService=t,this.localStorageObject=r,this.userService=c,this.step=1,this.oldEmail="",this.showPassword=!1,this.form=new y.cw({email:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.email,y.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),password:new y.NI("",{nonNullable:!0,validators:[y.kI.required]})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.$C),e.Y36(Rn.y),e.Y36(Se.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-account"]],features:[e.qOj],decls:13,vars:8,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","email","formControlName","email",1,"form-control",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","w-full",3,"disabled","click"],[1,"text-xs","text-danger","font-medium","mt-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(t,r){1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,dc,19,17,"div",2),e.YNc(6,_c,10,7,"div",2),e.TgZ(7,"div",3)(8,"a",4),e.NdJ("click",function(){return r.backToRedirect()}),e.O4$(),e.TgZ(9,"svg",5),e._UZ(10,"polyline",6),e.qZA(),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_doi_email_moi")," "),e.xp6(3),e.Q6J("ngIf",1==r.step),e.xp6(1),e.Q6J("ngIf",!r.statusObj.loading&&2==r.step),e.xp6(5),e.hij(" ",e.lcZ(12,6,"lang_auto_quay_lai")," "))},dependencies:[m.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,ut.M,qt,Y.JV],encapsulation:2}),i})(),pc=(()=>{class i extends de.Q{get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")??""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(t=>{if(1==t.success){let r=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+t?.data?.app;window.location.href=r.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(t){super(),this.userInfoService=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.$C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-checking-service"]],features:[e.qOj],decls:4,vars:3,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(t,r){1&t&&(e.TgZ(0,"h2",0),e._UZ(1,"span",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&t&&(e.xp6(2),e.hij("\xa0 ",e.lcZ(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[Y.JV],encapsulation:2}),i})();function mc(i,l){1&i&&e._UZ(0,"azt-loading-effect")}let Gi=(()=>{class i extends de.Q{chooseRegisterStudent(){let t=this.commonService.getMyQueryParam("return_url");t&&(t.includes("/vi")||t.includes("/en"))&&(t=t.substring(3)),this.myNavigation(t||"/student/dashboard/0")}chooseRegisterTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{if(1==t.success){let r=this.commonService.getMyQueryParam("return_url");r&&(r.includes("/vi")||r.includes("/en"))&&(r=r.substring(3)),this.myNavigation(r||"/admin/dashboard")}else this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,r){super(),this.userInfoService=t,this.redirectByRoleService=r}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.$C),e.Y36(Ct.C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-download-answer-sheet"]],features:[e.qOj],decls:30,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"convertCdnLinkOfGitHub"),e.TgZ(8,"h3",7),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9),e.YNc(13,mc,1,0,"azt-loading-effect",10),e.TgZ(14,"div",11),e.NdJ("click",function(){return r.chooseRegisterStudent()}),e.TgZ(15,"div",12),e.O4$(),e.TgZ(16,"svg",13),e._UZ(17,"path",14)(18,"path",15),e.qZA(),e.kcU(),e.TgZ(19,"p"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()(),e.TgZ(22,"div",16),e.NdJ("click",function(){return r.chooseRegisterTeacher()}),e.TgZ(23,"div",12),e._UZ(24,"img",17),e.ALo(25,"convertCdnLinkOfGitHub"),e.TgZ(26,"p"),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()()()()()(),e._UZ(29,"div",2),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("src",e.lcZ(7,6,"images/logo.svg"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(10,8,"lang_auto_chon_vai_tro")),e.xp6(4),e.Q6J("ngIf",r.statusObj.loading),e.xp6(7),e.Oqu(e.lcZ(21,10,"lang_auto_toi_la_hoc_sinh")),e.xp6(4),e.Q6J("src",e.lcZ(25,12,"images/teacher.png"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(28,14,"lang_auto_toi_la_giao_vien")))},dependencies:[m.O5,ze.l,Y.JV,Y.Bo],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),i})();function en(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.ALo(6,"mytranslate"),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",14)(9,"button",15),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.ignoreRequest())}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"button",16),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.confirmPassword())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()}2&i&&(e.xp6(2),e.xDo(" ",e.lcZ(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.lcZ(4,9,"lang_auto_xac_nhan"),'" ',e.lcZ(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.lcZ(6,13,"lang_auto_huy"),'" ',e.lcZ(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.xp6(8),e.hij(" ",e.lcZ(11,17,"lang_cms_common_close_btn")," "),e.xp6(3),e.hij(" ",e.lcZ(14,19,"lang_cms_common_confirm_btn")," "))}function Yi(i,l){1&i&&(e.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&i&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}const La=function(i){return[i]},Pa=function(){return{user_click:"true"}};function Na(i,l){1&i&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",24)(5,"div",25)(6,"a",26),e.ALo(7,"localize"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(10,La,e.lcZ(7,6,"/auth/login")))("queryParams",e.DdM(12,Pa)),e.xp6(2),e.Oqu(e.lcZ(9,8,"lang_auto_dang_nhap_tai_khoan")))}function gc(i,l){if(1&i&&(e.TgZ(0,"div",22)(1,"div",27),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.lnq(" ",e.lcZ(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",e.lcZ(4,5,t.hasErrorMessage),"",e.lcZ(5,7,"lang_auto__vui_long_thu_lai_sau")," ")}}function Ra(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Na,10,13,"div",20),e.YNc(2,gc,6,9,"ng-template",null,21,e.W1O),e.qZA()),2&i){const t=e.MAs(3),r=e.oxw();e.xp6(1),e.Q6J("ngIf",!r.hasErrorMessage)("ngIfElse",t)}}let Ua=(()=>{class i extends de.Q{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var r={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(r).subscribe(c=>{1==c.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=c.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.smsService=r,this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.C),e.Y36(W.tr))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-forgot-password-email"]],features:[e.qOj],decls:18,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"convertCdnLinkOfGitHub"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9)(13,"div"),e.YNc(14,en,15,21,"div",10),e.qZA(),e.YNc(15,Yi,6,3,"div",11),e.YNc(16,Ra,4,2,"div",11),e.qZA()()(),e._UZ(17,"div",3),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("src",e.lcZ(6,5,"images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(4),e.Q6J("ngIf",1==r.step),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!r.statusObj.loading&&2==r.step))},dependencies:[we.rH,m.O5,an.lW,nt.lO,Y.JV,Y.Bo],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),i})();var Hi=v(33182),yn=v(65472),Ma=v(47394);let bn=(()=>{class i{get windowRef(){return window}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const tr=["verifyCode"];function Da(i,l){1&i&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function qa(i,l){if(1&i&&(e.TgZ(0,"div",7)(1,"label",32),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function ja(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b",34),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.resendCode())}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_khong_nhan_duoc_ma_xac_thuc")," "),e.xp6(3),e.Oqu(e.lcZ(5,4,"lang_auto_gui_lai")))}function fc(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",35),e._uU(2,"\xa0"),e.qZA())}const nr=function(i){return{"margin-left":i}};let Ki=(()=>{class i extends de.Q{getInitApp(){return this.app}getAuthApp(){return(0,yn.v0)(this.app)}getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,r){return!!this.form.controls[t].errors?.[r]&&this.form.controls[t].errors?.[r]}get firebaseApp(){return this.commonService.getMyQueryParam("app_name")??""}get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}skipVerifyPhone(){var t=Math.round((new Date).getTime()/1e3);if(this.browserStorageService.saveSimpleStorage("skip_verify_phone",t.toString()),this.redirectByRoleService.redirectLoginByRole(""),"confirm_phone_register"==this.getConfirmType())this.commonService.myNavigation("/admin/student/manage-class/0");else{let c=this.getMyQueryParam("return_url")??"";this.commonService.myNavigation(c)}}handleConfirmUsage(){const t=this.form.value.phone??"";let r=this.getConfirmType();if(""!=t)switch(r){case"forgot_password":this.userInfoService.apiUserInfoCheckPhoneExistsGet(t).subscribe(c=>{1==c.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())});break;case"change_phone":this.userInfoService.apiUserInfoCheckPhoneExistsGet(t).subscribe(c=>{1!=c.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_core_duplicated_phone"),this.reRenderCaptcha())});break;default:this.userInfoService.apiUserInfoCheckUpdatePhoneExistsGet(t).subscribe(c=>{1!=c.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())})}else this.showErrorSnack("lang_auto_vui_long_nhap_so_dien_thoai"),this.reRenderCaptcha()}sendLoginCode(t){const r=this.windowRef.recaptchaVerifier;(0,yn.$g)(this.getAuthApp(),t,r).then(c=>{this.windowRef.confirmationResult=c,this.smsSent=!0,this.timeOut=180,this.countDownTime()}).catch(c=>{console.log(c),"auth/quota-exceeded"==c.code?this.userInfoService.apiUserInfoFirebaseOverQuotaGet(this.firebaseApp).subscribe(_=>{1==_.success?this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(w=>{if(1==w.success)if(w?.data?.app!==this.firebaseApp){var E=this.commonService.getMyQueryParam("interval_app");if(E&&E!=w?.data?.app){E=E||(w?.data?.app??"");let D=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+w?.data?.app+"&interval_app="+E;window.location.href=D.toString()}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN")}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN");else this.showErrorSnack("lang_auto_khong_lay_duoc_thong_tin_FirebaseApp")}):this.showErrorSnack("lang_auto_khong_danh_dau_duoc_firebase_het_quoata")}):(this.smsSent=!1,this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(_=>{this.showErrorSnack(_+" | "+c.code)}))})}verify_code(t){this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(t).then(r=>{this.isVerifying=!1;const c=r.user;let _=this.getConfirmType();"forgot_password"===_?this.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+this.firebaseApp+"&token="+encodeURIComponent(c.accessToken)):this.userInfoService.apiUserInfoUpdatePhoneOrPasswordByFirebasePost({firebaseToken:c.accessToken,password:"",appName:this.firebaseApp}).subscribe(E=>{1==E.success?(this.showSuccessSnack("lang_auto_cap_nhat_so_dien_thoai_thanh_cong"),"confirm_phone_register"==_?this.commonService.myNavigation("/admin/student/manage-class/0"):this.redirectByRoleService.redirectLoginByRole("")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(D=>{this.showErrorSnack(D+" | "+E.message)})})}).catch(r=>{console.log(r),this.isVerifying=!1,this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(c=>{this.showErrorSnack(c+" | "+r.code)})})):(this.isVerifying=!1,this.showErrorSnack("lang_auto_ma_xac_thuc_khong_dung_vui_long_kiem_tra_lai"))}resendCode(){this.reRenderCaptcha(),document.getElementById("recaptcha-container")?.click()}countDownTime(){void 0!==this.myCountDown&&clearInterval(this.myCountDown),this.myCountDown=window.setInterval(()=>{this.timeOut>0&&this.timeOut--},1e3)}initForm(){this.form=new y.cw({phone:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.minLength(10),y.kI.maxLength(10),y.kI.pattern(/^[0-9]*$/)]})})}handleClickLogout(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.redirectByRoleService.redirectLoginByRole(""):(this.userService.logout(),this.redirectService.redirectSimpleLogin())}reRenderCaptcha(){}handleEnterVerify(t,r){"Enter"==t.key&&this.verify_code(r)}ngOnInit(){let t=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=t&&this.userInfoService.apiUserInfoInfoGet().subscribe(r=>{1==r.success?1==r?.new_user?.isVerifyPhone?"change_phone"!=t&&this.redirectByRoleService.redirectLoginByRole(""):r?.new_user?.phone&&r?.new_user?.phone.length<=10?this.form.setValue({phone:""}):(this.form.setValue({phone:""}),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(c=>{this.showErrorSnack(c+(r.message?" | "+r.message:""))})}),t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}super.ngOnInit()}ngAfterViewInit(){if(this.windowRef=this.window.windowRef,this.windowRef.recaptchaVerifier=new yn.lI("recaptcha-container",{size:"invisible",callback:()=>{this.handleConfirmUsage()}},this.getAuthApp()),this.windowRef.recaptchaVerifier.render().then(t=>{this.windowRef.recaptchaWidgetId=t}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",r=>this.handleEnterVerify(r,t))}}constructor(t,r,c,_,w,E){super(),this.window=t,this.redirectByRoleService=r,this.userService=c,this.userInfoService=_,this.redirectService=w,this.browserStorageService=E,this.subscriptions=new Ma.w0,this.form=new y.cw({phone:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.minLength(10),y.kI.maxLength(10),y.kI.pattern(/^[0-9]*$/)]})}),this.confirm_type="forgot_password",this.isVerifying=!1,this.smsSent=!1,this.timeOut=180,this.captchaWidgetId="",this.isLoading=!0,this.app=(0,Hi.ZF)(Pe.N[`firebaseConfig_${this.firebaseApp}`],"confirm_account"),this.getAuthApp().useDeviceLanguage()}ngOnDestroy(){if(clearInterval(this.myCountDown),this.verifyCode){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",r=>this.handleEnterVerify(r,t))}super.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(bn),e.Y36(Ct.C),e.Y36(Se.U),e.Y36(W.$C),e.Y36(it.z),e.Y36(at.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-account"]],viewQuery:function(t,r){if(1&t&&e.Gf(tr,5),2&t){let c;e.iGM(c=e.CRH())&&(r.verifyCode=c.first)}},features:[e._Bn([bn]),e.qOj],decls:56,vars:45,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"card-body","mt-2"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group"],["id","phoneInput","type","text","formControlName","phone","name","phone","autocomplete","off",1,"form-control",3,"placeholder"],["phoneInput",""],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],["id","recaptcha-container",1,"btn","btn-primary","w-full","mt-3",3,"disabled"],[1,"mt-3","mb-2","text-center"],["azt-track-service","confirm_account-_jpaWEGGur",1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],[1,"input-group","mb-3"],["type","string","autocomplete","off",1,"form-control",3,"placeholder"],["verifyCode",""],[1,"input-group-append","ml-1"],["azt-track-service","confirm_account-S4DltugIno","id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-left","mt-3"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c456","","_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["azt-track-service","confirm_account-kCDyjoqLEl",1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,r){if(1&t){const c=e.EpF();e.TgZ(0,"auth-layout")(1,"div",0)(2,"h2",1),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"div",9),e._UZ(14,"input",10,11),e.ALo(16,"mytranslate"),e.qZA(),e.YNc(17,Da,3,3,"div",12),e.TgZ(18,"button",13),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",14)(22,"a",15),e.NdJ("click",function(){return r.skipVerifyPhone()}),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()()(),e.YNc(25,qa,4,3,"div",16),e.qZA()(),e.TgZ(26,"div",17)(27,"div",8)(28,"div",18),e._uU(29),e.ALo(30,"mytranslate"),e.TgZ(31,"b"),e._uU(32),e.qZA(),e._uU(33),e.ALo(34,"mytranslate"),e.qZA(),e.TgZ(35,"div",19),e._uU(36),e.qZA(),e.YNc(37,ja,6,6,"div",20),e.TgZ(38,"div",21),e._UZ(39,"input",22,23),e.ALo(41,"mytranslate"),e.TgZ(42,"div",24)(43,"button",25),e.NdJ("click",function(){e.CHM(c);const w=e.MAs(40);return e.KtG(r.verify_code(w.value))}),e.YNc(44,fc,3,0,"span",26),e._uU(45),e.ALo(46,"mytranslate"),e.qZA()()()()()(),e._UZ(47,"hr"),e.TgZ(48,"div",27)(49,"a",28),e.NdJ("click",function(){return r.handleClickLogout()}),e.O4$(),e.TgZ(50,"svg",29),e._UZ(51,"polyline",30),e.qZA(),e._uU(52),e.ALo(53,"mytranslate"),e.ALo(54,"mytranslate"),e.ALo(55,"mytranslate"),e.qZA()()()()()}if(2&t){const c=e.MAs(40);e.xp6(3),e.hij(" ","change_phone"==r.confirm_type?e.lcZ(4,19,"lang_auto_doi_so_diem_thoai_moi"):e.lcZ(5,21,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(43,nr,r.smsSent?"-100%":"0")),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(4),e.s9C("placeholder",e.lcZ(16,23,"lang_auto_nhap_so_dien_thoai_moi")),e.xp6(3),e.Q6J("ngIf",(r.form.controls.phone.dirty||r.form.controls.phone.touched)&&r.form.controls.phone.errors),e.xp6(1),e.Q6J("disabled",r.form.errors),e.xp6(1),e.hij(" ",e.lcZ(20,25,"lang_auto_tiep_tuc")," "),e.xp6(4),e.Oqu(e.lcZ(24,27,"lang_auto_bo_qua")),e.xp6(2),e.Q6J("ngIf",r.statusObj.errorMessage),e.xp6(4),e.hij(" ",e.lcZ(30,29,"lang_auto_mot_tin_nhan_chua_ma_xac_thuc_vua_duoc_gui_toi_so_dien_thoai")," "),e.xp6(3),e.Oqu(r.form.value.phone),e.xp6(1),e.hij("",e.lcZ(34,31,"lang_auto__vui_long_nhap_ma_nay_vao_o_duoi_day_roi_an_xac_thuc")," "),e.xp6(3),e.hij("",r.timeOut," s"),e.xp6(1),e.Q6J("ngIf",0==r.timeOut),e.xp6(2),e.s9C("placeholder",e.lcZ(41,33,"lang_auto_ma_xac_thuc")),e.xp6(4),e.Q6J("disabled",""==c.value||r.isVerifying),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(46,35,"lang_auto_xac_thuc")," "),e.xp6(7),e.hij(" ","forgot_password"==r.confirm_type?e.lcZ(53,37,"lang_auto_dang_nhap_tai_khoan"):"change_phone"==r.confirm_type?e.lcZ(54,39,"lang_auto_quay_lai_man_hinh_chinh"):e.lcZ(55,41,"lang_auto_dang_xuat")," ")}},dependencies:[m.O5,m.PC,y._Y,y.Fj,y.JJ,y.JL,an.lW,y.sg,y.u,ut.M,qt,Y.JV],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),i})();var $i=v(17679);function Qa(i,l){1&i&&e._UZ(0,"azt-loading-effect")}function xn(i,l){1&i&&(e.TgZ(0,"h2",5),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_quen_mat_khau")," "))}function za(i,l){1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Ve(i,l){if(1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.msgError)}}function Ba(i,l){1&i&&(e.TgZ(0,"span",31),e._UZ(1,"lucide-icon",32),e.qZA())}function Xi(i,l){1&i&&(e.TgZ(0,"span",31),e._UZ(1,"lucide-icon",33),e.qZA())}function Ja(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function eo(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Va(i,l){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,Ja,3,3,"span",0),e.YNc(2,eo,3,3,"span",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}function Wa(i,l){1&i&&(e.TgZ(0,"span",23),e._UZ(1,"azt-loading-ui",34),e.qZA()),2&i&&(e.xp6(1),e.Q6J("type","oval"))}const Vt=function(i){return[i]},Ga=function(i){return{return_url:i}},jt=function(){return{user_click:"true"}};function ir(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"input",8),e.NdJ("input",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.checkValidateUser(c.form.controls.emailOrPhone.value))}),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,za,4,3,"div",9),e.YNc(6,Ve,3,1,"div",9),e.qZA(),e.TgZ(7,"div",10),e._UZ(8,"input",11),e.ALo(9,"mytranslate"),e.TgZ(10,"button",12),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.togglePassword())}),e.YNc(11,Ba,2,0,"span",13),e.YNc(12,Xi,2,0,"span",13),e.qZA(),e.YNc(13,Va,3,2,"div",9),e.qZA()(),e.TgZ(14,"div",14)(15,"a",15),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",16)(19,"button",17),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changePassword())}),e.YNc(20,Wa,2,1,"span",18),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()(),e.TgZ(23,"div",19)(24,"span",20),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()(),e.TgZ(27,"div",21)(28,"button",22),e.ALo(29,"localize"),e.TgZ(30,"span",23),e._UZ(31,"lucide-icon",24),e.qZA(),e.TgZ(32,"span",25),e._uU(33),e.ALo(34,"mytranslate"),e.qZA()()(),e.TgZ(35,"div",26)(36,"a",27),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.removeKeyStorage())}),e.ALo(37,"localize"),e.TgZ(38,"span",28),e._UZ(39,"lucide-icon",29),e.qZA(),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(3),e.s9C("placeholder",e.lcZ(4,19,"lang_auto_email_hoac_so_dien_thoai")),e.xp6(2),e.Q6J("ngIf",t.form.controls.emailOrPhone.errors&&(t.form.controls.emailOrPhone.dirty||t.form.controls.emailOrPhone.touched)&&!t.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",t.checkValidateUsername),e.xp6(2),e.s9C("type",t.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(9,21,"lang_auto_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(3),e.hij(" ",e.lcZ(17,23,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(22,25,"lang_auto_tiep_tuc")," "),e.xp6(4),e.hij(" ",e.lcZ(26,27,"lang_auto_hoac")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(37,Vt,e.lcZ(29,29,"/auth/confirm_forgot_password_qr")))("queryParams",e.VKq(39,Ga,t.backLink)),e.xp6(5),e.hij(" ",e.lcZ(34,31,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(41,Vt,e.lcZ(37,33,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(43,jt)),e.xp6(4),e.hij(" ",e.lcZ(41,35,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function wn(i,l){if(1&i&&(e.TgZ(0,"div",43)(1,"a",44),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(1),e.uIk("href","sms:"+t.phoneSend+(t.isCheckIos?"&":"?")+"body=MK "+(null==t.responseChangePass?null:t.responseChangePass.otp),e.LSH),e.xp6(1),e.hij(" ",e.lcZ(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets")," ")}}function Un(i,l){1&i&&(e.TgZ(0,"div",43),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "))}function Ya(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.changeStepByNext())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_tiep_tuc")," "))}function to(i,l){if(1&i&&(e.TgZ(0,"div",46)(1,"span",47),e._UZ(2,"azt-loading-ui"),e.qZA(),e.TgZ(3,"div",46),e._uU(4),e.qZA(),e.TgZ(5,"div",48)(6,"div",49)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"span",50),e._uU(14),e.qZA()()()()),2&i){const t=e.oxw(3);e.xp6(4),e.Oqu(t.currentMessage),e.xp6(4),e.hij(" ",e.lcZ(9,5,"lang_auth_note_send_otp_password")+" "," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",": "," "),e.xp6(2),e.hij(" ",t.displayTime," ")}}function or(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",35)(2,"div",25),e._uU(3),e.ALo(4,"mytranslate"),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"div",36)(10,"strong"),e._uU(11),e.qZA(),e._uU(12),e.ALo(13,"mytranslate"),e.TgZ(14,"strong"),e._uU(15),e.qZA()(),e.YNc(16,wn,4,4,"div",37),e.TgZ(17,"div",38),e._uU(18),e.ALo(19,"mytranslate"),e.qZA(),e.YNc(20,Un,3,3,"div",37),e.TgZ(21,"div",39),e.YNc(22,Ya,3,3,"button",40),e.YNc(23,to,15,7,"div",41),e.qZA()(),e.TgZ(24,"div",26)(25,"a",42),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.removeKeyStorage())}),e.ALo(26,"localize"),e.TgZ(27,"span",28),e._UZ(28,"lucide-icon",29),e.qZA(),e._uU(29),e.ALo(30,"mytranslate"),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,14,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",e.lcZ(8,16,"lang_auto_va_soan_tin_nhan"),": "),e.xp6(4),e.hij("MK ",null==t.responseChangePass?null:t.responseChangePass.otp,""),e.xp6(1),e.hij(" ",e.lcZ(13,18,"lang_auto_gui")," "),e.xp6(3),e.Oqu(t.phoneSend),e.xp6(1),e.Q6J("ngIf",t.isMobileDevice),e.xp6(2),e.hij("(",e.lcZ(19,20,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),")"),e.xp6(2),e.Q6J("ngIf",2===t.step),e.xp6(2),e.Q6J("ngIf",2==t.step),e.xp6(1),e.Q6J("ngIf",3===t.step),e.xp6(2),e.Q6J("routerLink",e.VKq(26,Vt,e.lcZ(26,22,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(28,jt)),e.xp6(4),e.hij(" ",e.lcZ(30,24,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function no(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",51)(2,"div",52),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",53)(6,"a",54),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.removeKeyStorage())}),e.ALo(7,"localize"),e.TgZ(8,"span",28),e._UZ(9,"lucide-icon",29),e.qZA(),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(10,Vt,e.lcZ(7,6,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(12,jt)),e.xp6(4),e.hij(" ",e.lcZ(11,8,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Ha(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",35)(2,"div",46)(3,"span",55),e._UZ(4,"lucide-icon",56),e.qZA()(),e.TgZ(5,"div",57),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",58),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"b"),e._uU(12),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"div",53)(16,"div",59)(17,"a",60),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.removeKeyStorage())}),e.ALo(18,"localize"),e.TgZ(19,"span",28),e._UZ(20,"lucide-icon",29),e.qZA(),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.lcZ(7,7,"lang_auto_kiem_tra_email_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(10,9,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",e.lcZ(14,11,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,Vt,e.lcZ(18,13,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(19,jt)),e.xp6(4),e.hij(" ",e.lcZ(22,15,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function io(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",61)(2,"div",46)(3,"span",55),e._UZ(4,"lucide-icon",62),e.qZA()(),e.TgZ(5,"div",57),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",63),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"div",64)(12,"div",59)(13,"a",60),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.removeKeyStorage())}),e.ALo(14,"localize"),e.TgZ(15,"span",28),e._UZ(16,"lucide-icon",29),e.qZA(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.lcZ(7,5,"lang_auth_password_changed")," "),e.xp6(3),e.hij(" ",e.lcZ(10,7,"lang_auth_your_password_has_been_changed_successfully")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(13,Vt,e.lcZ(14,9,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(15,jt)),e.xp6(4),e.hij(" ",e.lcZ(18,11,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function rr(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",65)(2,"div",66)(3,"div",67),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",68),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"div",64)(10,"ng-otp-input",69),e.NdJ("onInputChange",function(c){e.CHM(t);const _=e.oxw(2);return e.KtG(_.onOtpChange(c))}),e.qZA()(),e.TgZ(11,"div",70)(12,"div",71)(13,"span",72),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"span",50),e._uU(17),e.qZA()()(),e.TgZ(18,"div",73)(19,"button",74),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.verifyOTP())}),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()(),e.TgZ(22,"div",26)(23,"a",75),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.removeKeyStorage())}),e.ALo(24,"localize"),e.TgZ(25,"span",28),e._UZ(26,"lucide-icon",29),e.qZA(),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,9,"lang_auth_otp_verification")," "),e.xp6(3),e.hij(" ",e.lcZ(8,11,"lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")," "),e.xp6(3),e.Q6J("config",t.config),e.xp6(4),e.Oqu(e.lcZ(15,13,"lang_auth_the_code_will_expire_in")+":"),e.xp6(3),e.hij(" ",t.displayTimeOtp," "),e.xp6(3),e.hij(" ",e.lcZ(21,15,"lang_cms_common_confirm_btn")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(21,Vt,e.lcZ(24,17,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(23,jt)),e.xp6(4),e.hij(" ",e.lcZ(28,19,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Ka(i,l){if(1&i&&(e.TgZ(0,"div",2)(1,"form",3),e.YNc(2,xn,3,3,"h2",4),e.YNc(3,ir,42,44,"ng-container",0),e.YNc(4,or,31,29,"ng-container",0),e.YNc(5,no,12,13,"ng-container",0),e.YNc(6,Ha,23,20,"ng-container",0),e.YNc(7,io,19,16,"ng-container",0),e.YNc(8,rr,29,24,"ng-container",0),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(1),e.Q6J("ngIf",7!==t.step&&6!==t.step),e.xp6(1),e.Q6J("ngIf",1==t.step),e.xp6(1),e.Q6J("ngIf",2==t.step||3==t.step),e.xp6(1),e.Q6J("ngIf",!t.statusObj.loading&&4==t.step),e.xp6(1),e.Q6J("ngIf",5==t.step),e.xp6(1),e.Q6J("ngIf",6==t.step),e.xp6(1),e.Q6J("ngIf",7==t.step)}}let vc=(()=>{class i extends de.Q{randomPhone(t){if(t.includes(",")){let r=t.split(",");return r[this.commonService.getRandomNumber(0,r.length-1)]}return t}removeKeyStorage(){this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"),this.browserStorageService.removeStorage("azt_response_change_pass")}onOtpChange(t){this.otp=t}togglePassword(){this.showPassword=!this.showPassword}changePassword(){this.form.valid?(this.initStatusObj(),this.smsService.apiSmsChangePassPost({phone:this.form.controls.emailOrPhone.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success)if(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@"))this.step=5;else{this.step=2,this.responseChangePass=r.data;const c=this.serializeJson(this.responseChangePass??{});this.browserStorageService.saveStorage("azt_response_change_pass",c)}else this.errorStatusObj(r.message??"",!0)})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}changePasswordOtp(){this.initStatusObj();const t=this.browserStorageService.getStorage("azt_phone_change_password")??"",r=this.browserStorageService.getStorage("azt_pass_change_password")??"";if(!t||!r)return;const c={phone:t,password:r};this.executeImportantAction().then(()=>{this.smsService.apiSmsSendOtpPost(c).subscribe(_=>{1==_.success?(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@")?this.step=5:(this.step=7,this.tokenChangePass=_.data?.value??"",this.durationOtp=300,this.timerOtp(this.durationOtp),this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.saveStorage("duration_otp_forgot_password",this.durationOtp.toString()),this.browserStorageService.saveStorage("token_forgot_password",this.tokenChangePass.toString()))):this.errorStatusObj(_.message??"",!0)})})}verifyOTP(){6===this.otp.length?this.subscriptions.add(this.smsService.apiSmsConfirmChangePassByPhoneOtpPost({otp:this.otp,secret:this.tokenChangePass}).subscribe(t=>{1===t.success?(this.step=6,this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password")):this.errorStatusObj(t.message??"",!0)})):this.showErrorSnack("lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.phoneSend=this.randomPhone(t.data?.phone??"")):this.errorStatusObj(t.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(r=>{this.currentMessage=r}),this.form.controls.emailOrPhone.value&&this.form.controls.password.value&&(this.browserStorageService.saveStorage("azt_phone_change_password",this.form.controls.emailOrPhone.value),this.browserStorageService.saveStorage("azt_pass_change_password",this.form.controls.password.value)),this.getSecondTimeChangePassword(),this.step=3;const t=this.browserStorageService.getStorage("azt_phone_change_password")??"";this.loopCheck=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(t).subscribe(r=>{1==r.success?(this.successStatusObj(),1==r.data?.status&&(this.step=6,clearInterval(this.loopCheck))):(this.errorStatusObj(r.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(c=>{this.currentMessage=c}),clearInterval(this.loopCheck))})},1e3)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0)}saveRemaining(t){t&&!isNaN(t)&&this.browserStorageService.saveStorage("duration_otp_forgot_password",t.toString())}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{t(r)})})}getSecondTimeChangePassword(){const t=this.browserStorageService.getStorage("azt_phone_change_password");t&&(this.form.controls.emailOrPhone.value||this.form.controls.emailOrPhone.setValue(t),this.loading=!0,this.subscriptions.add(this.smsService.apiSmsGetSecondGet(t).subscribe(r=>{if(1===r.success){const c=r.data?.status;if(0===c&&(this.changePasswordOtp(),this.browserStorageService.removeStorage("azt_response_change_pass")),c&&c>0){const _=this.browserStorageService.getStorage("azt_response_change_pass")??"";this.responseChangePass=this.castJsonToObj(_),this.step=3,this.timer(c),this.loopCheck||this.changeStepByNext()}-1===c&&(this.step=1,this.removeKeyStorage())}else this.errorStatusObj(r.message??"");this.loading=!1})))}timerOtp(t){let r="0",c=t%60;const _=t/60<10?"0":"";this.loopCheckTimeOtp=window.setInterval(()=>{t--,0!=c?c--:c=t%60,r=c<10?"0"+c:c,this.displayTimeOtp=`${_}${Math.floor(t/60)}:${r}`,this.saveRemaining(t),0==t&&(clearInterval(this.loopCheckTimeOtp),this.showErrorSnack("lang_core_expired_otp"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"))},1e3)}timer(t){let r="0",c=t%60;const _=t/60<10?"0":"";this.loopCheckTime=window.setInterval(()=>{t--,0!=c?c--:c=t%60,r=c<10?"0"+c:c,this.displayTime=`${_}${Math.floor(t/60)}:${r}`,this.saveRemaining(t),0==t&&(clearInterval(this.loopCheckTime),this.changePasswordOtp())},1e3)}ngOnInit(){super.ngOnInit(),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),this.getSecondTimeChangePassword();const t=this.browserStorageService.getStorage("token_forgot_password"),r=this.browserStorageService.getStorage("duration_otp_forgot_password")??"0";this.durationOtp=Number(r),t&&this.durationOtp>0&&(this.tokenChangePass=t,this.step=7,this.timerOtp(this.durationOtp))}constructor(t,r,c){super(),this.smsService=t,this.browserStorageService=r,this.recaptchaV3Service=c,this.backLink="",this.step=1,this.currentMessage="",this.phoneSend="",this.isOnApp=!1,this.isCheckIos=!1,this.tokenChangePass="",this.checkValidateUsername=!1,this.msgError="",this.showPassword=!1,this.otp="",this.durationOtp=0,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:""},this.displayTimeOtp="",this.displayTime="",this.loading=!1,this.form=new y.cw({emailOrPhone:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),hash:new y.NI("",{nonNullable:!0}),password:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.minLength(6)]}),confirm_password:new y.NI("",{nonNullable:!0})})}ngOnDestroy(){super.ngOnDestroy(),this.loopCheck&&clearInterval(this.loopCheck),this.loopCheckTimeOtp&&clearInterval(this.loopCheckTimeOtp),this.loopCheckTime&&clearInterval(this.loopCheckTime)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.tr),e.Y36(at.n),e.Y36($i.YC))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf"],["class","azt-forget-password",4,"ngIf"],[1,"azt-forget-password"],[3,"formGroup"],["class","intro-x font-bold text-2xl text-center",4,"ngIf"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","lucide dark:text-slate-500 w-6 h-6 inline-block",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],[1,"w-4","h-4","inline-block","mr-2"],["name","scan-line"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],[1,"w-4","h-4","mr-1","inline-block"],["name","chevron-left"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"lucide","dark:text-slate-500","w-6","h-6","inline-block"],["name","eye"],["name","eye-off"],[3,"type"],[1,"index-x","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3",2,"font-style","italic"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],[1,"sms-info","text-center","mb-3"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I",1,"btn-text-primary"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],[1,"w-4","h-4","mx-auto","inline-block"],[1,"mt-4"],[1,"font-normal"],[1,"font-medium","text-danger","inline-block","ml-2"],[1,"index-x","box","p-5","mt-8","test"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],[1,"w-16","h-16","mx-auto","inline-block","text-success"],["name","mail-check"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],[1,"index-x","mt-5"],["name","check-circle"],[1,"text-md","mt-1","px-5","text-center"],[1,"text-center","mt-5"],[1,"opt","intro-x"],[1,"otp-head"],[1,"font-medium","text-lg"],[1,"text-slate-500","mt-0.5"],[3,"config","onInputChange"],[1,"flex","items-center","mt-4"],[1,"ml-auto"],[1,""],[1,"mt-5"],[1,"btn","btn-primary","w-full",3,"click"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200","flex","items-center","flex","items-center",3,"routerLink","queryParams","click"]],template:function(t,r){1&t&&(e.TgZ(0,"auth-layout"),e.YNc(1,Qa,1,0,"azt-loading-effect",0),e.YNc(2,Ka,9,8,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",r.loading),e.xp6(1),e.Q6J("ngIf",!r.loading))},dependencies:[we.rH,m.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,ze.l,ut.M,mn.n,qt,Le.Nh5,rt,nt.lO,Y.JV]}),i})();function ar(i,l){1&i&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&i&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function $a(i,l){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Xa(i,l){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,$a,3,3,"div",10),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function es(i,l){if(1&i&&(e.TgZ(0,"div",14)(1,"label",28),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function ts(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",29),e._uU(2,"\xa0"),e.qZA())}const ns=function(i){return[i]},Mn=function(){return{user_click:"true"}};function is(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.YNc(10,Xa,2,1,"div",20),e.qZA()(),e.YNc(11,es,4,3,"div",21),e.TgZ(12,"div",22)(13,"div",15)(14,"div",23)(15,"button",24),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.form.invalid||c.statusObj.loading||c.changePassword())}),e.YNc(16,ts,3,0,"span",10),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()(),e._UZ(19,"hr"),e.TgZ(20,"div",25)(21,"a",26),e.ALo(22,"localize"),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,9,"lang_auto_mat_khau_moi")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(18,11,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,ns,e.lcZ(22,13,"/auth/login")))("queryParams",e.DdM(19,Mn)),e.xp6(2),e.Oqu(e.lcZ(24,15,"lang_auto_dang_nhap_tai_khoan"))}}let os=(()=>{class i extends de.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,r){return!!this.form.controls[t].errors?.[r]&&this.form.controls[t].errors?.[r]}getFormValue(){return this.form.getRawValue()}changePassword(){if(this.form.valid){var t=this.getFormValue(),r=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(r??"",t.password).subscribe(c=>{1==c.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(c.message??"")}))}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.userInfoService=r,this.form=new y.cw({emailOrPhone:new y.NI("",{nonNullable:!0}),hash:new y.NI("",{nonNullable:!0}),password:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.minLength(6)]}),confirm_password:new y.NI("",{nonNullable:!0})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.C),e.Y36(W.$C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-forgot-password-admin"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"convertCdnLinkOfGitHub"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,ar,6,3,"div",10),e.YNc(14,is,25,20,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!r.statusObj.loading))},dependencies:[we.rH,m.O5,y._Y,y.Fj,y.JJ,y.JL,an.lW,cn.Hw,y.sg,y.u,ut.M,nt.lO,Y.JV,Y.Bo],encapsulation:2}),i})();var Dn=v(9280),Be=v(49671);const rs=(()=>{class i{constructor(t,r,c,_,w){this._legacyCanvasSize=i.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),c&&"object"==typeof c?this._onDecode=r:(console.warn(c||_||w?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),this._onDecodeError=(r="object"==typeof c?c:{}).onDecodeError||("function"==typeof c?c:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||("function"==typeof _?_:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||w||this._preferredCamera,this._legacyCanvasSize="number"==typeof c?c:"number"==typeof _?_:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let E=!1;if(t.hidden&&(t.hidden=!1,E=!0),document.body.contains(t)||(document.body.appendChild(t),E=!0),c=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(_=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),(w=this.$overlay.style).position="absolute",w.display="none",w.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!_&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}c.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let D=window.getComputedStyle(t);"none"===D.display&&(t.style.setProperty("display","block","important"),E=!0),"visible"!==D.visibility&&(t.style.setProperty("visibility","visible","important"),E=!0),E&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=i.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,Be.Z)(function*(){try{return!!(yield i.listCameras(!1)).length}catch{return!1}})()}static listCameras(t=!1){return(0,Be.Z)(function*(){if(!navigator.mediaDevices)return[];let c,r=function(){var _=(0,Be.Z)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(w=>"videoinput"===w.kind)});return function(){return _.apply(this,arguments)}}();try{t&&(yield r()).every(_=>!_.label)&&(c=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield r()).map((_,w)=>({id:_.deviceId,label:_.label||(0===w?"Default Camera":`Camera ${w+1}`)}))}finally{c&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),i._stopVideoStream(c))}})()}hasFlash(){var t=this;return(0,Be.Z)(function*(){let r;try{if(t.$video.srcObject){if(!(t.$video.srcObject instanceof MediaStream))return!1;r=t.$video.srcObject}else r=(yield t._getCameraStream()).stream;return"torch"in r.getVideoTracks()[0].getSettings()}catch{return!1}finally{r&&r!==t.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),i._stopVideoStream(r))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var t=this;return(0,Be.Z)(function*(){t._flashOn?yield t.turnFlashOff():yield t.turnFlashOn()})()}turnFlashOn(){var t=this;return(0,Be.Z)(function*(){if(!t._flashOn&&!t._destroyed&&(t._flashOn=!0,t._active&&!t._paused))try{if(!(yield t.hasFlash()))throw"No flash available";yield t.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(r){throw t._flashOn=!1,r}})()}turnFlashOff(){var t=this;return(0,Be.Z)(function*(){t._flashOn&&(t._flashOn=!1,yield t._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),i._postWorkerMessage(this._qrEnginePromise,"close")}start(){var t=this;return(0,Be.Z)(function*(){if(t._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!t._active||t._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),t._active=!0,!document.hidden))if(t._paused=!1,t.$video.srcObject)yield t.$video.play();else try{let{stream:r,facingMode:c}=yield t._getCameraStream();!t._active||t._paused?i._stopVideoStream(r):(t._setVideoMirror(c),t.$video.srcObject=r,yield t.$video.play(),t._flashOn&&(t._flashOn=!1,t.turnFlashOn().catch(()=>{})))}catch(r){if(!t._paused)throw t._active=!1,r}})()}stop(){this.pause(),this._active=!1}pause(t=!1){var r=this;return(0,Be.Z)(function*(){if(r._paused=!0,!r._active)return!0;r.$video.pause(),r.$overlay&&(r.$overlay.style.display="none");let c=()=>{r.$video.srcObject instanceof MediaStream&&(i._stopVideoStream(r.$video.srcObject),r.$video.srcObject=null)};return t?(c(),!0):(yield new Promise(_=>setTimeout(_,300)),!!r._paused&&(c(),!0))})()}setCamera(t){var r=this;return(0,Be.Z)(function*(){t!==r._preferredCamera&&(r._preferredCamera=t,yield r._restartVideoStream())})()}static scanImage(t,r,c,_,w=!1,E=!1){return(0,Be.Z)(function*(){let D,H=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(D=r.scanRegion,c=r.qrEngine,_=r.canvas,w=r.disallowCanvasResizing||!1,E=r.alsoTryWithoutScanRegion||!1,H=!0):console.warn(r||c||_||w||E?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!c;try{let ue,Re,st;if([c,ue]=yield Promise.all([c||i.createQrEngine(),i._loadImage(t)]),[_,Re]=i._drawToCanvas(ue,D,_,w),c instanceof Worker){let Ae=c;r||i._postWorkerMessageSync(Ae,"inversionMode","both"),st=yield new Promise((et,Ft)=>{let It,nn,Nt,Je=-1;nn=_t=>{_t.data.id===Je&&(Ae.removeEventListener("message",nn),Ae.removeEventListener("error",Nt),clearTimeout(It),null!==_t.data.data?et({data:_t.data.data,cornerPoints:i._convertPoints(_t.data.cornerPoints,D)}):Ft(i.NO_QR_CODE_FOUND))},Nt=_t=>{Ae.removeEventListener("message",nn),Ae.removeEventListener("error",Nt),clearTimeout(It),Ft("Scanner error: "+(_t?_t.message||_t:"Unknown Error"))},Ae.addEventListener("message",nn),Ae.addEventListener("error",Nt),It=setTimeout(()=>Nt("timeout"),1e4);let ft=Re.getImageData(0,0,_.width,_.height);Je=i._postWorkerMessageSync(Ae,"decode",ft,[ft.data.buffer])})}else st=yield Promise.race([new Promise((Ae,et)=>window.setTimeout(()=>et("Scanner error: timeout"),1e4)),(0,Be.Z)(function*(){try{var[Ae]=yield c.detect(_);if(!Ae)throw i.NO_QR_CODE_FOUND;return{data:Ae.rawValue,cornerPoints:i._convertPoints(Ae.cornerPoints,D)}}catch(et){if(/not implemented|service unavailable/.test(Ae=et.message||et))return i._disableBarcodeDetector=!0,i.scanImage(t,{scanRegion:D,canvas:_,disallowCanvasResizing:w,alsoTryWithoutScanRegion:E});throw`Scanner error: ${Ae}`}})()]);return H?st:st.data}catch(ue){if(!D||!E)throw ue;let Re=yield i.scanImage(t,{qrEngine:c,canvas:_,disallowCanvasResizing:w});return H?Re:Re.data}finally{r||i._postWorkerMessage(c,"close")}})()}setGrayscaleWeights(t,r,c,_=!0){i._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:c,useIntegerApproximation:_})}setInversionMode(t){i._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static createQrEngine(t){return(0,Be.Z)(function*(){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>v.e(663).then(v.bind(v,23663)).then(c=>c.createWorker()),i._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(r.platform)&&(yield r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:c,platformVersion:_})=>/arm/i.test(c||"arm")&&13<=parseInt(_||"13")).catch(()=>!0))?t():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,c=t.videoHeight,_=t.offsetWidth,w=t.offsetHeight,E=t.offsetLeft,D=t.offsetTop,H=window.getComputedStyle(t),ue=H.objectFit,Re=r/c,st=_/w;switch(ue){case"none":var Ae=r,et=c;break;case"fill":Ae=_,et=w;break;default:("cover"===ue?Re>st:Re<st)?Ae=(et=w)*Re:et=(Ae=_)/Re,"scale-down"===ue&&(Ae=Math.min(Ae,r),et=Math.min(et,c))}var[Ft,It]=H.objectPosition.split(" ").map((Nt,Je)=>{const ft=parseFloat(Nt);return Nt.endsWith("%")?(Je?w-et:_-Ae)*ft/100:ft});st=this._scanRegion.height||c,ue=this._scanRegion.x||0;var nn=this._scanRegion.y||0;(Re=this.$overlay.style).width=(H=this._scanRegion.width||r)/r*Ae+"px",Re.height=st/c*et+"px",Re.top=`${D+It+nn/c*et}px`,c=/scaleX\(-1\)/.test(t.style.transform),Re.left=`${E+(c?_-Ft-Ae:Ft)+(c?r-ue-H:ue)/r*Ae}px`,Re.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let c=r.x||0,_=r.y||0,w=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let E of t)E.x=E.x*w+c,E.y=E.y*r+_;return t}_scanFrame(){var t=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,Be.Z)(function*(){if(!(1>=t.$video.readyState)){var r=Date.now()-t._lastScanTimestamp,c=1e3/t._maxScansPerSecond;r<c&&(yield new Promise(w=>setTimeout(w,c-r))),t._lastScanTimestamp=Date.now();try{var _=yield i.scanImage(t.$video,{scanRegion:t._scanRegion,qrEngine:t._qrEnginePromise,canvas:t.$canvas})}catch(w){if(!t._active)return;t._onDecodeError(w)}!i._disableBarcodeDetector||(yield t._qrEnginePromise)instanceof Worker||(t._qrEnginePromise=i.createQrEngine()),_?(t._onDecode?t._onDecode(_):t._legacyOnDecode&&t._legacyOnDecode(_.data),t.$codeOutlineHighlight&&(clearTimeout(t._codeOutlineHighlightRemovalTimeout),t._codeOutlineHighlightRemovalTimeout=void 0,t.$codeOutlineHighlight.setAttribute("viewBox",`${t._scanRegion.x||0} ${t._scanRegion.y||0} ${t._scanRegion.width||t.$video.videoWidth} ${t._scanRegion.height||t.$video.videoHeight}`),t.$codeOutlineHighlight.firstElementChild.setAttribute("points",_.cornerPoints.map(({x:w,y:E})=>`${w},${E}`).join(" ")),t.$codeOutlineHighlight.style.display="")):t.$codeOutlineHighlight&&!t._codeOutlineHighlightRemovalTimeout&&(t._codeOutlineHighlightRemovalTimeout=setTimeout(()=>t.$codeOutlineHighlight.style.display="none",100))}t._scanFrame()}))}_onDecodeError(t){t!==i.NO_QR_CODE_FOUND&&console.log(t)}_getCameraStream(){var t=this;return(0,Be.Z)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let r=/^(environment|user)$/.test(t._preferredCamera)?"facingMode":"deviceId",c=[{width:{min:1024}},{width:{min:768}},{}],_=c.map(w=>Object.assign({},w,{[r]:{exact:t._preferredCamera}}));for(let w of[..._,...c])try{let E=yield navigator.mediaDevices.getUserMedia({video:w,audio:!1});return{stream:E,facingMode:t._getFacingMode(E)||(w.facingMode?t._preferredCamera:"environment"===t._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var t=this;return(0,Be.Z)(function*(){let r=t._paused;(yield t.pause(!0))&&!r&&t._active&&(yield t.start())})()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+("user"===t?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,c,_=!1){c=c||document.createElement("canvas");let w=r&&r.x?r.x:0,E=r&&r.y?r.y:0,D=r&&r.width?r.width:t.videoWidth||t.width,H=r&&r.height?r.height:t.videoHeight||t.height;return _||(_=r&&r.downScaledWidth?r.downScaledWidth:D,r=r&&r.downScaledHeight?r.downScaledHeight:H,c.width!==_&&(c.width=_),c.height!==r&&(c.height=r)),(r=c.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,r.drawImage(t,w,E,D,H,0,0,c.width,c.height),[c,r]}static _loadImage(t){return(0,Be.Z)(function*(){if(t instanceof Image)return yield i._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(!(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t))throw"Unsupported image type.";{let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return yield i._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}})()}static _awaitImageLoad(t){return(0,Be.Z)(function*(){t.complete&&0!==t.naturalWidth||(yield new Promise((r,c)=>{let _=w=>{t.removeEventListener("load",_),t.removeEventListener("error",_),w instanceof ErrorEvent?c("Image load error"):r()};t.addEventListener("load",_),t.addEventListener("error",_)}))})()}static _postWorkerMessage(t,r,c,_){return(0,Be.Z)(function*(){return i._postWorkerMessageSync(yield t,r,c,_)})()}static _postWorkerMessageSync(t,r,c,_){if(!(t instanceof Worker))return-1;let w=i._workerMessageId++;return t.postMessage({id:w,type:r,data:c},_),w}}return i.DEFAULT_CANVAS_SIZE=400,i.NO_QR_CODE_FOUND="No QR code found",i._disableBarcodeDetector=!1,i._workerMessageId=0,i})();var as=v(65619);class An{static encode(l){return"azt:$"+btoa(l)}static decode(l){return l=l.replace("azt:$",""),atob(l)}static isEncode(l){return 0===l.indexOf("azt:$")}}var sr=v(46558),cr=v(24913);function ss(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"zxing-scanner",7),e.NdJ("deviceChange",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.currentDevice=c)})("scanSuccess",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.onCodeResult(c))})("permissionResponse",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.onHasPermission(c))})("camerasFound",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.onCamerasFound(c))})("torchCompatible",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.onTorchCompatible(c))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("torch",t.torchEnabled)("device",t.currentDevice)("tryHarder",t.tryHarder)("formats",t.formatsEnabled)}}function cs(i,l){if(1&i&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("( ",t.contentResult," )")}}let lr=(()=>{class i extends de.Q{constructor(t){super(),this.commonService=t,this.outContentScan=new e.vpe,this.outNotCamAllow=new e.vpe,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new as.X(!1),this.tryHarder=!1,this.formatsEnabled=[Dn.BarcodeFormat.CODE_128,Dn.BarcodeFormat.DATA_MATRIX,Dn.BarcodeFormat.EAN_13,Dn.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(t){this.availableDevices=t,this.hasDevices=!(!t||!t.length)}onCodeResult(t){this.qrResultString=t,An.isEncode(t)?this.switchChangeContent(An.decode(t)):this.switchChangeContent(null)}onDeviceSelectChange(t){const r=this.availableDevices.find(c=>c.deviceId===t);this.currentDevice=r||void 0}onHasPermission(t){this.hasPermission=t}onTorchCompatible(t){this.torchAvailable$.next(t||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(t){let _=t.target.files;if(_?.length){var w=_[0];if(!w)return;this.scanProcessSelectFile(t,w,0)}else this.switchChangeContent(null)}scanProcessSelectFile(t,r,c){rs.scanImage(r,{returnDetailedScanResult:!0}).then(_=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(_)),t.target.value="";var w=_.data;this.thatLog("onFileSelected: 1 "+w),An.isEncode(w)?this.switchChangeContent(An.decode(w)):this.switchChangeContent(null)}).catch(_=>{c>=2?(t.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(_)),this.switchChangeContent(null)):this.scanProcessSelectFile(t,r,c++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(t){this.contentResult=t,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+t),this.outContentScan.emit(this.contentResult)}thatLog(t){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+t)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(sr.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[e.qOj],decls:11,vars:5,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(t,r){if(1&t){const c=e.EpF();e.TgZ(0,"div",0),e.YNc(1,ss,1,4,"zxing-scanner",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,cs,2,1,"span",3),e.TgZ(4,"input",4,5),e.NdJ("change",function(w){return r.onFileSelected(w)}),e.qZA(),e.TgZ(6,"a",6),e.NdJ("click",function(){e.CHM(c);const w=e.MAs(5);return e.KtG(w.click())}),e.TgZ(7,"mat-icon"),e._uU(8,"upload"),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("ngIf",r.isShowScanner),e.xp6(2),e.Q6J("ngIf",r.isShowLog),e.xp6(6),e.hij(" ",e.lcZ(10,3,"lang_auto_tai_len_ma_co_san"),""))},dependencies:[m.O5,cn.Hw,cr.S,Y.JV],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),i})();const oo=["aztScanQrcode"];function ls(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",38)(3,"circle",39),e.qZA()())}function ro(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",40)(3,"path",41)(4,"path",42)(5,"line",43),e.qZA()())}function us(i,l){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ao(i,l){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,us,3,3,"div",29),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function ds(i,l){1&i&&(e.O4$(),e.TgZ(0,"svg",45)(1,"g",46)(2,"g",47),e._UZ(3,"circle",48),e.TgZ(4,"path",49),e._UZ(5,"animateTransform",50),e.qZA()()()())}function so(i,l){1&i&&(e.TgZ(0,"div",51)(1,"span",52),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ***",e.lcZ(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai")," "))}function qn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",53)(1,"button",54),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.reloadProcessForgot())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_thu_lai")," "))}function co(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e._UZ(2,"input",24),e.ALo(3,"mytranslate"),e.TgZ(4,"button",25)(5,"span",26)(6,"mat-icon"),e._uU(7,"qr_code"),e.qZA()()()(),e.TgZ(8,"div",23),e._UZ(9,"input",27),e.ALo(10,"mytranslate"),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.togglePassword())}),e.YNc(12,ls,4,0,"span",29),e.YNc(13,ro,6,0,"span",29),e.qZA(),e.YNc(14,ao,2,1,"div",30),e.qZA(),e.TgZ(15,"div",31)(16,"div",32)(17,"button",33),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.changePassword())}),e.YNc(18,ds,6,0,"svg",34),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()(),e.YNc(21,so,4,3,"div",35),e.YNc(22,qn,4,3,"div",36),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,12,"lang_auto_ma_xac_thuc")),e.uIk("disabled",!0),e.xp6(7),e.s9C("type",t.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(10,14,"lang_auto_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),e.xp6(3),e.Q6J("disabled",t.statusObj.errorMessage||t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(20,16,"lang_auto_tiep_tuc")," "),e.xp6(2),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage)}}const _s=function(i){return{hidden:i}},lo=function(i){return[i]},hs=function(){return{user_click:"true"}};let tn=(()=>{class i extends de.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,r){return!!this.form.controls[t].errors?.[r]&&this.form.controls[t].errors?.[r]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(t){null!==t?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:t}).subscribe(c=>{1==c.success&&1==c?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(t),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var t=this.getFormValue();this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:t.hash,password:t.password}).subscribe(c=>{0!=c.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}getFormValue(){return this.form.getRawValue()}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",super.ngOnInit()}constructor(t,r){super(),this.localStorageObject=t,this.qrCodeForgotPasswordService=r,this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink="",this.form=new y.cw({emailOrPhone:new y.NI("",{nonNullable:!0}),hash:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),password:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.minLength(6)]}),confirm_password:new y.NI("",{nonNullable:!0})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Rn.y),e.Y36(W.qY))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-forgot-password"]],viewQuery:function(t,r){if(1&t&&e.Gf(oo,5),2&t){let c;e.iGM(c=e.CRH())&&(r.elementZztScanQrcode=c.first)}},features:[e.qOj],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5  text-center xl:text-left",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"div",13)(20,"div",14),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"azt-scan-qrcode",15,16),e.NdJ("outContentScan",function(_){return r.outContentScan(_)}),e.qZA()(),e.YNc(25,co,23,18,"div",17),e.qZA(),e._UZ(26,"hr"),e.TgZ(27,"div",18)(28,"div",19)(29,"a",20),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()(),e.TgZ(32,"div")(33,"a",21),e.ALo(34,"localize"),e._uU(35),e.ALo(36,"mytranslate"),e.qZA()()()()(),e._UZ(37,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(7),e.Q6J("ngClass",r.stepByStep+2==1?"active":r.stepByStep+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",r.stepByStep+2==2?"active":r.stepByStep+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",r.stepByStep+2==3?"active":r.stepByStep+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),e.xp6(3),e.Q6J("ngClass",e.VKq(22,_s,r.sussScanNextConf)),e.xp6(2),e.hij(" ",e.lcZ(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),e.xp6(4),e.Q6J("ngIf",r.sussScanNextConf),e.xp6(5),e.Oqu(e.lcZ(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),e.xp6(3),e.Q6J("routerLink",e.VKq(24,lo,e.lcZ(34,18,r.backLink?r.backLink:"/auth/login")))("queryParams",e.DdM(26,hs)),e.xp6(2),e.hij(" ",e.lcZ(36,20,r.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan"),""))},dependencies:[we.rH,m.mk,m.O5,y._Y,y.Fj,y.JJ,y.JL,cn.Hw,y.sg,y.u,lr,ut.M,nt.lO,Y.JV],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.hidden[_ngcontent-%COMP%]{display:none!important}']}),i})();var uo=v(67742);function ps(i,l){if(1&i&&(e.TgZ(0,"div",3),e.O4$(),e.TgZ(1,"svg",4),e._UZ(2,"line",5)(3,"line",6)(4,"circle",7),e.qZA(),e._uU(5),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.hij(" ",t.stringDuration," ")}}let ur=(()=>{class i extends de.Q{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new e.vpe,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink="",this.contentNew=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.loopDuration=setInterval(()=>{var t=Math.floor(Date.now()/1e3),c=this.expired-(t-this.startDuration);if(c<0)this.clearLoopDuration(),this.qrCode.clear(),this.expiredAction.emit();else{var _=Math.floor(c/60),w=c-60*_;this.stringDuration=(_<10?"0"+_:""+_)+" : "+(w<10?"0"+w:""+w)}},1e3)}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=An.encode(this.content)}onChangeURL(t){this.qrCodeDownloadLink=t}downloadQrCode(t){this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,t=t||"azota-qr")}}return i.\u0275fac=function(){let l;return function(r){return(l||(l=e.n5z(i)))(r||i)}}(),i.\u0275cmp=e.Xpm({type:i,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[e.qOj],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"qrdata","width","errorCorrectionLevel","qrCodeURL"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2","lucide"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ps,6,1,"div",1),e.TgZ(2,"qrcode",2),e.NdJ("qrCodeURL",function(_){return r.onChangeURL(_)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",r.isDuration),e.xp6(1),e.Q6J("qrdata",r.contentNew)("width",r.width)("errorCorrectionLevel","M"))},dependencies:[m.O5,uo.V],encapsulation:2}),i})();const ms=["elementCreateQr"];function _o(i,l){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"azt-create-qr-image",12,13),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("content",t.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function dr(i,l){if(1&i&&(e.TgZ(0,"div",14),e.O4$(),e.TgZ(1,"svg",15),e._UZ(2,"path",16)(3,"path",17)(4,"path",18)(5,"line",19),e.qZA(),e.kcU(),e.TgZ(6,"div",20),e._uU(7),e.qZA()()),2&i){const t=e.oxw();e.xp6(7),e.hij(" ",t.noticeContentString," ")}}function gs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.downloadQrCode())}),e.O4$(),e.TgZ(2,"svg",23),e._UZ(3,"path",24)(4,"polyline",25)(5,"line",26),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}2&i&&(e.xp6(6),e.hij(" ",e.lcZ(7,1,"lang_auto_tai_xuong_ma")," "))}function fs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",27),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.openDialog())}),e.O4$(),e.TgZ(2,"svg",23),e._UZ(3,"path",28)(4,"line",29)(5,"line",30)(6,"circle",31)(7,"path",32),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()}2&i&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const jn=function(i){return[i]};function vs(i,l){1&i&&(e.TgZ(0,"a",33),e.ALo(1,"localize"),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"polyline",35),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&i&&(e.Q6J("routerLink",e.VKq(6,jn,e.lcZ(1,2,"/admin/dashboard"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}function ho(i,l){1&i&&(e.TgZ(0,"a",36),e.ALo(1,"localize"),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"polyline",35),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&i&&(e.Q6J("routerLink",e.VKq(6,jn,e.lcZ(1,2,"/student/dashboard/0"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}let ys=(()=>{class i extends de.Q{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?0!=t?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(r=>{this.noticeContentString=r}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(r=>{this.noticeContentString=r}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?this.contentQrcodeHash=t.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.sAztDialogService.open(po,{restoreFocus:!1}).afterClosed().subscribe(r=>{!0===r&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-forgot")}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(t,10),this.checkQrThisMe(),super.ngOnInit()}constructor(t,r,c){super(),this.sAztDialogService=t,this.activeRoute=r,this.qrCodeForgotPasswordService=c,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(St.C),e.Y36(we.gz),e.Y36(W.qY))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gzip-tool"]],viewQuery:function(t,r){if(1&t&&e.Gf(ms,5),2&t){let c;e.iGM(c=e.CRH())&&(r.elementCreateQr=c.first)}},features:[e.qOj],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mx-auto"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"],["x1","16","y1","5","x2","22","y2","5"],["x1","19","y1","2","x2","19","y2","8"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(t,r){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2)(6,"div",3),e.YNc(7,_o,3,4,"div",4),e.YNc(8,dr,8,1,"div",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,gs,8,3,"div",7),e.YNc(11,fs,10,3,"div",7),e.qZA()(),e.TgZ(12,"div",8),e.YNc(13,vs,6,8,"a",9),e.YNc(14,ho,6,8,"a",10),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,7,"lang_auto_qrcode_quen_mat_khau")," "),e.xp6(4),e.Q6J("ngIf",r.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!r.contentQrcodeHash&&r.noticeContentString),e.xp6(2),e.Q6J("ngIf",r.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!r.contentQrcodeHash),e.xp6(2),e.Q6J("ngIf",0==r.role),e.xp6(1),e.Q6J("ngIf",1==r.role))},dependencies:[we.rH,m.O5,ur,qt,nt.lO,Y.JV]}),i})(),po=(()=>{class i extends X.e{}return i.\u0275fac=function(){let l;return function(r){return(l||(l=e.n5z(i)))(r||i)}}(),i.\u0275cmp=e.Xpm({type:i,selectors:[["dialog-conf-content-qrcode-dialog"]],features:[e.qOj],decls:41,vars:28,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","mr-2","text-pending"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16),e.qZA(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(19,"div",17)(20,"p",18),e._uU(21),e.ALo(22,"mytranslate"),e.ALo(23,"mytranslate"),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"p",19),e._uU(29),e.ALo(30,"mytranslate"),e._UZ(31,"br"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()(),e.TgZ(34,"div",20)(35,"button",21),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e.TgZ(38,"button",22),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(17),e.hij(" ",e.lcZ(18,10,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),e.xp6(4),e.lnq(" ",e.lcZ(22,12,"lang_auto_bam"),' "',e.lcZ(23,14,"lang_auto_xac_nhan"),'" ',e.lcZ(24,16,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),e.xp6(5),e.hij(" ",e.lcZ(27,18,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),e.xp6(3),e.hij(" ",e.lcZ(30,20,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(33,22,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),e.xp6(4),e.hij(" ",e.lcZ(37,24,"lang_auto_huy")," "),e.xp6(2),e.Q6J("mat-dialog-close",!0),e.xp6(1),e.hij(" ",e.lcZ(40,26,"lang_auto_xac_nhan")," "))},dependencies:[Q.ZT,Y.JV],encapsulation:2}),i})(),mo=(()=>{class i extends de.Q{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return i.\u0275fac=function(){let l;return function(r){return(l||(l=e.n5z(i)))(r||i)}}(),i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"p"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"div",13)(23,"a",14),e.NdJ("click",function(){return r.redirectToHome()}),e._uU(24),e.ALo(25,"mytranslate"),e.qZA(),e.TgZ(26,"a",15),e.NdJ("click",function(){return r.redirectToCreateQrCode()}),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()()()(),e._UZ(29,"div",3),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("ngClass",r.step_by_step+2==1?"active":r.step_by_step+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",r.step_by_step+2==2?"active":r.step_by_step+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",r.step_by_step+2==3?"active":r.step_by_step+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),e.xp6(4),e.Oqu(e.lcZ(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),e.xp6(4),e.Oqu(e.lcZ(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),e.xp6(3),e.Oqu(e.lcZ(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[m.mk,Y.JV],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),i})(),_r=(()=>{class i extends de.Q{ngOnInit(){super.ngOnInit();var t=this.commonService.getMyParam(this.activeRoute,"code")?.toString(),r=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString();"teacher"==r?window.location.replace("https://aztappteacher.page.link/"+t):window.location.replace("https://azt.page.link/"+t)}constructor(t){super(),this.activeRoute=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(we.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-go-to-mobile"]],features:[e.qOj],decls:9,vars:3,consts:[[1,"centerBoth"],[1,"text-center"],["version","1.1","id","jobing-j-drawit","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 109 92.9",0,"xml","space","preserve",1,"w-12","mx-auto",2,"enable-background","new 0 0 109 92.9"],["d","M90.8,52c3.5,6.2,7.1,11.7,9.8,17.7c4.4,9.7-2.9,20.7-13.8,20.9c-11.8,0.2-23.7,0.2-35.5,0 c-11-0.1-17.6-12.2-12-21.7c0.4-0.8,1.8-1.4,2.7-1.4c9.9-0.1,19.7-0.1,29.6-0.1c9.8,0,15.9-4.6,18.7-14C90.4,53.2,90.5,52.9,90.8,52 z",1,"azt-svg-loading","jobing-j"],["d","M39.6,90.3c-6.8,0-13.8,0.8-20.5-0.2c-9.7-1.4-15-12.8-10.3-21.3c5.9-10.9,12.1-21.6,18.5-32.2 c5.5-9,18.6-8.7,24.2,0.2c0.7,1.1,0.8,1.9,0.1,3.1C46.7,48.3,42,57,36.8,65.3c-5.3,8.4-3.8,18.8,2.5,24.6 C39.5,89.9,39.5,90.2,39.6,90.3z",1,"azt-svg-loading","jobing-j"],["d","M32.5,27.3c3.3-5.7,6.1-11,9.4-16c5.9-9.1,19.4-9.2,25.1,0c6.5,10.4,12.6,21,18.3,31.7 c4.8,9-1.5,19.9-11.5,20.7c-1.6,0.1-2.6-0.2-3.5-1.8c-4.8-8.6-9.8-17.1-14.7-25.6c-4.7-8.3-12.5-11.6-21.7-9.2 C33.6,27.1,33.3,27.1,32.5,27.3z",1,"azt-svg-loading","jobing-j"],[1,"p-0","mt-2"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.O4$(),e.TgZ(2,"svg",2),e._UZ(3,"path",3)(4,"path",4)(5,"path",5),e.qZA(),e.kcU(),e.TgZ(6,"h3",6),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(7),e.hij("",e.lcZ(8,1,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[Y.JV],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]}),i})();var hn=v(76202),Cn=(v(30229),v(87879),v(36820),v(81374)),bs=(v(8661),v(78645)),Tn=v(22096),go=v(65592),fo=v(2459),xs=v(63019),Gt=v(94664),In=v(37398),mr=v(67081),ws=v(84674);function Fn(i,l){return(0,ws.m)(l)?(0,Gt.w)(()=>i,l):(0,Gt.w)(()=>i)}var As=v(32181);const vo=new e.OlP("angularfire2.auth.use-emulator"),Ts=new e.OlP("angularfire2.auth.settings"),yo=new e.OlP("angularfire2.auth.tenant-id"),bo=new e.OlP("angularfire2.auth.langugage-code"),xo=new e.OlP("angularfire2.auth.use-device-language"),gr=new e.OlP("angularfire.auth.persistence");let Qn=(()=>{class i{constructor(t,r,c,_,w,E,D,H,ue,Re,st,Ae){(0,S.Z)(this,"authState",void 0),(0,S.Z)(this,"idToken",void 0),(0,S.Z)(this,"user",void 0),(0,S.Z)(this,"idTokenResult",void 0),(0,S.Z)(this,"credential",void 0);const et=new bs.x,Ft=(0,Tn.of)(void 0).pipe((0,j.Q)(w.outsideAngular),(0,Gt.w)(()=>_.runOutsideAngular(()=>Promise.resolve().then(v.bind(v,8661)))),(0,In.U)(()=>J(t,_,r)),(0,In.U)(It=>((i,l,t,r,c,_,w,E)=>function ct(i,l,t,r,c){const[,_,w]=globalThis.\u0275AngularfireInstanceCache.find(E=>E[0]===i)||[];if(_)return function Ot(i,l){try{return i.toString()===l.toString()}catch{return i===l}}(c,w)||(pt("error",`${l} was already initialized on the ${t} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),pt("warn",{is:c,was:w})),_;{const E=r();return globalThis.\u0275AngularfireInstanceCache.push([i,E,c]),E}}(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=l.runOutsideAngular(()=>i.auth());if(t&&D.useEmulator(...t),r&&(D.tenantId=r),D.languageCode=c,_&&D.useDeviceLanguage(),w)for(const[H,ue]of Object.entries(w))D.settings[H]=ue;return E&&D.setPersistence(E),D},[t,r,c,_,w,E]))(It,_,E,H,ue,Re,D,st)),(0,mr.d)({bufferSize:1,refCount:!1}));if((0,m.PM)(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Tn.of)(null);else{Ft.pipe((0,Cn.P)()).subscribe();const It=Ft.pipe((0,Gt.w)(Je=>Je.getRedirectResult().then(ft=>ft,()=>null)),je,(0,mr.d)({bufferSize:1,refCount:!1})),nn=Ft.pipe((0,Gt.w)(Je=>new go.y(ft=>({unsubscribe:_.runOutsideAngular(()=>Je.onAuthStateChanged(_t=>ft.next(_t),_t=>ft.error(_t),()=>ft.complete()))})))),Nt=Ft.pipe((0,Gt.w)(Je=>new go.y(ft=>({unsubscribe:_.runOutsideAngular(()=>Je.onIdTokenChanged(_t=>ft.next(_t),_t=>ft.error(_t),()=>ft.complete()))}))));this.authState=It.pipe(Fn(nn),(0,q.R)(w.outsideAngular),(0,j.Q)(w.insideAngular)),this.user=It.pipe(Fn(Nt),(0,q.R)(w.outsideAngular),(0,j.Q)(w.insideAngular)),this.idToken=this.user.pipe((0,Gt.w)(Je=>Je?(0,fo.D)(Je.getIdToken()):(0,Tn.of)(null))),this.idTokenResult=this.user.pipe((0,Gt.w)(Je=>Je?(0,fo.D)(Je.getIdTokenResult()):(0,Tn.of)(null))),this.credential=(0,xs.T)(It,et,this.authState.pipe((0,As.h)(Je=>!Je))).pipe((0,In.U)(Je=>Je?.user?Je:null),(0,q.R)(w.outsideAngular),(0,j.Q)(w.insideAngular))}return((i,l,t,r={})=>new Proxy(i,{get:(c,_)=>t.runOutsideAngular(()=>{if(i[_])return r?.spy?.get&&r.spy.get(_,i[_]),i[_];if(xe.indexOf(_)>-1)return()=>{};const w=l.toPromise().then(E=>{const D=E?.[_];return"function"==typeof D?D.bind(E):D?.then?D.then(H=>t.run(()=>H)):t.run(()=>D)});return new Proxy(()=>{},{get:(E,D)=>w[D],apply:(E,D,H)=>w.then(ue=>{const Re=ue?.(...H);return r?.spy?.apply&&r.spy.apply(_,H,Re),Re})})})}))(this,Ft,_,{spy:{apply:(It,nn,Nt)=>{(It.startsWith("signIn")||It.startsWith("createUser"))&&Nt.then(Je=>et.next(Je))}}})}}return(0,S.Z)(i,"\u0275fac",function(t){return new(t||i)(e.LFG(be),e.LFG(B,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(N),e.LFG(vo,8),e.LFG(Ts,8),e.LFG(yo,8),e.LFG(bo,8),e.LFG(xo,8),e.LFG(gr,8),e.LFG(ve,8))}),(0,S.Z)(i,"\u0275prov",e.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),i})(),fr=(()=>{class i extends de.Q{constructor(t,r,c){super(),this.fireAuth=t,this.authService=r,this.redirectByRoleService=c,this.fireAuth.authState.pipe((0,Cn.P)()).subscribe(_=>{_?this.signInWithTokenGoogle(_):this.googleSignIn()})}signInWithTokenGoogle(t){const r=this.commonService.getMyQueryParam("type");t.getIdToken().then(c=>{let _={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:c??"",language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(_).subscribe(w=>{if(1==w.success){let D=this.commonService.getMyQueryParam("return_url")??"";if(""===D){let H=this.commonService.getMyQueryParam("backto")??"";var E=H.includes("return_url=")?H.split("return_url=")[1]:"";D=decodeURIComponent(E)}1==w.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${D}`):"0"==r?this.redirectByRoleService.redirectLoginForStudent(D):this.redirectByRoleService.redirectLoginByRole(D)}else{this.errorStatusObj(w.message??"",!0);const D=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(D)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new hn.W).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const r=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(r)})}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Qn),e.Y36(W.e8),e.Y36(Ct.C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["login-by-openapi"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"azt-loading-ui",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("type","azota-logo"),e.xp6(2),e.hij(" ",e.lcZ(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[mn.n,Y.JV],encapsulation:2}),i})(),vr=(()=>{class i extends de.Q{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(t){var r=this.userService.getUserObjFromJwtToken(t);null!=r?(this.userService.saveUserObj(r),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${this.returnUrl}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var t=this.commonService.getMyQueryParam("zaccess_token")??"",r=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=Pe.N.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+this.returnUrl+"&is_login=1"),!r&&t?this.loginWithAccessToken(t):r&&!this.isBusinessDomain?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${this.returnUrl}&user_click=true`):this.loginZalo()}constructor(t,r){super(),this.redirectByRoleService=t,this.userService=r,this.returnUrl="",this.zaloLoginUrl=""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.C),e.Y36(Se.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login-by-zalo"]],features:[e.qOj],decls:3,vars:0,consts:[[1,"azt-login-form"]],template:function(t,r){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0),e._UZ(2,"azt-loading-effect"),e.qZA()())},dependencies:[ze.l,qt],encapsulation:2}),i})();const ks=["elementCreateQr"],yr=["aztScanQrcode"];function Ao(i,l){1&i&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function Ss(i,l){1&i&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function Zs(i,l){if(1&i&&(e.TgZ(0,"div",26),e._UZ(1,"span",27),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.AsE("\xa0",e.lcZ(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",t.nameSessionConfirm,"")}}function Os(i,l){1&i&&(e.TgZ(0,"div",26),e._UZ(1,"span",27),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&i&&(e.xp6(2),e.hij("\xa0",e.lcZ(3,1,"lang_auto_dang_cho_quet_ma_qrcode"),""))}function Co(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),e.xp6(3),e.AsE("",e.lcZ(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm,"")}}function Es(i,l){1&i&&(e.TgZ(0,"div"),e._UZ(1,"span",27),e._uU(2,"\xa0 "),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function Ls(i,l){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function br(i,l){if(1&i&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function Ps(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function zn(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function Ns(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",39),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.confContentPendingLogin(1))}),e.YNc(2,Ps,3,0,"span",31),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.confContentPendingLogin(2))}),e.YNc(6,zn,3,0,"span",31),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,6,"lang_auto_chap_nhan")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(8,8,"lang_auto_tu_choi")," ")}}function Rs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",41),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.backScanActionWithIsLogin())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_quay_lai")))}function Us(i,l){if(1&i&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e.YNc(3,Co,6,7,"span",31),e.qZA(),e.YNc(4,Es,6,3,"div",31),e.YNc(5,Ls,2,1,"div",32),e.YNc(6,br,2,1,"div",33),e.YNc(7,Ns,9,10,"div",34),e.YNc(8,Rs,4,3,"div",31),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.nameSessionConfirm),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss||!t.isConfirmBtn),e.xp6(1),e.Q6J("ngIf",t.isLogin&&!1===t.isLoadingBtn&&!0===t.isConfirmBtn)}}function Ms(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.createRequestLoginHashCodeAction())}),e.TgZ(1,"div",46)(2,"div")(3,"mat-icon"),e._uU(4,"sync"),e.qZA()(),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()()}2&i&&(e.xp6(6),e.Oqu(e.lcZ(7,1,"lang_auto_tao_moi_ma")))}function Ds(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"azt-create-qr-image",47,48),e.NdJ("expiredAction",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.expiredQrcodeAction())}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("content",t.contentCreateQrcode)("width",300)("height",300)("expired",t.durationQrcodeExpire)}}function qs(i,l){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,Ms,8,3,"div",43),e.YNc(2,Ds,2,4,"azt-create-qr-image",44),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.isLogin&&!t.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",t.contentCreateQrcode)}}function js(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.downloadQrCode())}),e.TgZ(1,"mat-icon"),e._uU(2,"download"),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_tai_xuong_ma"),""))}function Fs(i,l){1&i&&(e.TgZ(0,"div",50)(1,"span",51),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_hoac")," "))}function To(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.switchModeView())}),e.TgZ(2,"span",53)(3,"mat-icon",54),e._uU(4,"center_focus_strong"),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()}2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"lang_auto_quet_ma_qr_co_san"),""))}function Qs(i,l){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function zs(i,l){if(1&i&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function Bs(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function Js(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",55),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.confContentLogin())}),e.YNc(2,Bs,3,0,"span",31),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",56),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.reopenScanCamInit())}),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(7,7,"lang_auto_thu_lai"))}}function Vs(i,l){if(1&i&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"br"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.YNc(8,Qs,2,1,"div",32),e.YNc(9,zs,2,1,"div",33),e.YNc(10,Js,8,9,"div",34),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),e.xp6(3),e.Oqu(e.lcZ(7,7,"lang_auto_voi_ma_qr_da_phat_hien")),e.xp6(2),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss)}}function xr(i,l){1&i&&(e.TgZ(0,"div"),e._UZ(1,"span",27),e._uU(2,"\xa0 "),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function Ws(i,l){if(1&i&&e._UZ(0,"div",60),2&i){const t=e.oxw(2);e.Q6J("innerHTML",t.textResultErr,e.oJD)}}function Gs(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",27),e._uU(2,"\xa0"),e.qZA())}function Ys(i,l){if(1&i&&(e.TgZ(0,"button",61),e.YNc(1,Gs,3,0,"span",31),e._uU(2),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("disabled",!t.textResultSuss),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",t.textResultSuss," ")}}function Hs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e._UZ(6,"br"),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,xr,6,3,"div",31),e.YNc(10,Ws,1,1,"div",57),e.TgZ(11,"div",38),e.YNc(12,Ys,3,3,"button",58),e.TgZ(13,"button",59),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.reopenScanCamInit())}),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,8,"lang_auto_dang_nhap_tai_khoan")),e.xp6(3),e.AsE("",e.lcZ(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm,""),e.xp6(2),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(2),e.Q6J("ngIf",!t.textResultSuss&&t.isLoadingBtn),e.xp6(1),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(15,12,"lang_auto_thu_lai"))}}const Io=function(i){return{hidden:i}},ko=function(i){return[i]};let So=(()=>{class i extends de.Q{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.subscriptions.add(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.contentCreateQrcode=t?.data?.qrCode??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(t){null!==t?(this.scanQrContent=t,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(c=>{this.isLoadingBtn=!1,1==c.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=c?.data?.qrCode??"",this.nameSessionConfirm=c?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(_=>{this.textResultErr=_}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(c=>{this.textResultErr=c}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(r=>{1==r.success&&(1==r.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):r.data&&2===r.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(c=>{this.textResultErr=c}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(t=>{1==t.success&&t.data&&""!==t.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(t){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:t}).subscribe(c=>{1==c.success?this.textResultSuss=1==t?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(_=>{this.textResultErr=_}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(t=>{1==t.success&&(this.contentCreateQrcode=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(r=>{1===r.success&&404!=r?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(r=>{this.isLoadingBtn=!1,1===r.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(c=>{this.textResultSuss=c}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(c=>{this.textResultErr=c})})}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(t,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/dashboard/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r,c,_,w,E){super(),this.redirectByRoleService=t,this.userService=r,this.localStorageObject=c,this.activeRoute=_,this.qrCodeLoginService=w,this.redirectService=E,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.C),e.Y36(Se.U),e.Y36(Rn.y),e.Y36(we.gz),e.Y36(W.AF),e.Y36(it.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(t,r){if(1&t&&(e.Gf(ks,5),e.Gf(yr,5)),2&t){let c;e.iGM(c=e.CRH())&&(r.elementCreateQr=c.first),e.iGM(c=e.CRH())&&(r.elementZztScanQrcode=c.first)}},features:[e.qOj],decls:40,vars:37,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-center"],[1,"mb-3","text-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"disabled","click"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center",3,"click"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"disabled","click"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"disabled","click"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(t,r){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2),e.YNc(6,Ao,3,3,"div",3),e.YNc(7,Ss,3,3,"div",3),e.YNc(8,Zs,4,4,"div",4),e.YNc(9,Os,4,3,"div",4),e.qZA(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),e.YNc(14,Us,9,6,"div",9),e.YNc(15,qs,3,2,"div",10),e.TgZ(16,"div",11),e.YNc(17,js,5,3,"a",12),e.qZA(),e.YNc(18,Fs,4,3,"div",13),e.YNc(19,To,7,3,"div",14),e.qZA(),e.TgZ(20,"div",15)(21,"div",16),e._uU(22),e.ALo(23,"mytranslate"),e.TgZ(24,"a",17),e._uU(25),e.ALo(26,"mytranslate"),e.qZA(),e._uU(27," )"),e.qZA(),e.TgZ(28,"div",18)(29,"azt-scan-qrcode",19,20),e.NdJ("outContentScan",function(_){return r.outContentScan(_)}),e.qZA()(),e.YNc(31,Vs,11,9,"div",9),e.YNc(32,Hs,16,14,"div",9),e.qZA()()()(),e.TgZ(33,"div",21)(34,"a",22),e.ALo(35,"localize"),e.O4$(),e.TgZ(36,"svg",23),e._UZ(37,"polyline",24),e.qZA(),e._uU(38),e.ALo(39,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,19,"lang_auto_dang_nhap_voi_ma_qr_code")," "),e.xp6(3),e.Q6J("ngIf",!r.isLogin),e.xp6(1),e.Q6J("ngIf",r.isLogin),e.xp6(1),e.Q6J("ngIf",!r.isLogin&&r.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",r.isLogin&&r.contentCreateQrcode&&!r.scanQrContentConfirm),e.xp6(4),e.Q6J("ngClass",e.VKq(29,Io,"create"!==r.modeShowInit)),e.xp6(1),e.Q6J("ngIf",r.scanQrContentConfirm&&r.isLogin),e.xp6(1),e.Q6J("ngIf",!r.scanQrContentConfirm),e.xp6(2),e.Q6J("ngIf",r.contentCreateQrcode&&!r.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!r.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!r.scanQrContentConfirm),e.xp6(1),e.Q6J("ngClass",e.VKq(31,Io,"scan"!==r.modeShowInit)),e.xp6(2),e.hij("",e.lcZ(23,21,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),e.xp6(3),e.Oqu(e.lcZ(26,23,"lang_auto_huong_dan")),e.xp6(3),e.Q6J("ngClass",e.VKq(33,Io,!1!==r.sussScanNextConf)),e.xp6(3),e.Q6J("ngIf",!0===r.sussScanNextConf&&r.isLogin),e.xp6(1),e.Q6J("ngIf",!0===r.sussScanNextConf&&!r.isLogin),e.xp6(2),e.Q6J("routerLink",e.VKq(35,ko,e.lcZ(35,25,r.backToLink))),e.xp6(4),e.hij(" ",e.lcZ(39,27,"lang_auto_quay_lai")," "))},dependencies:[we.rH,m.mk,m.O5,cn.Hw,ur,lr,qt,nt.lO,Y.JV],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),i})();var wr=v(96368),Bn=v(32965);let Ar=(()=>{class i{constructor(){}isCommonInAppBrowser(){const t=navigator.userAgent?.toLowerCase(),r=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let c=0;c<r.length;c++)if(-1!==t.indexOf(r[c]))return!0;return!1}getMobileOperatingSystem(){let t=navigator.userAgent||navigator.vendor||window.opera,r="Android";return/android/i.test(t)&&(r="Android"),/iPad|iPhone|iPod/.test(t)&&!window.MSStream&&(r="iOS"),r}getCommonInAppBrowser(){const t=navigator.userAgent;let r="";return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1?r="Facebook":t.indexOf("Zalo")>-1?r="Zalo":t.indexOf("Twitter")>-1?r="Twitter":t.indexOf("Instagram")>-1?r="Instagram":t.indexOf("Line")>-1?r="Line":t.indexOf("MicroMessenger")>-1?r="WeChat":t.indexOf("QQ")>-1?r="QQ":t.indexOf("KAKAOTALK")>-1&&(r="KakaoTalk"),r}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Cr(i,l){1&i&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Ks(i,l){if(1&i&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.msgError)}}function Zo(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",19),e._UZ(2,"path",20)(3,"circle",21),e.qZA()())}function $s(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",19),e._UZ(2,"path",22)(3,"path",23)(4,"path",24)(5,"line",25),e.qZA()())}function wc(i,l){1&i&&(e.TgZ(0,"div",26)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Oo(i,l){if(1&i&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.messageError)," ")}}function Tr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"a",29),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.forgotPassword())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_quen_mat_khau")))}function Jn(i,l){1&i&&(e.O4$(),e.TgZ(0,"svg",30)(1,"g",31)(2,"g",32),e._UZ(3,"circle",33),e.TgZ(4,"path",34),e._UZ(5,"animateTransform",35),e.qZA()()()())}const Eo=function(i){return[i]},Ir=function(i){return{return_url:i,user_click:"true"}},Xs=function(i){return{return_url:i}};function ec(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",36)(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"a",37),e.ALo(6,"navigationLocalize"),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"div",38)(10,"span",39),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()(),e.TgZ(13,"div",40)(14,"button",41),e.NdJ("keydown.enter",function(c){return c.preventDefault()}),e.ALo(15,"navigationLocalize"),e.O4$(),e.TgZ(16,"svg",42)(17,"style"),e._uU(18," .st0 { fill: #fdfefe } .st1 { fill: #0180c7 } .st2 { fill: #0172b1 } .st3 { fill: none; stroke: #0180c7; stroke-width: 2; stroke-miterlimit: 10 } "),e.qZA(),e.TgZ(19,"title"),e._uU(20,"logo-zalo-vector"),e.qZA(),e._UZ(21,"path",43)(22,"path",44)(23,"path",45)(24,"path",46)(25,"path",47)(26,"path",48)(27,"path",49),e.qZA(),e.kcU(),e.TgZ(28,"span",50),e._uU(29,"Zalo"),e.qZA()(),e.TgZ(30,"button",51),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.googleSignIn())})("keydown.enter",function(c){return c.preventDefault()}),e.O4$(),e.TgZ(31,"svg",52),e._UZ(32,"path",53)(33,"path",54)(34,"path",55)(35,"path",56),e.qZA(),e.kcU(),e.TgZ(36,"span",50),e._uU(37,"Google"),e.qZA()(),e.TgZ(38,"button",57),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.loginByQrCode())})("keydown.enter",function(c){return c.preventDefault()}),e.O4$(),e.TgZ(39,"svg",58),e._UZ(40,"rect",59)(41,"rect",60)(42,"rect",61)(43,"path",62)(44,"path",63)(45,"path",64)(46,"path",65)(47,"path",66)(48,"path",67)(49,"path",68)(50,"path",69)(51,"path",70),e.qZA(),e.kcU(),e.TgZ(52,"span",50),e._uU(53,"Qrcode"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,7,"lang_auto_ban_chua_co_tai_khoan")),e.xp6(2),e.Q6J("routerLink",e.VKq(17,Eo,e.lcZ(6,9,"/auth/register")))("queryParams",e.VKq(19,Ir,t.returnUrl)),e.xp6(2),e.hij(" ",e.lcZ(8,11,"lang_auto_tao_mot_tai_khoan_moi")," "),e.xp6(4),e.hij(" ",e.lcZ(12,13,"lang_auto_hoac")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(21,Eo,e.lcZ(15,15,"/auth/login-by-zalo")))("queryParams",e.VKq(23,Xs,t.returnUrl))}}function tc(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"form",2)(2,"h2",3),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"input",6),e.NdJ("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.login())})("input",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.checkValidateUser(c.form.controls.username.value))}),e.ALo(8,"mytranslate"),e.qZA(),e.YNc(9,Cr,4,3,"div",7),e.YNc(10,Ks,3,1,"div",7),e.qZA(),e.TgZ(11,"div",5)(12,"div",8)(13,"input",9),e.NdJ("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.login())}),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.togglePassword())}),e.YNc(16,Zo,4,0,"span",11),e.YNc(17,$s,6,0,"span",11),e.qZA()(),e.YNc(18,wc,4,3,"div",12),e.qZA()(),e.YNc(19,Oo,3,3,"div",13),e.YNc(20,Tr,4,3,"div",14),e.TgZ(21,"div",15)(22,"button",16),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.login())}),e.YNc(23,Jn,6,0,"svg",17),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()(),e.YNc(26,ec,54,25,"ng-container",11),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.hij(" ",e.lcZ(4,16,"lang_auto_dang_nhap")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(8,18,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",t.form.controls.username.invalid&&(t.form.controls.username.dirty||t.form.controls.username.touched)&&!t.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",t.checkValidateUsername),e.xp6(3),e.s9C("placeholder",e.lcZ(14,20,"lang_auto_mat_khau")),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",""!=t.messageError),e.xp6(1),e.Q6J("ngIf",!t.isBusinessDomain),e.xp6(2),e.Q6J("disabled",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(25,22,"lang_auto_dang_nhap")," "),e.xp6(2),e.Q6J("ngIf",!t.isBusinessDomain)}}function nc(i,l){1&i&&(e.TgZ(0,"div",1),e._UZ(1,"azt-loading-effect"),e.qZA())}let ic=(()=>{class i extends de.Q{executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{t(r)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}login(){if(this.form.valid){this.initStatusObj();let t=location.hostname+(location.port?":"+location.port:"");this.executeImportantAction().then(r=>{var c=this.getFormValue();this.subscriptions.add(this.authService.apiAuthLoginWebPost({phone:c.username,password:c.password,tokenCaptcha:r,domain:this.isBusinessDomain?t:""}).subscribe(w=>{1==w.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=w.message??"",this.errorStatusObj(w.message??""))}))})}else this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(t=>{this.subscriptions.add(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:t}).subscribe(c=>{1==c.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(c.message??"")}))})}loginWithAccessToken(t){var r=this.userService.getUserObjFromJwtToken(t);null!=r?(this.userService.saveUserObj(r),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1)}googleSignIn(){const t=this.browserUserAgentService.isCommonInAppBrowser();let r=this.browserUserAgentService.getCommonInAppBrowser(),c=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),_="zalo";"facebook"===r.toLowerCase()&&(_="fb");let w=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${c}/${c}_${_}_1.png`),E=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${c}/${c}_${_}_2.png`);if(t)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(D=>{let H=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),ue=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(wr.C,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${D+" "+r}. ${H}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${ue} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${w}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${ue} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${E}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const D=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(D)}&click_login=1`)}}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0)}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var t=this.commonService.getMyQueryParam("not_register"),r=this.commonService.getMyQueryParam("user_click");if(this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),!t&&this.mobileAccessTkn)this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn);else{this.initStatusObj();var c=!1;t&&!this.isBusinessDomain?(c=!0,this.commonService.myNavigation("/auth/register")):this.userService.isLoginAndNotAnonymous()?(c=!0,this.redirectByRoleService.redirectLoginByRole(this.returnUrl)):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(c=!0,this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous()),c||(!r&&this.userService.isAnonymousRoleOfCurrentUser()?this.myNavigation("/student/dashboard/0"):(this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),this.loginByToken=!1,this.stopStatusObj(),super.ngOnInit()))}}constructor(t,r,c,_,w,E,D,H){super(),this.userService=t,this.localStorageObject=r,this.authService=c,this.redirectByRoleService=_,this.recaptchaV3Service=w,this.cdnService=E,this.browserUserAgentService=D,this.sAztDialogService=H,this.mobileAccessTkn="",this.returnUrl="",this.loginByToken=!0,this.msgError="",this.messageError="",this.checkValidateUsername=!1,this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1,this.form=new y.cw({username:new y.NI("",{nonNullable:!0,validators:[y.kI.required,C._.noWhiteSpace]}),fullName:new y.NI("",{nonNullable:!0}),password:new y.NI("",{nonNullable:!0,validators:[y.kI.required]})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Se.U),e.Y36(Rn.y),e.Y36(W.e8),e.Y36(Ct.C),e.Y36($i.YC),e.Y36(Bn.E),e.Y36(Ar),e.Y36(St.C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],features:[e.qOj],decls:3,vars:2,consts:[["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],["class","intro-x flex text-slate-600 dark:text-slate-500 text-xs sm:text-sm mt-4",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-Ed1OLmiD9X",1,"btn","btn-outline-secondary","mr-1",2,"width","calc(100% / 3 - 0.25rem)",3,"routerLink","queryParams","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","id","Layer_1","viewBox","0 0 460.1 436.6",1,"lucide","w-4","h-4","mr-2"],["d","M82.6 380.9c-1.8-.8-3.1-1.7-1-3.5 1.3-1 2.7-1.9 4.1-2.8 13.1-8.5 25.4-17.8 33.5-31.5 6.8-11.4 5.7-18.1-2.8-26.5C69 269.2 48.2 212.5 58.6 145.5 64.5 107.7 81.8 75 107 46.6c15.2-17.2 33.3-31.1 53.1-42.7 1.2-.7 2.9-.9 3.1-2.7-.4-1-1.1-.7-1.7-.7-33.7 0-67.4-.7-101 .2C28.3 1.7.5 26.6.6 62.3c.2 104.3 0 208.6 0 313 0 32.4 24.7 59.5 57 60.7 27.3 1.1 54.6.2 82 .1 2 .1 4 .2 6 .2H290c36 0 72 .2 108 0 33.4 0 60.5-27 60.5-60.3v-.6-58.5c0-1.4.5-2.9-.4-4.4-1.8.1-2.5 1.6-3.5 2.6-19.4 19.5-42.3 35.2-67.4 46.3-61.5 27.1-124.1 29-187.6 7.2-5.5-2-11.5-2.2-17.2-.8-8.4 2.1-16.7 4.6-25 7.1-24.4 7.6-49.3 11-74.8 6zm72.5-168.5c1.7-2.2 2.6-3.5 3.6-4.8 13.1-16.6 26.2-33.2 39.3-49.9 3.8-4.8 7.6-9.7 10-15.5 2.8-6.6-.2-12.8-7-15.2-3-.9-6.2-1.3-9.4-1.1-17.8-.1-35.7-.1-53.5 0-2.5 0-5 .3-7.4.9-5.6 1.4-9 7.1-7.6 12.8 1 3.8 4 6.8 7.8 7.7 2.4.6 4.9.9 7.4.8 10.8.1 21.7 0 32.5.1 1.2 0 2.7-.8 3.6 1-.9 1.2-1.8 2.4-2.7 3.5-15.5 19.6-30.9 39.3-46.4 58.9-3.8 4.9-5.8 10.3-3 16.3s8.5 7.1 14.3 7.5c4.6.3 9.3.1 14 .1 16.2 0 32.3.1 48.5-.1 8.6-.1 13.2-5.3 12.3-13.3-.7-6.3-5-9.6-13-9.7-14.1-.1-28.2 0-43.3 0zm116-52.6c-12.5-10.9-26.3-11.6-39.8-3.6-16.4 9.6-22.4 25.3-20.4 43.5 1.9 17 9.3 30.9 27.1 36.6 11.1 3.6 21.4 2.3 30.5-5.1 2.4-1.9 3.1-1.5 4.8.6 3.3 4.2 9 5.8 14 3.9 5-1.5 8.3-6.1 8.3-11.3.1-20 .2-40 0-60-.1-8-7.6-13.1-15.4-11.5-4.3.9-6.7 3.8-9.1 6.9zm69.3 37.1c-.4 25 20.3 43.9 46.3 41.3 23.9-2.4 39.4-20.3 38.6-45.6-.8-25-19.4-42.1-44.9-41.3-23.9.7-40.8 19.9-40 45.6zm-8.8-19.9c0-15.7.1-31.3 0-47 0-8-5.1-13-12.7-12.9-7.4.1-12.3 5.1-12.4 12.8-.1 4.7 0 9.3 0 14v79.5c0 6.2 3.8 11.6 8.8 12.9 6.9 1.9 14-2.2 15.8-9.1.3-1.2.5-2.4.4-3.7.2-15.5.1-31 .1-46.5z",1,"st0"],["d","M139.5 436.2c-27.3 0-54.7.9-82-.1-32.3-1.3-57-28.4-57-60.7 0-104.3.2-208.6 0-313C.5 26.7 28.4 1.8 60.5.9c33.6-.9 67.3-.2 101-.2.6 0 1.4-.3 1.7.7-.2 1.8-2 2-3.1 2.7-19.8 11.6-37.9 25.5-53.1 42.7-25.1 28.4-42.5 61-48.4 98.9-10.4 66.9 10.5 123.7 57.8 171.1 8.4 8.5 9.5 15.1 2.8 26.5-8.1 13.7-20.4 23-33.5 31.5-1.4.8-2.8 1.8-4.2 2.7-2.1 1.8-.8 2.7 1 3.5.4.9.9 1.7 1.5 2.5 11.5 10.2 22.4 21.1 33.7 31.5 5.3 4.9 10.6 10 15.7 15.1 2.1 1.9 5.6 2.5 6.1 6.1z",1,"st1"],["d","M139.5 436.2c-.5-3.5-4-4.1-6.1-6.2-5.1-5.2-10.4-10.2-15.7-15.1-11.3-10.4-22.2-21.3-33.7-31.5-.6-.8-1.1-1.6-1.5-2.5 25.5 5 50.4 1.6 74.9-5.9 8.3-2.5 16.6-5 25-7.1 5.7-1.5 11.7-1.2 17.2.8 63.4 21.8 126 19.8 187.6-7.2 25.1-11.1 48-26.7 67.4-46.2 1-1 1.7-2.5 3.5-2.6.9 1.4.4 2.9.4 4.4v58.5c.2 33.4-26.6 60.6-60 60.9h-.5c-36 .2-72 0-108 0H145.5c-2-.2-4-.3-6-.3z",1,"st2"],["d","M155.1 212.4c15.1 0 29.3-.1 43.4 0 7.9.1 12.2 3.4 13 9.7.9 7.9-3.7 13.2-12.3 13.3-16.2.2-32.3.1-48.5.1-4.7 0-9.3.2-14-.1-5.8-.3-11.5-1.5-14.3-7.5s-.8-11.4 3-16.3c15.4-19.6 30.9-39.3 46.4-58.9.9-1.2 1.8-2.4 2.7-3.5-1-1.7-2.4-.9-3.6-1-10.8-.1-21.7 0-32.5-.1-2.5 0-5-.3-7.4-.8-5.7-1.3-9.2-7-7.9-12.6.9-3.8 3.9-6.9 7.7-7.8 2.4-.6 4.9-.9 7.4-.9 17.8-.1 35.7-.1 53.5 0 3.2-.1 6.3.3 9.4 1.1 6.8 2.3 9.7 8.6 7 15.2-2.4 5.7-6.2 10.6-10 15.5-13.1 16.7-26.2 33.3-39.3 49.8-1.1 1.3-2.1 2.6-3.7 4.8z",1,"st1"],["d","M271.1 159.8c2.4-3.1 4.9-6 9-6.8 7.9-1.6 15.3 3.5 15.4 11.5.3 20 .2 40 0 60 0 5.2-3.4 9.8-8.3 11.3-5 1.9-10.7.4-14-3.9-1.7-2.1-2.4-2.5-4.8-.6-9.1 7.4-19.4 8.7-30.5 5.1-17.8-5.8-25.1-19.7-27.1-36.6-2.1-18.3 4-33.9 20.4-43.5 13.6-8.1 27.4-7.4 39.9 3.5zm-35.4 36.5c.2 4.4 1.6 8.6 4.2 12.1 5.4 7.2 15.7 8.7 23 3.3 1.2-.9 2.3-2 3.3-3.3 5.6-7.6 5.6-20.1 0-27.7-2.8-3.9-7.2-6.2-11.9-6.3-11-.7-18.7 7.8-18.6 21.9zM340.4 196.9c-.8-25.7 16.1-44.9 40.1-45.6 25.5-.8 44.1 16.3 44.9 41.3.8 25.3-14.7 43.2-38.6 45.6-26.1 2.6-46.8-16.3-46.4-41.3zm25.1-2.4c-.2 5 1.3 9.9 4.3 14 5.5 7.2 15.8 8.6 23 3 1.1-.8 2-1.8 2.9-2.8 5.8-7.6 5.8-20.4.1-28-2.8-3.8-7.2-6.2-11.9-6.3-10.8-.6-18.4 7.6-18.4 20.1zM331.6 177c0 15.5.1 31 0 46.5.1 7.1-5.5 13-12.6 13.2-1.2 0-2.5-.1-3.7-.4-5-1.3-8.8-6.6-8.8-12.9v-79.5c0-4.7-.1-9.3 0-14 .1-7.7 5-12.7 12.4-12.7 7.6-.1 12.7 4.9 12.7 12.9.1 15.6 0 31.3 0 46.9z",1,"st1"],["d","M235.7 196.3c-.1-14.1 7.6-22.6 18.5-22 4.7.2 9.1 2.5 11.9 6.4 5.6 7.5 5.6 20.1 0 27.7-5.4 7.2-15.7 8.7-23 3.3-1.2-.9-2.3-2-3.3-3.3-2.5-3.5-3.9-7.7-4.1-12.1zM365.5 194.5c0-12.4 7.6-20.7 18.4-20.1 4.7.1 9.1 2.5 11.9 6.3 5.7 7.6 5.7 20.5-.1 28-5.6 7.1-16 8.3-23.1 2.7-1.1-.8-2-1.8-2.8-2.9-3-4.1-4.4-9-4.3-14z",1,"st0"],["d","M66 1h328.1c35.9 0 65 29.1 65 65v303c0 35.9-29.1 65-65 65H66c-35.9 0-65-29.1-65-65V66C1 30.1 30.1 1 66 1z",1,"st3"],[1,"text-md"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"]],template:function(t,r){1&t&&(e.TgZ(0,"auth-layout"),e.YNc(1,tc,27,24,"div",0),e.YNc(2,nc,2,0,"div",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!r.loginByToken),e.xp6(1),e.Q6J("ngIf",r.loginByToken))},dependencies:[we.rH,m.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,ze.l,ut.M,qt,Y.Jy,Y.JV],encapsulation:2}),i})(),kr=(()=>{class i extends de.Q{ngOnInit(){super.ngOnInit(),this.fireAuth.signOut(),this.userService.logout();var t=this.commonService.getMyQueryParam("return_url")||null;t?this.redirectService.redirectSimpleLoginWithReturnUrl(t):this.redirectService.redirectSimpleLogin()}constructor(t,r,c){super(),this.userService=t,this.fireAuth=r,this.redirectService=c,this.fireAuth.signOut()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Se.U),e.Y36(Qn),e.Y36(it.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-register"]],features:[e.qOj],decls:0,vars:0,template:function(t,r){},encapsulation:2}),i})(),oc=(()=>{class i extends de.Q{ngOnInit(){super.ngOnInit()}constructor(t){super(),this.commonService=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(sr.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["auth-master-page"]],features:[e.qOj],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[we.lC],encapsulation:2}),i})(),Ac=(()=>{class i extends de.Q{constructor(t,r,c,_){super(),this.activeRoute=t,this.fireAuth=r,this.authService=c,this.redirectByRoleService=_,this.checkLoadingLogin=!1,this.fireAuth.authState.pipe((0,Cn.P)()).subscribe(w=>{w?this.signInWithTokenGoogle(w):this.googleSignIn()})}signInWithTokenGoogle(t){this.checkLoadingLogin=!0;let r=this.commonService.getMyParam(this.activeRoute,"type"),c=parseInt(r??"0",10);t.getIdToken().then(_=>{let w={isRegisterForm:1,isRegisterForTeacher:c,firebaseToken:_,language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(w).subscribe(E=>{if(1==E.success){let H=this.commonService.getMyQueryParam("return_url")??"";if(""===H){let ue=this.commonService.getMyQueryParam("backto")??"";var D=ue.includes("return_url=")?ue.split("return_url=")[1]:"";H=decodeURIComponent(D)}0==Number(r)?this.redirectByRoleService.redirectLoginForStudent(H):this.redirectByRoleService.redirectLoginByRole(H),this.successStatusObj(),this.checkLoadingLogin=!1}else{this.errorStatusObj(E.message??"",!0);const H=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(H)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new hn.W).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const r=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(r)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(we.gz),e.Y36(Qn),e.Y36(W.e8),e.Y36(Ct.C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["register-by-openapi"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"azt-loading-ui",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("type","azota-logo"),e.xp6(2),e.hij(" ",e.lcZ(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[mn.n,Y.JV],encapsulation:2}),i})();function a(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"div",47),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.changeRegisterType(0))}),e.O4$(),e.TgZ(3,"svg",48),e._UZ(4,"path",9)(5,"path",10),e.qZA(),e.kcU(),e.TgZ(6,"p",49),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()(),e.TgZ(9,"div",46)(10,"div",50),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.changeRegisterType(1))}),e.O4$(),e.TgZ(11,"svg",51)(12,"g",52),e._UZ(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56)(17,"path",57)(18,"path",58)(19,"path",59)(20,"path",60)(21,"path",61),e.qZA()(),e.kcU(),e.TgZ(22,"p",49),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()()}2&i&&(e.xp6(7),e.Oqu(e.lcZ(8,2,"lang_auto_toi_la_hoc_sinh")),e.xp6(16),e.Oqu(e.lcZ(24,4,"lang_auto_toi_la_giao_vien")))}function n(i,l){1&i&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function o(i,l){1&i&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function s(i,l){if(1&i&&(e.TgZ(0,"div",62)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.msgError)}}function u(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",63),e._UZ(2,"path",64)(3,"circle",65),e.qZA()())}function h(i,l){1&i&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",63),e._UZ(2,"path",66)(3,"path",67)(4,"path",68)(5,"line",69),e.qZA()())}function A(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function I(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function R(i,l){if(1&i&&(e.TgZ(0,"div",62),e.YNc(1,A,3,3,"span",24),e.YNc(2,I,3,3,"span",24),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}const G=function(i){return[i]},$=function(i,l){return{return_url:i,from:"register",user_click:"true",type:l}};function me(i,l){if(1&i&&(e.TgZ(0,"div",73),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"a",74),e.ALo(4,"localize"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,5,t.statusObj.errorMessage)," Click "),e.xp6(2),e.Q6J("routerLink",e.VKq(13,G,e.lcZ(4,7,"/auth/login")))("queryParams",e.WLB(15,$,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(6,9,"lang_auto_vao_day")," "),e.xp6(2),e.hij(" ",e.lcZ(8,11,"lang_auto_de_dang_nhap")," ")}}function dt(i,l){if(1&i&&(e.TgZ(0,"label",75),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.statusObj.errorMessage)," ")}}function Yt(i,l){if(1&i&&(e.TgZ(0,"div",70),e.YNc(1,me,9,18,"div",71),e.YNc(2,dt,3,3,"ng-template",null,72,e.W1O),e.qZA()),2&i){const t=e.MAs(3),r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.isDuplicateEmailOrPhone>0)("ngIfElse",t)}}function Vn(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",76),e._uU(2,"\xa0"),e.qZA())}function Sr(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"a",77),e.ALo(2,"localize"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(7,G,e.lcZ(2,3,"/auth/login")))("queryParams",e.WLB(9,$,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," ")}}const Lo=function(i){return{return_url:i,from:"register",user_click:"true"}};function Zr(i,l){if(1&i&&(e.TgZ(0,"a",78),e.ALo(1,"localize"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&i){const t=e.oxw();e.Q6J("routerLink",e.VKq(7,G,e.lcZ(1,3,"/auth/login")))("queryParams",e.VKq(9,Lo,t.returnUrl)),e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_auto_dang_nhap"))}}const Po=function(i){return{active:i}};let Wn=(()=>{class i extends de.Q{executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{t(r)})})}getFormValue(){return this.form.getRawValue()}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url")??"";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}changeRegisterType(t){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${t}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==t?(this.isTeacher=!1,this.isStudent=!0,this.checkValidateUsername=!1):(this.isTeacher=!0,this.isStudent=!1,this.checkValidateUsername=!1)}loginZalo(){window.location.href=this.zaloLoginUrl}registerForTeacher(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(t=>{var r=this.getFormValue(),c={fullName:r.fullName,password:r.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};this.validateEmail(r.username)?c.email=r.username:c.phone=r.username,this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRegisterPost(c).subscribe(_=>{1==_.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(_.message??""),this.isDuplicateEmailOrPhone=_.data?.isDuplicateEmailOrPhone??0)}))})}registerForStudent(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(t=>{var r=this.getFormValue();this.initStatusObj();var c={fullName:r.fullName,password:r.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};this.validateEmail(r.username)?c.email=r.username:c.phone=r.username,this.subscriptions.add(this.authService.apiAuthRegisterForStudentPost(c).subscribe(_=>{1==_.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(_.message??""),this.isDuplicateEmailOrPhone=_.data?.isDuplicateEmailOrPhone??0)}))})}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0)}googleSignIn(){const t=this.browserUserAgentService.isCommonInAppBrowser();let r=this.browserUserAgentService.getCommonInAppBrowser(),c=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),_="zalo";"facebook"===r.toLowerCase()&&(_="fb");let w=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${c}/${c}_${_}_1.png`),E=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${c}/${c}_${_}_2.png`);if(t)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(D=>{let H=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),ue=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(wr.C,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${D+" "+r}. ${H}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${ue} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${w}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${ue} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${E}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const D=this.commonService.getMyParam(this.activeRoute,"type"),H=`/auth/register/${D}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${D}`,`?backto=${encodeURIComponent(H)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLoginAndNotAnonymous())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=Pe.N.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1");let c=this.commonService.getMyQueryParam("user_click");var t=this.commonService.getMyParam(this.activeRoute,"type");if(this.isBusinessDomain&&this.myNavigation("/auth/login"),null!=t){var r=parseInt(t?.toString(),10);this.changeRegisterType(0==r?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),!c&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/dashboard/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}}constructor(t,r,c,_,w,E,D,H){super(),this.redirectByRoleService=t,this.activeRoute=r,this.userService=c,this.recaptchaV3Service=_,this.cdnService=w,this.sAztDialogService=E,this.authService=D,this.browserUserAgentService=H,this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.checkValidateUsername=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1,this.form=new y.cw({username:new y.NI("",{nonNullable:!0,validators:[y.kI.required,C._.noWhiteSpace]}),fullName:new y.NI("",{nonNullable:!0,validators:[y.kI.required,C._.noWhiteSpace]}),password:new y.NI("",{nonNullable:!0,validators:[y.kI.required]})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.C),e.Y36(we.gz),e.Y36(Se.U),e.Y36($i.YC),e.Y36(Bn.E),e.Y36(St.C),e.Y36(W.e8),e.Y36(Ar))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-register"]],features:[e.qOj],decls:81,vars:66,consts:[[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-32","h-32",2,"stroke-width","1"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.0","viewBox","0 0 2600.000000 2600.000000","preserveAspectRatio","xMidYMid meet",1,"lucide","w-32","h-32"],["transform","translate(0.000000,2600.000000) scale(0.100000,-0.100000)","fill","currentColor","stroke","currentColor"],["d","M5087 20663 c-4 -3 -7 -145 -7 -315 l0 -308 5525 0 5525 0 0 315 0 315 -5518 0 c-3035 0 -5522 -3 -5525 -7z"],["d","M5507 19763 c-4 -3 -7 -1365 -7 -3025 l0 -3018 4196 0 c3353 0 4194 3 4188 13 -23 37 -372 551 -447 657 -100 140 -196 327 -227 440 -27 102 -38 229 -29 327 31 315 280 593 589 659 102 22 269 14 365 -16 194 -62 387 -198 546 -387 40 -48 164 -185 273 -303 110 -118 202 -219 206 -223 4 -4 129 183 279 418 l271 425 0 2020 0 2020 -5098 0 c-2804 0 -5102 -3 -5105 -7z m9243 -1328 l0 -235 -4140 0 -4140 0 0 235 0 235 4140 0 4140 0 0 -235z m-3080 -1130 l0 -235 -2600 0 -2600 0 0 235 0 235 2600 0 2600 0 0 -235z m0 -1125 l0 -230 -2600 0 -2600 0 0 230 0 230 2600 0 2600 0 0 -230z m-2480 -1130 l0 -230 -1360 0 -1360 0 0 230 0 230 1360 0 1360 0 0 -230z"],["d","M17409 19294 c-249 -45 -459 -156 -636 -336 -149 -153 -242 -316 -301 -528 -24 -87 -26 -111 -26 -285 0 -174 2 -198 27 -288 142 -527 593 -877 1130 -877 187 0 344 35 502 110 530 255 786 850 609 1412 -110 347 -390 630 -740 747 -176 59 -393 77 -565 45z"],["d","M17370 16650 c-246 -34 -488 -116 -645 -218 -138 -89 -120 -65 -820 -1165 -362 -567 -663 -1037 -669 -1044 -8 -9 -107 92 -408 415 -218 236 -414 450 -435 477 -82 103 -209 212 -300 257 -80 40 -92 43 -167 43 -105 0 -171 -30 -248 -114 -64 -69 -88 -132 -88 -231 0 -129 56 -262 190 -450 45 -63 300 -439 568 -835 522 -773 526 -778 671 -866 98 -59 158 -74 301 -74 122 0 127 1 193 33 42 21 90 56 130 96 39 40 199 257 437 596 l375 534 3 -573 2 -573 -125 -1196 c-69 -658 -125 -1208 -125 -1221 0 -20 3 -23 28 -17 15 3 90 9 167 12 117 5 161 3 264 -15 209 -36 426 -122 574 -227 26 -19 51 -34 55 -34 5 0 71 287 147 638 76 350 142 656 148 680 5 24 10 42 12 40 2 -2 222 -1013 489 -2248 267 -1235 492 -2274 501 -2310 28 -117 123 -228 233 -271 79 -32 195 -32 275 0 120 47 226 182 244 312 6 41 -61 717 -294 2944 l-302 2890 2 582 2 583 625 -1018 c343 -559 644 -1038 667 -1063 80 -86 213 -137 325 -125 129 13 249 101 304 221 37 80 45 207 19 286 -10 30 -483 919 -1051 1976 -1154 2146 -1044 1960 -1225 2075 -127 80 -301 144 -499 184 -98 19 -445 28 -550 14z"],["d","M5087 13443 c-4 -3 -7 -145 -7 -315 l0 -308 4711 0 4710 0 -212 315 -213 315 -4491 0 c-2471 0 -4495 -3 -4498 -7z"],["d","M7306 10119 c-148 -22 -312 -85 -437 -169 -82 -55 -213 -187 -268 -268 -63 -94 -118 -215 -148 -327 -23 -88 -26 -118 -26 -255 0 -167 12 -234 69 -377 88 -224 279 -429 501 -539 l84 -41 -78 -28 c-312 -110 -580 -343 -731 -634 -96 -184 -139 -342 -149 -543 l-6 -128 1332 0 1333 0 -7 98 c-22 331 -117 577 -316 819 -137 166 -371 325 -582 394 l-66 21 97 49 c281 141 480 400 544 709 16 78 19 121 15 240 -6 178 -26 261 -102 415 -121 248 -331 432 -592 518 -163 54 -313 68 -467 46z"],["d","M11775 10115 c-209 -40 -384 -128 -532 -269 -221 -209 -336 -496 -320 -795 14 -253 110 -473 286 -655 91 -94 177 -157 289 -212 l83 -41 -78 -28 c-312 -110 -584 -346 -732 -635 -95 -186 -138 -342 -148 -542 l-6 -128 1332 0 1331 0 -6 98 c-22 371 -142 643 -393 893 -158 158 -319 259 -505 319 l-69 23 73 33 c256 119 455 346 544 619 34 105 46 187 46 311 0 474 -316 872 -790 996 -102 26 -299 33 -405 13z"],["d","M16275 10114 c-228 -41 -418 -144 -579 -315 -277 -295 -352 -718 -193 -1098 88 -213 276 -409 495 -517 l83 -41 -78 -28 c-507 -179 -857 -646 -880 -1172 l-6 -133 1328 0 1328 0 -6 138 c-15 337 -150 629 -405 873 -145 140 -318 246 -485 299 l-67 22 92 46 c304 153 504 428 558 764 17 105 8 300 -18 400 -52 195 -146 352 -295 494 -110 105 -216 171 -351 219 -173 62 -353 79 -521 49z"],["d","M5002 5933 l3 -408 6940 0 6940 0 3 408 2 407 -6945 0 -6945 0 2 -407z"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],["role","status",1,"spinner-border","spinner-border-sm"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(t,r){if(1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,a,25,6,"div",1),e.TgZ(5,"div",2)(6,"form",3)(7,"div",4)(8,"ul",5)(9,"li",6)(10,"button",7),e.NdJ("click",function(){return r.changeRegisterType(0)}),e.O4$(),e.TgZ(11,"svg",8),e._UZ(12,"path",9)(13,"path",10),e.qZA(),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(16,"li",11)(17,"button",12),e.NdJ("click",function(){return r.changeRegisterType(1)}),e.O4$(),e.TgZ(18,"svg",8),e._UZ(19,"path",13)(20,"circle",14),e.qZA(),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()()(),e.kcU(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e._UZ(26,"input",18),e.ALo(27,"mytranslate"),e.YNc(28,n,4,3,"div",19),e.qZA(),e.TgZ(29,"div",17)(30,"input",20),e.NdJ("input",function(){return r.checkValidateUser(r.form.controls.username.value)}),e.ALo(31,"mytranslate"),e.qZA(),e.YNc(32,o,4,3,"div",19),e.YNc(33,s,3,1,"div",19),e.qZA(),e.TgZ(34,"div",17)(35,"div",21),e._UZ(36,"input",22),e.ALo(37,"mytranslate"),e.TgZ(38,"button",23),e.NdJ("click",function(){return r.togglePassword()}),e.YNc(39,u,4,0,"span",24),e.YNc(40,h,6,0,"span",24),e.qZA()(),e.YNc(41,R,3,2,"div",19),e.qZA()()()(),e.YNc(42,Yt,4,2,"div",25),e.TgZ(43,"div",26)(44,"p",27),e._uU(45),e.ALo(46,"mytranslate"),e.ALo(47,"mytranslate"),e.ALo(48,"mytranslate"),e.TgZ(49,"a",28),e._uU(50),e.ALo(51,"mytranslate"),e.qZA(),e._uU(52),e.ALo(53,"mytranslate"),e.TgZ(54,"a",29),e._uU(55),e.ALo(56,"mytranslate"),e.qZA()()(),e.TgZ(57,"div",30)(58,"button",31),e.NdJ("click",function(){return 1==r.isStudent?r.registerForStudent():r.registerForTeacher()}),e.YNc(59,Vn,3,0,"span",24),e._uU(60),e.ALo(61,"mytranslate"),e.qZA()(),e.TgZ(62,"div",32),e._uU(63),e.ALo(64,"mytranslate"),e.YNc(65,Sr,5,12,"ng-container",33),e.YNc(66,Zr,4,11,"ng-template",null,34,e.W1O),e.qZA(),e.TgZ(68,"div",35)(69,"span",36),e._uU(70),e.ALo(71,"mytranslate"),e.qZA()(),e.TgZ(72,"div",37)(73,"button",38),e.NdJ("click",function(){return r.googleSignIn()}),e.O4$(),e.TgZ(74,"svg",39),e._UZ(75,"path",40)(76,"path",41)(77,"path",42)(78,"path",43),e.qZA(),e.kcU(),e.TgZ(79,"span",44),e._uU(80,"Google"),e.qZA()()()()()()),2&t){const c=e.MAs(67);e.xp6(2),e.hij(" ",e.lcZ(3,32,"lang_auto_dang_ky")," "),e.xp6(2),e.Q6J("ngIf",1==r.isShowOption),e.xp6(1),e.Q6J("hidden",r.isShowOption),e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("ngClass",e.VKq(62,Po,r.isStudent)),e.xp6(4),e.hij(" ",e.lcZ(15,34,"lang_auto_hoc_sinh")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(64,Po,r.isTeacher)),e.xp6(4),e.hij(" ",e.lcZ(22,36,"lang_auto_giao_vien")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(27,38,"lang_auto_ho_ten")),e.xp6(2),e.Q6J("ngIf",r.form.controls.fullName.errors&&(r.form.controls.fullName.dirty||r.form.controls.fullName.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(31,40,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",r.form.controls.username.errors&&(r.form.controls.username.dirty||r.form.controls.username.touched)&&!r.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",r.checkValidateUsername),e.xp6(3),e.s9C("placeholder",e.lcZ(37,42,"lang_auto_mat_khau")),e.Q6J("type",r.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",r.showPassword),e.xp6(1),e.Q6J("ngIf",!r.showPassword),e.xp6(1),e.Q6J("ngIf",r.form.controls.password.errors&&(r.form.controls.password.dirty||r.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",r.statusObj.errorMessage),e.xp6(3),e.lnq(" ",e.lcZ(46,44,"lang_auto_bang_cach_an_vao_nut"),' "',e.lcZ(47,46,"lang_auto_dang_ky"),'" ',e.lcZ(48,48,"lang_auto__toi_dong_y_voi")," "),e.xp6(5),e.hij(" ",e.lcZ(51,50,"lang_auto_dieu_khoan_su_dung")," "),e.xp6(2),e.hij(" ",e.lcZ(53,52,"lang_auto_va")," "),e.xp6(3),e.hij(" ",e.lcZ(56,54,"lang_auto_chinh_sach_bao_mat_cua_azota"),""),e.xp6(3),e.Q6J("disabled",r.form.invalid),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(61,56,"lang_auto_dang_ky")," "),e.xp6(3),e.hij(" ",e.lcZ(64,58,"lang_auto_ban_da_co_tai_khoan")," "),e.xp6(2),e.Q6J("ngIf",r.isDuplicateEmailOrPhone>0)("ngIfElse",c),e.xp6(5),e.Oqu(e.lcZ(71,60,"lang_auto_hoac"))}},dependencies:[we.rH,m.mk,m.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,ut.M,qt,nt.lO,Y.JV],encapsulation:2}),i})();var Or=v(6411);function Er(i,l){1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function No(i,l){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.msgError)}}function Lr(i,l){1&i&&(e.TgZ(0,"span",13),e._UZ(1,"azt-loading-ui",14),e.qZA()),2&i&&(e.xp6(1),e.Q6J("type","oval"))}function Ro(i,l){1&i&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&i&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function ac(i,l){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Cc(i,l){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,ac,3,3,"div",10),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Tc(i,l){if(1&i&&(e.TgZ(0,"div",14)(1,"label",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function Ic(i,l){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",30),e._uU(2,"\xa0"),e.qZA())}const kc=function(i){return[i]},Sc=function(){return{user_click:"true"}};function Zc(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.TgZ(10,"div",16),e._UZ(11,"input",20),e.ALo(12,"mytranslate"),e.TgZ(13,"div",18)(14,"span",19)(15,"mat-icon"),e._uU(16,"lock"),e.qZA()()()(),e.YNc(17,Cc,2,1,"div",21),e.qZA()(),e.YNc(18,Tc,4,3,"div",22),e.TgZ(19,"div",23)(20,"div",15)(21,"div",24)(22,"button",25),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.form.invalid||c.statusObj.loading||c.changePassword())}),e.YNc(23,Ic,3,0,"span",10),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()()()(),e._UZ(26,"hr"),e.TgZ(27,"div",26)(28,"a",27),e.ALo(29,"localize"),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,10,"lang_auto_mat_khau_moi")),e.xp6(7),e.s9C("placeholder",e.lcZ(12,12,"lang_auto_xac_nhan_mat_khau")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(25,14,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(20,kc,e.lcZ(29,16,"/auth/login")))("queryParams",e.DdM(22,Sc)),e.xp6(2),e.Oqu(e.lcZ(31,18,"lang_auto_dang_nhap_tai_khoan"))}}const Oc=[{path:"",component:oc,children:[{path:"login",component:ic},{path:"login-scan/:role",component:So},{path:"login-by-zalo",component:vr},{path:"register",component:Wn},{path:"register/:type",component:Wn},{path:"choose-role",component:Gi},{path:"required-phone-or-email",component:(()=>{class i extends de.Q{addEmailOrPhone(){if(this.form.valid){let t,r;this.initStatusObj(),this.validateEmail(this.form.controls.phone.value)?r=this.form.controls.phone.value:t=this.form.controls.phone.value,this.subscriptions.add(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(t,r).subscribe(c=>{if(1==c.success){let _=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(_),this.successStatusObj()}else this.errorStatusObj(c.message??"",!0)}))}}backToRedirect(){let t=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(t)}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(r=>{this.msgError=r}),this.checkValidateUsername=!0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.userZaloService=t,this.zaloService=r,this.msgError="",this.checkValidateUsername=!1,this.form=new y.cw({phone:new y.NI("",{nonNullable:!0,validators:[y.kI.required,C._.noWhiteSpace]})}),this.zaloService.checkLoginZalo()||this.backToRedirect()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.wS),e.Y36(Or.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-required-phone-or-email"]],features:[e.qOj],decls:22,vars:17,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"w-4","h-4","mr-2"],[3,"type"]],template:function(t,r){1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),e.NdJ("input",function(){return r.checkValidateUser(r.form.controls.phone.value)}),e.ALo(8,"mytranslate"),e.qZA(),e.YNc(9,Er,4,3,"div",5),e.YNc(10,No,3,1,"div",5),e.qZA(),e.TgZ(11,"div",6)(12,"button",7),e.NdJ("click",function(){return r.addEmailOrPhone()}),e.YNc(13,Lr,2,1,"span",8),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()(),e.TgZ(16,"div",6)(17,"a",9),e.NdJ("click",function(){return r.backToRedirect()}),e.O4$(),e.TgZ(18,"svg",10),e._UZ(19,"polyline",11),e.qZA(),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,9,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),e.xp6(3),e.Q6J("formGroup",r.form),e.xp6(2),e.s9C("placeholder",e.lcZ(8,11,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",r.form.controls.phone.invalid&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)&&!r.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",r.checkValidateUsername),e.xp6(2),e.Q6J("disabled",r.statusObj.loading||r.form.invalid),e.xp6(1),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(15,13,"lang_auto_tiep_tuc")," "),e.xp6(6),e.hij(" ",e.lcZ(21,15,"lang_auto_quay_lai")," "))},dependencies:[m.O5,y._Y,y.Fj,y.JJ,y.JL,y.sg,y.u,ut.M,mn.n,qt,Y.JV],encapsulation:2}),i})()},{path:"logout",component:kr},{path:"confirm_forgot_password",component:vc},{path:"confirm-forgot-password-email",component:Ua},{path:"forgot_password_success",component:mo},{path:"confirm_forgot_password_qr",component:tn},{path:"confirm_forgot_password_old",component:os},{path:"confirm_account",component:Ki},{path:"checking_service",component:pc},{path:"set_new_password",component:(()=>{class i extends de.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,r){return!!this.form.controls[t].errors?.[r]&&this.form.controls[t].errors?.[r]}changePassword(){if(this.form.valid){let _=this.getFormValue();if(_.password!=_.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var t=this.commonService.getMyQueryParam("token"),r=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:t??"",newPassword:_.password,appName:r??""}).subscribe(w=>{1==w.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(w.message??"")}))}}}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.userInfoService=r,this.form=new y.cw({emailOrPhone:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),hash:new y.NI("",{nonNullable:!0,validators:[y.kI.required]}),password:new y.NI("",{nonNullable:!0,validators:[y.kI.required,y.kI.minLength(6)]}),confirm_password:new y.NI("",{nonNullable:!0})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.C),e.Y36(W.$C))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","off",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["type","password","formControlName","confirm_password","autocomplete","off",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"convertCdnLinkOfGitHub"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,Ro,6,3,"div",10),e.YNc(14,Zc,32,23,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",r.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!r.statusObj.loading))},dependencies:[we.rH,m.O5,y._Y,y.Fj,y.JJ,y.JL,an.lW,cn.Hw,y.sg,y.u,ut.M,nt.lO,Y.JV,Y.Bo],encapsulation:2}),i})()},{path:"create-qr-forgot-pass/:role",component:ys},{path:"change-email",component:hc},{path:"account-setting/:roleType/:modeType",component:Bi},{path:"go-to-mobile/:code",component:_r},{path:"go-to-mobile/:code/:fromApp",component:_r},{path:"login-by-openapi",component:fr},{path:"register-by-openapi/:type",component:Ac}]}];let Ec=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[we.Bz.forChild(Oc),we.Bz,nt.fQ]}),i})(),Lc=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[we.Bz,m.ez,y.u5,Rt.Z_,zt.j,y.UX,Ec,De.W,on.d,xt.Z,He.QG,lt.kb,Fe.initializeApp(Pe.N.firebaseConfig_app1,"auth"),Le.qyJ.pick(Le.ciZ),Ht.l1,gt]}),i})()},90159:(vt,Te,v)=>{v.d(Te,{H7:()=>re,LT:()=>fe});var m=v(65619),S=v(63019),e=v(37398),x=v(65879),ge=v(23655);class _e{constructor(O,U,z,k,P=1,q=!1,j=!1,F,pe){this.id=O,this.pr=U,this.type=z,this.item=k,this.level=P,this.expandable=q,this.isLoading=j,this.prNode=F,this.isLeaf=pe}}let re=(()=>{class te{constructor(U){this.testMarketQuestionService=U,this.dataMap=new Map,this.levelId=0,this.subjectId=0}initialData(U,z){return this.levelId=U,this.subjectId=z,new Promise(k=>{this.apiLeechData(void 0).then(P=>{k(P.map(q=>new _e(q.id,q.pr,q.type,q.name,0,"cate"===q.type,!1,void 0,q.isLeaf)))})})}isExpandable(U){return this.dataMap.has(U)}apiLeechData(U){return new Promise(z=>{const k=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,U).subscribe(P=>{1===P.success&&P.data&&(P.data.objs||[]).forEach(j=>{k.push({pr:U??0,id:j.id??0,name:j.name?`${j.name}`:"",type:"cate",isLeaf:j.isLeaf??!1})}),z(k)})})}}return te.\u0275fac=function(U){return new(U||te)(x.LFG(ge.Q_))},te.\u0275prov=x.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();class fe{get data(){return this.dataChange.value}set data(O){this._treeControl.dataNodes=O,this.dataChange.next(O)}constructor(O,U){this._treeControl=O,this._database=U,this.dataChange=new m.X([])}connect(O){return this._treeControl.expansionModel.changed.subscribe(U=>{(U.added||U.removed)&&this.handleTreeControl(U)}),(0,S.T)(O.viewChange,this.dataChange).pipe((0,e.U)(()=>this.data))}getNode(O){let U=this.data.filter(z=>z.id==O);return U&&U.length>0?U[0]:null}disconnect(O){}handleTreeControl(O){O.added&&O.added.forEach(U=>this.toggleNode(U,!0)),O.removed&&O.removed.slice().reverse().forEach(U=>this.toggleNode(U,!1))}toggleNode(O,U){if("cate"===O.type){const z=this.data.indexOf(O);if(U)O.isLoading=!0,this._database.apiLeechData(O.id).then(k=>{const P=k.map(q=>new _e(q.id,q.pr,q.type,q.name,O.level+1,"cate"===q.type,!1,O,q.isLeaf));this.data.splice(z+1,0,...P),this.dataChange.next(this.data),O.isLoading=!1});else{let k=0;for(let P=z+1;P<this.data.length&&this.data[P].level>O.level;P++,k++);this.data.splice(z+1,k),this.dataChange.next(this.data)}}}}},44683:(vt,Te,v)=>{v.d(Te,{WG:()=>O,o8:()=>re});var m=v(29023),S=v(65879),e=v(16676),x=v.n(e),ge=v(46558);const _e=x()||e,re=new S.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function fe(){return{useUtc:!1}}});function te(U,z){const k=Array(U);for(let P=0;P<U;P++)k[P]=z(P);return k}let O=(()=>{class U extends m.fM{constructor(k){super(),this._options=k,this.commonService=(0,S.f3M)(ge.z),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},_e.locale(),this.setLocale(this.commonService.getCurrentLang()||_e.locale())}setLocale(k){super.setLocale(k);const P=_e.localeData(k);this._localeData={firstDayOfWeek:P.firstDayOfWeek(),longMonths:P.months(),shortMonths:P.monthsShort(),dates:te(31,q=>this.createDate(2017,0,q+1).format("D")),longDaysOfWeek:P.weekdays(),shortDaysOfWeek:P.weekdaysShort(),narrowDaysOfWeek:P.weekdaysMin()}}getYear(k){return this.clone(k).year()}getMonth(k){return this.clone(k).month()}getDate(k){return this.clone(k).date()}getDayOfWeek(k){return this.clone(k).day()}getMonthNames(k){return"long"===k?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(k){return"long"===k?this._localeData.longDaysOfWeek:"short"===k?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(k){return this.clone(k).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(k){return this.clone(k).daysInMonth()}clone(k){return k.clone().locale(this.locale)}createDate(k,P,q){if(P<0||P>11)throw Error(`Invalid month index "${P}". Month index has to be between 0 and 11.`);if(q<1)throw Error(`Invalid date "${q}". Date has to be greater than 0.`);const j=this._createMoment({year:k,month:P,date:q}).locale(this.locale);if(!j.isValid())throw Error(`Invalid date "${q}" for month with index "${P}".`);return j}today(){return this._createMoment().locale(this.locale)}parse(k,P){return k&&"string"==typeof k?this._createMoment(k,P,this.locale):k?this._createMoment(k).locale(this.locale):null}format(k,P){if(k=this.clone(k),!this.isValid(k))throw Error("MomentDateAdapter: Cannot format invalid date.");return k.format(P)}addCalendarYears(k,P){return this.clone(k).add({years:P})}addCalendarMonths(k,P){return this.clone(k).add({months:P})}addCalendarDays(k,P){return this.clone(k).add({days:P})}toIso8601(k){return this.clone(k).format()}deserialize(k){let P;if(k instanceof Date)P=this._createMoment(k).locale(this.locale);else if(this.isDateInstance(k))return this.clone(k);if("string"==typeof k){if(!k)return null;P=this._createMoment(k,_e.ISO_8601).locale(this.locale)}return P&&this.isValid(P)?this._createMoment(P).locale(this.locale):super.deserialize(k)}isDateInstance(k){return _e.isMoment(k)}isValid(k){return this.clone(k).isValid()}invalid(){return _e.invalid()}getHour(k){return k.hours()}getMinute(k){return k.minutes()}getSecond(k){return k.seconds()}setHour(k,P){k.hours(P)}setMinute(k,P){k.minutes(P)}setSecond(k,P){k.seconds(P)}_createMoment(k,P,q){const{strict:j,useUtc:F}=this._options||{};return F?_e.utc(k,P,q,j):_e(k,P,q,j)}}return U.\u0275fac=function(k){return new(k||U)(S.LFG(re,8))},U.\u0275prov=S.Yz7({token:U,factory:U.\u0275fac}),U})()},6411:(vt,Te,v)=>{v.d(Te,{i:()=>x});var m=v(65879),S=v(2816),e=v(46558);let x=(()=>{class ge{constructor(re,fe){this.userService=re,this.commonService=fe}checkLoginZalo(){if(!this.userService.isLogin())return!1;const re=this.userService.getUserObj();return!(!re.zaloId||re.phone&&10==re.phone.length||re.email&&-1!==re.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}}return ge.\u0275fac=function(re){return new(re||ge)(m.LFG(S.U),m.LFG(e.z))},ge.\u0275prov=m.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},18881:(vt,Te,v)=>{v.d(Te,{L:()=>ot});var m=v(47496),S=v(20553),e=v(65879),x=v(94960),ge=v(88489),_e=v(23433),re=v(2816),fe=v(21266),te=v(96814),O=v(92596),U=v(24097),z=v(82509),k=v(73882),P=v(48244),q=v(69198),j=v(40750);function F(ae,je){if(1&ae&&(e.TgZ(0,"div",8),e.GkF(1,9),e.TgZ(2,"div",10),e.GkF(3,9),e.TgZ(4,"div",11)(5,"div",12),e.GkF(6,9),e.qZA(),e.TgZ(7,"div",13),e.GkF(8,9),e.qZA()()()()),2&ae){e.oxw(2);const oe=e.MAs(8),Ue=e.MAs(6),Me=e.MAs(4),We=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",oe),e.xp6(2),e.Q6J("ngTemplateOutlet",Ue),e.xp6(3),e.Q6J("ngTemplateOutlet",Me),e.xp6(2),e.Q6J("ngTemplateOutlet",We)}}function pe(ae,je){if(1&ae&&(e.TgZ(0,"div",8)(1,"div",10)(2,"div",11)(3,"div",13),e.GkF(4,9),e.qZA()()()()),2&ae){e.oxw(2);const oe=e.MAs(2);e.xp6(4),e.Q6J("ngTemplateOutlet",oe)}}function Ye(ae,je){if(1&ae&&(e.TgZ(0,"div",5),e.YNc(1,F,9,4,"div",6),e.YNc(2,pe,5,1,"div",6),e.TgZ(3,"div",7),e._UZ(4,"header-setting-color"),e.qZA()()),2&ae){const oe=e.oxw();e.xp6(1),e.Q6J("ngIf",!oe.isMobileWebView),e.xp6(1),e.Q6J("ngIf",oe.isMobileWebView)}}function qe(ae,je){1&ae&&e.Hsn(0)}function ve(ae,je){if(1&ae){const oe=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(oe);const Me=e.oxw(2);return e.KtG(Me.goBack())}),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"polyline",22),e.qZA(),e.kcU(),e.TgZ(3,"span",23),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&ae&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_quay_lai")))}function Ie(ae,je){if(1&ae&&(e.TgZ(0,"div",14),e.YNc(1,ve,6,3,"button",15),e.qZA(),e.TgZ(2,"div",16),e._UZ(3,"azt-switch-language"),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"header-notice-box",17),e.qZA(),e.TgZ(6,"div",18),e._UZ(7,"header-account-menu",19),e.qZA()),2&ae){const oe=e.oxw();e.xp6(1),e.Q6J("ngIf",""!=oe.headerBackToLink),e.xp6(4),e.Q6J("role",1),e.xp6(2),e.Q6J("isTeacherDashboard",!1)}}const Oe=function(ae){return[ae]},Ke=function(){return["/student/dashboard/0","/de-thi","/test/","/auth/account-setting/","/notify","/student/add-teacher","/on-luyen"]},se=function(){return["/student/dashboard/1","/bai-tap"]};function N(ae,je){1&ae&&(e.TgZ(0,"nav",24)(1,"a",25),e.ALo(2,"navigationLocalize"),e._UZ(3,"img",26),e.ALo(4,"convertCdnLinkOfGitHub"),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"ul")(7,"li")(8,"a",28),e.ALo(9,"navigationLocalize"),e.TgZ(10,"div",29),e.ALo(11,"mytranslate"),e.O4$(),e.TgZ(12,"svg",30),e._UZ(13,"path",31)(14,"polyline",32)(15,"path",33),e.qZA()(),e.kcU(),e.TgZ(16,"div",34),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()(),e.TgZ(19,"li")(20,"a",35),e.ALo(21,"navigationLocalize"),e.TgZ(22,"div",29),e.ALo(23,"mytranslate"),e.O4$(),e.TgZ(24,"svg",30),e._UZ(25,"path",31)(26,"polyline",32)(27,"line",36)(28,"line",37)(29,"line",38),e.qZA()(),e.kcU(),e.TgZ(30,"div",34),e._uU(31),e.ALo(32,"mytranslate"),e.qZA()()()()()),2&ae&&(e.xp6(1),e.Q6J("routerLink",e.VKq(28,Oe,e.lcZ(2,12,"/student/dashboard/0"))),e.xp6(2),e.Q6J("src",e.lcZ(4,14,"images/logo-white.svg"),e.LSH),e.xp6(5),e.Q6J("routerLink",e.VKq(30,Oe,e.lcZ(9,16,"/student/dashboard/0")))("changeActiveRouter",e.DdM(32,Ke)),e.xp6(2),e.s9C("matTooltip",e.lcZ(11,18,"lang_auto_de_thi")),e.Q6J("matTooltipPosition","right"),e.xp6(7),e.hij(" ",e.lcZ(18,20,"lang_auto_de_thi")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(33,Oe,e.lcZ(21,22,"/student/dashboard/1")))("changeActiveRouter",e.DdM(35,se)),e.xp6(2),e.s9C("matTooltip",e.lcZ(23,24,"lang_auto_bai_tap")),e.Q6J("matTooltipPosition","right"),e.xp6(9),e.hij(" ",e.lcZ(32,26,"lang_auto_bai_tap")," "))}const ce=function(){return["/student/dashboard/0","/de-thi","/test/answer-test","/auth/account-setting/","/on-luyen/"]};function Ee(ae,je){if(1&ae){const oe=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"a",41),e.ALo(3,"navigationLocalize"),e._UZ(4,"img",26),e.ALo(5,"convertCdnLinkOfGitHub"),e.qZA(),e.TgZ(6,"a",42),e.NdJ("click",function(){e.CHM(oe);const Me=e.oxw();return e.KtG(Me.openMenuMobile())}),e.O4$(),e.TgZ(7,"svg",43),e._UZ(8,"line",44)(9,"line",45)(10,"line",46),e.qZA()()(),e.kcU(),e.TgZ(11,"div",47)(12,"a",48),e.NdJ("click",function(){e.CHM(oe);const Me=e.oxw();return e.KtG(Me.closeMenuMobile())}),e.O4$(),e.TgZ(13,"svg",43),e._UZ(14,"circle",49)(15,"line",50)(16,"line",51),e.qZA()(),e.kcU(),e.TgZ(17,"ul",52)(18,"li")(19,"a",53),e.NdJ("click",function(){e.CHM(oe);const Me=e.oxw();return e.KtG(Me.closeMenuMobile())}),e.ALo(20,"navigationLocalize"),e.TgZ(21,"div",54),e.O4$(),e.TgZ(22,"svg",30),e._UZ(23,"path",31)(24,"polyline",32)(25,"path",33),e.qZA()(),e.kcU(),e.TgZ(26,"div",55),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()(),e.TgZ(29,"li")(30,"a",56),e.NdJ("click",function(){e.CHM(oe);const Me=e.oxw();return e.KtG(Me.closeMenuMobile())}),e.ALo(31,"navigationLocalize"),e.TgZ(32,"div",54),e.O4$(),e.TgZ(33,"svg",30),e._UZ(34,"path",31)(35,"polyline",32)(36,"line",36)(37,"line",37)(38,"line",38),e.qZA()(),e.kcU(),e.TgZ(39,"div",55),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()()()()()()}2&ae&&(e.xp6(2),e.Q6J("routerLink",e.VKq(20,Oe,e.lcZ(3,8,"/student/dashboard/0"))),e.xp6(2),e.Q6J("src",e.lcZ(5,10,"images/logo-white.svg"),e.LSH),e.xp6(15),e.Q6J("routerLink",e.VKq(22,Oe,e.lcZ(20,12,"/student/dashboard/0")))("changeActiveRouter",e.DdM(24,ce)),e.xp6(8),e.hij(" ",e.lcZ(28,14,"lang_auto_de_thi")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(25,Oe,e.lcZ(31,16,"/student/dashboard/1")))("changeActiveRouter",e.DdM(27,se)),e.xp6(10),e.hij(" ",e.lcZ(41,18,"lang_auto_bai_tap")," "))}const ke=["*"];let ot=(()=>{class ae extends m.Q{toggleDrawer(){this.drawer.toggle(),this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.drawer.isOpened()}))}goBack(){this.commonService.myNavigationBySpecialQueryString(this.headerBackToLink)}openMenuMobile(){document.getElementById("toggle-menu")?.classList.add("mobile-menu--active")}closeMenuMobile(){document.getElementById("toggle-menu")?.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),window.scrollTo(0,0),this.isLogin=this.userService.isLogin()}constructor(oe,Ue,Me,We){super(),this.drawer=oe,this.browserStorageService=Ue,this.mobileWebviewService=Me,this.userService=We,this.headerBackToLink="",this.headerTitle="",this.isLogin=!1,this.willShowAIBox=!S.N.production||S.N.isProdAzotaVn,this.subscriptions.add(this.mobileWebviewService.getWebviewBackToListenerSubscriber().subscribe(()=>{this.headerBackToLink&&this.goBack()}))}}return ae.\u0275fac=function(oe){return new(oe||ae)(e.Y36(x.h),e.Y36(ge.n),e.Y36(_e.r),e.Y36(re.U))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["student-layout"]],inputs:{headerBackToLink:"headerBackToLink",headerTitle:"headerTitle"},features:[e.qOj],ngContentSelectors:ke,decls:9,vars:1,consts:[["id","azt-layout","class","azt-layout",4,"ngIf"],["BodyContentTpl",""],["TopbarTpl",""],["DesktopMenuTpl",""],["mobileMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden","md:block"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar"],[1,"azt-content"],[1,"mr-auto"],["azt-track-service","student-layout-62Iv9eNFqL","class","btn btn-transparent",3,"click",4,"ngIf"],[1,"dropdown","mr-2","sm:mr-4"],[3,"role"],[1,"dropdown","w-8","h-8"],[3,"isTeacherDashboard"],["azt-track-service","student-layout-62Iv9eNFqL",1,"btn","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"side-nav","side-nav--simple"],["azt-track-service","student-layout-un9eQGSmiX",1,"flex","items-center","pl-5","pt-4","relative",3,"routerLink"],["alt","Azota",1,"w-6",3,"src"],[1,"side-nav__devider","my-6"],["azt-track-service","student-layout-B8HCRZRRkc",1,"side-menu",3,"routerLink","changeActiveRouter"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","m9 15 2 2 4-4"],[1,"side-menu__title"],["azt-track-service","student-layout-IlivR6FSj2",1,"side-menu",3,"routerLink","changeActiveRouter"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],["azt-track-service","student-layout-mV8VG2juD5",1,"flex","mr-auto",3,"routerLink"],["azt-track-service","student-layout-vJI1vNSRRy",1,"mobile-menu-toggler",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","text-white","transform","-rotate-90"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"scrollable"],["azt-track-service","student-layout-_36C4dUavQE",1,"mobile-menu-toggler",3,"click"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"scrollable__content","py-2"],["azt-track-service","student-layout-ULLWHHZRD7-",1,"menu",3,"routerLink","changeActiveRouter","click"],[1,"menu__icon"],[1,"menu__title"],["azt-track-service","student-layout-39njUH9XdjK",1,"menu",3,"routerLink","changeActiveRouter","click"]],template:function(oe,Ue){1&oe&&(e.F$t(),e.YNc(0,Ye,5,2,"div",0),e.YNc(1,qe,1,0,"ng-template",null,1,e.W1O),e.YNc(3,Ie,8,3,"ng-template",null,2,e.W1O),e.YNc(5,N,33,36,"ng-template",null,3,e.W1O),e.YNc(7,Ee,42,28,"ng-template",null,4,e.W1O)),2&oe&&e.Q6J("ngIf",Ue.isLogin)},dependencies:[fe.rH,te.O5,te.tP,O.gM,U.e,z.f,k.H,P.y,q.q,j.Jy,j.JV,j.Bo],encapsulation:2}),ae})()},96368:(vt,Te,v)=>{v.d(Te,{C:()=>_e});var m=v(19347),S=v(72164),e=v(65879),x=v(78497),ge=v(40750);let _e=(()=>{class re extends S.e{btnCloseDialog(){this.dialogRef.close()}constructor(te,O){super(O,te),this.dialogRef=te,this.data=O}}return re.\u0275fac=function(te){return new(te||re)(e.Y36(m.so,8),e.Y36(m.WI,8))},re.\u0275cmp=e.Xpm({type:re,selectors:[["azt-dialog-warning"]],features:[e.qOj],decls:17,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","p-3","pb-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"]],template:function(te,O){1&te&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(10,"div",8)(11,"azt-mat-dialog-content",9),e._UZ(12,"div",10),e.qZA()()()(),e.TgZ(13,"div",11)(14,"button",12),e.NdJ("click",function(){return O.btnCloseDialog()}),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()),2&te&&(e.xp6(8),e.hij(" ",e.lcZ(9,4,"lang_auto_canh_bao")," "),e.xp6(3),e.Q6J("defaultHeight",60),e.xp6(1),e.Q6J("innerHtml",O.data.content,e.oJD),e.xp6(3),e.hij(" ",e.lcZ(16,6,"lang_auto_dong")," "))},dependencies:[x.R,ge.JV],encapsulation:2}),re})()},89310:(vt,Te,v)=>{v.d(Te,{P:()=>z});var m=v(37398),S=v(47496),e=v(65879),x=v(97151),ge=v(46558),_e=v(69862),re=v(96814),fe=v(40750);function te(k,P){if(1&k){const q=e.EpF();e.ynx(0),e.TgZ(1,"a",2),e.NdJ("click",function(){e.CHM(q);const F=e.oxw();return e.KtG(F.shareFileToFlutter())}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.Hsn(5),e.qZA(),e.BQk()}if(2&k){const q=e.oxw();e.xp6(1),e.Akn(q.style),e.Tol(q.classStyle),e.s9C("target",q.target),e.xp6(2),e.Oqu(e.lcZ(4,7,q.fileDescription))}}function O(k,P){if(1&k&&(e.TgZ(0,"a",3)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.Hsn(4,1),e.qZA()),2&k){const q=e.oxw();e.Akn(q.style),e.Tol(q.classStyle),e.s9C("href",q.dataUrl,e.LSH),e.s9C("target",q.target),e.s9C("download",q.fileName),e.xp6(2),e.Oqu(e.lcZ(3,9,q.fileDescription))}}const U=["*","*"];let z=(()=>{class k extends S.Q{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,m.U)(q=>q))}shareFileToFlutter(){this.downloadFile().subscribe(q=>{this.shareFileFlutterService.shareFileWithBlob(q,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(q,j,F){super(),this.shareFileFlutterService=q,this.commonService=j,this.http=F,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return k.\u0275fac=function(q){return new(q||k)(e.Y36(x.g),e.Y36(ge.z),e.Y36(_e.eN))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[e.qOj],ngContentSelectors:U,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(q,j){if(1&q&&(e.F$t(U),e.YNc(0,te,6,9,"ng-container",0),e.YNc(1,O,5,11,"ng-template",null,1,e.W1O)),2&q){const F=e.MAs(2);e.Q6J("ngIf",j.isMobileWebView)("ngIfElse",F)}},dependencies:[re.O5,fe.JV],encapsulation:2}),k})()},83399:(vt,Te,v)=>{v.d(Te,{Z:()=>q});var m=v(30229),S=v(36820),e=v(79823),x=v(87879);class ge{constructor(F,pe){this._delegate=F,this.firebase=pe,(0,e._addComponent)(F,new S.wA("app-compat",()=>this,"PUBLIC")),this.container=F.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this._delegate.automaticDataCollectionEnabled=F}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(F=>{this._delegate.checkDestroyed(),F()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,e.deleteApp)(this._delegate)))}_getService(F,pe=e._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(F);return!qe.isInitialized()&&"EXPLICIT"===(null===(Ye=qe.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:pe})}_removeServiceInstance(F,pe=e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(F).clearInstance(pe)}_addComponent(F){(0,e._addComponent)(this._delegate,F)}_addOrOverwriteComponent(F){(0,e._addOrOverwriteComponent)(this._delegate,F)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function te(){const j=function fe(j){const F={},pe={__esModule:!0,initializeApp:function ve(se,N={}){const ce=e.initializeApp(se,N);if((0,m.r3)(F,ce.name))return F[ce.name];const Ee=new j(ce,pe);return F[ce.name]=Ee,Ee},app:qe,registerVersion:e.registerVersion,setLogLevel:e.setLogLevel,onLog:e.onLog,apps:null,SDK_VERSION:e.SDK_VERSION,INTERNAL:{registerComponent:function Oe(se){const N=se.name,ce=N.replace("-compat","");if(e._registerComponent(se)&&"PUBLIC"===se.type){const Ee=(ke=qe())=>{if("function"!=typeof ke[ce])throw re.create("invalid-app-argument",{appName:N});return ke[ce]()};void 0!==se.serviceProps&&(0,m.ZB)(Ee,se.serviceProps),pe[ce]=Ee,j.prototype[ce]=function(...ke){return this._getService.bind(this,N).apply(this,se.multipleInstances?ke:[])}}return"PUBLIC"===se.type?pe[ce]:null},removeApp:function Ye(se){delete F[se]},useAsService:function Ke(se,N){return"serverAuth"===N?null:N},modularAPIs:e}};function qe(se){if(!(0,m.r3)(F,se=se||e._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:se});return F[se]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Ie(){return Object.keys(F).map(se=>F[se])}}),qe.App=j,pe}(ge);return j.INTERNAL=Object.assign(Object.assign({},j.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function F(pe){(0,m.ZB)(j,pe)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),j}(),U=new x.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const j=self.firebase.SDK_VERSION;j&&j.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const q=O;!function P(j){(0,e.registerVersion)("@firebase/app-compat","0.2.22",j)}()},79823:(vt,Te,v)=>{v.r(Te),v.d(Te,{FirebaseError:()=>x.ZR,SDK_VERSION:()=>nt,_DEFAULT_ENTRY_NAME:()=>tt,_addComponent:()=>bt,_addOrOverwriteComponent:()=>Ht,_apps:()=>rt,_clearComponents:()=>xt,_components:()=>gt,_getProvider:()=>lt,_registerComponent:()=>He,_removeServiceInstance:()=>zt,deleteApp:()=>it,getApp:()=>de,getApps:()=>Se,initializeApp:()=>kt,onLog:()=>rn,registerVersion:()=>ze,setLogLevel:()=>Bt});var m=v(49671),S=v(36820),e=v(87879),x=v(30229);const ge=(Z,T)=>T.some(M=>Z instanceof M);let _e,re;const O=new WeakMap,U=new WeakMap,z=new WeakMap,k=new WeakMap,P=new WeakMap;let F={get(Z,T,M){if(Z instanceof IDBTransaction){if("done"===T)return U.get(Z);if("objectStoreNames"===T)return Z.objectStoreNames||z.get(Z);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return ve(Z[T])},set:(Z,T,M)=>(Z[T]=M,!0),has:(Z,T)=>Z instanceof IDBTransaction&&("done"===T||"store"===T)||T in Z};function qe(Z){return"function"==typeof Z?function Ye(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...T){return Z.apply(Ie(this),T),ve(O.get(this))}:function(...T){return ve(Z.apply(Ie(this),T))}:function(T,...M){const K=Z.call(Ie(this),T,...M);return z.set(K,T.sort?T.sort():[T]),ve(K)}}(Z):(Z instanceof IDBTransaction&&function j(Z){if(U.has(Z))return;const T=new Promise((M,K)=>{const ie=()=>{Z.removeEventListener("complete",he),Z.removeEventListener("error",Ze),Z.removeEventListener("abort",Ze)},he=()=>{M(),ie()},Ze=()=>{K(Z.error||new DOMException("AbortError","AbortError")),ie()};Z.addEventListener("complete",he),Z.addEventListener("error",Ze),Z.addEventListener("abort",Ze)});U.set(Z,T)}(Z),ge(Z,function fe(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,F):Z)}function ve(Z){if(Z instanceof IDBRequest)return function q(Z){const T=new Promise((M,K)=>{const ie=()=>{Z.removeEventListener("success",he),Z.removeEventListener("error",Ze)},he=()=>{M(ve(Z.result)),ie()},Ze=()=>{K(Z.error),ie()};Z.addEventListener("success",he),Z.addEventListener("error",Ze)});return T.then(M=>{M instanceof IDBCursor&&O.set(M,Z)}).catch(()=>{}),P.set(T,Z),T}(Z);if(k.has(Z))return k.get(Z);const T=qe(Z);return T!==Z&&(k.set(Z,T),P.set(T,Z)),T}const Ie=Z=>P.get(Z),se=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],ce=new Map;function Ee(Z,T){if(!(Z instanceof IDBDatabase)||T in Z||"string"!=typeof T)return;if(ce.get(T))return ce.get(T);const M=T.replace(/FromIndex$/,""),K=T!==M,ie=N.includes(M);if(!(M in(K?IDBIndex:IDBObjectStore).prototype)||!ie&&!se.includes(M))return;const he=function(){var Ze=(0,m.Z)(function*(Xe,...Ge){const Jt=this.transaction(Xe,ie?"readwrite":"readonly");let St=Jt.store;return K&&(St=St.index(Ge.shift())),(yield Promise.all([St[M](...Ge),ie&&Jt.done]))[0]});return function(Ge){return Ze.apply(this,arguments)}}();return ce.set(T,he),he}!function pe(Z){F=Z(F)}(Z=>({...Z,get:(T,M,K)=>Ee(T,M)||Z.get(T,M,K),has:(T,M)=>!!Ee(T,M)||Z.has(T,M)}));class ke{constructor(T){this.container=T}getPlatformInfoString(){return this.container.getProviders().map(M=>{if(function ot(Z){const T=Z.getComponent();return"VERSION"===T?.type}(M)){const K=M.getImmediate();return`${K.library}/${K.version}`}return null}).filter(M=>M).join(" ")}}const ae="@firebase/app",oe=new e.Yd("@firebase/app"),tt="[DEFAULT]",mt={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,gt=new Map;function bt(Z,T){try{Z.container.addComponent(T)}catch(M){oe.debug(`Component ${T.name} failed to register with FirebaseApp ${Z.name}`,M)}}function Ht(Z,T){Z.container.addOrOverwriteComponent(T)}function He(Z){const T=Z.name;if(gt.has(T))return oe.debug(`There were multiple attempts to register component ${T}.`),!1;gt.set(T,Z);for(const M of rt.values())bt(M,Z);return!0}function lt(Z,T){const M=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return M&&M.triggerHeartbeat(),Z.container.getProvider(T)}function zt(Z,T,M=tt){lt(Z,T).clearInstance(M)}function xt(){gt.clear()}const De=new x.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pe{constructor(T,M,K){this._isDeleted=!1,this._options=Object.assign({},T),this._config=Object.assign({},M),this._name=M.name,this._automaticDataCollectionEnabled=M.automaticDataCollectionEnabled,this._container=K,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(T){this.checkDestroyed(),this._automaticDataCollectionEnabled=T}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(T){this._isDeleted=T}checkDestroyed(){if(this.isDeleted)throw De.create("app-deleted",{appName:this._name})}}const nt="10.5.2";function kt(Z,T={}){let M=Z;"object"!=typeof T&&(T={name:T});const K=Object.assign({name:tt,automaticDataCollectionEnabled:!1},T),ie=K.name;if("string"!=typeof ie||!ie)throw De.create("bad-app-name",{appName:String(ie)});if(M||(M=(0,x.aH)()),!M)throw De.create("no-options");const he=rt.get(ie);if(he){if((0,x.vZ)(M,he.options)&&(0,x.vZ)(K,he.config))return he;throw De.create("duplicate-app",{appName:ie})}const Ze=new S.H0(ie);for(const Ge of gt.values())Ze.addComponent(Ge);const Xe=new Pe(M,K,Ze);return rt.set(ie,Xe),Xe}function de(Z=tt){const T=rt.get(Z);if(!T&&Z===tt&&(0,x.aH)())return kt();if(!T)throw De.create("no-app",{appName:Z});return T}function Se(){return Array.from(rt.values())}function it(Z){return wt.apply(this,arguments)}function wt(){return(wt=(0,m.Z)(function*(Z){const T=Z.name;rt.has(T)&&(rt.delete(T),yield Promise.all(Z.container.getProviders().map(M=>M.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function ze(Z,T,M){var K;let ie=null!==(K=mt[Z])&&void 0!==K?K:Z;M&&(ie+=`-${M}`);const he=ie.match(/\s|\//),Ze=T.match(/\s|\//);if(he||Ze){const Xe=[`Unable to register library "${ie}" with version "${T}":`];return he&&Xe.push(`library name "${ie}" contains illegal characters (whitespace or "/")`),he&&Ze&&Xe.push("and"),Ze&&Xe.push(`version name "${T}" contains illegal characters (whitespace or "/")`),void oe.warn(Xe.join(" "))}He(new S.wA(`${ie}-version`,()=>({library:ie,version:T}),"VERSION"))}function rn(Z,T){if(null!==Z&&"function"!=typeof Z)throw De.create("invalid-log-argument");(0,e.Am)(Z,T)}function Bt(Z){(0,e.Ub)(Z)}const At="firebase-heartbeat-database",Ut=1,b="firebase-heartbeat-store";let f=null;function p(){return f||(f=function Oe(Z,T,{blocked:M,upgrade:K,blocking:ie,terminated:he}={}){const Ze=indexedDB.open(Z,T),Xe=ve(Ze);return K&&Ze.addEventListener("upgradeneeded",Ge=>{K(ve(Ze.result),Ge.oldVersion,Ge.newVersion,ve(Ze.transaction),Ge)}),M&&Ze.addEventListener("blocked",Ge=>M(Ge.oldVersion,Ge.newVersion,Ge)),Xe.then(Ge=>{he&&Ge.addEventListener("close",()=>he()),ie&&Ge.addEventListener("versionchange",Jt=>ie(Jt.oldVersion,Jt.newVersion,Jt))}).catch(()=>{}),Xe}(At,Ut,{upgrade:(Z,T)=>{0===T&&Z.createObjectStore(b)}}).catch(Z=>{throw De.create("idb-open",{originalErrorMessage:Z.message})})),f}function d(){return(d=(0,m.Z)(function*(Z){try{return yield(yield p()).transaction(b).objectStore(b).get(Q(Z))}catch(T){if(T instanceof x.ZR)oe.warn(T.message);else{const M=De.create("idb-get",{originalErrorMessage:T?.message});oe.warn(M.message)}}})).apply(this,arguments)}function C(Z,T){return L.apply(this,arguments)}function L(){return(L=(0,m.Z)(function*(Z,T){try{const K=(yield p()).transaction(b,"readwrite");yield K.objectStore(b).put(T,Q(Z)),yield K.done}catch(M){if(M instanceof x.ZR)oe.warn(M.message);else{const K=De.create("idb-set",{originalErrorMessage:M?.message});oe.warn(K.message)}}})).apply(this,arguments)}function Q(Z){return`${Z.name}!${Z.options.appId}`}class Ce{constructor(T){this.container=T,this._heartbeatsCache=null;const M=this.container.getProvider("app").getImmediate();this._storage=new le(M),this._heartbeatsCachePromise=this._storage.read().then(K=>(this._heartbeatsCache=K,K))}triggerHeartbeat(){var T=this;return(0,m.Z)(function*(){const K=T.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ie=ee();if(null===T._heartbeatsCache&&(T._heartbeatsCache=yield T._heartbeatsCachePromise),T._heartbeatsCache.lastSentHeartbeatDate!==ie&&!T._heartbeatsCache.heartbeats.some(he=>he.date===ie))return T._heartbeatsCache.heartbeats.push({date:ie,agent:K}),T._heartbeatsCache.heartbeats=T._heartbeatsCache.heartbeats.filter(he=>{const Ze=new Date(he.date).valueOf();return Date.now()-Ze<=2592e6}),T._storage.overwrite(T._heartbeatsCache)})()}getHeartbeatsHeader(){var T=this;return(0,m.Z)(function*(){if(null===T._heartbeatsCache&&(yield T._heartbeatsCachePromise),null===T._heartbeatsCache||0===T._heartbeatsCache.heartbeats.length)return"";const M=ee(),{heartbeatsToSend:K,unsentEntries:ie}=function Y(Z,T=1024){const M=[];let K=Z.slice();for(const ie of Z){const he=M.find(Ze=>Ze.agent===ie.agent);if(he){if(he.dates.push(ie.date),$e(M)>T){he.dates.pop();break}}else if(M.push({agent:ie.agent,dates:[ie.date]}),$e(M)>T){M.pop();break}K=K.slice(1)}return{heartbeatsToSend:M,unsentEntries:K}}(T._heartbeatsCache.heartbeats),he=(0,x.L)(JSON.stringify({version:2,heartbeats:K}));return T._heartbeatsCache.lastSentHeartbeatDate=M,ie.length>0?(T._heartbeatsCache.heartbeats=ie,yield T._storage.overwrite(T._heartbeatsCache)):(T._heartbeatsCache.heartbeats=[],T._storage.overwrite(T._heartbeatsCache)),he})()}}function ee(){return(new Date).toISOString().substring(0,10)}class le{constructor(T){this.app=T,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,x.hl)()&&(0,x.eu)().then(()=>!0).catch(()=>!1)})()}read(){var T=this;return(0,m.Z)(function*(){return(yield T._canUseIndexedDBPromise)&&(yield function g(Z){return d.apply(this,arguments)}(T.app))||{heartbeats:[]}})()}overwrite(T){var M=this;return(0,m.Z)(function*(){var K;if(yield M._canUseIndexedDBPromise){const he=yield M.read();return C(M.app,{lastSentHeartbeatDate:null!==(K=T.lastSentHeartbeatDate)&&void 0!==K?K:he.lastSentHeartbeatDate,heartbeats:T.heartbeats})}})()}add(T){var M=this;return(0,m.Z)(function*(){var K;if(yield M._canUseIndexedDBPromise){const he=yield M.read();return C(M.app,{lastSentHeartbeatDate:null!==(K=T.lastSentHeartbeatDate)&&void 0!==K?K:he.lastSentHeartbeatDate,heartbeats:[...he.heartbeats,...T.heartbeats]})}})()}}function $e(Z){return(0,x.L)(JSON.stringify({version:2,heartbeats:Z})).length}!function Kt(Z){He(new S.wA("platform-logger",T=>new ke(T),"PRIVATE")),He(new S.wA("heartbeat",T=>new Ce(T),"PRIVATE")),ze(ae,"0.9.22",Z),ze(ae,"0.9.22","esm2017"),ze("fire-js","")}("")},36820:(vt,Te,v)=>{v.d(Te,{H0:()=>fe,wA:()=>e});var m=v(49671),S=v(30229);class e{constructor(O,U,z){this.name=O,this.instanceFactory=U,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const x="[DEFAULT]";class ge{constructor(O,U){this.name=O,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const U=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(U)){const z=new S.BH;if(this.instancesDeferred.set(U,z),this.isInitialized(U)||this.shouldAutoInitialize())try{const k=this.getOrInitializeService({instanceIdentifier:U});k&&z.resolve(k)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(O){var U;const z=this.normalizeInstanceIdentifier(O?.identifier),k=null!==(U=O?.optional)&&void 0!==U&&U;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(k)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(P){if(k)return null;throw P}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function re(te){return"EAGER"===te.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:x})}catch{}for(const[U,z]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(U);try{const P=this.getOrInitializeService({instanceIdentifier:k});z.resolve(P)}catch{}}}}clearInstance(O=x){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,m.Z)(function*(){const U=Array.from(O.instances.values());yield Promise.all([...U.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...U.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=x){return this.instances.has(O)}getOptions(O=x){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:U={}}=O,z=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const k=this.getOrInitializeService({instanceIdentifier:z,options:U});for(const[P,q]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(P)&&q.resolve(k);return k}onInit(O,U){var z;const k=this.normalizeInstanceIdentifier(U),P=null!==(z=this.onInitCallbacks.get(k))&&void 0!==z?z:new Set;P.add(O),this.onInitCallbacks.set(k,P);const q=this.instances.get(k);return q&&O(q,k),()=>{P.delete(O)}}invokeOnInitCallbacks(O,U){const z=this.onInitCallbacks.get(U);if(z)for(const k of z)try{k(O,U)}catch{}}getOrInitializeService({instanceIdentifier:O,options:U={}}){let z=this.instances.get(O);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(te=O,te===x?void 0:te),options:U}),this.instances.set(O,z),this.instancesOptions.set(O,U),this.invokeOnInitCallbacks(z,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,z)}catch{}var te;return z||null}normalizeInstanceIdentifier(O=x){return this.component?this.component.multipleInstances?O:x:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const U=this.getProvider(O.name);if(U.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);U.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const U=new ge(O,this);return this.providers.set(O,U),U}getProviders(){return Array.from(this.providers.values())}}},8661:(vt,Te,v)=>{v.r(Te);var m=v(49671),S=v(83399),e=v(76202),x=v(30229),re=(v(79823),v(87879),v(36820));function fe(){return window}function U(){return U=(0,m.Z)(function*(p,g,d){var C;const{BuildInfo:L}=fe();(0,e.at)(g.sessionId,"AuthEvent did not contain a session ID");const Q=yield function pe(p){return Ye.apply(this,arguments)}(g.sessionId),X={};return(0,e.au)()?X.ibi=L.packageName:(0,e.av)()?X.apn=L.packageName:(0,e.aw)(p,"operation-not-supported-in-this-environment"),L.displayName&&(X.appDisplayName=L.displayName),X.sessionId=Q,(0,e.ax)(p,d,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,X)}),U.apply(this,arguments)}function k(){return(k=(0,m.Z)(function*(p){const{BuildInfo:g}=fe(),d={};(0,e.au)()?d.iosBundleId=g.packageName:(0,e.av)()?d.androidPackageName=g.packageName:(0,e.aw)(p,"operation-not-supported-in-this-environment"),yield(0,e.ay)(p,d)})).apply(this,arguments)}function j(){return(j=(0,m.Z)(function*(p,g,d){const{cordova:C}=fe();let L=()=>{};try{yield new Promise((Q,X)=>{let W=null;function Ce(){var le;Q();const $e=null===(le=C.plugins.browsertab)||void 0===le?void 0:le.close;"function"==typeof $e&&$e(),"function"==typeof d?.close&&d.close()}function ee(){W||(W=window.setTimeout(()=>{X((0,e.aA)(p,"redirect-cancelled-by-user"))},2e3))}function Y(){"visible"===document?.visibilityState&&ee()}g.addPassiveListener(Ce),document.addEventListener("resume",ee,!1),(0,e.av)()&&document.addEventListener("visibilitychange",Y,!1),L=()=>{g.removePassiveListener(Ce),document.removeEventListener("resume",ee,!1),document.removeEventListener("visibilitychange",Y,!1),W&&window.clearTimeout(W)}})}finally{L()}})).apply(this,arguments)}function Ye(){return(Ye=(0,m.Z)(function*(p){const g=function qe(p){if((0,e.at)(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const g=new ArrayBuffer(p.length),d=new Uint8Array(g);for(let C=0;C<p.length;C++)d[C]=p.charCodeAt(C);return d}(p),d=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(d)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ie extends e.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(g)),super.onEvent(g)}initialized(){var g=this;return(0,m.Z)(function*(){yield g.initPromise})()}}function se(p){return N.apply(this,arguments)}function N(){return(N=(0,m.Z)(function*(p){const g=yield ke()._get(ot(p));return g&&(yield ke()._remove(ot(p))),g})).apply(this,arguments)}function Ee(){const p=[];for(let d=0;d<20;d++){const C=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return p.join("")}function ke(){return(0,e.aD)(e.b)}function ot(p){return(0,e.aE)("authEvent",p.config.apiKey,p.name)}function oe(p){if(!p?.includes("?"))return{};const[g,...d]=p.split("?");return(0,x.zd)(d.join("?"))}const We=class Me{constructor(){this._redirectPersistence=e.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=e.aF,this._overrideRedirectResult=e.aG}_initialize(g){var d=this;return(0,m.Z)(function*(){const C=g._key();let L=d.eventManagers.get(C);return L||(L=new Ie(g),d.eventManagers.set(C,L),d.attachCallbackListeners(g,L)),L})()}_openPopup(g){(0,e.aw)(g,"operation-not-supported-in-this-environment")}_openRedirect(g,d,C,L){var Q=this;return(0,m.Z)(function*(){!function F(p){var g,d,C,L,Q,X,W,Ce,ee,Y;const le=fe();(0,e.aB)("function"==typeof(null===(g=le?.universalLinks)||void 0===g?void 0:g.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,e.aB)(typeof(null===(d=le?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,e.aB)("function"==typeof(null===(Q=null===(L=null===(C=le?.cordova)||void 0===C?void 0:C.plugins)||void 0===L?void 0:L.browsertab)||void 0===Q?void 0:Q.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,e.aB)("function"==typeof(null===(Ce=null===(W=null===(X=le?.cordova)||void 0===X?void 0:X.plugins)||void 0===W?void 0:W.browsertab)||void 0===Ce?void 0:Ce.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,e.aB)("function"==typeof(null===(Y=null===(ee=le?.cordova)||void 0===ee?void 0:ee.InAppBrowser)||void 0===Y?void 0:Y.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const X=yield Q._initialize(g);yield X.initialized(),X.resetRedirect(),(0,e.aH)(),yield Q._originValidation(g);const W=function Oe(p,g,d=null){return{type:g,eventId:d,urlResponse:null,sessionId:Ee(),postBody:null,tenantId:p.tenantId,error:(0,e.aA)(p,"no-auth-event")}}(g,C,L);yield function Ke(p,g){return ke()._set(ot(p),g)}(g,W);const Ce=yield function O(p,g,d){return U.apply(this,arguments)}(g,W,d),ee=yield function P(p){const{cordova:g}=fe();return new Promise(d=>{g.plugins.browsertab.isAvailable(C=>{let L=null;C?g.plugins.browsertab.openUrl(p):L=g.InAppBrowser.open(p,(0,e.az)()?"_blank":"_system","location=yes"),d(L)})})}(Ce);return function q(p,g,d){return j.apply(this,arguments)}(g,X,ee)})()}_isIframeWebStorageSupported(g,d){throw new Error("Method not implemented.")}_originValidation(g){const d=g._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function z(p){return k.apply(this,arguments)}(g)),this.originValidationPromises[d]}attachCallbackListeners(g,d){const{universalLinks:C,handleOpenURL:L,BuildInfo:Q}=fe(),X=setTimeout((0,m.Z)(function*(){yield se(g),d.onEvent(Zt())}),500),W=function(){var Y=(0,m.Z)(function*(le){clearTimeout(X);const $e=yield se(g);let Kt=null;$e&&le?.url&&(Kt=function ce(p,g){var d,C;const L=function je(p){const g=oe(p),d=g.link?decodeURIComponent(g.link):void 0,C=oe(d).link,L=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return oe(L).link||L||C||d||p}(g);if(L.includes("/__/auth/callback")){const Q=oe(L),X=Q.firebaseError?function ae(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(Q.firebaseError)):null,W=null===(C=null===(d=X?.code)||void 0===d?void 0:d.split("auth/"))||void 0===C?void 0:C[1],Ce=W?(0,e.aA)(W):null;return Ce?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:L,postBody:null}}return null}($e,le.url)),d.onEvent(Kt||Zt())});return function($e){return Y.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,W);const Ce=L,ee=`${Q.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var Y=(0,m.Z)(function*(le){if(le.toLowerCase().startsWith(ee)&&W({url:le}),"function"==typeof Ce)try{Ce(le)}catch($e){console.error($e)}});return function(le){return Y.apply(this,arguments)}}()}};function Zt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,e.aA)("no-auth-event")}}function V(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function B(p=(0,x.z$)()){return!("file:"!==V()&&"ionic:"!==V()&&"capacitor:"!==V()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function ct(){try{const p=self.localStorage,g=e.aM();if(p)return p.setItem(g,"1"),p.removeItem(g),!function Fe(p=(0,x.z$)()){return function ne(){return(0,x.w1)()&&11===document?.documentMode}()||function Ne(p=(0,x.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,x.hl)()}catch{return Ot()&&(0,x.hl)()}return!1}function Ot(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ht(){return(function be(){return"http:"===V()||"https:"===V()}()||(0,x.ru)()||B())&&!function J(){return(0,x.b$)()||(0,x.UG)()}()&&ct()&&!Ot()}function pt(){return B()&&typeof document<"u"}function we(){return(we=(0,m.Z)(function*(){return!!pt()&&new Promise(p=>{const g=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),p(!0)})})})).apply(this,arguments)}const Le={LOCAL:"local",NONE:"none",SESSION:"session"},Et=e.aB,Lt="persistence";function mt(p){return rt.apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(p){yield p._initializationPromise;const g=bt(),d=e.aE(Lt,p.config.apiKey,p.name);g&&g.setItem(d,p._getPersistence())})).apply(this,arguments)}function bt(){var p;try{return(null===(p=function Rt(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const Ht=e.aB;class He{constructor(){this.browserResolver=e.aD(e.k),this.cordovaResolver=e.aD(We),this.underlyingResolver=null,this._redirectPersistence=e.a,this._completeRedirectFn=e.aF,this._overrideRedirectResult=e.aG}_initialize(g){var d=this;return(0,m.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,d,C,L){var Q=this;return(0,m.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openPopup(g,d,C,L)})()}_openRedirect(g,d,C,L){var Q=this;return(0,m.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openRedirect(g,d,C,L)})()}_isIframeWebStorageSupported(g,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,d)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return pt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,m.Z)(function*(){if(g.underlyingResolver)return;const d=yield function y(){return we.apply(this,arguments)}();g.underlyingResolver=d?g.cordovaResolver:g.browserResolver})()}}function lt(p){return p.unwrap()}function xt(p){return De(p)}function De(p){const{_tokenResponse:g}=p instanceof x.ZR?p.customData:p;if(!g)return null;if(!(p instanceof x.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return e.P.credentialFromResult(p);const d=g.providerId;if(!d||d===e.p.PASSWORD)return null;let C;switch(d){case e.p.GOOGLE:C=e.W;break;case e.p.FACEBOOK:C=e.V;break;case e.p.GITHUB:C=e.X;break;case e.p.TWITTER:C=e._;break;default:const{oauthIdToken:L,oauthAccessToken:Q,oauthTokenSecret:X,pendingToken:W,nonce:Ce}=g;return Q||X||L||W?W?d.startsWith("saml.")?e.aP._create(d,W):e.M._fromParams({providerId:d,signInMethod:d,pendingToken:W,idToken:L,accessToken:Q}):new e.Y(d).credential({idToken:L,accessToken:Q,rawNonce:Ce}):null}return p instanceof x.ZR?C.credentialFromError(p):C.credentialFromResult(p)}function Pe(p,g){return g.catch(d=>{throw d instanceof x.ZR&&function on(p,g){var d;const C=null===(d=g.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new de(p,e.ar(p,g));else if(C){const L=De(g),Q=g;L&&(Q.credential=L,Q.tenantId=C.tenantId||void 0,Q.email=C.email||void 0,Q.phoneNumber=C.phoneNumber||void 0)}}(p,d),d}).then(d=>{const L=d.user;return{operationType:d.operationType,credential:xt(d),additionalUserInfo:e.ap(d),user:Se.getOrCreate(L)}})}function nt(p,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(p,g){const d=yield g;return{verificationId:d.verificationId,confirm:C=>Pe(p,d.confirm(C))}})).apply(this,arguments)}class de{constructor(g,d){this.resolver=d,this.auth=function zt(p){return p.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Pe(lt(this.auth),this.resolver.resolveSignIn(g))}}class Se{constructor(g){this._delegate=g,this.multiFactor=e.as(g)}static getOrCreate(g){return Se.USER_MAP.has(g)||Se.USER_MAP.set(g,new Se(g)),Se.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var d=this;return(0,m.Z)(function*(){return Pe(d.auth,e.a1(d._delegate,g))})()}linkWithPhoneNumber(g,d){var C=this;return(0,m.Z)(function*(){return nt(C.auth,e.l(C._delegate,g,d))})()}linkWithPopup(g){var d=this;return(0,m.Z)(function*(){return Pe(d.auth,e.d(d._delegate,g,He))})()}linkWithRedirect(g){var d=this;return(0,m.Z)(function*(){return yield mt(e.aI(d.auth)),e.g(d._delegate,g,He)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var d=this;return(0,m.Z)(function*(){return Pe(d.auth,e.a2(d._delegate,g))})()}reauthenticateWithPhoneNumber(g,d){return nt(this.auth,e.r(this._delegate,g,d))}reauthenticateWithPopup(g){return Pe(this.auth,e.e(this._delegate,g,He))}reauthenticateWithRedirect(g){var d=this;return(0,m.Z)(function*(){return yield mt(e.aI(d.auth)),e.h(d._delegate,g,He)})()}sendEmailVerification(g){return e.af(this._delegate,g)}unlink(g){var d=this;return(0,m.Z)(function*(){return yield e.ao(d._delegate,g),d})()}updateEmail(g){return e.ak(this._delegate,g)}updatePassword(g){return e.al(this._delegate,g)}updatePhoneNumber(g){return e.u(this._delegate,g)}updateProfile(g){return e.aj(this._delegate,g)}verifyBeforeUpdateEmail(g,d){return e.ag(this._delegate,g,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Se.USER_MAP=new WeakMap;const it=e.aB;let wt=(()=>{class p{constructor(d,C){if(this.app=d,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=d.options;it(L,"invalid-api-key",{appName:d.name}),it(L,"invalid-api-key",{appName:d.name});const Q=typeof window<"u"?He:void 0;this._delegate=C.initialize({options:{persistence:rn(L,d.name),popupRedirectResolver:Q}}),this._delegate._updateErrorMap(e.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Se.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,C){e.J(this._delegate,d,C)}applyActionCode(d){return e.a6(this._delegate,d)}checkActionCode(d){return e.a7(this._delegate,d)}confirmPasswordReset(d,C){return e.a5(this._delegate,d,C)}createUserWithEmailAndPassword(d,C){var L=this;return(0,m.Z)(function*(){return Pe(L._delegate,e.a9(L._delegate,d,C))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return e.ae(this._delegate,d)}isSignInWithEmailLink(d){return e.ac(this._delegate,d)}getRedirectResult(){var d=this;return(0,m.Z)(function*(){it(ht(),d._delegate,"operation-not-supported-in-this-environment");const C=yield e.j(d._delegate,He);return C?Pe(d._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Qt(p,g){(0,e.aI)(p)._logFramework(g)}(this._delegate,d)}onAuthStateChanged(d,C,L){const{next:Q,error:X,complete:W}=ze(d,C,L);return this._delegate.onAuthStateChanged(Q,X,W)}onIdTokenChanged(d,C,L){const{next:Q,error:X,complete:W}=ze(d,C,L);return this._delegate.onIdTokenChanged(Q,X,W)}sendSignInLinkToEmail(d,C){return e.ab(this._delegate,d,C)}sendPasswordResetEmail(d,C){return e.a4(this._delegate,d,C||void 0)}setPersistence(d){var C=this;return(0,m.Z)(function*(){let L;switch(function tt(p,g){Et(Object.values(Le).includes(g),p,"invalid-persistence-type"),(0,x.b$)()?Et(g!==Le.SESSION,p,"unsupported-persistence-type"):(0,x.UG)()?Et(g===Le.NONE,p,"unsupported-persistence-type"):Ot()?Et(g===Le.NONE||g===Le.LOCAL&&(0,x.hl)(),p,"unsupported-persistence-type"):Et(g===Le.NONE||ct(),p,"unsupported-persistence-type")}(C._delegate,d),d){case Le.SESSION:L=e.a;break;case Le.LOCAL:L=(yield e.aD(e.i)._isAvailable())?e.i:e.b;break;case Le.NONE:L=e.Q;break;default:return e.aw("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Pe(this._delegate,e.$(this._delegate))}signInWithCredential(d){return Pe(this._delegate,e.a0(this._delegate,d))}signInWithCustomToken(d){return Pe(this._delegate,e.a3(this._delegate,d))}signInWithEmailAndPassword(d,C){return Pe(this._delegate,e.aa(this._delegate,d,C))}signInWithEmailLink(d,C){return Pe(this._delegate,e.ad(this._delegate,d,C))}signInWithPhoneNumber(d,C){return nt(this._delegate,e.s(this._delegate,d,C))}signInWithPopup(d){var C=this;return(0,m.Z)(function*(){return it(ht(),C._delegate,"operation-not-supported-in-this-environment"),Pe(C._delegate,e.c(C._delegate,d,He))})()}signInWithRedirect(d){var C=this;return(0,m.Z)(function*(){return it(ht(),C._delegate,"operation-not-supported-in-this-environment"),yield mt(C._delegate),e.f(C._delegate,d,He)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return e.a8(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Le,p})();function ze(p,g,d){let C=p;"function"!=typeof p&&({next:C,error:g,complete:d}=p);const L=C;return{next:X=>L(X&&Se.getOrCreate(X)),error:g,complete:d}}function rn(p,g){const d=function gt(p,g){const d=bt();if(!d)return[];const C=e.aE(Lt,p,g);switch(d.getItem(C)){case Le.NONE:return[e.Q];case Le.LOCAL:return[e.i,e.a];case Le.SESSION:return[e.a];default:return[]}}(p,g);if(typeof self<"u"&&!d.includes(e.i)&&d.push(e.i),typeof window<"u")for(const C of[e.b,e.a])d.includes(C)||d.push(C);return d.includes(e.Q)||d.push(e.Q),d}class Bt{constructor(){this.providerId="phone",this._delegate=new e.P(lt(S.Z.auth()))}static credential(g,d){return e.P.credential(g,d)}verifyPhoneNumber(g,d){return this._delegate.verifyPhoneNumber(g,d)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=e.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=e.P.PROVIDER_ID;const At=e.aB;class Ut{constructor(g,d,C=S.Z.app()){var L;At(null===(L=C.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new e.R(C.auth(),g,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function f(p){p.INTERNAL.registerComponent(new re.wA("auth-compat",g=>{const d=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new wt(d,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:e.A.EMAIL_SIGNIN,PASSWORD_RESET:e.A.PASSWORD_RESET,RECOVER_EMAIL:e.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:e.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:e.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:e.A.VERIFY_EMAIL}},EmailAuthProvider:e.U,FacebookAuthProvider:e.V,GithubAuthProvider:e.X,GoogleAuthProvider:e.W,OAuthProvider:e.Y,SAMLAuthProvider:e.Z,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:e.m,RecaptchaVerifier:Ut,TwitterAuthProvider:e._,Auth:wt,AuthCredential:e.K,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}(S.Z)}}]);