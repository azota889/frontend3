"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[1816],{74871:(at,L,l)=>{l.d(L,{$:()=>lt});var o=l(81519),a=l(34514),r=l(47426),I=l(89163),F=l(99503),U=l(79347),w=l(33887),h=l(9691),m=l(26860),R=l(78888),z=l(54460),D=l(64160),c=l(52811),g=l(73437);function X(O,nt){1&O&&(m.j41(0,"h3",4),m.EFF(1),m.nI1(2,"mytranslate"),m.k0s()),2&O&&(m.R7$(1),m.SpI(" ",m.bMT(2,1,"lang_core_dat_lai_mat_khau")," "))}function A(O,nt){1&O&&m.nrm(0,"azt-loading-ui",11)}function q(O,nt){if(1&O){const B=m.RV6();m.j41(0,"div")(1,"div",5),m.EFF(2),m.nI1(3,"mytranslate"),m.j41(4,"span",6),m.EFF(5),m.k0s()(),m.j41(6,"div",5),m.EFF(7),m.nI1(8,"mytranslate"),m.k0s(),m.j41(9,"div",7)(10,"button",8),m.bIt("click",function(){m.eBV(B);const $=m.XpG();return m.Njj($.dialogRef.close())}),m.EFF(11),m.nI1(12,"mytranslate"),m.k0s(),m.j41(13,"button",9),m.bIt("click",function(){m.eBV(B);const $=m.XpG();return m.Njj($.confirmResetPass())}),m.DNE(14,A,1,0,"azt-loading-ui",10),m.EFF(15),m.nI1(16,"mytranslate"),m.k0s()()()}if(2&O){const B=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),m.R7$(3),m.JRh(B.data.name),m.R7$(2),m.SpI(" ",m.bMT(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),m.R7$(4),m.JRh(m.bMT(12,11,"lang_cms_common_close_btn")),m.R7$(2),m.Y8G("disabled",B.statusObj.loading),m.R7$(1),m.Y8G("ngIf",B.statusObj.loading),m.R7$(1),m.SpI(" ",m.bMT(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}function rt(O,nt){if(1&O){const B=m.RV6();m.j41(0,"div")(1,"div",12),m.EFF(2),m.nI1(3,"mytranslate"),m.k0s(),m.j41(4,"div",13),m.EFF(5),m.nI1(6,"mytranslate"),m.j41(7,"span",6),m.EFF(8),m.k0s()(),m.j41(9,"div",7),m.nrm(10,"input",14),m.j41(11,"button",15),m.bIt("click",function(){m.eBV(B);const $=m.XpG();return m.Njj($.showCopySuccess())}),m.qSk(),m.j41(12,"svg",16),m.nrm(13,"rect",17)(14,"path",18),m.k0s(),m.EFF(15),m.nI1(16,"mytranslate"),m.k0s()(),m.joV(),m.j41(17,"button",19),m.bIt("click",function(){m.eBV(B);const $=m.XpG();return m.Njj($.dialogRef.close())}),m.EFF(18),m.nI1(19,"mytranslate"),m.k0s()()}if(2&O){const B=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,8,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),m.R7$(3),m.SpI(" ",m.bMT(6,10,"lang_core_dat_lai_mat_khau_note")," "),m.R7$(3),m.JRh(B.data.name),m.R7$(2),m.Y8G("disabled",!0)("value",B.passwordNew),m.R7$(1),m.Y8G("cdkCopyToClipboard",B.copyPassword()),m.R7$(4),m.SpI(" ",m.bMT(16,12,"lang_auto_copy")," "),m.R7$(3),m.JRh(m.bMT(19,14,"lang_homework_export_homework_complete"))}}let lt=(()=>{class O extends w._{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe({next:J=>{this.passwordNew=J.data??"",this.isAccept=!0,this.stopStatusObj()},error:J=>{this.errorStatusObj(J.error.message,!0)}})}ngOnInit(){super.ngOnInit()}constructor(B,J,$){super($,J),this.domainUsersManagementService=B,this.dialogRef=J,this.data=$,this.isAccept=!1,this.passwordNew=""}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(J){return new(J||O)(m.rXU(R.Z),m.rXU(I.CP,8),m.rXU(I.Vh,8))};static#e=this.\u0275cmp=m.VBU({type:O,selectors:[["azt-reset-pasword"]],features:[m.Jv_([{provide:o.$O,useClass:F.fb,deps:[r.Ju,a.ij]},{provide:o.vq,useFactory:U.fJ,deps:[h.F]}]),m.Vt3],decls:5,vars:3,consts:[[1,"box","p-5"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"disabled","click"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-copy","mr-1"],["width","14","height","14","x","8","y","8","rx","2","ry","2"],["d","M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"]],template:function(J,$){1&J&&(m.j41(0,"div",0)(1,"div",1),m.DNE(2,X,3,3,"h3",2),m.DNE(3,q,17,15,"div",3),m.DNE(4,rt,20,16,"div",3),m.k0s()()),2&J&&(m.R7$(2),m.Y8G("ngIf",!$.isAccept),m.R7$(1),m.Y8G("ngIf",!$.isAccept),m.R7$(1),m.Y8G("ngIf",$.isAccept))},dependencies:[z.bT,D.dF,c.R,g.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]})}return O})()},59518:(at,L,l)=>{l.d(L,{s:()=>F});var o=l(26860),a=l(91930),r=l(51113),I=l(50589);let F=(()=>{class U{ExamExerciseOfProgramToSessionStorage(h,m,R){const z=this.commonService.getMyQueryParam("indexSession"),D=this.commonService.getMyQueryParam("programId");if(null!=z&&null!=D){const c=this.browserStorageService.getSessionStorage(`${this.key+D}`);if(c){const g=this.zipDataService.decodeContentGzip(c),X=this.commonService.castJsonToObj(g),A={id:-1,refId:h,name:m,type:R,willRemove:!1};X?.sessionFormArray[z].documentObjs.push(A);const q=this.zipDataService.convertContentGzip(this.commonService.serializeJson(X??{}));this.browserStorageService.saveSessionStorage(`${this.key+D}`,q)}}}removeProgramDataLocal(h){this.browserStorageService.removeSessionStorage(`${this.key+h}`)}constructor(h,m,R){this.commonService=h,this.zipDataService=m,this.browserStorageService=R,this.key="data_educational_program_"}static#t=this.\u0275fac=function(m){return new(m||U)(o.KVO(a.R),o.KVO(r.j),o.KVO(I.z))};static#e=this.\u0275prov=o.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},23750:(at,L,l)=>{l.d(L,{J:()=>Ot});var o=l(26860),a=l(59640),r=l(73202),I=l(10936),F=l(89163),U=l(51698),w=l(33887),h=l(64198),m=l(93518),R=l(39712),z=l(40111),D=l(27691);let c=(()=>{class v{constructor(_){this.http=_,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(_){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${_}&key=${this.apiKey}&part=snippet`)}static#t=this.\u0275fac=function(y){return new(y||v)(o.KVO(D.Qq))};static#e=this.\u0275prov=o.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var g=l(54460),X=l(60303),A=l(2915),q=l(22851),rt=l(63349),lt=l(15343),O=l(73437);const nt=function(v,Z){return[v,Z]};function B(v,Z){if(1&v){const _=o.RV6();o.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),o.bIt("uploadComplete",function(k){o.eBV(_);const N=o.XpG();return o.Njj(N.handleUploadComplete(k))}),o.j41(3,"div",13)(4,"div",14)(5,"div",15),o.nrm(6,"lucide-icon",16),o.j41(7,"span",17),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()(),o.j41(10,"div",18),o.EFF(11),o.nI1(12,"mytranslate"),o.j41(13,"a",19),o.bIt("click",function(k){return k.stopPropagation()}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s()()()()()()()}if(2&v){const _=o.XpG();o.R7$(2),o.Y8G("uploadToCdnMenu",_.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",o.l_i(11,nt,_.allUploadFileTypes.SYNTHETIC,_.allUploadFileTypes.AZT)),o.R7$(6),o.SpI(" ",o.bMT(9,5,"lang_wsuper_admin_upload_file_choose_file_upload")," "),o.R7$(3),o.SpI(" ",o.bMT(12,7,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),o.R7$(3),o.SpI(" ",o.bMT(15,9,"lang_auto_tim_hieu_them")," ")}}function J(v,Z){1&v&&(o.j41(0,"div",28)(1,"div",29),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&v&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function $(v,Z){if(1&v&&o.nrm(0,"azt-preview-file",33),2&v){const _=o.XpG(3);o.Y8G("fileUrl",_.docsLinkControl.value)("customHeight",_.boxContentHeight)("fileType",_.shareTypeDocument)}}function W(v,Z){if(1&v&&(o.j41(0,"div",30)(1,"div",31),o.DNE(2,$,1,3,"azt-preview-file",32),o.k0s()()),2&v){const _=o.XpG(2);o.R7$(2),o.Y8G("ngIf",_.docsLinkControl.value)}}function E(v,Z){if(1&v){const _=o.RV6();o.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),o.bIt("input",function(){o.eBV(_);const k=o.XpG();return o.Njj(k.getVideoNameFromUrl())}),o.nI1(4,"mytranslate"),o.k0s()(),o.j41(5,"div",24),o.nrm(6,"input",25),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,J,4,3,"div",26),o.k0s(),o.DNE(9,W,3,1,"div",27),o.k0s()}if(2&v){const _=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,6,"homework_view"==_.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),o.Y8G("formControl",_.docsLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),o.Y8G("formControl",_.fileNameControl),o.R7$(2),o.Y8G("ngIf",_.fileNameControl.invalid),o.R7$(1),o.Y8G("ngIf",_.checkShowPreviewLink())}}let b=(()=>{class v extends w._{onTabChanged(_){this.selectedIndex=_.index,this.shareTypeDocument=0==this.selectedIndex?r.d.exam:r.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(_){_.forEach(y=>{let k=this.sAztFileTypeService.getTypeFileByMime(y);k?this.dialogRef.close({name:y.name??"",refId:0,groupType:this.groupTypeFile,type:k,link:y.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,h.y1)(this.docsLinkControl.value)||(0,h.Kb)(this.docsLinkControl.value)||(0,h.VJ)(this.docsLinkControl.value)))}getNameVideo(_){return new U.c(y=>{this.youtubeService.getVideoDetails(_).subscribe(k=>{y.next(k.items&&k.items.length?k.items[0].snippet.title:"undefined"),y.complete()},k=>{y.next(void 0),y.complete()})})}getVideoNameFromUrl(){this.data.type==m.k.homework_view&&(0,h.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=r.d.video,this.getNameVideo((0,h.b3)(this.docsLinkControl.value)??"").subscribe(_=>{_&&this.fileNameControl.setValue(_)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,h.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,h.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let _={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,h.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(_)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(r.d,this.data.type,r.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(m.k,this.data.type,m.k.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(_,y,k,N){super(N,k),this.sAztFileTypeService=_,this.youtubeService=y,this.dialogRef=k,this.data=N,this.docsLinkControl=new I.MJ("",{nonNullable:!0,validators:[I.k0.required]}),this.fileNameControl=new I.MJ("",{nonNullable:!0,validators:[I.k0.required]}),this.shareTypeDocument=r.d.exam,this.groupTypeFile=m.k.document,this.allDocumentGroupTypes=m.k,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=R.b8,this.allUploadFileTypes=R.PO}static#t=this.\u0275fac=function(y){return new(y||v)(o.rXU(z.k),o.rXU(c),o.rXU(F.CP,8),o.rXU(F.Vh,8))};static#e=this.\u0275cmp=o.VBU({type:v,selectors:[["add-document-session-dialog"]],features:[o.Vt3],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedIndex","selectedTabChange"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",1,"text-success","mr-2"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"formControl","placeholder","input"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(y,k){1&y&&(o.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),o.bIt("selectedTabChange",function(vt){return k.onTabChanged(vt)}),o.nrm(5,"mat-tab",3),o.nI1(6,"mytranslate"),o.nrm(7,"mat-tab",3),o.nI1(8,"mytranslate"),o.k0s(),o.j41(9,"div",4),o.DNE(10,B,16,14,"div",5),o.DNE(11,E,10,10,"div",6),o.k0s()()()(),o.j41(12,"div",7)(13,"button",8),o.bIt("click",function(){return k.btnCloseDialog()}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",9),o.bIt("click",function(){return k.confirmUpload()}),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s()()()),2&y&&(o.R7$(4),o.Y8G("selectedIndex",k.selectedIndex),o.R7$(1),o.FS9("label",o.bMT(6,8,"lang_auto_upload_file")),o.R7$(2),o.FS9("label",o.bMT(8,10,"lang_config_educational_program_use_link")),o.R7$(3),o.Y8G("ngIf",0==k.selectedIndex),o.R7$(1),o.Y8G("ngIf",1==k.selectedIndex),o.R7$(3),o.SpI(" ",o.bMT(15,12,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",k.fileNameControl.invalid),o.R7$(1),o.SpI(" ",o.bMT(18,14,"lang_auto_luu")," "))},dependencies:[g.bT,X.mq,X.T8,I.me,I.BC,I.l_,A.U,q.N,rt.V,lt.WGl,O.wp],encapsulation:2})}return v})();var j=l(66772),T=l(52811);function et(v,Z){1&v&&(o.j41(0,"div",16)(1,"div",17),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&v&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function Y(v,Z){if(1&v&&o.nrm(0,"azt-preview-file",18),2&v){const _=o.XpG(2);o.Y8G("fileUrl",_.embedLinkControl.value)("fileType",_.shareTypeFile)}}function dt(v,Z){1&v&&o.nrm(0,"azt-loading-ui",19)}function t(v,Z){if(1&v){const _=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4)(3,"input",5),o.bIt("input",function(){o.eBV(_);const k=o.XpG();return o.Njj(k.getVideoNameFromUrl())}),o.nI1(4,"mytranslate"),o.k0s()(),o.j41(5,"div",6),o.nrm(6,"input",7),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,et,4,3,"div",8),o.k0s(),o.j41(9,"div",9)(10,"div",10),o.DNE(11,Y,1,2,"azt-preview-file",11),o.k0s()(),o.j41(12,"div",12)(13,"button",13),o.bIt("click",function(){o.eBV(_);const k=o.XpG();return o.Njj(k.btnCloseDialog())}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",14),o.bIt("click",function(){o.eBV(_);const k=o.XpG();return o.Njj(k.confirmUpload())}),o.DNE(17,dt,1,0,"azt-loading-ui",15),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()(),o.bVm()}if(2&v){const _=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),o.Y8G("formControl",_.embedLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),o.Y8G("formControl",_.fileNameControl),o.R7$(2),o.Y8G("ngIf",_.fileNameControl.invalid),o.R7$(3),o.Y8G("ngIf",_.embedLinkControl.value),o.R7$(3),o.SpI(" ",o.bMT(15,14,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",!_.isValidEmbedUrl()||_.fileNameControl.invalid||_.statusObj.loading),o.R7$(1),o.Y8G("ngIf",_.statusObj.loading),o.R7$(1),o.SpI(" ",o.bMT(19,16,"lang_auto_luu")," ")}}function mt(v,Z){1&v&&(o.j41(0,"div",16)(1,"div",17),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&v&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function ot(v,Z){if(1&v&&o.nrm(0,"azt-preview-file",23),2&v){const _=o.XpG(2);o.Y8G("fileUrl",_.docsLinkControl.value)("customHeight",_.boxContentHeight)("fileType",_.shareTypeFile)}}function _t(v,Z){1&v&&o.nrm(0,"azt-loading-ui",19)}function P(v,Z){if(1&v){const _=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4),o.nrm(3,"input",7),o.nI1(4,"mytranslate"),o.k0s(),o.j41(5,"div",6),o.nrm(6,"input",7),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,mt,4,3,"div",8),o.k0s(),o.j41(9,"div",9)(10,"div",20),o.DNE(11,ot,1,3,"azt-preview-file",21),o.k0s()(),o.j41(12,"div",22)(13,"button",13),o.bIt("click",function(){o.eBV(_);const k=o.XpG();return o.Njj(k.btnCloseDialog())}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",14),o.bIt("click",function(){o.eBV(_);const k=o.XpG();return o.Njj(k.confirmUpload())}),o.DNE(17,_t,1,0,"azt-loading-ui",15),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()(),o.bVm()}if(2&v){const _=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),o.Y8G("formControl",_.docsLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),o.Y8G("formControl",_.fileNameControl),o.R7$(2),o.Y8G("ngIf",_.fileNameControl.invalid),o.R7$(3),o.Y8G("ngIf",_.docsLinkControl.value),o.R7$(3),o.SpI(" ",o.bMT(15,14,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",!_.isValidDocsUrl()||_.fileNameControl.invalid||_.statusObj.loading),o.R7$(1),o.Y8G("ngIf",_.statusObj.loading),o.R7$(1),o.SpI(" ",o.bMT(19,16,"lang_auto_luu")," ")}}let H=(()=>{class v extends w._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,h.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,h.si)(this.docsLinkControl.value)}getNameVideo(_){return new U.c(y=>{this.youtubeService.getVideoDetails(_).subscribe(k=>{y.next(k.items&&k.items.length?k.items[0].snippet.title:"undefined"),y.complete()},k=>{y.next(void 0),y.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,h.b3)(this.embedLinkControl.value)??"").subscribe(_=>{_&&this.fileNameControl.setValue(_)})}confirmUpload(){if(this.data.type==r.d.video&&this.embedLinkControl.valid&&(0,h.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let _={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:m.k.video,link:(0,h.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(_)}this.data.type==r.d.google_docs&&this.docsLinkControl.valid&&(0,h.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:m.k.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(r.d,this.data.type,r.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(_,y,k,N,vt){super(vt,N),this.sAZTranslateService=_,this.http=y,this.youtubeService=k,this.dialogRef=N,this.data=vt,this.embedLinkControl=new I.MJ("",{nonNullable:!0,validators:[I.k0.required]}),this.docsLinkControl=new I.MJ("",{nonNullable:!0,validators:[I.k0.required]}),this.fileNameControl=new I.MJ("",{nonNullable:!0,validators:[I.k0.required]}),this.shareTypeFile=r.d.video,this.boxContentHeight=0}static#t=this.\u0275fac=function(y){return new(y||v)(o.rXU(j.o),o.rXU(D.Qq),o.rXU(c),o.rXU(F.CP,8),o.rXU(F.Vh,8))};static#e=this.\u0275cmp=o.VBU({type:v,selectors:[["add-video-session"]],features:[o.Vt3],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"formControl","placeholder","input"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(y,k){1&y&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,t,20,18,"ng-container",2),o.DNE(3,P,20,18,"ng-container",2),o.k0s()()),2&y&&(o.R7$(2),o.Y8G("ngIf","video"==k.data.type),o.R7$(1),o.Y8G("ngIf","google_docs"==k.data.type))},dependencies:[g.bT,I.me,I.BC,I.l_,T.R,q.N,O.wp],encapsulation:2})}return v})();var C=l(46899),G=l(17818);function f(v,Z){1&v&&o.nrm(0,"azt-loading-ui",11)}function tt(v,Z){1&v&&(o.j41(0,"span"),o.EFF(1," + "),o.k0s())}function it(v,Z){if(1&v&&(o.qex(0),o.j41(1,"button",8),o.bIt("click",function(y){return y.stopPropagation()}),o.DNE(2,f,1,0,"azt-loading-ui",9),o.DNE(3,tt,2,0,"span",10),o.SdG(4),o.k0s(),o.bVm()),2&v){const _=o.XpG(),y=o.sdS(4);o.R7$(1),o.HbH("btn btn-transparent w-48 block "+_.customClass),o.Y8G("disabled",_.loadingUpload)("matMenuTriggerFor",y),o.R7$(1),o.Y8G("ngIf",_.loadingUpload),o.R7$(1),o.Y8G("ngIf",!_.loadingUpload)}}function bt(v,Z){1&v&&o.nrm(0,"azt-loading-ui",11)}function K(v,Z){1&v&&(o.j41(0,"span"),o.EFF(1," + "),o.k0s())}function Pt(v,Z){if(1&v&&(o.j41(0,"span",12),o.bIt("click",function(y){return y.stopPropagation()}),o.DNE(1,bt,1,0,"azt-loading-ui",9),o.DNE(2,K,2,0,"span",10),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.nI1(6,"mytranslate"),o.k0s()()),2&v){const _=o.XpG(),y=o.sdS(4);o.Y8G("matMenuTriggerFor",y),o.R7$(1),o.Y8G("ngIf",_.loadingUpload),o.R7$(1),o.Y8G("ngIf",!_.loadingUpload),o.R7$(2),o.Lme("",o.bMT(5,5,"lang_button_add")," ",o.bMT(6,7,"lang_auto_tai_lieu"),"")}}const wt=[[["span"]]],Rt=["span"];let Ot=(()=>{class v extends a.H{showAddLinkDialog(_){this.loadingUpload=!0,this.sAztDialogService.open(H,{width:_==r.d.video?"750px":"950px",data:{showUp:!0,type:_},restoreFocus:!1}).afterClosed().subscribe(k=>{k?(this.emitFileDocument.emit({name:k.name,refId:0,groupType:k.groupType,type:k.type,link:k.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(_){this.loadingUpload=!0,this.sAztDialogService.open(b,{width:"950px",data:{showUp:!0,type:_},restoreFocus:!1}).afterClosed().subscribe(k=>{k?(this.emitFileDocument.emit({name:k.name,refId:0,groupType:k.groupType,type:k.type,link:k.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(_){super(),this.sAztDialogService=_,this.isBtn=!0,this.customClass="",this.emitFileDocument=new o.bkB,this.loadingUpload=!1}static#t=this.\u0275fac=function(y){return new(y||v)(o.rXU(C.i))};static#e=this.\u0275cmp=o.VBU({type:v,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},features:[o.Vt3],ngContentSelectors:Rt,decls:27,vars:14,consts:[[4,"ngIf","ngIfElse"],["otherBtnTemplate",""],["xPosition","after"],["addDocumentMenu","matMenu"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"disabled","matMenuTriggerFor","click"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"matMenuTriggerFor","click"]],template:function(y,k){if(1&y&&(o.NAR(wt),o.DNE(0,it,5,6,"ng-container",0),o.DNE(1,Pt,7,9,"ng-template",null,1,o.C5r),o.j41(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),o.bIt("click",function(){return k.showAddLinkDialog("video")}),o.j41(9,"span"),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s()()(),o.j41(12,"li")(13,"a",7),o.bIt("click",function(){return k.showAddDocumentDialog("document")}),o.j41(14,"span"),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()()(),o.j41(17,"li")(18,"a",7),o.bIt("click",function(){return k.showAddDocumentDialog("homework")}),o.j41(19,"span"),o.EFF(20),o.nI1(21,"mytranslate"),o.k0s()()(),o.j41(22,"li")(23,"a",7),o.bIt("click",function(){return k.showAddDocumentDialog("homework_view")}),o.j41(24,"span"),o.EFF(25),o.nI1(26,"mytranslate"),o.k0s()()()()()()),2&y){const N=o.sdS(2);o.Y8G("ngIf",k.isBtn)("ngIfElse",N),o.R7$(10),o.SpI(" ",o.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),o.R7$(5),o.SpI(" ",o.bMT(16,8,"lang_config_educational_program_add_document")," "),o.R7$(5),o.SpI(" ",o.bMT(21,10,"lang_config_educational_program_add_homework")," "),o.R7$(5),o.SpI(" ",o.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[g.bT,G.kk,G.Cp,T.R,O.wp],encapsulation:2})}return v})()},10127:(at,L,l)=>{l.d(L,{B:()=>_t});var o=l(81519),a=l(10936),r=l(34514),I=l(47426),F=l(89163),U=l(99503),w=l(79347),h=l(33887),m=l(9691);class R{static formGroupClassrooms(H){return void 0!==H.controls.find(f=>f.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}var z=l(42947),D=l(60902),c=l(26860),g=l(19548),X=l(46899),A=l(95412),q=l(54460),rt=l(12992),lt=l(74960),O=l(4375),nt=l(47712),B=l(18718),J=l(81587),$=l(2915),W=l(96112),E=l(45344),b=l(73437);function j(P,H){if(1&P&&c.nrm(0,"azt-loading-effect",6),2&P){const C=c.XpG();c.Y8G("currentStatusObj",C.statusObj)}}function T(P,H){1&P&&(c.j41(0,"div",20),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&P&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function et(P,H){if(1&P&&(c.j41(0,"mat-option",32),c.EFF(1),c.k0s()),2&P){const C=H.$implicit,G=c.XpG(3);c.Y8G("value",C.id)("disabled",G.isSelectClassroom(C.id)),c.R7$(1),c.SpI(" ",C.name," ")}}function Y(P,H){if(1&P){const C=c.RV6();c.j41(0,"button",33),c.bIt("click",function(){c.eBV(C);const f=c.XpG().$implicit,tt=c.XpG(2);return c.Njj(tt.removeClassroom(f))}),c.nI1(1,"mytranslate"),c.qSk(),c.j41(2,"svg",34),c.nrm(3,"path",35)(4,"path",36)(5,"path",37)(6,"line",38)(7,"line",39),c.k0s()()}2&P&&c.FS9("matTooltip",c.bMT(1,1,"lang_student_classroom_list_delete"))}function dt(P,H){1&P&&(c.j41(0,"div",40),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&P&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function t(P,H){if(1&P){const C=c.RV6();c.j41(0,"div",41)(1,"mat-checkbox",42),c.EFF(2),c.nI1(3,"mytranslate"),c.k0s(),c.j41(4,"button",43),c.bIt("click",function(){c.eBV(C);const f=c.XpG().$implicit,tt=c.XpG(2);return c.Njj(tt.removeClassroom(f))}),c.nI1(5,"mytranslate"),c.qSk(),c.j41(6,"svg",34),c.nrm(7,"path",35)(8,"path",36)(9,"path",37)(10,"line",38)(11,"line",39),c.k0s()()()}if(2&P){const C=c.XpG().$implicit;c.R7$(1),c.Y8G("checked",C.controls.isTryLearning.value),c.R7$(1),c.SpI(" ",c.bMT(3,3,"lang_core_hoc_thu")," "),c.R7$(2),c.FS9("matTooltip",c.bMT(5,5,"lang_student_classroom_list_delete"))}}function mt(P,H){if(1&P&&(c.j41(0,"div",21)(1,"form",22)(2,"div",23)(3,"div",13)(4,"div",24)(5,"mat-form-field",25)(6,"mat-select",26)(7,"mat-option",27),c.EFF(8),c.nI1(9,"mytranslate"),c.k0s(),c.DNE(10,et,2,3,"mat-option",28),c.k0s()(),c.DNE(11,Y,8,3,"button",29),c.k0s(),c.DNE(12,dt,3,3,"div",30),c.k0s()(),c.DNE(13,t,12,7,"div",31),c.k0s()()),2&P){const C=H.$implicit,G=c.XpG(2);c.R7$(1),c.Y8G("formGroup",C),c.R7$(5),c.Y8G("formControl",C.controls.classroomId),c.R7$(1),c.Y8G("value",0),c.R7$(1),c.SpI("---",c.bMT(9,8,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),c.R7$(2),c.Y8G("ngForOf",G.classroomOwner),c.R7$(1),c.Y8G("ngIf",G.isSelectedMonth()),c.R7$(1),c.Y8G("ngIf",C.controls.classroomId.errors),c.R7$(1),c.Y8G("ngIf",!G.isSelectedMonth())}}function ot(P,H){if(1&P){const C=c.RV6();c.j41(0,"azt-mat-dialog-content")(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),c.EFF(5),c.nI1(6,"mytranslate"),c.k0s(),c.nrm(7,"azt-form-enter-info-student",11),c.k0s(),c.j41(8,"div",12)(9,"div",13),c.nrm(10,"azt-checkbox-month",14),c.j41(11,"h3",15),c.EFF(12),c.nI1(13,"mytranslate"),c.k0s(),c.DNE(14,T,3,3,"div",16),c.DNE(15,mt,14,10,"div",17),c.j41(16,"div",18)(17,"div",19),c.bIt("click",function(){c.eBV(C);const f=c.XpG();return c.Njj(f.addClassroom())}),c.EFF(18),c.nI1(19,"mytranslate"),c.k0s()()()()()()()}if(2&P){const C=c.XpG();c.R7$(5),c.SpI(" ",c.bMT(6,9,"lang_auto_thong_tin_chung")," "),c.R7$(2),c.Y8G("studentForm",C.studentForm)("hasUser",!!C.data&&C.data.hasUser),c.R7$(3),c.Y8G("checkboxMonth",C.checkboxMonth)("histories",C.histories),c.R7$(2),c.SpI(" ",c.bMT(13,11,"lang_auto_lop_hoc")," "),c.R7$(2),c.Y8G("ngIf",0==C.formClassrooms.controls.length),c.R7$(1),c.Y8G("ngForOf",C.formClassrooms.controls),c.R7$(3),c.SpI("+ ",c.bMT(19,13,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let _t=(()=>{class P extends h._{removeClassroom(C){let G=this.formClassrooms.controls.filter(f=>f!=C);this.formClassrooms=new a.Yp(G)}addClassroom(){let C=this.formClassrooms.controls;C.push(new a.gE({classroomId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1)]}),isTryLearning:new a.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new a.Yp(C,{validators:[R.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(C){return null!=this.formClassrooms.controls.find(G=>G.controls.classroomId.value==C)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(C=>1==C.selected)}saveData(){var C=this.studentForm.form.getRawValue(),G=[],f=[];this.checkboxMonth.checkboxMonth.filter(it=>1==it.selected).forEach(it=>{f.push({month:it.month,year:it.year})}),this.formClassrooms.controls.forEach(it=>{G.push({classroomId:it.controls.classroomId.value,trialLearning:!(f.length>0)&&it.controls.isTryLearning.value})}),this.isSaving=!0;var tt={id:this.data?this.data.id:void 0,fullName:C.fullName,gender:C.gender,phone:C.phoneNumber,email:C.email,birthday:C.birthday?this.timeService.formatDateTimeToPostToServer(new Date(C.birthday).toDateString()):void 0,password:C.password,classrooms:G,attachPayments:f,schoolName:C.school,facebookLink:C.facebookLink,identificationNumber:C.identificationNumber?Number(C.identificationNumber):void 0};this.waitDestroy(this.paymentService.apiPaymentStudentPost(tt).subscribe({next:it=>{this.isSaving=!1,this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)},error:it=>{this.isSaving=!1,this.errorStatusObj(it.error.message,!0)}}))}getClassroomName(C){var G=this.classroomOwner.filter(f=>C==f.id)??[];return G.length>0?G[0].name:""}getHistores(){this.data?this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.data.id).subscribe({next:C=>{this.histories=C.histories,this.checkboxMonth.checkboxMonth.map(f=>f.selected=null!=this.histories.find(tt=>tt.month==f.month&&f.year==tt.year));var G=[];C.classrooms.forEach(f=>{G.push(new a.gE({classroomId:new a.MJ(f.classroomId,{nonNullable:!0,validators:[a.k0.min(1)]}),isTryLearning:new a.MJ(f.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new a.Yp(G,{validators:[R.formGroupClassrooms]}),this.stopStatusObj()},error:C=>{this.isSaving=!1,this.errorStatusObj(C.error.message,!0)}})):this.stopStatusObj()}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(C=>{C.success?(this.classroomOwner=C.data?.objs??[],this.getHistores()):(this.errorStatusObj(C.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.stopStatusObj())}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(C,G,f,tt,it,bt,K){super(K,bt),this.classroomGroupService=C,this.sAztDialogService=G,this.sAztTimeService=f,this.timeService=tt,this.paymentService=it,this.dialogRef=bt,this.data=K,this.histories=[],this.checkboxMonth=new D.L,this.studentForm=new z.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,K&&(this.checkboxMonth.studentId=this.data.id,K.hasUser?this.studentForm.form=new a.gE({fullName:new a.MJ(K.fullName??"",{nonNullable:!0,validators:[a.k0.required]}),gender:new a.MJ(K.gender??0,{nonNullable:!0}),birthday:new a.MJ(K.birthday,{nonNullable:!0}),email:new a.MJ(K.email??"",{nonNullable:!0,validators:[a.k0.email,a.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new a.MJ(K.phone??"",{nonNullable:!0,validators:[a.k0.required,a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]}),identificationNumber:new a.MJ(K.identificationNumber?K.identificationNumber.toString():"",{nonNullable:!0,validators:[a.k0.min(1),a.k0.maxLength(6),a.k0.pattern("^[0-9]*$")]}),facebookLink:new a.MJ(K.facebookLink,{nonNullable:!0}),school:new a.MJ(K.schoolName,{nonNullable:!0})}):this.studentForm.form.setValue({fullName:K.fullName??"",gender:K.gender??0,birthday:K.birthday,email:K.email??"",phoneNumber:K.phone??"",identificationNumber:K.identificationNumber?K.identificationNumber.toString():"",facebookLink:K.facebookLink,school:K.schoolName,password:""})),this.formClassrooms=new a.Yp([new a.gE({classroomId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1)]}),isTryLearning:new a.MJ(!1,{nonNullable:!0})})],{validators:[R.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(G){return new(G||P)(c.rXU(g.kG),c.rXU(X.i),c.rXU(m.F),c.rXU(m.F),c.rXU(A.W),c.rXU(F.CP,8),c.rXU(F.Vh,8))};static#e=this.\u0275cmp=c.VBU({type:P,selectors:[["azt-send-feedback"]],features:[c.Jv_([{provide:o.$O,useClass:U.fb,deps:[I.Ju,r.ij]},{provide:o.vq,useFactory:w.fJ,deps:[m.F]}]),c.Vt3],decls:11,vars:10,consts:[[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"disabled","click"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"disabled","click"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["name","classroomId",3,"formControl"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["azt-track-service","group-zQLSni7Q98","class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],["azt-track-service","group-zQLSni7Q98",1,"btn-delete-room","ml-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],["azt-track-service","group-zQLSni7Q98",1,"btn-delete-room",3,"matTooltip","click"]],template:function(G,f){if(1&G&&(c.j41(0,"div",0),c.DNE(1,j,1,1,"azt-loading-effect",1),c.DNE(2,ot,20,15,"ng-template",null,2,c.C5r),c.j41(4,"div",3)(5,"button",4),c.bIt("click",function(){return f.dialogRef.close()}),c.EFF(6),c.nI1(7,"mytranslate"),c.k0s(),c.j41(8,"button",5),c.bIt("click",function(){return f.saveData()}),c.EFF(9),c.nI1(10,"mytranslate"),c.k0s()()()),2&G){const tt=c.sdS(3);c.R7$(1),c.Y8G("ngIf",f.statusObj.loading)("ngIfElse",tt),c.R7$(4),c.Y8G("disabled",f.isSaving),c.R7$(1),c.JRh(c.bMT(7,6,"lang_cms_common_close_btn")),c.R7$(2),c.Y8G("disabled",!f.isSaving&&(f.formClassrooms.invalid||f.studentForm.form.invalid)||0==f.formClassrooms.controls.length),c.R7$(1),c.SpI(" ",c.bMT(10,8,"lang_button_save")," ")}},dependencies:[q.Sq,q.bT,I.wT,rt.So,lt.rl,O.VO,nt.oV,a.qT,a.BC,a.cb,a.l_,a.j4,a.JD,B.K,J.t,$.U,W.s,E.u,b.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]})}return P})()},60902:(at,L,l)=>{l.d(L,{L:()=>o});class o{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}},1816:(at,L,l)=>{l.r(L),l.d(L,{AzotaBusinessModule:()=>wi});var o=l(54460),a=l(10936),r=l(89163),I=l(65162),F=l(6791),U=l(69223),w=l(15437),h=l(15343),m=l(13763),R=l(25571),z=l(5502),D=l(70050),c=l(7050),g=l(91100),X=l(43234),A=l(46584),q=l(1133),rt=l(50866),lt=l(46723),O=l(59640),nt=l(37497),B=l(27208),J=l(81519),$=l(34514),W=l(47426),E=l(17818),b=l(14999),j=l(99503),T=l(79347),et=l(33887),Y=l(9691),dt=l(42947),t=l(26860),mt=l(65544),ot=l(46899),_t=l(92746),P=l(2915),H=l(52811),C=l(5800),G=l(96112),f=l(73437);function tt(n,u){1&n&&(t.qex(0),t.j41(1,"li",24)(2,"span",25),t.nrm(3,"azt-loading-ui"),t.k0s()(),t.bVm())}function it(n,u){if(1&n&&(t.qex(0),t.j41(1,"li",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,e.firstInit?"lang_auto_nhap_ten_hoac_sdt_hoc_sinh":"lang_student_classroom_list_detail_not_student")," ")}}function bt(n,u){if(1&n){const e=t.RV6();t.j41(0,"li",28),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(3);return t.Njj(p.selectStudent(d))}),t.nrm(1,"azt-student-info-box",29),t.k0s()}if(2&n){const e=u.$implicit;t.R7$(1),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("phone",e.phone)("email",e.email)("showPhone",!0)("showTooltip",!1)}}function K(n,u){if(1&n&&(t.qex(0),t.DNE(1,bt,2,7,"li",27),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.listStudentSearched)}}function Pt(n,u){if(1&n&&(t.DNE(0,it,4,3,"ng-container",19),t.DNE(1,K,2,1,"ng-container",19)),2&n){const e=t.XpG();t.Y8G("ngIf",!e.listStudentSearched.length),t.R7$(1),t.Y8G("ngIf",e.listStudentSearched.length)}}function wt(n,u){1&n&&(t.qex(0),t.j41(1,"div",30)(2,"span",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_business_no_student_selected_yet")))}function Rt(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",32)(1,"button",33),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.removeStudent(d))}),t.nrm(2,"lucide-icon",34),t.k0s(),t.nrm(3,"azt-student-info-box",35),t.k0s()}if(2&n){const e=u.$implicit;t.R7$(3),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("phone",e.phone)("email",e.email)}}let Ot=(()=>{class n extends et._{saveData(){var e=this.studentForm.form.getRawValue();this.isSaving=!0;var i={id:this.data?.id,studentParentIds:this.listStudentChoose.map(s=>s.id),fullName:e.fullName,gender:Number(e.gender)??1,phone:e.phoneNumber,email:e.email,birthday:e.birthday?this.timeService.formatDateTimeToPostToServer(new Date(e.birthday).toDateString()):void 0,password:e.password??""};this.waitDestroy(this.studentService.apiStudentUpsertParentUsersPost(i).subscribe(s=>{s&&s.success?(this.isSaving=!1,this.successStatusObj("lang_student_utils_add_parent_successfully",!0),this.dialogRef.close(!0)):(this.isSaving=!1,this.errorStatusObj(s.message,!0))}))}selectStudent(e){this.commonService.isExistInArray(this.listStudentChoose,e)||(this.listStudentChoose.push(e),this.listStudentSearched=this.listStudentSearched.filter(i=>i.id!=e.id))}removeStudent(e){this.data?this.sAztDialogService.open(b.d,{data:{deleteOnParent:!0,studentObj:Object.assign({classroomId:0,parentId:this.data.id},e),classroomObj:{id:0,name:"",teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]}},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(s=>{s&&this.data&&(this.isSaving=!0,this.waitDestroy(this.studentService.apiStudentRemoveParentUsersPost({id:this.data.id,studentParentIds:[e.id]}).subscribe({next:p=>{this.isSaving=!1,this.listStudentChoose=this.listStudentChoose.filter(V=>V.id!=e.id),this.isEditted=!0,this.successStatusObj("lang_auto_xoa_hoc_sinh_thanh_cong",!0)},error:p=>{this.isSaving=!1,this.errorStatusObj(p.error.message,!0)}})))}):this.listStudentChoose=this.listStudentChoose.filter(i=>i.id!=e.id)}searchStudent(){this.searchStudentControl.value?(this.isSearching=!0,this.firstInit=!1,this.listStudentSearched=[],this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:1,pageSize:100,textSearch:this.searchStudentControl.value,role:"STUDENT"}).subscribe({next:i=>{this.menuTrigger.openMenu(),this.listStudentSearched=i.data?.objs.filter(this.commonService.notEmpty).filter(s=>!this.listStudentChoose.find(d=>s.id==d.id))??[],this.isSearching=!1},error:i=>{this.errorStatusObj(i.error.message,!0),this.isSearching=!1}}))):(this.firstInit=!0,this.listStudentSearched=[])}closeDialog(){this.dialogRef.close(this.isEditted)}ngOnInit(){super.ngOnInit()}constructor(e,i,s,d,p,V,Q){super(Q,V),this.studentService=e,this.sAztDialogService=i,this.sAztTimeService=s,this.domainUsersManagementService=d,this.timeService=p,this.dialogRef=V,this.data=Q,this.histories=[],this.searchStudentControl=new a.MJ("",{nonNullable:!0}),this.studentForm=new dt.d,this.isSaving=!1,this.firstInit=!0,this.isSearching=!1,this.isEditted=!1,this.currentDate=new Date,this.listStudentSearched=[],this.listStudentChoose=[],this.studentForm.form=new a.gE(this.data?{fullName:new a.MJ(this.data?.fullName??"",{nonNullable:!0,validators:[a.k0.required]}),gender:new a.MJ(this.data?.gender??0,{nonNullable:!0}),birthday:new a.MJ(new Date(this.data?.birthday??""),{nonNullable:!0,validators:[a.k0.required]}),email:new a.MJ(this.data?.email??"",{nonNullable:!0,validators:[a.k0.email,a.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new a.MJ(this.data?.phone??"",{nonNullable:!0,validators:[a.k0.required,a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]})}:{fullName:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),gender:new a.MJ(0,{nonNullable:!0}),birthday:new a.MJ(new Date(""),{nonNullable:!0,validators:[a.k0.required]}),email:new a.MJ("",{nonNullable:!0,validators:[a.k0.email,a.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new a.MJ("",{nonNullable:!0,validators:[a.k0.required,a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]}),password:new a.MJ("",{nonNullable:!0,validators:[a.k0.required,a.k0.minLength(6)]})}),this.listStudentChoose=this.data?.childUsers?.map(x=>Object.assign({isParent:!1},x))??[]}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(mt.b0),t.rXU(ot.i),t.rXU(Y.F),t.rXU(_t.ZF),t.rXU(Y.F),t.rXU(r.CP,8),t.rXU(r.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azt-add-parent"]],viewQuery:function(i,s){if(1&i&&t.GBs(E.Cp,5),2&i){let d;t.mGM(d=t.lsd())&&(s.menuTrigger=d.first)}},features:[t.Jv_([{provide:J.$O,useClass:j.fb,deps:[W.Ju,$.ij]},{provide:J.vq,useFactory:T.fJ,deps:[Y.F]}]),t.Vt3],decls:36,vars:26,consts:[[1,"box"],[1,"p-3","border-b","border-slate-200","dark:border-darkmode-400"],[1,"text-base","font-medium","flex","items-center"],[1,"document-market-list",2,"margin-left","5px"],[1,"grid","grid-cols-12","gap-4","p-3"],[1,"col-span-12","md:col-span-6",2,"margin-top","-0.75rem"],[3,"studentForm","hasUser","isAddParent"],[1,"col-span-12","md:col-span-6"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"formControl","matMenuTriggerFor","placeholder","keyup.enter"],[1,"absolute","my-auto","inset-y-0","mr-3","right-0","text-slate-500","cursor-pointer",3,"click"],["name","search","size","16"],["listStudentMenu","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content",2,"max-height","200px","overflow-y","auto","width","250px"],[4,"ngIf","ngIfElse"],["doneSearch",""],[1,"text-md","font-medium","flex","items-center","mt-3"],[4,"ngIf"],["class","flex mt-2",4,"ngFor","ngForOf"],[1,"p-3","text-right","border-t","border-slate-200","dark:border-darkmode-400"],["azt-track-service","add-parent-dialog-Yv0rmUIbhV",1,"mr-3","btn","btn-secondary","min-width-100",3,"disabled","click"],["azt-track-service","add-parent-dialog-RJ4JwiS_xG",1,"btn","btn-primary","min-width-100",3,"disabled","click"],[1,"text-center","mt-2"],[1,"w-6","h-6","inline-block"],[1,"p-2","text-center","text-xs"],["azt-track-service","add-parent-dialog-O3q5vOzZp","class","p-2",3,"click",4,"ngFor","ngForOf"],["azt-track-service","add-parent-dialog-O3q5vOzZp",1,"p-2",3,"click"],[3,"name","avatar","gender","phone","email","showPhone","showTooltip"],["role","alert",1,"bg-red-100","mt-2","border","border-red-400","text-red-700","px-4","py-1","rounded","relative"],[1,"block","sm:inline"],[1,"flex","mt-2"],["azt-track-service","add-parent-dialog-CxnSrTyDC_",1,"btn","btn-outline-danger","btn-sm","border-0","shadow-0","mr-2",3,"click"],["name","trash-2","size","18"],[3,"name","avatar","gender","phone","email"]],template:function(i,s){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"azt-mat-dialog-content")(6,"div",3)(7,"div",4)(8,"div",5),t.nrm(9,"azt-form-enter-info-student",6),t.k0s(),t.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"input",10),t.bIt("keyup.enter",function(){return s.searchStudent()}),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"button",11),t.bIt("click",function(){return s.searchStudent()}),t.nrm(16,"lucide-icon",12),t.k0s()(),t.j41(17,"mat-menu",null,13)(19,"div",14)(20,"ul",15),t.DNE(21,tt,4,0,"ng-container",16),t.DNE(22,Pt,2,2,"ng-template",null,17,t.C5r),t.k0s()()()(),t.j41(24,"h3",18),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.DNE(27,wt,5,3,"ng-container",19),t.DNE(28,Rt,4,5,"div",20),t.k0s()()()(),t.j41(29,"div",21)(30,"button",22),t.bIt("click",function(){return s.closeDialog()}),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"button",23),t.bIt("click",function(){return s.saveData()}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()),2&i){const d=t.sdS(18),p=t.sdS(23);t.R7$(3),t.SpI(" ",t.bMT(4,16,"lang_student_utils_add_parent")," "),t.R7$(6),t.Y8G("studentForm",s.studentForm)("hasUser",!1)("isAddParent",!0),t.R7$(4),t.FS9("placeholder",t.bMT(14,18,"lang_auto_nhap_ten_hoac_sdt_hoc_sinh")),t.Y8G("formControl",s.searchStudentControl)("matMenuTriggerFor",d),t.R7$(8),t.Y8G("ngIf",s.isSearching)("ngIfElse",p),t.R7$(4),t.SpI(" ",t.bMT(26,20,"lang_student_utils_parent_childs")," "),t.R7$(2),t.Y8G("ngIf",!s.listStudentChoose.length),t.R7$(1),t.Y8G("ngForOf",s.listStudentChoose),t.R7$(2),t.Y8G("disabled",s.isSaving),t.R7$(1),t.JRh(t.bMT(32,22,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",s.isSaving||s.studentForm.form.invalid||!s.listStudentChoose.length),t.R7$(1),t.JRh(t.bMT(35,24,"lang_button_save"))}},dependencies:[o.Sq,o.bT,E.kk,E.Cp,a.me,a.BC,a.l_,P.U,H.R,C.B,G.s,h.WGl,f.wp]})}return n})();var v=l(74871),Z=l(78888),_=l(18718),y=l(22613),k=l(32099),N=l(96451);function vt(n,u){if(1&n&&(t.j41(0,"div",10),t.nrm(1,"azt-loading-effect",11),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",e.statusObj)}}function se(n,u){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_khong_co_tai_khoan")," "))}const re=function(n){return[n]},le=function(n){return{backTo:n}};function ce(n,u){if(1&n&&(t.qex(0),t.j41(1,"td",29)(2,"a",30),t.nI1(3,"navigationLocalize"),t.nrm(4,"azt-student-info-box",31),t.k0s()(),t.bVm()),2&n){const e=t.XpG().$implicit,i=t.XpG(3);t.R7$(2),t.Y8G("routerLink",t.eq3(11,re,t.bMT(3,9,"/admin/student/profile-student/"+e.classrooms[0].id+"/"+e.classrooms[0].studentId)))("queryParams",t.eq3(13,le,"/business/account-management?page="+i.pageObj.page)),t.R7$(2),t.Y8G("name",e.fullName)("phone",e.phone)("showPhone",!0)("email",e.email)("gender",e.gender)("birthday",e.birthday)("classrooms",e.classrooms)}}function de(n,u){if(1&n&&(t.j41(0,"td",29),t.nrm(1,"azt-student-info-box",31),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("name",e.fullName)("phone",e.phone)("showPhone",!0)("email",e.email)("gender",e.gender)("birthday",e.birthday)("classrooms",e.classrooms)}}function me(n,u){if(1&n){const e=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG(3);return t.Njj(d.editStudentDialog(s))}),t.nrm(1,"lucide-icon",33),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_sua")," "))}function ue(n,u){if(1&n){const e=t.RV6();t.j41(0,"tr"),t.DNE(1,ce,5,15,"ng-container",22),t.DNE(2,de,2,7,"ng-template",null,23,t.C5r),t.j41(4,"td",24),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"td",25)(10,"div",26),t.DNE(11,me,4,3,"button",27),t.j41(12,"button",28),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(3);return t.Njj(p.openDialogResetPass(d))}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()}if(2&n){const e=u.$implicit,i=t.sdS(3);t.R7$(1),t.Y8G("ngIf",e.classrooms&&e.classrooms.length)("ngIfElse",i),t.R7$(4),t.SpI(" ",e.isParent?t.bMT(6,5,"lang_auto_phu_huynh"):null!=e.roles&&e.roles.includes("TEACHER")?t.bMT(7,7,"lang_auto_giao_vien"):t.bMT(8,9,"lang_auto_hoc_sinh")," "),t.R7$(6),t.Y8G("ngIf",e.student&&!(null!=e.roles&&e.roles.includes("TEACHER"))&&(null==e.classrooms?null:e.classrooms.length)||e.isParent),t.R7$(2),t.SpI(" ",t.bMT(14,11,"lang_core_dat_lai_mat_khau")," ")}}function _e(n,u){if(1&n&&(t.j41(0,"div")(1,"div",17)(2,"table",18)(3,"thead")(4,"tr")(5,"th",19),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.nrm(8,"th",20)(9,"th",20),t.k0s()(),t.j41(10,"tbody"),t.DNE(11,ue,15,13,"tr",21),t.k0s()()()()),2&n){const e=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,2,"lang_auto_ho_va_ten")),t.R7$(5),t.Y8G("ngForOf",e.listUser)}}function pe(n,u){if(1&n){const e=t.RV6();t.j41(0,"azt-paging",36),t.bIt("goToPaginationPage",function(s){t.eBV(e);const d=t.XpG(3);return t.Njj(d.setPageStudent(s))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("pageObj",e.pageObj)}}function ge(n,u){if(1&n&&(t.j41(0,"div",34),t.nrm(1,"div"),t.DNE(2,pe,1,1,"azt-paging",35),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngIf",e.totalUser>e.pageObj.pageSize),t.R7$(1),t.Lme(" ",e.totalUser," ",t.bMT(4,3,"lang_student_frontend_fooder_account")," ")}}function he(n,u){if(1&n&&(t.j41(0,"div",12),t.DNE(1,se,3,3,"div",13),t.DNE(2,_e,12,4,"div",14),t.DNE(3,ge,5,5,"div",15),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",0==e.listUser.length&&0==e.totalUser),t.R7$(1),t.Y8G("ngIf",e.totalUser>0),t.R7$(1),t.Y8G("ngIf",e.totalUser>0)}}let fe=(()=>{class n extends O.H{search(e){this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.setPageStudent(1)}setPageStudent(e){this.myNavigationWithQueryString("/business/account-management","?page="+e),this.pageObj.setPageNumber(e),this.getData()}openDialogResetPass(e){this.sAztDialogService.open(v.$,{width:"500px",restoreFocus:!1,data:{id:e.id,name:e.fullName}}).afterClosed().subscribe(i=>{i&&this.getData()})}editStudentDialog(e){let i=Object.assign({},e.student),s=Object.assign({teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]},e.classrooms?.[0]);(e.isParent?this.sAztDialogService.open(Ot,{data:e,restoreFocus:!1,width:"900px"}):this.sAztDialogService.open(lt.B,{data:{studentObj:i,classroomObj:s},restoreFocus:!1,width:"550px"})).afterClosed().subscribe(p=>{p&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:this.pageObj.page,pageSize:this.pageObj.pageSize,textSearch:this.searchContentObj.searchContent}).subscribe({next:i=>{this.listUser=i.data?.objs??[],this.totalUser=i.data?.total??0,this.pageObj.setTotalPages(this.totalUser),this.stopStatusObj(),this.searchContentObj.setLoading(!1)},error:i=>{this.errorStatusObj(i.error.message,!0),this.searchContentObj.setLoading(!1)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_quan_ly_tai_khoan",image:"lang_cms_test_image"}),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),super.ngOnInit(),this.getData()}constructor(e,i){super(),this.sAztDialogService=e,this.domainUsersManagementService=i,this.backLink="/business/dashboard",this.listUser=[],this.totalUser=0,this.searchContentObj=new B.Z,this.pageObj=new nt.d(20)}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(ot.i),t.rXU(Z.Z))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-account-management"]],features:[t.Vt3],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","flex w-full justify-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","w-full","justify-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-2 pb-3",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap",2,"padding-left","0"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["noClick",""],[2,"min-width","120px"],[1,"text-center",2,"min-width","170px"],[1,"flex",2,"align-items","center","justify-content","flex-end"],["azt-track-service","business-account-management-i6OyzMorBB","class","btn btn-sm btn-outline-primary mr-3 w-20",3,"click",4,"ngIf"],["azt-track-service","business-account-management-Vo_M4nrVzj",1,"btn","btn-primary","btn-sm","shadow-md","w-full","w-32","whitespace-nowrap",3,"click"],[1,"!py-3.5","clickable","w-full"],["azt-track-service","business-account-management-5jFBgY7hz",3,"routerLink","queryParams"],[3,"name","phone","showPhone","email","gender","birthday","classrooms"],["azt-track-service","business-account-management-i6OyzMorBB",1,"btn","btn-sm","btn-outline-primary","mr-3","w-20",3,"click"],["name","square-pen","size","16",1,"mr-1"],[1,"flex","justify-between","items-center","mt-2","pb-3"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[3,"pageObj","goToPaginationPage"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(p){return s.search(p.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()()()(),t.DNE(11,vt,2,1,"div",8),t.DNE(12,he,4,3,"ng-template",null,9,t.C5r),t.k0s()()),2&i){const d=t.sdS(13);t.Y8G("headerBackToLink",s.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,7,"lang_core_quan_ly_tai_khoan")," "),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",s.searchContentObj),t.R7$(2),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[I.Wk,o.Sq,o.bT,_.K,y.q,k.W,C.B,N.Q,h.WGl,f.F2,f.wp],encapsulation:2})}return n})();function be(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function ve(n,u){1&n&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_active_subscription")))}function xe(n,u){1&n&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_inactive_subscription")))}function Ce(n,u){if(1&n&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.nI1(4,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"formatMoney"),t.nI1(14,"mytranslate"),t.k0s()(),t.bVm()),2&n){const e=u.$implicit;t.R7$(3),t.JRh(t.bMT(4,4,e.createdAt)),t.R7$(3),t.JRh(t.bMT(7,6,e.endDate)),t.R7$(3),t.JRh(t.bMT(10,8,e.packageName)),t.R7$(3),t.JRh(t.bMT(13,10,e.packageMoney)+" "+t.bMT(14,12,"lang_auto_vnd_upper"))}}const ke=function(n){return{"text-danger":n}};function Ie(n,u){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div")(2,"b"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.EFF(5),t.nI1(6,"mytranslate"),t.DNE(7,ve,3,3,"span",7),t.DNE(8,xe,3,3,"span",8),t.EFF(9," ) "),t.j41(10,"button",9),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.extendPackage())}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",10),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.upgradePackage())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",11)(17,"b"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.EFF(20),t.nI1(21,"formatFullDateTimeByUserUnitPipe"),t.j41(22,"b"),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.EFF(25),t.nI1(26,"formatFullDateTimeByUserUnitPipe"),t.j41(27,"span",12),t.EFF(28),t.nI1(29,"mytranslate"),t.nI1(30,"mytranslate"),t.k0s()(),t.nrm(31,"hr",13),t.j41(32,"div")(33,"b"),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"table",14)(37,"thead")(38,"tr",15)(39,"td"),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s(),t.j41(42,"td"),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.j41(45,"td"),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"td"),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()(),t.j41(51,"tbody"),t.DNE(52,Ce,15,14,"ng-container",16),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG(2);t.R7$(3),t.SpI("",t.bMT(4,21,"lang_business_config_billing_current_subscription_package"),":"),t.R7$(2),t.SpI(" ",t.bMT(6,23,null==e.subscriptionObj.businessPackage?null:e.subscriptionObj.businessPackage.name)," ( "),t.R7$(2),t.Y8G("ngIf",e.isActiveSubscription),t.R7$(1),t.Y8G("ngIf",!e.isActiveSubscription),t.R7$(3),t.JRh(t.bMT(12,25,"lang_business_config_billing_extend_package")),t.R7$(3),t.JRh(t.bMT(15,27,"lang_business_config_billing_upgrade_package")),t.R7$(4),t.SpI("",t.bMT(19,29,"lang_business_config_billing_start_time"),":"),t.R7$(2),t.SpI(" ",t.bMT(21,31,e.subscriptionObj.startTime),"\xa0\xa0 "),t.R7$(3),t.SpI("",t.bMT(24,33,"lang_business_config_billing_end_time_subscription"),":"),t.R7$(2),t.SpI(" ",t.bMT(26,35,e.subscriptionObj.endTime)," ( "),t.R7$(2),t.Y8G("ngClass",t.eq3(51,ke,e.subscriptionTimeDtoObj.days<10)),t.R7$(1),t.LHq("",e.subscriptionTimeDtoObj.days," ",t.bMT(29,37,"lang_auto_day"),", ",e.subscriptionTimeDtoObj.hours," ",t.bMT(30,39,"lang_auto_clock"),")"),t.R7$(6),t.JRh(t.bMT(35,41,"lang_business_config_billing_history_list")),t.R7$(6),t.JRh(t.bMT(41,43,"lang_business_config_billing_history_start_date")),t.R7$(3),t.JRh(t.bMT(44,45,"lang_business_config_billing_history_end_date")),t.R7$(3),t.JRh(t.bMT(47,47,"lang_business_config_billing_history_package_name")),t.R7$(3),t.JRh(t.bMT(50,49,"lang_business_config_billing_history_package_price")),t.R7$(3),t.Y8G("ngForOf",e.subscriptionObj.subscriptionHistories)}}function ye(n,u){1&n&&(t.EFF(0),t.nI1(1,"mytranslate")),2&n&&t.SpI(" ",t.bMT(1,1,"lang_business_config_billing_there_is_no_subscription")," ")}function Oe(n,u){if(1&n&&(t.j41(0,"div",3)(1,"div",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div"),t.DNE(5,Ie,53,53,"ng-container",5),t.DNE(6,ye,2,3,"ng-template",null,6,t.C5r),t.k0s()()),2&n){const e=t.sdS(7),i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_business_config_billing_title")," "),t.R7$(3),t.Y8G("ngIf",i.subscriptionObj)("ngIfElse",e)}}let je=(()=>{class n extends O.H{extendPackage(){this.myNavigation("/auth/business-packages/extend_package/0/0")}upgradePackage(){this.myNavigation("/auth/business-packages/upgrade_package/0/0")}initData(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesMeGet().subscribe(e=>{e.success?(this.subscriptionObj=e.data?.obj,this.subscriptionTimeDtoObj=this.sAztTimeService.getDayHourMinuteOfSubtract(this.subscriptionObj?.endTime),(this.subscriptionTimeDtoObj.days<0||this.subscriptionTimeDtoObj.hours<0||this.subscriptionTimeDtoObj.minutes<0)&&(this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!1),this.stopStatusObj()):this.errorStatusObj(e.message,!0)}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(e,i){super(),this.businessPackageService=e,this.sAztTimeService=i,this.subscriptionObj=void 0,this.subscriptionHistories=[],this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!0}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(_t.WC),t.rXU(Y.F))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-business-billing-configs"]],features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"config-business-billing"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[4,"ngIf","ngIfElse"],["notFoundSubscription",""],["class","text-success",4,"ngIf"],["class","text-dagner",4,"ngIf"],[1,"btn","btn-pending","mr-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"pt-3"],[3,"ngClass"],[1,"mt-6","mb-6"],[1,"table","table-bordered","mt-3"],[1,"table-header"],[4,"ngFor","ngForOf"],[1,"text-success"],[1,"text-dagner"]],template:function(i,s){if(1&i&&(t.DNE(0,be,1,1,"azt-loading-effect",0),t.DNE(1,Oe,8,5,"ng-template",null,1,t.C5r)),2&i){const d=t.sdS(2);t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[o.YU,o.Sq,o.bT,_.K,f.wp,f.Rr,f.t0],encapsulation:2})}return n})();var jt=l(39712);let Fe=(()=>{class n extends et._{confirmDelete(){this.btnCloseDialog(!0)}btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,i){super(i,e),this.dialogRef=e,this.data=i}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(r.CP,8),t.rXU(r.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-confirm-delete-logo"]],features:[t.Vt3],decls:14,vars:9,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"click"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()(),t.j41(7,"div",4)(8,"button",5),t.bIt("click",function(){return s.btnCloseDialog(!1)}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"button",6),t.bIt("click",function(){return s.confirmDelete()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()),2&i&&(t.R7$(5),t.SpI(" ",t.bMT(6,3,"lang_business_config_are_your_sure_to_delete_this_logo")," "),t.R7$(4),t.SpI(" ",t.bMT(10,5,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(13,7,"lang_cms_common_confirm_btn")," "))},dependencies:[P.U,f.wp],encapsulation:2})}return n})();var Vt=l(20013);function Te(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Me(n,u){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1," | "),t.j41(2,"span",13),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.deleteLogo("bigLogo"))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_button_delete")))}function Se(n,u){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1," | "),t.j41(2,"span",13),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.deleteLogo("smallLogo"))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_button_delete")))}function De(n,u){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1," | "),t.j41(2,"span",13),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.deleteLogo("favicon"))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_button_delete")))}const zt=function(n){return[n]};function Ee(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"div",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div")(5,"div")(6,"div"),t.EFF(7),t.nI1(8,"mytranslate"),t.j41(9,"span",5)(10,"azt-upload-single-box",6),t.bIt("uploadComplete",function(s){t.eBV(e);const d=t.XpG();return t.Njj(d.uploadNewLogo("bigLogo",s))}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.DNE(13,Me,5,3,"span",7),t.k0s(),t.j41(14,"div",8),t.nrm(15,"img",9),t.nI1(16,"getSystemDefaultLogo"),t.k0s()(),t.j41(17,"div",10)(18,"div"),t.EFF(19),t.nI1(20,"mytranslate"),t.j41(21,"span",5)(22,"azt-upload-single-box",6),t.bIt("uploadComplete",function(s){t.eBV(e);const d=t.XpG();return t.Njj(d.uploadNewLogo("smallLogo",s))}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.DNE(25,Se,5,3,"span",7),t.k0s(),t.j41(26,"div",11),t.nrm(27,"img",9),t.nI1(28,"getSystemDefaultLogo"),t.k0s()(),t.j41(29,"div",10)(30,"div"),t.EFF(31),t.nI1(32,"mytranslate"),t.j41(33,"span",5)(34,"azt-upload-single-box",6),t.bIt("uploadComplete",function(s){t.eBV(e);const d=t.XpG();return t.Njj(d.uploadNewLogo("favicon",s))}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s()(),t.DNE(37,De,5,3,"span",7),t.k0s(),t.j41(38,"div",12),t.nrm(39,"img",9),t.nI1(40,"getSystemDefaultLogo"),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,22,"lang_business_config_logo_title")," "),t.R7$(5),t.SpI(" ",t.bMT(8,24,"lang_business_config_big_logo_title")," (95 x 28 pixel) | "),t.R7$(3),t.Y8G("uploadToCdnMenu",e.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(42,zt,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(1),t.SpI(" ",t.bMT(12,26,"lang_business_config_upload_new_logo")," "),t.R7$(2),t.Y8G("ngIf",null==e.domainConfigObj?null:e.domainConfigObj.bigLogo),t.R7$(2),t.Y8G("src",e.domainConfigObj.bigLogo||t.bMT(16,28,"bigLogo"),t.B4B),t.R7$(4),t.SpI(" ",t.bMT(20,30,"lang_business_config_small_logo_title")," (40 x 40 pixel) | "),t.R7$(3),t.Y8G("uploadToCdnMenu",e.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(44,zt,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(1),t.SpI(" ",t.bMT(24,32,"lang_business_config_upload_new_logo")," "),t.R7$(2),t.Y8G("ngIf",null==e.domainConfigObj?null:e.domainConfigObj.smallLogo),t.R7$(2),t.Y8G("src",e.domainConfigObj.smallLogo||t.bMT(28,34,"smallLogo"),t.B4B),t.R7$(4),t.SpI(" ",t.bMT(32,36,"lang_business_config_favicon_title")," (16 x 16 pixel) | "),t.R7$(3),t.Y8G("uploadToCdnMenu",e.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(46,zt,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(1),t.SpI(" ",t.bMT(36,38,"lang_business_config_upload_new_logo")," "),t.R7$(2),t.Y8G("ngIf",null==e.domainConfigObj?null:e.domainConfigObj.favicon),t.R7$(2),t.Y8G("src",e.domainConfigObj.favicon||t.bMT(40,40,"favicon"),t.B4B)}}let Pe=(()=>{class n extends O.H{deleteLogo(e){this.sAztDialogService.open(Fe,{restoreFocus:!1,width:"550px"}).afterClosed().subscribe(s=>{s&&("smallLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=void 0),"bigLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=void 0),"favicon"==e&&this.domainConfigObj&&(this.domainConfigObj.favicon=void 0),this.saveConfigObj())})}uploadNewLogo(e,i){"smallLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=i.url),"bigLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=i.url),"favicon"==e&&this.domainConfigObj&&(this.domainConfigObj.favicon=i.url),this.saveConfigObj()}saveConfigObj(){this.initStatusObj();let e={...this.domainConfigObj};this.waitDestroy(this.domainConfigService.apiDomainConfigsPost(e).subscribe(i=>{i.success?this.stopStatusObj():this.errorStatusObj(i.message,!0)}))}initData(){this.initStatusObj(),this.waitDestroy(this.domainConfigService.apiDomainConfigsGet().subscribe(e=>{e.success&&e.data?.obj?(this.domainConfigObj=e.data.obj,this.stopStatusObj()):this.errorStatusObj(e.message,!0)}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(e,i){super(),this.domainConfigService=e,this.sAztDialogService=i,this.allUploadToCdnMenuTypes=jt.b8,this.allUploadFileTypes=jt.PO}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(_t.K1),t.rXU(ot.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-business-logo-configs"]],features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"config-business-logo"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[1,"clickable","link-color"],[1,"inline-block",3,"uploadToCdnMenu","fileType","allowCompressImage","uploadComplete"],[4,"ngIf"],[1,"box","p-2",2,"width","95px","height","9 28px","overflow","hidden"],["width","100%","height","100%",3,"src"],[1,"pt-3"],[1,"box","bg-blue-800","p-2",2,"width","40px","height","40px","overflow","hidden"],[1,"box","p-2",2,"width","32px","height","32px","overflow","hidden"],[1,"clickable","text-danger",3,"click"]],template:function(i,s){if(1&i&&(t.DNE(0,Te,1,1,"azt-loading-effect",0),t.DNE(1,Ee,41,48,"ng-template",null,1,t.C5r)),2&i){const d=t.sdS(2);t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[o.bT,_.K,Vt.T,f.wp,f.Vo],encapsulation:2})}return n})(),we=(()=>{class n extends O.H{ngOnInit(){this.commonService.translateMetaData({title:"lang_business_config_title",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(){super()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-business-configs"]],features:[t.Vt3],decls:12,vars:1,consts:[[3,"headerBackToLink"],[1,"azt-config-business-domain","mx-auto","mt-5",2,"max-width","1150px"],[1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12"],[1,"setting-advanced","mt-5"],[1,"box","p-5","mt-3"],[1,"p-0"]],template:function(i,s){1&i&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"app-business-billing-configs"),t.k0s()()(),t.j41(8,"div",4)(9,"div",5)(10,"div",6),t.nrm(11,"app-business-logo-configs"),t.k0s()()()()()()()),2&i&&t.Y8G("headerBackToLink","/business/dashboard")},dependencies:[N.Q,je,Pe],encapsulation:2})}return n})();var ut=l(76627),Ft=l(47947),Tt=l(17178);class Mt{static tuitionFeeValidator(u){const e=u;return e?!e.value||Mt.validateTuitionFee(e.value)?(e.setErrors(null),null):(e.setErrors({wrongFormatTuitionFee:!0}),{wrongFormatTuitionFee:!0,identityRevealed:!0}):null}static validateTuitionFee(u){return u.match(/^\d{1,3}(\.\d{3})*$/)}}var St=l(15766),st=l(73202),xt=l(93518),At=l(51770),$t=l(20309),Xt=l(12787),Jt=l(59518),kt=l(65728),Re=l(11002),Wt=l(74960),Kt=l(4375),It=l(81587);function ze(n,u){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_chuong_trinh"),""))}function Ae(n,u){if(1&n&&(t.j41(0,"mat-option",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=u.$implicit;t.Y8G("value",null==e.schoolLevel?null:e.schoolLevel.id),t.R7$(1),t.SpI(" ",t.bMT(2,2,null==e.schoolLevel?null:e.schoolLevel.key)," ")}}function $e(n,u){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_khoi_hoc"),""))}function Ge(n,u){if(1&n&&(t.j41(0,"mat-option",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=u.$implicit;t.Y8G("value",e.id)("hidden",43==e.id),t.R7$(1),t.SpI(" ",t.bMT(2,3,e.key)," ")}}function Ne(n,u){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_mon_hoc"),""))}let Ht=(()=>{class n extends O.H{setListSubject(){let e=this.schoolAndLevelObjs.schoolLevelSubjectObjs.find(i=>this.form.controls.schoolLevelId.value==i.schoolLevel?.id);this.listSchoolSubjectObjs=e?.schoolSubjectObjs??[],this.form.controls.schoolSubjectId.setValue(this.listSchoolSubjectObjs.find(i=>i.id==this.form.controls.schoolSubjectId.value)?.id??0)}setValueAmount(){var e=this.commonService.formatMoney(this.form.controls.tuition.value??""),i=this.getPositionCaret()+(e.length-this.form.controls.tuition.value.length);this.form.controls.tuition.setValue(e),this.goToPositionCaret(i)}getPositionCaret(){try{return document.getElementById("tuition").selectionEnd??0}catch{return 0}}goToPositionCaret(e){try{document.getElementById("tuition").setSelectionRange(e,e)}catch{}}initData(){this.form.patchValue({educationalProgramName:this.educationalProgramObj?.name??"",schoolLevelId:this.educationalProgramObj?.schoolLevelId??0,schoolSubjectId:this.educationalProgramObj?.schoolSubjectId??0,tuition:(this.educationalProgramObj?.fee??0)>0?this.educationalProgramObj?.fee?.toString():"0",description:this.educationalProgramObj?.description??""}),this.setListSubject(),(this.educationalProgramObj?.fee?.toString().length??0)>3&&this.setValueAmount()}ngOnInit(){super.ngOnInit(),this.form=this.programForm.controls.generalFormGroup,this.avoidWarningError(()=>{this.initData()})}constructor(){super(),this.listSchoolSubjectObjs=[]}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-general-info-form"]],inputs:{programForm:"programForm",schoolAndLevelObjs:"schoolAndLevelObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:37,vars:33,consts:[[3,"formGroup"],[1,"mt-1"],["for","educationalProgramName",1,"form-label","font-medium","text-sm"],["id","educationalProgramName","formControlName","educationalProgramName","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-2"],["for","schoolLevelId",1,"form-label","font-medium","text-sm"],["appearance","outline"],["formControlName","schoolLevelId",3,"selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubjectId",1,"form-label","font-medium","text-sm"],["formControlName","schoolSubjectId"],[3,"value","hidden",4,"ngFor","ngForOf"],["for","description",1,"form-label","font-medium","text-sm"],["formControlName","description",1,"description",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],[3,"value","hidden"]],template:function(i,s){1&i&&(t.j41(0,"form",0)(1,"div",0)(2,"div",1)(3,"label",2),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.nrm(6,"input",3),t.nI1(7,"mytranslate"),t.DNE(8,ze,3,3,"div",4),t.k0s(),t.j41(9,"div",5)(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"mat-form-field",7)(14,"mat-select",8),t.bIt("selectionChange",function(){return s.setListSubject()}),t.j41(15,"mat-option",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.DNE(18,Ae,3,4,"mat-option",10),t.k0s()(),t.DNE(19,$e,3,3,"div",4),t.k0s(),t.j41(20,"div",5)(21,"label",11),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"mat-form-field",7)(25,"mat-select",12)(26,"mat-option",9),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,Ge,3,5,"mat-option",13),t.k0s()(),t.DNE(30,Ne,3,3,"div",4),t.k0s(),t.j41(31,"div",5)(32,"label",14),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s(),t.nrm(35,"textarea",15),t.nI1(36,"mytranslate"),t.k0s()()()),2&i&&(t.Y8G("formGroup",s.programForm),t.R7$(1),t.Y8G("formGroup",s.form),t.R7$(3),t.SpI(" ",t.bMT(5,17,"lang_core_ten_chuong_trinh")," "),t.R7$(2),t.FS9("placeholder",t.bMT(7,19,"lang_core_nhap_ten_chuong_trinh")+" ..."),t.R7$(2),t.Y8G("ngIf",s.form.controls.educationalProgramName.errors),t.R7$(3),t.SpI(" ",t.bMT(12,21,"lang_auto_khoi_hoc")," "),t.R7$(4),t.Y8G("value",0),t.R7$(1),t.SpI("---",t.bMT(17,23,"lang_auto_chon_khoi"),""),t.R7$(2),t.Y8G("ngForOf",null==s.schoolAndLevelObjs?null:s.schoolAndLevelObjs.schoolLevelSubjectObjs),t.R7$(1),t.Y8G("ngIf",s.form.controls.schoolLevelId.errors),t.R7$(3),t.SpI(" ",t.bMT(23,25,"lang_auto_mon_hoc")," "),t.R7$(4),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(28,27,"lang_auto_---chon_mon")," "),t.R7$(2),t.Y8G("ngForOf",s.listSchoolSubjectObjs),t.R7$(1),t.Y8G("ngIf",s.form.controls.schoolSubjectId.errors),t.R7$(3),t.SpI(" ",t.bMT(34,29,"lang_auto_mo_ta")," "),t.R7$(2),t.FS9("placeholder",t.bMT(36,31,"lang_auto_nhap_noi_dung")))},dependencies:[o.Sq,o.bT,W.wT,Wt.rl,Kt.VO,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,It.t,f.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();var Dt=l(53043),Gt=l(40111),Nt=l(91584),Zt=l(23750);function Le(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",6)(1,"azt-document-type-file",7),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG();return t.Njj(d.previewDocumentFileDialog(s))}),t.k0s(),t.j41(2,"div",8),t.qSk(),t.j41(3,"svg",9),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG();return t.Njj(d.removeObj(s))}),t.nrm(4,"path",10)(5,"path",11),t.k0s()()()}if(2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("type",e.documentType)("name",e.name)("url",e.link)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("customClass","w-4 h-4")("textWidth","90%")}}function Be(n,u){if(1&n&&(t.j41(0,"div"),t.DNE(1,Le,6,8,"div",5),t.k0s()),2&n){const e=u.$implicit;t.R7$(1),t.Y8G("ngIf",!e.willRemove)}}let Ue=(()=>{class n extends O.H{uploadFileEmitted(e){this.listDocumentObjs.push({id:this.commonService.getVirtualIdWithoutInList(!0,this.listDocumentObjs.map(i=>i.id)),name:e.name??"",link:e.link??"",type:e.type??"",documentType:this.commonService.getEnumTypeWithDefault(st.d,e.type??"",st.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(xt.k,e.groupType??"",xt.k.unknown),willRemove:!1}),this.listDocumentObjsChange.emit(this.listDocumentObjs)}removeObj(e){this.listDocumentObjs.map(i=>i.willRemove=i.id==e.id||i.willRemove),this.listDocumentObjsChange.emit(this.listDocumentObjs)}previewDocumentFileDialog(e){const i={name:e.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.type),type:e.type,url:e.link};this.sAztDialogService.open(Dt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...i,index:0},showDownloadIcon:!1},restoreFocus:!1})}ngOnInit(){super.ngOnInit()}constructor(e,i){super(),this.sAztDialogService=e,this.sAztFileTypeService=i,this.listDocumentObjsChange=new t.bkB}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(ot.i),t.rXU(Gt.k))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-document-form"]],inputs:{listDocumentObjs:"listDocumentObjs"},outputs:{listDocumentObjsChange:"listDocumentObjsChange"},features:[t.Vt3],decls:7,vars:5,consts:[[1,"mt-2","flex","justify-between"],["for","description",1,"text-sm","mb-1","items-center","font-medium"],[1,"flex","justify-end","btn-add-document"],[3,"isBtn","emitFileDocument"],[4,"ngFor","ngForOf"],["class","items-center mb-2 relative",4,"ngIf"],[1,"items-center","mb-2","relative"],[1,"clickable",3,"type","name","url","showBorder","onlyOneLine","iconVerticalStyle","customClass","textWidth","click"],[1,"flex","absolute","right-0",2,"width","13px","height","13px","top","3px"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-1",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2)(5,"app-upload-document-for-session",3),t.bIt("emitFileDocument",function(p){return s.uploadFileEmitted(p)}),t.k0s()()(),t.DNE(6,Be,2,1,"div",4)),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_testbank_document_list_header_title")," "),t.R7$(3),t.Y8G("isBtn",!1),t.R7$(1),t.Y8G("ngForOf",s.listDocumentObjs))},dependencies:[o.Sq,o.bT,Nt.m,Zt.J,f.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();function Ye(n,u){1&n&&(t.j41(0,"small",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_sach"),""))}const Ve=function(n){return[n]};function Xe(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"azt-upload-single-box",9),t.bIt("uploadComplete",function(s){const p=t.eBV(e).$implicit,V=t.XpG();return t.Njj(V.handleUploadComplete(s,p))}),t.j41(4,"div")(5,"div",10),t.nrm(6,"img",11),t.nI1(7,"convertCdnLinkOfGitHub"),t.nI1(8,"mycdn"),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",12)(11,"div"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()(),t.j41(14,"div",13),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.previewBookImageDialog(d))}),t.EFF(15),t.nI1(16,"mytranslate"),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",14),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.removeBookForm(d))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div",15),t.nrm(22,"input",16),t.nI1(23,"mytranslate"),t.nrm(24,"textarea",17),t.nI1(25,"mytranslate"),t.DNE(26,Ye,3,3,"small",18),t.k0s()()}if(2&n){const e=u.$implicit,i=t.XpG();t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(3),t.Y8G("uploadToCdnMenu",i.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",t.eq3(36,Ve,i.allUploadFileTypes.IMAGE))("limitSize",i.limitSize),t.R7$(3),t.FS9("src",""==e.controls.iconLink.value?t.bMT(7,18,"images/business-book.svg"):t.bMT(8,20,e.controls.iconLink.value),t.B4B),t.FS9("alt",t.bMT(9,22,"lang_core_anh_sach")),t.R7$(4),t.Y8G("ngClass",""==e.controls.iconLink.value?"":"btn-edit-image"),t.R7$(2),t.SpI(" ",t.bMT(13,24,""==e.controls.iconLink.value?"lang_core_them_anh":"lang_auto_tai_len")," "),t.R7$(2),t.Y8G("hidden",""==e.controls.iconLink.value),t.R7$(1),t.Lme(" ",t.bMT(16,26,"lang_test_market_view_question")," ",t.bMT(17,28,"lang_testbank_update_exam_image")," "),t.R7$(4),t.SpI(" ",t.bMT(20,30,"lang_button_delete")," "),t.R7$(3),t.FS9("placeholder",t.bMT(23,32,"lang_core_ten_sach")),t.Y8G("value",e.controls.name.value),t.R7$(2),t.FS9("placeholder",t.bMT(25,34,"lang_auto_mo_ta")),t.Y8G("value",e.controls.description.value),t.R7$(2),t.Y8G("ngIf",e.controls.name.invalid)}}let Je=(()=>{class n extends O.H{previewBookImageDialog(e){this.sAztDialogService.open(Dt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:e.controls.name.value,mimes:"image/jpeg",url:e.controls.iconLink.value,index:-1}},restoreFocus:!1})}handleUploadComplete(e,i){i.controls.iconLink.setValue(e.url??"")}removeBookForm(e){e.patchValue({willRemove:!0,name:"empty"}),this.bookFormArray.controls.map(i=>i.controls.id.value==e.controls.id.value?e:i),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}addMoreBookForm(){this.bookFormArray.push(new a.gE({id:new a.MJ(this.commonService.getVirtualIdWithoutInList(!0,this.bookFormArray.getRawValue().map(e=>e.id)),{nonNullable:!0,validators:[a.k0.required]}),name:new a.MJ("",{nonNullable:!0,validators:[a.k0.required,St.M.noWhiteSpace]}),description:new a.MJ("",{nonNullable:!0}),iconLink:new a.MJ("",{nonNullable:!0}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})})),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}initFormArray(){this.bookFormArray.clear(),this.bookObjs.forEach(e=>{this.bookFormArray.push(new a.gE({id:new a.MJ(e.id,{nonNullable:!0,validators:[a.k0.required]}),name:new a.MJ(e.name,{nonNullable:!0,validators:[a.k0.required,St.M.noWhiteSpace]}),description:new a.MJ(e.description??"",{nonNullable:!0}),iconLink:new a.MJ(e.iconLink??"",{nonNullable:!0}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})}))})}ngOnInit(){super.ngOnInit(),this.bookFormArray=this.programForm.controls.bookFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(e){super(),this.sAztDialogService=e,this.allUploadToCdnMenuTypes=jt.b8,this.allUploadFileTypes=jt.PO,this.limitSize=5}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(ot.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-book-form"]],inputs:{programForm:"programForm",bookObjs:"bookObjs"},features:[t.Vt3],decls:11,vars:11,consts:[[1,"mt-3","flex","justify-between"],["for","description",1,"form-label","font-medium","text-sm"],["azt-track-service","add-or-edit-educational-program--eJ6MP8NK",1,"btn-add-document","text-sm","clickable",3,"click"],[3,"formGroup"],["formArrayName","bookFormArray"],["class","flex mt-2 box-book",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","mt-2","box-book",3,"formGroup","hidden"],[1,"pb-1"],[1,"box-image"],[3,"uploadToCdnMenu","fileType","limitSize","uploadComplete"],[1,"flex",2,"height","87px"],["id","blah",3,"src","alt"],["azt-track-service","add-or-edit-educational-program-ySondJc2qe",1,"add-image-label","clickable",2,"margin-bottom","10px",3,"ngClass"],["azt-track-service","add-or-edit-educational-program-4lu0PqnQg",1,"btn-edit-image","add-image-label","clickable",3,"hidden","click"],["azt-track-service","add-or-edit-educational-program-TGWpE3kwi6",1,"btn","btn-danger",3,"click"],[1,"ml-3",2,"width","100%"],["type","text","formControlName","name",1,"form-control","input-name-book","mb-1",3,"placeholder","value"],["formControlName","description",1,"form-control","textarea-description",3,"placeholder","value"],["class","text-danger text-left mt-1",4,"ngIf"],[1,"text-danger","text-left","mt-1"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2),t.bIt("click",function(){return s.addMoreBookForm()}),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"form",3)(9,"div",4),t.DNE(10,Xe,27,38,"div",5),t.k0s()()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_core_sach")," "),t.R7$(3),t.Lme("+ ",t.bMT(6,7,"lang_button_add")," ",t.bMT(7,9,"lang_core_sach"),""),t.R7$(3),t.Y8G("formGroup",s.programForm),t.R7$(2),t.Y8G("ngForOf",s.bookFormArray.controls))},dependencies:[o.YU,o.Sq,o.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.v8,It.t,Vt.T,f.wp,f.nf,f.gt],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();var We=l(50589),Ke=l(51113),yt=l(47712),He=l(69135);function Ze(n,u){if(1&n){const e=t.RV6();t.qSk(),t.j41(0,"svg",22),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG();return t.Njj(d.removeSessionForm(s))}),t.nrm(1,"path",23)(2,"path",24),t.k0s()}}function Qe(n,u){1&n&&(t.j41(0,"div",25)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function qe(n,u){if(1&n){const e=t.RV6();t.qSk(),t.j41(0,"svg",31),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG().$implicit,p=t.XpG();return t.Njj(p.removeDescriptionForm(d,s))}),t.nrm(1,"path",23)(2,"path",24),t.k0s()}}function tn(n,u){1&n&&(t.j41(0,"div",32)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function en(n,u){if(1&n&&(t.j41(0,"div",26)(1,"div",27),t.nrm(2,"input",28),t.nI1(3,"mytranslate"),t.DNE(4,qe,3,0,"svg",29),t.k0s(),t.DNE(5,tn,4,3,"div",30),t.k0s()),2&n){const e=u.$implicit,i=t.XpG().$implicit;t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(1),t.Mz_("id","description-conten-session-",e.controls.id.value,""),t.R7$(1),t.FS9("placeholder",t.bMT(3,6,"lang_core_nhap_noi_dung_buoi_hoc")),t.R7$(2),t.Y8G("ngIf",i.controls.totalDescriptionNotDeleted.value>1),t.R7$(1),t.Y8G("ngIf",e.controls.content.errors)}}function nn(n,u){1&n&&(t.qex(0),t.j41(1,"div",43),t.nrm(2,"img",44),t.nI1(3,"convertCdnLinkOfGitHub"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.Y8G("src",t.bMT(3,1,"images/type_file/unknown-file.svg"),t.B4B))}function on(n,u){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",45),t.bVm())}function an(n,u){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",46),t.bVm())}const sn=function(n){return[n]},rn=function(n){return{backto:n}};function ln(n,u){if(1&n&&(t.j41(0,"div",34)(1,"a",35),t.nI1(2,"navigationLocalize"),t.j41(3,"div",36)(4,"div",37),t.DNE(5,nn,4,3,"ng-container",38),t.DNE(6,on,2,0,"ng-container",38),t.DNE(7,an,2,0,"ng-container",38),t.k0s(),t.j41(8,"div",39)(9,"div",40)(10,"span",41,42),t.EFF(12),t.k0s()()()()()()),2&n){const e=t.sdS(11),i=t.XpG().$implicit,s=t.XpG(2);t.R7$(1),t.Y8G("routerLink",t.eq3(11,sn,t.bMT(2,9,i.controls.type.value==s.allDocumentTypes.exam?"/admin/testbank/exam-results-list/0/"+(null==i.controls.refId?null:i.controls.refId.value)+"/0":"/admin/testbank/homework-results-list/0/"+i.controls.id.value+"/0")))("queryParams",t.eq3(13,rn,s.currentUrl)),t.R7$(4),t.Y8G("ngIf",!i.controls.type.value),t.R7$(1),t.Y8G("ngIf",i.controls.type.value==s.allDocumentTypes.exam),t.R7$(1),t.Y8G("ngIf",i.controls.type.value==s.allDocumentTypes.homework),t.R7$(3),t.FS9("matTooltip",i.controls.name.value),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.R7$(2),t.SpI(" ",i.controls.name.value," ")}}function cn(n,u){if(1&n&&(t.j41(0,"div",26),t.DNE(1,ln,13,15,"div",33),t.k0s()),2&n){const e=u.$implicit,i=t.XpG(2);t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(1),t.Y8G("ngIf",e.controls.type.value===i.allDocumentTypes.exam||e.controls.type.value===i.allDocumentTypes.homework)}}function dn(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",34)(1,"azt-document-type-file",47),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG(2);return t.Njj(d.previewDocumentFileDialog(s))}),t.k0s(),t.j41(2,"div",48),t.qSk(),t.j41(3,"svg",49),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG().$implicit,p=t.XpG();return t.Njj(p.removeDocumentForm(d,s))}),t.nrm(4,"path",23)(5,"path",24),t.k0s()()()}if(2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("type",e.controls.documentType.value)("name",e.controls.name.value)("url",e.controls.link.value)("showBorder",!1)("iconVerticalStyle","baseline")("customClass","w-4 h-4 image-fit")("textWidth","100%")}}function mn(n,u){if(1&n&&(t.j41(0,"div",26),t.DNE(1,dn,6,7,"div",33),t.k0s()),2&n){const e=u.$implicit,i=t.XpG(2);t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(1),t.Y8G("ngIf",e.controls.type.value!==i.allDocumentTypes.exam&&e.controls.type.value!==i.allDocumentTypes.homework)}}function un(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"h3",7),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Ze,3,0,"svg",8),t.k0s(),t.DNE(6,Qe,4,3,"div",9),t.DNE(7,en,6,8,"div",10),t.j41(8,"div",11)(9,"div",12)(10,"span",13),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.addMoreDescriptionForm(d))}),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"div",14)(15,"div",15)(16,"span",16),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",17),t.DNE(20,cn,2,3,"div",10),t.j41(21,"div",18)(22,"a",19),t.bIt("click",function(){const d=t.eBV(e).index,p=t.XpG();return t.Njj(p.redirectToCreateNewDocument(d))}),t.j41(23,"span",20),t.EFF(24,"+"),t.k0s(),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()(),t.j41(27,"div",14)(28,"div",15)(29,"span",16),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()(),t.j41(32,"div",17),t.DNE(33,mn,2,3,"div",10),t.j41(34,"div",18)(35,"app-upload-document-for-session",21),t.bIt("emitFileDocument",function(s){const p=t.eBV(e).$implicit,V=t.XpG();return t.Njj(V.uploadFileEmitted(s,p))}),t.j41(36,"span"),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s()()()()()()}if(2&n){const e=u.$implicit,i=t.XpG();t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(3),t.Lme("",t.bMT(4,19,"lang_core_buoi")," ",e.controls.session.value,""),t.R7$(2),t.Y8G("ngIf",i.programForm.controls.totalSessionNotDeleted.value>1),t.R7$(1),t.Y8G("ngIf",e.controls.totalDescriptionNotDeleted.value<=0),t.R7$(1),t.Y8G("ngForOf",e.controls.descriptionObjs.controls),t.R7$(4),t.Lme(" + ",t.bMT(12,21,"lang_button_add")," ",t.bMT(13,23,"lang_auto_noi_dung").toLowerCase()," "),t.R7$(6),t.JRh(t.bMT(18,25,"lang_cms_auto_gen_test_exam_title")),t.R7$(3),t.Y8G("ngForOf",e.controls.documentObjs.controls),t.R7$(2),t.HbH("btn btn-transparent w-48 block font-weight-400"),t.R7$(3),t.SpI(" ",t.bMT(26,27,"lang_business_assign_exams")," "),t.R7$(5),t.JRh(t.bMT(31,29,"lang_testbank_document_list_header_title")),t.R7$(3),t.Y8G("ngForOf",e.controls.documentObjs.controls),t.R7$(2),t.Y8G("isBtn",!0)("customClass"," font-weight-400"),t.R7$(2),t.JRh(t.bMT(38,31,"lang_core_dinh_kem_tai_lieu"))}}let _n=(()=>{class n extends O.H{previewDocumentFileDialog(e){const i={name:e.controls.name.value,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.controls.type.value),type:e.controls.type.value,url:e.controls.link.value};this.sAztDialogService.open(Dt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...i,index:0},showDownloadIcon:!1},restoreFocus:!1})}addNewSession(){let e=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(d=>d.controls.descriptionObjs).map(d=>d.controls.map(p=>p.controls.id.value))),i=this.sessionFormArray.controls.map(d=>d.controls.sessionId.value),s=new a.gE({id:new a.MJ(this.commonService.getVirtualIdWithoutInList(!0,e),{nonNullable:!0,validators:[a.k0.required]}),content:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})});this.sessionFormArray.push(new a.gE({sessionId:new a.MJ(this.commonService.getVirtualIdWithoutInList(!0,i),{nonNullable:!0,validators:[a.k0.required]}),session:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]}),documentObjs:new a.Yp([]),totalDocumentNotDeleted:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]}),descriptionObjs:new a.Yp([s],{validators:[a.k0.required,a.k0.minLength(1)]}),totalDescriptionNotDeleted:new a.MJ(1,{nonNullable:!0,validators:[a.k0.required]}),isUploadingImage:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})})),this.updateFormData()}removeSessionForm(e){e.controls.sessionId.value<0?this.sessionFormArray.controls=this.sessionFormArray.controls.filter(i=>i.controls.sessionId.value!=e.controls.sessionId.value):(e.controls.willRemove.setValue(!0),e.controls.descriptionObjs.controls.map(i=>{i.controls.content.setValue(i.controls.content.defaultValue&&""!=i.controls.content.defaultValue?i.controls.content.defaultValue:"remove")})),this.sessionFormArray.controls.map(i=>i.controls.sessionId.value==e.controls.sessionId.value?e:i),this.updateFormData()}addMoreDescriptionForm(e){let i=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(s=>s.controls.descriptionObjs).map(s=>s.controls.map(d=>d.controls.id.value)));e.controls.descriptionObjs.push(new a.gE({id:new a.MJ(this.commonService.getVirtualIdWithoutInList(!0,i),{nonNullable:!0,validators:[a.k0.required]}),content:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})})),this.sessionFormArray.controls.map(s=>s.controls.sessionId.value==e.controls.sessionId.value?e:s),this.updateFormData()}removeDescriptionForm(e,i){e.controls.descriptionObjs.controls.map(s=>{s.controls.willRemove.setValue(s.controls.id.value==i.controls.id.value||s.controls.willRemove.value),s.controls.content.setValue(s.controls.id.value==i.controls.id.value?s.controls.content.defaultValue&&""!=s.controls.content.defaultValue?s.controls.content.defaultValue:"remove":s.controls.content.value)}),this.sessionFormArray.controls.map(s=>s.controls.sessionId.value==e.controls.sessionId.value?e:s),this.updateFormData()}removeDocumentForm(e,i){e.controls.documentObjs.controls.map(s=>s.controls.willRemove.setValue(s.controls.id.value==i.controls.id.value||s.controls.willRemove.value)),this.sessionFormArray.controls.map(s=>s.controls.sessionId.value==e.controls.sessionId.value?e:s),this.updateFormData()}uploadFileEmitted(e,i){i&&this.addDataFormDocument({url:e.link,name:e.name,extension:e.type},e.groupType,i)}addDataFormDocument(e,i,s){s.controls.documentObjs.push(new a.gE({id:new a.MJ(this.commonService.getVirtualIdWithoutInList(!0,[]),{nonNullable:!0,validators:[a.k0.required]}),name:new a.MJ(e.name??"",{nonNullable:!0,validators:[a.k0.required]}),link:new a.MJ(e.url??"",{nonNullable:!0,validators:[a.k0.required]}),type:new a.MJ(e.extension??"",{nonNullable:!0,validators:[a.k0.required]}),documentType:new a.MJ(this.commonService.getEnumTypeWithDefault(st.d,e.extension??"",st.d.unknown),{nonNullable:!0,validators:[a.k0.required]}),groupType:new a.MJ(i,{nonNullable:!0}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})})),s.controls.isUploadingImage.setValue(!1),this.sessionFormArray.controls.map(p=>p.controls.sessionId.value==s.controls.sessionId.value?s:p),this.updateFormData()}redirectToCreateNewDocument(e){const i=this.programForm.getRawValue(),s=this.zipDataService.convertContentGzip(this.serializeJson(i));this.browserStorageService.saveSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`,s),this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backTo=${this.currentUrl}&programId=${this.educationalProgramObj?.id}&levelId=${this.educationalProgramObj?.schoolLevelId??0}&subjectId=${this.educationalProgramObj?.schoolSubjectId??0}&indexSession=${e}`)}initFormArray(){this.sessionFormArray.clear();const e=this.extractValueFromZipData();e?e.sessionFormArray.forEach(this.processItem.bind(this)):this.convertSessionDtoToSessionFormArray(this.sessionObjs).forEach(this.processItem.bind(this)),this.sessionObjs.length<=0&&!e?.sessionFormArray.length&&this.addNewSession(),this.updateFormData()}updateFormData(){let e=1;this.sessionFormArray.controls.forEach(i=>{i.controls.willRemove.value||(i.controls.session.setValue(e),e+=1),i.controls.totalDescriptionNotDeleted.setValue(i.controls.descriptionObjs.controls.filter(s=>!s.controls.willRemove.value).length),i.controls.totalDocumentNotDeleted.setValue(i.controls.documentObjs.controls.filter(s=>!s.controls.willRemove.value).length)}),this.programForm.controls.totalSessionNotDeleted.setValue(this.programForm.controls.sessionFormArray.controls.filter(i=>!i.controls.willRemove.value).length),this.programForm.controls.sessionFormArray=this.sessionFormArray,this.programForm.updateValueAndValidity()}extractValueFromZipData(){const e=this.browserStorageService.getSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`);if(!e)return;const i=this.zipDataService.decodeContentGzip(e);return this.castJsonToObj(i)}createDocumentFormGroup(e){return new a.gE({id:new a.MJ(e.id,{nonNullable:!0,validators:[a.k0.required]}),refId:new a.MJ(e.refId??0,{nonNullable:!0}),name:new a.MJ(e.name??"",{nonNullable:!0,validators:[a.k0.required]}),link:new a.MJ(e.link??"",{nonNullable:!0}),type:new a.MJ(e.type,{nonNullable:!0,validators:[a.k0.required]}),documentType:new a.MJ(this.commonService.getEnumTypeWithDefault(st.d,e.type,st.d.unknown),{nonNullable:!0,validators:[a.k0.required]}),groupType:new a.MJ(e.groupType??"",{nonNullable:!0}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})})}createDescriptionFormGroup(e){return new a.gE({id:new a.MJ(e.id,{nonNullable:!0,validators:[a.k0.required]}),content:new a.MJ(e.content,{nonNullable:!0,validators:[a.k0.required]}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})})}processItem(e){const i=e.documentObjs.filter(d=>d&&!d.willRemove).map(this.createDocumentFormGroup.bind(this)),s=e.descriptionObjs.filter(d=>document&&!d.willRemove).map(this.createDescriptionFormGroup.bind(this));this.sessionFormArray.push(new a.gE({sessionId:new a.MJ(e.sessionId,{nonNullable:!0,validators:[a.k0.required]}),session:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]}),documentObjs:new a.Yp(i),totalDocumentNotDeleted:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]}),descriptionObjs:new a.Yp(s,{validators:[a.k0.required,a.k0.minLength(1)]}),totalDescriptionNotDeleted:new a.MJ(s.length,{nonNullable:!0,validators:[a.k0.required]}),isUploadingImage:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]}),willRemove:new a.MJ(!1,{nonNullable:!0,validators:[a.k0.required]})}))}convertSessionDtoToSessionFormArray(e){let i=[];return e.forEach(s=>{let d=[];s.documents.forEach(Q=>{d.push({id:Q.id,refId:Q.refId,name:Q.name??"",link:Q.link,type:Q.type,documentType:Q.type,willRemove:!1})});let p=[];s.contents.forEach(Q=>{p.push({id:Q.id,content:Q.content,willRemove:!1})}),i.push({sessionId:s.id,documentObjs:d,descriptionObjs:p,totalDescriptionNotDeleted:0,totalDocumentNotDeleted:0,session:s.sort,isUploadingImage:!1,willRemove:!1})}),i}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.sessionFormArray=this.programForm.controls.sessionFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(e,i,s,d,p,V){super(),this.cd=e,this.sAztDialogService=i,this.sAztFileTypeService=s,this.browserStorageService=d,this.zipDataService=p,this.programFormService=V,this.sessionObjs=[],this.currentUrl=this.commonService.getCurrentUrlWithoutLocale(),this.allDocumentTypes=st.d}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.gRc),t.rXU(ot.i),t.rXU(Gt.k),t.rXU(We.z),t.rXU(Ke.j),t.rXU(Jt.s))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-session-form"]],inputs:{programForm:"programForm",sessionObjs:"sessionObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:7,vars:5,consts:[[3,"formGroup"],["formArrayName","sessionFormArray"],["class","box pt-3 pl-3 pr-3 mt-3",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["azt-track-service","add-or-edit-educational-program-22QBASGLIe",1,"btn-add-session","mt-2","clickable",3,"click"],[1,"box","pt-3","pl-3","pr-3","mt-3",3,"formGroup","hidden"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],["xmlns","http://www.w3.org/2000/svg","width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x clickable ml-1",3,"click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted mt-2",4,"ngIf"],[3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-start","py-2"],[1,"btn-add-document","text-sm","px-3"],["azt-track-service","add-or-edit-educational-program-izd-G_-kRf",1,"clickable",3,"click"],[1,"azt-answer"],[1,"strike"],[1,"uppercase","text-slate-600","text-xs"],[1,"flex","items-center","mt-3","pb-3","scroll"],[1,"btn-add-document","text-sm"],["azt-track-service","session-form-7wsWmtscNU",2,"text-align","left",3,"click"],[1,"inline-block"],[3,"isBtn","customClass","emitFileDocument"],["xmlns","http://www.w3.org/2000/svg","width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-1",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"text-xs","font-medium","text-danger","ng-star-inserted","mt-2"],[3,"formGroup","hidden"],[1,"flex","items-center",3,"id"],["type","text","formControlName","content",1,"form-control","mt-2","mb-2",3,"placeholder"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x clickable btn-clear-form-content ml-1",3,"click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","btn-clear-form-content","ml-1",3,"click"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],["class","flex items-center mr-4",4,"ngIf"],[1,"flex","items-center","mr-4"],["azt-track-service","session-form-uEv4oFbN4",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[4,"ngIf"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"w-4","h-4","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","18",1,"text-pending"],["name","file-text","size","18",1,"text-primary"],[1,"clickable",3,"type","name","url","showBorder","iconVerticalStyle","customClass","textWidth","click"],[1,"flex","justify-end",2,"width","13px","height","13px"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-1",3,"click"]],template:function(i,s){1&i&&(t.j41(0,"form",0)(1,"div",1),t.DNE(2,un,39,33,"div",2),t.j41(3,"div",3)(4,"div",4),t.bIt("click",function(){return s.addNewSession()}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()()),2&i&&(t.Y8G("formGroup",s.programForm),t.R7$(2),t.Y8G("ngForOf",s.sessionFormArray.controls),t.R7$(3),t.SpI("+ ",t.bMT(6,3,"lang_core_them_bui_hoc"),""))},dependencies:[I.Wk,o.Sq,o.bT,yt.oV,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.v8,It.t,He.f,Nt.m,h.WGl,Zt.J,f.F2,f.wp,f.gt],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();function pn(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function gn(n,u){if(1&n&&t.nrm(0,"app-educational-program-general-info-form",21),2&n){const e=t.XpG(2);t.Y8G("programForm",e.form)("educationalProgramObj",e.educationalProgramObj)("schoolAndLevelObjs",e.schoolAndLevelObjs)}}function hn(n,u){if(1&n&&t.nrm(0,"app-educational-program-book-form",22),2&n){const e=t.XpG(2);t.Y8G("programForm",e.form)("bookObjs",e.bookObjs)}}function fn(n,u){1&n&&t.nrm(0,"azt-loading-ui",23)}const bn=function(n){return[n]};function vn(n,u){if(1&n){const e=t.RV6();t.j41(0,"form",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t.DNE(5,gn,1,3,"app-educational-program-general-info-form",9),t.j41(6,"app-educational-program-document-form",10),t.bIt("listDocumentObjsChange",function(s){t.eBV(e);const d=t.XpG();return t.Njj(d.generalDocumentObjs=s)}),t.k0s(),t.DNE(7,hn,1,2,"app-educational-program-book-form",11),t.nI1(8,"async"),t.nI1(9,"allowFeatureBusinessForUser"),t.k0s()(),t.j41(10,"div",12)(11,"div",13)(12,"h3",14),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"flexed-on-the-top",15)(16,"a",16),t.nI1(17,"navigationLocalize"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"button",17),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.saveEducationalProgram())}),t.DNE(21,fn,1,0,"azt-loading-ui",18),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.nrm(24,"app-educational-program-session-form",19),t.k0s()()()(),t.nrm(25,"azt-scroll-to-top-bottom",20)}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.form),t.R7$(5),t.Y8G("ngIf",e.schoolAndLevelObjs),t.R7$(1),t.Y8G("listDocumentObjs",e.generalDocumentObjs),t.R7$(1),t.Y8G("ngIf",t.bMT(8,15,t.brH(9,17,"","training_center_student_book",!1))),t.R7$(6),t.SpI(" ",t.bMT(14,21,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("routerLink",t.eq3(29,bn,t.bMT(17,23,e.backLink))),t.R7$(2),t.JRh(t.bMT(19,25,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",e.form.invalid||e.isSaving),t.R7$(1),t.Y8G("ngIf",e.isSaving),t.R7$(1),t.SpI(" ",t.bMT(23,27,"lang_button_save")," "),t.R7$(2),t.Y8G("programForm",e.form)("sessionObjs",e.sessionObjs)("educationalProgramObj",e.educationalProgramObj),t.R7$(1),t.Y8G("isScrollToTop",!0)}}let Qt=(()=>{class n extends O.H{saveEducationalProgram(){let e=this.form.getRawValue(),i=[];if(null!=this.educationalProgramId){let x=this.educationalProgramId,M=e.sessionFormArray.filter(S=>S.willRemove&&S.sessionId>0).map(S=>S.sessionId),pt=this.generalDocumentObjs.filter(S=>S.willRemove&&S.id>0).map(S=>S.id),gt=this.commonService.concatMultipleArray(e.sessionFormArray.map(S=>S.documentObjs)).filter(S=>S.willRemove&&S.id>0).map(S=>S.id),ht=e.sessionFormArray.map(S=>({sessionId:S.sessionId,contentIds:S.descriptionObjs.filter(ft=>ft.willRemove&&ft.id>0).map(ft=>ft.id)})).filter(S=>S.contentIds.length>0),ct=e.bookFormArray.filter(S=>S.willRemove&&S.id>0).map(S=>S.id),Yt=M.map(S=>this.programService.apiProgramsProgramIdSessionsSessionIdDelete(x,S)),Ri=pt.map(S=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(x,S)),zi=gt.map(S=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(x,S)),Ai=this.commonService.concatMultipleArray(ht.map(S=>{let ft=[];return S.contentIds.forEach(Gi=>{ft.push(this.programService.apiProgramsProgramIdSessionsSessionIdContentsContentIdDelete(x,S.sessionId,Gi))}),ft})),$i=ct.map(S=>this.bookService.apiBooksIdDelete(S));i=this.commonService.concatMultipleArray([Yt,Ri,zi,Ai,$i])}let s=[];e.sessionFormArray.filter(x=>!x.willRemove).forEach(x=>{s.push({id:x.sessionId>0?x.sessionId:void 0,contents:x.descriptionObjs.filter(M=>!M.willRemove).map(M=>({id:M.id>0?M.id:void 0,content:M.content})),documents:x.documentObjs.filter(M=>!M.willRemove&&M.id<=0).map(M=>({refId:M.refId,name:M.name,link:M.link,type:M.type,groupType:M.groupType}))})});let d=this.generalDocumentObjs.filter(x=>!x.willRemove&&x.id<=0).map(x=>({name:x.name,link:x.link,type:x.type,groupType:x.groupType})),p=e.bookFormArray.filter(x=>!x.willRemove).map(x=>({id:x.id>0?x.id:void 0,name:x.name,description:x.description,iconLink:x.iconLink}));var V={name:e.generalFormGroup.educationalProgramName,fee:Number(e.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:e.generalFormGroup.schoolLevelId,schoolSubjectId:e.generalFormGroup.schoolSubjectId,description:e.generalFormGroup.description,sessions:s,documents:d,books:p};this.isSaving=!0;let Q=(0,ut.z)([...i,this.programService.apiProgramsIdPut(this.educationalProgramId??0,V)]);this.waitDestroy(Q.subscribe({next:x=>{this.successStatusObj("lang_core_sua_chuong_trinh_thanh_cong",!0),this.commonService.myNavigation(this.backLink),this.programFormService.removeProgramDataLocal(this.educationalProgramId??0),this.isSaving=!1},error:x=>{this.errorStatusObj(x.error.message,!0),this.isSaving=!1}}))}callMultipleApi(){const i=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),s=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());if(this.educationalProgramId){const d=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),p=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),V=this.programService.apiProgramsIdGet(this.educationalProgramId),Q=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId);return(0,ut.z)([i,d,p,V,Q,s]).pipe((0,Ft.T)(([x,M,pt,gt,ht,ct])=>({bookResponse:x,documentResponse:M,classroomResponse:pt,programResponse:gt,sessionResponse:ht,subjectAndLevelResponse:ct})),(0,Tt.W)(x=>{throw x}))}return(0,ut.z)([s]).pipe((0,Ft.T)(([d])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:d})),(0,Tt.W)(d=>{throw d}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.schoolAndLevelObjs=e.subjectAndLevelResponse.data,this.generalDocumentObjs=e.documentResponse?.list.map(i=>({id:i.id,name:i.name??"",link:i.link??"",type:i.type,documentType:this.commonService.getEnumTypeWithDefault(st.d,i.type,st.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(xt.k,i.groupType??"",xt.k.unknown),willRemove:!1}))??[],this.bookObjs=e.bookResponse?.list??[],this.sessionObjs=(e?.sessionResponse?.list??[]).sort((i,s)=>i.sort-s.sort),this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.backLink=this.commonService.getMyQueryParam("backto")??`/business/educational-program/${this.educationalProgramId}`,this.getData()}constructor(e,i,s,d,p){super(),this.activeRoute=e,this.programService=i,this.commonListService=s,this.bookService=d,this.programFormService=p,this.backLink="",this.bookObjs=[],this.generalDocumentObjs=[],this.sessionObjs=[],this.isSaving=!1,this.allDocumentTypes=st.d,this.form=new a.gE({generalFormGroup:new a.gE({educationalProgramName:new a.MJ("",{nonNullable:!0,validators:[a.k0.required,St.M.noWhiteSpace]}),tuition:new a.MJ("",{nonNullable:!0,validators:[a.k0.required,Mt.tuitionFeeValidator]}),schoolLevelId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1),a.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1),a.k0.pattern(/^[1-9]\d*$/)]}),description:new a.MJ("",{nonNullable:!0})}),bookFormArray:new a.Yp([]),sessionFormArray:new a.Yp([],{validators:[a.k0.required,a.k0.minLength(1)]}),totalSessionNotDeleted:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(I.nX),t.rXU(At.s),t.rXU($t.N),t.rXU(Xt.l),t.rXU(Jt.s))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-add-or-edit-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"container-fluid","mt-3","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3"],[1,"box","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[3,"listDocumentObjs","listDocumentObjsChange"],[3,"programForm","bookObjs",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"flex","justify-between"],[1,"text-md","font-medium","mr-auto","uppercase"],[3,"colorBackground"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-3","btn","btn-secondary",2,"width","100%",3,"routerLink"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",2,"width","100%",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"programForm","sessionObjs","educationalProgramObj"],[3,"isScrollToTop"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[3,"programForm","bookObjs"],[1,"mr-1"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,pn,1,1,"azt-loading-effect",1),t.DNE(2,vn,26,31,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(3);t.Y8G("headerBackToLink",s.backLink),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[I.Wk,o.bT,a.qT,a.cb,a.j4,_.K,kt.I,H.R,Re.$,N.Q,Ht,Ue,Je,_n,o.Jj,f.F2,f.wp,f.bj],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();var qt=l(43070),xn=l(84828);function Cn(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function kn(n,u){if(1&n&&t.nrm(0,"app-educational-program-general-info-form",15),2&n){const e=t.XpG(2);t.Y8G("programForm",e.form)("educationalProgramObj",e.educationalProgramObj)("schoolAndLevelObjs",e.schoolAndLevelObjs)}}function In(n,u){1&n&&t.nrm(0,"azt-loading-ui",16)}const yn=function(n){return[n]};function On(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"form",5)(2,"div",6)(3,"h3",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",8),t.DNE(7,kn,1,3,"app-educational-program-general-info-form",9),t.k0s(),t.j41(8,"div",10)(9,"div",11)(10,"button",12),t.nI1(11,"navigationLocalize"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",13),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.saveEducationalProgram())}),t.DNE(15,In,1,0,"azt-loading-ui",14),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()()()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("formGroup",e.form),t.R7$(3),t.SpI(" ",t.bMT(5,8,"lang_program_create_new_curriculum")," "),t.R7$(3),t.Y8G("ngIf",e.schoolAndLevelObjs),t.R7$(3),t.Y8G("routerLink",t.eq3(16,yn,t.bMT(11,10,e.backLink))),t.R7$(2),t.SpI(" ",t.bMT(13,12,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",e.form.invalid||e.isSaving),t.R7$(1),t.Y8G("ngIf",e.isSaving),t.R7$(1),t.SpI(" ",t.bMT(17,14,"lang_auto_luu")," ")}}let jn=(()=>{class n extends O.H{saveEducationalProgram(){let e=this.form.getRawValue(),s=[];e.sessionFormArray.filter(x=>!x.willRemove).forEach(x=>{s.push({id:x.sessionId>0?x.sessionId:void 0,contents:x.descriptionObjs.filter(M=>!M.willRemove).map(M=>({id:M.id>0?M.id:void 0,content:M.content})),documents:x.documentObjs.filter(M=>!M.willRemove&&M.id<=0).map(M=>({name:M.name,link:M.link,type:M.type,groupType:""}))})});let d=this.generalDocumentObjs.filter(x=>!x.willRemove&&x.id<=0).map(x=>({name:x.name,link:x.link,type:x.type,groupType:""})),p=e.bookFormArray.filter(x=>!x.willRemove).map(x=>({id:x.id>0?x.id:void 0,name:x.name,description:x.description,iconLink:x.iconLink}));const V={name:e.generalFormGroup.educationalProgramName,fee:Number(e.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:e.generalFormGroup.schoolLevelId,schoolSubjectId:e.generalFormGroup.schoolSubjectId,description:e.generalFormGroup.description,sessions:s,documents:d,books:p};this.isSaving=!0;let Q=(0,ut.z)([this.programService.apiProgramsPost(V)]);this.waitDestroy(Q.subscribe({next:x=>{this.successStatusObj("lang_core_them_chuong_trinh_thanh_cong",!0);const M=x[0];M?.id&&(this.commonService.myNavigation(`/business/edit-educational-program/${M?.id}`),this.isSaving=!1)},error:x=>{this.errorStatusObj(x.error.message,!0),this.isSaving=!1}}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.schoolAndLevelObjs=e.subjectAndLevelResponse.data,this.generalDocumentObjs=e.documentResponse?.list.map(i=>({id:i.id,name:i.name??"",link:i.link??"",type:i.type,documentType:this.commonService.getEnumTypeWithDefault(st.d,i.type,st.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(xt.k,i.groupType??"",xt.k.unknown),willRemove:!1}))??[],this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}callMultipleApi(){const e=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,ut.z)([e]).pipe((0,Ft.T)(([i])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:i})),(0,Tt.W)(i=>{throw i}))}constructor(e,i,s,d){super(),this.activeRoute=e,this.programService=i,this.commonListService=s,this.bookService=d,this.backLink="",this.generalDocumentObjs=[],this.isSaving=!1,this.bookObjs=[],this.form=new a.gE({generalFormGroup:new a.gE({educationalProgramName:new a.MJ("",{nonNullable:!0,validators:[a.k0.required,St.M.noWhiteSpace]}),tuition:new a.MJ("",{nonNullable:!0,validators:[a.k0.required,Mt.tuitionFeeValidator]}),schoolLevelId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1),a.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1),a.k0.pattern(/^[1-9]\d*$/)]}),description:new a.MJ("",{nonNullable:!0})}),bookFormArray:new a.Yp([]),sessionFormArray:new a.Yp([]),totalSessionNotDeleted:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]})})}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/educational-program",this.getData()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(I.nX),t.rXU(qt.sC),t.rXU(xn.Nz),t.rXU(qt.lb))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["create-general-education-program"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","mt-5"],[3,"formGroup"],[1,"mx-auto",2,"max-width","1000px"],[1,"font-medium","text-md","uppercase"],[1,"box","mt-5","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[1,"mt-5"],[1,"text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"routerLink"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[1,"mr-1"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,Cn,1,1,"azt-loading-effect",1),t.DNE(2,On,18,18,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(3);t.Y8G("headerBackToLink",s.backLink),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[I.Wk,o.bT,a.qT,a.cb,a.j4,_.K,H.R,N.Q,Ht,f.F2,f.wp],encapsulation:2})}return n})();var Fn=l(47160);function Tn(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Mn(n,u){if(1&n&&(t.j41(0,"div",18)(1,"span",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.EFF(4," : "),t.j41(5,"span",20),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_mon_hoc")),t.R7$(4),t.JRh(t.bMT(7,4,e.schoolSubjectKey))}}function Sn(n,u){if(1&n&&(t.j41(0,"div",18)(1,"span",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",20),t.nrm(5,"azt-see-more-content",28),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_mo_ta")," "),t.R7$(3),t.Y8G("content",e.educationalProgramObj.description)("maxLength",200)}}function Dn(n,u){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"azt-document-type-file",30),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(4);return t.Njj(p.previewFile(d))}),t.k0s()()}if(2&n){const e=u.$implicit;let i;t.R7$(1),t.Y8G("type",e.documentType)("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("showBorder",!1)("customClass","w-4 h-4")("textWidth","100%")}}function En(n,u){if(1&n&&(t.qex(0),t.DNE(1,Dn,2,6,"div",29),t.bVm()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",e.listDocumentObjs)}}function Pn(n,u){1&n&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_document_market_no_data_found")," "))}function wn(n,u){if(1&n&&(t.j41(0,"div",33)(1,"span",20),t.EFF(2),t.k0s()()),2&n){const e=u.$implicit;t.Y8G("hidden",u.index>1),t.R7$(2),t.SpI("- ",e.name,"")}}function Rn(n,u){1&n&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}function zn(n,u){if(1&n&&(t.j41(0,"div",18)(1,"span",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,wn,3,2,"div",32),t.DNE(5,Rn,2,0,"div",26),t.k0s()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_core_sach")," "),t.R7$(2),t.Y8G("ngForOf",e.listBookObjs),t.R7$(1),t.Y8G("ngIf",e.listBookObjs.length>1)}}function An(n,u){1&n&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_noi_dung")," "))}function $n(n,u){if(1&n&&(t.j41(0,"div",39)(1,"span",40),t.EFF(2),t.k0s()()),2&n){const e=u.$implicit;t.R7$(2),t.SpI("- ",e.content,"")}}function Gn(n,u){if(1&n&&(t.j41(0,"div",36)(1,"h3",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,$n,3,1,"div",38),t.k0s()),2&n){const e=u.$implicit;t.Y8G("hidden",u.index>1),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_core_buoi")," ",e.sort,""),t.R7$(2),t.Y8G("ngForOf",e.contents)}}function Nn(n,u){1&n&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}const Lt=function(n){return[n]},te=function(n){return{backTo:n}};function Ln(n,u){if(1&n&&(t.j41(0,"div",16)(1,"h3",17),t.EFF(2),t.k0s(),t.j41(3,"div",18)(4,"span",19),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.EFF(7," : "),t.j41(8,"span",20),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,Mn,8,6,"div",21),t.DNE(12,Sn,6,5,"div",21),t.j41(13,"div",18)(14,"span",19),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,En,2,1,"ng-container",22),t.DNE(18,Pn,3,3,"ng-template",null,23,t.C5r),t.k0s(),t.DNE(20,zn,6,5,"div",21),t.j41(21,"div",18)(22,"span",19),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.DNE(25,An,3,3,"div",24),t.DNE(26,Gn,5,6,"div",25),t.DNE(27,Nn,2,0,"div",26),t.k0s(),t.j41(28,"div",18)(29,"a",27),t.nI1(30,"navigationLocalize"),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()()),2&n){const e=t.sdS(19),i=t.XpG(2);t.R7$(1),t.FS9("matTooltip",i.educationalProgramObj.name),t.R7$(1),t.SpI(" ",i.educationalProgramObj.name," "),t.R7$(3),t.JRh(t.bMT(6,18,"lang_homework_create_homework_success_class")),t.R7$(4),t.Lme("",t.bMT(10,20,"lang_homework_create_homework_success_class")," ",i.schoolLevelValue,""),t.R7$(2),t.Y8G("ngIf",i.schoolSubjectKey),t.R7$(1),t.Y8G("ngIf",i.educationalProgramObj.description&&i.educationalProgramObj.description.length>0),t.R7$(3),t.SpI(" ",t.bMT(16,22,"lang_testbank_document_list_header_title")," "),t.R7$(2),t.Y8G("ngIf",i.listDocumentObjs.length>0)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",i.listBookObjs.length>0),t.R7$(3),t.SpI(" ",t.bMT(24,24,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("ngIf",0==i.listEducationProgramSessionObjs.length),t.R7$(1),t.Y8G("ngForOf",i.listEducationProgramSessionObjs),t.R7$(1),t.Y8G("ngIf",i.listEducationProgramSessionObjs.length>1),t.R7$(2),t.Y8G("routerLink",t.eq3(30,Lt,t.bMT(30,26,"/business/edit-educational-program/"+i.educationalProgramId)))("queryParams",t.eq3(32,te,"/business/educational-program/"+i.educationalProgramId)),t.R7$(2),t.SpI(" ",t.bMT(32,28,"lang_testbank_folder_and_file_edit")," ")}}function Bn(n,u){if(1&n&&(t.j41(0,"div",41)(1,"a",42),t.nI1(2,"navigationLocalize"),t.j41(3,"div",43)(4,"div",44)(5,"div",45)(6,"div",46)(7,"h3",17),t.EFF(8),t.k0s()(),t.j41(9,"div",47)(10,"span",20),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",39)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"div",48),t.EFF(18),t.k0s()()()()()),2&n){const e=u.$implicit,i=t.XpG(2);t.R7$(1),t.Y8G("routerLink",t.eq3(16,Lt,t.bMT(2,10,"/admin/student/classroom-details/"+e.classroomId+"/3")))("queryParams",t.eq3(18,te,"/business/educational-program/"+i.educationalProgramId)),t.R7$(6),t.FS9("matTooltip",e.classroomName),t.R7$(1),t.SpI(" ",e.classroomName," "),t.R7$(3),t.Lme("",t.bMT(12,12,"lang_student_classroom_list_detail_quantity"),": ",e.totalStudent,""),t.R7$(4),t.E5c("",t.bMT(16,14,"lang_core_so_buoi_da_hoc"),": ",e.totalLearnedSession,"/",e.totalSession,""),t.R7$(3),t.SpI("",e.learnedPercent,"%")}}const Un=function(n){return{programId:n}};function Yn(n,u){if(1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"div",6),t.DNE(3,Ln,33,34,"div",7),t.k0s(),t.j41(4,"div",8)(5,"div",9)(6,"h3",10),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",11),t.DNE(10,Bn,19,20,"div",12),t.k0s(),t.j41(11,"div",13)(12,"a",14),t.nI1(13,"navigationLocalize"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()()(),t.nrm(16,"azt-scroll-to-top-bottom",15)),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.educationalProgramObj),t.R7$(4),t.Lme("",t.bMT(8,8,"lang_core_cac_lop_hoc_chuong_trinh_nay")," (",e.listClassroomObjs.length,")"),t.R7$(3),t.Y8G("ngForOf",e.listClassroomObjs),t.R7$(2),t.Y8G("routerLink",t.eq3(14,Lt,t.bMT(13,10,"/admin/student/manage-classroom/0")))("queryParams",t.eq3(16,Un,e.educationalProgramId)),t.R7$(2),t.SpI("+",t.bMT(15,12,"lang_auto_them_lop_cho_chuong_trinh_hoc"),""),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let Vn=(()=>{class n extends O.H{previewFile(e){const i={name:e.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.type),type:e.type,url:e.link};this.sAztDialogService.open(Dt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...i,index:0},showDownloadIcon:!1},restoreFocus:!1})}callMultipleApi(){const i=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),s=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),d=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),p=this.programService.apiProgramsIdGet(this.educationalProgramId),V=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId),Q=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,ut.z)([i,s,d,p,V,Q]).pipe((0,Ft.T)(([x,M,pt,gt,ht,ct])=>({bookResponse:x,documentResponse:M,classroomResponse:pt,programResponse:gt,sessionResponse:ht,subjectAndLevelResponse:ct})),(0,Tt.W)(x=>{throw x}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.listBookObjs=e.bookResponse.list.sort((s,d)=>s.id-d.id),this.listClassroomObjs=e.classroomResponse.list,this.listDocumentObjs=e.documentResponse.list.map(s=>({...s,documentType:this.commonService.getEnumTypeWithDefault(st.d,s.type,st.d.unknown)})),this.listEducationProgramSessionObjs=e.sessionResponse.list.sort((s,d)=>s.sort-d.sort);let i=e.subjectAndLevelResponse.data?.schoolLevelSubjectObjs.find(s=>s.schoolLevel?.id==this.educationalProgramObj?.schoolLevelId);this.schoolLevelValue=i?.schoolLevel?.value?.toString()??"",this.schoolSubjectKey=i?.schoolSubjectObjs.find(s=>s.id==this.educationalProgramObj?.schoolSubjectId)?.key??"",this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData()}constructor(e,i,s,d,p,V){super(),this.activeRoute=e,this.commonListService=i,this.sAztDialogService=s,this.bookService=d,this.programService=p,this.sAztFileTypeService=V,this.backLink="/business/educational-program",this.educationalProgramId=0,this.schoolLevelValue="",this.schoolSubjectKey="",this.listDocumentObjs=[],this.listClassroomObjs=[],this.listEducationProgramSessionObjs=[],this.listBookObjs=[]}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(I.nX),t.rXU($t.N),t.rXU(ot.i),t.rXU(Xt.l),t.rXU(At.s),t.rXU(Gt.k))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-detail"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"container-fluid","mt-5","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-3"],["class","box-info p-3",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"box-content","p-3"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4 clickable",4,"ngFor","ngForOf"],[1,"flex","justify-start","mt-4"],[1,"btn-add-class",3,"routerLink","queryParams"],[3,"isScrollToTop"],[1,"box-info","p-3"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"mt-2"],[1,"text-sm","mb-1","items-center","font-medium"],[1,"text-sm"],["class","mt-2",4,"ngIf"],[4,"ngIf","ngIfElse"],["emptyListDocument",""],["class","text-sm flex justify-center m-2 mb-1","style","color: gray",4,"ngIf"],["class","items-center mb-2",3,"hidden",4,"ngFor","ngForOf"],["class","flex justify-start",4,"ngIf"],["azt-track-service","detail-educational-program-zQWRXarDBe",1,"btn","btn-primary",2,"width","100%","background","rgba(22, 155, 213, 1)","border-width","0px",3,"routerLink","queryParams"],[3,"content","maxLength"],[4,"ngFor","ngForOf"],[1,"clickable",3,"type","name","url","showBorder","customClass","textWidth","click"],[1,"text-sm","flex","justify-center","m-2",2,"color","gray"],["class","items-center",3,"hidden",4,"ngFor","ngForOf"],[1,"items-center",3,"hidden"],[1,"flex","justify-start"],[1,"text-sm","flex","justify-center","m-2","mb-1",2,"color","gray"],[1,"items-center","mb-2",3,"hidden"],[1,"text-sm","font-medium","mr-auto"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"text-sm",2,"white-space","pre-line"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4","clickable"],["azt-track-service","detail-educational-program-2h2h8T3CP",3,"routerLink","queryParams"],[1,"box-info-content","zoom-in"],[1,"flex","justify-between","items-center","py-2","px-4"],[1,"col-information"],[1,"grid","items-center"],[1,"flex","items-center","mt-1"],[1,"box-percent"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,Tn,1,1,"azt-loading-effect",1),t.DNE(2,Yn,17,18,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(3);t.Y8G("headerBackToLink",s.backLink),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[I.Wk,o.Sq,o.bT,yt.oV,_.K,Fn.l,kt.I,Nt.m,N.Q,f.F2,f.wp],styles:[".box-info-content[_ngcontent-%COMP%]{background:#f2f2f2;border-radius:5px}.box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.description[_ngcontent-%COMP%]{min-height:150px;border-radius:5px;font-size:14px;width:100%}.btn-add-class[_ngcontent-%COMP%]{color:#2262ae}.btn-add-class[_ngcontent-%COMP%]:hover{color:#2a74cf}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.text-sm[_ngcontent-%COMP%]{font-size:13px!important}.box-content[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.box-percent[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#a4e6f4;display:flex;align-items:center;justify-content:center;font-weight:500;border:1px solid #00a8cc}.btn-primary[_ngcontent-%COMP%]:hover{background:#5dc0ea!important}.col-information[_ngcontent-%COMP%]{width:75%}"]})}return n})();var Bt=l(75421);function Xn(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Jn(n,u){1&n&&t.nrm(0,"azt-loading-ui",26)}const ee=function(n){return[n]},Wn=function(n){return{"py-1 px-3 rounded-full bg-success text-white font-medium":n}};function Kn(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"a",16),t.nI1(3,"navigationLocalize"),t.j41(4,"div",17)(5,"h3",18),t.EFF(6),t.k0s()(),t.j41(7,"div",19)(8,"span",20),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"span",21),t.EFF(12),t.k0s()()(),t.j41(13,"div",17)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",17)(18,"span",20),t.EFF(19),t.nI1(20,"mytranslate"),t.nI1(21,"formatMoney"),t.k0s()()(),t.j41(22,"div",22)(23,"button",23),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(3);return t.Njj(p.showDeleteDialog(d))}),t.nI1(24,"mytranslate"),t.DNE(25,Jn,1,0,"azt-loading-ui",24),t.nrm(26,"lucide-icon",25),t.k0s()()()()}if(2&n){const e=u.$implicit,i=t.XpG(3);t.R7$(2),t.Y8G("routerLink",t.eq3(24,ee,t.bMT(3,12,"/business/educational-program/"+e.id))),t.R7$(3),t.FS9("matTooltip",e.name),t.R7$(1),t.SpI(" ",e.name," "),t.R7$(3),t.SpI(" ",t.bMT(10,14,"lang_core_so_lop_hoc"),": "),t.R7$(2),t.Y8G("ngClass",t.eq3(26,Wn,e.totalClassroom)),t.R7$(1),t.JRh(e.totalClassroom),t.R7$(3),t.Lme("",t.bMT(16,16,"lang_core_buoi_tiet_hoc"),": ",e.totalSession,""),t.R7$(4),t.Lme("",t.bMT(20,18,"lang_core_hoc_phi"),": ",t.bMT(21,20,e.fee)," \u0111"),t.R7$(4),t.FS9("matTooltip",t.bMT(24,22,"lang_auto_xoa")),t.R7$(2),t.Y8G("ngIf",i.isDeletingId==e.id)}}function Hn(n,u){if(1&n&&(t.j41(0,"div",10)(1,"h3",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",12),t.DNE(5,Kn,27,28,"div",13),t.k0s()()),2&n){const e=u.$implicit;t.Y8G("hidden",0==e.programObjs.length),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_homework_create_homework_success_class")," ",e.schoolLevelObj.value,""),t.R7$(3),t.Y8G("ngForOf",e.programObjs)}}function Zn(n,u){if(1&n&&(t.j41(0,"div",4)(1,"h3",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"a",6),t.nI1(5,"navigationLocalize"),t.nrm(6,"lucide-icon",7),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,Hn,6,6,"div",8),t.nrm(10,"azt-scroll-to-top-bottom",9)),2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_educational_program")," "),t.R7$(2),t.Y8G("routerLink",t.eq3(11,ee,t.bMT(5,7,"/business/create-general-educational-program"))),t.R7$(3),t.SpI(" ",t.bMT(8,9,"lang_testbank_create_new_matrix")," "),t.R7$(2),t.Y8G("ngForOf",e.groupEducationalProgramDtoObjs),t.R7$(1),t.Y8G("isScrollToTop",!0)}}let Qn=(()=>{class n extends O.H{showDeleteDialog(e){var i=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Bt.u,{data:{content:i},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(s=>{s&&(this.isDeletingId=e.id,this.waitDestroy(this.programService.apiProgramsIdDelete(e.id).subscribe({next:d=>{this.groupEducationalProgramDtoObjs.forEach(p=>p.programObjs=p.programObjs.filter(V=>V.id!=e.id)),this.isDeletingId=0,this.successStatusObj("lang_core_xoa_chuong_trinh_hoc_thanh_cong",!0)},error:d=>{this.isDeletingId=0,this.errorStatusObj(d.error.message,!0)}})))})}getSchoolLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{e.success?(e.data?.schoolLevelSubjectObjs.filter(i=>i.schoolLevel).forEach(i=>{i.schoolLevel&&this.groupEducationalProgramDtoObjs.push({schoolLevelObj:i.schoolLevel,programObjs:[]})}),this.getListProgramObjs()):this.errorStatusObj(e.message,!0)}))}getListProgramObjs(){this.waitDestroy(this.programService.apiProgramsListPost({page:1,size:-1}).subscribe({next:e=>{this.groupEducationalProgramDtoObjs.forEach(i=>{i.programObjs=[...i.programObjs,...e.list.filter(s=>i.schoolLevelObj.id==s.schoolLevelId)]}),this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_student_educational_program",description:"lang_student_educational_program",image:"lang_cms_test_image"}),this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.backLink=e||"/business/dashboard"})),super.ngOnInit(),this.getSchoolLevel()}constructor(e,i,s,d){super(),this.activeRoute=e,this.programService=i,this.commonListService=s,this.sAztDialogService=d,this.backLink="",this.groupEducationalProgramDtoObjs=[],this.isDeletingId=0}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(I.nX),t.rXU(At.s),t.rXU($t.N),t.rXU(ot.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azt-business-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","justify-between","mt-5",2,"flex-wrap","wrap"],[1,"text-md-title","font-medium","mr-auto","mt-1"],["azt-track-service","business-educational-program-H1qyTyPt5",1,"btn","btn-primary","px-5","py-2","mt-1",3,"routerLink"],["name","plus","size","16",1,"mr-1"],["class","mt-5",3,"hidden",4,"ngFor","ngForOf"],[3,"isScrollToTop"],[1,"mt-5",3,"hidden"],[1,"text-md-class","font-medium","truncate","mr-auto","mb-3"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],[1,"flex","info-infrastructure"],["azt-track-service","business-educational-program-ETIELn-OoJ",1,"col-information","clickable",3,"routerLink"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[3,"ngClass"],[1,"flex","justify-end","items-center"],["azt-track-service","business-educational-program-Kk4G8pkpL",1,"flex","items-center","justify-center",3,"matTooltip","click"],["class","mr-1",4,"ngIf"],["name","trash-2","size","16",1,"mr-1","text-danger"],[1,"mr-1"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,Xn,1,1,"azt-loading-effect",1),t.DNE(2,Zn,11,13,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(3);t.Y8G("headerBackToLink",s.backLink),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[I.Wk,o.YU,o.Sq,o.bT,yt.oV,_.K,kt.I,H.R,N.Q,h.WGl,f.F2,f.wp,f.t0],styles:[".btn-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 20px)}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#a9a9a9;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%;box-shadow:0 0 9px #00000024}.btn-delete[_ngcontent-%COMP%]{padding:2px;border-radius:5px}.btn-delete[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.1)}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.text-md-class[_ngcontent-%COMP%]{font-size:16px}.truncate[_ngcontent-%COMP%]{width:100%!important}"]})}return n})();var ne=l(74151),Et=l(67181);function qn(n,u){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_phong_hoc")," "))}function to(n,u){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_so_cho_ngoi")," "))}function eo(n,u){1&n&&(t.j41(0,"div",20),t.nrm(1,"azt-loading-ui",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function no(n,u){if(1&n){const e=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.saveRoom(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.statusObj.loading||e.form.invalid),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let oo=(()=>{class n extends et._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveRoom(e){var i={name:this.form.getRawValue().roomName,numberSeat:this.form.getRawValue().numberSeat};this.initStatusObj(),this.waitDestroy(this.data.room?this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdPut(this.data.infrastructureId,this.data.room.id,i).subscribe({next:s=>{this.dialogRef.close(!0),this.successStatusObj("lang_core_sua_phong_hoc_thanh_cong",!0)},error:s=>{this.errorStatusObj(s.error.message,!0)}}):this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsPost(this.data.infrastructureId,i).subscribe({next:s=>{e?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_phong_hoc_thanh_cong",!0)},error:s=>{this.errorStatusObj(s.error.message,!0)}}))}ngOnInit(){}constructor(e,i,s){super(s,i),this.infrastructureService=e,this.dialogRef=i,this.data=s,this.isLoadData=!1,this.form=new a.gE({roomName:new a.MJ(s.room?.name??"",{nonNullable:!0,validators:[a.k0.required]}),numberSeat:new a.MJ(s.room?.numberSeat,{nonNullable:!0,validators:[a.k0.required,a.k0.pattern(/^[0-9]+$|^[1-9][0-9]*$/)]})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(Et.B),t.rXU(r.CP,8),t.rXU(r.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-create-business-room-dialog"]],features:[t.Vt3],decls:33,vars:27,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[2,"padding","1px"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","roomName",1,"form-label"],["type","text","id","roomName","formControlName","roomName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","numberSeat",1,"form-label"],["type","text","id","numberSeat","formControlName","numberSeat",1,"form-control",3,"placeholder"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"disabled","click"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",9),t.nI1(15,"mytranslate"),t.DNE(16,qn,3,3,"div",10),t.k0s(),t.j41(17,"div",11)(18,"label",12),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.nrm(21,"input",13),t.nI1(22,"mytranslate"),t.DNE(23,to,3,3,"div",10),t.k0s(),t.DNE(24,eo,4,3,"div",14),t.k0s()()()(),t.j41(25,"div",15)(26,"button",16),t.bIt("click",function(){return s.closeDialog()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"button",17),t.bIt("click",function(){return s.saveRoom(!1)}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.DNE(32,no,3,4,"button",18),t.k0s()()()),2&i&&(t.R7$(1),t.Y8G("formGroup",s.form),t.R7$(4),t.SpI(" ",t.bMT(6,13,s.data.room?"lang_auth_sua_phong_hoc":"lang_core_tao_phong_hoc")," "),t.R7$(7),t.SpI(" ",t.bMT(13,15,"lang_core_ten_phong")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,17,"lang_core_nhap_ten_phong")),t.R7$(2),t.Y8G("ngIf",s.form.controls.roomName.dirty&&s.form.controls.roomName.errors),t.R7$(3),t.SpI(" ",t.bMT(20,19,"lang_core_so_cho_ngoi")," "),t.R7$(2),t.FS9("placeholder",t.bMT(22,21,"lang_auto_nhap_so_cho_ngoi")),t.R7$(2),t.Y8G("ngIf",s.form.controls.numberSeat.dirty&&s.form.controls.numberSeat.errors),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading),t.R7$(3),t.JRh(t.bMT(28,23,"lang_button_close")),t.R7$(2),t.Y8G("disabled",s.statusObj.loading||s.form.invalid),t.R7$(1),t.SpI(" ",t.bMT(31,25,s.data.room?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!s.data.room))},dependencies:[o.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,It.t,P.U,H.R,f.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]})}return n})();var Ut=l(45785),io=l(64198),ao=l(9241);function so(n,u){if(1&n&&(t.nrm(0,"iframe",1),t.nI1(1,"safe")),2&n){const e=t.XpG();t.Y8G("src",t.bMT(1,2,e.embedGoogleMapUrl),t.f$h)("width",e.width)}}let oe=(()=>{class n extends O.H{checkValidLink(){this.embedGoogleMapUrl=(0,io.lR)(this.htmlEmbedCode)??""}onLoad(){setTimeout(()=>{this.loadedEvent.emit(!0)},0)}ngOnChanges(){this.checkValidLink()}ngOnInit(){super.ngOnInit(),this.checkValidLink()}constructor(){super(),this.width="600px",this.height="400px",this.loadedEvent=new t.bkB,this.embedGoogleMapUrl=""}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azt-google-map-embed"]],inputs:{htmlEmbedCode:"htmlEmbedCode",width:"width",height:"height"},outputs:{loadedEvent:"loadedEvent"},features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[["style","border:0;","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade","style","width: -webkit-fill-available; height: auto;min-height:300px",3,"src","width",4,"ngIf"],["allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"width","-webkit-fill-available","height","auto","min-height","300px",3,"src","width"]],template:function(i,s){1&i&&t.DNE(0,so,2,4,"iframe",0),2&i&&t.Y8G("ngIf",s.embedGoogleMapUrl)},dependencies:[o.bT,ao.w,f.JI],encapsulation:2})}return n})();const ro=["drawer"];function lo(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function co(n,u){1&n&&t.nrm(0,"azt-loading-ui",37)}function mo(n,u){if(1&n&&(t.j41(0,"div",38),t.nrm(1,"azt-google-map-embed",39),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("htmlEmbedCode",e.obj.mapAddress)}}function uo(n,u){if(1&n){const e=t.RV6();t.j41(0,"button",40),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.sAztMatDrawerService.openDrawer())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",41),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_mo_menu"))}function _o(n,u){if(1&n){const e=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.sAztMatDrawerService.closeDrawer())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",43),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_dong_menu"))}function po(n,u){1&n&&t.nrm(0,"azt-loading-ui",37)}function go(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",46)(1,"div",47)(2,"div",48)(3,"h3",49),t.EFF(4),t.k0s(),t.j41(5,"div"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",50)(9,"button",51),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(3);return t.Njj(p.addOrUpdateRoom(d))}),t.nI1(10,"mytranslate"),t.nrm(11,"lucide-icon",52),t.k0s(),t.j41(12,"button",53),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(3);return t.Njj(p.showDeleteRoomDialog(d))}),t.nI1(13,"mytranslate"),t.DNE(14,po,1,0,"azt-loading-ui",16),t.nrm(15,"lucide-icon",54),t.k0s()()()()}if(2&n){const e=u.$implicit,i=t.XpG(3);t.R7$(3),t.FS9("matTooltip",e.name),t.R7$(1),t.SpI(" ",e.name," "),t.R7$(2),t.Lme("",t.bMT(7,7,"lang_core_so_cho_ngoi"),": ",e.numberSeat,""),t.R7$(3),t.FS9("matTooltip",t.bMT(10,9,"lang_button_edit")),t.R7$(3),t.FS9("matTooltip",t.bMT(13,11,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",i.isDeletingId==e.id)}}function ho(n,u){if(1&n&&(t.j41(0,"div")(1,"div",44),t.DNE(2,go,16,13,"div",45),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.roomObjs)}}function fo(n,u){1&n&&(t.j41(0,"div",55),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_danh_sach_phong_hoc_trong")," "))}const bo=function(n,u){return{"w-85":n,"w-25":u}},vo=function(n){return{"azt-mobile-draw-left":n}},xo=function(n){return{"ml-25":n}},Co=function(n){return{"ml-5":n}},ko=function(){return{height:"80%"}};function Io(n,u){if(1&n){const e=t.RV6();t.j41(0,"mat-drawer-container",4)(1,"mat-drawer",5,6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"h3",11),t.EFF(8),t.k0s()(),t.j41(9,"div",12)(10,"span",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",12)(14,"span",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",12)(18,"span",13),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div")(22,"div",14)(23,"div",15),t.DNE(24,co,1,0,"azt-loading-ui",16),t.EFF(25),t.nI1(26,"mytranslate"),t.nrm(27,"lucide-icon",17),t.k0s()(),t.j41(28,"mat-menu",null,18)(30,"div",19)(31,"ul",20)(32,"li")(33,"button",21),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.changeActivity())}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()()()(),t.DNE(36,mo,2,1,"div",22),t.k0s()()()(),t.j41(37,"mat-drawer-content",23)(38,"div",24)(39,"div",25),t.DNE(40,uo,3,3,"button",26),t.DNE(41,_o,3,3,"button",27),t.j41(42,"div",28)(43,"button",29),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.addOrUpdateRoom())}),t.nrm(44,"lucide-icon",30),t.j41(45,"span",13),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s()(),t.j41(48,"button",31),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.addOrUpdateRoom())}),t.nI1(49,"mytranslate"),t.nrm(50,"lucide-icon",30),t.k0s()()(),t.j41(51,"div",32)(52,"h2",33),t.EFF(53),t.nI1(54,"mytranslate"),t.k0s(),t.DNE(55,ho,3,1,"div",34),t.DNE(56,fo,3,3,"ng-template",null,35,t.C5r),t.k0s()()()(),t.nrm(58,"azt-scroll-to-top-bottom",36)}if(2&n){const e=t.sdS(29),i=t.sdS(57),s=t.XpG();t.Y8G("hasBackdrop",s.sAztMatDrawerService.hasBackdrop),t.R7$(1),t.FS9("opened",s.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Y8G("ngClass",t.l_i(46,bo,s.isMobileDevice,!s.isMobileDevice))("mode",s.sAztMatDrawerService.mode),t.R7$(2),t.Y8G("ngClass",t.eq3(49,vo,s.isMobileDevice)),t.R7$(4),t.FS9("matTooltip",s.obj.name),t.R7$(1),t.SpI(" ",s.obj.name," "),t.R7$(3),t.Lme("",t.bMT(12,30,"lang_test_market_address"),": ",s.obj.address,""),t.R7$(4),t.Lme("",t.bMT(16,32,"lang_auto_dien_thoai"),": ",s.obj.phone,""),t.R7$(4),t.Lme("",t.bMT(20,34,"lang_auto_tong_so_phong_hoc"),": ",s.obj.totalRoom,""),t.R7$(3),t.Y8G("matMenuTriggerFor",e),t.R7$(1),t.Y8G("ngClass",1==s.obj.status?"btn-activity":"btn-not-activity"),t.R7$(1),t.Y8G("ngIf",s.isChangingActivityId==s.obj.id),t.R7$(1),t.SpI(" ",t.bMT(26,36,0==s.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(35,38,1==s.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(2),t.Y8G("ngIf",s.obj.mapAddress),t.R7$(1),t.Y8G("ngClass",t.eq3(51,xo,!s.isMobileDevice&&s.sAztMatDrawerService.isOpenSideNav)),t.R7$(1),t.Y8G("ngClass",t.eq3(53,Co,!s.isMobileDevice&&s.sAztMatDrawerService.isOpenSideNav)),t.R7$(2),t.Y8G("ngIf",!s.sAztMatDrawerService.isOpenSideNav||s.isMobileDevice),t.R7$(1),t.Y8G("ngIf",s.sAztMatDrawerService.isOpenSideNav&&!s.isMobileDevice),t.R7$(5),t.JRh(t.bMT(47,40,"lang_auto_them_phong_hoc")),t.R7$(2),t.Y8G("matTooltip",t.bMT(49,42,"lang_auto_them_phong_hoc")),t.R7$(3),t.Y8G("ngStyle",t.lJ4(55,ko)),t.R7$(2),t.SpI(" ",t.bMT(54,44,"lang_core_danh_sach_phong_hoc")," "),t.R7$(2),t.Y8G("ngIf",s.roomObjs.length>0)("ngIfElse",i),t.R7$(3),t.Y8G("isScrollToTop",!0)}}let yo=(()=>{class n extends O.H{set drawer(e){this.sAztMatDrawerService.resizeDrawerHeight(!0,e)}addOrUpdateRoom(e){this.sAztDialogService.open(oo,{data:{infrastructureId:this.infrastructureId,room:e},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(s=>{s&&this.getRooms()})}showDeleteRoomDialog(e){var i=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div>";this.sAztDialogService.open(Bt.u,{data:{content:i},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(s=>{s&&(this.isDeletingId=e.id,this.waitDestroy(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdDelete(this.obj.id,e.id).subscribe({next:d=>{this.roomObjs=this.roomObjs.filter(p=>e.id!=p.id),this.successStatusObj("lang_core_xoa_phong_hoc_thanh_cong",!0)},error:d=>{this.errorStatusObj(d.error.message,!0),this.isDeletingId=0}})))})}changeActivity(){if(!this.obj)return;this.isChangingActivityId=this.obj.id;let e=0==this.obj.status?this.infrastructureService.apiInfrastructuresIdActivatePut(this.obj.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(this.obj.id);this.waitDestroy(e.subscribe({next:i=>{i&&this.obj?this.obj.status=0==this.obj.status?1:0:this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0),this.isChangingActivityId=0},error:i=>{this.errorStatusObj(i.error.message,!0),this.isChangingActivityId=0}}))}initData(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresIdGet(this.infrastructureId).subscribe({next:e=>{this.obj=e,this.getRooms()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}getRooms(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsGet(this.infrastructureId,-1,100).subscribe({next:e=>{this.roomObjs=e.list,this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_co_so",image:"lang_cms_test_image"}),super.ngOnInit(),this.infrastructureId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.initData()}constructor(e,i,s,d){super(),this.activeRoute=e,this.infrastructureService=i,this.sAztDialogService=s,this.sAztMatDrawerService=d,this.backToLink="/business/infrastructure",this.infrastructureId=0,this.roomObjs=[],this.isChangingActivityId=0,this.isDeletingId=0}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(I.nX),t.rXU(Et.B),t.rXU(ot.i),t.rXU(ne.n))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-list-classroom-in-infrastructure"]],viewQuery:function(i,s){if(1&i&&t.GBs(ro,5),2&i){let d;t.mGM(d=t.lsd())&&(s.drawer=d.first)}},features:[t.Jv_([ne.n]),t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"azt-drawer-container","mt-5",3,"hasBackdrop"],[3,"ngClass","mode","opened"],["drawer",""],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"p-3"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto","mt-2",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","mt-2",3,"matMenuTriggerFor"],[1,"text-sm","clickable","btn","btn-primary",3,"ngClass"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],["menuSelectActivity","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full","clickable",3,"click"],["class","pt-3",4,"ngIf"],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","detail-infrastructure-dBQFBBora","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","detail-infrastructure-qa6EG4yZyv","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"relative","flex","ml-auto"],["azt-track-service","detail-infrastructure-LAD7A9vcci",1,"btn","btn-primary","pl-2","pr-2","py-1","azt-hidden","md:block",3,"click"],["name","plus","size","16",1,"mr-1"],["azt-track-service","detail-infrastructure-sv78ldxlux",1,"btn","btn-primary","pl-2","pr-2","py-1","block","md:hidden",3,"matTooltip","click"],[1,"box","relative","p-3",3,"ngStyle"],[1,"font-medium","truncate","mr-auto"],[4,"ngIf","ngIfElse"],["emptyList",""],[3,"isScrollToTop"],[1,"mr-1"],[1,"pt-3"],[3,"htmlEmbedCode"],["azt-track-service","detail-infrastructure-dBQFBBora",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["name","panel-left-open","size","16"],["azt-track-service","detail-infrastructure-qa6EG4yZyv",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["name","panel-left-close","size","16"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 sm:col-span-6 md:col-span-4 2xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","2xl:col-span-3"],[1,"flex","justify-between","info-class-room"],[1,"col-information"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex"],["azt-track-service","list-classroom-in-infrastructure--l-N2YP70a",1,"btn-flex","items-center","justify-center","mr-2",3,"matTooltip","click"],["name","square-pen","size","16",1,"text-primary"],["azt-track-service","list-classroom-in-infrastructure-QSKDgXBGhe",1,"flex","items-center","justify-center",3,"matTooltip","click"],["name","trash-2","size","16",1,"text-danger"],[1,"flex","justify-center"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,lo,1,1,"azt-loading-effect",1),t.DNE(2,Io,59,56,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(3);t.Y8G("headerBackToLink",s.backToLink),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[o.YU,o.Sq,o.bT,o.B3,E.kk,E.Cp,Ut.qe,Ut.$C,Ut.$l,yt.oV,_.K,kt.I,H.R,oe,N.Q,h.WGl,f.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-not-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#98110c;color:#fff;border-radius:10px;font-weight:500}.btn-not-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 50px)}.info-class-room[_ngcontent-%COMP%]{background:#f0f8ff;padding:10px;border-radius:6px}.setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.azt-draw-left-container[_ngcontent-%COMP%] > .mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:auto!important}.hide[_ngcontent-%COMP%]{display:none!important}.hover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{width:20px!important;height:20px!important;stroke-width:1.8px!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:#354567}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]})}return n})();function Oo(n,u){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_co_so")," "))}function jo(n,u){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_dia_chi")," "))}function Fo(n,u){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function To(n,u){1&n&&(t.j41(0,"div",25),t.nrm(1,"azt-loading-ui",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function Mo(n,u){if(1&n){const e=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.saveData(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.statusObj.loading||e.form.controls.infrastructureName.errors||e.form.controls.phoneNumber.errors||e.form.controls.address.errors),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let So=(()=>{class n extends et._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveData(e){var i={name:this.form.getRawValue().infrastructureName,address:this.form.getRawValue().address,mapAddress:this.form.getRawValue().mapAddress,phone:this.form.getRawValue().phoneNumber};this.initStatusObj(),this.waitDestroy(this.data?this.infrastructureService.apiInfrastructuresIdPut(this.data.id,i).subscribe(s=>{s.success?(this.successStatusObj("lang_core_tsua_co_so_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_core_sua_co_so_khong_thanh_cong",!0)}):this.infrastructureService.apiInfrastructuresPost(i).subscribe({next:s=>{e?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_co_so_thanh_cong",!0)},error:s=>{this.errorStatusObj(s.error.message,!0)}}))}ngOnInit(){}constructor(e,i,s){super(s,i),this.infrastructureService=e,this.dialogRef=i,this.data=s,this.isLoadData=!1,this.form=new a.gE({infrastructureName:new a.MJ(s?.name??"",{nonNullable:!0,validators:[a.k0.required]}),address:new a.MJ(s?.address??"",{nonNullable:!0,validators:[a.k0.required]}),phoneNumber:new a.MJ(s?.phone??"",{nonNullable:!0,validators:[a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]}),mapAddress:new a.MJ(s?.mapAddress??"",{nonNullable:!0})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(Et.B),t.rXU(r.CP,8),t.rXU(r.Vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-create-or-info-infrastructure"]],features:[t.Vt3],decls:56,vars:51,consts:[[1,"box","infrastructure-dialog"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","list-class"],["for","infrastructureName",1,"form-label"],["type","text","id","infrastructureName","formControlName","infrastructureName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control",3,"placeholder"],["for","phoneNumber",1,"form-label"],["type","text","id","phoneNumber","formControlName","phoneNumber",1,"form-control",3,"placeholder"],["for","map",1,"form-label"],[1,"text-sm"],["azt-track-service","create-or-update-info-infrastructure-dialog-0UswBviDw","href","https://www.google.com/maps","target","_blank",2,"color","blue","text-decoration","underline"],["type","text","formControlName","mapAddress",1,"form-control",3,"placeholder"],[3,"htmlEmbedCode"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"disabled","click"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div")(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.nrm(13,"input",7),t.nI1(14,"mytranslate"),t.DNE(15,Oo,3,3,"div",8),t.k0s(),t.j41(16,"div",9)(17,"label",10),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.nrm(20,"input",11),t.nI1(21,"mytranslate"),t.DNE(22,jo,3,3,"div",8),t.k0s(),t.j41(23,"div",9)(24,"label",12),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.nrm(27,"input",13),t.nI1(28,"mytranslate"),t.DNE(29,Fo,3,3,"div",8),t.k0s(),t.j41(30,"div",9)(31,"label",14),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",15),t.EFF(35),t.nI1(36,"mytranslate"),t.j41(37,"a",16),t.EFF(38,"Google Maps"),t.k0s(),t.EFF(39),t.nI1(40,"mytranslate"),t.nrm(41,"br"),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s(),t.nrm(44,"input",17),t.nI1(45,"mytranslate"),t.k0s(),t.nrm(46,"azt-google-map-embed",18),t.DNE(47,To,4,3,"div",19),t.k0s()()(),t.j41(48,"div",20)(49,"button",21),t.bIt("click",function(){return s.closeDialog()}),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s(),t.j41(52,"button",22),t.bIt("click",function(){return s.saveData(!1)}),t.EFF(53),t.nI1(54,"mytranslate"),t.k0s(),t.DNE(55,Mo,3,4,"button",23),t.k0s()()()),2&i&&(t.R7$(1),t.Y8G("formGroup",s.form),t.R7$(4),t.SpI(" ",t.bMT(6,23,s.data?"lang_core_sua_co_so":"lang_core_them_co_so")," "),t.R7$(6),t.SpI(" ",t.bMT(12,25,"lang_core_ten_co_so")," "),t.R7$(2),t.FS9("placeholder",t.bMT(14,27,"lang_core_nhap_ten_co_so")),t.BMQ("autofocus",!1),t.R7$(2),t.Y8G("ngIf",s.form.controls.infrastructureName.dirty&&s.form.controls.infrastructureName.errors),t.R7$(3),t.SpI(" ",t.bMT(19,29,"lang_test_market_address")," "),t.R7$(2),t.FS9("placeholder",t.bMT(21,31,"lang_core_vui_nhap_dia_chi")),t.R7$(2),t.Y8G("ngIf",s.form.controls.address.dirty&&s.form.controls.address.errors),t.R7$(3),t.SpI(" ",t.bMT(26,33,"lang_number_phone")," "),t.R7$(2),t.FS9("placeholder",t.bMT(28,35,"lang_auto_nhap_so_dien_thoai")),t.R7$(2),t.Y8G("ngIf",s.form.controls.phoneNumber.dirty&&s.form.controls.phoneNumber.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_auto_ban_do")," "),t.R7$(3),t.SpI(" ",t.bMT(36,39,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_1")," "),t.R7$(4),t.SpI(" ",t.bMT(40,41,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_2")," "),t.R7$(3),t.SpI(" ",t.bMT(43,43,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_3")," "),t.R7$(2),t.FS9("placeholder",t.bMT(45,45,"lang_core_dan_dia_chi_da_sao_chep")),t.R7$(2),t.Y8G("htmlEmbedCode",s.form.controls.mapAddress.value),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading),t.R7$(3),t.JRh(t.bMT(51,47,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",s.statusObj.loading||s.form.controls.infrastructureName.errors||s.form.controls.phoneNumber.errors||s.form.controls.address.errors),t.R7$(1),t.SpI(" ",t.bMT(54,49,s.data?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!s.data))},dependencies:[o.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,It.t,P.U,H.R,oe,f.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}.iframeViewMap[_ngcontent-%COMP%]{width:-webkit-fill-available;height:auto}iframe[_ngcontent-%COMP%]{width:-webkit-fill-available}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.text-sm[_ngcontent-%COMP%]{font-size:12px}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]})}return n})();function Do(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Eo(n,u){1&n&&t.nrm(0,"azt-loading-ui",36)}function Po(n,u){1&n&&t.nrm(0,"azt-loading-ui",36)}const wo=function(n){return[n]};function Ro(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",15)(1,"a",16),t.nI1(2,"navigationLocalize"),t.j41(3,"h3",17),t.EFF(4),t.k0s(),t.j41(5,"div",18)(6,"span",19),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",18)(11,"span",19),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"div",18)(16,"span",19),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.EFF(19),t.k0s()(),t.j41(20,"div",20)(21,"div")(22,"div",21),t.DNE(23,Eo,1,0,"azt-loading-ui",22),t.EFF(24),t.nI1(25,"mytranslate"),t.nrm(26,"lucide-icon",23),t.k0s(),t.j41(27,"mat-menu",24,25)(29,"div",26)(30,"ul",27)(31,"li")(32,"button",28),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(2);return t.Njj(p.changeActivity(d))}),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()()()()()(),t.j41(35,"div",29)(36,"button",30),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(2);return t.Njj(p.openAddOrEditInfrastructure(d))}),t.nI1(37,"mytranslate"),t.qSk(),t.j41(38,"svg",31),t.nrm(39,"path",32)(40,"path",33),t.k0s()(),t.joV(),t.j41(41,"button",34),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(2);return t.Njj(p.showDeleteRoomDialog(d))}),t.nI1(42,"mytranslate"),t.DNE(43,Po,1,0,"azt-loading-ui",22),t.nrm(44,"lucide-icon",35),t.k0s()()()()}if(2&n){const e=u.$implicit,i=t.sdS(28),s=t.XpG(2);t.R7$(1),t.Y8G("routerLink",t.eq3(33,wo,t.bMT(2,17,"/business/infrastructure/"+e.id))),t.R7$(2),t.FS9("matTooltip",e.name),t.R7$(1),t.SpI(" ",e.name," "),t.R7$(3),t.JRh(t.bMT(8,19,"lang_test_market_address")),t.R7$(2),t.SpI(" : ",e.address," "),t.R7$(3),t.JRh(t.bMT(13,21,"lang_auto_dien_thoai")),t.R7$(2),t.SpI(" : ",e.phone," "),t.R7$(3),t.JRh(t.bMT(18,23,"lang_auto_tong_so_phong_hoc")),t.R7$(2),t.SpI(" : ",e.totalRoom," "),t.R7$(3),t.Y8G("ngClass",1==e.status?"btn-activity":"btn-un-activity")("matMenuTriggerFor",i),t.R7$(1),t.Y8G("ngIf",s.isChangingActivityId==e.id),t.R7$(1),t.SpI(" ",t.bMT(25,25,0==e.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(34,27,1==e.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(3),t.FS9("matTooltip",t.bMT(37,29,"lang_button_edit")),t.R7$(5),t.FS9("matTooltip",t.bMT(42,31,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",s.isDeletingId==e.id)}}function zo(n,u){if(1&n){const e=t.RV6();t.j41(0,"h3",4),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"div",5),t.DNE(4,Ro,45,35,"div",6),t.j41(5,"div",7)(6,"div",8),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.openAddOrEditInfrastructure())}),t.j41(7,"div",9),t.qSk(),t.j41(8,"svg",10),t.nrm(9,"path",11)(10,"path",12),t.k0s(),t.joV(),t.j41(11,"div",13),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()()(),t.nrm(14,"azt-scroll-to-top-bottom",14)}if(2&n){const e=t.XpG();t.R7$(1),t.SpI(" ",t.bMT(2,4,"lang_auto_quan_ly_co_so_vat_chat")," "),t.R7$(3),t.Y8G("ngForOf",e.objs),t.R7$(8),t.SpI(" ",t.bMT(13,6,"lang_auto_them_co_so")," "),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let Ao=(()=>{class n extends O.H{openAddOrEditInfrastructure(e){this.sAztDialogService.open(So,{data:e,restoreFocus:!1,width:"800px"}).afterClosed().subscribe(i=>{i&&this.getData()})}showDeleteRoomDialog(e){var i=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Bt.u,{data:{content:i},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(s=>{s&&(this.isDeletingId=e.id,this.waitDestroy(this.infrastructureService.apiInfrastructuresIdDelete(e.id).subscribe({next:d=>{d?(this.objs=this.objs.filter(p=>p.id!=e.id),this.successStatusObj("lang_core_xoa_co_so_thanh_cong")):this.errorStatusObj("lang_core_xoa_co_so_khong_thanh_cong",!0),this.isDeletingId=0},error:d=>{this.errorStatusObj(d.error.message,!0),this.isDeletingId=0}})))})}changeActivity(e){var i=this.objs.find(d=>d.id==e.id);if(!i)return;this.isChangingActivityId=e.id;let s=0==i.status?this.infrastructureService.apiInfrastructuresIdActivatePut(e.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(e.id);this.waitDestroy(s.subscribe({next:d=>{d&&i?i.status=0==i.status?1:0:this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0),this.isChangingActivityId=0},error:d=>{this.errorStatusObj(d.error.message,!0),this.isChangingActivityId=0}}))}getData(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresListPost({size:-1,page:1}).subscribe({next:e=>{this.objs=e.list??[],this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_co_so_vat_chat",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(e,i){super(),this.infrastructureService=e,this.sAztDialogService=i,this.objs=[],this.isChangingActivityId=0,this.isDeletingId=0}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(Et.B),t.rXU(ot.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["list-infrastructure"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],["azt-track-service","list-infrastructure-0HrlOWafsi",1,"grid","items-center","btn-add-infrastructure","clickable",3,"click"],[1,"flex","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-plus"],["d","M5 12h14"],["d","M12 5v14"],[1,"text-add-cs"],[3,"isScrollToTop"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box"],["azt-track-service","list-infrastructure-tBcgbalH2n",1,"clickable","block","p-3","pb-0",3,"routerLink"],[1,"text-md","font-bold","truncate","mr-auto",3,"matTooltip"],[1,"text-sm"],[1,"font-medium"],[1,"flex","justify-between","items-center","p-3"],[1,"text-sm","medium","clickable","btn","btn-primary",3,"ngClass","matMenuTriggerFor"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],["xPosition","before"],["menuSelectActivity","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],[1,"flex"],["azt-track-service","list-infrastructure-xLbmhq55M",1,"btn-flex","items-center","justify-center","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pen-square",2,"color","dodgerblue"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z"],["azt-track-service","list-infrastructure--kkgd3LUEQ",1,"flex","items-center","justify-center",3,"matTooltip","click"],["name","trash-2","size","16",1,"mr-1","text-danger"],[1,"mr-1"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,Do,1,1,"azt-loading-effect",1),t.DNE(2,zo,15,8,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(3);t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[I.Wk,o.YU,o.Sq,o.bT,E.kk,E.Cp,yt.oV,_.K,kt.I,H.R,N.Q,h.WGl,f.F2,f.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}"]})}return n})();var ie=l(26988),$o=l(31243),Go=l(68323);function No(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Lo(n,u){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_0"),","))}function Bo(n,u){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG().$implicit;let i;t.R7$(1),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_"+(null!==(i=e.day)&&void 0!==i?i:0)),",")}}function Uo(n,u){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_auto_hom_nay"),","))}const Yo=function(n){return{"z-index":n}};function Vo(n,u){if(1&n&&(t.j41(0,"div",27)(1,"div"),t.nrm(2,"azt-create-avatar",28),t.k0s()()),2&n){const e=u.$implicit,i=u.index,s=t.XpG(2).$implicit;t.Y8G("ngStyle",t.eq3(4,Yo,s.users.length-i)),t.R7$(2),t.Y8G("linkAvatar",e.avatar)("nameCreateAvatar",e.fullName)("size",28)}}function Xo(n,u){if(1&n&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Vo,3,6,"div",26),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_giang_vien"),":\xa0"),t.R7$(2),t.Y8G("ngForOf",e.users)}}const Jo=function(n){return[n]},Wo=function(n){return{backTo:n}};function Ko(n,u){if(1&n&&(t.j41(0,"div",13)(1,"div",14)(2,"h3",15),t.EFF(3),t.k0s()(),t.j41(4,"a",16),t.nI1(5,"navigationLocalize"),t.j41(6,"div",17)(7,"h3",18),t.EFF(8),t.k0s(),t.j41(9,"div",19),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",20)(13,"span",21),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",22)(17,"span",21),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.DNE(20,Xo,5,4,"div",23),t.k0s()()),2&n){const e=u.$implicit,i=t.XpG(4);t.R7$(3),t.Lme("",e.fromTime," - ",e.toTime,""),t.R7$(1),t.Y8G("routerLink",t.eq3(21,Jo,t.bMT(5,13,"/admin/student/classroom-details/"+e.classroomId+"/3")))("queryParams",t.eq3(23,Wo,i.returnUrl)),t.R7$(4),t.SpI(" ",e.classroomName," "),t.R7$(2),t.Lme("",t.bMT(11,15,"lang_core_buoi")," ",null==e.currentSession?null:e.currentSession.sort,""),t.R7$(4),t.Lme("",t.bMT(15,17,"lang_student_educational_program"),": ",null==e.program?null:e.program.name,""),t.R7$(4),t.E5c("",t.bMT(19,19,"lang_core_phong_hoc"),": ",null==e.infrastructure?null:e.infrastructure.name," - ",null==e.room?null:e.room.name,""),t.R7$(2),t.Y8G("ngIf",e.users&&e.users.length>0)}}function Ho(n,u){if(1&n&&(t.j41(0,"div",9)(1,"h2",10),t.DNE(2,Lo,3,3,"span",11),t.DNE(3,Bo,3,3,"span",11),t.DNE(4,Uo,3,3,"span",11),t.EFF(5),t.nI1(6,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.DNE(7,Ko,21,25,"div",12),t.k0s()),2&n){const e=u.$implicit,i=t.XpG(3);let s;t.R7$(1),t.Y8G("ngClass",i.isTodayDate(e.date)?"date-color":""),t.R7$(1),t.Y8G("ngIf",0==e.day&&!i.isTodayDate(e.date)),t.R7$(1),t.Y8G("ngIf",(null!==(s=e.day)&&void 0!==s?s:0)>0),t.R7$(1),t.Y8G("ngIf",0==e.day&&i.isTodayDate(e.date)),t.R7$(1),t.SpI(" ",t.bMT(6,6,e.date)," "),t.R7$(2),t.Y8G("ngForOf",e.sessions)}}function Zo(n,u){1&n&&t.nrm(0,"azt-loading-ui",33)}function Qo(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",29)(1,"span",30),t.bIt("click",function(){t.eBV(e);const s=t.XpG(3);return t.Njj(!s.sAztNextPaginationService.isLoadingNextPage&&s.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"lucide-icon",31),t.DNE(5,Zo,1,0,"azt-loading-ui",32),t.k0s()()}if(2&n){const e=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_instructional_work_see_more")," "),t.R7$(3),t.Y8G("ngIf",e.sAztNextPaginationService.isLoadingNextPage)}}function qo(n,u){if(1&n&&(t.qex(0),t.DNE(1,Ho,8,8,"div",7),t.DNE(2,Qo,6,4,"div",8),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.listGroupScheduleObjs),t.R7$(1),t.Y8G("ngIf",e.listGroupScheduleObjs.length&&e.sAztNextPaginationService.hasNextPage)}}function ti(n,u){1&n&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}function ei(n,u){if(1&n&&(t.j41(0,"h3",4),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.DNE(3,qo,3,2,"ng-container",5),t.DNE(4,ti,3,3,"ng-template",null,6,t.C5r)),2&n){const e=t.sdS(5),i=t.XpG();t.R7$(1),t.SpI(" ",t.bMT(2,3,"lang_business_instructional_work_title")," "),t.R7$(2),t.Y8G("ngIf",i.listGroupScheduleObjs.length>0)("ngIfElse",e)}}let ni=(()=>{class n extends O.H{isTodayDate(e){if(!e)return!1;var i=new Date;return i.getDay()==e.getDay()&&e.getMonth()==i.getMonth()&&i.getFullYear()==e.getFullYear()}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}formatHour(e){let i=new Date(e??"");return`${i.getHours().toString().padStart(2,"0")}:${i.getMinutes().toString().padStart(2,"0")}`}getData(e){e?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.schedulerService.apiSchedulersListPost({page:this.sAztNextPaginationService.curPage,size:this.sAztNextPaginationService.itemPerPage}).subscribe({next:i=>{this.scheduleObjs=this.scheduleObjs.concat(i.list);let s=this.commonService.arrayToDictionary(this.scheduleObjs,p=>p.currentSession?.date?.toString()??""),d=[];Object.entries(s).forEach(([p,V],Q)=>{if(V.length>0){let M=V[0],pt=this.formatHour(M.currentSession?.fromTime),gt=this.formatHour(M.currentSession?.toTime);var x=(V=V.sort((ct,Yt)=>(ct.currentSession?.sort??0)-(Yt.currentSession?.sort??1))).map(ct=>({...ct,fromTime:this.formatHour(ct.currentSession?.fromTime),toTime:this.formatHour(ct.currentSession?.toTime)}));const ht={date:new Date(M.currentSession?.date??""),day:M.currentSession?.day,fromTime:pt,toTime:gt,sessions:x};d.push(ht)}}),this.listGroupScheduleObjs=d,this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(i.total),this.stopStatusObj()},error:i=>{this.errorStatusObj(i.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_business_instructional_work_title",image:"lang_cms_test_image"}),this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.backLink=e||"/business/dashboard"})),super.ngOnInit(),this.getData(!1)}constructor(e,i,s){super(),this.activeRoute=e,this.schedulerService=i,this.sAztNextPaginationService=s,this.backLink="",this.returnUrl="/business/instructional-work",this.scheduleObjs=[],this.listGroupScheduleObjs=[]}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(I.nX),t.rXU($o.P),t.rXU(ie.h))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-instructional"]],features:[t.Jv_([ie.h]),t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[4,"ngIf","ngIfElse"],["emptyList",""],["class","pt-5",4,"ngFor","ngForOf"],["class","pt-3 font-medium",4,"ngIf"],[1,"pt-5"],[1,"text-md","font-medium","truncate","mr-auto","title-day",3,"ngClass"],[4,"ngIf"],["class","flex mt-3","style","flex-wrap: wrap",4,"ngFor","ngForOf"],[1,"flex","mt-3",2,"flex-wrap","wrap"],[1,"mr-5"],[1,"text-md","font-medium",2,"white-space","pre"],["azt-track-service","business-instructional-work-wb-lhbFmj",1,"box-teaching-hour","clickable",3,"routerLink","queryParams"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"session"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","justify-between","mt-1"],["style","display: flex; align-items: center","class","mt-1",4,"ngIf"],[1,"mt-1",2,"display","flex","align-items","center"],[2,"font-weight","500"],["class","show-tickets clickable ml-1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable","ml-1",3,"ngStyle"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"pt-3","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["name","chevron-down","size","20"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"flex","justify-center","pt-3"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,No,1,1,"azt-loading-effect",1),t.DNE(2,ei,6,5,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(3);t.Y8G("headerBackToLink",s.backLink),t.R7$(1),t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[I.Wk,o.YU,o.Sq,o.bT,o.B3,_.K,Go.p,H.R,N.Q,h.WGl,f.F2,f.wp,f.vv],styles:[".title-day[_ngcontent-%COMP%]{color:#708090;font-weight:800}.box-teaching-hour[_ngcontent-%COMP%]{background:#fff;padding:15px;border:1px solid steelblue;border-radius:8px;width:100%;max-width:500px}.date-color[_ngcontent-%COMP%]{color:#4682b4}.session[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:5px;font-size:12px;padding:0 5px;font-weight:500}.box-teaching-hour[_ngcontent-%COMP%]:hover{background:#f9f9f9}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}"]})}return n})();var oi=l(10127),ii=l(40609),ai=l(82937);function si(n,u){if(1&n){const e=t.RV6();t.j41(0,"mat-option",10),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.filterByClassId(d.id))}),t.EFF(1),t.k0s()}if(2&n){const e=u.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function ri(n,u){if(1&n&&(t.j41(0,"div",16),t.nrm(1,"azt-loading-effect",17),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",e.statusObj)}}function li(n,u){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function ci(n,u){1&n&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function di(n,u){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,ci,2,0,"span",20),t.EFF(3),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",e.lastMonthPaid," "),t.R7$(1),t.Y8G("ngIf",e.lastMonthPaid),t.R7$(1),t.SpI(" ",e.lastYearPaid," ")}}function mi(n,u){1&n&&(t.j41(0,"span",37),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function ui(n,u){if(1&n&&(t.j41(0,"div",40),t.nrm(1,"azt-student-info-box",41),t.k0s()),2&n){const e=u.$implicit;t.R7$(1),t.Y8G("name",e.fullName)("phone",e.phone)("showPhone",!0)("avatar",e.avatar)("showTooltip",!1)}}function _i(n,u){if(1&n&&(t.j41(0,"div",38),t.DNE(1,ui,2,5,"div",39),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",e.userParents)}}function pi(n,u){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td",31),t.bIt("click",function(){const d=t.eBV(e).$implicit,p=t.XpG(3);return t.Njj(p.addOrEditTuitionFee(d))}),t.nrm(2,"azt-student-info-box",32),t.k0s(),t.j41(3,"td",33),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",34),t.DNE(7,di,4,3,"span",20),t.DNE(8,mi,3,3,"span",35),t.k0s(),t.j41(9,"td",34),t.DNE(10,_i,2,1,"div",36),t.k0s()()}if(2&n){const e=u.$implicit;t.R7$(2),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("schoolName",e.schoolName)("hasUser",e.hasUser)("classrooms",e.classrooms)("joinedAt",e.joinedAt)("phone",e.phone)("email",e.email)("showPhone",!0),t.R7$(2),t.JRh(e.identificationNumber?t.i5U(5,14,e.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",!e.isTrial),t.R7$(1),t.Y8G("ngIf",e.isTrial),t.R7$(2),t.Y8G("ngIf",e.userParents)}}const ae=function(){return[]};function gi(n,u){if(1&n&&(t.j41(0,"div")(1,"div",25)(2,"table",26)(3,"thead")(4,"tr")(5,"th",27),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",28),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",29),t.EFF(12),t.nI1(13,"mytranslate"),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",29),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,pi,11,17,"tr",30),t.k0s()()()()),2&n){const e=t.XpG(2);let i;t.R7$(6),t.JRh(t.bMT(7,6,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,8,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(13,10,"lang_test_market_withdraw_time")," ",t.bMT(14,12,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(17,14,"lang_auto_phu_huynh")),t.R7$(3),t.Y8G("ngForOf",null!==(i=null==e.listPayment?null:e.listPayment.list)&&void 0!==i?i:t.lJ4(16,ae))}}function hi(n,u){if(1&n){const e=t.RV6();t.j41(0,"div",42),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",43),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.goBack())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function fi(n,u){if(1&n){const e=t.RV6();t.j41(0,"azt-paging",44),t.bIt("goToPaginationPage",function(s){t.eBV(e);const d=t.XpG(2);return t.Njj(d.setPageStudent(s))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("pageObj",e.pageObj)}}function bi(n,u){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);let i;t.R7$(1),t.Lme("",null!==(i=null==e.listPayment?null:e.listPayment.total)&&void 0!==i?i:0," ",t.bMT(2,2,"lang_auto_hoc_sinh"),"")}}function vi(n,u){if(1&n&&(t.j41(0,"div",18),t.DNE(1,li,3,3,"div",19),t.DNE(2,gi,20,17,"div",20),t.DNE(3,hi,6,6,"div",21),t.j41(4,"div",22),t.nrm(5,"div"),t.DNE(6,fi,1,1,"azt-paging",23),t.DNE(7,bi,3,4,"div",20),t.k0s()()),2&n){const e=t.XpG();let i,s,d,p;t.R7$(1),t.Y8G("ngIf",!e.searchContentObj.isLoading&&0==(null==e.listPayment?null:e.listPayment.total)&&""==e.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",(null!==(i=null==e.listPayment?null:e.listPayment.total)&&void 0!==i?i:0)>0),t.R7$(1),t.Y8G("ngIf",!e.searchContentObj.isLoading&&0==(null!==(s=null==e.listPayment?null:e.listPayment.list)&&void 0!==s?s:t.lJ4(5,ae)).length&&""!=e.searchContentObj.searchContent),t.R7$(3),t.Y8G("ngIf",(null!==(d=null==e.listPayment?null:e.listPayment.total)&&void 0!==d?d:0)>20),t.R7$(1),t.Y8G("ngIf",(null!==(p=null==e.listPayment?null:e.listPayment.total)&&void 0!==p?p:0)>0)}}const xi=function(n){return{"mt-1":n}},Ci=function(n,u){return{"ml-2":n,"mt-1":u}};let ki=(()=>{class n extends O.H{goBack(){this.searchContentObj.resetSearchContentEvent()}search(e){this.isLoading=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.getData(0==(this.listPayment?.list??[]).length?this.pageStudent:1)}setPageStudent(e){this.myNavigation("/business/student-management/"+e),this.isLoading=!0,this.pageStudent=e,this.getData(this.pageStudent)}addOrEditTuitionFee(e){this.sAztDialogService.open(oi.B,{width:"900px",restoreFocus:!1,data:e}).afterClosed().subscribe(i=>{i&&this.getData(this.pageStudent)})}addParent(){this.sAztDialogService.open(Ot,{width:"900px",restoreFocus:!1,data:void 0}).afterClosed().subscribe(e=>{e&&this.getData(this.pageStudent)})}filterByClassId(e){this.classroomId=e,this.getData(this.pageObj.page)}getData(e){this.pageObj.setPageNumber(e),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,classroomId:this.classroomId,name:this.searchContentObj.searchContent,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!0,me:!1,getAssessment:!1}).subscribe(s=>{s?(this.listPayment=s,this.pageObj.setTotalPages(this.listPayment?.total??0),this.isLoading=!1):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.isLoading=!1),this.searchContentObj.setLoading(!1)}))}getOwnerClassroom(){this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(e=>{e.success?(this.classroomOwner=e.data?.objs??[],this.getData(this.pageObj.page)):(this.errorStatusObj(e.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.isLoading=!1)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_hoc_phi",image:"lang_cms_test_image"}),this.commonService.getTranslate("lang_core_hoc_thu").subscribe(e=>{this.langName=e}),this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))??1),this.backLink=e||"/business/dashboard"})),super.ngOnInit(),this.getOwnerClassroom()}constructor(e,i,s,d){super(),this.sAztDialogService=e,this.studentService=i,this.activeRoute=s,this.classroomGroupService=d,this.backLink="",this.isLoading=!0,this.langName="",this.pageStudent=1,this.searchContentObj=new B.Z,this.classroomOwner=[],this.pageObj=new nt.d(20)}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(ot.i),t.rXU(ii.b),t.rXU(I.nX),t.rXU(ai.k))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-tuition"]],features:[t.Vt3],decls:27,vars:32,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["id","classroomId","appearance","fill",1,"ml-0","sm:ml-2","mt-3","sm:mt-0",2,"border-radius","5px","background","white"],["name","classroomId",3,"placeholder"],[3,"value","click"],[3,"value","click",4,"ngFor","ngForOf"],[1,"btn","btn-primary","shadow-md","w-full","sm:w-auto",3,"ngClass","click"],[1,"btn","btn-primary-soft","shadow-md","w-full","sm:w-auto",3,"ngClass","click"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","flex justify-center mt-5",4,"ngIf"],[4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-center","mt-5"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","email","showPhone"],[1,"text-center","capitalize"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],["class","grid-cols-12 gap-2",4,"ngIf"],[1,"text-slate-500"],[1,"grid-cols-12","gap-2"],["class","col-span-12 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","mb-1"],[3,"name","phone","showPhone","avatar","showTooltip"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[3,"pageObj","goToPaginationPage"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(p){return s.search(p.searchObj)}),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"mat-form-field",8)(12,"mat-select",9),t.nI1(13,"mytranslate"),t.j41(14,"mat-option",10),t.bIt("click",function(){return s.filterByClassId()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,si,2,2,"mat-option",11),t.k0s()()(),t.j41(18,"button",12),t.bIt("click",function(){return s.addOrEditTuitionFee()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",13),t.bIt("click",function(){return s.addParent()}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.DNE(24,ri,2,1,"div",14),t.DNE(25,vi,8,6,"ng-template",null,15,t.C5r),t.k0s()()),2&i){const d=t.sdS(26);t.Y8G("headerBackToLink",s.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,15,"lang_business_tuition_fee_title_top")," "),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,17,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",s.searchContentObj),t.R7$(3),t.FS9("placeholder",t.bMT(13,19,"lang_core_tim_theo_lop")),t.R7$(2),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(16,21,"lang_auto_tat_ca_cac_lop")," "),t.R7$(2),t.Y8G("ngForOf",s.classroomOwner),t.R7$(1),t.Y8G("ngClass",t.eq3(27,xi,s.isMobileDevice)),t.R7$(1),t.SpI("+ ",t.bMT(20,23,"lang_student_utils_add_student"),""),t.R7$(2),t.Y8G("ngClass",t.l_i(29,Ci,!s.isMobileDevice,s.isMobileDevice)),t.R7$(1),t.SpI("+ ",t.bMT(23,25,"lang_student_utils_add_parent"),""),t.R7$(2),t.Y8G("ngIf",s.isLoading)("ngIfElse",d)}},dependencies:[o.YU,o.Sq,o.bT,W.wT,Wt.rl,Kt.VO,_.K,y.q,k.W,C.B,N.Q,f.wp,f.Po],encapsulation:2})}return n})();function Ii(n,u){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}const Ct=function(n){return[n]};function yi(n,u){1&n&&(t.j41(0,"div",9)(1,"a",10),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",12),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(2,2,"/business/infrastructure"))),t.R7$(5),t.SpI(" ",t.bMT(7,4,"lang_business_infrastructure_title")," "))}function Oi(n,u){1&n&&(t.j41(0,"div",9)(1,"a",14),t.nI1(2,"navigationLocalize"),t.j41(3,"div",15)(4,"span",16),t.qSk(),t.j41(5,"svg",17)(6,"g",18),t.nrm(7,"path",19),t.k0s()()(),t.joV(),t.j41(8,"div",13),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(2,2,"/business/educational-program"))),t.R7$(8),t.SpI(" ",t.bMT(10,4,"lang_business_educational_program_title")," "))}function ji(n,u){1&n&&(t.j41(0,"div",9)(1,"a",20),t.nI1(2,"navigationLocalize"),t.j41(3,"div",15)(4,"span",16),t.qSk(),t.j41(5,"svg",21)(6,"g",22),t.nrm(7,"path",23),t.k0s()()(),t.joV(),t.j41(8,"div",13),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(2,2,"/business/instructional-work"))),t.R7$(8),t.SpI(" ",t.bMT(10,4,"lang_business_instructional_work_title")," "))}function Fi(n,u){1&n&&(t.j41(0,"div",9)(1,"a",24),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",25),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(2,2,"/business/student-management/1"))),t.R7$(5),t.SpI(" ",t.bMT(7,4,"lang_notify_list_students")," "))}function Ti(n,u){1&n&&(t.j41(0,"div",9)(1,"a",24),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",26),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(2,2,"/business/account-management"))),t.R7$(5),t.SpI(" ",t.bMT(7,4,"lang_core_quan_ly_tai_khoan")," "))}function Mi(n,u){1&n&&(t.j41(0,"div",9)(1,"a",24),t.nI1(2,"navigationLocalize"),t.j41(3,"div",27),t.nrm(4,"lucide-icon",28),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(2,2,"/business/business-configs/0"))),t.R7$(5),t.SpI(" ",t.bMT(7,4,"lang_business_dashboard_business_configs")," "))}function Si(n,u){1&n&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6)(5,"div",7),t.DNE(6,yi,8,8,"div",8),t.nI1(7,"async"),t.nI1(8,"allowFeatureBusinessForUser"),t.DNE(9,Oi,11,8,"div",8),t.nI1(10,"async"),t.nI1(11,"allowFeatureBusinessForUser"),t.DNE(12,ji,11,8,"div",8),t.nI1(13,"async"),t.nI1(14,"allowFeatureBusinessForUser"),t.DNE(15,Fi,8,8,"div",8),t.nI1(16,"async"),t.nI1(17,"allowFeatureBusinessForUser"),t.DNE(18,Ti,8,8,"div",8),t.nI1(19,"async"),t.nI1(20,"allowFeatureBusinessForUser"),t.DNE(21,Mi,8,8,"div",8),t.nI1(22,"async"),t.nI1(23,"allowFeatureBusinessForUser"),t.k0s()()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,7,"lang_cms_business_dashboard_title")," "),t.R7$(4),t.Y8G("ngIf",t.bMT(7,9,t.brH(8,11,"","training_center_infrastructure",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(10,15,t.brH(11,17,"","training_center_curriculum",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(13,21,t.brH(14,23,"","training_center_instructional",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(16,27,t.brH(17,29,"","training_center_tuition",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(19,33,t.brH(20,35,"","training_center_manage_account",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(22,39,t.brH(23,41,"","business_configs_menu",!1))))}let Di=(()=>{class n extends O.H{constructor(){super()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_business_dashboard_title",description:"lang_cms_business_dashboard_description",image:"lang_cms_test_image"}),super.ngOnInit()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-dashboard"]],features:[t.Vt3],decls:6,vars:7,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["isReadyBusinessPermision",""],[3,"currentStatusObj"],[1,"azt-dashboard","w-full","lg:w-80%","mx-auto","mt-5"],[1,"text-lg","font-medium","intro-y"],[1,"mb-3","grid","grid-cols-12","intro-y","sm:gap-10"],[1,"col-span-12","grid","grid-cols-12","gap-6","mt-4","flex","items-center"],["class","col-span-6 md:col-span-3 intro-y","tourAnchor","azt-tour-1",4,"ngIf"],["tourAnchor","azt-tour-1",1,"col-span-6","md:col-span-3","intro-y"],["azt-track-service","dashboard-MZWdTjtFv",3,"routerLink"],[1,"box","py-8","zoom-in","text-center"],["name","building","size","48",1,"text-primary","mx-auto"],[1,"font-medium","text-center","text-base","mt-3"],["azt-track-service","dashboard-dbDZTHWC53",3,"routerLink"],[1,"box","py-8","zoom-in"],[1,"block","w-12","h-12","text-primary","mx-auto"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 38 40","version","1.1","width","48","height","48","stroke-width","2","stroke-linecap","round"],["_ngcontent-ng-c1409655624","","transform","matrix(1 0 0 1 -313 -361 )"],["_ngcontent-ng-c1409655624","","d","M 36.0612244897959 6.99544270833333 C 36.6390556222489 7.22330729166667 37.0876350540216 7.54991319444444 37.406962785114 7.97526041666667 C 38.015206082433 8.84114583333333 38.1520608243297 9.82096354166667 37.8175270108043 10.9147135416667 L 31.5450180072029 31.5592447916667 C 31.2561024409764 32.5314670138889 30.6744697879152 33.3479817708333 29.8001200480192 34.0087890625 C 28.9257703081233 34.6695963541667 27.9943977591036 35 27.0060024009604 35 L 5.953181272509 35 C 4.78231292517007 35 3.65326130452181 34.5936414930556 2.56602641056423 33.7809244791667 C 1.47879151660664 32.9682074652778 0.722288915566227 31.9694010416667 0.296518607442977 30.7845052083333 C -0.0684273709483793 29.7667100694444 -0.0836334533813525 28.8020833333333 0.250900360144058 27.890625 C 0.250900360144058 27.8298611111111 0.273709483793517 27.6247829861111 0.319327731092437 27.275390625 C 0.364945978391357 26.9259982638889 0.395358143257303 26.6449652777778 0.410564225690276 26.4322916666667 C 0.425770308123249 26.3107638888889 0.40296118447379 26.1474609375 0.342136854741897 25.9423828125 C 0.281312525010004 25.7373046875 0.258503401360544 25.5891927083333 0.273709483793517 25.498046875 C 0.304121648659464 25.3309461805556 0.364945978391357 25.1714409722222 0.456182472989196 25.01953125 C 0.547418967587035 24.8676215277778 0.672869147659064 24.6891276041667 0.832533013205282 24.4840494791667 C 0.992196878751501 24.2789713541667 1.11764705882353 24.1004774305556 1.20888355342137 23.9485677083333 C 1.55862344937975 23.3713107638889 1.90076030412165 22.6763237847222 2.23529411764706 21.8636067708333 C 2.56982793117247 21.0508897569444 2.79791916766707 20.3559027777778 2.91956782713085 19.7786458333333 C 2.96518607442977 19.6267361111111 2.96898759503802 19.3988715277778 2.93097238895558 19.0950520833333 C 2.89295718287315 18.7912326388889 2.88915566226491 18.5785590277778 2.91956782713085 18.45703125 C 2.96518607442977 18.2899305555556 3.09443777511004 18.0772569444444 3.30732292917167 17.8190104166667 C 3.52020808323329 17.5607638888889 3.64945978391357 17.3860677083333 3.69507803121249 17.294921875 C 4.01440576230492 16.748046875 4.33373349339736 16.0492621527778 4.6530612244898 15.1985677083333 C 4.97238895558223 14.3478732638889 5.1624649859944 13.6642795138889 5.22328931572629 13.1477864583333 C 5.23849539815926 13.0110677083333 5.21948779511805 12.7680121527778 5.16626650660264 12.4186197916667 C 5.11304521808724 12.0692274305556 5.11684673869548 11.8565538194444 5.17767106842737 11.7805989583333 C 5.23849539815926 11.5831163194444 5.40576230492197 11.3514539930556 5.67947178871549 11.0856119791667 C 5.953181272509 10.8197699652778 6.12044817927171 10.6488715277778 6.1812725090036 10.5729166666667 C 6.47018807523009 10.1779513888889 6.79331732693077 9.5361328125 7.15066026410564 8.6474609375 C 7.50800320128051 7.7587890625 7.71708683473389 7.02582465277778 7.77791116446579 6.44856770833333 C 7.79311724689876 6.32703993055555 7.7703081232493 6.13335503472222 7.70948379351741 5.86751302083333 C 7.64865946378552 5.60167100694444 7.63345338135254 5.400390625 7.66386554621849 5.263671875 C 7.69427771108443 5.14214409722222 7.76270508203281 5.00542534722222 7.86914765906362 4.853515625 C 7.97559023609444 4.70160590277778 8.1124449779912 4.52690972222222 8.2797118847539 4.32942708333333 C 8.44697879151661 4.13194444444444 8.57623049219688 3.97243923611111 8.66746698679472 3.85091145833333 C 8.78911564625851 3.66861979166667 8.91456582633053 3.43695746527778 9.0438175270108 3.15592447916667 C 9.17306922769108 2.87489149305555 9.28711484593838 2.60904947916667 9.3859543817527 2.3583984375 C 9.48479391756703 2.10774739583333 9.60644257703081 1.83430989583333 9.75090036014406 1.5380859375 C 9.8953581432573 1.24186197916667 10.0436174469788 0.998806423611109 10.1956782713085 0.808919270833332 C 10.3477390956383 0.619032118055551 10.5492196878752 0.440538194444441 10.8001200480192 0.2734375 C 11.0510204081633 0.106336805555551 11.3247298919568 0.0189887152777773 11.6212484993998 0.011393229166668 C 11.9177671068427 0.00379774305555081 12.2789115646259 0.045572916666668 12.7046818727491 0.13671875 L 12.6818727490996 0.205078125 C 13.2597038815526 0.068359375 13.6474589835934 0 13.8451380552221 0 L 31.202881152461 0 C 32.328131252501 0 33.1948779511805 0.425347222222219 33.8031212484994 1.27604166666667 C 34.4113645458183 2.12673611111111 34.5482192877151 3.11414930555555 34.2136854741897 4.23828125 L 27.9639855942377 24.8828125 C 27.4165666266507 26.6905381944444 26.8729491796719 27.8564453125 26.3331332533013 28.3805338541667 C 25.7933173269308 28.9046223958333 24.8163265306122 29.1666666666667 23.4021608643457 29 L 3.58103241296519 29 C 3.17046818727491 29.1666666666667 2.88155262104842 29.2805989583333 2.71428571428571 29.5084635416667 C 2.54701880752301 29.7515190972222 2.53941576630652 30.078125 2.69147659063625 30.48828125 C 3.05642256902761 31.5516493055556 4.15126050420168 32.0833333333333 5.97599039615846 32 L 27.0288115246098 32 C 27.4697879151661 32.0833333333333 27.8955582232893 31.9656032986111 28.3061224489796 31.7301432291667 C 28.7166866746699 31.4946831597222 28.9827931172469 31.1794704861111 29.1044417767107 30.7845052083333 L 35.9471788715486 8.29427083333333 C 36.0536214485794 7.96006944444444 36.0916366546619 7.52712673611111 36.0612244897959 6.99544270833333 Z M 13.6170468187275 6.5625 L 13.1380552220888 8.02083333333333 C 13.0772308923569 8.21831597222222 13.0924369747899 8.38921440972222 13.1836734693878 8.53352864583333 C 13.2749099639856 8.67784288194444 13.4269707883153 8.75 13.639855942377 9 L 27.5078031212485 9 C 27.7054821928772 8.75 27.8993597438976 8.67784288194444 28.0894357743097 8.53352864583333 C 28.2795118047219 8.38921440972222 28.4049619847939 8.21831597222222 28.4657863145258 8.02083333333333 L 28.9447779111645 6.5625 C 29.0056022408964 6.36501736111111 28.9903961584634 6.19411892361111 28.8991596638655 6.0498046875 C 28.8079231692677 5.90549045138889 28.655862344938 5.83333333333333 28.4429771908764 6 L 14.5750300120048 6 C 14.3773509403762 5.83333333333333 14.1834733893557 5.90549045138889 13.9933973589436 6.0498046875 C 13.8033213285314 6.19411892361111 13.6778711484594 6.36501736111111 13.6170468187275 6.5625 Z M 11.7238895558223 12.3958333333333 L 11.2448979591837 13.8541666666667 C 11.1840736294518 14.0516493055556 11.1992797118848 14.2225477430556 11.2905162064826 14.3668619791667 C 11.3817527010804 14.5111762152778 11.5338135254102 14.5833333333333 11.7466986794718 15 L 25.6146458583433 15 C 25.812324929972 14.5833333333333 26.0062024809924 14.5111762152778 26.1962785114046 14.3668619791667 C 26.3863545418167 14.2225477430556 26.5118047218888 14.0516493055556 26.5726290516206 13.8541666666667 L 27.0516206482593 12.3958333333333 C 27.1124449779912 12.1983506944444 27.0972388955582 12.0274522569444 27.0060024009604 11.8831380208333 C 26.9147659063625 11.7388237847222 26.7627050820328 11.6666666666667 26.5498199279712 12 L 12.6818727490996 12 C 12.484193677471 11.6666666666667 12.2903161264506 11.7388237847222 12.1002400960384 11.8831380208333 C 11.9101640656263 12.0274522569444 11.7847138855542 12.1983506944444 11.7238895558223 12.3958333333333 Z ","fill-rule","nonzero","stroke","none","transform","matrix(1 0 0 1 313 361 )","fill","#1e3fb0"],["azt-track-service","dashboard-WiSckpXd7J",3,"routerLink"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 38 40","version","1.1","width","48","height","48"],["transform","matrix(1 0 0 1 -892 -177 )"],["d","M 17.1345062429058 12.9854991634133 C 18.0474839197881 13.8410485220301 18.5039727582293 14.877858337981 18.5039727582293 16.095928611266 C 18.5039727582293 17.2994980479643 18.0474839197881 18.3326826547685 17.1345062429058 19.1954824316788 C 16.2215285660235 20.058282208589 15.1252364737041 20.4896820970441 13.8456299659478 20.4896820970441 C 12.5660234581915 20.4896820970441 11.4697313658721 20.058282208589 10.5567536889898 19.1954824316788 C 9.64377601210746 18.3326826547685 9.18728717366629 17.2994980479643 9.18728717366629 16.095928611266 C 9.18728717366629 14.877858337981 9.64377601210746 13.8410485220301 10.5567536889898 12.9854991634133 C 11.4697313658721 12.1299498047964 12.5660234581915 11.702175125488 13.8456299659478 11.702175125488 C 15.1252364737041 11.702175125488 16.2215285660235 12.1299498047964 17.1345062429058 12.9854991634133 Z M 27.9716231555051 12.9854991634133 C 28.8774120317821 13.8410485220301 29.3303064699205 14.877858337981 29.3303064699205 16.095928611266 C 29.3303064699205 17.2994980479643 28.8774120317821 18.3326826547685 27.9716231555051 19.1954824316788 C 27.0658342792281 20.058282208589 25.9659477866061 20.4896820970441 24.671963677639 20.4896820970441 C 23.3923571698827 20.4896820970441 22.2960650775634 20.058282208589 21.383087400681 19.1954824316788 C 20.4701097237987 18.3326826547685 20.0136208853575 17.2994980479643 20.0136208853575 16.095928611266 C 20.0136208853575 14.877858337981 20.4701097237987 13.8410485220301 21.383087400681 12.9854991634133 C 22.2960650775634 12.1299498047964 23.3923571698827 11.702175125488 24.671963677639 11.702175125488 C 25.9659477866061 11.702175125488 27.0658342792281 12.1299498047964 27.9716231555051 12.9854991634133 Z M 32.6299659477866 20.7615727830452 C 33.1619371925842 20.5368098159509 33.679530836171 20.2866703848299 34 20.0111544896821 L 34 5.50306748466258 C 34.1827468785471 4.2414947016174 33.9527052591752 3.34606804238706 33.4926220204313 2.81678750697156 C 33.0325387816875 2.28750697155605 32.2345819144911 2.0228667038483 31.0987514188422 2 L 7.11691259931896 2 C 5.92357169882709 2.0228667038483 5.11483163072266 2.26938092582264 4.69069239500568 2.76240936977133 C 4.26655315928869 3.25543781372002 4.05448354143019 4.16899051868377 4 5.50306748466258 L 4 20.1416620189626 C 4.67272039349224 20.4751812604573 5.30892924706773 20.7651979921919 5.96311010215664 21.0117122141662 C 6.61729095724556 21.2582264361405 7.19958380628074 21.4612381483547 7.7099886492622 21.6207473508087 C 8.22039349224366 21.7802565532627 8.80268634127885 21.9143892916899 9.45686719636776 22.0231455660904 C 10.1110480514567 22.1319018404908 10.6214528944381 22.2116564417178 10.9880817253121 22.2624093697713 C 11.3547105561862 22.3131622978249 11.8579265985622 22.3421639709983 12.4977298524404 22.3494143892917 C 13.1375331063186 22.3566648075851 13.5580779417329 22.3602900167317 13.7593643586833 22.3602900167317 C 13.9606507756338 22.3602900167317 14.3668180098373 22.345789180145 14.977866061294 22.3167875069716 C 15.5889141127507 22.2877858337981 15.9088157396897 22.2732849972114 15.9375709421112 22.2732849972114 C 16.9152478244419 22.2587841606247 17.5981838819523 22.4545454545455 17.9863791146425 22.8605688789738 C 18.0726447219069 22.9475738984941 18.1445327279607 23.0128276631344 18.2020431328036 23.0563301728946 C 18.575860764283 23.4188510875627 19.0143776012107 23.7886224205243 19.5175936435868 24.1656441717791 C 19.6182368520621 22.8460680423871 20.466515323496 22.2152816508645 22.0624290578888 22.2732849972114 C 22.1343170639425 22.2732849972114 22.3967082860386 22.2841606246514 22.8496027241771 22.3059118795315 C 23.3024971623156 22.3276631344116 23.6116155883466 22.3421639709983 23.7769580022701 22.3494143892917 C 23.9423004161937 22.3566648075851 24.2693908437382 22.3639152258784 24.7582292849035 22.3711656441718 C 25.2470677260689 22.3784160624651 25.6280741581536 22.3711656441718 25.9012485811578 22.3494143892917 C 26.1744230041619 22.3276631344116 26.5662126371548 22.2950362520915 27.0766174801362 22.2515337423313 C 27.5870223231177 22.2080312325711 28.0255391600454 22.1464026770775 28.3921679909194 22.0666480758505 C 28.7587968217934 21.9868934746235 29.2045024593265 21.8890128276631 29.7292849035187 21.7730061349693 C 30.2540673477109 21.6569994422755 30.7357169882709 21.5156162855549 31.1742338251986 21.3488566648076 C 31.6127506621264 21.1820970440602 32.097994702989 20.9863357501394 32.6299659477866 20.7615727830452 Z M 37.7843359818388 18.532069157836 C 38.0862656072645 18.9090909090909 38.057510404843 19.3658672615728 37.6980703745744 19.9023982152817 C 35.9583806280742 22.0630228667038 33.2841468028755 23.8901282766313 29.6753688989784 25.3837144450641 C 30.883087400681 29.5164528722811 30.7177449867575 32.8878973786949 29.1793416572077 35.4980479643056 C 28.2304199772985 37.1366424986057 26.9148694665153 38.2097044060234 25.2326901248581 38.7172336865588 C 23.7374195989406 39.1812604573341 22.4290578887628 39.0725041829336 21.3076049943246 38.3909648633575 C 20.0711312902005 37.6514221974345 19.48164964056 36.4623535973229 19.539160045403 34.8237590630229 L 19.5175936435868 27.7328499721138 L 19.5175936435868 27.7110987172337 C 19.4025728339009 27.6820970440602 19.2264472190692 27.6385945343001 18.9892167990919 27.5805911879532 C 18.7519863791146 27.5225878416062 18.5830495648884 27.4863357501394 18.4824063564132 27.4718349135527 L 18.460839954597 34.8237590630229 C 18.51835035944 36.4768544339097 17.9216799091941 37.6659230340212 16.6708286038593 38.3909648633575 C 15.5349981082104 39.0725041829336 14.2194475974272 39.1812604573341 12.7241770715096 38.7172336865588 C 11.0419977298524 38.1952035694367 9.73363601967461 37.1076408254322 8.79909194097616 35.4545454545455 C 7.2894438138479 32.8443948689347 7.1312902005297 29.4874511991076 8.32463110102157 25.3837144450641 C 4.71585319712448 23.8901282766313 2.04161937192584 22.0630228667038 0.301929625425653 19.9023982152817 C -0.0575104048429815 19.3658672615728 -0.0862656072644722 18.9090909090909 0.21566401816118 18.532069157836 C 0.517593643586833 18.1550474065811 0.948921679909194 18.1622978248745 1.50964812712826 18.5538204127161 C 1.56715853197124 18.5828220858896 1.64982973893303 18.6335750139431 1.75766174801362 18.7060791968767 C 1.86549375709421 18.7785833798104 1.94097616345062 18.8365867261573 2 18.8800892359175 L 2 3.78471834913553 C 1.98410896708286 2.74065811489125 2.32198259553538 1.84885666480758 2.99772985244041 1.10931399888455 C 3.67347710934544 0.369771332961515 4.49300037835793 0 5.45629965947787 0 L 32.5652667423383 0 C 33.5285660234582 0 34.3480892924707 0.369771332961515 35.0238365493757 1.10931399888455 C 35.6995838062807 1.84885666480758 36.0374574347333 2.74065811489125 36 3.78471834913553 L 36 18.8800892359175 L 36.4903518728717 18.5538204127161 C 37.0510783200908 18.1622978248745 37.4824063564132 18.1550474065811 37.7843359818388 18.532069157836 Z ","fill-rule","nonzero","fill","#1e3fb0","stroke","none","transform","matrix(1 0 0 1 892 177 )"],["azt-track-service","dashboard-6wko4rwl-1",3,"routerLink"],["name","user","size","48",1,"text-primary","mx-auto"],["name","users","size","48",1,"text-primary"],[1,"box","py-8","text-center","zoom-in"],["name","settings","size","48",1,"text-primary"]],template:function(i,s){if(1&i&&(t.j41(0,"teacher-layout",0),t.DNE(1,Ii,1,1,"azt-loading-effect",1),t.nI1(2,"async"),t.nI1(3,"alreadyDataForBusinessPermission"),t.DNE(4,Si,24,45,"ng-template",null,2,t.C5r),t.k0s()),2&i){const d=t.sdS(5);t.Y8G("headerBackToLink","/admin/dashboard"),t.R7$(1),t.Y8G("ngIf",!t.bMT(2,3,t.bMT(3,5,"")))("ngIfElse",d)}},dependencies:[I.Wk,o.bT,_.K,N.Q,h.WGl,o.Jj,f.F2,f.wp,f.bj,f.aJ],encapsulation:2})}return n})();const Ei=[{path:"",component:(()=>{class n extends O.H{static#t=this.\u0275fac=function(){let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}}();static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azota-for-business"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","azota-business"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[I.n3],encapsulation:2})}return n})(),canActivate:[rt.t],children:[{path:"dashboard",component:Di},{path:"educational-program",component:Qn},{path:"create-educational-program",component:Qt},{path:"create-general-educational-program",component:jn},{path:"edit-educational-program/:id",component:Qt},{path:"educational-program/:id",component:Vn},{path:"infrastructure",component:Ao},{path:"infrastructure/:id",component:yo},{path:"instructional-work",component:ni},{path:"student-management/:page",component:ki},{path:"account-management",component:fe},{path:"business-configs/:configType",component:we}]}];let Pi=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[I.iI.forChild(Ei),I.iI,q.XE]})}return n})(),wi=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({providers:[{provide:U.vn,useValue:X.c.azt_tiny_mce_script_src}],imports:[I.iI,o.MD,A.s,U.sv,Pi,z.Id,a.YN,a.X1,r.hM,D.L,m.Lk,R.xv,g.Q,c.b,h.flO.pick(h.Ptg),w.f,F.rc]})}return n})()},14999:(at,L,l)=>{l.d(L,{d:()=>z});var o=l(89163),a=l(33887),r=l(26860),I=l(65544),F=l(54460),U=l(2915),w=l(52811),h=l(73437);function m(D,c){if(1&D&&(r.qex(0),r.EFF(1),r.nI1(2,"mytranslate"),r.j41(3,"b",10),r.EFF(4),r.k0s(),r.bVm()),2&D){const g=r.XpG();r.R7$(1),r.SpI(" \xa0",r.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),r.R7$(3),r.JRh(null==g.classroomObj?null:g.classroomObj.name)}}function R(D,c){1&D&&r.nrm(0,"azt-loading-ui",11)}let z=(()=>{class D extends a._{btnCloseDialog(g){this.dialogRef.close(g)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(g=>{1==g.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(g.message,!0),this.btnCloseDialog(!1))})))}constructor(g,X,A){super(A,X),this.studentService=g,this.dialogRef=X,this.data=A,this.studentObj=A.studentObj,this.classroomObj=A.classroomObj}static#t=this.\u0275fac=function(X){return new(X||D)(r.rXU(I.b0),r.rXU(o.CP,8),r.rXU(o.Vh,8))};static#e=this.\u0275cmp=r.VBU({type:D,selectors:[["app-delete-single-student"]],features:[r.Vt3],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(X,A){1&X&&(r.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),r.EFF(5),r.nI1(6,"mytranslate"),r.j41(7,"b",4),r.EFF(8),r.k0s(),r.DNE(9,m,5,4,"ng-container",5),r.EFF(10," ? "),r.k0s()()()(),r.j41(11,"div",6)(12,"button",7),r.bIt("click",function(){return A.btnCloseDialog(!1)}),r.EFF(13),r.nI1(14,"mytranslate"),r.k0s(),r.j41(15,"button",8),r.bIt("click",function(){return A.confirmDelete()}),r.DNE(16,R,1,0,"azt-loading-ui",9),r.EFF(17),r.nI1(18,"mytranslate"),r.k0s()()()),2&X&&(r.R7$(5),r.SpI(" ",r.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),r.R7$(3),r.JRh(null==A.studentObj?null:A.studentObj.fullName),r.R7$(1),r.Y8G("ngIf",null==A.classroomObj?null:A.classroomObj.name),r.R7$(4),r.SpI(" ",r.bMT(14,8,"lang_cms_common_close_btn")," "),r.R7$(3),r.Y8G("ngIf",A.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[F.bT,U.U,w.R,h.wp],encapsulation:2})}return D})()},46723:(at,L,l)=>{l.d(L,{B:()=>J});var o=l(81519),a=l(10936),r=l(47426),I=l(89163),F=l(74960),U=l(99503),w=l(79347),h=l(33887),m=l(9691),R=l(44477),z=l(42947),D=l(43234),g=(l(9280),l(26860)),X=l(65544),A=l(54460),q=l(2915),rt=l(52811),lt=l(96112),O=l(73437);function nt($,W){if(1&$&&(g.j41(0,"div",10)(1,"span"),g.EFF(2),g.nI1(3,"mytranslate"),g.k0s()()),2&$){const E=g.XpG();g.R7$(2),g.SpI("",g.bMT(3,1,E.msgError),"!")}}function B($,W){1&$&&g.nrm(0,"azt-loading-ui",11)}let J=(()=>{class $ extends h._{confirmAction(){let E=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let b={id:this.studentObj?.id??0,fullName:E.fullName,phone:E.phoneNumber,email:E.email,identificationNumber:E.identificationNumber?Number(E.identificationNumber):void 0,gender:Number(E.gender),birthday:E.birthday,classroomId:this.classroomObj?.id??0,facebookLink:E.facebookLink,schoolName:E.school};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(b).subscribe(j=>{1==j.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=j.message??"",this.stopStatusObj())}))}}btnCloseDialog(E){this.dialogRef.close(E)}ngOnInit(){super.ngOnInit()}constructor(E,b,j){super(j,b),this.studentService=E,this.dialogRef=b,this.data=j,this.msgError="",this.maxDate=D.c.maxDateTimePicker,this.studentForm=new z.d,this.studentObj=j.studentObj,this.classroomObj=j.classroomObj,this.studentForm.form=new a.gE({fullName:new a.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[a.k0.required]}),gender:new a.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new a.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new a.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[R.U.isInvalidEmail,a.k0.email,a.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new a.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[a.k0.required,a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]}),identificationNumber:new a.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,6),{nonNullable:!0,validators:[a.k0.min(1),a.k0.maxLength(6),a.k0.pattern("^[0-9]*$")]}),facebookLink:new a.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new a.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}static#t=this.\u0275fac=function(b){return new(b||$)(g.rXU(X.b0),g.rXU(I.CP,8),g.rXU(I.Vh,8))};static#e=this.\u0275cmp=g.VBU({type:$,selectors:[["app-edit-student"]],features:[g.Jv_([{provide:o.$O,useClass:U.fb,deps:[r.Ju,U.ij]},{provide:o.vq,useFactory:w.fJ,deps:[m.F]},{provide:F.U$,useValue:{floatLabel:"never"}}]),g.Vt3],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"mr-1"]],template:function(b,j){1&b&&(g.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),g.EFF(5),g.nI1(6,"mytranslate"),g.k0s(),g.nrm(7,"azt-form-enter-info-student",4),g.DNE(8,nt,4,3,"div",5),g.k0s()()(),g.j41(9,"div",6)(10,"button",7),g.bIt("click",function(){return j.btnCloseDialog(!1)}),g.EFF(11),g.nI1(12,"mytranslate"),g.k0s(),g.j41(13,"button",8),g.bIt("click",function(){return j.confirmAction()}),g.DNE(14,B,1,0,"azt-loading-ui",9),g.EFF(15),g.nI1(16,"mytranslate"),g.k0s()()()),2&b&&(g.R7$(5),g.SpI(" ",g.bMT(6,7,"lang_student_utils_edit_student")," "),g.R7$(2),g.Y8G("studentForm",j.studentForm),g.R7$(1),g.Y8G("ngIf",""!==j.msgError),g.R7$(3),g.SpI(" ",g.bMT(12,9,"lang_cms_common_close_btn")," "),g.R7$(2),g.Y8G("disabled",j.statusObj.loading||j.studentForm.form.invalid),g.R7$(1),g.Y8G("ngIf",j.statusObj.loading),g.R7$(1),g.SpI(" ",g.bMT(16,11,"lang_button_update")," "))},dependencies:[A.bT,q.U,rt.R,lt.s,O.wp],encapsulation:2})}return $})()},26988:(at,L,l)=>{l.d(L,{h:()=>a});var o=l(26860);let a=(()=>{class r{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(F){this.itemPerPage=F}setLoading(F){this.isLoadingNextPage=F}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(F){return this.totalRecord=F,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}static#t=this.\u0275fac=function(U){return new(U||r)};static#e=this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:null})}return r})()},45344:(at,L,l)=>{l.d(L,{u:()=>$});var o=l(81519),a=l(26860),r=l(34514),I=l(47426),F=l(60902),U=l(99503),w=l(79347),h=l(9691),m=l(59640),R=l(42947),z=l(46899),D=l(95412),c=l(54460),g=l(12992),X=l(74960),A=l(4375),q=l(10936),rt=l(52811),lt=l(73437);function O(W,E){1&W&&(a.j41(0,"div",7),a.nrm(1,"azt-loading-ui"),a.k0s())}function nt(W,E){if(1&W){const b=a.RV6();a.j41(0,"div",11)(1,"mat-checkbox",12),a.bIt("ngModelChange",function(T){a.eBV(b);const et=a.XpG().$implicit;return a.Njj(et.selected=T)}),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s()()}if(2&W){const b=a.XpG().$implicit;a.R7$(1),a.Y8G("ngModel",b.selected)("checked",b.selected),a.R7$(1),a.SpI(" ",a.bMT(3,3,"lang_core_thang")+" "+b.month+"/"+b.year," ")}}function B(W,E){if(1&W&&(a.qex(0),a.DNE(1,nt,4,5,"div",10),a.bVm()),2&W){const b=E.$implicit,j=a.XpG(2);a.R7$(1),a.Y8G("ngIf",b.year==j.currentYearSelect)}}function J(W,E){if(1&W&&(a.j41(0,"div",8),a.DNE(1,B,2,1,"ng-container",9),a.k0s()),2&W){const b=a.XpG();a.R7$(1),a.Y8G("ngForOf",b.checkboxMonth.checkboxMonth)}}let $=(()=>{class W extends m.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(b=>1==b.selected)}getHistoresMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId).subscribe({next:b=>{this.checkboxMonth.checkboxMonth.map(j=>j.selected=null!=b.histories.find(T=>T.month==j.month&&j.year==T.year)),this.stopStatusObj()},error:b=>{this.isSaving=!1,this.errorStatusObj(b.error.message,!0)}})))}ngOnInit(){super.ngOnInit(),this.getHistoresMonth()}constructor(b,j,T){super(),this.sAztDialogService=b,this.sAztTimeService=j,this.paymentService=T,this.checkboxMonth=new F.L,this.sendListMonth=new a.bkB,this.studentForm=new R.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(j){return new(j||W)(a.rXU(z.i),a.rXU(h.F),a.rXU(D.W))};static#e=this.\u0275cmp=a.VBU({type:W,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},features:[a.Jv_([{provide:o.$O,useClass:U.fb,deps:[I.Ju,r.ij]},{provide:o.vq,useFactory:w.fJ,deps:[h.F]}]),a.Vt3],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"value","valueChange"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModel","checked","ngModelChange"]],template:function(j,T){1&j&&(a.j41(0,"div",0)(1,"h3",1),a.EFF(2),a.nI1(3,"mytranslate"),a.nI1(4,"mytranslate"),a.nI1(5,"mytranslate"),a.j41(6,"mat-form-field",2)(7,"mat-select",3),a.bIt("valueChange",function(Y){return T.currentYearSelect=Y}),a.j41(8,"mat-option",4)(9,"span"),a.EFF(10),a.k0s()(),a.j41(11,"mat-option",4)(12,"span"),a.EFF(13),a.k0s()(),a.j41(14,"mat-option",4)(15,"span"),a.EFF(16),a.k0s()()()()(),a.DNE(17,O,2,0,"div",5),a.DNE(18,J,2,1,"div",6),a.k0s()),2&j&&(a.R7$(2),a.E5c(" ",a.bMT(3,12,"lang_test_market_withdraw_time")," ",a.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",a.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),a.R7$(5),a.Y8G("value",T.currentYearSelect),a.R7$(1),a.Y8G("value",T.currentDate.getFullYear()-1),a.R7$(2),a.SpI(" ",T.currentDate.getFullYear()-1," "),a.R7$(1),a.Y8G("value",T.currentDate.getFullYear()),a.R7$(2),a.SpI(" ",T.currentDate.getFullYear()," "),a.R7$(1),a.Y8G("value",T.currentDate.getFullYear()+1),a.R7$(2),a.SpI(" ",T.currentDate.getFullYear()+1," "),a.R7$(1),a.Y8G("ngIf",T.statusObj.loading),a.R7$(1),a.Y8G("ngIf",!T.statusObj.loading))},dependencies:[c.Sq,c.bT,I.wT,g.So,X.rl,A.VO,q.BC,q.vS,rt.R,lt.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]})}return W})()},11002:(at,L,l)=>{l.d(L,{$:()=>I});var o=l(59640),a=l(26860);const r=["*"];let I=(()=>{class F extends o.H{constructor(){super(...arguments),this.colorBackground="",this.fixToTopWidth=0,this.fixToTopTop=0}onWindowScroll(){let w=document.querySelector(".azt-content"),h=document.getElementById("flexed-on-top"),m=document.getElementById("position-dev")?.getBoundingClientRect();if(!w||!h||!m)return;let R=window.pageYOffset,z=m.top,D=z<-50;if(this.fixToTopWidth=m.width,this.fixToTopTop=m.top,D){h.style.position="fixed",h.style.zIndex="9999",h.style.height="45px",h.style.right="12px",h.style.background=this.colorBackground,h.style.justifyContent="end";let c=w.getBoundingClientRect().width;this.isMobileDevice?(h.style.top="62px",h.style.padding="6px 15px",h.style.width=(c+32).toString()+"px"):(h.style.top="0",h.style.padding="6px 22px",h.style.width=(c+44).toString()+"px")}else(0==R||0==z)&&(h.style.position="",h.style.top="",h.style.right="",h.style.zIndex="",h.style.height="",h.style.padding="",h.style.background="",h.style.width="",h.style.justifyContent="")}static#t=this.\u0275fac=function(){let w;return function(m){return(w||(w=a.xGo(F)))(m||F)}}();static#e=this.\u0275cmp=a.VBU({type:F,selectors:[["flexed-on-the-top"]],hostBindings:function(h,m){1&h&&a.bIt("scroll",function(z){return m.onWindowScroll(z)},!1,a.tSv)},inputs:{colorBackground:"colorBackground"},features:[a.Vt3],ngContentSelectors:r,decls:3,vars:0,consts:[["id","position-dev"],["id","flexed-on-top",1,"flex","flexed-on-top"]],template:function(h,m){1&h&&(a.NAR(),a.nrm(0,"div",0),a.j41(1,"div",1),a.SdG(2),a.k0s())},encapsulation:2})}return F})()},75421:(at,L,l)=>{l.d(L,{u:()=>U});var o=l(89163),a=l(33887),r=l(26860),I=l(15343),F=l(73437);let U=(()=>{class w extends a._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(m,R){super(R,m),this.dialogRef=m,this.data=R}static#t=this.\u0275fac=function(R){return new(R||w)(r.rXU(o.CP,8),r.rXU(o.Vh,8))};static#e=this.\u0275cmp=r.VBU({type:w,selectors:[["azt-dialog-danger"]],features:[r.Vt3],decls:14,vars:7,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","flex"],[1,"w-6","h-6","mr-2","text-danger","inline-block","flex-none"],["name","trash-2","size","18"],[1,"text-md",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click"]],template:function(R,z){1&R&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"span",4),r.nrm(5,"lucide-icon",5),r.k0s(),r.nrm(6,"span",6),r.k0s()()(),r.j41(7,"div",7)(8,"button",8),r.bIt("click",function(){return z.btnCloseDialog()}),r.EFF(9),r.nI1(10,"mytranslate"),r.k0s(),r.j41(11,"button",9),r.bIt("click",function(){return z.confirmDialog()}),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s()()()),2&R&&(r.R7$(6),r.Y8G("innerHtml",z.data.content,r.npT),r.R7$(3),r.SpI(" ",r.bMT(10,3,"lang_auto_huy")," "),r.R7$(3),r.SpI(" ",r.bMT(13,5,"lang_auto_xac_nhan")," "))},dependencies:[I.WGl,F.wp],encapsulation:2})}return w})()},93518:(at,L,l)=>{l.d(L,{k:()=>o});var o=function(a){return a.video="video",a.document="document",a.homework="homework",a.homework_view="homework_view",a.unknown="unknown",a}(o||{})},96112:(at,L,l)=>{l.d(L,{s:()=>E});var o=l(59640),a=l(43234),r=l(26860),I=l(54460),F=l(39471),U=l(97839),w=l(74960),h=l(81519),m=l(10936),R=l(15343),z=l(7919),D=l(81587),c=l(73437);function g(b,j){1&b&&(r.j41(0,"div",32),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function X(b,j){1&b&&(r.j41(0,"span"),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function A(b,j){1&b&&(r.j41(0,"span"),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function q(b,j){if(1&b&&(r.j41(0,"div",35),r.DNE(1,X,3,3,"span",36),r.DNE(2,A,3,3,"span",36),r.k0s()),2&b){const T=r.XpG(2);r.R7$(1),r.Y8G("ngIf",T.studentForm.form.controls.identificationNumber.errors.min),r.R7$(1),r.Y8G("ngIf",T.studentForm.form.controls.identificationNumber.errors.maxlength||T.studentForm.form.controls.identificationNumber.errors.pattern)}}function rt(b,j){if(1&b&&(r.j41(0,"div",1),r.nrm(1,"input",33),r.nI1(2,"mytranslate"),r.DNE(3,q,3,2,"div",34),r.k0s()),2&b){const T=r.XpG();r.R7$(1),r.FS9("placeholder",r.bMT(2,2,"lang_auto_so_bao_danh")),r.R7$(2),r.Y8G("ngIf",T.studentForm.form.controls.identificationNumber.errors&&(T.studentForm.form.controls.identificationNumber.dirty||T.studentForm.form.controls.identificationNumber.touched))}}function lt(b,j){1&b&&(r.j41(0,"div",32),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function O(b,j){1&b&&(r.j41(0,"div",32),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function nt(b,j){1&b&&(r.j41(0,"div",32),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_core_invalid_email")," "))}function B(b,j){1&b&&(r.j41(0,"div",32),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function J(b,j){if(1&b){const T=r.RV6();r.j41(0,"div",1)(1,"div",37),r.nrm(2,"input",38),r.nI1(3,"mytranslate"),r.j41(4,"button",39),r.bIt("click",function(){r.eBV(T);const Y=r.XpG();return r.Njj(Y.togglePassword())}),r.j41(5,"span",40),r.nrm(6,"lucide-icon",41),r.k0s()()(),r.DNE(7,B,3,3,"div",3),r.k0s()}if(2&b){const T=r.XpG();r.R7$(2),r.FS9("placeholder",r.bMT(3,4,"lang_auto_mat_khau")),r.Y8G("type",T.showPassword?"text":"password"),r.R7$(4),r.FS9("name",T.showPassword?"eye":"eye-off"),r.R7$(1),r.Y8G("ngIf",T.studentForm.form.controls.password.errors)}}function $(b,j){1&b&&(r.j41(0,"div",1),r.nrm(1,"input",42),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.FS9("placeholder",r.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function W(b,j){1&b&&(r.j41(0,"div",1),r.nrm(1,"input",43),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.FS9("placeholder",r.bMT(2,1,"lang_core_nhap_link_facebook")))}let E=(()=>{class b extends o.H{togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain)}constructor(){super(),this.hasUser=!1,this.isAddParent=!1,this.showPassword=!1,this.maxDate=a.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006")}static#t=this.\u0275fac=function(et){return new(et||b)};static#e=this.\u0275cmp=r.VBU({type:b,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",isAddParent:"isAddParent"},features:[r.Vt3],decls:55,vars:37,consts:[[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"touchUi","hideTime","startAt"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"w-4","h-4","inline-block"],["size","18",3,"name"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(et,Y){if(1&et){const dt=r.RV6();r.j41(0,"form",0)(1,"div",1),r.nrm(2,"input",2),r.nI1(3,"mytranslate"),r.DNE(4,g,3,3,"div",3),r.k0s(),r.DNE(5,rt,4,4,"div",4),r.j41(6,"div",1)(7,"div",5)(8,"label",6),r.EFF(9),r.nI1(10,"mytranslate"),r.k0s(),r.j41(11,"div",7)(12,"div",8),r.nrm(13,"input",9),r.j41(14,"label",10),r.EFF(15),r.nI1(16,"mytranslate"),r.k0s()(),r.j41(17,"div",8),r.nrm(18,"input",11),r.j41(19,"label",12),r.EFF(20),r.nI1(21,"mytranslate"),r.k0s()()()()(),r.j41(22,"div",1)(23,"mat-form-field",13)(24,"input",14),r.bIt("click",function(){r.eBV(dt);const mt=r.sdS(39);return r.Njj(mt.open())}),r.nI1(25,"mytranslate"),r.k0s(),r.j41(26,"button",15),r.bIt("click",function(mt){return r.eBV(dt),r.sdS(39).open(),r.Njj(mt.stopPropagation())}),r.qSk(),r.j41(27,"svg",16),r.nrm(28,"rect",17)(29,"line",18)(30,"line",19)(31,"line",20)(32,"path",21)(33,"path",22)(34,"path",23)(35,"path",24)(36,"path",25)(37,"path",26),r.k0s()(),r.joV(),r.j41(38,"ngx-mat-datetime-picker",27,28)(40,"ngx-mat-datepicker-actions")(41,"button",29),r.EFF(42,"OK"),r.k0s()()()(),r.DNE(43,lt,3,3,"div",3),r.k0s(),r.j41(44,"div",1),r.nrm(45,"input",30),r.nI1(46,"mytranslate"),r.DNE(47,O,3,3,"div",3),r.k0s(),r.j41(48,"div",1),r.nrm(49,"input",31),r.nI1(50,"mytranslate"),r.DNE(51,nt,3,3,"div",3),r.k0s(),r.DNE(52,J,8,6,"div",4),r.DNE(53,$,3,3,"div",4),r.DNE(54,W,3,3,"div",4),r.k0s()}if(2&et){const dt=r.sdS(39);r.Y8G("formGroup",Y.studentForm.form),r.R7$(2),r.FS9("placeholder",r.bMT(3,23,"lang_auto_nhap_ho_va_ten")),r.R7$(2),r.Y8G("ngIf",Y.studentForm.form.controls.fullName.errors),r.R7$(1),r.Y8G("ngIf",Y.studentForm.form.controls.identificationNumber&&!Y.isAddParent),r.R7$(4),r.SpI(" ",r.bMT(10,25,"lang_auto_gioi_tinh")," "),r.R7$(4),r.Y8G("value",1),r.R7$(2),r.SpI(" ",r.bMT(16,27,"lang_auto_nam")," "),r.R7$(3),r.Y8G("value",0),r.R7$(2),r.SpI(" ",r.bMT(21,29,"lang_auto_nu")," "),r.R7$(4),r.FS9("placeholder",r.bMT(25,31,"lang_auto_ngay_sinh")),r.Y8G("max",Y.maxDate)("ngxMatDatetimePicker",dt),r.R7$(14),r.Y8G("touchUi",!0)("hideTime",!0)("startAt",Y.startAtTime),r.R7$(5),r.Y8G("ngIf",null==Y.studentForm.form.controls.birthday?null:Y.studentForm.form.controls.birthday.errors),r.R7$(2),r.FS9("placeholder",r.bMT(46,33,"lang_number_phone")),r.R7$(2),r.Y8G("ngIf",Y.studentForm.form.controls.phoneNumber.errors),r.R7$(2),r.FS9("placeholder",r.bMT(50,35,"lang_auto_nhap_email")),r.R7$(2),r.Y8G("ngIf",Y.studentForm.form.controls.email.errors),r.R7$(1),r.Y8G("ngIf",Y.studentForm.form.controls.password&&!Y.hasUser&&Y.isBusinessDomain),r.R7$(1),r.Y8G("ngIf",Y.isBusinessDomain&&!Y.isAddParent),r.R7$(1),r.Y8G("ngIf",Y.isBusinessDomain&&!Y.isAddParent)}},dependencies:[I.bT,F.$z,U.fg,w.rl,w.yw,h.m7,h.yF,h.HF,h.Uq,m.qT,m.me,m.Fm,m.BC,m.cb,m.j4,m.JD,R.WGl,z.Z,D.t,c.wp],encapsulation:2})}return b})()},42947:(at,L,l)=>{l.d(L,{d:()=>r});var o=l(10936);class a{static isInvalidPassword(F){let w=F.value?.trim()??"";return w&&w.length<6?{isInvalidPassword:!0}:null}}class r{constructor(){this.form=new o.gE({fullName:new o.MJ("",{nonNullable:!0,validators:[o.k0.required]}),gender:new o.MJ(0,{nonNullable:!0}),birthday:new o.MJ(void 0,{nonNullable:!0}),email:new o.MJ("",{nonNullable:!0,validators:[o.k0.email,o.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new o.MJ("",{nonNullable:!0,validators:[o.k0.required,o.k0.pattern(/^[0-9\-]*$/),o.k0.minLength(10),o.k0.maxLength(10)]}),identificationNumber:new o.MJ("",{nonNullable:!0,validators:[o.k0.min(1),o.k0.maxLength(6),o.k0.pattern("^[0-9]*$")]}),password:new o.MJ("",{nonNullable:!0,validators:[a.isInvalidPassword]}),facebookLink:new o.MJ("",{nonNullable:!0}),school:new o.MJ("",{nonNullable:!0})})}removeValidatePhoneWhenNotBusiness(F){F||this.form.controls.phoneNumber.removeValidators(o.k0.required)}}},20013:(at,L,l)=>{l.d(L,{T:()=>h});var o=l(26860),a=l(9516),r=l(54460),I=l(52811);function F(m,R){1&m&&o.SdG(0,0,["*ngIf","!isUploadFile"])}function U(m,R){1&m&&(o.j41(0,"span",5),o.nrm(1,"azt-loading-ui"),o.k0s())}const w=["*"];let h=(()=>{class m extends a.L{constructor(){super(...arguments),this.uploadComplete=new o.bkB}emitUploadComplete(z){z.length>0&&this.uploadComplete.emit(z[0])}static#t=this.\u0275fac=function(){let z;return function(c){return(z||(z=o.xGo(m)))(c||m)}}();static#e=this.\u0275cmp=o.VBU({type:m,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[o.Vt3],ngContentSelectors:w,decls:6,vars:3,consts:[[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"accept","change","cancel"],["formChoseFile",""],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(D,c){if(1&D){const g=o.RV6();o.NAR(),o.j41(0,"div",0),o.bIt("click",function(){o.eBV(g);const A=o.sdS(2);return o.Njj(c.onOpenFileDictionary()&&A.click())}),o.j41(1,"input",1,2),o.bIt("change",function(A){return c.onFileSelected(A)})("cancel",function(A){return c.onCancelSelect(A)}),o.k0s(),o.DNE(3,F,1,0,"ng-content",3),o.j41(4,"div"),o.DNE(5,U,2,0,"span",4),o.k0s()()}2&D&&(o.R7$(1),o.FS9("accept",c.fileType),o.R7$(2),o.Y8G("ngIf",!c.isUploadFile),o.R7$(2),o.Y8G("ngIf",c.isUploadFile))},dependencies:[r.bT,I.R],encapsulation:2})}return m})()}}]);