"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4505],{47635:(Me,Wt,p)=>{p.d(Wt,{c:()=>St});var O=p(10936),n=p(66257),e=p(48725),it=p(59640),i=p(37497),t=p(27208),T=p(18586),x=p(26860),o=p(65162),yt=p(95624),Dt=p(46899),Nt=p(25898),mt=p(54460),Rt=p(47712),V=p(18718),vt=p(22613),rt=p(69135),Et=p(32099),Q=p(5800),A=p(10123),Z=p(15343),z=p(76975);function Ct(lt,J){1&lt&&(x.j41(0,"div",6),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&lt&&(x.R7$(1),x.SpI(" ",x.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function jt(lt,J){if(1&lt){const Y=x.RV6();x.j41(0,"div",7)(1,"div",8)(2,"azt-search-box",9),x.bIt("onSearch",function(Bt){x.eBV(Y);const qt=x.XpG();return x.Njj(qt.onSearchBox(Bt.searchObj))}),x.nI1(3,"mytranslate"),x.k0s()()()}2&lt&&(x.R7$(2),x.Y8G("isServerSearch",!0)("placeholder",x.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function tt(lt,J){if(1&lt&&x.nrm(0,"azt-loading-effect",12),2&lt){const Y=x.XpG(2);x.Y8G("currentStatusObj",Y.statusObj)}}const Tt=function(lt){return{"text-primary stroke-width-2.5":lt}},zt=function(lt){return{"text-primary stroke-width-2.5":lt,"-mt-2":!0}};function Gt(lt,J){if(1&lt&&(x.j41(0,"div",22),x.nrm(1,"lucide-icon",23)(2,"lucide-icon",24),x.k0s()),2&lt){const Y=x.XpG().$implicit,ft=x.XpG(3);x.R7$(1),x.Y8G("ngClass",x.eq3(2,Tt,Y.typeFieldSort===ft.typeFieldSort.asc)),x.R7$(1),x.Y8G("ngClass",x.eq3(4,zt,Y.typeFieldSort===ft.typeFieldSort.desc))}}function Xt(lt,J){if(1&lt){const Y=x.RV6();x.j41(0,"th",19)(1,"div",20),x.bIt("click",function(){const qt=x.eBV(Y).$implicit,he=x.XpG(3);return x.Njj(he.sortTableByFieldName(qt))}),x.EFF(2),x.nI1(3,"mytranslate"),x.DNE(4,Gt,3,6,"div",21),x.k0s()()}if(2&lt){const Y=J.$implicit;x.R7$(1),x.Aen(Y.customStyle),x.HbH(Y.customClassCss),x.R7$(1),x.SpI(" ",x.bMT(3,6,Y.key)," "),x.R7$(2),x.Y8G("ngIf",!Y.ignore)}}function ae(lt,J){if(1&lt){const Y=x.RV6();x.j41(0,"tr",25)(1,"td"),x.nrm(2,"azt-student-info-box",26),x.k0s(),x.j41(3,"td",27),x.EFF(4),x.nI1(5,"formatStudentCodeToNumber"),x.k0s(),x.j41(6,"td",27),x.EFF(7),x.nI1(8,"formatOnlyDateByUserUnitPipe"),x.k0s(),x.j41(9,"td",27)(10,"div",28),x.nrm(11,"textarea",29),x.nI1(12,"mytranslate"),x.j41(13,"span",30,31),x.bIt("click",function(){const qt=x.eBV(Y).$implicit,he=x.XpG(3);return x.Njj(he.showAllComment(qt))}),x.nI1(15,"mytranslate"),x.nrm(16,"lucide-icon",32),x.k0s()()()()}if(2&lt){const Y=J.$implicit,ft=x.sdS(14);x.Y8G("id","row_student_"+Y.id),x.R7$(2),x.Y8G("name",Y.fullName)("parentFullName",Y.parentFullName)("parentId",Y.parentId)("parentPhone",Y.parentPhone)("avatar",Y.avatar)("gender",Y.gender)("hasUser",Y.hasUser)("schoolName",Y.schoolName)("classrooms",Y.classrooms)("joinedAt",Y.joinedAt),x.R7$(2),x.JRh(Y.identificationNumber?x.i5U(5,20,Y.identificationNumber,6):""),x.R7$(3),x.JRh(x.bMT(8,23,null!=Y.assessments&&Y.assessments[0]?null==Y.assessments||null==Y.assessments[0]?null:Y.assessments[0].createdAt:"")),x.R7$(4),x.FS9("placeholder",x.bMT(12,25,"lang_azt_enter_comment")),x.Y8G("id","assessment_content_"+Y.id)("disabled",!0)("value",Y.lastAssessmentComment),x.R7$(2),x.FS9("matTooltip",x.bMT(15,27,"lang_student_show_all_comment")),x.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",ft.isDisabled)}}function xe(lt,J){if(1&lt){const Y=x.RV6();x.j41(0,"azt-paging",36),x.bIt("goToPaginationPage",function(Bt){x.eBV(Y);const qt=x.XpG(4);return x.Njj(qt.setPageStudent(Bt))}),x.k0s()}if(2&lt){const Y=x.XpG(4);x.Y8G("pageObj",Y.pageObj)}}function Se(lt,J){if(1&lt&&(x.j41(0,"div",37),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&lt){const Y=x.XpG(4);x.R7$(1),x.Lme("",Y.totalStudent," ",x.bMT(2,2,"lang_notify_list_students"),"")}}function De(lt,J){if(1&lt&&(x.j41(0,"div",33),x.nrm(1,"div"),x.DNE(2,xe,1,1,"azt-paging",34),x.DNE(3,Se,3,4,"div",35),x.k0s()),2&lt){const Y=x.XpG(3);x.R7$(2),x.Y8G("ngIf",Y.totalStudent>Y.pageObj.pageSize),x.R7$(1),x.Y8G("ngIf",!Y.isStudent)}}function Ne(lt,J){if(1&lt&&(x.j41(0,"div",13)(1,"drag-scroll")(2,"table",14)(3,"thead")(4,"tr",15),x.DNE(5,Xt,5,8,"th",16),x.k0s()(),x.j41(6,"tbody"),x.DNE(7,ae,17,29,"tr",17),x.k0s()()()(),x.DNE(8,De,4,2,"div",18)),2&lt){const Y=x.XpG(2);x.R7$(5),x.Y8G("ngForOf",Y.sortTableByFieldNameService.fieldNameList),x.R7$(2),x.Y8G("ngForOf",Y.listStudent),x.R7$(1),x.Y8G("ngIf",Y.listStudent&&Y.totalStudent&&Y.totalStudent>0)}}function Pt(lt,J){if(1&lt&&(x.j41(0,"div",1),x.DNE(1,tt,1,1,"azt-loading-effect",10),x.DNE(2,Ne,9,3,"ng-template",null,11,x.C5r),x.k0s()),2&lt){const Y=x.sdS(3),ft=x.XpG();x.R7$(1),x.Y8G("ngIf",ft.statusObj.loading)("ngIfElse",Y)}}function Zt(lt,J){if(1&lt&&x.nrm(0,"azt-loading-effect",12),2&lt){const Y=x.XpG(2);x.Y8G("currentStatusObj",Y.statusObj)}}function Ut(lt,J){1&lt&&(x.j41(0,"div",41),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&lt&&(x.R7$(1),x.SpI(" ",x.bMT(2,1,"lang_azt_no_comments_yet")," "))}function At(lt,J){if(1&lt&&(x.j41(0,"div",44)(1,"div",45)(2,"p",46),x.EFF(3),x.nI1(4,"mytranslate"),x.nI1(5,"formatOnlyDateByUserUnitPipe"),x.k0s()(),x.nrm(6,"div",47),x.nI1(7,"safeNormalHtmlContent"),x.k0s()),2&lt){const Y=J.$implicit;x.R7$(3),x.Lme("",x.bMT(4,3,"lang_student_add_comment_date"),": ",x.bMT(5,5,Y.updatedAt),""),x.R7$(3),x.Y8G("innerHTML",x.bMT(7,7,Y.comment),x.npT)}}function Mt(lt,J){if(1&lt&&(x.j41(0,"div",42),x.DNE(1,At,8,9,"div",43),x.k0s()),2&lt){const Y=x.XpG(3);x.R7$(1),x.Y8G("ngForOf",null==Y.firstStudent?null:Y.firstStudent.assessments)}}function Jt(lt,J){if(1&lt&&(x.DNE(0,Ut,3,3,"div",39),x.DNE(1,Mt,2,1,"ng-template",null,40,x.C5r)),2&lt){const Y=x.sdS(2),ft=x.XpG(2);x.Y8G("ngIf",!(null!=ft.firstStudent&&ft.firstStudent.assessments&&null!=ft.firstStudent&&null!=ft.firstStudent.assessments&&ft.firstStudent.assessments.length))("ngIfElse",Y)}}function oe(lt,J){if(1&lt&&(x.j41(0,"div",1),x.DNE(1,Zt,1,1,"azt-loading-effect",10),x.DNE(2,Jt,3,2,"ng-template",null,38,x.C5r),x.k0s()),2&lt){const Y=x.sdS(3),ft=x.XpG();x.R7$(1),x.Y8G("ngIf",ft.statusObj.loading)("ngIfElse",Y)}}let St=(()=>{var lt;class J extends it.H{onSearchBox(ft){this.searchContentObj=ft,this.getData()}showAllComment(ft){this.sAztDialogService.open(T.U,{width:"700px",restoreFocus:!1,data:{student:ft,isTeacher:!1}}).afterClosed().subscribe(Bt=>{Bt&&this.getData()})}setPageStudent(ft){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+ft),this.pageObj.setPageNumber(ft),this.getData()}sortTableByFieldName(ft){ft.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(ft),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj}).subscribe({next:Bt=>{Bt.list.length&&(this.listStudent=[]),this.totalStudent=Bt.total,Bt.list.forEach(qt=>{let he=this.sAztAssessmentStudentService.getLastAssessmentStudent(qt);this.listStudent.push({...qt,commentControl:new O.gE({id:new O.MJ(0,{nonNullable:!0}),updatedAt:new O.MJ(he?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new O.MJ(he?.comment??"",{nonNullable:!0}),isEditted:new O.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(qt.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=Bt.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:Bt=>{this.errorStatusObj(Bt.error.message,!0)}}))}convertBreakLine(ft){if(!ft)return;const Bt=ft.assessments?.map(qt=>({...qt,comment:qt.comment?.replace(/\n/g,"<br/>")}));return{...ft,assessments:Bt}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(ft,Bt,qt,he,Qe){super(),this.activeRoute=ft,this.studentService=Bt,this.sAztDialogService=qt,this.sAztAssessmentStudentService=he,this.sortTableByFieldNameService=Qe,this.classroomId=0,this.searchContentObj=new t.Z,this.pageObj=new i.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=n.H}}return(lt=J).\u0275fac=function(ft){return new(ft||lt)(x.rXU(o.nX),x.rXU(yt.b0),x.rXU(Dt.i),x.rXU(Nt.n),x.rXU(e.s))},lt.\u0275cmp=x.VBU({type:lt,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[x.Jv_([e.s]),x.Vt3],decls:9,vars:7,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],["doneLoadingStudent",""],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(ft,Bt){1&ft&&(x.j41(0,"div",0)(1,"div",1)(2,"h3",2),x.EFF(3),x.nI1(4,"mytranslate"),x.k0s(),x.DNE(5,Ct,3,3,"div",3),x.k0s(),x.DNE(6,jt,4,4,"div",4),x.DNE(7,Pt,4,2,"div",5),x.DNE(8,oe,4,2,"div",5),x.k0s()),2&ft&&(x.R7$(3),x.JRh(x.bMT(4,5,"lang_azt_comments")),x.R7$(2),x.Y8G("ngIf",Bt.isMobileDevice&&Bt.listStudent.length>0),x.R7$(1),x.Y8G("ngIf",!Bt.isStudent),x.R7$(1),x.Y8G("ngIf",!Bt.isStudent),x.R7$(1),x.Y8G("ngIf",Bt.isStudent))},dependencies:[mt.YU,mt.Sq,mt.bT,Rt.oV,V.K,vt.q,rt.f,Et.W,Q.B,A.jd,A.Ew,Z.WGl,z.wp,z._y,z.Po,z.vv],encapsulation:2}),J})()},33791:(Me,Wt,p)=>{p.d(Wt,{E:()=>oe});var O=p(10127),n=p(66257),e=p(48725),it=p(59640),i=p(37497),t=p(27208),T=p(26860),x=p(65162),o=p(46899),yt=p(95624),Dt=p(54460),Nt=p(18718),mt=p(22613),Rt=p(32099),V=p(5800),vt=p(10123),rt=p(15343),Et=p(85127),Q=p(76975);function A(St,lt){1&St&&(T.j41(0,"div",6),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&St&&(T.R7$(1),T.SpI(" ",T.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Z(St,lt){if(1&St&&(T.j41(0,"div",13),T.nrm(1,"azt-loading-effect",14),T.k0s()),2&St){const J=T.XpG(2);T.R7$(1),T.Y8G("currentStatusObj",J.statusObj)}}function z(St,lt){1&St&&(T.j41(0,"div",20),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&St&&(T.R7$(1),T.SpI(" ",T.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}const Ct=function(St){return{"text-primary stroke-width-2.5":St}},jt=function(St){return{"text-primary stroke-width-2.5":St,"-mt-2":!0}};function tt(St,lt){if(1&St&&(T.j41(0,"div",29),T.nrm(1,"lucide-icon",30)(2,"lucide-icon",31),T.k0s()),2&St){const J=T.XpG().$implicit,Y=T.XpG(5);T.R7$(1),T.Y8G("ngClass",T.eq3(2,Ct,J.typeFieldSort===Y.typeFieldSort.asc)),T.R7$(1),T.Y8G("ngClass",T.eq3(4,jt,J.typeFieldSort===Y.typeFieldSort.desc))}}function Tt(St,lt){if(1&St){const J=T.RV6();T.j41(0,"th",26)(1,"div",27),T.bIt("click",function(){const Bt=T.eBV(J).$implicit,qt=T.XpG(5);return T.Njj(qt.sortTableByFieldName(Bt))}),T.EFF(2),T.nI1(3,"mytranslate"),T.DNE(4,tt,3,6,"div",28),T.k0s()()}if(2&St){const J=lt.$implicit;T.R7$(1),T.Aen(J.customStyle),T.HbH(J.customClassCss),T.R7$(1),T.SpI(" ",T.bMT(3,6,J.key)," "),T.R7$(2),T.Y8G("ngIf",!J.ignore)}}function zt(St,lt){1&St&&(T.j41(0,"span"),T.EFF(1,"/"),T.k0s())}function Gt(St,lt){if(1&St&&(T.j41(0,"span"),T.EFF(1),T.DNE(2,zt,2,0,"span",4),T.EFF(3),T.k0s()),2&St){const J=T.XpG().$implicit;T.R7$(1),T.SpI(" ",J.lastMonthPaid," "),T.R7$(1),T.Y8G("ngIf",J.lastMonthPaid),T.R7$(1),T.SpI(" ",J.lastYearPaid," ")}}function Xt(St,lt){1&St&&(T.j41(0,"span",38),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&St&&(T.R7$(1),T.SpI(" ",T.bMT(2,1,"lang_core_hoc_thu")," "))}function ae(St,lt){if(1&St){const J=T.RV6();T.j41(0,"tr")(1,"td",32),T.bIt("click",function(){const Bt=T.eBV(J).$implicit,qt=T.XpG(5);return T.Njj(qt.addOrEditTuitionFee(Bt))}),T.nrm(2,"azt-student-info-box",33),T.k0s(),T.j41(3,"td",34),T.EFF(4),T.nI1(5,"formatStudentCodeToNumber"),T.k0s(),T.j41(6,"td",35),T.EFF(7),T.k0s(),T.j41(8,"td",36),T.DNE(9,Gt,4,3,"span",4),T.DNE(10,Xt,3,3,"span",37),T.k0s()()}if(2&St){const J=lt.$implicit;let Y;T.R7$(2),T.Y8G("name",J.fullName)("avatar",J.avatar)("gender",J.gender)("schoolName",J.schoolName)("hasUser",J.hasUser)("classrooms",J.classrooms)("joinedAt",J.joinedAt),T.R7$(2),T.JRh(J.identificationNumber?T.i5U(5,11,J.identificationNumber,6):""),T.R7$(3),T.SpI(" ",null!==(Y=null==J.classroom?null:J.classroom.name)&&void 0!==Y?Y:""," "),T.R7$(2),T.Y8G("ngIf",!J.isTrial),T.R7$(1),T.Y8G("ngIf",J.isTrial)}}const xe=function(){return[]};function Se(St,lt){if(1&St&&(T.j41(0,"div")(1,"div",21)(2,"drag-scroll")(3,"table",22)(4,"thead")(5,"tr",23),T.DNE(6,Tt,5,8,"th",24),T.k0s()(),T.j41(7,"tbody"),T.DNE(8,ae,11,14,"tr",25),T.k0s()()()()()),2&St){const J=T.XpG(4);let Y;T.R7$(6),T.Y8G("ngForOf",J.sortTableByFieldNameService.fieldNameList),T.R7$(2),T.Y8G("ngForOf",null!==(Y=null==J.listPayment?null:J.listPayment.list)&&void 0!==Y?Y:T.lJ4(2,xe))}}function De(St,lt){if(1&St){const J=T.RV6();T.j41(0,"div",39),T.EFF(1),T.nI1(2,"mytranslate"),T.j41(3,"span",40),T.bIt("click",function(){T.eBV(J);const ft=T.XpG(4);return T.Njj(ft.goBack())}),T.EFF(4),T.nI1(5,"mytranslate"),T.k0s()()}2&St&&(T.R7$(1),T.SpI(" ",T.bMT(2,2,"lang_core_not_found_student"),"... "),T.R7$(3),T.JRh(T.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Ne(St,lt){if(1&St&&(T.j41(0,"div",17),T.DNE(1,z,3,3,"div",18),T.DNE(2,Se,9,3,"div",4),T.DNE(3,De,6,6,"div",19),T.k0s()),2&St){const J=T.XpG(3);let Y,ft;T.R7$(1),T.Y8G("ngIf",!J.searchContentObj.isLoading&&0==(null==J.listPayment?null:J.listPayment.total)&&""==J.searchContentObj.searchContent),T.R7$(1),T.Y8G("ngIf",(null!==(Y=null==J.listPayment?null:J.listPayment.total)&&void 0!==Y?Y:0)>0),T.R7$(1),T.Y8G("ngIf",!J.searchContentObj.isLoading&&0==(null!==(ft=null==J.listPayment?null:J.listPayment.list)&&void 0!==ft?ft:T.lJ4(3,xe)).length&&""!=J.searchContentObj.searchContent)}}function Pt(St,lt){if(1&St){const J=T.RV6();T.j41(0,"azt-paging",44),T.bIt("goToPaginationPage",function(ft){T.eBV(J);const Bt=T.XpG(4);return T.Njj(Bt.setPageStudent(ft))}),T.k0s()}if(2&St){const J=T.XpG(4);T.Y8G("pageObj",J.pageObj)}}function Zt(St,lt){if(1&St&&(T.j41(0,"div",45),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&St){const J=T.XpG(4);T.R7$(1),T.Lme("",J.listPayment.total," ",T.bMT(2,2,"lang_notify_list_students"),"")}}function Ut(St,lt){if(1&St&&(T.j41(0,"div",41),T.nrm(1,"div"),T.DNE(2,Pt,1,1,"azt-paging",42),T.DNE(3,Zt,3,4,"div",43),T.k0s()),2&St){const J=T.XpG(3);T.R7$(2),T.Y8G("ngIf",J.listPayment.total>J.pageObj.pageSize),T.R7$(1),T.Y8G("ngIf",!J.isStudent)}}function At(St,lt){if(1&St&&(T.DNE(0,Ne,4,4,"div",15),T.DNE(1,Ut,4,2,"div",16)),2&St){const J=T.XpG(2);let Y;T.Y8G("ngIf",!J.isStudent),T.R7$(1),T.Y8G("ngIf",J.listPayment&&J.listPayment.total&&(null!==(Y=null==J.listPayment?null:J.listPayment.total)&&void 0!==Y?Y:0)>0)}}function Mt(St,lt){if(1&St){const J=T.RV6();T.qex(0),T.j41(1,"div",7)(2,"div",8)(3,"div",9)(4,"azt-search-box",10),T.bIt("onSearch",function(ft){T.eBV(J);const Bt=T.XpG();return T.Njj(Bt.onSearchBox(ft.searchObj))}),T.nI1(5,"mytranslate"),T.k0s()()()(),T.DNE(6,Z,2,1,"div",11),T.DNE(7,At,2,2,"ng-template",null,12,T.C5r),T.bVm()}if(2&St){const J=T.sdS(8),Y=T.XpG();T.R7$(4),T.Y8G("isServerSearch",!0)("placeholder",T.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",Y.searchContentObj),T.R7$(2),T.Y8G("ngIf",Y.statusObj.loading)("ngIfElse",J)}}function Jt(St,lt){1&St&&(T.j41(0,"div",46),T.nrm(1,"detail-tuition-fee-student"),T.k0s())}let oe=(()=>{var St;class lt extends it.H{onSearchBox(Y){this.searchContentObj=Y,this.getData()}addOrEditTuitionFee(Y){this.sAztDialogService.open(O.B,{width:"900px",restoreFocus:!1,data:Y}).afterClosed().subscribe(ft=>{ft&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent()}sortTableByFieldName(Y){Y.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(Y),this.getData())}setPageStudent(Y){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+Y),this.pageObj.setPageNumber(Y),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:ft=>{this.listPayment=ft,this.pageObj.setTotalPages(ft.total??0),this.successStatusObj()},error:ft=>{this.errorStatusObj(ft.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:n.H.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(Y,ft,Bt,qt){super(),this.activeRoute=Y,this.sAztDialogService=ft,this.studentService=Bt,this.sortTableByFieldNameService=qt,this.pageStudent=1,this.searchContentObj=new t.Z,this.classroomId=0,this.pageObj=new i.d(50),this.typeFieldSort=n.H}}return(St=lt).\u0275fac=function(Y){return new(Y||St)(T.rXU(x.nX),T.rXU(o.i),T.rXU(yt.b0),T.rXU(e.s))},St.\u0275cmp=T.VBU({type:St,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[T.Jv_([e.s]),T.Vt3],decls:8,vars:6,consts:[[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(Y,ft){1&Y&&(T.j41(0,"div",0)(1,"div",1)(2,"h3",2),T.EFF(3),T.nI1(4,"mytranslate"),T.k0s(),T.DNE(5,A,3,3,"div",3),T.k0s(),T.DNE(6,Mt,9,7,"ng-container",4),T.DNE(7,Jt,2,0,"div",5),T.k0s()),2&Y&&(T.R7$(3),T.SpI(" ",T.bMT(4,4,ft.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),T.R7$(2),T.Y8G("ngIf",ft.isMobileDevice||ft.isMobileWebView),T.R7$(1),T.Y8G("ngIf",!ft.isStudent),T.R7$(1),T.Y8G("ngIf",ft.isStudent))},dependencies:[Dt.YU,Dt.Sq,Dt.bT,Nt.K,mt.q,Rt.W,V.B,vt.jd,vt.Ew,rt.WGl,Et.k,Q.wp,Q.Po],encapsulation:2}),lt})()},85127:(Me,Wt,p)=>{p.d(Wt,{k:()=>Rt});var O=p(59640),n=p(26860),e=p(95624),it=p(54460),i=p(52811),t=p(10123),T=p(76975);function x(V,vt){1&V&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&V&&(n.R7$(1),n.SpI(" ",n.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function o(V,vt){1&V&&(n.j41(0,"tr",10)(1,"td",11)(2,"span",12),n.nrm(3,"azt-loading-ui"),n.k0s()()())}function yt(V,vt){if(1&V&&(n.j41(0,"tr")(1,"td",10),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),n.k0s(),n.j41(6,"td"),n.EFF(7),n.k0s(),n.j41(8,"td",10)(9,"span",16),n.EFF(10),n.nI1(11,"mytranslate"),n.k0s()()()),2&V){const rt=vt.$implicit,Et=vt.index;n.R7$(2),n.JRh(Et+1),n.R7$(2),n.JRh(n.bMT(5,4,rt.createdAt)),n.R7$(3),n.JRh(rt.month+"/"+rt.year),n.R7$(3),n.SpI(" ",n.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function Dt(V,vt){if(1&V&&(n.qex(0),n.DNE(1,yt,12,8,"tr",15),n.bVm()),2&V){const rt=n.XpG(2);n.R7$(1),n.Y8G("ngForOf",rt.historyTuitionFeeList)}}function Nt(V,vt){1&V&&(n.j41(0,"tr")(1,"td",17),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()()),2&V&&(n.R7$(2),n.SpI(" ",n.bMT(3,1,"lang_student_profile_not_data_view")," "))}function mt(V,vt){if(1&V&&(n.DNE(0,Dt,2,1,"ng-container",13),n.DNE(1,Nt,4,3,"ng-template",null,14,n.C5r)),2&V){const rt=n.sdS(2),Et=n.XpG();n.Y8G("ngIf",Et.historyTuitionFeeList.length)("ngIfElse",rt)}}let Rt=(()=>{var V;class vt extends O.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(Et=>{Et?(this.historyTuitionFeeList=Et.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(Et){super(),this.paymentService=Et,this.historyTuitionFeeList=[]}}return(V=vt).\u0275fac=function(Et){return new(Et||V)(n.rXU(e.WG))},V.\u0275cmp=n.VBU({type:V,selectors:[["detail-tuition-fee-student"]],features:[n.Vt3],decls:23,vars:15,consts:[[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(Et,Q){if(1&Et&&(n.j41(0,"div",0),n.DNE(1,x,3,3,"div",1),n.j41(2,"div",2)(3,"drag-scroll")(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),n.EFF(8),n.nI1(9,"mytranslate"),n.k0s(),n.j41(10,"th",6),n.EFF(11),n.nI1(12,"mytranslate"),n.k0s(),n.j41(13,"th",6),n.EFF(14),n.nI1(15,"mytranslate"),n.k0s(),n.j41(16,"th",7),n.EFF(17),n.nI1(18,"mytranslate"),n.k0s()()(),n.j41(19,"tbody"),n.DNE(20,o,4,0,"tr",8),n.DNE(21,mt,3,2,"ng-template",null,9,n.C5r),n.k0s()()()()()),2&Et){const A=n.sdS(22);n.R7$(1),n.Y8G("ngIf",Q.isMobileDevice||Q.isMobileWebView),n.R7$(7),n.SpI(" ",n.bMT(9,7,"lang_auto_stt")," "),n.R7$(3),n.SpI(" ",n.bMT(12,9,"lang_student_payment_time")," "),n.R7$(3),n.SpI(" ",n.bMT(15,11,"lang_student_monthly_tuition_fee")," "),n.R7$(3),n.SpI(" ",n.bMT(18,13,"lang_student_status")," "),n.R7$(3),n.Y8G("ngIf",Q.statusObj.loading)("ngIfElse",A)}},dependencies:[it.Sq,it.bT,i.R,t.jd,t.Ew,T.wp,T.bH],encapsulation:2}),vt})()},25898:(Me,Wt,p)=>{p.d(Wt,{n:()=>e});var O=p(10936),n=p(26860);let e=(()=>{var it;class i{makeListFormArrayComment(T,x){let o=new O.Yp([]);return T&&T.forEach(yt=>{o.push(new O.gE({id:new O.MJ({value:yt.id,disabled:!x},{nonNullable:!0}),updatedAt:new O.MJ({value:yt.updatedAt?.toString()??"",disabled:!x},{nonNullable:!0}),comment:new O.MJ({value:yt.comment??"",disabled:!x},{nonNullable:!0}),isEditted:new O.MJ(!1,{nonNullable:!0})}))}),o}getLastAssessmentStudent(T){if(T.assessments&&T.assessments.length)return T.assessments[0]}}return(it=i).\u0275fac=function(T){return new(T||it)},it.\u0275prov=n.jDH({token:it,factory:it.\u0275fac,providedIn:"root"}),i})()},18586:(Me,Wt,p)=>{p.d(Wt,{U:()=>Ne});var O=p(81519),n=p(26860),e=p(10936),it=p(34514),i=p(47426),t=p(89163),T=p(99503),x=p(79347),o=p(33887),yt=p(2812),Dt=p(9691),Nt=p(25898),mt=p(10296),Rt=p(67638),V=p(40609),vt=p(54460),rt=p(47712),Et=p(81587),Q=p(2915),A=p(52811),Z=p(5800),z=p(15343),Ct=p(76975);function jt(Pt,Zt){if(1&Pt){const Ut=n.RV6();n.j41(0,"button",12),n.bIt("click",function(){n.eBV(Ut);const Mt=n.XpG();return n.Njj(Mt.changeEditStatus(!0))}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&Pt&&(n.R7$(1),n.SpI(" ",n.bMT(2,1,"lang_auto_sua")," "))}function tt(Pt,Zt){if(1&Pt){const Ut=n.RV6();n.j41(0,"button",13),n.bIt("click",function(){n.eBV(Ut);const Mt=n.XpG();return n.Njj(Mt.changeEditStatus(!1))}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}if(2&Pt){const Ut=n.XpG();n.Y8G("disabled",Ut.isSave),n.R7$(1),n.SpI(" ",n.bMT(2,2,"lang_auto_huy_sua")," ")}}function Tt(Pt,Zt){if(1&Pt){const Ut=n.RV6();n.j41(0,"button",14),n.bIt("click",function(){n.eBV(Ut);const Mt=n.XpG();return n.Njj(Mt.saveEdit())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}if(2&Pt){const Ut=n.XpG();n.Y8G("disabled",Ut.isSave||Ut.countChangedComment()),n.R7$(1),n.SpI(" ",n.bMT(2,2,"lang_auto_luu")," ")}}function zt(Pt,Zt){1&Pt&&(n.j41(0,"div",15)(1,"span",16),n.nrm(2,"azt-loading-ui"),n.k0s()())}function Gt(Pt,Zt){1&Pt&&(n.j41(0,"div",19),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&Pt&&(n.R7$(1),n.SpI(" ",n.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Xt(Pt,Zt){if(1&Pt){const Ut=n.RV6();n.j41(0,"button",28),n.bIt("click",function(){n.eBV(Ut);const Mt=n.XpG().$implicit,Jt=n.XpG(3);return n.Njj(Jt.deleteAssesment(Mt.controls.id.value))}),n.nrm(1,"lucide-icon",29),n.nI1(2,"mytranslate"),n.k0s()}if(2&Pt){const Ut=n.XpG(4);n.Y8G("disabled",Ut.isSave),n.R7$(1),n.FS9("matTooltip",n.bMT(2,2,"lang_auto_xoa"))}}function ae(Pt,Zt){if(1&Pt){const Ut=n.RV6();n.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),n.EFF(4),n.nI1(5,"mytranslate"),n.nI1(6,"formatOnlyDateByUserUnitPipe"),n.k0s(),n.DNE(7,Xt,3,4,"button",26),n.k0s(),n.j41(8,"textarea",27),n.bIt("change",function(){const Jt=n.eBV(Ut).$implicit;return n.Njj(Jt.controls.isEditted.setValue(!0))}),n.k0s()()()}if(2&Pt){const Ut=Zt.$implicit,At=n.XpG(3);n.R7$(1),n.Y8G("formGroup",Ut),n.R7$(3),n.Lme("",n.bMT(5,4,"lang_student_add_comment_date"),": ",n.bMT(6,6,Ut.controls.updatedAt.value),""),n.R7$(3),n.Y8G("ngIf",At.isEdit)}}function xe(Pt,Zt){if(1&Pt&&(n.j41(0,"div",20),n.DNE(1,ae,9,8,"div",21),n.k0s()),2&Pt){const Ut=n.XpG(2);n.R7$(1),n.Y8G("ngForOf",null==Ut.data.student.listCommentControl?null:Ut.data.student.listCommentControl.controls)}}function Se(Pt,Zt){if(1&Pt&&(n.DNE(0,Gt,3,3,"div",17),n.DNE(1,xe,2,1,"ng-template",null,18,n.C5r)),2&Pt){const Ut=n.sdS(2),At=n.XpG();n.Y8G("ngIf",!At.data.student.assessments||!At.data.student.assessments.length)("ngIfElse",Ut)}}const De=function(){return{"ml-2 cursor-pointer":!0}};let Ne=(()=>{var Pt;class Zt extends o._{filterData(At){this.dataFilter=At,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Mt=>Mt.controls.isEditted.value&&!Mt.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let At=this.data.student.listCommentControl?.controls.filter(Jt=>Jt.controls.isEditted.value).map(Jt=>({id:Jt.controls.id.value,studentId:this.data.student.id,comment:Jt.controls.comment.value}))??[];if(!At.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:At}).subscribe(Jt=>{Jt.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(At){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(At).subscribe(Mt=>{Mt.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(At){this.isEdit=At,this.data.student.listCommentControl?.controls.map(Mt=>At?Mt.enable():Mt.disable())}getStudent(At){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0}).subscribe({next:Jt=>{if(Jt.list.length){let oe=this.sAztAssessmentStudentService.getLastAssessmentStudent(Jt.list[0]);this.data.student={...Jt.list[0],commentControl:new e.gE({id:new e.MJ(0,{nonNullable:!0}),updatedAt:new e.MJ(oe?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new e.MJ(oe?.comment??"",{nonNullable:!0}),isEditted:new e.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Jt.list[0].assessments,At)}}this.stopStatusObj()},error:Jt=>{this.errorStatusObj(Jt.error.message,!0)}}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(At,Mt,Jt,oe,St,lt,J){super(J,lt),this.sAztAssessmentStudentService=At,this.sAztTimeService=Mt,this.shareFileFlutterService=Jt,this.exportExcelService=oe,this.studentService=St,this.dialogRef=lt,this.data=J,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,n.WQX)(yt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(Pt=Zt).\u0275fac=function(At){return new(At||Pt)(n.rXU(Nt.n),n.rXU(Dt.F),n.rXU(mt.R),n.rXU(Rt.x),n.rXU(V.b),n.rXU(t.CP,8),n.rXU(t.Vh,8))},Pt.\u0275cmp=n.VBU({type:Pt,selectors:[["azt-student-comments"]],features:[n.Jv_([{provide:O.$O,useClass:T.fb,deps:[i.Ju,it.ij]},{provide:O.vq,useFactory:x.fJ,deps:[Dt.F]}]),n.Vt3],decls:15,vars:19,consts:[[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"matTooltip","ngClass","click"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["doneLoading",""],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"disabled","click"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2","items-center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"disabled","click"],["name","trash-2","size","16",3,"matTooltip"]],template:function(At,Mt){if(1&At&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2),n.nrm(3,"azt-student-info-box",3),n.j41(4,"div",4)(5,"lucide-icon",5),n.bIt("click",function(){return Mt.closeDialog()}),n.nI1(6,"mytranslate"),n.k0s()()(),n.j41(7,"div",6),n.DNE(8,jt,3,3,"button",7),n.DNE(9,tt,3,4,"button",8),n.DNE(10,Tt,3,4,"button",9),n.k0s()(),n.j41(11,"azt-mat-dialog-content"),n.DNE(12,zt,3,0,"div",10),n.DNE(13,Se,3,2,"ng-template",null,11,n.C5r),n.k0s()()),2&At){const Jt=n.sdS(14);n.R7$(3),n.Y8G("name",Mt.data.student.fullName)("parentFullName",Mt.data.student.parentFullName)("parentId",Mt.data.student.parentId)("parentPhone",Mt.data.student.parentPhone)("phone",Mt.data.student.phone)("email",Mt.data.student.email)("avatar",Mt.data.student.avatar)("gender",Mt.data.student.gender)("hasUser",Mt.data.student.hasUser),n.R7$(2),n.FS9("matTooltip",n.bMT(6,16,"lang_auto_dong")),n.Y8G("ngClass",n.lJ4(18,De)),n.R7$(3),n.Y8G("ngIf",!Mt.isEdit&&Mt.data.isTeacher),n.R7$(1),n.Y8G("ngIf",Mt.isEdit),n.R7$(1),n.Y8G("ngIf",Mt.isEdit),n.R7$(2),n.Y8G("ngIf",Mt.statusObj.loading)("ngIfElse",Jt)}},dependencies:[vt.YU,vt.Sq,vt.bT,rt.oV,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,Et.t,Q.U,A.R,Z.B,z.WGl,Ct.wp,Ct.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),Zt})()},66067:(Me,Wt,p)=>{p.d(Wt,{E:()=>_i});var O=p(76627),n=p(59640),e=p(26860),it=p(65162),i=p(73202),t=p(95624),T=p(9691),x=p(54460),o=p(18718),yt=p(64198),Dt=p(75421),Nt=p(93518),mt=p(53043),Rt=p(69307),V=p(46899),vt=p(40111),rt=p(17818),Et=p(47426),Q=p(47712),A=p(69135),Z=p(52811),z=p(91584),Ct=p(15343),jt=p(23750),tt=p(81519),Tt=p(10936),zt=p(34514),Gt=p(99503),Xt=p(79347);class ae{static addNewEducationalProgramFormValidator(L){let b=L,v=b.controls.weekdayConfig;if(!v.length)return b.setErrors(null),null;let S=0,N=0;return v.controls.forEach(P=>{let W=!1,Ft={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};P.controls.selected.value?(P.controls.infrastructureId.value||(W=!0,Ft.invalidInfrastructure=!0),P.controls.startTime.value&&P.controls.endTime.value?new Date("1970-01-01T"+P.controls.startTime.value).getTime()>=new Date("1970-01-01T"+P.controls.endTime.value).getTime()?(W=!0,Ft.invalidTime=!0):Ft.invalidTime=!1:(W=!0,Ft.requireTime=!0),P.setErrors(W?Ft:null),N++):P.setErrors(null),P.invalid&&S++},v),S||!N?(b.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(b.setErrors(null),null)}}var xe=p(43234),Se=p(66772),De=p(84828),Ne=p(39471),Pt=p(97839),Zt=p(74960),Ut=p(4375),At=p(20378),Mt=p(81587),Jt=p(5502),oe=p(76975);const St=["startTime"];function lt(C,L){if(1&C&&e.nrm(0,"azt-loading-effect",4),2&C){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function J(C,L){if(1&C){const b=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(b);const S=e.XpG(2);return e.Njj(S.saveEducationalProgramEmit.emit(!1))}),e.nrm(1,"lucide-icon",40),e.j41(2,"span",41),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&C){const b=e.XpG(2);e.Y8G("disabled",b.isSavingProgram),e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_huy"))}}function Y(C,L){1&C&&e.nrm(0,"lucide-icon",46)}function ft(C,L){1&C&&e.nrm(0,"lucide-icon",47)}const Bt=function(){return{"text-primary":!0}};function qt(C,L){1&C&&e.nrm(0,"lucide-icon",55),2&C&&e.Y8G("ngClass",e.lJ4(1,Bt))}const he=function(C){return{"border border-primary":C}};function Qe(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",51)(1,"div",52),e.bIt("click",function(){const N=e.eBV(b).$implicit,P=e.XpG().$implicit,W=e.XpG(2).$implicit,Ft=e.XpG(2);let wt;return e.Njj(Ft.selectSubject(null!==(wt=W.id)&&void 0!==wt?wt:0,null!==(wt=P.id)&&void 0!==wt?wt:0,N))}),e.j41(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,qt,1,2,"lucide-icon",54),e.k0s()()}if(2&C){const b=L.$implicit;e.Y8G("ngClass",e.eq3(5,he,b.selected)),e.R7$(3),e.JRh(e.bMT(4,3,b.name)),e.R7$(2),e.Y8G("ngIf",b.selected)}}function pn(C,L){if(1&C&&(e.qex(0),e.j41(1,"h3",48)(2,"span",49),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,Qe,6,7,"div",50),e.bVm()),2&C){const b=L.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,b.name)," "),e.R7$(2),e.Y8G("ngForOf",b.children)}}function ln(C,L){if(1&C&&(e.qex(0),e.DNE(1,pn,6,4,"ng-container",18),e.bVm()),2&C){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",b.subjects)}}function cn(C,L){if(1&C){const b=e.RV6();e.qex(0),e.j41(1,"h3",42),e.bIt("click",function(){const N=e.eBV(b).$implicit,P=e.XpG(2);let W;return e.Njj(P.showEducationalProgramSubject(null!==(W=N.id)&&void 0!==W?W:0))}),e.j41(2,"span",43),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,Y,1,0,"lucide-icon",44),e.DNE(6,ft,1,0,"lucide-icon",45),e.k0s(),e.DNE(7,ln,2,1,"ng-container",19),e.bVm()}if(2&C){const b=L.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,b.name)," "),e.R7$(2),e.Y8G("ngIf",b.showChild),e.R7$(1),e.Y8G("ngIf",!b.showChild),e.R7$(1),e.Y8G("ngIf",b.showChild)}}function $e(C,L){1&C&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&C&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function gn(C,L){1&C&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&C&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function hn(C,L){if(1&C){const b=e.RV6();e.qex(0),e.j41(1,"div",58),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(2);return e.Njj(N.openWeekdayConfig(S.controls.id.value))}),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()}if(2&C){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("formGroup",b),e.R7$(2),e.JRh(e.bMT(4,2,b.controls.name.value))}}function mn(C,L){1&C&&(e.j41(0,"button",79),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_huy")))}function en(C,L){1&C&&(e.j41(0,"button",80),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_xac_nhan")))}function nn(C,L){1&C&&e.nrm(0,"p",81)}function on(C,L){1&C&&(e.j41(0,"mat-label"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function st(C,L){if(1&C&&(e.j41(0,"mat-option",82),e.EFF(1),e.k0s()),2&C){const b=L.$implicit;e.FS9("value",b.id),e.R7$(1),e.JRh(b.name)}}function Yt(C,L){1&C&&(e.qex(0),e.j41(1,"small",83),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&C&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function ot(C,L){1&C&&(e.qex(0),e.j41(1,"small",83),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&C&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function nt(C,L){1&C&&(e.qex(0),e.nrm(1,"br"),e.j41(2,"small",84),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&C&&(e.R7$(3),e.SpI("* ",e.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function at(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",59)(1,"div",60)(2,"span",61),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(2);return e.Njj(N.openWeekdayConfig(S.controls.id.value))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"lucide-icon",62),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(2);return e.Njj(N.openWeekdayConfig(S.controls.id.value))}),e.k0s(),e.j41(6,"div",63)(7,"div",64)(8,"div",65),e.nrm(9,"input",66),e.nI1(10,"mytranslate"),e.nrm(11,"ngx-mat-timepicker",67,68),e.k0s(),e.j41(13,"span",69),e.EFF(14,"\xa0-\xa0"),e.k0s(),e.j41(15,"div",65),e.nrm(16,"input",70),e.nI1(17,"mytranslate"),e.nrm(18,"ngx-mat-timepicker",67,71),e.k0s(),e.DNE(20,mn,3,3,"ng-template",null,72,e.C5r),e.DNE(22,en,3,3,"ng-template",null,73,e.C5r),e.DNE(24,nn,1,0,"ng-template",null,74,e.C5r),e.j41(26,"lucide-icon",75),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(2);return e.Njj(N.openWeekdayConfig(S.controls.id.value))}),e.k0s()(),e.j41(27,"mat-form-field",76),e.DNE(28,on,3,3,"mat-label",19),e.j41(29,"mat-select",77),e.bIt("openedChange",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(2);return e.Njj(P.touchedMatSelect(S,N))}),e.DNE(30,st,2,2,"mat-option",78),e.k0s()(),e.DNE(31,Yt,4,3,"ng-container",19),e.DNE(32,ot,4,3,"ng-container",19),e.DNE(33,nt,5,3,"ng-container",19),e.k0s()()()}if(2&C){const b=e.sdS(12),v=e.sdS(19),S=e.sdS(21),N=e.sdS(23),P=e.sdS(25),W=e.XpG().$implicit,Ft=e.XpG(2);e.Y8G("formGroup",W)("ngClass",e.eq3(29,he,W.controls.selected.value)),e.R7$(3),e.JRh(e.bMT(4,23,W.controls.name.value)),e.R7$(6),e.FS9("placeholder",e.bMT(10,25,"lang_auto_tu")),e.Y8G("ngxMatTimepicker",b)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",P)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",N),e.R7$(5),e.FS9("placeholder",e.bMT(17,27,"lang_auto_den")),e.Y8G("ngxMatTimepicker",v)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",P)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",N),e.R7$(10),e.Y8G("ngIf",W.errors&&W.errors.invalidInfrastructure&&!W.controls.infrastructureId.touched),e.R7$(1),e.Y8G("value",W.controls.infrastructureId.value),e.R7$(1),e.Y8G("ngForOf",Ft.listInfrastructureObjs),e.R7$(1),e.Y8G("ngIf",W.errors&&W.errors.requireTime),e.R7$(1),e.Y8G("ngIf",W.errors&&W.errors.invalidTime),e.R7$(1),e.Y8G("ngIf",W.errors&&W.errors.invalidInfrastructure)}}function Ht(C,L){if(1&C&&(e.qex(0),e.DNE(1,hn,5,4,"ng-container",19),e.DNE(2,at,34,31,"div",57),e.bVm()),2&C){const b=L.$implicit;e.R7$(1),e.Y8G("ngIf",!b.controls.selected.value),e.R7$(1),e.Y8G("ngIf",b.controls.selected.value)}}function ue(C,L){1&C&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&C&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Kt(C,L){1&C&&e.nrm(0,"azt-loading-ui",88)}function Ie(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",85)(1,"button",86),e.bIt("click",function(){e.eBV(b);const S=e.XpG(2);return e.Njj(S.saveEducationalProgram())}),e.DNE(2,Kt,1,0,"azt-loading-ui",87),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&C){const b=e.XpG(2);e.R7$(1),e.Y8G("disabled",b.form.invalid||b.isSavingProgram),e.R7$(1),e.Y8G("ngIf",b.isSavingProgram),e.R7$(1),e.SpI(" ",e.bMT(4,3,"lang_auto_luu")," ")}}const ce=function(C){return{"mt-2":C}},Fe=function(){return{"ml-2 clickable":!0}},ne=function(){return{"width.px":"auto","height.%":100}},fe=function(C){return[C]},je=function(C){return{backTo:C}},Le=function(){return{"mr-2":!0}},Be=function(C,L){return{hiddenVisible:C,visibleIpt:L}};function Cn(C,L){if(1&C){const b=e.RV6();e.DNE(0,J,5,4,"button",5),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e.EFF(7,"1"),e.k0s()(),e.j41(8,"span",12),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"lucide-icon",13),e.bIt("click",function(){e.eBV(b);const S=e.XpG();return e.Njj(S.reloadAllEducationalProgram())}),e.k0s()(),e.j41(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.DNE(16,cn,8,6,"ng-container",18),e.DNE(17,$e,4,3,"ng-container",19),e.DNE(18,gn,4,3,"ng-container",19),e.k0s()()(),e.j41(19,"div",17)(20,"a",20),e.nI1(21,"navigationLocalize"),e.nrm(22,"lucide-icon",21),e.j41(23,"span",22),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()()()()(),e.j41(26,"div",8)(27,"div",9)(28,"div",10)(29,"h3",11),e.EFF(30,"2"),e.k0s()(),e.j41(31,"span",23),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()(),e.j41(34,"div",24)(35,"div",25)(36,"ng-scrollbar",16)(37,"div",26),e.DNE(38,Ht,3,2,"ng-container",18),e.k0s()()()()(),e.j41(39,"div",8)(40,"div",9)(41,"div",10)(42,"h3",11),e.EFF(43,"3"),e.k0s()(),e.j41(44,"span",23),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"div",27)(48,"div",28)(49,"ng-scrollbar",16)(50,"div",29)(51,"mat-form-field",30)(52,"input",31),e.bIt("click",function(){e.eBV(b);const S=e.XpG();return e.Njj(S.openDateTimePicker(1))}),e.k0s(),e.j41(53,"button",32),e.bIt("click",function(S){return e.eBV(b),e.XpG().openDateTimePicker(1),e.Njj(S.stopPropagation())}),e.nrm(54,"lucide-icon",33),e.k0s(),e.j41(55,"ngx-mat-datetime-picker",34,35)(57,"ngx-mat-datepicker-actions")(58,"button",36),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s(),e.j41(61,"button",37),e.EFF(62,"OK"),e.k0s()()()(),e.DNE(63,ue,4,3,"ng-container",19),e.k0s()()(),e.DNE(64,Ie,5,5,"div",38),e.k0s()()()()}if(2&C){const b=e.sdS(56),v=e.XpG();e.Y8G("ngIf",v.programObj),e.R7$(2),e.Y8G("ngClass",e.eq3(41,ce,v.programObj)),e.R7$(7),e.JRh(e.bMT(10,29,"lang_config_educational_program_select_new")),e.R7$(2),e.Y8G("ngClass",e.lJ4(43,Fe)),e.R7$(3),e.Y8G("visibility","hover")("ngStyle",e.lJ4(44,ne)),e.R7$(2),e.Y8G("ngForOf",v.listEducationalProgramObjs),e.R7$(1),e.Y8G("ngIf",v.listEducationalProgramObjs.length>0&&!v.form.controls.chooseProgramId.value),e.R7$(1),e.Y8G("ngIf",!v.listEducationalProgramObjs.length),e.R7$(2),e.Y8G("routerLink",e.eq3(45,fe,e.bMT(21,31,"/business/create-general-educational-program")))("queryParams",e.eq3(47,je,v.currentURL)),e.R7$(2),e.Y8G("ngClass",e.lJ4(49,Le)),e.R7$(2),e.JRh(e.bMT(25,33,"lang_config_educational_program_add_new")),e.R7$(8),e.JRh(e.bMT(33,35,"lang_config_educational_program_add_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(50,Be,v.form.controls.stepChoose.value<2,v.form.controls.stepChoose.value>=2)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(53,ne)),e.R7$(2),e.Y8G("ngForOf",v.form.controls.weekdayConfig.controls),e.R7$(7),e.JRh(e.bMT(46,37,"lang_config_educational_program_add_start_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(54,Be,v.form.controls.stepChoose.value<3,v.form.controls.stepChoose.value>=3)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(57,ne)),e.R7$(3),e.Y8G("max",v.maxDate)("ngxMatDatetimePicker",b),e.R7$(3),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(4),e.JRh(e.bMT(60,39,"lang_auto_dong")),e.R7$(4),e.Y8G("ngIf",v.form.controls.startTimeEducationalProgram.invalid),e.R7$(1),e.Y8G("ngIf",!v.statusObj.loading)}}let Ge=(()=>{var C;class L extends n.H{openDateTimePicker(v){1==v&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(v){this.listEducationalProgramObjs.forEach(S=>{S.id==v&&(S.showChild=!S.showChild,S.showChild||S.subjects.forEach(N=>{N.children?.forEach(P=>{P.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0),P.selected=!1,this.initFormWeekly())})}))})}selectSubject(v,S,N){this.listEducationalProgramObjs.forEach(P=>{P.id==v?P.subjects.forEach(W=>{W.id==S?W.children?.forEach(Ft=>{Ft.id==N.id?(Ft.selected=!Ft.selected,this.form.controls.chooseProgramId.setValue(Ft.selected?N.id:0),this.form.controls.stepChoose.setValue(Ft.selected?2:1)):Ft.selected=!1}):W.children?.map(Ft=>Ft.selected=!1)}):P.subjects.map(W=>W.children?.map(Ft=>Ft.selected=!1))})}reloadAllEducationalProgram(){this.form.controls.chooseProgramId.setValue(0),this.initFormWeekly(),this.initData()}openWeekdayConfig(v){this.form.controls.weekdayConfig.controls.forEach(S=>{S.controls.id.value==v&&S.controls.selected.setValue(!S.controls.selected.value)})}touchedMatSelect(v,S){v?S.controls.infrastructureId.markAsTouched():S.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let v={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,v).subscribe({next:S=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:S=>{this.isSavingProgram=!1,this.errorStatusObj(S.error.message,!0)}}))}convertStudyTimes(){let v=[];return this.form.controls.weekdayConfig.controls.forEach(S=>{if(S.controls.selected.value){let N={days:S.controls.id.value,fromHour:new Date("1970-01-01T"+S.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+S.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+S.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+S.controls.endTime.value).getMinutes(),roomId:S.controls.infrastructureId.value};v.push(N)}}),v}convertSubjectList(v,S){let N=[];return v.forEach(P=>{if(P.schoolLevelId==S)if(N.filter(Ft=>Ft.id==P.schoolSubjectId&&Ft.levelId==P.schoolLevelId).length)N.forEach(Ft=>{Ft.id==P.schoolSubjectId&&Ft.levelId==P.schoolLevelId&&(Ft.children?.find(wt=>wt==P)||Ft.children?.push(P))});else{let Ft={id:P.schoolSubjectId,levelId:P.schoolLevelId,name:this.schoolSubjectObjs.find(wt=>wt.id==P.schoolSubjectId)?.name,children:[P]};N.push(Ft)}}),N}convertProgramInfo(v){let S=[],N=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",P=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return v.forEach(W=>{if(W.name=`${W.name} (${W.totalSession} ${P})`,!S.filter(wt=>wt.id==W.schoolLevelId).length){let wt={id:W.schoolLevelId,name:N+" "+W.schoolLevelId,subjects:this.convertSubjectList(v,W.schoolLevelId),showChild:!1};S.push(wt)}}),S.sort((W,Ft)=>(Ft.id??0)-(W.id??0))}convertListInfrastructure(v){let S=[],N=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return v.forEach(P=>{P.name=`${P.infrastructure?.name??""} - ${P.name} (${P.numberSeat} ${N})`,S.push(P)}),S}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:v=>{this.listInfrastructureObjs=this.convertListInfrastructure(v.list),this.stopStatusObj()},error:v=>{this.errorStatusObj(v.error.message,!0)}}))}initFormWeekly(){this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let v=0;v<7;v++){let S=new Tt.gE({id:new Tt.MJ(v,{nonNullable:!0}),name:new Tt.MJ("lang_config_educational_program_day_"+v,{nonNullable:!0}),startTime:new Tt.MJ("",{nonNullable:!0}),endTime:new Tt.MJ("",{nonNullable:!0}),infrastructureId:new Tt.MJ(0,{nonNullable:!0}),selected:new Tt.MJ(!1,{nonNullable:!0}),invalidTime:new Tt.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(S)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:v=>{this.listEducationalProgramObjs=this.convertProgramInfo(v.list),this.getAllInfrastructure()},error:v=>{this.errorStatusObj(v.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(v=>{1==v.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(v.data?.schoolLevelSubjectObjs.map(S=>S.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(v.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(S=>S.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(v,S,N,P,W,Ft,wt){super(),this.cd=v,this.timeService=S,this.classroomService=N,this.programService=P,this.infrastructureService=W,this.sAZTranslateService=Ft,this.commonListService=wt,this.saveEducationalProgramEmit=new e.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=xe.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new Tt.gE({chooseProgramId:new Tt.MJ(0,{nonNullable:!0,validators:[Tt.k0.required,Tt.k0.min(1)]}),startTimeEducationalProgram:new Tt.MJ("",{nonNullable:!0,validators:[Tt.k0.required]}),weekdayConfig:new Tt.Yp([]),stepChoose:new Tt.MJ(1,{nonNullable:!0})},{validators:[ae.addNewEducationalProgramFormValidator]}),this.initFormWeekly()}}return(C=L).\u0275fac=function(v){return new(v||C)(e.rXU(e.gRc),e.rXU(T.F),e.rXU(t.zS),e.rXU(t.sC),e.rXU(t.BU),e.rXU(Se.o),e.rXU(De.Nz))},C.\u0275cmp=e.VBU({type:C,selectors:[["app-add-new-educational-program"]],viewQuery:function(v,S){if(1&v&&e.GBs(St,5),2&v){let N;e.mGM(N=e.lsd())&&(S.startTime=N.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e.Jv_([{provide:tt.$O,useClass:Gt.fb,deps:[Et.Ju,zt.ij]},{provide:tt.vq,useFactory:Xt.In,deps:[T.F]}]),e.Vt3],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw","size","18",3,"ngClass","click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block","ml-1"],[1,"flex","items-center","mt-2","cursor-pointer",2,"font-weight","420","font-size","15px",3,"click"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"mr-2"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","items-center","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","items-center","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(v,S){if(1&v&&(e.j41(0,"div",0)(1,"form",1),e.DNE(2,lt,1,1,"azt-loading-effect",2),e.DNE(3,Cn,65,58,"ng-template",null,3,e.C5r),e.k0s()()),2&v){const N=e.sdS(4);e.R7$(1),e.Y8G("formGroup",S.form),e.R7$(1),e.Y8G("ngIf",S.statusObj.loading)("ngIfElse",N)}},dependencies:[it.Wk,x.YU,x.Sq,x.bT,x.B3,Et.wT,Ne.$z,Pt.fg,Zt.rl,Zt.nJ,Zt.yw,Ut.VO,tt.m7,tt.yF,tt.HF,tt.gx,tt.Uq,At.gu,At.wn,Tt.qT,Tt.me,Tt.BC,Tt.cb,Tt.j4,Tt.JD,Tt.v8,o.K,Mt.t,Z.R,Ct.WGl,Jt.Yh,oe.F2,oe.wp],encapsulation:2}),L})();function B(C,L){if(1&C&&(e.qex(0),e.j41(1,"p",5),e.EFF(2),e.k0s(),e.bVm()),2&C){const b=L.$implicit;e.R7$(2),e.SpI("",b.content," ")}}const Ot=function(){return{"zoom-in":!0}};function R(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(b);const S=e.XpG(2);return e.Njj(S.editContent())}),e.nrm(1,"lucide-icon",7),e.k0s()}2&C&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,Ot)))}function H(C,L){if(1&C&&(e.j41(0,"div",2)(1,"div"),e.DNE(2,B,3,1,"ng-container",3),e.k0s(),e.DNE(3,R,2,2,"div",4),e.k0s()),2&C){const b=e.XpG();e.R7$(2),e.Y8G("ngForOf",b.contents),e.R7$(1),e.Y8G("ngIf",b.teacherRole)}}function X(C,L){if(1&C){const b=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(2);return e.Njj(N.removeContent(S))}),e.nI1(1,"mytranslate"),e.nrm(2,"lucide-icon",22),e.k0s()}if(2&C){const b=e.XpG(3);e.FS9("matTooltip",e.bMT(1,2,"lang_button_delete")),e.Y8G("disabled",b.statusObj.loading)}}function pt(C,L){1&C&&(e.j41(0,"div",23)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&C&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function Vt(C,L){if(1&C&&(e.j41(0,"div")(1,"div",17),e.nrm(2,"input",18),e.nI1(3,"mytranslate"),e.DNE(4,X,3,4,"button",19),e.k0s(),e.DNE(5,pt,4,3,"div",20),e.k0s()),2&C){const b=L.$implicit,v=e.XpG(2);e.R7$(2),e.FS9("placeholder",e.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Y8G("formControl",b.controls.content)("disabled",v.statusObj.loading),e.R7$(2),e.Y8G("ngIf",v.listFormContent.controls.length>1),e.R7$(1),e.Y8G("ngIf",b.controls.content.errors)}}function ge(C,L){1&C&&e.nrm(0,"azt-loading-ui",24),2&C&&e.Y8G("size",16)}function me(C,L){1&C&&e.nrm(0,"lucide-icon",25)}const ze=function(){return[]};function Pe(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",8),e.DNE(1,Vt,6,7,"div",3),e.j41(2,"div",9)(3,"button",10),e.bIt("click",function(){e.eBV(b);const S=e.XpG();return e.Njj(S.viewContent())}),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"button",11),e.bIt("click",function(){e.eBV(b);const S=e.XpG();return e.Njj(S.addContent())}),e.nrm(7,"lucide-icon",12),e.j41(8,"span",13),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"button",14),e.bIt("click",function(){e.eBV(b);const S=e.XpG();return e.Njj(S.saveContent())}),e.DNE(12,ge,1,1,"azt-loading-ui",15),e.DNE(13,me,1,0,"lucide-icon",16),e.j41(14,"span",13),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()}if(2&C){const b=e.XpG();let v;e.R7$(1),e.Y8G("ngForOf",null!==(v=null==b.listFormContent?null:b.listFormContent.controls)&&void 0!==v?v:e.lJ4(15,ze)),e.R7$(2),e.Y8G("disabled",b.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(5,9,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",b.statusObj.loading||b.isEmptyContent()),e.R7$(3),e.SpI(" ",e.bMT(10,11,"lang_button_add")," "),e.R7$(2),e.Y8G("disabled",b.statusObj.loading||b.isEmptyContent()),e.R7$(1),e.Y8G("ngIf",b.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!b.statusObj.loading),e.R7$(2),e.SpI(" ",e.bMT(16,13,"lang_button_save")," ")}}let fn=(()=>{var C;class L extends n.H{isEmptyContent(){return!!this.listFormContent.controls.find(v=>v.controls.content.errors)}editContent(){this.listFormContent=new Tt.Yp(this.contents.map(v=>new Tt.gE({contentId:new Tt.MJ(v.id,{nonNullable:!0,validators:[Tt.k0.required]}),content:new Tt.MJ(v.content,{nonNullable:!0,validators:[Tt.k0.required]})})))}addContent(){var v=this.listFormContent.controls.map(S=>S.getRawValue().contentId);this.listFormContent.controls.push(new Tt.gE({contentId:new Tt.MJ(this.commonService.getVirtualIdWithoutInList(!0,v),{nonNullable:!0,validators:[Tt.k0.required]}),content:new Tt.MJ("",{nonNullable:!0,validators:[Tt.k0.required]})}))}removeContent(v){this.listFormContent.controls=this.listFormContent.controls.filter(S=>S!=v)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let v={contents:this.listFormContent?.controls.map(S=>({id:S.getRawValue().contentId<0?0:S.getRawValue().contentId,content:S.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,v).subscribe({next:S=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:S=>{this.errorStatusObj(S.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(v){super(),this.classroomService=v,this.contents=[],this.close=new e.bkB,this.listFormContent=new Tt.Yp([])}}return(C=L).\u0275fac=function(v){return new(v||C)(e.rXU(t.zS))},C.\u0275cmp=e.VBU({type:C,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e.Jv_([{provide:tt.$O,useClass:Gt.fb,deps:[Et.Ju,zt.ij]},{provide:tt.vq,useFactory:Xt.In,deps:[T.F]}]),e.Vt3],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["name","plus","size","16"],[1,"ml-1"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],[3,"size",4,"ngIf"],["name","save","size","16",4,"ngIf"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled","click"],["name","trash-2","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[3,"size"],["name","save","size","16"]],template:function(v,S){1&v&&(e.DNE(0,H,4,2,"div",0),e.DNE(1,Pe,17,16,"div",1)),2&v&&(e.Y8G("ngIf",0==S.listFormContent.controls.length),e.R7$(1),e.Y8G("ngIf",S.listFormContent.controls.length>0))},dependencies:[x.YU,x.Sq,x.bT,Q.oV,Tt.me,Tt.BC,Tt.l_,Z.R,Ct.WGl,oe.wp],encapsulation:2}),L})();function Ze(C,L){if(1&C&&(e.j41(0,"div",3),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C){const b=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,b.errorApiMessage)," ")}}function M(C,L){if(1&C){const b=e.RV6();e.j41(0,"app-add-new-educational-program",6),e.bIt("saveEducationalProgramEmit",function(S){e.eBV(b);const N=e.XpG(2);return e.Njj(N.emitDataReloadSession(S))}),e.k0s()}if(2&C){const b=e.XpG(2);e.Y8G("classroomId",b.classroomId)("programObj",b.programObj)}}function ht(C,L){if(1&C){const b=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(b);const S=e.XpG(3);return e.Njj(S.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",14),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&C&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_educational_program_select_another")))}function U(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",18)(1,"a",19),e.bIt("auxclick",function(S){const P=e.eBV(b).$implicit,W=e.XpG(4);return e.Njj(W.previewFile(P,S))})("click",function(S){const P=e.eBV(b).$implicit,W=e.XpG(4);return e.Njj(W.previewFile(P,S))}),e.nrm(2,"azt-document-type-file",20),e.k0s()()}if(2&C){const b=L.$implicit;let v;e.R7$(2),e.Y8G("type",b.documentType)("name",null!==(v=b.name)&&void 0!==v?v:"")("url",b.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function F(C,L){if(1&C&&(e.qex(0),e.j41(1,"div",16),e.DNE(2,U,3,5,"div",17),e.k0s(),e.bVm()),2&C){const b=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",b.generalDocumentObjs)}}function E(C,L){1&C&&e.nrm(0,"lucide-icon",25)}function _t(C,L){1&C&&e.nrm(0,"lucide-icon",26)}function be(C,L){1&C&&(e.j41(0,"button",35),e.nrm(1,"lucide-icon",36),e.j41(2,"span",37),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&C&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_student_absence")))}function Qt(C,L){1&C&&(e.j41(0,"button",38),e.nrm(1,"lucide-icon",36),e.k0s())}function Oe(C,L){if(1&C&&(e.j41(0,"div",32),e.DNE(1,be,5,3,"button",33),e.nI1(2,"async"),e.nI1(3,"allowFeatureBusinessForUser"),e.DNE(4,Qt,2,0,"button",34),e.nI1(5,"async"),e.nI1(6,"allowFeatureBusinessForUser"),e.k0s()),2&C){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",(null==b.studentAttendance?null:b.studentAttendance.absent)&&e.bMT(2,2,e.brH(3,4,"","training_center_student_attendance",!0))),e.R7$(3),e.Y8G("ngIf",(null==b.studentAttendance?null:b.studentAttendance.absent)&&e.bMT(5,8,e.brH(6,10,"","training_center_student_attendance",!0)))}}function ct(C,L){if(1&C&&(e.qex(0),e.j41(1,"span",44),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&C){const b=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==b.room.infrastructure?null:b.room.infrastructure.name)+" - "+b.room.name)}}const Rn=function(C){return{"text-slate-700":C}};function We(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",39),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(5);return e.Njj(N.expandSessionObj(S))}),e.j41(1,"div",40)(2,"h3",41)(3,"span",42),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,ct,4,3,"ng-container",5),e.k0s()()}if(2&C){const b=e.XpG().$implicit;e.R7$(3),e.Y8G("ngClass",e.eq3(8,Rn,b.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,4,"lang_core_buoi")+" "+b.sort),e.R7$(3),e.JRh(e.bMT(8,6,"lang_config_educational_program_day_"+b.day)+", "+b.dateSession+" "+b.timeSession),e.R7$(2),e.Y8G("ngIf",b.room)}}function qn(C,L){if(1&C&&(e.qex(0),e.j41(1,"span",62),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&C){const b=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==b.room.infrastructure?null:b.room.infrastructure.name)+" - "+b.room.name)}}const kn=function(C,L){return{"text-slate-600":C,"text-warning":L}};function An(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",51)(1,"div",52)(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"app-education-program-session-content-form",63),e.bIt("close",function(S){e.eBV(b);const N=e.XpG(2).$implicit,P=e.XpG(5);return e.Njj(P.reloadData(S,N))}),e.k0s()()}if(2&C){const b=e.XpG(2).$implicit,v=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(8,kn,b.outOfDate,!b.outOfDate)),e.R7$(1),e.JRh(e.bMT(4,6,"lang_auto_noi_dung")),e.R7$(2),e.Y8G("contents",b.contents)("teacherRole",v.teacherRole)("classroomId",v.classroomId)("sessionId",b.id)}}function Ye(C,L){1&C&&(e.qex(0),e.j41(1,"div",75),e.nrm(2,"img",76),e.nI1(3,"convertCdnLinkOfGitHub"),e.k0s(),e.bVm()),2&C&&(e.R7$(2),e.Y8G("src",e.bMT(3,1,"images/type_file/unknown-file.svg"),e.B4B))}const ve=function(){return{"text-pending":!0}};function _n(C,L){1&C&&(e.qex(0),e.nrm(1,"lucide-icon",77),e.bVm()),2&C&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,ve)))}const bn=function(){return{"text-primary":!0}};function Ln(C,L){1&C&&(e.qex(0),e.nrm(1,"lucide-icon",78),e.bVm()),2&C&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,bn)))}function Bn(C,L){if(1&C&&(e.j41(0,"small",79),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C){const b=e.XpG().$implicit;e.R7$(1),e.E5c(" ",e.bMT(2,3,"lang_auto_da_nop"),":\xa0",b.totalFinish,"/",b.totalAttendee," ")}}const xn=function(C,L){return{"text-success":C,"text-slate-700/50":L}};function Tn(C,L){if(1&C&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C){const b=e.XpG().$implicit;e.Y8G("ngClass",e.l_i(4,xn,b.totalFinish,!b.totalFinish)),e.R7$(1),e.SpI(" ",e.bMT(2,2,b.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function qe(C,L){if(1&C){const b=e.RV6();e.j41(0,"small",81),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"button",82),e.bIt("click",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(2).$implicit;return e.XpG(5).editMarkCoefficient(N,P),S.stopPropagation(),e.Njj(S.preventDefault())}),e.nI1(4,"mytranslate"),e.nrm(5,"lucide-icon",83),e.k0s()()}if(2&C){const b=e.XpG().$implicit;e.R7$(1),e.Lme(" ",e.bMT(2,3,"lang_student_score_factor"),":\xa0",b.markCoefficient," "),e.R7$(2),e.FS9("matTooltip",e.bMT(4,5,"lang_student_edit_mark_coefficient"))}}const sn=function(C){return[C]},Sn=function(C){return{backto:C}};function I(C,L){if(1&C&&(e.j41(0,"div",64)(1,"a",65),e.nI1(2,"navigationLocalize"),e.j41(3,"div",66)(4,"div",67),e.DNE(5,Ye,4,3,"ng-container",5),e.DNE(6,_n,2,2,"ng-container",5),e.DNE(7,Ln,2,2,"ng-container",5),e.k0s(),e.j41(8,"div",68)(9,"div",69)(10,"span",70,71),e.EFF(12),e.k0s(),e.DNE(13,Bn,3,5,"small",72),e.DNE(14,Tn,3,7,"small",73),e.DNE(15,qe,6,7,"small",74),e.k0s()()()()()),2&C){const b=L.$implicit,v=e.sdS(11),S=e.XpG(7);let N;e.R7$(1),e.Y8G("routerLink",e.eq3(14,sn,e.bMT(2,12,b.documentType==S.allDocumentTypes.exam?S.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(N=b.categoryId)&&void 0!==N?N:0)+"/"+b.refId+"/0":"/de-thi/"+b.hashId:S.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(N=b.classroomId)&&void 0!==N?N:0)+"/"+b.refId+"/"+b.hashId:"/bai-tap/"+b.hashId)))("queryParams",e.eq3(16,Sn,S.currentUrl)),e.R7$(4),e.Y8G("ngIf",!b.type),e.R7$(1),e.Y8G("ngIf","exam"==b.type),e.R7$(1),e.Y8G("ngIf","homework"==b.type),e.R7$(3),e.FS9("matTooltip",b.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",v.isDisabled),e.R7$(2),e.SpI(" ",b.name," "),e.R7$(1),e.Y8G("ngIf",S.teacherRole),e.R7$(1),e.Y8G("ngIf",!S.teacherRole),e.R7$(1),e.Y8G("ngIf",S.teacherRole)}}const q=function(C,L,b,v,S,N){return{backto:C,classroomId:L,programId:b,sessionId:v,levelId:S,subjectId:N}},y=function(C,L){return{"text-slate-600":C,"btn-text-primary":L}};function j(C,L){if(1&C&&(e.j41(0,"a",84),e.nI1(1,"navigationLocalize"),e.j41(2,"span",85),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&C){const b=e.XpG(2).$implicit,v=e.XpG(5);let S;e.Y8G("routerLink",e.eq3(8,sn,e.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.l4e(10,q,v.currentUrl,v.classroomId,b.programId,b.id,null!==(S=null==v.programObj?null:v.programObj.schoolLevelId)&&void 0!==S?S:0,null!==(S=null==v.programObj?null:v.programObj.schoolSubjectId)&&void 0!==S?S:0))("ngClass",e.l_i(17,y,b.outOfDate,!b.outOfDate)),e.R7$(3),e.SpI("+ ",e.bMT(4,6,"lang_business_assign_exams"),"")}}function $(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",101)(1,"a",102),e.bIt("click",function(S){e.eBV(b);const N=e.XpG(2).$implicit,P=e.XpG(3).$implicit,W=e.XpG(4).$implicit;let wt;return e.XpG(5).removeDocumentFromSession(W,null!==(wt=N.sessionId)&&void 0!==wt?wt:0,N.id,P),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&C&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function kt(C,L){if(1&C){const b=e.RV6();e.j41(0,"li")(1,"a",98),e.bIt("auxclick",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))})("click",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))}),e.nrm(2,"azt-document-type-file",99),e.DNE(3,$,4,3,"div",100),e.k0s()()}if(2&C){const b=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",b.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=b.name)&&void 0!==S?S:"")("url",b.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function se(C,L){if(1&C&&(e.qex(0),e.DNE(1,kt,4,10,"li",5),e.bVm()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.video)}}const Ve=function(C){return{width:C}},Ue=function(C){return{"dropdown-menu-scroll":C}};function to(C,L){if(1&C&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,95)(8,"div",96)(9,"ul",97),e.DNE(10,se,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&C){const b=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,N=e.XpG(2).last;e.XpG();const P=e.sdS(2),W=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?b:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Ve,W.isMobileWebView?P.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ue,N&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function ao(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",101)(1,"a",106),e.bIt("click",function(S){e.eBV(b);const N=e.XpG(2).$implicit,P=e.XpG(3).$implicit,W=e.XpG(4).$implicit;let wt;return e.XpG(5).removeDocumentFromSession(W,null!==(wt=N.sessionId)&&void 0!==wt?wt:0,N.id,P),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&C&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Yo(C,L){if(1&C){const b=e.RV6();e.j41(0,"li")(1,"a",105),e.bIt("auxclick",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))})("click",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))}),e.nrm(2,"azt-document-type-file",99),e.DNE(3,ao,4,3,"div",100),e.k0s()()}if(2&C){const b=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",b.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=b.name)&&void 0!==S?S:"")("url",b.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function an(C,L){if(1&C&&(e.qex(0),e.DNE(1,Yo,4,10,"li",5),e.bVm()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.document)}}function ro(C,L){if(1&C&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,104)(8,"div",96)(9,"ul",97),e.DNE(10,an,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&C){const b=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,N=e.XpG(2).last;e.XpG();const P=e.sdS(2),W=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?b:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Ve,W.isMobileWebView?P.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ue,N&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function eo(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",101)(1,"a",109),e.bIt("click",function(S){e.eBV(b);const N=e.XpG(2).$implicit,P=e.XpG(3).$implicit,W=e.XpG(4).$implicit;let wt;return e.XpG(5).removeDocumentFromSession(W,null!==(wt=N.sessionId)&&void 0!==wt?wt:0,N.id,P),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&C&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function ye(C,L){if(1&C){const b=e.RV6();e.j41(0,"li")(1,"a",108),e.bIt("auxclick",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))})("click",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))}),e.nrm(2,"azt-document-type-file",99),e.DNE(3,eo,4,3,"div",100),e.k0s()()}if(2&C){const b=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",b.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=b.name)&&void 0!==S?S:"")("url",b.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function Mn(C,L){if(1&C&&(e.qex(0),e.DNE(1,ye,4,10,"li",5),e.bVm()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.homework)}}function In(C,L){if(1&C&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,107)(8,"div",96)(9,"ul",97),e.DNE(10,Mn,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&C){const b=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,N=e.XpG(2).last;e.XpG();const P=e.sdS(2),W=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?b:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Ve,W.isMobileWebView?P.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ue,N&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function Fn(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",101)(1,"a",113),e.bIt("click",function(S){e.eBV(b);const N=e.XpG(2).$implicit,P=e.XpG(3).$implicit,W=e.XpG(4).$implicit;let wt;return e.XpG(5).removeDocumentFromSession(W,null!==(wt=N.sessionId)&&void 0!==wt?wt:0,N.id,P),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&C&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function lo(C,L){if(1&C){const b=e.RV6();e.j41(0,"li")(1,"a",111),e.bIt("auxclick",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))})("click",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))}),e.nrm(2,"azt-document-type-file",112),e.DNE(3,Fn,4,3,"div",100),e.k0s()()}if(2&C){const b=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("type",b.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=b.name)&&void 0!==S?S:"")("url",b.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function co(C,L){if(1&C&&(e.qex(0),e.DNE(1,lo,4,10,"li",5),e.bVm()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.homework_view)}}function To(C,L){if(1&C&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,110)(8,"div",96)(9,"ul",97),e.DNE(10,co,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&C){const b=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,N=e.XpG(2).last;e.XpG();const P=e.sdS(2),W=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?b:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Ve,W.isMobileWebView?P.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ue,N&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function no(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",101)(1,"a",116),e.bIt("click",function(S){e.eBV(b);const N=e.XpG(2).$implicit,P=e.XpG(3).$implicit,W=e.XpG(4).$implicit;let wt;return e.XpG(5).removeDocumentFromSession(W,null!==(wt=N.sessionId)&&void 0!==wt?wt:0,N.id,P),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&C&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Yn(C,L){if(1&C){const b=e.RV6();e.j41(0,"li")(1,"a",115),e.bIt("auxclick",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))})("click",function(S){e.eBV(b);const N=e.XpG().$implicit,P=e.XpG(12);return e.Njj(P.previewFile(N,S))}),e.nrm(2,"azt-document-type-file",112),e.DNE(3,no,4,3,"div",100),e.k0s()()}if(2&C){const b=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("type",b.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=b.name)&&void 0!==S?S:"")("url",b.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function oo(C,L){if(1&C&&(e.qex(0),e.DNE(1,Yn,4,10,"li",5),e.bVm()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.unknown)}}function Vo(C,L){if(1&C&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,114)(8,"div",96)(9,"ul",97),e.DNE(10,oo,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&C){const b=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,N=e.XpG(2).last;e.XpG();const P=e.sdS(2),W=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",b),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Ve,W.isMobileWebView?P.offsetWidth-40+"px":"18rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ue,N&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function Uo(C,L){if(1&C&&(e.j41(0,"div",91),e.DNE(1,to,11,12,"ng-container",5),e.DNE(2,ro,11,12,"ng-container",5),e.DNE(3,In,11,12,"ng-container",5),e.DNE(4,To,11,12,"ng-container",5),e.DNE(5,Vo,11,12,"ng-container",5),e.k0s()),2&C){const b=e.XpG().$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.video),e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.document),e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.homework),e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.homework_view),e.R7$(1),e.Y8G("ngIf",b.name==v.allDocumentGroupTypes.unknown&&b.documentObjs.length)}}function So(C,L){if(1&C&&(e.qex(0),e.DNE(1,Uo,6,5,"div",90),e.bVm()),2&C){const b=L.$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",b.name!=v.allDocumentGroupTypes.unknown||b.name==v.allDocumentGroupTypes.unknown&&b.documentObjs.length)}}function Xo(C,L){if(1&C&&(e.qex(0),e.DNE(1,So,2,1,"ng-container",12),e.bVm()),2&C){const b=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngForOf",b.groupDocumentObjs)}}function $n(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",101)(1,"a",121),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(4).$implicit,P=e.XpG(5);let W;return e.Njj(P.removeDocumentFromSession(N,null!==(W=S.sessionId)&&void 0!==W?W:0,S.id))}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&C&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function zn(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",118)(1,"a",119),e.bIt("auxclick",function(S){const P=e.eBV(b).$implicit,W=e.XpG(9);return e.Njj(W.previewFile(P,S))})("click",function(S){const P=e.eBV(b).$implicit,W=e.XpG(9);return e.Njj(W.previewFile(P,S))}),e.nrm(2,"azt-document-type-file",120),e.k0s(),e.DNE(3,$n,4,3,"div",100),e.k0s()}if(2&C){const b=L.$implicit,v=e.XpG(9);let S;e.R7$(2),e.Y8G("type",b.documentType)("name",null!==(S=b.name)&&void 0!==S?S:"")("url",b.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function Vn(C,L){if(1&C&&e.DNE(0,zn,4,5,"div",117),2&C){const b=e.XpG(3).$implicit;e.Y8G("ngForOf",b.normalDocumentObjs)}}function Un(C,L){if(1&C){const b=e.RV6();e.j41(0,"app-upload-document-for-session",122),e.bIt("emitFileDocument",function(S){e.eBV(b);const N=e.XpG(3).$implicit,P=e.XpG(5);return e.Njj(P.uploadFileEmitted(S,N))}),e.j41(1,"span",85),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}if(2&C){const b=e.XpG(3).$implicit;e.Y8G("isBtn",!0)("customClass",b.outOfDate?"text-slate-600":"text-primary"),e.R7$(2),e.JRh(e.bMT(3,3,"lang_educational_program_add_document"))}}function Wo(C,L){if(1&C&&(e.j41(0,"div",55),e.DNE(1,Xo,2,1,"ng-container",86),e.DNE(2,Vn,1,1,"ng-template",null,87,e.C5r),e.j41(4,"div",88),e.DNE(5,Un,4,5,"app-upload-document-for-session",89),e.k0s()()),2&C){const b=e.sdS(3),v=e.XpG(2).$implicit,S=e.XpG(5);e.R7$(1),e.Y8G("ngIf",v.groupDocumentObjs.length)("ngIfElse",b),e.R7$(4),e.Y8G("ngIf",S.teacherRole)}}function Ho(C,L){1&C&&(e.j41(0,"div",123)(1,"div",124)(2,"span",125),e.nrm(3,"azt-loading-ui",126),e.k0s()()()),2&C&&(e.R7$(3),e.Y8G("type","oval"))}function Jo(C,L){if(1&C&&(e.j41(0,"a",134),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",135),e.j41(3,"span",133),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(5);e.Y8G("routerLink",e.eq3(8,sn,e.bMT(1,4,"/admin/student/attendance-student/"+v.classroomId+"/"+b.programId+"/"+b.id)))("queryParams",e.eq3(10,Sn,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+b.id+"&backto="+v.backLink)),e.R7$(4),e.Lme("",e.bMT(5,6,"lang_student_attendance_student"),""," ("+b.totalJoinedStudent+"/"+b.totalStudent+")","")}}function Ko(C,L){if(1&C&&(e.j41(0,"a",136),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",137),e.j41(3,"span",133),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(5);e.Y8G("routerLink",e.eq3(7,sn,e.bMT(1,3,"/admin/student/distribute-document/"+v.classroomId+"/"+b.programId+"/"+b.id)))("queryParams",e.eq3(9,Sn,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+b.id+"&backto="+v.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_distribute_books"))}}function mo(C,L){if(1&C&&(e.j41(0,"a",138),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",139),e.j41(3,"span",133),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&C){const b=e.XpG(3).$implicit,v=e.XpG(5);e.Y8G("routerLink",e.eq3(7,sn,e.bMT(1,3,"/admin/student/submit-score/"+v.classroomId+"/"+b.programId+"/"+b.id)))("queryParams",e.eq3(9,Sn,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+b.id+"&backto="+v.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_enter_score"))}}function Io(C,L){if(1&C&&(e.j41(0,"div",58)(1,"div",52)(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",127),e.DNE(6,Jo,6,12,"a",128),e.nI1(7,"async"),e.nI1(8,"allowFeatureBusinessForUser"),e.DNE(9,Ko,6,11,"a",129),e.nI1(10,"async"),e.nI1(11,"allowFeatureBusinessForUser"),e.DNE(12,mo,6,11,"a",130),e.nI1(13,"async"),e.nI1(14,"allowFeatureBusinessForUser"),e.j41(15,"a",131),e.nI1(16,"navigationLocalize"),e.nrm(17,"lucide-icon",132),e.j41(18,"span",133),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&C){const b=e.XpG(2).$implicit,v=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(32,kn,b.outOfDate,!b.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,8,"lang_auto_hanh_dong")," "),e.R7$(3),e.Y8G("ngIf",e.bMT(7,10,e.brH(8,12,"","training_center_student_attendance",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(10,16,e.brH(11,18,"","training_center_student_book",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(13,22,e.brH(14,24,"","training_center_student_mark",!1))),e.R7$(3),e.Y8G("routerLink",e.eq3(35,sn,e.bMT(16,28,"/admin/student/add-comment/"+v.classroomId+"/"+b.programId+"/"+b.id)))("queryParams",e.eq3(37,Sn,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+b.id+"&backto="+v.backLink)),e.R7$(4),e.JRh(e.bMT(20,30,"lang_auto_nhap_nhan_xet"))}}function Qo(C,L){if(1&C&&(e.j41(0,"div",58)(1,"div",52)(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",127)(6,"div",140)(7,"span"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"span",141),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()()()),2&C){const b=e.XpG(2).$implicit;e.R7$(2),e.Y8G("ngClass",e.l_i(10,kn,b.outOfDate,!b.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,4,"lang_auto_hanh_dong")," "),e.R7$(5),e.JRh(e.bMT(9,6,"lang_business_requested_leave_with_a_reason")),e.R7$(3),e.JRh(null!=b.studentAttendance&&b.studentAttendance.reason?null==b.studentAttendance?null:b.studentAttendance.reason:e.bMT(12,8,"lang_student_absence_no_reason"))}}function Zo(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",45)(1,"div",46),e.bIt("click",function(){e.eBV(b);const S=e.XpG().$implicit,N=e.XpG(5);return e.Njj(N.expandSessionObj(S))}),e.j41(2,"h3",47)(3,"span",48),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",49),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,qn,4,3,"ng-container",5),e.k0s(),e.DNE(10,An,6,11,"div",50),e.j41(11,"div",51)(12,"div",52)(13,"span",53),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.j41(16,"div",54)(17,"div",55),e.DNE(18,I,16,18,"div",56),e.DNE(19,j,5,20,"a",57),e.k0s()()(),e.j41(20,"div",58)(21,"div",52)(22,"span",53),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()(),e.j41(25,"div",54),e.DNE(26,Wo,6,3,"div",59),e.DNE(27,Ho,4,1,"div",60),e.k0s()(),e.DNE(28,Io,21,39,"div",61),e.nI1(29,"async"),e.nI1(30,"allowFeatureBusinessForUser"),e.nI1(31,"async"),e.nI1(32,"allowFeatureBusinessForUser"),e.nI1(33,"async"),e.nI1(34,"allowFeatureBusinessForUser"),e.DNE(35,Qo,13,13,"div",61),e.nI1(36,"async"),e.nI1(37,"allowFeatureBusinessForUser"),e.k0s()}if(2&C){const b=e.XpG().$implicit,v=e.XpG(5);e.BMQ("id","session-"+b.id),e.R7$(3),e.Y8G("ngClass",e.eq3(48,Rn,b.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,16,"lang_core_buoi")+" "+b.sort),e.R7$(3),e.JRh(e.bMT(8,18,"lang_config_educational_program_day_"+b.day)+", "+b.dateSession+" "+b.timeSession),e.R7$(2),e.Y8G("ngIf",b.room),e.R7$(1),e.Y8G("ngIf",b.contents&&b.contents.length),e.R7$(3),e.Y8G("ngClass",e.l_i(50,kn,b.outOfDate,!b.outOfDate)),e.R7$(1),e.JRh(e.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),e.R7$(4),e.Y8G("ngForOf",b.examHomeworkObjs),e.R7$(1),e.Y8G("ngIf",v.teacherRole),e.R7$(3),e.Y8G("ngClass",e.l_i(53,kn,b.outOfDate,!b.outOfDate)),e.R7$(1),e.JRh(e.bMT(24,22,"lang_testbank_document_list_header_title")),e.R7$(3),e.Y8G("ngIf",!b.isDeletingDocument&&!b.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",b.isDeletingDocument||b.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",(e.bMT(29,24,e.brH(30,26,"","training_center_student_attendance",!1))||e.bMT(31,30,e.brH(32,32,"","training_center_student_book",!1))||e.bMT(33,36,e.brH(34,38,"","training_center_student_mark",!1)))&&v.teacherRole),e.R7$(7),e.Y8G("ngIf",(null==b.studentAttendance?null:b.studentAttendance.absent)&&e.bMT(36,42,e.brH(37,44,"","training_center_student_attendance",!0))&&!v.teacherRole)}}function qo(C,L){if(1&C&&(e.j41(0,"div",28),e.DNE(1,Oe,7,14,"div",29),e.DNE(2,We,10,10,"div",30),e.DNE(3,Zo,38,56,"div",31),e.k0s()),2&C){const b=L.$implicit,v=e.XpG(5);e.R7$(1),e.Y8G("ngIf",!v.teacherRole),e.R7$(1),e.Y8G("ngIf",!b.isExpanded),e.R7$(1),e.Y8G("ngIf",b.isExpanded)}}function ti(C,L){if(1&C&&(e.qex(0),e.DNE(1,qo,4,3,"div",27),e.bVm()),2&C){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",b.programObjs)}}function yo(C,L){if(1&C){const b=e.RV6();e.qex(0),e.j41(1,"h3",21)(2,"span",22),e.bIt("click",function(){const N=e.eBV(b).$implicit;return e.Njj(N.expand=!N.expand)}),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,E,1,0,"lucide-icon",23),e.DNE(6,_t,1,0,"lucide-icon",24),e.k0s()(),e.DNE(7,ti,2,1,"ng-container",5),e.bVm()}if(2&C){const b=L.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,b.monthName)," "),e.R7$(2),e.Y8G("ngIf",b.expand),e.R7$(1),e.Y8G("ngIf",!b.expand),e.R7$(1),e.Y8G("ngIf",b.expand)}}function ei(C,L){if(1&C&&(e.qex(0),e.j41(1,"div",7,8)(3,"div",9)(4,"h3",10),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.DNE(7,ht,5,3,"button",11),e.k0s(),e.DNE(8,F,3,1,"ng-container",5),e.k0s(),e.qex(9),e.DNE(10,yo,8,6,"ng-container",12),e.bVm()()),2&C){const b=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,4,"lang_educational_program_general_documents")," "),e.R7$(2),e.Y8G("ngIf",b.teacherRole),e.R7$(1),e.Y8G("ngIf",b.generalDocumentObjs.length),e.R7$(2),e.Y8G("ngForOf",b.groupProgramSessionObjs)}}function ni(C,L){1&C&&(e.j41(0,"h3",148),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}const jo=function(){return{"mr-2":!0}};function oi(C,L){if(1&C){const b=e.RV6();e.j41(0,"button",149),e.bIt("click",function(){e.eBV(b);const S=e.XpG(4);return e.Njj(S.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",150),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&C&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,jo)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_select_new")))}function ii(C,L){if(1&C&&(e.j41(0,"div",144)(1,"h3",145),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,ni,3,3,"h3",146),e.DNE(5,oi,5,5,"button",147),e.k0s()),2&C){const b=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),e.R7$(2),e.Y8G("ngIf",b.teacherRole),e.R7$(1),e.Y8G("ngIf",b.teacherRole)}}function Oo(C,L){1&C&&(e.j41(0,"h3",148),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&C&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function si(C,L){if(1&C){const b=e.RV6();e.j41(0,"button",152),e.bIt("click",function(){e.eBV(b);const S=e.XpG(4);return e.Njj(S.editEducationalProgram())}),e.nrm(1,"lucide-icon",153),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&C&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,jo)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_edit_btn")))}function ai(C,L){if(1&C&&(e.j41(0,"div",144)(1,"h3",145),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Oo,3,3,"h3",146),e.DNE(5,si,5,5,"button",151),e.k0s()),2&C){const b=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.R7$(2),e.Y8G("ngIf",b.teacherRole),e.R7$(1),e.Y8G("ngIf",b.teacherRole)}}function ri(C,L){if(1&C&&(e.qex(0),e.DNE(1,ii,6,5,"div",142),e.DNE(2,ai,6,5,"ng-template",null,143,e.C5r),e.bVm()),2&C){const b=e.sdS(3),v=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!v.programObj)("ngIfElse",b)}}function li(C,L){if(1&C&&(e.DNE(0,M,1,2,"app-add-new-educational-program",4),e.DNE(1,ei,11,6,"ng-container",5),e.DNE(2,ri,4,2,"ng-container",5)),2&C){const b=e.XpG();e.Y8G("ngIf",b.showAddNewEducationalProgram),e.R7$(1),e.Y8G("ngIf",!b.showAddNewEducationalProgram&&b.programSessionObjs.length),e.R7$(1),e.Y8G("ngIf",!b.showAddNewEducationalProgram&&b.programSessionObjs.length<=0)}}let Eo=(()=>{var C;class L extends n.H{emitDataReloadSession(v){v?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(v,S){this.sAztDialogService.open(Rt._,{data:{id:v.markId??0,name:"",coefficient:v.markCoefficient,programId:S.programId,classroomId:this.classroomId,sessionId:S.id,isOnlyCoefficient:!0,documentName:v.name,documentType:v.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(P=>{P&&this.reloadSessionDataOfProgram(S)})}reloadData(v,S){v&&this.reloadSessionDataOfProgram(S)}reloadSessionDataOfProgram(v){v.isLoadingData=!0,this.reloadSessionDataEmitter.emit(v)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let v=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+v)}removeDocumentFromSession(v,S,N,P){var W=(v.normalDocumentObjs.filter(wt=>wt.id==N)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+v.sort.toString(),Ft=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+W+" </div> ?";this.sAztDialogService.open(Dt.u,{data:{content:Ft},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(wt=>{wt&&(v.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,S,N).subscribe({next:tn=>{P&&(P.documentObjs=P.documentObjs.filter(ie=>ie.id!=N)),v.normalDocumentObjs=v.normalDocumentObjs.filter(ie=>ie.id!=N),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),v.isDeletingDocument=!1},error:tn=>{v.isDeletingDocument=!1,this.errorStatusObj(tn.error.message,!0)}})))})}uploadFileEmitted(v,S){S.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,S.id,v).subscribe({next:N=>{this.reloadSessionDataOfProgram(S),S.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:N=>{S.isUploadingDocument=!1,this.errorStatusObj(N.error.message,!0)}}))}expandSessionObj(v){v.isExpanded=!v.isExpanded,this.changeSessionDataEmitter.emit(v)}previewFile(v,S){if(this.isBusinessDomain&&v.type==i.d.video&&(0,yt.xy)(v.link??""))window.open(v.link,"_blank");else{const N={name:v.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(v.type),type:v.type,url:v.link};this.sAztDialogService.open(mt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...N,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let v=this.programSessionObjs.find(S=>S.isExpanded);if(v){let S=document.getElementById("session-"+v.id);window.scrollTo({top:S?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(v,S,N,P){super(),this.sAztDialogService=v,this.cd=S,this.classroomService=N,this.sAztFileTypeService=P,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.bkB,this.changeSessionDataEmitter=new e.bkB,this.allDocumentTypes=i.d,this.allDocumentGroupTypes=Nt.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return(C=L).\u0275fac=function(v){return new(v||C)(e.rXU(V.i),e.rXU(e.gRc),e.rXU(t.zS),e.rXU(vt.k))},C.\u0275cmp=e.VBU({type:C,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],["generalDocumentsWidget",""],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",3,"click"],["name","refresh-cw","size","16"],[1,"ml-2"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative flex items-center","style","font-size: 13px",4,"ngIf"],[1,"w-12","h-12","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","48",3,"ngClass"],["name","file-text","size","48",3,"ngClass"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative","flex","items-center",2,"font-size","13px"],["matRipple","","azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"btn","btn-outline-primary","btn-sm","border-0","shadow-none","p-1",3,"matTooltip","click"],["name","square-pen","size","16"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3","items-center","cursor-pointer","text-primary",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],["name","circle-arrow-down","size","18"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-pen","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(v,S){if(1&v&&(e.j41(0,"div",0),e.DNE(1,Ze,3,3,"div",1),e.DNE(2,li,3,3,"ng-template",null,2,e.C5r),e.k0s()),2&v){const N=e.sdS(3);e.R7$(1),e.Y8G("ngIf",!S.statusObj.loading&&S.errorApiMessage)("ngIfElse",N)}},dependencies:[it.Wk,x.YU,x.Sq,x.bT,x.B3,rt.kk,rt.Cp,Et.r6,Q.oV,A.f,Z.R,z.m,Ct.WGl,jt.J,Ge,fn,x.Jj,oe.F2,oe.wp,oe.gt,oe.bj],encapsulation:2}),L})();function ci(C,L){if(1&C&&e.nrm(0,"azt-loading-effect",2),2&C){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function wo(C,L){if(1&C){const b=e.RV6();e.j41(0,"div",3)(1,"app-list-sessions",4),e.bIt("reloadSessionDataEmitter",function(S){e.eBV(b);const N=e.XpG();return e.Njj(N.reloadSessionData(S))})("changeSessionDataEmitter",function(S){e.eBV(b);const N=e.XpG();return e.Njj(N.changeSessionData(S))}),e.k0s()()}if(2&C){const b=e.XpG();e.R7$(1),e.Y8G("teacherRole",b.teacherRole)("classroomId",b.classroomId)("backLink",b.backLink)("errorApiMessage",b.errorApiMessage)("generalDocumentObjs",b.generalDocumentObjs)("programSessionObjs",b.programSessionObjs)("groupProgramSessionObjs",b.groupProgramSessionObjs)("programObj",b.programObj)}}let mi=(()=>{var C;class L extends n.H{changeSessionData(v){this.programSessionObjs.map(S=>S.id==v.id?v:S),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${v.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(v){this.initData(v)}convertNormalDocumentByGroup(v){let S={};return v.forEach(N=>{N.groupType&&(S.hasOwnProperty(N.groupType)||(S[N.groupType]=[]),S[N.groupType].push(N))}),S}processData(v){let S=this.commonService.arrayToDictionary(v,P=>P.groupType?P.groupType:"unknown"),N=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(S).forEach(([P,W],Ft)=>{if(W.length>0){let wt={name:P,documentObjs:W};"video"==wt.name&&(N[0]=wt),"document"==wt.name&&(N[1]=wt),"homework"==wt.name&&(N[2]=wt),"homework_view"==wt.name&&(N[3]=wt),"unknown"==wt.name&&(N[4]=wt)}}),N}convertDocumentsOfSession(v,S){let N=(new Date).toDateString(),P=!1;return v.forEach((W,Ft)=>{W.normalDocumentObjs=W.allDocumentObjs.filter(ie=>"exam"!=ie.type&&"homework"!=ie.type),W.examHomeworkObjs=W.allDocumentObjs.filter(ie=>"exam"==ie.type||"homework"==ie.type),W.groupDocumentObjs=this.processData(W.normalDocumentObjs),W.indexSession=W.sort;let wt="",tn="";if(W.fromTime){let ie=new Date(W.fromTime),rn=new Date(ie.toDateString()),He=new Date(N),_o=Math.floor((rn.getTime()-He.getTime())/1e3);W.dateSession=this.timeService.getFormatDate(W.fromTime),W.outOfDate=_o<0,W.monthSession=ie.getMonth()+1,W.yearSession=ie.getFullYear(),wt+=this.addZeroToTime(ie.getHours())+":"+this.addZeroToTime(ie.getMinutes()),tn=this.timeService.calculationTimeAgoOnlyDate(rn,He)}if(W.toTime){let ie=new Date(W.toTime);wt+=" - "+this.addZeroToTime(ie.getHours())+":"+this.addZeroToTime(ie.getMinutes())}wt+=tn?" ("+tn+")":"",W.timeSession=wt,P||(W.isExpanded=S?W.isExpanded:!W.outOfDate,W.isExpanded&&(P=!0))}),v}addZeroToTime(v){return v<10?"0"+v:v.toString()}getSchoolLeaveObjs(v,S){v.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:N=>{v.map(P=>{P.studentAttendance=N.list.find(W=>W.sessionId==P.id)}),S(v)},error:N=>{this.errorStatusObj(N.error.message,!0),S(v)}})):S(v)}initData(v){v||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let S=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(S.subscribe({next:N=>{this.generalDocumentObjs=N.generalDocuments.map(W=>({...W,documentType:this.commonService.getEnumTypeWithDefault(i.d,W.type,i.d.unknown)})),this.programObj=N.program;let P=N.sessions.map(W=>({...W,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:W.documents.map(Ft=>({...Ft,documentType:this.commonService.getEnumTypeWithDefault(i.d,Ft.type,i.d.unknown)}))}));P=this.convertDocumentsOfSession(P,!!v),this.getSchoolLeaveObjs(P,W=>{if(v){let ie=W.find(rn=>rn.id==v.id);this.programSessionObjs=this.programSessionObjs.map(rn=>rn.id==ie?.id?{...ie,isExpanded:rn.isExpanded}:rn)}else this.programSessionObjs=W;this.sessionId&&this.programSessionObjs.map(ie=>ie.isExpanded=ie.id==this.sessionId);let Ft=this.commonService.arrayToDictionary(this.programSessionObjs,ie=>ie.monthSession?.toString()+"/"+ie.yearSession?.toString()),wt=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",tn=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(Ft).forEach(([ie,rn],He)=>{let _o=rn.find(Ro=>Ro.isExpanded);this.groupProgramSessionObjs.push({monthName:wt+" "+ie,programObjs:rn,expand:!(ie!=tn&&!_o)})}),this.stopStatusObj()})},error:N=>{this.errorApiMessage=N.error.message,this.errorStatusObj(N.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(v,S,N,P){super(),this.classroomService=v,this.timeService=S,this.studentService=N,this.activeRoute=P,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return(C=L).\u0275fac=function(v){return new(v||C)(e.rXU(t.zS),e.rXU(T.F),e.rXU(t.b0),e.rXU(it.nX))},C.\u0275cmp=e.VBU({type:C,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(v,S){if(1&v&&(e.DNE(0,ci,1,1,"azt-loading-effect",0),e.DNE(1,wo,2,8,"ng-template",null,1,e.C5r)),2&v){const N=e.sdS(2);e.Y8G("ngIf",S.statusObj.loading)("ngIfElse",N)}},dependencies:[x.bT,o.K,Eo],encapsulation:2}),L})(),_i=(()=>{var C;class L extends n.H{ngOnInit(){this.waitDestroy((0,O.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let v=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=v||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(v){super(),this.activeRoute=v,this.classroomId=0,this.sessionId=0,this.backLink=""}}return(C=L).\u0275fac=function(v){return new(v||C)(e.rXU(it.nX))},C.\u0275cmp=e.VBU({type:C,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.Vt3],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(v,S){1&v&&e.nrm(0,"app-view-educational-program",0),2&v&&e.Y8G("teacherRole",!S.isStudent)("classroomId",S.classroomId)("sessionId",S.sessionId)("backLink",S.backLink)},dependencies:[mi],encapsulation:2}),L})()},69307:(Me,Wt,p)=>{p.d(Wt,{_:()=>vt});var O=p(10936),n=p(89163),e=p(33887),it=p(15766),i=p(26860),t=p(90998),T=p(54460),x=p(81587),o=p(52811),yt=p(76975);function Dt(rt,Et){1&rt&&(i.j41(0,"div",17),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&rt&&(i.R7$(1),i.SpI(" *",i.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function Nt(rt,Et){if(1&rt&&(i.j41(0,"div",15)(1,"label",8),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.nrm(4,"input",16),i.nI1(5,"mytranslate"),i.DNE(6,Dt,3,3,"div",10),i.k0s()),2&rt){const Q=i.XpG();i.R7$(2),i.SpI(" ",i.bMT(3,3,"lang_student_name_component_score")," "),i.R7$(2),i.FS9("placeholder",i.bMT(5,5,"lang_student_enter_name_component_score")),i.R7$(2),i.Y8G("ngIf",Q.form.controls.name.dirty&&Q.form.controls.name.errors)}}function mt(rt,Et){if(1&rt&&(i.j41(0,"div",15)(1,"label",8),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.nrm(4,"input",18),i.nI1(5,"mytranslate"),i.k0s()),2&rt){const Q=i.XpG();i.R7$(2),i.SpI(" ",i.bMT(3,3,"homework"==Q.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),i.R7$(2),i.FS9("placeholder",i.bMT(5,5,"lang_student_enter_name_component_score")),i.Y8G("value",Q.data.documentName)}}function Rt(rt,Et){1&rt&&(i.j41(0,"div",17),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&rt&&(i.R7$(1),i.SpI(" *",i.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function V(rt,Et){1&rt&&i.nrm(0,"azt-loading-ui",19)}let vt=(()=>{var rt;class Et extends e._{setValueCoeffcient(){var A=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(A)??0)}createStartingPoint(){let A={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,A).subscribe(Z=>{Z?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(A)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(A).subscribe(Z=>{Z?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(A)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(A,Z,z){super(z,Z),this.commonMarkService=A,this.dialogRef=Z,this.data=z,this.form=new O.gE({name:new O.MJ({value:z.name??"",disabled:0==z.canEditName},{nonNullable:!0,validators:[O.k0.required,it.M.noWhiteSpace]}),coefficient:new O.MJ(z.coefficient,{nonNullable:!0,validators:[O.k0.required,O.k0.pattern(/^[1-9]\d*$/)]})})}}return(rt=Et).\u0275fac=function(A){return new(A||rt)(i.rXU(t.a),i.rXU(n.CP,8),i.rXU(n.Vh))},rt.\u0275cmp=i.VBU({type:rt,selectors:[["app-create-score-dialog"]],features:[i.Vt3],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(A,Z){1&A&&(i.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),i.EFF(5),i.nI1(6,"mytranslate"),i.k0s()(),i.j41(7,"div",5),i.DNE(8,Nt,7,7,"div",6),i.DNE(9,mt,6,7,"div",6),i.j41(10,"div",7)(11,"label",8),i.EFF(12),i.nI1(13,"mytranslate"),i.k0s(),i.j41(14,"input",9),i.bIt("input",function(){return Z.setValueCoeffcient()}),i.nI1(15,"mytranslate"),i.k0s(),i.DNE(16,Rt,3,3,"div",10),i.k0s()()(),i.j41(17,"div",11)(18,"button",12),i.bIt("click",function(){return Z.dialogRef.close()}),i.EFF(19),i.nI1(20,"mytranslate"),i.k0s(),i.j41(21,"button",13),i.bIt("click",function(){return Z.createStartingPoint()}),i.DNE(22,V,1,0,"azt-loading-ui",14),i.EFF(23),i.nI1(24,"mytranslate"),i.k0s()()()()),2&A&&(i.R7$(1),i.Y8G("formGroup",Z.form),i.R7$(4),i.SpI(" ",i.bMT(6,11,Z.data.id?Z.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),i.R7$(3),i.Y8G("ngIf",!Z.data.isOnlyCoefficient),i.R7$(1),i.Y8G("ngIf",Z.data.isOnlyCoefficient),i.R7$(3),i.SpI(" ",i.bMT(13,13,"lang_student_score_factor")," "),i.R7$(2),i.FS9("placeholder",i.bMT(15,15,"lang_student_enter_score_factor")),i.R7$(2),i.Y8G("ngIf",Z.form.controls.coefficient.dirty&&Z.form.controls.coefficient.errors),i.R7$(3),i.JRh(i.bMT(20,17,"lang_button_cancel")),i.R7$(2),i.Y8G("disabled",Z.form.controls.name.errors&&!Z.data.isOnlyCoefficient||Z.form.controls.coefficient.errors),i.R7$(1),i.Y8G("ngIf",Z.statusObj.loading),i.R7$(1),i.SpI(" ",i.bMT(24,19,"lang_button_save")," "))},dependencies:[T.bT,O.qT,O.me,O.Q0,O.BC,O.cb,O.j4,O.JD,x.t,o.R,yt.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),Et})()},71703:(Me,Wt,p)=>{p.d(Wt,{V:()=>on});var O=p(81519),n=p(34514),e=p(47426),it=p(89163),i=p(99503),t=p(79347),T=p(33887),x=p(9691),o=p(26860),yt=p(2812),Dt=p(59640),Nt=p(18148),mt=p(69307),Rt=p(46899),V=p(10296),vt=p(67638),rt=p(40609),Et=p(54460),Q=p(47712),A=p(66729),Z=p(2915),z=p(52811),Ct=p(5800),jt=p(74637),tt=p(10123),Tt=p(15343),zt=p(76975);const Gt=["table_score_student"],Xt=function(){return{"mr-2":!0}};function ae(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"div",11)(1,"button",12),o.bIt("click",function(){o.eBV(ot);const at=o.XpG();return o.Njj(at.downloadTableScore())}),o.nrm(2,"lucide-icon",13),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s()()()}2&st&&(o.R7$(2),o.Y8G("ngClass",o.lJ4(4,Xt)),o.R7$(2),o.JRh(o.bMT(5,2,"lang_student_export_a_grade_sheet")))}function xe(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"div",14)(1,"button",15),o.bIt("click",function(){o.eBV(ot);const at=o.XpG();return o.Njj(at.downloadTableScore())}),o.nI1(2,"mytranslate"),o.nrm(3,"lucide-icon",16),o.k0s(),o.j41(4,"button",17),o.bIt("click",function(){o.eBV(ot);const at=o.XpG();return o.Njj(at.closeDialog.emit(at.isEdit))}),o.nI1(5,"mytranslate"),o.nrm(6,"lucide-icon",18),o.k0s()()}2&st&&(o.R7$(1),o.FS9("matTooltip",o.bMT(2,2,"lang_student_export_a_grade_sheet")),o.R7$(3),o.FS9("matTooltip",o.bMT(5,4,"lang_auto_thoat")))}function Se(st,Yt){1&st&&o.nrm(0,"azt-loading-ui",25)}function De(st,Yt){if(1&st&&(o.j41(0,"div",37),o.EFF(1),o.nI1(2,"mytranslate"),o.nI1(3,"formatOnlyDateByUserUnitPipe"),o.k0s()),2&st){const ot=o.XpG().$implicit;o.R7$(1),o.Lme(" ",o.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",o.bMT(3,4,ot.createdAt)," ")}}function Ne(st,Yt){if(1&st&&(o.j41(0,"div",37)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",38),o.EFF(5),o.k0s()()),2&st){const ot=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(ot.coefficient)}}function Pt(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"button",39),o.bIt("click",function(){o.eBV(ot);const at=o.XpG().$implicit,Ht=o.XpG(2);return o.Njj(Ht.editScore(at))}),o.nI1(1,"mytranslate"),o.nrm(2,"lucide-icon",40),o.k0s()}2&st&&o.FS9("matTooltip",o.bMT(1,1,"lang_student_sua_dau_diem"))}function Zt(st,Yt){if(1&st&&(o.j41(0,"div",41),o.nrm(1,"azt-check-mark",42),o.k0s()),2&st){const ot=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",ot.marks.length>0?ot.marks[0]:"")}}function Ut(st,Yt){if(1&st&&(o.j41(0,"div",41),o.nrm(1,"azt-check-mark",42),o.k0s()),2&st){const ot=o.XpG().$implicit,nt=o.XpG(2);o.R7$(1),o.Y8G("mark",nt.returnValue(ot))}}function At(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"input",43),o.bIt("input",function(at){o.eBV(ot);const Ht=o.XpG().$implicit,ue=o.XpG(2);return o.Njj(ue.handleMarkStudent(at,Ht.id))}),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate"),o.k0s()}if(2&st){const ot=o.XpG().$implicit,nt=o.XpG(2);o.FS9("matTooltip",o.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),o.Mz_("id","input_point_",ot.id.toString(),""),o.FS9("placeholder",o.bMT(2,7,"lang_auto_nhap_diem")),o.Y8G("disabled",nt.isStudent)("value",nt.returnValue(ot))}}function Mt(st,Yt){1&st&&(o.nrm(0,"lucide-icon",47),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate")),2&st&&o.FCK("matTooltip","",o.bMT(1,2,"lang_auto_sua")," ",o.bMT(2,4,"lang_auto_diem"),"")}function Jt(st,Yt){1&st&&(o.nrm(0,"lucide-icon",48),o.nI1(1,"mytranslate")),2&st&&o.FS9("matTooltip",o.bMT(1,1,"lang_editor_common_cancel"))}function oe(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"button",44),o.bIt("click",function(){o.eBV(ot);const at=o.XpG().$implicit,Ht=o.XpG(2);return o.Njj(Ht.viewInput(at.id==Ht.inputPointSelect?-1:at.id))}),o.DNE(1,Mt,3,6,"lucide-icon",45),o.DNE(2,Jt,2,3,"lucide-icon",46),o.k0s()}if(2&st){const ot=o.XpG().$implicit,nt=o.XpG(2);o.R7$(1),o.Y8G("ngIf",nt.inputPointSelect!=ot.id),o.R7$(1),o.Y8G("ngIf",nt.inputPointSelect==ot.id)}}function St(st,Yt){1&st&&o.nrm(0,"azt-loading-ui",52)}const lt=function(){return{"text-success":!0}};function J(st,Yt){1&st&&o.nrm(0,"lucide-icon",53),2&st&&o.Y8G("ngClass",o.lJ4(1,lt))}function Y(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"button",49),o.bIt("click",function(){o.eBV(ot);const at=o.XpG().$implicit,Ht=o.XpG(2);return o.Njj(Ht.saveMark(at))}),o.nI1(1,"mytranslate"),o.DNE(2,St,1,0,"azt-loading-ui",50),o.DNE(3,J,1,2,"lucide-icon",51),o.k0s()}if(2&st){const ot=o.XpG(3);o.FS9("matTooltip",o.bMT(1,4,"lang_button_save")),o.Y8G("disabled",ot.isSave),o.R7$(2),o.Y8G("ngIf",ot.isSave),o.R7$(1),o.Y8G("ngIf",!ot.isSave)}}function ft(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"button",54),o.bIt("click",function(){o.eBV(ot);const at=o.XpG().$implicit,Ht=o.XpG(2);return o.Njj(Ht.goToEditPoint(at))}),o.nI1(1,"mytranslate"),o.nrm(2,"lucide-icon",55),o.k0s()}2&st&&o.FS9("matTooltip",o.bMT(1,1,"lang_core_go_to_enter_score"))}function Bt(st,Yt){if(1&st&&(o.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),o.EFF(4),o.DNE(5,De,4,6,"div",26),o.DNE(6,Ne,6,4,"div",27),o.k0s(),o.DNE(7,Pt,3,3,"button",28),o.k0s()(),o.j41(8,"td",29)(9,"div",30),o.DNE(10,Zt,2,1,"div",31),o.DNE(11,Ut,2,1,"div",31),o.DNE(12,At,3,9,"input",32),o.DNE(13,oe,3,2,"button",33),o.DNE(14,Y,4,6,"button",34),o.k0s()(),o.j41(15,"td",35),o.DNE(16,ft,3,3,"button",36),o.k0s()()),2&st){const ot=Yt.$implicit,nt=o.XpG(2);o.R7$(4),o.SpI(" ",ot.name," "),o.R7$(1),o.Y8G("ngIf",ot.createdAt&&!nt.isStudent),o.R7$(1),o.Y8G("ngIf",ot.coefficient),o.R7$(1),o.Y8G("ngIf",!nt.isStudent),o.R7$(3),o.Y8G("ngIf","homework"==ot.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=ot.objectType&&nt.inputPointSelect!=ot.id),o.R7$(1),o.Y8G("ngIf","homework"!=ot.objectType&&nt.inputPointSelect==ot.id),o.R7$(1),o.Y8G("ngIf",!nt.isStudent&&ot.canEditMark&&!nt.listMarkNew),o.R7$(1),o.Y8G("ngIf",!nt.isStudent&&ot.canEditMark&&nt.listMarkNew&&nt.listMarkNew.id==ot.id),o.R7$(2),o.Y8G("ngIf",!nt.isStudent&&ot.programId&&ot.sessionId)}}function qt(st,Yt){1&st&&o.nrm(0,"azt-loading-ui",25)}const he=function(){return[]};function Qe(st,Yt){if(1&st){const ot=o.RV6();o.j41(0,"azt-mat-dialog-content")(1,"div",19),o.DNE(2,Se,1,0,"azt-loading-ui",20),o.j41(3,"azt-filter-box",21),o.bIt("sendFilter",function(at){o.eBV(ot);const Ht=o.XpG();return o.Njj(Ht.filterData(at))}),o.k0s()(),o.j41(4,"table",22)(5,"tbody"),o.DNE(6,Bt,17,10,"tr",10),o.j41(7,"tr")(8,"td"),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.j41(11,"td",23)(12,"div",24),o.DNE(13,qt,1,0,"azt-loading-ui",20),o.EFF(14),o.k0s()()()()()()}if(2&st){const ot=o.XpG();let nt;o.R7$(2),o.Y8G("ngIf",ot.statusObj.loading),o.R7$(4),o.Y8G("ngForOf",null!==(nt=ot.data.marks)&&void 0!==nt?nt:o.lJ4(8,he)),o.R7$(3),o.SpI(" ",o.bMT(10,6,"lang_business_diem_tong_ket")," "),o.R7$(2),o.Y8G("colSpan",2),o.R7$(2),o.Y8G("ngIf",ot.isSave),o.R7$(1),o.SpI(" ",ot.data.averageMark," ")}}function pn(st,Yt){if(1&st&&(o.j41(0,"div",37)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",38),o.EFF(5),o.k0s()()),2&st){const ot=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(ot.coefficient)}}function ln(st,Yt){if(1&st&&(o.j41(0,"div",41),o.nrm(1,"azt-check-mark",42),o.k0s()),2&st){const ot=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",ot.marks.length>0?ot.marks[0]:"")}}function cn(st,Yt){if(1&st&&(o.j41(0,"div",41),o.nrm(1,"azt-check-mark",42),o.k0s()),2&st){const ot=o.XpG().$implicit,nt=o.XpG(2);o.R7$(1),o.Y8G("mark",nt.returnValue(ot))}}function $e(st,Yt){if(1&st&&(o.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),o.EFF(4),o.DNE(5,pn,6,4,"div",27),o.k0s()()(),o.j41(6,"td",60),o.DNE(7,ln,2,1,"div",31),o.DNE(8,cn,2,1,"div",31),o.k0s()()),2&st){const ot=Yt.$implicit;o.R7$(4),o.SpI(" ",ot.name," "),o.R7$(1),o.Y8G("ngIf",ot.coefficient),o.R7$(2),o.Y8G("ngIf","homework"==ot.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=ot.objectType)}}function gn(st,Yt){if(1&st&&(o.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s(),o.j41(6,"th",58),o.EFF(7),o.nI1(8,"mytranslate"),o.k0s()()(),o.j41(9,"tbody"),o.DNE(10,$e,9,4,"tr",10),o.j41(11,"tr")(12,"td"),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s(),o.j41(15,"td")(16,"div",59),o.EFF(17),o.k0s()()()()()),2&st){const ot=o.XpG();let nt;o.R7$(4),o.JRh(o.bMT(5,5,"lang_student_name_component_score")),o.R7$(3),o.JRh(o.bMT(8,7,"lang_testbank_update_exam_point")),o.R7$(3),o.Y8G("ngForOf",null!==(nt=ot.data.marks)&&void 0!==nt?nt:o.lJ4(11,he)),o.R7$(3),o.SpI(" ",o.bMT(14,9,"lang_business_diem_tong_ket")," "),o.R7$(4),o.SpI(" ",ot.data.averageMark," ")}}function hn(st,Yt){if(1&st&&o.nrm(0,"azt-check-mark",42),2&st){const ot=o.XpG().$implicit;o.Y8G("mark",ot.marks.length>0?ot.marks[0]:"")}}function mn(st,Yt){if(1&st&&o.nrm(0,"azt-check-mark",42),2&st){const ot=o.XpG().$implicit,nt=o.XpG();o.Y8G("mark",nt.returnValue(ot))}}function en(st,Yt){if(1&st&&(o.j41(0,"tr")(1,"td",9),o.EFF(2),o.k0s(),o.j41(3,"td",9),o.EFF(4),o.k0s(),o.j41(5,"td",9),o.EFF(6),o.k0s(),o.j41(7,"td",9),o.DNE(8,hn,1,1,"azt-check-mark",61),o.DNE(9,mn,1,1,"azt-check-mark",61),o.k0s()()),2&st){const ot=Yt.$implicit,nt=Yt.index,at=o.XpG();o.R7$(1),o.BMQ("excelRow",nt+1)("excelColumn",0)("excelStyle",at.styleTdNormal),o.R7$(1),o.SpI(" ",ot.name?nt+1:""," "),o.R7$(1),o.BMQ("excelRow",nt+1)("excelColumn",1)("excelStyle",at.styleTdNormalLeft),o.R7$(1),o.SpI(" ",ot.name," "),o.R7$(1),o.BMQ("excelRow",nt+1)("excelColumn",2)("excelStyle",at.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",ot.coefficient," "),o.R7$(1),o.BMQ("excelRow",nt+1)("excelColumn",3)("excelStyle",at.styleTdNotNumberNormal),o.R7$(1),o.Y8G("ngIf","homework"==ot.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=ot.objectType)}}let nn=(()=>{var st;class Yt extends Dt.H{filterData(nt){this.dataFilter=nt,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:at=>{at.list.length&&(this.data=at.list[0]),this.stopStatusObj()},error:at=>{this.errorStatusObj(at.error.message,!0)}}))}downloadTableScore(){Nt.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var nt=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let at=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(nt,at),Nt.L.closeLoadingEffect(200)}goToEditPoint(nt){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+nt.classroomId+"/"+nt.programId+"/"+nt.sessionId,"?studentId="+this.data.id)}viewInput(nt){this.inputPointSelect=nt}handleMarkStudent(nt,at){if(!this.isStudent){var Ht=this.commonService.handlePointByValueInput(nt);this.listMarkNew={id:at,points:Ht.length>0?Ht:[-1]}}}saveMark(nt){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:nt.programId,classroomId:nt.classroomId,sessionId:nt.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(Ht=>{Ht?(this.data.marks?.filter(ue=>ue.id==nt.id)?.forEach(ue=>ue.marks=this.listMarkNew?.points?.find(Kt=>-1==Kt)?[]:this.listMarkNew?.points??ue.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(nt){nt&&this.sAztDialogService.open(mt._,{data:{...nt,canEditName:nt.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(at=>{if(at){try{var Ht=this.data.marks?.find(ue=>ue.id==nt.id);Ht&&(Ht.coefficient=at.coefficient,Ht.name=at.name)}catch{}this.isEdit=!0}})}returnValue(nt){return(nt.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(nt,at,Ht,ue,Kt){super(),this.sAztDialogService=nt,this.sAztTimeService=at,this.shareFileFlutterService=Ht,this.exportExcelService=ue,this.studentService=Kt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new o.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,o.WQX)(yt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(st=Yt).\u0275fac=function(nt){return new(nt||st)(o.rXU(Rt.i),o.rXU(x.F),o.rXU(V.R),o.rXU(vt.x),o.rXU(rt.b))},st.\u0275cmp=o.VBU({type:st,selectors:[["azt-view-table-score-single"]],viewQuery:function(nt,at){if(1&nt&&o.GBs(Gt,5),2&nt){let Ht;o.mGM(Ht=o.lsd())&&(at.table_score_student=Ht.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},features:[o.Jv_([{provide:O.$O,useClass:i.fb,deps:[e.Ju,n.ij]},{provide:O.vq,useFactory:t.fJ,deps:[x.F]}]),o.Vt3],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex","items-center"],["matRipple","",1,"btn","btn-sm","btn-outline-primary","border-0","mr-2","p-1",3,"matTooltip","click"],["name","download","size","20"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","border-0","p-1",3,"matTooltip","click"],["name","x","size","20"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["class","btn btn-secondary-soft","matRipple","",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","disabled","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil","size","16",3,"matTooltip",4,"ngIf"],["name","x","size","16",3,"matTooltip",4,"ngIf"],["name","pencil","size","16",3,"matTooltip"],["name","x","size","16",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","check","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","check","size","20",3,"ngClass"],["matRipple","",1,"btn","btn-secondary-soft",3,"matTooltip","click"],["name","external-link","size","16"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(nt,at){if(1&nt&&(o.DNE(0,ae,6,5,"div",0),o.j41(1,"div",1)(2,"div",2),o.nrm(3,"azt-student-info-box",3),o.DNE(4,xe,7,6,"div",4),o.k0s(),o.DNE(5,Qe,15,9,"azt-mat-dialog-content",5),o.DNE(6,gn,18,12,"table",6),o.k0s(),o.j41(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"th",9),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s(),o.j41(17,"th",9),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s(),o.j41(20,"th",9),o.EFF(21),o.nI1(22,"mytranslate"),o.k0s()()(),o.j41(23,"tbody"),o.DNE(24,en,10,17,"tr",10),o.j41(25,"tr")(26,"td",9),o.EFF(27),o.k0s(),o.j41(28,"td",9),o.EFF(29),o.nI1(30,"mytranslate"),o.k0s(),o.nrm(31,"td"),o.j41(32,"td",9),o.EFF(33),o.k0s()()()()),2&nt){let Ht,ue,Kt,Ie,ce,Fe;o.Y8G("ngIf",at.isStudent&&!at.viewDialog),o.R7$(3),o.Y8G("name",at.data.fullName)("parentFullName",at.data.parentFullName)("parentId",at.data.parentId)("parentPhone",at.data.parentPhone)("phone",at.data.phone)("email",at.data.email)("avatar",at.data.avatar)("gender",at.data.gender)("hasUser",at.data.hasUser),o.R7$(1),o.Y8G("ngIf",at.viewDialog),o.R7$(1),o.Y8G("ngIf",at.viewDialog),o.R7$(1),o.Y8G("ngIf",at.isStudent&&!at.viewDialog),o.R7$(1),o.Y8G("border",1),o.R7$(4),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",at.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(13,50,"lang_student_export_excel_no")," "),o.R7$(2),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",at.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(16,52,"lang_student_name_component_score")," "),o.R7$(2),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",at.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(19,54,"lang_auto_he_so")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",at.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(22,56,"lang_testbank_update_exam_point")," "),o.R7$(3),o.Y8G("ngForOf",null!==(Ht=at.data.marks)&&void 0!==Ht?Ht:o.lJ4(60,he)),o.R7$(2),o.BMQ("excelRow",(null!==(ue=null==at.data.marks?null:at.data.marks.length)&&void 0!==ue?ue:0)+1)("excelColumn",0)("excelStyle",at.styleTdNormal),o.R7$(1),o.SpI(" ",(null!==(Kt=null==at.data.marks?null:at.data.marks.length)&&void 0!==Kt?Kt:0)+1," "),o.R7$(1),o.BMQ("excelRow",(null!==(Ie=null==at.data.marks?null:at.data.marks.length)&&void 0!==Ie?Ie:0)+1)("excelColumn",1)("excelStyle",at.styleTdNormal),o.R7$(1),o.SpI(" ",o.bMT(30,58,"lang_business_diem_tong_ket")," "),o.R7$(2),o.BMQ("excelRow",(null!==(ce=null==at.data.marks?null:at.data.marks.length)&&void 0!==ce?ce:0)+1)("excelColumn",3)("excelStyle",at.styleTdNormal),o.R7$(1),o.BMQ("excelRow",(null!==(Fe=null==at.data.marks?null:at.data.marks.length)&&void 0!==Fe?Fe:0)+1)("excelColumn",4)("excelStyle",at.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",at.data.averageMark," ")}},dependencies:[Et.YU,Et.Sq,Et.bT,e.r6,Q.oV,A.D,Z.U,z.R,Ct.B,jt.E,tt.Ew,Tt.WGl,zt.wp,zt.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),Yt})(),on=(()=>{var st;class Yt extends T._{closeDialog(nt){this.dialogRef.close(nt)}ngOnInit(){super.ngOnInit()}constructor(nt,at){super(at,nt),this.dialogRef=nt,this.data=at}ngOnDestroy(){super.ngOnDestroy()}}return(st=Yt).\u0275fac=function(nt){return new(nt||st)(o.rXU(it.CP,8),o.rXU(it.Vh,8))},st.\u0275cmp=o.VBU({type:st,selectors:[["azt-table-score-single"]],features:[o.Jv_([{provide:O.$O,useClass:i.fb,deps:[e.Ju,n.ij]},{provide:O.vq,useFactory:t.fJ,deps:[x.F]}]),o.Vt3],decls:1,vars:3,consts:[[3,"data","isStudent","viewDialog","closeDialog"]],template:function(nt,at){1&nt&&(o.j41(0,"azt-view-table-score-single",0),o.bIt("closeDialog",function(ue){return at.closeDialog(ue)}),o.k0s()),2&nt&&o.Y8G("data",at.data.student)("isStudent",!at.data.isTeacher)("viewDialog",!0)},dependencies:[nn],encapsulation:2}),Yt})()},19857:(Me,Wt,p)=>{p.d(Wt,{g:()=>Ge});var O=p(76627),n=p(59640),e=p(18148),it=p(37497),i=p(75421),t=p(27208),T=p(69307),x=p(71703),o=p(26860),yt=p(90998),Dt=p(40609),Nt=p(9691),mt=p(46899),Rt=p(64624),V=p(67638),vt=p(65162),rt=p(10296),Et=p(54460),Q=p(47712),A=p(18718),Z=p(22613),z=p(66729),Ct=p(52811),jt=p(11002),tt=p(32099),Tt=p(5800),zt=p(10123),Gt=p(15343),Xt=p(76975);const ae=["table_score"];function xe(B,Ot){1&B&&(o.j41(0,"div",9),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(1),o.SpI(" ",o.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Se(B,Ot){if(1&B&&(o.j41(0,"div",6)(1,"h3",7),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.DNE(4,xe,3,3,"div",8),o.k0s()),2&B){const R=o.XpG();let H;o.R7$(2),o.JRh(o.bMT(3,2,"lang_student_enter_score")),o.R7$(2),o.Y8G("ngIf",R.isMobileDevice&&!R.isStudent&&(null!==(H=null==R.dataStudent||null==R.dataStudent.list?null:R.dataStudent.list.length)&&void 0!==H?H:0)>0)}}function De(B,Ot){1&B&&(o.j41(0,"div",9),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(1),o.SpI(" ",o.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Ne(B,Ot){if(1&B&&(o.j41(0,"div",6)(1,"h3",7),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.DNE(4,De,3,3,"div",8),o.k0s()),2&B){const R=o.XpG();let H;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_bang_diem")),o.R7$(2),o.Y8G("ngIf",R.isMobileDevice&&!R.isStudent&&(null!==(H=null==R.dataStudent||null==R.dataStudent.list?null:R.dataStudent.list.length)&&void 0!==H?H:0)>0)}}const Pt=function(){return{"mr-2":!0}};function Zt(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){o.eBV(R);const X=o.XpG(2);return o.Njj(X.createNewScore())}),o.nrm(1,"lucide-icon",19),o.j41(2,"span"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&B&&(o.R7$(1),o.Y8G("ngClass",o.lJ4(4,Pt)),o.R7$(2),o.JRh(o.bMT(4,2,"lang_student_enter_new_component_score")))}function Ut(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(R);const X=o.XpG(2);return o.Njj(X.downloadTableScore())}),o.nrm(1,"lucide-icon",21),o.j41(2,"span"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&B&&(o.R7$(1),o.Y8G("ngClass",o.lJ4(4,Pt)),o.R7$(2),o.JRh(o.bMT(4,2,"lang_student_export_a_grade_sheet")))}function At(B,Ot){1&B&&o.nrm(0,"azt-loading-ui",25)}function Mt(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"flexed-on-the-top",22)(1,"button",23),o.bIt("click",function(){o.eBV(R);const X=o.XpG(2);return o.Njj(X.saveMark())}),o.DNE(2,At,1,0,"azt-loading-ui",24),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}if(2&B){const R=o.XpG(2);o.Y8G("colorBackground","#f0f8ffe8"),o.R7$(1),o.Y8G("disabled",0==R.listStudentMark.length||R.isSave),o.R7$(1),o.Y8G("ngIf",R.isSave),o.R7$(1),o.SpI(" ",o.bMT(4,4,"lang_auto_luu")," ")}}function Jt(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"azt-search-box",13),o.bIt("onSearch",function(X){o.eBV(R);const pt=o.XpG();return o.Njj(pt.onSearchBox(X.searchObj))}),o.nI1(4,"mytranslate"),o.k0s()(),o.j41(5,"div",14),o.DNE(6,Zt,5,5,"button",15),o.DNE(7,Ut,5,5,"button",16),o.DNE(8,Mt,5,6,"flexed-on-the-top",17),o.k0s()()()}if(2&B){const R=o.XpG();o.R7$(3),o.Y8G("isServerSearch",!0)("placeholder",o.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),o.R7$(3),o.Y8G("ngIf","ENTER_SCORE"==R.screenType),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==R.screenType),o.R7$(1),o.Y8G("ngIf","ENTER_SCORE"==R.screenType)}}function oe(B,Ot){if(1&B&&o.nrm(0,"azt-loading-effect",26),2&B){const R=o.XpG();o.Y8G("currentStatusObj",R.statusObj)}}function St(B,Ot){1&B&&(o.j41(0,"div",32),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(1),o.JRh(o.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function lt(B,Ot){if(1&B&&(o.j41(0,"div",49)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",50),o.EFF(5),o.k0s()()),2&B){const R=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(R.coefficient)}}function J(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"button",51),o.bIt("click",function(){o.eBV(R);const X=o.XpG().$implicit,pt=o.XpG(3);return o.Njj(pt.createNewScore(X))}),o.nI1(1,"mytranslate"),o.nrm(2,"lucide-icon",52),o.k0s()}2&B&&o.FS9("matTooltip",o.bMT(1,1,"lang_student_sua_dau_diem"))}const Y=function(){return{"text-danger":!0}};function ft(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"button",53),o.bIt("click",function(){o.eBV(R);const X=o.XpG().$implicit,pt=o.XpG(3);return o.Njj(pt.deleteMark(X))}),o.nI1(1,"mytranslate"),o.nrm(2,"lucide-icon",54),o.k0s()}2&B&&(o.FS9("matTooltip",o.bMT(1,2,"lang_button_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(4,Y)))}function Bt(B,Ot){if(1&B&&(o.j41(0,"th",41)(1,"div",42)(2,"div",43)(3,"div",44),o.EFF(4),o.k0s(),o.j41(5,"div",45),o.DNE(6,lt,6,4,"div",46),o.DNE(7,J,3,3,"button",47),o.DNE(8,ft,3,5,"button",48),o.k0s()()()()),2&B){const R=Ot.$implicit,H=o.XpG(3);o.R7$(3),o.FS9("matTooltip",R.name),o.R7$(1),o.JRh(R.name),o.R7$(2),o.Y8G("ngIf",R.coefficient),o.R7$(1),o.Y8G("ngIf",!H.isStudent),o.R7$(1),o.Y8G("ngIf",R.canEditName)}}function qt(B,Ot){1&B&&(o.j41(0,"th",55),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(1),o.JRh(o.bMT(2,1,"lang_business_diem_tong_ket")))}function he(B,Ot){if(1&B&&(o.j41(0,"div",65),o.nrm(1,"azt-check-mark",66),o.k0s()),2&B){const R=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",R.marks.length>0?R.marks[0]:"")}}function Qe(B,Ot){if(1&B&&(o.j41(0,"div",65),o.nrm(1,"azt-check-mark",66),o.k0s()),2&B){const R=o.XpG().$implicit,H=o.XpG(4);o.R7$(1),o.Y8G("mark",H.returnValue(R))}}function pn(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"input",67),o.bIt("input",function(X){o.eBV(R);const pt=o.XpG().index,Vt=o.XpG().index,ge=o.XpG(3);return o.Njj(ge.handleMarkStudent(X,Vt,pt))}),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate"),o.k0s()}if(2&B){const R=o.XpG().$implicit,H=o.XpG().$implicit,X=o.XpG(3);o.FS9("matTooltip",o.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),o.FS9("id",R.id.toString()+"-"+H.id.toString()),o.FS9("placeholder",o.bMT(2,7,"lang_auto_nhap_diem")),o.Y8G("matTooltipDisabled",!R.canEditMark)("value",X.returnValue(R))}}function ln(B,Ot){if(1&B&&(o.j41(0,"td",61),o.DNE(1,he,2,1,"div",62),o.DNE(2,Qe,2,1,"div",62),o.DNE(3,pn,3,9,"input",63),o.nrm(4,"div",64),o.k0s()),2&B){const R=Ot.$implicit,H=o.XpG().$implicit,X=o.XpG(3);o.Y8G("hidden","TABLE_SCORE"==X.screenType),o.R7$(1),o.Y8G("ngIf","homework"==R.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=R.objectType&&(!R.canEditMark||"ENTER_SCORE"!=X.screenType)),o.R7$(1),o.Y8G("ngIf","homework"!=R.objectType&&R.canEditMark),o.R7$(1),o.Mz_("id","error-",R.id.toString()+"-"+H.id.toString(),""),o.Y8G("hidden",!0)}}function cn(B,Ot){if(1&B&&(o.j41(0,"td")(1,"div",68),o.EFF(2),o.k0s()()),2&B){const R=o.XpG().$implicit;o.R7$(2),o.SpI(" ",R.averageMark," ")}}const $e=function(){return[]};function gn(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"tr",56)(1,"td",57),o.bIt("click",function(){const pt=o.eBV(R).$implicit,Vt=o.XpG(3);return o.Njj(Vt.openDialogTableSingle(pt))}),o.nrm(2,"azt-student-info-box",58),o.k0s(),o.j41(3,"td",59),o.EFF(4),o.nI1(5,"formatStudentCodeToNumber"),o.k0s(),o.DNE(6,ln,5,6,"td",60),o.DNE(7,cn,3,1,"td",30),o.k0s()}if(2&B){const R=Ot.$implicit,H=o.XpG(3);let X;o.Y8G("id","row_student_"+R.id),o.R7$(2),o.Y8G("name",R.fullName)("parentFullName",R.parentFullName)("parentId",R.parentId)("parentPhone",R.parentPhone)("avatar",R.avatar)("gender",R.gender)("hasUser",R.hasUser)("schoolName",R.schoolName)("classrooms",R.classrooms)("joinedAt",R.joinedAt),o.R7$(2),o.JRh(R.identificationNumber?o.i5U(5,14,R.identificationNumber,6):""),o.R7$(2),o.Y8G("ngForOf",null!==(X=R.marks)&&void 0!==X?X:o.lJ4(17,$e)),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==H.screenType)}}function hn(B,Ot){if(1&B&&(o.j41(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr",35)(5,"th",36),o.EFF(6),o.nI1(7,"mytranslate"),o.k0s(),o.j41(8,"th",37),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.DNE(11,Bt,9,5,"th",38),o.DNE(12,qt,3,3,"th",39),o.k0s()(),o.j41(13,"tbody"),o.DNE(14,gn,8,18,"tr",40),o.k0s()()()()),2&B){const R=o.XpG(2);let H,X;o.R7$(6),o.JRh(o.bMT(7,5,"lang_auto_ho_va_ten")),o.R7$(3),o.JRh(o.bMT(10,7,"lang_auto_so_bao_danh")),o.R7$(2),o.Y8G("ngForOf",null!==(H=null==R.dataMark?null:R.dataMark.list)&&void 0!==H?H:o.lJ4(9,$e)),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==R.screenType),o.R7$(2),o.Y8G("ngForOf",null!==(X=null==R.dataStudent?null:R.dataStudent.list)&&void 0!==X?X:o.lJ4(10,$e))}}function mn(B,Ot){if(1&B&&(o.j41(0,"div",71),o.nrm(1,"azt-student-info-box",72),o.j41(2,"div",73)(3,"div",74),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s(),o.j41(6,"div",74),o.EFF(7),o.k0s()()()),2&B){const R=Ot.$implicit;o.R7$(1),o.Y8G("name",R.fullName)("parentFullName",R.parentFullName)("parentId",R.parentId)("parentPhone",R.parentPhone)("phone",R.phone)("email",R.email)("avatar",R.avatar)("gender",R.gender)("hasUser",R.hasUser),o.R7$(3),o.SpI(" ",o.bMT(5,11,"lang_business_diem_tong_ket")," "),o.R7$(3),o.SpI(" ",R.averageMark," ")}}function en(B,Ot){1&B&&o.nrm(0,"lucide-icon",79)}function nn(B,Ot){1&B&&o.nrm(0,"lucide-icon",80)}function on(B,Ot){if(1&B&&(o.j41(0,"div",90)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",50),o.EFF(5),o.k0s()()),2&B){const R=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(R.coefficient)}}function st(B,Ot){if(1&B&&(o.j41(0,"div",91),o.nrm(1,"azt-check-mark",66),o.k0s()),2&B){const R=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",R.marks.length>0?R.marks[0]:"")}}function Yt(B,Ot){if(1&B&&(o.j41(0,"div",91),o.nrm(1,"azt-check-mark",66),o.k0s()),2&B){const R=o.XpG().$implicit,H=o.XpG(6);o.R7$(1),o.Y8G("mark",H.returnValue(R))}}function ot(B,Ot){if(1&B&&(o.j41(0,"tr")(1,"td")(2,"div",86)(3,"div"),o.EFF(4),o.DNE(5,on,6,4,"div",87),o.k0s()()(),o.j41(6,"td",88),o.DNE(7,st,2,1,"div",89),o.DNE(8,Yt,2,1,"div",89),o.k0s()()),2&B){const R=Ot.$implicit;o.R7$(4),o.SpI(" ",R.name," "),o.R7$(1),o.Y8G("ngIf",R.coefficient),o.R7$(2),o.Y8G("ngIf","homework"==R.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=R.objectType)}}function nt(B,Ot){if(1&B&&(o.j41(0,"div",82)(1,"table",83)(2,"thead")(3,"tr")(4,"th",84),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"th",85),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()()(),o.j41(10,"tbody"),o.DNE(11,ot,9,4,"tr",70),o.k0s()()()),2&B){const R=o.XpG(2).$implicit;o.R7$(5),o.JRh(o.bMT(6,3,"lang_student_name_component_score")),o.R7$(3),o.JRh(o.bMT(9,5,"lang_testbank_update_exam_point")),o.R7$(3),o.Y8G("ngForOf",R.marks)}}function at(B,Ot){if(1&B&&(o.qex(0),o.DNE(1,nt,12,7,"div",81),o.bVm()),2&B){const R=o.XpG(4);o.R7$(1),o.Y8G("ngIf",R.isStudent)}}function Ht(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"div")(1,"h3",75)(2,"span",76),o.bIt("click",function(){const pt=o.eBV(R).$implicit;return o.Njj(pt.expand=!pt.expand)}),o.EFF(3),o.nI1(4,"mytranslate"),o.DNE(5,en,1,0,"lucide-icon",77),o.DNE(6,nn,1,0,"lucide-icon",78),o.k0s()(),o.DNE(7,at,2,1,"ng-container",30),o.k0s()}if(2&B){const R=Ot.$implicit;o.R7$(3),o.Lme(" ",o.bMT(4,5,"lang_core_thang")," ",R.date," "),o.R7$(2),o.Y8G("ngIf",R.expand),o.R7$(1),o.Y8G("ngIf",!R.expand),o.R7$(1),o.Y8G("ngIf",R.expand)}}function ue(B,Ot){if(1&B&&(o.j41(0,"div"),o.DNE(1,mn,8,13,"div",69),o.DNE(2,Ht,8,7,"div",70),o.k0s()),2&B){const R=o.XpG(2);let H;o.R7$(1),o.Y8G("ngForOf",null!==(H=null==R.dataStudent?null:R.dataStudent.list)&&void 0!==H?H:o.lJ4(2,$e)),o.R7$(1),o.Y8G("ngForOf",R.listGroupMarkDate)}}function Kt(B,Ot){if(1&B){const R=o.RV6();o.j41(0,"azt-paging",95),o.bIt("goToPaginationPage",function(X){o.eBV(R);const pt=o.XpG(3);return o.Njj(pt.setPageStudent(X))}),o.k0s()}if(2&B){const R=o.XpG(3);o.Y8G("pageObj",R.pageObj)}}function Ie(B,Ot){if(1&B&&(o.j41(0,"div",14),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B){const R=o.XpG(3);o.R7$(1),o.Lme("",R.dataStudent.total," ",o.bMT(2,2,"lang_notify_list_students"),"")}}function ce(B,Ot){if(1&B&&(o.j41(0,"div",92),o.nrm(1,"div"),o.DNE(2,Kt,1,1,"azt-paging",93),o.DNE(3,Ie,3,4,"div",94),o.k0s()),2&B){const R=o.XpG(2);o.R7$(2),o.Y8G("ngIf",R.dataStudent.total>R.pageObj.pageSize),o.R7$(1),o.Y8G("ngIf",!R.isStudent)}}function Fe(B,Ot){if(1&B&&(o.j41(0,"div",27),o.DNE(1,St,3,3,"div",28),o.DNE(2,hn,15,11,"div",29),o.DNE(3,ue,3,3,"div",30),o.k0s(),o.DNE(4,ce,4,2,"div",31)),2&B){const R=o.XpG();let H,X,pt;o.R7$(1),o.Y8G("ngIf",!R.isStudent&&0==(null==R.dataStudent||null==R.dataStudent.list?null:R.dataStudent.list.length)&&0==(null!==(H=null==R.dataStudent?null:R.dataStudent.total)&&void 0!==H?H:0)),o.R7$(1),o.Y8G("ngIf",!R.isStudent&&(null!==(X=null==R.dataStudent||null==R.dataStudent.list?null:R.dataStudent.list.length)&&void 0!==X?X:0)>0),o.R7$(1),o.Y8G("ngIf",R.isStudent),o.R7$(1),o.Y8G("ngIf",R.dataStudent&&R.dataStudent.total&&(null!==(pt=null==R.dataStudent?null:R.dataStudent.total)&&void 0!==pt?pt:0)>0)}}function ne(B,Ot){if(1&B&&(o.j41(0,"th",98),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B){const R=Ot.$implicit,H=Ot.index,X=o.XpG(2);o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+H)("excelStyle",X.styleThNormal),o.R7$(1),o.Lme(" ",R.name+"\n"," "," ("+o.bMT(2,6,"lang_auto_he_so")+" "+R.coefficient+")"," ")}}function fe(B,Ot){if(1&B&&o.nrm(0,"azt-check-mark",66),2&B){const R=o.XpG().$implicit;o.Y8G("mark",R.marks.length>0?R.marks[0]:"")}}function je(B,Ot){if(1&B&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&B){const R=o.XpG().$implicit,H=o.XpG(3);o.R7$(1),o.SpI(" ",H.returnValue(R)," ")}}function Le(B,Ot){if(1&B&&(o.j41(0,"td",98),o.DNE(1,fe,1,1,"azt-check-mark",100),o.DNE(2,je,2,1,"span",30),o.k0s()),2&B){const R=Ot.$implicit,H=Ot.index,X=o.XpG().index,pt=o.XpG(2);o.BMQ("excelRow",X+1)("excelColumn",6+H)("excelStyle",pt.styleTdNormal),o.R7$(1),o.Y8G("ngIf","homework"==R.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=R.objectType)}}function Be(B,Ot){if(1&B&&(o.j41(0,"tr")(1,"td",98),o.EFF(2),o.k0s(),o.j41(3,"td",98),o.EFF(4),o.k0s(),o.j41(5,"td",98),o.EFF(6),o.k0s(),o.j41(7,"td",98),o.EFF(8),o.k0s(),o.j41(9,"td",98),o.EFF(10),o.nI1(11,"formatOnlyDateByUserUnitPipe"),o.k0s(),o.j41(12,"td",98),o.EFF(13),o.nI1(14,"mytranslate"),o.nI1(15,"mytranslate"),o.k0s(),o.DNE(16,Le,3,5,"td",99),o.j41(17,"td",98),o.EFF(18),o.k0s()()),2&B){const R=Ot.$implicit,H=Ot.index,X=o.XpG(2);let pt,Vt;o.R7$(1),o.BMQ("excelRow",H+1)("excelColumn",0)("excelStyle",X.styleTdNormal),o.R7$(1),o.SpI(" ",null!=R&&R.fullName?H+1:""," "),o.R7$(1),o.BMQ("excelRow",H+1)("excelColumn",1)("excelStyle",X.styleTdNormalLeft),o.R7$(1),o.SpI(" ",null==R?null:R.fullName," "),o.R7$(1),o.BMQ("excelRow",H+1)("excelColumn",2)("excelStyle",X.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",null==R?null:R.phone," "),o.R7$(1),o.BMQ("excelRow",H+1)("excelColumn",3)("excelStyle",X.styleTdNormal),o.R7$(1),o.SpI(" ",null==R?null:R.email," "),o.R7$(1),o.BMQ("excelRow",H+1)("excelColumn",4)("excelStyle",X.styleTdNormal),o.R7$(1),o.SpI(" ",o.bMT(11,29,null==R?null:R.birthday)," "),o.R7$(2),o.BMQ("excelRow",H+1)("excelColumn",5)("excelStyle",X.styleTdNormal),o.R7$(1),o.SpI(" ",1==(null==R?null:R.gender)?o.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==R?null:R.gender)?o.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),o.R7$(3),o.Y8G("ngForOf",null!==(pt=R.marks)&&void 0!==pt?pt:o.lJ4(35,$e)),o.R7$(1),o.BMQ("excelRow",H+1)("excelColumn",6+(null!==(Vt=null==R.marks?null:R.marks.length)&&void 0!==Vt?Vt:0))("excelStyle",X.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",R.averageMark," ")}}function Cn(B,Ot){if(1&B&&(o.j41(0,"table",96,97)(2,"thead")(3,"tr")(4,"th",98),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"th",98),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s(),o.j41(10,"th",98),o.EFF(11),o.nI1(12,"mytranslate"),o.k0s(),o.j41(13,"th",98),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"th",98),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s(),o.j41(19,"th",98),o.EFF(20),o.nI1(21,"mytranslate"),o.k0s(),o.DNE(22,ne,3,8,"th",99),o.j41(23,"th",98),o.EFF(24),o.nI1(25,"mytranslate"),o.k0s()()(),o.j41(26,"tbody"),o.DNE(27,Be,19,36,"tr",70),o.k0s()()),2&B){const R=o.XpG();let H,X,pt;o.Y8G("border",1),o.R7$(4),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",R.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(6,38,"lang_student_export_excel_no")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",R.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(9,40,"lang_student_export_excel_full_name")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",R.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(12,42,"lang_number_phone")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",R.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(15,44,"lang_student_export_excel_email")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",R.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(18,46,"lang_student_export_excel_birthday")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",R.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(21,48,"lang_student_export_excel_gender")," "),o.R7$(2),o.Y8G("ngForOf",null!==(H=null==R.dataMark?null:R.dataMark.list)&&void 0!==H?H:o.lJ4(52,$e)),o.R7$(1),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(X=null==R.dataMark||null==R.dataMark.list?null:R.dataMark.list.length)&&void 0!==X?X:0))("excelStyle",R.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(25,50,"lang_business_diem_tong_ket")," "),o.R7$(3),o.Y8G("ngForOf",null!==(pt=null==R.dataStudent?null:R.dataStudent.list)&&void 0!==pt?pt:o.lJ4(53,$e))}}let Ge=(()=>{var B;class Ot extends n.H{goToProfile(H,X){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+H+"/"+X,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(H){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+H),this.initStatusObj(),this.pageObj.setPageNumber(H),this.getListStudent()}openDialogTableSingle(H){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(x.V,{width:"750px",restoreFocus:!1,data:{student:H,isTeacher:!0}}).afterClosed().subscribe(X=>{X&&this.getListStudent()}):(H.classroomId||H.id)&&this.goToProfile(H.classroomId,H.id)}onSearchBox(H){this.searchContentObj=H,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var H=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let X=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(H,X),e.L.closeLoadingEffect(200)}handlePointByValueInput(H){var X=H.target;let pt=""===X.value.trim()?"":X.value;pt=pt.replace(/[^\d\s,\.]/g,""),pt=pt.replace(/,/g,"."),pt=pt.replace(/\s+/g," "),pt=pt.replace(/\.{2,}/g,"."),pt=pt.replace(/(?:^|\s)\./g," 0."),pt=pt.replace(/^\s+/,""),pt=pt.replace(/\.\s/g," ");var Vt=pt.split(" ");if(Vt.length>0){var ge=""!=Vt[Vt.length-1]?Vt[Vt.length-1]:Vt[Vt.length-2];Number(ge)>-1?ge.split(".").length>1&&ge.split(".")[1].length>2&&(pt=pt.substring(0,pt.length-1)):pt=pt.replace(/\.$/," ")}return X.value=pt,pt.split(" ").filter(Pe=>""!=Pe).map(Pe=>parseFloat(Pe))}handleMarkStudent(H,X,pt){var Vt=this.handlePointByValueInput(H);Vt=0==Vt.length?[-1]:Vt;var ge=this.dataStudent.list[X],me=this.dataMark.list[pt],ze=this.listStudentMark.findIndex(Ze=>Ze.id==ge.id);if(ze>-1){var Pe=(this.listStudentMark[ze].listMarks??[]).findIndex(Ze=>Ze.id==me.id);Pe>-1?this.listStudentMark[ze].listMarks[Pe].points=Vt:this.listStudentMark[ze].listMarks?.push({id:me.id,points:Vt})}else this.listStudentMark.push({id:ge.id,listMarks:[{id:me.id,points:Vt}]})}returnValue(H){return(H.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:X=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:X=>{this.errorStatusObj(X.error.message,!0),this.isSave=!1}}))}createNewScore(H){this.isStudent||this.sAztDialogService.open(T._,{data:H||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(pt=>{pt&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:X=>{this.dataMark=X,this.getListStudent()},error:X=>{this.errorStatusObj(X.error.message,!0)}}))}deleteMark(H){var X=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+H.name+" </div> ?";this.sAztDialogService.open(i.u,{data:{content:X},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(pt=>{pt&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(H.id).subscribe({next:Vt=>{this.getListMark()},error:Vt=>{this.errorStatusObj(Vt.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(H=>{1==H.success&&(this.classroomObj=H.data?.obj)}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:X=>{this.dataStudent=X,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(X.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:X=>{this.errorStatusObj(X.error.message,!0)}}))}handleGroupMarkByDate(H){let X=[];H.forEach(Vt=>{let ge=Vt.marks?.map(me=>({...me,monthAndYear:this.sAztTimeService.formatDateToMonthYear(me.createdAt)}))??[];X=X.concat(ge)});let pt=this.commonService.arrayToDictionary(X,Vt=>Vt.monthAndYear);this.listGroupMarkDate=Object.entries(pt).map(([Vt,ge])=>({date:Vt,marks:ge,expand:!1}))}scrollElementStudentById(){if(this.studentId){var H=document.getElementById("row_student_"+this.studentId);H&&H.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,O.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(H,X,pt,Vt,ge,me,ze,Pe){super(),this.commonMarkService=H,this.studentService=X,this.sAztTimeService=pt,this.sAztDialogService=Vt,this.classroomService=ge,this.exportExcelService=me,this.activeRoute=ze,this.shareFileFlutterService=Pe,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new it.d(50),this.searchContentObj=new t.Z}}return(B=Ot).\u0275fac=function(H){return new(H||B)(o.rXU(yt.a),o.rXU(Dt.b),o.rXU(Nt.F),o.rXU(mt.i),o.rXU(Rt.z),o.rXU(V.x),o.rXU(vt.nX),o.rXU(rt.R))},B.\u0275cmp=o.VBU({type:B,selectors:[["app-table-score"]],viewQuery:function(H,X){if(1&H&&o.GBs(ae,5),2&H){let pt;o.mGM(pt=o.lsd())&&(X.table_answer=pt.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[o.Vt3],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1 col-span-12",4,"ngIf"],[1,"mt-1","col-span-12"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(H,X){if(1&H&&(o.j41(0,"div",0),o.DNE(1,Se,5,4,"div",1),o.DNE(2,Ne,5,4,"div",1),o.DNE(3,Jt,9,7,"div",2),o.k0s(),o.DNE(4,oe,1,1,"azt-loading-effect",3),o.DNE(5,Fe,5,4,"ng-template",null,4,o.C5r),o.DNE(7,Cn,28,54,"table",5)),2&H){const pt=o.sdS(6);o.R7$(1),o.Y8G("ngIf","ENTER_SCORE"==X.screenType),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==X.screenType),o.R7$(1),o.Y8G("ngIf",!X.isStudent),o.R7$(1),o.Y8G("ngIf",X.statusObj.loading)("ngIfElse",pt),o.R7$(3),o.Y8G("ngIf","TABLE_SCORE"==X.screenType)}},dependencies:[Et.YU,Et.Sq,Et.bT,Q.oV,A.K,Z.q,z.D,Ct.R,jt.$,tt.W,Tt.B,zt.jd,zt.Ew,Gt.WGl,Xt.wp,Xt.Po,Xt.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),Ot})()},57350:(Me,Wt,p)=>{p.d(Wt,{s:()=>i});var O=p(59640),n=p(26860),e=p(65162),it=p(19857);let i=(()=>{var t;class T extends O.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(o){super(),this.activeRoute=o,this.classroomId=0}}return(t=T).\u0275fac=function(o){return new(o||t)(n.rXU(e.nX))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[n.Vt3],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(o,yt){1&o&&n.nrm(0,"app-table-score",0),2&o&&n.Y8G("isStudent",yt.isStudent)("screenType","TABLE_SCORE")("classroomId",yt.classroomId)("programId",0)("sessionId",0)},dependencies:[it.g],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),T})()},25622:(Me,Wt,p)=>{p.d(Wt,{b:()=>jt});var O=p(59640),n=p(26860),e=p(95624),it=p(65162),i=p(54460),t=p(18718),T=p(68323),x=p(94743),o=p(76975);function yt(tt,Tt){if(1&tt&&n.nrm(0,"azt-loading-effect",2),2&tt){const zt=n.XpG();n.Y8G("currentStatusObj",zt.statusObj)}}const Dt=function(tt){return{"text-white":tt}};function Nt(tt,Tt){if(1&tt&&(n.j41(0,"div",21),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&tt){const zt=n.XpG(),Xt=zt.$implicit;n.Y8G("ngClass",n.eq3(4,Dt,0===zt.index)),n.R7$(1),n.JRh(Xt.averageMark+" "+n.bMT(2,2,"lang_auto_diem"))}}function mt(tt,Tt){if(1&tt&&(n.j41(0,"div",21),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&tt){const zt=n.XpG();n.Y8G("ngClass",n.eq3(4,Dt,0===zt.index&&zt.$implicit.averageMark)),n.R7$(1),n.JRh(n.bMT(2,2,"lang_not_data"))}}function Rt(tt,Tt){1&tt&&(n.j41(0,"div",22),n.nrm(1,"azt-svg-icon",23),n.k0s()),2&tt&&(n.R7$(1),n.Y8G("size",40))}function V(tt,Tt){1&tt&&(n.j41(0,"div",24),n.nrm(1,"azt-svg-icon",25),n.k0s()),2&tt&&(n.R7$(1),n.Y8G("size",40))}function vt(tt,Tt){1&tt&&(n.j41(0,"div",26),n.nrm(1,"azt-svg-icon",27),n.k0s()),2&tt&&(n.R7$(1),n.Y8G("size",40))}const rt=function(tt){return{cursor:tt}},Et=function(tt,Tt,zt){return{"p-5 bg-primary text-white":tt,"p-3":Tt,"border border-primary p-4 border-w-2":zt}},Q=function(tt){return{"text-base":tt}};function A(tt,Tt){if(1&tt){const zt=n.RV6();n.j41(0,"div",8),n.bIt("click",function(){const ae=n.eBV(zt).$implicit,xe=n.XpG(3);return n.Njj(xe.goToProfile(ae.classroomId,ae.id))}),n.j41(1,"div",9)(2,"span",10),n.EFF(3),n.k0s()(),n.j41(4,"div",11)(5,"div",12),n.nrm(6,"azt-create-avatar",13),n.k0s(),n.j41(7,"div",14)(8,"div",15),n.EFF(9),n.k0s(),n.DNE(10,Nt,3,6,"div",16),n.DNE(11,mt,3,6,"div",16),n.k0s()(),n.j41(12,"div",17),n.DNE(13,Rt,2,1,"div",18),n.DNE(14,V,2,1,"div",19),n.DNE(15,vt,2,1,"div",20),n.k0s()()}if(2&tt){const zt=Tt.$implicit,Gt=Tt.index,Xt=n.XpG(3);n.Y8G("ngStyle",n.eq3(13,rt,Xt.isStudent?"default":"pointer"))("ngClass",n.sMw(15,Et,0===Gt&&zt.averageMark,0!==Gt||!zt.averageMark,(2===Gt||1===Gt)&&zt.averageMark)),n.R7$(3),n.JRh(Gt+1),n.R7$(3),n.Y8G("linkAvatar",zt.avatar)("nameCreateAvatar",zt.fullName)("size",0===Gt?48:44),n.R7$(2),n.Y8G("ngClass",n.eq3(19,Q,0===Gt)),n.R7$(1),n.JRh(zt.fullName),n.R7$(1),n.Y8G("ngIf",zt.averageMark),n.R7$(1),n.Y8G("ngIf",!zt.averageMark),n.R7$(2),n.Y8G("ngIf",0===Gt&&zt.averageMark),n.R7$(1),n.Y8G("ngIf",1===Gt&&zt.averageMark),n.R7$(1),n.Y8G("ngIf",2===Gt&&zt.averageMark)}}function Z(tt,Tt){if(1&tt&&(n.j41(0,"div",5)(1,"div",6),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,A,16,21,"div",7),n.k0s()),2&tt){const zt=n.XpG(2);n.R7$(2),n.SpI(" ",n.bMT(3,2,"lang_azt_leaderboard")," "),n.R7$(2),n.Y8G("ngForOf",zt.dataStudent.list)}}function z(tt,Tt){1&tt&&(n.j41(0,"div",28)(1,"div",29),n.nrm(2,"azt-svg-icon",30),n.j41(3,"p",31),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()()()),2&tt&&(n.R7$(2),n.Y8G("size",82),n.R7$(2),n.JRh(n.bMT(5,2,"lang_not_data")+"!"))}function Ct(tt,Tt){if(1&tt&&(n.DNE(0,Z,5,4,"div",3),n.DNE(1,z,6,4,"ng-template",null,4,n.C5r)),2&tt){const zt=n.sdS(2),Gt=n.XpG();n.Y8G("ngIf",Gt.dataStudent&&Gt.dataStudent.list&&Gt.dataStudent.list.length)("ngIfElse",zt)}}let jt=(()=>{var tt;class Tt extends O.H{goToProfile(Gt,Xt){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+Gt+"/"+Xt,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${Gt}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}}).subscribe({next:Xt=>{this.dataStudent=Xt,this.stopStatusObj()},error:Xt=>{this.errorStatusObj(Xt.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(Gt,Xt){super(),this.studentService=Gt,this.activeRoute=Xt,this.classroomId=0}}return(tt=Tt).\u0275fac=function(Gt){return new(Gt||tt)(n.rXU(e.b0),n.rXU(it.nX))},tt.\u0275cmp=n.VBU({type:tt,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[n.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngStyle","ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngStyle","ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(Gt,Xt){if(1&Gt&&(n.DNE(0,yt,1,1,"azt-loading-effect",0),n.DNE(1,Ct,3,2,"ng-template",null,1,n.C5r)),2&Gt){const ae=n.sdS(2);n.Y8G("ngIf",Xt.statusObj.loading)("ngIfElse",ae)}},dependencies:[i.YU,i.Sq,i.bT,i.B3,t.K,T.p,x.m,o.wp],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),Tt})()},95054:(Me,Wt,p)=>{p.d(Wt,{K:()=>Ze});var O=p(26988),n=p(59640),e=function(M){return M[M.ADD_NEW=0]="ADD_NEW",M[M.UPDATE=1]="UPDATE",M[M.DELETE=2]="DELETE",M}(e||{}),it=p(10936),i=p(26860),t=p(95624),T=p(54460),x=p(47712),o=p(18718),yt=p(52811),Dt=p(94743),Nt=p(15343),mt=p(15766),Rt=p(39712),V=p(36484),vt=p(97839),rt=p(99965),Et=p(63349),Q=p(53043),A=p(46899);const Z=function(){return{"stroke-1.5":!0}};function z(M,ht){if(1&M){const U=i.RV6();i.j41(0,"div",2)(1,"div",3)(2,"a",4),i.bIt("click",function(){const _t=i.eBV(U).$implicit,be=i.XpG();return i.Njj(be.onShowFile(_t,-1))}),i.j41(3,"div",5),i.nrm(4,"img",6),i.j41(5,"span",7),i.bIt("click",function(){const _t=i.eBV(U).$implicit,be=i.XpG();return i.Njj(be.removeFile(_t))}),i.nrm(6,"lucide-icon",8),i.k0s()()()()()}if(2&M){const U=ht.$implicit;i.R7$(4),i.Y8G("src",U.url,i.B4B),i.R7$(2),i.Y8G("ngClass",i.lJ4(2,Z))}}let Ct=(()=>{var M;class ht extends n.H{onShowFile(F,E){let _t={...F,index:E};this.sAztDialogService.open(Q.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:_t},restoreFocus:!1})}removeFile(F){this.files=this.files.filter(E=>E.url!=F.url),this.filesChange.emit(this.files)}constructor(F){super(),this.sAztDialogService=F,this.filesChange=new i.bkB}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(A.i))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[i.Vt3],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(F,E){1&F&&(i.j41(0,"div",0),i.DNE(1,z,7,3,"div",1),i.k0s()),2&F&&(i.R7$(1),i.Y8G("ngForOf",E.files))},dependencies:[T.YU,T.Sq,Nt.WGl],encapsulation:2}),ht})();var jt=p(76975);function tt(M,ht){if(1&M){const U=i.RV6();i.j41(0,"app-new-list-images",13),i.bIt("filesChange",function(E){i.eBV(U);const _t=i.XpG();return i.Njj(_t.files=E)}),i.k0s()}if(2&M){const U=i.XpG();i.Y8G("files",U.files)}}function Tt(M,ht){1&M&&i.nrm(0,"azt-loading-ui",14)}const zt=function(M){return[M]},Gt=function(){return{"zoom-in":!0}};let Xt=(()=>{var M;class ht extends n.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var F={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(E=>E.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.newsService.apiNewsPost(F).subscribe({next:E=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...E,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}}handleUploadComplete(F){this.files.push(...F)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(F,E){super(),this.newsService=F,this.userService=E,this.changePostObjEvent=new i.bkB,this.contentFormControl=new it.MJ("",{nonNullable:!0,validators:[mt.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=Rt.b8,this.allUploadFileTypes=Rt.PO}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(V.R))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[i.Vt3],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],["size","24",3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"mr-1"]],template:function(F,E){1&F&&(i.j41(0,"div",0)(1,"div",1)(2,"textarea",2),i.nI1(3,"mytranslate"),i.EFF(4,"        "),i.k0s(),i.DNE(5,tt,1,1,"app-new-list-images",3),i.k0s(),i.j41(6,"div",4)(7,"div",5)(8,"button",6),i.bIt("click",function(){return E.isLockComment=!E.isLockComment}),i.nI1(9,"mytranslate"),i.nrm(10,"lucide-icon",7),i.k0s(),i.j41(11,"azt-upload-multiple-box",8),i.bIt("uploadComplete",function(be){return E.handleUploadComplete(be)}),i.j41(12,"span",9),i.nrm(13,"lucide-icon",10),i.nI1(14,"mytranslate"),i.k0s()(),i.j41(15,"button",11),i.bIt("click",function(){return E.saveNewPost()}),i.DNE(16,Tt,1,0,"azt-loading-ui",12),i.EFF(17),i.nI1(18,"mytranslate"),i.k0s()()()()),2&F&&(i.R7$(2),i.FS9("placeholder",i.bMT(3,12,"lang_business_news_post_content")),i.Y8G("formControl",E.contentFormControl),i.R7$(3),i.Y8G("ngIf",E.files.length),i.R7$(3),i.FS9("matTooltip",i.bMT(9,14,E.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),i.R7$(2),i.Y8G("name",E.isLockComment?"lock":"lock-open"),i.R7$(1),i.Y8G("uploadToCdnMenu",E.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",i.eq3(20,zt,E.allUploadFileTypes.IMAGE)),i.R7$(2),i.FS9("matTooltip",i.bMT(14,16,"lang_core_tai_anh")),i.Y8G("ngClass",i.lJ4(22,Gt)),i.R7$(2),i.Y8G("disabled",""==E.contentFormControl.value||E.statusObj.loading),i.R7$(1),i.Y8G("ngIf",E.statusObj.loading),i.R7$(1),i.SpI(" ",i.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[T.YU,T.bT,vt.fg,x.oV,it.me,it.BC,it.l_,rt.j,yt.R,Et.V,Nt.WGl,Ct,jt.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),ht})();var ae=p(89163),xe=p(33887),Se=p(2915);function De(M,ht){1&M&&i.nrm(0,"azt-loading-ui",9)}let Ne=(()=>{var M;class ht extends xe._{btnCloseDialog(F){this.dialogRef.close(F)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:F=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}constructor(F,E,_t){super(_t,E),this.newsService=F,this.dialogRef=E,this.data=_t,this.postObj=_t}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(ae.CP,8),i.rXU(ae.Vh,8))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-delete-news-post-confirm-dialog"]],features:[i.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(F,E){1&F&&(i.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),i.EFF(5),i.nI1(6,"mytranslate"),i.j41(7,"b",4),i.EFF(8),i.k0s(),i.EFF(9,"? "),i.k0s()()()(),i.j41(10,"div",5)(11,"button",6),i.bIt("click",function(){return E.btnCloseDialog(!1)}),i.EFF(12),i.nI1(13,"mytranslate"),i.k0s(),i.j41(14,"button",7),i.bIt("click",function(){return E.confirmDelete()}),i.DNE(15,De,1,0,"azt-loading-ui",8),i.EFF(16),i.nI1(17,"mytranslate"),i.k0s()()()),2&F&&(i.R7$(5),i.SpI(" ",i.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),i.R7$(3),i.JRh(E.postObj.content),i.R7$(4),i.SpI(" ",i.bMT(13,7,"lang_cms_common_close_btn")," "),i.R7$(3),i.Y8G("ngIf",E.statusObj.loading),i.R7$(1),i.SpI(" ",i.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[T.bT,Se.U,yt.R,jt.wp],encapsulation:2}),ht})();var Pt=p(17818),Zt=p(68323),Ut=p(49221),At=function(M){return M[M.ADD_NEW=0]="ADD_NEW",M[M.UPDATE=1]="UPDATE",M[M.DELETE=2]="DELETE",M}(At||{}),Mt=p(74960),Jt=p(43558);function oe(M,ht){1&M&&i.nrm(0,"azt-loading-ui",9)}const St=function(){return{"text-primary flex-none zoom-in":!0}};let lt=(()=>{var M;class ht extends n.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:E=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...E,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:E=>{this.errorStatusObj(E.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(F,E){super(),this.newsService=F,this.userService=E,this.changeCommentObjEvent=new i.bkB,this.commentContentFormControl=new it.MJ("",{nonNullable:!0,validators:[mt.M.noWhiteSpace]})}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(V.R))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[i.Vt3],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(F,E){1&F&&(i.j41(0,"div",0),i.nrm(1,"azt-create-avatar",1),i.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),i.bIt("enterKey",function(){return!(""==E.commentContentFormControl.value||E.statusObj.loading)&&E.saveNewComment()}),i.nI1(5,"mytranslate"),i.EFF(6,"            "),i.k0s()(),i.j41(7,"div",5)(8,"button",6),i.bIt("click",function(){return E.saveNewComment()}),i.nI1(9,"mytranslate"),i.DNE(10,oe,1,0,"azt-loading-ui",7),i.nrm(11,"lucide-icon",8),i.k0s()()()()),2&F&&(i.R7$(1),i.Y8G("nameCreateAvatar",E.userObj.fullName)("linkAvatar",E.userObj.avatar)("size",30),i.R7$(3),i.FS9("placeholder",i.bMT(5,10,"lang_core_viet_binh_luan")),i.Y8G("enableInMobile",!1)("formControl",E.commentContentFormControl),i.R7$(4),i.FS9("matTooltip",i.bMT(9,12,"lang_business_news_add_new_post_button")),i.Y8G("disabled",""==E.commentContentFormControl.value||E.statusObj.loading),i.R7$(2),i.Y8G("ngIf",E.statusObj.loading),i.R7$(1),i.Y8G("ngClass",i.lJ4(14,St)))},dependencies:[T.YU,T.bT,vt.fg,Mt.rl,x.oV,it.me,it.BC,it.l_,Zt.p,rt.j,Jt.Z,yt.R,Nt.WGl,jt.wp],encapsulation:2}),ht})();function J(M,ht){1&M&&i.nrm(0,"azt-loading-ui",9)}let Y=(()=>{var M;class ht extends xe._{btnCloseDialog(F){this.dialogRef.close(F)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:F=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}constructor(F,E,_t){super(_t,E),this.newsService=F,this.dialogRef=E,this.data=_t,this.postObj=_t.postObj,this.commentObj=_t.commentObj}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(ae.CP,8),i.rXU(ae.Vh,8))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[i.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(F,E){1&F&&(i.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),i.EFF(5),i.nI1(6,"mytranslate"),i.j41(7,"b",4),i.EFF(8),i.k0s(),i.EFF(9,"? "),i.k0s()()()(),i.j41(10,"div",5)(11,"button",6),i.bIt("click",function(){return E.btnCloseDialog(!1)}),i.EFF(12),i.nI1(13,"mytranslate"),i.k0s(),i.j41(14,"button",7),i.bIt("click",function(){return E.confirmDelete()}),i.DNE(15,J,1,0,"azt-loading-ui",8),i.EFF(16),i.nI1(17,"mytranslate"),i.k0s()()()),2&F&&(i.R7$(5),i.SpI(" ",i.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),i.R7$(3),i.JRh(E.commentObj.content),i.R7$(4),i.SpI(" ",i.bMT(13,7,"lang_cms_common_close_btn")," "),i.R7$(3),i.Y8G("ngIf",E.statusObj.loading),i.R7$(1),i.SpI(" ",i.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[T.bT,Se.U,yt.R,jt.wp],encapsulation:2}),ht})();const ft=function(){return{"text-slate-500":!0}};function Bt(M,ht){if(1&M&&(i.j41(0,"button",15),i.nrm(1,"lucide-icon",16),i.k0s()),2&M){i.XpG();const U=i.sdS(12);i.Y8G("matMenuTriggerFor",U),i.R7$(1),i.Y8G("ngClass",i.lJ4(2,ft))}}const qt=function(){return{"mr-2":!0}};function he(M,ht){if(1&M){const U=i.RV6();i.j41(0,"li")(1,"a",17),i.bIt("click",function(){i.eBV(U);const E=i.XpG();return i.Njj(E.editCommentEvent())}),i.nrm(2,"lucide-icon",18),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s()()}2&M&&(i.R7$(2),i.Y8G("ngClass",i.lJ4(4,qt)),i.R7$(1),i.SpI(" ",i.bMT(4,2,"lang_auto_sua")," "))}const Qe=function(){return{"mr-2 text-danger":!0}};function pn(M,ht){if(1&M){const U=i.RV6();i.j41(0,"li")(1,"a",19),i.bIt("click",function(){i.eBV(U);const E=i.XpG();return i.Njj(E.deleteCommentEvent())}),i.nrm(2,"lucide-icon",20),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s()()}2&M&&(i.R7$(2),i.Y8G("ngClass",i.lJ4(4,Qe)),i.R7$(1),i.SpI(" ",i.bMT(4,2,"lang_auto_xoa")," "))}let ln=(()=>{var M;class ht extends n.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:At.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(Y,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(E=>{E&&this.changeCommentObjEvent.emit({actionType:At.DELETE,commentObj:this.commentObj})})}constructor(F){super(),this.sAztDialogService=F,this.changeCommentObjEvent=new i.bkB}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(A.i))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[i.Jv_([O.h]),i.Vt3],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(F,E){1&F&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"azt-create-avatar",2),i.k0s(),i.j41(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),i.EFF(7),i.k0s(),i.nrm(8,"azt-see-more-multiple-lines",6),i.k0s(),i.j41(9,"div",7),i.DNE(10,Bt,2,3,"button",8),i.j41(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),i.DNE(15,he,5,5,"li",13),i.DNE(16,pn,5,5,"li",13),i.k0s()()()()(),i.j41(17,"div",14),i.EFF(18),i.nI1(19,"relativeTime"),i.k0s()()()),2&F&&(i.R7$(2),i.Y8G("nameCreateAvatar",null==E.commentObj.user?null:E.commentObj.user.fullName)("linkAvatar",null==E.commentObj.user?null:E.commentObj.user.avatar)("size",30),i.R7$(5),i.SpI(" ",null==E.commentObj.user?null:E.commentObj.user.fullName,"\xa0 "),i.R7$(1),i.Y8G("content",E.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),i.R7$(2),i.Y8G("ngIf",E.commentObj.allowDelete||E.commentObj.allowEdit),i.R7$(5),i.Y8G("ngIf",E.commentObj.allowEdit),i.R7$(1),i.Y8G("ngIf",E.commentObj.allowDelete),i.R7$(2),i.JRh(i.bMT(19,11,E.commentObj.createdAt)))},dependencies:[T.YU,T.bT,Pt.kk,Pt.Cp,Zt.p,Ut.R,Nt.WGl,jt.wp,jt.NA],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),ht})();function cn(M,ht){1&M&&i.nrm(0,"azt-loading-ui",11)}const $e=function(){return{"text-primary":!0}};let gn=(()=>{var M;class ht extends n.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var F={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,F).subscribe({next:E=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=F.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(F,E){super(),this.newsService=F,this.userService=E,this.changeCommentObjEvent=new i.bkB,this.commentContentFormControl=new it.MJ("",{nonNullable:!0,validators:[mt.M.noWhiteSpace]})}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(V.R))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[i.Vt3],decls:16,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(F,E){1&F&&(i.j41(0,"div",0),i.nrm(1,"azt-create-avatar",1),i.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),i.bIt("enterKey",function(){return!(""==E.commentContentFormControl.value||E.statusObj.loading)&&E.saveNewComment()}),i.nI1(5,"mytranslate"),i.EFF(6,"            "),i.k0s()(),i.j41(7,"div",5)(8,"div",6)(9,"button",7),i.bIt("click",function(){return E.cancel()}),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s(),i.j41(12,"button",8),i.bIt("click",function(){return E.saveNewComment()}),i.nI1(13,"mytranslate"),i.DNE(14,cn,1,0,"azt-loading-ui",9),i.nrm(15,"lucide-icon",10),i.k0s()()()()()),2&F&&(i.R7$(1),i.Y8G("nameCreateAvatar",E.userObj.fullName)("linkAvatar",E.userObj.avatar)("size",30),i.R7$(3),i.FS9("placeholder",i.bMT(5,11,"lang_core_viet_binh_luan")),i.Y8G("enableInMobile",!1)("formControl",E.commentContentFormControl),i.R7$(6),i.SpI(" ",i.bMT(11,13,"lang_cms_common_close_btn")," "),i.R7$(2),i.FS9("matTooltip",i.bMT(13,15,"lang_business_news_add_new_post_button")),i.Y8G("disabled",""==E.commentContentFormControl.value||E.statusObj.loading),i.R7$(2),i.Y8G("ngIf",E.statusObj.loading),i.R7$(1),i.Y8G("ngClass",i.lJ4(17,$e)))},dependencies:[T.YU,T.bT,vt.fg,Mt.rl,x.oV,it.me,it.BC,it.l_,Zt.p,rt.j,Jt.Z,yt.R,Nt.WGl,jt.wp],encapsulation:2}),ht})();function hn(M,ht){if(1&M){const U=i.RV6();i.qex(0),i.j41(1,"app-news-view-comment",6),i.bIt("changeCommentObjEvent",function(E){i.eBV(U);const _t=i.XpG(2);return i.Njj(_t.changeCommentObj(E.actionType,E.commentObj))}),i.k0s(),i.bVm()}if(2&M){const U=i.XpG().$implicit,F=i.XpG();i.R7$(1),i.Y8G("postObj",F.postObj)("commentObj",U)}}function mn(M,ht){if(1&M){const U=i.RV6();i.j41(0,"div",2)(1,"app-news-edit-comment",6),i.bIt("changeCommentObjEvent",function(E){i.eBV(U);const _t=i.XpG(2);return i.Njj(_t.changeCommentObj(_t.enumNewsCommentActionType.UPDATE,E))}),i.k0s()()}if(2&M){const U=i.XpG().$implicit,F=i.XpG();i.R7$(1),i.Y8G("postObj",F.postObj)("commentObj",U)}}function en(M,ht){if(1&M&&(i.j41(0,"div"),i.DNE(1,hn,2,2,"ng-container",4),i.DNE(2,mn,2,2,"ng-template",null,5,i.C5r),i.k0s()),2&M){const U=ht.$implicit,F=i.sdS(3);i.R7$(1),i.Y8G("ngIf",!U.isShowEditForm)("ngIfElse",F)}}function nn(M,ht){1&M&&i.nrm(0,"azt-loading-ui",10)}function on(M,ht){if(1&M){const U=i.RV6();i.j41(0,"div",7)(1,"button",8),i.bIt("click",function(){i.eBV(U);const E=i.XpG();return i.Njj(!E.sAztNextPaginationService.isLoadingNextPage&&E.getNextPage())}),i.EFF(2),i.nI1(3,"mytranslate"),i.DNE(4,nn,1,0,"azt-loading-ui",9),i.k0s()()}if(2&M){const U=i.XpG();i.R7$(2),i.SpI(" ",i.bMT(3,2,"lang_business_news_load_more_comments")," "),i.R7$(2),i.Y8G("ngIf",U.sAztNextPaginationService.isLoadingNextPage)}}let st=(()=>{var M;class ht extends n.H{changeCommentObj(F,E){F==At.ADD_NEW?(this.commentObjs.unshift(E),this.postObj.totalComment+=1):F==At.UPDATE?this.commentObjs=this.commentObjs.map(_t=>_t.id==E.id?E:_t):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(_t=>_t.id!=E.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(F){F?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:E=>{E.list.forEach(_t=>{this.commentObjs.push({..._t,isShowEditForm:!1,allowEdit:_t.tenantId==this.userObj.id,allowDelete:!this.isStudent||_t.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(E.total),this.stopStatusObj()},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(F,E,_t){super(),this.newsService=F,this.userService=E,this.sAztNextPaginationService=_t,this.commentObjs=[],this.enumNewsCommentActionType=At,this.userObj=this.userService.getUserObj()}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(V.R),i.rXU(O.h))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[i.Jv_([O.h]),i.Vt3],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(F,E){1&F&&(i.DNE(0,en,4,2,"div",0),i.DNE(1,on,5,4,"div",1),i.j41(2,"div",2)(3,"app-news-add-new-comments",3),i.bIt("changeCommentObjEvent",function(be){return E.changeCommentObj(E.enumNewsCommentActionType.ADD_NEW,be)}),i.k0s()()),2&F&&(i.Y8G("ngForOf",E.commentObjs),i.R7$(1),i.Y8G("ngIf",E.commentObjs.length&&E.sAztNextPaginationService.hasNextPage),i.R7$(2),i.Y8G("postObj",E.postObj))},dependencies:[T.Sq,T.bT,yt.R,lt,ln,gn,jt.wp],encapsulation:2}),ht})();function Yt(M,ht){1&M&&(i.j41(0,"div",2)(1,"span",3),i.nrm(2,"lucide-icon",4),i.k0s(),i.j41(3,"span"),i.EFF(4),i.nI1(5,"mytranslate"),i.k0s()()),2&M&&(i.R7$(4),i.JRh(i.bMT(5,1,"lang_student_comment_feature_disabled")))}const ot=function(M){return{clickable:M}},nt=function(M,ht){return{"heart-selected":M,"heart-non-selected":ht}};function at(M,ht){if(1&M){const U=i.RV6();i.j41(0,"div",5)(1,"div",6),i.nI1(2,"isParentViewOnly"),i.j41(3,"button",7),i.bIt("click",function(){i.eBV(U);const E=i.XpG();return i.Njj(E.changeEmotionEvent())}),i.nI1(4,"isParentViewOnly"),i.nrm(5,"lucide-icon",8),i.k0s(),i.j41(6,"span"),i.EFF(7),i.k0s()(),i.j41(8,"div",9),i.nI1(9,"isParentViewOnly"),i.j41(10,"button",10),i.bIt("click",function(){i.eBV(U);const E=i.XpG();return i.Njj(E.showCommentObjs())}),i.nI1(11,"isParentViewOnly"),i.nrm(12,"lucide-icon",11),i.k0s(),i.j41(13,"span"),i.EFF(14),i.k0s()()()}if(2&M){const U=i.XpG();i.R7$(1),i.Y8G("ngClass",i.eq3(15,ot,!i.bMT(2,7,""))),i.R7$(2),i.Y8G("disabled",i.bMT(4,9,"")),i.R7$(2),i.Y8G("ngClass",i.l_i(17,nt,U.postObj.hasLoveEmotion,!U.postObj.hasLoveEmotion)),i.R7$(2),i.JRh(U.postObj.totalEmotion),i.R7$(1),i.Y8G("ngClass",i.eq3(20,ot,!i.bMT(9,11,""))),i.R7$(2),i.Y8G("disabled",i.bMT(11,13,"")),i.R7$(4),i.JRh(U.postObj.totalComment)}}let Ht=(()=>{var M;class ht extends n.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:F=>{this.successStatusObj()},error:F=>{this.errorStatusObj(F.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(F){super(),this.newsService=F,this.changePostObjEvent=new i.bkB}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[i.Vt3],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"mr-2","zoom-in","heart-label",3,"disabled","click"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"disabled","click"],["name","message-square","size","20"]],template:function(F,E){1&F&&(i.DNE(0,Yt,6,3,"div",0),i.DNE(1,at,15,22,"div",1)),2&F&&(i.Y8G("ngIf",E.postObj.isLockComment),i.R7$(1),i.Y8G("ngIf",!E.postObj.isLockComment))},dependencies:[T.YU,T.bT,Nt.WGl,jt.wp,jt.hx],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}  .heart-selected svg{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),ht})();var ue=p(40111);function Kt(M,ht){if(1&M){const U=i.RV6();i.j41(0,"a",3),i.bIt("click",function(){const _t=i.eBV(U).$implicit,be=i.XpG();return i.Njj(be.onShowFile(_t))}),i.nrm(1,"img",4),i.k0s()}if(2&M){const U=ht.$implicit;i.R7$(1),i.Y8G("src",U.imageLink,i.B4B)}}let Ie=(()=>{var M;class ht extends n.H{onShowFile(F){this.sAztDialogService.open(Q.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+F.id,mimes:"image/jpeg",url:F.imageLink,index:-1}},restoreFocus:!1})}constructor(F,E){super(),this.sAztDialogService=F,this.sAztFileTypeService=E,this.images=[]}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(A.i),i.rXU(ue.k))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[i.Vt3],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(F,E){1&F&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,Kt,2,1,"a",2),i.k0s()()),2&F&&(i.R7$(2),i.Y8G("ngForOf",E.images))},dependencies:[T.Sq],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),ht})();function ce(M,ht){if(1&M&&i.eu8(0,14),2&M){i.XpG();const U=i.sdS(17);i.Y8G("ngTemplateOutlet",U)}}function Fe(M,ht){if(1&M&&(i.j41(0,"div"),i.nrm(1,"hr",10)(2,"app-news-list-comments",15),i.k0s()),2&M){const U=i.XpG();i.R7$(2),i.Y8G("isStudent",U.isStudent)("postObj",U.postObj)}}const ne=function(){return{"text-slate-500":!0}},fe=function(){return{"mr-2":!0}};function je(M,ht){if(1&M){const U=i.RV6();i.j41(0,"div",16)(1,"button",17),i.nrm(2,"lucide-icon",18),i.k0s(),i.j41(3,"mat-menu",19,20)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),i.bIt("click",function(){i.eBV(U);const E=i.XpG();return i.Njj(E.editPostEvent())}),i.nrm(9,"lucide-icon",24),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s()(),i.j41(12,"li")(13,"a",25),i.bIt("click",function(){i.eBV(U);const E=i.XpG();return i.Njj(E.deletePostEvent())}),i.nrm(14,"lucide-icon",26),i.EFF(15),i.nI1(16,"mytranslate"),i.k0s()(),i.j41(17,"li")(18,"label",27),i.bIt("click",function(E){return E.stopPropagation()}),i.j41(19,"div",28),i.nrm(20,"lucide-icon",29),i.EFF(21),i.nI1(22,"mytranslate"),i.k0s(),i.j41(23,"div",30)(24,"input",31),i.bIt("change",function(){i.eBV(U);const E=i.XpG();return i.Njj(E.changeLockCommentStatus())}),i.k0s()()()()()()()()}if(2&M){const U=i.sdS(4),F=i.XpG();i.R7$(1),i.Y8G("matMenuTriggerFor",U),i.R7$(1),i.Y8G("ngClass",i.lJ4(15,ne)),i.R7$(7),i.Y8G("ngClass",i.lJ4(16,fe)),i.R7$(1),i.SpI(" ",i.bMT(11,9,"lang_auto_sua")," "),i.R7$(4),i.Y8G("ngClass",i.lJ4(17,fe)),i.R7$(1),i.SpI(" ",i.bMT(16,11,"lang_auto_xoa")," "),i.R7$(5),i.Y8G("ngClass",i.lJ4(18,fe)),i.R7$(1),i.SpI(" ",i.bMT(22,13,"lang_student_comment_lock")," "),i.R7$(3),i.Y8G("formControl",F.isLockComment)}}let Le=(()=>{var M;class ht extends n.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Ne,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(E=>{E&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const F=this.isLockComment.value;this.waitDestroy((F?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const _t=F?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=F?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(_t)},error:_t=>{this.errorStatusObj(_t.error.message,!0)}}))}changeEmotionEventEvent(F){this.postObj=F,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(F,E){super(),this.sAztDialogService=F,this.newsService=E,this.changePostObjEvent=new i.bkB,this.isLockComment=new it.MJ(!1)}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(A.i),i.rXU(t.bH))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[i.Vt3],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(F,E){if(1&F&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"azt-create-avatar",2),i.k0s(),i.j41(3,"div",3)(4,"a",4),i.EFF(5),i.k0s(),i.j41(6,"div",5),i.EFF(7),i.nI1(8,"relativeTime"),i.k0s()()(),i.DNE(9,ce,1,1,"ng-container",6),i.j41(10,"div",7),i.nrm(11,"azt-see-more-multiple-lines",8),i.k0s(),i.nrm(12,"app-list-images-post",9)(13,"hr",10),i.j41(14,"app-news-emotions",11),i.bIt("changePostObjEvent",function(be){return E.changeEmotionEventEvent(be)}),i.k0s(),i.DNE(15,Fe,3,2,"div",12),i.DNE(16,je,25,19,"ng-template",null,13,i.C5r)),2&F){let _t;i.R7$(2),i.Y8G("nameCreateAvatar",null==E.postObj.user?null:E.postObj.user.fullName)("linkAvatar",null==E.postObj.user?null:E.postObj.user.avatar)("size",36),i.R7$(3),i.SpI("",null==E.postObj.user?null:E.postObj.user.fullName,"\xa0"),i.R7$(2),i.JRh(i.bMT(8,11,E.postObj.createdAt)),i.R7$(2),i.Y8G("ngIf",!E.isStudent),i.R7$(2),i.Y8G("content",E.postObj.content)("maxLine",0==(null!==(_t=null==E.postObj.images?null:E.postObj.images.length)&&void 0!==_t?_t:0)?E.postObj.content.length:10),i.R7$(1),i.Y8G("images",E.postObj.images),i.R7$(2),i.Y8G("postObj",E.postObj),i.R7$(1),i.Y8G("ngIf",E.postObj.isShowCommentBox)}},dependencies:[T.YU,T.bT,T.T3,Pt.kk,Pt.Cp,it.Zm,it.BC,it.l_,Zt.p,Ut.R,Nt.WGl,st,Ht,Ie,jt.wp,jt.NA],encapsulation:2}),ht})();function Be(M,ht){if(1&M){const U=i.RV6();i.j41(0,"app-new-list-images",13),i.bIt("filesChange",function(E){i.eBV(U);const _t=i.XpG();return i.Njj(_t.files=E)}),i.k0s()}if(2&M){const U=i.XpG();i.Y8G("files",U.files)}}function Cn(M,ht){1&M&&i.nrm(0,"azt-loading-ui",14)}const Ge=function(M){return[M]},B=function(){return{"zoom-in":!0}};let Ot=(()=>{var M;class ht extends n.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let F={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(E=>E.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,F).subscribe({next:E=>{this.successStatusObj("lang_cms_update_success",!0);let _t=[];this.files.forEach(be=>{_t.push({id:0,newsId:this.postObj?.id??0,imageLink:be.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=F.content,this.postObj.images=_t,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}}handleUploadComplete(F){this.files.push(...F)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(F=>{this.files.push({name:"",mimes:"image/jpeg",url:F.imageLink})})}constructor(F,E){super(),this.newsService=F,this.userService=E,this.changePostObjEvent=new i.bkB,this.contentFormControl=new it.MJ("",{nonNullable:!0,validators:[mt.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=Rt.b8,this.allUploadFileTypes=Rt.PO}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(V.R))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[i.Vt3],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"files","filesChange"],[1,"mr-1"]],template:function(F,E){1&F&&(i.j41(0,"div")(1,"div",0),i.nrm(2,"azt-create-avatar",1),i.j41(3,"div",2)(4,"textarea",3),i.nI1(5,"mytranslate"),i.EFF(6,"            "),i.k0s()()(),i.DNE(7,Be,1,1,"app-new-list-images",4),i.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),i.bIt("uploadComplete",function(be){return E.handleUploadComplete(be)}),i.j41(11,"span",8),i.nrm(12,"lucide-icon",9),i.nI1(13,"mytranslate"),i.k0s()(),i.j41(14,"button",10),i.bIt("click",function(){return E.cancel()}),i.EFF(15),i.nI1(16,"mytranslate"),i.k0s(),i.j41(17,"button",11),i.bIt("click",function(){return E.saveNewPost()}),i.DNE(18,Cn,1,0,"azt-loading-ui",12),i.EFF(19),i.nI1(20,"mytranslate"),i.k0s()()()()),2&F&&(i.R7$(2),i.Y8G("nameCreateAvatar",E.userObj.fullName)("linkAvatar",E.userObj.avatar)("size",36),i.R7$(2),i.FS9("placeholder",i.bMT(5,14,"lang_business_news_post_content")),i.Y8G("formControl",E.contentFormControl),i.R7$(3),i.Y8G("ngIf",E.files.length),i.R7$(3),i.Y8G("uploadToCdnMenu",E.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",i.eq3(22,Ge,E.allUploadFileTypes.IMAGE)),i.R7$(2),i.FS9("matTooltip",i.bMT(13,16,"lang_core_tai_anh")),i.Y8G("ngClass",i.lJ4(24,B)),i.R7$(3),i.SpI(" ",i.bMT(16,18,"lang_cms_common_close_btn")," "),i.R7$(2),i.Y8G("disabled",""==E.contentFormControl.value||E.statusObj.loading),i.R7$(1),i.Y8G("ngIf",E.statusObj.loading),i.R7$(1),i.SpI(" ",i.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[T.YU,T.bT,vt.fg,x.oV,it.me,it.BC,it.l_,Zt.p,rt.j,yt.R,Et.V,Nt.WGl,Ct,jt.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),ht})();function R(M,ht){if(1&M){const U=i.RV6();i.j41(0,"div",10)(1,"app-news-add-new-post",11),i.bIt("changePostObjEvent",function(E){i.eBV(U);const _t=i.XpG();return i.Njj(_t.changePostObj(_t.enumNewsPostActionType.ADD_NEW,E))}),i.k0s()()}if(2&M){const U=i.XpG();i.R7$(1),i.Y8G("classroomId",U.classroomId)("isSchool",U.isSchoolControl.getRawValue())}}function H(M,ht){if(1&M&&(i.j41(0,"div",12),i.nrm(1,"azt-loading-effect",13),i.k0s()),2&M){const U=i.XpG();i.R7$(1),i.Y8G("currentStatusObj",U.statusObj)}}function X(M,ht){if(1&M){const U=i.RV6();i.qex(0),i.j41(1,"app-news-view-post",18),i.bIt("changePostObjEvent",function(E){i.eBV(U);const _t=i.XpG(3);return i.Njj(_t.changePostObj(E.actionType,E.postObj))}),i.k0s(),i.bVm()}if(2&M){const U=i.XpG().$implicit,F=i.XpG(2);i.R7$(1),i.Y8G("isStudent",F.isStudent)("postObj",U)}}function pt(M,ht){if(1&M){const U=i.RV6();i.j41(0,"app-news-edit-post",19),i.bIt("changePostObjEvent",function(E){i.eBV(U);const _t=i.XpG(3);return i.Njj(_t.changePostObj(_t.enumNewsPostActionType.UPDATE,E))}),i.k0s()}if(2&M){const U=i.XpG().$implicit,F=i.XpG(2);i.Y8G("postObj",U)("classroomId",F.classroomId)}}function Vt(M,ht){if(1&M&&(i.j41(0,"div",15),i.DNE(1,X,2,2,"ng-container",16),i.DNE(2,pt,1,2,"ng-template",null,17,i.C5r),i.k0s()),2&M){const U=ht.$implicit,F=i.sdS(3);i.R7$(1),i.Y8G("ngIf",!U.isShowEditForm)("ngIfElse",F)}}function ge(M,ht){1&M&&(i.j41(0,"div",10)(1,"div",20)(2,"div",21),i.nrm(3,"azt-svg-icon",22),i.j41(4,"p",23),i.EFF(5),i.nI1(6,"mytranslate"),i.k0s()()()()),2&M&&(i.R7$(3),i.Y8G("size",87),i.R7$(2),i.JRh(i.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function me(M,ht){1&M&&i.nrm(0,"azt-loading-ui")}function ze(M,ht){if(1&M){const U=i.RV6();i.j41(0,"button",26),i.bIt("click",function(){i.eBV(U);const E=i.XpG(3);return i.Njj(E.getNextPage())}),i.nI1(1,"mytranslate"),i.nrm(2,"lucide-icon",27),i.k0s()}2&M&&i.FS9("matTooltip",i.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Pe(M,ht){if(1&M&&(i.j41(0,"div",10)(1,"div",24),i.DNE(2,me,1,0,"azt-loading-ui",16),i.DNE(3,ze,3,3,"ng-template",null,25,i.C5r),i.k0s()()),2&M){const U=i.sdS(4),F=i.XpG(2);i.R7$(2),i.Y8G("ngIf",F.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",U)}}function fn(M,ht){if(1&M&&(i.DNE(0,Vt,4,2,"div",14),i.DNE(1,ge,7,4,"div",7),i.DNE(2,Pe,5,2,"div",7)),2&M){const U=i.XpG();i.Y8G("ngForOf",U.postObjs),i.R7$(1),i.Y8G("ngIf",U.postObjs.length<=0),i.R7$(1),i.Y8G("ngIf",U.postObjs.length&&U.sAztNextPaginationService.hasNextPage)}}let Ze=(()=>{var M;class ht extends n.H{selectedViewNewsSchool(F){let E=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";F?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(E,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(E,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(F,E){switch(F){case e.ADD_NEW:this.postObjs.unshift(E);break;case e.UPDATE:this.postObjs=this.postObjs.map(_t=>_t.id==E.id?E:_t);break;case e.DELETE:this.postObjs=this.postObjs.filter(_t=>_t.id!=E.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(F){var E={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};F?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(E).subscribe({next:_t=>{let be={page:1,size:-1,newsIds:_t.list.map(Qt=>Qt.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(be).subscribe({next:Qt=>{let Oe=this.commonService.arrayToUniqueDictionary(Qt.list??[],ct=>ct.newsId.toString());_t.list.forEach(ct=>{this.postObjs.push({...ct,hasLoveEmotion:Oe.hasOwnProperty(ct.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(_t.total),this.stopStatusObj()},error:Qt=>{this.errorStatusObj(Qt.error.message,!0)}}))},error:_t=>{this.errorStatusObj(_t.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(F,E){super(),this.newsService=F,this.sAztNextPaginationService=E,this.isSchoolControl=new it.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=e}}return(M=ht).\u0275fac=function(F){return new(F||M)(i.rXU(t.bH),i.rXU(O.h))},M.\u0275cmp=i.VBU({type:M,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[i.Jv_([O.h]),i.Vt3,i.OA$],decls:19,vars:16,consts:[[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","classroom",1,"pl-2","form-check-label"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","school",1,"pl-2","form-check-label"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","isSchool","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["doneLoadNextPage",""],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["name","chevron-down","size","20"]],template:function(F,E){if(1&F&&(i.j41(0,"div",0)(1,"div",1)(2,"p"),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s(),i.j41(5,"div",2)(6,"input",3),i.bIt("click",function(){return E.selectedViewNewsSchool(!1)}),i.k0s(),i.j41(7,"label",4),i.EFF(8),i.nI1(9,"mytranslate"),i.k0s()(),i.j41(10,"div",2)(11,"input",5),i.bIt("click",function(){return E.selectedViewNewsSchool(!0)}),i.k0s(),i.j41(12,"label",6),i.EFF(13),i.nI1(14,"mytranslate"),i.k0s()()(),i.DNE(15,R,2,2,"div",7),i.DNE(16,H,2,1,"div",8),i.DNE(17,fn,3,3,"ng-template",null,9,i.C5r),i.k0s()),2&F){const _t=i.sdS(18);i.R7$(3),i.JRh(i.bMT(4,10,"lang_azt_hien_ban_tin_theo")),i.R7$(3),i.Y8G("value",0)("formControl",E.isSchoolControl),i.R7$(2),i.JRh(i.bMT(9,12,"lang_auto_lop_hoc")),i.R7$(3),i.Y8G("value",1)("formControl",E.isSchoolControl),i.R7$(2),i.JRh(i.bMT(14,14,"lang_azt_truong_hoc")),i.R7$(2),i.Y8G("ngIf",!E.isStudent),i.R7$(1),i.Y8G("ngIf",E.statusObj.loading)("ngIfElse",_t)}},dependencies:[T.Sq,T.bT,x.oV,it.me,it.Fm,it.BC,it.l_,o.K,yt.R,Dt.m,Nt.WGl,Xt,Le,Ot,jt.wp],encapsulation:2}),ht})()},44658:(Me,Wt,p)=>{p.d(Wt,{e:()=>Et});var O=p(10936),n=p(33887),e=p(38009),it=p(80037),i=p(26860),t=p(19548),T=p(3780),x=p(54460),o=p(89163);function yt(Q,A){1&Q&&(i.j41(0,"div",11)(1,"span",12),i.nrm(2,"azt-loading-ui"),i.k0s()())}function Dt(Q,A){if(1&Q&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&Q){const Z=i.XpG(2);i.R7$(1),i.JRh(" ("+Z.dataUpgradeClass.length+" "+i.bMT(2,1,"lang_testbank_test_list_classes")+")")}}function Nt(Q,A){1&Q&&(i.j41(0,"div",25),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&Q&&(i.R7$(1),i.SpI("",i.bMT(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function mt(Q,A){if(1&Q){const Z=i.RV6();i.j41(0,"input",36),i.bIt("keyup",function(){i.eBV(Z);const Ct=i.XpG().index,jt=i.XpG(2);return i.Njj(jt.validateInput(Ct))}),i.nI1(1,"mytranslate"),i.k0s()}if(2&Q){const Z=i.XpG(),Ct=Z.$implicit;i.Mz_("id","input-event-",Z.index,""),i.FS9("value",Ct.nameClass),i.FS9("placeholder",i.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function Rt(Q,A){if(1&Q){const Z=i.RV6();i.j41(0,"textarea",37),i.bIt("keyup",function(){i.eBV(Z);const Ct=i.XpG().index,jt=i.XpG(2);return i.Njj(jt.validateInput(Ct))}),i.nI1(1,"mytranslate"),i.k0s()}if(2&Q){const Z=i.XpG(),Ct=Z.$implicit;i.Mz_("id","input-event-",Z.index,""),i.FS9("value",Ct.nameClass),i.FS9("placeholder",i.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function V(Q,A){if(1&Q){const Z=i.RV6();i.j41(0,"div",26)(1,"div",27)(2,"div",28),i.DNE(3,mt,2,5,"input",29),i.DNE(4,Rt,2,5,"textarea",30),i.k0s(),i.j41(5,"div",31)(6,"button",32),i.bIt("click",function(){const jt=i.eBV(Z).$implicit,tt=i.XpG(2);return i.Njj(tt.clearInput(jt.id))}),i.nrm(7,"lucide-icon",33),i.k0s()()(),i.j41(8,"div",34,35),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s()()}if(2&Q){const Z=A.index,z=i.XpG(2);i.R7$(3),i.Y8G("ngIf",0==z.isMobile),i.R7$(1),i.Y8G("ngIf",1==z.isMobile),i.R7$(4),i.Mz_("id","logerror",Z,""),i.R7$(2),i.SpI(" ",i.bMT(11,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function vt(Q,A){if(1&Q){const Z=i.RV6();i.j41(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox",16),i.bIt("changeCheckboxEvent",function(){i.eBV(Z);const Ct=i.XpG();return i.Njj(Ct.changeCheckboxEvent())})("createdNewClassroom",function(){i.eBV(Z);const Ct=i.XpG();return i.Njj(Ct.isCreatedNewClassroom=!0)}),i.k0s()(),i.j41(4,"div",17)(5,"div",18),i.EFF(6),i.nI1(7,"mytranslate"),i.DNE(8,Dt,3,3,"span",19),i.k0s(),i.j41(9,"div",20)(10,"ng-scrollbar",21),i.DNE(11,Nt,3,3,"div",22),i.j41(12,"div",23),i.DNE(13,V,12,6,"div",24),i.k0s()()()()()()}if(2&Q){const Z=i.XpG();i.Y8G("formGroup",Z.form),i.R7$(3),i.Y8G("form",Z.form)("classroomGroupData",Z.classroomWithGroup)("permissionName",Z.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),i.R7$(3),i.SpI(" ",i.bMT(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),i.R7$(2),i.Y8G("ngIf",Z.dataUpgradeClass.length),i.R7$(2),i.Y8G("visibility","hover")("autoHeightDisabled",!0),i.R7$(1),i.Y8G("ngIf",0==Z.dataUpgradeClass.length),i.R7$(2),i.Y8G("ngForOf",Z.dataUpgradeClass)}}function rt(Q,A){1&Q&&i.nrm(0,"azt-loading-ui",38)}let Et=(()=>{var Q;class A extends n._{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(z){let Ct=document.getElementById("input-event-"+z),jt=Ct?Ct.value:"";if(""==jt){let tt=document.getElementById("logerror"+z);tt&&(tt.style.display="block")}if(""!=jt){let tt=document.getElementById("logerror"+z);tt&&(tt.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let z=!0;this.sendDataUpgradeClass=[];for(let Ct=0;Ct<this.dataUpgradeClass.length;Ct++){let jt=document.getElementById("input-event-"+Ct),tt=jt?jt.value:"";""==tt&&(z=!1),this.validateInput(Ct),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[Ct].id,newName:tt,year:this.increaseYear(this.dataUpgradeClass[Ct].year)})}1==z&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(z){if(null!=z||null!=z){let Ct=z.split(" ")[0],jt=parseInt(Ct,10)+1;return jt+" - "+(jt+1)}}changeCheckboxEvent(){const z=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),Ct=z.concat(this.dataUpgradeClass.map(tt=>tt.id??0));let jt=Ct.filter(tt=>Ct.indexOf(tt)===Ct.lastIndexOf(tt));z.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(tt=>jt.includes(tt.id??0)).map(tt=>{let Xt,Tt=tt.name,zt=tt.year,Gt=Tt?.match(/\d+/g);if(null==Gt)Xt=Tt;else{let ae=parseInt(Gt[0].toString(),10)+1;Xt=Tt?.replace(Gt[0],ae.toString())}return{id:tt.id,nameClass:Xt,year:zt}})):jt.forEach(tt=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(Tt=>Tt.id===tt),1)})}clearInput(z){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+z)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var z=[],Ct=0;Ct<this.sendDataUpgradeClass.length;Ct++)z.push({oldId:this.sendDataUpgradeClass[Ct].oldId??0,newName:this.sendDataUpgradeClass[Ct].newName??"",year:this.sendDataUpgradeClass[Ct].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(z).subscribe(jt=>{1==jt.success?(jt.data?.isDuplicatedClassroomName?this.errorStatusObj(jt.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(z=>{z.success?(this.classroomWithGroup=z.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(Ct=>Ct.classroomObjs)),this.successStatusObj()):this.errorStatusObj(z.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(z,Ct,jt,tt){super(void 0,tt),this.classroomGroupService=z,this.sAztClassroomCheckboxService=Ct,this.location=jt,this.dialogRef=tt,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.t,this.classroomWithGroup=[],this.form=new O.gE({classroomFormArray:new O.Yp([]),whoAllow:new O.MJ(0,{nonNullable:!0})},{validators:[it.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return(Q=A).\u0275fac=function(z){return new(z||Q)(i.rXU(t.kG),i.rXU(T.Q),i.rXU(x.aZ),i.rXU(o.CP,8))},Q.\u0275cmp=i.VBU({type:Q,selectors:[["app-create-class-new-course"]],features:[i.Vt3],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent","createdNewClassroom"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["name","x","size","20"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"mr-1"]],template:function(z,Ct){if(1&z&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),i.EFF(4),i.nI1(5,"mytranslate"),i.k0s(),i.j41(6,"div",4),i.EFF(7),i.nI1(8,"mytranslate"),i.k0s()(),i.DNE(9,yt,3,0,"div",5),i.DNE(10,vt,14,13,"ng-template",null,6,i.C5r),i.k0s(),i.j41(12,"div",7)(13,"button",8),i.bIt("click",function(){return Ct.closeDialog()}),i.EFF(14),i.nI1(15,"mytranslate"),i.k0s(),i.j41(16,"button",9),i.bIt("click",function(){return Ct.handleUpgrade()}),i.DNE(17,rt,1,0,"azt-loading-ui",10),i.EFF(18),i.nI1(19,"mytranslate"),i.k0s()()()),2&z){const jt=i.sdS(11);i.R7$(4),i.SpI(" ",i.bMT(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),i.R7$(3),i.JRh(i.bMT(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),i.R7$(2),i.Y8G("ngIf",Ct.statusObj.loading)("ngIfElse",jt),i.R7$(5),i.SpI(" ",i.bMT(15,12,"lang_button_cancel")," "),i.R7$(2),i.Y8G("disabled",Ct.form.invalid),i.R7$(1),i.Y8G("ngIf",Ct.statusObj.loading),i.R7$(1),i.SpI(" ",i.bMT(19,14,"lang_button_save")," ")}},encapsulation:2}),A})()},62484:(Me,Wt,p)=>{p.d(Wt,{I:()=>Ur});var O=p(65162),n=p(1133),e=p(50866),it=p(76627),i=p(59640),t=p(26860),T=p(46134),x=p(54460),o=p(96451),yt=p(15343),Dt=p(66067),Nt=p(26988),mt=p(27208),Rt=p(9280),V=p(17818),vt=p(18718),rt=p(52811),Et=p(32099),Q=p(94743),A=p(47712),Z=p(69135),z=p(76975);function Ct(r,f){1&r&&(t.nrm(0,"lucide-icon",11),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function jt(r,f){1&r&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function tt(r,f){if(1&r&&(t.j41(0,"div")(1,"div",8),t.DNE(2,Ct,2,3,"lucide-icon",9),t.DNE(3,jt,2,3,"lucide-icon",10),t.k0s()()),2&r){const l=t.XpG();t.R7$(2),t.Y8G("ngIf",1==l.document.homework.isPublished),t.R7$(1),t.Y8G("ngIf",1!=l.document.homework.isPublished)}}function Tt(r,f){1&r&&(t.nrm(0,"lucide-icon",15),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function zt(r,f){1&r&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Gt(r,f){if(1&r&&(t.j41(0,"div",13),t.DNE(1,Tt,2,3,"lucide-icon",14),t.DNE(2,zt,2,3,"lucide-icon",10),t.k0s()),2&r){const l=t.XpG();t.R7$(1),t.Y8G("ngIf",1==(null==l.document.exam?null:l.document.exam.isPublished)),t.R7$(1),t.Y8G("ngIf",1!=(null==l.document.exam?null:l.document.exam.isPublished))}}function Xt(r,f){if(1&r&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const l=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_luot_lam")+": "+l.document.exam.attended)}}function ae(r,f){if(1&r&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const l=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_da_nop")+": "+l.document.homework.count+"/"+l.document.homework.totalStudent)}}const xe=function(r){return{"mt-3":r}},Se=function(r){return{"w-2/3":r}},De=function(r){return{truncate:r}};let Ne=(()=>{var r;class f extends i.H{}return(r=f).\u0275fac=function(){let l;return function(c){return(l||(l=t.xGo(r)))(c||r)}}(),r.\u0275cmp=t.VBU({type:r,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.Vt3],decls:11,vars:17,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto",3,"ngClass"],[1,"font-medium",3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"text-primary"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-pending"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,tt,4,2,"div",2),t.DNE(3,Gt,3,2,"ng-template",null,3,t.C5r),t.k0s(),t.j41(5,"div",4)(6,"div",5,6),t.EFF(8),t.k0s(),t.DNE(9,Xt,4,3,"div",7),t.DNE(10,ae,4,3,"div",7),t.k0s()()),2&m){const g=t.sdS(4),D=t.sdS(7);t.Y8G("ngClass",t.eq3(11,xe,0!==c.index)),t.R7$(2),t.Y8G("ngIf",c.document.homework)("ngIfElse",g),t.R7$(3),t.Y8G("ngClass",t.eq3(13,Se,!c.isMobileDevice)),t.R7$(1),t.FS9("matTooltip",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name),t.Y8G("ngClass",t.eq3(15,De,!c.isMobileDevice))("isDisabledTooltip",!1)("matTooltipDisabled",D.isDisabled),t.R7$(2),t.SpI(" ",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name," "),t.R7$(1),t.Y8G("ngIf",c.document.exam),t.R7$(1),t.Y8G("ngIf",c.document.homework)}},dependencies:[x.YU,x.bT,A.oV,Z.f,yt.WGl,z.wp],encapsulation:2}),f})();function Pt(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",17),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function Zt(r,f){1&r&&(t.j41(0,"span",38),t.nrm(1,"azt-loading-ui"),t.k0s())}function Ut(r,f){1&r&&(t.j41(0,"span",39)(1,"span",40),t.EFF(2,"1"),t.k0s()())}function At(r,f){1&r&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",41),t.EFF(3,"1"),t.k0s()())}function Mt(r,f){1&r&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function Jt(r,f){1&r&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_search_results")))}const oe=function(){return{"mr-2":!0}};function St(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.backToDocumentList())}),t.nrm(1,"lucide-icon",44),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_quay_lai")))}function lt(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",17),2&r){const l=t.XpG(2);t.Y8G("currentStatusObj",l.statusObj)}}const J=function(r){return[r]},Y=function(r,f){return{backto:r,filterBy:f}};function ft(r,f){if(1&r&&(t.j41(0,"a",60),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const l=t.XpG(2),m=l.$implicit,c=l.index,g=t.XpG(6);t.Y8G("routerLink",t.eq3(6,J,t.bMT(1,4,"/admin/testbank/homework-results-list/"+m.homework.classroomId+"/"+m.homework.id+"/"+m.homework.hashId)))("queryParams",t.l_i(8,Y,"/admin/student/classroom-details/"+g.classroomId+"/1",g.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function Bt(r,f){if(1&r&&(t.j41(0,"a",62),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const l=t.XpG(2),m=l.$implicit,c=l.index,g=t.XpG(6);t.Y8G("routerLink",t.eq3(6,J,t.bMT(1,4,"/bai-tap/"+m.homework.hashId)))("queryParams",t.l_i(8,Y,"/student/classroom-details/"+g.classroomId+"/1",g.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function qt(r,f){if(1&r&&(t.qex(0),t.DNE(1,ft,3,11,"a",58),t.DNE(2,Bt,3,11,"a",59),t.bVm()),2&r){const l=t.XpG(7);t.R7$(1),t.Y8G("ngIf",!l.isStudent),t.R7$(1),t.Y8G("ngIf",l.isStudent)}}function he(r,f){if(1&r&&(t.j41(0,"a",65),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const l=t.XpG(2),m=l.$implicit,c=l.index,g=t.XpG(6);let D;t.Y8G("routerLink",t.eq3(6,J,t.bMT(1,4,"/admin/testbank/exam-results-list/"+(null!==(D=null==m.exam?null:m.exam.categoryId)&&void 0!==D?D:0)+"/"+(null==m.exam?null:m.exam.id)+"/0")))("queryParams",t.l_i(8,Y,"/admin/student/classroom-details/"+g.classroomId+"/1",g.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function Qe(r,f){if(1&r&&(t.j41(0,"a",66),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const l=t.XpG(2),m=l.$implicit,c=l.index,g=t.XpG(6);t.Y8G("routerLink",t.eq3(6,J,t.bMT(1,4,"/de-thi/"+(null==m.exam?null:m.exam.hashId))))("queryParams",t.l_i(8,Y,"/student/classroom-details/"+g.classroomId+"/1",g.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",c)}}function pn(r,f){if(1&r&&(t.DNE(0,he,3,11,"a",63),t.DNE(1,Qe,3,11,"a",64)),2&r){const l=t.XpG(7);t.Y8G("ngIf",!l.isStudent),t.R7$(1),t.Y8G("ngIf",l.isStudent)}}function ln(r,f){if(1&r&&(t.j41(0,"div",56),t.DNE(1,qt,3,2,"ng-container",46),t.DNE(2,pn,2,2,"ng-template",null,57,t.C5r),t.k0s()),2&r){const l=f.$implicit,m=t.sdS(3);t.R7$(1),t.Y8G("ngIf",l.homework)("ngIfElse",m)}}function cn(r,f){if(1&r&&(t.j41(0,"div",54),t.DNE(1,ln,4,2,"div",55),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",l.documentList)}}function $e(r,f){if(1&r){const l=t.RV6();t.j41(0,"div")(1,"div")(2,"button",50),t.bIt("click",function(){const g=t.eBV(l).$implicit;return t.Njj(g.isExpand=!g.isExpand)}),t.nrm(3,"lucide-icon",51),t.j41(4,"span",52),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"getDayOfWeek"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,cn,2,1,"div",53),t.k0s()}if(2&r){const l=f.$implicit;t.R7$(3),t.FS9("name",l.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(6,3,t.bMT(7,5,l.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,l.assignmentDate)),t.R7$(5),t.Y8G("ngIf",l.isExpand)}}function gn(r,f){1&r&&t.nrm(0,"azt-loading-ui",70)}function hn(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",67)(1,"button",68),t.bIt("click",function(){t.eBV(l);const c=t.XpG(4);return t.Njj(!c.sAztNextPaginationService.isLoadingNextPage&&c.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,gn,1,0,"azt-loading-ui",69),t.k0s()()}if(2&r){const l=t.XpG(4);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",l.sAztNextPaginationService.isLoadingNextPage)}}function mn(r,f){if(1&r&&(t.qex(0),t.DNE(1,$e,11,11,"div",48),t.DNE(2,hn,5,4,"div",49),t.bVm()),2&r){const l=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",l.listGroupDocumentObjs),t.R7$(1),t.Y8G("ngIf",l.sAztNextPaginationService.hasNextPage)}}function en(r,f){1&r&&(t.j41(0,"div",71)(1,"div",72),t.nrm(2,"azt-svg-icon",73),t.j41(3,"p",74),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&r&&(t.R7$(2),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function nn(r,f){if(1&r&&(t.j41(0,"div",45),t.DNE(1,mn,3,2,"ng-container",46),t.DNE(2,en,6,4,"ng-template",null,47,t.C5r),t.k0s()),2&r){const l=t.sdS(3),m=t.XpG(2);t.R7$(1),t.Y8G("ngIf",m.listGroupDocumentObjs.length>0)("ngIfElse",l)}}const on=function(){return{"mr-0 md:mr-2":!0}};function st(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"azt-search-box",23),t.bIt("onSearch",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.searchDocumentObjs(c.searchObj))}),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"button",24),t.DNE(8,Zt,2,0,"span",25),t.nrm(9,"lucide-icon",26),t.DNE(10,Ut,3,0,"span",27),t.j41(11,"span",28),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,At,4,0,"span",29),t.k0s()()(),t.j41(15,"div",30)(16,"button",31),t.nrm(17,"lucide-icon",32),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",33),t.DNE(21,Mt,3,3,"h2",34),t.DNE(22,Jt,3,3,"h2",34),t.DNE(23,St,5,5,"button",35),t.k0s(),t.j41(24,"div",36),t.DNE(25,lt,1,1,"azt-loading-effect",0),t.k0s(),t.DNE(26,nn,4,2,"ng-template",null,37,t.C5r),t.k0s()}if(2&r){const l=t.sdS(27),m=t.XpG(),c=t.sdS(4),g=t.sdS(25);t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(6,17,"lang_auto_tim_kiem"))("searchContentObj",m.searchContentObj),t.R7$(2),t.Y8G("matMenuTriggerFor",c),t.R7$(1),t.Y8G("ngIf",m.loadingFilter),t.R7$(1),t.Y8G("ngClass",t.lJ4(23,on)),t.R7$(1),t.Y8G("ngIf",""!=m.typeFilter),t.R7$(2),t.SpI(" ",t.bMT(13,19,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=m.typeFilter),t.R7$(2),t.Y8G("matMenuTriggerFor",g),t.R7$(1),t.Y8G("ngClass",t.lJ4(24,oe)),t.R7$(1),t.SpI(" ",t.bMT(19,21,"lang_student_new_assignment")," "),t.R7$(3),t.Y8G("ngIf",!m.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",m.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",m.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",m.searchContentObj.isLoading||m.loadingFilter)("ngIfElse",l)}}const Yt=function(){return{"ml-1":!0}};function ot(r,f){1&r&&t.nrm(0,"lucide-icon",75),2&r&&t.Y8G("ngClass",t.lJ4(1,Yt))}function nt(r,f){1&r&&t.nrm(0,"lucide-icon",75),2&r&&t.Y8G("ngClass",t.lJ4(1,Yt))}let at=(()=>{var r;class f extends i.H{changeFilter(m){this.typeFilter=m,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+m),this.getData(!0)}openEditor(){let m=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(m)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let m=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(m)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(m){this.searchContentObj=m,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(m){m?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let c={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(c.categoryId,c.documentType,c.shareType,c.fileType,c.classroomId,c.name,c.suggestExamPurpose,c.lite,c.getGlobal,c.page,c.itemPerPage).subscribe(g=>{g.success?(this.listDocumentObjs=this.listDocumentObjs.concat(g.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(g.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(g.message,!0)),this.loadingFilter=!1}))}processData(m){let c=this.commonService.arrayToDictionary(m,D=>D.exam?new Date(D.exam.createdAt??0).toDateString():new Date(D?.homework?.createdAt??0).toDateString()),g=[];Object.entries(c).forEach(([D,et],xt)=>{if(et.length>0){let $t=et[0];g.push({isExpand:!0,assignmentDate:$t.exam?$t.exam.createdAt:$t.homework?.createdAt,documentList:et})}}),this.listGroupDocumentObjs=g}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(m,c,g){super(),this.documentService=m,this.activeRoute=c,this.sAztNextPaginationService=g,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new mt.Z,this.typeFilter="",this.loadingFilter=!1}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Rt.DK),t.rXU(O.nX),t.rXU(Nt.h))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([Nt.h]),t.Vt3],decls:38,vars:29,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","after"],["menuFilter","matMenu"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["name","notepad-text","size","16",3,"ngClass"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","file-check","size","16",3,"ngClass"],["xPosition","before"],["menuAssignment","matMenu"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["name","filter","size","16",3,"ngClass"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],["name","plus","size","18",3,"ngClass"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",3,"ngClass"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],["name","check","size","16",3,"ngClass"]],template:function(m,c){if(1&m&&(t.DNE(0,Pt,1,1,"azt-loading-effect",0),t.DNE(1,st,28,25,"ng-template",null,1,t.C5r),t.j41(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"button",6),t.bIt("click",function(){return c.changeFilter("")}),t.nrm(9,"lucide-icon",7),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"button",8),t.bIt("click",function(){return c.changeFilter("homework")}),t.nrm(14,"lucide-icon",9),t.EFF(15),t.nI1(16,"mytranslate"),t.DNE(17,ot,1,2,"lucide-icon",10),t.k0s()(),t.j41(18,"li")(19,"button",6),t.bIt("click",function(){return c.changeFilter("exam")}),t.nrm(20,"lucide-icon",11),t.EFF(21),t.nI1(22,"mytranslate"),t.DNE(23,nt,1,2,"lucide-icon",10),t.k0s()()()()(),t.j41(24,"mat-menu",12,13)(26,"div",14)(27,"ul",5)(28,"li")(29,"button",15),t.bIt("click",function(){return c.openHomeworkScreen()}),t.nrm(30,"lucide-icon",9),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"button",16),t.bIt("click",function(){return c.openEditor()}),t.nrm(35,"lucide-icon",11),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()()),2&m){const g=t.sdS(2);t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g),t.R7$(9),t.Y8G("ngClass",t.lJ4(24,oe)),t.R7$(1),t.SpI(" ",t.bMT(11,14,"lang_auto_tat_ca")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(25,oe)),t.R7$(1),t.SpI(" ",t.bMT(16,16,"lang_auto_bai_tap")," "),t.R7$(2),t.Y8G("ngIf","homework"==c.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(26,oe)),t.R7$(1),t.SpI(" ",t.bMT(22,18,"lang_auto_de_thi")," "),t.R7$(2),t.Y8G("ngIf","exam"==c.typeFilter),t.R7$(7),t.Y8G("ngClass",t.lJ4(27,oe)),t.R7$(1),t.SpI(" ",t.bMT(32,20,"lang_student_new_homework")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(28,oe)),t.R7$(1),t.SpI(" ",t.bMT(37,22,"lang_student_new_exam")," ")}},dependencies:[O.Wk,x.YU,x.Sq,x.bT,V.kk,V.Cp,vt.K,rt.R,Et.W,Q.m,yt.WGl,Ne,z.F2,z.wp,z.vv,z.hZ],encapsulation:2}),f})();var Ht=p(57350),ue=p(95054),Kt=p(47635),Ie=p(66257),ce=p(48725),Fe=p(37497),ne=p(89163),fe=p(33887),je=p(95624),Le=p(2915),Be=p(5800),Cn=p(74637),Ge=p(10123);function B(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",12),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function Ot(r,f){if(1&r&&(t.j41(0,"tr")(1,"td",22),t.EFF(2),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(4,"td")(5,"div",23),t.nrm(6,"input",24),t.k0s()(),t.j41(7,"td")(8,"div",23),t.nrm(9,"input",24),t.k0s()(),t.j41(10,"td"),t.nrm(11,"textarea",25),t.k0s()()),2&r){const l=f.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,7,l.sessionTime)," "),t.R7$(4),t.Y8G("checked",l.receivedDocument)("disabled",!0),t.R7$(3),t.Y8G("checked",l.absent)("disabled",!0),t.R7$(2),t.Y8G("disabled",!0)("value",l.reason)}}function R(r,f){if(1&r&&(t.qex(0),t.DNE(1,Ot,12,9,"tr",21),t.bVm()),2&r){const l=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",l.attendanceObj.list)}}function H(r,f){1&r&&(t.j41(0,"tr")(1,"td",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function X(r,f){if(1&r&&(t.j41(0,"drag-scroll")(1,"table",13)(2,"thead")(3,"tr",14)(4,"th",15),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",16),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",17),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",17),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"tbody",18),t.DNE(17,R,2,1,"ng-container",19),t.DNE(18,H,4,3,"ng-template",null,20,t.C5r),t.k0s()()()),2&r){const l=t.sdS(19),m=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(9,8,"lang_core_da_phat_tai_lieu")),t.R7$(3),t.JRh(t.bMT(12,10,"lang_student_absence")),t.R7$(3),t.JRh(t.bMT(15,12,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngIf",m.attendanceObj&&m.attendanceObj.list.length)("ngIfElse",l)}}let pt=(()=>{var r;class f extends fe._{handleCloseDialog(){this.dialogRef.close()}filterData(m){this.dataFilter=m,this.getData()}getData(){this.initStatusObj();const m=this.data.student;this.waitDestroy(this.studentService.apiStudentsStudentIdAttendancesGet(m.id,m.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected).subscribe({next:c=>{this.attendanceObj=c,this.successStatusObj()},error:c=>{this.errorStatusObj(c.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(m,c,g){super(c,m),this.dialogRef=m,this.data=c,this.studentService=g}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(ne.CP,8),t.rXU(ne.Vh,8),t.rXU(je.b0))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-attendance-detail"]],features:[t.Vt3],decls:14,vars:11,consts:[[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],["name","x","size","18"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],["emptyData",""],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-student-info-box",3),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return c.handleCloseDialog()}),t.nrm(6,"lucide-icon",6),t.k0s()()(),t.j41(7,"div",7)(8,"azt-filter-box",8),t.bIt("sendFilter",function(D){return c.filterData(D)}),t.k0s()()(),t.j41(9,"div",9)(10,"azt-mat-dialog-content"),t.DNE(11,B,1,1,"azt-loading-effect",10),t.DNE(12,X,20,14,"ng-template",null,11,t.C5r),t.k0s()()()),2&m){const g=t.sdS(13);t.R7$(3),t.Y8G("name",c.data.student.fullName)("parentFullName",c.data.student.parentFullName)("parentId",c.data.student.parentId)("parentPhone",c.data.student.parentPhone)("phone",c.data.student.phone)("email",c.data.student.email)("avatar",c.data.student.avatar)("gender",c.data.student.gender)("hasUser",c.data.student.hasUser),t.R7$(8),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g)}},dependencies:[x.Sq,x.bT,vt.K,Le.U,Be.B,Cn.E,Ge.jd,Ge.Ew,yt.WGl,z.wp,z.vv],encapsulation:2}),f})();var Vt=p(46899),ge=p(22613);function me(r,f){1&r&&(t.j41(0,"div",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function ze(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",10),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}const Pe=function(r){return{"text-primary stroke-width-2.5":r}},fn=function(r){return{"text-primary stroke-width-2.5":r,"-mt-2":!0}};function Ze(r,f){if(1&r&&(t.j41(0,"div",20),t.nrm(1,"lucide-icon",21)(2,"lucide-icon",22),t.k0s()),2&r){const l=t.XpG().$implicit,m=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.eq3(2,Pe,l.typeFieldSort===m.typeFieldSort.asc)),t.R7$(1),t.Y8G("ngClass",t.eq3(4,fn,l.typeFieldSort===m.typeFieldSort.desc))}}function M(r,f){if(1&r){const l=t.RV6();t.j41(0,"th",17)(1,"div",18),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(2);return t.Njj(D.sortTableByFieldName(g))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Ze,3,6,"div",19),t.k0s()()}if(2&r){const l=f.$implicit;t.R7$(1),t.Aen(l.customStyle),t.HbH(l.customClassCss),t.R7$(1),t.SpI(" ",t.bMT(3,6,l.key)," "),t.R7$(2),t.Y8G("ngIf",!l.ignore)}}function ht(r,f){if(1&r){const l=t.RV6();t.j41(0,"tr",23)(1,"td",24),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(2);return t.Njj(D.showAttendanceDetail(g))}),t.nrm(2,"azt-student-info-box",25),t.k0s(),t.j41(3,"td",26),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",26),t.EFF(7),t.k0s(),t.j41(8,"td",26),t.EFF(9),t.k0s(),t.j41(10,"td",26),t.EFF(11),t.k0s(),t.j41(12,"td",26),t.EFF(13),t.k0s()()}if(2&r){const l=f.$implicit;t.Y8G("id","row_student_"+l.id),t.R7$(2),t.Y8G("name",l.fullName)("parentFullName",l.parentFullName)("parentId",l.parentId)("parentPhone",l.parentPhone)("avatar",l.avatar)("gender",l.gender)("hasUser",l.hasUser)("schoolName",l.schoolName)("classrooms",l.classrooms)("joinedAt",l.joinedAt),t.R7$(2),t.JRh(l.identificationNumber?t.i5U(5,16,l.identificationNumber,6):""),t.R7$(3),t.JRh(null==l?null:l.totalAttend),t.R7$(2),t.JRh(null==l?null:l.totalAbsence),t.R7$(2),t.JRh(null==l?null:l.totalAbsentPermission),t.R7$(2),t.JRh(null==l?null:l.totalAbsentNoPermission)}}function U(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-paging",30),t.bIt("goToPaginationPage",function(c){t.eBV(l);const g=t.XpG(3);return t.Njj(g.setPageStudent(c))}),t.k0s()}if(2&r){const l=t.XpG(3);t.Y8G("pageObj",l.pageObj)}}function F(r,f){if(1&r&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG(3);t.R7$(1),t.Lme("",l.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function E(r,f){if(1&r&&(t.j41(0,"div",27),t.nrm(1,"div"),t.DNE(2,U,1,1,"azt-paging",28),t.DNE(3,F,3,4,"div",29),t.k0s()),2&r){const l=t.XpG(2);t.R7$(2),t.Y8G("ngIf",l.totalStudent>l.pageObj.pageSize),t.R7$(1),t.Y8G("ngIf",!l.isStudent)}}function _t(r,f){if(1&r&&(t.j41(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),t.DNE(5,M,5,8,"th",14),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,ht,14,19,"tr",15),t.k0s()()()(),t.DNE(8,E,4,2,"div",16)),2&r){const l=t.XpG();t.R7$(5),t.Y8G("ngForOf",l.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",l.listStudent),t.R7$(1),t.Y8G("ngIf",l.listStudent&&l.totalStudent&&l.totalStudent>0)}}let be=(()=>{var r;class f extends i.H{onSearchBox(m){this.searchContentObj=m,this.getData()}setPageStudent(m){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+m),this.pageObj.setPageNumber(m),this.getData()}sortTableByFieldName(m){m.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(m),this.getData())}showAttendanceDetail(m){this.sAztDialogService.open(pt,{width:"700px",restoreFocus:!1,data:{student:m,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:c=>{this.listStudent=c.list,this.totalStudent=c.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:c=>{this.errorStatusObj(c.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:Ie.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:Ie.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:Ie.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:Ie.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:Ie.H.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:Ie.H.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(m,c,g,D){super(),this.activeRoute=m,this.studentService=c,this.sortTableByFieldNameService=g,this.sAztDialogService=D,this.classroomId=0,this.searchContentObj=new mt.Z,this.pageObj=new Fe.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=Ie.H}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(O.nX),t.rXU(je.b0),t.rXU(ce.s),t.rXU(Vt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([ce.s]),t.Vt3],decls:14,vars:10,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"mt-1"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,me,3,3,"div",3),t.k0s(),t.j41(6,"div",4)(7,"div",5)(8,"azt-search-box",6),t.bIt("onSearch",function(D){return c.onSearchBox(D.searchObj)}),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"div",1),t.DNE(11,ze,1,1,"azt-loading-effect",7),t.DNE(12,_t,9,3,"ng-template",null,8,t.C5r),t.k0s()()),2&m){const g=t.sdS(13);t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_attendance")),t.R7$(2),t.Y8G("ngIf",c.isMobileDevice&&c.listStudent.length>0),t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(9,8,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g)}},dependencies:[x.YU,x.Sq,x.bT,vt.K,ge.q,Et.W,Be.B,Ge.jd,Ge.Ew,yt.WGl,z.wp,z.Po],encapsulation:2}),f})();var Qt=p(33791),Oe=p(25622),ct=p(10936),Rn=p(15766),We=p(31216),qn=p(97839),kn=p(99965),An=p(35048);const Ye=["selectStudent"];function ve(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_chon_hoc_sinh_muon_gui_thong_bao")," "))}function _n(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",13)(1,"h3",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-select-student",22,23),t.bIt("closeBox",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.closeBoxSelectStudent(c))}),t.k0s(),t.DNE(6,ve,3,3,"div",16),t.k0s()}if(2&r){const l=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"lang_core_chon_hoc_sinh")),t.R7$(2),t.Y8G("isDialog",!1)("data",l.data),t.R7$(2),t.Y8G("ngIf",0==l.data.studentIdsSelected.length&&l.isShowError)}}function bn(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong_noi_dung_thong_bao")," "))}function Ln(r,f){1&r&&t.nrm(0,"azt-loading-ui",25)}const Bn=function(r){return{flex:r}},xn=function(r){return{" ml-5":r}};let Tn=(()=>{var r;class f extends i.H{resetForm(){this.contentFormControl.reset(),this.selectAction(this.action.getRawValue()),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.isShowError=!1,this.selectStudent&&this.selectStudent.resetAll()}selectAction(m){let g=this.commonService.myTranslateInstant(1==m?"lang_azt_ban_co_1_so_bai_thi_chua_hoan_thanh_vui_long_hoan_thanh_dung_thoi_han":2==m?"lang_azt_ban_chua_nop_hoc_phi_thang_hien_tai_vui_long_hoan_tat_hoc_phi_uca_ban":"")??"";this.contentFormControl.setValue(g)}closeBoxSelectStudent(m){m&&(m.studentIdsSelected.length>0&&(this.isShowError=!0),this.data=m)}sendNotification(){if(this.initStatusObj(),3==this.action.getRawValue()){let m={noticeProcessAction:{isNoticeTuition:!1,isNoticeFinishedLesson:!1,isNoticeAttendance:!1},studentIds:this.data.studentIdsSelected,title:"",body:this.contentFormControl.getRawValue()};this.waitDestroy(this.studentNotificationService.apiStudentNotificationSendCustomMsgToStudentsPost(m).subscribe({next:c=>{this.showSuccessSnack("lang_super_role_send_notice_successfully"),this.resetForm(),this.stopStatusObj()},error:c=>{this.errorStatusObj(c.error.message,!0),this.stopStatusObj()}}))}else{let m={isSendUnFinished:1==this.action.getRawValue(),isSendTuition:2==this.action.getRawValue(),title:"",content:this.contentFormControl.getRawValue()};this.waitDestroy(this.classroomNotificationService.apiClassroomNotificationClassroomIdPost(this.classroomId,m).subscribe({next:c=>{this.showSuccessSnack("lang_super_role_send_notice_successfully"),this.resetForm(),this.stopStatusObj()},error:c=>{this.errorStatusObj(c.error.message,!0),this.stopStatusObj()}}))}}ngOnInit(){super.ngOnInit(),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.selectAction(this.action.getRawValue())}constructor(m,c){super(),this.studentNotificationService=m,this.classroomNotificationService=c,this.contentFormControl=new ct.MJ("",{nonNullable:!0,validators:[Rn.M.noWhiteSpace]}),this.action=new ct.MJ(1,{nonNullable:!0}),this.isShowError=!1}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(We.KB),t.rXU(je.M8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-send-notification"]],viewQuery:function(m,c){if(1&m&&t.GBs(Ye,5),2&m){let g;t.mGM(g=t.lsd())&&(c.selectStudent=g.first)}},inputs:{classroomName:"classroomName",classroomId:"classroomId"},features:[t.Vt3],decls:41,vars:48,consts:[["id","sendNotification",1,"box-exam__text"],[1,"text-lg","mb-3","font-medium"],[1,"font-medium"],[1,"items-center","mt-2",3,"ngClass"],[1,"flex","items-center","mt-1"],["id","action1","type","radio",1,"form-check-input","flex-none",3,"formControl","value","change"],["for","action1",1,"pl-2","form-check-label"],[1,"flex","items-center","mt-1",3,"ngClass"],["id","action2","type","radio",1,"form-check-input","flex-none",3,"formControl","value","change"],["for","action2",1,"pl-2","form-check-label"],["id","action3","type","radio",1,"form-check-input","flex-none",3,"formControl","value","change"],["for","action3",1,"pl-2","form-check-label"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mt-2"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","justify-end","mt-5"],[1,"btn","btn-close","mr-3",3,"disabled","click"],[1,"btn","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"font-medium","mb-2"],[3,"isDialog","data","closeBox"],["selectStudent",""],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"h3",2),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",3)(8,"div",4)(9,"input",5),t.bIt("change",function(){return c.selectAction(1)}),t.k0s(),t.j41(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",7)(14,"input",8),t.bIt("change",function(){return c.selectAction(2)}),t.k0s(),t.j41(15,"label",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",7)(19,"input",10),t.bIt("change",function(){return c.selectAction(3)}),t.k0s(),t.j41(20,"label",11),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,_n,7,6,"div",12),t.j41(24,"div",13)(25,"h3",2),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"div",14)(29,"textarea",15),t.nI1(30,"mytranslate"),t.EFF(31,"\t\t\t"),t.k0s()(),t.DNE(32,bn,3,3,"div",16),t.k0s(),t.j41(33,"div",17)(34,"button",18),t.bIt("click",function(){return c.resetForm()}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.j41(37,"button",19),t.bIt("click",function(){return c.sendNotification()}),t.DNE(38,Ln,1,0,"azt-loading-ui",20),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(2),t.SpI(" ",t.bMT(3,24,"lang_core_gui_thongBao_den_hoc_sinh")," "),t.R7$(3),t.JRh(t.bMT(6,26,"lang_core_chon_muc_dich_gui_thong_bao")),t.R7$(2),t.Y8G("ngClass",t.eq3(42,Bn,!c.isMobileDevice&&!c.isMobileWebView)),t.R7$(2),t.Y8G("formControl",c.action)("value",1),t.R7$(2),t.JRh(t.bMT(12,28,"lang_core_chua_lam_bai_thi")),t.R7$(2),t.Y8G("ngClass",t.eq3(44,xn,!c.isMobileDevice&&!c.isMobileWebView)),t.R7$(1),t.Y8G("formControl",c.action)("value",2),t.R7$(2),t.JRh(t.bMT(17,30,"lang_core_chua_dong_hoc_phi_thang_hien_tai")),t.R7$(2),t.Y8G("ngClass",t.eq3(46,xn,!c.isMobileDevice&&!c.isMobileWebView)),t.R7$(1),t.Y8G("formControl",c.action)("value",3),t.R7$(2),t.JRh(t.bMT(22,32,"lang_core_tuy_chon_hoc_sinh_cu_the")),t.R7$(2),t.Y8G("ngIf",3==c.action.getRawValue()),t.R7$(3),t.JRh(t.bMT(27,34,"lang_core_noi_dung_thong_bao")),t.R7$(3),t.FS9("placeholder",t.bMT(30,36,"lang_business_news_post_content")),t.Y8G("formControl",c.contentFormControl),t.R7$(3),t.Y8G("ngIf",c.contentFormControl.dirty&&c.contentFormControl.invalid),t.R7$(2),t.Y8G("disabled",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(36,38,"lang_auto_dat_lai")," "),t.R7$(2),t.Y8G("disabled",c.statusObj.loading||c.contentFormControl.invalid||3==c.action.getRawValue()&&0==c.data.studentIdsSelected.length),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(40,40,"lang_super_role_send_notice_approved_question_share")," "))},dependencies:[x.YU,x.bT,qn.fg,ct.me,ct.Fm,ct.BC,ct.l_,kn.j,rt.R,An.w,z.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{padding:5px!important;resize:none;min-height:80px;font-size:14px;width:100%;border:none;padding:0;border-radius:5px;max-height:250px!important}"]}),f})();var qe=p(71204),sn=p(407),Sn=p(22867),I=p(63016),q=p(47947),y=p(41483),j=p(51698),$=p(74871),kt=p(18148),se=p(60902),Ve=p(95412),Ue=p(45344);let to=(()=>{var r;class f extends fe._{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(m=>1==m.selected)}saveData(){this.initStatusObj();var m=[];this.checkboxMonth.checkboxMonth.filter(g=>1==g.selected).forEach(g=>{m.push({month:g.month,year:g.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:m,studentId:this.data}).subscribe({next:g=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:g=>{this.errorStatusObj(g.error.message,!0)}}))}constructor(m,c,g){super(g,c),this.paymentService=m,this.dialogRef=c,this.data=g,this.checkboxMonth=new se.L,this.checkboxMonth.studentId=g}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Ve.W),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-dialog-checkbox-month"]],features:[t.Vt3],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-checkbox-month",3),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return c.btnCloseDialog()}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return c.saveData()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(3),t.Y8G("checkboxMonth",c.checkboxMonth),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!c.isSelectedMonth()||c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(10,6,"lang_business_news_update_post_button")," "))},dependencies:[Ue.u,z.wp],encapsulation:2}),f})();var ao=p(87039),Yo=p(18666),an=p(43234),ro=p(10710),eo=p(81519),ye=p(47426),Mn=p(74960),In=p(99503),Fn=p(79347),lo=p(9691),co=p(42947),To=p(39712),no=p(10296),Yn=p(60303),oo=p(9260),Vo=p(96112),Uo=p(80859),So=p(5502);function Xo(r,f){if(1&r&&(t.j41(0,"span",9),t.EFF(1),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.JRh((null==l.cellData?null:l.cellData.fullName)+": ")}}function $n(r,f){if(1&r&&(t.j41(0,"span",10),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&r){const l=f.$implicit,m=f.index,c=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,1,l.errorMessage)+(m===c.errors.length-1?" ("+t.bMT(3,3,"lang_auto_line")+" "+c.row+")":", ")," ")}}function zn(r,f){if(1&r&&(t.j41(0,"div",6),t.DNE(1,Xo,2,1,"span",7),t.DNE(2,$n,4,5,"span",8),t.k0s()),2&r){const l=f.$implicit;t.R7$(1),t.Y8G("ngIf",null==l.cellData?null:l.cellData.fullName),t.R7$(1),t.Y8G("ngForOf",l.errors)}}let Vn=(()=>{var r;class f extends i.H{}return(r=f).\u0275fac=function(){let l;return function(c){return(l||(l=t.xGo(r)))(c||r)}}(),r.\u0275cmp=t.VBU({type:r,selectors:[["excel-error"]],inputs:{excelErrorList:"excelErrorList"},features:[t.Vt3],decls:8,vars:6,consts:[[1,"excel-error"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"ng-scrollbar",4),t.DNE(7,zn,3,2,"div",5),t.k0s()()()),2&m&&(t.R7$(3),t.JRh(t.bMT(4,4,"lang_auto_tong_so_loi")+" "+c.excelErrorList.length),t.R7$(3),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(1),t.Y8G("ngForOf",c.excelErrorList))},dependencies:[x.Sq,x.bT,So.Yh,z.wp],encapsulation:2}),f})();const Un=["fileSelect"];function Wo(r,f){if(1&r&&(t.j41(0,"div",19),t.nrm(1,"excel-error",20),t.k0s()),2&r){const l=t.XpG(2);t.R7$(1),t.Y8G("excelErrorList",l.errorImportFile)}}const Ho=function(r){return[r]},Jo=function(){return{"mr-2 text-success":!0}};function Ko(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",21)(1,"azt-upload-single-document-to-editor",22),t.bIt("emitFiles",function(c){t.eBV(l);const g=t.XpG(2);return t.Njj(g.handleUploadComplete(c))}),t.j41(2,"div",23)(3,"div",24),t.nrm(4,"lucide-icon",25),t.j41(5,"span",26),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&r){const l=t.XpG(2);t.R7$(1),t.Y8G("fileType",t.eq3(8,Ho,l.allUploadFileTypes.EXCEL)),t.R7$(3),t.Y8G("ngClass",t.lJ4(10,Jo)),t.R7$(2),t.SpI(" ",t.bMT(7,4,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_auto_hoc_click_de_chon_file")," ")}}function mo(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"div",31)(5,"div",32),t.nrm(6,"img",33),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",34)(9,"p",35,36),t.EFF(11),t.k0s(),t.j41(12,"div",37),t.EFF(13),t.k0s()(),t.j41(14,"div",38)(15,"button",39),t.bIt("click",function(c){t.eBV(l);const g=t.XpG(2);return t.Njj(g.removeFile(c))}),t.nI1(16,"mytranslate"),t.nrm(17,"lucide-icon",40),t.k0s()()()()()()()}if(2&r){const l=t.sdS(10),m=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==m.file?null:m.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",l.isDisabled),t.R7$(2),t.SpI(" ",m.file?m.file.name:""," "),t.R7$(2),t.SpI(" ",m.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}const Io=function(){return{"mr-2":!0}};function Qo(r,f){if(1&r){const l=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.exportDefaultListStudent())}),t.nrm(1,"lucide-icon",42),t.j41(2,"span",43),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Io)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_download_file")," "))}function Zo(r,f){if(1&r){const l=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.exportListStudent())}),t.nrm(1,"lucide-icon",42),t.j41(2,"span",43),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Io)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function qo(r,f){if(1&r&&(t.j41(0,"div",12),t.DNE(1,Wo,2,1,"div",13),t.j41(2,"div",14),t.DNE(3,Ko,10,11,"div",15),t.DNE(4,mo,18,11,"ng-template",null,16,t.C5r),t.j41(6,"div",17),t.DNE(7,Qo,5,5,"a",18),t.DNE(8,Zo,5,5,"a",18),t.k0s()()()),2&r){const l=t.sdS(5),m=t.XpG();t.R7$(1),t.Y8G("ngIf",m.errorImportFile.length),t.R7$(2),t.Y8G("ngIf",!m.file)("ngIfElse",l),t.R7$(4),t.Y8G("ngIf",0==(null==m.studentObjs?null:m.studentObjs.length)||m.isBusinessDomain),t.R7$(1),t.Y8G("ngIf",0!=(null==m.studentObjs?null:m.studentObjs.length)&&!m.isBusinessDomain)}}function ti(r,f){if(1&r&&(t.j41(0,"div",47)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,1,l.msgError),"!")}}function yo(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",44)(1,"azt-form-enter-info-student",45),t.bIt("closeDialog",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.btnCloseDialog(c))}),t.k0s(),t.DNE(2,ti,4,3,"div",46),t.k0s()}if(2&r){const l=t.XpG();t.R7$(1),t.Y8G("studentForm",l.studentForm),t.R7$(1),t.Y8G("ngIf",""!==l.msgError)}}function ei(r,f){1&r&&t.nrm(0,"azt-loading-ui",48)}function ni(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-export-excel-for-student-list",49),t.bIt("exportDataDone",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.exportStudentListDone(c))}),t.k0s()}if(2&r){const l=t.XpG();t.Y8G("objs",l.exportStudentObjs)}}let jo=(()=>{var r;class f extends fe._{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain||this.checkVipAccountService?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(m){let c=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(m,c)}changeNameDownloadFile(m){return this.commonService.createFileNameExportFile([m])+".xlsx"}handleUploadComplete(m){this.file=m,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(m){return m&&m>0?(m/=1048576).toFixed(2):0}removeFile(m){m.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(m){this.importExcel=m}btnCloseDialog(m){this.dialogRef.close(m)}selectedIndexChange(m){if(this.selected.setValue(m),this.showImportExcel(0!=m),this.file){let c=document.getElementById("button-remove-export");c&&c.click()}}togglePassword(){this.showPassword=!this.showPassword}confirmAction(){let m=this.studentForm.form.getRawValue();this.initStatusObj(),this.importExcel&&this.file?this.handleExcelImport():this.studentForm.form.valid&&this.handleStudentFormSave(m)}handleExcelImport(){const m=1===this.selected.value?this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file):this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file);this.waitDestroy(m.subscribe(c=>{1===c.success&&c.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack(1===this.selected.value?"lang_student_utils_add_success":"lang_cms_utils_update_folder_success")):this.handleExcelError(c)}))}handleExcelError(m){1===m.success?(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=m.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(m.message??"",!0))}handleStudentFormSave(m){let c={fullName:m.fullName,phone:m.phoneNumber,identificationNumber:m.identificationNumber?Number(m.identificationNumber):void 0,email:m.email,gender:Number(m.gender),birthday:m.birthday,classroomId:this.classroomObj.id??0,password:m.password,facebookLink:m.facebookLink,schoolName:m.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(c).subscribe(g=>{1===g.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=g.message??"")}))}ngOnInit(){super.ngOnInit()}constructor(m,c,g,D){super(D,g),this.shareFileFlutterService=m,this.studentService=c,this.dialogRef=g,this.data=D,this.studentForm=new co.d,this.selected=new ct.MJ(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=an.c.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=To.PO,this.file=null,this.studentObjs=D.studentObjs,this.classroomObj=D.classroomObj}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(no.R),t.rXU(We.b0),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-add-student"]],viewQuery:function(m,c){if(1&m&&t.GBs(Un,5),2&m){let g;t.mGM(g=t.lsd())&&(c.fileSelect=g.first)}},features:[t.Jv_([{provide:eo.$O,useClass:In.fb,deps:[ye.Ju,In.ij]},{provide:eo.vq,useFactory:Fn.fJ,deps:[lo.F]},{provide:Mn.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[3,"excelErrorList"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["name","trash-2","size","18"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],[1,"px-2"],[3,"studentForm","closeDialog"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"mr-1"],[3,"objs","exportDataDone"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.bIt("selectedIndexChange",function(D){return c.selectedIndexChange(D)}),t.nrm(5,"mat-tab",4),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",4),t.nI1(8,"mytranslate"),t.nrm(9,"mat-tab",4),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div"),t.DNE(12,qo,9,5,"div",5),t.DNE(13,yo,3,2,"div",6),t.k0s()()()(),t.j41(14,"div",7)(15,"button",8),t.bIt("click",function(){return c.btnCloseDialog(!1)}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",9),t.bIt("click",function(){return c.confirmAction()}),t.DNE(19,ei,1,0,"azt-loading-ui",10),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()(),t.DNE(22,ni,1,1,"azt-export-excel-for-student-list",11)),2&m&&(t.R7$(4),t.Y8G("selectedIndex",c.selected.value),t.R7$(1),t.FS9("label",t.bMT(6,11,"lang_student_utils_add_student")),t.R7$(2),t.FS9("label",t.bMT(8,13,"lang_student_utils_quick_add_excel")),t.R7$(2),t.FS9("label",t.bMT(10,15,"lang_student_utils_quick_add_phone_and_email_info")),t.R7$(3),t.Y8G("ngIf",0!=c.selected.value),t.R7$(1),t.Y8G("ngIf",0==c.selected.value),t.R7$(3),t.SpI(" ",t.bMT(17,17,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",c.statusObj.loading||c.studentForm.form.invalid&&!c.importExcel||null==c.file&&c.importExcel),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,19,"lang_cms_common_confirm_btn")," "),t.R7$(2),t.Y8G("ngIf",c.exportStudentObjs))},dependencies:[x.YU,x.bT,Yn.mq,Yn.T8,A.oV,Le.U,Z.f,oo.m,rt.R,Vo.s,Uo.p,Vn,yt.WGl,z.wp,z.gt],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#1baba10d;border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),f})();var oi=p(47160);function ii(r,f){if(1&r&&(t.j41(0,"div",16)(1,"span",17),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-see-more-content",18),t.k0s()()),2&r){const l=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.R7$(2),t.Y8G("content",l.listStudentsNames)("maxLength",200)}}function Oo(r,f){1&r&&t.nrm(0,"azt-loading-ui",19)}const si=function(){return{"mr-2 text-danger":!0}};let ai=(()=>{var r;class f extends fe._{btnCloseDialog(m){this.dialogRef.close(m)}confirmDelete(){this.initStatusObj();let m=this.listStudentObjs.map(g=>g.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:m}).subscribe(g=>{1==g.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(g.message,!0),this.btnCloseDialog(!1))}))}constructor(m,c,g){super(g,c),this.studentService=m,this.dialogRef=c,this.data=g,this.listStudentsNames="",this.listStudentObjs=g.listStudentObjs,this.classroomObj=g.classroomObj,this.listStudentsNames=g.listStudentObjs.map(D=>D.fullName).join(", ")}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(We.b0),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-delete-list-student"]],features:[t.Vt3],decls:31,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["name","trash-2","size","24",3,"ngClass"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s(),t.EFF(10," \xa0 "),t.j41(11,"span",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.nI1(15,"mytranslate"),t.j41(16,"span",7),t.EFF(17),t.k0s(),t.EFF(18," ? "),t.k0s()(),t.j41(19,"div",8)(20,"azt-mat-dialog-content",9)(21,"div",10),t.DNE(22,ii,5,5,"div",11),t.k0s()()()()(),t.j41(23,"div",12)(24,"button",13),t.bIt("click",function(){return c.btnCloseDialog(!1)}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",14),t.bIt("click",function(){return c.confirmDelete()}),t.DNE(28,Oo,1,0,"azt-loading-ui",15),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(21,si)),t.R7$(2),t.SpI(" ",t.bMT(7,11,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.R7$(3),t.JRh(c.data.listStudentObjs.length),t.R7$(3),t.JRh(t.bMT(13,13,"lang_auto_hoc_sinh")),t.R7$(2),t.SpI(" ",t.bMT(15,15,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(c.classroomObj.name),t.R7$(3),t.Y8G("defaultHeight",70),t.R7$(2),t.Y8G("ngIf",""!=c.listStudentsNames),t.R7$(3),t.SpI(" ",t.bMT(26,17,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(30,19,"lang_cms_common_confirm_btn")," "))},dependencies:[x.YU,x.bT,oi.l,Le.U,rt.R,yt.WGl,z.wp],encapsulation:2}),f})();var ri=p(14999),li=p(46723),Eo=p(84828);function ci(r,f){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==l.extraDataObj?null:l.extraDataObj.reApprovedZaloFullName)}}function wo(r,f){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==l.extraDataObj?null:l.extraDataObj.reApprovedPhone)}}function mi(r,f){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==l.extraDataObj?null:l.extraDataObj.reApprovedEmail)}}function _i(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"span",9),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",10),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,ci,5,4,"span",11),t.DNE(15,wo,5,4,"span",11),t.DNE(16,mi,5,4,"span",11),t.j41(17,"div",12)(18,"div",13),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG();return t.Njj(D.reApproveStudent(g.studentId,g.id))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG();return t.Njj(D.rejectApproveRequest(g.studentId,g.id))}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()}if(2&r){const l=f.$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.R7$(3),t.JRh(l.studentName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.R7$(3),t.JRh(l.classroomName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.R7$(2),t.Y8G("ngIf",null==l.extraDataObj?null:l.extraDataObj.reApprovedZaloFullName),t.R7$(1),t.Y8G("ngIf",null==l.extraDataObj?null:l.extraDataObj.reApprovedPhone),t.R7$(1),t.Y8G("ngIf",null==l.extraDataObj?null:l.extraDataObj.reApprovedEmail),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.R7$(3),t.JRh(t.bMT(23,18,"lang_button_skip"))}}let C=(()=>{var r;class f extends fe._{reApproveStudent(m,c){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(m??0).subscribe(g=>{1==g.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(D=>D.id!=c),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(g.message??"",!0)}))}rejectApproveRequest(m,c){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(m??0).subscribe(g=>{1==g.success?(this.noticeObjs=this.noticeObjs.filter(D=>D.id!=c),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(g.message??"",!0)}))}btnCloseDialog(m){this.dialogRef.close(m)}constructor(m,c,g,D){super(D,g),this.studentService=m,this.noticeService=c,this.dialogRef=g,this.data=D,this.classroomObj=D.classroomObj,this.noticeObjs=D.noticeObjs}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(We.b0),t.rXU(Eo.eI),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-re-approve-request"]],features:[t.Vt3],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.DNE(4,_i,24,20,"div",3),t.k0s()()(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return c.btnCloseDialog(!1)}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(4),t.Y8G("ngForOf",c.noticeObjs),t.R7$(3),t.SpI(" ",t.bMT(8,2,"lang_cms_common_close_btn")," "))},dependencies:[x.Sq,x.bT,Le.U,z.wp],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]}),f})();var L=p(34514),b=p(81587);function v(r,f){1&r&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function S(r,f){1&r&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function N(r,f){1&r&&t.nrm(0,"azt-loading-ui",16)}let P=(()=>{var r;class f extends fe._{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,password:this.studentForm.form.controls.password?.value??""}).subscribe({next:c=>{this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)},error:c=>{this.errorStatusObj(c.error.message??"lang_business_create_account_unsuccessfully",!0)}})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new ct.gE({fullName:new ct.MJ(this.data.student.fullName??"",{nonNullable:!0,validators:[ct.k0.required]}),password:new ct.MJ("",{nonNullable:!0,validators:[ct.k0.required,ct.k0.minLength(6)]}),email:new ct.MJ({value:this.data.student.email??"",disabled:!!this.data.student.email},{nonNullable:!0}),phoneNumber:new ct.MJ({value:this.data.student.phone??"",disabled:!!this.data.student.phone},{nonNullable:!0})})}constructor(m,c,g){super(g,c),this.studentService=m,this.dialogRef=c,this.data=g,this.showPassword=!1,this.studentForm=new co.d}ngOnDestroy(){super.ngOnDestroy()}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(We.b0),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-create-user-business"]],features:[t.Jv_([{provide:eo.$O,useClass:In.fb,deps:[ye.Ju,L.ij]},{provide:eo.vq,useFactory:Fn.fJ,deps:[lo.F]}]),t.Vt3],decls:25,vars:21,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","20",3,"name"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","mr-2","min-width-100",3,"click"],[1,"btn","btn-primary","min-width-100",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"form",4)(9,"div",5)(10,"div",6),t.nrm(11,"input",7),t.nI1(12,"mytranslate"),t.j41(13,"button",8),t.bIt("click",function(){return c.showPassword=!c.showPassword}),t.nrm(14,"lucide-icon",9),t.k0s()(),t.DNE(15,v,3,3,"div",10),t.DNE(16,S,4,3,"div",10),t.k0s()()()()(),t.j41(17,"div",11)(18,"button",12),t.bIt("click",function(){return c.btnCloseDialog()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",13),t.bIt("click",function(){return c.confirmCreate()}),t.DNE(22,N,1,0,"azt-loading-ui",14),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.SpI(" ",t.bMT(6,11,"lang_business_create_account")+" "+t.bMT(7,13,"lang_config_cho")+" "+c.data.student.fullName," "),t.R7$(3),t.Y8G("formGroup",c.studentForm.form),t.R7$(3),t.FS9("placeholder",t.bMT(12,15,"lang_auto_mat_khau")),t.Y8G("type",c.showPassword?"text":"password"),t.R7$(3),t.FS9("name",c.showPassword?"eye":"eye-off"),t.R7$(1),t.Y8G("ngIf",null==c.studentForm.form.controls.password||null==c.studentForm.form.controls.password.errors?null:c.studentForm.form.controls.password.errors.minlength),t.R7$(1),t.Y8G("ngIf",null==c.studentForm.form.controls.password||null==c.studentForm.form.controls.password.errors?null:c.studentForm.form.controls.password.errors.required),t.R7$(3),t.SpI(" ",t.bMT(20,17,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",c.studentForm.form.invalid||c.statusObj.loading),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(24,19,"lang_auto_luu")," "))},dependencies:[x.bT,ct.qT,ct.me,ct.BC,ct.cb,ct.j4,ct.JD,b.t,Le.U,rt.R,yt.WGl,z.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),f})();var W=p(68774),Ft=p(67638),wt=p(40609),tn=p(2812),ie=p(51913),rn=p(41715),He=p(99927),_o=p(91640);let dn=(()=>{var r;class f{constructor(m,c,g,D,et,xt){this.commonService=m,this.examPageResultService=c,this.permissionService=g,this.globalService=D,this.answerTypeService=et,this.homeworkExamService=xt}getTestedAllResultByClassroomId(m,c,g,D){return this.globalService.startIntervalFunc(m),this.getTestedOfExamResultByClassroomId(m,c,"all",g,D)}getTestedOfExamResultByClassroomId(m,c,g,D,et){return new j.c(xt=>{this.examPageResultService.apiExamPageResultGetObjV2Get(c).subscribe($t=>{if(1==$t.success){let _e=$t.data?.examObj,Xe=this.hasEssay($t.data?.examQuestionObjs??[]),so=$t.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",_e)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",_e)?this.getAllExamResultObjs(m,[],c,"",ko=>{if(ko.hasOwnProperty("success")&&1==ko.success){let ka=this.mergeStudentWithAvatar(ko.studentWithResultObjs??[]),ns={};ka?.forEach(xo=>{let Ta=xo.parentId??"0";ns.hasOwnProperty(Ta)||(ns[Ta]=xo.examResultObjs??[])});let xa=et;if(this.homeworkExamService.mustInClassroom(_e)&&so.length>0)for(let xo=0;xo<so.length;xo++)if(so[xo].classroomObj?.id==D){let we=so[xo].studentObjs??[];if(we.length>0)for(let Re=0;Re<we.length;Re++){let Ra=we[Re].parentId??"0";ns.hasOwnProperty(Ra)?(Array.isArray(we[Re].examResultObjs)||(we[Re].examResultObjs=[]),we[Re].examResultObjs=this.findExamResultOfStudent(we[Re].examResultObjs?.concat(ns[Ra])??[],we[Re].id??"0")):we[Re].examResultObjs=this.findExamResultOfStudent(we[Re].examResultObjs??[],we[Re].id??"0");let Ma=this.filterExamResultByType(we[Re].examResultObjs??[],"first"),Fa=this.filterExamResultByType(we[Re].examResultObjs??[],"last"),Da=this.filterExamResultByType(we[Re].examResultObjs??[],"highest");xa.forEach(Bo=>{if(Bo.dataExam||(Bo.dataExam=[]),Bo.parentId==we[Re].parentId||Bo.id.toString()==we[Re].id){let os=Ma.hasOwnProperty(we[Re].parentId??0)?Ma[we[Re].parentId??0]:void 0,is=Fa.hasOwnProperty(we[Re].parentId??0)?Fa[we[Re].parentId??0]:void 0,Na=Da.hasOwnProperty(we[Re].parentId??0)?Da[we[Re].parentId??0]:void 0,Xr={id:_e?.id??0,name:_e?.name??"",firstPoint:os?this.checkMarkStatus(os,Xe):void 0,lastPoint:is?this.checkMarkStatus(is,Xe):void 0,highestPoint:Na?this.checkMarkStatus(Na,Xe):void 0};Bo.dataExam.push(Xr)}Bo.dataExam.sort((os,is)=>(os.id??0)-(is.id??0))},xa)}break}xt.next({status:200,success:1,data:xa,message:"successful"}),xt.complete()}else xt.next({status:ko.code,success:0,data:et,message:ko.message??""}),xt.complete()}):(xt.next({status:200,success:1,data:et,message:"successful"}),xt.complete())}else xt.next({status:$t.code,success:0,data:et,message:$t.message??""}),xt.complete()})})}getAllExamResultObjs(m,c,g,D,et){this.examPageResultService.apiExamPageResultGetObjsV2Get(g,"export",D).subscribe(xt=>{1==xt.success?(xt.data?.objs&&c.push(...xt.data.objs),xt.data?.nextPage?this.globalService.isStopIntervalFunc(m)?et({studentWithResultObjs:c,success:1}):setTimeout(()=>{this.getAllExamResultObjs(m,c,g,xt.data?.nextPage??"",et)},300):et({studentWithResultObjs:c,success:1})):et({code:xt.code,studentWithResultObjs:[],success:0,message:xt.message??""})})}filterExamResultOnTest(m,c,g){var D={};return m.forEach(et=>{var xt=this.commonService.myClone(et)??{};if(xt.testStatus)D[xt.userId??0]=xt.testStatus;else if(xt.startedTest&&g)if(c.endTime){var $t=Math.floor(new Date(c.endTime).getTime()/1e3);D[xt.userId??0]=g<=$t+60*(c.minutes??0)+600?0:-1}else{var _e=xt.startedTest?Math.floor(new Date(xt.startedTest).getTime()/1e3):0;D[xt.userId??0]=g<=_e+86400?0:-1}else D[xt.userId??0]=0}),D}mergeStudentWithAvatar(m){var c=[];return m.forEach(g=>{var D=c.filter(xt=>xt.parentId==g.parentId);if(D&&0!=D.length)for(var et=0;et<c.length;et++)c[et].parentId==g.parentId&&(c[et].examResultObjs=c[et].examResultObjs?.concat(g.examResultObjs??[]));else c.push(g)}),c}findExamResultOfStudent(m,c){var g=[];return m.forEach(D=>{(D.studentId==c||null==D.studentId)&&g.push(D)}),g}createStudentWithResult(m,c,g){return{id:m.id,userId:m.parentId,studentId:m.id,identificationNumber:c.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:c.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:m.gender,fullName:m.fullName,avatar:m.avatar,birthday:m.birthday,mark:c.hasOwnProperty("mark")?c.mark:null,confirmedAt:c.hasOwnProperty("confirmedAt")?c.confirmedAt:null,startedTest:c.hasOwnProperty("startedTest")?c.startedTest:null,createdAt:c.hasOwnProperty("createdAt")?c.createdAt:null,status:g,totalExamResultObjs:0,checkBoxGroupControl:new ct.gE({isShow:new ct.MJ(!1,{nonNullable:!0}),selectedCheckbox:new ct.MJ(!1,{nonNullable:!0})}),questionTypeMarks:c.questionTypeMarks??[]}}filterExamResultByType(m,c){var g={};if(m.length>1)m.forEach((et,xt)=>{var $t=this.commonService.myClone(et);et.testStatus&&($t.resultId=$t.id,$t.indexTest=xt,"last"==c&&(g[$t.userId??0]=$t),"first"==c&&(g.hasOwnProperty($t.userId??0)||(g[$t.userId??0]=$t)),"highest"==c)&&(g.hasOwnProperty($t.userId??0)?(g[$t.userId??0].mark??-1)<=($t.mark??-1)&&(g[$t.userId??0]=$t):g[$t.userId??0]=$t)});else{var D=this.commonService.myClone(m[0]??{});D.resultId=D.testStatus?D.id:0,D.indexTest=0,g[D.userId??0]=D}return g}hasEssay(m){let c=!1;for(let g=0;g<m.length;g++)if(this.answerTypeService.isEssayAnswer(m[g])){c=!0;break}return c}checkMarkStatus(m,c){return c?1==m.testStatus?m.confirmedAt?m.mark:-1:void 0:1==m.testStatus?m.mark:void 0}}return(r=f).\u0275fac=function(m){return new(m||r)(t.KVO(tn.R),t.KVO(Rt.TE),t.KVO(ie.p),t.KVO(rn.r),t.KVO(He._),t.KVO(_o.Z))},r.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),f})();var Ro=p(97924),Si=p(68323),ss=p(78745),Ii=p(7919),vn=p(60694),yi=p(22783);const ji=["parent"];function as(r,f){if(1&r&&(t.j41(0,"div",10),t.nrm(1,"azt-loading-effect",11),t.k0s()),2&r){const l=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",l.statusObj)}}function di(r,f){if(1&r&&t.nrm(0,"azt-download-qr-code",33),2&r){const l=t.XpG(2);t.Y8G("fileName",l.convertNameForQR())("linkUrl",l.copyLinkToClipboard())("showLink",!l.isMobileDevice)}}function rs(r,f){if(1&r&&(t.j41(0,"button",36)(1,"span",37),t.nrm(2,"lucide-icon",38),t.k0s()()),2&r){t.XpG(3);const l=t.sdS(5);t.Y8G("matMenuTriggerFor",l)}}function Oi(r,f){if(1&r&&(t.j41(0,"div",34),t.DNE(1,rs,3,1,"button",35),t.k0s()),2&r){const l=t.XpG(2);t.R7$(1),t.Y8G("ngIf",null!=(null==l.classroomObj?null:l.classroomObj.permissionObj))}}const Ei=function(){return{"mr-2 flex-none":!0}};function wi(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3);return t.Njj(c.exportListStudent())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ei)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_student_utils_export_list_student")," "))}function Ri(r,f){1&r&&t.nrm(0,"azt-loading-ui",55)}const Ce=function(){return{"mr-2":!0}};function Mi(r,f){1&r&&t.nrm(0,"lucide-icon",51),2&r&&t.Y8G("ngClass",t.lJ4(1,Ce))}function Fi(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3);return t.Njj(c.exportExcelForScoreOfClassroom())}),t.DNE(1,Ri,1,0,"azt-loading-ui",53),t.DNE(2,Mi,1,2,"lucide-icon",54),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&r){const l=t.XpG(3);t.R7$(1),t.Y8G("ngIf",l.loadingExport),t.R7$(1),t.Y8G("ngIf",!l.loadingExport),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_xuat_bang_diem")," ")}}function Mo(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3);return t.Njj(c.addStudentDialog(c.classroomObj))}),t.nrm(1,"lucide-icon",57),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Fo(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3);return t.Njj(c.openDialogAutoNumbering())}),t.nrm(1,"lucide-icon",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_danh_so_bao_danh")," "))}function uo(r,f){if(1&r&&(t.j41(0,"button",60),t.nrm(1,"lucide-icon",38),t.k0s()),2&r){t.XpG(3);const l=t.sdS(5);t.Y8G("matMenuTriggerFor",l)}}function Do(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",39)(1,"div",40)(2,"div",41)(3,"azt-search-box",42),t.bIt("onSearch",function(c){t.eBV(l);const g=t.XpG(2);return t.Njj(g.onSearchBox(c.searchObj))}),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",43),t.DNE(6,wi,4,5,"button",44),t.nI1(7,"viewPermission"),t.DNE(8,Fi,5,5,"button",45),t.nI1(9,"viewPermission"),t.DNE(10,Mo,4,5,"button",46),t.nI1(11,"editPermission"),t.DNE(12,Fo,4,5,"button",47),t.nI1(13,"editPermission"),t.j41(14,"div",48),t.DNE(15,uo,2,1,"button",49),t.k0s()()()()}if(2&r){const l=t.XpG(2);t.R7$(3),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(4,7,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",t.i5U(7,9,l.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(9,12,l.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(11,15,l.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(13,18,l.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",null!=(null==l.classroomObj?null:l.classroomObj.permissionObj))}}function Di(r,f){if(1&r&&(t.j41(0,"span",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG(2);t.R7$(1),t.Lme("",t.bMT(2,2,"lang_auto_da_chon")," ",l.totalCheckboxSelected,"")}}function ls(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",62),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",63),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function cs(r,f){if(1&r){const l=t.RV6();t.j41(0,"input",87),t.bIt("change",function(){t.eBV(l);const c=t.XpG(4);return t.Njj(c.selectSingleStudent())}),t.k0s()}if(2&r){const l=t.XpG().$implicit;t.Y8G("formControl",l.checked)}}function Ni(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",93),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2),g=c.index,D=c.$implicit,et=t.XpG(3);return t.Njj(et.onPositionChange("up",g-1,D.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",94),t.k0s()}}function ms(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",95),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2),g=c.index,D=c.$implicit,et=t.XpG(3);return t.Njj(et.onPositionChange("down",g+1,D.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",96),t.k0s()}}function _s(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",88),t.DNE(1,Ni,2,0,"button",89),t.j41(2,"input",90,91),t.bIt("keyup.enter",function(){t.eBV(l);const c=t.sdS(3),g=t.XpG(),D=g.index,et=g.$implicit,xt=t.XpG(3);return t.Njj(xt.onPositionChange(c.value,D,et.id,null==xt.classroomObj?null:xt.classroomObj.id))}),t.k0s(),t.DNE(4,ms,2,0,"button",92),t.k0s()}if(2&r){const l=t.XpG().index,m=t.XpG(3);t.R7$(1),t.Y8G("ngIf",0!=l),t.R7$(1),t.FS9("value",l+1),t.R7$(2),t.Y8G("ngIf",m.listStudents&&l!=m.listStudents.length-1)}}function Gi(r,f){if(1&r&&(t.j41(0,"div",97),t.EFF(1),t.k0s()),2&r){const l=t.XpG().index;t.R7$(1),t.SpI(" ",l+1," ")}}function bt(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==l.documentAttendedObj?null:l.documentAttendedObj.totalHomeworkAnswer," / ",null==l.totalDocumentObj?null:l.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Sa(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==l.documentAttendedObj?null:l.documentAttendedObj.totalExamResult," / ",null==l.totalDocumentObj?null:l.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function te(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",98),t.bIt("click",function(){t.eBV(l);const c=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.editStudentDialog(c))}),t.nrm(1,"lucide-icon",99),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function Xn(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",100),t.bIt("click",function(){t.eBV(l);const c=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.deleteStudentDialog(c))}),t.nrm(1,"lucide-icon",101),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function yn(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-check-vip-account",102),t.bIt("checkAction",function(){t.eBV(l);const c=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.openDialogResetPass(c))}),t.nrm(1,"lucide-icon",103),t.j41(2,"span",104),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(1),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_core_dat_lai_mat_khau")))}function Wn(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-check-vip-account",102),t.bIt("checkAction",function(){t.eBV(l);const c=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.openDialogCreateUser(c))}),t.nrm(1,"lucide-icon",105),t.j41(2,"span",104),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(1),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_business_create_account")))}const Hn=function(r){return{opacity:r}};function po(r,f){if(1&r){const l=t.RV6();t.j41(0,"tr",74)(1,"td",75),t.DNE(2,cs,1,1,"input",76),t.k0s(),t.j41(3,"td",77),t.DNE(4,_s,5,3,"div",78),t.nI1(5,"editPermission"),t.DNE(6,Gi,2,1,"ng-template",null,79,t.C5r),t.k0s(),t.j41(8,"td",80),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(3);return t.Njj(D.goToProfile(g.classroomId,g.id))}),t.nrm(9,"azt-student-info-box",81),t.k0s(),t.j41(10,"td",82),t.EFF(11),t.nI1(12,"formatStudentCodeToNumber"),t.k0s(),t.j41(13,"td",83),t.DNE(14,bt,3,5,"span",7),t.k0s(),t.j41(15,"td",83),t.DNE(16,Sa,3,5,"span",7),t.k0s(),t.j41(17,"td",83)(18,"div",37),t.DNE(19,te,4,5,"button",84),t.nI1(20,"editPermission"),t.DNE(21,Xn,4,5,"button",85),t.nI1(22,"editPermission"),t.DNE(23,yn,5,10,"azt-check-vip-account",86),t.nI1(24,"editPermission"),t.DNE(25,Wn,5,10,"azt-check-vip-account",86),t.nI1(26,"editPermission"),t.k0s()()()}if(2&r){const l=f.$implicit,m=t.sdS(7),c=t.XpG(3);t.Y8G("ngStyle",t.eq3(42,Hn,null!=l.checked&&l.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==l.checked),t.R7$(2),t.Y8G("ngIf",1==(null==c.classroomObj?null:c.classroomObj.sortType)&&t.i5U(5,24,c.classroomObj,"student"))("ngIfElse",m),t.R7$(5),t.Y8G("name",l.fullName)("parentFullName",l.parentFullName)("parentId",l.parentId)("parentPhone",l.parentPhone)("avatar",l.avatar)("identificationNumber",l.identificationNumber)("gender",l.gender)("hasUser",1==l.isVerified)("schoolName",l.schoolName)("classrooms",null==l.moreInfo?null:l.moreInfo.classrooms)("joinedAt",null==l.moreInfo?null:l.moreInfo.joinedAt)("phone",l.phone)("email",l.email),t.R7$(2),t.JRh(l.identificationNumber?t.i5U(12,27,l.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",(null==l.documentAttendedObj?null:l.documentAttendedObj.totalHomeworkAnswer)||(null==l.totalDocumentObj?null:l.totalDocumentObj.totalHomework)),t.R7$(2),t.Y8G("ngIf",(null==l.documentAttendedObj?null:l.documentAttendedObj.totalExamResult)||(null==l.totalDocumentObj?null:l.totalDocumentObj.totalExam)),t.R7$(3),t.Y8G("ngIf",t.i5U(20,30,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(22,33,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(24,36,c.classroomObj,"student")&&l.parentId&&c.isBusinessDomain),t.R7$(2),t.Y8G("ngIf",t.i5U(26,39,c.classroomObj,"student")&&!l.parentId&&c.isBusinessDomain)}}const Jn=function(){return["fullName","phone","email"]};function go(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",64)(1,"drag-scroll")(2,"table",65)(3,"thead")(4,"tr",66)(5,"th")(6,"input",67),t.bIt("change",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.selectAllStudentsObjs())}),t.k0s()(),t.j41(7,"th",68)(8,"div",69),t.nI1(9,"mytranslate"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"th",70),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",71),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",72),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",72),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",72),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,po,27,44,"tr",73),t.nI1(29,"appFilter"),t.k0s()()()()}if(2&r){const l=t.XpG(2);t.R7$(6),t.Y8G("formControl",l.isSelectAllFormControl),t.R7$(2),t.FCK("matTooltip","",t.bMT(9,13,"lang_student_classroom_list_detail_quantity"),": ",null!=l.classroomObj&&l.classroomObj.countStudents?null==l.classroomObj?null:l.classroomObj.countStudents:0,""),t.Y8G("matTooltipDisabled",l.isMobileDevice),t.R7$(2),t.E5c(" ",t.bMT(11,15,l.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",l.isMobileDevice?"":": ","",null!=l.classroomObj&&l.classroomObj.countStudents?null==l.classroomObj?null:l.classroomObj.countStudents:0," "),t.R7$(3),t.JRh(t.bMT(14,17,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(17,19,"lang_auto_so_bao_danh")),t.R7$(3),t.SpI(" ",t.bMT(20,21,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.SpI(" ",t.bMT(23,23,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.JRh(t.bMT(26,25,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",t.brH(29,27,l.listStudents,l.searchContentObj.searchContent,t.lJ4(31,Jn)))}}function ho(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",111),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3);return t.Njj(c.addStudentDialog(c.classroomObj))}),t.nrm(1,"lucide-icon",57),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function $i(r,f){if(1&r&&(t.j41(0,"div",106)(1,"div",107),t.nrm(2,"azt-svg-icon",108),t.j41(3,"div",109),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,ho,4,5,"button",110),t.nI1(7,"editPermission"),t.k0s()()),2&r){const l=t.XpG(2);let m;t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,l.classroomObj,"student")&&0==(null!==(m=null==l.listStudents?null:l.listStudents.length)&&void 0!==m?m:0))}}function ds(r,f){if(1&r){const l=t.RV6();t.j41(0,"div")(1,"input",67),t.bIt("change",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.selectAllStudentsObjs())}),t.k0s(),t.j41(2,"span",112),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&r){const l=t.XpG(2);t.R7$(1),t.Y8G("formControl",l.isSelectAllFormControl),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_tat_ca"))}}const un=function(r){return{"w-full":r}};function Je(r,f){if(1&r&&(t.j41(0,"span",113),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG(2);t.Y8G("ngClass",t.eq3(5,un,l.isMobileDevice||l.isMobileWebView)),t.R7$(1),t.Lme("",t.bMT(2,3,"lang_auto_da_chon")," ",l.totalCheckboxSelected,"")}}function ui(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",114),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",63),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function pi(r,f){if(1&r){const l=t.RV6();t.j41(0,"input",87),t.bIt("change",function(){t.eBV(l);const c=t.XpG(3);return t.Njj(c.selectSingleStudent())}),t.k0s()}if(2&r){const l=t.XpG().$implicit;t.Y8G("formControl",l.checked)}}function zi(r,f){if(1&r&&(t.j41(0,"a",129),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatStudentCodeToNumber"),t.nI1(6,"mytranslate"),t.EFF(7),t.k0s()),2&r){const l=t.XpG().$implicit;t.Tbm("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(1,7,"lang_first_and_last_name"),": ",l.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(2,9,"lang_number_phone"),": ",l.phone?l.phone:t.bMT(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(4,13,"lang_auto_so_bao_danh"),": ",l.identificationNumber?t.i5U(5,15,l.identificationNumber,6):t.bMT(6,18,"lang_not_data"),""),t.R7$(7),t.SpI(" ",l.fullName," \xa0 ")}}function Kn(r,f){if(1&r&&(t.j41(0,"div",130),t.EFF(1),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.SpI(" ",l.phone," ")}}function gi(r,f){if(1&r&&(t.j41(0,"div",131),t.EFF(1),t.k0s()),2&r){const l=t.XpG().$implicit;t.FS9("matTooltip",l.email),t.R7$(1),t.SpI(" ",l.email," ")}}function hi(r,f){if(1&r){const l=t.RV6();t.j41(0,"a",139),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.editStudentDialog(c))}),t.nrm(1,"lucide-icon",99),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function us(r,f){if(1&r){const l=t.RV6();t.j41(0,"a",140),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.deleteStudentDialog(c))}),t.nrm(1,"lucide-icon",141),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function ps(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-check-vip-account",102),t.bIt("checkAction",function(){t.eBV(l);const c=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.openDialogResetPass(c))}),t.nrm(1,"lucide-icon",103),t.j41(2,"span",104),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(1),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_core_dat_lai_mat_khau")))}function gs(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-check-vip-account",102),t.bIt("checkAction",function(){t.eBV(l);const c=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.openDialogCreateUser(c))}),t.nrm(1,"lucide-icon",105),t.j41(2,"span",104),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(1),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_business_create_account")))}const fo=function(){return{"text-slate-500":!0}};function hs(r,f){if(1&r&&(t.j41(0,"div",132)(1,"a",133),t.nrm(2,"lucide-icon",134),t.k0s(),t.j41(3,"mat-menu",null,135)(5,"div",136)(6,"ul",6)(7,"li"),t.DNE(8,hi,4,5,"a",137),t.nI1(9,"editPermission"),t.k0s(),t.j41(10,"li"),t.DNE(11,us,4,5,"a",138),t.nI1(12,"editPermission"),t.k0s(),t.j41(13,"li"),t.DNE(14,ps,5,10,"azt-check-vip-account",86),t.nI1(15,"editPermission"),t.DNE(16,gs,5,10,"azt-check-vip-account",86),t.nI1(17,"editPermission"),t.k0s()()()()()),2&r){const l=t.sdS(4),m=t.XpG().$implicit,c=t.XpG(2);t.R7$(1),t.Y8G("matMenuTriggerFor",l),t.R7$(1),t.Y8G("ngClass",t.lJ4(18,fo)),t.R7$(6),t.Y8G("ngIf",t.i5U(9,6,c.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(12,9,c.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(15,12,c.classroomObj,"student")&&m.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(17,15,c.classroomObj,"student")&&!m.parentId)}}function fs(r,f){1&r&&(t.j41(0,"div",147)(1,"span",148),t.nrm(2,"lucide-icon",149),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&r&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_co_tai_khoan")," "))}function bs(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==l.documentAttendedObj?null:l.documentAttendedObj.totalHomeworkAnswer," / ",null==l.totalDocumentObj?null:l.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function vs(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==l.documentAttendedObj?null:l.documentAttendedObj.totalExamResult," / ",null==l.totalDocumentObj?null:l.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Pi(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",154),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3),g=c.index,D=c.$implicit,et=t.XpG(2);return t.Njj(et.onPositionChange("up",g-1,D.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",94),t.k0s()}}function Cs(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",155),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3),g=c.index,D=c.$implicit,et=t.XpG(2);return t.Njj(et.onPositionChange("down",g+1,D.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",96),t.k0s()}}function ks(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",142)(1,"div",150)(2,"div",151),t.DNE(3,Pi,2,0,"button",152),t.j41(4,"input",90,91),t.bIt("keyup.enter",function(){t.eBV(l);const c=t.sdS(5),g=t.XpG(2),D=g.index,et=g.$implicit,xt=t.XpG(2);return t.Njj(xt.onPositionChange(c.value,D,et.id,null==xt.classroomObj?null:xt.classroomObj.id))}),t.k0s(),t.DNE(6,Cs,2,0,"button",153),t.k0s()()()}if(2&r){const l=t.XpG(2).index,m=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0!=l),t.R7$(1),t.FS9("value",l+1),t.R7$(2),t.Y8G("ngIf",m.listStudents&&l!=m.listStudents.length-1)}}function xs(r,f){if(1&r&&(t.j41(0,"div")(1,"div",142)(2,"div",143),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",144),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s()(),t.j41(8,"div",142)(9,"div",143),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",144),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",142)(17,"div",143),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",144),t.EFF(21),t.nI1(22,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.j41(23,"div",142)(24,"div",143),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"div",144),t.DNE(28,fs,5,3,"div",145),t.k0s()(),t.j41(29,"div",142)(30,"div",143),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",144),t.DNE(34,bs,3,5,"span",7),t.k0s()(),t.j41(35,"div",142)(36,"div",143),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",144),t.DNE(40,vs,3,5,"span",7),t.k0s()(),t.DNE(41,ks,7,3,"div",146),t.nI1(42,"editPermission"),t.k0s()),2&r){const l=t.XpG().$implicit,m=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,13,"lang_auto_so_bao_danh")," "),t.R7$(3),t.SpI(" ",l.identificationNumber?t.i5U(7,15,l.identificationNumber,6):""," "),t.R7$(4),t.SpI(" ",t.bMT(11,18,"lang_gender")," "),t.R7$(3),t.SpI(" ",0==l.gender?t.bMT(14,20,"lang_auto_nu"):t.bMT(15,22,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_birthday")," "),t.R7$(3),t.SpI(" ",t.bMT(22,26,l.birthday)," "),t.R7$(4),t.SpI(" ",t.bMT(26,28,"lang_testbank_folder_and_file_status")," "),t.R7$(3),t.Y8G("ngIf",1==l.isVerified),t.R7$(3),t.SpI(" ",t.bMT(32,30,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==l.documentAttendedObj?null:l.documentAttendedObj.totalHomeworkAnswer)||(null==l.totalDocumentObj?null:l.totalDocumentObj.totalHomework)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==l.documentAttendedObj?null:l.documentAttendedObj.totalExamResult)||(null==l.totalDocumentObj?null:l.totalDocumentObj.totalExam)),t.R7$(1),t.Y8G("ngIf",1==(null==m.classroomObj?null:m.classroomObj.sortType)&&t.i5U(42,34,m.classroomObj,"student"))}}function Ts(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",115)(1,"div",116),t.DNE(2,pi,1,1,"input",76),t.j41(3,"div",117)(4,"div",118),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(2);return t.Njj(D.goToProfile(g.classroomId,g.id))}),t.j41(5,"div",119),t.nrm(6,"azt-create-avatar",120),t.nI1(7,"anonymousPhone"),t.nI1(8,"mycdn"),t.k0s(),t.j41(9,"div",121),t.DNE(10,zi,8,20,"a",122),t.DNE(11,Kn,2,1,"div",123),t.DNE(12,gi,2,2,"div",124),t.k0s()(),t.DNE(13,hs,18,19,"div",125),t.nI1(14,"editPermission"),t.k0s(),t.j41(15,"button",126),t.bIt("click",function(){const g=t.eBV(l).index,D=t.XpG(2);return t.Njj(D.toggleExpandedContent(g))}),t.j41(16,"span"),t.nrm(17,"lucide-icon",127),t.k0s()()(),t.j41(18,"div",128),t.DNE(19,xs,43,37,"div",7),t.k0s()()}if(2&r){const l=f.$implicit,m=f.index,c=t.XpG(2);t.Y8G("ngStyle",t.eq3(21,Hn,null!=l.checked&&l.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==l.checked),t.R7$(4),t.Mz_("matTooltip","",0==l.parentId||1==l.isAnonymous?null:" Id: "+l.parentId+(""!=t.bMT(7,14,l.parentPhone)?" - Phone: "+l.parentPhone:"")+" - Name: "+l.parentFullName," "),t.Y8G("nameCreateAvatar",l.fullName)("linkAvatar",t.bMT(8,16,l.avatar))("size",36),t.R7$(4),t.Y8G("ngIf",l.fullName),t.R7$(1),t.Y8G("ngIf",l.phone),t.R7$(1),t.Y8G("ngIf",l.email),t.R7$(1),t.Y8G("ngIf",t.i5U(14,18,c.classroomObj,"student")),t.R7$(3),t.AVh("rotate-180",c.expandedItemIndex===m),t.R7$(2),t.Y8G("@expandCollapse",c.expandedItemIndex===m?"open":"closed"),t.R7$(1),t.Y8G("ngIf",c.expandedItemIndex===m)}}function Ss(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",157),t.bIt("click",function(){t.eBV(l);const c=t.XpG(3);return t.Njj(c.addStudentDialog(c.classroomObj))}),t.nrm(1,"lucide-icon",158),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Is(r,f){if(1&r&&(t.j41(0,"div",106)(1,"div",107),t.nrm(2,"azt-svg-icon",108),t.j41(3,"div",109),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Ss,4,5,"button",156),t.nI1(7,"editPermission"),t.k0s()()),2&r){const l=t.XpG(2);let m;t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,l.classroomObj,"student")&&0==(null!==(m=null==l.listStudents?null:l.listStudents.length)&&void 0!==m?m:0))}}const Ai=function(r){return{"flex-wrap":r}};function ys(r,f){if(1&r&&(t.j41(0,"div",12)(1,"div",13)(2,"h2",14),t.EFF(3),t.k0s(),t.j41(4,"span",15),t.EFF(5),t.k0s(),t.DNE(6,di,1,3,"azt-download-qr-code",16),t.k0s(),t.j41(7,"div",13),t.nrm(8,"azt-share",17),t.DNE(9,Oi,2,1,"div",18),t.k0s()(),t.DNE(10,Do,16,21,"div",19),t.j41(11,"div",20),t.DNE(12,Di,3,4,"span",21),t.DNE(13,ls,4,5,"button",22),t.k0s(),t.j41(14,"div",23)(15,"div",24),t.DNE(16,go,30,32,"div",25),t.nI1(17,"appFilter"),t.DNE(18,$i,8,8,"div",26),t.nI1(19,"appFilter"),t.k0s(),t.j41(20,"div",27)(21,"div",28),t.DNE(22,ds,5,4,"div",7),t.j41(23,"div",29),t.DNE(24,Je,3,7,"span",30),t.DNE(25,ui,4,5,"button",31),t.k0s()(),t.DNE(26,Ts,20,23,"div",32),t.nI1(27,"appFilter"),t.DNE(28,Is,8,8,"div",26),t.nI1(29,"appFilter"),t.k0s()()),2&r){const l=t.XpG();t.Y8G("ngClass",t.eq3(38,Ai,l.isMobileDevice||l.isMobileWebView)),t.R7$(1),t.Y8G("ngClass",t.eq3(40,un,l.isMobileDevice||l.isMobileWebView)),t.R7$(2),t.SpI(" ",null==l.classroomObj?null:l.classroomObj.name," "),t.R7$(2),t.SpI("( ",null==l.classroomObj?null:l.classroomObj.year," )"),t.R7$(1),t.Y8G("ngIf",l.joinClassroomLink),t.R7$(1),t.Y8G("ngClass",t.eq3(42,un,l.isMobileDevice||l.isMobileWebView)),t.R7$(1),t.Y8G("backToLink",l.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",l.classroomId)("classroomWithPermissionObj",l.classroomObj),t.R7$(1),t.Y8G("ngIf",!l.hasStudents||!(null!=l.listStudents&&l.listStudents.length)),t.R7$(1),t.Y8G("ngIf",l.hasStudents||(null==l.listStudents?null:l.listStudents.length)),t.R7$(2),t.Y8G("ngIf",l.totalCheckboxSelected>0&&!(l.isMobileDevice||l.isMobileWebView)),t.R7$(1),t.Y8G("ngIf",l.totalCheckboxSelected>0&&!(l.isMobileDevice||l.isMobileWebView)),t.R7$(3),t.Y8G("ngIf",t.brH(17,22,l.listStudents,l.searchContentObj.searchContent,t.lJ4(44,Jn)).length>0),t.R7$(2),t.Y8G("ngIf",!l.hasStudents||0==t.brH(19,26,l.listStudents,l.searchContentObj.searchContent,t.lJ4(45,Jn)).length),t.R7$(4),t.Y8G("ngIf",l.listStudents&&l.listStudents.length>0),t.R7$(2),t.Y8G("ngIf",l.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngIf",l.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngForOf",t.brH(27,30,l.listStudents,l.searchContentObj.searchContent,t.lJ4(46,Jn))),t.R7$(2),t.Y8G("ngIf",!l.hasStudents||0==t.brH(29,34,l.listStudents,l.searchContentObj.searchContent,t.lJ4(47,Jn)).length)}}function js(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"button",159),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.goToMergeStudent(null==c.classroomObj?null:c.classroomObj.id))}),t.nrm(2,"lucide-icon",160),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_student_classroom_list_detail_merge_student")," "))}const Li=function(){return{"ml-1 text-success":!0}};function bo(r,f){1&r&&(t.j41(0,"span",164),t.nrm(1,"lucide-icon",165),t.k0s()),2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,Li)))}function Os(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"button",161),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.changeSortType(0))}),t.nrm(2,"lucide-icon",162),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,bo,2,2,"span",163),t.k0s()()}if(2&r){const l=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(5,Ce)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_student_classroom_list_detail_sort_name")," "),t.R7$(2),t.Y8G("ngIf",0==(null==l.classroomObj?null:l.classroomObj.sortType))}}function Es(r,f){1&r&&t.nrm(0,"lucide-icon",165),2&r&&t.Y8G("ngClass",t.lJ4(1,Li))}function ws(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"button",166),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.changeSortType(1))}),t.nrm(2,"lucide-icon",167),t.j41(3,"span",168),t.nI1(4,"mytranslate"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,Es,1,2,"lucide-icon",169),t.k0s()()}if(2&r){const l=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(8,Ce)),t.R7$(1),t.FS9("matTooltip",t.bMT(4,4,"lang_student_classroom_list_detail_request")),t.R7$(2),t.JRh(t.bMT(6,6,"lang_student_classroom_list_detail_change")),t.R7$(2),t.Y8G("ngIf",0!=(null==l.classroomObj?null:l.classroomObj.sortType))}}function Rs(r,f){if(1&r){const l=t.RV6();t.j41(0,"li",170)(1,"button",171),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.openDialogAutoNumbering())}),t.nrm(2,"lucide-icon",172),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_danh_so_bao_danh")," "))}function Ms(r,f){if(1&r){const l=t.RV6();t.j41(0,"li",170)(1,"button",173),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.exportListStudent())}),t.nrm(2,"lucide-icon",174),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function Fs(r,f){if(1&r){const l=t.RV6();t.j41(0,"li",170)(1,"button",173),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.exportExcelForScoreOfClassroom())}),t.nrm(2,"lucide-icon",174),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_xuat_bang_diem")," "))}function Ds(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"div",175),t.bIt("click",function(c){return c.stopPropagation()}),t.j41(2,"input",176),t.bIt("change",function(){t.eBV(l);const c=t.XpG();let g;return t.Njj(c.changeAnonymousStudentStatus(null!==(g=null==c.classroomObj?null:c.classroomObj.id)&&void 0!==g?g:0,c.checkAddStudent.value))}),t.k0s(),t.j41(3,"label",177),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&r){const l=t.XpG();t.R7$(2),t.Y8G("formControl",l.checkAddStudent)("checked",1==(null==l.classroomObj?null:l.classroomObj.showAddStudent)),t.R7$(2),t.SpI(" ",l.checkAddStudent.value?t.bMT(5,3,"lang_student_classroom_list_detail_on"):t.bMT(6,5,"lang_student_classroom_list_detail_off")," ")}}function Ns(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-export-excel-for-student-list",178),t.bIt("exportDataDone",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.exportStudentListDone(c))}),t.k0s()}if(2&r){const l=t.XpG();t.Y8G("objs",l.exportStudentObjs)}}let Gs=(()=>{var r;class f extends i.H{onSearchBox(m){this.searchContentObj=m}toggleExpandedContent(m){this.expandedItemIndex=this.expandedItemIndex===m?-1:m}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(m){let c=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(m,c)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let m="";kt.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).pipe((0,Sn.n)(c=>1!==c.success?(this.errorStatusObj(c.message,!0),kt.L.closeLoadingEffect(10),this.loadingExport=!1,(0,I.of)(null)):c.data?.objs&&c.data?.objs.length?this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).pipe((0,q.T)(g=>({response:c,cls:g}))):(this.exportExcelForScoreHomeworkOfClassroom(),(0,I.of)(null))),(0,y.p)(c=>null!==c)).subscribe(({response:c,cls:g})=>{if(1!==g.success)return this.errorStatusObj(g.message??"",!0),kt.L.closeLoadingEffect(10),void(this.loadingExport=!1);let D=g.data?.objs??[];this.prepareDataForExportScore(c.data?.objs??[],D).subscribe(et=>{let xt=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",$t=this.commonService.createFileNameExportFile([xt,this.classroomObj?.name??""]);this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(Xe=>{m=Xe.lang_auto_tap_tin_dang_duoc_tai_xuong,kt.L.changeMsgLoadingEffect(m)}),this.checkVipAccountService.checkRunActionVip(et.length>an.c.limit_export,ro.W5.TEACHER,Xe=>{if(Xe){if(this.classroomObj){const so=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,et,c.data?.objs);this.shareFileFlutterService.shareFileWithBlob(so,$t+".xlsx")}}else this.handleNonVipCase(et,$t,c.data?.objs??[])}),kt.L.closeLoadingEffect(200),this.loadingExport=!1})}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let m=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(c=>{if(1!==c.success)return this.errorStatusObj(c.message??"",!0),kt.L.closeLoadingEffect(10),void(this.loadingExport=!1);let g=this.commonService.createFileNameExportFile([m,this.classroomObj?.name??""]);this.checkVipAccountService.checkRunActionVip((c.data?.objs?.length??0)>an.c.limit_export,ro.W5.TEACHER,et=>{if(et){if(this.classroomObj){const xt=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,c.data?.objs??[],[]);this.shareFileFlutterService.shareFileWithBlob(xt,g+".xlsx")}}else this.handleNonVipCase(c.data?.objs??[],g,[])}),kt.L.closeLoadingEffect(10),this.loadingExport=!1}))}handleNonVipCase(m,c,g){const D={returnUrl:this.commonService.getCurrentUrlWithoutLocale(),title:"lang_azt_record_count_exceeds_limit",description:"lang_azt_export_exceeds_50_records",titleBtnDestroy:"lang_payment_return_continue_buy",trackingKey:"STUDENT_LIST_EXPORT_EXCEL"};this.sAztDialogService.open(Yo.Y,{data:D,hasBackdrop:!0}).afterClosed().subscribe(et=>{if(!et&&this.classroomObj){const xt=this.truncateDataExport(m),_e=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,xt,g,m.length-xt.length);this.shareFileFlutterService.shareFileWithBlob(_e,c+".xlsx")}})}prepareDataForExportScore(m,c){return new j.c(g=>{let D=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",et=0,xt=m.length,$t=_e=>{et<xt?(kt.L.changeMsgLoadingEffect(D+m[et].name+" ("+(et+1)+"/"+xt+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",m[et].id??0,this.classroomId,_e).subscribe(Xe=>{1==Xe.success?(Xe.data&&(_e=[...Xe.data]),et++,$t(_e)):g.error(Xe.message)}))):(g.next(_e),g.complete())};$t(c)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(m=>{1==m.success?(m.data?.objs?.length??0)>0&&this.sAztDialogService.open(C,{width:"750px",data:{noticeObjs:m.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(m){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,m).subscribe(c=>{1==c.success?(this.checkSortListStudent(m),this.classroomObj?.sortType&&(this.classroomObj.sortType=m),this.getData()):this.errorStatusObj(c.message,!0)}))}checkSortListStudent(m){this.listStudents=0==m?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(c=>{c.checked=new ct.MJ(!1,{nonNullable:!0})})}onPositionChange(m,c,g,D){let et="up"==m?1:"down"==m?2:3,xt=3==et?m??"":"",$t=parseInt(xt,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=et?c:$t),Number(g),Number(D),Number(et)).subscribe(Xe=>{1==Xe.success?this.getData():this.showErrorSnack(""==xt&&3==et?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(m,c){this.waitDestroy(c?this.classroomService.apiClassroomChangeShowAddStudentGet(m,1).subscribe(g=>{1==g.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(g.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(m,0).subscribe(g=>{1==g.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(g.message,!0)}))}addStudentDialog(m){this.sAztDialogService.open(jo,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:m},restoreFocus:!1}).afterClosed().subscribe(g=>{g&&this.getData()})}deleteStudentDialog(m){this.sAztDialogService.open(ri.d,{data:{studentObj:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(g=>{g&&this.getData()})}deleteListStudentDialog(){let m=this.listStudents?.filter(g=>g.checked?.value);this.sAztDialogService.open(ai,{data:{listStudentObjs:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(g=>{g&&this.getData()})}editStudentDialog(m){this.sAztDialogService.open(li.B,{data:{studentObj:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(g=>{g&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(ao.O,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(c=>{c&&this.getData()})}openDialogCheckboxMonth(m){this.sAztDialogService.open(to,{width:"454px",restoreFocus:!1,data:m.id}).afterClosed().subscribe(c=>{c&&this.getListStudentApiNew()})}goToProfile(m,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+c,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${m}/0`))}goToMergeStudent(m){this.commonService.myNavigation("/admin/student/merge-student/"+m)}translateExportNote(){let m="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),c="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),g="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),D="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[m,c,g,D]}openDialogResetPass(m){this.sAztDialogService.open($.$,{width:"500px",restoreFocus:!1,data:{id:m.parentId,name:m.fullName}}).afterClosed().subscribe(c=>{c&&this.getData()})}openDialogCreateUser(m){this.sAztDialogService.open(P,{width:"500px",restoreFocus:!1,data:{student:m}}).afterClosed().subscribe(c=>{c&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(m=>{if(1==m.success){this.classroomObj=m?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=m?.data?.studentObjs,this.checkSortListStudent(m?.data?.classroomObj?.sortType);let g=this.commonService.getCurrentDomain();this.joinClassroomLink=`${g}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!m.data?.studentObjs.length,this.isBusinessDomain&&this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(m.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(c=>{c?c.list.forEach(g=>{var D=this.listStudents?.find(et=>et.id==g.id);D&&(D.lastMonthPaid=g.lastMonthPaid,D.lastYearPaid=g.lastYearPaid,D.schoolName=g.schoolName,D.facebookLink=D.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(m=>{m.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(m=>m.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}truncateDataExport(m){const c=(0,sn.cloneDeep)(m);return m&&c?c.length>an.c.limit_export?c.slice(0,an.c.limit_export):c:[]}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let m=this.commonService.getMyQueryParam("backto");this.backToLink=m||"/admin/student/manage-classroom/0",this.getData()}constructor(m,c,g,D,et,xt,$t,_e,Xe,so,ko,ka){super(),this.shareFileFlutterService=m,this.classroomService=c,this.classroomExportDataService=g,this.noticeService=D,this.activeRoute=et,this.sortService=xt,this.studentProfileV2Service=$t,this.exportExcelService=_e,this.sAztDialogService=Xe,this.studentService=so,this.exportClassroomScoreApiService=ko,this.checkVipAccountService=ka,this.checkAddStudent=new ct.MJ(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new ct.MJ(!1,{nonNullable:!0}),this.searchContentObj=new mt.Z,this.form=new ct.gE({startIdentifyIndex:new ct.MJ("",{nonNullable:!0,validators:[ct.k0.min(1),ct.k0.max(999999),ct.k0.pattern(/^[0-9]*$/)]})})}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(no.R),t.rXU(T.zS),t.rXU(We.$F),t.rXU(Eo.eI),t.rXU(O.nX),t.rXU(W.g),t.rXU(We.m_),t.rXU(Ft.x),t.rXU(Vt.i),t.rXU(wt.b),t.rXU(dn),t.rXU(Ro.K))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-student-list"]],viewQuery:function(m,c){if(1&m&&t.GBs(ji,5),2&m){let g;t.mGM(g=t.lsd())&&(c.slider=g.first)}},features:[t.Vt3],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","text-right","mt-4","azt-hidden","md:block"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger",3,"click",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-center"],["name","settings","size","18"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex","items-center"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["name","file-text","size","18",3,"ngClass"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","mr-1",4,"ngIf"],["name","file-text","size","18",3,"ngClass",4,"ngIf"],[1,"mr-1"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],["name","plus","size","18",3,"ngClass"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","18",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"formControl","change"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],[1,"text-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey","checkAction",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"formControl","change"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary p-1","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px","border-radius","0",3,"value","keyup.enter"],["myInput",""],["class","btn btn-sm btn-outline-secondary p-1","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],["name","chevron-up","size","18"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["name","chevron-down","size","18"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger",3,"click"],["name","trash-2","size","18",3,"ngClass"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey","checkAction"],["name","list-restart","size","16",3,"ngClass"],[1,"whitespace-nowrap","mr-3"],["name","user-plus","size","16",3,"ngClass"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],["name","chevron-down","size","20"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["name","trash-2","size","20",3,"ngClass"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],[1,"mr-2","inline-block"],["name","square-check","size","18"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-secondary","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["name","link-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["name","arrow-down-wide-narrow","size","16",3,"ngClass"],["class","text-success inline-block flex-none",4,"ngIf"],[1,"text-success","inline-block","flex-none"],["name","check","size","20",3,"ngClass"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["name","list-ordered","size","16",3,"ngClass"],[1,"ml-1",3,"matTooltip"],["name","check","size","20",3,"ngClass",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["name","binary","size","16",3,"ngClass"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0),t.DNE(1,as,2,1,"div",1),t.DNE(2,ys,30,48,"ng-template",null,2,t.C5r),t.k0s(),t.j41(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.DNE(8,js,5,5,"li",7),t.DNE(9,Os,6,6,"li",7),t.DNE(10,ws,8,9,"li",7),t.DNE(11,Rs,5,5,"li",8),t.nI1(12,"editPermission"),t.DNE(13,Ms,5,5,"li",8),t.nI1(14,"viewPermission"),t.DNE(15,Fs,5,5,"li",8),t.DNE(16,Ds,7,7,"li",7),t.nI1(17,"editPermission"),t.k0s()()(),t.DNE(18,Ns,1,1,"azt-export-excel-for-student-list",9)),2&m){const g=t.sdS(3);t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g),t.R7$(7),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(12,10,c.classroomObj,"student")&&(c.hasStudents||(null==c.listStudents?null:c.listStudents.length))),t.R7$(2),t.Y8G("ngIf",t.i5U(14,13,c.classroomObj,"student")&&(c.hasStudents||(null==c.listStudents?null:c.listStudents.length))),t.R7$(2),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(17,16,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",c.exportStudentObjs)}},dependencies:[x.YU,x.Sq,x.bT,x.B3,V.kk,V.Cp,A.oV,ct.Zm,ct.BC,ct.l_,vt.K,Si.p,ss.d,Ii.Z,oo.m,rt.R,vn.M,Et.W,Be.B,yi.F,Q.m,Ge.jd,Ge.Ew,yt.WGl,z.wp,z.nf,z.WL,z.xL,z.FV,z.eL,z.Po,z.vv],encapsulation:2,data:{animation:[(0,qe.hZ)("expandCollapse",[(0,qe.wk)("open",(0,qe.iF)({height:"*"})),(0,qe.wk)("closed",(0,qe.iF)({height:"0px"})),(0,qe.kY)("open <=> closed",[(0,qe.i0)("0.3s ease-in-out")])])]}}),f})();const Dn=function(r){return{"text-white bg-primary":r}},jn=function(r){return[r]},Nn=function(){return{"mr-2 flex-none":!0}};function $s(r,f){if(1&r&&(t.j41(0,"a",33),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",34),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Dn,3===l.tabActive))("routerLink",t.eq3(10,jn,t.bMT(1,4,"/admin/student/classroom-details/"+l.classroomId+"/3"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Nn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_educational_program"))}}function zs(r,f){if(1&r&&(t.j41(0,"a",35),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",7),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Dn,4===l.tabActive))("routerLink",t.eq3(10,jn,t.bMT(1,4,"/admin/student/classroom-details/"+l.classroomId+"/4"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Nn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_grade_sheet"))}}function Ps(r,f){if(1&r&&(t.j41(0,"a",36),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",37),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Dn,6===l.tabActive))("routerLink",t.eq3(10,jn,t.bMT(1,4,"/admin/student/classroom-details/"+l.classroomId+"/6"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Nn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_assessment_board"))}}function As(r,f){if(1&r&&(t.j41(0,"a",38),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",39),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Dn,7===l.tabActive))("routerLink",t.eq3(10,jn,t.bMT(1,4,"/admin/student/classroom-details/"+l.classroomId+"/7"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Nn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_attendance_board"))}}function Ls(r,f){if(1&r&&(t.j41(0,"a",40),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",41),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Dn,8===l.tabActive))("routerLink",t.eq3(10,jn,t.bMT(1,4,"/admin/student/classroom-details/"+l.classroomId+"/8"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Nn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_tuition_fee_board"))}}function Bs(r,f){if(1&r&&(t.j41(0,"a",42),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",43),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Dn,5===l.tabActive))("routerLink",t.eq3(10,jn,t.bMT(1,4,"/admin/student/classroom-details/"+l.classroomId+"/5"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Nn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_leaderboard"))}}function Ys(r,f){if(1&r&&(t.j41(0,"div",23)(1,"div",24),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",23),t.DNE(5,$s,6,13,"a",25),t.nI1(6,"async"),t.nI1(7,"allowFeatureBusinessForUser"),t.DNE(8,zs,6,13,"a",26),t.nI1(9,"async"),t.nI1(10,"allowFeatureBusinessForUser"),t.DNE(11,Ps,6,13,"a",27),t.nI1(12,"async"),t.nI1(13,"allowFeatureBusinessForUser"),t.DNE(14,As,6,13,"a",28),t.nI1(15,"async"),t.nI1(16,"allowFeatureBusinessForUser"),t.DNE(17,Ls,6,13,"a",29),t.nI1(18,"async"),t.nI1(19,"allowFeatureBusinessForUser"),t.DNE(20,Bs,6,13,"a",30),t.nI1(21,"async"),t.nI1(22,"allowFeatureBusinessForUser"),t.j41(23,"a",31),t.nI1(24,"navigationLocalize"),t.nrm(25,"lucide-icon",32),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()),2&r){const l=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,10,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(6,12,t.brH(7,14,"","training_center_curriculum_in_classroom",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(9,18,t.brH(10,20,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(12,24,t.brH(13,26,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(15,30,t.brH(16,32,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(18,36,t.brH(19,38,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(21,42,t.brH(22,44,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngClass",t.eq3(52,Dn,9===l.tabActive))("routerLink",t.eq3(54,jn,t.bMT(24,48,"/admin/student/classroom-details/"+l.classroomId+"/9"))),t.R7$(4),t.JRh(t.bMT(28,50,"lang_super_role_send_notice_approved_question_share"))}}function Vs(r,f){1&r&&(t.j41(0,"div",44),t.nrm(1,"app-student-list"),t.k0s())}function Us(r,f){1&r&&(t.j41(0,"div",45),t.nrm(1,"app-exam-exercises",46),t.k0s()),2&r&&(t.R7$(1),t.Y8G("isStudent",!1))}function Xs(r,f){if(1&r&&(t.j41(0,"div",47),t.nrm(1,"app-news-board",48),t.k0s()),2&r){const l=t.XpG();t.R7$(1),t.Y8G("classroomId",l.classroomId)("isStudent",!1)}}function Ws(r,f){1&r&&(t.j41(0,"div",49),t.nrm(1,"app-educational-program",46),t.k0s()),2&r&&(t.R7$(1),t.Y8G("isStudent",!1))}function Hs(r,f){1&r&&(t.j41(0,"div",50),t.nrm(1,"app-grand-board",46),t.k0s()),2&r&&(t.R7$(1),t.Y8G("isStudent",!1))}function Js(r,f){1&r&&(t.j41(0,"div",51)(1,"div",52),t.nrm(2,"app-leader-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function Ks(r,f){1&r&&(t.j41(0,"div",53)(1,"div",54),t.nrm(2,"app-assessment-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function Qs(r,f){1&r&&(t.j41(0,"div",55)(1,"div",54),t.nrm(2,"app-attendance-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function Zs(r,f){1&r&&(t.j41(0,"div",56)(1,"div",54),t.nrm(2,"app-tuition-fee-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}const qs=function(r){return{"ml-5":r}};function ta(r,f){if(1&r&&(t.j41(0,"div",57),t.nrm(1,"app-send-notification",58),t.k0s()),2&r){const l=t.XpG();t.Y8G("ngClass",t.eq3(3,qs,!l.isMobileWebView&&!l.isMobileDevice)),t.R7$(1),t.Y8G("classroomName",l.classroomName)("classroomId",l.classroomId)}}const ea=function(r){return{"font-medium text-white bg-primary":r}};let na=(()=>{var r;class f extends i.H{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(m=>{m&&m.success&&(this.classroomName=m.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,it.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let m=this.commonService.getMyQueryParam("backto");this.backToLink=m&&""!=m?m:"/admin/student/manage-classroom/0"}constructor(m,c){super(),this.activeRoute=m,this.classroomService=c,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(O.nX),t.rXU(T.zS))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom-details"]],features:[t.Vt3],decls:40,vars:64,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","user","size","16",3,"ngClass"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper","size","16",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3","h-full"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],["class","table-honored h-full",3,"ngClass",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","bell-plus","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library","size","16",3,"ngClass"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16",3,"ngClass"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal","size","16",3,"ngClass"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"],[1,"table-honored","h-full",3,"ngClass"],[3,"classroomName","classroomId"]],template:function(m,c){1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"a",6),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",7),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"a",8),t.nI1(18,"navigationLocalize"),t.nrm(19,"lucide-icon",9),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,Ys,29,56,"div",10),t.nI1(24,"async"),t.nI1(25,"allowFeatureBusinessForUser"),t.nI1(26,"async"),t.nI1(27,"allowFeatureBusinessForUser"),t.k0s()(),t.j41(28,"div",11)(29,"div",12),t.DNE(30,Vs,2,0,"div",13),t.DNE(31,Us,2,1,"div",14),t.DNE(32,Xs,2,2,"div",15),t.DNE(33,Ws,2,1,"div",16),t.DNE(34,Hs,2,1,"div",17),t.DNE(35,Js,3,1,"div",18),t.DNE(36,Ks,3,1,"div",19),t.DNE(37,Qs,3,1,"div",20),t.DNE(38,Zs,3,1,"div",21),t.DNE(39,ta,2,5,"div",22),t.k0s()()()()),2&m&&(t.Y8G("headerBackToLink",c.backToLink)("headerTitle",c.classroomName),t.R7$(5),t.Y8G("ngClass",t.eq3(49,Dn,0===c.tabActive))("routerLink",t.eq3(51,jn,t.bMT(6,25,"/admin/student/classroom-details/"+c.classroomId+"/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(53,Nn)),t.R7$(2),t.JRh(t.bMT(10,27,"lang_cms_classroom_student_list_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(54,Dn,1===c.tabActive))("routerLink",t.eq3(56,jn,t.bMT(12,29,"/admin/student/classroom-details/"+c.classroomId+"/1"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(58,Nn)),t.R7$(2),t.JRh(t.bMT(16,31,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngClass",t.eq3(59,ea,2===c.tabActive))("routerLink",t.eq3(61,jn,t.bMT(18,33,"/admin/student/classroom-details/"+c.classroomId+"/2"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(63,Nn)),t.R7$(2),t.JRh(t.bMT(22,35,"lang_student_news_board")),t.R7$(2),t.Y8G("ngIf",t.bMT(24,37,t.brH(25,39,"","training_center_curriculum_in_classroom",!1))||t.bMT(26,43,t.brH(27,45,"","training_center_student_mark",!1))),t.R7$(7),t.Y8G("ngIf",0===c.tabActive),t.R7$(1),t.Y8G("ngIf",1===c.tabActive),t.R7$(1),t.Y8G("ngIf",2===c.tabActive),t.R7$(1),t.Y8G("ngIf",3===c.tabActive),t.R7$(1),t.Y8G("ngIf",4===c.tabActive),t.R7$(1),t.Y8G("ngIf",5===c.tabActive),t.R7$(1),t.Y8G("ngIf",6===c.tabActive),t.R7$(1),t.Y8G("ngIf",7===c.tabActive),t.R7$(1),t.Y8G("ngIf",8===c.tabActive),t.R7$(1),t.Y8G("ngIf",9===c.tabActive))},dependencies:[O.Wk,x.YU,x.bT,o.Q,yt.WGl,Dt.E,at,Ht.s,ue.K,Kt.c,be,Qt.E,Oe.b,Tn,Gs,x.Jj,z.F2,z.wp,z.bj],encapsulation:2}),f})();var Bi=p(11002);function oa(r,f){1&r&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function ia(r,f){1&r&&t.nrm(0,"azt-loading-ui",18)}function sa(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function aa(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",20),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function ra(r,f){1&r&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function la(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,ra,2,0,"span",35),t.EFF(3),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.SpI(" ",l.lastMonthPaid," "),t.R7$(1),t.Y8G("ngIf",l.lastMonthPaid),t.R7$(1),t.SpI(" ",l.lastYearPaid," ")}}function Gn(r,f){1&r&&(t.j41(0,"span",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function Ae(r,f){if(1&r){const l=t.RV6();t.j41(0,"tr")(1,"td",30),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(3);return t.Njj(D.goToProfile(g.classroomId,g.id))}),t.nrm(2,"azt-student-info-box",31),t.k0s(),t.j41(3,"td",32),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",33)(7,"div",34),t.DNE(8,la,4,3,"span",35),t.DNE(9,Gn,3,3,"span",36),t.j41(10,"button",37),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(3);return t.Njj(D.openDialogCheckboxMonth(g))}),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.nrm(13,"lucide-icon",38),t.k0s()()(),t.j41(14,"td",39)(15,"div",40),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"td",39)(20,"div",40),t.EFF(21),t.nI1(22,"mytranslate"),t.nI1(23,"mytranslate"),t.k0s()(),t.j41(24,"td",33)(25,"div",41)(26,"input",42),t.bIt("change",function(c){const D=t.eBV(l).$implicit,et=t.XpG(3);return t.Njj(et.setAttendance("receivedDocument",D.id,c))}),t.k0s()()(),t.j41(27,"td",33)(28,"div",41)(29,"input",43),t.bIt("change",function(c){const D=t.eBV(l).$implicit,et=t.XpG(3);return t.Njj(et.setAttendance("absent",D.id,c))}),t.k0s()()(),t.j41(30,"td",33)(31,"textarea",44),t.bIt("input",function(c){const D=t.eBV(l).$implicit,et=t.XpG(3);return t.Njj(et.setReasonAttendance(D.id,c))}),t.nI1(32,"mytranslate"),t.k0s()()()}if(2&r){const l=f.$implicit;let m,c;t.R7$(2),t.Y8G("name",l.fullName)("avatar",l.avatar)("gender",l.gender)("parentFullName",l.parentFullName)("parentId",l.parentId)("parentPhone",l.parentPhone)("hasUser",l.hasUser)("schoolName",l.schoolName)("classrooms",l.classrooms)("joinedAt",l.joinedAt),t.R7$(2),t.JRh(l.identificationNumber?t.i5U(5,27,l.identificationNumber,6):""),t.R7$(4),t.Y8G("ngIf",l.lastMonthPaid||l.lastYearPaid),t.R7$(1),t.Y8G("ngIf",!l.lastMonthPaid||!l.lastYearPaid),t.R7$(1),t.FCK("matTooltip","",t.bMT(11,30,"lang_cms_auto_gen_test_select")," ",t.bMT(12,32,"lang_auto_month"),""),t.R7$(4),t.Y8G("ngClass",l.totalRemainHomework>0||l.noHomework?"darkgray":l.finishHomework?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(17,34,l.totalRemainHomework>0?t.bMT(18,36,"lang_auto_chua_hoan_thanh")+" ("+l.totalRemainHomework.toString()+")":l.noHomework?"lang_auto_hoan_thanh":l.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(3),t.Y8G("ngClass",l.totalRemainExam>0||l.noExam?"darkgray":l.finishExam?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(22,38,l.totalRemainExam>0?t.bMT(23,40,"lang_auto_chua_hoan_thanh")+" ("+l.totalRemainExam.toString()+")":l.noExam?"lang_auto_hoan_thanh":l.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(5),t.Y8G("id","received_document_"+l.id)("checked",null!==(m=null==l.attendance?null:l.attendance.receivedDocument)&&void 0!==m?m:0),t.R7$(3),t.Y8G("id","absent_"+l.id)("checked",null!==(c=null==l.attendance?null:l.attendance.absent)&&void 0!==c?c:0),t.R7$(2),t.FS9("placeholder",t.bMT(32,42,"lang_business_reason_for_leave")),t.Y8G("id","attendance_reason_"+l.id)("disabled",!(null!=l.attendance&&l.attendance.absent))("value",null==l.attendance?null:l.attendance.reason)}}function de(r,f){if(1&r&&(t.j41(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th",24),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",25),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",26),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",27),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",28),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",26)(21,"div"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",26),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",26),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,Ae,33,44,"tr",29),t.k0s()()()),2&r){const l=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,11,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,13,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(12,15,"lang_test_market_withdraw_time")," ",t.bMT(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(16,19,"lang_student_frontend_dashboard_homework")),t.R7$(3),t.JRh(t.bMT(19,21,"lang_auto_only_de_thi")),t.R7$(4),t.SpI(" ",t.bMT(23,23,"lang_core_da_phat")," "),t.R7$(2),t.SpI(" ",t.bMT(25,25,"lang_auto_tai_lieu")," "),t.R7$(3),t.SpI(" ",t.bMT(28,27,"lang_business_vang_mat")," "),t.R7$(3),t.JRh(t.bMT(31,29,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngForOf",l.listStudent)}}function Ke(r,f){if(1&r&&t.DNE(0,de,34,31,"div",21),2&r){const l=t.XpG();t.Y8G("ngIf",l.listStudent.length>0)}}function vo(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-paging",49),t.bIt("goToPaginationPage",function(c){t.eBV(l);const g=t.XpG(2);return t.Njj(g.setPageStudent(c))}),t.k0s()}if(2&r){const l=t.XpG(2);t.Y8G("pageObj",l.pageObj)}}function Ia(r,f){if(1&r&&(t.j41(0,"div",46),t.nrm(1,"div"),t.DNE(2,vo,1,1,"azt-paging",47),t.j41(3,"div",48),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG();t.R7$(2),t.Y8G("ngIf",l.totalStudent>l.pageObj.pageSize),t.R7$(2),t.Lme("",l.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}let No=(()=>{var r;class f extends i.H{openDialogCheckboxMonth(m){this.sAztDialogService.open(to,{width:"454px",restoreFocus:!1,data:m.id}).afterClosed().subscribe(c=>{c&&this.getListStudent()})}goToProfile(m,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+c,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(m){var c="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,g="?page="+m+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(c,g),this.initStatusObj(),this.pageObj.setPageNumber(m),this.getListStudent()}onSearchBox(m){this.searchContentObj=m,this.setPageStudent(1)}setAttendance(m,c,g){var D=g.target,et=D.checked?1:0,xt=this.listStudent.find(_e=>_e.id==c);if(xt){var $t=this.listAttendanceNew.find(Xe=>Xe.id==c);let _e=document.getElementById("attendance_reason_"+c);"absent"==m?(xt.attendance.absent=et,D.checked?xt.attendance.receivedDocument=0:(xt.attendance.reason="",_e.value="")):(xt.attendance.receivedDocument=et,D.checked&&(xt.attendance.absent=0,xt.attendance.reason="",_e.value="")),$t?($t.absent=xt.attendance?.absent,$t.receivedDocument=xt.attendance?.receivedDocument,$t.reason=_e.value):this.listAttendanceNew.push({id:c,absent:xt.attendance?.absent,receivedDocument:xt.attendance?.receivedDocument,reason:_e.value})}}setReasonAttendance(m,c){var g=c.target,D=this.listStudent.find(xt=>xt.id==m);if(D){var et=this.listAttendanceNew.find(xt=>xt.id==m);et?et.reason=g.value:this.listAttendanceNew.push({id:m,absent:D.attendance?.absent,receivedDocument:D.attendance?.receivedDocument,reason:g.value})}}saveAttendance(){this.isSave=!0;let m={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(m).subscribe(c=>{c.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(c=>{c?(c.list.forEach(g=>{g.attendance||(g.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:g.id,absent:0,permission:0,reason:""})},c.list),this.listStudent=c.list,this.totalStudent=c.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,it.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let m=this.commonService.getMyQueryParam("backto");this.backToLink=m||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(m,c,g){super(),this.activeRoute=m,this.studentService=c,this.sAztDialogService=g,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new mt.Z,this.pageObj=new Fe.d(20)}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(O.nX),t.rXU(wt.b),t.rXU(Vt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-attendance-student"]],features:[t.Vt3],decls:23,vars:20,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-1"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["name","calendar-search","size","16"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,oa,3,3,"div",4),t.k0s(),t.j41(7,"div",5)(8,"div",6)(9,"div",7)(10,"azt-search-box",8),t.bIt("onSearch",function(D){return c.onSearchBox(D.searchObj)}),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"flexed-on-the-top",9)(13,"button",10),t.bIt("click",function(){return c.saveAttendance()}),t.DNE(14,ia,1,0,"azt-loading-ui",11),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",12),t.DNE(18,sa,3,3,"div",13),t.DNE(19,aa,1,1,"azt-loading-effect",14),t.DNE(20,Ke,1,1,"ng-template",null,15,t.C5r),t.k0s(),t.DNE(22,Ia,6,5,"div",16),t.k0s()),2&m){const g=t.sdS(21);t.Y8G("headerBackToLink",c.backToLink),t.R7$(4),t.JRh(t.bMT(5,14,"lang_student_attendance_student")),t.R7$(2),t.Y8G("ngIf",c.isMobileDevice&&c.listStudent.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("searchContentObj",c.searchContentObj)("placeholder",t.bMT(11,16,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",c.isSave),t.R7$(1),t.Y8G("ngIf",c.isSave),t.R7$(1),t.SpI(" ",t.bMT(16,18,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",0==c.listStudent.length&&0==c.totalStudent),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g),t.R7$(3),t.Y8G("ngIf",c.totalStudent>0)}},dependencies:[x.YU,x.Sq,x.bT,A.oV,vt.K,ge.q,rt.R,Bi.$,Et.W,Be.B,o.Q,yt.WGl,z.wp,z.Po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),f})();var Go=p(12787);function Co(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",10),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function ca(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}const $o=function(r){return{width:r}};function Yi(r,f){if(1&r&&(t.j41(0,"div",25)(1,"div",26)(2,"div",27,28),t.nrm(4,"img",29),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",30)(7,"div",31),t.EFF(8),t.k0s(),t.j41(9,"div",32),t.EFF(10),t.k0s()()()()),2&r){const l=f.$implicit,m=t.sdS(3);t.R7$(4),t.FS9("src",""!=l.iconLink&&l.iconLink?l.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.B4B),t.FS9("alt",t.bMT(5,6,"lang_core_anh_sach")),t.R7$(2),t.Y8G("ngStyle",t.eq3(8,$o,"calc(100% -  "+(m.offsetWidth+12)+"px)")),t.R7$(1),t.FS9("matTooltip",l.name),t.R7$(1),t.JRh(l.name),t.R7$(2),t.JRh(l.description)}}function On(r,f){1&r&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Vi(r,f){1&r&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Ee(r,f){if(1&r&&(t.j41(0,"th",41)(1,"div",42),t.EFF(2),t.k0s()()),2&r){const l=f.$implicit;t.R7$(1),t.FS9("matTooltip",l.name),t.R7$(1),t.SpI(" ",l.name," ")}}const Pn=function(){return[]};function fi(r,f){if(1&r){const l=t.RV6();t.j41(0,"td",47)(1,"div",48)(2,"input",49),t.bIt("change",function(c){t.eBV(l);const g=t.XpG().$implicit,D=t.XpG(3);return t.Njj(D.setStatusBook(g,c))}),t.k0s()()()}if(2&r){const l=f.$implicit,m=t.XpG().$implicit,c=t.XpG(3);let g;t.R7$(2),t.Mz_("id","input-book-",l.id,""),t.Y8G("value",l.id)("checked",c.checkStatusDistribute(l,null!==(g=m.books)&&void 0!==g?g:t.lJ4(3,Pn)))}}function ma(r,f){if(1&r){const l=t.RV6();t.j41(0,"tr")(1,"td",43),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(3);return t.Njj(D.goToProfile(g.classroomId,g.id))}),t.nrm(2,"azt-student-info-box",44),t.k0s(),t.j41(3,"td",45),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,fi,3,4,"td",46),t.k0s()}if(2&r){const l=f.$implicit,m=t.XpG(3);let c;t.R7$(2),t.Y8G("name",l.fullName)("parentFullName",l.parentFullName)("parentId",l.parentId)("parentPhone",l.parentPhone)("avatar",l.avatar)("gender",l.gender)("hasUser",l.hasUser)("schoolName",l.schoolName)("classrooms",l.classrooms)("joinedAt",l.joinedAt),t.R7$(2),t.JRh(l.identificationNumber?t.i5U(5,12,l.identificationNumber,6):""),t.R7$(2),t.Y8G("ngForOf",null!==(c=null==m.listBook?null:m.listBook.list)&&void 0!==c?c:t.lJ4(15,Pn))}}function _a(r,f){if(1&r&&(t.j41(0,"div",35)(1,"drag-scroll")(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",38),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,Ee,3,2,"th",39),t.k0s()(),t.j41(12,"tbody"),t.DNE(13,ma,7,16,"tr",40),t.k0s()()()()),2&r){const l=t.XpG(2);let m;t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(m=null==l.listBook?null:l.listBook.list)&&void 0!==m?m:t.lJ4(8,Pn)),t.R7$(2),t.Y8G("ngForOf",l.listStudent)}}function da(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",51),t.bIt("click",function(){t.eBV(l);const c=t.XpG(2);return t.Njj(c.search(c.searchContentObj))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function ua(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-paging",17),t.bIt("goToPaginationPage",function(c){t.eBV(l);const g=t.XpG(3);return t.Njj(g.setPageStudent(c))}),t.k0s()}if(2&r){const l=t.XpG(3);t.Y8G("pageObj",l.pageStudentObj)}}function pa(r,f){if(1&r&&(t.j41(0,"div",52),t.nrm(1,"div"),t.DNE(2,ua,1,1,"azt-paging",53),t.j41(3,"div",54),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG(2);t.R7$(2),t.Y8G("ngIf",l.totalStudent>l.pageStudentObj.pageSize),t.R7$(2),t.Lme("",l.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}function zo(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",11)(1,"div",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,ca,3,3,"div",13),t.j41(5,"div",14),t.DNE(6,Yi,11,10,"div",15),t.k0s(),t.j41(7,"div",16)(8,"azt-paging",17),t.bIt("goToPaginationPage",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.setPageBook(c))}),t.k0s()()(),t.DNE(9,On,3,3,"div",18),t.j41(10,"div",19),t.DNE(11,Vi,3,3,"div",20),t.DNE(12,_a,14,9,"div",21),t.DNE(13,da,6,6,"div",22),t.k0s(),t.DNE(14,pa,6,5,"div",23)}if(2&r){const l=t.XpG();let m;t.R7$(2),t.JRh(t.bMT(3,9,"lang_core_thong_tin_sach")),t.R7$(2),t.Y8G("ngIf",!(null!=l.listBook&&l.listBook.list&&0!=(null==l.listBook?null:l.listBook.total)||""!=l.searchContentObj.searchContent)),t.R7$(2),t.Y8G("ngForOf",null!==(m=null==l.listBook?null:l.listBook.list)&&void 0!==m?m:t.lJ4(11,Pn)),t.R7$(2),t.Y8G("pageObj",l.pageBookObj),t.R7$(1),t.Y8G("ngIf",l.isMobileDevice&&l.listStudent.length>0),t.R7$(2),t.Y8G("ngIf",0==l.listStudent.length&&""==l.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",l.listStudent.length>0),t.R7$(1),t.Y8G("ngIf",0==l.listStudent.length&&""!=l.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",l.totalStudent>0)}}let Po=(()=>{var r;class f extends i.H{setPageStudent(m){var c="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,g="?page="+m+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(c,g),this.initStatusObj(),this.pageStudentObj.setPageNumber(m),this.getListStudent()}goToProfile(m,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+c,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(m){this.searchContentObj=m,this.setPageStudent(1)}setPageBook(m){this.pageBookObj.setPageNumber(m),this.getBooks()}checkStatusDistribute(m,c){for(let g=0;g<c.length;g++)if(c[g].bookId==m.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(c=>{c?(this.listBook=c,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(m,c){var g=c.target;if(g.checked){var D={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:m.id,bookId:Number(g.value),activate:g.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(D).subscribe(xt=>{xt.success||(document.getElementById("input-book-"+g.value).checked=!g.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var et={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:m.id,bookId:Number(g.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(et).subscribe(xt=>{xt.success||(document.getElementById("input-book-"+g.value).checked=!g.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(c=>{c?(this.listStudent=c.list,this.totalStudent=c.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,it.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let m=this.commonService.getMyQueryParam("backto");this.backLink=m||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(m,c,g){super(),this.bookService=m,this.studentService=c,this.activeRoute=g,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new mt.Z,this.pageBookObj=new Fe.d(20),this.pageStudentObj=new Fe.d(20)}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Go.l),t.rXU(wt.b),t.rXU(O.nX))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-distribute-documents"]],features:[t.Vt3],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],["class","mt-5",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-5"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(D){return c.search(D.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()()()()(),t.DNE(11,Co,1,1,"azt-loading-effect",8),t.DNE(12,zo,15,12,"ng-template",null,9,t.C5r),t.k0s()),2&m){const g=t.sdS(13);t.Y8G("headerBackToLink",c.backLink),t.R7$(4),t.JRh(t.bMT(5,7,"lang_student_distribute_books")),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",c.searchContentObj),t.R7$(2),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g)}},dependencies:[x.Sq,x.bT,x.B3,A.oV,vt.K,ge.q,Et.W,Be.B,o.Q,Ge.jd,Ge.Ew,z.wp,z.Po],styles:[".add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}"]}),f})();var bi=p(19857);let Ui=(()=>{var r;class f extends i.H{ngOnInit(){(0,it.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let m=this.commonService.getMyQueryParam("studentId"),c=this.commonService.getMyQueryParam("backTo");this.backToLink=m?"/admin/student/classroom-details/"+this.classroomId+"/4":c||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(m){super(),this.activeRoute=m,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(O.nX))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-enter-score"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(m,c){1&m&&(t.j41(0,"teacher-layout",0),t.nrm(1,"app-table-score",1),t.k0s()),2&m&&(t.Y8G("headerBackToLink",c.backToLink),t.R7$(1),t.Y8G("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",c.classroomId)("programId",c.programId)("sessionId",c.sessionId))},dependencies:[o.Q,bi.g],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),f})();var vi=p(44658),En=p(19548),Ao=p(43404),io=p(4375);function ga(r,f){1&r&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function Xi(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&r){const l=t.XpG(2);t.R7$(1),t.SpI("- ",l.selectedYearValue+1,"")}}function Wi(r,f){if(1&r&&(t.j41(0,"mat-option",34),t.EFF(1),t.DNE(2,Xi,2,1,"span",35),t.k0s()),2&r){const l=f.$implicit,m=t.XpG();t.Y8G("value",l),t.R7$(1),t.SpI(" ",l," "),t.R7$(1),t.Y8G("ngIf",m.selectedYearValue==l)}}function ha(r,f){1&r&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function Hi(r,f){if(1&r&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.JRh(t.bMT(2,1,l.groupObj.name))}}function Ci(r,f){if(1&r&&(t.j41(0,"span",42),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const l=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,l.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,l.groupObj.name))}}function Ji(r,f){if(1&r&&(t.qex(0),t.j41(1,"div",37)(2,"mat-radio-button",38),t.DNE(3,Hi,3,3,"span",39),t.nI1(4,"mytranslate"),t.DNE(5,Ci,4,6,"span",40),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&r){const l=f.$implicit;t.R7$(2),t.Y8G("value",l.groupObj.id),t.R7$(1),t.Y8G("ngIf",l.groupObj.name&&t.bMT(4,3,l.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",l.groupObj.name&&t.bMT(6,5,l.groupObj.name).length>=15)}}function Ki(r,f){1&r&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function Qi(r,f){if(1&r){const l=t.RV6();t.j41(0,"a",44),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function ki(r,f){1&r&&(t.nrm(0,"input",45,46),t.nI1(2,"mytranslate")),2&r&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function xi(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",47)(1,"button",48),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",49),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",50),t.k0s()()}if(2&r){const l=t.XpG();t.R7$(1),t.Y8G("disabled",l.form.controls.nameGroup.errors),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function Zi(r,f){1&r&&(t.j41(0,"div",51),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function qi(r,f){1&r&&t.nrm(0,"azt-loading-ui",54)}function fa(r,f){if(1&r){const l=t.RV6();t.qex(0),t.j41(1,"button",52),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.saveClassroomObj(!1))}),t.DNE(2,qi,1,0,"azt-loading-ui",53),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&r){const l=t.XpG();t.R7$(1),t.Y8G("disabled",l.statusObj.loading||l.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",l.statusObj.loading&&"save"==l.activeButton),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function ts(r,f){1&r&&t.nrm(0,"azt-loading-ui",54)}function ba(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.updateClassroomObj())}),t.DNE(1,ts,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&r){const l=t.XpG();t.Y8G("disabled",l.statusObj.loading||l.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",l.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function va(r,f){1&r&&t.nrm(0,"azt-loading-ui",54)}function ya(r,f){if(1&r){const l=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.saveClassroomObj(!0))}),t.DNE(1,va,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&r){const l=t.XpG();t.Y8G("disabled",l.statusObj.loading||l.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",l.statusObj.loading&&"save_and_close"==l.activeButton),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let es=(()=>{var r;class f extends fe._{closeDialog(){this.dialogRef.close(!!this.hasCreateNewStuff)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let m={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(m).subscribe(c=>{1==c.success?(this.hasCreateNewStuff=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(c.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(m){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=m}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let c=this.form.getRawValue().group;c=c!=this.fakeGroupValue?c:void 0;let g={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:c??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(g).subscribe(D=>{1==D.success?D.data?.isDuplicatedClassroomName?this.errorStatusObj(D.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(m){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=m?"save_and_close":"save";let g=this.form.getRawValue().group;g=g!=this.fakeGroupValue?g:void 0;let D={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:g};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(D).subscribe(et=>{if(1==et.success)if(et.data?.isDuplicatedClassroomName)this.errorStatusObj(et.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let xt=et.data?.obj.id;if(m)return this.dialogRef.close(),void this.commonService.myNavigation(`/admin/student/classroom-details/${xt}/0`);this.hasCreateNewStuff=!0,this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let m=(new Date).getFullYear();for(let et=m-20;et<=m+40;et++)this.years.push(et);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let c=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=c?parseInt(c??"",10):m;let g=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new ct.gE({nameClass:new ct.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[ct.k0.required]}),nameGroup:new ct.MJ("",{nonNullable:!0,validators:[ct.k0.required]}),group:new ct.MJ(g,{nonNullable:!0,validators:[ct.k0.required]}),year:new ct.MJ(this.selectedYearValue,{nonNullable:!0,validators:[ct.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(m=>{1==m.success?(this.activeClassroomData=m?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(m,c,g){super(g,c),this.classroomGroupService=m,this.dialogRef=c,this.data=g,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewStuff=!1,this.activeButton="save",this.classroomObj=g.classroomObj,this.form=new ct.gE({nameClass:new ct.MJ("",{nonNullable:!0,validators:[ct.k0.required]}),nameGroup:new ct.MJ("",{nonNullable:!0,validators:[ct.k0.required]}),group:new ct.MJ(0,{nonNullable:!0,validators:[ct.k0.required]}),year:new ct.MJ(0,{nonNullable:!0,validators:[ct.k0.required]})}),this.dialogRef.backdropClick().subscribe(()=>{this.dialogRef.close(!!this.hasCreateNewStuff)})}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(En.kG),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-create-or-classroom"]],features:[t.Vt3],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",8),t.nI1(15,"mytranslate"),t.DNE(16,ga,3,3,"div",9),t.k0s(),t.j41(17,"div",10)(18,"label",11),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",12)(22,"mat-select",13),t.bIt("valueChange",function(D){return c.selectedYearValue=D}),t.DNE(23,Wi,3,3,"mat-option",14),t.k0s()(),t.DNE(24,ha,3,3,"div",15),t.k0s(),t.j41(25,"div",16)(26,"div",17),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.DNE(32,Ji,7,7,"ng-container",21),t.k0s()(),t.DNE(33,Ki,3,3,"div",22),t.j41(34,"div",23),t.DNE(35,Qi,3,3,"a",24),t.DNE(36,ki,3,3,"input",25),t.DNE(37,xi,6,4,"div",26),t.k0s(),t.DNE(38,Zi,3,3,"div",27),t.k0s()()()()(),t.j41(39,"div",28)(40,"button",29),t.bIt("click",function(){return c.closeDialog()}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s(),t.DNE(43,fa,5,5,"ng-container",30),t.DNE(44,ba,4,5,"ng-template",null,31,t.C5r),t.DNE(46,ya,4,5,"button",32),t.k0s()()()),2&m){const g=t.sdS(45);t.R7$(1),t.Y8G("formGroup",c.form),t.R7$(4),t.SpI(" ",c.classroomObj?t.bMT(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,24,"lang_auto_ten_lop")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,26,"lang_auto_nhap_ten_lop")),t.R7$(2),t.Y8G("ngIf",c.form.controls.nameClass.dirty&&c.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,28,"lang_auto_nam_hoc")," "),t.R7$(3),t.Y8G("value",c.selectedYearValue),t.R7$(1),t.Y8G("ngForOf",c.years),t.R7$(1),t.Y8G("ngIf",c.form.controls.year.dirty&&c.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",c.activeClassroomData),t.R7$(1),t.Y8G("ngIf",c.form.controls.group.dirty&&c.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==c.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",1==c.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",c.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",c.isShowCreateGroupOfClassroom&&c.form.controls.nameGroup.dirty&&c.form.controls.nameGroup.errors),t.R7$(3),t.JRh(t.bMT(42,32,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!c.classroomObj)("ngIfElse",g),t.R7$(3),t.Y8G("ngIf",!c.classroomObj)}},dependencies:[x.Sq,x.bT,ye.wT,Mn.rl,Ao.VT,Ao._g,io.VO,A.oV,ct.qT,ct.me,ct.BC,ct.cb,ct.j4,ct.JD,b.t,Le.U,rt.R,yt.WGl,z.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),f})();var u=p(52509),s=p(7814);let _=(()=>{var r;class f extends s.W{reloadClassrooms(m){this.typeFilter=m??"all",this.getClassroomObjs()}eventOfClassroomMenu(m){m&&this.getClassroomObjs()}updateGroupSuccessEvent(m){m&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(m=>{m.success?(this.classroomGroupData=(this.isShowActiveClassroom?m?.data?.activeClassroomData:m?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(m?.data?.storageClassroomData?.map(c=>c.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(c=>c.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.WQX)(En.kG),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-base-show-classrooms"]],features:[t.Vt3],decls:0,vars:0,template:function(m,c){},encapsulation:2}),f})();function a(r,f){1&r&&t.nrm(0,"azt-loading-ui",10)}let d=(()=>{var r;class f extends fe._{closeDialog(m){this.dialogRef.close(m)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(m=>{1==m.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(c=>{1==c.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(m,c,g){super(g,c),this.classroomGroupService=m,this.dialogRef=c,this.data=g,this.classroomObj=g.classroomObj}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(En.kG),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-delete-classroom"]],features:[t.Vt3],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s()()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return c.closeDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return c.deleteClassroomObj()}),t.DNE(15,a,1,0,"azt-loading-ui",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.Lme(" ",c.classroomObj.isShareClassroom?t.bMT(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.bMT(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.R7$(4),t.JRh(c.classroomObj.name),t.R7$(3),t.SpI(" ",t.bMT(13,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==c.statusObj.loading),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(17,13,"lang_button_delete")," "))},dependencies:[x.bT,rt.R,z.wp],encapsulation:2}),f})();function h(r,f){1&r&&t.nrm(0,"azt-loading-ui")}function k(r,f){if(1&r&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const l=t.XpG(3).$implicit;t.R7$(1),t.JRh(t.bMT(2,1,l.groupObj.name))}}function w(r,f){if(1&r&&(t.j41(0,"span",23),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const l=t.XpG(3).$implicit;t.FS9("matTooltip",t.bMT(1,2,l.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,l.groupObj.name))}}function G(r,f){if(1&r&&(t.j41(0,"mat-radio-button",19),t.DNE(1,k,3,3,"span",20),t.DNE(2,w,4,6,"span",21),t.k0s()),2&r){const l=t.XpG(2).$implicit;t.Y8G("value",l.groupObj.id),t.R7$(1),t.Y8G("ngIf",l.groupObj.name&&l.groupObj.name.length<15),t.R7$(1),t.Y8G("ngIf",l.groupObj.name&&l.groupObj.name.length>=15)}}function K(r,f){if(1&r&&(t.j41(0,"div",17),t.DNE(1,G,3,3,"mat-radio-button",18),t.k0s()),2&r){const l=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",null!=l.groupObj)}}function dt(r,f){1&r&&(t.j41(0,"div",24)(1,"mat-radio-button",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(1),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_student_classroom_list_other")," "))}function ut(r,f){if(1&r&&(t.qex(0),t.DNE(1,K,2,1,"div",15),t.DNE(2,dt,4,4,"div",16),t.bVm()),2&r){const l=f.$implicit;t.R7$(1),t.Y8G("ngIf",null!=l.groupObj),t.R7$(1),t.Y8G("ngIf",null==l.groupObj)}}function It(r,f){1&r&&t.nrm(0,"azt-loading-ui",25)}let gt=(()=>{var r;class f extends fe._{closeDialog(){this.dialogRef.close()}chooseGroup(){let m=this.form.getRawValue();this.groupId=m.groupId!=this.fakeGroupValue?m.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(c=>{1==c.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(m=>{if(1==m.success){for(var c of(this.activeClassroomData=m?.data?.activeClassroomData??[],this.activeClassroomData))c.classroomObjs.find(et=>et.id==this.classId)&&(this.form=new ct.gE({groupId:new ct.MJ(c.groupObj.id,{nonNullable:!0,validators:[ct.k0.required]})}));this.successStatusObj()}else this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(m,c,g){super(g,c),this.classroomGroupService=m,this.dialogRef=c,this.data=g,this.classId=0,this.fakeGroupValue=-2,this.classId=g.classId,this.form=new ct.gE({groupId:new ct.MJ(void 0,{nonNullable:!0,validators:[ct.k0.required]})})}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(En.kG),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-move-classroom-to-group"]],features:[t.Vt3],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],[4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.DNE(10,h,1,0,"azt-loading-ui",7),t.j41(11,"mat-radio-group",8),t.bIt("change",function(){return c.chooseGroup()}),t.j41(12,"div",9),t.DNE(13,ut,3,2,"ng-container",10),t.k0s()()()()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("click",function(){return c.closeDialog()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return c.updateClassroomToGroup()}),t.DNE(19,It,1,0,"azt-loading-ui",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&m&&(t.R7$(1),t.Y8G("formGroup",c.form),t.R7$(4),t.SpI(" ",t.bMT(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.R7$(5),t.Y8G("ngIf",c.statusObj.loading),t.R7$(3),t.Y8G("ngForOf",c.activeClassroomData),t.R7$(3),t.JRh(t.bMT(17,10,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",c.form.controls.groupId.errors),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,12,"lang_button_update")," "))},dependencies:[x.Sq,x.bT,Ao.VT,Ao._g,A.oV,ct.qT,ct.BC,ct.cb,ct.j4,ct.JD,b.t,Le.U,rt.R,z.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),f})();function Lt(r,f){1&r&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_add_home_work_share")))}const ee=function(){return{"text-slate-500":!0}};function pe(r,f){if(1&r&&(t.j41(0,"div",16)(1,"a",17),t.bIt("click",function(m){return m.preventDefault()}),t.nrm(2,"lucide-icon",18),t.k0s()()),2&r){t.XpG();const l=t.sdS(17);t.R7$(1),t.Y8G("matMenuTriggerFor",l),t.R7$(1),t.Y8G("ngClass",t.lJ4(2,ee))}}const re=function(){return{"mr-2":!0}};function ke(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.editClassroomDialog())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_sua_lop")," "))}function le(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",21),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.copyClassroomObj())}),t.nrm(2,"lucide-icon",22),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_nhan_ban_lop")," "))}function Te(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",23),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.moveClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function wn(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",25),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.moveSharedClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function Qn(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",26),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.moveClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function Lo(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.moveSharedClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function Ti(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.updateClassroom())}),t.nrm(2,"lucide-icon",29),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_core_sua_di_chuyen")," "))}function Ga(r,f){if(1&r){const l=t.RV6();t.j41(0,"li")(1,"a",30),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.deleteClassroomDialog())}),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa_lop")," "))}const $a=function(r){return[r]};let ja=(()=>{var r;class f extends i.H{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(gt,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(c=>{1==c.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(c.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(c=>{1==c.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(c.message??"")})}editClassroomDialog(){this.sAztDialogService.open(es,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(d,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(m,c,g){super(),this.classroomGroupService=m,this.permissionTeamService=c,this.sAztDialogService=g,this.eventOfClassroomMenu=new t.bkB,this.screenTemplate=""}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(En.kG),t.rXU(En.km),t.rXU(Vt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.Vt3],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["name","copy","size","16",3,"ngClass"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["name","database","size","16",3,"ngClass"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["name","timer-reset","size","16",3,"ngClass"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["name","shuffle","size","16",3,"ngClass"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["name","trash","size","16",3,"ngClass"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0)(1,"a",1),t.nI1(2,"navigationLocalize"),t.j41(3,"div",2)(4,"a",3,4),t.EFF(6),t.k0s()(),t.j41(7,"div",5)(8,"div",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.DNE(14,Lt,4,3,"div",8),t.k0s(),t.DNE(15,pe,3,3,"div",9),t.k0s(),t.j41(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.DNE(20,ke,5,5,"li",14),t.nI1(21,"editPermission"),t.DNE(22,le,5,5,"li",14),t.nI1(23,"fullPermission"),t.DNE(24,Te,5,5,"li",14),t.DNE(25,wn,5,5,"li",14),t.DNE(26,Qn,5,5,"li",14),t.DNE(27,Lo,5,5,"li",14),t.DNE(28,Ti,5,5,"li",14),t.DNE(29,Ga,5,5,"li",14),t.nI1(30,"deletePermission"),t.k0s()()()),2&m){const g=t.sdS(5);t.R7$(1),t.Y8G("routerLink",t.eq3(34,$a,t.bMT(2,19,"/admin/student/classroom-details/"+c.classroomObj.id+(c.programId?"/3":"/0")))),t.R7$(3),t.FS9("matTooltip",c.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",g.isDisabled),t.R7$(2),t.SpI(" ",c.classroomObj.name," "),t.R7$(3),t.Lme("",t.bMT(10,21,"lang_auto_si_so"),": ",c.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(13,23,"lang_auto_nam_hoc"),": ",c.classroomObj.year,""),t.R7$(2),t.Y8G("ngIf",c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",c.classroomObj.permissionObj),t.R7$(5),t.Y8G("ngIf",""==c.screenTemplate&&t.i5U(21,25,c.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==c.screenTemplate&&t.i5U(23,28,c.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==c.screenTemplate&&!c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf","storage"==c.screenTemplate),t.R7$(1),t.Y8G("ngIf","showListPeopleWhoWillShare"==c.screenTemplate),t.R7$(1),t.Y8G("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",t.i5U(30,31,c.classroomObj,"classroom"))}},dependencies:[x.YU,x.bT,V.kk,V.Cp,A.oV,O.Wk,yt.WGl,Z.f,z.F2,z.wp,z.gC,z.FV,z.AJ],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00,#68cc009c);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),f})();function za(r,f){1&r&&t.nrm(0,"azt-loading-ui",10)}let Pa=(()=>{var r;class f extends fe._{closeDialog(m){this.dialogRef.close(m)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(m=>{1==m.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(m.message??"",!0),this.dialogRef.close())}))}constructor(m,c,g){super(g,c),this.classroomGroupService=m,this.dialogRef=c,this.data=g,this.currentGroupOfClassroomDataThatIsEdited=g.groupObj}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(En.kG),t.rXU(ne.CP,8),t.rXU(ne.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-delete-group"]],features:[t.Vt3],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(m,c){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s()()()()(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return c.closeDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return c.deleteGroupOfClassroom()}),t.DNE(14,za,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.R7$(3),t.JRh(null==c.currentGroupOfClassroomDataThatIsEdited?null:c.currentGroupOfClassroomDataThatIsEdited.name),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==c.statusObj.loading),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(16,10,"lang_button_delete")," "))},dependencies:[x.bT,rt.R,z.wp],encapsulation:2}),f})();function Aa(r,f){if(1&r&&(t.j41(0,"button",26),t.bIt("click",function(m){return m.stopPropagation()}),t.nrm(1,"lucide-icon",27),t.k0s()),2&r){t.XpG();const l=t.sdS(11);t.Y8G("matMenuTriggerFor",l)}}function La(r,f){1&r&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_enter_name_group")," "))}const Oa=function(){return{"mr-2":!0}};let Ea=(()=>{var r;class f extends i.H{collapseByGroupId(m){this.collapseByGroupIdEvent.emit(m)}deleteGroupDialog(){this.sAztDialogService.open(Pa,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(m){if(""!=m.trim()){var c={groupId:this.groupObj?.id??0,name:m};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(c).subscribe(g=>{1==g.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(g.message??"",!0)}))}}constructor(m,c){super(),this.classroomGroupService=m,this.sAztDialogService=c,this.updateGroupSuccessEvent=new t.bkB,this.collapseByGroupIdEvent=new t.bkB}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(En.kG),t.rXU(Vt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.Vt3],decls:43,vars:35,consts:[[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[3,"name","size"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","16",3,"ngClass"],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis-vertical","size","16"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(m,c){if(1&m){const g=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.bIt("click",function(){return c.collapseByGroupId(c.groupObj)}),t.nrm(3,"lucide-icon",3),t.j41(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",5),t.DNE(9,Aa,2,1,"button",6),t.j41(10,"mat-menu",null,7)(12,"div",8)(13,"button",9),t.bIt("click",function(et){return et.stopPropagation()}),t.nrm(14,"lucide-icon",10),t.j41(15,"span"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",11),t.bIt("click",function(){return c.deleteGroupDialog()}),t.nrm(19,"lucide-icon",12),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()()()(),t.j41(23,"mat-menu",13,14)(25,"div",15)(26,"div",16)(27,"div",17)(28,"h2",18),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"div",19),t.bIt("click",function(et){return et.stopPropagation()}),t.nrm(32,"input",20,21),t.nI1(34,"mytranslate"),t.DNE(35,La,3,3,"div",22),t.k0s(),t.j41(36,"div",23)(37,"button",24),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"button",25),t.bIt("click",function(){t.eBV(g);const et=t.sdS(33);return t.Njj(c.updateGroupOfClassroom(et.value))}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()()()()()}if(2&m){const g=t.sdS(24),D=t.sdS(33);t.R7$(3),t.Y8G("name",c.groupObj.isExpand?"chevron-down":"chevron-right")("size",24),t.R7$(2),t.Lme("",t.bMT(6,17,c.groupObj.name)," ","("+c.groupObj.totalViewClassrooms+" "+t.bMT(7,19,"lang_testbank_test_list_classes")+")",""),t.R7$(4),t.Y8G("ngIf",c.groupObj.id>0&&c.isOwned),t.R7$(4),t.Y8G("matMenuTriggerFor",g),t.R7$(1),t.Y8G("ngClass",t.lJ4(33,Oa)),t.R7$(2),t.JRh(t.bMT(17,21,"lang_button_edit")),t.R7$(3),t.Y8G("ngClass",t.lJ4(34,Oa)),t.R7$(2),t.JRh(t.bMT(22,23,"lang_button_delete")),t.R7$(8),t.JRh(t.bMT(30,25,"lang_student_classroom_list_update_group")),t.R7$(3),t.FS9("value",c.groupObj.name),t.FS9("placeholder",t.bMT(34,27,"lang_auto_nhap_ten_nhom")),t.R7$(3),t.Y8G("ngIf",""==D.value.trim()),t.R7$(3),t.SpI(" ",t.bMT(39,29,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",""==D.value.trim()),t.R7$(1),t.SpI(" ",t.bMT(42,31,"lang_student_classroom_list_update")," ")}},dependencies:[x.YU,x.bT,V.kk,V.Cp,yt.WGl,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})();function Ba(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function Ya(r,f){if(1&r){const l=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"azt-information-class-box",19),t.bIt("eventOfClassroomMenu",function(c){t.eBV(l);const g=t.XpG(5);return t.Njj(g.eventOfClassroomMenu(c))}),t.k0s()(),t.bVm()}if(2&r){const l=f.$implicit;t.R7$(1),t.Y8G("hidden",!l.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",l)}}function Va(r,f){if(1&r&&(t.j41(0,"div",17),t.DNE(1,Ya,3,2,"ng-container",9),t.k0s()),2&r){const l=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",l.classroomObjs)}}function Ua(r,f){1&r&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function Xa(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",12)(1,"app-teacher-classroom-show-group-box",13),t.bIt("updateGroupSuccessEvent",function(c){t.eBV(l);const g=t.XpG(3);return t.Njj(g.updateGroupSuccessEvent(c))})("collapseByGroupIdEvent",function(){t.eBV(l);const c=t.XpG().$implicit,g=t.XpG(2);return t.Njj(g.collapseByGroupId(c.groupObj))}),t.k0s(),t.j41(2,"div",14),t.DNE(3,Va,2,1,"div",15),t.DNE(4,Ua,3,3,"div",16),t.k0s()()}if(2&r){const l=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",l.groupObj)("isOwned",l.isOwned),t.R7$(1),t.Y8G("hidden",!l.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",l.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==l.classroomObjs.length)}}function Wa(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,Xa,5,5,"div",11),t.k0s()),2&r){const l=f.$implicit;t.R7$(1),t.Y8G("ngIf",l.groupObj.isShowGroup)}}const Ha=function(r){return[r]};function Ja(r,f){if(1&r&&(t.j41(0,"div",21),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const l=t.XpG(2);t.Y8G("routerLink",t.eq3(7,Ha,t.bMT(1,3,"/admin/student/manage-classroom/1"))),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",l.totalStorageClassroom,") ")}}function Ka(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.searchByName(c.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.collapseAll(!c.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,Wa,2,1,"div",9),t.DNE(7,Ja,4,9,"div",10)}if(2&r){const l=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,5,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",l.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(1),t.Y8G("ngForOf",l.viewClassroomGroupObjs),t.R7$(1),t.Y8G("ngIf",l.totalStorageClassroom)}}let Qa=(()=>{var r;class f extends _{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-active-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0),t.DNE(1,Ba,1,1,"azt-loading-effect",1),t.DNE(2,Ka,8,7,"ng-template",null,2,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g)}},dependencies:[O.Wk,x.Sq,x.bT,vt.K,ja,Et.W,yt.WGl,Ea,z.F2,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})();function Za(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function qa(r,f){if(1&r){const l=t.RV6();t.qex(0),t.j41(1,"div",17)(2,"azt-information-class-box",18),t.bIt("eventOfClassroomMenu",function(c){t.eBV(l);const g=t.XpG(5);return t.Njj(g.eventOfClassroomMenu(c))}),t.k0s()(),t.bVm()}if(2&r){const l=f.$implicit;t.R7$(1),t.Y8G("hidden",!l.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",l)("screenTemplate","storage")}}function tr(r,f){if(1&r&&(t.j41(0,"div",16),t.DNE(1,qa,3,3,"ng-container",9),t.k0s()),2&r){const l=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",l.classroomObjs)}}function er(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function nr(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",11)(1,"app-teacher-classroom-show-group-box",12),t.bIt("updateGroupSuccessEvent",function(c){t.eBV(l);const g=t.XpG(3);return t.Njj(g.updateGroupSuccessEvent(c))})("collapseByGroupIdEvent",function(){t.eBV(l);const c=t.XpG().$implicit,g=t.XpG(2);return t.Njj(g.collapseByGroupId(c.groupObj))}),t.k0s(),t.j41(2,"div",13),t.DNE(3,tr,2,1,"div",14),t.DNE(4,er,3,3,"div",15),t.k0s()()}if(2&r){const l=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",l.groupObj)("isOwned",l.isOwned),t.R7$(1),t.Y8G("hidden",!l.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",l.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==l.classroomObjs.length)}}function or(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,nr,5,5,"div",10),t.k0s()),2&r){const l=f.$implicit;t.R7$(1),t.Y8G("ngIf",l.groupObj.isShowGroup)}}function ir(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(c){t.eBV(l);const g=t.XpG();return t.Njj(g.searchByName(c.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.collapseAll(!c.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,or,2,1,"div",9)}if(2&r){const l=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,4,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",l.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(1),t.Y8G("ngForOf",l.viewClassroomGroupObjs)}}let sr=(()=>{var r;class f extends _{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-archive-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"]],template:function(m,c){if(1&m&&(t.j41(0,"div",0),t.DNE(1,Za,1,1,"azt-loading-effect",1),t.DNE(2,ir,7,6,"ng-template",null,2,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g)}},dependencies:[x.Sq,x.bT,vt.K,ja,Et.W,yt.WGl,Ea,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})();const ar=["childActiveClassrooms"],rr=["childArchiveClassrooms"];function lr(r,f){1&r&&(t.j41(0,"span",31),t.EFF(1,"1"),t.k0s())}function cr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",32),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}const wa=function(){return[]};function mr(r,f){1&r&&(t.qex(0),t.nrm(1,"app-teacher-active-classrooms",35,36),t.bVm()),2&r&&(t.R7$(1),t.Y8G("classroomGroupData",t.lJ4(1,wa)))}function _r(r,f){1&r&&t.nrm(0,"app-teacher-archive-classrooms",35,37),2&r&&t.Y8G("classroomGroupData",t.lJ4(1,wa))}function dr(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,mr,3,2,"ng-container",33),t.DNE(2,_r,2,2,"ng-template",null,34,t.C5r),t.k0s()),2&r){const l=t.sdS(3),m=t.XpG();t.R7$(1),t.Y8G("ngIf",m.isShowActiveClassroom)("ngIfElse",l)}}const Ca=function(){return{"ml-1":!0}};function ur(r,f){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,Ca))}function pr(r,f){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,Ca))}function gr(r,f){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,Ca))}const Zn=function(){return{"mr-2":!0}};let hr=(()=>{var r;class f extends i.H{changeFilter(m){this.typeFilter=m,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(es,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(c=>{c&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(vi.e,{restoreFocus:!1}).afterClosed().subscribe(c=>{c&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(ao.O,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(m=>{m&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,it.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var m=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==m;let c=this.commonService.getMyQueryParam("programId");this.backToLink=c&&""!=c?"/business/educational-program/"+c:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(m,c,g){super(),this.activeRoute=m,this.sAztDialogService=c,this.mobileWebviewService=g,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(O.nX),t.rXU(Vt.i),t.rXU(u.f))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom"]],viewQuery:function(m,c){if(1&m&&(t.GBs(ar,5),t.GBs(rr,5)),2&m){let g;t.mGM(g=t.lsd())&&(c.viewActiveClassrooms=g.first),t.mGM(g=t.lsd())&&(c.viewArchiveClassrooms=g.first)}},features:[t.Vt3],decls:69,vars:59,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],["name","plus","size","16"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","16",3,"ngClass"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","user-check","size","16",3,"ngClass"],["name","tags","size","16",3,"ngClass"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["showArchiveBox",""],[3,"classroomGroupData"],["childActiveClassrooms",""],["childArchiveClassrooms",""],["name","check","size","16",3,"ngClass"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return c.createClassroomDialog()}),t.nrm(10,"lucide-icon",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.nrm(14,"lucide-icon",9),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return c.createClassroomForNewCourseDialog()}),t.nrm(16,"lucide-icon",7),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",11),t.bIt("click",function(){return c.openDialogAutomaticIdentification()}),t.nrm(20,"lucide-icon",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"button",13),t.nrm(24,"lucide-icon",14),t.EFF(25),t.nI1(26,"mytranslate"),t.DNE(27,lr,2,0,"span",15),t.k0s()()(),t.j41(28,"div",16)(29,"div",17),t.DNE(30,cr,1,1,"azt-loading-effect",18),t.DNE(31,dr,4,2,"ng-template",null,19,t.C5r),t.k0s()()()(),t.j41(33,"mat-menu",20,21)(35,"div",22)(36,"ul",23)(37,"li")(38,"button",24),t.bIt("click",function(){return c.createClassroomForNewCourseDialog()}),t.nrm(39,"lucide-icon",7),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"button",25),t.bIt("click",function(){return c.openDialogAutomaticIdentification()}),t.nrm(44,"lucide-icon",12),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()(),t.j41(47,"mat-menu",20,26)(49,"div",22)(50,"ul",23)(51,"li")(52,"button",24),t.bIt("click",function(){return c.changeFilter("all")}),t.nrm(53,"lucide-icon",27),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,ur,1,2,"lucide-icon",28),t.k0s()(),t.j41(57,"li")(58,"button",25),t.bIt("click",function(){return c.changeFilter("owner")}),t.nrm(59,"lucide-icon",29),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,pr,1,2,"lucide-icon",28),t.k0s()(),t.j41(63,"li")(64,"button",24),t.bIt("click",function(){return c.changeFilter("user")}),t.nrm(65,"lucide-icon",30),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,gr,1,2,"lucide-icon",28),t.k0s()()()()()),2&m){const g=t.sdS(32),D=t.sdS(34),et=t.sdS(48);t.Y8G("headerBackToLink",c.backToLink),t.R7$(5),t.SpI(" ",c.isShowActiveClassroom?t.bMT(6,28,"lang_student_classroom_list_header_title"):t.bMT(7,30,"lang_auto_kho_luu_tru")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(50,Zn)),t.R7$(1),t.SpI(" ",t.bMT(12,32,"lang_student_classroom_list_create_class")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",D),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,Zn)),t.R7$(1),t.SpI(" ",t.bMT(18,34,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(52,Zn)),t.R7$(1),t.SpI(" ",t.bMT(22,36,"lang_auto_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",et),t.R7$(1),t.Y8G("ngClass",t.lJ4(53,Zn)),t.R7$(1),t.SpI(" ",t.bMT(26,38,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf","all"!=c.typeFilter),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g),t.R7$(9),t.Y8G("ngClass",t.lJ4(54,Zn)),t.R7$(1),t.SpI(" ",t.bMT(41,40,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(55,Zn)),t.R7$(1),t.SpI(" ",t.bMT(46,42,"lang_auto_danh_so_bao_danh")," "),t.R7$(8),t.Y8G("ngClass",t.lJ4(56,Zn)),t.R7$(1),t.SpI(" ",t.bMT(55,44,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==c.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(57,Zn)),t.R7$(1),t.SpI(" ",t.bMT(61,46,"lang_core_lop_cua_toi")," "),t.R7$(2),t.Y8G("ngIf","owner"==c.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(58,Zn)),t.R7$(1),t.SpI(" ",t.bMT(67,48,"lang_auto_lop_duoc_chia_se")," "),t.R7$(2),t.Y8G("ngIf","user"==c.typeFilter)}},dependencies:[x.YU,x.bT,V.kk,V.Cp,vt.K,o.Q,yt.WGl,Qa,sr,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})(),fr=(()=>{var r;class f extends i.H{}return(r=f).\u0275fac=function(){let l;return function(c){return(l||(l=t.xGo(r)))(c||r)}}(),r.\u0275cmp=t.VBU({type:r,selectors:[["homework-master-page"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","student-layout"]],template:function(m,c){1&m&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[O.n3],encapsulation:2}),f})();function br(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.btnCloseDialog())}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",7),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.confirmQuit())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&r){const l=t.XpG();t.R7$(3),t.SpI("",l.data.type&&"update_phone_student"==l.data.type?t.bMT(4,3,"lang_student_utils_confirm_merge_verifi")+"?":t.bMT(5,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.R7$(6),t.SpI(" ",t.bMT(10,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(13,9,"lang_cms_common_confirm_btn")," ")}}let vr=(()=>{var r;class f extends fe._{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}constructor(m,c){super(c,m),this.dialogRef=m,this.data=c}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(ne.CP,8),t.rXU(ne.Vh))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-merge-student-confirm-box"]],features:[t.Vt3],decls:1,vars:1,consts:[["class","box",4,"ngIf"],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"text-base","font-medium","mr-auto"],[1,"flex","justify-end","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm","matRipple","",1,"btn","min-width-100","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q","matRipple","",1,"btn","min-width-100","btn-primary",3,"click"]],template:function(m,c){1&m&&t.DNE(0,br,14,11,"div",0),2&m&&t.Y8G("ngIf",c.data)},dependencies:[x.bT,ye.r6,z.wp],encapsulation:2}),f})();function Cr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}const kr=function(r){return{"bg-success":r}};function xr(r,f){if(1&r&&(t.j41(0,"div",21)(1,"b"),t.EFF(2),t.k0s()()),2&r){const l=t.XpG().$implicit,m=t.XpG(2);t.Y8G("ngClass",t.eq3(2,kr,m.haveSelected(l))),t.R7$(2),t.JRh(l.fullName)}}function Tr(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(2);return t.Njj(D.selectObj(g))}),t.DNE(1,xr,3,4,"div",20),t.k0s()}if(2&r){const l=f.$implicit,m=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!m.inMergeObjs(l))}}function Sr(r,f){if(1&r){const l=t.RV6();t.j41(0,"div")(1,"div",22),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"b",23),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",23),t.EFF(9),t.k0s(),t.EFF(10," \xa0\xa0 "),t.j41(11,"span",24),t.bIt("click",function(){const g=t.eBV(l).index,D=t.XpG(2);return t.Njj(D.removeMergeArray(g))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&r){const l=f.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_merge_student_merge_student")," "),t.R7$(3),t.JRh(null==l.from?null:l.from.fullName),t.R7$(1),t.SpI(" ",t.bMT(7,7,"lang_student_merge_student_return")," "),t.R7$(3),t.JRh(null==l.to?null:l.to.fullName),t.R7$(3),t.JRh(t.bMT(13,9,"lang_auto_xoa"))}}function Ir(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",22)(1,"div",26)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"button",27),t.bIt("click",function(){t.eBV(l);const c=t.XpG().$implicit,g=t.XpG(2);return t.Njj(g.revertStudent(c.id))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&r){const l=t.XpG().$implicit;t.R7$(3),t.JRh(l.fullName),t.R7$(2),t.SpI(" ",t.bMT(6,2,"lang_button_revert")," ")}}function yr(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,Ir,7,4,"div",25),t.k0s()),2&r){const l=f.$implicit,m=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!m.inMergeObjs(l))}}function jr(r,f){if(1&r){const l=t.RV6();t.j41(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.nI1(3,"mytranslate"),t.j41(4,"div",7)(5,"div",8)(6,"div",9),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,Tr,2,1,"div",10),t.k0s(),t.j41(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,Sr,14,11,"div",14),t.j41(17,"div",15)(18,"button",16),t.bIt("click",function(){t.eBV(l);const c=t.XpG();return t.Njj(c.showConfirmBox())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()()()(),t.j41(21,"mat-tab",6),t.nI1(22,"mytranslate"),t.j41(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,yr,2,1,"div",14),t.k0s()()()()()()}if(2&r){const l=t.XpG();t.R7$(1),t.Y8G("selectedIndex",l.selectedIndex),t.R7$(1),t.FS9("label",t.bMT(3,11,"lang_student_merge_student_lable")),t.R7$(5),t.SpI(" ",t.bMT(8,13,"lang_student_merge_student_required_click_merge")," "),t.R7$(2),t.Y8G("ngForOf",l.studentObjs),t.R7$(5),t.SpI(" ",t.bMT(15,15,"lang_student_merge_student_list_student_merge")," "),t.R7$(2),t.Y8G("ngForOf",l.studentMergeObjs),t.R7$(2),t.Y8G("disabled",l.studentMergeObjs&&l.studentMergeObjs.length<1),t.R7$(1),t.SpI(" ",t.bMT(20,17,"lang_student_merge_student_start_merge_list")," "),t.R7$(2),t.FS9("label",t.bMT(22,19,"lang_student_merge_student_revert")),t.R7$(6),t.SpI(" ",t.bMT(28,21,"lang_student_merge_student_list_submitted")," "),t.R7$(2),t.Y8G("ngForOf",l.studentMergeListObjs)}}let Or=(()=>{var r;class f extends i.H{showConfirmBox(){this.sAztDialogService.open(vr,{data:this.confirmBox,width:"500px"}).afterClosed().subscribe(m=>{m&&this.sendToServer()})}inMergeObjs(m){let c=!1,g=this.studentMergeObjs?.length??0;for(let D=0;D<g;D++)(this.studentMergeObjs?.[D].from?.id==m.id||this.studentMergeObjs?.[D].to?.id==m.id)&&(c=!0);return c}haveSelected(m){let c=!1;for(let g=0;g<this.selectObjs.length;g++)this.selectObjs[g].id==m.id&&(c=!0);return c}selectObj(m){this.haveSelected(m)?this.selectObjs=[]:this.selectObjs.push(m),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(m){this.studentMergeObjs?.[m]&&this.studentMergeObjs.splice(m,1)}sendToServer(){const m=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let c=[],g=this.studentMergeObjs?.length??0;for(let $t=0;$t<g;$t++){var D=this.studentMergeObjs?.[$t].from?.id,et=this.studentMergeObjs?.[$t].to?.id;D&&et&&c.push({fromId:D,toId:et})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:m,mergeObjs:c}).subscribe($t=>{1==$t.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj($t.message??"",!0)}))}getData(){this.initStatusObj();const m=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(m).subscribe(c=>{1==c.success?(this.studentObjs=this.sortService.sortFirstNameStudents(c?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(c.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const m=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(m).subscribe(c=>{1==c.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(c?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(c.message??"",!0)}))}revertStudent(m){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(m).subscribe(c=>{1==c.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(c.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(m,c,g,D,et){super(),this.activeRoute=m,this.studentService=c,this.mergeStudentService=g,this.sortService=D,this.sAztDialogService=et,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(O.nX),t.rXU(We.b0),t.rXU(We.$$),t.rXU(W.g),t.rXU(Vt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-merge-student"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0),t.DNE(1,Cr,1,1,"azt-loading-effect",1),t.DNE(2,jr,30,23,"ng-template",null,2,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.Y8G("headerBackToLink",c.backToLink),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g)}},dependencies:[x.YU,x.Sq,x.bT,Yn.mq,Yn.T8,vt.K,o.Q,z.wp],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),f})();var Er=p(16583);function wr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function Rr(r,f){if(1&r&&t.nrm(0,"azt-student-profile",4),2&r){const l=t.XpG();t.Y8G("studentId",l.studentId)("select",l.select)("classroomId",l.classroomId)("backToLink",l.backToLink)("paramBackToLink",l.paramBackToLink)("classroomList",l.classroomList)("isTeacherDashboard",!0)}}let Mr=(()=>{var r;class f extends i.H{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(m=>{1===m.success?(this.classroomList=m.data?.objs??[],this.classroomList.find(c=>c.id+"-"+c.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,it.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var m=this.commonService.getMyParam(this.activeRoute,"classroom_id"),c=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(m||"",10),this.studentId=parseInt(c||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??`/admin/student/classroom-details/${this.classroomId}/0`,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(m,c,g){super(),this.sAztDialogService=m,this.activeRoute=c,this.studentProfileV2Service=g,this.select=new ct.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Vt.i),t.rXU(O.nX),t.rXU(We.m_))},r.\u0275cmp=t.VBU({type:r,selectors:[["student-profile"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0),t.DNE(1,wr,1,1,"azt-loading-effect",1),t.DNE(2,Rr,1,7,"ng-template",null,2,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.Y8G("headerBackToLink",c.paramBackToLink),t.R7$(1),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g)}},dependencies:[x.bT,vt.K,Er.x,o.Q],encapsulation:2}),f})();var Fr=p(18586),Dr=p(25898);function Nr(r,f){1&r&&t.nrm(0,"azt-loading-ui",15)}function Gr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",16),2&r){const l=t.XpG();t.Y8G("currentStatusObj",l.statusObj)}}function $r(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function zr(r,f){if(1&r){const l=t.RV6();t.j41(0,"tr")(1,"td",26),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(3);return t.Njj(D.goToProfile(g.classroomId,g.id))}),t.nrm(2,"azt-student-info-box",27),t.k0s(),t.j41(3,"td",28),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",29)(7,"div",30)(8,"span"),t.EFF(9),t.nI1(10,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.j41(11,"td",29)(12,"form",31)(13,"textarea",32),t.bIt("change",function(){const g=t.eBV(l).$implicit;return t.Njj(g.commentControl.controls.isEditted.setValue(!0))}),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"td",29)(16,"span",33,34),t.bIt("click",function(){const g=t.eBV(l).$implicit,D=t.XpG(3);return t.Njj(D.showAllComment(g))}),t.nI1(18,"mytranslate"),t.nrm(19,"lucide-icon",35),t.k0s()()()}if(2&r){const l=f.$implicit,m=t.sdS(17);t.R7$(2),t.Y8G("name",l.fullName)("avatar",l.avatar)("gender",l.gender)("parentFullName",l.parentFullName)("parentId",l.parentId)("parentPhone",l.parentPhone)("hasUser",l.hasUser)("schoolName",l.schoolName)("classrooms",l.classrooms)("joinedAt",l.joinedAt),t.R7$(2),t.JRh(l.identificationNumber?t.i5U(5,18,l.identificationNumber,6):""),t.R7$(5),t.SpI(" ",t.bMT(10,21,l.commentControl.controls.updatedAt.value)," "),t.R7$(3),t.Y8G("formGroup",l.commentControl),t.R7$(1),t.FS9("placeholder",t.bMT(14,23,"lang_auto_nhap_nhan_xet")),t.Y8G("id","add_comment_"+l.id),t.R7$(3),t.FS9("matTooltip",t.bMT(18,25,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",m.isDisabled)}}function Pr(r,f){if(1&r&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",23),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",24),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",24),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"th",24),t.k0s()(),t.j41(17,"tbody"),t.DNE(18,zr,20,27,"tr",25),t.k0s()()()),2&r){const l=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(12,9,"lang_student_add_comment_date")),t.R7$(3),t.JRh(t.bMT(15,11,"lang_student_add_comment")),t.R7$(4),t.Y8G("ngForOf",l.listStudent)}}function Ar(r,f){if(1&r&&(t.DNE(0,$r,3,3,"div",17),t.DNE(1,Pr,19,13,"div",18)),2&r){const l=t.XpG();t.Y8G("ngIf",0==l.listStudent.length&&0==l.totalStudent),t.R7$(1),t.Y8G("ngIf",l.listStudent.length>0)}}function Lr(r,f){if(1&r){const l=t.RV6();t.j41(0,"azt-paging",39),t.bIt("goToPaginationPage",function(c){t.eBV(l);const g=t.XpG(2);return t.Njj(g.setPageStudent(c))}),t.k0s()}if(2&r){const l=t.XpG(2);t.Y8G("pageObj",l.pageObj)}}function Br(r,f){if(1&r&&(t.j41(0,"div",36),t.nrm(1,"div"),t.DNE(2,Lr,1,1,"azt-paging",37),t.j41(3,"div",38),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const l=t.XpG();t.R7$(2),t.Y8G("ngIf",l.totalStudent>l.pageObj.pageSize),t.R7$(2),t.Lme("",l.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}const Vr=[{path:"",component:fr,canActivate:[e.t],children:[{path:"merge-student/:id",component:Or},{path:"profile-student/:classroom_id/:id",component:Mr},{path:"manage-classroom/:id",component:hr},{path:"classroom-details/:id/:tabId",component:na},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:No},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{var r;class f extends i.H{goToProfile(m,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+c,"?backto="+encodeURIComponent("/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(m){var c="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,g="?page="+m+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(c,g),this.initStatusObj(),this.pageObj.setPageNumber(m),this.getListStudent()}onSearchBox(m){this.searchContentObj=m,this.setPageStudent(1)}showAllComment(m){this.sAztDialogService.open(Fr.U,{width:"700px",restoreFocus:!1,data:{student:m,isTeacher:!0}}).afterClosed().subscribe(c=>{c&&this.getListStudent()})}countChangedComment(){let m=0;return this.listStudent.forEach(c=>{c.commentControl.controls.isEditted.value&&!c.commentControl.controls.comment.value&&m++}),1==m}saveComment(){this.isSave=!0;let m=this.listStudent.filter(g=>g.commentControl.controls.isEditted.value&&g.commentControl.controls.comment.value).map(g=>({id:0,studentId:g.id,comment:g.commentControl.controls.comment.value}))??[],c={classroomId:this.classroomId,studentAssessments:m};if(0==m.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(c).subscribe(g=>{g.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(c=>{c?(this.listStudent=[],c.list.forEach(g=>{let D=this.sAztAssessmentStudentService.getLastAssessmentStudent(g);this.listStudent.push({...g,commentControl:new ct.gE({id:new ct.MJ(0,{nonNullable:!0}),updatedAt:new ct.MJ(D?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new ct.MJ(D?.comment??"",{nonNullable:!0}),isEditted:new ct.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(g.assessments),editComment:!1})}),this.totalStudent=c.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,it.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let m=this.commonService.getMyQueryParam("backto");this.backToLink=m||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(m,c,g,D){super(),this.sAztAssessmentStudentService=m,this.activeRoute=c,this.studentService=g,this.sAztDialogService=D,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new mt.Z,this.pageObj=new Fe.d(20)}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Dr.n),t.rXU(O.nX),t.rXU(wt.b),t.rXU(Vt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-add-student-comment"]],features:[t.Vt3],decls:21,vars:18,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"id","placeholder","change"],[1,"mr-2","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(m,c){if(1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(D){return c.onSearchBox(D.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"flexed-on-the-top",8)(12,"button",9),t.bIt("click",function(){return c.saveComment()}),t.DNE(13,Nr,1,0,"azt-loading-ui",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.j41(16,"div",11),t.DNE(17,Gr,1,1,"azt-loading-effect",12),t.DNE(18,Ar,2,2,"ng-template",null,13,t.C5r),t.k0s(),t.DNE(20,Br,6,5,"div",14),t.k0s()),2&m){const g=t.sdS(19);t.Y8G("headerBackToLink",c.backToLink),t.R7$(4),t.JRh(t.bMT(5,12,"lang_student_assessment_student")),t.R7$(5),t.Y8G("isServerSearch",!0)("searchContentObj",c.searchContentObj)("placeholder",t.bMT(10,14,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",c.isSave||c.countChangedComment()),t.R7$(1),t.Y8G("ngIf",c.isSave),t.R7$(1),t.SpI(" ",t.bMT(15,16,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",g),t.R7$(3),t.Y8G("ngIf",c.totalStudent>0)}},dependencies:[x.Sq,x.bT,A.oV,ct.qT,ct.me,ct.BC,ct.cb,ct.j4,ct.JD,vt.K,ge.q,b.t,Z.f,rt.R,Bi.$,Et.W,Be.B,o.Q,yt.WGl,z.wp,z.Po,z.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),f})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:Po},{path:"submit-score/:classroom_id/:program_id/:session_id",component:Ui},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let Ur=(()=>{var r;class f{}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[O.iI.forChild(Vr),O.iI,n.XE]}),f})()},14505:(Me,Wt,p)=>{p.d(Wt,{h:()=>Z});var O=p(54460),n=p(10936),e=p(89163),it=p(65162),i=p(69223),t=p(23047),T=p(15343),x=p(13763),o=p(10123),yt=p(25571),Dt=p(20378),Nt=p(5502),mt=p(46584),Rt=p(70050),V=p(7050),vt=p(91100),rt=p(43234),Et=p(52153),Q=p(62484),A=p(26860);let Z=(()=>{var z;class Ct{}return(z=Ct).\u0275fac=function(tt){return new(tt||z)},z.\u0275mod=A.$C({type:z}),z.\u0275inj=A.G2t({providers:[{provide:i.vn,useValue:rt.c.azt_tiny_mce_script_src}],imports:[it.iI,O.MD,mt.s,Dt.T_,i.sv,n.YN,n.X1,e.hM,Rt.L,x.Lk,Q.I,yt.xv,vt.Q,V.b,o.AC,T.flO.pick(T.Ptg),Nt.Id,t.Fr,Et.AzotaBusinessModule]}),Ct})()},66257:(Me,Wt,p)=>{p.d(Wt,{H:()=>O});var O=function(n){return n.none="None",n.asc="Asc",n.desc="Desc",n}(O||{})},48725:(Me,Wt,p)=>{p.d(Wt,{s:()=>n});var O=p(66257);class n{resetSortFieldName(it){this.fieldNameList.forEach(i=>{i.fieldName!==it.fieldName&&(i.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(it){this.fieldNameList=it}convertDataSort(it){switch(this.resetSortFieldName(it),it.typeFieldSort){case this.typeFieldSort.none:it.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:it.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:it.typeFieldSort=this.typeFieldSort.none}return{fieldName:it.fieldName,descending:it.typeFieldSort===this.typeFieldSort.desc,ignore:it.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=O.H,this.fieldNameList=[]}}},49221:(Me,Wt,p)=>{p.d(Wt,{R:()=>Nt});var O=p(59640),n=p(26860),e=p(54460),it=p(76975);function i(mt,Rt){if(1&mt){const V=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(V);const rt=n.XpG(2);return n.Njj(rt.clickToSeeMore())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&mt&&(n.R7$(1),n.JRh(n.bMT(2,1,"lang_cms_common_see_more")))}function t(mt,Rt){if(1&mt){const V=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(V);const rt=n.XpG(2);return n.Njj(rt.clickToShowShortContent())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&mt&&(n.R7$(1),n.JRh(n.bMT(2,1,"lang_cms_common_see_short_content")))}function T(mt,Rt){if(1&mt&&(n.j41(0,"div"),n.nrm(1,"span",2),n.nI1(2,"safeNormalHtmlContent"),n.DNE(3,i,3,3,"a",3),n.DNE(4,t,3,3,"a",3),n.k0s()),2&mt){const V=n.XpG();n.R7$(1),n.Y8G("innerHTML",n.bMT(2,3,V.showContent),n.npT),n.R7$(2),n.Y8G("ngIf",V.showSeeMoreButton&&V.content.length>V.maxLength),n.R7$(1),n.Y8G("ngIf",V.showShortContentButton&&V.content.length>V.maxLength)}}function x(mt,Rt){if(1&mt&&(n.nrm(0,"span",10),n.nI1(1,"safeNormalHtmlContent")),2&mt){const V=n.XpG(2);n.Y8G("innerHTML",n.bMT(1,1,V.showContent),n.npT)}}function o(mt,Rt){if(1&mt){const V=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(V);const rt=n.XpG(2);return n.Njj(rt.clickToSeeMore())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}if(2&mt){const V=n.XpG(2);n.Aen("position: absolute; bottom: 0; right: 0; background-color: "+V.backgroundColor),n.R7$(1),n.SpI(" ...",n.bMT(2,3,"lang_cms_common_see_more")," ")}}function yt(mt,Rt){if(1&mt){const V=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(V);const rt=n.XpG(2);return n.Njj(rt.clickToShowShortContent())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&mt&&(n.R7$(1),n.JRh(n.bMT(2,1,"lang_cms_common_see_short_content")))}function Dt(mt,Rt){if(1&mt&&(n.j41(0,"div",5),n.nrm(1,"div",6),n.nI1(2,"safeNormalHtmlContent"),n.nrm(3,"div",6,7),n.nI1(5,"safeNormalHtmlContent"),n.DNE(6,x,2,3,"span",8),n.DNE(7,o,3,5,"a",9),n.DNE(8,yt,3,3,"a",3),n.k0s()),2&mt){const V=n.sdS(4),vt=n.XpG();n.R7$(1),n.Aen(vt.styleContent),n.Y8G("innerHTML",n.bMT(2,9,vt.showContent),n.npT),n.R7$(2),n.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),n.Y8G("innerHTML",n.bMT(5,11,vt.showContent),n.npT),n.R7$(3),n.Y8G("ngIf",vt.showShortContentButton),n.R7$(1),n.Y8G("ngIf",vt.showSeeMoreButton&&V.offsetHeight>20*vt.maxLine),n.R7$(1),n.Y8G("ngIf",vt.showShortContentButton&&V.offsetHeight>20*vt.maxLine)}}let Nt=(()=>{var mt;class Rt extends O.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let vt=this.commonService.removeTagHtml(this.content);if(this.maxLength&&vt.length>this.maxLength)this.showContent=this.showSeeMoreButton?vt.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var rt=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+rt+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return(mt=Rt).\u0275fac=function(vt){return new(vt||mt)},mt.\u0275cmp=n.VBU({type:mt,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[n.Vt3,n.OA$],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(vt,rt){1&vt&&(n.DNE(0,T,5,5,"div",0),n.DNE(1,Dt,9,13,"div",1)),2&vt&&(n.Y8G("ngIf",rt.maxLength),n.R7$(1),n.Y8G("ngIf",rt.maxLine&&!rt.maxLength))},dependencies:[e.bT,it.wp,it._y],encapsulation:2}),Rt})()},66729:(Me,Wt,p)=>{p.d(Wt,{D:()=>Nt});var O=p(59640),n=p(26860),e=p(54460),it=p(47712),i=p(76975);function t(mt,Rt){1&mt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&mt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_dat")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_d_upper")))}function T(mt,Rt){1&mt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&mt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_chua_dat")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_cd_upper")))}function x(mt,Rt){1&mt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&mt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_hoan_thanh")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_tag_ht")))}function o(mt,Rt){1&mt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&mt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_chua_hoan_thanh")),n.R7$(2),n.SpI("",n.bMT(3,4,"lang_auto_tag_CHT")," "))}function yt(mt,Rt){1&mt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&mt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_hoan_thanh_tot")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_tag_HTT")))}function Dt(mt,Rt){if(1&mt&&(n.j41(0,"span",3),n.EFF(1),n.k0s()),2&mt){const V=n.XpG();n.R7$(1),n.JRh(V.mark)}}let Nt=(()=>{var mt;class Rt extends O.H{constructor(){super(...arguments),this.mark=0}}return(mt=Rt).\u0275fac=function(){let V;return function(rt){return(V||(V=n.xGo(mt)))(rt||mt)}}(),mt.\u0275cmp=n.VBU({type:mt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[n.Vt3],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(vt,rt){1&vt&&(n.DNE(0,t,4,6,"span",0),n.DNE(1,T,4,6,"span",0),n.DNE(2,x,4,6,"span",0),n.DNE(3,o,4,6,"span",0),n.DNE(4,yt,4,6,"span",0),n.DNE(5,Dt,2,1,"span",1)),2&vt&&(n.Y8G("ngIf","1000"==rt.mark),n.R7$(1),n.Y8G("ngIf","1001"==rt.mark),n.R7$(1),n.Y8G("ngIf","2000"==rt.mark),n.R7$(1),n.Y8G("ngIf","2001"==rt.mark),n.R7$(1),n.Y8G("ngIf","3000"==rt.mark),n.R7$(1),n.Y8G("ngIf","2001"!=rt.mark&&"2000"!=rt.mark&&"1001"!=rt.mark&&"1000"!=rt.mark&&"3000"!=rt.mark))},dependencies:[e.bT,it.oV,i.wp],encapsulation:2}),Rt})()},74637:(Me,Wt,p)=>{p.d(Wt,{E:()=>Et});var O=p(26860),n=p(59640),e=p(54460),it=p(17818),i=p(15343),t=p(76975);function T(Q,A){1&Q&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_core_thang")))}function x(Q,A){if(1&Q&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q){const Z=O.XpG();O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_thang")," ",Z.dataFilter.monthSelected,"")}}function o(Q,A){1&Q&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_core_nam")))}function yt(Q,A){if(1&Q&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q){const Z=O.XpG();O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_nam")," ",Z.dataFilter.yearSelected,"")}}function Dt(Q,A){1&Q&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_auto_tat_ca")))}function Nt(Q,A){if(1&Q&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q){const Z=O.XpG().index;O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_thang")," ",Z,"")}}function mt(Q,A){if(1&Q){const Z=O.RV6();O.j41(0,"li",13),O.bIt("click",function(){const jt=O.eBV(Z).index,tt=O.XpG();return O.Njj(tt.selectMonth(jt))}),O.DNE(1,Dt,3,3,"span",14),O.DNE(2,Nt,3,4,"span",14),O.k0s()}if(2&Q){const Z=A.index,z=O.XpG();O.Y8G("ngClass",z.dataFilter.monthSelected==Z?"color-select":""),O.R7$(1),O.Y8G("ngIf",0==Z),O.R7$(1),O.Y8G("ngIf",Z>0)}}function Rt(Q,A){1&Q&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_auto_tat_ca")))}function V(Q,A){if(1&Q&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&Q){const Z=O.XpG().index,z=O.XpG();O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_nam")," ",z.currentDate.getFullYear()-(Z-1),"")}}function vt(Q,A){if(1&Q){const Z=O.RV6();O.j41(0,"li",15),O.bIt("click",function(){const jt=O.eBV(Z).index,tt=O.XpG();return O.Njj(tt.selectYear(jt))}),O.DNE(1,Rt,3,3,"span",14),O.DNE(2,V,3,4,"span",14),O.k0s()}if(2&Q){const Z=A.index,z=O.XpG();O.Y8G("ngClass",!z.dataFilter.yearSelected||z.currentDate.getFullYear()-(z.dataFilter.yearSelected-1)!=Z&&0!=z.dataFilter.yearSelected?"":"color-select"),O.R7$(1),O.Y8G("ngIf",0==Z),O.R7$(1),O.Y8G("ngIf",Z>0)}}const rt=function(){return[]};let Et=(()=>{var Q;class A extends n.H{selectMonth(z){this.isApply=!0,this.dataFilter.monthSelected=z,this.sendFilter.emit(this.dataFilter)}selectYear(z){this.isApply=!0,this.dataFilter.yearSelected=z>0?this.currentDate.getFullYear()-(z-1):z,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new O.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return(Q=A).\u0275fac=function(z){return new(z||Q)},Q.\u0275cmp=O.VBU({type:Q,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[O.Vt3],decls:22,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(z,Ct){if(1&z&&(O.j41(0,"div",0)(1,"div",1),O.EFF(2),O.nI1(3,"mytranslate"),O.k0s(),O.j41(4,"div",2),O.DNE(5,T,3,3,"span",3),O.DNE(6,x,3,4,"span",3),O.nrm(7,"lucide-icon",4),O.k0s(),O.j41(8,"div",2),O.DNE(9,o,3,3,"span",3),O.DNE(10,yt,3,4,"span",3),O.nrm(11,"lucide-icon",4),O.k0s()(),O.j41(12,"mat-menu",5,6)(14,"div",7)(15,"ul",8),O.DNE(16,mt,3,3,"li",9),O.k0s()()(),O.j41(17,"mat-menu",5,10)(19,"div",7)(20,"ul",8),O.DNE(21,vt,3,3,"li",11),O.k0s()()()),2&z){const jt=O.sdS(13),tt=O.sdS(18);O.R7$(2),O.SpI(" ",O.bMT(3,9,"lang_testbank_tested_list_sort"),": "),O.R7$(2),O.Y8G("matMenuTriggerFor",jt),O.R7$(1),O.Y8G("ngIf",!Ct.dataFilter.monthSelected),O.R7$(1),O.Y8G("ngIf",Ct.dataFilter.monthSelected&&Ct.dataFilter.monthSelected>0),O.R7$(2),O.Y8G("matMenuTriggerFor",tt),O.R7$(1),O.Y8G("ngIf",!Ct.dataFilter.yearSelected),O.R7$(1),O.Y8G("ngIf",Ct.dataFilter.yearSelected&&Ct.dataFilter.yearSelected>0),O.R7$(6),O.Y8G("ngForOf",O.lJ4(11,rt).constructor(13)),O.R7$(5),O.Y8G("ngForOf",O.lJ4(12,rt).constructor(10))}},dependencies:[e.YU,e.Sq,e.bT,it.kk,it.Cp,i.WGl,t.wp],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]}),A})()},16583:(Me,Wt,p)=>{p.d(Wt,{x:()=>Sn});var O=p(10936),n=p(59640),e=p(26860),it=p(31216),i=p(2812),t=p(50589);let T=(()=>{var I;class q{countChecked(j){var $=0;for(var kt in j)!0===j[kt]&&($+=1);return $}getDefaultFilterObj(j){var $=this.localStorageSlug+j;if(this.listFilterObjs[$])return this.listFilterObjs[$];var kt=this.getInitFilterObj(),se=this.browserStorageService.getSimpleStorage($),Ve=this.commonService.castJsonToObj(se??"");return Ve&&(kt=Ve),kt}saveFilterObj(j,$){var kt=this.localStorageSlug+j;this.listFilterObjs[kt]=$,this.browserStorageService.saveSimpleStorage(kt,this.commonService.serializeJson($))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(j,$){this.commonService=j,this.browserStorageService=$,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return(I=q).\u0275fac=function(j){return new(j||I)(e.KVO(i.R),e.KVO(t.z))},I.\u0275prov=e.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),q})();var x=p(51913),o=p(54460),yt=p(47712),Dt=p(15343),Nt=p(18718),mt=p(66729),Rt=p(17818),V=p(76975);function vt(I,q){if(1&I&&(e.j41(0,"span"),e.EFF(1,"\xa0"),e.j41(2,"span",20),e.EFF(3),e.k0s()()),2&I){const y=e.XpG();e.R7$(3),e.JRh(y.totalCustomFilter)}}function rt(I,q){if(1&I){const y=e.RV6();e.j41(0,"li")(1,"label",21),e.bIt("click",function($){return $.stopPropagation()}),e.EFF(2),e.nI1(3,"mytranslate"),e.j41(4,"div",9)(5,"input",22),e.bIt("change",function(){e.eBV(y);const $=e.XpG();return $.filterObj.getResendAnswer=!$.filterObj.getResendAnswer,e.Njj($.changeFilter())}),e.k0s()()()()}if(2&I){const y=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.R7$(3),e.Y8G("checked",y.filterObj.getResendAnswer)}}const Et=function(){return{" mr-0 md:mr-2":!0}};let Q=(()=>{var I;class q extends n.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(j){super(),this.studentProfileFilterService=j,this.filterType="",this.changeFilterEvent=new e.bkB,this.totalCustomFilter=0}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(T))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.Vt3],decls:40,vars:26,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","search","size","20",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(j,$){if(1&j&&(e.j41(0,"button",0),e.nrm(1,"lucide-icon",1),e.j41(2,"span",2),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,vt,4,1,"span",3),e.k0s()(),e.j41(6,"mat-menu",4,5)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),e.bIt("click",function(se){return se.stopPropagation()}),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"div",9)(15,"input",10),e.bIt("change",function(){return $.filterObj.getHasMark=!$.filterObj.getHasMark,$.changeFilter()}),e.k0s()()()(),e.j41(16,"li")(17,"label",11),e.bIt("click",function(se){return se.stopPropagation()}),e.EFF(18),e.nI1(19,"mytranslate"),e.j41(20,"div",9)(21,"input",12),e.bIt("change",function(){return $.filterObj.getNotMarked=!$.filterObj.getNotMarked,$.changeFilter()}),e.k0s()()()(),e.j41(22,"li")(23,"label",13),e.bIt("click",function(se){return se.stopPropagation()}),e.EFF(24),e.nI1(25,"mytranslate"),e.j41(26,"div",9)(27,"input",14),e.bIt("change",function(){return $.filterObj.getNotDone=!$.filterObj.getNotDone,$.changeFilter()}),e.k0s()()()(),e.DNE(28,rt,6,4,"li",3),e.j41(29,"li"),e.nrm(30,"hr",15),e.k0s(),e.j41(31,"li")(32,"div",16)(33,"button",17),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",18),e.bIt("click",function(se){return se.stopPropagation()}),e.j41(37,"button",19),e.bIt("click",function(){return $.clearFilter()}),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()()()()()()()),2&j){const kt=e.sdS(7);e.Y8G("matMenuTriggerFor",kt),e.R7$(1),e.Y8G("ngClass",e.lJ4(25,Et)),e.R7$(2),e.SpI(" ",e.bMT(4,13,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",$.totalCustomFilter>0),e.R7$(7),e.SpI(" ",e.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),e.R7$(3),e.Y8G("checked",$.filterObj.getHasMark),e.R7$(3),e.SpI(" ",e.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),e.R7$(3),e.Y8G("checked",$.filterObj.getNotMarked),e.R7$(3),e.SpI(" ",e.bMT(25,19,"exam"==$.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.R7$(3),e.Y8G("checked",$.filterObj.getNotDone),e.R7$(1),e.Y8G("ngIf","homework"==$.filterType),e.R7$(6),e.JRh(e.bMT(35,21,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(39,23,"lang_button_delete"))}},dependencies:[o.YU,o.bT,Rt.kk,Rt.Cp,Dt.WGl,V.wp],encapsulation:2}),q})();function A(I,q){if(1&I&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&I){const y=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",y.resultMarkObj.point)}}function Z(I,q){1&I&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function z(I,q){if(1&I&&(e.qex(0),e.DNE(1,A,4,4,"span",13),e.DNE(2,Z,3,3,"span",16),e.bVm()),2&I){const y=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",y.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!y.resultMarkObj.confirmedAt)}}function Ct(I,q){1&I&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}const jt=function(){return{"text-pending":!0}},tt=function(I){return{truncate:I}},Tt=function(){return{"max-width":"85%"}},zt=function(){return{}};function Gt(I,q){if(1&I){const y=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const kt=e.eBV(y).$implicit,se=e.XpG();return e.Njj(se.clickToExamObj(kt))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,z,3,2,"ng-container",13),e.DNE(8,Ct,3,3,"span",14),e.k0s(),e.j41(9,"div",15),e.EFF(10),e.nI1(11,"mytranslate"),e.nI1(12,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&I){const y=q.$implicit,j=q.index,$=e.XpG();e.ZvI("clickable zoom-in flex items-center ",j>0?"mt-3":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(17,jt)),e.R7$(2),e.FS9("matTooltip",y.name),e.Y8G("ngClass",e.eq3(18,tt,!$.isMobileDevice))("ngStyle",$.isMobileDevice?e.lJ4(21,zt):e.lJ4(20,Tt)),e.R7$(1),e.Lme("",j+1,". ",y.name,""),e.R7$(2),e.Y8G("ngIf",y.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!y.resultMarkObj),e.R7$(2),e.Lme("",e.bMT(11,13,"lang_student_profile_utils_list_exam_created_at"),": ",e.bMT(12,15,y.createdAt),"")}}function Xt(I,q){1&I&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function ae(I,q){if(1&I&&e.nrm(0,"azt-loading-effect",25),2&I){const y=e.XpG(2);e.Y8G("currentStatusObj",y.statusObj)}}function xe(I,q){if(1&I){const y=e.RV6();e.j41(0,"div",21),e.DNE(1,ae,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.bIt("click",function(){e.eBV(y);const $=e.XpG();return e.Njj($.getNextExamResultObjs())}),e.nI1(3,"mytranslate"),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&I){const y=e.XpG();e.R7$(1),e.Y8G("ngIf",y.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),e.Y8G("disabled",!y.examNextPage)}}let Se=(()=>{var I;class q extends n.H{clickToExamObj(j){this.isTeacher?j.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",j)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+j.id+"/"+j.resultMarkObj?.userId+"/"+j.resultMarkObj?.studentId+"/"+(j.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(j.categoryId??0)+"/"+j.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(j.resultMarkObj?.resultId?"/test/answer-test/"+j.resultMarkObj?.userId+"/0/"+j.hashId+"/"+(j.resultMarkObj?.resultId??0):"/de-thi/"+j.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var j=this.studentProfileFilterService.getDefaultFilterObj("exam");j.classroomId=this.classroomId,j.studentId=this.studentId,j.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(j).subscribe($=>{1==$.success?(this.examObjs=this.examObjs.concat($.data?.objs??[]),this.examNextPage=$.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(j,$,kt){super(),this.studentProfileV2Service=j,this.studentProfileFilterService=$,this.permissionService=kt,this.backToLink="",this.isTeacher=!0,this.examObjs=[],this.examNextPage=""}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(it.m_),e.rXU(T),e.rXU(x.p))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","file-check","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"font-medium",3,"ngClass","ngStyle","matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(j,$){1&j&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return $.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Gt,13,22,"div",4),e.DNE(7,Xt,3,3,"div",5),e.DNE(8,xe,5,5,"div",6),e.k0s()),2&j&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.R7$(2),e.Y8G("filterType","exam"),e.R7$(2),e.Y8G("ngForOf",$.examObjs),e.R7$(1),e.Y8G("ngIf",0==$.examObjs.length&&!$.examNextPage),e.R7$(1),e.Y8G("ngIf",$.examObjs.length>0&&$.examNextPage))},dependencies:[o.YU,o.Sq,o.bT,o.B3,yt.oV,Dt.WGl,Nt.K,mt.D,Q,V.wp,V.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),q})();var De=p(47426),Ne=p(74960),Pt=p(4375),Zt=p(89163),Ut=p(33887),At=p(2915),Mt=p(52811);function Jt(I,q){1&I&&e.nrm(0,"azt-loading-ui",11)}let oe=(()=>{var I;class q extends Ut._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(j=>{1==j.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(j.message??"",!0))}))}btnCloseDialog(j){this.dialogRef.close(j)}constructor(j,$,kt){super(kt,$),this.studentService=j,this.dialogRef=$,this.data=kt,this.studentObj=kt.studentObj,this.classroomObj=kt.classroomObj}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(it.b0),e.rXU(Zt.CP,8),e.rXU(Zt.Vh,8))},I.\u0275cmp=e.VBU({type:I,selectors:[["app-delete-parent"]],features:[e.Vt3],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(j,$){1&j&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"span",5),e.EFF(12),e.k0s(),e.EFF(13,"\xa0 "),e.j41(14,"span",6),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()(),e.j41(17,"div",7)(18,"button",8),e.bIt("click",function(){return $.btnCloseDialog(!1)}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",9),e.bIt("click",function(){return $.confirmDelete()}),e.DNE(22,Jt,1,0,"azt-loading-ui",10),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()),2&j&&(e.R7$(5),e.SpI(" ",e.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.R7$(3),e.JRh($.studentObj.fullName),e.R7$(1),e.SpI(" ",e.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.R7$(2),e.FS9("matTooltip",$.classroomObj.name),e.R7$(1),e.SpI(" ",$.classroomObj.name,""),e.R7$(3),e.SpI("* ",e.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),e.R7$(4),e.SpI(" ",e.bMT(20,15,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",$.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[o.bT,yt.oV,At.U,Mt.R,V.wp],encapsulation:2}),q})();var St=p(14999),lt=p(46723),J=p(46899),Y=p(5800);function ft(I,q){if(1&I&&e.nrm(0,"azt-loading-effect",3),2&I){const y=e.XpG();e.Y8G("currentStatusObj",y.statusObj)}}const Bt=function(){return{" mr-2 text-primary":!0}};function qt(I,q){if(1&I){const y=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(y);const $=e.XpG(4);return e.Njj($.editStudentDialog($.studentObj))}),e.nrm(1,"lucide-icon",16),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&I&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,Bt)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_button_edit")," "))}const he=function(){return{" mr-2 text-danger":!0}};function Qe(I,q){if(1&I){const y=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(y);const $=e.XpG(4);return e.Njj($.deleteStudentDialog($.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&I&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,he)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}const pn=function(){return{" mr-2 text-warning":!0}};function ln(I,q){if(1&I){const y=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(y);const $=e.XpG(4);return e.Njj($.deleteParentOfStudentDialog($.studentObj))}),e.nrm(1,"lucide-icon",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&I&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,pn)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function cn(I,q){if(1&I&&(e.j41(0,"div",11),e.DNE(1,qt,4,5,"button",12),e.nI1(2,"editPermission"),e.DNE(3,Qe,4,5,"button",13),e.nI1(4,"fullPermission"),e.nI1(5,"editPermission"),e.DNE(6,ln,4,5,"button",14),e.nI1(7,"editPermission"),e.k0s()),2&I){const y=e.XpG(3);e.R7$(1),e.Y8G("ngIf",e.i5U(2,3,y.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",e.i5U(4,6,y.classroomObj,"student")||e.i5U(5,9,y.classroomObj,"student")),e.R7$(3),e.Y8G("ngIf",0!=y.studentObj.parentId&&e.i5U(7,12,y.classroomObj,"student"))}}function $e(I,q){if(1&I){const y=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(y);const $=e.XpG(4);return e.Njj($.deleteStudentDialog($.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&I&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,he)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function gn(I,q){if(1&I){const y=e.RV6();e.j41(0,"div",11)(1,"button",21),e.bIt("click",function(){e.eBV(y);const $=e.XpG(3);return e.Njj($.editStudentDialog($.studentObj))}),e.nrm(2,"lucide-icon",16),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,$e,4,5,"button",22),e.nI1(6,"fullPermission"),e.nI1(7,"editPermission"),e.k0s()}if(2&I){const y=e.XpG(3);e.R7$(2),e.Y8G("ngClass",e.lJ4(11,Bt)),e.R7$(1),e.SpI(" ",e.bMT(4,3,"lang_button_edit")," "),e.R7$(2),e.Y8G("ngIf",e.i5U(6,5,y.classroomObj,"student")||e.i5U(7,8,y.classroomObj,"student"))}}const hn=function(){return[]};function mn(I,q){if(1&I&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"azt-student-info-box",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,cn,8,15,"div",10),e.nI1(6,"editPermission"),e.DNE(7,gn,8,12,"div",10),e.nI1(8,"editPermission"),e.k0s()(),e.bVm()),2&I){const y=e.XpG(2);let j;e.R7$(3),e.Y8G("name",y.studentObj.fullName)("parentFullName",y.studentObj.parentFullName)("parentId",y.studentObj.parentId)("parentPhone",y.studentObj.parentPhone)("phone",y.studentObj.phone)("email",y.studentObj.email)("birthday",y.studentObj.birthday)("avatar",y.studentObj.avatar)("gender",y.studentObj.gender)("schoolName",null==y.studentObj.moreInfo?null:y.studentObj.moreInfo.schoolName)("facebookLink",null==y.studentObj.moreInfo?null:y.studentObj.moreInfo.facebookLink)("identificationNumber",y.studentObj.identificationNumber)("hasUser",1==y.studentObj.isVerified)("classrooms",null!==(j=null==y.studentObj.moreInfo?null:y.studentObj.moreInfo.classrooms)&&void 0!==j?j:e.lJ4(23,hn))("joinedAt",null==y.studentObj.moreInfo?null:y.studentObj.moreInfo.joinedAt),e.R7$(2),e.Y8G("ngIf",y.isTeacher&&0!=y.studentObj.parentId&&e.i5U(6,17,y.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",y.isTeacher&&0==y.studentObj.parentId&&e.i5U(8,20,y.classroomObj,"student"))}}function en(I,q){1&I&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&I&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_profile_student_not_found")))}function nn(I,q){if(1&I&&(e.DNE(0,mn,9,24,"ng-container",4),e.DNE(1,en,4,3,"ng-template",null,5,e.C5r)),2&I){const y=e.sdS(2),j=e.XpG();e.Y8G("ngIf",j.studentObj)("ngIfElse",y)}}const on=function(I){return{"pb-5":I}};let st=(()=>{var I;class q extends n.H{deleteStudentDialog(j){this.sAztDialogService.open(St.d,{data:{studentObj:j,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(j){this.sAztDialogService.open(lt.B,{data:{studentObj:j,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(j){this.sAztDialogService.open(oe,{data:{studentObj:j,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(j){super(),this.sAztDialogService=j,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.bkB}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(J.i))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:5,consts:[[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","phone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(j,$){if(1&j&&(e.j41(0,"div",0),e.DNE(1,ft,1,1,"azt-loading-effect",1),e.DNE(2,nn,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&j){const kt=e.sdS(3);e.Y8G("ngClass",e.eq3(3,on,!$.studentObj)),e.R7$(1),e.Y8G("ngIf",$.statusObj.loading)("ngIfElse",kt)}},dependencies:[o.YU,o.bT,Dt.WGl,Nt.K,Y.B,V.wp,V.gC,V.FV],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),q})();var Yt=p(71703),ot=p(95624);let nt=(()=>{var I;class q extends n.H{constructor(j,$){super(),this.studentService=j,this.sAztDialogService=$,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(Yt.V,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(j=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(j=>{j?(this.attendanceObj=j,this.avgPoint=j.averageMark??0,this.studentObj=j.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(ot.b0),e.rXU(J.i))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole"},features:[e.Vt3,e.OA$],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check","size","24"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off","size","24"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","octagon-alert","size","24"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","octagon-x","size","24"],[1,"text-2xl","text-danger","font-medium"]],template:function(j,$){1&j&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e.nrm(7,"lucide-icon",7),e.k0s()(),e.j41(8,"div",8),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"a",9),e.bIt("click",function(){return $.showTotalPointDetail()}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",10),e.EFF(15),e.k0s()()()(),e.j41(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),e.nrm(21,"lucide-icon",13),e.k0s()(),e.j41(22,"div",8),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s(),e.j41(25,"div",10),e.EFF(26),e.k0s()()()(),e.j41(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),e.nrm(32,"lucide-icon",15),e.k0s()(),e.j41(33,"div",8),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",16),e.EFF(37),e.k0s()()()(),e.j41(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),e.nrm(43,"lucide-icon",18),e.k0s()(),e.j41(44,"div",8),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s(),e.j41(47,"div",19),e.EFF(48),e.k0s()()()(),e.j41(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),e.nrm(54,"lucide-icon",21),e.k0s()(),e.j41(55,"div",8),e.EFF(56),e.nI1(57,"mytranslate"),e.k0s(),e.j41(58,"div",22),e.EFF(59),e.k0s()()()()()()),2&j&&(e.R7$(9),e.SpI(" ",e.bMT(10,11,"lang_business_diem_tong_ket")," "),e.R7$(3),e.SpI("(",e.bMT(13,13,"lang_auto_xem_chi_tiet"),")"),e.R7$(3),e.JRh($.avgPoint),e.R7$(8),e.JRh(e.bMT(24,15,"lang_student_number_of_sessions_attended")),e.R7$(3),e.JRh(null==$.attendanceObj?null:$.attendanceObj.totalAttend),e.R7$(8),e.JRh(e.bMT(35,17,"lang_student_number_of_sessions_missed")),e.R7$(3),e.JRh(null==$.attendanceObj?null:$.attendanceObj.totalAbsence),e.R7$(8),e.JRh(e.bMT(46,19,"lang_student_number_of_approved_absences")),e.R7$(3),e.JRh(null==$.attendanceObj?null:$.attendanceObj.totalAbsentPermission),e.R7$(8),e.JRh(e.bMT(57,21,"lang_student_number_of_unauthorized_absences")),e.R7$(3),e.JRh(null==$.attendanceObj?null:$.attendanceObj.totalAbsentWithoutPermission))},dependencies:[Dt.WGl,V.wp],encapsulation:2}),q})();var at=p(10123);function Ht(I,q){if(1&I&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()),2&I){const y=q.$implicit,j=q.index;e.R7$(2),e.JRh(j+1),e.R7$(2),e.JRh(y.bookName),e.R7$(2),e.JRh(e.bMT(7,3,y.createdAt))}}function ue(I,q){if(1&I&&(e.qex(0),e.DNE(1,Ht,8,5,"tr",9),e.bVm()),2&I){const y=e.XpG();e.R7$(1),e.Y8G("ngForOf",y.bookDistributionList)}}function Kt(I,q){1&I&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&I&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Ie=(()=>{var I;class q extends n.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(j=>{j?(this.bookDistributionList=j.list,this.totalBookDistribution=j.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(j){super(),this.studentService=j,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(ot.b0))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(j,$){if(1&j&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()(),e.j41(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",6),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",6),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,ue,2,1,"ng-container",7),e.DNE(20,Kt,4,3,"ng-template",null,8,e.C5r),e.k0s()()()()),2&j){const kt=e.sdS(21);e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_student_total")+": "+$.totalBookDistribution," "),e.R7$(8),e.SpI(" ",e.bMT(11,8,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_core_ten_sach")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_auto_thoi_gian")," "),e.R7$(3),e.Y8G("ngIf",$.bookDistributionList.length)("ngIfElse",kt)}},dependencies:[o.Sq,o.bT,at.jd,at.Ew,V.wp,V.bH],encapsulation:2}),q})();var ce=p(23047),Fe=p(9280),ne=p(9691),fe=p(17776),je=p(19258),Le=p(10805);function Be(I,q){if(1&I&&e.nrm(0,"azt-loading-effect",3),2&I){const y=e.XpG();e.Y8G("currentStatusObj",y.statusObj)}}function Cn(I,q){if(1&I&&(e.j41(0,"span",25),e.EFF(1),e.k0s()),2&I){const y=e.XpG(3).$implicit;e.R7$(1),e.JRh(y.averageMark)}}const Ge=function(I){return{"width.%":I}};function B(I,q){if(1&I&&(e.j41(0,"div",23),e.DNE(1,Cn,2,1,"span",24),e.k0s()),2&I){const y=e.XpG(2).$implicit;e.Y8G("ngStyle",e.eq3(2,Ge,10*y.averageMark)),e.R7$(1),e.Y8G("ngIf",y.averageMark&&y.averageMark>1)}}function Ot(I,q){if(1&I&&(e.j41(0,"div",16)(1,"div",17)(2,"span",18),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",19),e.EFF(6,"0"),e.k0s(),e.j41(7,"div",20),e.DNE(8,B,2,4,"div",21),e.k0s(),e.j41(9,"span",22),e.EFF(10,"10"),e.k0s()()()),2&I){const y=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_diem_trung_binh")),e.R7$(5),e.Y8G("ngIf",y.averageMark)}}function R(I,q){1&I&&(e.j41(0,"div",26)(1,"span",27),e.nrm(2,"azt-loading-ui"),e.k0s()())}function H(I,q){1&I&&(e.qex(0),e.j41(1,"div",30)(2,"span",31),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&I&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_profile_student_not_support_subject")))}function X(I,q){if(1&I&&e.nrm(0,"coazt-student-skill-chapter",40),2&I){const y=e.XpG(3).$implicit,j=e.XpG(2);e.Y8G("levelId",y.levelId)("subjectId",y.subjectId)("userId",j.studentObj.parentId)}}function pt(I,q){if(1&I&&(e.j41(0,"span",25),e.EFF(1),e.k0s()),2&I){const y=e.XpG(2).$implicit;e.R7$(1),e.JRh(y.averageMark)}}const Vt=function(I,q,y,j){return{"bg-orange-600":I,"bg-red-600":q,"bg-green-600":y,"bg-blue-600":j}};function ge(I,q){if(1&I&&(e.j41(0,"div",53),e.DNE(1,pt,2,1,"span",24),e.k0s()),2&I){const y=e.XpG().$implicit;e.Y8G("ngClass",e.ziG(3,Vt,1==y.id,3==y.id,2==y.id,4==y.id))("ngStyle",e.eq3(8,Ge,10*y.averageMark)),e.R7$(1),e.Y8G("ngIf",y.averageMark>1)}}const me=function(I){return{"border-none":I}};function ze(I,q){if(1&I&&(e.j41(0,"div",43)(1,"div",44)(2,"div",45)(3,"h3",46),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",47)(7,"h3",46),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12," / "),e.j41(13,"b"),e.EFF(14),e.k0s(),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",48)(18,"div",49)(19,"span",50),e.EFF(20,"0"),e.k0s(),e.j41(21,"div",51),e.DNE(22,ge,2,10,"div",52),e.k0s(),e.j41(23,"span",22),e.EFF(24,"10"),e.k0s()()()()()),2&I){const y=q.$implicit;e.Y8G("ngClass",e.eq3(13,me,q.last)),e.R7$(4),e.SpI(" ",e.bMT(5,7,y.name)," "),e.R7$(4),e.SpI(" ",e.bMT(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),e.R7$(3),e.JRh(y.totalCorrectQuestion),e.R7$(3),e.JRh(y.totalQuestion),e.R7$(1),e.SpI(" \xa0",e.bMT(16,11,"azt_lang_sugg_question")," "),e.R7$(7),e.Y8G("ngIf",y.averageMark)}}function Pe(I,q){if(1&I&&(e.qex(0),e.j41(1,"div",41)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,ze,25,15,"div",42),e.bVm()),2&I){const y=e.XpG(3).$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.R7$(2),e.Y8G("ngForOf",y.difficultyDataObjs)}}function fn(I,q){if(1&I&&(e.DNE(0,X,1,3,"coazt-student-skill-chapter",32),e.j41(1,"div",33)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",35)(6,"div",36)(7,"div",37),e.nrm(8,"div",38),e.k0s()()(),e.DNE(9,Pe,6,4,"ng-container",39)),2&I){const y=e.XpG(2).$implicit,j=e.XpG(2);e.Y8G("ngIf",!j.isTqbDomain),e.R7$(3),e.SpI(" ",e.bMT(4,4,"lang_student_profile_exam_point_by_time")," "),e.R7$(5),e.Y8G("chart",y.chart),e.R7$(1),e.Y8G("ngIf",y.difficultyDataObjs&&y.difficultyDataObjs.length&&!j.isTqbDomain)}}function Ze(I,q){if(1&I&&(e.DNE(0,H,5,3,"ng-container",28),e.DNE(1,fn,10,6,"ng-template",null,29,e.C5r)),2&I){const y=e.sdS(2),j=e.XpG().$implicit;e.Y8G("ngIf",j.errorGetData)("ngIfElse",y)}}function M(I,q){if(1&I){const y=e.RV6();e.qex(0),e.j41(1,"mat-expansion-panel",8),e.bIt("opened",function(){const kt=e.eBV(y).index,se=e.XpG(2);return e.Njj(se.getStatisticalById(kt))}),e.j41(2,"mat-expansion-panel-header",9)(3,"div",10)(4,"div",11)(5,"h3",12),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,Ot,11,4,"div",13),e.k0s()(),e.DNE(10,R,3,0,"div",14),e.DNE(11,Ze,3,2,"ng-template",null,15,e.C5r),e.k0s(),e.bVm()}if(2&I){const y=q.$implicit,j=e.sdS(12),$=e.XpG(2);e.R7$(6),e.Lme("",e.bMT(7,5,y.subjectName)," ","("+e.bMT(8,7,y.levelName)+")",""),e.R7$(3),e.Y8G("ngIf",!$.isTqbDomain),e.R7$(1),e.Y8G("ngIf",y.isLoading)("ngIfElse",j)}}function ht(I,q){if(1&I&&(e.j41(0,"div",4)(1,"div",5)(2,"mat-accordion",6),e.DNE(3,M,13,9,"ng-container",7),e.k0s()()()),2&I){const y=e.XpG();e.R7$(3),e.Y8G("ngForOf",y.levelSubjectObjs)}}let U=(()=>{var I;class q extends n.H{getStatisticalById(j){this.studentObj&&this.levelSubjectObjs.length&&this.levelSubjectObjs[j]&&(this.levelSubjectObjs[j].isLoading=!0,this.levelSubjectObjs[j].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentObj.id,this.levelSubjectObjs[j].levelId??0,this.levelSubjectObjs[j].subjectId??0).subscribe({next:$=>{$?(this.levelSubjectObjs[j].difficultyDataObjs=$.difficulty??[],this.levelSubjectObjs[j].knowledgeDataObjs=$.knowledge??[],this.levelSubjectObjs[j].chart=this.createChart($.examResults??[]),this.levelSubjectObjs[j].isLoading=!1,this.levelSubjectObjs[j].errorGetData=!1):(this.levelSubjectObjs[j].isLoading=!1,this.levelSubjectObjs[j].errorGetData=!0,this.stopStatusObj())},error:$=>{this.levelSubjectObjs[j].isLoading=!1,this.levelSubjectObjs[j].errorGetData=!0,this.errorStatusObj($.error.message??"",!0)}}))}createChart(j){let $=this.commonService.myTranslateInstant("lang_auto_Diem")??"",kt=[],se=[];return j.forEach(Ue=>{kt.push(Ue.mark??0),se.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(Ue.createdAt))}),new ce.t1({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:"",useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:se},yAxis:{title:{text:$}},series:[{name:$,type:"line",data:kt}]})}getDataSubject(){this.studentObj&&(this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentObj.id).subscribe({next:j=>{this.levelSubjectObjs=j.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:j=>{this.errorStatusObj(j.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentObj.id).subscribe(j=>{1==j.success&&j.data?(this.levelSubjectObjs=j.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(j.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(j,$,kt,se){super(),this.examPageResultService=j,this.studentService=$,this.sAztTimeService=kt,this.studentPracticeService=se,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.bkB,this.levelSubjectObjs=[]}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(Fe.TE),e.rXU(ot.b0),e.rXU(ne.F),e.rXU(fe.Kw))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentObj:"studentObj",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],["class","col-span-12 lg:col-span-9 text-center",4,"ngIf"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[3,"levelId","subjectId","userId",4,"ngIf"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[3,"levelId","subjectId","userId"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(j,$){if(1&j&&(e.j41(0,"div",0),e.DNE(1,Be,1,1,"azt-loading-effect",1),e.DNE(2,ht,4,1,"ng-template",null,2,e.C5r),e.k0s()),2&j){const kt=e.sdS(3);e.R7$(1),e.Y8G("ngIf",$.statusObj.loading)("ngIfElse",kt)}},dependencies:[o.YU,o.Sq,o.bT,o.B3,je.BS,je.GK,je.Z2,ce.S6,Nt.K,Mt.R,Le.g,V.wp],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),q})();function F(I,q){1&I&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function E(I,q){if(1&I&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td",11)(9,"span",12),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&I){const y=q.$implicit,j=q.index;let $;e.R7$(2),e.JRh(j+1),e.R7$(2),e.JRh(e.bMT(5,4,null!==($=y.updatedAt)&&void 0!==$?$:y.createdAt)),e.R7$(3),e.JRh(y.month+"/"+y.year),e.R7$(3),e.SpI(" ",e.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function _t(I,q){if(1&I&&(e.qex(0),e.DNE(1,E,12,8,"tr",10),e.bVm()),2&I){const y=e.XpG();e.R7$(1),e.Y8G("ngForOf",y.historyTuitionFeeList)}}function be(I,q){1&I&&(e.j41(0,"tr")(1,"td",13),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&I&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Qt=(()=>{var I;class q extends n.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(j=>{j?this.historyTuitionFeeList=j.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(j){super(),this.paymentService=j,this.studentId=0,this.historyTuitionFeeList=[]}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(ot.WG))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:23,vars:15,consts:[[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(j,$){if(1&j&&(e.j41(0,"div",0),e.DNE(1,F,3,3,"div",1),e.j41(2,"div",2)(3,"drag-scroll")(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"th",6),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"th",6),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"th",7),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,_t,2,1,"ng-container",8),e.DNE(21,be,4,3,"ng-template",null,9,e.C5r),e.k0s()()()()()),2&j){const kt=e.sdS(22);e.R7$(1),e.Y8G("ngIf",$.isMobileDevice||$.isMobileWebView),e.R7$(7),e.SpI(" ",e.bMT(9,7,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(12,9,"lang_student_payment_time")," "),e.R7$(3),e.SpI(" ",e.bMT(15,11,"lang_student_monthly_tuition_fee")," "),e.R7$(3),e.SpI(" ",e.bMT(18,13,"lang_student_status")," "),e.R7$(3),e.Y8G("ngIf",$.historyTuitionFeeList.length)("ngIfElse",kt)}},dependencies:[o.Sq,o.bT,at.jd,at.Ew,V.wp,V.bH],encapsulation:2}),q})();function Oe(I,q){if(1&I&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&I){const y=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",y.resultMarkObj.point)}}function ct(I,q){1&I&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function Rn(I,q){if(1&I&&(e.j41(0,"span"),e.DNE(1,Oe,4,4,"span",13),e.DNE(2,ct,3,3,"span",16),e.k0s()),2&I){const y=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",y.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!y.resultMarkObj.confirmedAt)}}function We(I,q){1&I&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_no_result")," "))}function qn(I,q){if(1&I&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I){const y=e.XpG().$implicit;e.R7$(1),e.Lme("",e.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",y.resendAnswerObj.resendNote,"")}}const kn=function(){return{"text-primary":!0}};function An(I,q){if(1&I){const y=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const kt=e.eBV(y).$implicit,se=e.XpG();return e.Njj(se.clickToHomeworkObj(kt))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,Rn,3,2,"span",13),e.DNE(8,We,3,3,"span",14),e.DNE(9,qn,3,4,"span",14),e.k0s(),e.j41(10,"div",15),e.EFF(11),e.nI1(12,"mytranslate"),e.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&I){const y=q.$implicit,j=q.index;e.ZvI("clickable zoom-in flex items-center ",j>0?"mt-5":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(16,kn)),e.R7$(2),e.FS9("matTooltip",y.name),e.R7$(1),e.Lme("",j+1,". ",y.name,""),e.R7$(2),e.Y8G("ngIf",y.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!y.resultMarkObj&&!y.resendAnswerObj),e.R7$(1),e.Y8G("ngIf",!y.resultMarkObj&&y.resendAnswerObj),e.R7$(2),e.Lme("",e.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",e.bMT(13,14,y.createdAt),"")}}function Ye(I,q){1&I&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&I&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function ve(I,q){if(1&I&&e.nrm(0,"azt-loading-effect",25),2&I){const y=e.XpG(2);e.Y8G("currentStatusObj",y.statusObj)}}function _n(I,q){if(1&I){const y=e.RV6();e.j41(0,"div",21),e.DNE(1,ve,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.bIt("click",function(){e.eBV(y);const $=e.XpG();return e.Njj($.getNextHomeworkAnswerObjs())}),e.nI1(3,"mytranslate"),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&I){const y=e.XpG();e.R7$(1),e.Y8G("ngIf",y.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Y8G("disabled",!y.homeworkNextPage)}}let bn=(()=>{var I;class q extends n.H{clickToHomeworkObj(j){this.isTeacher?j.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",j)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+j.resultMarkObj?.resultId+"/"+j.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(j.classroomId??0)+"/"+j.id+"/"+j.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(j.resultMarkObj?.resultId?"/homework/switch-view-homework/"+j.resultMarkObj?.resultId+"/"+j.hashId:"/bai-tap/"+j.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var j=this.studentProfileFilterService.getDefaultFilterObj("homework");j.classroomId=this.classroomId,j.studentId=this.studentId,j.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(j).subscribe($=>{1==$.success?(this.homeworkObjs=this.homeworkObjs.concat($.data?.objs??[]),this.homeworkNextPage=$.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(j,$,kt){super(),this.studentProfileV2Service=j,this.studentProfileFilterService=$,this.permissionService=kt,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(it.m_),e.rXU(T),e.rXU(x.p))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(j,$){1&j&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return $.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,An,14,17,"div",4),e.DNE(7,Ye,3,3,"div",5),e.DNE(8,_n,5,5,"div",6),e.k0s()),2&j&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.R7$(2),e.Y8G("filterType","homework"),e.R7$(2),e.Y8G("ngForOf",$.homeworkObjs),e.R7$(1),e.Y8G("ngIf",0==$.homeworkObjs.length&&!$.homeworkNextPage),e.R7$(1),e.Y8G("ngIf",$.homeworkObjs.length>0&&$.homeworkNextPage))},dependencies:[o.YU,o.Sq,o.bT,yt.oV,Dt.WGl,Nt.K,mt.D,Q,V.wp,V.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),q})();function Ln(I,q){if(1&I&&e.nrm(0,"azt-loading-effect",2),2&I){const y=e.XpG();e.Y8G("currentStatusObj",y.statusObj)}}function Bn(I,q){if(1&I&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&I){const y=q.$implicit;e.Y8G("value",y.id+"-"+y.studentId),e.R7$(1),e.SpI(" ",y.name," ")}}function xn(I,q){if(1&I&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-attendance",24),e.k0s()),2&I){const y=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,4,"lang_student_attendance_point_info")),e.R7$(2),e.Y8G("studentId",y.studentId)("isTeacherRole",y.isTeacherDashboard)("selectClassroomId",y.classroomId)}}function Tn(I,q){if(1&I&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-tuition-fee",25),e.k0s()),2&I){const y=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_tuition_fee_info")),e.R7$(2),e.Y8G("studentId",y.studentId)}}function qe(I,q){if(1&I&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-book-distribution",25),e.k0s()),2&I){const y=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_book_distribution_info")),e.R7$(2),e.Y8G("studentId",y.studentId)}}function sn(I,q){if(1&I){const y=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h3",5),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",6)(6,"mat-form-field",7)(7,"mat-select",8),e.bIt("selectionChange",function($){e.eBV(y);const kt=e.XpG();return e.Njj(kt.selectedClassroom($))}),e.j41(8,"mat-option",9),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.DNE(11,Bn,2,2,"mat-option",10),e.k0s()()()(),e.j41(12,"div",11)(13,"azt-detail-account-student",12),e.bIt("reInitComponentEvent",function(){e.eBV(y);const $=e.XpG();return e.Njj($.reInitOtherComponent())}),e.k0s(),e.j41(14,"div",13)(15,"div",14),e.nrm(16,"azt-student-profile-list-exams",15,16),e.k0s(),e.j41(18,"div",14),e.nrm(19,"azt-student-profile-list-homeworks",15,17),e.k0s()(),e.DNE(21,xn,5,6,"div",18),e.DNE(22,Tn,5,4,"div",18),e.DNE(23,qe,5,4,"div",18),e.j41(24,"div",19)(25,"p",20),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"azt-detail-by-subject-student",21),e.bIt("reInitComponentEvent",function(){e.eBV(y);const $=e.XpG();return e.Njj($.reInitOtherComponent())}),e.k0s()()()()}if(2&I){const y=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,29,"lang_student_classroom_profile_student")," "),e.R7$(4),e.Y8G("formControl",y.select),e.R7$(1),e.Y8G("value","")("disabled",!0),e.R7$(1),e.SpI(" ---",e.bMT(10,31,"lang_auto_chon_lop"),"--- "),e.R7$(2),e.Y8G("ngForOf",y.classroomList),e.R7$(2),e.Y8G("studentObj",y.studentObj)("classroomObj",y.classroomObj)("classroomList",y.classroomList)("classroomId",y.classroomId)("backToLink",y.backToLink)("paramBackToLink",y.paramBackToLink)("isTeacher",y.isTeacherDashboard),e.R7$(3),e.Y8G("studentId",y.studentId)("isTeacher",y.isTeacherDashboard)("classroomId",y.classroomId)("backToLink",y.backToLink),e.R7$(3),e.Y8G("studentId",y.studentId)("isTeacher",y.isTeacherDashboard)("classroomId",y.classroomId)("backToLink",y.backToLink),e.R7$(2),e.Y8G("ngIf",y.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",y.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",y.isBusinessDomain),e.R7$(3),e.JRh(e.bMT(27,33,"lang_student_academic_results_report")),e.R7$(2),e.Y8G("studentObj",y.studentObj)("classroomId",y.classroomId)("backToLink",y.backToLink)("paramBackToLink",y.paramBackToLink)}}let Sn=(()=>{var I;class q extends n.H{reInitOtherComponent(j){this.listExam?.reInitData(),this.listHomework?.reInitData(),j&&this.getData()}selectedClassroom(j){let $=j.value.split("-")[0],kt=j.value.split("-")[1],se=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+$+"/"+kt,se?"?backTo="+encodeURIComponent(se):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe($=>{1==$.success?($.data?.studentObj&&$.data?.classroomObj&&$.data.classroomObj.permissionObj&&(this.studentObj=$.data.studentObj,this.classroomObj=$.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(j){super(),this.studentProfileV2Service=j,this.select=new O.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return(I=q).\u0275fac=function(j){return new(j||I)(e.rXU(it.m_))},I.\u0275cmp=e.VBU({type:I,selectors:[["azt-student-profile"]],viewQuery:function(j,$){if(1&j&&(e.GBs(Se,5),e.GBs(Se,5)),2&j){let kt;e.mGM(kt=e.lsd())&&($.listExam=kt.first),e.mGM(kt=e.lsd())&&($.listHomework=kt.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink"],["listExam",""],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentObj","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId"],[3,"studentId"]],template:function(j,$){if(1&j&&(e.DNE(0,Ln,1,1,"azt-loading-effect",0),e.DNE(1,sn,29,35,"ng-template",null,1,e.C5r)),2&j){const kt=e.sdS(2);e.Y8G("ngIf",$.statusObj.loading)("ngIfElse",kt)}},dependencies:[o.Sq,o.bT,De.wT,Ne.rl,Pt.VO,O.BC,O.l_,Nt.K,st,nt,Ie,U,Qt,bn,Se,V.wp],encapsulation:2}),q})()},20378:(Me,Wt,p)=>{p.d(Wt,{gu:()=>xi,wn:()=>va,T_:()=>es});var O=p(73022),n=p(26860),e=p(29666);class it extends Error{}class i extends it{constructor(s){super(`Invalid DateTime: ${s.toMessage()}`)}}class t extends it{constructor(s){super(`Invalid Duration: ${s.toMessage()}`)}}class T extends it{constructor(s){super(`Invalid Interval: ${s.toMessage()}`)}}class x extends it{constructor(s){super(`Invalid unit ${s}`),Object.setPrototypeOf(this,x.prototype)}}class o extends it{constructor(s){super(`${s} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,o.prototype)}}class yt extends it{constructor(s){super(s),Object.setPrototypeOf(this,yt.prototype)}}class Dt extends it{constructor(s){super(s),Object.setPrototypeOf(this,Dt.prototype)}}class Nt extends it{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,Nt.prototype)}}class Rt{get type(){throw new Nt}get ianaName(){return this.name}get name(){throw new Nt}get isUniversal(){throw new Nt}offsetName(s,_){throw new Nt}formatOffset(s,_){throw new Nt}offset(s){throw new Nt}equals(s){throw new Nt}get isValid(){throw new Nt}}var V=Intl;let vt={};const rt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Et={};class Q extends Rt{static create(s){return Et[s]||(Et[s]=new Q(s)),Et[s]}static resetCache(){Et={},vt={}}static isValidSpecifier(s){return this.isValidZone(s)}static isValidZone(s){if(!s)return!1;try{return new V.DateTimeFormat("en-US",{timeZone:s}).format(),!0}catch{return!1}}constructor(s){super(),this._zoneName=s,this._valid=Q.isValidZone(s)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(s,{format:_,locale:a}={}){return y(s,_,a,this.name)}formatOffset(s,_){return se(this.offset(s),_)}offset(s){const _=new Date(s);if(isNaN(+_))return NaN;const a=function(Lt){if(!vt[Lt])try{vt[Lt]=new V.DateTimeFormat("en-US",{hour12:!1,timeZone:Lt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new o(Lt)}return vt[Lt]}(this.name);let d;const[h,k,w,G,K,dt,ut]=typeof a.formatToParts==typeof isNaN?function(Lt,ee){const pe=Lt.formatToParts(ee),re=[];for(let ke=0;ke<pe.length;ke++){const{type:le,value:Te}=pe[ke],wn=rt[le];"era"===le?re[wn]=Te:Oe(wn)||(re[wn]=parseInt(Te,10))}return re}(a,_):function(Lt,ee){const pe=Lt.format(ee).replace(/\u200E/g,""),re=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(pe),[,ke,le,Te,wn,Qn,Lo,Ti]=re;return[Te,ke,le,wn,Qn,Lo,Ti]}(a,_);"BC"===G&&(d=1-Math.abs(+h));let It=+_;const gt=It%1e3;return It-=gt>=0?gt:1e3+gt,(sn({year:d||+h,month:+k,day:+w,hour:+(24===K?0:K),minute:+dt,second:+ut,millisecond:0})-It)/6e4}equals(s){return"iana"===s.type&&s.name===this.name}get isValid(){return this._valid}}const A="numeric",Z="short",z="long",Ct={year:A,month:A,day:A},jt={year:A,month:Z,day:A},tt={year:A,month:Z,day:A,weekday:Z},Tt={year:A,month:z,day:A},zt={year:A,month:z,day:A,weekday:z},Gt={hour:A,minute:A},Xt={hour:A,minute:A,second:A},ae={hour:A,minute:A,second:A,timeZoneName:Z},xe={hour:A,minute:A,second:A,timeZoneName:z},Se={hour:A,minute:A,hourCycle:"h23"},De={hour:A,minute:A,second:A,hourCycle:"h23"},Ne={hour:A,minute:A,second:A,hourCycle:"h23",timeZoneName:Z},Pt={hour:A,minute:A,second:A,hourCycle:"h23",timeZoneName:z},Zt={year:A,month:A,day:A,hour:A,minute:A},Ut={year:A,month:A,day:A,hour:A,minute:A,second:A},At={year:A,month:Z,day:A,hour:A,minute:A},Mt={year:A,month:Z,day:A,hour:A,minute:A,second:A},Jt={year:A,month:Z,day:A,weekday:Z,hour:A,minute:A},oe={year:A,month:z,day:A,hour:A,minute:A,timeZoneName:Z},St={year:A,month:z,day:A,hour:A,minute:A,second:A,timeZoneName:Z},lt={year:A,month:z,day:A,weekday:z,hour:A,minute:A,timeZoneName:z},J={year:A,month:z,day:A,weekday:z,hour:A,minute:A,second:A,timeZoneName:z},Y=["January","February","March","April","May","June","July","August","September","October","November","December"],ft=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bt=["J","F","M","A","M","J","J","A","S","O","N","D"];function qt(u){switch(u){case"narrow":return[...Bt];case"short":return[...ft];case"long":return[...Y];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const he=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Qe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pn=["M","T","W","T","F","S","S"];function ln(u){switch(u){case"narrow":return[...pn];case"short":return[...Qe];case"long":return[...he];case"numeric":return["1","2","3","4","5","6","7"]}}const cn=["AM","PM"],$e=["Before Christ","Anno Domini"],gn=["BC","AD"],hn=["B","A"];function mn(u){switch(u){case"narrow":return[...hn];case"short":return[...gn];case"long":return[...$e]}}let en={},nn={};function on(u,s={}){const _=JSON.stringify([u,s]);let a=nn[_];return a||(a=new V.DateTimeFormat(u,s),nn[_]=a),a}let Yt,st={},ot={};function nt(u,s,_,a){return"en"===u.listingMode()?_(s):a(s)}class at{constructor(s,_,a){const{padTo:d,floor:h}=a,k=function(w,G){var K={};for(var dt in w)Object.prototype.hasOwnProperty.call(w,dt)&&G.indexOf(dt)<0&&(K[dt]=w[dt]);if(null!=w&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(dt=Object.getOwnPropertySymbols(w);ut<dt.length;ut++)G.indexOf(dt[ut])<0&&Object.prototype.propertyIsEnumerable.call(w,dt[ut])&&(K[dt[ut]]=w[dt[ut]])}return K}(a,["padTo","floor"]);if(this._padTo=d||0,this._floor=h||!1,!_||Object.keys(k).length>0){const w=Object.assign({useGrouping:!1},a);this._padTo>0&&(w.minimumIntegerDigits=d),this._inf=function(G,K){const dt=JSON.stringify([G,K]);let ut=st[dt];return ut||(ut=new V.NumberFormat(G,K),st[dt]=ut),ut}(s,w)}}format(s){if(this._inf){const _=this._floor?Math.floor(s):s;return this._inf.format(_)}return ve(this._floor?Math.floor(s):Bn(s,3),this._padTo)}}class Ht{get dtf(){return this._dtf}constructor(s,_,a){let d;if(this._opts=a,this._opts.timeZone)this._dt=s;else if("fixed"===s.zone.type){const k=s.offset/60*-1,w=k>=0?`Etc/GMT+${k}`:`Etc/GMT${k}`;0!==s.offset&&Q.create(w).isValid?(d=w,this._dt=s):(d="UTC",this._dt=0===s.offset?s:s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone)}else"system"===s.zone.type?this._dt=s:"iana"===s.zone.type?(this._dt=s,d=s.zone.name):(d="UTC",this._dt=s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone);const h=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||d});this._dtf=on(_,h)}format(){return this._originalZone?this.formatToParts().map(({value:s})=>s).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const s=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?s.map(_=>{if("timeZoneName"===_.type){const a=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},_),{value:a})}return _}):s}resolvedOptions(){return this._dtf.resolvedOptions()}}class ue{constructor(s,_,a){this._opts=Object.assign({style:"long"},a),!_&&We()&&(this._rtf=function(d,h={}){const k=JSON.stringify([d,h]);let w=ot[k];return w||(w=new V.RelativeTimeFormat(d,h),ot[k]=w),w}(s,a))}format(s,_){return this._rtf?this._rtf.format(s,_):function(a,d,h="always",k=!1){const w=v.normalizeUnit(a),G={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[w],K=-1===["hours","minutes","seconds"].indexOf(w);if("auto"===h&&K){const Lt="days"===w;switch(d){case 1:return Lt?"tomorrow":`next ${G[0]}`;case-1:return Lt?"yesterday":`last ${G[0]}`;case 0:return Lt?"today":`this ${G[0]}`}}const dt=Object.is(d,-0)||d<0,ut=Math.abs(d),It=1===ut,gt=k?It?G[1]:G[2]||G[1]:It?G[0]:w;return dt?`${ut} ${gt} ago`:`in ${ut} ${gt}`}(_,s,this._opts.numeric,"long"!==this._opts.style)}formatToParts(s,_){return this._rtf?this._rtf.formatToParts(s,_):[]}}let Kt=(()=>{class u{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(_,a,d,h,k){const[w,G,K]=function(dt){const ut=dt.indexOf("-x-");-1!==ut&&(dt=dt.substring(0,ut));const It=dt.indexOf("-u-");if(-1===It)return[dt];{let gt,Lt;try{gt=on(dt).resolvedOptions(),Lt=dt}catch{const ke=dt.substring(0,It);gt=on(ke).resolvedOptions(),Lt=ke}const{numberingSystem:ee,calendar:pe}=gt;return[Lt,ee,pe]}}(_);var dt,ut,It;this.locale=w,this.numberingSystem=a||G,this.outputCalendar=d||K,this._intl=(dt=this.locale,ut=this.numberingSystem,((It=this.outputCalendar)||ut)&&(dt.includes("-u-")||(dt+="-u"),It&&(dt+=`-ca-${It}`),ut&&(dt+=`-nu-${ut}`)),dt),this._weekSettings=h,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=k,this._fastNumbersCached=void 0}static create(_,a,d,h,k=!1){const w=_||X.defaultLocale,G=w||(k?"en-US":(Yt||(Yt=(new V.DateTimeFormat).resolvedOptions().locale),Yt)),K=a||X.defaultNumberingSystem,dt=d||X.defaultOutputCalendar,ut=An(h)||X.defaultWeekSettings;return new u(G,K,dt,ut,w)}static fromObject({locale:_,numberingSystem:a,outputCalendar:d,weekSettings:h}={}){return u.create(_,a,d,h)}static fromOpts(_){return u.create(_.locale,_.numberingSystem,_.outputCalendar,_.weekSettings,_.defaultToEN)}static resetCache(){Yt=void 0,en={},nn={},st={},ot={}}clone(_){return _&&0!==Object.getOwnPropertyNames(_).length?u.create(_.locale||this._specifiedLocale,_.numberingSystem||this.numberingSystem,_.outputCalendar||this.outputCalendar,An(_.weekSettings)||this._weekSettings,_.defaultToEN||!1):this}dtFormatter(_,a={}){return new Ht(_,this._intl,a)}equals(_){return this.locale===_.locale&&this.numberingSystem===_.numberingSystem&&this.outputCalendar===_.outputCalendar}eras(_){return nt(this,_,mn,a=>{const d={era:a};return this._eraCache[a]||(this._eraCache[a]=[bt.utc(-40,1,1),bt.utc(2017,1,1)].map(h=>this.extract(h,d,"era"))),this._eraCache[a]})}extract(_,a,d){const h=this.dtFormatter(_,a).formatToParts().find(k=>k.type.toLowerCase()===d.toLowerCase());if(!h)throw new Error(`Invalid extract field ${d}`);return h.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:qn()?this._getCachedWeekInfo(this.locale):an}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new V.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(_={}){return function(a,d={}){const h=JSON.stringify([a,d]);let k=en[h];return k||(k=new V.ListFormat(a,d),en[h]=k),k}(this._intl,_)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return nt(this,"long",()=>cn,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[bt.utc(2016,11,13,9),bt.utc(2016,11,13,19)].map(_=>this.extract(_,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(_,a=!1){return nt(this,_,qt,d=>{const h=a?{month:d,day:"numeric"}:{month:d},k=a?"format":"standalone";return this._monthsCache[k][d]||(this._monthsCache[k][d]=function(w){const G=[];for(let K=1;K<=12;K++){const dt=bt.utc(2009,K,1);G.push(w(dt))}return G}(w=>this.extract(w,h,"month"))),this._monthsCache[k][d]})}numberFormatter(_={}){return new at(this._intl,this.fastNumbers,_)}redefaultToEN(_={}){return this.clone(Object.assign(Object.assign({},_),{defaultToEN:!0}))}redefaultToSystem(_={}){return this.clone(Object.assign(Object.assign({},_),{defaultToEN:!1}))}relFormatter(_={}){return new ue(this._intl,this.isEnglish(),_)}weekdays(_,a=!1){return nt(this,_,ln,d=>{const h=a?{weekday:d,year:"numeric",month:"long",day:"numeric"}:{weekday:d},k=a?"format":"standalone";return this._weekdaysCache[k][d]||(this._weekdaysCache[k][d]=function(w){const G=[];for(let K=1;K<=7;K++){const dt=bt.utc(2016,11,13+K);G.push(w(dt))}return G}(w=>this.extract(w,h,"weekday"))),this._weekdaysCache[k][d]})}_getCachedWeekInfo(_){let a=u._weekInfoCache[_];if(!a){const d=new V.Locale(_);a="getWeekInfo"in d?d.getWeekInfo():d.weekInfo,u._weekInfoCache[_]=a}return a}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===V.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return u._weekInfoCache={},u})(),Ie=null;class ce extends Rt{static get utcInstance(){return null===Ie&&(Ie=new ce(0)),Ie}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${se(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${se(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(s){super(),this._fixed=s}static instance(s){return 0===s?ce.utcInstance:new ce(s)}static parseSpecifier(s){if(s){const _=s.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(_)return new ce(j(_[1],_[2]))}return null}offsetName(){return this.name}formatOffset(s,_){return se(this._fixed,_)}offset(){return this._fixed}equals(s){return"fixed"===s.type&&s._fixed===this._fixed}}class Fe extends Rt{constructor(s){super(),this._zoneName=s,Object.setPrototypeOf(this,Fe.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let ne=null;class fe extends Rt{static get instance(){return null===ne&&(ne=new fe),ne}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(s,{format:_,locale:a}){return y(s,_,a)}formatOffset(s,_){return se(this.offset(s),_)}offset(s){return-new Date(s).getTimezoneOffset()}equals(s){return"system"===s.type}get isValid(){return!0}}const je=(u,s)=>{if(Oe(u)||null===u)return s;if(u instanceof Rt)return u;if("string"==typeof u){const _=u.toLowerCase();return"default"===_?s:"local"===_||"system"===_?fe.instance:"utc"===_||"gmt"===_?ce.utcInstance:ce.parseSpecifier(_)||Q.create(u)}return ct(u)?ce.instance(u):"object"==typeof u&&"offset"in u&&"function"==typeof u.offset?u:new Fe(u)};let Le,Be,Cn,Ge,B=()=>Date.now(),Ot="system",R=60,H=!1;class X{static set defaultLocale(s){Le=s}static get defaultLocale(){return Le}static set defaultNumberingSystem(s){Be=s}static get defaultNumberingSystem(){return Be}static set defaultOutputCalendar(s){Cn=s}static get defaultOutputCalendar(){return Cn}static set defaultWeekSettings(s){Ge=An(s)}static get defaultWeekSettings(){return Ge}static set defaultZone(s){Ot=s}static get defaultZone(){return je(Ot,fe.instance)}static set defaultZoneLike(s){Ot=s}static set now(s){B=s}static get now(){return B}static set throwOnInvalid(s){H=s}static get throwOnInvalid(){return H}static set twoDigitCutoffYear(s){R=s%100}static get twoDigitCutoffYear(){return R}static resetCaches(){Kt.resetCache(),Q.resetCache()}}class pt{constructor(s,_){this.reason=s,this.explanation=_,this._formattedExplanation="",_&&(this._formattedExplanation=`: ${_}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Vt=[0,31,59,90,120,151,181,212,243,273,304,334],ge=[0,31,60,91,121,152,182,213,244,274,305,335];function me(u,s){return new pt("unit out of range",`you specified ${s} (of type ${typeof s}) as a ${u}, which is invalid`)}function ze(u,s,_){return _+(xn(u)?ge:Vt)[s-1]}function Pe(u,s){const _=xn(u)?ge:Vt,a=_.findIndex(d=>d<s);return{month:a+1,day:s-_[a]}}function fn(u,s,_){const a=new Date(Date.UTC(u,s-1,_));u<100&&u>=0&&a.setUTCFullYear(a.getUTCFullYear()-1900);const d=a.getUTCDay();return 0===d?7:d}function Ze(u,s=an.minimalDays,_=an.firstDay){const{year:a,month:d,day:h}=u,k=ze(a,d,h),w=_t(fn(a,d,h),_);let G,K=Math.floor((k-w+14-s)/7);return K<1?(G=a-1,K=I(G,s,_)):K>I(a,s,_)?(G=a+1,K=1):G=a,Object.assign({weekYear:G,weekNumber:K,weekday:w},Ve(u))}function M(u,s=an.minimalDays,_=an.firstDay){const{weekYear:a,weekNumber:d,weekday:h}=u,k=_t(fn(a,1,s),_),w=Tn(a);let G,K=7*d+h-k-7+s;K<1?(G=a-1,K+=Tn(G)):K>w?(G=a+1,K-=Tn(a)):G=a;const{month:dt,day:ut}=Pe(G,K);return Object.assign({year:G,month:dt,day:ut},Ve(u))}function ht(u){const{year:s,month:_,day:a}=u,d=ze(s,_,a);return Object.assign({year:s,ordinal:d},Ve(u))}function U(u){const{year:s,ordinal:_}=u,{month:a,day:d}=Pe(s,_);return Object.assign({year:s,month:a,day:d},Ve(u))}function F(u){const s=Rn(u.year),_=Ye(u.month,1,12),a=Ye(u.day,1,qe(u.year,u.month));return s?_?!a&&me("day",u.day):me("month",u.month):me("year",u.year)}function E(u){const{hour:s,minute:_,second:a,millisecond:d}=u,h=Ye(s,0,23)||24===s&&0===_&&0===a&&0===d,k=Ye(_,0,59),w=Ye(a,0,59),G=Ye(d,0,999);return h?k?w?!G&&me("millisecond",d):me("second",a):me("minute",_):me("hour",s)}function _t(u,s){return(u-s+7)%7+1}function be(u,s){if(Qt(u.localWeekday)||Qt(u.localWeekNumber)||Qt(u.localWeekYear)){if(Qt(u.weekday)||Qt(u.weekNumber)||Qt(u.weekYear))throw new yt("Cannot mix locale-based week fields with ISO-based week fields");return Qt(u.localWeekday)&&(u.weekday=u.localWeekday),Qt(u.localWeekNumber)&&(u.weekNumber=u.localWeekNumber),Qt(u.localWeekYear)&&(u.weekYear=u.localWeekYear),delete u.localWeekday,delete u.localWeekNumber,delete u.localWeekYear,{minDaysInFirstWeek:s.getMinDaysInFirstWeek(),startOfWeek:s.getStartOfWeek()}}return{minDaysInFirstWeek:an.minimalDays,startOfWeek:an.firstDay}}function Qt(u){return void 0!==u}function Oe(u){return void 0===u}function ct(u){return"number"==typeof u}function Rn(u){return ct(u)&&u%1==0}function We(){try{return void 0!==V&&!!V.RelativeTimeFormat}catch{return!1}}function qn(){try{return void 0!==V&&!!V.Locale&&("weekInfo"in V.Locale.prototype||"getWeekInfo"in V.Locale.prototype)}catch{return!1}}function kn(u,s,_){if(0!==u.length)return u.reduce((a,d)=>{const h=[s(d),d];return _(a[0],h[0])===a[0]?a:h},[s(u[0]),u[0]])[1]}function An(u){if(u){if("object"!=typeof u)throw new Dt("Week settings must be an object");if(!Ye(u.firstDay,1,7)||!Ye(u.minimalDays,1,7)||!Array.isArray(u.weekend)||u.weekend.some(s=>!Ye(s,1,7)))throw new Dt("Invalid week settings");return{firstDay:u.firstDay,minimalDays:u.minimalDays,weekend:u.weekend}}}function Ye(u,s,_){return Rn(u)&&u>=s&&u<=_}function ve(u,s=2){const _=+u<0?"-":"",a=_?-1*+u:u;let d;return d=a.toString().length<s?("0".repeat(s)+a).slice(-s):a.toString(),`${_}${d}`}function _n(u){if(u)return parseInt(u,10)}function bn(u){if(u)return parseFloat(u)}function Ln(u){if(!Oe(u)&&null!==u&&""!==u){const s=1e3*parseFloat("0."+u);return Math.floor(s)}}function Bn(u,s,_=!1){const a=Math.pow(10,s);return(_?Math.trunc:Math.round)(u*a)/a}function xn(u){return u%4==0&&(u%100!=0||u%400==0)}function Tn(u){return xn(u)?366:365}function qe(u,s){const _=(a=s-1)-12*Math.floor(a/12)+1;var a;return[31,xn(u+(s-_)/12)?29:28,31,30,31,30,31,31,30,31,30,31][_-1]}function sn(u){let s=Date.UTC(u.year,u.month-1,u.day,u.hour,u.minute,u.second,u.millisecond);return u.year<100&&u.year>=0&&(s=new Date(s),s.setUTCFullYear(u.year,u.month-1,u.day)),+s}function Sn(u,s,_){return-_t(fn(u,1,s),_)+s-1}function I(u,s=4,_=1){const a=Sn(u,s,_),d=Sn(u+1,s,_);return(Tn(u)-a+d)/7}function q(u){return u>99?u:u>X.twoDigitCutoffYear?1900+u:2e3+u}function y(u,s,_,a){const d=new Date(u),k=Object.assign({timeZoneName:s},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:a}),w=new V.DateTimeFormat(_,k).formatToParts(d).find(G=>"timezonename"===G.type.toLowerCase());return w?w.value:null}function j(u,s){let _=parseInt(u,10);Number.isNaN(_)&&(_=0);const a=parseInt(s,10)||0;return 60*_+(_<0||Object.is(_,-0)?-a:a)}function $(u){const s=Number(u);if("boolean"==typeof u||""===u||Number.isNaN(s))throw new Dt(`Invalid unit value ${u}`);return s}function kt(u,s){return Object.keys(u).reduce((_,a)=>(null!=u[a]&&(_[s(a)]=$(u[a])),_),{})}function se(u,s){const _=Math.trunc(Math.abs(u/60)),a=Math.trunc(Math.abs(u%60)),d=u>=0?"+":"-";switch(s){case"short":return`${d}${ve(_,2)}:${ve(a,2)}`;case"narrow":return`${d}${_}${a>0?`:${a}`:""}`;case"techie":return`${d}${ve(_,2)}${ve(a,2)}`;default:throw new RangeError(`Value format ${s} is out of range for property format`)}}function Ve(u){return s=u,["hour","minute","second","millisecond"].reduce((a,d)=>(a[d]=s[d],a),{});var s}const Ue=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],to=Ue.slice(0).reverse(),ao=["years","months","days","hours","minutes","seconds","milliseconds"],Yo={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},an={firstDay:1,minimalDays:4,weekend:[6,7]};function ro(u,s){let _="";for(const a of u)_+=a.literal?a.val:s(a.val);return _}const eo={D:Ct,DD:jt,DDD:Tt,DDDD:zt,t:Gt,tt:Xt,ttt:ae,tttt:xe,T:Se,TT:De,TTT:Ne,TTTT:Pt,f:Zt,ff:At,fff:oe,ffff:lt,F:Ut,FF:Mt,FFF:St,FFFF:J};class ye{constructor(s,_){this._opts=_,this._loc=s,this._systemLoc=void 0}static create(s,_={}){return new ye(s,_)}static macroTokenToFormatOpts(s){return eo[s]}static parseFormat(s){let _=null,a="",d=!1;const h=[];for(let k=0;k<s.length;k++){const w=s.charAt(k);"'"===w?(a.length>0&&h.push({literal:d||/^\s+$/.test(a),val:a}),_=null,a="",d=!d):d||w===_?a+=w:(a.length>0&&h.push({literal:/^\s+$/.test(a),val:a}),a=w,_=w)}return a.length>0&&h.push({literal:d||/^\s+$/.test(a),val:a}),h}dtFormatter(s,_={}){return this._loc.dtFormatter(s,Object.assign(Object.assign({},this._opts),_))}formatDateTime(s,_){return this.dtFormatter(s,_).format()}formatDateTimeFromString(s,_){const a="en"===this._loc.listingMode(),d=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,h=(It,gt)=>this._loc.extract(s,It,gt),k=It=>s.isOffsetFixed&&0===s.offset&&It.allowZ?"Z":s.isValid?s.zone.formatOffset(s.ts,It.format):"",G=(It,gt)=>{return a?(Lt=s,qt(It)[Lt.month-1]):h(gt?{month:It}:{month:It,day:"numeric"},"month");var Lt},K=(It,gt)=>{return a?(Lt=s,ln(It)[Lt.weekday-1]):h(gt?{weekday:It}:{weekday:It,month:"long",day:"numeric"},"weekday");var Lt},dt=It=>{const gt=ye.macroTokenToFormatOpts(It);return gt?this.formatWithSystemDefault(s,gt):It},ut=It=>{return a?(gt=s,mn(It)[gt.year<0?0:1]):h({era:It},"era");var gt};return ro(ye.parseFormat(_),It=>{switch(It){case"S":return this.num(s.millisecond);case"u":case"SSS":return this.num(s.millisecond,3);case"s":return this.num(s.second);case"ss":return this.num(s.second,2);case"uu":return this.num(Math.floor(s.millisecond/10),2);case"uuu":return this.num(Math.floor(s.millisecond/100));case"m":return this.num(s.minute);case"mm":return this.num(s.minute,2);case"h":return this.num(s.hour%12==0?12:s.hour%12);case"hh":return this.num(s.hour%12==0?12:s.hour%12,2);case"H":return this.num(s.hour);case"HH":return this.num(s.hour,2);case"Z":return k({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return k({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return k({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return s.zone.offsetName(s.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return s.zone.offsetName(s.ts,{format:"long",locale:this._loc.locale})||"";case"z":return s.zoneName||"";case"a":return a?cn[s.hour<12?0:1]:h({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return d?h({day:"numeric"},"day"):this.num(s.day);case"dd":return d?h({day:"2-digit"},"day"):this.num(s.day,2);case"c":case"E":return this.num(s.weekday);case"ccc":return K("short",!0);case"cccc":return K("long",!0);case"ccccc":return K("narrow",!0);case"EEE":return K("short",!1);case"EEEE":return K("long",!1);case"EEEEE":return K("narrow",!1);case"L":return d?h({month:"numeric",day:"numeric"},"month"):this.num(s.month);case"LL":return d?h({month:"2-digit",day:"numeric"},"month"):this.num(s.month,2);case"LLL":return G("short",!0);case"LLLL":return G("long",!0);case"LLLLL":return G("narrow",!0);case"M":return d?h({month:"numeric"},"month"):this.num(s.month);case"MM":return d?h({month:"2-digit"},"month"):this.num(s.month,2);case"MMM":return G("short",!1);case"MMMM":return G("long",!1);case"MMMMM":return G("narrow",!1);case"y":return d?h({year:"numeric"},"year"):this.num(s.year);case"yy":return d?h({year:"2-digit"},"year"):this.num(parseInt(s.year.toString().slice(-2),10),2);case"yyyy":return d?h({year:"numeric"},"year"):this.num(s.year,4);case"yyyyyy":return d?h({year:"numeric"},"year"):this.num(s.year,6);case"G":return ut("short");case"GG":return ut("long");case"GGGGG":return ut("narrow");case"kk":return this.num(parseInt(s.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(s.weekYear,4);case"W":return this.num(s.weekNumber);case"WW":return this.num(s.weekNumber,2);case"o":return this.num(s.ordinal);case"ooo":return this.num(s.ordinal,3);case"q":return this.num(s.quarter);case"qq":return this.num(s.quarter,2);case"X":return this.num(Math.floor(s.ts/1e3));case"x":return this.num(s.ts);default:return dt(It)}})}formatDateTimeParts(s,_){return this.dtFormatter(s,_).formatToParts()}formatDurationFromString(s,_){const a=k=>{switch(k[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},d=ye.parseFormat(_),h=d.reduce((k,{literal:w,val:G})=>w?k:k.concat(G),[]);return ro(d,(k=>w=>{const G=a(w);return G?this.num(k.get(G),w.length):w})(s.shiftTo(...h.map(a).filter(k=>!!k))))}formatInterval(s,_={}){if(!s.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(s.start,_).dtf.formatRange(s.start.toJSDate(),s.end.toJSDate())}formatWithSystemDefault(s,_){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(s,Object.assign(Object.assign({},this._opts),_)).format()}num(s,_=0){if(this._opts.forceSimple)return ve(s,_);const a=Object.assign({},this._opts);return _>0&&(a.padTo=_),this._loc.numberFormatter(a).format(s)}resolvedOptions(s,_={}){return this.dtFormatter(s,_).resolvedOptions()}}function Mn(...u){const s=u.reduce((_,a)=>_+a.source,"");return RegExp(`^${s}$`)}function In(...u){return s=>u.reduce(([_,a,d],h)=>{const[k,w,G]=h(s,d);return[Object.assign(Object.assign({},_),k),w||a,G]},[{},null,1]).slice(0,2)}function Fn(u,...s){if(null==u)return[null,null];for(const[_,a]of s){const d=_.exec(u);if(d)return a(d)}return[null,null]}function lo(...u){return(s,_)=>{const a={};let d;for(d=0;d<u.length;d++)a[u[d]]=_n(s[_+d]);return[a,null,_+d]}}const co=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,To=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,no=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Yn=RegExp(`${no.source}(?:${To.source}?(?:\\[(${co.source})\\])?)?`),oo=RegExp(`(?:T${Yn.source})?`),Vo=lo("weekYear","weekNumber","weekday"),Uo=lo("year","ordinal"),So=RegExp(`${no.source} ?(?:${To.source}|(${co.source}))?`),Xo=RegExp(`(?: ${So.source})?`);function $n(u,s,_){return Oe(u[s])?_:_n(u[s])}function zn(u,s){return[{hour:$n(u,s,0),minute:$n(u,s+1,0),second:$n(u,s+2,0),millisecond:Ln(u[s+3])},null,s+4]}function Vn(u,s){const _=!u[s]&&!u[s+1],a=j(u[s+1],u[s+2]);return[{},_?null:ce.instance(a),s+3]}function Un(u,s){return[{},u[s]?Q.create(u[s]):null,s+1]}const Wo=RegExp(`^T?${no.source}$`),Ho=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Jo(u){const[s,_,a,d,h,k,w,G,K]=u,dt=s.startsWith("-"),ut=!!G&&G.startsWith("-"),It=(gt,Lt=!1)=>"number"==typeof gt&&(Lt||gt&&dt)?-gt:gt;return[{years:It(bn(_)),months:It(bn(a)),weeks:It(bn(d)),days:It(bn(h)),hours:It(bn(k)),minutes:It(bn(w)),seconds:It(bn(G),"-0"===G),milliseconds:It(Ln(K),ut)}]}const Ko={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function mo(u,s,_,a,d,h,k){let w;return u&&(w=u.length>3?he.indexOf(u)+1:Qe.indexOf(u)+1),{year:2===s.length?q(_n(s)):_n(s),month:ft.indexOf(_)+1,day:_n(a),hour:_n(d),minute:_n(h),second:_n(k),weekday:w}}const Io=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Qo(u){const[,s,_,a,d,h,k,w,G,K,dt,ut]=u,It=mo(s,d,a,_,h,k,w);let gt;return gt=G?Ko[G]:K?0:j(dt,ut),[It,new ce(gt)]}const Zo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,qo=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ti=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function yo(u){const[,s,_,a,d,h,k,w]=u;return[mo(s,d,a,_,h,k,w),ce.utcInstance]}function ei(u){const[,s,_,a,d,h,k,w]=u;return[mo(s,w,_,a,d,h,k),ce.utcInstance]}const ni=Mn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,oo),jo=Mn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,oo),oi=Mn(/(\d{4})-?(\d{3})/,oo),ii=Mn(Yn),Oo=In(function(u,s){return[{year:$n(u,s,0),month:$n(u,s+1,1),day:$n(u,s+2,1)},null,s+3]},zn,Vn,Un),si=In(Vo,zn,Vn,Un),ai=In(Uo,zn,Vn,Un),ri=In(zn,Vn,Un),li=Mn(/(\d{4})-(\d\d)-(\d\d)/,Xo),Eo=Mn(So),ci=In(zn,Vn,Un),wo={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},mi=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},wo),L=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},wo);function b(u,s){var _;let a=null!==(_=s.milliseconds)&&void 0!==_?_:0;for(const d of to.slice(1))s[d]&&(a+=s[d]*u[d].milliseconds);return a}class v{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(s){let _,a;"longterm"===s.conversionAccuracy?(a="longterm",_=L):(a="casual",_=mi),s.matrix&&(_=s.matrix),this._values=s.values||{},this._loc=s.loc||Kt.create(),this._conversionAccuracy=a,this._invalid=s.invalid||null,this._matrix=_,this._isLuxonDuration=!0}static fromDurationLike(s){if(ct(s))return v.fromMillis(s);if(v.isDuration(s))return s;if("object"==typeof s)return v.fromObject(s);throw new Dt(`Unknown duration argument ${s} of type ${typeof s}`)}static fromISO(s,_){const[a]=Fn(s,[Ho,Jo]);return a?v.fromObject(a,_):v.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromISOTime(s,_={}){const[a]=Fn(s,[Wo,In(zn)]);return a?v.fromObject(a,_):v.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromMillis(s,_={}){return v.fromObject({milliseconds:s},_)}static fromObject(s,_={}){if(null==s||"object"!=typeof s)throw new Dt("Duration.fromObject: argument expected to be an object, got "+(null===s?"null":typeof s));return new v({values:kt(s,v.normalizeUnit),loc:Kt.fromObject(_),conversionAccuracy:_.conversionAccuracy,matrix:_.matrix})}static invalid(s,_){if(!s)throw new Dt("need to specify a reason the Duration is invalid");const a=s instanceof pt?s:new pt(s,_);if(X.throwOnInvalid)throw new t(a);return new v({invalid:a})}static isDuration(s){return!!s&&s._isLuxonDuration||!1}static normalizeUnit(s){const _={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[s];if(!_)throw new x(s);return _}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(s){return this.shiftTo(s).get(s)}equals(s){if(!this.isValid||!s.isValid||!this._loc.equals(s._loc))return!1;for(const d of Ue)if(a=s._values[d],!(void 0===(_=this._values[d])||0===_?void 0===a||0===a:_===a))return!1;var _,a;return!0}get(s){return this[v.normalizeUnit(s)]}getMaxUnit(s=!1){const _=s?ao:Ue,a=this.shiftTo(..._).toObject();return _.find(d=>(a[d]||0)>0)||to[0]}mapUnits(s){if(!this.isValid)return this;const _={};return Object.keys(this._values).forEach(a=>{_[a]=$(s(this._values[a],a))}),this._clone(this,{values:_},!0)}minus(s){if(!this.isValid)return this;const _=v.fromDurationLike(s);return this.plus(_.negate())}negate(){if(!this.isValid)return this;const s={};return Object.keys(this._values).forEach(_=>{s[_]=0===this._values[_]?0:-this._values[_]}),this._clone(this,{values:s},!0)}normalize(){if(!this.isValid)return this;const s=this.toObject();return function(_,a){const d=b(_,a)<0?-1:1;to.reduce((h,k)=>{if(Oe(a[k]))return h;if(h){const G=_[k][h],K=Math.floor(a[h]*d/G);a[k]+=K*d,a[h]-=K*G*d}return k},null),Ue.reduce((h,k)=>{if(Oe(a[k]))return h;if(h){const w=a[h]%1;a[h]-=w,a[k]+=w*_[h][k]}return k},null)}(this._matrix,s),this._clone(this,{values:s},!0)}plus(s){if(!this.isValid)return this;const _=v.fromDurationLike(s),a={};return Ue.forEach(d=>{void 0===_._values[d]&&void 0===this._values[d]||(a[d]=_.get(d)+this.get(d))}),this._clone(this,{values:a},!0)}reconfigure({locale:s,numberingSystem:_,conversionAccuracy:a,matrix:d}={}){const h={loc:this._loc.clone({locale:s,numberingSystem:_}),matrix:d,conversionAccuracy:a};return this._clone(this,h)}rescale(){if(!this.isValid)return this;const s=function(_={}){return Object.entries(_).reduce((a,[d,h])=>(0!==h&&(a[d]=h),a),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:s},!0)}set(s){if(!this.isValid)return this;const _=Object.assign(Object.assign({},this._values),kt(s,v.normalizeUnit));return this._clone(this,{values:_})}shiftTo(...s){if(!this.isValid||0===s.length)return this;s=s.map(k=>v.normalizeUnit(k));const _={},a={},d=this.toObject();let h;return Ue.forEach(k=>{if(s.indexOf(k)>=0){h=k;let w=0;Object.keys(a).forEach(K=>{w+=this._matrix[K][k]*a[K],a[K]=0}),ct(d[k])&&(w+=d[k]);const G=Math.trunc(w);_[k]=G,a[k]=(1e3*w-1e3*G)/1e3}else ct(d[k])&&(a[k]=d[k])}),Object.keys(a).forEach(k=>{const w=a[k];0!==w&&(_[h]+=k===h?w:w/this._matrix[h][k])}),this._clone(this,{values:_},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(s,_={floor:!0}){const a=Object.assign(Object.assign({},_),{floor:!1!==_.round&&!1!==_.floor});return this.isValid?ye.create(this._loc,a).formatDurationFromString(this,s):v._INVALID}toHuman(s={}){if(!this.isValid)return v._INVALID;const _=this.getMaxUnit(!0),a=s.onlyHumanUnits?ao:Ue,d=this.shiftTo(...a.slice(a.indexOf(_))).toObject(),h=a.map(w=>{const G=d[w];return Oe(G)||0===G?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},s),{unit:w.slice(0,-1)})).format(G)}).filter(w=>w),k=Object.assign({type:"conjunction",style:s.listStyle||"narrow"},s);return this._loc.listFormatter(k).format(h)}toISO(){if(!this.isValid)return null;let s="P";return 0!==this.years&&(s+=this.years+"Y"),0===this.months&&0===this.quarters||(s+=this.months+3*this.quarters+"M"),0!==this.weeks&&(s+=this.weeks+"W"),0!==this.days&&(s+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(s+="T"),0!==this.hours&&(s+=this.hours+"H"),0!==this.minutes&&(s+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(s+=Bn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===s&&(s+="T0S"),s}toISOTime(s={}){if(!this.isValid)return null;const _=this.toMillis();return _<0||_>=864e5?null:(s=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},s),{includeOffset:!1}),bt.fromMillis(_,{zone:"UTC"}).toISOTime(s))}toJSON(){return this.toISO()}toMillis(){return this.isValid?b(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(s,_,a=!1){const d={values:a?_.values:Object.assign(Object.assign({},s._values),_.values||{}),loc:s._loc.clone(_.loc),conversionAccuracy:_.conversionAccuracy||s.conversionAccuracy,matrix:_.matrix||s.matrix};return new v(d)}}const S="Invalid Interval";function N(u){if(bt.isDateTime(u))return u;if(u&&u.valueOf&&ct(u.valueOf()))return bt.fromJSDate(u);if(u&&"object"==typeof u)return bt.fromObject(u);throw new Dt(`Unknown datetime argument: ${u}, of type ${typeof u}`)}class P{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(s){this._s=s.start,this._e=s.end,this._invalid=s.invalid||null,this._isLuxonInterval=!0}static after(s,_){const a=v.fromDurationLike(_),d=N(s);return new P({start:d,end:d?d.plus(a):void 0})}static before(s,_){const a=v.fromDurationLike(_),d=N(s);return new P({start:d?d.minus(a):void 0,end:d})}static fromDateTimes(s,_){const a=N(s),d=N(_);return w=d,((k=a)&&k.isValid?w&&w.isValid?w<k?P.invalid("end before start",`The end of an interval must be after its start, but you had start=${k.toISO()} and end=${w.toISO()}`):void 0:P.invalid("missing or invalid end"):P.invalid("missing or invalid start"))||new P({start:a,end:d});var k,w}static fromISO(s,_={}){const[a,d]=(s||"").split("/",2);if(a&&d){let h,k,w,G;try{h=bt.fromISO(a,_),k=h.isValid}catch{k=!1}try{w=bt.fromISO(d,_),G=w.isValid}catch{G=!1}if(k&&G)return P.fromDateTimes(h,w);if(k){const K=v.fromISO(d,_);if(K.isValid)return P.after(h,K)}else if(G){const K=v.fromISO(a,_);if(K.isValid)return P.before(w,K)}}return P.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static invalid(s,_){if(!s)throw new Dt("need to specify a reason the Interval is invalid");const a=s instanceof pt?s:new pt(s,_);if(X.throwOnInvalid)throw new T(a);return new P({invalid:a})}static isInterval(s){return!!s&&s._isLuxonInterval||!1}static merge(s){const[_,a]=s.sort((d,h)=>d._s.valueOf()-h._s.valueOf()).reduce(([d,h],k)=>h?h.overlaps(k)||h.abutsStart(k)?[d,h.union(k)]:[d.concat([h]),k]:[d,k],[[],null]);return a&&_.push(a),_}static xor(s){let _=null,a=0;const d=[],h=s.map(w=>[{time:w._s,type:"s"},{time:w._e,type:"e"}]),k=Array.prototype.concat(...h).sort((w,G)=>+w.time-+G.time);for(const w of k)a+="s"===w.type?1:-1,1===a?_=w.time:(_&&_.valueOf()!==w.time.valueOf()&&d.push(P.fromDateTimes(_,w.time)),_=null);return P.merge(d)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(s){return+s._e==+this._s}abutsStart(s){return+this._e==+s._s}contains(s){return this._s<=s&&this._e>s}count(s="milliseconds",_){if(!this.isValid)return NaN;const a=this.start.startOf(s,_);let d;return d=_?.useLocaleWeeks?this.end.reconfigure({locale:a.locale}):this.end,d=d.startOf(s,_),Math.floor(d.diff(a,s).get(s))+ +(d.valueOf()!==this.end.valueOf())}difference(...s){return P.xor([this].concat(s)).map(_=>this.intersection(_)).filter(_=>_&&!_.isEmpty())}divideEqually(s){return this.isValid?this.splitBy({milliseconds:this.length()/s}).slice(0,s):[]}engulfs(s){return!!this.isValid&&this._s<=s._s&&this._e>=s._e}equals(s){return!(!this.isValid||!s.isValid)&&this._s.equals(s._s)&&this._e.equals(s._e)}hasSame(s){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,s))}intersection(s){if(!this.isValid)return this;const _=this._s>s._s?this._s:s._s,a=this._e<s._e?this._e:s._e;return _>=a?null:P.fromDateTimes(_,a)}isAfter(s){return!!this.isValid&&this._s>s}isBefore(s){return!!this.isValid&&this._e<=s}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(s="milliseconds"){return this.toDuration(s).get(s)}mapEndpoints(s){return P.fromDateTimes(s(this._s),s(this._e))}overlaps(s){return this._e>s._s&&this._s<s._e}set({start:s,end:_}={}){return this.isValid?P.fromDateTimes(s||this._s,_||this._e):this}splitAt(...s){const _=s.map(N).filter(k=>this.contains(k)).sort((k,w)=>k.toMillis()-w.toMillis()),a=[];let d=this._s,h=0;for(;d<this._e;){const k=_[h]||this._e,w=+k>+this._e?this._e:k;a.push(P.fromDateTimes(d,w)),d=w,h+=1}return a}splitBy(s){const _=v.fromDurationLike(s);if(!this.isValid||!_.isValid||0===_.as("milliseconds"))return[];let a,d=this._s,h=1;const k=[];for(;d<this._e;){const w=this.start.plus(_.mapUnits(G=>G*h));a=+w>+this._e?this._e:w,k.push(P.fromDateTimes(d,a)),d=a,h+=1}return k}toDuration(s="milliseconds",_={}){return this.isValid?this._e.diff(this._s,s,_):v.invalid(this._invalid.reason)}toFormat(s,{separator:_=" - "}={}){return this.isValid?`${this._s.toFormat(s)}${_}${this._e.toFormat(s)}`:S}toISO(s={}){return this.isValid?`${this._s.toISO(s)}/${this._e.toISO(s)}`:S}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:S}toISOTime(s={}){return this.isValid?`${this._s.toISOTime(s)}/${this._e.toISOTime(s)}`:S}toLocaleString(s=Ct,_={}){return this.isValid?ye.create(this._s.loc.clone(_),s).formatInterval(this):S}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:S}union(s){return this.isValid?P.fromDateTimes(this._s<s._s?this._s:s._s,this._e>s._e?this._e:s._e):this}}class W{static eras(s="short",{locale:_}={}){return Kt.create(_,void 0,"gregory").eras(s)}static features(){return{relative:We(),localeWeek:qn()}}static getMinimumDaysInFirstWeek({locale:s,locObj:_}={}){return(_||Kt.create(s)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:s,locObj:_}={}){return(_||Kt.create(s)).getStartOfWeek()}static getWeekendWeekdays({locale:s,locObj:_}={}){return(_||Kt.create(s)).getWeekendDays().slice()}static hasDST(s=X.defaultZone){const _=bt.now().setZone(s).set({month:12});return!s.isUniversal&&_.offset!==_.set({month:6}).offset}static isValidIANAZone(s){return Q.isValidZone(s)}static meridiems({locale:s}={}){return Kt.create(s).meridiems()}static months(s="long",{locale:_=null,locObj:a=null,numberingSystem:d=null,outputCalendar:h="gregory"}={}){return(a||Kt.create(_,d,h)).months(s)}static monthsFormat(s="long",{locale:_,locObj:a,numberingSystem:d,outputCalendar:h="gregory"}={}){return(a||Kt.create(_,d,h)).months(s,!0)}static normalizeZone(s){return je(s,X.defaultZone)}static weekdays(s="long",{locale:_,locObj:a,numberingSystem:d}={}){return(a||Kt.create(_,d)).weekdays(s)}static weekdaysFormat(s="long",{locale:_,locObj:a,numberingSystem:d}={}){return(a||Kt.create(_,d)).weekdays(s,!0)}}function Ft(u,s){const _=d=>d.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),a=_(s)-_(u);return Math.floor(v.fromMillis(a).as("days"))}const tn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},ie={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},rn=tn.hanidec.replace(/[\[|\]]/g,"").split("");function He(u,s=""){return new RegExp(`${tn[u.numberingSystem||"latn"]}${s}`)}function dn(u,s=(_=>_)){return{regex:u,deser:([_])=>s(function(a){const d=parseInt(a,10);if(!isNaN(d))return d;let h="";for(let k=0;k<a.length;k++){const w=a.charCodeAt(k);if(-1!==a[k].search(tn.hanidec))h+=rn.indexOf(a[k]);else for(const G in ie){const[K,dt]=ie[G];if(w>=K&&w<=dt){h+=w-K;break}}}return parseInt(h,10)}(_))}}const Ro="[ \xa0]",Si=new RegExp(Ro,"g");function ss(u){return u.replace(/\./g,"\\.?").replace(Si,Ro)}function Ii(u){return u.replace(/\./g,"").replace(Si," ").toLowerCase()}function vn(u,s){return{regex:RegExp(u.map(ss).join("|")),deser:([_])=>u.findIndex(a=>Ii(_)===Ii(a))+s}}function yi(u,s){return{regex:u,deser:([,_,a])=>j(_,a),groups:s}}function ji(u){return{regex:u,deser:([s])=>s}}const as={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let di;function rs(u){return!!u&&!!u.invalidReason}function Oi(u,s){return Array.prototype.concat(...u.map(_=>function(a,d){if(a.literal)return a;const h=Ri(ye.macroTokenToFormatOpts(a.val),d);return null==h||h.includes(void 0)?a:h}(_,s)))}function Ei(u,s,_){const a=Oi(ye.parseFormat(_),u),d=a.map(k=>function(w,G){const K=He(G),dt=He(G,"{2}"),ut=He(G,"{3}"),It=He(G,"{4}"),gt=He(G,"{6}"),Lt=He(G,"{1,2}"),ee=He(G,"{1,3}"),pe=He(G,"{1,6}"),re=He(G,"{1,9}"),ke=He(G,"{2,4}"),le=He(G,"{4,6}"),Te=Qn=>{return{regex:RegExp((Lo=Qn.val,Lo.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([Ti])=>Ti,literal:!0};var Lo},wn=(Qn=>{if(w.literal)return Te(Qn);switch(Qn.val){case"G":return vn(G.eras("short"),0);case"GG":return vn(G.eras("long"),0);case"y":return dn(pe);case"yy":case"kk":return dn(ke,q);case"yyyy":case"kkkk":return dn(It);case"yyyyy":return dn(le);case"yyyyyy":return dn(gt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return dn(Lt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return dn(dt);case"MMM":return vn(G.months("short",!0),1);case"MMMM":return vn(G.months("long",!0),1);case"LLL":return vn(G.months("short",!1),1);case"LLLL":return vn(G.months("long",!1),1);case"o":case"S":return dn(ee);case"ooo":case"SSS":return dn(ut);case"u":return ji(re);case"a":return vn(G.meridiems(),0);case"E":case"c":return dn(K);case"EEE":return vn(G.weekdays("short",!1),1);case"EEEE":return vn(G.weekdays("long",!1),1);case"ccc":return vn(G.weekdays("short",!0),1);case"cccc":return vn(G.weekdays("long",!0),1);case"Z":case"ZZ":return yi(new RegExp(`([+-]${Lt.source})(?::(${dt.source}))?`),2);case"ZZZ":return yi(new RegExp(`([+-]${Lt.source})(${dt.source})?`),2);case"z":return ji(/[a-z_+-/]{1,256}?/i);default:return Te(Qn)}})(w)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},wn),{token:w})}(k,u)),h=d.find(rs);if(h)return{input:s,tokens:a,invalidReason:h.invalidReason};{const k=`^${d.map(Lt=>Lt.regex).reduce((Lt,ee)=>`${Lt}(${ee.source})`,"")}$`,w=RegExp(k,"i"),[G,K]=function(gt,Lt,ee){const pe=Lt.exec(gt),re={};if(null!==pe){let ke=1;ee.forEach(le=>{const Te=le.groups?le.groups+1:1;le.literal||(re[le.token.val[0]]=le.deser(pe.slice(ke,ke+Te))),ke+=Te})}return[pe,re]}(s,w,d),[dt,ut,It]=K?function(gt){let Lt,ee=null;return Qt(gt.z)&&(ee=Q.create(gt.z)),Qt(gt.Z)&&(ee||(ee=new ce(+gt.Z)),Lt=+gt.Z),Qt(gt.q)&&(gt.M=3*(gt.q-1)+1),Qt(gt.h)&&(+gt.h<12&&1===gt.a?gt.h=gt.h+12:12===gt.h&&0===gt.a&&(gt.h=0)),0===gt.G&&gt.y&&(gt.y=-gt.y),Qt(gt.u)&&(gt.S=Ln(gt.u)||0),[Object.keys(gt).reduce((pe,re)=>{const ke=(le=>{switch(le){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(re);return ke&&(pe[ke]=gt[re]),pe},{}),ee,Lt]}(K):[null,null,void 0];if("a"in K&&"H"in K)throw new yt("Can't include meridiem when specifying 24-hour format");return{input:s,tokens:a,regex:w,rawMatches:G,matches:K,result:dt,zone:ut,specificOffset:It}}}function wi(u){return u.replace(/\u202F/g," ")}function Ri(u,s){if(!u)return null;const _=ye.create(s,u).dtFormatter((void 0===di&&(di=bt.fromMillis(1555555555555,{locale:s.locale})),di)),a=_.formatToParts(),d=_.resolvedOptions();return a.map(h=>function(k,w,G){const{type:K,value:dt}=k;if("literal"===K){const Lt=/^\s+$/.test(dt);return{literal:!Lt,val:Lt?" ":dt}}let It=K;"hour"===K&&(It=null!=w.hour12?w.hour12?"hour12":"hour24":null!=w.hourCycle?"h11"===w.hourCycle||"h12"===w.hourCycle?"hour12":"hour24":G.hour12?"hour12":"hour24");let gt=as[It];if("object"==typeof gt&&(gt=gt[w[K]]),gt)return{literal:!1,val:gt}}(h,u,d))}const Ce="Invalid DateTime",Mi=864e13;function Fi(u,s,_){let a=u-60*s*1e3;const d=_.offset(a);if(s===d)return[a,s];a-=60*(d-s)*1e3;const h=_.offset(a);return d===h?[a,d]:[u-60*Math.min(d,h)*1e3,Math.max(d,h)]}function Mo(u,s){const _=new Date(u+=60*s*1e3);return{year:_.getUTCFullYear(),month:_.getUTCMonth()+1,day:_.getUTCDate(),hour:_.getUTCHours(),minute:_.getUTCMinutes(),second:_.getUTCSeconds(),millisecond:_.getUTCMilliseconds()}}function Fo(u,s,_){return Fi(sn(u),s,_)}function uo(u,s,_,a,d,h){const{setZone:k,zone:w}=_;if(u&&0!==Object.keys(u).length||s){const G=s||w,K=bt.fromObject(u||void 0,Object.assign(Object.assign({},_),{zone:G,specificOffset:h}));return k?K:K.setZone(w)}return bt.invalid(new pt("unparsable",`the input "${d}" can't be parsed as ${a}`))}function Do(u,s,_=!0){return u.isValid?ye.create(Kt.create("en-US"),{allowZ:_,forceSimple:!0}).formatDateTimeFromString(u,s):null}const Di={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ls={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},cs={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ni=["year","month","day","hour","minute","second","millisecond"],ms=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],_s=["year","ordinal","hour","minute","second","millisecond"];function Gi(u){const s=Yo[u.toLowerCase()];if(!s)throw new x(u);return s}class bt{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return qe(this.year,this.month)}get daysInYear(){return this.isValid?Tn(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return xn(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?W.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?W.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?ht(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?W.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?W.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?I(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?I(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(s){const _=s.zone||X.defaultZone;let a,d,h=s.invalid||(Number.isNaN(s.ts)?new pt("invalid timestamp"):null)||(_.isValid?null:bt._unsupportedZone(_));if(this._ts=Oe(s.ts)?X.now():s.ts,!h)if(s.old&&s.old.ts===this._ts&&s.old.zone.equals(_))[d,a]=[s.old.c,s.old.o];else{const k=_.offset(this._ts);d=Mo(this._ts,k),h=Number.isNaN(d.year)?new pt("invalid input"):null,d=h?void 0:d,a=h?void 0:k}this._zone=_,this._loc=s.loc||Kt.create(),this._invalid=h,this._weekData=null,this._c=d,this._o=a,this._isLuxonDateTime=!0}static expandFormat(s,_={}){return Oi(ye.parseFormat(s),Kt.fromObject(_)).map(a=>a.val).join("")}static fromFormat(s,_,a={}){if(Oe(s)||Oe(_))throw new Dt("fromFormat requires an input string and a format");const{locale:d,numberingSystem:h}=a,k=Kt.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),[w,G,K,dt]=function(ut,It,gt){const{result:Lt,zone:ee,specificOffset:pe,invalidReason:re}=Ei(ut,wi(It),wi(gt));return[Lt,ee,pe,re]}(k,s,_);return dt?bt.invalid(dt):uo(w,G||null,a,`format ${_}`,s,K)}static fromFormatExplain(s,_,a={}){const{locale:d,numberingSystem:h}=a;return Ei(Kt.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),s,_)}static fromHTTP(s,_={}){const[a,d]=Fn(s,[Zo,yo],[qo,yo],[ti,ei]);return uo(a,d,_,"HTTP",s)}static fromISO(s,_={}){const[a,d]=Fn(s,[ni,Oo],[jo,si],[oi,ai],[ii,ri]);return uo(a,d,_,"ISO 8601",s)}static fromJSDate(s,_={}){const a="[object Date]"===Object.prototype.toString.call(s)?s.valueOf():NaN;if(Number.isNaN(a))return bt.invalid("invalid input");const h=je(_.zone,X.defaultZone);return h.isValid?new bt({ts:a,zone:h,loc:Kt.fromObject(_)}):bt.invalid(bt._unsupportedZone(h))}static fromMillis(s,_={}){if(ct(s))return s<-Mi||s>Mi?bt.invalid("Timestamp out of range"):new bt({ts:s,zone:je(_.zone,X.defaultZone),loc:Kt.fromObject(_)});throw new Dt(`fromMillis requires a numerical input, but received a ${typeof s} with value ${s}`)}static fromObject(s={},_={}){const a=je(_.zone,X.defaultZone);if(!a.isValid)return bt.invalid(bt._unsupportedZone(a));const d=Kt.fromObject(_),h=kt(s,Gi),k=X.now(),w=ct(_.specificOffset)?_.specificOffset:a.offset(k),G=Qt(h.ordinal),K=Qt(h.year),dt=Qt(h.month)||Qt(h.day),ut=K||dt,It=h.weekYear||h.weekNumber;if((ut||G)&&It)throw new yt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(dt&&G)throw new yt("Can't mix ordinal dates with month/day");const gt=It||h.weekday&&!ut,{minDaysInFirstWeek:Lt,startOfWeek:ee}=be(h,d),pe=Mo(k,w),re={containsGregor:ut,containsOrdinal:G,loc:d,normalized:h,obj:s,offsetProvis:w,useWeekData:gt,zoneToUse:a};return gt?bt._buildObject(re,ms,ls,Ze(pe,Lt,ee)):G?bt._buildObject(re,_s,cs,ht(pe)):bt._buildObject(re,Ni,Di,pe)}static fromRFC2822(s,_={}){const[a,d]=Fn(s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Io,Qo]);return uo(a,d,_,"RFC 2822",s)}static fromSQL(s,_={}){const[a,d]=Fn(s,[li,Oo],[Eo,ci]);return uo(a,d,_,"SQL",s)}static fromSeconds(s,_={}){if(!ct(s))throw new Dt("fromSeconds requires a numerical input");return new bt({ts:1e3*s,zone:je(_.zone,X.defaultZone),loc:Kt.fromObject(_)})}static fromString(s,_,a={}){return bt.fromFormat(s,_,a)}static fromStringExplain(s,_,a={}){return bt.fromFormatExplain(s,_,a)}static invalid(s,_){if(!s)throw new Dt("need to specify a reason the DateTime is invalid");const a=s instanceof pt?s:new pt(s,_);if(X.throwOnInvalid)throw new i(a);return new bt({invalid:a})}static isDateTime(s){return!(!s||!s._isLuxonDateTime)}static local(...s){const[_,a]=this._lastOpts(s),[d,h,k,w,G,K,dt]=a;return bt._quickDT({year:d,month:h,day:k,hour:w,minute:G,second:K,millisecond:dt},_)}static max(...s){if(!s.every(bt.isDateTime))throw new Dt("max requires all arguments be DateTimes");return kn(s,_=>_.valueOf(),Math.max)}static min(...s){if(!s.every(bt.isDateTime))throw new Dt("min requires all arguments be DateTimes");return kn(s,_=>_.valueOf(),Math.min)}static now(){return new bt({})}static parseFormatForOpts(s,_={}){const a=Ri(s,Kt.fromObject(_));return a?a.map(d=>d?d.val:null).join(""):null}static utc(...s){const[_,a]=this._lastOpts(s),[d,h,k,w,G,K,dt]=a;return _.zone=ce.utcInstance,this._quickDT({year:d,month:h,day:k,hour:w,minute:G,second:K,millisecond:dt},_)}static _buildObject(s,_,a,d){let h=!1;_.forEach(ut=>{Qt(s.normalized[ut])?h=!0:s.normalized[ut]=h?a[ut]:d[ut]});const k=(s.useWeekData?function(ut,It=4,gt=1){const Lt=Rn(ut.weekYear),ee=Ye(ut.weekNumber,1,I(ut.weekYear,It,gt)),pe=Ye(ut.weekday,1,7);return Lt?ee?!pe&&me("weekday",ut.weekday):me("week",ut.weekNumber):me("weekYear",ut.weekYear)}(s.normalized):s.containsOrdinal?function(ut){const It=Rn(ut.year),gt=Ye(ut.ordinal,1,Tn(ut.year));return It?!gt&&me("ordinal",ut.ordinal):me("year",ut.year)}(s.normalized):F(s.normalized))||E(s.normalized);if(k)return bt.invalid(k);const w=s.useWeekData?M(s.normalized):s.containsOrdinal?U(s.normalized):s.normalized,[G,K]=Fo(w,s.offsetProvis,s.zoneToUse),dt=new bt({ts:G,zone:s.zoneToUse,o:K,loc:s.loc});return s.normalized.weekday&&s.containsGregor&&s.obj.weekday!==dt.weekday?bt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.normalized.weekday} and a date of ${dt.toISO()}`):dt.isValid?dt:bt.invalid(dt._invalid)}static _diffRelative(s,_,a){const d=!!Oe(a.round)||a.round,h=(w,G)=>(w=Bn(w,d||a.calendary?0:2,!0),_._loc.clone(a).relFormatter(a).format(w,G)),k=w=>a.calendary?_.hasSame(s,w)?0:_.startOf(w).diff(s.startOf(w),w).get(w):_.diff(s,w).get(w);if(a.unit)return h(k(a.unit),a.unit);for(const w of a.units){const G=k(w);if(Math.abs(G)>=1)return h(G,w)}return h(s>_?-0:0,a.units[a.units.length-1])}static _lastOpts(s){let _,a={};return s.length>0&&"object"==typeof s[s.length-1]?(a=s.pop(),_=s):_=Array.from(s),[a,_]}static _quickDT(s,_){const a=je(_.zone,X.defaultZone),d=Kt.fromObject(_),h=X.now();let k,w;if(Qt(s.year)){for(const dt of Ni)Oe(s[dt])&&(s[dt]=Di[dt]);const G=F(s)||E(s);if(G)return bt.invalid(G);const K=a.offset(h);[k,w]=Fo(s,K,a)}else k=h;return new bt({ts:k,zone:a,loc:d,o:w})}static _unsupportedZone(s){return new pt("unsupported zone",`the zone "${s.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(s,_="milliseconds",a={}){if(!this.isValid||!s.isValid)return v.invalid(this.invalidReason||s.invalidReason,"created by diffing an invalid DateTime");const d=(w=_,Array.isArray(w)?w:[w]).map(v.normalizeUnit),h=s.valueOf()>this.valueOf(),k=((u,s,_,a)=>{let[d,h,k,w]=function(ut,It,gt){const Lt=[["years",(le,Te)=>Te.year-le.year],["quarters",(le,Te)=>Te.quarter-le.quarter+4*(Te.year-le.year)],["months",(le,Te)=>Te.month-le.month+12*(Te.year-le.year)],["weeks",(le,Te)=>{const wn=Ft(le,Te);return(wn-wn%7)/7}],["days",Ft]],ee={},pe=ut;let re,ke;for(const[le,Te]of Lt)gt.indexOf(le)>=0&&(re=le,ee[le]=Te(ut,It),ke=pe.plus(ee),ke>It?(ee[le]--,(ut=pe.plus(ee))>It&&(ke=ut,ee[le]--,ut=pe.plus(ee))):ut=ke);return[ut,ee,ke,re]}(u,s,_);const G=+s-+d,K=_.filter(ut=>["hours","minutes","seconds","milliseconds"].indexOf(ut)>=0);0===K.length&&(k<s&&(k=d.plus({[w]:1})),k!==d&&(h[w]=(h[w]||0)+G/(+k-+d)));const dt=v.fromObject(h,a);return K.length>0?v.fromMillis(G,a).shiftTo(...K).plus(dt):dt})(h?this:s,h?s:this,d,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},a));var w;return h?k.negate():k}diffNow(s="milliseconds",_={}){return this.diff(bt.now(),s,_)}endOf(s,{useLocaleWeeks:_=!1}={}){return this.plus({[s]:1}).startOf(s,{useLocaleWeeks:_}).minus({milliseconds:1})}equals(s){return this.valueOf()===s.valueOf()&&this.zone.equals(s.zone)&&this._loc.equals(s._loc)}get(s){return this[s]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const s=864e5,_=6e4,a=sn(this._c),d=this.zone.offset(a-s),h=this.zone.offset(a+s),k=this.zone.offset(a-d*_),w=this.zone.offset(a-h*_);if(k===w)return[this];const G=a-k*_,K=a-w*_,dt=Mo(G,k),ut=Mo(K,w);return dt.hour===ut.hour&&dt.minute===ut.minute&&dt.second===ut.second&&dt.millisecond===ut.millisecond?[this._clone({ts:G}),this._clone({ts:K})]:[this]}hasSame(s,_,a){if(!this.isValid)return!1;const d=s.valueOf(),h=this.setZone(s.zone,{keepLocalTime:!0});return+h.startOf(_)<=d&&d<=+h.endOf(_,a)}minus(s){if(!this.isValid)return this;const _=v.fromDurationLike(s).negate();return this._clone(this._adjustTime(_))}plus(s){if(!this.isValid)return this;const _=v.fromDurationLike(s);return this._clone(this._adjustTime(_))}reconfigure(s){const _=this._loc.clone(s);return this._clone({loc:_})}resolvedLocaleOptions(s={}){const{locale:_,numberingSystem:a,calendar:d}=ye.create(this._loc.clone(s),s).resolvedOptions(this);return{locale:_,numberingSystem:a,outputCalendar:d}}set(s){if(!this.isValid)return this;const _=kt(s,Gi),{minDaysInFirstWeek:a,startOfWeek:d}=be(_,this.loc),h=Qt(_.weekYear)||Qt(_.weekNumber)||Qt(_.weekday),k=Qt(_.ordinal),w=Qt(_.year),G=Qt(_.month)||Qt(_.day);if((w||G||k)&&(_.weekYear||_.weekNumber))throw new yt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(G&&k)throw new yt("Can't mix ordinal dates with month/day");let ut;h?ut=M(Object.assign(Object.assign({},Ze(this._c,a,d)),_),a,d):Oe(_.ordinal)?(ut=Object.assign(Object.assign({},this.toObject()),_),Oe(_.day)&&(ut.day=Math.min(qe(ut.year,ut.month),ut.day))):ut=U(Object.assign(Object.assign({},ht(this._c)),_));const[It,gt]=Fo(ut,this._o,this.zone);return this._clone({ts:It,o:gt})}setLocale(s){return this.reconfigure({locale:s})}setZone(s,{keepLocalTime:_=!1,keepCalendarTime:a=!1}={}){if((s=je(s,X.defaultZone)).equals(this.zone))return this;if(s.isValid){let d=this._ts;if(_||a){const h=s.offset(this._ts);d=Fo(this.toObject(),h,s)[0]}return this._clone({ts:d,zone:s})}return bt.invalid(bt._unsupportedZone(s))}startOf(s,{useLocaleWeeks:_=!1}={}){if(!this.isValid)return this;const a={},d=v.normalizeUnit(s);switch(d){case"years":a.month=1;case"quarters":case"months":a.day=1;case"weeks":case"days":a.hour=0;case"hours":a.minute=0;case"minutes":a.second=0;case"seconds":a.millisecond=0}if("weeks"===d)if(_){const h=this.loc.getStartOfWeek(),{weekday:k}=this;k<h&&(a.weekNumber=this.weekNumber-1),a.weekday=h}else a.weekday=1;if("quarters"===d){const h=Math.ceil(this.month/3);a.month=3*(h-1)+1}return this.set(a)}toBSON(){return this.toJSDate()}toFormat(s,_={}){return this.isValid?ye.create(this._loc.redefaultToEN(_)).formatDateTimeFromString(this,s):Ce}toHTTP(){return Do(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:s="extended",suppressSeconds:_=!1,suppressMilliseconds:a=!1,includeOffset:d=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const k="extended"===s;return[this._toISODate(k),"T",this._toISOTime(k,_,a,d,h)].join("")}toISODate({format:s="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===s):null}toISOTime({suppressMilliseconds:s=!1,suppressSeconds:_=!1,includeOffset:a=!0,includePrefix:d=!1,extendedZone:h=!1,format:k="extended"}={}){return this.isValid?[d?"T":"",this._toISOTime("extended"===k,_,s,a,h)].join(""):null}toISOWeekDate(){return Do(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(X.defaultZone)}toLocaleParts(s={}){return this.isValid?ye.create(this._loc.clone(s),s).formatDateTimeParts(this):[]}toLocaleString(s=Ct,_={}){return this.isValid?ye.create(this._loc.clone(_),s).formatDateTime(this):Ce}toMillis(){return this.isValid?this.ts:NaN}toObject(s={includeConfig:!1}){if(!this.isValid)return{};const _=Object.assign({},this._c);return s.includeConfig&&(_.outputCalendar=this.outputCalendar,_.numberingSystem=this._loc.numberingSystem,_.locale=this._loc.locale),_}toRFC2822(){return Do(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(s={}){if(!this.isValid)return null;const _=s.base||bt.fromObject({},{zone:this.zone}),a=s.padding?this<_?-s.padding:s.padding:0;let d=["years","months","days","hours","minutes","seconds"],h=s.unit;return Array.isArray(s.unit)&&(d=s.unit,h=void 0),bt._diffRelative(_,this.plus(a),Object.assign(Object.assign({},s),{numeric:"always",units:d,unit:h}))}toRelativeCalendar(s={}){return this.isValid?bt._diffRelative(s.base||bt.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},s),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(s={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(s)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:s=!0,includeZone:_=!1,includeOffsetSpace:a=!0}={}){let d="HH:mm:ss.SSS";return(_||s)&&(a&&(d+=" "),_?d+="z":s&&(d+="ZZ")),Do(this,d,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():Ce}toUTC(s=0,_={}){return this.setZone(ce.instance(s),_)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(s){return P.fromDateTimes(this,s)}valueOf(){return this.toMillis()}_adjustTime(s){const _=this._o,a=this._c.year+Math.trunc(s.years),d=this._c.month+Math.trunc(s.months)+3*Math.trunc(s.quarters),h=Object.assign(Object.assign({},this._c),{year:a,month:d,day:Math.min(this._c.day,qe(a,d))+Math.trunc(s.days)+7*Math.trunc(s.weeks)}),k=v.fromObject({years:s.years-Math.trunc(s.years),quarters:s.quarters-Math.trunc(s.quarters),months:s.months-Math.trunc(s.months),weeks:s.weeks-Math.trunc(s.weeks),days:s.days-Math.trunc(s.days),hours:s.hours,minutes:s.minutes,seconds:s.seconds,milliseconds:s.milliseconds}).as("milliseconds"),w=sn(h);let[G,K]=Fi(w,_,this.zone);return 0!==k&&(G+=k,K=this.zone.offset(G)),{ts:G,o:K}}_clone(s){const _={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new bt(Object.assign(Object.assign(Object.assign({},_),s),{old:_}))}_possiblyCachedLocalWeekData(s){return s._localWeekData||(s._localWeekData=Ze(s._c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s._localWeekData}_possiblyCachedWeekData(s){return null===s._weekData&&(s._weekData=Ze(s._c)),s._weekData}_toISODate(s){const _=this._c.year>9999||this._c.year<0;let a="";return _&&this._c.year>=0&&(a+="+"),a+=ve(this._c.year,_?6:4),s?(a+="-",a+=ve(this._c.month),a+="-",a+=ve(this._c.day)):(a+=ve(this._c.month),a+=ve(this._c.day)),a}_toISOTime(s,_,a,d,h){let k=ve(this._c.hour);return s?(k+=":",k+=ve(this._c.minute),0===this._c.millisecond&&0===this._c.second&&_||(k+=":")):k+=ve(this._c.minute),0===this._c.millisecond&&0===this._c.second&&_||(k+=ve(this._c.second),0===this._c.millisecond&&a||(k+=".",k+=ve(this._c.millisecond,3))),d&&(this.isOffsetFixed&&0===this.offset&&!h?k+="Z":this._o<0?(k+="-",k+=ve(Math.trunc(-this._o/60)),k+=":",k+=ve(Math.trunc(-this._o%60))):(k+="+",k+=ve(Math.trunc(this._o/60)),k+=":",k+=ve(Math.trunc(this._o%60)))),h&&(k+="["+this.zone.ianaName+"]"),k}}bt.DATETIME_FULL=oe,bt.DATETIME_FULL_WITH_SECONDS=St,bt.DATETIME_HUGE=lt,bt.DATETIME_HUGE_WITH_SECONDS=J,bt.DATETIME_MED=At,bt.DATETIME_MED_WITH_SECONDS=Mt,bt.DATETIME_MED_WITH_WEEKDAY=Jt,bt.DATETIME_SHORT=Zt,bt.DATETIME_SHORT_WITH_SECONDS=Ut,bt.DATE_FULL=Tt,bt.DATE_HUGE=zt,bt.DATE_MED=jt,bt.DATE_MED_WITH_WEEKDAY=tt,bt.DATE_SHORT=Ct,bt.TIME_24_SIMPLE=Se,bt.TIME_24_WITH_LONG_OFFSET=Pt,bt.TIME_24_WITH_SECONDS=De,bt.TIME_24_WITH_SHORT_OFFSET=Ne,bt.TIME_SIMPLE=Gt,bt.TIME_WITH_LONG_OFFSET=xe,bt.TIME_WITH_SECONDS=Xt,bt.TIME_WITH_SHORT_OFFSET=ae;var te=p(54460),Xn=p(89163),yn=p(39471),Wn=p(63552),Hn=p(71217),po=p(18447),Jn=p(5424),go=p(88249),ho=p(82040),$i=p(47947),ds=p(66645),un=p(71204),Je=p(10936),ui=p(30470),pi=p(4375),zi=p(47426),Kn=p(74960),gi=p(53904),hi=p(97839),us=p(46192);const ps=["clockFace"],gs=["clockHand"],fo=function(u){return{transform:u}};function hs(u,s){if(1&u&&(n.j41(0,"button",9),n.nI1(1,"activeHour"),n.EFF(2),n.nI1(3,"timeLocalizer"),n.k0s()),2&u){const _=s.$implicit,a=n.XpG();n.Y8G("color",n.brH(1,4,_.time,null==a.selectedTime?null:a.selectedTime.time,a.isClockFaceDisabled)?a.color:void 0)("ngStyle",n.eq3(11,fo,"rotateZ(-"+_.angle+"deg)"))("disabled",_.disabled),n.R7$(2),n.SpI(" ",n.i5U(3,8,_.time,a.timeUnit.HOUR)," ")}}function fs(u,s){if(1&u&&(n.j41(0,"div",12)(1,"button",9),n.nI1(2,"activeMinute"),n.EFF(3),n.nI1(4,"timeLocalizer"),n.nI1(5,"minutesFormatter"),n.k0s()()),2&u){const _=s.$implicit,a=n.XpG(2);n.Y8G("ngStyle",n.eq3(16,fo,"rotateZ("+_.angle+"deg)")),n.R7$(1),n.Y8G("color",n.ii3(2,5,_.time,null==a.selectedTime?null:a.selectedTime.time,a.minutesGap,a.isClockFaceDisabled)?a.color:void 0)("ngStyle",n.eq3(18,fo,"rotateZ(-"+_.angle+"deg)"))("disabled",_.disabled),n.R7$(2),n.SpI(" ",n.i5U(4,10,n.i5U(5,13,_.time,a.minutesGap),a.timeUnit.MINUTE)," ")}}function bs(u,s){if(1&u&&(n.j41(0,"div",10),n.DNE(1,fs,6,20,"div",11),n.k0s()),2&u){const _=n.XpG();n.R7$(1),n.Y8G("ngForOf",_.faceTime)("ngForTrackBy",_.trackByTime)}}function vs(u,s){1&u&&n.SdG(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const Pi=function(u){return{$implicit:u}};function Cs(u,s){if(1&u&&(n.j41(0,"div",12),n.DNE(1,vs,1,0,"ng-content",14),n.k0s()),2&u){const _=s.$implicit;n.XpG(2);const a=n.sdS(1);n.Y8G("ngStyle",n.eq3(3,fo,"rotateZ("+_.angle+"deg)")),n.R7$(1),n.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",n.eq3(5,Pi,_))}}function ks(u,s){1&u&&n.SdG(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function xs(u,s){if(1&u&&(n.j41(0,"div",17),n.DNE(1,ks,1,0,"ng-content",14),n.k0s()),2&u){const _=s.$implicit,a=n.XpG(3),d=n.sdS(1);n.xc7("top","calc(50% - "+a.innerClockFaceSize+"px)")("height",a.innerClockFaceSize,"px"),n.Y8G("ngStyle",n.eq3(7,fo,"rotateZ("+_.angle+"deg)")),n.R7$(1),n.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",n.eq3(9,Pi,_))}}function Ts(u,s){if(1&u&&(n.j41(0,"div",15),n.DNE(1,xs,2,11,"div",16),n.nI1(2,"slice"),n.k0s()),2&u){const _=n.XpG(2);n.R7$(1),n.Y8G("ngForOf",n.brH(2,2,_.faceTime,12,24))("ngForTrackBy",_.trackByTime)}}function Ss(u,s){if(1&u&&(n.j41(0,"div",10),n.DNE(1,Cs,2,7,"div",11),n.nI1(2,"slice"),n.DNE(3,Ts,3,6,"div",13),n.k0s()),2&u){const _=n.XpG();n.R7$(1),n.Y8G("ngForOf",n.brH(2,3,_.faceTime,0,12))("ngForTrackBy",_.trackByTime),n.R7$(2),n.Y8G("ngIf",_.faceTime.length>12)}}function Is(u,s){if(1&u&&(n.j41(0,"button",18),n.nrm(1,"span",19),n.k0s()),2&u){const _=n.XpG();n.Y8G("color",_.color)}}const Ai=["*","*"],ys=function(u){return{"clock-face__clock-hand_minute":u}};function js(u,s){if(1&u){const _=n.RV6();n.j41(0,"div",5),n.bIt("@scaleInOut.done",function(){n.eBV(_);const d=n.XpG(2);return n.Njj(d.animationDone())}),n.j41(1,"p"),n.EFF(2,"Current time would be invalid in this period."),n.k0s()()}2&u&&n.Y8G("@scaleInOut",void 0)}function Li(u,s){if(1&u&&n.DNE(0,js,3,1,"div",4),2&u){const _=n.XpG();n.Y8G("ngIf",!_.isPeriodAvailable)}}const bo=function(u){return{active:u}};function Os(u,s){if(1&u){const _=n.RV6();n.j41(0,"input",2),n.bIt("ngModelChange",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.time=d)})("input",function(){n.eBV(_);const d=n.XpG();return n.Njj(d.updateTime())})("focus",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))}),n.nI1(1,"timeLocalizer"),n.k0s()}if(2&u){const _=n.XpG();n.Y8G("ngClass",n.eq3(8,bo,_.isActive))("ngModel",n.brH(1,4,_.time,_.timeUnit,!0))("disabled",_.disabled)("ngxMatTimepickerAutofocus",_.isActive)}}function Es(u,s){if(1&u){const _=n.RV6();n.j41(0,"input",3),n.bIt("ngModelChange",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.onModelChange(d))})("input",function(){n.eBV(_);const d=n.XpG();return n.Njj(d.updateTime())})("focus",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))})("keydown",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.onKeydown(d))})("keypress",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.changeTimeByKeyboard(d))}),n.nI1(1,"timeLocalizer"),n.nI1(2,"ngxMatTimepickerParser"),n.k0s()}if(2&u){const _=n.XpG();n.Y8G("ngClass",n.eq3(11,bo,_.isActive))("ngModel",n.brH(1,4,n.i5U(2,8,_.time,_.timeUnit),_.timeUnit,!0))("disabled",_.disabled)("ngxMatTimepickerAutofocus",_.isActive)}}function ws(u,s){if(1&u){const _=n.RV6();n.j41(0,"ngx-mat-timepicker-period",7),n.bIt("periodChanged",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.changePeriod(d))}),n.k0s()}if(2&u){const _=n.XpG();n.Y8G("selectedPeriod",_.period)("activeTimeUnit",_.activeTimeUnit)("maxTime",_.maxTime)("minTime",_.minTime)("format",_.format)("hours",_.hours)("minutes",_.minutes)("selectedHour",_.hour)("meridiems",_.meridiems)}}function Rs(u,s){1&u&&n.eu8(0)}function Ms(u,s){1&u&&(n.j41(0,"small",11),n.EFF(1," * use arrows ("),n.j41(2,"span"),n.EFF(3,"\u21c5"),n.k0s(),n.EFF(4,") to change the time"),n.k0s())}const Fs=function(u){return{"timepicker-dial__hint-container--hidden":u}};function Ds(u,s){if(1&u&&(n.j41(0,"div",8),n.DNE(1,Rs,1,0,"ng-container",9),n.DNE(2,Ms,5,0,"ng-template",null,10,n.C5r),n.k0s()),2&u){const _=n.sdS(3),a=n.XpG();n.Y8G("ngClass",n.eq3(2,Fs,!a.isHintVisible)),n.R7$(1),n.Y8G("ngTemplateOutlet",a.editableHintTmpl?a.editableHintTmpl:_)}}function Ns(u,s){1&u&&n.eu8(0)}function Gs(u,s){if(1&u&&(n.j41(0,"div"),n.DNE(1,Ns,1,0,"ng-container",3),n.k0s()),2&u){n.XpG();const _=n.sdS(4);n.R7$(1),n.Y8G("ngTemplateOutlet",_)}}function Dn(u,s){1&u&&n.eu8(0)}function jn(u,s){if(1&u&&n.DNE(0,Dn,1,0,"ng-container",3),2&u){n.XpG();const _=n.sdS(4);n.Y8G("ngTemplateOutlet",_)}}function Nn(u,s){1&u&&n.SdG(0)}const $s=["*"];function zs(u,s){if(1&u&&(n.j41(0,"button",14),n.EFF(1,"CANCEL "),n.k0s()),2&u){const _=n.XpG();n.Y8G("color",_.color)}}function Ps(u,s){if(1&u&&(n.j41(0,"button",14),n.EFF(1,"OK "),n.k0s()),2&u){const _=n.XpG();n.Y8G("color",_.color)}}function As(u,s){if(1&u){const _=n.RV6();n.j41(0,"ngx-mat-timepicker-24-hours-face",17),n.bIt("hourChange",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.k0s()}if(2&u){const _=n.XpG(2);n.Y8G("color",_.color)("selectedHour",n.bMT(1,5,_.selectedHour))("minTime",_.data.minTime)("maxTime",_.data.maxTime)("format",_.data.format)}}function Ls(u,s){if(1&u){const _=n.RV6();n.j41(0,"ngx-mat-timepicker-12-hours-face",18),n.bIt("hourChange",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.k0s()}if(2&u){const _=n.XpG(2);n.Y8G("color",_.color)("selectedHour",n.bMT(1,5,_.selectedHour))("period",n.bMT(2,7,_.selectedPeriod))("minTime",_.data.minTime)("maxTime",_.data.maxTime)}}function Bs(u,s){if(1&u&&(n.j41(0,"div"),n.DNE(1,As,2,7,"ngx-mat-timepicker-24-hours-face",15),n.DNE(2,Ls,3,9,"ng-template",null,16,n.C5r),n.k0s()),2&u){const _=n.sdS(3),a=n.XpG();n.R7$(1),n.Y8G("ngIf",24===a.data.format)("ngIfElse",_)}}function Ys(u,s){if(1&u){const _=n.RV6();n.j41(0,"ngx-mat-timepicker-minutes-face",19),n.bIt("minuteChange",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.onMinuteChange(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()}if(2&u){const _=n.XpG();let a;n.Y8G("color",_.color)("selectedMinute",n.bMT(1,8,_.selectedMinute))("selectedHour",null==(a=n.bMT(2,10,_.selectedHour))?null:a.time)("minTime",_.data.minTime)("maxTime",_.data.maxTime)("format",_.data.format)("period",n.bMT(3,12,_.selectedPeriod))("minutesGap",_.data.minutesGap)}}function Vs(u,s){1&u&&n.eu8(0)}function Us(u,s){1&u&&n.eu8(0)}function Xs(u,s){if(1&u&&(n.j41(0,"button",14),n.EFF(1,"CANCEL "),n.k0s()),2&u){const _=n.XpG();n.Y8G("color",_.color)}}function Ws(u,s){if(1&u&&(n.j41(0,"button",14),n.EFF(1,"OK "),n.k0s()),2&u){const _=n.XpG();n.Y8G("color",_.color)}}function Hs(u,s){if(1&u){const _=n.RV6();n.j41(0,"ngx-mat-timepicker-24-hours-face",17),n.bIt("hourChange",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.k0s()}if(2&u){const _=n.XpG(2);n.Y8G("color",_.color)("selectedHour",n.bMT(1,5,_.selectedHour))("minTime",_.data.minTime)("maxTime",_.data.maxTime)("format",_.data.format)}}function Js(u,s){if(1&u){const _=n.RV6();n.j41(0,"ngx-mat-timepicker-12-hours-face",18),n.bIt("hourChange",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(_);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.k0s()}if(2&u){const _=n.XpG(2);n.Y8G("color",_.color)("selectedHour",n.bMT(1,5,_.selectedHour))("period",n.bMT(2,7,_.selectedPeriod))("minTime",_.data.minTime)("maxTime",_.data.maxTime)}}function Ks(u,s){if(1&u&&(n.j41(0,"div"),n.DNE(1,Hs,2,7,"ngx-mat-timepicker-24-hours-face",15),n.DNE(2,Js,3,9,"ng-template",null,16,n.C5r),n.k0s()),2&u){const _=n.sdS(3),a=n.XpG();n.R7$(1),n.Y8G("ngIf",24===a.data.format)("ngIfElse",_)}}function Qs(u,s){if(1&u){const _=n.RV6();n.j41(0,"ngx-mat-timepicker-minutes-face",19),n.bIt("minuteChange",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.onMinuteChange(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()}if(2&u){const _=n.XpG();let a;n.Y8G("color",_.color)("selectedMinute",n.bMT(1,8,_.selectedMinute))("selectedHour",null==(a=n.bMT(2,10,_.selectedHour))?null:a.time)("minTime",_.data.minTime)("maxTime",_.data.maxTime)("format",_.data.format)("period",n.bMT(3,12,_.selectedPeriod))("minutesGap",_.data.minutesGap)}}function Zs(u,s){1&u&&n.eu8(0)}function qs(u,s){1&u&&n.eu8(0)}function ta(u,s){1&u&&n.nrm(0,"ngx-mat-timepicker-standalone")}function ea(u,s){1&u&&(n.qSk(),n.j41(0,"svg",2),n.nrm(1,"path",3),n.k0s())}const na=[[["","ngxMatTimepickerToggleIcon",""]]],Bi=["[ngxMatTimepickerToggleIcon]"];function oa(u,s){if(1&u&&(n.j41(0,"mat-option",12),n.EFF(1),n.k0s()),2&u){const _=s.$implicit;n.Y8G("value",_),n.R7$(1),n.JRh(_)}}function ia(u,s){if(1&u){const _=n.RV6();n.j41(0,"mat-form-field",9)(1,"mat-select",10),n.bIt("selectionChange",function(d){n.eBV(_);const h=n.XpG();return n.Njj(h.changePeriod(d))}),n.DNE(2,oa,2,2,"mat-option",11),n.k0s()()}if(2&u){const _=n.XpG();n.Y8G("color",_.color),n.R7$(1),n.Y8G("disabled",_.disabled||_.isChangePeriodDisabled)("ngModel",_.period),n.R7$(1),n.Y8G("ngForOf",_.periods)}}function sa(u,s){1&u&&n.eu8(0)}function aa(u,s){if(1&u&&(n.j41(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),n.DNE(2,sa,1,0,"ng-container",15),n.k0s()()),2&u){const _=n.XpG(),a=n.sdS(8),d=n.sdS(10);n.Y8G("for",a)("disabled",_.disabled),n.R7$(2),n.Y8G("ngTemplateOutlet",_.toggleIcon||d)}}function ra(u,s){1&u&&(n.j41(0,"mat-icon"),n.EFF(1,"watch_later"),n.k0s())}const la=function(u){return{"ngx-mat-timepicker--disabled":u}};var Gn=function(u){return u.TWELVE="hh:mm a",u.TWELVE_SHORT="h:m a",u.TWENTY_FOUR="HH:mm",u.TWENTY_FOUR_SHORT="H:m",u}(Gn||{}),Ae=function(u){return u.AM="AM",u.PM="PM",u}(Ae||{});let de=(()=>{var u;class s{static formatHour(a,d,h){if(this.isTwentyFour(d))return a;const k=h===Ae.AM?a:a+12;return h===Ae.AM&&12===k?0:h===Ae.PM&&24===k?12:k}static formatTime(a,d){if(!a)return"Invalid Time";const h=this.parseTime(a,d).setLocale(this.defaultLocale);if(!h.isValid)return"Invalid time";const k=!this.isTwentyFour(d.format);return k?h.toLocaleString({...bt.TIME_SIMPLE,hour12:k}).replace(/\u200E/g,""):h.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(a,d){return a.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(d)?Gn.TWENTY_FOUR:Gn.TWELVE)}static isBetween(a,d,h,k="minutes"){const w="hours"===k?k:void 0;return this.isSameOrBefore(a,h,w)&&this.isSameOrAfter(a,d,w)}static isSameOrAfter(a,d,h="minutes"){return"hours"===h?a.hour>=d.hour:a.hasSame(d,h)||a.valueOf()>d.valueOf()}static isSameOrBefore(a,d,h="minutes"){return"hours"===h?a.hour<=d.hour:a.hasSame(d,h)||a.valueOf()<=d.valueOf()}static isTimeAvailable(a,d,h,k,w,G){if(!a)return;const K=this.parseTime(a,{format:G}),dt=K.minute;if(w&&dt==dt&&dt%w!=0)throw new Error(`Your minutes - ${dt} doesn't match your minutesGap - ${w}`);const ut=d&&!h&&this.isSameOrAfter(K,d,k),It=h&&!d&&this.isSameOrBefore(K,h,k),gt=d&&h&&this.isBetween(K,d,h,k);return ut||It||gt||!d&&!h}static isTwentyFour(a){return 24===a}static parseTime(a,d){const h=this._getLocaleOptionsByTime(a,d);let k=Gn.TWENTY_FOUR_SHORT;return a.match(/\s/g)&&(a=a.replace(/\.\s*/g,""),k=Gn.TWELVE_SHORT),bt.fromFormat(a.replace(/\s+/g," "),k,{numberingSystem:h.numberingSystem,locale:h.locale})}static toLocaleTimeString(a,d={}){const{format:h=this.defaultFormat,locale:k=this.defaultLocale}=d;let w="h12",G=Gn.TWELVE_SHORT;return this.isTwentyFour(h)&&(w="h23",G=Gn.TWENTY_FOUR_SHORT),bt.fromFormat(a,G).reconfigure({locale:k,numberingSystem:d.numberingSystem,defaultToEN:d.defaultToEN,outputCalendar:d.outputCalendar}).toLocaleString({...bt.TIME_SIMPLE,hourCycle:w})}static _getLocaleOptionsByTime(a,d){const{numberingSystem:h,locale:k}=bt.now().reconfigure({locale:d.locale,numberingSystem:d.numberingSystem,outputCalendar:d.outputCalendar,defaultToEN:d.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(a,10))?{numberingSystem:h,locale:k}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return(u=s).defaultFormat=12,u.defaultLocale="en-US",u.defaultNumberingSystem="latn",s})();var Ke=function(u){return u[u.HOUR=0]="HOUR",u[u.MINUTE=1]="MINUTE",u}(Ke||{});const vo=new n.nKC("NGX_MAT_TIMEPICKER_CONFIG"),No={time:12,angle:360},Go={time:0,angle:360};let Co=(()=>{var u;class s{constructor(){this._hour$=new Hn.t(No),this._minute$=new Hn.t(Go),this._period$=new Hn.t(Ae.AM)}set hour(a){this._hour$.next(a)}set minute(a){this._minute$.next(a)}set period(a){(a===Ae.AM||a===Ae.PM)&&this._period$.next(a)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(a){const d=this._hour$.getValue().time,h=this._minute$.getValue().time,K=`${d??No.time}:${h??Go.time} ${12===a?this._period$.getValue():""}`.trim();return de.formatTime(K,{format:a})}setDefaultTimeIfAvailable(a,d,h,k,w){a||this._resetTime();try{de.isTimeAvailable(a,d,h,"minutes",w)&&this._setDefaultTime(a,k)}catch(G){console.error(G)}}_resetTime(){this.hour={...No},this.minute={...Go},this.period=Ae.AM}_setDefaultTime(a,d){const h=de.parseTime(a,{format:d});if(h.isValid){const k=a.substring(a.length-2).toUpperCase(),w=h.hour;this.hour={...No,time:ca(w,k)},this.minute={...Go,time:h.minute},this.period=k}else this._resetTime()}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275prov=n.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),s})();function ca(u,s){switch(s){case Ae.AM:return 0===u?12:u;case Ae.PM:return 12===u?12:u-12;default:return u}}let $o=(()=>{var u;class s{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,go.t)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,go.t)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new po.B,this._keydownEvent$=new po.B}dispatchEvent(a){switch(a.type){case"click":this._backdropClick$.next(a);break;case"keydown":this._keydownEvent$.next(a);break;default:throw new Error("no such event type")}}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275prov=n.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),s})();const Yi=new n.nKC("TimeLocale",{providedIn:"root",factory:()=>de.defaultLocale});let On=(()=>{var u;class s{get locale(){return this._locale}constructor(a){this._locale=a}updateLocale(a){this._locale=a||this._initialLocale}}return(u=s).\u0275fac=function(a){return new(a||u)(n.KVO(Yi))},u.\u0275prov=n.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),s})(),Vi=(()=>{var u;class s{set color(a){this._color=a}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(a){this._defaultTime=a,this._setDefaultTime(a)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,d,h,k){this._timepickerSrv=a,this._eventSrv=d,this._timepickerLocaleSrv=h,this.data=k,this.activeTimeUnit=Ke.HOUR,this.timeUnit=Ke,this._color="primary",this._subsCtrl$=new po.B,this.color=k.color,this.defaultTime=k.defaultTime}changePeriod(a){this._timepickerSrv.period=a,this._onTimeChange()}changeTimeUnit(a){this.activeTimeUnit=a}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,go.t)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,go.t)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,go.t)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,Jn.Q)(this._subsCtrl$)).subscribe({next:a=>{a&&this._setDefaultTime(a)}})}onHourChange(a){this._timepickerSrv.hour=a,this._onTimeChange()}onHourSelected(a){this.data.hoursOnly||this.changeTimeUnit(Ke.MINUTE),this.data.timepickerBaseRef.hourSelected.next(a)}onKeydown(a){this._eventSrv.dispatchEvent(a),a.stopPropagation()}onMinuteChange(a){this._timepickerSrv.minute=a,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const a=this.data.minTime;if(a&&!this.data.time&&!this.data.defaultTime){const d=de.fromDateTimeToString(a,this.data.format);this._setDefaultTime(d)}}_onTimeChange(){const a=de.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(a)}_setDefaultTime(a){this._timepickerSrv.setDefaultTimeIfAvailable(a,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(Co),n.rXU($o),n.rXU(On),n.rXU(vo))},u.\u0275dir=n.FsC({type:u,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(a,d){1&a&&n.bIt("keydown",function(k){return d.onKeydown(k)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),s})();class Ee{static disableHours(s,_){return _.min||_.max?s.map(a=>{const d=de.isTwentyFour(_.format)?a.time:de.formatHour(a.time,_.format,_.period),h=bt.fromObject({hour:d}).toFormat(Gn.TWELVE);return{...a,disabled:!de.isTimeAvailable(h,_.min,_.max,"hours")}}):s}static disableMinutes(s,_,a){if(a.min||a.max){const d=de.formatHour(_,a.format,a.period);let h=bt.fromObject({hour:d,minute:0});return s.map(k=>(h=h.set({minute:k.time}),{...k,disabled:!de.isTimeAvailable(h.toFormat(Gn.TWELVE),a.min,a.max,"minutes")}))}return s}static getHours(s){return Array(s).fill(1).map((_,a)=>{const h=_+a;return{time:24===h?0:h,angle:30*h}})}static getMinutes(s=1){const d=[];for(let h=0;h<60;h++){const k=6*h;h%s==0&&d.push({time:h,angle:0!==k?k:360})}return d}static isDigit(s){return!!([46,8,9,27,13].some(_=>_===s.keyCode)||65===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||67===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||88===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||s.keyCode>=35&&s.keyCode<=40)||!((s.keyCode<48||s.keyCode>57)&&(s.keyCode<96||s.keyCode>105))}}var Pn=function(u){return u.hour="hour",u.minute="minute",u}(Pn||{});let fi=(()=>{var u;class s{get _locale(){return this._timepickerLocaleSrv.locale}constructor(a){this._timepickerLocaleSrv=a}transform(a,d,h=!1){if(null==a||""===a)return"";switch(d){case Ke.HOUR:return this._formatTime(Pn.hour,a,0===a||h?"HH":"H");case Ke.MINUTE:return this._formatTime(Pn.minute,a,"mm");default:throw new Error(`There is no Time Unit with type ${d}`)}}_formatTime(a,d,h){try{return bt.fromObject({[a]:+d}).setLocale(this._locale).toFormat(h)}catch{throw new Error(`Cannot format provided time - ${d} to locale - ${this._locale}`)}}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(On,16))},u.\u0275pipe=n.EJ8({name:"timeLocalizer",type:u,pure:!0,standalone:!0}),s})(),ma=(()=>{var u;class s{transform(a,d=5){return a&&(a%d==0?a:"")}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275pipe=n.EJ8({name:"minutesFormatter",type:u,pure:!0,standalone:!0}),s})(),_a=(()=>{var u;class s{transform(a,d,h,k){return null!=a&&!k&&d===a&&a%(h||5)==0}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275pipe=n.EJ8({name:"activeMinute",type:u,pure:!0,standalone:!0}),s})(),da=(()=>{var u;class s{transform(a,d,h){return null!=a&&!h&&a===d}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275pipe=n.EJ8({name:"activeHour",type:u,pure:!0,standalone:!0}),s})();const zo_small_height="75px",zo_small_top="calc(50% - 75px)",zo_large_height="103px",zo_large_top="calc(50% - 103px)";let Po=(()=>{var u;class s{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new n.bkB,this.timeSelected=new n.bkB,this.timeUnit=Ke}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(a){const d=a.faceTime,h=a.selectedTime;d&&d.currentValue&&h&&h.currentValue&&(this.selectedTime=this.faceTime.find(k=>k.time===this.selectedTime.time)),h&&h.currentValue&&this._setClockHandPosition(),d&&d.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(a){a.preventDefault(),this._isStarted=!0}onMouseup(a){a.preventDefault(),this._isStarted=!1}selectTime(a){if(!this._isStarted&&a instanceof MouseEvent&&"click"!==a.type)return;const d=this.clockFace.nativeElement.getBoundingClientRect(),h=d.left+d.width/2,k=d.top+d.height/2,w=180*Math.atan(Math.abs(a.clientX-h)/Math.abs(a.clientY-k))/Math.PI,G=function pa(u,s,_,a,d){return a>s&&_>=u?180-d:a>s&&_<u?180+d:a<s&&_<u?360-d:d}(h,k,a.clientX,a.clientY,w),K=this.format&&this._isInnerClockFace(h,k,a.clientX,a.clientY),It=(function ua(u,s){return Math.round(u/s)*s}(G,this.unit===Ke.MINUTE?6*(this.minutesGap||1):30)||360)+(K?360:0),gt=this.faceTime.find(Lt=>Lt.angle===It);gt&&!gt.disabled&&(this.timeChange.next(gt),this._isStarted||this.timeSelected.next(gt.time))}trackByTime(a,d){return d.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=zo_small_height,this.clockHand.nativeElement.style.top=zo_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=zo_large_height,this.clockHand.nativeElement.style.top=zo_large_top}_isInnerClockFace(a,d,h,k){return Math.sqrt(Math.pow(h-a,2)+Math.pow(k-d,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const a=this.faceTime.find(d=>this.selectedTime.time===d.time);if(this.isClockFaceDisabled=this.faceTime.every(d=>d.disabled),a&&a.disabled&&!this.isClockFaceDisabled){const d=this.faceTime.find(h=>!h.disabled);this.timeChange.next(d)}}_setClockHandPosition(){de.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(a,d){if(1&a&&(n.GBs(ps,7),n.GBs(gs,7,n.aKT)),2&a){let h;n.mGM(h=n.lsd())&&(d.clockFace=h.first),n.mGM(h=n.lsd())&&(d.clockHand=h.first)}},hostBindings:function(a,d){1&a&&n.bIt("mousedown",function(k){return d.onMousedown(k)})("mouseup",function(k){return d.onMouseup(k)})("click",function(k){return d.selectTime(k)})("touchmove",function(k){return d.selectTime(k.changedTouches[0])})("touchend",function(k){return d.selectTime(k.changedTouches[0])})("mousemove",function(k){return d.selectTime(k)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[n.OA$,n.aNF],ngContentSelectors:Ai,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(a,d){if(1&a&&(n.NAR(Ai),n.DNE(0,hs,4,13,"ng-template",null,0,n.C5r),n.DNE(2,bs,2,2,"ng-template",null,1,n.C5r),n.j41(4,"div",2,3),n.DNE(6,Ss,4,7,"div",4),n.j41(7,"mat-toolbar",5,6),n.DNE(9,Is,2,1,"button",7),n.k0s(),n.nrm(10,"mat-toolbar",8),n.k0s()),2&a){const h=n.sdS(3);n.R7$(6),n.Y8G("ngIf",d.unit!==d.timeUnit.MINUTE)("ngIfElse",h),n.R7$(1),n.Y8G("color",d.color)("ngClass",n.eq3(7,ys,d.unit===d.timeUnit.MINUTE))("hidden",d.isClockFaceDisabled),n.R7$(2),n.Y8G("ngIf",d.unit===d.timeUnit.MINUTE),n.R7$(1),n.Y8G("color",d.color)}},dependencies:[yn.Hl,yn.$0,te.B3,te.pM,te.bT,te.T3,Wn.s5,Wn.KQ,te.YU,te.P9,da,_a,ma,fi],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0}),s})(),bi=(()=>{var u;class s{set color(a){this._color=a}get color(){return this._color}constructor(){this.minuteChange=new n.bkB,this.minutesList=[],this.timeUnit=Ke,this._color="primary"}ngOnChanges(a){if(a.period&&a.period.currentValue){const d=Ee.getMinutes(this.minutesGap);this.minutesList=Ee.disableMinutes(d,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[n.OA$,n.aNF],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(a,d){1&a&&(n.j41(0,"ngx-mat-timepicker-face",0),n.bIt("timeChange",function(k){return d.minuteChange.next(k)}),n.k0s()),2&a&&n.Y8G("color",d.color)("faceTime",d.minutesList)("selectedTime",d.selectedMinute)("minutesGap",d.minutesGap)("unit",d.timeUnit.MINUTE)},dependencies:[Po],encapsulation:2}),s})(),Ui=(()=>{var u;class s{set color(a){this._color=a}get color(){return this._color}set format(a){this._format=a,this.hoursList=Ee.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new n.bkB,this.hourSelected=new n.bkB,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(a){this.hourSelected.next(a)}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275dir=n.FsC({type:u,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),s})(),vi=(()=>{var u;class s extends Ui{constructor(){super(),this.format=12}ngOnChanges(a){a.period&&a.period.currentValue&&(this.hoursList=Ee.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[n.Vt3,n.OA$,n.aNF],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(a,d){1&a&&(n.j41(0,"ngx-mat-timepicker-face",0),n.bIt("timeChange",function(k){return d.hourChange.next(k)})("timeSelected",function(k){return d.onTimeSelected(k)}),n.k0s()),2&a&&n.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)},dependencies:[Po],encapsulation:2,changeDetection:0}),s})(),En=(()=>{var u;class s extends Ui{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=Ee.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[n.Vt3,n.aNF],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(a,d){1&a&&(n.j41(0,"ngx-mat-timepicker-face",0),n.bIt("timeChange",function(k){return d.hourChange.next(k)})("timeSelected",function(k){return d.onTimeSelected(k)}),n.k0s()),2&a&&n.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)("format",d.format)},dependencies:[Po],encapsulation:2,changeDetection:0}),s})(),Ao=(()=>{var u;class s{constructor(a){this._overlay=a,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new n.bkB,this.timePeriod=Ae}animationDone(){this.isPeriodAvailable=!0}changePeriod(a){this.isPeriodAvailable=this._isSwitchPeriodAvailable(a),this.isPeriodAvailable&&this.periodChanged.next(a)}_getDisabledTimeByPeriod(a){switch(this.activeTimeUnit){case Ke.HOUR:return Ee.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:a});case Ke.MINUTE:return Ee.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:a});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(a){return!this._getDisabledTimeByPeriod(a).every(h=>h.disabled)}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(e.hJ))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[n.aNF],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(a,d){if(1&a&&(n.j41(0,"div",0,1)(2,"button",2),n.bIt("click",function(){return d.changePeriod(d.timePeriod.AM)}),n.EFF(3),n.k0s(),n.j41(4,"button",2),n.bIt("click",function(){return d.changePeriod(d.timePeriod.PM)}),n.EFF(5),n.k0s()(),n.DNE(6,Li,1,1,"ng-template",3)),2&a){const h=n.sdS(1);n.R7$(2),n.Y8G("ngClass",n.eq3(8,bo,d.selectedPeriod===d.timePeriod.AM)),n.R7$(1),n.JRh(d.meridiems[0]),n.R7$(1),n.Y8G("ngClass",n.eq3(10,bo,d.selectedPeriod===d.timePeriod.PM)),n.R7$(1),n.JRh(d.meridiems[1]),n.R7$(1),n.Y8G("cdkConnectedOverlayScrollStrategy",d.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",d.overlayPositionStrategy)("cdkConnectedOverlayOrigin",h)("cdkConnectedOverlayOpen",!d.isPeriodAvailable)}},dependencies:[e.$Q,te.YU,e.WB,te.bT],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,un.hZ)("scaleInOut",[(0,un.kY)(":enter",[(0,un.iF)({transform:"scale(0)"}),(0,un.i0)(".2s",(0,un.iF)({transform:"scale(1)"})),(0,un.K2)([(0,un.i0)("3s",(0,un.iF)({opacity:1})),(0,un.i0)(".3s",(0,un.iF)({opacity:0}))])])])]}}),s})(),io=(()=>{var u;class s{get _locale(){return this._timepickerLocaleSrv.locale}constructor(a){this._timepickerLocaleSrv=a,this._numberingSystem=bt.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(a,d=Ke.HOUR){return null==a||""===a?"":isNaN(+a)?d===Ke.MINUTE?this._parseTime(a,"mm",Pn.minute).toString():this._parseTime(a,"HH",Pn.hour).toString():`${a}`}_parseTime(a,d,h){const k=bt.fromFormat(String(a),d,{numberingSystem:this._numberingSystem})[h];if(!isNaN(k))return k;throw new Error(`Cannot parse time - ${a}`)}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(On,16))},u.\u0275pipe=n.EJ8({name:"ngxMatTimepickerParser",type:u,pure:!0,standalone:!0}),u.\u0275prov=n.jDH({token:u,factory:u.\u0275fac}),s})(),ga=(()=>{var u;class s{constructor(a,d){this._element=a,this._document=d,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(n.aKT),n.rXU(te.qQ,8))},u.\u0275dir=n.FsC({type:u,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[n.OA$]}),s})();function Xi(){this.selectionStart=this.selectionEnd}let Wi=(()=>{var u;class s{get _selectedTime(){if(this.time)return this.timeList.find(a=>a.time===+this.time)}constructor(a,d){this._elRef=a,this._timeParserPipe=d,this.focused=new n.bkB,this.timeChanged=new n.bkB,this.timeUnitChanged=new n.bkB,this.unfocused=new n.bkB}changeTimeByKeyboard(a){const d=String.fromCharCode(a.keyCode);(function ha(u,s,_){if(/\d/.test(s))return Hi(u+s,_)})(this.time,d,this.timeList)&&a.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Xi,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Xi)}onKeydown(a){Ee.isDigit(a)?this._changeTimeByArrow(a.keyCode):a.preventDefault()}onModelChange(a){this.time=this._timeParserPipe.transform(a,this.timeUnit)}saveTimeAndChangeTimeUnit(a,d){a.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(d),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(a){return`0${+this.time+a}`.substr(-2)}_changeTimeByArrow(a){let d;38===a?d=this._addTime(this.minutesGap||1):40===a&&(d=this._addTime(-1*(this.minutesGap||1))),Hi(d,this.timeList)||(this.time=d,this.updateTime())}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(n.aKT),n.rXU(io))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[n.Jv_([io]),n.aNF],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(a,d){if(1&a&&(n.DNE(0,Os,2,10,"input",0),n.DNE(1,Es,3,13,"ng-template",null,1,n.C5r)),2&a){const h=n.sdS(2);n.Y8G("ngIf",!d.isEditable)("ngIfElse",h)}},dependencies:[te.bT,Je.YN,Je.me,Je.BC,Je.vS,te.YU,ga,io,fi],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),s})();function Hi(u,s){const _=s.find(a=>a.time===+u);return!_||_&&_.disabled}let ki,Ci=(()=>{var u;class s{set color(a){this._color=a}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(a){this._localeSrv=a,this.hourChanged=new n.bkB,this.meridiems=W.meridiems({locale:this._locale}),this.minuteChanged=new n.bkB,this.periodChanged=new n.bkB,this.timeUnit=Ke,this.timeUnitChanged=new n.bkB,this._color="primary"}changeHour(a){this.hourChanged.next(a)}changeMinute(a){this.minuteChanged.next(a)}changePeriod(a){this.periodChanged.next(a)}changeTimeUnit(a){this.timeUnitChanged.next(a)}hideHint(){this.isHintVisible=!1}ngOnChanges(a){const d=a.period&&a.period.currentValue;if(d||a.format&&a.format.currentValue){const h=Ee.getHours(this.format);this.hours=Ee.disableHours(h,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(d||a.hour&&a.hour.currentValue){const h=Ee.getMinutes(this.minutesGap);this.minutes=Ee.disableMinutes(h,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(On))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[n.OA$,n.aNF],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(a,d){1&a&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),n.bIt("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("timeChanged",function(k){return d.changeHour(k)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),n.k0s(),n.j41(4,"span"),n.EFF(5,":"),n.k0s(),n.j41(6,"ngx-mat-timepicker-dial-control",4),n.bIt("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("timeChanged",function(k){return d.changeMinute(k)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),n.k0s()(),n.DNE(7,ws,1,9,"ngx-mat-timepicker-period",5),n.k0s(),n.DNE(8,Ds,4,4,"div",6),n.k0s()),2&a&&(n.R7$(3),n.Y8G("timeList",d.hours)("time",d.hourString)("timeUnit",d.timeUnit.HOUR)("isActive",d.activeTimeUnit===d.timeUnit.HOUR)("isEditable",d.isEditable),n.R7$(3),n.Y8G("timeList",d.minutes)("time",d.minuteString)("timeUnit",d.timeUnit.MINUTE)("isActive",d.activeTimeUnit===d.timeUnit.MINUTE)("isEditable",d.isEditable)("minutesGap",d.minutesGap)("disabled",d.hoursOnly),n.R7$(1),n.Y8G("ngIf",24!==d.format),n.R7$(1),n.Y8G("ngIf",d.isEditable||d.editableHintTmpl))},dependencies:[Wi,te.bT,Ao,te.YU,te.T3],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),s})(),Ji=(()=>{var u;class s{}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[n.aNF],ngContentSelectors:$s,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(a,d){if(1&a&&(n.NAR(),n.DNE(0,Gs,2,1,"div",0),n.DNE(1,jn,1,1,"ng-template",null,1,n.C5r),n.DNE(3,Nn,1,0,"ng-template",null,2,n.C5r)),2&a){const h=n.sdS(2);n.Y8G("ngIf",d.appendToInput)("ngIfElse",h)}},dependencies:[te.bT,te.T3],encapsulation:2}),s})(),Ki=(()=>{var u;class s extends Vi{constructor(a,d,h,k,w){super(h,k,w,a),this.data=a,this._dialogRef=d}close(){this._dialogRef.close()}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(Xn.Vh),n.rXU(Xn.CP),n.rXU(Co),n.rXU($o),n.rXU(On))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[n.Vt3,n.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(a,d){if(1&a&&(n.DNE(0,zs,2,1,"ng-template",null,0,n.C5r),n.DNE(2,Ps,2,1,"ng-template",null,1,n.C5r),n.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),n.bIt("periodChanged",function(k){return d.changePeriod(k)})("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("hourChanged",function(k){return d.onHourChange(k)})("minuteChanged",function(k){return d.onMinuteChange(k)}),n.nI1(9,"async"),n.nI1(10,"async"),n.nI1(11,"async"),n.k0s()(),n.j41(12,"div",7)(13,"div",8),n.DNE(14,Bs,4,2,"div",9),n.DNE(15,Ys,4,14,"ngx-mat-timepicker-minutes-face",10),n.k0s()()()()(),n.j41(16,"div",11)(17,"div",12),n.bIt("click",function(){return d.close()}),n.DNE(18,Vs,1,0,"ng-container",13),n.k0s(),n.j41(19,"div",12),n.bIt("click",function(){return d.setTime()}),n.DNE(20,Us,1,0,"ng-container",13),n.k0s()()),2&a){const h=n.sdS(1),k=n.sdS(3);let w,G;n.R7$(5),n.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),n.R7$(1),n.Y8G("ngClass",d.data.timepickerClass),n.R7$(1),n.AVh("is-editable",d.data.enableKeyboardInput),n.Y8G("color",d.color),n.R7$(1),n.Y8G("color",d.color)("format",d.data.format)("hour",null==(w=n.bMT(9,23,d.selectedHour))?null:w.time)("minute",null==(G=n.bMT(10,25,d.selectedMinute))?null:G.time)("period",n.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),n.R7$(5),n.Y8G("ngSwitch",d.activeTimeUnit),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.HOUR),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.MINUTE),n.R7$(3),n.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:h),n.R7$(2),n.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:k)}},dependencies:[te.Jj,te.YU,te.bT,te.ux,te.e1,te.T3,yn.Hl,yn.$z,Xn.hM,Xn.Yi,Xn.E7,Wn.s5,Wn.KQ,Ji,Ci,En,vi,bi],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),s})(),Qi=(()=>{var u;class s extends Vi{constructor(a,d,h,k){super(d,h,k,a),this.data=a}close(){this.data.timepickerBaseRef.close()}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(vo),n.rXU(Co),n.rXU($o),n.rXU(On))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(a,d){2&a&&n.AVh("mat-app-background",!0)},standalone:!0,features:[n.Vt3,n.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(a,d){if(1&a&&(n.DNE(0,Xs,2,1,"ng-template",null,0,n.C5r),n.DNE(2,Ws,2,1,"ng-template",null,1,n.C5r),n.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),n.bIt("periodChanged",function(k){return d.changePeriod(k)})("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("hourChanged",function(k){return d.onHourChange(k)})("minuteChanged",function(k){return d.onMinuteChange(k)}),n.nI1(9,"async"),n.nI1(10,"async"),n.nI1(11,"async"),n.k0s()(),n.j41(12,"div",7)(13,"div",8),n.DNE(14,Ks,4,2,"div",9),n.DNE(15,Qs,4,14,"ngx-mat-timepicker-minutes-face",10),n.k0s()()()(),n.j41(16,"div",11)(17,"div",12),n.bIt("click",function(){return d.close()}),n.DNE(18,Zs,1,0,"ng-container",13),n.k0s(),n.j41(19,"div",12),n.bIt("click",function(){return d.setTime()}),n.DNE(20,qs,1,0,"ng-container",13),n.k0s()()()),2&a){const h=n.sdS(1),k=n.sdS(3);let w,G;n.R7$(5),n.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),n.R7$(1),n.Y8G("ngClass",d.data.timepickerClass),n.R7$(1),n.AVh("is-editable",d.data.enableKeyboardInput),n.Y8G("color",d.color),n.R7$(1),n.Y8G("color",d.color)("format",d.data.format)("hour",null==(w=n.bMT(9,23,d.selectedHour))?null:w.time)("minute",null==(G=n.bMT(10,25,d.selectedMinute))?null:G.time)("period",n.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),n.R7$(5),n.Y8G("ngSwitch",d.activeTimeUnit),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.HOUR),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.MINUTE),n.R7$(3),n.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:h),n.R7$(2),n.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:k)}},dependencies:[yn.Hl,yn.$z,ui.Pd,ui.kB,Ji,te.YU,Wn.s5,Wn.KQ,Ci,te.ux,te.e1,te.bT,En,vi,bi,te.T3,te.Jj],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),s})(),xi=(()=>{var u;class s{set appendToInput(a){this._appendToInput=(0,O.he)(a)}set color(a){this._color=a}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(a){this._enableKeyboardInput=(0,O.he)(a)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(a){this._format=de.isTwentyFour(a)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(a){null!=a&&(a=Math.floor(a),this._minutesGap=a<=59?a:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(a,d,h){this._eventService=a,this._dialog=d,this._overlay=h,this.closed=new n.bkB,this.hourSelected=new n.bkB,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++s.nextId,this.isEsc=!0,this.opened=new n.bkB,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new n.bkB,this.timeSet=new n.bkB,this.timeUpdated=new Hn.t(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){ki={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Ki,{panelClass:"ngx-mat-timepicker-dialog",data:{...ki}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(a){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",a.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=a}unregisterInput(){this._timepickerInput=void 0}updateTime(a){this.timeUpdated.next(a)}}return(u=s).nextId=0,u.\u0275fac=function(a){return new(a||u)(n.rXU($o),n.rXU(Xn.bZ),n.rXU(e.hJ))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(a,d){2&a&&n.Mr5("id",d.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[n.Jv_([{provide:vo,useFactory:()=>ki}]),n.aNF],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(a,d){1&a&&(n.DNE(0,ta,1,0,"ng-template",0),n.bIt("backdropClick",function(){return d.close()})),2&a&&n.Y8G("cdkConnectedOverlayPositions",d.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",d.overlayOrigin)("cdkConnectedOverlayOpen",d.showPicker)},dependencies:[e.WB,Qi],encapsulation:2}),s})(),Zi=(()=>{var u;class s{}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275dir=n.FsC({type:u,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),s})(),qi=(()=>{var u;class s{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(a){this._disabled=a}open(a){this.timepicker&&(this.timepicker.open(),a.stopPropagation())}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(a,d,h){if(1&a&&n.wni(h,Zi,7),2&a){let k;n.mGM(k=n.lsd())&&(d.customIcon=k.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[n.aNF],ngContentSelectors:Bi,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(a,d){1&a&&(n.NAR(na),n.j41(0,"button",0),n.bIt("click",function(k){return d.open(k)}),n.DNE(1,ea,2,0,"svg",1),n.SdG(2),n.k0s()),2&a&&(n.Y8G("disabled",d.disabled),n.R7$(1),n.Y8G("ngIf",!d.customIcon))},dependencies:[yn.Hl,yn.iY,te.bT],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),s})(),ts=(()=>{var u;class s{set color(a){this._color=a}get color(){return this._color}set floatLabel(a){this._floatLabel=a}get floatLabel(){return this._floatLabel}constructor(a){this._timeParser=a,this.id=s.nextId++,this.timeChanged=new n.bkB,this._color="primary",this._floatLabel="auto"}changeTime(a){a.stopPropagation();const d=a.data,h=function fa(u,s){if(/\d/.test(s))return+(u+s)}(String(this.time),d);this._changeTimeIfValid(h)}decrease(){if(!this.disabled){let a=+this.time-1;a<this.min&&(a=this.max),this._isSelectedTimeDisabled(a)&&(a=this._getAvailableTime(a,this._getPrevAvailableTime.bind(this))),a!==this.time&&this.timeChanged.emit(a)}}increase(){if(!this.disabled){let a=+this.time+1;a>this.max&&(a=this.min),this._isSelectedTimeDisabled(a)&&(a=this._getAvailableTime(a,this._getNextAvailableTime.bind(this))),a!==this.time&&this.timeChanged.emit(a)}}ngOnChanges(a){a.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(a){switch(a.stopPropagation(),Ee.isDigit(a)||a.preventDefault(),a.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==a.key&&a.preventDefault()}onModelChange(a){this.time=+this._timeParser.transform(a,this.timeUnit)}_changeTimeIfValid(a){if(!isNaN(a)){if(this.time=a,this.time>this.max){const d=String(a);this.time=+d[d.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(a,d){return d(this.timeList.findIndex(w=>w.time===a))??this.time}_getNextAvailableTime(a){const d=this.timeList,h=d.length;for(let k=a+1;k<h;k++){const w=d[k];if(!w.disabled)return w.time}}_getPrevAvailableTime(a){for(let d=a;d>=0;d--){const h=this.timeList[d];if(!h.disabled)return h.time}}_isSelectedTimeDisabled(a){return this.timeList.find(d=>d.time===a).disabled}_setAvailableTime(){this.time=this.timeList.find(a=>!a.disabled).time,this.timeChanged.emit(this.time)}}return(u=s).nextId=0,u.\u0275fac=function(a){return new(a||u)(n.rXU(io))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[n.Jv_([io]),n.OA$,n.aNF],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(a,d){1&a&&(n.j41(0,"mat-form-field",0)(1,"input",1),n.bIt("ngModelChange",function(k){return d.onModelChange(k)})("keydown",function(k){return d.onKeydown(k)})("beforeinput",function(k){return d.changeTime(k)})("focus",function(){return d.onFocus()})("blur",function(){return d.onBlur()}),n.nI1(2,"timeLocalizer"),n.nI1(3,"ngxMatTimepickerParser"),n.k0s(),n.j41(4,"div",2)(5,"span",3),n.bIt("click",function(){return d.increase()}),n.qSk(),n.j41(6,"svg",4),n.nrm(7,"path",5)(8,"path",6),n.k0s()(),n.joV(),n.j41(9,"span",3),n.bIt("click",function(){return d.decrease()}),n.qSk(),n.j41(10,"svg",4),n.nrm(11,"path",7)(12,"path",8),n.k0s()()()()),2&a&&(n.Y8G("color",d.color)("floatLabel",d.floatLabel)("ngClass",n.eq3(15,bo,d.isFocused)),n.R7$(1),n.Mz_("id","ngx_mat_timepicker_field_",d.id,"")("name","ngx_mat_timepicker_field_",d.id,""),n.Y8G("ngModel",n.brH(2,8,n.i5U(3,12,d.time,d.timeUnit),d.timeUnit,!0))("placeholder",d.placeholder)("disabled",d.disabled))},dependencies:[Kn.RG,Kn.rl,Kn.yw,te.YU,hi.fS,hi.fg,Je.YN,Je.me,Je.BC,Je.tU,Je.vS,io,fi],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),s})(),ba=(()=>{var u;class s{get color(){return this._color}set color(a){this._color=a}get defaultTime(){return this._defaultTime}set defaultTime(a){this._defaultTime=a,this._isDefaultTime=!!a}get floatLabel(){return this._floatLabel}set floatLabel(a){this._floatLabel=a}get format(){return this._format}set format(a){de.isTwentyFour(a)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=Ee.getHours(this._format),a&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(a){this._max="string"!=typeof a?a:de.parseTime(a,{locale:this._locale,format:this.format})}get min(){return this._min}set min(a){this._min="string"!=typeof a?a:de.parseTime(a,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,d){this._timepickerService=a,this._timepickerLocaleSrv=d,this.hour$=new Hn.t(void 0),this.maxHour=12,this.minHour=1,this.minute$=new Hn.t(void 0),this.period=Ae.AM,this.periods=[Ae.AM,Ae.PM],this.timeChanged=new n.bkB,this.timeUnit=Ke,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new po.B,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(a){this._timepickerService.hour=this.hoursList.find(d=>d.time===a),this._changeTime()}changeMinute(a){this._timepickerService.minute=this.minutesList.find(d=>d.time===a),this._changeTime()}changePeriod(a){this._timepickerService.period=a.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=Ee.getHours(this._format),this.minutesList=Ee.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,ho.M)(a=>this._selectedHour=a?.time),(0,$i.T)(this._changeDefaultTimeValue.bind(this)),(0,ho.M)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:a=>this.hour$.next(a)}),this._timepickerService.selectedMinute.pipe((0,$i.T)(this._changeDefaultTimeValue.bind(this)),(0,ho.M)(()=>this._isFirstTimeChange=!1)).subscribe({next:a=>this.minute$.next(a)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,ds.F)(),(0,ho.M)(a=>this.period=a),(0,ho.M)(a=>this.isChangePeriodDisabled=this._isPeriodDisabled(a)),(0,Jn.Q)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(a){this._updateTime(a),this._emitLocalTimeChange(a)}registerOnChange(a){this._onChange=a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a}writeValue(a){a?this._initTime(a):this._resetTime()}_changeDefaultTimeValue(a){return!this._isDefaultTime&&this._isFirstTimeChange?{...a,time:null}:a}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const a=this._timepickerService.getFullTime(this.format);this.timepickerTime=a,this._emitLocalTimeChange(a)}}_emitLocalTimeChange(a){const d=de.toLocaleTimeString(a,{format:this.format,locale:this._locale});this._onChange(d),this._onTouched(d),this.timeChanged.emit(d)}_initTime(a){if(!de.isTimeAvailable(a,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(de.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(de.fromDateTimeToString(this.max,this.format))}this._updateTime(a)}_isPeriodDisabled(a){return Ee.disableHours(Ee.getHours(12),{min:this.min,max:this.max,format:12,period:a===Ae.AM?Ae.PM:Ae.AM}).every(d=>d.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=Ee.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=Ee.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(a){if(a){const d=de.formatTime(a,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(d,this.min,this.max,this.format),this.timepickerTime=d}}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(Co),n.rXU(On))},u.\u0275cmp=n.VBU({type:u,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[n.Jv_([Co,{provide:Je.kq,useExisting:u,multi:!0}]),n.aNF],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(a,d){if(1&a&&(n.j41(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),n.bIt("timeChanged",function(k){return d.changeHour(k)}),n.k0s(),n.j41(2,"span",2),n.EFF(3,":"),n.k0s(),n.j41(4,"ngx-mat-timepicker-time-control",3),n.bIt("timeChanged",function(k){return d.changeMinute(k)}),n.k0s(),n.DNE(5,ia,3,4,"mat-form-field",4),n.DNE(6,aa,3,3,"ngx-mat-timepicker-toggle",5),n.k0s(),n.j41(7,"ngx-mat-timepicker",6,7),n.bIt("timeSet",function(k){return d.onTimeSet(k)}),n.k0s(),n.DNE(9,ra,2,0,"ng-template",null,8,n.C5r)),2&a){let h,k;n.Y8G("ngClass",n.eq3(30,la,d.disabled)),n.R7$(1),n.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","HH")("time",null==(h=d.hour$.getValue())?null:h.time)("min",d.minHour)("max",d.maxHour)("timeUnit",d.timeUnit.HOUR)("disabled",d.disabled)("timeList",d.hoursList)("preventTyping",d.isTimeRangeSet),n.R7$(3),n.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","MM")("time",null==(k=d.minute$.getValue())?null:k.time)("min",0)("max",59)("timeUnit",d.timeUnit.MINUTE)("disabled",d.disabled)("timeList",d.minutesList)("preventTyping",d.isTimeRangeSet),n.R7$(1),n.Y8G("ngIf",24!==d.format),n.R7$(1),n.Y8G("ngIf",!d.controlOnly),n.R7$(1),n.Y8G("color",d.color)("min",d.min)("max",d.max)("defaultTime",d.timepickerTime)("format",d.format)("cancelBtnTmpl",d.cancelBtnTmpl)("confirmBtnTmpl",d.confirmBtnTmpl)}},dependencies:[te.YU,ts,te.bT,Kn.RG,Kn.rl,pi.Ve,pi.VO,zi.wT,Je.YN,Je.BC,Je.vS,te.pM,zi.Sy,qi,Zi,te.T3,xi,gi.m_,gi.An],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),s})(),va=(()=>{var u;class s{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(a){this._format=de.isTwentyFour(+a)?24:12,a&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(a){this._max="string"!=typeof a?a:de.parseTime(a,{locale:this._locale,format:this.format})}get min(){return this._min}set min(a){this._min="string"!=typeof a?a:de.parseTime(a,{locale:this._locale,format:this.format})}set timepicker(a){this._registerTimepicker(a)}get value(){return this._value?de.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(a){if(!a)return this._value="",void this._updateInputValue();const d=de.formatTime(a,{locale:this._locale,format:this.format});if(de.isTimeAvailable(d,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=d,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(a){this._timepicker.defaultTime=de.formatTime(a,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,d,h){this._elementRef=a,this._timepickerLocaleSrv=d,this._matFormField=h,this.cdkOverlayOrigin=new e.$Q(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new po.B,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(a){const d=a.value;d&&d.currentValue&&(this._defaultTime=d.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(a){this.disableClick||(this._timepicker.open(),a.stopPropagation())}registerOnChange(a){this._onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}updateValue(a){this.value=a.target.value,this._onChange(this.value)}writeValue(a){this.value=a,a&&(this._defaultTime=a)}_registerTimepicker(a){if(!a)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=a,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,Jn.Q)(this._subsCtrl$)).subscribe(d=>{this.value=d,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return(u=s).\u0275fac=function(a){return new(a||u)(n.rXU(n.aKT),n.rXU(On),n.rXU(Kn.rl,8))},u.\u0275dir=n.FsC({type:u,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(a,d){1&a&&n.bIt("blur",function(){return d.onTouched()})("click",function(k){return d.onClick(k)})("change",function(k){return d.updateValue(k)}),2&a&&(n.Mr5("disabled",d.disabled),n.BMQ("cdkOverlayOrigin",d.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[n.Jv_([{provide:Je.kq,useExisting:u,multi:!0}]),n.OA$]}),s})(),es=(()=>{var u;class s{static setLocale(a){return{ngModule:s,providers:[{provide:Yi,useValue:a},{provide:vo,useValue:void 0},On]}}}return(u=s).\u0275fac=function(a){return new(a||u)},u.\u0275mod=n.$C({type:u}),u.\u0275inj=n.G2t({providers:[On,{provide:yn.Il,useValue:{color:"void"}}],imports:[te.MD,ui.Pd,Je.YN,yn.Hl,Kn.RG,Xn.hM,hi.fS,pi.Ve,Wn.s5,gi.m_,e.z_,us.jc,xi,Ci,Wi,Ki,Po,bi,Qi,qi,vi,En,ba,ts]}),s})()}}]);