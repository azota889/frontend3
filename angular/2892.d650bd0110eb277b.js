"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[2892],{88135:(F,j,a)=>{a.d(j,{Y:()=>L});var e=a(29023),l=a(56223),P=a(73445),t=a(23680),x=a(19347),o=a(44683),_=a(13217),h=a(72164),d=a(76359),E=a(84003),z=a(47180),I=a(19743),s=a(65879),G=a(59467),Q=a(94690),y=a(13978),k=a(96814),g=a(67679),O=a(68547),M=a(71646),J=a(13371),K=a(36727);function V(u,Z){1&u&&(s.TgZ(0,"div",5)(1,"span",6),s._UZ(2,"azt-loading-ui"),s.qZA()())}function Y(u,Z){if(1&u&&(s.TgZ(0,"div",28)(1,"div",29),s._UZ(2,"azt-list-classroom-checkbox",30),s.qZA()()),2&u){const p=s.oxw(2);s.xp6(2),s.Q6J("form",p.form)("classroomGroupData",p.classroomWithGroup)("examClassroomObjs",p.examClassroomObjs)("permissionName",p.permissionTypes.exam)}}function H(u,Z){if(1&u&&(s.TgZ(0,"div",28)(1,"div",31)(2,"div",32)(3,"h3",33),s._uU(4),s.ALo(5,"mytranslate"),s.qZA()(),s._UZ(6,"list-student-checkbox",34),s.qZA()()),2&u){const p=s.oxw(2);s.xp6(4),s.hij(" ",s.lcZ(5,5,"lang_test_config_student_list")," "),s.xp6(2),s.Q6J("form",p.form)("classroomGroupData",p.classroomWithGroup)("examStudentObjs",p.data.examStudents)("permissionName",p.permissionTypes.exam)}}function A(u,Z){if(1&u){const p=s.EpF();s.TgZ(0,"div",7)(1,"form",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12),s._uU(6),s.ALo(7,"mytranslate"),s.qZA()(),s.TgZ(8,"div",13)(9,"div",14)(10,"div",15)(11,"input",16),s.NdJ("change",function(){s.CHM(p);const T=s.oxw();return s.KtG(T.clearAllCheckBox(0))}),s.qZA(),s.TgZ(12,"label",17),s._uU(13),s.ALo(14,"mytranslate"),s.qZA()(),s.TgZ(15,"div",18)(16,"input",19),s.NdJ("change",function(){s.CHM(p);const T=s.oxw();return s.KtG(T.clearAllCheckBox(2))}),s.qZA(),s.TgZ(17,"label",20),s._uU(18),s.ALo(19,"mytranslate"),s.qZA()(),s.TgZ(20,"div",21)(21,"input",22),s.NdJ("change",function(){s.CHM(p);const T=s.oxw();return s.KtG(T.clearAllCheckBox(3))}),s.qZA(),s.TgZ(22,"label",23),s._uU(23),s.ALo(24,"mytranslate"),s.qZA()()()(),s.YNc(25,Y,3,4,"div",24),s.YNc(26,H,7,7,"div",24),s.qZA()()()(),s.TgZ(27,"div",25)(28,"button",26),s.NdJ("click",function(){s.CHM(p);const T=s.oxw();return s.KtG(T.closeDialog())}),s._uU(29),s.ALo(30,"mytranslate"),s.qZA(),s.TgZ(31,"button",27),s.NdJ("click",function(){s.CHM(p);const T=s.oxw();return s.KtG(T.savePublishExam("save"))}),s._uU(32),s.ALo(33,"mytranslate"),s.qZA()()}if(2&u){const p=s.oxw();s.xp6(1),s.Q6J("formGroup",p.form),s.xp6(5),s.hij(" ",s.lcZ(7,13,"lang_testbank_test_config_who_tested")," "),s.xp6(5),s.Q6J("value",0),s.xp6(2),s.hij(" ",s.lcZ(14,15,"lang_testbank_test_config_all_people")," "),s.xp6(3),s.Q6J("value",2),s.xp6(2),s.hij(" ",s.lcZ(19,17,"lang_testbank_test_config_assigne_class")," "),s.xp6(3),s.Q6J("value",3),s.xp6(2),s.hij(" ",s.lcZ(24,19,"lang_testbank_test_config_assigne_student")," "),s.xp6(2),s.Q6J("ngIf",2===p.form.controls.whoAllow.value),s.xp6(1),s.Q6J("ngIf",3===p.form.controls.whoAllow.value),s.xp6(3),s.hij(" ",s.lcZ(30,21,"lang_auto_huy")," "),s.xp6(2),s.Q6J("disabled",3===p.form.controls.whoAllow.value&&p.form.controls.studentIds.errors||2===p.form.controls.whoAllow.value&&p.form.controls.classroomFormArray.errors),s.xp6(1),s.hij(" ",s.lcZ(33,23,"lang_auto_luu")," ")}}let L=(()=>{class u extends h.e{clearAllCheckBox(p){1==p?this.isSelectClassroom=!1:2==p&&(this.isSelectClassroom=!0)}closeDialog(p){this.dialogRef.close(p)}savePublishExam(p){this.initStatusObj();let S="publish"===p?1:void 0;var T=this.form.getRawValue();const N=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray);let W=[];if(3==T.whoAllow&&T.studentIds&&T.studentIds.length){let b=this.commonService.arrayToDictionary(T.studentIds,B=>B.classroomId.toString());Object.entries(b).forEach(([B,c],C)=>{let D=this.commonService.getFirstOfArray(c)?.classroomId;D&&W?.push({classroomId:D,assignStudentIds:c.map(w=>w.studentId)})})}else W=void 0;let X={whoAllow:T.whoAllow,isPublished:S??void 0,classroomIds:N,assignStudents:W,isSaveConfig:0};var $=this.permissionService.hasEditPermission("exam",this.obj)?this.documentConfigService.apiDocumentConfigSaveExamConfigPost(this.hashId,X):this.documentConfigService.apiDocumentConfigSaveExamDataForConfigClassroomPost(this.hashId,X);this.waitDestroy($.subscribe(b=>{1==b.success?(this.successStatusObj(),this.showSuccessSnack("lang_auto_luu_thanh_cong"),this.closeDialog(b.data?.obj)):this.errorStatusObj(b.message??"",!0)}))}getExamDataByHashId(p){this.initStatusObj(),this.waitDestroy(this.documentConfigService.apiDocumentConfigGetExamDataForConfigClassroomV2Get(p).subscribe(S=>{if(1==S.success){if(null!=S.data){var N,T=S.data?.examObj;if(!(N=this.castObj(T)))return;N.limitQuestionGroupsParse=this.commonService.myParseJson(T.limitQuestionGroups??""),this.obj=N,this.hashId=this.obj.hashId??"",this.classroomWithGroup=S.data.classroomGroupObjs??new Array,this.classroomObjs=this.commonService.concatMultipleArray(S.data.classroomGroupObjs.map(W=>W.classroomObjs)),this.examClassroomObjs=S.data.examClassroomObjs??[],this.form.patchValue({whoAllow:this.obj.whoAllow}),this.isSelectClassroom=2==this.obj.whoAllow,this.successStatusObj()}}else this.errorStatusObj(S.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getExamDataByHashId(this.hashId)}constructor(p,S,T,N,W){super(N,T),this.documentConfigService=p,this.permissionService=S,this.dialogRef=T,this.data=N,this.sAztClassroomCheckboxService=W,this.permissionTypes=d.y,this.checkDialogFastContent=[],this.classroomObjs=[],this.examClassroomObjs=[],this.isSelectClassroom=!1,this.hashId="",this.classroomWithGroup=[],this.hashId=N.hashId,this.form=new l.cw({whoAllow:new l.NI(0,{nonNullable:!0}),classroomFormArray:new l.Oe([]),studentIds:new l.Oe([])},{validators:[z.h.classroomInGroupCheckBoxValidator,I.M.studentCheckBoxValidator]})}}return u.\u0275fac=function(p){return new(p||u)(s.Y36(G.C),s.Y36(Q.j),s.Y36(x.so,8),s.Y36(x.WI,8),s.Y36(y.f))},u.\u0275cmp=s.Xpm({type:u,selectors:[["config-online-exam-dialog"]],features:[s._Bn([{provide:e.fM,useClass:o.WG,deps:[t.Ad,P.o8]},{provide:e.ab,useFactory:_.hx,deps:[E.D]}]),s.qOj],decls:6,vars:2,consts:[[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],["class","loading flex items-center justify-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"loading","flex","items-center","justify-center"],[1,"w-4","h-4","inline-block"],[1,"col-md-12","setting"],[3,"formGroup"],[1,"setting-base"],["id","azt-config-who-allow",1,"grid","grid-cols-12","mt-4"],[1,"col-span-12","lg:col-span-3","pr-2"],[1,"mb-0","font-medium","flex","items-center"],[1,"col-span-12","lg:col-span-9"],[1,"flex","flex-col","sm:flex-row"],[1,"form-check","mr-5"],["id","config-who-all","formControlName","whoAllow","type","radio",1,"form-check-input",3,"value","change"],["for","config-who-all",1,"form-check-label"],[1,"form-check","mt-2","sm:mt-0","mr-5"],["id","config-who-class","formControlName","whoAllow","type","radio",1,"form-check-input",3,"value","change"],["for","config-who-class",1,"form-check-label"],[1,"form-check","mt-2","sm:mt-0"],["id","config-who-student","formControlName","whoAllow","type","radio",1,"form-check-input",3,"value","change"],["for","config-who-student",1,"form-check-label"],["class","col-span-12 mt-4",4,"ngIf"],[1,"text-right","mt-4"],["azt-track-service","config-exam-classroom-6-a-m4KztM",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","config-exam-classroom-brv1ZZTsfLY",1,"btn","w-24","btn-primary",3,"disabled","click"],[1,"col-span-12","mt-4"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","examClassroomObjs","permissionName"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","pb-1"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","flex","items-center"],[1,"mr-auto"],[3,"form","classroomGroupData","examStudentObjs","permissionName"]],template:function(p,S){if(1&p&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s.YNc(3,V,3,0,"div",3),s.YNc(4,A,34,25,"ng-template",null,4,s.W1O),s.qZA()()()),2&p){const T=s.MAs(5);s.xp6(3),s.Q6J("ngIf",S.statusObj.loading)("ngIfElse",T)}},dependencies:[k.O5,l._Y,l.Fj,l._,l.JJ,l.JL,l.sg,l.u,g.M,O.B,M.n,J.V,K.JV],encapsulation:2}),u})()},13371:(F,j,a)=>{a.d(j,{V:()=>Ot});var e=a(56223),l=a(76359),P=a(37734),t=a(65879),x=a(96814),o=a(95545),_=a(45337),h=a(63278),d=a(19347),E=a(72164),z=a(88131),I=a(4021),s=a(92596),G=a(43389),Q=a(78497),y=a(93523),k=a(25368),g=a(36727);function O(r,f){if(1&r&&t._UZ(0,"azt-loading-effect",7),2&r){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function M(r,f){1&r&&(t.ynx(0),t.TgZ(1,"div",23)(2,"span",24),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.BQk()),2&r&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_testbank_no_students_selected")))}function J(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"input",31),t.NdJ("change",function(){t.CHM(n);const m=t.oxw(5);return t.KtG(m.calculateFormData())}),t.qZA(),t.TgZ(3,"label",32,33),t.ALo(5,"mytranslate"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()}if(2&r){const n=t.MAs(4),i=t.oxw().$implicit;t.xp6(2),t.s9C("id","azt-checkbox-student-"+i.id),t.Q6J("formControl",i.isChecked),t.xp6(1),t.s9C("for","azt-checkbox-student-"+i.id),t.Q6J("matTooltip",t.lcZ(5,8,i.fullName))("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled)("matTooltipShowDelay",500),t.xp6(3),t.hij(" ",t.lcZ(7,10,i.fullName)," ")}}function K(r,f){if(1&r&&(t.ynx(0),t.YNc(1,J,8,12,"div",28),t.BQk()),2&r){const n=f.$implicit;t.xp6(1),t.Q6J("ngIf",n.isShowStudent)}}function V(r,f){1&r&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Y(r,f){if(1&r&&(t.TgZ(0,"div",25),t.YNc(1,K,2,1,"ng-container",26),t.qZA(),t.YNc(2,V,3,3,"div",27)),2&r){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.studentObjs),t.xp6(1),t.Q6J("ngIf",0==n.totalStudentsShow)}}function H(r,f){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",10)(2,"div",11)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",12)(7,"azt-search-box",13),t.NdJ("onSearch",function(m){t.CHM(n);const v=t.oxw(2);return t.KtG(v.onSearchBox(m.searchObj))}),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",14)(10,"div",15)(11,"input",16),t.NdJ("change",function(){t.CHM(n);const m=t.oxw(2);return t.KtG(m.selectAllStudentOfClass())}),t.qZA(),t.TgZ(12,"label",17),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"div",18)(16,"input",19),t.NdJ("change",function(){t.CHM(n);const m=t.oxw(2);return t.KtG(m.calculateFormData())}),t.qZA(),t.TgZ(17,"label",20),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()(),t.TgZ(20,"div")(21,"azt-mat-dialog-content",21),t.YNc(22,M,5,3,"ng-container",8),t.YNc(23,Y,3,2,"ng-template",null,22,t.W1O),t.qZA()(),t.BQk()}if(2&r){const n=t.MAs(24),i=t.oxw(2);t.xp6(4),t.Oqu(i.data.classroomName+(i.totalStudentsSelected?" ("+t.lcZ(5,11,"lang_auto_da_chon")+": "+i.totalStudentsSelected+")":"")),t.xp6(3),t.Q6J("isServerSearch",!1)("styleInput","form-control-sm ")("placeholder",t.lcZ(8,13,"lang_student_classroom_list_detail_search_name_student")),t.xp6(4),t.Q6J("formControl",i.selectAllFormControl),t.xp6(2),t.hij(" ",t.lcZ(14,15,i.selectAllFormControl.value?"lang_remove_all":"lang_select_all")," "),t.xp6(3),t.Q6J("formControl",i.showCheckedFormControl),t.xp6(2),t.hij(" ",t.lcZ(19,17,"lang_testbank_selected_students")," "),t.xp6(3),t.Q6J("defaultHeight",40),t.xp6(1),t.Q6J("ngIf",i.totalStudentsSelected<=0&&i.showCheckedFormControl.value)("ngIfElse",n)}}function A(r,f){1&r&&(t.TgZ(0,"div",23)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&r&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_core_class_has_no_student")))}function L(r,f){if(1&r&&(t.YNc(0,H,25,19,"ng-container",8),t.YNc(1,A,4,3,"ng-template",null,9,t.W1O)),2&r){const n=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.studentObjs.length>0)("ngIfElse",n)}}let u=(()=>{class r extends E.e{btnCloseDialog(){if(this.studentObjs.length<=0)return this.dialogRef.close();let n={classroomId:this.data.classroomId,classroomName:this.data.classroomName,studentIdsSelected:this.studentObjs.filter(i=>i.isChecked.value).map(i=>i.id)};this.dialogRef.close(n)}onSearchBox(n){this.searchContentObj=n,this.calculateFormData()}selectAllStudentOfClass(){this.studentObjs.map(n=>n.isChecked.setValue(this.selectAllFormControl.value)),this.calculateFormData()}calculateFormData(){let n=this.commonService.convertVietnameseToEnglish(this.searchContentObj.searchContent).toLowerCase().trim();this.studentObjs.forEach(i=>{const m=this.commonService.convertVietnameseToEnglish(i.fullName??"").toLowerCase().trim();let v=""==n||m.includes(n);i.isShowStudent=(!this.showCheckedFormControl.value||i.isChecked.value)&&v}),this.totalStudentsSelected=this.studentObjs.filter(i=>i.isChecked.value).length,this.selectAllFormControl.setValue(this.totalStudentsSelected==this.studentObjs.length),this.totalStudentsShow=this.studentObjs.filter(i=>i.isShowStudent).length}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.data.classroomId).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);let i=n.data?.studentObjs??[];i=0==n.data?.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(i)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(i)??[],"pos","id"),this.initFormData(i),this.stopStatusObj()}))}initFormData(n){this.studentObjs=n.map(i=>({...i,isShowStudent:!0,isChecked:new e.NI(this.data.studentIdsSelected.includes(i.id),{nonNullable:!0})})),this.calculateFormData()}ngOnInit(){this.getData()}constructor(n,i,m,v){super(v,m),this.sortService=n,this.studentProfileV2Service=i,this.dialogRef=m,this.data=v,this.selectAllFormControl=new e.NI(!1,{nonNullable:!0}),this.showCheckedFormControl=new e.NI(!1,{nonNullable:!0}),this.studentObjs=[],this.totalStudentsSelected=0,this.totalStudentsShow=0,this.searchContentObj=new h.h}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(z.V),t.Y36(I.LU),t.Y36(d.so,8),t.Y36(d.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["azt-assign-student-dialog"]],features:[t.qOj],decls:10,vars:5,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["emptyStudents",""],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center"],[1,"font-medium","mr-auto"],[1,"w-full","relative","flex","items-center","mt-2"],[3,"isServerSearch","styleInput","placeholder","onSearch"],[1,"flex","items-center","mt-2","sm:mt-0"],[1,"form-check","mr-3"],["id","selected-all","type","checkbox",1,"form-check-input",3,"formControl","change"],["for","selected-all",1,"form-check-label"],[1,"form-check"],["id","show-student-checked","type","checkbox",1,"form-check-input",3,"formControl","change"],["for","show-student-checked",1,"form-check-label"],[3,"defaultHeight"],["checkedBox",""],[1,"h-full","flex","items-center","justify-center","p-5"],[1,"mx-auto"],[1,"grid","grid-cols-12","gap-3","p-3"],[4,"ngFor","ngForOf"],["class","h-full flex items-center justify-center p-5",4,"ngIf"],["class","col-span-12 md:col-span-4 mt-2",4,"ngIf"],[1,"col-span-12","md:col-span-4","mt-2"],[1,"azt-checkbox-item"],["type","checkbox",1,"form-check-input",3,"id","formControl","change"],[1,"form-check-label","truncate",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","matTooltipShowDelay","for"],["c","isDisabled"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,O,1,1,"azt-loading-effect",3),t.YNc(4,L,3,2,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return i.btnCloseDialog()}),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&n){const m=t.MAs(5);t.xp6(3),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",m),t.xp6(5),t.hij(" ",t.lcZ(9,3,"lang_cms_common_ok")," ")}},dependencies:[x.sg,x.O5,s.gM,e.Wl,e.JJ,e.oH,G.l,Q.R,y.Q,k.W,g.JV],encapsulation:2}),r})();var Z=a(94690),p=a(13978),S=a(2783),T=a(77988),N=a(32651),W=a(16672),X=a(37722),$=a(23303),b=a(93375);const B=function(r,f){return{"bg-primary text-white font-medium":r,"hover:bg-slate-100 dark:hover:bg-darkmode-400":f}};function c(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.selectByGroupId(void 0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("ngClass",t.WLB(5,B,0===n.mapClassroomGroupDataToForm.groupIdSelected,0!==n.mapClassroomGroupDataToForm.groupIdSelected)),t.xp6(1),t.AsE(" ",t.lcZ(2,3,"lang_auto_tat_ca")," (",n.mapClassroomGroupDataToForm.totalAllClassrooms,") ")}}const C=function(r,f){return{"bg-primary text-white font-medium":r," hover:bg-slate-100 dark:hover:bg-darkmode-400":f}};function D(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(n);const m=t.oxw().$implicit,v=t.oxw(2);return t.KtG(v.selectByGroupId(m.groupObj))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}if(2&r){const n=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngClass",t.WLB(4,C,i.mapClassroomGroupDataToForm.groupIdSelected===n.groupObj.id,i.mapClassroomGroupDataToForm.groupIdSelected!==n.groupObj.id)),t.xp6(1),t.hij(" ",t.lcZ(2,2,n.groupObj.name)+" ("+n.groupObj.totalAllClassrooms+")"," ")}}function w(r,f){if(1&r&&(t.ynx(0),t.YNc(1,D,3,7,"button",47),t.BQk()),2&r){const n=f.$implicit;t.xp6(1),t.Q6J("ngIf",n.groupObj.isShowGroup)}}function U(r,f){if(1&r&&(t.ynx(0),t.YNc(1,w,2,1,"ng-container",46),t.BQk()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.mapClassroomGroupDataToForm.groupObjs)}}function q(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.sAztMatDrawerService.openDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",50),t._UZ(3,"rect",51)(4,"path",52)(5,"path",53),t.qZA()()}2&r&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_mo_menu"))}function nt(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.sAztMatDrawerService.closeDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",50),t._UZ(3,"rect",51)(4,"path",52)(5,"path",55),t.qZA()()}2&r&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_dong_menu"))}function st(r,f){if(1&r&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.hij(" ",(n.filterObj.isShowChecked?1:0)+(n.filterObj.isShowNotChecked?1:0)," ")}}function tt(r,f){if(1&r&&(t.ynx(0),t.TgZ(1,"span",62),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.BQk()),2&r){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,n.groupObj.name)),t.xp6(2),t.hij(" ","("+n.groupObj.totalAllClassrooms+" "+t.lcZ(5,4,"lang_testbank_test_list_classes")+")"," ")}}function et(r,f){if(1&r&&(t.TgZ(0,"span",68),t._uU(1),t.ALo(2,"slice"),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&r){const n=t.oxw(2).$implicit;t.s9C("matTooltip",n.classroomObj.name),t.xp6(1),t.hij(" ",t.Dn7(2,4,n.classroomObj.name,0,25)+"..."," "),t.xp6(3),t.AsE("(",n.classroomObj.studentIdsSelected.length,"/",n.classroomObj.countStudents,")")}}function it(r,f){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.TgZ(2,"span"),t._uU(3),t.qZA()()),2&r){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n.classroomObj.name," "),t.xp6(2),t.AsE("(",n.classroomObj.studentIdsSelected.length,"/",n.classroomObj.countStudents,")")}}function rt(r,f){1&r&&(t.TgZ(0,"span",69),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_test_config_share")," "))}const lt=function(r){return{"text-success font-medium":r}};function ct(r,f){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",63),t.NdJ("click",function(){t.CHM(n);const m=t.oxw().$implicit,v=t.oxw(2);return t.KtG(v.selectClassroomEvent(m.groupObj,m.classroomObj))}),t.TgZ(2,"span",64),t._UZ(3,"lucide-icon",65),t.qZA(),t.YNc(4,et,5,8,"span",66),t.YNc(5,it,4,3,"span",13),t.YNc(6,rt,3,3,"span",67),t.ALo(7,"fullPermission"),t.qZA(),t.BQk()}if(2&r){const n=t.oxw().$implicit;let i,m;t.xp6(1),t.Q6J("ngClass",t.VKq(7,lt,n.classroomObj.studentIdsSelected.length>0)),t.xp6(3),t.Q6J("ngIf",(null!==(i=null==n.classroomObj.name?null:n.classroomObj.name.length)&&void 0!==i?i:0)>25),t.xp6(1),t.Q6J("ngIf",(null!==(m=null==n.classroomObj.name?null:n.classroomObj.name.length)&&void 0!==m?m:0)<=25),t.xp6(1),t.Q6J("ngIf",!t.xi3(7,4,n.classroomObj,"classroom"))}}const _t=function(r){return{"grid-column":r}};function mt(r,f){if(1&r&&(t.TgZ(0,"div",61),t.YNc(1,tt,6,6,"ng-container",13),t.YNc(2,ct,8,9,"ng-container",13),t.qZA()),2&r){const n=f.$implicit;t.Q6J("ngStyle",t.VKq(3,_t,"group"==n.type?"span 12 / span 12":"")),t.xp6(1),t.Q6J("ngIf","group"==n.type),t.xp6(1),t.Q6J("ngIf","classroom"==n.type&&n.classroomObj)}}function ut(r,f){if(1&r&&(t.ynx(0),t.TgZ(1,"ng-scrollbar",57)(2,"cdk-virtual-scroll-viewport",58)(3,"div",59),t.YNc(4,mt,3,5,"div",60),t.qZA()()(),t.BQk()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("visibility","hover"),t.xp6(3),t.Q6J("cdkVirtualForOf",n.mapClassroomGroupDataToVirtualScroll)}}function dt(r,f){1&r&&(t.TgZ(0,"div",70),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null")," "))}const pt=function(r,f){return{"classroom-box-in-full-screen-in-mobile":r,"classroom-box-in-full-screen-in-desktop":f}},ht=function(r,f){return{"w-85":r,"w-56":f}},gt=function(r){return{"ml-3":r}};let ft=(()=>{class r extends P.Q{searchByClassroomName(n){this.searchByClassroomContentObj=n,this.checkIsFilter(),this.calculateClassroomInfo()}searchByGroupName(n){this.searchByGroupContentObj=n,this.checkIsFilter(),this.calculateClassroomInfo()}changeFilter(){this.checkIsFilter(),this.calculateClassroomInfo()}clearFilter(){this.filterObj={isShowChecked:!1,isShowNotChecked:!1},this.checkIsFilter(),this.calculateClassroomInfo()}checkIsFilter(){return 0!=this.mapClassroomGroupDataToForm.groupIdSelected||this.filterObj.isShowChecked||this.filterObj.isShowNotChecked||""!=this.searchByClassroomContentObj.searchContent.trim()}selectByGroupId(n){this.mapClassroomGroupDataToForm.groupIdSelected=n?.id??0,this.calculateClassroomInfo(),this.scrollable?.scrollTo({top:0,duration:0}),this.isMobileDevice&&this.sAztMatDrawerService.closeDrawer()}selectClassroomEvent(n,i){this.sAztDialogService.open(u,{data:{classroomId:i.id,classroomName:i.name,studentIdsSelected:this.studentsSelected.find(v=>v.classroomId==i.id)?.studentIdsSelected??[]},width:"1000px",autoFocus:!1}).afterClosed().subscribe(v=>{v&&this.chooseStudentsEvent.emit(v)})}calculateClassroomInfo(){this.doFilterData(),this.countFilterData(),this.calculateVirtualScrollData()}doFilterData(){const n=this.searchByClassroomContentObj.searchContent?this.commonService.convertVietnameseToEnglish(this.searchByClassroomContentObj.searchContent).toLowerCase().trim():"",i=this.searchByGroupContentObj.searchContent?this.commonService.convertVietnameseToEnglish(this.searchByGroupContentObj.searchContent).toLowerCase().trim():"";this.mapClassroomGroupDataToForm.groupObjs.forEach(m=>{const v=this.commonService.convertVietnameseToEnglish(m.groupObj.name??"");m.groupObj.isShowGroup=""==i||v.toLowerCase().trim().includes(i),m.classroomObjs.forEach(R=>{if(R.isShowClassroom=!0,!this.checkIsFilter())return;const ot=this.commonService.convertVietnameseToEnglish(R.name);let at=0==this.mapClassroomGroupDataToForm.groupIdSelected||m.groupObj.id==this.mapClassroomGroupDataToForm.groupIdSelected,bt=""==n||ot.toLowerCase().trim().includes(n);R.isShowClassroom=at&&bt&&(this.filterObj.isShowChecked&&R.studentIdsSelected.length>0||this.filterObj.isShowNotChecked&&R.studentIdsSelected.length<=0||!this.filterObj.isShowChecked&&!this.filterObj.isShowNotChecked)})})}countFilterData(){this.mapClassroomGroupDataToForm.groupObjs.forEach(n=>{n.groupObj.totalAllClassrooms=n.classroomObjs.length,n.groupObj.totalViewClassrooms=n.classroomObjs.filter(i=>i.isShowClassroom).length}),this.mapClassroomGroupDataToForm.totalAllClassrooms=this.mapClassroomGroupDataToForm.groupObjs.reduce((n,i)=>n+i.groupObj.totalAllClassrooms,0),this.mapClassroomGroupDataToForm.totalViewClassrooms=this.mapClassroomGroupDataToForm.groupObjs.reduce((n,i)=>n+i.groupObj.totalViewClassrooms,0)}calculateVirtualScrollData(){var n=[];this.mapClassroomGroupDataToForm.groupObjs.filter(i=>i.groupObj.totalViewClassrooms>0).forEach(i=>{n.push({type:"group",groupObj:i.groupObj,classroomObj:void 0}),i.classroomObjs.filter(m=>m.isShowClassroom).forEach(m=>{n.push({type:"classroom",groupObj:i.groupObj,classroomObj:m})})}),this.mapClassroomGroupDataToVirtualScroll=n}initClassroomData(){this.classroomGroupData=this.classroomGroupData.map(n=>({groupObj:n.groupObj,isOwned:n.isOwned,classroomObjs:n.classroomObjs.filter(i=>null!=i.permissionObj&&this.permissionService.hasCreatePermission(this.listPermissionTypes[this.permissionName],i))})),this.mapClassroomGroupDataToForm.groupObjs=this.classroomGroupData.map(n=>({groupObj:{...n.groupObj,isShowGroup:!0,totalAllClassrooms:0,totalViewClassrooms:0},isOwned:n.isOwned,classroomObjs:n.classroomObjs.map(i=>{let m=this.studentsSelected.find(v=>v.classroomId==i.id)?.studentIdsSelected??[];return{...i,studentIdsSelected:m,isShowClassroom:!0}})})),this.calculateClassroomInfo()}ngOnChanges(){this.initClassroomData()}ngOnInit(){super.ngOnInit(),this.classroomGroupData.forEach(n=>n.classroomObjs.map(i=>i.name=this.commonService.myTranslateInstant(i.name)??"")),this.initClassroomData()}constructor(n,i,m,v){super(),this.sAztMatDrawerService=n,this.permissionService=i,this.sAztClassroomCheckboxService=m,this.sAztDialogService=v,this.permissionName=l.y.exam,this.defaultCssClass="classroom-box-in-single-page",this.chooseStudentsEvent=new t.vpe,this.studentsSelected=[],this.mapClassroomGroupDataToForm={groupObjs:[],groupIdSelected:0,totalAllClassrooms:0,totalViewClassrooms:0},this.mapClassroomGroupDataToVirtualScroll=[],this.listPermissionTypes=l.y,this.searchByClassroomContentObj=new h.h,this.searchByGroupContentObj=new h.h,this.filterObj={isShowChecked:!1,isShowNotChecked:!1}}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(_.T),t.Y36(Z.j),t.Y36(p.f),t.Y36(S.C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["azt-list-classroom-view-tree"]],viewQuery:function(n,i){if(1&n&&t.Gf(o.KC,7),2&n){let m;t.iGM(m=t.CRH())&&(i.scrollable=m.first)}},inputs:{classroomGroupData:"classroomGroupData",permissionName:"permissionName",defaultCssClass:"defaultCssClass",studentsSelected:"studentsSelected"},outputs:{chooseStudentsEvent:"chooseStudentsEvent"},features:[t._Bn([_.T]),t.qOj,t.TTD],decls:66,vars:55,consts:[["maximize","",1,"azt-list-classroom-by-group"],["maximize","maximize"],[1,"azt-drawer-container",3,"ngClass","hasBackdrop"],[3,"ngClass","mode","opened","openedChange"],["drawer",""],[1,"box","h-full","border","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","rounded-md","border-b","border-slate-200","dark:border-darkmode-400","p-2","text-slate-500",2,"border-bottom-right-radius","0","border-bottom-left-radius","0"],[1,"search-box"],[3,"isServerSearch","placeholder","searchContentObj","styleInput","onSearch"],[2,"height","calc(100% - 50px)"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility"],[1,"p-2"],["azt-track-service","azt-list-classroom-checkbox-TUrZzBy9T","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],[4,"ngIf"],[1,"azt-drawer-content","h-full",3,"ngClass"],[1,"box","border","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","items-center","rounded-md","border-b","border-slate-200","dark:border-darkmode-400","p-2","text-slate-500",2,"border-bottom-right-radius","0","border-bottom-left-radius","0"],["azt-track-service","azt-list-classroom-checkbox-WB1u8XZHUS","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","azt-list-classroom-checkbox-q2BPTM5lPo","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"flex","ml-auto"],[1,"mr-2"],[1,"filter","mr-2"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],[1,"w-4","h-4","inline-block"],["name","filter"],[1,"azt-hidden","md:block","ml-2"],["class","p-1 ml-1 items-center justify-center rounded-full text-xs bg-primary text-white cursor-pointer font-medium","style","display: inline-flex; width: 15px; height: 15px; font-size: 10px",4,"ngIf"],[1,"flex","items-center"],[3,"maximize"],["menuFilter","matMenu"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","azt-list-classroom-checkbox-mJWF3uWTQJ","for","isShowChecked",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","isShowChecked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","azt-list-classroom-checkbox-pFWk_nWN9o","for","isShowNotChecked",1,"dropdown-item","cursor-pointer",3,"click"],["id","isShowNotChecked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","azt-list-classroom-checkbox-3OFGLRY5fa",3,"click"],["azt-track-service","azt-list-classroom-checkbox-iJlkvwO36n",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"w-full",2,"height","calc(100% - 50px)"],[4,"ngIf","ngIfElse"],["emptyClassroom",""],["azt-track-service","azt-list-classroom-checkbox-TUrZzBy9T",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],[4,"ngFor","ngForOf"],["azt-track-service","azt-list-classroom-checkbox-hUXQqnl7px","class","flex items-center px-3 py-2 rounded-md w-full text-left",3,"ngClass","click",4,"ngIf"],["azt-track-service","azt-list-classroom-checkbox-hUXQqnl7px",1,"flex","items-center","px-3","py-2","rounded-md","w-full","text-left",3,"ngClass","click"],["azt-track-service","azt-list-classroom-checkbox-WB1u8XZHUS",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","azt-list-classroom-checkbox-q2BPTM5lPo",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[1,"p-1","ml-1","items-center","justify-center","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium",2,"display","inline-flex","width","15px","height","15px","font-size","10px"],["track","vertical",1,"h-full",3,"visibility"],["scrollViewport","","itemSize","10"],[1,"grid","grid-cols-12","gap-3","p-3","pt-2"],["class","col-span-12 md:col-span-6",3,"ngStyle",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"col-span-12","md:col-span-6",3,"ngStyle"],[1,"font-bold"],["azt-track-service","azt-list-classroom-view-tree-o6QRGuakJ",1,"flex","items-center","clickable","hover:text-primary",3,"ngClass","click"],[1,"w-4","h-4","inline-block","mr-2"],["name","align-justify"],[3,"matTooltip",4,"ngIf"],["class","ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[3,"matTooltip"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"flex","items-center","justify-center",2,"height","200px"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0,1)(2,"mat-drawer-container",2)(3,"mat-drawer",3,4),t.NdJ("openedChange",function(v){return i.sAztMatDrawerService.openedChange(v)}),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"azt-search-box",8),t.NdJ("onSearch",function(v){return i.searchByGroupName(v.searchObj)}),t.ALo(9,"mytranslate"),t.qZA()()(),t.TgZ(10,"div",9)(11,"ng-scrollbar",10)(12,"div",11),t.YNc(13,c,3,8,"button",12),t.YNc(14,U,2,1,"ng-container",13),t.qZA()()()()(),t.TgZ(15,"mat-drawer-content")(16,"div",14)(17,"div",15)(18,"div",16),t.YNc(19,q,6,3,"button",17),t.YNc(20,nt,6,3,"button",18),t.TgZ(21,"div",19)(22,"div",20)(23,"azt-search-box",8),t.NdJ("onSearch",function(v){return i.searchByClassroomName(v.searchObj)}),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"div",21)(26,"button",22)(27,"span",23),t._UZ(28,"lucide-icon",24),t.qZA(),t.TgZ(29,"span",25),t._uU(30),t.ALo(31,"mytranslate"),t.YNc(32,st,2,1,"span",26),t.qZA()()(),t.TgZ(33,"div",27),t._UZ(34,"azt-maximize-box",28),t.qZA(),t.TgZ(35,"mat-menu",null,29)(37,"div",30)(38,"ul",31)(39,"li")(40,"label",32),t.NdJ("click",function(v){return v.stopPropagation()}),t._uU(41),t.ALo(42,"mytranslate"),t.TgZ(43,"div",33)(44,"input",34),t.NdJ("change",function(){return i.filterObj.isShowChecked=!i.filterObj.isShowChecked,i.changeFilter()}),t.qZA()()()(),t.TgZ(45,"li")(46,"label",35),t.NdJ("click",function(v){return v.stopPropagation()}),t._uU(47),t.ALo(48,"mytranslate"),t.TgZ(49,"div",33)(50,"input",36),t.NdJ("change",function(){return i.filterObj.isShowNotChecked=!i.filterObj.isShowNotChecked,i.changeFilter()}),t.qZA()()()(),t.TgZ(51,"li"),t._UZ(52,"hr",37),t.qZA(),t.TgZ(53,"li")(54,"div",38)(55,"button",39),t._uU(56),t.ALo(57,"mytranslate"),t.qZA(),t.TgZ(58,"div",40),t.NdJ("click",function(v){return v.stopPropagation()}),t.TgZ(59,"button",41),t.NdJ("click",function(){return i.clearFilter()}),t._uU(60),t.ALo(61,"mytranslate"),t.qZA()()()()()()()()(),t.TgZ(62,"div",42),t.YNc(63,ut,5,2,"ng-container",43),t.YNc(64,dt,3,3,"ng-template",null,44,t.W1O),t.qZA()()()()()()),2&n){const m=t.MAs(1),v=t.MAs(36),R=t.MAs(65);t.xp6(2),t.Tol(i.defaultCssClass),t.Q6J("ngClass",t.WLB(47,pt,i.isMobileDevice,!i.isMobileDevice))("hasBackdrop",i.sAztMatDrawerService.hasBackdrop),t.xp6(1),t.s9C("opened",i.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Q6J("ngClass",t.WLB(50,ht,i.isMobileDevice,!i.isMobileDevice))("mode",i.sAztMatDrawerService.mode),t.xp6(5),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(9,33,"lang_azt_search_class_group"))("searchContentObj",i.searchByGroupContentObj)("styleInput","pr-10 py-1"),t.xp6(3),t.Q6J("visibility","hover"),t.xp6(2),t.Q6J("ngIf",!i.searchByGroupContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",i.mapClassroomGroupDataToForm.groupObjs.length>1),t.xp6(2),t.Q6J("ngClass",t.VKq(53,gt,!i.isMobileDevice&&i.sAztMatDrawerService.isOpenSideNav)),t.xp6(3),t.Q6J("ngIf",!i.sAztMatDrawerService.isOpenSideNav||i.isMobileDevice),t.xp6(1),t.Q6J("ngIf",i.sAztMatDrawerService.isOpenSideNav&&!i.isMobileDevice),t.xp6(3),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(24,35,"lang_azt_search_class"))("searchContentObj",i.searchByClassroomContentObj)("styleInput","py-1"),t.xp6(3),t.Q6J("matMenuTriggerFor",v),t.xp6(4),t.hij(" ",t.lcZ(31,37,"lang_testbank_tested_list_sort")," "),t.xp6(2),t.Q6J("ngIf",i.filterObj.isShowChecked||i.filterObj.isShowNotChecked),t.xp6(2),t.Q6J("maximize",m),t.xp6(7),t.hij(" ",t.lcZ(42,39,"lang_azt_selected_classes")," "),t.xp6(3),t.Q6J("checked",i.filterObj.isShowChecked),t.xp6(3),t.hij(" ",t.lcZ(48,41,"lang_azt_unselected_classes")," "),t.xp6(3),t.Q6J("checked",i.filterObj.isShowNotChecked),t.xp6(6),t.Oqu(t.lcZ(57,43,"lang_button_close")),t.xp6(4),t.Oqu(t.lcZ(61,45,"lang_button_delete")),t.xp6(3),t.Q6J("ngIf",i.mapClassroomGroupDataToForm.totalViewClassrooms>0)("ngIfElse",R)}},dependencies:[x.mk,x.sg,x.O5,x.PC,T.VK,T.p6,N.jA,N.kh,N.LW,s.gM,W.xd,W.x0,W.N7,o.KC,o.fK,X.Nh5,$.K,k.W,b.S,x.OU,g.JV,g.NK],encapsulation:2}),r})();function Ct(r,f){1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_testbank_test_config_you_not_yet_student")))}function xt(r,f){if(1&r){const n=t.EpF();t.TgZ(0,"div")(1,"azt-list-classroom-view-tree",1),t.NdJ("chooseStudentsEvent",function(m){t.CHM(n);const v=t.oxw();return t.KtG(v.chooseStudentsEvent(m))}),t.qZA(),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,Ct,3,3,"span",0),t.qZA()()()}if(2&r){const n=t.oxw();t.xp6(1),t.Q6J("classroomGroupData",n.classroomGroupData)("studentsSelected",n.studentsSelected)("permissionName",n.permissionName),t.xp6(3),t.Q6J("ngIf",n.form.controls.studentIds.errors)}}let Ot=(()=>{class r extends P.Q{chooseStudentsEvent(n){let i=this.form.controls.studentIds.controls.filter(m=>m.controls.classroomId.value!=n.classroomId);this.form.controls.studentIds.clear(),i.forEach(m=>{this.form.controls.studentIds.push(m)}),n.studentIdsSelected.forEach(m=>{this.form.controls.studentIds.push(new e.cw({classroomId:new e.NI(n.classroomId,{nonNullable:!0}),studentId:new e.NI(m,{nonNullable:!0})}))}),this.calculateStudentsSelected()}initStudentsControl(){this.form.controls.studentIds.clear(),this.examStudentObjs.forEach(n=>{this.form.controls.studentIds.push(new e.cw({classroomId:new e.NI(n.classroomId,{nonNullable:!0}),studentId:new e.NI(n.studentId,{nonNullable:!0})}))}),this.calculateStudentsSelected()}calculateStudentsSelected(){let n=[],i=this.commonService.arrayToDictionary(this.form.controls.studentIds.getRawValue(),m=>m.classroomId.toString());Object.entries(i).forEach(([m,v],R)=>{let ot=this.commonService.getFirstOfArray(v)?.classroomId;ot&&n.push({classroomId:ot,classroomName:"",studentIdsSelected:v.map(at=>at.studentId)})}),this.studentsSelected=n}ngOnInit(){super.ngOnInit(),this.initStudentsControl()}constructor(){super(),this.examStudentObjs=[],this.permissionName=l.y.exam,this.studentsSelected=[]}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["list-student-checkbox"]],inputs:{form:"form",classroomGroupData:"classroomGroupData",examStudentObjs:"examStudentObjs",permissionName:"permissionName"},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[3,"classroomGroupData","studentsSelected","permissionName","chooseStudentsEvent"],[1,"mt-2"],[1,"text-xs","font-medium","text-danger"]],template:function(n,i){1&n&&t.YNc(0,xt,5,4,"div",0),2&n&&t.Q6J("ngIf",i.form)},dependencies:[x.O5,ft,g.JV],encapsulation:2}),r})()},20254:(F,j,a)=>{a.d(j,{Q:()=>d});var e=a(65592),l=a(36435),P=a(62836),t=a(88135),x=a(20760),o=a(65879),_=a(46558),h=a(2783);let d=(()=>{class E{doExamAction(I,s){switch(s){case x.F.CONFIG_EXAM_CLASSROOM:return this.showConfigExamClassroomDialog(I);case x.F.SHOW_EXAM_DETAIL:this.showExamDetailDialog(I);break;case x.F.SHARE_OFFLINE_RESULT:this.showOfflineShareDialog(I);break;case x.F.COPY_EXAM_LINK:this.copyExamLink()}return this.returnUndefinedOutput()}copyExamLink(){this.commonService.snackSuccess("lang_auto_sao_chep_thanh_cong")}showConfigExamClassroomDialog(I){return new e.y(s=>{this.sAztDialogService.open(t.Y,{width:"900px",data:{hashId:I.examObj.hashId,examStudents:I.examObj?.examStudents??[]},restoreFocus:!1}).afterClosed().subscribe(Q=>{Q?(s.next({reloadData:!0}),s.complete()):(s.next(void 0),s.complete())})})}showExamDetailDialog(I){let s={obj:{...I.examObj,countQuestion:0,showFrontend:1,editable:!0,allowStudentView:!0},globalLadingPage:I.globalLadingPage,curCateId:I.categoryId,isOnLib:0,isShow:!0,showDelete:!0};this.sAztDialogService.open(P.H,{width:"800px",maxWidth:"90vw",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:s,restoreFocus:!1}).afterClosed().subscribe(Q=>{})}showOfflineShareDialog(I){this.sAztDialogService.open(l.h,{width:"1000px",data:{examHashId:I.examObj.hashId,useDialog:!0},restoreFocus:!1})}returnUndefinedOutput(){return new e.y(I=>{I.next(void 0),I.complete()})}constructor(I,s){this.commonService=I,this.sAztDialogService=s}}return E.\u0275fac=function(I){return new(I||E)(o.LFG(_.z),o.LFG(h.C))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},27722:(F,j,a)=>{a.d(j,{d:()=>t});var e=a(25690),l=a(65879),P=a(46558);let t=(()=>{class x{sortExamByColumn(_,h,d){return h==e.H.BY_NAME?this.sortExamByName(_,d):h==e.H.BY_PUBLISH_STATUS?this.sortExamByPublishStatus(_,d):h==e.H.BY_UPDATED_DATE?this.sortExamByDateUpdated(_,d):h==e.H.BY_ATTENDED?this.sortExamByAttended(_,d):this.sortExamByName(_,d)}sortExamByName(_,h){var d=[..._.rootCategoryObjs??[]],E=[..._.rootDocumentObjs??[]];return 1==h?{categoryObjs:this._sortCateByName(d),documentObjs:this._sortDocumentByName(E)}:{categoryObjs:this._sortCateByName(d).reverse(),documentObjs:this._sortDocumentByName(E).reverse()}}sortExamByPublishStatus(_,h){var d=[..._.rootDocumentObjs??[]];return 1==h?{categoryObjs:_.currentCategoryObjs,documentObjs:this._sortDocumentByPublish(d,d?.length)}:{categoryObjs:_.currentCategoryObjs,documentObjs:this._sortDocumentByPublish(d,d?.length).reverse()}}sortExamByDateUpdated(_,h){var d=this.commonService.castObj(_.rootCategoryObjs),E=this.commonService.castObj(_.rootDocumentObjs);return 1==h?{categoryObjs:this._sortCateByDateUpdateExam(d??[]),documentObjs:this._sortDocumentByUpdateTime(E??[])}:{categoryObjs:this._sortCateByDateUpdateExam(d??[]).reverse(),documentObjs:this._sortDocumentByUpdateTime(E??[]).reverse()}}sortExamByAttended(_,h){var d=this.commonService.castObj(_.rootDocumentObjs);return 1==h?{categoryObjs:_.currentCategoryObjs,documentObjs:this._sortDocumentByAttended(d??[])}:{categoryObjs:_.currentCategoryObjs,documentObjs:this._sortDocumentByAttended(d??[]).reverse()}}_sortCateByName(_){return _?.sort((h,d)=>(h.name?.trim()??"").localeCompare(d.name?.trim()??""))??[]}_sortDocumentByName(_){return _?.sort((h,d)=>(h.name?.trim()??"").localeCompare(d.name?.trim()??""))??[]}_sortDocumentByPublish(_,h){let d=[],E=[];for(let z=0;z<(h??0);z++)0==_?.[z].isPublished&&d.push(_[z]),1==_?.[z].isPublished&&E.push(_[z]);return d.concat(E)}_sortCateByDateUpdateExam(_){return _.sort((h,d)=>Number(new Date(h.updatedAt??""))-Number(new Date(d.updatedAt??""))),_}_sortDocumentByUpdateTime(_){return _?.sort((h,d)=>Number(new Date(h.updatedAt??""))-Number(new Date(d.updatedAt??"")))}_sortDocumentByAttended(_){return _?.sort((h,d)=>Number(h.attended)-Number(d.attended))}constructor(_){this.commonService=_}}return x.\u0275fac=function(_){return new(_||x)(l.LFG(P.z))},x.\u0275prov=l.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},20760:(F,j,a)=>{a.d(j,{F:()=>e});var e=function(l){return l[l.CONFIG_EXAM_CLASSROOM=0]="CONFIG_EXAM_CLASSROOM",l[l.SHOW_EXAM_DETAIL=1]="SHOW_EXAM_DETAIL",l[l.SHARE_OFFLINE_RESULT=2]="SHARE_OFFLINE_RESULT",l[l.COPY_EXAM_LINK=3]="COPY_EXAM_LINK",l}(e||{})},31810:(F,j,a)=>{a.d(j,{T:()=>e});var e=function(l){return l[l.OFFLINE_CONFIG=0]="OFFLINE_CONFIG",l[l.CONFIG_EXAM=1]="CONFIG_EXAM",l[l.EDIT_EXAM=2]="EDIT_EXAM",l[l.POWER_POINT=3]="POWER_POINT",l[l.STATISTIC=4]="STATISTIC",l[l.TESTED_LIST=5]="TESTED_LIST",l}(e||{})},25690:(F,j,a)=>{a.d(j,{H:()=>e});var e=function(l){return l[l.BY_NAME=0]="BY_NAME",l[l.BY_PUBLISH_STATUS=1]="BY_PUBLISH_STATUS",l[l.BY_UPDATED_DATE=2]="BY_UPDATED_DATE",l[l.BY_ATTENDED=3]="BY_ATTENDED",l}(e||{})},1028:(F,j,a)=>{a.d(j,{X:()=>e});var e=function(l){return l[l.multipleChoice=1]="multipleChoice",l[l.essay=3]="essay",l[l.trueFalse=5]="trueFalse",l[l.fill=4]="fill",l}(e||{})},31225:(F,j,a)=>{a.d(j,{h:()=>e});var e=function(l){return l.COPY="copy",l.CUT="cut",l.DELETE="delete",l}(e||{})},94145:(F,j,a)=>{a.d(j,{Y:()=>e});var e=function(l){return l[l.EXAM_CATEGORY=0]="EXAM_CATEGORY",l[l.EXAM=1]="EXAM",l}(e||{})},55948:(F,j,a)=>{a.d(j,{e:()=>t});var e=a(31225),l=a(94145),P=a(65879);let t=(()=>{class x{constructor(){this.clipboardObjs=[]}setActionToClipboard(_,h,d,E){var z={id:_,name:E,type:h,action:d};this.clipboardObjs.filter(s=>s.id==z.id&&s.type==z.type).length>0?this.clipboardObjs.forEach(s=>{s.id==z.id&&s.type==z.type&&(s.action=z.action)}):this.clipboardObjs.push(z)}hasInClipboard(_,h){return this.clipboardObjs.filter(E=>E.id==_&&E.type==h).length>0}hasCopyFolderActionInClipboard(){var _=!1;return this.clipboardObjs.forEach(h=>{h.type==l.Y.EXAM_CATEGORY&&h.action==e.h.COPY&&(_=!0)}),_}getActionOfDocumentObj(_,h){var d=this.clipboardObjs.filter(E=>E.id==_&&E.type==h);if(d&&d.length>0)return d[0].action}removeDocumentInClipboard(_,h){for(var d=0;d<this.clipboardObjs.length;d++)this.clipboardObjs[d].id==_&&this.clipboardObjs[d].type==h&&this.clipboardObjs.splice(d,1)}isPasteToSelfFolder(_){var h=!1;return this.clipboardObjs.forEach(d=>{d.id==_&&d.type==l.Y.EXAM_CATEGORY&&d.action==e.h.COPY&&(h=!0)}),h}getCurrentClipBoard(){return this.clipboardObjs}resetClipBoardAfterPasteOrCancelAllActions(){this.clipboardObjs=[]}}return x.\u0275fac=function(_){return new(_||x)},x.\u0275prov=P.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},19743:(F,j,a)=>{a.d(j,{M:()=>e});class e{static studentCheckBoxValidator(P){const x=P.controls.whoAllow,o=P.controls.studentIds;return x&&o?3!=x.value||e.countCheckBox(o)>=1?(o.setErrors(null),null):(o.setErrors({studentCheckBoxValidator:!0}),{identityRevealed:!0}):null}static countCheckBox(P){return P.getRawValue().length}}},52467:(F,j,a)=>{a.d(j,{S:()=>Q});var e=a(65879),l=a(1028),P=a(37734),t=a(38228),x=a(96814),o=a(36727);const _=["table"];function h(y,k){if(1&y&&(e.TgZ(0,"td",6),e._uU(1),e.ALo(2,"formatOfflineExamHashIdToNumber"),e.qZA()),2&y){const g=k.$implicit,O=k.index;e.uIk("excelRow",1)("excelColumn",O+1),e.xp6(1),e.hij(" ",e.lcZ(2,3,null==g?null:g.offlineMixQuestionHashId)," ")}}function d(y,k){if(1&y&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&y){const g=e.oxw(2).$implicit,O=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,g.offlineQuestionObjs[O].answer)," ")}}function E(y,k){1&y&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&y&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_core_essay_question")," "))}function z(y,k){if(1&y&&(e.TgZ(0,"span"),e.YNc(1,d,3,3,"span",7),e.YNc(2,E,3,3,"span",7),e.qZA()),2&y){const g=e.oxw().$implicit,O=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!(null!=g.offlineQuestionObjs&&null!=g.offlineQuestionObjs[O]&&g.offlineQuestionObjs[O].isEssay)),e.xp6(1),e.Q6J("ngIf",null==g.offlineQuestionObjs||null==g.offlineQuestionObjs[O]?null:g.offlineQuestionObjs[O].isEssay)}}function I(y,k){if(1&y&&(e.TgZ(0,"td",6),e.YNc(1,z,3,2,"span",7),e.qZA()),2&y){const g=k.$implicit,O=k.index,M=e.oxw().$implicit;let J;e.uIk("excelRow",M+2)("excelColumn",O+1),e.xp6(1),e.Q6J("ngIf",(null!==(J=null==g.offlineQuestionObjs?null:g.offlineQuestionObjs.length)&&void 0!==J?J:0)>M)}}const s=function(){return[]};function G(y,k){if(1&y&&(e.TgZ(0,"tr")(1,"td",3),e._uU(2),e.qZA(),e.YNc(3,I,2,3,"td",4),e.qZA()),2&y){const g=k.$implicit,O=e.oxw();let M;e.xp6(1),e.uIk("excelRow",g+2)("excelColumn",0),e.xp6(1),e.hij(" ",g+O.startQuestionIndex," "),e.xp6(1),e.Q6J("ngForOf",null!==(M=null==O.obj?null:O.obj.offlineMixQuestionObjs)&&void 0!==M?M:e.DdM(4,s))}}let Q=(()=>{class y extends P.Q{calculateMaxQuestion(){let g=0;return this.obj.offlineMixQuestionObjs&&this.obj.offlineMixQuestionObjs.forEach(O=>{g<(O.offlineQuestionObjs?.length??0)&&(g=O.offlineQuestionObjs?.length??0)}),g}processData(){for(let g=0;g<this.obj.offlineMixQuestionObjs.length;g++)for(let O=0;O<this.obj.offlineMixQuestionObjs[g].offlineQuestionObjs.length;O++)this.obj.offlineMixQuestionObjs[g].offlineQuestionObjs[O].answerType===this.offlineAnswerType.trueFalse&&(this.obj.offlineMixQuestionObjs[g].offlineQuestionObjs[O].answer=this.convertAnswerTrueFalse(this.obj.offlineMixQuestionObjs[g].offlineQuestionObjs[O].answer))}convertAnswerTrueFalse(g){const O=g.split(","),M=this.commonService.myClone(this.answerChoiceMap),J=this.commonService.myTranslateInstant("lang_testbank_correct_answer_to_offline_exam"),K=this.commonService.myTranslateInstant("lang_testbank_wrong_answer_to_offline_exam");return M.map(Y=>O.includes(Y)?J:K).join("")}ngOnChanges(){this.processData(),this.isExported=!1,this.maxQuestionIndex=this.calculateMaxQuestion(),this.totalExamCode=this.obj.offlineMixQuestionObjs?.length??0}ngAfterViewChecked(){0==this.isExported&&(this.isExported=!0,setTimeout(()=>{this.exportDataDone.emit(this.exportExcelService.exportHtmlTableToExcelBlob(this.table,!0))},0))}constructor(g){super(),this.exportExcelService=g,this.startQuestionIndex=1,this.exportDataDone=new e.vpe,this.maxQuestionIndex=0,this.totalExamCode=0,this.isExported=!1,this.offlineAnswerType=l.X,this.answerChoiceMap=["A","B","C","D"]}}return y.\u0275fac=function(g){return new(g||y)(e.Y36(t.L))},y.\u0275cmp=e.Xpm({type:y,selectors:[["azt-export-excel-for-answersheet"]],viewQuery:function(g,O){if(1&g&&e.Gf(_,5),2&g){let M;e.iGM(M=e.CRH())&&(O.table=M.first)}},inputs:{obj:"obj",startQuestionIndex:"startQuestionIndex"},outputs:{exportDataDone:"exportDataDone"},features:[e.qOj,e.TTD],decls:14,vars:16,consts:[[1,"table","table-bordered",2,"display","none"],["table",""],["rowspan","2","excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true}}',1,"text-center","azt-excel-cell"],["excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true}}',1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell","excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true}}',4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true}}',1,"text-center","azt-excel-cell"],[4,"ngIf"]],template:function(g,O){if(1&g&&(e.TgZ(0,"table",0,1)(2,"tbody")(3,"tr")(4,"td",2),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"td",3),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()(),e.TgZ(10,"tr"),e.YNc(11,h,3,5,"td",4),e.qZA(),e.YNc(12,G,4,5,"tr",5),e.ALo(13,"createEmptyArray"),e.qZA()()),2&g){let M;e.xp6(4),e.uIk("excelRow",0)("excelColumn",0),e.xp6(1),e.hij(" ",e.lcZ(6,9,"lang_testbank_answersheet_question_title")," "),e.xp6(2),e.uIk("colspan",O.totalExamCode)("excelRow",0)("excelColumn",1),e.xp6(1),e.hij(" ",e.lcZ(9,11,"lang_auto_ma_de_thi")," "),e.xp6(3),e.Q6J("ngForOf",null!==(M=null==O.obj?null:O.obj.offlineMixQuestionObjs)&&void 0!==M?M:e.DdM(15,s)),e.xp6(1),e.Q6J("ngForOf",e.lcZ(13,13,O.maxQuestionIndex))}},dependencies:[x.sg,x.O5,o.JV,o.Aw,o.ib],encapsulation:2}),y})()},36435:(F,j,a)=>{a.d(j,{h:()=>H});var e=a(56223),l=a(19347),P=a(72164),t=a(76359),x=a(47180),o=a(65879),_=a(49870),h=a(13978),d=a(96814),E=a(70342),z=a(37722),I=a(67679),s=a(68547),G=a(71646),Q=a(36727);function y(A,L){1&A&&(o.TgZ(0,"div",8)(1,"span",9),o._UZ(2,"azt-loading-ui"),o.qZA(),o.TgZ(3,"span",10),o._uU(4,"Loading..."),o.qZA()())}function k(A,L){if(1&A){const u=o.EpF();o.TgZ(0,"div",26)(1,"azt-list-classroom-checkbox",27),o.NdJ("changeCheckboxEvent",function(p){o.CHM(u);const S=o.oxw(3);return o.KtG(S.changeStatusOfflineShare(p))}),o.qZA()()}if(2&A){const u=o.oxw(3);o.xp6(1),o.Q6J("form",u.form)("classroomGroupData",u.classroomWithGroup)("shareClassroomIds",u.shareClassroomIds)("permissionName",u.permissionTypes.exam)("defaultCssClass","classroom-box-in-dialog")}}function g(A,L){if(1&A){const u=o.EpF();o.TgZ(0,"div",28),o._UZ(1,"input",29),o.TgZ(2,"button",30),o.NdJ("click",function(){o.CHM(u);const p=o.oxw(3);return o.KtG(p.showCopySuccess())}),o.TgZ(3,"span",31),o._UZ(4,"lucide-icon",32),o.qZA(),o._uU(5),o.ALo(6,"mytranslate"),o.qZA()()}if(2&A){const u=o.oxw(3);o.xp6(1),o.Q6J("value",u.linkCopy),o.xp6(1),o.Q6J("cdkCopyToClipboard",u.copyLinkToClipboard()),o.xp6(3),o.hij(" ",o.lcZ(6,3,"lang_auto_sao_chep")," ")}}function O(A,L){1&A&&(o.TgZ(0,"div",33)(1,"p",34),o._uU(2),o.ALo(3,"mytranslate"),o.qZA()()),2&A&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"lang_auto_chua_duoc_cau_hinh_tra_de_thi")))}function M(A,L){if(1&A){const u=o.EpF();o.ynx(0),o.TgZ(1,"div",14)(2,"div",15)(3,"input",16),o.NdJ("change",function(){o.CHM(u);const p=o.oxw(2);return o.KtG(p.changeStatusOfflineShare(void 0))}),o.qZA(),o.TgZ(4,"label",17),o._uU(5),o.ALo(6,"mytranslate"),o.qZA()(),o.TgZ(7,"div",18)(8,"input",19),o.NdJ("change",function(){o.CHM(u);const p=o.oxw(2);return o.KtG(p.changeStatusOfflineShare(void 0))}),o.qZA(),o.TgZ(9,"label",20),o._uU(10),o.ALo(11,"mytranslate"),o.qZA()(),o.TgZ(12,"div",18)(13,"input",21),o.NdJ("change",function(){o.CHM(u);const p=o.oxw(2);return o.KtG(p.changeStatusOfflineShare(void 0))}),o.qZA(),o.TgZ(14,"label",22),o._uU(15),o.ALo(16,"mytranslate"),o.qZA()()(),o.YNc(17,k,2,5,"div",23),o.YNc(18,g,7,5,"div",24),o.YNc(19,O,4,3,"div",25),o.ALo(20,"fullPermission"),o.BQk()}if(2&A){const u=o.oxw(2);o.xp6(3),o.Q6J("value",0),o.xp6(2),o.Oqu(o.lcZ(6,9,"lang_auto_khong")),o.xp6(3),o.Q6J("value",1),o.xp6(2),o.Oqu(o.lcZ(11,11,"lang_auto_tat_ca_cac_lop")),o.xp6(3),o.Q6J("value",2),o.xp6(2),o.Oqu(o.lcZ(16,13,"lang_auto_tuy_chon_theo_lop")),o.xp6(2),o.Q6J("ngIf",2===u.form.controls.chooseOption.value),o.xp6(1),o.Q6J("ngIf",1===u.form.controls.chooseOption.value||2===u.form.controls.chooseOption.value&&!u.form.controls.classroomFormArray.errors),o.xp6(1),o.Q6J("ngIf",!o.xi3(20,15,u.examWithPermissionObj,"exam"))}}function J(A,L){1&A&&(o.TgZ(0,"div",36)(1,"p",34),o._uU(2),o.ALo(3,"mytranslate"),o.qZA()()),2&A&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"lang_auto_chua_duoc_cau_hinh_tra_de_thi")))}function K(A,L){if(1&A&&(o.YNc(0,J,4,3,"div",35),o.ALo(1,"fullPermission")),2&A){const u=o.oxw(2);o.Q6J("ngIf",!o.xi3(1,1,u.examWithPermissionObj,"exam"))}}function V(A,L){if(1&A&&(o.TgZ(0,"form",11),o.YNc(1,M,21,18,"ng-container",12),o.ALo(2,"fullPermission"),o.YNc(3,K,2,4,"ng-template",null,13,o.W1O),o.qZA()),2&A){const u=o.MAs(4),Z=o.oxw();o.Q6J("formGroup",Z.form),o.xp6(1),o.Q6J("ngIf",o.xi3(2,3,Z.examWithPermissionObj,"exam"))("ngIfElse",u)}}function Y(A,L){if(1&A){const u=o.EpF();o.TgZ(0,"div",37)(1,"button",38),o.NdJ("click",function(){o.CHM(u);const p=o.oxw();return o.KtG(p.btnCloseDialog(!1))}),o._uU(2),o.ALo(3,"mytranslate"),o.qZA()()}2&A&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"lang_auto_dong")," "))}let H=(()=>{class A extends P.e{btnCloseDialog(u){this.dialogRef.close(u)}copyLinkToClipboard(){let u=this.commonService.getCurrentDomain();return this.linkCopy=`${u}/de-thi/${this.examWithPermissionObj?.hashId}?offline=${this.offlineCode}`,this.linkCopy}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getCodeOfflineShare(){this.initStatusObj(),this.waitDestroy(this.offlineShareService.apiOfflineShareGetObjGet(this.examHashId).subscribe(u=>{1==u.success?(this.offlineCode=u.data?.shareHashId??"",this.shareClassroomIds=u.data?.shareClassroomIds??[],this.examWithPermissionObj=u.data?.examObj,this.classroomWithGroup=[{groupObj:{id:-1,name:this.commonService.myTranslateInstant("lang_testbank_share_offline_default_group")},isOwned:!0,classroomObjs:u.data?.classroomObjs??[]}],this.form.controls.chooseOption.setValue(u.data?.showOfflineResult??0),this.successStatusObj()):this.errorStatusObj(u.message??"",!0)}))}changeStatusOfflineShare(u){if(2==this.form.getRawValue().chooseOption&&this.form.controls.classroomFormArray.errors?.classroomCheckBoxValidatorWithoutWhoAllow)return;let Z=this.form.getRawValue().chooseOption;const p=2!=Z?[]:this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray);this.waitDestroy(this.offlineShareService.apiOfflineShareChangeStatusPost({examHashId:this.examWithPermissionObj?.hashId??"",status:Z,classroomIds:p}).subscribe(T=>{1==T.success?this.offlineCode=T.data?.shareHashId??"":this.errorStatusObj(T.message??"",!0)}))}ngAfterContentChecked(){this.changeDetector.detectChanges()}ngOnInit(){super.ngOnInit(),this.getCodeOfflineShare()}constructor(u,Z,p,S,T){super(S,p),this.changeDetector=u,this.offlineShareService=Z,this.dialogRef=p,this.sAztClassroomCheckboxService=T,this.examHashId="",this.useDialog=!1,this.permissionTypes=t.y,this.offlineCode="",this.linkCopy="",this.examWithPermissionObj=void 0,this.classroomWithGroup=[],this.shareClassroomIds=[],this.examHashId=S.examHashId?S.examHashId:this.examHashId,this.useDialog=S?S.useDialog:this.useDialog,this.form=new e.cw({chooseOption:new e.NI(0,{nonNullable:!0}),whoAllow:new e.NI(0,{nonNullable:!0}),classroomFormArray:new e.Oe([])},{validators:[x.h.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return A.\u0275fac=function(u){return new(u||A)(o.Y36(o.sBO),o.Y36(_.kN),o.Y36(l.so,8),o.Y36(l.WI,8),o.Y36(h.f))},A.\u0275cmp=o.Xpm({type:A,selectors:[["azt-offline-share"]],inputs:{examHashId:"examHashId",useDialog:"useDialog"},features:[o.qOj],decls:11,vars:6,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium"],[1,"p-3","pt-0"],["class","flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],["class","text-right mt-3",4,"ngIf"],[1,"flex","justify-center","items-center"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["noFullPermission",""],[1,"flex","flex-col","sm:flex-row","mb-3"],[1,"form-check","mr-8"],["formControlName","chooseOption","id","notAllow","type","radio",1,"form-check-input",3,"value","change"],["for","notAllow",1,"form-check-label"],[1,"form-check","mr-8","mt-2","sm:mt-0"],["formControlName","chooseOption","id","allAllow","type","radio",1,"form-check-input",3,"value","change"],["for","allAllow",1,"form-check-label"],["formControlName","chooseOption","id","customAllow","type","radio",1,"form-check-input",3,"value","change"],["for","customAllow",1,"form-check-label"],["class","azt-list-classroom",4,"ngIf"],["class","azt-copy relative",4,"ngIf"],["class","mt-0",4,"ngIf"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","shareClassroomIds","permissionName","defaultCssClass","changeCheckboxEvent"],[1,"azt-copy","relative"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10","text-primary",2,"padding-right","120px","cursor","pointer",3,"value"],["azt-track-service","practice-detail-isTsISlyAY",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],[1,"w-4","h-4","inline-block","mr-2"],["name","copy"],[1,"mt-0"],[1,"note"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"text-right","mt-3"],["azt-track-service","azt-offline-share-hrBGx7oL2r",1,"btn","w-24","btn-secondary",3,"click"]],template:function(u,Z){if(1&u&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()(),o.TgZ(6,"div",4),o.YNc(7,y,5,0,"div",5),o.YNc(8,V,5,6,"ng-template",null,6,o.W1O),o.YNc(10,Y,4,3,"div",7),o.qZA()()()),2&u){const p=o.MAs(9);o.xp6(4),o.Oqu(o.lcZ(5,4,"lang_auto_tra_ket_qua_thi_offline")),o.xp6(3),o.Q6J("ngIf",Z.statusObj.loading)("ngIfElse",p),o.xp6(3),o.Q6J("ngIf",Z.useDialog)}},dependencies:[d.O5,E.i3,e._Y,e.Fj,e._,e.JJ,e.JL,e.sg,e.u,z.Nh5,I.M,s.B,G.n,Q.JV,Q.NK],encapsulation:2}),A})()},62836:(F,j,a)=>{a.d(j,{H:()=>$});var e=a(65879),l=a(19347),P=a(72164),t=a(89745),x=a(89156),o=a(10504),_=a(71518),h=a(97151),d=a(92296),E=a(94690),z=a(56260),I=a(3849),s=a(49870),G=a(17997),Q=a(96814),y=a(70342),k=a(77988),g=a(92596),O=a(37722),M=a(80034),J=a(34340),K=a(78497),V=a(52467),Y=a(71646),H=a(75138),A=a(36727);function L(b,B){if(1&b&&(e.TgZ(0,"a",38),e.ALo(1,"mytranslate"),e.TgZ(2,"span",28),e._UZ(3,"lucide-icon",39),e.qZA()()),2&b){e.oxw(2);const c=e.MAs(3);e.s9C("matTooltip",e.lcZ(1,2,"lang_auto_tai_ve")),e.Q6J("matMenuTriggerFor",c)}}function u(b,B){if(1&b){const c=e.EpF();e.TgZ(0,"a",40),e.NdJ("click",function(){e.CHM(c);const D=e.oxw(2);return e.KtG(D.showCopySuccess())}),e.ALo(1,"mytranslate"),e.TgZ(2,"span",5),e._UZ(3,"lucide-icon",41),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()}if(2&b){const c=e.oxw(2);e.s9C("matTooltip",e.lcZ(1,3,"lang_auto_copy_link_de_thi")),e.Q6J("cdkCopyToClipboard",c.copyLinkExam()),e.xp6(5),e.Oqu(e.lcZ(6,5,"lang_auto_copy_link"))}}function Z(b,B){1&b&&(e.TgZ(0,"div",42)(1,"span",43),e._UZ(2,"azt-loading-ui"),e.qZA(),e.TgZ(3,"span",44),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&b&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_chuan_bi_tai_lieu_doing")))}function p(b,B){if(1&b&&(e.TgZ(0,"div",45),e._UZ(1,"div",46),e.ALo(2,"safeNormalHtmlContent"),e.qZA()),2&b){const c=e.oxw(2);e.xp6(1),e.Q6J("innerHtml",e.lcZ(2,1,c.data.headerContent),e.oJD)}}function S(b,B){if(1&b&&e._UZ(0,"azt-loaded-img",47),2&b){const c=e.oxw(2);e.Q6J("imgSrc",c.data.obj.examHeader)}}function T(b,B){if(1&b&&e._UZ(0,"azt-question-standalone-for-preview",49),2&b){const c=e.oxw(),C=c.$implicit,D=c.index,w=e.oxw(2);e.Q6J("examObj",w.examObj)("questionObj",C)("follower",w.followerRenderQuest)("curQuestionIndex",D)("isShowExplain",w.showExplanation)}}function N(b,B){if(1&b&&(e.ynx(0),e.YNc(1,T,1,5,"azt-question-standalone-for-preview",48),e.BQk()),2&b){const c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",c.examObj)}}function W(b,B){if(1&b){const c=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22),e.YNc(6,L,4,4,"a",23),e.YNc(7,u,7,7,"a",24),e.TgZ(8,"button",25),e.NdJ("click",function(){e.CHM(c);const D=e.oxw();return e.KtG(D.showAllExplanation())}),e._uU(9),e.ALo(10,"mytranslate"),e.ALo(11,"mytranslate"),e.qZA()()(),e.TgZ(12,"div",26)(13,"a",27)(14,"span",28),e._UZ(15,"lucide-icon",29),e.qZA()()()(),e.TgZ(16,"azt-mat-dialog-content",30),e.YNc(17,Z,6,3,"div",31),e.TgZ(18,"div",32),e._UZ(19,"div",33),e.YNc(20,p,3,3,"div",34),e.YNc(21,S,1,1,"azt-loaded-img",35),e.YNc(22,N,2,1,"ng-container",36),e._UZ(23,"div",37),e.qZA()()()(),e.BQk()}if(2&b){const c=e.oxw();e.xp6(6),e.Q6J("ngIf",!(null!=c.data&&c.data.globalLadingPage||c.data.allowHeader)),e.xp6(1),e.Q6J("ngIf",0==(null==c.data?null:c.data.isOnLib)&&!(null!=c.data&&c.data.globalLadingPage)),e.xp6(2),e.hij(" ",c.showExplanation?e.lcZ(10,8,"lang_auto_an_giai_thich"):e.lcZ(11,10,"lang_auto_xem_giai_thich")," "),e.xp6(7),e.Q6J("defaultHeight",70),e.xp6(1),e.Q6J("ngIf",c.statusObj.loading),e.xp6(3),e.Q6J("ngIf",c.data.allowHeader&&!c.statusObj.loading),e.xp6(1),e.Q6J("ngIf",null==c.data||null==c.data.obj?null:c.data.obj.examHeader),e.xp6(1),e.Q6J("ngForOf",c.questionList)}}function X(b,B){if(1&b){const c=e.EpF();e.TgZ(0,"azt-export-excel-for-answersheet",50),e.NdJ("exportDataDone",function(D){e.CHM(c);const w=e.oxw();return e.KtG(w.exportDataDone(D))}),e.qZA()}if(2&b){const c=e.oxw();let C;e.Q6J("startQuestionIndex",null!==(C=null==c.examObj?null:c.examObj.startQuestionIndex)&&void 0!==C?C:1)("obj",c.exportExcelData)}}let $=(()=>{class b extends P.e{handlerCloseDialog(c){c&&this.dialogRef.close()}copyLinkExam(){return`${this.commonService.getCurrentDomain()}/de-thi/${this.data?.obj?.hashId}`}showCopySuccess(){this.commonService.snackSuccess("lang_auto_sao_chep_thanh_cong")}showAllExplanation(){this.showExplanation=!this.showExplanation}downloadExam(c,C){if(!c||!this.data.obj)return;const D=this.commonService.myTranslateInstant("lang_auto_dang_khoi_tao_du_lieu")??"",w=this.printAddInfo.templateType??0,U={nameSchool:this.printAddInfo.nameSchool??"",nameSubject:this.printAddInfo.nameSubject??""};x.G.openLoadingEffect(`${D}...`),this.data.obj.hideGroupQuestion=0,this.exportSAztDocxService.downloadExam(C,{...this.data.obj,editable:!1,allowStudentView:!0},void 0,void 0,this.cloneQuestionList,U,w,void 0,void 0,void 0,!0).then(()=>{}).catch(q=>{this.showErrorSnack(q.message)})}downloadExamAnswer(){this.waitDestroy(this.offlineExamExportService.apiOfflineExamExportExportResultOfRawExamGet(this.examObj?.hashId??"").subscribe(c=>{if(!c.success)return this.errorStatusObj(c.message??"");let C=c.data?.obj;C?.offlineMixQuestionObjs&&C.offlineMixQuestionObjs.length>0&&(this.exportExcelData=this.commonService.myClone(C))}))}exportDataDone(c){const C=this.createNameExam("answerexcel",!1);this.shareFileFlutterService.shareFileWithBlob(c,C)}redirectToDownloadExamPdf(c){window.open(this.commonService.getLocalRouter(`/admin/testbank/export-exam-to-pdf/${this.examObj?.id}?isShowExplain=${c}`),"_blank")}getConfigExam(){const c=this.data?.globalLadingPage?this.documentConfigService.apiDocumentConfigGetGlobalExamConfigDataGet(this.examObj?.hashId??""):this.documentConfigService.apiDocumentConfigGetExamConfigDataV2Get(this.examObj?.hashId??"");this.waitDestroy(c.subscribe(C=>{if(!C.success)return this.errorStatusObj(C.message,!1);let D=0,w=0;this.questionList.forEach((U,q)=>{U.labelIndex=q,C.data?.resetQuestionIndex&&U.groupInfo&&U.groupInfo.groupId&&(D!=U.groupInfo.groupId&&(D=U.groupInfo.groupId,w=0),U.labelIndex=w,w++)}),this.successStatusObj()}))}getData(c){this.initStatusObj();const C=this.data?.globalLadingPage?this.examService.apiExamGetGlobalQuestionsIdGet(c?.id??0):this.permissionService.hasViewPermission("exam",c)?this.examService.apiExamGetQuestionsIdGet(c?.id??0):void 0;if(!C)return this.showErrorSnack("lang_auto_ban_khong_co_quyen_thuc_thi_chuc_nang_nay");C.subscribe(D=>{const w=this.commonService.castJsonToClassObjs(t.v,JSON.stringify(D.data?.questionObjs||[]))??[];this.followerRenderQuest.setNumQuest(w.length),w.forEach(U=>{U.isRoleTeacher=!0}),this.cloneQuestionList=this.commonService.myClone(w),this.questionList=w,this.examObj=D.data?.examObj,this.getConfigExam()})}createNameExam(c,C){const D=this.examObj?.name??"";let w;switch(c){case"answersheet":w=this.printAnswersheetService.exportFileNameOfAnswerSheet(0,D,"");break;case"answerexcel":w=this.printAnswersheetService.exportFileNameOfAnswerExcelOffline(0,D,"");break;default:w=this.printAnswersheetService.exportFileNameOfExamOffline(0,D,"",void 0)}return C&&(w=this.commonService.replaceAll(w,"_","-")??""),w+("answersheet"===c?".pdf":"answerexcel"===c?".xlsx":".docx")}ngOnChanges(){this.data?.obj&&this.getData(this.data.obj)}ngOnInit(){super.ngOnInit(),this.data?.obj&&this.getData(this.data.obj)}constructor(c,C,D,w,U,q,nt,st,tt,et){super(et,tt),this.documentConfigService=c,this.shareFileFlutterService=C,this.baseApiService=D,this.permissionService=w,this.exportSAztDocxService=U,this.examService=q,this.offlineExamExportService=nt,this.printAnswersheetService=st,this.dialogRef=tt,this.data=et,this.closeDialog=new e.vpe,this.questionList=[],this.cloneQuestionList=[],this.followerRenderQuest=new o.p,this.printAddInfo={},this.showExplanation=!1}}return b.\u0275fac=function(c){return new(c||b)(e.Y36(_.Cq),e.Y36(h.g),e.Y36(d.V),e.Y36(E.j),e.Y36(z.F),e.Y36(I.O),e.Y36(s.qr),e.Y36(G.H),e.Y36(l.so,8),e.Y36(l.WI,8))},b.\u0275cmp=e.Xpm({type:b,selectors:[["azt-preview-exam"]],outputs:{closeDialog:"closeDialog"},features:[e.qOj,e.TTD],decls:36,vars:25,consts:[[4,"ngIf"],["menuDownload","matMenu"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","checkAction","closeDialog"],[1,"w-4","h-4","mr-2","flex-none"],["name","file-check"],[1,"mr-3"],["name","file-text"],["azt-track-service","azt-preview-exam-ef7yEq6a3",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","flex-none","lucide"],["d","M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"],["d","M14 2v4a2 2 0 0 0 2 2h4"],["d","M12 18v-6"],["d","m9 15 3 3 3-3"],["azt-track-service","azt-preview-exam--mJB2JKFgNu",1,"dropdown-item",3,"click"],["name","file-spreadsheet"],[3,"startQuestionIndex","obj","exportDataDone",4,"ngIf"],[1,"az-dialog-info"],[1,"box",2,"overflow-x","hidden"],[1,"flex","items-center","p-2","bg-slate-100","dark:bg-darkmode-400"],[1,"mr-auto"],[1,"flex","items-center","mr-2"],["class","btn btn-sm btn-outline-secondary btn-transparent mr-2",3,"matTooltip","matMenuTriggerFor",4,"ngIf"],["azt-track-service","azt-preview-exam-dgdyLZO48Hq","class","btn btn-sm btn-outline-secondary btn-transparent mr-2",3,"matTooltip","cdkCopyToClipboard","click",4,"ngIf"],["azt-track-service","azt-preview-exam-WEwBr57UW",1,"btn","btn-sm","btn-outline-secondary","btn-transparent","mr-2",3,"click"],[1,"ml-auto"],["azt-track-service","azt-preview-exam-y2xqBN7DlGX",1,"btn","btn-transparent","btn-outline-danger","btn-sm",3,"mat-dialog-close"],[1,"w-4","h-4","flex-none"],["name","x"],[1,"mt-3",3,"defaultHeight"],["class","flex justify-center items-center h-40",4,"ngIf"],["id","boxContentQuestion",1,"p-2"],[1,"pt-3"],["class","box p-3 mb-3",4,"ngIf"],["style","display: block","class","mt-5",3,"imgSrc",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"py-5"],[1,"btn","btn-sm","btn-outline-secondary","btn-transparent","mr-2",3,"matTooltip","matMenuTriggerFor"],["name","download"],["azt-track-service","azt-preview-exam-dgdyLZO48Hq",1,"btn","btn-sm","btn-outline-secondary","btn-transparent","mr-2",3,"matTooltip","cdkCopyToClipboard","click"],["name","copy"],[1,"flex","justify-center","items-center","h-40"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHtml"],[1,"mt-5",2,"display","block",3,"imgSrc"],[3,"examObj","questionObj","follower","curQuestionIndex","isShowExplain",4,"ngIf"],[3,"examObj","questionObj","follower","curQuestionIndex","isShowExplain"],[3,"startQuestionIndex","obj","exportDataDone"]],template:function(c,C){1&c&&(e.YNc(0,W,24,12,"ng-container",0),e.ALo(1,"viewPermission"),e.TgZ(2,"mat-menu",null,1)(4,"div",2)(5,"ul",3)(6,"li")(7,"azt-check-vip-account",4),e.NdJ("checkAction",function(w){return C.downloadExam(w,!1)})("closeDialog",function(w){return C.handlerCloseDialog(w)}),e.TgZ(8,"span",5),e._UZ(9,"lucide-icon",6),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()(),e.TgZ(13,"li")(14,"azt-check-vip-account",4),e.NdJ("checkAction",function(w){return C.downloadExam(w,!0)})("closeDialog",function(w){return C.handlerCloseDialog(w)}),e.TgZ(15,"span",5),e._UZ(16,"lucide-icon",8),e.qZA(),e.TgZ(17,"span",7),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()()(),e.TgZ(20,"li")(21,"a",9),e.NdJ("click",function(){return C.redirectToDownloadExamPdf(0)}),e.O4$(),e.TgZ(22,"svg",10),e._UZ(23,"path",11)(24,"path",12)(25,"path",13)(26,"path",14),e.qZA(),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(29,"li")(30,"a",15),e.NdJ("click",function(){return C.downloadExamAnswer()}),e.TgZ(31,"span",5),e._UZ(32,"lucide-icon",16),e.qZA(),e._uU(33),e.ALo(34,"mytranslate"),e.qZA()()()()(),e.YNc(35,X,1,2,"azt-export-excel-for-answersheet",17)),2&c&&(e.Q6J("ngIf",e.xi3(1,14,null==C.data?null:C.data.obj,"exam")||(null==C.data?null:C.data.globalLadingPage)),e.xp6(7),e.Q6J("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item cursor-pointer")("isShowBadgeVip",!0)("isAction",!0),e.xp6(4),e.hij(" ",e.lcZ(12,17,"lang_testbank_download_exam_in_docx")," "),e.xp6(3),e.Q6J("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item cursor-pointer")("isShowBadgeVip",!0)("isAction",!0),e.xp6(4),e.hij(" ",e.lcZ(19,19,"lang_azt_download_exam_paper_with_detailed_answers_in_docx")," "),e.xp6(9),e.hij(" ",e.lcZ(28,21,"lang_auto_tai_xuong_de_thi")+" PDF"," "),e.xp6(6),e.hij(" ",e.lcZ(34,23,"lang_testbank_download_exam_answer_in_excel")," "),e.xp6(2),e.Q6J("ngIf",null!=C.exportExcelData))},dependencies:[Q.sg,Q.O5,y.i3,l.ZT,k.VK,k.p6,g.gM,O.Nh5,M.y,J.A,K.R,V.S,Y.n,H.m,A.JV,A.fF,A.J7],encapsulation:2}),b})()}}]);