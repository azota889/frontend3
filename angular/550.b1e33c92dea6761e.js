(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[550],{21713:(Ce,ne,_)=>{"use strict";_.d(ne,{C:()=>Pe});var v=_(81519),s=_(48891),m=_(10936),e=_(34514),x=_(47426),N=_(99503),z=_(79347),j=_(9691),M=_(59640),y=_(39712),k=_(43234),F=_(96699),C=_(54460),E=_(39471),P=_(97839),D=_(95670),h=_(4375),le=_(81587),je=_(74175),Se=_(63349),Y=_(43166),be=_(15343),K=_(44233),se=_(76975);const de=()=>({"ml-5 mr-2":!0}),Je=T=>({"error-border":T}),It=T=>[T],kt=()=>({"mr-2":!0});function He(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function St(T,H){if(1&T&&(s.j41(0,"mat-option",62),s.EFF(1),s.k0s()),2&T){const V=H.$implicit;s.Y8G("value",V.id),s.R7$(),s.SpI(" ",V.name," ")}}function xt(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Rt(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function wt(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function Tt(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function mt(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_test_market_request_with_draw_note_birthday")," "))}function Ke(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Ft(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function jt(T,H){1&T&&(s.j41(0,"div",61),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_test_market_must_accept_policy")," "))}function Ze(T,H){if(1&T){const V=s.RV6();s.j41(0,"div",63)(1,"button",64),s.nI1(2,"calcYearOldUser"),s.bIt("click",function(){s.eBV(V);const R=s.XpG();return s.Njj(R.acceptSendRequest(!0))}),s.EFF(3),s.nI1(4,"mytranslate"),s.k0s(),s.j41(5,"button",65),s.bIt("click",function(){s.eBV(V);const R=s.XpG();return s.Njj(R.acceptSendRequest(!1))}),s.EFF(6),s.nI1(7,"mytranslate"),s.k0s()()}if(2&T){const V=s.XpG();s.R7$(),s.Y8G("disabled",V.form.invalid||V.sendRequest||!V.totalBalance||V.totalBalance<V.minimumWithdraw||2!=V.citizenIdImages.length||s.bMT(2,3,V.form.controls.birthday.value)<18),s.R7$(2),s.SpI(" ",s.bMT(4,5,"lang_test_market_request_with_draw")," "),s.R7$(3),s.SpI(" ",s.bMT(7,7,"lang_auto_huy")," ")}}function et(T,H){if(1&T){const V=s.RV6();s.j41(0,"div",71),s.bIt("click",function(){s.eBV(V);const R=s.XpG().$implicit,ie=s.XpG(2);return s.Njj(ie.removeImg(R))}),s.nrm(1,"lucide-icon",72),s.k0s()}}function Et(T,H){if(1&T&&(s.j41(0,"div",67)(1,"div",68),s.nrm(2,"img",69),s.nI1(3,"mycdn"),s.k0s(),s.DNE(4,et,2,0,"div",70),s.k0s()),2&T){const V=H.$implicit,U=s.XpG(2);s.R7$(2),s.Y8G("src",s.bMT(3,2,V),s.B4B),s.R7$(2),s.Y8G("ngIf",U.enableEditInfo)}}function xe(T,H){if(1&T&&(s.j41(0,"div"),s.DNE(1,Et,5,4,"div",66),s.k0s()),2&T){const V=s.XpG();s.R7$(),s.Y8G("ngForOf",V.citizenIdImages)}}function De(T,H){1&T&&(s.j41(0,"div",73)(1,"div",74),s.nrm(2,"lucide-icon",75),s.j41(3,"span",76),s.EFF(4),s.nI1(5,"mytranslate"),s.k0s()()()),2&T&&(s.R7$(2),s.Y8G("ngClass",s.lJ4(4,kt)),s.R7$(2),s.JRh(s.bMT(5,2,"lang_auto_upload_file")))}function Re(T,H){if(1&T){const V=s.RV6();s.j41(0,"div",77)(1,"div",63)(2,"button",78),s.nI1(3,"calcYearOldUser"),s.bIt("click",function(){s.eBV(V);const R=s.XpG();return s.Njj(R.acceptSendRequest(!0))}),s.EFF(4),s.nI1(5,"mytranslate"),s.k0s(),s.j41(6,"button",79),s.bIt("click",function(){s.eBV(V);const R=s.XpG();return s.Njj(R.acceptSendRequest(!1))}),s.EFF(7),s.nI1(8,"mytranslate"),s.k0s()()()}if(2&T){const V=s.XpG();s.R7$(2),s.Y8G("disabled",V.form.invalid||V.sendRequest||!V.totalBalance||V.totalBalance<V.minimumWithdraw||2!=V.citizenIdImages.length||s.bMT(3,3,V.form.controls.birthday.value)<18),s.R7$(2),s.SpI(" ",s.bMT(5,5,"lang_test_market_request_with_draw")," "),s.R7$(3),s.SpI(" ",s.bMT(8,7,"lang_auto_huy")," ")}}let Pe=(()=>{var T;class H extends M.H{getCurLang(){return this.commonService.getCurrentLang()}handleUploadComplete(U){U.forEach(R=>{this.citizenIdImages.push(R.url??"")})}removeImg(U){let R=this.citizenIdImages?.filter(ie=>ie!==U);this.citizenIdImages=R}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo?.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo?.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo?.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo?.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo?.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo?.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo?.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo?.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo?.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo?.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(U){this.currentBankId=U}removeSignatureKeyImages(U){if(0==U.length)return[];{let R=[];return U.forEach(ie=>{R.push(ie.substring(0,ie.indexOf("?")))}),R}}acceptSendRequest(U){if(U){this.sendRequest=!0;let R=this.getFormValue(),ie={bankId:R.bankId??this.transactionInfo?.bankId,bankHolder:R.accountNameControl??this.transactionInfo?.bankHolder,address:R.address??this.transactionInfo?.address,bankAccountNumber:R.bankNumber??this.transactionInfo?.bankAccountNumber,contactPhone:R.contactPhone??this.balanceUserInfo?.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(R.birthday??this.balanceUserInfo?.birthday??""),idCard:R.idCard??this.balanceUserInfo?.idCard,idIssuedBy:R.idIssuedBy??this.balanceUserInfo?.idIssuedBy,idIssuedAt:new Date(R.idIssuedAt??this.balanceUserInfo?.idIssuedAt??"")};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(ie).subscribe(_e=>{_e.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(_e.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(U=>{U.success?(this.listBanks=U.data?.objs??[],this.successStatusObj()):this.errorStatusObj(U.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.getBankObjs(),this.transactionInfo||(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo?.idImages&&this.balanceUserInfo?.idImages.length?this.balanceUserInfo.idImages:[],this.form=new m.gE({accountNameControl:new m.MJ({value:this.transactionInfo?.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),bankId:new m.MJ({value:this.transactionInfo?.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),bankNumber:new m.MJ({value:this.transactionInfo?.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required,m.k0.pattern("^[A-Za-z0-9]*$")]}),address:new m.MJ({value:this.transactionInfo?.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),contactPhone:new m.MJ({value:this.balanceUserInfo?.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required,m.k0.pattern("^[0-9]*$"),m.k0.minLength(10)]}),idCard:new m.MJ({value:this.balanceUserInfo?.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required,m.k0.pattern("^[0-9]*$")]}),idIssuedBy:new m.MJ({value:this.balanceUserInfo?.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),idIssuedAt:new m.MJ({value:this.balanceUserInfo?.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),birthday:new m.MJ({value:this.balanceUserInfo?.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),acceptPolicy:new m.MJ(!1,{nonNullable:!0,validators:[m.k0.requiredTrue]})}),this.currentBankId=this.transactionInfo?.bankId??1}constructor(U){super(),this.testMarketQuestionService=U,this.totalBalance=0,this.closeRequest=new s.bkB,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=k.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=y.b8,this.allUploadFileTypes=y.PO,this.minimumWithdraw=2e5,this.form=new m.gE({accountNameControl:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),bankId:new m.MJ({value:1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),bankNumber:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required,m.k0.pattern("^[A-Za-z0-9]*$")]}),address:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),contactPhone:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required,m.k0.pattern("^[0-9]*$"),m.k0.minLength(10)]}),idCard:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required,m.k0.pattern("^[0-9]*$")]}),idIssuedBy:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),idIssuedAt:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),birthday:new m.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[m.k0.required]}),acceptPolicy:new m.MJ(!1,{nonNullable:!0,validators:[m.k0.requiredTrue]})})}}return(T=H).\u0275fac=function(U){return new(U||T)(s.rXU(F.e2))},T.\u0275cmp=s.VBU({type:T,selectors:[["withdraw-balance"]],inputs:{balanceUserInfo:"balanceUserInfo",transactionInfo:"transactionInfo",totalBalance:"totalBalance"},outputs:{closeRequest:"closeRequest"},features:[s.Jv_([{provide:v.$O,useClass:N.fb,deps:[x.Ju,e.ij]},{provide:v.vq,useFactory:z.fJ,deps:[j.F]}]),s.Vt3],decls:132,vars:116,consts:[["searchInListBank","searchInList"],["idIssuedAt",""],["birthday",""],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"text-danger","text-xs"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","square-pen",2,"width","1.25rem !important",3,"ngClass"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline",3,"ngClass"],["searchInList","","formControlName","bankId","name","bankIdInput",3,"valueChange","selectionChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","20"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],[2,"display","block",3,"uploadComplete","uploadToCdnMenu","fileType"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","x","size","16"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["name","upload","size","16",3,"ngClass"],[1,"text-primary","mr-1"],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(U,R){if(1&U){const ie=s.RV6();s.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h2",7),s.EFF(5),s.nI1(6,"mytranslate"),s.nI1(7,"number"),s.k0s(),s.j41(8,"span",8),s.EFF(9),s.nI1(10,"mytranslate"),s.k0s()(),s.j41(11,"div",9)(12,"h2",10),s.EFF(13),s.nI1(14,"mytranslate"),s.k0s(),s.j41(15,"div",11),s.bIt("click",function(){return s.eBV(ie),s.Njj(R.enableEdit())}),s.nrm(16,"lucide-icon",12),s.EFF(17),s.nI1(18,"mytranslate"),s.k0s()(),s.j41(19,"form",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"label",18),s.EFF(25),s.nI1(26,"mytranslate"),s.k0s(),s.nrm(27,"input",19),s.DNE(28,He,3,3,"div",20),s.k0s(),s.j41(29,"div",17)(30,"label",21),s.EFF(31),s.nI1(32,"mytranslate"),s.k0s(),s.j41(33,"mat-form-field",22)(34,"mat-select",23,0),s.mxI("valueChange",function(ue){return s.eBV(ie),s.DH7(R.currentBankId,ue)||(R.currentBankId=ue),s.Njj(ue)}),s.bIt("selectionChange",function(ue){return s.eBV(ie),s.Njj(R.selectBank(ue.value))}),s.j41(36,"mat-option"),s.nrm(37,"ngx-mat-select-search",24),s.nI1(38,"mytranslate"),s.nI1(39,"mytranslate"),s.k0s(),s.DNE(40,St,2,2,"mat-option",25),s.k0s()(),s.DNE(41,xt,3,3,"div",20),s.k0s(),s.j41(42,"div",17)(43,"label",26),s.EFF(44),s.nI1(45,"mytranslate"),s.k0s(),s.nrm(46,"input",27),s.DNE(47,Rt,3,3,"div",20),s.k0s(),s.j41(48,"div",28)(49,"h2",29),s.EFF(50),s.nI1(51,"mytranslate"),s.k0s()(),s.j41(52,"div",17)(53,"label",30),s.EFF(54),s.nI1(55,"mytranslate"),s.k0s(),s.nrm(56,"input",31),s.DNE(57,wt,3,3,"div",20),s.k0s(),s.j41(58,"div",17)(59,"label",32),s.EFF(60),s.nI1(61,"mytranslate"),s.k0s(),s.nrm(62,"input",33),s.DNE(63,Tt,3,3,"div",20),s.k0s(),s.j41(64,"div",17)(65,"label",34),s.EFF(66),s.nI1(67,"mytranslate"),s.k0s(),s.j41(68,"mat-form-field",35)(69,"input",36),s.nI1(70,"mytranslate"),s.bIt("click",function(){s.eBV(ie);const ue=s.sdS(74);return s.Njj(ue.open())}),s.k0s(),s.j41(71,"button",37),s.bIt("click",function(ue){return s.eBV(ie),s.sdS(74).open(),s.Njj(ue.stopPropagation())}),s.nrm(72,"lucide-icon",38),s.k0s(),s.j41(73,"ngx-mat-datetime-picker",39,1)(75,"ngx-mat-datepicker-actions")(76,"button",40),s.EFF(77,"OK"),s.k0s()()()()(),s.j41(78,"div",17)(79,"label",41),s.EFF(80),s.nI1(81,"mytranslate"),s.k0s(),s.j41(82,"mat-form-field",35)(83,"input",42),s.nI1(84,"mytranslate"),s.bIt("click",function(){s.eBV(ie);const ue=s.sdS(88);return s.Njj(ue.open())}),s.k0s(),s.j41(85,"button",43),s.bIt("click",function(ue){return s.eBV(ie),s.sdS(88).open(),s.Njj(ue.stopPropagation())}),s.nrm(86,"lucide-icon",38),s.k0s(),s.j41(87,"ngx-mat-datetime-picker",39,2)(89,"ngx-mat-datepicker-actions")(90,"button",40),s.EFF(91,"OK"),s.k0s()()()(),s.DNE(92,mt,3,3,"div",20),s.nI1(93,"calcYearOldUser"),s.k0s(),s.j41(94,"div",17)(95,"label",44),s.EFF(96),s.nI1(97,"mytranslate"),s.k0s(),s.nrm(98,"input",45),s.DNE(99,Ke,3,3,"div",20),s.k0s(),s.j41(100,"div",17)(101,"label",46),s.EFF(102),s.nI1(103,"mytranslate"),s.k0s(),s.nrm(104,"input",47),s.DNE(105,Ft,3,3,"div",20),s.k0s(),s.j41(106,"div",17)(107,"div",48),s.nrm(108,"input",49),s.j41(109,"label",50),s.EFF(110),s.nI1(111,"mytranslate"),s.j41(112,"a",51),s.EFF(113),s.nI1(114,"mytranslate"),s.k0s(),s.EFF(115),s.nI1(116,"mytranslate"),s.nrm(117,"azt-download-link-item",52),s.nI1(118,"convertRawLinkOfGitHubWithLocale"),s.EFF(119),s.nI1(120,"mytranslate"),s.k0s()(),s.DNE(121,jt,3,3,"div",20),s.k0s(),s.DNE(122,Ze,8,9,"div",53),s.k0s(),s.j41(123,"div",54)(124,"div",55)(125,"h2",56),s.EFF(126),s.nI1(127,"mytranslate"),s.k0s()(),s.DNE(128,xe,2,1,"div",57),s.j41(129,"azt-upload-multiple-box",58),s.bIt("uploadComplete",function(ue){return s.eBV(ie),s.Njj(R.handleUploadComplete(ue))}),s.DNE(130,De,6,5,"div",59),s.k0s()(),s.DNE(131,Re,9,9,"div",60),s.k0s()()()()()()}if(2&U){const ie=s.sdS(35),_e=s.sdS(74),ue=s.sdS(88);s.R7$(5),s.Lme("",s.bMT(6,59,"lang_test_market_balance"),"",s.bMT(7,61,R.totalBalance),"\u0111"),s.R7$(4),s.JRh(s.bMT(10,63,"lang_test_market_request_with_draw_notice")),s.R7$(4),s.SpI(" ",s.bMT(14,65,"lang_test_market_bank_information")," "),s.R7$(3),s.Y8G("ngClass",s.lJ4(111,de)),s.R7$(),s.SpI(" ",s.bMT(18,67,R.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),s.R7$(2),s.Y8G("formGroup",R.form),s.R7$(6),s.SpI(" ",s.bMT(26,69,"lang_test_market_bankHolder")," "),s.R7$(3),s.Y8G("ngIf",R.form.controls.accountNameControl.dirty&&R.form.controls.accountNameControl.errors),s.R7$(3),s.SpI(" ",s.bMT(32,71,"lang_test_market_bankName")," "),s.R7$(2),s.Y8G("ngClass",s.eq3(112,Je,R.form.controls.bankId.invalid)),s.R7$(),s.R50("value",R.currentBankId),s.R7$(3),s.FS9("placeholderLabel",s.bMT(38,73,"lang_bot_common_search_by_name")),s.FS9("noEntriesFoundLabel",s.bMT(39,75,"lang_bot_common_search_not_found")),s.Y8G("formControl",ie.searchControl),s.R7$(3),s.Y8G("ngForOf",ie.filter(R.listBanks,"name")),s.R7$(),s.Y8G("ngIf",R.form.controls.bankId.dirty&&R.form.controls.bankId.errors),s.R7$(3),s.SpI(" ",s.bMT(45,77,"lang_test_market_bankNumber")," "),s.R7$(3),s.Y8G("ngIf",R.form.controls.bankNumber.dirty&&R.form.controls.bankNumber.errors),s.R7$(3),s.SpI(" ",s.bMT(51,79,"lang_test_market_personal_information")," "),s.R7$(4),s.SpI(" ",s.bMT(55,81,"lang_test_market_citizen_id")," "),s.R7$(3),s.Y8G("ngIf",R.form.controls.idCard.dirty&&R.form.controls.idCard.errors),s.R7$(3),s.SpI(" ",s.bMT(61,83,"lang_test_market_issued_by")," "),s.R7$(3),s.Y8G("ngIf",R.form.controls.idIssuedBy.dirty&&R.form.controls.idIssuedBy.errors),s.R7$(3),s.SpI(" ",s.bMT(67,85,"lang_test_market_issued_at")," "),s.R7$(3),s.FS9("placeholder",s.bMT(70,87,"lang_test_market_issued_at")),s.Y8G("max",R.maxDate)("ngxMatDatetimePicker",_e),s.R7$(4),s.Y8G("touchUi",!0)("hideTime",!0),s.R7$(7),s.SpI(" ",s.bMT(81,89,"lang_auto_ngay_sinh")," "),s.R7$(3),s.FS9("placeholder",s.bMT(84,91,"lang_auto_ngay_sinh")),s.Y8G("max",R.maxDate)("ngxMatDatetimePicker",ue),s.R7$(4),s.Y8G("touchUi",!0)("hideTime",!0),s.R7$(5),s.Y8G("ngIf",s.bMT(93,93,R.form.controls.birthday.value)<18),s.R7$(4),s.SpI(" ",s.bMT(97,95,"lang_number_phone")," "),s.R7$(3),s.Y8G("ngIf",R.form.controls.contactPhone.dirty&&R.form.controls.contactPhone.errors),s.R7$(3),s.SpI(" ",s.bMT(103,97,"lang_test_market_address")," "),s.R7$(3),s.Y8G("ngIf",R.form.controls.address.dirty&&R.form.controls.address.errors),s.R7$(5),s.SpI(" ",s.bMT(111,99,"lang_test_market_Azota_policy_1")," "),s.R7$(2),s.FS9("href","/"+R.getCurLang()+"/admin/test-market/privacy",s.B4B),s.R7$(),s.SpI(" ",s.bMT(114,101,"lang_test_market_Azota_policy_2")," "),s.R7$(2),s.SpI(" \xa0",s.bMT(116,103,"lang_auto_va"),"\xa0 "),s.R7$(2),s.Y8G("dataUrl",s.bMT(118,105,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),s.R7$(2),s.SpI(" ",s.bMT(120,107,"lang_test_market_Azota_policy_3")," "),s.R7$(2),s.Y8G("ngIf",(null==R.form.controls.acceptPolicy?null:R.form.controls.acceptPolicy.dirty)&&(null==R.form.controls.acceptPolicy?null:R.form.controls.acceptPolicy.errors)&&!(null!=R.form.controls.acceptPolicy&&R.form.controls.acceptPolicy.value)),s.R7$(),s.Y8G("ngIf",!R.isMobile),s.R7$(4),s.SpI(" ",s.bMT(127,109,"lang_test_market_upload_citizenID_images")," "),s.R7$(2),s.Y8G("ngIf",R.citizenIdImages.length>0),s.R7$(),s.Y8G("uploadToCdnMenu",R.allUploadToCdnMenuTypes.GET_PUBLIC_UPLOAD_URL_FOR_ID_NUMBER)("fileType",s.eq3(114,It,R.allUploadFileTypes.IMAGE)),s.R7$(),s.Y8G("ngIf",R.enableEditInfo),s.R7$(),s.Y8G("ngIf",R.isMobile)}},dependencies:[C.YU,C.Sq,C.bT,m.qT,m.me,m.Zm,m.BC,m.cb,x.wT,E.$z,P.fg,D.rl,D.yw,h.VO,v.m7,v.yF,v.HF,v.Uq,m.l_,m.j4,m.JD,le.t,je.W,Se.V,Y.x,be.WGl,K.U9,C.QX,se.wp,se.nf,se.V3,se.gs],encapsulation:2}),H})()},70550:(Ce,ne,_)=>{"use strict";_.r(ne),_.d(ne,{AuthModule:()=>Om});var v={};_.r(v),_.d(v,{FirebaseError:()=>j.g,SDK_VERSION:()=>Ot,_DEFAULT_ENTRY_NAME:()=>xe,_addComponent:()=>H,_addOrOverwriteComponent:()=>V,_apps:()=>Re,_clearComponents:()=>pt,_components:()=>T,_getProvider:()=>R,_isFirebaseApp:()=>_e,_isFirebaseServerApp:()=>ue,_registerComponent:()=>U,_removeServiceInstance:()=>ie,_serverApps:()=>Pe,deleteApp:()=>nt,getApp:()=>Kt,getApps:()=>Zt,initializeApp:()=>tt,initializeServerApp:()=>At,onLog:()=>Ne,registerVersion:()=>ce,setLogLevel:()=>Pt});var s=_(54460),m=_(32065),e=_(48891),x=_(73014),N=_(64627),z=_(56094),j=_(17791),M=_(90068);class y{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function k(t){const a=t.getComponent();return"VERSION"===a?.type}(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}return null}).filter(n=>n).join(" ")}}const F="@firebase/app",C="0.10.12",E=new z.Vy("@firebase/app"),xe="[DEFAULT]",De={[F]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Re=new Map,Pe=new Map,T=new Map;function H(t,a){try{t.container.addComponent(a)}catch(n){E.debug(`Component ${a.name} failed to register with FirebaseApp ${t.name}`,n)}}function V(t,a){t.container.addOrOverwriteComponent(a)}function U(t){const a=t.name;if(T.has(a))return E.debug(`There were multiple attempts to register component ${a}.`),!1;T.set(a,t);for(const n of Re.values())H(n,t);for(const n of Pe.values())H(n,t);return!0}function R(t,a){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(a)}function ie(t,a,n=xe){R(t,a).clearInstance(n)}function _e(t){return void 0!==t.options}function ue(t){return void 0!==t.settings}function pt(){T.clear()}const Ie=new j.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ht{constructor(a,n,o){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new N.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw Ie.create("app-deleted",{appName:this._name})}}class kn extends Ht{constructor(a,n,o,i){const r=void 0!==n.automaticDataCollectionEnabled&&n.automaticDataCollectionEnabled,l={name:o,automaticDataCollectionEnabled:r};super(void 0!==a.apiKey?a:a.options,l,i),this._serverConfig=Object.assign({automaticDataCollectionEnabled:r},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,ce(F,C,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(a){this.isDeleted||(this._refCount++,void 0!==a&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(a,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){nt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ie.create("server-app-deleted")}}const Ot="10.14.0";function tt(t,a={}){let n=t;"object"!=typeof a&&(a={name:a});const o=Object.assign({name:xe,automaticDataCollectionEnabled:!1},a),i=o.name;if("string"!=typeof i||!i)throw Ie.create("bad-app-name",{appName:String(i)});if(n||(n=(0,j.T9)()),!n)throw Ie.create("no-options");const r=Re.get(i);if(r){if((0,j.bD)(n,r.options)&&(0,j.bD)(o,r.config))return r;throw Ie.create("duplicate-app",{appName:i})}const l=new N.h1(i);for(const b of T.values())l.addComponent(b);const p=new Ht(n,o,l);return Re.set(i,p),p}function At(t,a){if((0,j.Bd)()&&!(0,j.p7)())throw Ie.create("invalid-server-app-environment");let n;void 0===a.automaticDataCollectionEnabled&&(a.automaticDataCollectionEnabled=!1),n=_e(t)?t.options:t;const o=Object.assign(Object.assign({},a),n);if(void 0!==o.releaseOnDeref&&delete o.releaseOnDeref,void 0!==a.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ie.create("finalization-registry-not-supported",{});const r=""+(S=JSON.stringify(o),[...S].reduce((O,A)=>Math.imul(31,O)+A.charCodeAt(0)|0,0)),l=Pe.get(r);var S;if(l)return l.incRefCount(a.releaseOnDeref),l;const p=new N.h1(r);for(const S of T.values())p.addComponent(S);const b=new kn(n,a,r,p);return Pe.set(r,b),b}function Kt(t=xe){const a=Re.get(t);if(!a&&t===xe&&(0,j.T9)())return tt();if(!a)throw Ie.create("no-app",{appName:t});return a}function Zt(){return Array.from(Re.values())}function nt(t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,x.A)(function*(t){let a=!1;const n=t.name;Re.has(n)?(a=!0,Re.delete(n)):Pe.has(n)&&t.decRefCount()<=0&&(Pe.delete(n),a=!0),a&&(yield Promise.all(t.container.getProviders().map(o=>o.delete())),t.isDeleted=!0)})).apply(this,arguments)}function ce(t,a,n){var o;let i=null!==(o=De[t])&&void 0!==o?o:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),l=a.match(/\s|\//);if(r||l){const p=[`Unable to register library "${i}" with version "${a}":`];return r&&p.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&l&&p.push("and"),l&&p.push(`version name "${a}" contains illegal characters (whitespace or "/")`),void E.warn(p.join(" "))}U(new N.uA(`${i}-version`,()=>({library:i,version:a}),"VERSION"))}function Ne(t,a){if(null!==t&&"function"!=typeof t)throw Ie.create("invalid-log-argument");(0,z.Ey)(t,a)}function Pt(t){(0,z.He)(t)}const Sn="firebase-heartbeat-database",Gt=1,$e="firebase-heartbeat-store";let $t=null;function zt(){return $t||($t=(0,M.P2)(Sn,Gt,{upgrade:(t,a)=>{if(0===a)try{t.createObjectStore($e)}catch(n){console.warn(n)}}}).catch(t=>{throw Ie.create("idb-open",{originalErrorMessage:t.message})})),$t}function we(){return(we=(0,x.A)(function*(t){try{const n=(yield zt()).transaction($e),o=yield n.objectStore($e).get(en(t));return yield n.done,o}catch(a){if(a instanceof j.g)E.warn(a.message);else{const n=Ie.create("idb-get",{originalErrorMessage:a?.message});E.warn(n.message)}}})).apply(this,arguments)}function Lt(t,a){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,x.A)(function*(t,a){try{const o=(yield zt()).transaction($e,"readwrite");yield o.objectStore($e).put(a,en(t)),yield o.done}catch(n){if(n instanceof j.g)E.warn(n.message);else{const o=Ie.create("idb-set",{originalErrorMessage:n?.message});E.warn(o.message)}}})).apply(this,arguments)}function en(t){return`${t.name}!${t.options.appId}`}class he{constructor(a){this.container=a,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wn(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}triggerHeartbeat(){var a=this;return(0,x.A)(function*(){var n,o;try{const r=a.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=gt();return null==(null===(n=a._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(a._heartbeatsCache=yield a._heartbeatsCachePromise,null==(null===(o=a._heartbeatsCache)||void 0===o?void 0:o.heartbeats))||a._heartbeatsCache.lastSentHeartbeatDate===l||a._heartbeatsCache.heartbeats.some(p=>p.date===l)?void 0:(a._heartbeatsCache.heartbeats.push({date:l,agent:r}),a._heartbeatsCache.heartbeats=a._heartbeatsCache.heartbeats.filter(p=>{const b=new Date(p.date).valueOf();return Date.now()-b<=2592e6}),a._storage.overwrite(a._heartbeatsCache))}catch(i){E.warn(i)}})()}getHeartbeatsHeader(){var a=this;return(0,x.A)(function*(){var n;try{if(null===a._heartbeatsCache&&(yield a._heartbeatsCachePromise),null==(null===(n=a._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===a._heartbeatsCache.heartbeats.length)return"";const o=gt(),{heartbeatsToSend:i,unsentEntries:r}=function Nt(t,a=1024){const n=[];let o=t.slice();for(const i of t){const r=n.find(l=>l.agent===i.agent);if(r){if(r.dates.push(i.date),Te(n)>a){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Te(n)>a){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}(a._heartbeatsCache.heartbeats),l=(0,j.Uj)(JSON.stringify({version:2,heartbeats:i}));return a._heartbeatsCache.lastSentHeartbeatDate=o,r.length>0?(a._heartbeatsCache.heartbeats=r,yield a._storage.overwrite(a._heartbeatsCache)):(a._heartbeatsCache.heartbeats=[],a._storage.overwrite(a._heartbeatsCache)),l}catch(o){return E.warn(o),""}})()}}function gt(){return(new Date).toISOString().substring(0,10)}class wn{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,x.A)(function*(){return!!(0,j.zW)()&&(0,j.eX)().then(()=>!0).catch(()=>!1)})()}read(){var a=this;return(0,x.A)(function*(){if(yield a._canUseIndexedDBPromise){const o=yield function xn(t){return we.apply(this,arguments)}(a.app);return o?.heartbeats?o:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(a){var n=this;return(0,x.A)(function*(){var o;if(yield n._canUseIndexedDBPromise){const r=yield n.read();return Lt(n.app,{lastSentHeartbeatDate:null!==(o=a.lastSentHeartbeatDate)&&void 0!==o?o:r.lastSentHeartbeatDate,heartbeats:a.heartbeats})}})()}add(a){var n=this;return(0,x.A)(function*(){var o;if(yield n._canUseIndexedDBPromise){const r=yield n.read();return Lt(n.app,{lastSentHeartbeatDate:null!==(o=a.lastSentHeartbeatDate)&&void 0!==o?o:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...a.heartbeats]})}})()}}function Te(t){return(0,j.Uj)(JSON.stringify({version:2,heartbeats:t})).length}!function ot(t){U(new N.uA("platform-logger",a=>new y(a),"PRIVATE")),U(new N.uA("heartbeat",a=>new he(a),"PRIVATE")),ce(F,C,t),ce(F,C,"esm2017"),ce("fire-js","")}(""),ce("firebase","10.14.0","app");var Tn=_(19899),Fn=_(48050);const En=new class jn extends Fn.q{}(class Bt extends Tn.R{constructor(a,n){super(a,n),this.scheduler=a,this.work=n}schedule(a,n=0){return n>0?super.schedule(a,n):(this.delay=n,this.state=a,this.scheduler.flush(this),this)}execute(a,n){return n>0||this.closed?super.execute(a,n):this._execute(a,n)}requestAsyncId(a,n,o=0){return null!=o&&o>0||null==o&&this.delay>0?super.requestAsyncId(a,n,o):(a.flush(this),0)}});var g=_(26061),u=_(82040),d=_(89764),f=_(59668);const I=new e.RxE("ANGULARFIRE2_VERSION");class me{constructor(){return((t,a)=>{const n=Zt(),o=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(l=>{o.includes(l)||o.push(l)})}),o})(Q)}}const Q="app-check";function oe(){}class G{constructor(a,n=En){(0,m.A)(this,"zone",void 0),(0,m.A)(this,"delegate",void 0),this.zone=a,this.delegate=n}now(){return this.delegate.now()}schedule(a,n,o){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{a.apply(this,[l])})},n,o)}}class fe{constructor(a){(0,m.A)(this,"zone",void 0),(0,m.A)(this,"task",null),this.zone=a}call(a,n){const o=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oe,{},oe,oe)),n.pipe((0,u.M)({next:o,complete:o,error:o})).subscribe(a).add(o)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{var t;class a{constructor(o){(0,m.A)(this,"ngZone",void 0),(0,m.A)(this,"outsideAngular",void 0),(0,m.A)(this,"insideAngular",void 0),this.ngZone=o,this.outsideAngular=o.runOutsideAngular(()=>new G(Zone.current)),this.insideAngular=o.run(()=>new G(Zone.current,g.E)),globalThis.\u0275AngularFireScheduler||=this}}return t=a,(0,m.A)(a,"\u0275fac",function(o){return new(o||t)(e.KVO(e.SKi))}),(0,m.A)(a,"\u0275prov",e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})),a})();function Jn(t){return function Vo(t){return function(n){return(n=n.lift(new fe(t.ngZone))).pipe((0,d._)(t.outsideAngular),(0,f.Q)(t.insideAngular))}}(function it(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}())(t)}class Yo{constructor(a,n){this._delegate=a,this.firebase=n,H(a,new N.uA("app-compat",()=>this,"PUBLIC")),this.container=a.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this._delegate.automaticDataCollectionEnabled=a}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(a=>{this._delegate.checkDestroyed(),a()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),nt(this._delegate)))}_getService(a,n=xe){var o;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(a);return!i.isInitialized()&&"EXPLICIT"===(null===(o=i.getComponent())||void 0===o?void 0:o.instantiationMode)&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(a,n=xe){this._delegate.container.getProvider(a).clearInstance(n)}_addComponent(a){H(this._delegate,a)}_addOrOverwriteComponent(a){V(this._delegate,a)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Hn=new j.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Xo=function Kn(){const t=function Wo(t){const a={},n={__esModule:!0,initializeApp:function r(S,O={}){const A=tt(S,O);if((0,j.gR)(a,A.name))return a[A.name];const te=new t(A,n);return a[A.name]=te,te},app:i,registerVersion:ce,setLogLevel:Pt,onLog:Ne,apps:null,SDK_VERSION:Ot,INTERNAL:{registerComponent:function p(S){const O=S.name,A=O.replace("-compat","");if(U(S)&&"PUBLIC"===S.type){const te=(B=i())=>{if("function"!=typeof B[A])throw Hn.create("invalid-app-argument",{appName:O});return B[A]()};void 0!==S.serviceProps&&(0,j.zw)(te,S.serviceProps),n[A]=te,t.prototype[A]=function(...B){return this._getService.bind(this,O).apply(this,S.multipleInstances?B:[])}}return"PUBLIC"===S.type?n[A]:null},removeApp:function o(S){delete a[S]},useAsService:function b(S,O){return"serverAuth"===O?null:O},modularAPIs:v}};function i(S){if(!(0,j.gR)(a,S=S||xe))throw Hn.create("no-app",{appName:S});return a[S]}return n.default=n,Object.defineProperty(n,"apps",{get:function l(){return Object.keys(a).map(S=>a[S])}}),i.App=t,n}(Yo);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Kn,extendNamespace:function a(n){(0,j.zw)(t,n)},createSubscribe:j.tD,ErrorFactory:j.FA,deepExtend:j.zw}),t}(),Zn=new z.Vy("@firebase/app-compat");try{const t=(0,j.mS)();if(void 0!==t.firebase){Zn.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const a=t.firebase.SDK_VERSION;a&&a.indexOf("LITE")>=0&&Zn.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ht=Xo;!function Ho(t){ce("@firebase/app-compat","0.2.42",t)}(),ht.registerVersion("firebase","10.14.0","app-compat");const ei=["ngOnDestroy"];class eo{constructor(a){return a}}const On=new e.nKC("angularfire2.app.options"),An=new e.nKC("angularfire2.app.name");function to(t,a,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const l=ht.apps.filter(p=>p&&p.name===i.name)[0]||a.runOutsideAngular(()=>ht.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(l.options)){const p=!!module.hot;oi("error",`${l.name} Firebase App already initialized with different options${p?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new eo(l)}const oi=(t,...a)=>{(0,e.naY)()&&typeof console<"u"&&console[t](...a)},ii={provide:eo,useFactory:to,deps:[On,e.SKi,[new e.Xx1,An]]};let ai=(()=>{var t;class a{static initializeApp(o,i){return{ngModule:a,providers:[{provide:On,useValue:o},{provide:An,useValue:i}]}}constructor(o){ht.registerVersion("angularfire",I.full,"core"),ht.registerVersion("angularfire",I.full,"app-compat"),ht.registerVersion("angular",e.xvI.full,o.toString())}}return t=a,(0,m.A)(a,"\u0275fac",function(o){return new(o||t)(e.KVO(e.Agw))}),(0,m.A)(a,"\u0275mod",e.$C({type:t})),(0,m.A)(a,"\u0275inj",e.G2t({providers:[ii]})),a})();const li=typeof module<"u"&&!!module.hot,no=(t,...a)=>{(0,e.naY)()&&typeof console<"u"&&console[t](...a)};globalThis.\u0275AngularfireInstanceCache||=[];var c=_(10936),X=_(65162),oo=_(69223),J=_(15343);function ci(t,a){if(1&t){const n=e.RV6();e.j41(0,"input",4,0),e.bIt("paste",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.handlePaste(i))})("keyup",function(i){const r=e.eBV(n).index,l=e.XpG(2);return e.Njj(l.onKeyUp(i,r))})("input",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onInput(i))})("keydown",function(i){const r=e.eBV(n).index,l=e.XpG(2);return e.Njj(l.onKeyDown(i,r))}),e.k0s()}if(2&t){const n=a.$implicit,o=a.index,i=e.XpG(2);e.ZvI("otp-input ",i.config.inputClass,""),e.Y8G("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[n])("id",i.getBoxId(o))}}function _i(t,a){if(1&t&&(e.j41(0,"div",2),e.DNE(1,ci,2,9,"input",3),e.nI1(2,"keys"),e.k0s()),2&t){const n=e.XpG();e.ZvI("ng-otp-input-wrapper wrapper ",n.config.containerClass,""),e.Mz_("id","c_",n.componentKey,""),e.Y8G("ngStyle",n.config.containerStyles),e.R7$(),e.Y8G("ngForOf",e.bMT(2,7,null==n.otpForm?null:n.otpForm.controls))}}class ft{static ifTab(a){return this.ifKey(a,"Tab")}static ifDelete(a){return this.ifKey(a,"Delete;Del")}static ifBackspace(a){return this.ifKey(a,"Backspace")}static ifRightArrow(a){return this.ifKey(a,"ArrowRight;Right")}static ifLeftArrow(a){return this.ifKey(a,"ArrowLeft;Left")}static ifSpacebar(a){return this.ifKey(a,"Spacebar; ")}static ifKey(a,n){return n.split(";").some(i=>i===a.key)}}let Mn=(()=>{class t{transform(n){return Object.keys(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.EJ8({name:"keys",type:t,pure:!0}),t})(),ui=(()=>{class t{constructor(n,o){this.keysPipe=n,this.document=o,this.config={length:4},this.onInputChange=new e.bkB,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new c.gE({});for(let n=0;n<this.config.length;n++)this.otpForm.addControl(this.getControlName(n),new c.MJ);this.otpForm.valueChanges.subscribe(n=>{this.keysPipe.transform(this.otpForm.controls).forEach(o=>{var i=this.otpForm.controls[o].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const n=this.document.getElementById(`c_${this.componentKey}`);if(n){const o=n.getElementsByClassName("otp-input")[0];o&&o.focus&&o.focus()}}}getControlName(n){return`ctrl_${n}`}onKeyDown(n,o){const i=this.getBoxId(o-1),r=this.getBoxId(o);return ft.ifSpacebar(n)?(n.preventDefault(),!1):ft.ifBackspace(n)?(n.target.value?this.clearInput(r,o):(this.clearInput(i,o-1),this.setSelected(i)),void this.rebuildValue()):void 0}onInput(n){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${n.target.value}`:n.target.value))return n.target.value="",n.stopPropagation(),void n.preventDefault()}onKeyUp(n,o){ft.ifTab(n)&&(o-=1);const i=this.getBoxId(o+1),r=this.getBoxId(o-1),l=this.getBoxId(o);return ft.ifRightArrow(n)?(n.preventDefault(),void this.setSelected(i)):ft.ifLeftArrow(n)?(n.preventDefault(),void this.setSelected(r)):ft.ifDelete(n)?(n.target.value?this.clearInput(l,o):(this.clearInput(r,o-1),this.setSelected(r)),void this.rebuildValue()):void(n.target.value&&(this.ifValidKeyCode(n)&&this.setSelected(i),this.rebuildValue()))}validateNumber(n){return n&&/^[0-9]+$/.test(n)}getBoxId(n){return`otp_${n}_${this.componentKey}`}clearInput(n,o){let i=this.getControlName(o);this.otpForm.controls[i]?.setValue(null);const r=this.document.getElementById(n);r&&r instanceof HTMLInputElement&&(r.value=null)}setSelected(n){this.focusTo(n);const o=this.document.getElementById(n);o&&o.setSelectionRange&&setTimeout(()=>{o.setSelectionRange(0,1)},0)}ifValidKeyCode(n){const o=n.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(o)}focusTo(n){const o=this.document.getElementById(n);o&&o.focus()}setValue(n){if(!this.config.allowNumbersOnly||!isNaN(n)){if(this.otpForm.reset(),!n)return void this.rebuildValue();if(n=n.toString().replace(/\s/g,""),Array.from(n).forEach((i,r)=>{this.otpForm.get(this.getControlName(r))&&this.otpForm.get(this.getControlName(r)).setValue(i)}),!this.config.disableAutoFocus){const i=this.document.getElementById(`c_${this.componentKey}`);var o=n.length<this.config.length?n.length:this.config.length-1;let r=i.getElementsByClassName("otp-input")[o];r&&r.focus&&r.focus()}this.rebuildValue()}}rebuildValue(){let n="";this.keysPipe.transform(this.otpForm.controls).forEach(o=>{if(this.otpForm.controls[o].value){let i=this.otpForm.controls[o].value,r=i.length>1,l=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());i=i[0];let p=l?"upper"==this.config.letterCase.toLocaleLowerCase()?i.toUpperCase():i.toLowerCase():i;l&&p==i?l=!1:i=p,n+=i,(r||l)&&this.otpForm.controls[o].setValue(i)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(n),this.onInputChange.emit(n),this.currentVal=n}handlePaste(n){let o=n.clipboardData||window.clipboardData;if(o)var i=o.getData("Text");n.stopPropagation(),n.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return t.\u0275fac=function(n){return new(n||t)(e.rXU(Mn),e.rXU(s.qQ))},t.\u0275cmp=e.VBU({type:t,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[["inp",""],[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"paste","keyup","input","keydown","pattern","type","placeholder","ngStyle","formControl","id"]],template:function(n,o){1&n&&e.DNE(0,_i,3,9,"div",1),2&n&&e.Y8G("ngIf",null==o.otpForm?null:o.otpForm.controls)},dependencies:[s.bT,s.B3,s.Sq,c.me,c.R_,c.BC,c.l_,Mn],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),t})(),di=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({providers:[Mn],imports:[[s.MD,c.YN,c.X1]]}),t})();var mi=_(13763),Vt=_(10123),io=_(25571),an=_(44233),ao=_(5502),pi=_(21656),gi=_(70050),hi=_(7050),fi=_(91100),Be=_(43234),vi=_(1133),vt=_(76627),Pn=_(78248),$=_(59640),bi=_(73402),so=_(69988),Ee=_(36484),Ve=_(39307),Gn=_(52509),Ue=_(46899),ge=_(18718),ro=_(22783),lo=_(96451),co=_(69715),bt=_(81519),sn=_(47426),yt=_(95670),_o=_(99503),yi=_(79347),rn=_(9691),Ge=_(15766),st=_(89163),ln=_(33887),Z=_(53916),cn=_(84828),$n=_(4375),ee=_(52811),zn=_(43166),w=_(76975);function Ci(t,a){if(1&t&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function Ii(t,a){if(1&t&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function ki(t,a){if(1&t&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function Si(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",8)(1,"mat-form-field",9)(2,"mat-select",22,3),e.nI1(4,"mytranslate"),e.mxI("valueChange",function(i){e.eBV(n);const r=e.XpG();return e.DH7(r.department_select,i)||(r.department_select=i),e.Njj(i)}),e.bIt("selectionChange",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.selectDepartment(i.value))}),e.j41(5,"mat-option"),e.nrm(6,"ngx-mat-select-search",11),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,ki,2,2,"mat-option",12),e.k0s()()()}if(2&t){const n=e.sdS(3),o=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"lang_testbank_utils_school_info_select_department")),e.R50("value",o.department_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(7,8,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(8,10,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(o.departments,"name"))}}function xi(t,a){if(1&t&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function Ri(t,a){1&t&&(e.j41(0,"span",23),e.nrm(1,"azt-loading-ui"),e.k0s())}let wi=(()=>{var t;class a extends ln._{initData(){this.getProvinces(),this.getTypeSchool()}selectLocation(o){this.location_select=o,this.department_select=null,this.departments=[],this.getDistrictsByProvince()}selectLevel(o){this.schools=[],this.school_select=null,this.level_select=o,o<=3?(this.getListSchool(),this.getDistrictsByProvince()):o>3&&this.getListSchoolByProvince()}selectDepartment(o){this.schools=[],this.school_select=null,this.department_select=o,this.getListSchool()}selectSchool(o){this.school_select=o}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(i=>{i&&1==i.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(i.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack(this.sAztUserService.isTeacherRole()?"lang_auto_vui_long_chon_truong_minh_dang_giang_day":"lang_auto_vui_long_chon_truong_minh_dang_theo_hoc")}btnCloseDialog(o){this.dialogRef.close(o)}getProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(o=>{o&&(this.locations=o.data?.objs??new Array,this.locations=this.sortName(this.locations))})}getTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(o=>{o&&(this.levels=o.data?.objs??new Array)})}getDistrictsByProvince(o=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(i=>{i&&(this.departments=i.data?.objs??new Array,this.departments=this.sortName(this.departments),o())})}getListSchoolByProvince(o=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(i=>{i&&(this.schools=i.data?.objs??new Array,this.schools=this.sortName(this.schools),o())})}getListSchool(o=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(i=>{i&&(this.schools=i.data?.objs??new Array,this.schools=this.sortName(this.schools),o())})}sortName(o){return o.sort((i,r)=>i.name?.trim().localeCompare(r.name?.trim()??"")??-1),o}ngOnInit(){this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.getDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),super.ngOnInit()}constructor(o,i,r,l,p){super(p,l),this.schoolConfigService=o,this.schoolInfoService=i,this.sAztUserService=r,this.dialogRef=l,this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=p.infoSchool,this.form=new c.gE({LocationName:new c.MJ("",{nonNullable:!0}),LevelName:new c.MJ("",{nonNullable:!0}),DepartmentName:new c.MJ("",{nonNullable:!0}),SchoolName:new c.MJ("",{nonNullable:!0}),multiChooseLevel:new c.MJ([]),listMultiChooseSubject:new c.Yp([])})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.C1),e.rXU(cn.OC),e.rXU(Ee.R),e.rXU(st.CP,8),e.rXU(st.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-school-info"]],features:[e.Vt3],decls:47,vars:52,consts:[["searchInListLocation","searchInList"],["searchInListLevel","searchInList"],["searchInListSchool","searchInList"],["searchInListDepartment","searchInList"],[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["searchInList","","name","LocationName",3,"valueChange","selectionChange","value","placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["searchInList","","name","LevelName",3,"valueChange","selectionChange","value","placeholder"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["searchInList","","name","SchoolName",3,"valueChange","selectionChange","value","placeholder"],[1,"mt-3","mb-2","flex","justify-end"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value"],["searchInList","","name","DepartmentName",3,"valueChange","selectionChange","value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"div",4)(1,"div",5),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",6),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"form",7)(8,"div",8)(9,"mat-form-field",9)(10,"mat-select",10,0),e.nI1(12,"mytranslate"),e.mxI("valueChange",function(p){return e.eBV(r),e.DH7(i.location_select,p)||(i.location_select=p),e.Njj(p)}),e.bIt("selectionChange",function(p){return e.eBV(r),e.Njj(i.selectLocation(p.value))}),e.j41(13,"mat-option"),e.nrm(14,"ngx-mat-select-search",11),e.nI1(15,"mytranslate"),e.nI1(16,"mytranslate"),e.k0s(),e.DNE(17,Ci,2,2,"mat-option",12),e.k0s()()(),e.j41(18,"div",8)(19,"mat-form-field",9)(20,"mat-select",13,1),e.nI1(22,"mytranslate"),e.mxI("valueChange",function(p){return e.eBV(r),e.DH7(i.level_select,p)||(i.level_select=p),e.Njj(p)}),e.bIt("selectionChange",function(p){return e.eBV(r),e.Njj(i.selectLevel(p.value))}),e.j41(23,"mat-option"),e.nrm(24,"ngx-mat-select-search",11),e.nI1(25,"mytranslate"),e.nI1(26,"mytranslate"),e.k0s(),e.DNE(27,Ii,2,2,"mat-option",12),e.k0s()()(),e.DNE(28,Si,10,12,"div",14),e.j41(29,"div",15)(30,"mat-form-field",9)(31,"mat-select",16,2),e.nI1(33,"mytranslate"),e.mxI("valueChange",function(p){return e.eBV(r),e.DH7(i.school_select,p)||(i.school_select=p),e.Njj(p)}),e.bIt("selectionChange",function(p){return e.eBV(r),e.Njj(i.selectSchool(p.value))}),e.j41(34,"mat-option"),e.nrm(35,"ngx-mat-select-search",11),e.nI1(36,"mytranslate"),e.nI1(37,"mytranslate"),e.k0s(),e.DNE(38,xi,2,2,"mat-option",12),e.k0s()()()(),e.j41(39,"div",17)(40,"button",18),e.bIt("click",function(){return e.eBV(r),e.Njj(i.btnCloseDialog(void 0))}),e.EFF(41),e.nI1(42,"mytranslate"),e.k0s(),e.j41(43,"button",19),e.bIt("click",function(){return e.eBV(r),e.Njj(i.saveInfo())}),e.DNE(44,Ri,2,0,"span",20),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()()()}if(2&o){let r;const l=e.sdS(11),p=e.sdS(21),b=e.sdS(32);e.R7$(2),e.SpI(" ",e.bMT(3,26,"lang_auto_cap_nhat_thong_tin_truong")," "),e.R7$(3),e.SpI(" ",e.bMT(6,28,"lang_testbank_utils_school_info_note_tutorial")," "),e.R7$(2),e.Y8G("formGroup",i.form),e.R7$(3),e.FS9("placeholder",e.bMT(12,30,"lang_testbank_utils_school_info_select_province")),e.R50("value",i.location_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(15,32,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(16,34,"lang_bot_common_search_not_found")),e.Y8G("formControl",l.searchControl),e.R7$(3),e.Y8G("ngForOf",l.filter(i.locations,"name")),e.R7$(3),e.FS9("placeholder",e.bMT(22,36,"lang_testbank_utils_school_info_select_level")),e.R50("value",i.level_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(25,38,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(26,40,"lang_bot_common_search_not_found")),e.Y8G("formControl",p.searchControl),e.R7$(3),e.Y8G("ngForOf",p.filter(i.levels,"name")),e.R7$(),e.Y8G("ngIf",(null!==(r=i.level_select)&&void 0!==r?r:0)<=3),e.R7$(3),e.FS9("placeholder",e.bMT(33,42,"lang_testbank_utils_school_info_select_school")),e.R50("value",i.school_select),e.R7$(4),e.FS9("placeholderLabel",e.bMT(36,44,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(37,46,"lang_bot_common_search_not_found")),e.Y8G("formControl",b.searchControl),e.R7$(3),e.Y8G("ngForOf",b.filter(i.schools,"name")),e.R7$(3),e.SpI(" ",e.bMT(42,48,"lang_testbank_utils_school_info_later")," "),e.R7$(2),e.Y8G("disabled",i.statusObj.loading),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(46,50,"lang_button_save")," ")}},dependencies:[s.Sq,s.bT,sn.wT,yt.rl,$n.VO,c.qT,c.BC,c.cb,c.l_,c.j4,an.U9,ee.R,zn.x,w.wp],encapsulation:2}),a})();var Ti=_(40246);function Fi(t,a){1&t&&(e.j41(0,"span",7),e.nrm(1,"azt-loading-ui"),e.k0s())}let ji=(()=>{var t;class a extends ln._{setData(o){this.dataObjs=o}checkValidChooseGradeAndSubject(o){let i=!0;return o.length?o.forEach(r=>{(!r.subjectsIds||!r.subjectsIds.length)&&(i=!1)}):i=!1,i}saveInfo(){let o=[],i=[],r=[];for(let l=0;l<this.dataObjs.length;l++)if(this.commonService.isExistInArray(i,this.dataObjs[l].class?.value)||(i.push(Number(this.dataObjs[l].class?.value)),r.push(String(this.dataObjs[l].class?.desc))),this.dataObjs[l].subjectsIds&&Array.isArray(this.dataObjs[l].subjectsIds)){let p=this.dataObjs[l].subjectsIds??[];if(p.length)for(let b=0;b<p.length;b++)o.push({classId:this.dataObjs[l].class?.value??0,subjectId:p[b]})}o.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:o}).subscribe(l=>{l&&1==l.success?(this.classroomGradePathValue=i,this.dialogRef.close({classroomIds:i,classroomDescs:r})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(o,i,r){super(r,i),this.surveyConfigService=o,this.dialogRef=i,this.dataDialog=r,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((l,p)=>(l.class?.value??0)-(p.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey,this.form=new c.gE({LocationName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),LevelName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),DepartmentName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),SchoolName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),multiChooseLevel:new c.MJ([]),listMultiChooseSubject:new c.Yp([])})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.K0),e.rXU(st.CP,8),e.rXU(st.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-grade-subject-info"]],features:[e.Vt3],decls:11,vars:13,consts:[[1,"box","p-5"],[3,"formGroup"],[3,"sendData","valueSurvey","valueSubjectSurvey","classroomGradePathValue","dataObjs"],[1,"mt-3","flex","justify-end"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"azt-multi-choose-level-subject",2),e.bIt("sendData",function(l){return i.setData(l)}),e.k0s()(),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){return i.btnCloseDialog()}),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){return i.saveInfo()}),e.DNE(8,Fi,2,0,"span",6),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("valueSurvey",i.valueSurvey)("valueSubjectSurvey",i.valueSubjectSurvey)("classroomGradePathValue",i.classroomGradePathValue)("dataObjs",i.dataObjs),e.R7$(3),e.SpI(" ",e.bMT(6,9,"lang_testbank_utils_school_info_later")," "),e.R7$(2),e.Y8G("disabled",i.statusObj.loading||!i.checkValidChooseGradeAndSubject(i.dataObjs)),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(10,11,"lang_button_save")," "))},dependencies:[s.bT,c.qT,c.cb,c.j4,ee.R,Ti.C,w.wp],encapsulation:2}),a})();var _n=_(39712),Ei=_(97357),Oi=_(7896),Ai=_(95624),Ut=_(39471),Mi=_(97839),uo=_(68323),ve=_(81587),Pi=_(64198),Gi=_(9516);const $i=[[["","body",""]],[["","header",""]]],zi=["[body]","[header]"];function Li(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e.SdG(4,1),e.k0s(),e.j41(5,"div",8)(6,"div",9)(7,"image-cropper",10),e.bIt("imageCropped",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.imageCropped(i))}),e.k0s()()(),e.j41(8,"div",11)(9,"button",12),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.removeDialog())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",13),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.submitImage())}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()()()}if(2&t){const n=e.XpG();e.Y8G("ngClass",n.isMobileWebView?"box-mobile-web-view":"box-web"),e.R7$(7),e.Y8G("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),e.R7$(3),e.JRh(e.bMT(11,8,"lang_auto_huy")),e.R7$(3),e.JRh(e.bMT(14,10,"lang_auto_cap_nhat"))}}let Di=(()=>{var t;class a extends Gi.L{constructor(){super(...arguments),this.uploadComplete=new e.bkB,this.imageChangedEvent=void 0,this.imageFileName="",this.hasClicked=!1}checkPermissionCameraAndImagePicker(o){this.hasClicked=!1,this.onOpenFileDictionary();var i=this.commonService.appVersion();this.isMobileWebView&&i?(this.mobileWebviewService.sendSimpleMessage("CHECK_PERMISSION_IMAGE_PICKER"),this.mobileWebviewService.getWebviewPermissionImagePicker().subscribe(r=>{this.hasClicked||(r?.url&&this.uploadComplete.emit({url:r.url}),this.hasClicked=!0)})):o.click()}fileChangeEvent(o){const r=o.target.files;if(r){if((0,Pi.hD)(r[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=o,this.imageFileName=r?.length?r[0]?.name:""}}imageCropped(o){fetch(o.objectUrl??"").then(i=>i.blob()).then(i=>{const r=new FileReader;r.onload=()=>{let p=this.b64toFile(r.result,this.imageFileName);this.saveImage=p},r.readAsDataURL(i)}).catch(i=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",i))})}submitImage(){const o=this.imageChangedEvent?.target;o.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(i=>{i&&this.uploadComplete.emit(i)})}removeDialog(){const o=this.imageChangedEvent?.target;o.files=null,this.imageChangedEvent=void 0}emitUploadComplete(o){}b64toFile(o,i){o=o.replace("data:image/png;base64,","");let p=window.atob(o),b=[];for(let O=0;O<p.length;O+=512){let A=p.slice(O,O+512),te=new Array(A.length);for(let re=0;re<A.length;re++)te[re]=A.charCodeAt(re);let B=new Uint8Array(te);b.push(B)}return new File(b,i,{type:"image/png"})}}return(t=a).\u0275fac=(()=>{let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}})(),t.\u0275cmp=e.VBU({type:t,selectors:[["azt-upload-image-cropper"]],outputs:{uploadComplete:"uploadComplete"},features:[e.Vt3],ngContentSelectors:zi,decls:5,vars:2,consts:[["formChoseFile",""],[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(o,i){if(1&o){const r=e.RV6();e.NAR($i),e.j41(0,"div",1),e.bIt("click",function(){e.eBV(r);const p=e.sdS(2);return e.Njj(i.checkPermissionCameraAndImagePicker(p))}),e.j41(1,"input",2,0),e.bIt("change",function(p){return e.eBV(r),e.Njj(i.fileChangeEvent(p))})("cancel",function(p){return e.eBV(r),e.Njj(i.onCancelSelect(p))}),e.k0s(),e.SdG(3),e.k0s(),e.DNE(4,Li,15,12,"div",3)}2&o&&(e.R7$(),e.FS9("accept",i.fileType),e.R7$(3),e.Y8G("ngIf",i.imageChangedEvent))},dependencies:[s.YU,s.bT,io._D,w.wp],styles:[".source-image{margin:auto!important}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:auto}.box-web[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px}.box-mobile-web-view[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px;display:flex;align-items:center;justify-content:center}"]}),a})();const Ni=t=>[t],Ln=()=>({"mr-2":!0});function Bi(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",4),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Vi(t,a){1&t&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function Ui(t,a){1&t&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_user_name_no_whitespace")," "))}function Yi(t,a){if(1&t&&(e.j41(0,"div",17)(1,"label",49),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"input",50),e.nI1(5,"mytranslate"),e.DNE(6,Ui,3,3,"div",20),e.k0s()),2&t){const n=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,3,"Username")," "),e.R7$(2),e.FS9("placeholder",e.bMT(5,5,"Username")+"..."),e.R7$(2),e.Y8G("ngIf",""!=n.form.controls.userName.value&&n.form.controls.userName.errors)}}function Qi(t,a){1&t&&(e.j41(0,"div",48),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function Wi(t,a){1&t&&e.nrm(0,"input",51)}function Xi(t,a){1&t&&(e.nrm(0,"input",52),e.nI1(1,"mytranslate")),2&t&&e.FS9("placeholder",e.bMT(1,1,"lang_auto_nhap_email")+"...")}function qi(t,a){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI("*",e.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function Ji(t,a){if(1&t&&(e.j41(0,"div",53),e.DNE(1,qi,3,3,"div",44),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.getErrorType("email","email")||n.getErrorType("email","pattern"))}}function Hi(t,a){if(1&t){const n=e.RV6();e.j41(0,"a",54),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.goToConfirmEmail())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")," "))}function Ki(t,a){1&t&&e.nrm(0,"input",55)}function Zi(t,a){1&t&&(e.nrm(0,"input",56),e.nI1(1,"mytranslate")),2&t&&e.FS9("placeholder",e.bMT(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function ea(t,a){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function ta(t,a){if(1&t&&(e.j41(0,"div",53),e.DNE(1,ea,3,3,"div",44),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.getErrorType("phone","pattern")||n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function na(t,a){if(1&t){const n=e.RV6();e.j41(0,"a",57),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.goToConfirm())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")," "))}function oa(t,a){1&t&&(e.j41(0,"div",65)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_account_general_require_school"),""))}function ia(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",58)(1,"label",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",60),e.nrm(5,"input",61),e.j41(6,"button",62),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.openDialogInfoSchool())}),e.nrm(7,"lucide-icon",63),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.DNE(10,oa,4,3,"div",64),e.k0s()}if(2&t){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,5,"lang_auto_thong_tin_truong")),e.R7$(3),e.FS9("value",null==n.infoSchool?null:n.infoSchool.name),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Ln)),e.R7$(),e.SpI(" ",e.bMT(9,7,null!=n.infoSchool&&n.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),e.R7$(2),e.Y8G("ngIf",!(null!=n.infoSchool&&n.infoSchool.name))}}function aa(t,a){if(1&t&&(e.j41(0,"div",58)(1,"label",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",60),e.nrm(5,"input",61),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_auto_thong_tin_truong")),e.R7$(3),e.FS9("value",n.dataStudent.schoolName)}}function sa(t,a){1&t&&(e.j41(0,"div",65)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_account_general_require_grade_subject"),""))}function ra(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",66)(2,"label",59),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",60),e.nrm(6,"input",61),e.j41(7,"button",67),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.openSelectGradeSubjectDialog())}),e.nrm(8,"lucide-icon",63),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.DNE(11,sa,4,3,"div",64),e.k0s(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,5,"lang_auto_chon_khoi_day_mon_day")),e.R7$(3),e.FS9("value",n.classroomGradeDesc.join(", ")),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Ln)),e.R7$(),e.SpI(" ",e.bMT(10,7,n.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),e.R7$(2),e.Y8G("ngIf",!n.classroomGradeDesc.length)}}function la(t,a){1&t&&e.nrm(0,"azt-loading-ui",68)}function ca(t,a){if(1&t){const n=e.RV6();e.j41(0,"form",5)(1,"div",6)(2,"div",7),e.nrm(3,"azt-create-avatar",8),e.k0s(),e.j41(4,"azt-upload-image-cropper",9),e.bIt("uploadComplete",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.submitAvatar(i))}),e.j41(5,"div",10)(6,"div",11)(7,"button",12),e.nrm(8,"lucide-icon",13),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",14),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",15),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()(),e.j41(17,"div",16)(18,"div",17)(19,"label",18),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.nrm(22,"input",19),e.nI1(23,"mytranslate"),e.DNE(24,Vi,3,3,"div",20),e.k0s(),e.DNE(25,Yi,7,7,"div",21),e.j41(26,"div",17)(27,"label",22),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s(),e.j41(30,"mat-form-field",23)(31,"input",24),e.nI1(32,"mytranslate"),e.bIt("click",function(){e.eBV(n);const i=e.sdS(36);return e.Njj(i.open())}),e.k0s(),e.j41(33,"button",25),e.bIt("click",function(i){return e.eBV(n),e.sdS(36).open(),e.Njj(i.stopPropagation())}),e.nrm(34,"lucide-icon",26),e.k0s(),e.j41(35,"ngx-mat-datetime-picker",27,1)(37,"ngx-mat-datepicker-actions")(38,"button",28),e.EFF(39,"OK"),e.k0s()()()(),e.DNE(40,Qi,3,3,"div",20),e.k0s(),e.j41(41,"div",17)(42,"label",29),e.EFF(43),e.nI1(44,"mytranslate"),e.k0s(),e.DNE(45,Wi,1,0,"input",30)(46,Xi,2,3,"input",31)(47,Ji,2,1,"div",32)(48,Hi,3,3,"a",33),e.k0s(),e.j41(49,"div",17)(50,"label",29),e.EFF(51),e.nI1(52,"mytranslate"),e.k0s(),e.DNE(53,Ki,1,0,"input",34)(54,Zi,2,3,"input",35)(55,ta,2,1,"div",32)(56,na,3,3,"a",36),e.k0s(),e.j41(57,"div",17)(58,"label",29),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s(),e.j41(61,"div",37)(62,"div",38),e.nrm(63,"input",39),e.j41(64,"label",40),e.EFF(65),e.nI1(66,"mytranslate"),e.k0s()(),e.j41(67,"div",38),e.nrm(68,"input",41),e.j41(69,"label",42),e.EFF(70),e.nI1(71,"mytranslate"),e.k0s()()()(),e.DNE(72,ia,11,10,"div",43)(73,aa,6,4,"div",43)(74,ra,12,10,"ng-container",44),e.k0s(),e.j41(75,"div",45)(76,"button",46),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.parseInfoFieldForStudentObjsInExportExcel())}),e.DNE(77,la,1,0,"azt-loading-ui",47),e.EFF(78),e.nI1(79,"mytranslate"),e.k0s()()()}if(2&t){const n=e.sdS(36),o=e.XpG();e.Y8G("formGroup",o.form),e.R7$(3),e.Y8G("linkAvatar",null==o.userObj?null:o.userObj.avatar)("nameCreateAvatar",null==o.userObj?null:o.userObj.fullName)("size",96),e.R7$(),e.Y8G("uploadToCdnMenu",o.allUploadToCdnMenuTypes.AVATAR)("fileType",e.eq3(67,Ni,o.allUploadFileTypes.IMAGE))("limitSize",o.limitSize),e.R7$(4),e.Y8G("ngClass",e.lJ4(69,Ln)),e.R7$(),e.SpI(" ",e.bMT(10,41,"lang_auto_tai_len")," "),e.R7$(3),e.SpI(" ",e.bMT(13,43,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),e.R7$(3),e.JRh(e.bMT(16,45,"lang_auto_cap_nhat_anh_dai_dien")),e.R7$(5),e.SpI(" ",e.bMT(21,47,"lang_auto_ho_va_ten")," "),e.R7$(2),e.FS9("placeholder",e.bMT(23,49,"lang_auto_nhap_ho_va_ten")+"..."),e.R7$(2),e.Y8G("ngIf",o.form.controls.fullName.errors),e.R7$(),e.Y8G("ngIf",!o.isTqbDomain),e.R7$(3),e.JRh(e.bMT(29,51,"lang_auto_ngay_sinh")),e.R7$(3),e.FS9("placeholder",e.bMT(32,53,"lang_auto_ngay_sinh")),e.Y8G("max",o.maxDate)("ngxMatDatetimePicker",n),e.R7$(4),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(5),e.Y8G("ngIf",o.form.controls.birthday.errors),e.R7$(3),e.SpI(" ",e.bMT(44,55,"lang_auto_email")," "),e.R7$(2),e.Y8G("ngIf",null==o.userObj?null:o.userObj.email),e.R7$(),e.Y8G("ngIf",!(null!=o.userObj&&o.userObj.email)),e.R7$(),e.Y8G("ngIf",o.form.controls.email.invalid&&o.form.controls.email.dirty),e.R7$(),e.Y8G("ngIf",(null==o.userObj?null:o.userObj.email)&&!o.isBusinessDomain),e.R7$(3),e.SpI(" ",e.bMT(52,57,"lang_auto_so_dien_thoai")," "),e.R7$(2),e.Y8G("ngIf",null==o.userObj?null:o.userObj.phone),e.R7$(),e.Y8G("ngIf",!(null!=o.userObj&&o.userObj.phone)),e.R7$(),e.Y8G("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),e.R7$(),e.Y8G("ngIf",(null==o.userObj?null:o.userObj.phone)&&!o.isBusinessDomain),e.R7$(3),e.SpI(" ",e.bMT(60,59,"lang_auto_gioi_tinh")," "),e.R7$(6),e.SpI(" ",e.bMT(66,61,"lang_auto_nam")," "),e.R7$(5),e.SpI(" ",e.bMT(71,63,"lang_auto_nu")," "),e.R7$(2),e.Y8G("ngIf",!o.dataStudent),e.R7$(),e.Y8G("ngIf",o.dataStudent),e.R7$(),e.Y8G("ngIf",o.isTeacherDashboard),e.R7$(2),e.Y8G("disabled",!o.form.valid||!(null!=o.infoSchool&&o.infoSchool.name)||o.isTeacherDashboard&&!o.classroomGradeDesc.length),e.R7$(),e.Y8G("ngIf",o.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(79,65,"lang_auto_cap_nhat")," ")}}let _a=(()=>{var t;class a extends $.H{openSelectGradeSubjectDialog(){this.sAztDialogService.open(ji,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.multiChooseLevelSubjectService.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.multiChooseLevelSubjectService.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&r.classroomIds.length&&r.classroomDescs.length?(this.classroomGradePathValue=r.classroomIds,this.classroomGradeDesc=r.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(o=>{1==o.success?(this.multiChooseLevelSubjectService.processDataSchoolAndLevel(o.data?.schoolLevelSubjectObjs??[]),this.checkSurveySubmitted()):this.errorStatusObj(o.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(o=>{o&&1==o.success?((o.data?.objs??[]).forEach(r=>{let l=this.multiChooseLevelSubjectService.valueSurvey.find(p=>p.value==r.classId);if(l){l.value&&l.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,l.value)&&(this.classroomGradePathValue.push(l.value),this.classroomGradeDesc.push(l.desc));let p=this.dataObjs.filter(b=>b.class?.value==l?.value);p&&p.length?this.dataObjs.forEach(b=>{b.class?.value==l?.value&&r.subjectId&&b.subjectsIds?.push(r.subjectId)},this.dataObjs):this.dataObjs.push({class:l,subjectsIds:r.subjectId?[r.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}submitAvatar(o){this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:o.url??""}).subscribe(r=>{1==r.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)}))}openDialogInfoSchool(){this.sAztDialogService.open(wi,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(i=>{i&&(this.infoSchool=i)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(o=>{this.infoSchool=o.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let o=this.getFormValue(),i=this.userObj?.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),r=o.birthday?o.birthday:i.toString(),l={fullName:o.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(r),gender:Number(o.gender)??0,email:o.email,phone:o.phone};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(l).subscribe(p=>{1==p.success?(p.data&&(this.saveUserObj.emit(p.data),this.userObj=p.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(p.message??"",!0)}))}}initData(){let o=this.userObj?.birthday?this.userObj.birthday:"";this.isTqbDomain&&!this.isTeacherDashboard?this.getStudentInfo():(this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",userName:this.userObj?.userName??"",email:this.userObj?.email??"",phone:this.userObj?.phone??"",gender:1!=this.userObj?.gender?"0":"1"}),this.form.controls.birthday.setValue(o.toString()))}getStudentInfo(){this.waitDestroy(this.frontPageStudentService.apiFrontPageStudentGetExamObjsInDashboardGet().subscribe(o=>{const i=o.data?.objs??[];i.length&&this.getStudent(i[0]?.classroomObj?.id)}))}getStudent(o){o&&this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:50,name:"",programId:0,classroomId:o,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!0,getAssessment:!1}).subscribe({next:r=>{if(this.dataStudent=r.list?.[0],!this.dataStudent)return;let l=this.dataStudent?.birthday?this.dataStudent.birthday:"";this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",userName:this.dataStudent?.parentUserName??this.userObj?.userName??"",email:this.dataStudent?.email??"",phone:this.dataStudent?.phone??"",gender:1!=this.dataStudent?.gender?"0":"1",birthday:l.toString()}),this.stopStatusObj()},error:r=>{this.errorStatusObj(r.error.message,!0)}}))}getFormValue(){return this.form.getRawValue()}getErrorType(o,i){return!!this.form.controls?.[o]?.errors?.[i]&&this.form.controls?.[o]?.errors?.[i]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var o="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/confirm_account",o)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var o="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",o)}checkEnableChangeEmailOrPhone(o,i){if("email"==i){if(!o||!o.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==i&&(!o||o.length>15))return!0;return!1}ngOnInit(){this.userObj?.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj?.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(o,i,r,l,p,b,S,O,A,te){super(),this.userInfoService=o,this.userService=i,this.timeService=r,this.sAztDialogService=l,this.schoolConfigService=p,this.surveyConfigService=b,this.commonListService=S,this.multiChooseLevelSubjectService=O,this.frontPageStudentService=A,this.studentService=te,this.isTeacherDashboard=!1,this.saveUserObj=new e.bkB,this.returnUrl="",this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1,this.maxDate=Be.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=_n.b8,this.allUploadFileTypes=_n.PO,this.limitSize=5,this.userObj=this.userService.getUserObj(),this.form=new c.gE({fullName:new c.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace]}),userName:new c.MJ({value:"",disabled:!0},{nonNullable:!0,validators:[Ge.M.noWhiteSpace]}),gender:new c.MJ({value:"",disabled:!!this.userObj?.isParentViewOnly},{nonNullable:!0}),birthday:new c.MJ({value:"",disabled:!!this.userObj?.isParentViewOnly},{nonNullable:!0,validators:[c.k0.required]}),phone:new c.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[c.k0.pattern("^[0-9]{10}$")]}),email:new c.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[c.k0.email,c.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.fv),e.rXU(Ee.R),e.rXU(rn.F),e.rXU(Ue.i),e.rXU(Z.C1),e.rXU(Z.K0),e.rXU(cn.Nz),e.rXU(Ei.Y),e.rXU(Oi.Hx),e.rXU(Ai.b0))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[e.Jv_([s.vh,{provide:bt.$O,useClass:_o.fb,deps:[sn.Ju,_o.ij]},{provide:bt.vq,useFactory:yi.fJ,deps:[rn.F]},{provide:yt.U$,useValue:{floatLabel:"never"}}]),e.Vt3],decls:4,vars:3,consts:[["doneLoad",""],["birthDay",""],[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[3,"uploadComplete","uploadToCdnMenu","fileType","limitSize"],["body","",1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary"],["name","upload","size","16",3,"ngClass"],[1,"text-slate-500","mt-1","text-xs"],["header","",1,"font-medium","text-base","mr-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["class","col-span-12 lg:col-span-6",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["class","mt-1 text-xs","style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],["class","col-span-12",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["for","azt-acs-username",1,"form-label","font-medium"],["id","azt-acs-username","type","text","formControlName","userName",1,"form-control",3,"placeholder"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[1,"mt-1","text-xs",2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["name","square-pen","size","16",3,"ngClass"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],[1,"mr-1"]],template:function(o,i){if(1&o&&(e.j41(0,"div",2),e.DNE(1,Bi,1,1,"azt-loading-effect",3)(2,ca,80,70,"ng-template",null,0,e.C5r),e.k0s()),2&o){const r=e.sdS(3);e.BMQ("style",i.isMobileWebView?"transform: none !important; animation: none":"",e.$dS),e.R7$(),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[s.YU,s.bT,c.qT,c.me,c.Fm,c.BC,c.cb,Ut.$z,Mi.fg,yt.rl,yt.yw,bt.m7,bt.yF,bt.HF,bt.Uq,c.j4,c.JD,ge.K,uo.p,ve.t,ee.R,Di,J.WGl,w.wp],encapsulation:2}),a})();const mo=()=>({"dark:text-slate-500":!0});function ua(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function da(t,a){if(1&t&&(e.j41(0,"div",18),e.DNE(1,ua,3,3,"span",19),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.form.controls.oldPassword.errors.required)}}function ma(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function pa(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ga(t,a){if(1&t&&(e.j41(0,"div",18),e.DNE(1,ma,3,3,"span",19)(2,pa,3,3,"span",19),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.form.controls.newPassword.errors.required),e.R7$(),e.Y8G("ngIf",n.form.controls.newPassword.errors.minlength)}}function ha(t,a){if(1&t){const n=e.RV6();e.j41(0,"a",20),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.forgotPassword())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_quen_mat_khau")))}function fa(t,a){1&t&&e.nrm(0,"azt-loading-ui",21)}let va=(()=>{var t;class a extends $.H{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let o=this.getFormValue(),i={password:o.newPassword,oldPassword:o.oldPassword};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(i).subscribe(r=>{1==r.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(r.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let o=this.commonService.getMyParam(this.activeRoute,"roleType"),i=this.commonService.getMyParam(this.activeRoute,"modeType");var r="?return_url="+encodeURIComponent(`/auth/account-setting/${o}/${i}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",r)}getFormValue(){return this.form.getRawValue()}constructor(o,i){super(),this.userInfoService=o,this.activeRoute=i,this.showPasswordOld=!1,this.showPasswordNew=!1,this.form=new c.gE({oldPassword:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),newPassword:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(6)]})})}ngOnInit(){}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.fv),e.rXU(X.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-password"]],features:[e.Vt3],decls:32,vars:32,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_","class","text-primary font-medium inline-block mr-auto",3,"click",4,"ngIf"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5),e.nrm(8,"input",6),e.nI1(9,"mytranslate"),e.j41(10,"button",7),e.bIt("click",function(){return i.togglePasswordOld()}),e.nrm(11,"lucide-icon",8),e.k0s()(),e.j41(12,"div",9),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.DNE(15,da,2,1,"div",10),e.k0s(),e.j41(16,"div",3)(17,"label",11),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.j41(20,"div",5),e.nrm(21,"input",12),e.nI1(22,"mytranslate"),e.j41(23,"button",13),e.bIt("click",function(){return i.togglePasswordNew()}),e.nrm(24,"lucide-icon",8),e.k0s()(),e.DNE(25,ga,3,2,"div",10),e.k0s()(),e.j41(26,"div",14),e.DNE(27,ha,3,3,"a",15),e.j41(28,"button",16),e.bIt("click",function(){return i.parseInfoFieldForStudentObjsInExportExcel()}),e.DNE(29,fa,1,0,"azt-loading-ui",17),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("formGroup",i.form),e.R7$(4),e.SpI(" ",e.bMT(6,18,"lang_auto_mat_khau_hien_tai")," "),e.R7$(3),e.FS9("placeholder",e.bMT(9,20,"lang_auto_nhap_mat_khau")+"..."),e.Y8G("type",i.showPasswordOld?"text":"password"),e.R7$(3),e.Y8G("name",i.showPasswordOld?"eye":"eye-off")("ngClass",e.lJ4(30,mo)),e.R7$(2),e.SpI(" ",e.bMT(14,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),e.R7$(2),e.Y8G("ngIf",i.form.controls.oldPassword.errors&&(i.form.controls.oldPassword.dirty||i.form.controls.oldPassword.touched)),e.R7$(3),e.JRh(e.bMT(19,24,"lang_auto_mat_khau_moi")),e.R7$(3),e.FS9("placeholder",e.bMT(22,26,"lang_auto_nhap_mat_khau")+"..."),e.Y8G("type",i.showPasswordNew?"text":"password"),e.R7$(3),e.Y8G("name",i.showPasswordNew?"eye":"eye-off")("ngClass",e.lJ4(31,mo)),e.R7$(),e.Y8G("ngIf",i.form.controls.newPassword.errors&&(i.form.controls.newPassword.dirty||i.form.controls.newPassword.touched)),e.R7$(2),e.Y8G("ngIf",!i.isBusinessDomain),e.R7$(),e.Y8G("disabled",i.form.invalid),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(31,28,"lang_auto_cap_nhat")," "))},dependencies:[s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ve.t,ee.R,J.WGl,w.wp],encapsulation:2}),a})();var Fe=_(64396);function ba(t,a){1&t&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auth_remove_teacher_role")))}function ya(t,a){if(1&t&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function Ca(t,a){if(1&t&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function Ia(t,a){1&t&&e.nrm(0,"azt-loading-ui",7)}let ka=(()=>{var t;class a extends $.H{becomeTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(o=>{1==o.success?this.redirectByRoleService.redirectLoginByRole(""):this.errorStatusObj(o.message??"",!0)}))}becomeStudent(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(o=>{1==o.success?this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/classroom/0")):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(o,i){super(),this.redirectByRoleService=o,this.userInfoService=i,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(Z.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[e.Vt3],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"h5"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,ba,3,3,"span",3)(4,ya,3,3,"span",3)(5,Ca,3,3,"span",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return i.isTeacherDashboard?i.becomeStudent():i.becomeTeacher()}),e.DNE(7,Ia,1,0,"azt-loading-ui",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()),2&o&&(e.R7$(3),e.Y8G("ngIf",i.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",!i.isTeacherDashboard&&!i.isMobileWebView),e.R7$(),e.Y8G("ngIf",!i.isTeacherDashboard&&i.isMobileWebView),e.R7$(2),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[s.bT,ee.R,w.wp],encapsulation:2}),a})();var Sa=_(23356);function xa(t,a){if(1&t&&(e.j41(0,"option",10),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=a.$implicit,o=e.XpG();e.Y8G("value",n)("selected",n==o.form.controls.dateFormat.value),e.R7$(),e.Lme(" ",n," - ",e.bMT(2,4,"lang_auth_user_setting_unit_"+n)," ")}}function Ra(t,a){1&t&&e.nrm(0,"azt-loading-ui",11)}let wa=(()=>{var t;class a extends $.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(i=>{1==i.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(i.message??"",!0)}))}constructor(o,i,r){super(),this.timeService=o,this.userUnitService=i,this.configService=r,this.form=new c.gE({dateFormat:new c.MJ("",[c.k0.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var o=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(o??null)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(rn.F),e.rXU(Z.lV),e.rXU(Sa.u))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-unit"]],features:[e.Vt3],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[3,"value","selected"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"select",5),e.DNE(8,xa,3,6,"option",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return i.saveUnitObj()}),e.DNE(11,Ra,1,0,"azt-loading-ui",9),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("formGroup",i.form),e.R7$(4),e.SpI(" ",e.bMT(6,5,"lang_auth_user_setting_unit_format_date")," "),e.R7$(3),e.Y8G("ngForOf",i.formatDataObjs),e.R7$(3),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[s.Sq,s.bT,c.qT,c.xH,c.y7,c.wz,c.BC,c.cb,c.j4,c.JD,ve.t,ee.R,w.wp],encapsulation:2}),a})();var Ta=_(59224),un=_(96699),Yt=_(50589),Fa=_(21713),Qt=_(85969);const ja=t=>[t],Ea=()=>({backTo:"/auth/account-setting/0/3?tab=0"}),Oa=()=>({"flex-none":!0});function Aa(t,a){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-effect",4),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("currentStatusObj",n.statusObj)}}function Ma(t,a){if(1&t&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"p",14),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"a",15),e.nI1(8,"navigationLocalize"),e.j41(9,"b"),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"p",17),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",18),e.nrm(16,"azt-create-avatar",19),e.j41(17,"div",20)(18,"div",21),e.EFF(19),e.k0s()()()(),e.j41(20,"p",22),e.EFF(21),e.nI1(22,"mytranslate"),e.j41(23,"b"),e.EFF(24),e.nI1(25,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()(),e.j41(26,"div",23)(27,"b",24),e.EFF(28),e.nI1(29,"number"),e.k0s()()()()()),2&t){let n;const o=a.$implicit;e.R7$(5),e.SpI(" ",e.bMT(6,13,"lang_auto_de_thi"),": "),e.R7$(2),e.Y8G("routerLink",e.eq3(25,ja,e.bMT(8,15,"/admin/testbank/exam-results-list/"+(null!==(n=o.examCategoryId)&&void 0!==n?n:0)+"/"+o.examId+"/0")))("queryParams",e.lJ4(27,Ea)),e.R7$(3),e.JRh(o.examName),e.R7$(3),e.SpI("",e.bMT(14,17,"lang_history_sold_exam_relative_user"),":"),e.R7$(3),e.Y8G("nameCreateAvatar",o.relativeName)("size",32)("showTooltip",!1)("linkAvatar",o.relativeAvatar),e.R7$(3),e.SpI(" ",o.relativeName," "),e.R7$(2),e.SpI(" ",e.bMT(22,19,"lang_history_sold_exam_create_at"),": "),e.R7$(3),e.JRh(e.bMT(25,21,o.createdAt)),e.R7$(4),e.SpI("",e.bMT(29,23,o.money),"\u0111")}}function Pa(t,a){if(1&t&&(e.j41(0,"drag-scroll",8),e.DNE(1,Ma,30,28,"div",9),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.examHistorySoldObjs)}}function Ga(t,a){1&t&&(e.j41(0,"div",25),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_withdraw_not_have_history_sold_exam")," "))}function $a(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",26)(1,"button",27),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.getExamSoldHistory())}),e.j41(2,"span",28),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.nrm(5,"lucide-icon",29),e.k0s()()}2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_auto_xem_them")," "),e.R7$(2),e.Y8G("ngClass",e.lJ4(4,Oa)))}function za(t,a){if(1&t&&(e.j41(0,"div",3),e.DNE(1,Pa,2,1,"drag-scroll",5)(2,Ga,3,3,"div",6),e.k0s(),e.DNE(3,$a,6,5,"div",7)),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",0!=n.examHistorySoldObjs.length),e.R7$(),e.Y8G("ngIf",0==n.examHistorySoldObjs.length),e.R7$(),e.Y8G("ngIf",n.nextPage)}}let La=(()=>{var t;class a extends $.H{getExamSoldHistory(){this.initStatusObj(),this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetObjsGet(this.nextPage).subscribe(o=>{o.success?(this.examHistorySoldObjs=o.data?.objs??[],this.nextPage=o.data?.nextPage??void 0,this.totalSoldExam=o.data?.total??0,this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,vt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getExamSoldHistory()}))}constructor(o,i){super(),this.activeRoute=o,this.examPaymentHistoryService=i,this.nextPage="",this.examHistorySoldObjs=[],this.totalSoldExam=0}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(X.nX),e.rXU(Qt.hl))},t.\u0275cmp=e.VBU({type:t,selectors:[["view-exam-sold-history"]],features:[e.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],["class","col-span-12 flex flex-wrap sm:flex-row sm:flex-nowrap items-center",4,"ngIf"],[2,"height","100%"],["class","pb-2",4,"ngFor","ngForOf"],[1,"pb-2"],[1,"box","p-2"],[1,"flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2",2,"white-space","normal"],[3,"routerLink","queryParams"],[1,"mt-2","flex"],[1,"flex",2,"align-items","center"],[1,"dropdown-toggle","w-full","h-10","rounded-full","flex","trigger-menu","ml-2",2,"align-items","center"],[3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"px-2"],[1,"font-medium"],[1,"mt-2"],[1,"font-medium","md:flex","text-xs"],[1,"p-2","bg-success","text-white",2,"border-radius","10px"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"btn","btn-outline-secondary","btn-transparent","mt-2","mx-auto",3,"click"],[1,"mr-2"],["name","chevron-down","size","20",3,"ngClass"]],template:function(o,i){if(1&o&&(e.j41(0,"div",1),e.DNE(1,Aa,2,1,"div",2)(2,za,4,3,"ng-template",null,0,e.C5r),e.k0s()),2&o){const r=e.sdS(3);e.R7$(),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[X.Wk,s.YU,s.Sq,s.bT,ge.K,uo.p,J.WGl,Vt.jd,s.QX,w.F2,w.wp,w.bH],encapsulation:2}),a})();var Da=_(65106),Na=_(25539),po=_(37497),Ba=_(50282),Dn=_(29660),Va=_(9280),Wt=_(30683),rt=_(94743);const Ua=t=>({"mt-2 sm:mt-0":t}),Ya=t=>({"azt-text-primary":t}),go=()=>({"mr-2 text-slate-600 dark:text-slate-500 flex-none":!0}),ho=()=>({"mr-2 text-slate-600 dark:text-slate-500":!0}),Qa=t=>({"azt-text-primary azt-font-bold":t});function Wa(t,a){if(1&t&&(e.j41(0,"div",31),e.nrm(1,"input",32),e.j41(2,"label",33),e.EFF(3),e.k0s()()),2&t){let n;const o=a.$implicit,i=a.index,r=e.XpG();e.Y8G("ngClass",e.eq3(5,Ua,0!==i)),e.R7$(),e.FS9("id","tag_"+o.id),e.FS9("value",o.id),e.R7$(),e.FS9("for","tag_"+o.id),e.R7$(),e.SpI(" ",null!==(n=o[r.commonService.getCurrentLang()+"Name"])&&void 0!==n?n:o.enName," ")}}function Xa(t,a){if(1&t&&(e.j41(0,"option",34),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=a.$implicit,o=e.XpG();e.Y8G("value",null==n.schoolLevel?null:n.schoolLevel.id)("selected",(null==n.schoolLevel?null:n.schoolLevel.id)==o.form.controls.schoolLevel.value),e.R7$(),e.SpI(" ",e.bMT(2,3,null==n.schoolLevel?null:n.schoolLevel.key)," ")}}function qa(t,a){if(1&t&&(e.j41(0,"option",34),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=a.$implicit,o=e.XpG();e.Y8G("value",n.id)("selected",n.id==o.form.controls.schoolSubject.value),e.R7$(),e.SpI(" ",e.bMT(2,3,n.key)," ")}}function Ja(t,a){1&t&&(e.qex(0),e.j41(1,"div",37)(2,"span",38),e.nrm(3,"azt-loading-ui"),e.k0s()(),e.bVm())}function Ha(t,a){1&t&&(e.j41(0,"span",47),e.nrm(1,"lucide-icon",48),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(1,go)))}function Ka(t,a){if(1&t){const n=e.RV6();e.qex(0),e.DNE(1,Ha,2,2,"span",45),e.j41(2,"span",46),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,r=e.XpG(4);return e.Njj(r.onPressNode(i))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()}if(2&t){const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",n.isLeaf),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}function Za(t,a){if(1&t){const n=e.RV6();e.j41(0,"span",49),e.nrm(1,"lucide-icon",50),e.k0s(),e.j41(2,"string",51),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,r=e.XpG(4);return e.Njj(r.onPressNode(i))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngClass",e.lJ4(4,ho)),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}function es(t,a){if(1&t&&(e.j41(0,"mat-tree-node",43),e.nrm(1,"button",44),e.DNE(2,Ka,5,4,"ng-container",36)(3,Za,5,5,"ng-template",null,2,e.C5r),e.k0s()),2&t){const n=a.$implicit,o=e.sdS(4),i=e.XpG(4);e.Y8G("ngClass",e.eq3(3,Ya,i.form.controls.classifyMaterials.value==n.id)),e.R7$(2),e.Y8G("ngIf",n.isLeaf)("ngIfElse",o)}}function ts(t,a){if(1&t&&(e.j41(0,"button",54),e.nrm(1,"lucide-icon",55),e.k0s()),2&t){const n=e.XpG().$implicit,o=e.XpG(4);e.BMQ("aria-label","Toggle "+n.item),e.R7$(),e.Y8G("name",o.treeControl.isExpanded(n)?"chevron-down":"chevron-right")}}function ns(t,a){1&t&&(e.j41(0,"span",47),e.nrm(1,"lucide-icon",48),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(1,go)))}function os(t,a){if(1&t){const n=e.RV6();e.qex(0),e.DNE(1,ns,2,2,"span",45),e.j41(2,"span",56),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,r=e.XpG(4);return e.Njj(r.onPressNode(i))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()}if(2&t){const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",n.isLeaf),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}function is(t,a){if(1&t){const n=e.RV6();e.j41(0,"span",49),e.nrm(1,"lucide-icon",50),e.k0s(),e.j41(2,"span",57),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,r=e.XpG(4);return e.Njj(r.onPressNode(i))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngClass",e.lJ4(4,ho)),e.R7$(2),e.SpI(" ",e.bMT(4,2,n.item)," ")}}function as(t,a){1&t&&e.nrm(0,"azt-loading-ui",58)}function ss(t,a){if(1&t&&(e.j41(0,"mat-tree-node",43),e.DNE(1,ts,2,2,"button",52)(2,os,5,4,"ng-container",36)(3,is,5,5,"ng-template",null,3,e.C5r)(5,as,1,0,"azt-loading-ui",53),e.k0s()),2&t){const n=a.$implicit,o=e.sdS(4),i=e.XpG(4);e.Y8G("ngClass",e.eq3(5,Qa,i.form.controls.classifyMaterials.value==n.id)),e.R7$(),e.Y8G("ngIf",!n.isLeaf),e.R7$(),e.Y8G("ngIf",n.isLeaf)("ngIfElse",o),e.R7$(3),e.Y8G("ngIf",n.isLoading)}}function rs(t,a){if(1&t&&(e.qex(0),e.j41(1,"mat-tree",40),e.DNE(2,es,5,5,"mat-tree-node",41)(3,ss,6,7,"mat-tree-node",42),e.k0s(),e.bVm()),2&t){const n=e.XpG(3);e.R7$(),e.Y8G("dataSource",n.dataSource)("treeControl",n.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",n.hasChild)}}function ls(t,a){1&t&&(e.j41(0,"div",37)(1,"div",59),e.nrm(2,"azt-svg-icon",60),e.j41(3,"p",61),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(2),e.Y8G("size",84),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function cs(t,a){if(1&t&&(e.j41(0,"ng-scrollbar",39),e.DNE(1,rs,4,3,"ng-container",36)(2,ls,6,4,"ng-template",null,1,e.C5r),e.k0s()),2&t){const n=e.sdS(3),o=e.XpG(2);e.Y8G("visibility","hover"),e.R7$(),e.Y8G("ngIf",o.dataSource.data.length)("ngIfElse",n)}}function _s(t,a){if(1&t&&(e.j41(0,"div",16)(1,"div",35),e.DNE(2,Ja,4,0,"ng-container",36)(3,cs,4,3,"ng-template",null,0,e.C5r),e.k0s()()),2&t){const n=e.sdS(4),o=e.XpG();e.R7$(2),e.Y8G("ngIf",o.loadingUnitSubject)("ngIfElse",n)}}function us(t,a){1&t&&e.nrm(0,"azt-loading-ui",62)}let ds=(()=>{var t;class a extends ln._{handleCloseDialog(){this.dialogRef.close()}initData(o){let i=this.form.controls.schoolLevel.value,r=this.form.controls.schoolSubject.value;this.dataSource=new Dn.d1(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!o?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(i,r).then(l=>{if(this.dataSource.data=l,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let p=this.data.questionShared?.knowledgeParentIds;for(let b=0;b<p.length;b++)(S=>{setTimeout(()=>{let O=this.dataSource.getNode(p[b]);O&&this.treeControl.expand(O)},500*b)})()}this.loadingUnitSubject=!1}))}onPressNode(o){if(o){if(o.isLeaf){let i=this.commonService.myClone(o);for(this.breadcrumbs=[i];i.prNode;)if(this.breadcrumbs.unshift(i.prNode),i=i.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(o)}}else this.breadcrumbs=[]}chooseLeafFolder(o){o.isLeaf?this.form.controls.classifyMaterials.setValue(o.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.initStatusObj();let o={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},i={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(o.questionId??0,o).subscribe(r=>{r.success?1==r.data?.status&&(this.dialogRef.close(i),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(r.message??"",!0)}))}patchValueForm(){let o=12,i=40,r=1,l=0;this.data.configShareQuestionLog.classifyMaterials?(r=this.data.configShareQuestionLog.awarenessLevel??1,o=this.data.configShareQuestionLog.schoolLevel??12,i=this.data.configShareQuestionLog.schoolSubject??40,l=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(o=this.data.questionShared.levelId??12,i=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(r=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(o),this.form.controls.awarenessLevel.setValue(r),this.form.controls.schoolLevel.setValue(o),this.form.controls.schoolSubject.setValue(i),this.form.controls.classifyMaterials.setValue(l),this.initData()}filterSchoolSubject(o){if(this.form.controls.classifyMaterials.setValue(0),0==this.subjectSelectedList.length)this.filterSubject(o??1);else{let i=!1;for(let r=0;r<this.subjectSelectedList.length;r++)o&&(o<(this.subjectSelectedList[r].from??0)||o>(this.subjectSelectedList[r].to??0))&&(i=!0);i&&(this.filterSubject(o??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(o){this.subjectSelectedList=this.data.schoolLevelAndSubjectObjs.find(i=>i.schoolLevel?.id==o)?.schoolSubjectObjs??[]}ngOnInit(){super.ngOnInit(),this.patchValueForm()}constructor(o,i,r,l,p){super(p,l),this.documentConfigService=o,this.database=i,this.testMarketQuestionService=r,this.dialogRef=l,this.data=p,this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=b=>b.level,this.isExpandable=b=>b.expandable,this.hasChild=(b,S)=>S.expandable,this.treeControl=new Ba.XW(this.getLevel,this.isExpandable),this.dataSource=new Dn.d1(this.treeControl,i),this.form=new c.gE({awarenessLevel:new c.MJ(1,{nonNullable:!0}),schoolLevel:new c.MJ(0,{nonNullable:!0}),schoolSubject:new c.MJ(0,{nonNullable:!0}),classifyMaterials:new c.MJ(0,{nonNullable:!0})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Va.x_),e.rXU(Dn._8),e.rXU(un.e2),e.rXU(st.CP,8),e.rXU(st.Vh))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-edit-share-question"]],features:[e.Vt3],decls:53,vars:37,consts:[["doneLoading",""],["noDataSource",""],["notIsLeaf",""],["notIsLeafChild",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],["name","file-text","size","24",3,"ngClass"],["matTreeNodeToggle","",1,"cursor-pointer"],["name","folder","size","24",3,"ngClass"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["class","ml-3",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],["size","20",3,"name"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"ml-3"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h3",7),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()(),e.j41(6,"div",5)(7,"div",8)(8,"form",9)(9,"div",10)(10,"div",11)(11,"div",12)(12,"label",13),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",14),e.DNE(16,Wa,4,7,"div",15),e.k0s()(),e.j41(17,"div",16)(18,"label",13),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"label",21),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"select",22),e.bIt("change",function(){return i.filterSchoolSubject(i.form.controls.schoolLevel.value)}),e.j41(29,"option",23),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s(),e.DNE(32,Xa,3,5,"option",24),e.k0s()()(),e.j41(33,"div",19)(34,"div",20)(35,"label",21),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s(),e.j41(38,"select",25),e.bIt("change",function(){return i.initData("change")}),e.j41(39,"option",23),e.EFF(40),e.nI1(41,"mytranslate"),e.k0s(),e.DNE(42,qa,3,5,"option",24),e.k0s()()()()()()(),e.j41(43,"div",11),e.DNE(44,_s,5,2,"div",26),e.k0s()()()()(),e.j41(45,"div",27)(46,"button",28),e.bIt("click",function(){return i.handleCloseDialog()}),e.EFF(47),e.nI1(48,"mytranslate"),e.k0s(),e.j41(49,"button",29),e.bIt("click",function(){return i.confirmAction()}),e.DNE(50,us,1,0,"azt-loading-ui",30),e.EFF(51),e.nI1(52,"mytranslate"),e.k0s()()()),2&o&&(e.R7$(4),e.SpI(" ",e.bMT(5,19,"lang_test_market_edit_shared_question")," "),e.R7$(4),e.Y8G("formGroup",i.form),e.R7$(5),e.SpI(" ",e.bMT(14,21,"lang_auto_muc_do_nhan_biet")," "),e.R7$(3),e.Y8G("ngForOf",i.data.questionTags),e.R7$(3),e.SpI(" ",e.bMT(20,23,"lang_auto_don_vi_kien_thuc")," "),e.R7$(7),e.SpI(" ",e.bMT(27,25,"lang_auto_lop_hoc")," "),e.R7$(3),e.Y8G("selected",0==i.form.controls.schoolLevel.value),e.R7$(),e.SpI("",e.bMT(31,27,"lang_auto_---chon_khoi"),"---"),e.R7$(2),e.Y8G("ngForOf",i.data.schoolLevelAndSubjectObjs),e.R7$(4),e.SpI(" ",e.bMT(37,29,"lang_auto_mon_hoc")," "),e.R7$(2),e.BMQ("disabled",0==i.form.controls.schoolLevel.value?"":null),e.R7$(),e.Y8G("selected",0==i.form.controls.schoolSubject.value),e.R7$(),e.SpI("",e.bMT(41,31,"lang_auto_---chon_mon"),"---"),e.R7$(2),e.Y8G("ngForOf",i.subjectSelectedList),e.R7$(2),e.Y8G("ngIf",0!=i.form.controls.schoolSubject.value),e.R7$(3),e.SpI(" ",e.bMT(48,33,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",i.statusObj.loading||!i.form.controls.classifyMaterials.value),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(52,35,"lang_auto_sua")," "))},dependencies:[s.YU,s.Sq,s.bT,c.qT,c.xH,c.y7,c.me,c.wz,c.Fm,c.BC,c.cb,Ut.iY,Wt.yI,Wt.yF,Wt.pO,Wt.lQ,Wt.d6,c.j4,c.JD,ve.t,ee.R,rt.m,ao.Yh,J.WGl,w.wp],encapsulation:2}),a})();var ms=_(50065),ps=_(32639),fo=_(22613),gs=_(9570);const hs=t=>({"selected-border-box":t});function fs(t,a){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-effect",4),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("currentStatusObj",n.statusObj)}}function vs(t,a){1&t&&(e.j41(0,"span",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_status_new")," "))}function bs(t,a){1&t&&(e.j41(0,"span",31),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_status_approved")," "))}function ys(t,a){if(1&t&&(e.j41(0,"span",32),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(),e.Lme("",e.bMT(2,2,"lang_auto_status_rejected"),"",n.rejectedReason?e.bMT(3,4," - "+n.rejectedReason):"","")}}function Cs(t,a){if(1&t){const n=e.RV6();e.j41(0,"a",33),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,r=e.XpG(3);return e.Njj(r.editQuestionShared(i))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_sua")," "))}function Is(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){const i=e.eBV(n).index,r=e.XpG(3);return e.Njj(r.selected=i)}),e.j41(1,"div",14)(2,"div",15)(3,"p",16),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",17),e.nrm(7,"azt-dynamic-hook",18),e.k0s()(),e.j41(8,"div",19)(9,"div",20)(10,"p",21),e.EFF(11),e.nI1(12,"mytranslate"),e.DNE(13,vs,3,3,"span",22)(14,bs,3,3,"span",23)(15,ys,4,6,"span",24),e.k0s(),e.j41(16,"p",21),e.EFF(17),e.nI1(18,"mytranslate"),e.j41(19,"b"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()(),e.j41(22,"p",21),e.EFF(23),e.nI1(24,"mytranslate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.j41(28,"p",25),e.EFF(29),e.nI1(30,"mytranslate"),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div",26)(33,"div",27)(34,"a",28),e.bIt("click",function(){const i=e.eBV(n).$implicit,r=e.XpG(3);return e.Njj(r.viewQuestionDetail(i))}),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s(),e.DNE(37,Cs,3,3,"a",29),e.k0s()()()()()}if(2&t){let n;const o=a.$implicit,i=a.index,r=e.XpG(3);e.Y8G("ngClass",e.eq3(33,hs,i==r.selected)),e.R7$(4),e.SpI("",e.bMT(5,15,"lang_auto_cau_hoi"),":"),e.R7$(3),e.Y8G("content",null!==(n=null==o.question?null:o.question.content)&&void 0!==n?n:""),e.R7$(4),e.SpI(" ",e.bMT(12,17,"lang_auto_trang_thai"),": "),e.R7$(2),e.Y8G("ngIf","new"==o.status),e.R7$(),e.Y8G("ngIf","approved"==o.status),e.R7$(),e.Y8G("ngIf","rejected"==o.status),e.R7$(2),e.SpI(" ",e.bMT(18,19,"lang_auto_muc_do_nhan_biet"),": "),e.R7$(3),e.JRh(e.bMT(21,21,o.questionTagName)),e.R7$(3),e.SpI(" ",e.bMT(24,23,"lang_auto_don_vi_kien_thuc"),": "),e.R7$(3),e.JRh(e.bMT(27,25,o.knowledgeName)),e.R7$(3),e.Lme("",e.bMT(30,27,o.levelName)," - ",e.bMT(31,29,o.subjectName),""),e.R7$(6),e.SpI(" ",e.bMT(36,31,"lang_test_market_view_question")," "),e.R7$(2),e.Y8G("ngIf","approved"!=o.status)}}function ks(t,a){if(1&t&&(e.j41(0,"drag-scroll",11),e.DNE(1,Is,38,35,"div",12),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.shareQuestionList)}}function Ss(t,a){1&t&&(e.j41(0,"div",34),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_co_cau_hoi_nao")," "))}function xs(t,a){if(1&t&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.SpI(" ",n.totalShareQuestion+" "+e.bMT(2,1,"lang_auto_cau_hoi")," ")}}function Rs(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",3),e.DNE(1,ks,2,1,"drag-scroll",5)(2,Ss,3,3,"div",6),e.k0s(),e.j41(3,"div",7)(4,"div",8)(5,"azt-paging",9),e.bIt("goToPaginationPage",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.getData(i))}),e.k0s()(),e.DNE(6,xs,3,3,"div",10),e.k0s()}if(2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",0!=n.totalShareQuestion),e.R7$(),e.Y8G("ngIf",0==n.totalShareQuestion),e.R7$(3),e.Y8G("pageObj",n.pageObj),e.R7$(),e.Y8G("ngIf",0!=n.totalShareQuestion)}}let ws=(()=>{var t;class a extends $.H{editQuestionShared(o){this.sAztDialogService.open(ds,{width:"95vw",data:{questionShared:o,schoolLevelAndSubjectObjs:this.schoolLevelAndSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:o.levelId,schoolSubject:o.subjectId,awarenessLevel:o.questionTagId,questionId:o.questionId,classifyMaterials:o.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(r=>{if(r){let l=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=l??"",this.getData(this.pageObj.page)}})}viewQuestionDetail(o){this.sAztDialogService.open(ms._,{width:"700px",data:{obj:o},restoreFocus:!1}).afterClosed().subscribe(r=>{})}getData(o){this.initStatusObj(),this.pageObj.setPageNumber(o),this.selected=-1,this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,o,void 0).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.shareQuestionList=i.data?.objs??[];let r=i.data?.total??1;this.totalShareQuestion=r,this.pageObj.setTotalPages(r);let l=this.shareQuestionList.filter(p=>p.question).map(p=>p.question).filter(this.commonService.notEmpty);this.loadQuest(this.shareQuestionList,l,p=>{this.shareQuestionList=p,this.stopStatusObj()})}))}loadQuest(o,i,r){const l=this.commonService.castJsonToClassObjs(Na.I,JSON.stringify(i));this.questionRenderService.parseRenderQuestions(l??[],p=>{},this.configRenderService).then(p=>{p.forEach(b=>{let S=o.find(O=>O.question?.id==b.id);S&&(S.question=this.commonService.castObj(b))}),r(o)}).catch(p=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),r(o)})}ngOnChanges(o){o.fillStatus&&!o.fillStatus.firstChange&&this.getData(1)}ngOnInit(){this.waitDestroy((0,vt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(o,i,r,l,p){super(),this.testMarketQuestionService=o,this.activeRoute=i,this.questionRenderService=r,this.browserStorageService=l,this.sAztDialogService=p,this.fillStatus="",this.shareQuestionList=[],this.configRenderService=new Da.y(!0),this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.schoolLevelAndSubjectObjs=[],this.questionTags=[],this.isWithDraw=!1,this.selected=-1,this.pageObj=new po.d(10)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(un.e2),e.rXU(X.nX),e.rXU(ps.g),e.rXU(Yt.z),e.rXU(Ue.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["view-question-shared"]],inputs:{fillStatus:"fillStatus"},features:[e.Vt3,e.OA$],decls:4,vars:2,consts:[["doneLoading",""],[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],["class","w-20 mt-3 sm:mt-0",4,"ngIf"],[2,"height","100%"],["class","pb-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pb-2",3,"click","ngClass"],[1,"box","p-2"],[1,"px-2","pb-2","border-b","border-slate-300"],[2,"font-weight","450"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],[1,"mt-2","flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"mt-2",2,"font-weight","450"],[1,"font-medium","md:flex","text-xs"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(o,i){if(1&o&&(e.j41(0,"div",1),e.DNE(1,fs,2,1,"div",2)(2,Rs,7,4,"ng-template",null,0,e.C5r),e.k0s()),2&o){const r=e.sdS(3);e.R7$(),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[s.YU,s.Sq,s.bT,ge.K,fo.q,gs.x,Vt.jd,w.wp],encapsulation:2}),a})();var vo=_(17818);const dn=t=>({"bg-primary text-white no-hover":t}),Ts=(t,a,n)=>({"bg-danger":t,"bg-success":a,"bg-warning":n});function Fs(t,a){if(1&t&&(e.j41(0,"div",13),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.Y8G("ngClass",e.sMw(8,Ts,"rejected"==n.fillStatus,"approved"==n.fillStatus,"new"==n.fillStatus)),e.R7$(),e.SpI(" ","new"==n.fillStatus?e.bMT(2,2,"lang_status_new_icon"):"approved"==n.fillStatus?e.bMT(3,4,"lang_status_approved_icon"):e.bMT(4,6,"lang_status_rejected_icon")," ")}}let js=(()=>{var t;class a extends $.H{filterStatus(o){this.fillStatus=o??"",this.changeFilterStatus.emit(o??"")}ngOnInit(){}constructor(){super(),this.fillStatus="",this.changeFilterStatus=new e.bkB}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["filter-question-shared-status"]],inputs:{fillStatus:"fillStatus"},outputs:{changeFilterStatus:"changeFilterStatus"},features:[e.Vt3],decls:25,vars:26,consts:[["filterMenu","matMenu"],[1,"w-full","text-right"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","box","relative",3,"matMenuTriggerFor"],["name","filter","size","12"],["class","absolute text-white rounded-full font-bold","style","top: -5px; right: -5px; font-size: 7px; overflow: hidden; width: 15px; height: 15px; line-height: 15px; text-align: center",3,"ngClass",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],[1,"absolute","text-white","rounded-full","font-bold",2,"top","-5px","right","-5px","font-size","7px","overflow","hidden","width","15px","height","15px","line-height","15px","text-align","center",3,"ngClass"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"button",3),e.nrm(3,"lucide-icon",4),e.DNE(4,Fs,5,12,"div",5),e.k0s()(),e.j41(5,"mat-menu",6,0)(7,"div",7)(8,"ul",8)(9,"li")(10,"span",9),e.bIt("click",function(){return e.eBV(r),e.Njj(i.filterStatus(void 0))}),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()(),e.j41(13,"li")(14,"span",10),e.bIt("click",function(){return e.eBV(r),e.Njj(i.filterStatus("new"))}),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"li")(18,"span",11),e.bIt("click",function(){return e.eBV(r),e.Njj(i.filterStatus("approved"))}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()(),e.j41(21,"li")(22,"span",12),e.bIt("click",function(){return e.eBV(r),e.Njj(i.filterStatus("rejected"))}),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()()()()}if(2&o){const r=e.sdS(6);e.R7$(2),e.Y8G("matMenuTriggerFor",r),e.R7$(2),e.Y8G("ngIf",i.fillStatus),e.R7$(6),e.Y8G("ngClass",e.eq3(18,dn,!i.fillStatus)),e.R7$(),e.SpI(" ",e.bMT(12,10,"lang_auto_tat_ca")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(20,dn,"new"==i.fillStatus)),e.R7$(),e.SpI(" ",e.bMT(16,12,"lang_auto_status_new")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(22,dn,"approved"==i.fillStatus)),e.R7$(),e.SpI(" ",e.bMT(20,14,"lang_auto_status_approved")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(24,dn,"rejected"==i.fillStatus)),e.R7$(),e.SpI(" ",e.bMT(24,16,"lang_auto_status_rejected")," ")}},dependencies:[s.YU,s.bT,vo.kk,vo.Cp,J.WGl,w.wp],encapsulation:2}),a})();function Es(t,a){1&t&&e.nrm(0,"azt-loading-ui",10)}function Os(t,a){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.totalShared),"")}}function As(t,a){1&t&&e.nrm(0,"azt-loading-ui",10)}function Ms(t,a){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.totalSoldExam),"")}}let Ps=(()=>{var t;class a extends $.H{withdrawBalance(){this.openWithdrawForm.emit(!0)}ngOnInit(){}constructor(){super(),this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0,this.totalShared=0,this.totalSoldExam=0,this.totalApproved=0,this.totalUsed=0,this.totalBalance=0,this.openWithdrawForm=new e.bkB}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["withdraw-information"]],inputs:{loadingSoldExamCount:"loadingSoldExamCount",loadingSharedQuestionCount:"loadingSharedQuestionCount",totalShared:"totalShared",totalSoldExam:"totalSoldExam",totalApproved:"totalApproved",totalUsed:"totalUsed",totalBalance:"totalBalance"},outputs:{openWithdrawForm:"openWithdrawForm"},features:[e.Vt3],decls:38,vars:36,consts:[[1,"box","p-5","w-full"],[1,"justify-between","items-center",3,"ngClass"],[1,"text-md","items-center"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],[1,"text-md","items-center","mt-2"],[3,"ngClass"],[1,"text-md","items-center",3,"ngClass"],[1,"text-right",3,"ngClass"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md",3,"click","disabled"],["type","bootstrap-spinner",1,"loading-upload","mr-2"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),e.EFF(4),e.nI1(5,"mytranslate"),e.j41(6,"b"),e.DNE(7,Es,1,0,"azt-loading-ui",3)(8,Os,3,3,"span",4),e.k0s()(),e.j41(9,"h3",5),e.EFF(10),e.nI1(11,"mytranslate"),e.j41(12,"b"),e.DNE(13,As,1,0,"azt-loading-ui",3)(14,Ms,3,3,"span",4),e.k0s()()(),e.j41(15,"div",6)(16,"h3",2),e.EFF(17),e.nI1(18,"mytranslate"),e.j41(19,"b"),e.EFF(20),e.nI1(21,"number"),e.k0s()(),e.j41(22,"h3",5),e.EFF(23),e.nI1(24,"mytranslate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"number"),e.k0s()()(),e.j41(28,"h3",7),e.EFF(29),e.nI1(30,"mytranslate"),e.j41(31,"b"),e.EFF(32),e.nI1(33,"number"),e.k0s()(),e.j41(34,"div",8)(35,"button",9),e.bIt("click",function(){return i.withdrawBalance()}),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("ngClass",i.isMobileDevice?"":"flex"),e.R7$(3),e.SpI(" ",e.bMT(5,18,"lang_test_market_total_questions_share")," "),e.R7$(3),e.Y8G("ngIf",i.loadingSharedQuestionCount),e.R7$(),e.Y8G("ngIf",!i.loadingSharedQuestionCount),e.R7$(2),e.SpI(" ",e.bMT(11,20,"lang_test_market_total_exam_sold")," "),e.R7$(3),e.Y8G("ngIf",i.loadingSoldExamCount),e.R7$(),e.Y8G("ngIf",!i.loadingSoldExamCount),e.R7$(),e.Y8G("ngClass",i.isMobileDevice?"mt-2":""),e.R7$(2),e.SpI(" ",e.bMT(18,22,"lang_test_market_total_questions_approve")," "),e.R7$(3),e.JRh(e.bMT(21,24,i.totalApproved)),e.R7$(3),e.SpI(" ",e.bMT(24,26,"lang_test_market_total_questions_used")," "),e.R7$(3),e.JRh(e.bMT(27,28,i.totalUsed)),e.R7$(2),e.Y8G("ngClass",i.isMobileDevice?"mt-2":""),e.R7$(),e.SpI(" ",e.bMT(30,30,"lang_test_market_total_balance")," "),e.R7$(3),e.SpI("",e.bMT(33,32,i.totalBalance),"\u0111"),e.R7$(2),e.Y8G("ngClass",i.isMobileDevice?"mt-2":""),e.R7$(),e.Y8G("disabled",!i.totalBalance),e.R7$(),e.SpI(" ",e.bMT(37,34,"lang_test_market_withdraw")," "))},dependencies:[s.YU,s.bT,ee.R,s.QX,w.wp],encapsulation:2}),a})();const bo=t=>({"border-bottom-width.px":t}),yo=t=>({"font-weight":t});function Gs(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function $s(t,a){if(1&t){const n=e.RV6();e.j41(0,"withdraw-balance",7),e.bIt("closeRequest",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.closeRequest(i))}),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("transactionInfo",n.transactionInfo)("balanceUserInfo",n.balanceUserInfo)("totalBalance",n.totalBalance)}}function zs(t,a){if(1&t){const n=e.RV6();e.j41(0,"filter-question-shared-status",18),e.bIt("changeFilterStatus",function(i){e.eBV(n);const r=e.XpG(3);return e.Njj(r.changeFilterStatus(i))}),e.k0s()}if(2&t){const n=e.XpG(3);e.Y8G("fillStatus",n.fillStatus)}}function Ls(t,a){1&t&&(e.qex(0),e.nrm(1,"view-exam-sold-history"),e.bVm())}function Ds(t,a){if(1&t&&(e.qex(0),e.nrm(1,"view-question-shared",19),e.bVm()),2&t){const n=e.XpG(3);e.R7$(),e.Y8G("fillStatus",n.fillStatus)}}function Ns(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"withdraw-information",8),e.bIt("openWithdrawForm",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.withdrawBalance(i))}),e.k0s(),e.j41(2,"div",9)(3,"div",10)(4,"div",11),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.onTabChanged(0))}),e.j41(5,"span",12),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()(),e.j41(8,"div",13)(9,"div",14),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.onTabChanged(1))}),e.j41(10,"div",15)(11,"span",16),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.DNE(14,zs,1,1,"filter-question-shared-status",17),e.k0s()()()(),e.DNE(15,Ls,2,0,"ng-container",6)(16,Ds,2,1,"ng-container",6),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(),e.Y8G("loadingSoldExamCount",n.loadingSoldExamCount)("loadingSharedQuestionCount",n.loadingSharedQuestionCount)("totalShared",n.totalShared)("totalSoldExam",n.totalSoldExam)("totalApproved",n.totalApproved)("totalUsed",n.totalUsed)("totalBalance",n.totalBalance),e.R7$(3),e.Y8G("ngStyle",e.eq3(20,bo,0==n.selectedIndexTab?2:0)),e.R7$(),e.Y8G("ngStyle",e.eq3(22,yo,0==n.selectedIndexTab?"500":"400")),e.R7$(),e.JRh(e.bMT(7,16,"lang_withdraw_history_sold_exam")),e.R7$(3),e.Y8G("ngStyle",e.eq3(24,bo,1==n.selectedIndexTab?2:0)),e.R7$(2),e.Y8G("ngStyle",e.eq3(26,yo,1==n.selectedIndexTab?"500":"400")),e.R7$(),e.JRh(e.bMT(13,18,"lang_auto_danh_sach_cau_hoi_chia_se")),e.R7$(2),e.Y8G("ngIf",1==n.selectedIndexTab),e.R7$(),e.Y8G("ngIf",0==n.selectedIndexTab),e.R7$(),e.Y8G("ngIf",1==n.selectedIndexTab)}}function Bs(t,a){if(1&t&&(e.j41(0,"div",4),e.DNE(1,$s,1,3,"withdraw-balance",5)(2,Ns,17,28,"ng-container",6),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.isWithDraw&&n.balanceUserInfo),e.R7$(),e.Y8G("ngIf",!n.isWithDraw)}}let Vs=(()=>{var t;class a extends $.H{changeFilterStatus(o){this.fillStatus=o??"",this.browserStorageService.saveSimpleStorage("view_question_filter",o??"")}withdrawBalance(o){this.isWithDraw=!this.isWithDraw}closeRequest(o){if(o){let i=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),r=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${i}/${r}`,"?tab="+this.selectedIndexTab),this.isWithDraw=!1}else this.isWithDraw=!1}getBalanceQuestionShared(){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(o=>{o.success?(this.totalShared=o.data?.shared??0,this.totalUsed=o.data?.used??0,this.totalApproved=o.data?.approved??0,this.totalBalance=o.data?.balance??0,this.transactionInfo=o.data?.lastTransaction,this.balanceUserInfo=o.data,this.loadingSharedQuestionCount=!1,this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}getTotalSoldExam(){this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetTotalSoldGet().subscribe(o=>{o.success?(this.totalSoldExam=o.data?.value??0,this.loadingSoldExamCount=!1,this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}onTabChanged(o){this.selectedIndexTab=o;let i=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),r=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${i}/${r}`,"?tab="+this.selectedIndexTab)}ngOnInit(){this.initStatusObj(),this.waitDestroy((0,vt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let o=this.browserStorageService.getSimpleStorage("view_question_filter"),i=this.commonService.getMyQueryParam("tab")??0;this.fillStatus=o??"",this.selectedIndexTab=Number(i),this.getBalanceQuestionShared(),this.getTotalSoldExam()}))}constructor(o,i,r,l){super(),this.examPaymentHistoryService=o,this.testMarketQuestionService=i,this.activeRoute=r,this.browserStorageService=l,this.isWithDraw=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.fillStatus="",this.selectedIndexTab=0,this.totalSoldExam=0,this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Ta.h),e.rXU(un.e2),e.rXU(X.nX),e.rXU(Yt.z))},t.\u0275cmp=e.VBU({type:t,selectors:[["view-share-question"]],features:[e.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"relative"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"closeRequest","transactionInfo","balanceUserInfo","totalBalance"],[3,"openWithdrawForm","loadingSoldExamCount","loadingSharedQuestionCount","totalShared","totalSoldExam","totalApproved","totalUsed","totalBalance"],[1,"flex"],[1,"w-40","hover-tab",2,"align-self","center"],[1,"px-3","pt-5","pb-3","border-slate-300","text-center",2,"cursor","pointer","align-self","center",3,"click","ngStyle"],[2,"align-self","center",3,"ngStyle"],[1,"w-44","hover-tab"],[1,"px-3","pt-5","pb-3","border-slate-300","relative","text-center",2,"cursor","pointer","align-self","center",3,"click","ngStyle"],[1,"flex","w-full","text-center"],[1,"mr-2",2,"align-self","center",3,"ngStyle"],[3,"fillStatus","changeFilterStatus",4,"ngIf"],[3,"changeFilterStatus","fillStatus"],[3,"fillStatus"]],template:function(o,i){if(1&o&&(e.j41(0,"div",1),e.DNE(1,Gs,1,1,"azt-loading-effect",2)(2,Bs,3,2,"ng-template",null,0,e.C5r),e.k0s()),2&o){const r=e.sdS(3);e.R7$(),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[s.bT,s.B3,ge.K,Fa.C,La,ws,js,Ps,w.wp],encapsulation:2}),a})();function Us(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Ys(t,a){1&t&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_status_new")," "))}function Qs(t,a){1&t&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_status_approved")," "))}function Ws(t,a){1&t&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_status_settled")," "))}function Xs(t,a){1&t&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_status_rejected")," "))}function qs(t,a){if(1&t&&(e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"p"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"p"),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"p"),e.EFF(16),e.nI1(17,"mytranslate"),e.nI1(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()(),e.j41(19,"div",14)(20,"b",15),e.EFF(21),e.nI1(22,"number"),e.k0s(),e.j41(23,"div",16),e.DNE(24,Ys,3,3,"div",17)(25,Qs,3,3,"div",18)(26,Ws,3,3,"div",18)(27,Xs,3,3,"div",19),e.k0s()()()()),2&t){const n=a.$implicit;e.R7$(4),e.Lme("",e.bMT(5,15,"lang_test_market_bankHolder"),": ",n.bankHolder,""),e.R7$(3),e.Lme("",e.bMT(8,17,"lang_test_market_bankName"),": ",n.bankName,""),e.R7$(3),e.Lme("",e.bMT(11,19,"lang_test_market_bankNumber"),": ",n.bankAccountNumber,""),e.R7$(3),e.Lme("",e.bMT(14,21,"lang_test_market_address"),": ",n.address,""),e.R7$(3),e.Lme("",e.bMT(17,23,"lang_auto_ngay_tao"),": ",e.bMT(18,25,n.createdAt),""),e.R7$(5),e.SpI("",e.bMT(22,27,n.amount),"\u0111"),e.R7$(3),e.Y8G("ngIf","new"==n.status),e.R7$(),e.Y8G("ngIf","approved"==n.status),e.R7$(),e.Y8G("ngIf","settled"==n.status),e.R7$(),e.Y8G("ngIf","rejected"==n.status)}}function Js(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5),e.DNE(3,qs,28,29,"div",6),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"azt-paging",9),e.bIt("goToPaginationPage",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.getData(i))}),e.k0s()(),e.j41(7,"div",10),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG();e.R7$(3),e.Y8G("ngForOf",n.withdrawHistoryObjs),e.R7$(3),e.Y8G("pageObj",n.pageObj),e.R7$(2),e.SpI(" ",n.totalWithdrawTimes+" "+e.bMT(9,3,"lang_test_market_withdraw_times")," ")}}let Hs=(()=>{var t;class a extends $.H{getData(o){this.initStatusObj(),this.pageObj.setPageNumber(o),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(i=>{if(i.success){this.withdrawHistoryObjs=i.data?.objs??[];let r=i.data?.total??1;this.totalWithdrawTimes=r,this.pageObj.setTotalPages(r),this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,vt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(o,i){super(),this.testMarketQuestionService=o,this.activeRoute=i,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[],this.pageObj=new po.d(10)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(un.e2),e.rXU(X.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["history-withdraw"]],features:[e.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],["class","pb-2",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"mt-3","sm:mt-0"],[1,"pb-2"],[1,"box","p-2","flex","items-center"],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","md:flex","text-xs"],[1,"px-2","bg-success","text-white"],[1,"ml-0","md:ml-2","mt-1","md:mt-0","text-center"],["class","px-2 bg-pending text-white",4,"ngIf"],["class","px-2 bg-success text-white",4,"ngIf"],["class","px-2 bg-danger text-white",4,"ngIf"],[1,"px-2","bg-pending","text-white"],[1,"px-2","bg-danger","text-white"]],template:function(o,i){if(1&o&&e.DNE(0,Us,1,1,"azt-loading-effect",1)(1,Js,10,5,"ng-template",null,0,e.C5r),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[s.Sq,s.bT,ge.K,fo.q,s.QX,w.wp,w.bH],encapsulation:2}),a})();function Ks(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function Zs(t,a){if(1&t&&(e.j41(0,"div",12),e.DNE(1,Ks,3,3,"span",13),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.form.controls.reason.errors.required)}}function er(t,a){1&t&&e.nrm(0,"azt-loading-ui",14)}let tr=(()=>{var t;class a extends $.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(o=>{1==o.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(o.message??"",!0)}))}constructor(o,i){super(),this.authService=o,this.mobileWebviewService=i,this.form=new c.gE({reason:new c.MJ("",[c.k0.required])})}ngOnInit(){this.form.controls.reason.setValue("")}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.uR),e.rXU(Gn.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["remove-account"]],features:[e.Vt3],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",6),e.nrm(11,"input",7),e.k0s(),e.DNE(12,Zs,2,1,"div",8),e.k0s()(),e.j41(13,"div",9)(14,"button",10),e.bIt("click",function(){return i.saveUnitObj()}),e.DNE(15,er,1,0,"azt-loading-ui",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("formGroup",i.form),e.R7$(4),e.SpI(" ",e.bMT(6,7,"lang_auto_xoa_tai_khoan")," "),e.R7$(3),e.SpI(" ",e.bMT(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),e.R7$(4),e.Y8G("ngIf",i.form.controls.reason.errors&&(i.form.controls.reason.dirty||i.form.controls.reason.touched)),e.R7$(2),e.Y8G("disabled",i.statusObj.loading||i.form.controls.reason.errors),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(17,11,"lang_auto_xac_nhan")," "))},dependencies:[s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ve.t,ee.R,w.wp],encapsulation:2}),a})();const nr=()=>({"mr-2 flex-none":!0});function or(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function ir(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"label",7),e.nrm(5,"lucide-icon",8),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"input",9),e.bIt("change",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.mobLoginFingerprintOrFace())}),e.k0s()()()()()}if(2&t){const n=e.XpG();e.R7$(5),e.Y8G("name",n.enableForFace?"scan-face":"fingerprint")("ngClass",e.lJ4(8,nr)),e.R7$(),e.SpI(" ",n.enableForFace?e.bMT(7,4,"lang_core_login_with_face"):e.bMT(8,6,"lang_core_login_with_fingerprint")," "),e.R7$(3),e.Y8G("formControl",n.checkLoginFingerprintOrFaceControl)}}let ar=(()=>{var t;class a extends $.H{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(o){super(),this.mobileWebviewService=o,this.checkLoginFingerprintOrFaceControl=new c.MJ(!1,{nonNullable:!0}),this.enableForFace=!1}ngOnInit(){}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Gn.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[e.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],["size","20",3,"name","ngClass"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"change","formControl"]],template:function(o,i){if(1&o&&e.DNE(0,or,1,1,"azt-loading-effect",1)(1,ir,10,9,"ng-template",null,0,e.C5r),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[s.YU,s.bT,c.Zm,c.BC,c.l_,ge.K,J.WGl,w.wp],encapsulation:2}),a})();var sr=_(69775),lt=_(34208),rr=_(10710),lr=_(20013);const Co=()=>({"mr-2 flex-none":!0}),cr=t=>({"text-danger":t}),_r=()=>[],ur=t=>[t],dr=t=>({"bg-blue-800":t});function mr(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",8),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function pr(t,a){if(1&t&&(e.qex(0),e.j41(1,"div",21)(2,"div",22),e.nrm(3,"lucide-icon",23),e.j41(4,"span",24),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"span"),e.EFF(8),e.nI1(9,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s()(),e.j41(10,"div",25),e.nrm(11,"lucide-icon",26),e.j41(12,"span",27),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"span",28),e.EFF(16),e.nI1(17,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.nI1(18,"mytranslate"),e.k0s()()(),e.bVm()),2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(17,Co)),e.R7$(2),e.SpI(" ",e.bMT(6,7,"lang_azt_vip_purchase_date")+":"," "),e.R7$(3),e.JRh(e.bMT(9,9,null==n.vipPackageObj?null:n.vipPackageObj.startTime)),e.R7$(2),e.Y8G("ngClass",e.eq3(18,cr,n.expirationDate<=n.flatWarning)),e.R7$(),e.Y8G("ngClass",e.lJ4(20,Co)),e.R7$(2),e.SpI(" ",e.bMT(14,11,"lang_azt_expiration_date")+":"," "),e.R7$(3),e.JRh(e.bMT(17,13,null==n.vipPackageObj?null:n.vipPackageObj.endTime)+" ( "+n.expirationDate+" "+e.bMT(18,15,"lang_auto_ngay")+" )")}}function gr(t,a){1&t&&(e.j41(0,"div",30)(1,"div",31),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip")+" !"))}function hr(t,a){1&t&&(e.j41(0,"div",30)(1,"div",31),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip_student")+" !"))}function fr(t,a){if(1&t&&e.DNE(0,gr,4,3,"div",29)(1,hr,4,3,"div",29),2&t){const n=e.XpG(2);e.Y8G("ngIf",n.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",!n.isTeacherDashboard)}}function vr(t,a){if(1&t&&(e.j41(0,"tr")(1,"td",33),e.EFF(2),e.nI1(3,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"td",34),e.EFF(8),e.nI1(9,"formatMoney"),e.nI1(10,"mytranslate"),e.k0s()()),2&t){const n=a.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,3,n.createdAt)," "),e.R7$(3),e.SpI(" ",e.bMT(6,5,null!=n&&n.packageName?null==n?null:n.packageName:"lang_azt_azota_vip")," "),e.R7$(3),e.SpI(" ",e.bMT(9,7,n.packageMoney)+" "+e.bMT(10,9,"lang_auto_vnd_upper")," ")}}function br(t,a){if(1&t&&(e.qex(0),e.DNE(1,vr,11,11,"tr",32),e.bVm()),2&t){let n;const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",null!==(n=null==o.vipPackageObj?null:o.vipPackageObj.subscriptionHistories)&&void 0!==n?n:e.lJ4(1,_r))}}function yr(t,a){1&t&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_khong_co_du_lieu")+"!"))}function Cr(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",9)(1,"div",10),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,pr,19,21,"ng-container",11)(5,fr,2,2,"ng-template",null,1,e.C5r),e.j41(7,"div",12)(8,"button",13),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.redirectToVipPackages())}),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()(),e.j41(11,"div",14)(12,"div",15),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",16)(16,"drag-scroll")(17,"table",17)(18,"thead")(19,"tr")(20,"th",18),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"th",19),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"th",20),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,br,2,2,"ng-container",11)(31,yr,4,3,"ng-template",null,2,e.C5r),e.k0s()()()()()}if(2&t){const n=e.sdS(6),o=e.sdS(32),i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,10,"lang_azt_your_subscription_package")),e.R7$(2),e.Y8G("ngIf",(null==i.vipPackageObj?null:i.vipPackageObj.isVipStudent)||(null==i.vipPackageObj?null:i.vipPackageObj.isVipTeacher))("ngIfElse",n),e.R7$(5),e.JRh(e.bMT(10,12,"lang_azt_upgrade_now")),e.R7$(4),e.JRh(e.bMT(14,14,"lang_azt_purchase_history")),e.R7$(8),e.JRh(e.bMT(22,16,"lang_auto_thoi_gian")),e.R7$(3),e.JRh(e.bMT(25,18,"lang_business_config_billing_history_package_name")),e.R7$(3),e.JRh(e.bMT(28,20,"lang_azt_price")),e.R7$(3),e.Y8G("ngIf",i.vipPackageObj&&(null==i.vipPackageObj.subscriptionHistories?null:i.vipPackageObj.subscriptionHistories.length))("ngIfElse",o)}}function Ir(t,a){if(1&t){const n=e.RV6();e.j41(0,"span",42)(1,"azt-check-vip-account",43)(2,"azt-upload-single-box",44),e.bIt("uploadComplete",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.uploadNewLogo("thumb",i))}),e.j41(3,"span",24),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG(2);e.R7$(),e.Y8G("vipPackageType","VIP_FOR_TEACHER")("isAction",!0)("isShowBadgeVip",!0)("trackingKey","ACCOUNT_SETTING_TEACHER_THUMBNAIL"),e.R7$(),e.Y8G("uploadToCdnMenu",n.allUploadToCdnMenuTypes.AVATAR)("fileType",e.eq3(10,ur,n.allUploadFileTypes.IMAGE))("allowCompressImage",!1),e.R7$(2),e.JRh(e.bMT(5,8,"lang_business_config_upload_new_logo"))}}function kr(t,a){if(1&t){const n=e.RV6();e.j41(0,"azt-check-vip-account",45),e.bIt("checkAction",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.uploadNewLogo("thumb"))}),e.j41(1,"span",24),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.Y8G("vipPackageType","VIP_FOR_TEACHER")("isAction",!0)("isShowBadgeVip",!0)("classCSSCustom","btn-text-primary font-medium flex items-center cursor-pointer ml-2")("trackingKey","ACCOUNT_SETTING_TEACHER_THUMBNAIL"),e.R7$(2),e.JRh(e.bMT(3,6,"lang_business_config_upload_new_logo")))}function Sr(t,a){if(1&t){const n=e.RV6();e.j41(0,"span",46),e.EFF(1," | "),e.j41(2,"span",47),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.deleteLogo("thumb"))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_button_delete")))}function xr(t,a){1&t&&e.nrm(0,"azt-loading-ui",48)}function Rr(t,a){if(1&t&&(e.j41(0,"div",49),e.nrm(1,"img",50),e.nI1(2,"getSystemDefaultLogo"),e.k0s()),2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(4,dr,!n.thumbnailLogoURL)),e.R7$(),e.Y8G("src",n.thumbnailLogoURL?n.thumbnailLogoURL:e.bMT(2,2,"thumb"),e.B4B)}}function wr(t,a){if(1&t&&(e.j41(0,"div",36)(1,"div",37)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,Ir,6,12,"span",38)(6,kr,4,8,"ng-template",null,3,e.C5r)(8,Sr,5,3,"span",39),e.k0s(),e.j41(9,"div",40),e.DNE(10,xr,1,0,"azt-loading-ui",41)(11,Rr,3,6,"ng-template",null,4,e.C5r),e.k0s()()),2&t){const n=e.sdS(7),o=e.sdS(12),i=e.XpG();e.R7$(3),e.SpI("",e.bMT(4,6,"lang_user_config_thumbnail_img")+" | ","\xa0"),e.R7$(2),e.Y8G("ngIf",null==i.vipPackageObj?null:i.vipPackageObj.isVipTeacher)("ngIfElse",n),e.R7$(3),e.Y8G("ngIf",i.thumbnailLogoURL),e.R7$(2),e.Y8G("ngIf",i.loadingThumb)("ngIfElse",o)}}let Tr=(()=>{var t;class a extends $.H{redirectToVipPackages(){this.commonService.myNavigationWithQueryString("/auth/vip-packages/"+(this.isTeacherDashboard?"teacherVip":"studentVip"),`?backto=${encodeURIComponent(`/auth/account-setting/${this.isTeacherDashboard?0:1}/8`)}}&trackingKey=${this.isTeacherDashboard?"ACCOUNT_SETTING_TEACHER":"ACCOUNT_SETTING_STUDENT"}`)}deleteLogo(o){this.sAztDialogService.open(sr.x,{restoreFocus:!1,width:"550px"}).afterClosed().subscribe(r=>{r&&(this.thumbnailLogoURL="",this.saveConfigLogo())})}uploadNewLogo(o,i){"thumb"==o&&i?.url&&(this.thumbnailLogoURL=i.url),this.saveConfigLogo()}saveConfigLogo(){this.loadingThumb=!0,this.waitDestroy(this.userInfoService.apiUserInfoUpdateConfigPost({logo:this.thumbnailLogoURL}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message?o.message:"lang_cms_add_homework_upload_file_error",!0);this.loadingThumb=!1,this.successStatusObj("lang_user_config_thumbnail_upload_img_success",!0)}))}getData(){this.initStatusObj(),this.loadingThumb=!0,this.waitDestroy(this.vipPackageService.apiVipPackageGetMyPackagePost({vipPackageType:this.isTeacherDashboard?lt.W.TEACHER:lt.W.STUDENT}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.vipPackageObj=o.data?.obj,this.thumbnailLogoURL=o.data?.obj?.userConfig?.logo??"",this.loadingThumb=!1,this.expirationDate=this.timeService.calculationTimeOnlyDate(void 0,this.vipPackageObj?.endTime),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.getData()}constructor(o,i,r,l,p){super(),this.userInfoService=o,this.activeRoute=i,this.vipPackageService=r,this.timeService=l,this.sAztDialogService=p,this.expirationDate=0,this.flatWarning=10,this.isTeacherDashboard=!1,this.thumbnailLogoURL="",this.loadingThumb=!1,this.allUploadToCdnMenuTypes=_n.b8,this.allUploadFileTypes=_n.PO}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.fv),e.rXU(X.nX),e.rXU(rr.vg),e.rXU(rn.F),e.rXU(Ue.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["setting-azota-vip"]],features:[e.Vt3],decls:5,vars:3,consts:[["doneLoading",""],["noVipPackage",""],["noHistory",""],["noVip",""],["doneLoadThumb",""],[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","intro-x box p-5 mt-2",4,"ngIf"],[3,"currentStatusObj"],[1,"azota-vip"],[1,"text-lg","font-medium","mb-2"],[4,"ngIf","ngIfElse"],[1,"text-right","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"subscription-history","mt-4"],[1,"text-lg","font-medium"],[1,"w-full","h-full","mt-2"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px","width","250px"],[1,"whitespace-nowrap",2,"width","350px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],[1,"vip"],[1,"flex","items-center","font-medium","mt-2"],["name","calendar-check","size","20",3,"ngClass"],[1,"mr-2"],[1,"flex","items-center","flex-wrap","font-medium","mt-2",3,"ngClass"],["name","calendar-off","size","20",3,"ngClass"],[1,"mr-2","mt-1","sm:mt-0"],[1,"mr-1"],["class","no-vip",4,"ngIf"],[1,"no-vip"],[1,"note"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[2,"text-align","right","padding-right","20px"],["colspan","3",1,"text-center"],[1,"intro-x","box","p-5","mt-2"],[1,"text-md","font-medium","mb-2","flex","items-center","w-full","flex-wrap"],["class","clickable link-color",4,"ngIf","ngIfElse"],["class","ml-2",4,"ngIf"],[1,"p-2","text-center","w-full"],["class","mx-auto my-auto",4,"ngIf","ngIfElse"],[1,"clickable","link-color"],[3,"vipPackageType","isAction","isShowBadgeVip","trackingKey"],[1,"inline-block",3,"uploadComplete","uploadToCdnMenu","fileType","allowCompressImage"],[3,"checkAction","vipPackageType","isAction","isShowBadgeVip","classCSSCustom","trackingKey"],[1,"ml-2"],[1,"clickable","text-danger",3,"click"],[1,"mx-auto","my-auto"],[1,"mx-auto",2,"width","200px","height","auto",3,"ngClass"],["width","100%","height","100%",3,"src"]],template:function(o,i){if(1&o&&(e.j41(0,"div",5),e.DNE(1,mr,1,1,"azt-loading-effect",6)(2,Cr,33,22,"ng-template",null,0,e.C5r),e.k0s(),e.DNE(4,wr,13,8,"div",7)),2&o){const r=e.sdS(3);e.R7$(),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r),e.R7$(3),e.Y8G("ngIf",i.isTeacherDashboard)}},dependencies:[s.YU,s.Sq,s.bT,ge.K,ee.R,lr.T,ro.F,J.WGl,Vt.jd,Vt.Ew,w.wp,w.i_,w.t0,w.Vo],encapsulation:2}),a})();const Fr=t=>({"margin-bottom":t}),Le=t=>({"bg-primary text-white font-medium":t}),Oe=()=>({"mr-2 flex-none":!0});function jr(t,a){if(1&t&&(e.j41(0,"teacher-layout",2),e.eu8(1,3),e.k0s()),2&t){const n=e.XpG(),o=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function Er(t,a){if(1&t&&(e.j41(0,"student-layout",2),e.eu8(1,3),e.k0s()),2&t){const n=e.XpG(),o=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function Or(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",26),2&t){const n=e.XpG(2);e.Y8G("currentStatusObj",n.statusObj)}}function Ar(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(0))}),e.nrm(1,"lucide-icon",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Le,"general"==n.modeView)),e.R7$(),e.Y8G("ngClass",e.lJ4(7,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_auto_chung")," ")}}function Mr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(1))}),e.nrm(1,"lucide-icon",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Le,"password"==n.modeView)),e.R7$(),e.Y8G("ngClass",e.lJ4(7,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_auto_doi_mat_khau")," ")}}function Pr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(5))}),e.nrm(1,"lucide-icon",32),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Le,"setting-unit"==n.modeView)),e.R7$(),e.Y8G("ngClass",e.lJ4(7,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_auth_setting_user_unit")," ")}}function Gr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(3))}),e.nrm(1,"lucide-icon",34),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Le,"share-question"==n.modeView)),e.R7$(),e.Y8G("ngClass",e.lJ4(7,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_payment_history_transaction_history")," ")}}function $r(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(4))}),e.nrm(1,"lucide-icon",36),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Le,"history-withdraw"==n.modeView)),e.R7$(),e.Y8G("ngClass",e.lJ4(7,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_test_market_withdraw_history")," ")}}function zr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(2))}),e.nrm(1,"lucide-icon",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Le,"setting-role"==n.modeView)),e.R7$(),e.Y8G("ngClass",e.lJ4(7,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_auth_user_setting_change_role")," ")}}function Lr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(7))}),e.nrm(1,"lucide-icon",39),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(8,Le,"setting-fingerprint-or-face"==n.modeView)),e.R7$(),e.Y8G("name",n.enableForFace?"scan-face":"fingerprint")("ngClass",e.lJ4(10,Oe)),e.R7$(),e.SpI(" ",n.enableForFace?e.bMT(3,4,"lang_core_login_with_face"):e.bMT(4,6,"lang_core_login_with_fingerprint")," ")}}function Dr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.goToProfileStudent())}),e.nrm(1,"lucide-icon",41),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_auto_thong_ke_hoc_tap")," "))}function Nr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",42),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(8))}),e.j41(1,"div",43),e.nrm(2,"azt-check-vip-account",44),e.k0s(),e.j41(3,"span"),e.EFF(4,"Azota VIP"),e.k0s()()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(4,Le,"setting-azota-vip"==n.modeView)),e.R7$(2),e.Y8G("vipPackageType",n.isTeacherDashboard?"VIP_FOR_TEACHER":"VIP_FOR_STUDENT")("isShowBadgeVip",!0)("trackingKey",n.isTeacherDashboard?"ACCOUNT_SETTING_TEACHER":"ACCOUNT_SETTING_STUDENT")}}function Br(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changModeView(6))}),e.nrm(1,"lucide-icon",46),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Le,"remove-account"==n.modeView)),e.R7$(),e.Y8G("ngClass",e.lJ4(7,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_auto_xoa_tai_khoan")," ")}}function Vr(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changeAccountStudent())}),e.nrm(1,"lucide-icon",48),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_core_chon_lai_con")," "))}function Ur(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.mobLogout())}),e.nrm(1,"lucide-icon",50),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Oe)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_auto_dang_xuat")," "))}function Yr(t,a){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"setting-general",51),e.bIt("saveUserObj",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.saveUserObjData(i))}),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(),e.Y8G("userObj",n.userObj)("isTeacherDashboard",n.isTeacherDashboard)}}function Qr(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"setting-password"),e.k0s())}function Wr(t,a){if(1&t&&(e.j41(0,"div"),e.nrm(1,"setting-role",52),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("isTeacherDashboard",n.isTeacherDashboard)("hasTeacherRole",n.hasTeacherRole)}}function Xr(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"setting-unit"),e.k0s())}function qr(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"view-share-question"),e.k0s())}function Jr(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"history-withdraw"),e.k0s())}function Hr(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"remove-account"),e.k0s())}function Kr(t,a){if(1&t&&(e.j41(0,"div"),e.nrm(1,"setting-fingerprint-or-face",53),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("checkLoginFingerprintOrFaceControl",n.checkLoginFingerprintOrFace)("enableForFace",n.enableForFace)}}function Zr(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"setting-azota-vip"),e.k0s())}function el(t,a){if(1&t&&(e.DNE(0,Or,1,1,"azt-loading-effect",4),e.j41(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",9)(8,"div",10)(9,"div",11),e.DNE(10,Ar,4,8,"button",12)(11,Mr,4,8,"button",13)(12,Pr,4,8,"button",14)(13,Gr,4,8,"button",15)(14,$r,4,8,"button",16)(15,zr,4,8,"button",17)(16,Lr,5,11,"button",18)(17,Dr,4,5,"button",19)(18,Nr,5,6,"button",20)(19,Br,4,8,"button",21)(20,Vr,4,5,"button",22),e.nI1(21,"isParentViewOnly"),e.DNE(22,Ur,4,5,"button",23),e.k0s()()(),e.j41(23,"div",24),e.DNE(24,Yr,2,2,"div",25)(25,Qr,2,0,"div",25)(26,Wr,2,2,"div",25)(27,Xr,2,0,"div",25)(28,qr,2,0,"div",25)(29,Jr,2,0,"div",25)(30,Hr,2,0,"div",25)(31,Kr,2,2,"div",25)(32,Zr,2,0,"div",25),e.k0s()()()),2&t){const n=e.XpG();e.Y8G("ngIf",n.isLoading),e.R7$(5),e.SpI(" ",e.bMT(6,24,"lang_auto_cai_dat_tai_khoan")," "),e.R7$(5),e.Y8G("ngIf","setting-role"!=n.modeView),e.R7$(),e.Y8G("ngIf","setting-role"!=n.modeView),e.R7$(),e.Y8G("ngIf","setting-role"!=n.modeView&&!n.isTqbDomain),e.R7$(),e.Y8G("ngIf","setting-role"!=n.modeView&&n.isTeacherDashboard&&!n.isBusinessDomain),e.R7$(),e.Y8G("ngIf","setting-role"!=n.modeView&&n.isTeacherDashboard&&!n.isBusinessDomain),e.R7$(),e.Y8G("ngIf","setting-role"==n.modeView&&!n.isMobileWebView),e.R7$(),e.Y8G("ngIf",n.isMobileWebView&&n.isShowBiometricSetting),e.R7$(),e.Y8G("ngIf",!n.isTeacherDashboard&&n.isBusinessDomain),e.R7$(),e.Y8G("ngIf",!n.isBusinessDomain&&!n.isMobileWebView),e.R7$(),e.Y8G("ngIf",n.isMobileWebView),e.R7$(),e.Y8G("ngIf",n.isMobileWebView&&e.bMT(21,26,"")&&n.sAztParentUserService.getCurrentLoginStudent(n.userObj)),e.R7$(2),e.Y8G("ngIf",n.isMobileWebView),e.R7$(),e.Y8G("ngStyle",e.eq3(28,Fr,n.isMobileWebView?"200px":"0")),e.R7$(),e.Y8G("ngIf","general"==n.modeView&&n.userObj),e.R7$(),e.Y8G("ngIf","password"==n.modeView),e.R7$(),e.Y8G("ngIf","setting-role"==n.modeView&&!n.isMobileWebView),e.R7$(),e.Y8G("ngIf","setting-unit"==n.modeView),e.R7$(),e.Y8G("ngIf","share-question"==n.modeView),e.R7$(),e.Y8G("ngIf","history-withdraw"==n.modeView),e.R7$(),e.Y8G("ngIf","remove-account"==n.modeView),e.R7$(),e.Y8G("ngIf","setting-fingerprint-or-face"==n.modeView),e.R7$(),e.Y8G("ngIf","setting-azota-vip"==n.modeView)}}let tl=(()=>{var t;class a extends $.H{goToProfileStudent(){this.initStatusObj();const o=Number(this.commonService.getMyParam(this.activeRoute,"modeType"));this.myNavigationWithQueryString("/student/profile-student/0/0","?backTo="+encodeURIComponent("/auth/account-setting/1/"+(this.isTeacherDashboard?0:1)+o+"?tab=0"))}changModeView(o){let i=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString(`/auth/account-setting/${this.isTeacherDashboard?0:1}/`+o,i?"?backTo="+encodeURIComponent(i)+"&tab=0":"?tab=0")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(o){this.userObj=o}mobLogout(){this.sAztUserLogoutService.mobLogout()}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.isTeacherDashboard||this.mobileWebviewService.sendSimpleMessage("OPEN_PROFILE"),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.waitDestroy(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(o=>{(o?.supportFace||o?.supportFingerprint)&&(this.enableForFace=o.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(o?.isOnOfOff??!1)),this.stopStatusObj()}))}changeAccountStudent(){this.sAztDialogService.open(bi.q,{data:!0,restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"})),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.waitDestroy((0,vt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;case 8:this.modeView="setting-azota-vip";break;default:this.modeView="general"}const i=this.commonService.getMyQueryParam("modeView");i&&(this.modeView=i);let r=this.commonService.getMyQueryParam("backTo");this.backLink=r??(this.isTeacherDashboard?"/admin/dashboard":"/student/classroom/0")}))}constructor(o,i,r,l,p){super(),this.userService=o,this.redirectService=i,this.activeRoute=r,this.mobileWebviewService=l,this.sAztDialogService=p,this.sAztUserLogoutService=(0,e.WQX)(Pn.d),this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new c.MJ(!1,{nonNullable:!0}),this.enableForFace=!1,this.isShowBiometricSetting=!1,this.sAztParentUserService=(0,e.WQX)(so.V)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Ee.R),e.rXU(Ve.m),e.rXU(X.nX),e.rXU(Gn.f),e.rXU(Ue.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-account-setting"]],features:[e.Vt3],decls:4,vars:2,consts:[["MainContentTpl",""],[3,"headerBackToLink",4,"ngIf"],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-1aaFkwubF","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-pOR0okU-y","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],[3,"currentStatusObj"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"click","ngClass"],["name","user","size","16",3,"ngClass"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","lock","size","16",3,"ngClass"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","ruler","size","16",3,"ngClass"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","history","size","16",3,"ngClass"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["size","16",3,"name","ngClass"],["azt-track-service","account-setting-1aaFkwubF",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","bar-chart-3","size","16",3,"ngClass"],["azt-track-service","account-setting-pOR0okU-y",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],[1,"mr-2"],[3,"vipPackageType","isShowBadgeVip","trackingKey"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","trash-2","size","16",3,"ngClass"],[1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","hand","size","16",3,"ngClass"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["name","log-out","size","16",3,"ngClass"],[3,"saveUserObj","userObj","isTeacherDashboard"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(o,i){1&o&&e.DNE(0,jr,2,2,"teacher-layout",1)(1,Er,2,2,"student-layout",1)(2,el,33,30,"ng-template",null,0,e.C5r),2&o&&(e.Y8G("ngIf",i.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",!i.isTeacherDashboard))},dependencies:[s.YU,s.bT,s.T3,s.B3,ge.K,ro.F,lo.Q,co.j,J.WGl,_a,va,ka,wa,Vs,Hs,tr,ar,Tr,w.wp,w.hx],encapsulation:2}),a})();var Xt=function(t){return t.NEW_PACKAGE="NEW_PACKAGE",t.EXTEND_PACKAGE="EXTEND_PACKAGE",t.UPGRADE_PACKAGE="UPGRADE_PACKAGE",t}(Xt||{}),ke=_(40509),Nn=_(92746);let Bn=(()=>{var t;class a extends $.H{getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesGet().subscribe(o=>{1===o.success?(this.packageList=o.data?.objs??[],this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.businessPackageService=(0,e.WQX)(Nn.WC),this.packageList=[]}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-base-business-packages"]],inputs:{businessPackageType:"businessPackageType",businessRegisterId:"businessRegisterId",businessRegisterHash:"businessRegisterHash"},features:[e.Vt3],decls:0,vars:0,template:function(o,i){},encapsulation:2}),a})();const nl=()=>({"mr-2 flex-none":!0}),mn=(t,a)=>({"text-slate-400":t,"text-success":a}),pn=()=>({"flex-none":!0}),gn=t=>({"text-slate-400":t});function ol(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",6)(4,"div",7),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()(),e.j41(7,"div",8)(8,"div",9),e.EFF(9),e.nI1(10,"formatMoney"),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"div",10),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",11)(16,"div",12),e.nrm(17,"lucide-icon",13),e.j41(18,"div",14)(19,"span",15),e.EFF(20),e.nI1(21,"formatMoney"),e.nI1(22,"mytranslate"),e.k0s()()(),e.j41(23,"div",16)(24,"div",17),e.nrm(25,"lucide-icon",18),e.k0s(),e.j41(26,"div",14)(27,"span",19),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()(),e.j41(30,"div",16)(31,"div",20),e.nrm(32,"lucide-icon",18),e.k0s(),e.j41(33,"div",14)(34,"span",19),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()()(),e.j41(37,"div",16)(38,"div",20),e.nrm(39,"lucide-icon",18),e.k0s(),e.j41(40,"div",14)(41,"span",19),e.EFF(42),e.nI1(43,"mytranslate"),e.k0s()()(),e.j41(44,"div",16)(45,"div",17),e.nrm(46,"lucide-icon",18),e.k0s(),e.j41(47,"div",14)(48,"span",19),e.EFF(49),e.nI1(50,"mytranslate"),e.k0s()()()(),e.j41(51,"div",21)(52,"button",22),e.bIt("click",function(){const i=e.eBV(n).$implicit,r=e.XpG();return e.Njj(r.choosePackage(i.id))}),e.EFF(53),e.nI1(54,"mytranslate"),e.k0s()()()()}if(2&t){const n=a.$implicit;e.R7$(5),e.JRh(e.bMT(6,26,n.name)),e.R7$(4),e.SpI(" ",e.bMT(10,28,n.price)+" "+e.bMT(11,30,"lang_auto_vnd_upper")," "),e.R7$(4),e.SpI(" "," / "+e.bMT(14,32,n.timeUnit)," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(48,nl)),e.R7$(3),e.SpI(" ",e.bMT(21,34,n.totalActiveStudentPerMonth)+" "+e.bMT(22,36,"lang_core_active_students_per_month")," "),e.R7$(4),e.Y8G("ngClass",e.l_i(49,mn,!n.supportToIntegrateToOwnSystem,n.supportToIntegrateToOwnSystem)),e.R7$(),e.Y8G("name",n.supportToIntegrateToOwnSystem?"check":"x")("ngClass",e.lJ4(52,pn)),e.R7$(2),e.Y8G("ngClass",e.eq3(53,gn,!n.supportToIntegrateToOwnSystem)),e.R7$(),e.SpI(" ",e.bMT(29,38,"lang_core_support_integration_with_existing_system_users")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(55,mn,!n.supportOwnDomain,n.supportOwnDomain)),e.R7$(),e.Y8G("name",n.supportOwnDomain?"check":"x")("ngClass",e.lJ4(58,pn)),e.R7$(2),e.Y8G("ngClass",e.eq3(59,gn,!n.supportOwnDomain)),e.R7$(),e.SpI(" ",e.bMT(36,40,"lang_core_support_custom_domain")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(61,mn,!n.supportTechnical,n.supportTechnical)),e.R7$(),e.Y8G("name",n.supportTechnical?"check":"x")("ngClass",e.lJ4(64,pn)),e.R7$(2),e.Y8G("ngClass",e.eq3(65,gn,!n.supportTechnical)),e.R7$(),e.SpI(" ",e.bMT(43,42,"lang_core_dedicated_technical_support_during_usage")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(67,mn,!n.supportAdvanceReport,n.supportAdvanceReport)),e.R7$(),e.Y8G("name",n.supportAdvanceReport?"check":"x")("ngClass",e.lJ4(70,pn)),e.R7$(2),e.Y8G("ngClass",e.eq3(71,gn,!n.supportAdvanceReport)),e.R7$(),e.SpI(" ",e.bMT(50,44,"lang_core_support_building_extended_analysis_reports")," "),e.R7$(4),e.SpI(" ",e.bMT(54,46,"lang_auth_use")," ")}}let Io=(()=>{var t;class a extends $.H{constructor(){super(...arguments),this.packageList=[],this.choosePackageEvent=new e.bkB}choosePackage(o){this.choosePackageEvent.emit(o)}}return(t=a).\u0275fac=(()=>{let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}})(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-package-box"]],inputs:{packageList:"packageList"},outputs:{choosePackageEvent:"choosePackageEvent"},features:[e.Vt3],decls:7,vars:7,consts:[[1,"intro-y","text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8"],["class","col-span-12 md:col-span-6 lg:col-span-4",4,"ngFor","ngForOf"],[1,"text-center","pt-6","font-medium",3,"innerHTML"],[1,"col-span-12","md:col-span-6","lg:col-span-4"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center"],[1,"text-xl","font-medium"],[1,"mt-8","flex","items-center"],[1,"font-semibold","text-2xl","mr-1"],[1,"text-slate-500"],[1,"mt-8","text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-4"],["name","graduation-cap","size","20",3,"ngClass"],[1,"mt-0"],[1,"font-medium"],[1,"flex","mt-4"],[1,"mr-2",3,"ngClass"],["size","20",3,"name","ngClass"],[1,"font-medium",3,"ngClass"],[1,"flex-none","mr-2",3,"ngClass"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div",1),e.DNE(4,ol,55,73,"div",2),e.k0s(),e.nrm(5,"div",3),e.nI1(6,"mytranslate")),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,3,"lang_auth_choose_package_to_use"),"\n"),e.R7$(3),e.Y8G("ngForOf",i.packageList),e.R7$(),e.Y8G("innerHTML",e.bMT(6,5,"lang_business_package_please_contact_us_if_you_have_any_questions"),e.npT))},dependencies:[s.YU,s.Sq,J.WGl,w.wp,w.t0],encapsulation:2}),a})();function il(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function al(t,a){if(1&t){const n=e.RV6();e.j41(0,"app-business-packages-package-box",3),e.bIt("choosePackageEvent",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.buyBusinessPackage(i))}),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("packageList",n.packageList)}}let sl=(()=>{var t;class a extends Bn{buyBusinessPackage(o){const i="userRole=teacher&productType=business_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o,this.businessRegisterId,this.businessRegisterHash,i).subscribe(r=>{1===r.success?(window.location.href=r.data?.value??"",this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getBusinessPackages()}constructor(o){super(),this.productOrderService=o}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Qt.Hg))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-buy-new-package"]],features:[e.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"choosePackageEvent","packageList"]],template:function(o,i){if(1&o&&e.DNE(0,il,1,1,"azt-loading-effect",1)(1,al,1,1,"ng-template",null,0,e.C5r),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[s.bT,ge.K,Io],encapsulation:2}),a})(),rl=(()=>{var t;class a extends Bn{buyBusinessPackage(){const o="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderExtendBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o).subscribe(i=>{1===i.success?(window.location.href=i.data?.value??"",this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.buyBusinessPackage()}constructor(o,i,r){super(),this.userService=o,this.redirectService=i,this.productOrderService=r}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Ee.R),e.rXU(Ve.m),e.rXU(Qt.Hg))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-extend-package"]],features:[e.Vt3],decls:1,vars:1,consts:[[3,"currentStatusObj"]],template:function(o,i){1&o&&e.nrm(0,"azt-loading-effect",0),2&o&&e.Y8G("currentStatusObj",i.statusObj)},dependencies:[ge.K],encapsulation:2}),a})();function ll(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function cl(t,a){if(1&t){const n=e.RV6();e.j41(0,"app-business-packages-package-box",3),e.bIt("choosePackageEvent",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.buyBusinessPackage(i))}),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("packageList",n.packageList)}}let _l=(()=>{var t;class a extends Bn{buyBusinessPackage(o){const i="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderUpgradeBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o,i).subscribe(r=>{1===r.success?(window.location.href=r.data?.value??"",this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.getBusinessPackages()}constructor(o,i,r){super(),this.userService=o,this.redirectService=i,this.productOrderService=r}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Ee.R),e.rXU(Ve.m),e.rXU(Qt.Hg))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages-upgrade-package"]],features:[e.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"choosePackageEvent","packageList"]],template:function(o,i){if(1&o&&e.DNE(0,ll,1,1,"azt-loading-effect",1)(1,cl,1,1,"ng-template",null,0,e.C5r),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[s.bT,ge.K,Io],encapsulation:2}),a})();function ul(t,a){if(1&t&&(e.qex(0),e.nrm(1,"app-business-packages-buy-new-package",2),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}function dl(t,a){if(1&t&&(e.qex(0),e.nrm(1,"app-business-packages-extend-package",2),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}function ml(t,a){if(1&t&&(e.qex(0),e.nrm(1,"app-business-packages-upgrade-package",2),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}let pl=(()=>{var t;class a extends $.H{ngOnInit(){super.ngOnInit(),this.businessPackageType=this.commonService.getEnumTypeWithDefault(Xt,this.commonService.getMyParam(this.activeRoute,"businessPackageType")?.toUpperCase()??"",Xt.NEW_PACKAGE),this.businessRegisterId=Number(this.commonService.getMyParam(this.activeRoute,"businessRegisterId")),this.businessRegisterHash=String(this.commonService.getMyParam(this.activeRoute,"businessRegisterHash"))}constructor(o){super(),this.activeRoute=o,this.allBusinessPackageType=Xt,this.businessPackageType=Xt.NEW_PACKAGE,this.businessRegisterId=0,this.businessRegisterHash=""}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(X.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-packages"]],features:[e.Vt3],decls:4,vars:5,consts:[[3,"maxWidth","contentBoxClass"],[4,"ngIf"],[3,"businessPackageType","businessRegisterId","businessRegisterHash"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout",0),e.DNE(1,ul,2,3,"ng-container",1)(2,dl,2,3,"ng-container",1)(3,ml,2,3,"ng-container",1),e.k0s()),2&o&&(e.Y8G("maxWidth","950px")("contentBoxClass","bg-transparent shadow-none"),e.R7$(),e.Y8G("ngIf",i.businessPackageType==i.allBusinessPackageType.NEW_PACKAGE),e.R7$(),e.Y8G("ngIf",i.businessPackageType==i.allBusinessPackageType.EXTEND_PACKAGE),e.R7$(),e.Y8G("ngIf",i.businessPackageType==i.allBusinessPackageType.UPGRADE_PACKAGE))},dependencies:[s.bT,ke.K,sl,rl,_l],encapsulation:2}),a})();var qt=_(58227);const gl=()=>({"mr-2":!0}),hl=()=>({"dark:text-slate-500":!0});function fl(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_email")," "))}function vl(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function bl(t,a){if(1&t&&(e.j41(0,"div",17),e.DNE(1,fl,3,3,"span",2)(2,vl,3,3,"span",2),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.form.controls.email.errors.required),e.R7$(),e.Y8G("ngIf",n.form.controls.email.errors.email||n.form.controls.email.errors.pattern)}}function yl(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function Cl(t,a){if(1&t&&(e.j41(0,"div",18),e.DNE(1,yl,3,3,"span",2),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors.required)}}function Il(t,a){1&t&&e.nrm(0,"azt-loading-ui",19)}function kl(t,a){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"form",6)(2,"div",7),e.nrm(3,"input",8),e.nI1(4,"mytranslate"),e.DNE(5,bl,3,2,"div",9),e.k0s(),e.j41(6,"div",7)(7,"div",10),e.nrm(8,"input",11),e.nI1(9,"mytranslate"),e.j41(10,"button",12),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.togglePassword())}),e.nrm(11,"lucide-icon",13),e.k0s()(),e.DNE(12,Cl,2,1,"div",14),e.k0s(),e.j41(13,"div",3)(14,"button",15),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.confirmChangeEmail())}),e.DNE(15,Il,1,0,"azt-loading-ui",16),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG();e.R7$(),e.Y8G("formGroup",n.form),e.R7$(2),e.FS9("placeholder",e.bMT(4,11,"lang_auto_nhap_email_moi")),e.R7$(2),e.Y8G("ngIf",n.form.controls.email.errors&&n.form.controls.email.dirty),e.R7$(3),e.FS9("placeholder",e.bMT(9,13,"lang_auto_mat_khau")),e.Y8G("type",n.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",e.lJ4(17,hl)),e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(2),e.Y8G("disabled",n.statusObj.loading||n.form.invalid),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(17,15,"lang_button_confirm")," ")}}function Sl(t,a){if(1&t&&(e.j41(0,"div")(1,"div",20)(2,"div",21)(3,"p",22),e.EFF(4),e.nI1(5,"mytranslate"),e.j41(6,"b"),e.EFF(7),e.k0s(),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()),2&t){const n=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.R7$(3),e.JRh(n.oldEmail),e.R7$(),e.SpI(" ",e.bMT(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let xl=(()=>{var t;class a extends $.H{confirmChangeEmail(){this.form.valid&&(this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoChangeEmailByPasswordPost({newEmail:this.form.controls.email.value,password:this.form.controls.password.value}).subscribe(i=>{if(1==i.success){let r=i.data?.value;if(r){this.successStatusObj("lang_auth_email_changed_successfully",!0);let l=this.userService.getUserObj();l.email=r,this.userService.saveUserObj(l),this.localStorageObject.clearAllCache(),this.backToRedirect()}else this.errorStatusObj("lang_auto_vui_long_nhap_email",!0)}else this.errorStatusObj(i.message??"",!0)})))}backToRedirect(){let o=this.getMyQueryParam("return_url");o&&this.myNavigation(o)}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,i,r){super(),this.userInfoService=o,this.localStorageObject=i,this.userService=r,this.step=1,this.oldEmail="",this.showPassword=!1,this.form=new c.gE({email:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.email,c.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.fv),e.rXU(qt.G),e.rXU(Ee.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-account"]],features:[e.Vt3],decls:12,vars:10,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","autocomplete","new-email","name","email","formControlName","email",1,"form-control","py-3","px-4",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[2,"position","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","py-3","px-4","w-full",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","font-medium","mt-1"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",1),e.DNE(5,kl,18,18,"div",2)(6,Sl,10,7,"div",2),e.j41(7,"div",3)(8,"a",4),e.bIt("click",function(){return i.backToRedirect()}),e.nrm(9,"lucide-icon",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_auto_doi_email_moi")," "),e.R7$(3),e.Y8G("ngIf",1==i.step),e.R7$(),e.Y8G("ngIf",!i.statusObj.loading&&2==i.step),e.R7$(3),e.Y8G("ngClass",e.lJ4(9,gl)),e.R7$(),e.SpI(" ",e.bMT(11,7,"lang_auto_quay_lai")," "))},dependencies:[s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ve.t,ee.R,ke.K,J.WGl,w.wp],encapsulation:2}),a})(),Rl=(()=>{var t;class a extends $.H{get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")??""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(o=>{if(1==o.success){let i=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type="+this.confirm_type+"&app_name="+o?.data?.app;window.location.href=i.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(o){super(),this.userInfoService=o}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-checking-service"]],features:[e.Vt3],decls:4,vars:3,consts:[[1,"mt-5","text-center"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"h2",0),e.nrm(1,"azt-loading-ui",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[ee.R,w.wp],encapsulation:2}),a})();function wl(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",16),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}let Tl=(()=>{var t;class a extends $.H{chooseRegisterStudent(){let o=this.commonService.getMyQueryParam("return_url");o&&(o.includes("/vi")||o.includes("/en"))&&(o=o.substring(3)),this.myNavigation(o||"/student/classroom/0")}chooseRegisterTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(o=>{if(1==o.success){let i=this.commonService.getMyQueryParam("return_url");i&&(i.includes("/vi")||i.includes("/en"))&&(i=i.substring(3)),this.myNavigation(i||"/admin/dashboard")}else this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(o,i){super(),this.userInfoService=o,this.redirectByRoleService=i}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.fv),e.rXU(Fe.b))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-download-answer-sheet"]],features:[e.Vt3],decls:28,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["name","graduation-cap","size","36"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"],[3,"currentStatusObj"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"div",2),e.j41(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"img",6),e.nI1(7,"getLinkLogo"),e.j41(8,"h3",7),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",8)(12,"div",9),e.DNE(13,wl,1,1,"azt-loading-effect",10),e.j41(14,"div",11),e.bIt("click",function(){return i.chooseRegisterStudent()}),e.j41(15,"div",12),e.nrm(16,"lucide-icon",13),e.j41(17,"p"),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()()(),e.j41(20,"div",14),e.bIt("click",function(){return i.chooseRegisterTeacher()}),e.j41(21,"div",12),e.nrm(22,"img",15),e.nI1(23,"convertCdnLinkOfGitHub"),e.j41(24,"p"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()()()()()()(),e.nrm(27,"div",2),e.k0s()()),2&o&&(e.R7$(6),e.Y8G("src",e.bMT(7,6,"bigLogo"),e.B4B),e.R7$(3),e.JRh(e.bMT(10,8,"lang_auto_chon_vai_tro")),e.R7$(4),e.Y8G("ngIf",i.statusObj.loading),e.R7$(5),e.JRh(e.bMT(19,10,"lang_auto_toi_la_hoc_sinh")),e.R7$(4),e.Y8G("src",e.bMT(23,12,"images/teacher.png"),e.B4B),e.R7$(3),e.JRh(e.bMT(26,14,"lang_auto_toi_la_giao_vien")))},dependencies:[s.bT,ge.K,J.WGl,w.wp,w.gt,w.ph],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),a})();const Fl=t=>[t],jl=()=>({user_click:"true"});function El(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",13)(1,"div",14),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.nI1(6,"mytranslate"),e.nI1(7,"mytranslate"),e.k0s(),e.j41(8,"div",15)(9,"button",16),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.ignoreRequest())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",17),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.confirmPassword())}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()}2&t&&(e.R7$(2),e.SjE(" ",e.bMT(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.bMT(4,9,"lang_auto_xac_nhan"),'" ',e.bMT(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.bMT(6,13,"lang_auto_huy"),'" ',e.bMT(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.R7$(8),e.SpI(" ",e.bMT(11,17,"lang_cms_common_close_btn")," "),e.R7$(3),e.SpI(" ",e.bMT(14,19,"lang_cms_common_confirm_btn")," "))}function Ol(t,a){1&t&&(e.j41(0,"div")(1,"div",18),e.nrm(2,"azt-loading-ui",19),e.j41(3,"span",20),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}function Al(t,a){1&t&&(e.j41(0,"div",22)(1,"div",23),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",24)(5,"div",25)(6,"a",26),e.nI1(7,"navigationLocalize"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(10,Fl,e.bMT(7,6,"/auth/login")))("queryParams",e.lJ4(12,jl)),e.R7$(2),e.JRh(e.bMT(9,8,"lang_auto_dang_nhap_tai_khoan")))}function Ml(t,a){if(1&t&&(e.j41(0,"div",22)(1,"div",27),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.E5c("",e.bMT(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",e.bMT(4,5,n.hasErrorMessage),"",e.bMT(5,7,"lang_auto__vui_long_thu_lai_sau"),"")}}function Pl(t,a){if(1&t&&(e.j41(0,"div"),e.DNE(1,Al,10,13,"div",21)(2,Ml,6,9,"ng-template",null,0,e.C5r),e.k0s()),2&t){const n=e.sdS(3),o=e.XpG();e.R7$(),e.Y8G("ngIf",!o.hasErrorMessage)("ngIfElse",n)}}let Gl=(()=>{var t;class a extends $.H{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var i={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(i).subscribe(r=>{1==r.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=r.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,i){super(),this.redirectByRoleService=o,this.smsService=i,this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(Z.$T))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password-email"]],features:[e.Vt3],decls:18,vars:9,consts:[["errorChangePass",""],[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],[1,"mr-1"],[1,"sr-only","ml-2"],["class","col-sm-12",4,"ngIf","ngIfElse"],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(o,i){1&o&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"div",4),e.j41(4,"div",5),e.nrm(5,"img",6),e.nI1(6,"getLinkLogo"),e.j41(7,"div",7)(8,"div",8)(9,"span",9),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",10)(13,"div"),e.DNE(14,El,15,21,"div",11),e.k0s(),e.DNE(15,Ol,6,3,"div",12)(16,Pl,4,2,"div",12),e.k0s()()(),e.nrm(17,"div",4),e.k0s()()()),2&o&&(e.R7$(5),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(4),e.Y8G("ngIf",1==i.step),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.Y8G("ngIf",!i.statusObj.loading&&2==i.step))},dependencies:[X.Wk,s.bT,Ut.$z,ee.R,w.F2,w.wp,w.ph],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),a})(),$l=(()=>{var t;class a{get windowRef(){return window}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac}),a})();var zl=_(7919);const Ll=()=>({"dark:text-slate-500":!0}),Dl=()=>({"mr-2":!0});function Nl(t,a){1&t&&(e.j41(0,"div",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Bl(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Vl(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ul(t,a){if(1&t&&(e.j41(0,"div",20),e.DNE(1,Bl,3,3,"span",21)(2,Vl,3,3,"span",21),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors.required),e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function Yl(t,a){1&t&&e.nrm(0,"azt-loading-ui",22)}let Ql=(()=>{var t;class a extends $.H{handleClickLogout(){"forgot_password"==this.confirmType||"change_phone"==this.confirmType?this.redirectByRoleService.redirectLoginByRole(""):(this.sAztUserLogoutService.logout(),this.redirectService.redirectSimpleLogin())}togglePassword(){this.showPassword=!this.showPassword}handleBackToLink(){let o=this.getMyQueryParam("return_url")??"/auth/account-setting/0/0";this.commonService.myNavigation(o)}handleUpdatePhoneNumber(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj(),this.userInfoService.apiUserInfoChangePhoneByPasswordPost({newPhone:this.form.controls.newPhone.value,password:this.form.controls.password.value}).subscribe(i=>{if(1==i.success){const r=i.data?.value;if(r){this.successStatusObj("lang_auto_cap_nhat_so_dien_thoai_thanh_cong",!0);let l=this.userService.getUserObj();l.phone=r,this.userService.saveUserObj(l),this.localStorageObject.clearAllCache(),this.handleBackToLink()}}else this.errorStatusObj(i.message??"",!0)})}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}getTranslateMetaData(o){switch(o){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}getData(){"forgot_password"!==this.confirmType&&this.userInfoService.apiUserInfoInfoGet().subscribe(o=>{1==o.success?1==o?.new_user?.isVerifyPhone?"change_phone"!=this.confirmType&&this.redirectByRoleService.redirectLoginByRole(""):o?.new_user?.phone&&o?.new_user?.phone.length<=10?this.form.controls.newPhone.setValue(""):(this.form.controls.newPhone.setValue(""),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(i=>{this.showErrorSnack(i+(o.message?" | "+o.message:""))})})}ngOnInit(){super.ngOnInit(),this.confirmType=this.getConfirmType(),this.getData(),this.getTranslateMetaData(this.confirmType)}constructor(o,i,r,l,p){super(),this.redirectByRoleService=o,this.userService=i,this.userInfoService=r,this.redirectService=l,this.localStorageObject=p,this.sAztUserLogoutService=(0,e.WQX)(Pn.d),this.confirmType="forgot_password",this.showPassword=!1,this.form=new c.gE({newPhone:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(10),c.k0.maxLength(10),c.k0.pattern(/^[0-9]*$/)]}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(Ee.R),e.rXU(Z.fv),e.rXU(Ve.m),e.rXU(qt.G))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-account"]],features:[e.Jv_([$l]),e.Vt3],decls:30,vars:28,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"mt-2"],[3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"azt-form-group"],["id","phoneInput","type","text","appOnlyNumber","","formControlName","newPhone","name","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"btn","btn-primary","px-4","py-3","w-full","mt-4",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mt-4"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout")(1,"div",0)(2,"h2",1),e.EFF(3),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",2)(7,"form",3)(8,"div",4)(9,"div",5)(10,"div",6),e.nrm(11,"input",7),e.nI1(12,"mytranslate"),e.DNE(13,Nl,3,3,"div",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"input",10),e.nI1(16,"mytranslate"),e.j41(17,"button",11),e.bIt("click",function(){return i.togglePassword()}),e.nrm(18,"lucide-icon",12),e.k0s(),e.DNE(19,Ul,3,2,"div",13),e.k0s(),e.j41(20,"button",14),e.bIt("click",function(){return i.handleUpdatePhoneNumber()}),e.DNE(21,Yl,1,0,"azt-loading-ui",15),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()(),e.nrm(24,"hr"),e.j41(25,"div",16)(26,"a",17),e.bIt("click",function(){return i.handleBackToLink()}),e.nrm(27,"lucide-icon",18),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()()()()),2&o&&(e.R7$(3),e.SpI(" ","change_phone"==i.confirmType?e.bMT(4,14,"lang_auto_doi_so_diem_thoai_moi"):e.bMT(5,16,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),e.R7$(4),e.Y8G("formGroup",i.form),e.R7$(4),e.FS9("placeholder",e.bMT(12,18,"lang_auto_nhap_so_dien_thoai_moi")),e.R7$(2),e.Y8G("ngIf",(i.form.controls.newPhone.dirty||i.form.controls.newPhone.touched)&&i.form.controls.newPhone.errors),e.R7$(2),e.FS9("type",i.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(16,20,"lang_auto_mat_khau")),e.R7$(3),e.Y8G("name",i.showPassword?"eye":"eye-off")("ngClass",e.lJ4(26,Ll)),e.R7$(),e.Y8G("ngIf",i.form.controls.password.errors&&(i.form.controls.password.dirty||i.form.controls.password.touched)),e.R7$(),e.Y8G("disabled",i.statusObj.loading),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(23,22,"lang_cms_common_confirm_btn")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(27,Dl)),e.R7$(),e.SpI(" ",e.bMT(29,24,"lang_auto_quay_lai")," "))},dependencies:[s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,zl.Z,ve.t,ee.R,ke.K,J.WGl,w.wp],encapsulation:2}),a})();var Wl=_(407),Ye=_(44477),Vn=_(23837);const ct=t=>[t],Xl=t=>({return_url:t}),_t=()=>({"mr-2":!0}),Ct=()=>({user_click:"true"}),ql=()=>({"text-success":!0}),Jl=()=>({"mx-auto text-success":!0});function Hl(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",2),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Kl(t,a){1&t&&(e.j41(0,"h2",7),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_quen_mat_khau")," "))}function Zl(t,a){1&t&&(e.j41(0,"div",30)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function ec(t,a){if(1&t&&(e.j41(0,"div",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(3);e.R7$(),e.SpI(" ",e.bMT(2,1,n.msgError)," ")}}function tc(t,a){1&t&&(e.j41(0,"span",31),e.nrm(1,"lucide-icon",32),e.k0s())}function nc(t,a){1&t&&(e.j41(0,"span",31),e.nrm(1,"lucide-icon",33),e.k0s())}function oc(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ic(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ac(t,a){if(1&t&&(e.j41(0,"div",30),e.DNE(1,oc,3,3,"span",6)(2,ic,3,3,"span",6),e.k0s()),2&t){const n=e.XpG(3);e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors.required),e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function sc(t,a){1&t&&e.nrm(0,"azt-loading-ui",34)}function rc(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",8)(2,"div",9)(3,"input",10),e.nI1(4,"mytranslate"),e.bIt("input",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.isInvalidUserPhoneOrEmail(i.form.controls.emailOrPhone.value))}),e.k0s(),e.DNE(5,Zl,4,3,"div",11)(6,ec,3,3,"div",11),e.k0s(),e.j41(7,"div",12),e.nrm(8,"input",13),e.nI1(9,"mytranslate"),e.j41(10,"button",14),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.togglePassword())}),e.DNE(11,tc,2,0,"span",15)(12,nc,2,0,"span",15),e.k0s(),e.DNE(13,ac,3,2,"div",11),e.k0s()(),e.j41(14,"div",16)(15,"a",17),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",18)(19,"button",19),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.changePassword())}),e.DNE(20,sc,1,0,"azt-loading-ui",20),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.j41(23,"div",21)(24,"span",22),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",23)(28,"button",24),e.nI1(29,"navigationLocalize"),e.nrm(30,"lucide-icon",25),e.j41(31,"span",26),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()()(),e.j41(34,"div",27)(35,"a",28),e.nI1(36,"navigationLocalize"),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.removeKeyStorage())}),e.nrm(37,"lucide-icon",29),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.FS9("placeholder",e.bMT(4,21,"lang_auto_email_hoac_so_dien_thoai")),e.R7$(2),e.Y8G("ngIf",n.form.controls.emailOrPhone.errors&&(n.form.controls.emailOrPhone.dirty||n.form.controls.emailOrPhone.touched)&&!n.msgError),e.R7$(),e.Y8G("ngIf",n.msgError),e.R7$(2),e.FS9("type",n.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(9,23,"lang_auto_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",n.showPassword),e.R7$(),e.Y8G("ngIf",!n.showPassword),e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(3),e.SpI(" ",e.bMT(17,25,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),e.R7$(3),e.Y8G("disabled",n.form.invalid),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(22,27,"lang_auto_tiep_tuc")," "),e.R7$(4),e.SpI(" ",e.bMT(26,29,"lang_auto_hoac")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(39,ct,e.bMT(29,31,"/auth/confirm_forgot_password_qr")))("queryParams",e.eq3(41,Xl,n.backLink)),e.R7$(2),e.Y8G("ngClass",e.lJ4(43,_t)),e.R7$(2),e.SpI(" ",e.bMT(33,33,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(44,ct,e.bMT(36,35,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(46,Ct)),e.R7$(2),e.Y8G("ngClass",e.lJ4(47,_t)),e.R7$(),e.SpI(" ",e.bMT(39,37,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function lc(t,a){if(1&t&&(e.j41(0,"div",44)(1,"a",45),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(3);e.R7$(),e.BMQ("href","sms:"+n.phoneSend+(n.isCheckIos?"&":"?")+"body=MK "+(null==n.responseChangePass?null:n.responseChangePass.otp),e.B4B),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets")," ")}}function cc(t,a){1&t&&(e.j41(0,"div",44),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "))}function _c(t,a){if(1&t){const n=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3);return e.Njj(i.changeStepByNext())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_tiep_tuc")," "))}function uc(t,a){if(1&t&&(e.j41(0,"div",47),e.nrm(1,"azt-loading-ui",34),e.j41(2,"div",47),e.EFF(3),e.k0s(),e.j41(4,"div",48)(5,"div",49)(6,"span"),e.EFF(7),e.nI1(8,"mytranslate"),e.j41(9,"b"),e.EFF(10),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"span",50),e.EFF(13),e.k0s()()()()),2&t){const n=e.XpG(3);e.R7$(3),e.JRh(n.currentMessage),e.R7$(4),e.SpI(" ",e.bMT(8,5,"lang_auth_note_send_otp_password")+" "," "),e.R7$(3),e.JRh(n.form.controls.emailOrPhone.value),e.R7$(),e.SpI(" ",": "," "),e.R7$(2),e.SpI(" ",n.displayTime," ")}}function dc(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",35)(2,"div",26),e.EFF(3),e.nI1(4,"mytranslate"),e.j41(5,"strong"),e.EFF(6),e.k0s(),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",36)(10,"strong"),e.EFF(11),e.k0s(),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"strong"),e.EFF(15),e.k0s()(),e.DNE(16,lc,4,4,"div",37),e.j41(17,"div",38),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.DNE(20,cc,3,3,"div",37),e.j41(21,"div",39),e.DNE(22,_c,3,3,"button",40)(23,uc,14,7,"div",41),e.k0s()(),e.j41(24,"div",27)(25,"a",42),e.nI1(26,"navigationLocalize"),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.removeKeyStorage())}),e.nrm(27,"lucide-icon",43),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,15,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),e.R7$(3),e.JRh(n.form.controls.emailOrPhone.value),e.R7$(),e.SpI(" ",e.bMT(8,17,"lang_auto_va_soan_tin_nhan"),": "),e.R7$(4),e.SpI("MK ",null==n.responseChangePass?null:n.responseChangePass.otp,""),e.R7$(),e.SpI(" ",e.bMT(13,19,"lang_auto_gui")," "),e.R7$(3),e.JRh(n.phoneSend),e.R7$(),e.Y8G("ngIf",n.isMobileDevice),e.R7$(2),e.SpI("(",e.bMT(19,21,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),")"),e.R7$(2),e.Y8G("ngIf",2===n.step),e.R7$(2),e.Y8G("ngIf",2==n.step),e.R7$(),e.Y8G("ngIf",3===n.step),e.R7$(2),e.Y8G("routerLink",e.eq3(27,ct,e.bMT(26,23,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(29,Ct)),e.R7$(2),e.Y8G("ngClass",e.lJ4(30,_t)),e.R7$(),e.SpI(" ",e.bMT(29,25,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function mc(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",51)(2,"div",52),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",53)(6,"a",54),e.nI1(7,"navigationLocalize"),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.removeKeyStorage())}),e.nrm(8,"lucide-icon",29),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,5,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(11,ct,e.bMT(7,7,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(13,Ct)),e.R7$(2),e.Y8G("ngClass",e.lJ4(14,_t)),e.R7$(),e.SpI(" ",e.bMT(10,9,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function pc(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",35)(2,"div",47),e.nrm(3,"lucide-icon",55),e.k0s(),e.j41(4,"div",56),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",57),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",53)(15,"div",58)(16,"a",59),e.nI1(17,"navigationLocalize"),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.removeKeyStorage())}),e.nrm(18,"lucide-icon",29),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(19,ql)),e.R7$(2),e.SpI(" ",e.bMT(6,9,"lang_auto_kiem_tra_email_cua_ban")," "),e.R7$(3),e.SpI(" ",e.bMT(9,11,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),e.R7$(3),e.JRh(n.form.controls.emailOrPhone.value),e.R7$(),e.SpI(" ",e.bMT(13,13,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(20,ct,e.bMT(17,15,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(22,Ct)),e.R7$(2),e.Y8G("ngClass",e.lJ4(23,_t)),e.R7$(),e.SpI(" ",e.bMT(20,17,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function gc(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",60)(2,"div",47),e.nrm(3,"lucide-icon",61),e.k0s(),e.j41(4,"div",56),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",62),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",63)(11,"div",58)(12,"a",59),e.nI1(13,"navigationLocalize"),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.removeKeyStorage())}),e.nrm(14,"lucide-icon",29),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(15,Jl)),e.R7$(2),e.SpI(" ",e.bMT(6,7,"lang_auth_password_changed")," "),e.R7$(3),e.SpI(" ",e.bMT(9,9,"lang_auth_your_password_has_been_changed_successfully")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(16,ct,e.bMT(13,11,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(18,Ct)),e.R7$(2),e.Y8G("ngClass",e.lJ4(19,_t)),e.R7$(),e.SpI(" ",e.bMT(16,13,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function hc(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",64)(2,"div",65)(3,"div",66),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",67),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",63)(10,"ng-otp-input",68),e.bIt("onInputChange",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onOtpChange(i))}),e.k0s()(),e.j41(11,"div",69)(12,"div",70)(13,"span",71),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"span",50),e.EFF(17),e.k0s()()(),e.j41(18,"div",72)(19,"button",73),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.verifyOTP())}),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()(),e.j41(22,"div",27)(23,"a",74),e.nI1(24,"navigationLocalize"),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.removeKeyStorage())}),e.nrm(25,"lucide-icon",29),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(4),e.SpI(" ",e.bMT(5,10,"lang_auth_otp_verification")," "),e.R7$(3),e.SpI(" ",e.bMT(8,12,"lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")," "),e.R7$(3),e.Y8G("config",n.config),e.R7$(4),e.JRh(e.bMT(15,14,"lang_auth_the_code_will_expire_in")+":"),e.R7$(3),e.SpI(" ",n.displayTimeOtp," "),e.R7$(3),e.SpI(" ",e.bMT(21,16,"lang_cms_common_confirm_btn")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(22,ct,e.bMT(24,18,n.backLink?n.backLink:"/auth/login")))("queryParams",e.lJ4(24,Ct)),e.R7$(2),e.Y8G("ngClass",e.lJ4(25,_t)),e.R7$(),e.SpI(" ",e.bMT(27,20,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function fc(t,a){if(1&t&&(e.j41(0,"div",3)(1,"form",4),e.DNE(2,Kl,3,3,"h2",5)(3,rc,40,48,"ng-container",6)(4,dc,30,31,"ng-container",6)(5,mc,11,15,"ng-container",6)(6,pc,21,24,"ng-container",6)(7,gc,17,20,"ng-container",6)(8,hc,28,26,"ng-container",6),e.k0s()()),2&t){const n=e.XpG();e.R7$(),e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("ngIf",7!==n.step&&6!==n.step),e.R7$(),e.Y8G("ngIf",1==n.step),e.R7$(),e.Y8G("ngIf",2==n.step||3==n.step),e.R7$(),e.Y8G("ngIf",!n.statusObj.loading&&4==n.step),e.R7$(),e.Y8G("ngIf",5==n.step),e.R7$(),e.Y8G("ngIf",6==n.step),e.R7$(),e.Y8G("ngIf",7==n.step)}}let vc=(()=>{var t;class a extends $.H{isInvalidUserPhoneOrEmail(o){this.msgError=Ye.U.validPhoneOrEmail(o)}randomPhone(o){if(o.includes(",")){let i=o.split(",");return i[this.commonService.getRandomNumber(0,i.length-1)]}return o}removeKeyStorage(){this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"),this.browserStorageService.removeStorage("azt_response_change_pass")}onOtpChange(o){this.otp=o}togglePassword(){this.showPassword=!this.showPassword}changePassword(){this.form.valid?(this.initStatusObj(),this.smsService.apiSmsChangePassPost({phone:this.form.controls.emailOrPhone.value,password:this.form.controls.password.value}).subscribe(i=>{if(1==i.success)if(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@"))this.step=5;else{this.step=2,this.responseChangePass=i.data;const r=this.serializeJson(this.responseChangePass??{});this.browserStorageService.saveStorage("azt_response_change_pass",r)}else this.errorStatusObj(i.message??"",!0)})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callChangePasswordOtpApi(o,i){this.smsService.apiSmsSendOtpPost(o).subscribe(r=>{1==r.success?(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@")?this.step=5:(this.step=7,this.tokenChangePass=r.data?.value??"",this.durationOtp=300,this.timerOtp(this.durationOtp),this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.saveStorage("duration_otp_forgot_password",this.durationOtp.toString()),this.browserStorageService.saveStorage("token_forgot_password",this.tokenChangePass.toString()))):this.errorStatusObj(r.message??"",!0)})}changePasswordOtp(){this.initStatusObj();const o=this.browserStorageService.getStorage("azt_phone_change_password")??"",i=this.browserStorageService.getStorage("azt_pass_change_password")??"";if(!o||!i)return;const r={phone:o,password:i};this.executeImportantAction().then(l=>{this.callChangePasswordOtpApi(r,l)}).catch(l=>{this.callChangePasswordOtpApi(r,"")})}verifyOTP(){6===this.otp.length?this.waitDestroy(this.smsService.apiSmsConfirmChangePassByPhoneOtpPost({otp:this.otp,secret:this.tokenChangePass}).subscribe(o=>{o.success?(this.step=6,this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password")):this.errorStatusObj(o.message??"",!0)})):this.showErrorSnack("lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(o=>{1==o.success?(this.successStatusObj(),this.phoneSend=this.randomPhone(o.data?.phone??"")):this.errorStatusObj(o.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(i=>{this.currentMessage=i}),this.form.controls.emailOrPhone.value&&this.form.controls.password.value&&(this.browserStorageService.saveStorage("azt_phone_change_password",this.form.controls.emailOrPhone.value),this.browserStorageService.saveStorage("azt_pass_change_password",this.form.controls.password.value)),this.getSecondTimeChangePassword(),this.step=3;const o=this.browserStorageService.getStorage("azt_phone_change_password")??"";this.loopCheck=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(o).subscribe(i=>{1==i.success?(this.successStatusObj(),1==i.data?.status&&(this.step=6,clearInterval(this.loopCheck))):(this.errorStatusObj(i.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(r=>{this.currentMessage=r}),clearInterval(this.loopCheck))})},1e3)}saveRemaining(o){o&&!(0,Wl.isNaN)(o)&&this.browserStorageService.saveStorage("duration_otp_forgot_password",o.toString())}executeImportantAction(){return new Promise(o=>{this.recaptchaV3Service.execute("importantAction").subscribe(i=>{o(i)})})}getSecondTimeChangePassword(){const o=this.browserStorageService.getStorage("azt_phone_change_password");o&&(this.form.controls.emailOrPhone.value||this.form.controls.emailOrPhone.setValue(o),this.loading=!0,this.waitDestroy(this.smsService.apiSmsGetSecondGet(o).subscribe(i=>{if(i.success){const r=i.data?.status;if(0===r&&(this.changePasswordOtp(),this.browserStorageService.removeStorage("azt_response_change_pass")),r&&r>0){const l=this.browserStorageService.getStorage("azt_response_change_pass")??"";this.responseChangePass=this.castJsonToObj(l),this.step=3,this.timer(r),this.loopCheck||this.changeStepByNext()}-1===r&&(this.step=1,this.removeKeyStorage())}else this.errorStatusObj(i.message??"");this.loading=!1})))}timerOtp(o){let i="0",r=o%60;const l=o/60<10?"0":"";this.loopCheckTimeOtp=window.setInterval(()=>{o--,0!=r?r--:r=o%60,i=r<10?"0"+r:r,this.displayTimeOtp=`${l}${Math.floor(o/60)}:${i}`,this.saveRemaining(o),0==o&&(clearInterval(this.loopCheckTimeOtp),this.showErrorSnack("lang_core_expired_otp"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"))},1e3)}timer(o){let i="0",r=o%60;const l=o/60<10?"0":"";this.loopCheckTime=window.setInterval(()=>{o--,0!=r?r--:r=o%60,i=r<10?"0"+r:r,this.displayTime=`${l}${Math.floor(o/60)}:${i}`,this.saveRemaining(o),0==o&&(clearInterval(this.loopCheckTime),this.changePasswordOtp())},1e3)}ngOnInit(){super.ngOnInit(),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),this.getSecondTimeChangePassword();const o=this.browserStorageService.getStorage("token_forgot_password"),i=this.browserStorageService.getStorage("duration_otp_forgot_password")??"0";this.durationOtp=Number(i),o&&this.durationOtp>0&&(this.tokenChangePass=o,this.step=7,this.timerOtp(this.durationOtp))}constructor(o,i,r){super(),this.smsService=o,this.browserStorageService=i,this.recaptchaV3Service=r,this.backLink="",this.step=1,this.currentMessage="",this.phoneSend="",this.isOnApp=!1,this.isCheckIos=!1,this.tokenChangePass="",this.msgError="",this.showPassword=!1,this.otp="",this.durationOtp=0,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:""},this.displayTimeOtp="",this.displayTime="",this.loading=!1,this.form=new c.gE({emailOrPhone:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),hash:new c.MJ("",{nonNullable:!0}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(6)]}),confirm_password:new c.MJ("",{nonNullable:!0})})}ngOnDestroy(){this.loopCheck&&clearInterval(this.loopCheck),this.loopCheckTimeOtp&&clearInterval(this.loopCheckTimeOtp),this.loopCheckTime&&clearInterval(this.loopCheckTime),super.ngOnDestroy()}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.$T),e.rXU(Yt.z),e.rXU(Vn.ob))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf"],["class","azt-forget-password",4,"ngIf"],[3,"currentStatusObj"],[1,"azt-forget-password"],[3,"formGroup"],["class","intro-x font-bold text-2xl text-center",4,"ngIf"],[4,"ngIf"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"input","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","dark:text-slate-500",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],["name","scan-line","size","18",3,"ngClass"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200","flex","items-center",3,"click","routerLink","queryParams"],["name","chevron-left","size","18",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"dark:text-slate-500"],["name","eye","size","24"],["name","eye-off","size","24"],[1,"mr-1"],[1,"index-x","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3",2,"font-style","italic"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-primary","dark:text-slate-200","flex","items-center",3,"click","routerLink","queryParams"],["name","chevron-left","size","16",3,"ngClass"],[1,"sms-info","text-center","mb-3"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I",1,"btn-text-primary"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],[1,"mt-4"],[1,"font-normal"],[1,"font-medium","text-danger","inline-block","ml-2"],[1,"index-x","box","p-5","mt-8","test"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"click","routerLink","queryParams"],["name","mail-check","size","64",3,"ngClass"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"click","routerLink","queryParams"],[1,"index-x","mt-5"],["name","circle-check","size","64",3,"ngClass"],[1,"text-md","mt-1","px-5","text-center"],[1,"text-center","mt-5"],[1,"opt","intro-x"],[1,"otp-head"],[1,"font-medium","text-lg"],[1,"text-slate-500","mt-0.5"],[3,"onInputChange","config"],[1,"flex","items-center","mt-4"],[1,"ml-auto"],[1,""],[1,"mt-5"],[1,"btn","btn-primary","w-full",3,"click"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200","flex","items-center","flex","items-center",3,"click","routerLink","queryParams"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout"),e.DNE(1,Hl,1,1,"azt-loading-effect",0)(2,fc,9,8,"div",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",i.loading),e.R7$(),e.Y8G("ngIf",!i.loading))},dependencies:[X.Wk,s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ge.K,ve.t,ee.R,ke.K,J.WGl,ui,w.F2,w.wp]}),a})();const bc=t=>[t],yc=()=>({user_click:"true"});function Cc(t,a){1&t&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"azt-loading-ui"),e.j41(3,"span",12),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}function Ic(t,a){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function kc(t,a){if(1&t&&(e.j41(0,"div",27),e.DNE(1,Ic,3,3,"div",10),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function Sc(t,a){if(1&t&&(e.j41(0,"div",13)(1,"label",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.SpI("*** ",e.bMT(3,1,n.statusObj.errorMessage),"")}}function xc(t,a){1&t&&e.nrm(0,"azt-loading-ui",29)}function Rc(t,a){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),e.nrm(4,"input",16),e.nI1(5,"mytranslate"),e.j41(6,"div",17),e.nrm(7,"lucide-icon",18),e.k0s()(),e.DNE(8,kc,2,1,"div",19),e.k0s()(),e.DNE(9,Sc,4,3,"div",20),e.j41(10,"div",21)(11,"div",14)(12,"div",22)(13,"button",23),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.form.invalid||i.statusObj.loading||i.changePassword())}),e.DNE(14,xc,1,0,"azt-loading-ui",24),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.nrm(17,"hr"),e.j41(18,"div",25)(19,"a",26),e.nI1(20,"navigationLocalize"),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(4),e.FS9("placeholder",e.bMT(5,9,"lang_auto_mat_khau_moi")),e.R7$(4),e.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(),e.Y8G("ngIf",n.statusObj.errorMessage),e.R7$(4),e.Y8G("disabled",n.form.invalid||n.statusObj.loading),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(16,11,"lang_auto_doi_mat_khau")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(17,bc,e.bMT(20,13,"/auth/login")))("queryParams",e.lJ4(19,yc)),e.R7$(2),e.SpI(" ",e.bMT(22,15,"lang_auto_dang_nhap_tai_khoan")," ")}}let wc=(()=>{var t;class a extends $.H{getError(o){return!!this.form.controls[o].errors&&this.form.controls[o].errors}getErrorType(o,i){return!!this.form.controls[o].errors?.[i]&&this.form.controls[o].errors?.[i]}getFormValue(){return this.form.getRawValue()}changePassword(){if(this.form.valid){var o=this.getFormValue(),i=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(i??"",o.password).subscribe(r=>{1==r.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(r.message??"")}))}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,i){super(),this.redirectByRoleService=o,this.userInfoService=i,this.form=new c.gE({emailOrPhone:new c.MJ("",{nonNullable:!0}),hash:new c.MJ("",{nonNullable:!0}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(6)]}),confirm_password:new c.MJ("",{nonNullable:!0})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(Z.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password-admin"]],features:[e.Vt3],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["name","lock","size","20","id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9),e.DNE(13,Cc,6,3,"div",10)(14,Rc,23,20,"div",10),e.k0s()()(),e.nrm(15,"div",3),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("formGroup",i.form),e.R7$(4),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.Y8G("ngIf",!i.statusObj.loading))},dependencies:[X.Wk,s.bT,c.qT,c.me,c.BC,c.cb,Ut.$z,c.j4,c.JD,ve.t,ee.R,J.WGl,w.F2,w.wp,w.ph],encapsulation:2}),a})();var hn=_(42358);const Tc=(()=>{class t{constructor(n,o,i,r,l){this._legacyCanvasSize=t.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=n,this.$canvas=document.createElement("canvas"),i&&"object"==typeof i?this._onDecode=o:(console.warn(i||r||l?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=o),this._onDecodeError=(o="object"==typeof i?i:{}).onDecodeError||("function"==typeof i?i:this._onDecodeError),this._calculateScanRegion=o.calculateScanRegion||("function"==typeof r?r:this._calculateScanRegion),this._preferredCamera=o.preferredCamera||l||this._preferredCamera,this._legacyCanvasSize="number"==typeof i?i:"number"==typeof r?r:this._legacyCanvasSize,this._maxScansPerSecond=o.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),n.disablePictureInPicture=!0,n.playsInline=!0,n.muted=!0;let p=!1;if(n.hidden&&(n.hidden=!1,p=!0),document.body.contains(n)||(document.body.appendChild(n),p=!0),i=n.parentElement,o.highlightScanRegion||o.highlightCodeOutline){if(r=!!o.overlay,this.$overlay=o.overlay||document.createElement("div"),(l=this.$overlay.style).position="absolute",l.display="none",l.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!r&&o.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}i.insertBefore(this.$overlay,this.$video.nextSibling)}o.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(n),requestAnimationFrame(()=>{let b=window.getComputedStyle(n);"none"===b.display&&(n.style.setProperty("display","block","important"),p=!0),"visible"!==b.visibility&&(n.style.setProperty("visibility","visible","important"),p=!0),p&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),n.style.opacity="0",n.style.width="0",n.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),n.addEventListener("play",this._onPlay),n.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=t.createQrEngine()}static set WORKER_PATH(n){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,x.A)(function*(){try{return!!(yield t.listCameras(!1)).length}catch{return!1}})()}static listCameras(n=!1){return(0,x.A)(function*(){if(!navigator.mediaDevices)return[];let i,o=function(){var r=(0,x.A)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(l=>"videoinput"===l.kind)});return function(){return r.apply(this,arguments)}}();try{n&&(yield o()).every(r=>!r.label)&&(i=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield o()).map((r,l)=>({id:r.deviceId,label:r.label||(0===l?"Default Camera":`Camera ${l+1}`)}))}finally{i&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),t._stopVideoStream(i))}})()}hasFlash(){var n=this;return(0,x.A)(function*(){let o;try{if(n.$video.srcObject){if(!(n.$video.srcObject instanceof MediaStream))return!1;o=n.$video.srcObject}else o=(yield n._getCameraStream()).stream;return"torch"in o.getVideoTracks()[0].getSettings()}catch{return!1}finally{o&&o!==n.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),t._stopVideoStream(o))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var n=this;return(0,x.A)(function*(){n._flashOn?yield n.turnFlashOff():yield n.turnFlashOn()})()}turnFlashOn(){var n=this;return(0,x.A)(function*(){if(!n._flashOn&&!n._destroyed&&(n._flashOn=!0,n._active&&!n._paused))try{if(!(yield n.hasFlash()))throw"No flash available";yield n.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(o){throw n._flashOn=!1,o}})()}turnFlashOff(){var n=this;return(0,x.A)(function*(){n._flashOn&&(n._flashOn=!1,yield n._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),t._postWorkerMessage(this._qrEnginePromise,"close")}start(){var n=this;return(0,x.A)(function*(){if(n._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!n._active||n._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),n._active=!0,!document.hidden))if(n._paused=!1,n.$video.srcObject)yield n.$video.play();else try{let{stream:o,facingMode:i}=yield n._getCameraStream();!n._active||n._paused?t._stopVideoStream(o):(n._setVideoMirror(i),n.$video.srcObject=o,yield n.$video.play(),n._flashOn&&(n._flashOn=!1,n.turnFlashOn().catch(()=>{})))}catch(o){if(!n._paused)throw n._active=!1,o}})()}stop(){this.pause(),this._active=!1}pause(n=!1){var o=this;return(0,x.A)(function*(){if(o._paused=!0,!o._active)return!0;o.$video.pause(),o.$overlay&&(o.$overlay.style.display="none");let i=()=>{o.$video.srcObject instanceof MediaStream&&(t._stopVideoStream(o.$video.srcObject),o.$video.srcObject=null)};return n?(i(),!0):(yield new Promise(r=>setTimeout(r,300)),!!o._paused&&(i(),!0))})()}setCamera(n){var o=this;return(0,x.A)(function*(){n!==o._preferredCamera&&(o._preferredCamera=n,yield o._restartVideoStream())})()}static scanImage(n,o,i,r,l=!1,p=!1){return(0,x.A)(function*(){let b,S=!1;o&&("scanRegion"in o||"qrEngine"in o||"canvas"in o||"disallowCanvasResizing"in o||"alsoTryWithoutScanRegion"in o||"returnDetailedScanResult"in o)?(b=o.scanRegion,i=o.qrEngine,r=o.canvas,l=o.disallowCanvasResizing||!1,p=o.alsoTryWithoutScanRegion||!1,S=!0):console.warn(o||i||r||l||p?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),o=!!i;try{let O,A,te;if([i,O]=yield Promise.all([i||t.createQrEngine(),t._loadImage(n)]),[r,A]=t._drawToCanvas(O,b,r,l),i instanceof Worker){let B=i;o||t._postWorkerMessageSync(B,"inversionMode","both"),te=yield new Promise((re,Xe)=>{let Ae,ye,Me,qe=-1;ye=pe=>{pe.data.id===qe&&(B.removeEventListener("message",ye),B.removeEventListener("error",Me),clearTimeout(Ae),null!==pe.data.data?re({data:pe.data.data,cornerPoints:t._convertPoints(pe.data.cornerPoints,b)}):Xe(t.NO_QR_CODE_FOUND))},Me=pe=>{B.removeEventListener("message",ye),B.removeEventListener("error",Me),clearTimeout(Ae),Xe("Scanner error: "+(pe?pe.message||pe:"Unknown Error"))},B.addEventListener("message",ye),B.addEventListener("error",Me),Ae=setTimeout(()=>Me("timeout"),1e4);let ae=A.getImageData(0,0,r.width,r.height);qe=t._postWorkerMessageSync(B,"decode",ae,[ae.data.buffer])})}else te=yield Promise.race([new Promise((B,re)=>window.setTimeout(()=>re("Scanner error: timeout"),1e4)),(0,x.A)(function*(){try{var[B]=yield i.detect(r);if(!B)throw t.NO_QR_CODE_FOUND;return{data:B.rawValue,cornerPoints:t._convertPoints(B.cornerPoints,b)}}catch(re){if(/not implemented|service unavailable/.test(B=re.message||re))return t._disableBarcodeDetector=!0,t.scanImage(n,{scanRegion:b,canvas:r,disallowCanvasResizing:l,alsoTryWithoutScanRegion:p});throw`Scanner error: ${B}`}})()]);return S?te:te.data}catch(O){if(!b||!p)throw O;let A=yield t.scanImage(n,{qrEngine:i,canvas:r,disallowCanvasResizing:l});return S?A:A.data}finally{o||t._postWorkerMessage(i,"close")}})()}setGrayscaleWeights(n,o,i,r=!0){t._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:n,green:o,blue:i,useIntegerApproximation:r})}setInversionMode(n){t._postWorkerMessage(this._qrEnginePromise,"inversionMode",n)}static createQrEngine(n){return(0,x.A)(function*(){if(n&&console.warn("Specifying a worker path is not required and not supported anymore."),n=()=>_.e(2402).then(_.bind(_,32402)).then(i=>i.createWorker()),t._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return n();let o=navigator.userAgentData;return o&&o.brands.some(({brand:i})=>/Chromium/i.test(i))&&/mac ?OS/i.test(o.platform)&&(yield o.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:i,platformVersion:r})=>/arm/i.test(i||"arm")&&13<=parseInt(r||"13")).catch(()=>!0))?n():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(n){let o=Math.round(.6666666666666666*Math.min(n.videoWidth,n.videoHeight));return{x:Math.round((n.videoWidth-o)/2),y:Math.round((n.videoHeight-o)/2),width:o,height:o,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var n=this.$video,o=n.videoWidth,i=n.videoHeight,r=n.offsetWidth,l=n.offsetHeight,p=n.offsetLeft,b=n.offsetTop,S=window.getComputedStyle(n),O=S.objectFit,A=o/i,te=r/l;switch(O){case"none":var B=o,re=i;break;case"fill":B=r,re=l;break;default:("cover"===O?A>te:A<te)?B=(re=l)*A:re=(B=r)/A,"scale-down"===O&&(B=Math.min(B,o),re=Math.min(re,i))}var[Xe,Ae]=S.objectPosition.split(" ").map((Me,qe)=>{const ae=parseFloat(Me);return Me.endsWith("%")?(qe?l-re:r-B)*ae/100:ae});te=this._scanRegion.height||i,O=this._scanRegion.x||0;var ye=this._scanRegion.y||0;(A=this.$overlay.style).width=(S=this._scanRegion.width||o)/o*B+"px",A.height=te/i*re+"px",A.top=`${b+Ae+ye/i*re}px`,i=/scaleX\(-1\)/.test(n.style.transform),A.left=`${p+(i?r-Xe-B:Xe)+(i?o-O-S:O)/o*B}px`,A.transform=n.style.transform}})}static _convertPoints(n,o){if(!o)return n;let i=o.x||0,r=o.y||0,l=o.width&&o.downScaledWidth?o.width/o.downScaledWidth:1;o=o.height&&o.downScaledHeight?o.height/o.downScaledHeight:1;for(let p of n)p.x=p.x*l+i,p.y=p.y*o+r;return n}_scanFrame(){var n=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,x.A)(function*(){if(!(1>=n.$video.readyState)){var o=Date.now()-n._lastScanTimestamp,i=1e3/n._maxScansPerSecond;o<i&&(yield new Promise(l=>setTimeout(l,i-o))),n._lastScanTimestamp=Date.now();try{var r=yield t.scanImage(n.$video,{scanRegion:n._scanRegion,qrEngine:n._qrEnginePromise,canvas:n.$canvas})}catch(l){if(!n._active)return;n._onDecodeError(l)}!t._disableBarcodeDetector||(yield n._qrEnginePromise)instanceof Worker||(n._qrEnginePromise=t.createQrEngine()),r?(n._onDecode?n._onDecode(r):n._legacyOnDecode&&n._legacyOnDecode(r.data),n.$codeOutlineHighlight&&(clearTimeout(n._codeOutlineHighlightRemovalTimeout),n._codeOutlineHighlightRemovalTimeout=void 0,n.$codeOutlineHighlight.setAttribute("viewBox",`${n._scanRegion.x||0} ${n._scanRegion.y||0} ${n._scanRegion.width||n.$video.videoWidth} ${n._scanRegion.height||n.$video.videoHeight}`),n.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:l,y:p})=>`${l},${p}`).join(" ")),n.$codeOutlineHighlight.style.display="")):n.$codeOutlineHighlight&&!n._codeOutlineHighlightRemovalTimeout&&(n._codeOutlineHighlightRemovalTimeout=setTimeout(()=>n.$codeOutlineHighlight.style.display="none",100))}n._scanFrame()}))}_onDecodeError(n){n!==t.NO_QR_CODE_FOUND&&console.log(n)}_getCameraStream(){var n=this;return(0,x.A)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let o=/^(environment|user)$/.test(n._preferredCamera)?"facingMode":"deviceId",i=[{width:{min:1024}},{width:{min:768}},{}],r=i.map(l=>Object.assign({},l,{[o]:{exact:n._preferredCamera}}));for(let l of[...r,...i])try{let p=yield navigator.mediaDevices.getUserMedia({video:l,audio:!1});return{stream:p,facingMode:n._getFacingMode(p)||(l.facingMode?n._preferredCamera:"environment"===n._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var n=this;return(0,x.A)(function*(){let o=n._paused;(yield n.pause(!0))&&!o&&n._active&&(yield n.start())})()}static _stopVideoStream(n){for(let o of n.getTracks())o.stop(),n.removeTrack(o)}_setVideoMirror(n){this.$video.style.transform="scaleX("+("user"===n?-1:1)+")"}_getFacingMode(n){return(n=n.getVideoTracks()[0])?/rear|back|environment/i.test(n.label)?"environment":/front|user|face/i.test(n.label)?"user":null:null}static _drawToCanvas(n,o,i,r=!1){i=i||document.createElement("canvas");let l=o&&o.x?o.x:0,p=o&&o.y?o.y:0,b=o&&o.width?o.width:n.videoWidth||n.width,S=o&&o.height?o.height:n.videoHeight||n.height;return r||(r=o&&o.downScaledWidth?o.downScaledWidth:b,o=o&&o.downScaledHeight?o.downScaledHeight:S,i.width!==r&&(i.width=r),i.height!==o&&(i.height=o)),(o=i.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,o.drawImage(n,l,p,b,S,0,0,i.width,i.height),[i,o]}static _loadImage(n){return(0,x.A)(function*(){if(n instanceof Image)return yield t._awaitImageLoad(n),n;if(n instanceof HTMLVideoElement||n instanceof HTMLCanvasElement||n instanceof SVGImageElement||"OffscreenCanvas"in window&&n instanceof OffscreenCanvas||"ImageBitmap"in window&&n instanceof ImageBitmap)return n;if(!(n instanceof File||n instanceof Blob||n instanceof URL||"string"==typeof n))throw"Unsupported image type.";{let o=new Image;o.src=n instanceof File||n instanceof Blob?URL.createObjectURL(n):n.toString();try{return yield t._awaitImageLoad(o),o}finally{(n instanceof File||n instanceof Blob)&&URL.revokeObjectURL(o.src)}}})()}static _awaitImageLoad(n){return(0,x.A)(function*(){n.complete&&0!==n.naturalWidth||(yield new Promise((o,i)=>{let r=l=>{n.removeEventListener("load",r),n.removeEventListener("error",r),l instanceof ErrorEvent?i("Image load error"):o()};n.addEventListener("load",r),n.addEventListener("error",r)}))})()}static _postWorkerMessage(n,o,i,r){return(0,x.A)(function*(){return t._postWorkerMessageSync(yield n,o,i,r)})()}static _postWorkerMessageSync(n,o,i,r){if(!(n instanceof Worker))return-1;let l=t._workerMessageId++;return n.postMessage({id:l,type:o,data:i},r),l}}return t.DEFAULT_CANVAS_SIZE=400,t.NO_QR_CODE_FOUND="No QR code found",t._disableBarcodeDetector=!1,t._workerMessageId=0,t})();var Fc=_(71217);class Jt{static encode(a){return"azt:$"+btoa(a)}static decode(a){return a=a.replace("azt:$",""),atob(a)}static isEncode(a){return 0===a.indexOf("azt:$")}}var jc=_(62095),Ec=_(76688);const Oc=()=>({"mr-1":!0});function Ac(t,a){if(1&t){const n=e.RV6();e.j41(0,"zxing-scanner",8),e.mxI("deviceChange",function(i){e.eBV(n);const r=e.XpG();return e.DH7(r.currentDevice,i)||(r.currentDevice=i),e.Njj(i)}),e.bIt("scanSuccess",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.onCodeResult(i))})("permissionResponse",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.onHasPermission(i))})("camerasFound",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.onCamerasFound(i))})("torchCompatible",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.onTorchCompatible(i))}),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("torch",n.torchEnabled),e.R50("device",n.currentDevice),e.Y8G("tryHarder",n.tryHarder)("formats",n.formatsEnabled)}}function Mc(t,a){if(1&t&&(e.j41(0,"span",9),e.EFF(1),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI("( ",n.contentResult," )")}}let ko=(()=>{var t;class a extends $.H{constructor(o){super(),this.commonService=o,this.outContentScan=new e.bkB,this.outNotCamAllow=new e.bkB,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new Fc.t(!1),this.tryHarder=!1,this.formatsEnabled=[hn.BarcodeFormat.CODE_128,hn.BarcodeFormat.DATA_MATRIX,hn.BarcodeFormat.EAN_13,hn.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(o){this.availableDevices=o,this.hasDevices=!(!o||!o.length)}onCodeResult(o){this.qrResultString=o,Jt.isEncode(o)?this.switchChangeContent(Jt.decode(o)):this.switchChangeContent(null)}onDeviceSelectChange(o){const i=this.availableDevices.find(r=>r.deviceId===o);this.currentDevice=i||void 0}onHasPermission(o){this.hasPermission=o}onTorchCompatible(o){this.torchAvailable$.next(o||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(o){let l=o.target.files;if(l?.length){var p=l[0];if(!p)return;this.scanProcessSelectFile(o,p,0)}else this.switchChangeContent(null)}scanProcessSelectFile(o,i,r){Tc.scanImage(i,{returnDetailedScanResult:!0}).then(l=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(l)),o.target.value="";var p=l.data;this.thatLog("onFileSelected: 1 "+p),Jt.isEncode(p)?this.switchChangeContent(Jt.decode(p)):this.switchChangeContent(null)}).catch(l=>{r>=2?(o.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(l)),this.switchChangeContent(null)):this.scanProcessSelectFile(o,i,r++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(o){this.contentResult=o,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+o),this.outContentScan.emit(this.contentResult)}thatLog(o){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+o)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(jc.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[e.Vt3],decls:10,vars:7,consts:[["formChoseFile",""],[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],["name","upload","size","24",3,"ngClass"],[3,"deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible","torch","device","tryHarder","formats"],[1,"text-center"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"div",1),e.DNE(1,Ac,1,4,"zxing-scanner",2),e.k0s(),e.j41(2,"div",3),e.DNE(3,Mc,2,1,"span",4),e.j41(4,"input",5,0),e.bIt("change",function(p){return e.eBV(r),e.Njj(i.onFileSelected(p))}),e.k0s(),e.j41(6,"a",6),e.bIt("click",function(){e.eBV(r);const p=e.sdS(5);return e.Njj(p.click())}),e.nrm(7,"lucide-icon",7),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()}2&o&&(e.R7$(),e.Y8G("ngIf",i.isShowScanner),e.R7$(2),e.Y8G("ngIf",i.isShowLog),e.R7$(4),e.Y8G("ngClass",e.lJ4(6,Oc)),e.R7$(),e.SpI(" ",e.bMT(9,4,"lang_auto_tai_len_ma_co_san")," "))},dependencies:[s.YU,s.bT,Ec.M,J.WGl,w.wp],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),a})();const Pc=["aztScanQrcode"],Gc=t=>({hiddenIpt:t}),$c=t=>[t],zc=()=>({user_click:"true"}),Lc=()=>({"dark:text-slate-500":!0});function Dc(t,a){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Nc(t,a){if(1&t&&(e.j41(0,"div",38),e.DNE(1,Dc,3,3,"div",39),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function Bc(t,a){1&t&&e.nrm(0,"azt-loading-ui",40)}function Vc(t,a){1&t&&(e.j41(0,"div",41)(1,"span",42),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI("***",e.bMT(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai"),""))}function Uc(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.reloadProcessForgot())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_thu_lai")," "))}function Yc(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",22)(1,"div",23),e.nrm(2,"input",24),e.nI1(3,"mytranslate"),e.j41(4,"button",25)(5,"span",26),e.nrm(6,"lucide-icon",27),e.k0s()()(),e.j41(7,"div",23),e.nrm(8,"input",28),e.nI1(9,"mytranslate"),e.j41(10,"button",29),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.togglePassword())}),e.nrm(11,"lucide-icon",30),e.k0s(),e.DNE(12,Nc,2,1,"div",31),e.k0s(),e.j41(13,"div",32)(14,"div",33)(15,"button",34),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.changePassword())}),e.DNE(16,Bc,1,0,"azt-loading-ui",35),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()(),e.DNE(19,Vc,4,3,"div",36)(20,Uc,4,3,"div",37),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(3,12,"lang_auto_ma_xac_thuc")),e.BMQ("disabled",!0),e.R7$(6),e.FS9("type",n.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(9,14,"lang_auto_mat_khau_moi")),e.R7$(3),e.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",e.lJ4(18,Lc)),e.R7$(),e.Y8G("ngIf",n.form.controls.password.invalid&&n.form.controls.password.dirty),e.R7$(3),e.Y8G("disabled",n.statusObj.errorMessage||n.form.invalid||n.statusObj.loading),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(18,16,"lang_auto_tiep_tuc")," "),e.R7$(2),e.Y8G("ngIf",n.statusObj.errorMessage),e.R7$(),e.Y8G("ngIf",n.statusObj.errorMessage)}}let Qc=(()=>{var t;class a extends $.H{getError(o){return!!this.form.controls[o].errors&&this.form.controls[o].errors}getErrorType(o,i){return!!this.form.controls[o].errors?.[i]&&this.form.controls[o].errors?.[i]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(o){null!==o?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:o}).subscribe(r=>{1==r.success&&1==r?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(o),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var o=this.getFormValue();this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:o.hash,password:o.password}).subscribe(r=>{0!=r.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}getFormValue(){return this.form.getRawValue()}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",super.ngOnInit()}constructor(o,i){super(),this.localStorageObject=o,this.qrCodeForgotPasswordService=i,this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink="",this.form=new c.gE({emailOrPhone:new c.MJ("",{nonNullable:!0}),hash:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(6)]}),confirm_password:new c.MJ("",{nonNullable:!0})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(qt.G),e.rXU(Z.Cu))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],viewQuery:function(o,i){if(1&o&&e.GBs(Pc,5),2&o){let r;e.mGM(r=e.lsd())&&(i.elementZztScanQrcode=r.first)}},features:[e.Vt3],decls:38,vars:27,consts:[["aztScanQrcode",""],[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["name","qr-code","size","20"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5 text-center xl:text-left",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"div",3),e.nrm(3,"div",4),e.j41(4,"div",5),e.nrm(5,"img",6),e.j41(6,"div",7)(7,"div",8),e.nrm(8,"div",9)(9,"div",9)(10,"div",9),e.k0s()(),e.nrm(11,"br")(12,"br"),e.j41(13,"div",10)(14,"div",11)(15,"span",12),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",13)(19,"div",14)(20,"div",15),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"azt-scan-qrcode",16,0),e.bIt("outContentScan",function(p){return e.eBV(r),e.Njj(i.outContentScan(p))}),e.k0s()(),e.DNE(25,Yc,21,19,"div",17),e.k0s(),e.nrm(26,"hr"),e.j41(27,"div",18)(28,"div",19)(29,"a",20),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div")(33,"a",21),e.nI1(34,"navigationLocalize"),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()()()()(),e.nrm(37,"div",4),e.k0s()()()}2&o&&(e.R7$(),e.Y8G("formGroup",i.form),e.R7$(7),e.Y8G("ngClass",i.stepByStep+2==1?"active":i.stepByStep+2>1?"active pro":""),e.R7$(),e.Y8G("ngClass",i.stepByStep+2==2?"active":i.stepByStep+2>2?"active pro":""),e.R7$(),e.Y8G("ngClass",i.stepByStep+2==3?"active":i.stepByStep+2>3?"active pro":""),e.R7$(6),e.JRh(e.bMT(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),e.R7$(3),e.Y8G("ngClass",e.eq3(22,Gc,i.sussScanNextConf)),e.R7$(2),e.SpI(" ",e.bMT(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),e.R7$(4),e.Y8G("ngIf",i.sussScanNextConf),e.R7$(5),e.JRh(e.bMT(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),e.R7$(3),e.Y8G("routerLink",e.eq3(24,$c,e.bMT(34,18,i.backLink?i.backLink:"/auth/login")))("queryParams",e.lJ4(26,zc)),e.R7$(2),e.SpI(" ",e.bMT(36,20,i.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan")," "))},dependencies:[X.Wk,s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ko,ve.t,ee.R,J.WGl,w.F2,w.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),a})();var Wc=_(15437);const Xc=()=>({"mr-2":!0});function qc(t,a){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"lucide-icon",4),e.EFF(2),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngClass",e.lJ4(2,Xc)),e.R7$(),e.SpI(" ",n.stringDuration," ")}}let So=(()=>{var t;class a extends $.H{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new e.bkB,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink="",this.contentNew=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.qrCode&&(this.loopDuration=setInterval(()=>{var o=Math.floor(Date.now()/1e3),r=this.expired-(o-this.startDuration);if(r<0)this.clearLoopDuration(),this.qrCode.clear(),this.expiredAction.emit();else{var l=Math.floor(r/60),p=r-60*l;this.stringDuration=(l<10?"0"+l:""+l)+" : "+(p<10?"0"+p:""+p)}},1e3))}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=Jt.encode(this.content)}onChangeURL(o){this.qrCodeDownloadLink=o}downloadQrCode(o){this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,o=o||"azota-qr")}}return(t=a).\u0275fac=(()=>{let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}})(),t.\u0275cmp=e.VBU({type:t,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[e.Vt3],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"qrCodeURL","qrdata","width","errorCorrectionLevel"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["name","timer","size","20",3,"ngClass"]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.DNE(1,qc,3,3,"div",1),e.j41(2,"qrcode",2),e.bIt("qrCodeURL",function(l){return i.onChangeURL(l)}),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",i.isDuration),e.R7$(),e.Y8G("qrdata",i.contentNew)("width",i.width)("errorCorrectionLevel","M"))},dependencies:[s.YU,s.bT,J.WGl,Wc.c],encapsulation:2}),a})();const Jc=["elementCreateQr"],Hc=()=>({"mx-auto":!0}),fn=()=>({"mr-2":!0}),xo=t=>[t];function Kc(t,a){if(1&t&&(e.j41(0,"div",12),e.nrm(1,"azt-create-qr-image",13,0),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("content",n.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function Zc(t,a){if(1&t&&(e.j41(0,"div",14),e.nrm(1,"lucide-icon",15),e.j41(2,"div",16),e.EFF(3),e.k0s()()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngClass",e.lJ4(2,Hc)),e.R7$(2),e.SpI(" ",n.noticeContentString," ")}}function e_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.downloadQrCode())}),e.nrm(2,"lucide-icon",19),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,fn)),e.R7$(),e.SpI(" ",e.bMT(4,2,"lang_auto_tai_xuong_ma")," "))}function t_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",17)(1,"button",20),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.openDialog())}),e.nrm(2,"lucide-icon",21),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,fn)),e.R7$(),e.SpI(" ",e.bMT(4,2,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}function n_(t,a){1&t&&(e.j41(0,"a",22),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",23),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()),2&t&&(e.Y8G("routerLink",e.eq3(7,xo,e.bMT(1,3,"/admin/dashboard"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,fn)),e.R7$(),e.SpI(" ",e.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}function o_(t,a){1&t&&(e.j41(0,"a",24),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",23),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()),2&t&&(e.Y8G("routerLink",e.eq3(7,xo,e.bMT(1,3,"/student/classroom/0"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,fn)),e.R7$(),e.SpI(" ",e.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}const i_=()=>({"mr-2 text-pending":!0});let a_=(()=>{var t;class a extends $.H{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(o=>{1==o.success?0!=o?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(i=>{this.noticeContentString=i}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(i=>{this.noticeContentString=i}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(o=>{1==o.success?this.contentQrcodeHash=o.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.sAztDialogService.open(s_,{restoreFocus:!1}).afterClosed().subscribe(i=>{!0===i&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-forgot")}ngOnInit(){var o=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(o,10),this.checkQrThisMe(),super.ngOnInit()}constructor(o,i,r){super(),this.sAztDialogService=o,this.activeRoute=i,this.qrCodeForgotPasswordService=r,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Ue.i),e.rXU(X.nX),e.rXU(Z.Cu))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-gzip-tool"]],viewQuery:function(o,i){if(1&o&&e.GBs(Jc,5),2&o){let r;e.mGM(r=e.lsd())&&(i.elementCreateQr=r.first)}},features:[e.Vt3],decls:15,vars:9,consts:[["elementCreateQr",""],[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],[1,"text-center"],["name","eye","size","24",3,"ngClass"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["name","upload","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["name","image-plus","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout")(1,"div",1)(2,"h3",2),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",3)(6,"div",4),e.DNE(7,Kc,3,4,"div",5)(8,Zc,4,3,"div",6),e.k0s(),e.j41(9,"div",7),e.DNE(10,e_,5,5,"div",8)(11,t_,5,5,"div",8),e.k0s()(),e.j41(12,"div",9),e.DNE(13,n_,5,10,"a",10)(14,o_,5,10,"a",11),e.k0s()()()),2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,7,"lang_auto_qrcode_quen_mat_khau")," "),e.R7$(4),e.Y8G("ngIf",i.contentQrcodeHash),e.R7$(),e.Y8G("ngIf",!i.contentQrcodeHash&&i.noticeContentString),e.R7$(2),e.Y8G("ngIf",i.contentQrcodeHash),e.R7$(),e.Y8G("ngIf",!i.contentQrcodeHash),e.R7$(2),e.Y8G("ngIf",0==i.role),e.R7$(),e.Y8G("ngIf",1==i.role))},dependencies:[X.Wk,s.YU,s.bT,So,ke.K,J.WGl,w.F2,w.wp]}),a})(),s_=(()=>{var t;class a extends ln._{}return(t=a).\u0275fac=(()=>{let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}})(),t.\u0275cmp=e.VBU({type:t,selectors:[["dialog-conf-content-qrcode-dialog"]],features:[e.Vt3],decls:29,vars:30,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["name","qr-code","size","32",3,"ngClass"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.nrm(4,"lucide-icon",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5)(8,"p",6),e.EFF(9),e.nI1(10,"mytranslate"),e.nI1(11,"mytranslate"),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"p",7),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"p",7),e.EFF(17),e.nI1(18,"mytranslate"),e.nrm(19,"br"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()(),e.j41(22,"div",8)(23,"button",9),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"button",10),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()),2&o&&(e.R7$(4),e.Y8G("ngClass",e.lJ4(29,i_)),e.R7$(),e.SpI(" ",e.bMT(6,11,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),e.R7$(4),e.E5c(" ",e.bMT(10,13,"lang_auto_bam"),' "',e.bMT(11,15,"lang_auto_xac_nhan"),'" ',e.bMT(12,17,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),e.R7$(5),e.SpI(" ",e.bMT(15,19,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),e.R7$(3),e.SpI(" ",e.bMT(18,21,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),e.R7$(3),e.SpI(" ",e.bMT(21,23,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),e.R7$(4),e.SpI(" ",e.bMT(25,25,"lang_auto_huy")," "),e.R7$(2),e.Y8G("mat-dialog-close",!0),e.R7$(),e.SpI(" ",e.bMT(28,27,"lang_auto_xac_nhan")," "))},dependencies:[s.YU,st.tx,J.WGl,w.wp],encapsulation:2}),a})(),r_=(()=>{var t;class a extends $.H{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return(t=a).\u0275fac=(()=>{let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}})(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],features:[e.Vt3],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"div",8)(9,"div",8)(10,"div",8),e.k0s()(),e.nrm(11,"br")(12,"br"),e.j41(13,"div",9)(14,"div",10)(15,"span",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",12)(19,"p"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"div",13)(23,"a",14),e.bIt("click",function(){return i.redirectToHome()}),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"a",15),e.bIt("click",function(){return i.redirectToCreateQrCode()}),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()()(),e.nrm(29,"div",3),e.k0s()()()),2&o&&(e.R7$(8),e.Y8G("ngClass",i.step_by_step+2==1?"active":i.step_by_step+2>1?"active pro":""),e.R7$(),e.Y8G("ngClass",i.step_by_step+2==2?"active":i.step_by_step+2>2?"active pro":""),e.R7$(),e.Y8G("ngClass",i.step_by_step+2==3?"active":i.step_by_step+2>3?"active pro":""),e.R7$(6),e.JRh(e.bMT(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),e.R7$(4),e.JRh(e.bMT(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),e.R7$(4),e.JRh(e.bMT(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),e.R7$(3),e.JRh(e.bMT(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[s.YU,w.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),a})(),Ro=(()=>{var t;class a extends $.H{ngOnInit(){super.ngOnInit();var o=/iPad|iPhone|iPod/.test(window.navigator.userAgent),i=this.commonService.getMyParam(this.activeRoute,"code")?.toString(),r=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString();"teacher"==r?o?window.location.replace("azota://"+i):window.location.replace("https://aztappteacher.page.link/"+i):window.location.replace("https://azt.page.link/"+i)}constructor(o){super(),this.activeRoute=o}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(X.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-go-to-mobile"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"centerBoth"],[1,"text-center"],["type","logo-azota","id","jobing-j-drawit","id","Layer_1",3,"size"],[1,"p-0","mt-2"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-svg-icon",2),e.j41(3,"h3",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("size",48),e.R7$(2),e.SpI("",e.bMT(5,2,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[rt.m,w.wp],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]}),a})();var wo=_(35696),Un=_(1703),l_=(_(7882),_(18447)),vn=_(63016),To=_(51698),Fo=_(14159),c_=_(17509),We=_(22867),bn=_(47947),jo=_(88249),__=_(91126);function Eo(t,a){return(0,__.T)(a)?(0,We.n)(()=>t,a):(0,We.n)(()=>t)}var u_=_(41483);const m_=new e.nKC("angularfire2.auth.use-emulator"),p_=new e.nKC("angularfire2.auth.settings"),g_=new e.nKC("angularfire2.auth.tenant-id"),h_=new e.nKC("angularfire2.auth.langugage-code"),f_=new e.nKC("angularfire2.auth.use-device-language"),v_=new e.nKC("angularfire.auth.persistence");let yn=(()=>{var t;class a{constructor(o,i,r,l,p,b,S,O,A,te,B,re){(0,m.A)(this,"authState",void 0),(0,m.A)(this,"idToken",void 0),(0,m.A)(this,"user",void 0),(0,m.A)(this,"idTokenResult",void 0),(0,m.A)(this,"credential",void 0);const Xe=new l_.B,Ae=(0,vn.of)(void 0).pipe((0,f.Q)(p.outsideAngular),(0,We.n)(()=>l.runOutsideAngular(()=>Promise.resolve().then(_.bind(_,7882)))),(0,bn.T)(()=>to(o,l,i)),(0,bn.T)(ye=>((t,a,n,o,i,r,l,p)=>function si(t,a,n,o,i){const[,r,l]=globalThis.\u0275AngularfireInstanceCache.find(p=>p[0]===t)||[];if(r)return function ri(t,a){try{return t.toString()===a.toString()}catch{return t===a}}(i,l)||(no("error",`${a} was already initialized on the ${n} Firebase App with different settings.${li?" You may need to reload as Firebase is not HMR aware.":""}`),no("warn",{is:i,was:l})),r;{const p=o();return globalThis.\u0275AngularfireInstanceCache.push([t,p,i]),p}}(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const b=a.runOutsideAngular(()=>t.auth());if(n&&b.useEmulator(...n),o&&(b.tenantId=o),b.languageCode=i,r&&b.useDeviceLanguage(),l)for(const[S,O]of Object.entries(l))b.settings[S]=O;return p&&b.setPersistence(p),b},[n,o,i,r,l,p]))(ye,l,b,O,A,te,S,B)),(0,jo.t)({bufferSize:1,refCount:!1}));if((0,s.Vy)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,vn.of)(null);else{Ae.pipe((0,Un.$)()).subscribe();const ye=Ae.pipe((0,We.n)(ae=>ae.getRedirectResult().then(pe=>pe,()=>null)),Jn,(0,jo.t)({bufferSize:1,refCount:!1})),Me=Ae.pipe((0,We.n)(ae=>new To.c(pe=>({unsubscribe:l.runOutsideAngular(()=>ae.onAuthStateChanged(dt=>pe.next(dt),dt=>pe.error(dt),()=>pe.complete()))})))),qe=Ae.pipe((0,We.n)(ae=>new To.c(pe=>({unsubscribe:l.runOutsideAngular(()=>ae.onIdTokenChanged(dt=>pe.next(dt),dt=>pe.error(dt),()=>pe.complete()))}))));this.authState=ye.pipe(Eo(Me),(0,d._)(p.outsideAngular),(0,f.Q)(p.insideAngular)),this.user=ye.pipe(Eo(qe),(0,d._)(p.outsideAngular),(0,f.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,We.n)(ae=>ae?(0,Fo.H)(ae.getIdToken()):(0,vn.of)(null))),this.idTokenResult=this.user.pipe((0,We.n)(ae=>ae?(0,Fo.H)(ae.getIdTokenResult()):(0,vn.of)(null))),this.credential=(0,c_.h)(ye,Xe,this.authState.pipe((0,u_.p)(ae=>!ae))).pipe((0,bn.T)(ae=>ae?.user?ae:null),(0,d._)(p.outsideAngular),(0,f.Q)(p.insideAngular))}return((t,a,n,o={})=>new Proxy(t,{get:(i,r)=>n.runOutsideAngular(()=>{if(t[r])return o?.spy?.get&&o.spy.get(r,t[r]),t[r];if(ei.indexOf(r)>-1)return()=>{};const l=a.toPromise().then(p=>{const b=p?.[r];return"function"==typeof b?b.bind(p):b?.then?b.then(S=>n.run(()=>S)):n.run(()=>b)});return new Proxy(()=>{},{get:(p,b)=>l[b],apply:(p,b,S)=>l.then(O=>{const A=O?.(...S);return o?.spy?.apply&&o.spy.apply(r,S,A),A})})})}))(this,Ae,l,{spy:{apply:(ye,Me,qe)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&qe.then(ae=>Xe.next(ae))}}})}}return t=a,(0,m.A)(a,"\u0275fac",function(o){return new(o||t)(e.KVO(On),e.KVO(An,8),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(ze),e.KVO(m_,8),e.KVO(p_,8),e.KVO(g_,8),e.KVO(h_,8),e.KVO(f_,8),e.KVO(v_,8),e.KVO(me,8))}),(0,m.A)(a,"\u0275prov",e.jDH({token:t,factory:t.\u0275fac,providedIn:"any"})),a})(),y_=(()=>{var t;class a extends $.H{constructor(o,i,r){super(),this.fireAuth=o,this.authService=i,this.redirectByRoleService=r,this.fireAuth.authState.pipe((0,Un.$)()).subscribe(l=>{l?this.signInWithTokenGoogle(l):this.googleSignIn()})}signInWithTokenGoogle(o){const i=this.commonService.getMyQueryParam("type");o.getIdToken().then(r=>{let l={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:r??"",language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(l).subscribe(p=>{if(1==p.success){let S=this.commonService.getMyQueryParam("return_url")??"";if(""===S){let O=this.commonService.getMyQueryParam("backto")??"";var b=O.includes("return_url=")?O.split("return_url=")[1]:"";S=decodeURIComponent(b)}1==p.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${encodeURIComponent(S)}`):"0"==i?this.redirectByRoleService.redirectLoginForStudent(S):this.redirectByRoleService.redirectLoginByRole(S)}else{this.errorStatusObj(p.message??"",!0);const S=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(S)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new wo.HF).then(()=>this.fireAuth.getRedirectResult().then(o=>{})).catch(o=>{const i=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(i)})}ngOnDestroy(){super.ngOnDestroy()}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(yn),e.rXU(Z.uR),e.rXU(Fe.b))},t.\u0275cmp=e.VBU({type:t,selectors:[["login-by-openapi"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-loading-ui",2),e.k0s(),e.j41(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("type","azota-logo"),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[ee.R,w.wp],encapsulation:2}),a})(),C_=(()=>{var t;class a extends $.H{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(o){var i=this.userService.getUserObjFromJwtToken(o);null!=i?(this.userService.saveUserObj(i),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var o=this.commonService.getMyQueryParam("zaccess_token")??"",i=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=Be.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_login=1");let r=this.commonService.getMyQueryParam("hasError");!i&&o?this.loginWithAccessToken(o):i&&!this.isBusinessDomain?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`):r?(this.commonService.snackError("lang_auth_login_by_zalo_error"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`)):this.loginZalo()}constructor(o,i,r){super(),this.redirectByRoleService=o,this.redirectService=i,this.userService=r,this.returnUrl="",this.zaloLoginUrl=""}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(Ve.m),e.rXU(Ee.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-login-by-zalo"]],features:[e.Vt3],decls:3,vars:1,consts:[[1,"azt-login-form"],[3,"currentStatusObj"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout")(1,"div",0),e.nrm(2,"azt-loading-effect",1),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("currentStatusObj",i.statusObj))},dependencies:[ge.K,ke.K],encapsulation:2}),a})();const I_=["elementCreateQr"],k_=["aztScanQrcode"],Yn=t=>({hiddenIpt:t}),S_=t=>[t],Qn=()=>({"mr-2":!0});function x_(t,a){1&t&&(e.j41(0,"div",25),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function R_(t,a){1&t&&(e.j41(0,"div",25),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function w_(t,a){if(1&t&&(e.j41(0,"div",26),e.nrm(1,"azt-loading-ui",27),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(2),e.Lme(" ",e.bMT(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",n.nameSessionConfirm," ")}}function T_(t,a){1&t&&(e.j41(0,"div",26),e.nrm(1,"azt-loading-ui",27),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dang_cho_quet_ma_qrcode")," "))}function F_(t,a){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"br"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",n.nameSessionConfirm," ")}}function j_(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"azt-loading-ui",27),e.j41(2,"span",35),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function E_(t,a){if(1&t&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.JRh(n.textResultErr)}}function O_(t,a){if(1&t&&(e.j41(0,"div",37),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.JRh(n.textResultSuss)}}function A_(t,a){1&t&&e.nrm(0,"azt-loading-ui",27)}function M_(t,a){1&t&&e.nrm(0,"azt-loading-ui",27)}function P_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",38)(1,"button",39),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.confContentPendingLogin(1))}),e.DNE(2,A_,1,0,"azt-loading-ui",40),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",41),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.confContentPendingLogin(2))}),e.DNE(6,M_,1,0,"azt-loading-ui",40),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(),e.Y8G("disabled",n.isLoadingBtn||n.textResultErr),e.R7$(),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(),e.SpI(" ",e.bMT(4,6,"lang_auto_chap_nhan")," "),e.R7$(2),e.Y8G("disabled",n.isLoadingBtn||n.textResultErr),e.R7$(),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(),e.SpI(" ",e.bMT(8,8,"lang_auto_tu_choi")," ")}}function G_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"button",42),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.backScanActionWithIsLogin())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_quay_lai")))}function $_(t,a){if(1&t&&(e.j41(0,"div",28)(1,"div",29)(2,"div",30),e.DNE(3,F_,6,7,"span",31),e.k0s(),e.DNE(4,j_,5,3,"div",31)(5,E_,2,1,"div",32)(6,O_,2,1,"div",33)(7,P_,9,10,"div",34)(8,G_,4,3,"div",31),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.Y8G("ngIf",n.nameSessionConfirm),e.R7$(),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(),e.Y8G("ngIf",n.textResultErr),e.R7$(),e.Y8G("ngIf",n.textResultSuss),e.R7$(),e.Y8G("ngIf",!n.textResultSuss||!n.isConfirmBtn),e.R7$(),e.Y8G("ngIf",n.isLogin&&!1===n.isLoadingBtn&&!0===n.isConfirmBtn)}}function z_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",46),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.createRequestLoginHashCodeAction())}),e.j41(1,"div",47),e.nrm(2,"lucide-icon",48),e.j41(3,"div"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()}2&t&&(e.R7$(4),e.JRh(e.bMT(5,1,"lang_auto_tao_moi_ma")))}function L_(t,a){if(1&t){const n=e.RV6();e.j41(0,"azt-create-qr-image",49,1),e.bIt("expiredAction",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.expiredQrcodeAction())}),e.k0s()}if(2&t){const n=e.XpG(2);e.Y8G("content",n.contentCreateQrcode)("width",300)("height",300)("expired",n.durationQrcodeExpire)}}function D_(t,a){if(1&t&&(e.j41(0,"div",43),e.DNE(1,z_,6,3,"div",44)(2,L_,2,4,"azt-create-qr-image",45),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",!1===n.isLogin&&!n.contentCreateQrcode),e.R7$(),e.Y8G("ngIf",n.contentCreateQrcode)}}function N_(t,a){if(1&t){const n=e.RV6();e.j41(0,"a",50),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.downloadQrCode())}),e.nrm(1,"lucide-icon",51),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Qn)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_auto_tai_xuong_ma")," "))}function B_(t,a){1&t&&(e.j41(0,"div",52)(1,"span",53),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_hoac")," "))}function V_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",13)(1,"a",54),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.switchModeView())}),e.nrm(2,"lucide-icon",55),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()}2&t&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,Qn)),e.R7$(2),e.JRh(e.bMT(5,2,"lang_auto_quet_ma_qr_co_san")))}function U_(t,a){if(1&t&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.JRh(n.textResultErr)}}function Y_(t,a){if(1&t&&(e.j41(0,"div",37),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.JRh(n.textResultSuss)}}function Q_(t,a){1&t&&e.nrm(0,"azt-loading-ui",27)}function W_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",38)(1,"button",56),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.confContentLogin())}),e.DNE(2,Q_,1,0,"azt-loading-ui",40),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",57),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.reopenScanCamInit())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(),e.Y8G("disabled",n.isLoadingBtn||n.textResultErr),e.R7$(),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(),e.SpI(" ",e.bMT(4,5,"lang_auto_dang_nhap")," "),e.R7$(2),e.Y8G("disabled",n.isLoadingBtn),e.R7$(),e.JRh(e.bMT(7,7,"lang_auto_thu_lai"))}}function X_(t,a){if(1&t&&(e.j41(0,"div",28)(1,"div",29)(2,"div",30),e.EFF(3),e.nI1(4,"mytranslate"),e.nrm(5,"br"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,U_,2,1,"div",32)(9,Y_,2,1,"div",33)(10,W_,8,9,"div",34),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.R7$(3),e.SpI(" ",e.bMT(7,7,"lang_auto_voi_ma_qr_da_phat_hien")," "),e.R7$(2),e.Y8G("ngIf",n.textResultErr),e.R7$(),e.Y8G("ngIf",n.textResultSuss),e.R7$(),e.Y8G("ngIf",!n.textResultSuss)}}function q_(t,a){1&t&&(e.j41(0,"div"),e.nrm(1,"azt-loading-ui",27),e.j41(2,"span",35),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function J_(t,a){if(1&t&&e.nrm(0,"div",61),2&t){const n=e.XpG(2);e.Y8G("innerHTML",n.textResultErr,e.npT)}}function H_(t,a){1&t&&e.nrm(0,"azt-loading-ui",27)}function K_(t,a){if(1&t&&(e.j41(0,"button",62),e.DNE(1,H_,1,0,"azt-loading-ui",40),e.EFF(2),e.k0s()),2&t){const n=e.XpG(2);e.Y8G("disabled",!n.textResultSuss),e.R7$(),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(),e.SpI(" ",n.textResultSuss," ")}}function Z_(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.nrm(6,"br"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,q_,5,3,"div",31)(10,J_,1,1,"div",58),e.j41(11,"div",38),e.DNE(12,K_,3,3,"button",59),e.j41(13,"button",60),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.reopenScanCamInit())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()}if(2&t){const n=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,8,"lang_auto_dang_nhap_tai_khoan")," "),e.R7$(3),e.Lme(" ",e.bMT(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",n.nameSessionConfirm," "),e.R7$(2),e.Y8G("ngIf",n.isLoadingBtn),e.R7$(),e.Y8G("ngIf",n.textResultErr),e.R7$(2),e.Y8G("ngIf",!n.textResultSuss&&n.isLoadingBtn),e.R7$(),e.Y8G("disabled",n.isLoadingBtn),e.R7$(),e.JRh(e.bMT(15,12,"lang_auto_thu_lai"))}}let eu=(()=>{var t;class a extends $.H{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.waitDestroy(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(o=>{1==o.success?(this.successStatusObj(),this.contentCreateQrcode=o?.data?.qrCode??"",this.durationQrcodeExpire=o?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(o){null!==o?(this.scanQrContent=o,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(r=>{this.isLoadingBtn=!1,1==r.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=r?.data?.qrCode??"",this.nameSessionConfirm=r?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(l=>{this.textResultErr=l}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(r=>{this.textResultErr=r}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(i=>{1==i.success&&(1==i.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):i.data&&2===i.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(r=>{this.textResultErr=r}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(o=>{1==o.success&&o.data&&""!==o.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=o?.data?.qrCode??"",this.nameSessionConfirm=o?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(o){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:o}).subscribe(r=>{1==r.success?this.textResultSuss=1==o?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(l=>{this.textResultErr=l}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(o=>{1==o.success&&(this.contentCreateQrcode=o?.data?.qrCode??"",this.nameSessionConfirm=o?.data?.name??"",this.durationQrcodeExpire=o?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(i=>{1===i.success&&404!=i?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(i=>{this.isLoadingBtn=!1,i.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(r=>{this.textResultSuss=r}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(r=>{this.textResultErr=r})})}ngOnInit(){var o=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(o,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/classroom/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,i,r,l,p,b){super(),this.redirectByRoleService=o,this.userService=i,this.localStorageObject=r,this.activeRoute=l,this.qrCodeLoginService=p,this.redirectService=b,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(Ee.R),e.rXU(qt.G),e.rXU(X.nX),e.rXU(Z.f0),e.rXU(Ve.m))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-login"]],viewQuery:function(o,i){if(1&o&&(e.GBs(I_,5),e.GBs(k_,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.elementCreateQr=r.first),e.mGM(r=e.lsd())&&(i.elementZztScanQrcode=r.first)}},features:[e.Vt3],decls:38,vars:39,consts:[["aztScanQrcode",""],["elementCreateQr",""],[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center flex items-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-center"],[1,"mb-3","text-center"],[1,"mr-1"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"click","disabled"],["class","mr-1",4,"ngIf"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"click","disabled"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],["name","refresh-ccw","size","20"],[3,"expiredAction","content","width","height","expired"],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center","flex","items-center",3,"click"],["name","download","size","20",3,"ngClass"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],["name","focus","size","20",3,"ngClass"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"click","disabled"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"click","disabled"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"click","disabled"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"auth-layout")(1,"div",2)(2,"h3",3),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",4),e.DNE(6,x_,3,3,"div",5)(7,R_,3,3,"div",5)(8,w_,4,4,"div",6)(9,T_,4,3,"div",6),e.k0s(),e.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),e.DNE(14,$_,9,6,"div",11)(15,D_,3,2,"div",12),e.j41(16,"div",13),e.DNE(17,N_,4,5,"a",14),e.k0s(),e.DNE(18,B_,4,3,"div",15)(19,V_,6,5,"div",16),e.k0s(),e.j41(20,"div",17)(21,"div",18),e.EFF(22),e.nI1(23,"mytranslate"),e.j41(24,"a",19),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",20)(28,"azt-scan-qrcode",21,0),e.bIt("outContentScan",function(p){return e.eBV(r),e.Njj(i.outContentScan(p))}),e.k0s()(),e.DNE(30,X_,11,9,"div",11)(31,Z_,16,14,"div",11),e.k0s()()()(),e.j41(32,"div",22)(33,"a",23),e.nI1(34,"navigationLocalize"),e.nrm(35,"lucide-icon",24),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()()()()}2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,20,"lang_auto_dang_nhap_voi_ma_qr_code")," "),e.R7$(3),e.Y8G("ngIf",!i.isLogin),e.R7$(),e.Y8G("ngIf",i.isLogin),e.R7$(),e.Y8G("ngIf",!i.isLogin&&i.contentCreateQrcode),e.R7$(),e.Y8G("ngIf",i.isLogin&&i.contentCreateQrcode&&!i.scanQrContentConfirm),e.R7$(4),e.Y8G("ngClass",e.eq3(30,Yn,"create"!==i.modeShowInit)),e.R7$(),e.Y8G("ngIf",i.scanQrContentConfirm&&i.isLogin),e.R7$(),e.Y8G("ngIf",!i.scanQrContentConfirm),e.R7$(2),e.Y8G("ngIf",i.contentCreateQrcode&&!i.scanQrContentConfirm),e.R7$(),e.Y8G("ngIf",!i.scanQrContentConfirm),e.R7$(),e.Y8G("ngIf",!i.scanQrContentConfirm),e.R7$(),e.Y8G("ngClass",e.eq3(32,Yn,"scan"!==i.modeShowInit)),e.R7$(2),e.SpI(" ",e.bMT(23,22,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),e.R7$(3),e.JRh(e.bMT(26,24,"lang_auto_huong_dan")),e.R7$(2),e.Y8G("ngClass",e.eq3(34,Yn,!1!==i.sussScanNextConf)),e.R7$(3),e.Y8G("ngIf",!0===i.sussScanNextConf&&i.isLogin),e.R7$(),e.Y8G("ngIf",!0===i.sussScanNextConf&&!i.isLogin),e.R7$(2),e.Y8G("routerLink",e.eq3(36,S_,e.bMT(34,26,i.backToLink))),e.R7$(2),e.Y8G("ngClass",e.lJ4(38,Qn)),e.R7$(),e.SpI(" ",e.bMT(37,28,"lang_auto_quay_lai")," "))},dependencies:[X.Wk,s.YU,s.bT,So,ko,ee.R,ke.K,J.WGl,w.F2,w.wp],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),a})();var Oo=_(46247),Wn=_(40949),Ao=_(79767);let Mo=(()=>{var t;class a{constructor(){}isCommonInAppBrowser(){const o=navigator.userAgent?.toLowerCase(),i=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let r=0;r<i.length;r++)if(-1!==o.indexOf(i[r]))return!0;return!1}getMobileOperatingSystem(){let o=navigator.userAgent||navigator.vendor||Ao.A.opera,i="Android";return/android/i.test(o)&&(i="Android"),/iPad|iPhone|iPod/.test(o)&&!Ao.A.MSStream&&(i="iOS"),i}getCommonInAppBrowser(){const o=navigator.userAgent;let i="";return o.indexOf("FBAN")>-1||o.indexOf("FBAV")>-1?i="Facebook":o.indexOf("Zalo")>-1?i="Zalo":o.indexOf("Twitter")>-1?i="Twitter":o.indexOf("Instagram")>-1?i="Instagram":o.indexOf("Line")>-1?i="Line":o.indexOf("MicroMessenger")>-1?i="WeChat":o.indexOf("QQ")>-1?i="QQ":o.indexOf("KAKAOTALK")>-1&&(i="KakaoTalk"),i}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),a})();const tu=()=>({"dark:text-slate-500":!0}),Po=t=>[t],nu=t=>({return_url:t,user_click:"true"}),ou=()=>({"mr-2":!0}),iu=()=>({backTo:"/auth/login"});function au(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",4),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.loadingDomainConfigStatus)}}function su(t,a){if(1&t&&(e.qex(0),e.j41(1,"auth-layout",6)(2,"div",7)(3,"div",8)(4,"div",9),e.nrm(5,"div",10),e.k0s(),e.j41(6,"div",11)(7,"div",12),e.eu8(8,13),e.k0s()()()()(),e.bVm()),2&t){const n=e.XpG(2),o=e.sdS(4);e.R7$(),e.Y8G("maxWidth","")("removeBoxClass",!0)("contentBoxClass","mx-auto w-full"),e.R7$(4),e.Y8G("innerHtml",n.businessWelcomeText,e.npT),e.R7$(3),e.Y8G("ngTemplateOutlet",o)}}function ru(t,a){if(1&t&&(e.j41(0,"div",15),e.eu8(1,13),e.k0s()),2&t){e.XpG(3);const n=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",n)}}function lu(t,a){if(1&t&&(e.j41(0,"div",15),e.nrm(1,"azt-loading-effect",4),e.k0s()),2&t){const n=e.XpG(3);e.R7$(),e.Y8G("currentStatusObj",n.statusObj)}}function cu(t,a){if(1&t&&(e.j41(0,"auth-layout"),e.DNE(1,ru,2,1,"div",14)(2,lu,2,1,"div",14),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",!n.loginByToken),e.R7$(),e.Y8G("ngIf",n.loginByToken)}}function _u(t,a){if(1&t&&e.DNE(0,su,9,5,"ng-container",5)(1,cu,3,2,"ng-template",null,2,e.C5r),2&t){const n=e.sdS(2),o=e.XpG();e.Y8G("ngIf",o.businessWelcomeText&&!o.loginByToken)("ngIfElse",n)}}function uu(t,a){1&t&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email_hoac_username")))}function du(t,a){1&t&&(e.j41(0,"div",34)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function mu(t,a){if(1&t&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,1,n.messageError)," ")}}function pu(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",36)(1,"a",37),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.forgotPassword())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_quen_mat_khau")))}function gu(t,a){1&t&&e.nrm(0,"azt-loading-ui",38)}function hu(t,a){1&t&&(e.j41(0,"span"),e.EFF(1,"\xa0|\xa0"),e.k0s())}function fu(t,a){1&t&&(e.j41(0,"a",50),e.nI1(1,"navigationLocalize"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.Y8G("routerLink",e.eq3(7,Po,e.bMT(1,3,"/auth/register-for-organization")))("queryParams",e.lJ4(9,iu)),e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_register_for_business_register_for_business")," "))}function vu(t,a){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",39)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"a",40),e.nI1(6,"navigationLocalize"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,hu,2,0,"span",32)(10,fu,4,10,"a",41),e.k0s(),e.j41(11,"div",42)(12,"span",43),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",44)(16,"button",45),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.googleSignIn())})("keydown.enter",function(i){return e.eBV(n),e.Njj(i.preventDefault())}),e.nrm(17,"azt-svg-icon",46),e.j41(18,"span",47),e.EFF(19,"Google"),e.k0s()(),e.j41(20,"button",48),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.loginByQrCode())})("keydown.enter",function(i){return e.eBV(n),e.Njj(i.preventDefault())}),e.nrm(21,"lucide-icon",49),e.j41(22,"span",47),e.EFF(23,"Qrcode"),e.k0s()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,9,"lang_auto_ban_chua_co_tai_khoan")),e.R7$(2),e.Y8G("routerLink",e.eq3(17,Po,e.bMT(6,11,"/auth/register")))("queryParams",e.eq3(19,nu,n.returnUrl)),e.R7$(2),e.SpI(" ",e.bMT(8,13,"lang_auto_tao_mot_tai_khoan_moi")," "),e.R7$(2),e.Y8G("ngIf",!(null!=n.userObj&&null!=n.userObj.roles&&n.userObj.roles.includes("STUDENT"))),e.R7$(),e.Y8G("ngIf",!(null!=n.userObj&&null!=n.userObj.roles&&n.userObj.roles.includes("STUDENT"))),e.R7$(3),e.SpI(" ",e.bMT(14,15,"lang_auto_hoac")," "),e.R7$(4),e.Y8G("size",16),e.R7$(4),e.Y8G("ngClass",e.lJ4(21,ou))}}function bu(t,a){if(1&t){const n=e.RV6();e.j41(0,"form",16)(1,"h2",17),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",18)(5,"div",19)(6,"input",20),e.nI1(7,"mytranslate"),e.bIt("keydown.enter",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.login())}),e.k0s(),e.DNE(8,uu,4,3,"div",21),e.k0s(),e.j41(9,"div",19)(10,"div",22)(11,"input",23),e.nI1(12,"mytranslate"),e.bIt("keydown.enter",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.login())}),e.k0s(),e.j41(13,"button",24),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.togglePassword())}),e.nrm(14,"lucide-icon",25),e.k0s()(),e.DNE(15,du,4,3,"div",26),e.k0s()(),e.DNE(16,mu,3,3,"div",27)(17,pu,4,3,"div",28),e.j41(18,"div",29)(19,"button",30),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.login())}),e.DNE(20,gu,1,0,"azt-loading-ui",31),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.DNE(23,vu,24,22,"ng-container",32),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(2),e.SpI(" ",e.bMT(3,15,"lang_auto_dang_nhap")," "),e.R7$(4),e.FS9("placeholder",e.bMT(7,17,"lang_auto_nhap_sdt_hoac_email_hoac_username")),e.R7$(2),e.Y8G("ngIf",n.form.controls.username.invalid&&(n.form.controls.username.dirty||n.form.controls.username.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(12,19,"lang_auto_mat_khau")),e.Y8G("type",n.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",e.lJ4(23,tu)),e.R7$(),e.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(),e.Y8G("ngIf",""!=n.messageError),e.R7$(),e.Y8G("ngIf",!n.isBusinessDomain),e.R7$(2),e.Y8G("disabled",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(22,21,"lang_auto_dang_nhap")," "),e.R7$(2),e.Y8G("ngIf",!n.isBusinessDomain)}}let yu=(()=>{var t;class a extends $.H{executeImportantAction(){return new Promise(o=>{this.recaptchaV3Service.execute("importantAction").subscribe(i=>{o(i)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}callLoginApi(o){var i=this.getFormValue(),r={phone:i.username,password:i.password,tokenCaptcha:o,domain:this.commonService.getBusinessDomainUrl()};this.waitDestroy(this.authService.apiAuthLoginWebPost(r).subscribe(l=>{1==l.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=l.message??"",this.errorStatusObj(l.message??""))}))}login(){this.form.valid?(this.initStatusObj(),this.executeImportantAction().then(o=>{this.callLoginApi(o)}).catch(o=>{this.callLoginApi("")})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callLoginAnonymousApi(o){this.waitDestroy(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:o}).subscribe(r=>{1==r.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(r.message??"")}))}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(o=>{this.callLoginAnonymousApi(o)}).catch(o=>{this.callLoginAnonymousApi("")})}loginWithAccessToken(o){var i=this.userService.getUserObjFromJwtToken(o);if(null!=i){if(Be.c.isProdAzotaVn&&(i.domainName=i.domainName?.replace("tqb.azota.vn","tqb-live.azota.io")),i.domainName&&i.domainName!=this.commonService.getCurrentHostName())return this.sAztRedirectService.redirectLoginWithToken(i.domainName,i.rememberToken??"",this.commonService.getMyQueryParam("return_url")??"");this.userService.saveUserObj(i),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")}else this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1}googleSignIn(){if(this.browserUserAgentService.isCommonInAppBrowser()){let o=this.browserUserAgentService.getCommonInAppBrowser(),i=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),r="facebook"===o.toLowerCase()?"fb":"zalo",l=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${i}/${i}_${r}_1.png`),p=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${i}/${i}_${r}_2.png`);this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(b=>{let S=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),O=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(Oo.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${b+" "+o}. ${S}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${O} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${l}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${O} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${p}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})})}else{const o=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(o)}&click_login=1`)}}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}getFormValue(){return this.form.getRawValue()}loadDomainConfig(){this.isBusinessDomain&&(this.loadingDomainConfigStatus.loading=!0,this.waitDestroy(this.infoService.apiInfoGetDomainConfigsGet(this.commonService.getCurrentHostName()).subscribe(o=>{this.loadingDomainConfigStatus.loading=!1,o.success&&(this.businessWelcomeText=o.data?.welcomeTextAtLogin)})))}checkRedirect(o){return o&&!this.isBusinessDomain?(this.commonService.myNavigation("/auth/register"),!0):this.userService.isLoginAndNotAnonymous()?(this.redirectByRoleService.redirectLoginByRole(this.returnUrl),!0):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous(),!0)}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var o=this.commonService.getMyQueryParam("not_register"),i=this.commonService.getMyQueryParam("user_click");if("1"==this.commonService.getMyQueryParam("isFirstTime")&&this.browserStorageService.saveStorage("isFirstTime","1"),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),!o&&this.mobileAccessTkn)return this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn),void(this.userObj=this.userService.getUserObj());if(this.initStatusObj(),!this.checkRedirect(o)){if(!i&&this.userService.isAnonymousRoleOfCurrentUser())return void this.myNavigation("/student/classroom/0");this.loadDomainConfig(),this.loginByToken=!1,this.userObj=this.userService.getUserObj(),this.stopStatusObj()}}constructor(o,i,r,l,p,b,S,O,A,te,B){super(),this.sAztRedirectService=o,this.userService=i,this.browserStorageService=r,this.localStorageObject=l,this.authService=p,this.redirectByRoleService=b,this.recaptchaV3Service=S,this.cdnService=O,this.browserUserAgentService=A,this.sAztDialogService=te,this.infoService=B,this.mobileAccessTkn="",this.returnUrl="",this.msgError="",this.messageError="",this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1,this.loginByToken=!0,this.businessWelcomeText=void 0,this.loadingDomainConfigStatus={loading:!1,errorMessage:"",mustShowErrorBox:!1},this.form=new c.gE({username:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace]}),fullName:new c.MJ("",{nonNullable:!0}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Ve.m),e.rXU(Ee.R),e.rXU(Yt.z),e.rXU(qt.G),e.rXU(Z.uR),e.rXU(Fe.b),e.rXU(Vn.ob),e.rXU(Wn.B),e.rXU(Mo),e.rXU(Ue.i),e.rXU(Z.OE))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-login"]],features:[e.Vt3],decls:5,vars:2,consts:[["doneLoadDomainConfig",""],["loginForm",""],["normalTemplate",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[3,"maxWidth","removeBoxClass","contentBoxClass"],[1,"mx-auto",2,"max-width","1200px"],[1,"grid","grid-cols-12","bg-white"],[1,"col-span-12","md:col-span-6","p-3"],[1,"w-full",3,"innerHtml"],[1,"col-span-12","md:col-span-6","p-3",2,"background","#f8f7f7"],[1,"flex","items-center","h-full"],[3,"ngTemplateOutlet"],["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[1,"w-full",3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"keydown.enter","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"keydown.enter","type","placeholder"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],["class","intro-x flex text-slate-600 dark:text-slate-500 text-xs sm:text-sm mt-4",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],[4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],[1,"mr-1"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","login-fMer8LWOR","class","pt-3 text-primary clickable",3,"routerLink","queryParams",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["name","qr-code","size","16",3,"ngClass"],["azt-track-service","login-fMer8LWOR",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"]],template:function(o,i){if(1&o&&e.DNE(0,au,1,1,"azt-loading-effect",3)(1,_u,3,2,"ng-template",null,0,e.C5r)(3,bu,24,24,"ng-template",null,1,e.C5r),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.loadingDomainConfigStatus.loading)("ngIfElse",r)}},dependencies:[X.Wk,s.YU,s.bT,s.T3,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ge.K,ve.t,ee.R,rt.m,ke.K,J.WGl,w.F2,w.wp],encapsulation:2}),a})(),Cu=(()=>{var t;class a extends $.H{ngOnInit(){super.ngOnInit(),this.fireAuth.signOut(),this.sAztUserLogoutService.logout();var o=this.commonService.getMyQueryParam("return_url")||null;if(o)return this.redirectService.redirectSimpleLoginWithReturnUrl(o);this.redirectService.redirectSimpleLogin()}constructor(o,i){super(),this.fireAuth=o,this.redirectService=i,this.sAztParentUserService=(0,e.WQX)(so.V),this.sAztUserLogoutService=(0,e.WQX)(Pn.d)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(yn),e.rXU(Ve.m))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],features:[e.Vt3],decls:0,vars:0,template:function(o,i){},encapsulation:2}),a})(),Iu=(()=>{var t;class a extends $.H{}return(t=a).\u0275fac=(()=>{let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}})(),t.\u0275cmp=e.VBU({type:t,selectors:[["auth-master-page"]],features:[e.Vt3],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[X.n3],encapsulation:2}),a})(),ku=(()=>{var t;class a extends $.H{constructor(o,i,r,l){super(),this.activeRoute=o,this.fireAuth=i,this.authService=r,this.redirectByRoleService=l,this.checkLoadingLogin=!1,this.fireAuth.authState.pipe((0,Un.$)()).subscribe(p=>{p?this.signInWithTokenGoogle(p):this.googleSignIn()})}signInWithTokenGoogle(o){this.checkLoadingLogin=!0;let i=this.commonService.getMyParam(this.activeRoute,"type"),r=parseInt(i??"0",10);o.getIdToken().then(l=>{let p={isRegisterForm:1,isRegisterForTeacher:r,firebaseToken:l,language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(p).subscribe(b=>{if(1==b.success){let O=this.commonService.getMyQueryParam("return_url")??"";if(""===O){let A=this.commonService.getMyQueryParam("backto")??"";var S=A.includes("return_url=")?A.split("return_url=")[1]:"";O=decodeURIComponent(S)}0==Number(i)?this.redirectByRoleService.redirectLoginForStudent(O):this.redirectByRoleService.redirectLoginByRole(O),this.successStatusObj(),this.checkLoadingLogin=!1}else{this.errorStatusObj(b.message??"",!0);const O=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(O)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new wo.HF).then(()=>this.fireAuth.getRedirectResult().then(o=>{})).catch(o=>{const i=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(i)})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(X.nX),e.rXU(yn),e.rXU(Z.uR),e.rXU(Fe.b))},t.\u0275cmp=e.VBU({type:t,selectors:[["register-by-openapi"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-loading-ui",2),e.k0s(),e.j41(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("type","azota-logo"),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[ee.R,w.wp],encapsulation:2}),a})();const Su=()=>({"mr-2 text-success":!0}),xu=()=>({"text-white bg-success rounded-full p-1":!0}),Ru=()=>({"text-white bg-danger rounded-full p-1":!0}),wu=t=>[t],Tu=()=>({"mr-2":!0}),Fu=()=>({"ml-2":!0});function ju(t,a){1&t&&(e.j41(0,"div",4),e.nrm(1,"azt-loading-ui",5),e.k0s()),2&t&&(e.R7$(),e.Y8G("size",40))}function Eu(t,a){1&t&&(e.j41(0,"div",22),e.nrm(1,"lucide-icon",23),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(1,xu)))}function Ou(t,a){1&t&&(e.j41(0,"div",24),e.nrm(1,"lucide-icon",25),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(1,Ru)))}function Au(t,a){1&t&&(e.j41(0,"a",26),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",27),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&t&&(e.Y8G("routerLink",e.eq3(7,wu,e.bMT(1,3,"/auth/login"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Tu)),e.R7$(2),e.JRh(e.bMT(5,5,"lang_powerpoint_frontend_chart_back")))}function Mu(t,a){if(1&t&&(e.j41(0,"a",28)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"lucide-icon",29),e.k0s()),2&t){const n=e.XpG(2);e.Y8G("href","https://"+n.businessRegister.domain+"/"+n.language+"/auth/login",e.B4B),e.R7$(2),e.JRh(e.bMT(3,3,"lang_azt_login_now")),e.R7$(2),e.Y8G("ngClass",e.lJ4(5,Fu))}}function Pu(t,a){if(1&t&&(e.j41(0,"div",6),e.DNE(1,Eu,2,2,"div",7)(2,Ou,2,2,"div",8),e.j41(3,"div",9)(4,"span"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",10)(8,"div",11),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"div",12)(12,"div",13),e.nrm(13,"lucide-icon",14),e.j41(14,"span"),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",15),e.EFF(18,":"),e.k0s(),e.j41(19,"div",16),e.EFF(20," 0972 112 969 "),e.k0s()(),e.j41(21,"div",17)(22,"div",13),e.nrm(23,"azt-svg-icon",18),e.j41(24,"span"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",15),e.EFF(28,":"),e.k0s(),e.j41(29,"div",16),e.EFF(30," 0972 112 969 "),e.k0s()()()(),e.j41(31,"div",19),e.DNE(32,Au,6,10,"a",20)(33,Mu,5,6,"a",21),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.businessRegister),e.R7$(),e.Y8G("ngIf",!n.businessRegister),e.R7$(3),e.JRh(e.bMT(6,10,n.businessRegister?"lang_auto_xac_nhan_thanh_cong":"lang_azt_confirmation_failed")),e.R7$(4),e.SpI(" ",e.bMT(10,12,n.businessRegister?"lang_azt_confirmation_success_desc":"lang_azt_confirmation_failed_desc")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(18,Su)),e.R7$(2),e.SpI(" ",e.bMT(16,14,"lang_auto_dien_thoai"),""),e.R7$(8),e.Y8G("size",16),e.R7$(2),e.SpI(" ",e.bMT(26,16,"Zalo"),""),e.R7$(7),e.Y8G("ngIf",!n.businessRegister),e.R7$(),e.Y8G("ngIf",n.businessRegister)}}let Gu=(()=>{var t;class a extends $.H{getRegistersConfirm(o){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersConfirmPost({secret:o}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.businessRegister=i.data,this.successStatusObj()}))}constructor(o){super(),this.businessPackageService=o,this.secret="",this.language=this.commonService.getCurrentLang()}ngOnInit(){super.ngOnInit(),this.secret=this.getMyQueryParam("secret")??"",this.getRegistersConfirm(this.secret)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Nn.WC))},t.\u0275cmp=e.VBU({type:t,selectors:[["register-confirm"]],features:[e.Vt3],decls:5,vars:4,consts:[["doneLoading",""],[3,"maxWidth","contentBoxClass"],[1,"box","text-center",2,"min-height","300px"],["class","h-full flex items-center justify-center",4,"ngIf","ngIfElse"],[1,"h-full","flex","items-center","justify-center"],[3,"size"],[1,"p-4"],["class","rounded-full shadow-md inline-block p-3 bg-success/20",4,"ngIf"],["class","rounded-full shadow-md inline-block p-3 bg-danger/20",4,"ngIf"],[1,"mt-3","text-lg","font-bold"],[1,"mt-3","mx-auto",2,"max-width","400px"],[1,"text-slate-500"],[1,"mt-2","flex","items-center","font-medium","justify-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","16",3,"ngClass"],[1,"mx-1"],[1,"ml-0"],[1,"mt-3","flex","items-center","font-medium","justify-center"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-3","border-t","border-slate-200","dark:border-darkmode-400","p-3"],["class","btn btn-primary w-full",3,"routerLink",4,"ngIf"],["class","btn btn-primary w-full",3,"href",4,"ngIf"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-success/20"],["name","check","size","20",3,"ngClass"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-danger/20"],["name","x",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"href"],["name","chevron-right","size","16",3,"ngClass"]],template:function(o,i){if(1&o&&(e.j41(0,"auth-layout",1)(1,"div",2),e.DNE(2,ju,2,1,"div",3)(3,Pu,34,19,"ng-template",null,0,e.C5r),e.k0s()()),2&o){const r=e.sdS(4);e.Y8G("maxWidth","500px")("contentBoxClass","mt-10"),e.R7$(2),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[X.Wk,s.YU,s.bT,ee.R,rt.m,ke.K,J.WGl,w.F2,w.wp],encapsulation:2}),a})();class Go{static isInvalidPhone(a){let o=a.value?.trim()??"";return o&&(isNaN(Number(o))||10!=o.length)?{isInvalidPhone:!0}:null}}const $o=t=>[t],$u=t=>({waiting:t});function zu(t,a){if(1&t&&(e.j41(0,"div"),e.nrm(1,"div",13),e.nI1(2,"mytranslate"),e.j41(3,"a",14),e.nI1(4,"navigationLocalize"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()),2&t){const n=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,3,"lang_register_for_business_success"),e.npT),e.R7$(2),e.Y8G("routerLink",e.eq3(9,$o,e.bMT(4,5,n.backTo))),e.R7$(2),e.JRh(e.bMT(6,7,"lang_register_for_business_back_to"))}}function Lu(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",17),2&t){const n=e.XpG(2);e.Y8G("currentStatusObj",n.statusObj)}}function Du(t,a){1&t&&(e.j41(0,"div",41)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_full_name")))}function Nu(t,a){1&t&&(e.j41(0,"div",41)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function Bu(t,a){1&t&&(e.j41(0,"div",41)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function Vu(t,a){1&t&&(e.j41(0,"div",41)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function Uu(t,a){if(1&t&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function Yu(t,a){1&t&&(e.j41(0,"div",43),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function Qu(t,a){if(1&t&&(e.j41(0,"mat-option",42),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function Wu(t,a){1&t&&(e.j41(0,"div",43),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function Xu(t,a){if(1&t&&(e.qex(0),e.j41(1,"mat-form-field",31)(2,"mat-select",44,4),e.nI1(4,"mytranslate"),e.j41(5,"mat-option"),e.nrm(6,"ngx-mat-select-search",33),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,Qu,2,2,"mat-option",34),e.k0s()(),e.DNE(10,Wu,3,3,"div",35),e.bVm()),2&t){const n=e.sdS(3),o=e.XpG(3);e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"lang_register_for_business_select_district")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(7,8,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(8,10,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(o.districtObjs,"name")),e.R7$(),e.Y8G("ngIf",o.form.controls.districtId.invalid&&(o.form.controls.districtId.dirty||o.form.controls.districtId.touched))}}function qu(t,a){1&t&&(e.j41(0,"span",45),e.nrm(1,"azt-loading-ui"),e.k0s())}function Ju(t,a){1&t&&e.nrm(0,"azt-loading-ui",46)}function Hu(t,a){if(1&t){const n=e.RV6();e.j41(0,"form",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22),e.nrm(5,"input",23),e.nI1(6,"mytranslate"),e.DNE(7,Du,4,3,"div",24),e.k0s(),e.j41(8,"div",22),e.nrm(9,"input",25),e.nI1(10,"mytranslate"),e.DNE(11,Nu,4,3,"div",24),e.k0s(),e.j41(12,"div",22),e.nrm(13,"input",26),e.nI1(14,"mytranslate"),e.DNE(15,Bu,4,3,"div",24),e.k0s(),e.j41(16,"div",22),e.nrm(17,"input",27),e.nI1(18,"mytranslate"),e.DNE(19,Vu,4,3,"div",24),e.k0s(),e.j41(20,"div",22),e.nrm(21,"textarea",28),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",29)(24,"div",30)(25,"div",22)(26,"mat-form-field",31)(27,"mat-select",32,2),e.nI1(29,"mytranslate"),e.bIt("selectionChange",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.selectProvinceObj(i.form.controls.provinceId.value))}),e.j41(30,"mat-option"),e.nrm(31,"ngx-mat-select-search",33),e.nI1(32,"mytranslate"),e.nI1(33,"mytranslate"),e.k0s(),e.DNE(34,Uu,2,2,"mat-option",34),e.k0s()(),e.DNE(35,Yu,3,3,"div",35),e.k0s()(),e.j41(36,"div",30)(37,"div",22),e.DNE(38,Xu,11,12,"ng-container",12)(39,qu,2,0,"ng-template",null,3,e.C5r),e.k0s()()()()()(),e.j41(41,"div",36)(42,"div",37)(43,"a",38),e.nI1(44,"navigationLocalize"),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"button",39),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.registerForBusiness())}),e.DNE(48,Ju,1,0,"azt-loading-ui",40),e.EFF(49),e.nI1(50,"mytranslate"),e.k0s()()()}if(2&t){const n=e.sdS(28),o=e.sdS(40),i=e.XpG(2);e.Y8G("formGroup",i.form),e.R7$(5),e.FS9("placeholder",e.bMT(6,24,"lang_register_for_business_full_name")),e.R7$(2),e.Y8G("ngIf",i.form.controls.fullName.errors&&(i.form.controls.fullName.dirty||i.form.controls.fullName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(10,26,"lang_register_for_business_phone")),e.R7$(2),e.Y8G("ngIf",i.form.controls.phone.errors&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(14,28,"lang_register_for_business_email")),e.R7$(2),e.Y8G("ngIf",i.form.controls.email.errors&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(18,30,"lang_register_for_business_business_name")),e.R7$(2),e.Y8G("ngIf",i.form.controls.businessName.errors&&(i.form.controls.businessName.dirty||i.form.controls.businessName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(22,32,"lang_register_for_business_note")),e.R7$(6),e.FS9("placeholder",e.bMT(29,34,"lang_register_for_business_select_province")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(32,36,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(33,38,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(i.provinceObjs,"name")),e.R7$(),e.Y8G("ngIf",i.form.controls.provinceId.invalid&&(i.form.controls.provinceId.dirty||i.form.controls.provinceId.touched)),e.R7$(3),e.Y8G("ngIf",!i.isLoadingDistrictData)("ngIfElse",o),e.R7$(5),e.Y8G("routerLink",e.eq3(46,$o,e.bMT(44,40,i.backTo))),e.R7$(2),e.JRh(e.bMT(46,42,"lang_register_for_business_back_to")),e.R7$(2),e.Y8G("ngClass",e.eq3(48,$u,i.statusObj.loading))("disabled",i.form.invalid),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(50,44,"lang_register_for_business_register")," ")}}function Ku(t,a){if(1&t&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.DNE(6,Lu,1,1,"azt-loading-effect",16)(7,Hu,51,50,"ng-template",null,1,e.C5r)),2&t){const n=e.sdS(8),o=e.XpG();e.R7$(),e.JRh(e.bMT(2,4,"lang_register_for_business_contact_info")),e.R7$(3),e.JRh(e.bMT(5,6,"lang_register_for_business_detail_contact_info")),e.R7$(2),e.Y8G("ngIf",o.statusObj.loading)("ngIfElse",n)}}let Zu=(()=>{var t;class a extends $.H{selectProvinceObj(o){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(o).subscribe(i=>{i.success?(this.districtObjs=i.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(i.message,!0),this.isLoadingDistrictData=!1}))}initData(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListProvincesGet().subscribe(o=>{o.success?(this.provinceObjs=o.data?.objs??[],this.districtObjs=[],this.stopStatusObj()):this.errorStatusObj(o.message,!0)}))}registerForBusiness(){var o={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,note:this.form.controls.note.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value};this.registerSuccessfully=!1,this.initStatusObj(),this.waitDestroy(this.registerForBusinessService.apiRegisterForBusinessRegisterPost(o).subscribe(i=>{1==i.success?(this.successStatusObj(),this.registerSuccessfully=!0):this.errorStatusObj(i.message??"")}))}ngOnInit(){super.ngOnInit(),this.initData();let o=this.commonService.getMyQueryParam("backTo")??"";this.backTo=o||"/auth/register"}constructor(o,i){super(),this.commonListService=o,this.registerForBusinessService=i,this.backTo="",this.isLoadingDistrictData=!1,this.registerSuccessfully=!1,this.provinceObjs=[],this.districtObjs=[],this.form=new c.gE({fullName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace]}),phone:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Go.isInvalidPhone]}),email:new c.MJ("",{nonNullable:!0,validators:[Ye.U.isInvalidEmail]}),businessName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),provinceId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required,c.k0.min(1)]}),districtId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required,c.k0.min(1)]}),note:new c.MJ("",{nonNullable:!0})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(cn.Nz),e.rXU(Z.eM))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register-for-business"]],features:[e.Vt3],decls:14,vars:10,consts:[["registerForm",""],["doneLoading",""],["searchInListProvince","searchInList"],["isLoadingDistrict",""],["searchInListDistrict","searchInList"],[3,"maxWidth","contentBoxClass"],[1,"grid","grid-cols-12"],[1,"col-span-12","sm:col-span-12","lg:col-span-6"],[1,"left_box","text-white","p-5","text-slate-600","box"],[1,"text-lg","pb-5"],[3,"innerHTML"],[1,"p-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],[1,"pb-5","text-lg","text-success",3,"innerHTML"],[1,"pt-3","text-primary","clickable","dark:text-slate-200",3,"routerLink"],[1,"text-lg","mb-2"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"formGroup"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","email",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","businessName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","note",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",2,"min-height","150px",3,"placeholder"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["appearance","fill",1,"box","mt-4",2,"width","100%"],["searchInList","","formControlName","provinceId",3,"selectionChange","placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[1,"flex","mt-4"],[1,"mr-auto","flex","items-center","text-primary","clickable","dark:text-slate-200"],[3,"routerLink"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-info","align-top",3,"click","ngClass","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[3,"value"],[1,"alert","alert-danger"],["searchInList","","formControlName","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block","mt-4"],[1,"mr-1"]],template:function(o,i){if(1&o&&(e.j41(0,"auth-layout",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.nrm(7,"div",10),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",7)(10,"div",11),e.DNE(11,zu,7,11,"div",12)(12,Ku,9,8,"ng-template",null,0,e.C5r),e.k0s()()()()),2&o){const r=e.sdS(13);e.Y8G("maxWidth","1000px")("contentBoxClass",""),e.R7$(5),e.JRh(e.bMT(6,6,"lang_register_for_business_free_to_register")),e.R7$(2),e.Y8G("innerHTML",e.bMT(8,8,"lang_register_for_business_all_feature"),e.npT),e.R7$(4),e.Y8G("ngIf",i.registerSuccessfully)("ngIfElse",r)}},dependencies:[X.Wk,s.YU,s.Sq,s.bT,c.qT,c.me,c.BC,c.cb,sn.wT,yt.rl,$n.VO,c.l_,c.j4,c.JD,ge.K,ve.t,ee.R,zn.x,ke.K,an.U9,w.F2,w.wp],styles:[".left_box[_ngcontent-%COMP%]{background-color:#3c8dbc;border-radius:.375rem 0 0 .375rem;height:100%}@media (max-width: 576px){.left_box[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0;height:auto}}"]}),a})();var ed=_(17178);let td=(()=>{class a{static invalidFormat(o){let r=o.value?.trim();return r?a.isValidSubdomain(r)?null:{invalidFormat:!0}:null}}return a.isValidSubdomain=n=>/^[a-zA-Z0-9-]+$/.test(n),a})();var nd=_(48188),od=_(9002);const ut=()=>({"mr-2":!0}),id=t=>({"error-border":t}),ad=t=>({waiting:t}),sd=t=>[t];function rd(t,a){1&t&&(e.j41(0,"div",66)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function ld(t,a){1&t&&(e.j41(0,"div",66)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function cd(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_email")))}function _d(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function ud(t,a){if(1&t&&(e.j41(0,"div",66),e.DNE(1,cd,3,3,"span",67)(2,_d,3,3,"span",67),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.required),e.R7$(),e.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.isInvalidEmail)}}function dd(t,a){1&t&&(e.j41(0,"div",66)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function md(t,a){if(1&t&&(e.j41(0,"mat-option",68),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function pd(t,a){1&t&&(e.j41(0,"div",66),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function gd(t,a){if(1&t&&(e.j41(0,"mat-option",68),e.EFF(1),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function hd(t,a){1&t&&(e.j41(0,"div",66),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function fd(t,a){if(1&t&&(e.qex(0)(1),e.j41(2,"mat-form-field",44)(3,"mat-select",69,4),e.nI1(5,"mytranslate"),e.j41(6,"mat-option"),e.nrm(7,"ngx-mat-select-search",40),e.nI1(8,"mytranslate"),e.nI1(9,"mytranslate"),e.k0s(),e.DNE(10,gd,2,2,"mat-option",41),e.k0s()(),e.DNE(11,hd,3,3,"div",33),e.bVm()()),2&t){const n=e.sdS(4),o=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(5,6,"lang_register_for_business_select_district")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(8,8,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(9,10,"lang_bot_common_search_not_found")),e.Y8G("formControl",n.searchControl),e.R7$(3),e.Y8G("ngForOf",n.filter(o.districtObjs,"name")),e.R7$(),e.Y8G("ngIf",o.districtObjs.length>0&&o.form.controls.districtId.invalid&&(o.form.controls.districtId.dirty||o.form.controls.districtId.touched))}}function vd(t,a){1&t&&(e.j41(0,"span",70),e.nrm(1,"azt-loading-ui"),e.k0s())}function bd(t,a){1&t&&(e.j41(0,"div",66)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function yd(t,a){if(1&t&&(e.j41(0,"mat-option",68),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",e.bMT(2,2,n.name)," ")}}function Cd(t,a){1&t&&(e.j41(0,"div",66),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auth_please_select")+" "+e.bMT(3,3,"lang_auth_school_organization_type"),". "))}function Id(t,a){if(1&t&&(e.j41(0,"mat-option",68),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=a.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",e.bMT(2,2,n.name)," ")}}function kd(t,a){1&t&&(e.j41(0,"div",66),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auth_please_select")+" "+e.bMT(3,3,"lang_auth_scale_of_organization_environment"),". "))}function Sd(t,a){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI("",e.bMT(2,1,"lang_auth_please_enter")+" "+e.bMT(3,3,"lang_auth_system_domain"),"."))}function xd(t,a){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI("",e.bMT(2,1,"lang_auth_business_domain_invalid_format"),"."))}function Rd(t,a){if(1&t&&(e.j41(0,"div",66),e.DNE(1,Sd,4,5,"div",67)(2,xd,3,3,"div",67),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.form.controls.desiredDomain.errors.noWhiteSpace),e.R7$(),e.Y8G("ngIf",n.form.controls.desiredDomain.errors.invalidFormat)}}function wd(t,a){1&t&&e.nrm(0,"azt-loading-ui",71)}let Td=(()=>{var t;class a extends $.H{selectProvinceObj(o){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(o).subscribe(i=>{i.success?(this.districtObjs=i.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(i.message,!0),this.isLoadingDistrictData=!1}))}togglePassword(){this.showPassword=!this.showPassword}registerForBusiness(){if(this.form.invalid)return this.form.markAllAsTouched(),this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin");const o={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value,businessTypeId:this.form.controls.businessTypeId.value,businessWebUrl:this.form.controls.businessWebUrl.value,businessScaleId:this.form.controls.businessScaleId.value,adminPassword:"",domain:this.getDomainUrl()};this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersPost(o).subscribe(i=>{1==i.success?(this.successStatusObj(),this.myNavigation("/auth/thank-for-business")):this.errorStatusObj(i.message??"",!0)}))}toggleDrawer(){this.chatBoxDrawer.toggle(),this.chatBoxDrawer.drawerType=this.drawerType.guide,this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.chatBoxDrawer.isOpened()}))}callMultipleApi(){const o=this.commonListService.apiCommonListBusinessTypesGet(),i=this.commonListService.apiCommonListBusinessScalesGet(),r=this.commonListService.apiCommonListProvincesGet();return(0,vt.z)([o,i,r]).pipe((0,bn.T)(([l,p,b])=>({resType:l,resScale:p,resProvince:b})),(0,ed.W)(l=>{throw l}))}initData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:o=>{this.provinceObjs=o.resProvince.data?.objs??[],this.businessTypeList=o.resType.data?.objs??[],this.businessScaleList=o.resScale.data?.objs??[],this.stopStatusObj()},error:o=>{this.errorStatusObj(o.error.message,!0)}}))}getDomainUrl(){return this.form.controls.desiredDomain.value+"."+Be.c.businessDomain}ngOnInit(){super.ngOnInit(),this.initData();let o=this.commonService.getMyQueryParam("backTo")??"";this.backTo=o||"/auth/register"}constructor(o,i,r,l){super(),this.commonListService=o,this.businessPackageService=i,this.browserStorageService=r,this.chatBoxDrawer=l,this.backTo="",this.isLoadingDistrictData=!1,this.provinceObjs=[],this.districtObjs=[],this.businessScaleList=[],this.businessTypeList=[],this.azotaDomain=Be.c.businessDomain,this.showPassword=!1,this.isLoadingCheckDomain=!1,this.drawerType=nd.I,this.form=new c.gE({fullName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace]}),phone:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Go.isInvalidPhone]}),email:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ye.U.isInvalidEmail]}),businessName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),provinceId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required,c.k0.min(1)]}),districtId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required,c.k0.min(1)]}),businessTypeId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required,c.k0.min(1)]}),businessWebUrl:new c.MJ("",{nonNullable:!0}),businessScaleId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required,c.k0.min(1)]}),desiredDomain:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace,td.invalidFormat]})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(cn.Nz),e.rXU(Nn.WC),e.rXU(Yt.z),e.rXU(od.o))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register-for-business"]],features:[e.Vt3],decls:153,vars:146,consts:[["searchInListProvince","searchInList"],["isLoadingDistrict",""],["searchInListBusinessType","searchInList"],["searchInListBusinessScale","searchInList"],["searchInListDistrict","searchInList"],[3,"maxWidth","contentBoxClass"],[3,"formGroup"],["id","register-for-business",1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-6","p-1"],[1,"box","intro-x","bg-gradient-primary","border-r","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","flex-col","p-4","h-full","justify-between"],[1,"text-white"],[1,"text-xl","font-semibold"],[1,"mt-4","text-base","font-medium"],[1,"flex","items-center","mt-4"],[1,"flex-none"],["name","layers","size","18",3,"ngClass"],[1,"flex","items-center","mt-3"],["name","database","size","18",3,"ngClass"],["name","book","size","18",3,"ngClass"],["name","webcam","size","18",3,"ngClass"],["name","bar-chart-3","size","18",3,"ngClass"],[1,"text-center"],["alt","bg",3,"src"],[1,"col-span-12","md:col-span-6"],[1,"p-4"],[1,"text-xl","font-semibold","mb-2"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"grid","grid-cols-12","gap-4","mt-4"],[1,"azt-form-group"],["type","text","formControlName","fullName","name","fullName","id","fullName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone","name","phone","id","phone",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"azt-form-group","mt-4"],["type","text","formControlName","email","name","email","id","email",1,"intro-x","login__input","form-control","block",3,"placeholder"],["type","text","formControlName","businessName","name","businessName","id","businessName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%",3,"ngClass"],["searchInList","","formControlName","provinceId","name","provinceId","id","provinceId",3,"selectionChange","placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["type","text","formControlName","businessWebUrl","name","businessWebUrl","id","businessWebUrl",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%"],["searchInList","","formControlName","businessTypeId","name","businessTypeId","id","businessTypeId",3,"placeholder"],["searchInList","","formControlName","businessScaleId","name","businessScaleId","id","businessScaleId",3,"placeholder"],[1,"azt-form-group","w-full","mt-4"],[1,"flex","items-center"],[1,"w-full"],["type","text","formControlName","desiredDomain","name","domain","id","desiredDomain",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"flex"],[1,"ml-2"],[1,"flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/business-terms-of-use.html","target","_blank",1,"text-primary","font-medium","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/business-privacy.html","target","_blank",1,"text-primary","font-medium","dark:text-slate-200"],[1,"flex","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","align-top","w-full",3,"click","ngClass"],["class","mr-1",4,"ngIf"],[1,"mt-5"],[1,"font-medium","btn-text-primary",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"],[1,"relative","md:fixed","bottom-0","left-0","p-5"],[1,"btn","btn-primary-soft",3,"click"],["name","circle-help","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[3,"value"],["searchInList","","formControlName","districtId","name","districtId","id","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block"],[1,"mr-1"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"auth-layout",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"div",12),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",13),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"div",14)(14,"div",15),e.nrm(15,"lucide-icon",16),e.k0s(),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"div",17)(19,"div",15),e.nrm(20,"lucide-icon",18),e.k0s(),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",17)(24,"div",15),e.nrm(25,"lucide-icon",19),e.k0s(),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"div",17)(29,"div",15),e.nrm(30,"lucide-icon",20),e.k0s(),e.EFF(31),e.nI1(32,"mytranslate"),e.k0s(),e.j41(33,"div",17)(34,"div",15),e.nrm(35,"lucide-icon",21),e.k0s(),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()(),e.j41(38,"div",22),e.nrm(39,"img",23),e.nI1(40,"convertCdnLinkOfGitHub"),e.k0s()()()(),e.j41(41,"div",24)(42,"div",25)(43,"div",26),e.EFF(44),e.nI1(45,"mytranslate"),e.k0s(),e.j41(46,"div",27)(47,"div",28)(48,"div",29)(49,"div",30)(50,"div",24)(51,"div",31),e.nrm(52,"input",32),e.nI1(53,"mytranslate"),e.DNE(54,rd,4,3,"div",33),e.k0s()(),e.j41(55,"div",24)(56,"div",31),e.nrm(57,"input",34),e.nI1(58,"mytranslate"),e.DNE(59,ld,4,3,"div",33),e.k0s()()(),e.j41(60,"div",35),e.nrm(61,"input",36),e.nI1(62,"mytranslate"),e.DNE(63,ud,3,2,"div",33),e.k0s(),e.j41(64,"div",35),e.nrm(65,"input",37),e.nI1(66,"mytranslate"),e.DNE(67,dd,4,3,"div",33),e.k0s(),e.j41(68,"div",30)(69,"div",24)(70,"div",31)(71,"mat-form-field",38)(72,"mat-select",39,0),e.nI1(74,"mytranslate"),e.bIt("selectionChange",function(){return e.eBV(r),e.Njj(i.selectProvinceObj(i.form.controls.provinceId.value))}),e.j41(75,"mat-option"),e.nrm(76,"ngx-mat-select-search",40),e.nI1(77,"mytranslate"),e.nI1(78,"mytranslate"),e.k0s(),e.DNE(79,md,2,2,"mat-option",41),e.k0s()(),e.DNE(80,pd,3,3,"div",33),e.k0s()(),e.j41(81,"div",24)(82,"div",31),e.DNE(83,fd,12,12,"ng-container",42)(84,vd,2,0,"ng-template",null,1,e.C5r),e.k0s()()(),e.j41(86,"div",35),e.nrm(87,"input",43),e.nI1(88,"mytranslate"),e.DNE(89,bd,4,3,"div",33),e.k0s(),e.j41(90,"div",35)(91,"mat-form-field",44)(92,"mat-select",45,2),e.nI1(94,"mytranslate"),e.j41(95,"mat-option"),e.nrm(96,"ngx-mat-select-search",40),e.nI1(97,"mytranslate"),e.nI1(98,"mytranslate"),e.k0s(),e.DNE(99,yd,3,4,"mat-option",41),e.k0s()(),e.DNE(100,Cd,4,5,"div",33),e.k0s(),e.j41(101,"div",35)(102,"mat-form-field",44)(103,"mat-select",46,3),e.nI1(105,"mytranslate"),e.j41(106,"mat-option"),e.nrm(107,"ngx-mat-select-search",40),e.nI1(108,"mytranslate"),e.nI1(109,"mytranslate"),e.k0s(),e.DNE(110,Id,3,4,"mat-option",41),e.k0s()(),e.DNE(111,kd,4,5,"div",33),e.k0s(),e.j41(112,"div",47)(113,"div",48)(114,"div",49),e.nrm(115,"input",50),e.nI1(116,"mytranslate"),e.nrm(117,"div",51),e.k0s(),e.j41(118,"div",52)(119,"div",51),e.EFF(120),e.k0s()()(),e.DNE(121,Rd,3,2,"div",33),e.k0s(),e.j41(122,"div",53)(123,"p",54),e.EFF(124),e.nI1(125,"mytranslate"),e.nI1(126,"mytranslate"),e.nI1(127,"mytranslate"),e.j41(128,"a",55),e.EFF(129),e.nI1(130,"mytranslate"),e.k0s(),e.EFF(131),e.nI1(132,"mytranslate"),e.j41(133,"a",56),e.EFF(134),e.nI1(135,"mytranslate"),e.k0s()()(),e.j41(136,"div",57)(137,"button",58),e.bIt("click",function(){return e.eBV(r),e.Njj(i.registerForBusiness())}),e.DNE(138,wd,1,0,"azt-loading-ui",59),e.EFF(139),e.nI1(140,"mytranslate"),e.k0s()(),e.j41(141,"div",60)(142,"a",61),e.nI1(143,"navigationLocalize"),e.nrm(144,"lucide-icon",62),e.EFF(145),e.nI1(146,"mytranslate"),e.k0s()()()()()()()()(),e.j41(147,"div",63)(148,"button",64),e.bIt("click",function(){return e.eBV(r),e.Njj(i.toggleDrawer())}),e.nrm(149,"lucide-icon",65),e.j41(150,"span"),e.EFF(151),e.nI1(152,"mytranslate"),e.k0s()()()()}if(2&o){const r=e.sdS(73),l=e.sdS(85),p=e.sdS(93),b=e.sdS(104);e.Y8G("maxWidth","1050px")("contentBoxClass","margin-top--50"),e.R7$(),e.Y8G("formGroup",i.form),e.R7$(7),e.SpI(" ",e.bMT(9,65,"lang_azt_feature_introduction")," "),e.R7$(3),e.SpI(" ",e.bMT(12,67,"lang_auth_register_business_desc_one")+": "," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(133,ut)),e.R7$(),e.SpI(" ",e.bMT(17,69,"lang_auth_register_business_desc_two")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(134,ut)),e.R7$(),e.SpI(" ",e.bMT(22,71,"lang_auth_register_business_desc_three")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(135,ut)),e.R7$(),e.SpI(" ",e.bMT(27,73,"lang_auth_register_business_desc_four")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(136,ut)),e.R7$(),e.SpI(" ",e.bMT(32,75,"lang_auth_register_business_desc_five")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(137,ut)),e.R7$(),e.SpI(" ",e.bMT(37,77,"lang_auth_register_business_desc_six")," "),e.R7$(3),e.Y8G("src",e.bMT(40,79,"images/illustration.svg"),e.B4B),e.R7$(5),e.JRh(e.bMT(45,81,"lang_azt_experience_registration")),e.R7$(8),e.FS9("placeholder",e.bMT(53,83,"lang_first_and_last_name")),e.R7$(2),e.Y8G("ngIf",i.form.controls.fullName.errors&&(i.form.controls.fullName.dirty||i.form.controls.fullName.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(58,85,"lang_number_phone")),e.R7$(2),e.Y8G("ngIf",i.form.controls.phone.errors&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(62,87,"lang_azt_email_address")),e.R7$(2),e.Y8G("ngIf",i.form.controls.email.errors&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(66,89,"lang_register_for_business_business_name")),e.R7$(2),e.Y8G("ngIf",i.form.controls.businessName.errors&&(i.form.controls.businessName.dirty||i.form.controls.businessName.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(138,id,i.form.controls.provinceId.invalid)),e.R7$(),e.FS9("placeholder",e.bMT(74,91,"lang_register_for_business_select_province")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(77,93,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(78,95,"lang_bot_common_search_not_found")),e.Y8G("formControl",r.searchControl),e.R7$(3),e.Y8G("ngForOf",r.filter(i.provinceObjs,"name")),e.R7$(),e.Y8G("ngIf",i.form.controls.provinceId.invalid&&(i.form.controls.provinceId.dirty||i.form.controls.provinceId.touched)),e.R7$(3),e.Y8G("ngIf",!i.isLoadingDistrictData)("ngIfElse",l),e.R7$(4),e.FS9("placeholder",e.bMT(88,97,"lang_auth_school_organization_website")),e.R7$(2),e.Y8G("ngIf",i.form.controls.businessWebUrl.errors&&(i.form.controls.businessWebUrl.dirty||i.form.controls.businessWebUrl.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(94,99,"lang_auth_school_organization_type")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(97,101,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(98,103,"lang_bot_common_search_not_found")),e.Y8G("formControl",p.searchControl),e.R7$(3),e.Y8G("ngForOf",p.filter(i.businessTypeList,"name")),e.R7$(),e.Y8G("ngIf",i.form.controls.businessTypeId.invalid&&(i.form.controls.businessTypeId.dirty||i.form.controls.businessTypeId.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(105,105,"lang_auth_scale_of_organization_environment")),e.R7$(4),e.FS9("placeholderLabel",e.bMT(108,107,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(109,109,"lang_bot_common_search_not_found")),e.Y8G("formControl",b.searchControl),e.R7$(3),e.Y8G("ngForOf",b.filter(i.businessScaleList,"name")),e.R7$(),e.Y8G("ngIf",i.form.controls.businessScaleId.invalid&&(i.form.controls.businessScaleId.dirty||i.form.controls.businessScaleId.touched)),e.R7$(4),e.FS9("placeholder",e.bMT(116,111,"lang_auth_system_domain")),e.R7$(5),e.SpI(" ","."+i.azotaDomain," "),e.R7$(),e.Y8G("ngIf",i.form.controls.desiredDomain.errors&&(i.form.controls.desiredDomain.dirty||i.form.controls.desiredDomain.touched)),e.R7$(3),e.E5c(" ",e.bMT(125,113,"lang_auto_bang_cach_an_vao_nut"),' "',e.bMT(126,115,"lang_azt_send_experience_request_and_feature_introduction"),'" ',e.bMT(127,117,"lang_auto__toi_dong_y_voi")," "),e.R7$(5),e.JRh(e.bMT(130,119,"lang_auto_dieu_khoan_su_dung")),e.R7$(2),e.SpI(" ",e.bMT(132,121,"lang_auto_va")," "),e.R7$(3),e.SpI(" ",e.bMT(135,123,"lang_auto_chinh_sach_bao_mat_cua_azota")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(140,ad,i.statusObj.loading)),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(140,125,"lang_azt_send_experience_request_and_feature_introduction")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(142,sd,e.bMT(143,127,i.backTo))),e.R7$(2),e.Y8G("ngClass",e.lJ4(144,ut)),e.R7$(),e.SpI(" ",e.bMT(146,129,"lang_register_for_business_back_to")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(145,ut)),e.R7$(2),e.JRh(e.bMT(152,131,"lang_testbank_test_dashboard_support"))}},dependencies:[X.Wk,s.YU,s.Sq,s.bT,c.qT,c.me,c.BC,c.cb,sn.wT,yt.rl,$n.VO,c.l_,c.j4,c.JD,ve.t,ee.R,zn.x,ke.K,J.WGl,an.U9,w.F2,w.wp,w.gt],encapsulation:2}),a})();const zo=t=>({active:t}),Lo=()=>({"mr-2":!0}),Fd=()=>({"dark:text-slate-500":!0}),Cn=t=>[t],jd=()=>({backTo:"/auth/register"}),Do=(t,a)=>({return_url:t,from:"register",user_click:"true",type:a}),Ed=t=>({return_url:t,from:"register",user_click:"true"});function Od(t,a){1&t&&(e.j41(0,"div",48)(1,"a",49),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(),e.Y8G("routerLink",e.eq3(7,Cn,e.bMT(2,3,"/auth/register-for-organization")))("queryParams",e.lJ4(9,jd)),e.R7$(2),e.SpI(" ",e.bMT(4,5,"lang_register_for_business_register_for_business")," "))}function Ad(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"div",42),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.changeRegisterType(0))}),e.nrm(3,"lucide-icon",43),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()(),e.j41(7,"div",41)(8,"div",45),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.changeRegisterType(1))}),e.nrm(9,"azt-svg-icon",46),e.j41(10,"p",44),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()(),e.DNE(13,Od,5,10,"div",47),e.k0s()}if(2&t){const n=e.XpG();e.R7$(3),e.Y8G("size",128),e.R7$(2),e.JRh(e.bMT(6,5,"lang_auto_toi_la_hoc_sinh")),e.R7$(4),e.Y8G("size",128),e.R7$(2),e.JRh(e.bMT(12,7,"lang_auto_toi_la_giao_vien")),e.R7$(2),e.Y8G("ngIf",!(null!=n.userObj&&null!=n.userObj.roles&&n.userObj.roles.includes("STUDENT")))}}function Md(t,a){1&t&&(e.j41(0,"div",50)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Pd(t,a){1&t&&(e.j41(0,"div",50)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Gd(t,a){if(1&t&&(e.j41(0,"div",50),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.msgError)," ")}}function $d(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function zd(t,a){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function Ld(t,a){if(1&t&&(e.j41(0,"div",50),e.DNE(1,$d,3,3,"span",51)(2,zd,3,3,"span",51),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors.required),e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function Dd(t,a){if(1&t&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"a",55),e.nI1(4,"navigationLocalize"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,5,n.statusObj.errorMessage)," Click "),e.R7$(2),e.Y8G("routerLink",e.eq3(13,Cn,e.bMT(4,7,"/auth/login")))("queryParams",e.l_i(15,Do,n.returnUrl,n.isStudent?0:1)),e.R7$(2),e.SpI(" ",e.bMT(6,9,"lang_auto_vao_day")," "),e.R7$(2),e.SpI(" ",e.bMT(8,11,"lang_auto_de_dang_nhap")," ")}}function Nd(t,a){if(1&t&&(e.j41(0,"label",56),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,1,n.statusObj.errorMessage)," ")}}function Bd(t,a){if(1&t&&(e.j41(0,"div",52),e.DNE(1,Dd,9,18,"div",53)(2,Nd,3,3,"ng-template",null,1,e.C5r),e.k0s()),2&t){const n=e.sdS(3),o=e.XpG();e.R7$(),e.Y8G("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",n)}}function Vd(t,a){1&t&&e.nrm(0,"azt-loading-ui",57)}function Ud(t,a){if(1&t&&(e.qex(0),e.j41(1,"a",58),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("routerLink",e.eq3(7,Cn,e.bMT(2,3,"/auth/login")))("queryParams",e.l_i(9,Do,n.returnUrl,n.isStudent?0:1)),e.R7$(2),e.SpI(" ",e.bMT(4,5,"lang_auto_dang_nhap")," ")}}function Yd(t,a){if(1&t&&(e.j41(0,"a",59),e.nI1(1,"navigationLocalize"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.Y8G("routerLink",e.eq3(7,Cn,e.bMT(1,3,"/auth/login")))("queryParams",e.eq3(9,Ed,n.returnUrl)),e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_auto_dang_nhap")," ")}}let No=(()=>{var t;class a extends $.H{isInvalidUserPhoneOrEmail(o){this.msgError=Ye.U.validPhoneOrEmail(o)}executeImportantAction(){return new Promise(o=>{this.recaptchaV3Service.execute("importantAction").subscribe(i=>{o(i)})})}getFormValue(){return this.form.getRawValue()}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url")??"";var o="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",o)}changeRegisterType(o){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${o}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==o?(this.isTeacher=!1,this.isStudent=!0,this.msgError=""):(this.isTeacher=!0,this.isStudent=!1,this.msgError="")}loginZalo(){window.location.href=this.zaloLoginUrl}callRegisterForTeacherApi(o){var i=this.getFormValue(),r={fullName:i.fullName,password:i.password,tokenCaptcha:o,language:this.commonService.getCurrentLang()};Ye.U.validateEmail(i.username)?r.email=i.username:r.phone=i.username,this.waitDestroy(this.authService.apiAuthRegisterPost(r).subscribe(l=>{1==l.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"",this.isBusinessDomain,this.isMobileWebView)):(this.errorStatusObj(l.message??""),this.isDuplicateEmailOrPhone=l.data?.isDuplicateEmailOrPhone??0)}))}registerForTeacher(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(o=>{this.callRegisterForTeacherApi(o)}).catch(o=>{this.callRegisterForTeacherApi("")}))}callRegisterForStudentApi(o){var i=this.getFormValue(),r={fullName:i.fullName,password:i.password,tokenCaptcha:o,language:this.commonService.getCurrentLang()};Ye.U.validateEmail(i.username)?r.email=i.username:r.phone=i.username,this.waitDestroy(this.authService.apiAuthRegisterForStudentPost(r).subscribe(l=>{1==l.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(l.message??""),this.isDuplicateEmailOrPhone=l.data?.isDuplicateEmailOrPhone??0)}))}registerForStudent(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(o=>{this.callRegisterForStudentApi(o)}).catch(o=>{this.callRegisterForStudentApi("")}))}googleSignIn(){const o=this.browserUserAgentService.isCommonInAppBrowser();let i=this.browserUserAgentService.getCommonInAppBrowser(),r=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),l="zalo";"facebook"===i.toLowerCase()&&(l="fb");let p=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${l}_1.png`),b=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${l}_2.png`);if(o)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(S=>{let O=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),A=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(Oo.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${S+" "+i}. ${O}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${A} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${p}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${A} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${b}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const S=this.commonService.getMyParam(this.activeRoute,"type"),O=`/auth/register/${S}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${S}`,`?backto=${encodeURIComponent(O)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLoginAndNotAnonymous())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=Be.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_register=1");let r=this.commonService.getMyQueryParam("user_click");var o=this.commonService.getMyParam(this.activeRoute,"type");if(this.isBusinessDomain&&this.myNavigation("/auth/login"),null!=o){var i=parseInt(o?.toString(),10);this.changeRegisterType(0==i?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),!r&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/classroom/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}this.userObj=this.userService.getUserObj()}constructor(o,i,r,l,p,b,S,O){super(),this.redirectByRoleService=o,this.activeRoute=i,this.userService=r,this.recaptchaV3Service=l,this.cdnService=p,this.sAztDialogService=b,this.authService=S,this.browserUserAgentService=O,this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1,this.form=new c.gE({username:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace]}),fullName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace]}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(5),Ge.M.noWhiteSpace]})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(X.nX),e.rXU(Ee.R),e.rXU(Vn.ob),e.rXU(Wn.B),e.rXU(Ue.i),e.rXU(Z.uR),e.rXU(Mo))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],features:[e.Vt3],decls:72,vars:72,consts:[["normalRedirectLogin",""],["anotherError",""],[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"click","ngClass"],["name","graduation-cap","size","16",3,"ngClass"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"click","ngClass"],["name","user","size","16",3,"ngClass"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"input","placeholder"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["name","graduation-cap",3,"size"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["type","teacher",3,"size"],["class","col-span-12 text-center w-width",4,"ngIf"],[1,"col-span-12","text-center","w-width"],["azt-track-service","register--fhLRd1G4",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],[1,"mr-1"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"auth-layout")(1,"h2",2),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Ad,14,9,"div",3),e.j41(5,"div",4)(6,"form",5)(7,"div",6)(8,"ul",7)(9,"li",8)(10,"button",9),e.bIt("click",function(){return e.eBV(r),e.Njj(i.changeRegisterType(0))}),e.nrm(11,"lucide-icon",10),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"li",11)(15,"button",12),e.bIt("click",function(){return e.eBV(r),e.Njj(i.changeRegisterType(1))}),e.nrm(16,"lucide-icon",13),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()(),e.j41(19,"div",14)(20,"div",15)(21,"div",16),e.nrm(22,"input",17),e.nI1(23,"mytranslate"),e.DNE(24,Md,4,3,"div",18),e.k0s(),e.j41(25,"div",16)(26,"input",19),e.nI1(27,"mytranslate"),e.bIt("input",function(){return e.eBV(r),e.Njj(i.isInvalidUserPhoneOrEmail(i.form.controls.username.value))}),e.k0s(),e.DNE(28,Pd,4,3,"div",18)(29,Gd,3,3,"div",18),e.k0s(),e.j41(30,"div",16)(31,"div",20),e.nrm(32,"input",21),e.nI1(33,"mytranslate"),e.j41(34,"button",22),e.bIt("click",function(){return e.eBV(r),e.Njj(i.togglePassword())}),e.nrm(35,"lucide-icon",23),e.k0s()(),e.DNE(36,Ld,3,2,"div",18),e.k0s()()()(),e.DNE(37,Bd,4,2,"div",24),e.j41(38,"div",25)(39,"p",26),e.EFF(40),e.nI1(41,"mytranslate"),e.nI1(42,"mytranslate"),e.nI1(43,"mytranslate"),e.j41(44,"a",27),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s(),e.EFF(47),e.nI1(48,"mytranslate"),e.j41(49,"a",28),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()()(),e.j41(52,"div",29)(53,"button",30),e.bIt("click",function(){return e.eBV(r),e.Njj(1==i.isStudent?i.registerForStudent():i.registerForTeacher())}),e.DNE(54,Vd,1,0,"azt-loading-ui",31),e.EFF(55),e.nI1(56,"mytranslate"),e.k0s()(),e.j41(57,"div",32),e.EFF(58),e.nI1(59,"mytranslate"),e.DNE(60,Ud,5,12,"ng-container",33)(61,Yd,4,11,"ng-template",null,0,e.C5r),e.k0s(),e.j41(63,"div",34)(64,"span",35),e.EFF(65),e.nI1(66,"mytranslate"),e.k0s()(),e.j41(67,"div",36)(68,"button",37),e.bIt("click",function(){return e.eBV(r),e.Njj(i.googleSignIn())}),e.nrm(69,"azt-svg-icon",38),e.j41(70,"span",39),e.EFF(71,"Google"),e.k0s()()()()()()}if(2&o){const r=e.sdS(62);e.R7$(2),e.SpI(" ",e.bMT(3,35,"lang_auto_dang_ky")," "),e.R7$(2),e.Y8G("ngIf",1==i.isShowOption),e.R7$(),e.Y8G("hidden",i.isShowOption),e.R7$(),e.Y8G("formGroup",i.form),e.R7$(4),e.Y8G("ngClass",e.eq3(65,zo,i.isStudent)),e.R7$(),e.Y8G("ngClass",e.lJ4(67,Lo)),e.R7$(),e.SpI(" ",e.bMT(13,37,"lang_auto_hoc_sinh")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(68,zo,i.isTeacher)),e.R7$(),e.Y8G("ngClass",e.lJ4(70,Lo)),e.R7$(),e.SpI(" ",e.bMT(18,39,"lang_auto_giao_vien")," "),e.R7$(5),e.FS9("placeholder",e.bMT(23,41,"lang_auto_ho_ten")),e.R7$(2),e.Y8G("ngIf",i.form.controls.fullName.errors&&(i.form.controls.fullName.dirty||i.form.controls.fullName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(27,43,"lang_auto_nhap_sdt_hoac_email")),e.R7$(2),e.Y8G("ngIf",i.form.controls.username.errors&&(i.form.controls.username.dirty||i.form.controls.username.touched)&&!i.msgError),e.R7$(),e.Y8G("ngIf",i.msgError),e.R7$(3),e.FS9("placeholder",e.bMT(33,45,"lang_auto_mat_khau")),e.Y8G("type",i.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",i.showPassword?"eye":"eye-off")("ngClass",e.lJ4(71,Fd)),e.R7$(),e.Y8G("ngIf",i.form.controls.password.errors&&(i.form.controls.password.dirty||i.form.controls.password.touched)),e.R7$(),e.Y8G("ngIf",i.statusObj.errorMessage),e.R7$(3),e.E5c(" ",e.bMT(41,47,"lang_auto_bang_cach_an_vao_nut"),' "',e.bMT(42,49,"lang_auto_dang_ky"),'" ',e.bMT(43,51,"lang_auto__toi_dong_y_voi")," "),e.R7$(5),e.JRh(e.bMT(46,53,"lang_auto_dieu_khoan_su_dung")),e.R7$(2),e.SpI(" ",e.bMT(48,55,"lang_auto_va")," "),e.R7$(3),e.JRh(e.bMT(51,57,"lang_auto_chinh_sach_bao_mat_cua_azota")),e.R7$(3),e.Y8G("disabled",i.form.invalid||i.statusObj.loading),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(56,59,"lang_auto_dang_ky")," "),e.R7$(3),e.SpI(" ",e.bMT(59,61,"lang_auto_ban_da_co_tai_khoan")," "),e.R7$(2),e.Y8G("ngIf",i.isDuplicateEmailOrPhone>0)("ngIfElse",r),e.R7$(5),e.JRh(e.bMT(66,63,"lang_auto_hoac")),e.R7$(4),e.Y8G("size",16)}},dependencies:[X.Wk,s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ve.t,ee.R,rt.m,ke.K,J.WGl,w.F2,w.wp],encapsulation:2}),a})();var Qd=_(39763);const Wd=()=>({"mr-2":!0});function Xd(t,a){1&t&&(e.j41(0,"div",11)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function qd(t,a){if(1&t&&(e.j41(0,"div",11),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,n.msgError)," ")}}function Jd(t,a){1&t&&e.nrm(0,"azt-loading-ui",12)}let Hd=(()=>{var t;class a extends $.H{isInvalidUserPhoneOrEmail(o){this.msgError=Ye.U.validPhoneOrEmail(o)}addEmailOrPhone(){if(this.form.valid){let o,i;this.initStatusObj(),Ye.U.validateEmail(this.form.controls.phone.value)?i=this.form.controls.phone.value:o=this.form.controls.phone.value,this.waitDestroy(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(o,i).subscribe(r=>{if(1==r.success){let l=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(l),this.successStatusObj()}else this.errorStatusObj(r.message??"",!0)}))}}backToRedirect(){let o=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(o)}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,i){super(),this.userZaloService=o,this.zaloService=i,this.msgError="",this.form=new c.gE({phone:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,Ge.M.noWhiteSpace]})}),this.zaloService.checkLoginZalo()||this.backToRedirect()}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Z.lM),e.rXU(Qd.m))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-required-phone-or-email"]],features:[e.Vt3],decls:21,vars:19,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"input","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"click","disabled"],["class","mr-1",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),e.nI1(8,"mytranslate"),e.bIt("input",function(){return i.isInvalidUserPhoneOrEmail(i.form.controls.phone.value)}),e.k0s(),e.DNE(9,Xd,4,3,"div",5)(10,qd,3,3,"div",5),e.k0s(),e.j41(11,"div",6)(12,"button",7),e.bIt("click",function(){return i.addEmailOrPhone()}),e.DNE(13,Jd,1,0,"azt-loading-ui",8),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()(),e.j41(16,"div",6)(17,"a",9),e.bIt("click",function(){return i.backToRedirect()}),e.nrm(18,"lucide-icon",10),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,10,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),e.R7$(3),e.Y8G("formGroup",i.form),e.R7$(2),e.FS9("placeholder",e.bMT(8,12,"lang_auto_nhap_sdt_hoac_email")),e.R7$(2),e.Y8G("ngIf",i.form.controls.phone.invalid&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)&&!i.msgError),e.R7$(),e.Y8G("ngIf",i.msgError),e.R7$(2),e.Y8G("disabled",i.statusObj.loading||i.form.invalid),e.R7$(),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(15,14,"lang_auto_tiep_tuc")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(18,Wd)),e.R7$(),e.SpI(" ",e.bMT(20,16,"lang_auto_quay_lai")," "))},dependencies:[s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,ve.t,ee.R,ke.K,J.WGl,w.wp],encapsulation:2}),a})();const Kd=t=>[t],Zd=()=>({user_click:"true"});function em(t,a){1&t&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"azt-loading-ui"),e.j41(3,"span",12),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}function tm(t,a){1&t&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function nm(t,a){if(1&t&&(e.j41(0,"div",29),e.DNE(1,tm,3,3,"div",10),e.k0s()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function om(t,a){if(1&t&&(e.j41(0,"div",13)(1,"label",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t){const n=e.XpG(2);e.R7$(2),e.SpI("*** ",e.bMT(3,1,n.statusObj.errorMessage),"")}}function im(t,a){1&t&&e.nrm(0,"azt-loading-ui",31)}function am(t,a){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),e.nrm(4,"input",16),e.nI1(5,"mytranslate"),e.j41(6,"div",17)(7,"span",18),e.nrm(8,"lucide-icon",19),e.k0s()()(),e.j41(9,"div",15),e.nrm(10,"input",20),e.nI1(11,"mytranslate"),e.j41(12,"div",17)(13,"span",18),e.nrm(14,"lucide-icon",19),e.k0s()()(),e.DNE(15,nm,2,1,"div",21),e.k0s()(),e.DNE(16,om,4,3,"div",22),e.j41(17,"div",23)(18,"div",14)(19,"div",24)(20,"button",25),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.form.invalid||i.statusObj.loading||i.changePassword())}),e.DNE(21,im,1,0,"azt-loading-ui",26),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()(),e.nrm(24,"hr"),e.j41(25,"div",27)(26,"a",28),e.nI1(27,"navigationLocalize"),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(4),e.FS9("placeholder",e.bMT(5,10,"lang_auto_mat_khau_moi")),e.R7$(6),e.FS9("placeholder",e.bMT(11,12,"lang_auto_xac_nhan_mat_khau")),e.R7$(5),e.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),e.R7$(),e.Y8G("ngIf",n.statusObj.errorMessage),e.R7$(4),e.Y8G("disabled",n.form.invalid||n.statusObj.loading),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(23,14,"lang_auto_doi_mat_khau")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(20,Kd,e.bMT(27,16,"/auth/login")))("queryParams",e.lJ4(22,Zd)),e.R7$(2),e.JRh(e.bMT(29,18,"lang_auto_dang_nhap_tai_khoan"))}}let sm=(()=>{var t;class a extends $.H{getError(o){return!!this.form.controls[o].errors&&this.form.controls[o].errors}getErrorType(o,i){return!!this.form.controls[o].errors?.[i]&&this.form.controls[o].errors?.[i]}changePassword(){if(this.form.valid){let l=this.getFormValue();if(l.password!=l.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var o=this.commonService.getMyQueryParam("token"),i=this.commonService.getMyQueryParam("app_name");this.waitDestroy(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:o??"",newPassword:l.password,appName:i??""}).subscribe(p=>{1==p.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(p.message??"")}))}}}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,i){super(),this.redirectByRoleService=o,this.userInfoService=i,this.form=new c.gE({emailOrPhone:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),hash:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(6)]}),confirm_password:new c.MJ("",{nonNullable:!0})})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(Fe.b),e.rXU(Z.fv))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-forgot-password"]],features:[e.Vt3],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["name","lock","size","20"],["type","password","formControlName","confirm_password","autocomplete","new-confirm-password",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9),e.DNE(13,em,6,3,"div",10)(14,am,30,23,"div",10),e.k0s()()(),e.nrm(15,"div",3),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("formGroup",i.form),e.R7$(4),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",i.statusObj.loading),e.R7$(),e.Y8G("ngIf",!i.statusObj.loading))},dependencies:[X.Wk,s.bT,c.qT,c.me,c.BC,c.cb,Ut.$z,c.j4,c.JD,ve.t,ee.R,J.WGl,w.F2,w.wp,w.ph],encapsulation:2}),a})();const Xn=()=>({"mr-2":!0}),rm=t=>[t];let lm=(()=>{var t;class a extends $.H{ngOnInit(){super.ngOnInit()}constructor(){super()}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-thank-for-business"]],features:[e.Vt3],decls:52,vars:35,consts:[[3,"maxWidth","contentBoxClass"],[1,"box","h-full","p-5","thank-for-business"],[1,"font-semibold","text-center","intro-x",2,"font-family","'Kaushan Script', cursive","font-size","4em","line-height","1","color","#5892FF"],[1,"mx-auto","mt-5","text-center","intro-x",2,"max-width","700px"],[1,"text-slate-500"],[1,"mt-4","mx-auto",2,"max-width","190px"],[1,"font-medium","text-center"],[1,"ml-0"],[1,"mt-3","flex","items-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","18",3,"ngClass"],[1,"mx-1"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-4"],[1,"font-medium"],[1,"mt-3"],[1,"azt-copy","relative","intro-x","mx-auto"],["type","text","readonly","","value","Azota For School.pdf",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10","text-primary","cursor-pointer"],["azt-track-service","thank-for-business-npZYLKAD0","href","https://drive.google.com/file/d/1qG4uKTl1UC1lMQ96LX_dQjb2FPbeejyn/view?usp=sharing","target","_blank",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0"],["name","square-arrow-out-up-right","size","18",3,"ngClass"],[1,"text-center","mt-8","intro-x"],["azt-track-service","thank-for-business-fr0dFQRDKx",1,"btn","btn-outline-primary","w-72",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"]],template:function(o,i){1&o&&(e.j41(0,"auth-layout",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Thank you ! "),e.k0s(),e.j41(4,"div",3)(5,"span",4),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"div",5)(9,"div",6),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"div",7)(13,"div",8)(14,"div",9),e.nrm(15,"lucide-icon",10),e.j41(16,"span"),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()(),e.j41(19,"div",11),e.EFF(20,":"),e.k0s(),e.j41(21,"div",7),e.EFF(22," 0972 112 969 "),e.k0s()(),e.j41(23,"div",8)(24,"div",9),e.nrm(25,"azt-svg-icon",12),e.j41(26,"span"),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()(),e.j41(29,"div",11),e.EFF(30,":"),e.k0s(),e.j41(31,"div",7),e.EFF(32," 0972 112 969 "),e.k0s()()()(),e.j41(33,"div",13)(34,"div",14),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s(),e.j41(37,"div",15)(38,"div",16),e.nrm(39,"input",17),e.j41(40,"a",18),e.nrm(41,"lucide-icon",19),e.j41(42,"span"),e.EFF(43),e.nI1(44,"mytranslate"),e.k0s()()()()(),e.j41(45,"div",20)(46,"a",21),e.nI1(47,"navigationLocalize"),e.nrm(48,"lucide-icon",22),e.j41(49,"span"),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()()()()()),2&o&&(e.Y8G("maxWidth","800px")("contentBoxClass","margin-top--50"),e.R7$(6),e.SpI(" ",e.bMT(7,14,"lang_azt_thank_you_for_interest_in_azotas_features")," "),e.R7$(4),e.SpI(" ",e.bMT(11,16,"lang_azt_live_support_advice")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(30,Xn)),e.R7$(2),e.SpI(" ",e.bMT(18,18,"lang_auto_dien_thoai"),""),e.R7$(8),e.Y8G("size",16),e.R7$(2),e.SpI(" ",e.bMT(28,20,"Zalo"),""),e.R7$(8),e.SpI(" ",e.bMT(36,22,"lang_azt_feature_solution_overview")," "),e.R7$(6),e.Y8G("ngClass",e.lJ4(31,Xn)),e.R7$(2),e.JRh(e.bMT(44,24,"lang_testbank_create_wibsite_result_Access")),e.R7$(3),e.Y8G("routerLink",e.eq3(32,rm,e.bMT(47,26,"/auth/login"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(34,Xn)),e.R7$(2),e.SpI(" ",e.bMT(51,28,"lang_auto_quay_lai_dang_nhap"),""))},dependencies:[X.Wk,s.YU,rt.m,ke.K,J.WGl,w.F2,w.wp],encapsulation:2}),a})();var cm=_(53043),_m=_(59159);const um=(t,a)=>({"order-0":t,"order-1":a}),dm=(t,a)=>({"btn-primary":t,"btn-outline-primary":a});function mm(t,a){if(1&t&&(e.j41(0,"teacher-layout",6),e.eu8(1,7),e.k0s()),2&t){const n=e.XpG(),o=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function pm(t,a){if(1&t&&(e.j41(0,"student-layout",6),e.eu8(1,7),e.k0s()),2&t){const n=e.XpG(),o=e.sdS(3);e.Y8G("headerBackToLink",n.backLink),e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function gm(t,a){if(1&t&&e.nrm(0,"azt-loading-effect",9),2&t){const n=e.XpG(2);e.Y8G("currentStatusObj",n.statusObj)}}function hm(t,a){1&t&&(e.j41(0,"div",13),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auth_choose_package_to_use")," "))}function fm(t,a){if(1&t&&e.eu8(0,7),2&t){e.XpG();const n=e.sdS(6);e.Y8G("ngTemplateOutlet",n)}}function vm(t,a){if(1&t&&e.eu8(0,7),2&t){e.XpG();const n=e.sdS(8);e.Y8G("ngTemplateOutlet",n)}}function bm(t,a){if(1&t&&e.eu8(0,7),2&t){e.XpG();const n=e.sdS(10);e.Y8G("ngTemplateOutlet",n)}}function ym(t,a){if(1&t&&(e.j41(0,"div",39)(1,"span",40),e.EFF(2),e.nI1(3,"formatMoney"),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",41),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()),2&t){const n=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,n.price/12)+" "+e.bMT(4,4,"lang_auto_vnd_upper")),e.R7$(4),e.JRh("/"+e.bMT(7,6,"lang_auto_"+n.timeUnit))}}function Cm(t,a){if(1&t&&(e.j41(0,"div",39)(1,"span",40),e.EFF(2),e.nI1(3,"formatMoney"),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",41),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()),2&t){const n=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,n.price)+" "+e.bMT(4,4,"lang_auto_vnd_upper")),e.R7$(4),e.JRh("/"+e.bMT(7,6,"lang_auto_"+n.timeUnit))}}function Im(t,a){1&t&&(e.j41(0,"div",42),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_azt_most_economical")," "))}function km(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20),e.nrm(5,"lucide-icon",21),e.k0s(),e.j41(6,"div",22),e.EFF(7),e.nI1(8,"mytranslate"),e.nI1(9,"mytranslate"),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",23),e.EFF(12),e.nI1(13,"mytranslate"),e.nI1(14,"formatMoney"),e.nI1(15,"mytranslate"),e.nI1(16,"mytranslate"),e.nI1(17,"mytranslate"),e.k0s(),e.DNE(18,ym,8,8,"div",24)(19,Cm,8,8,"div",24)(20,Im,3,3,"div",25),e.k0s(),e.j41(21,"div",26)(22,"div",19),e.nrm(23,"azt-svg-icon",27),e.j41(24,"div",28),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",29),e.nrm(28,"lucide-icon",30),e.j41(29,"div",31),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div",29),e.nrm(33,"lucide-icon",32),e.j41(34,"div",31),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()(),e.j41(37,"div",29),e.nrm(38,"lucide-icon",33),e.j41(39,"div",31),e.EFF(40),e.nI1(41,"mytranslate"),e.k0s()(),e.j41(42,"div",29),e.nrm(43,"azt-svg-icon",34),e.j41(44,"div",28),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"div",29),e.nrm(48,"lucide-icon",35),e.j41(49,"div",31),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()(),e.j41(52,"div",29),e.nrm(53,"lucide-icon",36),e.j41(54,"div",31),e.EFF(55),e.nI1(56,"mytranslate"),e.k0s()(),e.j41(57,"div",37)(58,"button",38),e.bIt("click",function(){const i=e.eBV(n).$implicit,r=e.XpG(4);return e.Njj(r.choosePackage(i.id))}),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s()()()()()}if(2&t){const n=a.$implicit;e.Y8G("ngClass",e.l_i(54,um,12===n.totalMonth,12!==n.totalMonth)),e.R7$(7),e.SpI(" ",e.bMT(10,26,12===n.totalMonth?e.bMT(8,22,"lang_azt_by_year"):e.bMT(9,24,"lang_azt_by_month"))," "),e.R7$(5),e.SpI(" ",12===n.totalMonth?e.bMT(13,28,"lang_azt_pay")+" "+e.bMT(14,30,n.price)+" "+e.bMT(15,32,"lang_auto_vnd_upper")+" "+e.bMT(16,34,"lang_azt_every_year_equivalent"):e.bMT(17,36,"lang_azt_pay_today")," "),e.R7$(6),e.Y8G("ngIf",12===n.totalMonth),e.R7$(),e.Y8G("ngIf",12!==n.totalMonth),e.R7$(),e.Y8G("ngIf",12===n.totalMonth),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(26,38,"lang_azt_no_ads")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(31,40,"lang_auto_tai_de_thi_dinh_dang_docx")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(36,42,"lang_auto_tai_excel_ket_qua_thi_tren_50_hoc_sinh")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(41,44,"lang_auto_hoc_sinh_l\xe0m_de_thi_bai_tap_khong_co_quang_cao")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(46,46,"lang_auto_quan_ly_tai_khoan_hoc_sinh_tao_tai_khoan_doi_mat_khau")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(51,48,"lang_auto_duoc_dung_ngan_hang_phan_loai_cua_azota")," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(56,50,"lang_auto_tu_dong_phan_tich_cau_truc_de_giup_danh_gia_nang_luc_hoc_sinh")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(57,dm,12===n.totalMonth,12!==n.totalMonth)),e.R7$(),e.SpI(" ",e.bMT(60,52,"lang_auth_use")," ")}}function Sm(t,a){if(1&t&&(e.j41(0,"div",14),e.DNE(1,km,61,60,"div",15),e.k0s()),2&t){const n=e.XpG(3);e.R7$(),e.Y8G("ngForOf",n.vipPackageList)}}function xm(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",43)(1,"div",44),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",45)(5,"div",46)(6,"div",47),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3);return e.Njj(i.onShowFile("images/vip-package/no_ads.png"))}),e.j41(7,"div",48),e.nrm(8,"img",49),e.nI1(9,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(10,"div",50)(11,"div",51),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",52),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.j41(17,"div",46)(18,"div",47),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3);return e.Njj(i.onShowFile("images/vip-package/no_limit_export.png"))}),e.j41(19,"div",48),e.nrm(20,"img",49),e.nI1(21,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(22,"div",50)(23,"div",51),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"div",52),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()(),e.j41(29,"div",46)(30,"div",47),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3);return e.Njj(i.onShowFile("images/vip-package/manager_account.png"))}),e.j41(31,"div",48),e.nrm(32,"img",49),e.nI1(33,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(34,"div",50)(35,"div",51),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s(),e.j41(38,"div",52),e.EFF(39),e.nI1(40,"mytranslate"),e.k0s()()()(),e.j41(41,"div",46)(42,"div",47),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3);return e.Njj(i.onShowFile("images/vip-package/matrix_book.png"))}),e.j41(43,"div",48),e.nrm(44,"img",49),e.nI1(45,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(46,"div",50)(47,"div",51),e.EFF(48),e.nI1(49,"mytranslate"),e.k0s(),e.j41(50,"div",52),e.EFF(51),e.nI1(52,"mytranslate"),e.k0s()()()(),e.j41(53,"div",46)(54,"div",47),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3);return e.Njj(i.onShowFile("images/vip-package/auto_ analysis_exam.png"))}),e.j41(55,"div",48),e.nrm(56,"img",49),e.nI1(57,"convertCdnLinkOfGitHub"),e.k0s(),e.j41(58,"div",50)(59,"div",51),e.EFF(60),e.nI1(61,"mytranslate"),e.k0s(),e.j41(62,"div",52),e.EFF(63),e.nI1(64,"mytranslate"),e.k0s()()()()()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,16,"lang_azt_vip_upgrade_privileges")," "),e.R7$(6),e.Y8G("src",e.bMT(9,18,"images/vip-package/no_ads.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(13,20,"lang_azt_vip_upgrade_privilegs_one_title")," "),e.R7$(3),e.SpI(" ",e.bMT(16,22,"lang_azt_vip_upgrade_privilegs_one_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(21,24,"images/vip-package/no_limit_export.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(25,26,"lang_azt_vip_upgrade_privilegs_two_title")," "),e.R7$(3),e.SpI(" ",e.bMT(28,28,"lang_azt_vip_upgrade_privilegs_two_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(33,30,"images/vip-package/manager_account.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(37,32,"lang_azt_vip_upgrade_privilegs_three_title")," "),e.R7$(3),e.SpI(" ",e.bMT(40,34,"lang_azt_vip_upgrade_privilegs_three_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(45,36,"images/vip-package/matrix_book.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(49,38,"lang_azt_vip_upgrade_privilegs_four_title")," "),e.R7$(3),e.SpI(" ",e.bMT(52,40,"lang_azt_vip_upgrade_privilegs_four_desc")," "),e.R7$(5),e.Y8G("src",e.bMT(57,42,"images/vip-package/auto_ analysis_exam.png"),e.B4B),e.R7$(4),e.SpI(" ",e.bMT(61,44,"lang_azt_vip_upgrade_privilegs_five_title")," "),e.R7$(3),e.SpI(" ",e.bMT(64,46,"lang_azt_vip_upgrade_privilegs_five_desc")," "))}function Rm(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",56)(1,"div",57)(2,"div",58)(3,"div",59),e.nrm(4,"lucide-icon",60),e.k0s(),e.j41(5,"div",61)(6,"div",62),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",29)(10,"div",63),e.EFF(11),e.nI1(12,"formatMoney"),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",64),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.j41(17,"div",65),e.nrm(18,"azt-svg-icon",27),e.j41(19,"div",28),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()(),e.j41(22,"div",37)(23,"button",66),e.bIt("click",function(){const i=e.eBV(n).$implicit,r=e.XpG(4);return e.Njj(r.choosePackage(i.id))}),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()()()()}if(2&t){const n=a.$implicit;e.R7$(7),e.JRh(e.bMT(8,6,n.name)),e.R7$(4),e.SpI(" ",e.bMT(12,8,n.price)+" "+e.bMT(13,10,"lang_auto_vnd_upper")," "),e.R7$(4),e.SpI(" "," / "+n.totalMonth+" "+e.bMT(16,12,"lang_auto_"+n.timeUnit)," "),e.R7$(3),e.Y8G("size",25),e.R7$(2),e.SpI(" ",e.bMT(21,14,"lang_azt_no_ads")," "),e.R7$(4),e.SpI(" ",e.bMT(25,16,"lang_auth_use")," ")}}function wm(t,a){if(1&t&&(e.j41(0,"div",53),e.nrm(1,"div",54),e.DNE(2,Rm,26,18,"div",55),e.k0s()),2&t){const n=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",n.vipPackageList)}}function Tm(t,a){if(1&t&&(e.j41(0,"div",10),e.DNE(1,hm,3,3,"div",11)(2,fm,1,1,"ng-container",12)(3,vm,1,1,"ng-container",12)(4,bm,1,1,"ng-container",12),e.k0s(),e.DNE(5,Sm,2,1,"ng-template",null,2,e.C5r)(7,xm,65,48,"ng-template",null,3,e.C5r)(9,wm,3,1,"ng-template",null,4,e.C5r)),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",!n.isMobileWebView),e.R7$(),e.Y8G("ngIf",!n.isMobileWebView&&n.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",n.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",!n.isMobileWebView&&!n.isTeacherDashboard)}}function Fm(t,a){if(1&t&&e.DNE(0,gm,1,1,"azt-loading-effect",8)(1,Tm,11,4,"ng-template",null,1,e.C5r),2&t){const n=e.sdS(2),o=e.XpG();e.Y8G("ngIf",o.statusObj.loading)("ngIfElse",n)}}const jm=[{path:"",component:Iu,children:[{path:"login",component:yu},{path:"login-scan/:role",component:eu},{path:"login-by-zalo",component:C_},{path:"register",component:No},{path:"register/:type",component:No},{path:"choose-role",component:Tl},{path:"required-phone-or-email",component:Hd},{path:"logout",component:Cu},{path:"confirm_forgot_password",component:vc},{path:"confirm-forgot-password-email",component:Gl},{path:"forgot_password_success",component:r_},{path:"confirm_forgot_password_qr",component:Qc},{path:"confirm_forgot_password_old",component:wc},{path:"confirm_account",component:Ql},{path:"checking_service",component:Rl},{path:"set_new_password",component:sm},{path:"create-qr-forgot-pass/:role",component:a_},{path:"change-email",component:xl},{path:"account-setting/:roleType/:modeType",component:tl},{path:"go-to-mobile/:code",component:Ro},{path:"go-to-mobile/:code/:fromApp",component:Ro},{path:"login-by-openapi",component:y_},{path:"register-by-openapi/:type",component:ku},{path:"register-for-organization",component:Td},{path:"register-for-business-old",component:Zu},{path:"thank-for-business",component:lm},{path:"register-confirm",component:Gu},{path:"vip-packages/:vipPackageType",component:(()=>{var t;class a extends $.H{choosePackage(o){let i=this.commonService.getMyQueryParam("backTo")?this.commonService.getMyQueryParam("backTo"):void 0;const r=`userRole=${this.vipPackageType==lt.W.TEACHER?"teacher":"student"}&productType=vip_package&backTo=`+encodeURIComponent(i??this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyVipMemberGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o,this.trackingKey,r).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);window.location.href=l.data?.value??"",this.successStatusObj()}))}onShowFile(o){(()=>{let p=window.pageYOffset||document.documentElement.scrollLeft,b=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=()=>{window.scrollTo(p,b)}})(),this.sAztDialogService.open(cm.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{url:this.SAztCdnService.convertCdnLinkOfGitHub(o),mimes:"image/jpeg"},viewFullImageWithScroll:!0},restoreFocus:!1}).afterClosed().subscribe(p=>{window.onscroll=()=>{}})}getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.vipPackageService.apiVipPackageGetPackageObjsPost({vipPackageType:this.vipPackageType}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.vipPackageList=o.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.vipPackageType="teacherVip"==this.commonService.getMyParam(this.activeRoute,"vipPackageType")?lt.W.TEACHER:lt.W.STUDENT,this.isTeacherDashboard="teacherVip"==this.commonService.getMyParam(this.activeRoute,"vipPackageType"),this.backLink=this.commonService.getMyQueryParam("backto")??`/auth/account-setting/${this.vipPackageType==lt.W.TEACHER?0:1}/8`,this.trackingKey=this.commonService.getMyQueryParam("trackingKey")?this.commonService.getMyQueryParam("trackingKey"):void 0,this.getBusinessPackages()}constructor(o,i,r,l,p){super(),this.activeRoute=o,this.vipPackageService=i,this.productOrderService=r,this.sAztDialogService=l,this.SAztCdnService=p,this.vipPackageList=[],this.backLink="",this.allPackages=lt.W,this.isTeacherDashboard=!1,this.trackingKey=void 0}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(X.nX),e.rXU(_m.v),e.rXU(Qt.Hg),e.rXU(Ue.i),e.rXU(Wn.B))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-vip-packages"]],features:[e.Vt3],decls:4,vars:2,consts:[["MainContentTpl",""],["doneLoading",""],["teacherVipTpl",""],["whyTeacherVipTpl",""],["studentVipTpl",""],[3,"headerBackToLink",4,"ngIf"],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"mx-auto","mt-8"],["class","text-center text-2xl font-medium",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8","mx-auto",2,"max-width","900px"],["class","col-span-12 md:col-span-6",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6",3,"ngClass"],[1,"intro-y","box","package-teacher","flex-1","w-full"],[1,"border-b","border-slate-200","dark:border-darkmode-400","p-5"],[1,"flex","items-center"],[1,"vip-icon","btn","btn-gradient-primary","mr-2",2,"width","40px","height","40px","font-size","20px","font-weight","600","font-style","italic"],["name","gem","size","20"],[1,"font-bold","text-2xl"],[1,"leading-relaxed","font-medium","mt-4"],["class","package-price mt-4",4,"ngIf"],["class","py-1 px-2 rounded-full text-xs bg-pending text-white cursor-pointer font-medium box-save",4,"ngIf"],[1,"p-5"],["type","noads",1,"mr-2","flex-none",3,"size"],[1,"ml-2","font-medium"],[1,"mt-2","flex","items-center"],["name","folder-down",1,"mr-2","flex-none",3,"size"],[1,"font-medium"],["name","file-down",1,"mr-2","flex-none",3,"size"],["name","file-pen-line",1,"mr-2","flex-none",3,"size"],["type","user-pen",1,"mr-2","flex-none",3,"size"],["name","landmark",1,"mr-2","flex-none",3,"size"],["name","layout-panel-top",1,"mr-2","flex-none",3,"size"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","w-full","px-4","py-3",3,"click","ngClass"],[1,"package-price","mt-4"],[1,"font-bold",2,"font-size","30px"],[1,"text-base","font-bold"],[1,"py-1","px-2","rounded-full","text-xs","bg-pending","text-white","cursor-pointer","font-medium","box-save"],[1,"mt-8","mx-auto"],[1,"text-2xl","font-medium","text-center"],[1,"grid","grid-cols-10","gap-5","mt-5"],[1,"col-span-12","md:col-span-5","lg:col-span-2","intro-x"],[1,"box","overflow-hidden","zoom-in","h-full",3,"click"],[1,"box-head","object-fit"],[1,"box-img",3,"src"],[1,"box-body","p-2"],[1,"text-base","font-medium"],[1,"mt-2","leading-relaxed","text-slate-500"],[1,"grid","grid-cols-12","gap-5","mt-8","mx-auto",2,"max-width","800px"],[1,"md:col-span-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center","pb-5","border-b","border-slate-200","dark:border-darkmode-400"],[1,"vip-icon","btn","btn-gradient-primary",2,"width","80px","height","80px","font-size","30px","font-weight","600","font-style","italic"],["name","gem","size","30"],[1,"ml-3"],[1,"text-xl","font-medium"],[1,"font-medium","text-lg","mr-1"],[1,"text-slate-500"],[1,"mt-5","flex","items-center"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(o,i){1&o&&e.DNE(0,mm,2,2,"teacher-layout",5)(1,pm,2,2,"student-layout",5)(2,Fm,3,2,"ng-template",null,0,e.C5r),2&o&&(e.Y8G("ngIf",i.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",!i.isTeacherDashboard))},dependencies:[s.YU,s.Sq,s.bT,s.T3,ge.K,rt.m,lo.Q,co.j,J.WGl,w.wp,w.gt,w.t0],styles:[".package-teacher[_ngcontent-%COMP%]{position:relative}.box-save[_ngcontent-%COMP%]{position:absolute;top:-12px;right:20px}"]}),a})()},{path:"business-packages/:businessPackageType/:businessRegisterId/:businessRegisterHash",component:pl}]}];let Em=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[X.iI.forChild(jm),X.iI,vi.XE]}),a})(),Om=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({providers:[{provide:oo.vn,useValue:Be.c.azt_tiny_mce_script_src}],imports:[X.iI,s.MD,c.YN,oo.sv,pi.s,c.X1,Em,fi.Q,hi.b,gi.L,io.xv,ao.Id,ai.initializeApp(Be.c.firebaseConfig_app1,"auth"),J.flO.pick(J.Ptg),Vt.AC,di,mi.Lk,an.An]}),a})()},69775:(Ce,ne,_)=>{"use strict";_.d(ne,{x:()=>N});var v=_(89163),s=_(33887),m=_(48891),e=_(2915),x=_(76975);let N=(()=>{var z;class j extends s._{confirmDelete(){this.btnCloseDialog(!0)}btnCloseDialog(y){this.dialogRef.close(y)}constructor(y,k){super(k,y),this.dialogRef=y,this.data=k}}return(z=j).\u0275fac=function(y){return new(y||z)(m.rXU(v.CP,8),m.rXU(v.Vh,8))},z.\u0275cmp=m.VBU({type:z,selectors:[["app-confirm-delete-logo"]],features:[m.Vt3],decls:14,vars:9,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"click"]],template:function(y,k){1&y&&(m.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),m.EFF(5),m.nI1(6,"mytranslate"),m.k0s()()()(),m.j41(7,"div",4)(8,"button",5),m.bIt("click",function(){return k.btnCloseDialog(!1)}),m.EFF(9),m.nI1(10,"mytranslate"),m.k0s(),m.j41(11,"button",6),m.bIt("click",function(){return k.confirmDelete()}),m.EFF(12),m.nI1(13,"mytranslate"),m.k0s()()()),2&y&&(m.R7$(5),m.SpI(" ",m.bMT(6,3,"lang_business_config_are_your_sure_to_delete_this_logo")," "),m.R7$(4),m.SpI(" ",m.bMT(10,5,"lang_cms_common_close_btn")," "),m.R7$(3),m.SpI(" ",m.bMT(13,7,"lang_cms_common_confirm_btn")," "))},dependencies:[e.U,x.wp],encapsulation:2}),j})()},29660:(Ce,ne,_)=>{"use strict";_.d(ne,{_8:()=>z,d1:()=>j});var v=_(71217),s=_(17509),m=_(47947),e=_(48891),x=_(96699);class N{constructor(y,k,F,C,E=1,P=!1,D=!1,h,le){this.id=y,this.pr=k,this.type=F,this.item=C,this.level=E,this.expandable=P,this.isLoading=D,this.prNode=h,this.isLeaf=le}}let z=(()=>{var M;class y{constructor(F){this.testMarketQuestionService=F,this.levelId=0,this.subjectId=0}initialData(F,C){return this.levelId=F,this.subjectId=C,new Promise(E=>{this.apiLeechData(void 0).then(P=>{E(P.map(D=>new N(D.id,D.pr,D.type,D.name,0,"cate"===D.type,!1,void 0,D.isLeaf)))})})}apiLeechData(F){return new Promise(C=>{const E=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,F).subscribe(P=>{1===P.success&&P.data&&(P.data.objs||[]).forEach(h=>{E.push({pr:F??0,id:h.id??0,name:h.name?`${h.name}`:"",type:"cate",isLeaf:h.isLeaf??!1})}),C(E)})})}}return(M=y).\u0275fac=function(F){return new(F||M)(e.KVO(x.e2))},M.\u0275prov=e.jDH({token:M,factory:M.\u0275fac,providedIn:"root"}),y})();class j{get data(){return this.dataChange.value}set data(y){this._treeControl.dataNodes=y,this.dataChange.next(y)}constructor(y,k){this._treeControl=y,this._database=k,this.dataChange=new v.t([])}connect(y){return this._treeControl.expansionModel.changed.subscribe(k=>{(k.added||k.removed)&&this.handleTreeControl(k)}),(0,s.h)(y.viewChange,this.dataChange).pipe((0,m.T)(()=>this.data))}getNode(y){let k=this.data.filter(F=>F.id==y);return k&&k.length>0?k[0]:null}disconnect(y){}handleTreeControl(y){y.added&&y.added.forEach(k=>this.toggleNode(k,!0)),y.removed&&y.removed.slice().reverse().forEach(k=>this.toggleNode(k,!1))}toggleNode(y,k){if("cate"!==y.type)return;const F=this.data.indexOf(y);if(k)y.isLoading=!0,this._database.apiLeechData(y.id).then(C=>{const E=C.map(P=>new N(P.id,P.pr,P.type,P.name,y.level+1,"cate"===P.type,!1,y,P.isLeaf));this.data.splice(F+1,0,...E),this.dataChange.next(this.data),y.isLoading=!1});else{let C=0;for(let E=F+1;E<this.data.length&&this.data[E].level>y.level;E++,C++);this.data.splice(F+1,C),this.dataChange.next(this.data)}}}},10296:(Ce,ne,_)=>{"use strict";_.d(ne,{R:()=>z});var v=_(43277),m=_(18148),e=_(48891),x=_(52509),N=_(62095);let z=(()=>{var j;class M{constructor(k,F){this.mobileWebviewService=k,this.commonService=F}shareFileWithBlob(k,F){if(this.commonService.isMobileWebview(void 0)){m.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let C=new FileReader;C.readAsDataURL(k),C.onloadend=()=>{let E=C.result;"string"==typeof E&&(this.mobileWebviewService.sendShareFileBase64(F,String(E)),m.L.closeLoadingEffect(100))}}else v.saveAs(k,F)}shareFileWithBase64(k,F){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(F,k):v.saveAs(k,F)}}return(j=M).\u0275fac=function(k){return new(k||j)(e.KVO(x.f),e.KVO(N.R))},j.\u0275prov=e.jDH({token:j,factory:j.\u0275fac,providedIn:"root"}),M})()},39763:(Ce,ne,_)=>{"use strict";_.d(ne,{m:()=>e});var v=_(48891),s=_(36484),m=_(62095);let e=(()=>{var x;class N{constructor(j,M){this.userService=j,this.commonService=M}checkLoginZalo(){if(!this.userService.isLogin())return!1;const j=this.userService.getUserObj();return!(!j.zaloId||j.phone&&10==j.phone.length||j.email&&-1!==j.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}}return(x=N).\u0275fac=function(j){return new(j||x)(v.KVO(s.R),v.KVO(m.R))},x.\u0275prov=v.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),N})()},18148:(Ce,ne,_)=>{"use strict";_.d(ne,{L:()=>v});let v=(()=>{var s;class m{static openLoadingEffect(x){m.getDomElement().style.display="flex",setTimeout(()=>{m.changeMsgLoadingEffect(x)},50)}static closeLoadingEffect(x){return new Promise(N=>{setTimeout(()=>{const z=m.getDomElement();z&&(z.style.display="none"),N(!0)},x)})}static changeMsgLoadingEffect(x){m.getDomContent().innerText=x}static getDomContent(){return document.getElementById(m.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(m.idComponent)??this.createDomElement()}static createDomElement(){const x=document.createElement("div");return x.id=m.idComponent,x.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),x.style.display="none",x.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${m.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(x),x}}return(s=m).idComponent="azt-status-loading-effect",s.idStatusContent="azt-status-loading-effect-content",m})()},40509:(Ce,ne,_)=>{"use strict";_.d(ne,{K:()=>Se});var v=_(59640),s=_(48891),m=_(50589),e=_(65162),x=_(54460),N=_(61318),z=_(15343),j=_(19938),M=_(76975);const y=["*"],k=Y=>[Y],F=()=>({"mr-2":!0});function C(Y,be){if(1&Y&&(s.j41(0,"div",6),s.eu8(1,7),s.k0s()),2&Y){s.XpG();const K=s.sdS(6);s.R7$(),s.Y8G("ngTemplateOutlet",K)}}function E(Y,be){if(1&Y&&(s.j41(0,"div",6),s.eu8(1,7),s.k0s()),2&Y){s.XpG();const K=s.sdS(8);s.R7$(),s.Y8G("ngTemplateOutlet",K)}}function P(Y,be){1&Y&&s.SdG(0)}function D(Y,be){if(1&Y){const K=s.RV6();s.j41(0,"button",19),s.bIt("click",function(){s.eBV(K);const de=s.XpG(2);return s.Njj(de.switchModeUI("dark"))}),s.nrm(1,"lucide-icon",20),s.j41(2,"span",21),s.EFF(3),s.nI1(4,"mytranslate"),s.k0s()()}2&Y&&(s.R7$(),s.Y8G("ngClass",s.lJ4(4,F)),s.R7$(2),s.JRh(s.bMT(4,2,"lang_auto_che_de_toi")))}function h(Y,be){if(1&Y){const K=s.RV6();s.j41(0,"button",22),s.bIt("click",function(){s.eBV(K);const de=s.XpG(2);return s.Njj(de.switchModeUI("light"))}),s.nrm(1,"lucide-icon",23),s.j41(2,"span"),s.EFF(3),s.nI1(4,"mytranslate"),s.k0s()()}2&Y&&(s.R7$(),s.Y8G("ngClass",s.lJ4(4,F)),s.R7$(2),s.JRh(s.bMT(4,2,"lang_auto_che_de_sang")))}function le(Y,be){if(1&Y&&(s.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"a",11),s.nI1(4,"navigationLocalize"),s.nrm(5,"img",12),s.nI1(6,"getLinkLogo"),s.k0s()(),s.j41(7,"div",13),s.nrm(8,"azt-switch-language"),s.k0s(),s.j41(9,"div",14),s.DNE(10,D,5,5,"button",15)(11,h,5,5,"button",16),s.k0s()(),s.j41(12,"div",17)(13,"div")(14,"div",18),s.eu8(15,7),s.k0s()()()()),2&Y){const K=s.XpG(),se=s.sdS(4);s.R7$(3),s.Y8G("routerLink",s.eq3(13,k,s.bMT(4,9,"/auth/login"))),s.R7$(2),s.Y8G("src",s.bMT(6,11,"bigLogo"),s.B4B),s.R7$(5),s.Y8G("ngIf","light"==K.modeUI),s.R7$(),s.Y8G("ngIf","dark"==K.modeUI),s.R7$(2),s.Aen("max-width:"+K.maxWidth),s.HbH(K.contentBoxClass+(K.removeBoxClass?"":" box mx-auto w-full")),s.R7$(2),s.Y8G("ngTemplateOutlet",se)}}function je(Y,be){if(1&Y&&(s.j41(0,"div",8)(1,"div",17)(2,"div")(3,"div",18),s.eu8(4,7),s.k0s()()()()),2&Y){const K=s.XpG(),se=s.sdS(4);s.R7$(2),s.Aen("max-width:"+K.maxWidth),s.HbH(K.contentBoxClass+(K.removeBoxClass?"":" box mx-auto w-full")),s.R7$(2),s.Y8G("ngTemplateOutlet",se)}}let Se=(()=>{var Y;class be extends v.H{switchModeUI(se){let de=document.getElementById("azota-app-html");de&&(this.modeUI=se,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(de.classList.remove("dark"),de.classList.add("light")):(de.classList.remove("light"),de.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(se){super(),this.browserStorageService=se,this.maxWidth="500px",this.contentBoxClass="p-5",this.removeBoxClass=!1,this.modeUI="",this.initStatusObj()}}return(Y=be).\u0275fac=function(se){return new(se||Y)(s.rXU(m.z))},Y.\u0275cmp=s.VBU({type:Y,selectors:[["auth-layout"]],inputs:{maxWidth:"maxWidth",contentBoxClass:"contentBoxClass",removeBoxClass:"removeBoxClass"},features:[s.Vt3],ngContentSelectors:y,decls:11,vars:2,consts:[["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden"],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","moon","size","20",3,"ngClass"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","sun","size","20",3,"ngClass"]],template:function(se,de){1&se&&(s.NAR(),s.j41(0,"div",3),s.DNE(1,C,2,1,"div",4)(2,E,2,1,"div",4),s.k0s(),s.DNE(3,P,1,0,"ng-template",null,0,s.C5r)(5,le,16,15,"ng-template",null,1,s.C5r)(7,je,5,5,"ng-template",null,2,s.C5r),s.j41(9,"div",5),s.nrm(10,"header-setting-color"),s.k0s()),2&se&&(s.R7$(),s.Y8G("ngIf",!de.isMobileWebView&&!de.statusObj.loading),s.R7$(),s.Y8G("ngIf",de.isMobileWebView&&!de.statusObj.loading))},dependencies:[e.Wk,x.YU,x.bT,x.T3,N.V,z.WGl,j.o,M.F2,M.wp,M.ph],encapsulation:2}),be})()},46247:(Ce,ne,_)=>{"use strict";_.d(ne,{l:()=>M});var v=_(89163),s=_(33887),m=_(48891),e=_(54460),x=_(15343),N=_(2915),z=_(76975);const j=()=>({"mr-2 text-pending":!0});let M=(()=>{var y;class k extends s._{btnCloseDialog(){this.dialogRef.close()}constructor(C,E){super(E,C),this.dialogRef=C,this.data=E}}return(y=k).\u0275fac=function(C){return new(C||y)(m.rXU(v.CP,8),m.rXU(v.Vh,8))},y.\u0275cmp=m.VBU({type:y,selectors:[["azt-dialog-warning"]],features:[m.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","p-3","pb-0"],["name","octagon-alert","size","24",3,"ngClass"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"]],template:function(C,E){1&C&&(m.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),m.nrm(4,"lucide-icon",4),m.EFF(5),m.nI1(6,"mytranslate"),m.k0s(),m.j41(7,"div",5)(8,"azt-mat-dialog-content",6),m.nrm(9,"div",7),m.k0s()()()(),m.j41(10,"div",8)(11,"button",9),m.bIt("click",function(){return E.btnCloseDialog()}),m.EFF(12),m.nI1(13,"mytranslate"),m.k0s()()()),2&C&&(m.R7$(4),m.Y8G("ngClass",m.lJ4(9,j)),m.R7$(),m.SpI(" ",m.bMT(6,5,"lang_auto_canh_bao")," "),m.R7$(3),m.Y8G("defaultHeight",60),m.R7$(),m.Y8G("innerHtml",E.data.content,m.npT),m.R7$(3),m.SpI(" ",m.bMT(13,7,"lang_auto_dong")," "))},dependencies:[e.YU,x.WGl,N.U,z.wp],encapsulation:2}),k})()},74175:(Ce,ne,_)=>{"use strict";_.d(ne,{W:()=>F});var v=_(47947),s=_(59640),m=_(48891),e=_(10296),x=_(62095),N=_(27691),z=_(54460),j=_(76975);const M=["*","*"];function y(C,E){if(1&C){const P=m.RV6();m.qex(0),m.j41(1,"a",2),m.bIt("click",function(){m.eBV(P);const h=m.XpG();return m.Njj(h.shareFileToFlutter())}),m.j41(2,"span"),m.EFF(3),m.nI1(4,"mytranslate"),m.k0s(),m.SdG(5),m.k0s(),m.bVm()}if(2&C){const P=m.XpG();m.R7$(),m.Aen(P.style),m.HbH(P.classStyle),m.FS9("target",P.target),m.R7$(2),m.JRh(m.bMT(4,7,P.fileDescription))}}function k(C,E){if(1&C&&(m.j41(0,"a",3)(1,"span"),m.EFF(2),m.nI1(3,"mytranslate"),m.k0s(),m.SdG(4,1),m.k0s()),2&C){const P=m.XpG();m.Aen(P.style),m.HbH(P.classStyle),m.FS9("href",P.dataUrl,m.B4B),m.FS9("target",P.target),m.FS9("download",P.fileName),m.R7$(2),m.JRh(m.bMT(3,9,P.fileDescription))}}let F=(()=>{var C;class E extends s.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,v.T)(D=>D))}shareFileToFlutter(){this.downloadFile().subscribe(D=>{this.shareFileFlutterService.shareFileWithBlob(D,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(D,h,le){super(),this.shareFileFlutterService=D,this.commonService=h,this.http=le,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return(C=E).\u0275fac=function(D){return new(D||C)(m.rXU(e.R),m.rXU(x.R),m.rXU(N.Qq))},C.\u0275cmp=m.VBU({type:C,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[m.Vt3],ngContentSelectors:M,decls:3,vars:2,consts:[["NormalWeb",""],[4,"ngIf","ngIfElse"],[3,"click","target"],[3,"href","target","download"]],template:function(D,h){if(1&D&&(m.NAR(M),m.DNE(0,y,6,9,"ng-container",1)(1,k,5,11,"ng-template",null,0,m.C5r)),2&D){const le=m.sdS(2);m.Y8G("ngIf",h.isMobileWebView)("ngIfElse",le)}},dependencies:[z.bT,j.wp],encapsulation:2}),E})()},20013:(Ce,ne,_)=>{"use strict";_.d(ne,{T:()=>j});var v=_(48891),s=_(9516),m=_(54460),e=_(52811);const x=["*"];function N(M,y){1&M&&v.SdG(0,0,["*ngIf","!isUploadFile"])}function z(M,y){1&M&&(v.j41(0,"span",5),v.nrm(1,"azt-loading-ui"),v.k0s())}let j=(()=>{var M;class y extends s.L{constructor(){super(...arguments),this.uploadComplete=new v.bkB}emitUploadComplete(F){F.length>0&&this.uploadComplete.emit(F[0])}}return(M=y).\u0275fac=(()=>{let k;return function(C){return(k||(k=v.xGo(M)))(C||M)}})(),M.\u0275cmp=v.VBU({type:M,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[v.Vt3],ngContentSelectors:x,decls:6,vars:3,consts:[["formChoseFile",""],[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(F,C){if(1&F){const E=v.RV6();v.NAR(),v.j41(0,"div",1),v.bIt("click",function(){v.eBV(E);const D=v.sdS(2);return v.Njj(C.onOpenFileDictionary()&&D.click())}),v.j41(1,"input",2,0),v.bIt("change",function(D){return v.eBV(E),v.Njj(C.onFileSelected(D))})("cancel",function(D){return v.eBV(E),v.Njj(C.onCancelSelect(D))}),v.k0s(),v.DNE(3,N,1,0,"ng-content",3),v.j41(4,"div"),v.DNE(5,z,2,0,"span",4),v.k0s()()}2&F&&(v.R7$(),v.FS9("accept",C.fileType),v.R7$(2),v.Y8G("ngIf",!C.isUploadFile),v.R7$(2),v.Y8G("ngIf",C.isUploadFile))},dependencies:[m.bT,e.R],encapsulation:2}),y})()},43277:function(Ce,ne){var _,s;void 0!==(s="function"==typeof(_=function(){"use strict";function e(y,k,F){var C=new XMLHttpRequest;C.open("GET",y),C.responseType="blob",C.onload=function(){M(C.response,k,F)},C.onerror=function(){console.error("could not download file")},C.send()}function x(y){var k=new XMLHttpRequest;k.open("HEAD",y,!1);try{k.send()}catch{}return 200<=k.status&&299>=k.status}function N(y){try{y.dispatchEvent(new MouseEvent("click"))}catch{var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),y.dispatchEvent(k)}}var z="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,j=z.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),M=z.saveAs||("object"!=typeof window||window!==z?function(){}:"download"in HTMLAnchorElement.prototype&&!j?function(y,k,F){var C=z.URL||z.webkitURL,E=document.createElement("a");E.download=k=k||y.name||"download",E.rel="noopener","string"==typeof y?(E.href=y,E.origin===location.origin?N(E):x(E.href)?e(y,k,F):N(E,E.target="_blank")):(E.href=C.createObjectURL(y),setTimeout(function(){C.revokeObjectURL(E.href)},4e4),setTimeout(function(){N(E)},0))}:"msSaveOrOpenBlob"in navigator?function(y,k,F){if(k=k||y.name||"download","string"!=typeof y)navigator.msSaveOrOpenBlob(function m(y,k){return typeof k>"u"?k={autoBom:!1}:"object"!=typeof k&&(console.warn("Deprecated: Expected third argument to be a object"),k={autoBom:!k}),k.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob(["\ufeff",y],{type:y.type}):y}(y,F),k);else if(x(y))e(y,k,F);else{var C=document.createElement("a");C.href=y,C.target="_blank",setTimeout(function(){N(C)})}}:function(y,k,F,C){if((C=C||open("","_blank"))&&(C.document.title=C.document.body.innerText="downloading..."),"string"==typeof y)return e(y,k,F);var E="application/octet-stream"===y.type,P=/constructor/i.test(z.HTMLElement)||z.safari,D=/CriOS\/[\d]+/.test(navigator.userAgent);if((D||E&&P||j)&&typeof FileReader<"u"){var h=new FileReader;h.onloadend=function(){var Se=h.result;Se=D?Se:Se.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=Se:location=Se,C=null},h.readAsDataURL(y)}else{var le=z.URL||z.webkitURL,je=le.createObjectURL(y);C?C.location=je:location.href=je,C=null,setTimeout(function(){le.revokeObjectURL(je)},4e4)}});z.saveAs=M.saveAs=M,Ce.exports=M})?_.apply(ne,[]):_)&&(Ce.exports=s)},7882:(Ce,ne,_)=>{"use strict";_.r(ne);var v=_(73014),s=_(17791),m=_(64627),e=_(80055),x=_(56094);class N{constructor(u,d){this._delegate=u,this.firebase=d,(0,e._addComponent)(u,new m.uA("app-compat",()=>this,"PUBLIC")),this.container=u.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(u){this._delegate.automaticDataCollectionEnabled=u}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(u=>{this._delegate.checkDestroyed(),u()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,e.deleteApp)(this._delegate)))}_getService(u,d=e._DEFAULT_ENTRY_NAME){var f;this._delegate.checkDestroyed();const I=this._delegate.container.getProvider(u);return!I.isInitialized()&&"EXPLICIT"===(null===(f=I.getComponent())||void 0===f?void 0:f.instantiationMode)&&I.initialize(),I.getImmediate({identifier:d})}_removeServiceInstance(u,d=e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(u).clearInstance(d)}_addComponent(u){(0,e._addComponent)(this._delegate,u)}_addOrOverwriteComponent(u){(0,e._addOrOverwriteComponent)(this._delegate,u)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const j=new s.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function y(){const g=function M(g){const u={},d={__esModule:!0,initializeApp:function L(Q,oe={}){const G=e.initializeApp(Q,oe);if((0,s.gR)(u,G.name))return u[G.name];const fe=new g(G,d);return u[G.name]=fe,fe},app:I,registerVersion:e.registerVersion,setLogLevel:e.setLogLevel,onLog:e.onLog,apps:null,SDK_VERSION:e.SDK_VERSION,INTERNAL:{registerComponent:function q(Q){const oe=Q.name,G=oe.replace("-compat","");if(e._registerComponent(Q)&&"PUBLIC"===Q.type){const fe=(ze=I())=>{if("function"!=typeof ze[G])throw j.create("invalid-app-argument",{appName:oe});return ze[G]()};void 0!==Q.serviceProps&&(0,s.zw)(fe,Q.serviceProps),d[G]=fe,g.prototype[G]=function(...ze){return this._getService.bind(this,oe).apply(this,Q.multipleInstances?ze:[])}}return"PUBLIC"===Q.type?d[G]:null},removeApp:function f(Q){delete u[Q]},useAsService:function me(Q,oe){return"serverAuth"===oe?null:oe},modularAPIs:e}};function I(Q){if(!(0,s.gR)(u,Q=Q||e._DEFAULT_ENTRY_NAME))throw j.create("no-app",{appName:Q});return u[Q]}return d.default=d,Object.defineProperty(d,"apps",{get:function W(){return Object.keys(u).map(Q=>u[Q])}}),I.App=g,d}(N);return g.INTERNAL=Object.assign(Object.assign({},g.INTERNAL),{createFirebaseNamespace:y,extendNamespace:function u(d){(0,s.zw)(g,d)},createSubscribe:s.tD,ErrorFactory:s.FA,deepExtend:s.zw}),g}(),F=new x.Vy("@firebase/app-compat");try{const g=(0,s.mS)();if(void 0!==g.firebase){F.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const u=g.firebase.SDK_VERSION;u&&u.indexOf("LITE")>=0&&F.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const D=k;!function P(g){(0,e.registerVersion)("@firebase/app-compat","0.2.41",g)}();var h=_(8885);function le(){return window}function Y(){return Y=(0,v.A)(function*(g,u,d){var f;const{BuildInfo:I}=le();(0,h.au)(u.sessionId,"AuthEvent did not contain a session ID");const L=yield function kt(g){return He.apply(this,arguments)}(u.sessionId),W={};return(0,h.av)()?W.ibi=I.packageName:(0,h.aw)()?W.apn=I.packageName:(0,h.ax)(g,"operation-not-supported-in-this-environment"),I.displayName&&(W.appDisplayName=I.displayName),W.sessionId=L,(0,h.ay)(g,d,u.type,void 0,null!==(f=u.eventId)&&void 0!==f?f:void 0,W)}),Y.apply(this,arguments)}function K(){return(K=(0,v.A)(function*(g){const{BuildInfo:u}=le(),d={};(0,h.av)()?d.iosBundleId=u.packageName:(0,h.aw)()?d.androidPackageName=u.packageName:(0,h.ax)(g,"operation-not-supported-in-this-environment"),yield(0,h.az)(g,d)})).apply(this,arguments)}function Je(){return(Je=(0,v.A)(function*(g,u,d){const{cordova:f}=le();let I=()=>{};try{yield new Promise((L,W)=>{let q=null;function me(){var G;L();const fe=null===(G=f.plugins.browsertab)||void 0===G?void 0:G.close;"function"==typeof fe&&fe(),"function"==typeof d?.close&&d.close()}function Q(){q||(q=window.setTimeout(()=>{W((0,h.aB)(g,"redirect-cancelled-by-user"))},2e3))}function oe(){"visible"===document?.visibilityState&&Q()}u.addPassiveListener(me),document.addEventListener("resume",Q,!1),(0,h.aw)()&&document.addEventListener("visibilitychange",oe,!1),I=()=>{u.removePassiveListener(me),document.removeEventListener("resume",Q,!1),document.removeEventListener("visibilitychange",oe,!1),q&&window.clearTimeout(q)}})}finally{I()}})).apply(this,arguments)}function He(){return(He=(0,v.A)(function*(g){const u=function St(g){if((0,h.au)(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const u=new ArrayBuffer(g.length),d=new Uint8Array(u);for(let f=0;f<g.length;f++)d[f]=g.charCodeAt(f);return d}(g),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Rt extends h.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInitialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInitialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,v.A)(function*(){yield u.initPromise})()}}function mt(g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,v.A)(function*(g){const u=yield Ze()._get(et(g));return u&&(yield Ze()._remove(et(g))),u})).apply(this,arguments)}function jt(){const g=[];for(let d=0;d<20;d++){const f=Math.floor(62*Math.random());g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(f))}return g.join("")}function Ze(){return(0,h.aE)(h.b)}function et(g){return(0,h.aF)("authEvent",g.config.apiKey,g.name)}function De(g){if(!g?.includes("?"))return{};const[u,...d]=g.split("?");return(0,s.I9)(d.join("?"))}const T=class Pe{constructor(){this._redirectPersistence=h.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=h.aG,this._overrideRedirectResult=h.aH}_initialize(u){var d=this;return(0,v.A)(function*(){const f=u._key();let I=d.eventManagers.get(f);return I||(I=new Rt(u),d.eventManagers.set(f,I),d.attachCallbackListeners(u,I)),I})()}_openPopup(u){(0,h.ax)(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,f,I){var L=this;return(0,v.A)(function*(){!function It(g){var u,d,f,I,L,W,q,me,Q,oe;const G=le();(0,h.aC)("function"==typeof(null===(u=G?.universalLinks)||void 0===u?void 0:u.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,h.aC)(typeof(null===(d=G?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,h.aC)("function"==typeof(null===(L=null===(I=null===(f=G?.cordova)||void 0===f?void 0:f.plugins)||void 0===I?void 0:I.browsertab)||void 0===L?void 0:L.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aC)("function"==typeof(null===(me=null===(q=null===(W=G?.cordova)||void 0===W?void 0:W.plugins)||void 0===q?void 0:q.browsertab)||void 0===me?void 0:me.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aC)("function"==typeof(null===(oe=null===(Q=G?.cordova)||void 0===Q?void 0:Q.InAppBrowser)||void 0===oe?void 0:oe.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const W=yield L._initialize(u);yield W.initialized(),W.resetRedirect(),(0,h.aI)(),yield L._originValidation(u);const q=function wt(g,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:jt(),postBody:null,tenantId:g.tenantId,error:(0,h.aB)(g,"no-auth-event")}}(u,f,I);yield function Tt(g,u){return Ze()._set(et(g),u)}(u,q);const me=yield function Se(g,u,d){return Y.apply(this,arguments)}(u,q,d),Q=yield function se(g){const{cordova:u}=le();return new Promise(d=>{u.plugins.browsertab.isAvailable(f=>{let I=null;f?u.plugins.browsertab.openUrl(g):I=u.InAppBrowser.open(g,(0,h.aA)()?"_blank":"_system","location=yes"),d(I)})})}(me);return function de(g,u,d){return Je.apply(this,arguments)}(u,W,Q)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function be(g){return K.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:f,handleOpenURL:I,BuildInfo:L}=le(),W=setTimeout((0,v.A)(function*(){yield mt(u),d.onEvent(H())}),500),q=function(){var oe=(0,v.A)(function*(G){clearTimeout(W);const fe=yield mt(u);let ze=null;fe&&G?.url&&(ze=function Ft(g,u){var d,f;const I=function xe(g){const u=De(g),d=u.link?decodeURIComponent(u.link):void 0,f=De(d).link,I=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return De(I).link||I||f||d||g}(u);if(I.includes("/__/auth/callback")){const L=De(I),W=L.firebaseError?function Et(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,q=null===(f=null===(d=W?.code)||void 0===d?void 0:d.split("auth/"))||void 0===f?void 0:f[1],me=q?(0,h.aB)(q):null;return me?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:me,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:I,postBody:null}}return null}(fe,G.url)),d.onEvent(ze||H())});return function(fe){return oe.apply(this,arguments)}}();typeof f<"u"&&"function"==typeof f.subscribe&&f.subscribe(null,q);const me=I,Q=`${L.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var oe=(0,v.A)(function*(G){if(G.toLowerCase().startsWith(Q)&&q({url:G}),"function"==typeof me)try{me(G)}catch(fe){console.error(fe)}});return function(G){return oe.apply(this,arguments)}}()}};function H(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,h.aB)("no-auth-event")}}function _e(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function pt(g=(0,s.ZQ)()){return!("file:"!==_e()&&"ionic:"!==_e()&&"capacitor:"!==_e()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ot(){try{const g=self.localStorage,u=h.aN();if(g)return g.setItem(u,"1"),g.removeItem(u),!function kn(g=(0,s.ZQ)()){return function Ie(){return(0,s.lT)()&&11===document?.documentMode}()||function Ht(g=(0,s.ZQ)()){return/Edge\/\d+/.test(g)}(g)}()||(0,s.zW)()}catch{return tt()&&(0,s.zW)()}return!1}function tt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function At(){return(function ue(){return"http:"===_e()||"https:"===_e()}()||(0,s.sr)()||pt())&&!function In(){return(0,s.lV)()||(0,s.Ll)()}()&&Ot()&&!tt()}function Kt(){return pt()&&typeof document<"u"}function nt(){return(nt=(0,v.A)(function*(){return!!Kt()&&new Promise(g=>{const u=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),g(!0)})})})).apply(this,arguments)}const ce={LOCAL:"local",NONE:"none",SESSION:"session"},Ne=h.aC,Pt="persistence";function Gt(g){return $e.apply(this,arguments)}function $e(){return($e=(0,v.A)(function*(g){yield g._initializationPromise;const u=zt(),d=h.aF(Pt,g.config.apiKey,g.name);u&&u.setItem(d,g._getPersistence())})).apply(this,arguments)}function zt(){var g;try{return(null===(g=function Mt(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const xn=h.aC;class we{constructor(){this.browserResolver=h.aE(h.k),this.cordovaResolver=h.aE(T),this.underlyingResolver=null,this._redirectPersistence=h.a,this._completeRedirectFn=h.aG,this._overrideRedirectResult=h.aH}_initialize(u){var d=this;return(0,v.A)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,f,I){var L=this;return(0,v.A)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(u,d,f,I)})()}_openRedirect(u,d,f,I){var L=this;return(0,v.A)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(u,d,f,I)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Kt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,v.A)(function*(){if(u.underlyingResolver)return;const d=yield function Zt(){return nt.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Lt(g){return g.unwrap()}function en(g){return tn(g)}function tn(g){const{_tokenResponse:u}=g instanceof s.g?g.customData:g;if(!u)return null;if(!(g instanceof s.g)&&"temporaryProof"in u&&"phoneNumber"in u)return h.P.credentialFromResult(g);const d=u.providerId;if(!d||d===h.p.PASSWORD)return null;let f;switch(d){case h.p.GOOGLE:f=h.X;break;case h.p.FACEBOOK:f=h.W;break;case h.p.GITHUB:f=h.Y;break;case h.p.TWITTER:f=h.$;break;default:const{oauthIdToken:I,oauthAccessToken:L,oauthTokenSecret:W,pendingToken:q,nonce:me}=u;return L||W||I||q?q?d.startsWith("saml.")?h.aQ._create(d,q):h.N._fromParams({providerId:d,signInMethod:d,pendingToken:q,idToken:I,accessToken:L}):new h.Z(d).credential({idToken:I,accessToken:L,rawNonce:me}):null}return g instanceof s.g?f.credentialFromError(g):f.credentialFromResult(g)}function he(g,u){return u.catch(d=>{throw d instanceof s.g&&function Rn(g,u){var d;const f=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new wn(g,h.as(g,u));else if(f){const I=tn(u),L=u;I&&(L.credential=I,L.tenantId=f.tenantId||void 0,L.email=f.email||void 0,L.phoneNumber=f.phoneNumber||void 0)}}(g,d),d}).then(d=>{const I=d.user;return{operationType:d.operationType,credential:en(d),additionalUserInfo:h.aq(d),user:Te.getOrCreate(I)}})}function gt(g,u){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,v.A)(function*(g,u){const d=yield u;return{verificationId:d.verificationId,confirm:f=>he(g,d.confirm(f))}})).apply(this,arguments)}class wn{constructor(u,d){this.resolver=d,this.auth=function Dt(g){return g.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return he(Lt(this.auth),this.resolver.resolveSignIn(u))}}class Te{constructor(u){this._delegate=u,this.multiFactor=h.at(u)}static getOrCreate(u){return Te.USER_MAP.has(u)||Te.USER_MAP.set(u,new Te(u)),Te.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,v.A)(function*(){return he(d.auth,h.a2(d._delegate,u))})()}linkWithPhoneNumber(u,d){var f=this;return(0,v.A)(function*(){return gt(f.auth,h.l(f._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,v.A)(function*(){return he(d.auth,h.d(d._delegate,u,we))})()}linkWithRedirect(u){var d=this;return(0,v.A)(function*(){return yield Gt(h.aJ(d.auth)),h.g(d._delegate,u,we)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,v.A)(function*(){return he(d.auth,h.a3(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return gt(this.auth,h.r(this._delegate,u,d))}reauthenticateWithPopup(u){return he(this.auth,h.e(this._delegate,u,we))}reauthenticateWithRedirect(u){var d=this;return(0,v.A)(function*(){return yield Gt(h.aJ(d.auth)),h.h(d._delegate,u,we)})()}sendEmailVerification(u){return h.ag(this._delegate,u)}unlink(u){var d=this;return(0,v.A)(function*(){return yield h.ap(d._delegate,u),d})()}updateEmail(u){return h.al(this._delegate,u)}updatePassword(u){return h.am(this._delegate,u)}updatePhoneNumber(u){return h.u(this._delegate,u)}updateProfile(u){return h.ak(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return h.ah(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Te.USER_MAP=new WeakMap;const ot=h.aC;let nn=(()=>{class g{constructor(d,f){if(this.app=d,f.isInitialized())return this._delegate=f.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=d.options;ot(I,"invalid-api-key",{appName:d.name}),ot(I,"invalid-api-key",{appName:d.name});const L=typeof window<"u"?we:void 0;this._delegate=f.initialize({options:{persistence:Tn(I,d.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(h.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Te.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,f){h.K(this._delegate,d,f)}applyActionCode(d){return h.a7(this._delegate,d)}checkActionCode(d){return h.a8(this._delegate,d)}confirmPasswordReset(d,f){return h.a6(this._delegate,d,f)}createUserWithEmailAndPassword(d,f){var I=this;return(0,v.A)(function*(){return he(I._delegate,h.aa(I._delegate,d,f))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return h.af(this._delegate,d)}isSignInWithEmailLink(d){return h.ad(this._delegate,d)}getRedirectResult(){var d=this;return(0,v.A)(function*(){ot(At(),d._delegate,"operation-not-supported-in-this-environment");const f=yield h.j(d._delegate,we);return f?he(d._delegate,Promise.resolve(f)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function V(g,u){(0,h.aJ)(g)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,f,I){const{next:L,error:W,complete:q}=on(d,f,I);return this._delegate.onAuthStateChanged(L,W,q)}onIdTokenChanged(d,f,I){const{next:L,error:W,complete:q}=on(d,f,I);return this._delegate.onIdTokenChanged(L,W,q)}sendSignInLinkToEmail(d,f){return h.ac(this._delegate,d,f)}sendPasswordResetEmail(d,f){return h.a5(this._delegate,d,f||void 0)}setPersistence(d){var f=this;return(0,v.A)(function*(){let I;switch(function Sn(g,u){Ne(Object.values(ce).includes(u),g,"invalid-persistence-type"),(0,s.lV)()?Ne(u!==ce.SESSION,g,"unsupported-persistence-type"):(0,s.Ll)()?Ne(u===ce.NONE,g,"unsupported-persistence-type"):tt()?Ne(u===ce.NONE||u===ce.LOCAL&&(0,s.zW)(),g,"unsupported-persistence-type"):Ne(u===ce.NONE||Ot(),g,"unsupported-persistence-type")}(f._delegate,d),d){case ce.SESSION:I=h.a;break;case ce.LOCAL:I=(yield h.aE(h.i)._isAvailable())?h.i:h.b;break;case ce.NONE:I=h.U;break;default:return h.ax("argument-error",{appName:f._delegate.name})}return f._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return he(this._delegate,h.a0(this._delegate))}signInWithCredential(d){return he(this._delegate,h.a1(this._delegate,d))}signInWithCustomToken(d){return he(this._delegate,h.a4(this._delegate,d))}signInWithEmailAndPassword(d,f){return he(this._delegate,h.ab(this._delegate,d,f))}signInWithEmailLink(d,f){return he(this._delegate,h.ae(this._delegate,d,f))}signInWithPhoneNumber(d,f){return gt(this._delegate,h.s(this._delegate,d,f))}signInWithPopup(d){var f=this;return(0,v.A)(function*(){return ot(At(),f._delegate,"operation-not-supported-in-this-environment"),he(f._delegate,h.c(f._delegate,d,we))})()}signInWithRedirect(d){var f=this;return(0,v.A)(function*(){return ot(At(),f._delegate,"operation-not-supported-in-this-environment"),yield Gt(f._delegate),h.f(f._delegate,d,we)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return h.a9(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ce,g})();function on(g,u,d){let f=g;"function"!=typeof g&&({next:f,error:u,complete:d}=g);const I=f;return{next:W=>I(W&&Te.getOrCreate(W)),error:u,complete:d}}function Tn(g,u){const d=function $t(g,u){const d=zt();if(!d)return[];const f=h.aF(Pt,g,u);switch(d.getItem(f)){case ce.NONE:return[h.U];case ce.LOCAL:return[h.i,h.a];case ce.SESSION:return[h.a];default:return[]}}(g,u);if(typeof self<"u"&&!d.includes(h.i)&&d.push(h.i),typeof window<"u")for(const f of[h.b,h.a])d.includes(f)||d.push(f);return d.includes(h.U)||d.push(h.U),d}class Bt{constructor(){this.providerId="phone",this._delegate=new h.P(Lt(D.auth()))}static credential(u,d){return h.P.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=h.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=h.P.PROVIDER_ID;const Fn=h.aC;class jn{constructor(u,d,f=D.app()){var I;Fn(null===(I=f.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:f.name}),this._delegate=new h.R(f.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qn(g){g.INTERNAL.registerComponent(new m.uA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),f=u.getProvider("auth");return new nn(d,f)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:h.A.EMAIL_SIGNIN,PASSWORD_RESET:h.A.PASSWORD_RESET,RECOVER_EMAIL:h.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:h.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:h.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:h.A.VERIFY_EMAIL}},EmailAuthProvider:h.V,FacebookAuthProvider:h.W,GithubAuthProvider:h.Y,GoogleAuthProvider:h.X,OAuthProvider:h.Z,SAMLAuthProvider:h._,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:h.m,RecaptchaVerifier:jn,TwitterAuthProvider:h.$,Auth:nn,AuthCredential:h.L,Error:s.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.5.14")}(D)}}]);