"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[163],{26304:(kt,at,g)=>{g.d(at,{Dh:()=>st,GT:()=>z,cc:()=>A,hO:()=>y,on:()=>q,pX:()=>N,xv:()=>G});var w=g(65879),R=g(17142),o=g(1966);kt=g.hmd(kt);const p=["ngOnDestroy"],N=(C,tt,J,it={})=>new Proxy(C,{get:(ut,Y)=>J.runOutsideAngular(()=>{var et;if(C[Y])return!(null===(et=it?.spy)||void 0===et)&&et.get&&it.spy.get(Y,C[Y]),C[Y];if(p.indexOf(Y)>-1)return()=>{};const k=tt.toPromise().then($=>{const K=$&&$[Y];return"function"==typeof K?K.bind($):K&&K.then?K.then(ht=>J.run(()=>ht)):J.run(()=>K)});return new Proxy(()=>{},{get:($,K)=>k[K],apply:($,K,ht)=>k.then(dt=>{var It;const B=dt&&dt(...ht);return!(null===(It=it?.spy)||void 0===It)&&It.apply&&it.spy.apply(Y,ht,B),B})})})}),z=(C,tt)=>{tt.forEach(J=>{Object.getOwnPropertyNames(J.prototype||J).forEach(it=>{Object.defineProperty(C.prototype,it,Object.getOwnPropertyDescriptor(J.prototype||J,it))})})};class t{constructor(tt){return tt}}const st=new w.OlP("angularfire2.app.options"),G=new w.OlP("angularfire2.app.name");function q(C,tt,J){const ut="object"==typeof J&&J||{};ut.name=ut.name||"string"==typeof J&&J||"[DEFAULT]";const et=R.Z.apps.filter(k=>k&&k.name===ut.name)[0]||tt.runOutsideAngular(()=>R.Z.initializeApp(C,ut));try{JSON.stringify(C)!==JSON.stringify(et.options)&&M("error",`${et.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new t(et)}const M=(C,...tt)=>{(0,w.X6Q)()&&typeof console<"u"&&console[C](...tt)},H={provide:t,useFactory:q,deps:[st,w.R0b,[new w.FiY,G]]};let y=(()=>{class C{constructor(J){R.Z.registerVersion("angularfire",o.q4.full,"core"),R.Z.registerVersion("angularfire",o.q4.full,"app-compat"),R.Z.registerVersion("angular",w.q4F.full,J.toString())}static initializeApp(J,it){return{ngModule:C,providers:[{provide:st,useValue:J},{provide:G,useValue:it}]}}}return C.\u0275fac=function(J){return new(J||C)(w.LFG(w.Lbi))},C.\u0275mod=w.oAB({type:C}),C.\u0275inj=w.cJS({providers:[H]}),C})();function A(C,tt,J,it,ut){const[,Y,et]=globalThis.\u0275AngularfireInstanceCache.find(k=>k[0]===C)||[];if(Y)return function S(C,tt){try{return C.toString()===tt.toString()}catch{return C===tt}}(ut,et)||(E("error",`${tt} was already initialized on the ${J} Firebase App with different settings.${I?" You may need to reload as Firebase is not HMR aware.":""}`),E("warn",{is:ut,was:et})),Y;{const k=it();return globalThis.\u0275AngularfireInstanceCache.push([C,k,ut]),k}}const I=!!kt.hot,E=(C,...tt)=>{(0,w.X6Q)()&&typeof console<"u"&&console[C](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1966:(kt,at,g)=>{g.d(at,{q4:()=>vo,iC:()=>Io,HU:()=>Sr,vb:()=>Zo,JM:()=>ko});var w=g(65879),R=g(33182),o=g(15861),p=g(36122),N=g(59058),z=g(84537),t=g(87879);const st=(r,s)=>s.some(l=>r instanceof l);let G,q;const y=new WeakMap,A=new WeakMap,S=new WeakMap,I=new WeakMap,E=new WeakMap;let J={get(r,s,l){if(r instanceof IDBTransaction){if("done"===s)return A.get(r);if("objectStoreNames"===s)return r.objectStoreNames||S.get(r);if("store"===s)return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return et(r[s])},set:(r,s,l)=>(r[s]=l,!0),has:(r,s)=>r instanceof IDBTransaction&&("done"===s||"store"===s)||s in r};function Y(r){return"function"==typeof r?function ut(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function H(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(r)?function(...s){return r.apply(k(this),s),et(y.get(this))}:function(...s){return et(r.apply(k(this),s))}:function(s,...l){const d=r.call(k(this),s,...l);return S.set(d,s.sort?s.sort():[s]),et(d)}}(r):(r instanceof IDBTransaction&&function tt(r){if(A.has(r))return;const s=new Promise((l,d)=>{const h=()=>{r.removeEventListener("complete",m),r.removeEventListener("error",v),r.removeEventListener("abort",v)},m=()=>{l(),h()},v=()=>{d(r.error||new DOMException("AbortError","AbortError")),h()};r.addEventListener("complete",m),r.addEventListener("error",v),r.addEventListener("abort",v)});A.set(r,s)}(r),st(r,function M(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(r,J):r)}function et(r){if(r instanceof IDBRequest)return function C(r){const s=new Promise((l,d)=>{const h=()=>{r.removeEventListener("success",m),r.removeEventListener("error",v)},m=()=>{l(et(r.result)),h()},v=()=>{d(r.error),h()};r.addEventListener("success",m),r.addEventListener("error",v)});return s.then(l=>{l instanceof IDBCursor&&y.set(l,r)}).catch(()=>{}),E.set(s,r),s}(r);if(I.has(r))return I.get(r);const s=Y(r);return s!==r&&(I.set(r,s),E.set(s,r)),s}const k=r=>E.get(r);function $(r,s,{blocked:l,upgrade:d,blocking:h,terminated:m}={}){const v=indexedDB.open(r,s),Z=et(v);return d&&v.addEventListener("upgradeneeded",T=>{d(et(v.result),T.oldVersion,T.newVersion,et(v.transaction))}),l&&v.addEventListener("blocked",()=>l()),Z.then(T=>{m&&T.addEventListener("close",()=>m()),h&&T.addEventListener("versionchange",()=>h())}).catch(()=>{}),Z}function K(r,{blocked:s}={}){const l=indexedDB.deleteDatabase(r);return s&&l.addEventListener("blocked",()=>s()),et(l).then(()=>{})}const ht=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],It=new Map;function B(r,s){if(!(r instanceof IDBDatabase)||s in r||"string"!=typeof s)return;if(It.get(s))return It.get(s);const l=s.replace(/FromIndex$/,""),d=s!==l,h=dt.includes(l);if(!(l in(d?IDBIndex:IDBObjectStore).prototype)||!h&&!ht.includes(l))return;const m=function(){var v=(0,o.Z)(function*(Z,...T){const P=this.transaction(Z,h?"readwrite":"readonly");let D=P.store;return d&&(D=D.index(T.shift())),(yield Promise.all([D[l](...T),h&&P.done]))[0]});return function(T){return v.apply(this,arguments)}}();return It.set(s,m),m}!function it(r){J=r(J)}(r=>({...r,get:(s,l,d)=>B(s,l)||r.get(s,l,d),has:(s,l)=>!!B(s,l)||r.has(s,l)}));const ft="@firebase/installations",nt="0.6.4",_t=1e4,rt=`w:${nt}`,jt="FIS_v2",Ke="https://firebaseinstallations.googleapis.com/v1",pe=36e5,O=new N.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Q(r){return r instanceof N.ZR&&r.code.includes("request-failed")}function U({projectId:r}){return`${Ke}/projects/${r}/installations`}function V(r){return{token:r.token,requestStatus:2,expiresIn:me(r.expiresIn),creationTime:Date.now()}}function b(r,s){return gt.apply(this,arguments)}function gt(){return(gt=(0,o.Z)(function*(r,s){const d=(yield s.json()).error;return O.create("request-failed",{requestName:r,serverCode:d.code,serverMessage:d.message,serverStatus:d.status})})).apply(this,arguments)}function wt({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function se(r){return ce.apply(this,arguments)}function ce(){return(ce=(0,o.Z)(function*(r){const s=yield r();return s.status>=500&&s.status<600?r():s})).apply(this,arguments)}function me(r){return Number(r.replace("s","000"))}function We(){return(We=(0,o.Z)(function*({appConfig:r,heartbeatServiceProvider:s},{fid:l}){const d=U(r),h=wt(r),m=s.getImmediate({optional:!0});if(m){const P=yield m.getHeartbeatsHeader();P&&h.append("x-firebase-client",P)}const Z={method:"POST",headers:h,body:JSON.stringify({fid:l,authVersion:jt,appId:r.appId,sdkVersion:rt})},T=yield se(()=>fetch(d,Z));if(T.ok){const P=yield T.json();return{fid:P.fid||l,registrationStatus:2,refreshToken:P.refreshToken,authToken:V(P.authToken)}}throw yield b("Create Installation",T)})).apply(this,arguments)}function Lo(r){return new Promise(s=>{setTimeout(s,r)})}const Zi=/^[cdef][\w-]{21}$/,He="";function fe(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const l=function Si(r){return function ki(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}(r).substr(0,22)}(r);return Zi.test(l)?l:He}catch{return He}}function Vt(r){return`${r.appName}!${r.appId}`}const Et=new Map;function Eo(r,s){const l=Vt(r);Po(l,s),function Oi(r,s){const l=function Mo(){return!$t&&"BroadcastChannel"in self&&($t=new BroadcastChannel("[Firebase] FID Change"),$t.onmessage=r=>{Po(r.data.key,r.data.fid)}),$t}();l&&l.postMessage({key:r,fid:s}),function qo(){0===Et.size&&$t&&($t.close(),$t=null)}()}(l,s)}function Po(r,s){const l=Et.get(r);if(l)for(const d of l)d(s)}let $t=null;const Li="firebase-installations-database",Ei=1,Xt="firebase-installations-store";let $e=null;function Xe(){return $e||($e=$(Li,Ei,{upgrade:(r,s)=>{0===s&&r.createObjectStore(Xt)}})),$e}function Se(r,s){return tn.apply(this,arguments)}function tn(){return(tn=(0,o.Z)(function*(r,s){const l=Vt(r),h=(yield Xe()).transaction(Xt,"readwrite"),m=h.objectStore(Xt),v=yield m.get(l);return yield m.put(s,l),yield h.done,(!v||v.fid!==s.fid)&&Eo(r,s.fid),s})).apply(this,arguments)}function en(r){return nn.apply(this,arguments)}function nn(){return(nn=(0,o.Z)(function*(r){const s=Vt(r),d=(yield Xe()).transaction(Xt,"readwrite");yield d.objectStore(Xt).delete(s),yield d.done})).apply(this,arguments)}function ve(r,s){return on.apply(this,arguments)}function on(){return(on=(0,o.Z)(function*(r,s){const l=Vt(r),h=(yield Xe()).transaction(Xt,"readwrite"),m=h.objectStore(Xt),v=yield m.get(l),Z=s(v);return void 0===Z?yield m.delete(l):yield m.put(Z,l),yield h.done,Z&&(!v||v.fid!==Z.fid)&&Eo(r,Z.fid),Z})).apply(this,arguments)}function an(r){return rn.apply(this,arguments)}function rn(){return rn=(0,o.Z)(function*(r){let s;const l=yield ve(r.appConfig,d=>{const h=function Pi(r){return No(r||{fid:fe(),registrationStatus:0})}(d),m=function Mi(r,s){if(0===s.registrationStatus){if(!navigator.onLine)return{installationEntry:s,registrationPromise:Promise.reject(O.create("app-offline"))};const l={fid:s.fid,registrationStatus:1,registrationTime:Date.now()},d=function qi(r,s){return sn.apply(this,arguments)}(r,l);return{installationEntry:l,registrationPromise:d}}return 1===s.registrationStatus?{installationEntry:s,registrationPromise:Ui(r)}:{installationEntry:s}}(r,h);return s=m.registrationPromise,m.installationEntry});return l.fid===He?{installationEntry:yield s}:{installationEntry:l,registrationPromise:s}}),rn.apply(this,arguments)}function sn(){return sn=(0,o.Z)(function*(r,s){try{const l=yield function Ti(r,s){return We.apply(this,arguments)}(r,s);return Se(r.appConfig,l)}catch(l){throw Q(l)&&409===l.customData.serverCode?yield en(r.appConfig):yield Se(r.appConfig,{fid:s.fid,registrationStatus:0}),l}}),sn.apply(this,arguments)}function Ui(r){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.Z)(function*(r){let s=yield Uo(r.appConfig);for(;1===s.registrationStatus;)yield Lo(100),s=yield Uo(r.appConfig);if(0===s.registrationStatus){const{installationEntry:l,registrationPromise:d}=yield an(r);return d||l}return s})).apply(this,arguments)}function Uo(r){return ve(r,s=>{if(!s)throw O.create("installation-not-found");return No(s)})}function No(r){return function Ni(r){return 1===r.registrationStatus&&r.registrationTime+_t<Date.now()}(r)?{fid:r.fid,registrationStatus:0}:r}function ln(){return(ln=(0,o.Z)(function*({appConfig:r,heartbeatServiceProvider:s},l){const d=function Qi(r,{fid:s}){return`${U(r)}/${s}/authTokens:generate`}(r,l),h=function At(r,{refreshToken:s}){const l=wt(r);return l.append("Authorization",function Oo(r){return`${jt} ${r}`}(s)),l}(r,l),m=s.getImmediate({optional:!0});if(m){const P=yield m.getHeartbeatsHeader();P&&h.append("x-firebase-client",P)}const Z={method:"POST",headers:h,body:JSON.stringify({installation:{sdkVersion:rt,appId:r.appId}})},T=yield se(()=>fetch(d,Z));if(T.ok)return V(yield T.json());throw yield b("Generate Auth Token",T)})).apply(this,arguments)}function un(r){return dn.apply(this,arguments)}function dn(){return dn=(0,o.Z)(function*(r,s=!1){let l;const d=yield ve(r.appConfig,m=>{if(!Qo(m))throw O.create("not-registered");const v=m.authToken;if(!s&&function Ri(r){return 2===r.requestStatus&&!function Fi(r){const s=Date.now();return s<r.creationTime||r.creationTime+r.expiresIn<s+pe}(r)}(v))return m;if(1===v.requestStatus)return l=function Ot(r,s){return _n.apply(this,arguments)}(r,s),m;{if(!navigator.onLine)throw O.create("app-offline");const Z=function zi(r){const s={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:s})}(m);return l=function Di(r,s){return gn.apply(this,arguments)}(r,Z),Z}});return l?yield l:d.authToken}),dn.apply(this,arguments)}function _n(){return(_n=(0,o.Z)(function*(r,s){let l=yield jo(r.appConfig);for(;1===l.authToken.requestStatus;)yield Lo(100),l=yield jo(r.appConfig);const d=l.authToken;return 0===d.requestStatus?un(r,s):d})).apply(this,arguments)}function jo(r){return ve(r,s=>{if(!Qo(s))throw O.create("not-registered");return function Ji(r){return 1===r.requestStatus&&r.requestTime+_t<Date.now()}(s.authToken)?Object.assign(Object.assign({},s),{authToken:{requestStatus:0}}):s})}function gn(){return gn=(0,o.Z)(function*(r,s){try{const l=yield function ji(r,s){return ln.apply(this,arguments)}(r,s),d=Object.assign(Object.assign({},s),{authToken:l});return yield Se(r.appConfig,d),l}catch(l){if(!Q(l)||401!==l.customData.serverCode&&404!==l.customData.serverCode){const d=Object.assign(Object.assign({},s),{authToken:{requestStatus:0}});yield Se(r.appConfig,d)}else yield en(r.appConfig);throw l}}),gn.apply(this,arguments)}function Qo(r){return void 0!==r&&2===r.registrationStatus}function pn(){return(pn=(0,o.Z)(function*(r){const s=r,{installationEntry:l,registrationPromise:d}=yield an(s);return d?d.catch(console.error):un(s).catch(console.error),l.fid})).apply(this,arguments)}function xe(){return xe=(0,o.Z)(function*(r,s=!1){const l=r;return yield function hn(r){return Yt.apply(this,arguments)}(l),(yield un(l,s)).token}),xe.apply(this,arguments)}function Yt(){return(Yt=(0,o.Z)(function*(r){const{registrationPromise:s}=yield an(r);s&&(yield s)})).apply(this,arguments)}function fn(r){return O.create("missing-app-config-values",{valueName:r})}const Ro="installations",Fo=r=>{const s=r.getProvider("app").getImmediate(),l=function Do(r){if(!r||!r.options)throw fn("App Configuration");if(!r.name)throw fn("App Name");const s=["projectId","apiKey","appId"];for(const l of s)if(!r.options[l])throw fn(l);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}(s);return{app:s,appConfig:l,heartbeatServiceProvider:(0,p._getProvider)(s,"heartbeat"),_delete:()=>Promise.resolve()}},Ki=r=>{const s=r.getProvider("app").getImmediate(),l=(0,p._getProvider)(s,Ro).getImmediate();return{getId:()=>function Bi(r){return pn.apply(this,arguments)}(l),getToken:h=>function Vi(r){return xe.apply(this,arguments)}(l,h)}};(function Wi(){(0,p._registerComponent)(new z.wA(Ro,Fo,"PUBLIC")),(0,p._registerComponent)(new z.wA("installations-internal",Ki,"PRIVATE"))})(),(0,p.registerVersion)(ft,nt),(0,p.registerVersion)(ft,nt,"esm2017");const vn="@firebase/remote-config",St=new N.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aa{constructor(s,l,d,h){this.client=s,this.storage=l,this.storageCache=d,this.logger=h}isCachedDataFresh(s,l){if(!l)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const d=Date.now()-l,h=d<=s;return this.logger.debug(`Config fetch cache check. Cache age millis: ${d}. Cache max age millis (minimumFetchIntervalMillis setting): ${s}. Is cache hit: ${h}.`),h}fetch(s){var l=this;return(0,o.Z)(function*(){const[d,h]=yield Promise.all([l.storage.getLastSuccessfulFetchTimestampMillis(),l.storage.getLastSuccessfulFetchResponse()]);if(h&&l.isCachedDataFresh(s.cacheMaxAgeMillis,d))return h;s.eTag=h&&h.eTag;const m=yield l.client.fetch(s),v=[l.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===m.status&&v.push(l.storage.setLastSuccessfulFetchResponse(m)),yield Promise.all(v),m})()}}function ra(r=navigator){return r.languages&&r.languages[0]||r.language}class sa{constructor(s,l,d,h,m,v){this.firebaseInstallations=s,this.sdkVersion=l,this.namespace=d,this.projectId=h,this.apiKey=m,this.appId=v}fetch(s){var l=this;return(0,o.Z)(function*(){const[d,h]=yield Promise.all([l.firebaseInstallations.getId(),l.firebaseInstallations.getToken()]),v=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${l.projectId}/namespaces/${l.namespace}:fetch?key=${l.apiKey}`,Z={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":s.eTag||"*"},T={sdk_version:l.sdkVersion,app_instance_id:d,app_instance_id_token:h,app_id:l.appId,language_code:ra()},P={method:"POST",headers:Z,body:JSON.stringify(T)},D=fetch(v,P),j=new Promise((qt,Wt)=>{s.signal.addEventListener(()=>{const bi=new Error("The operation was aborted.");bi.name="AbortError",Wt(bi)})});let Lt;try{yield Promise.race([D,j]),Lt=yield D}catch(qt){let Wt="fetch-client-network";throw"AbortError"===qt?.name&&(Wt="fetch-timeout"),St.create(Wt,{originalErrorMessage:qt?.message})}let pt=Lt.status;const _e=Lt.headers.get("ETag")||void 0;let ke,re;if(200===Lt.status){let qt;try{qt=yield Lt.json()}catch(Wt){throw St.create("fetch-client-parse",{originalErrorMessage:Wt?.message})}ke=qt.entries,re=qt.state}if("INSTANCE_STATE_UNSPECIFIED"===re?pt=500:"NO_CHANGE"===re?pt=304:("NO_TEMPLATE"===re||"EMPTY_CONFIG"===re)&&(ke={}),304!==pt&&200!==pt)throw St.create("fetch-status",{httpStatus:pt});return{status:pt,eTag:_e,config:ke}})()}}class ua{constructor(s,l){this.client=s,this.storage=l}fetch(s){var l=this;return(0,o.Z)(function*(){const d=(yield l.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return l.attemptFetch(s,d)})()}attemptFetch(s,{throttleEndTimeMillis:l,backoffCount:d}){var h=this;return(0,o.Z)(function*(){yield function ca(r,s){return new Promise((l,d)=>{const h=Math.max(s-Date.now(),0),m=setTimeout(l,h);r.addEventListener(()=>{clearTimeout(m),d(St.create("fetch-throttle",{throttleEndTimeMillis:s}))})})}(s.signal,l);try{const m=yield h.client.fetch(s);return yield h.storage.deleteThrottleMetadata(),m}catch(m){if(!function la(r){if(!(r instanceof N.ZR&&r.customData))return!1;const s=Number(r.customData.httpStatus);return 429===s||500===s||503===s||504===s}(m))throw m;const v={throttleEndTimeMillis:Date.now()+(0,N.$s)(d),backoffCount:d+1};return yield h.storage.setThrottleMetadata(v),h.attemptFetch(s,v)}})()}}class _a{constructor(s,l,d,h,m){this.app=s,this._client=l,this._storageCache=d,this._storage=h,this._logger=m,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pe(r,s){const l=r.target.error||void 0;return St.create(s,{originalErrorMessage:l&&l?.message})}const ee="app_namespace_store";class ma{constructor(s,l,d,h=function ha(){return new Promise((r,s)=>{try{const l=indexedDB.open("firebase_remote_config",1);l.onerror=d=>{s(Pe(d,"storage-open"))},l.onsuccess=d=>{r(d.target.result)},l.onupgradeneeded=d=>{0===d.oldVersion&&d.target.result.createObjectStore(ee,{keyPath:"compositeKey"})}}catch(l){s(St.create("storage-open",{originalErrorMessage:l?.message}))}})}()){this.appId=s,this.appName=l,this.namespace=d,this.openDbPromise=h}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(s){return this.set("last_fetch_status",s)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(s){return this.set("last_successful_fetch_timestamp_millis",s)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(s){return this.set("last_successful_fetch_response",s)}getActiveConfig(){return this.get("active_config")}setActiveConfig(s){return this.set("active_config",s)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(s){return this.set("active_config_etag",s)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(s){return this.set("throttle_metadata",s)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(s){var l=this;return(0,o.Z)(function*(){const d=yield l.openDbPromise;return new Promise((h,m)=>{const Z=d.transaction([ee],"readonly").objectStore(ee),T=l.createCompositeKey(s);try{const P=Z.get(T);P.onerror=D=>{m(Pe(D,"storage-get"))},P.onsuccess=D=>{const j=D.target.result;h(j?j.value:void 0)}}catch(P){m(St.create("storage-get",{originalErrorMessage:P?.message}))}})})()}set(s,l){var d=this;return(0,o.Z)(function*(){const h=yield d.openDbPromise;return new Promise((m,v)=>{const T=h.transaction([ee],"readwrite").objectStore(ee),P=d.createCompositeKey(s);try{const D=T.put({compositeKey:P,value:l});D.onerror=j=>{v(Pe(j,"storage-set"))},D.onsuccess=()=>{m()}}catch(D){v(St.create("storage-set",{originalErrorMessage:D?.message}))}})})()}delete(s){var l=this;return(0,o.Z)(function*(){const d=yield l.openDbPromise;return new Promise((h,m)=>{const Z=d.transaction([ee],"readwrite").objectStore(ee),T=l.createCompositeKey(s);try{const P=Z.delete(T);P.onerror=D=>{m(Pe(D,"storage-delete"))},P.onsuccess=()=>{h()}}catch(P){m(St.create("storage-delete",{originalErrorMessage:P?.message}))}})})()}createCompositeKey(s){return[this.appId,this.appName,this.namespace,s].join()}}class fa{constructor(s){this.storage=s}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var s=this;return(0,o.Z)(function*(){const l=s.storage.getLastFetchStatus(),d=s.storage.getLastSuccessfulFetchTimestampMillis(),h=s.storage.getActiveConfig(),m=yield l;m&&(s.lastFetchStatus=m);const v=yield d;v&&(s.lastSuccessfulFetchTimestampMillis=v);const Z=yield h;Z&&(s.activeConfig=Z)})()}setLastFetchStatus(s){return this.lastFetchStatus=s,this.storage.setLastFetchStatus(s)}setLastSuccessfulFetchTimestampMillis(s){return this.lastSuccessfulFetchTimestampMillis=s,this.storage.setLastSuccessfulFetchTimestampMillis(s)}setActiveConfig(s){return this.activeConfig=s,this.storage.setActiveConfig(s)}}function xa(){return wn.apply(this,arguments)}function wn(){return(wn=(0,o.Z)(function*(){if(!(0,N.hl)())return!1;try{return yield(0,N.eu)()}catch{return!1}})).apply(this,arguments)}!function va(){(0,p._registerComponent)(new z.wA("remote-config",function r(s,{instanceIdentifier:l}){const d=s.getProvider("app").getImmediate(),h=s.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw St.create("registration-window");if(!(0,N.hl)())throw St.create("indexed-db-unavailable");const{projectId:m,apiKey:v,appId:Z}=d.options;if(!m)throw St.create("registration-project-id");if(!v)throw St.create("registration-api-key");if(!Z)throw St.create("registration-app-id");const T=new ma(Z,d.name,l=l||"firebase"),P=new fa(T),D=new t.Yd(vn);D.logLevel=t.in.ERROR;const j=new sa(h,p.SDK_VERSION,l,m,v,Z),Lt=new ua(j,T),pt=new aa(Lt,T,P,D),_e=new _a(d,pt,P,T,D);return function Vo(r){const s=(0,N.m9)(r);s._initializePromise||(s._initializePromise=s._storageCache.loadFromStorage().then(()=>{s._isInitializationComplete=!0}))}(_e),_e},"PUBLIC").setMultipleInstances(!0)),(0,p.registerVersion)(vn,"0.4.4"),(0,p.registerVersion)(vn,"0.4.4","esm2017")}();const ya="/firebase-messaging-sw.js",ba="/firebase-cloud-messaging-push-scope",Yo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wa="https://fcmregistrations.googleapis.com/v1",Go="google.c.a.c_id",Aa="google.c.a.c_l",Ca="google.c.a.ts";var Me=function(r){return r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked",r}(Me||{});function Dt(r){const s=new Uint8Array(r);return btoa(String.fromCharCode(...s)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ka(r){const l=(r+"=".repeat((4-r.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),d=atob(l),h=new Uint8Array(d.length);for(let m=0;m<d.length;++m)h[m]=d.charCodeAt(m);return h}const An="fcm_token_details_db",Za=5,Ko="fcm_token_object_Store";function Cn(){return Cn=(0,o.Z)(function*(r){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(m=>m.name).includes(An))return null;let s=null;return(yield $(An,Za,{upgrade:(d=(0,o.Z)(function*(h,m,v,Z){var T;if(m<2||!h.objectStoreNames.contains(Ko))return;const P=Z.objectStore(Ko),D=yield P.index("fcmSenderId").get(r);if(yield P.clear(),D)if(2===m){const j=D;if(!j.auth||!j.p256dh||!j.endpoint)return;s={token:j.fcmToken,createTime:null!==(T=j.createTime)&&void 0!==T?T:Date.now(),subscriptionOptions:{auth:j.auth,p256dh:j.p256dh,endpoint:j.endpoint,swScope:j.swScope,vapidKey:"string"==typeof j.vapidKey?j.vapidKey:Dt(j.vapidKey)}}}else if(3===m){const j=D;s={token:j.fcmToken,createTime:j.createTime,subscriptionOptions:{auth:Dt(j.auth),p256dh:Dt(j.p256dh),endpoint:j.endpoint,swScope:j.swScope,vapidKey:Dt(j.vapidKey)}}}else if(4===m){const j=D;s={token:j.fcmToken,createTime:j.createTime,subscriptionOptions:{auth:Dt(j.auth),p256dh:Dt(j.p256dh),endpoint:j.endpoint,swScope:j.swScope,vapidKey:Dt(j.vapidKey)}}}}),function(m,v,Z,T){return d.apply(this,arguments)})})).close(),yield K(An),yield K("fcm_vapid_details_db"),yield K("undefined"),function Ia(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:s}=r;return"number"==typeof r.createTime&&r.createTime>0&&"string"==typeof r.token&&r.token.length>0&&"string"==typeof s.auth&&s.auth.length>0&&"string"==typeof s.p256dh&&s.p256dh.length>0&&"string"==typeof s.endpoint&&s.endpoint.length>0&&"string"==typeof s.swScope&&s.swScope.length>0&&"string"==typeof s.vapidKey&&s.vapidKey.length>0}(s)?s:null;var d}),Cn.apply(this,arguments)}const Oa="firebase-messaging-database",La=1,ne="firebase-messaging-store";let Tn=null;function kn(){return Tn||(Tn=$(Oa,La,{upgrade:(r,s)=>{0===s&&r.createObjectStore(ne)}})),Tn}function Wo(r){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,o.Z)(function*(r){const s=On(r),d=yield(yield kn()).transaction(ne).objectStore(ne).get(s);if(d)return d;{const h=yield function Sa(r){return Cn.apply(this,arguments)}(r.appConfig.senderId);if(h)return yield Sn(r,h),h}}),Zn.apply(this,arguments)}function Sn(r,s){return In.apply(this,arguments)}function In(){return(In=(0,o.Z)(function*(r,s){const l=On(r),h=(yield kn()).transaction(ne,"readwrite");return yield h.objectStore(ne).put(s,l),yield h.done,s})).apply(this,arguments)}function le(){return(le=(0,o.Z)(function*(r){const s=On(r),d=(yield kn()).transaction(ne,"readwrite");yield d.objectStore(ne).delete(s),yield d.done})).apply(this,arguments)}function On({appConfig:r}){return r.appId}const vt=new N.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ma(r,s){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,o.Z)(function*(r,s){const l=yield Pt(r),d=$o(s),h={method:"POST",headers:l,body:JSON.stringify(d)};let m;try{m=yield(yield fetch(Mn(r.appConfig),h)).json()}catch(v){throw vt.create("token-subscribe-failed",{errorInfo:v?.toString()})}if(m.error)throw vt.create("token-subscribe-failed",{errorInfo:m.error.message});if(!m.token)throw vt.create("token-subscribe-no-token");return m.token})).apply(this,arguments)}function En(){return(En=(0,o.Z)(function*(r,s){const l=yield Pt(r),d=$o(s.subscriptionOptions),h={method:"PATCH",headers:l,body:JSON.stringify(d)};let m;try{m=yield(yield fetch(`${Mn(r.appConfig)}/${s.token}`,h)).json()}catch(v){throw vt.create("token-update-failed",{errorInfo:v?.toString()})}if(m.error)throw vt.create("token-update-failed",{errorInfo:m.error.message});if(!m.token)throw vt.create("token-update-no-token");return m.token})).apply(this,arguments)}function Ho(r,s){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(r,s){const d={method:"DELETE",headers:yield Pt(r)};try{const m=yield(yield fetch(`${Mn(r.appConfig)}/${s}`,d)).json();if(m.error)throw vt.create("token-unsubscribe-failed",{errorInfo:m.error.message})}catch(h){throw vt.create("token-unsubscribe-failed",{errorInfo:h?.toString()})}})).apply(this,arguments)}function Mn({projectId:r}){return`${wa}/projects/${r}/registrations`}function Pt(r){return qn.apply(this,arguments)}function qn(){return(qn=(0,o.Z)(function*({appConfig:r,installations:s}){const l=yield s.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${l}`})})).apply(this,arguments)}function $o({p256dh:r,auth:s,endpoint:l,vapidKey:d}){const h={web:{endpoint:l,auth:s,p256dh:r}};return d!==Yo&&(h.web.applicationPubKey=d),h}const Ua=6048e5;function Un(){return Un=(0,o.Z)(function*(r){const s=yield function Qa(r,s){return Dn.apply(this,arguments)}(r.swRegistration,r.vapidKey),l={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:s.endpoint,auth:Dt(s.getKey("auth")),p256dh:Dt(s.getKey("p256dh"))},d=yield Wo(r.firebaseDependencies);if(d){if(function Da(r,s){return s.vapidKey===r.vapidKey&&s.endpoint===r.endpoint&&s.auth===r.auth&&s.p256dh===r.p256dh}(d.subscriptionOptions,l))return Date.now()>=d.createTime+Ua?function ja(r,s){return jn.apply(this,arguments)}(r,{token:d.token,createTime:Date.now(),subscriptionOptions:l}):d.token;try{yield Ho(r.firebaseDependencies,d.token)}catch(h){console.warn(h)}return ti(r.firebaseDependencies,l)}return ti(r.firebaseDependencies,l)}),Un.apply(this,arguments)}function Nn(){return Nn=(0,o.Z)(function*(r){const s=yield Wo(r.firebaseDependencies);s&&(yield Ho(r.firebaseDependencies,s.token),yield function Ea(r){return le.apply(this,arguments)}(r.firebaseDependencies));const l=yield r.swRegistration.pushManager.getSubscription();return!l||l.unsubscribe()}),Nn.apply(this,arguments)}function jn(){return jn=(0,o.Z)(function*(r,s){try{const l=yield function qa(r,s){return En.apply(this,arguments)}(r.firebaseDependencies,s),d=Object.assign(Object.assign({},s),{token:l,createTime:Date.now()});return yield Sn(r.firebaseDependencies,d),l}catch(l){throw yield function Xo(r){return Nn.apply(this,arguments)}(r),l}}),jn.apply(this,arguments)}function ti(r,s){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,o.Z)(function*(r,s){const d={token:yield Ma(r,s),createTime:Date.now(),subscriptionOptions:s};return yield Sn(r,d),d.token})).apply(this,arguments)}function Dn(){return(Dn=(0,o.Z)(function*(r,s){return(yield r.pushManager.getSubscription())||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ka(s)})})).apply(this,arguments)}function ei(r){const s={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return function Ra(r,s){if(!s.notification)return;r.notification={};const l=s.notification.title;l&&(r.notification.title=l);const d=s.notification.body;d&&(r.notification.body=d);const h=s.notification.image;h&&(r.notification.image=h);const m=s.notification.icon;m&&(r.notification.icon=m)}(s,r),function Fa(r,s){s.data&&(r.data=s.data)}(s,r),function za(r,s){var l,d,h,m,v;if(!(s.fcmOptions||null!==(l=s.notification)&&void 0!==l&&l.click_action))return;r.fcmOptions={};const Z=null!==(h=null===(d=s.fcmOptions)||void 0===d?void 0:d.link)&&void 0!==h?h:null===(m=s.notification)||void 0===m?void 0:m.click_action;Z&&(r.fcmOptions.link=Z);const T=null===(v=s.fcmOptions)||void 0===v?void 0:v.analytics_label;T&&(r.fcmOptions.analyticsLabel=T)}(s,r),s}function ni(r,s){const l=[];for(let d=0;d<r.length;d++)l.push(r.charAt(d)),d<s.length&&l.push(s.charAt(d));return l.join("")}function Rn(r){return vt.create("missing-app-config-values",{valueName:r})}ni("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ni("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fn{constructor(s,l,d){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const h=function Ba(r){if(!r||!r.options)throw Rn("App Configuration Object");if(!r.name)throw Rn("App Name");const s=["projectId","apiKey","appId","messagingSenderId"],{options:l}=r;for(const d of s)if(!l[d])throw Rn(d);return{appName:r.name,projectId:l.projectId,apiKey:l.apiKey,appId:l.appId,senderId:l.messagingSenderId}}(s);this.firebaseDependencies={app:s,appConfig:h,installations:l,analyticsProvider:d}}_delete(){return Promise.resolve()}}function zn(){return(zn=(0,o.Z)(function*(r){try{r.swRegistration=yield navigator.serviceWorker.register(ya,{scope:ba}),r.swRegistration.update().catch(()=>{})}catch(s){throw vt.create("failed-service-worker-registration",{browserErrorMessage:s?.message})}})).apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(r,s){if(!s&&!r.swRegistration&&(yield function ue(r){return zn.apply(this,arguments)}(r)),s||!r.swRegistration){if(!(s instanceof ServiceWorkerRegistration))throw vt.create("invalid-sw-registration");r.swRegistration=s}})).apply(this,arguments)}function Bn(){return(Bn=(0,o.Z)(function*(r,s){s?r.vapidKey=s:r.vapidKey||(r.vapidKey=Yo)})).apply(this,arguments)}function Vn(){return Vn=(0,o.Z)(function*(r,s){if(!navigator)throw vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vt.create("permission-blocked");return yield function Va(r,s){return Bn.apply(this,arguments)}(r,s?.vapidKey),yield function oi(r,s){return Jn.apply(this,arguments)}(r,s?.serviceWorkerRegistration),function Na(r){return Un.apply(this,arguments)}(r)}),Vn.apply(this,arguments)}function qe(){return(qe=(0,o.Z)(function*(r,s,l){const d=function Ga(r){switch(r){case Me.NOTIFICATION_CLICKED:return"notification_open";case Me.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(s);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(d,{message_id:l[Go],message_name:l[Aa],message_time:l[Ca],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gn(){return Gn=(0,o.Z)(function*(r,s){const l=s.data;if(!l.isFirebaseMessaging)return;r.onMessageHandler&&l.messageType===Me.PUSH_RECEIVED&&("function"==typeof r.onMessageHandler?r.onMessageHandler(ei(l)):r.onMessageHandler.next(ei(l)));const d=l.data;(function Ja(r){return"object"==typeof r&&!!r&&Go in r})(d)&&"1"===d["google.c.a.e"]&&(yield function Ya(r,s,l){return qe.apply(this,arguments)}(r,l.messageType,d))}),Gn.apply(this,arguments)}const ai="@firebase/messaging",Ka=r=>{const s=new Fn(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",l=>function Yn(r,s){return Gn.apply(this,arguments)}(s,l)),s},Wa=r=>{const s=r.getProvider("messaging").getImmediate();return{getToken:d=>function ii(r,s){return Vn.apply(this,arguments)}(s,d)}};function si(){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,o.Z)(function*(){try{yield(0,N.eu)()}catch{return!1}return typeof window<"u"&&(0,N.hl)()&&(0,N.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ha(){(0,p._registerComponent)(new z.wA("messaging",Ka,"PUBLIC")),(0,p._registerComponent)(new z.wA("messaging-internal",Wa,"PRIVATE")),(0,p.registerVersion)(ai,"0.12.4"),(0,p.registerVersion)(ai,"0.12.4","esm2017")}();const Ne="analytics",je="firebase_id",tr="origin",er=6e4,nr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hn="https://www.googletagmanager.com/gtag/js",mt=new t.Yd("@firebase/analytics"),Ct=new N.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ir(r){if(!r.startsWith(Hn)){const s=Ct.create("invalid-gtag-resource",{gtagURL:r});return mt.warn(s.message),""}return r}function ci(r){return Promise.all(r.map(s=>s.catch(l=>l)))}function $n(){return($n=(0,o.Z)(function*(r,s,l,d,h,m){const v=d[h];try{if(v)yield s[v];else{const T=(yield ci(l)).find(P=>P.measurementId===h);T&&(yield s[T.appId])}}catch(Z){mt.error(Z)}r("config",h,m)})).apply(this,arguments)}function oe(){return(oe=(0,o.Z)(function*(r,s,l,d,h){try{let m=[];if(h&&h.send_to){let v=h.send_to;Array.isArray(v)||(v=[v]);const Z=yield ci(l);for(const T of v){const P=Z.find(j=>j.measurementId===T),D=P&&s[P.appId];if(!D){m=[];break}m.push(D)}}0===m.length&&(m=Object.values(s)),yield Promise.all(m),r("event",d,h||{})}catch(m){mt.error(m)}})).apply(this,arguments)}const lr=30,di=new class ur{constructor(s={},l=1e3){this.throttleMetadata=s,this.intervalMillis=l}getThrottleMetadata(s){return this.throttleMetadata[s]}setThrottleMetadata(s,l){this.throttleMetadata[s]=l}deleteThrottleMetadata(s){delete this.throttleMetadata[s]}};function dr(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}function Xn(){return(Xn=(0,o.Z)(function*(r){var s;const{appId:l,apiKey:d}=r,h={method:"GET",headers:dr(d)},m=nr.replace("{app-id}",l),v=yield fetch(m,h);if(200!==v.status&&304!==v.status){let Z="";try{const T=yield v.json();null!==(s=T.error)&&void 0!==s&&s.message&&(Z=T.error.message)}catch{}throw Ct.create("config-fetch-failed",{httpStatus:v.status,responseMessage:Z})}return v.json()})).apply(this,arguments)}function to(){return(to=(0,o.Z)(function*(r,s=di,l){const{appId:d,apiKey:h,measurementId:m}=r.options;if(!d)throw Ct.create("no-app-id");if(!h){if(m)return{measurementId:m,appId:d};throw Ct.create("no-api-key")}const v=s.getThrottleMetadata(d)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Z=new mr;return setTimeout((0,o.Z)(function*(){Z.abort()}),void 0!==l?l:er),_i({appId:d,apiKey:h,measurementId:m},v,Z,s)})).apply(this,arguments)}function _i(r,s,l){return eo.apply(this,arguments)}function eo(){return eo=(0,o.Z)(function*(r,{throttleEndTimeMillis:s,backoffCount:l},d,h=di){var m;const{appId:v,measurementId:Z}=r;try{yield function pr(r,s){return new Promise((l,d)=>{const h=Math.max(s-Date.now(),0),m=setTimeout(l,h);r.addEventListener(()=>{clearTimeout(m),d(Ct.create("fetch-throttle",{throttleEndTimeMillis:s}))})})}(d,s)}catch(T){if(Z)return mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Z} provided in the "measurementId" field in the local Firebase config. [${T?.message}]`),{appId:v,measurementId:Z};throw T}try{const T=yield function _r(r){return Xn.apply(this,arguments)}(r);return h.deleteThrottleMetadata(v),T}catch(T){const P=T;if(!function hr(r){if(!(r instanceof N.ZR&&r.customData))return!1;const s=Number(r.customData.httpStatus);return 429===s||500===s||503===s||504===s}(P)){if(h.deleteThrottleMetadata(v),Z)return mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Z} provided in the "measurementId" field in the local Firebase config. [${P?.message}]`),{appId:v,measurementId:Z};throw T}const D=503===Number(null===(m=P?.customData)||void 0===m?void 0:m.httpStatus)?(0,N.$s)(l,h.intervalMillis,lr):(0,N.$s)(l,h.intervalMillis),j={throttleEndTimeMillis:Date.now()+D,backoffCount:l+1};return h.setThrottleMetadata(v,j),mt.debug(`Calling attemptFetch again in ${D} millis`),_i(r,j,d,h)}}),eo.apply(this,arguments)}class mr{constructor(){this.listeners=[]}addEventListener(s){this.listeners.push(s)}abort(){this.listeners.forEach(s=>s())}}let no,lo;function oo(){return(oo=(0,o.Z)(function*(r,s,l,d,h){if(h&&h.global)r("event",l,d);else{const m=yield s;r("event",l,Object.assign(Object.assign({},d),{send_to:m}))}})).apply(this,arguments)}function go(){return(go=(0,o.Z)(function*(){if(!(0,N.hl)())return mt.warn(Ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,N.eu)()}catch(r){return mt.warn(Ct.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}return!0})).apply(this,arguments)}function Re(){return Re=(0,o.Z)(function*(r,s,l,d,h,m,v){var Z;const T=function gr(r){return to.apply(this,arguments)}(r);T.then(pt=>{l[pt.measurementId]=pt.appId,r.options.measurementId&&pt.measurementId!==r.options.measurementId&&mt.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${pt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pt=>mt.error(pt)),s.push(T);const P=function _o(){return go.apply(this,arguments)}().then(pt=>{if(pt)return d.getId()}),[D,j]=yield Promise.all([T,P]);(function cr(r){const s=window.document.getElementsByTagName("script");for(const l of Object.values(s))if(l.src&&l.src.includes(Hn)&&l.src.includes(r))return l;return null})(m)||function Qe(r,s){const l=function ar(r,s){let l;return window.trustedTypes&&(l=window.trustedTypes.createPolicy(r,s)),l}("firebase-js-sdk-policy",{createScriptURL:ir}),d=document.createElement("script"),h=`${Hn}?l=${r}&id=${s}`;d.src=l?l?.createScriptURL(h):h,d.async=!0,document.head.appendChild(d)}(m,D.measurementId),lo&&(h("consent","default",lo),function hi(r){lo=r}(void 0)),h("js",new Date);const Lt=null!==(Z=v?.config)&&void 0!==Z?Z:{};return Lt[tr]="firebase",Lt.update=!0,null!=j&&(Lt[je]=j),h("config",D.measurementId,Lt),no&&(h("set",no),function uo(r){no=r}(void 0)),D.measurementId}),Re.apply(this,arguments)}class mi{constructor(s){this.app=s}_delete(){return delete Ut[this.app.options.appId],Promise.resolve()}}let Ut={},be=[];const Rt={};let fi,Mt,de="dataLayer",we=!1;function ze(r,s,l){!function Fe(){const r=[];if((0,N.ru)()&&r.push("This is a browser extension environment."),(0,N.zI)()||r.push("Cookies are not available."),r.length>0){const s=r.map((d,h)=>`(${h+1}) ${d}`).join(" "),l=Ct.create("invalid-analytics-context",{errorInfo:s});mt.warn(l.message)}}();const d=r.options.appId;if(!d)throw Ct.create("no-app-id");if(!r.options.apiKey){if(!r.options.measurementId)throw Ct.create("no-api-key");mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ut[d])throw Ct.create("already-exists",{id:d});if(!we){!function ot(r){let s=[];Array.isArray(window[r])?s=window[r]:window[r]=s}(de);const{wrappedGtag:m,gtagCore:v}=function sr(r,s,l,d,h){let m=function(...v){window[d].push(arguments)};return window[h]&&"function"==typeof window[h]&&(m=window[h]),window[h]=function li(r,s,l,d){function m(){return m=(0,o.Z)(function*(v,...Z){try{if("event"===v){const[T,P]=Z;yield function rr(r,s,l,d,h){return oe.apply(this,arguments)}(r,s,l,T,P)}else if("config"===v){const[T,P]=Z;yield function $r(r,s,l,d,h,m){return $n.apply(this,arguments)}(r,s,l,d,T,P)}else if("consent"===v){const[T]=Z;r("consent","update",T)}else if("get"===v){const[T,P,D]=Z;r("get",T,P,D)}else if("set"===v){const[T]=Z;r("set",T)}else r(v,...Z)}catch(T){mt.error(T)}}),m.apply(this,arguments)}return function h(v){return m.apply(this,arguments)}}(m,r,s,l),{gtagCore:m,wrappedGtag:window[h]}}(Ut,be,Rt,de,"gtag");Mt=m,fi=v,we=!0}return Ut[d]=function De(r,s,l,d,h,m,v){return Re.apply(this,arguments)}(r,be,Rt,s,fi,de,l),new mi(r)}function br(){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,o.Z)(function*(){if((0,N.ru)()||!(0,N.zI)()||!(0,N.hl)())return!1;try{return yield(0,N.eu)()}catch{return!1}})).apply(this,arguments)}const wr="@firebase/analytics";!function is(){(0,p._registerComponent)(new z.wA(Ne,(s,{options:l})=>ze(s.getProvider("app").getImmediate(),s.getProvider("installations-internal").getImmediate(),l),"PUBLIC")),(0,p._registerComponent)(new z.wA("analytics-internal",function r(s){try{const l=s.getProvider(Ne).getImmediate();return{logEvent:(d,h,m)=>function os(r,s,l,d){r=(0,N.m9)(r),function fr(r,s,l,d,h){return oo.apply(this,arguments)}(Mt,Ut[r.app.options.appId],s,l,d).catch(h=>mt.error(h))}(l,d,h,m)}}catch(l){throw Ct.create("interop-component-reg-failed",{reason:l})}},"PRIVATE")),(0,p.registerVersion)(wr,"0.10.0"),(0,p.registerVersion)(wr,"0.10.0","esm2017")}();var mo=g(41954),Ce=g(2631);const fo=new class Cr extends Ce.v{}(class vi extends mo.o{constructor(s,l){super(s,l),this.scheduler=s,this.work=l}schedule(s,l=0){return l>0?super.schedule(s,l):(this.delay=l,this.state=s,this.scheduler.flush(this),this)}execute(s,l){return l>0||this.closed?super.execute(s,l):this._execute(s,l)}requestAsyncId(s,l,d=0){return null!=d&&d>0||null==d&&this.delay>0?super.requestAsyncId(s,l,d):(s.flush(this),0)}});var kr=g(16321),ct=g(99397),Zr=g(85137),Je=g(43093);const vo=new w.GfV("7.6.1"),xo="__angularfire_symbol__analyticsIsSupportedValue",yo="__angularfire_symbol__analyticsIsSupported",bo="__angularfire_symbol__remoteConfigIsSupportedValue",Be="__angularfire_symbol__remoteConfigIsSupported",wo="__angularfire_symbol__messagingIsSupportedValue",Ao="__angularfire_symbol__messagingIsSupported";function ko(r,s,l){if(s){if(1===s.length)return s[0];const m=s.filter(v=>v.app===l);if(1===m.length)return m[0]}return l.container.getProvider(r).getImmediate({optional:!0})}globalThis[yo]||(globalThis[yo]=br().then(r=>globalThis[xo]=r).catch(()=>globalThis[xo]=!1)),globalThis[Ao]||(globalThis[Ao]=si().then(r=>globalThis[wo]=r).catch(()=>globalThis[wo]=!1)),globalThis[Be]||(globalThis[Be]=xa().then(r=>globalThis[bo]=r).catch(()=>globalThis[bo]=!1));const Zo=(r,s)=>{const l=s?[s]:(0,R.C6)(),d=[];return l.forEach(h=>{h.container.getProvider(r).instances.forEach(v=>{d.includes(v)||d.push(v)})}),d};function Ft(){}class Te{constructor(s,l=fo){this.zone=s,this.delegate=l}now(){return this.delegate.now()}schedule(s,l,d){const h=this.zone;return this.delegate.schedule(function(v){h.runGuarded(()=>{s.apply(this,[v])})},l,d)}}class So{constructor(s){this.zone=s,this.task=null}call(s,l){const d=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft)),l.pipe((0,ct.b)({next:d,complete:d,error:d})).subscribe(s).add(d)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sr=(()=>{class r{constructor(l){this.ngZone=l,this.outsideAngular=l.runOutsideAngular(()=>new Te(Zone.current)),this.insideAngular=l.run(()=>new Te(Zone.current,kr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return r.\u0275fac=function(l){return new(l||r)(w.LFG(w.R0b))},r.\u0275prov=w.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ie(){const r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return r}function Io(r){return ie(),function Ye(r){return function(l){return(l=l.lift(new So(r.ngZone))).pipe((0,Zr.R)(r.outsideAngular),(0,Je.Q)(r.insideAngular))}}(ie())(r)}},87469:(kt,at,g)=>{g.d(at,{T:()=>y});var w=g(19347),R=g(47394),o=g(72164),p=g(65879),N=g(96814),z=g(91581),t=g(22749),st=g(40750);function G(A,S){if(1&A&&(p.TgZ(0,"div",20)(1,"b",21),p._uU(2),p.qZA(),p.TgZ(3,"div",22),p._UZ(4,"azt-dynamic-hook",12),p.qZA()()),2&A){const I=S.$implicit;let E;p.xp6(2),p.hij("",null!==(E=I.alpha)&&void 0!==E?E:I.key,"."),p.xp6(2),p.Q6J("content",I.content)}}function q(A,S){if(1&A&&(p.TgZ(0,"div",18),p.YNc(1,G,5,2,"div",19),p.qZA()),2&A){const I=p.oxw();p.Q6J("answerSizeManager",1),p.xp6(1),p.Q6J("ngForOf",null==I.data.obj||null==I.data.obj.question?null:I.data.obj.question.answers)}}function M(A,S){if(1&A&&(p.TgZ(0,"h2",23),p._uU(1),p.ALo(2,"mytranslate"),p.qZA()),2&A){const I=p.oxw();p.xp6(1),p.AsE(" ",p.lcZ(2,2,"lang_auto_dap_an"),": ",null==I.data.obj.question||null==I.data.obj.question.answerResult?null:I.data.obj.question.answerResult.join(", ")," ")}}function H(A,S){if(1&A&&(p.TgZ(0,"div",9)(1,"h2",24),p._uU(2),p.ALo(3,"mytranslate"),p.qZA(),p.TgZ(4,"div",25),p._UZ(5,"azt-dynamic-hook",12),p.qZA()()),2&A){const I=p.oxw();p.xp6(2),p.hij(" ",p.lcZ(3,2,"lang_auto_loi_giai")," "),p.xp6(3),p.Q6J("content",null==I.data.obj.question?null:I.data.obj.question.help)}}let y=(()=>{class A extends o.e{closeDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(I,E){super(E,I),this.dialogRef=I,this.data=E,this.subscriptions=new R.w0}static#t=this.\u0275fac=function(E){return new(E||A)(p.Y36(w.so,8),p.Y36(w.WI,8))};static#e=this.\u0275cmp=p.Xpm({type:A,selectors:[["view-detail-question-share"]],features:[p.qOj],decls:42,vars:34,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto",2,"max-height","calc(100vh - 100px)"],[1,"text-md","mr-auto"],[1,"text-md","mr-auto","mt-2"],[1,"flex","w-full","mt-2"],[1,"text-md"],[1,"text-md","ml-10"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","py-2","mt-2"],[1,"font-medium","text-md","text-center","mb-2"],[1,"tex2jax_process","box-content",2,"width","auto"],[3,"content"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],["class","border-t border-slate-200/60 dark:border-darkmode-400 py-2 mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","view-detail-question-shared-KfIEXO44141",1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content"],[1,"font-medium","text-md","text-left","text-success","my-2"],[1,"font-medium","text-md","text-center"],[1,"help-content","box","px-3","mt-1",2,"display","inherit","border-top-right-radius","0","border-top-left-radius","0","box-shadow","none","overflow","auto","padding-bottom","20px"]],template:function(E,C){1&E&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),p._uU(5),p.ALo(6,"mytranslate"),p.TgZ(7,"b"),p._uU(8),p.ALo(9,"mytranslate"),p.qZA()(),p.TgZ(10,"h2",5),p._uU(11),p.ALo(12,"mytranslate"),p.TgZ(13,"b"),p._uU(14),p.ALo(15,"mytranslate"),p.qZA()(),p.TgZ(16,"div",6)(17,"h2",7),p._uU(18),p.ALo(19,"mytranslate"),p.TgZ(20,"b"),p._uU(21),p.ALo(22,"mytranslate"),p.qZA()(),p.TgZ(23,"h2",8),p._uU(24),p.ALo(25,"mytranslate"),p.TgZ(26,"b"),p._uU(27),p.ALo(28,"mytranslate"),p.qZA()()(),p.TgZ(29,"div",9)(30,"h2",10),p._uU(31),p.ALo(32,"mytranslate"),p.qZA(),p.TgZ(33,"div",11),p._UZ(34,"azt-dynamic-hook",12),p.qZA(),p.YNc(35,q,2,2,"div",13),p.YNc(36,M,3,4,"h2",14),p.qZA(),p.YNc(37,H,6,4,"div",15),p.qZA()()(),p.TgZ(38,"div",16)(39,"button",17),p.NdJ("click",function(){return C.closeDialog()}),p._uU(40),p.ALo(41,"mytranslate"),p.qZA()()()),2&E&&(p.xp6(5),p.hij(" ",p.lcZ(6,14,"lang_test_market_question_info"),": "),p.xp6(3),p.Oqu(p.lcZ(9,16,C.data.obj.knowledgeName)),p.xp6(3),p.hij(" ",p.lcZ(12,18,"lang_auto_muc_do_nhan_biet"),": "),p.xp6(3),p.Oqu(p.lcZ(15,20,C.data.obj.questionTagName)),p.xp6(4),p.hij(" ",p.lcZ(19,22,"lang_auto_lop_hoc"),": "),p.xp6(3),p.Oqu(p.lcZ(22,24,C.data.obj.levelName)),p.xp6(3),p.hij(" ",p.lcZ(25,26,"lang_auto_mon_hoc"),": "),p.xp6(3),p.Oqu(p.lcZ(28,28,C.data.obj.subjectName)),p.xp6(4),p.hij(" ",p.lcZ(32,30,"lang_auto_noi_dung_cau_hoi")," "),p.xp6(3),p.Q6J("content",null==C.data.obj.question?null:C.data.obj.question.content),p.xp6(1),p.Q6J("ngIf",1==(null==C.data.obj.question?null:C.data.obj.question.answerType)&&(null==C.data.obj.question?null:C.data.obj.question.answers)&&(null==C.data.obj||null==C.data.obj.question?null:C.data.obj.question.answers.length)>0),p.xp6(1),p.Q6J("ngIf",null==C.data.obj||null==C.data.obj.question?null:C.data.obj.question.answerResult),p.xp6(1),p.Q6J("ngIf",null==C.data.obj||null==C.data.obj.question?null:C.data.obj.question.help),p.xp6(3),p.hij(" ",p.lcZ(41,32,"lang_auto_dong")," "))},dependencies:[N.sg,N.O5,z.s,t.O,st.JV],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]})}return A})()},57985:(kt,at,g)=>{g.d(at,{C:()=>Qt});var w=g(15861),R=g(29023),o=g(65879),p=g(56223),N=g(73445),z=g(23680),t=g(44683),st=g(13217),G=g(84003),q=g(47496),M=g(61713),H=g(20553),y=g(23655),A=g(82228),S=g(96814),I=g(32296),E=g(2032),C=g(64170),tt=g(98525),J=g(67679),it=g(89310),ut=g(37722),Y=g(40750);function et(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function k(O,Q){if(1&O&&(o.TgZ(0,"mat-option",59),o._uU(1),o.qZA()),2&O){const U=Q.$implicit;o.Q6J("value",U.id),o.xp6(1),o.hij(" ",U.name," ")}}function $(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function K(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function ht(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function dt(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function It(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function B(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function ft(O,Q){1&O&&(o.TgZ(0,"div",58),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&O&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_test_market_must_accept_policy")," "))}function nt(O,Q){if(1&O){const U=o.EpF();o.TgZ(0,"div",60)(1,"button",61),o.NdJ("click",function(){o.CHM(U);const b=o.oxw();return o.KtG(b.acceptSendRequest(!0))}),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.TgZ(4,"button",62),o.NdJ("click",function(){o.CHM(U);const b=o.oxw();return o.KtG(b.acceptSendRequest(!1))}),o._uU(5),o.ALo(6,"mytranslate"),o.qZA()()}if(2&O){const U=o.oxw();o.xp6(1),o.Q6J("disabled",U.form.invalid||U.sendRequest||!U.totalBalance||2!=U.citizenIdImages.length),o.xp6(1),o.hij(" ",o.lcZ(3,3,"lang_test_market_request_with_draw")," "),o.xp6(3),o.hij(" ",o.lcZ(6,5,"lang_auto_huy")," ")}}function _t(O,Q){if(1&O){const U=o.EpF();o.TgZ(0,"div",68),o.NdJ("click",function(){o.CHM(U);const b=o.oxw().$implicit,gt=o.oxw(2);return o.KtG(gt.removeImg(b))}),o.O4$(),o.TgZ(1,"svg",69),o._UZ(2,"line",70)(3,"line",71),o.qZA()()}}function rt(O,Q){if(1&O&&(o.TgZ(0,"div",64)(1,"div",65),o._UZ(2,"img",66),o.ALo(3,"mycdn"),o.qZA(),o.YNc(4,_t,4,0,"div",67),o.qZA()),2&O){const U=Q.$implicit,V=o.oxw(2);o.xp6(2),o.Q6J("src",o.lcZ(3,2,U),o.LSH),o.xp6(2),o.Q6J("ngIf",V.enableEditInfo)}}function jt(O,Q){if(1&O&&(o.TgZ(0,"div"),o.YNc(1,rt,5,4,"div",63),o.qZA()),2&O){const U=o.oxw();o.xp6(1),o.Q6J("ngForOf",U.citizenIdImages)}}function Ke(O,Q){1&O&&(o.TgZ(0,"div",74),o.O4$(),o.TgZ(1,"svg",75)(2,"g",76)(3,"g",77),o._UZ(4,"circle",78),o.TgZ(5,"path",79),o._UZ(6,"animateTransform",80),o.qZA()()()(),o.kcU(),o.TgZ(7,"h2",54),o._uU(8),o.ALo(9,"mytranslate"),o.qZA()()),2&O&&(o.xp6(8),o.hij(" ",o.lcZ(9,1,"lang_test_market_uploading_citizenID_images")," "))}function pe(O,Q){if(1&O){const U=o.EpF();o.TgZ(0,"div",74),o.O4$(),o.TgZ(1,"svg",81),o._UZ(2,"path",82)(3,"polyline",83)(4,"line",84),o.qZA(),o.kcU(),o.TgZ(5,"span",85),o._uU(6),o.ALo(7,"mytranslate"),o.qZA(),o.TgZ(8,"input",86,87),o.NdJ("change",function(b){o.CHM(U);const gt=o.oxw(2);return o.KtG(gt.selectFile(b))}),o.qZA()()}2&O&&(o.xp6(6),o.Oqu(o.lcZ(7,1,"lang_auto_upload_file")))}function Ht(O,Q){if(1&O&&(o.TgZ(0,"div",72),o.YNc(1,Ke,10,3,"div",73),o.YNc(2,pe,10,3,"div",73),o.qZA()),2&O){const U=o.oxw();o.xp6(1),o.Q6J("ngIf",U.loadingUpload),o.xp6(1),o.Q6J("ngIf",!U.loadingUpload)}}function he(O,Q){if(1&O){const U=o.EpF();o.TgZ(0,"div",88)(1,"div",60)(2,"button",89),o.NdJ("click",function(){o.CHM(U);const b=o.oxw();return o.KtG(b.acceptSendRequest(!0))}),o._uU(3),o.ALo(4,"mytranslate"),o.qZA(),o.TgZ(5,"button",90),o.NdJ("click",function(){o.CHM(U);const b=o.oxw();return o.KtG(b.acceptSendRequest(!1))}),o._uU(6),o.ALo(7,"mytranslate"),o.qZA()()()}if(2&O){const U=o.oxw();o.xp6(2),o.Q6J("disabled",U.form.invalid||U.sendRequest||!U.totalBalance||2!=U.citizenIdImages.length),o.xp6(1),o.hij(" ",o.lcZ(4,3,"lang_test_market_request_with_draw")," "),o.xp6(3),o.hij(" ",o.lcZ(7,5,"lang_auto_huy")," ")}}let Qt=(()=>{class O extends q.Q{getCurLang(){return this.commonService.getCurrentLang()}uploadFile(U){U?(this.loadingUpload=!0,(0,M.Or)(U.type)?(0,M.hv)(U).then(V=>{this.apiUploadService.uploadToCdnForCitizenId(V).subscribe(b=>{1==b.success?(b.data?.url&&this.citizenIdImages.push(b.data.url),this.loadingUpload=!1):(this.loadingUpload=!1,this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",b.message??"none")))})}):(this.showErrorSnack("lang_auto_vui_long_dung_dinh_dang_anh"),this.loadingUpload=!1)):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}removeImg(U){let V=this.citizenIdImages?.filter(b=>b!==U);this.citizenIdImages=V}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(U){this.currentBankId=U}removeSignatureKeyImages(U){if(0==U.length)return[];{let V=[];return U.forEach(b=>{V.push(b.substring(0,b.indexOf("?")))}),V}}acceptSendRequest(U){if(U){this.sendRequest=!0;let V=this.getFormValue(),b={bankId:V.bankId??this.transactionInfo.bankId,bankHolder:V.accountNameControl??this.transactionInfo.bankHolder,address:V.address??this.transactionInfo.address,bankAccountNumber:V.bankNumber??this.transactionInfo.bankAccountNumber,contactPhone:V.contactPhone??this.balanceUserInfo.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(V.birthday??this.balanceUserInfo.birthday??""),idCard:V.idCard??this.balanceUserInfo.idCard,idIssuedBy:V.idIssuedBy??this.balanceUserInfo.idIssuedBy,idIssuedAt:new Date(V.idIssuedAt??this.balanceUserInfo.idIssuedAt??"")};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(b).subscribe(gt=>{1===gt.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(gt.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(U=>{1===U.success?(this.listBanks=U.data?.objs??[],this.successStatusObj()):this.errorStatusObj(U.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}constructor(U,V){var b;super(),b=this,this.testMarketQuestionService=U,this.apiUploadService=V,this.totalBalance=0,this.closeRequest=new o.vpe,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.loadingUpload=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=H.N.maxDateTimePicker,this.selectFile=function(){var gt=(0,w.Z)(function*(wt){let ce=wt.target.files;try{for(var me in ce)"length"!=me&&"item"!=me&&b.uploadFile(ce[me]);wt.target.setAttribute("value","")}catch{}});return function(wt){return gt.apply(this,arguments)}}(),this.form=new p.cw({accountNameControl:new p.NI({value:this.transactionInfo.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required]}),bankId:new p.NI({value:this.transactionInfo.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required]}),bankNumber:new p.NI({value:this.transactionInfo.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required,p.kI.pattern("^[A-Za-z0-9]*$")]}),address:new p.NI({value:this.transactionInfo.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required]}),contactPhone:new p.NI({value:this.balanceUserInfo.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required,p.kI.pattern("^[0-9]*$"),p.kI.minLength(10)]}),idCard:new p.NI({value:this.balanceUserInfo.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required,p.kI.pattern("^[0-9]*$")]}),idIssuedBy:new p.NI({value:this.balanceUserInfo.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required]}),idIssuedAt:new p.NI({value:this.balanceUserInfo.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required]}),birthday:new p.NI({value:this.balanceUserInfo.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[p.kI.required]}),acceptPolicy:new p.NI(!1,{nonNullable:!0,validators:[p.kI.requiredTrue]})})}ngOnInit(){this.getBankObjs(),(!this.transactionInfo||this.commonService.isEmptyObj(this.transactionInfo))&&(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo.idImages&&this.balanceUserInfo.idImages.length?this.balanceUserInfo.idImages:[],this.currentBankId=this.transactionInfo.bankId??1}static#t=this.\u0275fac=function(V){return new(V||O)(o.Y36(y.Q_),o.Y36(A.W))};static#e=this.\u0275cmp=o.Xpm({type:O,selectors:[["withdraw-balance"]],inputs:{transactionInfo:"transactionInfo",totalBalance:"totalBalance",balanceUserInfo:"balanceUserInfo"},outputs:{closeRequest:"closeRequest"},features:[o._Bn([{provide:R.fM,useClass:t.WG,deps:[z.Ad,N.o8]},{provide:R.ab,useFactory:st.fX,deps:[G.D]}]),o.qOj],decls:123,vars:94,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","edit",1,"ml-5","mr-2",2,"width","1.25rem!important"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline"],["formControlName","bankId","name","bankIdInput",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["idIssuedAt",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["birthday",""],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],["class","px-4 flex items-center justify-center cursor-pointer relative my-4",4,"ngIf"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["width","40","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","black",1,"w-5","h-5","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],["id","horizontal-form-1","type","file","id","inp_hidden","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(V,b){if(1&V){const gt=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o._uU(5),o.ALo(6,"mytranslate"),o.ALo(7,"number"),o.qZA()(),o.TgZ(8,"div",5)(9,"h2",6),o._uU(10),o.ALo(11,"mytranslate"),o.qZA(),o.TgZ(12,"div",7),o.NdJ("click",function(){return b.enableEdit()}),o._UZ(13,"lucide-icon",8),o._uU(14),o.ALo(15,"mytranslate"),o.qZA()(),o.TgZ(16,"form",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"label",14),o._uU(22),o.ALo(23,"mytranslate"),o.qZA(),o._UZ(24,"input",15),o.YNc(25,et,3,3,"div",16),o.qZA(),o.TgZ(26,"div",13)(27,"label",17),o._uU(28),o.ALo(29,"mytranslate"),o.qZA(),o.TgZ(30,"mat-form-field",18)(31,"mat-select",19),o.NdJ("valueChange",function(At){return b.currentBankId=At})("selectionChange",function(At){return b.selectBank(At.value)}),o.YNc(32,k,2,2,"mat-option",20),o.qZA()(),o.YNc(33,$,3,3,"div",16),o.qZA(),o.TgZ(34,"div",13)(35,"label",21),o._uU(36),o.ALo(37,"mytranslate"),o.qZA(),o._UZ(38,"input",22),o.YNc(39,K,3,3,"div",16),o.qZA(),o.TgZ(40,"div",23)(41,"h2",24),o._uU(42),o.ALo(43,"mytranslate"),o.qZA()(),o.TgZ(44,"div",13)(45,"label",25),o._uU(46),o.ALo(47,"mytranslate"),o.qZA(),o._UZ(48,"input",26),o.YNc(49,ht,3,3,"div",16),o.qZA(),o.TgZ(50,"div",13)(51,"label",27),o._uU(52),o.ALo(53,"mytranslate"),o.qZA(),o._UZ(54,"input",28),o.YNc(55,dt,3,3,"div",16),o.qZA(),o.TgZ(56,"div",13)(57,"label",29),o._uU(58),o.ALo(59,"mytranslate"),o.qZA(),o.TgZ(60,"mat-form-field",30)(61,"input",31),o.NdJ("click",function(){o.CHM(gt);const At=o.MAs(67);return o.KtG(At.open())}),o.ALo(62,"mytranslate"),o.qZA(),o.TgZ(63,"button",32),o.NdJ("click",function(At){return o.CHM(gt),o.MAs(67).open(),o.KtG(At.stopPropagation())}),o.TgZ(64,"span",33),o._UZ(65,"lucide-icon",34),o.qZA()(),o.TgZ(66,"ngx-mat-datetime-picker",35,36)(68,"ngx-mat-datepicker-actions")(69,"button",37),o._uU(70,"OK"),o.qZA()()()()(),o.TgZ(71,"div",13)(72,"label",38),o._uU(73),o.ALo(74,"mytranslate"),o.qZA(),o.TgZ(75,"mat-form-field",30)(76,"input",39),o.NdJ("click",function(){o.CHM(gt);const At=o.MAs(82);return o.KtG(At.open())}),o.ALo(77,"mytranslate"),o.qZA(),o.TgZ(78,"button",40),o.NdJ("click",function(At){return o.CHM(gt),o.MAs(82).open(),o.KtG(At.stopPropagation())}),o.TgZ(79,"span",33),o._UZ(80,"lucide-icon",34),o.qZA()(),o.TgZ(81,"ngx-mat-datetime-picker",35,41)(83,"ngx-mat-datepicker-actions")(84,"button",37),o._uU(85,"OK"),o.qZA()()()()(),o.TgZ(86,"div",13)(87,"label",42),o._uU(88),o.ALo(89,"mytranslate"),o.qZA(),o._UZ(90,"input",43),o.YNc(91,It,3,3,"div",16),o.qZA(),o.TgZ(92,"div",13)(93,"label",44),o._uU(94),o.ALo(95,"mytranslate"),o.qZA(),o._UZ(96,"input",45),o.YNc(97,B,3,3,"div",16),o.qZA(),o.TgZ(98,"div",13)(99,"div",46),o._UZ(100,"input",47),o.TgZ(101,"label",48),o._uU(102),o.ALo(103,"mytranslate"),o.TgZ(104,"a",49),o._uU(105),o.ALo(106,"mytranslate"),o.qZA(),o._uU(107),o.ALo(108,"mytranslate"),o._UZ(109,"azt-download-link-item",50),o.ALo(110,"convertRawLinkOfGitHubWithLocale"),o._uU(111),o.ALo(112,"mytranslate"),o.qZA()(),o.YNc(113,ft,3,3,"div",16),o.qZA(),o.YNc(114,nt,7,7,"div",51),o.qZA(),o.TgZ(115,"div",52)(116,"div",53)(117,"h2",54),o._uU(118),o.ALo(119,"mytranslate"),o.qZA()(),o.YNc(120,jt,2,1,"div",55),o.YNc(121,Ht,3,2,"div",56),o.qZA(),o.YNc(122,he,8,7,"div",57),o.qZA()()()()()()}if(2&V){const gt=o.MAs(67),wt=o.MAs(82);o.xp6(5),o.AsE(" ",o.lcZ(6,50,"lang_test_market_balance"),"",o.lcZ(7,52,b.totalBalance),"\u0111 "),o.xp6(5),o.hij(" ",o.lcZ(11,54,"lang_test_market_bank_infomation")," "),o.xp6(4),o.hij(" ",o.lcZ(15,56,b.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),o.xp6(2),o.Q6J("formGroup",b.form),o.xp6(6),o.hij(" ",o.lcZ(23,58,"lang_test_market_bankHolder")," "),o.xp6(3),o.Q6J("ngIf",b.form.controls.accountNameControl.dirty&&b.form.controls.accountNameControl.errors),o.xp6(3),o.hij(" ",o.lcZ(29,60,"lang_test_market_bankName")," "),o.xp6(3),o.Q6J("value",b.currentBankId),o.xp6(1),o.Q6J("ngForOf",b.listBanks),o.xp6(1),o.Q6J("ngIf",b.form.controls.bankId.dirty&&b.form.controls.bankId.errors),o.xp6(3),o.hij(" ",o.lcZ(37,62,"lang_test_market_bankNumber")," "),o.xp6(3),o.Q6J("ngIf",b.form.controls.bankNumber.dirty&&b.form.controls.bankNumber.errors),o.xp6(3),o.hij(" ",o.lcZ(43,64,"lang_test_market_personal_infomation")," "),o.xp6(4),o.hij(" ",o.lcZ(47,66,"lang_test_market_citizen_id")," "),o.xp6(3),o.Q6J("ngIf",b.form.controls.idCard.dirty&&b.form.controls.idCard.errors),o.xp6(3),o.hij(" ",o.lcZ(53,68,"lang_test_market_issued_by")," "),o.xp6(3),o.Q6J("ngIf",b.form.controls.idIssuedBy.dirty&&b.form.controls.idIssuedBy.errors),o.xp6(3),o.hij(" ",o.lcZ(59,70,"lang_test_market_issued_at")," "),o.xp6(3),o.s9C("placeholder",o.lcZ(62,72,"lang_test_market_issued_at")),o.Q6J("max",b.maxDate)("ngxMatDatetimePicker",gt),o.xp6(5),o.Q6J("touchUi",!0)("hideTime",!0),o.xp6(7),o.hij(" ",o.lcZ(74,74,"lang_auto_ngay_sinh")," "),o.xp6(3),o.s9C("placeholder",o.lcZ(77,76,"lang_auto_ngay_sinh")),o.Q6J("max",b.maxDate)("ngxMatDatetimePicker",wt),o.xp6(5),o.Q6J("touchUi",!0)("hideTime",!0),o.xp6(7),o.hij(" ",o.lcZ(89,78,"lang_number_phone")," "),o.xp6(3),o.Q6J("ngIf",b.form.controls.contactPhone.dirty&&b.form.controls.contactPhone.errors),o.xp6(3),o.hij(" ",o.lcZ(95,80,"lang_test_market_address")," "),o.xp6(3),o.Q6J("ngIf",b.form.controls.address.dirty&&b.form.controls.address.errors),o.xp6(5),o.hij(" ",o.lcZ(103,82,"lang_test_market_Azota_policy_1"),""),o.xp6(2),o.s9C("href","/"+b.getCurLang()+"/admin/test-market/privacy",o.LSH),o.xp6(1),o.Oqu(o.lcZ(106,84,"lang_test_market_Azota_policy_2")),o.xp6(2),o.hij("\xa0",o.lcZ(108,86,"lang_auto_va"),"\xa0"),o.xp6(2),o.Q6J("dataUrl",o.lcZ(110,88,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),o.xp6(2),o.hij("",o.lcZ(112,90,"lang_test_market_Azota_policy_3")," "),o.xp6(2),o.Q6J("ngIf",(null==b.form.controls.acceptPolicy?null:b.form.controls.acceptPolicy.dirty)&&(null==b.form.controls.acceptPolicy?null:b.form.controls.acceptPolicy.errors)&&!(null!=b.form.controls.acceptPolicy&&b.form.controls.acceptPolicy.value)),o.xp6(1),o.Q6J("ngIf",!b.isMobile),o.xp6(4),o.hij(" ",o.lcZ(119,92,"lang_test_market_upload_citizenID_images")," "),o.xp6(2),o.Q6J("ngIf",b.citizenIdImages.length>0),o.xp6(1),o.Q6J("ngIf",b.enableEditInfo),o.xp6(1),o.Q6J("ngIf",b.isMobile)}},dependencies:[S.sg,S.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,z.ey,I.lW,E.Nt,C.KE,C.R9,tt.gD,R.rZ,R.T$,R.c_,R.cL,p.sg,p.u,J.M,it.P,ut.Nh5,S.JJ,Y.JV,Y.QN,Y.jw],encapsulation:2})}return O})()},84163:(kt,at,g)=>{g.r(at),g.d(at,{AuthModule:()=>jl});var w=g(96814),R=g(26304),o=g(56223),p=g(21266),N=g(42753),z=g(37722),t=g(65879);function st(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"input",3,4),t.NdJ("paste",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.handlePaste(a))})("keyup",function(a){const _=t.CHM(e).index,f=t.oxw(2);return t.KtG(f.onKeyUp(a,_))})("input",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.onInput(a))})("keydown",function(a){const _=t.CHM(e).index,f=t.oxw(2);return t.KtG(f.onKeyDown(a,_))}),t.qZA()}if(2&n){const e=c.$implicit,i=c.index,a=t.oxw(2);t.Gre("otp-input ",a.config.inputClass,""),t.Q6J("pattern",a.config.allowNumbersOnly?"\\d*":"")("type",a.inputType)("placeholder",(null==a.config?null:a.config.placeholder)||"")("ngStyle",a.config.inputStyles)("formControl",a.otpForm.controls[e])("id",a.getBoxId(i))}}function G(n,c){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,st,2,9,"input",2),t.ALo(2,"keys"),t.qZA()),2&n){const e=t.oxw();t.Gre("ng-otp-input-wrapper wrapper ",e.config.containerClass,""),t.MGl("id","c_",e.componentKey,""),t.Q6J("ngStyle",e.config.containerStyles),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,6,null==e.otpForm?null:e.otpForm.controls))}}class q{static ifTab(c){return this.ifKey(c,"Tab")}static ifDelete(c){return this.ifKey(c,"Delete;Del")}static ifBackspace(c){return this.ifKey(c,"Backspace")}static ifRightArrow(c){return this.ifKey(c,"ArrowRight;Right")}static ifLeftArrow(c){return this.ifKey(c,"ArrowLeft;Left")}static ifSpacebar(c){return this.ifKey(c,"Spacebar; ")}static ifKey(c,e){return e.split(";").some(a=>a===c.key)}}let M=(()=>{class n{transform(e){return Object.keys(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"keys",type:n,pure:!0}),n})(),H=(()=>{class n{constructor(e,i){this.keysPipe=e,this.document=i,this.config={length:4},this.onInputChange=new t.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new o.cw({});for(let e=0;e<this.config.length;e++)this.otpForm.addControl(this.getControlName(e),new o.NI);this.otpForm.valueChanges.subscribe(e=>{this.keysPipe.transform(this.otpForm.controls).forEach(i=>{var a=this.otpForm.controls[i].value;a&&a.length>1&&(a.length>=this.config.length?this.setValue(a):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const e=this.document.getElementById(`c_${this.componentKey}`);if(e){const i=e.getElementsByClassName("otp-input")[0];i&&i.focus&&i.focus()}}}getControlName(e){return`ctrl_${e}`}onKeyDown(e,i){const a=this.getBoxId(i-1),u=this.getBoxId(i);return q.ifSpacebar(e)?(e.preventDefault(),!1):q.ifBackspace(e)?(e.target.value?this.clearInput(u,i):(this.clearInput(a,i-1),this.setSelected(a)),void this.rebuildValue()):void 0}onInput(e){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${e.target.value}`:e.target.value))return e.target.value="",e.stopPropagation(),void e.preventDefault()}onKeyUp(e,i){q.ifTab(e)&&(i-=1);const a=this.getBoxId(i+1),u=this.getBoxId(i-1),_=this.getBoxId(i);return q.ifRightArrow(e)?(e.preventDefault(),void this.setSelected(a)):q.ifLeftArrow(e)?(e.preventDefault(),void this.setSelected(u)):q.ifDelete(e)?(e.target.value?this.clearInput(_,i):(this.clearInput(u,i-1),this.setSelected(u)),void this.rebuildValue()):void(e.target.value&&(this.ifValidKeyCode(e)&&this.setSelected(a),this.rebuildValue()))}validateNumber(e){return e&&/^[0-9]+$/.test(e)}getBoxId(e){return`otp_${e}_${this.componentKey}`}clearInput(e,i){let a=this.getControlName(i);this.otpForm.controls[a]?.setValue(null);const u=this.document.getElementById(e);u&&u instanceof HTMLInputElement&&(u.value=null)}setSelected(e){this.focusTo(e);const i=this.document.getElementById(e);i&&i.setSelectionRange&&setTimeout(()=>{i.setSelectionRange(0,1)},0)}ifValidKeyCode(e){const i=e.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(i)}focusTo(e){const i=this.document.getElementById(e);i&&i.focus()}setValue(e){if(!this.config.allowNumbersOnly||!isNaN(e)){if(this.otpForm.reset(),!e)return void this.rebuildValue();if(e=e.toString().replace(/\s/g,""),Array.from(e).forEach((a,u)=>{this.otpForm.get(this.getControlName(u))&&this.otpForm.get(this.getControlName(u)).setValue(a)}),!this.config.disableAutoFocus){const a=this.document.getElementById(`c_${this.componentKey}`);var i=e.length<this.config.length?e.length:this.config.length-1;let u=a.getElementsByClassName("otp-input")[i];u&&u.focus&&u.focus()}this.rebuildValue()}}rebuildValue(){let e="";this.keysPipe.transform(this.otpForm.controls).forEach(i=>{if(this.otpForm.controls[i].value){let a=this.otpForm.controls[i].value,u=a.length>1,_=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());a=a[0];let f=_?"upper"==this.config.letterCase.toLocaleLowerCase()?a.toUpperCase():a.toLowerCase():a;_&&f==a?_=!1:a=f,e+=a,(u||_)&&this.otpForm.controls[i].setValue(a)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(e),this.onInputChange.emit(e),this.currentVal=e}handlePaste(e){let i=e.clipboardData||window.clipboardData;if(i)var a=i.getData("Text");e.stopPropagation(),e.preventDefault(),a&&(!this.config.allowNumbersOnly||this.validateNumber(a))&&this.setValue(a)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M),t.Y36(w.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(e,i){1&e&&t.YNc(0,G,3,8,"div",0),2&e&&t.Q6J("ngIf",null==i.otpForm?null:i.otpForm.controls)},dependencies:[w.O5,w.PC,w.sg,o.Fj,o.c5,o.JJ,o.oH,M],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[M],imports:[[w.ez,o.u5,o.UX]]}),n})();var S=g(28550),I=g(25391),E=g(95545),C=g(23348),tt=g(84155),J=g(78217),it=g(24406),ut=g(20553),Y=g(82481),et=g(52572),k=g(47496),$=g(2816),K=g(79998),ht=g(23433),dt=g(43389),It=g(98129),B=g(18881),ft=g(29023),nt=g(69862),_t=g(23680),rt=g(64170),jt=g(44683),Ke=g(13217),pe=g(84003),Ht=g(91765),he=g(61713),Qt=g(19347),O=g(72164),Q=g(59997),U=g(9235),V=g(98525),b=g(40750);function gt(n,c){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function wt(n,c){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function At(n,c){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function se(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",17),t.NdJ("valueChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.department_select=a)})("selectionChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.selectDepartment(a.value))}),t.ALo(3,"mytranslate"),t.YNc(4,At,2,2,"mat-option",7),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,3,"lang_testbank_utils_school_info_select_department")),t.Q6J("value",e.department_select),t.xp6(2),t.Q6J("ngForOf",e.departments)}}function ce(n,c){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function me(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",18),t._uU(2,"\xa0"),t.qZA())}let Oo=(()=>{class n extends O.e{initData(){this.GetProvinces(),this.GetTypeSchool()}selectLocation(e){this.location_select=e,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}selectLevel(e){this.schools=[],this.school_select=null,this.level_select=e,e<=3?(this.getListSchool(),this.GetDistrictsByProvince()):e>3&&this.getListSchoolByProvince()}selectDepartment(e){this.schools=[],this.school_select=null,this.department_select=e,this.getListSchool()}selectSchool(e){this.school_select=e}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(i=>{i&&1==i.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(i.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack(this.sAztUserService.isTeacherRole()?"lang_auto_vui_long_chon_truong_minh_dang_giang_day":"lang_auto_vui_long_chon_truong_minh_dang_theo_hoc")}btnCloseDialog(e){this.dialogRef.close(e)}GetProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(e=>{e&&(this.locations=e.data?.objs??new Array,this.locations=this.sortName(this.locations))})}GetTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(e=>{e&&(this.levels=e.data?.objs??new Array)})}GetDistrictsByProvince(e=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(i=>{i&&(this.departments=i.data?.objs??new Array,this.departments=this.sortName(this.departments),e())})}getListSchoolByProvince(e=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(i=>{i&&(this.schools=i.data?.objs??new Array,this.schools=this.sortName(this.schools),e())})}getListSchool(e=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(i=>{i&&(this.schools=i.data?.objs??new Array,this.schools=this.sortName(this.schools),e())})}sortName(e){return e.sort((i,a)=>i.name?.trim().localeCompare(a.name?.trim()??"")??-1),e}ngOnInit(){this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.GetDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),super.ngOnInit()}constructor(e,i,a,u,_){super(_,u),this.schoolConfigService=e,this.schoolInfoService=i,this.sAztUserService=a,this.dialogRef=u,this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=_.infoSchool,this.form=new o.cw({LocationName:new o.NI("",{nonNullable:!0}),LevelName:new o.NI("",{nonNullable:!0}),DepartmentName:new o.NI("",{nonNullable:!0}),SchoolName:new o.NI("",{nonNullable:!0})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.Tt),t.Y36(U.pX),t.Y36($.U),t.Y36(Qt.so,8),t.Y36(Qt.WI,8))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["azt-school-info"]],features:[t.qOj],decls:32,vars:31,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["name","LocationName",3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],[1,"mt-3","mb-2","text-right"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"disabled","click"],[4,"ngIf"],[3,"value"],["name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",2),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-select",6),t.NdJ("valueChange",function(_){return a.location_select=_})("selectionChange",function(_){return a.selectLocation(_.value)}),t.ALo(11,"mytranslate"),t.YNc(12,gt,2,2,"mat-option",7),t.qZA()()(),t.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-select",8),t.NdJ("valueChange",function(_){return a.level_select=_})("selectionChange",function(_){return a.selectLevel(_.value)}),t.ALo(16,"mytranslate"),t.YNc(17,wt,2,2,"mat-option",7),t.qZA()()(),t.YNc(18,se,5,5,"div",9),t.TgZ(19,"div",10)(20,"mat-form-field",5)(21,"mat-select",11),t.NdJ("valueChange",function(_){return a.school_select=_})("selectionChange",function(_){return a.selectSchool(_.value)}),t.ALo(22,"mytranslate"),t.YNc(23,ce,2,2,"mat-option",7),t.qZA()()()(),t.TgZ(24,"div",12)(25,"button",13),t.NdJ("click",function(){return a.btnCloseDialog(void 0)}),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"button",14),t.NdJ("click",function(){return a.saveInfo()}),t.YNc(29,me,3,0,"span",15),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()),2&i){let u;t.xp6(2),t.hij(" ",t.lcZ(3,17,"lang_auto_cap_nhat_thong_tin_truong")," "),t.xp6(3),t.hij(" ",t.lcZ(6,19,"lang_testbank_utils_school_info_note_tutorial")," "),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(3),t.s9C("placeholder",t.lcZ(11,21,"lang_testbank_utils_school_info_select_province")),t.Q6J("value",a.location_select),t.xp6(2),t.Q6J("ngForOf",a.locations),t.xp6(3),t.s9C("placeholder",t.lcZ(16,23,"lang_testbank_utils_school_info_select_level")),t.Q6J("value",a.level_select),t.xp6(2),t.Q6J("ngForOf",a.levels),t.xp6(1),t.Q6J("ngIf",(null!==(u=a.level_select)&&void 0!==u?u:0)<=3),t.xp6(3),t.s9C("placeholder",t.lcZ(22,25,"lang_testbank_utils_school_info_select_school")),t.Q6J("value",a.school_select),t.xp6(2),t.Q6J("ngForOf",a.schools),t.xp6(3),t.hij(" ",t.lcZ(27,27,"lang_testbank_utils_school_info_later")," "),t.xp6(2),t.Q6J("disabled",a.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!0===a.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(31,29,"lang_buttom_save")," ")}},dependencies:[w.sg,w.O5,_t.ey,rt.KE,V.gD,o._Y,o.JL,o.sg,b.JV],encapsulation:2})}return n})();function Ti(n,c){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.desc)}}function We(n,c){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Lo(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"p",18),t._uU(3),t.qZA()(),t.TgZ(4,"div",19)(5,"mat-form-field",5)(6,"mat-select",6),t.NdJ("selectionChange",function(a){const _=t.CHM(e).$implicit,f=t.oxw(2);return t.KtG(f.selectSubject(a,_))}),t.YNc(7,We,2,2,"mat-option",7),t.qZA()()()()}if(2&n){const e=c.$implicit,i=t.oxw(2);let a;t.xp6(3),t.Oqu(null==e.class?null:e.class.desc),t.xp6(3),t.Q6J("value",e.subjectsIds),t.xp6(1),t.Q6J("ngForOf",i.valueSubjectSurvey[null!==(a=null==e.class?null:e.class.value)&&void 0!==a?a:0])}}function ki(n,c){if(1&n&&(t.ynx(0),t.TgZ(1,"div",13)(2,"label",4),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",14),t.YNc(6,Lo,8,3,"div",15),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"lang_auto_mon_day")),t.xp6(3),t.Q6J("ngForOf",e.dataObjs)}}function Zi(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",20),t._uU(2,"\xa0"),t.qZA())}let He=(()=>{class n extends O.e{ngOnInit(){super.ngOnInit()}selectSubject(e,i){for(let a=0;a<this.dataObjs.length;a++)this.dataObjs[a].class?.value==i.class?.value&&(this.dataObjs[a].subjectsIds=e.value);this.oldDataObjs=this.dataObjs}addSubject(e){let i=e.value.length?e.value:[];this.classroomGrade=[],i.forEach(_=>{let f=this.valueSurvey.find(x=>x.value==_);f&&!this.commonService.isExistInArray(this.classroomGrade,f)&&this.classroomGrade.push(f)});let a=this.oldDataObjs.length,u=this.classroomGrade.length;this.dataObjs.forEach((_,f)=>{this.classroomGrade.find(L=>L.value==_.class?.value)||this.dataObjs.splice(f,1)},this.dataObjs);for(let _=0;_<u;_++)if(this.dataObjs.find(x=>x.class?.value==this.classroomGrade[_].value)||this.dataObjs.push({class:this.classroomGrade[_],subjectsIds:[]}),a>0)for(let x=0;x<a;x++)this.dataObjs[_]&&this.oldDataObjs[x]&&this.dataObjs[_].class?.value==this.oldDataObjs[x].class?.value&&(this.dataObjs[_]=this.oldDataObjs[x]);this.dataObjs.sort((_,f)=>(_.class?.value??0)-(f.class?.value??0))}checkValidChooseGradeAndSubject(e){let i=!0;return e.length?e.forEach(a=>{(!a.subjectsIds||!a.subjectsIds.length)&&(i=!1)}):i=!1,i}saveInfo(){let e=[],i=[],a=[];for(let u=0;u<this.dataObjs.length;u++)if(this.commonService.isExistInArray(i,this.dataObjs[u].class?.value)||(i.push(Number(this.dataObjs[u].class?.value)),a.push(String(this.dataObjs[u].class?.desc))),this.dataObjs[u].subjectsIds&&Array.isArray(this.dataObjs[u].subjectsIds)){let _=this.dataObjs[u].subjectsIds??[];if(_.length)for(let f=0;f<_.length;f++)e.push({classId:this.dataObjs[u].class?.value??0,subjectId:_[f]})}e.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:e}).subscribe(u=>{u&&1==u.success?(this.classroomGradePathValue=i,this.dialogRef.close({classroomIds:i,classroomDescs:a})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}constructor(e,i,a){super(a,i),this.surveyConfigService=e,this.dialogRef=i,this.dataDialog=a,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((u,_)=>(u.class?.value??0)-(_.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey,this.form=new o.cw({LocationName:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),LevelName:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),DepartmentName:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),SchoolName:new o.NI("",{nonNullable:!0,validators:[o.kI.required]})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.XG),t.Y36(Qt.so,8),t.Y36(Qt.WI,8))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["azt-grade-subject-info"]],features:[t.qOj],decls:19,vars:15,consts:[[1,"box","p-5"],[1,"mt-3",3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","m-0"],[1,"form-label","font-medium"],["appearance","outline"],["multiple","",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-3","mb-2","text-right"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],[3,"value"],[1,"col-span-12"],[2,"height","250px","overflow-y","auto"],["class","flex w-full mb-2",4,"ngFor","ngForOf"],[1,"flex","w-full","mb-2"],[1,"text-left","w-20",2,"align-self","center"],[1,"text-md","font-medium","mb-0","mr-2"],[1,"w-full"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"mat-form-field",5)(8,"mat-select",6),t.NdJ("selectionChange",function(_){return a.addSubject(_)}),t.YNc(9,Ti,2,2,"mat-option",7),t.qZA()()(),t.YNc(10,ki,7,4,"ng-container",8),t.qZA()(),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){return a.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return a.saveInfo()}),t.YNc(16,Zi,3,0,"span",8),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.Oqu(t.lcZ(6,9,"lang_auto_khoi_day")),t.xp6(3),t.Q6J("value",a.classroomGradePathValue),t.xp6(1),t.Q6J("ngForOf",a.valueSurvey),t.xp6(1),t.Q6J("ngIf",a.dataObjs.length>0),t.xp6(3),t.hij(" ",t.lcZ(14,11,"lang_testbank_utils_school_info_later")," "),t.xp6(2),t.Q6J("disabled",a.statusObj.loading||!a.checkValidChooseGradeAndSubject(a.dataObjs)),t.xp6(1),t.Q6J("ngIf",!0===a.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(18,13,"lang_buttom_save")," "))},dependencies:[w.sg,w.O5,_t.ey,rt.KE,V.gD,o._Y,o.JL,o.sg,b.JV],encapsulation:2})}return n})();var fe=g(2783),Si=g(82228),Vt=g(77203),Et=g(32296),Eo=g(2032),Ii=g(85904),Zt=g(67679);function Po(n,c){1&n&&t._UZ(0,"azt-loading-effect")}function Oi(n,c){1&n&&(t.TgZ(0,"div",67),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function $t(n,c){1&n&&t._UZ(0,"input",68)}function Mo(n,c){1&n&&(t._UZ(0,"input",69),t.ALo(1,"mytranslate")),2&n&&t.s9C("placeholder",t.lcZ(1,1,"lang_auto_nhap_email")+"...")}function qo(n,c){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("*",t.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function Li(n,c){if(1&n&&(t.TgZ(0,"div",70),t.YNc(1,qo,3,3,"div",63),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("email","email")||e.getErrorType("email","pattern"))}}function Ei(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"a",71),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToConfirmEmail())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")))}function Xt(n,c){1&n&&t._UZ(0,"input",72)}function $e(n,c){1&n&&(t._UZ(0,"input",73),t.ALo(1,"mytranslate")),2&n&&t.s9C("placeholder",t.lcZ(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function Xe(n,c){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function Se(n,c){if(1&n&&(t.TgZ(0,"div",70),t.YNc(1,Xe,3,3,"div",63),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","pattern")||e.getErrorType("phone","minlength")||e.getErrorType("phone","maxlength"))}}function tn(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"a",74),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToConfirm())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")))}function en(n,c){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",75)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("*",t.lcZ(3,1,"lang_account_general_require_school"),""))}function nn(n,c){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",75)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("*",t.lcZ(3,1,"lang_account_general_require_grade_subject"),""))}function ve(n,c){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.ynx(0),t.TgZ(1,"div",76)(2,"label",56),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",57),t._UZ(6,"input",58),t.TgZ(7,"button",77),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSelectGradeSubjectDialog())}),t.O4$(),t.TgZ(8,"svg",13),t._UZ(9,"path",60)(10,"path",61),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.YNc(13,nn,4,3,"div",62),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,4,"lang_auto_chon_khoi_day_mon_day")),t.xp6(3),t.s9C("value",e.classroomGradeDesc.join(", ")),t.xp6(5),t.hij(" ",t.lcZ(12,6,e.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),t.xp6(2),t.Q6J("ngIf",!e.classroomGradeDesc.length)}}function on(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",78)(1,"g",79)(2,"g",80),t._UZ(3,"circle",81),t.TgZ(4,"path",82),t._UZ(5,"animateTransform",83),t.qZA()()()())}function an(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"form",4)(1,"div",5)(2,"div",6),t._UZ(3,"azt-create-avatar",7),t.qZA(),t.TgZ(4,"div",8)(5,"div",9)(6,"input",10,11),t.NdJ("change",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.fileChangeEvent(a))}),t.qZA(),t.TgZ(8,"button",12),t.NdJ("click",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.fileChangeEvent(a))}),t.O4$(),t.TgZ(9,"svg",13),t._UZ(10,"path",14)(11,"polyline",15)(12,"line",16),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(15,"div",17),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()(),t.TgZ(18,"div",18)(19,"div",19)(20,"label",20),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t._UZ(23,"input",21),t.ALo(24,"mytranslate"),t.YNc(25,Oi,3,3,"div",22),t.qZA(),t.TgZ(26,"div",19)(27,"label",23),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.TgZ(30,"mat-form-field",24)(31,"input",25),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(46);return t.KtG(a.open())}),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"button",26),t.NdJ("click",function(a){return t.CHM(e),t.MAs(46).open(),t.KtG(a.stopPropagation())}),t.O4$(),t.TgZ(34,"svg",27),t._UZ(35,"rect",28)(36,"line",29)(37,"line",30)(38,"line",31)(39,"path",32)(40,"path",33)(41,"path",34)(42,"path",35)(43,"path",36)(44,"path",37),t.qZA()(),t.kcU(),t.TgZ(45,"ngx-mat-datetime-picker",38,39)(47,"ngx-mat-datepicker-actions")(48,"button",40),t._uU(49,"OK"),t.qZA()()()()(),t.TgZ(50,"div",19)(51,"label",41),t._uU(52),t.ALo(53,"mytranslate"),t.qZA(),t.YNc(54,$t,1,0,"input",42),t.YNc(55,Mo,2,3,"input",43),t.YNc(56,Li,2,1,"div",44),t.YNc(57,Ei,3,3,"a",45),t.qZA(),t.TgZ(58,"div",19)(59,"label",41),t._uU(60),t.ALo(61,"mytranslate"),t.qZA(),t.YNc(62,Xt,1,0,"input",46),t.YNc(63,$e,2,3,"input",47),t.YNc(64,Se,2,1,"div",44),t.YNc(65,tn,3,3,"a",48),t.qZA(),t.TgZ(66,"div",19)(67,"label",41),t._uU(68),t.ALo(69,"mytranslate"),t.qZA(),t.TgZ(70,"div",49)(71,"div",50),t._UZ(72,"input",51),t.TgZ(73,"label",52),t._uU(74),t.ALo(75,"mytranslate"),t.qZA()(),t.TgZ(76,"div",50),t._UZ(77,"input",53),t.TgZ(78,"label",54),t._uU(79),t.ALo(80,"mytranslate"),t.qZA()()()(),t.TgZ(81,"div",55)(82,"label",56),t._uU(83),t.ALo(84,"mytranslate"),t.qZA(),t.TgZ(85,"div",57),t._UZ(86,"input",58),t.TgZ(87,"button",59),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openDialogInfoSchool())}),t.O4$(),t.TgZ(88,"svg",13),t._UZ(89,"path",60)(90,"path",61),t.qZA(),t._uU(91),t.ALo(92,"mytranslate"),t.qZA()(),t.YNc(93,en,4,3,"div",62),t.qZA(),t.YNc(94,ve,14,8,"ng-container",63),t.qZA(),t.kcU(),t.TgZ(95,"div",64)(96,"button",65),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.parseInfoFieldForStudentObjsInExportExcel())}),t.YNc(97,on,6,0,"svg",66),t._uU(98),t.ALo(99,"mytranslate"),t.qZA()()()}if(2&n){const e=t.MAs(46),i=t.oxw();t.Q6J("formGroup",i.form),t.xp6(3),t.Q6J("linkAvatar",i.userObj.avatar)("nameCreateAvatar",i.userObj.fullName)("size",96),t.xp6(10),t.hij(" ",t.lcZ(14,36,"lang_auto_tai_len")," "),t.xp6(3),t.hij(" ",t.lcZ(17,38,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),t.xp6(5),t.hij(" ",t.lcZ(22,40,"lang_auto_ho_va_ten")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(24,42,"lang_auto_nhap_ho_va_ten")+"..."),t.xp6(2),t.Q6J("ngIf",i.form.controls.fullName.errors),t.xp6(3),t.Oqu(t.lcZ(29,44,"lang_auto_ngay_sinh")),t.xp6(3),t.s9C("placeholder",t.lcZ(32,46,"lang_auto_ngay_sinh")),t.Q6J("max",i.maxDate)("ngxMatDatetimePicker",e),t.xp6(14),t.Q6J("touchUi",!0)("hideTime",!0),t.xp6(7),t.hij(" ",t.lcZ(53,48,"lang_auto_email")," "),t.xp6(2),t.Q6J("ngIf",i.userObj.email),t.xp6(1),t.Q6J("ngIf",!i.userObj.email),t.xp6(1),t.Q6J("ngIf",i.form.controls.email.invalid&&i.form.controls.email.dirty),t.xp6(1),t.Q6J("ngIf",i.userObj.email),t.xp6(3),t.hij(" ",t.lcZ(61,50,"lang_auto_so_dien_thoai")," "),t.xp6(2),t.Q6J("ngIf",i.userObj.phone),t.xp6(1),t.Q6J("ngIf",!i.userObj.phone),t.xp6(1),t.Q6J("ngIf",i.form.controls.phone.invalid&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)),t.xp6(1),t.Q6J("ngIf",i.userObj.phone),t.xp6(3),t.hij(" ",t.lcZ(69,52,"lang_auto_gioi_tinh")," "),t.xp6(6),t.hij(" ",t.lcZ(75,54,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(80,56,"lang_auto_nu")," "),t.xp6(4),t.Oqu(t.lcZ(84,58,"lang_auto_thong_tin_truong")),t.xp6(3),t.s9C("value",null==i.infoSchool?null:i.infoSchool.name),t.xp6(5),t.hij(" ",t.lcZ(92,60,null!=i.infoSchool&&i.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),t.xp6(2),t.Q6J("ngIf",!(null!=i.infoSchool&&i.infoSchool.name)),t.xp6(1),t.Q6J("ngIf",i.isTeacherDashboard),t.xp6(2),t.Q6J("disabled",!i.form.valid||!(null!=i.infoSchool&&i.infoSchool.name)||i.isTeacherDashboard&&!i.classroomGradeDesc.length),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(99,62,"lang_auto_cap_nhat")," ")}}function rn(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",96),t.NdJ("click",function(a){return a.stopPropagation()}),t.TgZ(1,"div",97)(2,"span",98),t.O4$(),t.TgZ(3,"svg",99),t._UZ(4,"path",100)(5,"line",101)(6,"line",102),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(9,"a",103),t.NdJ("click",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.fileChangeEvent(a))}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"input",104,11),t.NdJ("change",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.fileChangeEvent(a))}),t.qZA()()()}2&n&&(t.xp6(7),t.hij(" ",t.lcZ(8,2,"lang_auto_file_ban_chon_khong_phai_la_anh_vui_long")," "),t.xp6(3),t.Oqu(t.lcZ(11,4,"lang_auto_chon_lai")))}function Pi(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",84)(1,"div",85)(2,"div",86)(3,"div",87)(4,"div",88),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",89)(8,"div",90),t.YNc(9,rn,14,6,"div",91),t.TgZ(10,"image-cropper",92),t.NdJ("imageCropped",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.imageCropped(a))})("loadImageFailed",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.loadImageFailed())}),t.qZA()()(),t.TgZ(11,"div",93)(12,"button",94),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.removeDialog())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",95),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.submitAvatar())}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,9,"lang_auto_cap_nhat_anh_dai_dien")),t.xp6(4),t.Q6J("ngIf",!1===e.textImageFailed),t.xp6(1),t.Q6J("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),t.xp6(3),t.Oqu(t.lcZ(14,11,"lang_auto_huy")),t.xp6(3),t.Oqu(t.lcZ(17,13,"lang_auto_cap_nhat"))}}let Mi=(()=>{class n extends k.Q{openSelectGradeSubjectDialog(){this.sAztDialogService.open(He,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&a.classroomIds.length&&a.classroomDescs.length?(this.classroomGradePathValue=a.classroomIds,this.classroomGradeDesc=a.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.subscriptions.add(this.documentConfigService.apiDocumentConfigGetSubjectAndLevelObjsGet().subscribe(e=>{if(1==e.success){let i=e.data?.schoolLevelObjs??[],a=e.data?.schoolSubjectObjs??[];i.forEach(x=>{let L={value:x.id,desc:this.commonService.myTranslateInstant(x.name)};this.commonService.isExistInArray(this.valueSurvey,L)||this.valueSurvey.push(L)});let u=[],_=[],f=[];a.forEach(x=>{let L={type:0,id:x.id,name:this.commonService.myTranslateInstant(x.name)};x.from&&x.to&&x.from>=1&&x.to<=5?(L.type=1,this.commonService.isExistInArray(u,L)||u.push(L)):x.from&&x.to&&x.from>=6&&x.to<=9?(L.type=2,this.commonService.isExistInArray(_,L)||_.push(L)):(L.type=3,this.commonService.isExistInArray(f,L)||f.push(L));for(var F=1;F<=5;F++)this.valueSubjectSurvey[F]=u;for(F=6;F<=9;F++)this.valueSubjectSurvey[F]=_;for(F=10;F<=13;F++)this.valueSubjectSurvey[F]=f}),this.checkSurveySubmitted()}else this.errorStatusObj(e.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(e=>{e&&1==e.success?((e.data?.objs??[]).forEach(a=>{let u=this.valueSurvey.find(_=>_.value==a.classId);if(u){u.value&&u.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,u.value)&&(this.classroomGradePathValue.push(u.value),this.classroomGradeDesc.push(u.desc));let _=this.dataObjs.filter(f=>f.class?.value==u?.value);_&&_.length?this.dataObjs.forEach(f=>{f.class?.value==u?.value&&a.subjectId&&f.subjectsIds?.push(a.subjectId)},this.dataObjs):this.dataObjs.push({class:u,subjectsIds:a.subjectId?[a.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}fileChangeEvent(e){const i=e.target;i?.files?.length&&i.files[0].size<=5242880?(0,he.Or)(i?.files[0].type)?(this.imageChangedEvent=e,this.imageFileName=i?.files?.length?i.files[0].name:"",this.textImageFailed=!0):this.showErrorSnack("lang_auto_vui_long_tai_len_file_anh"):this.showErrorSnack("lang_auto_vui_long_chon_anh_co_kich_thuoc_nho_hon_5mb")}b64toFile(e,i){e=e.replace("data:image/png;base64,","");let _=window.atob(e),f=[];for(let L=0;L<_.length;L+=512){let F=_.slice(L,L+512),W=new Array(F.length);for(let X=0;X<F.length;X++)W[X]=F.charCodeAt(X);let Tt=new Uint8Array(W);f.push(Tt)}return new File(f,i,{type:"image/png"})}imageCropped(e){fetch(e.objectUrl??"").then(i=>i.blob()).then(i=>{const a=new FileReader;a.onload=()=>{let _=this.b64toFile(a.result,this.imageFileName);this.saveAvatar=_},a.readAsDataURL(i)}).catch(i=>{console.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i:",i)})}submitAvatar(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0,this.initStatusObj(),this.uploadFile(this.saveAvatar)}removeDialog(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0}loadImageFailed(){this.textImageFailed=!1}uploadFile(e){e?(this.isSubmit=!1,(0,he.Or)(e.type)&&(0,he.hv)(e).then(i=>{this.apiUploadService.uploadToCdnForAvatar(i).subscribe(a=>{a.type!=nt.dt.UploadProgress&&(1==a.success?this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:a.data?.url??""}).subscribe(_=>{1==_.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)})):this.errorStatusObj(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",a.message??""),!0))})})):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}openDialogInfoSchool(){this.sAztDialogService.open(Oo,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(i=>{i&&(this.infoSchool=i)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(e=>{this.infoSchool=e.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let e=this.getFormValue(),i=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),a=e.birthday?e.birthday:i.toString(),u={fullName:e.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(a),gender:Number(e.gender)??0,email:e.email,phone:e.phone};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(u).subscribe(_=>{1==_.success?(_.data&&(this.saveUserObj.emit(_.data),this.userObj=_.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(_.message??"",!0)}))}}initData(){let e=this.userObj.birthday?this.userObj.birthday:new Date(1990,1,1);this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj.fullName??"",email:this.userObj.email??"",phone:this.userObj.phone??"",gender:1!=this.userObj.gender?"0":"1"}),this.form.controls.birthday.setValue(e.toString())}getFormValue(){return this.form.getRawValue()}getErrorType(e,i){return!!this.form.controls?.[e]?.errors?.[i]&&this.form.controls?.[e]?.errors?.[i]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var e="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",e)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var e="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",e)}checkEnableChangeEmailOrPhone(e,i){if("email"==i){if(!e||!e.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==i&&(!e||e.length>15))return!0;return!1}ngOnInit(){this.userObj.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.form.valueChanges.subscribe(e=>{let i=JSON.stringify(e);i!=this.prevData&&(this.prevData=i,this.form.patchValue(e))}),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(e,i,a,u,_,f,x,L){super(),this.userInfoService=e,this.userService=i,this.timeService=a,this.sAztDialogService=u,this.apiUploadService=_,this.schoolConfigService=f,this.surveyConfigService=x,this.documentConfigService=L,this.isTeacherDashboard=!1,this.saveUserObj=new t.vpe,this.prevData="",this.returnUrl="",this.backLink="",this.imageChangedEvent=void 0,this.croppedImage="",this.imageFileName="",this.textImageFailed=void 0,this.isSubmit=!1,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1,this.maxDate=ut.N.maxDateTimePicker,this.form=new o.cw({fullName:new o.NI("",{nonNullable:!0,validators:[o.kI.required,Ht._.noWhiteSpace]}),gender:new o.NI("",{nonNullable:!0}),birthday:new o.NI("",{nonNullable:!0}),phone:new o.NI("",{nonNullable:!0,validators:[o.kI.pattern("^[0-9]{10}$")]}),email:new o.NI("",{nonNullable:!0,validators:[o.kI.email,o.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.$C),t.Y36($.U),t.Y36(pe.D),t.Y36(fe.C),t.Y36(Si.W),t.Y36(Q.Tt),t.Y36(Q.XG),t.Y36(Vt.Cq))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[t._Bn([w.uU,{provide:ft.fM,useClass:jt.WG,deps:[_t.Ad,jt.o8]},{provide:ft.ab,useFactory:Ke.fX,deps:[pe.D]},{provide:rt.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:5,vars:3,consts:[[1,"intro-x","box","p-5"],[4,"ngIf","ngIfElse"],["doneLoad",""],["style","position: fixed; left: 0; top: 0; z-index: 9999; background: #303030b0; width: 100%; height: 100%; padding: 20px",4,"ngIf"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["type","file","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-slate-500","mt-1","text-xs"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"touchUi","hideTime"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["class","mt-1 text-xs","style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[1,"mt-1","text-xs",2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[2,"position","fixed","left","0","top","0","z-index","9999","background","#303030b0","width","100%","height","100%","padding","20px"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"font-medium","text-base","mr-auto"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],["azt-track-service","setting-general-HnOp3TjmEf","class","profile-img",3,"click",4,"ngIf"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped","loadImageFailed"],[1,"modal-footer"],["azt-track-service","setting-general-9QkXoEEUWs","control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","setting-general-2hxpex74KA","id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"],["azt-track-service","setting-general-HnOp3TjmEf",1,"profile-img",3,"click"],[1,"text-center","relative"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["azt-track-service","setting-general-bT6OQEh_x6",1,"text-primary","mr-1","cursor-pointer",3,"click"],["accept","image/*;capture=camera","type","file",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,Po,1,0,"azt-loading-effect",1),t.YNc(2,an,100,64,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Pi,18,15,"div",3)),2&i){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",u),t.xp6(3),t.Q6J("ngIf",a.imageChangedEvent)}},dependencies:[w.O5,o._Y,o.Fj,o._,o.JJ,o.JL,Et.lW,Eo.Nt,rt.KE,rt.R9,ft.rZ,ft.T$,ft.c_,ft.cL,o.sg,o.u,dt.l,Ii.g,Zt.M,I.ap,b.JV],styles:[".source-image {\n\t\tmargin: auto !important;\n\t}\n\t.modal-dialog[_ngcontent-%COMP%] {\n\t\tmax-width: 500px;\n\t\tmargin: auto;\n\t}"]})}return n})();function qi(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",19)(3,"circle",20),t.qZA()())}function sn(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),t.qZA()())}function Ui(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function cn(n,c){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Ui,3,3,"span",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.oldPassword.errors.required)}}function Uo(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",19)(3,"circle",20),t.qZA()())}function No(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",18),t._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),t.qZA()())}function Ni(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ji(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ln(n,c){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Ni,3,3,"span",8),t.YNc(2,ji,3,3,"span",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.newPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.newPassword.errors.minlength)}}function Qi(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.forgotPassword())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_quen_mat_khau")))}function un(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",27)(1,"g",28)(2,"g",29),t._UZ(3,"circle",30),t.TgZ(4,"path",31),t._UZ(5,"animateTransform",32),t.qZA()()()())}let dn=(()=>{class n extends k.Q{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let e=this.getFormValue(),i={password:e.newPassword,oldPassword:e.oldPassword};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(i).subscribe(a=>{1==a.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(a.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let e=this.commonService.getMyParam(this.activeRoute,"roleType"),i=this.commonService.getMyParam(this.activeRoute,"modeType");var a="?return_url="+encodeURIComponent(`/auth/account-setting/${e}/${i}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",a)}getFormValue(){return this.form.getRawValue()}constructor(e,i){super(),this.userInfoService=e,this.activeRoute=i,this.showPasswordOld=!1,this.showPasswordNew=!1,this.form=new o.cw({oldPassword:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),newPassword:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.minLength(6)]})})}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.$C),t.Y36(p.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["setting-password"]],features:[t.qOj],decls:34,vars:30,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_","class","text-primary font-medium inline-block mr-auto",3,"click",4,"ngIf"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500","w-5","h-5"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","fade"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"input",6),t.ALo(9,"mytranslate"),t.TgZ(10,"button",7),t.NdJ("click",function(){return a.togglePasswordOld()}),t.YNc(11,qi,4,0,"span",8),t.YNc(12,sn,6,0,"span",8),t.qZA()(),t.TgZ(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,cn,2,1,"div",10),t.qZA(),t.TgZ(17,"div",3)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",5),t._UZ(22,"input",12),t.ALo(23,"mytranslate"),t.TgZ(24,"button",13),t.NdJ("click",function(){return a.togglePasswordNew()}),t.YNc(25,Uo,4,0,"span",8),t.YNc(26,No,6,0,"span",8),t.qZA()(),t.YNc(27,ln,3,2,"div",10),t.qZA()(),t.TgZ(28,"div",14),t.YNc(29,Qi,3,3,"a",15),t.TgZ(30,"button",16),t.NdJ("click",function(){return a.parseInfoFieldForStudentObjsInExportExcel()}),t.YNc(31,un,6,0,"svg",17),t._uU(32),t.ALo(33,"mytranslate"),t.qZA()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.hij(" ",t.lcZ(6,18,"lang_auto_mat_khau_hien_tai")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(9,20,"lang_auto_nhap_mat_khau")+"..."),t.Q6J("type",a.showPasswordOld?"text":"password"),t.xp6(3),t.Q6J("ngIf",a.showPasswordOld),t.xp6(1),t.Q6J("ngIf",!a.showPasswordOld),t.xp6(2),t.hij(" ",t.lcZ(15,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),t.xp6(2),t.Q6J("ngIf",a.form.controls.oldPassword.errors&&(a.form.controls.oldPassword.dirty||a.form.controls.oldPassword.touched)),t.xp6(3),t.Oqu(t.lcZ(20,24,"lang_auto_mat_khau_moi")),t.xp6(3),t.s9C("placeholder",t.lcZ(23,26,"lang_auto_nhap_mat_khau")+"..."),t.Q6J("type",a.showPasswordNew?"text":"password"),t.xp6(3),t.Q6J("ngIf",a.showPasswordNew),t.xp6(1),t.Q6J("ngIf",!a.showPasswordNew),t.xp6(1),t.Q6J("ngIf",a.form.controls.newPassword.errors&&(a.form.controls.newPassword.dirty||a.form.controls.newPassword.touched)),t.xp6(2),t.Q6J("ngIf",!a.isBusinessDomain),t.xp6(1),t.Q6J("disabled",a.form.invalid),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(33,28,"lang_auto_cap_nhat")," "))},dependencies:[w.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Zt.M,b.JV],encapsulation:2})}return n})();var Ot=g(70956);function _n(n,c){1&n&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auth_remove_teacher_role")))}function jo(n,c){if(1&n&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function Di(n,c){if(1&n&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function gn(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",7)(1,"g",8)(2,"g",9),t._UZ(3,"circle",10),t.TgZ(4,"path",11),t._UZ(5,"animateTransform",12),t.qZA()()()())}let Qo=(()=>{class n extends k.Q{becomeTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(e=>{1==e.success?this.redirectByRoleService.redirectLoginByRole(""):this.errorStatusObj(e.message??"",!0)}))}becomeStudent(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(e=>{1==e.success?this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/dashboard/0")):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(e,i){super(),this.redirectByRoleService=e,this.userInfoService=i,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ot.C),t.Y36(Q.$C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[t.qOj],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"h5"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,_n,3,3,"span",3),t.YNc(4,jo,3,3,"span",3),t.YNc(5,Di,3,3,"span",3),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return a.isTeacherDashboard?a.becomeStudent():a.becomeTeacher()}),t.YNc(7,gn,6,0,"svg",5),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",a.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf",!a.isTeacherDashboard&&!a.isMobileWebView),t.xp6(1),t.Q6J("ngIf",!a.isTeacherDashboard&&a.isMobileWebView),t.xp6(2),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[w.O5,b.JV],encapsulation:2})}return n})();var Ri=g(7444);function Fi(n,c){if(1&n&&(t.TgZ(0,"option",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=c.$implicit,i=t.oxw();t.Q6J("value",e)("selected",e==i.form.controls.dateFormat.value),t.xp6(1),t.AsE(" ",e," - ",t.lcZ(2,4,"lang_auth_user_setting_unit_"+e)," ")}}function zi(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",11)(1,"g",12)(2,"g",13),t._UZ(3,"circle",14),t.TgZ(4,"path",15),t._UZ(5,"animateTransform",16),t.qZA()()()())}let Ji=(()=>{class n extends k.Q{saveUnitObj(){this.initStatusObj(),this.subscriptions.add(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(i=>{1==i.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(i.message??"",!0)}))}constructor(e,i,a){super(),this.timeService=e,this.userUnitService=i,this.configService=a,this.form=new o.cw({dateFormat:new o.NI("",[o.kI.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var e=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(e??null)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(pe.D),t.Y36(Q.Fq),t.Y36(Ri.V))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["setting-unit"]],features:[t.qOj],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[3,"value","selected"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"select",5),t.YNc(8,Fi,3,6,"option",6),t.qZA()()(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return a.saveUnitObj()}),t.YNc(11,zi,6,0,"svg",9),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.hij(" ",t.lcZ(6,5,"lang_auth_user_setting_unit_format_date")," "),t.xp6(3),t.Q6J("ngForOf",a.formatDataObjs),t.xp6(3),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[w.sg,w.O5,o._Y,o.YN,o.Kr,o.EJ,o.JJ,o.JL,o.sg,o.u,Zt.M,b.JV],encapsulation:2})}return n})();var Bi=g(8720),pn=g(89745),Vi=g(41894),xe=g(90159),hn=g(23655),Yt=g(30617),ye=g(98445),te=g(71646);const Yi=function(n){return{"mt-2 sm:mt-0":n}};function Qr(n,c){if(1&n&&(t.TgZ(0,"div",27),t._UZ(1,"input",28),t.TgZ(2,"label",29),t._uU(3),t.qZA()()),2&n){const e=c.$implicit,i=c.index,a=t.oxw();let u;t.Q6J("ngClass",t.VKq(5,Yi,0!==i)),t.xp6(1),t.s9C("id","tag_"+e.id),t.s9C("value",e.id),t.xp6(1),t.s9C("for","tag_"+e.id),t.xp6(1),t.hij(" ",null!==(u=e[a.commonService.getCurrentLang()+"Name"])&&void 0!==u?u:e.enName," ")}}function mn(n,c){if(1&n&&(t.TgZ(0,"option",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=c.$implicit,i=t.oxw();t.Q6J("value",e.id)("selected",e.id==i.form.controls.schoolLevel.value),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.key)," ")}}function Dr(n,c){if(1&n&&(t.TgZ(0,"option",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=c.$implicit,i=t.oxw();t.Q6J("value",e.id)("selected",e.id==i.form.controls.schoolSubject.value),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.key)," ")}}function Rr(n,c){1&n&&(t.ynx(0),t.TgZ(1,"div",34)(2,"span",35),t._UZ(3,"azt-loading-ui",36),t.qZA()(),t.BQk()),2&n&&(t.xp6(3),t.Q6J("type","oval"))}const Do=function(n){return{"azt-text-primary azt-font-bold":n}};function fn(n,c){if(1&n&&(t.TgZ(0,"span",47)(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(1,Do,i.form.controls.classifyMaterials.value==e.id))}}function Ro(n,c){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,fn,3,3,"span",45),t.TgZ(2,"span",46),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,u=t.oxw(4);return t.KtG(u.onPressNode(a))}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.isLeaf),t.xp6(2),t.hij(" ",t.lcZ(4,2,e.item)," ")}}function Gi(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"span",50),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"path",52),t.qZA()(),t.kcU(),t.TgZ(3,"string",53),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,u=t.oxw(4);return t.KtG(u.onPressNode(a))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,1,e.item)," ")}}const Fo=function(n){return{"azt-text-primary":n}};function Ki(n,c){if(1&n&&(t.TgZ(0,"mat-tree-node",42),t._UZ(1,"button",43),t.YNc(2,Ro,5,4,"ng-container",32),t.YNc(3,Gi,6,3,"ng-template",null,44,t.W1O),t.qZA()),2&n){const e=c.$implicit,i=t.MAs(4),a=t.oxw(4);t.Q6J("ngClass",t.VKq(3,Fo,a.form.controls.classifyMaterials.value==e.id)),t.xp6(2),t.Q6J("ngIf",e.isLeaf)("ngIfElse",i)}}function Wi(n,c){if(1&n&&(t.TgZ(0,"button",57)(1,"mat-icon",58),t._uU(2),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.uIk("aria-label","Toggle "+e.item),t.xp6(2),t.hij(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," ")}}function vn(n,c){if(1&n&&(t.TgZ(0,"span",47)(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(1,Fo,i.form.controls.classifyMaterials.value==e.id))}}function zo(n,c){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,vn,3,3,"span",45),t.TgZ(2,"span",59),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,u=t.oxw(4);return t.KtG(u.onPressNode(a))}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.isLeaf),t.xp6(2),t.hij(" ",t.lcZ(4,2,e.item)," ")}}function Hi(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"span",50),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"path",52),t.qZA()(),t.kcU(),t.TgZ(3,"span",60),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,u=t.oxw(4);return t.KtG(u.onPressNode(a))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,1,e.item)," ")}}function Jo(n,c){1&n&&(t.TgZ(0,"span",61),t._UZ(1,"azt-loading-ui",36),t.qZA()),2&n&&(t.xp6(1),t.Q6J("type","oval"))}function $i(n,c){if(1&n&&(t.TgZ(0,"mat-tree-node",42),t.YNc(1,Wi,3,2,"button",54),t.YNc(2,zo,5,4,"ng-container",32),t.YNc(3,Hi,6,3,"ng-template",null,55,t.W1O),t.YNc(5,Jo,2,1,"span",56),t.qZA()),2&n){const e=c.$implicit,i=t.MAs(4),a=t.oxw(4);t.Q6J("ngClass",t.VKq(5,Do,a.form.controls.classifyMaterials.value==e.id)),t.xp6(1),t.Q6J("ngIf",!e.isLeaf),t.xp6(1),t.Q6J("ngIf",e.isLeaf)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",e.isLoading)}}function St(n,c){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-tree",39),t.YNc(2,Ki,5,5,"mat-tree-node",40),t.YNc(3,$i,6,7,"mat-tree-node",41),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("dataSource",e.dataSource)("treeControl",e.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",e.hasChild)}}function Xi(n,c){1&n&&(t.TgZ(0,"div",34)(1,"div",62),t.O4$(),t.TgZ(2,"svg",63),t._UZ(3,"path",64)(4,"path",65)(5,"path",66)(6,"path",67),t.qZA(),t.kcU(),t.TgZ(7,"p",68),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function ta(n,c){if(1&n&&(t.TgZ(0,"ng-scrollbar",37),t.YNc(1,St,4,3,"ng-container",32),t.YNc(2,Xi,10,3,"ng-template",null,38,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw(2);t.Q6J("visibility","hover"),t.xp6(1),t.Q6J("ngIf",i.dataSource.data.length)("ngIfElse",e)}}function ea(n,c){if(1&n&&(t.TgZ(0,"div",12)(1,"div",31),t.YNc(2,Rr,4,1,"ng-container",32),t.YNc(3,ta,4,3,"ng-template",null,33,t.W1O),t.qZA()()),2&n){const e=t.MAs(4),i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.loadingUnitSubject)("ngIfElse",e)}}function Bo(n,c){1&n&&(t.TgZ(0,"span",69),t._UZ(1,"azt-loading-ui",36),t.qZA()),2&n&&(t.xp6(1),t.Q6J("type","oval"))}let na=(()=>{class n extends O.e{handleCloseDialog(){this.dialogRef.close()}filterSchoolSubject(e){if(this.form.controls.classifyMaterials.setValue(0),0==this.subjectSelectedList.length)this.filterSubject(e??1);else{let i=!1;for(let a=0;a<this.subjectSelectedList.length;a++)e&&(e<(this.subjectSelectedList[a].from??0)||e>(this.subjectSelectedList[a].to??0))&&(i=!0);i&&(this.filterSubject(e??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(e){let i=this.commonService.myClone(this.data.schoolSubjectObjs);this.subjectSelectedList=i.filter(a=>!(a.from&&a.to&&e)||e>=a.from&&e<=a.to)}initData(e){let i=this.form.controls.schoolLevel.value,a=this.form.controls.schoolSubject.value;this.dataSource=new xe.LT(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!e?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(i,a).then(u=>{if(this.dataSource.data=u,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let _=this.data.questionShared?.knowledgeParentIds;for(let f=0;f<_.length;f++)(x=>{setTimeout(()=>{let L=this.dataSource.getNode(_[f]);L&&this.treeControl.expand(L)},500*f)})()}this.loadingUnitSubject=!1}))}onPressNode(e){if(e){if(e.isLeaf){let i=this.commonService.myClone(e);for(this.breadcrumbs=[i];i.prNode;)if(this.breadcrumbs.unshift(i.prNode),i=i.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(e)}}else this.breadcrumbs=[]}chooseLeafFolder(e){e.isLeaf?this.form.controls.classifyMaterials.setValue(e.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.initStatusObj();let e={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},i={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(e.questionId??0,e).subscribe(a=>{1===a.success?1==a.data?.status&&(this.dialogRef.close(i),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(a.message??"",!0)}))}patchValueForm(){let e=12,i=40,a=1,u=0;this.data.configShareQuestionLog.classifyMaterials?(a=this.data.configShareQuestionLog.awarenessLevel??1,e=this.data.configShareQuestionLog.schoolLevel??12,i=this.data.configShareQuestionLog.schoolSubject??40,u=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(e=this.data.questionShared.levelId??12,i=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(a=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(e),this.form.controls.awarenessLevel.setValue(a),this.form.controls.schoolLevel.setValue(e),this.form.controls.schoolSubject.setValue(i),this.form.controls.classifyMaterials.setValue(u),this.initData()}ngOnInit(){super.ngOnInit(),this.patchValueForm()}constructor(e,i,a,u,_){super(_,u),this.documentConfigService=e,this.database=i,this.testMarketQuestionService=a,this.dialogRef=u,this.data=_,this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=f=>f.level,this.isExpandable=f=>f.expandable,this.hasChild=(f,x)=>x.expandable,this.treeControl=new Vi.C2(this.getLevel,this.isExpandable),this.dataSource=new xe.LT(this.treeControl,i),this.form=new o.cw({awarenessLevel:new o.NI(1,{nonNullable:!0}),schoolLevel:new o.NI(0,{nonNullable:!0}),schoolSubject:new o.NI(0,{nonNullable:!0}),classifyMaterials:new o.NI(0,{nonNullable:!0})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Vt.Cq),t.Y36(xe.H7),t.Y36(hn.Q_),t.Y36(Qt.so,8),t.Y36(Qt.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-share-question"]],features:[t.qOj],decls:53,vars:37,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],[3,"type"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["noDataSource",""],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["notIsLeaf",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],[1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500","flex-none","inline-block",3,"ngClass"],["name","file-text"],["matTreeNodeToggle","",1,"cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500"],["d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["notIsLeafChild",""],["class","w-4 h-4 inline-block ml-4",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"w-4","h-4","inline-block","ml-4"],[1,"text-center","mx-auto"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M38.5 70H14C12.1435 70 10.363 69.2625 9.05025 67.9497C7.7375 66.637 7 64.8565 7 63V17.5C7 13.65 10.15 10.5 14 10.5H27.755C28.9079 10.506 30.0416 10.7966 31.0552 11.3462C32.0687 11.8957 32.9309 12.6871 33.565 13.65L36.435 17.85C37.0691 18.8129 37.9313 19.6043 38.9448 20.1538C39.9584 20.7034 41.092 20.994 42.245 21H70C71.8565 21 73.637 21.7375 74.9497 23.0503C76.2625 24.363 77 26.1435 77 28V42","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M59.5 70C65.299 70 70 65.299 70 59.5C70 53.701 65.299 49 59.5 49C53.701 49 49 53.701 49 59.5C49 65.299 53.701 70 59.5 70Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M73.5 73.5L68.25 68.25","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16 26V44.3184M16 50V54.7432V50Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[1,"w-4","h-4","mr-2"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()(),t.TgZ(6,"div",1)(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"div",10),t.YNc(16,Qr,4,7,"div",11),t.qZA()(),t.TgZ(17,"div",12)(18,"label",9),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"label",17),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"select",18),t.NdJ("change",function(){return a.filterSchoolSubject(a.form.controls.schoolLevel.value)}),t.TgZ(29,"option",19),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.YNc(32,mn,3,5,"option",20),t.qZA()()(),t.TgZ(33,"div",15)(34,"div",16)(35,"label",17),t._uU(36),t.ALo(37,"mytranslate"),t.qZA(),t.TgZ(38,"select",21),t.NdJ("change",function(){return a.initData("change")}),t.TgZ(39,"option",19),t._uU(40),t.ALo(41,"mytranslate"),t.qZA(),t.YNc(42,Dr,3,5,"option",20),t.qZA()()()()()()(),t.TgZ(43,"div",7),t.YNc(44,ea,5,2,"div",22),t.qZA()()()()(),t.TgZ(45,"div",23)(46,"button",24),t.NdJ("click",function(){return a.handleCloseDialog()}),t._uU(47),t.ALo(48,"mytranslate"),t.qZA(),t.TgZ(49,"button",25),t.NdJ("click",function(){return a.confirmAction()}),t.YNc(50,Bo,2,1,"span",26),t._uU(51),t.ALo(52,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,19,"lang_test_market_edit_shared_question")," "),t.xp6(4),t.Q6J("formGroup",a.form),t.xp6(5),t.hij(" ",t.lcZ(14,21,"lang_auto_muc_do_nhan_biet")," "),t.xp6(3),t.Q6J("ngForOf",a.data.questionTags),t.xp6(3),t.hij(" ",t.lcZ(20,23,"lang_auto_don_vi_kien_thuc")," "),t.xp6(7),t.hij(" ",t.lcZ(27,25,"lang_auto_lop_hoc")," "),t.xp6(3),t.Q6J("selected",0==a.form.controls.schoolLevel.value),t.xp6(1),t.hij("",t.lcZ(31,27,"lang_auto_---chon_khoi"),"---"),t.xp6(2),t.Q6J("ngForOf",a.data.schoolLevelObjs),t.xp6(4),t.hij(" ",t.lcZ(37,29,"lang_auto_mon_hoc")," "),t.xp6(2),t.uIk("disabled",0==a.form.controls.schoolLevel.value?"":null),t.xp6(1),t.Q6J("selected",0==a.form.controls.schoolSubject.value),t.xp6(1),t.hij("",t.lcZ(41,31,"lang_auto_---chon_mon"),"---"),t.xp6(2),t.Q6J("ngForOf",a.subjectSelectedList),t.xp6(2),t.Q6J("ngIf",0!=a.form.controls.schoolSubject.value),t.xp6(3),t.hij(" ",t.lcZ(48,33,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",a.statusObj.loading||!a.form.controls.classifyMaterials.value),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(52,35,"lang_auto_sua")," "))},dependencies:[w.mk,w.sg,w.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o._,o.JJ,o.JL,Et.RK,Yt.Hw,ye.fQ,ye.ah,ye.eu,ye.gi,ye.uo,o.sg,o.u,Zt.M,te.n,E.KC,z.Nh5,b.JV],encapsulation:2})}return n})();var xn=g(87469),Fr=g(19662),Ie=g(88489),Oe=g(77988),Vo=g(83306),oa=g(22749),yn=g(57985);function zr(n,c){1&n&&t._UZ(0,"azt-loading-effect")}function Jr(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"withdraw-balance",6),t.NdJ("closeRequest",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.closeRequest(a))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("transactionInfo",e.transactionInfo)("balanceUserInfo",e.balanceUserInfo)("totalBalance",e.totalBalance)}}function Br(n,c){1&n&&(t.TgZ(0,"button",40)(1,"span",41),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_status_new")," "))}function Vr(n,c){1&n&&(t.TgZ(0,"button",42)(1,"span",41),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_status_rejected")," "))}function Le(n,c){1&n&&(t.TgZ(0,"button",43)(1,"span",41),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_status_approved")," "))}function Yr(n,c){1&n&&(t.TgZ(0,"span",62),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_new")," "))}function ia(n,c){1&n&&(t.TgZ(0,"span",63),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_approved")," "))}function aa(n,c){if(1&n&&(t.TgZ(0,"span",64),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_status_rejected"),"",e.rejectedReason?t.lcZ(3,4," - "+e.rejectedReason):""," ")}}function ra(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"a",65),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,u=t.oxw(4);return t.KtG(u.editQuestionShared(a))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_sua")," "))}const sa=function(n){return{"selected-border-box":n}};function ca(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"tr",52),t.NdJ("click",function(){const u=t.CHM(e).index,_=t.oxw(4);return t.KtG(_.selected=u)}),t.TgZ(1,"td")(2,"div",53),t._UZ(3,"azt-dynamic-hook",54),t.qZA()(),t.TgZ(4,"td"),t.YNc(5,Yr,3,3,"span",55),t.YNc(6,ia,3,3,"span",56),t.YNc(7,aa,4,6,"span",57),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"mytranslate"),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"td",58)(19,"div",59)(20,"a",60),t.NdJ("click",function(){const u=t.CHM(e).$implicit,_=t.oxw(4);return t.KtG(_.viewQuestionDetail(u))}),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.YNc(23,ra,3,3,"a",61),t.qZA()()()}if(2&n){const e=c.$implicit,i=c.index,a=t.oxw(4);t.Q6J("ngClass",t.VKq(21,sa,i==a.selected)),t.xp6(3),t.Q6J("content",null==e.question?null:e.question.content),t.xp6(2),t.Q6J("ngIf","new"==e.status),t.xp6(1),t.Q6J("ngIf","approved"==e.status),t.xp6(1),t.Q6J("ngIf","rejected"==e.status),t.xp6(2),t.hij(" ",t.lcZ(10,11,e.questionTagName)," "),t.xp6(3),t.hij(" ",t.lcZ(13,13,e.knowledgeName)," "),t.xp6(3),t.AsE(" ",t.lcZ(16,15,e.levelName)," - ",t.lcZ(17,17,e.subjectName)," "),t.xp6(6),t.hij(" ",t.lcZ(22,19,"lang_test_market_view_question")," "),t.xp6(2),t.Q6J("ngIf","approved"!=e.status)}}function la(n,c){if(1&n&&(t.TgZ(0,"drag-scroll",44)(1,"table",45)(2,"thead")(3,"tr",46)(4,"th",47),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",48),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",48),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",49),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"th",49),t._uU(17),t.ALo(18,"mytranslate"),t.ALo(19,"mytranslate"),t.qZA(),t._UZ(20,"th",50),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,ca,24,23,"tr",51),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,7,"lang_auto_cau_hoi")," "),t.xp6(3),t.hij(" ",t.lcZ(9,9,"lang_auto_trang_thai")," "),t.xp6(3),t.hij(" ",t.lcZ(12,11,"lang_auto_muc_do_nhan_biet")," "),t.xp6(3),t.hij(" ",t.lcZ(15,13,"lang_auto_don_vi_kien_thuc")," "),t.xp6(3),t.AsE(" ",t.lcZ(18,15,"lang_auto_khoi_hoc")," - ",t.lcZ(19,17,"lang_auto_mon_hoc")," "),t.xp6(5),t.Q6J("ngForOf",e.shareQuestionList)}}function ua(n,c){1&n&&(t.TgZ(0,"div",66),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_khong_co_cau_hoi_nao")))}function da(n,c){if(1&n&&(t.TgZ(0,"div",67),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.totalShareQuestion+" "+t.lcZ(2,1,"lang_auto_cau_hoi")," ")}}const Ee=function(n){return{"bg-primary text-white no-hover":n}};function _a(n,c){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",11),t._uU(8),t.ALo(9,"number"),t.qZA()()(),t.TgZ(10,"div",12)(11,"h3",10),t._uU(12),t.ALo(13,"mytranslate"),t.TgZ(14,"b",11),t._uU(15),t.ALo(16,"number"),t.qZA()()(),t.TgZ(17,"div",9)(18,"h3",10),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"b",11),t._uU(22),t.ALo(23,"number"),t.qZA()()(),t.TgZ(24,"div",12)(25,"h3",10),t._uU(26),t.ALo(27,"mytranslate"),t.TgZ(28,"b",11),t._uU(29),t.ALo(30,"number"),t.qZA()()(),t.TgZ(31,"div",13)(32,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.withdrawBalance())}),t._uU(33),t.ALo(34,"mytranslate"),t.qZA()()()(),t.TgZ(35,"div",15)(36,"div",16)(37,"button",17),t.O4$(),t.TgZ(38,"svg",18),t._UZ(39,"polygon",19),t.qZA(),t.kcU(),t.TgZ(40,"span",20),t._uU(41),t.ALo(42,"mytranslate"),t.qZA()(),t.YNc(43,Br,4,3,"button",21),t.YNc(44,Vr,4,3,"button",22),t.YNc(45,Le,4,3,"button",23),t.qZA(),t.TgZ(46,"mat-menu",24,25)(48,"div",26)(49,"ul",27)(50,"li")(51,"span",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.filterStatus(void 0))}),t._uU(52),t.ALo(53,"mytranslate"),t.qZA()(),t.TgZ(54,"li")(55,"span",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.filterStatus("new"))}),t._uU(56),t.ALo(57,"mytranslate"),t.qZA()(),t.TgZ(58,"li")(59,"span",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.filterStatus("approved"))}),t._uU(60),t.ALo(61,"mytranslate"),t.qZA()(),t.TgZ(62,"li")(63,"span",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.filterStatus("rejected"))}),t._uU(64),t.ALo(65,"mytranslate"),t.qZA()()()()()(),t.TgZ(66,"div",32)(67,"div",33),t.YNc(68,la,23,19,"drag-scroll",34),t.YNc(69,ua,3,3,"div",35),t.qZA(),t.TgZ(70,"div",36)(71,"div",37)(72,"azt-paging",38),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.getData(a))}),t.qZA()(),t.YNc(73,da,3,3,"div",39),t.qZA()(),t.BQk()}if(2&n){const e=t.MAs(47),i=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,28,"lang_test_market_total_questions_share")," "),t.xp6(3),t.Oqu(t.lcZ(9,30,i.totalShared)),t.xp6(4),t.hij(" ",t.lcZ(13,32,"lang_test_market_total_questions_approve")," "),t.xp6(3),t.Oqu(t.lcZ(16,34,i.totalApproved)),t.xp6(4),t.hij(" ",t.lcZ(20,36,"lang_test_market_total_questions_used")," "),t.xp6(3),t.Oqu(t.lcZ(23,38,i.totalUsed)),t.xp6(4),t.hij(" ",t.lcZ(27,40,"lang_test_market_total_balance")," "),t.xp6(3),t.hij("",t.lcZ(30,42,i.totalBalance),"\u0111"),t.xp6(3),t.Q6J("disabled",!i.totalBalance),t.xp6(1),t.hij(" ",t.lcZ(34,44,"lang_test_market_withdraw")," "),t.xp6(4),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.hij(" ",t.lcZ(42,46,"lang_test_market_filter_status")," "),t.xp6(2),t.Q6J("ngIf","new"==i.fillStatus),t.xp6(1),t.Q6J("ngIf","rejected"==i.fillStatus),t.xp6(1),t.Q6J("ngIf","approved"==i.fillStatus),t.xp6(6),t.Q6J("ngClass",t.VKq(56,Ee,!i.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(53,48,"lang_auto_tat_ca")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(58,Ee,"new"==i.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(57,50,"lang_auto_status_new")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(60,Ee,"approved"==i.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(61,52,"lang_auto_status_approved")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(62,Ee,"rejected"==i.fillStatus)),t.xp6(1),t.hij(" ",t.lcZ(65,54,"lang_auto_status_rejected")," "),t.xp6(4),t.Q6J("ngIf",0!=i.totalShareQuestion),t.xp6(1),t.Q6J("ngIf",0==i.totalShareQuestion),t.xp6(3),t.Q6J("totalPaginationPage",i.totalPage)("paging",i.page),t.xp6(1),t.Q6J("ngIf",0!=i.totalShareQuestion)}}function Pe(n,c){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,Jr,1,3,"withdraw-balance",4),t.YNc(2,_a,74,64,"ng-container",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isWithDraw&&e.transactionInfo&&e.balanceUserInfo),t.xp6(1),t.Q6J("ngIf",!e.isWithDraw)}}let ee=(()=>{class n extends k.Q{constructor(e,i,a,u,_,f){super(),this.testMarketQuestionService=e,this.questionService=i,this.activeRoute=a,this.questionRenderService=u,this.browserStorageService=_,this.sAztDialogService=f,this.shareQuestionList=[],this.page=1,this.totalPage=0,this.sizePage=10,this.loadingRender=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.isWithDraw=!1,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.questionTags=[],this.selected=-1,this.fillStatus="",this.configRenderService=new Bi.v(!0)}ngOnInit(){this.waitDestroy((0,et.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=e??"",this.getData(this.page)}))}filterStatus(e){this.fillStatus=e??"",this.browserStorageService.saveSimpleStorage("view_question_filter",e??""),this.getData(1)}withdrawBalance(){this.isWithDraw=!this.isWithDraw}closeRequest(e){e?(this.getData(this.page),this.isWithDraw=!1):this.isWithDraw=!1}getBalanceQuestionShared(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(e=>{1===e.success?(this.totalShared=e.data?.shared??0,this.totalUsed=e.data?.used??0,this.totalApproved=e.data?.approved??0,this.totalBalance=e.data?.balance??0,this.transactionInfo=e.data?.lastTransaction,this.balanceUserInfo=e.data,this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}getData(e){this.loadingRender=!0,this.page=e,this.selected=-1,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,e,void 0).subscribe(i=>{if(1===i.success){this.shareQuestionList=i.data?.objs??[];let a=i.data?.total??1;this.totalShareQuestion=a,this.totalPage=a%this.sizePage>0?(a-a%this.sizePage)/this.sizePage+1:a>0?a/this.sizePage:1,this.page>this.totalPage&&(this.page=this.totalPage);let u=[];this.shareQuestionList.forEach(_=>{_.question&&u.push(_.question)}),this.loadQuest(u),this.getSubjectAndLevel(),this.getTagsQuestion(),this.getBalanceQuestionShared()}else this.errorStatusObj(i.message??"",!0)}))}loadQuest(e){this.loadingRender=!0;const i=this.commonService.castJsonToClassObjs(pn.v,JSON.stringify(e));this.questionRenderService.parseRenderQuestions(i??[],a=>{},this.configRenderService).then(a=>{for(let u=0;u<this.shareQuestionList.length;u++)this.shareQuestionList[u].question=this.commonService.castObj(a[u]);this.loadingRender=!1}).catch(a=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}getSubjectAndLevel(){this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsSubjectLevelsGet().subscribe(e=>{1==e.success?(this.schoolLevelObjs=e.data?.schoolLevelObjs??[],this.schoolSubjectObjs=e.data?.schoolSubjectObjs??[],this.successStatusObj()):this.errorStatusObj(e.message??"")}))}getTagsQuestion(){this.subscriptions.add(this.questionService.apiQuestionGetTagsGet().subscribe(e=>{1===e.success?this.questionTags=e.data?.objs??[]:this.errorStatusObj(e.message??"")}))}editQuestionShared(e){this.sAztDialogService.open(na,{width:"95vw",data:{questionShared:e,schoolLevelObjs:this.schoolLevelObjs,schoolSubjectObjs:this.schoolSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:e.levelId,schoolSubject:e.subjectId,awarenessLevel:e.questionTagId,questionId:e.questionId,classifyMaterials:e.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(a=>{if(a){let u=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=u??"",this.getData(this.page)}})}viewQuestionDetail(e){this.sAztDialogService.open(xn.T,{width:"700px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(a=>{})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(hn.Q_),t.Y36(Vt.aE),t.Y36(p.gz),t.Y36(Fr.h),t.Y36(Ie.n),t.Y36(fe.C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["view-share-question"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"relative"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest"],[1,"box","p-5","w-full"],[1,"grid","grid-cols-12","gap-1"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"text-md","items-center"],[1,"text-lg"],[1,"col-span-12","md:col-span-2",2,"align-self","center"],[1,"col-span-12","md:col-span-2","text-right",2,"align-self","center"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md","mr-2",3,"disabled","click"],[1,"w-full","text-right","mt-2"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","mr-2","box",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"azt-hidden","md:block"],["class","btn btn-sm btn-pending","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-danger","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-success","style","cursor: default",4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0;text-align: center;",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"totalPaginationPage","paging","goToPaginationPage"],["class","w-20 mt-3 sm:mt-0 ",4,"ngIf"],[1,"btn","btn-sm","btn-pending",2,"cursor","default"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-danger",2,"cursor","default"],[1,"btn","btn-sm","btn-success",2,"cursor","default"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto","px-1",2,"min-width","1000px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","320px"],[1,"",2,"width","100px"],[1,""],[1,"whitespace-nowrap","text-center",2,"width","190px"],["azt-track-service","view-share-question-dC5aYTlKd6F","class","intro-x",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","view-share-question-dC5aYTlKd6F",1,"intro-x",3,"ngClass","click"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"table-report__action"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,zr,1,0,"azt-loading-effect",1),t.YNc(2,Pe,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&i){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.loadingRender)("ngIfElse",u)}},dependencies:[w.mk,w.sg,w.O5,Oe.VK,Oe.p6,dt.l,Vo.L,oa.O,S.HU,yn.C,w.JJ,b.JV],encapsulation:2})}return n})();function ga(n,c){1&n&&t._UZ(0,"azt-loading-effect")}function pa(n,c){1&n&&(t.TgZ(0,"span",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_new")," "))}function ha(n,c){1&n&&(t.TgZ(0,"span",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_approved")," "))}function ma(n,c){1&n&&(t.TgZ(0,"span",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_settled")," "))}function fa(n,c){1&n&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_status_rejected")," "))}function va(n,c){if(1&n&&(t.TgZ(0,"tr",15)(1,"td",16),t._uU(2),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA(),t.TgZ(4,"td")(5,"b"),t._uU(6),t.ALo(7,"number"),t.qZA()(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",17),t.YNc(17,pa,3,3,"span",18),t.YNc(18,ha,3,3,"span",19),t.YNc(19,ma,3,3,"span",19),t.YNc(20,fa,3,3,"span",20),t.qZA()()),2&n){const e=c.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,10,e.createdAt)," "),t.xp6(4),t.hij("",t.lcZ(7,12,e.amount),"\u0111"),t.xp6(3),t.hij(" ",e.bankHolder," "),t.xp6(2),t.hij(" ",e.bankName," "),t.xp6(2),t.hij(" ",e.bankAccountNumber," "),t.xp6(2),t.hij(" ",e.address," "),t.xp6(2),t.Q6J("ngIf","new"==e.status),t.xp6(1),t.Q6J("ngIf","approved"==e.status),t.xp6(1),t.Q6J("ngIf","settled"==e.status),t.xp6(1),t.Q6J("ngIf","rejected"==e.status)}}function Gr(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"drag-scroll",6)(4,"table",7)(5,"thead")(6,"tr",8)(7,"th",9),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",9),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"th",9),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"th",9),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.TgZ(22,"th",9),t._uU(23),t.ALo(24,"mytranslate"),t.qZA(),t.TgZ(25,"th",9),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,va,21,14,"tr",10),t.qZA()()()(),t.TgZ(30,"div",11)(31,"div",12)(32,"azt-paging",13),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.getData(a))}),t.qZA()(),t.TgZ(33,"div",14),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(8),t.hij(" ",t.lcZ(9,11,"lang_test_market_withdraw_time")," "),t.xp6(3),t.hij(" ",t.lcZ(12,13,"lang_test_market_withdraw_amount_withdrawn")," "),t.xp6(3),t.hij(" ",t.lcZ(15,15,"lang_test_market_bankHolder")," "),t.xp6(3),t.hij(" ",t.lcZ(18,17,"lang_test_market_bankName")," "),t.xp6(3),t.hij(" ",t.lcZ(21,19,"lang_test_market_bankNumber")," "),t.xp6(3),t.hij(" ",t.lcZ(24,21,"lang_test_market_address")," "),t.xp6(3),t.hij(" ",t.lcZ(27,23,"lang_auto_trang_thai")," "),t.xp6(3),t.Q6J("ngForOf",e.withdrawHistoryObjs),t.xp6(3),t.Q6J("totalPaginationPage",e.totalPage)("paging",e.page),t.xp6(2),t.hij(" ",e.totalWithdrawTimes+" "+t.lcZ(35,25,"lang_test_market_withdraw_times")," ")}}let bn=(()=>{class n extends k.Q{constructor(e,i){super(),this.testMarketQuestionService=e,this.activeRoute=i,this.page=1,this.totalPage=0,this.sizePage=10,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[]}ngOnInit(){this.waitDestroy((0,et.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.page)}))}getData(e){this.initStatusObj(),this.page=e,this.subscriptions.add(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(i=>{if(1===i.success){this.withdrawHistoryObjs=i.data?.objs??[];let a=i.data?.total??1;this.totalWithdrawTimes=a,this.totalPage=a%this.sizePage>0?(a-a%this.sizePage)/this.sizePage+1:a>0?a/this.sizePage:1,this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(hn.Q_),t.Y36(p.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["history-withdraw"]],features:[t.qOj],decls:4,vars:2,consts:[[1,""],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[2,"height","100%"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","1300px","white-space","initial"],[1,"uppercase"],[1,"whitespace-nowrap"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"w-20","mt-3","sm:mt-0"],[1,"intro-x"],[1,"w-90"],[2,"padding-left","45px"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,ga,1,0,"azt-loading-effect",1),t.YNc(2,Gr,36,27,"ng-template",null,2,t.W1O),t.qZA()),2&i){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",u)}},dependencies:[w.sg,w.O5,dt.l,Vo.L,S.HU,w.JJ,b.JV,b.$n],encapsulation:2})}return n})();function xa(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function wn(n,c){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,xa,3,3,"span",13),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.reason.errors.required)}}function ya(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",14)(1,"g",15)(2,"g",16),t._UZ(3,"circle",17),t.TgZ(4,"path",18),t._UZ(5,"animateTransform",19),t.qZA()()()())}let ba=(()=>{class n extends k.Q{saveUnitObj(){this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(e=>{1==e.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(e.message??"",!0)}))}constructor(e,i){super(),this.authService=e,this.mobileWebviewService=i,this.form=new o.cw({reason:new o.NI("",[o.kI.required])})}ngOnInit(){this.form.controls.reason.setValue("")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.e8),t.Y36(ht.r))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["remove-account"]],features:[t.qOj],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",6),t._UZ(11,"input",7),t.qZA(),t.YNc(12,wn,2,1,"div",8),t.qZA()(),t.TgZ(13,"div",9)(14,"button",10),t.NdJ("click",function(){return a.saveUnitObj()}),t.YNc(15,ya,6,0,"svg",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.hij(" ",t.lcZ(6,7,"lang_auto_xoa_tai_khoan")," "),t.xp6(3),t.hij(" ",t.lcZ(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),t.xp6(4),t.Q6J("ngIf",a.form.controls.reason.errors&&(a.form.controls.reason.dirty||a.form.controls.reason.touched)),t.xp6(2),t.Q6J("disabled",a.statusObj.loading||a.form.controls.reason.errors),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,11,"lang_auto_xac_nhan")," "))},dependencies:[w.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Zt.M,b.JV],encapsulation:2})}return n})();function Yo(n,c){1&n&&t._UZ(0,"azt-loading-effect")}function wa(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label",6)(5,"span",7),t._UZ(6,"lucide-icon",8),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"input",9),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.mobLoginFingerprintOrFace())}),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("name",e.enableForFace?"scan-face":"fingerprint"),t.xp6(1),t.hij(" ",e.enableForFace?t.lcZ(8,3,"lang_core_login_with_face"):t.lcZ(9,5,"lang_core_login_with_fingerprint")," "),t.xp6(3),t.Q6J("formControl",e.checkLoginFingerprintOrFaceControl)}}let Go=(()=>{class n extends k.Q{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(e){super(),this.mobileWebviewService=e,this.checkLoginFingerprintOrFaceControl=new o.NI(!1,{nonNullable:!0}),this.enableForFace=!1}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(ht.r))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],[1,"w-4","h-4","mr-2","inline-block"],[3,"name"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"]],template:function(i,a){if(1&i&&(t.YNc(0,Yo,1,0,"azt-loading-effect",0),t.YNc(1,wa,11,7,"ng-template",null,1,t.W1O)),2&i){const u=t.MAs(2);t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",u)}},dependencies:[w.O5,o.Wl,o.JJ,o.oH,dt.l,z.Nh5,b.JV],encapsulation:2})}return n})();function Aa(n,c){if(1&n&&(t.TgZ(0,"teacher-layout",2),t.GkF(1,3),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(3);t.Q6J("headerBackToLink",e.backLink),t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}function Ca(n,c){if(1&n&&(t.TgZ(0,"student-layout",2),t.GkF(1,3),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(3);t.Q6J("headerBackToLink",e.backLink),t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}const Gt=function(n){return{"bg-primary text-white font-medium":n}};function Ta(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(0))}),t.O4$(),t.TgZ(1,"svg",24),t._UZ(2,"path",25)(3,"circle",26),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"general"==e.modeView)),t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_auto_chung")," ")}}function Me(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(1))}),t.O4$(),t.TgZ(1,"svg",24),t._UZ(2,"rect",28)(3,"path",29),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"password"==e.modeView)),t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_auto_doi_mat_khau")," ")}}function Dt(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(5))}),t.TgZ(1,"span",31),t._UZ(2,"lucide-icon",32),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"setting-unit"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auth_setting_user_unit")," ")}}function ka(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(3))}),t.TgZ(1,"span",31),t._UZ(2,"lucide-icon",34),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"share-question"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_danh_sach_cau_hoi_chia_se")," ")}}function An(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(4))}),t.TgZ(1,"span",31),t._UZ(2,"lucide-icon",36),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"history-withdraw"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_test_market_withdraw_history")," ")}}function Za(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(2))}),t.TgZ(1,"span",31),t._UZ(2,"lucide-icon",38),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"setting-role"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auth_user_setting_change_role")," ")}}function Ko(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(7))}),t.TgZ(1,"span",31),t._UZ(2,"lucide-icon",40),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Gt,"setting-fingerprint-or-face"==e.modeView)),t.xp6(2),t.Q6J("name",e.enableForFace?"scan-face":"fingerprint"),t.xp6(1),t.hij(" ",e.enableForFace?t.lcZ(4,3,"lang_core_login_with_face"):t.lcZ(5,5,"lang_core_login_with_fingerprint")," ")}}function Sa(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changModeView(6))}),t.TgZ(1,"span",31),t._UZ(2,"lucide-icon",42),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Gt,"remove-account"==e.modeView)),t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_xoa_tai_khoan")," ")}}function Cn(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.mobLogout())}),t.O4$(),t.TgZ(1,"svg",24),t._UZ(2,"path",44)(3,"polyline",45)(4,"line",46),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_dang_xuat")," "))}function Ia(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"setting-general",47),t.NdJ("saveUserObj",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u.saveUserObjData(a))}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("userObj",e.userObj)("isTeacherDashboard",e.isTeacherDashboard)}}function Oa(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-password"),t.qZA())}function La(n,c){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-role",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("isTeacherDashboard",e.isTeacherDashboard)("hasTeacherRole",e.hasTeacherRole)}}function ne(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-unit"),t.qZA())}function Tn(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"view-share-question"),t.qZA())}function kn(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"history-withdraw"),t.qZA())}function Wo(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"remove-account"),t.qZA())}function Zn(n,c){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"setting-fingerprint-or-face",49),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("checkLoginFingerprintOrFaceControl",e.checkLoginFingerprintOrFace)("enableForFace",e.enableForFace)}}const Sn=function(n){return{"margin-bottom":n}};function In(n,c){if(1&n&&(t._UZ(0,"azt-loading-effect",4),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",9)(8,"div",10)(9,"div",11),t.YNc(10,Ta,6,6,"button",12),t.YNc(11,Me,6,6,"button",13),t.YNc(12,Dt,5,6,"button",14),t.YNc(13,ka,5,6,"button",15),t.YNc(14,An,5,6,"button",16),t.YNc(15,Za,5,6,"button",17),t.YNc(16,Ko,6,9,"button",18),t.YNc(17,Sa,5,6,"button",19),t.YNc(18,Cn,7,3,"button",20),t.qZA()()(),t.TgZ(19,"div",21),t.YNc(20,Ia,2,2,"div",22),t.YNc(21,Oa,2,0,"div",22),t.YNc(22,La,2,2,"div",22),t.YNc(23,ne,2,0,"div",22),t.YNc(24,Tn,2,0,"div",22),t.YNc(25,kn,2,0,"div",22),t.YNc(26,Wo,2,0,"div",22),t.YNc(27,Zn,2,2,"div",22),t.qZA()()()),2&n){const e=t.oxw();t.Q6J("hidden",!1===e.isLoading),t.xp6(5),t.hij(" ",t.lcZ(6,20,"lang_auto_cai_dat_tai_khoan")," "),t.xp6(5),t.Q6J("ngIf","setting-role"!=e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView&&e.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf","setting-role"!=e.modeView&&e.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf","setting-role"==e.modeView),t.xp6(1),t.Q6J("ngIf",e.isMobileWebView&&e.isShowBiometricSetting),t.xp6(1),t.Q6J("ngIf",e.isTeacherDashboard&&e.isMobileWebView),t.xp6(1),t.Q6J("ngIf",e.isMobileWebView),t.xp6(1),t.Q6J("ngStyle",t.VKq(22,Sn,e.isMobileWebView?"200px":"0")),t.xp6(1),t.Q6J("ngIf","general"==e.modeView&&e.userObj),t.xp6(1),t.Q6J("ngIf","password"==e.modeView),t.xp6(1),t.Q6J("ngIf","setting-role"==e.modeView),t.xp6(1),t.Q6J("ngIf","setting-unit"==e.modeView),t.xp6(1),t.Q6J("ngIf","share-question"==e.modeView),t.xp6(1),t.Q6J("ngIf","history-withdraw"==e.modeView),t.xp6(1),t.Q6J("ngIf","remove-account"==e.modeView),t.xp6(1),t.Q6J("ngIf","setting-fingerprint-or-face"==e.modeView)}}let Ea=(()=>{class n extends k.Q{changModeView(e){let i=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString("/auth/account-setting/0/"+e,i?"?backTo="+encodeURIComponent(i):"")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(e){this.userObj=e}mobLogout(){this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.subscriptions.add(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(e=>{(e?.supportFace||e?.supportFingerprint)&&(this.enableForFace=e.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(e?.isOnOfOff??!1)),this.stopStatusObj()}))}ngOnInit(){this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}),super.ngOnInit()),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.waitDestroy((0,et.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;default:this.modeView="general"}const i=this.commonService.getMyQueryParam("modeView");i&&(this.modeView=i);let a=this.commonService.getMyQueryParam("backTo");this.backLink=a??(this.isTeacherDashboard?"/admin/dashboard":"/student/dashboard/0")}))}constructor(e,i,a,u){super(),this.userService=e,this.redirectService=i,this.activeRoute=a,this.mobileWebviewService=u,this.prevData="",this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new o.NI(!1,{nonNullable:!0}),this.enableForFace=!1,this.isShowBiometricSetting=!1}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36($.U),t.Y36(K.z),t.Y36(p.gz),t.Y36(ht.r))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-account-setting"]],features:[t.qOj],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"hidden"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"w-4","h-4","mr-2","inline-block"],["name","ruler"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","clipboard-list"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","history"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","user"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[3,"name"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","trash-2"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[3,"userObj","isTeacherDashboard","saveUserObj"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(i,a){1&i&&(t.YNc(0,Aa,2,2,"teacher-layout",0),t.YNc(1,Ca,2,2,"student-layout",0),t.YNc(2,In,28,24,"ng-template",null,1,t.W1O)),2&i&&(t.Q6J("ngIf",a.isTeacherDashboard),t.xp6(1),t.Q6J("ngIf",!a.isTeacherDashboard))},dependencies:[w.mk,w.O5,w.tP,w.PC,dt.l,It._,B.L,z.Nh5,Mi,dn,Qo,Ji,ee,bn,ba,Go,b.JV],encapsulation:2})}return n})();var le=g(18699),On=g(24097);function Pa(n,c){if(1&n&&(t.TgZ(0,"div",5),t.GkF(1,6),t.qZA()),2&n){t.oxw();const e=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function vt(n,c){if(1&n&&(t.TgZ(0,"div",5),t.GkF(1,6),t.qZA()),2&n){t.oxw();const e=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ma(n,c){1&n&&t.Hsn(0)}function Ln(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.switchModeUI("dark"))}),t.O4$(),t.TgZ(1,"svg",20),t._UZ(2,"path",21),t.qZA(),t.kcU(),t.TgZ(3,"span",22),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_che_de_toi")))}function qa(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.switchModeUI("light"))}),t.O4$(),t.TgZ(1,"svg",20),t._UZ(2,"circle",24)(3,"path",25)(4,"path",26)(5,"path",27)(6,"path",28)(7,"path",29)(8,"path",30)(9,"path",31)(10,"path",32),t.qZA(),t.kcU(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}2&n&&(t.xp6(12),t.Oqu(t.lcZ(13,1,"lang_auto_che_de_sang")))}const En=function(n){return[n]};function Ho(n,c){if(1&n&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"a",10),t.ALo(4,"navigationLocalize"),t._UZ(5,"img",11),t.ALo(6,"convertCdnLinkOfGitHub"),t.qZA()(),t.TgZ(7,"div",12),t._UZ(8,"azt-switch-language"),t.qZA(),t.TgZ(9,"div",13),t.YNc(10,Ln,6,3,"button",14),t.YNc(11,qa,14,3,"button",15),t.qZA()(),t.TgZ(12,"div",16)(13,"div",17)(14,"div",18),t.GkF(15,6),t.qZA()()()()),2&n){const e=t.oxw(),i=t.MAs(4);t.xp6(3),t.Q6J("routerLink",t.VKq(9,En,t.lcZ(4,5,"/auth/login"))),t.xp6(2),t.Q6J("src",t.lcZ(6,7,"images/logo.svg"),t.LSH),t.xp6(5),t.Q6J("ngIf","light"==e.modeUI),t.xp6(1),t.Q6J("ngIf","dark"==e.modeUI),t.xp6(4),t.Q6J("ngTemplateOutlet",i)}}function Pn(n,c){if(1&n&&(t.TgZ(0,"div",7)(1,"div",16)(2,"div",17)(3,"div",18),t.GkF(4,6),t.qZA()()()()),2&n){t.oxw();const e=t.MAs(4);t.xp6(4),t.Q6J("ngTemplateOutlet",e)}}const Mn=["*"];let Pt=(()=>{class n extends k.Q{switchModeUI(e){let i=document.getElementById("azota-app-html");i&&(this.modeUI=e,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(i.classList.remove("dark"),i.classList.add("light")):(i.classList.remove("light"),i.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(e){super(),this.browserStorageService=e,this.modeUI="",this.initStatusObj()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ie.n))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["auth-layout"]],features:[t.qOj],ngContentSelectors:Mn,decls:9,vars:2,consts:[[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"p-5","box","mx-auto","w-full",2,"max-width","500px"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"]],template:function(i,a){1&i&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,Pa,2,1,"div",1),t.YNc(2,vt,2,1,"div",1),t.qZA(),t.YNc(3,Ma,1,0,"ng-template",null,2,t.W1O),t.YNc(5,Ho,16,11,"ng-template",null,3,t.W1O),t.YNc(7,Pn,5,1,"ng-template",null,4,t.W1O)),2&i&&(t.xp6(1),t.Q6J("ngIf",!a.isMobileWebView&&!a.statusObj.loading),t.xp6(1),t.Q6J("ngIf",a.isMobileWebView&&!a.statusObj.loading))},dependencies:[p.rH,w.O5,w.tP,On.e,b.Jy,b.JV,b.Bo],encapsulation:2})}return n})();function qn(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_email")," "))}function $o(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function Ua(n,c){if(1&n&&(t.TgZ(0,"div",16),t.YNc(1,qn,3,3,"span",2),t.YNc(2,$o,3,3,"span",2),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form.controls.email.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.email.errors.email||e.form.controls.email.errors.pattern)}}function Na(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",17),t._UZ(2,"path",18)(3,"circle",19),t.qZA()())}function Un(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",17),t._UZ(2,"path",20)(3,"path",21)(4,"path",22)(5,"line",23),t.qZA()())}function Xo(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function Nn(n,c){if(1&n&&(t.TgZ(0,"div",24),t.YNc(1,Xo,3,3,"span",2),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.required)}}function ja(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",25)(2,"g",26)(3,"g",27),t._UZ(4,"circle",28),t.TgZ(5,"path",29),t._UZ(6,"animateTransform",30),t.qZA()()()()())}function jn(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"form",7)(2,"div",8),t._UZ(3,"input",9),t.ALo(4,"mytranslate"),t.YNc(5,Ua,3,2,"div",10),t.qZA(),t.TgZ(6,"div",8)(7,"div",11),t._UZ(8,"input",12),t.ALo(9,"mytranslate"),t.TgZ(10,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.togglePassword())}),t.YNc(11,Na,4,0,"span",2),t.YNc(12,Un,6,0,"span",2),t.qZA()(),t.YNc(13,Nn,2,1,"div",14),t.qZA(),t.TgZ(14,"div",3)(15,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmChangeEmail())}),t.YNc(16,ja,7,0,"span",2),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(2),t.s9C("placeholder",t.lcZ(4,11,"lang_auto_nhap_email_moi")),t.xp6(2),t.Q6J("ngIf",e.form.controls.email.errors&&e.form.controls.email.dirty),t.xp6(3),t.s9C("placeholder",t.lcZ(9,13,"lang_auto_mat_khau")),t.Q6J("type",e.showPassword?"text":"password"),t.xp6(3),t.Q6J("ngIf",e.showPassword),t.xp6(1),t.Q6J("ngIf",!e.showPassword),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(18,15,"lang_button_confirm")," ")}}function ti(n,c){if(1&n&&(t.TgZ(0,"div")(1,"div",31)(2,"div",32)(3,"p",33),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"b"),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),t.xp6(3),t.Oqu(e.oldEmail),t.xp6(1),t.hij(" ",t.lcZ(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let Qn=(()=>{class n extends k.Q{confirmChangeEmail(){this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeEmailByPasswordPost({newEmail:this.form.controls.email.value,password:this.form.controls.password.value}).subscribe(i=>{if(1==i.success){let a=i.data?.value;if(a){this.successStatusObj("lang_auth_email_changed_successfully",!0);let u=this.userService.getUserObj();u.email=a,this.userService.saveUserObj(u),this.localStorageObject.clearAllCache(),this.backToRedirect()}else this.errorStatusObj("lang_auto_vui_long_nhap_email",!0)}else this.errorStatusObj(i.message??"",!0)})))}backToRedirect(){let e=this.getMyQueryParam("return_url");e&&this.myNavigation(e)}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,i,a){super(),this.userInfoService=e,this.localStorageObject=i,this.userService=a,this.step=1,this.oldEmail="",this.showPassword=!1,this.form=new o.cw({email:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.email,o.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),password:new o.NI("",{nonNullable:!0,validators:[o.kI.required]})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.$C),t.Y36(le.y),t.Y36($.U))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-account"]],features:[t.qOj],decls:13,vars:8,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","email","formControlName","email",1,"form-control",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","w-full",3,"disabled","click"],[1,"text-xs","text-danger","font-medium","mt-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(i,a){1&i&&(t.TgZ(0,"auth-layout")(1,"h2",0),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",1),t.YNc(5,jn,19,17,"div",2),t.YNc(6,ti,10,7,"div",2),t.TgZ(7,"div",3)(8,"a",4),t.NdJ("click",function(){return a.backToRedirect()}),t.O4$(),t.TgZ(9,"svg",5),t._UZ(10,"polyline",6),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_doi_email_moi")," "),t.xp6(3),t.Q6J("ngIf",1==a.step),t.xp6(1),t.Q6J("ngIf",!a.statusObj.loading&&2==a.step),t.xp6(5),t.hij(" ",t.lcZ(12,6,"lang_auto_quay_lai")," "))},dependencies:[w.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Zt.M,Pt,b.JV],encapsulation:2})}return n})(),Qa=(()=>{class n extends k.Q{get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")??""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(e=>{if(1==e.success){let i=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+e?.data?.app;window.location.href=i.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(e){super(),this.userInfoService=e}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.$C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-checking-service"]],features:[t.qOj],decls:4,vars:3,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(i,a){1&i&&(t.TgZ(0,"h2",0),t._UZ(1,"span",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&i&&(t.xp6(2),t.hij("\xa0 ",t.lcZ(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[b.JV],encapsulation:2})}return n})();function Dn(n,c){1&n&&t._UZ(0,"azt-loading-effect")}let Da=(()=>{class n extends k.Q{chooseRegisterStudent(){let e=this.commonService.getMyQueryParam("return_url");e&&(e.includes("/vi")||e.includes("/en"))&&(e=e.substring(3)),this.myNavigation(e||"/student/dashboard/0")}chooseRegisterTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(e=>{if(1==e.success){let i=this.commonService.getMyQueryParam("return_url");i&&(i.includes("/vi")||i.includes("/en"))&&(i=i.substring(3)),this.myNavigation(i||"/admin/dashboard")}else this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(e,i){super(),this.userInfoService=e,this.redirectByRoleService=i}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.$C),t.Y36(Ot.C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-download-answer-sheet"]],features:[t.qOj],decls:30,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"convertCdnLinkOfGitHub"),t.TgZ(8,"h3",7),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",8)(12,"div",9),t.YNc(13,Dn,1,0,"azt-loading-effect",10),t.TgZ(14,"div",11),t.NdJ("click",function(){return a.chooseRegisterStudent()}),t.TgZ(15,"div",12),t.O4$(),t.TgZ(16,"svg",13),t._UZ(17,"path",14)(18,"path",15),t.qZA(),t.kcU(),t.TgZ(19,"p"),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()(),t.TgZ(22,"div",16),t.NdJ("click",function(){return a.chooseRegisterTeacher()}),t.TgZ(23,"div",12),t._UZ(24,"img",17),t.ALo(25,"convertCdnLinkOfGitHub"),t.TgZ(26,"p"),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()()()()()(),t._UZ(29,"div",2),t.qZA()()),2&i&&(t.xp6(6),t.Q6J("src",t.lcZ(7,6,"images/logo.svg"),t.LSH),t.xp6(3),t.Oqu(t.lcZ(10,8,"lang_auto_chon_vai_tro")),t.xp6(4),t.Q6J("ngIf",a.statusObj.loading),t.xp6(7),t.Oqu(t.lcZ(21,10,"lang_auto_toi_la_hoc_sinh")),t.xp6(4),t.Q6J("src",t.lcZ(25,12,"images/teacher.png"),t.LSH),t.xp6(3),t.Oqu(t.lcZ(28,14,"lang_auto_toi_la_giao_vien")))},dependencies:[w.O5,dt.l,b.JV,b.Bo],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]})}return n})();function ei(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",14)(9,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.ignoreRequest())}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmPassword())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(2),t.xDo(" ",t.lcZ(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',t.lcZ(4,9,"lang_auto_xac_nhan"),'" ',t.lcZ(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',t.lcZ(6,13,"lang_auto_huy"),'" ',t.lcZ(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),t.xp6(8),t.hij(" ",t.lcZ(11,17,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(14,19,"lang_cms_common_confirm_btn")," "))}function Ra(n,c){1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_cms_common_loading"),"..."))}const Fa=function(n){return[n]},za=function(){return{user_click:"true"}};function Ja(n,c){1&n&&(t.TgZ(0,"div",22)(1,"div",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",24)(5,"div",25)(6,"a",26),t.ALo(7,"localize"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(10,Fa,t.lcZ(7,6,"/auth/login")))("queryParams",t.DdM(12,za)),t.xp6(2),t.Oqu(t.lcZ(9,8,"lang_auto_dang_nhap_tai_khoan")))}function ni(n,c){if(1&n&&(t.TgZ(0,"div",22)(1,"div",27),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",t.lcZ(4,5,e.hasErrorMessage),"",t.lcZ(5,7,"lang_auto__vui_long_thu_lai_sau")," ")}}function Ba(n,c){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ja,10,13,"div",20),t.YNc(2,ni,6,9,"ng-template",null,21,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",!i.hasErrorMessage)("ngIfElse",e)}}let Rn=(()=>{class n extends k.Q{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var i={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(i).subscribe(a=>{1==a.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=a.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,i){super(),this.redirectByRoleService=e,this.smsService=i,this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ot.C),t.Y36(Q.tr))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password-email"]],features:[t.qOj],decls:17,vars:6,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6)(7,"div",7)(8,"span",8),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",9)(12,"div"),t.YNc(13,ei,15,21,"div",10),t.qZA(),t.YNc(14,Ra,6,3,"div",11),t.YNc(15,Ba,4,2,"div",11),t.qZA()()(),t._UZ(16,"div",3),t.qZA()()()),2&i&&(t.xp6(9),t.Oqu(t.lcZ(10,4,"lang_auto_doi_mat_khau_moi")),t.xp6(4),t.Q6J("ngIf",1==a.step),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!a.statusObj.loading&&2==a.step))},dependencies:[p.rH,w.O5,Et.lW,Y.lO,b.JV],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']})}return n})();var Fn=g(33182),ue=g(60752),zn=g(47394);let oi=(()=>{class n{get windowRef(){return window}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();const Jn=["verifyCode"];function Va(n,c){1&n&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Bn(n,c){if(1&n&&(t.TgZ(0,"div",7)(1,"label",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij("*** ",t.lcZ(3,1,e.statusObj.errorMessage),"")}}function ii(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.resendCode())}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_khong_nhan_duoc_ma_xac_thuc")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_auto_gui_lai")))}function Vn(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",35),t._uU(2,"\xa0"),t.qZA())}const Ya=function(n){return{"margin-left":n}};let Ga=(()=>{class n extends k.Q{getInitApp(){return this.app}getAuthApp(){return(0,ue.v0)(this.app)}getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,i){return!!this.form.controls[e].errors?.[i]&&this.form.controls[e].errors?.[i]}get firebaseApp(){return this.commonService.getMyQueryParam("app_name")??""}get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}skipVerifyPhone(){var e=Math.round((new Date).getTime()/1e3);if(this.browserStorageService.saveSimpleStorage("skip_verify_phone",e.toString()),this.redirectByRoleService.redirectLoginByRole(""),"confirm_phone_register"==this.getConfirmType())this.commonService.myNavigation("/admin/student/manage-class/0");else{let a=this.getMyQueryParam("return_url")??"";this.commonService.myNavigation(a)}}handleConfirmUsage(){const e=this.form.value.phone??"";let i=this.getConfirmType();if(""!=e)switch(i){case"forgot_password":this.userInfoService.apiUserInfoCheckPhoneExistsGet(e).subscribe(a=>{1==a.success?this.sendLoginCode("+84"+e.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())});break;case"change_phone":this.userInfoService.apiUserInfoCheckPhoneExistsGet(e).subscribe(a=>{1!=a.success?this.sendLoginCode("+84"+e.slice(1)):(this.showErrorSnack("lang_core_duplicated_phone"),this.reRenderCaptcha())});break;default:this.userInfoService.apiUserInfoCheckUpdatePhoneExistsGet(e).subscribe(a=>{1!=a.success?this.sendLoginCode("+84"+e.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())})}else this.showErrorSnack("lang_auto_vui_long_nhap_so_dien_thoai"),this.reRenderCaptcha()}sendLoginCode(e){const i=this.windowRef.recaptchaVerifier;(0,ue.$g)(this.getAuthApp(),e,i).then(a=>{this.windowRef.confirmationResult=a,this.smsSent=!0,this.timeOut=180,this.countDownTime()}).catch(a=>{console.log(a),"auth/quota-exceeded"==a.code?this.userInfoService.apiUserInfoFirebaseOverQuotaGet(this.firebaseApp).subscribe(u=>{1==u.success?this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(_=>{if(1==_.success)if(_?.data?.app!==this.firebaseApp){var f=this.commonService.getMyQueryParam("interval_app");if(f&&f!=_?.data?.app){f=f||(_?.data?.app??"");let x=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+_?.data?.app+"&interval_app="+f;window.location.href=x.toString()}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN")}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN");else this.showErrorSnack("lang_auto_khong_lay_duoc_thong_tin_FirebaseApp")}):this.showErrorSnack("lang_auto_khong_danh_dau_duoc_firebase_het_quoata")}):(this.smsSent=!1,this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(u=>{this.showErrorSnack(u+" | "+a.code)}))})}verify_code(e){this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(e).then(i=>{this.isVerifying=!1;const a=i.user;let u=this.getConfirmType();"forgot_password"===u?this.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+this.firebaseApp+"&token="+encodeURIComponent(a.accessToken)):this.userInfoService.apiUserInfoUpdatePhoneOrPasswordByFirebasePost({firebaseToken:a.accessToken,password:"",appName:this.firebaseApp}).subscribe(f=>{1==f.success?(this.showSuccessSnack("lang_auto_cap_nhat_so_dien_thoai_thanh_cong"),"confirm_phone_register"==u?this.commonService.myNavigation("/admin/student/manage-class/0"):this.redirectByRoleService.redirectLoginByRole("")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(x=>{this.showErrorSnack(x+" | "+f.message)})})}).catch(i=>{console.log(i),this.isVerifying=!1,this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(a=>{this.showErrorSnack(a+" | "+i.code)})})):(this.isVerifying=!1,this.showErrorSnack("lang_auto_ma_xac_thuc_khong_dung_vui_long_kiem_tra_lai"))}resendCode(){this.reRenderCaptcha(),document.getElementById("recaptcha-container")?.click()}countDownTime(){void 0!==this.myCountDown&&clearInterval(this.myCountDown),this.myCountDown=window.setInterval(()=>{this.timeOut>0&&this.timeOut--},1e3)}initForm(){this.form=new o.cw({phone:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.minLength(10),o.kI.maxLength(10),o.kI.pattern(/^[0-9]*$/)]})})}handleClickLogout(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.redirectByRoleService.redirectLoginByRole(""):(this.userService.logout(),this.redirectService.redirectSimpleLogin())}reRenderCaptcha(){}handleEnterVerify(e,i){"Enter"==e.key&&this.verify_code(i)}ngOnInit(){let e=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=e&&this.userInfoService.apiUserInfoInfoGet().subscribe(i=>{1==i.success?1==i?.new_user?.isVerifyPhone?"change_phone"!=e&&this.redirectByRoleService.redirectLoginByRole(""):i?.new_user?.phone&&i?.new_user?.phone.length<=10?this.form.setValue({phone:""}):(this.form.setValue({phone:""}),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(a=>{this.showErrorSnack(a+(i.message?" | "+i.message:""))})}),e){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}super.ngOnInit()}ngAfterViewInit(){if(this.windowRef=this.window.windowRef,this.windowRef.recaptchaVerifier=new ue.lI("recaptcha-container",{size:"invisible",callback:()=>{this.handleConfirmUsage()}},this.getAuthApp()),this.windowRef.recaptchaVerifier.render().then(e=>{this.windowRef.recaptchaWidgetId=e}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){let e=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",i=>this.handleEnterVerify(i,e))}}constructor(e,i,a,u,_,f){super(),this.window=e,this.redirectByRoleService=i,this.userService=a,this.userInfoService=u,this.redirectService=_,this.browserStorageService=f,this.subscriptions=new zn.w0,this.form=new o.cw({phone:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.minLength(10),o.kI.maxLength(10),o.kI.pattern(/^[0-9]*$/)]})}),this.confirm_type="forgot_password",this.isVerifying=!1,this.smsSent=!1,this.timeOut=180,this.captchaWidgetId="",this.isLoading=!0,this.app=(0,Fn.ZF)(ut.N[`firebaseConfig_${this.firebaseApp}`],"confirm_account"),this.getAuthApp().useDeviceLanguage()}ngOnDestroy(){if(clearInterval(this.myCountDown),this.verifyCode){let e=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",i=>this.handleEnterVerify(i,e))}super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(oi),t.Y36(Ot.C),t.Y36($.U),t.Y36(Q.$C),t.Y36(K.z),t.Y36(Ie.n))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-account"]],viewQuery:function(i,a){if(1&i&&t.Gf(Jn,5),2&i){let u;t.iGM(u=t.CRH())&&(a.verifyCode=u.first)}},features:[t._Bn([oi]),t.qOj],decls:56,vars:45,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"card-body","mt-2"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group"],["id","phoneInput","type","text","formControlName","phone","name","phone","autocomplete","off",1,"form-control",3,"placeholder"],["phoneInput",""],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],["id","recaptcha-container",1,"btn","btn-primary","w-full","mt-3",3,"disabled"],[1,"mt-3","mb-2","text-center"],["azt-track-service","confirm_account-_jpaWEGGur",1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],[1,"input-group","mb-3"],["type","string","autocomplete","off",1,"form-control",3,"placeholder"],["verifyCode",""],[1,"input-group-append","ml-1"],["azt-track-service","confirm_account-S4DltugIno","id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-left","mt-3"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c456","","_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["azt-track-service","confirm_account-kCDyjoqLEl",1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(i,a){if(1&i){const u=t.EpF();t.TgZ(0,"auth-layout")(1,"div",0)(2,"h2",1),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"div",9),t._UZ(14,"input",10,11),t.ALo(16,"mytranslate"),t.qZA(),t.YNc(17,Va,3,3,"div",12),t.TgZ(18,"button",13),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14)(22,"a",15),t.NdJ("click",function(){return a.skipVerifyPhone()}),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()(),t.YNc(25,Bn,4,3,"div",16),t.qZA()(),t.TgZ(26,"div",17)(27,"div",8)(28,"div",18),t._uU(29),t.ALo(30,"mytranslate"),t.TgZ(31,"b"),t._uU(32),t.qZA(),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t.TgZ(35,"div",19),t._uU(36),t.qZA(),t.YNc(37,ii,6,6,"div",20),t.TgZ(38,"div",21),t._UZ(39,"input",22,23),t.ALo(41,"mytranslate"),t.TgZ(42,"div",24)(43,"button",25),t.NdJ("click",function(){t.CHM(u);const f=t.MAs(40);return t.KtG(a.verify_code(f.value))}),t.YNc(44,Vn,3,0,"span",26),t._uU(45),t.ALo(46,"mytranslate"),t.qZA()()()()()(),t._UZ(47,"hr"),t.TgZ(48,"div",27)(49,"a",28),t.NdJ("click",function(){return a.handleClickLogout()}),t.O4$(),t.TgZ(50,"svg",29),t._UZ(51,"polyline",30),t.qZA(),t._uU(52),t.ALo(53,"mytranslate"),t.ALo(54,"mytranslate"),t.ALo(55,"mytranslate"),t.qZA()()()()()}if(2&i){const u=t.MAs(40);t.xp6(3),t.hij(" ","change_phone"==a.confirm_type?t.lcZ(4,19,"lang_auto_doi_so_diem_thoai_moi"):t.lcZ(5,21,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),t.xp6(5),t.Q6J("ngStyle",t.VKq(43,Ya,a.smsSent?"-100%":"0")),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(4),t.s9C("placeholder",t.lcZ(16,23,"lang_auto_nhap_so_dien_thoai_moi")),t.xp6(3),t.Q6J("ngIf",(a.form.controls.phone.dirty||a.form.controls.phone.touched)&&a.form.controls.phone.errors),t.xp6(1),t.Q6J("disabled",a.form.errors),t.xp6(1),t.hij(" ",t.lcZ(20,25,"lang_auto_tiep_tuc")," "),t.xp6(4),t.Oqu(t.lcZ(24,27,"lang_auto_bo_qua")),t.xp6(2),t.Q6J("ngIf",a.statusObj.errorMessage),t.xp6(4),t.hij(" ",t.lcZ(30,29,"lang_auto_mot_tin_nhan_chua_ma_xac_thuc_vua_duoc_gui_toi_so_dien_thoai")," "),t.xp6(3),t.Oqu(a.form.value.phone),t.xp6(1),t.hij("",t.lcZ(34,31,"lang_auto__vui_long_nhap_ma_nay_vao_o_duoi_day_roi_an_xac_thuc")," "),t.xp6(3),t.hij("",a.timeOut," s"),t.xp6(1),t.Q6J("ngIf",0==a.timeOut),t.xp6(2),t.s9C("placeholder",t.lcZ(41,33,"lang_auto_ma_xac_thuc")),t.xp6(4),t.Q6J("disabled",""==u.value||a.isVerifying),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(46,35,"lang_auto_xac_thuc")," "),t.xp6(7),t.hij(" ","forgot_password"==a.confirm_type?t.lcZ(53,37,"lang_auto_dang_nhap_tai_khoan"):"change_phone"==a.confirm_type?t.lcZ(54,39,"lang_auto_quay_lai_man_hinh_chinh"):t.lcZ(55,41,"lang_auto_dang_xuat")," ")}},dependencies:[w.O5,w.PC,o._Y,o.Fj,o.JJ,o.JL,Et.lW,o.sg,o.u,Zt.M,Pt,b.JV],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]})}return n})();var Yn=g(940);function Gn(n,c){1&n&&(t.TgZ(0,"h2",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_quen_mat_khau")," "))}function ai(n,c){1&n&&(t.TgZ(0,"div",29)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function ri(n,c){if(1&n&&(t.TgZ(0,"div",29)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.msgError)}}function Ka(n,c){1&n&&(t.TgZ(0,"span",30),t._UZ(1,"lucide-icon",31),t.qZA())}function Wa(n,c){1&n&&(t.TgZ(0,"span",30),t._UZ(1,"lucide-icon",32),t.qZA())}function Ha(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function si(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Kn(n,c){if(1&n&&(t.TgZ(0,"div",29),t.YNc(1,Ha,3,3,"span",3),t.YNc(2,si,3,3,"span",3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.minlength)}}function $a(n,c){1&n&&(t.TgZ(0,"span",22),t._UZ(1,"azt-loading-ui",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("type","oval"))}const Kt=function(n){return[n]},Xa=function(n){return{return_url:n}},Ue=function(){return{user_click:"true"}};function Kr(n,c){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"input",7),t.NdJ("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkValidateUser(a.form.controls.emailOrPhone.value))}),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,ai,4,3,"div",8),t.YNc(6,ri,3,1,"div",8),t.qZA(),t.TgZ(7,"div",9),t._UZ(8,"input",10),t.ALo(9,"mytranslate"),t.TgZ(10,"button",11),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.togglePassword())}),t.YNc(11,Ka,2,0,"span",12),t.YNc(12,Wa,2,0,"span",12),t.qZA(),t.YNc(13,Kn,3,2,"div",8),t.qZA()(),t.TgZ(14,"div",13)(15,"a",14),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",15)(19,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changePassword())}),t.YNc(20,$a,2,1,"span",17),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()(),t.TgZ(23,"div",18)(24,"span",19),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()(),t.TgZ(27,"div",20)(28,"button",21),t.ALo(29,"localize"),t.TgZ(30,"span",22),t._UZ(31,"lucide-icon",23),t.qZA(),t.TgZ(32,"span",24),t._uU(33),t.ALo(34,"mytranslate"),t.qZA()()(),t.TgZ(35,"div",25)(36,"a",26),t.ALo(37,"localize"),t.TgZ(38,"span",27),t._UZ(39,"lucide-icon",28),t.qZA(),t._uU(40),t.ALo(41,"mytranslate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,19,"lang_auto_email_hoac_so_dien_thoai")),t.xp6(2),t.Q6J("ngIf",e.form.controls.emailOrPhone.errors&&(e.form.controls.emailOrPhone.dirty||e.form.controls.emailOrPhone.touched)&&!e.checkValidateUsername),t.xp6(1),t.Q6J("ngIf",e.checkValidateUsername),t.xp6(2),t.s9C("type",e.showPassword?"text":"password"),t.s9C("placeholder",t.lcZ(9,21,"lang_auto_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",e.showPassword),t.xp6(1),t.Q6J("ngIf",!e.showPassword),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(3),t.hij(" ",t.lcZ(17,23,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),t.xp6(3),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(22,25,"lang_auto_tiep_tuc")," "),t.xp6(4),t.hij(" ",t.lcZ(26,27,"lang_auto_hoac")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(37,Kt,t.lcZ(29,29,"/auth/confirm_forgot_password_qr")))("queryParams",t.VKq(39,Xa,e.backLink)),t.xp6(5),t.hij(" ",t.lcZ(34,31,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(41,Kt,t.lcZ(37,33,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(43,Ue)),t.xp6(4),t.hij(" ",t.lcZ(41,35,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Wn(n,c){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",34)(2,"div",35)(3,"div",36),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",37),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()(),t.TgZ(9,"div",38)(10,"ng-otp-input",39),t.NdJ("onInputChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.onOtpChange(a))}),t.qZA()(),t.TgZ(11,"div",40)(12,"div",41)(13,"span",42),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"span",43),t._uU(17),t.qZA()()(),t.TgZ(18,"div",44)(19,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.verifyOTP())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()(),t.TgZ(22,"div",25)(23,"a",46),t.ALo(24,"localize"),t.TgZ(25,"span",27),t._UZ(26,"lucide-icon",28),t.qZA(),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,9,"lang_auth_otp_verification")," "),t.xp6(3),t.hij(" ",t.lcZ(8,11,"lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")," "),t.xp6(3),t.Q6J("config",e.config),t.xp6(4),t.Oqu(t.lcZ(15,13,"lang_auth_the_code_will_expire_in")+":"),t.xp6(3),t.hij(" ",e.displayTime," "),t.xp6(3),t.hij(" ",t.lcZ(21,15,"lang_cms_common_confirm_btn")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(21,Kt,t.lcZ(24,17,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(23,Ue)),t.xp6(4),t.hij(" ",t.lcZ(28,19,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Wr(n,c){if(1&n&&(t.ynx(0),t.TgZ(1,"div",47)(2,"div",48),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",49)(6,"a",50),t.ALo(7,"localize"),t.TgZ(8,"span",27),t._UZ(9,"lucide-icon",28),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(10,Kt,t.lcZ(7,6,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(12,Ue)),t.xp6(4),t.hij(" ",t.lcZ(11,8,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Hr(n,c){if(1&n&&(t.ynx(0),t.TgZ(1,"div",51)(2,"div",52)(3,"span",53),t._UZ(4,"lucide-icon",54),t.qZA()(),t.TgZ(5,"div",55),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",56),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b"),t._uU(12),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"div",49)(16,"div",57)(17,"a",58),t.ALo(18,"localize"),t.TgZ(19,"span",27),t._UZ(20,"lucide-icon",28),t.qZA(),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,7,"lang_auto_kiem_tra_email_cua_ban")," "),t.xp6(3),t.hij(" ",t.lcZ(10,9,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),t.xp6(3),t.Oqu(e.form.controls.emailOrPhone.value),t.xp6(1),t.hij(" ",t.lcZ(14,11,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(17,Kt,t.lcZ(18,13,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(19,Ue)),t.xp6(4),t.hij(" ",t.lcZ(22,15,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Ne(n,c){if(1&n&&(t.ynx(0),t.TgZ(1,"div",59)(2,"div",52)(3,"span",53),t._UZ(4,"lucide-icon",60),t.qZA()(),t.TgZ(5,"div",55),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",61),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",38)(12,"div",57)(13,"a",58),t.ALo(14,"localize"),t.TgZ(15,"span",27),t._UZ(16,"lucide-icon",28),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,5,"lang_auth_password_changed")," "),t.xp6(3),t.hij(" ",t.lcZ(10,7,"lang_auth_your_password_has_been_changed_successfully")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(13,Kt,t.lcZ(14,9,e.backLink?e.backLink:"/auth/login")))("queryParams",t.DdM(15,Ue)),t.xp6(4),t.hij(" ",t.lcZ(18,11,e.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}let tr=(()=>{class n extends k.Q{randomPhone(e){if(e.includes(",")){let i=e.split(",");return i[this.commonService.getRandomNumber(0,i.length-1)]}return e}onOtpChange(e){this.otp=e}togglePassword(){this.showPassword=!this.showPassword}changePassword(){if(this.form.valid){this.initStatusObj();var e=this.getFormValue(),i={phone:e.emailOrPhone,password:e.password};this.executeImportantAction().then(()=>{this.smsService.apiSmsChangePassPost(i).subscribe(a=>{1==a.success?(this.successStatusObj(),e.emailOrPhone.includes("@")?this.step=5:(this.step=2,this.tokenChangePass=a.data?.value??"",this.dataChangePass=i,this.durationOtp=300,this.timer(this.durationOtp),this.browserStorageService.saveSimpleStorage("duration_otp_forgot_password",this.durationOtp.toString()),this.browserStorageService.saveSimpleStorage("token_forgot_password",this.tokenChangePass.toString()))):this.errorStatusObj(a.message??"",!0)})})}else this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}verifyOTP(){6===this.otp.length?this.subscriptions.add(this.smsService.apiSmsConfirmChangePassByPhoneOtpPost({otp:this.otp,secret:this.tokenChangePass}).subscribe(e=>{1===e.success?(this.step=6,this.browserStorageService.removeSimpleStorage("duration_otp_forgot_password"),this.browserStorageService.removeSimpleStorage("token_forgot_password")):this.errorStatusObj(e.message??"",!0)})):this.showErrorSnack("lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(e=>{1==e.success?(this.successStatusObj(),this.phoneSend=this.randomPhone(e.data?.phone??"")):this.errorStatusObj(e.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(e=>{this.currentMessage=e}),this.step=3,this.loopCheck=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(this.dataChangePass?.phone??"").subscribe(e=>{1==e.success?(this.successStatusObj(),1==e.data?.status&&(this.step=4,clearInterval(this.loopCheck))):(this.errorStatusObj(e.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(i=>{this.currentMessage=i}),clearInterval(this.loopCheck))})},1e3)}checkValidateUser(e){this.msgError="",isNaN(Number(e))?this.validateEmail(e)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0):10==e.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0)}saveRemaining(e){e&&!isNaN(e)&&this.browserStorageService.saveSimpleStorage("duration_otp_forgot_password",e.toString())}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}executeImportantAction(){return new Promise(e=>{this.recaptchaV3Service.execute("importantAction").subscribe(i=>{e(i)})})}getFormValue(){return this.form.getRawValue()}timer(e){let i="0",a=e%60;const u=e/60<10?"0":"",_=setInterval(()=>{e--,0!=a?a--:a=e%60,i=a<10?"0"+a:a,this.displayTime=`${u}${Math.floor(e/60)}:${i}`,this.saveRemaining(e),0==e&&(clearInterval(_),this.browserStorageService.removeSimpleStorage("duration_otp_forgot_password"),this.browserStorageService.removeSimpleStorage("token_forgot_password"))},1e3)}ngOnInit(){super.ngOnInit(),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone();const e=this.browserStorageService.getSimpleStorage("token_forgot_password"),i=this.browserStorageService.getSimpleStorage("duration_otp_forgot_password")??"0";this.durationOtp=Number(i),e&&this.durationOtp>0&&(this.tokenChangePass=e,this.step=2,this.timer(this.durationOtp))}constructor(e,i,a){super(),this.smsService=e,this.browserStorageService=i,this.recaptchaV3Service=a,this.backLink="",this.step=1,this.currentMessage="",this.phoneSend="",this.isOnApp=!1,this.isCheckIos=!1,this.tokenChangePass="",this.checkValidateUsername=!1,this.msgError="",this.showPassword=!1,this.otp="",this.durationOtp=0,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:""},this.displayTime="",this.form=new o.cw({emailOrPhone:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),hash:new o.NI("",{nonNullable:!0}),password:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.minLength(6)]}),confirm_password:new o.NI("",{nonNullable:!0})})}ngOnDestroy(){this.loopCheck&&clearInterval(this.loopCheck),super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.tr),t.Y36(Ie.n),t.Y36(Yn.YC))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"azt-forget-password"],[3,"formGroup"],["class","intro-x font-bold text-2xl text-center",4,"ngIf"],[4,"ngIf"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","lucide dark:text-slate-500 w-6 h-6 inline-block",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],[1,"w-4","h-4","inline-block","mr-2"],["name","scan-line"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams"],[1,"w-4","h-4","mr-1","inline-block"],["name","chevron-left"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"lucide","dark:text-slate-500","w-6","h-6","inline-block"],["name","eye"],["name","eye-off"],[3,"type"],[1,"opt","intro-x"],[1,"otp-head"],[1,"font-medium","text-lg"],[1,"text-slate-500","mt-0.5"],[1,"text-center","mt-5"],[3,"config","onInputChange"],[1,"flex","items-center","mt-4"],[1,"ml-auto"],[1,""],[1,"font-medium","text-danger","inline-block","ml-2"],[1,"mt-5"],[1,"btn","btn-primary","w-full",3,"click"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200","flex","items-center","flex","items-center",3,"routerLink","queryParams"],[1,"index-x","box","p-5","mt-8"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"routerLink","queryParams"],[1,"index-x","mt-8"],[1,"text-center"],[1,"w-16","h-16","mx-auto","inline-block","text-success"],["name","mail-check"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"routerLink","queryParams"],[1,"index-x","mt-5"],["name","check-circle"],[1,"text-md","mt-1","px-5","text-center"]],template:function(i,a){1&i&&(t.TgZ(0,"auth-layout")(1,"div",0)(2,"form",1),t.YNc(3,Gn,3,3,"h2",2),t.YNc(4,Kr,42,44,"ng-container",3),t.YNc(5,Wn,29,24,"ng-container",3),t.YNc(6,Wr,12,13,"ng-container",3),t.YNc(7,Hr,23,20,"ng-container",3),t.YNc(8,Ne,19,16,"ng-container",3),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(1),t.Q6J("ngIf",2!==a.step&&6!==a.step),t.xp6(1),t.Q6J("ngIf",1==a.step),t.xp6(1),t.Q6J("ngIf",2==a.step||3==a.step),t.xp6(1),t.Q6J("ngIf",!a.statusObj.loading&&4==a.step),t.xp6(1),t.Q6J("ngIf",5==a.step),t.xp6(1),t.Q6J("ngIf",6==a.step))},dependencies:[p.rH,w.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Zt.M,te.n,Pt,z.Nh5,H,Y.lO,b.JV]})}return n})();function er(n,c){1&n&&(t.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_cms_common_loading"),"..."))}function nr(n,c){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Hn(n,c){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,nr,3,3,"div",10),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required")||e.getErrorType("password","minlength"))}}function mt(n,c){if(1&n&&(t.TgZ(0,"div",14)(1,"label",28),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("*** ",t.lcZ(3,1,e.statusObj.errorMessage),"")}}function or(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",29),t._uU(2,"\xa0"),t.qZA())}const Ct=function(n){return[n]},ir=function(){return{user_click:"true"}};function ci(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),t._UZ(4,"input",17),t.ALo(5,"mytranslate"),t.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),t._uU(9,"lock"),t.qZA()()()(),t.YNc(10,Hn,2,1,"div",20),t.qZA()(),t.YNc(11,mt,4,3,"div",21),t.TgZ(12,"div",22)(13,"div",15)(14,"div",23)(15,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.form.invalid||a.statusObj.loading||a.changePassword())}),t.YNc(16,or,3,0,"span",10),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()(),t._UZ(19,"hr"),t.TgZ(20,"div",25)(21,"a",26),t.ALo(22,"localize"),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.s9C("placeholder",t.lcZ(5,9,"lang_auto_mat_khau_moi")),t.xp6(6),t.Q6J("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",e.statusObj.errorMessage),t.xp6(4),t.Q6J("disabled",e.form.invalid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(18,11,"lang_auto_doi_mat_khau")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(17,Ct,t.lcZ(22,13,"/auth/login")))("queryParams",t.DdM(19,ir)),t.xp6(2),t.Oqu(t.lcZ(24,15,"lang_auto_dang_nhap_tai_khoan"))}}let ar=(()=>{class n extends k.Q{getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,i){return!!this.form.controls[e].errors?.[i]&&this.form.controls[e].errors?.[i]}getFormValue(){return this.form.getRawValue()}changePassword(){if(this.form.valid){var e=this.getFormValue(),i=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(i??"",e.password).subscribe(a=>{1==a.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(a.message??"")}))}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,i){super(),this.redirectByRoleService=e,this.userInfoService=i,this.form=new o.cw({emailOrPhone:new o.NI("",{nonNullable:!0}),hash:new o.NI("",{nonNullable:!0}),password:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.minLength(6)]}),confirm_password:new o.NI("",{nonNullable:!0})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ot.C),t.Y36(Q.$C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password-admin"]],features:[t.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.ALo(6,"convertCdnLinkOfGitHub"),t.TgZ(7,"div",6)(8,"div",7)(9,"span",8),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",9),t.YNc(13,er,6,3,"div",10),t.YNc(14,ci,25,20,"div",10),t.qZA()()(),t._UZ(15,"div",3),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.Q6J("src",t.lcZ(6,5,"images/logo.svg"),t.LSH),t.xp6(5),t.Oqu(t.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!a.statusObj.loading))},dependencies:[p.rH,w.O5,o._Y,o.Fj,o.JJ,o.JL,Et.lW,Yt.Hw,o.sg,o.u,Zt.M,Y.lO,b.JV,b.Bo],encapsulation:2})}return n})();var Qe=g(9280),ot=g(15861);const $n=(()=>{class n{constructor(e,i,a,u,_){this._legacyCanvasSize=n.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),a&&"object"==typeof a?this._onDecode=i:(console.warn(a||u||_?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=i),this._onDecodeError=(i="object"==typeof a?a:{}).onDecodeError||("function"==typeof a?a:this._onDecodeError),this._calculateScanRegion=i.calculateScanRegion||("function"==typeof u?u:this._calculateScanRegion),this._preferredCamera=i.preferredCamera||_||this._preferredCamera,this._legacyCanvasSize="number"==typeof a?a:"number"==typeof u?u:this._legacyCanvasSize,this._maxScansPerSecond=i.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let f=!1;if(e.hidden&&(e.hidden=!1,f=!0),document.body.contains(e)||(document.body.appendChild(e),f=!0),a=e.parentElement,i.highlightScanRegion||i.highlightCodeOutline){if(u=!!i.overlay,this.$overlay=i.overlay||document.createElement("div"),(_=this.$overlay.style).position="absolute",_.display="none",_.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!u&&i.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}a.insertBefore(this.$overlay,this.$video.nextSibling)}i.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let x=window.getComputedStyle(e);"none"===x.display&&(e.style.setProperty("display","block","important"),f=!0),"visible"!==x.visibility&&(e.style.setProperty("visibility","visible","important"),f=!0),f&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=n.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,ot.Z)(function*(){try{return!!(yield n.listCameras(!1)).length}catch{return!1}})()}static listCameras(e=!1){return(0,ot.Z)(function*(){if(!navigator.mediaDevices)return[];let a,i=function(){var u=(0,ot.Z)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(_=>"videoinput"===_.kind)});return function(){return u.apply(this,arguments)}}();try{e&&(yield i()).every(u=>!u.label)&&(a=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield i()).map((u,_)=>({id:u.deviceId,label:u.label||(0===_?"Default Camera":`Camera ${_+1}`)}))}finally{a&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),n._stopVideoStream(a))}})()}hasFlash(){var e=this;return(0,ot.Z)(function*(){let i;try{if(e.$video.srcObject){if(!(e.$video.srcObject instanceof MediaStream))return!1;i=e.$video.srcObject}else i=(yield e._getCameraStream()).stream;return"torch"in i.getVideoTracks()[0].getSettings()}catch{return!1}finally{i&&i!==e.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),n._stopVideoStream(i))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var e=this;return(0,ot.Z)(function*(){e._flashOn?yield e.turnFlashOff():yield e.turnFlashOn()})()}turnFlashOn(){var e=this;return(0,ot.Z)(function*(){if(!e._flashOn&&!e._destroyed&&(e._flashOn=!0,e._active&&!e._paused))try{if(!(yield e.hasFlash()))throw"No flash available";yield e.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(i){throw e._flashOn=!1,i}})()}turnFlashOff(){var e=this;return(0,ot.Z)(function*(){e._flashOn&&(e._flashOn=!1,yield e._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),n._postWorkerMessage(this._qrEnginePromise,"close")}start(){var e=this;return(0,ot.Z)(function*(){if(e._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!e._active||e._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),e._active=!0,!document.hidden))if(e._paused=!1,e.$video.srcObject)yield e.$video.play();else try{let{stream:i,facingMode:a}=yield e._getCameraStream();!e._active||e._paused?n._stopVideoStream(i):(e._setVideoMirror(a),e.$video.srcObject=i,yield e.$video.play(),e._flashOn&&(e._flashOn=!1,e.turnFlashOn().catch(()=>{})))}catch(i){if(!e._paused)throw e._active=!1,i}})()}stop(){this.pause(),this._active=!1}pause(e=!1){var i=this;return(0,ot.Z)(function*(){if(i._paused=!0,!i._active)return!0;i.$video.pause(),i.$overlay&&(i.$overlay.style.display="none");let a=()=>{i.$video.srcObject instanceof MediaStream&&(n._stopVideoStream(i.$video.srcObject),i.$video.srcObject=null)};return e?(a(),!0):(yield new Promise(u=>setTimeout(u,300)),!!i._paused&&(a(),!0))})()}setCamera(e){var i=this;return(0,ot.Z)(function*(){e!==i._preferredCamera&&(i._preferredCamera=e,yield i._restartVideoStream())})()}static scanImage(e,i,a,u,_=!1,f=!1){return(0,ot.Z)(function*(){let x,L=!1;i&&("scanRegion"in i||"qrEngine"in i||"canvas"in i||"disallowCanvasResizing"in i||"alsoTryWithoutScanRegion"in i||"returnDetailedScanResult"in i)?(x=i.scanRegion,a=i.qrEngine,u=i.canvas,_=i.disallowCanvasResizing||!1,f=i.alsoTryWithoutScanRegion||!1,L=!0):console.warn(i||a||u||_||f?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),i=!!a;try{let F,W,Tt;if([a,F]=yield Promise.all([a||n.createQrEngine(),n._loadImage(e)]),[u,W]=n._drawToCanvas(F,x,u,_),a instanceof Worker){let X=a;i||n._postWorkerMessageSync(X,"inversionMode","both"),Tt=yield new Promise((xt,zt)=>{let Jt,Bt,Nt,ge=-1;Bt=bt=>{bt.data.id===ge&&(X.removeEventListener("message",Bt),X.removeEventListener("error",Nt),clearTimeout(Jt),null!==bt.data.data?xt({data:bt.data.data,cornerPoints:n._convertPoints(bt.data.cornerPoints,x)}):zt(n.NO_QR_CODE_FOUND))},Nt=bt=>{X.removeEventListener("message",Bt),X.removeEventListener("error",Nt),clearTimeout(Jt),zt("Scanner error: "+(bt?bt.message||bt:"Unknown Error"))},X.addEventListener("message",Bt),X.addEventListener("error",Nt),Jt=setTimeout(()=>Nt("timeout"),1e4);let lt=W.getImageData(0,0,u.width,u.height);ge=n._postWorkerMessageSync(X,"decode",lt,[lt.data.buffer])})}else Tt=yield Promise.race([new Promise((X,xt)=>window.setTimeout(()=>xt("Scanner error: timeout"),1e4)),(0,ot.Z)(function*(){try{var[X]=yield a.detect(u);if(!X)throw n.NO_QR_CODE_FOUND;return{data:X.rawValue,cornerPoints:n._convertPoints(X.cornerPoints,x)}}catch(xt){if(/not implemented|service unavailable/.test(X=xt.message||xt))return n._disableBarcodeDetector=!0,n.scanImage(e,{scanRegion:x,canvas:u,disallowCanvasResizing:_,alsoTryWithoutScanRegion:f});throw`Scanner error: ${X}`}})()]);return L?Tt:Tt.data}catch(F){if(!x||!f)throw F;let W=yield n.scanImage(e,{qrEngine:a,canvas:u,disallowCanvasResizing:_});return L?W:W.data}finally{i||n._postWorkerMessage(a,"close")}})()}setGrayscaleWeights(e,i,a,u=!0){n._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:i,blue:a,useIntegerApproximation:u})}setInversionMode(e){n._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static createQrEngine(e){return(0,ot.Z)(function*(){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>g.e(663).then(g.bind(g,23663)).then(a=>a.createWorker()),n._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return e();let i=navigator.userAgentData;return i&&i.brands.some(({brand:a})=>/Chromium/i.test(a))&&/mac ?OS/i.test(i.platform)&&(yield i.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:a,platformVersion:u})=>/arm/i.test(a||"arm")&&13<=parseInt(u||"13")).catch(()=>!0))?e():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let i=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-i)/2),y:Math.round((e.videoHeight-i)/2),width:i,height:i,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,i=e.videoWidth,a=e.videoHeight,u=e.offsetWidth,_=e.offsetHeight,f=e.offsetLeft,x=e.offsetTop,L=window.getComputedStyle(e),F=L.objectFit,W=i/a,Tt=u/_;switch(F){case"none":var X=i,xt=a;break;case"fill":X=u,xt=_;break;default:("cover"===F?W>Tt:W<Tt)?X=(xt=_)*W:xt=(X=u)/W,"scale-down"===F&&(X=Math.min(X,i),xt=Math.min(xt,a))}var[zt,Jt]=L.objectPosition.split(" ").map((Nt,ge)=>{const lt=parseFloat(Nt);return Nt.endsWith("%")?(ge?_-xt:u-X)*lt/100:lt});Tt=this._scanRegion.height||a,F=this._scanRegion.x||0;var Bt=this._scanRegion.y||0;(W=this.$overlay.style).width=(L=this._scanRegion.width||i)/i*X+"px",W.height=Tt/a*xt+"px",W.top=`${x+Jt+Bt/a*xt}px`,a=/scaleX\(-1\)/.test(e.style.transform),W.left=`${f+(a?u-zt-X:zt)+(a?i-F-L:F)/i*X}px`,W.transform=e.style.transform}})}static _convertPoints(e,i){if(!i)return e;let a=i.x||0,u=i.y||0,_=i.width&&i.downScaledWidth?i.width/i.downScaledWidth:1;i=i.height&&i.downScaledHeight?i.height/i.downScaledHeight:1;for(let f of e)f.x=f.x*_+a,f.y=f.y*i+u;return e}_scanFrame(){var e=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,ot.Z)(function*(){if(!(1>=e.$video.readyState)){var i=Date.now()-e._lastScanTimestamp,a=1e3/e._maxScansPerSecond;i<a&&(yield new Promise(_=>setTimeout(_,a-i))),e._lastScanTimestamp=Date.now();try{var u=yield n.scanImage(e.$video,{scanRegion:e._scanRegion,qrEngine:e._qrEnginePromise,canvas:e.$canvas})}catch(_){if(!e._active)return;e._onDecodeError(_)}!n._disableBarcodeDetector||(yield e._qrEnginePromise)instanceof Worker||(e._qrEnginePromise=n.createQrEngine()),u?(e._onDecode?e._onDecode(u):e._legacyOnDecode&&e._legacyOnDecode(u.data),e.$codeOutlineHighlight&&(clearTimeout(e._codeOutlineHighlightRemovalTimeout),e._codeOutlineHighlightRemovalTimeout=void 0,e.$codeOutlineHighlight.setAttribute("viewBox",`${e._scanRegion.x||0} ${e._scanRegion.y||0} ${e._scanRegion.width||e.$video.videoWidth} ${e._scanRegion.height||e.$video.videoHeight}`),e.$codeOutlineHighlight.firstElementChild.setAttribute("points",u.cornerPoints.map(({x:_,y:f})=>`${_},${f}`).join(" ")),e.$codeOutlineHighlight.style.display="")):e.$codeOutlineHighlight&&!e._codeOutlineHighlightRemovalTimeout&&(e._codeOutlineHighlightRemovalTimeout=setTimeout(()=>e.$codeOutlineHighlight.style.display="none",100))}e._scanFrame()}))}_onDecodeError(e){e!==n.NO_QR_CODE_FOUND&&console.log(e)}_getCameraStream(){var e=this;return(0,ot.Z)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let i=/^(environment|user)$/.test(e._preferredCamera)?"facingMode":"deviceId",a=[{width:{min:1024}},{width:{min:768}},{}],u=a.map(_=>Object.assign({},_,{[i]:{exact:e._preferredCamera}}));for(let _ of[...u,...a])try{let f=yield navigator.mediaDevices.getUserMedia({video:_,audio:!1});return{stream:f,facingMode:e._getFacingMode(f)||(_.facingMode?e._preferredCamera:"environment"===e._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var e=this;return(0,ot.Z)(function*(){let i=e._paused;(yield e.pause(!0))&&!i&&e._active&&(yield e.start())})()}static _stopVideoStream(e){for(let i of e.getTracks())i.stop(),e.removeTrack(i)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,i,a,u=!1){a=a||document.createElement("canvas");let _=i&&i.x?i.x:0,f=i&&i.y?i.y:0,x=i&&i.width?i.width:e.videoWidth||e.width,L=i&&i.height?i.height:e.videoHeight||e.height;return u||(u=i&&i.downScaledWidth?i.downScaledWidth:x,i=i&&i.downScaledHeight?i.downScaledHeight:L,a.width!==u&&(a.width=u),a.height!==i&&(a.height=i)),(i=a.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,i.drawImage(e,_,f,x,L,0,0,a.width,a.height),[a,i]}static _loadImage(e){return(0,ot.Z)(function*(){if(e instanceof Image)return yield n._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";{let i=new Image;i.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return yield n._awaitImageLoad(i),i}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(i.src)}}})()}static _awaitImageLoad(e){return(0,ot.Z)(function*(){e.complete&&0!==e.naturalWidth||(yield new Promise((i,a)=>{let u=_=>{e.removeEventListener("load",u),e.removeEventListener("error",u),_ instanceof ErrorEvent?a("Image load error"):i()};e.addEventListener("load",u),e.addEventListener("error",u)}))})()}static _postWorkerMessage(e,i,a,u){return(0,ot.Z)(function*(){return n._postWorkerMessageSync(yield e,i,a,u)})()}static _postWorkerMessageSync(e,i,a,u){if(!(e instanceof Worker))return-1;let _=n._workerMessageId++;return e.postMessage({id:_,type:i,data:a},u),_}}return n.DEFAULT_CANVAS_SIZE=400,n.NO_QR_CODE_FOUND="No QR code found",n._disableBarcodeDetector=!1,n._workerMessageId=0,n})();var rr=g(65619);class oe{static encode(c){return"azt:$"+btoa(c)}static decode(c){return c=c.replace("azt:$",""),atob(c)}static isEncode(c){return 0===c.indexOf("azt:$")}}var li=g(46558),sr=g(24913);function cr(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"zxing-scanner",7),t.NdJ("deviceChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.currentDevice=a)})("scanSuccess",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.onCodeResult(a))})("permissionResponse",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.onHasPermission(a))})("camerasFound",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.onCamerasFound(a))})("torchCompatible",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.onTorchCompatible(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("torch",e.torchEnabled)("device",e.currentDevice)("tryHarder",e.tryHarder)("formats",e.formatsEnabled)}}function lr(n,c){if(1&n&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("( ",e.contentResult," )")}}let ui=(()=>{class n extends k.Q{constructor(e){super(),this.commonService=e,this.outContentScan=new t.vpe,this.outNotCamAllow=new t.vpe,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new rr.X(!1),this.tryHarder=!1,this.formatsEnabled=[Qe.BarcodeFormat.CODE_128,Qe.BarcodeFormat.DATA_MATRIX,Qe.BarcodeFormat.EAN_13,Qe.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(e){this.availableDevices=e,this.hasDevices=!(!e||!e.length)}onCodeResult(e){this.qrResultString=e,oe.isEncode(e)?this.switchChangeContent(oe.decode(e)):this.switchChangeContent(null)}onDeviceSelectChange(e){const i=this.availableDevices.find(a=>a.deviceId===e);this.currentDevice=i||void 0}onHasPermission(e){this.hasPermission=e}onTorchCompatible(e){this.torchAvailable$.next(e||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(e){let u=e.target.files;if(u?.length){var _=u[0];if(!_)return;this.scanProcessSelectFile(e,_,0)}else this.switchChangeContent(null)}scanProcessSelectFile(e,i,a){$n.scanImage(i,{returnDetailedScanResult:!0}).then(u=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(u)),e.target.value="";var _=u.data;this.thatLog("onFileSelected: 1 "+_),oe.isEncode(_)?this.switchChangeContent(oe.decode(_)):this.switchChangeContent(null)}).catch(u=>{a>=2?(e.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(u)),this.switchChangeContent(null)):this.scanProcessSelectFile(e,i,a++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(e){this.contentResult=e,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+e),this.outContentScan.emit(this.contentResult)}thatLog(e){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+e)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(li.z))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[t.qOj],decls:11,vars:5,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(i,a){if(1&i){const u=t.EpF();t.TgZ(0,"div",0),t.YNc(1,cr,1,4,"zxing-scanner",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,lr,2,1,"span",3),t.TgZ(4,"input",4,5),t.NdJ("change",function(f){return a.onFileSelected(f)}),t.qZA(),t.TgZ(6,"a",6),t.NdJ("click",function(){t.CHM(u);const f=t.MAs(5);return t.KtG(f.click())}),t.TgZ(7,"mat-icon"),t._uU(8,"upload"),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&i&&(t.xp6(1),t.Q6J("ngIf",a.isShowScanner),t.xp6(2),t.Q6J("ngIf",a.isShowLog),t.xp6(6),t.hij(" ",t.lcZ(10,3,"lang_auto_tai_len_ma_co_san"),""))},dependencies:[w.O5,Yt.Hw,sr.S,b.JV],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}return n})();const ur=["aztScanQrcode"];function di(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",37),t._UZ(2,"path",38)(3,"circle",39),t.qZA()())}function dr(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",37),t._UZ(2,"path",40)(3,"path",41)(4,"path",42)(5,"line",43),t.qZA()())}function _r(n,c){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Xn(n,c){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,_r,3,3,"div",29),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required")||e.getErrorType("password","minlength"))}}function gr(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",45)(1,"g",46)(2,"g",47),t._UZ(3,"circle",48),t.TgZ(4,"path",49),t._UZ(5,"animateTransform",50),t.qZA()()()())}function to(n,c){1&n&&(t.TgZ(0,"div",51)(1,"span",52),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ***",t.lcZ(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai")," "))}function _i(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"button",54),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.reloadProcessForgot())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_thu_lai")," "))}function eo(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",22)(1,"div",23),t._UZ(2,"input",24),t.ALo(3,"mytranslate"),t.TgZ(4,"button",25)(5,"span",26)(6,"mat-icon"),t._uU(7,"qr_code"),t.qZA()()()(),t.TgZ(8,"div",23),t._UZ(9,"input",27),t.ALo(10,"mytranslate"),t.TgZ(11,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.togglePassword())}),t.YNc(12,di,4,0,"span",29),t.YNc(13,dr,6,0,"span",29),t.qZA(),t.YNc(14,Xn,2,1,"div",30),t.qZA(),t.TgZ(15,"div",31)(16,"div",32)(17,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changePassword())}),t.YNc(18,gr,6,0,"svg",34),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.YNc(21,to,4,3,"div",35),t.YNc(22,_i,4,3,"div",36),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,12,"lang_auto_ma_xac_thuc")),t.uIk("disabled",!0),t.xp6(7),t.s9C("type",e.showPassword?"text":"password"),t.s9C("placeholder",t.lcZ(10,14,"lang_auto_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",e.showPassword),t.xp6(1),t.Q6J("ngIf",!e.showPassword),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.invalid&&e.form.controls.password.dirty),t.xp6(3),t.Q6J("disabled",e.statusObj.errorMessage||e.form.invalid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(20,16,"lang_auto_tiep_tuc")," "),t.xp6(2),t.Q6J("ngIf",e.statusObj.errorMessage),t.xp6(1),t.Q6J("ngIf",e.statusObj.errorMessage)}}const pr=function(n){return{hidden:n}},hr=function(n){return[n]},mr=function(){return{user_click:"true"}};let no=(()=>{class n extends k.Q{getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,i){return!!this.form.controls[e].errors?.[i]&&this.form.controls[e].errors?.[i]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(e){null!==e?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:e}).subscribe(a=>{1==a.success&&1==a?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(e),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var e=this.getFormValue();this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:e.hash,password:e.password}).subscribe(a=>{0!=a.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}getFormValue(){return this.form.getRawValue()}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",super.ngOnInit()}constructor(e,i){super(),this.localStorageObject=e,this.qrCodeForgotPasswordService=i,this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink="",this.form=new o.cw({emailOrPhone:new o.NI("",{nonNullable:!0}),hash:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),password:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.minLength(6)]}),confirm_password:new o.NI("",{nonNullable:!0})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(le.y),t.Y36(Q.qY))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],viewQuery:function(i,a){if(1&i&&t.Gf(ur,5),2&i){let u;t.iGM(u=t.CRH())&&(a.elementZztScanQrcode=u.first)}},features:[t.qOj],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5  text-center xl:text-left",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6)(7,"div",7),t._UZ(8,"div",8)(9,"div",8)(10,"div",8),t.qZA()(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"div",9)(14,"div",10)(15,"span",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",12)(19,"div",13)(20,"div",14),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"azt-scan-qrcode",15,16),t.NdJ("outContentScan",function(_){return a.outContentScan(_)}),t.qZA()(),t.YNc(25,eo,23,18,"div",17),t.qZA(),t._UZ(26,"hr"),t.TgZ(27,"div",18)(28,"div",19)(29,"a",20),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()(),t.TgZ(32,"div")(33,"a",21),t.ALo(34,"localize"),t._uU(35),t.ALo(36,"mytranslate"),t.qZA()()()()(),t._UZ(37,"div",3),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(7),t.Q6J("ngClass",a.stepByStep+2==1?"active":a.stepByStep+2>1?"active pro":""),t.xp6(1),t.Q6J("ngClass",a.stepByStep+2==2?"active":a.stepByStep+2>2?"active pro":""),t.xp6(1),t.Q6J("ngClass",a.stepByStep+2==3?"active":a.stepByStep+2>3?"active pro":""),t.xp6(6),t.Oqu(t.lcZ(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),t.xp6(3),t.Q6J("ngClass",t.VKq(22,pr,a.sussScanNextConf)),t.xp6(2),t.hij(" ",t.lcZ(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),t.xp6(4),t.Q6J("ngIf",a.sussScanNextConf),t.xp6(5),t.Oqu(t.lcZ(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),t.xp6(3),t.Q6J("routerLink",t.VKq(24,hr,t.lcZ(34,18,a.backLink?a.backLink:"/auth/login")))("queryParams",t.DdM(26,mr)),t.xp6(2),t.hij(" ",t.lcZ(36,20,a.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan"),""))},dependencies:[p.rH,w.mk,w.O5,o._Y,o.Fj,o.JJ,o.JL,Yt.Hw,o.sg,o.u,ui,Zt.M,Y.lO,b.JV],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.hidden[_ngcontent-%COMP%]{display:none!important}']})}return n})();var fr=g(44589);function oo(n,c){if(1&n&&(t.TgZ(0,"div",3),t.O4$(),t.TgZ(1,"svg",4),t._UZ(2,"line",5)(3,"line",6)(4,"circle",7),t.qZA(),t._uU(5),t.qZA()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",e.stringDuration," ")}}let gi=(()=>{class n extends k.Q{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new t.vpe,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink="",this.contentNew=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.loopDuration=setInterval(()=>{var e=Math.floor(Date.now()/1e3),a=this.expired-(e-this.startDuration);if(a<0)this.clearLoopDuration(),this.qrCode.clear(),this.expiredAction.emit();else{var u=Math.floor(a/60),_=a-60*u;this.stringDuration=(u<10?"0"+u:""+u)+" : "+(_<10?"0"+_:""+_)}},1e3)}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=oe.encode(this.content)}onChangeURL(e){this.qrCodeDownloadLink=e}downloadQrCode(e){this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,e=e||"azota-qr")}static#t=this.\u0275fac=function(){let e;return function(a){return(e||(e=t.n5z(n)))(a||n)}}();static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[t.qOj],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"qrdata","width","errorCorrectionLevel","qrCodeURL"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2","lucide"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t.YNc(1,oo,6,1,"div",1),t.TgZ(2,"qrcode",2),t.NdJ("qrCodeURL",function(_){return a.onChangeURL(_)}),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("ngIf",a.isDuration),t.xp6(1),t.Q6J("qrdata",a.contentNew)("width",a.width)("errorCorrectionLevel","M"))},dependencies:[w.O5,fr.V],encapsulation:2})}return n})();const io=["elementCreateQr"];function vr(n,c){if(1&n&&(t.TgZ(0,"div",11),t._UZ(1,"azt-create-qr-image",12,13),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("content",e.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function ao(n,c){if(1&n&&(t.TgZ(0,"div",14),t.O4$(),t.TgZ(1,"svg",15),t._UZ(2,"path",16)(3,"path",17)(4,"path",18)(5,"line",19),t.qZA(),t.kcU(),t.TgZ(6,"div",20),t._uU(7),t.qZA()()),2&n){const e=t.oxw();t.xp6(7),t.hij(" ",e.noticeContentString," ")}}function xr(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.downloadQrCode())}),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24)(4,"polyline",25)(5,"line",26),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_tai_xuong_ma")," "))}function ro(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openDialog())}),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",28)(4,"line",29)(5,"line",30)(6,"circle",31)(7,"path",32),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const pi=function(n){return[n]};function so(n,c){1&n&&(t.TgZ(0,"a",33),t.ALo(1,"localize"),t.O4$(),t.TgZ(2,"svg",34),t._UZ(3,"polyline",35),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&n&&(t.Q6J("routerLink",t.VKq(6,pi,t.lcZ(1,2,"/admin/dashboard"))),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}function yr(n,c){1&n&&(t.TgZ(0,"a",36),t.ALo(1,"localize"),t.O4$(),t.TgZ(2,"svg",34),t._UZ(3,"polyline",35),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&n&&(t.Q6J("routerLink",t.VKq(6,pi,t.lcZ(1,2,"/student/dashboard/0"))),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}let co=(()=>{class n extends k.Q{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(e=>{1==e.success?0!=e?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(i=>{this.noticeContentString=i}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(i=>{this.noticeContentString=i}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(e=>{1==e.success?this.contentQrcodeHash=e.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.sAztDialogService.open(lo,{restoreFocus:!1}).afterClosed().subscribe(i=>{!0===i&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-forgot")}ngOnInit(){var e=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(e,10),this.checkQrThisMe(),super.ngOnInit()}constructor(e,i,a){super(),this.sAztDialogService=e,this.activeRoute=i,this.qrCodeForgotPasswordService=a,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(fe.C),t.Y36(p.gz),t.Y36(Q.qY))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-gzip-tool"]],viewQuery:function(i,a){if(1&i&&t.Gf(io,5),2&i){let u;t.iGM(u=t.CRH())&&(a.elementCreateQr=u.first)}},features:[t.qOj],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mx-auto"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"],["x1","16","y1","5","x2","22","y2","5"],["x1","19","y1","2","x2","19","y2","8"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(i,a){1&i&&(t.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",2)(6,"div",3),t.YNc(7,vr,3,4,"div",4),t.YNc(8,ao,8,1,"div",5),t.qZA(),t.TgZ(9,"div",6),t.YNc(10,xr,8,3,"div",7),t.YNc(11,ro,10,3,"div",7),t.qZA()(),t.TgZ(12,"div",8),t.YNc(13,so,6,8,"a",9),t.YNc(14,yr,6,8,"a",10),t.qZA()()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,7,"lang_auto_qrcode_quen_mat_khau")," "),t.xp6(4),t.Q6J("ngIf",a.contentQrcodeHash),t.xp6(1),t.Q6J("ngIf",!a.contentQrcodeHash&&a.noticeContentString),t.xp6(2),t.Q6J("ngIf",a.contentQrcodeHash),t.xp6(1),t.Q6J("ngIf",!a.contentQrcodeHash),t.xp6(2),t.Q6J("ngIf",0==a.role),t.xp6(1),t.Q6J("ngIf",1==a.role))},dependencies:[p.rH,w.O5,gi,Pt,Y.lO,b.JV]})}return n})(),lo=(()=>{class n extends O.e{static#t=this.\u0275fac=function(){let e;return function(a){return(e||(e=t.n5z(n)))(a||n)}}();static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["dialog-conf-content-qrcode-dialog"]],features:[t.qOj],decls:41,vars:28,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","mr-2","text-pending"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(19,"div",17)(20,"p",18),t._uU(21),t.ALo(22,"mytranslate"),t.ALo(23,"mytranslate"),t.ALo(24,"mytranslate"),t.qZA(),t.TgZ(25,"p",19),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"p",19),t._uU(29),t.ALo(30,"mytranslate"),t._UZ(31,"br"),t._uU(32),t.ALo(33,"mytranslate"),t.qZA()()()(),t.TgZ(34,"div",20)(35,"button",21),t._uU(36),t.ALo(37,"mytranslate"),t.qZA(),t.TgZ(38,"button",22),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(17),t.hij(" ",t.lcZ(18,10,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),t.xp6(4),t.lnq(" ",t.lcZ(22,12,"lang_auto_bam"),' "',t.lcZ(23,14,"lang_auto_xac_nhan"),'" ',t.lcZ(24,16,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),t.xp6(5),t.hij(" ",t.lcZ(27,18,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),t.xp6(3),t.hij(" ",t.lcZ(30,20,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),t.xp6(3),t.hij(" ",t.lcZ(33,22,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),t.xp6(4),t.hij(" ",t.lcZ(37,24,"lang_auto_huy")," "),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",t.lcZ(40,26,"lang_auto_xac_nhan")," "))},dependencies:[Qt.ZT,b.JV],encapsulation:2})}return n})(),hi=(()=>{class n extends k.Q{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}static#t=this.\u0275fac=function(){let e;return function(a){return(e||(e=t.n5z(n)))(a||n)}}();static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[t.qOj],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6)(7,"div",7),t._UZ(8,"div",8)(9,"div",8)(10,"div",8),t.qZA()(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"div",9)(14,"div",10)(15,"span",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",12)(19,"p"),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.TgZ(22,"div",13)(23,"a",14),t.NdJ("click",function(){return a.redirectToHome()}),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"a",15),t.NdJ("click",function(){return a.redirectToCreateQrCode()}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()()()(),t._UZ(29,"div",3),t.qZA()()()),2&i&&(t.xp6(8),t.Q6J("ngClass",a.step_by_step+2==1?"active":a.step_by_step+2>1?"active pro":""),t.xp6(1),t.Q6J("ngClass",a.step_by_step+2==2?"active":a.step_by_step+2>2?"active pro":""),t.xp6(1),t.Q6J("ngClass",a.step_by_step+2==3?"active":a.step_by_step+2>3?"active pro":""),t.xp6(6),t.Oqu(t.lcZ(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),t.xp6(4),t.Oqu(t.lcZ(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),t.xp6(4),t.Oqu(t.lcZ(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),t.xp6(3),t.Oqu(t.lcZ(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[w.mk,b.JV],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']})}return n})(),uo=(()=>{class n extends k.Q{ngOnInit(){super.ngOnInit();var e=this.commonService.getMyParam(this.activeRoute,"code")?.toString(),i=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString();"teacher"==i?window.location.replace("https://aztappteacher.page.link/"+e):window.location.replace("https://azt.page.link/"+e)}constructor(e){super(),this.activeRoute=e}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(p.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-go-to-mobile"]],features:[t.qOj],decls:9,vars:3,consts:[[1,"centerBoth"],[1,"text-center"],["version","1.1","id","jobing-j-drawit","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 109 92.9",0,"xml","space","preserve",1,"w-12","mx-auto",2,"enable-background","new 0 0 109 92.9"],["d","M90.8,52c3.5,6.2,7.1,11.7,9.8,17.7c4.4,9.7-2.9,20.7-13.8,20.9c-11.8,0.2-23.7,0.2-35.5,0 c-11-0.1-17.6-12.2-12-21.7c0.4-0.8,1.8-1.4,2.7-1.4c9.9-0.1,19.7-0.1,29.6-0.1c9.8,0,15.9-4.6,18.7-14C90.4,53.2,90.5,52.9,90.8,52 z",1,"azt-svg-loading","jobing-j"],["d","M39.6,90.3c-6.8,0-13.8,0.8-20.5-0.2c-9.7-1.4-15-12.8-10.3-21.3c5.9-10.9,12.1-21.6,18.5-32.2 c5.5-9,18.6-8.7,24.2,0.2c0.7,1.1,0.8,1.9,0.1,3.1C46.7,48.3,42,57,36.8,65.3c-5.3,8.4-3.8,18.8,2.5,24.6 C39.5,89.9,39.5,90.2,39.6,90.3z",1,"azt-svg-loading","jobing-j"],["d","M32.5,27.3c3.3-5.7,6.1-11,9.4-16c5.9-9.1,19.4-9.2,25.1,0c6.5,10.4,12.6,21,18.3,31.7 c4.8,9-1.5,19.9-11.5,20.7c-1.6,0.1-2.6-0.2-3.5-1.8c-4.8-8.6-9.8-17.1-14.7-25.6c-4.7-8.3-12.5-11.6-21.7-9.2 C33.6,27.1,33.3,27.1,32.5,27.3z",1,"azt-svg-loading","jobing-j"],[1,"p-0","mt-2"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3)(4,"path",4)(5,"path",5),t.qZA(),t.kcU(),t.TgZ(6,"h3",6),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(7),t.hij("",t.lcZ(8,1,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[b.JV],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]})}return n})();var _o=g(81374),go=g(78645),De=g(22096),Re=g(65592),mi=g(2459),Ut=g(63019),be=g(43093),Rt=g(94664),de=g(37398),po=g(67081),fi=g(84674);function Mt(n,c){return(0,fi.m)(c)?(0,Rt.w)(()=>n,c):(0,Rt.w)(()=>n)}var we=g(85137),Xr=g(32181),Fe=g(1966),mo=g(36122),vi=g(84537),Ce=g(59058),Cr=g(87879);const fo=new Map,Tr={activated:!1,tokenObservers:[]},kr={initialized:!1,enabled:!1};function ct(n){return fo.get(n)||Object.assign({},Tr)}function Je(){return kr}const vo="https://content-firebaseappcheck.googleapis.com/v1",bo="exchangeDebugToken",Be={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ao{constructor(c,e,i,a,u){if(this.operation=c,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(c){var e=this;return(0,ot.Z)(function*(){e.stop();try{e.pending=new Ce.BH,yield function Co(n){return new Promise(c=>{setTimeout(c,n)})}(e.getNextRun(c)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ce.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(c){if(c)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const yt=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ko(n){if(!ct(n).activated)throw yt.create("use-before-activation",{appName:n.name})}function Te(n,c){return So.apply(this,arguments)}function So(){return(So=(0,ot.Z)(function*({url:n,body:c},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const W=yield a.getHeartbeatsHeader();W&&(i["X-Firebase-Client"]=W)}const u={method:"POST",body:JSON.stringify(c),headers:i};let _,f;try{_=yield fetch(n,u)}catch(W){throw yt.create("fetch-network-error",{originalErrorMessage:W?.message})}if(200!==_.status)throw yt.create("fetch-status-error",{httpStatus:_.status});try{f=yield _.json()}catch(W){throw yt.create("fetch-parse-error",{originalErrorMessage:W?.message})}const x=f.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const L=1e3*Number(x[1]),F=Date.now();return{token:f.token,expireTimeMillis:F+L,issuedAtTimeMillis:F}})).apply(this,arguments)}function xi(n,c){const{projectId:e,appId:i,apiKey:a}=n.options;return{url:`${vo}/projects/${e}/apps/${i}:${bo}?key=${a}`,body:{debug_token:c}}}const ae="firebase-app-check-database",rs=1,Ve="firebase-app-check-store";let Ye=null;function h(){return(h=(0,ot.Z)(function*(n,c){const i=(yield function yi(){return Ye||(Ye=new Promise((n,c)=>{try{const e=indexedDB.open(ae,rs);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var a;c(yt.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(e){c(yt.create("storage-open",{originalErrorMessage:e?.message}))}}),Ye)}()).transaction(Ve,"readwrite"),u=i.objectStore(Ve).put({compositeKey:n,value:c});return new Promise((_,f)=>{u.onsuccess=x=>{_()},i.onerror=x=>{var L;f(yt.create("storage-set",{originalErrorMessage:null===(L=x.target.error)||void 0===L?void 0:L.message}))}})})).apply(this,arguments)}const T=new Cr.Yd("@firebase/app-check");function j(n,c){return(0,Ce.hl)()?function r(n,c){return function d(n,c){return h.apply(this,arguments)}(function Z(n){return`${n.options.appId}-${n.name}`}(n),c)}(n,c).catch(e=>{T.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function _e(){return Je().enabled}function ke(){return re.apply(this,arguments)}function re(){return(re=(0,ot.Z)(function*(){const n=Je();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Wt={error:"UNKNOWN_ERROR"};function bi(n){return Ce.US.encodeString(JSON.stringify(n),!1)}function wi(n){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,ot.Z)(function*(n,c=!1){const e=n.app;ko(e);const i=ct(e);let u,a=i.token;if(a&&!Ge(a)&&(i.token=void 0,a=void 0),!a){const x=yield i.cachedTokenPromise;x&&(Ge(x)?a=x:yield j(e,void 0))}if(!c&&a&&Ge(a))return{token:a.token};let f,_=!1;if(_e()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Te(xi(e,yield ke()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),_=!0);const x=yield i.exchangeTokenPromise;return yield j(e,x),i.token=x,{token:x.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),_=!0),a=yield ct(e).exchangeTokenPromise}catch(x){"appCheck/throttled"===x.code?T.warn(x.message):T.error(x),u=x}return a?u?f=Ge(a)?{token:a.token,internalError:u}:ds(u):(f={token:a.token},i.token=a,yield j(e,a)):f=ds(u),_&&function us(n,c){const e=ct(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=c.error?i.error(c.error):i.next(c)}catch{}}(e,f),f})).apply(this,arguments)}function cs(n){return Or.apply(this,arguments)}function Or(){return(Or=(0,ot.Z)(function*(n){const c=n.app;ko(c);const{provider:e}=ct(c);if(_e()){const i=yield ke(),{token:a}=yield Te(xi(c,i),n.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Er(n,c){const e=ct(n),i=e.tokenObservers.filter(a=>a.next!==c);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function ls(n){const{app:c}=n,e=ct(c);let i=e.tokenRefresher;i||(i=function qs(n){const{app:c}=n;return new Ao((0,ot.Z)(function*(){let i;if(i=ct(c).token?yield wi(n,!0):yield wi(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ct(c);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Be.RETRIAL_MIN_WAIT,Be.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Ge(n){return n.expireTimeMillis-Date.now()>0}function ds(n){return{token:bi(Wt),error:n}}class Us{constructor(c,e){this.app=c,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:c}=ct(this.app);for(const e of c)Er(this.app,e.next);return Promise.resolve()}}const xs="app-check-internal";!function Ws(){(0,mo._registerComponent)(new vi.wA("app-check",n=>function Ns(n,c){return new Us(n,c)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,c,e)=>{n.getProvider(xs).initialize()})),(0,mo._registerComponent)(new vi.wA(xs,n=>function js(n){return{getToken:c=>wi(n,c),getLimitedUseToken:()=>cs(n),addTokenListener:c=>function Lr(n,c,e,i){const{app:a}=n,u=ct(a);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:i,type:c}],u.token&&Ge(u.token)){const f=u.token;Promise.resolve().then(()=>{e({token:f.token}),ls(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ls(n))}(n,"INTERNAL",c),removeTokenListener:c=>Er(n.app,c)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mo.registerVersion)("@firebase/app-check","0.8.0")}();class bs{constructor(){return(0,Fe.vb)("app-check")}}typeof window<"u"&&window,g(17142);const nc=new t.OlP("angularfire2.auth.use-emulator"),oc=new t.OlP("angularfire2.auth.settings"),ic=new t.OlP("angularfire2.auth.tenant-id"),ac=new t.OlP("angularfire2.auth.langugage-code"),rc=new t.OlP("angularfire2.auth.use-device-language"),sc=new t.OlP("angularfire.auth.persistence");let Ci=(()=>{class n{constructor(e,i,a,u,_,f,x,L,F,W,Tt,X){const xt=new go.x,zt=(0,De.of)(void 0).pipe((0,be.Q)(_.outsideAngular),(0,Rt.w)(()=>u.runOutsideAngular(()=>g.e(365).then(g.bind(g,26365)))),(0,de.U)(()=>(0,R.on)(e,u,i)),(0,de.U)(Jt=>((n,c,e,i,a,u,_,f)=>(0,R.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const x=c.runOutsideAngular(()=>n.auth());if(e&&x.useEmulator(...e),i&&(x.tenantId=i),x.languageCode=a,u&&x.useDeviceLanguage(),_)for(const[L,F]of Object.entries(_))x.settings[L]=F;return f&&x.setPersistence(f),x},[e,i,a,u,_,f]))(Jt,u,f,L,F,W,x,Tt)),(0,po.d)({bufferSize:1,refCount:!1}));if((0,w.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,De.of)(null);else{zt.pipe((0,_o.P)()).subscribe();const Bt=zt.pipe((0,Rt.w)(lt=>lt.getRedirectResult().then(bt=>bt,()=>null)),Fe.iC,(0,po.d)({bufferSize:1,refCount:!1})),Nt=zt.pipe((0,Rt.w)(lt=>new Re.y(bt=>({unsubscribe:u.runOutsideAngular(()=>lt.onAuthStateChanged(Ze=>bt.next(Ze),Ze=>bt.error(Ze),()=>bt.complete()))})))),ge=zt.pipe((0,Rt.w)(lt=>new Re.y(bt=>({unsubscribe:u.runOutsideAngular(()=>lt.onIdTokenChanged(Ze=>bt.next(Ze),Ze=>bt.error(Ze),()=>bt.complete()))}))));this.authState=Bt.pipe(Mt(Nt),(0,we.R)(_.outsideAngular),(0,be.Q)(_.insideAngular)),this.user=Bt.pipe(Mt(ge),(0,we.R)(_.outsideAngular),(0,be.Q)(_.insideAngular)),this.idToken=this.user.pipe((0,Rt.w)(lt=>lt?(0,mi.D)(lt.getIdToken()):(0,De.of)(null))),this.idTokenResult=this.user.pipe((0,Rt.w)(lt=>lt?(0,mi.D)(lt.getIdTokenResult()):(0,De.of)(null))),this.credential=(0,Ut.T)(Bt,xt,this.authState.pipe((0,Xr.h)(lt=>!lt))).pipe((0,de.U)(lt=>lt?.user?lt:null),(0,we.R)(_.outsideAngular),(0,be.Q)(_.insideAngular))}return(0,R.pX)(this,zt,u,{spy:{apply:(Jt,Bt,Nt)=>{(Jt.startsWith("signIn")||Jt.startsWith("createUser"))&&Nt.then(ge=>xt.next(ge))}}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R.Dh),t.LFG(R.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Fe.HU),t.LFG(nc,8),t.LFG(oc,8),t.LFG(ic,8),t.LFG(ac,8),t.LFG(rc,8),t.LFG(sc,8),t.LFG(bs,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lc=(()=>{class n extends k.Q{constructor(e,i,a){super(),this.fireAuth=e,this.authService=i,this.redirectByRoleService=a,this.fireAuth.authState.pipe((0,_o.P)()).subscribe(u=>{u?this.signInWithTokenGoogle(u):this.googleSignIn()})}signInWithTokenGoogle(e){const i=this.commonService.getMyQueryParam("type");e.getIdToken().then(a=>{let u={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:a??"",language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(u).subscribe(_=>{if(1==_.success){let x=this.commonService.getMyQueryParam("return_url")??"";if(""===x){let L=this.commonService.getMyQueryParam("backto")??"";var f=L.includes("return_url=")?L.split("return_url=")[1]:"";x=decodeURIComponent(f)}1==_.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${x}`):"0"==i?this.redirectByRoleService.redirectLoginForStudent(x):this.redirectByRoleService.redirectLoginByRole(x)}else{this.errorStatusObj(_.message??"",!0);const x=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(x)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new ue.hJ).then(()=>this.fireAuth.getRedirectResult().then(e=>{})).catch(e=>{const i=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(i)})}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ci),t.Y36(Q.e8),t.Y36(Ot.C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["login-by-openapi"]],features:[t.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"azt-loading-ui",2),t.qZA(),t.TgZ(3,"div",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("type","azota-logo"),t.xp6(2),t.hij(" ",t.lcZ(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[te.n,b.JV],encapsulation:2})}return n})(),uc=(()=>{class n extends k.Q{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(e){var i=this.userService.getUserObjFromJwtToken(e);null!=i?(this.userService.saveUserObj(i),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${this.returnUrl}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var e=this.commonService.getMyQueryParam("zaccess_token")??"",i=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=ut.N.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+this.returnUrl+"&is_login=1"),!i&&e?this.loginWithAccessToken(e):i&&!this.isBusinessDomain?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${this.returnUrl}&user_click=true`):this.loginZalo()}constructor(e,i){super(),this.redirectByRoleService=e,this.userService=i,this.returnUrl="",this.zaloLoginUrl=""}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ot.C),t.Y36($.U))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login-by-zalo"]],features:[t.qOj],decls:3,vars:0,consts:[[1,"azt-login-form"]],template:function(i,a){1&i&&(t.TgZ(0,"auth-layout")(1,"div",0),t._UZ(2,"azt-loading-effect"),t.qZA()())},dependencies:[dt.l,Pt],encapsulation:2})}return n})();const dc=["elementCreateQr"],_c=["aztScanQrcode"];function gc(n,c){1&n&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function pc(n,c){1&n&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function hc(n,c){if(1&n&&(t.TgZ(0,"div",26),t._UZ(1,"span",27),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.AsE("\xa0",t.lcZ(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",e.nameSessionConfirm,"")}}function mc(n,c){1&n&&(t.TgZ(0,"div",26),t._UZ(1,"span",27),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n&&(t.xp6(2),t.hij("\xa0",t.lcZ(3,1,"lang_auto_dang_cho_quet_ma_qrcode"),""))}function fc(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"br"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),t.xp6(3),t.AsE("",t.lcZ(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",e.nameSessionConfirm,"")}}function vc(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",27),t._uU(2,"\xa0 "),t.TgZ(3,"span",35),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function xc(n,c){if(1&n&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultErr)}}function yc(n,c){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultSuss)}}function bc(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function wc(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function Ac(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",38)(1,"button",39),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.confContentPendingLogin(1))}),t.YNc(2,bc,3,0,"span",31),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"button",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.confContentPendingLogin(2))}),t.YNc(6,wc,3,0,"span",31),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.isLoadingBtn||e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",t.lcZ(4,6,"lang_auto_chap_nhan")," "),t.xp6(2),t.Q6J("disabled",e.isLoadingBtn||e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",t.lcZ(8,8,"lang_auto_tu_choi")," ")}}function Cc(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.backScanActionWithIsLogin())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_quay_lai")))}function Tc(n,c){if(1&n&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",30),t.YNc(3,fc,6,7,"span",31),t.qZA(),t.YNc(4,vc,6,3,"div",31),t.YNc(5,xc,2,1,"div",32),t.YNc(6,yc,2,1,"div",33),t.YNc(7,Ac,9,10,"div",34),t.YNc(8,Cc,4,3,"div",31),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.nameSessionConfirm),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.Q6J("ngIf",e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.textResultSuss),t.xp6(1),t.Q6J("ngIf",!e.textResultSuss||!e.isConfirmBtn),t.xp6(1),t.Q6J("ngIf",e.isLogin&&!1===e.isLoadingBtn&&!0===e.isConfirmBtn)}}function kc(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.createRequestLoginHashCodeAction())}),t.TgZ(1,"div",46)(2,"div")(3,"mat-icon"),t._uU(4,"sync"),t.qZA()(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"lang_auto_tao_moi_ma")))}function Zc(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"azt-create-qr-image",47,48),t.NdJ("expiredAction",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.expiredQrcodeAction())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("content",e.contentCreateQrcode)("width",300)("height",300)("expired",e.durationQrcodeExpire)}}function Sc(n,c){if(1&n&&(t.TgZ(0,"div",42),t.YNc(1,kc,8,3,"div",43),t.YNc(2,Zc,2,4,"azt-create-qr-image",44),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!1===e.isLogin&&!e.contentCreateQrcode),t.xp6(1),t.Q6J("ngIf",e.contentCreateQrcode)}}function Ic(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.downloadQrCode())}),t.TgZ(1,"mat-icon"),t._uU(2,"download"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_tai_xuong_ma"),""))}function Oc(n,c){1&n&&(t.TgZ(0,"div",50)(1,"span",51),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_hoac")," "))}function Lc(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"a",52),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.switchModeView())}),t.TgZ(2,"span",53)(3,"mat-icon",54),t._uU(4,"center_focus_strong"),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_quet_ma_qr_co_san"),""))}function Ec(n,c){if(1&n&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultErr)}}function Pc(n,c){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.textResultSuss)}}function Mc(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function qc(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",38)(1,"button",55),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.confContentLogin())}),t.YNc(2,Mc,3,0,"span",31),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"button",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.reopenScanCamInit())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.isLoadingBtn||e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_dang_nhap")," "),t.xp6(2),t.Q6J("disabled",e.isLoadingBtn),t.xp6(1),t.Oqu(t.lcZ(7,7,"lang_auto_thu_lai"))}}function Uc(n,c){if(1&n&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",30),t._uU(3),t.ALo(4,"mytranslate"),t._UZ(5,"br"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.YNc(8,Ec,2,1,"div",32),t.YNc(9,Pc,2,1,"div",33),t.YNc(10,qc,8,9,"div",34),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),t.xp6(3),t.Oqu(t.lcZ(7,7,"lang_auto_voi_ma_qr_da_phat_hien")),t.xp6(2),t.Q6J("ngIf",e.textResultErr),t.xp6(1),t.Q6J("ngIf",e.textResultSuss),t.xp6(1),t.Q6J("ngIf",!e.textResultSuss)}}function Nc(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",27),t._uU(2,"\xa0 "),t.TgZ(3,"span",35),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function jc(n,c){if(1&n&&t._UZ(0,"div",60),2&n){const e=t.oxw(2);t.Q6J("innerHTML",e.textResultErr,t.oJD)}}function Qc(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",27),t._uU(2,"\xa0"),t.qZA())}function Dc(n,c){if(1&n&&(t.TgZ(0,"button",61),t.YNc(1,Qc,3,0,"span",31),t._uU(2),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",!e.textResultSuss),t.xp6(1),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.hij(" ",e.textResultSuss," ")}}function Rc(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t._UZ(6,"br"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()(),t.YNc(9,Nc,6,3,"div",31),t.YNc(10,jc,1,1,"div",57),t.TgZ(11,"div",38),t.YNc(12,Dc,3,3,"button",58),t.TgZ(13,"button",59),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.reopenScanCamInit())}),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,8,"lang_auto_dang_nhap_tai_khoan")),t.xp6(3),t.AsE("",t.lcZ(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",e.nameSessionConfirm,""),t.xp6(2),t.Q6J("ngIf",e.isLoadingBtn),t.xp6(1),t.Q6J("ngIf",e.textResultErr),t.xp6(2),t.Q6J("ngIf",!e.textResultSuss&&e.isLoadingBtn),t.xp6(1),t.Q6J("disabled",e.isLoadingBtn),t.xp6(1),t.Oqu(t.lcZ(15,12,"lang_auto_thu_lai"))}}const Nr=function(n){return{hidden:n}},Fc=function(n){return[n]};let zc=(()=>{class n extends k.Q{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.subscriptions.add(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(e=>{1==e.success?(this.successStatusObj(),this.contentCreateQrcode=e?.data?.qrCode??"",this.durationQrcodeExpire=e?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(e){null!==e?(this.scanQrContent=e,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(a=>{this.isLoadingBtn=!1,1==a.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=a?.data?.qrCode??"",this.nameSessionConfirm=a?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(u=>{this.textResultErr=u}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(a=>{this.textResultErr=a}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(i=>{1==i.success&&(1==i.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):i.data&&2===i.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(a=>{this.textResultErr=a}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(e=>{1==e.success&&e.data&&""!==e.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=e?.data?.qrCode??"",this.nameSessionConfirm=e?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(e){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:e}).subscribe(a=>{1==a.success?this.textResultSuss=1==e?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(u=>{this.textResultErr=u}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(e=>{1==e.success&&(this.contentCreateQrcode=e?.data?.qrCode??"",this.nameSessionConfirm=e?.data?.name??"",this.durationQrcodeExpire=e?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(i=>{1===i.success&&404!=i?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(i=>{this.isLoadingBtn=!1,1===i.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(a=>{this.textResultSuss=a}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(a=>{this.textResultErr=a})})}ngOnInit(){var e=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(e,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/dashboard/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,i,a,u,_,f){super(),this.redirectByRoleService=e,this.userService=i,this.localStorageObject=a,this.activeRoute=u,this.qrCodeLoginService=_,this.redirectService=f,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ot.C),t.Y36($.U),t.Y36(le.y),t.Y36(p.gz),t.Y36(Q.AF),t.Y36(K.z))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(i,a){if(1&i&&(t.Gf(dc,5),t.Gf(_c,5)),2&i){let u;t.iGM(u=t.CRH())&&(a.elementCreateQr=u.first),t.iGM(u=t.CRH())&&(a.elementZztScanQrcode=u.first)}},features:[t.qOj],decls:40,vars:37,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-center"],[1,"mb-3","text-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"disabled","click"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center",3,"click"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"disabled","click"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"disabled","click"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(i,a){1&i&&(t.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,gc,3,3,"div",3),t.YNc(7,pc,3,3,"div",3),t.YNc(8,hc,4,4,"div",4),t.YNc(9,mc,4,3,"div",4),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),t.YNc(14,Tc,9,6,"div",9),t.YNc(15,Sc,3,2,"div",10),t.TgZ(16,"div",11),t.YNc(17,Ic,5,3,"a",12),t.qZA(),t.YNc(18,Oc,4,3,"div",13),t.YNc(19,Lc,7,3,"div",14),t.qZA(),t.TgZ(20,"div",15)(21,"div",16),t._uU(22),t.ALo(23,"mytranslate"),t.TgZ(24,"a",17),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t._uU(27," )"),t.qZA(),t.TgZ(28,"div",18)(29,"azt-scan-qrcode",19,20),t.NdJ("outContentScan",function(_){return a.outContentScan(_)}),t.qZA()(),t.YNc(31,Uc,11,9,"div",9),t.YNc(32,Rc,16,14,"div",9),t.qZA()()()(),t.TgZ(33,"div",21)(34,"a",22),t.ALo(35,"localize"),t.O4$(),t.TgZ(36,"svg",23),t._UZ(37,"polyline",24),t.qZA(),t._uU(38),t.ALo(39,"mytranslate"),t.qZA()()()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,19,"lang_auto_dang_nhap_voi_ma_qr_code")," "),t.xp6(3),t.Q6J("ngIf",!a.isLogin),t.xp6(1),t.Q6J("ngIf",a.isLogin),t.xp6(1),t.Q6J("ngIf",!a.isLogin&&a.contentCreateQrcode),t.xp6(1),t.Q6J("ngIf",a.isLogin&&a.contentCreateQrcode&&!a.scanQrContentConfirm),t.xp6(4),t.Q6J("ngClass",t.VKq(29,Nr,"create"!==a.modeShowInit)),t.xp6(1),t.Q6J("ngIf",a.scanQrContentConfirm&&a.isLogin),t.xp6(1),t.Q6J("ngIf",!a.scanQrContentConfirm),t.xp6(2),t.Q6J("ngIf",a.contentCreateQrcode&&!a.scanQrContentConfirm),t.xp6(1),t.Q6J("ngIf",!a.scanQrContentConfirm),t.xp6(1),t.Q6J("ngIf",!a.scanQrContentConfirm),t.xp6(1),t.Q6J("ngClass",t.VKq(31,Nr,"scan"!==a.modeShowInit)),t.xp6(2),t.hij("",t.lcZ(23,21,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),t.xp6(3),t.Oqu(t.lcZ(26,23,"lang_auto_huong_dan")),t.xp6(3),t.Q6J("ngClass",t.VKq(33,Nr,!1!==a.sussScanNextConf)),t.xp6(3),t.Q6J("ngIf",!0===a.sussScanNextConf&&a.isLogin),t.xp6(1),t.Q6J("ngIf",!0===a.sussScanNextConf&&!a.isLogin),t.xp6(2),t.Q6J("routerLink",t.VKq(35,Fc,t.lcZ(35,25,a.backToLink))),t.xp6(4),t.hij(" ",t.lcZ(39,27,"lang_auto_quay_lai")," "))},dependencies:[p.rH,w.mk,w.O5,Yt.Hw,gi,ui,Pt,Y.lO,b.JV],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return n})();var ws=g(96368),As=g(32965);let Cs=(()=>{class n{constructor(){}isCommonInAppBrowser(){const e=navigator.userAgent?.toLowerCase(),i=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let a=0;a<i.length;a++)if(-1!==e.indexOf(i[a]))return!0;return!1}getMobileOperatingSystem(){let e=navigator.userAgent||navigator.vendor||window.opera,i="Android";return/android/i.test(e)&&(i="Android"),/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&(i="iOS"),i}getCommonInAppBrowser(){const e=navigator.userAgent;let i="";return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1?i="Facebook":e.indexOf("Zalo")>-1?i="Zalo":e.indexOf("Twitter")>-1?i="Twitter":e.indexOf("Instagram")>-1?i="Instagram":e.indexOf("Line")>-1?i="Line":e.indexOf("MicroMessenger")>-1?i="WeChat":e.indexOf("QQ")>-1?i="QQ":e.indexOf("KAKAOTALK")>-1&&(i="KakaoTalk"),i}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jc(n,c){1&n&&(t.TgZ(0,"div",18)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Bc(n,c){if(1&n&&(t.TgZ(0,"div",18)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.msgError)}}function Vc(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",19),t._UZ(2,"path",20)(3,"circle",21),t.qZA()())}function Yc(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",19),t._UZ(2,"path",22)(3,"path",23)(4,"path",24)(5,"line",25),t.qZA()())}function Gc(n,c){1&n&&(t.TgZ(0,"div",26)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Kc(n,c){if(1&n&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.messageError)," ")}}function Wc(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"a",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.forgotPassword())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_quen_mat_khau")))}function Hc(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",30)(1,"g",31)(2,"g",32),t._UZ(3,"circle",33),t.TgZ(4,"path",34),t._UZ(5,"animateTransform",35),t.qZA()()()())}const Ts=function(n){return[n]},$c=function(n){return{return_url:n,user_click:"true"}},Xc=function(n){return{return_url:n}};function tl(n,c){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"a",37),t.ALo(6,"navigationLocalize"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()(),t.TgZ(9,"div",38)(10,"span",39),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.TgZ(13,"div",40)(14,"button",41),t.NdJ("keydown.enter",function(a){return a.preventDefault()}),t.ALo(15,"navigationLocalize"),t.O4$(),t.TgZ(16,"svg",42)(17,"style"),t._uU(18," .st0 { fill: #fdfefe } .st1 { fill: #0180c7 } .st2 { fill: #0172b1 } .st3 { fill: none; stroke: #0180c7; stroke-width: 2; stroke-miterlimit: 10 } "),t.qZA(),t.TgZ(19,"title"),t._uU(20,"logo-zalo-vector"),t.qZA(),t._UZ(21,"path",43)(22,"path",44)(23,"path",45)(24,"path",46)(25,"path",47)(26,"path",48)(27,"path",49),t.qZA(),t.kcU(),t.TgZ(28,"span",50),t._uU(29,"Zalo"),t.qZA()(),t.TgZ(30,"button",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.googleSignIn())})("keydown.enter",function(a){return a.preventDefault()}),t.O4$(),t.TgZ(31,"svg",52),t._UZ(32,"path",53)(33,"path",54)(34,"path",55)(35,"path",56),t.qZA(),t.kcU(),t.TgZ(36,"span",50),t._uU(37,"Google"),t.qZA()(),t.TgZ(38,"button",57),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.loginByQrCode())})("keydown.enter",function(a){return a.preventDefault()}),t.O4$(),t.TgZ(39,"svg",58),t._UZ(40,"rect",59)(41,"rect",60)(42,"rect",61)(43,"path",62)(44,"path",63)(45,"path",64)(46,"path",65)(47,"path",66)(48,"path",67)(49,"path",68)(50,"path",69)(51,"path",70),t.qZA(),t.kcU(),t.TgZ(52,"span",50),t._uU(53,"Qrcode"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,7,"lang_auto_ban_chua_co_tai_khoan")),t.xp6(2),t.Q6J("routerLink",t.VKq(17,Ts,t.lcZ(6,9,"/auth/register")))("queryParams",t.VKq(19,$c,e.returnUrl)),t.xp6(2),t.hij(" ",t.lcZ(8,11,"lang_auto_tao_mot_tai_khoan_moi")," "),t.xp6(4),t.hij(" ",t.lcZ(12,13,"lang_auto_hoac")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(21,Ts,t.lcZ(15,15,"/auth/login-by-zalo")))("queryParams",t.VKq(23,Xc,e.returnUrl))}}function el(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"form",2)(2,"h2",3),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"input",6),t.NdJ("keydown.enter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.login())})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkValidateUser(a.form.controls.username.value))}),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Jc,4,3,"div",7),t.YNc(10,Bc,3,1,"div",7),t.qZA(),t.TgZ(11,"div",5)(12,"div",8)(13,"input",9),t.NdJ("keydown.enter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.login())}),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.togglePassword())}),t.YNc(16,Vc,4,0,"span",11),t.YNc(17,Yc,6,0,"span",11),t.qZA()(),t.YNc(18,Gc,4,3,"div",12),t.qZA()(),t.YNc(19,Kc,3,3,"div",13),t.YNc(20,Wc,4,3,"div",14),t.TgZ(21,"div",15)(22,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.login())}),t.YNc(23,Hc,6,0,"svg",17),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()(),t.YNc(26,tl,54,25,"ng-container",11),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(2),t.hij(" ",t.lcZ(4,16,"lang_auto_dang_nhap")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(8,18,"lang_auto_nhap_sdt_hoac_email")),t.xp6(2),t.Q6J("ngIf",e.form.controls.username.invalid&&(e.form.controls.username.dirty||e.form.controls.username.touched)&&!e.checkValidateUsername),t.xp6(1),t.Q6J("ngIf",e.checkValidateUsername),t.xp6(3),t.s9C("placeholder",t.lcZ(14,20,"lang_auto_mat_khau")),t.Q6J("type",e.showPassword?"text":"password"),t.xp6(3),t.Q6J("ngIf",e.showPassword),t.xp6(1),t.Q6J("ngIf",!e.showPassword),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",""!=e.messageError),t.xp6(1),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(2),t.Q6J("disabled",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(25,22,"lang_auto_dang_nhap")," "),t.xp6(2),t.Q6J("ngIf",!e.isBusinessDomain)}}function nl(n,c){1&n&&(t.TgZ(0,"div",1),t._UZ(1,"azt-loading-effect"),t.qZA())}let ol=(()=>{class n extends k.Q{executeImportantAction(){return new Promise(e=>{this.recaptchaV3Service.execute("importantAction").subscribe(i=>{e(i)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}login(){if(this.form.valid){this.initStatusObj();let e=location.hostname+(location.port?":"+location.port:"");this.executeImportantAction().then(i=>{var a=this.getFormValue();this.subscriptions.add(this.authService.apiAuthLoginWebPost({phone:a.username,password:a.password,tokenCaptcha:i,domain:this.isBusinessDomain?e:""}).subscribe(_=>{1==_.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=_.message??"",this.errorStatusObj(_.message??""))}))})}else this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(e=>{this.subscriptions.add(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:e}).subscribe(a=>{1==a.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(a.message??"")}))})}loginWithAccessToken(e){var i=this.userService.getUserObjFromJwtToken(e);null!=i?(this.userService.saveUserObj(i),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1)}googleSignIn(){const e=this.browserUserAgentService.isCommonInAppBrowser();let i=this.browserUserAgentService.getCommonInAppBrowser(),a=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),u="zalo";"facebook"===i.toLowerCase()&&(u="fb");let _=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${a}/${a}_${u}_1.png`),f=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${a}/${a}_${u}_2.png`);if(e)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(x=>{let L=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),F=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(ws.C,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${x+" "+i}. ${L}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${F} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${_}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${F} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${f}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const x=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(x)}&click_login=1`)}}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(e){this.msgError="",isNaN(Number(e))?this.validateEmail(e)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0):10==e.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0)}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var e=this.commonService.getMyQueryParam("not_register"),i=this.commonService.getMyQueryParam("user_click");if(this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),!e&&this.mobileAccessTkn)this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn);else{this.initStatusObj();var a=!1;e&&!this.isBusinessDomain?(a=!0,this.commonService.myNavigation("/auth/register")):this.userService.isLoginAndNotAnonymous()?(a=!0,this.redirectByRoleService.redirectLoginByRole(this.returnUrl)):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(a=!0,this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous()),a||(!i&&this.userService.isAnonymousRoleOfCurrentUser()?this.myNavigation("/student/dashboard/0"):(this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),this.loginByToken=!1,this.stopStatusObj(),super.ngOnInit()))}}constructor(e,i,a,u,_,f,x,L){super(),this.userService=e,this.localStorageObject=i,this.authService=a,this.redirectByRoleService=u,this.recaptchaV3Service=_,this.cdnService=f,this.browserUserAgentService=x,this.sAztDialogService=L,this.mobileAccessTkn="",this.returnUrl="",this.loginByToken=!0,this.msgError="",this.messageError="",this.checkValidateUsername=!1,this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1,this.form=new o.cw({username:new o.NI("",{nonNullable:!0,validators:[o.kI.required,Ht._.noWhiteSpace]}),fullName:new o.NI("",{nonNullable:!0}),password:new o.NI("",{nonNullable:!0,validators:[o.kI.required]})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36($.U),t.Y36(le.y),t.Y36(Q.e8),t.Y36(Ot.C),t.Y36(Yn.YC),t.Y36(As.E),t.Y36(Cs),t.Y36(fe.C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],features:[t.qOj],decls:3,vars:2,consts:[["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],["class","intro-x flex text-slate-600 dark:text-slate-500 text-xs sm:text-sm mt-4",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-Ed1OLmiD9X",1,"btn","btn-outline-secondary","mr-1",2,"width","calc(100% / 3 - 0.25rem)",3,"routerLink","queryParams","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","id","Layer_1","viewBox","0 0 460.1 436.6",1,"lucide","w-4","h-4","mr-2"],["d","M82.6 380.9c-1.8-.8-3.1-1.7-1-3.5 1.3-1 2.7-1.9 4.1-2.8 13.1-8.5 25.4-17.8 33.5-31.5 6.8-11.4 5.7-18.1-2.8-26.5C69 269.2 48.2 212.5 58.6 145.5 64.5 107.7 81.8 75 107 46.6c15.2-17.2 33.3-31.1 53.1-42.7 1.2-.7 2.9-.9 3.1-2.7-.4-1-1.1-.7-1.7-.7-33.7 0-67.4-.7-101 .2C28.3 1.7.5 26.6.6 62.3c.2 104.3 0 208.6 0 313 0 32.4 24.7 59.5 57 60.7 27.3 1.1 54.6.2 82 .1 2 .1 4 .2 6 .2H290c36 0 72 .2 108 0 33.4 0 60.5-27 60.5-60.3v-.6-58.5c0-1.4.5-2.9-.4-4.4-1.8.1-2.5 1.6-3.5 2.6-19.4 19.5-42.3 35.2-67.4 46.3-61.5 27.1-124.1 29-187.6 7.2-5.5-2-11.5-2.2-17.2-.8-8.4 2.1-16.7 4.6-25 7.1-24.4 7.6-49.3 11-74.8 6zm72.5-168.5c1.7-2.2 2.6-3.5 3.6-4.8 13.1-16.6 26.2-33.2 39.3-49.9 3.8-4.8 7.6-9.7 10-15.5 2.8-6.6-.2-12.8-7-15.2-3-.9-6.2-1.3-9.4-1.1-17.8-.1-35.7-.1-53.5 0-2.5 0-5 .3-7.4.9-5.6 1.4-9 7.1-7.6 12.8 1 3.8 4 6.8 7.8 7.7 2.4.6 4.9.9 7.4.8 10.8.1 21.7 0 32.5.1 1.2 0 2.7-.8 3.6 1-.9 1.2-1.8 2.4-2.7 3.5-15.5 19.6-30.9 39.3-46.4 58.9-3.8 4.9-5.8 10.3-3 16.3s8.5 7.1 14.3 7.5c4.6.3 9.3.1 14 .1 16.2 0 32.3.1 48.5-.1 8.6-.1 13.2-5.3 12.3-13.3-.7-6.3-5-9.6-13-9.7-14.1-.1-28.2 0-43.3 0zm116-52.6c-12.5-10.9-26.3-11.6-39.8-3.6-16.4 9.6-22.4 25.3-20.4 43.5 1.9 17 9.3 30.9 27.1 36.6 11.1 3.6 21.4 2.3 30.5-5.1 2.4-1.9 3.1-1.5 4.8.6 3.3 4.2 9 5.8 14 3.9 5-1.5 8.3-6.1 8.3-11.3.1-20 .2-40 0-60-.1-8-7.6-13.1-15.4-11.5-4.3.9-6.7 3.8-9.1 6.9zm69.3 37.1c-.4 25 20.3 43.9 46.3 41.3 23.9-2.4 39.4-20.3 38.6-45.6-.8-25-19.4-42.1-44.9-41.3-23.9.7-40.8 19.9-40 45.6zm-8.8-19.9c0-15.7.1-31.3 0-47 0-8-5.1-13-12.7-12.9-7.4.1-12.3 5.1-12.4 12.8-.1 4.7 0 9.3 0 14v79.5c0 6.2 3.8 11.6 8.8 12.9 6.9 1.9 14-2.2 15.8-9.1.3-1.2.5-2.4.4-3.7.2-15.5.1-31 .1-46.5z",1,"st0"],["d","M139.5 436.2c-27.3 0-54.7.9-82-.1-32.3-1.3-57-28.4-57-60.7 0-104.3.2-208.6 0-313C.5 26.7 28.4 1.8 60.5.9c33.6-.9 67.3-.2 101-.2.6 0 1.4-.3 1.7.7-.2 1.8-2 2-3.1 2.7-19.8 11.6-37.9 25.5-53.1 42.7-25.1 28.4-42.5 61-48.4 98.9-10.4 66.9 10.5 123.7 57.8 171.1 8.4 8.5 9.5 15.1 2.8 26.5-8.1 13.7-20.4 23-33.5 31.5-1.4.8-2.8 1.8-4.2 2.7-2.1 1.8-.8 2.7 1 3.5.4.9.9 1.7 1.5 2.5 11.5 10.2 22.4 21.1 33.7 31.5 5.3 4.9 10.6 10 15.7 15.1 2.1 1.9 5.6 2.5 6.1 6.1z",1,"st1"],["d","M139.5 436.2c-.5-3.5-4-4.1-6.1-6.2-5.1-5.2-10.4-10.2-15.7-15.1-11.3-10.4-22.2-21.3-33.7-31.5-.6-.8-1.1-1.6-1.5-2.5 25.5 5 50.4 1.6 74.9-5.9 8.3-2.5 16.6-5 25-7.1 5.7-1.5 11.7-1.2 17.2.8 63.4 21.8 126 19.8 187.6-7.2 25.1-11.1 48-26.7 67.4-46.2 1-1 1.7-2.5 3.5-2.6.9 1.4.4 2.9.4 4.4v58.5c.2 33.4-26.6 60.6-60 60.9h-.5c-36 .2-72 0-108 0H145.5c-2-.2-4-.3-6-.3z",1,"st2"],["d","M155.1 212.4c15.1 0 29.3-.1 43.4 0 7.9.1 12.2 3.4 13 9.7.9 7.9-3.7 13.2-12.3 13.3-16.2.2-32.3.1-48.5.1-4.7 0-9.3.2-14-.1-5.8-.3-11.5-1.5-14.3-7.5s-.8-11.4 3-16.3c15.4-19.6 30.9-39.3 46.4-58.9.9-1.2 1.8-2.4 2.7-3.5-1-1.7-2.4-.9-3.6-1-10.8-.1-21.7 0-32.5-.1-2.5 0-5-.3-7.4-.8-5.7-1.3-9.2-7-7.9-12.6.9-3.8 3.9-6.9 7.7-7.8 2.4-.6 4.9-.9 7.4-.9 17.8-.1 35.7-.1 53.5 0 3.2-.1 6.3.3 9.4 1.1 6.8 2.3 9.7 8.6 7 15.2-2.4 5.7-6.2 10.6-10 15.5-13.1 16.7-26.2 33.3-39.3 49.8-1.1 1.3-2.1 2.6-3.7 4.8z",1,"st1"],["d","M271.1 159.8c2.4-3.1 4.9-6 9-6.8 7.9-1.6 15.3 3.5 15.4 11.5.3 20 .2 40 0 60 0 5.2-3.4 9.8-8.3 11.3-5 1.9-10.7.4-14-3.9-1.7-2.1-2.4-2.5-4.8-.6-9.1 7.4-19.4 8.7-30.5 5.1-17.8-5.8-25.1-19.7-27.1-36.6-2.1-18.3 4-33.9 20.4-43.5 13.6-8.1 27.4-7.4 39.9 3.5zm-35.4 36.5c.2 4.4 1.6 8.6 4.2 12.1 5.4 7.2 15.7 8.7 23 3.3 1.2-.9 2.3-2 3.3-3.3 5.6-7.6 5.6-20.1 0-27.7-2.8-3.9-7.2-6.2-11.9-6.3-11-.7-18.7 7.8-18.6 21.9zM340.4 196.9c-.8-25.7 16.1-44.9 40.1-45.6 25.5-.8 44.1 16.3 44.9 41.3.8 25.3-14.7 43.2-38.6 45.6-26.1 2.6-46.8-16.3-46.4-41.3zm25.1-2.4c-.2 5 1.3 9.9 4.3 14 5.5 7.2 15.8 8.6 23 3 1.1-.8 2-1.8 2.9-2.8 5.8-7.6 5.8-20.4.1-28-2.8-3.8-7.2-6.2-11.9-6.3-10.8-.6-18.4 7.6-18.4 20.1zM331.6 177c0 15.5.1 31 0 46.5.1 7.1-5.5 13-12.6 13.2-1.2 0-2.5-.1-3.7-.4-5-1.3-8.8-6.6-8.8-12.9v-79.5c0-4.7-.1-9.3 0-14 .1-7.7 5-12.7 12.4-12.7 7.6-.1 12.7 4.9 12.7 12.9.1 15.6 0 31.3 0 46.9z",1,"st1"],["d","M235.7 196.3c-.1-14.1 7.6-22.6 18.5-22 4.7.2 9.1 2.5 11.9 6.4 5.6 7.5 5.6 20.1 0 27.7-5.4 7.2-15.7 8.7-23 3.3-1.2-.9-2.3-2-3.3-3.3-2.5-3.5-3.9-7.7-4.1-12.1zM365.5 194.5c0-12.4 7.6-20.7 18.4-20.1 4.7.1 9.1 2.5 11.9 6.3 5.7 7.6 5.7 20.5-.1 28-5.6 7.1-16 8.3-23.1 2.7-1.1-.8-2-1.8-2.8-2.9-3-4.1-4.4-9-4.3-14z",1,"st0"],["d","M66 1h328.1c35.9 0 65 29.1 65 65v303c0 35.9-29.1 65-65 65H66c-35.9 0-65-29.1-65-65V66C1 30.1 30.1 1 66 1z",1,"st3"],[1,"text-md"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"]],template:function(i,a){1&i&&(t.TgZ(0,"auth-layout"),t.YNc(1,el,27,24,"div",0),t.YNc(2,nl,2,0,"div",0),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",!a.loginByToken),t.xp6(1),t.Q6J("ngIf",a.loginByToken))},dependencies:[p.rH,w.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,dt.l,Zt.M,Pt,b.Jy,b.JV],encapsulation:2})}return n})(),il=(()=>{class n extends k.Q{ngOnInit(){super.ngOnInit(),this.fireAuth.signOut(),this.userService.logout();var e=this.commonService.getMyQueryParam("return_url")||null;e?this.redirectService.redirectSimpleLoginWithReturnUrl(e):this.redirectService.redirectSimpleLogin()}constructor(e,i,a){super(),this.userService=e,this.fireAuth=i,this.redirectService=a,this.fireAuth.signOut()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36($.U),t.Y36(Ci),t.Y36(K.z))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],features:[t.qOj],decls:0,vars:0,template:function(i,a){},encapsulation:2})}return n})(),al=(()=>{class n extends k.Q{ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(li.z))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["auth-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[p.lC],encapsulation:2})}return n})(),rl=(()=>{class n extends k.Q{constructor(e,i,a,u){super(),this.activeRoute=e,this.fireAuth=i,this.authService=a,this.redirectByRoleService=u,this.checkLoadingLogin=!1,this.fireAuth.authState.pipe((0,_o.P)()).subscribe(_=>{_?this.signInWithTokenGoogle(_):this.googleSignIn()})}signInWithTokenGoogle(e){this.checkLoadingLogin=!0;let i=this.commonService.getMyParam(this.activeRoute,"type"),a=parseInt(i??"0",10);e.getIdToken().then(u=>{let _={isRegisterForm:1,isRegisterForTeacher:a,firebaseToken:u,language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(_).subscribe(f=>{if(1==f.success){let L=this.commonService.getMyQueryParam("return_url")??"";if(""===L){let F=this.commonService.getMyQueryParam("backto")??"";var x=F.includes("return_url=")?F.split("return_url=")[1]:"";L=decodeURIComponent(x)}0==Number(i)?this.redirectByRoleService.redirectLoginForStudent(L):this.redirectByRoleService.redirectLoginByRole(L),this.successStatusObj(),this.checkLoadingLogin=!1}else{this.errorStatusObj(f.message??"",!0);const L=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(L)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new ue.hJ).then(()=>this.fireAuth.getRedirectResult().then(e=>{})).catch(e=>{const i=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(i)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(p.gz),t.Y36(Ci),t.Y36(Q.e8),t.Y36(Ot.C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["register-by-openapi"]],features:[t.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"azt-loading-ui",2),t.qZA(),t.TgZ(3,"div",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("type","azota-logo"),t.xp6(2),t.hij(" ",t.lcZ(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[te.n,b.JV],encapsulation:2})}return n})();function sl(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",45)(1,"div",46)(2,"div",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeRegisterType(0))}),t.O4$(),t.TgZ(3,"svg",48),t._UZ(4,"path",9)(5,"path",10),t.qZA(),t.kcU(),t.TgZ(6,"p",49),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",46)(10,"div",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeRegisterType(1))}),t.O4$(),t.TgZ(11,"svg",51)(12,"g",52),t._UZ(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56)(17,"path",57)(18,"path",58)(19,"path",59)(20,"path",60)(21,"path",61),t.qZA()(),t.kcU(),t.TgZ(22,"p",49),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"lang_auto_toi_la_hoc_sinh")),t.xp6(16),t.Oqu(t.lcZ(24,4,"lang_auto_toi_la_giao_vien")))}function cl(n,c){1&n&&(t.TgZ(0,"div",62)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function ll(n,c){1&n&&(t.TgZ(0,"div",62)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function ul(n,c){if(1&n&&(t.TgZ(0,"div",62)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.msgError)}}function dl(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",63),t._UZ(2,"path",64)(3,"circle",65),t.qZA()())}function _l(n,c){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",63),t._UZ(2,"path",66)(3,"path",67)(4,"path",68)(5,"line",69),t.qZA()())}function gl(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function pl(n,c){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function hl(n,c){if(1&n&&(t.TgZ(0,"div",62),t.YNc(1,gl,3,3,"span",24),t.YNc(2,pl,3,3,"span",24),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.minlength)}}const jr=function(n){return[n]},ks=function(n,c){return{return_url:n,from:"register",user_click:"true",type:c}};function ml(n,c){if(1&n&&(t.TgZ(0,"div",73),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"a",74),t.ALo(4,"localize"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,5,e.statusObj.errorMessage)," Click "),t.xp6(2),t.Q6J("routerLink",t.VKq(13,jr,t.lcZ(4,7,"/auth/login")))("queryParams",t.WLB(15,ks,e.returnUrl,e.isStudent?0:1)),t.xp6(2),t.hij(" ",t.lcZ(6,9,"lang_auto_vao_day")," "),t.xp6(2),t.hij(" ",t.lcZ(8,11,"lang_auto_de_dang_nhap")," ")}}function fl(n,c){if(1&n&&(t.TgZ(0,"label",75),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.statusObj.errorMessage)," ")}}function vl(n,c){if(1&n&&(t.TgZ(0,"div",70),t.YNc(1,ml,9,18,"div",71),t.YNc(2,fl,3,3,"ng-template",null,72,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.isDuplicateEmailOrPhone>0)("ngIfElse",e)}}function xl(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",76),t._uU(2,"\xa0"),t.qZA())}function yl(n,c){if(1&n&&(t.ynx(0),t.TgZ(1,"a",77),t.ALo(2,"localize"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,jr,t.lcZ(2,3,"/auth/login")))("queryParams",t.WLB(9,ks,e.returnUrl,e.isStudent?0:1)),t.xp6(2),t.hij(" ",t.lcZ(4,5,"lang_auto_dang_nhap")," ")}}const bl=function(n){return{return_url:n,from:"register",user_click:"true"}};function wl(n,c){if(1&n&&(t.TgZ(0,"a",78),t.ALo(1,"localize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.Q6J("routerLink",t.VKq(7,jr,t.lcZ(1,3,"/auth/login")))("queryParams",t.VKq(9,bl,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_auto_dang_nhap"))}}const Zs=function(n){return{active:n}};let Ss=(()=>{class n extends k.Q{executeImportantAction(){return new Promise(e=>{this.recaptchaV3Service.execute("importantAction").subscribe(i=>{e(i)})})}getFormValue(){return this.form.getRawValue()}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url")??"";var e="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",e)}changeRegisterType(e){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${e}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==e?(this.isTeacher=!1,this.isStudent=!0,this.checkValidateUsername=!1):(this.isTeacher=!0,this.isStudent=!1,this.checkValidateUsername=!1)}loginZalo(){window.location.href=this.zaloLoginUrl}registerForTeacher(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(e=>{var i=this.getFormValue(),a={fullName:i.fullName,password:i.password,tokenCaptcha:e,language:this.commonService.getCurrentLang()};this.validateEmail(i.username)?a.email=i.username:a.phone=i.username,this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRegisterPost(a).subscribe(u=>{1==u.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(u.message??""),this.isDuplicateEmailOrPhone=u.data?.isDuplicateEmailOrPhone??0)}))})}registerForStudent(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(e=>{var i=this.getFormValue();this.initStatusObj();var a={fullName:i.fullName,password:i.password,tokenCaptcha:e,language:this.commonService.getCurrentLang()};this.validateEmail(i.username)?a.email=i.username:a.phone=i.username,this.subscriptions.add(this.authService.apiAuthRegisterForStudentPost(a).subscribe(u=>{1==u.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(u.message??""),this.isDuplicateEmailOrPhone=u.data?.isDuplicateEmailOrPhone??0)}))})}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(e){this.msgError="",isNaN(Number(e))?this.validateEmail(e)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0):10==e.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0)}googleSignIn(){const e=this.browserUserAgentService.isCommonInAppBrowser();let i=this.browserUserAgentService.getCommonInAppBrowser(),a=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),u="zalo";"facebook"===i.toLowerCase()&&(u="fb");let _=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${a}/${a}_${u}_1.png`),f=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${a}/${a}_${u}_2.png`);if(e)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(x=>{let L=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),F=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(ws.C,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${x+" "+i}. ${L}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${F} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${_}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${F} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${f}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const x=this.commonService.getMyParam(this.activeRoute,"type"),L=`/auth/register/${x}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${x}`,`?backto=${encodeURIComponent(L)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLoginAndNotAnonymous())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=ut.N.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1");let a=this.commonService.getMyQueryParam("user_click");var e=this.commonService.getMyParam(this.activeRoute,"type");if(this.isBusinessDomain&&this.myNavigation("/auth/login"),null!=e){var i=parseInt(e?.toString(),10);this.changeRegisterType(0==i?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),!a&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/dashboard/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}}constructor(e,i,a,u,_,f,x,L){super(),this.redirectByRoleService=e,this.activeRoute=i,this.userService=a,this.recaptchaV3Service=u,this.cdnService=_,this.sAztDialogService=f,this.authService=x,this.browserUserAgentService=L,this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.checkValidateUsername=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1,this.form=new o.cw({username:new o.NI("",{nonNullable:!0,validators:[o.kI.required,Ht._.noWhiteSpace]}),fullName:new o.NI("",{nonNullable:!0,validators:[o.kI.required,Ht._.noWhiteSpace]}),password:new o.NI("",{nonNullable:!0,validators:[o.kI.required]})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ot.C),t.Y36(p.gz),t.Y36($.U),t.Y36(Yn.YC),t.Y36(As.E),t.Y36(fe.C),t.Y36(Q.e8),t.Y36(Cs))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],features:[t.qOj],decls:81,vars:66,consts:[[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-32","h-32",2,"stroke-width","1"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.0","viewBox","0 0 2600.000000 2600.000000","preserveAspectRatio","xMidYMid meet",1,"lucide","w-32","h-32"],["transform","translate(0.000000,2600.000000) scale(0.100000,-0.100000)","fill","currentColor","stroke","currentColor"],["d","M5087 20663 c-4 -3 -7 -145 -7 -315 l0 -308 5525 0 5525 0 0 315 0 315 -5518 0 c-3035 0 -5522 -3 -5525 -7z"],["d","M5507 19763 c-4 -3 -7 -1365 -7 -3025 l0 -3018 4196 0 c3353 0 4194 3 4188 13 -23 37 -372 551 -447 657 -100 140 -196 327 -227 440 -27 102 -38 229 -29 327 31 315 280 593 589 659 102 22 269 14 365 -16 194 -62 387 -198 546 -387 40 -48 164 -185 273 -303 110 -118 202 -219 206 -223 4 -4 129 183 279 418 l271 425 0 2020 0 2020 -5098 0 c-2804 0 -5102 -3 -5105 -7z m9243 -1328 l0 -235 -4140 0 -4140 0 0 235 0 235 4140 0 4140 0 0 -235z m-3080 -1130 l0 -235 -2600 0 -2600 0 0 235 0 235 2600 0 2600 0 0 -235z m0 -1125 l0 -230 -2600 0 -2600 0 0 230 0 230 2600 0 2600 0 0 -230z m-2480 -1130 l0 -230 -1360 0 -1360 0 0 230 0 230 1360 0 1360 0 0 -230z"],["d","M17409 19294 c-249 -45 -459 -156 -636 -336 -149 -153 -242 -316 -301 -528 -24 -87 -26 -111 -26 -285 0 -174 2 -198 27 -288 142 -527 593 -877 1130 -877 187 0 344 35 502 110 530 255 786 850 609 1412 -110 347 -390 630 -740 747 -176 59 -393 77 -565 45z"],["d","M17370 16650 c-246 -34 -488 -116 -645 -218 -138 -89 -120 -65 -820 -1165 -362 -567 -663 -1037 -669 -1044 -8 -9 -107 92 -408 415 -218 236 -414 450 -435 477 -82 103 -209 212 -300 257 -80 40 -92 43 -167 43 -105 0 -171 -30 -248 -114 -64 -69 -88 -132 -88 -231 0 -129 56 -262 190 -450 45 -63 300 -439 568 -835 522 -773 526 -778 671 -866 98 -59 158 -74 301 -74 122 0 127 1 193 33 42 21 90 56 130 96 39 40 199 257 437 596 l375 534 3 -573 2 -573 -125 -1196 c-69 -658 -125 -1208 -125 -1221 0 -20 3 -23 28 -17 15 3 90 9 167 12 117 5 161 3 264 -15 209 -36 426 -122 574 -227 26 -19 51 -34 55 -34 5 0 71 287 147 638 76 350 142 656 148 680 5 24 10 42 12 40 2 -2 222 -1013 489 -2248 267 -1235 492 -2274 501 -2310 28 -117 123 -228 233 -271 79 -32 195 -32 275 0 120 47 226 182 244 312 6 41 -61 717 -294 2944 l-302 2890 2 582 2 583 625 -1018 c343 -559 644 -1038 667 -1063 80 -86 213 -137 325 -125 129 13 249 101 304 221 37 80 45 207 19 286 -10 30 -483 919 -1051 1976 -1154 2146 -1044 1960 -1225 2075 -127 80 -301 144 -499 184 -98 19 -445 28 -550 14z"],["d","M5087 13443 c-4 -3 -7 -145 -7 -315 l0 -308 4711 0 4710 0 -212 315 -213 315 -4491 0 c-2471 0 -4495 -3 -4498 -7z"],["d","M7306 10119 c-148 -22 -312 -85 -437 -169 -82 -55 -213 -187 -268 -268 -63 -94 -118 -215 -148 -327 -23 -88 -26 -118 -26 -255 0 -167 12 -234 69 -377 88 -224 279 -429 501 -539 l84 -41 -78 -28 c-312 -110 -580 -343 -731 -634 -96 -184 -139 -342 -149 -543 l-6 -128 1332 0 1333 0 -7 98 c-22 331 -117 577 -316 819 -137 166 -371 325 -582 394 l-66 21 97 49 c281 141 480 400 544 709 16 78 19 121 15 240 -6 178 -26 261 -102 415 -121 248 -331 432 -592 518 -163 54 -313 68 -467 46z"],["d","M11775 10115 c-209 -40 -384 -128 -532 -269 -221 -209 -336 -496 -320 -795 14 -253 110 -473 286 -655 91 -94 177 -157 289 -212 l83 -41 -78 -28 c-312 -110 -584 -346 -732 -635 -95 -186 -138 -342 -148 -542 l-6 -128 1332 0 1331 0 -6 98 c-22 371 -142 643 -393 893 -158 158 -319 259 -505 319 l-69 23 73 33 c256 119 455 346 544 619 34 105 46 187 46 311 0 474 -316 872 -790 996 -102 26 -299 33 -405 13z"],["d","M16275 10114 c-228 -41 -418 -144 -579 -315 -277 -295 -352 -718 -193 -1098 88 -213 276 -409 495 -517 l83 -41 -78 -28 c-507 -179 -857 -646 -880 -1172 l-6 -133 1328 0 1328 0 -6 138 c-15 337 -150 629 -405 873 -145 140 -318 246 -485 299 l-67 22 92 46 c304 153 504 428 558 764 17 105 8 300 -18 400 -52 195 -146 352 -295 494 -110 105 -216 171 -351 219 -173 62 -353 79 -521 49z"],["d","M5002 5933 l3 -408 6940 0 6940 0 3 408 2 407 -6945 0 -6945 0 2 -407z"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],["role","status",1,"spinner-border","spinner-border-sm"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(i,a){if(1&i&&(t.TgZ(0,"auth-layout")(1,"h2",0),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,sl,25,6,"div",1),t.TgZ(5,"div",2)(6,"form",3)(7,"div",4)(8,"ul",5)(9,"li",6)(10,"button",7),t.NdJ("click",function(){return a.changeRegisterType(0)}),t.O4$(),t.TgZ(11,"svg",8),t._UZ(12,"path",9)(13,"path",10),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(16,"li",11)(17,"button",12),t.NdJ("click",function(){return a.changeRegisterType(1)}),t.O4$(),t.TgZ(18,"svg",8),t._UZ(19,"path",13)(20,"circle",14),t.qZA(),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(23,"div",15)(24,"div",16)(25,"div",17),t._UZ(26,"input",18),t.ALo(27,"mytranslate"),t.YNc(28,cl,4,3,"div",19),t.qZA(),t.TgZ(29,"div",17)(30,"input",20),t.NdJ("input",function(){return a.checkValidateUser(a.form.controls.username.value)}),t.ALo(31,"mytranslate"),t.qZA(),t.YNc(32,ll,4,3,"div",19),t.YNc(33,ul,3,1,"div",19),t.qZA(),t.TgZ(34,"div",17)(35,"div",21),t._UZ(36,"input",22),t.ALo(37,"mytranslate"),t.TgZ(38,"button",23),t.NdJ("click",function(){return a.togglePassword()}),t.YNc(39,dl,4,0,"span",24),t.YNc(40,_l,6,0,"span",24),t.qZA()(),t.YNc(41,hl,3,2,"div",19),t.qZA()()()(),t.YNc(42,vl,4,2,"div",25),t.TgZ(43,"div",26)(44,"p",27),t._uU(45),t.ALo(46,"mytranslate"),t.ALo(47,"mytranslate"),t.ALo(48,"mytranslate"),t.TgZ(49,"a",28),t._uU(50),t.ALo(51,"mytranslate"),t.qZA(),t._uU(52),t.ALo(53,"mytranslate"),t.TgZ(54,"a",29),t._uU(55),t.ALo(56,"mytranslate"),t.qZA()()(),t.TgZ(57,"div",30)(58,"button",31),t.NdJ("click",function(){return 1==a.isStudent?a.registerForStudent():a.registerForTeacher()}),t.YNc(59,xl,3,0,"span",24),t._uU(60),t.ALo(61,"mytranslate"),t.qZA()(),t.TgZ(62,"div",32),t._uU(63),t.ALo(64,"mytranslate"),t.YNc(65,yl,5,12,"ng-container",33),t.YNc(66,wl,4,11,"ng-template",null,34,t.W1O),t.qZA(),t.TgZ(68,"div",35)(69,"span",36),t._uU(70),t.ALo(71,"mytranslate"),t.qZA()(),t.TgZ(72,"div",37)(73,"button",38),t.NdJ("click",function(){return a.googleSignIn()}),t.O4$(),t.TgZ(74,"svg",39),t._UZ(75,"path",40)(76,"path",41)(77,"path",42)(78,"path",43),t.qZA(),t.kcU(),t.TgZ(79,"span",44),t._uU(80,"Google"),t.qZA()()()()()()),2&i){const u=t.MAs(67);t.xp6(2),t.hij(" ",t.lcZ(3,32,"lang_auto_dang_ky")," "),t.xp6(2),t.Q6J("ngIf",1==a.isShowOption),t.xp6(1),t.Q6J("hidden",a.isShowOption),t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.Q6J("ngClass",t.VKq(62,Zs,a.isStudent)),t.xp6(4),t.hij(" ",t.lcZ(15,34,"lang_auto_hoc_sinh")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(64,Zs,a.isTeacher)),t.xp6(4),t.hij(" ",t.lcZ(22,36,"lang_auto_giao_vien")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(27,38,"lang_auto_ho_ten")),t.xp6(2),t.Q6J("ngIf",a.form.controls.fullName.errors&&(a.form.controls.fullName.dirty||a.form.controls.fullName.touched)),t.xp6(2),t.s9C("placeholder",t.lcZ(31,40,"lang_auto_nhap_sdt_hoac_email")),t.xp6(2),t.Q6J("ngIf",a.form.controls.username.errors&&(a.form.controls.username.dirty||a.form.controls.username.touched)&&!a.checkValidateUsername),t.xp6(1),t.Q6J("ngIf",a.checkValidateUsername),t.xp6(3),t.s9C("placeholder",t.lcZ(37,42,"lang_auto_mat_khau")),t.Q6J("type",a.showPassword?"text":"password"),t.xp6(3),t.Q6J("ngIf",a.showPassword),t.xp6(1),t.Q6J("ngIf",!a.showPassword),t.xp6(1),t.Q6J("ngIf",a.form.controls.password.errors&&(a.form.controls.password.dirty||a.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",a.statusObj.errorMessage),t.xp6(3),t.lnq(" ",t.lcZ(46,44,"lang_auto_bang_cach_an_vao_nut"),' "',t.lcZ(47,46,"lang_auto_dang_ky"),'" ',t.lcZ(48,48,"lang_auto__toi_dong_y_voi")," "),t.xp6(5),t.hij(" ",t.lcZ(51,50,"lang_auto_dieu_khoan_su_dung")," "),t.xp6(2),t.hij(" ",t.lcZ(53,52,"lang_auto_va")," "),t.xp6(3),t.hij(" ",t.lcZ(56,54,"lang_auto_chinh_sach_bao_mat_cua_azota"),""),t.xp6(3),t.Q6J("disabled",a.form.invalid),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(61,56,"lang_auto_dang_ky")," "),t.xp6(3),t.hij(" ",t.lcZ(64,58,"lang_auto_ban_da_co_tai_khoan")," "),t.xp6(2),t.Q6J("ngIf",a.isDuplicateEmailOrPhone>0)("ngIfElse",u),t.xp6(5),t.Oqu(t.lcZ(71,60,"lang_auto_hoac"))}},dependencies:[p.rH,w.mk,w.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Zt.M,Pt,Y.lO,b.JV],encapsulation:2})}return n})();var Al=g(6411);function Cl(n,c){1&n&&(t.TgZ(0,"div",12)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Tl(n,c){if(1&n&&(t.TgZ(0,"div",12)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.msgError)}}function kl(n,c){1&n&&(t.TgZ(0,"span",13),t._UZ(1,"azt-loading-ui",14),t.qZA()),2&n&&(t.xp6(1),t.Q6J("type","oval"))}function Sl(n,c){1&n&&(t.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_cms_common_loading"),"..."))}function Il(n,c){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ol(n,c){if(1&n&&(t.TgZ(0,"div",28),t.YNc(1,Il,3,3,"div",10),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required")||e.getErrorType("password","minlength"))}}function Ll(n,c){if(1&n&&(t.TgZ(0,"div",14)(1,"label",29),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("*** ",t.lcZ(3,1,e.statusObj.errorMessage),"")}}function El(n,c){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",30),t._uU(2,"\xa0"),t.qZA())}const Pl=function(n){return[n]},Ml=function(){return{user_click:"true"}};function ql(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),t._UZ(4,"input",17),t.ALo(5,"mytranslate"),t.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),t._uU(9,"lock"),t.qZA()()()(),t.TgZ(10,"div",16),t._UZ(11,"input",20),t.ALo(12,"mytranslate"),t.TgZ(13,"div",18)(14,"span",19)(15,"mat-icon"),t._uU(16,"lock"),t.qZA()()()(),t.YNc(17,Ol,2,1,"div",21),t.qZA()(),t.YNc(18,Ll,4,3,"div",22),t.TgZ(19,"div",23)(20,"div",15)(21,"div",24)(22,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.form.invalid||a.statusObj.loading||a.changePassword())}),t.YNc(23,El,3,0,"span",10),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()()(),t._UZ(26,"hr"),t.TgZ(27,"div",26)(28,"a",27),t.ALo(29,"localize"),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.s9C("placeholder",t.lcZ(5,10,"lang_auto_mat_khau_moi")),t.xp6(7),t.s9C("placeholder",t.lcZ(12,12,"lang_auto_xac_nhan_mat_khau")),t.xp6(6),t.Q6J("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.xp6(1),t.Q6J("ngIf",e.statusObj.errorMessage),t.xp6(4),t.Q6J("disabled",e.form.invalid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij("",t.lcZ(25,14,"lang_auto_doi_mat_khau")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(20,Pl,t.lcZ(29,16,"/auth/login")))("queryParams",t.DdM(22,Ml)),t.xp6(2),t.Oqu(t.lcZ(31,18,"lang_auto_dang_nhap_tai_khoan"))}}const Ul=[{path:"",component:al,children:[{path:"login",component:ol},{path:"login-scan/:role",component:zc},{path:"login-by-zalo",component:uc},{path:"register",component:Ss},{path:"register/:type",component:Ss},{path:"choose-role",component:Da},{path:"required-phone-or-email",component:(()=>{class n extends k.Q{addEmailOrPhone(){if(this.form.valid){let e,i;this.initStatusObj(),this.validateEmail(this.form.controls.phone.value)?i=this.form.controls.phone.value:e=this.form.controls.phone.value,this.subscriptions.add(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(e,i).subscribe(a=>{if(1==a.success){let u=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(u),this.successStatusObj()}else this.errorStatusObj(a.message??"",!0)}))}}backToRedirect(){let e=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(e)}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(e){this.msgError="",isNaN(Number(e))?this.validateEmail(e)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0):10==e.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(i=>{this.msgError=i}),this.checkValidateUsername=!0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,i){super(),this.userZaloService=e,this.zaloService=i,this.msgError="",this.checkValidateUsername=!1,this.form=new o.cw({phone:new o.NI("",{nonNullable:!0,validators:[o.kI.required,Ht._.noWhiteSpace]})}),this.zaloService.checkLoginZalo()||this.backToRedirect()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Q.wS),t.Y36(Al.i))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-required-phone-or-email"]],features:[t.qOj],decls:22,vars:17,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"w-4","h-4","mr-2"],[3,"type"]],template:function(i,a){1&i&&(t.TgZ(0,"auth-layout")(1,"h2",0),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),t.NdJ("input",function(){return a.checkValidateUser(a.form.controls.phone.value)}),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Cl,4,3,"div",5),t.YNc(10,Tl,3,1,"div",5),t.qZA(),t.TgZ(11,"div",6)(12,"button",7),t.NdJ("click",function(){return a.addEmailOrPhone()}),t.YNc(13,kl,2,1,"span",8),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()(),t.TgZ(16,"div",6)(17,"a",9),t.NdJ("click",function(){return a.backToRedirect()}),t.O4$(),t.TgZ(18,"svg",10),t._UZ(19,"polyline",11),t.qZA(),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,9,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(2),t.s9C("placeholder",t.lcZ(8,11,"lang_auto_nhap_sdt_hoac_email")),t.xp6(2),t.Q6J("ngIf",a.form.controls.phone.invalid&&(a.form.controls.phone.dirty||a.form.controls.phone.touched)&&!a.checkValidateUsername),t.xp6(1),t.Q6J("ngIf",a.checkValidateUsername),t.xp6(2),t.Q6J("disabled",a.statusObj.loading||a.form.invalid),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(15,13,"lang_auto_tiep_tuc")," "),t.xp6(6),t.hij(" ",t.lcZ(21,15,"lang_auto_quay_lai")," "))},dependencies:[w.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Zt.M,te.n,Pt,b.JV],encapsulation:2})}return n})()},{path:"logout",component:il},{path:"confirm_forgot_password",component:tr},{path:"confirm-forgot-password-email",component:Rn},{path:"forgot_password_success",component:hi},{path:"confirm_forgot_password_qr",component:no},{path:"confirm_forgot_password_old",component:ar},{path:"confirm_account",component:Ga},{path:"checking_service",component:Qa},{path:"set_new_password",component:(()=>{class n extends k.Q{getError(e){return!!this.form.controls[e].errors&&this.form.controls[e].errors}getErrorType(e,i){return!!this.form.controls[e].errors?.[i]&&this.form.controls[e].errors?.[i]}changePassword(){if(this.form.valid){let u=this.getFormValue();if(u.password!=u.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var e=this.commonService.getMyQueryParam("token"),i=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:e??"",newPassword:u.password,appName:i??""}).subscribe(_=>{1==_.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(_.message??"")}))}}}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,i){super(),this.redirectByRoleService=e,this.userInfoService=i,this.form=new o.cw({emailOrPhone:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),hash:new o.NI("",{nonNullable:!0,validators:[o.kI.required]}),password:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.minLength(6)]}),confirm_password:new o.NI("",{nonNullable:!0})})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Ot.C),t.Y36(Q.$C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[t.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","off",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["type","password","formControlName","confirm_password","autocomplete","off",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.ALo(6,"convertCdnLinkOfGitHub"),t.TgZ(7,"div",6)(8,"div",7)(9,"span",8),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",9),t.YNc(13,Sl,6,3,"div",10),t.YNc(14,ql,32,23,"div",10),t.qZA()()(),t._UZ(15,"div",3),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.Q6J("src",t.lcZ(6,5,"images/logo.svg"),t.LSH),t.xp6(5),t.Oqu(t.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),t.xp6(3),t.Q6J("ngIf",a.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!a.statusObj.loading))},dependencies:[p.rH,w.O5,o._Y,o.Fj,o.JJ,o.JL,Et.lW,Yt.Hw,o.sg,o.u,Zt.M,Y.lO,b.JV,b.Bo],encapsulation:2})}return n})()},{path:"create-qr-forgot-pass/:role",component:co},{path:"change-email",component:Qn},{path:"account-setting/:roleType/:modeType",component:Ea},{path:"go-to-mobile/:code",component:uo},{path:"go-to-mobile/:code/:fromApp",component:uo},{path:"login-by-openapi",component:lc},{path:"register-by-openapi/:type",component:rl}]}];let Nl=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(Ul),p.Bz,Y.fQ]})}return n})(),jl=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.Bz,w.ez,o.u5,N.Z_,C.j,o.UX,Nl,it.W,J.d,tt.Z,I.QG,E.kb,R.hO.initializeApp(ut.N.firebaseConfig_app1,"auth"),z.qyJ.pick(z.ciZ),S.l1,y]})}return n})()},90159:(kt,at,g)=>{g.d(at,{H7:()=>t,LT:()=>st});var w=g(65619),R=g(63019),o=g(37398),p=g(65879),N=g(23655);class z{constructor(q,M,H,y,A=1,S=!1,I=!1,E,C){this.id=q,this.pr=M,this.type=H,this.item=y,this.level=A,this.expandable=S,this.isLoading=I,this.prNode=E,this.isLeaf=C}}let t=(()=>{class G{constructor(M){this.testMarketQuestionService=M,this.dataMap=new Map,this.levelId=0,this.subjectId=0}initialData(M,H){return this.levelId=M,this.subjectId=H,new Promise(y=>{this.apiLeechData(void 0).then(A=>{y(A.map(S=>new z(S.id,S.pr,S.type,S.name,0,"cate"===S.type,!1,void 0,S.isLeaf)))})})}isExpandable(M){return this.dataMap.has(M)}apiLeechData(M){return new Promise(H=>{const y=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,M).subscribe(A=>{1===A.success&&A.data&&(A.data.objs||[]).forEach(I=>{y.push({pr:M??0,id:I.id??0,name:I.name?`${I.name}`:"",type:"cate",isLeaf:I.isLeaf??!1})}),H(y)})})}static#t=this.\u0275fac=function(H){return new(H||G)(p.LFG(N.Q_))};static#e=this.\u0275prov=p.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();class st{get data(){return this.dataChange.value}set data(q){this._treeControl.dataNodes=q,this.dataChange.next(q)}constructor(q,M){this._treeControl=q,this._database=M,this.dataChange=new w.X([])}connect(q){return this._treeControl.expansionModel.changed.subscribe(M=>{(M.added||M.removed)&&this.handleTreeControl(M)}),(0,R.T)(q.viewChange,this.dataChange).pipe((0,o.U)(()=>this.data))}getNode(q){let M=this.data.filter(H=>H.id==q);return M&&M.length>0?M[0]:null}disconnect(q){}handleTreeControl(q){q.added&&q.added.forEach(M=>this.toggleNode(M,!0)),q.removed&&q.removed.slice().reverse().forEach(M=>this.toggleNode(M,!1))}toggleNode(q,M){if("cate"===q.type){const H=this.data.indexOf(q);if(M)q.isLoading=!0,this._database.apiLeechData(q.id).then(y=>{const A=y.map(S=>new z(S.id,S.pr,S.type,S.name,q.level+1,"cate"===S.type,!1,q,S.isLeaf));this.data.splice(H+1,0,...A),this.dataChange.next(this.data),q.isLoading=!1});else{let y=0;for(let A=H+1;A<this.data.length&&this.data[A].level>q.level;A++,y++);this.data.splice(H+1,y),this.dataChange.next(this.data)}}}}},44683:(kt,at,g)=>{g.d(at,{WG:()=>q,o8:()=>t});var w=g(29023),R=g(65879),o=g(16676),p=g.n(o),N=g(46558);const z=p()||o,t=new R.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function st(){return{useUtc:!1}}});function G(M,H){const y=Array(M);for(let A=0;A<M;A++)y[A]=H(A);return y}let q=(()=>{class M extends w.fM{constructor(y){super(),this._options=y,this.commonService=(0,R.f3M)(N.z),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},z.locale(),this.setLocale(this.commonService.getCurrentLang()||z.locale())}setLocale(y){super.setLocale(y);const A=z.localeData(y);this._localeData={firstDayOfWeek:A.firstDayOfWeek(),longMonths:A.months(),shortMonths:A.monthsShort(),dates:G(31,S=>this.createDate(2017,0,S+1).format("D")),longDaysOfWeek:A.weekdays(),shortDaysOfWeek:A.weekdaysShort(),narrowDaysOfWeek:A.weekdaysMin()}}getYear(y){return this.clone(y).year()}getMonth(y){return this.clone(y).month()}getDate(y){return this.clone(y).date()}getDayOfWeek(y){return this.clone(y).day()}getMonthNames(y){return"long"===y?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(y){return"long"===y?this._localeData.longDaysOfWeek:"short"===y?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(y){return this.clone(y).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(y){return this.clone(y).daysInMonth()}clone(y){return y.clone().locale(this.locale)}createDate(y,A,S){if(A<0||A>11)throw Error(`Invalid month index "${A}". Month index has to be between 0 and 11.`);if(S<1)throw Error(`Invalid date "${S}". Date has to be greater than 0.`);const I=this._createMoment({year:y,month:A,date:S}).locale(this.locale);if(!I.isValid())throw Error(`Invalid date "${S}" for month with index "${A}".`);return I}today(){return this._createMoment().locale(this.locale)}parse(y,A){return y&&"string"==typeof y?this._createMoment(y,A,this.locale):y?this._createMoment(y).locale(this.locale):null}format(y,A){if(y=this.clone(y),!this.isValid(y))throw Error("MomentDateAdapter: Cannot format invalid date.");return y.format(A)}addCalendarYears(y,A){return this.clone(y).add({years:A})}addCalendarMonths(y,A){return this.clone(y).add({months:A})}addCalendarDays(y,A){return this.clone(y).add({days:A})}toIso8601(y){return this.clone(y).format()}deserialize(y){let A;if(y instanceof Date)A=this._createMoment(y).locale(this.locale);else if(this.isDateInstance(y))return this.clone(y);if("string"==typeof y){if(!y)return null;A=this._createMoment(y,z.ISO_8601).locale(this.locale)}return A&&this.isValid(A)?this._createMoment(A).locale(this.locale):super.deserialize(y)}isDateInstance(y){return z.isMoment(y)}isValid(y){return this.clone(y).isValid()}invalid(){return z.invalid()}getHour(y){return y.hours()}getMinute(y){return y.minutes()}getSecond(y){return y.seconds()}setHour(y,A){y.hours(A)}setMinute(y,A){y.minutes(A)}setSecond(y,A){y.seconds(A)}_createMoment(y,A,S){const{strict:I,useUtc:E}=this._options||{};return E?z.utc(y,A,S,I):z(y,A,S,I)}static#t=this.\u0275fac=function(A){return new(A||M)(R.LFG(t,8))};static#e=this.\u0275prov=R.Yz7({token:M,factory:M.\u0275fac})}return M})()},6411:(kt,at,g)=>{g.d(at,{i:()=>p});var w=g(65879),R=g(2816),o=g(46558);let p=(()=>{class N{constructor(t,st){this.userService=t,this.commonService=st}checkLoginZalo(){if(!this.userService.isLogin())return!1;const t=this.userService.getUserObj();return!(!t.zaloId||t.phone&&10==t.phone.length||t.email&&-1!==t.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}static#t=this.\u0275fac=function(st){return new(st||N)(w.LFG(R.U),w.LFG(o.z))};static#e=this.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},18881:(kt,at,g)=>{g.d(at,{L:()=>It});var w=g(47496),R=g(20553),o=g(65879),p=g(94960),N=g(88489),z=g(23433),t=g(2816),st=g(21266),G=g(96814),q=g(92596),M=g(24097),H=g(82509),y=g(73882),A=g(48244),S=g(69198),I=g(40750);function E(B,ft){if(1&B&&(o.TgZ(0,"div",8),o.GkF(1,9),o.TgZ(2,"div",10),o.GkF(3,9),o.TgZ(4,"div",11)(5,"div",12),o.GkF(6,9),o.qZA(),o.TgZ(7,"div",13),o.GkF(8,9),o.qZA()()()()),2&B){o.oxw(2);const nt=o.MAs(8),_t=o.MAs(6),rt=o.MAs(4),jt=o.MAs(2);o.xp6(1),o.Q6J("ngTemplateOutlet",nt),o.xp6(2),o.Q6J("ngTemplateOutlet",_t),o.xp6(3),o.Q6J("ngTemplateOutlet",rt),o.xp6(2),o.Q6J("ngTemplateOutlet",jt)}}function C(B,ft){if(1&B&&(o.TgZ(0,"div",8)(1,"div",10)(2,"div",11)(3,"div",13),o.GkF(4,9),o.qZA()()()()),2&B){o.oxw(2);const nt=o.MAs(2);o.xp6(4),o.Q6J("ngTemplateOutlet",nt)}}function tt(B,ft){if(1&B&&(o.TgZ(0,"div",5),o.YNc(1,E,9,4,"div",6),o.YNc(2,C,5,1,"div",6),o.TgZ(3,"div",7),o._UZ(4,"header-setting-color"),o.qZA()()),2&B){const nt=o.oxw();o.xp6(1),o.Q6J("ngIf",!nt.isMobileWebView),o.xp6(1),o.Q6J("ngIf",nt.isMobileWebView)}}function J(B,ft){1&B&&o.Hsn(0)}function it(B,ft){if(1&B){const nt=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(nt);const rt=o.oxw(2);return o.KtG(rt.goBack())}),o.O4$(),o.TgZ(1,"svg",21),o._UZ(2,"polyline",22),o.qZA(),o.kcU(),o.TgZ(3,"span",23),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()}2&B&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"lang_auto_quay_lai")))}function ut(B,ft){if(1&B&&(o.TgZ(0,"div",14),o.YNc(1,it,6,3,"button",15),o.qZA(),o.TgZ(2,"div",16),o._UZ(3,"azt-switch-language"),o.qZA(),o.TgZ(4,"div",16),o._UZ(5,"header-notice-box",17),o.qZA(),o.TgZ(6,"div",18),o._UZ(7,"header-account-menu",19),o.qZA()),2&B){const nt=o.oxw();o.xp6(1),o.Q6J("ngIf",""!=nt.headerBackToLink),o.xp6(4),o.Q6J("role",1),o.xp6(2),o.Q6J("isTeacherDashboard",!1)}}const Y=function(B){return[B]},et=function(){return["/student/dashboard/0","/de-thi","/test/","/auth/account-setting/","/notify","/student/add-teacher","/on-luyen"]},k=function(){return["/student/dashboard/1","/bai-tap"]};function $(B,ft){1&B&&(o.TgZ(0,"nav",24)(1,"a",25),o.ALo(2,"navigationLocalize"),o._UZ(3,"img",26),o.ALo(4,"convertCdnLinkOfGitHub"),o.qZA(),o._UZ(5,"div",27),o.TgZ(6,"ul")(7,"li")(8,"a",28),o.ALo(9,"navigationLocalize"),o.TgZ(10,"div",29),o.ALo(11,"mytranslate"),o.O4$(),o.TgZ(12,"svg",30),o._UZ(13,"path",31)(14,"polyline",32)(15,"path",33),o.qZA()(),o.kcU(),o.TgZ(16,"div",34),o._uU(17),o.ALo(18,"mytranslate"),o.qZA()()(),o.TgZ(19,"li")(20,"a",35),o.ALo(21,"navigationLocalize"),o.TgZ(22,"div",29),o.ALo(23,"mytranslate"),o.O4$(),o.TgZ(24,"svg",30),o._UZ(25,"path",31)(26,"polyline",32)(27,"line",36)(28,"line",37)(29,"line",38),o.qZA()(),o.kcU(),o.TgZ(30,"div",34),o._uU(31),o.ALo(32,"mytranslate"),o.qZA()()()()()),2&B&&(o.xp6(1),o.Q6J("routerLink",o.VKq(28,Y,o.lcZ(2,12,"/student/dashboard/0"))),o.xp6(2),o.Q6J("src",o.lcZ(4,14,"images/logo-white.svg"),o.LSH),o.xp6(5),o.Q6J("routerLink",o.VKq(30,Y,o.lcZ(9,16,"/student/dashboard/0")))("changeActiveRouter",o.DdM(32,et)),o.xp6(2),o.s9C("matTooltip",o.lcZ(11,18,"lang_auto_de_thi")),o.Q6J("matTooltipPosition","right"),o.xp6(7),o.hij(" ",o.lcZ(18,20,"lang_auto_de_thi")," "),o.xp6(3),o.Q6J("routerLink",o.VKq(33,Y,o.lcZ(21,22,"/student/dashboard/1")))("changeActiveRouter",o.DdM(35,k)),o.xp6(2),o.s9C("matTooltip",o.lcZ(23,24,"lang_auto_bai_tap")),o.Q6J("matTooltipPosition","right"),o.xp6(9),o.hij(" ",o.lcZ(32,26,"lang_auto_bai_tap")," "))}const K=function(){return["/student/dashboard/0","/de-thi","/test/answer-test","/auth/account-setting/","/on-luyen/"]};function ht(B,ft){if(1&B){const nt=o.EpF();o.TgZ(0,"div",39)(1,"div",40)(2,"a",41),o.ALo(3,"navigationLocalize"),o._UZ(4,"img",26),o.ALo(5,"convertCdnLinkOfGitHub"),o.qZA(),o.TgZ(6,"a",42),o.NdJ("click",function(){o.CHM(nt);const rt=o.oxw();return o.KtG(rt.openMenuMobile())}),o.O4$(),o.TgZ(7,"svg",43),o._UZ(8,"line",44)(9,"line",45)(10,"line",46),o.qZA()()(),o.kcU(),o.TgZ(11,"div",47)(12,"a",48),o.NdJ("click",function(){o.CHM(nt);const rt=o.oxw();return o.KtG(rt.closeMenuMobile())}),o.O4$(),o.TgZ(13,"svg",43),o._UZ(14,"circle",49)(15,"line",50)(16,"line",51),o.qZA()(),o.kcU(),o.TgZ(17,"ul",52)(18,"li")(19,"a",53),o.NdJ("click",function(){o.CHM(nt);const rt=o.oxw();return o.KtG(rt.closeMenuMobile())}),o.ALo(20,"navigationLocalize"),o.TgZ(21,"div",54),o.O4$(),o.TgZ(22,"svg",30),o._UZ(23,"path",31)(24,"polyline",32)(25,"path",33),o.qZA()(),o.kcU(),o.TgZ(26,"div",55),o._uU(27),o.ALo(28,"mytranslate"),o.qZA()()(),o.TgZ(29,"li")(30,"a",56),o.NdJ("click",function(){o.CHM(nt);const rt=o.oxw();return o.KtG(rt.closeMenuMobile())}),o.ALo(31,"navigationLocalize"),o.TgZ(32,"div",54),o.O4$(),o.TgZ(33,"svg",30),o._UZ(34,"path",31)(35,"polyline",32)(36,"line",36)(37,"line",37)(38,"line",38),o.qZA()(),o.kcU(),o.TgZ(39,"div",55),o._uU(40),o.ALo(41,"mytranslate"),o.qZA()()()()()()}2&B&&(o.xp6(2),o.Q6J("routerLink",o.VKq(20,Y,o.lcZ(3,8,"/student/dashboard/0"))),o.xp6(2),o.Q6J("src",o.lcZ(5,10,"images/logo-white.svg"),o.LSH),o.xp6(15),o.Q6J("routerLink",o.VKq(22,Y,o.lcZ(20,12,"/student/dashboard/0")))("changeActiveRouter",o.DdM(24,K)),o.xp6(8),o.hij(" ",o.lcZ(28,14,"lang_auto_de_thi")," "),o.xp6(3),o.Q6J("routerLink",o.VKq(25,Y,o.lcZ(31,16,"/student/dashboard/1")))("changeActiveRouter",o.DdM(27,k)),o.xp6(10),o.hij(" ",o.lcZ(41,18,"lang_auto_bai_tap")," "))}const dt=["*"];let It=(()=>{class B extends w.Q{toggleDrawer(){this.drawer.toggle(),this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.drawer.isOpened()}))}goBack(){this.commonService.myNavigationBySpecialQueryString(this.headerBackToLink)}openMenuMobile(){document.getElementById("toggle-menu")?.classList.add("mobile-menu--active")}closeMenuMobile(){document.getElementById("toggle-menu")?.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),window.scrollTo(0,0),this.isLogin=this.userService.isLogin()}constructor(nt,_t,rt,jt){super(),this.drawer=nt,this.browserStorageService=_t,this.mobileWebviewService=rt,this.userService=jt,this.headerBackToLink="",this.headerTitle="",this.isLogin=!1,this.willShowAIBox=!R.N.production||R.N.isProdAzotaVn,this.subscriptions.add(this.mobileWebviewService.getWebviewBackToListenerSubscriber().subscribe(()=>{this.headerBackToLink&&this.goBack()}))}static#t=this.\u0275fac=function(_t){return new(_t||B)(o.Y36(p.h),o.Y36(N.n),o.Y36(z.r),o.Y36(t.U))};static#e=this.\u0275cmp=o.Xpm({type:B,selectors:[["student-layout"]],inputs:{headerBackToLink:"headerBackToLink",headerTitle:"headerTitle"},features:[o.qOj],ngContentSelectors:dt,decls:9,vars:1,consts:[["id","azt-layout","class","azt-layout",4,"ngIf"],["BodyContentTpl",""],["TopbarTpl",""],["DesktopMenuTpl",""],["mobileMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden","md:block"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar"],[1,"azt-content"],[1,"mr-auto"],["azt-track-service","student-layout-62Iv9eNFqL","class","btn btn-transparent",3,"click",4,"ngIf"],[1,"dropdown","mr-2","sm:mr-4"],[3,"role"],[1,"dropdown","w-8","h-8"],[3,"isTeacherDashboard"],["azt-track-service","student-layout-62Iv9eNFqL",1,"btn","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"side-nav","side-nav--simple"],["azt-track-service","student-layout-un9eQGSmiX",1,"flex","items-center","pl-5","pt-4","relative",3,"routerLink"],["alt","Azota",1,"w-6",3,"src"],[1,"side-nav__devider","my-6"],["azt-track-service","student-layout-B8HCRZRRkc",1,"side-menu",3,"routerLink","changeActiveRouter"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","m9 15 2 2 4-4"],[1,"side-menu__title"],["azt-track-service","student-layout-IlivR6FSj2",1,"side-menu",3,"routerLink","changeActiveRouter"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],["azt-track-service","student-layout-mV8VG2juD5",1,"flex","mr-auto",3,"routerLink"],["azt-track-service","student-layout-vJI1vNSRRy",1,"mobile-menu-toggler",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","text-white","transform","-rotate-90"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"scrollable"],["azt-track-service","student-layout-_36C4dUavQE",1,"mobile-menu-toggler",3,"click"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"scrollable__content","py-2"],["azt-track-service","student-layout-ULLWHHZRD7-",1,"menu",3,"routerLink","changeActiveRouter","click"],[1,"menu__icon"],[1,"menu__title"],["azt-track-service","student-layout-39njUH9XdjK",1,"menu",3,"routerLink","changeActiveRouter","click"]],template:function(_t,rt){1&_t&&(o.F$t(),o.YNc(0,tt,5,2,"div",0),o.YNc(1,J,1,0,"ng-template",null,1,o.W1O),o.YNc(3,ut,8,3,"ng-template",null,2,o.W1O),o.YNc(5,$,33,36,"ng-template",null,3,o.W1O),o.YNc(7,ht,42,28,"ng-template",null,4,o.W1O)),2&_t&&o.Q6J("ngIf",rt.isLogin)},dependencies:[st.rH,G.O5,G.tP,q.gM,M.e,H.f,y.H,A.y,S.q,I.Jy,I.JV,I.Bo],encapsulation:2})}return B})()},96368:(kt,at,g)=>{g.d(at,{C:()=>z});var w=g(19347),R=g(72164),o=g(65879),p=g(78497),N=g(40750);let z=(()=>{class t extends R.e{btnCloseDialog(){this.dialogRef.close()}constructor(G,q){super(q,G),this.dialogRef=G,this.data=q}static#t=this.\u0275fac=function(q){return new(q||t)(o.Y36(w.so,8),o.Y36(w.WI,8))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["azt-dialog-warning"]],features:[o.qOj],decls:17,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","p-3","pb-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"]],template:function(q,M){1&q&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),o.O4$(),o.TgZ(4,"svg",4),o._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),o.qZA(),o._uU(8),o.ALo(9,"mytranslate"),o.qZA(),o.kcU(),o.TgZ(10,"div",8)(11,"azt-mat-dialog-content",9),o._UZ(12,"div",10),o.qZA()()()(),o.TgZ(13,"div",11)(14,"button",12),o.NdJ("click",function(){return M.btnCloseDialog()}),o._uU(15),o.ALo(16,"mytranslate"),o.qZA()()()),2&q&&(o.xp6(8),o.hij(" ",o.lcZ(9,4,"lang_auto_canh_bao")," "),o.xp6(3),o.Q6J("defaultHeight",60),o.xp6(1),o.Q6J("innerHtml",M.data.content,o.oJD),o.xp6(3),o.hij(" ",o.lcZ(16,6,"lang_auto_dong")," "))},dependencies:[p.R,N.JV],encapsulation:2})}return t})()},89310:(kt,at,g)=>{g.d(at,{P:()=>H});var w=g(37398),R=g(47496),o=g(65879),p=g(97151),N=g(46558),z=g(69862),t=g(96814),st=g(40750);function G(y,A){if(1&y){const S=o.EpF();o.ynx(0),o.TgZ(1,"a",2),o.NdJ("click",function(){o.CHM(S);const E=o.oxw();return o.KtG(E.shareFileToFlutter())}),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"mytranslate"),o.qZA(),o.Hsn(5),o.qZA(),o.BQk()}if(2&y){const S=o.oxw();o.xp6(1),o.Akn(S.style),o.Tol(S.classStyle),o.s9C("target",S.target),o.xp6(2),o.Oqu(o.lcZ(4,7,S.fileDescription))}}function q(y,A){if(1&y&&(o.TgZ(0,"a",3)(1,"span"),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.Hsn(4,1),o.qZA()),2&y){const S=o.oxw();o.Akn(S.style),o.Tol(S.classStyle),o.s9C("href",S.dataUrl,o.LSH),o.s9C("target",S.target),o.s9C("download",S.fileName),o.xp6(2),o.Oqu(o.lcZ(3,9,S.fileDescription))}}const M=["*","*"];let H=(()=>{class y extends R.Q{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,w.U)(S=>S))}shareFileToFlutter(){this.downloadFile().subscribe(S=>{this.shareFileFlutterService.shareFileWithBlob(S,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(S,I,E){super(),this.shareFileFlutterService=S,this.commonService=I,this.http=E,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}static#t=this.\u0275fac=function(I){return new(I||y)(o.Y36(p.g),o.Y36(N.z),o.Y36(z.eN))};static#e=this.\u0275cmp=o.Xpm({type:y,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[o.qOj],ngContentSelectors:M,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(I,E){if(1&I&&(o.F$t(M),o.YNc(0,G,6,9,"ng-container",0),o.YNc(1,q,5,11,"ng-template",null,1,o.W1O)),2&I){const C=o.MAs(2);o.Q6J("ngIf",E.isMobileWebView)("ngIfElse",C)}},dependencies:[t.O5,st.JV],encapsulation:2})}return y})()},23106:(kt,at,g)=>{g.d(at,{Z:()=>S});var w=g(59058),R=g(84537),o=g(36122),p=g(87879);class N{constructor(E,C){this._delegate=E,this.firebase=C,(0,o._addComponent)(E,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=E.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this._delegate.automaticDataCollectionEnabled=E}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(E=>{this._delegate.checkDestroyed(),E()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(E,C=o._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const J=this._delegate.container.getProvider(E);return!J.isInitialized()&&"EXPLICIT"===(null===(tt=J.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&J.initialize(),J.getImmediate({identifier:C})}_removeServiceInstance(E,C=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(E).clearInstance(C)}_addComponent(E){(0,o._addComponent)(this._delegate,E)}_addOrOverwriteComponent(E){(0,o._addOrOverwriteComponent)(this._delegate,E)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const t=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function G(){const I=function st(I){const E={},C={__esModule:!0,initializeApp:function it(k,$={}){const K=o.initializeApp(k,$);if((0,w.r3)(E,K.name))return E[K.name];const ht=new I(K,C);return E[K.name]=ht,ht},app:J,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function Y(k){const $=k.name,K=$.replace("-compat","");if(o._registerComponent(k)&&"PUBLIC"===k.type){const ht=(dt=J())=>{if("function"!=typeof dt[K])throw t.create("invalid-app-argument",{appName:$});return dt[K]()};void 0!==k.serviceProps&&(0,w.ZB)(ht,k.serviceProps),C[K]=ht,I.prototype[K]=function(...dt){return this._getService.bind(this,$).apply(this,k.multipleInstances?dt:[])}}return"PUBLIC"===k.type?C[K]:null},removeApp:function tt(k){delete E[k]},useAsService:function et(k,$){return"serverAuth"===$?null:$},modularAPIs:o}};function J(k){if(!(0,w.r3)(E,k=k||o._DEFAULT_ENTRY_NAME))throw t.create("no-app",{appName:k});return E[k]}return C.default=C,Object.defineProperty(C,"apps",{get:function ut(){return Object.keys(E).map(k=>E[k])}}),J.App=I,C}(N);return I.INTERNAL=Object.assign(Object.assign({},I.INTERNAL),{createFirebaseNamespace:G,extendNamespace:function E(C){(0,w.ZB)(I,C)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),I}(),M=new p.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){M.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const I=self.firebase.SDK_VERSION;I&&I.indexOf("LITE")>=0&&M.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const S=q;!function A(I){(0,o.registerVersion)("@firebase/app-compat","0.2.13",I)}()},17142:(kt,at,g)=>{g.d(at,{Z:()=>w.Z});var w=g(23106);w.Z.registerVersion("firebase","9.23.0","app-compat")}}]);