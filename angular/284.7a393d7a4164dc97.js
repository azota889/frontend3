"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[284],{57284:(Vu,Lt,m)=>{m.r(Lt),m.d(Lt,{TestFrontModule:()=>Bu});var d=m(96814),f=m(56223),z=m(19347),T=m(21266),me=m(42753),Et=m(44589),Q=m(37722),ue=m(21494),de=m(25391),ct=m(95545),ge=m(23348),pe=m(84155),he=m(78217),fe=m(24406),nt=m(82481),xe=m(43048),I=m(52572),b=m(47496),t=m(65879),S=m(80731),Z=m(46558);let be=(()=>{class i{isInIframe(){try{return window.self!==window.top}catch{return!0}}sendMessageToParentIframe(e){try{window.parent.postMessage(e,"*")}catch{}}sendMessageToIFrame(e,n){const a=document.getElementById(e),o=a?a.contentWindow:null;o?.postMessage(n,"*")}constructor(e){this.commonService=e}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(Z.z))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ve=m(53311),U=m(92596),j=m(43389),we=m(83306),Te=m(93523),N=m(18881),p=m(40750);function ke(i,s){if(1&i&&(t.TgZ(0,"student-layout",3),t.GkF(1,4),t.qZA()),2&i){const e=t.oxw(),n=t.MAs(3);t.Q6J("headerBackToLink",e.backToLink),t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function Se(i,s){if(1&i&&(t.TgZ(0,"div",5),t.GkF(1,4),t.qZA()),2&i){t.oxw();const e=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ce(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function ye(i,s){1&i&&(t.TgZ(0,"h3",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_danh_sach_de_thi")," "))}function Oe(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function Ae(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name," ")}}const Ie=function(i){return{active:i}},Ze=function(i){return{clickable:i}},je=function(i){return{"truncate-bread":i}};function Me(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li",21)(1,"a",22),t.NdJ("click",function(){const o=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.goBackParent(o.id?o.id:0))}),t.TgZ(2,"span",23,24),t.ALo(4,"mytranslate"),t.YNc(5,Oe,3,3,"span",25),t.YNc(6,Ae,2,1,"span",25),t.qZA()()()}if(2&i){const e=s.$implicit,n=t.MAs(3),a=t.oxw(3);t.Q6J("ngClass",t.VKq(10,Ie,e.id==a.categoryId)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,Ze,e.id!=a.categoryId)),t.xp6(1),t.s9C("matTooltip",t.lcZ(4,8,e.name)),t.Q6J("ngClass",t.VKq(14,je,e.id!=a.categoryId))("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.xp6(3),t.Q6J("ngIf",-1==e.id),t.xp6(1),t.Q6J("ngIf",-1!=e.id)}}function qe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",26),t.NdJ("click",function(){const o=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.cateDetail(o))}),t.TgZ(1,"div",27)(2,"div",28),t.O4$(),t.TgZ(3,"svg",29),t._UZ(4,"path",30)(5,"path",31)(6,"path",32)(7,"path",33),t.qZA()(),t.kcU(),t.TgZ(8,"div",34,24),t._uU(10),t.qZA()()()}if(2&i){const e=s.$implicit,n=t.MAs(9);t.xp6(8),t.s9C("matTooltip",e.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.xp6(2),t.hij(" ",e.name," ")}}function Qe(i,s){if(1&i&&(t.TgZ(0,"div",51)(1,"span",52),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function Le(i,s){1&i&&(t.TgZ(0,"div",51),t._UZ(1,"div",53),t.qZA())}function Ee(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,o=t.oxw(3);return t.KtG(o.redirectToExamDetail(a.hashId?a.hashId:""))}),t.TgZ(1,"div",39)(2,"div",40)(3,"div",41)(4,"div",28),t.O4$(),t.TgZ(5,"svg",42)(6,"g"),t._UZ(7,"path",43)(8,"path",44)(9,"rect",45)(10,"rect",46)(11,"rect",47)(12,"rect",48),t.qZA()()(),t.kcU(),t.TgZ(13,"div",34,24),t._uU(15),t.qZA(),t.TgZ(16,"div",49)(17,"span"),t._uU(18),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,Qe,6,4,"div",50),t.YNc(22,Le,2,0,"div",50),t.qZA()()()()}if(2&i){const e=t.MAs(14),n=t.oxw().$implicit,a=t.oxw(3);t.s9C("target",a.target),t.xp6(13),t.s9C("matTooltip",n.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",n.name," "),t.xp6(3),t.Oqu(n.attended),t.xp6(1),t.hij(" ",t.lcZ(20,9,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=n.mark),t.xp6(1),t.Q6J("ngIf",null==n.mark)}}function Pe(i,s){if(1&i&&(t.TgZ(0,"div",51)(1,"span",52),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function Fe(i,s){if(1&i&&(t.TgZ(0,"a",54)(1,"div",39)(2,"div",40)(3,"div",41)(4,"div",28),t.O4$(),t.TgZ(5,"svg",42)(6,"g"),t._UZ(7,"path",43)(8,"path",44)(9,"rect",45)(10,"rect",46)(11,"rect",47)(12,"rect",48),t.qZA()()(),t.kcU(),t.TgZ(13,"div",34,24),t._uU(15),t.qZA(),t.TgZ(16,"div",49)(17,"span"),t._uU(18),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,Pe,6,4,"div",50),t.qZA()()()()),2&i){const e=t.MAs(14),n=t.oxw().$implicit,a=t.oxw(3);t.s9C("target",a.target),t.Q6J("href","/de-thi/"+n.hashId,t.LSH),t.xp6(13),t.s9C("matTooltip",n.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",n.name," "),t.xp6(3),t.Oqu(n.attended),t.xp6(1),t.hij(" ",t.lcZ(20,9,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=n.mark)}}function ze(i,s){if(1&i&&(t.TgZ(0,"div",35),t.YNc(1,Ee,23,11,"a",36),t.YNc(2,Fe,22,11,"a",37),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","_blank"!=e.target),t.xp6(1),t.Q6J("ngIf","_blank"==e.target)}}function Ue(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t.YNc(1,ye,3,3,"h3",9),t.TgZ(2,"div",10)(3,"ol",11)(4,"li",12)(5,"a",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.backToAllCate())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.YNc(8,Me,7,16,"li",14),t.qZA()(),t.TgZ(9,"div",15),t.YNc(10,qe,11,4,"div",16),t.YNc(11,ze,3,2,"div",17),t.qZA(),t.TgZ(12,"div",18)(13,"azt-paging",19),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPage(a))}),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isInIframe),t.xp6(5),t.hij(" ",t.lcZ(7,7,"lang_auto_tat_ca")," "),t.xp6(2),t.Q6J("ngForOf",e.listBreadcrumb),t.xp6(2),t.Q6J("ngForOf",e.cateObjs),t.xp6(1),t.Q6J("ngForOf",e.examObjs),t.xp6(2),t.Q6J("totalPaginationPage",e.totalPage)("paging",e.currentPage)}}function Ne(i,s){if(1&i&&(t.YNc(0,Ce,1,0,"azt-loading-effect",6),t.YNc(1,Ue,14,9,"ng-template",null,7,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",e)}}let Je=(()=>{class i extends b.Q{getListParentCate(){this.subscriptions.add(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.categoryId).subscribe(e=>{1==e.success?this.listBreadcrumb=e.data?.objs??new Array:this.errorStatusObj(e.message??"",!0)}))}getData(){this.backToLink=0!=this.categoryId?"/test/category/"+this.tenantId+"/0/"+this.currentPage:"/student/dashboard/0";var e=Number(this.commonService.getMyParam(this.activeRoute,"page"));this.currentPage=e=e>0?e:1,this.initStatusObj(),this.subscriptions.add(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.categoryId>0?this.categoryId:0,this.currentPage).subscribe(n=>{1==n.success?(this.cateObjs=n.data?.categoryObjs??new Array,this.examObjs=n.data?.examObjs??new Array,this.totalExam=n.data?.totalExam??0,this.totalPage=this.totalExam%this.itemPerPage>0?(this.totalExam-this.totalExam%this.itemPerPage)/this.itemPerPage+1:this.totalExam>0?this.totalExam/this.itemPerPage:1,this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)):this.errorStatusObj(n.message??"",!0)}))}goToPage(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.categoryId+"/"+e)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e.id+"/1")}goBackParent(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e+"/1")}redirectToExamDetail(e){this.commonService.myNavigationWithQueryString(`/de-thi/${e}`,"?backto="+encodeURIComponent(this.paramBackToLink))}resizeHeight(){var e=document.body,n=document.documentElement,a=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.contentHeight=a,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}checkHeight(){var e=document.body,n=document.documentElement,a=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.contentHeight=a,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let e=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.categoryId}/${e}`,this.getData(),this.userLoginStateService.loginMessage.subscribe(n=>{this.changeLogin()}),this.commonService.translateMetaData({title:"lang_auto_danh_sach_de_thi",description:"lang_auto_danh_sach_de_thi"})})),super.ngOnInit()}constructor(e,n,a,o,r){super(),this.activeRoute=e,this.frontExamCategoryService=n,this.frontExamPageService=a,this.iframeService=o,this.userLoginStateService=r,this.currentPage=1,this.totalPage=1,this.itemPerPage=18,this.totalExam=0,this.tenantId=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.categoryId=0,this.backToLink="",this.paramBackToLink=""}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(S.nf),t.Y36(S.Ty),t.Y36(be),t.Y36(ve.u))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-index"]],hostBindings:function(n,a){1&n&&t.NdJ("resize",function(r){return a.resizeHeight(r)},!1,t.Jf7)},features:[t.qOj],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["class","in-iframe",4,"ngIf"],["categoryTemplate",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[1,"in-iframe"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"mt-5","mx-auto",2,"max-width","1200px"],["class","text-md uppercase font-medium",4,"ngIf"],[1,"box","p-3","mt-5"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","category--SCvgQNgc",3,"click"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["azt-track-service","category-P9OVEFAeM7","class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3",3,"click",4,"ngFor","ngForOf"],["class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3 cursor-pointer",4,"ngFor","ngForOf"],[1,"mt-3","p-2"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-md","uppercase","font-medium"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","category-4ZVvjZOwmm",3,"ngClass","click"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[4,"ngIf"],["azt-track-service","category-P9OVEFAeM7",1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3",3,"click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","h-full"],[1,"w-3/5","mx-auto"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 72 72",1,"w-full","h-full"],["fill","#95a5b9","d","M57.5,31h-23c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h23c1.4,0,2.5,1.1,2.5,2.5v10 C60,29.9,58.9,31,57.5,31z"],["fill","#6d7a91","d","M59.8,61H12.2C8.8,61,6,58,6,54.4V17.6C6,14,8.8,11,12.2,11h18.5c1.7,0,3.3,1,4.1,2.6L38,24h21.8 c3.4,0,6.2,2.4,6.2,6v24.4C66,58,63.2,61,59.8,61z"],["display","none","fill","#8AA3FF","d","M62.1,61H9.9C7.8,61,6,59.2,6,57c0,0,0-31.5,0-42c0-2.2,1.8-4,3.9-4h19.3 c1.6,0,3.2,0.2,3.9,2.3l2.7,6.8c0.5,1.1,1.6,1.9,2.8,1.9h23.5c2.2,0,3.9,1.8,3.9,4v31C66,59.2,64.2,61,62.1,61z"],["fill","#95a5b9","d","M7.7,59c2.2,2.4,4.7,2,6.3,2h45c1.1,0,3.2,0.1,5.3-2H7.7z"],[1,"block","font-medium","mt-4","text-center","truncate","w-full",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3","cursor-pointer"],["azt-track-service","category-36xAyNdE6R","class","flex h-full",3,"target","click",4,"ngIf"],["azt-track-service","category-QMZDKTOTgR","class","flex h-full",3,"href","target",4,"ngIf"],["azt-track-service","category-36xAyNdE6R",1,"flex","h-full",3,"target","click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","w-full"],[1,"box-title","text-center"],[1,"test","p-2","pl-3","pr-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 72 72",1,"w-full","h-full"],["d","M50,61H22a6,6,0,0,1-6-6V22l9-11H50a6,6,0,0,1,6,6V55A6,6,0,0,1,50,61Z",2,"fill","#599def"],["d","M25,20.556A1.444,1.444,0,0,1,23.556,22H16l9-11h0Z",2,"fill","#c2e1ff"],["x","27","y","31","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","36","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","41","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","46","width","12","height","2","rx","1","ry","1",2,"fill","#fff"],[1,"text-slate-500","text-xs","text-center","mt-0.5"],["class","mt-0.5",4,"ngIf"],[1,"mt-0.5"],[1,"text-center","font-medium"],[2,"height","16px"],["azt-track-service","category-QMZDKTOTgR",1,"flex","h-full",3,"href","target"]],template:function(n,a){1&n&&(t.YNc(0,ke,2,2,"student-layout",0),t.YNc(1,Se,2,1,"div",1),t.YNc(2,Ne,3,2,"ng-template",null,2,t.W1O)),2&n&&(t.Q6J("ngIf",!a.isInIframe),t.xp6(1),t.Q6J("ngIf",a.isInIframe))},dependencies:[d.mk,d.sg,d.O5,d.tP,U.gM,j.l,we.L,Te.Q,N.L,p.JV],encapsulation:2})}return i})();var J=m(20553),H=m(45468),E=m(2816),mt=m(33358),ut=m(59024),De=m(37783),Re=m(10505),dt=m(79998),Ye=m(32296);function He(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"p",6),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToRegister())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_mua_de_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_dang_ky")," "))}function Be(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"p",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.goToAddMoreAzo())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,e.hasErrorMessage)," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_nap_them_azo")," ")}}function Ge(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"p",9),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p",10),t._uU(5),t.qZA()(),t.TgZ(6,"div",11)(7,"p",12),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.YNc(10,Be,7,6,"div",13)),2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_ban_muon_mua_bai_thi"),": "),t.xp6(3),t.hij(" ",null==e.data.examObj?null:e.data.examObj.name," "),t.xp6(3),t.AsE("",t.lcZ(9,7,"lang_auto_gia"),": ",null==e.data.examObj?null:e.data.examObj.price," Azo"),t.xp6(2),t.Q6J("ngIf",""!=e.hasErrorMessage)}}function Ke(i,s){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",21),t._uU(2,"\xa0"),t.qZA())}function Ve(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.cancelPayment())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.confirmBuy())}),t.YNc(5,Ke,3,0,"span",20),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(7,6,"lang_auto_xac_nhan")," ")}}function $e(i,s){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,He,7,6,"ng-template",3),t.YNc(3,Ge,11,9,"ng-template",3),t.YNc(4,Ve,8,8,"div",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.data.needLogin&&!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin&&!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin)}}let We=(()=>{class i extends b.Q{confirmBuy(){this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyExamByAzoGet(this.data.examObj?.hashId??"").subscribe(e=>{1==e.success?(this.hasErrorMessage="",this.successStatusObj(),this.closeDialog.emit(!0)):e.message&&("lang_core_doest_not_enough_azo"==e.message?(this.hasErrorMessage=e.message,this.stopStatusObj()):this.errorStatusObj(e.message??"",!0))}))}cancelPayment(){this.closeDialog.emit(!1)}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToAddMoreAzo(){this.redirectService.redirectToBuyMoreAzo()}ngOnInit(){super.ngOnInit()}constructor(e,n){super(),this.paymentService=e,this.redirectService=n,this.data={examObj:void 0,needLogin:!1,isShow:!1},this.closeDialog=new t.vpe,this.hasErrorMessage=""}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Re.te),t.Y36(dt.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-buy-exam"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[3,"ngIf"],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","mb-2"],["azt-track-service","buy-exam-dialog-kExHtv9PJtd",1,"clickable","h5","text-info",3,"click"],[1,"text-center","mb-1"],[1,"h5","mb-1",2,"font-size","14px"],[1,"h5","mb-1","text-info"],[1,"amount-zone","text-center"],[1,"mb-0","h4"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-2"],[1,"h6","mb-1",2,"font-size","14px"],["azt-track-service","buy-exam-dialog-Qx-QjWPOfuf",1,"clickable","h5","text-info",3,"click"],[1,"d-flex","float-right","mt-3"],["azt-track-service","buy-exam-dialog-l8SzwXmLrWz","mat-raised-button","",2,"margin-right","15px",3,"click"],["azt-track-service","buy-exam-dialog-OPIk06f1UKv","mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(n,a){1&n&&t.YNc(0,$e,5,3,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.O5,Ye.lW,p.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:400px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.amount-zone[_ngcontent-%COMP%]{border:1px dashed #ff0024;padding:15px;border-radius:3px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]})}return i})();var D=m(84003),Xe=m(91675);function tn(i,s){1&i&&(t.TgZ(0,"h3",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_lich_su_lam_bai_cua_ban")," "))}function en(i,s){if(1&i&&(t.TgZ(0,"span",26),t._UZ(1,"azt-check-mark",27),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.mark)}}function nn(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"span",25),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,en,2,1,"span",24),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function an(i,s){1&i&&(t.TgZ(0,"span",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":\xa0 "))}function on(i,s){1&i&&(t.TgZ(0,"span",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function sn(i,s){if(1&i&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function rn(i,s){if(1&i&&(t.ynx(0),t.YNc(1,an,3,3,"span",28),t.YNc(2,on,3,3,"span",28),t.YNc(3,sn,2,1,"span",24),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark)}}function _n(i,s){1&i&&(t.TgZ(0,"span",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function ln(i,s){if(1&i&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function cn(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function mn(i,s){if(1&i&&(t.ynx(0),t.YNc(1,_n,3,3,"span",28),t.YNc(2,ln,2,1,"span",24),t.YNc(3,cn,3,3,"span",29),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark&&null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.essayMark)}}function un(i,s){1&i&&(t.TgZ(0,"span",26),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function dn(i,s){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,nn,5,4,"ng-container",2),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,rn,4,3,"ng-container",2),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,mn,4,3,"ng-container",2),t.ALo(6,"isOnlyEssay"),t.YNc(7,un,3,3,"span",24),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,n.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,n.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,n.examObj)),t.xp6(2),t.Q6J("ngIf",null==e.mark)}}function gn(i,s){1&i&&(t.TgZ(0,"div",23)(1,"span",25),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"span",26),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_chua_duoc_xem_diem")," "))}function pn(i,s){if(1&i&&(t.TgZ(0,"div",16)(1,"p",10),t.O4$(),t.TgZ(2,"svg",31),t._UZ(3,"path",32)(4,"path",33),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",34),t._uU(8),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_so_luong_dung")," "),t.xp6(3),t.hij(" ",e.rightAnswer," ")}}const hn=function(i){return[i]},fn=function(i){return{backto:i}};function xn(i,s){if(1&i&&(t.TgZ(0,"button",35),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",36),t._UZ(5,"polyline",37),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("routerLink",t.VKq(7,hn,t.lcZ(1,3,"/test/answer-test/"+n.curTenantId+"/"+(null!=n.curCategoryId?n.curCategoryId:0)+"/"+n.hashId+"/"+e.id)))("queryParams",t.VKq(9,fn,n.backToLink)),t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_xem_chi_tiet_bai_lam")," ")}}function bn(i,s){1&i&&(t.TgZ(0,"button",38),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.Q6J("disabled",!0),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}function vn(i,s){if(1&i&&(t.TgZ(0,"div",6),t.YNc(1,dn,8,10,"div",7),t.YNc(2,gn,7,6,"div",7),t.TgZ(3,"div",8)(4,"div",9)(5,"p",10),t.O4$(),t.TgZ(6,"svg",11),t._UZ(7,"circle",12)(8,"polyline",13),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(11,"p",14),t._uU(12),t.qZA()(),t.YNc(13,pn,9,4,"div",15),t.TgZ(14,"div",16)(15,"p",10),t.O4$(),t.TgZ(16,"svg",11),t._UZ(17,"circle",12)(18,"path",17)(19,"line",18),t.qZA(),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(22,"p",14),t._uU(23),t.qZA()()(),t.TgZ(24,"div",19),t.YNc(25,xn,6,11,"button",20),t.YNc(26,bn,3,4,"button",21),t.TgZ(27,"div",22),t._uU(28),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()),2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",2!=n.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==n.examObj.whenShowResult),t.xp6(7),t.hij(" ",t.lcZ(10,10,"lang_auto_thoi_gian_lam_bai"),":\xa0 "),t.xp6(3),t.hij(" ",n.calculateTime(e.startedTest,e.createdAt)," "),t.xp6(1),t.Q6J("ngIf",null!=e.rightAnswer&&2!=n.examObj.whenShowResult),t.xp6(7),t.hij(" ",t.lcZ(21,12,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",e.totalQuestion," "),t.xp6(2),t.Q6J("ngIf",!1!==n.examObj.allowStudentView),t.xp6(1),t.Q6J("ngIf",!1===n.examObj.allowStudentView),t.xp6(2),t.hij(" ",t.lcZ(29,14,e.createdAt)," ")}}function wn(i,s){if(1&i&&(t.ynx(0),t.YNc(1,vn,30,16,"div",5),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.historyObjs)}}function Tn(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",41)(2,"defs")(3,"linearGradient",42),t._UZ(4,"stop",43)(5,"stop",44)(6,"stop",45),t.qZA()(),t.TgZ(7,"g",46)(8,"g",47)(9,"path",48),t._UZ(10,"animateTransform",49),t.qZA(),t.TgZ(11,"circle",50),t._UZ(12,"animateTransform",49),t.qZA()()()()())}function kn(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"polyline",52),t.qZA()())}function Sn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.pagingData())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Tn,13,0,"span",2),t.YNc(5,kn,3,0,"span",2),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_xem_them")," "),t.xp6(2),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading)}}let Cn=(()=>{class i extends b.Q{pagingData(){this.getExamHistoryByHashId()}calculateTime(e,n){return e?this.timeService.calculationTimeExamTested(e,n):""}getExamHistoryByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(e=>{if(1==e.success){let n=e.data?.objs?e.data?.objs?.length:0;if(e.data?.objs)for(let a=0;a<n;a++)this.historyObjs.push(e.data.objs[a]??{});this.page=e.data?.nextPage??"",e.data?.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(e.message??"")}))}ngOnInit(){this.backToLink=this.commonService.getCurrentUrlWithoutLocale(),this.getExamHistoryByHashId()}constructor(e,n){super(),this.frontExamResultHistoryService=e,this.timeService=n,this.curTenantId=0,this.curCategoryId=0,this.backToLink="",this.historyObjs=[],this.page="",this.disableBtn=!1}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(S.B3),t.Y36(D.D))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",examObj:"examObj",curTenantId:"curTenantId",curCategoryId:"curCategoryId"},features:[t.qOj],decls:4,vars:3,consts:[[1,"exam-history","mx-auto","mt-5",2,"max-width","560px"],["class","font-medium",4,"ngIf"],[4,"ngIf"],["class","mt-5 text-center",4,"ngIf"],[1,"font-medium"],["class","box mx-auto mt-5",4,"ngFor","ngForOf"],[1,"box","mx-auto","mt-5"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"p-5"],["azt-track-service","exam-history-1BV_WDkCER","class","btn btn-secondary w-full",3,"routerLink","queryParams",4,"ngIf"],["class","btn btn-secondary w-full",3,"disabled",4,"ngIf"],[1,"mt-3","text-right","text-slate-500"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],["class","font-medium text-lg","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[3,"mark"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-md","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md",2,"font-size","25px"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["azt-track-service","exam-history-1BV_WDkCER",1,"btn","btn-secondary","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","ml-2"],["points","9 18 15 12 9 6"],[1,"btn","btn-secondary","w-full",3,"disabled"],[1,"mt-5","text-center"],["azt-track-service","exam-history-tzgH_6R1Ki",1,"btn","btn-outline-secondary","btn-transparent",3,"click"],["width","20","viewBox","0 0 38 38","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","ml-2"],["x1","8.042%","y1","0%","x2","65.682%","y2","23.865%","id","a"],["stop-color","rgb(30, 41, 59)","stop-opacity","0","offset","0%"],["stop-color","rgb(30, 41, 59)","stop-opacity",".631","offset","63.146%"],["stop-color","rgb(30, 41, 59)","offset","100%"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)"],["d","M36 18c0-9.94-8.06-18-18-18","id","Oval-2","stroke","url(#a)","stroke-width","3"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","0.9s","repeatCount","indefinite"],["fill","rgb(30, 41, 59)","cx","36","cy","18","r","1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","ml-2","lucide"],["points","6 9 12 15 18 9"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.YNc(1,tn,3,3,"h3",1),t.YNc(2,wn,2,1,"ng-container",2),t.YNc(3,Sn,6,5,"div",3),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",a.historyObjs.length>0),t.xp6(1),t.Q6J("ngIf",a.examObj&&a.historyObjs.length>0),t.xp6(1),t.Q6J("ngIf",!a.disableBtn))},dependencies:[T.rH,d.sg,d.O5,Xe.B,p.Jy,p.JV,p.GU,p.iP,p.J_,p.$n],encapsulation:2})}return i})();function yn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-buy-exam",5),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeBuyExamDialog(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataBuyExamDialog)}}function On(i,s){if(1&i&&(t.TgZ(0,"div",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasErrorMessage)," ")}}const An=function(i,s){return{"monitor-height":i,"mobile-monitor":s}};function In(i,s){if(1&i&&(t.TgZ(0,"div",29),t._UZ(1,"div",30,31),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(1,An,!e.isMobileDevice,e.isMobileDevice))}}function Zn(i,s){if(1&i&&(t.TgZ(0,"div",20)(1,"p",15)(2,"span",16),t._UZ(3,"lucide-icon",32),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"p",18),t._uU(7),t.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(9,"mytranslate"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_auto_thoi_gian_vao_thi")," "),t.xp6(3),t.hij(" ",e.examObj.startTime?t.lcZ(8,4,e.examObj.startTime):t.lcZ(9,6,"lang_auto_khong_thoi_han")," ")}}function jn(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_bat_dau_thi")," "))}function Mn(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_start_practicing")," "))}function qn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.redirectToTakeTest())}),t.YNc(1,jn,3,3,"span",34),t.YNc(2,Mn,3,3,"span",34),t.TgZ(3,"span",16),t._UZ(4,"lucide-icon",35),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.xp6(1),t.Q6J("ngIf",1==e.examConfigObj.allowTestingEachQuestion)}}function Qn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openBuyExam())}),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"number"),t.TgZ(4,"span",16),t._UZ(5,"lucide-icon",35),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_mua_de")," - ",t.lcZ(3,4,e.examObj.price)," Azo ")}}function Ln(i,s){1&i&&(t.TgZ(0,"div",37)(1,"strong"),t._uU(2,"(*)"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_he_thong_chi_gui_hinh_anh_va_am_thanh_den_giao_vien")," "),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_auto_trong_qua_trinh_lam_bai_thi")),t.xp6(2),t.hij("",t.lcZ(9,8,"lang_auto__ngay_sau_khi_ket_thuc_bai_lam_he_thong_ngung_gui_du_lieu_du_lieu_thu_thap_chi_su_dung_phuc_vu_cho_cong_tac")," "),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang_auto_to_chuc_ky_thi")))}function En(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"div",8)(2,"h3",9),t._uU(3),t.qZA(),t.TgZ(4,"div",10),t._uU(5),t.ALo(6,"mytranslate"),t._UZ(7,"azt-download-qr-code",11),t.qZA(),t.YNc(8,In,3,4,"div",12),t.TgZ(9,"div",13)(10,"div",14)(11,"p",15)(12,"span",16),t._UZ(13,"lucide-icon",17),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p",18),t._uU(17),t.ALo(18,"mytranslate"),t.ALo(19,"mytranslate"),t.qZA()(),t.YNc(20,Zn,10,8,"div",19),t.TgZ(21,"div",20)(22,"p",15)(23,"span",16),t._UZ(24,"lucide-icon",21),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"p",18),t._uU(28),t.qZA()(),t.TgZ(29,"div",20)(30,"p",15)(31,"span",16),t._UZ(32,"lucide-icon",22),t.qZA(),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t.TgZ(35,"p",18),t._uU(36),t.ALo(37,"mytranslate"),t.qZA()(),t.TgZ(38,"div",20)(39,"p",15)(40,"span",16),t._UZ(41,"lucide-icon",23),t.qZA(),t._uU(42),t.ALo(43,"mytranslate"),t.qZA(),t.TgZ(44,"p",18),t._uU(45),t.ALo(46,"mytranslate"),t.qZA()()(),t.TgZ(47,"div",24),t.YNc(48,qn,5,2,"button",25),t.YNc(49,Qn,6,6,"button",26),t.qZA(),t.YNc(50,Ln,13,12,"div",27),t.qZA(),t._UZ(51,"app-exam-history",28),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij(" ",e.examObj.name," "),t.xp6(2),t.hij(" ",t.lcZ(6,21,"lang_auto_ma_de_thi")+": "+e.examObj.hashId," "),t.xp6(2),t.Q6J("fileName","azota_exam_qr_code_"+e.examObj.hashId)("linkUrl",e.copyLinkToClipboard()),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&0!=e.examObj.autoMonitor),t.xp6(6),t.hij(" ",t.lcZ(15,23,"lang_testbank_tested_list_time_homework")," "),t.xp6(3),t.hij(" ",e.examObj.minutes&&e.examObj.minutes>0?e.examObj.minutes+" "+t.lcZ(18,25,"lang_auto_phut"):t.lcZ(19,27,"lang_auto_khong_gioi_han")," "),t.xp6(3),t.Q6J("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.xp6(5),t.hij(" ",t.lcZ(26,29,"lang_auto_so_luong_cau_hoi")," "),t.xp6(3),t.hij(" ",2==e.examObj.mixQuestion?e.examObj.limitMixQuestion:e.examObj.countQuestion," "),t.xp6(5),t.hij(" ",t.lcZ(34,31,"lang_auto_loai_de")," "),t.xp6(3),t.hij(" ",t.lcZ(37,33,e.getExamType(e.examObj))," "),t.xp6(6),t.hij(" ",t.lcZ(43,35,"lang_auto_so_luot_lam_de")," "),t.xp6(3),t.hij(" ",null==e.totalAttended?0:e.totalAttended+" "+t.lcZ(46,37,"lang_auto_luot")," "),t.xp6(3),t.Q6J("ngIf",!e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&3==e.examObj.autoMonitor),t.xp6(1),t.Q6J("examObj",e.examObj)("curTenantId",e.curTenantId)("curCategoryId",e.curCategoryId)("hashId",e.hashId)}}let Pn=(()=>{class i extends b.Q{openBuyExam(){this.dataBuyExamDialog=this.userService.isLoginAndNotAnonymous()?{examObj:this.examObj,isShow:!0}:{examObj:void 0,needLogin:!0,isShow:!0}}closeBuyExamDialog(e){e?(this.dataBuyExamDialog={examObj:void 0,isShow:!1},this.showSuccessSnack("lang_auto_mua_de_thi_thanh_cong"),this.redirectToTakeTest()):this.dataBuyExamDialog={examObj:void 0,isShow:!1}}copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/de-thi/${this.examObj?.hashId}`}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(1===this.examConfigObj.allowTestingEachQuestion?null!=this.curCategoryId?"/test/take-training/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.curTenantId+"/0/"+this.hashId:null!=this.curCategoryId?"/test/take-test/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-test/"+this.curTenantId+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}getExamType(e){return this.homeworkExamService.isOnlyEssay(e)?"lang_auto_tu_luan":this.homeworkExamService.isOnlyTrueFalse(e)?"lang_auto_trac_nghiem":"lang_auto_hon_hop"}fillData(e){e.data?.errorMessage?("lang_core_doest_not_owner_exam"==e.data.errorMessage?(this.hasErrorMessage="",this.isNeedBuyExam=!0):(this.hasErrorMessage=e.data.errorMessage,this.isNeedBuyExam=!1),this.successStatusObj()):(this.hasErrorMessage="",this.isNeedBuyExam=!1)}getExamByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamService.apiFrontExamGetExamObjGet(this.hashId).subscribe(e=>{if(1==e.success){if(this.fillData(e),this.examObj=e.data?.examObj,this.examConfigObj=e.data?.examConfigObj??{},this.totalAttended=e.data?.totalAttended??0,null!=this.examObj){this.curCategoryId=this.examObj.categoryId??0,this.curTenantId=this.examObj.tenantId??0;let n="";this.commonService.getTranslate("lang_auto_bat_dau_thi").subscribe(a=>{n=a}),this.commonService.translateMetaData({title:n+": "+this.examObj.name,description:this.examObj.name})}this.examObj?.autoMonitor&&3==this.examObj?.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}openVideoMonitor(){var e=this.userService.getUserObj();typeof aztExam<"u"&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var n={user:{token:e.rememberToken,userid:e.id,username:e.fullName},config:{domainApi:J.N.auto_testbank_base_api+"/api/",urlGetPublicForLive:"S3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"S3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreen",examconfig:this.examObj,firebaseApp:this.fireStoreService,isStarted:!1};aztExam.MonitorStudent.getInstance().prepairSession(n);let o=window.setInterval(()=>{let r=document.getElementById("monitorScreen");if(r){let _=r.getElementsByTagName("div")[0];_&&(_.setAttribute("class","mx-auto"),clearInterval(o))}},50)}}))}ngOnInit(){this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.password=this.commonService.getMyQueryParam("password")??"",this.hashId=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString()??"",this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=this.commonService.getMyQueryParam("backto")??"/student/dashboard/0";let e=this.commonService.getMyQueryParam("offline");e?this.myNavigation(`/test/share-offline-result/${this.hashId}/${e}/0`):this.getExamByHashId()})),super.ngOnInit()}constructor(e,n,a,o,r,_){super(),this.activeRoute=e,this.homeworkExamService=n,this.userService=a,this.fireStoreService=o,this.monitorService=r,this.frontExamService=_,this.backToLink="",this.curTenantId=0,this.curCategoryId=0,this.hashId="",this.totalAttended=0,this.hasErrorMessage="",this.password="",this.examConfigObj={},this.isNeedBuyExam=!1,this.dataBuyExamDialog={examObj:void 0,isShow:!1}}ngOnDestroy(){typeof aztExam<"u"&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(H.v),t.Y36(E.U),t.Y36(mt.j),t.Y36(ut.G),t.Y36(S.Tg))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-view"]],features:[t.qOj],decls:5,vars:4,consts:[[3,"headerBackToLink"],[1,"relative"],[3,"data","closeDialog",4,"ngIf"],["class","alert alert-danger mt-2",4,"ngIf"],["class","intro-y mt-8",4,"ngIf"],[3,"data","closeDialog"],[1,"alert","alert-danger","mt-2"],[1,"intro-y","mt-8"],[1,"box","mx-auto","mt-5","p-5",2,"max-width","560px"],[1,"text-lg","font-medium","text-center"],[1,"text-md","justify-center","font-medium","mt-2","flex","items-center"],[1,"pl-2","ml-2",3,"fileName","linkUrl"],["class","row my-2",4,"ngIf"],[1,"azt-info-exam","mt-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],[1,"w-4","h-4","mr-2"],["name","clock-4"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["name","help-circle"],["name","clipboard-type"],["name","users"],[1,"mt-5"],["azt-track-service","exam-details-OgNF7kiBSP","class","btn btn-pending w-full text-white",3,"click",4,"ngIf"],["azt-track-service","exam-details--G5DmCfYIx","class","btn btn-pending w-full",3,"click",4,"ngIf"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","curTenantId","curCategoryId","hashId"],[1,"row","my-2"],["id","monitorScreen",1,"self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["name","calendar-clock"],["azt-track-service","exam-details-OgNF7kiBSP",1,"btn","btn-pending","w-full","text-white",3,"click"],[4,"ngIf"],["name","chevron-right"],["azt-track-service","exam-details--G5DmCfYIx",1,"btn","btn-pending","w-full",3,"click"],[1,"note-exam","mt-1"]],template:function(n,a){1&n&&(t.TgZ(0,"student-layout",0)(1,"div",1),t.YNc(2,yn,1,1,"app-buy-exam",2),t.YNc(3,On,3,3,"div",3),t.YNc(4,En,52,39,"div",4),t.qZA()()),2&n&&(t.Q6J("headerBackToLink",a.backToLink),t.xp6(2),t.Q6J("ngIf",a.dataBuyExamDialog.isShow),t.xp6(1),t.Q6J("ngIf",""!=a.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==a.hasErrorMessage&&a.examObj))},dependencies:[d.mk,d.O5,De.W,N.L,Q.Nh5,We,Cn,d.JJ,p.JV,p.$n],encapsulation:2})}return i})(),Fn=(()=>{class i extends b.Q{ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Z.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[T.lC],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]})}return i})();var it=m(77203),at=m(89745),R=m(10504),zn=m(20137),Un=m(75270),Nn=m(11668),Jn=m(49649),Dn=m(67428),ot=m(23655),Pt=m(77988),gt=m(32651),P=m(74104),pt=m(80034),Rn=m(9409),Yn=m(56870);function Hn(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):""):t.lcZ(2,1,"lang_auto_chua_co_diem"))}}function Bn(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"/10"):t.lcZ(2,1,"lang_auto_chua_co_diem"))}}function Gn(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_duoc_xem")))}let Kn=(()=>{class i extends b.Q{ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e,this.viewPractice=!1}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Z.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-testbank-test-review-show-mark-info-of-student"]],inputs:{examObj:"examObj",examResultObj:"examResultObj",viewPractice:"viewPractice"},features:[t.qOj],decls:7,vars:6,consts:[[1,"font-medium","text-lg","flex","items-center"],[1,"mr-3"],[4,"ngIf"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Hn,3,3,"span",2),t.YNc(5,Bn,3,3,"span",2),t.YNc(6,Gn,3,3,"span",2),t.qZA()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,4,"lang_auto_diem_cuoi"),": "),t.xp6(2),t.Q6J("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&!a.viewPractice),t.xp6(1),t.Q6J("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&a.viewPractice),t.xp6(1),t.Q6J("ngIf",2==(null==a.examObj?null:a.examObj.whenShowResult)))},dependencies:[d.O5,p.JV],encapsulation:2})}return i})();var ht=m(72164),ft=m(85929),Vn=m(67898),$n=m(6598);function Wn(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Xn(i,s){if(1&i&&t._UZ(0,"azt-test-result-tracking",5),2&i){const e=t.oxw();let n;t.Q6J("startQuestionIndex",null!==(n=null==e.examObj?null:e.examObj.startQuestionIndex)&&void 0!==n?n:1)("dataResultObjs",e.dataResultObjs)("dataScrollObjs",e.dataScrollObjs)}}let ti=(()=>{class i extends ht.e{getData(e){this.initStatusObj(),this.frontExamResultTrackService.apiFrontExamResultTrackGetObjGet(this.examHashId,e).subscribe(n=>{if(1==n.success){this.examObj=n.data?.examObj;var a=this.castJsonToObj(this.zipDataService.decodeContentGzip(n?.data?.examResultTrackObj?.trackData??""));a&&a&&([this.dataResultObjs,this.dataScrollObjs]=this.sAztTestResultTrackingService.processData(a)),this.successStatusObj()}else this.errorStatusObj(n.message??"",!0);this.isLoading=!1})}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",description:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",image:"lang_cms_test_image"});let e=Number(this.data.examResultIdParam?.toString());this.examHashId=this.data.hashId??"",this.getData(e),super.ngOnInit()}constructor(e,n,a,o,r){super(r,o),this.frontExamResultTrackService=e,this.zipDataService=n,this.sAztTestResultTrackingService=a,this.dialogRef=o,this.data=r,this.dataResultObjs=[],this.dataScrollObjs=[],this.backToLink="",this.examHashId="",this.isLoading=!0}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(S.uF),t.Y36(ft.a),t.Y36(Vn.W),t.Y36(z.so,8),t.Y36(z.WI,8))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-test-front-result-tracking"]],features:[t.qOj],decls:8,vars:5,consts:[[1,"container-fluid"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"pt-5","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary",3,"click"],[3,"startQuestionIndex","dataResultObjs","dataScrollObjs"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,Wn,1,0,"azt-loading-effect",1),t.YNc(2,Xn,1,3,"ng-template",null,2,t.W1O),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return a.dialogRef.close()}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&n){const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",a.isLoading)("ngIfElse",o),t.xp6(5),t.hij(" ",t.lcZ(7,3,"lang_auto_thoat")," ")}},dependencies:[d.O5,j.l,$n.r,p.JV],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff;width:100vh;max-height:95vh;padding:.5rem 1.25rem 1.25rem;overflow-y:auto}"]})}return i})();var ei=m(40626),B=m(27161),st=m(2783),Ft=m(70342);let ni=(()=>{class i extends b.Q{copyLinkToClipboard(){return`${this.commonService.getCurrentDomainWithLanguage()}/admin/testbank/test-review/${this.examIdParam}/${this.userIdParam}/${this.studentIdParam}/${this.examResultIdParam}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Z.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-testbank-test-review-show-copy-link-button"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam"},features:[t.qOj],decls:4,vars:4,consts:[[1,"flex","items-center","mt-2"],["azt-track-service","show-copy-link-button-DYZc-0oRwh",1,"btn-text-primary","font-medium",3,"cdkCopyToClipboard","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return a.showCopySuccess()}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("cdkCopyToClipboard",a.copyLinkToClipboard()),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_auto_copy_link_gui_giao_vien")," "))},dependencies:[Ft.i3,p.JV],encapsulation:2})}return i})();function ii(i,s){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&i){const e=s.$implicit,n=s.index,a=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_combine_exam_component")+(n+1),":\xa0"),t.xp6(3),t.Oqu(e+(a.totalMarkSubject?"/"+t.xi3(5,4,a.totalMarkSubject/a.totalSubject,"1.0-2"):""))}}function ai(i,s){if(1&i&&(t.ynx(0),t.YNc(1,ii,6,7,"div",9),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.examResultObj?null:e.examResultObj.subjectMarkValues)}}function oi(i,s){if(1&i&&(t.TgZ(0,"span",12),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.lnq("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.lcZ(2,3,"lang_auto_cau_brackets"),"")}}function si(i,s){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.YNc(4,oi,3,5,"span",11),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,3,"lang_auto_trac_nghiem"),": ",null!=e.examResultObj.trueFalseMark?e.examResultObj.trueFalseMark:t.lcZ(3,5,"lang_auto_chua_co_diem")," "),t.xp6(3),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function ri(i,s){if(1&i&&(t.TgZ(0,"span",12),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.lnq("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.lcZ(2,3,"lang_auto_cau_brackets"),"")}}function _i(i,s){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.YNc(3,ri,3,5,"span",11),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,3,"lang_auto_trac_nghiem"),": ",e.examResultObj.mark," "),t.xp6(2),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function li(i,s){if(1&i&&(t.YNc(0,si,5,7,"div",7),t.YNc(1,_i,4,5,"div",7)),2&i){const e=t.oxw();t.Q6J("ngIf",2!=(null==e.examObj?null:e.examObj.whenShowResult)&&e.trueFalseChoiceQuestionObjs.length>0&&e.examResultObj&&e.examResultObj.totalQuestion&&!e.viewPractice),t.xp6(1),t.Q6J("ngIf",e.examResultObj&&e.examResultObj.totalQuestion&&e.viewPractice)}}function ci(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.HOy(" ",t.lcZ(2,4,"lang_auto_tu_luan"),": ",null==e.examResultObj?null:e.examResultObj.essayMark," (",e.essayQuestionObjs.length," ",t.lcZ(3,6,"lang_auto_cau_brackets")," ")}}function mi(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",14),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_tu_luan"),": "),t.xp6(3),t.Oqu(t.lcZ(5,6,"lang_auto_chua_cham")),t.xp6(2),t.AsE(" (",e.essayQuestionObjs.length," ",t.lcZ(7,8,"lang_auto_cau_brackets")," ")}}function ui(i,s){if(1&i&&(t.TgZ(0,"div",10),t.YNc(1,ci,4,8,"span",13),t.YNc(2,mi,8,10,"span",13),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.examResultObj?null:e.examResultObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!(null!=e.examResultObj&&e.examResultObj.confirmedAt))}}function di(i,s){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_so_file_da_nop"),": ",e.files.length," ")}}function gi(i,s){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_so_lan_thoat_man_hinh"),": ",e.examTracks.exitFullScreen," ")}}function pi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.clickResultTrack())}),t.O4$(),t.TgZ(4,"svg",16),t._UZ(5,"path",17)(6,"polyline",18)(7,"circle",19)(8,"path",20),t.qZA()()()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xem_chi_tiet_qua_trinh_lam_bai"),": "))}function hi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showResultInfors())}),t.O4$(),t.TgZ(4,"svg",22),t._UZ(5,"circle",23)(6,"path",24)(7,"path",25)(8,"path",26),t.qZA()()()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_show_infos_test_submit"),": "))}function fi(i,s){if(1&i&&t._UZ(0,"app-testbank-test-review-show-copy-link-button",27),2&i){const e=t.oxw();t.Q6J("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)}}let xi=(()=>{class i extends b.Q{get checkHasType1Question(){let e=!1;for(let n=0;n<(this.questionObjs?.length??0);n++)if(this.answerTypeService.isOneChoiceAnswer(this.questionObjs?.[n])){e=!0;break}return e}showResultInfors(){this.sAztDialogService.open(ei.p,{width:"500px",data:this.resultInfos,restoreFocus:!1})}clickResultTrack(){this.sAztDialogService.open(ti,{data:{examResultIdParam:this.examResultIdParam,hashId:this.examObj?.hashId},restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.totalSubject=this.examResultObj?.subjectMarkValues?.length??3,this.totalMarkSubject=this.examResultObj?.examResultStatisticObj?.examQuestionStatisticObj?.totalMark??0}constructor(e,n){super(),this.answerTypeService=e,this.sAztDialogService=n,this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.files=[],this.historyExamResultObjs=[],this.resultInfos=[],this.viewPractice=!1,this.totalSubject=3,this.totalMarkSubject=30}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(B.i),t.Y36(st.C))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-testbank-test-review-show-detail-info-for-student"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam",offlineHashIdParam:"offlineHashIdParam",studentObj:"studentObj",examObj:"examObj",examResultObj:"examResultObj",markedByObj:"markedByObj",questionObjs:"questionObjs",essayQuestionObjs:"essayQuestionObjs",trueFalseChoiceQuestionObjs:"trueFalseChoiceQuestionObjs",files:"files",historyExamResultObjs:"historyExamResultObjs",examTracks:"examTracks",resultInfos:"resultInfos",viewPractice:"viewPractice"},features:[t.qOj],decls:17,vars:11,consts:[[1,"info-exam-online"],[1,"rounded-md","bg-slate-200","dark:bg-darkmode-400","p-3",2,"border-bottom-left-radius","0","border-bottom-right-radius","0"],[1,"flex","items-center"],[1,"text-md"],[1,"info-exam-body","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2",2,"border-top-left-radius","0","border-top-right-radius","0"],[4,"ngIf","ngIfElse"],["showNormalMark",""],["class","flex items-center mt-2",4,"ngIf"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam",4,"ngIf"],["class","flex items-center mt-2",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-2"],["class","ml-2",4,"ngIf"],[1,"ml-2"],[4,"ngIf"],[1,"text-pending"],["azt-track-service","show-detail-info-box-for-student-yw3gtIAU5N",1,"btn-text-primary","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["d","M16 22h2c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3"],["points","14 2 14 8 20 8"],["cx","8","cy","16","r","6"],["d","M9.5 17.5 8 16.25V14"],["azt-track-service","show-detail-info-box-for-student-d5Ae8h9_DU",1,"btn-text-primary","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["cx","12","cy","12","r","10"],["d","M17 12h.01"],["d","M12 12h.01"],["d","M7 12h.01"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()(),t.TgZ(7,"div",4),t.YNc(8,ai,2,1,"ng-container",5),t.YNc(9,li,2,2,"ng-template",null,6,t.W1O),t.YNc(11,ui,3,2,"div",7),t.YNc(12,di,3,4,"div",7),t.YNc(13,gi,3,4,"div",7),t.YNc(14,pi,9,3,"div",7),t.YNc(15,hi,9,3,"div",7),t.YNc(16,fi,1,4,"app-testbank-test-review-show-copy-link-button",8),t.qZA()()),2&n){const o=t.MAs(10);t.xp6(5),t.hij(" ",t.lcZ(6,9,"lang_auto_thong_tin_chi_tiet")," "),t.xp6(3),t.Q6J("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&(null==a.examObj?null:a.examObj.subjectMarks)&&(null==a.examResultObj||null==a.examResultObj.subjectMarkValues?null:a.examResultObj.subjectMarkValues.length))("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&a.essayQuestionObjs.length),t.xp6(1),t.Q6J("ngIf",a.essayQuestionObjs.length),t.xp6(1),t.Q6J("ngIf",a.examTracks&&0!=(null==a.examObj?null:a.examObj.autoMonitor)),t.xp6(1),t.Q6J("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&a.checkHasType1Question&&!a.offlineHashIdParam&&a.trueFalseChoiceQuestionObjs.length>0&&(null==a.examResultObj?null:a.examResultObj.totalQuestion)&&!a.viewPractice),t.xp6(1),t.Q6J("ngIf",a.resultInfos.length&&!a.viewPractice),t.xp6(1),t.Q6J("ngIf",!a.viewPractice)}},dependencies:[d.sg,d.O5,ni,d.JJ,p.JV],encapsulation:2})}return i})();var bi=m(41361),vi=m(1976);const wi=["drawer"];function Ti(i,s){1&i&&(t.TgZ(0,"div",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_du_lieu_nop_bai")," "))}function ki(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",28),t._UZ(3,"rect",29)(4,"path",30)(5,"path",31),t.qZA()()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_mo_menu"))}function Si(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",28),t._UZ(3,"rect",29)(4,"path",30)(5,"path",33),t.qZA()()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_dong_menu"))}function Ci(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",34)(2,"span",35),t._UZ(3,"lucide-icon",36),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_answer_test_must_reach_mark_to_show_answer_1")+(null==e.examConfigObj?null:e.examConfigObj.viewAnswerResultMinMark)+t.lcZ(7,3,"lang_answer_test_must_reach_mark_to_show_answer_2"),"")}}function yi(i,s){if(1&i&&t._UZ(0,"azt-loaded-img",44),2&i){const e=t.oxw(3);t.Q6J("imgSrc",null==e.examObj?null:e.examObj.examHeader)}}function Oi(i,s){if(1&i&&(t.TgZ(0,"div",45),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_tong_so_cau_dung")," ",null==e.examResultObj?null:e.examResultObj.rightAnswer,".")}}function Ai(i,s){if(1&i&&(t.TgZ(0,"div",45),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);let n;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_tong_so_cau_sai")," ",(null!==(n=null==e.examResultObj?null:e.examResultObj.totalQuestion)&&void 0!==n?n:0)-e.essayQuestionObjs.length-(null!==(n=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==n?n:0),".")}}const Ii=function(i,s){return{correct:i,incorrect:s}};function Zi(i,s){if(1&i&&t._UZ(0,"azt-question-standalone-for-student-at-review-page",47),2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(3);t.Q6J("examObj",o.examObj)("questionObj",n)("curQuestionIndex",a)("follower",o.followerRenderQuest)("userAnswersObj",o.userAnswersObj)("curExamResultId",o.examResultIdParam)("currentTab","multiple_choice_tab")("ngClass",t.WLB(8,Ii,null==n?null:n.correctAnswer,!n.correctAnswer))}}function ji(i,s){if(1&i&&t.YNc(0,Zi,1,11,"azt-question-standalone-for-student-at-review-page",46),2&i){const e=t.oxw(3);t.Q6J("ngIf",e.examObj)}}function Mi(i,s){if(1&i&&(t.TgZ(0,"mat-tab",37),t.ALo(1,"mytranslate"),t.TgZ(2,"div")(3,"div",38)(4,"ng-scrollbar",39)(5,"div",40),t.YNc(6,yi,1,1,"azt-loaded-img",41),t.YNc(7,Oi,3,4,"div",42),t.YNc(8,Ai,3,4,"div",42),t.YNc(9,ji,1,1,"ng-template",43),t.qZA()()()()()),2&i){const e=t.oxw(2);t.s9C("label",t.lcZ(1,10,"lang_auto_trac_nghiem")),t.xp6(2),t.Tol(e.viewOption),t.xp6(2),t.Q6J("visibility","hover")("disabled",e.isMobile),t.xp6(2),t.Q6J("ngIf",null==e.examObj?null:e.examObj.examHeader),t.xp6(1),t.Q6J("ngIf","viewRight"==e.viewOption),t.xp6(1),t.Q6J("ngIf","viewWrong"==e.viewOption),t.xp6(1),t.Q6J("ngForOf",e.questionObjs)}}function qi(i,s){if(1&i&&t._UZ(0,"azt-mark-essay-new",54),2&i){const e=t.oxw(4);let n;t.Q6J("examObj",e.examObj)("showForTeacher",!1)("curSelectedTab",e.curSelectedTab)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("files",e.files)("resultID",null!==(n=e.examResultIdParam)&&void 0!==n?n:0)}}function Qi(i,s){if(1&i&&(t.ynx(0),t.YNc(1,qi,1,8,"azt-mark-essay-new",53),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",1==e.curSelectedTab)}}function Li(i,s){if(1&i&&t._UZ(0,"azt-mark-essay",55),2&i){const e=t.oxw(3);let n;t.Q6J("examObj",e.examObj)("showForTeacher",!1)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("resultID",null!==(n=e.examResultIdParam)&&void 0!==n?n:0)("files",e.files)("iframeViewMode","view")("hasLoadedData",e.hasLoadedData)}}function Ei(i,s){if(1&i&&(t.TgZ(0,"mat-tab",48),t.ALo(1,"mytranslate"),t.TgZ(2,"div",49)(3,"div",50),t.YNc(4,Qi,2,1,"ng-container",51),t.YNc(5,Li,1,9,"ng-template",null,52,t.W1O),t.qZA()()()),2&i){const e=t.MAs(6),n=t.oxw(2);t.s9C("label",t.lcZ(1,3,"lang_auto_tu_luan")),t.xp6(4),t.Q6J("ngIf",n.checkMarkNote)("ngIfElse",e)}}const Pi=function(i,s){return{"w-85":i,"w-25":s}},Fi=function(){return[]},zi=function(i){return{"ml-5":i}};function Ui(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-drawer-container",5)(1,"mat-drawer",6,7),t.NdJ("closedStart",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeStatusNav())}),t.TgZ(3,"div",8)(4,"div",9),t._UZ(5,"app-testbank-test-review-show-mark-info-of-student",10),t.qZA(),t.TgZ(6,"div",11),t._UZ(7,"app-testbank-test-review-show-detail-info-for-student",12)(8,"app-testbank-show-offline-result",13),t.qZA()()(),t.TgZ(9,"mat-drawer-content")(10,"div",14)(11,"div",15)(12,"div",16),t.YNc(13,ki,6,3,"button",17),t.YNc(14,Si,6,3,"button",18),t.TgZ(15,"div",19),t._uU(16),t.qZA(),t.TgZ(17,"div",20),t.GkF(18,21),t.qZA()(),t.YNc(19,Ci,8,5,"ng-container",22),t.TgZ(20,"div",23)(21,"mat-tab-group",24),t.NdJ("selectedTabChange",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.onTabChanged(a))})("selectedIndexChange",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.curSelectedTab=a)}),t.YNc(22,Mi,10,12,"mat-tab",25),t.YNc(23,Ei,7,5,"mat-tab",26),t.qZA()()()()()()}if(2&i){const e=t.oxw(),n=t.MAs(5);let a;t.Q6J("hasBackdrop",e.hasBackdrop),t.xp6(1),t.s9C("opened",e.isOpenSideNav?"true":"false"),t.Q6J("ngClass",t.WLB(43,Pi,e.isMobile,!e.isMobile))("mode",e.mode),t.xp6(4),t.Q6J("examObj",e.examObj)("examResultObj",e.examResultObj)("viewPractice",e.viewPractice),t.xp6(2),t.Q6J("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("offlineHashIdParam",e.offlineHashIdParam)("viewPractice",e.viewPractice)("studentObj",e.studentObj)("examObj",e.examObj)("examResultObj",e.examResultObj)("markedByObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.markedByObj)("questionObjs",e.questionObjs)("essayQuestionObjs",e.essayQuestionObjs)("trueFalseChoiceQuestionObjs",e.trueFalseChoiceQuestionObjs)("files",e.files)("historyExamResultObjs",null!==(a=null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.historyExamResultObjs)&&void 0!==a?a:t.DdM(46,Fi))("examTracks",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.examTracks)("resultInfos",e.resultInfos),t.xp6(1),t.Q6J("backToLink",e.backToLink)("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("examObj",e.examObj)("offlineMarkObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMarkObj)("offlineMixQuestionObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMixQuestionObj)("isDeletableExamResultObj",!1),t.xp6(2),t.Q6J("ngClass",t.VKq(47,zi,!e.isMobile&&e.isOpenSideNav)),t.xp6(3),t.Q6J("ngIf",!e.isOpenSideNav||e.isMobile),t.xp6(1),t.Q6J("ngIf",e.isOpenSideNav&&!e.isMobile),t.xp6(1),t.s9C("matTooltip",null==e.examObj?null:e.examObj.name),t.xp6(1),t.hij(" ",null==e.examObj?null:e.examObj.name," "),t.xp6(2),t.Q6J("ngTemplateOutlet",n),t.xp6(1),t.Q6J("ngIf","lang_core_dont_allow_show_answer_by_min_mark"==e.errorMessage),t.xp6(2),t.Q6J("selectedIndex",e.curSelectedTab),t.xp6(1),t.Q6J("ngIf",e.trueFalseChoiceQuestionObjs.length>0),t.xp6(1),t.Q6J("ngIf",e.essayQuestionObjs.length>0&&e.examObj&&e.examResultObj)}}function Ni(i,s){1&i&&(t.TgZ(0,"button",72)(1,"span",73),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_sai")," "))}function Ji(i,s){1&i&&(t.TgZ(0,"button",74)(1,"span",73),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_dung")," "))}function Di(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56),t.YNc(1,Ni,4,3,"button",57),t.YNc(2,Ji,4,3,"button",58),t.TgZ(3,"button",59),t.O4$(),t.TgZ(4,"svg",60),t._UZ(5,"polygon",61),t.qZA(),t.kcU(),t.TgZ(6,"span",62),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"mat-menu",63,64)(11,"div",65)(12,"ul",66)(13,"li")(14,"label",67),t._uU(15),t.ALo(16,"mytranslate"),t.TgZ(17,"div",68)(18,"input",69),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeViewOption("viewRight"))})("click",function(a){return a.stopPropagation()}),t.qZA()()()(),t.TgZ(19,"li")(20,"label",70),t._uU(21),t.ALo(22,"mytranslate"),t.TgZ(23,"div",68)(24,"input",71),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeViewOption("viewWrong"))})("click",function(a){return a.stopPropagation()}),t.qZA()()()()()()()}if(2&i){const e=t.MAs(10),n=t.oxw();t.xp6(1),t.Q6J("ngIf","viewWrong"===n.viewOption),t.xp6(1),t.Q6J("ngIf","viewRight"===n.viewOption),t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.hij(" ",t.lcZ(8,8,"lang_testbank_tested_list_sort")," "),t.xp6(8),t.hij(" ",t.lcZ(16,10,"lang_auto_cau_dung")," "),t.xp6(3),t.Q6J("checked","viewRight"==n.viewOption),t.xp6(3),t.hij(" ",t.lcZ(22,12,"lang_auto_cau_sai")," "),t.xp6(3),t.Q6J("checked","viewWrong"==n.viewOption)}}let zt=(()=>{class i extends b.Q{onResize(e){e.target.innerWidth<980?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1)}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}changeStatusNav(){this.isMobile&&(document.body.style.overflow="auto")}onChangeViewOption(e){this.viewOption=this.viewOption==e?"viewAll":e}onTabChanged(e){this.matTabGroupIndex=e.index}checkingShowAnswerConfig(){return!(!this.examConfigObj||!this.examResultObj||3!=this.examObj?.whenShowAnswer||!(this.examResultObj.mark&&this.examConfigObj.viewAnswerResultMinMark&&this.examResultObj.mark<this.examConfigObj.viewAnswerResultMinMark))}getQuestionCanFeedback(){if(Array.isArray(this.questionObjs)){let e=[];this.questionObjs.forEach(n=>{n.id&&!this.commonService.isExistInArray(e,n.id)&&e.push(n.id)}),this.subscriptions.add(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(Number(this.examIdParam),e.join(",")).subscribe(n=>{if(1==n.success){let a=n.data?.objs??[];if(Array.isArray(this.questionObjs))for(let o=0;o<this.questionObjs.length;o++)a.forEach(r=>{this.questionObjs&&this.questionObjs[o].id==r.questionId&&(this.questionObjs[o].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}else this.stopStatusObj()}processConvertData(e){if(e.data){this.studentObj=this.testReviewService.mapStudentObjWithTestedObjForFrontendStudent(e.data,this.testedUserObjs,this.studentObj),this.examObj=e?.data?.examObj,this.examResultObj=e?.data?.examResultObj,this.examConfigObj=e?.data?.examConfigObj,this.files=this.commonService.myParseJson(this.examResultObj?.files??"")??[],this.resultInfos=this.commonService.willDeleteParseJson(this.examResultObj?.infors??"")??[],this.errorMessage=e?.data?.errorMessage??"";const n=this.commonService.castJsonToClassObjs(at.v,JSON.stringify(e.data.questionObjs??[]));this.followerRenderQuest.setNumQuest(n?.length||0),this.questionObjs=n,this.questionObjs?.forEach(r=>{r.correctAnswer=this.commonService.isExistInArray(e?.data?.correctQuestionIds,r.id),r.isRoleTeacher=!1}),this.docxService.replaceCanvasBackgroundTS(this.questionObjs??[]),this.questionObjs=this.testReviewService.addIndexLabelToQuestionObjs(this.questionObjs),this.essayQuestionObjs=this.testReviewService.getEssayQuestionObjs(this.questionObjs),this.trueFalseChoiceQuestionObjs=this.testReviewService.getTrueFalseQuestionObjs(this.questionObjs),0==this.trueFalseChoiceQuestionObjs.length&&(this.curSelectedTab=1),this.userAnswersObj=this.testReviewService.convertAnswersArr(this.castJsonToObj(e.data.examResultObj?.answers??"")??[]),this.examResultIdParam=this.examResultObj?.id??0,this.examIdParam=this.examObj?.id?.toString()??"0",this.userIdParam=this.examResultObj?.userId?.toString()??"0",this.studentIdParam=this.examResultObj?.studentId?.toString()??this.studentObj?.id.toString()??"0",this.getQuestionCanFeedback(),this.hasLoadedData=!0;const a=this.envService.getVersionMarkNote(this.envService.getEnvValue("classliveUrl")??""),o=1e6;if(this.examResultObj?.result){const r=this.castJsonToObj(this.examResultObj?.result??"");this.checkMarkNote=!(!r||!r.urlDataMark)}else this.checkMarkNote=a>o}}ngOnInit(){this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.offlineHashIdParam=this.commonService.getMyQueryParam("offline"),this.examResultIdParam=Number(this.activeRoute.snapshot.paramMap.get("result_id")),this.userIdParam=this.activeRoute.snapshot.paramMap.get("user_id")??void 0,this.studentIdParam=this.activeRoute.snapshot.paramMap.get("student_id")??void 0,this.examIdParam=this.activeRoute.snapshot.paramMap.get("exam_id")??void 0,this.initDataResult&&this.processConvertData(this.initDataResult)})),this.answerBoxService.switchEssayTabMessage.subscribe(e=>{e&&(this.curSelectedTab=1,setTimeout(()=>{window.scroll(0,0)},0))}),super.ngOnInit()}constructor(e,n,a,o,r,_,l){super(),this.activeRoute=e,this.docxService=n,this.envService=a,this.testReviewService=o,this.answerBoxService=r,this.exportResultService=_,this.testMarketFeedbackService=l,this.viewPractice=!1,this.curSelectedTab=0,this.backToLink="",this.examResultIdParam=0,this.viewOption="viewAll",this.matTabGroupIndex=0,this.drawer=void 0,this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isMobile=this.commonService.isMobileOrTable(),this.userAnswersObj={},this.files=[],this.resultInfos=[],this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.followerRenderQuest=new R.p,this.hasLoadedData=!1,this.checkMarkNote=!1,this.errorMessage=""}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(zn.n),t.Y36(Un.h),t.Y36(Nn.t),t.Y36(Jn.z),t.Y36(Dn.U),t.Y36(ot.nC))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["azt-test-review-for-student"]],viewQuery:function(n,a){if(1&n&&t.Gf(wi,5),2&n){let o;t.iGM(o=t.CRH())&&(a.drawer=o.first)}},inputs:{initDataResult:"initDataResult",testedUserObjs:"testedUserObjs",viewPractice:"viewPractice"},features:[t.qOj],decls:6,vars:2,consts:[["id","test-review-for-student",1,"azt-result-list",3,"resize"],["class","p-3 m-3 text-center alert text-slate-500 font-medium",4,"ngIf","ngIfElse"],["hasResult",""],["ShowCorrectIncorrectFilterTpl",""],[1,"p-3","m-3","text-center","alert","text-slate-500","font-medium"],[1,"azt-drawer-container","mt-5",2,"height","auto",3,"hasBackdrop"],[3,"ngClass","mode","opened","closedStart"],["drawer",""],[1,"box"],[1,"info-user","border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[3,"examObj","examResultObj","viewPractice"],[1,"p-3"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam","offlineHashIdParam","viewPractice","studentObj","examObj","examResultObj","markedByObj","questionObjs","essayQuestionObjs","trueFalseChoiceQuestionObjs","files","historyExamResultObjs","examTracks","resultInfos"],[3,"backToLink","examResultIdParam","userIdParam","studentIdParam","examIdParam","examObj","offlineMarkObj","offlineMixQuestionObj","isDeletableExamResultObj"],[1,"azt-drawer-content","azt-test-review-for-teacher-new","relative",3,"ngClass"],[1,"p-0","slide-main"],[1,"flex","box","sm:h-auto","items-center","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-5"],["azt-track-service","test-review-for-student-ZI4M15FHLQ","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","test-review-for-student-lnUiT-MGaoA","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"truncate","font-medium","mx-auto","text-slate-600","dark:text-slate-300",2,"max-width","50%",3,"matTooltip"],[1,"relative","flex"],[3,"ngTemplateOutlet"],[4,"ngIf"],[1,"box","flex-1"],[3,"selectedIndex","selectedTabChange","selectedIndexChange"],[3,"label",4,"ngIf"],["id","tabEssay",3,"label",4,"ngIf"],["azt-track-service","test-review-for-student-ZI4M15FHLQ",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","test-review-for-student-lnUiT-MGaoA",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[1,"alert","alert-danger","mb-5",2,"align-items","center"],[1,"w-4","h-4","mr-2"],["name","alert-octagon"],[3,"label"],[1,"azt-student-list","scrollable-content"],["pointerEventsMethod","scrollbar",2,"height","calc(100vh - 166px)","width","100%",3,"visibility","disabled"],[1,"p-3",2,"padding-bottom","80px"],["style","display: block","class","mb-1",3,"imgSrc",4,"ngIf"],["class","p-2 font-bold",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-1",2,"display","block",3,"imgSrc"],[1,"p-2","font-bold"],["class","relative",3,"examObj","questionObj","curQuestionIndex","follower","userAnswersObj","curExamResultId","currentTab","ngClass",4,"ngIf"],[1,"relative",3,"examObj","questionObj","curQuestionIndex","follower","userAnswersObj","curExamResultId","currentTab","ngClass"],["id","tabEssay",3,"label"],["id","markEssay"],[1,"p-3",2,"padding-bottom","20px"],[4,"ngIf","ngIfElse"],["isFrameMark",""],[3,"examObj","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID",4,"ngIf"],[3,"examObj","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID"],[3,"examObj","showForTeacher","questions","userAnswersObj","examResultObj","resultID","files","iframeViewMode","hasLoadedData"],[1,"filter","flex"],["class","btn btn-sm btn-danger mx-2","style","cursor: default; padding: 6px 4px;",4,"ngIf"],["class","btn btn-sm btn-success mx-2","style","cursor: default; padding: 6px 4px;",4,"ngIf"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"azt-hidden","md:block"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["for","viewRight",1,"dropdown-item","cursor-pointer"],[1,"form-check","form-switch","ml-auto"],["azt-track-service","test-review-for-student-AzpxXYDv2dW","id","viewRight","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],["for","viewWrong",1,"dropdown-item","cursor-pointer"],["azt-track-service","test-review-for-student-FiRglRqPWZP","id","viewWrong","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],[1,"btn","btn-sm","btn-danger","mx-2",2,"cursor","default","padding","6px 4px"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-success","mx-2",2,"cursor","default","padding","6px 4px"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("resize",function(r){return a.onResize(r)},!1,t.Jf7),t.YNc(1,Ti,3,3,"div",1),t.YNc(2,Ui,24,49,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Di,25,14,"ng-template",null,3,t.W1O)),2&n){const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!(null!=a.initDataResult&&null!=a.initDataResult.data&&a.initDataResult.data.examResultObj||null!=a.initDataResult&&null!=a.initDataResult.data&&a.initDataResult.data.historyExamResultObjs))("ngIfElse",o)}},dependencies:[d.mk,d.sg,d.O5,d.tP,Pt.VK,Pt.p6,gt.jA,gt.kh,gt.LW,P.uX,P.SP,U.gM,ct.KC,Q.Nh5,pt.y,Rn.a,Yn.C,Kn,xi,bi.S,vi.f,p.JV],encapsulation:2})}return i})();function Ri(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Yi(i,s){if(1&i&&t._UZ(0,"azt-test-review-for-student",3),2&i){const e=t.oxw();t.Q6J("initDataResult",e.initDataAnswerTest)("viewPractice",!0)}}let Hi=(()=>{class i extends b.Q{redirectToBackLink(){let e=this.commonService.getMyQueryParam("backto")??"";this.backToLink=e}translateMetaTitle(e){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(n=>{this.commonService.translateMetaData({title:n+": "+e,description:n+": "+e,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString()??"",n=Number(this.commonService.getMyParam(this.activeRoute,"practice_id")),a=this.commonService.myTranslateInstant("lang_auto_ket_qua");this.practiceService.apiPracticeHashIdPracticeIdAnswersGet(e,n).subscribe(o=>{1==o.success?(this.initDataAnswerTest=o,this.headerTitle=`${a}: ${o?.data?.examObj?.name}`,this.translateMetaTitle(o.data?.examObj?.name),this.successStatusObj()):this.errorStatusObj(o.message??"",!0)})}))}ngOnInit(){this.getAndProcessDataForStudent(),this.redirectToBackLink(),super.ngOnInit()}constructor(e,n){super(),this.activeRoute=e,this.practiceService=n,this.headerTitle="",this.backToLink=""}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(it.ik))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-answer-practice"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"initDataResult","viewPractice"]],template:function(n,a){if(1&n&&(t.TgZ(0,"student-layout",0),t.YNc(1,Ri,1,0,"azt-loading-effect",1),t.YNc(2,Yi,1,2,"ng-template",null,2,t.W1O),t.qZA()),2&n){const o=t.MAs(3);t.Q6J("headerBackToLink",a.backToLink),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[d.O5,j.l,zt,N.L],encapsulation:2})}return i})();function Bi(i,s){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.ALo(3,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",6),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(2),t.s9C("src",t.lcZ(3,6,"images/preview/File "+(e.index+1)+".jpg"),t.LSH),t.xp6(4),t.hij(" ",e.data.name," "),t.xp6(2),t.AsE(" ",t.lcZ(9,8,"lang_core_practice_count")+": "," ",e.data.totalPractice," "),t.xp6(3),t.AsE(" ",t.lcZ(12,10,"lang_auto_so_luong_cau_hoi")+": "," ",e.data.totalQuestion," ")}}let Ut=(()=>{class i extends b.Q{ngOnInit(){super.ngOnInit()}constructor(e,n){super(),this.timeService=e,this.homeworkExamService=n,this.index=0}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(D.D),t.Y36(H.v))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["azt-block-practice"]],inputs:{data:"data",index:"index"},features:[t.qOj],decls:1,vars:1,consts:[["class","box px-4 py-4 mt-3 flex zoom-in",4,"ngIf"],[1,"box","px-4","py-4","mt-3","flex","zoom-in"],[1,"w-16","h-20","flex-none","image-fit","border","border-slate-200","dark:border-darkmode-400","rounded-md","overflow-hidden"],[3,"src"],[1,"ml-4","mr-auto"],[1,"font-medium"],[1,"text-slate-500","text-xs","mt-1"]],template:function(n,a){1&n&&t.YNc(0,Bi,13,12,"div",0),2&n&&t.Q6J("ngIf",a.data)},dependencies:[d.O5,p.JV,p.Bo],encapsulation:2})}return i})();function Gi(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Ki(i,s){1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function Vi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"h2",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"div",12)(5,"span",13),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"span",14),t._uU(9),t.qZA()(),t.TgZ(10,"h3",15),t._uU(11),t.qZA(),t.TgZ(12,"div",16)(13,"div",17)(14,"p",18),t.O4$(),t.TgZ(15,"svg",19),t._UZ(16,"path",20)(17,"circle",21),t.qZA(),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(20,"p",22),t._uU(21),t.qZA()(),t.TgZ(22,"div",23)(23,"p",18),t.O4$(),t.TgZ(24,"svg",19),t._UZ(25,"circle",24)(26,"polyline",25),t.qZA(),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(29,"p",22),t._uU(30),t.qZA()(),t.TgZ(31,"div",23)(32,"p",18),t.O4$(),t.TgZ(33,"svg",26),t._UZ(34,"path",27)(35,"path",28),t.qZA(),t._uU(36),t.ALo(37,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(38,"p",29),t._uU(39),t.qZA()(),t.TgZ(40,"div",23)(41,"p",18),t.O4$(),t.TgZ(42,"svg",30),t._UZ(43,"circle",24)(44,"line",31)(45,"line",32),t.qZA(),t._uU(46),t.ALo(47,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(48,"p",33),t._uU(49),t.qZA()(),t.TgZ(50,"div",23)(51,"p",18),t.O4$(),t.TgZ(52,"svg",34),t._UZ(53,"circle",24)(54,"line",35)(55,"line",36),t.qZA(),t._uU(56),t.ALo(57,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(58,"p",37),t._uU(59),t.qZA()()(),t.TgZ(60,"div",38)(61,"div",39)(62,"div",40)(63,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.redirectToAnswerTest())}),t._uU(64),t.ALo(65,"mytranslate"),t.qZA()(),t.TgZ(66,"div",40)(67,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.redirectToPractice())}),t._uU(68),t.ALo(69,"mytranslate"),t.TgZ(70,"span",43),t._UZ(71,"lucide-icon",44),t.qZA()()()()()}if(2&i){const e=t.oxw(2);let n;t.xp6(2),t.Oqu(t.lcZ(3,16,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.xp6(4),t.hij(" ",t.lcZ(7,18,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.hij(" ",null==e.practiceObj?null:e.practiceObj.mark," "),t.xp6(2),t.hij(" ",null==e.practiceObj?null:e.practiceObj.name," "),t.xp6(7),t.hij(" ",t.lcZ(19,20,"lang_auto_thi_sinh")," "),t.xp6(3),t.hij(" ",null==e.userObj?null:e.userObj.fullName," "),t.xp6(6),t.hij(" ",t.lcZ(28,22,"lang_auto_thoi_gian_lam_bai")," "),t.xp6(3),t.hij(" ",e.timeTested," "),t.xp6(6),t.hij(" ",t.lcZ(37,24,"lang_auto_so_luong_trac_nghiem_dung")," "),t.xp6(3),t.hij(" ",null==e.practiceObj?null:e.practiceObj.rightAnswer," "),t.xp6(7),t.hij(" ",t.lcZ(47,26,"lang_auto_so_cau_sai")," "),t.xp6(3),t.hij(" ",null==e.practiceObj?null:e.practiceObj.wrongAnswer," "),t.xp6(7),t.hij(" ",t.lcZ(57,28,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",null!==(n=null==e.practiceObj?null:e.practiceObj.totalQuestion)&&void 0!==n?n:0," "),t.xp6(5),t.hij(" ",t.lcZ(65,30,"lang_auto_xem_dap_an_chi_tiet")," "),t.xp6(4),t.hij(" ",t.lcZ(69,32,"lang_core_practice_next")," ")}}const Nt=function(i){return{backto:i}};function $i(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"a",51),t.ALo(2,"navigationLocalize"),t._UZ(3,"azt-block-practice",52),t.qZA(),t.BQk()),2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.lcZ(2,4,"/on-luyen/"+n.hashId))("queryParams",t.VKq(6,Nt,o.returnLink)),t.xp6(2),t.Q6J("data",n)("index",a)}}function Wi(i,s){if(1&i&&(t.TgZ(0,"a",54),t.ALo(1,"navigationLocalize"),t._UZ(2,"azt-block-practice",52),t.qZA()),2&i){const e=t.oxw(2),n=e.$implicit,a=e.index,o=t.oxw(3);t.Q6J("routerLink",t.lcZ(1,4,"/on-luyen/"+n.hashId))("queryParams",t.VKq(6,Nt,o.returnLink)),t.xp6(2),t.Q6J("data",n)("index",a)}}function Xi(i,s){if(1&i&&t.YNc(0,Wi,3,8,"a",53),2&i){const e=t.oxw().index;t.Q6J("ngIf",e<2)}}function ta(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,$i,4,8,"ng-container",1),t.YNc(2,Xi,1,1,"ng-template",null,50,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.toggleAllView)("ngIfElse",e)}}function ea(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.toggleAllPractice())}),t.TgZ(1,"span",56),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"span",57),t._UZ(5,"lucide-icon",58),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_xem_them")," "))}function na(i,s){if(1&i&&(t.TgZ(0,"div",45)(1,"div",46),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",47),t.YNc(5,ta,4,2,"div",48),t.YNc(6,ea,6,3,"button",49),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_core_additional_practice_on_azota")," "),t.xp6(3),t.Q6J("ngForOf",e.suggestPractice),t.xp6(1),t.Q6J("ngIf",!e.toggleAllView)}}const ia=function(i){return{"grid-column-start":i}};function aa(i,s){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t.YNc(3,Ki,5,3,"div",1),t.YNc(4,Vi,72,34,"ng-template",null,6,t.W1O),t.qZA()(),t.TgZ(6,"div",7),t.YNc(7,na,7,5,"div",8),t.qZA()()),2&i){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(4,ia,0!==n.suggestPractice.length||n.isMobileDevice?"auto":"3")),t.xp6(2),t.Q6J("ngIf",""!=n.statusObj.errorMessage)("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",n.suggestPractice.length>0)}}let oa=(()=>{class i extends b.Q{toggleAllPractice(){this.toggleAllView=!this.toggleAllView}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-practice/"+this.practiceId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.returnLink))}redirectToPractice(){this.commonService.myNavigationWithQueryString("/test/take-practice/"+this.practiceObj?.practiceId+"/0/"+this.hashId,"?backto="+encodeURIComponent(this.returnLink))}getData(){this.initStatusObj(),this.subscriptions.add(this.practiceService.apiPracticeHashIdPracticeIdGet(this.hashId,this.practiceId).subscribe(e=>{if(1==e.success){this.practiceObj=e.data;const n=new Date(e.data?.startedTest??""),a=new Date(e.data?.savedAt??"");this.timeTested=this.timeService.calculationTimeExamTested(n,a);let o="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(r=>{o=r}),this.commonService.translateMetaData({title:o+": "+this.practiceObj?.name,description:this.practiceObj?.name}),this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}getSuggestExam(){this.subscriptions.add(this.practiceService.apiPracticeSuggestGet(0).subscribe(e=>{1==e.success?this.suggestPractice=e.data?.objs??[]:this.showErrorSnack(e.message??"")}))}ngOnInit(){this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();this.practiceId=Number(this.commonService.getMyParam(this.activeRoute,"practice_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=e||"",this.userObj=this.userService.getUserObj(),this.getData(),this.getSuggestExam()})),this.backToLink="/student/dashboard/0",this.paramBackToLink=this.commonService.getMyQueryParam("backto")??"",this.returnLink=`/test/submit-practice/${this.practiceId}/${this.hashId}/${this.resultId}`,super.ngOnInit()}constructor(e,n,a,o){super(),this.activeRoute=e,this.timeService=n,this.userService=a,this.practiceService=o,this.backToLink="",this.paramBackToLink="",this.returnLink="",this.hashId="",this.resultId=0,this.practiceId=0,this.timeTested="",this.suggestPractice=[],this.toggleAllView=!1}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(D.D),t.Y36(E.U),t.Y36(it.ik))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-practice"]],features:[t.qOj],decls:5,vars:6,consts:[[3,"headerTitle","headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-8",3,"ngStyle"],[1,"box","mx-auto","mt-5"],["Normal",""],[1,"col-span-12","md:col-span-4"],["class","mt-5 mx-auto","style","max-width: 560px",4,"ngIf"],[1,"alert","alert-danger"],[2,"text-align","center","padding-top","30px"],[1,"text-lg","font-bold"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[1,"text-md","font-medium","text-center","mt-3","px-5"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"text-md","font-medium","ml-auto"],[1,"flex","items-center","mt-3"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"text-md","font-medium","text-danger","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-slate-500"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"text-md","text-slate-500","font-medium","ml-auto"],[1,"p-5"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-6"],["azt-track-service","submit-practice-Qzm8hQuNa",1,"btn","btn-outline-primary","w-full",3,"click"],["azt-track-service","submit-practice-Mqu66yKVfk",1,"btn","btn-pending","w-full","text-white",3,"click"],[1,"w-4","h-4","ml-2"],["name","chevron-right"],[1,"mt-5","mx-auto",2,"max-width","560px"],[1,"text-xl","font-medium"],[1,"mt-3","list-suggest"],[4,"ngFor","ngForOf"],["azt-track-service","submit-practice--DD9_IsQTx","class","btn btn-outline-secondary btn-transparent mt-2 mx-auto",3,"click",4,"ngIf"],["notShowAll",""],["azt-track-service","submit-practice-oWLYBuVSLY",3,"routerLink","queryParams"],[3,"data","index"],["azt-track-service","submit-practice-BcGV_yVzzs",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","submit-practice-BcGV_yVzzs",3,"routerLink","queryParams"],["azt-track-service","submit-practice--DD9_IsQTx",1,"btn","btn-outline-secondary","btn-transparent","mt-2","mx-auto",3,"click"],[1,"mr-2"],[1,"w-4","h-4"],["name","chevron-down"]],template:function(n,a){if(1&n&&(t.TgZ(0,"student-layout",0),t.ALo(1,"mytranslate"),t.YNc(2,Gi,1,0,"azt-loading-effect",1),t.YNc(3,aa,8,6,"ng-template",null,2,t.W1O),t.qZA()),2&n){const o=t.MAs(4);t.Q6J("headerTitle",t.lcZ(1,4,"lang_auto_nop_bai"))("headerBackToLink",a.backToLink),t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[T.rH,d.sg,d.O5,d.PC,j.l,Ut,N.L,Q.Nh5,p.Jy,p.JV],encapsulation:2})}return i})();var rt=m(15861),Jt=m(69862),v=m(61713),sa=m(77757),ra=m(82228),xt=m(32965),W=m(30617);const _a=["customCard"],la=["fileSelect"];function ca(i,s){1&i&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_bai_lam_dang_duoc_tai_len_vui_long_doi_trong_giay_lat")))}function ma(i,s){1&i&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_dang_dong_bo_du_lieu_vui_long_doi_trong_giay_lat")))}function ua(i,s){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,ca,3,3,"h5",17),t.YNc(2,ma,3,3,"h5",17),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.Tmploading),t.xp6(1),t.Q6J("ngIf",e.Tmploading)}}const da=function(i){return{"width.%":i}};function ga(i,s){if(1&i&&(t.TgZ(0,"div",21)(1,"h5",22),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._UZ(4,"div",24),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.Q6J("ngStyle",t.VKq(2,da,e.uploadProgress))}}function pa(i,s){if(1&i&&(t.TgZ(0,"div",19),t.YNc(1,ga,5,4,"div",20),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function ha(i,s){if(1&i&&(t.TgZ(0,"div",32)(1,"video",33),t._UZ(2,"source",34),t.ALo(3,"safe"),t.qZA(),t.TgZ(4,"div",35)(5,"div",36)(6,"span",37),t._UZ(7,"lucide-icon",38),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",t.lcZ(3,1,e.url+"#t=5"),t.LSH)}}function fa(i,s){if(1&i&&(t._UZ(0,"img",39),t.ALo(1,"mycdn")),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.Q6J("src",t.lcZ(1,1,n.getFileIcon(e)),t.LSH)}}function xa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,o=t.oxw(3);let r;return t.KtG(o.removeImg(null!==(r=a.url)&&void 0!==r?r:""))}),t.O4$(),t.TgZ(1,"svg",41),t._UZ(2,"line",42)(3,"line",43),t.qZA()()}}function ba(i,s){1&i&&(t.TgZ(0,"span",44)(1,"mat-icon",45),t._uU(2,"check_box_outline"),t.qZA()())}function va(i,s){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,ha,8,3,"div",28),t.ALo(2,"isVideo"),t.YNc(3,fa,2,3,"ng-template",null,29,t.W1O),t.YNc(5,xa,4,0,"div",30),t.YNc(6,ba,3,0,"span",31),t.qZA()),2&i){const e=s.$implicit,n=t.MAs(4),a=t.oxw(3);let o;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,null!==(o=e.mimes)&&void 0!==o?o:""))("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",1!=a.isSuccess),t.xp6(1),t.Q6J("ngIf",a.isSuccess)}}function wa(i,s){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,va,7,6,"div",26),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.uploadFiles)}}function Ta(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",46),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSelectFile())}),t.O4$(),t.TgZ(1,"svg",47),t._UZ(2,"path",48)(3,"polyline",49)(4,"line",50),t.qZA(),t.kcU(),t.TgZ(5,"span",51),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"input",52,53),t.NdJ("change",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.selectFile(a))}),t.qZA()()}2&i&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"lang_auto_upload_file_bai_lam_cua_ban")))}function ka(i,s){1&i&&(t.TgZ(0,"div",54)(1,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}function Sa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"span",58),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",59)(6,"span",60),t.O4$(),t.TgZ(7,"svg",61),t._UZ(8,"path",62)(9,"line",63)(10,"line",64),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(13,"div",65)(14,"div",66)(15,"span",18),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"span",67),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"div",68),t._UZ(22,"qrcode",69),t.qZA()(),t.TgZ(23,"div",65)(24,"div",66)(25,"span",18),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"span",67),t._uU(29),t.ALo(30,"mytranslate"),t.qZA(),t.TgZ(31,"div",70),t._UZ(32,"input",71),t.TgZ(33,"button",72),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clickCopyLink())}),t.O4$(),t.TgZ(34,"svg",47),t._UZ(35,"rect",73)(36,"path",74),t.qZA(),t._uU(37),t.ALo(38,"mytranslate"),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,14,"lang_auto_hoac_nop_bang_dien_thoai")),t.xp6(8),t.hij(" ",t.lcZ(12,16,"lang_auto_vui_long_khong_tat_bang_nay_nop_bang_dien_thoai")," "),t.xp6(5),t.hij(" ",t.lcZ(17,18,"lang_auto_cach_1"),": "),t.xp6(3),t.hij(" ",t.lcZ(20,20,"lang_auto_su_dung_dien_thoai_quet_ma_qrcode_duoi_day_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.Q6J("allowEmptyString",!0)("qrdata",e.urlUploadImage)("elementType","url")("width",160)("errorCorrectionLevel","M"),t.xp6(4),t.hij(" ",t.lcZ(27,22,"lang_auto_cach_2"),": "),t.xp6(3),t.hij(" ",t.lcZ(30,24,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.s9C("value",e.urlUploadImage),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copylinkToClipboard(e.urlUploadImage)),t.xp6(4),t.hij(" ",t.lcZ(38,26,"lang_auto_sao_chep")," ")}}function Ca(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",75)(2,"g",76)(3,"g",77),t._UZ(4,"circle",78),t.TgZ(5,"path",79),t._UZ(6,"animateTransform",80),t.qZA()()()()())}function ya(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",null,2)(3,"div",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveFileConf())}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t.YNc(7,ua,3,2,"div",7),t.YNc(8,pa,2,1,"div",8),t.YNc(9,wa,2,1,"div",9),t.YNc(10,Ta,10,3,"div",10),t.YNc(11,ka,4,3,"div",11),t.qZA(),t.YNc(12,Sa,39,28,"div",12),t.TgZ(13,"div",13)(14,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveFileConf())}),t.YNc(15,Ca,7,0,"span",15),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.uploadFiles.length>0),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.data.isMobile),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.hij(" ",t.lcZ(17,9,"lang_auto_xac_nhan")," ")}}let G=(()=>{class i extends b.Q{constructor(e,n,a,o,r){var _;super(),_=this,this.myPdfService=e,this.apiUploadService=n,this.frontExamResultUploadService=a,this.homeworkExamService=o,this.cdnService=r,this.data={},this.hashCode="",this.isOnSelectFile=new t.vpe,this.closeDialog=new t.vpe,this.addFileMobile=new t.vpe,this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.urlUploadImage="",this.intervalGetInfoUpload=0,this.isUploadedPdf=!1,this.isOnSync=!1,this.Tmploading=!1,this.uploadFile=(l,c)=>{this.isSubmit=!1,((0,v.Or)(l.type)||(0,v.Wv)(l.type)||(0,v.F0)(l.type)||(0,v._4)(l.type)||(0,v.D_)(l.type))&&(0,v.hv)(l).then(u=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(u).subscribe(g=>{if(g.type!=Jt.dt.UploadProgress)1==g.success?(delete this.fileUploadQueue[c],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push({...g.data}),this.stopStatusObj(),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_ten",l.name,g.message??"none")));else{var h=Math.round(g.loaded??0/(g.total??1)*100);this.fileUploadQueue.hasOwnProperty(c)?(this.fileUploadQueue[c].uploadProgress=h,this.fileUploadQueue[c].fileName=l.name):this.fileUploadQueue[c]={uploadProgress:0,fileName:l.name}}})})},this.selectFile=function(){var l=(0,rt.Z)(function*(c){let h=c.target.files;try{for(var w in h)if("length"!=w&&"item"!=w)if((0,v.zQ)(h[w].type))if((0,v.EO)(h[w].size)<=200)if(_.answerFile=h?h[w]:_.answerFile,(0,v._4)(h[w].type)){_.isUploadedPdf=!0,_.initStatusObj();var k=yield _.myPdfService.getImageWithPdf(h[w]);_.answerFile=h?h[w]:_.answerFile,_.uploadFilesFunc(k,_.uploadCount),_.uploadCount+=1}else _.answerFile&&(_.isSuccess=!1,_.initStatusObj(),(0,v.Wv)(h[w].type)?_.uploadFileVideo(_.answerFile,_.uploadCount):_.uploadFile(_.answerFile,_.uploadCount),_.uploadCount+=1);else _.showErrorSnack("lang_auto_mb_vui_long_chon_file_khong_qua_200_mb");else _.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");c.target.setAttribute("value",""),_.goBackFullScreen(),_.onSelectFile=!1,_.isOnSelectFileEmit(!1)}catch{_.goBackFullScreen(),_.onSelectFile=!1,_.isOnSelectFileEmit(!1)}});return function(c){return l.apply(this,arguments)}}(),this.uploadFileVideo=function(){var l=(0,rt.Z)(function*(c,u){_.subscriptions.add(_.apiUploadService.uploadToVimeoProgress("front_exam",c,void 0).subscribe(g=>{g.isOnProgress?_.fileUploadQueue.hasOwnProperty(u)?(_.fileUploadQueue[u].uploadProgress=Math.round(g.percentage??0),_.fileUploadQueue[u].fileName=c.name):_.fileUploadQueue[u]={uploadProgress:0,fileName:c.name}:1==g.success?(delete _.fileUploadQueue[u],Array.isArray(_.uploadFiles)||(_.uploadFiles=[]),_.addFileWithProcess({...g.data,lastModified:c.lastModified}),_.updateFileUploadMobile(!1)):(_.stopStatusObj(),_.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau"))}))});return function(c,u){return l.apply(this,arguments)}}(),this.uploadFilesFunc=function(){var l=(0,rt.Z)(function*(c,u){for(let g=0;g<c.length;g++){const h=c[g];yield(0,v.hv)(h).then(w=>{_.apiUploadService.uploadToCdnProgressForFrontendExam(w).subscribe(k=>{k.type!=Jt.dt.UploadProgress&&(1==k.success?(delete _.fileUploadQueue[u],Array.isArray(_.uploadFiles)||(_.uploadFiles=[]),_.uploadFiles.push({...k.data}),g===c.length-1&&_.updateFileUploadMobile(!1).then(()=>{_.successStatusObj(),_.isUploadedPdf=!1})):(_.stopStatusObj(),_.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau")))})})}});return function(c,u){return l.apply(this,arguments)}}(),this.answerFile=null}copylinkToClipboard(e){return e}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}getFileIcon(e){return(0,v.Or)(e.mimes??"")?e.url??"":(0,v.F0)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_audio.svg"):(0,v.MH)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_word.svg"):(0,v.ZA)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_powerpoint.svg"):(0,v.AW)(e.extension??"")||"xlsx"==e.extension?this.cdnService.convertCdnLinkOfGitHub("images/ext_excel.svg"):e.url??""}isOnSelectFileEmit(e){this.isOnSelectFile.emit(e)}goBackFullScreen(){const e=document.documentElement;let n=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;n&&!this.isCallFullScreenOnce&&this.data.isMonitor&&(n.call(e),this.isCallFullScreenOnce=!0)}saveFile(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}saveFileConf(){!0===this.statusObj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.snackWarning("lang_auto_sync_file_to_system_please_waiting"):this.saveFile()}replaceRequestGetInfoUpload(e){var n=this,a=e;this.intervalGetInfoUpload=window.setInterval(()=>{!1===n.isUploadedPdf&&n.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(n.hashCode).subscribe(o=>{if(1==o.success){var r=n.commonService.myParseJson(o.data?.tmpObj?.files??""),_=!1;(r=r??[]).length!=n.uploadFiles.length?_=!0:r.length>0&&r.forEach(l=>{-1===n.uploadFiles.findIndex(c=>c.path==l.path)&&(_=!0)}),!0===_&&(0==n.isOnSync||a)&&n.addFileMobile.emit({files:r,keepOpen:!0}),a&&(n.uploadFiles=r,n.updateFileUploadMobile(!0),a=!1),n.Tmploading=!1,n.stopStatusObj()}else n.showErrorSnack("lang_auto_dong_bo_du_lieu_khong_thanh_cong_vui_long_an_f5_hoac_tai_lai_trang"),n.Tmploading=!1,n.stopStatusObj()})},3e3)}updateFileUploadMobile(e){return new Promise(n=>{this.initStatusObj(),this.Tmploading=e??!1,this.isOnSync=!0,this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost({hashCode:this.hashCode,files:JSON.stringify(this.uploadFiles)}).subscribe(a=>{1==a.success?(this.stopStatusObj(),this.Tmploading=!1,this.isOnSync=!1,n(!0)):(this.stopStatusObj(),this.Tmploading=!1)})})}openSelectFile(){this.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,this.fileSelect?.nativeElement.click())}onFocus(e){this.onSelectFile&&(null==this.answerFile||0==this.uploadFiles.length)&&(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1))}addFileWithProcess(e){e&&this.uploadFiles.push(e);for(let n=0;n<this.uploadFiles.length;n++)this.uploadFiles[n].lastModified||(this.uploadFiles[n].lastModified=(new Date).getTime()),this.uploadFiles[n].thumb||(this.uploadFiles[n].thumb=this.homeworkExamService.getThumbWithObj(this.uploadFiles[n]));this.uploadFiles.sort((n,a)=>(n.lastModified??0)-(a.lastModified??0))}bindUrlToQrCode(e){var n=this.commonService.getCurrentDomain();this.urlUploadImage=`${n}/n/${e}`}onGlobalClick(e){this.customCard?.nativeElement.contains(e.target)||this.closeDialog.emit()}isVideo(e){return/^(?:video)/i.test(e)}convertObjToArray(e){var n=[];for(var a in e)n.push(e[a]);return n}removeImg(e){var n=this.uploadFiles.filter(a=>a.url!==e);this.uploadFiles=n,this.updateFileUploadMobile(!0)}ngOnChanges(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}ngOnInit(){setTimeout(()=>{this.data.isMobile||this.bindUrlToQrCode(this.hashCode),this.initStatusObj(),this.Tmploading=!0,this.replaceRequestGetInfoUpload(!0)},100),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload),super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(sa.z),t.Y36(ra.W),t.Y36(S.vO),t.Y36(H.v),t.Y36(xt.E))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-upload-image"]],viewQuery:function(n,a){if(1&n&&(t.Gf(_a,5),t.Gf(la,5)),2&n){let o;t.iGM(o=t.CRH())&&(a.customCard=o.first),t.iGM(o=t.CRH())&&(a.fileSelect=o.first)}},hostBindings:function(n,a){1&n&&t.NdJ("focus",function(r){return a.onFocus(r)},!1,t.Jf7)("mousedown",function(r){return a.onGlobalClick(r)},!1,t.evT)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],["azt-track-service","upload-image-k-LlZfUpF",1,"bg-overbackground",3,"click"],[1,"intro-x","box","upload-image-block","overflow-auto"],[1,"box","p-5","box-upload"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4"],["class","text-center m-4 mb-8",4,"ngIf"],["class","grid grid-cols-12 gap-5 ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","grid grid-cols-12 gap-5 pl-4 pr-5 mb-4",4,"ngIf"],["azt-track-service","upload-image-xZ-pGKA--d","class","px-4 mt-5 flex items-center justify-center cursor-pointer relative",3,"click",4,"ngIf"],["class","px-4 pb-4 mt-1 flex items-center justify-center cursor-pointer relative",4,"ngIf"],["class","upload-mobile",4,"ngIf"],[1,"mt-5","text-center"],["azt-track-service","upload-image-RXRSe2dtF2",1,"btn","w-32","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"text-center","m-4","mb-8"],["class","font-medium",4,"ngIf"],[1,"font-medium"],[1,"grid","grid-cols-12","gap-5","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"forn-medium","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"grid","grid-cols-12","gap-5","pl-4","pr-5","mb-4"],["class","col-span-6 md:col-span-3 h-28 relative image-fit cursor-pointer zoom-in",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-3","h-28","relative","image-fit","cursor-pointer","zoom-in"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],["noVideo",""],["azt-track-service","upload-image-80z7xb2gI","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","7rem","width","100%","object-fit","cover"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],[1,"w-6","h-6","inline-block"],["name","video"],[1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",3,"src"],["azt-track-service","upload-image-80z7xb2gI",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"],["azt-track-service","upload-image-xZ-pGKA--d",1,"px-4","mt-5","flex","items-center","justify-center","cursor-pointer","relative",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1","cursor-pointer"],["id","horizontal-form-1","type","file","multiple","",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer","azt-hidden",3,"change"],["fileSelect",""],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","cursor-pointer","relative"],[1,"block","text-xs","text-slate-600","dark:text-slate-500"],[1,"upload-mobile"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"mt-2","text-center","font-medium"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"mt-3"],[1,"upload-item"],[1,"ml-1"],[1,"qr-img","mt-2","mx-auto","w-40"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel"],[1,"azt-copy","relative","mt-2","intro-x"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","upload-image-X_utJrb2bC",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(n,a){1&n&&t.YNc(0,ya,18,11,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.sg,d.O5,d.PC,Ft.i3,W.Hw,Q.Nh5,Et.V,p.JV,p.QN,p.CR,p.ul],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:1001;right:10px;top:10px}.upload-image-block[_ngcontent-%COMP%]{overflow-y:auto;height:calc(100vh - 20px)}.box-upload[_ngcontent-%COMP%]{max-width:600px;min-height:100%}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(242,242,242) 0%,rgb(228,228,228) 100%,rgb(255,255,255) 100%);box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;box-shadow:5px 5px 5px #00000059;height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width: 1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px #00000094}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:white;padding:5px;border-radius:5px}@media (max-width: 1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000a3}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}@media screen and (max-width: 768px){.upload-image-block[_ngcontent-%COMP%]{height:60vh}.box-upload[_ngcontent-%COMP%]{min-height:auto}}"]})}return i})();var K=m(47394),bt=m(59997);let vt=(()=>{class i{constructor(e,n,a,o,r){this.commonService=e,this.cdnService=n,this.trackJsExceptionService=a,this.answerTypeService=o,this.userService=r,this.labelsImg=new Image,this.questionLabelMap=[],this.abcdLabelPos={},this.subscription=new K.w0}cancelSubscription(){this.subscription.unsubscribe()}makeRetry(e,n,a,o,r,_,l,c){e.crossOrigin="anonymous",e.setAttribute("totalRetry","0"),e.onerror=()=>{let u=parseInt(e.getAttribute("totalRetry")||"0");if(u++,u<=n)setTimeout(()=>{if(u>Math.floor(n/2))e.src=this.cdnService.getMyCdn(e.src);else{let w=e.src.split("?")[0];e.src=w+"?t="+Date.now()}e.setAttribute("totalRetry",u.toString())},a);else{var g=0,h=this.userService.getUserObj();h&&h.id&&(g=h.id);let w=document.URL.split("?")[0].split("/"),k={userId:g,trackKey:"V2_ERR_DISPLAY",name:"Track l\u1ed7i kh\xf4ng hi\u1ec3n th\u1ecb c\xe2u h\u1ecfi v2",userAgent:navigator.userAgent,url:document.URL,content:e.src,error:w[w.length-1]};if(this.subscription.add(this.trackJsExceptionService.apiTrackJsExceptionSaveObjPost(k).subscribe(()=>{console.log("Track l\u1ed7i th\xe0nh c\xf4ng!")})),(o||0===o)&&r&&_&&l){l[o].mixDataImg=this.cdnService.convertCdnLinkOfGitHub("svgs/Img_dat-01.svg");let y=document.getElementById("questionPlaceholder_"+o);y?.setAttribute("loadSuccess","0");let O=document.getElementById("media_content_all_"+l[o].id);O?.setAttribute("loadSuccess","0");const M=A=>{"0"===A?.getAttribute("loadSuccess")&&(c?this.prepareImageForOtherTypes(_,o,l):this.prepareImageToDrawForType1(r,_,o,l))};O?O.onclick=()=>{M(O)}:y&&(y.onclick=()=>{M(y)})}}}}prepareImageToDrawForType1(e,n,a,o){if(n.metaData&&n.metaData.question){let r=1+e.length,_=0,l=new Image;l.crossOrigin="anonymous",l.onload=()=>{_++,_==r&&this.drawEachQuestion(e,n,a,l,c,o)},this.makeRetry(l,3,1e3,a,e,n,o),l.src=this.cdnService.getMyCdn(n.metaData.question.url||"");let c=[];for(let u=0;u<e.length;u++)c[u]=new Image,c[u].crossOrigin="anonymous",c[u].onload=()=>{_++,_==r&&this.drawEachQuestion(e,n,a,l,c,o)},this.makeRetry(c[u],3,1e3,a,e,n,o),c[u].src=this.cdnService.getMyCdn(e[u].content)}}prepareImageForOtherTypes(e,n,a){if(e.metaData&&e.metaData.question){let o=document.createElement("canvas");o.width=e.metaData.question.width+10,o.height=e.metaData.question.height;let r=o.getContext("2d"),_=new Image;_.crossOrigin="anonymous";const l=e.metaData.question.remove.x,c=e.metaData.question.remove.y;_.onload=()=>{r?.drawImage(_,10,0),r?.drawImage(this.labelsImg,this.questionLabelMap[n].left,this.questionLabelMap[n].top,this.questionLabelMap[n].width,this.questionLabelMap[n].height,l,c,this.questionLabelMap[n].width,this.questionLabelMap[n].height),a[n].mixDataImg=o.toDataURL("image/png")},this.makeRetry(_,3,1e3,void 0,void 0,void 0,void 0,"others"),_.src=this.cdnService.getMyCdn(e.metaData.question.url||"")}}drawEachQuestion(e,n,a,o,r,_){if(n.metaData&&n.metaData.answers&&n.metaData.question){let l=document.createElement("canvas");l.width=n.metaData.question.width+15,l.height=n.metaData.question.height;let c=l.getContext("2d");c?.drawImage(o,15,0),c?.drawImage(this.labelsImg,this.questionLabelMap[a].left,this.questionLabelMap[a].top,this.questionLabelMap[a].width,this.questionLabelMap[a].height,n.metaData.question.remove.x,n.metaData.question.remove.y,this.questionLabelMap[a].width,this.questionLabelMap[a].height);let u=r[0],g=0,h=0,w=0,k=n.metaData.answers[0].x,y=n.metaData.answers[0].y;g=k,h=k+u.width,w=k+u.width;let O=r[0].height-n.metaData.answers[0].height;c?.drawImage(u,k,y);let M=e[0].alpha?e[0].alpha:e[0].key,A=0;if(e[0].alpha){let x=e[0].key;for(let C=0;C<e.length;C++)if(x==e[C].alpha){A=C;break}}let L={left:void 0!==n.metaData.answers[A].remove.xAns?k+(n.metaData.answers[A].remove.xAns||0):n.metaData.answers[0].remove.x,top:void 0!==n.metaData.answers[A].remove.yAns?y+(n.metaData.answers[A].remove.yAns||0):n.metaData.answers[0].remove.y,width:n.metaData.answers[0].remove.width,height:n.metaData.answers[0].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(M)&&c?.drawImage(this.labelsImg,this.abcdLabelPos[M].left,this.abcdLabelPos[M].top,n.metaData.answers[0].remove.width,n.metaData.answers[0].remove.height,L.left,L.top,L.width,L.height),_[a].answerLabelsMockup[`label-${e[0].alpha?e[0].alpha:e[0].key}`]=L;for(let x=1;x<e.length;x++){let C=n.metaData.answers[x].x,q=n.metaData.answers[x].y;if(g+30<C){let F=[w,h];C<Math.max(...F)&&(C=Math.max(...F),C+r[x].width>l.width&&(C-=C+r[x].width-l.width),n.metaData.answers[x].remove.x=C),h+=r[x].width}else if(h=g+r[x].width,q+=O,O+=r[x].height-n.metaData.answers[x].height,q+r[x].height>l.height){let F=q+r[x].height-l.height;q-=F,n.metaData.answers[x].remove.y-=F}c?.drawImage(r[x],C,q);let tt=x,Qt=e[x].alpha?e[x].alpha:e[x].key;if(e[x].alpha){let F=e[x].key;for(let Y=0;Y<e.length;Y++)if(F==e[Y].alpha){tt=Y;break}}let et={left:void 0!==n.metaData.answers[tt].remove.xAns?C+(n.metaData.answers[tt].remove.xAns||0):n.metaData.answers[x].remove.x,top:void 0!==n.metaData.answers[tt].remove.yAns?q+(n.metaData.answers[tt].remove.yAns||0):n.metaData.answers[x].remove.y,width:n.metaData.answers[x].remove.width,height:n.metaData.answers[x].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(Qt||"a")&&c?.drawImage(this.labelsImg,this.abcdLabelPos[Qt||"a"].left,this.abcdLabelPos[Qt||"b"].top,n.metaData.answers[x].remove.width,n.metaData.answers[x].remove.height,et.left,et.top,et.width,et.height),_[a].answerLabelsMockup[`label-${e[x].alpha?e[x].alpha:e[x].key}`]=et,x==e.length-1&&(_[a].mixDataImg=l.toDataURL("image/png"),document.getElementById("media_content_all_"+_[a].id)?.setAttribute("loadSuccess","1"),document.getElementById("questionPlaceholder_"+a)?.setAttribute("loadSuccess","1"))}}}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(Z.z),t.LFG(xt.E),t.LFG(bt.$s),t.LFG(B.i),t.LFG(E.U))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var wt=m(18699),V=m(88489),Tt=m(12993),_t=m(7289),lt=m(19662),Oa=m(11460),kt=m(91085),Aa=m(15828);function Ia(i,s){if(1&i&&(t.TgZ(0,"div",17)(1,"video",18),t._UZ(2,"source",19),t.ALo(3,"safe"),t.qZA(),t.TgZ(4,"div",20)(5,"div",21)(6,"span",22),t._UZ(7,"lucide-icon",23),t.qZA()()()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",t.lcZ(3,1,e.url+"#t=5"),t.LSH)}}function Za(i,s){if(1&i&&(t._UZ(0,"img",24),t.ALo(1,"mycdn")),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("src",t.lcZ(1,1,n.getFileIcon(e)),t.LSH)}}function ja(i,s){if(1&i){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.removeImg(a.url))}),t.O4$(),t.TgZ(1,"svg",26),t._UZ(2,"line",27)(3,"line",28),t.qZA()()}}function Ma(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t.NdJ("click",function(a){const r=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.onShowFile(a,r,-1))}),t.YNc(2,Ia,8,3,"div",6),t.ALo(3,"isVideo"),t.YNc(4,Za,2,3,"ng-template",null,7,t.W1O),t.qZA(),t.TgZ(6,"div",8)(7,"button",9),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.switchAttributeArray(r.answerFiles,o,o-1))}),t.O4$(),t.TgZ(8,"svg",10),t._UZ(9,"polyline",11),t.qZA()(),t.kcU(),t.TgZ(10,"input",12,13),t.NdJ("keyup.enter",function(a){const r=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArrayInput(r,a))})("change",function(a){const r=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArrayInput(r,a))}),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",14),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.switchAttributeArray(r.answerFiles,o,o+1))}),t.O4$(),t.TgZ(14,"svg",10),t._UZ(15,"polyline",15),t.qZA()()(),t.YNc(16,ja,4,0,"div",16),t.qZA()}if(2&i){const e=s.$implicit,n=s.index,a=t.MAs(5),o=t.oxw(2);let r;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,7,null!==(r=e.mimes)&&void 0!==r?r:""))("ngIfElse",a),t.xp6(8),t.s9C("id","input_page_"+n),t.s9C("max",o.answerFiles.length),t.s9C("value",n+1),t.s9C("placeholder",t.lcZ(12,9,"lang_auto_trang_so")),t.xp6(6),t.Q6J("ngIf",!e.uploadSuccess)}}function qa(i,s){if(1&i&&(t.TgZ(0,"div",2),t.YNc(1,Ma,17,11,"div",3),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.answerFiles)}}const Qa=function(i){return{"custom-width-list":i}};let St=(()=>{class i extends b.Q{addFileWithProcess(){for(let e=0;e<this.answerFiles.length;e++)this.answerFiles[e].lastModified||(this.answerFiles[e].lastModified=(new Date).getTime()),this.answerFiles[e].thumb||(this.answerFiles[e].thumb=this.homeworkExamService.getThumbWithObj(this.answerFiles[e]));this.answerFiles.sort((e,n)=>e.lastModified&&n.lastModified?e.lastModified-n.lastModified:0)}removeImg(e){var n=this.answerFiles.filter(a=>a.url!==e);this.answerFiles=n,this.removeFile.emit(e)}onShowFile(e,n,a){let o={...n,index:-1};this.sAztDialogService.open(Aa.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:o},restoreFocus:!1})}switchAttributeArray(e,n,a){if(!(this.answerFiles.length<=n||this.answerFiles.length<=a||n<0||a<0)){var o=this.commonService.myClone(this.answerFiles[n]);this.answerFiles[n]=this.commonService.myClone(this.answerFiles[a]),this.answerFiles[a]=this.commonService.myClone(o),this.changesPosImg.emit(this.answerFiles)}}switchAttributeArrayInput(e,n){var a=Number(n.target.value)-1;a<=0?a=0:a>=this.answerFiles.length&&(a=this.answerFiles.length),this.answerFiles.splice(a,0,this.answerFiles.splice(e,1)[0]),this.changesPosImg.emit(this.answerFiles)}getFileIcon(e){return(0,v.Or)(e.mimes??"")?e.url??"":(0,v.F0)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_audio.svg"):(0,v.MH)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_word.svg"):(0,v.ZA)(e.mimes??"")?this.cdnService.convertCdnLinkOfGitHub("images/ext_powerpoint.svg"):(0,v.AW)(e.extension??"")||"xlsx"==e.extension?this.cdnService.convertCdnLinkOfGitHub("images/ext_excel.svg"):e.url??""}ngOnChanges(){this.answerFiles&&this.addFileWithProcess()}ngOnInit(){this.addFileWithProcess()}constructor(e,n,a){var o;super(),o=this,this.sAztDialogService=e,this.homeworkExamService=n,this.cdnService=a,this.answerFiles=[],this.isTesting=!1,this.onMobile=!1,this.showList=!1,this.changesPosImg=new t.vpe,this.removeFile=new t.vpe,this.uploadCount=0,this.answerFile=[],this.countUpload=1,this.selectFile=function(){var r=(0,rt.Z)(function*(_){let u=_.target.files;try{for(var g in u)"length"!=g&&"item"!=g&&((0,v.zQ)(u[g].type)?(0,v.EO)(u[g].size)<=200?(o.initStatusObj(),(0,v._4)(u[g].type)?(o.answerFile=u?u[g]:o.answerFile,o.uploadCount+=1):(o.answerFile=u?u[g]:o.answerFile,o.answerFile&&(o.stopStatusObj(),(0,v.Wv)(u[g].type)&&(o.countUpload=0),o.uploadCount+=1))):o.showErrorSnack("lang_auto_mb_vui_long_chon_file_khong_qua_200_mb"):o.showErrorSnack("lang_auto_error_file_no_support_homework_front_end"));_.target.value=""}catch(h){alert("error:"+h)}});return function(_){return r.apply(this,arguments)}}(),this.form=new f.cw({file_data:new f.NI("",{nonNullable:!0,validators:[f.kI.required]}),file_capture:new f.NI("",{nonNullable:!0,validators:[f.kI.required]}),file:new f.NI("",{nonNullable:!0,validators:[f.kI.required]})})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(st.C),t.Y36(H.v),t.Y36(xt.E))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-upload-ui"]],inputs:{answerFiles:"answerFiles",isTesting:"isTesting",onMobile:"onMobile",showList:"showList"},outputs:{changesPosImg:"changesPosImg",removeFile:"removeFile"},features:[t.qOj,t.TTD],decls:2,vars:5,consts:[[1,"mb-4","text-center",3,"formGroup","ngClass"],["class","grid grid-cols-12 gap-5 px-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-5","px-2"],["class","col-span-6 md:col-span-3 relative cursor-pointer",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-3","relative","cursor-pointer"],["azt-track-service","azt-upload-ui-06FXAP2vs","_target","blank",1,"image-fit","h-32",3,"click"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],["noVideo",""],[1,"flex","items-center","rounded-md","border","border-slate-200","dark:border-darkmode-400","overflow-hidden",2,"border-top-left-radius","0","border-top-right-radius","0"],["azt-track-service","azt-upload-ui-C1dMSfPnGq",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","15 18 9 12 15 6"],["type","text","type","number","min","1",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder","keyup.enter","change"],["myInput",""],["azt-track-service","azt-upload-ui-BX4lLFqzFg",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["points","9 18 15 12 9 6"],["azt-track-service","azt-upload-ui-vNQfvRtbXn","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","8rem","width","100%","object-fit","cover","border-bottom-left-radius","0","border-bottom-right-radius","0"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],[1,"w-6","h-6","inline-block"],["name","video"],["alt","Azota-non-image-Loading",1,"rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","position","unset",3,"src"],["azt-track-service","azt-upload-ui-vNQfvRtbXn",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(n,a){1&n&&(t.TgZ(0,"form",0),t.YNc(1,qa,2,1,"div",1),t.qZA()),2&n&&(t.Q6J("formGroup",a.form)("ngClass",t.VKq(3,Qa,a.isTesting&&!a.onMobile&&a.showList)),t.xp6(1),t.Q6J("ngIf",null==a.answerFiles?null:a.answerFiles.length))},dependencies:[d.mk,d.sg,d.O5,f._Y,f.JL,f.sg,Q.Nh5,p.JV,p.QN,p.CR,p.ul],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.files[_ngcontent-%COMP%]{cursor:pointer}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;line-height:1;width:50px}.input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width: 768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.custom-width-list[_ngcontent-%COMP%]{max-width:83%}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s;width:100%}.box_image_answer_content[_ngcontent-%COMP%]{min-height:288px;border:1px solid #03a7d0}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box_image_answer_control[_ngcontent-%COMP%]{background:white;width:100%;border:1px solid #03a7d0;border-top:none;position:relative;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;left:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;right:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]})}return i})();var Dt=m(8720);class La{constructor(){this.isDestroy=!1}}var Ct=m(99413),yt=m(25229),Ea=m(91581),Ot=m(22749);const Pa=function(i){return{"skeleton-box-loading":i}};function Fa(i,s){if(1&i&&t._UZ(0,"div",5),2&i){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,Pa,e.isFirstRender))}}function za(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",15),t.NdJ("sendAudioEmitter",function(a){t.CHM(e);const o=t.oxw(3);return t.KtG(o.sendAudio(a))}),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("questionObj",e.question)("isShowList",!0)("totalLimit",((null==e.examObj?null:e.examObj.limitAudio)||-1)>0?(null==e.examObj?null:e.examObj.limitAudio)||-1:0)}}function Ua(i,s){if(1&i&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"isOfflineExam"),t.ALo(3,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);let n;t.xp6(1),t.AsE(" ",e.customQuestionLabel+" "+(e.index+(null!==(n=e.startQuestionIndex)&&void 0!==n?n:1))," ",t.lcZ(2,2,e.examObj)?" ("+t.lcZ(3,4,"lang_auto_hoi_de_thi_offline")+") ":null," ")}}const Na=function(i){return{"pr-7":i}};function Ja(i,s){if(1&i&&(t.TgZ(0,"div",21)(1,"b",22),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._UZ(4,"azt-dynamic-hook",17),t.qZA()()),2&i){const e=s.$implicit,n=t.oxw(5);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Na,n.fontSize>1.5)),t.xp6(1),t.hij("",null!==(a=e.alpha)&&void 0!==a?a:e.key,"."),t.xp6(2),t.Q6J("content",e.content)}}const Da=function(i){return{"remove-grid":i}};function Ra(i,s){if(1&i&&(t.TgZ(0,"div",19),t.YNc(1,Ja,5,5,"div",20),t.qZA()),2&i){const e=t.oxw(4);t.Q6J("ngClass",t.VKq(3,Da,e.fontSize>1.5))("answerSizeManager",e.answerSizeManager),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function Ya(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"azt-dynamic-hook",17),t.qZA(),t.YNc(3,Ra,2,5,"div",18),t.BQk()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("content",e.question.content),t.xp6(1),t.Q6J("ngIf",1==e.question.answerType&&e.question.answers&&e.question.answers.length>0)}}const Ha=function(i,s){return{"border-b":i,"pb-2":s}};function Ba(i,s){if(1&i&&(t.TgZ(0,"div",9),t.ALo(1,"isOneChoiceAnswer"),t.GkF(2,8),t.TgZ(3,"div",10),t.YNc(4,za,1,3,"azt-test-audio-ui",11),t.TgZ(5,"div",12),t.YNc(6,Ua,4,6,"div",13),t.qZA(),t.YNc(7,Ya,4,2,"ng-container",14),t.ALo(8,"isOfflineExam"),t.qZA()()),2&i){const e=t.oxw(2),n=t.MAs(5);t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.question.id)("ngClass",t.WLB(14,Ha,t.lcZ(1,10,e.question),e.question.attachments.length>0)),t.xp6(2),t.Q6J("ngTemplateOutlet",n),t.xp6(2),t.Q6J("ngIf",e.question.attachments.length>0),t.xp6(2),t.Q6J("ngIf",!e.hideQuestionLabel),t.xp6(1),t.Q6J("ngIf",!t.lcZ(8,12,e.examObj))}}function Ga(i,s){if(1&i&&(t.TgZ(0,"div",6),t.YNc(1,Ba,9,17,"div",7),t.GkF(2,8),t.qZA()),2&i){const e=t.oxw(),n=t.MAs(7);t.xp6(1),t.Q6J("ngIf",e.question),t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}const Ka=function(i){return{"mt-4":i}};function Va(i,s){if(1&i&&(t.TgZ(0,"div",25),t._UZ(1,"azt-dynamic-hook",17),t.qZA()),2&i){const e=t.oxw(3);t.Q6J("ngClass",t.VKq(2,Ka,e.isMobile)),t.xp6(1),t.Q6J("content",null==e.question.groupInfo?null:e.question.groupInfo.groupContent)}}function $a(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Va,2,4,"div",24),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.question.groupInfo?null:e.question.groupInfo.isFirstInGroup)}}function Wa(i,s){if(1&i&&t.YNc(0,$a,2,1,"ng-container",14),2&i){const e=t.oxw();t.Q6J("ngIf",!(null!=e.examObj&&e.examObj.hideGroupQuestion)||(null==e.question?null:e.question.isRoleTeacher))}}function Xa(i,s){if(1&i&&(t.TgZ(0,"span",33),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.question.choseAnswer," ")}}function to(i,s){1&i&&(t.TgZ(0,"span")(1,"b",34),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_chua_tra_loi")))}function eo(i,s){if(1&i&&(t.TgZ(0,"div",30)(1,"p",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Xa,2,1,"span",32),t.YNc(5,to,4,3,"span",14),t.qZA()),2&i){const e=t.oxw(4);t.xp6(2),t.hij("",t.lcZ(3,3,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngIf",e.question.choseAnswer&&""!=e.question.choseAnswer),t.xp6(1),t.Q6J("ngIf",!e.question.choseAnswer||""==e.question.choseAnswer)}}function no(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",38),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))}),t.qZA()}if(2&i){const e=t.oxw(5);t.s9C("id","answer-0-all-"+e.question.id),t.Q6J("value",e.question.choseAnswer),t.uIk("question_id",e.question.id)}}function io(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",38),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))}),t.ALo(1,"mytranslate"),t.qZA()}if(2&i){const e=t.oxw(5);t.s9C("id","answer-0-all-"+e.question.id),t.Q6J("value",t.lcZ(1,3,"lang_auto_thi_sinh_chua_nhap_thong_tin")),t.uIk("question_id",e.question.id)}}const ao=function(i){return{"w-100":i}};function oo(i,s){if(1&i&&(t.TgZ(0,"div",30)(1,"p",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",35)(5,"div",36),t.YNc(6,no,1,3,"textarea",37),t.YNc(7,io,2,5,"textarea",37),t.qZA()()()),2&i){const e=t.oxw(4);t.xp6(2),t.hij("",t.lcZ(3,4,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngClass",t.VKq(6,ao,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.question.choseAnswer&&""!=e.question.choseAnswer),t.xp6(1),t.Q6J("ngIf",!e.question.choseAnswer||""==e.question.choseAnswer)}}function so(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",28),t.YNc(2,eo,6,5,"div",29),t.ALo(3,"isOneChoiceAnswer"),t.YNc(4,oo,8,8,"div",29),t.ALo(5,"isEssayAnswer"),t.ALo(6,"isFillAnswer"),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,e.question)||t.lcZ(6,6,e.question))}}function ro(i,s){1&i&&(t.TgZ(0,"div",44)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_auto_dap_an_cua_ban"),":"))}const Rt=function(i){return{"selected-answer":i}};function _o(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){const a=t.CHM(e),o=a.$implicit,r=a.index,_=t.oxw(6);return t.KtG(_.setAnswer(_.question.id,o,2,!1,r,o.alpha,o.key,_.index))}),t._uU(1),t.qZA()}if(2&i){const e=s.$implicit;t.Gre("btn btn-outline-secondary nohover rounded-full w-38px mr-2 ",e.checked?"":"hs-ans-item",""),t.Q6J("ngClass",t.VKq(5,Rt,e.checked)),t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function lo(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",40),t.YNc(2,ro,4,3,"div",41),t.TgZ(3,"div",42),t.YNc(4,_o,2,7,"button",43),t.qZA()(),t.BQk()),2&i){const e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",!e.isMobile),t.xp6(2),t.Q6J("ngForOf",e.question.answers)}}function co(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",46)(2,"div",47)(3,"span",48),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",49)(7,"textarea",50),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("keyup",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("change",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setAnswerType3(o.question.id,a,3,!1,0))})("input",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setInputValueTextarea(a))}),t.ALo(8,"mytranslate"),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(5);t.xp6(4),t.Oqu(t.lcZ(5,6,"lang_auto_bai_lam")),t.xp6(3),t.s9C("id","answer-0-all-"+e.question.id),t.s9C("placeholder",t.lcZ(8,8,"lang_auto_bai_lam_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}const mo=function(i){return{"list-answer-mobile":i}};function uo(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",51)(2,"div",47)(3,"span",48),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",52)(7,"div",49)(8,"textarea",50),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("keyup",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("change",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setAnswerType3(o.question.id,a,3,!1,0))})("input",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setInputValueTextarea(a))}),t.ALo(9,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&i){const e=t.oxw(5);t.xp6(1),t.Q6J("ngClass",t.VKq(11,mo,e.isMobile)),t.xp6(3),t.Oqu(t.lcZ(5,7,"lang_auto_nhap_dap_an")),t.xp6(4),t.s9C("id","answer-0-all-"+e.question.id),t.s9C("placeholder",t.lcZ(9,9,"lang_auto_dap_an_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}function go(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div"),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,lo,5,2,"ng-container",14),t.ALo(4,"isOneChoiceAnswer"),t.YNc(5,co,9,10,"ng-container",14),t.ALo(6,"isEssayAnswer"),t.YNc(7,uo,10,13,"ng-container",14),t.ALo(8,"isFillAnswer"),t.qZA(),t.BQk()),2&i){const e=t.oxw(4);t.xp6(1),t.Gre("ml-auto mr-auto w-full ",t.lcZ(2,6,e.question)?"hs-ans-box":"",""),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,8,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,10,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,12,e.question))}}function po(i,s){1&i&&(t.TgZ(0,"div",44)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_auto_dap_an_cua_ban"),":"))}function ho(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){const a=t.CHM(e),o=a.$implicit,r=a.index,_=t.oxw(6);return t.KtG(_.setAnswer(_.question.id,o,2,!1,r,o.alpha,o.key,_.index))}),t._uU(1),t.qZA()}if(2&i){const e=s.$implicit;t.Q6J("ngClass",t.VKq(2,Rt,e.checked)),t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function fo(i,s){1&i&&(t.TgZ(0,"mat-icon",65),t._uU(1," arrow_forward "),t.qZA())}function xo(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",57)(2,"div",58),t.YNc(3,po,4,3,"div",41),t.TgZ(4,"div",42),t.YNc(5,ho,2,4,"button",59),t.qZA()(),t.TgZ(6,"div",60)(7,"a",61),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.last?a.openSubmitExam():a.nextQuestion(a.index))}),t.TgZ(8,"span",62),t._uU(9),t.ALo(10,"mytranslate"),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,fo,2,0,"mat-icon",63),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(5);let n;t.xp6(3),t.Q6J("ngIf",!e.isMobile),t.xp6(2),t.Q6J("ngForOf",e.question.answers),t.xp6(4),t.lnq("",e.last?t.lcZ(10,6,"lang_auto_nop_bai"):t.lcZ(11,8,"lang_auto_cau_tiep"),"\xa0(",e.index+(null!==(n=e.startQuestionIndex)&&void 0!==n?n:1),"/",e.countQuestion+(e.startQuestionIndex?e.startQuestionIndex-1:0),")"),t.xp6(3),t.Q6J("ngIf",!e.last)}}const Yt=function(i){return{disabled:i}};function bo(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",46)(2,"div",47)(3,"span",48),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",52)(7,"div",49)(8,"textarea",50),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,2))})("keyup",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,2))})("change",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setAnswerType3(o.question.id,a,3,!1,0))})("input",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setInputValueTextarea(a))}),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"div",66)(11,"a",67),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.last?a.openSubmitExam():a.nextQuestion(a.index))}),t.TgZ(12,"span",62),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"mat-icon",65),t._uU(17," arrow_forward "),t.qZA()()()()(),t.BQk()}if(2&i){const e=t.oxw(5);let n;t.xp6(4),t.Oqu(t.lcZ(5,10,"lang_auto_bai_lam")),t.xp6(4),t.s9C("id","answer-0-unit-"+e.question.id),t.s9C("placeholder",t.lcZ(9,12,"lang_auto_bai_lam_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id),t.xp6(3),t.Q6J("ngClass",t.VKq(18,Yt,e.last)),t.xp6(2),t.lnq("",e.last?t.lcZ(14,14,"lang_auto_nop_bai"):t.lcZ(15,16,"lang_auto_cau_tiep"),"\xa0(",e.index+(null!==(n=e.startQuestionIndex)&&void 0!==n?n:1),"/",e.countQuestion+(e.startQuestionIndex?e.startQuestionIndex-1:0),")")}}function vo(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",46)(2,"div",47)(3,"span",48),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",52)(7,"div",49)(8,"textarea",50),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,2))})("keyup",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.autoResizeEssayAnswer(a.question.id,2))})("change",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setAnswerType3(o.question.id,a,3,!1,0))})("input",function(a){t.CHM(e);const o=t.oxw(5);return t.KtG(o.setInputValueTextarea(a))}),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"div",66)(11,"a",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.last?a.openSubmitExam():a.nextQuestion(a.index))}),t.TgZ(12,"span",62),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"mat-icon",65),t._uU(17," arrow_forward "),t.qZA()()()()(),t.BQk()}if(2&i){const e=t.oxw(5);let n;t.xp6(4),t.Oqu(t.lcZ(5,10,"lang_auto_nhap_dap_an")),t.xp6(4),t.s9C("id","answer-0-unit-"+e.question.id),t.s9C("placeholder",t.lcZ(9,12,"lang_auto_dap_an_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id),t.xp6(3),t.Q6J("ngClass",t.VKq(18,Yt,e.last)),t.xp6(2),t.lnq("",e.last?t.lcZ(14,14,"lang_auto_nop_bai"):t.lcZ(15,16,"lang_auto_cau_tiep"),"\xa0(",e.index+(null!==(n=e.startQuestionIndex)&&void 0!==n?n:1),"/",e.countQuestion+(e.startQuestionIndex?e.startQuestionIndex-1:0),")")}}function wo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",53),t.YNc(1,xo,13,10,"ng-container",14),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,bo,18,20,"ng-container",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,vo,18,20,"ng-container",14),t.ALo(6,"isFillAnswer"),t.qZA(),t.TgZ(7,"a",54),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.prevQuestion(a.index))}),t.TgZ(8,"mat-icon",55),t._uU(9,"arrow_back_ios_new"),t.qZA()(),t.TgZ(10,"a",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.nextQuestion(a.index))}),t.TgZ(11,"mat-icon",55),t._uU(12,"arrow_forward_ios"),t.qZA()()}if(2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,5,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,7,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,9,e.question)),t.xp6(2),t.Q6J("hidden",0==e.index),t.xp6(3),t.Q6J("hidden",e.index==e.questionListLength-1)}}function To(i,s){if(1&i&&(t.YNc(0,go,9,14,"ng-container",26),t.YNc(1,wo,13,11,"ng-template",null,39,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf",n.showList)("ngIfElse",e)}}function ko(i,s){if(1&i&&(t.ynx(0),t.YNc(1,so,7,8,"ng-container",26),t.YNc(2,To,3,2,"ng-template",null,27,t.W1O),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.overTime)("ngIfElse",e)}}function So(i,s){if(1&i&&t.YNc(0,ko,4,2,"ng-container",14),2&i){const e=t.oxw();t.Q6J("ngIf",e.question)}}let Ht=(()=>{class i extends b.Q{openSubmitExam(){this.openSubmitExamEmitter.emit(!0)}nextQuestion(e){this.nextQuestionEmitter.emit(e)}prevQuestion(e){this.prevQuestionEmitter.emit(e)}sendAudio(e){e&&this.sendAudioEmit.emit(e)}autoResizeEssayAnswer(e,n){this.autoResizeEssayAnswerEmitter.emit({id:e,type:n})}setAnswer(e,n,a,o,r,_,l,c){var h,u={id:e,answerConfig:n,event:null,type:a,isImage:o,index:r},g=n.content??"";(_||l)&&void 0!==c?(h=[c.toString(),_??"",l??"",e.toString()],this.setResultTracking.emit(h)):!_&&!l&&g&&void 0!==c&&(_=g,l=g,h=[c.toString(),_??"",l??"",e.toString()],this.setResultTracking.emit(h)),this.setAnswerEmitter.emit(u)}setAnswerType3(e,n,a,o,r){var _={id:e,answerConfig:null,event:n,type:a,isImage:o,index:r};if(this.showList)3==a&&(o?(l=document.getElementById("answer-1-unit-"+e))&&(l.value=n.target.value):(l=document.getElementById("answer-0-unit-"+e))&&(l.value=n.target.value));else if(3==a)if(o)(l=document.getElementById("answer-1-all-"+e))&&(l.value=n.target.value);else{var l;(l=document.getElementById("answer-0-all-"+e))&&(l.value=n.target.value)}this.setAnswerEssayEmitter.emit(_)}startRenderQuestion(){!this.question||this.disableRender||this.flagObjectComponent.isDestroy?this.disableRender&&!this.flagObjectComponent.isDestroy&&this.doneRender.emit():this.questionRenderService.parseRenderQuestion(this.question,this.configRenderService).then(()=>{this.flagObjectComponent.isDestroy||this.doneRender.emit()}).catch(e=>{this.flagObjectComponent.isDestroy||this.showErrorSnack(e.message)})}get customQuestionLabel(){return(this.commonService.castJsonToObj(this.expandInfo??"{}")??{}).label??"C\xe2u"}ngOnChanges(){this.fontSize&&(this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.startRenderQuestion())}ngDoCheck(){if(!this.isRenderElement){const e=document.getElementById("question_render_element_"+this.question.id);e&&(this.disableLazy||e.getAttribute("start_loading")&&"true"==e.getAttribute("start_loading"))&&(this.isRenderElement||(this.isFirstRender&&(this.startRenderQuestion(),this.follower.doneItemPartQuest()),this.isFirstRender=!1,this.isRenderElement=!0))}}setInputValueTextarea(e){var n=Number(e.target.getAttribute("question_id")),a=!!e.target.getAttribute("isImage");this.setAnswerType3(n,e,3,a,0)}ngOnInit(){super.ngOnInit(),this.backToLink=`/test/answer-test/${this.configExam?.tenantId??0}/${this.configExam?.categoryId??0}/${this.configExam?.hashId}/${this.cur_result}`,this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.flagObjectComponent.isDestroy=!1}ngOnDestroy(){this.flagObjectComponent.isDestroy=!0,super.ngOnDestroy()}constructor(e){super(),this.questionRenderService=e,this.follower=new R.p,this.mathJaxImage=!1,this.disableLazy=!1,this.disableRender=!1,this.index=0,this.last=!1,this.hideQuestionLabel=!1,this.answerSizeManager=0,this.fontSize=1,this.orgExamObjs=[],this.isMobile=!1,this.showList=!1,this.overTime=!1,this.countQuestion=0,this.sendAudioEmit=new t.vpe,this.autoResizeEssayAnswerEmitter=new t.vpe,this.setAnswerEmitter=new t.vpe,this.setAnswerEssayEmitter=new t.vpe,this.setResultTracking=new t.vpe,this.openSubmitExamEmitter=new t.vpe,this.nextQuestionEmitter=new t.vpe,this.prevQuestionEmitter=new t.vpe,this.doneRender=new t.vpe,this.isFirstRender=!0,this.isRenderElement=!1,this.flagObjectComponent=new La,this.backToLink="",this.configRenderService=new Dt.v}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(lt.h))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["azt-question-standalone-for-student-at-full-test"]],inputs:{follower:"follower",mathJaxImage:"mathJaxImage",disableLazy:"disableLazy",disableRender:"disableRender",cur_result:"cur_result",index:"index",last:"last",questionListLength:"questionListLength",configExam:"configExam",expandInfo:"expandInfo",question:"question",hideQuestionLabel:"hideQuestionLabel",answerSizeManager:"answerSizeManager",fontSize:"fontSize",orgExamObjs:"orgExamObjs",startQuestionIndex:"startQuestionIndex",isMobile:"isMobile",showList:"showList",overTime:"overTime",countQuestion:"countQuestion",examObj:"examObj"},outputs:{sendAudioEmit:"sendAudioEmit",autoResizeEssayAnswerEmitter:"autoResizeEssayAnswerEmitter",setAnswerEmitter:"setAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter",setResultTracking:"setResultTracking",openSubmitExamEmitter:"openSubmitExamEmitter",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",doneRender:"doneRender"},features:[t.qOj,t.TTD],decls:8,vars:3,consts:[["load_effect_lazy","",1,"question-standalone-box",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],["showQuestionGroupContent",""],["displayTwo",""],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],["class","question-standalone-container mb-0 no-border-question border-slate-200/60 dark:border-darkmode-400",3,"id","fontSize","lineHeight","ngClass",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"question-standalone-container","mb-0","no-border-question","border-slate-200/60","dark:border-darkmode-400",3,"id","ngClass"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],["class","question-standalone-label",4,"ngIf"],[4,"ngIf"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"question-standalone-label"],[3,"content"],["class","row answers",3,"ngClass","answerSizeManager",4,"ngIf"],[1,"row","answers",3,"ngClass","answerSizeManager"],["class","answer col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6"],[1,"answer-label",3,"ngClass"],[1,"answer-content"],["class","group-content-of-question-standalone",3,"ngClass",4,"ngIf"],[1,"group-content-of-question-standalone",3,"ngClass"],[4,"ngIf","ngIfElse"],["NormalShow",""],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content-front",4,"ngIf"],[1,"answer-content-front"],[1,"h5","mb-0","mr-2",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["class","form-control mt-1","readonly","",3,"value","id","focus",4,"ngIf"],["readonly","",1,"form-control","mt-1",3,"value","id","focus"],["showUnit",""],[1,"flex","items-center","p-2"],["class","text-md font-medium mr-5",4,"ngIf"],[1,"list-answer"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],[1,"text-md","font-medium","mr-5"],[3,"ngClass","click"],[1,"azt-answer","mt-3"],[1,"strike"],[1,"font-medium","text-slate-600","dark:text-slate-500"],[1,"azt-answer-content","p-3","w-full"],[1,"w-full","form-control",3,"id","placeholder","value","focus","keyup","change","input"],[1,"azt-answer","mt-3",3,"ngClass"],[1,"flex","items-center","justify-between","w-full"],[1,"ml-auto","mr-auto","w-full"],["azt-track-service","azt-standalone-question-qg61lciMK9n",1,"prev_question_btn","clickable",3,"hidden","click"],[1,"arrow_btn"],["azt-track-service","azt-standalone-question-oXYgmFEMM_2",1,"next_question_btn","clickable",3,"hidden","click"],[1,"flex","items-center","justify-between","w-full","p-3","flex-wrap"],[1,"flex","items-center"],["class","btn btn-outline-secondary nohover rounded-full w-10 mr-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-0"],["azt-track-service","azt-standalone-question-q30nOHqHUrt",1,"btn","btn-sm","btn-pending","mt-1",3,"click"],[2,"vertical-align","middle","color","#fff"],["style","vertical-align: middle; color: #fff; font-weight: bold",4,"ngIf"],[1,"btn","btn-outline-secondary","nohover","rounded-full","w-10","mr-2",3,"ngClass","click"],[2,"vertical-align","middle","color","#fff","font-weight","bold"],[1,"text-right","p-3"],["azt-track-service","azt-standalone-question-76avEX_AsdS",1,"btn","btn-sm","btn-pending","mt-1",3,"ngClass","click"],["azt-track-service","azt-standalone-question-PELDMUYEhEt",1,"btn","btn-sm","btn-pending","mt-1",3,"ngClass","click"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,Fa,1,3,"div",1),t.YNc(2,Ga,3,2,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Wa,1,1,"ng-template",null,3,t.W1O),t.YNc(6,So,1,1,"ng-template",null,4,t.W1O)),2&n){const o=t.MAs(3);t.Q6J("id","question_render_element_"+a.question.id),t.xp6(1),t.Q6J("ngIf",!a.isRenderElement)("ngIfElse",o)}},dependencies:[d.mk,d.sg,d.O5,d.tP,W.Hw,Ct.C,yt.T,Ea.s,Ot.O,p.JV,p.CL,p.Uy,p.eH,p.ck],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']})}return i})();const Co=["myDialogConfirmExam"];function yo(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"h5",15),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_loi"),": ",t.lcZ(3,4,e.data.messageError),"")}}function Oo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.btnCloseDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.confirmFinish())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.hij(" ",t.lcZ(6,5,"lang_auto_gui_lai")," ")}}function Ao(i,s){if(1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10)(5,"polyline",11)(6,"path",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,yo,4,6,"h5",13),t.kcU(),t._UZ(10,"br"),t.YNc(11,Oo,7,7,"div",14),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,3,"lang_auto_bai_lam_cua_ban_dang_duoc_tu_dong_nop_len_he_thong_vui_long_doi_trong_giay_lat")," "),t.xp6(2),t.Q6J("ngIf",e.data.saveFalse&&e.data.messageError),t.xp6(2),t.Q6J("ngIf",e.data.autoSubmit&&e.data.saveFalse)}}function Io(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",27)(1,"span",28),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",29),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(3);let n;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_thoi_gian_lam_bai_cua_ban_con")," "),t.xp6(3),t.lnq(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," : ",(null!==(n=e.timeCount.minute)&&void 0!==n?n:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," : ",(null!==(n=e.timeCount.second)&&void 0!==n?n:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Zo(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.lcZ(3,5,"lang_auto_va")," ",t.lcZ(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeft+t.lcZ(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function jo(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function Mo(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeft+t.lcZ(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function qo(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",22)(1,"span",15)(2,"span",29),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,Zo,6,11,"span",30),t.YNc(6,jo,3,3,"span",30),t.YNc(7,Mo,4,5,"span",30),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_canh_bao")+": "," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeft),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeft),t.xp6(1),t.Q6J("ngIf",e.data.totalTrueFalseLeft&&!e.data.notHasFiles),t.xp6(2),t.hij(" ",t.lcZ(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function Qo(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",31)(1,"p",23),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban")," "))}function Lo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.btnCloseDialog())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_huy")," "))}function Eo(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",33)(1,"g",34)(2,"g",35),t._UZ(3,"circle",36),t.TgZ(4,"path",37),t._UZ(5,"animateTransform",38),t.qZA()()()())}function Po(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10)(5,"polyline",11)(6,"path",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Io,6,6,"div",19),t.YNc(10,qo,11,9,"div",20),t.YNc(11,Qo,6,9,"div",21),t.kcU(),t.TgZ(12,"div",22)(13,"p",23),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()(),t.TgZ(16,"div",16),t.YNc(17,Lo,3,3,"button",24),t.TgZ(18,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.confirmFinish())}),t.YNc(19,Eo,6,0,"svg",26),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,10,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.xp6(2),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeft),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(3),t.hij(" ",t.lcZ(15,12,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," "),t.xp6(3),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(1),t.Q6J("disabled",e.countTimeEnable>0),t.xp6(1),t.Q6J("ngIf",e.countTimeEnable>0),t.xp6(1),t.AsE(" ",t.lcZ(21,14,"lang_auto_nop_bai")," ",e.countTimeEnable>0?"("+e.countTimeEnable+")":""," ")}}function Fo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.onGlobalClick(a))}),t.TgZ(1,"div",2,3),t.YNc(3,Ao,12,5,"div",4),t.YNc(4,Po,22,16,"ng-template",null,5,t.W1O),t.qZA()()}if(2&i){const e=t.MAs(5),n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.data.autoSubmit)("ngIfElse",e)}}let At=(()=>{class i extends b.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.data.autoSubmit||this.closeDialog.emit()}confirmFinish(){this.redirectToHomepage.emit({isConfirm:!0,isAutoSubmit:this.data.autoSubmit,isSaveFalse:this.data.saveFalse})}setTimeExam(e){const n=Math.floor(e/3600),o=Math.floor(e%3600/60);this.timeCount={hour:n,minute:o,second:e%60}}setIntervalTimeExam(){if((this.data.time??0)>0){var e="exam_submit",n=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(n==this.globalService.getGlobalInterval(e)){const a=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),_=this.totalTime%60;this.totalTime<=0?(this.data.autoSubmit||setTimeout(()=>{this.confirmFinish()},5e3),clearInterval(this.intervalExamTimeout)):this.timeCount=0==a&&0==r?{hour:a,minute:r,second:_,almostEnd:!0}:{hour:a,minute:r,second:_,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(a){console.log(a)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}else this.timeCount={hour:0,minute:0,second:0,almostEnd:!0}}btnCloseDialog(){this.closeDialog.emit()}enableSubmitBtn(){setTimeout(()=>{this.countTimeEnable>0&&(this.countTimeEnable--,this.enableSubmitBtn())},1e3)}ngOnInit(){this.data.unLimitTime||(this.totalTime=this.data.time??0,this.setIntervalTimeExam(),0==this.data.time&&!this.data.autoSubmit&&setTimeout(()=>{this.confirmFinish()},5e3)),this.data.notHasFiles?this.enableSubmitBtn():this.countTimeEnable=0,this.data.saveFalse&&this.enableSubmitBtn(),super.ngOnInit()}ngOnDestroy(){this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout)}constructor(e,n){super(),this.commonService=e,this.globalService=n,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.timeCount={hour:0,minute:0,second:0},this.countTimeEnable=5,this.intervalExamTimeout=0,this.totalTime=0}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Z.z),t.Y36(_t.q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-confirm-exam"]],viewQuery:function(n,a){if(1&n&&t.Gf(Co,5),2&n){let o;t.iGM(o=t.CRH())&&(a.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","comfirm-exam-z_puAsjOC1","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","comfirm-exam-z_puAsjOC1",1,"school-info_bg",3,"click"],[1,"school-info","box","p-4",2,"max-width","400px"],["myDialogConfirmExam",""],["class","border-b border-slate-200/60 dark:border-darkmode-400",4,"ngIf","ngIfElse"],["Normal",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-success"],["d","M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"],["points","14 2 14 8 20 8"],["d","m3 15 2 2 4-4"],["class","text-danger",4,"ngIf"],["class","p-3 text-right",4,"ngIf"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","comfirm-exam-LYN9nXCVX5",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","comfirm-exam-GvkpeRaIJ-",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mt-5 flex items-center",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],["azt-track-service","comfirm-exam-GwLo2uv__","class","btn btn-secondary w-40 mr-2","style","vertical-align: middle;",3,"click",4,"ngIf"],["azt-track-service","comfirm-exam-x-4M3WDlkE",1,"btn","w-40","btn-primary",2,"vertical-align","middle",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)","class","w-5 h-5 mr-3",4,"ngIf"],[1,"mt-5","flex","items-center"],[1,"text-md"],[1,"font-medium"],[4,"ngIf"],[1,"mt-2","text-center"],["azt-track-service","comfirm-exam-GwLo2uv__",1,"btn","btn-secondary","w-40","mr-2",2,"vertical-align","middle",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)",1,"w-5","h-5","mr-3"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(n,a){1&n&&t.YNc(0,Fo,6,2,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.O5,p.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]})}return i})();const zo=["myDialogExitExam"];function Uo(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",17)(1,"span",18),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",19),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2);let n;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_thoi_gian_lam_bai_cua_ban_con")," "),t.xp6(3),t.lnq(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," : ",(null!==(n=e.timeCount.minute)&&void 0!==n?n:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," : ",(null!==(n=e.timeCount.second)&&void 0!==n?n:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function No(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",20)(1,"p",21),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.lnq("",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban"),""))}function Jo(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",22)(1,"p",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khi_ban_thoat_thoi_gian_lam_bai_cua_ban_se_tiep_tuc_chay_neu_ban_khong_quay_lai_dot")," "))}function Do(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.btnCloseDialog())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_huy")," "))}function Ro(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.onGlobalClick(a))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"path",8)(8,"line",9)(9,"line",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,Uo,6,6,"div",11),t.YNc(13,No,6,9,"div",12),t.YNc(14,Jo,4,3,"div",13),t.qZA()(),t.kcU(),t.TgZ(15,"div",14),t.YNc(16,Do,3,3,"button",15),t.TgZ(17,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmQuit())}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()}if(2&i){const e=t.oxw();let n;t.xp6(10),t.hij(" ",t.lcZ(11,6,"lang_auto_ban_co_chac_chan_muon_thoat")+" ?"," "),t.xp6(2),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(null!==(n=e.data.time)&&void 0!==n?n:0)>0||e.data.unLimitTime),t.xp6(2),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(2),t.hij(" ",t.lcZ(19,8,(e.data.time||1)<=0&&!e.data.unLimitTime?"lang_auto_hoan_thanh":"lang_auto_xac_nhan")," ")}}let It=(()=>{class i extends b.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.closeDialog.emit()}confirmQuit(){this.redirectToHomepage.emit(!0)}setTimeExam(e){const n=Math.floor(e/3600),o=Math.floor(e%3600/60);this.timeCount={hour:n,minute:o,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){this.setTimeExam(this.data.time??0),super.ngOnInit()}constructor(e){super(),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.timeCount={hour:0,minute:0,second:0}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Z.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-exit-exam"]],viewQuery:function(n,a){if(1&n&&t.Gf(zo,5),2&n){let o;t.iGM(o=t.CRH())&&(a.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","exit-exam-hucOQpWgIe","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","exit-exam-hucOQpWgIe",1,"school-info_bg",3,"click"],[1,"school-info","p-4","box",2,"max-width","400px"],["myDialogExitExam",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["class","mt-5 flex items-center",4,"ngIf"],["class","text-center",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","exit-exam-kt6CrvSrn7","class","btn btn-secondary w-24 mr-2",3,"click",4,"ngIf"],["azt-track-service","exit-exam-HDzj9p0Z53",1,"btn","w-24","btn-primary",3,"click"],[1,"mt-5","flex","items-center"],[1,"text-md"],[1,"font-medium"],[1,"text-center"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],["azt-track-service","exit-exam-kt6CrvSrn7",1,"btn","btn-secondary","w-24","mr-2",3,"click"]],template:function(n,a){1&n&&t.YNc(0,Ro,20,10,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.O5,p.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]})}return i})();var Bt=m(91765),Gt=m(67679);const Yo=["myDialogSubmitName"];function Ho(i,s){if(1&i){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",15)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.goToRegister())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_dang_ky")," "))}function Bo(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",18)(1,"p",19),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_da_co_tai_khoan")," "))}function Go(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"polygon",10)(5,"line",11)(6,"line",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Ho,4,3,"div",13),t.YNc(10,Bo,4,3,"div",14),t.kcU(),t.TgZ(11,"div",15)(12,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToLogin())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,4,1==e.type?e.isBusinessDomain?"lang_business_ban_can_phai_dang_nhap_tai_khoan_de_lam_bai_thi":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_lam_bai_thi":e.isBusinessDomain?"lang_business_ban_can_phai_dang_nhap_tai_khoan_de_xem_ket_qua_thi_offline":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_xem_ket_qua_thi_offline")," "),t.xp6(2),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(3),t.hij(" ",t.lcZ(14,6,"lang_auto_dang_nhap")," ")}}function Ko(i,s){1&i&&(t.TgZ(0,"div",37)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_yeu_cau_nhap_ho_ten")))}function Vo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.registerAccount())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&i&&(t.xp6(1),t.hij('"',t.lcZ(2,1,"lang_auto_dang_ky"),'"'))}function $o(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_or")))}function Wo(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",39)(1,"g",40)(2,"g",41),t._UZ(3,"circle",42),t.TgZ(4,"path",43),t._UZ(5,"animateTransform",44),t.qZA()()()())}function Xo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",22)(1,"h2",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",24)(5,"div",25),t._UZ(6,"input",26),t.ALo(7,"mytranslate"),t.YNc(8,Ko,4,3,"div",27),t.qZA()(),t.TgZ(9,"div",28)(10,"h5",29),t._uU(11),t.ALo(12,"mytranslate"),t.YNc(13,Vo,3,3,"a",30),t.YNc(14,$o,3,3,"span",31),t.TgZ(15,"a",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.goToLogin())}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.TgZ(20,"div",33),t._UZ(21,"div",34),t.TgZ(22,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.submitName())}),t.YNc(23,Wo,6,0,"svg",36),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()()}if(2&i){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(2),t.hij(" ",t.lcZ(3,12,"lang_auto_vui_long_nhap_ten_de_tiep_tuc_bai_thi")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(7,14,"lang_auto_ho_va_ten")),t.xp6(2),t.Q6J("ngIf",e.form.controls.fullName.invalid&&e.form.controls.fullName.dirty&&e.getErrorType("fullName","required")),t.xp6(3),t.hij("",t.lcZ(12,16,"lang_auto_click_vao")," "),t.xp6(2),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(2),t.hij('"',t.lcZ(17,18,"lang_auto_dang_nhap"),'"'),t.xp6(2),t.hij(" ",t.lcZ(19,20,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban"),""),t.xp6(4),t.Q6J("disabled",e.statusObj.loading||e.form.controls.fullName.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(25,22,"lang_auto_xac_nhan")," ")}}function ts(i,s){1&i&&(t.TgZ(0,"div",37)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_yeu_cau_nhap_mat_khau")))}function es(i,s){if(1&i&&(t.TgZ(0,"div",49),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.data.errorMessage)," ")}}function ns(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",39)(1,"g",40)(2,"g",41),t._UZ(3,"circle",42),t.TgZ(4,"path",43),t._UZ(5,"animateTransform",44),t.qZA()()()())}function is(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",22)(1,"h2",23),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"h4",45),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",24)(10,"div",25),t._UZ(11,"input",46),t.ALo(12,"mytranslate"),t.YNc(13,ts,4,3,"div",27),t.qZA()(),t.YNc(14,es,3,3,"div",47),t.TgZ(15,"div",33),t._UZ(16,"div",34),t.TgZ(17,"button",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.submitName())}),t.YNc(18,ns,6,0,"svg",36),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()}if(2&i){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(2),t.lnq(" ",t.lcZ(3,11,"lang_auto_yeu_cau"),' "',t.lcZ(4,13,"lang_auto_mat_khau"),'" ',t.lcZ(5,15,"lang_auto_de_tiep_tuc_bai_thi")," "),t.xp6(5),t.hij(" ",t.lcZ(8,17,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(12,19,"lang_auto_mat_khau_bai_thi")),t.xp6(2),t.Q6J("ngIf",e.form.controls.password.invalid&&e.form.controls.password.dirty&&e.getErrorType("password","required")),t.xp6(1),t.Q6J("ngIf",""!=e.data.errorMessage),t.xp6(3),t.Q6J("disabled",e.statusObj.loading||e.form.controls.password.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(20,21,"lang_auto_xac_nhan")," ")}}function as(i,s){if(1&i&&(t.TgZ(0,"div",20)(1,"div",7),t.YNc(2,Xo,26,24,"form",21),t.YNc(3,is,21,23,"form",21),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.data.needPassword),t.xp6(1),t.Q6J("ngIf",e.data.needPassword)}}function os(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.onGlobalClick(a))}),t.TgZ(1,"div",2,3),t.YNc(3,Go,15,8,"div",4),t.YNc(4,as,4,2,"ng-template",null,5,t.W1O),t.qZA()()}if(2&i){const e=t.MAs(5),n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.data.notAnonymous)("ngIfElse",e)}}let Zt=(()=>{class i extends b.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.form.valid&&this.submitName()}submitName(){var e=this.getFormValue();if(this.data.needPassword)this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.data.examId?.toString()??"",this.data.hashId??""),this.browserStorageService.saveSimpleStorage("password_"+this.data.hashId,e.password.trim()),this.closeDialog.emit(!0);else{var n={id:0,name:e.fullName};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeNamePost(n).subscribe(a=>{1==a.success?(this.closeDialog.emit(!0),this.successStatusObj()):this.errorStatusObj(a.message??"")}))}}getErrorType(e,n){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors?.[n])&&this.form.controls[e].errors?.[n]}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){let e=`${this.router.url}`;e=-1!==e.indexOf("?")?e.slice(0,e.indexOf("?")):e,this.redirectService.redirectToLoginBackLinkWithFromRegister(e)}registerAccount(){this.redirectService.redirectRegisterForStudent()}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit()}constructor(e,n,a,o){super(),this.userInfoService=e,this.router=n,this.redirectService=a,this.browserStorageService=o,this.data={},this.type=1,this.closeDialog=new t.vpe,this.password="",this.form=new f.cw({password:new f.NI("",{nonNullable:!0,validators:[f.kI.required,Bt._.noWhiteSpace]}),fullName:new f.NI("",{nonNullable:!0,validators:[f.kI.required,Bt._.noWhiteSpace]})})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(bt.$C),t.Y36(T.F0),t.Y36(dt.z),t.Y36(V.n))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-name"]],viewQuery:function(n,a){if(1&n&&t.Gf(Yo,5),2&n){let o;t.iGM(o=t.CRH())&&(a.myDialog=o.first)}},inputs:{data:"data",type:"type"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","submit-name-qn6xjUHvDW3","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","submit-name-qn6xjUHvDW3",1,"school-info_bg",3,"click"],[1,"school-info","box","p-5"],["myDialogSubmitName",""],["class","border-slate-200/60 dark:border-darkmode-400 text-center",4,"ngIf","ngIfElse"],["allowAnonymous",""],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["class","mx-auto",4,"ngIf"],["class","mb-2 text-md font-medium mt-2 ",4,"ngIf"],[1,"mx-auto"],["azt-track-service","submit-name-UNDqa4pBGe9",1,"btn","w-24","btn-primary",3,"click"],["azt-track-service","submit-name-DfdZNdp-7E-",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","text-center"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"intro-x","font-bold","text-center"],[1,"intro-x","mt-8"],[1,"azt-form-group","mb-2"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"text-center"],[1,"mb-0","mt-1","text-xs","font-weight-normal"],["azt-track-service","submit-name-9mDwu35n85M","class","clickable text-primary",3,"click",4,"ngIf"],[4,"ngIf"],["azt-track-service","submit-name-I90pj19d1hI",1,"clickable","text-primary",3,"click"],[1,"flex","float-right","mt-8"],[1,"azt-block-button"],["azt-track-service","submit-name-VFvIxTbeIJB",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["azt-track-service","submit-name-9mDwu35n85M",1,"clickable","text-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"intro-x","font-bold","text-center","text-danger"],["type","text","autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder"],["class","alert alert-danger text-xs mt-3  mb-2",4,"ngIf"],["azt-track-service","submit-name-GP1OEy2B9IJ",1,"btn","w-32","btn-primary",3,"disabled","click"],[1,"alert","alert-danger","text-xs","mt-3","mb-2"]],template:function(n,a){1&n&&t.YNc(0,os,6,2,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.O5,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,Gt.M,p.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]})}return i})();var ss=m(23680),rs=m(75986),Kt=m(64170),Vt=m(87466),_s=m(98525);const ls=["myDialogSubmitInfo"];function cs(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",21)(2,"div",22),t._uU(3),t.qZA(),t._UZ(4,"input",23),t.qZA()()),2&i){const e=t.oxw(),n=e.$implicit,a=e.index;t.xp6(3),t.hij(" ",n.title," "),t.xp6(1),t.MGl("formControlName","infoType_0_field_",a,"")}}function ms(i,s){if(1&i&&(t.TgZ(0,"div",28)(1,"mat-checkbox",29)(2,"span",30),t._uU(3),t.qZA()()()),2&i){const e=s.$implicit,n=s.index,a=t.oxw(2).index,o=t.oxw(2);t.MGl("formArrayName","infoType_1_field_",a,""),t.xp6(1),t.Q6J("checked",o.form.value["infoType_1_field_"+a][n])("formControlName",n),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function us(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",24)(2,"span",25),t._uU(3),t.qZA()(),t.TgZ(4,"div",26),t.YNc(5,ms,4,5,"div",27),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.contents)}}function ds(i,s){if(1&i&&(t.TgZ(0,"mat-radio-button",34)(1,"span",30),t._uU(2),t.qZA()()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function gs(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",24)(2,"span",31),t._uU(3),t.qZA()(),t.TgZ(4,"mat-radio-group",32),t.YNc(5,ds,3,3,"mat-radio-button",33),t.qZA()()),2&i){const e=t.oxw(),n=e.$implicit,a=e.index;t.xp6(3),t.Oqu(n.title),t.xp6(1),t.MGl("formControlName","infoType_2_field_",a,""),t.xp6(1),t.Q6J("ngForOf",n.contents)}}function ps(i,s){if(1&i&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function hs(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",21)(2,"span",31),t._uU(3),t.qZA()(),t.TgZ(4,"div",35)(5,"mat-form-field",36)(6,"mat-label",37),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"mat-select",38),t.YNc(10,ps,2,2,"mat-option",39),t.qZA()()()()),2&i){const e=t.oxw(),n=e.$implicit,a=e.index;t.xp6(3),t.Oqu(n.title),t.xp6(4),t.Oqu(t.lcZ(8,4,"lang_auto_chon_mot_thong_tin")),t.xp6(2),t.MGl("formControlName","infoType_3_field_",a,""),t.xp6(1),t.Q6J("ngForOf",n.contents)}}function fs(i,s){if(1&i&&(t.ynx(0,19),t.YNc(1,cs,5,2,"div",20),t.YNc(2,us,6,2,"div",20),t.YNc(3,gs,6,3,"div",20),t.YNc(4,hs,11,6,"div",20),t.BQk()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.type),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type),t.xp6(1),t.Q6J("ngIf",3==e.type)}}function xs(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",41)(1,"h5",42),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"a",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.registerAccount())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7,"\xa0 "),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t._uU(11,"\xa0 "),t.TgZ(12,"a",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToLogin())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_click_vao"),"\xa0 "),t.xp6(3),t.hij('"',t.lcZ(6,7,"lang_auto_dang_ky"),'"'),t.xp6(4),t.Oqu(t.lcZ(10,9,"lang_auto_or")),t.xp6(4),t.hij('"',t.lcZ(14,11,"lang_auto_dang_nhap"),'"'),t.xp6(2),t.hij("\xa0 ",t.lcZ(16,13,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban")," "))}function bs(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",41)(1,"h5",42)(2,"a",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToLogin())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&i&&(t.xp6(3),t.hij('"',t.lcZ(4,2,"lang_auto_dang_nhap"),'"'),t.xp6(2),t.hij("\xa0 ",t.lcZ(6,4,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban")," "))}function vs(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",45)(1,"g",46)(2,"g",47),t._UZ(3,"circle",48),t.TgZ(4,"path",49),t._UZ(5,"animateTransform",50),t.qZA()()()())}function ws(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.onGlobalClick(a))}),t.TgZ(1,"form",2)(2,"div",3,4)(4,"div",5)(5,"div",6)(6,"h2",7),t.O4$(),t.TgZ(7,"svg",8),t._UZ(8,"polygon",9)(9,"line",10)(10,"line",11),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(13,"h6",12),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",13),t.YNc(17,fs,5,4,"ng-container",14),t.YNc(18,xs,17,15,"div",15),t.YNc(19,bs,7,6,"div",15),t.qZA(),t.TgZ(20,"div",16)(21,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.handleConfirm())}),t.YNc(22,vs,6,0,"svg",18),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(10),t.hij(" ",t.lcZ(12,9,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(15,11,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")," "),t.xp6(3),t.Q6J("ngForOf",e.data.infoFields),t.xp6(1),t.Q6J("ngIf",e.isAnonymous&&!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",e.isAnonymous&&e.isBusinessDomain),t.xp6(2),t.Q6J("disabled",!e.form.valid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(24,13,"lang_auto_xac_nhan")," ")}}let jt=(()=>{class i extends b.Q{onGlobalClick(e){this.myDialog?.nativeElement.contains(e.target)||this.form.valid&&this.handleConfirm()}goToLogin(){let e=`${this.router.url}`;e=-1!==e.indexOf("?")?e.slice(0,e.indexOf("?")):e,this.redirectService.redirectToLoginBackLinkWithFromRegister(e)}registerAccount(){this.redirectService.redirectRegisterForStudent()}handleConfirm(){this.initStatusObj(),this.mapData(),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.data.examId?.toString()??"",this.data.hashId??""),this.browserStorageService.saveSimpleStorage("userInfoV3_"+this.data.hashId,JSON.stringify(this.infoSubmit));var e={success:!0,info:JSON.stringify(this.infoSubmit)};if(this.data.isAnonymousName){let n="";this.infoSubmit[0]&&this.infoSubmit[0].contents&&this.infoSubmit[0].contents[0]&&(n=this.infoSubmit[0].contents[0]),this.subscriptions.add(this.userInfoService.apiUserInfoChangeNamePost({id:0,name:n}).subscribe(o=>{1==o.success?(this.closeDialog.emit(e),this.successStatusObj()):this.errorStatusObj(o.message??"")}))}else this.closeDialog.emit(e),this.successStatusObj()}mapData(){if(this.infoSubmit=[],Array.isArray(this.data.infoFields))for(let e=0;e<this.data.infoFields.length;e++){let n={contents:[]};if(1===(n.index=e,n.type=this.data.infoFields[e].type,n.title=this.data.infoFields[e].title,n.contents=[],this.data.infoFields[e].type))for(let a=0;a<this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`].length;a++)this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`][a]&&n.contents.push(this.data.infoFields[e].contents[a]);else n.contents.push(this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`]);this.infoSubmit.push(n)}}ngOnInit(){this.isAnonymous=this.userService.isAnonymousRoleOfCurrentUser();let e={};if(this.data.isAnonymousName&&(e.fullAnonymousName=new f.NI("")),Array.isArray(this.data.infoFields)){for(let a=0;a<this.data.infoFields.length;a++)switch(this.data.infoFields[a].type){case 1:var n=[];this.data.infoFields[a].contents.forEach(o=>{n.push(new f.NI(!1))}),e[`infoType_1_field_${a}`]=new f.Oe(n,Ts(1));break;case 2:e[`infoType_2_field_${a}`]=["",f.kI.required];break;case 3:e[`infoType_3_field_${a}`]=["",f.kI.required];break;default:e[`infoType_0_field_${a}`]=["",f.kI.required]}this.form=this.fb.group(e)}super.ngOnInit()}constructor(e,n,a,o,r,_){super(),this.fb=e,this.redirectService=n,this.userInfoService=a,this.router=o,this.browserStorageService=r,this.userService=_,this.data={},this.closeDialog=new t.vpe,this.form=new f.cw({}),this.infoSubmit=[],this.isAnonymous=!1}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.qu),t.Y36(dt.z),t.Y36(bt.$C),t.Y36(T.F0),t.Y36(V.n),t.Y36(E.U))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-info"]],viewQuery:function(n,a){if(1&n&&t.Gf(ls,5),2&n){let o;t.iGM(o=t.CRH())&&(a.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","submit-info-AkA9Js03Xk","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","submit-info-AkA9Js03Xk",1,"school-info_bg",3,"click"],["id","test-info-form",3,"formGroup"],[1,"school-info","box","scrollable-form"],["myDialogSubmitInfo",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"mt-0","px-4","py-4",2,"padding-bottom","0"],[1,"intro-x","text-md","font-bold","flex","items-center","text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"intro-x","text-xs","text-left","text-slate-600"],[1,"px-4","py-4","pt-0"],["class","info-field",4,"ngFor","ngForOf"],["class","text-left mt-3",4,"ngIf"],[1,"float-right","p-3"],["azt-track-service","submit-info-5wWwRj07M5L",1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"info-field"],[4,"ngIf"],[1,"input-group","mt-3"],[1,"input-group-text","whitespace-nowrap",2,"min-width","134px","text-align","left"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group","w-full","mt-3"],[1,"input-group-text","w-full","align-center",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row"],["class","col-span-12 sm:col-span-12 md:col-span-4 text-left mb-1",3,"formArrayName",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","text-left","mb-1",3,"formArrayName"],["color","primary",3,"checked","formControlName"],[1,"truncate",2,"vertical-align","middle",3,"matTooltip"],[1,"input-group-text","w-full",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row",3,"formControlName"],["color","primary","class","col-span-12 sm:col-span-12 md:col-span-4 text-left mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-span-12","sm:col-span-12","md:col-span-4","text-left","mb-1",3,"value"],[1,"border-row"],["appearance","fill",1,"border-0"],[1,"mt-2"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-left","mt-3"],[1,"mb-0","mt-1","text-xs","font-weight-normal"],["azt-track-service","submit-info-OHI7lx2Sde6",1,"clickable","text-primary",3,"click"],["azt-track-service","submit-info-UkAluucVzhQ",1,"clickable","text-primary",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(n,a){1&n&&t.YNc(0,ws,25,15,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.sg,d.O5,ss.ey,rs.oG,Kt.KE,Kt.hX,Vt.VQ,Vt.U0,_s.gD,U.gM,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,f.CE,Gt.M,p.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:800px;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:150px;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.content-form[_ngcontent-%COMP%]{border:1px solid #bebaba;border-radius:5px}.scrollable-form[_ngcontent-%COMP%]{max-height:calc(100vh - 10%);overflow-y:auto}.form-field-custom[_ngcontent-%COMP%]{background-color:#0000000a;border:1px solid rgba(206,212,218,.6980392157);border-radius:.25rem;padding:5px 8px}.border-row[_ngcontent-%COMP%]{border:1px solid #ced4da;border-top:none;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}.truncate[_ngcontent-%COMP%]{max-width:350px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}.truncate[_ngcontent-%COMP%]{max-width:180px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]})}return i})();function Ts(i=1){return e=>e.controls.map(a=>a.value).reduce((a,o)=>o?a+o:a,0)>=i?null:{required:!0}}const ks=["myDialogCheckEssay"];function Ss(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeDialog(a))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"polygon",8)(8,"line",9)(9,"line",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(12,"div",11)(13,"p",12),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()(),t.TgZ(17,"div",13),t._UZ(18,"div",14),t.TgZ(19,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmQuit())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()}2&i&&(t.xp6(10),t.hij(" ",t.lcZ(11,4,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan")," "),t.xp6(4),t.AsE(" ",t.lcZ(15,6,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.lcZ(16,8,"lang_auto_dinh_kem_tu_luan"),'" '),t.xp6(6),t.hij(" ",t.lcZ(21,10,"lang_auto_toi_da_hieu")," "))}let $t=(()=>{class i extends b.Q{closeDialog(e){this.myDialog?.nativeElement.contains(e.target)||this.closeEssayDialog.emit(!0)}confirmQuit(){this.closeEssayDialog.emit(!0)}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e,this.data={isShow:!1},this.closeEssayDialog=new t.vpe,this.subscriptions=new K.w0}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Z.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-check-essay"]],viewQuery:function(n,a){if(1&n&&t.Gf(ks,5),2&n){let o;t.iGM(o=t.CRH())&&(a.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeEssayDialog:"closeEssayDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","check-essay-rl435DvtvY","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","check-essay-rl435DvtvY",1,"school-info_bg",3,"click"],[1,"school-info","box",2,"max-width","400px"],["myDialogCheckEssay",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],["azt-track-service","check-essay-_8FjX2B80z",1,"btn","w-24","btn-primary",3,"click"]],template:function(n,a){1&n&&t.YNc(0,Ss,22,12,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.O5,p.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]})}return i})();const Cs=["modalSaveImageUpload"],ys=["listQuestionBar"];function Os(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function As(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-info",6),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeShowInfo(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.showFormInfo)}}function Is(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-check-essay",7),t.NdJ("closeEssayDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeEssayDialog(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataEssayPopup)}}function Zs(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-upload-image",12),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.conFirmUpload(a))})("addFileMobile",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.addFileMobileUpload(a))})("isOnSelectFile",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onSelectFileEmit(a))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function js(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"azt-loading-effect",14),t.ALo(2,"mytranslate"),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("customText",t.lcZ(2,1,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Ms(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"p",26)(1,"mat-icon",59),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&i){const e=t.oxw(6);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,null==e.exam_obj?null:e.exam_obj.startTime)," - ",t.lcZ(6,7,null==e.exam_obj?null:e.exam_obj.endTime),"")}}function qs(i,s){if(1&i&&(t.TgZ(0,"div",60),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",61),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",61),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",61),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&i){const e=t.oxw(6);let n,a,o;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function Qs(i,s){1&i&&(t.TgZ(0,"div",62)(1,"mat-icon",59),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Ls(i,s){1&i&&(t.TgZ(0,"div",62)(1,"mat-icon",59),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Es(i,s){if(1&i&&(t.TgZ(0,"div",63)(1,"div",64),t._UZ(2,"azt-question-standalone-for-student-at-full-test",65),t.qZA()()),2&i){const e=s.$implicit,n=s.index,a=t.oxw(6);t.xp6(2),t.Q6J("startQuestionIndex",null==a.exam_obj?null:a.exam_obj.startQuestionIndex)("expandInfo",null==a.exam_obj?null:a.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("isMobile",a.isMobile)("examObj",a.exam_obj)("question",e)("index",n)("overTime",!0)("questionListLength",a.questionList.length)}}function Ps(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",69)(1,"div",47)(2,"button",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(7);return t.KtG(a.openUploadImage())}),t.O4$(),t.TgZ(3,"svg",49),t._UZ(4,"path",50)(5,"path",51)(6,"path",52),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",71),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(7);t.xp6(7),t.hij(" ",e.files.length>0?t.lcZ(8,2,"lang_auto_nop_them"):t.lcZ(9,4,"lang_auto_nop_tu_luan")," "),t.xp6(4),t.Oqu(t.lcZ(12,6,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function Fs(i,s){1&i&&(t.TgZ(0,"div",72),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.lnq("",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong"),""))}function zs(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tab",53),t.ALo(1,"mytranslate"),t.YNc(2,Ps,13,8,"div",66),t.YNc(3,Fs,5,9,"div",67),t.TgZ(4,"app-upload-ui",68),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.removeImg(a))}),t.qZA()()}if(2&i){const e=t.oxw(6);t.s9C("label",t.lcZ(1,4,"lang_auto_tu_luan")+" ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(2),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function Us(i,s){if(1&i){const e=t.EpF();t.ynx(0,21),t.TgZ(1,"div",22)(2,"div",23)(3,"h3",24),t._uU(4),t.qZA(),t.TgZ(5,"p",25),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",26)(9,"div",27),t.O4$(),t.TgZ(10,"svg",28),t._UZ(11,"line",29)(12,"line",30)(13,"circle",31),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",32),t.O4$(),t.TgZ(18,"svg",33),t._UZ(19,"circle",34)(20,"path",35)(21,"line",36),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,Ms,7,9,"p",37),t.kcU(),t.TgZ(25,"p",38),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,qs,13,9,"div",39),t.qZA(),t.YNc(31,Qs,7,9,"div",40),t.YNc(32,Ls,7,9,"div",40),t.TgZ(33,"div",41)(34,"div",42)(35,"button",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeBackBtn())}),t.O4$(),t.TgZ(36,"svg",44),t._UZ(37,"path",45)(38,"line",46),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"div",47)(42,"button",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeSubmitBtn())}),t.O4$(),t.TgZ(43,"svg",49),t._UZ(44,"path",50)(45,"path",51)(46,"path",52),t.qZA(),t._uU(47),t.ALo(48,"mytranslate"),t.ALo(49,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(50,"mat-tab-group")(51,"mat-tab",53),t.ALo(52,"mytranslate"),t.YNc(53,Es,3,11,"div",54),t.qZA(),t.YNc(54,zs,5,6,"mat-tab",55),t.qZA(),t.TgZ(55,"div",56)(56,"div",42)(57,"button",57),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeBackBtn())}),t.O4$(),t.TgZ(58,"svg",44),t._UZ(59,"path",45)(60,"line",46),t.qZA(),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(63,"div",47)(64,"button",58),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeSubmitBtn())}),t.O4$(),t.TgZ(65,"svg",49),t._UZ(66,"path",50)(67,"path",51)(68,"path",52),t.qZA(),t._uU(69),t.ALo(70,"mytranslate"),t.ALo(71,"mytranslate"),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(5);t.xp6(4),t.Oqu(null==e.exam_obj?null:e.exam_obj.name),t.xp6(2),t.AsE("",t.lcZ(7,23,"lang_auto_ma_de"),": ",null==e.exam_obj?null:e.exam_obj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,25,"lang_auto_thoi_gian"),": ",null==e.exam_obj?null:e.exam_obj.minutes," ",t.lcZ(16,27,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,29,"lang_auto_so_cau"),": ",e.countQuestion," "),t.xp6(2),t.Q6J("ngIf",(null==e.exam_obj?null:e.exam_obj.startTime)&&(null==e.exam_obj?null:e.exam_obj.endTime)),t.xp6(2),t.HOy("",t.lcZ(27,31,"lang_auto_thi_sinh"),": ",null==e.userObj?null:e.userObj.fullName," ",t.lcZ(28,33,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,35,null==e.testingResultObj?null:e.testingResultObj.startedTest),""),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(7),t.hij(" ",t.lcZ(40,37,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(48,39,"lang_auto_nop_muon"):t.lcZ(49,41,"lang_powerpoint_frontend_detail_submit")," "),t.xp6(4),t.s9C("label",t.lcZ(52,43,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(62,45,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(70,47,"lang_auto_nop_muon"):t.lcZ(71,49,"lang_powerpoint_frontend_detail_submit")," ")}}function Ns(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-exit-exam",75),t.NdJ("closeDialog",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.closeQuitDialog())})("redirectToHomepage",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.redirectToHomepage(a))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.quitTestData)}}function Js(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-confirm-exam",75),t.NdJ("closeDialog",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.closeSubmitDialog())})("redirectToHomepage",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.confirmSubmit(a))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.submitData)}}function Ds(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",82)(1,"button",83),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.openQuitDialog())}),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"path",45)(4,"line",46),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&i&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_thoat")," "))}function Rs(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",82)(1,"button",84),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.redirectToHomepage(!1))}),t.O4$(),t.TgZ(2,"svg",85),t._UZ(3,"polyline",86),t.qZA(),t.kcU(),t.TgZ(4,"span",87),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_quay_lai")))}function Ys(i,s){if(1&i&&(t.TgZ(0,"span",90),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName," ")}}function Hs(i,s){if(1&i&&(t.TgZ(0,"div",88),t.YNc(1,Ys,3,4,"span",89),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("ngIf",e.userObj)}}const Bs=function(i){return{"time-almost-end":i}};function Gs(i,s){if(1&i&&(t.TgZ(0,"div",91)(1,"div",32),t.O4$(),t.TgZ(2,"svg",92),t._UZ(3,"circle",34)(4,"polyline",93),t.qZA(),t.kcU(),t.TgZ(5,"span",94)(6,"span",61),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",61),t._uU(10),t.qZA(),t._uU(11," : "),t.TgZ(12,"span",61),t._uU(13),t.qZA()()()()),2&i){const e=t.oxw(8);let n,a,o;t.xp6(5),t.Q6J("ngClass",t.VKq(4,Bs,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Ks(i,s){1&i&&(t.TgZ(0,"div",91)(1,"div",32),t.O4$(),t.TgZ(2,"svg",92),t._UZ(3,"circle",34)(4,"polyline",93),t.qZA(),t.kcU(),t.TgZ(5,"span",95),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_khong_gioi_han")," "))}function Vs(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"line",101)(3,"line",102)(4,"line",103)(5,"line",104)(6,"line",105)(7,"line",106),t.qZA()())}function $s(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",107),t._UZ(2,"path",108)(3,"path",109)(4,"path",110),t.qZA()())}function Ws(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",111)(1,"button",112),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.openUploadImage())}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"path",113),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}function Xs(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",96)(1,"button",97),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.changeShowType())}),t.ALo(2,"mytranslate"),t.YNc(3,Vs,8,0,"span",74),t.YNc(4,$s,5,0,"span",74),t.qZA()(),t.YNc(5,Ws,6,3,"div",98),t.TgZ(6,"div",47)(7,"button",99),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.openSubmitExam(!0,!1))}),t.O4$(),t.TgZ(8,"svg",49),t._UZ(9,"path",50)(10,"path",51)(11,"path",52),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("matTooltip",t.lcZ(2,5,e.showList?"lang_auto_show_unit":"lang_auto_show_list")),t.xp6(2),t.Q6J("ngIf",!e.showList),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(13,7,"lang_auto_nop_bai")," ")}}const tr=function(i,s){return{hidden:i,top_toolBar:s}};function er(i,s){if(1&i&&(t.TgZ(0,"div",78),t.YNc(1,Ds,7,3,"div",79),t.YNc(2,Rs,7,3,"div",79),t.YNc(3,Hs,2,1,"div",80),t.YNc(4,Gs,14,6,"div",81),t.YNc(5,Ks,8,3,"div",81),t.YNc(6,Xs,14,9,"ng-template",77),t.qZA()),2&i){const e=t.oxw(7);t.Q6J("ngClass",t.WLB(7,tr,e.isMobile&&!e.chooseChildData.isShow,e.checkScroll())),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function nr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-select-classes",114),t.NdJ("selectClassroom",function(a){t.CHM(e);const o=t.oxw(8);return t.KtG(o.closeChooseStudent(a))}),t.qZA()}if(2&i){const e=t.oxw(8);t.Q6J("dataClass",e.chooseChildData.classroomObjs)("isSearchTeacher",!1)("isMobile",e.isMobile)}}function ir(i,s){}function ar(i,s){if(1&i&&(t.YNc(0,nr,1,3,"ng-template",77),t.YNc(1,ir,0,0,"ng-template",77)),2&i){const e=t.oxw(7);t.Q6J("ngIf",e.selectClassroom),t.xp6(1),t.Q6J("ngIf",e.selectStudent)}}function or(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(3,4,null==e.exam_obj?null:e.exam_obj.startTime)," ")}}function sr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",121),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.goToBuyExam())}),t.TgZ(1,"span",122),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon",123),t._uU(5,"shopping_cart"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_di_mua")))}const rr=function(i){return[i]};function _r(i,s){if(1&i&&(t.TgZ(0,"div",116)(1,"div",117),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,or,4,6,"span",74),t.YNc(5,sr,6,3,"span",118),t.qZA(),t.TgZ(6,"div",119)(7,"a",120),t.ALo(8,"localize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw(8);t.xp6(2),t.hij(" ",t.lcZ(3,5,e.hasErrorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_doest_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(11,rr,t.lcZ(8,7,e.homeLink))),t.xp6(2),t.hij(" ",t.lcZ(10,9,"lang_auto_quay_lai_trang_chu")," ")}}function lr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"azt-question-standalone-for-student-at-full-test",131),t.NdJ("autoResizeEssayAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.autoResizeEssayAnswer(a))})("setAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.setAnswerTrueFalse(a))})("setAnswerEssayEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.setAnswerEssay(a))})("setResultTracking",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.setResultTracking(a))})("openSubmitExamEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.openSubmitExam(a))})("nextQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.nextQuestion(a))})("prevQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.prevQuestion(a))})("sendAudioEmit",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.sendAudioForQuestion(a))}),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index,a=s.last,o=t.oxw(10);t.xp6(1),t.s9C("id","question_"+n),t.Q6J("hidden",n!=o.curQuestion),t.xp6(1),t.Q6J("startQuestionIndex",null==o.exam_obj?null:o.exam_obj.startQuestionIndex)("expandInfo",null==o.exam_obj?null:o.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("showList",o.showList)("isMobile",o.isMobile)("examObj",o.exam_obj)("question",e)("index",n)("last",a)("countQuestion",o.countQuestion)("overTime",!1)("questionListLength",o.questionList.length)}}const Mt=function(i){return{answeredQuestion:i}};function cr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",135)(1,"button",136),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(11);return t.KtG(r.goToQuestion(o))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(11);let o;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Mt,e.status)),t.xp6(1),t.AsE(" ",9>n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1?"0":"","",n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1+1," ")}}function mr(i,s){if(1&i&&(t.TgZ(0,"div",132)(1,"h3",90),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",133),t.YNc(5,cr,3,5,"div",134),t.qZA()()),2&i){const e=t.oxw(10);t.Q6J("hidden",e.isMobile),t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("ngForOf",e.questionList)}}function ur(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-upload-ui",126),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.removeImg(a))}),t.qZA(),t.YNc(2,lr,3,16,"div",127),t.YNc(3,mr,6,5,"div",128),t.BQk()}if(2&i){const e=t.oxw(9);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow)}}function dr(i,s){if(1&i&&t._UZ(0,"azt-loaded-img",142),2&i){const e=t.oxw(10);t.Q6J("imgSrc",null==e.exam_obj?null:e.exam_obj.examHeader)}}function gr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",143)(1,"div",144)(2,"azt-question-standalone-for-student-at-full-test",145),t.NdJ("autoResizeEssayAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.autoResizeEssayAnswer(a))})("setAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.setAnswerTrueFalse(a))})("setAnswerEssayEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.setAnswerEssay(a))})("setResultTracking",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.setResultTracking(a))})("openSubmitExamEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.openSubmitExam(a))})("nextQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.nextQuestion(a))})("prevQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.prevQuestion(a))})("sendAudioEmit",function(a){t.CHM(e);const o=t.oxw(10);return t.KtG(o.sendAudioForQuestion(a))}),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(10);t.xp6(1),t.s9C("id","question_all_"+n),t.xp6(1),t.Q6J("startQuestionIndex",null==a.exam_obj?null:a.exam_obj.startQuestionIndex)("expandInfo",null==a.exam_obj?null:a.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("showList",a.showList)("isMobile",a.isMobile)("examObj",a.exam_obj)("countQuestion",a.countQuestion)("question",e)("overTime",!1)("index",n)}}function pr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",151)(1,"button",152),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(11);return t.KtG(r.goToQuestionAll(o))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(11);let o;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Mt,e.status)),t.xp6(1),t.AsE(" ",9>n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1?"0":"","",n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1+1," ")}}const hr=function(i,s){return{hidden:i,top_gameBar:s}},fr=function(i){return{"sheet-screen-monitor":i}};function xr(i,s){if(1&i&&(t.TgZ(0,"div",146,147)(2,"div",148)(3,"h3",90),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",149),t.YNc(7,pr,3,5,"div",150),t.qZA()()()),2&i){const e=t.oxw(10);t.Q6J("ngClass",t.WLB(6,hr,e.isMobile&&!e.chooseChildData.isShow,e.checkScroll())),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(9,fr,e.hasVideoMonitor)),t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function br(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",137)(2,"div",138)(3,"app-upload-ui",126),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.removeImg(a))}),t.qZA(),t.YNc(4,dr,1,1,"azt-loaded-img",139),t.YNc(5,gr,3,13,"div",140),t.qZA(),t.YNc(6,xr,8,11,"div",141),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(9);t.xp6(3),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngIf",null==e.exam_obj?null:e.exam_obj.examHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function vr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",180),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openUploadImage())}),t.TgZ(1,"span",181),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_dinh_kem_tu_luan")))}function wr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",151)(1,"button",182),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(10);return t.KtG(r.showList?r.goToQuestionAll(o):r.goToQuestion(o))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(10);let o;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Mt,e.status)),t.xp6(1),t.AsE(" ",9>n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1?"0":"","",n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1+1," ")}}function Tr(i,s){if(1&i&&(t.TgZ(0,"span",173),t._uU(1),t.qZA()),2&i){const e=t.oxw(10);t.xp6(1),t.Oqu(e.userObj.fullName)}}const kr=function(i){return{"time-almost-end-mobile":i}};function Sr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",183),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.showSheet(!1))}),t.TgZ(1,"mat-icon",184),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",61),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",61),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",61),t._uU(10),t.qZA()()}if(2&i){const e=t.oxw(10);let n,a,o;t.Q6J("ngClass",t.VKq(4,kr,e.timeCount.almostEnd)),t.xp6(4),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Cr(i,s){1&i&&(t.TgZ(0,"div",185)(1,"mat-icon",186),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",187),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_khong_gioi_han")," "))}const yr=function(i){return{hidden:i}};function Or(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",153)(2,"div",154)(3,"div",155)(4,"a",156),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.openQuitDialog())}),t.O4$(),t.TgZ(5,"svg",157),t._UZ(6,"path",45)(7,"line",46),t.qZA()()(),t.kcU(),t.TgZ(8,"div",158),t.YNc(9,vr,4,3,"a",159),t.qZA(),t.TgZ(10,"div",160)(11,"a",161),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.openSubmitExam(!0,!1))}),t.TgZ(12,"span",162),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(15,"svg",157),t._UZ(16,"polyline",163),t.qZA()()()()(),t.kcU(),t.TgZ(17,"div",164)(18,"div",165)(19,"div",166)(20,"div",167)(21,"div",168)(22,"div",169),t.YNc(23,wr,3,5,"div",150),t.qZA()()()()(),t.TgZ(24,"div",170)(25,"div",171)(26,"p",172),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.showSheet(!0,1))}),t.ALo(27,"mytranslate"),t.TgZ(28,"mat-icon",173),t._uU(29,"format_list_bulleted"),t.qZA()(),t.TgZ(30,"p",174),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.showSheet(!0,2))}),t.ALo(31,"mytranslate"),t.TgZ(32,"mat-icon",173),t._uU(33,"view_compact"),t.qZA()()(),t.TgZ(34,"div",175),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.showSheet(!1))}),t.TgZ(35,"p",176),t.YNc(36,Tr,2,1,"span",177),t.qZA()(),t.YNc(37,Sr,11,6,"div",178),t.YNc(38,Cr,6,3,"div",179),t.qZA()()()}if(2&i){const e=t.oxw(9);t.xp6(9),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(4),t.Oqu(t.lcZ(14,9,"lang_auto_nop_bai")),t.xp6(5),t.Q6J("ngClass",t.VKq(15,yr,!e.isShowSheet)),t.xp6(5),t.Q6J("ngForOf",e.questionList),t.xp6(3),t.s9C("matTooltip",t.lcZ(27,11,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(31,13,"lang_auto_xem_tung_cau_don")),t.xp6(6),t.Q6J("ngIf",e.userObj),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}const Ar=function(i,s){return{"monitor-screen":i,"monitor-screen-mobile":s}};function Ir(i,s){if(1&i&&(t.TgZ(0,"div",116),t._UZ(1,"div",124,125),t.YNc(3,ur,4,6,"ng-container",74),t.YNc(4,br,7,7,"ng-container",74),t.YNc(5,Or,39,17,"div",74),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("ngClass",t.WLB(4,Ar,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function Zr(i,s){if(1&i&&(t.YNc(0,_r,11,13,"div",115),t.YNc(1,Ir,6,7,"div",115)),2&i){const e=t.oxw(7);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function jr(i,s){if(1&i&&(t.ynx(0),t.YNc(1,er,7,10,"div",76),t.YNc(2,ar,2,2,"ng-template",77),t.YNc(3,Zr,2,2,"ng-template",77),t.BQk()),2&i){const e=t.oxw(6);t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function Mr(i,s){if(1&i&&(t.YNc(0,Ns,1,1,"app-exit-exam",73),t.YNc(1,Js,1,1,"app-confirm-exam",73),t.YNc(2,jr,4,3,"ng-container",74)),2&i){const e=t.oxw(5);t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow&&!e.showFormInfo.isShow)}}const qr=function(i,s,e){return{"time-client-pc":i,"time-client-mobile":s,"time-client-notValid":e}};function Qr(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Us,72,51,"ng-container",16),t.YNc(2,Mr,3,3,"ng-template",null,17,t.W1O),t.TgZ(4,"div",18)(5,"p",19)(6,"span",20),t.ALo(7,"mytranslate"),t._uU(8),t.ALo(9,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()(),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!n.validForTakeTest)("ngIfElse",e),t.xp6(3),t.Q6J("ngClass",t.kEZ(9,qr,!n.isMobile&&n.validForTakeTest,n.isMobile&&n.validForTakeTest,!n.validForTakeTest)),t.xp6(2),t.s9C("matTooltip",t.lcZ(7,5,"lang_auto_day_la_thoi_gian_hien_tai_tren_thiet_bi_cua_ban")),t.xp6(2),t.Oqu(t.lcZ(9,7,n.timeClient))}}function Lr(i,s){if(1&i&&(t.TgZ(0,"p",197),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function Er(i,s){if(1&i&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,Lr,2,1,"p",196),t.qZA()),2&i){const e=s.$implicit,n=s.index;t.xp6(3),t.AsE("",n+1,". ",e.message,": "),t.xp6(1),t.Q6J("ngForOf",e.data)}}function Pr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",188)(1,"div",189)(2,"h3",190),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",191),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,Er,5,3,"div",192),t.TgZ(25,"p",193)(26,"button",194),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.endTimeBackBtn())}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",195),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.reloadExam())}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()}if(2&i){const e=t.oxw(4);t.xp6(3),t.hij(" ",t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")," "),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(10,16,"lang_auto_ma_de_thi")+": "),t.xp6(3),t.AsE("",null==e.exam_obj?null:e.exam_obj.hashId," - ",null==e.testingResultObj?null:e.testingResultObj.id,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+e.questsLoadState.loadPercent,"%"),t.xp6(3),t.Oqu(t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": "),t.xp6(3),t.hij("",e.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",e.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," ")}}function Fr(i,s){if(1&i&&(t.YNc(0,Qr,10,13,"ng-container",2),t.YNc(1,Pr,32,28,"ng-template",null,15,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf",!n.questsLoadState.hasErrs)("ngIfElse",e)}}function zr(i,s){if(1&i&&(t.YNc(0,js,3,3,"ng-container",2),t.YNc(1,Fr,3,2,"ng-template",null,13,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",n.questsLoadState.startLoad)("ngIfElse",e)}}function Ur(i,s){if(1&i&&(t._UZ(0,"azt-loading-effect",14),t.ALo(1,"mytranslate")),2&i){const e=t.oxw(2);t.Q6J("customText",t.lcZ(1,1,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.loadMixedExamProgress+"%")}}function Nr(i,s){1&i&&(t.TgZ(0,"div",198)(1,"mat-icon",59),t._uU(2,"error"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_loi_khi_tai_du_lieu_de_thi_hay_thu_lai_bang_cach_tai_lai_trang_web"),""))}function Jr(i,s){if(1&i&&(t.YNc(0,Zs,1,2,"app-upload-image",8),t.YNc(1,zr,3,2,"ng-template",null,9,t.W1O),t.YNc(3,Ur,2,3,"azt-loading-effect",10),t.YNc(4,Nr,5,3,"div",11)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",n.isMixedService2&&!n.doneLoadMixedExamAssets&&!n.errorLoadMixedAssets)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",n.errorLoadMixedAssets)}}function Dr(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-name",6),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeSubmitName(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.submitNameData)}}let Rr=(()=>{class i extends b.Q{get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}getData(e){const n=this.browserStorageService.getSimpleStorage(`list_practice_id_${this.hashId}`)??"",a=this.castJsonToObj(n)??[];let _,r=this.commonService.myClone(a);e.fromQuestion&&(_=this.partQuestionSearchTextService.partQuestionSearchText(e.fromQuestion));let l={examResultId:0===this.resultExamId?void 0:this.resultExamId,exceptQuestionIds:a,questionText:_};a.length>20&&(this.browserStorageService.removeSimpleStorage(`list_practice_id_${this.hashId}`),r=r.splice(6)),this.subscriptions.add(this.practiceService.apiPracticeHashIdTestPost(this.hashId,l).subscribe(c=>{1==c.success?(this.processData(c),c.data?.questions?.forEach(u=>{u.id&&!r.includes(u.id)&&r.push(u.id)}),this.browserStorageService.saveSimpleStorage(`list_practice_id_${this.hashId}`,this.serializeJson(r)),this.successStatusObj()):this.errorStatusObj(c.message??"")}))}processData(e){if(1==e.success){if(this.userService.isAnonymousRoleOfCurrentUser()){let n=this.userService.getUserObj();this.userService.isAnonymousName(n)&&this.openSubmitName(!1)}this.commonService.translateMetaData({title:e.data?.name?e.data.name:"",description:e.data?.name?e.data.name:""}),this.dataProcess=e.data,this.fillData(e)}else this.showErrorSnack(e.message??"")}changeQuestionContent(e){for(var n=[],a=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("limitAudioV5_"+this.exam_obj?.id+"_"+this.testingResultObj?.id)??""),o=0;o<e.length;o++){let _=e[o];if(_){if(this.answerTypeService.isEssayAnswer(e[o])&&(_.essayText=""),this.answerTypeService.isFillAnswer(e[o])&&(_.essayText=""),(this.exam_obj?.limitAudio??-1)>0)if(a){var r=a.filter(l=>l.questionId==e[o].id);r&&r.length>0&&(_.limitAudio=r[0].limitTimes+r[0].limitPlay,_.limitPlay=0)}else _.attachments&&_.attachments.length>0&&(_.limitAudio=0,_.limitPlay=0);_={..._,index:o,status:!1},n.push(_)}}return(this.exam_obj?.limitAudio??-1)>0?this.addAudioObjsToQuestion(n):n}addAudioObjsToQuestion(e){var n=[];return e.forEach(a=>{if(a.attachments&&a.attachments.length>0){a.audioLimitObjs=[];let r=(this.exam_obj?.limitAudio??0)-(a.limitAudio??0);if(r>0)for(var o=0;o<r;o++)a.audioLimitObjs.push({index:o,status:!0})}n.push(a)}),n}sendAudioForQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e.obj?.id&&(1==e.play?this.questionList[n].limitPlay=(this.questionList[n].limitPlay??0)+1:(this.questionList[n].limitPlay=(this.questionList[n].limitPlay??0)-1,this.questionList[n].limitAudio=(this.questionList[n].limitAudio??0)+1,this.questionList[n].audioLimitObjs?.forEach(a=>{a.index==e.index&&(a.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e=[];this.questionList.forEach(n=>{n.attachments&&n.attachments.length>0&&e.push({questionId:n.id,limitTimes:n.limitAudio,limitPlay:n.limitPlay})}),e.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV5_"+this.exam_obj?.id+"_"+this.testingResultObj?.id,JSON.stringify(e)))}compareContent(e,n){return e.key==n.content}fillData(e){this.userObj=this.userService.getUserObj(),this.totalTime=this.dataProcess?.countDownSecond??0,this.startTestTime=e.data?.startServerSecond??0;var n=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("savePracticeV1_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId)??"");this.sendHashIdUpdate(this.hashIdUpdate);let a=this.commonService.castJsonToClassObjs(at.v,JSON.stringify(e.data?.questions)),o=this.changeQuestionContent(a??[]);if(this.syncData&&this.syncData.hasOwnProperty("datas")&&""!=this.syncData.datas){var r=this.commonService.willDeleteParseJson(this.syncData.datas);null==n?(this.answerList=null!=r.answers?r.answers:[],this.noteList=null!=r.notes?r.notes:[],this.files=this.commonService.myParseJson(r.files)??[],o=this.reBindDataQuestion(o,this.answerList)):r.saveTime<n.saveTime?(this.answerList=n.answers,this.noteList=n.notes,this.files=this.commonService.myParseJson(n.files)??[],o=this.reBindDataQuestion(o,this.answerList)):(this.answerList=r.answers,this.noteList=r.notes,this.files=this.commonService.myParseJson(r.files)??[],o=this.reBindDataQuestion(o,this.answerList))}else n&&(this.answerList=n.answers,this.noteList=n.notes,this.files=this.commonService.myParseJson(n.files)??[],o=this.reBindDataQuestion(o,this.answerList));this.followerRenderQuest.setNumQuest(o.length),this.questsLoadState.startLoad=!0,this.questionRenderService.parseRenderQuestions(o,_=>{this.questsLoadState.loadPercent=Math.floor(_)}).then(_=>{this.questionList=_,this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.hasEssayQuestion=this.checkEssay(),this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files);for(let l=0;l<this.questionList.length;l++)this.questionList[l].enableFeedback=!0;this.setTimeClient()}).catch(_=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=_})}getQuestionCanFeedback(){if(Array.isArray(this.questionList)){let e=[];this.questionList.forEach(n=>{n.id&&!this.commonService.isExistInArray(e,n.id)&&e.push(n.id)}),this.subscriptions.add(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(this.exam_obj?.id,e.join(",")).subscribe(n=>{if(1==n.success){let a=n.data?.objs??[];if(Array.isArray(this.questionList))for(let o=0;o<this.questionList.length;o++)a.forEach(r=>{this.questionList&&this.questionList[o].id==r.questionId&&(this.questionList[o].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}else this.stopStatusObj()}reloadExam(){location.reload()}takeAnswerForQuestion(e,n){n.forEach(a=>{e.forEach(o=>{if(o.questionId==a.id)if(this.answerTypeService.isFillAnswer(a)||this.answerTypeService.isEssayAnswer(a))a.choseAnswer=o.answerContent[0].content;else if((this.answerTypeService.isOneChoiceAnswer(a)||this.answerTypeService.isMultipleChoiceAnswer(a))&&a.answers){var r=o.answerContent[0].index;a.choseAnswer=a.answers[r].alpha?a.answers[r].alpha:a.answers[r].key}})})}reBindDataQuestion(e,n){var a=[];return e.forEach(o=>{n.forEach(r=>{if(r.questionId==o.id){if(this.answerTypeService.isEssayAnswer(o))(_=r.answerContent&&r.answerContent.length>0?r.answerContent[0].content:"")&&(o.essayText=_);else if(this.answerTypeService.isFillAnswer(o)){var _;(_=r.answerContent&&r.answerContent.length>0?r.answerContent[0].content:"")&&(o.essayText=_)}else if(o.answers)for(var l=0;l<o.answers.length;l++){if(this.compareContent(o.answers[l],r.answerContent&&r.answerContent.length>0?r.answerContent[0]:{index:0,content:""})){o.answers[l].checked=!0;break}o.answers[l].checked=!1}o.status=!0}}),a.push(o)}),a}approvedByName(e){this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForExamPost({fullName:e.nameEmit??"",examHashId:this.dataProcess?.hashId??"",classroomId:e.classId??0}).subscribe(a=>{1==a.success?this.practiceObj&&(this.getData(this.practiceObj),this.chooseChildData={classroomObjs:[],studentObjs:[],isPendingApproved:!1,isShow:!1}):this.showErrorSnack(a.message??"")}))}closeChooseStudent(e){}confirmSendRequest(e){e?(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien")):(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1}}setTimeExam(){var e="exam",n=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(n==this.globalService.getGlobalInterval(e)){const a=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),_=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(n??0,e)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==a&&0==r?{hour:a,minute:r,second:_,almostEnd:!0}:{hour:a,minute:r,second:_,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(a){console.log(a)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}getTimeServer(){var e="examServerTime",n=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(n??0,e)),clearInterval(this.intervalGetTimeServer)):clearInterval(this.intervalGetTimeServer)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,n){return Math.floor(Math.random()*(n-e+1)+e)}setTimeAutoSubmit(e,n){var a=this.totalTime+90,o="autoSubmitTimeCount",r=this.globalService.plusGlobalInterval(o);this.intervalAutoSubmit=window.setInterval(()=>{try{if(r!=this.globalService.getGlobalInterval(o)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const _=Math.floor(a/3600),c=Math.floor(a%3600/60),u=a%60;a<=0?(this.timeCount={hour:0,minute:0,second:0},(r==this.globalService.getGlobalInterval(o)||e==this.globalService.getGlobalInterval(n))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:_,minute:c,second:u},a-=1}}catch(_){console.log(_)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",n=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setAnswerTrueFalse(e){var n=this.answerList.filter(_=>_.questionId==e.id);if(e.answerConfig&&null!=e.index&&1==e.type){var a={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(n&&n.length>0)for(var o=0;o<this.answerList.length;o++)this.answerList[o].questionId==a.questionId&&this.answerList[o].answerContent.push(a.answerContent[0]);else this.answerList.push(a);this.changeStatusAnswer(a,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var r={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(n&&n.length>0)for(o=0;o<this.answerList.length;o++)this.answerList[o].questionId==r.questionId&&(this.answerList[o].answerContent=r.answerContent);else this.answerList.push(r);this.changeStatusAnswer(r,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id)}setAnswerEssay(e){var n=!0,a=this.answerList.filter(g=>g.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(this.onTypingAnswer=!0,e.event.target instanceof HTMLTextAreaElement&&null!=e.event.target.value){var o={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value.trim()}]};if(a&&a.length>0){for(var r=0;r<this.answerList.length;r++)if(this.answerList[r].questionId==o.questionId){for(var _=0;_<this.answerList[r].answerContent.length;_++)this.answerList[r].answerContent[_].index==o.answerContent[0].index&&(this.answerList[r].answerContent[_].content=o.answerContent[0].content);var l=this.answerList[r].answerContent.filter(g=>g.index==o.answerContent[0].index);l&&0==l.length&&this.answerList[r].answerContent.push(o.answerContent[0])}this.onTypingAnswer=!1}else this.answerList.push(o),this.onTypingAnswer=!1;if(""==e.event.target.value.trim()){n=!1;var c=this.answerList.filter(g=>g.questionId==e.id);if(c&&1==c.length){var u=this.answerList.indexOf(c[0]);this.answerList.splice(u,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else n=!1;n&&(this.changeStatusQuestion(e.id),this.changeEssayTextQuestion(e))}changeEssayTextQuestion(e){for(let n=0;n<this.questionList.length;n++)this.questionList[n].id==e.id&&e.event?.target instanceof HTMLTextAreaElement&&(this.questionList[n].essayText=e.event?.target.value.trim())}setResultTracking(e){this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e&&(this.questionList[n].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,n,a,o,r){if(!a)try{this.questionList.forEach(_=>{if(_.id==e.questionId){let c=this.commonService.myTranslateInstant("lang_auto_cau"),u=this.commonService.myTranslateInstant("lang_auto_chon");if(_.answers&&_.answers.length>0){for(var l=0;l<_.answers.length;l++)_.answers[l].checked=!1;_.answers[n].checked=!0,this.isMobile&&r.answerConfig&&this.commonService.snackChoiceAnswer(c+" "+((_.index??0)+(this.exam_obj?.startQuestionIndex??1))+" - "+u+" "+(r.answerConfig.alpha?r.answerConfig.alpha:r.answerConfig.key))}}})}catch(_){console.log(_)}}saveToStorage(e,n,a){try{var o={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.exam_obj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},r=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),_={answers:e,notes:n,files:JSON.stringify(a),infors:r,trackInfos:JSON.stringify(o),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("savePracticeV1_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId,JSON.stringify(_))}catch{}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}handleFullscreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var n={examId:this.exam_obj?.id??0,name:"exit_full_screen",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(n).subscribe(o=>{1==o.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}removeNullContent(e){var n=[];return e.forEach(a=>{a.content&&n.push(a)}),n}removeImg(e){var n=this.files.filter(a=>a.url!==e);this.files=n,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}updateFileUploadMobile(){return new Promise(e=>{let n={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(n).subscribe(a=>{1==a.success&&e(!0)})})}calcRight(){var e=0,n=window.outerWidth,a=document.getElementById("container-content")?.offsetWidth;return a&&(e=(n-a)/2),e}checkWidth(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target instanceof Window&&e.target.innerWidth<1200,this.calcRight()}resizeImg(e,n,a){var o=document.getElementById("media_content_"+e),r=o?.offsetWidth??0;return o?r/n<=1?Math.round(a*(r/n)):Math.round(a):0}resizeImgAll(e,n,a){var o=document.getElementById("media_content_all_"+e),r=o?.offsetWidth??0;return o?r/n<=1?Math.round(a*(r/n)):Math.round(a):0}returnFalse(){return!1}autoResize(e,n){if(1==n){const a=document.getElementById("note_box_"+e);a&&setTimeout(()=>{a.style.cssText="height:auto;",a.style.cssText="height:"+(a.scrollHeight+30)+"px",a.style.maxHeight="350px"},0)}else{const a=document.getElementById("note_box_all_"+e);a&&setTimeout(()=>{a.style.cssText="height:auto;",a.style.cssText="height:"+(a.scrollHeight+30)+"px",a.style.maxHeight="350px"},0)}}autoResizeEssayAnswer(e){if(1==e.type){const n=document.getElementById("answer-1-unit-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else if(2==e.type){const n=document.getElementById("answer-0-unit-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else if(3==e.type){const n=document.getElementById("answer-1-all-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else{const n=document.getElementById("answer-0-all-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:"+(n.scrollHeight-50)+"px",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}}checkEssay(){var e=this.questionList.filter(n=>this.answerTypeService.isEssayAnswer(n));return e&&e.length>0?(this.checkEssayPopup&&this.openEssayDialog(),!0):(this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.hasMonitorScreen=!0),!1)}checkScroll(){return!!(window.scrollY&&window.scrollY>50)}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}redirectToHomepage(e){this.quitTestData={id:0,time:0,isShow:!1},e?this.submitTest(!1):this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}goToBuyExam(){this.commonService.myNavigation("/de-thi/"+this.exam_obj?.hashId)}openSubmitName(e,n,a,o){this.submitNameData=!e&&n&&a?{needPassword:a,isShow:!0,examId:this.exam_obj?.id,hashId:n,errorMessage:o||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&this.practiceObj&&(this.getData(this.practiceObj),this.submitNameData={isShow:!1})}openShowInfo(e,n){this.showFormInfo={infoFields:e,examId:this.exam_obj?.id,hashId:this.exam_obj?.hashId,isAnonymousName:n,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getPracticeByHashId(),this.showFormInfo={infoFields:[],isShow:!1})}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1,this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.hasMonitorScreen=!0))}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,n,a){this.quitTestData.isShow||(this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:n,saveFalse:a}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:n,saveFalse:a})}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(e.isAutoSubmit??!1)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.exam_obj?.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1),setTimeout(()=>{let n=document.getElementById("bottom_action"),a=document.getElementById("time_client"),o=n?.offsetHeight;a&&o&&(a.style.bottom=o+"px")},100)}conFirmUpload(e){var n=document.getElementById("monitorScreenTakeTest");e&&e.isConfirm?(this.files=e.uploadFiles??[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1),n&&(n.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile={...e.file,index:e.index}}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}sendHashIdUpdate(e){e&&this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(n=>{if(1==n.success&&this.commonService.isJson(n.data?.tmpObj?.files??"")){var a=this.commonService.willDeleteParseJson(n.data?.tmpObj?.files??"");a.isNotNoti=!0,this.addFileMobileUpload({files:a})}})}addFileMobileUpload(e){this.files=e.files??[],this.uploadImageData={id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj(),this.checkSubmit=!0;let n={answers:this.answerList};this.subscriptions.add(this.practiceService.apiPracticeHashIdPracticeIdResultPost(this.hashId,this.dataProcess?.practiceId??0,n).subscribe(a=>{if(1==a.success){this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("savePracticeV1_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.dataProcess?.practiceId+"_"+this.dataProcess?.hashId),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj?.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj?.hashId+"_",JSON.stringify(a.data));try{this.localStorageObject.clearAllCache(),typeof aztExam<"u"&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch{}this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-practice/"+this.dataProcess?.practiceId+"/"+this.hashId+"/0","?backto="+encodeURIComponent(this.backToLink))}else this.errorStatusObj(a.message??"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=a.message,setTimeout(()=>{this.checkSubmit=!1},5e3)}))}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),n=0;n<e.length;n++)clearInterval(e[n]);this.globalService.emptyIntervalObjs()}changeShowType(){this.showUnit?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1),setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}showSheet(e,n){e?this.changeShowType():this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let a=document.getElementById("bottom_action"),o=document.getElementById("time_client"),r=a?.offsetHeight;o&&r&&(o.style.bottom=r+"px")},100)}askBeforeCloseWindow(e){if(!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}prevQuestion(e){var n=document.getElementById("question_"+String(e)),a=document.getElementById("question_"+String(e-1));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){var n=document.getElementById("question_"+String(e)),a=document.getElementById("question_"+String(e+1));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1)}goToQuestion(e){var n=document.getElementById("question_"+String(this.curQuestion)),a=document.getElementById("question_"+String(e));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=e)}goToQuestionAll(e){var n=document.getElementById("question_all_"+e);n?.scrollIntoView()}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id);e&&(this.resultTracks=this.commonService.willDeleteParseJson(e))}makeDeviceId(e=10){for(var n="",r=0;r<e;r++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return n}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}getPracticeByHashId(){this.subscriptions.add(this.practiceService.apiPracticeHashIdGet(this.hashId).subscribe(e=>{1==e.success?(this.practiceObj=e.data,this.practiceObj&&this.getData(this.practiceObj)):this.errorStatusObj(e.message??"")}))}constructor(e,n,a,o,r,_,l,c,u,g,h,w,k,y,O){super(),this.activeRoute=e,this.userService=n,this.mixService=a,this.localStorageObject=o,this.timeService=r,this.browserStorageService=_,this.frontExamTrackService=l,this.frontStudentService=c,this.globalService=u,this.frontExamResultUploadService=g,this.answerTypeService=h,this.questionRenderService=w,this.testMarketFeedbackService=k,this.practiceService=y,this.partQuestionSearchTextService=O,this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.resultExamId=0,this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.firstInGroupIndexes=[],this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.followerRenderQuest=new R.p,this.countQuestion=0,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={datas:""},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={classroomObjs:[],studentObjs:[],classObj:void 0,isPendingApproved:!1,isShow:!1},this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.hasVideoMonitor=!1,this.acceptSendTrack=!0,this.isMixedService2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument={...document},this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1,this.widthGameBar=300}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.checkWidth(),this.browserName=this.detectBrowserName(),this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),a=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString(),o=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.resultExamId=Number(this.commonService.getMyQueryParam("resultExamId"))??0,this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=n,this.hashId=a||"",this.tenantId=o,this.homeLink="/student/dashboard/0",this.getDeviceId(),this.initStatusObj(),this.getPracticeByHashId()})),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{this.widthGameBar=this.myListQuestionBar?.nativeElement.offsetWidth;let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient);for(var n=this.globalService.getIntervalObjs(),a=0;a<n.length;a++)clearInterval(n[a]);this.globalService.emptyIntervalObjs(),typeof aztExam<"u"&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(E.U),t.Y36(vt),t.Y36(wt.y),t.Y36(D.D),t.Y36(V.n),t.Y36(S.FQ),t.Y36(Tt.Dn),t.Y36(_t.q),t.Y36(S.vO),t.Y36(B.i),t.Y36(lt.h),t.Y36(ot.nC),t.Y36(it.ik),t.Y36(Oa.r))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-take-practice"]],viewQuery:function(n,a){if(1&n&&(t.Gf(Cs,5,G),t.Gf(ys,5)),2&n){let o;t.iGM(o=t.CRH())&&(a.modalSaveImageUpload=o.first),t.iGM(o=t.CRH())&&(a.myListQuestionBar=o.first)}},hostBindings:function(n,a){1&n&&t.NdJ("beforeunload",function(r){return a.askBeforeCloseWindow(r)},!1,t.Jf7)},features:[t.qOj],decls:8,vars:5,consts:[[1,"p-0",3,"contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px",3,"resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["lstQuestDoneLoad",""],[3,"customText"],["lstQuestHasErr",""],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],["id","time_client",1,"time-client",3,"ngClass"],[1,"mb-0","text-center"],[2,"vertical-align","middle","font-weight","450","color","grey",3,"matTooltip"],[2,"padding-bottom","50px"],[1,"box","p-5","margin-question-bar","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],["class","mt-3 text-danger font-medium",4,"ngIf"],[1,"mt-3","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-practice-3Mc2UvXdlm",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],["azt-track-service","take-practice-ac8JtnKKS_",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[3,"label"],["class","intro-x mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mt-2","flex","justify-center"],["azt-track-service","take-practice-Ha9JS-qJp9",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-practice-UiY4hiXKqR",1,"btn","btn-sm","btn-primary",3,"click"],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[1,"ng-binding"],[1,"mt-3","text-danger","font-medium"],[1,"intro-x","mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","isMobile","examObj","question","index","overTime","questionListLength"],["class","text-center mt-1 mb-2",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","removeFile"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-practice-xsqT9egDfs",1,"btn","btn-sm","btn-primary",3,"click"],[1,"h6","mb-2","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],["class","top-bar",3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"top-bar",3,"ngClass"],["class","-intro-x",4,"ngIf"],["class","intro-x relative mx-auto",4,"ngIf"],["class","intro-x mr-6",4,"ngIf"],[1,"-intro-x"],["azt-track-service","take-practice-pL7myV7Hu5",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-practice-BLFCFlBrXw",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[2,"vertical-align","middle"],[1,"intro-x","relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[1,"intro-x","mr-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["points","12 6 12 12 16 14"],[1,"text-md",3,"ngClass"],[1,"text-md"],[1,"intro-x","flex","items-center","dropdown","mr-3"],["azt-track-service","take-practice-ZXXzQKEc5M",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["class","intro-x mr-2",4,"ngIf"],["azt-track-service","take-practice-LyE83Uhmha",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["x1","8","y1","6","x2","21","y2","6"],["x1","8","y1","12","x2","21","y2","12"],["x1","8","y1","18","x2","21","y2","18"],["x1","3","y1","6","x2","3.01","y2","6"],["x1","3","y1","12","x2","3.01","y2","12"],["x1","3","y1","18","x2","3.01","y2","18"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["d","M21 3H3v7h18V3z"],["d","M21 14h-5v7h5v-7z"],["d","M12 14H3v7h9v-7z"],[1,"intro-x","mr-2"],["azt-track-service","take-practice-BAOdWThQEv",1,"btn","btn-sm","btn-secondary",3,"click"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],["class","margin-question-bar pb-4",4,"ngIf"],[1,"margin-question-bar","pb-4"],[1,"alert","alert-danger"],["azt-track-service","take-practice-5r0qsW5Fvx",3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-practice-dtjGvFdgLDF",1,"link__color","link__hover",3,"routerLink"],["azt-track-service","take-practice-5r0qsW5Fvx",3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","removeFile"],["class","intro-x mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],["class","intro-y box w-3/4 mx-auto p-3","style","animation-delay: 0.05s",3,"hidden",4,"ngIf"],[1,"intro-x","mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","question","index","last","countQuestion","overTime","questionListLength","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[1,"intro-y","box","w-3/4","mx-auto","p-3",2,"animation-delay","0.05s",3,"hidden"],[1,"grid","grid-cols-12","gap-2","mt-3","p-3"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"col-span-1"],["azt-track-service","take-practice-0MuZuHTGO3r",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],["id","question_ui",1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","mt-5","sm:mt-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","intro-x mt-2",4,"ngFor","ngForOf"],["class","col-span-12 lg:col-span-3 mt-4","id","listQuestionBar",3,"ngClass",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"intro-x","mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","countQuestion","question","overTime","index","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],["id","listQuestionBar",1,"col-span-12","lg:col-span-3","mt-4",3,"ngClass"],["listQuestionBar",""],[1,"intro-y","box","p-3"],[1,"grid","grid-cols-10","gap-2","mt-3","sheet-screen",3,"ngClass"],["class","col-span-2",4,"ngFor","ngForOf"],[1,"col-span-2"],["azt-track-service","take-practice-9KHWbI1Mha5",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],[1,"top_action"],[1,"grid","grid-cols-12","gap-3","items-center","justify-between","ml-0","mr-0"],[1,"col-span-3","self-center"],["azt-track-service","take-practice-QhgzpLg6Ifb",1,"clickable",2,"color","#fff",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],[1,"col-span-6","text-center","self-center","pl-0","pr-0"],["azt-track-service","take-practice-yKrk_05Da24","class","clickable","style","color: #fff; border: 3px solid #fff; padding: 3px 5px",3,"click",4,"ngIf"],[1,"col-span-3","pl-0","pr-1","text-right","self-center"],["azt-track-service","take-practice-KJRH_OglJN7",1,"clickable","inline-flex","items-center",2,"color","#fff",3,"click"],[2,"vertical-align","top","line-height","1.8"],["points","9 18 15 12 9 6"],["id","bottom_action",1,"bottom_action"],[1,"collapse",3,"ngClass"],[1,"box","mb-2",2,"padding","5px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"grid","grid-cols-10","gap-2","mt-3"],[1,"grid","grid-cols-12","gap-3","justify-between","clickable"],[1,"col-span-3","flex","pr-1","menu-control"],["azt-track-service","take-practice-7FJURH-_c8E",1,"mb-auto","mt-auto","mr-1","clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#fff"],["azt-track-service","take-practice-l6nTAGnORSK",1,"ml-2","mb-auto","mt-auto","clickable",3,"matTooltip","click"],["azt-track-service","take-practice-CT4xw9_1lRi",1,"col-span-5","pl-0","pr-0","text-center","self-center",3,"click"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["azt-track-service","take-practice-bo0vu1hFO6Z","class","col-span-4 text-right pl-0 self-center",3,"ngClass","click",4,"ngIf"],["class","col-span-6 text-center pl-0 pr-1 self-center",4,"ngIf"],["azt-track-service","take-practice-yKrk_05Da24",1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],["azt-track-service","take-practice-CzW5_bOVz_T",1,"rounded-md","border","border-slate-400","p-1","w-full",2,"color","#111",3,"ngClass","click"],["azt-track-service","take-practice-bo0vu1hFO6Z",1,"col-span-4","text-right","pl-0","self-center",3,"ngClass","click"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-span-6","text-center","pl-0","pr-1","self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-practice-TY07Lxx58wo",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-practice-tXOTzgL0kmz",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548;font-size: small;",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"],[1,"p-5","m-5","text-center","alert","alert-danger"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("contextmenu",function(){return a.returnFalse()}),t.TgZ(1,"div",1),t.NdJ("resize",function(r){return a.onResize(r)},!1,t.Jf7),t.YNc(2,Os,1,0,"azt-loading-effect",2),t.YNc(3,As,1,1,"app-submit-info",3),t.YNc(4,Is,1,1,"app-check-essay",4),t.YNc(5,Jr,5,4,"ng-template",null,5,t.W1O),t.YNc(7,Dr,1,1,"app-submit-name",3),t.qZA()()),2&n){const o=t.MAs(6);t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",a.showFormInfo.isShow&&a.validForTakeTest),t.xp6(1),t.Q6J("ngIf",a.dataEssayPopup.isShow&&a.validForTakeTest),t.xp6(3),t.Q6J("ngIf",a.submitNameData.isShow)}},dependencies:[T.rH,d.mk,d.sg,d.O5,W.Hw,P.uX,P.SP,U.gM,pt.y,j.l,kt.f,St,Ht,At,It,Zt,G,jt,$t,nt.lO,p.JV,p.$n],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:70px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}.feedback-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}@keyframes _ngcontent-%COMP%_timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]})}return i})();function Yr(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Hr(i,s){if(1&i&&t._UZ(0,"azt-test-review-for-student",3),2&i){const e=t.oxw();t.Q6J("initDataResult",e.initDataAnswerTest)}}let Br=(()=>{class i extends b.Q{redirectToBackLink(){let e=this.commonService.getMyQueryParam("backto")??"/student/dashboard/0";this.backToLink=this.commonService.getMyQueryParam("offline")?e??"/student/dashboard/0":e}translateMetaTitle(e){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(n=>{this.commonService.translateMetaData({title:n+": "+e,description:n+": "+e,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();let n=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),a=this.commonService.getMyQueryParam("offline")??"";var o=this.browserStorageService.getSimpleSessionStorageWithExpired("test_result_v2_"+e+"_"+n);let r=this.commonService.myTranslateInstant("lang_auto_ket_qua");o?(this.initDataAnswerTest={version:"",success:1,code:200,message:"",detailMessage:"",data:o},this.headerTitle=`${r}: ${o.examObj.name}`,this.translateMetaTitle(o.examObj.name),this.successStatusObj()):this.frontExamResultService.apiFrontExamResultGetExamAnswerGet(e,n,a).subscribe(_=>{1==_.success?(this.initDataAnswerTest=_,this.headerTitle=`${r}: ${_?.data?.examObj?.name}`,this.translateMetaTitle(_.data?.examObj?.name),this.successStatusObj()):this.errorStatusObj(_.message??"",!0)})}))}ngOnInit(){this.getAndProcessDataForStudent(),this.redirectToBackLink(),super.ngOnInit()}constructor(e,n,a){super(),this.activeRoute=e,this.browserStorageService=n,this.frontExamResultService=a,this.headerTitle="",this.backToLink=""}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(V.n),t.Y36(S.CA))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-answer-test"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"initDataResult"]],template:function(n,a){if(1&n&&(t.TgZ(0,"student-layout",0),t.YNc(1,Yr,1,0,"azt-loading-effect",1),t.YNc(2,Hr,1,1,"ng-template",null,2,t.W1O),t.qZA()),2&n){const o=t.MAs(3);t.Q6J("headerBackToLink",a.backToLink),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[d.O5,j.l,zt,N.L],encapsulation:2})}return i})();function Gr(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Kr(i,s){1&i&&(t.TgZ(0,"div")(1,"div",10)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function Vr(i,s){if(1&i&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function $r(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"span",33),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Vr,2,1,"span",34),t.BQk()),2&i){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(2),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function Wr(i,s){1&i&&(t.TgZ(0,"span",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),": "))}function Xr(i,s){1&i&&(t.TgZ(0,"span",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function t_(i,s){if(1&i&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.Oqu((null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):""))}}function e_(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Wr,3,3,"span",36),t.YNc(2,Xr,3,3,"span",36),t.YNc(3,t_,2,1,"span",34),t.BQk()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function n_(i,s){1&i&&(t.TgZ(0,"span",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function i_(i,s){if(1&i&&(t.TgZ(0,"span",38),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):""),"")}}function a_(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function o_(i,s){if(1&i&&(t.ynx(0),t.YNc(1,n_,3,3,"span",36),t.YNc(2,i_,2,1,"span",37),t.YNc(3,a_,3,3,"span",32),t.BQk()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark)&&null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark))}}function s_(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function r_(i,s){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,$r,5,4,"ng-container",31),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,e_,4,3,"ng-container",31),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,o_,4,3,"ng-container",31),t.ALo(6,"isOnlyEssay"),t.YNc(7,s_,3,3,"span",32),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,e.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,e.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,e.examObj)),t.xp6(2),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.mark))}}function __(i,s){1&i&&(t.TgZ(0,"span",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function l_(i,s){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,__,3,3,"span",36),t.TgZ(2,"span",35),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(2),t.hij(" ",t.lcZ(4,2,"lang_auto_chua_duoc_xem_diem")," ")}}function c_(i,s){if(1&i&&(t.TgZ(0,"div",40)(1,"p",18),t.O4$(),t.TgZ(2,"svg",19),t._UZ(3,"path",41)(4,"circle",42),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",22),t._uU(8),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_thi_sinh")," "),t.xp6(3),t.hij(" ",null!=e.studentObj&&e.studentObj.fullName?null==e.studentObj?null:e.studentObj.fullName:null==e.userObj?null:e.userObj.fullName," ")}}function m_(i,s){if(1&i&&(t.TgZ(0,"div",17)(1,"p",18),t.O4$(),t.TgZ(2,"svg",43),t._UZ(3,"path",44)(4,"path",45),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",46),t._uU(8),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_so_luong_trac_nghiem_dung")," "),t.xp6(3),t.hij(" ",null==e.examResultObj?null:e.examResultObj.rightAnswer," ")}}function u_(i,s){if(1&i&&(t.TgZ(0,"div",17)(1,"p",18),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"circle",20)(4,"line",48)(5,"line",49),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"p",50),t._uU(9),t.qZA()()),2&i){const e=t.oxw(3);let n;t.xp6(6),t.hij(" ",t.lcZ(7,2,"lang_auto_so_cau_sai")," "),t.xp6(3),t.hij(" ",(null!==(n=null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&void 0!==n?n:0)-(null!==(n=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==n?n:0)," ")}}function d_(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",51)(2,"div",52)(3,"button",53),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.redirectToTakeTraining())}),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",54),t._UZ(7,"lucide-icon",55),t.qZA()()(),t.TgZ(8,"div",52)(9,"button",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.redirectToAnswerTest())}),t._uU(10),t.ALo(11,"mytranslate"),t.TgZ(12,"span",54),t._UZ(13,"lucide-icon",57),t.qZA()()()(),t.BQk()}2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_testbank_frontend_practice_again")," "),t.xp6(6),t.hij(" ",t.lcZ(11,4,"lang_auto_xem_dap_an_chi_tiet")," "))}function g_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.redirectToAnswerTest())}),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",54),t._UZ(4,"lucide-icon",57),t.qZA()()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xem_dap_an_chi_tiet")," "))}function p_(i,s){1&i&&(t.TgZ(0,"button",60),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.Q6J("disabled",!0),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}function h_(i,s){if(1&i&&(t.YNc(0,g_,5,3,"button",58),t.YNc(1,p_,3,4,"button",59)),2&i){const e=t.oxw(3);t.Q6J("ngIf",!1!==(null==e.examObj?null:e.examObj.allowStudentView)),t.xp6(1),t.Q6J("ngIf",!1===(null==e.examObj?null:e.examObj.allowStudentView))}}function f_(i,s){if(1&i&&(t.TgZ(0,"div",11)(1,"h2",12),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.YNc(4,r_,8,10,"div",13),t.YNc(5,l_,5,4,"div",13),t.TgZ(6,"h3",14),t._uU(7),t.qZA(),t.TgZ(8,"div",15),t.YNc(9,c_,9,4,"div",16),t.TgZ(10,"div",17)(11,"p",18),t.O4$(),t.TgZ(12,"svg",19),t._UZ(13,"circle",20)(14,"polyline",21),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"p",22),t._uU(18),t.qZA()(),t.YNc(19,m_,9,4,"div",23),t.YNc(20,u_,10,4,"div",23),t.TgZ(21,"div",17)(22,"p",18),t.O4$(),t.TgZ(23,"svg",24),t._UZ(24,"circle",20)(25,"line",25)(26,"line",26),t.qZA(),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(29,"p",27),t._uU(30),t.qZA()()(),t.TgZ(31,"div",28),t.YNc(32,d_,14,6,"ng-container",1),t.YNc(33,h_,2,2,"ng-template",null,29,t.W1O),t.qZA()),2&i){const e=t.MAs(34),n=t.oxw(2);let a;t.xp6(2),t.Oqu(t.lcZ(3,13,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.xp6(2),t.Q6J("ngIf",2!=(null==n.examObj?null:n.examObj.whenShowResult)),t.xp6(1),t.Q6J("ngIf",2==(null==n.examObj?null:n.examObj.whenShowResult)),t.xp6(2),t.hij(" ",null==n.examObj?null:n.examObj.name," "),t.xp6(2),t.Q6J("ngIf",(null==n.studentObj?null:n.studentObj.fullName)||(null==n.userObj?null:n.userObj.fullName)),t.xp6(6),t.hij(" ",t.lcZ(16,15,"lang_auto_thoi_gian_lam_bai")," "),t.xp6(3),t.hij(" ",n.timeTested," "),t.xp6(1),t.Q6J("ngIf",null!=(null==n.examResultObj?null:n.examResultObj.rightAnswer)),t.xp6(1),t.Q6J("ngIf",(null==n.examResultObj||null==n.examResultObj.examResultStatisticObj||null==n.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:n.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&2!=(null==n.examObj?null:n.examObj.whenShowResult)),t.xp6(7),t.hij(" ",t.lcZ(28,17,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",null!==(a=null==n.examResultObj?null:n.examResultObj.totalQuestion)&&void 0!==a?a:0," "),t.xp6(2),t.Q6J("ngIf",1==n.examConfigObj.allowTestingEachQuestion)("ngIfElse",e)}}const Wt=function(i,s){return{backto:i,resultExamId:s}};function x_(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"a",67),t.ALo(2,"navigationLocalize"),t._UZ(3,"azt-block-practice",68),t.qZA(),t.BQk()),2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.lcZ(2,4,"/on-luyen/"+n.hashId))("queryParams",t.WLB(6,Wt,o.returnLink,o.resultId)),t.xp6(2),t.Q6J("data",n)("index",a)}}function b_(i,s){if(1&i&&(t.TgZ(0,"a",70),t.ALo(1,"navigationLocalize"),t._UZ(2,"azt-block-practice",68),t.qZA()),2&i){const e=t.oxw(2),n=e.$implicit,a=e.index,o=t.oxw(3);t.Q6J("routerLink",t.lcZ(1,4,"/on-luyen/"+n.hashId))("queryParams",t.WLB(6,Wt,o.returnLink,o.resultId)),t.xp6(2),t.Q6J("data",n)("index",a)}}function v_(i,s){if(1&i&&t.YNc(0,b_,3,9,"a",69),2&i){const e=t.oxw().index;t.Q6J("ngIf",e<2)}}function w_(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,x_,4,9,"ng-container",1),t.YNc(2,v_,1,1,"ng-template",null,66,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.toggleAllView)("ngIfElse",e)}}function T_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.toggleAllPractice())}),t.TgZ(1,"span",72),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"span",73),t._UZ(5,"lucide-icon",74),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_xem_them")," "))}function k_(i,s){if(1&i&&(t.TgZ(0,"div",61)(1,"div",62),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",63),t.YNc(5,w_,4,2,"div",64),t.YNc(6,T_,6,3,"button",65),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_core_additional_practice_on_azota")," "),t.xp6(3),t.Q6J("ngForOf",e.suggestPractice),t.xp6(1),t.Q6J("ngIf",!e.toggleAllView)}}const S_=function(i){return{"grid-column-start":i}},C_=function(i){return{"max-width":i}};function y_(i,s){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t.YNc(4,Kr,5,3,"div",1),t.YNc(5,f_,35,19,"ng-template",null,7,t.W1O),t.qZA()(),t.TgZ(7,"div",8),t.YNc(8,k_,7,5,"div",9),t.qZA()()()),2&i){const e=t.MAs(6),n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(5,S_,0!==n.suggestPractice.length||n.checkMobileScreen?"auto":"3")),t.xp6(1),t.Q6J("ngStyle",t.VKq(7,C_,0!==n.suggestPractice.length||n.checkMobileScreen?"100%":"560px")),t.xp6(1),t.Q6J("ngIf",""!=n.statusObj.errorMessage)("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",n.suggestPractice.length>0)}}let O_=(()=>{class i extends b.Q{toggleAllPractice(){this.toggleAllView=!this.toggleAllView}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.returnLink))}redirectToTakeTraining(){this.commonService.myNavigationWithQueryString(null!=this.curCategoryId?"/test/take-training/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.tenantId+"/0/"+this.hashId,"?backto="+encodeURIComponent(this.backToLink))}getExamResult(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(e=>{if(1==e.success){this.hasErrorMessage=e.message?e.message:"",this.examObj=e.data?.examObj,this.examResultObj=e.data?.examResultObj,this.studentObj=e.data?.studentObj,this.examConfigObj=e.data?.examConfigObj??{};var n=new Date(e.data?.examResultObj?.startedTest??""),a=new Date(e.data?.examResultObj?.createdAt??"");this.timeTested=this.timeService.calculationTimeExamTested(n,a);let o="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(r=>{o=r}),this.commonService.translateMetaData({title:o+": "+this.examObj?.name,description:this.examObj?.name}),this.getSuggestExam()}else this.errorStatusObj(e.message??"",!0)}))}getSuggestExam(){this.subscriptions.add(this.practiceService.apiPracticeSuggestGet(this.resultId).subscribe(e=>{1==e.success?(this.suggestPractice=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=e||"",this.userObj=this.userService.getUserObj(),this.getExamResult()})),this.backToLink=`/de-thi/${this.hashId}`,this.returnLink=`/test/submit-test/${this.tenantId}/${this.curCategoryId}/${this.hashId}/${this.resultId}`,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??"",super.ngOnInit(),this.checkMobileScreen=!this.commonService.compareDeviceScreen(768)}constructor(e,n,a,o,r){super(),this.activeRoute=e,this.frontExamResultService=n,this.timeService=a,this.userService=o,this.practiceService=r,this.backToLink="",this.paramBackToLink="",this.returnLink="",this.hashId="",this.curCategoryId=0,this.resultId=0,this.tenantId=0,this.examConfigObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.timeTested="",this.toggleAllView=!1,this.checkMobileScreen=!1,this.suggestPractice=[]}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(S.CA),t.Y36(D.D),t.Y36(E.U),t.Y36(it.ik))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-test"]],features:[t.qOj],decls:5,vars:6,consts:[[3,"headerTitle","headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","mt-8"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-8",3,"ngStyle"],[1,"box","mx-auto","mt-5",3,"ngStyle"],["Normal",""],[1,"col-span-12","md:col-span-4"],["class","mt-5 mx-auto",4,"ngIf"],[1,"alert","alert-danger"],[2,"text-align","center","padding-top","30px"],[1,"text-lg","font-bold"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"text-md","font-medium","text-center","mt-3","px-5"],[1,"azt-info-exam","mt-5","px-5"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-3"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-slate-500"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"text-md","text-slate-500","font-medium","ml-auto"],[1,"p-5"],["testingFlow",""],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[4,"ngIf"],["class","font-medium text-lg text-danger",4,"ngIf"],[1,"font-medium","text-md","mr-2"],["class","font-medium text-lg","style","font-size: 25px",4,"ngIf"],[1,"font-medium","text-lg",2,"font-size","25px"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-lg",4,"ngIf"],[1,"font-medium","text-lg"],[1,"font-medium","text-lg","text-danger"],[1,"flex","items-center"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"text-md","font-medium","text-danger","ml-auto"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-6"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-pending","w-full",3,"click"],[1,"w-4","h-4","ml-2"],["name","clipboard-edit"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-primary","w-full",3,"click"],["name","chevron-right"],["azt-track-service","submit-test-ikX9fXn-mw","class","btn btn-outline-primary w-full",3,"click",4,"ngIf"],["class","btn btn-outline-primary w-full",3,"disabled",4,"ngIf"],[1,"btn","btn-outline-primary","w-full",3,"disabled"],[1,"mt-5","mx-auto"],[1,"text-xl","font-medium"],[1,"mt-3","list-suggest"],[4,"ngFor","ngForOf"],["azt-track-service","submit-test-ceGruInrA_","class","btn btn-outline-secondary btn-transparent mt-2",3,"click",4,"ngIf"],["notShowAll",""],["azt-track-service","submit-test-YaIXhNk5Sx",3,"routerLink","queryParams"],[3,"data","index"],["azt-track-service","submit-test-IYEEeNZGfz",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","submit-test-IYEEeNZGfz",3,"routerLink","queryParams"],["azt-track-service","submit-test-ceGruInrA_",1,"btn","btn-outline-secondary","btn-transparent","mt-2",3,"click"],[1,"mr-2"],[1,"w-4","h-4"],["name","chevron-down"]],template:function(n,a){if(1&n&&(t.TgZ(0,"student-layout",0),t.ALo(1,"mytranslate"),t.YNc(2,Gr,1,0,"azt-loading-effect",1),t.YNc(3,y_,9,9,"ng-template",null,2,t.W1O),t.qZA()),2&n){const o=t.MAs(4);t.Q6J("headerTitle",t.lcZ(1,4,"lang_auto_nop_bai"))("headerBackToLink",a.backToLink),t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[T.rH,d.sg,d.O5,d.PC,j.l,Ut,N.L,Q.Nh5,p.Jy,p.JV,p.GU,p.iP,p.J_],encapsulation:2})}return i})();var A_=m(65592),Xt=m(96286),te=m(61419);let ee=(()=>{class i{constructor(e){this.commonService=e,this.hashExtractTemplate=this.commonService.castJsonToObj(this.commonService.getContentHashConfigSystem())??[]}encode(e){const n=JSON.stringify(e),a=new TextEncoder;let o=Math.floor(10*Math.random());const r=a.encode(n);for(let c=0;c<r.length;c++)r[c]=this.hashExtractTemplate[o][r[c]];let _=new Uint8Array(r.length+1);return _.set(r),_[_.length-1]=o,btoa(String.fromCharCode(..._))}decode(e){const n=atob(e).split(""),a=n.pop(),o=new Uint8Array(n.map(c=>c.charCodeAt(0))),r=a?.charCodeAt(0)??0;for(let c=0;c<o.length;c++){const u=this.hashExtractTemplate[r].indexOf(o[c]);o[c]=u}const l=new TextDecoder("utf-8").decode(o);return this.commonService.castJsonToObj(l)}result(e){const n=e;return 1===e.success&&e.data&&e.data.content&&(n.data=this.decode(e.data.content)),n}payload(e){return{content:this.encode(e),typeHash:Math.floor(256*Math.random()),keyHash:"U5gleH2CsWW"}}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(Z.z))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var I_=m(21857),ne=m(47929);const Z_=["myDialogMonitor"];function j_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeOutsideDialog(a))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"polygon",8)(8,"line",9)(9,"line",10),t.qZA(),t.kcU(),t.TgZ(10,"p",11),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()(),t.TgZ(17,"div",12)(18,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmQuit())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()}2&i&&(t.xp6(11),t.xDo("",t.lcZ(12,6,"lang_auto_day_la_bai_thi_duoc"),' "',t.lcZ(13,8,"lang_auto_giam_sat"),'"',t.lcZ(14,10,"lang_auto__vui_long_bam"),' "',t.lcZ(15,12,"lang_auto_xac_nhan"),'" ',t.lcZ(16,14,"lang_auto_de_tiep_tuc_bai_thi"),""),t.xp6(8),t.hij(" ",t.lcZ(20,16,"lang_auto_xac_nhan")," "))}let ie=(()=>{class i extends b.Q{closeOutsideDialog(e){this.myDialog?.nativeElement.contains(e.target)||this.closeDialog.emit(!0)}confirmQuit(){this.closeDialog.emit(!0)}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e,this.data={isShow:!1},this.closeDialog=new t.vpe}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(Z.z))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-monitor-screen"]],viewQuery:function(n,a){if(1&n&&t.Gf(Z_,5),2&n){let o;t.iGM(o=t.CRH())&&(a.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["azt-track-service","monitoring-dialog-Gmybr5iwJs","class","school-info_bg",3,"click",4,"ngIf"],["azt-track-service","monitoring-dialog-Gmybr5iwJs",1,"school-info_bg",3,"click"],[1,"school-info","box",2,"max-width","400px"],["myDialogMonitor",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mb-0","h5"],[1,"p-3","text-right","items-center"],["azt-track-service","monitoring-dialog-dvRk43CCy8",1,"btn","w-24","btn-primary",3,"click"]],template:function(n,a){1&n&&t.YNc(0,j_,21,18,"div",0),2&n&&t.Q6J("ngIf",a.data.isShow)},dependencies:[d.O5,p.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]})}return i})();const M_=["modalSaveImageUpload"],q_=["listQuestionBar"];function Q_(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function L_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-info",6),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeShowInfo(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.showFormInfo)}}function E_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-monitor-screen",6),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeAutoMonitor(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataMonitorAuto)}}function P_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-check-essay",7),t.NdJ("closeEssayDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeEssayDialog(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataEssayPopup)}}function F_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-upload-image",12),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.conFirmUpload(a))})("addFileMobile",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.addFileMobileUpload(a))})("isOnSelectFile",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onSelectFileEmit(a))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function z_(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"azt-loading-effect",14),t.ALo(2,"mytranslate"),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("customText",t.lcZ(2,1,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function U_(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"p",26)(1,"mat-icon",59),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&i){const e=t.oxw(6);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,null==e.exam_obj?null:e.exam_obj.startTime)," - ",t.lcZ(6,7,null==e.exam_obj?null:e.exam_obj.endTime),"")}}function N_(i,s){if(1&i&&(t.TgZ(0,"div",60),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",61),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",61),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",61),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&i){const e=t.oxw(6);let n,a,o;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function J_(i,s){1&i&&(t.TgZ(0,"div",62)(1,"mat-icon",59),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function D_(i,s){1&i&&(t.TgZ(0,"div",62)(1,"mat-icon",59),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function R_(i,s){if(1&i&&t._UZ(0,"azt-question-standalone-for-student-at-full-test",66),2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(6);t.Q6J("startQuestionIndex",o.exam_obj.startQuestionIndex)("expandInfo",o.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("isMobile",o.isMobile)("examObj",o.exam_obj)("question",n)("fontSize",o.fontSize)("index",a)("overTime",!0)("questionListLength",o.questionList.length)}}function Y_(i,s){if(1&i&&(t.TgZ(0,"div",63)(1,"div",64),t.YNc(2,R_,1,12,"azt-question-standalone-for-student-at-full-test",65),t.qZA()()),2&i){const e=t.oxw(6);t.xp6(2),t.Q6J("ngIf",e.exam_obj)}}function H_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",70)(1,"div",47)(2,"button",71),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(7);return t.KtG(a.openUploadImage())}),t.O4$(),t.TgZ(3,"svg",49),t._UZ(4,"path",50)(5,"path",51)(6,"path",52),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",72),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(7);t.xp6(7),t.hij(" ",e.files.length>0?t.lcZ(8,2,"lang_auto_nop_them"):t.lcZ(9,4,"lang_auto_nop_tu_luan")," "),t.xp6(4),t.Oqu(t.lcZ(12,6,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function B_(i,s){1&i&&(t.TgZ(0,"div",73),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.lnq("",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong"),""))}function G_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tab",53),t.ALo(1,"mytranslate"),t.YNc(2,H_,13,8,"div",67),t.YNc(3,B_,5,9,"div",68),t.TgZ(4,"app-upload-ui",69),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.removeImg(a))}),t.qZA()()}if(2&i){const e=t.oxw(6);t.s9C("label",t.lcZ(1,4,"lang_auto_tu_luan")+" ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(2),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function K_(i,s){if(1&i){const e=t.EpF();t.ynx(0,21),t.TgZ(1,"div",22)(2,"div",23)(3,"h3",24),t._uU(4),t.qZA(),t.TgZ(5,"p",25),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",26)(9,"div",27),t.O4$(),t.TgZ(10,"svg",28),t._UZ(11,"line",29)(12,"line",30)(13,"circle",31),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",32),t.O4$(),t.TgZ(18,"svg",33),t._UZ(19,"circle",34)(20,"path",35)(21,"line",36),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,U_,7,9,"p",37),t.kcU(),t.TgZ(25,"p",38),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,N_,13,9,"div",39),t.qZA(),t.YNc(31,J_,7,9,"div",40),t.YNc(32,D_,7,9,"div",40),t.TgZ(33,"div",41)(34,"div",42)(35,"button",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeBackBtn())}),t.O4$(),t.TgZ(36,"svg",44),t._UZ(37,"path",45)(38,"line",46),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"div",47)(42,"button",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeSubmitBtn())}),t.O4$(),t.TgZ(43,"svg",49),t._UZ(44,"path",50)(45,"path",51)(46,"path",52),t.qZA(),t._uU(47),t.ALo(48,"mytranslate"),t.ALo(49,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(50,"mat-tab-group")(51,"mat-tab",53),t.ALo(52,"mytranslate"),t.YNc(53,Y_,3,1,"div",54),t.qZA(),t.YNc(54,G_,5,6,"mat-tab",55),t.qZA(),t.TgZ(55,"div",56)(56,"div",42)(57,"button",57),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeBackBtn())}),t.O4$(),t.TgZ(58,"svg",44),t._UZ(59,"path",45)(60,"line",46),t.qZA(),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(63,"div",47)(64,"button",58),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeSubmitBtn())}),t.O4$(),t.TgZ(65,"svg",49),t._UZ(66,"path",50)(67,"path",51)(68,"path",52),t.qZA(),t._uU(69),t.ALo(70,"mytranslate"),t.ALo(71,"mytranslate"),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(5);t.xp6(4),t.Oqu(null==e.exam_obj?null:e.exam_obj.name),t.xp6(2),t.AsE("",t.lcZ(7,23,"lang_auto_ma_de"),": ",null==e.exam_obj?null:e.exam_obj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,25,"lang_auto_thoi_gian"),": ",null==e.exam_obj?null:e.exam_obj.minutes," ",t.lcZ(16,27,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,29,"lang_auto_so_cau"),": ",e.countQuestion," "),t.xp6(2),t.Q6J("ngIf",(null==e.exam_obj?null:e.exam_obj.startTime)&&(null==e.exam_obj?null:e.exam_obj.endTime)),t.xp6(2),t.HOy("",t.lcZ(27,31,"lang_auto_thi_sinh"),": ",null==e.userObj?null:e.userObj.fullName," ",t.lcZ(28,33,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,35,null==e.testingResultObj?null:e.testingResultObj.startedTest),""),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(7),t.hij(" ",t.lcZ(40,37,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(48,39,"lang_auto_nop_muon"):t.lcZ(49,41,"lang_powerpoint_frontend_detail_submit")," "),t.xp6(4),t.s9C("label",t.lcZ(52,43,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(62,45,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(70,47,"lang_auto_nop_muon"):t.lcZ(71,49,"lang_powerpoint_frontend_detail_submit")," ")}}function V_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-exit-exam",76),t.NdJ("closeDialog",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.closeQuitDialog())})("redirectToHomepage",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.redirectToHomepage(a))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.quitTestData)}}function $_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-confirm-exam",76),t.NdJ("closeDialog",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.closeSubmitDialog())})("redirectToHomepage",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.confirmSubmit(a))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.submitData)}}function W_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",83)(1,"button",84),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.openQuitDialog())}),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"path",45)(4,"line",46),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&i&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_thoat")," "))}function X_(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",83)(1,"button",85),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.redirectToHomepage(!1))}),t.O4$(),t.TgZ(2,"svg",86),t._UZ(3,"polyline",87),t.qZA(),t.kcU(),t.TgZ(4,"span",88),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_quay_lai")))}function tl(i,s){if(1&i&&(t.TgZ(0,"span",91),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName," ")}}function el(i,s){if(1&i&&(t.TgZ(0,"div",89),t.YNc(1,tl,3,4,"span",90),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("ngIf",e.userObj&&!e.isEmpty(e.userObj))}}const nl=function(i){return{"time-almost-end":i}};function il(i,s){if(1&i&&(t.TgZ(0,"div",92)(1,"div",32),t.O4$(),t.TgZ(2,"svg",93),t._UZ(3,"circle",34)(4,"polyline",94),t.qZA(),t.kcU(),t.TgZ(5,"span",95)(6,"span",61),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",61),t._uU(10),t.qZA(),t._uU(11," : "),t.TgZ(12,"span",61),t._uU(13),t.qZA()()()()),2&i){const e=t.oxw(8);let n,a,o;t.xp6(5),t.Q6J("ngClass",t.VKq(4,nl,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function al(i,s){1&i&&(t.TgZ(0,"div",92)(1,"div",32),t.O4$(),t.TgZ(2,"svg",93),t._UZ(3,"circle",34)(4,"polyline",94),t.qZA(),t.kcU(),t.TgZ(5,"span",96),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_khong_gioi_han")," "))}function ol(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",109),t._UZ(2,"line",110)(3,"line",111)(4,"line",112)(5,"line",113)(6,"line",114)(7,"line",115),t.qZA()())}function sl(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",116),t._UZ(2,"path",117)(3,"path",118)(4,"path",119),t.qZA()())}function rl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",122),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goBackFullScreen())}),t.O4$(),t.TgZ(1,"svg",49),t._UZ(2,"path",123)(3,"path",124)(4,"path",125)(5,"path",126),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()}2&i&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_toan_man_hinh")," "))}function _l(i,s){if(1&i&&(t.TgZ(0,"div",120),t.YNc(1,rl,8,3,"button",121),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function ll(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",120)(1,"button",127),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.openUploadImage())}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"path",128),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}function cl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",97)(1,"button",98),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.zoomOut())}),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t.O4$(),t.TgZ(4,"svg",99),t._UZ(5,"circle",100)(6,"line",101)(7,"line",102),t.qZA()()(),t.kcU(),t.TgZ(8,"button",103),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.zoomIn())}),t.ALo(9,"mytranslate"),t.TgZ(10,"span"),t.O4$(),t.TgZ(11,"svg",104),t._UZ(12,"circle",100)(13,"line",101)(14,"line",105)(15,"line",102),t.qZA()()()(),t.kcU(),t.TgZ(16,"div",97)(17,"button",106),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.changeShowType())}),t.ALo(18,"mytranslate"),t.YNc(19,ol,8,0,"span",75),t.YNc(20,sl,5,0,"span",75),t.qZA()(),t.YNc(21,_l,2,1,"div",107),t.YNc(22,ll,6,3,"div",107),t.TgZ(23,"div",47)(24,"button",108),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.openSubmitExam(!0,!1))}),t.O4$(),t.TgZ(25,"svg",49),t._UZ(26,"path",50)(27,"path",51)(28,"path",52),t.qZA(),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("disabled",e.fontSize<=1)("matTooltip",t.lcZ(2,10,"lang_take_test_zoom_out")),t.xp6(7),t.Q6J("disabled",e.fontSize>=2)("matTooltip",t.lcZ(9,12,"lang_take_test_zoom_in")),t.xp6(9),t.Q6J("matTooltip",t.lcZ(18,14,e.showList?"lang_auto_show_unit":"lang_auto_show_list")),t.xp6(2),t.Q6J("ngIf",!e.showList),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.hasMonitorScreen),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(30,16,"lang_auto_nop_bai")," ")}}const ml=function(i,s){return{hidden:i,top_toolBar:s}};function ul(i,s){if(1&i&&(t.TgZ(0,"div",79),t.YNc(1,W_,7,3,"div",80),t.YNc(2,X_,7,3,"div",80),t.YNc(3,el,2,1,"div",81),t.YNc(4,il,14,6,"div",82),t.YNc(5,al,8,3,"div",82),t.YNc(6,cl,31,18,"ng-template",78),t.qZA()),2&i){const e=t.oxw(7);t.Q6J("ngClass",t.WLB(7,ml,e.isMobile&&!e.chooseChildData.isShow,e.checkScroll())),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function dl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-select-classes",129),t.NdJ("selectClassroom",function(a){t.CHM(e);const o=t.oxw(8);return t.KtG(o.closeChooseStudent(a))}),t.qZA()}if(2&i){const e=t.oxw(8);t.Q6J("dataClass",e.chooseChildData.classroomObjs)("isSearchTeacher",!1)("isMobile",e.isMobile)}}function gl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-select-student-to-join-classroom",130),t.NdJ("selectChild",function(a){t.CHM(e);const o=t.oxw(8);return t.KtG(o.closeChooseStudent(a))})("approvedByName",function(a){t.CHM(e);const o=t.oxw(8);return t.KtG(o.approvedByName(a))})("backToClass",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.backToClassList())}),t.qZA()}if(2&i){const e=t.oxw(8);t.Q6J("data",e.chooseChildData)("hasBackToLink",!0)}}function pl(i,s){if(1&i&&(t.YNc(0,dl,1,3,"ng-template",78),t.YNc(1,gl,1,2,"ng-template",78)),2&i){const e=t.oxw(7);t.Q6J("ngIf",e.selectClassroom),t.xp6(1),t.Q6J("ngIf",e.selectStudent)}}function hl(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(3,4,null==e.exam_obj?null:e.exam_obj.startTime)," ")}}function fl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",137),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.goToBuyExam())}),t.TgZ(1,"span",138),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon",139),t._uU(5,"shopping_cart"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_di_mua")))}const xl=function(i){return[i]};function bl(i,s){if(1&i&&(t.TgZ(0,"div",132)(1,"div",133),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,hl,4,6,"span",75),t.YNc(5,fl,6,3,"span",134),t.qZA(),t.TgZ(6,"div",135)(7,"a",136),t.ALo(8,"localize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw(8);t.xp6(2),t.hij(" ",t.lcZ(3,5,e.hasErrorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_doest_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(11,xl,t.lcZ(8,7,e.homeLink))),t.xp6(2),t.hij(" ",t.lcZ(10,9,"lang_auto_quay_lai_trang_chu")," ")}}function vl(i,s){if(1&i&&(t.TgZ(0,"div",146),t._UZ(1,"div",147),t.ALo(2,"safeAdminHtmlContent"),t.qZA()),2&i){const e=t.oxw(10);t.xp6(1),t.Q6J("innerHtml",t.lcZ(2,1,e.examConfigObj.header),t.oJD)}}function wl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"azt-question-standalone-for-student-at-full-test",151),t.NdJ("autoResizeEssayAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.autoResizeEssayAnswer(a))})("setAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setAnswerTrueFalse(a))})("setAnswerEssayEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setAnswerEssay(a))})("setResultTracking",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setResultTracking(a))})("openSubmitExamEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.openSubmitExam(a))})("nextQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.nextQuestion(a))})("prevQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.prevQuestion(a))})("sendAudioEmit",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.sendAudioForQuestion(a))}),t.qZA()}if(2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=e.last,r=t.oxw(10);t.Q6J("startQuestionIndex",r.exam_obj.startQuestionIndex)("expandInfo",r.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",r.followerRenderQuest)("showList",r.showList)("isMobile",r.isMobile)("examObj",r.exam_obj)("question",n)("index",a)("last",o)("countQuestion",r.countQuestion)("overTime",!1)("fontSize",r.fontSize)("questionListLength",r.questionList.length)}}function Tl(i,s){if(1&i&&(t.TgZ(0,"div",148)(1,"div",149),t.YNc(2,wl,1,15,"azt-question-standalone-for-student-at-full-test",150),t.qZA()()),2&i){const e=s.index,n=t.oxw(10);t.xp6(1),t.s9C("id","question_"+e),t.Q6J("hidden",e!=n.curQuestion),t.xp6(1),t.Q6J("ngIf",n.exam_obj)}}const qt=function(i){return{answeredQuestion:i}};function kl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",155)(1,"button",156),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(11);return t.KtG(r.goToQuestion(o))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(11);let o;t.xp6(1),t.Q6J("ngClass",t.VKq(3,qt,e.status)),t.xp6(1),t.AsE(" ",9>n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1?"0":"","",n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1+1," ")}}function Sl(i,s){if(1&i&&(t.TgZ(0,"div",152)(1,"h3",91),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",153),t.YNc(5,kl,3,5,"div",154),t.qZA()()),2&i){const e=t.oxw(10);t.Q6J("hidden",e.isMobile),t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("ngForOf",e.questionList)}}function Cl(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-upload-ui",142),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.removeImg(a))}),t.qZA(),t.YNc(2,vl,3,3,"div",143),t.YNc(3,Tl,3,3,"div",144),t.YNc(4,Sl,6,5,"div",145),t.BQk()}if(2&i){const e=t.oxw(9);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngIf",e.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow)}}function yl(i,s){if(1&i&&t._UZ(0,"azt-loaded-img",162),2&i){const e=t.oxw(10);t.Q6J("imgSrc",null==e.exam_obj?null:e.exam_obj.examHeader)}}function Ol(i,s){if(1&i&&(t.TgZ(0,"div",146),t._UZ(1,"div",147),t.ALo(2,"safeAdminHtmlContent"),t.qZA()),2&i){const e=t.oxw(10);t.xp6(1),t.Q6J("innerHtml",t.lcZ(2,1,e.examConfigObj.header),t.oJD)}}function Al(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"azt-question-standalone-for-student-at-full-test",166),t.NdJ("autoResizeEssayAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.autoResizeEssayAnswer(a))})("setAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setAnswerTrueFalse(a))})("setAnswerEssayEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setAnswerEssay(a))})("setResultTracking",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setResultTracking(a))})("openSubmitExamEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.openSubmitExam(a))})("nextQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.nextQuestion(a))})("prevQuestionEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.prevQuestion(a))})("sendAudioEmit",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.sendAudioForQuestion(a))}),t.qZA()}if(2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(10);t.Q6J("startQuestionIndex",o.exam_obj.startQuestionIndex)("expandInfo",o.exam_obj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("showList",o.showList)("isMobile",o.isMobile)("examObj",o.exam_obj)("countQuestion",o.countQuestion)("question",n)("fontSize",o.fontSize)("overTime",!1)("index",a)}}function Il(i,s){if(1&i&&(t.TgZ(0,"div",163)(1,"div",164),t.YNc(2,Al,1,13,"azt-question-standalone-for-student-at-full-test",165),t.qZA()()),2&i){const e=s.index,n=t.oxw(10);t.xp6(1),t.s9C("id","question_all_"+e),t.xp6(1),t.Q6J("ngIf",n.exam_obj)}}function Zl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",172)(1,"button",173),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(11);return t.KtG(r.goToQuestionAll(o))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(11);let o;t.xp6(1),t.Q6J("ngClass",t.VKq(3,qt,e.status)),t.xp6(1),t.AsE(" ",9>n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1?"0":"","",n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1+1," ")}}const jl=function(i,s){return{hidden:i,top_gameBar:s}},Ml=function(i){return{"sheet-screen-monitor":i}};function ql(i,s){if(1&i&&(t.TgZ(0,"div",167,168)(2,"div",169)(3,"h3",91),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",170),t.YNc(7,Zl,3,5,"div",171),t.qZA()()()),2&i){const e=t.oxw(10);t.Q6J("ngClass",t.WLB(6,jl,e.isMobile&&!e.chooseChildData.isShow,e.checkScroll())),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(9,Ml,e.hasVideoMonitor)),t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function Ql(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",157)(2,"div",158)(3,"app-upload-ui",142),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.removeImg(a))}),t.qZA(),t.YNc(4,yl,1,1,"azt-loaded-img",159),t.YNc(5,Ol,3,3,"div",143),t.YNc(6,Il,3,2,"div",160),t.qZA(),t.YNc(7,ql,8,11,"div",161),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(9);t.xp6(3),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngIf",null==e.exam_obj?null:e.exam_obj.examHeader),t.xp6(1),t.Q6J("ngIf",e.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function Ll(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",201),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openUploadImage())}),t.TgZ(1,"span",202),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_dinh_kem_tu_luan")))}function El(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",172)(1,"button",203),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(10);return t.KtG(r.showList?r.goToQuestionAll(o):r.goToQuestion(o))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(10);let o;t.xp6(1),t.Q6J("ngClass",t.VKq(3,qt,e.status)),t.xp6(1),t.AsE(" ",9>n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1?"0":"","",n+(null!==(o=null==a.exam_obj?null:a.exam_obj.startQuestionIndex)&&void 0!==o?o:1)-1+1," ")}}function Pl(i,s){if(1&i&&(t.TgZ(0,"span",194),t._uU(1),t.qZA()),2&i){const e=t.oxw(10);t.xp6(1),t.Oqu(e.userObj.fullName)}}const Fl=function(i){return{"time-almost-end-mobile":i}};function zl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",204),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.showSheet(!1))}),t.TgZ(1,"mat-icon",205),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",61),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",61),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",61),t._uU(10),t.qZA()()}if(2&i){const e=t.oxw(10);let n,a,o;t.Q6J("ngClass",t.VKq(4,Fl,e.timeCount.almostEnd)),t.xp6(4),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Ul(i,s){1&i&&(t.TgZ(0,"div",206)(1,"mat-icon",207),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",208),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_khong_gioi_han")," "))}const Nl=function(i){return{hidden:i}};function Jl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",174)(2,"div",175)(3,"div",176)(4,"a",177),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.openQuitDialog())}),t.O4$(),t.TgZ(5,"svg",178),t._UZ(6,"path",45)(7,"line",46),t.qZA()()(),t.kcU(),t.TgZ(8,"div",179),t.YNc(9,Ll,4,3,"a",180),t.qZA(),t.TgZ(10,"div",181)(11,"a",182),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.openSubmitExam(!0,!1))}),t.TgZ(12,"span",183),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(15,"svg",178),t._UZ(16,"polyline",184),t.qZA()()()()(),t.kcU(),t.TgZ(17,"div",185)(18,"div",186)(19,"div",187)(20,"div",188)(21,"div",189)(22,"div",190),t.YNc(23,El,3,5,"div",171),t.qZA()()()()(),t.TgZ(24,"div",191)(25,"div",192)(26,"p",193),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.showSheet(!0,1))}),t.ALo(27,"mytranslate"),t.TgZ(28,"mat-icon",194),t._uU(29,"format_list_bulleted"),t.qZA()(),t.TgZ(30,"p",195),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.showSheet(!0,2))}),t.ALo(31,"mytranslate"),t.TgZ(32,"mat-icon",194),t._uU(33,"view_compact"),t.qZA()()(),t.TgZ(34,"div",196),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.showSheet(!1))}),t.TgZ(35,"p",197),t.YNc(36,Pl,2,1,"span",198),t.qZA()(),t.YNc(37,zl,11,6,"div",199),t.YNc(38,Ul,6,3,"div",200),t.qZA()()()}if(2&i){const e=t.oxw(9);t.xp6(9),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(4),t.Oqu(t.lcZ(14,9,"lang_auto_nop_bai")),t.xp6(5),t.Q6J("ngClass",t.VKq(15,Nl,!e.isShowSheet)),t.xp6(5),t.Q6J("ngForOf",e.questionList),t.xp6(3),t.s9C("matTooltip",t.lcZ(27,11,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(31,13,"lang_auto_xem_tung_cau_don")),t.xp6(6),t.Q6J("ngIf",e.userObj&&!e.isEmpty(e.userObj)),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}const Dl=function(i,s){return{"monitor-screen":i,"monitor-screen-mobile":s}};function Rl(i,s){if(1&i&&(t.TgZ(0,"div",132),t._UZ(1,"div",140,141),t.YNc(3,Cl,5,7,"ng-container",75),t.YNc(4,Ql,8,8,"ng-container",75),t.YNc(5,Jl,39,17,"div",75),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("ngClass",t.WLB(4,Dl,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function Yl(i,s){if(1&i&&(t.YNc(0,bl,11,13,"div",131),t.YNc(1,Rl,6,7,"div",131)),2&i){const e=t.oxw(7);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function Hl(i,s){if(1&i&&(t.ynx(0),t.YNc(1,ul,7,10,"div",77),t.YNc(2,pl,2,2,"ng-template",78),t.YNc(3,Yl,2,2,"ng-template",78),t.BQk()),2&i){const e=t.oxw(6);t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function Bl(i,s){if(1&i&&(t.YNc(0,V_,1,1,"app-exit-exam",74),t.YNc(1,$_,1,1,"app-confirm-exam",74),t.YNc(2,Hl,4,3,"ng-container",75)),2&i){const e=t.oxw(5);t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow&&!e.showFormInfo.isShow)}}const Gl=function(i,s,e){return{"time-client-pc":i,"time-client-mobile":s,"time-client-notValid":e}};function Kl(i,s){if(1&i&&(t.ynx(0),t.YNc(1,K_,72,51,"ng-container",16),t.YNc(2,Bl,3,3,"ng-template",null,17,t.W1O),t.TgZ(4,"div",18)(5,"p",19)(6,"span",20),t.ALo(7,"mytranslate"),t._uU(8),t.ALo(9,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()(),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!n.validForTakeTest)("ngIfElse",e),t.xp6(3),t.Q6J("ngClass",t.kEZ(9,Gl,!n.isMobile&&n.validForTakeTest,n.isMobile&&n.validForTakeTest,!n.validForTakeTest)),t.xp6(2),t.s9C("matTooltip",t.lcZ(7,5,"lang_auto_day_la_thoi_gian_hien_tai_tren_thiet_bi_cua_ban")),t.xp6(2),t.Oqu(t.lcZ(9,7,n.timeClient))}}function Vl(i,s){if(1&i&&(t.TgZ(0,"p",218),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function $l(i,s){if(1&i&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,Vl,2,1,"p",217),t.qZA()),2&i){const e=s.$implicit,n=s.index;t.xp6(3),t.AsE("",n+1,". ",e.message,": "),t.xp6(1),t.Q6J("ngForOf",e.data)}}function Wl(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",209)(1,"div",210)(2,"h3",211),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",212),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,$l,5,3,"div",213),t.TgZ(25,"p",214)(26,"button",215),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.endTimeBackBtn())}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",216),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.reloadExam())}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()}if(2&i){const e=t.oxw(4);t.xp6(3),t.Oqu(t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(10,16,"lang_auto_ma_de_thi")+": "),t.xp6(3),t.AsE("",null==e.exam_obj?null:e.exam_obj.hashId," - ",null==e.testingResultObj?null:e.testingResultObj.id,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+e.questsLoadState.loadPercent,"%"),t.xp6(3),t.Oqu(t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": "),t.xp6(3),t.hij("",e.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",e.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," ")}}function Xl(i,s){if(1&i&&(t.YNc(0,Kl,10,13,"ng-container",2),t.YNc(1,Wl,32,28,"ng-template",null,15,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf",!n.questsLoadState.hasErrs)("ngIfElse",e)}}function tc(i,s){if(1&i&&(t.YNc(0,z_,3,3,"ng-container",2),t.YNc(1,Xl,3,2,"ng-template",null,13,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",n.questsLoadState.startLoad)("ngIfElse",e)}}function ec(i,s){if(1&i&&(t._UZ(0,"azt-loading-effect",14),t.ALo(1,"mytranslate")),2&i){const e=t.oxw(2);t.Q6J("customText",t.lcZ(1,1,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.loadMixedExamProgress+"%")}}function nc(i,s){1&i&&(t.TgZ(0,"div",219)(1,"mat-icon",59),t._uU(2,"error"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_loi_khi_tai_du_lieu_de_thi_hay_thu_lai_bang_cach_tai_lai_trang_web"),""))}function ic(i,s){if(1&i&&(t.YNc(0,F_,1,2,"app-upload-image",8),t.YNc(1,tc,3,2,"ng-template",null,9,t.W1O),t.YNc(3,ec,2,3,"azt-loading-effect",10),t.YNc(4,nc,5,3,"div",11)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",n.isMixedService2&&!n.doneLoadMixedExamAssets&&!n.errorLoadMixedAssets)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",n.errorLoadMixedAssets)}}function ac(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-name",6),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeSubmitName(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.submitNameData)}}let oc=(()=>{class i extends b.Q{get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}changeSizeImgOrMathJax(e){let n=document.getElementsByClassName("img-docx"),a=document.getElementsByClassName("MJX-TEX");n.length&&Array.from(n).forEach(o=>{if(o instanceof HTMLElement){let r=o.offsetWidth;o.style.width=e?r+10+"px":r-10+"px",o.style.height="auto"}}),a.length&&Array.from(a).forEach(o=>{o instanceof HTMLElement&&(o.style.fontSize=this.fontSize+"em")})}zoomIn(){this.fontSize<2&&(this.fontSize+=.1,this.changeSizeImgOrMathJax(!0))}zoomOut(){this.fontSize>1&&(this.fontSize-=.1,this.changeSizeImgOrMathJax(!1))}getData(){var e=this.browserStorageService.getSimpleStorage("password_"+this.hashId),n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.subscriptions.add(J.N.production||J.N.isProdAzotaVn?this.frontExamService.apiFrontExamInitDataGet(this.hashId,this.password,n||""!=this.tempStorageInfo?1:0,this.deviceId,0).subscribe(o=>{const r=this.encryptionHelper.result(o);this.processInitData(r)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,this.password,n||""!=this.tempStorageInfo?1:0,this.deviceId,0).subscribe(o=>{this.processInitData(o)}))}processInitData(e){e&&e.data&&(this.homeworkExamService.allowAnonymousUser(e.data.examObj)?"lang_core_exam_password_invalid"==e.data?.errorMessage?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(e):this.userService.isAnonymousRoleOfCurrentUser()?(this.hasErrorMessage="lang_auto_yeu_cau_dang_nhap_de_vao_thi",this.stopStatusObj(),this.openSubmitName(!0)):"lang_core_exam_password_invalid"==e.data?.errorMessage?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(e))}processData(e){if(1==e.success&&e.data)if(this.exam_obj=e.data?.examObj,this.examConfigObj=e.data.examConfigObj??{},this.termExamResultId=e.data?.testingExamResultObj&&e.data?.testingExamResultObj.id?e.data?.testingExamResultObj.id:0,this.testingResultObj=e.data?.testingExamResultObj,this.userObj=e.data?.studentObj,this.commonService.translateMetaData({title:e.data?.examObj?.name?e.data.examObj.name:"",description:e.data?.examObj?.name?e.data.examObj.name:""}),this.dataProcess=e.data,this.userService.isAnonymousRoleOfCurrentUser())if(this.homeworkExamService.allowAnonymousUser(this.dataProcess?.examObj)){var n=this.userService.getUserObj();this.userService.isAnonymousName(n)?(this.stopStatusObj(),1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo&&(a=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a,!0),this.hasErrorMessage="lang_cms_test_must_submit_info"):this.openSubmitName(!1)):1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(a=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.getDataSync().subscribe(l=>{this.fillData(e)})}else 1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(a=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.getDataSync().subscribe(l=>{this.fillData(e)});else if(this.homeworkExamService.mustInClassroom(this.dataProcess?.examObj))if(this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(this.dataProcess?.studentObj??{})){var o=this.dataProcess.studentObj;1==o?.isVerified?1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(a=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.getDataSync().subscribe(l=>{this.fillData(e)}):(this.stopStatusObj(),this.openChooseStudent({student:o??null,chooseStudentData:null,responseFrontExam:null},3))}else if(this.dataProcess.hasOwnProperty("classroomObj")&&this.isEmpty(this.dataProcess?.classroomObj??{}))this.stopStatusObj(),this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1);else{this.stopStatusObj();var r=[];this.dataProcess.studentObjs&&this.dataProcess.studentObjs.length>0&&(r=this.dataProcess.studentObjs.filter(l=>l.classroomId==(this.dataProcess?.classroomObj?.id??0))),this.openChooseStudent({chooseStudentData:{studentObjs:r,classroomObj:this.dataProcess.classroomObj,onlyOneClass:!0},student:null,responseFrontExam:null},2)}else if(1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo){var a;(a=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData())}else this.getDataSync().subscribe(l=>{this.fillData(e)});else this.showErrorSnack(e.message??"")}changeQuestionContent(e){for(var n=[],a=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("limitAudioV5_"+this.exam_obj?.id+"_"+this.testingResultObj?.id)??""),o=0;o<e.length;o++){let _=e[o];if(_){if(this.answerTypeService.isEssayAnswer(e[o])&&(_.essayText=""),this.answerTypeService.isFillAnswer(e[o])&&(_.essayText=""),(this.exam_obj?.limitAudio??-1)>0)if(a){var r=a.filter(l=>l.questionId==e[o].id);r&&r.length>0&&(_.limitAudio=r[0].limitTimes+r[0].limitPlay,_.limitPlay=0)}else _.attachments&&_.attachments.length>0&&(_.limitAudio=0,_.limitPlay=0);_={..._,index:o,status:!1},n.push(_)}}return(this.exam_obj?.limitAudio??-1)>0?this.addAudioObjsToQuestion(n):n}addAudioObjsToQuestion(e){var n=[];return e.forEach(a=>{if(a.attachments&&a.attachments.length>0){a.audioLimitObjs=[];let r=(this.exam_obj?.limitAudio??0)-(a.limitAudio??0);if(r>0)for(var o=0;o<r;o++)a.audioLimitObjs.push({index:o,status:!0})}n.push(a)}),n}sendAudioForQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e.obj?.id&&(1==e.play?this.questionList[n].limitPlay=(this.questionList[n].limitPlay??0)+1:(this.questionList[n].limitPlay=(this.questionList[n].limitPlay??0)-1,this.questionList[n].limitAudio=(this.questionList[n].limitAudio??0)+1,this.questionList[n].audioLimitObjs?.forEach(a=>{a.index==e.index&&(a.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e=[];this.questionList.forEach(n=>{n.attachments&&n.attachments.length>0&&e.push({questionId:n.id,limitTimes:n.limitAudio,limitPlay:n.limitPlay})}),e.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV5_"+this.exam_obj?.id+"_"+this.testingResultObj?.id,JSON.stringify(e)))}compareContent(e,n){return e.key==n.content}compareContentPDF(e,n){return e.content==n.content}getDataSync(){return new A_.y(e=>{this.testLogExamResultAnswerService.listExamResultAnswers(this.termExamResultId).subscribe(n=>{if(n.success){let o=this.encryptionHelper.result({version:n.version??"",code:n.code??0,success:n.success??0,data:{content:n.data?.content??"",typeHash:0,keyHash:""},detailMessage:"",message:n.message??""});this.syncData=o?.data??{answers:[],files:"",infors:"",updated_at:"",resultTrack:""},this.resultTracks=o?.data?.resultTrack?this.commonService.myParseJson(this.zipDataService.decodeContentGzip(o.data.resultTrack))??[]:[],this.syncData.updated_at=n?.data?.updated_at??"",e.next(!0),e.complete()}else e.next(!1),e.complete()})})}fillData(e){this.checkResultTracking(),this.userObj=this.homeworkExamService.mustInClassroom(this.exam_obj)?e.data?.studentObj??this.userService.getUserObj():this.userService.getUserObj(),this.totalTime=e.data?.countDownSecond??0,this.startTestTime=e.data?.startServerSecond??0;var n=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+this.exam_obj?.id+"_"+this.testingResultObj?.id)??"");let o=this.encryptionHelper.result({success:1,version:"",code:1,detailMessage:"",message:"",data:n})?.data;if(this.hashIdUpdate=e.data?.hashCodeUpload??"",this.sendHashIdUpdate(this.hashIdUpdate),e.data?.errorMessage)this.hasErrorMessage=e.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.stopStatusObj();else{this.hasErrorMessage="",(e.data?.examObj?.minutes??-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((e.data?.countDownSecond??1)<=0&&!this.unLimitTime);let r=this.commonService.castJsonToClassObjs(at.v,JSON.stringify(e.data?.questionObjs)),_=this.changeQuestionContent(r??[]);this.syncData&&this.syncData.updated_at?null==o?(this.answerList=this.syncData.answers??new Array,this.files=this.commonService.myParseJson(this.syncData.files??"")??[],_=this.reBindDataQuestion(_,this.answerList)):new Date(this.syncData.updated_at).getTime()<o.saveTime?(this.answerList=o.answers??new Array,this.files=this.commonService.myParseJson(o.files)??[],_=this.reBindDataQuestion(_,this.answerList)):(this.answerList=this.syncData.answers??new Array,this.files=this.commonService.myParseJson(this.syncData.files)??[],_=this.reBindDataQuestion(_,this.answerList)):o&&(this.answerList=o.answers??new Array,this.files=this.commonService.myParseJson(o.files)??[],_=this.reBindDataQuestion(_,this.answerList)),this.followerRenderQuest.setNumQuest(_.length),this.stopStatusObj(),this.questsLoadState.startLoad=!0,this.questionRenderService.parseRenderQuestions(_,l=>{this.questsLoadState.loadPercent=Math.floor(l)}).then(l=>{this.questionList=l,this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.listEssayQuestionIds=this.foundEssayQuestions(),this.countEssayQuestion=this.listEssayQuestionIds.length,this.hasEssayQuestion=!!this.countEssayQuestion,this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer(),this.setTimeAutoSync()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.getQuestionCanFeedback(),this.setTimeClient()}).catch(l=>{this.showErrorSnack(e.message),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=l,this.stopStatusObj()})}}getQuestionCanFeedback(){if(Array.isArray(this.questionList)){let e=[];this.questionList.forEach(n=>{n.id&&!this.commonService.isExistInArray(e,n.id)&&e.push(n.id)}),this.subscriptions.add(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(this.exam_obj?.id,e.join(",")).subscribe(n=>{if(1==n.success){let a=n.data?.objs??[];if(Array.isArray(this.questionList))for(let o=0;o<this.questionList.length;o++)a.forEach(r=>{this.questionList&&this.questionList[o].id==r.questionId&&(this.questionList[o].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}else this.stopStatusObj()}reloadExam(){location.reload()}takeAnswerForQuestion(e,n){n.forEach(a=>{e.forEach(o=>{if(o.questionId==a.id)if(this.answerTypeService.isFillAnswer(a)||this.answerTypeService.isEssayAnswer(a))a.choseAnswer=o.answerContent[0].content;else if((this.answerTypeService.isOneChoiceAnswer(a)||this.answerTypeService.isMultipleChoiceAnswer(a))&&a.answers){var r=o.answerContent[0].index;a.choseAnswer=a.answers[r].alpha?a.answers[r].alpha:a.answers[r].key}})})}reBindDataQuestion(e,n){var a=[];return e.forEach(o=>{n.forEach(r=>{if(r.questionId==o.id){if(this.answerTypeService.isEssayAnswer(o))(_=r.answerContent&&r.answerContent.length>0?r.answerContent[0].content:"")&&(o.essayText=_);else if(this.answerTypeService.isFillAnswer(o)){var _;(_=r.answerContent&&r.answerContent.length>0?r.answerContent[0].content:"")&&(o.essayText=_)}else if(o.answers)for(var l=0;l<o.answers.length;l++){if(this.compareContent(o.answers[l],r.answerContent&&r.answerContent.length>0?r.answerContent[0]:{index:0,content:""})){o.answers[l].checked=!0;break}o.answers[l].checked=!1}o.status=!0}}),a.push(o)}),a}approvedByName(e){this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForExamPost({fullName:e.nameEmit??"",examHashId:this.dataProcess?.examObj?.hashId??"",classroomId:e.classId?e.classId:0}).subscribe(a=>{1==a.success?(this.getData(),this.chooseChildData={studentObjs:[],classroomObjs:[],isPendingApproved:!1,isShow:!1}):this.showErrorSnack(a.message??"")}))}openChooseStudent(e,n){e.responseFrontExam&&1==n?(this.selectStudent=!1,this.selectClassroom=!0,this.chooseChildData={classroomObjs:e.responseFrontExam.classroomObjs??[],studentObjs:[],isPendingApproved:!1,isShow:!0},e.responseFrontExam.classroomObjs&&1==e.responseFrontExam.classroomObjs?.length&&this.closeChooseStudent({classObj:e.responseFrontExam.classroomObjs?.[0]??{},studentObj:void 0,type:1,onlyOneClass:!0})):e.chooseStudentData&&2==n?(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={classroomObjs:[],studentObjs:e.chooseStudentData.studentObjs??[],classObj:e.chooseStudentData.classroomObj,onlyOneClass:e.chooseStudentData.onlyOneClass,isPendingApproved:!1,isShow:!0}):e.student&&(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={studentObjs:[],classroomObjs:[],studentObj:{...e.student,avatar:"",last4DigitPhone:"",zaloName:"",userEmail:""},isPendingApproved:!0,isShow:!0})}closeChooseStudent(e){if(1==e.type){var n=this.dataProcess?.studentObjs,a=[];n&&n.length>0&&(a=n.filter(_=>_.classroomId==(e.classObj?.id??0))),3==this.exam_obj?.whoAllow&&e.classObj&&(e.classObj.showAddStudent=0),this.openChooseStudent({chooseStudentData:{studentObjs:a,classroomObj:e.classObj,onlyOneClass:e.onlyOneClass},student:null,responseFrontExam:null},2)}else{var r=this.userService?.getUserObj();0==e.studentObj?.isVerified||1==e.classObj?.freeChooseName?this.frontStudentService.apiFrontStudentAddStudentToClassForExamGet(this.dataProcess?.examObj?.hashId??"",e.classId??0,e.studentObj?.id?e.studentObj.id:0).subscribe(_=>{1==_.success?(this.getData(),this.isAfterChooseStudent=!0,this.chooseChildData={studentObjs:[],classroomObjs:[],isPendingApproved:!1,isShow:!1}):(this.isAfterChooseStudent=!1,this.showErrorSnack("lang_auto_khong_tai_duoc_du_lieu"))}):r.id==e.studentObj?.parentId?(this.getData(),this.chooseChildData={studentObjs:[],classroomObjs:[],isPendingApproved:!1,isShow:!1}):(this.sendRequestData={studentObj:e.studentObj,classId:e.classId,isShow:!0},this.sAztDialogService.open(Xt.P,{width:"600px",data:this.sendRequestData,restoreFocus:!1}).afterClosed().subscribe(l=>{switch(l){case"success":this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien");break;case"error":this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai")}}))}}confirmSendRequest(e){e?(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien")):(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1}}backToClassList(){this.dataProcess&&this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1)}setTimeExam(){if((this.exam_obj?.minutes??-1)>0){var e="exam",n=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(n==this.globalService.getGlobalInterval(e)){const a=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),_=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(n??0,e)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==a&&0==r?{hour:a,minute:r,second:_,almostEnd:!0}:{hour:a,minute:r,second:_,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(a){console.log(a)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var e="examServerTime",n=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.subscriptions.add(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(a=>{1==a.success&&(this.totalTime=this.startTestTime+60*(this.exam_obj?.minutes??0)-(a.data?.curServerTime??0),this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(n??0,e)),clearInterval(this.intervalGetTimeServer)))})):clearInterval(this.intervalGetTimeServer)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,n){return Math.floor(Math.random()*(n-e+1)+e)}setTimeAutoSync(){var e="autoSyncDataTimeCount",n=this.globalService.plusGlobalInterval(e);this.intervalSyncData=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)&&this.validForTakeTest?this.saveToServer(this.answerList,this.files):clearInterval(this.intervalSyncData)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(120,180)),this.globalService.pushIntervalObjs(this.intervalSyncData)}setTimeAutoSubmit(e,n){var a=this.totalTime+90,o="autoSubmitTimeCount",r=this.globalService.plusGlobalInterval(o);this.intervalAutoSubmit=window.setInterval(()=>{try{if(r!=this.globalService.getGlobalInterval(o)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const _=Math.floor(a/3600),c=Math.floor(a%3600/60),u=a%60;a<=0?(this.timeCount={hour:0,minute:0,second:0},(r==this.globalService.getGlobalInterval(o)||e==this.globalService.getGlobalInterval(n))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:_,minute:c,second:u},a-=1}}catch(_){console.log(_)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",n=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setAnswerTrueFalse(e){var n=this.answerList.filter(_=>_.questionId==e.id);if(e.answerConfig&&null!=e.index&&1==e.type){var a={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(n&&n.length>0)for(var o=0;o<this.answerList.length;o++)this.answerList[o].questionId==a.questionId&&this.answerList[o].answerContent.push(a.answerContent[0]);else this.answerList.push(a);this.changeStatusAnswer(a,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var r={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(n&&n.length>0)for(o=0;o<this.answerList.length;o++)this.answerList[o].questionId==r.questionId&&(this.answerList[o].answerContent=r.answerContent);else this.answerList.push(r);this.changeStatusAnswer(r,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id),this.saveToServer(this.answerList,this.files)}setAnswerEssay(e){var n=!0,a=this.answerList.filter(g=>g.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(this.onTypingAnswer=!0,e.event.target instanceof HTMLTextAreaElement&&null!=e.event.target.value){var o={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value}]};if(a&&a.length>0){for(var r=0;r<this.answerList.length;r++)if(this.answerList[r].questionId==o.questionId){for(var _=0;_<this.answerList[r].answerContent.length;_++)this.answerList[r].answerContent[_].index==o.answerContent[0].index&&(this.answerList[r].answerContent[_].content=o.answerContent[0].content);var l=this.answerList[r].answerContent.filter(g=>g.index==o.answerContent[0].index);l&&0==l.length&&this.answerList[r].answerContent.push(o.answerContent[0])}this.onTypingAnswer=!1}else this.answerList.push(o),this.onTypingAnswer=!1;if(""==e.event.target.value.trim()){n=!1;var c=this.answerList.filter(g=>g.questionId==e.id);if(c&&1==c.length){var u=this.answerList.indexOf(c[0]);this.answerList.splice(u,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else n=!1;n&&(this.changeStatusQuestion(e.id),this.changeEssayTextQuestion(e))}changeEssayTextQuestion(e){for(let n=0;n<this.questionList.length;n++)this.questionList[n].id==e.id&&e.event?.target instanceof HTMLTextAreaElement&&(this.questionList[n].essayText=e.event?.target.value)}setResultTracking(e){this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e&&(this.questionList[n].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,n,a,o,r){if(!a)try{this.questionList.forEach(_=>{if(_.id==e.questionId){let c=this.commonService.myTranslateInstant("lang_auto_cau"),u=this.commonService.myTranslateInstant("lang_auto_chon");if(_.answers&&_.answers.length>0){for(var l=0;l<_.answers.length;l++)_.answers[l].checked=!1;_.answers[n].checked=!0,this.isMobile&&r.answerConfig&&this.commonService.snackChoiceAnswer(c+" "+((_.index??0)+(this.exam_obj?.startQuestionIndex??1))+" - "+u+" "+(r.answerConfig.alpha?r.answerConfig.alpha:r.answerConfig.key))}}})}catch(_){console.log(_)}}saveToStorage(e,n,a){try{var o={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.exam_obj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},r=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),_={answers:e,notes:n,files:JSON.stringify(a),infors:r??"",trackInfos:JSON.stringify(o),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.exam_obj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveDataV4_"+this.exam_obj?.id+"_"+this.testingResultObj?.id,JSON.stringify(this.encryptionHelper.payload(_)))}catch{}}saveToServer(e,n){var a=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),o=this.commonService.myClone(this.resultTracks);try{let r={answers:e,files:JSON.stringify(n),infors:a??"",resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(o)),updated_at:""},_=this.encryptionHelper.payload(r);this.testLogExamResultAnswerService.answerExamResult(_,this.termExamResultId).subscribe(l=>{})}catch{}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}visibilitychange(){"visible"!==document.visibilityState?(this.visiblePage=!1,setTimeout(()=>{if(!this.visiblePage&&!this.onShowUpload&&this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.startedTimeSecond>0)if(!this.clickedFromIframe&&this.acceptSendTrack){var e={examId:this.exam_obj?.id??0,name:"blur_window",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(e).subscribe(n=>{1==n.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}else this.clickedFromIframe=!1},5e3)):this.visiblePage=!0}handleFullscreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var n={examId:this.exam_obj?.id??0,name:"exit_full_screen",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(n).subscribe(o=>{1==o.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}clickFromIframe(){}goBackFullScreen(){const e=document.documentElement;let n=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;n&&n.call(e)}exitFullscreen(){const e=document;if(window.innerHeight==screen.height){let n=e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen;n&&n.call(e)}}removeNullContent(e){var n=[];return e.forEach(a=>{a.content&&n.push(a)}),n}removeImg(e){var n=this.files.filter(a=>a.url!==e);this.files=n,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan"),this.saveToServer(this.answerList,this.files)})}updateFileUploadMobile(){return new Promise(e=>{let n={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(n).subscribe(a=>{1==a.success&&e(!0)})})}calcRight(){var e=0,n=window.outerWidth,a=document.getElementById("container-content")?.offsetWidth;return a&&(e=(n-a)/2),e}checkWitdh(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target instanceof Window&&e.target.innerWidth<1200,this.calcRight()}resizeImg(e,n,a){var o=document.getElementById("media_content_"+e),r=o?.offsetWidth??0;return o?r/n<=1?Math.round(a*(r/n)):Math.round(a):0}resizeImgAll(e,n,a){var o=document.getElementById("media_content_all_"+e),r=o?.offsetWidth??0;return o?r/n<=1?Math.round(a*(r/n)):Math.round(a):0}returnFalse(){return!1}autoResize(e,n){if(1==n){const a=document.getElementById("note_box_"+e);a&&setTimeout(()=>{a.style.cssText="height:auto;",a.style.cssText="height:"+(a.scrollHeight+30)+"px",a.style.maxHeight="350px"},0)}else{const a=document.getElementById("note_box_all_"+e);a&&setTimeout(()=>{a.style.cssText="height:auto;",a.style.cssText="height:"+(a.scrollHeight+30)+"px",a.style.maxHeight="350px"},0)}}autoResizeEssayAnswer(e){if(1==e.type){const n=document.getElementById("answer-1-unit-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else if(2==e.type){const n=document.getElementById("answer-0-unit-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else if(3==e.type){const n=document.getElementById("answer-1-all-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else{const n=document.getElementById("answer-0-all-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:"+(n.scrollHeight-50)+"px",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}}foundEssayQuestions(){let e=[];var n=this.questionList.filter(a=>this.answerTypeService.isEssayAnswer(a));return n&&n.length>0?(this.checkEssayPopup&&this.openEssayDialog(),n.forEach(a=>{a.id&&e.push(a.id)})):this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),e}checkScroll(){return!!(window.scrollY&&window.scrollY>50)}isEmpty(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}redirectToHomepage(e){this.quitTestData={id:0,time:0,isShow:!1},e?this.submitTest(!1):this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}goToBuyExam(){this.commonService.myNavigation("/de-thi/"+this.exam_obj?.hashId)}openSubmitName(e,n,a,o){this.submitNameData=!e&&n&&a?{needPassword:a,isShow:!0,examId:this.exam_obj?.id,hashId:n,errorMessage:o||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&(this.initStatusObj(),this.getData(),this.submitNameData={isShow:!1})}openShowInfo(e,n){this.showFormInfo={infoFields:e,examId:this.exam_obj?.id,hashId:this.exam_obj?.hashId,isAnonymousName:n,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}closeAutoMonitor(e){if(e){if(this.dataMonitorAuto={isShow:!1},!this.isMobile){const r=document.documentElement;let _=r.requestFullscreen||r.webkitRequestFullscreen||r.mozRequestFullscreen||r.msRequestFullscreen;_&&_.call(r)}if(this.startedTimeSecond=Math.floor(Date.now()/1e3),this.exam_obj?.autoMonitor&&3==this.exam_obj?.autoMonitor){if(this.isAfterChooseStudent){var n=this.userService.getUserObj(),a=this.userObj,o={};o[a?.id??0]=n?.id?.toString()+"_"+this.encryptService.createMd5((a?.id??0).toString()+n?.id?.toString()).substring(6,9),this.fireStoreService.examSessions_writeUserMap(this.exam_obj.hashId??"",o).subscribe(r=>{console.log("writeFirestore - success"+JSON.stringify(r))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1,this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0))}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,n,a){if(!this.quitTestData.isShow){let o=this.answerList.filter(r=>!this.commonService.isExistInArray(this.listEssayQuestionIds,r.questionId));this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:n,saveFalse:a,totalTrueFalseLeft:this.countQuestion-this.countEssayQuestion-o.length}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:n,saveFalse:a,totalTrueFalseLeft:this.countQuestion-o.length-(this.hasEssayQuestion?this.countEssayQuestion:0)}}}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(e.isAutoSubmit??!1)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.exam_obj?.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1),setTimeout(()=>{let n=document.getElementById("bottom_action"),a=document.getElementById("time_client"),o=n?.offsetHeight;a&&o&&(a.style.bottom=o+"px")},100)}conFirmUpload(e){var n=document.getElementById("monitorScreenTakeTest");e&&e?.isConfirm?(this.files=e.uploadFiles??[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.saveToServer(this.answerList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.exam_obj?.autoMonitor&&0!=this.exam_obj?.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),n&&(n.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile={...e.file,index:e.index}}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}sendHashIdUpdate(e){e&&this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(n=>{if(1==n.success&&this.commonService.isJson(n.data?.tmpObj?.files??"")){var a=this.commonService.willDeleteParseJson(n.data?.tmpObj?.files??"");a.isNotNoti=!0,this.addFileMobileUpload({files:a})}})}addFileMobileUpload(e){this.files=e.files??[],this.uploadImageData={id:this.exam_obj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj();var n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),a=this.commonService.myClone(this.resultTracks);let o=JSON.stringify({type:"exam",id:this.exam_obj?.id,user:this.exam_obj?.tenantId});var r={autoSubmit:e,serverCountDown:this.totalTime,examMinutes:this.exam_obj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let _={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:n,trackInfos:JSON.stringify(r),resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(a)),saveTime:0,id:this.termExamResultId};this.subscriptions.add(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(_),o,this.hashId).subscribe(l=>{if(1==l.success){this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.exam_obj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.exam_obj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj?.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj?.hashId+"_"+l.data?.id,JSON.stringify(l.data));try{this.localStorageObject.clearAllCache(),this.exitFullscreen(),typeof aztExam<"u"&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch{}this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+l.data?.id,"?backto="+encodeURIComponent(this.backToLink))}else this.errorStatusObj(l.message??"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=l.message,setTimeout(()=>{this.checkSubmit=!1},5e3)}))}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),n=0;n<e.length;n++)clearInterval(e[n]);this.globalService.emptyIntervalObjs()}changeShowType(){this.showUnit?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1),setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}showSheet(e,n){e?this.changeShowType():this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let a=document.getElementById("bottom_action"),o=document.getElementById("time_client"),r=a?.offsetHeight;o&&r&&(o.style.bottom=r+"px")},100)}askBeforeCloseWindow(e){if(!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}prevQuestion(e){var n=document.getElementById("question_"+String(e)),a=document.getElementById("question_"+String(e-1));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){var n=document.getElementById("question_"+String(e)),a=document.getElementById("question_"+String(e+1));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1)}goToQuestion(e){var n=document.getElementById("question_"+String(this.curQuestion)),a=document.getElementById("question_"+String(e));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=e)}goToQuestionAll(e){var n=document.getElementById("question_all_"+e);n?.scrollIntoView()}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id);e&&(this.resultTracks=this.commonService.willDeleteParseJson(e))}openVideoMonitor(){var e=this.userService.getUserObj(),n=this.userObj;typeof aztExam<"u"&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var a={user:{token:e.rememberToken,userid:e.id,username:e.fullName,studentid:n?n.id:0,studentname:n?n.fullName:null},config:{domainApi:J.N.auto_testbank_base_api+"/api/",urlGetPublicForLive:"S3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"S3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreenTakeTest",examconfig:this.exam_obj,examid:this.exam_obj?.id,firebaseApp:this.fireStoreService,resultid:this.testingResultObj?.id,isStarted:!0,clickFromIframeFunc:this.clickFromIframe,clickFromIframeFuncCaller:this};aztExam.MonitorStudent.getInstance().startSession(a),this.hasVideoMonitor=!0}}))}makeDeviceId(e=10){for(var n="",r=0;r<e;r++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return n}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}constructor(e,n,a,o,r,_,l,c,u,g,h,w,k,y,O,M,A,$,X,L,x,C,q){super(),this.activeRoute=e,this.userService=n,this.mixService=a,this.localStorageObject=o,this.fireStoreService=r,this.encryptService=_,this.zipDataService=l,this.timeService=c,this.monitorService=u,this.browserStorageService=g,this.frontExamTrackService=h,this.frontStudentService=w,this.globalService=k,this.frontExamResultService=y,this.frontExamService=O,this.frontExamResultUploadService=M,this.sAztDialogService=A,this.answerTypeService=$,this.homeworkExamService=X,this.questionRenderService=L,this.testMarketFeedbackService=x,this.encryptionHelper=C,this.testLogExamResultAnswerService=q,this.subscriptions=new K.w0,this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.intervalSyncData=0,this.fontSize=1,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.termExamResultId=0,this.firstInGroupIndexes=[],this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.followerRenderQuest=new R.p,this.countQuestion=0,this.countEssayQuestion=0,this.listEssayQuestionIds=[],this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={answers:[],files:"",infors:"",updated_at:"",resultTrack:""},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={classroomObjs:[],studentObjs:[],classObj:void 0,isPendingApproved:!1,isShow:!1},this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.hasVideoMonitor=!1,this.acceptSendTrack=!0,this.isMixedService2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.subscription=new K.w0,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.visiblePage=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument={...document},this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1,this.widthGameBar=300,this.examConfigObj={}}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.checkWitdh(),this.browserName=this.detectBrowserName(),this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),a=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString(),o=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=n,this.hashId=a||"",this.tenantId=o,this.homeLink="/student/dashboard/0",this.getDeviceId(),this.initStatusObj(),this.getData()})),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{this.widthGameBar=this.myListQuestionBar?.nativeElement.offsetWidth;let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient),this.intervalSyncData&&clearInterval(this.intervalSyncData);for(var n=this.globalService.getIntervalObjs(),a=0;a<n.length;a++)clearInterval(n[a]);this.globalService.emptyIntervalObjs(),typeof aztExam<"u"&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(E.U),t.Y36(vt),t.Y36(wt.y),t.Y36(mt.j),t.Y36(te.j),t.Y36(ft.a),t.Y36(D.D),t.Y36(ut.G),t.Y36(V.n),t.Y36(S.FQ),t.Y36(Tt.Dn),t.Y36(_t.q),t.Y36(S.CA),t.Y36(S.Tg),t.Y36(S.vO),t.Y36(st.C),t.Y36(B.i),t.Y36(H.v),t.Y36(lt.h),t.Y36(ot.nC),t.Y36(ee),t.Y36(I_.eC))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-take-test"]],viewQuery:function(n,a){if(1&n&&(t.Gf(M_,5,G),t.Gf(q_,5)),2&n){let o;t.iGM(o=t.CRH())&&(a.modalSaveImageUpload=o.first),t.iGM(o=t.CRH())&&(a.myListQuestionBar=o.first)}},hostBindings:function(n,a){1&n&&t.NdJ("visibilitychange",function(r){return a.visibilitychange(r)},!1,t.evT)("beforeunload",function(r){return a.askBeforeCloseWindow(r)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:6,consts:[[1,"p-0",3,"resize","contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px",3,"resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["lstQuestDoneLoad",""],[3,"customText"],["lstQuestHasErr",""],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],["id","time_client",1,"time-client",3,"ngClass"],[1,"mb-0","text-center"],[2,"vertical-align","middle","font-weight","450","color","grey",3,"matTooltip"],[2,"padding-bottom","50px"],[1,"box","p-5","margin-question-bar","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],["class","mt-3 text-danger font-medium",4,"ngIf"],[1,"mt-3","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-test-MEvBfplvFx",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],["azt-track-service","take-test-J_pIShRvtz",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[3,"label"],["class","intro-x mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mt-2","flex","justify-center"],["azt-track-service","take-test-zYDkrlktkR",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-test-HI_SB5_l-P",1,"btn","btn-sm","btn-primary",3,"click"],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[1,"ng-binding"],[1,"mt-3","text-danger","font-medium"],[1,"intro-x","mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","isMobile","examObj","question","fontSize","index","overTime","questionListLength",4,"ngIf"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","isMobile","examObj","question","fontSize","index","overTime","questionListLength"],["class","text-center mt-1 mb-2",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","removeFile"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-test-EkxWzdqkfZ",1,"btn","btn-sm","btn-primary",3,"click"],[1,"h6","mb-2","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],["class","top-bar",3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"top-bar",3,"ngClass"],["class","-intro-x",4,"ngIf"],["class","intro-x relative mx-auto",4,"ngIf"],["class","intro-x mr-6",4,"ngIf"],[1,"-intro-x"],["azt-track-service","take-test-E4FLezP4kF",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-test-Ye6iaFI2rI",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[2,"vertical-align","middle"],[1,"intro-x","relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[1,"intro-x","mr-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["points","12 6 12 12 16 14"],[1,"text-md",3,"ngClass"],[1,"text-md"],[1,"intro-x","flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-out"],["cx","11","cy","11","r","8"],["x1","21","x2","16.65","y1","21","y2","16.65"],["x1","8","x2","14","y1","11","y2","11"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-in"],["x1","11","x2","11","y1","8","y2","14"],["azt-track-service","take-test-UBz-4Fa9hv",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["class","intro-x mr-2",4,"ngIf"],["azt-track-service","take-test-U5gleH2CsWW",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["x1","8","y1","6","x2","21","y2","6"],["x1","8","y1","12","x2","21","y2","12"],["x1","8","y1","18","x2","21","y2","18"],["x1","3","y1","6","x2","3.01","y2","6"],["x1","3","y1","12","x2","3.01","y2","12"],["x1","3","y1","18","x2","3.01","y2","18"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["d","M21 3H3v7h18V3z"],["d","M21 14h-5v7h5v-7z"],["d","M12 14H3v7h9v-7z"],[1,"intro-x","mr-2"],["azt-track-service","take-test-7o7YbIPIyM","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","take-test-7o7YbIPIyM",1,"btn","btn-sm","btn-secondary",3,"click"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["azt-track-service","take-test-EYDOxzj8YnB",1,"btn","btn-sm","btn-secondary",3,"click"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],[3,"data","hasBackToLink","selectChild","approvedByName","backToClass"],["class","margin-question-bar pb-4",4,"ngIf"],[1,"margin-question-bar","pb-4"],[1,"alert","alert-danger"],["azt-track-service","take-test-Q5NwvSmkHDy",3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-test-8oUvqrS4hCo",1,"link__color","link__hover",3,"routerLink"],["azt-track-service","take-test-Q5NwvSmkHDy",3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","removeFile"],["class","box p-3 mb-3",4,"ngIf"],["class","intro-x mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],["class","intro-y box w-3/4 mx-auto p-3","style","animation-delay: 0.05s",3,"hidden",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHtml"],[1,"intro-x","mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","question","index","last","countQuestion","overTime","fontSize","questionListLength","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit",4,"ngIf"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","question","index","last","countQuestion","overTime","fontSize","questionListLength","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[1,"intro-y","box","w-3/4","mx-auto","p-3",2,"animation-delay","0.05s",3,"hidden"],[1,"grid","grid-cols-12","gap-2","mt-3","p-3"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"col-span-1"],["azt-track-service","take-test-u72HkJDgcct",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],["id","question_ui",1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","mt-5","sm:mt-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","intro-x mt-2",4,"ngFor","ngForOf"],["class","col-span-12 lg:col-span-3 mt-4","id","listQuestionBar",3,"ngClass",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"intro-x","mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","countQuestion","question","fontSize","overTime","index","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit",4,"ngIf"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","showList","isMobile","examObj","countQuestion","question","fontSize","overTime","index","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],["id","listQuestionBar",1,"col-span-12","lg:col-span-3","mt-4",3,"ngClass"],["listQuestionBar",""],[1,"intro-y","box","p-3"],[1,"grid","grid-cols-10","gap-2","mt-3","sheet-screen",3,"ngClass"],["class","col-span-2",4,"ngFor","ngForOf"],[1,"col-span-2"],["azt-track-service","take-test-wdi0TAS3bgU",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],[1,"top_action"],[1,"grid","grid-cols-12","gap-3","items-center","justify-between","ml-0","mr-0"],[1,"col-span-3","self-center"],["azt-track-service","take-test-Sv-5CQ5vRW_",1,"clickable",2,"color","#fff",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],[1,"col-span-6","text-center","self-center","pl-0","pr-0"],["azt-track-service","take-test-Hl-nLDepRGa","class","clickable","style","color: #fff; border: 3px solid #fff; padding: 3px 5px",3,"click",4,"ngIf"],[1,"col-span-3","pl-0","pr-1","text-right","self-center"],["azt-track-service","take-test-qCh4rHipyZ7",1,"clickable","inline-flex","items-center",2,"color","#fff",3,"click"],[2,"vertical-align","top","line-height","1.8"],["points","9 18 15 12 9 6"],["id","bottom_action",1,"bottom_action"],[1,"collapse",3,"ngClass"],[1,"box","mb-2",2,"padding","5px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"grid","grid-cols-10","gap-2","mt-3"],[1,"grid","grid-cols-12","gap-3","justify-between","clickable"],[1,"col-span-3","flex","pr-1","menu-control"],["azt-track-service","take-test-X8-EFpj1UGB",1,"mb-auto","mt-auto","mr-1","clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#fff"],["azt-track-service","take-test-gI2KMWWglRl",1,"ml-2","mb-auto","mt-auto","clickable",3,"matTooltip","click"],["azt-track-service","take-test-6mIR-7BLuro",1,"col-span-5","pl-0","pr-0","text-center","self-center",3,"click"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["azt-track-service","take-test-hTmjtImrd1N","class","col-span-4 text-right pl-0 self-center",3,"ngClass","click",4,"ngIf"],["class","col-span-6 text-center pl-0 pr-1 self-center",4,"ngIf"],["azt-track-service","take-test-Hl-nLDepRGa",1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],["azt-track-service","take-test-lH0l4q6-9d0",1,"rounded-md","border","border-slate-400","p-1","w-full",2,"color","#111",3,"ngClass","click"],["azt-track-service","take-test-hTmjtImrd1N",1,"col-span-4","text-right","pl-0","self-center",3,"ngClass","click"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-span-6","text-center","pl-0","pr-1","self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-test-4_EDv4k0GO7",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-test-Z7YL5G4GC5F",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548;font-size: small;",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"],[1,"p-5","m-5","text-center","alert","alert-danger"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("resize",function(r){return a.handleFullscreenEvent(r)},!1,t.Jf7)("contextmenu",function(){return a.returnFalse()}),t.TgZ(1,"div",1),t.NdJ("resize",function(r){return a.onResize(r)},!1,t.Jf7),t.YNc(2,Q_,1,0,"azt-loading-effect",2),t.YNc(3,L_,1,1,"app-submit-info",3),t.YNc(4,E_,1,1,"app-monitor-screen",3),t.YNc(5,P_,1,1,"app-check-essay",4),t.YNc(6,ic,5,4,"ng-template",null,5,t.W1O),t.YNc(8,ac,1,1,"app-submit-name",3),t.qZA()()),2&n){const o=t.MAs(7);t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",a.showFormInfo.isShow&&a.validForTakeTest),t.xp6(1),t.Q6J("ngIf",a.dataMonitorAuto.isShow&&a.validForTakeTest),t.xp6(1),t.Q6J("ngIf",a.dataEssayPopup.isShow&&a.validForTakeTest),t.xp6(3),t.Q6J("ngIf",a.submitNameData.isShow)}},dependencies:[T.rH,d.mk,d.sg,d.O5,W.Hw,P.uX,P.SP,U.gM,pt.y,j.l,ne.p,kt.f,St,Ht,At,It,Zt,G,jt,ie,$t,nt.lO,p.JV,p.Tm,p.$n],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:70px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}@keyframes _ngcontent-%COMP%_timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]})}return i})();var sc=m(78645),rc=m(78497);let _c=(()=>{class i extends ht.e{btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,n){super(n,e),this.dialogRef=e,this.data=n}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(z.so,8),t.Y36(z.WI,8))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["confirm-reset-answer"]],features:[t.qOj],decls:20,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","px-3","pt-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","confirm-reset-answer-IROMXJMuQD",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","confirm-reset-answer-Dau1W0YPOB",1,"btn","w-24","btn-primary",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",8)(11,"azt-mat-dialog-content",9),t._UZ(12,"div",10),t.qZA()()()(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return a.btnCloseDialog(!1)}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"button",13),t.NdJ("click",function(){return a.btnCloseDialog(!0)}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,5,"lang_auto_canh_bao")," "),t.xp6(3),t.Q6J("defaultHeight",60),t.xp6(1),t.Q6J("innerHtml",a.data.content,t.oJD),t.xp6(3),t.hij(" ",t.lcZ(16,7,"lang_auto_huy")," "),t.xp6(3),t.hij(" ",t.lcZ(19,9,"lang_auto_xac_nhan")," "))},dependencies:[rc.R,p.JV],encapsulation:2})}return i})();function lc(i,s){if(1&i&&(t.TgZ(0,"button",13)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function cc(i,s){if(1&i&&(t.TgZ(0,"button",14)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function mc(i,s){if(1&i&&(t.TgZ(0,"button",15)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function uc(i,s){if(1&i&&(t.TgZ(0,"div",9),t.YNc(1,lc,3,1,"button",10),t.YNc(2,cc,3,1,"button",11),t.YNc(3,mc,3,1,"button",12),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",!e.practiceCheckAnswer||"notYet"===e.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","wrong"===e.practiceCheckAnswer||"correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks>1),t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&e.numberOfChecks&&1==e.numberOfChecks)}}const dc=function(){return[]};let gc=(()=>{class i extends ht.e{constructor(e,n){super(n,e),this.dialogRef=e,this.data=n,this.isDialog=!1}closeDialog(){this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(z.so,8),t.Y36(z.WI,8))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["show-answer-dialog"]],features:[t.qOj],decls:13,vars:10,consts:[[1,"box","py-4","px-4"],[1,"flex","items-center"],[1,"text-md","font-medium","inline-block","mr-2"],[1,"border","border-slate-200","dark:border-darkmode-400","mt-2","overflow-auto"],["pointerEventsMethod","scrollbar",2,"max-height","50vh",3,"visibility","autoHeightDisabled"],[1,"flex","items-center","p-3",2,"flex-wrap","wrap","padding-right","0"],["class","mr-3 mb-3 answer-training-block h-full",4,"ngFor","ngForOf"],[1,"text-right","mt-4"],["azt-track-service","preview-offline-exam-pMnvQqQQGlC",1,"btn","btn-primary","w-24",3,"click"],[1,"mr-3","mb-3","answer-training-block","h-full"],["class","btn border-slate-400 btn-sm w-full h-full",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full bg-slate-400 dark:bg-darkmode-800",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full btn-success text-white",4,"ngIf"],[1,"btn","border-slate-400","btn-sm","w-full","h-full"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","bg-slate-400","dark:bg-darkmode-800"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","btn-success","text-white"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",3)(6,"ng-scrollbar",4)(7,"div",5),t.YNc(8,uc,4,3,"div",6),t.qZA()()(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return a.closeDialog()}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()),2&n){let o;t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("visibility","hover")("autoHeightDisabled",!1),t.xp6(2),t.Q6J("ngForOf",null!==(o=a.data.questionList)&&void 0!==o?o:t.DdM(9,dc)),t.xp6(3),t.hij(" ",t.lcZ(12,7,"lang_auto_dong")," ")}},dependencies:[d.sg,d.O5,ct.KC,p.JV],encapsulation:2})}return i})();var pc=m(92296),ae=m(36621),oe=m(35361);function hc(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_one_correct_answer")," "))}function fc(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_corrects_answer")," "))}const xc=function(i){return{"selected-answer border-selected-answer":i}},bc=function(i,s,e,n){return{"border-radius":i,width:s,height:e,"line-height:":n}},vc=function(i){return{"border-selected-answer":i}};function wc(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){const a=t.CHM(e),o=a.$implicit,r=a.index,_=t.oxw(2);return t.KtG(_.setAnswerChoose(_.question.id,o,_.typeAnswerChoose,!1,r,o.alpha,o.key,_.answerIndex))}),t.ALo(2,"isOneChoiceAnswer"),t.ALo(3,"isOneChoiceAnswer"),t.ALo(4,"isOneChoiceAnswer"),t.ALo(5,"isOneChoiceAnswer"),t._uU(6),t.qZA(),t.TgZ(7,"div",8),t.NdJ("click",function(){const a=t.CHM(e),o=a.$implicit,r=a.index,_=t.oxw(2);return t.KtG(_.setAnswerChoose(_.question.id,o,_.typeAnswerChoose,!1,r,o.alpha,o.key,_.answerIndex))}),t._UZ(8,"azt-dynamic-hook",9),t.qZA()()}if(2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(13,xc,e.checked))("ngStyle",t.l5B(15,bc,t.lcZ(2,5,n.question)?"50%":"none",t.lcZ(3,7,n.question)&&n.fontSize>1.6?n.fontSize+"em":"40px",t.lcZ(4,9,n.question)&&n.fontSize>1.6?n.fontSize+"em":"40px",t.lcZ(5,11,n.question)&&n.fontSize>1.6?n.fontSize+"em":"40px")),t.xp6(5),t.hij(" ",e.alpha?e.alpha:e.key," "),t.xp6(1),t.Q6J("ngClass",t.VKq(20,vc,e.checked)),t.xp6(1),t.Q6J("content",e.content)}}function Tc(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",1)(2,"span",2),t.YNc(3,hc,3,3,"span",0),t.ALo(4,"isOneChoiceAnswer"),t.YNc(5,fc,3,3,"span",0),t.ALo(6,"isMultipleChoiceAnswer"),t.qZA()(),t.TgZ(7,"div",3)(8,"div",4),t.YNc(9,wc,9,22,"div",5),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,7,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,9,e.question)),t.xp6(3),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function kc(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",10)(2,"div",1)(3,"span",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",11)(7,"textarea",12),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("keyup",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("input",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.setAnswerType3(o.question.id-1,a,3,!1,0))}),t.ALo(8,"mytranslate"),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,6,"lang_auto_bai_lam")),t.xp6(3),t.s9C("id","answer-0-all-"+e.question.id),t.s9C("placeholder",t.lcZ(8,8,"lang_auto_bai_lam_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}const Sc=function(i){return{"list-answer-mobile":i}};function Cc(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"div",1)(3,"span",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",14)(7,"div",11)(8,"textarea",12),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("keyup",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.autoResizeEssayAnswer(a.question.id,4))})("input",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.setAnswerType3(o.question.id,a,3,!1,0))}),t.ALo(9,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(11,Sc,e.isMobileDevice)),t.xp6(3),t.Oqu(t.lcZ(5,7,"lang_auto_nhap_dap_an")),t.xp6(4),t.s9C("id","answer-0-all-"+e.question.id),t.s9C("placeholder",t.lcZ(9,9,"lang_auto_dap_an_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}let se=(()=>{class i extends b.Q{setAnswerChoose(e,n,a,o,r,_,l,c){var h,u={id:e,answerConfig:n,event:null,type:a,isImage:o,index:r},g=n.content??"";(_||l)&&void 0!==c?(h=[c.toString(),_??"",l??"",e.toString()],this.setResultTracking.emit(h)):!_&&!l&&g&&void 0!==c&&(_=g,l=g,h=[c.toString(),_??"",l??"",e.toString()],this.setResultTracking.emit(h)),this.setAnswerEmitter.emit(u)}setAnswerType3(e,n,a,o,r){var _={id:e,answerConfig:null,event:n,type:a,isImage:o,index:r};if(this.showList)3==a&&(o?(l=document.getElementById("answer-1-unit-"+e))&&(l.value=n.target.value):(l=document.getElementById("answer-0-unit-"+e))&&(l.value=n.target.value));else if(3==a)if(o)(l=document.getElementById("answer-1-all-"+e))&&(l.value=n.target.value);else{var l;(l=document.getElementById("answer-0-all-"+e))&&(l.value=n.target.value)}this.setAnswerEssayEmitter.emit(_)}autoResizeEssayAnswer(e,n){this.autoResizeEssayAnswerEmitter.emit({id:e,type:n})}ngOnInit(){this.answerTypeService.isOneChoiceAnswer(this.question)&&(this.typeAnswerChoose=2),this.answerTypeService.isMultipleChoiceAnswer(this.question)&&(this.typeAnswerChoose=1)}constructor(e){super(),this.answerTypeService=e,this.answerIndex=0,this.showList=!1,this.fontSize=1,this.setResultTracking=new t.vpe,this.setAnswerEmitter=new t.vpe,this.autoResizeEssayAnswerEmitter=new t.vpe,this.setAnswerEssayEmitter=new t.vpe,this.configRenderService=new Dt.v,this.typeAnswerChoose=2}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(B.i))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["azt-question-answer-view-for-student-at-step-page"]],inputs:{question:"question",answerIndex:"answerIndex",showList:"showList",fontSize:"fontSize"},outputs:{setResultTracking:"setResultTracking",setAnswerEmitter:"setAnswerEmitter",autoResizeEssayAnswerEmitter:"autoResizeEssayAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter"},features:[t.qOj],decls:7,vars:11,consts:[[4,"ngIf"],[1,"strike"],[1,"font-medium","text-slate-600","dark:text-slate-500"],[1,"p-3"],[1,"list-answer"],["class","item-answer flex items-center mt-2 cursor-pointer hover-border-primary",4,"ngFor","ngForOf"],[1,"item-answer","flex","items-center","mt-2","cursor-pointer","hover-border-primary"],[1,"btn","border-slate-400","mr-3",3,"ngClass","ngStyle","click"],[1,"answer-content","p-2","border","border-slate-400","dark:border-darkmode-400","rounded-md",3,"ngClass","click"],[3,"content"],[1,"azt-answer"],[1,"azt-answer-content","p-3","w-full"],[1,"w-full","form-control",3,"id","placeholder","value","focus","keyup","input"],[1,"azt-answer",3,"ngClass"],[1,"flex","items-center","justify-between","w-full"]],template:function(n,a){1&n&&(t.YNc(0,Tc,10,11,"ng-container",0),t.ALo(1,"isOneChoiceAnswer"),t.ALo(2,"isMultipleChoiceAnswer"),t.YNc(3,kc,9,10,"ng-container",0),t.ALo(4,"isEssayAnswer"),t.YNc(5,Cc,10,13,"ng-container",0),t.ALo(6,"isFillAnswer")),2&n&&(t.Q6J("ngIf",t.lcZ(1,3,a.question)||t.lcZ(2,5,a.question)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,7,a.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,9,a.question)))},dependencies:[d.mk,d.sg,d.O5,d.PC,Ot.O,p.JV,p.Uy,p.F_,p.eH,p.ck],encapsulation:2})}return i})();var re=m(42242),_e=m(15422),le=m(63529);function yc(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"span",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showExplainOfQuestion.emit())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_testbank_frontend_you_dont_know_how_to_do_it")+"? "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_testbank_frontend_please_use_the_hint")," "))}function Oc(i,s){if(1&i&&(t.TgZ(0,"div",6)(1,"div",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",7),t._UZ(5,"azt-dynamic-hook",8),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_testbank_hint")," "),t.xp6(3),t.Q6J("content",e.questionObj.help)}}function Ac(i,s){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,yc,7,6,"div",2),t.YNc(2,Oc,6,4,"div",3),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isShowExplain),t.xp6(1),t.Q6J("ngIf",e.isShowExplain)}}let Ic=(()=>{class i extends b.Q{constructor(){super(...arguments),this.isShowExplain=!1,this.showExplainOfQuestion=new t.vpe}static#t=this.\u0275fac=function(){let e;return function(a){return(e||(e=t.n5z(i)))(a||i)}}();static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["azt-question-explain-box-for-student-at-step-test"]],inputs:{isShowExplain:"isShowExplain",questionObj:"questionObj",renderConfigObj:"renderConfigObj"},outputs:{showExplainOfQuestion:"showExplainOfQuestion"},features:[t.qOj],decls:1,vars:1,consts:[["class","p-3",4,"ngIf"],[1,"p-3"],[4,"ngIf"],["class","p-3 mt-4",4,"ngIf"],[1,"font-medium"],[1,"btn-text-primary","font-medium",3,"click"],[1,"p-3","mt-4"],[1,"mt-2"],[3,"content"]],template:function(n,a){1&n&&t.YNc(0,Ac,3,2,"div",0),2&n&&t.Q6J("ngIf",a.questionObj.help)},dependencies:[d.O5,Ot.O,p.JV],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']})}return i})();const Zc=function(i){return{"skeleton-box-loading":i}};function jc(i,s){if(1&i&&t._UZ(0,"div",10),2&i){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,Zc,e.renderConfigObj.isFirstRender))}}function Mc(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",18),t.NdJ("sendAudioEmitter",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.sendAudioEmit.emit(a))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("questionObj",e.questionObj)("isShowList",!0)("totalLimit",(e.examObj.limitAudio||-1)>0?e.examObj.limitAudio||-1:0)}}const qc=function(i){return{"pb-2":i}};function Qc(i,s){if(1&i&&(t.TgZ(0,"div",11)(1,"div",12),t._UZ(2,"azt-question-group-content-box",13),t.TgZ(3,"div",14),t.YNc(4,Mc,1,3,"azt-test-audio-ui",15),t.TgZ(5,"div",16),t._UZ(6,"azt-question-label-box",17),t.qZA(),t._UZ(7,"azt-question-content-box",13),t.qZA()()()),2&i){const e=t.oxw();t.xp6(1),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize&&e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.questionObj.id)("ngClass",t.VKq(17,qc,e.questionObj.attachments.length>0)),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj),t.xp6(2),t.Q6J("ngIf",e.questionObj.attachments.length>0),t.xp6(2),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("curQuestionIndex",e.curQuestionIndex),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)}}function Lc(i,s){1&i&&t._UZ(0,"div",19)}let Ec=(()=>{class i extends ae.R{showExplainOfQuestion(){this.showHintAnswer.emit()}ngOnInit(){super.ngOnInit();let e=new oe.m(!0,!0,!1);super.initData(e,this.follower,this.questionObj),this.listenFontChanged&&this.waitDestroy(this.listenFontChanged.subscribe(()=>{this.reRenderContent()}))}constructor(){super(),this.follower=new R.p,this.curQuestionIndex=0,this.fontSize=1,this.isShowExplain=!1,this.currentAnswerIsCorrect=!1,this.sendAudioEmit=new t.vpe,this.autoResizeEssayAnswerEmitter=new t.vpe,this.setAnswerEmitter=new t.vpe,this.setAnswerEssayEmitter=new t.vpe,this.setResultTracking=new t.vpe,this.showHintAnswer=new t.vpe}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["azt-question-standalone-for-step-test"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",fontSize:"fontSize",listenFontChanged:"listenFontChanged",isShowExplain:"isShowExplain",currentAnswerIsCorrect:"currentAnswerIsCorrect"},outputs:{sendAudioEmit:"sendAudioEmit",autoResizeEssayAnswerEmitter:"autoResizeEssayAnswerEmitter",setAnswerEmitter:"setAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter",setResultTracking:"setResultTracking",showHintAnswer:"showHintAnswer"},features:[t.qOj],decls:11,vars:10,consts:[[1,"question-standalone-step-container-box","box"],[1,"question-standalone-step-question-box","p-3"],["load_effect_lazy","",1,"question-standalone-box",2,"box-shadow","none","margin","0px",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-step-answer-container-box"],[1,"ml-auto","mr-auto","w-full","relative"],[3,"question","answerIndex","fontSize","setResultTracking","setAnswerEmitter","autoResizeEssayAnswerEmitter","setAnswerEssayEmitter"],["class","absolute w-full h-full top-0 left-0 z-50",4,"ngIf"],[3,"questionObj","renderConfigObj","isShowExplain","showExplainOfQuestion"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container",2,"padding","0px",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"examObj","questionObj","renderConfigObj","curQuestionIndex"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"absolute","w-full","h-full","top-0","left-0","z-50"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,jc,1,3,"div",3),t.YNc(4,Qc,8,19,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"azt-question-answer-view-for-student-at-step-page",7),t.NdJ("setResultTracking",function(r){return a.setResultTracking.emit(r)})("setAnswerEmitter",function(r){return a.setAnswerEmitter.emit(r)})("autoResizeEssayAnswerEmitter",function(r){return a.autoResizeEssayAnswerEmitter.emit(r)})("setAnswerEssayEmitter",function(r){return a.setAnswerEssayEmitter.emit(r)}),t.qZA(),t.YNc(9,Lc,1,0,"div",8),t.qZA()(),t.TgZ(10,"azt-question-explain-box-for-student-at-step-test",9),t.NdJ("showExplainOfQuestion",function(){return a.showExplainOfQuestion()}),t.qZA()()),2&n){const o=t.MAs(5);t.xp6(2),t.Q6J("id","question_render_element_"+a.questionObj.id),t.xp6(1),t.Q6J("ngIf",!a.renderConfigObj.isRenderElement)("ngIfElse",o),t.xp6(5),t.Q6J("question",a.questionObj)("answerIndex",a.curQuestionIndex)("fontSize",a.fontSize),t.xp6(1),t.Q6J("ngIf",a.currentAnswerIsCorrect),t.xp6(1),t.Q6J("questionObj",a.questionObj)("renderConfigObj",a.renderConfigObj)("isShowExplain",a.isShowExplain)}},dependencies:[d.mk,d.O5,Ct.C,yt.T,se,re.J,_e.L,le.w,Ic],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']})}return i})();const Pc=function(i){return{"skeleton-box-loading":i}};function Fc(i,s){if(1&i&&t._UZ(0,"div",9),2&i){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,Pc,e.renderConfigObj.isFirstRender))}}function zc(i,s){if(1&i&&t._UZ(0,"azt-test-audio-ui",17),2&i){const e=t.oxw(2);t.Q6J("questionObj",e.questionObj)("isShowList",!0)}}const Uc=function(i){return{"pb-2":i}};function Nc(i,s){if(1&i&&(t.TgZ(0,"div",10)(1,"div",11),t._UZ(2,"azt-question-group-content-box",12),t.TgZ(3,"div",13),t.YNc(4,zc,1,2,"azt-test-audio-ui",14),t.TgZ(5,"div",15),t._UZ(6,"azt-question-label-box",16),t.qZA(),t._UZ(7,"azt-question-content-box",12),t.qZA()()()),2&i){const e=t.oxw();t.xp6(1),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize&&e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.questionObj.id)("ngClass",t.VKq(17,Uc,e.questionObj.attachments.length>0)),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj),t.xp6(2),t.Q6J("ngIf",e.questionObj.attachments.length>0),t.xp6(2),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("curQuestionIndex",e.curQuestionIndex),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)}}function Jc(i,s){1&i&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_tra_loi")," "))}let Dc=(()=>{class i extends ae.R{ngOnInit(){super.ngOnInit();let e=new oe.m(!0,!0,!1);super.initData(e,this.follower,this.questionObj),this.listenFontChanged&&this.waitDestroy(this.listenFontChanged.subscribe(()=>{this.reRenderContent()}))}constructor(){super(),this.follower=new R.p,this.curQuestionIndex=0,this.fontSize=1}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["azt-question-standalone-for-step-test-when-over-time"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",fontSize:"fontSize",listenFontChanged:"listenFontChanged"},features:[t.qOj],decls:10,vars:7,consts:[[1,"question-standalone-step-container-box","box"],[1,"question-standalone-step-question-box","p-3"],["load_effect_lazy","",1,"question-standalone-box",2,"box-shadow","none","margin","0px",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-step-answer-container-box"],[1,"ml-auto","mr-auto","w-full","relative"],[3,"question","answerIndex","fontSize"],["class","text-danger font-medium p-3 pt-0",4,"ngIf"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container",2,"padding","0px",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList",4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"examObj","questionObj","renderConfigObj","curQuestionIndex"],[3,"questionObj","isShowList"],[1,"text-danger","font-medium","p-3","pt-0"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,Fc,1,3,"div",3),t.YNc(4,Nc,8,19,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._UZ(8,"azt-question-answer-view-for-student-at-step-page",7),t.qZA()(),t.YNc(9,Jc,3,3,"div",8),t.qZA()),2&n){const o=t.MAs(5);t.xp6(2),t.Q6J("id","question_render_element_"+a.questionObj.id),t.xp6(1),t.Q6J("ngIf",!a.renderConfigObj.isRenderElement)("ngIfElse",o),t.xp6(5),t.Q6J("question",a.questionObj)("answerIndex",a.curQuestionIndex)("fontSize",a.fontSize),t.xp6(1),t.Q6J("ngIf",!a.questionObj.choseAnswer||""==a.questionObj.choseAnswer)}},dependencies:[d.mk,d.O5,Ct.C,yt.T,se,re.J,_e.L,le.w,p.JV],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']})}return i})();function Rc(i,s){1&i&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function Yc(i,s){1&i&&t._UZ(0,"div",11)}function Hc(i,s){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,Rc,3,0,"div",4),t.YNc(2,Yc,1,0,"div",8),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&1==e.numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&1!=e.numberOfChecks||"correct"!==e.practiceCheckAnswer)}}function Bc(i,s){1&i&&t._UZ(0,"div",14)}function Gc(i,s){1&i&&t._UZ(0,"div",15)}function Kc(i,s){1&i&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function Vc(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Bc,1,0,"div",12),t.YNc(2,Gc,1,0,"div",13),t.YNc(3,Kc,3,0,"div",6),t.qZA()),2&i){const e=t.oxw(),n=e.index,a=e.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n>o.curQuestion),t.xp6(1),t.Q6J("ngIf",n<o.curQuestion&&("wrong"===a.practiceCheckAnswer||1!=a.numberOfChecks)),t.xp6(1),t.Q6J("ngIf","correct"===a.practiceCheckAnswer&&1==a.numberOfChecks)}}function $c(i,s){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,Hc,3,2,"div",6),t.YNc(2,Vc,4,3,"div",4),t.qZA()),2&i){const e=s.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===n.curQuestion),t.xp6(1),t.Q6J("ngIf",e!==n.curQuestion)}}function Wc(i,s){if(1&i&&(t.ynx(0),t.YNc(1,$c,3,2,"li",5),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function Xc(i,s){1&i&&t._UZ(0,"div",17)}function tm(i,s){1&i&&t._UZ(0,"div",14)}function em(i,s){1&i&&t._UZ(0,"div",15)}function nm(i,s){1&i&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function im(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,tm,1,0,"div",12),t.YNc(2,em,1,0,"div",13),t.YNc(3,nm,3,0,"div",6),t.qZA()),2&i){const e=t.oxw(2),n=e.index,a=e.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n>o.curQuestion),t.xp6(1),t.Q6J("ngIf",n<o.curQuestion&&("wrong"===a.practiceCheckAnswer||1!=a.numberOfChecks)),t.xp6(1),t.Q6J("ngIf","correct"===a.practiceCheckAnswer&&1==a.numberOfChecks)}}function am(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Xc,1,0,"div",16),t.YNc(2,im,4,3,"div",4),t.BQk()),2&i){const e=t.oxw().index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===n.curQuestion),t.xp6(1),t.Q6J("ngIf",e!==n.curQuestion)}}function om(i,s){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,am,3,2,"ng-container",4),t.qZA()),2&i){const e=s.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e>=n.minCurQuestion&&e<n.minCurQuestion+n.numberOfShowItem)}}function sm(i,s){if(1&i&&(t.ynx(0),t.YNc(1,om,2,1,"li",5),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function rm(i,s){if(1&i&&(t.TgZ(0,"nav",2)(1,"ul",3),t.YNc(2,Wc,2,1,"ng-container",4),t.YNc(3,sm,2,1,"ng-container",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.questionList.length<=e.numberOfShowItem),t.xp6(1),t.Q6J("ngIf",e.questionList.length>e.numberOfShowItem)}}let _m=(()=>{class i extends b.Q{static#t=this.\u0275fac=function(){let e;return function(a){return(e||(e=t.n5z(i)))(a||i)}}();static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["list-status-answer"]],inputs:{questionList:"questionList",curQuestion:"curQuestion",minCurQuestion:"minCurQuestion",numberOfShowItem:"numberOfShowItem"},features:[t.qOj],decls:2,vars:1,consts:[[1,"azt-hidden","md:block"],["class","inline-block","style","vertical-align: middle;",4,"ngIf"],[1,"inline-block",2,"vertical-align","middle"],[1,"pagination","items-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","mx-1",4,"ngIf"],[1,"mx-1"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","text-success"],["points","20 6 9 17 4 12"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400"],["class","w-2 h-2 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],["class","w-2 h-2 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1 bg-slate-400",4,"ngIf"],[1,"w-2","h-2","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"],[1,"w-2","h-2","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1","bg-slate-400"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.YNc(1,rm,4,2,"nav",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",a.questionList.length&&a.questionList.length>1))},dependencies:[d.sg,d.O5],encapsulation:2})}return i})();const lm=["modalSaveImageUpload"],cm=["listQuestionBar"];function mm(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function um(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-info",5),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeShowInfo(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.showFormInfo)}}function dm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-monitor-screen",5),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeAutoMonitor(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataMonitorAuto)}}function gm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-upload-image",10),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.conFirmUpload(a))})("addFileMobile",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.addFileMobileUpload(a))})("isOnSelectFile",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onSelectFileEmit(a))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function pm(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"azt-loading-effect",12),t.ALo(2,"mytranslate"),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("customText",t.lcZ(2,1,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function hm(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"p",21)(1,"mat-icon",54),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&i){const e=t.oxw(6);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,null==e.examObj?null:e.examObj.startTime)," - ",t.lcZ(6,7,null==e.examObj?null:e.examObj.endTime)," ")}}function fm(i,s){if(1&i&&(t.TgZ(0,"div",55),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",56),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",56),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",56),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&i){const e=t.oxw(6);let n,a,o;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function xm(i,s){1&i&&(t.TgZ(0,"div",57)(1,"mat-icon",54),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function bm(i,s){1&i&&(t.TgZ(0,"div",57)(1,"mat-icon",54),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function vm(i,s){if(1&i&&t._UZ(0,"azt-question-standalone-for-step-test-when-over-time",61),2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(6);t.Q6J("examObj",o.examObj)("questionObj",n)("follower",o.followerRenderQuest)("curQuestionIndex",a)("fontSize",o.fontSize)("listenFontChanged",o.listenFontChanged.asObservable())}}function wm(i,s){if(1&i&&(t.TgZ(0,"div",58)(1,"div",59),t.YNc(2,vm,1,6,"azt-question-standalone-for-step-test-when-over-time",60),t.qZA()()),2&i){const e=s.$implicit,n=t.oxw(6);t.xp6(2),t.Q6J("ngIf",n.examObj&&e)}}function Tm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",65)(1,"div",42)(2,"button",66),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(7);return t.KtG(a.openUploadImage())}),t.O4$(),t.TgZ(3,"svg",44),t._UZ(4,"path",45)(5,"path",46)(6,"path",47),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",67),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(7);t.xp6(7),t.hij(" ",e.files.length>0?t.lcZ(8,2,"lang_auto_nop_them"):t.lcZ(9,4,"lang_auto_nop_tu_luan")," "),t.xp6(4),t.Oqu(t.lcZ(12,6,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function km(i,s){1&i&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.lnq("",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong"),""))}function Sm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tab",48),t.ALo(1,"mytranslate"),t.YNc(2,Tm,13,8,"div",62),t.YNc(3,km,5,9,"div",63),t.TgZ(4,"app-upload-ui",64),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.removeImg(a))}),t.qZA()()}if(2&i){const e=t.oxw(6);t.s9C("label",t.lcZ(1,4,"lang_auto_tu_luan")+" ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(2),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function Cm(i,s){if(1&i){const e=t.EpF();t.ynx(0,16),t.TgZ(1,"div",17)(2,"div",18)(3,"h3",19),t._uU(4),t.qZA(),t.TgZ(5,"p",20),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",21)(9,"div",22),t.O4$(),t.TgZ(10,"svg",23),t._UZ(11,"line",24)(12,"line",25)(13,"circle",26),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",27),t.O4$(),t.TgZ(18,"svg",28),t._UZ(19,"circle",29)(20,"path",30)(21,"line",31),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,hm,7,9,"p",32),t.kcU(),t.TgZ(25,"p",33),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,fm,13,9,"div",34),t.qZA(),t.YNc(31,xm,7,9,"div",35),t.YNc(32,bm,7,9,"div",35),t.TgZ(33,"div",36)(34,"div",37)(35,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeBackBtn())}),t.O4$(),t.TgZ(36,"svg",39),t._UZ(37,"path",40)(38,"line",41),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"div",42)(42,"button",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeSubmitBtn())}),t.O4$(),t.TgZ(43,"svg",44),t._UZ(44,"path",45)(45,"path",46)(46,"path",47),t.qZA(),t._uU(47),t.ALo(48,"mytranslate"),t.ALo(49,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(50,"mat-tab-group")(51,"mat-tab",48),t.ALo(52,"mytranslate"),t.YNc(53,wm,3,1,"div",49),t.qZA(),t.YNc(54,Sm,5,6,"mat-tab",50),t.qZA(),t.TgZ(55,"div",51)(56,"div",37)(57,"button",52),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeBackBtn())}),t.O4$(),t.TgZ(58,"svg",39),t._UZ(59,"path",40)(60,"line",41),t.qZA(),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(63,"div",42)(64,"button",53),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.endTimeSubmitBtn())}),t.O4$(),t.TgZ(65,"svg",44),t._UZ(66,"path",45)(67,"path",46)(68,"path",47),t.qZA(),t._uU(69),t.ALo(70,"mytranslate"),t.ALo(71,"mytranslate"),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(5);t.xp6(4),t.Oqu(null==e.examObj?null:e.examObj.name),t.xp6(2),t.AsE("",t.lcZ(7,23,"lang_auto_ma_de"),": ",null==e.examObj?null:e.examObj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,25,"lang_auto_thoi_gian"),": ",null==e.examObj?null:e.examObj.minutes," ",t.lcZ(16,27,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,29,"lang_auto_so_cau"),": ",e.countQuestion," "),t.xp6(2),t.Q6J("ngIf",(null==e.examObj?null:e.examObj.startTime)&&(null==e.examObj?null:e.examObj.endTime)),t.xp6(2),t.HOy("",t.lcZ(27,31,"lang_auto_thi_sinh"),": ",null==e.userObj?null:e.userObj.fullName," ",t.lcZ(28,33,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,35,null==e.testingResultObj?null:e.testingResultObj.startedTest),""),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(7),t.hij(" ",t.lcZ(40,37,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(48,39,"lang_auto_nop_muon"):t.lcZ(49,41,"lang_powerpoint_frontend_detail_submit")," "),t.xp6(4),t.s9C("label",t.lcZ(52,43,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(62,45,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?t.lcZ(70,47,"lang_auto_nop_muon"):t.lcZ(71,49,"lang_powerpoint_frontend_detail_submit")," ")}}function ym(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-exit-exam",71),t.NdJ("closeDialog",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.closeQuitDialog())})("redirectToHomepage",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.redirectToHomepage(a))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.quitTestData)}}function Om(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-confirm-exam",71),t.NdJ("closeDialog",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.closeSubmitDialog())})("redirectToHomepage",function(a){t.CHM(e);const o=t.oxw(6);return t.KtG(o.confirmSubmit(a))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.submitData)}}function Am(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",78)(1,"button",79),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(7);return t.KtG(a.openQuitDialog())}),t.TgZ(2,"span",80),t._UZ(3,"lucide-icon",81),t.qZA(),t.TgZ(4,"span",82),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&i&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_thoat")," "))}function Im(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",83)(1,"button",84),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(7);return t.KtG(a.redirectToHomepage(!1))}),t.O4$(),t.TgZ(2,"svg",85),t._UZ(3,"polyline",86),t.qZA(),t.kcU(),t.TgZ(4,"span",87),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_quay_lai")))}function Zm(i,s){if(1&i&&(t.TgZ(0,"span",90),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName," ")}}function jm(i,s){if(1&i&&(t.TgZ(0,"div",88),t.YNc(1,Zm,3,4,"span",89),t.qZA()),2&i){const e=t.oxw(7);t.xp6(1),t.Q6J("ngIf",e.userObj&&!e.isEmpty(e.userObj))}}const Mm=function(i){return{"time-almost-end":i}};function qm(i,s){if(1&i&&(t.TgZ(0,"div",91)(1,"div",27),t.O4$(),t.TgZ(2,"svg",92),t._UZ(3,"circle",29)(4,"polyline",93),t.qZA(),t.kcU(),t.TgZ(5,"span",94)(6,"span",56),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",56),t._uU(10),t.qZA(),t._uU(11," : "),t.TgZ(12,"span",56),t._uU(13),t.qZA()()()()),2&i){const e=t.oxw(7);let n,a,o;t.xp6(5),t.Q6J("ngClass",t.VKq(4,Mm,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.minute)&&void 0!==a?a:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.second)&&void 0!==o?o:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Qm(i,s){1&i&&(t.TgZ(0,"div",91)(1,"div",27),t.O4$(),t.TgZ(2,"svg",92),t._UZ(3,"circle",29)(4,"polyline",93),t.qZA(),t.kcU(),t.TgZ(5,"span",95),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_khong_gioi_han")," "))}function Lm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",107),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.goBackFullScreen())}),t.ALo(1,"mytranslate"),t.TgZ(2,"span",108),t._UZ(3,"lucide-icon",109),t.qZA()()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_toan_man_hinh"))}function Em(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",110),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.exitFullscreen())}),t.ALo(1,"mytranslate"),t.TgZ(2,"span",108),t._UZ(3,"lucide-icon",111),t.qZA()()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_tested_list_exit_full_screen"))}function Pm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",96)(1,"button",97),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(7);return t.KtG(a.zoomOut())}),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t.O4$(),t.TgZ(4,"svg",98),t._UZ(5,"circle",99)(6,"line",100)(7,"line",101),t.qZA()()(),t.kcU(),t.TgZ(8,"button",102),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(7);return t.KtG(a.zoomIn())}),t.ALo(9,"mytranslate"),t.TgZ(10,"span"),t.O4$(),t.TgZ(11,"svg",103),t._UZ(12,"circle",99)(13,"line",100)(14,"line",104)(15,"line",101),t.qZA()()()(),t.kcU(),t.TgZ(16,"div",42),t.YNc(17,Lm,4,3,"button",105),t.YNc(18,Em,4,3,"button",106),t.qZA()}if(2&i){const e=t.oxw(7);t.xp6(1),t.Q6J("disabled",e.fontSize<=1)("matTooltip",t.lcZ(2,6,"lang_take_test_zoom_out")),t.xp6(7),t.Q6J("disabled",e.fontSize>=2)("matTooltip",t.lcZ(9,8,"lang_take_test_zoom_in")),t.xp6(9),t.Q6J("ngIf",!e.checkFullscreen),t.xp6(1),t.Q6J("ngIf",e.checkFullscreen)}}function Fm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",112)(1,"app-select-classes",113),t.NdJ("selectClassroom",function(a){t.CHM(e);const o=t.oxw(8);return t.KtG(o.closeChooseStudent(a))}),t.qZA()()}if(2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("dataClass",e.chooseChildData.classroomObjs)("isSearchTeacher",!1)("isMobile",e.isMobile)}}function zm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",112)(1,"app-select-student-to-join-classroom",114),t.NdJ("selectChild",function(a){t.CHM(e);const o=t.oxw(8);return t.KtG(o.closeChooseStudent(a))})("approvedByName",function(a){t.CHM(e);const o=t.oxw(8);return t.KtG(o.approvedByName(a))})("backToClass",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.backToClassList())}),t.qZA()()}if(2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("data",e.chooseChildData)("hasBackToLink",!0)}}function Um(i,s){if(1&i&&(t.YNc(0,Fm,2,3,"ng-template",77),t.YNc(1,zm,2,2,"ng-template",77)),2&i){const e=t.oxw(7);t.Q6J("ngIf",e.selectClassroom),t.xp6(1),t.Q6J("ngIf",e.selectStudent)}}function Nm(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(3,4,null==e.examObj?null:e.examObj.startTime)," ")}}function Jm(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",128),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(9);return t.KtG(a.goToBuyExam())}),t.TgZ(1,"span",129),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon",130),t._uU(5,"shopping_cart"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_di_mua")))}const Dm=function(i){return[i]};function Rm(i,s){if(1&i&&(t.TgZ(0,"div",117)(1,"div",118)(2,"div",119)(3,"div",120),t._UZ(4,"lucide-icon",121),t.qZA(),t.TgZ(5,"div",122),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.YNc(8,Nm,4,6,"span",70),t.YNc(9,Jm,6,3,"span",123),t.qZA()(),t.TgZ(10,"div",124)(11,"btn",125),t.ALo(12,"localize"),t.TgZ(13,"span",126),t._UZ(14,"lucide-icon",127),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw(8);t.xp6(6),t.Oqu(t.lcZ(7,5,e.hasErrorMessage)),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_doest_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(11,Dm,t.lcZ(12,7,e.homeLink))),t.xp6(4),t.hij(" ",t.lcZ(16,9,"lang_auto_quay_lai_trang_chu")," ")}}function Ym(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"azt-question-standalone-for-step-test",138),t.NdJ("autoResizeEssayAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.autoResizeEssayAnswer(a))})("setAnswerEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setAnswerTrueFalse(a))})("setAnswerEssayEmitter",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setAnswerEssay(a))})("setResultTracking",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.setResultTracking(a))})("sendAudioEmit",function(a){t.CHM(e);const o=t.oxw(11);return t.KtG(o.sendAudioForQuestion(a))})("showHintAnswer",function(){t.CHM(e);const a=t.oxw(11);return t.KtG(a.showHintAnswer())}),t.qZA()}if(2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(10);let r;t.Q6J("examObj",o.examObj)("questionObj",n)("follower",o.followerRenderQuest)("curQuestionIndex",a)("fontSize",o.fontSize)("isShowExplain",null!==(r=n.isShowHint)&&void 0!==r&&r)("listenFontChanged",o.listenFontChanged.asObservable())("currentAnswerIsCorrect","correct"===n.practiceCheckAnswer)}}function Hm(i,s){if(1&i&&(t.TgZ(0,"div",135)(1,"div",136),t.YNc(2,Ym,1,8,"azt-question-standalone-for-step-test",137),t.qZA()()),2&i){const e=s.$implicit,n=s.index,a=t.oxw(10);t.xp6(1),t.s9C("id","question_"+n),t.Q6J("hidden",n!=a.curQuestion),t.xp6(1),t.Q6J("ngIf",a.examObj&&e)}}function Bm(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-upload-ui",133),t.NdJ("changesPosImg",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.changesPosImg(a))})("removeFile",function(a){t.CHM(e);const o=t.oxw(9);return t.KtG(o.removeImg(a))}),t.qZA(),t.YNc(2,Hm,3,3,"div",134),t.BQk()}if(2&i){const e=t.oxw(9);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngForOf",e.questionList)}}const Gm=function(i,s){return{"monitor-screen":i,"monitor-screen-mobile":s}};function Km(i,s){if(1&i&&(t.TgZ(0,"div",117),t._UZ(1,"div",131,132),t.YNc(3,Bm,3,5,"ng-container",70),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("ngClass",t.WLB(2,Gm,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit)}}function Vm(i,s){1&i&&t._UZ(0,"lucide-icon",180)}function $m(i,s){if(1&i&&(t.TgZ(0,"div",178),t._UZ(1,"lucide-icon",143),t.YNc(2,Vm,1,0,"lucide-icon",179),t.qZA()),2&i){const e=t.oxw(11);t.xp6(2),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer)}}function Wm(i,s){1&i&&(t.TgZ(0,"div",181),t._UZ(1,"lucide-icon",180),t.qZA())}function Xm(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_testbank_frontend_not_correct")+"!"))}function tu(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_testbank_frontend_well_done")))}function eu(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_testbank_frontend_pay_more_attention_okay")))}function nu(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span")(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",182),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(11);return t.KtG(a.nextQuestion(a.curQuestion))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_testbank_frontend_try_again_or_you_can")+" "),t.xp6(3),t.Oqu(t.lcZ(6,4,"lang_testbank_frontend_skip")))}function iu(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_testbank_frontend_keep_up_the_good_work_keep_going")," "))}function au(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_testbank_frontend_keep_trying_harder_okay")," "))}function ou(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",159)(1,"div",160),t.YNc(2,$m,3,1,"div",161),t.YNc(3,Wm,2,0,"div",162),t.TgZ(4,"div",163)(5,"div",164),t.YNc(6,Xm,3,3,"span",70),t.YNc(7,tu,3,3,"span",70),t.YNc(8,eu,3,3,"span",70),t.qZA(),t.TgZ(9,"div",165),t.YNc(10,nu,7,6,"span",70),t.YNc(11,iu,3,3,"span",70),t.YNc(12,au,3,3,"span",70),t.qZA()(),t.TgZ(13,"div",166)(14,"button",167),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.closeStatusBoxAnswer())}),t.TgZ(15,"span",168),t._UZ(16,"lucide-icon",169),t.qZA()()()(),t.TgZ(17,"div",152)(18,"div",170),t.O4$(),t.TgZ(19,"svg",171)(20,"filter",172),t._UZ(21,"feOffset",173)(22,"feGaussianBlur",174),t.TgZ(23,"feComponentTransfer"),t._UZ(24,"feFuncA",175),t.qZA(),t.TgZ(25,"feMerge"),t._UZ(26,"feMergeNode")(27,"feMergeNode",176),t.qZA()(),t._UZ(28,"polyline",177),t.qZA()()()()}if(2&i){const e=t.oxw(10);t.xp6(2),t.Q6J("ngIf","wrong"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(3),t.Q6J("ngIf","wrong"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&1==e.questionList[e.curQuestion].numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&e.questionList[e.curQuestion].numberOfChecks&&1!=e.questionList[e.curQuestion].numberOfChecks),t.xp6(2),t.Q6J("ngIf","wrong"==e.questionList[e.curQuestion].practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&1==e.questionList[e.curQuestion].numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"==e.questionList[e.curQuestion].practiceCheckAnswer&&e.questionList[e.curQuestion].numberOfChecks&&1!=e.questionList[e.curQuestion].numberOfChecks)}}function su(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",183),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.checkAnswerQuestion())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(10);t.Q6J("disabled",!(e.answerList[e.curQuestion]&&e.answerList[e.curQuestion].answerContent)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_testbank_check")," ")}}function ru(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",184),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.checkAnswerQuestion())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_try_again"),""))}function _u(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",185),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.nextQuestion(a.curQuestion))}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_next_question"),""))}function lu(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",186),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(10);return t.KtG(a.showResultAnswer())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_frontend_view_results"),""))}function cu(i,s){if(1&i&&(t.TgZ(0,"div",151)(1,"div",152)(2,"div",153),t.YNc(3,ou,29,8,"div",154),t.qZA(),t.YNc(4,su,4,4,"button",155),t.YNc(5,ru,4,3,"button",156),t.YNc(6,_u,4,3,"button",157),t.YNc(7,lu,4,3,"button",158),t.qZA()()),2&i){const e=t.oxw(9);t.xp6(3),t.Q6J("ngIf",e.isShowBoxStatusAnswer&&("correct"==e.questionList[e.curQuestion].practiceCheckAnswer||"wrong"==e.questionList[e.curQuestion].practiceCheckAnswer)),t.xp6(1),t.Q6J("ngIf",!(e.questionList[e.curQuestion].practiceCheckAnswer&&e.isShowBoxStatusAnswer||"correct"===e.questionList[e.curQuestion].practiceCheckAnswer)),t.xp6(1),t.Q6J("ngIf","wrong"===e.questionList[e.curQuestion].practiceCheckAnswer&&e.isShowBoxStatusAnswer),t.xp6(1),t.Q6J("ngIf","correct"===e.questionList[e.curQuestion].practiceCheckAnswer&&e.curQuestion!==e.questionList.length-1),t.xp6(1),t.Q6J("ngIf","correct"===e.questionList[e.curQuestion].practiceCheckAnswer&&e.curQuestion===e.questionList.length-1)}}function mu(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",139)(1,"div",140)(2,"button",141),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.resetAnswerQuestion())}),t.TgZ(3,"span",142),t._UZ(4,"lucide-icon",143),t.qZA(),t.TgZ(5,"span",144),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"button",145),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(8);return t.KtG(a.showAnswerDialog())}),t.TgZ(9,"span",146),t._UZ(10,"lucide-icon",147),t.qZA(),t.TgZ(11,"span",20),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",148),t._UZ(15,"list-status-answer",149),t.qZA()(),t.YNc(16,cu,8,5,"div",150),t.qZA()}if(2&i){const e=t.oxw(8);t.xp6(2),t.Q6J("disabled",!e.checkWrongAnswer||e.curQuestion===e.questionList.length-1),t.xp6(4),t.hij(" ",t.lcZ(7,8,"lang_testbank_start_over")," "),t.xp6(6),t.hij(" ",t.lcZ(13,10,"lang_auto_cau")+" "+(e.curQuestion+1)+"/"+e.questionList.length," "),t.xp6(3),t.Q6J("questionList",e.questionList)("curQuestion",e.curQuestion)("minCurQuestion",e.minCurQuestion)("numberOfShowItem",e.numberOfShowItemListQuestion),t.xp6(1),t.Q6J("ngIf",e.questionList[e.curQuestion])}}function uu(i,s){if(1&i&&(t.YNc(0,Rm,17,13,"div",115),t.YNc(1,Km,4,5,"div",115),t.YNc(2,mu,17,12,"div",116)),2&i){const e=t.oxw(7);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function du(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",72),t.YNc(2,Am,7,3,"div",73),t.YNc(3,Im,7,3,"div",74),t.YNc(4,jm,2,1,"div",75),t.YNc(5,qm,14,6,"div",76),t.YNc(6,Qm,8,3,"div",76),t.YNc(7,Pm,19,10,"ng-template",77),t.qZA(),t.YNc(8,Um,2,2,"ng-template",77),t.YNc(9,uu,3,3,"ng-template",77),t.BQk()),2&i){const e=t.oxw(6);t.xp6(2),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function gu(i,s){if(1&i&&(t.YNc(0,ym,1,1,"app-exit-exam",69),t.YNc(1,Om,1,1,"app-confirm-exam",69),t.YNc(2,du,10,8,"ng-container",70)),2&i){const e=t.oxw(5);t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow&&!e.showFormInfo.isShow)}}function pu(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Cm,72,51,"ng-container",14),t.YNc(2,gu,3,3,"ng-template",null,15,t.W1O),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!n.validForTakeTest)("ngIfElse",e)}}function hu(i,s){if(1&i&&(t.TgZ(0,"p",196),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function fu(i,s){if(1&i&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,hu,2,1,"p",195),t.qZA()),2&i){const e=s.$implicit,n=s.index;t.xp6(3),t.AsE("",n+1,". ",e.message,": "),t.xp6(1),t.Q6J("ngForOf",e.data)}}function xu(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",187)(1,"div",188)(2,"h3",189),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",190),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,fu,5,3,"div",191),t.TgZ(25,"p",192)(26,"button",193),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.endTimeBackBtn())}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",194),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.reloadExam())}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()}if(2&i){const e=t.oxw(4);t.xp6(3),t.Oqu(t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.hij(" ",t.lcZ(10,16,"lang_auto_ma_de_thi")+": ",""),t.xp6(3),t.AsE("",null==e.examObj?null:e.examObj.hashId," - ",null==e.testingResultObj?null:e.testingResultObj.id,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+e.questsLoadState.loadPercent,"%"),t.xp6(3),t.hij(" ",t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": ",""),t.xp6(3),t.hij("",e.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",e.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," ")}}function bu(i,s){if(1&i&&(t.YNc(0,pu,4,2,"ng-container",2),t.YNc(1,xu,32,28,"ng-template",null,13,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf",!n.questsLoadState.hasErrs)("ngIfElse",e)}}function vu(i,s){if(1&i&&(t.YNc(0,pm,3,3,"ng-container",2),t.YNc(1,bu,3,2,"ng-template",null,11,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",n.questsLoadState.startLoad)("ngIfElse",e)}}function wu(i,s){if(1&i&&(t._UZ(0,"azt-loading-effect",12),t.ALo(1,"mytranslate")),2&i){const e=t.oxw(2);t.Q6J("customText",t.lcZ(1,1,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.loadMixedExamProgress+"%")}}function Tu(i,s){1&i&&(t.TgZ(0,"div",197)(1,"mat-icon",54),t._uU(2,"error"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_loi_khi_tai_du_lieu_de_thi_hay_thu_lai_bang_cach_tai_lai_trang_web"),""))}function ku(i,s){if(1&i&&(t.YNc(0,gm,1,2,"app-upload-image",6),t.YNc(1,vu,3,2,"ng-template",null,7,t.W1O),t.YNc(3,wu,2,3,"azt-loading-effect",8),t.YNc(4,Tu,5,3,"div",9)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",n.isMixedService2&&!n.doneLoadMixedExamAssets&&!n.errorLoadMixedAssets)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",n.errorLoadMixedAssets)}}function Su(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-name",5),t.NdJ("closeDialog",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.closeSubmitName(a))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.submitNameData)}}let Cu=(()=>{class i extends b.Q{get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}changeSizeImgOrMathJax(e){let n=document.getElementsByClassName("img-docx"),a=document.getElementsByClassName("MJX-TEX");n.length&&Array.from(n).forEach(o=>{if(o instanceof HTMLElement){let r=o.offsetWidth;o.style.width=e?r+10+"px":r-10+"px",o.style.height="auto"}}),a.length&&Array.from(a).forEach(o=>{o instanceof HTMLElement&&(o.style.fontSize=this.fontSize+"em")})}zoomIn(){this.fontSize<2&&(this.fontSize+=.1,this.changeSizeImgOrMathJax(!0),this.listenFontChanged.next())}zoomOut(){this.fontSize>1&&(this.fontSize-=.1,this.changeSizeImgOrMathJax(!1),this.listenFontChanged.next())}getData(){var e=this.browserStorageService.getSimpleStorage("password_"+this.hashId),n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.subscriptions.add(J.N.production||J.N.isProdAzotaVn?this.frontExamService.apiFrontExamInitDataGet(this.hashId,this.password,n||""!=this.tempStorageInfo?1:0,this.deviceId,1).subscribe(o=>{const r=this.encryptionHelper.result(o);this.processInitData(r)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,this.password,n||""!=this.tempStorageInfo?1:0,this.deviceId,1).subscribe(o=>{this.processInitData(o)}))}processInitData(e){e&&e.data&&(this.homeworkExamService.allowAnonymousUser(e.data.examObj)?e.data?.hasOwnProperty("errorMessage")&&"lang_core_exam_password_invalid"==e.data?.errorMessage?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(e):this.userService.isAnonymousRoleOfCurrentUser()?(this.hasErrorMessage="lang_auto_yeu_cau_dang_nhap_de_vao_thi",this.stopStatusObj(),this.openSubmitName(!0)):e.data?.hasOwnProperty("errorMessage")&&"lang_core_exam_password_invalid"==e.data?.errorMessage?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(e))}processData(e){if(1==e.success&&e.data)if(this.examObj=e.data?.examObj?{...e.data.examObj,editable:!0,allowStudentView:!0,permissionObj:{}}:void 0,this.termExamResultId=e.data?.testingExamResultObj&&e.data?.testingExamResultObj.id?e.data?.testingExamResultObj.id:0,this.testingResultObj=e.data?.testingExamResultObj,this.userObj=e.data?.studentObj,this.commonService.translateMetaData({title:e.data?.examObj?.name?e.data.examObj.name:"",description:e.data?.examObj?.name?e.data.examObj.name:""}),this.dataProcess=e.data,this.userService.isAnonymousRoleOfCurrentUser())if(this.homeworkExamService.allowAnonymousUser(this.dataProcess?.examObj)){var n=this.userService.getUserObj();this.userService.isAnonymousName(n)?(this.stopStatusObj(),1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo&&(a=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a,!0),this.hasErrorMessage="lang_cms_test_must_submit_info"):this.openSubmitName(!1)):1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo?(a=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e)}else 1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo?(a=this.commonService.willDeleteParseJson(e.data?.examObj?.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e);else if(this.homeworkExamService.mustInClassroom(this.dataProcess?.examObj))if(this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(this.dataProcess?.studentObj??{})){var o=this.dataProcess.studentObj;1==o?.isVerified?1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo?(a=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e):(this.stopStatusObj(),this.openChooseStudent({student:o??null,chooseStudentData:null,responseFrontExam:null},3))}else if(this.dataProcess.hasOwnProperty("classroomObj")&&this.isEmpty(this.dataProcess?.classroomObj??{}))this.stopStatusObj(),this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1);else{this.stopStatusObj();var r=[];this.dataProcess.studentObjs&&this.dataProcess.studentObjs.length>0&&(r=this.dataProcess.studentObjs.filter(l=>l.classroomId==(this.dataProcess?.classroomObj?.id??0))),this.openChooseStudent({chooseStudentData:{studentObjs:r,classroomObj:this.dataProcess.classroomObj,onlyOneClass:!0},student:null,responseFrontExam:null},2)}else if(1==e.data?.examObj?.enterInfo&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId)&&""==this.tempStorageInfo){var a;(a=this.commonService.willDeleteParseJson(e.data.examObj.infoFieldsV2??""))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData())}else this.fillData(e);else this.showErrorSnack(e.message??"")}changeQuestionContent(e){for(var n=[],a=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("limitAudioV5_"+this.examObj?.id+"_"+this.testingResultObj?.id)??""),o=0;o<e.length;o++){let _=e[o];if(_){if(this.answerTypeService.isEssayAnswer(e[o])&&(_.essayText=""),this.answerTypeService.isFillAnswer(e[o])&&(_.essayText=""),(this.examObj?.limitAudio??-1)>0)if(a){var r=a.filter(l=>l.questionId==e[o].id);r&&r.length>0&&(_.limitAudio=r[0].limitTimes+r[0].limitPlay,_.limitPlay=0)}else _.attachments&&_.attachments.length>0&&(_.limitAudio=0,_.limitPlay=0);_={..._,index:o,status:!1},n.push(_)}}return(this.examObj?.limitAudio??-1)>0?this.addAudioObjsToQuestion(n):n}addAudioObjsToQuestion(e){var n=[];return e.forEach(a=>{if(a.attachments&&a.attachments.length>0){a.audioLimitObjs=[];let r=(this.examObj?.limitAudio??0)-(a.limitAudio??0);if(r>0)for(var o=0;o<r;o++)a.audioLimitObjs.push({index:o,status:!0})}n.push(a)}),n}sendAudioForQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e.obj?.id&&(1==e.play?this.questionList[n].limitPlay=(this.questionList[n].limitPlay??0)+1:(this.questionList[n].limitPlay=(this.questionList[n].limitPlay??0)-1,this.questionList[n].limitAudio=(this.questionList[n].limitAudio??0)+1,this.questionList[n].audioLimitObjs?.forEach(a=>{a.index==e.index&&(a.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e=[];this.questionList.forEach(n=>{n.attachments&&n.attachments.length>0&&e.push({questionId:n.id,limitTimes:n.limitAudio,limitPlay:n.limitPlay})}),e.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.examObj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV5_"+this.examObj?.id+"_"+this.testingResultObj?.id,JSON.stringify(e)))}compareContent(e,n){return e.key==n.content}compareContentPDF(e,n){return e.content==n.content}fillData(e){this.checkResultTracking(),this.userObj=this.homeworkExamService.mustInClassroom(this.examObj)?e.data?.studentObj??this.userService.getUserObj():this.userService.getUserObj(),this.totalTime=e.data?.countDownSecond??0,this.startTestTime=e.data?.startServerSecond??0;var n=this.commonService.willDeleteParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id)??"");if(this.hashIdUpdate=e.data?.hashCodeUpload??"",this.sendHashIdUpdate(this.hashIdUpdate),e.data?.hasOwnProperty("errorMessage")&&e.data.errorMessage)this.hasErrorMessage=e.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.stopStatusObj();else{this.hasErrorMessage="",(e.data?.examObj?.minutes??-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((e.data?.countDownSecond??1)<=0&&!this.unLimitTime);let a=this.commonService.castJsonToClassObjs(at.v,JSON.stringify(e.data?.questionObjs)),o=this.changeQuestionContent(a??[]);this.syncData&&this.syncData.updated_at?null==n?(this.answerList=null!=this.syncData.answers?this.syncData.answers:[],this.files=this.commonService.myParseJson(this.syncData.files??"")??[],o=this.reBindDataQuestion(o,this.answerList)):new Date(this.syncData.updated_at).getTime()<n.saveTime?(this.answerList=n.answers,this.noteList=n.notes,this.files=this.commonService.myParseJson(n.files)??[],o=this.reBindDataQuestion(o,this.answerList)):(this.answerList=this.syncData.answers,this.files=this.commonService.myParseJson(this.syncData.files)??[],o=this.reBindDataQuestion(o,this.answerList)):n&&(this.answerList=n.answers,this.noteList=n.notes,this.files=this.commonService.myParseJson(n.files)??[],o=this.reBindDataQuestion(o,this.answerList)),this.curQuestion=this.answerList?.length?this.answerList?.length-1:0,this.followerRenderQuest.setNumQuest(o.length),this.stopStatusObj(),this.questsLoadState.startLoad=!0,this.questionRenderService.parseRenderQuestions(o,r=>{this.questsLoadState.loadPercent=Math.floor(r)}).then(r=>{this.questionList=r,this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.listEssayQuestionIds=this.foundEssayQuestions(),this.countEssayQuestion=this.listEssayQuestionIds.length,this.hasEssayQuestion=!!this.countEssayQuestion,this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer(),this.setTimeAutoSync()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.getQuestionCanFeedback(),this.setTimeClient(),this.reloadGetAnswerQuestion()}).catch(r=>{this.showErrorSnack(e.message),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=r,this.stopStatusObj()})}}getQuestionCanFeedback(){if(Array.isArray(this.questionList)){let e=[];this.questionList.forEach(n=>{n.id&&!this.commonService.isExistInArray(e,n.id)&&e.push(n.id)}),this.subscriptions.add(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(this.examObj?.id,e.join(",")).subscribe(n=>{if(1==n.success){let a=n.data?.objs??[];if(Array.isArray(this.questionList))for(let o=0;o<this.questionList.length;o++)a.forEach(r=>{this.questionList&&this.questionList[o].id==r.questionId&&(this.questionList[o].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}else this.stopStatusObj()}reloadExam(){location.reload()}takeAnswerForQuestion(e,n){n.forEach(a=>{e?.forEach(o=>{if(o.questionId==a.id)if(this.answerTypeService.isFillAnswer(a)||this.answerTypeService.isEssayAnswer(a))a.choseAnswer=o.answerContent[0].content;else if((this.answerTypeService.isOneChoiceAnswer(a)||this.answerTypeService.isMultipleChoiceAnswer(a))&&a.answers){var r=o.answerContent[0].index;a.choseAnswer=a.answers[r].alpha?a.answers[r].alpha:a.answers[r].key}})})}reBindDataQuestion(e,n){var a=[];return e?.forEach(o=>{n?.forEach(r=>{if(r.questionId==o.id){if(this.answerTypeService.isEssayAnswer(o))(_=r.answerContent&&r.answerContent.length>0?r.answerContent[0].content:"")&&(o.essayText=_);else if(this.answerTypeService.isFillAnswer(o)){var _;(_=r.answerContent&&r.answerContent.length>0?r.answerContent[0].content:"")&&(o.essayText=_)}else if(o.answers)for(var l=0;l<o.answers.length;l++)for(let c=0;c<r.answerContent.length;c++)this.compareContent(o.answers[l],r.answerContent&&r.answerContent.length>0?r.answerContent[c]:{index:0,content:""})&&(o.answers[l].checked=!0);o.status=!0}}),a.push(o)}),a}approvedByName(e){this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForExamPost({fullName:e.nameEmit??"",examHashId:this.dataProcess?.examObj?.hashId??"",classroomId:e.classId?e.classId:0}).subscribe(a=>{1==a.success?(this.getData(),this.chooseChildData={studentObjs:[],classroomObjs:[],isPendingApproved:!1,isShow:!1}):this.showErrorSnack(a.message??"")}))}openChooseStudent(e,n){e.responseFrontExam&&1==n?(this.selectStudent=!1,this.selectClassroom=!0,this.chooseChildData={classroomObjs:e.responseFrontExam.classroomObjs??[],studentObjs:[],isPendingApproved:!1,isShow:!0},e.responseFrontExam.classroomObjs&&1==e.responseFrontExam.classroomObjs?.length&&this.closeChooseStudent({classObj:e.responseFrontExam.classroomObjs?.[0]??{},studentObj:void 0,type:1,onlyOneClass:!0})):e.chooseStudentData&&2==n?(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={classroomObjs:[],studentObjs:e.chooseStudentData.studentObjs??[],classObj:e.chooseStudentData.classroomObj,onlyOneClass:e.chooseStudentData.onlyOneClass,isPendingApproved:!1,isShow:!0}):e.student&&(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={studentObjs:[],classroomObjs:[],studentObj:{...e.student,avatar:"",last4DigitPhone:"",zaloName:"",userEmail:""},isPendingApproved:!0,isShow:!0})}closeChooseStudent(e){if(1==e.type){var n=this.dataProcess?.studentObjs,a=[];n&&n.length>0&&(a=n.filter(_=>_.classroomId==(e.classObj?.id??0))),3==this.examObj?.whoAllow&&e.classObj&&(e.classObj.showAddStudent=0),this.openChooseStudent({chooseStudentData:{studentObjs:a,classroomObj:e.classObj,onlyOneClass:e.onlyOneClass},student:null,responseFrontExam:null},2)}else{var r=this.userService?.getUserObj();0==e.studentObj?.isVerified||1==e.classObj?.freeChooseName?this.frontStudentService.apiFrontStudentAddStudentToClassForExamGet(this.dataProcess?.examObj?.hashId??"",e.classId??0,e.studentObj?.id?e.studentObj.id:0).subscribe(_=>{1==_.success?(this.getData(),this.isAfterChooseStudent=!0,this.chooseChildData={studentObjs:[],classroomObjs:[],isPendingApproved:!1,isShow:!1}):(this.isAfterChooseStudent=!1,this.showErrorSnack("lang_auto_khong_tai_duoc_du_lieu"))}):r.id==e.studentObj?.parentId?(this.getData(),this.chooseChildData={studentObjs:[],classroomObjs:[],isPendingApproved:!1,isShow:!1}):(this.sendRequestData={studentObj:e.studentObj,classId:e.classId,isShow:!0},this.sAztDialogService.open(Xt.P,{width:"600px",data:this.sendRequestData,restoreFocus:!1}).afterClosed().subscribe(l=>{switch(l){case"success":this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien");break;case"error":this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai")}}))}}confirmSendRequest(e){e?(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien")):(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1}}backToClassList(){this.openChooseStudent({responseFrontExam:this.dataProcess??null,student:null,chooseStudentData:null},1)}setTimeExam(){if((this.examObj?.minutes??-1)>0){var e="exam",n=this.globalService.plusGlobalInterval(e);this.intervalExamTimeout=window.setInterval(()=>{try{if(n==this.globalService.getGlobalInterval(e)){const a=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),_=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(n??0,e)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==a&&0==r?{hour:a,minute:r,second:_,almostEnd:!0}:{hour:a,minute:r,second:_,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(a){console.log(a)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var e="examServerTime",n=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.subscriptions.add(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(a=>{1==a.success&&(this.totalTime=this.startTestTime+60*(this.examObj?.minutes??0)-(a.data?.curServerTime??0),this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(n??0,e)),clearInterval(this.intervalGetTimeServer)))})):clearInterval(this.intervalGetTimeServer)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,n){return Math.floor(Math.random()*(n-e+1)+e)}setTimeAutoSync(){var e="autoSyncDataTimeCount",n=this.globalService.plusGlobalInterval(e);this.intervalSyncData=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)&&this.validForTakeTest||clearInterval(this.intervalSyncData)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(120,180)),this.globalService.pushIntervalObjs(this.intervalSyncData)}setTimeAutoSubmit(e,n){var a=this.totalTime+90,o="autoSubmitTimeCount",r=this.globalService.plusGlobalInterval(o);this.intervalAutoSubmit=window.setInterval(()=>{try{if(r!=this.globalService.getGlobalInterval(o)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const _=Math.floor(a/3600),c=Math.floor(a%3600/60),u=a%60;a<=0?(this.timeCount={hour:0,minute:0,second:0},(r==this.globalService.getGlobalInterval(o)||e==this.globalService.getGlobalInterval(n))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:_,minute:c,second:u},a-=1}}catch(_){console.log(_)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",n=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(a){console.log(a)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setAnswerTrueFalse(e){var n=this.answerList?.filter(_=>_.questionId==e.id);if(this.isShowBoxStatusAnswer=!1,e.answerConfig&&null!=e.index&&1==e.type){var a={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(n&&n.length>0)for(var o=0;o<this.answerList?.length;o++){let _=!1;for(let c=0;c<this.answerList[o].answerContent.length;c++)if(this.answerList[o].answerContent[c].content===a.answerContent[0].content){_=!0;break}this.answerList[o].questionId==a.questionId&&!_&&this.answerList[o].answerContent.push(a.answerContent[0]);let l=this.answerList[o].answerContent.findIndex(c=>c.index===a.answerContent[0].index);this.answerList[o].questionId==a.questionId&&_&&this.answerList[o].answerContent.splice(l,1)}else this.answerList?.push(a);this.changeStatusAnswer(a,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var r={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?e.answerConfig.content??"":e.answerConfig.key??""}]};if(n&&n.length>0)for(o=0;o<this.answerList?.length;o++)this.answerList[o].questionId==r.questionId&&(this.answerList[o].answerContent=r.answerContent);else this.answerList?.push(r);this.changeStatusAnswer(r,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id)}setAnswerEssay(e){var n=!0;this.isShowBoxStatusAnswer=!1;var a=this.answerList?.filter(g=>g.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(this.onTypingAnswer=!0,e.event.target instanceof HTMLTextAreaElement&&null!=e.event.target.value){var o={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value.trim()}]};if(a&&a.length>0){for(var r=0;r<this.answerList?.length;r++)if(this.answerList[r].questionId==o.questionId){for(var _=0;_<this.answerList[r].answerContent.length;_++)this.answerList[r].answerContent[_].index==o.answerContent[0].index&&(this.answerList[r].answerContent[_].content=o.answerContent[0].content);var l=this.answerList[r].answerContent.filter(g=>g.index==o.answerContent[0].index);l&&0==l.length&&this.answerList[r].answerContent.push(o.answerContent[0])}this.onTypingAnswer=!1}else this.answerList?.push(o),this.onTypingAnswer=!1;if(""==e.event.target.value.trim()){n=!1;var c=this.answerList?.filter(g=>g.questionId==e.id);if(c&&1==c.length){var u=this.answerList?.indexOf(c[0]);this.answerList?.splice(u,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else n=!1;n&&(this.changeStatusQuestion(e.id),this.changeEssayTextQuestion(e))}changeEssayTextQuestion(e){for(let n=0;n<this.questionList.length;n++)this.questionList[n].id==e.id&&e.event?.target instanceof HTMLTextAreaElement&&(this.questionList[n].essayText=e.event?.target.value.trim())}setResultTracking(e){this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.examObj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e&&(this.questionList[n].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,n,a,o,r){if(a)try{const _=this.answerList?.filter(l=>l.questionId==r.id);this.questionList.forEach(l=>{if(l.id==e.questionId){if(l.answers&&l.answers.length>0)for(var c=0;c<l.answers.length;c++)l.answers[c].checked=!1;_[0].answerContent.forEach(u=>{l.answers&&l.answers.length>0&&(l.answers[u.index].checked=!0)})}})}catch(_){console.log(_)}else try{this.questionList.forEach(_=>{if(_.id==e.questionId){let c=this.commonService.myTranslateInstant("lang_auto_cau"),u=this.commonService.myTranslateInstant("lang_auto_chon");if(_.answers&&_.answers.length>0){for(var l=0;l<_.answers.length;l++)_.answers[l].checked=!1;_.answers[n].checked=!0,this.isMobile&&r.answerConfig&&this.commonService.snackChoiceAnswer(c+" "+((_.index??0)+(this.examObj?.startQuestionIndex??1))+" - "+u+" "+(r.answerConfig.alpha?r.answerConfig.alpha:r.answerConfig.key))}}})}catch(_){console.log(_)}}saveToStorage(e,n,a){try{var o={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.examObj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},r=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId),_={answers:e,notes:n,files:JSON.stringify(a),infors:r,trackInfos:JSON.stringify(o),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(this.examObj?.id?.toString()??"",this.hashId),this.browserStorageService.saveSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id,JSON.stringify(_))}catch{}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}visibilitychange(){"visible"!==document.visibilityState?(this.visiblePage=!1,setTimeout(()=>{if(!this.visiblePage&&!this.onShowUpload&&this.examObj?.autoMonitor&&0!=this.examObj?.autoMonitor&&this.startedTimeSecond>0)if(!this.clickedFromIframe&&this.acceptSendTrack){var e={examId:this.examObj?.id??0,name:"blur_window",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(e).subscribe(n=>{1==n.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}else this.clickedFromIframe=!1},5e3)):this.visiblePage=!0}handleFullscreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.examObj?.autoMonitor&&0!=this.examObj?.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var n={examId:this.examObj?.id??0,name:"exit_full_screen",examResultId:this.testingResultObj?.id??0};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(n).subscribe(o=>{1==o.success?(this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}clickFromIframe(){}goBackFullScreen(){const e=document.documentElement;let n=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;n&&n.call(e),this.checkFullscreen=!0}exitFullscreen(){const e=document;if(window.innerHeight==screen.height){let n=e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen;n&&n.call(e)}this.checkFullscreen=!1}removeNullContent(e){var n=[];return e.forEach(a=>{a.content&&n.push(a)}),n}removeImg(e){var n=this.files.filter(a=>a.url!==e);this.files=n,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}updateFileUploadMobile(){return new Promise(e=>{let n={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(n).subscribe(a=>{1==a.success&&e(!0)})})}calcRight(){var e=0,n=window.outerWidth,a=document.getElementById("container-content")?.offsetWidth;return a&&(e=(n-a)/2),e}checkWitdh(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target instanceof Window&&e.target.innerWidth<1200,this.calcRight()}resizeImg(e,n,a){var o=document.getElementById("media_content_"+e),r=o?.offsetWidth??0;return o?r/n<=1?Math.round(a*(r/n)):Math.round(a):0}resizeImgAll(e,n,a){var o=document.getElementById("media_content_all_"+e),r=o?.offsetWidth??0;return o?r/n<=1?Math.round(a*(r/n)):Math.round(a):0}returnFalse(){return!1}autoResize(e,n){if(1==n){const a=document.getElementById("note_box_"+e);a&&setTimeout(()=>{a.style.cssText="height:auto;",a.style.cssText="height:"+(a.scrollHeight+30)+"px",a.style.maxHeight="350px"},0)}else{const a=document.getElementById("note_box_all_"+e);a&&setTimeout(()=>{a.style.cssText="height:auto;",a.style.cssText="height:"+(a.scrollHeight+30)+"px",a.style.maxHeight="350px"},0)}}autoResizeEssayAnswer(e){if(1==e.type){const n=document.getElementById("answer-1-unit-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else if(2==e.type){const n=document.getElementById("answer-0-unit-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else if(3==e.type){const n=document.getElementById("answer-1-all-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}else{const n=document.getElementById("answer-0-all-"+e.id);n&&setTimeout(()=>{n.style.cssText="height:"+(n.scrollHeight-50)+"px",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}}foundEssayQuestions(){let e=[];var n=this.questionList.filter(a=>this.answerTypeService.isEssayAnswer(a));return n&&n.length>0?(this.checkEssayPopup&&this.openEssayDialog(),n.forEach(a=>{a.id&&e.push(a.id)})):this.examObj?.autoMonitor&&0!=this.examObj?.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),e}checkScroll(){return!!(window.scrollY&&window.scrollY>50)}isEmpty(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}redirectToHomepage(e){this.quitTestData={id:0,time:0,isShow:!1},e?this.showResultAnswer():this.commonService.myNavigationWithQueryString("/de-thi/"+this.examObj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}goToBuyExam(){this.commonService.myNavigation("/de-thi/"+this.examObj?.hashId)}openSubmitName(e,n,a,o){this.submitNameData=!e&&n&&a?{needPassword:a,isShow:!0,examId:this.examObj?.id,hashId:n,errorMessage:o||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&(this.getData(),this.submitNameData={isShow:!1})}openShowInfo(e,n){this.showFormInfo={infoFields:e,examId:this.examObj?.id,hashId:this.examObj?.hashId,isAnonymousName:n,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}closeAutoMonitor(e){if(e){if(this.dataMonitorAuto={isShow:!1},!this.isMobile){const r=document.documentElement;let _=r.requestFullscreen||r.webkitRequestFullscreen||r.mozRequestFullscreen||r.msRequestFullscreen;_&&_.call(r)}if(this.startedTimeSecond=Math.floor(Date.now()/1e3),this.examObj?.autoMonitor&&3==this.examObj.autoMonitor){if(this.isAfterChooseStudent){var n=this.userService.getUserObj(),a=this.userObj,o={};o[a?.id??0]=n?.id?.toString()+"_"+this.encryptService.createMd5((a?.id??0).toString()+n?.id?.toString()).substring(6,9),this.fireStoreService.examSessions_writeUserMap(this.examObj.hashId??"",o).subscribe(r=>{console.log("writeFirestore - success"+JSON.stringify(r))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1,this.examObj?.autoMonitor&&0!=this.examObj.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0))}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,n,a){if(!this.quitTestData.isShow){let o=this.answerList?.filter(r=>!this.commonService.isExistInArray(this.listEssayQuestionIds,r.questionId));this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:n,saveFalse:a,totalTrueFalseLeft:this.countQuestion-this.countEssayQuestion-o.length}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:n,saveFalse:a,totalTrueFalseLeft:this.countQuestion-o.length-(this.hasEssayQuestion?this.countEssayQuestion:0)}}}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(e.isAutoSubmit??!1)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.examObj?.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.examObj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.examObj?.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1),setTimeout(()=>{let n=document.getElementById("bottom_action"),a=document.getElementById("time_client"),o=n?.offsetHeight;a&&o&&(a.style.bottom=o+"px")},100)}conFirmUpload(e){var n=document.getElementById("monitorScreenTakeTest");e&&e?.isConfirm?(this.files=e.uploadFiles??[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.examObj?.autoMonitor&&0!=this.examObj.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.examObj?.autoMonitor&&0!=this.examObj.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),n&&(n.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile={...e.file,index:e.index}}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}sendHashIdUpdate(e){e&&this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(n=>{if(1==n.success&&this.commonService.isJson(n.data?.tmpObj?.files??"")){var a=this.commonService.willDeleteParseJson(n.data?.tmpObj?.files??"");a.isNotNoti=!0,this.addFileMobileUpload({files:a})}})}addFileMobileUpload(e){this.files=e.files??[],this.uploadImageData={id:this.examObj?.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj();var n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.examObj?.hashId);let a=JSON.stringify({type:"exam",id:this.examObj?.id,user:this.examObj?.tenantId});var o={autoSubmit:e,serverCountDown:this.totalTime,examMinutes:this.examObj?.minutes,saveStudentId:this.userObj?.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let r={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:n,trackInfos:JSON.stringify(o),saveTime:0,id:this.termExamResultId};this.subscriptions.add(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(r),a,this.hashId).subscribe(_=>{if(1==_.success){this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.examObj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.examObj?.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.examObj?.hashId+"_"+_.data?.id,JSON.stringify(_.data));try{this.localStorageObject.clearAllCache(),this.exitFullscreen(),typeof aztExam<"u"&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch{}this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+_.data?.id,"?backto="+encodeURIComponent(this.backToLink))}else this.errorStatusObj(_.message??"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=_.message,setTimeout(()=>{this.checkSubmit=!1},5e3)}))}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),n=0;n<e.length;n++)clearInterval(e[n]);this.globalService.emptyIntervalObjs()}changeShowType(){this.showUnit=!0,this.showList=!1,setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}showSheet(e,n){e?this.changeShowType():this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let a=document.getElementById("bottom_action"),o=document.getElementById("time_client"),r=a?.offsetHeight;o&&r&&(o.style.bottom=r+"px")},100)}askBeforeCloseWindow(e){if(!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}prevQuestion(e){var n=document.getElementById("question_"+String(e)),a=document.getElementById("question_"+String(e-1));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){this.curQuestion===this.questionList.length-1&&this.showResultAnswer();var n=document.getElementById("question_"+String(e)),a=document.getElementById("question_"+String(e+1));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1,this.minCurQuestion=Math.floor(this.curQuestion/this.numberOfShowItemListQuestion)*this.numberOfShowItemListQuestion)}goToQuestion(e){var n=document.getElementById("question_"+String(this.curQuestion)),a=document.getElementById("question_"+String(e));a&&n&&typeof a.getAttribute("hidden")<"u"&&"false"!==a.getAttribute("hidden")&&(n.setAttribute("hidden","true"),a.removeAttribute("hidden"),this.curQuestion=e)}goToQuestionAll(e){var n=document.getElementById("question_all_"+e);n?.scrollIntoView()}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj?.id);e&&(this.resultTracks=this.commonService.willDeleteParseJson(e))}openVideoMonitor(){var e=this.userService.getUserObj(),n=this.userObj;typeof aztExam<"u"&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var a={user:{token:e.rememberToken,userid:e.id,username:e.fullName,studentid:n?n.id:0,studentname:n?n.fullName:null},config:{domainApi:J.N.auto_testbank_base_api+"/api/",urlGetPublicForLive:"S3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"S3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreenTakeTest",examconfig:this.examObj,examid:this.examObj?.id,firebaseApp:this.fireStoreService,resultid:this.testingResultObj?.id,isStarted:!0,clickFromIframeFunc:this.clickFromIframe,clickFromIframeFuncCaller:this};aztExam.MonitorStudent.getInstance().startSession(a),this.hasVideoMonitor=!0}}))}makeDeviceId(e=10){for(var n="",r=0;r<e;r++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return n}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}checkAnswerQuestion(e){let n=this.questionList[this.curQuestion],a={questionId:this.questionList[this.curQuestion].id,answerContent:[{index:999,content:""}]};this.subscription.add(this.frontExamResultService.apiFrontExamResultSaveQuestionResultEncryptPost(this.encryptionHelper.payload({examResultId:this.termExamResultId,answer:e?a:this.answerList[this.curQuestion]??a}),this.hashId).subscribe(r=>{if(1===r.success){let _=r.data;this.isShowBoxStatusAnswer=!0,n.numberOfChecks=n.numberOfChecks?n.numberOfChecks+1:1,e?this.checkWrongAnswer=!0:(n.practiceCheckAnswer=_?.correct?"correct":"wrong",this.checkWrongAnswer||(this.checkWrongAnswer="wrong"===n.practiceCheckAnswer),"correct"===n.practiceCheckAnswer&&1===n.numberOfChecks&&this.audioSuccess.play())}else this.errorStatusObj(r.message??"",!0)}))}resetAnswerQuestion(){const n={content:this.commonService.myTranslateInstant("lang_testbank_when_confirming_the_system_will_reset_all_the_answers_you_have_chosen")+"!"};this.sAztDialogService.open(_c,{data:n,width:"500px"}).afterClosed().subscribe(o=>{o&&this.subscription.add(this.frontExamService.apiFrontExamResetExamResultGet(this.hashId,this.termExamResultId).subscribe(r=>{if(1===r.success){const _=this.encryptionHelper.result(r);_&&(this.clearAllInterval(),this.totalTime=_.data?.countDownSecond??0,this.startTestTime=_.data?.startServerSecond??0,this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer(),this.setTimeAutoSync()):this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.globalService.plusGlobalInterval("exam")??0,"exam"),this.setTimeClient()),this.answerList=[],this.questionList.forEach(l=>{if(l.answers&&l.answers.length>0)for(var c=0;c<l.answers.length;c++)l.answers[c].checked=!1;l.essayText="",l.practiceCheckAnswer=void 0,l.numberOfChecks=0,l.isShowHint=!1}),this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.examObj?.hashId+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.examObj?.id+"_"+this.testingResultObj?.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.examObj?.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.examObj?.hashId),this.curQuestion=0,this.minCurQuestion=0,this.checkWrongAnswer=!1}else this.errorStatusObj(r.message??"",!0)}))})}reloadGetAnswerQuestion(){this.subscription.add(this.frontExamService.apiFrontExamReloadExamResultGet(this.hashId).subscribe(e=>{1===e.success?((this.encryptionHelper.result(e)?.data?.questions??[]).forEach(o=>{if(1==o.answered){const r=this.questionList.findIndex(_=>_.id==o.id);r<this.questionList.length&&this.questionList[r]&&(this.questionList[r].practiceCheckAnswer=o.correct?"correct":"wrong",this.questionList[r].numberOfChecks=o.correct?1:2,this.curQuestion=r<this.questionList.length-1?r+1:r,this.checkWrongAnswer||(this.checkWrongAnswer="wrong"===this.questionList[r].practiceCheckAnswer))}}),this.curQuestion>0&&(this.minCurQuestion=Math.floor(this.curQuestion/this.numberOfShowItemListQuestion)*this.numberOfShowItemListQuestion)):this.errorStatusObj(e.message??"",!0)}))}showAnswerDialog(){this.sAztDialogService.open(gc,{data:{questionList:this.questionList},width:"800px"})}showHintAnswer(){this.questionList[this.curQuestion].isShowHint=!0,"correct"!==this.questionList[this.curQuestion].practiceCheckAnswer&&this.checkAnswerQuestion(!0)}showResultAnswer(){this.subscription.add(this.frontExamService.apiFrontExamFinishExamResultGet(this.hashId,this.termExamResultId).subscribe(e=>{if(1===e.success){if(e.data?.status){try{this.localStorageObject.clearAllCache(),this.exitFullscreen()}catch{}this.myNavigation(`/test/submit-test/${this.tenantId}/${this.curCateId}/${this.hashId}/${this.termExamResultId}`)}}else this.errorStatusObj(e.message??"",!0),this.myNavigation(`/de-thi/${this.hashId}`)}))}closeStatusBoxAnswer(){this.isShowBoxStatusAnswer=!1}constructor(e,n,a,o,r,_,l,c,u,g,h,w,k,y,O,M,A,$,X,L,x,C,q){super(),this.activeRoute=e,this.userService=n,this.mixService=a,this.localStorageObject=o,this.fireStoreService=r,this.encryptService=_,this.zipDataService=l,this.timeService=c,this.monitorService=u,this.browserStorageService=g,this.frontExamTrackService=h,this.frontStudentService=w,this.globalService=k,this.frontExamResultService=y,this.frontExamService=O,this.frontExamResultUploadService=M,this.sAztDialogService=A,this.answerTypeService=$,this.homeworkExamService=X,this.questionRenderService=L,this.testMarketFeedbackService=x,this.encryptionHelper=C,this.baseApiService=q,this.listenFontChanged=new sc.x,this.subscriptions=new K.w0,this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.intervalSyncData=0,this.fontSize=1,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.termExamResultId=0,this.firstInGroupIndexes=[],this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.followerRenderQuest=new R.p,this.countQuestion=0,this.countEssayQuestion=0,this.listEssayQuestionIds=[],this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={answers:[],files:"",infors:"",updated_at:"",resultTrack:""},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={classroomObjs:[],studentObjs:[],classObj:void 0,isPendingApproved:!1,isShow:!1},this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.hasVideoMonitor=!1,this.acceptSendTrack=!0,this.isMixedService2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.subscription=new K.w0,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.visiblePage=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument={...document},this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.curQuestion=0,this.minCurQuestion=0,this.numberOfShowItemListQuestion=15,this.showList=!1,this.showUnit=!0,this.isShowSheet=!1,this.widthGameBar=300,this.checkFullscreen=!1,this.audioSuccess=new Audio("/assets/audio/correct.mp3"),this.checkWrongAnswer=!1,this.isShowBoxStatusAnswer=!1}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.checkWitdh(),this.browserName=this.detectBrowserName(),this.waitDestroy((0,I.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),a=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString(),o=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=n,this.hashId=a||"",this.tenantId=o,this.homeLink="/student/dashboard/0",this.getDeviceId(),this.initStatusObj(),this.getData()})),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{this.widthGameBar=this.myListQuestionBar?.nativeElement.offsetWidth;let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient),this.intervalSyncData&&clearInterval(this.intervalSyncData);for(var n=this.globalService.getIntervalObjs(),a=0;a<n.length;a++)clearInterval(n[a]);this.globalService.emptyIntervalObjs(),typeof aztExam<"u"&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.gz),t.Y36(E.U),t.Y36(vt),t.Y36(wt.y),t.Y36(mt.j),t.Y36(te.j),t.Y36(ft.a),t.Y36(D.D),t.Y36(ut.G),t.Y36(V.n),t.Y36(S.FQ),t.Y36(Tt.Dn),t.Y36(_t.q),t.Y36(S.CA),t.Y36(S.Tg),t.Y36(S.vO),t.Y36(st.C),t.Y36(B.i),t.Y36(H.v),t.Y36(lt.h),t.Y36(ot.nC),t.Y36(ee),t.Y36(pc.V))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-take-training"]],viewQuery:function(n,a){if(1&n&&(t.Gf(lm,5,G),t.Gf(cm,5)),2&n){let o;t.iGM(o=t.CRH())&&(a.modalSaveImageUpload=o.first),t.iGM(o=t.CRH())&&(a.myListQuestionBar=o.first)}},hostBindings:function(n,a){1&n&&t.NdJ("visibilitychange",function(r){return a.visibilitychange(r)},!1,t.evT)("beforeunload",function(r){return a.askBeforeCloseWindow(r)},!1,t.Jf7)},features:[t.qOj],decls:8,vars:5,consts:[[1,"p-0",3,"resize","contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px",3,"resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["lstQuestDoneLoad",""],[3,"customText"],["lstQuestHasErr",""],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],[2,"padding-bottom","50px"],[1,"box","p-5","margin-question-bar","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],["class","mt-3 text-danger font-medium",4,"ngIf"],[1,"mt-3","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-training-8-UXODsOb",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],["azt-track-service","take-training-Mmo8VeX0qy",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[3,"label"],["class","intro-x mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mt-2","flex","justify-center",2,"margin-bottom","100px"],["azt-track-service","take-training-CoksciI7f6",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["azt-track-service","take-training-ou7A_omX1d",1,"btn","btn-sm","btn-primary",3,"click"],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[1,"ng-binding"],[1,"mt-3","text-danger","font-medium"],[1,"intro-x","mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","listenFontChanged",4,"ngIf"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","listenFontChanged"],["class","text-center mt-1 mb-2",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","removeFile"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-training-49LgiSNfAl",1,"btn","btn-sm","btn-primary",3,"click"],[1,"h6","mb-2","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],[1,"box","flex","items-center","p-3","z-50","fixed","top-0","left-0","w-full"],["class","-intro-x mr-2",4,"ngIf"],["class","-intro-x",4,"ngIf"],["class","intro-x relative mx-auto",4,"ngIf"],["class","intro-x mr-6",4,"ngIf"],[3,"ngIf"],[1,"-intro-x","mr-2"],["azt-track-service","take-training-OtQzLov1Tc",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"w-4","h-4","text-danger"],["name","power"],[1,"azt-hidden","md:inline-block","ml-2"],[1,"-intro-x"],["azt-track-service","take-training-72mkB_XJKQ",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[2,"vertical-align","middle"],[1,"intro-x","relative","mx-auto"],["class","text-md font-medium azt-hidden md:block",4,"ngIf"],[1,"text-md","font-medium","azt-hidden","md:block"],[1,"intro-x","mr-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["points","12 6 12 12 16 14"],[1,"text-md",3,"ngClass"],[1,"text-md"],[1,"intro-x","flex","items-center","dropdown","mr-3"],["azt-track-service","take-training-CokO8cy8Hr",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-out"],["cx","11","cy","11","r","8"],["x1","21","x2","16.65","y1","21","y2","16.65"],["x1","8","x2","14","y1","11","y2","11"],["azt-track-service","take-training-ArV1Ilg7oH",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-in"],["x1","11","x2","11","y1","8","y2","14"],["azt-track-service","take-training-nwvXJ2RFy5","class","btn btn-sm btn-secondary",3,"matTooltip","click",4,"ngIf"],["azt-track-service","take-training-YoGANECQAZ","class","btn btn-sm btn-secondary",3,"matTooltip","click",4,"ngIf"],["azt-track-service","take-training-nwvXJ2RFy5",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],[1,"w-4","h-4"],["name","maximize"],["azt-track-service","take-training-YoGANECQAZ",1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["name","minimize"],[2,"margin-top","100px"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],[3,"data","hasBackToLink","selectChild","approvedByName","backToClass"],["class","margin-question-bar pb-4",4,"ngIf"],["class","box z-50 rounded-0 fixed flex items-center bottom-0 left-0 p-3 w-full",4,"ngIf"],[1,"margin-question-bar","pb-4"],[1,"mx-auto","p-3"],[1,"text-danger"],[1,"w-10","h-10","mx-auto"],["name","alert-circle"],[1,"font-medium","text-center","mt-3"],["azt-track-service","take-training-x-rPQ7Q4_X",3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-training-GDMMcq3z8_",1,"btn","btn-outline-primary","btn-transparent",3,"routerLink"],[1,"w-4","h-4","mr-2","inline-block"],["name","chevron-left"],["azt-track-service","take-training-x-rPQ7Q4_X",3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","removeFile"],["class","intro-x mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"intro-x","mt-4",2,"animation-delay","0.05s"],[1,"azt-question","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","isShowExplain","listenFontChanged","currentAnswerIsCorrect","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","sendAudioEmit","showHintAnswer",4,"ngIf"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","isShowExplain","listenFontChanged","currentAnswerIsCorrect","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","sendAudioEmit","showHintAnswer"],[1,"box","z-50","rounded-0","fixed","flex","items-center","bottom-0","left-0","p-3","w-full"],[1,"flex","items-center","mr-auto"],["azt-track-service","take-training-q7-dI4je6b",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"disabled","click"],[1,"w-5","h-5"],["name","rotate-ccw"],[1,"azt-hidden","md:block","ml-2"],["azt-track-service","take-training-QglPB2g4wq",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"click"],[1,"w-5","h-5","mr-2"],["name","clipboard-list"],[1,"list-status-answer"],[3,"questionList","curQuestion","minCurQuestion","numberOfShowItem"],["class","ml-auto",4,"ngIf"],[1,"ml-auto"],[1,"relative"],[1,"box-status"],["class","box box-status-answer absolute p-3",4,"ngIf"],["azt-track-service","take-training-zEj6yaD0WTz","class","btn btn-primary w-32",3,"disabled","click",4,"ngIf"],["azt-track-service","take-training-Vy9M0G9VK1u","class","btn btn-primary w-32",3,"click",4,"ngIf"],["azt-track-service","take-training-EtpBWukccKO","class","btn btn-primary w-32",3,"click",4,"ngIf"],["azt-track-service","take-training-PRUwOLvClZ_","class","btn btn-primary w-32",3,"click",4,"ngIf"],[1,"box","box-status-answer","absolute","p-3"],[1,"flex","items-center","relative"],["class","w-10 h-10 text-primary",4,"ngIf"],["class","w-10 h-10 text-pending",4,"ngIf"],[1,"ml-3"],[1,"font-medium","text-lg"],[1,"mt-0.5"],[1,"absolute",2,"top","-8px","right","-8px"],["azt-track-service","take-training-7mWj7MPCixD",1,"btn","btn-sm","btn-outline-danger","btn-transparent",3,"click"],[1,"w-4","h-4","inline-block"],["name","x"],[1,"absolute","icon-triangle"],["width","20","height","12",1,"_10uuq40"],["id","uid-feedback-popover-21-dropshadow","height","150%"],["dx","0","dy","1","result","offsetblur"],["in","SourceAlpha","stdDeviation","2"],["type","linear","slope","0.1"],["in","SourceGraphic"],["fill","white","points","0,0 10,12 20,0","stroke","rgba(0, 0, 0, 0.1)","filter","url(#uid-feedback-popover-21-dropshadow"],[1,"w-10","h-10","text-primary"],["name","star",4,"ngIf"],["name","star"],[1,"w-10","h-10","text-pending"],["azt-track-service","take-training-CInmJPjmtb",1,"btn-text-primary","font-medium",3,"click"],["azt-track-service","take-training-zEj6yaD0WTz",1,"btn","btn-primary","w-32",3,"disabled","click"],["azt-track-service","take-training-Vy9M0G9VK1u",1,"btn","btn-primary","w-32",3,"click"],["azt-track-service","take-training-EtpBWukccKO",1,"btn","btn-primary","w-32",3,"click"],["azt-track-service","take-training-PRUwOLvClZ_",1,"btn","btn-primary","w-32",3,"click"],[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-training-JOSMgOOwgss",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-training-4dSmjc3xbmh",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"],[1,"p-5","m-5","text-center","alert","alert-danger"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("resize",function(r){return a.handleFullscreenEvent(r)},!1,t.Jf7)("contextmenu",function(){return a.returnFalse()}),t.TgZ(1,"div",1),t.NdJ("resize",function(r){return a.onResize(r)},!1,t.Jf7),t.YNc(2,mm,1,0,"azt-loading-effect",2),t.YNc(3,um,1,1,"app-submit-info",3),t.YNc(4,dm,1,1,"app-monitor-screen",3),t.YNc(5,ku,5,4,"ng-template",null,4,t.W1O),t.YNc(7,Su,1,1,"app-submit-name",3),t.qZA()()),2&n){const o=t.MAs(6);t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",a.showFormInfo.isShow&&a.validForTakeTest),t.xp6(1),t.Q6J("ngIf",a.dataMonitorAuto.isShow&&a.validForTakeTest),t.xp6(3),t.Q6J("ngIf",a.submitNameData.isShow)}},dependencies:[T.rH,d.mk,d.sg,d.O5,W.Hw,P.uX,P.SP,U.gM,j.l,ne.p,kt.f,St,Ec,Dc,Q.Nh5,At,It,Zt,G,jt,ie,_m,nt.lO,p.JV,p.$n],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(6rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:_ngcontent-%COMP%_timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:70px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}.box-status-answer[_ngcontent-%COMP%]{width:280px;top:-110px;right:50px}.icon-triangle[_ngcontent-%COMP%]{top:7px;right:55px}@keyframes _ngcontent-%COMP%_timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}"]})}return i})();var yu=m(85734),Ou=m(85904),Au=m(43614);function Iu(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Zu(i,s){if(1&i&&(t.TgZ(0,"div",5)(1,"div",6)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,1,null==e.dataProcess?null:e.dataProcess.errorMessage))}}const ju=function(i){return{"bg-primary text-white":i}};function Mu(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){const o=t.CHM(e).index,r=t.oxw(4);return t.KtG(r.selectClassroom(o))}),t.TgZ(2,"span",19),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"slice"),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(17,ju,a.indexClassroom==n)),t.xp6(1),t.s9C("matTooltip",e.name&&t.lcZ(3,3,e.name).length>25?t.lcZ(4,5,e.name):""),t.xp6(3),t.hij(" ",e.name&&t.lcZ(6,7,e.name).length>25?t.Dn7(7,9,t.lcZ(8,13,e.name),0,25)+"..":t.lcZ(9,15,e.name)," ")}}function qu(i,s){if(1&i&&(t._UZ(0,"img",36),t.ALo(1,"mycdn")),2&i){const e=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,e.avatar),t.LSH)}}function Qu(i,s){if(1&i&&t._UZ(0,"azt-create-avatar",37),2&i){const e=t.oxw().$implicit;t.Q6J("nameCreateAvatar",e.fullName)("size",30)}}function Lu(i,s){if(1&i&&t._UZ(0,"img",38),2&i){const e=t.oxw().$implicit;t.Q6J("nameImages",e.nameImages)}}function Eu(i,s){if(1&i&&(t.TgZ(0,"p",33),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"formatOnlyDateByUserUnitPipe"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_ngay_sinh"),": "),t.xp6(3),t.Oqu(t.lcZ(5,4,e.birthday))}}function Pu(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_Diem"),"\xa0",e.mark," ")}}function Fu(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_test_result_not_marked_essay")," "))}function zu(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function Uu(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"button",21),t.NdJ("click",function(){const o=t.CHM(e).$implicit,r=t.oxw(4);return t.KtG(r.selectStudentObj(o))}),t.TgZ(2,"div",22)(3,"div",23)(4,"div",24),t.YNc(5,qu,2,3,"img",25),t.YNc(6,Qu,1,2,"azt-create-avatar",26),t.qZA()(),t.TgZ(7,"div",27)(8,"div",28)(9,"p",29),t._uU(10),t.ALo(11,"slice"),t.qZA(),t.TgZ(12,"div",30),t.YNc(13,Lu,1,1,"img",31),t.qZA(),t.YNc(14,Eu,6,6,"p",32),t.TgZ(15,"p",33),t.YNc(16,Pu,3,4,"span",34),t.YNc(17,Fu,3,3,"span",35),t.YNc(18,zu,3,3,"span",34),t.qZA()()()()()()}if(2&i){const e=s.$implicit;let n;t.xp6(1),t.Q6J("disabled",!e.examResultId),t.xp6(4),t.Q6J("ngIf",e.avatar&&""!=e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar||""==e.avatar),t.xp6(3),t.s9C("matTooltip",e.fullName&&e.fullName.length>25?e.fullName:""),t.xp6(1),t.hij(" ",e.fullName&&e.fullName.length>25?t.Dn7(11,10,e.fullName,0,25)+"..":e.fullName," "),t.xp6(3),t.Q6J("ngIf",e.nameImages&&(null!==(n=e.studentId)&&void 0!==n?n:0)<=0),t.xp6(1),t.Q6J("ngIf",e.birthday),t.xp6(2),t.Q6J("ngIf",e.examResultId&&e.confirmedAt),t.xp6(1),t.Q6J("ngIf",e.examResultId&&!e.confirmedAt),t.xp6(1),t.Q6J("ngIf",!e.examResultId)}}function Nu(i,s){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"h3",11),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",12),t.YNc(6,Mu,10,19,"div",13),t.qZA()(),t.TgZ(7,"div",14)(8,"h3",11),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",15),t.YNc(12,Uu,19,14,"div",16),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,4,"lang_auto_danh_sach_lop")),t.xp6(3),t.Q6J("ngForOf",null==e.dataProcess?null:e.dataProcess.classroomObjs),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_danh_sach_hoc_sinh")),t.xp6(3),t.Q6J("ngForOf",e.studentInClassroom)}}function Ju(i,s){1&i&&(t.TgZ(0,"div",5)(1,"div",6),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_giao_vien_chua_cho_xem_ket_qua_thi")," "))}function Du(i,s){if(1&i&&(t.YNc(0,Nu,13,8,"div",7),t.YNc(1,Ju,4,3,"ng-template",null,8,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",null==n.dataProcess||null==n.dataProcess.classroomObjs?null:n.dataProcess.classroomObjs.length)("ngIfElse",e)}}function Ru(i,s){if(1&i&&(t.YNc(0,Zu,5,3,"div",3),t.YNc(1,Du,3,2,"ng-template",null,4,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",(null==n.dataProcess?null:n.dataProcess.errorMessage)&&""!==(null==n.dataProcess?null:n.dataProcess.errorMessage))("ngIfElse",e)}}let ce=(()=>{class i extends b.Q{getData(){let e=this.commonService.getMyParam(this.activeRoute,"hash_id");e&&this.offlineCodeId&&(this.initStatusObj(),this.subscriptions.add(this.frontOfflineShareService.apiFrontOfflineShareGetExamClassroomObjsGet(e,this.offlineCodeId).subscribe(n=>{1==n.success?(this.dataProcess=n.data,this.dataProcess?.classroomObjs?.length&&this.dataProcess.classroomObjs.length>0&&(this.studentInClassroom=this.dataProcess.classroomObjs[this.indexClassroom].studentObjs??[]),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)})))}selectClassroom(e){this.studentInClassroom=this.dataProcess?.classroomObjs?.[e].studentObjs??[],this.indexClassroom=e}selectStudentObj(e){let n=this.commonService.getMyParam(this.activeRoute,"hash_id");this.returnLink="/test/share-offline-result/"+n+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.myNavigationWithQueryString(`/test/answer-test/${this.dataProcess?.examObj?.tenantId??0}/${this.dataProcess?.examObj?.categoryId??0}/${this.dataProcess?.examObj?.hashId}/${e.examResultId}`,`?offline=${this.offlineCodeId}&backto=${this.returnLink}`)}constructor(e,n){super(),this.frontOfflineShareService=e,this.activeRoute=n,this.backToLink="",this.returnLink="",this.studentInClassroom=[],this.offlineCodeId="",this.indexClassroom=0}ngOnInit(){let e=this.commonService.getMyParam(this.activeRoute,"hash_id");this.offlineCodeId=this.commonService.getMyParam(this.activeRoute,"offline_code")??"",this.returnLink="/test/share-offline-result/"+e+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.backToLink="/student/dashboard/0",this.indexClassroom=Number(this.commonService.getMyParam(this.activeRoute,"index")??"0"),this.getData(),super.ngOnInit()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(yu.bF),t.Y36(T.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-share-offline-result"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","block-empty mt-5",4,"ngIf","ngIfElse"],["noErrorMessage",""],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"],["class","offline-share mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"offline-share","mt-5"],[1,"block-main"],[1,"font-medium","mb-3"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 sm:col-span-12 md:col-span-4 lg:col-span-3 mb-3",4,"ngFor","ngForOf"],[1,"block-main","mt-3"],[1,"grid","grid-cols-12","p-2","pt-4","box",2,"background-color","#fff","min-height","100px"],["class","col-span-12 sm:col-span-12 md:col-span-4 lg:col-span-3 mb-3 px-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","lg:col-span-3","mb-3"],["azt-track-service","share-offline-result-MFNW9thfi",1,"btn","w-full","h-12","text-black",3,"ngClass","click"],[1,"text-center",3,"matTooltip"],[1,"col-span-12","sm:col-span-12","md:col-span-4","lg:col-span-3","mb-3","px-2"],["azt-track-service","share-offline-result-cxL-TXi9YY",1,"flex","items-center","p-3","rounded-md","bg-slate-100","dark:bg-darkmode-300","w-full",2,"min-height","80px",3,"disabled","click"],[1,"grid","grid-cols-12","gap-2","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-span-3"],[1,"flex","items-center",2,"height","100%","justify-content","center"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-span-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-name-fluid","style"," height: auto","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","text-xs mb-0",4,"ngIf"],[1,"text-xs","mb-0"],[4,"ngIf"],["class","text-pending",4,"ngIf"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1","img-name-fluid",2,"height","auto",3,"nameImages"],[1,"text-pending"]],template:function(n,a){if(1&n&&(t.TgZ(0,"student-layout",0),t.YNc(1,Iu,1,0,"azt-loading-effect",1),t.YNc(2,Ru,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&n){const o=t.MAs(3);t.Q6J("headerBackToLink",a.backToLink),t.xp6(1),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[d.mk,d.sg,d.O5,U.gM,j.l,Ou.g,Au.L,N.L,d.OU,p.JV,p.QN,p.YK],encapsulation:2})}return i})();const Yu=[{path:"",component:Fn,canActivate:[xe.J],children:[{path:":hash_id",component:Pn},{path:"category/:tenant_id/:cate_id/:page",component:Je},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:O_},{path:"submit-practice/:practice_id/:hash_id/:result_id",component:oa},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:oc},{path:"take-training/:tenant_id/:cate_id/:hash_id",component:Cu},{path:"take-practice/:tenant_id/:cate_id/:hash_id",component:Rr},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:Br},{path:"answer-practice/:practice_id/:hash_id/:result_id",component:Hi},{path:"share-offline-result/:hash_id/:offline_code",component:ce},{path:"share-offline-result/:hash_id/:offline_code/:index",component:ce}]}];let Hu=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[T.Bz.forChild(Yu),T.Bz,nt.fQ]})}return i})(),Bu=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[T.Bz,d.ez,ge.j,me.Z_,Hu,f.u5,f.UX,z.Is,pe.Z,ue.xC,de.QG,fe.W,he.d,Q.qyJ.pick(Q.ciZ),ct.kb,Et.N]})}return i})()}}]);