(self.webpackChunkTeacherMod=self.webpackChunkTeacherMod||[]).push([[15],{1425:(P,l,a)=>{"use strict";a.d(l,{x:()=>k});var i=a(43234),e=a(66114),n=a(48891),s=a(21164),c=a(13362),d=a(82531),u=a(6389),r=a(4335),B=a(26384);let k=(()=>{var S;class I{exportExcelForCodeNumber(g){let x=this.commonService.myTranslateInstant("lang_auto_stt")??"",C=this.commonService.myTranslateInstant("lang_auto_ho_va_ten")??"",T=this.commonService.myTranslateInstant("lang_auto_ngay_sinh")??"",_=this.commonService.myTranslateInstant("lang_auto_lop")??"",w=this.commonService.myTranslateInstant("lang_auto_so_bao_danh_6_so")??"",D=this.commonService.myTranslateInstant("lang_number_phone")??"",U="*"+this.commonService.myTranslateInstant("lang_auto_export_sbg_comment_one"),E="*"+this.commonService.myTranslateInstant("lang_auto_export_sbg_comment_two"),A=[x,C,T,w,D,_],v=[];for(let m=0;m<g.length;m++){let L=g[m],R="";R=0===m?U:R,v.push({[x]:m+1,[C]:L.fullName,[w]:this.formatAnswerSheetService.formatStudentCodeToNumber(L.code,i.c.maxStudentCodeLength),[D]:L.phone,[T]:L.birthday?this.timeService.getFormatDate(L.birthday):"",[_]:L.className," ":"","":R})}if(g.length<3)for(let m=g.length;m<3;m++){let L="";L=0===m?U:L,L=1===m?E:L,v.push({[x]:"",[C]:"",[w]:"",[D]:"",[T]:"",[_]:""," ":"","":L})}let h=e.utils.aoa_to_sheet([A]);const y=e.utils.book_new();e.utils.book_append_sheet(y,h,"Sheet1"),e.utils.sheet_add_json(h,v,{origin:-1,header:A,skipHeader:!0});const p=e.write(y,{bookType:"xlsx",type:"array"});return new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}exportExcelForPayment(g){var x=[];let C=this.commonService.myTranslateInstant("lang_auto_stt")??"",T=this.commonService.myTranslateInstant("lang_auto_so_tien_azo")??"",_=this.commonService.myTranslateInstant("lang_auto_noi_dung")??"",w=this.commonService.myTranslateInstant("lang_auto_nap_tien_vao_vi_azo")??"",D=this.commonService.myTranslateInstant("lang_auto_mua_de_thi")??"",U=this.commonService.myTranslateInstant("lang_auto_rut_azo_khoi_vi")??"",E=this.commonService.myTranslateInstant("lang_auto_chuyen_azo_cho_tai_khoan")??"",A=this.commonService.myTranslateInstant("lang_auto_he_thong_tang_azo")??"",v=this.commonService.myTranslateInstant("lang_auto_nhan_azo_tu_file_da_ban")??"",h=this.commonService.myTranslateInstant("lang_auto_nhan_azo_tu_tai_khoan")??"";for(let R=1;R<(g?.length??0);R++){var y=0===g?.[R].type?w:"";y=1===g?.[R].type?D+" "+g[R].examName:y,y=2===g?.[R].type?U:y,y=3===g?.[R].type?E+" "+g[R].relativeName:y,y=4===g?.[R].type?A:y,y=5===g?.[R].type?v:y,x.push({[C]:R,[T]:0,[_]:y=6===g?.[R].type?h+" "+g[R].relativeName:y,content9Trans:this.timeService.formatFullDateTimeByUserUnit(g?.[R].createdAt)})}const o={Sheets:{data:e.utils.json_to_sheet(x)},SheetNames:["data"]},f=e.write(o,{bookType:"xlsx",type:"array"});return new Blob([f],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}exportExcelForScoreHomeworkOfClassroom(g,x,C,T){let _=this.commonService.myTranslateInstant("lang_auto_stt")??"",w=this.commonService.myTranslateInstant("lang_auto_ho_va_ten")??"",D=this.commonService.myTranslateInstant("lang_auto_gioi_tinh")??"",U=this.commonService.myTranslateInstant("lang_auto_so_bao_danh")??"",E=this.commonService.myTranslateInstant("lang_auto_ngay_sinh")??"",A=this.commonService.myTranslateInstant("lang_auto_dat")??"",v=this.commonService.myTranslateInstant("lang_auto_chua_dat")??"",h=this.commonService.myTranslateInstant("lang_auto_hoan_thanh"),y=this.commonService.myTranslateInstant("lang_auto_chua_hoan_thanh")??"",p=this.commonService.myTranslateInstant("lang_auto_hoan_thanh_tot")??"",o=this.commonService.myTranslateInstant("lang_export_classroom_score_homework_result")??"",f=this.commonService.myTranslateInstant("lang_export_classroom_score_homework_comment")??"",m=this.commonService.myTranslateInstant("lang_export_classroom_score_first_result")??"",L=this.commonService.myTranslateInstant("lang_export_classroom_score_last_result")??"",R=this.commonService.myTranslateInstant("lang_export_classroom_score_highest_result")??"",F=this.commonService.myTranslateInstant("lang_auto_chua_thi")??"",$=this.commonService.myTranslateInstant("lang_auto_chua_nop")??"",Q=this.commonService.myTranslateInstant("lang_auto_chua_cham")??"",ne=this.commonService.myTranslateInstant("lang_auto_da_yeu_cau_nop_lai")??"",j=this.commonService.myTranslateInstant("lang_auto_truong")??"",W=this.commonService.myTranslateInstant("lang_auto_lop")??"",J=this.commonService.myTranslateInstant("lang_auto_so_dien_thoai")??"",oe=this.commonService.myTranslateInstant("lang_auto_email")??"",re="Username";x=this.sortService.sortFirstNameStudents(x);let K=this.commonService.isBusinessDomain(),G=this.commonService.isTqbDomain(),V=G?[_,w,D,E,J,oe,U,W]:[_,w,re,D,E,J,oe,U,W],H=G?[_,w,D,E,J,oe,U,W]:[_,w,re,D,E,J,oe,U,W],ae=[],ye=[],pe=[],_e=[],we=[],Ce=0,ce=9,ie=9,Ee=1;K&&(V.push(j),H.push(j),ce=10,ie=10),x.forEach(b=>{Ce+=1,Ee++;let M={},Te={},he={},fe={},me={};if(b.dataHomework&&ce<=(K?10:9)+b.dataHomework.length&&(ce=(K?10:9)+b.dataHomework?.length),b.dataExam&&ie<=(K?10:9)+b.dataExam.length&&(ie=(K?10:9)+b.dataExam?.length),b.dataHomework?.forEach(z=>{let O=this.timeService.getFormatDate(z.createdAt??"")+` (${z.name})`,Y=1;for(;M[`${O}`];)Y++,O=`${this.timeService.getFormatDate(z.createdAt??"")} (${z.name}) (${Y})`;switch(z.point){case 1e3:M[`${O}`]=A;break;case 1001:M[`${O}`]=v;break;case 2e3:M[`${O}`]=h;break;case 2001:M[`${O}`]=y;break;case 3e3:M[`${O}`]=p;break;default:M[`${O}`]=`${z.point}`}z.answerId||(M[`${O}`]=`${z.answerHistories?.length?ne:$}`),z.answerId&&!z.confirmedAt&&(M[`${O}`]=`${Q}`);let Se=this.commonService.willDeleteParseJson(this.zipDataService.decodeContentGzip(z.result??""));var ge=document.createElement("div");ge.innerHTML=this.commonService.removeXssInHtml(null==Se?"":Se.comment),Te[`${O}`]=ge.textContent||ge.innerText,this.commonService.isExistInArray(V,O)||V.push(O)}),C&&C.length){let z=0;C.forEach(O=>{let Y=`${O.name}`;for(;he[`${Y}`];)z++,Y=`${O.name} (${z})`;he[`${Y}`]=F,fe[`${Y}`]=F,me[`${Y}`]=F,this.commonService.isExistInArray(H,Y)||H.push(Y)})}let ve={},be=0;b.dataExam?.forEach(z=>{let O=`${z.name}`;for(;ve[`${O}`];)be++,O=`${z.name} (${be})`;ve[`${O}`]=O,he[`${O}`]=null!=z.firstPoint?-1!=z.firstPoint?z.firstPoint:Q:F,fe[`${O}`]=null!=z.lastPoint?-1!=z.lastPoint?z.lastPoint:Q:F,me[`${O}`]=null!=z.highestPoint?-1!=z.highestPoint?z.highestPoint:Q:F,this.commonService.isExistInArray(H,O)||H.push(O)}),ie<H.length&&(ie=H.length);let se={[_]:Ce,[w]:b.fullname,[re]:b.userName,[D]:b.gender,[E]:null!=b.birthday?this.timeService.getFormatDate(b.birthday):"",[J]:b.phone??"",[oe]:b.email??"",[W]:g.name??"",[U]:b.identificationNumber?this.formatAnswerSheetService.formatStudentCodeToNumber(b.identificationNumber,i.c.maxStudentCodeLength):""};K&&(se={...se,[j]:b.schoolName??""}),ae.push({...se,...M}),ye.push({...se,...Te}),pe.push({...se,...he}),_e.push({...se,...fe}),we.push({...se,...me})});var de=[{width:10},{width:30},{width:30},{width:15},{width:15},{width:20},{width:30},{width:15},{width:30}];K&&de.push({width:30});for(let b=0;b<ce;b++)b>(K?9:8)&&de.push({width:40});var ue=[{width:10},{width:30},{width:30},{width:15},{width:15},{width:20},{width:30},{width:15},{width:30}];K&&ue.push({width:30});for(let b=0;b<ie;b++)b>(K?9:8)&&ue.push({width:40});var X=e.utils.aoa_to_sheet([[`${o} - ${g.name}`],V]);e.utils.sheet_add_json(X,ae,{origin:-1,header:V,skipHeader:!0}),X["!cols"]=de;var q=e.utils.aoa_to_sheet([[`${f} - ${g.name}`],V]);e.utils.sheet_add_json(q,ye,{origin:-1,header:V,skipHeader:!0}),q["!cols"]=de;var Z=e.utils.aoa_to_sheet([[`${m} - ${g.name}`],H]);e.utils.sheet_add_json(Z,pe,{origin:-1,header:H,skipHeader:!0}),Z["!cols"]=ue;var ee=e.utils.aoa_to_sheet([[`${L} - ${g.name}`],H]);e.utils.sheet_add_json(ee,_e,{origin:-1,header:H,skipHeader:!0}),ee["!cols"]=ue;var te=e.utils.aoa_to_sheet([[`${R} - ${g.name}`],H]);e.utils.sheet_add_json(te,we,{origin:-1,header:H,skipHeader:!0}),te["!cols"]=ue;let le=[1,6,8];K&&le.push(9);for(let b=1;b<=Ee;b++){for(let M=0;M<ce;M++)X[e.utils.encode_cell({c:M,r:b})]&&(X[e.utils.encode_cell({c:M,r:b})].s=0!=b&&1==b?this.style_header:le.includes(M)?this.style_body_left:this.style_body,7==M&&(X[e.utils.encode_cell({c:M,r:b})].t="s",X[e.utils.encode_cell({c:M,r:b})].z="@")),q[e.utils.encode_cell({c:M,r:b})]&&(q[e.utils.encode_cell({c:M,r:b})].s=0!=b&&1==b?this.style_header:le.includes(M)?this.style_body_left:this.style_body,7==M&&(q[e.utils.encode_cell({c:M,r:b})].t="s",q[e.utils.encode_cell({c:M,r:b})].z="@"));for(let M=0;M<ie;M++)Z[e.utils.encode_cell({c:M,r:b})]&&(Z[e.utils.encode_cell({c:M,r:b})].s=0!=b&&1==b?this.style_header:le.includes(M)?this.style_body_left:this.style_body,7==M&&(Z[e.utils.encode_cell({c:M,r:b})].t="s",Z[e.utils.encode_cell({c:M,r:b})].z="@")),ee[e.utils.encode_cell({c:M,r:b})]&&(ee[e.utils.encode_cell({c:M,r:b})].s=0!=b&&1==b?this.style_header:le.includes(M)?this.style_body_left:this.style_body,7==M&&(ee[e.utils.encode_cell({c:M,r:b})].t="s",ee[e.utils.encode_cell({c:M,r:b})].z="@")),te[e.utils.encode_cell({c:M,r:b})]&&(te[e.utils.encode_cell({c:M,r:b})].s=0!=b&&1==b?this.style_header:le.includes(M)?this.style_body_left:this.style_body,7==M&&(te[e.utils.encode_cell({c:M,r:b})].t="s",te[e.utils.encode_cell({c:M,r:b})].z="@"))}if(T&&T>0){const b=`${this.commonService.myTranslateInstant("lang_azt_still")} ${T} ${this.commonService.myTranslateInstant("lang_azt_line_is_not_displayed_yet_please_register_as_VIP_to_be_able_to_display_all_content")}`;this.addStyledRowAndMerge(X,b),this.addStyledRowAndMerge(q,b),this.addStyledRowAndMerge(Z,b),this.addStyledRowAndMerge(ee,b),this.addStyledRowAndMerge(te,b)}const Ae=e.write({Sheets:{[o]:X,[f]:q,[m]:Z,[L]:ee,[R]:te},SheetNames:[o,f,m,L,R]},{bookType:"xlsx",type:"array"});return new Blob([Ae],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}exportHtmlTableToExcel(g,x,C){const T=e.utils.table_to_sheet(g?.nativeElement,{raw:x}),_=e.utils.book_new();e.utils.book_append_sheet(_,T,"Sheet1"),e.writeFile(_,C);var w=e.write(_,{bookType:"xlsx",bookSST:!0,type:"base64"});this.shareFileFlutterService.shareFileWithBase64(w,C)}exportHtmlTableToExcelStyleOnlyHeaderRow(g,x,C,T){var _=e.utils.table_to_sheet(g?.nativeElement,{raw:x}),w=g?.nativeElement?.getElementsByClassName("azt-excel-cell");if(w&&w.length>0){for(var D=[],U=0;U<w.length;U++){var E=w[U].getAttribute("excelColumn")??void 0,A=w[U].getAttribute("excelStyle")?.toString()??void 0,v=null!=E?Number(E):void 0,h=null!=A?this.commonService.castJsonToObj(A):void 0;if(null!=T&&null!=v&&null!=h)try{var y=e.utils.encode_cell({c:v,r:T});_.hasOwnProperty(y)&&(_[y].s=h,h.hasOwnProperty("isText")&&1==h.isText&&(_[y].t="s",_[y].z="@"))}catch(L){console.log(L)}var p=w[U].getAttribute("excelWidth")??void 0,o=null!=p?Number(p):void 0;o&&D.push({width:o})}D.length>0&&(_["!cols"]=D)}const f=e.utils.book_new();if(e.utils.book_append_sheet(f,_,"Sheet1"),this.commonService.isMobileWebview(void 0)){var m=e.write(f,{bookType:"xlsx",bookSST:!0,type:"array"});const R=new Blob([m],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});this.shareFileFlutterService.shareFileWithBlob(R,C)}else e.writeFile(f,C)}exportHtmlTableToExcelBlob(g,x){var C=e.utils.table_to_sheet(g?.nativeElement,{raw:x}),T=g?.nativeElement?.getElementsByClassName("azt-excel-cell");if(T&&T.length>0){for(var _=[],w=0;w<T.length;w++){var D=T[w].getAttribute("excelRow")??void 0,U=T[w].getAttribute("excelColumn")??void 0,E=T[w].getAttribute("excelStyle")?.toString()??void 0,A=null!=D?Number(D):void 0,v=null!=U?Number(U):void 0,h=null!=E?this.commonService.castJsonToObj(E):void 0;if(null!=A&&null!=v&&null!=h)try{var y=e.utils.encode_cell({c:v,r:A});C.hasOwnProperty(y)&&(C[y].s=h,h.hasOwnProperty("isText")&&1==h.isText&&(C[y].t="s",C[y].z="@"))}catch(F){console.log(F)}var p=T[w].getAttribute("excelWidth")??void 0,o=null!=p?Number(p):void 0;o&&_.push({width:o})}_.length>0&&(C["!cols"]=_)}const f=e.utils.book_new();e.utils.book_append_sheet(f,C,"Sheet1");const m=e.write(f,{bookType:"xlsx",type:"array"});return new Blob([m],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}addStyledRowAndMerge(g,x){e.utils.sheet_add_json(g,[{A:x,B:"",C:"",D:"",E:"",F:"",G:""}],{skipHeader:!0,origin:-1});const C=g["!ref"]?.split(":")[1].replace(/\D/g,""),_=g[`A${C}`];_&&(_.s={font:{bold:!0,color:{rgb:"FF0000"},sz:14}}),g["!merges"]||(g["!merges"]=[]),g["!merges"].push({s:{r:Number(C)-1,c:0},e:{r:Number(C)-1,c:6}})}constructor(g,x,C,T,_,w){this.commonService=g,this.timeService=x,this.formatAnswerSheetService=C,this.shareFileFlutterService=T,this.sortService=_,this.zipDataService=w,this.style_header={width:35,alignment:{vertical:"center",horizontal:"center",wrapText:!0},font:{sz:11,bold:!0,color:{rgb:"ffffffff"}},fill:{patternType:"solid",fgColor:{rgb:"2361ae"}}},this.style_body={alignment:{vertical:"center",horizontal:"center",font:{bold:!1,color:{rgb:"000000"}}}},this.style_body_left={alignment:{vertical:"center",font:{bold:!1,color:{rgb:"000000"}}}}}}return(S=I).\u0275fac=function(g){return new(g||S)(n.KVO(s.R),n.KVO(c.F),n.KVO(d.e),n.KVO(u.R),n.KVO(r.g),n.KVO(B.j))},S.\u0275prov=n.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),I})()},20959:(P,l,a)=>{"use strict";a.d(l,{d:()=>v});var i=a(54460),e=a(10936),t=a(65162),n=a(44327),s=a(96639),c=a(55887),d=a(88023),u=a(73014),r=a(48891),B=a(21063),k=a(86388);const S=["qrcElement"];let I=(()=>{var h;class y{constructor(o,f){this.renderer=o,this.sanitizer=f,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new r.bkB,this.context=null}ngOnChanges(){var o=this;return(0,u.A)(function*(){yield o.createQRCode()})()}isValidQrCodeText(o){return!1===this.allowEmptyString?!(typeof o>"u"||""===o||"null"===o||null===o):!(typeof o>"u")}toDataURL(o){return new Promise((f,m)=>{(0,B.dY)(this.qrdata,o,(L,R)=>{L?m(L):f(R)})})}toCanvas(o,f){return new Promise((m,L)=>{(0,B.mo)(o,this.qrdata,f,R=>{R?L(R):m("success")})})}toSVG(o){return new Promise((f,m)=>{(0,B.toString)(this.qrdata,o,(L,R)=>{L?m(L):f(R)})})}renderElement(o){for(const f of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,f);this.renderer.appendChild(this.qrcElement.nativeElement,o)}createQRCode(){var o=this;return(0,u.A)(function*(){o.version&&o.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),o.version=40):o.version&&o.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),o.version=1):void 0!==o.version&&isNaN(o.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),o.version=void 0);try{if(!o.isValidQrCodeText(o.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");o.isValidQrCodeText(o.qrdata)&&""===o.qrdata&&(o.qrdata=" ");const f={color:{dark:o.colorDark,light:o.colorLight},errorCorrectionLevel:o.errorCorrectionLevel,margin:o.margin,scale:o.scale,version:o.version,width:o.width},m=o.imageSrc,L=o.imageHeight||40,R=o.imageWidth||40;switch(o.elementType){case"canvas":{const F=o.renderer.createElement("canvas");o.context=F.getContext("2d"),o.toCanvas(F,f).then(()=>{if(o.ariaLabel&&o.renderer.setAttribute(F,"aria-label",`${o.ariaLabel}`),o.title&&o.renderer.setAttribute(F,"title",`${o.title}`),m&&o.context){o.centerImage=new Image(R,L),m!==o.centerImage.src&&(o.centerImage.src=m),L!==o.centerImage.height&&(o.centerImage.height=L),R!==o.centerImage.width&&(o.centerImage.width=R);const $=o.centerImage;$&&($.onload=()=>{o.context?.drawImage($,F.width/2-R/2,F.height/2-L/2,R,L)})}o.renderElement(F),o.emitQRCodeURL(F)}).catch($=>{console.error("[angularx-qrcode] canvas error:",$)});break}case"svg":{const F=o.renderer.createElement("div");o.toSVG(f).then($=>{o.renderer.setProperty(F,"innerHTML",$);const Q=F.firstChild;o.renderer.setAttribute(Q,"height",`${o.width}`),o.renderer.setAttribute(Q,"width",`${o.width}`),o.renderElement(Q),o.emitQRCodeURL(Q)}).catch($=>{console.error("[angularx-qrcode] svg error:",$)});break}default:{const F=o.renderer.createElement("img");o.toDataURL(f).then($=>{o.alt&&F.setAttribute("alt",o.alt),o.ariaLabel&&F.setAttribute("aria-label",o.ariaLabel),F.setAttribute("src",$),o.title&&F.setAttribute("title",o.title),o.renderElement(F),o.emitQRCodeURL(F)}).catch($=>{console.error("[angularx-qrcode] img/url error:",$)})}}}catch(f){console.error("[angularx-qrcode] Error generating QR Code:",f.message)}})()}convertBase64ImageUrlToBlob(o){const f=o.split(";base64,"),m=f[0].split(":")[1],L=atob(f[1]),R=new Uint8Array(L.length);for(let F=0;F<L.length;++F)R[F]=L.charCodeAt(F);return new Blob([R],{type:m})}emitQRCodeURL(o){const f=o.constructor.name;if(f===SVGSVGElement.name){const Q=new Blob([o.outerHTML],{type:"image/svg+xml"}),ne=URL.createObjectURL(Q),j=this.sanitizer.bypassSecurityTrustUrl(ne);return void this.qrCodeURL.emit(j)}let m="";f===HTMLCanvasElement.name&&(m=o.toDataURL("image/png")),f===HTMLImageElement.name&&(m=o.src);const L=this.convertBase64ImageUrlToBlob(m),R=URL.createObjectURL(L),F=this.sanitizer.bypassSecurityTrustUrl(R);this.qrCodeURL.emit(F)}}return(h=y).\u0275fac=function(o){return new(o||h)(r.rXU(r.sFG),r.rXU(k.up))},h.\u0275cmp=r.VBU({type:h,selectors:[["qrcode"]],viewQuery:function(o,f){if(1&o&&r.GBs(S,7),2&o){let m;r.mGM(m=r.lsd())&&(f.qrcElement=m.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[r.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(o,f){1&o&&r.nrm(0,"div",null,0),2&o&&r.HbH(f.cssClass)},encapsulation:2,changeDetection:0}),y})(),N=(()=>{var h;class y{}return(h=y).\u0275fac=function(o){return new(o||h)},h.\u0275mod=r.$C({type:h}),h.\u0275inj=r.G2t({}),y})();var g=a(15343),x=a(5502),C=a(44155),T=a(64160);const _=()=>({"mr-2":!0});function w(h,y){if(1&h){const p=r.RV6();r.qex(0),r.j41(1,"div",6)(2,"p",7),r.EFF(3),r.nI1(4,"mytranslate"),r.k0s(),r.j41(5,"p",7),r.EFF(6),r.nI1(7,"mytranslate"),r.k0s(),r.j41(8,"div",8),r.nrm(9,"input",9),r.j41(10,"button",10),r.bIt("click",function(){r.eBV(p);const f=r.XpG();return r.Njj(f.showCopySuccess())}),r.nrm(11,"lucide-icon",11),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s()()(),r.bVm()}if(2&h){const p=r.XpG();r.R7$(3),r.JRh(r.bMT(4,6,"lang_auto_hoac")),r.R7$(3),r.JRh(r.bMT(7,8,"lang_classroom_QR_join_link_copy")),r.R7$(3),r.Y8G("value",p.linkUrl),r.R7$(),r.Y8G("cdkCopyToClipboard",p.copyLinkToClipboard(p.linkUrl)),r.R7$(),r.Y8G("ngClass",r.lJ4(12,_)),r.R7$(),r.SpI(" ",r.bMT(13,10,"lang_auto_sao_chep")," ")}}let D=(()=>{var h;class y extends d.H{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(o){return o}onChangeURL(o){this.qrCodeDownloadLink=o}downloadQrCode(){try{let o=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,o)}catch{console.log("Download QrCode error")}}}return(h=y).\u0275fac=(()=>{let p;return function(f){return(p||(p=r.xGo(h)))(f||h)}})(),h.\u0275cmp=r.VBU({type:h,selectors:[["azt-show-link"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},standalone:!0,features:[r.Vt3,r.aNF],decls:8,vars:11,consts:[["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | coreModConvertCdnLinkOfGitHub",3,"qrCodeURL","allowEmptyString","qrdata","elementType","width","errorCorrectionLevel"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["name","download","size","16",3,"ngClass"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"]],template:function(o,f){1&o&&(r.j41(0,"div",0),r.bIt("click",function(L){return L.stopPropagation()}),r.j41(1,"div",1)(2,"qrcode",2),r.bIt("qrCodeURL",function(L){return f.onChangeURL(L)}),r.k0s()(),r.j41(3,"a",3),r.bIt("click",function(){return f.downloadQrCode()}),r.nrm(4,"lucide-icon",4),r.EFF(5),r.nI1(6,"mytranslate"),r.k0s(),r.DNE(7,w,14,13,"ng-container",5),r.k0s()),2&o&&(r.R7$(2),r.Y8G("allowEmptyString",!0)("qrdata",f.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),r.R7$(2),r.Y8G("ngClass",r.lJ4(10,_)),r.R7$(),r.SpI(" ",r.bMT(6,8,"lang_auto_tai_ve_may")," "),r.R7$(2),r.Y8G("ngIf",f.showLink))},dependencies:[N,I,i.MD,i.YU,i.bT,e.X1,t.iI,e.YN,s.wp,C.s,T.dF,g.flO,g.WGl,c.L,x.Id,n.k],encapsulation:2}),y})();var U=a(17818),E=a(47712);const A=h=>({"w-80":h});let v=(()=>{var h;class y extends d.H{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1}}return(h=y).\u0275fac=(()=>{let p;return function(f){return(p||(p=r.xGo(h)))(f||h)}})(),h.\u0275cmp=r.VBU({type:h,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},standalone:!0,features:[r.Vt3,r.aNF],decls:7,vars:10,consts:[["showQrCode","matMenu"],["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["name","qr-code","size","24"],["xPosition","before"],[3,"ngClass"],[3,"linkUrl","fileName","showLink"]],template:function(o,f){if(1&o&&(r.j41(0,"button",1),r.nI1(1,"mytranslate"),r.nrm(2,"lucide-icon",2),r.k0s(),r.j41(3,"mat-menu",3,0)(5,"div",4),r.nrm(6,"azt-show-link",5),r.k0s()()),2&o){const m=r.sdS(4);r.FS9("matTooltip",r.bMT(1,6,"lang_auto_quet_hoac_tai_ma_qr_code")),r.Y8G("matMenuTriggerFor",m),r.R7$(5),r.Y8G("ngClass",r.eq3(8,A,f.showLink)),r.R7$(),r.Y8G("linkUrl",f.linkUrl)("fileName",f.fileName)("showLink",f.showLink)}},dependencies:[D,i.MD,i.YU,e.X1,t.iI,e.YN,s.wp,C.s,U.kk,U.Cp,E.oV,g.flO,g.WGl,c.L,x.Id,n.k],encapsulation:2}),y})()},74219:P=>{"use strict";var l={single_source_shortest_paths:function(a,i,e){var t={},n={};n[i]=0;var c,d,u,r,B,S,s=l.PriorityQueue.make();for(s.push(i,0);!s.empty();)for(u in r=(c=s.pop()).cost,B=a[d=c.value]||{})B.hasOwnProperty(u)&&(S=r+B[u],(typeof n[u]>"u"||n[u]>S)&&(n[u]=S,s.push(u,S),t[u]=d));if(typeof e<"u"&&typeof n[e]>"u"){var g=["Could not find a path from ",i," to ",e,"."].join("");throw new Error(g)}return t},extract_shortest_path_from_predecessor_list:function(a,i){for(var e=[],t=i;t;)e.push(t),t=a[t];return e.reverse(),e},find_path:function(a,i,e){var t=l.single_source_shortest_paths(a,i,e);return l.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(a){var t,i=l.PriorityQueue,e={};for(t in a=a||{},i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e.queue=[],e.sorter=a.sorter||i.default_sorter,e},default_sorter:function(a,i){return a.cost-i.cost},push:function(a,i){this.queue.push({value:a,cost:i}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};P.exports=l},4657:P=>{"use strict";P.exports=function(a){for(var i=[],e=a.length,t=0;t<e;t++){var n=a.charCodeAt(t);if(n>=55296&&n<=56319&&e>t+1){var s=a.charCodeAt(t+1);s>=56320&&s<=57343&&(n=1024*(n-55296)+s-56320+65536,t+=1)}n<128?i.push(n):n<2048?(i.push(n>>6|192),i.push(63&n|128)):n<55296||n>=57344&&n<65536?(i.push(n>>12|224),i.push(n>>6&63|128),i.push(63&n|128)):n>=65536&&n<=1114111?(i.push(n>>18|240),i.push(n>>12&63|128),i.push(n>>6&63|128),i.push(63&n|128)):i.push(239,191,189)}return new Uint8Array(i).buffer}},21063:(P,l,a)=>{const e=a(36109),t=a(24277),n=a(78691),s=a(9772);function c(d,u,r,B,k){const S=[].slice.call(arguments,1),I=S.length,N="function"==typeof S[I-1];if(!N&&!e())throw new Error("Callback required as last argument");if(!N){if(I<1)throw new Error("Too few arguments provided");return 1===I?(r=u,u=B=void 0):2===I&&!u.getContext&&(B=r,r=u,u=void 0),new Promise(function(g,x){try{const C=t.create(r,B);g(d(C,u,B))}catch(C){x(C)}})}if(I<2)throw new Error("Too few arguments provided");2===I?(k=r,r=u,u=B=void 0):3===I&&(u.getContext&&typeof k>"u"?(k=B,B=void 0):(k=B,B=r,r=u,u=void 0));try{const g=t.create(r,B);k(null,d(g,u,B))}catch(g){k(g)}}l.mo=c.bind(null,n.render),l.dY=c.bind(null,n.renderToDataURL),l.toString=c.bind(null,function(d,u,r){return s.render(d,r)})},36109:P=>{P.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},81101:(P,l,a)=>{const i=a(52670).getSymbolSize;l.getRowColCoords=function(t){if(1===t)return[];const n=Math.floor(t/7)+2,s=i(t),c=145===s?26:2*Math.ceil((s-13)/(2*n-2)),d=[s-7];for(let u=1;u<n-1;u++)d[u]=d[u-1]-c;return d.push(6),d.reverse()},l.getPositions=function(t){const n=[],s=l.getRowColCoords(t),c=s.length;for(let d=0;d<c;d++)for(let u=0;u<c;u++)0===d&&0===u||0===d&&u===c-1||d===c-1&&0===u||n.push([s[d],s[u]]);return n}},40593:(P,l,a)=>{const i=a(41144),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(n){this.mode=i.ALPHANUMERIC,this.data=n}t.getBitsLength=function(s){return 11*Math.floor(s/2)+s%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let c;for(c=0;c+2<=this.data.length;c+=2){let d=45*e.indexOf(this.data[c]);d+=e.indexOf(this.data[c+1]),s.put(d,11)}this.data.length%2&&s.put(e.indexOf(this.data[c]),6)},P.exports=t},28787:P=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(a){const i=Math.floor(a/8);return 1==(this.buffer[i]>>>7-a%8&1)},put:function(a,i){for(let e=0;e<i;e++)this.putBit(1==(a>>>i-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),a&&(this.buffer[i]|=128>>>this.length%8),this.length++}},P.exports=l},5820:P=>{function l(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}l.prototype.set=function(a,i,e,t){const n=a*this.size+i;this.data[n]=e,t&&(this.reservedBit[n]=!0)},l.prototype.get=function(a,i){return this.data[a*this.size+i]},l.prototype.xor=function(a,i,e){this.data[a*this.size+i]^=e},l.prototype.isReserved=function(a,i){return this.reservedBit[a*this.size+i]},P.exports=l},76710:(P,l,a)=>{const i=a(4657),e=a(41144);function t(n){this.mode=e.BYTE,"string"==typeof n&&(n=i(n)),this.data=new Uint8Array(n)}t.getBitsLength=function(s){return 8*s},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let s=0,c=this.data.length;s<c;s++)n.put(this.data[s],8)},P.exports=t},68566:(P,l,a)=>{const i=a(83721),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(s,c){switch(c){case i.L:return e[4*(s-1)+0];case i.M:return e[4*(s-1)+1];case i.Q:return e[4*(s-1)+2];case i.H:return e[4*(s-1)+3];default:return}},l.getTotalCodewordsCount=function(s,c){switch(c){case i.L:return t[4*(s-1)+0];case i.M:return t[4*(s-1)+1];case i.Q:return t[4*(s-1)+2];case i.H:return t[4*(s-1)+3];default:return}}},83721:(P,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2},l.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},l.from=function(e,t){if(l.isValid(e))return e;try{return function a(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+i)}}(e)}catch{return t}}},1604:(P,l,a)=>{const i=a(52670).getSymbolSize;l.getPositions=function(n){const s=i(n);return[[0,0],[s-7,0],[0,s-7]]}},39933:(P,l,a)=>{const i=a(52670),n=i.getBCHDigit(1335);l.getEncodedBits=function(c,d){const u=c.bit<<3|d;let r=u<<10;for(;i.getBCHDigit(r)-n>=0;)r^=1335<<i.getBCHDigit(r)-n;return 21522^(u<<10|r)}},15779:(P,l)=>{const a=new Uint8Array(512),i=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)a[n]=t,i[t]=n,t<<=1,256&t&&(t^=285);for(let n=255;n<512;n++)a[n]=a[n-255]})(),l.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},l.exp=function(t){return a[t]},l.mul=function(t,n){return 0===t||0===n?0:a[i[t]+i[n]]}},18629:(P,l,a)=>{const i=a(41144),e=a(52670);function t(n){this.mode=i.KANJI,this.data=n}t.getBitsLength=function(s){return 13*s},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let s;for(s=0;s<this.data.length;s++){let c=e.toSJIS(this.data[s]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[s]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),n.put(c,13)}},P.exports=t},30092:(P,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(e,t,n){switch(e){case l.Patterns.PATTERN000:return(t+n)%2==0;case l.Patterns.PATTERN001:return t%2==0;case l.Patterns.PATTERN010:return n%3==0;case l.Patterns.PATTERN011:return(t+n)%3==0;case l.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case l.Patterns.PATTERN101:return t*n%2+t*n%3==0;case l.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case l.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}l.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},l.from=function(t){return l.isValid(t)?parseInt(t,10):void 0},l.getPenaltyN1=function(t){const n=t.size;let s=0,c=0,d=0,u=null,r=null;for(let B=0;B<n;B++){c=d=0,u=r=null;for(let k=0;k<n;k++){let S=t.get(B,k);S===u?c++:(c>=5&&(s+=c-5+3),u=S,c=1),S=t.get(k,B),S===r?d++:(d>=5&&(s+=d-5+3),r=S,d=1)}c>=5&&(s+=c-5+3),d>=5&&(s+=d-5+3)}return s},l.getPenaltyN2=function(t){const n=t.size;let s=0;for(let c=0;c<n-1;c++)for(let d=0;d<n-1;d++){const u=t.get(c,d)+t.get(c,d+1)+t.get(c+1,d)+t.get(c+1,d+1);(4===u||0===u)&&s++}return 3*s},l.getPenaltyN3=function(t){const n=t.size;let s=0,c=0,d=0;for(let u=0;u<n;u++){c=d=0;for(let r=0;r<n;r++)c=c<<1&2047|t.get(u,r),r>=10&&(1488===c||93===c)&&s++,d=d<<1&2047|t.get(r,u),r>=10&&(1488===d||93===d)&&s++}return 40*s},l.getPenaltyN4=function(t){let n=0;const s=t.data.length;for(let d=0;d<s;d++)n+=t.data[d];return 10*Math.abs(Math.ceil(100*n/s/5)-10)},l.applyMask=function(t,n){const s=n.size;for(let c=0;c<s;c++)for(let d=0;d<s;d++)n.isReserved(d,c)||n.xor(d,c,i(t,d,c))},l.getBestMask=function(t,n){const s=Object.keys(l.Patterns).length;let c=0,d=1/0;for(let u=0;u<s;u++){n(u),l.applyMask(u,t);const r=l.getPenaltyN1(t)+l.getPenaltyN2(t)+l.getPenaltyN3(t)+l.getPenaltyN4(t);l.applyMask(u,t),r<d&&(d=r,c=u)}return c}},41144:(P,l,a)=>{const i=a(16062),e=a(43772);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!i.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},l.getBestModeForData=function(s){return e.testNumeric(s)?l.NUMERIC:e.testAlphanumeric(s)?l.ALPHANUMERIC:e.testKanji(s)?l.KANJI:l.BYTE},l.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},l.isValid=function(s){return s&&s.bit&&s.ccBits},l.from=function(s,c){if(l.isValid(s))return s;try{return function t(n){if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+n)}}(s)}catch{return c}}},18141:(P,l,a)=>{const i=a(41144);function e(t){this.mode=i.NUMERIC,this.data=t.toString()}e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let s,c,d;for(s=0;s+3<=this.data.length;s+=3)c=this.data.substr(s,3),d=parseInt(c,10),n.put(d,10);const u=this.data.length-s;u>0&&(c=this.data.substr(s),d=parseInt(c,10),n.put(d,3*u+1))},P.exports=e},37761:(P,l,a)=>{const i=a(15779);l.mul=function(t,n){const s=new Uint8Array(t.length+n.length-1);for(let c=0;c<t.length;c++)for(let d=0;d<n.length;d++)s[c+d]^=i.mul(t[c],n[d]);return s},l.mod=function(t,n){let s=new Uint8Array(t);for(;s.length-n.length>=0;){const c=s[0];for(let u=0;u<n.length;u++)s[u]^=i.mul(n[u],c);let d=0;for(;d<s.length&&0===s[d];)d++;s=s.slice(d)}return s},l.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let s=0;s<t;s++)n=l.mul(n,new Uint8Array([1,i.exp(s)]));return n}},24277:(P,l,a)=>{const i=a(52670),e=a(83721),t=a(28787),n=a(5820),s=a(81101),c=a(1604),d=a(30092),u=a(68566),r=a(13412),B=a(65595),k=a(39933),S=a(41144),I=a(87073);function T(E,A,v){const h=E.size,y=k.getEncodedBits(A,v);let p,o;for(p=0;p<15;p++)o=1==(y>>p&1),E.set(p<6?p:p<8?p+1:h-15+p,8,o,!0),E.set(8,p<8?h-p-1:p<9?15-p-1+1:15-p-1,o,!0);E.set(h-8,8,1,!0)}function U(E,A,v,h){let y;if(Array.isArray(E))y=I.fromArray(E);else{if("string"!=typeof E)throw new Error("Invalid data");{let L=A;if(!L){const R=I.rawSplit(E);L=B.getBestVersionForData(R,v)}y=I.fromString(E,L||40)}}const p=B.getBestVersionForData(y,v);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(A){if(A<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else A=p;const o=function w(E,A,v){const h=new t;v.forEach(function(m){h.put(m.mode.bit,4),h.put(m.getLength(),S.getCharCountIndicator(m.mode,E)),m.write(h)});const o=8*(i.getSymbolTotalCodewords(E)-u.getTotalCodewordsCount(E,A));for(h.getLengthInBits()+4<=o&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(0);const f=(o-h.getLengthInBits())/8;for(let m=0;m<f;m++)h.put(m%2?17:236,8);return function D(E,A,v){const h=i.getSymbolTotalCodewords(A),p=h-u.getTotalCodewordsCount(A,v),o=u.getBlocksCount(A,v),m=o-h%o,L=Math.floor(h/o),R=Math.floor(p/o),F=R+1,$=L-R,Q=new r($);let ne=0;const j=new Array(o),W=new Array(o);let J=0;const oe=new Uint8Array(E.buffer);for(let H=0;H<o;H++){const ae=H<m?R:F;j[H]=oe.slice(ne,ne+ae),W[H]=Q.encode(j[H]),ne+=ae,J=Math.max(J,ae)}const re=new Uint8Array(h);let G,V,K=0;for(G=0;G<J;G++)for(V=0;V<o;V++)G<j[V].length&&(re[K++]=j[V][G]);for(G=0;G<$;G++)for(V=0;V<o;V++)re[K++]=W[V][G];return re}(h,E,A)}(A,v,y),f=i.getSymbolSize(A),m=new n(f);return function N(E,A){const v=E.size,h=c.getPositions(A);for(let y=0;y<h.length;y++){const p=h[y][0],o=h[y][1];for(let f=-1;f<=7;f++)if(!(p+f<=-1||v<=p+f))for(let m=-1;m<=7;m++)o+m<=-1||v<=o+m||E.set(p+f,o+m,f>=0&&f<=6&&(0===m||6===m)||m>=0&&m<=6&&(0===f||6===f)||f>=2&&f<=4&&m>=2&&m<=4,!0)}}(m,A),function g(E){const A=E.size;for(let v=8;v<A-8;v++){const h=v%2==0;E.set(v,6,h,!0),E.set(6,v,h,!0)}}(m),function x(E,A){const v=s.getPositions(A);for(let h=0;h<v.length;h++){const y=v[h][0],p=v[h][1];for(let o=-2;o<=2;o++)for(let f=-2;f<=2;f++)E.set(y+o,p+f,-2===o||2===o||-2===f||2===f||0===o&&0===f,!0)}}(m,A),T(m,v,0),A>=7&&function C(E,A){const v=E.size,h=B.getEncodedBits(A);let y,p,o;for(let f=0;f<18;f++)y=Math.floor(f/3),p=f%3+v-8-3,o=1==(h>>f&1),E.set(y,p,o,!0),E.set(p,y,o,!0)}(m,A),function _(E,A){const v=E.size;let h=-1,y=v-1,p=7,o=0;for(let f=v-1;f>0;f-=2)for(6===f&&f--;;){for(let m=0;m<2;m++)if(!E.isReserved(y,f-m)){let L=!1;o<A.length&&(L=1==(A[o]>>>p&1)),E.set(y,f-m,L),p--,-1===p&&(o++,p=7)}if(y+=h,y<0||v<=y){y-=h,h=-h;break}}}(m,o),isNaN(h)&&(h=d.getBestMask(m,T.bind(null,m,v))),d.applyMask(h,m),T(m,v,h),{modules:m,version:A,errorCorrectionLevel:v,maskPattern:h,segments:y}}l.create=function(A,v){if(typeof A>"u"||""===A)throw new Error("No input text");let y,p,h=e.M;return typeof v<"u"&&(h=e.from(v.errorCorrectionLevel,e.M),y=B.from(v.version),p=d.from(v.maskPattern),v.toSJISFunc&&i.setToSJISFunction(v.toSJISFunc)),U(A,y,h,p)}},13412:(P,l,a)=>{const i=a(37761);function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}e.prototype.initialize=function(n){this.degree=n,this.genPoly=i.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(n.length+this.degree);s.set(n);const c=i.mod(s,this.genPoly),d=this.degree-c.length;if(d>0){const u=new Uint8Array(this.degree);return u.set(c,d),u}return c},P.exports=e},43772:(P,l)=>{const a="[0-9]+";let e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";e=e.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+e+")(?:.|[\r\n]))+";l.KANJI=new RegExp(e,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(t,"g"),l.NUMERIC=new RegExp(a,"g"),l.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const n=new RegExp("^"+e+"$"),s=new RegExp("^"+a+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(u){return n.test(u)},l.testNumeric=function(u){return s.test(u)},l.testAlphanumeric=function(u){return c.test(u)}},87073:(P,l,a)=>{const i=a(41144),e=a(18141),t=a(40593),n=a(76710),s=a(18629),c=a(43772),d=a(52670),u=a(74219);function r(C){return unescape(encodeURIComponent(C)).length}function B(C,T,_){const w=[];let D;for(;null!==(D=C.exec(_));)w.push({data:D[0],index:D.index,mode:T,length:D[0].length});return w}function k(C){const T=B(c.NUMERIC,i.NUMERIC,C),_=B(c.ALPHANUMERIC,i.ALPHANUMERIC,C);let w,D;return d.isKanjiModeEnabled()?(w=B(c.BYTE,i.BYTE,C),D=B(c.KANJI,i.KANJI,C)):(w=B(c.BYTE_KANJI,i.BYTE,C),D=[]),T.concat(_,w,D).sort(function(E,A){return E.index-A.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function S(C,T){switch(T){case i.NUMERIC:return e.getBitsLength(C);case i.ALPHANUMERIC:return t.getBitsLength(C);case i.KANJI:return s.getBitsLength(C);case i.BYTE:return n.getBitsLength(C)}}function x(C,T){let _;const w=i.getBestModeForData(C);if(_=i.from(T,w),_!==i.BYTE&&_.bit<w.bit)throw new Error('"'+C+'" cannot be encoded with mode '+i.toString(_)+".\n Suggested mode is: "+i.toString(w));switch(_===i.KANJI&&!d.isKanjiModeEnabled()&&(_=i.BYTE),_){case i.NUMERIC:return new e(C);case i.ALPHANUMERIC:return new t(C);case i.KANJI:return new s(C);case i.BYTE:return new n(C)}}l.fromArray=function(T){return T.reduce(function(_,w){return"string"==typeof w?_.push(x(w,null)):w.data&&_.push(x(w.data,w.mode)),_},[])},l.fromString=function(T,_){const D=function N(C){const T=[];for(let _=0;_<C.length;_++){const w=C[_];switch(w.mode){case i.NUMERIC:T.push([w,{data:w.data,mode:i.ALPHANUMERIC,length:w.length},{data:w.data,mode:i.BYTE,length:w.length}]);break;case i.ALPHANUMERIC:T.push([w,{data:w.data,mode:i.BYTE,length:w.length}]);break;case i.KANJI:T.push([w,{data:w.data,mode:i.BYTE,length:r(w.data)}]);break;case i.BYTE:T.push([{data:w.data,mode:i.BYTE,length:r(w.data)}])}}return T}(k(T,d.isKanjiModeEnabled())),U=function g(C,T){const _={},w={start:{}};let D=["start"];for(let U=0;U<C.length;U++){const E=C[U],A=[];for(let v=0;v<E.length;v++){const h=E[v],y=""+U+v;A.push(y),_[y]={node:h,lastCount:0},w[y]={};for(let p=0;p<D.length;p++){const o=D[p];_[o]&&_[o].node.mode===h.mode?(w[o][y]=S(_[o].lastCount+h.length,h.mode)-S(_[o].lastCount,h.mode),_[o].lastCount+=h.length):(_[o]&&(_[o].lastCount=h.length),w[o][y]=S(h.length,h.mode)+4+i.getCharCountIndicator(h.mode,T))}}D=A}for(let U=0;U<D.length;U++)w[D[U]].end=0;return{map:w,table:_}}(D,_),E=u.find_path(U.map,"start","end"),A=[];for(let v=1;v<E.length-1;v++)A.push(U.table[E[v]].node);return l.fromArray(function I(C){return C.reduce(function(T,_){const w=T.length-1>=0?T[T.length-1]:null;return w&&w.mode===_.mode?(T[T.length-1].data+=_.data,T):(T.push(_),T)},[])}(A))},l.rawSplit=function(T){return l.fromArray(k(T,d.isKanjiModeEnabled()))}},52670:(P,l)=>{let a;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},l.getSymbolTotalCodewords=function(t){return i[t]},l.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},l.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');a=t},l.isKanjiModeEnabled=function(){return typeof a<"u"},l.toSJIS=function(t){return a(t)}},16062:(P,l)=>{l.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}},65595:(P,l,a)=>{const i=a(52670),e=a(68566),t=a(83721),n=a(41144),s=a(16062),d=i.getBCHDigit(7973);function r(S,I){return n.getCharCountIndicator(S,I)+4}function B(S,I){let N=0;return S.forEach(function(g){const x=r(g.mode,I);N+=x+g.getBitsLength()}),N}l.from=function(I,N){return s.isValid(I)?parseInt(I,10):N},l.getCapacity=function(I,N,g){if(!s.isValid(I))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=n.BYTE);const T=8*(i.getSymbolTotalCodewords(I)-e.getTotalCodewordsCount(I,N));if(g===n.MIXED)return T;const _=T-r(g,I);switch(g){case n.NUMERIC:return Math.floor(_/10*3);case n.ALPHANUMERIC:return Math.floor(_/11*2);case n.KANJI:return Math.floor(_/13);default:return Math.floor(_/8)}},l.getBestVersionForData=function(I,N){let g;const x=t.from(N,t.M);if(Array.isArray(I)){if(I.length>1)return function k(S,I){for(let N=1;N<=40;N++)if(B(S,N)<=l.getCapacity(N,I,n.MIXED))return N}(I,x);if(0===I.length)return 1;g=I[0]}else g=I;return function u(S,I,N){for(let g=1;g<=40;g++)if(I<=l.getCapacity(g,N,S))return g}(g.mode,g.getLength(),x)},l.getEncodedBits=function(I){if(!s.isValid(I)||I<7)throw new Error("Invalid QR Code version");let N=I<<12;for(;i.getBCHDigit(N)-d>=0;)N^=7973<<i.getBCHDigit(N)-d;return I<<12|N}},78691:(P,l,a)=>{const i=a(97534);l.render=function(s,c,d){let u=d,r=c;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),c||(r=function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),u=i.getOptions(u);const B=i.getImageWidth(s.modules.size,u),k=r.getContext("2d"),S=k.createImageData(B,B);return i.qrToImageData(S.data,s,u),function e(n,s,c){n.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}(k,r,B),k.putImageData(S,0,0),r},l.renderToDataURL=function(s,c,d){let u=d;return typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),u||(u={}),l.render(s,c,u).toDataURL(u.type||"image/png",(u.rendererOpts||{}).quality)}},9772:(P,l,a)=>{const i=a(97534);function e(s,c){const d=s.a/255,u=c+'="'+s.hex+'"';return d<1?u+" "+c+'-opacity="'+d.toFixed(2).slice(1)+'"':u}function t(s,c,d){let u=s+c;return typeof d<"u"&&(u+=" "+d),u}l.render=function(c,d,u){const r=i.getOptions(d),B=c.modules.size,k=c.modules.data,S=B+2*r.margin,I=r.color.light.a?"<path "+e(r.color.light,"fill")+' d="M0 0h'+S+"v"+S+'H0z"/>':"",N="<path "+e(r.color.dark,"stroke")+' d="'+function n(s,c,d){let u="",r=0,B=!1,k=0;for(let S=0;S<s.length;S++){const I=Math.floor(S%c),N=Math.floor(S/c);!I&&!B&&(B=!0),s[S]?(k++,S>0&&I>0&&s[S-1]||(u+=B?t("M",I+d,.5+N+d):t("m",r,0),r=0,B=!1),I+1<c&&s[S+1]||(u+=t("h",k),k=0)):r++}return u}(k,B,r.margin)+'"/>',C='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+'viewBox="0 0 '+S+" "+S+'" shape-rendering="crispEdges">'+I+N+"</svg>\n";return"function"==typeof u&&u(null,C),C}},97534:(P,l)=>{function a(i){if("number"==typeof i&&(i=i.toString()),"string"!=typeof i)throw new Error("Color should be defined as hex string");let e=i.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+i);(3===e.length||4===e.length)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),6===e.length&&e.push("F","F");const t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+e.slice(0,6).join("")}}l.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=e.width&&e.width>=21?e.width:void 0;return{width:n,scale:n?4:e.scale||4,margin:typeof e.margin>"u"||null===e.margin||e.margin<0?4:e.margin,color:{dark:a(e.color.dark||"#000000ff"),light:a(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},l.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},l.getImageWidth=function(e,t){const n=l.getScale(e,t);return Math.floor((e+2*t.margin)*n)},l.qrToImageData=function(e,t,n){const s=t.modules.size,c=t.modules.data,d=l.getScale(s,n),u=Math.floor((s+2*n.margin)*d),r=n.margin*d,B=[n.color.light,n.color.dark];for(let k=0;k<u;k++)for(let S=0;S<u;S++){let I=4*(k*u+S),N=n.color.light;k>=r&&S>=r&&k<u-r&&S<u-r&&(N=B[c[Math.floor((k-r)/d)*s+Math.floor((S-r)/d)]?1:0]),e[I++]=N.r,e[I++]=N.g,e[I++]=N.b,e[I]=N.a}}}}]);