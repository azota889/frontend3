(self.webpackChunkTeacherMod=self.webpackChunkTeacherMod||[]).push([[353],{67638:(P,l,a)=>{"use strict";a.d(l,{x:()=>k});var s=a(43234),t=a(66114),o=a(48891),i=a(44172),e=a(9691),c=a(84708),u=a(10296),C=a(68774),L=a(51113);let k=(()=>{var T;class I{exportExcelForCodeNumber(m){let x=this.commonService.myTranslateInstant("lang_auto_stt")??"",w=this.commonService.myTranslateInstant("lang_auto_ho_va_ten")??"",v=this.commonService.myTranslateInstant("lang_auto_ngay_sinh")??"",p=this.commonService.myTranslateInstant("lang_auto_lop")??"",_=this.commonService.myTranslateInstant("lang_auto_so_bao_danh_6_so")??"",D=this.commonService.myTranslateInstant("lang_number_phone")??"",U="*"+this.commonService.myTranslateInstant("lang_auto_export_sbg_comment_one"),E="*"+this.commonService.myTranslateInstant("lang_auto_export_sbg_comment_two"),A=[x,w,v,_,D,p],b=[];for(let f=0;f<m.length;f++){let B=m[f],R="";R=0===f?U:R,b.push({[x]:f+1,[w]:B.fullName,[_]:this.formatAnswerSheetService.formatStudentCodeToNumber(B.code,s.c.maxStudentCodeLength),[D]:B.phone,[v]:B.birthday?this.timeService.getFormatDate(B.birthday):"",[p]:B.className," ":"","":R})}if(m.length<3)for(let f=m.length;f<3;f++){let B="";B=0===f?U:B,B=1===f?E:B,b.push({[x]:"",[w]:"",[_]:"",[D]:"",[v]:"",[p]:""," ":"","":B})}let d=t.utils.aoa_to_sheet([A]);const g=t.utils.book_new();t.utils.book_append_sheet(g,d,"Sheet1"),t.utils.sheet_add_json(d,b,{origin:-1,header:A,skipHeader:!0});const y=t.write(g,{bookType:"xlsx",type:"array"});return new Blob([y],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}exportExcelForPayment(m){var x=[];let w=this.commonService.myTranslateInstant("lang_auto_stt")??"",v=this.commonService.myTranslateInstant("lang_auto_so_tien_azo")??"",p=this.commonService.myTranslateInstant("lang_auto_noi_dung")??"",_=this.commonService.myTranslateInstant("lang_auto_nap_tien_vao_vi_azo")??"",D=this.commonService.myTranslateInstant("lang_auto_mua_de_thi")??"",U=this.commonService.myTranslateInstant("lang_auto_rut_azo_khoi_vi")??"",E=this.commonService.myTranslateInstant("lang_auto_chuyen_azo_cho_tai_khoan")??"",A=this.commonService.myTranslateInstant("lang_auto_he_thong_tang_azo")??"",b=this.commonService.myTranslateInstant("lang_auto_nhan_azo_tu_file_da_ban")??"",d=this.commonService.myTranslateInstant("lang_auto_nhan_azo_tu_tai_khoan")??"";for(let R=1;R<(m?.length??0);R++){var g=0===m?.[R].type?_:"";g=1===m?.[R].type?D+" "+m[R].examName:g,g=2===m?.[R].type?U:g,g=3===m?.[R].type?E+" "+m[R].relativeName:g,g=4===m?.[R].type?A:g,g=5===m?.[R].type?b:g,x.push({[w]:R,[v]:0,[p]:g=6===m?.[R].type?d+" "+m[R].relativeName:g,content9Trans:this.timeService.formatFullDateTimeByUserUnit(m?.[R].createdAt)})}const r={Sheets:{data:t.utils.json_to_sheet(x)},SheetNames:["data"]},h=t.write(r,{bookType:"xlsx",type:"array"});return new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}exportExcelForScoreHomeworkOfClassroom(m,x,w,v){let p=this.commonService.myTranslateInstant("lang_auto_stt")??"",_=this.commonService.myTranslateInstant("lang_auto_ho_va_ten")??"",D=this.commonService.myTranslateInstant("lang_auto_gioi_tinh")??"",U=this.commonService.myTranslateInstant("lang_auto_so_bao_danh")??"",E=this.commonService.myTranslateInstant("lang_auto_ngay_sinh")??"",A=this.commonService.myTranslateInstant("lang_auto_dat")??"",b=this.commonService.myTranslateInstant("lang_auto_chua_dat")??"",d=this.commonService.myTranslateInstant("lang_auto_hoan_thanh"),g=this.commonService.myTranslateInstant("lang_auto_chua_hoan_thanh")??"",y=this.commonService.myTranslateInstant("lang_auto_hoan_thanh_tot")??"",r=this.commonService.myTranslateInstant("lang_export_classroom_score_homework_result")??"",h=this.commonService.myTranslateInstant("lang_export_classroom_score_homework_comment")??"",f=this.commonService.myTranslateInstant("lang_export_classroom_score_first_result")??"",B=this.commonService.myTranslateInstant("lang_export_classroom_score_last_result")??"",R=this.commonService.myTranslateInstant("lang_export_classroom_score_highest_result")??"",F=this.commonService.myTranslateInstant("lang_auto_chua_thi")??"",$=this.commonService.myTranslateInstant("lang_auto_chua_nop")??"",G=this.commonService.myTranslateInstant("lang_auto_chua_cham")??"",ne=this.commonService.myTranslateInstant("lang_auto_da_yeu_cau_nop_lai")??"",j=this.commonService.myTranslateInstant("lang_auto_truong")??"",W=this.commonService.myTranslateInstant("lang_auto_lop")??"",J=this.commonService.myTranslateInstant("lang_auto_so_dien_thoai")??"",oe=this.commonService.myTranslateInstant("lang_auto_email")??"",re="Username";x=this.sortService.sortFirstNameStudents(x);let K=this.commonService.isBusinessDomain(),Q=this.commonService.isTqbDomain(),V=Q?[p,_,D,E,J,oe,U,W]:[p,_,re,D,E,J,oe,U,W],H=Q?[p,_,D,E,J,oe,U,W]:[p,_,re,D,E,J,oe,U,W],ae=[],ye=[],pe=[],_e=[],we=[],Ce=0,ce=9,ie=9,Ee=1;K&&(V.push(j),H.push(j),ce=10,ie=10),x.forEach(S=>{Ce+=1,Ee++;let N={},Te={},he={},fe={},me={};if(S.dataHomework&&ce<=(K?10:9)+S.dataHomework.length&&(ce=(K?10:9)+S.dataHomework?.length),S.dataExam&&ie<=(K?10:9)+S.dataExam.length&&(ie=(K?10:9)+S.dataExam?.length),S.dataHomework?.forEach(z=>{let O=this.timeService.getFormatDate(z.createdAt??"")+` (${z.name})`,Y=1;for(;N[`${O}`];)Y++,O=`${this.timeService.getFormatDate(z.createdAt??"")} (${z.name}) (${Y})`;switch(z.point){case 1e3:N[`${O}`]=A;break;case 1001:N[`${O}`]=b;break;case 2e3:N[`${O}`]=d;break;case 2001:N[`${O}`]=g;break;case 3e3:N[`${O}`]=y;break;default:N[`${O}`]=`${z.point}`}z.answerId||(N[`${O}`]=`${z.answerHistories?.length?ne:$}`),z.answerId&&!z.confirmedAt&&(N[`${O}`]=`${G}`);let Se=this.commonService.willDeleteParseJson(this.zipDataService.decodeContentGzip(z.result??""));var ge=document.createElement("div");ge.innerHTML=this.commonService.removeXssInHtml(null==Se?"":Se.comment),Te[`${O}`]=ge.textContent||ge.innerText,this.commonService.isExistInArray(V,O)||V.push(O)}),w&&w.length){let z=0;w.forEach(O=>{let Y=`${O.name}`;for(;he[`${Y}`];)z++,Y=`${O.name} (${z})`;he[`${Y}`]=F,fe[`${Y}`]=F,me[`${Y}`]=F,this.commonService.isExistInArray(H,Y)||H.push(Y)})}let ve={},be=0;S.dataExam?.forEach(z=>{let O=`${z.name}`;for(;ve[`${O}`];)be++,O=`${z.name} (${be})`;ve[`${O}`]=O,he[`${O}`]=null!=z.firstPoint?-1!=z.firstPoint?z.firstPoint:G:F,fe[`${O}`]=null!=z.lastPoint?-1!=z.lastPoint?z.lastPoint:G:F,me[`${O}`]=null!=z.highestPoint?-1!=z.highestPoint?z.highestPoint:G:F,this.commonService.isExistInArray(H,O)||H.push(O)}),ie<H.length&&(ie=H.length);let se={[p]:Ce,[_]:S.fullname,[Q?"":re]:Q?"":S.userName,[D]:S.gender,[E]:null!=S.birthday?this.timeService.getFormatDate(S.birthday):"",[J]:S.phone??"",[oe]:S.email??"",[W]:m.name??"",[U]:S.identificationNumber?this.formatAnswerSheetService.formatStudentCodeToNumber(S.identificationNumber,s.c.maxStudentCodeLength):""};K&&(se={...se,[j]:S.schoolName??""}),ae.push({...se,...N}),ye.push({...se,...Te}),pe.push({...se,...he}),_e.push({...se,...fe}),we.push({...se,...me})});var de=[{width:10},{width:30},{width:30},{width:15},{width:15},{width:20},{width:30},{width:15},{width:30}];K&&de.push({width:30});for(let S=0;S<ce;S++)S>(K?9:8)&&de.push({width:40});var ue=[{width:10},{width:30},{width:30},{width:15},{width:15},{width:20},{width:30},{width:15},{width:30}];K&&ue.push({width:30});for(let S=0;S<ie;S++)S>(K?9:8)&&ue.push({width:40});var X=t.utils.aoa_to_sheet([[`${r} - ${m.name}`],V]);t.utils.sheet_add_json(X,ae,{origin:-1,header:V,skipHeader:!0}),X["!cols"]=de;var q=t.utils.aoa_to_sheet([[`${h} - ${m.name}`],V]);t.utils.sheet_add_json(q,ye,{origin:-1,header:V,skipHeader:!0}),q["!cols"]=de;var Z=t.utils.aoa_to_sheet([[`${f} - ${m.name}`],H]);t.utils.sheet_add_json(Z,pe,{origin:-1,header:H,skipHeader:!0}),Z["!cols"]=ue;var ee=t.utils.aoa_to_sheet([[`${B} - ${m.name}`],H]);t.utils.sheet_add_json(ee,_e,{origin:-1,header:H,skipHeader:!0}),ee["!cols"]=ue;var te=t.utils.aoa_to_sheet([[`${R} - ${m.name}`],H]);t.utils.sheet_add_json(te,we,{origin:-1,header:H,skipHeader:!0}),te["!cols"]=ue;let le=[1,6,8];K&&le.push(9);for(let S=1;S<=Ee;S++){for(let N=0;N<ce;N++)X[t.utils.encode_cell({c:N,r:S})]&&(X[t.utils.encode_cell({c:N,r:S})].s=0!=S&&1==S?this.style_header:le.includes(N)?this.style_body_left:this.style_body,7==N&&(X[t.utils.encode_cell({c:N,r:S})].t="s",X[t.utils.encode_cell({c:N,r:S})].z="@")),q[t.utils.encode_cell({c:N,r:S})]&&(q[t.utils.encode_cell({c:N,r:S})].s=0!=S&&1==S?this.style_header:le.includes(N)?this.style_body_left:this.style_body,7==N&&(q[t.utils.encode_cell({c:N,r:S})].t="s",q[t.utils.encode_cell({c:N,r:S})].z="@"));for(let N=0;N<ie;N++)Z[t.utils.encode_cell({c:N,r:S})]&&(Z[t.utils.encode_cell({c:N,r:S})].s=0!=S&&1==S?this.style_header:le.includes(N)?this.style_body_left:this.style_body,7==N&&(Z[t.utils.encode_cell({c:N,r:S})].t="s",Z[t.utils.encode_cell({c:N,r:S})].z="@")),ee[t.utils.encode_cell({c:N,r:S})]&&(ee[t.utils.encode_cell({c:N,r:S})].s=0!=S&&1==S?this.style_header:le.includes(N)?this.style_body_left:this.style_body,7==N&&(ee[t.utils.encode_cell({c:N,r:S})].t="s",ee[t.utils.encode_cell({c:N,r:S})].z="@")),te[t.utils.encode_cell({c:N,r:S})]&&(te[t.utils.encode_cell({c:N,r:S})].s=0!=S&&1==S?this.style_header:le.includes(N)?this.style_body_left:this.style_body,7==N&&(te[t.utils.encode_cell({c:N,r:S})].t="s",te[t.utils.encode_cell({c:N,r:S})].z="@"))}if(v&&v>0){const S=`${this.commonService.myTranslateInstant("lang_azt_still")} ${v} ${this.commonService.myTranslateInstant("lang_azt_line_is_not_displayed_yet_please_register_as_VIP_to_be_able_to_display_all_content")}`;this.addStyledRowAndMerge(X,S),this.addStyledRowAndMerge(q,S),this.addStyledRowAndMerge(Z,S),this.addStyledRowAndMerge(ee,S),this.addStyledRowAndMerge(te,S)}const Ae=t.write({Sheets:{[r]:X,[h]:q,[f]:Z,[B]:ee,[R]:te},SheetNames:[r,h,f,B,R]},{bookType:"xlsx",type:"array"});return new Blob([Ae],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}exportHtmlTableToExcel(m,x,w){const v=t.utils.table_to_sheet(m?.nativeElement,{raw:x}),p=t.utils.book_new();t.utils.book_append_sheet(p,v,"Sheet1"),t.writeFile(p,w);var _=t.write(p,{bookType:"xlsx",bookSST:!0,type:"base64"});this.shareFileFlutterService.shareFileWithBase64(_,w)}exportHtmlTableToExcelStyleOnlyHeaderRow(m,x,w,v){var p=t.utils.table_to_sheet(m?.nativeElement,{raw:x}),_=m?.nativeElement?.getElementsByClassName("azt-excel-cell");if(_&&_.length>0){for(var D=[],U=0;U<_.length;U++){var E=_[U].getAttribute("excelColumn")??void 0,A=_[U].getAttribute("excelStyle")?.toString()??void 0,b=null!=E?Number(E):void 0,d=null!=A?this.commonService.castJsonToObj(A):void 0;if(null!=v&&null!=b&&null!=d)try{var g=t.utils.encode_cell({c:b,r:v});p.hasOwnProperty(g)&&(p[g].s=d,d.hasOwnProperty("isText")&&1==d.isText&&(p[g].t="s",p[g].z="@"))}catch(B){console.log(B)}var y=_[U].getAttribute("excelWidth")??void 0,r=null!=y?Number(y):void 0;r&&D.push({width:r})}D.length>0&&(p["!cols"]=D)}const h=t.utils.book_new();if(t.utils.book_append_sheet(h,p,"Sheet1"),this.commonService.isMobileWebview(void 0)){var f=t.write(h,{bookType:"xlsx",bookSST:!0,type:"array"});const R=new Blob([f],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});this.shareFileFlutterService.shareFileWithBlob(R,w)}else t.writeFile(h,w)}exportHtmlTableToExcelBlob(m,x){var w=t.utils.table_to_sheet(m?.nativeElement,{raw:x}),v=m?.nativeElement?.getElementsByClassName("azt-excel-cell");if(v&&v.length>0){for(var p=[],_=0;_<v.length;_++){var D=v[_].getAttribute("excelRow")??void 0,U=v[_].getAttribute("excelColumn")??void 0,E=v[_].getAttribute("excelStyle")?.toString()??void 0,A=null!=D?Number(D):void 0,b=null!=U?Number(U):void 0,d=null!=E?this.commonService.castJsonToObj(E):void 0;if(null!=A&&null!=b&&null!=d)try{var g=t.utils.encode_cell({c:b,r:A});w.hasOwnProperty(g)&&(w[g].s=d,d.hasOwnProperty("isText")&&1==d.isText&&(w[g].t="s",w[g].z="@"))}catch(F){console.log(F)}var y=v[_].getAttribute("excelWidth")??void 0,r=null!=y?Number(y):void 0;r&&p.push({width:r})}p.length>0&&(w["!cols"]=p)}const h=t.utils.book_new();t.utils.book_append_sheet(h,w,"Sheet1");const f=t.write(h,{bookType:"xlsx",type:"array"});return new Blob([f],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}addStyledRowAndMerge(m,x){t.utils.sheet_add_json(m,[{A:x,B:"",C:"",D:"",E:"",F:"",G:""}],{skipHeader:!0,origin:-1});const w=m["!ref"]?.split(":")[1].replace(/\D/g,""),p=m[`A${w}`];p&&(p.s={font:{bold:!0,color:{rgb:"FF0000"},sz:14}}),m["!merges"]||(m["!merges"]=[]),m["!merges"].push({s:{r:Number(w)-1,c:0},e:{r:Number(w)-1,c:6}})}constructor(m,x,w,v,p,_){this.commonService=m,this.timeService=x,this.formatAnswerSheetService=w,this.shareFileFlutterService=v,this.sortService=p,this.zipDataService=_,this.style_header={width:35,alignment:{vertical:"center",horizontal:"center",wrapText:!0},font:{sz:11,bold:!0,color:{rgb:"ffffffff"}},fill:{patternType:"solid",fgColor:{rgb:"2361ae"}}},this.style_body={alignment:{vertical:"center",horizontal:"center",font:{bold:!1,color:{rgb:"000000"}}}},this.style_body_left={alignment:{vertical:"center",font:{bold:!1,color:{rgb:"000000"}}}}}}return(T=I).\u0275fac=function(m){return new(m||T)(o.KVO(i.R),o.KVO(e.F),o.KVO(c.e),o.KVO(u.R),o.KVO(C.g),o.KVO(L.j))},T.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),I})()},67156:(P,l,a)=>{"use strict";a.d(l,{d:()=>b});var s=a(59640),t=a(54460),n=a(10936),o=a(65162),i=a(73014),e=a(48891),c=a(21063),u=a(86388);const C=["qrcElement"];let L=(()=>{var d;class g{constructor(r,h){this.renderer=r,this.sanitizer=h,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new e.bkB,this.context=null}ngOnChanges(){var r=this;return(0,i.A)(function*(){yield r.createQRCode()})()}isValidQrCodeText(r){return!1===this.allowEmptyString?!(typeof r>"u"||""===r||"null"===r||null===r):!(typeof r>"u")}toDataURL(r){return new Promise((h,f)=>{(0,c.dY)(this.qrdata,r,(B,R)=>{B?f(B):h(R)})})}toCanvas(r,h){return new Promise((f,B)=>{(0,c.mo)(r,this.qrdata,h,R=>{R?B(R):f("success")})})}toSVG(r){return new Promise((h,f)=>{(0,c.toString)(this.qrdata,r,(B,R)=>{B?f(B):h(R)})})}renderElement(r){for(const h of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,h);this.renderer.appendChild(this.qrcElement.nativeElement,r)}createQRCode(){var r=this;return(0,i.A)(function*(){r.version&&r.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),r.version=40):r.version&&r.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),r.version=1):void 0!==r.version&&isNaN(r.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),r.version=void 0);try{if(!r.isValidQrCodeText(r.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");r.isValidQrCodeText(r.qrdata)&&""===r.qrdata&&(r.qrdata=" ");const h={color:{dark:r.colorDark,light:r.colorLight},errorCorrectionLevel:r.errorCorrectionLevel,margin:r.margin,scale:r.scale,version:r.version,width:r.width},f=r.imageSrc,B=r.imageHeight||40,R=r.imageWidth||40;switch(r.elementType){case"canvas":{const F=r.renderer.createElement("canvas");r.context=F.getContext("2d"),r.toCanvas(F,h).then(()=>{if(r.ariaLabel&&r.renderer.setAttribute(F,"aria-label",`${r.ariaLabel}`),r.title&&r.renderer.setAttribute(F,"title",`${r.title}`),f&&r.context){r.centerImage=new Image(R,B),f!==r.centerImage.src&&(r.centerImage.src=f),B!==r.centerImage.height&&(r.centerImage.height=B),R!==r.centerImage.width&&(r.centerImage.width=R);const $=r.centerImage;$&&($.onload=()=>{r.context?.drawImage($,F.width/2-R/2,F.height/2-B/2,R,B)})}r.renderElement(F),r.emitQRCodeURL(F)}).catch($=>{console.error("[angularx-qrcode] canvas error:",$)});break}case"svg":{const F=r.renderer.createElement("div");r.toSVG(h).then($=>{r.renderer.setProperty(F,"innerHTML",$);const G=F.firstChild;r.renderer.setAttribute(G,"height",`${r.width}`),r.renderer.setAttribute(G,"width",`${r.width}`),r.renderElement(G),r.emitQRCodeURL(G)}).catch($=>{console.error("[angularx-qrcode] svg error:",$)});break}default:{const F=r.renderer.createElement("img");r.toDataURL(h).then($=>{r.alt&&F.setAttribute("alt",r.alt),r.ariaLabel&&F.setAttribute("aria-label",r.ariaLabel),F.setAttribute("src",$),r.title&&F.setAttribute("title",r.title),r.renderElement(F),r.emitQRCodeURL(F)}).catch($=>{console.error("[angularx-qrcode] img/url error:",$)})}}}catch(h){console.error("[angularx-qrcode] Error generating QR Code:",h.message)}})()}convertBase64ImageUrlToBlob(r){const h=r.split(";base64,"),f=h[0].split(":")[1],B=atob(h[1]),R=new Uint8Array(B.length);for(let F=0;F<B.length;++F)R[F]=B.charCodeAt(F);return new Blob([R],{type:f})}emitQRCodeURL(r){const h=r.constructor.name;if(h===SVGSVGElement.name){const G=new Blob([r.outerHTML],{type:"image/svg+xml"}),ne=URL.createObjectURL(G),j=this.sanitizer.bypassSecurityTrustUrl(ne);return void this.qrCodeURL.emit(j)}let f="";h===HTMLCanvasElement.name&&(f=r.toDataURL("image/png")),h===HTMLImageElement.name&&(f=r.src);const B=this.convertBase64ImageUrlToBlob(f),R=URL.createObjectURL(B),F=this.sanitizer.bypassSecurityTrustUrl(R);this.qrCodeURL.emit(F)}}return(d=g).\u0275fac=function(r){return new(r||d)(e.rXU(e.sFG),e.rXU(u.up))},d.\u0275cmp=e.VBU({type:d,selectors:[["qrcode"]],viewQuery:function(r,h){if(1&r&&e.GBs(C,7),2&r){let f;e.mGM(f=e.lsd())&&(h.qrcElement=f.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[e.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(r,h){1&r&&e.nrm(0,"div",null,0),2&r&&e.HbH(h.cssClass)},encapsulation:2,changeDetection:0}),g})(),k=(()=>{var d;class g{}return(d=g).\u0275fac=function(r){return new(r||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({}),g})();var T=a(15343),I=a(5502),M=a(44155),m=a(47348),x=a(70050),w=a(36894),v=a(64160);const p=()=>({"mr-2":!0});function _(d,g){if(1&d){const y=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"p",7),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"p",7),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s(),e.j41(8,"div",8),e.nrm(9,"input",9),e.j41(10,"button",10),e.bIt("click",function(){e.eBV(y);const h=e.XpG();return e.Njj(h.showCopySuccess())}),e.nrm(11,"lucide-icon",11),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()(),e.bVm()}if(2&d){const y=e.XpG();e.R7$(3),e.JRh(e.bMT(4,6,"lang_auto_hoac")),e.R7$(3),e.JRh(e.bMT(7,8,"lang_classroom_QR_join_link_copy")),e.R7$(3),e.Y8G("value",y.linkUrl),e.R7$(),e.Y8G("cdkCopyToClipboard",y.copyLinkToClipboard(y.linkUrl)),e.R7$(),e.Y8G("ngClass",e.lJ4(12,p)),e.R7$(),e.SpI(" ",e.bMT(13,10,"lang_auto_sao_chep")," ")}}let D=(()=>{var d;class g extends s.H{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(r){return r}onChangeURL(r){this.qrCodeDownloadLink=r}downloadQrCode(){try{let r=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,r)}catch{console.log("Download QrCode error")}}}return(d=g).\u0275fac=(()=>{let y;return function(h){return(y||(y=e.xGo(d)))(h||d)}})(),d.\u0275cmp=e.VBU({type:d,selectors:[["azt-show-link"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:11,consts:[["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | coreModConvertCdnLinkOfGitHub",3,"qrCodeURL","allowEmptyString","qrdata","elementType","width","errorCorrectionLevel"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["name","download","size","16",3,"ngClass"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"]],template:function(r,h){1&r&&(e.j41(0,"div",0),e.bIt("click",function(B){return B.stopPropagation()}),e.j41(1,"div",1)(2,"qrcode",2),e.bIt("qrCodeURL",function(B){return h.onChangeURL(B)}),e.k0s()(),e.j41(3,"a",3),e.bIt("click",function(){return h.downloadQrCode()}),e.nrm(4,"lucide-icon",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.DNE(7,_,14,13,"ng-container",5),e.k0s()),2&r&&(e.R7$(2),e.Y8G("allowEmptyString",!0)("qrdata",h.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),e.R7$(2),e.Y8G("ngClass",e.lJ4(10,p)),e.R7$(),e.SpI(" ",e.bMT(6,8,"lang_auto_tai_ve_may")," "),e.R7$(2),e.Y8G("ngIf",h.showLink))},dependencies:[k,L,t.MD,t.YU,t.bT,n.X1,o.iI,n.YN,m.wp,M.s,v.dF,T.flO,T.WGl,x.L,I.Id,w.k],encapsulation:2}),g})();var U=a(17818),E=a(47712);const A=d=>({"w-80":d});let b=(()=>{var d;class g extends s.H{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1}}return(d=g).\u0275fac=(()=>{let y;return function(h){return(y||(y=e.xGo(d)))(h||d)}})(),d.\u0275cmp=e.VBU({type:d,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:10,consts:[["showQrCode","matMenu"],["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["name","qr-code","size","24"],["xPosition","before"],[3,"ngClass"],[3,"linkUrl","fileName","showLink"]],template:function(r,h){if(1&r&&(e.j41(0,"button",1),e.nI1(1,"mytranslate"),e.nrm(2,"lucide-icon",2),e.k0s(),e.j41(3,"mat-menu",3,0)(5,"div",4),e.nrm(6,"azt-show-link",5),e.k0s()()),2&r){const f=e.sdS(4);e.FS9("matTooltip",e.bMT(1,6,"lang_auto_quet_hoac_tai_ma_qr_code")),e.Y8G("matMenuTriggerFor",f),e.R7$(5),e.Y8G("ngClass",e.eq3(8,A,h.showLink)),e.R7$(),e.Y8G("linkUrl",h.linkUrl)("fileName",h.fileName)("showLink",h.showLink)}},dependencies:[D,t.MD,t.YU,n.X1,o.iI,n.YN,m.wp,M.s,U.kk,U.Cp,E.oV,T.flO,T.WGl,x.L,I.Id,w.k],encapsulation:2}),g})()},96600:P=>{"use strict";var l={single_source_shortest_paths:function(a,s,t){var n={},o={};o[s]=0;var e,c,u,C,L,T,i=l.PriorityQueue.make();for(i.push(s,0);!i.empty();)for(u in C=(e=i.pop()).cost,L=a[c=e.value]||{})L.hasOwnProperty(u)&&(T=C+L[u],(typeof o[u]>"u"||o[u]>T)&&(o[u]=T,i.push(u,T),n[u]=c));if(typeof t<"u"&&typeof o[t]>"u"){var m=["Could not find a path from ",s," to ",t,"."].join("");throw new Error(m)}return n},extract_shortest_path_from_predecessor_list:function(a,s){for(var t=[],n=s;n;)t.push(n),n=a[n];return t.reverse(),t},find_path:function(a,s,t){var n=l.single_source_shortest_paths(a,s,t);return l.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(a){var n,s=l.PriorityQueue,t={};for(n in a=a||{},s)s.hasOwnProperty(n)&&(t[n]=s[n]);return t.queue=[],t.sorter=a.sorter||s.default_sorter,t},default_sorter:function(a,s){return a.cost-s.cost},push:function(a,s){this.queue.push({value:a,cost:s}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};P.exports=l},4657:P=>{"use strict";P.exports=function(a){for(var s=[],t=a.length,n=0;n<t;n++){var o=a.charCodeAt(n);if(o>=55296&&o<=56319&&t>n+1){var i=a.charCodeAt(n+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,n+=1)}o<128?s.push(o):o<2048?(s.push(o>>6|192),s.push(63&o|128)):o<55296||o>=57344&&o<65536?(s.push(o>>12|224),s.push(o>>6&63|128),s.push(63&o|128)):o>=65536&&o<=1114111?(s.push(o>>18|240),s.push(o>>12&63|128),s.push(o>>6&63|128),s.push(63&o|128)):s.push(239,191,189)}return new Uint8Array(s).buffer}},21063:(P,l,a)=>{const t=a(36109),n=a(24277),o=a(78691),i=a(9772);function e(c,u,C,L,k){const T=[].slice.call(arguments,1),I=T.length,M="function"==typeof T[I-1];if(!M&&!t())throw new Error("Callback required as last argument");if(!M){if(I<1)throw new Error("Too few arguments provided");return 1===I?(C=u,u=L=void 0):2===I&&!u.getContext&&(L=C,C=u,u=void 0),new Promise(function(m,x){try{const w=n.create(C,L);m(c(w,u,L))}catch(w){x(w)}})}if(I<2)throw new Error("Too few arguments provided");2===I?(k=C,C=u,u=L=void 0):3===I&&(u.getContext&&typeof k>"u"?(k=L,L=void 0):(k=L,L=C,C=u,u=void 0));try{const m=n.create(C,L);k(null,c(m,u,L))}catch(m){k(m)}}l.mo=e.bind(null,o.render),l.dY=e.bind(null,o.renderToDataURL),l.toString=e.bind(null,function(c,u,C){return i.render(c,C)})},36109:P=>{P.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},81101:(P,l,a)=>{const s=a(52670).getSymbolSize;l.getRowColCoords=function(n){if(1===n)return[];const o=Math.floor(n/7)+2,i=s(n),e=145===i?26:2*Math.ceil((i-13)/(2*o-2)),c=[i-7];for(let u=1;u<o-1;u++)c[u]=c[u-1]-e;return c.push(6),c.reverse()},l.getPositions=function(n){const o=[],i=l.getRowColCoords(n),e=i.length;for(let c=0;c<e;c++)for(let u=0;u<e;u++)0===c&&0===u||0===c&&u===e-1||c===e-1&&0===u||o.push([i[c],i[u]]);return o}},40593:(P,l,a)=>{const s=a(41144),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(o){this.mode=s.ALPHANUMERIC,this.data=o}n.getBitsLength=function(i){return 11*Math.floor(i/2)+i%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let e;for(e=0;e+2<=this.data.length;e+=2){let c=45*t.indexOf(this.data[e]);c+=t.indexOf(this.data[e+1]),i.put(c,11)}this.data.length%2&&i.put(t.indexOf(this.data[e]),6)},P.exports=n},51168:P=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(a){const s=Math.floor(a/8);return 1==(this.buffer[s]>>>7-a%8&1)},put:function(a,s){for(let t=0;t<s;t++)this.putBit(1==(a>>>s-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),a&&(this.buffer[s]|=128>>>this.length%8),this.length++}},P.exports=l},5820:P=>{function l(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}l.prototype.set=function(a,s,t,n){const o=a*this.size+s;this.data[o]=t,n&&(this.reservedBit[o]=!0)},l.prototype.get=function(a,s){return this.data[a*this.size+s]},l.prototype.xor=function(a,s,t){this.data[a*this.size+s]^=t},l.prototype.isReserved=function(a,s){return this.reservedBit[a*this.size+s]},P.exports=l},76710:(P,l,a)=>{const s=a(4657),t=a(41144);function n(o){this.mode=t.BYTE,"string"==typeof o&&(o=s(o)),this.data=new Uint8Array(o)}n.getBitsLength=function(i){return 8*i},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){for(let i=0,e=this.data.length;i<e;i++)o.put(this.data[i],8)},P.exports=n},68566:(P,l,a)=>{const s=a(83721),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(i,e){switch(e){case s.L:return t[4*(i-1)+0];case s.M:return t[4*(i-1)+1];case s.Q:return t[4*(i-1)+2];case s.H:return t[4*(i-1)+3];default:return}},l.getTotalCodewordsCount=function(i,e){switch(e){case s.L:return n[4*(i-1)+0];case s.M:return n[4*(i-1)+1];case s.Q:return n[4*(i-1)+2];case s.H:return n[4*(i-1)+3];default:return}}},83721:(P,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2},l.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},l.from=function(t,n){if(l.isValid(t))return t;try{return function a(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+s)}}(t)}catch{return n}}},1604:(P,l,a)=>{const s=a(52670).getSymbolSize;l.getPositions=function(o){const i=s(o);return[[0,0],[i-7,0],[0,i-7]]}},39933:(P,l,a)=>{const s=a(52670),o=s.getBCHDigit(1335);l.getEncodedBits=function(e,c){const u=e.bit<<3|c;let C=u<<10;for(;s.getBCHDigit(C)-o>=0;)C^=1335<<s.getBCHDigit(C)-o;return 21522^(u<<10|C)}},15779:(P,l)=>{const a=new Uint8Array(512),s=new Uint8Array(256);(function(){let n=1;for(let o=0;o<255;o++)a[o]=n,s[n]=o,n<<=1,256&n&&(n^=285);for(let o=255;o<512;o++)a[o]=a[o-255]})(),l.log=function(n){if(n<1)throw new Error("log("+n+")");return s[n]},l.exp=function(n){return a[n]},l.mul=function(n,o){return 0===n||0===o?0:a[s[n]+s[o]]}},18629:(P,l,a)=>{const s=a(41144),t=a(52670);function n(o){this.mode=s.KANJI,this.data=o}n.getBitsLength=function(i){return 13*i},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let i;for(i=0;i<this.data.length;i++){let e=t.toSJIS(this.data[i]);if(e>=33088&&e<=40956)e-=33088;else{if(!(e>=57408&&e<=60351))throw new Error("Invalid SJIS character: "+this.data[i]+"\nMake sure your charset is UTF-8");e-=49472}e=192*(e>>>8&255)+(255&e),o.put(e,13)}},P.exports=n},30092:(P,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function s(t,n,o){switch(t){case l.Patterns.PATTERN000:return(n+o)%2==0;case l.Patterns.PATTERN001:return n%2==0;case l.Patterns.PATTERN010:return o%3==0;case l.Patterns.PATTERN011:return(n+o)%3==0;case l.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(o/3))%2==0;case l.Patterns.PATTERN101:return n*o%2+n*o%3==0;case l.Patterns.PATTERN110:return(n*o%2+n*o%3)%2==0;case l.Patterns.PATTERN111:return(n*o%3+(n+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}l.isValid=function(n){return null!=n&&""!==n&&!isNaN(n)&&n>=0&&n<=7},l.from=function(n){return l.isValid(n)?parseInt(n,10):void 0},l.getPenaltyN1=function(n){const o=n.size;let i=0,e=0,c=0,u=null,C=null;for(let L=0;L<o;L++){e=c=0,u=C=null;for(let k=0;k<o;k++){let T=n.get(L,k);T===u?e++:(e>=5&&(i+=e-5+3),u=T,e=1),T=n.get(k,L),T===C?c++:(c>=5&&(i+=c-5+3),C=T,c=1)}e>=5&&(i+=e-5+3),c>=5&&(i+=c-5+3)}return i},l.getPenaltyN2=function(n){const o=n.size;let i=0;for(let e=0;e<o-1;e++)for(let c=0;c<o-1;c++){const u=n.get(e,c)+n.get(e,c+1)+n.get(e+1,c)+n.get(e+1,c+1);(4===u||0===u)&&i++}return 3*i},l.getPenaltyN3=function(n){const o=n.size;let i=0,e=0,c=0;for(let u=0;u<o;u++){e=c=0;for(let C=0;C<o;C++)e=e<<1&2047|n.get(u,C),C>=10&&(1488===e||93===e)&&i++,c=c<<1&2047|n.get(C,u),C>=10&&(1488===c||93===c)&&i++}return 40*i},l.getPenaltyN4=function(n){let o=0;const i=n.data.length;for(let c=0;c<i;c++)o+=n.data[c];return 10*Math.abs(Math.ceil(100*o/i/5)-10)},l.applyMask=function(n,o){const i=o.size;for(let e=0;e<i;e++)for(let c=0;c<i;c++)o.isReserved(c,e)||o.xor(c,e,s(n,c,e))},l.getBestMask=function(n,o){const i=Object.keys(l.Patterns).length;let e=0,c=1/0;for(let u=0;u<i;u++){o(u),l.applyMask(u,n);const C=l.getPenaltyN1(n)+l.getPenaltyN2(n)+l.getPenaltyN3(n)+l.getPenaltyN4(n);l.applyMask(u,n),C<c&&(c=C,e=u)}return e}},41144:(P,l,a)=>{const s=a(16062),t=a(43772);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(i,e){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!s.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?i.ccBits[0]:e<27?i.ccBits[1]:i.ccBits[2]},l.getBestModeForData=function(i){return t.testNumeric(i)?l.NUMERIC:t.testAlphanumeric(i)?l.ALPHANUMERIC:t.testKanji(i)?l.KANJI:l.BYTE},l.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},l.isValid=function(i){return i&&i.bit&&i.ccBits},l.from=function(i,e){if(l.isValid(i))return i;try{return function n(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+o)}}(i)}catch{return e}}},18141:(P,l,a)=>{const s=a(41144);function t(n){this.mode=s.NUMERIC,this.data=n.toString()}t.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){let i,e,c;for(i=0;i+3<=this.data.length;i+=3)e=this.data.substr(i,3),c=parseInt(e,10),o.put(c,10);const u=this.data.length-i;u>0&&(e=this.data.substr(i),c=parseInt(e,10),o.put(c,3*u+1))},P.exports=t},37761:(P,l,a)=>{const s=a(15779);l.mul=function(n,o){const i=new Uint8Array(n.length+o.length-1);for(let e=0;e<n.length;e++)for(let c=0;c<o.length;c++)i[e+c]^=s.mul(n[e],o[c]);return i},l.mod=function(n,o){let i=new Uint8Array(n);for(;i.length-o.length>=0;){const e=i[0];for(let u=0;u<o.length;u++)i[u]^=s.mul(o[u],e);let c=0;for(;c<i.length&&0===i[c];)c++;i=i.slice(c)}return i},l.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let i=0;i<n;i++)o=l.mul(o,new Uint8Array([1,s.exp(i)]));return o}},24277:(P,l,a)=>{const s=a(52670),t=a(83721),n=a(51168),o=a(5820),i=a(81101),e=a(1604),c=a(30092),u=a(68566),C=a(13412),L=a(65595),k=a(39933),T=a(41144),I=a(87073);function v(E,A,b){const d=E.size,g=k.getEncodedBits(A,b);let y,r;for(y=0;y<15;y++)r=1==(g>>y&1),E.set(y<6?y:y<8?y+1:d-15+y,8,r,!0),E.set(8,y<8?d-y-1:y<9?15-y-1+1:15-y-1,r,!0);E.set(d-8,8,1,!0)}function U(E,A,b,d){let g;if(Array.isArray(E))g=I.fromArray(E);else{if("string"!=typeof E)throw new Error("Invalid data");{let B=A;if(!B){const R=I.rawSplit(E);B=L.getBestVersionForData(R,b)}g=I.fromString(E,B||40)}}const y=L.getBestVersionForData(g,b);if(!y)throw new Error("The amount of data is too big to be stored in a QR Code");if(A){if(A<y)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else A=y;const r=function _(E,A,b){const d=new n;b.forEach(function(f){d.put(f.mode.bit,4),d.put(f.getLength(),T.getCharCountIndicator(f.mode,E)),f.write(d)});const r=8*(s.getSymbolTotalCodewords(E)-u.getTotalCodewordsCount(E,A));for(d.getLengthInBits()+4<=r&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(0);const h=(r-d.getLengthInBits())/8;for(let f=0;f<h;f++)d.put(f%2?17:236,8);return function D(E,A,b){const d=s.getSymbolTotalCodewords(A),y=d-u.getTotalCodewordsCount(A,b),r=u.getBlocksCount(A,b),f=r-d%r,B=Math.floor(d/r),R=Math.floor(y/r),F=R+1,$=B-R,G=new C($);let ne=0;const j=new Array(r),W=new Array(r);let J=0;const oe=new Uint8Array(E.buffer);for(let H=0;H<r;H++){const ae=H<f?R:F;j[H]=oe.slice(ne,ne+ae),W[H]=G.encode(j[H]),ne+=ae,J=Math.max(J,ae)}const re=new Uint8Array(d);let Q,V,K=0;for(Q=0;Q<J;Q++)for(V=0;V<r;V++)Q<j[V].length&&(re[K++]=j[V][Q]);for(Q=0;Q<$;Q++)for(V=0;V<r;V++)re[K++]=W[V][Q];return re}(d,E,A)}(A,b,g),h=s.getSymbolSize(A),f=new o(h);return function M(E,A){const b=E.size,d=e.getPositions(A);for(let g=0;g<d.length;g++){const y=d[g][0],r=d[g][1];for(let h=-1;h<=7;h++)if(!(y+h<=-1||b<=y+h))for(let f=-1;f<=7;f++)r+f<=-1||b<=r+f||E.set(y+h,r+f,h>=0&&h<=6&&(0===f||6===f)||f>=0&&f<=6&&(0===h||6===h)||h>=2&&h<=4&&f>=2&&f<=4,!0)}}(f,A),function m(E){const A=E.size;for(let b=8;b<A-8;b++){const d=b%2==0;E.set(b,6,d,!0),E.set(6,b,d,!0)}}(f),function x(E,A){const b=i.getPositions(A);for(let d=0;d<b.length;d++){const g=b[d][0],y=b[d][1];for(let r=-2;r<=2;r++)for(let h=-2;h<=2;h++)E.set(g+r,y+h,-2===r||2===r||-2===h||2===h||0===r&&0===h,!0)}}(f,A),v(f,b,0),A>=7&&function w(E,A){const b=E.size,d=L.getEncodedBits(A);let g,y,r;for(let h=0;h<18;h++)g=Math.floor(h/3),y=h%3+b-8-3,r=1==(d>>h&1),E.set(g,y,r,!0),E.set(y,g,r,!0)}(f,A),function p(E,A){const b=E.size;let d=-1,g=b-1,y=7,r=0;for(let h=b-1;h>0;h-=2)for(6===h&&h--;;){for(let f=0;f<2;f++)if(!E.isReserved(g,h-f)){let B=!1;r<A.length&&(B=1==(A[r]>>>y&1)),E.set(g,h-f,B),y--,-1===y&&(r++,y=7)}if(g+=d,g<0||b<=g){g-=d,d=-d;break}}}(f,r),isNaN(d)&&(d=c.getBestMask(f,v.bind(null,f,b))),c.applyMask(d,f),v(f,b,d),{modules:f,version:A,errorCorrectionLevel:b,maskPattern:d,segments:g}}l.create=function(A,b){if(typeof A>"u"||""===A)throw new Error("No input text");let g,y,d=t.M;return typeof b<"u"&&(d=t.from(b.errorCorrectionLevel,t.M),g=L.from(b.version),y=c.from(b.maskPattern),b.toSJISFunc&&s.setToSJISFunction(b.toSJISFunc)),U(A,g,d,y)}},13412:(P,l,a)=>{const s=a(37761);function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(o){this.degree=o,this.genPoly=s.generateECPolynomial(this.degree)},t.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(o.length+this.degree);i.set(o);const e=s.mod(i,this.genPoly),c=this.degree-e.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(e,c),u}return e},P.exports=t},43772:(P,l)=>{const a="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";l.KANJI=new RegExp(t,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(n,"g"),l.NUMERIC=new RegExp(a,"g"),l.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+t+"$"),i=new RegExp("^"+a+"$"),e=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(u){return o.test(u)},l.testNumeric=function(u){return i.test(u)},l.testAlphanumeric=function(u){return e.test(u)}},87073:(P,l,a)=>{const s=a(41144),t=a(18141),n=a(40593),o=a(76710),i=a(18629),e=a(43772),c=a(52670),u=a(96600);function C(w){return unescape(encodeURIComponent(w)).length}function L(w,v,p){const _=[];let D;for(;null!==(D=w.exec(p));)_.push({data:D[0],index:D.index,mode:v,length:D[0].length});return _}function k(w){const v=L(e.NUMERIC,s.NUMERIC,w),p=L(e.ALPHANUMERIC,s.ALPHANUMERIC,w);let _,D;return c.isKanjiModeEnabled()?(_=L(e.BYTE,s.BYTE,w),D=L(e.KANJI,s.KANJI,w)):(_=L(e.BYTE_KANJI,s.BYTE,w),D=[]),v.concat(p,_,D).sort(function(E,A){return E.index-A.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function T(w,v){switch(v){case s.NUMERIC:return t.getBitsLength(w);case s.ALPHANUMERIC:return n.getBitsLength(w);case s.KANJI:return i.getBitsLength(w);case s.BYTE:return o.getBitsLength(w)}}function x(w,v){let p;const _=s.getBestModeForData(w);if(p=s.from(v,_),p!==s.BYTE&&p.bit<_.bit)throw new Error('"'+w+'" cannot be encoded with mode '+s.toString(p)+".\n Suggested mode is: "+s.toString(_));switch(p===s.KANJI&&!c.isKanjiModeEnabled()&&(p=s.BYTE),p){case s.NUMERIC:return new t(w);case s.ALPHANUMERIC:return new n(w);case s.KANJI:return new i(w);case s.BYTE:return new o(w)}}l.fromArray=function(v){return v.reduce(function(p,_){return"string"==typeof _?p.push(x(_,null)):_.data&&p.push(x(_.data,_.mode)),p},[])},l.fromString=function(v,p){const D=function M(w){const v=[];for(let p=0;p<w.length;p++){const _=w[p];switch(_.mode){case s.NUMERIC:v.push([_,{data:_.data,mode:s.ALPHANUMERIC,length:_.length},{data:_.data,mode:s.BYTE,length:_.length}]);break;case s.ALPHANUMERIC:v.push([_,{data:_.data,mode:s.BYTE,length:_.length}]);break;case s.KANJI:v.push([_,{data:_.data,mode:s.BYTE,length:C(_.data)}]);break;case s.BYTE:v.push([{data:_.data,mode:s.BYTE,length:C(_.data)}])}}return v}(k(v,c.isKanjiModeEnabled())),U=function m(w,v){const p={},_={start:{}};let D=["start"];for(let U=0;U<w.length;U++){const E=w[U],A=[];for(let b=0;b<E.length;b++){const d=E[b],g=""+U+b;A.push(g),p[g]={node:d,lastCount:0},_[g]={};for(let y=0;y<D.length;y++){const r=D[y];p[r]&&p[r].node.mode===d.mode?(_[r][g]=T(p[r].lastCount+d.length,d.mode)-T(p[r].lastCount,d.mode),p[r].lastCount+=d.length):(p[r]&&(p[r].lastCount=d.length),_[r][g]=T(d.length,d.mode)+4+s.getCharCountIndicator(d.mode,v))}}D=A}for(let U=0;U<D.length;U++)_[D[U]].end=0;return{map:_,table:p}}(D,p),E=u.find_path(U.map,"start","end"),A=[];for(let b=1;b<E.length-1;b++)A.push(U.table[E[b]].node);return l.fromArray(function I(w){return w.reduce(function(v,p){const _=v.length-1>=0?v[v.length-1]:null;return _&&_.mode===p.mode?(v[v.length-1].data+=p.data,v):(v.push(p),v)},[])}(A))},l.rawSplit=function(v){return l.fromArray(k(v,c.isKanjiModeEnabled()))}},52670:(P,l)=>{let a;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return 4*n+17},l.getSymbolTotalCodewords=function(n){return s[n]},l.getBCHDigit=function(t){let n=0;for(;0!==t;)n++,t>>>=1;return n},l.setToSJISFunction=function(n){if("function"!=typeof n)throw new Error('"toSJISFunc" is not a valid function.');a=n},l.isKanjiModeEnabled=function(){return typeof a<"u"},l.toSJIS=function(n){return a(n)}},16062:(P,l)=>{l.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}},65595:(P,l,a)=>{const s=a(52670),t=a(68566),n=a(83721),o=a(41144),i=a(16062),c=s.getBCHDigit(7973);function C(T,I){return o.getCharCountIndicator(T,I)+4}function L(T,I){let M=0;return T.forEach(function(m){const x=C(m.mode,I);M+=x+m.getBitsLength()}),M}l.from=function(I,M){return i.isValid(I)?parseInt(I,10):M},l.getCapacity=function(I,M,m){if(!i.isValid(I))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=o.BYTE);const v=8*(s.getSymbolTotalCodewords(I)-t.getTotalCodewordsCount(I,M));if(m===o.MIXED)return v;const p=v-C(m,I);switch(m){case o.NUMERIC:return Math.floor(p/10*3);case o.ALPHANUMERIC:return Math.floor(p/11*2);case o.KANJI:return Math.floor(p/13);default:return Math.floor(p/8)}},l.getBestVersionForData=function(I,M){let m;const x=n.from(M,n.M);if(Array.isArray(I)){if(I.length>1)return function k(T,I){for(let M=1;M<=40;M++)if(L(T,M)<=l.getCapacity(M,I,o.MIXED))return M}(I,x);if(0===I.length)return 1;m=I[0]}else m=I;return function u(T,I,M){for(let m=1;m<=40;m++)if(I<=l.getCapacity(m,M,T))return m}(m.mode,m.getLength(),x)},l.getEncodedBits=function(I){if(!i.isValid(I)||I<7)throw new Error("Invalid QR Code version");let M=I<<12;for(;s.getBCHDigit(M)-c>=0;)M^=7973<<s.getBCHDigit(M)-c;return I<<12|M}},78691:(P,l,a)=>{const s=a(97534);l.render=function(i,e,c){let u=c,C=e;typeof u>"u"&&(!e||!e.getContext)&&(u=e,e=void 0),e||(C=function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),u=s.getOptions(u);const L=s.getImageWidth(i.modules.size,u),k=C.getContext("2d"),T=k.createImageData(L,L);return s.qrToImageData(T.data,i,u),function t(o,i,e){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=e,i.width=e,i.style.height=e+"px",i.style.width=e+"px"}(k,C,L),k.putImageData(T,0,0),C},l.renderToDataURL=function(i,e,c){let u=c;return typeof u>"u"&&(!e||!e.getContext)&&(u=e,e=void 0),u||(u={}),l.render(i,e,u).toDataURL(u.type||"image/png",(u.rendererOpts||{}).quality)}},9772:(P,l,a)=>{const s=a(97534);function t(i,e){const c=i.a/255,u=e+'="'+i.hex+'"';return c<1?u+" "+e+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function n(i,e,c){let u=i+e;return typeof c<"u"&&(u+=" "+c),u}l.render=function(e,c,u){const C=s.getOptions(c),L=e.modules.size,k=e.modules.data,T=L+2*C.margin,I=C.color.light.a?"<path "+t(C.color.light,"fill")+' d="M0 0h'+T+"v"+T+'H0z"/>':"",M="<path "+t(C.color.dark,"stroke")+' d="'+function o(i,e,c){let u="",C=0,L=!1,k=0;for(let T=0;T<i.length;T++){const I=Math.floor(T%e),M=Math.floor(T/e);!I&&!L&&(L=!0),i[T]?(k++,T>0&&I>0&&i[T-1]||(u+=L?n("M",I+c,.5+M+c):n("m",C,0),C=0,L=!1),I+1<e&&i[T+1]||(u+=n("h",k),k=0)):C++}return u}(k,L,C.margin)+'"/>',w='<svg xmlns="http://www.w3.org/2000/svg" '+(C.width?'width="'+C.width+'" height="'+C.width+'" ':"")+'viewBox="0 0 '+T+" "+T+'" shape-rendering="crispEdges">'+I+M+"</svg>\n";return"function"==typeof u&&u(null,w),w}},97534:(P,l)=>{function a(s){if("number"==typeof s&&(s=s.toString()),"string"!=typeof s)throw new Error("Color should be defined as hex string");let t=s.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+s);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(o){return[o,o]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}l.getOptions=function(t){t||(t={}),t.color||(t.color={});const o=t.width&&t.width>=21?t.width:void 0;return{width:o,scale:o?4:t.scale||4,margin:typeof t.margin>"u"||null===t.margin||t.margin<0?4:t.margin,color:{dark:a(t.color.dark||"#000000ff"),light:a(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},l.getScale=function(t,n){return n.width&&n.width>=t+2*n.margin?n.width/(t+2*n.margin):n.scale},l.getImageWidth=function(t,n){const o=l.getScale(t,n);return Math.floor((t+2*n.margin)*o)},l.qrToImageData=function(t,n,o){const i=n.modules.size,e=n.modules.data,c=l.getScale(i,o),u=Math.floor((i+2*o.margin)*c),C=o.margin*c,L=[o.color.light,o.color.dark];for(let k=0;k<u;k++)for(let T=0;T<u;T++){let I=4*(k*u+T),M=o.color.light;k>=C&&T>=C&&k<u-C&&T<u-C&&(M=L[e[Math.floor((k-C)/c)*i+Math.floor((T-C)/c)]?1:0]),t[I++]=M.r,t[I++]=M.g,t[I++]=M.b,t[I]=M.a}}}}]);