"use strict";(self.webpackChunkTeacherMod=self.webpackChunkTeacherMod||[]).push([[449],{74871:(at,N,n)=>{n.d(N,{$:()=>J});var e=n(81519),t=n(54460),a=n(10936),C=n(34514),U=n(47426),R=n(89163),z=n(65162),k=n(15343),G=n(5502),X=n(44155),et=n(47564),H=n(39394),Z=n(40116),d=n(44327),w=n(96639),Q=n(55887),Y=n(13362),L=n(75498),s=n(48891),j=n(46289),S=n(64160);const F=()=>({"mr-2":!0});function B(T,o){1&T&&(s.j41(0,"h3",4),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&T&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_core_dat_lai_mat_khau")," "))}function K(T,o){1&T&&s.nrm(0,"azt-loading-ui",11)}function nt(T,o){if(1&T){const _=s.RV6();s.j41(0,"div")(1,"div",5),s.EFF(2),s.nI1(3,"mytranslate"),s.j41(4,"span",6),s.EFF(5),s.k0s()(),s.j41(6,"div",5),s.EFF(7),s.nI1(8,"mytranslate"),s.k0s(),s.j41(9,"div",7)(10,"button",8),s.bIt("click",function(){s.eBV(_);const b=s.XpG();return s.Njj(b.dialogRef.close())}),s.EFF(11),s.nI1(12,"mytranslate"),s.k0s(),s.j41(13,"button",9),s.bIt("click",function(){s.eBV(_);const b=s.XpG();return s.Njj(b.confirmResetPass())}),s.DNE(14,K,1,0,"azt-loading-ui",10),s.EFF(15),s.nI1(16,"mytranslate"),s.k0s()()()}if(2&T){const _=s.XpG();s.R7$(2),s.SpI(" ",s.bMT(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),s.R7$(3),s.JRh(_.data.name),s.R7$(2),s.SpI(" ",s.bMT(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),s.R7$(4),s.JRh(s.bMT(12,11,"lang_cms_common_close_btn")),s.R7$(2),s.Y8G("disabled",_.statusObj.loading),s.R7$(),s.Y8G("ngIf",_.statusObj.loading),s.R7$(),s.SpI(" ",s.bMT(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}function f(T,o){if(1&T){const _=s.RV6();s.j41(0,"div")(1,"div",12),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.j41(4,"div",13),s.EFF(5),s.nI1(6,"mytranslate"),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.j41(9,"div",7),s.nrm(10,"input",14),s.j41(11,"button",15),s.bIt("click",function(){s.eBV(_);const b=s.XpG();return s.Njj(b.showCopySuccess())}),s.nrm(12,"lucide-icon",16),s.EFF(13),s.nI1(14,"mytranslate"),s.k0s()(),s.j41(15,"button",17),s.bIt("click",function(){s.eBV(_);const b=s.XpG();return s.Njj(b.dialogRef.close())}),s.EFF(16),s.nI1(17,"mytranslate"),s.k0s()()}if(2&T){const _=s.XpG();s.R7$(2),s.SpI(" ",s.bMT(3,9,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),s.R7$(3),s.SpI(" ",s.bMT(6,11,"lang_core_dat_lai_mat_khau_note")," "),s.R7$(3),s.JRh(_.data.name),s.R7$(2),s.Y8G("disabled",!0)("value",_.passwordNew),s.R7$(),s.Y8G("cdkCopyToClipboard",_.copyPassword()),s.R7$(),s.Y8G("ngClass",s.lJ4(17,F)),s.R7$(),s.SpI(" ",s.bMT(14,13,"lang_auto_copy")," "),s.R7$(3),s.JRh(s.bMT(17,15,"lang_homework_export_homework_complete"))}}function x(T,o){if(1&T){const _=s.RV6();s.j41(0,"div")(1,"div",18),s.nrm(2,"lucide-icon",19),s.j41(3,"span",20),s.EFF(4),s.nI1(5,"mytranslate"),s.k0s()(),s.j41(6,"div",21)(7,"button",22),s.bIt("click",function(){s.eBV(_);const b=s.XpG();return s.Njj(b.dialogRef.close())}),s.EFF(8),s.nI1(9,"mytranslate"),s.k0s()()()}if(2&T){const _=s.XpG();s.R7$(4),s.SpI(" ",s.bMT(5,2,_.errorMessage)," "),s.R7$(4),s.JRh(s.bMT(9,4,"lang_button_close"))}}let J=(()=>{var T;class o extends Z._{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.errorMessage="",this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe(b=>{b.success||(this.errorMessage=b.message),this.passwordNew=b.data??"",this.isAccept=!0,this.successStatusObj()})}ngOnInit(){super.ngOnInit()}constructor(I,b,D){super(D,b),this.domainUsersManagementService=I,this.dialogRef=b,this.data=D,this.isAccept=!1,this.passwordNew="",this.errorMessage=""}ngOnDestroy(){super.ngOnDestroy()}}return(T=o).\u0275fac=function(I){return new(I||T)(s.rXU(j.Z),s.rXU(R.CP,8),s.rXU(R.Vh,8))},T.\u0275cmp=s.VBU({type:T,selectors:[["azt-reset-password"]],standalone:!0,features:[s.Jv_([{provide:e.$O,useClass:et.fb,deps:[U.Ju,C.ij]},{provide:e.vq,useFactory:H.fJ,deps:[Y.F]}]),s.Vt3,s.aNF],decls:6,vars:4,consts:[[1,"box","p-4"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"click","disabled"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"],[1,"flex","items-center"],["name","octagon-alert",1,"text-danger"],[1,"font-medium","ml-2"],[1,"text-right","mt-3"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","min-width-100",3,"click"]],template:function(I,b){1&I&&(s.j41(0,"div",0)(1,"div",1),s.DNE(2,B,3,3,"h3",2)(3,nt,17,15,"div",3)(4,f,18,18,"div",3)(5,x,10,6,"div",3),s.k0s()()),2&I&&(s.R7$(2),s.Y8G("ngIf",!b.isAccept),s.R7$(),s.Y8G("ngIf",!b.isAccept),s.R7$(),s.Y8G("ngIf",b.isAccept&&b.passwordNew),s.R7$(),s.Y8G("ngIf",b.isAccept&&!b.passwordNew))},dependencies:[L.R,t.MD,t.YU,t.bT,a.X1,z.iI,a.YN,w.wp,X.s,S.dF,k.flO,k.WGl,Q.L,G.Id,d.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),o})()},23750:(at,N,n)=>{n.d(N,{J:()=>E});var e=n(48891),t=n(88023),a=n(37439),C=n(10936),U=n(89163),R=n(51698),z=n(40116),k=n(56201),G=n(16023),X=n(51753),et=n(64516),H=n(40988),Z=n(51294),d=n(54460),w=n(65162),Q=n(96639),Y=n(44155),L=n(15343),s=n(55887),j=n(5502),S=n(44327),F=n(52824),B=n(27691);let K=(()=>{var i;class m{constructor(l){this.http=l,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(l){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${l}&key=${this.apiKey}&part=snippet`)}}return(i=m).\u0275fac=function(l){return new(l||i)(e.KVO(B.Qq))},i.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),m})();var nt=n(60303);const f=(i,m)=>[i,m],x=()=>({"text-success mr-2":!0});function J(i,m){if(1&i){const r=e.RV6();e.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),e.bIt("uploadComplete",function(p){e.eBV(r);const h=e.XpG();return e.Njj(h.handleUploadComplete(p))}),e.j41(3,"div",13)(4,"div",14)(5,"div",15),e.nrm(6,"lucide-icon",16),e.j41(7,"span",17),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",18),e.EFF(11),e.nI1(12,"mytranslate"),e.j41(13,"a",19),e.bIt("click",function(p){return e.eBV(r),e.Njj(p.stopPropagation())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()()()()}if(2&i){const r=e.XpG();e.R7$(2),e.Y8G("uploadToCdnMenu",r.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",e.l_i(12,f,r.allUploadFileTypes.SYNTHETIC,r.allUploadFileTypes.AZT)),e.R7$(4),e.Y8G("ngClass",e.lJ4(15,x)),e.R7$(2),e.SpI(" ",e.bMT(9,6,"lang_wsuper_admin_upload_file_choose_file_upload")," "),e.R7$(3),e.SpI(" ",e.bMT(12,8,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),e.R7$(3),e.SpI(" ",e.bMT(15,10,"lang_auto_tim_hieu_them")," ")}}function T(i,m){1&i&&(e.j41(0,"div",28)(1,"div",29),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function o(i,m){if(1&i&&e.nrm(0,"azt-preview-file",33),2&i){const r=e.XpG(3);e.Y8G("fileUrl",r.docsLinkControl.value)("customHeight",r.boxContentHeight)("fileType",r.shareTypeDocument)}}function _(i,m){if(1&i&&(e.j41(0,"div",30)(1,"div",31),e.DNE(2,o,1,3,"azt-preview-file",32),e.k0s()()),2&i){const r=e.XpG(2);e.R7$(2),e.Y8G("ngIf",r.docsLinkControl.value)}}function I(i,m){if(1&i){const r=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),e.nI1(4,"mytranslate"),e.bIt("input",function(){e.eBV(r);const p=e.XpG();return e.Njj(p.getVideoNameFromUrl())}),e.k0s()(),e.j41(5,"div",24),e.nrm(6,"input",25),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,T,4,3,"div",26),e.k0s(),e.DNE(9,_,3,1,"div",27),e.k0s()}if(2&i){const r=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,6,"homework_view"==r.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),e.Y8G("formControl",r.docsLinkControl),e.R7$(3),e.FS9("placeholder",e.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),e.Y8G("formControl",r.fileNameControl),e.R7$(2),e.Y8G("ngIf",r.fileNameControl.invalid),e.R7$(),e.Y8G("ngIf",r.checkShowPreviewLink())}}let b=(()=>{var i;class m extends z._{onTabChanged(l){this.selectedIndex=l.index,this.shareTypeDocument=0==this.selectedIndex?a.d.exam:a.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(l){l.forEach(p=>{let h=this.sAztFileTypeService.getTypeFileByMime(p);h?this.dialogRef.close({name:p.name??"",refId:0,groupType:this.groupTypeFile,type:h,link:p.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,k.y1)(this.docsLinkControl.value)||(0,k.Kb)(this.docsLinkControl.value)||(0,k.VJ)(this.docsLinkControl.value)))}getNameVideo(l){return new R.c(p=>{this.youtubeService.getVideoDetails(l).subscribe(h=>{p.next(h.items&&h.items.length?h.items[0].snippet.title:"undefined"),p.complete()},h=>{p.next(void 0),p.complete()})})}getVideoNameFromUrl(){this.data.type==G.k.homework_view&&(0,k.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=a.d.video,this.getNameVideo((0,k.b3)(this.docsLinkControl.value)??"").subscribe(l=>{l&&this.fileNameControl.setValue(l)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,k.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,k.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let l={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,k.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(l)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(a.d,this.data.type,a.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(G.k,this.data.type,G.k.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(l,p,h,tt){super(tt,h),this.sAztFileTypeService=l,this.youtubeService=p,this.dialogRef=h,this.data=tt,this.docsLinkControl=new C.MJ("",{nonNullable:!0,validators:[C.k0.required]}),this.fileNameControl=new C.MJ("",{nonNullable:!0,validators:[C.k0.required]}),this.shareTypeDocument=a.d.exam,this.groupTypeFile=G.k.document,this.allDocumentGroupTypes=G.k,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=X.b8,this.allUploadFileTypes=X.PO}}return(i=m).\u0275fac=function(l){return new(l||i)(e.rXU(F.k),e.rXU(K),e.rXU(U.CP,8),e.rXU(U.Vh,8))},i.\u0275cmp=e.VBU({type:i,selectors:[["add-document-session-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(l,p){1&l&&(e.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),e.bIt("selectedTabChange",function(tt){return p.onTabChanged(tt)}),e.nrm(5,"mat-tab",3),e.nI1(6,"mytranslate"),e.nrm(7,"mat-tab",3),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",4),e.DNE(10,J,16,16,"div",5)(11,I,10,10,"div",6),e.k0s()()()(),e.j41(12,"div",7)(13,"button",8),e.bIt("click",function(){return p.btnCloseDialog()}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",9),e.bIt("click",function(){return p.confirmUpload()}),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()()),2&l&&(e.R7$(4),e.Y8G("selectedIndex",p.selectedIndex),e.R7$(),e.FS9("label",e.bMT(6,8,"lang_auto_upload_file")),e.R7$(2),e.FS9("label",e.bMT(8,10,"lang_config_educational_program_use_link")),e.R7$(3),e.Y8G("ngIf",0==p.selectedIndex),e.R7$(),e.Y8G("ngIf",1==p.selectedIndex),e.R7$(3),e.SpI(" ",e.bMT(15,12,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",p.fileNameControl.invalid),e.R7$(),e.SpI(" ",e.bMT(18,14,"lang_auto_luu")," "))},dependencies:[et.U,H.V,Z.N,d.MD,d.YU,d.bT,C.X1,C.me,C.BC,C.l_,w.iI,C.YN,Q.wp,Y.s,nt.mq,nt.T8,L.flO,L.WGl,s.L,j.Id,S.k],encapsulation:2}),m})();var D=n(75498),O=n(5247);function W(i,m){1&i&&(e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function ot(i,m){if(1&i&&e.nrm(0,"azt-preview-file",18),2&i){const r=e.XpG(2);e.Y8G("fileUrl",r.embedLinkControl.value)("fileType",r.shareTypeFile)}}function lt(i,m){1&i&&e.nrm(0,"azt-loading-ui",19)}function ct(i,m){if(1&i){const r=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"input",5),e.nI1(4,"mytranslate"),e.bIt("input",function(){e.eBV(r);const p=e.XpG();return e.Njj(p.getVideoNameFromUrl())}),e.k0s()(),e.j41(5,"div",6),e.nrm(6,"input",7),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,W,4,3,"div",8),e.k0s(),e.j41(9,"div",9)(10,"div",10),e.DNE(11,ot,1,2,"azt-preview-file",11),e.k0s()(),e.j41(12,"div",12)(13,"button",13),e.bIt("click",function(){e.eBV(r);const p=e.XpG();return e.Njj(p.btnCloseDialog())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",14),e.bIt("click",function(){e.eBV(r);const p=e.XpG();return e.Njj(p.confirmUpload())}),e.DNE(17,lt,1,0,"azt-loading-ui",15),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()(),e.bVm()}if(2&i){const r=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),e.Y8G("formControl",r.embedLinkControl),e.R7$(3),e.FS9("placeholder",e.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),e.Y8G("formControl",r.fileNameControl),e.R7$(2),e.Y8G("ngIf",r.fileNameControl.invalid),e.R7$(3),e.Y8G("ngIf",r.embedLinkControl.value),e.R7$(3),e.SpI(" ",e.bMT(15,14,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",!r.isValidEmbedUrl()||r.fileNameControl.invalid||r.statusObj.loading),e.R7$(),e.Y8G("ngIf",r.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(19,16,"lang_auto_luu")," ")}}function rt(i,m){1&i&&(e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function it(i,m){if(1&i&&e.nrm(0,"azt-preview-file",23),2&i){const r=e.XpG(2);e.Y8G("fileUrl",r.docsLinkControl.value)("customHeight",r.boxContentHeight)("fileType",r.shareTypeFile)}}function mt(i,m){1&i&&e.nrm(0,"azt-loading-ui",19)}function dt(i,m){if(1&i){const r=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4),e.nrm(3,"input",7),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",6),e.nrm(6,"input",7),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,rt,4,3,"div",8),e.k0s(),e.j41(9,"div",9)(10,"div",20),e.DNE(11,it,1,3,"azt-preview-file",21),e.k0s()(),e.j41(12,"div",22)(13,"button",13),e.bIt("click",function(){e.eBV(r);const p=e.XpG();return e.Njj(p.btnCloseDialog())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",14),e.bIt("click",function(){e.eBV(r);const p=e.XpG();return e.Njj(p.confirmUpload())}),e.DNE(17,mt,1,0,"azt-loading-ui",15),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()(),e.bVm()}if(2&i){const r=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),e.Y8G("formControl",r.docsLinkControl),e.R7$(3),e.FS9("placeholder",e.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),e.Y8G("formControl",r.fileNameControl),e.R7$(2),e.Y8G("ngIf",r.fileNameControl.invalid),e.R7$(3),e.Y8G("ngIf",r.docsLinkControl.value),e.R7$(3),e.SpI(" ",e.bMT(15,14,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",!r.isValidDocsUrl()||r.fileNameControl.invalid||r.statusObj.loading),e.R7$(),e.Y8G("ngIf",r.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(19,16,"lang_auto_luu")," ")}}let g=(()=>{var i;class m extends z._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,k.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,k.si)(this.docsLinkControl.value)}getNameVideo(l){return new R.c(p=>{this.youtubeService.getVideoDetails(l).subscribe(h=>{p.next(h.items&&h.items.length?h.items[0].snippet.title:"undefined"),p.complete()},h=>{p.next(void 0),p.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,k.b3)(this.embedLinkControl.value)??"").subscribe(l=>{l&&this.fileNameControl.setValue(l)})}confirmUpload(){if(this.data.type==a.d.video&&this.embedLinkControl.valid&&(0,k.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let l={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:G.k.video,link:(0,k.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(l)}this.data.type==a.d.google_docs&&this.docsLinkControl.valid&&(0,k.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:G.k.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(a.d,this.data.type,a.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(l,p,h,tt,$){super($,tt),this.sAZTranslateService=l,this.http=p,this.youtubeService=h,this.dialogRef=tt,this.data=$,this.embedLinkControl=new C.MJ("",{nonNullable:!0,validators:[C.k0.required]}),this.docsLinkControl=new C.MJ("",{nonNullable:!0,validators:[C.k0.required]}),this.fileNameControl=new C.MJ("",{nonNullable:!0,validators:[C.k0.required]}),this.shareTypeFile=a.d.video,this.boxContentHeight=0}}return(i=m).\u0275fac=function(l){return new(l||i)(e.rXU(O.o),e.rXU(B.Qq),e.rXU(K),e.rXU(U.CP,8),e.rXU(U.Vh,8))},i.\u0275cmp=e.VBU({type:i,selectors:[["add-video-session"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(l,p){1&l&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,ct,20,18,"ng-container",2)(3,dt,20,18,"ng-container",2),e.k0s()()),2&l&&(e.R7$(2),e.Y8G("ngIf","video"==p.data.type),e.R7$(),e.Y8G("ngIf","google_docs"==p.data.type))},dependencies:[Z.N,D.R,d.MD,d.bT,C.X1,C.me,C.BC,C.l_,w.iI,C.YN,Q.wp,Y.s,L.flO,s.L,j.Id,S.k],encapsulation:2}),m})();var V=n(39660),y=n(17818);const q=[[["span"]]],A=["span"];function st(i,m){1&i&&e.nrm(0,"azt-loading-ui",11)}function u(i,m){1&i&&(e.j41(0,"span"),e.EFF(1," + "),e.k0s())}function P(i,m){if(1&i){const r=e.RV6();e.qex(0),e.j41(1,"button",8),e.bIt("click",function(p){return e.eBV(r),e.Njj(p.stopPropagation())}),e.DNE(2,st,1,0,"azt-loading-ui",9)(3,u,2,0,"span",10),e.SdG(4),e.k0s(),e.bVm()}if(2&i){const r=e.XpG(),l=e.sdS(4);e.R7$(),e.HbH("btn btn-transparent w-48 block "+r.customClass),e.Y8G("disabled",r.loadingUpload)("matMenuTriggerFor",l),e.R7$(),e.Y8G("ngIf",r.loadingUpload),e.R7$(),e.Y8G("ngIf",!r.loadingUpload)}}function v(i,m){1&i&&e.nrm(0,"azt-loading-ui",11)}function M(i,m){1&i&&(e.j41(0,"span"),e.EFF(1," + "),e.k0s())}function c(i,m){if(1&i){const r=e.RV6();e.j41(0,"span",12),e.bIt("click",function(p){return e.eBV(r),e.Njj(p.stopPropagation())}),e.DNE(1,v,1,0,"azt-loading-ui",9)(2,M,2,0,"span",10),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.nI1(6,"mytranslate"),e.k0s()()}if(2&i){const r=e.XpG(),l=e.sdS(4);e.Y8G("matMenuTriggerFor",l),e.R7$(),e.Y8G("ngIf",r.loadingUpload),e.R7$(),e.Y8G("ngIf",!r.loadingUpload),e.R7$(2),e.Lme("",e.bMT(5,5,"lang_button_add")," ",e.bMT(6,7,"lang_auto_tai_lieu"),"")}}let E=(()=>{var i;class m extends t.H{showAddLinkDialog(l){this.loadingUpload=!0,this.sAztDialogService.open(g,{width:l==a.d.video?"750px":"950px",data:{showUp:!0,type:l},restoreFocus:!1}).afterClosed().subscribe(h=>{h?(this.emitFileDocument.emit({name:h.name,refId:0,groupType:h.groupType,type:h.type,link:h.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(l){this.loadingUpload=!0,this.sAztDialogService.open(b,{width:"950px",data:{showUp:!0,type:l},restoreFocus:!1}).afterClosed().subscribe(h=>{h?(this.emitFileDocument.emit({name:h.name,refId:0,groupType:h.groupType,type:h.type,link:h.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(l){super(),this.sAztDialogService=l,this.isBtn=!0,this.customClass="",this.emitFileDocument=new e.bkB,this.loadingUpload=!1}}return(i=m).\u0275fac=function(l){return new(l||i)(e.rXU(V.i))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:A,decls:27,vars:14,consts:[["otherBtnTemplate",""],["addDocumentMenu","matMenu"],[4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"click","disabled","matMenuTriggerFor"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"click","matMenuTriggerFor"]],template:function(l,p){if(1&l){const h=e.RV6();e.NAR(q),e.DNE(0,P,5,6,"ng-container",2)(1,c,7,9,"ng-template",null,0,e.C5r),e.j41(3,"mat-menu",3,1)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),e.bIt("click",function(){return e.eBV(h),e.Njj(p.showAddLinkDialog("video"))}),e.j41(9,"span"),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()(),e.j41(12,"li")(13,"a",7),e.bIt("click",function(){return e.eBV(h),e.Njj(p.showAddDocumentDialog("document"))}),e.j41(14,"span"),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()(),e.j41(17,"li")(18,"a",7),e.bIt("click",function(){return e.eBV(h),e.Njj(p.showAddDocumentDialog("homework"))}),e.j41(19,"span"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()(),e.j41(22,"li")(23,"a",7),e.bIt("click",function(){return e.eBV(h),e.Njj(p.showAddDocumentDialog("homework_view"))}),e.j41(24,"span"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()()()()()()}if(2&l){const h=e.sdS(2);e.Y8G("ngIf",p.isBtn)("ngIfElse",h),e.R7$(10),e.SpI(" ",e.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),e.R7$(5),e.SpI(" ",e.bMT(16,8,"lang_config_educational_program_add_document")," "),e.R7$(5),e.SpI(" ",e.bMT(21,10,"lang_config_educational_program_add_homework")," "),e.R7$(5),e.SpI(" ",e.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[D.R,d.MD,d.bT,C.X1,w.iI,C.YN,Q.wp,Y.s,y.kk,y.Cp,L.flO,s.L,j.Id,S.k],encapsulation:2}),m})()},1960:(at,N,n)=>{n.d(N,{B:()=>M});var e=n(81519),t=n(54460),a=n(10936),C=n(34514),U=n(47426),R=n(89163),z=n(65162),k=n(15343),G=n(44233),X=n(44155),et=n(47564),H=n(39394),Z=n(40116),d=n(10273),w=n(96639),Q=n(55887),Y=n(13362);class L{static formGroupClassrooms(E){return void 0!==E.controls.find(r=>r.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}var s=n(14400),j=n(73957),S=n(64516),F=n(61686),B=n(59013),K=n(17695),nt=n(60902),f=n(5502),x=n(44327),J=n(19),T=n(75498),o=n(48891),_=n(49842),I=n(39660),b=n(17187),D=n(12992),O=n(95670),W=n(4375),ot=n(47712),lt=n(83426);const ct=c=>({"mt-1":c}),rt=(c,E)=>({hiddenVisible:c,visibleIpt:E}),it=()=>({"text-danger":!0}),mt=c=>({"ml-auto":c});function dt(c,E){if(1&c&&o.nrm(0,"azt-loading-effect",7),2&c){const i=o.XpG();o.Y8G("currentStatusObj",i.statusObj)}}function g(c,E){if(1&c&&(o.qex(0),o.nrm(1,"azt-checkbox-month",25),o.bVm()),2&c){const i=o.XpG(2);o.R7$(),o.Y8G("checkboxMonth",i.checkboxMonth)("histories",i.histories)}}function V(c,E){1&c&&(o.j41(0,"div",26),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&c&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function y(c,E){if(1&c&&(o.j41(0,"mat-option",39),o.EFF(1),o.k0s()),2&c){const i=E.$implicit,m=o.XpG(3);o.Y8G("value",i.id)("disabled",m.isSelectClassroom(i.id)),o.R7$(),o.SpI(" ",i.name," ")}}function q(c,E){if(1&c){const i=o.RV6();o.j41(0,"button",40),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(i);const r=o.XpG().$implicit,l=o.XpG(2);return o.Njj(l.removeClassroom(r))}),o.nrm(2,"lucide-icon",41),o.k0s()}2&c&&(o.FS9("matTooltip",o.bMT(1,2,"lang_student_classroom_list_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(4,it)))}function A(c,E){1&c&&(o.j41(0,"div",42),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&c&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function st(c,E){if(1&c&&(o.j41(0,"mat-checkbox",46),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&c){const i=o.XpG(2).$implicit;o.Y8G("checked",i.controls.isTryLearning.value),o.R7$(),o.SpI(" ",o.bMT(2,2,"lang_core_hoc_thu")," ")}}function u(c,E){if(1&c){const i=o.RV6();o.j41(0,"div",43),o.DNE(1,st,3,4,"mat-checkbox",44),o.j41(2,"button",45),o.nI1(3,"mytranslate"),o.bIt("click",function(){o.eBV(i);const r=o.XpG().$implicit,l=o.XpG(2);return o.Njj(l.removeClassroom(r))}),o.nrm(4,"lucide-icon",41),o.k0s()()}if(2&c){const i=o.XpG(3);o.R7$(),o.Y8G("ngIf",i.isTqbDomain),o.R7$(),o.FS9("matTooltip",o.bMT(3,4,"lang_student_classroom_list_delete")),o.Y8G("ngClass",o.eq3(6,mt,!i.isTqbDomain)),o.R7$(2),o.Y8G("ngClass",o.lJ4(8,it))}}function P(c,E){if(1&c&&(o.j41(0,"div",27)(1,"form",28)(2,"div",29)(3,"div",14)(4,"div",30)(5,"mat-form-field",31)(6,"mat-select",32,1)(8,"mat-option"),o.nrm(9,"ngx-mat-select-search",33),o.nI1(10,"mytranslate"),o.nI1(11,"mytranslate"),o.k0s(),o.j41(12,"mat-option",34),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s(),o.DNE(15,y,2,3,"mat-option",35),o.k0s()(),o.DNE(16,q,3,5,"button",36),o.k0s(),o.DNE(17,A,3,3,"div",37),o.k0s()(),o.DNE(18,u,5,9,"div",38),o.k0s()()),2&c){const i=E.$implicit,m=o.sdS(7),r=o.XpG(2);o.Y8G("ngClass",o.l_i(18,rt,r.loadingCreateClassroom,!r.loadingCreateClassroom)),o.R7$(),o.Y8G("formGroup",i),o.R7$(5),o.Y8G("formControl",i.controls.classroomId),o.R7$(3),o.FS9("placeholderLabel",o.bMT(10,12,"lang_search_by_name")),o.FS9("noEntriesFoundLabel",o.bMT(11,14,"lang_search_not_found")),o.Y8G("formControl",m.searchControl),o.R7$(3),o.Y8G("value",0),o.R7$(),o.SpI("---",o.bMT(14,16,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),o.R7$(2),o.Y8G("ngForOf",m.filter(r.classroomOwner,"name")),o.R7$(),o.Y8G("ngIf",r.isSelectedMonth()),o.R7$(),o.Y8G("ngIf",i.controls.classroomId.errors),o.R7$(),o.Y8G("ngIf",!r.isSelectedMonth())}}function v(c,E){if(1&c){const i=o.RV6();o.j41(0,"azt-mat-dialog-content")(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"azt-form-enter-info-student",12),o.bIt("closeDialog",function(){o.eBV(i);const r=o.XpG();return o.Njj(r.dialogRef.close())}),o.k0s()(),o.j41(8,"div",13)(9,"div",14),o.DNE(10,g,2,2,"ng-container",15),o.j41(11,"h3",16),o.EFF(12),o.nI1(13,"mytranslate"),o.j41(14,"button",17),o.bIt("click",function(){o.eBV(i);const r=o.XpG();return o.Njj(r.showCreateClassroom())}),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()(),o.DNE(17,V,3,3,"div",18),o.j41(18,"div",19),o.nrm(19,"azt-loading-ui",20),o.j41(20,"h3",21),o.EFF(21),o.nI1(22,"mytranslate"),o.k0s()(),o.DNE(23,P,19,21,"div",22),o.j41(24,"div",23)(25,"div",24),o.bIt("click",function(){o.eBV(i);const r=o.XpG();return o.Njj(r.addClassroom())}),o.EFF(26),o.nI1(27,"mytranslate"),o.k0s()()()()()()()}if(2&c){const i=o.XpG();o.R7$(5),o.SpI(" ",o.bMT(6,13,"lang_auto_thong_tin_chung")," "),o.R7$(2),o.Y8G("studentForm",i.studentForm)("hasUser",!!i.data&&i.data.hasUser),o.R7$(3),o.Y8G("ngIf",i.isTqbDomain),o.R7$(2),o.SpI(" ",o.bMT(13,15,"lang_auto_lop_hoc")," "),o.R7$(2),o.Y8G("ngClass",o.eq3(23,ct,i.isMobileDevice)),o.R7$(),o.SpI("+ ",o.bMT(16,17,"lang_student_classroom_list_create_class"),""),o.R7$(2),o.Y8G("ngIf",0==i.formClassrooms.controls.length),o.R7$(),o.Y8G("ngClass",o.l_i(25,rt,!i.loadingCreateClassroom,i.loadingCreateClassroom)),o.R7$(),o.Y8G("size",14),o.R7$(2),o.JRh(o.bMT(22,19,"lang_cms_common_loading")),o.R7$(2),o.Y8G("ngForOf",i.formClassrooms.controls),o.R7$(3),o.SpI("+ ",o.bMT(27,21,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let M=(()=>{var c;class E extends Z._{removeClassroom(m){let r=this.formClassrooms.controls.filter(l=>l!=m);this.formClassrooms=new a.Yp(r)}addClassroom(){let m=this.formClassrooms.controls;m.push(new a.gE({classroomId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1)]}),isTryLearning:new a.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new a.Yp(m,{validators:[L.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}showCreateClassroom(){this.sAztDialogService.open(J.F,{data:{classroomObj:void 0,multipleImport:this.isBusinessDomain},restoreFocus:!1,width:"550px",hasBackdrop:!0}).afterClosed().subscribe(r=>{if(this.loadingCreateClassroom=!0,!r?.success||!r.classroomId)return void(this.loadingCreateClassroom=!1);let l=r.classroomId;this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(p=>{if(p.success){if(this.classroomOwner=p.data?.objs??[],!r.multipleCreated){let h=this.formClassrooms.controls;h.push(new a.gE({classroomId:new a.MJ(l,{nonNullable:!0,validators:[a.k0.min(1)]}),isTryLearning:new a.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new a.Yp(h,{validators:[L.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}this.loadingCreateClassroom=!1}else this.errorStatusObj(p.message,!0)}))})}isSelectClassroom(m){return null!=this.formClassrooms.controls.find(r=>r.controls.classroomId.value==m)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(m=>1==m.selected)}saveData(){var m=this.studentForm.form.getRawValue(),r=[],l=[];this.checkboxMonth.checkboxMonth.filter(h=>1==h.selected).forEach(h=>{l.push({month:h.month,year:h.year})}),this.formClassrooms.controls.forEach(h=>{r.push({classroomId:h.controls.classroomId.value,trialLearning:!(l.length>0)&&h.controls.isTryLearning.value})}),this.isSaving=!0;var p={id:this.data?this.data.id:void 0,fullName:m.fullName,gender:m.gender,phone:m.phoneNumber,email:m.email,userName:m.userName,birthday:m.birthday?this.timeService.formatDateTimeToPostToServer(new Date(m.birthday).toDateString()):void 0,password:m.password,classrooms:r,attachPayments:l,schoolName:m.school,facebookLink:m.facebookLink,identificationNumber:m.identificationNumber?Number(m.identificationNumber):void 0};this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentPost(p)).subscribe(h=>{if(this.isSaving=!1,!h.success)return this.errorStatusObj(h.message,!0);this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)}))}getClassroomName(m){var r=this.classroomOwner.filter(l=>m==l.id)??[];return r.length>0?r[0].name:""}getHistories(){if(!this.data)return this.stopStatusObj();this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.data.id)).subscribe(m=>{if(this.isSaving=!1,!m.success)return this.errorStatusObj(m.message,!0);this.histories=m.data?.histories??[],this.checkboxMonth.checkboxMonth.map(l=>l.selected=null!=this.histories.find(p=>p.month==l.month&&l.year==p.year));var r=[];m.data?.classrooms.forEach(l=>{r.push(new a.gE({classroomId:new a.MJ(l.classroomId,{nonNullable:!0,validators:[a.k0.min(1)]}),isTryLearning:new a.MJ(l.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new a.Yp(r,{validators:[L.formGroupClassrooms]}),this.stopStatusObj()}))}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(m=>{if(!m.success)return this.errorStatusObj(m.message,!0),void this.stopStatusObj();this.classroomOwner=m.data?.objs??[],this.getHistories()}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(m,r,l,p,h,tt,$){super($,tt),this.classroomGroupService=m,this.sAztDialogService=r,this.sAztTimeService=l,this.timeService=p,this.paymentService=h,this.dialogRef=tt,this.data=$,this.histories=[],this.checkboxMonth=new nt.L,this.studentForm=new B.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.classroomNameCreateControl=new a.MJ("",{nonNullable:!0}),this.loadingCreateClassroom=!1,$&&(this.checkboxMonth.studentId=this.data.id,$.hasUser?this.studentForm.form=new a.gE({fullName:new a.MJ($.fullName??"",{nonNullable:!0,validators:[a.k0.required]}),gender:new a.MJ($.gender??0,{nonNullable:!0}),birthday:new a.MJ($.birthday,{nonNullable:!0}),email:new a.MJ($.email??"",{nonNullable:!0,validators:[a.k0.email,a.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new a.MJ($.phone??"",{nonNullable:!0,validators:[a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]}),parentPhoneNumber:new a.MJ($.phone??"",{nonNullable:!0,validators:[a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]}),identificationNumber:new a.MJ($.identificationNumber?$.identificationNumber.toString():"",{nonNullable:!0,validators:[a.k0.min(1),a.k0.maxLength(this.myEnvironment.maxStudentCodeLength),a.k0.pattern("^[0-9]*$")]}),facebookLink:new a.MJ($.facebookLink,{nonNullable:!0}),school:new a.MJ($.schoolName,{nonNullable:!0}),userName:new a.MJ($.parentUserName??"",{nonNullable:!0,validators:[s.i.validateUserName]})}):this.studentForm.form.setValue({fullName:$.fullName??"",gender:$.gender??0,birthday:$.birthday,email:$.email??"",phoneNumber:$.phone??"",parentPhoneNumber:$.parentPhone??"",identificationNumber:$.identificationNumber?$.identificationNumber.toString():"",facebookLink:$.facebookLink,school:$.schoolName,password:"",userName:$.parentUserName??""})),this.formClassrooms=new a.Yp([new a.gE({classroomId:new a.MJ(0,{nonNullable:!0,validators:[a.k0.min(1)]}),isTryLearning:new a.MJ(!1,{nonNullable:!0})})],{validators:[L.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}}return(c=E).\u0275fac=function(m){return new(m||c)(o.rXU(_.kG),o.rXU(I.i),o.rXU(Y.F),o.rXU(Y.F),o.rXU(b.W),o.rXU(R.CP,8),o.rXU(R.Vh,8))},c.\u0275cmp=o.VBU({type:c,selectors:[["azt-add-or-edit-tuition-fee"]],standalone:!0,features:[o.Jv_([{provide:e.$O,useClass:et.fb,deps:[U.Ju,C.ij]},{provide:e.vq,useFactory:H.fJ,deps:[Y.F]}]),o.Vt3,o.aNF],decls:11,vars:10,consts:[["doneLoading",""],["searchInListClassroomName","searchInList"],[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"click","disabled"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"click","disabled"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"closeDialog","studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[4,"ngIf"],[1,"text-md","font-medium","flex","items-center","mt-2","justify-between"],[1,"btn","btn-sm","btn-primary-soft","w-24",3,"click","ngClass"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],[1,"mx-auto","my-auto","text-center","midle-box",3,"ngClass"],[3,"size"],[1,"text-slate-500","text-md",2,"font-weight","420"],["class","form-single-class p-2 mt-1",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[3,"checkboxMonth","histories"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1",3,"ngClass"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["searchInList","","name","classroomId",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],[1,"btn-delete-room","ml-2",3,"click","matTooltip"],["name","trash-2","size","20",3,"ngClass"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["class","example-margin","formControlName","isTryLearning",3,"checked",4,"ngIf"],[1,"btn-delete-room",3,"click","matTooltip","ngClass"],["formControlName","isTryLearning",1,"example-margin",3,"checked"]],template:function(m,r){if(1&m){const l=o.RV6();o.j41(0,"div",2),o.DNE(1,dt,1,1,"azt-loading-effect",3)(2,v,28,28,"ng-template",null,0,o.C5r),o.j41(4,"div",4)(5,"button",5),o.bIt("click",function(){return o.eBV(l),o.Njj(r.dialogRef.close())}),o.EFF(6),o.nI1(7,"mytranslate"),o.k0s(),o.j41(8,"button",6),o.bIt("click",function(){return o.eBV(l),o.Njj(r.saveData())}),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s()()()}if(2&m){const l=o.sdS(3);o.R7$(),o.Y8G("ngIf",r.statusObj.loading)("ngIfElse",l),o.R7$(4),o.Y8G("disabled",r.isSaving),o.R7$(),o.JRh(o.bMT(7,6,"lang_cms_common_close_btn")),o.R7$(2),o.Y8G("disabled",!r.isSaving&&(r.formClassrooms.invalid||r.studentForm.form.invalid)||0==r.formClassrooms.controls.length),o.R7$(),o.SpI(" ",o.bMT(10,8,"lang_button_save")," ")}},dependencies:[G.An,G.U9,d.x,T.R,K.K,S.U,F.s,j.u,t.MD,t.YU,t.Sq,t.bT,a.X1,a.qT,a.BC,a.cb,a.l_,a.j4,a.JD,z.iI,a.YN,w.wp,X.s,U.wT,D.So,O.rl,W.VO,ot.oV,k.flO,k.WGl,Q.L,f.Id,x.k,lt.t],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),E})()},60902:(at,N,n)=>{n.d(N,{L:()=>e});class e{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}},14999:(at,N,n)=>{n.d(N,{d:()=>L});var e=n(89163),t=n(40116),a=n(64516),C=n(75498),U=n(54460),R=n(10936),z=n(65162),k=n(96639),G=n(44155),X=n(15343),et=n(55887),H=n(5502),Z=n(44327),d=n(48891),w=n(6440);function Q(s,j){if(1&s&&(d.qex(0),d.EFF(1),d.nI1(2,"mytranslate"),d.j41(3,"b",10),d.EFF(4),d.k0s(),d.bVm()),2&s){const S=d.XpG();d.R7$(),d.SpI(" \xa0",d.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),d.R7$(3),d.JRh(null==S.classroomObj?null:S.classroomObj.name)}}function Y(s,j){1&s&&d.nrm(0,"azt-loading-ui",11)}let L=(()=>{var s;class j extends t._{btnCloseDialog(F){this.dialogRef.close(F)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(F=>{1==F.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(F.message,!0),this.btnCloseDialog(!1))})))}constructor(F,B,K){super(K,B),this.studentService=F,this.dialogRef=B,this.data=K,this.studentObj=K.studentObj,this.classroomObj=K.classroomObj}}return(s=j).\u0275fac=function(F){return new(F||s)(d.rXU(w.b0),d.rXU(e.CP,8),d.rXU(e.Vh,8))},s.\u0275cmp=d.VBU({type:s,selectors:[["app-delete-single-student"]],standalone:!0,features:[d.Vt3,d.aNF],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(F,B){1&F&&(d.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),d.EFF(5),d.nI1(6,"mytranslate"),d.j41(7,"b",4),d.EFF(8),d.k0s(),d.DNE(9,Q,5,4,"ng-container",5),d.EFF(10," ? "),d.k0s()()()(),d.j41(11,"div",6)(12,"button",7),d.bIt("click",function(){return B.btnCloseDialog(!1)}),d.EFF(13),d.nI1(14,"mytranslate"),d.k0s(),d.j41(15,"button",8),d.bIt("click",function(){return B.confirmDelete()}),d.DNE(16,Y,1,0,"azt-loading-ui",9),d.EFF(17),d.nI1(18,"mytranslate"),d.k0s()()()),2&F&&(d.R7$(5),d.SpI(" ",d.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),d.R7$(3),d.JRh(null==B.studentObj?null:B.studentObj.fullName),d.R7$(),d.Y8G("ngIf",null==B.classroomObj?null:B.classroomObj.name),d.R7$(4),d.SpI(" ",d.bMT(14,8,"lang_cms_common_close_btn")," "),d.R7$(3),d.Y8G("ngIf",B.statusObj.loading),d.R7$(),d.SpI(" ",d.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[a.U,C.R,U.MD,U.bT,R.X1,z.iI,R.YN,k.wp,G.s,X.flO,et.L,H.Id,Z.k],encapsulation:2}),j})()},46723:(at,N,n)=>{n.d(N,{B:()=>o});var e=n(81519),t=n(10936),a=n(47426),C=n(89163),U=n(95670),z=(n(78472),n(47564)),k=n(39394),G=n(40116),X=n(13362),et=n(72350),H=n(14400),Z=n(59013),d=n(43234),w=n(64516),Q=n(61686),Y=n(75498),L=n(54460),s=n(65162),j=n(96639),S=n(44155),F=n(15343),B=n(55887),K=n(5502),nt=n(44327),f=n(48891),x=n(6440);function J(_,I){if(1&_&&(f.j41(0,"div",10)(1,"span"),f.EFF(2),f.nI1(3,"mytranslate"),f.k0s()()),2&_){const b=f.XpG();f.R7$(2),f.SpI("",f.bMT(3,1,b.msgError),"!")}}function T(_,I){1&_&&f.nrm(0,"azt-loading-ui",11)}let o=(()=>{var _;class I extends G._{confirmAction(){let D=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let O={id:this.studentObj?.id??0,fullName:D.fullName,phone:D.phoneNumber,email:D.email,identificationNumber:D.identificationNumber?Number(D.identificationNumber):void 0,gender:Number(D.gender),birthday:D.birthday?this.timeService.formatOnlyDateToPostToServer(D.birthday):void 0,classroomId:this.classroomObj?.id??0,facebookLink:D.facebookLink,schoolName:D.school,userName:D.userName,parentPhone:D.parentPhoneNumber};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(O).subscribe(W=>{1==W.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=W.message??"",this.stopStatusObj())}))}}btnCloseDialog(D){this.dialogRef.close(D)}ngOnInit(){super.ngOnInit()}constructor(D,O,W,ot){super(ot,W),this.studentService=D,this.timeService=O,this.dialogRef=W,this.data=ot,this.msgError="",this.maxDate=d.c.maxDateTimePicker,this.studentForm=new Z.d,this.studentObj=ot.studentObj,this.classroomObj=ot.classroomObj,this.studentForm.form=new t.gE({fullName:new t.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[t.k0.required]}),userName:new t.MJ(this.studentObj?.parentUserName??"",{nonNullable:!0,validators:[H.i.validateUserName]}),gender:new t.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new t.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new t.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[et.U.isInvalidEmail,t.k0.email,t.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new t.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[t.k0.pattern(/^[0-9\-]*$/),t.k0.minLength(10),t.k0.maxLength(10)]}),parentPhoneNumber:new t.MJ(this.studentObj?.parentPhone??"",{nonNullable:!0,validators:[t.k0.pattern(/^[0-9\-]*$/),t.k0.minLength(10),t.k0.maxLength(10)]}),identificationNumber:new t.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,this.myEnvironment.maxStudentCodeLength),{nonNullable:!0,validators:[t.k0.min(1),t.k0.maxLength(this.myEnvironment.maxStudentCodeLength),t.k0.pattern("^[0-9]*$")]}),facebookLink:new t.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new t.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return(_=I).\u0275fac=function(D){return new(D||_)(f.rXU(x.b0),f.rXU(X.F),f.rXU(C.CP,8),f.rXU(C.Vh,8))},_.\u0275cmp=f.VBU({type:_,selectors:[["app-edit-student"]],standalone:!0,features:[f.Jv_([{provide:e.$O,useClass:z.fb,deps:[a.Ju,z.ij]},{provide:e.vq,useFactory:k.fJ,deps:[X.F]},{provide:U.U$,useValue:{floatLabel:"never"}}]),f.Vt3,f.aNF],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"closeDialog","studentForm"],["class","text-xs font-medium text-danger mt-2 pl-3 mb-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","pl-3","mb-2","fade"],[1,"mr-1"]],template:function(D,O){1&D&&(f.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),f.EFF(5),f.nI1(6,"mytranslate"),f.k0s(),f.j41(7,"azt-form-enter-info-student",4),f.bIt("closeDialog",function(ot){return O.btnCloseDialog(ot)}),f.k0s()()(),f.DNE(8,J,4,3,"div",5),f.k0s(),f.j41(9,"div",6)(10,"button",7),f.bIt("click",function(){return O.btnCloseDialog(!1)}),f.EFF(11),f.nI1(12,"mytranslate"),f.k0s(),f.j41(13,"button",8),f.bIt("click",function(){return O.confirmAction()}),f.DNE(14,T,1,0,"azt-loading-ui",9),f.EFF(15),f.nI1(16,"mytranslate"),f.k0s()()()),2&D&&(f.R7$(5),f.SpI(" ",f.bMT(6,7,"lang_student_utils_edit_student")," "),f.R7$(2),f.Y8G("studentForm",O.studentForm),f.R7$(),f.Y8G("ngIf",""!==O.msgError),f.R7$(3),f.SpI(" ",f.bMT(12,9,"lang_cms_common_close_btn")," "),f.R7$(2),f.Y8G("disabled",O.statusObj.loading||O.studentForm.form.invalid),f.R7$(),f.Y8G("ngIf",O.statusObj.loading),f.R7$(),f.SpI(" ",f.bMT(16,11,"lang_button_update")," "))},dependencies:[w.U,Q.s,Y.R,L.MD,L.bT,t.X1,s.iI,t.YN,j.wp,S.s,F.flO,B.L,K.Id,nt.k],encapsulation:2}),I})()},19:(at,N,n)=>{n.d(N,{F:()=>st});var e=n(54460),t=n(48891),a=n(10936),C=n(89163),U=n(65162),R=n(15343),z=n(44233),k=n(51698),G=n(44155),X=n(40116),et=n(10273),H=n(96639),Z=n(55887),d=n(3254),w=n(64516),Q=n(75498),Y=n(5502),L=n(44327),s=n(49842),j=n(47426),S=n(95670),F=n(43404),B=n(4375),K=n(47712),nt=n(83426);const f=()=>({"mr-1":!0});function x(u,P){1&u&&(t.qex(0),t.nrm(1,"input",37),t.nI1(2,"mytranslate"),t.bVm()),2&u&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_auto_nhap_ten_lop")))}function J(u,P){1&u&&(t.qex(0),t.nrm(1,"textarea",38),t.nI1(2,"mytranslate"),t.j41(3,"span",39),t.nrm(4,"lucide-icon",40),t.j41(5,"span",41),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.bVm()),2&u&&(t.R7$(),t.FS9("placeholder",t.bMT(2,4,"lang_auto_nhap_ten_lop")),t.R7$(3),t.Y8G("size",12)("ngClass",t.lJ4(8,f)),t.R7$(2),t.JRh(t.bMT(7,6,"lang_azt_classroom_multiple_create_note")))}function T(u,P){1&u&&(t.j41(0,"div",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function o(u,P){if(1&u&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&u){const v=t.XpG(2);t.R7$(),t.SpI("- ",v.selectedYearValue+1,"")}}function _(u,P){if(1&u&&(t.j41(0,"mat-option",43),t.EFF(1),t.DNE(2,o,2,1,"span",11),t.k0s()),2&u){const v=P.$implicit,M=t.XpG();t.Y8G("value",v),t.R7$(),t.SpI(" ",v," "),t.R7$(),t.Y8G("ngIf",M.selectedYearValue==v)}}function I(u,P){1&u&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function b(u,P){if(1&u&&(t.j41(0,"span",49),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u){const v=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,v.groupObj.name))}}function D(u,P){if(1&u&&(t.j41(0,"span",50),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&u){const v=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,v.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,v.groupObj.name))}}function O(u,P){if(1&u&&(t.qex(0),t.j41(1,"div",45)(2,"mat-radio-button",46),t.DNE(3,b,3,3,"span",47),t.nI1(4,"mytranslate"),t.DNE(5,D,4,6,"span",48),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&u){const v=P.$implicit;t.R7$(2),t.Y8G("value",v.groupObj.id),t.R7$(),t.Y8G("ngIf",v.groupObj.name&&t.bMT(4,3,v.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",v.groupObj.name&&t.bMT(6,5,v.groupObj.name).length>=15)}}function W(u,P){1&u&&(t.j41(0,"div",51),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function ot(u,P){if(1&u){const v=t.RV6();t.j41(0,"a",52),t.bIt("click",function(){t.eBV(v);const c=t.XpG();return t.Njj(c.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function lt(u,P){1&u&&(t.nrm(0,"input",53,2),t.nI1(2,"mytranslate")),2&u&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function ct(u,P){if(1&u){const v=t.RV6();t.j41(0,"div",54)(1,"button",55),t.bIt("click",function(){t.eBV(v);const c=t.XpG();return t.Njj(c.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",56),t.bIt("click",function(){t.eBV(v);const c=t.XpG();return t.Njj(c.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",57),t.k0s()()}if(2&u){const v=t.XpG();t.R7$(),t.Y8G("disabled",v.form.controls.nameGroup.errors),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function rt(u,P){1&u&&(t.j41(0,"div",58),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function it(u,P){if(1&u&&(t.qex(0),t.j41(1,"p",60),t.EFF(2),t.k0s(),t.bVm()),2&u){const v=P.$implicit;t.R7$(2),t.JRh(v)}}function mt(u,P){if(1&u&&(t.j41(0,"div",59),t.DNE(1,it,3,1,"ng-container",25),t.k0s()),2&u){const v=t.XpG();t.R7$(),t.Y8G("ngForOf",v.dataErrorShow)}}function dt(u,P){1&u&&t.nrm(0,"azt-loading-ui",63)}function g(u,P){if(1&u){const v=t.RV6();t.qex(0),t.j41(1,"button",61),t.bIt("click",function(){t.eBV(v);const c=t.XpG();return t.Njj(c.saveClassroomObj(!1))}),t.DNE(2,dt,1,0,"azt-loading-ui",62),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&u){const v=t.XpG();t.R7$(),t.Y8G("disabled",v.statusObj.loading||v.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",v.statusObj.loading&&"save"==v.activeButton),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function V(u,P){1&u&&t.nrm(0,"azt-loading-ui",63)}function y(u,P){if(1&u){const v=t.RV6();t.j41(0,"button",64),t.bIt("click",function(){t.eBV(v);const c=t.XpG();return t.Njj(c.updateClassroomObj())}),t.DNE(1,V,1,0,"azt-loading-ui",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&u){const v=t.XpG();t.Y8G("disabled",v.statusObj.loading||v.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",v.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function q(u,P){1&u&&t.nrm(0,"azt-loading-ui",63)}function A(u,P){if(1&u){const v=t.RV6();t.j41(0,"button",65),t.bIt("click",function(){t.eBV(v);const c=t.XpG();return t.Njj(c.saveClassroomObj(!0))}),t.DNE(1,q,1,0,"azt-loading-ui",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&u){const v=t.XpG();t.Y8G("disabled",v.statusObj.loading||v.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",v.statusObj.loading&&"save_and_close"==v.activeButton),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let st=(()=>{var u;class P extends X._{closeDialog(){this.dialogRef.close({success:!!this.hasCreateNewStuff,classroomId:this.firstClassroomCreatedId,multipleCreated:this.multipleCreated})}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let M={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(M).subscribe(c=>{1==c.success?(this.hasCreateNewStuff=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(c.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(M){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=M}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let c=this.form.getRawValue().group;c=c!=this.fakeGroupValue?c:void 0;let E={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:c??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(E).subscribe(i=>{1==i.success?i.data?.isDuplicatedClassroomName?this.errorStatusObj(i.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close({success:!0,classroomId:this.firstClassroomCreatedId,multipleCreated:this.multipleCreated})):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}callApiSaveClassroom(M){return new k.c(c=>{let E={classroomId:0,errorName:"",message:""},i=this.commonService.myTranslateInstant("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac"),m=this.commonService.myTranslateInstant("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac"),r=this.commonService.myTranslateInstant("lang_auto_them_lop_hoc_khong_thanh_cong");this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(M).subscribe(l=>{1==l.success?l.data?.isDuplicatedClassroomName?E.errorName=l.data?.isStorage?M.classroomName+" - "+i:M.classroomName+" - "+m:E.classroomId=l.data?.obj.id:E.errorName=M.classroomName+" - "+r,c.next(E),c.complete()}))})}saveClassroomObj(M){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.dataErrorShow=[],this.initStatusObj(),this.activeButton=M?"save_and_close":"save";let E=this.form.getRawValue().group;E=E!=this.fakeGroupValue?E:void 0;let i=[];i=this.data.multipleImport?this.form.getRawValue().nameClass.split("\n").filter(r=>""!=r).map(r=>({classroomName:r.trim(),year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:E})):[{classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:E}];let m=[];i.forEach(r=>m.push(this.callApiSaveClassroom(r))),this.waitDestroy(this.sAztConcurrencyApiService.processObservables(1,m,!1).subscribe(r=>{if(r&&r.length){let l=r[0]?.classroomId;this.multipleCreated=r.length>1,this.firstClassroomCreatedId=l;let p=r.map(h=>h?.errorName??"").filter(h=>""!=h);if(p.length){if(!this.data.multipleImport&&!this.data.businessTuitionFee)return this.errorStatusObj(p[0],!0);this.dataErrorShow=p,this.stopStatusObj()}else{if(this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.hasCreateNewStuff=!0,M)return this.dialogRef.close({success:!0,classroomId:this.firstClassroomCreatedId,multipleCreated:this.multipleCreated}),void(!this.data.multipleImport&&!this.data.businessTuitionFee&&this.commonService.myNavigation(`/admin/student/classroom-details/${l}/0`));this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let M=(new Date).getFullYear();for(let m=M-20;m<=M+40;m++)this.years.push(m);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let c=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=c?parseInt(c??"",10):M;let E=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new a.gE({nameClass:new a.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[a.k0.required]}),nameGroup:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),group:new a.MJ(E,{nonNullable:!0,validators:[a.k0.required]}),year:new a.MJ(this.selectedYearValue,{nonNullable:!0,validators:[a.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(M=>{1==M.success?(this.activeClassroomData=M?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(M.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(M,c,E){super(E,c),this.classroomGroupService=M,this.dialogRef=c,this.data=E,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewStuff=!1,this.activeButton="save",this.dataErrorShow=[],this.firstClassroomCreatedId=void 0,this.multipleCreated=!1,this.sAztConcurrencyApiService=(0,t.WQX)(d.Z),this.classroomObj=E.classroomObj,this.form=new a.gE({nameClass:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),nameGroup:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),group:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]}),year:new a.MJ(0,{nonNullable:!0,validators:[a.k0.required]})}),this.dialogRef.backdropClick().subscribe(()=>{this.dialogRef.close({success:!!this.hasCreateNewStuff,classroomId:this.firstClassroomCreatedId,multipleCreated:this.multipleCreated})})}}return(u=P).\u0275fac=function(M){return new(M||u)(t.rXU(s.kG),t.rXU(C.CP,8),t.rXU(C.Vh,8))},u.\u0275cmp=t.VBU({type:u,selectors:[["app-create-or-classroom"]],standalone:!0,features:[t.Vt3,t.aNF],decls:53,vars:41,consts:[["searchInListYear","searchInList"],["updateData",""],["nameGroup",""],[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-4","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-base","font-medium","flex","items-center"],[1,"p-4","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label","font-medium"],[4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label","font-medium"],["appearance","outline"],["searchInList","","formControlName","year","id","year",3,"valueChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-100","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],["class","p-4","style","max-height: 100px; overflow-y: auto",4,"ngIf"],[1,"p-4","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-4",3,"click"],[4,"ngIf","ngIfElse"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["id","nameClass","formControlName","nameClass","rows","3",1,"form-control",3,"placeholder"],[1,"text-xs","text-slate-200"],["name","info",3,"size","ngClass"],[2,"align-content","center","vertical-align","middle"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],[1,"p-4",2,"max-height","100px","overflow-y","auto"],[1,"mb-0","text-danger","text-md"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-4",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"click","disabled"]],template:function(M,c){if(1&M){const E=t.RV6();t.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"h3",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",8)(10,"div",9)(11,"label",10),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,x,3,3,"ng-container",11)(15,J,8,9,"ng-container",11)(16,T,3,3,"div",12),t.k0s(),t.j41(17,"div",13)(18,"label",14),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",15)(22,"mat-select",16,0),t.mxI("valueChange",function(m){return t.eBV(E),t.DH7(c.selectedYearValue,m)||(c.selectedYearValue=m),t.Njj(m)}),t.j41(24,"mat-option"),t.nrm(25,"ngx-mat-select-search",17),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.DNE(28,_,3,3,"mat-option",18),t.k0s()(),t.DNE(29,I,3,3,"div",19),t.k0s(),t.j41(30,"div",20)(31,"div",21),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",22)(35,"mat-radio-group",23)(36,"div",24),t.DNE(37,O,7,7,"ng-container",25),t.k0s()(),t.DNE(38,W,3,3,"div",26),t.j41(39,"div",27),t.DNE(40,ot,3,3,"a",28)(41,lt,3,3,"input",29)(42,ct,6,4,"div",30),t.k0s(),t.DNE(43,rt,3,3,"div",31),t.k0s()()()()(),t.DNE(44,mt,2,1,"div",32),t.j41(45,"div",33)(46,"button",34),t.bIt("click",function(){return t.eBV(E),t.Njj(c.closeDialog())}),t.EFF(47),t.nI1(48,"mytranslate"),t.k0s(),t.DNE(49,g,5,5,"ng-container",35)(50,y,4,5,"ng-template",null,1,t.C5r)(52,A,4,5,"button",36),t.k0s()()()}if(2&M){const E=t.sdS(23),i=t.sdS(51);t.R7$(),t.Y8G("formGroup",c.form),t.R7$(4),t.SpI(" ",c.classroomObj?t.bMT(7,27,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,25,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,29,"lang_auto_ten_lop")," "),t.R7$(2),t.Y8G("ngIf",!c.data.multipleImport),t.R7$(),t.Y8G("ngIf",c.data.multipleImport),t.R7$(),t.Y8G("ngIf",c.form.controls.nameClass.dirty&&c.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,31,"lang_auto_nam_hoc")," "),t.R7$(3),t.R50("value",c.selectedYearValue),t.R7$(3),t.FS9("placeholderLabel",t.bMT(26,33,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(27,35,"lang_search_not_found")),t.Y8G("formControl",E.searchControl),t.R7$(3),t.Y8G("ngForOf",E.filter(c.years,void 0)),t.R7$(),t.Y8G("ngIf",c.form.controls.year.dirty&&c.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",c.activeClassroomData),t.R7$(),t.Y8G("ngIf",c.form.controls.group.dirty&&c.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==c.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",1==c.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",c.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",c.isShowCreateGroupOfClassroom&&c.form.controls.nameGroup.dirty&&c.form.controls.nameGroup.errors),t.R7$(),t.Y8G("ngIf",c.dataErrorShow.length),t.R7$(3),t.JRh(t.bMT(48,39,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!c.classroomObj)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",!c.classroomObj)}},dependencies:[z.An,z.U9,et.x,w.U,Q.R,e.MD,e.YU,e.Sq,e.bT,a.X1,a.qT,a.me,a.BC,a.cb,a.l_,a.j4,a.JD,U.iI,a.YN,H.wp,G.s,j.wT,S.rl,F.VT,F._g,B.VO,K.oV,R.flO,R.WGl,Z.L,Y.Id,L.k,nt.t],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),P})()},3254:(at,N,n)=>{n.d(N,{Z:()=>Z});var e=n(51698),t=n(11787),a=n(27035),C=n(17178),U=n(48915),R=n(63016),z=n(47947),k=n(81215),G=n(15351);const X=(d,w)=>(d.push(w),d);var H=n(48891);let Z=(()=>{var d;class w{processObservables(Y,L,s){return new e.c(j=>{this.processMultipleObservables(Y,L,s).subscribe({next:S=>{j.next(S),j.complete()},error:S=>{j.next(L.map(F=>null)),j.complete()}})})}processMultipleObservables(Y,L,s){return(0,t.H)(L).pipe((0,a.Z)((j,S)=>j.pipe((0,C.W)(F=>(console.error("Error in observable:",F),s?(0,U.$)(()=>F):(0,R.of)(null))),(0,z.T)(F=>({result:F,index:S}))),Y),function et(){return(0,G.N)((d,w)=>{(0,k.T)(X,[])(d).subscribe(w)})}(),(0,z.T)(j=>j.sort((S,F)=>S.index-F.index).map(S=>S.result)))}}return(d=w).\u0275fac=function(Y){return new(Y||d)},d.\u0275prov=H.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),w})()},11163:(at,N,n)=>{n.d(N,{h:()=>t});var e=n(48891);let t=(()=>{var a;class C{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(R){this.itemPerPage=R}setLoading(R){this.isLoadingNextPage=R}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(R){return this.totalRecord=R,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}}return(a=C).\u0275fac=function(R){return new(R||a)},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:null}),C})()},14400:(at,N,n)=>{n.d(N,{i:()=>e});class e{static validateUserName(a){let z=a.value??"";return 0==z.length?null:/[a-zA-Z]/.test(z)&&/^[a-zA-Z0-9_-]+$/.test(z)?z.length<3&&z.length>0?{isShort:!0}:z.length>50?{isLong:!0}:null:{isLetter:!0}}}},73957:(at,N,n)=>{n.d(N,{u:()=>o});var e=n(81519),t=n(54460),a=n(48891),C=n(10936),U=n(34514),R=n(47426),z=n(65162),k=n(47564),G=n(39394),X=n(44327),et=n(96639),H=n(55887),Z=n(13362),d=n(88023),w=n(59013),Q=n(75498),Y=n(15343),L=n(5502),s=n(60902),j=n(44155),S=n(39660),F=n(17187),B=n(12992),K=n(95670),nt=n(4375);function f(_,I){1&_&&(a.j41(0,"div",7),a.nrm(1,"azt-loading-ui"),a.k0s())}function x(_,I){if(1&_){const b=a.RV6();a.j41(0,"div",11)(1,"mat-checkbox",12),a.mxI("ngModelChange",function(O){a.eBV(b);const W=a.XpG().$implicit;return a.DH7(W.selected,O)||(W.selected=O),a.Njj(O)}),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s()()}if(2&_){const b=a.XpG().$implicit;a.R7$(),a.R50("ngModel",b.selected),a.Y8G("checked",b.selected),a.R7$(),a.SpI(" ",a.bMT(3,3,"lang_core_thang")+" "+b.month+"/"+b.year," ")}}function J(_,I){if(1&_&&(a.qex(0),a.DNE(1,x,4,5,"div",10),a.bVm()),2&_){const b=I.$implicit,D=a.XpG(2);a.R7$(),a.Y8G("ngIf",b.year==D.currentYearSelect)}}function T(_,I){if(1&_&&(a.j41(0,"div",8),a.DNE(1,J,2,1,"ng-container",9),a.k0s()),2&_){const b=a.XpG();a.R7$(),a.Y8G("ngForOf",b.checkboxMonth.checkboxMonth)}}let o=(()=>{var _;class I extends d.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(D=>1==D.selected)}getHistoriesMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId)).subscribe(D=>{if(!D.success)return this.isSaving=!1,void this.errorStatusObj(D.message,!0);this.checkboxMonth.checkboxMonth.map(O=>O.selected=null!=D.data?.histories.find(W=>W.month==O.month&&O.year==W.year)),this.stopStatusObj()})))}ngOnInit(){super.ngOnInit(),this.getHistoriesMonth()}constructor(D,O,W){super(),this.sAztDialogService=D,this.sAztTimeService=O,this.paymentService=W,this.checkboxMonth=new s.L,this.sendListMonth=new a.bkB,this.studentForm=new w.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}}return(_=I).\u0275fac=function(D){return new(D||_)(a.rXU(S.i),a.rXU(Z.F),a.rXU(F.W))},_.\u0275cmp=a.VBU({type:_,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},standalone:!0,features:[a.Jv_([{provide:e.$O,useClass:k.fb,deps:[R.Ju,U.ij]},{provide:e.vq,useFactory:G.fJ,deps:[Z.F]}]),a.Vt3,a.aNF],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"valueChange","value"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModelChange","ngModel","checked"]],template:function(D,O){1&D&&(a.j41(0,"div",0)(1,"h3",1),a.EFF(2),a.nI1(3,"mytranslate"),a.nI1(4,"mytranslate"),a.nI1(5,"mytranslate"),a.j41(6,"mat-form-field",2)(7,"mat-select",3),a.mxI("valueChange",function(ot){return a.DH7(O.currentYearSelect,ot)||(O.currentYearSelect=ot),ot}),a.j41(8,"mat-option",4)(9,"span"),a.EFF(10),a.k0s()(),a.j41(11,"mat-option",4)(12,"span"),a.EFF(13),a.k0s()(),a.j41(14,"mat-option",4)(15,"span"),a.EFF(16),a.k0s()()()()(),a.DNE(17,f,2,0,"div",5)(18,T,2,1,"div",6),a.k0s()),2&D&&(a.R7$(2),a.E5c(" ",a.bMT(3,12,"lang_test_market_withdraw_time")," ",a.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",a.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),a.R7$(5),a.R50("value",O.currentYearSelect),a.R7$(),a.Y8G("value",O.currentDate.getFullYear()-1),a.R7$(2),a.SpI(" ",O.currentDate.getFullYear()-1," "),a.R7$(),a.Y8G("value",O.currentDate.getFullYear()),a.R7$(2),a.SpI(" ",O.currentDate.getFullYear()," "),a.R7$(),a.Y8G("value",O.currentDate.getFullYear()+1),a.R7$(2),a.SpI(" ",O.currentDate.getFullYear()+1," "),a.R7$(),a.Y8G("ngIf",O.statusObj.loading),a.R7$(),a.Y8G("ngIf",!O.statusObj.loading))},dependencies:[Q.R,t.MD,t.Sq,t.bT,C.X1,C.BC,z.iI,C.YN,C.vS,et.wp,j.s,R.wT,B.So,K.rl,nt.VO,Y.flO,H.L,L.Id,X.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),I})()},16023:(at,N,n)=>{n.d(N,{k:()=>e});var e=function(t){return t.video="video",t.document="document",t.homework="homework",t.homework_view="homework_view",t.unknown="unknown",t}(e||{})},61686:(at,N,n)=>{n.d(N,{s:()=>dt});var e=n(54460),t=n(48891),a=n(10936),C=n(65162),U=n(44327),R=n(89364),z=n(96639),k=n(55887),G=n(88023),X=n(4630),et=n(26649),H=n(15343),Z=n(5502),d=n(44155),w=n(43234),Q=n(45655),Y=n(28083),L=n(39471),s=n(97839),j=n(95670),S=n(81519),F=n(83426);function B(g,V){1&g&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function K(g,V){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function nt(g,V){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function f(g,V){if(1&g&&(t.j41(0,"div",25),t.DNE(1,K,3,3,"span",26)(2,nt,3,3,"span",26),t.k0s()),2&g){const y=t.XpG(2);t.R7$(),t.Y8G("ngIf",y.studentForm.form.controls.identificationNumber.errors.min),t.R7$(),t.Y8G("ngIf",y.studentForm.form.controls.identificationNumber.errors.maxlength||y.studentForm.form.controls.identificationNumber.errors.pattern)}}function x(g,V){if(1&g&&(t.j41(0,"div",2),t.nrm(1,"input",23),t.nI1(2,"mytranslate"),t.DNE(3,f,3,2,"div",24),t.k0s()),2&g){const y=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(2,2,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngIf",y.studentForm.form.controls.identificationNumber.errors&&(y.studentForm.form.controls.identificationNumber.dirty||y.studentForm.form.controls.identificationNumber.touched))}}function J(g,V){1&g&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function T(g,V){1&g&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function o(g,V){1&g&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function _(g,V){if(1&g&&(t.j41(0,"div",2),t.nrm(1,"input",27),t.nI1(2,"mytranslate"),t.DNE(3,o,3,3,"div",4),t.k0s()),2&g){const y=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(2,2,"lang_parent_number_phone")),t.R7$(2),t.Y8G("ngIf",y.studentForm.form.controls.parentPhoneNumber.errors)}}function I(g,V){1&g&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_invalid_email")," "))}function b(g,V){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function D(g,V){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function O(g,V){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function W(g,V){if(1&g&&(t.j41(0,"div",22),t.DNE(1,b,3,3,"span",26)(2,D,3,3,"span",26)(3,O,3,3,"span",26),t.k0s()),2&g){const y=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==y.studentForm.form.controls.userName||null==y.studentForm.form.controls.userName.errors?null:y.studentForm.form.controls.userName.errors.isShort),t.R7$(),t.Y8G("ngIf",null==y.studentForm.form.controls.userName||null==y.studentForm.form.controls.userName.errors?null:y.studentForm.form.controls.userName.errors.isLong),t.R7$(),t.Y8G("ngIf",null==y.studentForm.form.controls.userName||null==y.studentForm.form.controls.userName.errors?null:y.studentForm.form.controls.userName.errors.isLetter)}}function ot(g,V){if(1&g){const y=t.RV6();t.j41(0,"div",2)(1,"azt-check-vip-account",28),t.bIt("closeDialog",function(A){t.eBV(y);const st=t.XpG();return t.Njj(st.handleCloseCheckVip(A))}),t.nrm(2,"input",29),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,W,4,3,"div",4),t.k0s()}if(2&g){const y=t.XpG();t.R7$(),t.Y8G("vipPackageType","VIP_FOR_TEACHER")("isShowBadgeVip",!y.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_ENTER_USERNAME"),t.R7$(),t.FS9("placeholder",t.bMT(3,6,"lang_auto_nhap_ten_dang_ky")),t.R7$(2),t.Y8G("ngIf",null==y.studentForm.form.controls.userName?null:y.studentForm.form.controls.userName.errors)}}function lt(g,V){1&g&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_azt_note_not_enter_password_one"),""))}function ct(g,V){1&g&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function rt(g,V){if(1&g){const y=t.RV6();t.j41(0,"div",2)(1,"div",30),t.nrm(2,"input",31),t.nI1(3,"mytranslate"),t.j41(4,"button",32),t.bIt("click",function(){t.eBV(y);const A=t.XpG();return t.Njj(A.togglePassword())}),t.nrm(5,"lucide-icon",33),t.k0s()(),t.DNE(6,lt,3,3,"div",34)(7,ct,3,3,"div",4),t.k0s()}if(2&g){const y=t.XpG();t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"lang_auto_mat_khau")),t.Y8G("type",y.showPassword?"text":"password"),t.R7$(3),t.FS9("name",y.showPassword?"eye":"eye-off"),t.R7$(),t.Y8G("ngIf",!y.isAddParent),t.R7$(),t.Y8G("ngIf",y.studentForm.form.controls.password.errors)}}function it(g,V){1&g&&(t.j41(0,"div",2),t.nrm(1,"input",36),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function mt(g,V){1&g&&(t.j41(0,"div",2),t.nrm(1,"input",37),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_core_nhap_link_facebook")))}let dt=(()=>{var g;class V extends G.H{togglePassword(){this.showPassword=!this.showPassword}handleCloseCheckVip(q){this.studentForm.form.controls.userName?.reset(),this.studentForm.form.controls.userName?.disable(),this.studentForm.form.controls.userName?.enable(),q&&this.closeDialog.emit(q)}ngOnInit(){super.ngOnInit(),this.isFamilyMartDomain=this.commonService.isFamilyMart(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain),this.initStatusObj(),this.checkVipAccountService.getVipInfo(et.W5.VIPFORTEACHER,!0,void 0).subscribe(q=>{if(!q.success)return this.errorStatusObj(q.message);this.isVipAccount=q.data?.vipSubscriptionObj?.isVipTeacher??!1,this.successStatusObj()})}constructor(q){super(),this.checkVipAccountService=q,this.hasUser=!1,this.modeView=Q.u.Default,this.isAddParent=!1,this.closeDialog=new t.bkB,this.showPassword=!1,this.maxDate=w.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006"),this.isVipAccount=!1,this.isFamilyMartDomain=!1}}return(g=V).\u0275fac=function(q){return new(q||g)(t.rXU(Y.K))},g.\u0275cmp=t.VBU({type:g,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",modeView:"modeView",isAddParent:"isAddParent"},outputs:{closeDialog:"closeDialog"},standalone:!0,features:[t.Vt3,t.aNF],decls:47,vars:39,consts:[["birthDay",""],[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime","startAt"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],["id","parentPhoneNumber","formControlName","parentPhoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],[3,"closeDialog","vipPackageType","isShowBadgeVip","isAction","trackingKey"],["id","username","formControlName","userName","autocomplete","new-phone","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","50%","right","5px","border","none","background","transparent","z-index","99","transform","translate(0, -50%)",3,"click"],["size","16",3,"name"],["class","text-xs mt-1 text-warning",4,"ngIf"],[1,"text-xs","mt-1","text-warning"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(q,A){if(1&q){const st=t.RV6();t.j41(0,"form",1)(1,"div",2),t.nrm(2,"input",3),t.nI1(3,"mytranslate"),t.DNE(4,B,3,3,"div",4),t.k0s(),t.DNE(5,x,4,4,"div",5),t.j41(6,"div",2)(7,"div",6)(8,"label",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",8)(12,"div",9),t.nrm(13,"input",10),t.j41(14,"label",11),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",9),t.nrm(18,"input",12),t.j41(19,"label",13),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()(),t.j41(22,"div",2)(23,"mat-form-field",14)(24,"input",15),t.nI1(25,"mytranslate"),t.bIt("click",function(){t.eBV(st);const P=t.sdS(29);return t.Njj(P.open())}),t.k0s(),t.j41(26,"button",16),t.bIt("click",function(P){return t.eBV(st),t.sdS(29).open(),t.Njj(P.stopPropagation())}),t.nrm(27,"lucide-icon",17),t.k0s(),t.j41(28,"ngx-mat-datetime-picker",18,0)(30,"ngx-mat-datepicker-actions")(31,"button",19),t.EFF(32,"OK"),t.k0s()()()(),t.DNE(33,J,3,3,"div",4),t.k0s(),t.j41(34,"div",2),t.nrm(35,"input",20),t.nI1(36,"mytranslate"),t.DNE(37,T,3,3,"div",4),t.k0s(),t.DNE(38,_,4,4,"div",5),t.j41(39,"div",2),t.nrm(40,"input",21),t.nI1(41,"mytranslate"),t.DNE(42,I,3,3,"div",4),t.k0s(),t.DNE(43,ot,5,8,"div",5)(44,rt,8,7,"div",5)(45,it,3,3,"div",5)(46,mt,3,3,"div",5),t.k0s()}if(2&q){let st;const u=t.sdS(29);t.Y8G("formGroup",A.studentForm.form),t.R7$(2),t.FS9("placeholder",t.bMT(3,25,"lang_auto_nhap_ho_va_ten")),t.R7$(2),t.Y8G("ngIf",A.studentForm.form.controls.fullName.errors),t.R7$(),t.Y8G("ngIf",A.studentForm.form.controls.identificationNumber&&!A.isAddParent),t.R7$(4),t.SpI(" ",t.bMT(10,27,"lang_auto_gioi_tinh")," "),t.R7$(4),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(16,29,"lang_auto_nam")," "),t.R7$(3),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(21,31,"lang_auto_nu")," "),t.R7$(4),t.FS9("placeholder",t.bMT(25,33,"lang_auto_ngay_sinh")),t.Y8G("max",A.maxDate)("ngxMatDatetimePicker",u),t.R7$(4),t.Y8G("touchUi",!0)("hideTime",!0)("startAt",null!==(st=null==A.studentForm.form.controls.birthday?null:A.studentForm.form.controls.birthday.value)&&void 0!==st?st:A.startAtTime),t.R7$(5),t.Y8G("ngIf",null==A.studentForm.form.controls.birthday?null:A.studentForm.form.controls.birthday.errors),t.R7$(2),t.FS9("placeholder",t.bMT(36,35,"lang_number_phone")),t.R7$(2),t.Y8G("ngIf",A.studentForm.form.controls.phoneNumber.errors),t.R7$(),t.Y8G("ngIf",!A.isTqbDomain&&!A.isFamilyMartDomain),t.R7$(2),t.FS9("placeholder",t.bMT(41,37,"lang_auto_nhap_email")),t.R7$(2),t.Y8G("ngIf",A.studentForm.form.controls.email.errors),t.R7$(),t.Y8G("ngIf",!A.isAddParent&&(A.isVipAccount||A.isBusinessDomain)),t.R7$(),t.Y8G("ngIf",A.studentForm.form.controls.password&&!A.hasUser&&(A.isVipAccount||A.isBusinessDomain)),t.R7$(),t.Y8G("ngIf",A.isBusinessDomain&&!A.isAddParent),t.R7$(),t.Y8G("ngIf",A.isBusinessDomain&&!A.isAddParent)}},dependencies:[X.F,e.MD,e.bT,a.X1,a.qT,a.me,a.Fm,a.BC,a.cb,a.j4,a.JD,C.iI,a.YN,z.wp,d.s,L.$z,s.fg,j.rl,j.yw,S.m7,S.yF,S.HF,S.Uq,H.flO,H.WGl,k.L,Z.Id,R.Z,U.k,F.t],encapsulation:2}),V})()},45655:(at,N,n)=>{n.d(N,{u:()=>e});var e=function(t){return t.Default="DEFAULT",t.ADD_STUDENT="ADD_STUDENT",t}(e||{})},59013:(at,N,n)=>{n.d(N,{d:()=>U});var e=n(10936);class t{static isInvalidPassword(z){let G=z.value?.trim()??"";return G&&G.length<6?{isInvalidPassword:!0}:null}}var a=n(14400),C=n(43234);class U{constructor(){this.form=new e.gE({fullName:new e.MJ("",{nonNullable:!0,validators:[e.k0.required]}),gender:new e.MJ(0,{nonNullable:!0}),birthday:new e.MJ(void 0,{nonNullable:!0}),email:new e.MJ("",{nonNullable:!0,validators:[e.k0.email,e.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new e.MJ("",{nonNullable:!0,validators:[e.k0.pattern(/^[0-9\-]*$/),e.k0.minLength(10),e.k0.maxLength(10)]}),parentPhoneNumber:new e.MJ("",{nonNullable:!0,validators:[e.k0.pattern(/^[0-9\-]*$/),e.k0.minLength(10),e.k0.maxLength(10)]}),identificationNumber:new e.MJ("",{nonNullable:!0,validators:[e.k0.min(1),e.k0.maxLength(C.c.maxStudentCodeLength),e.k0.pattern("^[0-9]*$")]}),password:new e.MJ("",{nonNullable:!0,validators:[t.isInvalidPassword]}),facebookLink:new e.MJ("",{nonNullable:!0}),school:new e.MJ("",{nonNullable:!0}),userName:new e.MJ("",{nonNullable:!0,validators:[a.i.validateUserName]})})}removeValidatePhoneWhenNotBusiness(z){z||this.form.controls.phoneNumber.removeValidators(e.k0.required)}}},4630:(at,N,n)=>{n.d(N,{F:()=>f});var e=n(54460),t=n(48891),a=n(10936),C=n(65162),U=n(44327),R=n(55887),z=n(26649),k=n(15343),G=n(5502),X=n(44155),et=n(88023),H=n(89163),Z=n(40116),d=n(96639),w=n(21852);const Q=()=>({"mr-2":!0});function Y(x,J){if(1&x&&(t.j41(0,"div",10),t.nrm(1,"p",11),t.nI1(2,"mytranslate"),t.k0s()),2&x){const T=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,T.data.counterExport),t.npT)}}function L(x,J){if(1&x&&(t.j41(0,"div",10),t.nrm(1,"p",12),t.nI1(2,"mytranslate"),t.k0s()),2&x){const T=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,T.data.description),t.npT)}}let s=(()=>{var x;class J extends Z._{handlerCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.sAztAzotaTrackingService.sendCustomEvent("VIP_CONFIRM_TO_BUY_VIP",[]),this.dialogRef.close(!0),this.commonService.myNavigationWithQueryString("/auth/vip-packages/teacherVip",`?backto=${encodeURIComponent(this.data.returnUrl)}&trackingKey=${this.data.trackingKey}`)}constructor(o,_,I){super(I,_),this.sAztAzotaTrackingService=o,this.dialogRef=_,this.data=I,this.sAztAzotaTrackingService.sendCustomEvent("VIP_SHOW_VIP_DIALOG",[])}}return(x=J).\u0275fac=function(o){return new(o||x)(t.rXU(w.M),t.rXU(H.CP,8),t.rXU(H.Vh,8))},x.\u0275cmp=t.VBU({type:x,selectors:[["azt-dialog-redirect-vip-package"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:13,consts:[[1,"box","w-72","sm:w-80"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","mb-2"],[1,"badge-vip","inline-flex","items-center","mr-2",2,"height","25px"],["name","gem","size","12",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-redirect-vip-package-Hsr7Y1PGT",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","azt-dialog-redirect-vip-package-D5AZ23WEpg",1,"btn","btn-primary",3,"click"],[1,"mt-3"],[1,"text-lg","font-medium",3,"innerHTML"],[1,"text-md",3,"innerHTML"]],template:function(o,_){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"div",4),t.nrm(5,"lucide-icon",5),t.EFF(6," VIP "),t.k0s(),t.j41(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.DNE(10,Y,3,3,"div",6)(11,L,3,3,"div",6),t.k0s()(),t.j41(12,"div",7)(13,"button",8),t.bIt("click",function(){return _.handlerCloseDialog()}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",9),t.bIt("click",function(){return _.confirmDialog()}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(5),t.Y8G("ngClass",t.lJ4(12,Q)),t.R7$(3),t.JRh(t.bMT(9,6,_.data.title)),t.R7$(2),t.Y8G("ngIf",_.data.counterExport),t.R7$(),t.Y8G("ngIf",_.data.description),t.R7$(3),t.SpI(" ",t.bMT(15,8,_.data.titleBtnDestroy)," "),t.R7$(3),t.SpI(" ",t.bMT(18,10,"lang_azt_upgrade_now")," "))},dependencies:[e.MD,e.YU,e.bT,a.X1,C.iI,a.YN,d.wp,X.s,k.flO,k.WGl,R.L,G.Id,U.k],encapsulation:2}),J})();var j=n(25661),S=n(39660);const F=["*"],B=x=>({opacity:x}),K=()=>({"mr-2":!0});function nt(x,J){1&x&&(t.j41(0,"div")(1,"div",2),t.nrm(2,"lucide-icon",3),t.EFF(3," VIP "),t.k0s()()),2&x&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(1,K)))}let f=(()=>{var x;class J extends et.H{handlerAction(){if(this.isBusinessDomain)return this.checkAction.emit(!0);if(!this.isAction)return this.checkAction.emit(!0);if(this.vipAccountObj)return this.checkAction.emit(!0);const o={returnUrl:this.commonService.getCurrentUrlWithoutLocale(),title:"lang_azt_upgrade_to_vip_account",titleBtnDestroy:"lang_auto_huy",trackingKey:this.trackingKey};this.sAztDialogService.open(s,{data:o}).afterClosed().subscribe(I=>{this.closeDialog.emit(I)})}getData(){this.initStatusObj(),this.checkVipAccountService.getVipInfo("VIP_FOR_TEACHER"==this.vipPackageType?z.W5.VIPFORTEACHER:z.W5.VIPFORSTUDENT,!0,void 0).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message);this.vipAccountObj=o.data?.vipSubscriptionObj,this.successStatusObj()})}ngOnInit(){super.ngOnInit(),this.sAztUserService.isLogin()&&this.getData()}constructor(o,_){super(),this.sAztUserService=o,this.sAztDialogService=_,this.classCSSCustom="",this.isShowBadgeVip=!1,this.isAction=!1,this.checkAction=new t.bkB,this.closeDialog=new t.bkB}}return(x=J).\u0275fac=function(o){return new(o||x)(t.rXU(j.R),t.rXU(S.i))},x.\u0275cmp=t.VBU({type:x,selectors:[["azt-check-vip-account"]],inputs:{classCSSCustom:"classCSSCustom",isShowBadgeVip:"isShowBadgeVip",isAction:"isAction",vipPackageType:"vipPackageType",trackingKey:"trackingKey"},outputs:{checkAction:"checkAction",closeDialog:"closeDialog"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:F,decls:3,vars:7,consts:[["azt-track-service","check-vip-account-o05GWccJtw",3,"click","ngStyle"],[4,"ngIf"],[1,"badge-vip","flex","items-center"],["name","gem","size","12",3,"ngClass"]],template:function(o,_){1&o&&(t.NAR(),t.j41(0,"div",0),t.bIt("click",function(){return _.handlerAction()}),t.SdG(1),t.DNE(2,nt,4,2,"div",1),t.k0s()),2&o&&(t.ZvI("wrap-vip inline-flex items-center w-full ",_.classCSSCustom,""),t.Y8G("ngStyle",t.eq3(5,B,_.isBusinessDomain||!_.isAction||_.vipAccountObj?"1":"0.6")),t.R7$(2),t.Y8G("ngIf",!_.isBusinessDomain&&((null==_.vipAccountObj?null:_.vipAccountObj.isVipStudent)||(null==_.vipAccountObj?null:_.vipAccountObj.isVipTeacher))||_.isShowBadgeVip))},dependencies:[e.MD,e.YU,e.bT,e.B3,a.X1,C.iI,a.YN,X.s,k.flO,k.WGl,R.L,G.Id,U.k],encapsulation:2}),J})()}}]);