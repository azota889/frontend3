"use strict";(self.webpackChunkTeacherMod=self.webpackChunkTeacherMod||[]).push([[502],{74871:(B,R,s)=>{s.d(R,{$:()=>H});var f=s(81519),P=s(54460),j=s(10936),x=s(34514),y=s(47426),h=s(89163),g=s(65162),b=s(15343),O=s(5502),d=s(44155),M=s(99503),E=s(79347),k=s(33887),l=s(36894),m=s(47348),c=s(70050),_=s(9691),v=s(52811),o=s(48891),G=s(46289),w=s(64160);const z=()=>({"mr-2":!0});function e(I,F){1&I&&(o.j41(0,"h3",4),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&I&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_dat_lai_mat_khau")," "))}function S(I,F){1&I&&o.nrm(0,"azt-loading-ui",11)}function L(I,F){if(1&I){const D=o.RV6();o.j41(0,"div")(1,"div",5),o.EFF(2),o.nI1(3,"mytranslate"),o.j41(4,"span",6),o.EFF(5),o.k0s()(),o.j41(6,"div",5),o.EFF(7),o.nI1(8,"mytranslate"),o.k0s(),o.j41(9,"div",7)(10,"button",8),o.bIt("click",function(){o.eBV(D);const T=o.XpG();return o.Njj(T.dialogRef.close())}),o.EFF(11),o.nI1(12,"mytranslate"),o.k0s(),o.j41(13,"button",9),o.bIt("click",function(){o.eBV(D);const T=o.XpG();return o.Njj(T.confirmResetPass())}),o.DNE(14,S,1,0,"azt-loading-ui",10),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()()()}if(2&I){const D=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),o.R7$(3),o.JRh(D.data.name),o.R7$(2),o.SpI(" ",o.bMT(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),o.R7$(4),o.JRh(o.bMT(12,11,"lang_cms_common_close_btn")),o.R7$(2),o.Y8G("disabled",D.statusObj.loading),o.R7$(),o.Y8G("ngIf",D.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}function X(I,F){if(1&I){const D=o.RV6();o.j41(0,"div")(1,"div",12),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"div",13),o.EFF(5),o.nI1(6,"mytranslate"),o.j41(7,"span",6),o.EFF(8),o.k0s()(),o.j41(9,"div",7),o.nrm(10,"input",14),o.j41(11,"button",15),o.bIt("click",function(){o.eBV(D);const T=o.XpG();return o.Njj(T.showCopySuccess())}),o.nrm(12,"lucide-icon",16),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s()(),o.j41(15,"button",17),o.bIt("click",function(){o.eBV(D);const T=o.XpG();return o.Njj(T.dialogRef.close())}),o.EFF(16),o.nI1(17,"mytranslate"),o.k0s()()}if(2&I){const D=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,9,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),o.R7$(3),o.SpI(" ",o.bMT(6,11,"lang_core_dat_lai_mat_khau_note")," "),o.R7$(3),o.JRh(D.data.name),o.R7$(2),o.Y8G("disabled",!0)("value",D.passwordNew),o.R7$(),o.Y8G("cdkCopyToClipboard",D.copyPassword()),o.R7$(),o.Y8G("ngClass",o.lJ4(17,z)),o.R7$(),o.SpI(" ",o.bMT(14,13,"lang_auto_copy")," "),o.R7$(3),o.JRh(o.bMT(17,15,"lang_homework_export_homework_complete"))}}function K(I,F){if(1&I){const D=o.RV6();o.j41(0,"div")(1,"div",18),o.nrm(2,"lucide-icon",19),o.j41(3,"span",20),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s()(),o.j41(6,"div",21)(7,"button",22),o.bIt("click",function(){o.eBV(D);const T=o.XpG();return o.Njj(T.dialogRef.close())}),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()()()}if(2&I){const D=o.XpG();o.R7$(4),o.SpI(" ",o.bMT(5,2,D.errorMessage)," "),o.R7$(4),o.JRh(o.bMT(9,4,"lang_button_close"))}}let H=(()=>{var I;class F extends k._{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.errorMessage="",this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe(T=>{T.success||(this.errorMessage=T.message),this.passwordNew=T.data??"",this.isAccept=!0,this.successStatusObj()})}ngOnInit(){super.ngOnInit()}constructor(A,T,V){super(V,T),this.domainUsersManagementService=A,this.dialogRef=T,this.data=V,this.isAccept=!1,this.passwordNew="",this.errorMessage=""}ngOnDestroy(){super.ngOnDestroy()}}return(I=F).\u0275fac=function(A){return new(A||I)(o.rXU(G.Z),o.rXU(h.CP,8),o.rXU(h.Vh,8))},I.\u0275cmp=o.VBU({type:I,selectors:[["azt-reset-password"]],standalone:!0,features:[o.Jv_([{provide:f.$O,useClass:M.fb,deps:[y.Ju,x.ij]},{provide:f.vq,useFactory:E.fJ,deps:[_.F]}]),o.Vt3,o.aNF],decls:6,vars:4,consts:[[1,"box","p-4"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"click","disabled"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"],[1,"flex","items-center"],["name","octagon-alert",1,"text-danger"],[1,"font-medium","ml-2"],[1,"text-right","mt-3"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","min-width-100",3,"click"]],template:function(A,T){1&A&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,e,3,3,"h3",2)(3,L,17,15,"div",3)(4,X,18,18,"div",3)(5,K,10,6,"div",3),o.k0s()()),2&A&&(o.R7$(2),o.Y8G("ngIf",!T.isAccept),o.R7$(),o.Y8G("ngIf",!T.isAccept),o.R7$(),o.Y8G("ngIf",T.isAccept&&T.passwordNew),o.R7$(),o.Y8G("ngIf",T.isAccept&&!T.passwordNew))},dependencies:[v.R,P.MD,P.YU,P.bT,j.X1,g.iI,j.YN,m.wp,d.s,w.dF,b.flO,b.WGl,c.L,O.Id,l.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),F})()},92866:(B,R,s)=>{s.r(R),s.d(R,{TeacherGroupRoutingModule:()=>gt});var f=s(65162),P=s(1133),j=s(50866),x=s(89121),y=s(76627),h=s(74871),g=s(74151),b=s(59640),O=s(27208),d=s(10936),M=s(89163),E=s(33887),k=s(15766),l=s(2915),m=s(52811),c=s(54460),_=s(47348),v=s(44155),o=s(15343),G=s(70050),w=s(5502),z=s(36894),e=s(48891),S=s(49842),L=s(81587);function X(r,p){1&r&&(e.j41(0,"div",15)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&r&&(e.R7$(2),e.SpI("",e.bMT(3,1,"lang_required_enter_name_group"),"!"))}function K(r,p){1&r&&e.nrm(0,"azt-loading-ui",16)}function H(r,p){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_button_save")))}function I(r,p){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_button_update")))}let F=(()=>{var r;class p extends E._{getErrorType(t,n){return!(!this.form.controls[t]||!this.form.controls[t].errors||!this.form.controls[t].errors?.[n])}confirmAction(){if(this.obj){let t=this.form.getRawValue();this.form.valid?(this.initStatusObj(),this.waitDestroy(this.teacherGroupService.apiTeacherGroupUpdateGroupWithTeamPost({id:this.obj?.id??0,groupName:t.groupName}).subscribe(i=>{1==i.success?(this.btnCloseDialog(i.data?.obj?.id),this.successStatusObj("lang_auto_sua_nhom_thanh_cong",!0)):(this.btnCloseDialog(void 0),this.errorStatusObj(i.message??"",!0))}))):this.stopStatusObj()}else{let t=this.form.getRawValue();this.form.valid?(this.initStatusObj(),this.waitDestroy(this.teacherGroupService.apiTeacherGroupSaveGroupWithTeamPost({groupName:t.groupName}).subscribe(i=>{1==i.success?(this.btnCloseDialog(i.data?.obj?.id),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):(this.btnCloseDialog(void 0),this.errorStatusObj(i.message??"",!0))}))):this.stopStatusObj()}}btnCloseDialog(t){this.dialogRef.close(t)}ngOnInit(){this.obj&&this.form.controls.groupName.setValue(this.obj.name??""),super.ngOnInit()}constructor(t,n,i){super(i,n),this.teacherGroupService=t,this.dialogRef=n,this.data=i,this.obj=i.obj,this.form=new d.gE({groupName:new d.MJ("",{nonNullable:!0,validators:[d.k0.required,k.M.noWhiteSpace]})})}}return(r=p).\u0275fac=function(t){return new(t||r)(e.rXU(S.xr),e.rXU(M.CP,8),e.rXU(M.Vh,8))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-add-group"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:20,consts:[[1,"box"],[3,"keydown.enter","formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-base","font-bold"],[1,"p-3"],[1,"intro"],["for","group-name",1,"form-label","font-medium"],["type","text","id","group-name","id","full-name","formControlName","groupName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-1 font-medium",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_group-PPEkpZ01mmo","type","button",1,"btn","btn-secondary","min-width-100","mr-2",3,"click"],["azt-track-service","add_group-R8ReElN3hUb",1,"btn","btn-primary","min-width-100",3,"click","disabled"],["class","mr-1",4,"ngIf"],[4,"ngIf"],[1,"text-danger","text-xs","mt-1","font-medium"],[1,"mr-1"]],template:function(t,n){1&t&&(e.j41(0,"div",0)(1,"form",1),e.bIt("keydown.enter",function(){return n.confirmAction()}),e.j41(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.nI1(6,"mytranslate"),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.nrm(14,"input",8),e.nI1(15,"mytranslate"),e.k0s(),e.DNE(16,X,4,3,"div",9),e.k0s()()(),e.j41(17,"div",10)(18,"button",11),e.bIt("click",function(){return n.btnCloseDialog(void 0)}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",12),e.bIt("click",function(){return n.confirmAction()}),e.DNE(22,K,1,0,"azt-loading-ui",13)(23,H,3,3,"span",14)(24,I,3,3,"span",14),e.k0s()()()()),2&t&&(e.R7$(),e.Y8G("formGroup",n.form),e.R7$(4),e.SpI(" ",n.obj?e.bMT(7,12,"lang_teacher_group_utilt_add_group_edit_group_teacher"):e.bMT(6,10,"lang_teacher_group_utilt_add_group_add_group_teacher")," "),e.R7$(7),e.JRh(e.bMT(13,14,"lang_teacher_group_utilt_add_group_lable_group")),e.R7$(2),e.FS9("placeholder",e.bMT(15,16,"lang_teacher_group_utilt_add_group_lable_group")),e.R7$(2),e.Y8G("ngIf",n.form.controls.groupName.invalid&&n.form.controls.groupName.dirty),e.R7$(3),e.SpI(" ",e.bMT(20,18,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",n.statusObj.loading||n.form.invalid),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.Y8G("ngIf",!n.obj),e.R7$(),e.Y8G("ngIf",n.obj))},dependencies:[l.U,m.R,c.MD,c.bT,d.X1,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,f.iI,d.YN,_.wp,v.s,o.flO,G.L,w.Id,z.k,L.t],encapsulation:2}),p})();var D=s(11253);const A=()=>({"mr-2 text-danger":!0});function T(r,p){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()),2&r){const a=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,3,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher")," "),e.R7$(3),e.JRh(null==a.data.teacherObj?null:a.data.teacherObj.fullName),e.R7$(),e.SpI(" ",e.bMT(6,5,"lang_teacher_group_utilt_delete_dialog_out_group"),"? ")}}function V(r,p){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"b"),e.EFF(4),e.k0s()()),2&r){const a=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.R7$(3),e.JRh(null==a.data.groupObj?null:a.data.groupObj.name)}}function le(r,p){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"b"),e.EFF(4),e.k0s()()),2&r){const a=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.R7$(3),e.JRh(null==a.data.teacherObj?null:a.data.teacherObj.fullName)}}function ce(r,p){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"b"),e.EFF(4),e.k0s()()),2&r){const a=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher_in_group")," "),e.R7$(3),e.JRh(null==a.data.groupObj?null:a.data.groupObj.name)}}function de(r,p){1&r&&e.nrm(0,"azt-loading-ui",10)}let ee=(()=>{var r;class p extends E._{confirmDelete(){switch(this.initStatusObj(),this.data.type){case"delete_member_in_group":this.waitDestroy(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithGroupPost({groupId:this.data.groupObj?.id??0,teacherTeamId:this.data?.teacherObj?.id??0}).subscribe(i=>{i.success?(this.successStatusObj("lang_auto_xoa_giao_vien_khoi_nhom_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(i.message??"",!0)}));break;case"delete_group":this.waitDestroy(this.teacherGroupService.apiTeacherGroupDeleteGroupWithTeamGet(this.data?.groupObj?.id??0).subscribe(i=>{i.success?(this.successStatusObj("lang_auto_xoa_nhom_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(i.message??"",!0)}));break;case"delete_teacher":this.waitDestroy(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithTeamGet(this.data?.teacherObj?.id??0).subscribe(i=>{1==i.success?(this.successStatusObj("lang_auto_xoa_giao_vien_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(i.message??"",!0)}));break;case"delete_all_teachers_in_group":this.waitDestroy(this.teacherGroupService.apiTeacherGroupDeleteMultipleTeacherWithGroupPost({groupId:this.data?.groupObj?.id??0,teamTeacherIds:this.data.teacherIds??[]}).subscribe(i=>{1==i.success?(this.successStatusObj("lang_auto_xoa_giao_vien_thanh_cong",!0),this.dialogRef.close(this.data)):this.errorStatusObj(i.message??"",!0)}))}}btnCloseDialog(){this.dialogRef.close()}constructor(t,n,i){super(n,t),this.dialogRef=t,this.data=n,this.teacherGroupService=i}}return(r=p).\u0275fac=function(t){return new(t||r)(e.rXU(M.CP,8),e.rXU(M.Vh,8),e.rXU(S.xr))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-delete-teacher-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:17,vars:14,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","trash-2","size","24",3,"ngClass"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_dialog-PC8_endr1kw",1,"btn","w-32","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_dialog-GyDprZ5vvvt",1,"btn","w-32","btn-danger",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(t,n){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.nrm(4,"lucide-icon",4),e.DNE(5,T,7,7,"span",5)(6,V,5,4,"span",5)(7,le,5,4,"span",5)(8,ce,5,4,"span",5),e.k0s()()(),e.j41(9,"div",6)(10,"button",7),e.bIt("click",function(){return n.btnCloseDialog()}),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"button",8),e.bIt("click",function(){return n.confirmDelete()}),e.DNE(14,de,1,0,"azt-loading-ui",9),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(4),e.Y8G("ngClass",e.lJ4(13,A)),e.R7$(),e.Y8G("ngIf","delete_member_in_group"==(null==n.data?null:n.data.type)),e.R7$(),e.Y8G("ngIf","delete_group"==(null==n.data?null:n.data.type)),e.R7$(),e.Y8G("ngIf","delete_teacher"==(null==n.data?null:n.data.type)),e.R7$(),e.Y8G("ngIf","delete_all_teachers_in_group"==(null==n.data?null:n.data.type)),e.R7$(3),e.SpI(" ",e.bMT(12,9,"lang_cms_common_close_btn")," "),e.R7$(2),e.Y8G("disabled",n.statusObj.loading),e.R7$(),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(16,11,"lang_cms_common_confirm_btn")," "))},dependencies:[m.R,c.MD,c.YU,c.bT,d.X1,f.iI,d.YN,_.wp,v.s,o.flO,o.WGl,G.L,w.Id,z.k],encapsulation:2}),p})();var pe=s(11065),te=s(18718),J=s(32099),ne=s(68323),me=s(94743),oe=s(68774),re=s(46899),N=s(17818),Z=s(47712);const Q=()=>({"mr-2":!0});function _e(r,p){if(1&r&&e.nrm(0,"azt-loading-effect",31),2&r){const a=e.XpG();e.Y8G("currentStatusObj",a.statusObj)}}function ue(r,p){if(1&r){const a=e.RV6();e.j41(0,"div",46)(1,"div",47),e.nrm(2,"azt-create-avatar",48),e.j41(3,"button",49),e.bIt("click",function(){const n=e.eBV(a),i=n.$implicit,u=n.index,C=e.XpG(2);return e.Njj(C.deleteTeacherInGroupDialog(i,u))}),e.nrm(4,"lucide-icon",50),e.k0s()(),e.j41(5,"div",51),e.EFF(6),e.k0s()()}if(2&r){const a=p.$implicit;e.R7$(2),e.Y8G("nameCreateAvatar",a.fullName)("size",40),e.R7$(3),e.FS9("matTooltip",a.fullName),e.R7$(),e.SpI(" ",a.fullName," ")}}function ge(r,p){if(1&r&&(e.j41(0,"div",32)(1,"h3",33),e.EFF(2),e.nI1(3,"mytranslate"),e.j41(4,"span",34),e.EFF(5),e.k0s()(),e.j41(6,"div",35)(7,"div",36)(8,"button",37),e.nrm(9,"lucide-icon",38),e.k0s()()()(),e.j41(10,"ng-scrollbar",39)(11,"div",40)(12,"a",41)(13,"div",42),e.nrm(14,"lucide-icon",43),e.k0s(),e.j41(15,"div",44),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.DNE(18,ue,7,4,"div",45),e.k0s()()),2&r){const a=e.XpG(),t=e.sdS(5),n=e.sdS(35);e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_teacher_group_group_member_in_group"),": "),e.R7$(3),e.JRh(null==a.groupObj?null:a.groupObj.name),e.R7$(3),e.Y8G("matMenuTriggerFor",t),e.R7$(4),e.Y8G("matMenuTriggerFor",n),e.R7$(4),e.SpI(" ",e.bMT(17,8,"lang_teacher_group_group_add_member")," "),e.R7$(2),e.Y8G("ngForOf",a.teacherObjsInGroup)}}function he(r,p){if(1&r&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&r){const a=e.XpG().$implicit;e.FS9("matTooltip",a.phone),e.R7$(),e.SpI(" ",a.phone," ")}}function be(r,p){if(1&r&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&r){const a=e.XpG().$implicit;e.FS9("matTooltip",a.email),e.R7$(),e.SpI(" ",a.email," ")}}function fe(r,p){1&r&&e.nrm(0,"azt-loading-ui",61)}function ve(r,p){if(1&r){const a=e.RV6();e.qex(0),e.j41(1,"div",53)(2,"button",54),e.bIt("click",function(){const n=e.eBV(a).$implicit,i=e.XpG(2);return e.Njj(i.addMemberToGroup(n))}),e.nrm(3,"azt-create-avatar",55),e.j41(4,"div",56)(5,"p",57),e.EFF(6),e.k0s(),e.DNE(7,he,2,2,"div",58)(8,be,2,2,"div",58),e.k0s()(),e.DNE(9,fe,1,0,"azt-loading-ui",59),e.k0s(),e.bVm()}if(2&r){let a,t;const n=p.$implicit,i=e.XpG(2);e.R7$(),e.Aen(i.listMemberInGroupIds.hasOwnProperty(null!==(a=null==n?null:n.id)&&void 0!==a?a:0)?"opacity:0.5":""),e.R7$(),e.Aen(i.listMemberInGroupIds.hasOwnProperty(null!==(t=null==n?null:n.id)&&void 0!==t?t:0)?"cursor:default":""),e.R7$(),e.Mz_("matTooltip","id:",n.teacherId,""),e.Y8G("customTooltip",n.teacherId?"id: "+n.teacherId:"")("nameCreateAvatar",n.fullName)("size",30),e.R7$(3),e.SpI(" ",n.fullName," "),e.R7$(),e.Y8G("ngIf",n.phone),e.R7$(),e.Y8G("ngIf",n.email),e.R7$(),e.Y8G("ngIf",i.isLoadingMoreMembers==n.id)}}function Oe(r,p){if(1&r&&(e.j41(0,"div"),e.DNE(1,ve,10,13,"ng-container",52),e.nI1(2,"appFilter"),e.k0s()),2&r){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",e.i5U(2,1,null==a.teacherAndGroupObj?null:a.teacherAndGroupObj.teachers,a.searchContentObj.searchContent))}}function xe(r,p){1&r&&(e.j41(0,"div",62)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_khong_tim_thay")," "))}function Ce(r,p){1&r&&(e.j41(0,"div",62)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_not_data")))}let Me=(()=>{var r;class p extends b.H{onSearchBox(t){this.searchContentObj=t}checkTeacherInGroup(){null!=this.teacherObjsInGroup&&null!=this.teacherAndGroupObj&&this.teacherObjsInGroup.map(n=>n.id).forEach(n=>this.listMemberInGroupIds[n??0]=n??0)}viewDeleteDialog(t){this.sAztDialogService.open(ee,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:t,restoreFocus:!1}).afterClosed().subscribe(i=>{if(i)switch(i.type){case"delete_member_in_group":t.index&&this.teacherObjsInGroup?.splice(t.index,1),this.getGroupPermissionObjs(this.groupObj?.id);break;case"delete_all_teachers_in_group":this.getGroupPermissionObjs(this.groupObj?.id)}})}deleteTeacherInGroupDialog(t,n){this.viewDeleteDialog({teacherObj:t,groupObj:this.groupObj,index:n,type:"delete_member_in_group"})}deleteAllTeacherInGroupDialog(t){let n=[];this.teacherObjsInGroup?.forEach(i=>{this.commonService.isExistInArray(n,i.id)||i.id&&n.push(i.id)}),this.viewDeleteDialog({groupObj:t,teacherIds:n,type:"delete_all_teachers_in_group"})}getGroupPermissionObjs(t){t?(this.initStatusObj(),this.permissionTeamService.apiPermissionTeamGetAllPermissionWithGroupV2Get(t).subscribe(n=>{n.success?(this.teacherObjsInGroup=this.sortService.sortFirstNameStudents(this.commonService.myClone(n?.data?.teacherObjs)??[]),this.checkTeacherInGroup(),this.stopStatusObj()):this.errorStatusObj("lang_auto_tai_du_lieu_khong_thanh_cong",!0)})):this.stopStatusObj()}addMemberToGroup(t){this.isLoadingMoreMembers=t.id,this.teacherGroupService.apiTeacherGroupAddTeacherWithGroupPost({groupId:this.groupObj?.id??0,teacherTeamId:t.id??0}).subscribe(i=>{i.success?(this.teacherObjsInGroup?.push(t),this.checkTeacherInGroup(),this.showSuccessSnack("lang_auto_them_giao_vien_vao_nhom_thanh_cong"),this.isLoadingMoreMembers=!1,this.searchContentObj.searchContent=""):(this.showErrorSnack(i.message??""),this.isLoadingMoreMembers=!1,this.searchContentObj.searchContent="")})}addAllTeacherToGroup(){let t=this.form.getRawValue(),i=(t.listPhone?t.listPhone.toString():"").replace(/\n/g," ").split(" "),u=[];if(i.forEach(C=>{this.commonService.isExistInArray(u,C)||""!=C.trim()&&u.push(C.trim())}),u.length>0){let C={groupId:this.groupObj?.id??0,teacherPhone:u};this.initStatusObj(),this.teacherGroupService.apiTeacherGroupAddTeachersWithGroupPost(C).subscribe($=>{if($.success){let U=$?.data?.countSave?$.data.countSave:0,W=$?.data?.totalTeacher?$.data.totalTeacher:0,ht=this.commonService.myTranslateInstant("lang_auto_them_thanh_cong"),bt=this.commonService.myTranslateInstant("lang_auto_giao_vien_vao_nhom");U===W?this.showSuccessSnack("lang_auto_them_giao_vien_vao_nhom_thanh_cong"):this.commonService.snackSuccess(ht+" "+U+"/"+W+" "+bt+"!"),this.getGroupPermissionObjs(this.groupObj?.id)}else this.errorStatusObj($.message??"",!0)})}}ngOnChanges(){this.checkTeacherInGroup()}ngOnInit(){super.ngOnInit()}constructor(t,n,i,u){super(),this.teacherGroupService=t,this.permissionTeamService=n,this.sortService=i,this.sAztDialogService=u,this.listMemberInGroupIds={},this.searchContentObj=new O.Z,this.form=new d.gE({listPhone:new d.MJ("",{nonNullable:!0,validators:[d.k0.required]})})}}return(r=p).\u0275fac=function(t){return new(t||r)(e.rXU(S.xr),e.rXU(S.km),e.rXU(oe.g),e.rXU(re.i))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-teacher-group-member-in-group-box"]],inputs:{groupObj:"groupObj",teacherAndGroupObj:"teacherAndGroupObj",teacherObjsInGroup:"teacherObjsInGroup"},standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:48,vars:37,consts:[["doneLoading",""],["menuAccountIngroup","matMenu"],["menuAddMultiple","matMenu"],["addMemberMenu","matMenu"],["dataNull",""],[1,"box","p-0","rounded-md","border","border-slate-200/60","dark:border-darkmode-400"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"box","p-2"],["mat-menu-item","",1,"setting_options",2,"min-width","140px",3,"matMenuTriggerFor"],["name","user-plus","size","16",3,"ngClass"],["azt-track-service","member_in_group_box-bnMPdq7F8Ed","mat-menu-item","",1,"setting_options",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","member_in_group_box-sRk-Lz9tah1",1,"search-member","box","p-2",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify"],[1,"text-right"],["azt-track-service","member_in_group_box-QOn42qoolK7",1,"btn","btn-sm","btn-primary",3,"click","disabled"],["name","plus","size","16",3,"ngClass"],["azt-track-service","member_in_group_box-I_mrcakMKa_",1,"search-member","box",3,"click"],[1,"azt-search","w-full","mr-3"],[3,"onSearch","isServerSearch","placeholder"],[1,"dropdown-menu","show","relative",2,"height","220px","overflow","hidden"],["pointerEventsMethod","scrollbar",3,"visibility"],[1,"group-content"],[4,"ngIf","ngIfElse"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],[3,"currentStatusObj"],[1,"flex","items-center","p-3","border-b","border-slate-200/60","dark:border-darkmode-400","text-slate-500",2,"height","50px"],[1,"text-md","font-medium","mr-auto"],[2,"font-weight","bold"],[1,"flex"],[1,"dropdown"],["aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","text-slate-500","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis-vertical","size","20"],["appearance","standard","track","horizontal","trackclass","scrollbar-track","thumbclass","scrollbar-thumb",2,"height","90px"],[1,"flex","p-3"],[1,"w-10","mr-4","cursor-pointer",3,"matMenuTriggerFor"],[1,"w-10","h-10","flex-none","image-fit","bg-slate-100","dark:bg-darkmode-300","flex","items-center","justify-center","rounded-full"],["name","plus","size","20"],[1,"text-xs","text-slate-500","truncate","text-center","mt-2"],["class","w-10 mr-4 cursor-pointer",4,"ngFor","ngForOf"],[1,"w-10","mr-4","cursor-pointer"],[1,"w-10","h-10","flex-none","image-fit","rounded-full"],[3,"nameCreateAvatar","size"],["azt-track-service","member_in_group_box-Jk_LZb7HLml",1,"hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"position","absolute","top","-3px","right","-3px",3,"click"],["name","x","size","14"],[1,"text-xs","text-slate-500","truncate","text-center","mt-2",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"group-item","hover:bg-slate-100","dark:hover:bg-darkmode-400"],["azt-track-service","member_in_group_box-or5qN1fKkGN",1,"group-btn",3,"click"],[3,"matTooltip","customTooltip","nameCreateAvatar","size"],[1,"group-info",2,"width","100%"],[1,"group-name"],["class","w-full truncate text-xs text-slate-500 mt-0.5","style","padding-left: 15px",3,"matTooltip",4,"ngIf"],["class","mr-1",4,"ngIf"],[1,"w-full","truncate","text-xs","text-slate-500","mt-0.5",2,"padding-left","15px",3,"matTooltip"],[1,"mr-1"],[2,"display","flex","justify-content","center","align-items","center"]],template:function(t,n){if(1&t){const i=e.RV6();e.j41(0,"div",5),e.DNE(1,_e,1,1,"azt-loading-effect",6)(2,ge,19,10,"ng-template",null,0,e.C5r),e.k0s(),e.j41(4,"mat-menu",7,1)(6,"div",8)(7,"button",9),e.nrm(8,"lucide-icon",10),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"button",11),e.bIt("click",function(){return e.eBV(i),e.Njj(n.deleteAllTeacherInGroupDialog(n.groupObj))}),e.nrm(12,"lucide-icon",12),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()(),e.j41(15,"mat-menu",null,2)(17,"div",13),e.bIt("click",function(C){return e.eBV(i),e.Njj(C.stopPropagation())}),e.j41(18,"div",14)(19,"p",15),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"form",16),e.nrm(23,"textarea",17),e.k0s()(),e.j41(24,"div",18)(25,"small",19),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.j41(28,"div",20)(29,"button",21),e.bIt("click",function(){return e.eBV(i),e.Njj(n.addAllTeacherToGroup())}),e.nrm(30,"lucide-icon",22),e.j41(31,"span"),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()()()()(),e.j41(34,"mat-menu",null,3)(36,"div",23),e.bIt("click",function(C){return e.eBV(i),e.Njj(C.stopPropagation())}),e.j41(37,"div",24)(38,"azt-search-box",25),e.nI1(39,"mytranslate"),e.bIt("onSearch",function(C){return e.eBV(i),e.Njj(n.onSearchBox(C.searchObj))}),e.k0s()(),e.j41(40,"div",26)(41,"ng-scrollbar",27)(42,"div",28),e.DNE(43,Oe,3,4,"div",29)(44,xe,4,3,"div",30),e.nI1(45,"appFilter"),e.DNE(46,Ce,4,3,"ng-template",null,4,e.C5r),e.k0s()()()()()}if(2&t){const i=e.sdS(3),u=e.sdS(16),C=e.sdS(47);e.R7$(),e.Y8G("ngIf",n.statusObj.loading)("ngIfElse",i),e.R7$(6),e.Y8G("matMenuTriggerFor",u),e.R7$(),e.Y8G("ngClass",e.lJ4(34,Q)),e.R7$(),e.SpI(" ",e.bMT(10,19,"lang_teacher_group_group_more")," "),e.R7$(3),e.Y8G("ngClass",e.lJ4(35,Q)),e.R7$(),e.SpI(" ",e.bMT(14,21,"lang_button_delete_all")," "),e.R7$(7),e.SpI(" ",e.bMT(21,23,"lang_teacher_group_group_list_phone_teacher")," "),e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(4),e.SpI("* ",e.bMT(27,25,"lang_teacher_group_group_note_enter_phone"),"."),e.R7$(3),e.Y8G("disabled",n.form.invalid),e.R7$(),e.Y8G("ngClass",e.lJ4(36,Q)),e.R7$(2),e.JRh(e.bMT(33,27,"lang_button_add")),e.R7$(6),e.Y8G("isServerSearch",!1)("placeholder",e.bMT(39,29,"lang_auto_tim_ten_hoac_sdt")),e.R7$(3),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngIf",null==n.teacherAndGroupObj?null:n.teacherAndGroupObj.teachers)("ngIfElse",C),e.R7$(),e.Y8G("ngIf",0==e.i5U(45,31,null==n.teacherAndGroupObj?null:n.teacherAndGroupObj.teachers,n.searchContentObj.searchContent).length)}},dependencies:[te.K,ne.p,J.W,m.R,c.MD,c.YU,c.Sq,c.bT,d.X1,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,f.iI,d.YN,_.wp,v.s,N.kk,N.fb,N.Cp,Z.oV,o.flO,o.WGl,G.L,_.WL,w.Id,w.Yh,z.k,L.t],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:#354567}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),p})();var Pe=s(7814);const je=(r,p)=>({"flex-gap-3 flex-col items-left":r,"items-center":p});function Te(r,p){if(1&r){const a=e.RV6();e.j41(0,"span",27),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2).$implicit,i=e.XpG(2);return e.Njj(i.toggleAllCheckBoxInGroup(!1,n.groupObj))}),e.j41(1,"span",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_remove_all_classroom")))}function ke(r,p){if(1&r){const a=e.RV6();e.j41(0,"span",29),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2).$implicit,i=e.XpG(2);return e.Njj(i.toggleAllCheckBoxInGroup(!0,n.groupObj))}),e.j41(1,"span",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_select_all_classroom")))}function Ge(r,p){if(1&r){const a=e.RV6();e.j41(0,"div",34)(1,"input",35),e.bIt("change",function(){e.eBV(a);const n=e.XpG(5);return e.Njj(n.clickToPermissionCheckbox())}),e.k0s(),e.j41(2,"label",36),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&r){const a=p.$implicit,t=e.XpG().$implicit;e.R7$(),e.Y8G("id","role_"+t.id+"_"+a.permissionId)("formControl",a.isChecked),e.R7$(),e.Y8G("for","role_"+t.id+"_"+a.permissionId),e.R7$(),e.SpI(" ",e.bMT(4,4,a.permissionKey)," ")}}function De(r,p){if(1&r&&(e.qex(0),e.j41(1,"div",30)(2,"div",31)(3,"a",32),e.EFF(4),e.k0s(),e.DNE(5,Ge,5,6,"div",33),e.k0s()(),e.bVm()),2&r){const a=p.$implicit;e.R7$(),e.Y8G("hidden",!a.isShowClassroom||!a.isShowInFilter),e.R7$(2),e.FS9("matTooltip",a.name),e.R7$(),e.SpI(" ",a.name," "),e.R7$(),e.Y8G("ngForOf",a.permissionFormArray)}}function ye(r,p){if(1&r){const a=e.RV6();e.j41(0,"div",22)(1,"div")(2,"div",15)(3,"span",23),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.collapseByGroupId(n.groupObj))}),e.nrm(4,"lucide-icon",19),e.j41(5,"h2",24),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,Te,4,3,"span",25)(10,ke,4,3,"ng-template",null,2,e.C5r),e.k0s()(),e.j41(12,"div",26),e.DNE(13,De,6,4,"ng-container",20),e.k0s()()}if(2&r){const a=e.sdS(11),t=e.XpG().$implicit;e.R7$(4),e.Y8G("name",t.groupObj.isExpand?"chevron-down":"chevron-right"),e.R7$(2),e.Lme(" ",e.bMT(7,7,t.groupObj.name)," ","("+t.groupObj.totalChecked+"/"+t.groupObj.totalViewClassrooms+" "+e.bMT(8,9,"lang_testbank_test_list_classes")+")"," "),e.R7$(3),e.Y8G("ngIf",t.groupObj.totalChecked==t.groupObj.totalViewClassrooms)("ngIfElse",a),e.R7$(3),e.Y8G("hidden",!t.groupObj.isExpand),e.R7$(),e.Y8G("ngForOf",t.classroomObjs)}}function Ie(r,p){if(1&r&&(e.j41(0,"div"),e.DNE(1,ye,14,11,"div",21),e.k0s()),2&r){const a=p.$implicit;e.R7$(),e.Y8G("ngIf",a.groupObj.isShowGroup)}}function Ee(r,p){if(1&r){const a=e.RV6();e.qex(0),e.j41(1,"div",15)(2,"div",16)(3,"azt-search-box",17),e.nI1(4,"mytranslate"),e.bIt("onSearch",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.searchByName(n.searchObj))}),e.k0s()(),e.j41(5,"span",18),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.collapseAll(!n.isExpandAll))}),e.nrm(6,"lucide-icon",19),e.k0s()(),e.DNE(7,Ie,2,1,"div",20),e.bVm()}if(2&r){const a=e.XpG();e.R7$(3),e.Y8G("isServerSearch",!1)("placeholder",e.bMT(4,4,"lang_testbank_test_list_search_class")),e.R7$(3),e.Y8G("name",a.isExpandAll?"chevrons-down-up":"chevrons-up-down"),e.R7$(),e.Y8G("ngForOf",a.viewClassroomGroupObjs)}}function we(r,p){1&r&&(e.j41(0,"div",37)(1,"span",38),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_not_data")))}function Re(r,p){1&r&&e.nrm(0,"azt-loading-ui",42)}function Ae(r,p){if(1&r){const a=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.resetData())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"button",40),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.savePermissionObjs())}),e.DNE(4,Re,1,0,"azt-loading-ui",41),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()}if(2&r){const a=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,4,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",a.statusObj.loading),e.R7$(),e.Y8G("ngIf",a.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(6,6,"lang_button_save")," ")}}let Se=(()=>{var r;class p extends Pe.W{searchByName(t){this.searchByNameObj=t,this.reCalculateInfo()}resetData(){this.initFormData(),this.showSuccessSnack("lang_team_teacher_cancel_success")}checkAllPermissions(t){this.viewClassroomGroupObjs.forEach(n=>{n.classroomObjs.filter(i=>i.isShowClassroom).forEach(i=>{i.permissionFormArray.forEach(u=>{u.isChecked.setValue(t)})})}),this.reCalculateInfo()}clickToPermissionCheckbox(){this.reCalculateInfo()}savePermissionObjs(){this.initStatusObj();let t=[];this.classroomGroupData.forEach(n=>{n.classroomObjs.forEach(i=>{let u=i.permissionFormArray.filter(C=>C.isChecked.value).map(C=>C.permissionId);t.push({classId:i.id,permissionIds:u})})}),this.groupObj?this.permissionTeamService.apiPermissionTeamUpdateGroupPermissionPost({groupId:this.groupObj?.id??0,classWithPermissions:t}).subscribe(i=>{i.success?this.successStatusObj("lang_auto_cap_nhat_quyen_thanh_cong",!0):this.errorStatusObj("lang_auto_cap_nhat_quyen_khong_thanh_cong",!0)}):this.permissionTeamService.apiPermissionTeamUpdateTeacherPermissionPost({teacherId:this.teacherObj?.id??0,classWithPermissions:t}).subscribe(i=>{i.success?this.successStatusObj("lang_auto_cap_nhat_quyen_thanh_cong",!0):this.errorStatusObj("lang_auto_cap_nhat_quyen_khong_thanh_cong",!0)})}toggleAllCheckBoxInGroup(t,n){let i=this.viewClassroomGroupObjs.find(u=>u.groupObj.id===n.id);i&&(i.classroomObjs.filter(u=>u.isShowClassroom).forEach(u=>{u.permissionFormArray.forEach(C=>{C.isChecked.setValue(t)})}),this.reCalculateInfo())}allowCustomFilter(){return!0}customFilter(t){return!this.isShowClassroomObjsThatHavePermission.value||null!=t.permissionFormArray.find(n=>n.isChecked.value)}reCalculateInfo(){super.calculateClassroomInfo();let t=this.viewClassroomGroupObjs.every(n=>n.classroomObjs.filter(i=>i.isShowClassroom).every(i=>i.permissionFormArray.every(u=>u.isChecked.value)));this.checkAllOrUnCheckAllFormControl.setValue(t),this.viewClassroomGroupObjs.forEach(n=>{n.groupObj.totalChecked=n.classroomObjs.filter(i=>i.isShowClassroom&&i.permissionFormArray.some(u=>u.isChecked.value)).length})}initFormData(){this.classroomGroupData=this.classroomGroupObjs.map(t=>({groupObj:{...t.groupObj,totalChecked:0},isOwned:t.isOwned,classroomObjs:t.classroomObjs.map(n=>({...n,isShowInFilter:!0,permissionFormArray:this.teamPermissionObjs.map(i=>({permissionId:i.id,permissionKey:i.key??"",isChecked:new d.MJ(null!=n.teamPermissions.find(u=>u.id==i.id),{nonNullable:!0})}))}))})),this.permissionFormArray.clear(),this.classroomGroupData.forEach(t=>{t.classroomObjs.forEach(n=>{n.permissionFormArray.forEach(i=>{this.permissionFormArray.push(i.isChecked)})})}),this.totalClassrooms=this.commonService.concatMultipleArray(this.classroomGroupData.map(t=>t.classroomObjs)).length,super.initData(),this.reCalculateInfo()}ngOnChanges(){this.initFormData()}ngOnInit(){this.initFormData()}constructor(t){super(),this.permissionTeamService=t,this.permissionFormArray=new d.Yp([]),this.totalClassrooms=0,this.isShowClassroomObjsThatHavePermission=new d.MJ(!1,{nonNullable:!0}),this.checkAllOrUnCheckAllFormControl=new d.MJ(!1,{nonNullable:!0})}}return(r=p).\u0275fac=function(t){return new(t||r)(e.rXU(S.km))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-group-teacher-classroom-permission-box"]],inputs:{groupObj:"groupObj",teacherObj:"teacherObj",classroomGroupObjs:"classroomGroupObjs",teamPermissionObjs:"teamPermissionObjs"},standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:27,vars:19,consts:[["emptyClassroom",""],["buttonActionTpl",""],["notCheckAll",""],[1,"box","p-0","mt-5","rounded-md","border","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","p-3","border-b","border-slate-200/60","dark:border-darkmode-400","text-slate-500",3,"ngClass"],[1,"text-md","font-medium","mr-auto"],[1,"flex","items-centers","mr-2"],["id","checkbox_role_checkall_or_uncheckall","type","checkbox",1,"show-code","form-check-input",3,"change","formControl"],["for","checkbox_role_checkall_or_uncheckall",1,"form-check-label"],["id","checkbox_role_hiden","type","checkbox",1,"show-code","form-check-input",3,"change","formControl"],["for","checkbox_role_hiden",1,"form-check-label"],[3,"ngTemplateOutlet"],[1,"p-3","flex-1"],[4,"ngIf","ngIfElse"],[1,"mt-5","flex","justify-end"],[1,"flex","items-center"],[1,"w-full"],[3,"onSearch","isServerSearch","placeholder"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["class","azt-group mt-3",4,"ngIf"],[1,"azt-group","mt-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[1,"font-medium","truncate","mr-2"],["azt-track-service","classroom_permission_box-nSh1zRejP","class","clickable",3,"click",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-12","sm:gap-6",3,"hidden"],["azt-track-service","classroom_permission_box-nSh1zRejP",1,"clickable",3,"click"],[1,"link-color"],["azt-track-service","classroom_permission_box-IBbJg8Poos",1,"clickable",3,"click"],[1,"col-span-12","sm:col-span-4","md:col-span-4","2xl:col-span-3","mt-3",3,"hidden"],[1,"file","box","bg-slate-100","dark:bg-darkmode-300","rounded-md","p-3"],[1,"block","font-medium","truncate",3,"matTooltip"],["class","mt-3","style","display: flex; align-items: flex-start",4,"ngFor","ngForOf"],[1,"mt-3",2,"display","flex","align-items","flex-start"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"change","id","formControl"],[1,"form-check-label","ml-0",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],["azt-track-service","classroom_permission_box-4B3pyxVhh08",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","classroom_permission_box-NqO_aRk6DTu",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(t,n){if(1&t){const i=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h3",5),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",6)(6,"input",7),e.bIt("change",function(){return e.eBV(i),e.Njj(n.checkAllPermissions(n.checkAllOrUnCheckAllFormControl.value))}),e.k0s(),e.EFF(7," \xa0 "),e.j41(8,"label",8),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.EFF(11," \xa0\xa0\xa0 "),e.j41(12,"input",9),e.bIt("change",function(){return e.eBV(i),e.Njj(n.clickToPermissionCheckbox())}),e.k0s(),e.EFF(13," \xa0 "),e.j41(14,"label",10),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div"),e.eu8(18,11),e.k0s()(),e.j41(19,"div",12),e.DNE(20,Ee,8,6,"ng-container",13)(21,we,4,3,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(23,"div",14),e.eu8(24,11),e.k0s(),e.DNE(25,Ae,7,8,"ng-template",null,1,e.C5r)}if(2&t){const i=e.sdS(22),u=e.sdS(26);e.R7$(),e.Y8G("ngClass",e.l_i(16,je,n.isMobileDevice,!n.isMobileDevice)),e.R7$(2),e.SpI(" ",e.bMT(4,10,"lang_teacher_group_group_decentralization_in_class")," "),e.R7$(3),e.Y8G("formControl",n.checkAllOrUnCheckAllFormControl),e.R7$(3),e.JRh(e.bMT(10,12,n.checkAllOrUnCheckAllFormControl.value?"lang_teacher_group_uncheck_all_permission":"lang_teacher_group_check_all_permission")),e.R7$(3),e.Y8G("formControl",n.isShowClassroomObjsThatHavePermission),e.R7$(3),e.JRh(e.bMT(16,14,"lang_teacher_group_group_vew_class_have_permission")),e.R7$(3),e.Y8G("ngTemplateOutlet",u),e.R7$(2),e.Y8G("ngIf",n.totalClassrooms>0)("ngIfElse",i),e.R7$(4),e.Y8G("ngTemplateOutlet",u)}},dependencies:[J.W,m.R,c.MD,c.YU,c.Sq,c.bT,c.T3,d.X1,d.Zm,d.BC,d.l_,f.iI,d.YN,_.wp,v.s,Z.oV,o.flO,o.WGl,G.L,w.Id,z.k],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:#354567}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),p})();var ze=s(65728),Fe=s(57786),Be=s(7308),$e=s(47426),q=s(45785);const Ne=["perfectScroll"],Ue=["drawer"],Y=()=>({"mr-2":!0}),Ye=(r,p)=>({"w-85":r,"w-25":p}),Le=r=>({"azt-mobile-draw-left":r}),Ve=r=>({"ml-25":r}),We=r=>({"ml-5":r}),Xe=r=>({height:r}),ae=r=>({"class-active":r}),Ke=()=>({"text-primary rounded-full":!0}),ie=r=>({"mr-2":r}),se=()=>({"mr-2 text-danger":!0}),He=()=>[];function Je(r,p){if(1&r&&e.nrm(0,"azt-loading-effect",15),2&r){const a=e.XpG();e.Y8G("currentStatusObj",a.statusObj)}}function Ze(r,p){if(1&r){const a=e.RV6();e.j41(0,"div",42),e.bIt("click",function(){const n=e.eBV(a).$implicit,i=e.XpG(3);return e.Njj(i.clickGroup(n,!0))}),e.j41(1,"div",43),e.nrm(2,"lucide-icon",44),e.k0s(),e.j41(3,"div",45)(4,"div",46)(5,"div",47),e.EFF(6),e.k0s()()(),e.j41(7,"div",48)(8,"button",49),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())}),e.nrm(9,"lucide-icon",50),e.k0s(),e.j41(10,"mat-menu",null,6)(12,"div",10)(13,"button",51),e.bIt("click",function(){const n=e.eBV(a).$implicit,i=e.XpG(3);return e.Njj(i.deleteGroupDialog(n))}),e.nrm(14,"lucide-icon",52),e.j41(15,"span",53),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"button",54),e.bIt("click",function(){const n=e.eBV(a).$implicit,i=e.XpG(3);return e.Njj(i.editGroup(n))}),e.nrm(19,"lucide-icon",55),e.j41(20,"span"),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()()()()()()}if(2&r){const a=p.$implicit,t=e.sdS(11),n=e.XpG(3);e.Y8G("ngClass",e.eq3(14,ae,a.id==n.idParam&&0==n.typeParam))("id","group_id_"+a.id),e.R7$(2),e.Y8G("ngClass",e.lJ4(16,Ke)),e.R7$(4),e.SpI(" ",a.name," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,ie,n.isMobileDevice))("matMenuTriggerFor",t),e.R7$(6),e.Y8G("ngClass",e.lJ4(19,se)),e.R7$(2),e.JRh(e.bMT(17,10,"lang_button_delete")),e.R7$(3),e.Y8G("ngClass",e.lJ4(20,Y)),e.R7$(2),e.JRh(e.bMT(22,12,"lang_button_edit"))}}function Qe(r,p){1&r&&(e.j41(0,"span",67),e.nI1(1,"mytranslate"),e.nrm(2,"lucide-icon",68),e.k0s()),2&r&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_chua_dang_ky"))}function qe(r,p){if(1&r&&(e.j41(0,"div",69),e.EFF(1),e.k0s()),2&r){const a=e.XpG().$implicit;e.R7$(),e.SpI(" ",a.phone," ")}}function et(r,p){if(1&r&&(e.j41(0,"div",69),e.EFF(1),e.k0s()),2&r){const a=e.XpG().$implicit;e.R7$(),e.SpI(" ",a.email," ")}}function tt(r,p){if(1&r){const a=e.RV6();e.qex(0),e.j41(1,"button",70),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.openDialogResetPass(n))}),e.nrm(2,"lucide-icon",71),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.bVm()}2&r&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,Y)),e.R7$(2),e.JRh(e.bMT(5,2,"lang_core_dat_lai_mat_khau")))}function nt(r,p){if(1&r){const a=e.RV6();e.j41(0,"div",56),e.bIt("click",function(){const n=e.eBV(a).$implicit,i=e.XpG(3);return e.Njj(i.clickUser(n,!0))}),e.j41(1,"div",57),e.nrm(2,"azt-create-avatar",58),e.k0s(),e.j41(3,"div",59)(4,"div",60)(5,"span",61),e.EFF(6),e.k0s(),e.DNE(7,Qe,3,3,"span",62),e.k0s(),e.DNE(8,qe,2,1,"div",63)(9,et,2,1,"div",63),e.k0s(),e.j41(10,"div",48)(11,"button",64),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())}),e.nrm(12,"lucide-icon",50),e.k0s(),e.j41(13,"mat-menu",null,6)(15,"div",10)(16,"button",65),e.bIt("click",function(){const n=e.eBV(a).$implicit,i=e.XpG(3);return e.Njj(i.editTeacher(n))}),e.nrm(17,"lucide-icon",55),e.j41(18,"span"),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()(),e.j41(21,"button",66),e.bIt("click",function(){const n=e.eBV(a).$implicit,i=e.XpG(3);return e.Njj(i.deleteTeacherDialog(n))}),e.nrm(22,"lucide-icon",52),e.j41(23,"span",53),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()(),e.DNE(26,tt,6,5,"ng-container",37),e.nI1(27,"allowFeatureBusinessForUser"),e.nI1(28,"async"),e.k0s()()()()}if(2&r){const a=p.$implicit,t=e.sdS(14),n=e.XpG(3);e.Y8G("ngClass",e.eq3(26,ae,a.id==n.idParam&&1==n.typeParam))("id","teacher_id_"+a.id),e.R7$(2),e.Y8G("customTooltip","id: "+a.teacherId)("nameCreateAvatar",a.fullName)("size",40),e.R7$(3),e.FS9("matTooltip",a.fullName),e.R7$(),e.JRh(a.fullName),e.R7$(),e.Y8G("ngIf",null==a.teacherId),e.R7$(),e.Y8G("ngIf",a.phone),e.R7$(),e.Y8G("ngIf",a.email),e.R7$(2),e.Y8G("ngClass",e.eq3(28,ie,n.isMobileDevice))("matMenuTriggerFor",t),e.R7$(6),e.Y8G("ngClass",e.lJ4(30,Y)),e.R7$(2),e.JRh(e.bMT(20,17,"lang_button_edit")),e.R7$(3),e.Y8G("ngClass",e.lJ4(31,se)),e.R7$(2),e.JRh(e.bMT(25,19,"lang_button_delete")),e.R7$(2),e.Y8G("ngIf",a.teacherId&&e.bMT(28,24,e.i5U(27,21,"training_center_create_teacher_account",!1)))}}function ot(r,p){if(1&r&&(e.j41(0,"div",39),e.DNE(1,Ze,23,21,"div",40),e.nI1(2,"appFilter"),e.DNE(3,nt,29,32,"div",41),e.nI1(4,"appFilter"),e.k0s()),2&r){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.i5U(2,2,null==a.teacherAndGroupObj?null:a.teacherAndGroupObj.groups,a.searchContentObj.searchContent)),e.R7$(2),e.Y8G("ngForOf",e.i5U(4,5,null==a.teacherAndGroupObj?null:a.teacherAndGroupObj.teachers,a.searchContentObj.searchContent))}}function rt(r,p){1&r&&(e.j41(0,"div",72)(1,"span",73),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_teacher_group_group_note_not_found_group_and_teacher")))}function at(r,p){if(1&r){const a=e.RV6();e.j41(0,"button",74),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.sAztMatDrawerService.openDrawer())}),e.nrm(2,"lucide-icon",75),e.k0s()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_mo_menu"))}function it(r,p){if(1&r){const a=e.RV6();e.j41(0,"button",76),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.sAztMatDrawerService.closeDrawer())}),e.nrm(2,"lucide-icon",77),e.k0s()}2&r&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_dong_menu"))}function st(r,p){1&r&&(e.j41(0,"div",78)(1,"div",79),e.nrm(2,"azt-svg-icon",80),e.j41(3,"div",81),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&r&&(e.R7$(2),e.Y8G("size",82),e.R7$(2),e.JRh(e.bMT(5,2,"lang_not_data")))}function lt(r,p){if(1&r&&(e.j41(0,"div",82),e.nrm(1,"azt-loading-effect",15),e.k0s()),2&r){const a=e.XpG(2);e.R7$(),e.Y8G("currentStatusObj",a.statusObj)}}function ct(r,p){if(1&r&&e.nrm(0,"app-teacher-group-member-in-group-box",85),2&r){const a=e.XpG(3);e.Y8G("groupObj",a.groupObj)("teacherAndGroupObj",a.teacherAndGroupObj)("teacherObjsInGroup",a.teacherObjsInGroup)}}function dt(r,p){if(1&r&&e.nrm(0,"app-group-teacher-classroom-permission-box",86),2&r){const a=e.XpG(3);e.Y8G("groupObj",a.groupObj)("teacherObj",a.teacherObj)("classroomGroupData",e.lJ4(5,He))("classroomGroupObjs",a.classroomGroupObjs)("teamPermissionObjs",a.teamPermissionObjs)}}function pt(r,p){if(1&r&&(e.qex(0),e.DNE(1,ct,1,3,"app-teacher-group-member-in-group-box",83)(2,dt,1,6,"app-group-teacher-classroom-permission-box",84),e.bVm()),2&r){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",0==a.typeParam),e.R7$(),e.Y8G("ngIf",null!=a.classroomGroupObjs&&null!=a.teamPermissionObjs)}}function mt(r,p){if(1&r){const a=e.RV6();e.j41(0,"div",16)(1,"mat-drawer-container",17)(2,"mat-drawer",18,2),e.bIt("openedChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.sAztMatDrawerService.openedChange(n))}),e.j41(4,"div",19)(5,"div",20)(6,"div",21)(7,"div",22)(8,"azt-search-box",23),e.nI1(9,"mytranslate"),e.bIt("onSearch",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.onSearchBox(n.searchObj))}),e.k0s()(),e.j41(10,"button",24,3),e.nrm(12,"lucide-icon",25),e.k0s()(),e.j41(13,"div",26)(14,"ng-scrollbar",27,4),e.DNE(16,ot,5,8,"div",28)(17,rt,4,3,"ng-template",null,5,e.C5r),e.k0s()()()()(),e.j41(19,"mat-drawer-content",29)(20,"div",30)(21,"div",31),e.DNE(22,at,3,3,"button",32)(23,it,3,3,"button",33),e.k0s(),e.j41(24,"div",34),e.DNE(25,st,6,4,"div",35)(26,lt,2,1,"div",36)(27,pt,3,2,"ng-container",37),e.k0s()()()()(),e.nrm(28,"azt-scroll-to-top-bottom",38)}if(2&r){const a=e.sdS(18),t=e.XpG(),n=e.sdS(5);e.R7$(),e.Y8G("hasBackdrop",t.sAztMatDrawerService.hasBackdrop),e.R7$(),e.FS9("opened",t.sAztMatDrawerService.isOpenSideNav?"true":"false"),e.Y8G("ngClass",e.l_i(22,Ye,t.isMobileDevice,!t.isMobileDevice))("mode",t.sAztMatDrawerService.mode),e.R7$(2),e.Y8G("ngClass",e.eq3(25,Le,t.isMobileDevice)),e.R7$(4),e.Y8G("isServerSearch",!1)("placeholder",e.bMT(9,20,"lang_auto_tim_ten_hoac_sdt")),e.R7$(2),e.Y8G("matMenuTriggerFor",n),e.R7$(4),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngIf",(null==t.teacherAndGroupObj||null==t.teacherAndGroupObj.groups?null:t.teacherAndGroupObj.groups.length)||(null==t.teacherAndGroupObj||null==t.teacherAndGroupObj.teachers?null:t.teacherAndGroupObj.teachers.length))("ngIfElse",a),e.R7$(3),e.Y8G("ngClass",e.eq3(27,Ve,!t.isMobileDevice&&t.sAztMatDrawerService.isOpenSideNav)),e.R7$(),e.Y8G("ngClass",e.eq3(29,We,!t.isMobileDevice&&t.sAztMatDrawerService.isOpenSideNav))("ngStyle",e.eq3(31,Xe,t.isLoadingData?"100vh":"auto")),e.R7$(2),e.Y8G("ngIf",!t.sAztMatDrawerService.isOpenSideNav||t.isMobileDevice),e.R7$(),e.Y8G("ngIf",t.sAztMatDrawerService.isOpenSideNav&&!t.isMobileDevice),e.R7$(2),e.Y8G("ngIf",!t.isLoadingData&&!(null!=t.teacherAndGroupObj&&null!=t.teacherAndGroupObj.groups&&t.teacherAndGroupObj.groups.length||null!=t.teacherAndGroupObj&&null!=t.teacherAndGroupObj.teachers&&t.teacherAndGroupObj.teachers.length)),e.R7$(),e.Y8G("ngIf",t.isLoadingData),e.R7$(),e.Y8G("ngIf",!t.isLoadingData&&((null==t.teacherAndGroupObj||null==t.teacherAndGroupObj.groups?null:t.teacherAndGroupObj.groups.length)||(null==t.teacherAndGroupObj||null==t.teacherAndGroupObj.teachers?null:t.teacherAndGroupObj.teachers.length))),e.R7$(),e.Y8G("isScrollToTop",!0)}}const ut=[{path:"",component:x.z,canActivate:[j.t],children:[{path:"",component:(()=>{var r;class p extends b.H{set drawer(t){this.sAztMatDrawerService.resizeDrawerHeight(!1,t)}onSearchBox(t){this.searchContentObj=t}openDialogResetPass(t){this.sAztDialogService.open(h.$,{width:"500px",restoreFocus:!1,data:{id:t.teacherId,name:t.fullName}}).afterClosed().subscribe(n=>{})}addTeacher(){this.dataAddTeacherDialog={type:"add_teacher"},this.controlDialogAddTeacher()}editTeacher(t){this.dataAddTeacherDialog={teacherObj:t,type:"edit_teacher"},this.controlDialogAddTeacher()}editGroup(t){this.dataAddGroupDialog={groupObj:t,type:"edit_group"},this.controlDialogAddGroup()}addGroup(){this.dataAddGroupDialog={type:"add_group"},this.controlDialogAddGroup()}controlDialogAddGroup(){this.sAztDialogService.open(F,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{obj:this.dataAddGroupDialog?.groupObj},restoreFocus:!1}).afterClosed().subscribe(n=>{null!=n&&(this.initStatusObj(),this.getTeacherAndGroupObjs(i=>{if(i)this.errorStatusObj(i,!0);else{this.stopStatusObj();var u=n?this.teacherAndGroupObj?.groups?.find(C=>C.id==n):void 0;u?this.clickGroup(u,!1):this.checkUseDefaultForRouter()}}))})}controlDialogAddTeacher(){this.sAztDialogService.open(D.v,{width:"600px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{obj:this.dataAddTeacherDialog?.teacherObj,type:""},restoreFocus:!1}).afterClosed().subscribe(n=>{void 0!==n&&this.getDataAgain(n)})}clickGroup(t,n){this.isMobileDevice&&this.sAztMatDrawerService.closeDrawer(),this.groupObj=t,this.teacherObj=void 0,t.id==this.idParam?this.getDataWhenRouterChanged():this.commonService.myNavigationWithQueryString("/admin/teacher-group/0/"+t.id,`?backto=${this.backToLink}&showDialogAddUser=${this.showDialogAddUser}`),this.willScrollToCurrentElement=!n,window.scrollTo(0,0)}clickUser(t,n){this.isMobileDevice&&this.sAztMatDrawerService.closeDrawer(),this.groupObj=void 0,this.teacherObj=t,t.id==this.idParam?this.getDataWhenRouterChanged():this.commonService.myNavigationWithQueryString("/admin/teacher-group/1/"+t.id,`?backto=${this.backToLink}&showDialogAddUser=${this.showDialogAddUser}`),this.willScrollToCurrentElement=!n,window.scrollTo(0,0)}getGroupPermissionObjs(t){t?(this.isLoadingData=!0,this.permissionTeamService.apiPermissionTeamGetAllPermissionWithGroupV2Get(t).subscribe(n=>{n.success?(this.teacherObjsInGroup=this.sortService.sortFirstNameStudents(this.commonService.myClone(n?.data?.teacherObjs)??[]),this.classroomGroupObjs=n.data?.classroomGroupObjs??[],this.isLoadingData=!1):(this.showErrorSnack("lang_auto_tai_du_lieu_khong_thanh_cong"),this.isLoadingData=!1)})):this.isLoadingData=!1}getTeacherPermissionObjs(t){t?(this.isLoadingData=!0,this.permissionTeamService.apiPermissionTeamGetAllPermissionWithMemberV2Get(t).subscribe(n=>{n.success?(this.classroomGroupObjs=n.data?.classroomGroupObjs??[],this.isLoadingData=!1):(this.showErrorSnack("lang_auto_tai_du_lieu_khong_thanh_cong"),this.isLoadingData=!1)})):this.isLoadingData=!1}scrollToCurrentElement(){this.willScrollToCurrentElement&&(this.willScrollToCurrentElement=!1,setTimeout(()=>{let t;t=0==this.typeParam?document.getElementById("group_id_"+(this.groupObj?.id??0))?.offsetTop:document.getElementById("teacher_id_"+(this.teacherObj?.id??0))?.offsetTop,null!=t&&this.perfectScroll?.scrollTo({top:t,duration:0})},0))}viewDeleteDialog(t){this.sAztDialogService.open(ee,{width:"500px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:t,restoreFocus:!1}).afterClosed().subscribe(i=>{if(i)switch(i.type){case"delete_group":this.teacherAndGroupObj?.groups&&(this.teacherAndGroupObj.groups=this.teacherAndGroupObj?.groups?.filter(u=>u.id!=t.groupObj?.id)),this.checkUseDefaultForRouter();break;case"delete_teacher":this.teacherAndGroupObj?.teachers&&(this.teacherAndGroupObj.teachers=this.teacherAndGroupObj?.teachers?.filter(u=>u.id!=t.teacherObj?.id)),this.checkUseDefaultForRouter()}})}deleteTeacherDialog(t){this.viewDeleteDialog({teacherObj:t,index:0,type:"delete_teacher"})}deleteGroupDialog(t){this.viewDeleteDialog({groupObj:t,index:0,type:"delete_group"})}checkUseDefaultForRouter(){if(0==this.typeParam){var t=this.teacherAndGroupObj?.groups?.find(C=>C.id==this.idParam);if(t)return void this.clickGroup(t,!1);if(n=(this.teacherAndGroupObj?.groups?.length??0)>0?this.teacherAndGroupObj?.groups?.[0]:void 0)return void this.clickGroup(n,!1);if(i=(this.teacherAndGroupObj?.teachers?.length??0)>0?this.teacherAndGroupObj?.teachers?.[0]:void 0)return void this.clickUser(i,!1)}else{var i,n,u=this.teacherAndGroupObj?.teachers?.find(U=>U.id==this.idParam);if(u)return void this.clickUser(u,!1);if(i=(this.teacherAndGroupObj?.teachers?.length??0)>0?this.teacherAndGroupObj?.teachers?.[0]:void 0)return void this.clickUser(i,!1);if(n=(this.teacherAndGroupObj?.groups?.length??0)>0?this.teacherAndGroupObj?.groups?.[0]:void 0)return void this.clickGroup(n,!1)}}getDataWhenRouterChanged(){this.stopStatusObj(),0==this.typeParam?this.getGroupPermissionObjs(this.idParam):this.getTeacherPermissionObjs(this.idParam)}getDataAgain(t){this.initStatusObj(),this.getTeacherAndGroupObjs(n=>{if(n)this.errorStatusObj(n,!0);else{this.stopStatusObj();var i=t?this.teacherAndGroupObj?.teachers?.find(u=>u.id==t):void 0;i?this.clickUser(i,!1):this.checkUseDefaultForRouter()}})}getPermissionObjs(t){this.permissionTeamService.apiPermissionTeamGetAllPermissionsGet(1).subscribe(i=>{i.success?(this.teamPermissionObjs=i.data?.objs??[],t("")):t(i.message??"")})}getTeacherAndGroupObjs(t){this.waitDestroy(this.teacherGroupService.apiTeacherGroupGetObjsGet().subscribe(n=>{n.success?(this.teacherAndGroupObj=n.data,null!=this.teacherAndGroupObj?.teachers&&(this.teacherAndGroupObj.teachers=this.sortService.sortFirstNameStudents(this.teacherAndGroupObj.teachers)),t("")):t(n.message??"")}))}getInitData(t){this.getPermissionObjs(n=>{n?t(n):this.getTeacherAndGroupObjs(i=>{i?t(i):(this.checkUseDefaultForRouter(),t(""))})})}listenRouterChange(){this.initStatusObj(),this.getInitData(t=>{t?(this.errorStatusObj(t,!0),this.isLoadingData=!1):(this.stopStatusObj(),this.waitDestroy((0,y.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.typeParam=Number(this.commonService.getMyParam(this.activeRoute,"type")),this.idParam=Number(this.commonService.getMyParam(this.activeRoute,"id")),0==this.idParam?this.checkUseDefaultForRouter():this.getDataWhenRouterChanged()})))})}ngAfterViewChecked(){this.scrollToCurrentElement()}ngOnInit(){this.backToLink=this.getMyQueryParam("backto")??"/admin/dashboard",this.showDialogAddUser=Number(this.getMyQueryParam("showDialogAddUser")??0),this.showDialogAddUser&&this.addTeacher(),this.listenRouterChange(),this.mobileWebviewService.sendSimpleMessage("OPEN_TEAM"),this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),super.ngOnInit(),this.aztTeacherGroupService.getCurrentMessage().subscribe(()=>{this.getDataAgain(void 0)})}constructor(t,n,i,u,C,$,U,W){super(),this.activeRoute=t,this.teacherGroupService=n,this.permissionTeamService=i,this.sortService=u,this.sAztDialogService=C,this.aztTeacherGroupService=$,this.mobileWebviewService=U,this.sAztMatDrawerService=W,this.isLoadingData=!1,this.typeParam=0,this.idParam=0,this.willScrollToCurrentElement=!1,this.backToLink="",this.showDialogAddUser=0,this.searchContentObj=new O.Z}}return(r=p).\u0275fac=function(t){return new(t||r)(e.rXU(f.nX),e.rXU(S.xr),e.rXU(S.km),e.rXU(oe.g),e.rXU(re.i),e.rXU(Fe.x),e.rXU(Be.f),e.rXU(g.n))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-group-teacher"]],viewQuery:function(t,n){if(1&t&&(e.GBs(Ne,5),e.GBs(Ue,5)),2&t){let i;e.mGM(i=e.lsd())&&(n.perfectScroll=i.first),e.mGM(i=e.lsd())&&(n.drawer=i.first)}},standalone:!0,features:[e.Jv_([g.n]),e.Vt3,e.aNF],decls:15,vars:13,consts:[["doneLoading",""],["menuAddToList","matMenu"],["drawer",""],["menuAdd","matMenuTrigger"],["perfectScroll",""],["blockElse",""],["menu","matMenu"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"box","p-2"],["azt-track-service","group-XHDOGn28VM","mat-menu-item","",1,"setting_options",3,"click"],["name","user-plus","size","16",3,"ngClass"],["azt-track-service","group-ayk1_tKu56","mat-menu-item","",1,"setting_options",3,"click"],["name","plus","size","16",3,"ngClass"],[3,"currentStatusObj"],[1,"azt-result-list","mb-5"],[1,"azt-drawer-container","mt-5",3,"hasBackdrop"],[1,"azt-draw-left-container",3,"openedChange","ngClass","mode","opened"],[1,"azt-draw-left",3,"ngClass"],[1,"box"],[1,"flex","text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400","p-2"],[1,"azt-search","w-full","mr-3"],[3,"onSearch","isServerSearch","placeholder"],[1,"btn","btn-sm","btn-secondary","px-2",3,"matMenuTriggerFor"],["name","plus","size","20"],[1,"pb-3","scroll-menu-test",2,"height","calc(80vh - 35px)"],["track","vertical","pointerEventsMethod","scrollbar",3,"visibility"],["class","p-3",4,"ngIf","ngIfElse"],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass","ngStyle"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","group-JqjKKxVz7O","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","group-zQLSni7Q98","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"relative",2,"min-height","calc(80vh - 35px)"],["class","h-full flex justify-center items-center",4,"ngIf"],["class","azt-overlay-div bg-slate-100 dark:bg-darkmode-300","style","width: calc(100% - 1.25rem)",4,"ngIf"],[4,"ngIf"],[3,"isScrollToTop"],[1,"p-3"],["azt-track-service","group-aL4FZ3_znO","class","hover:bg-slate-100 dark:hover:bg-darkmode-400 cursor-pointer relative rounded flex items-center p-2",3,"ngClass","id","click",4,"ngFor","ngForOf"],["azt-track-service","group-FrBmXZUTAs","class","hover:bg-slate-100 dark:hover:bg-darkmode-400 cursor-pointer rounded relative flex items-center p-2",3,"ngClass","id","click",4,"ngFor","ngForOf"],["azt-track-service","group-aL4FZ3_znO",1,"hover:bg-slate-100","dark:hover:bg-darkmode-400","cursor-pointer","relative","rounded","flex","items-center","p-2",3,"click","ngClass","id"],[1,"w-10","h-10","rounded-full","border","border-slate-200","dark:border-darkmode-400","image-fit","lg:mr-1"],["name","users","size","20",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)",3,"ngClass"],[1,"ml-2","overflow-hidden"],[1,"flex","items-center"],[1,"font-medium"],[1,"dropdown","ml-auto",2,"height","20px"],["azt-track-service","group-F9M-n71miv","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle",3,"click","ngClass","matMenuTriggerFor"],["name","ellipsis-vertical","size","20"],["azt-track-service","group-iDfmTwqQG2","matRipple","",1,"btn","btn-outline-danger","border-0","shadow-none","flex","w-full",2,"justify-content","flex-start",3,"click"],["name","trash-2","size","16",3,"ngClass"],[1,"text-danger"],["azt-track-service","group-pIZFU0lQ4u","matRipple","",1,"btn","btn-outline-primary","border-0","shadow-none","flex","w-full","mt-1",2,"justify-content","flex-start",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","group-FrBmXZUTAs",1,"hover:bg-slate-100","dark:hover:bg-darkmode-400","cursor-pointer","rounded","relative","flex","items-center","p-2",3,"click","ngClass","id"],[1,"flex-none","image-fit","ml-1"],[3,"customTooltip","nameCreateAvatar","size"],[1,"ml-2","overflow-hidden","pt-2",2,"width","100%"],[1,"flex","items-center","font-medium"],[1,"truncate",2,"max-width","90%",3,"matTooltip"],["class","text-pending mx-1",3,"matTooltip",4,"ngIf"],["class","w-full truncate text-xs text-slate-500 mt-0.5",4,"ngIf"],["azt-track-service","group-c3Ji8EP4Sa","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle",3,"click","ngClass","matMenuTriggerFor"],["azt-track-service","group-5EPWWhb4Qz","matRipple","",1,"btn","btn-outline-primary","border-0","shadow-none","flex","w-full",2,"justify-content","flex-start",3,"click"],["azt-track-service","group-AcnlOWj5ZR","matRipple","",1,"btn","btn-outline-danger","border-0","shadow-none","flex","w-full",2,"justify-content","flex-start",3,"click"],[1,"text-pending","mx-1",3,"matTooltip"],["name","square-check-big","size","16"],[1,"w-full","truncate","text-xs","text-slate-500","mt-0.5"],["matRipple","",1,"btn","btn-outline-secondary","border-0","shadow-none","flex","w-full",2,"justify-content","flex-start",3,"click"],["name","undo-2","size","18",3,"ngClass"],[1,"text-center","p-3"],[1,"note-text"],["azt-track-service","group-JqjKKxVz7O",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-open","size","16"],["azt-track-service","group-zQLSni7Q98",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-close","size","16"],[1,"h-full","flex","justify-center","items-center"],[1,"text-center"],["type","inbox-empty",3,"size"],[1,"note-text","mt-3","mb-3"],[1,"azt-overlay-div","bg-slate-100","dark:bg-darkmode-300",2,"width","calc(100% - 1.25rem)"],[3,"groupObj","teacherAndGroupObj","teacherObjsInGroup",4,"ngIf"],[3,"groupObj","teacherObj","classroomGroupData","classroomGroupObjs","teamPermissionObjs",4,"ngIf"],[3,"groupObj","teacherAndGroupObj","teacherObjsInGroup"],[3,"groupObj","teacherObj","classroomGroupData","classroomGroupObjs","teamPermissionObjs"]],template:function(t,n){if(1&t){const i=e.RV6();e.j41(0,"teacher-layout",7),e.DNE(1,Je,1,1,"azt-loading-effect",8)(2,mt,29,33,"ng-template",null,0,e.C5r),e.k0s(),e.j41(4,"mat-menu",9,1)(6,"div",10)(7,"button",11),e.bIt("click",function(){return e.eBV(i),e.Njj(n.addTeacher())}),e.nrm(8,"lucide-icon",12),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"button",13),e.bIt("click",function(){return e.eBV(i),e.Njj(n.addGroup())}),e.nrm(12,"lucide-icon",14),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()}if(2&t){const i=e.sdS(3);e.Y8G("headerBackToLink",n.backToLink),e.R7$(),e.Y8G("ngIf",n.statusObj.loading)("ngIfElse",i),e.R7$(7),e.Y8G("ngClass",e.lJ4(11,Y)),e.R7$(),e.SpI(" ",e.bMT(10,7,"lang_teacher_group_group_add_student")," "),e.R7$(3),e.Y8G("ngClass",e.lJ4(12,Y)),e.R7$(),e.SpI(" ",e.bMT(14,9,"lang_teacher_group_group_add_group_teacher")," ")}},dependencies:[pe.Q,te.K,J.W,ne.p,me.m,Me,Se,ze.I,c.MD,c.YU,c.Sq,c.bT,c.B3,c.Jj,d.X1,f.iI,d.YN,_.wp,v.s,N.kk,N.fb,N.Cp,$e.r6,q.qe,q.$C,q.$l,Z.oV,o.flO,o.WGl,G.L,_.WL,_.bj,w.Id,w.Yh,z.k],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:#354567}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),p})()}]}];let gt=(()=>{var r;class p{}return(r=p).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[f.iI.forChild(ut),f.iI,P.XE]}),p})()},99503:(B,R,s)=>{s.d(R,{fb:()=>d,ij:()=>g});var f=s(81519),P=s(48891),j=s(20381),x=s.n(j),y=s(44172);const h=x()||j,g=new P.nKC("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function b(){return{useUtc:!1}}});function O(M,E){const k=Array(M);for(let l=0;l<M;l++)k[l]=E(l);return k}let d=(()=>{var M;class E extends f.$O{constructor(l){super(),this._options=l,this.commonService=(0,P.WQX)(y.R),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},h.locale(),this.setLocale(this.commonService.getCurrentLang()||h.locale())}setLocale(l){super.setLocale(l);const m=h.localeData(l);this._localeData={firstDayOfWeek:m.firstDayOfWeek(),longMonths:m.months(),shortMonths:m.monthsShort(),dates:O(31,c=>this.createDate(2017,0,c+1).format("D")),longDaysOfWeek:m.weekdays(),shortDaysOfWeek:m.weekdaysShort(),narrowDaysOfWeek:m.weekdaysMin()}}getYear(l){return this.clone(l).year()}getMonth(l){return this.clone(l).month()}getDate(l){return this.clone(l).date()}getDayOfWeek(l){return this.clone(l).day()}getMonthNames(l){return"long"===l?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(l){return"long"===l?this._localeData.longDaysOfWeek:"short"===l?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(l){return this.clone(l).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(l){return this.clone(l).daysInMonth()}clone(l){return l.clone().locale(this.locale)}createDate(l,m,c){if(m<0||m>11)throw Error(`Invalid month index "${m}". Month index has to be between 0 and 11.`);if(c<1)throw Error(`Invalid date "${c}". Date has to be greater than 0.`);const _=this._createMoment({year:l,month:m,date:c}).locale(this.locale);if(!_.isValid())throw Error(`Invalid date "${c}" for month with index "${m}".`);return _}today(){return this._createMoment().locale(this.locale)}parse(l,m){return l&&"string"==typeof l?this._createMoment(l,m,this.locale):l?this._createMoment(l).locale(this.locale):null}format(l,m){if(l=this.clone(l),!this.isValid(l))throw Error("MomentDateAdapter: Cannot format invalid date.");return l.format(m)}addCalendarYears(l,m){return this.clone(l).add({years:m})}addCalendarMonths(l,m){return this.clone(l).add({months:m})}addCalendarDays(l,m){return this.clone(l).add({days:m})}toIso8601(l){return this.clone(l).format()}deserialize(l){let m;if(l instanceof Date)m=this._createMoment(l).locale(this.locale);else if(this.isDateInstance(l))return this.clone(l);if("string"==typeof l){if(!l)return null;m=this._createMoment(l,h.ISO_8601).locale(this.locale)}return m&&this.isValid(m)?this._createMoment(m).locale(this.locale):super.deserialize(l)}isDateInstance(l){return h.isMoment(l)}isValid(l){return this.clone(l).isValid()}invalid(){return h.invalid()}getHour(l){return l.hours()}getMinute(l){return l.minutes()}getSecond(l){return l.seconds()}setHour(l,m){l.hours(m)}setMinute(l,m){l.minutes(m)}setSecond(l,m){l.seconds(m)}_createMoment(l,m,c){const{strict:_,useUtc:v}=this._options||{};return v?h.utc(l,m,c,_):h(l,m,c,_)}}return(M=E).\u0275fac=function(l){return new(l||M)(P.KVO(g,8))},M.\u0275prov=P.jDH({token:M,factory:M.\u0275fac}),E})()},81587:(B,R,s)=>{s.d(R,{t:()=>j});var f=s(48891),P=s(10936);let j=(()=>{var x;class y{set disabledControl(g){const b=g?"disable":"enable";this.ngControl?.control?.[b]()}constructor(g){this.ngControl=g}}return(x=y).\u0275fac=function(g){return new(g||x)(f.rXU(P.vO))},x.\u0275dir=f.FsC({type:x,selectors:[["","formControlName",""],["","formControl","","disabledControl",""]],inputs:{disabledControl:"disabledControl"},standalone:!0}),y})()},34068:(B,R,s)=>{s.d(R,{F:()=>P});var f=s(48891);let P=(()=>{var j;class x{constructor(){this.fileDrop=new f.bkB,this.preventBodyDrop=!0,this.active=!1}onDrop(h){h.preventDefault(),this.active=!1;const{dataTransfer:g}=h;if(g?.items){const b=[];for(let O=0;O<g.items.length;O++)"file"===g.items[O].kind&&g.items[O].getAsFile()&&b.push(g.items[O].getAsFile());g.items.clear(),Array.isArray(b)&&this.fileDrop.emit(this.removeNullFile(b))}else{const b=g?.files;g?.clearData(),b&&this.fileDrop.emit(Array.from(b))}}removeNullFile(h){for(var g=[],b=0;b<h.length;b++)h[b]&&g.push(h[b]);return g}onDragOver(h){h.stopPropagation(),h.preventDefault(),this.active=!0}onDragLeave(h){this.active=!1}onBodyDragOver(h){this.preventBodyDrop&&(h.preventDefault(),h.stopPropagation())}onBodyDrop(h){this.preventBodyDrop&&h.preventDefault()}}return(j=x).\u0275fac=function(h){return new(h||j)},j.\u0275dir=f.FsC({type:j,selectors:[["","appDropZone",""]],hostVars:2,hostBindings:function(h,g){1&h&&f.bIt("drop",function(O){return g.onDrop(O)})("dragover",function(O){return g.onDragOver(O)})("dragleave",function(O){return g.onDragLeave(O)})("dragover",function(O){return g.onBodyDragOver(O)},!1,f.N_X)("drop",function(O){return g.onBodyDrop(O)},!1,f.N_X),2&h&&f.AVh("drop-zone-active",g.active)},inputs:{preventBodyDrop:"preventBodyDrop"},outputs:{fileDrop:"appDropZone"},standalone:!0}),x})()},74151:(B,R,s)=>{s.d(R,{n:()=>j});var f=s(48891),P=s(44172);let j=(()=>{var x;class y{resizeDrawerHeight(g,b){if(this.autoResizeHeight=g,this.drawer=b,this.drawer&&this.autoResizeHeight){let O=()=>{let E=document.querySelector(".azt-drawer-content"),k=document.querySelector(".azt-draw-left");if(k&&k instanceof HTMLElement&&E&&E instanceof HTMLElement){let l=E;l.style.minHeight=this.isOpenSideNav?k.clientHeight+10+"px":"auto"}},d=new ResizeObserver(E=>{O()}),M=document.querySelector(".azt-draw-left");M&&d.observe(M),O()}}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}toggleDrawer(){this.drawer?.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openedChange(g){this.isOpenSideNav=g,this.resizeDrawerHeight(this.autoResizeHeight)}changeToMobileMode(g){g?(this.mode="over",this.hasBackdrop=!0):(this.mode="side",this.hasBackdrop=!1)}constructor(g){this.commonService=g,this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.autoResizeHeight=!1}}return(x=y).\u0275fac=function(g){return new(g||x)(f.KVO(P.R))},x.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:null}),y})()},2915:(B,R,s)=>{s.d(R,{U:()=>m});var f=s(59640),P=s(54460),j=s(10936),x=s(65162),y=s(44155),h=s(15343),g=s(70050),b=s(5502),O=s(36894),d=s(48891),M=s(89163);const E=["aztDialogContentBox"],k=["*"],l=(c,_)=>({"width.px":c,"height.%":100,"--scrollbar-size":_});let m=(()=>{var c;class _ extends f.H{checkHeightOfElement(){if(!this.aztDialogContentBox)return;var o=this.aztDialogContentBox.nativeElement.querySelector("."+this.contentBoxClassName);if(!o)return;let G=Math.round(window.innerHeight*this.defaultHeight/100),w=o.getBoundingClientRect().height+1,z=!(w<G),e=(w<G?w:G)+"px",S="72vh";z!=this.isScroll&&(this.isScroll=z),this.aztDialogContentBox.nativeElement.style.height!=e&&(this.aztDialogContentBox.nativeElement.style.height=e),this.aztDialogContentBox.nativeElement.style.maxHeight!=S&&(S=e),this.minHeight&&(this.aztDialogContentBox.nativeElement.style.minHeight=this.minHeight)}ngAfterViewChecked(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.checkHeightOfElement()},0)})}constructor(o){super(),this.ngZone=o,this.defaultHeight=72,this.defaultWidth=0,this.minHeight=void 0,this.isScroll=!1,this.contentBoxClassName="azt-mat-dialog-content-box"}}return(c=_).\u0275fac=function(o){return new(o||c)(d.rXU(d.SKi))},c.\u0275cmp=d.VBU({type:c,selectors:[["azt-mat-dialog-content"]],viewQuery:function(o,G){if(1&o&&d.GBs(E,5),2&o){let w;d.mGM(w=d.lsd())&&(G.aztDialogContentBox=w.first)}},inputs:{defaultHeight:"defaultHeight",defaultWidth:"defaultWidth",minHeight:"minHeight"},standalone:!0,features:[d.Vt3,d.aNF],ngContentSelectors:k,decls:5,vars:7,consts:[["aztDialogContentBox",""],["scrollViewport","","pointerEventsMethod","scrollbar",3,"visibility","ngStyle"]],template:function(o,G){1&o&&(d.NAR(),d.j41(0,"mat-dialog-content",null,0)(2,"ng-scrollbar",1)(3,"div"),d.SdG(4),d.k0s()()()),2&o&&(d.R7$(2),d.Y8G("visibility","hover")("ngStyle",d.l_i(4,l,G.defaultWidth||"auto",G.isScroll?"5px":"0")),d.R7$(),d.HbH(G.contentBoxClassName))},dependencies:[P.MD,P.B3,j.X1,x.iI,j.YN,y.s,M.Yi,h.flO,g.L,b.Id,b.Yh,b.Gl,O.k],encapsulation:2}),_})()},65728:(B,R,s)=>{s.d(R,{I:()=>l});var f=s(59640),P=s(54460),j=s(10936),x=s(65162),y=s(44155),h=s(15343),g=s(70050),b=s(5502),O=s(36894),d=s(48891);const M=()=>({"text-white":!0});function E(m,c){1&m&&d.nrm(0,"lucide-icon",3),2&m&&d.Y8G("ngClass",d.lJ4(1,M))}function k(m,c){1&m&&d.nrm(0,"lucide-icon",4),2&m&&d.Y8G("ngClass",d.lJ4(1,M))}let l=(()=>{var m;class c extends f.H{constructor(){super(...arguments),this.isScrollToTop=!1}scrollTo(){this.isScrollToTop?window.scrollTo(0,0):window.scrollTo(0,document.body.scrollHeight)}ngOnInit(){super.ngOnInit()}}return(m=c).\u0275fac=(()=>{let _;return function(o){return(_||(_=d.xGo(m)))(o||m)}})(),m.\u0275cmp=d.VBU({type:m,selectors:[["azt-scroll-to-top-bottom"]],inputs:{isScrollToTop:"isScrollToTop"},standalone:!0,features:[d.Vt3,d.aNF],decls:3,vars:2,consts:[["azt-track-service","azt-scroll-to-top-bottom-DbRV8ySsXT1",1,"toolBarMobile","clickable",3,"click"],["name","chevrons-up","size","24",3,"ngClass",4,"ngIf"],["name","chevrons-down","size","24",3,"ngClass",4,"ngIf"],["name","chevrons-up","size","24",3,"ngClass"],["name","chevrons-down","size","24",3,"ngClass"]],template:function(v,o){1&v&&(d.j41(0,"div",0),d.bIt("click",function(){return o.scrollTo()}),d.DNE(1,E,1,2,"lucide-icon",1)(2,k,1,2,"lucide-icon",2),d.k0s()),2&v&&(d.R7$(),d.Y8G("ngIf",o.isScrollToTop),d.R7$(),d.Y8G("ngIf",!o.isScrollToTop))},dependencies:[P.MD,P.YU,P.bT,j.X1,x.iI,j.YN,y.s,h.flO,h.WGl,g.L,b.Id,O.k],styles:[".toolBarMobile[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;z-index:100;margin:0 40px 25px;padding:5px;background:#b5b5b587;border-radius:3px}"]}),c})()},7814:(B,R,s)=>{s.d(R,{W:()=>E});var f=s(48891),P=s(59640),j=s(27208),x=s(54460),y=s(10936),h=s(65162),g=s(44155),b=s(15343),O=s(70050),d=s(5502),M=s(36894);let E=(()=>{var k;class l extends P.H{allowCustomFilter(){return!1}customFilter(c){return!1}searchByName(c){this.searchByNameObj=c,this.calculateClassroomInfo()}collapseAll(c){this.viewClassroomGroupObjs.map(_=>_.groupObj.isExpand=c),this.calculateClassroomInfo()}collapseByGroupId(c){let _=this.viewClassroomGroupObjs.find(v=>v.groupObj.id==c.id);_&&(_.groupObj.isExpand=!_.groupObj.isExpand),this.calculateClassroomInfo()}clickToClassroomEvent(c){this.clickToClassroomEmitter.emit(c)}calculateClassroomInfo(){this.doFilterData()}doFilterData(){const c=this.commonService.convertVietnameseToEnglish(this.searchByNameObj.searchContent).toLowerCase().trim(),_=""==c;if(_&&!this.allowCustomFilter())return this.viewClassroomGroupObjs.forEach(v=>{v.groupObj.totalViewClassrooms=v.classroomObjs.length,v.groupObj.isShowGroup=!0,v.classroomObjs.map(o=>o.isShowClassroom=!0)}),void this.checkIsExpandAll();this.viewClassroomGroupObjs.forEach(v=>{v.classroomObjs.forEach(o=>{let G=_||this.checkMatchByGroupOrClassroomName(c,v.groupObj.name??"",o.name),w=!this.allowCustomFilter()||this.customFilter(o);o.isShowClassroom=G&&w}),v.groupObj.totalViewClassrooms=v.classroomObjs.filter(o=>o.isShowClassroom).length,v.groupObj.isShowGroup=v.groupObj.totalViewClassrooms>0}),this.checkIsExpandAll()}checkIsExpandAll(){let c=this.viewClassroomGroupObjs.filter(_=>_.groupObj.isShowGroup);this.isExpandAll=c.length==c.filter(_=>_.groupObj.isExpand).length}checkMatchByGroupOrClassroomName(c,_,v){c=this.commonService.removeMultipleSpace(this.commonService.convertVietnameseToEnglish(c).toLowerCase().trim());let o=(_=this.commonService.removeMultipleSpace(this.commonService.convertVietnameseToEnglish(_).toLowerCase().trim()))+" "+(v=this.commonService.removeMultipleSpace(this.commonService.convertVietnameseToEnglish(v).toLowerCase().trim())),G=c.split(" ");for(var w of G)if(!o.includes(w))return!1;return!0}initData(){if(this.classroomGroupData.forEach(c=>{c.groupObj.name=this.commonService.myTranslateInstant(c.groupObj.name)??"",c.classroomObjs.map(_=>_.name=this.commonService.myTranslateInstant(_.name)??"")}),this.viewClassroomGroupObjs=this.classroomGroupData.map(c=>({groupObj:{...c.groupObj,isShowGroup:!0,isExpand:this.isExpandAll,lastMatchName:"",totalViewClassrooms:0},isOwned:c.isOwned,classroomObjs:c.classroomObjs.map(_=>({..._,isShowClassroom:!0}))})),this.removeFreeDomClassroom){let c=this.viewClassroomGroupObjs.find(_=>_.groupObj.id<=0);c&&(c.classroomObjs=c?.classroomObjs.filter(_=>_.id>=0)),this.viewClassroomGroupObjs=this.viewClassroomGroupObjs.filter(_=>_.groupObj.id>0||_.groupObj.id<=0&&_.classroomObjs.length>0)}this.calculateClassroomInfo()}ngOnInit(){super.ngOnInit(),this.initData()}constructor(){super(),this.isExpandAll=!0,this.clickToClassroomEmitter=new f.bkB,this.classroomGridCss="col-span-4 md:col-span-2 2lg:col-span-2",this.removeFreeDomClassroom=!0,this.viewClassroomGroupObjs=[],this.searchByNameObj=new j.Z}}return(k=l).\u0275fac=function(c){return new(c||k)},k.\u0275cmp=f.VBU({type:k,selectors:[["azt-base-list-classroom-view"]],inputs:{classroomGroupData:"classroomGroupData",isExpandAll:"isExpandAll"},outputs:{clickToClassroomEmitter:"clickToClassroomEmitter"},standalone:!0,features:[f.Vt3,f.aNF],decls:0,vars:0,template:function(c,_){},dependencies:[x.MD,y.X1,h.iI,y.YN,g.s,b.flO,O.L,d.Id,M.k],encapsulation:2}),l})()}}]);