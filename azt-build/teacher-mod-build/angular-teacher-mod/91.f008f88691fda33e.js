"use strict";(self.webpackChunkTeacherMod=self.webpackChunkTeacherMod||[]).push([[91],{15452:(A,p,e)=>{e.d(p,{C:()=>t});var m=e(48891);let t=(()=>{var r;class s{startProcessLayout(){this.onElementLoaded(n=>{if(!n)return;const a=this.el.nativeElement,i=Array.from(a.children);let u=1,l=i.map(o=>this.getChildrenWidthOfElement(o));[2,4].forEach(o=>{this.isLayout(n.width,l,o)&&(u=o)}),a.classList.remove("row"),i.forEach(o=>{o.classList.remove("col-sm-12"),o.classList.remove("col-md-6")}),a.classList.add("layout"),a.classList.add("layout-"+u)})}isLayout(n,a,i){let u=Math.floor(n/i);for(let l of a)if(l+s.PADDING_ITEM>u)return!1;return!0}onElementLoaded(n,a=0){if(this.haveDestroyComponent||a>=10)return n(void 0);let i=this.getWidthHeightOfElement(this.el.nativeElement);if(i.width>0&&i.height)return n(i);this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.onElementLoaded(n,a+1)},100)})}getWidthHeightOfElement(n){return n.getBoundingClientRect()}getChildrenWidthOfElement(n){let a=0;return Array.from(n.children).forEach(i=>a+=i.getBoundingClientRect().width),a}ngOnDestroy(){this.haveDestroyComponent=!0}ngOnChanges(n){n.answerSizeManager&&n.answerSizeManager.currentValue!==n.answerSizeManager.previousValue&&n.answerSizeManager.currentValue>=1&&this.startProcessLayout()}constructor(n){this.el=n,this.answerSizeManager=0,this.ngZone=(0,m.WQX)(m.SKi),this.haveDestroyComponent=!1,this.startProcessLayout()}}return(r=s).PADDING_ITEM=40,r.\u0275fac=function(n){return new(n||r)(m.rXU(m.aKT))},r.\u0275dir=m.FsC({type:r,selectors:[["","answerSizeManager",""]],inputs:{answerSizeManager:"answerSizeManager"},standalone:!0,features:[m.OA$]}),s})()},46434:(A,p,e)=>{e.d(p,{N:()=>r});var m=e(48891);let t=(()=>{var s;class _{constructor(){this.observer=new IntersectionObserver(a=>{a.forEach(i=>{const u=i.target;i.isIntersecting?(this.reUpdateHeightAttribute(u),u.setAttribute("start_loading","true")):u.setAttribute("start_loading","false")})})}reUpdateHeightAttribute(a){const i=a.getBoundingClientRect();i.height>0&&a.setAttribute("data-current-height",i.height+"px")}observe(a){this.observer.observe(a)}}return(s=_).\u0275fac=function(a){return new(a||s)},s.\u0275prov=m.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),_})(),r=(()=>{var s;class _{constructor(a,i){this.injector=a,this.el=i;const u=this.el.nativeElement;this.injector.get(t).observe(u)}}return(s=_).\u0275fac=function(a){return new(a||s)(m.rXU(m.zZn),m.rXU(m.aKT))},s.\u0275dir=m.FsC({type:s,selectors:[["","load_effect_lazy",""]],standalone:!0}),_})()},7858:(A,p,e)=>{e.d(p,{J:()=>m});class m{get status(){return this.currentStatus}get msg(){return this.currentMessage}setStatus(r){this.currentStatus=!0,this.currentMessage=r}stopStatus(){this.currentStatus=!1,this.currentMessage=void 0}}},87242:(A,p,e)=>{e.d(p,{I:()=>m});class m{constructor(){this.answerLabelsMockup={},this.showEssayMark=!0}}},69248:(A,p,e)=>{e.d(p,{I:()=>_});var m=e(99763),t=e(65080),r=e(63055),s=e(12194);class _ extends s._{constructor(a,i,u,l){super(),this.sAztCommonCdnService=a,this.commonService=i,this.callBack=u,this.callbackFall=l}render(a,i,u,l){if(a.indexOf("@[]")<0)return l&&l(),a;let h,o=/@\[\]\{[^@]+\}@\[\]/g,c=a,d=new Map;for(;null!==(h=o.exec(a));){let C=h[0],P=C.split("@[]")[1],x=this.commonService.willDeleteParseJson(P);if(null==x)continue;let f=x.link,S=t.P.generateIdRequired(10);c=c.replace(C,`<div id='${S}' class='img-docx skeleton-box-loading' style='width: ${x.data.width*this.ratioImage}px;height: ${x.data.height*this.ratioImage}px'></div>`),d.has(f)?d.get(f)?.push({id:S,data:x.data}):d.set(f,[{id:S,data:x.data}])}return this.startLoadImage(d).then(()=>{l&&l()}).catch(C=>{this.callbackFall&&this.callbackFall(C)}),c}startLoadImage(a){return new Promise((i,u)=>{var l=0;a.size>0?a.forEach((o,c)=>{this.loadImage(c,this.sAztCommonCdnService).then(d=>{if(this.processImageQuestion(d,o,u),this.loadingManager.delete(d.id),this.callBack)for(let h of o)this.callBack(h.id,h.renderStr);++l===a.size&&i()}).catch(()=>{const d=c.split("/");var h=this.commonService.myTranslateInstant("lang_testbank_render_cant_download_the_image")??"";u(new m.J("LOAD_IMAGE",[d[d.length-1]],h))})}):i()})}processImageQuestion(a,i,u){i.forEach(l=>{try{const o=document.createElement("canvas");l.data.width=-1===l.data.width?a.width:l.data.width,l.data.height=-1===l.data.height?a.height:l.data.height,o.width=l.data.width,o.height=l.data.height,o.getContext("2d")?.drawImage(a,l.data.x,l.data.y,l.data.width,l.data.height,0,0,o.width,o.height);let d=this.isCropImage?r.Iz.cropCanvas(o):o;d=this.isCanvasEmpty(d)?o:d,l.renderStr=l.data.heightPt&&l.data.widthPt?`<img id='${l.id}' class='img-docx' alt='error...' src='${d.toDataURL()}' style='width: ${l.data.widthPt}pt;height: ${l.data.heightPt}pt'>`:`<img id='${l.id}' class='img-docx' alt='error...' src='${d.toDataURL()}' style='width: ${d.width*this.ratioImage}px;height: auto'>`}catch{const c=a.src;return void u(new m.J("CROP_IMAGE",[c[c.length-1]],"Kh\xf4ng c\u1eaft \u0111\u01b0\u1ee3c n\u1ed9i dung trong h\xecnh \u1ea3nh"))}})}isCanvasEmpty(a){const i=document.createElement("canvas");return i.width=a.width,i.height=a.height,a.toDataURL()===i.toDataURL()}}},12194:(A,p,e)=>{e.d(p,{_:()=>s});var m=e(56201),t=e(65080),r=e(63055);class s{constructor(){this.isCropImage=!0,this.loadingManager=new Map,this.ratioImage=.65}setCallback(n){}setApiCache(n){}setLoadingManager(n){this.loadingManager=n}loadImage(n,a){return new Promise((i,u)=>{let l=t.P.generateIdRequired(10);this.loadingManager.set(l,n),(0,m.qO)(n,a).then(o=>{i(o),this.loadingManager.delete(l)}).catch(()=>{this.loadingManager.delete(l),u(new Error)})})}loadImageToBase64(n,a){return new Promise((i,u)=>{const l=new Image;l.crossOrigin="anonymous",l.setAttribute("count","1");let o=t.P.generateIdRequired(10);this.loadingManager.set(o,n),l.onload=()=>{const c=document.createElement("canvas");c.width=l.width,c.height=l.height,c.getContext("2d")?.drawImage(l,0,0,l.width,l.height,0,0,c.width,c.height);const h=this.isCropImage?r.Iz.cropCanvas(c):c;let C=`<img id='${o}' class='img-docx' alt='error...' src='${h.toDataURL()}' style='width: ${h.width*this.ratioImage}px;height: auto'>`;i(C),this.loadingManager.delete(o)},l.onerror=()=>{this.loadingManager.delete(o);const c=l.getAttribute("count");c&&1==Number(c)?(l.src=a.getMyCdn(n),l.setAttribute("count","2")):c&&Number(c)<5?(l.setAttribute("count",c+1),l.src=a.getMyCdn(n)+"?t="+(new Date).getTime()):u(new Error)},l.src=a.getMyCdn(n)})}}},60995:(A,p,e)=>{e.d(p,{O:()=>s});var m=e(48891),t=e(50830),r=e(21164);let s=(()=>{var _;class n{setOcrData(i){this.dataOcrResponse=i}getOcrDataResponse(){return this.dataOcrResponse}setMode(i){this.browserStorageService.saveSimpleStorage("__editor:mode_open",i)}getMode(){var i=this.browserStorageService.getSimpleStorage("__editor:mode_open")||"editor";return this.browserStorageService.removeSimpleStorage("__editor:mode_open"),i}redirectToConfig(i){this.data.homework&&i.showHomework(),(this.data.exam||this.data.examOffline)&&i.showExam()}setFileProcess(i){this.file=i}getFirstFile(){let i=this.file;return this.file=void 0,i}setOutputData(i){this.data=i}getOutputData(){return this.data}setMarkDetails(i){this.markDetails=i}getMarkDetails(){return this.markDetails}setMatrixData(i,u){u?this.matrix=i:this.browserStorageService.saveSimpleStorage("__editor:matrix-data",JSON.stringify(i))}getMatrixData(){var i=this.browserStorageService.getSimpleStorage("__editor:matrix-data");return this.browserStorageService.removeSimpleStorage("__editor:matrix-data"),i?this.commonService.castJsonToObj(i):this.matrix}constructor(i,u){this.browserStorageService=i,this.commonService=u,this.data={},this.markDetails=[]}}return(_=n).\u0275fac=function(i){return new(i||_)(m.KVO(t.z),m.KVO(r.R))},_.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),n})()},27525:(A,p,e)=>{e.d(p,{n:()=>m});class m{constructor(r,s,_,n){this.tasks=new Array,this.queues=new Array,this.isRunning=!1,this.allTasks=0,this.wrapCounter=0,this.wrapCounterDone=0,this.countTaskRootDone=0,this.limitOneProcess=r,this.resultCommonTemp={datas:[],errs:[]},this.actionLogItem=s,this.delayTime=_||1e3,this.endWithError=n??!1}addTask(r,s,_,n){if(this.isRunning)return;var a=_||[];const i=this.queues.length;this.allTasks++,this.queues.push({task:()=>new Promise(l=>{this.wrapCounter++,s.call(r,...a).then(o=>{this.wrapCounterDone++,this.callLog(n),l({status:!0,value:o,index:i})}).catch(o=>{this.wrapCounterDone++,this.callLog(n),l({status:!1,error:o,index:i})})}),name:n})}callLog(r){this.actionLogItem&&this.allTasks>0&&this.actionLogItem.function.call({},this.wrapCounterDone,this.allTasks,...this.actionLogItem.params?this.actionLogItem.params:[],r)}start(){return new Promise(r=>{0===this.queues.length&&r({datas:[],errs:[]}),this.resultCommonTemp={datas:[],errs:[]};for(let s=0;s<this.limitOneProcess;s++){const _=this.queues.shift();if(!_)break;this.tasks.push(_)}this.countTaskRootDone=0,this.isRunning=!0,this.runner(r)})}checker(r,s){this.countTaskRootDone++,r.status&&r.value?this.resultCommonTemp.datas.push({index:r.index,value:r.value}):r.error&&this.resultCommonTemp.errs.push({index:r.index,value:r.error}),this.resultCommonTemp.errs.length>0&&this.endWithError&&(this.isRunning=!1,s(this.makeResultObj())),this.countTaskRootDone===this.allTasks&&(this.isRunning=!1,s(this.makeResultObj())),this.nextItem(s)}makeResultObj(){return{datas:this.resultCommonTemp.datas.sort(function(r,s){return r.index-s.index}).map(r=>r.value),errs:this.resultCommonTemp.errs.sort(function(r,s){return r.index-s.index}).map(r=>r.value)}}nextItem(r){const s=this.queues.shift();s&&s.task.call(this).then(_=>this.checker(_,r))}runner(r){this.tasks.length>0?this.tasks.forEach(s=>{s.task.call(this).then(_=>this.checker(_,r))}):(this.isRunning=!1,r(this.makeResultObj()))}}},18884:(A,p,e)=>{e.d(p,{c:()=>u});var m=e(73014),t=e(27691),r=e(27525),s=e(48891),_=e(21164),n=e(11601),a=e(9146);const i=e(4060);let u=(()=>{var l;class o{constructor(d,h,C){this.commonService=d,this.sAztCommonCdnService=h,this.apiUploadService=C,this.dataRaws=[],this.stringFirstOld=["zCv:"],this.stringFirst="zCo:"}convertBase64OfMathJaxToCdnUrl(d){return new Promise(h=>{var C=this.getValueContentQuestion(d.questionContent??""),P=this.getValueContentQuestion(d.answerConfig??""),x=d.answerMedia??"",f=this.removeBase64MathJaxInQuestionContent(d.questionText??"");if(0===C.length||0===P.length)return void h(d);let S=this.encodeContent(C[0].content),M=[];P.forEach((g,I)=>{M.push({i:I,d:this.encodeContent(g.content)})});let O=this.encodeContent(x);var w=0;let D=[];for(let g=0;g<S.raws.length;g++)S.raws[g].i=w,w++,D.push(S.raws[g]);for(let g=0;g<O.raws.length;g++)O.raws[g].i=w,w++,D.push(O.raws[g]);M.forEach(g=>{for(let I=0;I<g.d.raws.length;I++)g.d.raws[I].i=w,w++,D.push(g.d.raws[I])}),D.length>0?this.uploadRawContent(D.map(g=>g.l)).then(g=>{S.raws.forEach(I=>{let T=this.stringFirst+btoa(JSON.stringify({l:g,i:I.i}));C[0].content=this.commonService.replaceAll(C[0].content,I.l,T)??""}),O.raws.forEach(I=>{let T=this.stringFirst+btoa(JSON.stringify({l:g,i:I.i}));x=this.commonService.replaceAll(x,I.l,T)??""}),M.forEach(I=>{I.d.raws.forEach(T=>{let z=this.stringFirst+btoa(JSON.stringify({l:g,i:T.i}));P[I.i].content=this.commonService.replaceAll(P[I.i].content,T.l,z)??""})}),d.questionContent=JSON.stringify(C),d.answerConfig=JSON.stringify(P),d.answerMedia=x,d.questionText=f,h(d)}).catch(()=>{h(d)}):h(d)})}decodeMathJaxCodeToCdnUrl(d){return new Promise(h=>{const C=new r.n(10);if(C.addTask(this,()=>new Promise(P=>{this.decodeContent(d.content??"").then(x=>{d.content=x,P(!0)}).catch(()=>{P(!1)})})),C.addTask(this,()=>new Promise(P=>{this.decodeContent(d.help??"").then(x=>{d.help=x,P(!0)}).catch(()=>{P(!1)})})),d.answers)for(let P=0;P<d.answers.length;P++)C.addTask(this,()=>new Promise(x=>{d.answers&&this.decodeContent(d.answers[P].content??"").then(f=>{d.answers&&(d.answers[P].content=f),x(!0)}).catch(()=>{x(!1)})}));C.start().then(()=>{h()})})}getValueContentQuestion(d){return this.commonService.castJsonToObj(d)??[]}getAllMatchWithContent(d){let C,h=[];for(;null!==(C=o.searchPattern.exec(d));)h.includes(C[0])||h.push(C[0]);return h}getRawContent(d,h){return d=this.sAztCommonCdnService.getMyCdn(d),new Promise((C,P)=>{const x=this.dataRaws.findIndex(f=>f.l===d);-1===x?fetch(d).then(f=>f.blob()).then(f=>f.arrayBuffer()).then(f=>{const S=i.inflate(f),M=this.commonService.castJsonToObj((new TextDecoder).decode(S));this.dataRaws.push({l:d,d:M??[]}),M&&M[h]?C(M[h]):P(new Error("Not found index"))}).catch(()=>{P(new Error("Exception at feed link"))}):this.dataRaws[x].d&&this.dataRaws[x].d[h]?C(this.dataRaws[x].d[h]):P(new Error("Not found index"))})}uploadRawContent(d){return new Promise((h,C)=>{const P=JSON.stringify(d),x=(new TextEncoder).encode(P),f=i.deflate(x),S=new Blob([f],{type:"application/octet-stream"}),M=new File([S],"question_save_mathtype.gz",{type:"application/octet-stream"});this.apiUploadService.uploadToCdnQuestionRawMathTypeData(M).subscribe(O=>{O.type!=t.hv.UploadProgress&&(1==O.success&&O.data?h(O.data.url??""):C(new Error("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi[SPLIT_PARAM]"+O.message)))})})}removeBase64MathJaxInQuestionContent(d){return this.encodeContent(d).raws.forEach(C=>{d=this.commonService.replaceAll(d,C.l,"")??""}),d}encodeContent(d){let h=this.getAllMatchWithContent(d),C=[];for(let P=0;P<h.length;P++){let f=h[P].replace(o.searchPattern,"$1");f.startsWith(this.stringFirst)||C.push({l:f,i:C.length})}return{content:d,raws:C}}decodeContent(d){var h=this;return(0,m.A)(function*(){let C=h.getAllMatchWithContent(d);for(let P=0;P<C.length;P++){const x=C[P];let f=x.replace(o.searchPattern,"$1");for(let S=0;S<h.stringFirstOld.length;S++)if(f.startsWith(h.stringFirstOld[S])){d=h.commonService.replaceAll(d,x,"")??"";continue}if(f.startsWith(h.stringFirst)){let S=h.commonService.castJsonToObj(atob(f.replace(h.stringFirst,"")));if(S){let M=yield h.getRawContent(S.l,S.i);d=h.commonService.replaceAll(d,f,M)??""}}}return d})()}}return(l=o).searchPattern=/data-azt-math-raw=[\\"']+([^"']+)["']/g,l.\u0275fac=function(d){return new(d||l)(s.KVO(_.R),s.KVO(n.c),s.KVO(a.T))},l.\u0275prov=s.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),o})()},2568:(A,p,e)=>{e.d(p,{l:()=>x});var m=e(54460),t=e(10936),r=e(65162),s=e(44327),_=e(96639),n=e(55887),a=e(88023),i=e(15343),u=e(5502),l=e(44155),o=e(48891);function c(f,S){if(1&f&&(o.qex(0),o.EFF(1),o.nI1(2,"mytranslate"),o.bVm()),2&f){const M=o.XpG(2);o.R7$(),o.Lme(" ",o.bMT(2,2,"lang_auto_dap_an"),": ",M.questionObj.answerResult.length?M.questionObj.answerResult.join(" | "):""," ")}}function d(f,S){if(1&f&&(o.qex(0),o.j41(1,"span",5),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.bVm()),2&f){const M=S.$implicit,O=o.XpG(3);o.R7$(2),o.Lme("",M.alpha?M.alpha.toLowerCase():M.key?M.key.toLowerCase():M,") - ",o.bMT(3,2,O.questionObj.answerResult.includes(M.alpha?M.alpha:M.key?M.key:"")?"lang_auto_dung":"lang_auto_sai"),"\xa0")}}function h(f,S){if(1&f&&(o.qex(0),o.EFF(1),o.nI1(2,"mytranslate"),o.DNE(3,d,4,4,"ng-container",4),o.bVm()),2&f){const M=o.XpG(2);o.R7$(),o.SpI(" ",o.bMT(2,2,"lang_auto_dap_an"),": "),o.R7$(2),o.Y8G("ngForOf",M.questionObj.answers)}}function C(f,S){if(1&f&&(o.j41(0,"h2",2),o.DNE(1,c,3,4,"ng-container",3),o.nI1(2,"isTrueFalseAnswer"),o.DNE(3,h,4,4,"ng-container",3),o.nI1(4,"isTrueFalseAnswer"),o.k0s()),2&f){const M=o.XpG();o.R7$(),o.Y8G("ngIf",!o.bMT(2,2,M.questionObj)),o.R7$(2),o.Y8G("ngIf",o.bMT(4,4,M.questionObj))}}function P(f,S){1&f&&(o.j41(0,"h2",2),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&f&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_tu_luan")," "))}let x=(()=>{var f;class S extends a.H{}return(f=S).\u0275fac=(()=>{let M;return function(w){return(M||(M=o.xGo(f)))(w||f)}})(),f.\u0275cmp=o.VBU({type:f,selectors:[["azt-question-answer-view-with-simple-result-box-for-teacher"]],inputs:{questionObj:"questionObj"},standalone:!0,features:[o.Vt3,o.aNF],decls:4,vars:4,consts:[["essayAnswer",""],["class","font-medium text-md text-left text-success mt-3",4,"ngIf","ngIfElse"],[1,"font-medium","text-md","text-left","text-success","mt-3"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"lalala","ml-1"]],template:function(O,w){if(1&O&&(o.DNE(0,C,5,6,"h2",1),o.nI1(1,"isEssayAnswer"),o.DNE(2,P,3,3,"ng-template",null,0,o.C5r)),2&O){const D=o.sdS(3);o.Y8G("ngIf",w.questionObj.answerResult&&!o.bMT(1,2,w.questionObj))("ngIfElse",D)}},dependencies:[m.MD,m.Sq,m.bT,t.X1,r.iI,t.YN,_.wp,l.s,i.flO,n.L,_.Zm,_.FC,u.Id,s.k],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px 30px 0 0}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),S})()},26265:(A,p,e)=>{e.d(p,{I:()=>d});var m=e(54460),t=e(48891),r=e(10936),s=e(65162),_=e(44327),n=e(55887),a=e(88023),i=e(15343),u=e(5502),l=e(44155),o=e(75349),c=e(97324);let d=(()=>{var h;class C extends a.H{constructor(){super(...arguments),this.questionRenderService=(0,t.WQX)(c.g),this.sAztAnswerTrueFalseService=(0,t.WQX)(o.j),this.isDestroyed=!1,this.isInitData=!1}startRenderQuestion(x){if(this.renderConfigObj.disableRender)return this.emitHaveRended(void 0);x&&!this.renderConfigObj.isFirstRender||(x&&this.renderConfigObj.isFirstRender&&(this.renderConfigObj.isFirstRender=!1,this.followerRender.doneItemPartQuest()),this.questionRenderService.parseRenderQuestion(this.baseQuestionObj,this.renderConfigObj.configRenderService).then(()=>{this.baseQuestionObj.answersOrigin=this.sAztAnswerTrueFalseService.checkLabelArrOriginOrMix(this.baseQuestionObj.answers,!0),this.emitHaveRended(void 0)}).catch(f=>{this.emitHaveRended(f.message)}))}emitHaveRended(x){if(!this.isDestroyed&&x)return this.showErrorSnack(x)}initData(x,f,S){this.renderConfigObj=x,this.followerRender=f,this.baseQuestionObj=S,this.isInitData=!0}reRenderContent(){this.isInitData&&this.startRenderQuestion(!1)}ngDoCheck(){if(!this.isInitData||this.renderConfigObj.isRenderElement)return;let x=document.getElementById("question_render_element_"+this.baseQuestionObj.id);if(!x)return;let f=x.getAttribute("start_loading");(this.renderConfigObj.disableLazy||f&&"true"==f)&&(this.renderConfigObj.isRenderElement||(this.startRenderQuestion(!0),this.renderConfigObj.isRenderElement=!0))}ngOnDestroy(){this.isDestroyed=!0,super.ngOnDestroy()}}return(h=C).\u0275fac=(()=>{let P;return function(f){return(P||(P=t.xGo(h)))(f||h)}})(),h.\u0275cmp=t.VBU({type:h,selectors:[["ng-component"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(x,f){},dependencies:[m.MD,r.X1,s.iI,r.YN,l.s,i.flO,n.L,u.Id,_.k],encapsulation:2}),C})()},95428:(A,p,e)=>{e.d(p,{C:()=>t});var m=e(37794);class t{constructor(s,_,n){this.mathJaxImage=!1,this.disableLazy=!1,this.disableRender=!1,this.isFirstRender=!0,this.isRenderElement=!1,this.configRenderService=new m.y,this.disableLazy=s,this.disableRender=_,this.mathJaxImage=n,this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg")}}},11866:(A,p,e)=>{e.d(p,{$:()=>h});var m=e(54460),t=e(10936),r=e(65162),s=e(44327),_=e(55887),n=e(88023),a=e(60507),i=e(15343),u=e(5502),l=e(44155),o=e(48891),c=e(96639);function d(C,P){if(1&C&&(o.qex(0),o.nrm(1,"azt-dynamic-hook",1),o.bVm()),2&C){let x;const f=o.XpG();o.R7$(),o.Y8G("content",null!==(x=f.questionObj.content)&&void 0!==x?x:"")}}let h=(()=>{var C;class P extends n.H{}return(C=P).\u0275fac=(()=>{let x;return function(S){return(x||(x=o.xGo(C)))(S||C)}})(),C.\u0275cmp=o.VBU({type:C,selectors:[["azt-question-content-box"]],inputs:{examObj:"examObj",questionObj:"questionObj",renderConfigObj:"renderConfigObj"},standalone:!0,features:[o.Vt3,o.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[3,"content"]],template:function(f,S){1&f&&(o.DNE(0,d,2,1,"ng-container",0),o.nI1(1,"isOfflineExam")),2&f&&o.Y8G("ngIf",!o.bMT(1,1,S.examObj))},dependencies:[a.x,m.MD,m.bT,t.X1,r.iI,t.YN,l.s,i.flO,_.L,c.st,u.Id,s.k],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px 30px 0 0}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),P})()},42672:(A,p,e)=>{e.d(p,{y:()=>M});var m=e(54460),t=e(48891),r=e(10936),s=e(65162),_=e(44327),n=e(96639),a=e(55887),i=e(88023),u=e(60507),l=e(15343),o=e(5502),c=e(44155),d=e(93813),h=e(47712);const C=(O,w,D,g)=>({"box p-4 mt-5":O,"group-of-question-standalone-for-test-finder":w,"group-of-question-standalone-has-selected":D,clickable:g});function P(O,w){1&O&&(t.j41(0,"div",7),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",8),t.k0s()),2&O&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_nhom_cau_hoi_duoc_co_dinh"))}function x(O,w){if(1&O){const D=t.RV6();t.j41(0,"button",9),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(D);const I=t.XpG(3);return t.Njj(I.editGroupQ())}),t.nrm(2,"lucide-icon",10),t.k0s()}2&O&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_edit"))}function f(O,w){if(1&O&&(t.j41(0,"div",4)(1,"div"),t.DNE(2,P,3,3,"div",5),t.k0s(),t.DNE(3,x,3,3,"button",6),t.k0s()),2&O){const D=t.XpG(2);t.R7$(2),t.Y8G("ngIf",null==D.questionObj.groupInfo?null:D.questionObj.groupInfo.isFixGroup),t.R7$(),t.Y8G("ngIf",!D.questionObj.isPdf)}}function S(O,w){if(1&O){const D=t.RV6();t.j41(0,"div",1),t.bIt("click",function(){let I;t.eBV(D);const T=t.XpG();return t.Njj(T.handleClickGroup(null!==(I=null==T.questionObj.groupInfo?null:T.questionObj.groupInfo.groupId)&&void 0!==I?I:-1))}),t.DNE(1,f,4,2,"div",2),t.nrm(2,"azt-dynamic-hook",3),t.k0s()}if(2&O){let D,g;const I=t.XpG();t.Y8G("ngClass",t.ziG(3,C,I.editGroup.observers.length,I.isTestFinderModule,!!I.questionGroupIdsSelected.includes(null!==(D=null==I.questionObj.groupInfo?null:I.questionObj.groupInfo.groupId)&&void 0!==D?D:-1),I.isTestFinderModule)),t.R7$(),t.Y8G("ngIf",I.questionObj.isRoleTeacher&&I.editGroup.observers.length),t.R7$(),t.Y8G("content",null!==(g=null==I.questionObj.groupInfo?null:I.questionObj.groupInfo.groupContent)&&void 0!==g?g:"")}}let M=(()=>{var O;class w extends i.H{handleClickGroup(g){this.isTestFinderModule&&this.testFinderSupportService.sendQuestionGroupSelectedEvent(g)}editGroupQ(){this.editGroup.emit()}constructor(g){super(),this.testFinderSupportService=g,this.isTestFinderModule=!1,this.questionGroupIdsSelected=[],this.editGroup=new t.bkB}}return(O=w).\u0275fac=function(g){return new(g||O)(t.rXU(d.r))},O.\u0275cmp=t.VBU({type:O,selectors:[["azt-question-group-content-box"]],inputs:{examObj:"examObj",questionObj:"questionObj",renderConfigObj:"renderConfigObj",isTestFinderModule:"isTestFinderModule",questionGroupIdsSelected:"questionGroupIdsSelected"},outputs:{editGroup:"editGroup"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["azt-track-service","question-group-content-box-XAFpO2hJ5","class","group-content-of-question-standalone",3,"ngClass","click",4,"ngIf"],["azt-track-service","question-group-content-box-XAFpO2hJ5",1,"group-content-of-question-standalone",3,"click","ngClass"],["class","flex justify-between","style","margin: -13px -13px -5px; min-height: 25px",4,"ngIf"],[3,"content"],[1,"flex","justify-between",2,"margin","-13px -13px -5px","min-height","25px"],["style","margin: 2px",3,"matTooltip",4,"ngIf"],["azt-track-service","question-group-content-box-boGVnlJxMf","class","btn btn-sm btn-Light edit-question-header-content",3,"matTooltip","click",4,"ngIf"],[2,"margin","2px",3,"matTooltip"],["name","pin","size","16"],["azt-track-service","question-group-content-box-boGVnlJxMf",1,"btn","btn-sm","btn-Light","edit-question-header-content",3,"click","matTooltip"],["name","file-pen","size","16"]],template:function(g,I){1&g&&t.DNE(0,S,3,8,"div",0),2&g&&t.Y8G("ngIf",(null==I.questionObj.groupInfo?null:I.questionObj.groupInfo.isFirstInGroup)&&(!I.examObj.hideGroupQuestion||I.questionObj.isRoleTeacher))},dependencies:[u.x,m.MD,m.YU,m.bT,r.X1,s.iI,r.YN,n.wp,c.s,h.oV,l.flO,l.WGl,a.L,o.Id,_.k],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px 30px 0 0}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),w})()},1758:(A,p,e)=>{e.d(p,{e:()=>m});class m{constructor(){this.totalQuestionRender=0,this.numFollow={renderDone:{num:0,isRun:!1},firstDone:{num:0,isRun:!1},startDone:{num:0,isRun:!1}}}checker(){this.totalQuestionRender===this.numFollow.renderDone.num&&!this.numFollow.renderDone.isRun&&(this.numFollow.renderDone.isRun=!0),this.totalQuestionRender===this.numFollow.firstDone.num&&!this.numFollow.firstDone.isRun&&(this.numFollow.firstDone.isRun=!0)}setNumQuest(r){this.totalQuestionRender=r}doneItemPartQuest(){this.numFollow.firstDone.num++,this.checker()}}},99763:(A,p,e)=>{e.d(p,{J:()=>r,h:()=>t});var m=e(69248);class t{initService(){const _=new m.I(this.sAztCommonCdnService,this.commonService,(n,a)=>{this.callbackPushImage&&this.caller&&this.callbackPushImage.call(this.caller,n,a)},n=>{this.callbackFall&&this.caller&&this.callbackFall.call(this.caller,n)});_.isCropImage=this.configRenderService.getIsCropImage(),this.services.push(_)}render(_,n){return this.services.forEach(a=>{_=a.render(_??"",[],void 0,n)}),_??""}constructor(_,n,a,i){this.sAztCommonCdnService=_,this.commonService=n,this.configRenderService=a,this.callbackFall=i,this.services=[],this.initService()}}class r{constructor(_,n,a,i){this.type=_,this.data=n,this.message=a,this.questionNumber=i}}},97324:(A,p,e)=>{e.d(p,{g:()=>i});var m=e(37794),t=e(27525),r=e(99763),s=e(48891),_=e(11601),n=e(21164),a=e(18884);let i=(()=>{var u;class l{parseRenderQuestions(c,d,h,C,P,x){return new Promise((f,S)=>{const O=new t.n(25,{function:(w,D)=>{d&&d(w/D*100)}},C??1e3);c.forEach(w=>{O.addTask(this,this.parseRenderQuestion,[w,h,P,x])}),O.start().then(w=>{if(w.errs.length>0){const D=[];w.errs.forEach(g=>{let I=D.find(T=>T.type===g.type);I||D.push(g),I?.data.concat(g.data)}),S(D)}else f(c)})})}parseRenderQuestion(c,d,h,C){return new Promise((P,x)=>{var f=new r.h(this.sAztCommonCdnService,this.commonService,d||new m.y,O=>{x(O)});f.callbackPushImage=(O,w)=>{this.pushImage(O,w,c)},f.caller=this;const M=new t.n(C?1:20,void 0,0);c.content&&M.addTask(this,()=>new Promise(O=>{c.content=f.render(this.commonService.removeBracket(c.content??""),()=>{O()})})),c.answers&&c.answers.forEach(O=>{M.addTask(this,()=>new Promise(w=>{O.content=f.render(O.content||"",()=>{w()})}))}),c.help&&M.addTask(this,()=>new Promise(O=>{c.help=f.render(c.help,()=>{O()})})),c.groupInfo&&c.groupInfo.groupContent&&M.addTask(this,()=>new Promise(O=>{c.groupInfo&&c.groupInfo.groupContent?c.groupInfo.groupContent=f.render(this.commonService.removeBracket(c.groupInfo.groupContent),()=>{O()}):O()})),h&&M.addTask(this,()=>new Promise(O=>{this.dataAztMathRawHelper.decodeMathJaxCodeToCdnUrl(c).then(()=>{O()})})),M.start().then(O=>{O.errs.length||P()})})}pushImage(c,d,h){if(!h)return;let C=new RegExp("<div id='"+c+"'[^>]+></div>","g");h.content&&(h.content=h.content.replace(C,d??"")),h.answers&&h.answers.forEach(P=>P.content=P.content?.replace(C,d??"")),h.help&&(h.help=h.help.replace(C,d??"")),h.groupInfo&&h.groupInfo.groupContent&&(h.groupInfo.groupContent=h.groupInfo.groupContent.replace(C,d??""))}constructor(c,d,h){this.sAztCommonCdnService=c,this.commonService=d,this.dataAztMathRawHelper=h}}return(u=l).\u0275fac=function(c){return new(c||u)(s.KVO(_.c),s.KVO(n.R),s.KVO(a.c))},u.\u0275prov=s.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),l})()},93813:(A,p,e)=>{e.d(p,{r:()=>r});var m=e(18447),t=e(48891);let r=(()=>{var s;class _{constructor(){this.questionSelectedEvent=new m.B,this.questionGroupSelectedEvent=new m.B}listenQuestionSelectedEvent(){return this.questionSelectedEvent}listenQuestionGroupSelectedEvent(){return this.questionGroupSelectedEvent}sendQuestionSelectedEvent(a){this.questionSelectedEvent.next(a)}sendQuestionGroupSelectedEvent(a){this.questionGroupSelectedEvent.next(a)}}return(s=_).\u0275fac=function(a){return new(a||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),_})()},81805:(A,p,e)=>{e.d(p,{c:()=>D});var m=e(54460),t=e(48891),r=e(10936),s=e(65162),_=e(44327),n=e(96639),a=e(55887),i=e(88023),u=e(15343),l=e(5502),o=e(44155),c=e(21164),d=e(47712);const h=()=>({"mr-1":!0});function C(g,I){1&g&&(t.j41(0,"span",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&g&&(t.R7$(),t.SpI("\xa0",t.bMT(2,1,"lang_auto_het_luot"),""))}function P(g,I){if(1&g){const T=t.RV6();t.j41(0,"lucide-icon",15),t.nI1(1,"mytranslate"),t.bIt("click",function(){let L;t.eBV(T);const k=t.XpG().$implicit,G=t.XpG(4);return t.Njj(G.playAudio(G.questionObj.id,null!==(L=k.index)&&void 0!==L?L:0))}),t.k0s()}2&g&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_bat_dau_audio"))}function x(g,I){if(1&g){const T=t.RV6();t.j41(0,"span",10),t.DNE(1,P,2,3,"lucide-icon",11),t.j41(2,"lucide-icon",12),t.nI1(3,"mytranslate"),t.bIt("click",function(){let L;const k=t.eBV(T).$implicit,G=t.XpG(4);return t.Njj(G.stopAudio(G.questionObj.id,null!==(L=k.index)&&void 0!==L?L:0))}),t.k0s(),t.j41(4,"audio",13),t.nrm(5,"source",14),t.nI1(6,"mycdn"),t.nI1(7,"safe"),t.k0s()()}if(2&g){let T;const z=I.$implicit,L=t.XpG(4);t.Y8G("hidden",!z.status),t.R7$(),t.Y8G("ngIf",!L.checkAudioPlay(L.questionObj.id,null!==(T=z.index)&&void 0!==T?T:0)),t.R7$(),t.FS9("matTooltip",t.bMT(3,6,"lang_auto_ket_thuc")),t.Y8G("ngClass",t.lJ4(12,h)),t.R7$(2),t.FS9("id",L.isShowList?"audio_list_"+L.questionObj.id+"_"+z.index:"audio_unit_"+L.questionObj.id+"_"+z.index),t.R7$(),t.Y8G("src",t.bMT(7,10,t.bMT(6,8,L.questionObj.attachments[0].url)),t.B4B)}}function f(g,I){if(1&g&&(t.j41(0,"div",5)(1,"span",6),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,C,3,3,"span",7)(5,x,8,13,"ng-template",8),t.k0s()),2&g){const T=t.XpG(3);t.R7$(2),t.SpI("",t.bMT(3,3,"lang_auto_so_luot_nghe"),": "),t.R7$(2),t.Y8G("ngIf",T.questionObj.limitAudio==T.totalLimit),t.R7$(),t.Y8G("ngForOf",T.questionObj.audioLimitObjs)}}function S(g,I){if(1&g&&(t.j41(0,"div",3),t.DNE(1,f,6,5,"div",4),t.k0s()),2&g){const T=t.XpG(2);t.R7$(),t.Y8G("ngIf",(null!=T.questionObj.limitAudio?T.questionObj.limitAudio:T.totalLimit+1)<=T.totalLimit)}}function M(g,I){if(1&g&&(t.j41(0,"div"),t.DNE(1,S,2,1,"div",2),t.k0s()),2&g){const T=t.XpG();t.R7$(),t.Y8G("ngIf",T.questionObj.attachments&&T.questionObj.attachments.length>0)}}function O(g,I){if(1&g&&(t.j41(0,"div",17)(1,"audio",18),t.nrm(2,"source",14),t.nI1(3,"mycdn"),t.nI1(4,"safe"),t.k0s()()),2&g){const T=t.XpG(2);t.R7$(),t.FS9("id","audio_"+T.questionObj.id),t.R7$(),t.Y8G("src",t.bMT(4,4,t.bMT(3,2,T.questionObj.attachments[0].url)),t.B4B)}}function w(g,I){if(1&g&&t.DNE(0,O,5,6,"div",16),2&g){const T=t.XpG();t.Y8G("ngIf",T.questionObj.attachments&&T.questionObj.attachments.length>0)}}let D=(()=>{var g;class I extends i.H{haveOnceAudioIsPlaying(){var z=!1;let L=document.getElementsByTagName("audio");for(let k=0;k<L.length;k++)if(L[k].duration>0&&!L[k].paused){z=!0;break}return z}playAudio(z,L){var k=this.isShowList?document.getElementById("audio_list_"+z+"_"+L):document.getElementById("audio_unit_"+z+"_"+L);if(k){if(this.haveOnceAudioIsPlaying())return this.commonService.snackWarning("lang_auto_file_dang_duoc_phat");this.sendAudioEmitter.emit({obj:this.questionObj,play:1,index:L}),k.play()}}stopAudio(z,L){var k=this.isShowList?document.getElementById("audio_list_"+z+"_"+L):document.getElementById("audio_unit_"+z+"_"+L);k&&k.duration>0&&!k.paused&&(k.pause(),k.currentTime=0,k.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:L}))}checkAudioPlay(z,L){var k=this.isShowList?document.getElementById("audio_list_"+z+"_"+L):document.getElementById("audio_unit_"+z+"_"+L);return!!k&&(k.duration>0&&!k.paused||((k.ended||k.currentTime>0&&k.paused)&&(k.currentTime=0,k.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:L})),!1))}ngOnInit(){super.ngOnInit()}constructor(z){super(),this.commonService=z,this.totalLimit=0,this.isShowList=!0,this.sendAudioEmitter=new t.bkB}}return(g=I).\u0275fac=function(z){return new(z||g)(t.rXU(c.R))},g.\u0275cmp=t.VBU({type:g,selectors:[["azt-test-audio-ui"]],inputs:{questionObj:"questionObj",totalLimit:"totalLimit",isShowList:"isShowList"},outputs:{sendAudioEmitter:"sendAudioEmitter"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["NormalAudio",""],[4,"ngIf","ngIfElse"],["class","text-left ml-auto mr-auto",4,"ngIf"],[1,"text-left","ml-auto","mr-auto"],["class","limit_audio",4,"ngIf"],[1,"limit_audio"],[1,"mb-0",2,"font-size","14px","font-weight","400"],["class","mb-0","style","font-size: 14px; font-weight: 450;color: #da0522 ",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-0",2,"font-size","14px","font-weight","450","color","#da0522"],[1,"audio-control",3,"hidden"],["name","circle-play","size","24","style","vertical-align: middle; line-height: 1; color: #000",3,"matTooltip","click",4,"ngIf"],["name","trash-2","size","24",2,"vertical-align","middle","line-height","1","color","#da0522",3,"click","ngClass","matTooltip"],["preload","true",3,"id"],[3,"src"],["name","circle-play","size","24",2,"vertical-align","middle","line-height","1","color","#000",3,"click","matTooltip"],["class","text-center ml-auto mr-auto",4,"ngIf"],[1,"text-center","ml-auto","mr-auto"],["controls","","preload","true",2,"margin-left","10px","margin-right","10px","max-width","70%",3,"id"]],template:function(z,L){if(1&z&&t.DNE(0,M,2,1,"div",1)(1,w,1,1,"ng-template",null,0,t.C5r),2&z){const k=t.sdS(2);t.Y8G("ngIf",L.totalLimit>0)("ngIfElse",k)}},dependencies:[m.MD,m.YU,m.Sq,m.bT,r.X1,s.iI,r.YN,n.nf,n.wp,o.s,d.oV,u.flO,u.WGl,a.L,n.JI,l.Id,_.k],styles:[".limit_audio[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.audio-control[_ngcontent-%COMP%]{border-radius:50%;background-color:#f0f3f4;color:#000;padding:5px;height:35px;width:35px;margin-left:5px;cursor:pointer;text-align:center}"]}),I})()},7543:(A,p,e)=>{e.d(p,{X:()=>st});var m=e(54460),t=e(48891),r=e(10936),s=e(65162),_=e(10273),n=e(44327),a=e(96639),i=e(55887),u=e(88023),l=e(15343),o=e(44233),c=e(5502),d=e(44155),h=e(92540),C=e(40005),P=e(47426),x=e(95670),f=e(4375);const S=v=>({grid:v}),M=(v,R)=>({"mt-2":v,"ml-2":R}),O=v=>({width:v}),w=v=>({flex:v});function D(v,R){if(1&v&&t.eu8(0,8),2&v){t.XpG();const y=t.sdS(5);t.Y8G("ngTemplateOutlet",y)}}function g(v,R){if(1&v&&t.eu8(0,8),2&v){t.XpG();const y=t.sdS(7);t.Y8G("ngTemplateOutlet",y)}}function I(v,R){if(1&v&&t.eu8(0,8),2&v){t.XpG();const y=t.sdS(9);t.Y8G("ngTemplateOutlet",y)}}function T(v,R){if(1&v&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&v){const y=R.$implicit;t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(2,2,y.key)," ")}}function z(v,R){if(1&v&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&v){const y=R.$implicit;t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(2,2,y.key)," ")}}function L(v,R){if(1&v&&(t.qex(0),t.j41(1,"mat-option",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&v){const y=R.$implicit;t.R7$(),t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(3,2,y.title)," ")}}function k(v,R){if(1&v&&(t.j41(0,"div",23)(1,"div",12)(2,"label",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"mat-form-field",14)(6,"mat-select",15,5)(8,"mat-option"),t.nrm(9,"ngx-mat-select-search",16),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"mat-option",22),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.DNE(15,L,4,4,"ng-container",25),t.k0s()()()),2&v){const y=t.sdS(7),E=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,8,"lang_core_sach")," "),t.R7$(3),t.Y8G("formControl",E.form.controls.bookIdFormControl),t.R7$(3),t.FS9("placeholderLabel",t.bMT(10,10,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(11,12,"lang_search_not_found")),t.Y8G("formControl",y.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("- ",t.bMT(14,14,"lang_create_tree_category_default_book")," -"),t.R7$(2),t.Y8G("ngForOf",y.filter(E.listBookObjs,"title"))}}function G(v,R){1&v&&(t.j41(0,"div",26)(1,"div",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&v&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_vui_long_chon_khoi_hoc_va_mon_hoc")," "))}function Q(v,R){if(1&v&&(t.j41(0,"form",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"label",13),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"mat-form-field",14)(8,"mat-select",15,3)(10,"mat-option"),t.nrm(11,"ngx-mat-select-search",16),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"mat-option",17),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,T,3,4,"mat-option",18),t.k0s()()(),t.j41(18,"div",11)(19,"div",12)(20,"label",19),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"mat-form-field",14)(24,"mat-select",15,4)(26,"mat-option"),t.nrm(27,"ngx-mat-select-search",16),t.nI1(28,"mytranslate"),t.nI1(29,"mytranslate"),t.k0s(),t.j41(30,"mat-option",17),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.DNE(33,z,3,4,"mat-option",18),t.k0s()()(),t.DNE(34,k,16,16,"div",20)(35,G,4,3,"div",21),t.k0s()()),2&v){const y=t.sdS(9),E=t.sdS(25),b=t.XpG();t.Y8G("formGroup",b.form),t.R7$(5),t.SpI(" ",t.bMT(6,19,"lang_auto_khoi_hoc")," "),t.R7$(3),t.Y8G("formControl",b.form.controls.schoolLevel),t.R7$(3),t.FS9("placeholderLabel",t.bMT(12,21,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(13,23,"lang_search_not_found")),t.Y8G("formControl",y.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(16,25,"lang_auto_---chon_khoi"),"---"),t.R7$(2),t.Y8G("ngForOf",y.filter(y.mergeSchoolLevel(b.schoolLevelObjs),"key")),t.R7$(4),t.SpI(" ",t.bMT(22,27,"lang_auto_mon_hoc")," "),t.R7$(3),t.Y8G("formControl",b.form.controls.schoolSubject),t.R7$(3),t.FS9("placeholderLabel",t.bMT(28,29,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(29,31,"lang_search_not_found")),t.Y8G("formControl",E.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(32,33,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",E.filter(b.schoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",b.form.controls.bookIdFormControl),t.R7$(),t.Y8G("ngIf",b.form.controls.schoolLevel.invalid||b.form.controls.schoolSubject.invalid)}}function V(v,R){if(1&v&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&v){const y=R.$implicit;t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(2,2,y.key)," ")}}function X(v,R){if(1&v&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&v){const y=R.$implicit;t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(2,2,y.key)," ")}}function H(v,R){if(1&v&&(t.qex(0),t.j41(1,"mat-option",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&v){const y=R.$implicit;t.R7$(),t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(3,2,y.title)," ")}}function J(v,R){if(1&v&&(t.j41(0,"div",36)(1,"label",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"mat-form-field",31)(5,"mat-select",15,5)(7,"mat-option"),t.nrm(8,"ngx-mat-select-search",16),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"mat-option",22),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,H,4,4,"ng-container",25),t.k0s()()()),2&v){const y=t.sdS(6),E=t.XpG(2);t.Y8G("ngClass",t.l_i(18,M,E.isMobileDevice,!E.isMobileDevice)),t.R7$(),t.Y8G("ngStyle",t.eq3(21,O,E.isMobileDevice?"54px":"")),t.R7$(),t.SpI(" ",t.bMT(3,10,"lang_core_sach")," "),t.R7$(3),t.Y8G("formControl",E.form.controls.bookIdFormControl),t.R7$(3),t.FS9("placeholderLabel",t.bMT(9,12,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(10,14,"lang_search_not_found")),t.Y8G("formControl",y.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("- ",t.bMT(13,16,"lang_create_tree_category_default_book")," -"),t.R7$(2),t.Y8G("ngForOf",y.filter(E.listBookObjs,"title"))}}function q(v,R){1&v&&(t.j41(0,"div",38)(1,"div",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&v&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_vui_long_chon_khoi_hoc_va_mon_hoc")," "))}function Z(v,R){if(1&v&&(t.j41(0,"form",9)(1,"div",28)(2,"div",29)(3,"label",30),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"mat-form-field",31)(7,"mat-select",15,3)(9,"mat-option"),t.nrm(10,"ngx-mat-select-search",16),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"mat-option",17),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,V,3,4,"mat-option",18),t.k0s()()(),t.j41(17,"div",32)(18,"label",33),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",31)(22,"mat-select",15,4)(24,"mat-option"),t.nrm(25,"ngx-mat-select-search",16),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"mat-option",17),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.DNE(31,X,3,4,"mat-option",18),t.k0s()()(),t.DNE(32,J,15,23,"div",34),t.k0s(),t.DNE(33,q,4,3,"div",35),t.k0s()),2&v){const y=t.sdS(8),E=t.sdS(23),b=t.XpG();t.Y8G("formGroup",b.form),t.R7$(),t.Y8G("ngClass",t.eq3(37,S,!b.isMobileDevice)),t.R7$(3),t.SpI(" ",t.bMT(5,21,"lang_auto_khoi_hoc")," "),t.R7$(3),t.Y8G("formControl",b.form.controls.schoolLevel),t.R7$(3),t.FS9("placeholderLabel",t.bMT(11,23,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(12,25,"lang_search_not_found")),t.Y8G("formControl",y.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(15,27,"lang_auto_---chon_khoi"),"---"),t.R7$(2),t.Y8G("ngForOf",y.filter(y.mergeSchoolLevel(b.schoolLevelObjs),"key")),t.R7$(),t.Y8G("ngClass",t.l_i(39,M,b.isMobileDevice,!b.isMobileDevice)),t.R7$(2),t.SpI(" ",t.bMT(20,29,"lang_auto_mon_hoc")," "),t.R7$(3),t.Y8G("formControl",b.form.controls.schoolSubject),t.R7$(3),t.FS9("placeholderLabel",t.bMT(26,31,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(27,33,"lang_search_not_found")),t.Y8G("formControl",E.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(30,35,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",E.filter(b.schoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",b.form.controls.bookIdFormControl),t.R7$(),t.Y8G("ngIf",b.form.controls.schoolLevel.invalid||b.form.controls.schoolSubject.invalid)}}function tt(v,R){if(1&v&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&v){const y=R.$implicit;t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(2,2,y.key)," ")}}function et(v,R){if(1&v&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&v){const y=R.$implicit;t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(2,2,y.key)," ")}}function nt(v,R){if(1&v&&(t.qex(0),t.j41(1,"mat-option",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&v){const y=R.$implicit;t.R7$(),t.Y8G("value",y.id),t.R7$(),t.SpI(" ",t.bMT(3,2,y.title)," ")}}function ot(v,R){if(1&v&&(t.j41(0,"div",36)(1,"label",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"mat-form-field",31)(5,"mat-select",15,5)(7,"mat-option"),t.nrm(8,"ngx-mat-select-search",16),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"mat-option",22),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,nt,4,4,"ng-container",25),t.k0s()()()),2&v){const y=t.sdS(6),E=t.XpG(2);t.Y8G("ngClass",t.l_i(18,M,E.isMobileDevice,!E.isMobileDevice)),t.R7$(),t.Y8G("ngStyle",t.eq3(21,O,E.isMobileDevice?"54px":"")),t.R7$(),t.SpI(" ",t.bMT(3,10,"lang_core_sach")," "),t.R7$(3),t.Y8G("formControl",E.form.controls.bookIdFormControl),t.R7$(3),t.FS9("placeholderLabel",t.bMT(9,12,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(10,14,"lang_search_not_found")),t.Y8G("formControl",y.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("- ",t.bMT(13,16,"lang_create_tree_category_default_book")," -"),t.R7$(2),t.Y8G("ngForOf",y.filter(E.listBookObjs,"title"))}}function it(v,R){1&v&&(t.j41(0,"div",38)(1,"div",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&v&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_vui_long_chon_khoi_hoc_va_mon_hoc")," "))}function at(v,R){if(1&v&&(t.j41(0,"form",9)(1,"div",39)(2,"div",29)(3,"mat-form-field",31)(4,"mat-select",15,3)(6,"mat-option"),t.nrm(7,"ngx-mat-select-search",16),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"mat-option",17),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.DNE(13,tt,3,4,"mat-option",18),t.k0s()()(),t.j41(14,"div",32)(15,"mat-form-field",31)(16,"mat-select",15,4)(18,"mat-option"),t.nrm(19,"ngx-mat-select-search",16),t.nI1(20,"mytranslate"),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"mat-option",17),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.DNE(25,et,3,4,"mat-option",18),t.k0s()()(),t.DNE(26,ot,15,23,"div",34),t.k0s(),t.DNE(27,it,4,3,"div",35),t.k0s()),2&v){const y=t.sdS(5),E=t.sdS(17),b=t.XpG();t.Y8G("formGroup",b.form),t.R7$(),t.Y8G("ngClass",t.eq3(31,w,!b.useDynamicMobile||b.useDynamicMobile&&!b.isMobileDevice)),t.R7$(3),t.Y8G("formControl",b.form.controls.schoolLevel),t.R7$(3),t.FS9("placeholderLabel",t.bMT(8,19,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(9,21,"lang_search_not_found")),t.Y8G("formControl",y.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(12,23,"lang_auto_---chon_khoi"),"---"),t.R7$(2),t.Y8G("ngForOf",y.filter(y.mergeSchoolLevel(b.schoolLevelObjs),"key")),t.R7$(),t.Y8G("ngClass",t.l_i(33,M,b.isMobileDevice,!b.isMobileDevice)),t.R7$(2),t.Y8G("formControl",b.form.controls.schoolSubject),t.R7$(3),t.FS9("placeholderLabel",t.bMT(20,25,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(21,27,"lang_search_not_found")),t.Y8G("formControl",E.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(24,29,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",E.filter(b.schoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",b.form.controls.bookIdFormControl),t.R7$(),t.Y8G("ngIf",b.form.controls.schoolLevel.invalid||b.form.controls.schoolSubject.invalid)}}let st=(()=>{var v;class R extends u.H{getChangeKey(){let E=this.form.getRawValue();return E.schoolLevel+"_"+E.schoolSubject+"_"+(E.bookIdFormControl??0)}updateLevelAndSubjectToForm(E,b,j){let U=this.commonService.concatMultipleArray(this.schoolLevelObjs.map(B=>B.schoolSubjectObjs)).find(B=>B.id==b)?.key,W=this.schoolLevelObjs.find(B=>B.schoolLevel?.id==E);this.schoolSubjectObjs=W?.schoolSubjectObjs??[];let F=this.schoolSubjectObjs.find(B=>B.id==b||B.key?.toLowerCase()==U?.toLowerCase());E=W?.schoolLevel?.id??0,b=F?.id??0,j=j??0;let $=this.form.getRawValue();$.schoolLevel!=E&&E&&this.form.controls.schoolLevel.setValue(E,{emitEvent:!1}),$.schoolSubject!=b&&b&&this.form.controls.schoolSubject.setValue(b,{emitEvent:!1}),$.bookIdFormControl!=j&&j&&this.form.controls.bookIdFormControl?.setValue(j,{emitEvent:!1}),(0!==E||0!==b||0!==j)&&this.getBookObjs(E,b,j,B=>{let K=this.form.getRawValue();if(K.schoolLevel!=B.schoolLevelId||K.schoolSubject!=B.schoolSubjectId||(K.bookIdFormControl??0)!=B.bookId)return;this.listBookObjs=B.books;let N=this.listBookObjs.find(rt=>rt.id==j);j=N?.id??0,this.showBookData&&K.bookIdFormControl!=j&&this.form.controls.bookIdFormControl?.setValue(j,{emitEvent:!1});let Y=this.getChangeKey();this.lastChangeKey!=Y&&(this.lastChangeKey=Y,this.changeDataEvent.emit({bookName:N?.title}))})}getBookObjs(E,b,j,U){if(!this.showBookData)return U({schoolLevelId:E,schoolSubjectId:b,bookId:j,books:[]});if(!E||!b)return U({schoolLevelId:E,schoolSubjectId:b,bookId:j,books:[]});let W=this.listBookByLevelSubject.find(F=>F.levelId==E&&F.subjectId==b);if(null!=W)return U({schoolLevelId:E,schoolSubjectId:b,bookId:j,books:W.books});this.isLoadingBook=!0,this.waitDestroy(this.wrapApiResponse(this.aiElearningService.aiApiV1ElearningGetElearningBookGet(E,b)).subscribe(F=>{if(!F.success)return this.isLoadingBook=!1,this.errorStatusObj(F.message,!0),U({schoolLevelId:E,schoolSubjectId:b,bookId:j,books:[]});F.data=F.data?.filter($=>$.isActive),this.listBookByLevelSubject.push({levelId:E,subjectId:b,books:F.data??[]}),this.isLoadingBook=!1,U({schoolLevelId:E,schoolSubjectId:b,bookId:j,books:F.data??[]})}))}getSubjectAndLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(E=>{if(!E.success)return this.errorStatusObj(E.message,!0);if(this.schoolLevelObjs=E.data?.schoolLevelSubjectObjs??[],this.removeLevelSubjectWithOtherName&&(this.schoolLevelObjs=this.schoolLevelObjs.filter(b=>"azt_lang_core_khoi_khac"!=b.schoolLevel?.key),this.schoolLevelObjs.forEach(b=>b.schoolSubjectObjs=b.schoolSubjectObjs.filter(j=>"azt_auto_lang_khac"!=j.key))),this.useExamSchoolLogData&&0==this.form.controls.schoolLevel.value)return this.updateLevelAndSubjectToForm(E.data?.examSchoolLogObj?.lastSchoolLevelId??0,E.data?.examSchoolLogObj?.lastSchoolSubjectId??0,void 0),this.stopStatusObj();if(this.useFirstAsDefault&&0==this.form.controls.schoolLevel.value){let b=this.commonService.getLastOfArray(this.schoolLevelObjs),j=this.commonService.getFirstOfArray(b?.schoolSubjectObjs??[]);if(b&&j)return this.updateLevelAndSubjectToForm(b.schoolLevel?.id??0,j.id,this.form.controls.bookIdFormControl?.value),this.stopStatusObj()}this.updateLevelAndSubjectToForm(this.form.controls.schoolLevel.value,this.form.controls.schoolSubject.value,this.form.controls.bookIdFormControl?.value),this.stopStatusObj()}))}listenChangeLevelSubjectBook(){this.form.controls.schoolLevel.valueChanges.subscribe(E=>{let b=this.form.getRawValue();this.updateLevelAndSubjectToForm(b.schoolLevel,b.schoolSubject,b.bookIdFormControl)}),this.form.controls.schoolSubject.valueChanges.subscribe(E=>{let b=this.form.getRawValue();this.updateLevelAndSubjectToForm(b.schoolLevel,b.schoolSubject,b.bookIdFormControl)}),this.form.controls.bookIdFormControl?.valueChanges.subscribe(E=>{let b=this.form.getRawValue();this.updateLevelAndSubjectToForm(b.schoolLevel,b.schoolSubject,b.bookIdFormControl)})}ngOnInit(){this.getSubjectAndLevel(),this.listenChangeLevelSubjectBook()}constructor(E,b){super(),this.commonListService=E,this.aiElearningService=b,this.removeLevelSubjectWithOtherName=!1,this.showBookData=!1,this.useExamSchoolLogData=!1,this.useFirstAsDefault=!1,this.useDynamicMobile=!1,this.layout="default",this.changeDataEvent=new t.bkB,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.listBookObjs=[],this.lastChangeKey=void 0,this.listBookByLevelSubject=[],this.isLoadingBook=!1}}return(v=R).\u0275fac=function(E){return new(E||v)(t.rXU(h.Nz),t.rXU(C.T5))},v.\u0275cmp=t.VBU({type:v,selectors:[["config-level-subject-book"]],inputs:{form:"form",removeLevelSubjectWithOtherName:"removeLevelSubjectWithOtherName",showBookData:"showBookData",useExamSchoolLogData:"useExamSchoolLogData",useFirstAsDefault:"useFirstAsDefault",useDynamicMobile:"useDynamicMobile",layout:"layout"},outputs:{changeDataEvent:"changeDataEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:3,consts:[["defaultLayoutTpl",""],["labelInOneLineTpl",""],["labelHiddenTpl",""],["searchInListSchoolLevel","searchInList"],["searchInListSchoolSubject","searchInList"],["searchInListBook","searchInList"],[1,"config-level-subject"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"formGroup"],["id","azt-config-level-subject",1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","lg:col-span-6"],[1,"font-medium"],["for","schoolLevel",1,"form-label","flex","items-center"],["appearance","outline"],["searchInList","",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubject",1,"form-label","flex","items-center"],["class","col-span-12",4,"ngIf"],["class","col-span-12","style","margin-top: -20px",4,"ngIf"],[3,"value"],[1,"col-span-12"],["for","bookSelected",1,"form-label","flex","items-center"],[4,"ngFor","ngForOf"],[1,"col-span-12",2,"margin-top","-20px"],[1,"text-xs","mt-2","text-danger"],["id","azt-config-level-subject",1,"grid-cols-12","gap-4",3,"ngClass"],[1,"col-span-12","sm:col-span-3","flex","items-center"],["for","schoolLevel",1,"mr-1","flex-none","whitespace-nowrap"],["appearance","outline",1,"box",2,"width","100%"],[1,"col-span-12","sm:col-span-4","flex","items-center",3,"ngClass"],["for","schoolSubject",1,"mr-1","whitespace-nowrap","flex-none"],["class","col-span-5 flex items-center",3,"ngClass",4,"ngIf"],["style","margin-top: -20px",4,"ngIf"],[1,"col-span-5","flex","items-center",3,"ngClass"],["for","bookSelected",1,"mr-1","flex-none","whitespace-nowrap",3,"ngStyle"],[2,"margin-top","-20px"],["id","azt-config-level-subject",1,"justify-end","ml-auto",3,"ngClass"]],template:function(E,b){1&E&&(t.j41(0,"div",6),t.DNE(1,D,1,1,"ng-container",7)(2,g,1,1,"ng-container",7)(3,I,1,1,"ng-container",7),t.k0s(),t.DNE(4,Q,36,35,"ng-template",null,0,t.C5r)(6,Z,34,42,"ng-template",null,1,t.C5r)(8,at,28,36,"ng-template",null,2,t.C5r)),2&E&&(t.R7$(),t.Y8G("ngIf","default"==b.layout),t.R7$(),t.Y8G("ngIf","label_in_one_line"==b.layout),t.R7$(),t.Y8G("ngIf","label_hidden"==b.layout))},dependencies:[o.An,o.U9,_.x,m.MD,m.YU,m.Sq,m.bT,m.T3,m.B3,r.X1,r.qT,r.BC,r.cb,r.l_,r.j4,s.iI,r.YN,a.wp,d.s,P.wT,x.rl,f.VO,l.flO,i.L,c.Id,n.k],encapsulation:2}),R})()},35044:(A,p,e)=>{e.d(p,{W:()=>S});var m=e(54460),t=e(10936),r=e(65162),s=e(44327),_=e(96639),n=e(55887),a=e(88023),i=e(15343),u=e(5502),l=e(47947),o=e(44155),c=e(48891),d=e(6389),h=e(21164),C=e(27691);const P=["*","*"];function x(M,O){if(1&M){const w=c.RV6();c.qex(0),c.j41(1,"a",2),c.bIt("click",function(){c.eBV(w);const g=c.XpG();return c.Njj(g.shareFileToFlutter())}),c.j41(2,"span"),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s(),c.SdG(5),c.k0s(),c.bVm()}if(2&M){const w=c.XpG();c.R7$(),c.Aen(w.style),c.HbH(w.classStyle),c.FS9("target",w.target),c.R7$(2),c.JRh(c.bMT(4,7,w.fileDescription))}}function f(M,O){if(1&M&&(c.j41(0,"a",3)(1,"span"),c.EFF(2),c.nI1(3,"mytranslate"),c.k0s(),c.SdG(4,1),c.k0s()),2&M){const w=c.XpG();c.Aen(w.style),c.HbH(w.classStyle),c.FS9("href",w.dataUrl,c.B4B),c.FS9("target",w.target),c.FS9("download",w.fileName),c.R7$(2),c.JRh(c.bMT(3,9,w.fileDescription))}}let S=(()=>{var M;class O extends a.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,l.T)(D=>D))}shareFileToFlutter(){this.downloadFile().subscribe(D=>{this.shareFileFlutterService.shareFileWithBlob(D,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(D,g,I){super(),this.shareFileFlutterService=D,this.commonService=g,this.http=I,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return(M=O).\u0275fac=function(D){return new(D||M)(c.rXU(d.R),c.rXU(h.R),c.rXU(C.Qq))},M.\u0275cmp=c.VBU({type:M,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:P,decls:3,vars:2,consts:[["NormalWeb",""],[4,"ngIf","ngIfElse"],[3,"click","target"],[3,"href","target","download"]],template:function(D,g){if(1&D&&(c.NAR(P),c.DNE(0,x,6,9,"ng-container",1)(1,f,5,11,"ng-template",null,0,c.C5r)),2&D){const I=c.sdS(2);c.Y8G("ngIf",g.isMobileWebView)("ngIfElse",I)}},dependencies:[m.MD,m.bT,t.X1,r.iI,t.YN,_.wp,o.s,i.flO,n.L,u.Id,s.k],encapsulation:2}),O})()},65080:(A,p)=>{p.P=void 0,p.P=class m{static generateIdRequired(r){let s="";for(let a=0;a<r;a++)s+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return Math.floor(Date.now()/1e3)+s}}},69490:(A,p,e)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PartsParser=void 0;const m=e(42336),t=e(76071),r=e(26965),s=e(80186),_=e(2238),n=e(90953);class a{constructor(u){this.__idCssElement="qv_style_element",this.baseConfigEventListener=[],this.imgMaps=[],this.services=new Array;const l=this.__pushServices([new t.FirstPartService(this.baseConfigEventListener),new m.ImagePartService(this.baseConfigEventListener),new _.DocxImagePartService(this.baseConfigEventListener),new s.LibrariesPartService(this.baseConfigEventListener,u),new r.FindAnsPartService(this.baseConfigEventListener),new n.LatexPartService(this.baseConfigEventListener)]);this.__pushCss(l)}__pushCss(u){if(!document.getElementById(this.__idCssElement)&&document.head){const o=document.createElement("style");o.id=this.__idCssElement,o.innerHTML=u.replace(/  /g," ").replace(/\n/g," ").replace(/\t/g," "),document.head.appendChild(o)}}__pushServices(u){let l="";return u.forEach(o=>{o.outCss().forEach(d=>{l+=`.${d.className} { ${d.content} } \n`}),this.services.push(o)}),l}start(u){const l=document.createElement("div");return u.forEach(o=>{const c=document.createElement("p");c.classList.add("qv_line"),this.services.forEach(d=>{d.pushImages(this.imgMaps),o=d.parse(o)}),c.innerHTML=o.text||"",l.appendChild(c)}),0===l.innerText.indexOf(a.IgnoreChar)?l.innerText.replace(a.IgnoreChar,""):l.outerHTML}register(u){this.imgMaps=u}configEventListener(u){u.forEach(l=>{-1===this.baseConfigEventListener.findIndex(o=>o.eventName===l.eventName)&&this.baseConfigEventListener.push(l)})}doneRenderQuestions(){this.services.forEach(u=>{u.onEndAll()})}}p.PartsParser=a,a.IgnoreChar="{!ignore}"},90685:(A,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BaseCaller=void 0,p.BaseCaller=class e{getQuestion(t,r,s,_,n,a){return new Promise(i=>{i([])})}}},79352:(A,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BeautyImageCrop=void 0;class e{static getRGB(t,r,s,_){return{red:_[4*(s.width*r+t)],green:_[4*(s.width*r+t)+1],blue:_[4*(s.width*r+t)+2],opacity:_[4*(s.width*r+t)+3]}}static isEmpty(t){return 255==t.red&&255==t.green&&255==t.blue||0===t.opacity}static scanX(t,r,s){for(var _=t?1:-1,n=t?0:r.width-1;t?n<r.width:n>-1;n+=_)for(var a=0;a<r.height;a++)if(!e.isEmpty(e.getRGB(n,a,r,s.data)))return n;return 0}static scanY(t,r,s){for(var _=t?1:-1,n=t?0:r.height-1;t?n<r.height:n>-1;n+=_)for(var a=0;a<r.width;a++)if(!e.isEmpty(e.getRGB(a,n,r,s.data)))return n;return 0}static cropImage(t,r,s){const n=t.canvas,a=document.createElement("canvas"),i=a.getContext("2d");var u=e.scanY(!0,n,r)-5,l=e.scanY(!1,n,r)+5,o=e.scanX(!0,n,r)-5,c=e.scanX(!1,n,r)+5;s&&(s.top||(l=0),s.bottom||(l=n.height),s.left||s.right?(s.left||(l=0),s.right||(l=n.width)):c=n.width+o);var d=c-o,h=l-u;return a.width=d,a.height=h,i?.drawImage(n,o,u,d,h,0,0,d,h),a}static removeBg(t){const r=document.createElement("canvas"),s=r.getContext("2d");if(s){r.width=t.width,r.height=t.height,s.drawImage(t,0,0);for(var _=s.getImageData(0,0,r.width,r.height),n=_.data,a=0;a<n.length;a+=4)n[a]>=185&&n[a+1]>=185&&n[a+2]>=185&&(n[a+3]=0);s.putImageData(_,0,0)}return r}static cropCanvas(t,r){const s=t.getContext("2d");if(s){var _=s.getImageData(0,0,t.width,t.height);return e.cropImage(s,_,r)}return t}}p.BeautyImageCrop=e},63055:(A,p,e)=>{p.Iz=void 0;e(90685);const r=e(79352);Object.defineProperty(p,"Iz",{enumerable:!0,get:function(){return r.BeautyImageCrop}});e(69490)},2238:(A,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DocxImagePartService=void 0;class e{constructor(t){this.pattern_check=/@\[\]{"link":"[^"]+","data":{[^}]+}}@\[\]/i,this.images=[],this.indexImageLink=[],this.style=document.createElement("style"),this.baseConfigEventListener=t,document.head.appendChild(this.style)}parse(t){let _,r=0,s=t.text||"";for(;null!==(_=this.pattern_check.exec(s));){try{var n=JSON.parse(_[0].split("@[]")[1]);n.data={x:Math.floor(n.data.x),y:Math.floor(n.data.y),width:Math.floor(n.data.width),height:Math.floor(n.data.height)},this.indexImageLink.push(n.link),s=s.replace(this.pattern_check,`<div class="background_question_${this.indexImageLink.length-1}"><img width="1024" height="1024" src="${n.link}"></div>`),this.style.textContent+=`.background_question_${this.indexImageLink.length-1} {margin: 0 3px; width: ${n.data.width}px; height: ${n.data.height}px; display: inline-block;vertical-align: middle; overflow: hidden;} .background_question_${this.indexImageLink.length-1} img { margin-top: -${n.data.y}px; margin-left: -${n.data.x}px;}`}catch{s=s.replace(this.pattern_check,"")}r++>1e4&&(s="")}return Object.assign(Object.assign({},t),{text:s})}outCss(){return[]}pushImages(t){this.images=t}onEndAll(){}}p.DocxImagePartService=e,e.NAME_SERVICE="image_part:"},26965:(A,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.FindAnsPartService=void 0,p.FindAnsPartService=class e{constructor(t){this.pattern_check=/\[[ABCDEFGHI]:[^\]]+\]/i,this.images=[],this.baseConfigEventListener=t}parse(t){let _,r=0,s=t.text||"";for(;null!==(_=this.pattern_check.exec(s));){const n=_[0].replace("[","").replace("]",""),a=n.substring(0,1),i=document.createElement("span");i.classList.add("qv_string_eng_ans"),i.innerHTML=a;const u=n.substring(2),l=document.createElement("span");l.classList.add("qv_string_eng"),l.innerHTML=u,l.appendChild(i),s=s.replace(this.pattern_check,l.outerHTML),r++>1e4&&(s="")}return Object.assign(Object.assign({},t),{text:s})}outCss(){return[{className:"qv_string_eng",content:"\n                    cursor: pointer;\n                    padding: 0 5px;\n                    font-weight: bold;\n                    text-decoration: underline;\n                    position: relative;\n                    height: 40px;\n                    display: inline-block;\n                "},{className:"qv_string_eng_ans",content:"\n                    position: absolute;\n                    top: 20px;\n                    left: 45%;\n                "}]}pushImages(t){this.images=t}onEndAll(){}}},76071:(A,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.FirstPartService=void 0,p.FirstPartService=class e{constructor(t){this.images=[],this.baseConfigEventListener=t}parse(t){return Object.assign({},t)}outCss(){return[{className:"qv_line",content:"\n                    margin: 0 !important;\n                "},{className:"qv_qts_image",content:"\n                    width: 100%;\n                "},{className:"qv_ats_image",content:"\n                    width: 60%;\n                "}]}pushImages(t){this.images=t}onEndAll(){}}},42336:(A,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ImagePartService=void 0;class e{constructor(t){this.pattern_check=/\[!img:[afhci]+[\dABCDEFGHI]+\]/i,this.images=[],this.baseConfigEventListener=t}parse(t){let _,r=0,s=t.text||"";for(;null!==(_=this.pattern_check.exec(s));){const n=_[0].replace("[!img:","").replace("]",""),a=this.images.find(i=>i.id===n);if(a){const i=document.createElement("img");i.crossOrigin="anonymous",i.classList.add(0===n.indexOf("af")?"qv_full_a_img":0===n.indexOf("f")?"qv_full_img":"qv_img"),i.src=a.link,s=s.replace(this.pattern_check,i.outerHTML)}else{const i=document.createElement("span");i.innerHTML="(Th\xeam h\xecnh \u1ea3nh)",i.classList.add("qv_none_image"),s=s.replace(this.pattern_check,i.outerHTML)}r++>1e4&&(s="")}return Object.assign(Object.assign({},t),{text:s})}outCss(){return[{className:"qv_full_a_img",content:"\n                    cursor: pointer;\n                    width: 60%\n                "},{className:"qv_full_img",content:"\n                    cursor: pointer;\n                    width: 100%\n                "},{className:"qv_img",content:"\n                    cursor: pointer;\n                    height: 25px;\n                "},{className:"qv_none_image",content:"\n                    display: inline-block;\n                    color: #2262ae;\n                    cursor: pointer;\n                "}]}pushImages(t){this.images=t}onEndAll(){}}p.ImagePartService=e,e.NAME_SERVICE="image_part:"},90953:(A,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.LatexPartService=void 0;class e{constructor(t){this.images=[],this.baseConfigEventListener=t}parse(t){let r=t.text||"";return Object.assign(Object.assign({},t),{text:r})}outCss(){return[]}pushImages(t){this.images=t}onEndAll(){}}p.LatexPartService=e,e.NAME_SERVICE="latex:"},80186:(A,p,e)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.LibrariesHelper=p.LibrariesPartService=void 0;const m=e(69490);class t{constructor(n,a){this.pattern_check=/^(\[@[CTG]\d+:[^\]]+\]\.)+((\[@Q\d+:[^\]]+\])|(\[[^@:]+\]))$/i,this.pattern_content=/\[(.*?)\]/i,this.images=[],this.baseConfigEventListener=[],this.baseConfigEventListener=n,this.cacheProcess=new s(a,this.baseConfigEventListener)}parse(n){let a=0,i=n.text||"";if(this.pattern_check.test(i)){let u=[];for(;null!==this.pattern_content.exec(i);){const c=this.pattern_content.exec(i);if(!c)break;u.push(c[1]),i=i.substring(0,c.index)+i.substring(c.index+c[0].length)}const l=r.convertStringToTypeObject(u),o={numberQuestion:1,path:l[0],useCache:!0};"Random"===l[0].type?("G"===l[1].type?(o.groupId=l[1].id,o.examId=l[2].id):(o.catId="C"===l[1].type?l[1].id:void 0,o.examId="T"===l[1].type?l[1].id:void 0,o.questionId="Q"===l[1].type?l[1].id:void 0),o.numberQuestion=l[0].id):o.questionId=l[0].id,i=m.PartsParser.IgnoreChar+this.cacheProcess.pushCaller(o),a++>1e4&&(i="")}return Object.assign(Object.assign({},n),{text:i})}outCss(){return[]}pushImages(n){this.images=n}onEndAll(){this.cacheProcess.startCaller()}}p.LibrariesPartService=t,t.NAME_SERVICE="libraries_part:";class r{static convertStringToTypeObject(n){const a=[];return n.forEach(i=>{let u=i.substring(1,2),l=Number(r.pattern_number.exec(i)),o="";if(r.char_types.includes(u)){let c=i.indexOf(":");-1!==c&&(o=i.substring(c))}else u="Random";a.push({name:o,id:l,type:u,content:i})}),a.reverse()}}p.LibrariesHelper=r,r.pattern_number=/\d+/i,r.char_types="CTGQH";class s{constructor(n,a){this.eventDoneKey=t.NAME_SERVICE+"done",this.cacheObjs=[],this.baseCaller=n,this.baseConfigEventListener=a}pushEventValue(){const n=this.baseConfigEventListener.filter(i=>0===i.eventName.indexOf(this.eventDoneKey));let a=[];n.forEach(i=>{const u=this.cacheObjs.filter(o=>"done"===o.step);i.func.call(i.caller,u)&&a.push(i.eventName)}),a.forEach(i=>{const u=this.baseConfigEventListener.findIndex(l=>l.eventName===i);-1!==u&&this.baseConfigEventListener.splice(u,1)})}pushCaller(n){const a=n.catId+"_"+n.examId+"_"+n.groupId+"_"+n.questionId+"_"+n.numberQuestion;var i=this.cacheObjs.find(u=>u.key===a);return i||this.cacheObjs.push(i={key:a,value:[],step:"init",pars:n,count:0}),i.count++,a+"_"+i?.count}startCaller(){this.cacheObjs.forEach(n=>{n.count=0,"init"===n.step?(n.step="call",this.baseCaller.getQuestion(n.pars.numberQuestion,n.pars.useCache,n.pars.catId,n.pars.examId,n.pars.questionId,n.pars.groupId).then(a=>{n.step="done",n.value=a,this.pushEventValue()})):"done"===n.step&&this.pushEventValue()})}}}}]);