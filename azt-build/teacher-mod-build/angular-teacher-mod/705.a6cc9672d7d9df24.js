"use strict";(self.webpackChunkTeacherMod=self.webpackChunkTeacherMod||[]).push([[705],{74871:(at,L,n)=>{n.d(L,{$:()=>o});var e=n(81519),t=n(54460),r=n(10936),v=n(34514),G=n(47426),F=n(89163),A=n(65162),P=n(15343),w=n(5502),Z=n(44155),Q=n(99503),q=n(79347),J=n(33887),l=n(36894),K=n(47348),tt=n(70050),Y=n(9691),V=n(52811),a=n(48891),U=n(46289),N=n(64160);const z=()=>({"mr-2":!0});function W(x,S){1&x&&(a.j41(0,"h3",4),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&x&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_core_dat_lai_mat_khau")," "))}function H(x,S){1&x&&a.nrm(0,"azt-loading-ui",11)}function ot(x,S){if(1&x){const _=a.RV6();a.j41(0,"div")(1,"div",5),a.EFF(2),a.nI1(3,"mytranslate"),a.j41(4,"span",6),a.EFF(5),a.k0s()(),a.j41(6,"div",5),a.EFF(7),a.nI1(8,"mytranslate"),a.k0s(),a.j41(9,"div",7)(10,"button",8),a.bIt("click",function(){a.eBV(_);const b=a.XpG();return a.Njj(b.dialogRef.close())}),a.EFF(11),a.nI1(12,"mytranslate"),a.k0s(),a.j41(13,"button",9),a.bIt("click",function(){a.eBV(_);const b=a.XpG();return a.Njj(b.confirmResetPass())}),a.DNE(14,H,1,0,"azt-loading-ui",10),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s()()()}if(2&x){const _=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),a.R7$(3),a.JRh(_.data.name),a.R7$(2),a.SpI(" ",a.bMT(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),a.R7$(4),a.JRh(a.bMT(12,11,"lang_cms_common_close_btn")),a.R7$(2),a.Y8G("disabled",_.statusObj.loading),a.R7$(),a.Y8G("ngIf",_.statusObj.loading),a.R7$(),a.SpI(" ",a.bMT(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}function f(x,S){if(1&x){const _=a.RV6();a.j41(0,"div")(1,"div",12),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.j41(4,"div",13),a.EFF(5),a.nI1(6,"mytranslate"),a.j41(7,"span",6),a.EFF(8),a.k0s()(),a.j41(9,"div",7),a.nrm(10,"input",14),a.j41(11,"button",15),a.bIt("click",function(){a.eBV(_);const b=a.XpG();return a.Njj(b.showCopySuccess())}),a.nrm(12,"lucide-icon",16),a.EFF(13),a.nI1(14,"mytranslate"),a.k0s()(),a.j41(15,"button",17),a.bIt("click",function(){a.eBV(_);const b=a.XpG();return a.Njj(b.dialogRef.close())}),a.EFF(16),a.nI1(17,"mytranslate"),a.k0s()()}if(2&x){const _=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,9,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),a.R7$(3),a.SpI(" ",a.bMT(6,11,"lang_core_dat_lai_mat_khau_note")," "),a.R7$(3),a.JRh(_.data.name),a.R7$(2),a.Y8G("disabled",!0)("value",_.passwordNew),a.R7$(),a.Y8G("cdkCopyToClipboard",_.copyPassword()),a.R7$(),a.Y8G("ngClass",a.lJ4(17,z)),a.R7$(),a.SpI(" ",a.bMT(14,13,"lang_auto_copy")," "),a.R7$(3),a.JRh(a.bMT(17,15,"lang_homework_export_homework_complete"))}}function j(x,S){if(1&x){const _=a.RV6();a.j41(0,"div")(1,"div",18),a.nrm(2,"lucide-icon",19),a.j41(3,"span",20),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s()(),a.j41(6,"div",21)(7,"button",22),a.bIt("click",function(){a.eBV(_);const b=a.XpG();return a.Njj(b.dialogRef.close())}),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s()()()}if(2&x){const _=a.XpG();a.R7$(4),a.SpI(" ",a.bMT(5,2,_.errorMessage)," "),a.R7$(4),a.JRh(a.bMT(9,4,"lang_button_close"))}}let o=(()=>{var x;class S extends J._{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.errorMessage="",this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe(b=>{b.success||(this.errorMessage=b.message),this.passwordNew=b.data??"",this.isAccept=!0,this.successStatusObj()})}ngOnInit(){super.ngOnInit()}constructor(M,b,D){super(D,b),this.domainUsersManagementService=M,this.dialogRef=b,this.data=D,this.isAccept=!1,this.passwordNew="",this.errorMessage=""}ngOnDestroy(){super.ngOnDestroy()}}return(x=S).\u0275fac=function(M){return new(M||x)(a.rXU(U.Z),a.rXU(F.CP,8),a.rXU(F.Vh,8))},x.\u0275cmp=a.VBU({type:x,selectors:[["azt-reset-password"]],standalone:!0,features:[a.Jv_([{provide:e.$O,useClass:Q.fb,deps:[G.Ju,v.ij]},{provide:e.vq,useFactory:q.fJ,deps:[Y.F]}]),a.Vt3,a.aNF],decls:6,vars:4,consts:[[1,"box","p-4"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"click","disabled"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"],[1,"flex","items-center"],["name","octagon-alert",1,"text-danger"],[1,"font-medium","ml-2"],[1,"text-right","mt-3"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","min-width-100",3,"click"]],template:function(M,b){1&M&&(a.j41(0,"div",0)(1,"div",1),a.DNE(2,W,3,3,"h3",2)(3,ot,17,15,"div",3)(4,f,18,18,"div",3)(5,j,10,6,"div",3),a.k0s()()),2&M&&(a.R7$(2),a.Y8G("ngIf",!b.isAccept),a.R7$(),a.Y8G("ngIf",!b.isAccept),a.R7$(),a.Y8G("ngIf",b.isAccept&&b.passwordNew),a.R7$(),a.Y8G("ngIf",b.isAccept&&!b.passwordNew))},dependencies:[V.R,t.MD,t.YU,t.bT,r.X1,A.iI,r.YN,K.wp,Z.s,N.dF,P.flO,P.WGl,tt.L,w.Id,l.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),S})()},23750:(at,L,n)=>{n.d(L,{J:()=>$});var e=n(48891),t=n(59640),r=n(73202),v=n(10936),G=n(89163),F=n(51698),A=n(33887),P=n(64198),w=n(93518),Z=n(39712),Q=n(2915),q=n(63349),J=n(22851),l=n(54460),K=n(65162),tt=n(47348),Y=n(44155),V=n(15343),a=n(70050),U=n(5502),N=n(36894),z=n(40111),W=n(27691);let H=(()=>{var i;class O{constructor(d){this.http=d,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(d){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${d}&key=${this.apiKey}&part=snippet`)}}return(i=O).\u0275fac=function(d){return new(d||i)(e.KVO(W.Qq))},i.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),O})();var ot=n(60303);const f=(i,O)=>[i,O],j=()=>({"text-success mr-2":!0});function o(i,O){if(1&i){const c=e.RV6();e.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),e.bIt("uploadComplete",function(h){e.eBV(c);const y=e.XpG();return e.Njj(y.handleUploadComplete(h))}),e.j41(3,"div",13)(4,"div",14)(5,"div",15),e.nrm(6,"lucide-icon",16),e.j41(7,"span",17),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",18),e.EFF(11),e.nI1(12,"mytranslate"),e.j41(13,"a",19),e.bIt("click",function(h){return e.eBV(c),e.Njj(h.stopPropagation())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()()()()}if(2&i){const c=e.XpG();e.R7$(2),e.Y8G("uploadToCdnMenu",c.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",e.l_i(12,f,c.allUploadFileTypes.SYNTHETIC,c.allUploadFileTypes.AZT)),e.R7$(4),e.Y8G("ngClass",e.lJ4(15,j)),e.R7$(2),e.SpI(" ",e.bMT(9,6,"lang_wsuper_admin_upload_file_choose_file_upload")," "),e.R7$(3),e.SpI(" ",e.bMT(12,8,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),e.R7$(3),e.SpI(" ",e.bMT(15,10,"lang_auto_tim_hieu_them")," ")}}function x(i,O){1&i&&(e.j41(0,"div",28)(1,"div",29),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function S(i,O){if(1&i&&e.nrm(0,"azt-preview-file",33),2&i){const c=e.XpG(3);e.Y8G("fileUrl",c.docsLinkControl.value)("customHeight",c.boxContentHeight)("fileType",c.shareTypeDocument)}}function _(i,O){if(1&i&&(e.j41(0,"div",30)(1,"div",31),e.DNE(2,S,1,3,"azt-preview-file",32),e.k0s()()),2&i){const c=e.XpG(2);e.R7$(2),e.Y8G("ngIf",c.docsLinkControl.value)}}function M(i,O){if(1&i){const c=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),e.nI1(4,"mytranslate"),e.bIt("input",function(){e.eBV(c);const h=e.XpG();return e.Njj(h.getVideoNameFromUrl())}),e.k0s()(),e.j41(5,"div",24),e.nrm(6,"input",25),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,x,4,3,"div",26),e.k0s(),e.DNE(9,_,3,1,"div",27),e.k0s()}if(2&i){const c=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,6,"homework_view"==c.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),e.Y8G("formControl",c.docsLinkControl),e.R7$(3),e.FS9("placeholder",e.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),e.Y8G("formControl",c.fileNameControl),e.R7$(2),e.Y8G("ngIf",c.fileNameControl.invalid),e.R7$(),e.Y8G("ngIf",c.checkShowPreviewLink())}}let b=(()=>{var i;class O extends A._{onTabChanged(d){this.selectedIndex=d.index,this.shareTypeDocument=0==this.selectedIndex?r.d.exam:r.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(d){d.forEach(h=>{let y=this.sAztFileTypeService.getTypeFileByMime(h);y?this.dialogRef.close({name:h.name??"",refId:0,groupType:this.groupTypeFile,type:y,link:h.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,P.y1)(this.docsLinkControl.value)||(0,P.Kb)(this.docsLinkControl.value)||(0,P.VJ)(this.docsLinkControl.value)))}getNameVideo(d){return new F.c(h=>{this.youtubeService.getVideoDetails(d).subscribe(y=>{h.next(y.items&&y.items.length?y.items[0].snippet.title:"undefined"),h.complete()},y=>{h.next(void 0),h.complete()})})}getVideoNameFromUrl(){this.data.type==w.k.homework_view&&(0,P.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=r.d.video,this.getNameVideo((0,P.b3)(this.docsLinkControl.value)??"").subscribe(d=>{d&&this.fileNameControl.setValue(d)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,P.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,P.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let d={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,P.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(d)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(r.d,this.data.type,r.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(w.k,this.data.type,w.k.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(d,h,y,nt){super(nt,y),this.sAztFileTypeService=d,this.youtubeService=h,this.dialogRef=y,this.data=nt,this.docsLinkControl=new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),this.fileNameControl=new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),this.shareTypeDocument=r.d.exam,this.groupTypeFile=w.k.document,this.allDocumentGroupTypes=w.k,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=Z.b8,this.allUploadFileTypes=Z.PO}}return(i=O).\u0275fac=function(d){return new(d||i)(e.rXU(z.k),e.rXU(H),e.rXU(G.CP,8),e.rXU(G.Vh,8))},i.\u0275cmp=e.VBU({type:i,selectors:[["add-document-session-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(d,h){1&d&&(e.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),e.bIt("selectedTabChange",function(nt){return h.onTabChanged(nt)}),e.nrm(5,"mat-tab",3),e.nI1(6,"mytranslate"),e.nrm(7,"mat-tab",3),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",4),e.DNE(10,o,16,16,"div",5)(11,M,10,10,"div",6),e.k0s()()()(),e.j41(12,"div",7)(13,"button",8),e.bIt("click",function(){return h.btnCloseDialog()}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",9),e.bIt("click",function(){return h.confirmUpload()}),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()()),2&d&&(e.R7$(4),e.Y8G("selectedIndex",h.selectedIndex),e.R7$(),e.FS9("label",e.bMT(6,8,"lang_auto_upload_file")),e.R7$(2),e.FS9("label",e.bMT(8,10,"lang_config_educational_program_use_link")),e.R7$(3),e.Y8G("ngIf",0==h.selectedIndex),e.R7$(),e.Y8G("ngIf",1==h.selectedIndex),e.R7$(3),e.SpI(" ",e.bMT(15,12,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",h.fileNameControl.invalid),e.R7$(),e.SpI(" ",e.bMT(18,14,"lang_auto_luu")," "))},dependencies:[Q.U,q.V,J.N,l.MD,l.YU,l.bT,v.X1,v.me,v.BC,v.l_,K.iI,v.YN,tt.wp,Y.s,ot.mq,ot.T8,V.flO,V.WGl,a.L,U.Id,N.k],encapsulation:2}),O})();var D=n(52811),k=n(66772);function X(i,O){1&i&&(e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function et(i,O){if(1&i&&e.nrm(0,"azt-preview-file",18),2&i){const c=e.XpG(2);e.Y8G("fileUrl",c.embedLinkControl.value)("fileType",c.shareTypeFile)}}function st(i,O){1&i&&e.nrm(0,"azt-loading-ui",19)}function rt(i,O){if(1&i){const c=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"input",5),e.nI1(4,"mytranslate"),e.bIt("input",function(){e.eBV(c);const h=e.XpG();return e.Njj(h.getVideoNameFromUrl())}),e.k0s()(),e.j41(5,"div",6),e.nrm(6,"input",7),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,X,4,3,"div",8),e.k0s(),e.j41(9,"div",9)(10,"div",10),e.DNE(11,et,1,2,"azt-preview-file",11),e.k0s()(),e.j41(12,"div",12)(13,"button",13),e.bIt("click",function(){e.eBV(c);const h=e.XpG();return e.Njj(h.btnCloseDialog())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",14),e.bIt("click",function(){e.eBV(c);const h=e.XpG();return e.Njj(h.confirmUpload())}),e.DNE(17,st,1,0,"azt-loading-ui",15),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()(),e.bVm()}if(2&i){const c=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),e.Y8G("formControl",c.embedLinkControl),e.R7$(3),e.FS9("placeholder",e.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),e.Y8G("formControl",c.fileNameControl),e.R7$(2),e.Y8G("ngIf",c.fileNameControl.invalid),e.R7$(3),e.Y8G("ngIf",c.embedLinkControl.value),e.R7$(3),e.SpI(" ",e.bMT(15,14,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",!c.isValidEmbedUrl()||c.fileNameControl.invalid||c.statusObj.loading),e.R7$(),e.Y8G("ngIf",c.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(19,16,"lang_auto_luu")," ")}}function it(i,O){1&i&&(e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function lt(i,O){if(1&i&&e.nrm(0,"azt-preview-file",23),2&i){const c=e.XpG(2);e.Y8G("fileUrl",c.docsLinkControl.value)("customHeight",c.boxContentHeight)("fileType",c.shareTypeFile)}}function ct(i,O){1&i&&e.nrm(0,"azt-loading-ui",19)}function _t(i,O){if(1&i){const c=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4),e.nrm(3,"input",7),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",6),e.nrm(6,"input",7),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,it,4,3,"div",8),e.k0s(),e.j41(9,"div",9)(10,"div",20),e.DNE(11,lt,1,3,"azt-preview-file",21),e.k0s()(),e.j41(12,"div",22)(13,"button",13),e.bIt("click",function(){e.eBV(c);const h=e.XpG();return e.Njj(h.btnCloseDialog())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",14),e.bIt("click",function(){e.eBV(c);const h=e.XpG();return e.Njj(h.confirmUpload())}),e.DNE(17,ct,1,0,"azt-loading-ui",15),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()(),e.bVm()}if(2&i){const c=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),e.Y8G("formControl",c.docsLinkControl),e.R7$(3),e.FS9("placeholder",e.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),e.Y8G("formControl",c.fileNameControl),e.R7$(2),e.Y8G("ngIf",c.fileNameControl.invalid),e.R7$(3),e.Y8G("ngIf",c.docsLinkControl.value),e.R7$(3),e.SpI(" ",e.bMT(15,14,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",!c.isValidDocsUrl()||c.fileNameControl.invalid||c.statusObj.loading),e.R7$(),e.Y8G("ngIf",c.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(19,16,"lang_auto_luu")," ")}}let u=(()=>{var i;class O extends A._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,P.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,P.si)(this.docsLinkControl.value)}getNameVideo(d){return new F.c(h=>{this.youtubeService.getVideoDetails(d).subscribe(y=>{h.next(y.items&&y.items.length?y.items[0].snippet.title:"undefined"),h.complete()},y=>{h.next(void 0),h.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,P.b3)(this.embedLinkControl.value)??"").subscribe(d=>{d&&this.fileNameControl.setValue(d)})}confirmUpload(){if(this.data.type==r.d.video&&this.embedLinkControl.valid&&(0,P.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let d={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:w.k.video,link:(0,P.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(d)}this.data.type==r.d.google_docs&&this.docsLinkControl.valid&&(0,P.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:w.k.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(r.d,this.data.type,r.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(d,h,y,nt,mt){super(mt,nt),this.sAZTranslateService=d,this.http=h,this.youtubeService=y,this.dialogRef=nt,this.data=mt,this.embedLinkControl=new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),this.docsLinkControl=new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),this.fileNameControl=new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),this.shareTypeFile=r.d.video,this.boxContentHeight=0}}return(i=O).\u0275fac=function(d){return new(d||i)(e.rXU(k.o),e.rXU(W.Qq),e.rXU(H),e.rXU(G.CP,8),e.rXU(G.Vh,8))},i.\u0275cmp=e.VBU({type:i,selectors:[["add-video-session"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(d,h){1&d&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,rt,20,18,"ng-container",2)(3,_t,20,18,"ng-container",2),e.k0s()()),2&d&&(e.R7$(2),e.Y8G("ngIf","video"==h.data.type),e.R7$(),e.Y8G("ngIf","google_docs"==h.data.type))},dependencies:[J.N,D.R,l.MD,l.bT,v.X1,v.me,v.BC,v.l_,K.iI,v.YN,tt.wp,Y.s,V.flO,a.L,U.Id,N.k],encapsulation:2}),O})();var B=n(46899),R=n(17818);const C=[[["span"]]],E=["span"];function T(i,O){1&i&&e.nrm(0,"azt-loading-ui",11)}function s(i,O){1&i&&(e.j41(0,"span"),e.EFF(1," + "),e.k0s())}function p(i,O){if(1&i){const c=e.RV6();e.qex(0),e.j41(1,"button",8),e.bIt("click",function(h){return e.eBV(c),e.Njj(h.stopPropagation())}),e.DNE(2,T,1,0,"azt-loading-ui",9)(3,s,2,0,"span",10),e.SdG(4),e.k0s(),e.bVm()}if(2&i){const c=e.XpG(),d=e.sdS(4);e.R7$(),e.HbH("btn btn-transparent w-48 block "+c.customClass),e.Y8G("disabled",c.loadingUpload)("matMenuTriggerFor",d),e.R7$(),e.Y8G("ngIf",c.loadingUpload),e.R7$(),e.Y8G("ngIf",!c.loadingUpload)}}function m(i,O){1&i&&e.nrm(0,"azt-loading-ui",11)}function I(i,O){1&i&&(e.j41(0,"span"),e.EFF(1," + "),e.k0s())}function g(i,O){if(1&i){const c=e.RV6();e.j41(0,"span",12),e.bIt("click",function(h){return e.eBV(c),e.Njj(h.stopPropagation())}),e.DNE(1,m,1,0,"azt-loading-ui",9)(2,I,2,0,"span",10),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.nI1(6,"mytranslate"),e.k0s()()}if(2&i){const c=e.XpG(),d=e.sdS(4);e.Y8G("matMenuTriggerFor",d),e.R7$(),e.Y8G("ngIf",c.loadingUpload),e.R7$(),e.Y8G("ngIf",!c.loadingUpload),e.R7$(2),e.Lme("",e.bMT(5,5,"lang_button_add")," ",e.bMT(6,7,"lang_auto_tai_lieu"),"")}}let $=(()=>{var i;class O extends t.H{showAddLinkDialog(d){this.loadingUpload=!0,this.sAztDialogService.open(u,{width:d==r.d.video?"750px":"950px",data:{showUp:!0,type:d},restoreFocus:!1}).afterClosed().subscribe(y=>{y?(this.emitFileDocument.emit({name:y.name,refId:0,groupType:y.groupType,type:y.type,link:y.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(d){this.loadingUpload=!0,this.sAztDialogService.open(b,{width:"950px",data:{showUp:!0,type:d},restoreFocus:!1}).afterClosed().subscribe(y=>{y?(this.emitFileDocument.emit({name:y.name,refId:0,groupType:y.groupType,type:y.type,link:y.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(d){super(),this.sAztDialogService=d,this.isBtn=!0,this.customClass="",this.emitFileDocument=new e.bkB,this.loadingUpload=!1}}return(i=O).\u0275fac=function(d){return new(d||i)(e.rXU(B.i))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:E,decls:27,vars:14,consts:[["otherBtnTemplate",""],["addDocumentMenu","matMenu"],[4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"click","disabled","matMenuTriggerFor"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"click","matMenuTriggerFor"]],template:function(d,h){if(1&d){const y=e.RV6();e.NAR(C),e.DNE(0,p,5,6,"ng-container",2)(1,g,7,9,"ng-template",null,0,e.C5r),e.j41(3,"mat-menu",3,1)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),e.bIt("click",function(){return e.eBV(y),e.Njj(h.showAddLinkDialog("video"))}),e.j41(9,"span"),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()(),e.j41(12,"li")(13,"a",7),e.bIt("click",function(){return e.eBV(y),e.Njj(h.showAddDocumentDialog("document"))}),e.j41(14,"span"),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()(),e.j41(17,"li")(18,"a",7),e.bIt("click",function(){return e.eBV(y),e.Njj(h.showAddDocumentDialog("homework"))}),e.j41(19,"span"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()(),e.j41(22,"li")(23,"a",7),e.bIt("click",function(){return e.eBV(y),e.Njj(h.showAddDocumentDialog("homework_view"))}),e.j41(24,"span"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()()()()()()}if(2&d){const y=e.sdS(2);e.Y8G("ngIf",h.isBtn)("ngIfElse",y),e.R7$(10),e.SpI(" ",e.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),e.R7$(5),e.SpI(" ",e.bMT(16,8,"lang_config_educational_program_add_document")," "),e.R7$(5),e.SpI(" ",e.bMT(21,10,"lang_config_educational_program_add_homework")," "),e.R7$(5),e.SpI(" ",e.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[D.R,l.MD,l.bT,v.X1,K.iI,v.YN,tt.wp,Y.s,R.kk,R.Cp,V.flO,a.L,U.Id,N.k],encapsulation:2}),O})()},10127:(at,L,n)=>{n.d(L,{B:()=>R});var e=n(81519),t=n(54460),r=n(10936),v=n(34514),G=n(47426),F=n(89163),A=n(65162),P=n(15343),w=n(44233),Z=n(44155),Q=n(99503),q=n(79347),J=n(33887),l=n(43166),K=n(47348),tt=n(70050),Y=n(9691);class V{static formGroupClassrooms(E){return void 0!==E.controls.find(p=>p.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}var a=n(93493),U=n(45344),N=n(2915),z=n(43165),W=n(74742),H=n(18718),ot=n(60902),f=n(5502),j=n(36894),o=n(48891),x=n(49842),S=n(46899),_=n(17187),M=n(12992),b=n(95670),D=n(4375),k=n(47712),X=n(81587);const et=()=>({"text-danger":!0});function st(C,E){if(1&C&&o.nrm(0,"azt-loading-effect",7),2&C){const T=o.XpG();o.Y8G("currentStatusObj",T.statusObj)}}function rt(C,E){1&C&&(o.j41(0,"div",21),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&C&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function it(C,E){if(1&C&&(o.j41(0,"mat-option",34),o.EFF(1),o.k0s()),2&C){const T=E.$implicit,s=o.XpG(3);o.Y8G("value",T.id)("disabled",s.isSelectClassroom(T.id)),o.R7$(),o.SpI(" ",T.name," ")}}function lt(C,E){if(1&C){const T=o.RV6();o.j41(0,"button",35),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(T);const p=o.XpG().$implicit,m=o.XpG(2);return o.Njj(m.removeClassroom(p))}),o.nrm(2,"lucide-icon",36),o.k0s()}2&C&&(o.FS9("matTooltip",o.bMT(1,2,"lang_student_classroom_list_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(4,et)))}function ct(C,E){1&C&&(o.j41(0,"div",37),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&C&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function _t(C,E){if(1&C){const T=o.RV6();o.j41(0,"div",38)(1,"mat-checkbox",39),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"button",40),o.nI1(5,"mytranslate"),o.bIt("click",function(){o.eBV(T);const p=o.XpG().$implicit,m=o.XpG(2);return o.Njj(m.removeClassroom(p))}),o.nrm(6,"lucide-icon",36),o.k0s()()}if(2&C){const T=o.XpG().$implicit;o.R7$(),o.Y8G("checked",T.controls.isTryLearning.value),o.R7$(),o.SpI(" ",o.bMT(3,4,"lang_core_hoc_thu")," "),o.R7$(2),o.FS9("matTooltip",o.bMT(5,6,"lang_student_classroom_list_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(8,et))}}function u(C,E){if(1&C&&(o.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"div",14)(4,"div",25)(5,"mat-form-field",26)(6,"mat-select",27,1)(8,"mat-option"),o.nrm(9,"ngx-mat-select-search",28),o.nI1(10,"mytranslate"),o.nI1(11,"mytranslate"),o.k0s(),o.j41(12,"mat-option",29),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s(),o.DNE(15,it,2,3,"mat-option",30),o.k0s()(),o.DNE(16,lt,3,5,"button",31),o.k0s(),o.DNE(17,ct,3,3,"div",32),o.k0s()(),o.DNE(18,_t,7,9,"div",33),o.k0s()()),2&C){const T=E.$implicit,s=o.sdS(7),p=o.XpG(2);o.R7$(),o.Y8G("formGroup",T),o.R7$(5),o.Y8G("formControl",T.controls.classroomId),o.R7$(3),o.FS9("placeholderLabel",o.bMT(10,11,"lang_search_by_name")),o.FS9("noEntriesFoundLabel",o.bMT(11,13,"lang_search_not_found")),o.Y8G("formControl",s.searchControl),o.R7$(3),o.Y8G("value",0),o.R7$(),o.SpI("---",o.bMT(14,15,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),o.R7$(2),o.Y8G("ngForOf",s.filter(p.classroomOwner,"name")),o.R7$(),o.Y8G("ngIf",p.isSelectedMonth()),o.R7$(),o.Y8G("ngIf",T.controls.classroomId.errors),o.R7$(),o.Y8G("ngIf",!p.isSelectedMonth())}}function B(C,E){if(1&C){const T=o.RV6();o.j41(0,"azt-mat-dialog-content")(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"azt-form-enter-info-student",12),o.bIt("closeDialog",function(){o.eBV(T);const p=o.XpG();return o.Njj(p.dialogRef.close())}),o.k0s()(),o.j41(8,"div",13)(9,"div",14),o.nrm(10,"azt-checkbox-month",15),o.j41(11,"h3",16),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.DNE(14,rt,3,3,"div",17)(15,u,19,17,"div",18),o.j41(16,"div",19)(17,"div",20),o.bIt("click",function(){o.eBV(T);const p=o.XpG();return o.Njj(p.addClassroom())}),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()()()()()()()}if(2&C){const T=o.XpG();o.R7$(5),o.SpI(" ",o.bMT(6,9,"lang_auto_thong_tin_chung")," "),o.R7$(2),o.Y8G("studentForm",T.studentForm)("hasUser",!!T.data&&T.data.hasUser),o.R7$(3),o.Y8G("checkboxMonth",T.checkboxMonth)("histories",T.histories),o.R7$(2),o.SpI(" ",o.bMT(13,11,"lang_auto_lop_hoc")," "),o.R7$(2),o.Y8G("ngIf",0==T.formClassrooms.controls.length),o.R7$(),o.Y8G("ngForOf",T.formClassrooms.controls),o.R7$(3),o.SpI("+ ",o.bMT(19,13,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let R=(()=>{var C;class E extends J._{removeClassroom(s){let p=this.formClassrooms.controls.filter(m=>m!=s);this.formClassrooms=new r.Yp(p)}addClassroom(){let s=this.formClassrooms.controls;s.push(new r.gE({classroomId:new r.MJ(0,{nonNullable:!0,validators:[r.k0.min(1)]}),isTryLearning:new r.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new r.Yp(s,{validators:[V.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(s){return null!=this.formClassrooms.controls.find(p=>p.controls.classroomId.value==s)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(s=>1==s.selected)}saveData(){var s=this.studentForm.form.getRawValue(),p=[],m=[];this.checkboxMonth.checkboxMonth.filter(g=>1==g.selected).forEach(g=>{m.push({month:g.month,year:g.year})}),this.formClassrooms.controls.forEach(g=>{p.push({classroomId:g.controls.classroomId.value,trialLearning:!(m.length>0)&&g.controls.isTryLearning.value})}),this.isSaving=!0;var I={id:this.data?this.data.id:void 0,fullName:s.fullName,gender:s.gender,phone:s.phoneNumber,email:s.email,userName:s.userName,birthday:s.birthday?this.timeService.formatDateTimeToPostToServer(new Date(s.birthday).toDateString()):void 0,password:s.password,classrooms:p,attachPayments:m,schoolName:s.school,facebookLink:s.facebookLink,identificationNumber:s.identificationNumber?Number(s.identificationNumber):void 0};this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentPost(I)).subscribe(g=>{if(this.isSaving=!1,!g.success)return this.errorStatusObj(g.message,!0);this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)}))}getClassroomName(s){var p=this.classroomOwner.filter(m=>s==m.id)??[];return p.length>0?p[0].name:""}getHistories(){if(!this.data)return this.stopStatusObj();this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.data.id)).subscribe(s=>{if(this.isSaving=!1,!s.success)return this.errorStatusObj(s.message,!0);this.histories=s.data?.histories??[],this.checkboxMonth.checkboxMonth.map(m=>m.selected=null!=this.histories.find(I=>I.month==m.month&&m.year==I.year));var p=[];s.data?.classrooms.forEach(m=>{p.push(new r.gE({classroomId:new r.MJ(m.classroomId,{nonNullable:!0,validators:[r.k0.min(1)]}),isTryLearning:new r.MJ(m.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new r.Yp(p,{validators:[V.formGroupClassrooms]}),this.stopStatusObj()}))}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0),void this.stopStatusObj();this.classroomOwner=s.data?.objs??[],this.getHistories()}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(s,p,m,I,g,$,i){super(i,$),this.classroomGroupService=s,this.sAztDialogService=p,this.sAztTimeService=m,this.timeService=I,this.paymentService=g,this.dialogRef=$,this.data=i,this.histories=[],this.checkboxMonth=new ot.L,this.studentForm=new W.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,i&&(this.checkboxMonth.studentId=this.data.id,i.hasUser?this.studentForm.form=new r.gE({fullName:new r.MJ(i.fullName??"",{nonNullable:!0,validators:[r.k0.required]}),gender:new r.MJ(i.gender??0,{nonNullable:!0}),birthday:new r.MJ(i.birthday,{nonNullable:!0}),email:new r.MJ(i.email??"",{nonNullable:!0,validators:[r.k0.email,r.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new r.MJ(i.phone??"",{nonNullable:!0,validators:[r.k0.pattern(/^[0-9\-]*$/),r.k0.minLength(10),r.k0.maxLength(10)]}),parentPhoneNumber:new r.MJ(i.phone??"",{nonNullable:!0,validators:[r.k0.pattern(/^[0-9\-]*$/),r.k0.minLength(10),r.k0.maxLength(10)]}),identificationNumber:new r.MJ(i.identificationNumber?i.identificationNumber.toString():"",{nonNullable:!0,validators:[r.k0.min(1),r.k0.maxLength(this.myEnvironment.maxStudentCodeLength),r.k0.pattern("^[0-9]*$")]}),facebookLink:new r.MJ(i.facebookLink,{nonNullable:!0}),school:new r.MJ(i.schoolName,{nonNullable:!0}),userName:new r.MJ(i.parentUserName??"",{nonNullable:!0,validators:[a.i.validateUserName]})}):this.studentForm.form.setValue({fullName:i.fullName??"",gender:i.gender??0,birthday:i.birthday,email:i.email??"",phoneNumber:i.phone??"",parentPhoneNumber:i.parentPhone??"",identificationNumber:i.identificationNumber?i.identificationNumber.toString():"",facebookLink:i.facebookLink,school:i.schoolName,password:"",userName:i.parentUserName??""})),this.formClassrooms=new r.Yp([new r.gE({classroomId:new r.MJ(0,{nonNullable:!0,validators:[r.k0.min(1)]}),isTryLearning:new r.MJ(!1,{nonNullable:!0})})],{validators:[V.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}}return(C=E).\u0275fac=function(s){return new(s||C)(o.rXU(x.kG),o.rXU(S.i),o.rXU(Y.F),o.rXU(Y.F),o.rXU(_.W),o.rXU(F.CP,8),o.rXU(F.Vh,8))},C.\u0275cmp=o.VBU({type:C,selectors:[["azt-send-feedback"]],standalone:!0,features:[o.Jv_([{provide:e.$O,useClass:Q.fb,deps:[G.Ju,v.ij]},{provide:e.vq,useFactory:q.fJ,deps:[Y.F]}]),o.Vt3,o.aNF],decls:11,vars:10,consts:[["doneLoading",""],["searchInListClassroomName","searchInList"],[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"click","disabled"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"click","disabled"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"closeDialog","studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["searchInList","","name","classroomId",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],[1,"btn-delete-room","ml-2",3,"click","matTooltip"],["name","trash-2","size","20",3,"ngClass"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],[1,"btn-delete-room",3,"click","matTooltip"]],template:function(s,p){if(1&s){const m=o.RV6();o.j41(0,"div",2),o.DNE(1,st,1,1,"azt-loading-effect",3)(2,B,20,15,"ng-template",null,0,o.C5r),o.j41(4,"div",4)(5,"button",5),o.bIt("click",function(){return o.eBV(m),o.Njj(p.dialogRef.close())}),o.EFF(6),o.nI1(7,"mytranslate"),o.k0s(),o.j41(8,"button",6),o.bIt("click",function(){return o.eBV(m),o.Njj(p.saveData())}),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s()()()}if(2&s){const m=o.sdS(3);o.R7$(),o.Y8G("ngIf",p.statusObj.loading)("ngIfElse",m),o.R7$(4),o.Y8G("disabled",p.isSaving),o.R7$(),o.JRh(o.bMT(7,6,"lang_cms_common_close_btn")),o.R7$(2),o.Y8G("disabled",!p.isSaving&&(p.formClassrooms.invalid||p.studentForm.form.invalid)||0==p.formClassrooms.controls.length),o.R7$(),o.SpI(" ",o.bMT(10,8,"lang_button_save")," ")}},dependencies:[w.An,w.U9,l.x,H.K,N.U,z.s,U.u,t.MD,t.YU,t.Sq,t.bT,r.X1,r.qT,r.BC,r.cb,r.l_,r.j4,r.JD,A.iI,r.YN,K.wp,Z.s,G.wT,M.So,b.rl,D.VO,k.oV,P.flO,P.WGl,tt.L,f.Id,j.k,X.t],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),E})()},60902:(at,L,n)=>{n.d(L,{L:()=>e});class e{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}},14999:(at,L,n)=>{n.d(L,{d:()=>V});var e=n(89163),t=n(33887),r=n(2915),v=n(52811),G=n(54460),F=n(10936),A=n(65162),P=n(47348),w=n(44155),Z=n(15343),Q=n(70050),q=n(5502),J=n(36894),l=n(48891),K=n(6440);function tt(a,U){if(1&a&&(l.qex(0),l.EFF(1),l.nI1(2,"mytranslate"),l.j41(3,"b",10),l.EFF(4),l.k0s(),l.bVm()),2&a){const N=l.XpG();l.R7$(),l.SpI(" \xa0",l.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),l.R7$(3),l.JRh(null==N.classroomObj?null:N.classroomObj.name)}}function Y(a,U){1&a&&l.nrm(0,"azt-loading-ui",11)}let V=(()=>{var a;class U extends t._{btnCloseDialog(z){this.dialogRef.close(z)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(z=>{1==z.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(z.message,!0),this.btnCloseDialog(!1))})))}constructor(z,W,H){super(H,W),this.studentService=z,this.dialogRef=W,this.data=H,this.studentObj=H.studentObj,this.classroomObj=H.classroomObj}}return(a=U).\u0275fac=function(z){return new(z||a)(l.rXU(K.b0),l.rXU(e.CP,8),l.rXU(e.Vh,8))},a.\u0275cmp=l.VBU({type:a,selectors:[["app-delete-single-student"]],standalone:!0,features:[l.Vt3,l.aNF],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(z,W){1&z&&(l.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),l.EFF(5),l.nI1(6,"mytranslate"),l.j41(7,"b",4),l.EFF(8),l.k0s(),l.DNE(9,tt,5,4,"ng-container",5),l.EFF(10," ? "),l.k0s()()()(),l.j41(11,"div",6)(12,"button",7),l.bIt("click",function(){return W.btnCloseDialog(!1)}),l.EFF(13),l.nI1(14,"mytranslate"),l.k0s(),l.j41(15,"button",8),l.bIt("click",function(){return W.confirmDelete()}),l.DNE(16,Y,1,0,"azt-loading-ui",9),l.EFF(17),l.nI1(18,"mytranslate"),l.k0s()()()),2&z&&(l.R7$(5),l.SpI(" ",l.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),l.R7$(3),l.JRh(null==W.studentObj?null:W.studentObj.fullName),l.R7$(),l.Y8G("ngIf",null==W.classroomObj?null:W.classroomObj.name),l.R7$(4),l.SpI(" ",l.bMT(14,8,"lang_cms_common_close_btn")," "),l.R7$(3),l.Y8G("ngIf",W.statusObj.loading),l.R7$(),l.SpI(" ",l.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[r.U,v.R,G.MD,G.bT,F.X1,A.iI,F.YN,P.wp,w.s,Z.flO,Q.L,q.Id,J.k],encapsulation:2}),U})()},46723:(at,L,n)=>{n.d(L,{B:()=>S});var e=n(81519),t=n(10936),r=n(47426),v=n(89163),G=n(95670),A=(n(78472),n(99503)),P=n(79347),w=n(33887),Z=n(9691),Q=n(44477),q=n(93493),J=n(74742),l=n(43234),K=n(2915),tt=n(43165),Y=n(52811),V=n(54460),a=n(65162),U=n(47348),N=n(44155),z=n(15343),W=n(70050),H=n(5502),ot=n(36894),f=n(48891),j=n(6440);function o(_,M){if(1&_&&(f.j41(0,"div",10)(1,"span"),f.EFF(2),f.nI1(3,"mytranslate"),f.k0s()()),2&_){const b=f.XpG();f.R7$(2),f.SpI("",f.bMT(3,1,b.msgError),"!")}}function x(_,M){1&_&&f.nrm(0,"azt-loading-ui",11)}let S=(()=>{var _;class M extends w._{confirmAction(){let D=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let k={id:this.studentObj?.id??0,fullName:D.fullName,phone:D.phoneNumber,email:D.email,identificationNumber:D.identificationNumber?Number(D.identificationNumber):void 0,gender:Number(D.gender),birthday:D.birthday?this.timeService.formatOnlyDateToPostToServer(D.birthday):void 0,classroomId:this.classroomObj?.id??0,facebookLink:D.facebookLink,schoolName:D.school,userName:D.userName,parentPhone:D.parentPhoneNumber};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(k).subscribe(X=>{1==X.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=X.message??"",this.stopStatusObj())}))}}btnCloseDialog(D){this.dialogRef.close(D)}ngOnInit(){super.ngOnInit()}constructor(D,k,X,et){super(et,X),this.studentService=D,this.timeService=k,this.dialogRef=X,this.data=et,this.msgError="",this.maxDate=l.c.maxDateTimePicker,this.studentForm=new J.d,this.studentObj=et.studentObj,this.classroomObj=et.classroomObj,this.studentForm.form=new t.gE({fullName:new t.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[t.k0.required]}),userName:new t.MJ(this.studentObj?.parentUserName??"",{nonNullable:!0,validators:[q.i.validateUserName]}),gender:new t.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new t.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new t.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[Q.U.isInvalidEmail,t.k0.email,t.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new t.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[t.k0.pattern(/^[0-9\-]*$/),t.k0.minLength(10),t.k0.maxLength(10)]}),parentPhoneNumber:new t.MJ(this.studentObj?.parentPhone??"",{nonNullable:!0,validators:[t.k0.pattern(/^[0-9\-]*$/),t.k0.minLength(10),t.k0.maxLength(10)]}),identificationNumber:new t.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,this.myEnvironment.maxStudentCodeLength),{nonNullable:!0,validators:[t.k0.min(1),t.k0.maxLength(this.myEnvironment.maxStudentCodeLength),t.k0.pattern("^[0-9]*$")]}),facebookLink:new t.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new t.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return(_=M).\u0275fac=function(D){return new(D||_)(f.rXU(j.b0),f.rXU(Z.F),f.rXU(v.CP,8),f.rXU(v.Vh,8))},_.\u0275cmp=f.VBU({type:_,selectors:[["app-edit-student"]],standalone:!0,features:[f.Jv_([{provide:e.$O,useClass:A.fb,deps:[r.Ju,A.ij]},{provide:e.vq,useFactory:P.fJ,deps:[Z.F]},{provide:G.U$,useValue:{floatLabel:"never"}}]),f.Vt3,f.aNF],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"closeDialog","studentForm"],["class","text-xs font-medium text-danger mt-2 pl-3 mb-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","pl-3","mb-2","fade"],[1,"mr-1"]],template:function(D,k){1&D&&(f.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),f.EFF(5),f.nI1(6,"mytranslate"),f.k0s(),f.j41(7,"azt-form-enter-info-student",4),f.bIt("closeDialog",function(et){return k.btnCloseDialog(et)}),f.k0s()()(),f.DNE(8,o,4,3,"div",5),f.k0s(),f.j41(9,"div",6)(10,"button",7),f.bIt("click",function(){return k.btnCloseDialog(!1)}),f.EFF(11),f.nI1(12,"mytranslate"),f.k0s(),f.j41(13,"button",8),f.bIt("click",function(){return k.confirmAction()}),f.DNE(14,x,1,0,"azt-loading-ui",9),f.EFF(15),f.nI1(16,"mytranslate"),f.k0s()()()),2&D&&(f.R7$(5),f.SpI(" ",f.bMT(6,7,"lang_student_utils_edit_student")," "),f.R7$(2),f.Y8G("studentForm",k.studentForm),f.R7$(),f.Y8G("ngIf",""!==k.msgError),f.R7$(3),f.SpI(" ",f.bMT(12,9,"lang_cms_common_close_btn")," "),f.R7$(2),f.Y8G("disabled",k.statusObj.loading||k.studentForm.form.invalid),f.R7$(),f.Y8G("ngIf",k.statusObj.loading),f.R7$(),f.SpI(" ",f.bMT(16,11,"lang_button_update")," "))},dependencies:[K.U,tt.s,Y.R,V.MD,V.bT,t.X1,a.iI,t.YN,U.wp,N.s,z.flO,W.L,H.Id,ot.k],encapsulation:2}),M})()},19:(at,L,n)=>{n.d(L,{F:()=>T});var e=n(54460),t=n(48891),r=n(10936),v=n(89163),G=n(65162),F=n(15343),A=n(44233),P=n(51698),w=n(44155),Z=n(33887),Q=n(43166),q=n(47348),J=n(70050),l=n(37157),K=n(2915),tt=n(52811),Y=n(5502),V=n(36894),a=n(49842),U=n(47426),N=n(95670),z=n(43404),W=n(4375),H=n(47712),ot=n(81587);const f=()=>({"mr-1":!0});function j(s,p){1&s&&(t.qex(0),t.nrm(1,"input",37),t.nI1(2,"mytranslate"),t.bVm()),2&s&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_auto_nhap_ten_lop")))}function o(s,p){1&s&&(t.qex(0),t.nrm(1,"textarea",38),t.nI1(2,"mytranslate"),t.j41(3,"span",39),t.nrm(4,"lucide-icon",40),t.j41(5,"span",41),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.bVm()),2&s&&(t.R7$(),t.FS9("placeholder",t.bMT(2,4,"lang_auto_nhap_ten_lop")),t.R7$(3),t.Y8G("size",12)("ngClass",t.lJ4(8,f)),t.R7$(2),t.JRh(t.bMT(7,6,"lang_azt_classroom_multiple_create_note")))}function x(s,p){1&s&&(t.j41(0,"div",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function S(s,p){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const m=t.XpG(2);t.R7$(),t.SpI("- ",m.selectedYearValue+1,"")}}function _(s,p){if(1&s&&(t.j41(0,"mat-option",43),t.EFF(1),t.DNE(2,S,2,1,"span",11),t.k0s()),2&s){const m=p.$implicit,I=t.XpG();t.Y8G("value",m),t.R7$(),t.SpI(" ",m," "),t.R7$(),t.Y8G("ngIf",I.selectedYearValue==m)}}function M(s,p){1&s&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function b(s,p){if(1&s&&(t.j41(0,"span",49),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s){const m=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,m.groupObj.name))}}function D(s,p){if(1&s&&(t.j41(0,"span",50),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&s){const m=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,m.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,m.groupObj.name))}}function k(s,p){if(1&s&&(t.qex(0),t.j41(1,"div",45)(2,"mat-radio-button",46),t.DNE(3,b,3,3,"span",47),t.nI1(4,"mytranslate"),t.DNE(5,D,4,6,"span",48),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&s){const m=p.$implicit;t.R7$(2),t.Y8G("value",m.groupObj.id),t.R7$(),t.Y8G("ngIf",m.groupObj.name&&t.bMT(4,3,m.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",m.groupObj.name&&t.bMT(6,5,m.groupObj.name).length>=15)}}function X(s,p){1&s&&(t.j41(0,"div",51),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function et(s,p){if(1&s){const m=t.RV6();t.j41(0,"a",52),t.bIt("click",function(){t.eBV(m);const g=t.XpG();return t.Njj(g.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function st(s,p){1&s&&(t.nrm(0,"input",53,2),t.nI1(2,"mytranslate")),2&s&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function rt(s,p){if(1&s){const m=t.RV6();t.j41(0,"div",54)(1,"button",55),t.bIt("click",function(){t.eBV(m);const g=t.XpG();return t.Njj(g.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",56),t.bIt("click",function(){t.eBV(m);const g=t.XpG();return t.Njj(g.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",57),t.k0s()()}if(2&s){const m=t.XpG();t.R7$(),t.Y8G("disabled",m.form.controls.nameGroup.errors),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function it(s,p){1&s&&(t.j41(0,"div",58),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function lt(s,p){if(1&s&&(t.qex(0),t.j41(1,"p",60),t.EFF(2),t.k0s(),t.bVm()),2&s){const m=p.$implicit;t.R7$(2),t.JRh(m)}}function ct(s,p){if(1&s&&(t.j41(0,"div",59),t.DNE(1,lt,3,1,"ng-container",25),t.k0s()),2&s){const m=t.XpG();t.R7$(),t.Y8G("ngForOf",m.dataErrorShow)}}function _t(s,p){1&s&&t.nrm(0,"azt-loading-ui",63)}function u(s,p){if(1&s){const m=t.RV6();t.qex(0),t.j41(1,"button",61),t.bIt("click",function(){t.eBV(m);const g=t.XpG();return t.Njj(g.saveClassroomObj(!1))}),t.DNE(2,_t,1,0,"azt-loading-ui",62),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&s){const m=t.XpG();t.R7$(),t.Y8G("disabled",m.statusObj.loading||m.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",m.statusObj.loading&&"save"==m.activeButton),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function B(s,p){1&s&&t.nrm(0,"azt-loading-ui",63)}function R(s,p){if(1&s){const m=t.RV6();t.j41(0,"button",64),t.bIt("click",function(){t.eBV(m);const g=t.XpG();return t.Njj(g.updateClassroomObj())}),t.DNE(1,B,1,0,"azt-loading-ui",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&s){const m=t.XpG();t.Y8G("disabled",m.statusObj.loading||m.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",m.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function C(s,p){1&s&&t.nrm(0,"azt-loading-ui",63)}function E(s,p){if(1&s){const m=t.RV6();t.j41(0,"button",65),t.bIt("click",function(){t.eBV(m);const g=t.XpG();return t.Njj(g.saveClassroomObj(!0))}),t.DNE(1,C,1,0,"azt-loading-ui",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&s){const m=t.XpG();t.Y8G("disabled",m.statusObj.loading||m.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",m.statusObj.loading&&"save_and_close"==m.activeButton),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let T=(()=>{var s;class p extends Z._{closeDialog(){this.dialogRef.close(!!this.hasCreateNewStuff)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let I={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(I).subscribe(g=>{1==g.success?(this.hasCreateNewStuff=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(g.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(I){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=I}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let g=this.form.getRawValue().group;g=g!=this.fakeGroupValue?g:void 0;let $={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:g??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost($).subscribe(i=>{1==i.success?i.data?.isDuplicatedClassroomName?this.errorStatusObj(i.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}callApiSaveClassroom(I){return new P.c(g=>{let $={classroomId:0,errorName:"",message:""},i=this.commonService.myTranslateInstant("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac"),O=this.commonService.myTranslateInstant("lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac"),c=this.commonService.myTranslateInstant("lang_auto_them_lop_hoc_khong_thanh_cong");this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(I).subscribe(d=>{1==d.success?d.data?.isDuplicatedClassroomName?$.errorName=d.data?.isStorage?I.classroomName+" - "+i:I.classroomName+" - "+O:$.classroomId=d.data?.obj.id:$.errorName=I.classroomName+" - "+c,g.next($),g.complete()}))})}saveClassroomObj(I){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.dataErrorShow=[],this.initStatusObj(),this.activeButton=I?"save_and_close":"save";let $=this.form.getRawValue().group;$=$!=this.fakeGroupValue?$:void 0;let i=[];i=this.data.multipleImport?this.form.getRawValue().nameClass.split("\n").filter(c=>""!=c).map(c=>({classroomName:c.trim(),year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:$})):[{classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:$}];let O=[];i.forEach(c=>O.push(this.callApiSaveClassroom(c))),this.waitDestroy(this.sAztConcurrencyApiService.processObservables(1,O,!1).subscribe(c=>{if(c&&c.length){let d=c[0]?.classroomId,h=c.map(y=>y?.errorName??"").filter(y=>""!=y);if(h.length){if(!this.data.multipleImport)return this.errorStatusObj(h[0],!0);this.dataErrorShow=h,this.stopStatusObj()}else{if(this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.hasCreateNewStuff=!0,I)return this.dialogRef.close(!0),void(this.data.multipleImport||this.commonService.myNavigation(`/admin/student/classroom-details/${d}/0`));this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let I=(new Date).getFullYear();for(let O=I-20;O<=I+40;O++)this.years.push(O);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let g=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=g?parseInt(g??"",10):I;let $=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new r.gE({nameClass:new r.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[r.k0.required]}),nameGroup:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),group:new r.MJ($,{nonNullable:!0,validators:[r.k0.required]}),year:new r.MJ(this.selectedYearValue,{nonNullable:!0,validators:[r.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(I=>{1==I.success?(this.activeClassroomData=I?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(I.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(I,g,$){super($,g),this.classroomGroupService=I,this.dialogRef=g,this.data=$,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewStuff=!1,this.activeButton="save",this.dataErrorShow=[],this.sAztConcurrencyApiService=(0,t.WQX)(l.Z),this.classroomObj=$.classroomObj,this.form=new r.gE({nameClass:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),nameGroup:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),group:new r.MJ(0,{nonNullable:!0,validators:[r.k0.required]}),year:new r.MJ(0,{nonNullable:!0,validators:[r.k0.required]})}),this.dialogRef.backdropClick().subscribe(()=>{this.dialogRef.close(!!this.hasCreateNewStuff)})}}return(s=p).\u0275fac=function(I){return new(I||s)(t.rXU(a.kG),t.rXU(v.CP,8),t.rXU(v.Vh,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-create-or-classroom"]],standalone:!0,features:[t.Vt3,t.aNF],decls:53,vars:41,consts:[["searchInListYear","searchInList"],["updateData",""],["nameGroup",""],[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-4","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-base","font-medium","flex","items-center"],[1,"p-4","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label","font-medium"],[4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label","font-medium"],["appearance","outline"],["searchInList","","formControlName","year","id","year",3,"valueChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-100","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],["class","p-4","style","max-height: 100px; overflow-y: auto",4,"ngIf"],[1,"p-4","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-4",3,"click"],[4,"ngIf","ngIfElse"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["id","nameClass","formControlName","nameClass","rows","3",1,"form-control",3,"placeholder"],[1,"text-xs","text-slate-200"],["name","info",3,"size","ngClass"],[2,"align-content","center","vertical-align","middle"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],[1,"p-4",2,"max-height","100px","overflow-y","auto"],[1,"mb-0","text-danger","text-md"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-4",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"click","disabled"]],template:function(I,g){if(1&I){const $=t.RV6();t.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"h3",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",8)(10,"div",9)(11,"label",10),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,j,3,3,"ng-container",11)(15,o,8,9,"ng-container",11)(16,x,3,3,"div",12),t.k0s(),t.j41(17,"div",13)(18,"label",14),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",15)(22,"mat-select",16,0),t.mxI("valueChange",function(O){return t.eBV($),t.DH7(g.selectedYearValue,O)||(g.selectedYearValue=O),t.Njj(O)}),t.j41(24,"mat-option"),t.nrm(25,"ngx-mat-select-search",17),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.DNE(28,_,3,3,"mat-option",18),t.k0s()(),t.DNE(29,M,3,3,"div",19),t.k0s(),t.j41(30,"div",20)(31,"div",21),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",22)(35,"mat-radio-group",23)(36,"div",24),t.DNE(37,k,7,7,"ng-container",25),t.k0s()(),t.DNE(38,X,3,3,"div",26),t.j41(39,"div",27),t.DNE(40,et,3,3,"a",28)(41,st,3,3,"input",29)(42,rt,6,4,"div",30),t.k0s(),t.DNE(43,it,3,3,"div",31),t.k0s()()()()(),t.DNE(44,ct,2,1,"div",32),t.j41(45,"div",33)(46,"button",34),t.bIt("click",function(){return t.eBV($),t.Njj(g.closeDialog())}),t.EFF(47),t.nI1(48,"mytranslate"),t.k0s(),t.DNE(49,u,5,5,"ng-container",35)(50,R,4,5,"ng-template",null,1,t.C5r)(52,E,4,5,"button",36),t.k0s()()()}if(2&I){const $=t.sdS(23),i=t.sdS(51);t.R7$(),t.Y8G("formGroup",g.form),t.R7$(4),t.SpI(" ",g.classroomObj?t.bMT(7,27,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,25,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,29,"lang_auto_ten_lop")," "),t.R7$(2),t.Y8G("ngIf",!g.data.multipleImport),t.R7$(),t.Y8G("ngIf",g.data.multipleImport),t.R7$(),t.Y8G("ngIf",g.form.controls.nameClass.dirty&&g.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,31,"lang_auto_nam_hoc")," "),t.R7$(3),t.R50("value",g.selectedYearValue),t.R7$(3),t.FS9("placeholderLabel",t.bMT(26,33,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(27,35,"lang_search_not_found")),t.Y8G("formControl",$.searchControl),t.R7$(3),t.Y8G("ngForOf",$.filter(g.years,void 0)),t.R7$(),t.Y8G("ngIf",g.form.controls.year.dirty&&g.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",g.activeClassroomData),t.R7$(),t.Y8G("ngIf",g.form.controls.group.dirty&&g.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==g.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",1==g.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",g.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",g.isShowCreateGroupOfClassroom&&g.form.controls.nameGroup.dirty&&g.form.controls.nameGroup.errors),t.R7$(),t.Y8G("ngIf",g.dataErrorShow.length),t.R7$(3),t.JRh(t.bMT(48,39,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!g.classroomObj)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",!g.classroomObj)}},dependencies:[A.An,A.U9,Q.x,K.U,tt.R,e.MD,e.YU,e.Sq,e.bT,r.X1,r.qT,r.me,r.BC,r.cb,r.l_,r.j4,r.JD,G.iI,r.YN,q.wp,w.s,U.wT,N.rl,z.VT,z._g,W.VO,H.oV,F.flO,F.WGl,J.L,Y.Id,V.k,ot.t],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),p})()},37157:(at,L,n)=>{n.d(L,{Z:()=>J});var e=n(51698),t=n(11787),r=n(27035),v=n(17178),G=n(48915),F=n(63016),A=n(47947),P=n(81215),w=n(15351);const Z=(l,K)=>(l.push(K),l);var q=n(48891);let J=(()=>{var l;class K{processObservables(Y,V,a){return new e.c(U=>{this.processMultipleObservables(Y,V,a).subscribe({next:N=>{U.next(N),U.complete()},error:N=>{U.next(V.map(z=>null)),U.complete()}})})}processMultipleObservables(Y,V,a){return(0,t.H)(V).pipe((0,r.Z)((U,N)=>U.pipe((0,v.W)(z=>(console.error("Error in observable:",z),a?(0,G.$)(()=>z):(0,F.of)(null))),(0,A.T)(z=>({result:z,index:N}))),Y),function Q(){return(0,w.N)((l,K)=>{(0,P.T)(Z,[])(l).subscribe(K)})}(),(0,A.T)(U=>U.sort((N,z)=>N.index-z.index).map(N=>N.result)))}}return(l=K).\u0275fac=function(Y){return new(Y||l)},l.\u0275prov=q.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),K})()},26988:(at,L,n)=>{n.d(L,{h:()=>t});var e=n(48891);let t=(()=>{var r;class v{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(F){this.itemPerPage=F}setLoading(F){this.isLoadingNextPage=F}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(F){return this.totalRecord=F,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}}return(r=v).\u0275fac=function(F){return new(F||r)},r.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:null}),v})()},93493:(at,L,n)=>{n.d(L,{i:()=>e});class e{static validateUserName(r){let A=r.value??"";return 0==A.length?null:/[a-zA-Z]/.test(A)&&/^[a-zA-Z0-9_-]+$/.test(A)?A.length<3&&A.length>0?{isShort:!0}:A.length>50?{isLong:!0}:null:{isLetter:!0}}}},45344:(at,L,n)=>{n.d(L,{u:()=>S});var e=n(81519),t=n(48891),r=n(34514),v=n(47426),G=n(60902),F=n(99503),A=n(79347),P=n(9691),w=n(59640),Z=n(74742),Q=n(52811),q=n(54460),J=n(10936),l=n(65162),K=n(47348),tt=n(44155),Y=n(15343),V=n(70050),a=n(5502),U=n(36894),N=n(46899),z=n(17187),W=n(12992),H=n(95670),ot=n(4375);function f(_,M){1&_&&(t.j41(0,"div",7),t.nrm(1,"azt-loading-ui"),t.k0s())}function j(_,M){if(1&_){const b=t.RV6();t.j41(0,"div",11)(1,"mat-checkbox",12),t.mxI("ngModelChange",function(k){t.eBV(b);const X=t.XpG().$implicit;return t.DH7(X.selected,k)||(X.selected=k),t.Njj(k)}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&_){const b=t.XpG().$implicit;t.R7$(),t.R50("ngModel",b.selected),t.Y8G("checked",b.selected),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_core_thang")+" "+b.month+"/"+b.year," ")}}function o(_,M){if(1&_&&(t.qex(0),t.DNE(1,j,4,5,"div",10),t.bVm()),2&_){const b=M.$implicit,D=t.XpG(2);t.R7$(),t.Y8G("ngIf",b.year==D.currentYearSelect)}}function x(_,M){if(1&_&&(t.j41(0,"div",8),t.DNE(1,o,2,1,"ng-container",9),t.k0s()),2&_){const b=t.XpG();t.R7$(),t.Y8G("ngForOf",b.checkboxMonth.checkboxMonth)}}let S=(()=>{var _;class M extends w.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(D=>1==D.selected)}getHistoriesMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId)).subscribe(D=>{if(!D.success)return this.isSaving=!1,void this.errorStatusObj(D.message,!0);this.checkboxMonth.checkboxMonth.map(k=>k.selected=null!=D.data?.histories.find(X=>X.month==k.month&&k.year==X.year)),this.stopStatusObj()})))}ngOnInit(){super.ngOnInit(),this.getHistoriesMonth()}constructor(D,k,X){super(),this.sAztDialogService=D,this.sAztTimeService=k,this.paymentService=X,this.checkboxMonth=new G.L,this.sendListMonth=new t.bkB,this.studentForm=new Z.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}}return(_=M).\u0275fac=function(D){return new(D||_)(t.rXU(N.i),t.rXU(P.F),t.rXU(z.W))},_.\u0275cmp=t.VBU({type:_,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},standalone:!0,features:[t.Jv_([{provide:e.$O,useClass:F.fb,deps:[v.Ju,r.ij]},{provide:e.vq,useFactory:A.fJ,deps:[P.F]}]),t.Vt3,t.aNF],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"valueChange","value"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModelChange","ngModel","checked"]],template:function(D,k){1&D&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.j41(6,"mat-form-field",2)(7,"mat-select",3),t.mxI("valueChange",function(et){return t.DH7(k.currentYearSelect,et)||(k.currentYearSelect=et),et}),t.j41(8,"mat-option",4)(9,"span"),t.EFF(10),t.k0s()(),t.j41(11,"mat-option",4)(12,"span"),t.EFF(13),t.k0s()(),t.j41(14,"mat-option",4)(15,"span"),t.EFF(16),t.k0s()()()()(),t.DNE(17,f,2,0,"div",5)(18,x,2,1,"div",6),t.k0s()),2&D&&(t.R7$(2),t.E5c(" ",t.bMT(3,12,"lang_test_market_withdraw_time")," ",t.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",t.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),t.R7$(5),t.R50("value",k.currentYearSelect),t.R7$(),t.Y8G("value",k.currentDate.getFullYear()-1),t.R7$(2),t.SpI(" ",k.currentDate.getFullYear()-1," "),t.R7$(),t.Y8G("value",k.currentDate.getFullYear()),t.R7$(2),t.SpI(" ",k.currentDate.getFullYear()," "),t.R7$(),t.Y8G("value",k.currentDate.getFullYear()+1),t.R7$(2),t.SpI(" ",k.currentDate.getFullYear()+1," "),t.R7$(),t.Y8G("ngIf",k.statusObj.loading),t.R7$(),t.Y8G("ngIf",!k.statusObj.loading))},dependencies:[Q.R,q.MD,q.Sq,q.bT,J.X1,J.BC,l.iI,J.YN,J.vS,K.wp,tt.s,v.wT,W.So,H.rl,ot.VO,Y.flO,V.L,a.Id,U.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),M})()},93518:(at,L,n)=>{n.d(L,{k:()=>e});var e=function(t){return t.video="video",t.document="document",t.homework="homework",t.homework_view="homework_view",t.unknown="unknown",t}(e||{})},43165:(at,L,n)=>{n.d(L,{s:()=>_t});var e=n(54460),t=n(48891),r=n(10936),v=n(65162),G=n(11891),F=n(15343),A=n(5502),P=n(44155),w=n(36894),Z=n(7919),Q=n(47348),q=n(70050),J=n(59640),l=n(81300),K=n(43234),tt=n(42804),Y=n(97924),V=n(39471),a=n(97839),U=n(95670),N=n(81519),z=n(81587);function W(u,B){1&u&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function H(u,B){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function ot(u,B){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function f(u,B){if(1&u&&(t.j41(0,"div",25),t.DNE(1,H,3,3,"span",26)(2,ot,3,3,"span",26),t.k0s()),2&u){const R=t.XpG(2);t.R7$(),t.Y8G("ngIf",R.studentForm.form.controls.identificationNumber.errors.min),t.R7$(),t.Y8G("ngIf",R.studentForm.form.controls.identificationNumber.errors.maxlength||R.studentForm.form.controls.identificationNumber.errors.pattern)}}function j(u,B){if(1&u&&(t.j41(0,"div",2),t.nrm(1,"input",23),t.nI1(2,"mytranslate"),t.DNE(3,f,3,2,"div",24),t.k0s()),2&u){const R=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(2,2,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngIf",R.studentForm.form.controls.identificationNumber.errors&&(R.studentForm.form.controls.identificationNumber.dirty||R.studentForm.form.controls.identificationNumber.touched))}}function o(u,B){1&u&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function x(u,B){1&u&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function S(u,B){1&u&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function _(u,B){if(1&u&&(t.j41(0,"div",2),t.nrm(1,"input",27),t.nI1(2,"mytranslate"),t.DNE(3,S,3,3,"div",4),t.k0s()),2&u){const R=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(2,2,"lang_parent_number_phone")),t.R7$(2),t.Y8G("ngIf",R.studentForm.form.controls.parentPhoneNumber.errors)}}function M(u,B){1&u&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_invalid_email")," "))}function b(u,B){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function D(u,B){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function k(u,B){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function X(u,B){if(1&u&&(t.j41(0,"div",22),t.DNE(1,b,3,3,"span",26)(2,D,3,3,"span",26)(3,k,3,3,"span",26),t.k0s()),2&u){const R=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==R.studentForm.form.controls.userName||null==R.studentForm.form.controls.userName.errors?null:R.studentForm.form.controls.userName.errors.isShort),t.R7$(),t.Y8G("ngIf",null==R.studentForm.form.controls.userName||null==R.studentForm.form.controls.userName.errors?null:R.studentForm.form.controls.userName.errors.isLong),t.R7$(),t.Y8G("ngIf",null==R.studentForm.form.controls.userName||null==R.studentForm.form.controls.userName.errors?null:R.studentForm.form.controls.userName.errors.isLetter)}}function et(u,B){if(1&u){const R=t.RV6();t.j41(0,"div",2)(1,"azt-check-vip-account",28),t.bIt("closeDialog",function(E){t.eBV(R);const T=t.XpG();return t.Njj(T.handleCloseCheckVip(E))}),t.nrm(2,"input",29),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,X,4,3,"div",4),t.k0s()}if(2&u){const R=t.XpG();t.R7$(),t.Y8G("vipPackageType","VIP_FOR_TEACHER")("isShowBadgeVip",!R.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_ENTER_USERNAME"),t.R7$(),t.FS9("placeholder",t.bMT(3,6,"lang_auto_nhap_ten_dang_ky")),t.R7$(2),t.Y8G("ngIf",null==R.studentForm.form.controls.userName?null:R.studentForm.form.controls.userName.errors)}}function st(u,B){1&u&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_azt_note_not_enter_password_one"),""))}function rt(u,B){1&u&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function it(u,B){if(1&u){const R=t.RV6();t.j41(0,"div",2)(1,"div",30),t.nrm(2,"input",31),t.nI1(3,"mytranslate"),t.j41(4,"button",32),t.bIt("click",function(){t.eBV(R);const E=t.XpG();return t.Njj(E.togglePassword())}),t.nrm(5,"lucide-icon",33),t.k0s()(),t.DNE(6,st,3,3,"div",34)(7,rt,3,3,"div",4),t.k0s()}if(2&u){const R=t.XpG();t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"lang_auto_mat_khau")),t.Y8G("type",R.showPassword?"text":"password"),t.R7$(3),t.FS9("name",R.showPassword?"eye":"eye-off"),t.R7$(),t.Y8G("ngIf",!R.isAddParent),t.R7$(),t.Y8G("ngIf",R.studentForm.form.controls.password.errors)}}function lt(u,B){1&u&&(t.j41(0,"div",2),t.nrm(1,"input",36),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function ct(u,B){1&u&&(t.j41(0,"div",2),t.nrm(1,"input",37),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_core_nhap_link_facebook")))}let _t=(()=>{var u;class B extends J.H{togglePassword(){this.showPassword=!this.showPassword}handleCloseCheckVip(C){this.studentForm.form.controls.userName?.reset(),this.studentForm.form.controls.userName?.disable(),this.studentForm.form.controls.userName?.enable(),C&&this.closeDialog.emit(C)}ngOnInit(){super.ngOnInit(),this.isFamilyMartDomain=this.commonService.isFamilyMart(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain),this.initStatusObj(),this.checkVipAccountService.getVipInfo(G.W5.VIPFORTEACHER,!0,void 0).subscribe(C=>{if(!C.success)return this.errorStatusObj(C.message);this.isVipAccount=C.data?.vipSubscriptionObj?.isVipTeacher??!1,this.successStatusObj()})}constructor(C){super(),this.checkVipAccountService=C,this.hasUser=!1,this.modeView=tt.u.Default,this.isAddParent=!1,this.closeDialog=new t.bkB,this.showPassword=!1,this.maxDate=K.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006"),this.isVipAccount=!1,this.isFamilyMartDomain=!1}}return(u=B).\u0275fac=function(C){return new(C||u)(t.rXU(Y.K))},u.\u0275cmp=t.VBU({type:u,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",modeView:"modeView",isAddParent:"isAddParent"},outputs:{closeDialog:"closeDialog"},standalone:!0,features:[t.Vt3,t.aNF],decls:47,vars:39,consts:[["birthDay",""],[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime","startAt"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],["id","parentPhoneNumber","formControlName","parentPhoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],[3,"closeDialog","vipPackageType","isShowBadgeVip","isAction","trackingKey"],["id","username","formControlName","userName","autocomplete","new-phone","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","50%","right","5px","border","none","background","transparent","z-index","99","transform","translate(0, -50%)",3,"click"],["size","16",3,"name"],["class","text-xs mt-1 text-warning",4,"ngIf"],[1,"text-xs","mt-1","text-warning"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(C,E){if(1&C){const T=t.RV6();t.j41(0,"form",1)(1,"div",2),t.nrm(2,"input",3),t.nI1(3,"mytranslate"),t.DNE(4,W,3,3,"div",4),t.k0s(),t.DNE(5,j,4,4,"div",5),t.j41(6,"div",2)(7,"div",6)(8,"label",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",8)(12,"div",9),t.nrm(13,"input",10),t.j41(14,"label",11),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",9),t.nrm(18,"input",12),t.j41(19,"label",13),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()(),t.j41(22,"div",2)(23,"mat-form-field",14)(24,"input",15),t.nI1(25,"mytranslate"),t.bIt("click",function(){t.eBV(T);const p=t.sdS(29);return t.Njj(p.open())}),t.k0s(),t.j41(26,"button",16),t.bIt("click",function(p){return t.eBV(T),t.sdS(29).open(),t.Njj(p.stopPropagation())}),t.nrm(27,"lucide-icon",17),t.k0s(),t.j41(28,"ngx-mat-datetime-picker",18,0)(30,"ngx-mat-datepicker-actions")(31,"button",19),t.EFF(32,"OK"),t.k0s()()()(),t.DNE(33,o,3,3,"div",4),t.k0s(),t.j41(34,"div",2),t.nrm(35,"input",20),t.nI1(36,"mytranslate"),t.DNE(37,x,3,3,"div",4),t.k0s(),t.DNE(38,_,4,4,"div",5),t.j41(39,"div",2),t.nrm(40,"input",21),t.nI1(41,"mytranslate"),t.DNE(42,M,3,3,"div",4),t.k0s(),t.DNE(43,et,5,8,"div",5)(44,it,8,7,"div",5)(45,lt,3,3,"div",5)(46,ct,3,3,"div",5),t.k0s()}if(2&C){let T;const s=t.sdS(29);t.Y8G("formGroup",E.studentForm.form),t.R7$(2),t.FS9("placeholder",t.bMT(3,25,"lang_auto_nhap_ho_va_ten")),t.R7$(2),t.Y8G("ngIf",E.studentForm.form.controls.fullName.errors),t.R7$(),t.Y8G("ngIf",E.studentForm.form.controls.identificationNumber&&!E.isAddParent),t.R7$(4),t.SpI(" ",t.bMT(10,27,"lang_auto_gioi_tinh")," "),t.R7$(4),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(16,29,"lang_auto_nam")," "),t.R7$(3),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(21,31,"lang_auto_nu")," "),t.R7$(4),t.FS9("placeholder",t.bMT(25,33,"lang_auto_ngay_sinh")),t.Y8G("max",E.maxDate)("ngxMatDatetimePicker",s),t.R7$(4),t.Y8G("touchUi",!0)("hideTime",!0)("startAt",null!==(T=null==E.studentForm.form.controls.birthday?null:E.studentForm.form.controls.birthday.value)&&void 0!==T?T:E.startAtTime),t.R7$(5),t.Y8G("ngIf",null==E.studentForm.form.controls.birthday?null:E.studentForm.form.controls.birthday.errors),t.R7$(2),t.FS9("placeholder",t.bMT(36,35,"lang_number_phone")),t.R7$(2),t.Y8G("ngIf",E.studentForm.form.controls.phoneNumber.errors),t.R7$(),t.Y8G("ngIf",!E.isTqbDomain&&!E.isFamilyMartDomain),t.R7$(2),t.FS9("placeholder",t.bMT(41,37,"lang_auto_nhap_email")),t.R7$(2),t.Y8G("ngIf",E.studentForm.form.controls.email.errors),t.R7$(),t.Y8G("ngIf",!E.isAddParent&&(E.isVipAccount||E.isBusinessDomain&&!E.isTqbDomain)),t.R7$(),t.Y8G("ngIf",E.studentForm.form.controls.password&&!E.hasUser&&(E.isVipAccount||E.isBusinessDomain)),t.R7$(),t.Y8G("ngIf",E.isBusinessDomain&&!E.isAddParent),t.R7$(),t.Y8G("ngIf",E.isBusinessDomain&&!E.isAddParent)}},dependencies:[l.F,e.MD,e.bT,r.X1,r.qT,r.me,r.Fm,r.BC,r.cb,r.j4,r.JD,v.iI,r.YN,Q.wp,P.s,V.$z,a.fg,U.rl,U.yw,N.m7,N.yF,N.HF,N.Uq,F.flO,F.WGl,q.L,A.Id,Z.Z,w.k,z.t],encapsulation:2}),B})()},42804:(at,L,n)=>{n.d(L,{u:()=>e});var e=function(t){return t.Default="DEFAULT",t.ADD_STUDENT="ADD_STUDENT",t}(e||{})},74742:(at,L,n)=>{n.d(L,{d:()=>G});var e=n(10936);class t{static isInvalidPassword(A){let w=A.value?.trim()??"";return w&&w.length<6?{isInvalidPassword:!0}:null}}var r=n(93493),v=n(43234);class G{constructor(){this.form=new e.gE({fullName:new e.MJ("",{nonNullable:!0,validators:[e.k0.required]}),gender:new e.MJ(0,{nonNullable:!0}),birthday:new e.MJ(void 0,{nonNullable:!0}),email:new e.MJ("",{nonNullable:!0,validators:[e.k0.email,e.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new e.MJ("",{nonNullable:!0,validators:[e.k0.pattern(/^[0-9\-]*$/),e.k0.minLength(10),e.k0.maxLength(10)]}),parentPhoneNumber:new e.MJ("",{nonNullable:!0,validators:[e.k0.pattern(/^[0-9\-]*$/),e.k0.minLength(10),e.k0.maxLength(10)]}),identificationNumber:new e.MJ("",{nonNullable:!0,validators:[e.k0.min(1),e.k0.maxLength(v.c.maxStudentCodeLength),e.k0.pattern("^[0-9]*$")]}),password:new e.MJ("",{nonNullable:!0,validators:[t.isInvalidPassword]}),facebookLink:new e.MJ("",{nonNullable:!0}),school:new e.MJ("",{nonNullable:!0}),userName:new e.MJ("",{nonNullable:!0,validators:[r.i.validateUserName]})})}removeValidatePhoneWhenNotBusiness(A){A||this.form.controls.phoneNumber.removeValidators(e.k0.required)}}},81300:(at,L,n)=>{n.d(L,{F:()=>f});var e=n(48891),t=n(11891),r=n(59640),v=n(89163),G=n(33887),F=n(54460),A=n(10936),P=n(65162),w=n(47348),Z=n(44155),Q=n(15343),q=n(70050),J=n(5502),l=n(36894),K=n(55709);const tt=()=>({"mr-2":!0});function Y(j,o){if(1&j&&(e.j41(0,"div",10),e.nrm(1,"p",11),e.nI1(2,"mytranslate"),e.k0s()),2&j){const x=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,x.data.counterExport),e.npT)}}function V(j,o){if(1&j&&(e.j41(0,"div",10),e.nrm(1,"p",12),e.nI1(2,"mytranslate"),e.k0s()),2&j){const x=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,x.data.description),e.npT)}}let a=(()=>{var j;class o extends G._{handlerCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.sAztAzotaTrackingService.sendCustomEvent("VIP_CONFIRM_TO_BUY_VIP",[]),this.dialogRef.close(!0),this.commonService.myNavigationWithQueryString("/auth/vip-packages/teacherVip",`?backto=${encodeURIComponent(this.data.returnUrl)}&trackingKey=${this.data.trackingKey}`)}constructor(S,_,M){super(M,_),this.sAztAzotaTrackingService=S,this.dialogRef=_,this.data=M,this.sAztAzotaTrackingService.sendCustomEvent("VIP_SHOW_VIP_DIALOG",[])}}return(j=o).\u0275fac=function(S){return new(S||j)(e.rXU(K.M),e.rXU(v.CP,8),e.rXU(v.Vh,8))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-dialog-redirect-vip-package"]],standalone:!0,features:[e.Vt3,e.aNF],decls:19,vars:13,consts:[[1,"box","w-72","sm:w-80"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","mb-2"],[1,"badge-vip","inline-flex","items-center","mr-2",2,"height","25px"],["name","gem","size","12",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-redirect-vip-package-Hsr7Y1PGT",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","azt-dialog-redirect-vip-package-D5AZ23WEpg",1,"btn","btn-primary",3,"click"],[1,"mt-3"],[1,"text-lg","font-medium",3,"innerHTML"],[1,"text-md",3,"innerHTML"]],template:function(S,_){1&S&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"div",4),e.nrm(5,"lucide-icon",5),e.EFF(6," VIP "),e.k0s(),e.j41(7,"span"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.DNE(10,Y,3,3,"div",6)(11,V,3,3,"div",6),e.k0s()(),e.j41(12,"div",7)(13,"button",8),e.bIt("click",function(){return _.handlerCloseDialog()}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",9),e.bIt("click",function(){return _.confirmDialog()}),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()()),2&S&&(e.R7$(5),e.Y8G("ngClass",e.lJ4(12,tt)),e.R7$(3),e.JRh(e.bMT(9,6,_.data.title)),e.R7$(2),e.Y8G("ngIf",_.data.counterExport),e.R7$(),e.Y8G("ngIf",_.data.description),e.R7$(3),e.SpI(" ",e.bMT(15,8,_.data.titleBtnDestroy)," "),e.R7$(3),e.SpI(" ",e.bMT(18,10,"lang_azt_upgrade_now")," "))},dependencies:[F.MD,F.YU,F.bT,A.X1,P.iI,A.YN,w.wp,Z.s,Q.flO,Q.WGl,q.L,J.Id,l.k],encapsulation:2}),o})();var U=n(36484),N=n(46899);const z=["*"],W=j=>({opacity:j}),H=()=>({"mr-2":!0});function ot(j,o){1&j&&(e.j41(0,"div")(1,"div",2),e.nrm(2,"lucide-icon",3),e.EFF(3," VIP "),e.k0s()()),2&j&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(1,H)))}let f=(()=>{var j;class o extends r.H{handlerAction(){if(this.isBusinessDomain)return this.checkAction.emit(!0);if(!this.isAction)return this.checkAction.emit(!0);if(this.vipAccountObj)return this.checkAction.emit(!0);const S={returnUrl:this.commonService.getCurrentUrlWithoutLocale(),title:"lang_azt_upgrade_to_vip_account",titleBtnDestroy:"lang_auto_huy",trackingKey:this.trackingKey};this.sAztDialogService.open(a,{data:S}).afterClosed().subscribe(M=>{this.closeDialog.emit(M)})}getData(){this.initStatusObj(),this.checkVipAccountService.getVipInfo("VIP_FOR_TEACHER"==this.vipPackageType?t.W5.VIPFORTEACHER:t.W5.VIPFORSTUDENT,!0,void 0).subscribe(S=>{if(!S.success)return this.errorStatusObj(S.message);this.vipAccountObj=S.data?.vipSubscriptionObj,this.successStatusObj()})}ngOnInit(){super.ngOnInit(),this.sAztUserService.isLogin()&&this.getData()}constructor(S,_){super(),this.sAztUserService=S,this.sAztDialogService=_,this.classCSSCustom="",this.isShowBadgeVip=!1,this.isAction=!1,this.checkAction=new e.bkB,this.closeDialog=new e.bkB}}return(j=o).\u0275fac=function(S){return new(S||j)(e.rXU(U.R),e.rXU(N.i))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-check-vip-account"]],inputs:{classCSSCustom:"classCSSCustom",isShowBadgeVip:"isShowBadgeVip",isAction:"isAction",vipPackageType:"vipPackageType",trackingKey:"trackingKey"},outputs:{checkAction:"checkAction",closeDialog:"closeDialog"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:z,decls:3,vars:7,consts:[["azt-track-service","check-vip-account-o05GWccJtw",3,"click","ngStyle"],[4,"ngIf"],[1,"badge-vip","flex","items-center"],["name","gem","size","12",3,"ngClass"]],template:function(S,_){1&S&&(e.NAR(),e.j41(0,"div",0),e.bIt("click",function(){return _.handlerAction()}),e.SdG(1),e.DNE(2,ot,4,2,"div",1),e.k0s()),2&S&&(e.ZvI("wrap-vip inline-flex items-center w-full ",_.classCSSCustom,""),e.Y8G("ngStyle",e.eq3(5,W,_.isBusinessDomain||!_.isAction||_.vipAccountObj?"1":"0.6")),e.R7$(2),e.Y8G("ngIf",!_.isBusinessDomain&&((null==_.vipAccountObj?null:_.vipAccountObj.isVipStudent)||(null==_.vipAccountObj?null:_.vipAccountObj.isVipTeacher))||_.isShowBadgeVip))},dependencies:[F.MD,F.YU,F.bT,F.B3,A.X1,P.iI,A.YN,Z.s,Q.flO,Q.WGl,q.L,J.Id,l.k],encapsulation:2}),o})()}}]);