"use strict";(self.webpackChunkTeacherMod=self.webpackChunkTeacherMod||[]).push([[703],{55703:(Ji,be,p)=>{p.r(be),p.d(be,{StudentRoutingModule:()=>ex});var b=p(65162),ve=p(1133),ke=p(50866),ct=p(76627),O=p(59640),St=p(11065),J=p(71204),_=p(54460),m=p(10936),pt=p(407),h=p(15343),t=p(48891);const Gt=["contentRef"],xe=["*"];let W=(()=>{var n;class s{get dragDisabled(){return this._dragDisabled}set dragDisabled(e){this._dragDisabled=e}constructor(e){this.display="inline-block",this._dragDisabled=!1,this._elementRef=e}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(t.aKT))},n.\u0275dir=t.FsC({type:n,selectors:[["","drag-scroll-item",""]],hostVars:2,hostBindings:function(e,o){2&e&&t.xc7("display",o.display)},inputs:{dragDisabled:[0,"drag-disabled","dragDisabled"]}}),s})(),X=(()=>{var n;class s{get isDragging(){return this._isDragging}get currIndex(){return this._index}set currIndex(e){e!==this._index&&(this._index=e,this.indexChanged.emit(e))}get scrollbarHidden(){return this._scrollbarHidden}set scrollbarHidden(e){this._scrollbarHidden=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get xDisabled(){return this._xDisabled}set xDisabled(e){this._xDisabled=e}get yDisabled(){return this._yDisabled}set yDisabled(e){this._yDisabled=e}get xWheelEnabled(){return this._xWheelEnabled}set xWheelEnabled(e){this._xWheelEnabled=e}get dragDisabled(){return this._dragDisabled}set dragDisabled(e){this._dragDisabled=e}get snapDisabled(){return this._snapDisabled}set snapDisabled(e){this._snapDisabled=e}get snapOffset(){return this._snapOffset}set snapOffset(e){this._snapOffset=e}get snapDuration(){return this._snapDuration}set snapDuration(e){this._snapDuration=e}constructor(e,o,a){this._elementRef=e,this._renderer=o,this._document=a,this._index=0,this._scrollbarHidden=!1,this._disabled=!1,this._xDisabled=!1,this._xWheelEnabled=!1,this._yDisabled=!1,this._dragDisabled=!1,this._snapDisabled=!1,this._snapOffset=0,this._snapDuration=500,this._isDragging=!1,this.isPressed=!1,this.isScrolling=!1,this.scrollTimer=-1,this.scrollToTimer=-1,this.downX=0,this.downY=0,this.displayType="block",this.elWidth=null,this.elHeight=null,this._pointerEvents="auto",this.scrollbarWidth=null,this.isAnimating=!1,this.prevChildrenLength=0,this.indexBound=0,this.rtl=!1,this.dsInitialized=new t.bkB,this.indexChanged=new t.bkB,this.reachesLeftBound=new t.bkB,this.reachesRightBound=new t.bkB,this.snapAnimationFinished=new t.bkB,this.dragStart=new t.bkB,this.dragEnd=new t.bkB,this.scrollbarWidth=`${this.getScrollbarWidth()}px`}ngOnChanges(){this.setScrollBar(),this.xDisabled||this.disabled||this._scrollbarHidden?this.disableScroll("x"):this.enableScroll("x"),this.yDisabled||this.disabled?this.disableScroll("y"):this.enableScroll("y")}ngAfterViewInit(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","true"),this.displayType=typeof window<"u"?window.getComputedStyle(this._elementRef.nativeElement).display:"block",this._renderer.setStyle(this._contentRef.nativeElement,"display",this.displayType),this._renderer.setStyle(this._contentRef.nativeElement,"whiteSpace","noWrap"),this.markElDimension(),this._renderer.setStyle(this._contentRef.nativeElement,"width",this.elWidth),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.elHeight),this.wrapper&&this.checkScrollbar(),this._onMouseDownListener=this._renderer.listen(this._contentRef.nativeElement,"mousedown",this.onMouseDownHandler.bind(this)),this._onScrollListener=this._renderer.listen(this._contentRef.nativeElement,"scroll",this.onScrollHandler.bind(this)),this._onDragStartListener=this._renderer.listen(this._contentRef.nativeElement,"dragstart",e=>{e.preventDefault()}),this.checkNavStatus(),this.dsInitialized.emit(),this.adjustMarginToLastChild(),this.rtl="rtl"===getComputedStyle(this._contentRef.nativeElement).getPropertyValue("direction")}ngAfterViewChecked(){this._children.length!==this.prevChildrenLength&&(this.markElDimension(),this.checkScrollbar(),this.prevChildrenLength=this._children.length,this.checkNavStatus())}ngOnDestroy(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","false"),this._onMouseDownListener&&(this._onMouseDownListener=this._onMouseDownListener()),this._onScrollListener&&(this._onScrollListener=this._onScrollListener()),this._onDragStartListener&&(this._onDragStartListener=this._onDragStartListener())}onMouseMoveHandler(e){this.onMouseMove(e)}onMouseMove(e){if((e.clientX!==this.downX||e.clientY!==this.downY)&&this.isPressed&&!this.disabled){if(!e.buttons&&!e.which)return this.onMouseUpHandler(e);if(this._pointerEvents="none",this._setIsDragging(!0),!this.xDisabled&&!this.dragDisabled){const o=e.clientX;this._contentRef.nativeElement.scrollLeft=this._contentRef.nativeElement.scrollLeft-o+this.downX,this.downX=o}if(!this.yDisabled&&!this.dragDisabled){const o=e.clientY;this._contentRef.nativeElement.scrollTop=this._contentRef.nativeElement.scrollTop-o+this.downY,this.downY=o}}}onMouseDownHandler(e){const o=this.locateDragScrollItem(e.target);if(o&&o.dragDisabled)return;this._startGlobalListening("touchstart"===e.type),this.isPressed=!0;const r=e;this.downX=r.clientX,this.downY=r.clientY,clearTimeout(this.scrollToTimer)}onScrollHandler(){this.checkNavStatus(),this.isPressed||this.isAnimating||this.snapDisabled?this.locateCurrentIndex():(this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1,this.locateCurrentIndex(!0)},500))}onMouseUpHandler(e){this.isPressed&&(this.isPressed=!1,this._pointerEvents="auto",this._setIsDragging(!1),this.snapDisabled?this.locateCurrentIndex():this.locateCurrentIndex(!0),this._stopGlobalListening())}moveLeft(){(0!==this.currIndex||this.snapDisabled)&&(this.currIndex--,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveRight(){const e=this.wrapper||this.parentNode,o=e?e.clientWidth:0;!this.isScrollReachesRightEnd()&&this.currIndex<this.maximumIndex(o,this._children.toArray())&&(this.currIndex++,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveTo(e){const o=this.wrapper||this.parentNode,a=o?o.clientWidth:0;e>=0&&e!==this.currIndex&&this.currIndex<=this.maximumIndex(a,this._children.toArray())&&(this.currIndex=Math.min(e,this.maximumIndex(a,this._children.toArray())),clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}checkNavStatus(){setTimeout(()=>{this._children.length<=1||this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!0)):this.isScrollReachesRightEnd()?(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!0)):0===this._contentRef.nativeElement.scrollLeft&&this._contentRef.nativeElement.scrollWidth>this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!1)):(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!1))},0)}onWheel(e){this._xWheelEnabled&&(e.preventDefault(),this._snapDisabled?this._contentRef.nativeElement.scrollBy(e.deltaY,0):e.deltaY<0?this.moveLeft():e.deltaY>0&&this.moveRight())}onWindowResize(){this.refreshWrapperDimensions(),this.checkNavStatus()}_setIsDragging(e){this._isDragging!==e&&(this._isDragging=e,e?this.dragStart.emit():this.dragEnd.emit())}_startGlobalListening(e){this._onMouseMoveListener||(this._onMouseMoveListener=this._renderer.listen("document",e?"touchmove":"mousemove",this.onMouseMoveHandler.bind(this))),this._onMouseUpListener||(this._onMouseUpListener=this._renderer.listen("document",e?"touchend":"mouseup",this.onMouseUpHandler.bind(this)))}_stopGlobalListening(){this._onMouseMoveListener&&(this._onMouseMoveListener=this._onMouseMoveListener()),this._onMouseUpListener&&(this._onMouseUpListener=this._onMouseUpListener())}disableScroll(e){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${e}`,"hidden")}enableScroll(e){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${e}`,"auto")}hideScrollbar(){"none"!==this._contentRef.nativeElement.style.display&&!this.wrapper&&(this.parentNode=this._contentRef.nativeElement.parentNode,this.wrapper=this._renderer.createElement("div"),this._renderer.setAttribute(this.wrapper,"class","drag-scroll-wrapper"),this._renderer.addClass(this.wrapper,"drag-scroll-container"),this.refreshWrapperDimensions(),this._renderer.setStyle(this.wrapper,"overflow","hidden"),this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._renderer.appendChild(this._elementRef.nativeElement,this.wrapper),this._renderer.appendChild(this.wrapper,this._contentRef.nativeElement),this.adjustMarginToLastChild())}showScrollbar(){this.wrapper&&(this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.wrapper.style.height),null!==this.parentNode&&(this.parentNode.removeChild(this.wrapper),this.parentNode.appendChild(this._contentRef.nativeElement)),this.wrapper=null,this.adjustMarginToLastChild())}checkScrollbar(){this._renderer.setStyle(this._contentRef.nativeElement,"height",this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?"100%":`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"width",this._contentRef.nativeElement.scrollHeight<=this._contentRef.nativeElement.clientHeight?"100%":`calc(100% + ${this.scrollbarWidth})`)}setScrollBar(){this.scrollbarHidden?this.hideScrollbar():this.showScrollbar()}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.setStyle(e,"visibility","hidden"),this._renderer.setStyle(e,"width","100px"),this._renderer.setStyle(e,"msOverflowStyle","scrollbar"),this._renderer.appendChild(this._document.body,e);const o=e.offsetWidth;this._renderer.setStyle(e,"overflow","scroll");const a=this._renderer.createElement("div");this._renderer.setStyle(a,"width","100%"),this._renderer.appendChild(e,a);const r=a.offsetWidth;return this._renderer.removeChild(this._document.body,e),o-r||20}refreshWrapperDimensions(){this.wrapper&&(this._renderer.setStyle(this.wrapper,"width","100%"),this._renderer.setStyle(this.wrapper,"height",this._elementRef.nativeElement.style.height>0||this._elementRef.nativeElement.offsetHeight>0?this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px":"100%"))}scrollTo(e,o,a){const r=this;r.isAnimating=!0;const c=e.scrollLeft,d=(this.rtl?-1:1)*o-c-this.snapOffset;let g=0;const v=function(){var j,R,G;g+=20,e.scrollLeft=(j=g,R=c,G=d,(j/=a/2)<1?G/2*j*j+R:-G/2*(--j*(j-2)-1)+R),g<a?r.scrollToTimer=setTimeout(v,20):setTimeout(()=>{r.isAnimating=!1,r.snapAnimationFinished.emit(r.currIndex)},20)};v()}locateCurrentIndex(e){const o=Math.abs(this._contentRef.nativeElement.scrollLeft);this.currentChildWidth((a,r,l,c,d)=>{o>=l&&o<=r?(r-o>a/2&&!this.isScrollReachesRightEnd()?(this.isAnimating||(this.currIndex=c),e&&this.scrollTo(this._contentRef.nativeElement,l,this.snapDuration)):0!==o&&(this.isAnimating||(this.currIndex=c+1),e&&this.scrollTo(this._contentRef.nativeElement,l+a,this.snapDuration)),d()):c+1===this._children.length-1&&(this.isAnimating||(this.currIndex=c+1),d())})}currentChildWidth(e){let o=0,a=!1;const r=function(){a=!0},l=this._children.toArray();for(let c=0;c<l.length&&c!==l.length-1&&!a;c++){const u=l[c]._elementRef.nativeElement.clientWidth;e(u,o+l[c+1]._elementRef.nativeElement.clientWidth,o,c,r),o+=u}}toChildrenLocation(){let e=0;const o=this._children.toArray();for(let a=0;a<this.currIndex;a++)e+=o[a]._elementRef.nativeElement.clientWidth;return e}locateDragScrollItem(e){let o=null;const a=this._children.toArray();for(let r=0;r<a.length;r++)e===a[r]._elementRef.nativeElement&&(o=a[r]);return o}markElDimension(){this.wrapper?(this.elWidth=this.wrapper.style.width,this.elHeight=this.wrapper.style.height):(this.elWidth=this._elementRef.nativeElement.style.width||this._elementRef.nativeElement.offsetWidth+"px",this.elHeight=this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px");const e=this.wrapper||this.parentNode;this._children.length>1&&(this.indexBound=this.maximumIndex(e?e.clientWidth:0,this._children.toArray()))}maximumIndex(e,o){let a=0,r=0;for(let l=0;l<=o.length;l++){const c=o[o.length-1-l];if(!c)break;{const d=c._elementRef.nativeElement;let u=d.clientWidth;if(0===u&&d.firstElementChild&&(u=c._elementRef.nativeElement.firstElementChild.clientWidth),r+=u,!(r<e))break;a++}}return o.length-a}isScrollReachesRightEnd(){return Math.abs(this._contentRef.nativeElement.scrollLeft)+this._contentRef.nativeElement.offsetWidth>=this._contentRef.nativeElement.scrollWidth}adjustMarginToLastChild(){if(this._children&&this._children.length>0&&this.hideScrollbar){const e=this._children.toArray();this._renderer.setStyle(e[e.length-1]._elementRef.nativeElement,"margin-right",this.wrapper&&e.length>1?this.scrollbarWidth:0)}}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(_.qQ))},n.\u0275cmp=t.VBU({type:n,selectors:[["drag-scroll"]],contentQueries:function(e,o,a){if(1&e&&t.wni(a,W,5),2&e){let r;t.mGM(r=t.lsd())&&(o._children=r)}},viewQuery:function(e,o){if(1&e&&t.GBs(Gt,7),2&e){let a;t.mGM(a=t.lsd())&&(o._contentRef=a.first)}},hostVars:2,hostBindings:function(e,o){1&e&&t.bIt("wheel",function(r){return o.onWheel(r)})("resize",function(){return o.onWindowResize()},!1,t.tSv),2&e&&t.xc7("pointer-events",o._pointerEvents)},inputs:{scrollbarHidden:[0,"scrollbar-hidden","scrollbarHidden"],disabled:[0,"drag-scroll-disabled","disabled"],xDisabled:[0,"drag-scroll-x-disabled","xDisabled"],yDisabled:[0,"drag-scroll-y-disabled","yDisabled"],xWheelEnabled:[0,"scroll-x-wheel-enabled","xWheelEnabled"],dragDisabled:[0,"drag-disabled","dragDisabled"],snapDisabled:[0,"snap-disabled","snapDisabled"],snapOffset:[0,"snap-offset","snapOffset"],snapDuration:[0,"snap-duration","snapDuration"]},outputs:{dsInitialized:"dsInitialized",indexChanged:"indexChanged",reachesLeftBound:"reachesLeftBound",reachesRightBound:"reachesRightBound",snapAnimationFinished:"snapAnimationFinished",dragStart:"dragStart",dragEnd:"dragEnd"},features:[t.OA$],ngContentSelectors:xe,decls:3,vars:0,consts:[["contentRef",""],[1,"drag-scroll-content"]],template:function(e,o){1&e&&(t.NAR(),t.j41(0,"div",1,0),t.SdG(2),t.k0s())},styles:["[_nghost-%COMP%]{overflow:hidden;display:block}.drag-scroll-content[_ngcontent-%COMP%]{height:100%;overflow:auto;white-space:nowrap}"]}),s})(),F=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({}),s})();var x=p(5502),vt=p(22867),ft=p(63016),st=p(47947),Ce=p(41483),Qn=p(51698),Oa=p(74871),S=p(44155),I=p(36894),wa=p(7919),f=p(47348),y=p(70050),Wi=p(9260),q=p(18148),M=p(89163),Fa=p(60902),ot=p(33887),Ra=p(45344),Ea=p(17187);let qi=(()=>{var n;class s extends ot._{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(e=>1==e.selected)}saveData(){this.initStatusObj();var e=[];this.checkboxMonth.checkboxMonth.filter(a=>1==a.selected).forEach(a=>{e.push({month:a.month,year:a.year})}),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentPost({payments:e,studentId:this.data})).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)}))}constructor(e,o,a){super(a,o),this.paymentService=e,this.dialogRef=o,this.data=a,this.checkboxMonth=new Fa.L,this.checkboxMonth.studentId=a}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Ea.W),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-dialog-checkbox-month"]],standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"click","disabled"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-checkbox-month",3),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return o.btnCloseDialog()}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return o.saveData()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(3),t.Y8G("checkboxMonth",o.checkboxMonth),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!o.isSelectedMonth()||o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(10,6,"lang_business_news_update_post_button")," "))},dependencies:[Ra.u,_.MD,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();var Qi=p(14490),oe=p(68323),Zi=p(87039),$=p(52811),Y=p(18718),Ma=p(67156),It=p(32099),Dt=p(27208),Na=p(41517),kt=p(5800),vn=p(94743),Ki=p(81300),Zn=p(43234),nt=p(81519),at=p(47426),mt=p(95670),qt=p(99503),se=p(79347),Te=p(69135),xt=p(9691),Ot=p(2915),Ga=p(43165),Da=p(42804),to=p(74742),$a=p(19965),Xe=p(39712);function za(n,s){if(1&n&&(t.j41(0,"span",9),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.JRh((null==i.cellData?null:i.cellData.fullName)+": ")}}function Pa(n,s){if(1&n&&(t.j41(0,"span",10),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=s.$implicit,e=s.index,o=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,i.errorMessage)+(e===o.errors.length-1?" ("+t.bMT(3,3,"lang_auto_line")+" "+o.row+")":", ")," ")}}function Aa(n,s){if(1&n&&(t.j41(0,"div",6),t.DNE(1,za,2,1,"span",7)(2,Pa,4,5,"span",8),t.k0s()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("ngIf",null==i.cellData?null:i.cellData.fullName),t.R7$(),t.Y8G("ngForOf",i.errors)}}let La=(()=>{var n;class s extends O.H{}return(n=s).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["excel-error"]],inputs:{excelErrorList:"excelErrorList"},standalone:!0,features:[t.Vt3,t.aNF],decls:8,vars:6,consts:[[1,"excel-error"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"ng-scrollbar",4),t.DNE(7,Aa,3,2,"div",5),t.k0s()()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,4,"lang_auto_tong_so_loi")+" "+o.excelErrorList.length),t.R7$(3),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(),t.Y8G("ngForOf",o.excelErrorList))},dependencies:[_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,x.Yh,I.k],encapsulation:2}),s})();var Se=p(10296),dt=p(6440),kn=p(60303),B=p(47712);const Ya=["fileSelect"],Ba=n=>[n],Va=()=>({"mr-2 text-success":!0}),eo=()=>({"mr-2":!0});function Xa(n,s){if(1&n&&(t.j41(0,"div",21),t.nrm(1,"excel-error",22),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("excelErrorList",i.errorImportFile)}}function Ua(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",23)(1,"azt-upload-single-document-to-editor",24),t.bIt("emitFiles",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.handleUploadComplete(o))}),t.j41(2,"div",25)(3,"div",26),t.nrm(4,"lucide-icon",27),t.j41(5,"span",28),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&n){const i=t.XpG(2);t.R7$(),t.Y8G("fileType",t.eq3(8,Ba,i.allUploadFileTypes.EXCEL)),t.R7$(3),t.Y8G("ngClass",t.lJ4(10,Va)),t.R7$(2),t.SpI(" ",t.bMT(7,4,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_auto_hoc_click_de_chon_file")," ")}}function Ha(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",33)(5,"div",34),t.nrm(6,"img",35),t.nI1(7,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",36)(9,"p",37,1),t.EFF(11),t.k0s(),t.j41(12,"div",38),t.EFF(13),t.k0s()(),t.j41(14,"div",39)(15,"button",40),t.nI1(16,"mytranslate"),t.bIt("click",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.removeFile(o))}),t.nrm(17,"lucide-icon",41),t.k0s()()()()()()()}if(2&n){const i=t.sdS(10),e=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==e.file?null:e.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.R7$(2),t.SpI(" ",e.file?e.file.name:""," "),t.R7$(2),t.SpI(" ",e.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}function Ja(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.exportDefaultListStudent())}),t.nrm(1,"lucide-icon",43),t.j41(2,"span",44),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,eo)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_download_file")," "))}function Wa(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.exportListStudent())}),t.nrm(1,"lucide-icon",43),t.j41(2,"span",44),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,eo)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function qa(n,s){if(1&n&&(t.j41(0,"div",15),t.DNE(1,Xa,2,1,"div",16),t.j41(2,"div",17),t.DNE(3,Ua,10,11,"div",18)(4,Ha,18,11,"ng-template",null,0,t.C5r),t.j41(6,"div",19),t.DNE(7,Ja,5,5,"a",20)(8,Wa,5,5,"a",20),t.k0s()()()),2&n){const i=t.sdS(5),e=t.XpG();t.R7$(),t.Y8G("ngIf",e.errorImportFile.length),t.R7$(2),t.Y8G("ngIf",!e.file)("ngIfElse",i),t.R7$(4),t.Y8G("ngIf",0==(null==e.studentObjs?null:e.studentObjs.length)||e.isBusinessDomain),t.R7$(),t.Y8G("ngIf",0!=(null==e.studentObjs?null:e.studentObjs.length)&&!e.isBusinessDomain)}}function Qa(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",45)(1,"azt-form-enter-info-student",46),t.bIt("closeDialog",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.btnCloseDialog(o))}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("studentForm",i.studentForm)("modeView",i.eAddStudentViewMode.ADD_STUDENT)}}function Za(n,s){if(1&n&&(t.j41(0,"div",47)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,1,i.msgError),"!")}}function Ka(n,s){1&n&&t.nrm(0,"azt-loading-ui",48)}function tr(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-export-excel-for-student-list",49),t.bIt("exportDataDone",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.exportStudentListDone(o))}),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("objs",i.exportStudentObjs)}}let er=(()=>{var n;class s extends ot._{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain||this.checkVipAccountService?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(e){let o=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,o)}changeNameDownloadFile(e){return this.commonService.createFileNameExportFile([e])+".xlsx"}handleUploadComplete(e){this.file=e,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(e){return e&&e>0?(e/=1048576).toFixed(2):0}removeFile(e){e.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(e){this.importExcel=e}btnCloseDialog(e){this.dialogRef.close(e)}selectedIndexChange(e){if(this.selected.setValue(e),this.showImportExcel(0!=e),this.file){let o=document.getElementById("button-remove-export");o&&o.click()}}togglePassword(){this.showPassword=!this.showPassword}confirmAction(){let e=this.studentForm.form.getRawValue();this.initStatusObj(),this.importExcel&&this.file?this.handleExcelImport():this.studentForm.form.valid&&this.handleStudentFormSave(e)}handleExcelImport(){const e=1===this.selected.value?this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file):this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file);this.waitDestroy(e.subscribe(o=>{1===o.success&&o.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack(1===this.selected.value?"lang_student_utils_add_success":"lang_cms_utils_update_folder_success")):this.handleExcelError(o)}))}handleExcelError(e){1===e.success?(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=e.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(e.message??"",!0))}handleStudentFormSave(e){let o={fullName:e.fullName,phone:e.phoneNumber,identificationNumber:e.identificationNumber?Number(e.identificationNumber):void 0,email:e.email,gender:Number(e.gender),birthday:e.birthday?this.timeService.formatOnlyDateToPostToServer(e.birthday):void 0,classroomId:this.classroomObj.id??0,password:e.password,facebookLink:e.facebookLink,schoolName:e.school,userName:e.userName,parentPhone:e.parentPhoneNumber};this.waitDestroy(this.studentService.apiStudentSaveObjPost(o).subscribe(a=>{1===a.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.stopStatusObj(),this.msgError=a.message??"",this.showErrorSnack(this.msgError))}))}ngOnInit(){super.ngOnInit()}constructor(e,o,a,r,l){super(l,r),this.shareFileFlutterService=e,this.studentService=o,this.timeService=a,this.dialogRef=r,this.data=l,this.studentForm=new to.d,this.selected=new m.MJ(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.eAddStudentViewMode=Da.u,this.msgError="",this.maxDate=Zn.c.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=Xe.PO,this.file=null,this.studentObjs=l.studentObjs,this.classroomObj=l.classroomObj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Se.R),t.rXU(dt.b0),t.rXU(xt.F),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-add-student"]],viewQuery:function(e,o){if(1&e&&t.GBs(Ya,5),2&e){let a;t.mGM(a=t.lsd())&&(o.fileSelect=a.first)}},standalone:!0,features:[t.Jv_([{provide:nt.$O,useClass:qt.fb,deps:[at.Ju,qt.ij]},{provide:nt.vq,useFactory:se.fJ,deps:[xt.F]},{provide:mt.U$,useValue:{floatLabel:"never"}}]),t.Vt3,t.aNF],decls:24,vars:22,consts:[["exitsFile",""],["c","isDisabled"],[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndexChange","selectedIndex"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],["class","text-xs font-medium text-danger mt-2 mb-2 ml-3 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[3,"excelErrorList"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"emitFiles","fileType"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"click","matTooltip"],["name","trash-2","size","18"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],[1,"px-2"],[3,"closeDialog","studentForm","modeView"],[1,"text-xs","font-medium","text-danger","mt-2","mb-2","ml-3","fade"],[1,"mr-1"],[3,"exportDataDone","objs"]],template:function(e,o){1&e&&(t.j41(0,"div",2)(1,"div",3)(2,"azt-mat-dialog-content")(3,"div",4)(4,"mat-tab-group",5),t.bIt("selectedIndexChange",function(r){return o.selectedIndexChange(r)}),t.nrm(5,"mat-tab",6),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",6),t.nI1(8,"mytranslate"),t.nrm(9,"mat-tab",6),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div"),t.DNE(12,qa,9,5,"div",7)(13,Qa,2,2,"div",8),t.k0s()()(),t.DNE(14,Za,4,3,"div",9),t.k0s(),t.j41(15,"div",10)(16,"button",11),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",12),t.bIt("click",function(){return o.confirmAction()}),t.DNE(20,Ka,1,0,"azt-loading-ui",13),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,tr,1,1,"azt-export-excel-for-student-list",14)),2&e&&(t.R7$(4),t.Y8G("selectedIndex",o.selected.value),t.R7$(),t.FS9("label",t.bMT(6,12,"lang_student_utils_add_student")),t.R7$(2),t.FS9("label",t.bMT(8,14,"lang_student_utils_quick_add_excel")),t.R7$(2),t.FS9("label",t.bMT(10,16,"lang_student_utils_quick_add_phone_and_email_info")),t.R7$(3),t.Y8G("ngIf",0!=o.selected.value),t.R7$(),t.Y8G("ngIf",0==o.selected.value),t.R7$(),t.Y8G("ngIf",""!==o.msgError&&0==o.selected.value),t.R7$(3),t.SpI(" ",t.bMT(18,18,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",o.statusObj.loading||o.studentForm.form.invalid&&!o.importExcel||null==o.file&&o.importExcel),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(22,20,"lang_cms_common_confirm_btn")," "),t.R7$(2),t.Y8G("ngIf",o.exportStudentObjs))},dependencies:[Te.f,Ot.U,La,$a.p,Ga.s,$.R,Wi.m,_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,f.Vs,S.s,kn.mq,kn.T8,B.oV,h.flO,h.WGl,y.L,x.Id,I.k],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#1baba10d;border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),s})();var nr=p(47160);const ir=()=>({"mr-2 text-danger":!0});function or(n,s){if(1&n&&(t.j41(0,"div",16)(1,"span",17),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-see-more-content",18),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.R7$(2),t.Y8G("content",i.listStudentsNames)("maxLength",200)}}function sr(n,s){1&n&&t.nrm(0,"azt-loading-ui",19)}let ar=(()=>{var n;class s extends ot._{btnCloseDialog(e){this.dialogRef.close(e)}confirmDelete(){this.initStatusObj();let e=this.listStudentObjs.map(a=>a.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:e}).subscribe(a=>{1==a.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(a.message,!0),this.btnCloseDialog(!1))}))}constructor(e,o,a){super(a,o),this.studentService=e,this.dialogRef=o,this.data=a,this.listStudentsNames="",this.listStudentObjs=a.listStudentObjs,this.classroomObj=a.classroomObj,this.listStudentsNames=a.listStudentObjs.map(r=>r.fullName).join(", ")}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.b0),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-delete-list-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:31,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["name","trash-2","size","24",3,"ngClass"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s(),t.EFF(10," \xa0 "),t.j41(11,"span",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.nI1(15,"mytranslate"),t.j41(16,"span",7),t.EFF(17),t.k0s(),t.EFF(18," ? "),t.k0s()(),t.j41(19,"div",8)(20,"azt-mat-dialog-content",9)(21,"div",10),t.DNE(22,or,5,5,"div",11),t.k0s()()()()(),t.j41(23,"div",12)(24,"button",13),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",14),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(28,sr,1,0,"azt-loading-ui",15),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(21,ir)),t.R7$(2),t.SpI(" ",t.bMT(7,11,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.R7$(3),t.JRh(o.data.listStudentObjs.length),t.R7$(3),t.JRh(t.bMT(13,13,"lang_auto_hoc_sinh")),t.R7$(2),t.SpI(" ",t.bMT(15,15,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(o.classroomObj.name),t.R7$(3),t.Y8G("defaultHeight",70),t.R7$(2),t.Y8G("ngIf",""!=o.listStudentsNames),t.R7$(3),t.SpI(" ",t.bMT(26,17,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(30,19,"lang_cms_common_confirm_btn")," "))},dependencies:[Ot.U,nr.l,$.R,_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,x.Id,I.k],encapsulation:2}),s})();var no=p(14999),io=p(46723),xn=p(92540);function rr(n,s){if(1&n&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==i.extraDataObj?null:i.extraDataObj.reApprovedZaloFullName)}}function lr(n,s){if(1&n&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==i.extraDataObj?null:i.extraDataObj.reApprovedPhone)}}function cr(n,s){if(1&n&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==i.extraDataObj?null:i.extraDataObj.reApprovedEmail)}}function mr(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"span",9),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",10),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,rr,5,4,"span",11)(15,lr,5,4,"span",11)(16,cr,5,4,"span",11),t.j41(17,"div",12)(18,"div",13),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.reApproveStudent(o.studentId,o.id))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.rejectApproveRequest(o.studentId,o.id))}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()}if(2&n){const i=s.$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.R7$(3),t.JRh(i.studentName),t.R7$(),t.SpI(" \xa0 ",t.bMT(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.R7$(3),t.JRh(i.classroomName),t.R7$(),t.SpI(" \xa0 ",t.bMT(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.R7$(2),t.Y8G("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedZaloFullName),t.R7$(),t.Y8G("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedPhone),t.R7$(),t.Y8G("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedEmail),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.R7$(3),t.JRh(t.bMT(23,18,"lang_button_skip"))}}let dr=(()=>{var n;class s extends ot._{reApproveStudent(e,o){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(e??0).subscribe(a=>{1==a.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(r=>r.id!=o),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(a.message??"",!0)}))}rejectApproveRequest(e,o){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(e??0).subscribe(a=>{1==a.success?(this.noticeObjs=this.noticeObjs.filter(r=>r.id!=o),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(a.message??"",!0)}))}btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,o,a,r){super(r,a),this.studentService=e,this.noticeService=o,this.dialogRef=a,this.data=r,this.classroomObj=r.classroomObj,this.noticeObjs=r.noticeObjs}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.b0),t.rXU(xn.eI),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-re-approve-request"]],standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.DNE(4,mr,24,20,"div",3),t.k0s()()(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(4),t.Y8G("ngForOf",o.noticeObjs),t.R7$(3),t.SpI(" ",t.bMT(8,2,"lang_cms_common_close_btn")," "))},dependencies:[Ot.U,_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]}),s})();var Ie=p(34514),_r=p(93493),ae=p(81587);function ur(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_dang_nhap")," "))}function pr(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function gr(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function hr(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function fr(n,s){if(1&n&&(t.j41(0,"div",16),t.DNE(1,ur,3,3,"span",17)(2,pr,3,3,"span",17)(3,gr,3,3,"span",17)(4,hr,3,3,"span",17),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",null==i.studentForm.form.controls.userName||null==i.studentForm.form.controls.userName.errors?null:i.studentForm.form.controls.userName.errors.required),t.R7$(),t.Y8G("ngIf",null==i.studentForm.form.controls.userName||null==i.studentForm.form.controls.userName.errors?null:i.studentForm.form.controls.userName.errors.isShort),t.R7$(),t.Y8G("ngIf",null==i.studentForm.form.controls.userName||null==i.studentForm.form.controls.userName.errors?null:i.studentForm.form.controls.userName.errors.isLong),t.R7$(),t.Y8G("ngIf",null==i.studentForm.form.controls.userName||null==i.studentForm.form.controls.userName.errors?null:i.studentForm.form.controls.userName.errors.isLetter)}}function br(n,s){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function vr(n,s){1&n&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function kr(n,s){1&n&&t.nrm(0,"azt-loading-ui",18)}let xr=(()=>{var n;class s extends ot._{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,userName:this.studentForm.form.controls.userName?.value??"",password:this.studentForm.form.controls.password?.value??""}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message??"lang_business_create_account_unsuccessfully",!0);this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new m.gE({fullName:new m.MJ(this.data.student.fullName??"",{nonNullable:!0,validators:[m.k0.required]}),userName:new m.MJ({value:this.data.student.parentUserName??"",disabled:!!this.data.student.parentUserName},{nonNullable:!0,validators:[m.k0.required,m.k0.min(3),_r.i.validateUserName]}),password:new m.MJ("",{nonNullable:!0,validators:[m.k0.required,m.k0.minLength(6)]}),email:new m.MJ({value:this.data.student.email??"",disabled:!!this.data.student.email},{nonNullable:!0}),phoneNumber:new m.MJ({value:this.data.student.phone??"",disabled:!!this.data.student.phone},{nonNullable:!0}),parentPhoneNumber:new m.MJ(this.data.student.parentPhone??"",{nonNullable:!0,validators:[m.k0.required,m.k0.pattern(/^[0-9\-]*$/),m.k0.minLength(10),m.k0.maxLength(10)]})})}constructor(e,o,a){super(a,o),this.studentService=e,this.dialogRef=o,this.data=a,this.showPassword=!1,this.studentForm=new to.d}ngOnDestroy(){super.ngOnDestroy()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.b0),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-create-user-business"]],standalone:!0,features:[t.Jv_([{provide:nt.$O,useClass:qt.fb,deps:[at.Ju,Ie.ij]},{provide:nt.vq,useFactory:se.fJ,deps:[xt.F]}]),t.Vt3,t.aNF],decls:29,vars:25,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["id","username","formControlName","userName","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","20",3,"name"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","mr-2","min-width-100",3,"click"],["azt-track-service","create-student-account-nl345ShOLM",1,"btn","btn-primary","min-width-100",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[4,"ngIf"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"form",4)(9,"div",5),t.nrm(10,"input",6),t.nI1(11,"mytranslate"),t.DNE(12,fr,5,4,"div",7),t.k0s(),t.j41(13,"div",5)(14,"div",8),t.nrm(15,"input",9),t.nI1(16,"mytranslate"),t.j41(17,"button",10),t.bIt("click",function(){return o.showPassword=!o.showPassword}),t.nrm(18,"lucide-icon",11),t.k0s()(),t.DNE(19,br,3,3,"div",7)(20,vr,4,3,"div",7),t.k0s()()()()(),t.j41(21,"div",12)(22,"button",13),t.bIt("click",function(){return o.btnCloseDialog()}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"button",14),t.bIt("click",function(){return o.confirmCreate()}),t.DNE(26,kr,1,0,"azt-loading-ui",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",t.bMT(6,13,"lang_business_create_account")+" "+t.bMT(7,15,"lang_config_cho")+" "+o.data.student.fullName," "),t.R7$(3),t.Y8G("formGroup",o.studentForm.form),t.R7$(2),t.FS9("placeholder",t.bMT(11,17,"lang_auto_nhap_ten_dang_ky")),t.R7$(2),t.Y8G("ngIf",null==o.studentForm.form.controls.userName?null:o.studentForm.form.controls.userName.errors),t.R7$(3),t.FS9("placeholder",t.bMT(16,19,"lang_auto_mat_khau")),t.Y8G("type",o.showPassword?"text":"password"),t.R7$(3),t.FS9("name",o.showPassword?"eye":"eye-off"),t.R7$(),t.Y8G("ngIf",null==o.studentForm.form.controls.password||null==o.studentForm.form.controls.password.errors?null:o.studentForm.form.controls.password.errors.minlength),t.R7$(),t.Y8G("ngIf",null==o.studentForm.form.controls.password||null==o.studentForm.form.controls.password.errors?null:o.studentForm.form.controls.password.errors.required),t.R7$(3),t.SpI(" ",t.bMT(24,21,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",o.studentForm.form.invalid||o.statusObj.loading),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(28,23,"lang_auto_luu")," "))},dependencies:[Ot.U,$.R,_.MD,_.bT,m.X1,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,x.Id,I.k,ae.t],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),s})();var oo=p(42801),so=p(68774),Ue=p(67638),Q=p(46899),re=p(10490),Cn=p(44172),ao=p(78472),Kn=p(51913),Cr=p(41715),Tr=p(99927),Sr=p(91640);let Ir=(()=>{var n;class s{constructor(e,o,a,r,l,c){this.commonService=e,this.examPageResultService=o,this.permissionService=a,this.globalService=r,this.answerTypeService=l,this.homeworkExamService=c}getTestedAllResultByClassroomId(e,o,a,r){return this.globalService.startIntervalFunc(e),this.getTestedOfExamResultByClassroomId(e,o,"all",a,r)}getTestedOfExamResultByClassroomId(e,o,a,r,l){return new Qn.c(c=>{this.examPageResultService.apiExamPageResultGetObjV2Get(o).subscribe(d=>{if(1==d.success){let u=d.data?.examObj,g=this.hasEssay(d.data?.examQuestionObjs??[]),k=d.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",u)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",u)?this.getAllExamResultObjs(e,[],o,"",v=>{if(v.hasOwnProperty("success")&&1==v.success){let j=this.mergeStudentWithAvatar(v.studentWithResultObjs??[]),R={};j?.forEach(D=>{let L=D.parentId??"0";R.hasOwnProperty(L)||(R[L]=D.examResultObjs??[])});let G=l;if(this.homeworkExamService.mustInClassroom(u)&&k.length>0)for(let D=0;D<k.length;D++)if(k[D].classroomObj?.id==r){let w=k[D].studentObjs??[];if(w.length>0)for(let E=0;E<w.length;E++){let Tt=w[E].parentId??"0";R.hasOwnProperty(Tt)?(Array.isArray(w[E].examResultObjs)||(w[E].examResultObjs=[]),w[E].examResultObjs=this.findExamResultOfStudent(w[E].examResultObjs?.concat(R[Tt])??[],w[E].id??"0")):w[E].examResultObjs=this.findExamResultOfStudent(w[E].examResultObjs??[],w[E].id??"0");let Yt=this.filterExamResultByType(w[E].examResultObjs??[],"first"),fe=this.filterExamResultByType(w[E].examResultObjs??[],"last"),Be=this.filterExamResultByType(w[E].examResultObjs??[],"highest");G.forEach(Ve=>{if(Ve.dataExam||(Ve.dataExam=[]),Ve.parentId==w[E].parentId||Ve.id.toString()==w[E].id){let Wn=Yt.hasOwnProperty(w[E].parentId??0)?Yt[w[E].parentId??0]:void 0,qn=fe.hasOwnProperty(w[E].parentId??0)?fe[w[E].parentId??0]:void 0,ja=Be.hasOwnProperty(w[E].parentId??0)?Be[w[E].parentId??0]:void 0,nx={id:u?.id??0,name:u?.name??"",firstPoint:Wn?this.checkMarkStatus(Wn,g):void 0,lastPoint:qn?this.checkMarkStatus(qn,g):void 0,highestPoint:ja?this.checkMarkStatus(ja,g):void 0};Ve.dataExam.push(nx)}Ve.dataExam.sort((Wn,qn)=>(Wn.id??0)-(qn.id??0))},G)}break}c.next({status:200,success:1,data:G,message:"successful"}),c.complete()}else c.next({status:v.code,success:0,data:l,message:v.message??""}),c.complete()}):(c.next({status:200,success:1,data:l,message:"successful"}),c.complete())}else c.next({status:d.code,success:0,data:l,message:d.message??""}),c.complete()})})}getAllExamResultObjs(e,o,a,r,l){this.examPageResultService.apiExamPageResultGetObjsV2Get(a,"export",r).subscribe(c=>{1==c.success?(c.data?.objs&&o.push(...c.data.objs),c.data?.nextPage?this.globalService.isStopIntervalFunc(e)?l({studentWithResultObjs:o,success:1}):setTimeout(()=>{this.getAllExamResultObjs(e,o,a,c.data?.nextPage??"",l)},300):l({studentWithResultObjs:o,success:1})):l({code:c.code,studentWithResultObjs:[],success:0,message:c.message??""})})}filterExamResultOnTest(e,o,a){var r={};return e.forEach(l=>{var c=this.commonService.myClone(l)??{};if(c.testStatus)r[c.userId??0]=c.testStatus;else if(c.startedTest&&a)if(o.endTime){var d=Math.floor(new Date(o.endTime).getTime()/1e3);r[c.userId??0]=a<=d+60*(o.minutes??0)+600?0:-1}else{var u=c.startedTest?Math.floor(new Date(c.startedTest).getTime()/1e3):0;r[c.userId??0]=a<=u+86400?0:-1}else r[c.userId??0]=0}),r}mergeStudentWithAvatar(e){var o=[];return e.forEach(a=>{var r=o.filter(c=>c.parentId==a.parentId);if(r&&0!=r.length)for(var l=0;l<o.length;l++)o[l].parentId==a.parentId&&(o[l].examResultObjs=o[l].examResultObjs?.concat(a.examResultObjs??[]));else o.push(a)}),o}findExamResultOfStudent(e,o){var a=[];return e.forEach(r=>{(r.studentId==o||null==r.studentId)&&a.push(r)}),a}createStudentWithResult(e,o,a){return{id:e.id,userId:e.parentId,studentId:e.id,identificationNumber:o.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:o.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:e.gender,fullName:e.fullName,avatar:e.avatar,birthday:e.birthday,mark:o.hasOwnProperty("mark")?o.mark:null,confirmedAt:o.hasOwnProperty("confirmedAt")?o.confirmedAt:null,startedTest:o.hasOwnProperty("startedTest")?o.startedTest:null,createdAt:o.hasOwnProperty("createdAt")?o.createdAt:null,status:a,totalExamResultObjs:0,checkBoxGroupControl:new m.gE({isShow:new m.MJ(!1,{nonNullable:!0}),selectedCheckbox:new m.MJ(!1,{nonNullable:!0})}),questionTypeMarks:o.questionTypeMarks??[]}}filterExamResultByType(e,o){var a={};if(e.length>1)e.forEach((l,c)=>{var d=this.commonService.myClone(l);l.testStatus&&(d.resultId=d.id,d.indexTest=c,"last"==o&&(a[d.userId??0]=d),"first"==o&&(a.hasOwnProperty(d.userId??0)||(a[d.userId??0]=d)),"highest"==o)&&(a.hasOwnProperty(d.userId??0)?(a[d.userId??0].mark??-1)<=(d.mark??-1)&&(a[d.userId??0]=d):a[d.userId??0]=d)});else{var r=this.commonService.myClone(e[0]??{});r.resultId=r.testStatus?r.id:0,r.indexTest=0,a[r.userId??0]=r}return a}hasEssay(e){let o=!1;for(let a=0;a<e.length;a++)if(this.answerTypeService.isEssayAnswer(e[a])){o=!0;break}return o}checkMarkStatus(e,o){return o?1==e.testStatus?e.confirmedAt?e.mark:-1:void 0:1==e.testStatus?e.mark:void 0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.KVO(Cn.R),t.KVO(ao.TE),t.KVO(Kn.p),t.KVO(Cr.r),t.KVO(Tr._),t.KVO(Sr.Z))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();var yr=p(97924),tt=p(17818);const jr=["parent"],Or=n=>({"flex-wrap":n}),ti=n=>({"w-full":n}),He=()=>["fullName","phone","email"],wr=()=>({"mr-2 flex-none":!0}),Z=()=>({"mr-2":!0}),ro=n=>({opacity:n}),lo=n=>({"mr-3":n}),Fr=()=>({"text-slate-500":!0}),co=()=>({"ml-1 text-success":!0});function Rr(n,s){if(1&n&&(t.j41(0,"div",13),t.nrm(1,"azt-loading-effect",14),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("currentStatusObj",i.statusObj)}}function Er(n,s){if(1&n&&t.nrm(0,"azt-download-qr-code",36),2&n){const i=t.XpG(2);t.Y8G("fileName",i.convertNameForQR())("linkUrl",i.copyLinkToClipboard())("showLink",!i.isMobileDevice)}}function Mr(n,s){if(1&n&&(t.j41(0,"button",39)(1,"span",40),t.nrm(2,"lucide-icon",41),t.k0s()()),2&n){t.XpG(3);const i=t.sdS(5);t.Y8G("matMenuTriggerFor",i)}}function Nr(n,s){if(1&n&&(t.j41(0,"div",37),t.DNE(1,Mr,3,1,"button",38),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",null!=(null==i.classroomObj?null:i.classroomObj.permissionObj))}}function Gr(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.exportListStudent())}),t.nrm(1,"lucide-icon",54),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,wr)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_utils_export_list_student")," "))}function Dr(n,s){1&n&&t.nrm(0,"azt-loading-ui",58)}function $r(n,s){1&n&&t.nrm(0,"lucide-icon",54),2&n&&t.Y8G("ngClass",t.lJ4(1,Z))}function zr(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.exportExcelForScoreOfClassroom())}),t.DNE(1,Dr,1,0,"azt-loading-ui",56)(2,$r,1,2,"lucide-icon",57),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",i.loadingExport),t.R7$(),t.Y8G("ngIf",!i.loadingExport),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_xuat_bang_diem")," ")}}function Pr(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",59),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.addStudentDialog(o.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Ar(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",61),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.openDialogAutoNumbering())}),t.nrm(1,"lucide-icon",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_danh_so_bao_danh")," "))}function Lr(n,s){if(1&n&&(t.j41(0,"button",63),t.nrm(1,"lucide-icon",41),t.k0s()),2&n){t.XpG(3);const i=t.sdS(5);t.Y8G("matMenuTriggerFor",i)}}function Yr(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"azt-search-box",45),t.nI1(4,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onSearchBox(o.searchObj))}),t.k0s()(),t.j41(5,"div",46),t.DNE(6,Gr,4,5,"button",47),t.nI1(7,"viewPermission"),t.DNE(8,zr,5,5,"button",48),t.nI1(9,"viewPermission"),t.DNE(10,Pr,4,5,"button",49),t.nI1(11,"editPermission"),t.DNE(12,Ar,4,5,"button",50),t.nI1(13,"editPermission"),t.j41(14,"div",51),t.DNE(15,Lr,2,1,"button",52),t.k0s()()()()}if(2&n){const i=t.XpG(2);t.R7$(3),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(4,7,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",t.i5U(7,9,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(9,12,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(11,15,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(13,18,i.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",null!=(null==i.classroomObj?null:i.classroomObj.permissionObj))}}function Br(n,s){if(1&n&&(t.j41(0,"span",64),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_da_chon")," ",i.totalCheckboxSelected,"")}}function Vr(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",65),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",66),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function Xr(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.selectSingleStudent())}),t.k0s()}if(2&n){const i=t.XpG().$implicit;t.Y8G("formControl",i.checked)}}function Ur(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",94),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2),a=o.$implicit,r=o.index,l=t.XpG(3);return t.Njj(l.onPositionChange("up",r-1,a.id,null==l.classroomObj?null:l.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function Hr(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",96),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2),a=o.$implicit,r=o.index,l=t.XpG(3);return t.Njj(l.onPositionChange("down",r+1,a.id,null==l.classroomObj?null:l.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function Jr(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",90),t.DNE(1,Ur,2,0,"button",91),t.j41(2,"input",92,3),t.bIt("keyup.enter",function(){t.eBV(i);const o=t.sdS(3),a=t.XpG(),r=a.$implicit,l=a.index,c=t.XpG(3);return t.Njj(c.onPositionChange(o.value,l,r.id,null==c.classroomObj?null:c.classroomObj.id))}),t.k0s(),t.DNE(4,Hr,2,0,"button",93),t.k0s()}if(2&n){const i=t.XpG().index,e=t.XpG(3);t.R7$(),t.Y8G("ngIf",0!=i),t.R7$(),t.FS9("value",i+1),t.R7$(2),t.Y8G("ngIf",e.listStudents&&i!=e.listStudents.length-1)}}function Wr(n,s){if(1&n&&(t.j41(0,"div",98),t.EFF(1),t.k0s()),2&n){const i=t.XpG().index;t.R7$(),t.SpI(" ",i+1," ")}}function qr(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Qr(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Zr(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",99),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.editStudentDialog(o))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function Kr(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",101),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.deleteStudentDialog(o))}),t.nrm(1,"lucide-icon",102),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function tl(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.openDialogResetPass(o))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",105),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG(4);t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!i.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(),t.Y8G("ngClass",t.lJ4(10,Z)),t.R7$(),t.Y8G("ngClass",t.eq3(11,lo,!i.isBusinessDomain)),t.R7$(),t.JRh(t.bMT(4,8,"lang_core_dat_lai_mat_khau"))}}function el(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.openDialogCreateUser(o))}),t.nrm(1,"lucide-icon",106),t.j41(2,"span",105),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG(4);t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!i.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(),t.Y8G("ngClass",t.lJ4(10,Z)),t.R7$(),t.Y8G("ngClass",t.eq3(11,lo,!i.isBusinessDomain)),t.R7$(),t.JRh(t.bMT(4,8,"lang_business_create_account"))}}function nl(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",77)(1,"td",78),t.DNE(2,Xr,1,1,"input",79),t.k0s(),t.j41(3,"td",80),t.DNE(4,Jr,5,3,"div",81),t.nI1(5,"editPermission"),t.DNE(6,Wr,2,1,"ng-template",null,2,t.C5r),t.k0s(),t.j41(8,"td",82),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(o.classroomId,o.id))}),t.nrm(9,"azt-student-info-box",83),t.k0s(),t.j41(10,"td",84),t.EFF(11),t.nI1(12,"formatStudentCodeToNumber"),t.k0s(),t.j41(13,"td",85),t.DNE(14,qr,3,5,"span",10),t.k0s(),t.j41(15,"td",85),t.DNE(16,Qr,3,5,"span",10),t.k0s(),t.j41(17,"td",85)(18,"div",40),t.DNE(19,Zr,4,5,"button",86),t.nI1(20,"editPermission"),t.DNE(21,Kr,4,5,"button",87),t.nI1(22,"editPermission"),t.DNE(23,tl,5,13,"azt-check-vip-account",88),t.nI1(24,"editPermission"),t.DNE(25,el,5,13,"azt-check-vip-account",88),t.nI1(26,"editPermission"),t.k0s()()()}if(2&n){const i=s.$implicit,e=t.sdS(7),o=t.XpG(3);t.Y8G("ngStyle",t.eq3(44,ro,null!=i.checked&&i.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==i.checked),t.R7$(2),t.Y8G("ngIf",1==(null==o.classroomObj?null:o.classroomObj.sortType)&&t.i5U(5,26,o.classroomObj,"student"))("ngIfElse",e),t.R7$(5),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentUserName",i.parentUserName)("parentId",i.parentId)("parentPhone",i.parentPhone)("avatar",i.avatar)("identificationNumber",i.identificationNumber)("gender",i.gender)("hasUser",1==i.isVerified)("schoolName",i.schoolName)("classrooms",null==i.moreInfo?null:i.moreInfo.classrooms)("joinedAt",null==i.moreInfo?null:i.moreInfo.joinedAt)("phone",i.phone)("email",i.email)("createdAt",i.createdAt),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(12,29,i.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework)),t.R7$(2),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam)),t.R7$(3),t.Y8G("ngIf",t.i5U(20,32,o.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(22,35,o.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(24,38,o.classroomObj,"student")&&i.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(26,41,o.classroomObj,"student")&&!i.parentId)}}function il(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",67)(1,"drag-scroll")(2,"table",68)(3,"thead")(4,"tr",69)(5,"th")(6,"input",70),t.bIt("change",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.selectAllStudentsObjs())}),t.k0s()(),t.j41(7,"th",71)(8,"div",72),t.nI1(9,"mytranslate"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"th",73),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",74),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",75),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",75),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",75),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,nl,27,46,"tr",76),t.nI1(29,"appFilter"),t.k0s()()()()}if(2&n){const i=t.XpG(2);t.R7$(6),t.Y8G("formControl",i.isSelectAllFormControl),t.R7$(2),t.FCK("matTooltip","",t.bMT(9,14,"lang_student_classroom_list_detail_quantity"),": ",null!=i.classroomObj&&i.classroomObj.countStudents?null==i.classroomObj?null:i.classroomObj.countStudents:0,""),t.Y8G("matTooltipDisabled",i.isMobileDevice),t.R7$(2),t.E5c(" ",t.bMT(11,16,i.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",i.isMobileDevice?"":": ","",null!=i.classroomObj&&i.classroomObj.countStudents?null==i.classroomObj?null:i.classroomObj.countStudents:0," "),t.R7$(3),t.JRh(t.bMT(14,18,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(17,20,"lang_auto_so_bao_danh")),t.R7$(3),t.SpI(" ",t.bMT(20,22,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.SpI(" ",t.bMT(23,24,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.JRh(t.bMT(26,26,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",t.brH(29,28,i.listStudents,i.searchContentObj.searchContent,t.lJ4(32,He)))}}function ol(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",112),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.addStudentDialog(o.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function sl(n,s){if(1&n&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,ol,4,5,"button",111),t.nI1(7,"editPermission"),t.k0s()()),2&n){let i;const e=t.XpG(2);t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,e.classroomObj,"student")&&0==(null!==(i=null==e.listStudents?null:e.listStudents.length)&&void 0!==i?i:0))}}function al(n,s){if(1&n){const i=t.RV6();t.j41(0,"div")(1,"input",70),t.bIt("change",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.selectAllStudentsObjs())}),t.k0s(),t.j41(2,"span",113),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG(2);t.R7$(),t.Y8G("formControl",i.isSelectAllFormControl),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_tat_ca"))}}function rl(n,s){if(1&n&&(t.j41(0,"span",114),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ti,i.isMobileDevice||i.isMobileWebView)),t.R7$(),t.Lme("",t.bMT(2,3,"lang_auto_da_chon")," ",i.totalCheckboxSelected,"")}}function ll(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",115),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",66),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function cl(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.selectSingleStudent())}),t.k0s()}if(2&n){const i=t.XpG().$implicit;t.Y8G("formControl",i.checked)}}function ml(n,s){if(1&n&&(t.j41(0,"a",130),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatStudentCodeToNumber"),t.nI1(6,"mytranslate"),t.EFF(7),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.Tbm("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(1,8,"lang_first_and_last_name"),": ",i.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(2,10,"lang_number_phone"),": ",i.phone?i.phone:t.bMT(3,12,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(4,14,"lang_auto_so_bao_danh"),": ",i.identificationNumber?t.i5U(5,16,i.identificationNumber,e.myEnvironment.maxStudentCodeLength):t.bMT(6,19,"lang_not_data"),""),t.R7$(7),t.SpI(" ",i.fullName," \xa0 ")}}function dl(n,s){if(1&n&&(t.j41(0,"div",131),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.phone," ")}}function _l(n,s){if(1&n&&(t.j41(0,"div",132),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.FS9("matTooltip",i.email),t.R7$(),t.SpI(" ",i.email," ")}}function ul(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",139),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.editStudentDialog(o))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function pl(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",140),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.deleteStudentDialog(o))}),t.nrm(1,"lucide-icon",141),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function gl(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.openDialogResetPass(o))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",142),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(),t.Y8G("ngClass",t.lJ4(9,Z)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_core_dat_lai_mat_khau")))}function hl(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(i);const o=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.openDialogCreateUser(o))}),t.nrm(1,"lucide-icon",106),t.j41(2,"span",142),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(),t.Y8G("ngClass",t.lJ4(9,Z)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_business_create_account")))}function fl(n,s){if(1&n&&(t.j41(0,"div",133)(1,"a",134),t.nrm(2,"lucide-icon",135),t.k0s(),t.j41(3,"mat-menu",null,4)(5,"div",136)(6,"ul",9)(7,"li"),t.DNE(8,ul,4,5,"a",137),t.nI1(9,"editPermission"),t.k0s(),t.j41(10,"li"),t.DNE(11,pl,4,5,"a",138),t.nI1(12,"editPermission"),t.k0s(),t.j41(13,"li"),t.DNE(14,gl,5,10,"azt-check-vip-account",88),t.nI1(15,"editPermission"),t.DNE(16,hl,5,10,"azt-check-vip-account",88),t.nI1(17,"editPermission"),t.k0s()()()()()),2&n){const i=t.sdS(4),e=t.XpG().$implicit,o=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(18,Fr)),t.R7$(6),t.Y8G("ngIf",t.i5U(9,6,o.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(12,9,o.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(15,12,o.classroomObj,"student")&&e.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(17,15,o.classroomObj,"student")&&!e.parentId)}}function bl(n,s){1&n&&(t.j41(0,"div",148)(1,"span",149),t.nrm(2,"lucide-icon",150),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_co_tai_khoan")," "))}function vl(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function kl(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function xl(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",155),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3),a=o.$implicit,r=o.index,l=t.XpG(2);return t.Njj(l.onPositionChange("up",r-1,a.id,null==l.classroomObj?null:l.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function Cl(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",156),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3),a=o.$implicit,r=o.index,l=t.XpG(2);return t.Njj(l.onPositionChange("down",r+1,a.id,null==l.classroomObj?null:l.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function Tl(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",143)(1,"div",151)(2,"div",152),t.DNE(3,xl,2,0,"button",153),t.j41(4,"input",92,3),t.bIt("keyup.enter",function(){t.eBV(i);const o=t.sdS(5),a=t.XpG(2),r=a.$implicit,l=a.index,c=t.XpG(2);return t.Njj(c.onPositionChange(o.value,l,r.id,null==c.classroomObj?null:c.classroomObj.id))}),t.k0s(),t.DNE(6,Cl,2,0,"button",154),t.k0s()()()}if(2&n){const i=t.XpG(2).index,e=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0!=i),t.R7$(),t.FS9("value",i+1),t.R7$(2),t.Y8G("ngIf",e.listStudents&&i!=e.listStudents.length-1)}}function Sl(n,s){if(1&n&&(t.j41(0,"div")(1,"div",143)(2,"div",144),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",145),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s()(),t.j41(8,"div",143)(9,"div",144),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",145),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",143)(17,"div",144),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",145),t.EFF(21),t.nI1(22,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.j41(23,"div",143)(24,"div",144),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"div",145),t.DNE(28,bl,5,3,"div",146),t.k0s()(),t.j41(29,"div",143)(30,"div",144),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",145),t.DNE(34,vl,3,5,"span",10),t.k0s()(),t.j41(35,"div",143)(36,"div",144),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",145),t.DNE(40,kl,3,5,"span",10),t.k0s()(),t.DNE(41,Tl,7,3,"div",147),t.nI1(42,"editPermission"),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,13,"lang_auto_so_bao_danh")," "),t.R7$(3),t.SpI(" ",i.identificationNumber?t.i5U(7,15,i.identificationNumber,e.myEnvironment.maxStudentCodeLength):""," "),t.R7$(4),t.SpI(" ",t.bMT(11,18,"lang_gender")," "),t.R7$(3),t.SpI(" ",0==i.gender?t.bMT(14,20,"lang_auto_nu"):t.bMT(15,22,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_birthday")," "),t.R7$(3),t.SpI(" ",t.bMT(22,26,i.birthday)," "),t.R7$(4),t.SpI(" ",t.bMT(26,28,"lang_testbank_folder_and_file_status")," "),t.R7$(3),t.Y8G("ngIf",1==i.isVerified),t.R7$(3),t.SpI(" ",t.bMT(32,30,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam)),t.R7$(),t.Y8G("ngIf",1==(null==e.classroomObj?null:e.classroomObj.sortType)&&t.i5U(42,34,e.classroomObj,"student"))}}function Il(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",116)(1,"div",117),t.DNE(2,cl,1,1,"input",79),t.j41(3,"div",118)(4,"div",119),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.goToProfile(o.classroomId,o.id))}),t.j41(5,"div",120),t.nrm(6,"azt-create-avatar",121),t.nI1(7,"anonymousPhone"),t.nI1(8,"mycdn"),t.k0s(),t.j41(9,"div",122),t.DNE(10,ml,8,21,"a",123)(11,dl,2,1,"div",124)(12,_l,2,2,"div",125),t.k0s()(),t.DNE(13,fl,18,19,"div",126),t.nI1(14,"editPermission"),t.k0s(),t.j41(15,"button",127),t.bIt("click",function(){const o=t.eBV(i).index,a=t.XpG(2);return t.Njj(a.toggleExpandedContent(o))}),t.j41(16,"span"),t.nrm(17,"lucide-icon",128),t.k0s()()(),t.j41(18,"div",129),t.DNE(19,Sl,43,37,"div",10),t.k0s()()}if(2&n){const i=s.$implicit,e=s.index,o=t.XpG(2);t.Y8G("ngStyle",t.eq3(22,ro,null!=i.checked&&i.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==i.checked),t.R7$(4),t.Mz_("matTooltip","",0==i.parentId||1==i.isAnonymous?null:" Id: "+i.parentId+(""!=t.bMT(7,15,i.parentPhone)?" - Phone: "+i.parentPhone:"")+" - Name: "+i.parentFullName," "),t.Y8G("nameCreateAvatar",i.fullName)("linkAvatar",t.bMT(8,17,i.avatar))("size",36),t.R7$(4),t.Y8G("ngIf",i.fullName),t.R7$(),t.Y8G("ngIf",i.phone),t.R7$(),t.Y8G("ngIf",i.email),t.R7$(),t.Y8G("ngIf",t.i5U(14,19,o.classroomObj,"student")),t.R7$(3),t.AVh("rotate-180",o.expandedItemIndex===e),t.R7$(2),t.Y8G("@expandCollapse",o.expandedItemIndex===e?"open":"closed"),t.R7$(),t.Y8G("ngIf",o.expandedItemIndex===e)}}function yl(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",158),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.addStudentDialog(o.classroomObj))}),t.nrm(1,"lucide-icon",159),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function jl(n,s){if(1&n&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,yl,4,5,"button",157),t.nI1(7,"editPermission"),t.k0s()()),2&n){let i;const e=t.XpG(2);t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,e.classroomObj,"student")&&0==(null!==(i=null==e.listStudents?null:e.listStudents.length)&&void 0!==i?i:0))}}function Ol(n,s){if(1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"h2",17),t.EFF(3),t.k0s(),t.j41(4,"span",18),t.EFF(5),t.k0s(),t.DNE(6,Er,1,3,"azt-download-qr-code",19),t.k0s(),t.j41(7,"div",16),t.nrm(8,"azt-share",20),t.DNE(9,Nr,2,1,"div",21),t.k0s()(),t.DNE(10,Yr,16,21,"div",22),t.j41(11,"div",23),t.DNE(12,Br,3,4,"span",24)(13,Vr,4,5,"button",25),t.k0s(),t.j41(14,"div",26)(15,"div",27),t.DNE(16,il,30,33,"div",28),t.nI1(17,"appFilter"),t.DNE(18,sl,8,8,"div",29),t.nI1(19,"appFilter"),t.k0s(),t.j41(20,"div",30)(21,"div",31),t.DNE(22,al,5,4,"div",10),t.j41(23,"div",32),t.DNE(24,rl,3,7,"span",33)(25,ll,4,5,"button",34),t.k0s()(),t.DNE(26,Il,20,24,"div",35),t.nI1(27,"appFilter"),t.DNE(28,jl,8,8,"div",29),t.nI1(29,"appFilter"),t.k0s()()),2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(38,Or,i.isMobileDevice||i.isMobileWebView)),t.R7$(),t.Y8G("ngClass",t.eq3(40,ti,i.isMobileDevice||i.isMobileWebView)),t.R7$(2),t.SpI(" ",null==i.classroomObj?null:i.classroomObj.name," "),t.R7$(2),t.SpI("( ",null==i.classroomObj?null:i.classroomObj.year," )"),t.R7$(),t.Y8G("ngIf",i.joinClassroomLink),t.R7$(),t.Y8G("ngClass",t.eq3(42,ti,i.isMobileDevice||i.isMobileWebView)),t.R7$(),t.Y8G("backToLink",i.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",i.classroomId)("classroomWithPermissionObj",i.classroomObj),t.R7$(),t.Y8G("ngIf",!i.hasStudents||!(null!=i.listStudents&&i.listStudents.length)),t.R7$(),t.Y8G("ngIf",i.hasStudents||(null==i.listStudents?null:i.listStudents.length)),t.R7$(2),t.Y8G("ngIf",i.totalCheckboxSelected>0&&!(i.isMobileDevice||i.isMobileWebView)),t.R7$(),t.Y8G("ngIf",i.totalCheckboxSelected>0&&!(i.isMobileDevice||i.isMobileWebView)),t.R7$(3),t.Y8G("ngIf",t.brH(17,22,i.listStudents,i.searchContentObj.searchContent,t.lJ4(44,He)).length>0),t.R7$(2),t.Y8G("ngIf",!i.hasStudents||0==t.brH(19,26,i.listStudents,i.searchContentObj.searchContent,t.lJ4(45,He)).length),t.R7$(4),t.Y8G("ngIf",i.listStudents&&i.listStudents.length>0),t.R7$(2),t.Y8G("ngIf",i.totalCheckboxSelected>0),t.R7$(),t.Y8G("ngIf",i.totalCheckboxSelected>0),t.R7$(),t.Y8G("ngForOf",t.brH(27,30,i.listStudents,i.searchContentObj.searchContent,t.lJ4(46,He))),t.R7$(2),t.Y8G("ngIf",!i.hasStudents||0==t.brH(29,34,i.listStudents,i.searchContentObj.searchContent,t.lJ4(47,He)).length)}}function wl(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"button",160),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.goToMergeStudent(null==o.classroomObj?null:o.classroomObj.id))}),t.nrm(2,"lucide-icon",161),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_student_classroom_list_detail_merge_student")," "))}function Fl(n,s){1&n&&(t.j41(0,"span",165),t.nrm(1,"lucide-icon",166),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,co)))}function Rl(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"button",162),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeSortType(0))}),t.nrm(2,"lucide-icon",163),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,Fl,2,2,"span",164),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(5,Z)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_student_classroom_list_detail_sort_name")," "),t.R7$(2),t.Y8G("ngIf",0==(null==i.classroomObj?null:i.classroomObj.sortType))}}function El(n,s){1&n&&t.nrm(0,"lucide-icon",166),2&n&&t.Y8G("ngClass",t.lJ4(1,co))}function Ml(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"button",167),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeSortType(1))}),t.nrm(2,"lucide-icon",168),t.j41(3,"span",169),t.nI1(4,"mytranslate"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,El,1,2,"lucide-icon",170),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(8,Z)),t.R7$(),t.FS9("matTooltip",t.bMT(4,4,"lang_student_classroom_list_detail_request")),t.R7$(2),t.JRh(t.bMT(6,6,"lang_student_classroom_list_detail_change")),t.R7$(2),t.Y8G("ngIf",0!=(null==i.classroomObj?null:i.classroomObj.sortType))}}function Nl(n,s){if(1&n){const i=t.RV6();t.j41(0,"li",171)(1,"button",172),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.openDialogAutoNumbering())}),t.nrm(2,"lucide-icon",173),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_danh_so_bao_danh")," "))}function Gl(n,s){if(1&n){const i=t.RV6();t.j41(0,"li",171)(1,"button",174),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.exportListStudent())}),t.nrm(2,"lucide-icon",175),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function Dl(n,s){if(1&n){const i=t.RV6();t.j41(0,"li",171)(1,"button",174),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.exportExcelForScoreOfClassroom())}),t.nrm(2,"lucide-icon",175),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Z)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xuat_bang_diem")," "))}function $l(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"div",176),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.j41(2,"input",177),t.bIt("change",function(){let o;t.eBV(i);const a=t.XpG();return t.Njj(a.changeAnonymousStudentStatus(null!==(o=null==a.classroomObj?null:a.classroomObj.id)&&void 0!==o?o:0,a.checkAddStudent.value))}),t.k0s(),t.j41(3,"label",178),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("formControl",i.checkAddStudent)("checked",1==(null==i.classroomObj?null:i.classroomObj.showAddStudent)),t.R7$(2),t.SpI(" ",i.checkAddStudent.value?t.bMT(5,3,"lang_student_classroom_list_detail_on"):t.bMT(6,5,"lang_student_classroom_list_detail_off")," ")}}function zl(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-export-excel-for-student-list",179),t.bIt("exportDataDone",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.exportStudentListDone(o))}),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("objs",i.exportStudentObjs)}}let Pl=(()=>{var n;class s extends O.H{onSearchBox(e){this.searchContentObj=e}toggleExpandedContent(e){this.expandedItemIndex=this.expandedItemIndex===e?-1:e}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(e){let o=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,o)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let e="";q.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).pipe((0,vt.n)(o=>1!==o.success?(this.errorStatusObj(o.message,!0),q.L.closeLoadingEffect(10),this.loadingExport=!1,(0,ft.of)(null)):o.data?.objs&&o.data?.objs.length?this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).pipe((0,st.T)(a=>({response:o,cls:a}))):(this.exportExcelForScoreHomeworkOfClassroom(),(0,ft.of)(null))),(0,Ce.p)(o=>null!==o)).subscribe(({response:o,cls:a})=>{if(1!==a.success)return this.errorStatusObj(a.message??"",!0),q.L.closeLoadingEffect(10),void(this.loadingExport=!1);let r=a.data?.objs??[];this.prepareDataForExportScore(o.data?.objs??[],r).subscribe(l=>{let c=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",d=this.commonService.createFileNameExportFile([c,this.classroomObj?.name??""]);q.L.closeLoadingEffect(10),this.sAztDialogService.open(Qi.T,{data:{transactionType:"export-excel-per-50",times:l.length,returnUrl:this.commonService.getCurrentUrlWithoutLocale()},hasBackdrop:!1}).afterClosed().subscribe(u=>{if("cancel"==u||!this.classroomObj||"upgrade"==u)return q.L.closeLoadingEffect(10),void(this.loadingExport=!1);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(j=>{e=j.lang_auto_tap_tin_dang_duoc_tai_xuong,q.L.openLoadingEffect(e)}),"confirm"==u){const j=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,l,o.data?.objs);return this.shareFileFlutterService.shareFileWithBlob(j,d+".xlsx"),q.L.closeLoadingEffect(10),void(this.loadingExport=!1)}const g=this.truncateDataExport(l??[]),k=(a.data?.objs??[]).length-g.length,v=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,g,o.data?.objs??[],k);this.shareFileFlutterService.shareFileWithBlob(v,d+".xlsx"),q.L.closeLoadingEffect(10),this.loadingExport=!1})})}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let e=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",o="";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(a=>{if(1!==a.success)return this.errorStatusObj(a.message??"",!0),q.L.closeLoadingEffect(10),void(this.loadingExport=!1);q.L.closeLoadingEffect(10);let r=this.commonService.createFileNameExportFile([e,this.classroomObj?.name??""]);this.sAztDialogService.open(Qi.T,{data:{transactionType:"export-excel-per-50",times:a.data?.objs?.length??0,returnUrl:this.commonService.getCurrentUrlWithoutLocale()},hasBackdrop:!1}).afterClosed().subscribe(l=>{if("cancel"==l||!this.classroomObj||"upgrade"==l)return q.L.closeLoadingEffect(10),void(this.loadingExport=!1);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(g=>{o=g.lang_auto_tap_tin_dang_duoc_tai_xuong,q.L.openLoadingEffect(o)}),"confirm"==l){const g=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,a.data?.objs??[],[]);return this.shareFileFlutterService.shareFileWithBlob(g,r+".xlsx"),q.L.closeLoadingEffect(10),void(this.loadingExport=!1)}const c=this.truncateDataExport(a.data?.objs??[]),u=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,c,[],(a.data?.objs??[]).length-c.length);this.shareFileFlutterService.shareFileWithBlob(u,r+".xlsx"),q.L.closeLoadingEffect(10),this.loadingExport=!1})}))}prepareDataForExportScore(e,o){return new Qn.c(a=>{let r=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",l=0,c=e.length,d=u=>{l<c?(q.L.changeMsgLoadingEffect(r+e[l].name+" ("+(l+1)+"/"+c+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",e[l].id??0,this.classroomId,u).subscribe(g=>{1==g.success?(g.data&&(u=[...g.data]),l++,d(u)):a.error(g.message)}))):(a.next(u),a.complete())};d(o)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(e=>{1==e.success?(e.data?.objs?.length??0)>0&&this.sAztDialogService.open(dr,{width:"750px",data:{noticeObjs:e.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(e){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,e).subscribe(o=>{1==o.success?(this.checkSortListStudent(e),this.classroomObj?.sortType&&(this.classroomObj.sortType=e),this.getData()):this.errorStatusObj(o.message,!0)}))}checkSortListStudent(e){this.listStudents=0==e?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(o=>{o.checked=new m.MJ(!1,{nonNullable:!0})})}onPositionChange(e,o,a,r){let l="up"==e?1:"down"==e?2:3,c=3==l?e??"":"",d=parseInt(c,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=l?o:d),Number(a),Number(r),Number(l)).subscribe(g=>{1==g.success?this.getData():this.showErrorSnack(""==c&&3==l?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(e,o){this.waitDestroy(o?this.classroomService.apiClassroomChangeShowAddStudentGet(e,1).subscribe(a=>{1==a.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(a.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(e,0).subscribe(a=>{1==a.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(a.message,!0)}))}addStudentDialog(e){this.sAztDialogService.open(er,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:e},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getData()})}deleteStudentDialog(e){this.sAztDialogService.open(no.d,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.getData()})}deleteListStudentDialog(){let e=this.listStudents?.filter(a=>a.checked?.value);this.sAztDialogService.open(ar,{data:{listStudentObjs:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.getData()})}editStudentDialog(e){this.sAztDialogService.open(io.B,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(Zi.O,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(o=>{o&&this.getData()})}openDialogCheckboxMonth(e){this.sAztDialogService.open(qi,{width:"454px",restoreFocus:!1,data:e.id}).afterClosed().subscribe(o=>{o&&this.getListStudentApiNew()})}goToProfile(e,o){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+o,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${e}/0`))}goToMergeStudent(e){this.commonService.myNavigation("/admin/student/merge-student/"+e)}translateExportNote(){let e="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),o="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),a="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),r="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[e,o,a,r]}openDialogResetPass(e){this.sAztDialogService.open(Oa.$,{width:"500px",restoreFocus:!1,data:{id:e.parentId,name:e.fullName}}).afterClosed().subscribe(o=>{o&&this.getData()})}openDialogCreateUser(e){this.sAztDialogService.open(xr,{width:"500px",restoreFocus:!1,data:{student:e}}).afterClosed().subscribe(o=>{o&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(e=>{if(1==e.success){this.classroomObj=e?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=e?.data?.studentObjs,this.checkSortListStudent(e?.data?.classroomObj?.sortType);let a=this.commonService.getCurrentDomain();this.joinClassroomLink=`${a}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!e.data?.studentObjs.length,this.isBusinessDomain&&this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(e.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(o=>{o?o.list.forEach(a=>{var r=this.listStudents?.find(l=>l.id==a.id);r&&(r.lastMonthPaid=a.lastMonthPaid,r.lastYearPaid=a.lastYearPaid,r.schoolName=a.schoolName,r.facebookLink=r.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(e=>{e.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(e=>e.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}truncateDataExport(e){const o=(0,pt.cloneDeep)(e);if(!e||!o)return[];let a=Zn.c.limit_export;return o.length>a?o.slice(0,a):o}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let e=this.commonService.getMyQueryParam("backto");this.backToLink=e||"/admin/student/manage-classroom/0",this.getData()}constructor(e,o,a,r,l,c,d,u,g,k,v,j){super(),this.shareFileFlutterService=e,this.classroomService=o,this.classroomExportDataService=a,this.noticeService=r,this.activeRoute=l,this.sortService=c,this.studentProfileV2Service=d,this.exportExcelService=u,this.sAztDialogService=g,this.studentService=k,this.exportClassroomScoreApiService=v,this.checkVipAccountService=j,this.checkAddStudent=new m.MJ(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new m.MJ(!1,{nonNullable:!0}),this.searchContentObj=new Dt.Z,this.form=new m.gE({startIdentifyIndex:new m.MJ("",{nonNullable:!0,validators:[m.k0.min(1),m.k0.max(999999),m.k0.pattern(/^[0-9]*$/)]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Se.R),t.rXU(oo.zS),t.rXU(dt.$F),t.rXU(xn.eI),t.rXU(b.nX),t.rXU(so.g),t.rXU(dt.m_),t.rXU(Ue.x),t.rXU(Q.i),t.rXU(re.b),t.rXU(Ir),t.rXU(yr.K))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-student-list"]],viewQuery:function(e,o){if(1&e&&t.GBs(jr,5),2&e){let a;t.mGM(a=t.lsd())&&(o.slider=a.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:19,consts:[["doneLoading",""],["menu","matMenu"],["sttStudent",""],["myInput",""],["menuAction","matMenu"],[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","text-right","mt-4","azt-hidden","md:block"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger",3,"click",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-center"],["name","settings","size","18"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"onSearch","isServerSearch","placeholder"],[1,"w-full","sm:w-auto","flex","items-center"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["name","file-text","size","18",3,"ngClass"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","mr-1",4,"ngIf"],["name","file-text","size","18",3,"ngClass",4,"ngIf"],[1,"mr-1"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],["name","plus","size","18",3,"ngClass"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","18",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"change","formControl"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email","createdAt"],[1,"text-center","capitalize"],[1,"text-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey","checkAction",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"change","formControl"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary p-1","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px","border-radius","0",3,"keyup.enter","value"],["class","btn btn-sm btn-outline-secondary p-1","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],["name","chevron-up","size","18"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["name","chevron-down","size","18"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger",3,"click"],["name","trash-2","size","18",3,"ngClass"],[3,"checkAction","vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey"],["name","list-restart","size","16",3,"ngClass"],[1,"whitespace-nowrap",3,"ngClass"],["name","user-plus","size","16",3,"ngClass"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],["name","chevron-down","size","20"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["name","trash-2","size","20",3,"ngClass"],[1,"whitespace-nowrap","mr-3"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],[1,"mr-2","inline-block"],["name","square-check","size","18"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-secondary","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["name","link-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["name","arrow-down-wide-narrow","size","16",3,"ngClass"],["class","text-success inline-block flex-none",4,"ngIf"],[1,"text-success","inline-block","flex-none"],["name","check","size","20",3,"ngClass"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["name","list-ordered","size","16",3,"ngClass"],[1,"ml-1",3,"matTooltip"],["name","check","size","20",3,"ngClass",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["name","binary","size","16",3,"ngClass"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"change","formControl","checked"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"exportDataDone","objs"]],template:function(e,o){if(1&e&&(t.j41(0,"div",5),t.DNE(1,Rr,2,1,"div",6)(2,Ol,30,48,"ng-template",null,0,t.C5r),t.k0s(),t.j41(4,"mat-menu",7,1)(6,"div",8)(7,"ul",9),t.DNE(8,wl,5,5,"li",10)(9,Rl,6,6,"li",10)(10,Ml,8,9,"li",10)(11,Nl,5,5,"li",11),t.nI1(12,"editPermission"),t.DNE(13,Gl,5,5,"li",11),t.nI1(14,"viewPermission"),t.DNE(15,Dl,5,5,"li",11)(16,$l,7,7,"li",10),t.nI1(17,"editPermission"),t.k0s()()(),t.DNE(18,zl,1,1,"azt-export-excel-for-student-list",12)),2&e){const a=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a),t.R7$(7),t.Y8G("ngIf",o.hasStudents||(null==o.listStudents?null:o.listStudents.length)),t.R7$(),t.Y8G("ngIf",o.hasStudents||(null==o.listStudents?null:o.listStudents.length)),t.R7$(),t.Y8G("ngIf",o.hasStudents||(null==o.listStudents?null:o.listStudents.length)),t.R7$(),t.Y8G("ngIf",t.i5U(12,10,o.classroomObj,"student")&&(o.hasStudents||(null==o.listStudents?null:o.listStudents.length))),t.R7$(2),t.Y8G("ngIf",t.i5U(14,13,o.classroomObj,"student")&&(o.hasStudents||(null==o.listStudents?null:o.listStudents.length))),t.R7$(2),t.Y8G("ngIf",o.hasStudents||(null==o.listStudents?null:o.listStudents.length)),t.R7$(),t.Y8G("ngIf",t.i5U(17,16,o.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",o.exportStudentObjs)}},dependencies:[F,X,W,Y.K,Ma.d,Na.M,It.W,$.R,kt.B,Ki.F,vn.m,oe.p,Wi.m,_.MD,_.YU,_.Sq,_.bT,_.B3,m.X1,m.Zm,m.BC,m.l_,b.iI,m.YN,f.nf,f.wp,S.s,tt.kk,tt.Cp,B.oV,h.flO,h.WGl,y.L,f.WL,f.xL,f.FV,f.eL,f.Po,f.vv,x.Id,wa.Z,I.k],encapsulation:2,data:{animation:[(0,J.hZ)("expandCollapse",[(0,J.wk)("open",(0,J.iF)({height:"*"})),(0,J.wk)("closed",(0,J.iF)({height:"0px"})),(0,J.kY)("open <=> closed",[(0,J.i0)("0.3s ease-in-out")])])]}}),s})();const Al=n=>({"mt-3":n}),Ll=n=>({"w-2/3":n}),Yl=n=>({truncate:n});function Bl(n,s){1&n&&(t.nrm(0,"lucide-icon",11),t.nI1(1,"mytranslate")),2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function Vl(n,s){1&n&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function Xl(n,s){if(1&n&&(t.j41(0,"div")(1,"div",8),t.DNE(2,Bl,2,3,"lucide-icon",9)(3,Vl,2,3,"lucide-icon",10),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",i.document.homework.isPublished),t.R7$(),t.Y8G("ngIf",!i.document.homework.isPublished)}}function Ul(n,s){1&n&&(t.nrm(0,"lucide-icon",16),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&n&&t.FCK("matTooltip","",t.bMT(1,3,"lang_core_danh_gia_nang_luc")," - ",t.bMT(2,5,"lang_testbank_folder_and_file_published"),"")}function Hl(n,s){1&n&&(t.nrm(0,"lucide-icon",17),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&n&&t.FCK("matTooltip","",t.bMT(1,3,"lang_core_danh_gia_nang_luc")," - ",t.bMT(2,5,"lang_testbank_folder_and_file_unpublished"),"")}function Jl(n,s){1&n&&(t.nrm(0,"lucide-icon",20),t.nI1(1,"mytranslate")),2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function Wl(n,s){1&n&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function ql(n,s){if(1&n&&(t.j41(0,"div",18),t.DNE(1,Jl,2,3,"lucide-icon",19)(2,Wl,2,3,"lucide-icon",10),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==i.document.exam?null:i.document.exam.isPublished),t.R7$(),t.Y8G("ngIf",!(null!=i.document.exam&&i.document.exam.isPublished))}}function Ql(n,s){if(1&n&&(t.DNE(0,Ul,3,7,"lucide-icon",13),t.nI1(1,"isCapacityExam"),t.DNE(2,Hl,3,7,"lucide-icon",14),t.nI1(3,"isCapacityExam"),t.DNE(4,ql,3,2,"div",15),t.nI1(5,"isCapacityExam")),2&n){const i=t.XpG();t.Y8G("ngIf",(null==i.document.exam?null:i.document.exam.isPublished)&&t.bMT(1,3,i.document.exam)),t.R7$(2),t.Y8G("ngIf",!(null!=i.document.exam&&i.document.exam.isPublished)&&t.bMT(3,5,i.document.exam)),t.R7$(2),t.Y8G("ngIf",!t.bMT(5,7,i.document.exam))}}function Zl(n,s){if(1&n&&(t.j41(0,"div",21)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_luot_lam")+": "+i.document.exam.attended)}}function Kl(n,s){if(1&n&&(t.j41(0,"div",21)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_da_nop")+": "+i.document.homework.count+"/"+i.document.homework.totalStudent)}}let tc=(()=>{var n;class s extends O.H{}return(n=s).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:17,consts:[["ExamIcon",""],["c","isDisabled"],[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],[1,"ml-4","mr-auto",3,"ngClass"],[1,"font-medium",3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"text-primary"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","clipboard-check","size","40","class","text-primary",3,"matTooltip",4,"ngIf"],["name","clipboard","size","40","class","text-primary",3,"matTooltip",4,"ngIf"],["class","text-pending",4,"ngIf"],["name","clipboard-check","size","40",1,"text-primary",3,"matTooltip"],["name","clipboard","size","40",1,"text-primary",3,"matTooltip"],[1,"text-pending"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(e,o){if(1&e&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,Xl,4,2,"div",4)(3,Ql,6,9,"ng-template",null,0,t.C5r),t.k0s(),t.j41(5,"div",5)(6,"div",6,1),t.EFF(8),t.k0s(),t.DNE(9,Zl,4,3,"div",7)(10,Kl,4,3,"div",7),t.k0s()()),2&e){const a=t.sdS(4),r=t.sdS(7);t.Y8G("ngClass",t.eq3(11,Al,0!==o.index)),t.R7$(2),t.Y8G("ngIf",o.document.homework)("ngIfElse",a),t.R7$(3),t.Y8G("ngClass",t.eq3(13,Ll,!o.isMobileDevice)),t.R7$(),t.FS9("matTooltip",o.document.exam?o.document.exam.name:null==o.document.homework?null:o.document.homework.name),t.Y8G("ngClass",t.eq3(15,Yl,!o.isMobileDevice))("isDisabledTooltip",!1)("matTooltipDisabled",r.isDisabled),t.R7$(2),t.SpI(" ",o.document.exam?o.document.exam.name:null==o.document.homework?null:o.document.homework.name," "),t.R7$(),t.Y8G("ngIf",o.document.exam),t.R7$(),t.Y8G("ngIf",o.document.homework)}},dependencies:[Te.f,_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f.Xc,x.Id,I.k],encapsulation:2}),s})();var le=p(26988);const ce=()=>({"mr-2":!0}),ec=()=>({"mr-0 md:mr-2":!0}),Tn=n=>[n],Sn=(n,s)=>({backto:n,filterBy:s}),mo=()=>({"ml-1":!0});function nc(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",20),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ic(n,s){1&n&&(t.j41(0,"span",40),t.nrm(1,"azt-loading-ui"),t.k0s())}function oc(n,s){1&n&&(t.j41(0,"span",41)(1,"span",42),t.EFF(2,"1"),t.k0s()())}function sc(n,s){1&n&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",43),t.EFF(3,"1"),t.k0s()())}function ac(n,s){1&n&&(t.j41(0,"h2",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function rc(n,s){1&n&&(t.j41(0,"h2",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_search_results")))}function lc(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.backToDocumentList())}),t.nrm(1,"lucide-icon",46),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,ce)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_quay_lai")))}function cc(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",20),2&n){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function mc(n,s){if(1&n&&(t.j41(0,"a",60),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&n){const i=t.XpG(2),e=i.$implicit,o=i.index,a=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Tn,t.bMT(1,4,"/admin/testbank/homework-results-list/"+e.homework.classroomId+"/"+e.homework.id+"/"+e.homework.hashId)))("queryParams",t.l_i(8,Sn,"/admin/student/classroom-details/"+a.classroomId+"/1",a.typeFilter)),t.R7$(2),t.Y8G("document",e)("index",o)}}function dc(n,s){if(1&n&&(t.j41(0,"a",62),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&n){const i=t.XpG(2),e=i.$implicit,o=i.index,a=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Tn,t.bMT(1,4,"/bai-tap/"+e.homework.hashId)))("queryParams",t.l_i(8,Sn,"/student/classroom-details/"+a.classroomId+"/1",a.typeFilter)),t.R7$(2),t.Y8G("document",e)("index",o)}}function _c(n,s){if(1&n&&(t.qex(0),t.DNE(1,mc,3,11,"a",58)(2,dc,3,11,"a",59),t.bVm()),2&n){const i=t.XpG(7);t.R7$(),t.Y8G("ngIf",!i.isStudent),t.R7$(),t.Y8G("ngIf",i.isStudent)}}function uc(n,s){if(1&n&&(t.j41(0,"a",65),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&n){let i;const e=t.XpG(2),o=e.$implicit,a=e.index,r=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Tn,t.bMT(1,4,"/admin/testbank/exam-results-list/"+(null!==(i=null==o.exam?null:o.exam.categoryId)&&void 0!==i?i:0)+"/"+(null==o.exam?null:o.exam.id)+"/0")))("queryParams",t.l_i(8,Sn,"/admin/student/classroom-details/"+r.classroomId+"/1",r.typeFilter)),t.R7$(2),t.Y8G("document",o)("index",a)}}function pc(n,s){if(1&n&&(t.j41(0,"a",66),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&n){const i=t.XpG(2),e=i.$implicit,o=i.index,a=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Tn,t.bMT(1,4,"/de-thi/"+(null==e.exam?null:e.exam.hashId))))("queryParams",t.l_i(8,Sn,"/student/classroom-details/"+a.classroomId+"/1",a.typeFilter)),t.R7$(2),t.Y8G("document",e)("index",o)}}function gc(n,s){if(1&n&&t.DNE(0,uc,3,11,"a",63)(1,pc,3,11,"a",64),2&n){const i=t.XpG(7);t.Y8G("ngIf",!i.isStudent),t.R7$(),t.Y8G("ngIf",i.isStudent)}}function hc(n,s){if(1&n&&(t.j41(0,"div",57),t.DNE(1,_c,3,2,"ng-container",48)(2,gc,2,2,"ng-template",null,5,t.C5r),t.k0s()),2&n){const i=s.$implicit,e=t.sdS(3);t.R7$(),t.Y8G("ngIf",i.homework)("ngIfElse",e)}}function fc(n,s){if(1&n&&(t.j41(0,"div",55),t.DNE(1,hc,4,2,"div",56),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.documentList)}}function bc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div")(1,"div")(2,"button",51),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.isExpand=!o.isExpand)}),t.nrm(3,"lucide-icon",52),t.j41(4,"span",53),t.EFF(5),t.nI1(6,"getDayOfWeek"),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,fc,2,1,"div",54),t.k0s()}if(2&n){const i=s.$implicit;t.R7$(3),t.FS9("name",i.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(7,5,t.bMT(6,3,i.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,i.assignmentDate)),t.R7$(5),t.Y8G("ngIf",i.isExpand)}}function vc(n,s){1&n&&t.nrm(0,"azt-loading-ui",70)}function kc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",67)(1,"button",68),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(!o.sAztNextPaginationService.isLoadingNextPage&&o.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,vc,1,0,"azt-loading-ui",69),t.k0s()()}if(2&n){const i=t.XpG(4);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",i.sAztNextPaginationService.isLoadingNextPage)}}function xc(n,s){if(1&n&&(t.qex(0),t.DNE(1,bc,11,11,"div",49)(2,kc,5,4,"div",50),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",i.listGroupDocumentObjs),t.R7$(),t.Y8G("ngIf",i.sAztNextPaginationService.hasNextPage)}}function Cc(n,s){1&n&&(t.j41(0,"div",71)(1,"div",72),t.nrm(2,"azt-svg-icon",73),t.j41(3,"p",74),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(2),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function Tc(n,s){if(1&n&&(t.j41(0,"div",47),t.DNE(1,xc,3,2,"ng-container",48)(2,Cc,6,4,"ng-template",null,4,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.listGroupDocumentObjs.length>0)("ngIfElse",i)}}function Sc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25)(5,"azt-search-box",26),t.nI1(6,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.searchDocumentObjs(o.searchObj))}),t.k0s()(),t.j41(7,"button",27),t.DNE(8,ic,2,0,"span",28),t.nrm(9,"lucide-icon",29),t.DNE(10,oc,3,0,"span",30),t.j41(11,"span",31),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,sc,4,0,"span",32),t.k0s()()(),t.j41(15,"div",33)(16,"button",34),t.nrm(17,"lucide-icon",35),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",36),t.DNE(21,ac,3,3,"h2",37)(22,rc,3,3,"h2",37)(23,lc,5,5,"button",38),t.k0s(),t.j41(24,"div",39),t.DNE(25,cc,1,1,"azt-loading-effect",6),t.k0s(),t.DNE(26,Tc,4,2,"ng-template",null,3,t.C5r),t.k0s()}if(2&n){const i=t.sdS(27),e=t.XpG(),o=t.sdS(4),a=t.sdS(25);t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(6,17,"lang_auto_tim_kiem"))("searchContentObj",e.searchContentObj),t.R7$(2),t.Y8G("matMenuTriggerFor",o),t.R7$(),t.Y8G("ngIf",e.loadingFilter),t.R7$(),t.Y8G("ngClass",t.lJ4(23,ec)),t.R7$(),t.Y8G("ngIf",""!=e.typeFilter),t.R7$(2),t.SpI(" ",t.bMT(13,19,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=e.typeFilter),t.R7$(2),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.Y8G("ngClass",t.lJ4(24,ce)),t.R7$(),t.SpI(" ",t.bMT(19,21,"lang_student_new_assignment")," "),t.R7$(3),t.Y8G("ngIf",!e.isShowSearchResult),t.R7$(),t.Y8G("ngIf",e.isShowSearchResult),t.R7$(),t.Y8G("ngIf",e.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",e.searchContentObj.isLoading||e.loadingFilter)("ngIfElse",i)}}function Ic(n,s){1&n&&t.nrm(0,"lucide-icon",75),2&n&&t.Y8G("ngClass",t.lJ4(1,mo))}function yc(n,s){1&n&&t.nrm(0,"lucide-icon",75),2&n&&t.Y8G("ngClass",t.lJ4(1,mo))}let jc=(()=>{var n;class s extends O.H{changeFilter(e){this.typeFilter=e,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+e),this.getData(!0)}openEditor(){let e=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(e)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let e=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(e)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(e){this.searchContentObj=e,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(e){e?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let o={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(o.categoryId,o.documentType,o.shareType,o.fileType,o.classroomId,o.name,o.suggestExamPurpose,o.lite,o.getGlobal,o.page,o.itemPerPage).subscribe(a=>{a.success?(this.listDocumentObjs=this.listDocumentObjs.concat(a.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(a.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(a.message,!0)),this.loadingFilter=!1}))}processData(e){let o=this.commonService.arrayToDictionary(e,r=>r.exam?new Date(r.exam.createdAt??0).toDateString():new Date(r?.homework?.createdAt??0).toDateString()),a=[];Object.entries(o).forEach(([r,l],c)=>{if(l.length>0){let d=l[0];a.push({isExpand:!0,assignmentDate:d.exam?d.exam.createdAt:d.homework?.createdAt,documentList:l})}}),this.listGroupDocumentObjs=a}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(e,o,a){super(),this.documentService=e,this.activeRoute=o,this.sAztNextPaginationService=a,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new Dt.Z,this.typeFilter="",this.loadingFilter=!1}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ao.DK),t.rXU(b.nX),t.rXU(le.h))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Jv_([le.h]),t.Vt3,t.aNF],decls:38,vars:29,consts:[["doneLoading",""],["menuFilter","matMenu"],["menuAssignment","matMenu"],["doneLoadingSearch",""],["emptyList",""],["isExamDocument",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["name","notepad-text","size","16",3,"ngClass"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","file-check","size","16",3,"ngClass"],["xPosition","before"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["name","filter","size","16",3,"ngClass"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],["name","plus","size","18",3,"ngClass"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",3,"ngClass"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],["name","check","size","16",3,"ngClass"]],template:function(e,o){if(1&e){const a=t.RV6();t.DNE(0,nc,1,1,"azt-loading-effect",6)(1,Sc,28,25,"ng-template",null,0,t.C5r),t.j41(3,"mat-menu",7,1)(5,"div",8)(6,"ul",9)(7,"li")(8,"button",10),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changeFilter(""))}),t.nrm(9,"lucide-icon",11),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"button",12),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changeFilter("homework"))}),t.nrm(14,"lucide-icon",13),t.EFF(15),t.nI1(16,"mytranslate"),t.DNE(17,Ic,1,2,"lucide-icon",14),t.k0s()(),t.j41(18,"li")(19,"button",10),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changeFilter("exam"))}),t.nrm(20,"lucide-icon",15),t.EFF(21),t.nI1(22,"mytranslate"),t.DNE(23,yc,1,2,"lucide-icon",14),t.k0s()()()()(),t.j41(24,"mat-menu",16,2)(26,"div",17)(27,"ul",9)(28,"li")(29,"button",18),t.bIt("click",function(){return t.eBV(a),t.Njj(o.openHomeworkScreen())}),t.nrm(30,"lucide-icon",13),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"button",19),t.bIt("click",function(){return t.eBV(a),t.Njj(o.openEditor())}),t.nrm(35,"lucide-icon",15),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()()}if(2&e){const a=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a),t.R7$(9),t.Y8G("ngClass",t.lJ4(24,ce)),t.R7$(),t.SpI(" ",t.bMT(11,14,"lang_auto_tat_ca")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(25,ce)),t.R7$(),t.SpI(" ",t.bMT(16,16,"lang_auto_bai_tap")," "),t.R7$(2),t.Y8G("ngIf","homework"==o.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(26,ce)),t.R7$(),t.SpI(" ",t.bMT(22,18,"lang_auto_de_thi")," "),t.R7$(2),t.Y8G("ngIf","exam"==o.typeFilter),t.R7$(7),t.Y8G("ngClass",t.lJ4(27,ce)),t.R7$(),t.SpI(" ",t.bMT(32,20,"lang_student_new_homework")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(28,ce)),t.R7$(),t.SpI(" ",t.bMT(37,22,"lang_student_new_exam")," ")}},dependencies:[Y.K,It.W,$.R,tc,vn.m,f.F2,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,b.Wk,m.YN,f.wp,S.s,tt.kk,tt.Cp,h.flO,h.WGl,y.L,f.vv,f.hZ,x.Id,I.k],encapsulation:2}),s})();var Bt=function(n){return n[n.ADD_NEW=0]="ADD_NEW",n[n.UPDATE=1]="UPDATE",n[n.DELETE=2]="DELETE",n}(Bt||{}),me=p(15766),ei=p(53043);const Oc=()=>({"stroke-1.5":!0});function wc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"a",4),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.onShowFile(o,-1))}),t.j41(3,"div",5),t.nrm(4,"img",6),t.j41(5,"span",7),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.removeFile(o))}),t.nrm(6,"lucide-icon",8),t.k0s()()()()()}if(2&n){const i=s.$implicit;t.R7$(4),t.Y8G("src",i.url,t.B4B),t.R7$(2),t.Y8G("ngClass",t.lJ4(2,Oc))}}let _o=(()=>{var n;class s extends O.H{onShowFile(e,o){let a={...e,index:o};this.sAztDialogService.open(ei.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:a},restoreFocus:!1})}removeFile(e){this.files=this.files.filter(o=>o.url!=e.url),this.filesChange.emit(this.files)}constructor(e){super(),this.sAztDialogService=e,this.filesChange=new t.bkB}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.DNE(1,wc,7,3,"div",1),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngForOf",o.files))},dependencies:[_.MD,_.YU,_.Sq,m.X1,b.iI,m.YN,S.s,h.flO,h.WGl,y.L,x.Id,I.k],encapsulation:2}),s})();var uo=p(63349),z=p(62221),ye=p(36484),Vt=p(97839),Je=p(99965);const Fc=n=>[n],Rc=()=>({"zoom-in":!0});function Ec(n,s){if(1&n){const i=t.RV6();t.j41(0,"app-new-list-images",13),t.mxI("filesChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.files,o)||(a.files=o),t.Njj(o)}),t.k0s()}if(2&n){const i=t.XpG();t.R50("files",i.files)}}function Mc(n,s){1&n&&t.nrm(0,"azt-loading-ui",14)}let Nc=(()=>{var n;class s extends O.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var e={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(o=>o.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsPost(e)).subscribe(o=>{if(!o.success||!o.data)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...o.data,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})}))}}handleUploadComplete(e){this.files.push(...e)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(e,o){super(),this.newsService=e,this.userService=o,this.changePostObjEvent=new t.bkB,this.contentFormControl=new m.MJ("",{nonNullable:!0,validators:[me.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=Xe.b8,this.allUploadFileTypes=Xe.PO}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(ye.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"click","matTooltip"],["size","24",3,"name"],[3,"uploadComplete","uploadToCdnMenu","fileType"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"filesChange","files"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"textarea",2),t.nI1(3,"mytranslate"),t.EFF(4,"        "),t.k0s(),t.DNE(5,Ec,1,1,"app-new-list-images",3),t.k0s(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.nI1(9,"mytranslate"),t.bIt("click",function(){return o.isLockComment=!o.isLockComment}),t.nrm(10,"lucide-icon",7),t.k0s(),t.j41(11,"azt-upload-multiple-box",8),t.bIt("uploadComplete",function(r){return o.handleUploadComplete(r)}),t.j41(12,"span",9),t.nrm(13,"lucide-icon",10),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"button",11),t.bIt("click",function(){return o.saveNewPost()}),t.DNE(16,Mc,1,0,"azt-loading-ui",12),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(2),t.FS9("placeholder",t.bMT(3,12,"lang_business_news_post_content")),t.Y8G("formControl",o.contentFormControl),t.R7$(3),t.Y8G("ngIf",o.files.length),t.R7$(3),t.FS9("matTooltip",t.bMT(9,14,o.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),t.R7$(2),t.Y8G("name",o.isLockComment?"lock":"lock-open"),t.R7$(),t.Y8G("uploadToCdnMenu",o.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",t.eq3(20,Fc,o.allUploadFileTypes.IMAGE)),t.R7$(2),t.FS9("matTooltip",t.bMT(14,16,"lang_core_tai_anh")),t.Y8G("ngClass",t.lJ4(22,Rc)),t.R7$(2),t.Y8G("disabled",""==o.contentFormControl.value||o.statusObj.loading),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[_o,uo.V,$.R,_.MD,_.YU,_.bT,m.X1,m.me,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,Vt.fg,B.oV,h.flO,h.WGl,y.L,x.Id,I.k,Je.j],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),s})();function Gc(n,s){1&n&&t.nrm(0,"azt-loading-ui",9)}let Dc=(()=>{var n;class s extends ot._{btnCloseDialog(e){this.dialogRef.close(e)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdDelete(this.postObj.id)).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(e,o,a){super(a,o),this.newsService=e,this.dialogRef=o,this.data=a,this.postObj=a}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-delete-news-post-confirm-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b",4),t.EFF(8),t.k0s(),t.EFF(9,"? "),t.k0s()()()(),t.j41(10,"div",5)(11,"button",6),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",7),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(15,Gc,1,0,"azt-loading-ui",8),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",t.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),t.R7$(3),t.JRh(o.postObj.content),t.R7$(4),t.SpI(" ",t.bMT(13,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[Ot.U,$.R,_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();function $c(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToSeeMore())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_cms_common_see_more")))}function zc(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToShowShortContent())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_cms_common_see_short_content")))}function Pc(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"span",3),t.nI1(2,"safeNormalHtmlContent"),t.DNE(3,$c,3,3,"a",4)(4,zc,3,3,"a",4),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,3,i.showContent),t.npT),t.R7$(2),t.Y8G("ngIf",i.showSeeMoreButton&&i.content.length>i.maxLength),t.R7$(),t.Y8G("ngIf",i.showShortContentButton&&i.content.length>i.maxLength)}}function Ac(n,s){if(1&n&&(t.nrm(0,"span",10),t.nI1(1,"safeNormalHtmlContent")),2&n){const i=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,i.showContent),t.npT)}}function Lc(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToSeeMore())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const i=t.XpG(2);t.Aen("position: absolute; bottom: 0; right: 0; background-color: "+i.backgroundColor),t.R7$(),t.SpI(" ...",t.bMT(2,3,"lang_cms_common_see_more")," ")}}function Yc(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToShowShortContent())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_cms_common_see_short_content")))}function Bc(n,s){if(1&n&&(t.j41(0,"div",6),t.nrm(1,"div",7),t.nI1(2,"safeNormalHtmlContent"),t.nrm(3,"div",7,0),t.nI1(5,"safeNormalHtmlContent"),t.DNE(6,Ac,2,3,"span",8)(7,Lc,3,5,"a",9)(8,Yc,3,3,"a",4),t.k0s()),2&n){const i=t.sdS(4),e=t.XpG();t.R7$(),t.Aen(e.styleContent),t.Y8G("innerHTML",t.bMT(2,9,e.showContent),t.npT),t.R7$(2),t.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),t.Y8G("innerHTML",t.bMT(5,11,e.showContent),t.npT),t.R7$(3),t.Y8G("ngIf",e.showShortContentButton),t.R7$(),t.Y8G("ngIf",e.showSeeMoreButton&&i.offsetHeight>20*e.maxLine),t.R7$(),t.Y8G("ngIf",e.showShortContentButton&&i.offsetHeight>20*e.maxLine)}}let po=(()=>{var n;class s extends O.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let e=this.commonService.removeTagHtml(this.content);if(this.maxLength&&e.length>this.maxLength)this.showContent=this.showSeeMoreButton?e.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var o=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+o+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:2,vars:2,consts:[["contentElementHide",""],[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(e,o){1&e&&t.DNE(0,Pc,5,5,"div",1)(1,Bc,9,13,"div",2),2&e&&(t.Y8G("ngIf",o.maxLength),t.R7$(),t.Y8G("ngIf",o.maxLine&&!o.maxLength))},dependencies:[_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,f._y,x.Id,I.k],encapsulation:2}),s})();var go=p(40111);function Vc(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",3),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.onShowFile(o))}),t.nrm(1,"img",4),t.k0s()}if(2&n){const i=s.$implicit;t.R7$(),t.Y8G("src",i.imageLink,t.B4B)}}let Xc=(()=>{var n;class s extends O.H{onShowFile(e){this.sAztDialogService.open(ei.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+e.id,mimes:"image/jpeg",url:e.imageLink,index:-1}},restoreFocus:!1})}constructor(e,o){super(),this.sAztDialogService=e,this.sAztFileTypeService=o,this.images=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i),t.rXU(go.k))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-list-images-post"]],inputs:{images:"images"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,Vc,2,1,"a",2),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("ngForOf",o.images))},dependencies:[_.MD,_.Sq,m.X1,b.iI,m.YN,S.s,h.flO,y.L,x.Id,I.k],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),s})();const ho=n=>({clickable:n}),Uc=(n,s)=>({"heart-selected":n,"heart-non-selected":s});function Hc(n,s){1&n&&(t.j41(0,"div",2)(1,"span",3),t.nrm(2,"lucide-icon",4),t.k0s(),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n&&(t.R7$(4),t.JRh(t.bMT(5,1,"lang_student_comment_feature_disabled")))}function Jc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",5)(1,"div",6),t.nI1(2,"isParentViewOnly"),t.j41(3,"button",7),t.nI1(4,"isParentViewOnly"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeEmotionEvent())}),t.nrm(5,"lucide-icon",8),t.k0s(),t.j41(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"div",9),t.nI1(9,"isParentViewOnly"),t.j41(10,"button",10),t.nI1(11,"isParentViewOnly"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showCommentObjs())}),t.nrm(12,"lucide-icon",11),t.k0s(),t.j41(13,"span"),t.EFF(14),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(15,ho,!t.bMT(2,7,""))),t.R7$(2),t.Y8G("disabled",t.bMT(4,9,"")),t.R7$(2),t.Y8G("ngClass",t.l_i(17,Uc,i.postObj.hasLoveEmotion,!i.postObj.hasLoveEmotion)),t.R7$(2),t.JRh(i.postObj.totalEmotion),t.R7$(),t.Y8G("ngClass",t.eq3(20,ho,!t.bMT(9,11,""))),t.R7$(2),t.Y8G("disabled",t.bMT(11,13,"")),t.R7$(4),t.JRh(i.postObj.totalComment)}}let Wc=(()=>{var n;class s extends O.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id)).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,void this.changePostObjEvent.emit(this.postObj);this.successStatusObj()}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(e){super(),this.newsService=e,this.changePostObjEvent=new t.bkB}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"mr-2","zoom-in","heart-label",3,"click","disabled"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"click","disabled"],["name","message-square","size","20"]],template:function(e,o){1&e&&t.DNE(0,Hc,6,3,"div",0)(1,Jc,15,22,"div",1),2&e&&(t.Y8G("ngIf",o.postObj.isLockComment),t.R7$(),t.Y8G("ngIf",!o.postObj.isLockComment))},dependencies:[_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,f.hx,x.Id,I.k],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}  .heart-selected svg{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),s})();var je=function(n){return n[n.ADD_NEW=0]="ADD_NEW",n[n.UPDATE=1]="UPDATE",n[n.DELETE=2]="DELETE",n}(je||{});function qc(n,s){1&n&&t.nrm(0,"azt-loading-ui",9)}let Qc=(()=>{var n;class s extends ot._{btnCloseDialog(e){this.dialogRef.close(e)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id)).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(e,o,a){super(a,o),this.newsService=e,this.dialogRef=o,this.data=a,this.postObj=a.postObj,this.commentObj=a.commentObj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-delete-news-post-comment-confirm-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b",4),t.EFF(8),t.k0s(),t.EFF(9,"? "),t.k0s()()()(),t.j41(10,"div",5)(11,"button",6),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",7),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(15,qc,1,0,"azt-loading-ui",8),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",t.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),t.R7$(3),t.JRh(o.commentObj.content),t.R7$(4),t.SpI(" ",t.bMT(13,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[Ot.U,$.R,_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();const Zc=()=>({"text-slate-500":!0}),Kc=()=>({"mr-2":!0}),tm=()=>({"mr-2 text-danger":!0});function em(n,s){if(1&n&&(t.j41(0,"button",15),t.nrm(1,"lucide-icon",16),t.k0s()),2&n){t.XpG();const i=t.sdS(12);t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(2,Zc))}}function nm(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",17),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.editCommentEvent())}),t.nrm(2,"lucide-icon",18),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Kc)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_sua")," "))}function im(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.deleteCommentEvent())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,tm)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa")," "))}let om=(()=>{var n;class s extends O.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:je.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(Qc,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.changeCommentObjEvent.emit({actionType:je.DELETE,commentObj:this.commentObj})})}constructor(e){super(),this.sAztDialogService=e,this.changeCommentObjEvent=new t.bkB}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},standalone:!0,features:[t.Jv_([le.h]),t.Vt3,t.aNF],decls:20,vars:13,consts:[["menuBox",""],[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(e,o){1&e&&(t.j41(0,"div",1)(1,"div",2),t.nrm(2,"azt-create-avatar",3),t.k0s(),t.j41(3,"div")(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7),t.k0s(),t.nrm(8,"azt-see-more-multiple-lines",7),t.k0s(),t.j41(9,"div",8),t.DNE(10,em,2,3,"button",9),t.j41(11,"mat-menu",10,0)(13,"div",11)(14,"ul",12),t.DNE(15,nm,5,5,"li",13)(16,im,5,5,"li",13),t.k0s()()()()(),t.j41(17,"div",14),t.EFF(18),t.nI1(19,"relativeTime"),t.k0s()()()),2&e&&(t.R7$(2),t.Y8G("nameCreateAvatar",null==o.commentObj.user?null:o.commentObj.user.fullName)("linkAvatar",null==o.commentObj.user?null:o.commentObj.user.avatar)("size",30),t.R7$(5),t.SpI(" ",null==o.commentObj.user?null:o.commentObj.user.fullName,"\xa0 "),t.R7$(),t.Y8G("content",o.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),t.R7$(2),t.Y8G("ngIf",o.commentObj.allowDelete||o.commentObj.allowEdit),t.R7$(5),t.Y8G("ngIf",o.commentObj.allowEdit),t.R7$(),t.Y8G("ngIf",o.commentObj.allowDelete),t.R7$(2),t.JRh(t.bMT(19,11,o.commentObj.createdAt)))},dependencies:[oe.p,po,_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,tt.kk,tt.Cp,h.flO,h.WGl,y.L,f.NA,x.Id,I.k],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),s})();var fo=p(43558);const sm=()=>({"text-primary":!0});function am(n,s){1&n&&t.nrm(0,"azt-loading-ui",11)}let rm=(()=>{var n;class s extends O.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var e={content:this.commentContentFormControl.value};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,e)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=e.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(e,o){super(),this.newsService=e,this.userService=o,this.changeCommentObjEvent=new t.bkB,this.commentContentFormControl=new m.MJ("",{nonNullable:!0,validators:[me.M.noWhiteSpace]})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(ye.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.nrm(1,"azt-create-avatar",1),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),t.nI1(5,"mytranslate"),t.bIt("enterKey",function(){return!(""==o.commentContentFormControl.value||o.statusObj.loading)&&o.saveNewComment()}),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"button",7),t.bIt("click",function(){return o.cancel()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"button",8),t.nI1(12,"mytranslate"),t.bIt("click",function(){return o.saveNewComment()}),t.DNE(13,am,1,0,"azt-loading-ui",9),t.nrm(14,"lucide-icon",10),t.k0s()()()()()),2&e&&(t.R7$(),t.Y8G("nameCreateAvatar",o.userObj.fullName)("linkAvatar",o.userObj.avatar)("size",30),t.R7$(3),t.FS9("placeholder",t.bMT(5,11,"lang_core_viet_binh_luan")),t.Y8G("enableInMobile",!1)("formControl",o.commentContentFormControl),t.R7$(5),t.SpI(" ",t.bMT(10,13,"lang_cms_common_close_btn")," "),t.R7$(2),t.FS9("matTooltip",t.bMT(12,15,"lang_business_news_add_new_post_button")),t.Y8G("disabled",""==o.commentContentFormControl.value||o.statusObj.loading),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.Y8G("ngClass",t.lJ4(17,sm)))},dependencies:[fo.Z,Je.j,oe.p,$.R,_.MD,_.YU,_.bT,m.X1,m.me,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,Vt.fg,mt.rl,B.oV,h.flO,h.WGl,y.L,x.Id,I.k],encapsulation:2}),s})();const lm=()=>({"text-primary flex-none zoom-in":!0});function cm(n,s){1&n&&t.nrm(0,"azt-loading-ui",9)}let mm=(()=>{var n;class s extends O.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value})).subscribe(o=>{if(!o.success||!o.data)return this.errorStatusObj(o.message,!0);this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...o.data,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(e,o){super(),this.newsService=e,this.userService=o,this.changeCommentObjEvent=new t.bkB,this.commentContentFormControl=new m.MJ("",{nonNullable:!0,validators:[me.M.noWhiteSpace]})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(ye.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.nrm(1,"azt-create-avatar",1),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),t.nI1(5,"mytranslate"),t.bIt("enterKey",function(){return!(""==o.commentContentFormControl.value||o.statusObj.loading)&&o.saveNewComment()}),t.EFF(6,"            "),t.k0s()(),t.j41(7,"div",5)(8,"button",6),t.nI1(9,"mytranslate"),t.bIt("click",function(){return o.saveNewComment()}),t.DNE(10,cm,1,0,"azt-loading-ui",7),t.nrm(11,"lucide-icon",8),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("nameCreateAvatar",o.userObj.fullName)("linkAvatar",o.userObj.avatar)("size",30),t.R7$(3),t.FS9("placeholder",t.bMT(5,10,"lang_core_viet_binh_luan")),t.Y8G("enableInMobile",!1)("formControl",o.commentContentFormControl),t.R7$(4),t.FS9("matTooltip",t.bMT(9,12,"lang_business_news_add_new_post_button")),t.Y8G("disabled",""==o.commentContentFormControl.value||o.statusObj.loading),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.Y8G("ngClass",t.lJ4(14,lm)))},dependencies:[fo.Z,oe.p,$.R,_.MD,_.YU,_.bT,m.X1,m.me,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,Vt.fg,mt.rl,B.oV,h.flO,h.WGl,y.L,x.Id,I.k,Je.j],encapsulation:2}),s})();function dm(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"app-news-view-comment",6),t.bIt("changeCommentObjEvent",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.changeCommentObj(o.actionType,o.commentObj))}),t.k0s(),t.bVm()}if(2&n){const i=t.XpG().$implicit,e=t.XpG();t.R7$(),t.Y8G("postObj",e.postObj)("commentObj",i)}}function _m(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",3)(1,"app-news-edit-comment",6),t.bIt("changeCommentObjEvent",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.changeCommentObj(a.enumNewsCommentActionType.UPDATE,o))}),t.k0s()()}if(2&n){const i=t.XpG().$implicit,e=t.XpG();t.R7$(),t.Y8G("postObj",e.postObj)("commentObj",i)}}function um(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,dm,2,2,"ng-container",5)(2,_m,2,2,"ng-template",null,0,t.C5r),t.k0s()),2&n){const i=s.$implicit,e=t.sdS(3);t.R7$(),t.Y8G("ngIf",!i.isShowEditForm)("ngIfElse",e)}}function pm(n,s){1&n&&t.nrm(0,"azt-loading-ui",10)}function gm(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",7)(1,"button",8),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(!o.sAztNextPaginationService.isLoadingNextPage&&o.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,pm,1,0,"azt-loading-ui",9),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_news_load_more_comments")," "),t.R7$(2),t.Y8G("ngIf",i.sAztNextPaginationService.isLoadingNextPage)}}let hm=(()=>{var n;class s extends O.H{changeCommentObj(e,o){e==je.ADD_NEW?(this.commentObjs.unshift(o),this.postObj.totalComment+=1):e==je.UPDATE?this.commentObjs=this.commentObjs.map(a=>a.id==o.id?o:a):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(a=>a.id!=o.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(e){e?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.list.forEach(a=>{this.commentObjs.push({...a,isShowEditForm:!1,allowEdit:a.tenantId==this.userObj.id,allowDelete:!this.isStudent||a.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(o.data?.total??0),this.stopStatusObj()}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(e,o,a){super(),this.newsService=e,this.userService=o,this.sAztNextPaginationService=a,this.commentObjs=[],this.enumNewsCommentActionType=je,this.userObj=this.userService.getUserObj()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(ye.R),t.rXU(le.h))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},standalone:!0,features:[t.Jv_([le.h]),t.Vt3,t.aNF],decls:4,vars:3,consts:[["showEditForm",""],[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"changeCommentObjEvent","postObj"],[4,"ngIf","ngIfElse"],[3,"changeCommentObjEvent","postObj","commentObj"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(e,o){1&e&&(t.DNE(0,um,4,2,"div",1)(1,gm,5,4,"div",2),t.j41(2,"div",3)(3,"app-news-add-new-comments",4),t.bIt("changeCommentObjEvent",function(r){return o.changeCommentObj(o.enumNewsCommentActionType.ADD_NEW,r)}),t.k0s()()),2&e&&(t.Y8G("ngForOf",o.commentObjs),t.R7$(),t.Y8G("ngIf",o.commentObjs.length&&o.sAztNextPaginationService.hasNextPage),t.R7$(2),t.Y8G("postObj",o.postObj))},dependencies:[om,rm,$.R,mm,_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();const fm=()=>({"text-slate-500":!0}),ni=()=>({"mr-2":!0});function bm(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG();const i=t.sdS(17);t.Y8G("ngTemplateOutlet",i)}}function vm(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"hr",12)(2,"app-news-list-comments",16),t.k0s()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("isStudent",i.isStudent)("postObj",i.postObj)}}function km(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",17)(1,"button",18),t.nrm(2,"lucide-icon",19),t.k0s(),t.j41(3,"mat-menu",20,1)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.editPostEvent())}),t.nrm(9,"lucide-icon",24),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"a",25),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.deletePostEvent())}),t.nrm(14,"lucide-icon",26),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"li")(18,"label",27),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.j41(19,"div",28),t.nrm(20,"lucide-icon",29),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",30)(24,"input",31),t.bIt("change",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeLockCommentStatus())}),t.k0s()()()()()()()()}if(2&n){const i=t.sdS(4),e=t.XpG();t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(15,fm)),t.R7$(7),t.Y8G("ngClass",t.lJ4(16,ni)),t.R7$(),t.SpI(" ",t.bMT(11,9,"lang_auto_sua")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(17,ni)),t.R7$(),t.SpI(" ",t.bMT(16,11,"lang_auto_xoa")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(18,ni)),t.R7$(),t.SpI(" ",t.bMT(22,13,"lang_student_comment_lock")," "),t.R7$(3),t.Y8G("formControl",e.isLockComment)}}let xm=(()=>{var n;class s extends O.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:Bt.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Dc,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.changePostObjEvent.emit({actionType:Bt.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const e=this.isLockComment.value,o=e?this.newsService.apiNewsIdLockCommentsPut(this.postObj.id):this.newsService.apiNewsIdUnlockCommentsPut(this.postObj.id);this.waitDestroy(this.wrapApiResponse(o).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);const r=e?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=e?1:0,this.changePostObjEvent.emit({actionType:Bt.UPDATE,postObj:this.postObj}),this.showSuccessSnack(r)}))}changeEmotionEventEvent(e){this.postObj=e,this.changePostObjEvent.emit({actionType:Bt.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(e,o){super(),this.sAztDialogService=e,this.newsService=o,this.changePostObjEvent=new t.bkB,this.isLockComment=new m.MJ(!1)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i),t.rXU(z.bH))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:13,consts:[["newsEditOrDeleteNews",""],["menuBox",""],[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"changePostObjEvent","postObj"],[4,"ngIf"],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"change","formControl"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",2)(1,"div",3),t.nrm(2,"azt-create-avatar",4),t.k0s(),t.j41(3,"div",5)(4,"a",6),t.EFF(5),t.k0s(),t.j41(6,"div",7),t.EFF(7),t.nI1(8,"relativeTime"),t.k0s()()(),t.DNE(9,bm,1,1,"ng-container",8),t.j41(10,"div",9),t.nrm(11,"azt-see-more-multiple-lines",10),t.k0s(),t.nrm(12,"app-list-images-post",11)(13,"hr",12),t.j41(14,"app-news-emotions",13),t.bIt("changePostObjEvent",function(l){return t.eBV(a),t.Njj(o.changeEmotionEventEvent(l))}),t.k0s(),t.DNE(15,vm,3,2,"div",14)(16,km,25,19,"ng-template",null,0,t.C5r)}if(2&e){let a;t.R7$(2),t.Y8G("nameCreateAvatar",null==o.postObj.user?null:o.postObj.user.fullName)("linkAvatar",null==o.postObj.user?null:o.postObj.user.avatar)("size",36),t.R7$(3),t.SpI("",null==o.postObj.user?null:o.postObj.user.fullName,"\xa0"),t.R7$(2),t.JRh(t.bMT(8,11,o.postObj.createdAt)),t.R7$(2),t.Y8G("ngIf",!o.isStudent),t.R7$(2),t.Y8G("content",o.postObj.content)("maxLine",0==(null!==(a=null==o.postObj.images?null:o.postObj.images.length)&&void 0!==a?a:0)?o.postObj.content.length:10),t.R7$(),t.Y8G("images",o.postObj.images),t.R7$(2),t.Y8G("postObj",o.postObj),t.R7$(),t.Y8G("ngIf",o.postObj.isShowCommentBox)}},dependencies:[oe.p,po,Xc,Wc,hm,_.MD,_.YU,_.bT,_.T3,m.X1,m.Zm,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,tt.kk,tt.Cp,h.flO,h.WGl,y.L,f.NA,x.Id,I.k],encapsulation:2}),s})();const Cm=n=>[n],Tm=()=>({"zoom-in":!0});function Sm(n,s){if(1&n){const i=t.RV6();t.j41(0,"app-new-list-images",13),t.mxI("filesChange",function(o){t.eBV(i);const a=t.XpG();return t.DH7(a.files,o)||(a.files=o),t.Njj(o)}),t.k0s()}if(2&n){const i=t.XpG();t.R50("files",i.files)}}function Im(n,s){1&n&&t.nrm(0,"azt-loading-ui",14)}let ym=(()=>{var n;class s extends O.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let e={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(o=>o.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdPut(this.postObj.id,e)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_cms_update_success",!0);let a=[];this.files.forEach(r=>{a.push({id:0,newsId:this.postObj?.id??0,imageLink:r.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=e.content,this.postObj.images=a,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]}))}}handleUploadComplete(e){this.files.push(...e)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(e=>{this.files.push({name:"",mimes:"image/jpeg",url:e.imageLink})})}constructor(e,o){super(),this.newsService=e,this.userService=o,this.changePostObjEvent=new t.bkB,this.contentFormControl=new m.MJ("",{nonNullable:!0,validators:[me.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=Xe.b8,this.allUploadFileTypes=Xe.PO}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(ye.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"filesChange","files"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div")(1,"div",0),t.nrm(2,"azt-create-avatar",1),t.j41(3,"div",2)(4,"textarea",3),t.nI1(5,"mytranslate"),t.EFF(6,"            "),t.k0s()()(),t.DNE(7,Sm,1,1,"app-new-list-images",4),t.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),t.bIt("uploadComplete",function(r){return o.handleUploadComplete(r)}),t.j41(11,"span",8),t.nrm(12,"lucide-icon",9),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"button",10),t.bIt("click",function(){return o.cancel()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"button",11),t.bIt("click",function(){return o.saveNewPost()}),t.DNE(18,Im,1,0,"azt-loading-ui",12),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(2),t.Y8G("nameCreateAvatar",o.userObj.fullName)("linkAvatar",o.userObj.avatar)("size",36),t.R7$(2),t.FS9("placeholder",t.bMT(5,14,"lang_business_news_post_content")),t.Y8G("formControl",o.contentFormControl),t.R7$(3),t.Y8G("ngIf",o.files.length),t.R7$(3),t.Y8G("uploadToCdnMenu",o.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",t.eq3(22,Cm,o.allUploadFileTypes.IMAGE)),t.R7$(2),t.FS9("matTooltip",t.bMT(13,16,"lang_core_tai_anh")),t.Y8G("ngClass",t.lJ4(24,Tm)),t.R7$(3),t.SpI(" ",t.bMT(16,18,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",""==o.contentFormControl.value||o.statusObj.loading),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[oe.p,_o,uo.V,$.R,_.MD,_.YU,_.bT,m.X1,m.me,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,Vt.fg,B.oV,h.flO,h.WGl,y.L,x.Id,I.k,Je.j],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),s})();function jm(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",5)(1,"input",11),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.selectedViewNewsSchool(!0))}),t.k0s(),t.j41(2,"label",12),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("value",1)("formControl",i.isSchoolControl),t.R7$(2),t.JRh(t.bMT(4,3,"lang_azt_truong_hoc"))}}function Om(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13)(1,"app-news-add-new-post",14),t.bIt("changePostObjEvent",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.changePostObj(a.enumNewsPostActionType.ADD_NEW,o))}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("classroomId",i.classroomId)("isSchool",i.isSchoolControl.getRawValue())}}function wm(n,s){if(1&n&&(t.j41(0,"div",15),t.nrm(1,"azt-loading-effect",16),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("currentStatusObj",i.statusObj)}}function Fm(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"app-news-view-post",20),t.bIt("changePostObjEvent",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.changePostObj(o.actionType,o.postObj))}),t.k0s(),t.bVm()}if(2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.Y8G("isStudent",e.isStudent)("postObj",i)}}function Rm(n,s){if(1&n){const i=t.RV6();t.j41(0,"app-news-edit-post",21),t.bIt("changePostObjEvent",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.changePostObj(a.enumNewsPostActionType.UPDATE,o))}),t.k0s()}if(2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.Y8G("postObj",i)("classroomId",e.classroomId)}}function Em(n,s){if(1&n&&(t.j41(0,"div",18),t.DNE(1,Fm,2,2,"ng-container",19)(2,Rm,1,2,"ng-template",null,1,t.C5r),t.k0s()),2&n){const i=s.$implicit,e=t.sdS(3);t.R7$(),t.Y8G("ngIf",!i.isShowEditForm)("ngIfElse",e)}}function Mm(n,s){1&n&&(t.j41(0,"div",13)(1,"div",22)(2,"div",23),t.nrm(3,"azt-svg-icon",24),t.j41(4,"p",25),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(3),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function Nm(n,s){1&n&&t.nrm(0,"azt-loading-ui")}function Gm(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",27),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.getNextPage())}),t.nrm(2,"lucide-icon",28),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Dm(n,s){if(1&n&&(t.j41(0,"div",13)(1,"div",26),t.DNE(2,Nm,1,0,"azt-loading-ui",19)(3,Gm,3,3,"ng-template",null,2,t.C5r),t.k0s()()),2&n){const i=t.sdS(4),e=t.XpG(2);t.R7$(2),t.Y8G("ngIf",e.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",i)}}function $m(n,s){if(1&n&&t.DNE(0,Em,4,2,"div",17)(1,Mm,7,4,"div",9)(2,Dm,5,2,"div",9),2&n){const i=t.XpG();t.Y8G("ngForOf",i.postObjs),t.R7$(),t.Y8G("ngIf",i.postObjs.length<=0),t.R7$(),t.Y8G("ngIf",i.postObjs.length&&i.sAztNextPaginationService.hasNextPage)}}let zm=(()=>{var n;class s extends O.H{selectedViewNewsSchool(e){let o=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";e?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(o,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(o,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(e,o){switch(e){case Bt.ADD_NEW:this.postObjs.unshift(o);break;case Bt.UPDATE:this.postObjs=this.postObjs.map(a=>a.id==o.id?o:a);break;case Bt.DELETE:this.postObjs=this.postObjs.filter(a=>a.id!=o.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(e){var o={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};e?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsListPost(o)).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);let r={page:1,size:-1,newsIds:a.data?.list.map(l=>l.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsEmotionsListPost(r)).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);let c=this.commonService.arrayToUniqueDictionary(l.data?.list??[],d=>d.newsId.toString());a.data?.list.forEach(d=>{this.postObjs.push({...d,hasLoveEmotion:c.hasOwnProperty(d.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(a.data?.total??0),this.stopStatusObj()}))}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(e,o){super(),this.newsService=e,this.sAztNextPaginationService=o,this.isSchoolControl=new m.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=Bt}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.bH),t.rXU(le.h))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},standalone:!0,features:[t.Jv_([le.h]),t.Vt3,t.OA$,t.aNF],decls:15,vars:12,consts:[["doneLoading",""],["showEditForm",""],["doneLoadNextPage",""],[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","classroom",1,"pl-2","form-check-label"],["class","flex ml-5 items-center",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","school",1,"pl-2","form-check-label"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"changePostObjEvent","classroomId","isSchool"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],[3,"changePostObjEvent","isStudent","postObj"],[3,"changePostObjEvent","postObj","classroomId"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"click","matTooltip"],["name","chevron-down","size","20"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"p"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",5)(6,"input",6),t.bIt("click",function(){return t.eBV(a),t.Njj(o.selectedViewNewsSchool(!1))}),t.k0s(),t.j41(7,"label",7),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.DNE(10,jm,5,5,"div",8),t.k0s(),t.DNE(11,Om,2,2,"div",9)(12,wm,2,1,"div",10)(13,$m,3,3,"ng-template",null,0,t.C5r),t.k0s()}if(2&e){const a=t.sdS(14);t.R7$(3),t.JRh(t.bMT(4,8,"lang_azt_hien_ban_tin_theo")),t.R7$(3),t.Y8G("value",0)("formControl",o.isSchoolControl),t.R7$(2),t.JRh(t.bMT(9,10,"lang_auto_lop_hoc")),t.R7$(2),t.Y8G("ngIf",o.isBusinessDomain),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[Nc,Y.K,xm,ym,vn.m,$.R,_.MD,_.Sq,_.bT,m.X1,m.me,m.Fm,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,x.Id,I.k],encapsulation:2}),s})();var Oe=p(73202),Pm=p(23750),we=p(44233),ii=p(73022),Fe=p(29666);class Qt extends Error{}class Am extends Qt{constructor(s){super(`Invalid DateTime: ${s.toMessage()}`)}}class Lm extends Qt{constructor(s){super(`Invalid Duration: ${s.toMessage()}`)}}class Ym extends Qt{constructor(s){super(`Invalid Interval: ${s.toMessage()}`)}}class In extends Qt{constructor(s){super(`Invalid unit ${s}`),Object.setPrototypeOf(this,In.prototype)}}class oi extends Qt{constructor(s){super(`${s} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,oi.prototype)}}class Zt extends Qt{constructor(s){super(s),Object.setPrototypeOf(this,Zt.prototype)}}class _t extends Qt{constructor(s){super(s),Object.setPrototypeOf(this,_t.prototype)}}class $t extends Qt{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,$t.prototype)}}class We{get type(){throw new $t}get ianaName(){return this.name}get name(){throw new $t}get isUniversal(){throw new $t}offsetName(s,i){throw new $t}formatOffset(s,i){throw new $t}offset(s){throw new $t}equals(s){throw new $t}get isValid(){throw new $t}}var rt=Intl;let jn={};const Bm={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let On={};class Xt extends We{static create(s){return On[s]||(On[s]=new Xt(s)),On[s]}static resetCache(){On={},jn={}}static isValidSpecifier(s){return this.isValidZone(s)}static isValidZone(s){if(!s)return!1;try{return new rt.DateTimeFormat("en-US",{timeZone:s}).format(),!0}catch{return!1}}constructor(s){super(),this._zoneName=s,this._valid=Xt.isValidZone(s)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(s,{format:i,locale:e}={}){return ds(s,i,e,this.name)}formatOffset(s,i){return Ze(this.offset(s),i)}offset(s){const i=new Date(s);if(isNaN(+i))return NaN;const e=function(j){if(!jn[j])try{jn[j]=new rt.DateTimeFormat("en-US",{hour12:!1,timeZone:j,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new oi(j)}return jn[j]}(this.name);let o;const[a,r,l,c,d,u,g]=typeof e.formatToParts==typeof isNaN?function(j,R){const G=j.formatToParts(R),D=[];for(let L=0;L<G.length;L++){const{type:w,value:E}=G[L],Tt=Bm[w];"era"===w?D[Tt]=E:bt(Tt)||(D[Tt]=parseInt(E,10))}return D}(e,i):function(j,R){const G=j.format(R).replace(/\u200E/g,""),D=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(G),[,L,w,E,Tt,Yt,fe,Be]=D;return[E,L,w,Tt,Yt,fe,Be]}(e,i);"BC"===c&&(o=1-Math.abs(+a));let k=+i;const v=k%1e3;return k-=v>=0?v:1e3+v,(Dn({year:o||+a,month:+r,day:+l,hour:+(24===d?0:d),minute:+u,second:+g,millisecond:0})-k)/6e4}equals(s){return"iana"===s.type&&s.name===this.name}get isValid(){return this._valid}}const T="numeric",wt="short",Ct="long",wn={year:T,month:T,day:T},bo={year:T,month:wt,day:T},Vm={year:T,month:wt,day:T,weekday:wt},vo={year:T,month:Ct,day:T},ko={year:T,month:Ct,day:T,weekday:Ct},xo={hour:T,minute:T},Co={hour:T,minute:T,second:T},To={hour:T,minute:T,second:T,timeZoneName:wt},So={hour:T,minute:T,second:T,timeZoneName:Ct},Io={hour:T,minute:T,hourCycle:"h23"},yo={hour:T,minute:T,second:T,hourCycle:"h23"},jo={hour:T,minute:T,second:T,hourCycle:"h23",timeZoneName:wt},Oo={hour:T,minute:T,second:T,hourCycle:"h23",timeZoneName:Ct},wo={year:T,month:T,day:T,hour:T,minute:T},Fo={year:T,month:T,day:T,hour:T,minute:T,second:T},Ro={year:T,month:wt,day:T,hour:T,minute:T},Eo={year:T,month:wt,day:T,hour:T,minute:T,second:T},Xm={year:T,month:wt,day:T,weekday:wt,hour:T,minute:T},Mo={year:T,month:Ct,day:T,hour:T,minute:T,timeZoneName:wt},No={year:T,month:Ct,day:T,hour:T,minute:T,second:T,timeZoneName:wt},Go={year:T,month:Ct,day:T,weekday:Ct,hour:T,minute:T,timeZoneName:Ct},Do={year:T,month:Ct,day:T,weekday:Ct,hour:T,minute:T,second:T,timeZoneName:Ct},Um=["January","February","March","April","May","June","July","August","September","October","November","December"],$o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Hm=["J","F","M","A","M","J","J","A","S","O","N","D"];function zo(n){switch(n){case"narrow":return[...Hm];case"short":return[...$o];case"long":return[...Um];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const Po=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ao=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Jm=["M","T","W","T","F","S","S"];function Lo(n){switch(n){case"narrow":return[...Jm];case"short":return[...Ao];case"long":return[...Po];case"numeric":return["1","2","3","4","5","6","7"]}}const Yo=["AM","PM"],Wm=["Before Christ","Anno Domini"],qm=["BC","AD"],Qm=["B","A"];function Bo(n){switch(n){case"narrow":return[...Qm];case"short":return[...qm];case"long":return[...Wm]}}let si={},ai={};function ri(n,s={}){const i=JSON.stringify([n,s]);let e=ai[i];return e||(e=new rt.DateTimeFormat(n,s),ai[i]=e),e}let Fn,li={},ci={};function Rn(n,s,i,e){return"en"===n.listingMode()?i(s):e(s)}class Zm{constructor(s,i,e){const{padTo:o,floor:a}=e,r=function(l,c){var d={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&c.indexOf(u)<0&&(d[u]=l[u]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var g=0;for(u=Object.getOwnPropertySymbols(l);g<u.length;g++)c.indexOf(u[g])<0&&Object.prototype.propertyIsEnumerable.call(l,u[g])&&(d[u[g]]=l[u[g]])}return d}(e,["padTo","floor"]);if(this._padTo=o||0,this._floor=a||!1,!i||Object.keys(r).length>0){const l=Object.assign({useGrouping:!1},e);this._padTo>0&&(l.minimumIntegerDigits=o),this._inf=function(c,d){const u=JSON.stringify([c,d]);let g=li[u];return g||(g=new rt.NumberFormat(c,d),li[u]=g),g}(s,l)}}format(s){if(this._inf){const i=this._floor?Math.floor(s):s;return this._inf.format(i)}return et(this._floor?Math.floor(s):vi(s,3),this._padTo)}}class Km{get dtf(){return this._dtf}constructor(s,i,e){let o;if(this._opts=e,this._opts.timeZone)this._dt=s;else if("fixed"===s.zone.type){const r=s.offset/60*-1,l=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;0!==s.offset&&Xt.create(l).isValid?(o=l,this._dt=s):(o="UTC",this._dt=0===s.offset?s:s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone)}else"system"===s.zone.type?this._dt=s:"iana"===s.zone.type?(this._dt=s,o=s.zone.name):(o="UTC",this._dt=s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone);const a=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||o});this._dtf=ri(i,a)}format(){return this._originalZone?this.formatToParts().map(({value:s})=>s).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const s=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?s.map(i=>{if("timeZoneName"===i.type){const e=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},i),{value:e})}return i}):s}resolvedOptions(){return this._dtf.resolvedOptions()}}class td{constructor(s,i,e){this._opts=Object.assign({style:"long"},e),!i&&as()&&(this._rtf=function(o,a={}){const r=JSON.stringify([o,a]);let l=ci[r];return l||(l=new rt.RelativeTimeFormat(o,a),ci[r]=l),l}(s,e))}format(s,i){return this._rtf?this._rtf.format(s,i):function(e,o,a="always",r=!1){const l=N.normalizeUnit(e),c={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[l],d=-1===["hours","minutes","seconds"].indexOf(l);if("auto"===a&&d){const j="days"===l;switch(o){case 1:return j?"tomorrow":`next ${c[0]}`;case-1:return j?"yesterday":`last ${c[0]}`;case 0:return j?"today":`this ${c[0]}`}}const u=Object.is(o,-0)||o<0,g=Math.abs(o),k=1===g,v=r?k?c[1]:c[2]||c[1]:k?c[0]:l;return u?`${g} ${v} ago`:`in ${g} ${v}`}(i,s,this._opts.numeric,"long"!==this._opts.style)}formatToParts(s,i){return this._rtf?this._rtf.formatToParts(s,i):[]}}let V=(()=>{class n{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(i,e,o,a,r){const[l,c,d]=function(u){const g=u.indexOf("-x-");-1!==g&&(u=u.substring(0,g));const k=u.indexOf("-u-");if(-1===k)return[u];{let v,j;try{v=ri(u).resolvedOptions(),j=u}catch{const L=u.substring(0,k);v=ri(L).resolvedOptions(),j=L}const{numberingSystem:R,calendar:G}=v;return[j,R,G]}}(i);var u,g,k;this.locale=l,this.numberingSystem=e||c,this.outputCalendar=o||d,this._intl=(u=this.locale,g=this.numberingSystem,((k=this.outputCalendar)||g)&&(u.includes("-u-")||(u+="-u"),k&&(u+=`-ca-${k}`),g&&(u+=`-nu-${g}`)),u),this._weekSettings=a,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=r,this._fastNumbersCached=void 0}static create(i,e,o,a,r=!1){const l=i||K.defaultLocale,c=l||(r?"en-US":(Fn||(Fn=(new rt.DateTimeFormat).resolvedOptions().locale),Fn)),d=e||K.defaultNumberingSystem,u=o||K.defaultOutputCalendar,g=fi(a)||K.defaultWeekSettings;return new n(c,d,u,g,l)}static fromObject({locale:i,numberingSystem:e,outputCalendar:o,weekSettings:a}={}){return n.create(i,e,o,a)}static fromOpts(i){return n.create(i.locale,i.numberingSystem,i.outputCalendar,i.weekSettings,i.defaultToEN)}static resetCache(){Fn=void 0,si={},ai={},li={},ci={}}clone(i){return i&&0!==Object.getOwnPropertyNames(i).length?n.create(i.locale||this._specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,fi(i.weekSettings)||this._weekSettings,i.defaultToEN||!1):this}dtFormatter(i,e={}){return new Km(i,this._intl,e)}equals(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar}eras(i){return Rn(this,i,Bo,e=>{const o={era:e};return this._eraCache[e]||(this._eraCache[e]=[C.utc(-40,1,1),C.utc(2017,1,1)].map(a=>this.extract(a,o,"era"))),this._eraCache[e]})}extract(i,e,o){const a=this.dtFormatter(i,e).formatToParts().find(r=>r.type.toLowerCase()===o.toLowerCase());if(!a)throw new Error(`Invalid extract field ${o}`);return a.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:rs()?this._getCachedWeekInfo(this.locale):ue}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new rt.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(i={}){return function(e,o={}){const a=JSON.stringify([e,o]);let r=si[a];return r||(r=new rt.ListFormat(e,o),si[a]=r),r}(this._intl,i)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return Rn(this,"long",()=>Yo,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[C.utc(2016,11,13,9),C.utc(2016,11,13,19)].map(i=>this.extract(i,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(i,e=!1){return Rn(this,i,zo,o=>{const a=e?{month:o,day:"numeric"}:{month:o},r=e?"format":"standalone";return this._monthsCache[r][o]||(this._monthsCache[r][o]=function(l){const c=[];for(let d=1;d<=12;d++){const u=C.utc(2009,d,1);c.push(l(u))}return c}(l=>this.extract(l,a,"month"))),this._monthsCache[r][o]})}numberFormatter(i={}){return new Zm(this._intl,this.fastNumbers,i)}redefaultToEN(i={}){return this.clone(Object.assign(Object.assign({},i),{defaultToEN:!0}))}redefaultToSystem(i={}){return this.clone(Object.assign(Object.assign({},i),{defaultToEN:!1}))}relFormatter(i={}){return new td(this._intl,this.isEnglish(),i)}weekdays(i,e=!1){return Rn(this,i,Lo,o=>{const a=e?{weekday:o,year:"numeric",month:"long",day:"numeric"}:{weekday:o},r=e?"format":"standalone";return this._weekdaysCache[r][o]||(this._weekdaysCache[r][o]=function(l){const c=[];for(let d=1;d<=7;d++){const u=C.utc(2016,11,13+d);c.push(l(u))}return c}(l=>this.extract(l,a,"weekday"))),this._weekdaysCache[r][o]})}_getCachedWeekInfo(i){let e=n._weekInfoCache[i];if(!e){const o=new rt.Locale(i);e="getWeekInfo"in o?o.getWeekInfo():o.weekInfo,n._weekInfoCache[i]=e}return e}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===rt.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return n._weekInfoCache={},n})(),mi=null;class gt extends We{static get utcInstance(){return null===mi&&(mi=new gt(0)),mi}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${Ze(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${Ze(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(s){super(),this._fixed=s}static instance(s){return 0===s?gt.utcInstance:new gt(s)}static parseSpecifier(s){if(s){const i=s.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new gt($n(i[1],i[2]))}return null}offsetName(){return this.name}formatOffset(s,i){return Ze(this._fixed,i)}offset(){return this._fixed}equals(s){return"fixed"===s.type&&s._fixed===this._fixed}}class di extends We{constructor(s){super(),this._zoneName=s,Object.setPrototypeOf(this,di.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let _i=null;class En extends We{static get instance(){return null===_i&&(_i=new En),_i}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(s,{format:i,locale:e}){return ds(s,i,e)}formatOffset(s,i){return Ze(this.offset(s),i)}offset(s){return-new Date(s).getTimezoneOffset()}equals(s){return"system"===s.type}get isValid(){return!0}}const Kt=(n,s)=>{if(bt(n)||null===n)return s;if(n instanceof We)return n;if("string"==typeof n){const i=n.toLowerCase();return"default"===i?s:"local"===i||"system"===i?En.instance:"utc"===i||"gmt"===i?gt.utcInstance:gt.parseSpecifier(i)||Xt.create(n)}return Ut(n)?gt.instance(n):"object"==typeof n&&"offset"in n&&"function"==typeof n.offset?n:new di(n)};let Vo,Xo,Uo,Ho,Jo=()=>Date.now(),ui="system",Wo=60,qo=!1;class K{static set defaultLocale(s){Vo=s}static get defaultLocale(){return Vo}static set defaultNumberingSystem(s){Xo=s}static get defaultNumberingSystem(){return Xo}static set defaultOutputCalendar(s){Uo=s}static get defaultOutputCalendar(){return Uo}static set defaultWeekSettings(s){Ho=fi(s)}static get defaultWeekSettings(){return Ho}static set defaultZone(s){ui=s}static get defaultZone(){return Kt(ui,En.instance)}static set defaultZoneLike(s){ui=s}static set now(s){Jo=s}static get now(){return Jo}static set throwOnInvalid(s){qo=s}static get throwOnInvalid(){return qo}static set twoDigitCutoffYear(s){Wo=s%100}static get twoDigitCutoffYear(){return Wo}static resetCaches(){V.resetCache(),Xt.resetCache()}}class Ft{constructor(s,i){this.reason=s,this.explanation=i,this._formattedExplanation="",i&&(this._formattedExplanation=`: ${i}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Qo=[0,31,59,90,120,151,181,212,243,273,304,334],Zo=[0,31,60,91,121,152,182,213,244,274,305,335];function yt(n,s){return new Ft("unit out of range",`you specified ${s} (of type ${typeof s}) as a ${n}, which is invalid`)}function Ko(n,s,i){return i+(qe(n)?Zo:Qo)[s-1]}function ts(n,s){const i=qe(n)?Zo:Qo,e=i.findIndex(o=>o<s);return{month:e+1,day:s-i[e]}}function pi(n,s,i){const e=new Date(Date.UTC(n,s-1,i));n<100&&n>=0&&e.setUTCFullYear(e.getUTCFullYear()-1900);const o=e.getUTCDay();return 0===o?7:o}function Mn(n,s=ue.minimalDays,i=ue.firstDay){const{year:e,month:o,day:a}=n,r=Ko(e,o,a),l=hi(pi(e,o,a),i);let c,d=Math.floor((r-l+14-s)/7);return d<1?(c=e-1,d=Qe(c,s,i)):d>Qe(e,s,i)?(c=e+1,d=1):c=e,Object.assign({weekYear:c,weekNumber:d,weekday:l},Pn(n))}function es(n,s=ue.minimalDays,i=ue.firstDay){const{weekYear:e,weekNumber:o,weekday:a}=n,r=hi(pi(e,1,s),i),l=Re(e);let c,d=7*o+a-r-7+s;d<1?(c=e-1,d+=Re(c)):d>l?(c=e+1,d-=Re(e)):c=e;const{month:u,day:g}=ts(c,d);return Object.assign({year:c,month:u,day:g},Pn(n))}function gi(n){const{year:s,month:i,day:e}=n,o=Ko(s,i,e);return Object.assign({year:s,ordinal:o},Pn(n))}function ns(n){const{year:s,ordinal:i}=n,{month:e,day:o}=ts(s,i);return Object.assign({year:s,month:e,day:o},Pn(n))}function is(n){const s=Nn(n.year),i=jt(n.month,1,12),e=jt(n.day,1,Gn(n.year,n.month));return s?i?!e&&yt("day",n.day):yt("month",n.month):yt("year",n.year)}function os(n){const{hour:s,minute:i,second:e,millisecond:o}=n,a=jt(s,0,23)||24===s&&0===i&&0===e&&0===o,r=jt(i,0,59),l=jt(e,0,59),c=jt(o,0,999);return a?r?l?!c&&yt("millisecond",o):yt("second",e):yt("minute",i):yt("hour",s)}function hi(n,s){return(n-s+7)%7+1}function ss(n,s){if(A(n.localWeekday)||A(n.localWeekNumber)||A(n.localWeekYear)){if(A(n.weekday)||A(n.weekNumber)||A(n.weekYear))throw new Zt("Cannot mix locale-based week fields with ISO-based week fields");return A(n.localWeekday)&&(n.weekday=n.localWeekday),A(n.localWeekNumber)&&(n.weekNumber=n.localWeekNumber),A(n.localWeekYear)&&(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:s.getMinDaysInFirstWeek(),startOfWeek:s.getStartOfWeek()}}return{minDaysInFirstWeek:ue.minimalDays,startOfWeek:ue.firstDay}}function A(n){return void 0!==n}function bt(n){return void 0===n}function Ut(n){return"number"==typeof n}function Nn(n){return Ut(n)&&n%1==0}function as(){try{return void 0!==rt&&!!rt.RelativeTimeFormat}catch{return!1}}function rs(){try{return void 0!==rt&&!!rt.Locale&&("weekInfo"in rt.Locale.prototype||"getWeekInfo"in rt.Locale.prototype)}catch{return!1}}function ls(n,s,i){if(0!==n.length)return n.reduce((e,o)=>{const a=[s(o),o];return i(e[0],a[0])===e[0]?e:a},[s(n[0]),n[0]])[1]}function fi(n){if(n){if("object"!=typeof n)throw new _t("Week settings must be an object");if(!jt(n.firstDay,1,7)||!jt(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(s=>!jt(s,1,7)))throw new _t("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:n.weekend}}}function jt(n,s,i){return Nn(n)&&n>=s&&n<=i}function et(n,s=2){const i=+n<0?"-":"",e=i?-1*+n:n;let o;return o=e.toString().length<s?("0".repeat(s)+e).slice(-s):e.toString(),`${i}${o}`}function te(n){if(n)return parseInt(n,10)}function de(n){if(n)return parseFloat(n)}function bi(n){if(!bt(n)&&null!==n&&""!==n){const s=1e3*parseFloat("0."+n);return Math.floor(s)}}function vi(n,s,i=!1){const e=Math.pow(10,s);return(i?Math.trunc:Math.round)(n*e)/e}function qe(n){return n%4==0&&(n%100!=0||n%400==0)}function Re(n){return qe(n)?366:365}function Gn(n,s){const i=(e=s-1)-12*Math.floor(e/12)+1;var e;return[31,qe(n+(s-i)/12)?29:28,31,30,31,30,31,31,30,31,30,31][i-1]}function Dn(n){let s=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(s=new Date(s),s.setUTCFullYear(n.year,n.month-1,n.day)),+s}function cs(n,s,i){return-hi(pi(n,1,s),i)+s-1}function Qe(n,s=4,i=1){const e=cs(n,s,i),o=cs(n+1,s,i);return(Re(n)-e+o)/7}function ms(n){return n>99?n:n>K.twoDigitCutoffYear?1900+n:2e3+n}function ds(n,s,i,e){const o=new Date(n),r=Object.assign({timeZoneName:s},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:e}),l=new rt.DateTimeFormat(i,r).formatToParts(o).find(c=>"timezonename"===c.type.toLowerCase());return l?l.value:null}function $n(n,s){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);const e=parseInt(s,10)||0;return 60*i+(i<0||Object.is(i,-0)?-e:e)}function _s(n){const s=Number(n);if("boolean"==typeof n||""===n||Number.isNaN(s))throw new _t(`Invalid unit value ${n}`);return s}function zn(n,s){return Object.keys(n).reduce((i,e)=>(null!=n[e]&&(i[s(e)]=_s(n[e])),i),{})}function Ze(n,s){const i=Math.trunc(Math.abs(n/60)),e=Math.trunc(Math.abs(n%60)),o=n>=0?"+":"-";switch(s){case"short":return`${o}${et(i,2)}:${et(e,2)}`;case"narrow":return`${o}${i}${e>0?`:${e}`:""}`;case"techie":return`${o}${et(i,2)}${et(e,2)}`;default:throw new RangeError(`Value format ${s} is out of range for property format`)}}function Pn(n){return s=n,["hour","minute","second","millisecond"].reduce((e,o)=>(e[o]=s[o],e),{});var s}const _e=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ki=_e.slice(0).reverse(),us=["years","months","days","hours","minutes","seconds","milliseconds"],ed={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},ue={firstDay:1,minimalDays:4,weekend:[6,7]};function ps(n,s){let i="";for(const e of n)i+=e.literal?e.val:s(e.val);return i}const nd={D:wn,DD:bo,DDD:vo,DDDD:ko,t:xo,tt:Co,ttt:To,tttt:So,T:Io,TT:yo,TTT:jo,TTTT:Oo,f:wo,ff:Ro,fff:Mo,ffff:Go,F:Fo,FF:Eo,FFF:No,FFFF:Do};class ut{constructor(s,i){this._opts=i,this._loc=s,this._systemLoc=void 0}static create(s,i={}){return new ut(s,i)}static macroTokenToFormatOpts(s){return nd[s]}static parseFormat(s){let i=null,e="",o=!1;const a=[];for(let r=0;r<s.length;r++){const l=s.charAt(r);"'"===l?(e.length>0&&a.push({literal:o||/^\s+$/.test(e),val:e}),i=null,e="",o=!o):o||l===i?e+=l:(e.length>0&&a.push({literal:/^\s+$/.test(e),val:e}),e=l,i=l)}return e.length>0&&a.push({literal:o||/^\s+$/.test(e),val:e}),a}dtFormatter(s,i={}){return this._loc.dtFormatter(s,Object.assign(Object.assign({},this._opts),i))}formatDateTime(s,i){return this.dtFormatter(s,i).format()}formatDateTimeFromString(s,i){const e="en"===this._loc.listingMode(),o=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,a=(k,v)=>this._loc.extract(s,k,v),r=k=>s.isOffsetFixed&&0===s.offset&&k.allowZ?"Z":s.isValid?s.zone.formatOffset(s.ts,k.format):"",c=(k,v)=>{return e?(j=s,zo(k)[j.month-1]):a(v?{month:k}:{month:k,day:"numeric"},"month");var j},d=(k,v)=>{return e?(j=s,Lo(k)[j.weekday-1]):a(v?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday");var j},u=k=>{const v=ut.macroTokenToFormatOpts(k);return v?this.formatWithSystemDefault(s,v):k},g=k=>{return e?(v=s,Bo(k)[v.year<0?0:1]):a({era:k},"era");var v};return ps(ut.parseFormat(i),k=>{switch(k){case"S":return this.num(s.millisecond);case"u":case"SSS":return this.num(s.millisecond,3);case"s":return this.num(s.second);case"ss":return this.num(s.second,2);case"uu":return this.num(Math.floor(s.millisecond/10),2);case"uuu":return this.num(Math.floor(s.millisecond/100));case"m":return this.num(s.minute);case"mm":return this.num(s.minute,2);case"h":return this.num(s.hour%12==0?12:s.hour%12);case"hh":return this.num(s.hour%12==0?12:s.hour%12,2);case"H":return this.num(s.hour);case"HH":return this.num(s.hour,2);case"Z":return r({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return r({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return s.zone.offsetName(s.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return s.zone.offsetName(s.ts,{format:"long",locale:this._loc.locale})||"";case"z":return s.zoneName||"";case"a":return e?Yo[s.hour<12?0:1]:a({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return o?a({day:"numeric"},"day"):this.num(s.day);case"dd":return o?a({day:"2-digit"},"day"):this.num(s.day,2);case"c":case"E":return this.num(s.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return o?a({month:"numeric",day:"numeric"},"month"):this.num(s.month);case"LL":return o?a({month:"2-digit",day:"numeric"},"month"):this.num(s.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return o?a({month:"numeric"},"month"):this.num(s.month);case"MM":return o?a({month:"2-digit"},"month"):this.num(s.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return o?a({year:"numeric"},"year"):this.num(s.year);case"yy":return o?a({year:"2-digit"},"year"):this.num(parseInt(s.year.toString().slice(-2),10),2);case"yyyy":return o?a({year:"numeric"},"year"):this.num(s.year,4);case"yyyyyy":return o?a({year:"numeric"},"year"):this.num(s.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(parseInt(s.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(s.weekYear,4);case"W":return this.num(s.weekNumber);case"WW":return this.num(s.weekNumber,2);case"o":return this.num(s.ordinal);case"ooo":return this.num(s.ordinal,3);case"q":return this.num(s.quarter);case"qq":return this.num(s.quarter,2);case"X":return this.num(Math.floor(s.ts/1e3));case"x":return this.num(s.ts);default:return u(k)}})}formatDateTimeParts(s,i){return this.dtFormatter(s,i).formatToParts()}formatDurationFromString(s,i){const e=r=>{switch(r[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},o=ut.parseFormat(i),a=o.reduce((r,{literal:l,val:c})=>l?r:r.concat(c),[]);return ps(o,(r=>l=>{const c=e(l);return c?this.num(r.get(c),l.length):l})(s.shiftTo(...a.map(e).filter(r=>!!r))))}formatInterval(s,i={}){if(!s.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(s.start,i).dtf.formatRange(s.start.toJSDate(),s.end.toJSDate())}formatWithSystemDefault(s,i){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(s,Object.assign(Object.assign({},this._opts),i)).format()}num(s,i=0){if(this._opts.forceSimple)return et(s,i);const e=Object.assign({},this._opts);return i>0&&(e.padTo=i),this._loc.numberFormatter(e).format(s)}resolvedOptions(s,i={}){return this.dtFormatter(s,i).resolvedOptions()}}function Ee(...n){const s=n.reduce((i,e)=>i+e.source,"");return RegExp(`^${s}$`)}function Me(...n){return s=>n.reduce(([i,e,o],a)=>{const[r,l,c]=a(s,o);return[Object.assign(Object.assign({},i),r),l||e,c]},[{},null,1]).slice(0,2)}function Ne(n,...s){if(null==n)return[null,null];for(const[i,e]of s){const o=i.exec(n);if(o)return e(o)}return[null,null]}function gs(...n){return(s,i)=>{const e={};let o;for(o=0;o<n.length;o++)e[n[o]]=te(s[i+o]);return[e,null,i+o]}}const hs=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,fs=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,xi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bs=RegExp(`${xi.source}(?:${fs.source}?(?:\\[(${hs.source})\\])?)?`),Ci=RegExp(`(?:T${bs.source})?`),id=gs("weekYear","weekNumber","weekday"),od=gs("year","ordinal"),vs=RegExp(`${xi.source} ?(?:${fs.source}|(${hs.source}))?`),sd=RegExp(`(?: ${vs.source})?`);function Ge(n,s,i){return bt(n[s])?i:te(n[s])}function De(n,s){return[{hour:Ge(n,s,0),minute:Ge(n,s+1,0),second:Ge(n,s+2,0),millisecond:bi(n[s+3])},null,s+4]}function Ke(n,s){const i=!n[s]&&!n[s+1],e=$n(n[s+1],n[s+2]);return[{},i?null:gt.instance(e),s+3]}function tn(n,s){return[{},n[s]?Xt.create(n[s]):null,s+1]}const ad=RegExp(`^T?${xi.source}$`),rd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ld(n){const[s,i,e,o,a,r,l,c,d]=n,u=s.startsWith("-"),g=!!c&&c.startsWith("-"),k=(v,j=!1)=>"number"==typeof v&&(j||v&&u)?-v:v;return[{years:k(de(i)),months:k(de(e)),weeks:k(de(o)),days:k(de(a)),hours:k(de(r)),minutes:k(de(l)),seconds:k(de(c),"-0"===c),milliseconds:k(bi(d),g)}]}const cd={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ti(n,s,i,e,o,a,r){let l;return n&&(l=n.length>3?Po.indexOf(n)+1:Ao.indexOf(n)+1),{year:2===s.length?ms(te(s)):te(s),month:$o.indexOf(i)+1,day:te(e),hour:te(o),minute:te(a),second:te(r),weekday:l}}const md=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function dd(n){const[,s,i,e,o,a,r,l,c,d,u,g]=n,k=Ti(s,o,e,i,a,r,l);let v;return v=c?cd[c]:d?0:$n(u,g),[k,new gt(v)]}const _d=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ud=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,pd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ks(n){const[,s,i,e,o,a,r,l]=n;return[Ti(s,o,e,i,a,r,l),gt.utcInstance]}function gd(n){const[,s,i,e,o,a,r,l]=n;return[Ti(s,l,i,e,o,a,r),gt.utcInstance]}const hd=Ee(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ci),fd=Ee(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ci),bd=Ee(/(\d{4})-?(\d{3})/,Ci),vd=Ee(bs),xs=Me(function(n,s){return[{year:Ge(n,s,0),month:Ge(n,s+1,1),day:Ge(n,s+2,1)},null,s+3]},De,Ke,tn),kd=Me(id,De,Ke,tn),xd=Me(od,De,Ke,tn),Cd=Me(De,Ke,tn),Td=Ee(/(\d{4})-(\d\d)-(\d\d)/,sd),Sd=Ee(vs),Id=Me(De,Ke,tn),Cs={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},yd=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Cs),wd=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Cs);function Ts(n,s){var i;let e=null!==(i=s.milliseconds)&&void 0!==i?i:0;for(const o of ki.slice(1))s[o]&&(e+=s[o]*n[o].milliseconds);return e}class N{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(s){let i,e;"longterm"===s.conversionAccuracy?(e="longterm",i=wd):(e="casual",i=yd),s.matrix&&(i=s.matrix),this._values=s.values||{},this._loc=s.loc||V.create(),this._conversionAccuracy=e,this._invalid=s.invalid||null,this._matrix=i,this._isLuxonDuration=!0}static fromDurationLike(s){if(Ut(s))return N.fromMillis(s);if(N.isDuration(s))return s;if("object"==typeof s)return N.fromObject(s);throw new _t(`Unknown duration argument ${s} of type ${typeof s}`)}static fromISO(s,i){const[e]=Ne(s,[rd,ld]);return e?N.fromObject(e,i):N.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromISOTime(s,i={}){const[e]=Ne(s,[ad,Me(De)]);return e?N.fromObject(e,i):N.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromMillis(s,i={}){return N.fromObject({milliseconds:s},i)}static fromObject(s,i={}){if(null==s||"object"!=typeof s)throw new _t("Duration.fromObject: argument expected to be an object, got "+(null===s?"null":typeof s));return new N({values:zn(s,N.normalizeUnit),loc:V.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static invalid(s,i){if(!s)throw new _t("need to specify a reason the Duration is invalid");const e=s instanceof Ft?s:new Ft(s,i);if(K.throwOnInvalid)throw new Lm(e);return new N({invalid:e})}static isDuration(s){return!!s&&s._isLuxonDuration||!1}static normalizeUnit(s){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[s];if(!i)throw new In(s);return i}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(s){return this.shiftTo(s).get(s)}equals(s){if(!this.isValid||!s.isValid||!this._loc.equals(s._loc))return!1;for(const o of _e)if(e=s._values[o],!(void 0===(i=this._values[o])||0===i?void 0===e||0===e:i===e))return!1;var i,e;return!0}get(s){return this[N.normalizeUnit(s)]}getMaxUnit(s=!1){const i=s?us:_e,e=this.shiftTo(...i).toObject();return i.find(o=>(e[o]||0)>0)||ki[0]}mapUnits(s){if(!this.isValid)return this;const i={};return Object.keys(this._values).forEach(e=>{i[e]=_s(s(this._values[e],e))}),this._clone(this,{values:i},!0)}minus(s){if(!this.isValid)return this;const i=N.fromDurationLike(s);return this.plus(i.negate())}negate(){if(!this.isValid)return this;const s={};return Object.keys(this._values).forEach(i=>{s[i]=0===this._values[i]?0:-this._values[i]}),this._clone(this,{values:s},!0)}normalize(){if(!this.isValid)return this;const s=this.toObject();return function(i,e){const o=Ts(i,e)<0?-1:1;ki.reduce((a,r)=>{if(bt(e[r]))return a;if(a){const c=i[r][a],d=Math.floor(e[a]*o/c);e[r]+=d*o,e[a]-=d*c*o}return r},null),_e.reduce((a,r)=>{if(bt(e[r]))return a;if(a){const l=e[a]%1;e[a]-=l,e[r]+=l*i[a][r]}return r},null)}(this._matrix,s),this._clone(this,{values:s},!0)}plus(s){if(!this.isValid)return this;const i=N.fromDurationLike(s),e={};return _e.forEach(o=>{void 0===i._values[o]&&void 0===this._values[o]||(e[o]=i.get(o)+this.get(o))}),this._clone(this,{values:e},!0)}reconfigure({locale:s,numberingSystem:i,conversionAccuracy:e,matrix:o}={}){const a={loc:this._loc.clone({locale:s,numberingSystem:i}),matrix:o,conversionAccuracy:e};return this._clone(this,a)}rescale(){if(!this.isValid)return this;const s=function(i={}){return Object.entries(i).reduce((e,[o,a])=>(0!==a&&(e[o]=a),e),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:s},!0)}set(s){if(!this.isValid)return this;const i=Object.assign(Object.assign({},this._values),zn(s,N.normalizeUnit));return this._clone(this,{values:i})}shiftTo(...s){if(!this.isValid||0===s.length)return this;s=s.map(r=>N.normalizeUnit(r));const i={},e={},o=this.toObject();let a;return _e.forEach(r=>{if(s.indexOf(r)>=0){a=r;let l=0;Object.keys(e).forEach(d=>{l+=this._matrix[d][r]*e[d],e[d]=0}),Ut(o[r])&&(l+=o[r]);const c=Math.trunc(l);i[r]=c,e[r]=(1e3*l-1e3*c)/1e3}else Ut(o[r])&&(e[r]=o[r])}),Object.keys(e).forEach(r=>{const l=e[r];0!==l&&(i[a]+=r===a?l:l/this._matrix[a][r])}),this._clone(this,{values:i},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(s,i={floor:!0}){const e=Object.assign(Object.assign({},i),{floor:!1!==i.round&&!1!==i.floor});return this.isValid?ut.create(this._loc,e).formatDurationFromString(this,s):N._INVALID}toHuman(s={}){if(!this.isValid)return N._INVALID;const i=this.getMaxUnit(!0),e=s.onlyHumanUnits?us:_e,o=this.shiftTo(...e.slice(e.indexOf(i))).toObject(),a=e.map(l=>{const c=o[l];return bt(c)||0===c?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},s),{unit:l.slice(0,-1)})).format(c)}).filter(l=>l),r=Object.assign({type:"conjunction",style:s.listStyle||"narrow"},s);return this._loc.listFormatter(r).format(a)}toISO(){if(!this.isValid)return null;let s="P";return 0!==this.years&&(s+=this.years+"Y"),0===this.months&&0===this.quarters||(s+=this.months+3*this.quarters+"M"),0!==this.weeks&&(s+=this.weeks+"W"),0!==this.days&&(s+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(s+="T"),0!==this.hours&&(s+=this.hours+"H"),0!==this.minutes&&(s+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(s+=vi(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===s&&(s+="T0S"),s}toISOTime(s={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(s=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},s),{includeOffset:!1}),C.fromMillis(i,{zone:"UTC"}).toISOTime(s))}toJSON(){return this.toISO()}toMillis(){return this.isValid?Ts(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(s,i,e=!1){const o={values:e?i.values:Object.assign(Object.assign({},s._values),i.values||{}),loc:s._loc.clone(i.loc),conversionAccuracy:i.conversionAccuracy||s.conversionAccuracy,matrix:i.matrix||s.matrix};return new N(o)}}const $e="Invalid Interval";function en(n){if(C.isDateTime(n))return n;if(n&&n.valueOf&&Ut(n.valueOf()))return C.fromJSDate(n);if(n&&"object"==typeof n)return C.fromObject(n);throw new _t(`Unknown datetime argument: ${n}, of type ${typeof n}`)}class U{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(s){this._s=s.start,this._e=s.end,this._invalid=s.invalid||null,this._isLuxonInterval=!0}static after(s,i){const e=N.fromDurationLike(i),o=en(s);return new U({start:o,end:o?o.plus(e):void 0})}static before(s,i){const e=N.fromDurationLike(i),o=en(s);return new U({start:o?o.minus(e):void 0,end:o})}static fromDateTimes(s,i){const e=en(s),o=en(i);return l=o,((r=e)&&r.isValid?l&&l.isValid?l<r?U.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${l.toISO()}`):void 0:U.invalid("missing or invalid end"):U.invalid("missing or invalid start"))||new U({start:e,end:o});var r,l}static fromISO(s,i={}){const[e,o]=(s||"").split("/",2);if(e&&o){let a,r,l,c;try{a=C.fromISO(e,i),r=a.isValid}catch{r=!1}try{l=C.fromISO(o,i),c=l.isValid}catch{c=!1}if(r&&c)return U.fromDateTimes(a,l);if(r){const d=N.fromISO(o,i);if(d.isValid)return U.after(a,d)}else if(c){const d=N.fromISO(e,i);if(d.isValid)return U.before(l,d)}}return U.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static invalid(s,i){if(!s)throw new _t("need to specify a reason the Interval is invalid");const e=s instanceof Ft?s:new Ft(s,i);if(K.throwOnInvalid)throw new Ym(e);return new U({invalid:e})}static isInterval(s){return!!s&&s._isLuxonInterval||!1}static merge(s){const[i,e]=s.sort((o,a)=>o._s.valueOf()-a._s.valueOf()).reduce(([o,a],r)=>a?a.overlaps(r)||a.abutsStart(r)?[o,a.union(r)]:[o.concat([a]),r]:[o,r],[[],null]);return e&&i.push(e),i}static xor(s){let i=null,e=0;const o=[],a=s.map(l=>[{time:l._s,type:"s"},{time:l._e,type:"e"}]),r=Array.prototype.concat(...a).sort((l,c)=>+l.time-+c.time);for(const l of r)e+="s"===l.type?1:-1,1===e?i=l.time:(i&&i.valueOf()!==l.time.valueOf()&&o.push(U.fromDateTimes(i,l.time)),i=null);return U.merge(o)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(s){return+s._e==+this._s}abutsStart(s){return+this._e==+s._s}contains(s){return this._s<=s&&this._e>s}count(s="milliseconds",i){if(!this.isValid)return NaN;const e=this.start.startOf(s,i);let o;return o=i?.useLocaleWeeks?this.end.reconfigure({locale:e.locale}):this.end,o=o.startOf(s,i),Math.floor(o.diff(e,s).get(s))+ +(o.valueOf()!==this.end.valueOf())}difference(...s){return U.xor([this].concat(s)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}divideEqually(s){return this.isValid?this.splitBy({milliseconds:this.length()/s}).slice(0,s):[]}engulfs(s){return!!this.isValid&&this._s<=s._s&&this._e>=s._e}equals(s){return!(!this.isValid||!s.isValid)&&this._s.equals(s._s)&&this._e.equals(s._e)}hasSame(s){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,s))}intersection(s){if(!this.isValid)return this;const i=this._s>s._s?this._s:s._s,e=this._e<s._e?this._e:s._e;return i>=e?null:U.fromDateTimes(i,e)}isAfter(s){return!!this.isValid&&this._s>s}isBefore(s){return!!this.isValid&&this._e<=s}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(s="milliseconds"){return this.toDuration(s).get(s)}mapEndpoints(s){return U.fromDateTimes(s(this._s),s(this._e))}overlaps(s){return this._e>s._s&&this._s<s._e}set({start:s,end:i}={}){return this.isValid?U.fromDateTimes(s||this._s,i||this._e):this}splitAt(...s){const i=s.map(en).filter(r=>this.contains(r)).sort((r,l)=>r.toMillis()-l.toMillis()),e=[];let o=this._s,a=0;for(;o<this._e;){const r=i[a]||this._e,l=+r>+this._e?this._e:r;e.push(U.fromDateTimes(o,l)),o=l,a+=1}return e}splitBy(s){const i=N.fromDurationLike(s);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];let e,o=this._s,a=1;const r=[];for(;o<this._e;){const l=this.start.plus(i.mapUnits(c=>c*a));e=+l>+this._e?this._e:l,r.push(U.fromDateTimes(o,e)),o=e,a+=1}return r}toDuration(s="milliseconds",i={}){return this.isValid?this._e.diff(this._s,s,i):N.invalid(this._invalid.reason)}toFormat(s,{separator:i=" - "}={}){return this.isValid?`${this._s.toFormat(s)}${i}${this._e.toFormat(s)}`:$e}toISO(s={}){return this.isValid?`${this._s.toISO(s)}/${this._e.toISO(s)}`:$e}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:$e}toISOTime(s={}){return this.isValid?`${this._s.toISOTime(s)}/${this._e.toISOTime(s)}`:$e}toLocaleString(s=wn,i={}){return this.isValid?ut.create(this._s.loc.clone(i),s).formatInterval(this):$e}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:$e}union(s){return this.isValid?U.fromDateTimes(this._s<s._s?this._s:s._s,this._e>s._e?this._e:s._e):this}}class nn{static eras(s="short",{locale:i}={}){return V.create(i,void 0,"gregory").eras(s)}static features(){return{relative:as(),localeWeek:rs()}}static getMinimumDaysInFirstWeek({locale:s,locObj:i}={}){return(i||V.create(s)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:s,locObj:i}={}){return(i||V.create(s)).getStartOfWeek()}static getWeekendWeekdays({locale:s,locObj:i}={}){return(i||V.create(s)).getWeekendDays().slice()}static hasDST(s=K.defaultZone){const i=C.now().setZone(s).set({month:12});return!s.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(s){return Xt.isValidZone(s)}static meridiems({locale:s}={}){return V.create(s).meridiems()}static months(s="long",{locale:i=null,locObj:e=null,numberingSystem:o=null,outputCalendar:a="gregory"}={}){return(e||V.create(i,o,a)).months(s)}static monthsFormat(s="long",{locale:i,locObj:e,numberingSystem:o,outputCalendar:a="gregory"}={}){return(e||V.create(i,o,a)).months(s,!0)}static normalizeZone(s){return Kt(s,K.defaultZone)}static weekdays(s="long",{locale:i,locObj:e,numberingSystem:o}={}){return(e||V.create(i,o)).weekdays(s)}static weekdaysFormat(s="long",{locale:i,locObj:e,numberingSystem:o}={}){return(e||V.create(i,o)).weekdays(s,!0)}}function Ss(n,s){const i=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),e=i(s)-i(n);return Math.floor(N.fromMillis(e).as("days"))}const Si={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Is={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Rd=Si.hanidec.replace(/[\[|\]]/g,"").split("");function Rt(n,s=""){return new RegExp(`${Si[n.numberingSystem||"latn"]}${s}`)}function zt(n,s=(i=>i)){return{regex:n,deser:([i])=>s(function(e){const o=parseInt(e,10);if(!isNaN(o))return o;let a="";for(let r=0;r<e.length;r++){const l=e.charCodeAt(r);if(-1!==e[r].search(Si.hanidec))a+=Rd.indexOf(e[r]);else for(const c in Is){const[d,u]=Is[c];if(l>=d&&l<=u){a+=l-d;break}}}return parseInt(a,10)}(i))}}const ys="[ \xa0]",js=new RegExp(ys,"g");function Md(n){return n.replace(/\./g,"\\.?").replace(js,ys)}function Os(n){return n.replace(/\./g,"").replace(js," ").toLowerCase()}function Et(n,s){return{regex:RegExp(n.map(Md).join("|")),deser:([i])=>n.findIndex(e=>Os(i)===Os(e))+s}}function ws(n,s){return{regex:n,deser:([,i,e])=>$n(i,e),groups:s}}function Fs(n){return{regex:n,deser:([s])=>s}}const Nd={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Ii;function Gd(n){return!!n&&!!n.invalidReason}function Rs(n,s){return Array.prototype.concat(...n.map(i=>function(e,o){if(e.literal)return e;const a=Ns(ut.macroTokenToFormatOpts(e.val),o);return null==a||a.includes(void 0)?e:a}(i,s)))}function Es(n,s,i){const e=Rs(ut.parseFormat(i),n),o=e.map(r=>function(l,c){const d=Rt(c),u=Rt(c,"{2}"),g=Rt(c,"{3}"),k=Rt(c,"{4}"),v=Rt(c,"{6}"),j=Rt(c,"{1,2}"),R=Rt(c,"{1,3}"),G=Rt(c,"{1,6}"),D=Rt(c,"{1,9}"),L=Rt(c,"{2,4}"),w=Rt(c,"{4,6}"),E=Yt=>{return{regex:RegExp((fe=Yt.val,fe.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([Be])=>Be,literal:!0};var fe},Tt=(Yt=>{if(l.literal)return E(Yt);switch(Yt.val){case"G":return Et(c.eras("short"),0);case"GG":return Et(c.eras("long"),0);case"y":return zt(G);case"yy":case"kk":return zt(L,ms);case"yyyy":case"kkkk":return zt(k);case"yyyyy":return zt(w);case"yyyyyy":return zt(v);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return zt(j);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return zt(u);case"MMM":return Et(c.months("short",!0),1);case"MMMM":return Et(c.months("long",!0),1);case"LLL":return Et(c.months("short",!1),1);case"LLLL":return Et(c.months("long",!1),1);case"o":case"S":return zt(R);case"ooo":case"SSS":return zt(g);case"u":return Fs(D);case"a":return Et(c.meridiems(),0);case"E":case"c":return zt(d);case"EEE":return Et(c.weekdays("short",!1),1);case"EEEE":return Et(c.weekdays("long",!1),1);case"ccc":return Et(c.weekdays("short",!0),1);case"cccc":return Et(c.weekdays("long",!0),1);case"Z":case"ZZ":return ws(new RegExp(`([+-]${j.source})(?::(${u.source}))?`),2);case"ZZZ":return ws(new RegExp(`([+-]${j.source})(${u.source})?`),2);case"z":return Fs(/[a-z_+-/]{1,256}?/i);default:return E(Yt)}})(l)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},Tt),{token:l})}(r,n)),a=o.find(Gd);if(a)return{input:s,tokens:e,invalidReason:a.invalidReason};{const r=`^${o.map(j=>j.regex).reduce((j,R)=>`${j}(${R.source})`,"")}$`,l=RegExp(r,"i"),[c,d]=function(v,j,R){const G=j.exec(v),D={};if(null!==G){let L=1;R.forEach(w=>{const E=w.groups?w.groups+1:1;w.literal||(D[w.token.val[0]]=w.deser(G.slice(L,L+E))),L+=E})}return[G,D]}(s,l,o),[u,g,k]=d?function(v){let j,R=null;return A(v.z)&&(R=Xt.create(v.z)),A(v.Z)&&(R||(R=new gt(+v.Z)),j=+v.Z),A(v.q)&&(v.M=3*(v.q-1)+1),A(v.h)&&(+v.h<12&&1===v.a?v.h=v.h+12:12===v.h&&0===v.a&&(v.h=0)),0===v.G&&v.y&&(v.y=-v.y),A(v.u)&&(v.S=bi(v.u)||0),[Object.keys(v).reduce((G,D)=>{const L=(w=>{switch(w){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(D);return L&&(G[L]=v[D]),G},{}),R,j]}(d):[null,null,void 0];if("a"in d&&"H"in d)throw new Zt("Can't include meridiem when specifying 24-hour format");return{input:s,tokens:e,regex:l,rawMatches:c,matches:d,result:u,zone:g,specificOffset:k}}}function Ms(n){return n.replace(/\u202F/g," ")}function Ns(n,s){if(!n)return null;const i=ut.create(s,n).dtFormatter((void 0===Ii&&(Ii=C.fromMillis(1555555555555,{locale:s.locale})),Ii)),e=i.formatToParts(),o=i.resolvedOptions();return e.map(a=>function(r,l,c){const{type:d,value:u}=r;if("literal"===d){const j=/^\s+$/.test(u);return{literal:!j,val:j?" ":u}}let k=d;"hour"===d&&(k=null!=l.hour12?l.hour12?"hour12":"hour24":null!=l.hourCycle?"h11"===l.hourCycle||"h12"===l.hourCycle?"hour12":"hour24":c.hour12?"hour12":"hour24");let v=Nd[k];if("object"==typeof v&&(v=v[l[d]]),v)return{literal:!1,val:v}}(a,n,o))}const yi="Invalid DateTime",Gs=864e13;function Ds(n,s,i){let e=n-60*s*1e3;const o=i.offset(e);if(s===o)return[e,s];e-=60*(o-s)*1e3;const a=i.offset(e);return o===a?[e,o]:[n-60*Math.min(o,a)*1e3,Math.max(o,a)]}function An(n,s){const i=new Date(n+=60*s*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Ln(n,s,i){return Ds(Dn(n),s,i)}function on(n,s,i,e,o,a){const{setZone:r,zone:l}=i;if(n&&0!==Object.keys(n).length||s){const c=s||l,d=C.fromObject(n||void 0,Object.assign(Object.assign({},i),{zone:c,specificOffset:a}));return r?d:d.setZone(l)}return C.invalid(new Ft("unparsable",`the input "${o}" can't be parsed as ${e}`))}function Yn(n,s,i=!0){return n.isValid?ut.create(V.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,s):null}const $s={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Dd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$d={ordinal:1,hour:0,minute:0,second:0,millisecond:0},zs=["year","month","day","hour","minute","second","millisecond"],zd=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Pd=["year","ordinal","hour","minute","second","millisecond"];function Ps(n){const s=ed[n.toLowerCase()];if(!s)throw new In(n);return s}class C{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return Gn(this.year,this.month)}get daysInYear(){return this.isValid?Re(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return qe(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?nn.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?nn.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?gi(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?nn.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?nn.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?Qe(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?Qe(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(s){const i=s.zone||K.defaultZone;let e,o,a=s.invalid||(Number.isNaN(s.ts)?new Ft("invalid timestamp"):null)||(i.isValid?null:C._unsupportedZone(i));if(this._ts=bt(s.ts)?K.now():s.ts,!a)if(s.old&&s.old.ts===this._ts&&s.old.zone.equals(i))[o,e]=[s.old.c,s.old.o];else{const r=i.offset(this._ts);o=An(this._ts,r),a=Number.isNaN(o.year)?new Ft("invalid input"):null,o=a?void 0:o,e=a?void 0:r}this._zone=i,this._loc=s.loc||V.create(),this._invalid=a,this._weekData=null,this._c=o,this._o=e,this._isLuxonDateTime=!0}static expandFormat(s,i={}){return Rs(ut.parseFormat(s),V.fromObject(i)).map(e=>e.val).join("")}static fromFormat(s,i,e={}){if(bt(s)||bt(i))throw new _t("fromFormat requires an input string and a format");const{locale:o,numberingSystem:a}=e,r=V.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0}),[l,c,d,u]=function(g,k,v){const{result:j,zone:R,specificOffset:G,invalidReason:D}=Es(g,Ms(k),Ms(v));return[j,R,G,D]}(r,s,i);return u?C.invalid(u):on(l,c||null,e,`format ${i}`,s,d)}static fromFormatExplain(s,i,e={}){const{locale:o,numberingSystem:a}=e;return Es(V.fromOpts({locale:o,numberingSystem:a,defaultToEN:!0}),s,i)}static fromHTTP(s,i={}){const[e,o]=Ne(s,[_d,ks],[ud,ks],[pd,gd]);return on(e,o,i,"HTTP",s)}static fromISO(s,i={}){const[e,o]=Ne(s,[hd,xs],[fd,kd],[bd,xd],[vd,Cd]);return on(e,o,i,"ISO 8601",s)}static fromJSDate(s,i={}){const e="[object Date]"===Object.prototype.toString.call(s)?s.valueOf():NaN;if(Number.isNaN(e))return C.invalid("invalid input");const a=Kt(i.zone,K.defaultZone);return a.isValid?new C({ts:e,zone:a,loc:V.fromObject(i)}):C.invalid(C._unsupportedZone(a))}static fromMillis(s,i={}){if(Ut(s))return s<-Gs||s>Gs?C.invalid("Timestamp out of range"):new C({ts:s,zone:Kt(i.zone,K.defaultZone),loc:V.fromObject(i)});throw new _t(`fromMillis requires a numerical input, but received a ${typeof s} with value ${s}`)}static fromObject(s={},i={}){const e=Kt(i.zone,K.defaultZone);if(!e.isValid)return C.invalid(C._unsupportedZone(e));const o=V.fromObject(i),a=zn(s,Ps),r=K.now(),l=Ut(i.specificOffset)?i.specificOffset:e.offset(r),c=A(a.ordinal),d=A(a.year),u=A(a.month)||A(a.day),g=d||u,k=a.weekYear||a.weekNumber;if((g||c)&&k)throw new Zt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&c)throw new Zt("Can't mix ordinal dates with month/day");const v=k||a.weekday&&!g,{minDaysInFirstWeek:j,startOfWeek:R}=ss(a,o),G=An(r,l),D={containsGregor:g,containsOrdinal:c,loc:o,normalized:a,obj:s,offsetProvis:l,useWeekData:v,zoneToUse:e};return v?C._buildObject(D,zd,Dd,Mn(G,j,R)):c?C._buildObject(D,Pd,$d,gi(G)):C._buildObject(D,zs,$s,G)}static fromRFC2822(s,i={}){const[e,o]=Ne(s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[md,dd]);return on(e,o,i,"RFC 2822",s)}static fromSQL(s,i={}){const[e,o]=Ne(s,[Td,xs],[Sd,Id]);return on(e,o,i,"SQL",s)}static fromSeconds(s,i={}){if(!Ut(s))throw new _t("fromSeconds requires a numerical input");return new C({ts:1e3*s,zone:Kt(i.zone,K.defaultZone),loc:V.fromObject(i)})}static fromString(s,i,e={}){return C.fromFormat(s,i,e)}static fromStringExplain(s,i,e={}){return C.fromFormatExplain(s,i,e)}static invalid(s,i){if(!s)throw new _t("need to specify a reason the DateTime is invalid");const e=s instanceof Ft?s:new Ft(s,i);if(K.throwOnInvalid)throw new Am(e);return new C({invalid:e})}static isDateTime(s){return!(!s||!s._isLuxonDateTime)}static local(...s){const[i,e]=this._lastOpts(s),[o,a,r,l,c,d,u]=e;return C._quickDT({year:o,month:a,day:r,hour:l,minute:c,second:d,millisecond:u},i)}static max(...s){if(!s.every(C.isDateTime))throw new _t("max requires all arguments be DateTimes");return ls(s,i=>i.valueOf(),Math.max)}static min(...s){if(!s.every(C.isDateTime))throw new _t("min requires all arguments be DateTimes");return ls(s,i=>i.valueOf(),Math.min)}static now(){return new C({})}static parseFormatForOpts(s,i={}){const e=Ns(s,V.fromObject(i));return e?e.map(o=>o?o.val:null).join(""):null}static utc(...s){const[i,e]=this._lastOpts(s),[o,a,r,l,c,d,u]=e;return i.zone=gt.utcInstance,this._quickDT({year:o,month:a,day:r,hour:l,minute:c,second:d,millisecond:u},i)}static _buildObject(s,i,e,o){let a=!1;i.forEach(g=>{A(s.normalized[g])?a=!0:s.normalized[g]=a?e[g]:o[g]});const r=(s.useWeekData?function(g,k=4,v=1){const j=Nn(g.weekYear),R=jt(g.weekNumber,1,Qe(g.weekYear,k,v)),G=jt(g.weekday,1,7);return j?R?!G&&yt("weekday",g.weekday):yt("week",g.weekNumber):yt("weekYear",g.weekYear)}(s.normalized):s.containsOrdinal?function(g){const k=Nn(g.year),v=jt(g.ordinal,1,Re(g.year));return k?!v&&yt("ordinal",g.ordinal):yt("year",g.year)}(s.normalized):is(s.normalized))||os(s.normalized);if(r)return C.invalid(r);const l=s.useWeekData?es(s.normalized):s.containsOrdinal?ns(s.normalized):s.normalized,[c,d]=Ln(l,s.offsetProvis,s.zoneToUse),u=new C({ts:c,zone:s.zoneToUse,o:d,loc:s.loc});return s.normalized.weekday&&s.containsGregor&&s.obj.weekday!==u.weekday?C.invalid("mismatched weekday",`you can't specify both a weekday of ${s.normalized.weekday} and a date of ${u.toISO()}`):u.isValid?u:C.invalid(u._invalid)}static _diffRelative(s,i,e){const o=!!bt(e.round)||e.round,a=(l,c)=>(l=vi(l,o||e.calendary?0:2,!0),i._loc.clone(e).relFormatter(e).format(l,c)),r=l=>e.calendary?i.hasSame(s,l)?0:i.startOf(l).diff(s.startOf(l),l).get(l):i.diff(s,l).get(l);if(e.unit)return a(r(e.unit),e.unit);for(const l of e.units){const c=r(l);if(Math.abs(c)>=1)return a(c,l)}return a(s>i?-0:0,e.units[e.units.length-1])}static _lastOpts(s){let i,e={};return s.length>0&&"object"==typeof s[s.length-1]?(e=s.pop(),i=s):i=Array.from(s),[e,i]}static _quickDT(s,i){const e=Kt(i.zone,K.defaultZone),o=V.fromObject(i),a=K.now();let r,l;if(A(s.year)){for(const u of zs)bt(s[u])&&(s[u]=$s[u]);const c=is(s)||os(s);if(c)return C.invalid(c);const d=e.offset(a);[r,l]=Ln(s,d,e)}else r=a;return new C({ts:r,zone:e,loc:o,o:l})}static _unsupportedZone(s){return new Ft("unsupported zone",`the zone "${s.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(s,i="milliseconds",e={}){if(!this.isValid||!s.isValid)return N.invalid(this.invalidReason||s.invalidReason,"created by diffing an invalid DateTime");const o=(l=i,Array.isArray(l)?l:[l]).map(N.normalizeUnit),a=s.valueOf()>this.valueOf(),r=((n,s,i,e)=>{let[o,a,r,l]=function(g,k,v){const j=[["years",(w,E)=>E.year-w.year],["quarters",(w,E)=>E.quarter-w.quarter+4*(E.year-w.year)],["months",(w,E)=>E.month-w.month+12*(E.year-w.year)],["weeks",(w,E)=>{const Tt=Ss(w,E);return(Tt-Tt%7)/7}],["days",Ss]],R={},G=g;let D,L;for(const[w,E]of j)v.indexOf(w)>=0&&(D=w,R[w]=E(g,k),L=G.plus(R),L>k?(R[w]--,(g=G.plus(R))>k&&(L=g,R[w]--,g=G.plus(R))):g=L);return[g,R,L,D]}(n,s,i);const c=+s-+o,d=i.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);0===d.length&&(r<s&&(r=o.plus({[l]:1})),r!==o&&(a[l]=(a[l]||0)+c/(+r-+o)));const u=N.fromObject(a,e);return d.length>0?N.fromMillis(c,e).shiftTo(...d).plus(u):u})(a?this:s,a?s:this,o,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},e));var l;return a?r.negate():r}diffNow(s="milliseconds",i={}){return this.diff(C.now(),s,i)}endOf(s,{useLocaleWeeks:i=!1}={}){return this.plus({[s]:1}).startOf(s,{useLocaleWeeks:i}).minus({milliseconds:1})}equals(s){return this.valueOf()===s.valueOf()&&this.zone.equals(s.zone)&&this._loc.equals(s._loc)}get(s){return this[s]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const s=864e5,i=6e4,e=Dn(this._c),o=this.zone.offset(e-s),a=this.zone.offset(e+s),r=this.zone.offset(e-o*i),l=this.zone.offset(e-a*i);if(r===l)return[this];const c=e-r*i,d=e-l*i,u=An(c,r),g=An(d,l);return u.hour===g.hour&&u.minute===g.minute&&u.second===g.second&&u.millisecond===g.millisecond?[this._clone({ts:c}),this._clone({ts:d})]:[this]}hasSame(s,i,e){if(!this.isValid)return!1;const o=s.valueOf(),a=this.setZone(s.zone,{keepLocalTime:!0});return+a.startOf(i)<=o&&o<=+a.endOf(i,e)}minus(s){if(!this.isValid)return this;const i=N.fromDurationLike(s).negate();return this._clone(this._adjustTime(i))}plus(s){if(!this.isValid)return this;const i=N.fromDurationLike(s);return this._clone(this._adjustTime(i))}reconfigure(s){const i=this._loc.clone(s);return this._clone({loc:i})}resolvedLocaleOptions(s={}){const{locale:i,numberingSystem:e,calendar:o}=ut.create(this._loc.clone(s),s).resolvedOptions(this);return{locale:i,numberingSystem:e,outputCalendar:o}}set(s){if(!this.isValid)return this;const i=zn(s,Ps),{minDaysInFirstWeek:e,startOfWeek:o}=ss(i,this.loc),a=A(i.weekYear)||A(i.weekNumber)||A(i.weekday),r=A(i.ordinal),l=A(i.year),c=A(i.month)||A(i.day);if((l||c||r)&&(i.weekYear||i.weekNumber))throw new Zt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&r)throw new Zt("Can't mix ordinal dates with month/day");let g;a?g=es(Object.assign(Object.assign({},Mn(this._c,e,o)),i),e,o):bt(i.ordinal)?(g=Object.assign(Object.assign({},this.toObject()),i),bt(i.day)&&(g.day=Math.min(Gn(g.year,g.month),g.day))):g=ns(Object.assign(Object.assign({},gi(this._c)),i));const[k,v]=Ln(g,this._o,this.zone);return this._clone({ts:k,o:v})}setLocale(s){return this.reconfigure({locale:s})}setZone(s,{keepLocalTime:i=!1,keepCalendarTime:e=!1}={}){if((s=Kt(s,K.defaultZone)).equals(this.zone))return this;if(s.isValid){let o=this._ts;if(i||e){const a=s.offset(this._ts);o=Ln(this.toObject(),a,s)[0]}return this._clone({ts:o,zone:s})}return C.invalid(C._unsupportedZone(s))}startOf(s,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const e={},o=N.normalizeUnit(s);switch(o){case"years":e.month=1;case"quarters":case"months":e.day=1;case"weeks":case"days":e.hour=0;case"hours":e.minute=0;case"minutes":e.second=0;case"seconds":e.millisecond=0}if("weeks"===o)if(i){const a=this.loc.getStartOfWeek(),{weekday:r}=this;r<a&&(e.weekNumber=this.weekNumber-1),e.weekday=a}else e.weekday=1;if("quarters"===o){const a=Math.ceil(this.month/3);e.month=3*(a-1)+1}return this.set(e)}toBSON(){return this.toJSDate()}toFormat(s,i={}){return this.isValid?ut.create(this._loc.redefaultToEN(i)).formatDateTimeFromString(this,s):yi}toHTTP(){return Yn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:s="extended",suppressSeconds:i=!1,suppressMilliseconds:e=!1,includeOffset:o=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const r="extended"===s;return[this._toISODate(r),"T",this._toISOTime(r,i,e,o,a)].join("")}toISODate({format:s="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===s):null}toISOTime({suppressMilliseconds:s=!1,suppressSeconds:i=!1,includeOffset:e=!0,includePrefix:o=!1,extendedZone:a=!1,format:r="extended"}={}){return this.isValid?[o?"T":"",this._toISOTime("extended"===r,i,s,e,a)].join(""):null}toISOWeekDate(){return Yn(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(K.defaultZone)}toLocaleParts(s={}){return this.isValid?ut.create(this._loc.clone(s),s).formatDateTimeParts(this):[]}toLocaleString(s=wn,i={}){return this.isValid?ut.create(this._loc.clone(i),s).formatDateTime(this):yi}toMillis(){return this.isValid?this.ts:NaN}toObject(s={includeConfig:!1}){if(!this.isValid)return{};const i=Object.assign({},this._c);return s.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this._loc.numberingSystem,i.locale=this._loc.locale),i}toRFC2822(){return Yn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(s={}){if(!this.isValid)return null;const i=s.base||C.fromObject({},{zone:this.zone}),e=s.padding?this<i?-s.padding:s.padding:0;let o=["years","months","days","hours","minutes","seconds"],a=s.unit;return Array.isArray(s.unit)&&(o=s.unit,a=void 0),C._diffRelative(i,this.plus(e),Object.assign(Object.assign({},s),{numeric:"always",units:o,unit:a}))}toRelativeCalendar(s={}){return this.isValid?C._diffRelative(s.base||C.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},s),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(s={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(s)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:s=!0,includeZone:i=!1,includeOffsetSpace:e=!0}={}){let o="HH:mm:ss.SSS";return(i||s)&&(e&&(o+=" "),i?o+="z":s&&(o+="ZZ")),Yn(this,o,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():yi}toUTC(s=0,i={}){return this.setZone(gt.instance(s),i)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(s){return U.fromDateTimes(this,s)}valueOf(){return this.toMillis()}_adjustTime(s){const i=this._o,e=this._c.year+Math.trunc(s.years),o=this._c.month+Math.trunc(s.months)+3*Math.trunc(s.quarters),a=Object.assign(Object.assign({},this._c),{year:e,month:o,day:Math.min(this._c.day,Gn(e,o))+Math.trunc(s.days)+7*Math.trunc(s.weeks)}),r=N.fromObject({years:s.years-Math.trunc(s.years),quarters:s.quarters-Math.trunc(s.quarters),months:s.months-Math.trunc(s.months),weeks:s.weeks-Math.trunc(s.weeks),days:s.days-Math.trunc(s.days),hours:s.hours,minutes:s.minutes,seconds:s.seconds,milliseconds:s.milliseconds}).as("milliseconds"),l=Dn(a);let[c,d]=Ds(l,i,this.zone);return 0!==r&&(c+=r,d=this.zone.offset(c)),{ts:c,o:d}}_clone(s){const i={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new C(Object.assign(Object.assign(Object.assign({},i),s),{old:i}))}_possiblyCachedLocalWeekData(s){return s._localWeekData||(s._localWeekData=Mn(s._c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s._localWeekData}_possiblyCachedWeekData(s){return null===s._weekData&&(s._weekData=Mn(s._c)),s._weekData}_toISODate(s){const i=this._c.year>9999||this._c.year<0;let e="";return i&&this._c.year>=0&&(e+="+"),e+=et(this._c.year,i?6:4),s?(e+="-",e+=et(this._c.month),e+="-",e+=et(this._c.day)):(e+=et(this._c.month),e+=et(this._c.day)),e}_toISOTime(s,i,e,o,a){let r=et(this._c.hour);return s?(r+=":",r+=et(this._c.minute),0===this._c.millisecond&&0===this._c.second&&i||(r+=":")):r+=et(this._c.minute),0===this._c.millisecond&&0===this._c.second&&i||(r+=et(this._c.second),0===this._c.millisecond&&e||(r+=".",r+=et(this._c.millisecond,3))),o&&(this.isOffsetFixed&&0===this.offset&&!a?r+="Z":this._o<0?(r+="-",r+=et(Math.trunc(-this._o/60)),r+=":",r+=et(Math.trunc(-this._o%60))):(r+="+",r+=et(Math.trunc(this._o/60)),r+=":",r+=et(Math.trunc(this._o%60)))),a&&(r+="["+this.zone.ianaName+"]"),r}}C.DATETIME_FULL=Mo,C.DATETIME_FULL_WITH_SECONDS=No,C.DATETIME_HUGE=Go,C.DATETIME_HUGE_WITH_SECONDS=Do,C.DATETIME_MED=Ro,C.DATETIME_MED_WITH_SECONDS=Eo,C.DATETIME_MED_WITH_WEEKDAY=Xm,C.DATETIME_SHORT=wo,C.DATETIME_SHORT_WITH_SECONDS=Fo,C.DATE_FULL=vo,C.DATE_HUGE=ko,C.DATE_MED=bo,C.DATE_MED_WITH_WEEKDAY=Vm,C.DATE_SHORT=wn,C.TIME_24_SIMPLE=Io,C.TIME_24_WITH_LONG_OFFSET=Oo,C.TIME_24_WITH_SECONDS=yo,C.TIME_24_WITH_SHORT_OFFSET=jo,C.TIME_SIMPLE=xo,C.TIME_WITH_LONG_OFFSET=So,C.TIME_WITH_SECONDS=Co,C.TIME_WITH_SHORT_OFFSET=To;var Mt=p(39471),pe=p(63552),ze=p(71217),sn=p(18447),ji=p(5424),an=p(88249),rn=p(82040),Ad=p(66645),Oi=p(30470),ge=p(4375),wi=p(53904),Ld=p(46192);const Yd=["clockFace"],Bd=["clockHand"],As=["*","*"],Vd=n=>({"clock-face__clock-hand_minute":n}),ln=n=>({transform:n}),Ls=n=>({$implicit:n});function Xd(n,s){if(1&n&&(t.j41(0,"button",10),t.nI1(1,"activeHour"),t.EFF(2),t.nI1(3,"timeLocalizer"),t.k0s()),2&n){const i=s.$implicit,e=t.XpG();t.Y8G("color",t.brH(1,4,i.time,null==e.selectedTime?null:e.selectedTime.time,e.isClockFaceDisabled)?e.color:void 0)("ngStyle",t.eq3(11,ln,"rotateZ(-"+i.angle+"deg)"))("disabled",i.disabled),t.R7$(2),t.SpI(" ",t.i5U(3,8,i.time,e.timeUnit.HOUR)," ")}}function Ud(n,s){if(1&n&&(t.j41(0,"div",13),t.nrm(1,"input",14,4),t.nI1(3,"minutesFormatter"),t.nI1(4,"timeLocalizer"),t.j41(5,"button",10),t.nI1(6,"activeMinute"),t.nI1(7,"activeMinute"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit,e=t.sdS(2),o=t.XpG(2);t.Y8G("ngStyle",t.eq3(24,ln,"rotateZ("+i.angle+"deg)")),t.R7$(),t.Y8G("value",t.i5U(4,11,t.i5U(3,8,i.time,o.minutesGap),o.timeUnit.MINUTE)),t.R7$(4),t.AVh("dot",o.dottedMinutesInGap&&""===e.value&&!t.ii3(6,14,i.time,null==o.selectedTime?null:o.selectedTime.time,1,o.isClockFaceDisabled)),t.Y8G("color",t.ii3(7,19,i.time,null==o.selectedTime?null:o.selectedTime.time,o.minutesGap,o.isClockFaceDisabled)?o.color:void 0)("ngStyle",t.eq3(26,ln,"rotateZ(-"+i.angle+"deg)"))("disabled",i.disabled),t.R7$(3),t.SpI(" ",e.value," ")}}function Hd(n,s){if(1&n&&(t.j41(0,"div",11),t.DNE(1,Ud,9,28,"div",12),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.faceTime)("ngForTrackBy",i.trackByTime)}}function Jd(n,s){1&n&&t.SdG(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Wd(n,s){if(1&n&&(t.j41(0,"div",13),t.DNE(1,Jd,1,0,"ng-content",16),t.k0s()),2&n){const i=s.$implicit;t.XpG(2);const e=t.sdS(1);t.Y8G("ngStyle",t.eq3(3,ln,"rotateZ("+i.angle+"deg)")),t.R7$(),t.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",t.eq3(5,Ls,i))}}function qd(n,s){1&n&&t.SdG(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Qd(n,s){if(1&n&&(t.j41(0,"div",19),t.DNE(1,qd,1,0,"ng-content",16),t.k0s()),2&n){const i=s.$implicit,e=t.XpG(3),o=t.sdS(1);t.xc7("top","calc(50% - "+e.innerClockFaceSize+"px)")("height",e.innerClockFaceSize,"px"),t.Y8G("ngStyle",t.eq3(7,ln,"rotateZ("+i.angle+"deg)")),t.R7$(),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(9,Ls,i))}}function Zd(n,s){if(1&n&&(t.j41(0,"div",17),t.DNE(1,Qd,2,11,"div",18),t.nI1(2,"slice"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",t.brH(2,2,i.faceTime,12,24))("ngForTrackBy",i.trackByTime)}}function Kd(n,s){if(1&n&&(t.j41(0,"div",11),t.DNE(1,Wd,2,7,"div",12),t.nI1(2,"slice"),t.DNE(3,Zd,3,6,"div",15),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",t.brH(2,3,i.faceTime,0,12))("ngForTrackBy",i.trackByTime),t.R7$(2),t.Y8G("ngIf",i.faceTime.length>12)}}function t_(n,s){if(1&n&&(t.j41(0,"button",20),t.nrm(1,"span",21),t.k0s()),2&n){const i=t.XpG();t.Y8G("color",i.color)}}const cn=n=>({active:n});function e_(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",5),t.bIt("@scaleInOut.done",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.animationDone())}),t.j41(1,"p"),t.EFF(2,"Current time would be invalid in this period."),t.k0s()()}2&n&&t.Y8G("@scaleInOut",void 0)}function n_(n,s){if(1&n&&t.DNE(0,e_,3,1,"div",4),2&n){const i=t.XpG();t.Y8G("ngIf",!i.isPeriodAvailable)}}function i_(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",2),t.nI1(1,"timeLocalizer"),t.bIt("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.time=o)})("input",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.updateTime())})("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.saveTimeAndChangeTimeUnit(o,a.timeUnit))}),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(8,cn,i.isActive))("ngModel",t.brH(1,4,i.time,i.timeUnit,!0))("disabled",i.disabled)("ngxMatTimepickerAutofocus",i.isActive)}}function o_(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",3),t.nI1(1,"ngxMatTimepickerParser"),t.nI1(2,"timeLocalizer"),t.bIt("ngModelChange",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onModelChange(o))})("input",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.updateTime())})("focus",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.saveTimeAndChangeTimeUnit(o,a.timeUnit))})("keydown",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onKeydown(o))})("keypress",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.changeTimeByKeyboard(o))}),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(11,cn,i.isActive))("ngModel",t.brH(2,7,t.i5U(1,4,i.time,i.timeUnit),i.timeUnit,!0))("disabled",i.disabled)("ngxMatTimepickerAutofocus",i.isActive)}}const s_=n=>({"timepicker-dial__hint-container--hidden":n});function a_(n,s){if(1&n){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-period",8),t.bIt("periodChanged",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.changePeriod(o))}),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems)}}function r_(n,s){1&n&&t.eu8(0)}function l_(n,s){1&n&&(t.j41(0,"small",11),t.EFF(1," * use arrows ("),t.j41(2,"span"),t.EFF(3,"\u21c5"),t.k0s(),t.EFF(4,") to change the time"),t.k0s())}function c_(n,s){if(1&n&&(t.j41(0,"div",9),t.DNE(1,r_,1,0,"ng-container",10)(2,l_,5,0,"ng-template",null,0,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG();t.Y8G("ngClass",t.eq3(2,s_,!e.isHintVisible)),t.R7$(),t.Y8G("ngTemplateOutlet",e.editableHintTmpl?e.editableHintTmpl:i)}}const m_=["*"];function d_(n,s){1&n&&t.eu8(0)}function __(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,d_,1,0,"ng-container",3),t.k0s()),2&n){t.XpG();const i=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",i)}}function u_(n,s){1&n&&t.eu8(0)}function p_(n,s){if(1&n&&t.DNE(0,u_,1,0,"ng-container",3),2&n){t.XpG();const i=t.sdS(4);t.Y8G("ngTemplateOutlet",i)}}function g_(n,s){1&n&&t.SdG(0)}function h_(n,s){if(1&n&&(t.j41(0,"button",15),t.EFF(1,"CANCEL "),t.k0s()),2&n){const i=t.XpG();t.Y8G("color",i.color)}}function f_(n,s){if(1&n&&(t.j41(0,"button",15),t.EFF(1,"OK "),t.k0s()),2&n){const i=t.XpG();t.Y8G("color",i.color)}}function b_(n,s){if(1&n){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-24-hours-face",17),t.nI1(1,"async"),t.bIt("hourChange",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourSelected(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)}}function v_(n,s){if(1&n){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-12-hours-face",18),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("hourChange",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourSelected(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("period",t.bMT(2,7,i.selectedPeriod))("minTime",i.data.minTime)("maxTime",i.data.maxTime)}}function k_(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,b_,2,7,"ngx-mat-timepicker-24-hours-face",16)(2,v_,3,9,"ng-template",null,2,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG();t.R7$(),t.Y8G("ngIf",24===e.data.format)("ngIfElse",i)}}function x_(n,s){if(1&n){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-minutes-face",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.bIt("minuteChange",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMinuteChange(o))}),t.k0s()}if(2&n){let i;const e=t.XpG();t.Y8G("color",e.color)("dottedMinutesInGap",e.data.dottedMinutesInGap)("selectedMinute",t.bMT(1,9,e.selectedMinute))("selectedHour",null==(i=t.bMT(2,11,e.selectedHour))?null:i.time)("minTime",e.data.minTime)("maxTime",e.data.maxTime)("format",e.data.format)("period",t.bMT(3,13,e.selectedPeriod))("minutesGap",e.data.minutesGap)}}function C_(n,s){1&n&&t.eu8(0)}function T_(n,s){1&n&&t.eu8(0)}function S_(n,s){if(1&n&&(t.j41(0,"button",15),t.EFF(1,"CANCEL "),t.k0s()),2&n){const i=t.XpG();t.Y8G("color",i.color)}}function I_(n,s){if(1&n&&(t.j41(0,"button",15),t.EFF(1,"OK "),t.k0s()),2&n){const i=t.XpG();t.Y8G("color",i.color)}}function y_(n,s){if(1&n){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-24-hours-face",17),t.nI1(1,"async"),t.bIt("hourChange",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourSelected(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)}}function j_(n,s){if(1&n){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-12-hours-face",18),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("hourChange",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.onHourSelected(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("period",t.bMT(2,7,i.selectedPeriod))("minTime",i.data.minTime)("maxTime",i.data.maxTime)}}function O_(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,y_,2,7,"ngx-mat-timepicker-24-hours-face",16)(2,j_,3,9,"ng-template",null,2,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG();t.R7$(),t.Y8G("ngIf",24===e.data.format)("ngIfElse",i)}}function w_(n,s){if(1&n){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-minutes-face",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.bIt("minuteChange",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onMinuteChange(o))}),t.k0s()}if(2&n){let i;const e=t.XpG();t.Y8G("dottedMinutesInGap",e.data.dottedMinutesInGap)("color",e.color)("selectedMinute",t.bMT(1,9,e.selectedMinute))("selectedHour",null==(i=t.bMT(2,11,e.selectedHour))?null:i.time)("minTime",e.data.minTime)("maxTime",e.data.maxTime)("format",e.data.format)("period",t.bMT(3,13,e.selectedPeriod))("minutesGap",e.data.minutesGap)}}function F_(n,s){1&n&&t.eu8(0)}function R_(n,s){1&n&&t.eu8(0)}function E_(n,s){1&n&&t.nrm(0,"ngx-mat-timepicker-provider")}const M_=[[["","ngxMatTimepickerToggleIcon",""]]],N_=["[ngxMatTimepickerToggleIcon]"];function G_(n,s){1&n&&(t.qSk(),t.j41(0,"svg",2),t.nrm(1,"path",3),t.k0s())}const D_=n=>({"ngx-mat-timepicker--disabled":n});function $_(n,s){if(1&n&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i),t.R7$(),t.JRh(i)}}function z_(n,s){if(1&n){const i=t.RV6();t.j41(0,"mat-form-field",9)(1,"mat-select",10),t.bIt("selectionChange",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.changePeriod(o))}),t.DNE(2,$_,2,2,"mat-option",11),t.k0s()()}if(2&n){const i=t.XpG();t.Y8G("color",i.color),t.R7$(),t.Y8G("disabled",i.disabled||i.isChangePeriodDisabled)("ngModel",i.period),t.R7$(),t.Y8G("ngForOf",i.periods)}}function P_(n,s){1&n&&t.eu8(0)}function A_(n,s){if(1&n&&(t.j41(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),t.DNE(2,P_,1,0,"ng-container",15),t.k0s()()),2&n){const i=t.XpG(),e=t.sdS(8),o=t.sdS(10);t.Y8G("for",e)("disabled",i.disabled),t.R7$(2),t.Y8G("ngTemplateOutlet",i.toggleIcon||o)}}function L_(n,s){1&n&&(t.j41(0,"mat-icon"),t.EFF(1,"watch_later"),t.k0s())}var Ht=function(n){return n.TWELVE="hh:mm a",n.TWELVE_SHORT="h:m a",n.TWENTY_FOUR="HH:mm",n.TWENTY_FOUR_SHORT="H:m",n}(Ht||{}),lt=function(n){return n.AM="AM",n.PM="PM",n}(lt||{});let P=(()=>{var n;class s{static formatHour(e,o,a){if(this.isTwentyFour(o))return e;const r=a===lt.AM?e:e+12;return a===lt.AM&&12===r?0:a===lt.PM&&24===r?12:r}static formatTime(e,o){if(!e)return"Invalid Time";const a=this.parseTime(e,o).setLocale(this.defaultLocale);if(!a.isValid)return"Invalid time";const r=!this.isTwentyFour(o.format);return r?a.toLocaleString({...C.TIME_SIMPLE,hour12:r}).replace(/\u200E/g,""):a.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(e,o){return e.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(o)?Ht.TWENTY_FOUR:Ht.TWELVE)}static isBetween(e,o,a,r="minutes"){const l="hours"===r?r:void 0;return this.isSameOrBefore(e,a,l)&&this.isSameOrAfter(e,o,l)}static isSameOrAfter(e,o,a="minutes"){return"hours"===a?e.hour>=o.hour:e.hasSame(o,a)||e.valueOf()>o.valueOf()}static isSameOrBefore(e,o,a="minutes"){return"hours"===a?e.hour<=o.hour:e.hasSame(o,a)||e.valueOf()<=o.valueOf()}static isTimeAvailable(e,o,a,r,l,c){if(!e)return;const d=this.parseTime(e,{format:c}),u=d.minute;if(l&&u==u&&u%l!=0)throw new Error(`Your minutes - ${u} doesn't match your minutesGap - ${l}`);const g=o&&!a&&this.isSameOrAfter(d,o,r),k=a&&!o&&this.isSameOrBefore(d,a,r),v=o&&a&&this.isBetween(d,o,a,r);return g||k||v||!o&&!a}static isTwentyFour(e){return 24===e}static parseTime(e,o){const a=this._getLocaleOptionsByTime(e,o);let r=Ht.TWENTY_FOUR_SHORT;return e.match(/\s/g)&&(e=e.replace(/\.\s*/g,""),r=Ht.TWELVE_SHORT),C.fromFormat(e.replace(/\s+/g," "),r,{numberingSystem:a.numberingSystem,locale:a.locale})}static toLocaleTimeString(e,o={}){const{format:a=this.defaultFormat,locale:r=this.defaultLocale}=o;let l="h12",c=Ht.TWELVE_SHORT;return this.isTwentyFour(a)&&(l="h23",c=Ht.TWENTY_FOUR_SHORT),C.fromFormat(e,c).reconfigure({locale:r,numberingSystem:o.numberingSystem,defaultToEN:o.defaultToEN,outputCalendar:o.outputCalendar}).toLocaleString({...C.TIME_SIMPLE,hourCycle:l})}static _getLocaleOptionsByTime(e,o){const{numberingSystem:a,locale:r}=C.now().reconfigure({locale:o.locale,numberingSystem:o.numberingSystem,outputCalendar:o.outputCalendar,defaultToEN:o.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(e,10))?{numberingSystem:a,locale:r}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return(n=s).defaultFormat=12,n.defaultLocale="en-US",n.defaultNumberingSystem="latn",s})();var ht=function(n){return n[n.HOUR=0]="HOUR",n[n.MINUTE=1]="MINUTE",n}(ht||{});const mn=new t.nKC("NGX_MAT_TIMEPICKER_CONFIG"),Bn={time:12,angle:360},Vn={time:0,angle:360};let dn=(()=>{var n;class s{constructor(){this._hour$=new ze.t(Bn),this._minute$=new ze.t(Vn),this._period$=new ze.t(lt.AM)}set hour(e){this._hour$.next(e)}set minute(e){this._minute$.next(e)}set period(e){(e===lt.AM||e===lt.PM)&&this._period$.next(e)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(e){const o=this._hour$.getValue().time,a=this._minute$.getValue().time,d=`${o??Bn.time}:${a??Vn.time} ${12===e?this._period$.getValue():""}`.trim();return P.formatTime(d,{format:e})}setDefaultTimeIfAvailable(e,o,a,r,l){e||this._resetTime();try{P.isTimeAvailable(e,o,a,"minutes",l)&&this._setDefaultTime(e,r)}catch(c){console.error(c)}}_resetTime(){this.hour={...Bn},this.minute={...Vn},this.period=lt.AM}_setDefaultTime(e,o){const a=P.parseTime(e,{format:o});if(a.isValid){const r=e.substring(e.length-2).toUpperCase(),l=a.hour;this.hour={...Bn,time:Y_(l,r)},this.minute={...Vn,time:a.minute},this.period=r}else this._resetTime()}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();function Y_(n,s){switch(s){case lt.AM:return 0===n?12:n;case lt.PM:return 12===n?12:n-12;default:return n}}let Fi=(()=>{var n;class s{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,an.t)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,an.t)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new sn.B,this._keydownEvent$=new sn.B}dispatchEvent(e){switch(e.type){case"click":this._backdropClick$.next(e);break;case"keydown":this._keydownEvent$.next(e);break;default:throw new Error("no such event type")}}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const Ys=new t.nKC("TimeLocale",{providedIn:"root",factory:()=>P.defaultLocale});let Pt=(()=>{var n;class s{get locale(){return this._locale}constructor(e){this._locale=e}updateLocale(e){this._locale=e||this._initialLocale}}return(n=s).\u0275fac=function(e){return new(e||n)(t.KVO(Ys))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),Bs=(()=>{var n;class s{set color(e){this._color=e}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(e){this._defaultTime=e,this._setDefaultTime(e)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(e,o,a,r){this._timepickerSrv=e,this._eventSrv=o,this._timepickerLocaleSrv=a,this.data=r,this.activeTimeUnit=ht.HOUR,this.timeUnit=ht,this._color="primary",this._subsCtrl$=new sn.B,this.color=r.color,this.defaultTime=r.defaultTime}changePeriod(e){this._timepickerSrv.period=e,this._onTimeChange()}changeTimeUnit(e){this.activeTimeUnit=e}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,an.t)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,an.t)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,an.t)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,ji.Q)(this._subsCtrl$)).subscribe({next:e=>{e&&this._setDefaultTime(e)}})}onHourChange(e){this._timepickerSrv.hour=e,this._onTimeChange()}onHourSelected(e){this.data.hoursOnly||this.changeTimeUnit(ht.MINUTE),this.data.timepickerBaseRef.hourSelected.next(e)}onKeydown(e){this._eventSrv.dispatchEvent(e),e.stopPropagation()}onMinuteChange(e){this._timepickerSrv.minute=e,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const e=this.data.minTime;if(e&&!this.data.time&&!this.data.defaultTime){const o=P.fromDateTimeToString(e,this.data.format);this._setDefaultTime(o)}}_onTimeChange(){const e=P.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(e)}_setDefaultTime(e){this._timepickerSrv.setDefaultTimeIfAvailable(e,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dn),t.rXU(Fi),t.rXU(Pt),t.rXU(mn))},n.\u0275dir=t.FsC({type:n,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(e,o){1&e&&t.bIt("keydown",function(r){return o.onKeydown(r)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),s})();class H{static get DEFAULT_MINUTES_GAP(){return 5}static disableHours(s,i){return i.min||i.max?s.map(e=>{const o=P.isTwentyFour(i.format)?e.time:P.formatHour(e.time,i.format,i.period),a=C.fromObject({hour:o}).toFormat(Ht.TWELVE);return{...e,disabled:!P.isTimeAvailable(a,i.min,i.max,"hours")}}):s}static disableMinutes(s,i,e){if(e.min||e.max){const o=P.formatHour(i,e.format,e.period);let a=C.fromObject({hour:o,minute:0});return s.map(r=>(a=a.set({minute:r.time}),{...r,disabled:!P.isTimeAvailable(a.toFormat(Ht.TWELVE),e.min,e.max,"minutes")}))}return s}static getHours(s){return Array(s).fill(1).map((i,e)=>{const a=i+e;return{time:24===a?0:a,angle:30*a}})}static getMinutes(s=1){const o=[];for(let a=0;a<60;a++){const r=6*a;a%s==0&&o.push({time:a,angle:0!==r?r:360})}return o}static isDigit(s){return!!([46,8,9,27,13].some(i=>i===s.keyCode)||65===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||67===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||88===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||s.keyCode>=35&&s.keyCode<=40)||!((s.keyCode<48||s.keyCode>57)&&(s.keyCode<96||s.keyCode>105))}}var _n=function(n){return n.hour="hour",n.minute="minute",n}(_n||{});let Ri=(()=>{var n;class s{get _locale(){return this._timepickerLocaleSrv.locale}constructor(e){this._timepickerLocaleSrv=e}transform(e,o,a=!1){if(null==e||""===e)return"";switch(o){case ht.HOUR:return this._formatTime(_n.hour,e,0===e||a?"HH":"H");case ht.MINUTE:return this._formatTime(_n.minute,e,"mm");default:throw new Error(`There is no Time Unit with type ${o}`)}}_formatTime(e,o,a){try{return C.fromObject({[e]:+o}).setLocale(this._locale).toFormat(a)}catch{throw new Error(`Cannot format provided time - ${o} to locale - ${this._locale}`)}}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Pt,16))},n.\u0275pipe=t.EJ8({name:"timeLocalizer",type:n,pure:!0,standalone:!0}),s})(),B_=(()=>{var n;class s{transform(e,o=H.DEFAULT_MINUTES_GAP){return e&&(e%o==0?e:"")}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.EJ8({name:"minutesFormatter",type:n,pure:!0,standalone:!0}),s})(),V_=(()=>{var n;class s{transform(e,o,a,r){return null!=e&&!r&&o===e&&e%(a||H.DEFAULT_MINUTES_GAP)==0}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.EJ8({name:"activeMinute",type:n,pure:!0,standalone:!0}),s})(),X_=(()=>{var n;class s{transform(e,o,a){return null!=e&&!a&&e===o}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.EJ8({name:"activeHour",type:n,pure:!0,standalone:!0}),s})();const Xn_small_height="75px",Xn_small_top="calc(50% - 75px)",Xn_large_height="103px",Xn_large_top="calc(50% - 103px)";let Un=(()=>{var n;class s{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new t.bkB,this.timeSelected=new t.bkB,this.timeUnit=ht}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(e){const o=e.faceTime,a=e.selectedTime;o&&o.currentValue&&a&&a.currentValue&&(this.selectedTime=this.faceTime.find(r=>r.time===this.selectedTime.time)),a&&a.currentValue&&this._setClockHandPosition(),o&&o.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(e){e.preventDefault(),this._isStarted=!0}onMouseup(e){e.preventDefault(),this._isStarted=!1}selectTime(e){if(!this._isStarted&&e instanceof MouseEvent&&"click"!==e.type)return;const o=this.clockFace.nativeElement.getBoundingClientRect(),a=o.left+o.width/2,r=o.top+o.height/2,l=180*Math.atan(Math.abs(e.clientX-a)/Math.abs(e.clientY-r))/Math.PI,c=function H_(n,s,i,e,o){return e>s&&i>=n?180-o:e>s&&i<n?180+o:e<s&&i<n?360-o:o}(a,r,e.clientX,e.clientY,l),d=this.format&&this._isInnerClockFace(a,r,e.clientX,e.clientY),k=(function U_(n,s){return Math.round(n/s)*s}(c,this.unit===ht.MINUTE?6*(this.minutesGap||1):30)||360)+(d?360:0),v=this.faceTime.find(j=>j.angle===k);v&&!v.disabled&&(this.timeChange.next(v),this._isStarted||this.timeSelected.next(v.time))}trackByTime(e,o){return o.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=Xn_small_height,this.clockHand.nativeElement.style.top=Xn_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=Xn_large_height,this.clockHand.nativeElement.style.top=Xn_large_top}_isInnerClockFace(e,o,a,r){return Math.sqrt(Math.pow(a-e,2)+Math.pow(r-o,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const e=this.faceTime.find(o=>this.selectedTime.time===o.time);if(this.isClockFaceDisabled=this.faceTime.every(o=>o.disabled),e&&e.disabled&&!this.isClockFaceDisabled){const o=this.faceTime.find(a=>!a.disabled);this.timeChange.next(o)}}_setClockHandPosition(){P.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(e,o){if(1&e&&(t.GBs(Yd,7),t.GBs(Bd,7,t.aKT)),2&e){let a;t.mGM(a=t.lsd())&&(o.clockFace=a.first),t.mGM(a=t.lsd())&&(o.clockHand=a.first)}},hostBindings:function(e,o){1&e&&t.bIt("mousedown",function(r){return o.onMousedown(r)})("mouseup",function(r){return o.onMouseup(r)})("click",function(r){return o.selectTime(r)})("touchmove",function(r){return o.selectTime(r.changedTouches[0])})("touchend",function(r){return o.selectTime(r.changedTouches[0])})("mousemove",function(r){return o.selectTime(r)})},inputs:{color:"color",dottedMinutesInGap:"dottedMinutesInGap",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:As,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],["clockFace",""],["clockHand",""],["current",""],[1,"clock-face"],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["type","hidden",3,"value"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(e,o){if(1&e&&(t.NAR(As),t.DNE(0,Xd,4,13,"ng-template",null,0,t.C5r)(2,Hd,2,2,"ng-template",null,1,t.C5r),t.j41(4,"div",5,2),t.DNE(6,Kd,4,7,"div",6),t.j41(7,"mat-toolbar",7,3),t.DNE(9,t_,2,1,"button",8),t.k0s(),t.nrm(10,"mat-toolbar",9),t.k0s()),2&e){const a=t.sdS(3);t.R7$(6),t.Y8G("ngIf",o.unit!==o.timeUnit.MINUTE)("ngIfElse",a),t.R7$(),t.Y8G("color",o.color)("ngClass",t.eq3(7,Vd,o.unit===o.timeUnit.MINUTE))("hidden",o.isClockFaceDisabled),t.R7$(2),t.Y8G("ngIf",o.unit===o.timeUnit.MINUTE),t.R7$(),t.Y8G("color",o.color)}},dependencies:[Mt.Hl,Mt.$0,_.B3,_.pM,_.bT,_.T3,pe.s5,pe.KQ,_.YU,_.P9,X_,V_,B_,Ri],styles:['ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed{--mdc-fab-small-container-color: transparent;--mat-fab-small-disabled-state-container-color: transparent;--mat-fab-hover-state-layer-opacity: 0;box-shadow:none}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed .mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed.dot{position:relative}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed.dot:after{content:" ";background-color:#777;width:3px;height:3px;border-radius:50%;left:50%;top:50%;position:absolute;transform:translate(-50%,-50%)}ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#fff;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n'],encapsulation:2,changeDetection:0}),s})(),Ei=(()=>{var n;class s{set color(e){this._color=e}get color(){return this._color}constructor(){this.minuteChange=new t.bkB,this.minutesList=[],this.timeUnit=ht,this._color="primary"}ngOnChanges(e){if(e.period&&e.period.currentValue){const o=H.getMinutes(this.minutesGap);this.minutesList=H.disableMinutes(o,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",dottedMinutesInGap:"dottedMinutesInGap",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:6,consts:[[3,"timeChange","color","dottedMinutesInGap","faceTime","selectedTime","minutesGap","unit"]],template:function(e,o){1&e&&(t.j41(0,"ngx-mat-timepicker-face",0),t.bIt("timeChange",function(r){return o.minuteChange.next(r)}),t.k0s()),2&e&&t.Y8G("color",o.color)("dottedMinutesInGap",o.dottedMinutesInGap)("faceTime",o.minutesList)("selectedTime",o.selectedMinute)("minutesGap",o.minutesGap)("unit",o.timeUnit.MINUTE)},dependencies:[Un],encapsulation:2}),s})(),Vs=(()=>{var n;class s{set color(e){this._color=e}get color(){return this._color}set format(e){this._format=e,this.hoursList=H.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new t.bkB,this.hourSelected=new t.bkB,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(e){this.hourSelected.next(e)}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.FsC({type:n,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),s})(),Mi=(()=>{var n;class s extends Vs{constructor(){super(),this.format=12}ngOnChanges(e){e.period&&e.period.currentValue&&(this.hoursList=H.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:1,vars:3,consts:[[3,"timeChange","timeSelected","color","selectedTime","faceTime"]],template:function(e,o){1&e&&(t.j41(0,"ngx-mat-timepicker-face",0),t.bIt("timeChange",function(r){return o.hourChange.next(r)})("timeSelected",function(r){return o.onTimeSelected(r)}),t.k0s()),2&e&&t.Y8G("color",o.color)("selectedTime",o.selectedHour)("faceTime",o.hoursList)},dependencies:[Un],encapsulation:2,changeDetection:0}),s})(),Ni=(()=>{var n;class s extends Vs{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=H.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:4,consts:[[3,"timeChange","timeSelected","color","selectedTime","faceTime","format"]],template:function(e,o){1&e&&(t.j41(0,"ngx-mat-timepicker-face",0),t.bIt("timeChange",function(r){return o.hourChange.next(r)})("timeSelected",function(r){return o.onTimeSelected(r)}),t.k0s()),2&e&&t.Y8G("color",o.color)("selectedTime",o.selectedHour)("faceTime",o.hoursList)("format",o.format)},dependencies:[Un],encapsulation:2,changeDetection:0}),s})(),J_=(()=>{var n;class s{constructor(e){this._overlay=e,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new t.bkB,this.timePeriod=lt}animationDone(){this.isPeriodAvailable=!0}changePeriod(e){this.isPeriodAvailable=this._isSwitchPeriodAvailable(e),this.isPeriodAvailable&&this.periodChanged.next(e)}_getDisabledTimeByPeriod(e){switch(this.activeTimeUnit){case ht.HOUR:return H.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:e});case ht.MINUTE:return H.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:e});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(e){return!this._getDisabledTimeByPeriod(e).every(a=>a.disabled)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Fe.hJ))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[t.aNF],decls:7,vars:12,consts:[["eventPanelOrigin","cdkOverlayOrigin"],["cdkOverlayOrigin","",1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"click","ngClass"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",1,0)(2,"button",2),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changePeriod(o.timePeriod.AM))}),t.EFF(3),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changePeriod(o.timePeriod.PM))}),t.EFF(5),t.k0s()(),t.DNE(6,n_,1,1,"ng-template",3)}if(2&e){const a=t.sdS(1);t.R7$(2),t.Y8G("ngClass",t.eq3(8,cn,o.selectedPeriod===o.timePeriod.AM)),t.R7$(),t.JRh(o.meridiems[0]),t.R7$(),t.Y8G("ngClass",t.eq3(10,cn,o.selectedPeriod===o.timePeriod.PM)),t.R7$(),t.JRh(o.meridiems[1]),t.R7$(),t.Y8G("cdkConnectedOverlayScrollStrategy",o.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",o.overlayPositionStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",!o.isPeriodAvailable)}},dependencies:[Fe.$Q,_.YU,Fe.WB,_.bT],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,J.hZ)("scaleInOut",[(0,J.kY)(":enter",[(0,J.iF)({transform:"scale(0)"}),(0,J.i0)(".2s",(0,J.iF)({transform:"scale(1)"})),(0,J.K2)([(0,J.i0)("3s",(0,J.iF)({opacity:1})),(0,J.i0)(".3s",(0,J.iF)({opacity:0}))])])])]}}),s})(),Pe=(()=>{var n;class s{get _locale(){return this._timepickerLocaleSrv.locale}constructor(e){this._timepickerLocaleSrv=e,this._numberingSystem=C.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(e,o=ht.HOUR){return null==e||""===e?"":isNaN(+e)?o===ht.MINUTE?this._parseTime(e,"mm",_n.minute).toString():this._parseTime(e,"HH",_n.hour).toString():`${e}`}_parseTime(e,o,a){const r=C.fromFormat(String(e),o,{numberingSystem:this._numberingSystem})[a];if(!isNaN(r))return r;throw new Error(`Cannot parse time - ${e}`)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Pt,16))},n.\u0275pipe=t.EJ8({name:"ngxMatTimepickerParser",type:n,pure:!0,standalone:!0}),n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac}),s})(),W_=(()=>{var n;class s{constructor(e,o){this._element=e,this._document=o,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(t.aKT),t.rXU(_.qQ,8))},n.\u0275dir=t.FsC({type:n,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:[0,"ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[t.OA$]}),s})();function Xs(){this.selectionStart=this.selectionEnd}let Us=(()=>{var n;class s{get _selectedTime(){if(this.time)return this.timeList.find(e=>e.time===+this.time)}constructor(e,o){this._elRef=e,this._timeParserPipe=o,this.focused=new t.bkB,this.timeChanged=new t.bkB,this.timeUnitChanged=new t.bkB,this.unfocused=new t.bkB}changeTimeByKeyboard(e){const o=String.fromCharCode(e.keyCode);(function q_(n,s,i){if(/\d/.test(s))return Hs(n+s,i)})(this.time,o,this.timeList)&&e.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Xs,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Xs)}onKeydown(e){H.isDigit(e)?this._changeTimeByArrow(e.keyCode):e.preventDefault()}onModelChange(e){this.time=this._timeParserPipe.transform(e,this.timeUnit)}saveTimeAndChangeTimeUnit(e,o){e.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(o),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(e){return`0${+this.time+e}`.substr(-2)}_changeTimeByArrow(e){let o;38===e?o=this._addTime(this.minutesGap||1):40===e&&(o=this._addTime(-1*(this.minutesGap||1))),Hs(o,this.timeList)||(this.time=o,this.updateTime())}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(t.aKT),t.rXU(Pe))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[t.Jv_([Pe]),t.aNF],decls:3,vars:2,consts:[["editableTemplate",""],["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngModelChange","input","focus","ngClass","ngModel","disabled","ngxMatTimepickerAutofocus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngModelChange","input","focus","keydown","keypress","ngClass","ngModel","disabled","ngxMatTimepickerAutofocus"]],template:function(e,o){if(1&e&&t.DNE(0,i_,2,10,"input",1)(1,o_,3,13,"ng-template",null,0,t.C5r),2&e){const a=t.sdS(2);t.Y8G("ngIf",!o.isEditable)("ngIfElse",a)}},dependencies:[_.bT,m.YN,m.me,m.BC,m.vS,_.YU,W_,Pe,Ri],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),s})();function Hs(n,s){const i=s.find(e=>e.time===+n);return!i||i&&i.disabled}let Di,Gi=(()=>{var n;class s{set color(e){this._color=e}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(e){this._localeSrv=e,this.hourChanged=new t.bkB,this.meridiems=nn.meridiems({locale:this._locale}),this.minuteChanged=new t.bkB,this.periodChanged=new t.bkB,this.timeUnit=ht,this.timeUnitChanged=new t.bkB,this._color="primary"}changeHour(e){this.hourChanged.next(e)}changeMinute(e){this.minuteChanged.next(e)}changePeriod(e){this.periodChanged.next(e)}changeTimeUnit(e){this.timeUnitChanged.next(e)}hideHint(){this.isHintVisible=!1}ngOnChanges(e){const o=e.period&&e.period.currentValue;if(o||e.format&&e.format.currentValue){const a=H.getHours(this.format);this.hours=H.disableHours(a,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(o||e.hour&&e.hour.currentValue){const a=H.getMinutes(this.minutesGap);this.minutes=H.disableMinutes(a,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Pt))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:14,consts:[["editableHintDefault",""],[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeUnitChanged","timeChanged","focused","unfocused","timeList","time","timeUnit","isActive","isEditable"],[3,"timeUnitChanged","timeChanged","focused","unfocused","timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"periodChanged","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems"],[3,"ngClass"],[4,"ngTemplateOutlet"],[1,"timepicker-dial__hint"]],template:function(e,o){1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"ngx-mat-timepicker-dial-control",4),t.bIt("timeUnitChanged",function(r){return o.changeTimeUnit(r)})("timeChanged",function(r){return o.changeHour(r)})("focused",function(){return o.showHint()})("unfocused",function(){return o.hideHint()}),t.k0s(),t.j41(4,"span"),t.EFF(5,":"),t.k0s(),t.j41(6,"ngx-mat-timepicker-dial-control",5),t.bIt("timeUnitChanged",function(r){return o.changeTimeUnit(r)})("timeChanged",function(r){return o.changeMinute(r)})("focused",function(){return o.showHint()})("unfocused",function(){return o.hideHint()}),t.k0s()(),t.DNE(7,a_,1,9,"ngx-mat-timepicker-period",6),t.k0s(),t.DNE(8,c_,4,4,"div",7),t.k0s()),2&e&&(t.R7$(3),t.Y8G("timeList",o.hours)("time",o.hourString)("timeUnit",o.timeUnit.HOUR)("isActive",o.activeTimeUnit===o.timeUnit.HOUR)("isEditable",o.isEditable),t.R7$(3),t.Y8G("timeList",o.minutes)("time",o.minuteString)("timeUnit",o.timeUnit.MINUTE)("isActive",o.activeTimeUnit===o.timeUnit.MINUTE)("isEditable",o.isEditable)("minutesGap",o.minutesGap)("disabled",o.hoursOnly),t.R7$(),t.Y8G("ngIf",24!==o.format),t.R7$(),t.Y8G("ngIf",o.isEditable||o.editableHintTmpl))},dependencies:[Us,_.bT,J_,_.YU,_.T3],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),s})(),Js=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[t.aNF],ngContentSelectors:m_,decls:5,vars:2,consts:[["timepickerModal",""],["timepickerOutlet",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"]],template:function(e,o){if(1&e&&(t.NAR(),t.DNE(0,__,2,1,"div",2)(1,p_,1,1,"ng-template",null,0,t.C5r)(3,g_,1,0,"ng-template",null,1,t.C5r)),2&e){const a=t.sdS(2);t.Y8G("ngIf",o.appendToInput)("ngIfElse",a)}},dependencies:[_.bT,_.T3],encapsulation:2}),s})(),Ws=(()=>{var n;class s extends Bs{constructor(e,o,a,r,l){super(a,r,l,e),this.data=e,this._dialogRef=o}close(){this._dialogRef.close()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(M.Vh),t.rXU(M.CP),t.rXU(dn),t.rXU(Fi),t.rXU(Pt))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["ampmHours",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"periodChanged","timeUnitChanged","hourChanged","minuteChanged","color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","dottedMinutesInGap","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],[3,"hourChange","hourSelected","color","selectedHour","minTime","maxTime","format"],[3,"hourChange","hourSelected","color","selectedHour","period","minTime","maxTime"],[3,"minuteChange","color","dottedMinutesInGap","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap"]],template:function(e,o){if(1&e){const a=t.RV6();t.DNE(0,h_,2,1,"ng-template",null,0,t.C5r)(2,f_,2,1,"ng-template",null,1,t.C5r),t.j41(4,"div",3)(5,"ngx-mat-timepicker-content",4)(6,"div",5)(7,"mat-toolbar",6)(8,"ngx-mat-timepicker-dial",7),t.nI1(9,"async"),t.nI1(10,"async"),t.nI1(11,"async"),t.bIt("periodChanged",function(l){return t.eBV(a),t.Njj(o.changePeriod(l))})("timeUnitChanged",function(l){return t.eBV(a),t.Njj(o.changeTimeUnit(l))})("hourChanged",function(l){return t.eBV(a),t.Njj(o.onHourChange(l))})("minuteChanged",function(l){return t.eBV(a),t.Njj(o.onMinuteChange(l))}),t.k0s()(),t.j41(12,"div",8)(13,"div",9),t.DNE(14,k_,4,2,"div",10)(15,x_,4,15,"ngx-mat-timepicker-minutes-face",11),t.k0s()()()()(),t.j41(16,"div",12)(17,"div",13),t.bIt("click",function(){return t.eBV(a),t.Njj(o.close())}),t.DNE(18,C_,1,0,"ng-container",14),t.k0s(),t.j41(19,"div",13),t.bIt("click",function(){return t.eBV(a),t.Njj(o.setTime())}),t.DNE(20,T_,1,0,"ng-container",14),t.k0s()()}if(2&e){let a,r;const l=t.sdS(1),c=t.sdS(3);t.R7$(5),t.Y8G("appendToInput",o.data.appendToInput)("inputElement",o.data.inputElement),t.R7$(),t.Y8G("ngClass",o.data.timepickerClass),t.R7$(),t.AVh("is-editable",o.data.enableKeyboardInput),t.Y8G("color",o.color),t.R7$(),t.Y8G("color",o.color)("format",o.data.format)("hour",null==(a=t.bMT(9,23,o.selectedHour))?null:a.time)("minute",null==(r=t.bMT(10,25,o.selectedMinute))?null:r.time)("period",t.bMT(11,27,o.selectedPeriod))("activeTimeUnit",o.activeTimeUnit)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("isEditable",o.data.enableKeyboardInput)("editableHintTmpl",o.data.editableHintTmpl)("minutesGap",o.data.minutesGap)("hoursOnly",o.data.hoursOnly),t.R7$(5),t.Y8G("ngSwitch",o.activeTimeUnit),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.HOUR),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.MINUTE),t.R7$(3),t.Y8G("ngTemplateOutlet",o.data.cancelBtnTmpl?o.data.cancelBtnTmpl:l),t.R7$(2),t.Y8G("ngTemplateOutlet",o.data.confirmBtnTmpl?o.data.confirmBtnTmpl:c)}},dependencies:[_.Jj,_.YU,_.bT,_.ux,_.e1,_.T3,Mt.Hl,Mt.$z,M.hM,M.E7,M.Yi,pe.s5,pe.KQ,Js,Gi,Ni,Mi,Ei],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),s})(),qs=(()=>{var n;class s extends Bs{constructor(e,o,a,r){super(o,a,r,e),this.data=e}close(){this.data.timepickerBaseRef.close()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(mn),t.rXU(dn),t.rXU(Fi),t.rXU(Pt))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(e,o){2&e&&t.AVh("mat-app-background",!0)},standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["ampmHours",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"periodChanged","timeUnitChanged","hourChanged","minuteChanged","color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"dottedMinutesInGap","color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],[3,"hourChange","hourSelected","color","selectedHour","minTime","maxTime","format"],[3,"hourChange","hourSelected","color","selectedHour","period","minTime","maxTime"],[3,"minuteChange","dottedMinutesInGap","color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap"]],template:function(e,o){if(1&e){const a=t.RV6();t.DNE(0,S_,2,1,"ng-template",null,0,t.C5r)(2,I_,2,1,"ng-template",null,1,t.C5r),t.j41(4,"div",3)(5,"ngx-mat-timepicker-content",4)(6,"div",5)(7,"mat-toolbar",6)(8,"ngx-mat-timepicker-dial",7),t.nI1(9,"async"),t.nI1(10,"async"),t.nI1(11,"async"),t.bIt("periodChanged",function(l){return t.eBV(a),t.Njj(o.changePeriod(l))})("timeUnitChanged",function(l){return t.eBV(a),t.Njj(o.changeTimeUnit(l))})("hourChanged",function(l){return t.eBV(a),t.Njj(o.onHourChange(l))})("minuteChanged",function(l){return t.eBV(a),t.Njj(o.onMinuteChange(l))}),t.k0s()(),t.j41(12,"div",8)(13,"div",9),t.DNE(14,O_,4,2,"div",10)(15,w_,4,15,"ngx-mat-timepicker-minutes-face",11),t.k0s()()()(),t.j41(16,"div",12)(17,"div",13),t.bIt("click",function(){return t.eBV(a),t.Njj(o.close())}),t.DNE(18,F_,1,0,"ng-container",14),t.k0s(),t.j41(19,"div",13),t.bIt("click",function(){return t.eBV(a),t.Njj(o.setTime())}),t.DNE(20,R_,1,0,"ng-container",14),t.k0s()()()}if(2&e){let a,r;const l=t.sdS(1),c=t.sdS(3);t.R7$(5),t.Y8G("appendToInput",o.data.appendToInput)("inputElement",o.data.inputElement),t.R7$(),t.Y8G("ngClass",o.data.timepickerClass),t.R7$(),t.AVh("is-editable",o.data.enableKeyboardInput),t.Y8G("color",o.color),t.R7$(),t.Y8G("color",o.color)("format",o.data.format)("hour",null==(a=t.bMT(9,23,o.selectedHour))?null:a.time)("minute",null==(r=t.bMT(10,25,o.selectedMinute))?null:r.time)("period",t.bMT(11,27,o.selectedPeriod))("activeTimeUnit",o.activeTimeUnit)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("isEditable",o.data.enableKeyboardInput)("editableHintTmpl",o.data.editableHintTmpl)("minutesGap",o.data.minutesGap)("hoursOnly",o.data.hoursOnly),t.R7$(5),t.Y8G("ngSwitch",o.activeTimeUnit),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.HOUR),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.MINUTE),t.R7$(3),t.Y8G("ngTemplateOutlet",o.data.cancelBtnTmpl?o.data.cancelBtnTmpl:l),t.R7$(2),t.Y8G("ngTemplateOutlet",o.data.confirmBtnTmpl?o.data.confirmBtnTmpl:c)}},dependencies:[Mt.Hl,Mt.$z,Oi.Pd,Oi.kB,Js,_.YU,pe.s5,pe.KQ,Gi,_.ux,_.e1,_.bT,Ni,Mi,Ei,_.T3,_.Jj],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),s})(),Q_=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-provider"]],standalone:!0,features:[t.Jv_([{provide:mn,useFactory:()=>Di}]),t.aNF],decls:1,vars:0,template:function(e,o){1&e&&t.nrm(0,"ngx-mat-timepicker-standalone")},dependencies:[qs],encapsulation:2}),s})(),$i=(()=>{var n;class s{set appendToInput(e){this._appendToInput=(0,ii.he)(e)}set color(e){this._color=e}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set dottedMinutesInGap(e){this._dottedMinutesInGap=(0,ii.he)(e)}get dottedMinutesInGap(){return this._dottedMinutesInGap}set enableKeyboardInput(e){this._enableKeyboardInput=(0,ii.he)(e)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(e){this._format=P.isTwentyFour(e)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(e){null!=e&&(e=Math.floor(e),this._minutesGap=e<=59?e:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(e){this._dialog=e,this.closed=new t.bkB,this.hourSelected=new t.bkB,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++s.nextId,this.isEsc=!0,this.opened=new t.bkB,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new t.bkB,this.timeSet=new t.bkB,this.timeUpdated=new ze.t(void 0),this._appendToInput=!1,this._color="primary",this._dottedMinutesInGap=!1,this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){Di={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,dottedMinutesInGap:this._dottedMinutesInGap,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Ws,{panelClass:"ngx-mat-timepicker-dialog",data:{...Di}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(e){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",e.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=e}unregisterInput(){this._timepickerInput=void 0}updateTime(e){this.timeUpdated.next(e)}}return(n=s).nextId=0,n.\u0275fac=function(e){return new(e||n)(t.rXU(M.bZ))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(e,o){2&e&&t.Mr5("id",o.id)},inputs:{appendToInput:"appendToInput",color:"color",dottedMinutesInGap:"dottedMinutesInGap",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[t.aNF],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"]],template:function(e,o){1&e&&(t.DNE(0,E_,1,0,"ng-template",0),t.bIt("backdropClick",function(){return o.close()})),2&e&&t.Y8G("cdkConnectedOverlayPositions",o.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",o.overlayOrigin)("cdkConnectedOverlayOpen",o.showPicker)},dependencies:[Fe.WB,Q_],encapsulation:2}),s})(),Qs=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.FsC({type:n,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),s})(),Zs=(()=>{var n;class s{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(e){this._disabled=e}open(e){this.timepicker&&(this.timepicker.open(),e.stopPropagation())}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(e,o,a){if(1&e&&t.wni(a,Qs,7),2&e){let r;t.mGM(r=t.lsd())&&(o.customIcon=r.first)}},inputs:{disabled:"disabled",timepicker:[0,"for","timepicker"]},standalone:!0,features:[t.aNF],ngContentSelectors:N_,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(e,o){1&e&&(t.NAR(M_),t.j41(0,"button",0),t.bIt("click",function(r){return o.open(r)}),t.DNE(1,G_,2,0,"svg",1),t.SdG(2),t.k0s()),2&e&&(t.Y8G("disabled",o.disabled),t.R7$(),t.Y8G("ngIf",!o.customIcon))},dependencies:[Mt.Hl,Mt.iY,_.bT],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),s})(),Ks=(()=>{var n;class s{set color(e){this._color=e}get color(){return this._color}set floatLabel(e){this._floatLabel=e}get floatLabel(){return this._floatLabel}constructor(e){this._timeParser=e,this.id=s.nextId++,this.timeChanged=new t.bkB,this._color="primary",this._floatLabel="auto"}changeTime(e){e.stopPropagation();const o=e.data,a=function Z_(n,s){if(/\d/.test(s))return+(n+s)}(String(this.time),o);this._changeTimeIfValid(a)}decrease(){if(!this.disabled){let e=+this.time-1;e<this.min&&(e=this.max),this._isSelectedTimeDisabled(e)&&(e=this._getAvailableTime(e,this._getPrevAvailableTime.bind(this))),e!==this.time&&this.timeChanged.emit(e)}}increase(){if(!this.disabled){let e=+this.time+1;e>this.max&&(e=this.min),this._isSelectedTimeDisabled(e)&&(e=this._getAvailableTime(e,this._getNextAvailableTime.bind(this))),e!==this.time&&this.timeChanged.emit(e)}}ngOnChanges(e){e.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(e){switch(e.stopPropagation(),H.isDigit(e)||e.preventDefault(),e.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==e.key&&e.preventDefault()}onModelChange(e){this.time=+this._timeParser.transform(e,this.timeUnit)}_changeTimeIfValid(e){if(!isNaN(e)){if(this.time=e,this.time>this.max){const o=String(e);this.time=+o[o.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(e,o){return o(this.timeList.findIndex(l=>l.time===e))??this.time}_getNextAvailableTime(e){const o=this.timeList,a=o.length;for(let r=e+1;r<a;r++){const l=o[r];if(!l.disabled)return l.time}}_getPrevAvailableTime(e){for(let o=e;o>=0;o--){const a=this.timeList[o];if(!a.disabled)return a.time}}_isSelectedTimeDisabled(e){return this.timeList.find(o=>o.time===e).disabled}_setAvailableTime(){this.time=this.timeList.find(e=>!e.disabled).time,this.timeChanged.emit(this.time)}}return(n=s).nextId=0,n.\u0275fac=function(e){return new(e||n)(t.rXU(Pe))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[t.Jv_([Pe]),t.OA$,t.aNF],decls:13,vars:19,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"ngModelChange","keydown","beforeinput","focus","blur","id","name","ngModel","placeholder","disabled"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(e,o){1&e&&(t.j41(0,"mat-form-field",0)(1,"input",1),t.nI1(2,"ngxMatTimepickerParser"),t.nI1(3,"timeLocalizer"),t.bIt("ngModelChange",function(r){return o.onModelChange(r)})("keydown",function(r){return o.onKeydown(r)})("beforeinput",function(r){return o.changeTime(r)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),t.k0s(),t.j41(4,"div",2)(5,"span",3),t.bIt("click",function(){return o.increase()}),t.qSk(),t.j41(6,"svg",4),t.nrm(7,"path",5)(8,"path",6),t.k0s()(),t.joV(),t.j41(9,"span",3),t.bIt("click",function(){return o.decrease()}),t.qSk(),t.j41(10,"svg",4),t.nrm(11,"path",7)(12,"path",8),t.k0s()()()()),2&e&&(t.Y8G("color",o.color)("floatLabel",o.floatLabel)("ngClass",t.eq3(17,cn,o.isFocused)),t.R7$(),t.Mz_("id","ngx_mat_timepicker_field_",o.id,""),t.Mz_("name","ngx_mat_timepicker_field_",o.id,""),t.Y8G("ngModel",t.brH(3,13,t.i5U(2,10,o.time,o.timeUnit),o.timeUnit,!0))("placeholder",o.placeholder)("disabled",o.disabled))},dependencies:[mt.RG,mt.rl,mt.yw,_.YU,Vt.fS,Vt.fg,m.YN,m.me,m.BC,m.tU,m.vS,Pe,Ri],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),s})(),K_=(()=>{var n;class s{get color(){return this._color}set color(e){this._color=e}get defaultTime(){return this._defaultTime}set defaultTime(e){this._defaultTime=e,this._isDefaultTime=!!e}get floatLabel(){return this._floatLabel}set floatLabel(e){this._floatLabel=e}get format(){return this._format}set format(e){P.isTwentyFour(e)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=H.getHours(this._format),e&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(e){this._max="string"!=typeof e?e:P.parseTime(e,{locale:this._locale,format:this.format})}get min(){return this._min}set min(e){this._min="string"!=typeof e?e:P.parseTime(e,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(e,o){this._timepickerService=e,this._timepickerLocaleSrv=o,this.hour$=new ze.t(void 0),this.maxHour=12,this.minHour=1,this.minute$=new ze.t(void 0),this.period=lt.AM,this.periods=[lt.AM,lt.PM],this.timeChanged=new t.bkB,this.timeUnit=ht,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new sn.B,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(e){this._timepickerService.hour=this.hoursList.find(o=>o.time===e),this._changeTime()}changeMinute(e){this._timepickerService.minute=this.minutesList.find(o=>o.time===e),this._changeTime()}changePeriod(e){this._timepickerService.period=e.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=H.getHours(this._format),this.minutesList=H.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,rn.M)(e=>this._selectedHour=e?.time),(0,st.T)(this._changeDefaultTimeValue.bind(this)),(0,rn.M)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:e=>this.hour$.next(e)}),this._timepickerService.selectedMinute.pipe((0,st.T)(this._changeDefaultTimeValue.bind(this)),(0,rn.M)(()=>this._isFirstTimeChange=!1)).subscribe({next:e=>this.minute$.next(e)}),12===this.format?this._timepickerService.selectedPeriod.pipe((0,Ad.F)(),(0,rn.M)(e=>this.period=e),(0,rn.M)(e=>this.isChangePeriodDisabled=this._isPeriodDisabled(e)),(0,ji.Q)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime()):this.isTimeRangeSet&&this._updateAvailableTime()}onTimeSet(e){this._updateTime(e),this._emitLocalTimeChange(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}writeValue(e){e?this._initTime(e):this._resetTime()}_changeDefaultTimeValue(e){return!this._isDefaultTime&&this._isFirstTimeChange?{...e,time:null}:e}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const e=this._timepickerService.getFullTime(this.format);this.timepickerTime=e,this._emitLocalTimeChange(e)}}_emitLocalTimeChange(e){const o=P.toLocaleTimeString(e,{format:this.format,locale:this._locale});this._onChange(o),this._onTouched(o),this.timeChanged.emit(o)}_initTime(e){if(!P.isTimeAvailable(e,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(P.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(P.fromDateTimeToString(this.max,this.format))}this._updateTime(e)}_isPeriodDisabled(e){return H.disableHours(H.getHours(12),{min:this.min,max:this.max,format:12,period:e===lt.AM?lt.PM:lt.AM}).every(o=>o.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=H.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=H.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(e){if(e){const o=P.formatTime(e,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(o,this.min,this.max,this.format),this.timepickerTime=o}}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dn),t.rXU(Pt))},n.\u0275cmp=t.VBU({type:n,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[t.Jv_([dn,{provide:m.kq,useExisting:n,multi:!0}]),t.aNF],decls:11,vars:32,consts:[["timepicker",""],["defaultIcon",""],[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"timeChanged","color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"timeChanged","color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"timeSet","color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl"],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"selectionChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",2)(1,"ngx-mat-timepicker-time-control",3),t.bIt("timeChanged",function(l){return t.eBV(a),t.Njj(o.changeHour(l))}),t.k0s(),t.j41(2,"span",4),t.EFF(3,":"),t.k0s(),t.j41(4,"ngx-mat-timepicker-time-control",5),t.bIt("timeChanged",function(l){return t.eBV(a),t.Njj(o.changeMinute(l))}),t.k0s(),t.DNE(5,z_,3,4,"mat-form-field",6)(6,A_,3,3,"ngx-mat-timepicker-toggle",7),t.k0s(),t.j41(7,"ngx-mat-timepicker",8,0),t.bIt("timeSet",function(l){return t.eBV(a),t.Njj(o.onTimeSet(l))}),t.k0s(),t.DNE(9,L_,2,0,"ng-template",null,1,t.C5r)}if(2&e){let a,r;t.Y8G("ngClass",t.eq3(30,D_,o.disabled)),t.R7$(),t.Y8G("color",o.color)("floatLabel",o.floatLabel)("placeholder","HH")("time",null==(a=o.hour$.getValue())?null:a.time)("min",o.minHour)("max",o.maxHour)("timeUnit",o.timeUnit.HOUR)("disabled",o.disabled)("timeList",o.hoursList)("preventTyping",o.isTimeRangeSet),t.R7$(3),t.Y8G("color",o.color)("floatLabel",o.floatLabel)("placeholder","MM")("time",null==(r=o.minute$.getValue())?null:r.time)("min",0)("max",59)("timeUnit",o.timeUnit.MINUTE)("disabled",o.disabled)("timeList",o.minutesList)("preventTyping",o.isTimeRangeSet),t.R7$(),t.Y8G("ngIf",24!==o.format),t.R7$(),t.Y8G("ngIf",!o.controlOnly),t.R7$(),t.Y8G("color",o.color)("min",o.min)("max",o.max)("defaultTime",o.timepickerTime)("format",o.format)("cancelBtnTmpl",o.cancelBtnTmpl)("confirmBtnTmpl",o.confirmBtnTmpl)}},dependencies:[_.YU,Ks,_.bT,mt.RG,mt.rl,ge.Ve,ge.VO,at.wT,m.YN,m.BC,m.vS,_.pM,at.Sy,Zs,Qs,_.T3,$i,wi.m_,wi.An],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:#00000012;pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),s})(),tu=(()=>{var n;class s{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(e){this._format=P.isTwentyFour(+e)?24:12,e&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(e){this._max="string"!=typeof e?e:P.parseTime(e,{locale:this._locale,format:this.format})}get min(){return this._min}set min(e){this._min="string"!=typeof e?e:P.parseTime(e,{locale:this._locale,format:this.format})}set timepicker(e){this._registerTimepicker(e)}get value(){return this._value?P.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(e){if(!e)return this._value="",void this._updateInputValue();const o=P.formatTime(e,{locale:this._locale,format:this.format});if(P.isTimeAvailable(o,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=o,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(e){this._timepicker.defaultTime=P.formatTime(e,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(e,o,a){this._elementRef=e,this._timepickerLocaleSrv=o,this._matFormField=a,this.cdkOverlayOrigin=new Fe.$Q(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new sn.B,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(e){const o=e.value;o&&o.currentValue&&(this._defaultTime=o.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(e){this.disableClick||(this._timepicker.open(),e.stopPropagation())}registerOnChange(e){this._onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}updateValue(e){this.value=e.target.value,this._onChange(this.value)}writeValue(e){this.value=e,e&&(this._defaultTime=e)}_registerTimepicker(e){if(!e)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=e,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,ji.Q)(this._subsCtrl$)).subscribe(o=>{this.value=o,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(t.aKT),t.rXU(Pt),t.rXU(mt.rl,8))},n.\u0275dir=t.FsC({type:n,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(e,o){1&e&&t.bIt("blur",function(){return o.onTouched()})("click",function(r){return o.onClick(r)})("change",function(r){return o.updateValue(r)}),2&e&&(t.Mr5("disabled",o.disabled),t.BMQ("cdkOverlayOrigin",o.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:[0,"ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[t.Jv_([{provide:m.kq,useExisting:n,multi:!0}]),t.OA$]}),s})(),eu=(()=>{var n;class s{static setLocale(e){return{ngModule:s,providers:[{provide:Ys,useValue:e},{provide:mn,useValue:void 0},Pt]}}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({providers:[Pt,{provide:Mt.Il,useValue:{color:"void"}}],imports:[_.MD,Oi.Pd,m.YN,Mt.Hl,mt.RG,M.hM,Vt.fS,ge.Ve,pe.s5,wi.m_,Fe.z_,Ld.jc,$i,Gi,Us,Ws,Un,Ei,qs,Zs,Mi,Ni,K_,Ks]}),s})();var zi=p(43166);class nu{static addNewEducationalProgramFormValidator(s){let i=s,e=i.controls.weekdayConfig;if(!e.length)return i.setErrors(null),null;let o=0,a=0;return e.controls.forEach(r=>{let l=!1,c={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};r.controls.selected.value?(r.controls.infrastructureId.value||(l=!0,c.invalidInfrastructure=!0),r.controls.startTime.value&&r.controls.endTime.value?new Date("1970-01-01T"+r.controls.startTime.value).getTime()>=new Date("1970-01-01T"+r.controls.endTime.value).getTime()?(l=!0,c.invalidTime=!0):c.invalidTime=!1:(l=!0,c.requireTime=!0),r.setErrors(l?c:null),a++):r.setErrors(null),r.invalid&&o++},e),o||!a?(i.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(i.setErrors(null),null)}}var iu=p(66772);const ou=["startTime"],su=n=>({"mt-2":n}),au=()=>({"ml-2 clickable":!0}),Pi=()=>({"width.px":"auto","height.%":100}),ru=n=>[n],lu=n=>({backTo:n}),cu=()=>({"mr-2":!0}),ta=(n,s)=>({hiddenVisible:n,visibleIpt:s}),ea=n=>({"border border-primary":n}),mu=()=>({"text-primary":!0});function du(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",11),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function _u(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.saveEducationalProgramEmit.emit(!1))}),t.nrm(1,"lucide-icon",46),t.j41(2,"span",47),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG(2);t.Y8G("disabled",i.isSavingProgram),t.R7$(3),t.JRh(t.bMT(4,2,"lang_auto_huy"))}}function uu(n,s){1&n&&t.nrm(0,"lucide-icon",52)}function pu(n,s){1&n&&t.nrm(0,"lucide-icon",53)}function gu(n,s){1&n&&t.nrm(0,"lucide-icon",61),2&n&&t.Y8G("ngClass",t.lJ4(1,mu))}function hu(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",57)(1,"div",58),t.bIt("click",function(){let o;const a=t.eBV(i).$implicit,r=t.XpG().$implicit,l=t.XpG(2).$implicit,c=t.XpG(2);return t.Njj(c.selectSubject(null!==(o=l.id)&&void 0!==o?o:0,null!==(o=r.id)&&void 0!==o?o:0,a))}),t.j41(2,"span",59),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,gu,1,2,"lucide-icon",60),t.k0s()()}if(2&n){const i=s.$implicit;t.Y8G("ngClass",t.eq3(5,ea,i.selected)),t.R7$(3),t.JRh(t.bMT(4,3,i.name)),t.R7$(2),t.Y8G("ngIf",i.selected)}}function fu(n,s){if(1&n&&(t.qex(0),t.j41(1,"h3",54)(2,"span",55),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.DNE(5,hu,6,7,"div",56),t.bVm()),2&n){const i=s.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,2,i.name)," "),t.R7$(2),t.Y8G("ngForOf",i.children)}}function bu(n,s){if(1&n&&(t.qex(0),t.DNE(1,fu,6,4,"ng-container",25),t.bVm()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.subjects)}}function vu(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"h3",48),t.bIt("click",function(){let o;const a=t.eBV(i).$implicit,r=t.XpG(2);return t.Njj(r.showEducationalProgramSubject(null!==(o=a.id)&&void 0!==o?o:0))}),t.j41(2,"span",49),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,uu,1,0,"lucide-icon",50)(6,pu,1,0,"lucide-icon",51),t.k0s(),t.DNE(7,bu,2,1,"ng-container",26),t.bVm()}if(2&n){const i=s.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,4,i.name)," "),t.R7$(2),t.Y8G("ngIf",i.showChild),t.R7$(),t.Y8G("ngIf",!i.showChild),t.R7$(),t.Y8G("ngIf",i.showChild)}}function ku(n,s){1&n&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function xu(n,s){1&n&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function Cu(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"div",64),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.openWeekdayConfig(o.controls.id.value))}),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()}if(2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("formGroup",i),t.R7$(2),t.JRh(t.bMT(4,2,i.controls.name.value))}}function Tu(n,s){1&n&&(t.j41(0,"button",82),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_huy")))}function Su(n,s){1&n&&(t.j41(0,"button",83),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_xac_nhan")))}function Iu(n,s){1&n&&t.nrm(0,"p",84)}function yu(n,s){1&n&&(t.j41(0,"mat-label"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function ju(n,s){if(1&n&&(t.j41(0,"mat-option",85),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.FS9("value",i.id),t.R7$(),t.JRh(i.name)}}function Ou(n,s){1&n&&(t.qex(0),t.j41(1,"small",86),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function wu(n,s){1&n&&(t.qex(0),t.j41(1,"small",86),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function Fu(n,s){1&n&&(t.qex(0),t.nrm(1,"br"),t.j41(2,"small",87),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(3),t.SpI("* ",t.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function Ru(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",65)(1,"div",66)(2,"span",67),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.openWeekdayConfig(o.controls.id.value))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"lucide-icon",68),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.openWeekdayConfig(o.controls.id.value))}),t.k0s(),t.j41(6,"div",69)(7,"div",70)(8,"div",71),t.nrm(9,"input",72),t.nI1(10,"mytranslate"),t.nrm(11,"ngx-mat-timepicker",73,2),t.k0s(),t.j41(13,"div",74)(14,"span",75),t.EFF(15,"\xa0-\xa0"),t.k0s()(),t.j41(16,"div",71),t.nrm(17,"input",76),t.nI1(18,"mytranslate"),t.nrm(19,"ngx-mat-timepicker",73,3),t.k0s(),t.DNE(21,Tu,3,3,"ng-template",null,4,t.C5r)(23,Su,3,3,"ng-template",null,5,t.C5r)(25,Iu,1,0,"ng-template",null,6,t.C5r),t.j41(27,"lucide-icon",77),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.openWeekdayConfig(o.controls.id.value))}),t.k0s()(),t.j41(28,"mat-form-field",78),t.DNE(29,yu,3,3,"mat-label",26),t.j41(30,"mat-select",79,7),t.bIt("openedChange",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.touchedMatSelect(o,a))}),t.j41(32,"mat-option"),t.nrm(33,"ngx-mat-select-search",80),t.nI1(34,"mytranslate"),t.nI1(35,"mytranslate"),t.k0s(),t.DNE(36,ju,2,2,"mat-option",81),t.k0s()(),t.DNE(37,Ou,4,3,"ng-container",26)(38,wu,4,3,"ng-container",26)(39,Fu,5,3,"ng-container",26),t.k0s()()()}if(2&n){const i=t.sdS(12),e=t.sdS(20),o=t.sdS(22),a=t.sdS(24),r=t.sdS(26),l=t.sdS(31),c=t.XpG().$implicit,d=t.XpG(2);t.Y8G("formGroup",c)("ngClass",t.eq3(36,ea,c.controls.selected.value)),t.R7$(3),t.JRh(t.bMT(4,26,c.controls.name.value)),t.R7$(6),t.FS9("placeholder",t.bMT(10,28,"lang_auto_tu")),t.Y8G("ngxMatTimepicker",i)("format",24),t.R7$(2),t.Y8G("editableHintTmpl",r)("enableKeyboardInput",!0)("cancelBtnTmpl",o)("confirmBtnTmpl",a),t.R7$(6),t.FS9("placeholder",t.bMT(18,30,"lang_auto_den")),t.Y8G("ngxMatTimepicker",e)("format",24),t.R7$(2),t.Y8G("editableHintTmpl",r)("enableKeyboardInput",!0)("cancelBtnTmpl",o)("confirmBtnTmpl",a),t.R7$(10),t.Y8G("ngIf",c.errors&&c.errors.invalidInfrastructure&&!c.controls.infrastructureId.touched),t.R7$(),t.Y8G("value",c.controls.infrastructureId.value),t.R7$(3),t.FS9("placeholderLabel",t.bMT(34,32,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(35,34,"lang_search_not_found")),t.Y8G("formControl",l.searchControl),t.R7$(3),t.Y8G("ngForOf",l.filter(d.listInfrastructureObjs,"name")),t.R7$(),t.Y8G("ngIf",c.errors&&c.errors.requireTime),t.R7$(),t.Y8G("ngIf",c.errors&&c.errors.invalidTime),t.R7$(),t.Y8G("ngIf",c.errors&&c.errors.invalidInfrastructure)}}function Eu(n,s){if(1&n&&(t.qex(0),t.DNE(1,Cu,5,4,"ng-container",26)(2,Ru,40,38,"div",63),t.bVm()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("ngIf",!i.controls.selected.value),t.R7$(),t.Y8G("ngIf",i.controls.selected.value)}}function Mu(n,s){1&n&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Nu(n,s){1&n&&t.nrm(0,"azt-loading-ui",91)}function Gu(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",88)(1,"button",89),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.saveEducationalProgram())}),t.DNE(2,Nu,1,0,"azt-loading-ui",90),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG(2);t.R7$(),t.Y8G("disabled",i.form.invalid||i.isSavingProgram),t.R7$(),t.Y8G("ngIf",i.isSavingProgram),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_luu")," ")}}function Du(n,s){if(1&n){const i=t.RV6();t.DNE(0,_u,5,4,"button",12),t.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3",18),t.EFF(7,"1"),t.k0s()(),t.j41(8,"span",19),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"lucide-icon",20),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.reloadAllEducationalProgram())}),t.k0s()(),t.j41(12,"div",21)(13,"div",22)(14,"ng-scrollbar",23)(15,"div",24),t.DNE(16,vu,8,6,"ng-container",25)(17,ku,4,3,"ng-container",26)(18,xu,4,3,"ng-container",26),t.k0s()()(),t.j41(19,"div",24)(20,"a",27),t.nI1(21,"navigationLocalize"),t.nrm(22,"lucide-icon",28),t.j41(23,"span",29),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()()(),t.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"h3",18),t.EFF(30,"2"),t.k0s()(),t.j41(31,"span",30),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()(),t.j41(34,"div",31)(35,"div",32)(36,"ng-scrollbar",23)(37,"div",33),t.DNE(38,Eu,3,2,"ng-container",25),t.k0s()()()()(),t.j41(39,"div",15)(40,"div",16)(41,"div",17)(42,"h3",18),t.EFF(43,"3"),t.k0s()(),t.j41(44,"span",30),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()(),t.j41(47,"div",34)(48,"div",35)(49,"ng-scrollbar",23)(50,"div",36)(51,"mat-form-field",37)(52,"input",38),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.openDateTimePicker(1))}),t.k0s(),t.j41(53,"button",39),t.bIt("click",function(o){return t.eBV(i),t.XpG().openDateTimePicker(1),t.Njj(o.stopPropagation())}),t.nrm(54,"lucide-icon",40),t.k0s(),t.j41(55,"ngx-mat-datetime-picker",41,1)(57,"ngx-mat-datepicker-actions")(58,"button",42),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s(),t.j41(61,"button",43),t.EFF(62,"OK"),t.k0s()()()(),t.DNE(63,Mu,4,3,"ng-container",26),t.k0s()()(),t.DNE(64,Gu,5,5,"div",44),t.k0s()()()()}if(2&n){const i=t.sdS(56),e=t.XpG();t.Y8G("ngIf",e.programObj),t.R7$(2),t.Y8G("ngClass",t.eq3(41,su,e.programObj)),t.R7$(7),t.JRh(t.bMT(10,29,"lang_config_educational_program_select_new")),t.R7$(2),t.Y8G("ngClass",t.lJ4(43,au)),t.R7$(3),t.Y8G("visibility","hover")("ngStyle",t.lJ4(44,Pi)),t.R7$(2),t.Y8G("ngForOf",e.listEducationalProgramObjs),t.R7$(),t.Y8G("ngIf",e.listEducationalProgramObjs.length>0&&!e.form.controls.chooseProgramId.value),t.R7$(),t.Y8G("ngIf",!e.listEducationalProgramObjs.length),t.R7$(2),t.Y8G("routerLink",t.eq3(45,ru,t.bMT(21,31,"/business/create-general-educational-program")))("queryParams",t.eq3(47,lu,e.currentURL)),t.R7$(2),t.Y8G("ngClass",t.lJ4(49,cu)),t.R7$(2),t.JRh(t.bMT(25,33,"lang_config_educational_program_add_new")),t.R7$(8),t.JRh(t.bMT(33,35,"lang_config_educational_program_add_time")),t.R7$(3),t.Y8G("ngClass",t.l_i(50,ta,e.form.controls.stepChoose.value<2,e.form.controls.stepChoose.value>=2)),t.R7$(),t.Y8G("visibility","hover")("ngStyle",t.lJ4(53,Pi)),t.R7$(2),t.Y8G("ngForOf",e.form.controls.weekdayConfig.controls),t.R7$(7),t.JRh(t.bMT(46,37,"lang_config_educational_program_add_start_time")),t.R7$(3),t.Y8G("ngClass",t.l_i(54,ta,e.form.controls.stepChoose.value<3,e.form.controls.stepChoose.value>=3)),t.R7$(),t.Y8G("visibility","hover")("ngStyle",t.lJ4(57,Pi)),t.R7$(3),t.Y8G("max",e.maxDate)("ngxMatDatetimePicker",i),t.R7$(3),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(4),t.JRh(t.bMT(60,39,"lang_auto_dong")),t.R7$(4),t.Y8G("ngIf",e.form.controls.startTimeEducationalProgram.invalid),t.R7$(),t.Y8G("ngIf",!e.statusObj.loading)}}let $u=(()=>{var n;class s extends O.H{openDateTimePicker(e){1==e&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(e){this.listEducationalProgramObjs.forEach(o=>{o.id==e&&(o.showChild=!o.showChild,o.showChild||o.subjects.forEach(a=>{a.children?.forEach(r=>{r.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0),r.selected=!1,this.initFormWeekly())})}))})}selectSubject(e,o,a){this.listEducationalProgramObjs.forEach(r=>{r.id==e?r.subjects.forEach(l=>{l.id==o?l.children?.forEach(c=>{c.id==a.id?(c.selected=!c.selected,this.form.controls.chooseProgramId.setValue(c.selected?a.id:0),this.form.controls.stepChoose.setValue(c.selected?2:1)):c.selected=!1}):l.children?.map(c=>c.selected=!1)}):r.subjects.map(l=>l.children?.map(c=>c.selected=!1))})}reloadAllEducationalProgram(){this.form.controls.chooseProgramId.setValue(0),this.initFormWeekly(),this.initData()}openWeekdayConfig(e){this.form.controls.weekdayConfig.controls.forEach(o=>{o.controls.id.value==e&&o.controls.selected.setValue(!o.controls.selected.value)})}touchedMatSelect(e,o){e?o.controls.infrastructureId.markAsTouched():o.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let e={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,e)).subscribe(o=>{if(this.isSavingProgram=!1,!o.success)return this.errorStatusObj(o.message,!0);this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.saveEducationalProgramEmit.emit(!0)}))}convertStudyTimes(){let e=[];return this.form.controls.weekdayConfig.controls.forEach(o=>{if(o.controls.selected.value){let a={days:o.controls.id.value,fromHour:new Date("1970-01-01T"+o.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+o.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+o.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+o.controls.endTime.value).getMinutes(),roomId:o.controls.infrastructureId.value};e.push(a)}}),e}convertSubjectList(e,o){let a=[];return e.forEach(r=>{if(r.schoolLevelId==o)if(a.filter(c=>c.id==r.schoolSubjectId&&c.levelId==r.schoolLevelId).length)a.forEach(c=>{c.id==r.schoolSubjectId&&c.levelId==r.schoolLevelId&&(c.children?.find(d=>d==r)||c.children?.push(r))});else{let c={id:r.schoolSubjectId,levelId:r.schoolLevelId,name:this.schoolSubjectObjs.find(d=>d.id==r.schoolSubjectId)?.name,children:[r]};a.push(c)}}),a}convertProgramInfo(e){let o=[],a=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",r=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return e.forEach(l=>{if(l.name=`${l.name} (${l.totalSession} ${r})`,!o.filter(d=>d.id==l.schoolLevelId).length){let d={id:l.schoolLevelId,name:a+" "+l.schoolLevelId,subjects:this.convertSubjectList(e,l.schoolLevelId),showChild:!1};o.push(d)}}),o.sort((l,c)=>(c.id??0)-(l.id??0))}convertListInfrastructure(e){let o=[],a=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return e.forEach(r=>{r.name=`${r.infrastructure?.name??""} - ${r.name} (${r.numberSeat} ${a})`,o.push(r)}),o}getAllInfrastructure(){this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresRoomsGet()).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.listInfrastructureObjs=this.convertListInfrastructure(e.data?.list??[]),this.stopStatusObj()}))}initFormWeekly(){this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let e=0;e<7;e++){let o=new m.gE({id:new m.MJ(e,{nonNullable:!0}),name:new m.MJ("lang_config_educational_program_day_"+e,{nonNullable:!0}),startTime:new m.MJ("",{nonNullable:!0}),endTime:new m.MJ("",{nonNullable:!0}),infrastructureId:new m.MJ(0,{nonNullable:!0}),selected:new m.MJ(!1,{nonNullable:!0}),invalidTime:new m.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(o)}}initData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsListPost({page:0,size:-1})).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.listEducationalProgramObjs=this.convertProgramInfo(e.data?.list??[]),this.getAllInfrastructure()}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{1==e.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(e.data?.schoolLevelSubjectObjs.map(o=>o.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(e.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(o=>o.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(e,o,a,r,l,c,d){super(),this.cd=e,this.timeService=o,this.classroomService=a,this.programService=r,this.infrastructureService=l,this.sAZTranslateService=c,this.commonListService=d,this.saveEducationalProgramEmit=new t.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=Zn.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new m.gE({chooseProgramId:new m.MJ(0,{nonNullable:!0,validators:[m.k0.required,m.k0.min(1)]}),startTimeEducationalProgram:new m.MJ("",{nonNullable:!0,validators:[m.k0.required]}),weekdayConfig:new m.Yp([]),stepChoose:new m.MJ(1,{nonNullable:!0})},{validators:[nu.addNewEducationalProgramFormValidator]}),this.initFormWeekly()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(t.gRc),t.rXU(xt.F),t.rXU(z.zS),t.rXU(z.sC),t.rXU(z.BU),t.rXU(iu.o),t.rXU(xn.Nz))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-add-new-educational-program"]],viewQuery:function(e,o){if(1&e&&t.GBs(ou,5),2&e){let a;t.mGM(a=t.lsd())&&(o.startTime=a.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},standalone:!0,features:[t.Jv_([{provide:nt.$O,useClass:qt.fb,deps:[at.Ju,Ie.ij]},{provide:nt.vq,useFactory:se.In,deps:[xt.F]}]),t.Vt3,t.aNF],decls:5,vars:3,consts:[["doneLoading",""],["startTime",""],["timeStartPicker",""],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["searchInListInfrastructure","searchInList"],[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw","size","18",3,"click","ngClass"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"click","max","ngxMatDatetimePicker"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"click","disabled"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block","ml-1"],[1,"flex","items-center","mt-2","cursor-pointer",2,"font-weight","420","font-size","15px",3,"click"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"mr-2"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","items-center","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"click","formGroup"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","items-center","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],[1,"text-center","flex",2,"height","38px","width","10px","align-items","center"],[2,"vertical-align","middle","height","16px","width","10px","margin-left","-2px"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["searchInList","","formControlName","infrastructureId",3,"openedChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(e,o){if(1&e&&(t.j41(0,"div",8)(1,"form",9),t.DNE(2,du,1,1,"azt-loading-effect",10)(3,Du,65,58,"ng-template",null,0,t.C5r),t.k0s()()),2&e){const a=t.sdS(4);t.R7$(),t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[eu,$i,tu,we.An,we.U9,zi.x,Y.K,$.R,f.F2,_.MD,_.YU,_.Sq,_.bT,_.B3,m.X1,m.qT,m.me,m.BC,m.cb,m.l_,m.j4,m.JD,m.v8,b.iI,b.Wk,m.YN,f.wp,S.s,at.wT,Mt.$z,Vt.fg,mt.rl,mt.nJ,mt.yw,ge.VO,nt.m7,nt.yF,nt.HF,nt.gx,nt.Uq,h.flO,h.WGl,y.L,x.Id,x.Yh,I.k,ae.t],encapsulation:2}),s})();const zu=()=>({"zoom-in":!0}),Pu=()=>[];function Au(n,s){if(1&n&&(t.qex(0),t.j41(1,"p",5),t.EFF(2),t.k0s(),t.bVm()),2&n){const i=s.$implicit;t.R7$(2),t.SpI("",i.content," ")}}function Lu(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.editContent())}),t.nrm(1,"lucide-icon",7),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,zu)))}function Yu(n,s){if(1&n&&(t.j41(0,"div",2)(1,"div"),t.DNE(2,Au,3,1,"ng-container",3),t.k0s(),t.DNE(3,Lu,2,2,"div",4),t.k0s()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngForOf",i.contents),t.R7$(),t.Y8G("ngIf",i.teacherRole)}}function Bu(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",21),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.removeContent(o))}),t.nrm(2,"lucide-icon",22),t.k0s()}if(2&n){const i=t.XpG(3);t.FS9("matTooltip",t.bMT(1,2,"lang_button_delete")),t.Y8G("disabled",i.statusObj.loading)}}function Vu(n,s){1&n&&(t.j41(0,"div",23)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function Xu(n,s){if(1&n&&(t.j41(0,"div")(1,"div",17),t.nrm(2,"input",18),t.nI1(3,"mytranslate"),t.DNE(4,Bu,3,4,"button",19),t.k0s(),t.DNE(5,Vu,4,3,"div",20),t.k0s()),2&n){const i=s.$implicit,e=t.XpG(2);t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),t.Y8G("formControl",i.controls.content)("disabled",e.statusObj.loading),t.R7$(2),t.Y8G("ngIf",e.listFormContent.controls.length>1),t.R7$(),t.Y8G("ngIf",i.controls.content.errors)}}function Uu(n,s){1&n&&t.nrm(0,"azt-loading-ui",24),2&n&&t.Y8G("size",16)}function Hu(n,s){1&n&&t.nrm(0,"lucide-icon",25)}function Ju(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",8),t.DNE(1,Xu,6,7,"div",3),t.j41(2,"div",9)(3,"button",10),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.viewContent())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"button",11),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addContent())}),t.nrm(7,"lucide-icon",12),t.j41(8,"span",13),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.saveContent())}),t.DNE(12,Uu,1,1,"azt-loading-ui",15)(13,Hu,1,0,"lucide-icon",16),t.j41(14,"span",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()}if(2&n){let i;const e=t.XpG();t.R7$(),t.Y8G("ngForOf",null!==(i=null==e.listFormContent?null:e.listFormContent.controls)&&void 0!==i?i:t.lJ4(15,Pu)),t.R7$(2),t.Y8G("disabled",e.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(5,9,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",e.statusObj.loading||e.isEmptyContent()),t.R7$(3),t.SpI(" ",t.bMT(10,11,"lang_button_add")," "),t.R7$(2),t.Y8G("disabled",e.statusObj.loading||e.isEmptyContent()),t.R7$(),t.Y8G("ngIf",e.statusObj.loading),t.R7$(),t.Y8G("ngIf",!e.statusObj.loading),t.R7$(2),t.SpI(" ",t.bMT(16,13,"lang_button_save")," ")}}let Wu=(()=>{var n;class s extends O.H{isEmptyContent(){return!!this.listFormContent.controls.find(e=>e.controls.content.errors)}editContent(){this.listFormContent=new m.Yp(this.contents.map(e=>new m.gE({contentId:new m.MJ(e.id,{nonNullable:!0,validators:[m.k0.required]}),content:new m.MJ(e.content,{nonNullable:!0,validators:[m.k0.required]})})))}addContent(){var e=this.listFormContent.controls.map(o=>o.getRawValue().contentId);this.listFormContent.controls.push(new m.gE({contentId:new m.MJ(this.commonService.getVirtualIdWithoutInList(!0,e),{nonNullable:!0,validators:[m.k0.required]}),content:new m.MJ("",{nonNullable:!0,validators:[m.k0.required]})}))}removeContent(e){this.listFormContent.controls=this.listFormContent.controls.filter(o=>o!=e)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let e={contents:this.listFormContent?.controls.map(o=>({id:o.getRawValue().contentId<0?0:o.getRawValue().contentId,content:o.getRawValue().content}))??[]};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,e)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)}))}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.classroomService=e,this.contents=[],this.close=new t.bkB,this.listFormContent=new m.Yp([])}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.zS))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},standalone:!0,features:[t.Jv_([{provide:nt.$O,useClass:qt.fb,deps:[at.Ju,Ie.ij]},{provide:nt.vq,useFactory:se.In,deps:[xt.F]}]),t.Vt3,t.aNF],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"click","disabled"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"click","disabled"],["name","plus","size","16"],[1,"ml-1"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"click","disabled"],[3,"size",4,"ngIf"],["name","save","size","16",4,"ngIf"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"click","matTooltip","disabled"],["name","trash-2","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[3,"size"],["name","save","size","16"]],template:function(e,o){1&e&&t.DNE(0,Yu,4,2,"div",0)(1,Ju,17,16,"div",1),2&e&&(t.Y8G("ngIf",0==o.listFormContent.controls.length),t.R7$(),t.Y8G("ngIf",o.listFormContent.controls.length>0))},dependencies:[$.R,_.MD,_.YU,_.Sq,_.bT,m.X1,m.me,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,x.Id,I.k],encapsulation:2}),s})();var qu=p(64198),Ai=p(75421),Qu=p(91584),Zu=p(93518),na=p(25791);function Ku(n,s){1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function tp(n,s){if(1&n&&(t.j41(0,"div",15)(1,"label",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"input",16),t.nI1(5,"mytranslate"),t.DNE(6,Ku,3,3,"div",10),t.k0s()),2&n){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_student_name_component_score")," "),t.R7$(2),t.FS9("placeholder",t.bMT(5,5,"lang_student_enter_name_component_score")),t.R7$(2),t.Y8G("ngIf",i.form.controls.name.dirty&&i.form.controls.name.errors)}}function ep(n,s){if(1&n&&(t.j41(0,"div",15)(1,"label",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"input",18),t.nI1(5,"mytranslate"),t.k0s()),2&n){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"homework"==i.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),t.R7$(2),t.FS9("placeholder",t.bMT(5,5,"lang_student_enter_name_component_score")),t.Y8G("value",i.data.documentName)}}function np(n,s){1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function ip(n,s){1&n&&t.nrm(0,"azt-loading-ui",19)}let Li=(()=>{var n;class s extends ot._{setValueCoeffcient(){var e=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(e)??0)}createStartingPoint(){let e={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,e).subscribe(o=>{o?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(e)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(e).subscribe(o=>{o?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(e)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(e,o,a){super(a,o),this.commonMarkService=e,this.dialogRef=o,this.data=a,this.form=new m.gE({name:new m.MJ({value:a.name??"",disabled:0==a.canEditName},{nonNullable:!0,validators:[m.k0.required,me.M.noWhiteSpace]}),coefficient:new m.MJ(a.coefficient,{nonNullable:!0,validators:[m.k0.required,m.k0.pattern(/^[1-9]\d*$/)]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(na.a),t.rXU(M.CP,8),t.rXU(M.Vh))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-create-score-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"input","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",5),t.DNE(8,tp,7,7,"div",6)(9,ep,6,7,"div",6),t.j41(10,"div",7)(11,"label",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"input",9),t.nI1(15,"mytranslate"),t.bIt("input",function(){return o.setValueCoeffcient()}),t.k0s(),t.DNE(16,np,3,3,"div",10),t.k0s()()(),t.j41(17,"div",11)(18,"button",12),t.bIt("click",function(){return o.dialogRef.close()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",13),t.bIt("click",function(){return o.createStartingPoint()}),t.DNE(22,ip,1,0,"azt-loading-ui",14),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("formGroup",o.form),t.R7$(4),t.SpI(" ",t.bMT(6,11,o.data.id?o.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),t.R7$(3),t.Y8G("ngIf",!o.data.isOnlyCoefficient),t.R7$(),t.Y8G("ngIf",o.data.isOnlyCoefficient),t.R7$(3),t.SpI(" ",t.bMT(13,13,"lang_student_score_factor")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,15,"lang_student_enter_score_factor")),t.R7$(2),t.Y8G("ngIf",o.form.controls.coefficient.dirty&&o.form.controls.coefficient.errors),t.R7$(3),t.JRh(t.bMT(20,17,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",o.form.controls.name.errors&&!o.data.isOnlyCoefficient||o.form.controls.coefficient.errors),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(24,19,"lang_button_save")," "))},dependencies:[$.R,_.MD,_.bT,m.X1,m.qT,m.me,m.Q0,m.BC,m.cb,m.j4,m.JD,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k,ae.t],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),s})();const ia=n=>({"text-slate-700":n}),un=(n,s)=>({"text-slate-600":n,"text-warning":s}),Ae=n=>[n],pn=n=>({backto:n}),op=()=>({"text-pending":!0}),sp=()=>({"text-primary":!0}),ap=(n,s)=>({"text-success":n,"text-slate-700/50":s}),rp=(n,s,i,e,o,a)=>({backto:n,classroomId:s,programId:i,sessionId:e,levelId:o,subjectId:a}),lp=(n,s)=>({"text-slate-600":n,"btn-text-primary":s}),gn=n=>({width:n}),hn=n=>({"dropdown-menu-scroll":n}),oa=()=>({"mr-2":!0});function cp(n,s){if(1&n&&(t.j41(0,"div",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,i.errorApiMessage)," ")}}function mp(n,s){if(1&n){const i=t.RV6();t.j41(0,"app-add-new-educational-program",15),t.bIt("saveEducationalProgramEmit",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.emitDataReloadSession(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("classroomId",i.classroomId)("programObj",i.programObj)}}function dp(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.addNewEducationalProgram())}),t.nrm(1,"lucide-icon",22),t.j41(2,"span",23),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_educational_program_select_another")))}function _p(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",26)(1,"a",27),t.bIt("auxclick",function(o){const a=t.eBV(i).$implicit,r=t.XpG(4);return t.Njj(r.previewFile(a,o))})("click",function(o){const a=t.eBV(i).$implicit,r=t.XpG(4);return t.Njj(r.previewFile(a,o))}),t.nrm(2,"azt-document-type-file",28),t.k0s()()}if(2&n){let i;const e=s.$implicit;t.R7$(2),t.Y8G("type",e.documentType)("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function up(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",24),t.DNE(2,_p,3,5,"div",25),t.k0s(),t.bVm()),2&n){const i=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",i.generalDocumentObjs)}}function pp(n,s){1&n&&t.nrm(0,"lucide-icon",33)}function gp(n,s){1&n&&t.nrm(0,"lucide-icon",34)}function hp(n,s){1&n&&(t.j41(0,"button",43),t.nrm(1,"lucide-icon",44),t.j41(2,"span",45),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_student_absence")))}function fp(n,s){1&n&&(t.j41(0,"button",46),t.nrm(1,"lucide-icon",44),t.k0s())}function bp(n,s){if(1&n&&(t.j41(0,"div",40),t.DNE(1,hp,5,3,"button",41),t.nI1(2,"allowFeatureBusinessForUser"),t.nI1(3,"async"),t.DNE(4,fp,2,0,"button",42),t.nI1(5,"allowFeatureBusinessForUser"),t.nI1(6,"async"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",(null==i.studentAttendance?null:i.studentAttendance.absent)&&t.bMT(3,5,t.i5U(2,2,"training_center_student_attendance",!0))),t.R7$(3),t.Y8G("ngIf",(null==i.studentAttendance?null:i.studentAttendance.absent)&&t.bMT(6,10,t.i5U(5,7,"training_center_student_attendance",!0)))}}function vp(n,s){if(1&n&&(t.qex(0),t.j41(1,"span",52),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n){const i=t.XpG(2).$implicit;t.R7$(2),t.JRh(t.bMT(3,1,"lang_test_market_address")+": "+(null==i.room.infrastructure?null:i.room.infrastructure.name)+" - "+i.room.name)}}function kp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",47),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(5);return t.Njj(a.expandSessionObj(o))}),t.j41(1,"div",48)(2,"h3",49)(3,"span",50),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",51),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,vp,4,3,"ng-container",14),t.k0s()()}if(2&n){const i=t.XpG().$implicit;t.R7$(3),t.Y8G("ngClass",t.eq3(8,ia,i.outOfDate)),t.R7$(),t.JRh(t.bMT(5,4,"lang_core_buoi")+" "+i.sort),t.R7$(3),t.JRh(t.bMT(8,6,"lang_config_educational_program_day_"+i.day)+", "+i.dateSession+" "+i.timeSession),t.R7$(2),t.Y8G("ngIf",i.room)}}function xp(n,s){if(1&n&&(t.qex(0),t.j41(1,"span",70),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n){const i=t.XpG(2).$implicit;t.R7$(2),t.JRh(t.bMT(3,1,"lang_test_market_address")+": "+(null==i.room.infrastructure?null:i.room.infrastructure.name)+" - "+i.room.name)}}function Cp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",59)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"app-education-program-session-content-form",71),t.bIt("close",function(o){t.eBV(i);const a=t.XpG(2).$implicit,r=t.XpG(5);return t.Njj(r.reloadData(o,a))}),t.k0s()()}if(2&n){const i=t.XpG(2).$implicit,e=t.XpG(5);t.R7$(2),t.Y8G("ngClass",t.l_i(8,un,i.outOfDate,!i.outOfDate)),t.R7$(),t.JRh(t.bMT(4,6,"lang_auto_noi_dung")),t.R7$(2),t.Y8G("contents",i.contents)("teacherRole",e.teacherRole)("classroomId",e.classroomId)("sessionId",i.id)}}function Tp(n,s){1&n&&(t.qex(0),t.j41(1,"div",82),t.nrm(2,"img",83),t.nI1(3,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.Y8G("src",t.bMT(3,1,"images/type_file/unknown-file.svg"),t.B4B))}function Sp(n,s){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",84),t.bVm()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,op)))}function Ip(n,s){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",85),t.bVm()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,sp)))}function yp(n,s){if(1&n&&(t.j41(0,"small",86),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.E5c(" ",t.bMT(2,3,"lang_auto_da_nop"),":\xa0",i.totalFinish,"/",i.totalAttendee," ")}}function jp(n,s){if(1&n&&(t.j41(0,"small",87),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.Y8G("ngClass",t.l_i(4,ap,i.totalFinish,!i.totalFinish)),t.R7$(),t.SpI(" ",t.bMT(2,2,i.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function Op(n,s){if(1&n){const i=t.RV6();t.j41(0,"small",88),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"button",89),t.nI1(4,"mytranslate"),t.bIt("click",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(2).$implicit;return t.XpG(5).editMarkCoefficient(a,r),o.stopPropagation(),t.Njj(o.preventDefault())}),t.nrm(5,"lucide-icon",90),t.k0s()()}if(2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme(" ",t.bMT(2,3,"lang_student_score_factor"),":\xa0",i.markCoefficient," "),t.R7$(2),t.FS9("matTooltip",t.bMT(4,5,"lang_student_edit_mark_coefficient"))}}function wp(n,s){if(1&n&&(t.j41(0,"div",72)(1,"a",73),t.nI1(2,"navigationLocalize"),t.j41(3,"div",74)(4,"div",75),t.DNE(5,Tp,4,3,"ng-container",14)(6,Sp,2,2,"ng-container",14)(7,Ip,2,2,"ng-container",14),t.k0s(),t.j41(8,"div",76)(9,"div",77)(10,"span",78,2),t.EFF(12),t.k0s(),t.DNE(13,yp,3,5,"small",79)(14,jp,3,7,"small",80)(15,Op,6,7,"small",81),t.k0s()()()()()),2&n){let i;const e=s.$implicit,o=t.sdS(11),a=t.XpG(7);t.R7$(),t.Y8G("routerLink",t.eq3(14,Ae,t.bMT(2,12,e.documentType==a.allDocumentTypes.exam?a.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(i=e.categoryId)&&void 0!==i?i:0)+"/"+e.refId+"/0":"/de-thi/"+e.hashId:a.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(i=e.classroomId)&&void 0!==i?i:0)+"/"+e.refId+"/"+e.hashId:"/bai-tap/"+e.hashId)))("queryParams",t.eq3(16,pn,a.currentUrl)),t.R7$(4),t.Y8G("ngIf",!e.type),t.R7$(),t.Y8G("ngIf","exam"==e.type),t.R7$(),t.Y8G("ngIf","homework"==e.type),t.R7$(3),t.FS9("matTooltip",e.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.SpI(" ",e.name," "),t.R7$(),t.Y8G("ngIf",a.teacherRole),t.R7$(),t.Y8G("ngIf",!a.teacherRole),t.R7$(),t.Y8G("ngIf",a.teacherRole)}}function Fp(n,s){if(1&n&&(t.j41(0,"a",91),t.nI1(1,"navigationLocalize"),t.j41(2,"span",92),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&n){let i;const e=t.XpG(2).$implicit,o=t.XpG(5);t.Y8G("routerLink",t.eq3(8,Ae,t.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",t.l4e(10,rp,o.currentUrl,o.classroomId,e.programId,e.id,null!==(i=null==o.programObj?null:o.programObj.schoolLevelId)&&void 0!==i?i:0,null!==(i=null==o.programObj?null:o.programObj.schoolSubjectId)&&void 0!==i?i:0))("ngClass",t.l_i(17,lp,e.outOfDate,!e.outOfDate)),t.R7$(3),t.SpI("+ ",t.bMT(4,6,"lang_business_assign_exams"),"")}}function Rp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",106)(1,"a",107),t.bIt("click",function(o){let a;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,c=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(c,null!==(a=r.sessionId)&&void 0!==a?a:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Ep(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",103),t.bIt("auxclick",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))})("click",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,Rp,4,3,"div",105),t.k0s()()}if(2&n){let i;const e=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",e.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function Mp(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ep,4,10,"li",14),t.bVm()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.video)}}function Np(n,s){if(1&n&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,4)(8,"div",101)(9,"ul",102),t.DNE(10,Mp,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&n){const i=t.sdS(7),e=t.XpG(2).$implicit,o=t.XpG(4).last,a=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",e.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+e.name),""," ("+e.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,gn,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,hn,a&&o||e.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",e.documentObjs)}}function Gp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",106)(1,"a",110),t.bIt("click",function(o){let a;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,c=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(c,null!==(a=r.sessionId)&&void 0!==a?a:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Dp(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",109),t.bIt("auxclick",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))})("click",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,Gp,4,3,"div",105),t.k0s()()}if(2&n){let i;const e=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",e.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function $p(n,s){if(1&n&&(t.qex(0),t.DNE(1,Dp,4,10,"li",14),t.bVm()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.document)}}function zp(n,s){if(1&n&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,5)(8,"div",101)(9,"ul",102),t.DNE(10,$p,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&n){const i=t.sdS(7),e=t.XpG(2).$implicit,o=t.XpG(4).last,a=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",e.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+e.name),""," ("+e.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,gn,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,hn,a&&o||e.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",e.documentObjs)}}function Pp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",106)(1,"a",112),t.bIt("click",function(o){let a;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,c=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(c,null!==(a=r.sessionId)&&void 0!==a?a:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Ap(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",111),t.bIt("auxclick",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))})("click",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,Pp,4,3,"div",105),t.k0s()()}if(2&n){let i;const e=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",e.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function Lp(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ap,4,10,"li",14),t.bVm()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.homework)}}function Yp(n,s){if(1&n&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,6)(8,"div",101)(9,"ul",102),t.DNE(10,Lp,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&n){const i=t.sdS(7),e=t.XpG(2).$implicit,o=t.XpG(4).last,a=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",e.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+e.name),""," ("+e.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,gn,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,hn,a&&o||e.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",e.documentObjs)}}function Bp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",106)(1,"a",115),t.bIt("click",function(o){let a;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,c=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(c,null!==(a=r.sessionId)&&void 0!==a?a:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Vp(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",113),t.bIt("auxclick",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))})("click",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))}),t.nrm(2,"azt-document-type-file",114),t.DNE(3,Bp,4,3,"div",105),t.k0s()()}if(2&n){let i;const e=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("type",e.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function Xp(n,s){if(1&n&&(t.qex(0),t.DNE(1,Vp,4,10,"li",14),t.bVm()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.homework_view)}}function Up(n,s){if(1&n&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,7)(8,"div",101)(9,"ul",102),t.DNE(10,Xp,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&n){const i=t.sdS(7),e=t.XpG(2).$implicit,o=t.XpG(4).last,a=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",e.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+e.name),""," ("+e.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,gn,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,hn,a&&o||e.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",e.documentObjs)}}function Hp(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",106)(1,"a",117),t.bIt("click",function(o){let a;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,c=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(c,null!==(a=r.sessionId)&&void 0!==a?a:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Jp(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",116),t.bIt("auxclick",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))})("click",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(a,o))}),t.nrm(2,"azt-document-type-file",114),t.DNE(3,Hp,4,3,"div",105),t.k0s()()}if(2&n){let i;const e=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("type",e.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function Wp(n,s){if(1&n&&(t.qex(0),t.DNE(1,Jp,4,10,"li",14),t.bVm()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.unknown)}}function qp(n,s){if(1&n&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,8)(8,"div",101)(9,"ul",102),t.DNE(10,Wp,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&n){const i=t.sdS(7),e=t.XpG(2).$implicit,o=t.XpG(4).last,a=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+e.name),""," ("+e.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,gn,l.isMobileWebView?r.offsetWidth-40+"px":"18rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,hn,a&&o||e.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",e.documentObjs)}}function Qp(n,s){if(1&n&&(t.j41(0,"div",97),t.DNE(1,Np,11,12,"ng-container",14)(2,zp,11,12,"ng-container",14)(3,Yp,11,12,"ng-container",14)(4,Up,11,12,"ng-container",14)(5,qp,11,12,"ng-container",14),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.video),t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.document),t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.homework),t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.homework_view),t.R7$(),t.Y8G("ngIf",i.name==e.allDocumentGroupTypes.unknown&&i.documentObjs.length)}}function Zp(n,s){if(1&n&&(t.qex(0),t.DNE(1,Qp,6,5,"div",96),t.bVm()),2&n){const i=s.$implicit,e=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name!=e.allDocumentGroupTypes.unknown||i.name==e.allDocumentGroupTypes.unknown&&i.documentObjs.length)}}function Kp(n,s){if(1&n&&(t.qex(0),t.DNE(1,Zp,2,1,"ng-container",20),t.bVm()),2&n){const i=t.XpG(3).$implicit;t.R7$(),t.Y8G("ngForOf",i.groupDocumentObjs)}}function t1(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",106)(1,"a",122),t.bIt("click",function(){let o;t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(4).$implicit,l=t.XpG(5);return t.Njj(l.removeDocumentFromSession(r,null!==(o=a.sessionId)&&void 0!==o?o:0,a.id))}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function e1(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",119)(1,"a",120),t.bIt("auxclick",function(o){const a=t.eBV(i).$implicit,r=t.XpG(9);return t.Njj(r.previewFile(a,o))})("click",function(o){const a=t.eBV(i).$implicit,r=t.XpG(9);return t.Njj(r.previewFile(a,o))}),t.nrm(2,"azt-document-type-file",121),t.k0s(),t.DNE(3,t1,4,3,"div",105),t.k0s()}if(2&n){let i;const e=s.$implicit,o=t.XpG(9);t.R7$(2),t.Y8G("type",e.documentType)("name",null!==(i=e.name)&&void 0!==i?i:"")("url",e.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function n1(n,s){if(1&n&&t.DNE(0,e1,4,5,"div",118),2&n){const i=t.XpG(3).$implicit;t.Y8G("ngForOf",i.normalDocumentObjs)}}function i1(n,s){if(1&n){const i=t.RV6();t.j41(0,"app-upload-document-for-session",123),t.bIt("emitFileDocument",function(o){t.eBV(i);const a=t.XpG(3).$implicit,r=t.XpG(5);return t.Njj(r.uploadFileEmitted(o,a))}),t.j41(1,"span",92),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG(3).$implicit;t.Y8G("isBtn",!0)("customClass",i.outOfDate?"text-slate-600":"text-primary"),t.R7$(2),t.JRh(t.bMT(3,3,"lang_educational_program_add_document"))}}function o1(n,s){if(1&n&&(t.j41(0,"div",63),t.DNE(1,Kp,2,1,"ng-container",93)(2,n1,1,1,"ng-template",null,3,t.C5r),t.j41(4,"div",94),t.DNE(5,i1,4,5,"app-upload-document-for-session",95),t.k0s()()),2&n){const i=t.sdS(3),e=t.XpG(2).$implicit,o=t.XpG(5);t.R7$(),t.Y8G("ngIf",e.groupDocumentObjs.length)("ngIfElse",i),t.R7$(4),t.Y8G("ngIf",o.teacherRole)}}function s1(n,s){1&n&&(t.j41(0,"div",124)(1,"div",125)(2,"span",126),t.nrm(3,"azt-loading-ui",127),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("type","oval"))}function a1(n,s){if(1&n&&(t.j41(0,"a",135),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",136),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(5);t.Y8G("routerLink",t.eq3(8,Ae,t.bMT(1,4,"/admin/student/attendance-student/"+e.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(10,pn,"/admin/student/classroom-details/"+e.classroomId+"/3?sessionId="+i.id+"&backto="+e.backLink)),t.R7$(4),t.Lme("",t.bMT(5,6,"lang_student_attendance_student"),""," ("+i.totalJoinedStudent+"/"+i.totalStudent+")","")}}function r1(n,s){if(1&n&&(t.j41(0,"a",137),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",138),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(5);t.Y8G("routerLink",t.eq3(7,Ae,t.bMT(1,3,"/admin/student/distribute-document/"+e.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(9,pn,"/admin/student/classroom-details/"+e.classroomId+"/3?sessionId="+i.id+"&backto="+e.backLink)),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_distribute_books"))}}function l1(n,s){if(1&n&&(t.j41(0,"a",139),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",140),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(3).$implicit,e=t.XpG(5);t.Y8G("routerLink",t.eq3(7,Ae,t.bMT(1,3,"/admin/student/submit-score/"+e.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(9,pn,"/admin/student/classroom-details/"+e.classroomId+"/3?sessionId="+i.id+"&backto="+e.backLink)),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_enter_score"))}}function c1(n,s){if(1&n&&(t.j41(0,"div",66)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",128),t.DNE(6,a1,6,12,"a",129),t.nI1(7,"allowFeatureBusinessForUser"),t.nI1(8,"async"),t.DNE(9,r1,6,11,"a",130),t.nI1(10,"allowFeatureBusinessForUser"),t.nI1(11,"async"),t.DNE(12,l1,6,11,"a",131),t.nI1(13,"allowFeatureBusinessForUser"),t.nI1(14,"async"),t.j41(15,"a",132),t.nI1(16,"navigationLocalize"),t.nrm(17,"lucide-icon",133),t.j41(18,"span",134),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&n){const i=t.XpG(2).$implicit,e=t.XpG(5);t.R7$(2),t.Y8G("ngClass",t.l_i(29,un,i.outOfDate,!i.outOfDate)),t.R7$(),t.SpI(" ",t.bMT(4,8,"lang_auto_hanh_dong")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(8,13,t.i5U(7,10,"training_center_student_attendance",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(11,18,t.i5U(10,15,"training_center_student_book",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(14,23,t.i5U(13,20,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("routerLink",t.eq3(32,Ae,t.bMT(16,25,"/admin/student/add-comment/"+e.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(34,pn,"/admin/student/classroom-details/"+e.classroomId+"/3?sessionId="+i.id+"&backto="+e.backLink)),t.R7$(4),t.JRh(t.bMT(20,27,"lang_auto_nhap_nhan_xet"))}}function m1(n,s){if(1&n&&(t.j41(0,"div",66)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",128)(6,"div",141)(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"span",142),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()),2&n){const i=t.XpG(2).$implicit;t.R7$(2),t.Y8G("ngClass",t.l_i(10,un,i.outOfDate,!i.outOfDate)),t.R7$(),t.SpI(" ",t.bMT(4,4,"lang_auto_hanh_dong")," "),t.R7$(5),t.JRh(t.bMT(9,6,"lang_business_requested_leave_with_a_reason")),t.R7$(3),t.JRh(null!=i.studentAttendance&&i.studentAttendance.reason?null==i.studentAttendance?null:i.studentAttendance.reason:t.bMT(12,8,"lang_student_absence_no_reason"))}}function d1(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",53)(1,"div",54),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(5);return t.Njj(a.expandSessionObj(o))}),t.j41(2,"h3",55)(3,"span",56),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",57),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,xp,4,3,"ng-container",14),t.k0s(),t.DNE(10,Cp,6,11,"div",58),t.j41(11,"div",59)(12,"div",60)(13,"span",61),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",62)(17,"div",63),t.DNE(18,wp,16,18,"div",64)(19,Fp,5,20,"a",65),t.k0s()()(),t.j41(20,"div",66)(21,"div",60)(22,"span",61),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.j41(25,"div",62),t.DNE(26,o1,6,3,"div",67)(27,s1,4,1,"div",68),t.k0s()(),t.DNE(28,c1,21,36,"div",69),t.nI1(29,"allowFeatureBusinessForUser"),t.nI1(30,"async"),t.nI1(31,"allowFeatureBusinessForUser"),t.nI1(32,"async"),t.nI1(33,"allowFeatureBusinessForUser"),t.nI1(34,"async"),t.DNE(35,m1,13,13,"div",69),t.nI1(36,"allowFeatureBusinessForUser"),t.nI1(37,"async"),t.k0s()}if(2&n){const i=t.XpG().$implicit,e=t.XpG(5);t.BMQ("id","session-"+i.id),t.R7$(3),t.Y8G("ngClass",t.eq3(44,ia,i.outOfDate)),t.R7$(),t.JRh(t.bMT(5,16,"lang_core_buoi")+" "+i.sort),t.R7$(3),t.JRh(t.bMT(8,18,"lang_config_educational_program_day_"+i.day)+", "+i.dateSession+" "+i.timeSession),t.R7$(2),t.Y8G("ngIf",i.room),t.R7$(),t.Y8G("ngIf",i.contents&&i.contents.length),t.R7$(3),t.Y8G("ngClass",t.l_i(46,un,i.outOfDate,!i.outOfDate)),t.R7$(),t.JRh(t.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),t.R7$(4),t.Y8G("ngForOf",i.examHomeworkObjs),t.R7$(),t.Y8G("ngIf",e.teacherRole),t.R7$(3),t.Y8G("ngClass",t.l_i(49,un,i.outOfDate,!i.outOfDate)),t.R7$(),t.JRh(t.bMT(24,22,"lang_testbank_document_list_header_title")),t.R7$(3),t.Y8G("ngIf",!i.isDeletingDocument&&!i.isUploadingDocument),t.R7$(),t.Y8G("ngIf",i.isDeletingDocument||i.isUploadingDocument),t.R7$(),t.Y8G("ngIf",(t.bMT(30,27,t.i5U(29,24,"training_center_student_attendance",!1))||t.bMT(32,32,t.i5U(31,29,"training_center_student_book",!1))||t.bMT(34,37,t.i5U(33,34,"training_center_student_mark",!1)))&&e.teacherRole),t.R7$(7),t.Y8G("ngIf",(null==i.studentAttendance?null:i.studentAttendance.absent)&&t.bMT(37,42,t.i5U(36,39,"training_center_student_attendance",!0))&&!e.teacherRole)}}function _1(n,s){if(1&n&&(t.j41(0,"div",36),t.DNE(1,bp,7,12,"div",37)(2,kp,10,10,"div",38)(3,d1,38,52,"div",39),t.k0s()),2&n){const i=s.$implicit,e=t.XpG(5);t.R7$(),t.Y8G("ngIf",!e.teacherRole),t.R7$(),t.Y8G("ngIf",!i.isExpanded),t.R7$(),t.Y8G("ngIf",i.isExpanded)}}function u1(n,s){if(1&n&&(t.qex(0),t.DNE(1,_1,4,3,"div",35),t.bVm()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.programObjs)}}function p1(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"h3",29)(2,"span",30),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.expand=!o.expand)}),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,pp,1,0,"lucide-icon",31)(6,gp,1,0,"lucide-icon",32),t.k0s()(),t.DNE(7,u1,2,1,"ng-container",14),t.bVm()}if(2&n){const i=s.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,4,i.monthName)," "),t.R7$(2),t.Y8G("ngIf",i.expand),t.R7$(),t.Y8G("ngIf",!i.expand),t.R7$(),t.Y8G("ngIf",i.expand)}}function g1(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",16,1)(3,"div",17)(4,"h3",18),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,dp,5,3,"button",19),t.k0s(),t.DNE(8,up,3,1,"ng-container",14),t.k0s(),t.qex(9),t.DNE(10,p1,8,6,"ng-container",20),t.bVm()()),2&n){const i=t.XpG(2);t.R7$(5),t.SpI(" ",t.bMT(6,4,"lang_educational_program_general_documents")," "),t.R7$(2),t.Y8G("ngIf",i.teacherRole),t.R7$(),t.Y8G("ngIf",i.generalDocumentObjs.length),t.R7$(2),t.Y8G("ngForOf",i.groupProgramSessionObjs)}}function h1(n,s){1&n&&(t.j41(0,"h3",148),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}function f1(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",149),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.addNewEducationalProgram())}),t.nrm(1,"lucide-icon",150),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,oa)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_config_educational_program_select_new")))}function b1(n,s){if(1&n&&(t.j41(0,"div",144)(1,"h3",145),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,h1,3,3,"h3",146)(5,f1,5,5,"button",147),t.k0s()),2&n){const i=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),t.R7$(2),t.Y8G("ngIf",i.teacherRole),t.R7$(),t.Y8G("ngIf",i.teacherRole)}}function v1(n,s){1&n&&(t.j41(0,"h3",148),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function k1(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",152),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.editEducationalProgram())}),t.nrm(1,"lucide-icon",153),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,oa)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_config_educational_program_edit_btn")))}function x1(n,s){if(1&n&&(t.j41(0,"div",144)(1,"h3",145),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,v1,3,3,"h3",146)(5,k1,5,5,"button",151),t.k0s()),2&n){const i=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),t.R7$(2),t.Y8G("ngIf",i.teacherRole),t.R7$(),t.Y8G("ngIf",i.teacherRole)}}function C1(n,s){if(1&n&&(t.qex(0),t.DNE(1,b1,6,5,"div",143)(2,x1,6,5,"ng-template",null,9,t.C5r),t.bVm()),2&n){const i=t.sdS(3),e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.programObj)("ngIfElse",i)}}function T1(n,s){if(1&n&&t.DNE(0,mp,1,2,"app-add-new-educational-program",13)(1,g1,11,6,"ng-container",14)(2,C1,4,2,"ng-container",14),2&n){const i=t.XpG();t.Y8G("ngIf",i.showAddNewEducationalProgram),t.R7$(),t.Y8G("ngIf",!i.showAddNewEducationalProgram&&i.programSessionObjs.length),t.R7$(),t.Y8G("ngIf",!i.showAddNewEducationalProgram&&i.programSessionObjs.length<=0)}}let S1=(()=>{var n;class s extends O.H{emitDataReloadSession(e){e?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(e,o){this.sAztDialogService.open(Li,{data:{id:e.markId??0,name:"",coefficient:e.markCoefficient,programId:o.programId,classroomId:this.classroomId,sessionId:o.id,isOnlyCoefficient:!0,documentName:e.name,documentType:e.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(r=>{r&&this.reloadSessionDataOfProgram(o)})}reloadData(e,o){e&&this.reloadSessionDataOfProgram(o)}reloadSessionDataOfProgram(e){e.isLoadingData=!0,this.reloadSessionDataEmitter.emit(e)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let e=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+(this.programObj?.id??0),"?backTo="+e)}removeDocumentFromSession(e,o,a,r){var l=(e.normalDocumentObjs.filter(d=>d.id==a)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+e.sort.toString(),c=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+l+" </div> ?";this.sAztDialogService.open(Ai.u,{data:{content:c},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(d=>{d&&(e.isDeletingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,o,a)).subscribe(u=>{if(e.isDeletingDocument=!1,!u.success)return this.errorStatusObj(u.message,!0);r&&(r.documentObjs=r.documentObjs.filter(g=>g.id!=a)),e.normalDocumentObjs=e.normalDocumentObjs.filter(g=>g.id!=a),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully")})))})}uploadFileEmitted(e,o){o.isUploadingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,o.id,e)).subscribe(a=>{if(o.isUploadingDocument=!1,!a.success)return this.errorStatusObj(a.message,!0);this.reloadSessionDataOfProgram(o),this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")}))}expandSessionObj(e){e.isExpanded=!e.isExpanded,this.changeSessionDataEmitter.emit(e)}previewFile(e,o){if(this.isBusinessDomain&&e.type==Oe.d.video&&(0,qu.xy)(e.link??""))window.open(e.link,"_blank");else{const a={name:e.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.type),type:e.type,url:e.link};this.sAztDialogService.open(ei.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...a,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let e=this.programSessionObjs.find(o=>o.isExpanded);if(e){let o=document.getElementById("session-"+e.id);window.scrollTo({top:o?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(e,o,a,r){super(),this.sAztDialogService=e,this.cd=o,this.classroomService=a,this.sAztFileTypeService=r,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new t.bkB,this.changeSessionDataEmitter=new t.bkB,this.allDocumentTypes=Oe.d,this.allDocumentGroupTypes=Zu.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i),t.rXU(t.gRc),t.rXU(z.zS),t.rXU(go.k))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["noApiError",""],["generalDocumentsWidget",""],["c","isDisabled"],["normalViewDocument",""],["matMenuVideo","matMenu"],["matMenuDocument","matMenu"],["matMenuHomework","matMenu"],["matMenuHomeworkView","matMenu"],["matMenuUnknown","matMenu"],["hasProgramObj",""],[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"saveEducationalProgramEmit","classroomId","programObj"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",3,"click"],["name","refresh-cw","size","16"],[1,"ml-2"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"close","contents","teacherRole","classroomId","sessionId"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative flex items-center","style","font-size: 13px",4,"ngIf"],[1,"w-12","h-12","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","48",3,"ngClass"],["name","file-text","size","48",3,"ngClass"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative","flex","items-center",2,"font-size","13px"],["matRipple","","azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"btn","btn-outline-primary","btn-sm","border-0","shadow-none","p-1",3,"click","matTooltip"],["name","square-pen","size","16"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3","items-center","cursor-pointer","text-primary",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],["name","circle-arrow-down","size","18"],["xPosition","after"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"emitFileDocument","isBtn","customClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-pen","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(e,o){if(1&e&&(t.j41(0,"div",10),t.DNE(1,cp,3,3,"div",11)(2,T1,3,3,"ng-template",null,0,t.C5r),t.k0s()),2&e){const a=t.sdS(3);t.R7$(),t.Y8G("ngIf",!o.statusObj.loading&&o.errorApiMessage)("ngIfElse",a)}},dependencies:[Te.f,$u,Qu.m,Wu,Pm.J,$.R,f.F2,_.MD,_.YU,_.Sq,_.bT,_.B3,_.Jj,m.X1,b.iI,b.Wk,m.YN,f.wp,f.Vs,S.s,tt.kk,tt.Cp,at.r6,B.oV,h.flO,h.WGl,y.L,f.bj,x.Id,I.k],encapsulation:2}),s})();function I1(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function y1(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",3)(1,"app-list-sessions",4),t.bIt("reloadSessionDataEmitter",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.reloadSessionData(o))})("changeSessionDataEmitter",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.changeSessionData(o))}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("teacherRole",i.teacherRole)("classroomId",i.classroomId)("backLink",i.backLink)("errorApiMessage",i.errorApiMessage)("generalDocumentObjs",i.generalDocumentObjs)("programSessionObjs",i.programSessionObjs)("groupProgramSessionObjs",i.groupProgramSessionObjs)("programObj",i.programObj)}}let j1=(()=>{var n;class s extends O.H{changeSessionData(e){this.programSessionObjs.map(o=>o.id==e.id?e:o),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${e.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(e){this.initData(e)}convertNormalDocumentByGroup(e){let o={};return e.forEach(a=>{a.groupType&&(o.hasOwnProperty(a.groupType)||(o[a.groupType]=[]),o[a.groupType].push(a))}),o}processData(e){let o=this.commonService.arrayToDictionary(e,r=>r.groupType?r.groupType:"unknown"),a=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(o).forEach(([r,l],c)=>{if(l.length>0){let d={name:r,documentObjs:l};"video"==d.name&&(a[0]=d),"document"==d.name&&(a[1]=d),"homework"==d.name&&(a[2]=d),"homework_view"==d.name&&(a[3]=d),"unknown"==d.name&&(a[4]=d)}}),a}convertDocumentsOfSession(e,o){let a=(new Date).toDateString(),r=!1;return e.forEach((l,c)=>{l.normalDocumentObjs=l.allDocumentObjs.filter(g=>"exam"!=g.type&&"homework"!=g.type),l.examHomeworkObjs=l.allDocumentObjs.filter(g=>"exam"==g.type||"homework"==g.type),l.groupDocumentObjs=this.processData(l.normalDocumentObjs),l.indexSession=l.sort;let d="",u="";if(l.fromTime){let g=new Date(l.fromTime),k=new Date(g.toDateString()),v=new Date(a),j=Math.floor((k.getTime()-v.getTime())/1e3);l.dateSession=this.timeService.getFormatDate(l.fromTime),l.outOfDate=j<0,l.monthSession=g.getMonth()+1,l.yearSession=g.getFullYear(),d+=this.addZeroToTime(g.getHours())+":"+this.addZeroToTime(g.getMinutes()),u=this.timeService.calculationTimeAgoOnlyDate(k,v)}if(l.toTime){let g=new Date(l.toTime);d+=" - "+this.addZeroToTime(g.getHours())+":"+this.addZeroToTime(g.getMinutes())}d+=u?" ("+u+")":"",l.timeSession=d,r||(l.isExpanded=o?l.isExpanded:!l.outOfDate,l.isExpanded&&(r=!0))}),e}addZeroToTime(e){return e<10?"0"+e:e.toString()}getSchoolLeaveObjs(e,o){if(!e.length||this.teacherRole)return o(e);this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsAttendancesMeGet(this.classroomId)).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0),o(e);e.map(r=>{r.studentAttendance=a.data?.list.find(l=>l.sessionId==r.id)}),o(e)}))}initData(e){e||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let o=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(this.wrapApiResponse(o).subscribe(a=>{if(!a.success)return this.errorApiMessage=a.message,this.errorStatusObj(a.message,!0);this.generalDocumentObjs=a.data?.generalDocuments.map(l=>({...l,documentType:this.commonService.getEnumTypeWithDefault(Oe.d,l.type,Oe.d.unknown)}))??[],this.programObj=a.data?.program;let r=a.data?.sessions.map(l=>({...l,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:l.documents.map(c=>({...c,documentType:this.commonService.getEnumTypeWithDefault(Oe.d,c.type,Oe.d.unknown)}))}))??[];r=this.convertDocumentsOfSession(r,!!e),this.getSchoolLeaveObjs(r,l=>{if(e){let g=l.find(k=>k.id==e.id);this.programSessionObjs=this.programSessionObjs.map(k=>k.id==g?.id?{...g,isExpanded:k.isExpanded}:k)}else this.programSessionObjs=l;this.sessionId&&this.programSessionObjs.map(g=>g.isExpanded=g.id==this.sessionId);let c=this.commonService.arrayToDictionary(this.programSessionObjs,g=>g.monthSession?.toString()+"/"+g.yearSession?.toString()),d=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",u=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(c).forEach(([g,k],v)=>{let j=k.find(G=>G.isExpanded);this.groupProgramSessionObjs.push({monthName:d+" "+g,programObjs:k,expand:!(g!=u&&!j)})}),this.stopStatusObj()})}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(e,o,a,r){super(),this.classroomService=e,this.timeService=o,this.studentService=a,this.activeRoute=r,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.zS),t.rXU(xt.F),t.rXU(z.b0),t.rXU(b.nX))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"reloadSessionDataEmitter","changeSessionDataEmitter","teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj"]],template:function(e,o){if(1&e&&t.DNE(0,I1,1,1,"azt-loading-effect",1)(1,y1,2,8,"ng-template",null,0,t.C5r),2&e){const a=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[Y.K,S1,_.MD,_.bT,m.X1,b.iI,m.YN,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})(),O1=(()=>{var n;class s extends O.H{ngOnInit(){this.waitDestroy((0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=e||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(e){super(),this.activeRoute=e,this.classroomId=0,this.sessionId=0,this.backLink=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(e,o){1&e&&t.nrm(0,"app-view-educational-program",0),2&e&&t.Y8G("teacherRole",!o.isStudent)("classroomId",o.classroomId)("sessionId",o.sessionId)("backLink",o.backLink)},dependencies:[j1,_.MD,m.X1,b.iI,m.YN,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();var ee=p(22613),Jt=p(37497),Hn=p(11002),fn=p(66729);const sa=()=>[];function w1(n,s){1&n&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_core_thang")))}function F1(n,s){if(1&n&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_thang")," ",i.dataFilter.monthSelected,"")}}function R1(n,s){1&n&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_core_nam")))}function E1(n,s){if(1&n&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_nam")," ",i.dataFilter.yearSelected,"")}}function M1(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_tat_ca")))}function N1(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().index;t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_thang")," ",i,"")}}function G1(n,s){if(1&n){const i=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){const o=t.eBV(i).index,a=t.XpG();return t.Njj(a.selectMonth(o))}),t.DNE(1,M1,3,3,"span",14)(2,N1,3,4,"span",14),t.k0s()}if(2&n){const i=s.index,e=t.XpG();t.Y8G("ngClass",e.dataFilter.monthSelected==i?"color-select":""),t.R7$(),t.Y8G("ngIf",0==i),t.R7$(),t.Y8G("ngIf",i>0)}}function D1(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_tat_ca")))}function $1(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().index,e=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_nam")," ",e.currentDate.getFullYear()-(i-1),"")}}function z1(n,s){if(1&n){const i=t.RV6();t.j41(0,"li",15),t.bIt("click",function(){const o=t.eBV(i).index,a=t.XpG();return t.Njj(a.selectYear(o))}),t.DNE(1,D1,3,3,"span",14)(2,$1,3,4,"span",14),t.k0s()}if(2&n){const i=s.index,e=t.XpG();t.Y8G("ngClass",!e.dataFilter.yearSelected||e.currentDate.getFullYear()-(e.dataFilter.yearSelected-1)!=i&&0!=e.dataFilter.yearSelected?"":"color-select"),t.R7$(),t.Y8G("ngIf",0==i),t.R7$(),t.Y8G("ngIf",i>0)}}let aa=(()=>{var n;class s extends O.H{selectMonth(e){this.isApply=!0,this.dataFilter.monthSelected=e,this.sendFilter.emit(this.dataFilter)}selectYear(e){this.isApply=!0,this.dataFilter.yearSelected=e>0?this.currentDate.getFullYear()-(e-1):e,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new t.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:13,consts:[["filterByMonth","matMenu"],["filterByYear","matMenu"],[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"]],template:function(e,o){if(1&e&&(t.j41(0,"div",2)(1,"div",3),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",4),t.DNE(5,w1,3,3,"span",5)(6,F1,3,4,"span",5),t.nrm(7,"lucide-icon",6),t.k0s(),t.j41(8,"div",4),t.DNE(9,R1,3,3,"span",5)(10,E1,3,4,"span",5),t.nrm(11,"lucide-icon",6),t.k0s()(),t.j41(12,"mat-menu",7,0)(14,"div",8)(15,"ul",9),t.DNE(16,G1,3,3,"li",10),t.k0s()()(),t.j41(17,"mat-menu",7,1)(19,"div",8)(20,"ul",9),t.DNE(21,z1,3,3,"li",11),t.k0s()()()),2&e){const a=t.sdS(13),r=t.sdS(18);t.R7$(2),t.SpI(" ",t.bMT(3,9,"lang_testbank_tested_list_sort"),": "),t.R7$(2),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.Y8G("ngIf",!o.dataFilter.monthSelected),t.R7$(),t.Y8G("ngIf",o.dataFilter.monthSelected&&o.dataFilter.monthSelected>0),t.R7$(2),t.Y8G("matMenuTriggerFor",r),t.R7$(),t.Y8G("ngIf",!o.dataFilter.yearSelected),t.R7$(),t.Y8G("ngIf",o.dataFilter.yearSelected&&o.dataFilter.yearSelected>0),t.R7$(6),t.Y8G("ngForOf",t.lJ4(11,sa).constructor(13)),t.R7$(5),t.Y8G("ngForOf",t.lJ4(12,sa).constructor(10))}},dependencies:[_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,tt.kk,tt.Cp,h.flO,h.WGl,y.L,x.Id,I.k],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]}),s})();const P1=["table_score_student"],Yi=()=>[],A1=()=>({"mr-2":!0}),L1=()=>({"text-success":!0});function Y1(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.downloadTableScore())}),t.nrm(2,"lucide-icon",13),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,A1)),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_export_a_grade_sheet")))}function B1(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",14)(1,"button",15),t.nI1(2,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.downloadTableScore())}),t.nrm(3,"lucide-icon",16),t.k0s(),t.j41(4,"button",17),t.nI1(5,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.closeDialog.emit(o.isEdit))}),t.nrm(6,"lucide-icon",18),t.k0s()()}2&n&&(t.R7$(),t.FS9("matTooltip",t.bMT(2,2,"lang_student_export_a_grade_sheet")),t.R7$(3),t.FS9("matTooltip",t.bMT(5,4,"lang_auto_thoat")))}function V1(n,s){1&n&&t.nrm(0,"azt-loading-ui",25)}function X1(n,s){if(1&n&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",t.bMT(3,4,i.createdAt)," ")}}function U1(n,s){if(1&n&&(t.j41(0,"div",36)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",37),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function H1(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",38),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.editScore(o))}),t.nrm(2,"lucide-icon",39),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_student_sua_dau_diem"))}function J1(n,s){if(1&n&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function W1(n,s){if(1&n&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.Y8G("mark",e.returnValue(i))}}function q1(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",42),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.bIt("input",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.handleMarkStudent(o,a.id))}),t.k0s()}if(2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.FS9("matTooltip",t.bMT(1,6,"lang_core_diem_duoc_tach_boi_dau_cach")),t.Mz_("id","input_point_",i.id.toString(),""),t.FS9("placeholder",t.bMT(2,8,"lang_auto_nhap_diem")),t.Y8G("disabled",e.isStudent)("value",e.returnValue(i))}}function Q1(n,s){1&n&&(t.nrm(0,"lucide-icon",46),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&n&&t.FCK("matTooltip","",t.bMT(1,3,"lang_auto_sua")," ",t.bMT(2,5,"lang_auto_diem"),"")}function Z1(n,s){1&n&&(t.nrm(0,"lucide-icon",47),t.nI1(1,"mytranslate")),2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_editor_common_cancel"))}function K1(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.viewInput(o.id==a.inputPointSelect?-1:o.id))}),t.DNE(1,Q1,3,7,"lucide-icon",44)(2,Z1,2,3,"lucide-icon",45),t.k0s()}if(2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.inputPointSelect!=i.id),t.R7$(),t.Y8G("ngIf",e.inputPointSelect==i.id)}}function tg(n,s){1&n&&t.nrm(0,"azt-loading-ui",51)}function eg(n,s){1&n&&t.nrm(0,"lucide-icon",52),2&n&&t.Y8G("ngClass",t.lJ4(1,L1))}function ng(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",48),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.saveMark(o))}),t.DNE(2,tg,1,0,"azt-loading-ui",49)(3,eg,1,2,"lucide-icon",50),t.k0s()}if(2&n){const i=t.XpG(3);t.FS9("matTooltip",t.bMT(1,4,"lang_button_save")),t.Y8G("disabled",i.isSave),t.R7$(2),t.Y8G("ngIf",i.isSave),t.R7$(),t.Y8G("ngIf",!i.isSave)}}function ig(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",53),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.goToEditPoint(o))}),t.nrm(2,"lucide-icon",54),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_core_go_to_enter_score"))}function og(n,s){if(1&n&&(t.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),t.EFF(4),t.DNE(5,X1,4,6,"div",26)(6,U1,6,4,"div",26),t.k0s(),t.DNE(7,H1,3,3,"button",27),t.k0s()(),t.j41(8,"td",28)(9,"div",29),t.DNE(10,J1,2,1,"div",30)(11,W1,2,1,"div",30)(12,q1,3,10,"input",31)(13,K1,3,2,"button",32)(14,ng,4,6,"button",33),t.k0s()(),t.j41(15,"td",34),t.DNE(16,ig,3,3,"button",35),t.k0s()()),2&n){const i=s.$implicit,e=t.XpG(2);t.R7$(4),t.SpI(" ",i.name," "),t.R7$(),t.Y8G("ngIf",i.createdAt&&!e.isStudent),t.R7$(),t.Y8G("ngIf",i.coefficient),t.R7$(),t.Y8G("ngIf",!e.isStudent),t.R7$(3),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&e.inputPointSelect!=i.id),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&e.inputPointSelect==i.id),t.R7$(),t.Y8G("ngIf",!e.isStudent&&i.canEditMark&&!e.listMarkNew),t.R7$(),t.Y8G("ngIf",!e.isStudent&&i.canEditMark&&e.listMarkNew&&e.listMarkNew.id==i.id),t.R7$(2),t.Y8G("ngIf",!e.isStudent&&i.programId&&i.sessionId)}}function sg(n,s){1&n&&t.nrm(0,"azt-loading-ui",25)}function ag(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-mat-dialog-content")(1,"div",19),t.DNE(2,V1,1,0,"azt-loading-ui",20),t.j41(3,"azt-filter-box",21),t.bIt("sendFilter",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.filterData(o))}),t.k0s()(),t.j41(4,"table",22)(5,"tbody"),t.DNE(6,og,17,10,"tr",10),t.j41(7,"tr")(8,"td"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"td",23)(12,"div",24),t.DNE(13,sg,1,0,"azt-loading-ui",20),t.EFF(14),t.k0s()()()()()()}if(2&n){let i;const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.statusObj.loading),t.R7$(4),t.Y8G("ngForOf",null!==(i=e.data.marks)&&void 0!==i?i:t.lJ4(8,Yi)),t.R7$(3),t.SpI(" ",t.bMT(10,6,"lang_business_diem_tong_ket")," "),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("ngIf",e.isSave),t.R7$(),t.SpI(" ",e.data.averageMark," ")}}function rg(n,s){if(1&n&&(t.j41(0,"div",36)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",37),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function lg(n,s){if(1&n&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function cg(n,s){if(1&n&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.Y8G("mark",e.returnValue(i))}}function mg(n,s){if(1&n&&(t.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),t.EFF(4),t.DNE(5,rg,6,4,"div",26),t.k0s()()(),t.j41(6,"td",59),t.DNE(7,lg,2,1,"div",30)(8,cg,2,1,"div",30),t.k0s()()),2&n){const i=s.$implicit;t.R7$(4),t.SpI(" ",i.name," "),t.R7$(),t.Y8G("ngIf",i.coefficient),t.R7$(2),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}function dg(n,s){if(1&n&&(t.j41(0,"table",55)(1,"thead")(2,"tr")(3,"th",56),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"th",57),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()(),t.j41(9,"tbody"),t.DNE(10,mg,9,4,"tr",10),t.j41(11,"tr")(12,"td"),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"td")(16,"div",58),t.EFF(17),t.k0s()()()()()),2&n){let i;const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_name_component_score")),t.R7$(3),t.JRh(t.bMT(8,7,"lang_testbank_update_exam_point")),t.R7$(3),t.Y8G("ngForOf",null!==(i=e.data.marks)&&void 0!==i?i:t.lJ4(11,Yi)),t.R7$(3),t.SpI(" ",t.bMT(14,9,"lang_business_diem_tong_ket")," "),t.R7$(4),t.SpI(" ",e.data.averageMark," ")}}function _g(n,s){if(1&n&&t.nrm(0,"azt-check-mark",41),2&n){const i=t.XpG().$implicit;t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function ug(n,s){if(1&n&&t.nrm(0,"azt-check-mark",41),2&n){const i=t.XpG().$implicit,e=t.XpG();t.Y8G("mark",e.returnValue(i))}}function pg(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",9),t.EFF(2),t.k0s(),t.j41(3,"td",9),t.EFF(4),t.k0s(),t.j41(5,"td",9),t.EFF(6),t.k0s(),t.j41(7,"td",9),t.DNE(8,_g,1,1,"azt-check-mark",60)(9,ug,1,1,"azt-check-mark",60),t.k0s()()),2&n){const i=s.$implicit,e=s.index,o=t.XpG();t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",0)("excelStyle",o.styleTdNormal),t.R7$(),t.SpI(" ",i.name?e+1:""," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",1)("excelStyle",o.styleTdNormalLeft),t.R7$(),t.SpI(" ",i.name," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",2)("excelStyle",o.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",i.coefficient," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",3)("excelStyle",o.styleTdNotNumberNormal),t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}let gg=(()=>{var n;class s extends O.H{filterData(e){this.dataFilter=e,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.list.length&&(this.data=o.data?.list[0]),this.stopStatusObj()}))}downloadTableScore(){q.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var e=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let o=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,o),q.L.closeLoadingEffect(200)}goToEditPoint(e){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+e.classroomId+"/"+e.programId+"/"+e.sessionId,"?studentId="+this.data.id)}viewInput(e){this.inputPointSelect=e}handleMarkStudent(e,o){if(!this.isStudent){var a=this.commonService.handlePointByValueInput(e);this.listMarkNew={id:o,points:a.length>0?a:[-1]}}}saveMark(e){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:e.programId,classroomId:e.classroomId,sessionId:e.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(a=>{a?(this.data.marks?.filter(r=>r.id==e.id)?.forEach(r=>r.marks=this.listMarkNew?.points?.find(l=>-1==l)?[]:this.listMarkNew?.points??r.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(e){e&&this.sAztDialogService.open(Li,{data:{...e,canEditName:e.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(o=>{if(o){try{var a=this.data.marks?.find(r=>r.id==e.id);a&&(a.coefficient=o.coefficient,a.name=o.name)}catch{}this.isEdit=!0}})}returnValue(e){return(e.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(e,o,a,r,l){super(),this.sAztDialogService=e,this.sAztTimeService=o,this.shareFileFlutterService=a,this.exportExcelService=r,this.studentService=l,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new t.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,t.WQX)(Cn.R)}ngOnDestroy(){super.ngOnDestroy()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i),t.rXU(xt.F),t.rXU(Se.R),t.rXU(Ue.x),t.rXU(re.b))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-view-table-score-single"]],viewQuery:function(e,o){if(1&e&&t.GBs(P1,5),2&e){let a;t.mGM(a=t.lsd())&&(o.table_score_student=a.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},standalone:!0,features:[t.Jv_([{provide:nt.$O,useClass:qt.fb,deps:[at.Ju,Ie.ij]},{provide:nt.vq,useFactory:se.fJ,deps:[xt.F]}]),t.Vt3,t.aNF],decls:34,vars:61,consts:[["table_score_student",""],["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex","items-center"],["matRipple","",1,"btn","btn-sm","btn-outline-primary","border-0","mr-2","p-1",3,"click","matTooltip"],["name","download","size","20"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","border-0","p-1",3,"click","matTooltip"],["name","x","size","20"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["class","btn btn-secondary-soft","matRipple","",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"click","matTooltip"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltip","id","disabled","value","placeholder"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil","size","16",3,"matTooltip",4,"ngIf"],["name","x","size","16",3,"matTooltip",4,"ngIf"],["name","pencil","size","16",3,"matTooltip"],["name","x","size","16",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"click","matTooltip","disabled"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","check","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","check","size","20",3,"ngClass"],["matRipple","",1,"btn","btn-secondary-soft",3,"click","matTooltip"],["name","external-link","size","16"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(e,o){if(1&e&&(t.DNE(0,Y1,6,5,"div",1),t.j41(1,"div",2)(2,"div",3),t.nrm(3,"azt-student-info-box",4),t.DNE(4,B1,7,6,"div",5),t.k0s(),t.DNE(5,ag,15,9,"azt-mat-dialog-content",6)(6,dg,18,12,"table",7),t.k0s(),t.j41(7,"table",8,0)(9,"thead")(10,"tr")(11,"th",9),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",9),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",9),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.j41(23,"tbody"),t.DNE(24,pg,10,17,"tr",10),t.j41(25,"tr")(26,"td",9),t.EFF(27),t.k0s(),t.j41(28,"td",9),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.nrm(31,"td"),t.j41(32,"td",9),t.EFF(33),t.k0s()()()()),2&e){let a,r,l,c,d,u;t.Y8G("ngIf",o.isStudent&&!o.viewDialog),t.R7$(3),t.Y8G("name",o.data.fullName)("parentFullName",o.data.parentFullName)("parentId",o.data.parentId)("parentPhone",o.data.parentPhone)("phone",o.data.phone)("email",o.data.email)("avatar",o.data.avatar)("gender",o.data.gender)("hasUser",o.data.hasUser),t.R7$(),t.Y8G("ngIf",o.viewDialog),t.R7$(),t.Y8G("ngIf",o.viewDialog),t.R7$(),t.Y8G("ngIf",o.isStudent&&!o.viewDialog),t.R7$(),t.Y8G("border",1),t.R7$(4),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(13,50,"lang_student_export_excel_no")," "),t.R7$(2),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(16,52,"lang_student_name_component_score")," "),t.R7$(2),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(19,54,"lang_auto_he_so")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(22,56,"lang_testbank_update_exam_point")," "),t.R7$(3),t.Y8G("ngForOf",null!==(a=o.data.marks)&&void 0!==a?a:t.lJ4(60,Yi)),t.R7$(2),t.BMQ("excelRow",(null!==(r=null==o.data.marks?null:o.data.marks.length)&&void 0!==r?r:0)+1)("excelColumn",0)("excelStyle",o.styleTdNormal),t.R7$(),t.SpI(" ",(null!==(l=null==o.data.marks?null:o.data.marks.length)&&void 0!==l?l:0)+1," "),t.R7$(),t.BMQ("excelRow",(null!==(c=null==o.data.marks?null:o.data.marks.length)&&void 0!==c?c:0)+1)("excelColumn",1)("excelStyle",o.styleTdNormal),t.R7$(),t.SpI(" ",t.bMT(30,58,"lang_business_diem_tong_ket")," "),t.R7$(2),t.BMQ("excelRow",(null!==(d=null==o.data.marks?null:o.data.marks.length)&&void 0!==d?d:0)+1)("excelColumn",3)("excelStyle",o.styleTdNormal),t.R7$(),t.BMQ("excelRow",(null!==(u=null==o.data.marks?null:o.data.marks.length)&&void 0!==u?u:0)+1)("excelColumn",4)("excelStyle",o.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",o.data.averageMark," ")}},dependencies:[kt.B,Ot.U,$.R,aa,fn.D,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,at.r6,B.oV,h.flO,h.WGl,y.L,f.vv,x.Id,I.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),s})(),ra=(()=>{var n;class s extends ot._{closeDialog(e){this.dialogRef.close(e)}ngOnInit(){super.ngOnInit()}constructor(e,o){super(o,e),this.dialogRef=e,this.data=o}ngOnDestroy(){super.ngOnDestroy()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-table-score-single"]],standalone:!0,features:[t.Jv_([{provide:nt.$O,useClass:qt.fb,deps:[at.Ju,Ie.ij]},{provide:nt.vq,useFactory:se.fJ,deps:[xt.F]}]),t.Vt3,t.aNF],decls:1,vars:3,consts:[[3,"closeDialog","data","isStudent","viewDialog"]],template:function(e,o){1&e&&(t.j41(0,"azt-view-table-score-single",0),t.bIt("closeDialog",function(r){return o.closeDialog(r)}),t.k0s()),2&e&&t.Y8G("data",o.data.student)("isStudent",!o.data.isTeacher)("viewDialog",!0)},dependencies:[gg,_.MD,m.X1,b.iI,m.YN,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();var hg=p(97973);const fg=["table_score"],la=()=>({"mr-2":!0}),he=()=>[],bg=()=>({"text-danger":!0});function vg(n,s){1&n&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function kg(n,s){if(1&n&&(t.j41(0,"div",7)(1,"h3",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,vg,3,3,"div",9),t.k0s()),2&n){let i;const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,"lang_student_enter_score")),t.R7$(2),t.Y8G("ngIf",e.isMobileDevice&&!e.isStudent&&(null!==(i=null==e.dataStudent||null==e.dataStudent.list?null:e.dataStudent.list.length)&&void 0!==i?i:0)>0)}}function xg(n,s){1&n&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Cg(n,s){if(1&n&&(t.j41(0,"div",7)(1,"h3",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,xg,3,3,"div",9),t.k0s()),2&n){let i;const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_bang_diem")),t.R7$(2),t.Y8G("ngIf",e.isMobileDevice&&!e.isStudent&&(null!==(i=null==e.dataStudent||null==e.dataStudent.list?null:e.dataStudent.list.length)&&void 0!==i?i:0)>0)}}function Tg(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.createNewScore())}),t.nrm(1,"lucide-icon",20),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,la)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_student_enter_new_component_score")))}function Sg(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.downloadTableScore())}),t.nrm(1,"lucide-icon",22),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,la)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_student_export_a_grade_sheet")))}function Ig(n,s){1&n&&t.nrm(0,"azt-loading-ui",26)}function yg(n,s){if(1&n){const i=t.RV6();t.j41(0,"flexed-on-the-top",23)(1,"button",24),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.saveMark())}),t.DNE(2,Ig,1,0,"azt-loading-ui",25),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG(2);t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",0==i.listStudentMark.length||i.isSave),t.R7$(),t.Y8G("ngIf",i.isSave),t.R7$(),t.SpI(" ",t.bMT(4,4,"lang_auto_luu")," ")}}function jg(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"azt-search-box",14),t.nI1(4,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onSearchBox(o.searchObj))}),t.k0s()(),t.j41(5,"div",15),t.DNE(6,Tg,5,5,"button",16)(7,Sg,5,5,"button",17)(8,yg,5,6,"flexed-on-the-top",18),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf","ENTER_SCORE"==i.screenType),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==i.screenType),t.R7$(),t.Y8G("ngIf","ENTER_SCORE"==i.screenType)}}function Og(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",27),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function wg(n,s){1&n&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function Fg(n,s){if(1&n&&(t.j41(0,"div",50)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function Rg(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",52),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.createNewScore(o))}),t.nrm(2,"lucide-icon",53),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_student_sua_dau_diem"))}function Eg(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",54),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.deleteMark(o))}),t.nrm(2,"lucide-icon",55),t.k0s()}2&n&&(t.FS9("matTooltip",t.bMT(1,2,"lang_button_delete")),t.R7$(2),t.Y8G("ngClass",t.lJ4(4,bg)))}function Mg(n,s){if(1&n&&(t.j41(0,"th",42)(1,"div",43)(2,"div",44)(3,"div",45),t.EFF(4),t.k0s(),t.j41(5,"div",46),t.DNE(6,Fg,6,4,"div",47)(7,Rg,3,3,"button",48)(8,Eg,3,5,"button",49),t.k0s()()()()),2&n){const i=s.$implicit,e=t.XpG(3);t.R7$(3),t.FS9("matTooltip",i.name),t.R7$(),t.JRh(i.name),t.R7$(2),t.Y8G("ngIf",i.coefficient),t.R7$(),t.Y8G("ngIf",!e.isStudent),t.R7$(),t.Y8G("ngIf",i.canEditName)}}function Ng(n,s){1&n&&(t.j41(0,"th",56),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_diem_tong_ket")))}function Gg(n,s){if(1&n&&(t.j41(0,"div",66),t.nrm(1,"azt-check-mark",67),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function Dg(n,s){if(1&n&&(t.j41(0,"div",66),t.nrm(1,"azt-check-mark",67),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(4);t.R7$(),t.Y8G("mark",e.returnValue(i))}}function $g(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",68),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.bIt("input",function(o){t.eBV(i);const a=t.XpG().index,r=t.XpG().index,l=t.XpG(3);return t.Njj(l.handleMarkStudent(o,r,a))}),t.k0s()}if(2&n){const i=t.XpG().$implicit,e=t.XpG().$implicit,o=t.XpG(3);t.FS9("matTooltip",t.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),t.FS9("id",i.id.toString()+"-"+e.id.toString()),t.FS9("placeholder",t.bMT(2,7,"lang_auto_nhap_diem")),t.Y8G("matTooltipDisabled",!i.canEditMark)("value",o.returnValue(i))}}function zg(n,s){if(1&n&&(t.j41(0,"td",62),t.DNE(1,Gg,2,1,"div",63)(2,Dg,2,1,"div",63)(3,$g,3,9,"input",64),t.nrm(4,"div",65),t.k0s()),2&n){const i=s.$implicit,e=t.XpG().$implicit,o=t.XpG(3);t.Y8G("hidden","TABLE_SCORE"==o.screenType),t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&(!i.canEditMark||"ENTER_SCORE"!=o.screenType)),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&i.canEditMark),t.R7$(),t.Mz_("id","error-",i.id.toString()+"-"+e.id.toString(),""),t.Y8G("hidden",!0)}}function Pg(n,s){if(1&n&&(t.j41(0,"td")(1,"div",69),t.EFF(2),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.SpI(" ",i.averageMark," ")}}function Ag(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",57)(1,"td",58),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.openDialogTableSingle(o))}),t.nrm(2,"azt-student-info-box",59),t.k0s(),t.j41(3,"td",60),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,zg,5,7,"td",61)(7,Pg,3,1,"td",31),t.k0s()}if(2&n){let i;const e=s.$implicit,o=t.XpG(3);t.Y8G("id","row_student_"+e.id),t.R7$(2),t.Y8G("name",e.fullName)("parentFullName",e.parentFullName)("parentId",e.parentId)("parentPhone",e.parentPhone)("phone",e.phone)("avatar",e.avatar)("gender",e.gender)("hasUser",e.hasUser)("schoolName",e.schoolName)("classrooms",e.classrooms)("joinedAt",e.joinedAt)("identificationNumber",e.identificationNumber),t.R7$(2),t.JRh(e.identificationNumber?t.i5U(5,16,e.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(2),t.Y8G("ngForOf",null!==(i=e.marks)&&void 0!==i?i:t.lJ4(19,he)),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==o.screenType)}}function Lg(n,s){if(1&n&&(t.j41(0,"div",34)(1,"drag-scroll")(2,"table",35)(3,"thead")(4,"tr",36)(5,"th",37),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",38),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,Mg,9,5,"th",39)(12,Ng,3,3,"th",40),t.k0s()(),t.j41(13,"tbody"),t.DNE(14,Ag,8,20,"tr",41),t.k0s()()()()),2&n){let i,e;const o=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,7,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==o.dataMark?null:o.dataMark.list)&&void 0!==i?i:t.lJ4(9,he)),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==o.screenType),t.R7$(2),t.Y8G("ngForOf",null!==(e=null==o.dataStudent?null:o.dataStudent.list)&&void 0!==e?e:t.lJ4(10,he))}}function Yg(n,s){if(1&n&&(t.j41(0,"div",72),t.nrm(1,"azt-student-info-box",73),t.j41(2,"div",74)(3,"div",75),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",75),t.EFF(7),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("phone",i.phone)("email",i.email)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("identificationNumber",i.identificationNumber),t.R7$(3),t.SpI(" ",t.bMT(5,12,"lang_business_diem_tong_ket")," "),t.R7$(3),t.SpI(" ",i.averageMark," ")}}function Bg(n,s){1&n&&t.nrm(0,"lucide-icon",80)}function Vg(n,s){1&n&&t.nrm(0,"lucide-icon",81)}function Xg(n,s){if(1&n&&(t.j41(0,"div",91)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function Ug(n,s){if(1&n&&(t.j41(0,"div",92),t.nrm(1,"azt-check-mark",67),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function Hg(n,s){if(1&n&&(t.j41(0,"div",92),t.nrm(1,"azt-check-mark",67),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(6);t.R7$(),t.Y8G("mark",e.returnValue(i))}}function Jg(n,s){if(1&n&&(t.j41(0,"tr")(1,"td")(2,"div",87)(3,"div"),t.EFF(4),t.DNE(5,Xg,6,4,"div",88),t.k0s()()(),t.j41(6,"td",89),t.DNE(7,Ug,2,1,"div",90)(8,Hg,2,1,"div",90),t.k0s()()),2&n){const i=s.$implicit;t.R7$(4),t.SpI(" ",i.name," "),t.R7$(),t.Y8G("ngIf",i.coefficient),t.R7$(2),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}function Wg(n,s){if(1&n&&(t.j41(0,"div",83)(1,"table",84)(2,"thead")(3,"tr")(4,"th",85),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",86),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,Jg,9,4,"tr",71),t.k0s()()()),2&n){const i=t.XpG(2).$implicit;t.R7$(5),t.JRh(t.bMT(6,3,"lang_student_name_component_score")),t.R7$(3),t.JRh(t.bMT(9,5,"lang_testbank_update_exam_point")),t.R7$(3),t.Y8G("ngForOf",i.marks)}}function qg(n,s){if(1&n&&(t.qex(0),t.DNE(1,Wg,12,7,"div",82),t.bVm()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.isStudent)}}function Qg(n,s){if(1&n){const i=t.RV6();t.j41(0,"div")(1,"h3",76)(2,"span",77),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.expand=!o.expand)}),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,Bg,1,0,"lucide-icon",78)(6,Vg,1,0,"lucide-icon",79),t.k0s()(),t.DNE(7,qg,2,1,"ng-container",31),t.k0s()}if(2&n){const i=s.$implicit;t.R7$(3),t.Lme(" ",t.bMT(4,5,"lang_core_thang")," ",i.date," "),t.R7$(2),t.Y8G("ngIf",i.expand),t.R7$(),t.Y8G("ngIf",!i.expand),t.R7$(),t.Y8G("ngIf",i.expand)}}function Zg(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,Yg,8,14,"div",70)(2,Qg,8,7,"div",71),t.k0s()),2&n){let i;const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",null!==(i=null==e.dataStudent?null:e.dataStudent.list)&&void 0!==i?i:t.lJ4(2,he)),t.R7$(),t.Y8G("ngForOf",e.listGroupMarkDate)}}function Kg(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",96),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.setPageStudent(o))}),t.k0s()}if(2&n){const i=t.XpG(3);t.Y8G("pageObj",i.pageObj)}}function th(n,s){if(1&n&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(3);t.R7$(),t.Lme("",i.dataStudent.total," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function eh(n,s){if(1&n&&(t.j41(0,"div",93),t.nrm(1,"div"),t.DNE(2,Kg,1,1,"azt-paging",94)(3,th,3,4,"div",95),t.k0s()),2&n){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",i.dataStudent.total>i.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!i.isStudent)}}function nh(n,s){if(1&n&&(t.j41(0,"div",28),t.DNE(1,wg,3,3,"div",29)(2,Lg,15,11,"div",30)(3,Zg,3,3,"div",31),t.k0s(),t.DNE(4,eh,4,2,"div",32)),2&n){let i,e,o;const a=t.XpG();t.R7$(),t.Y8G("ngIf",!a.isStudent&&0==(null==a.dataStudent||null==a.dataStudent.list?null:a.dataStudent.list.length)&&0==(null!==(i=null==a.dataStudent?null:a.dataStudent.total)&&void 0!==i?i:0)),t.R7$(),t.Y8G("ngIf",!a.isStudent&&(null!==(e=null==a.dataStudent||null==a.dataStudent.list?null:a.dataStudent.list.length)&&void 0!==e?e:0)>0),t.R7$(),t.Y8G("ngIf",a.isStudent),t.R7$(),t.Y8G("ngIf",a.dataStudent&&a.dataStudent.total&&(null!==(o=null==a.dataStudent?null:a.dataStudent.total)&&void 0!==o?o:0)>0)}}function ih(n,s){if(1&n&&(t.j41(0,"th",98),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit,e=s.index,o=t.XpG(2);t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+e)("excelStyle",o.styleThNormal),t.R7$(),t.Lme(" ",i.name+"\n"," "," ("+t.bMT(2,6,"lang_auto_he_so")+" "+i.coefficient+")"," ")}}function oh(n,s){if(1&n&&t.nrm(0,"azt-check-mark",67),2&n){const i=t.XpG().$implicit;t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function sh(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(3);t.R7$(),t.SpI(" ",e.returnValue(i)," ")}}function ah(n,s){if(1&n&&(t.j41(0,"td",98),t.DNE(1,oh,1,1,"azt-check-mark",100)(2,sh,2,1,"span",31),t.k0s()),2&n){const i=s.$implicit,e=s.index,o=t.XpG().index,a=t.XpG(2);t.BMQ("excelRow",o+1)("excelColumn",6+e)("excelStyle",a.styleTdNormal),t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}function rh(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",98),t.EFF(2),t.k0s(),t.j41(3,"td",98),t.EFF(4),t.k0s(),t.j41(5,"td",98),t.EFF(6),t.k0s(),t.j41(7,"td",98),t.EFF(8),t.k0s(),t.j41(9,"td",98),t.EFF(10),t.nI1(11,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(12,"td",98),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,ah,3,5,"td",99),t.j41(17,"td",98),t.EFF(18),t.k0s()()),2&n){let i,e;const o=s.$implicit,a=s.index,r=t.XpG(2);t.R7$(),t.BMQ("excelRow",a+1)("excelColumn",0)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",null!=o&&o.fullName?a+1:""," "),t.R7$(),t.BMQ("excelRow",a+1)("excelColumn",1)("excelStyle",r.styleTdNormalLeft),t.R7$(),t.SpI(" ",null==o?null:o.fullName," "),t.R7$(),t.BMQ("excelRow",a+1)("excelColumn",2)("excelStyle",r.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",null==o?null:o.phone," "),t.R7$(),t.BMQ("excelRow",a+1)("excelColumn",3)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",null==o?null:o.email," "),t.R7$(),t.BMQ("excelRow",a+1)("excelColumn",4)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",t.bMT(11,29,null==o?null:o.birthday)," "),t.R7$(2),t.BMQ("excelRow",a+1)("excelColumn",5)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",1==(null==o?null:o.gender)?t.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==o?null:o.gender)?t.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),t.R7$(3),t.Y8G("ngForOf",null!==(i=o.marks)&&void 0!==i?i:t.lJ4(35,he)),t.R7$(),t.BMQ("excelRow",a+1)("excelColumn",6+(null!==(e=null==o.marks?null:o.marks.length)&&void 0!==e?e:0))("excelStyle",r.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",o.averageMark," ")}}function lh(n,s){if(1&n&&(t.j41(0,"table",97,1)(2,"thead")(3,"tr")(4,"th",98),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",98),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",98),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",98),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",98),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",98),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.DNE(22,ih,3,8,"th",99),t.j41(23,"th",98),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()(),t.j41(26,"tbody"),t.DNE(27,rh,19,36,"tr",71),t.k0s()()),2&n){let i,e,o;const a=t.XpG();t.Y8G("border",1),t.R7$(4),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(6,38,"lang_student_export_excel_no")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(9,40,"lang_student_export_excel_full_name")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(12,42,"lang_number_phone")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(15,44,"lang_student_export_excel_email")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(18,46,"lang_student_export_excel_birthday")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(21,48,"lang_student_export_excel_gender")," "),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==a.dataMark?null:a.dataMark.list)&&void 0!==i?i:t.lJ4(52,he)),t.R7$(),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(e=null==a.dataMark||null==a.dataMark.list?null:a.dataMark.list.length)&&void 0!==e?e:0))("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(25,50,"lang_business_diem_tong_ket")," "),t.R7$(3),t.Y8G("ngForOf",null!==(o=null==a.dataStudent?null:a.dataStudent.list)&&void 0!==o?o:t.lJ4(53,he))}}let ca=(()=>{var n;class s extends O.H{goToProfile(e,o){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+o,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(e){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+e),this.initStatusObj(),this.pageObj.setPageNumber(e),this.getListStudent()}openDialogTableSingle(e){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(ra,{width:"750px",restoreFocus:!1,data:{student:e,isTeacher:!0}}).afterClosed().subscribe(o=>{o&&this.getListStudent()}):(e.classroomId||e.id)&&this.goToProfile(e.classroomId,e.id)}onSearchBox(e){this.searchContentObj=e,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){q.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var e=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let o=this.commonService.createFileNameExportFile(["bang_diem_lop_"+(this.classroomObj?.name??"bang_diem_lop_id_")+this.classroomId])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,o),q.L.closeLoadingEffect(200)}handlePointByValueInput(e){var o=e.target;let a=""===o.value.trim()?"":o.value;a=a.replace(/[^\d\s,\.]/g,""),a=a.replace(/,/g,"."),a=a.replace(/\s+/g," "),a=a.replace(/\.{2,}/g,"."),a=a.replace(/(?:^|\s)\./g," 0."),a=a.replace(/^\s+/,""),a=a.replace(/\.\s/g," ");var r=a.split(" ");if(r.length>0){var l=""!=r[r.length-1]?r[r.length-1]:r[r.length-2];Number(l)>-1?l.split(".").length>1&&l.split(".")[1].length>2&&(a=a.substring(0,a.length-1)):a=a.replace(/\.$/," ")}return o.value=a,a.split(" ").filter(u=>""!=u).map(u=>parseFloat(u))}handleMarkStudent(e,o,a){var r=this.handlePointByValueInput(e);r=0==r.length?[-1]:r;var l=this.dataStudent.list[o],c=this.dataMark.list[a],d=this.listStudentMark.findIndex(k=>k.id==l.id);if(d>-1){var u=(this.listStudentMark[d].listMarks??[]).findIndex(k=>k.id==c.id);u>-1?this.listStudentMark[d].listMarks[u].points=r:this.listStudentMark[d].listMarks?.push({id:c.id,points:r})}else this.listStudentMark.push({id:l.id,listMarks:[{id:c.id,points:r}]})}returnValue(e){return(e.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark})).subscribe(o=>{if(this.isSave=!1,!o.success)return this.errorStatusObj(o.message,!0);this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)}))}createNewScore(e){this.isStudent||this.sAztDialogService.open(Li,{data:e||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(a=>{a&&this.getListMark()})}getListMark(){this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.dataMark=o.data,this.getListStudent()}))}deleteMark(e){var o=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Ai.u,{data:{content:o},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(a=>{a&&this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksIdDelete(e.id)).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.getListMark()}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(e=>{e.success&&(this.classroomObj=e.data?.obj)}))}getListStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.dataStudent=o.data,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(o.data?.list??[]):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()}))}handleGroupMarkByDate(e){let o=[];e.forEach(r=>{let l=r.marks?.map(c=>({...c,monthAndYear:this.sAztTimeService.formatDateToMonthYear(c.createdAt)}))??[];o=o.concat(l)});let a=this.commonService.arrayToDictionary(o,r=>r.monthAndYear);this.listGroupMarkDate=Object.entries(a).map(([r,l])=>({date:r,marks:l,expand:!1}))}scrollElementStudentById(){if(this.studentId){var e=document.getElementById("row_student_"+this.studentId);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(e,o,a,r,l,c,d,u){super(),this.commonMarkService=e,this.studentService=o,this.sAztTimeService=a,this.sAztDialogService=r,this.classroomService=l,this.exportExcelService=c,this.activeRoute=d,this.shareFileFlutterService=u,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new Jt.d(50),this.searchContentObj=new Dt.Z}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(na.a),t.rXU(re.b),t.rXU(xt.F),t.rXU(Q.i),t.rXU(hg.z),t.rXU(Ue.x),t.rXU(b.nX),t.rXU(Se.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-table-score"]],viewQuery:function(e,o){if(1&e&&t.GBs(fg,5),2&e){let a;t.mGM(a=t.lsd())&&(o.table_answer=a.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:8,vars:6,consts:[["doneLoading",""],["table_score",""],[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1 col-span-12",4,"ngIf"],[1,"mt-1","col-span-12"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","placeholder"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"click","matTooltip"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltipDisabled","matTooltip","id","value","placeholder"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser","identificationNumber"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(e,o){if(1&e&&(t.j41(0,"div",2),t.DNE(1,kg,5,4,"div",3)(2,Cg,5,4,"div",3)(3,jg,9,7,"div",4),t.k0s(),t.DNE(4,Og,1,1,"azt-loading-effect",5)(5,nh,5,4,"ng-template",null,0,t.C5r)(7,lh,28,54,"table",6)),2&e){const a=t.sdS(6);t.R7$(),t.Y8G("ngIf","ENTER_SCORE"==o.screenType),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==o.screenType),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a),t.R7$(3),t.Y8G("ngIf","TABLE_SCORE"==o.screenType)}},dependencies:[F,X,W,It.W,Hn.$,$.R,Y.K,kt.B,fn.D,ee.q,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f.Po,f.vv,x.Id,I.k],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),s})(),ch=(()=>{var n;class s extends O.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(e){super(),this.activeRoute=e,this.classroomId=0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(e,o){1&e&&t.nrm(0,"app-table-score",0),2&e&&t.Y8G("isStudent",o.isStudent)("screenType","TABLE_SCORE")("classroomId",o.classroomId)("programId",0)("sessionId",0)},dependencies:[ca,_.MD,m.X1,b.iI,m.YN,S.s,h.flO,y.L,x.Id,I.k],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),s})();var mh=p(27691),dh=p(58112);const _h=n=>({cursor:n}),uh=(n,s,i)=>({"p-5 bg-primary text-white":n,"p-3":s,"border border-primary p-4 border-w-2":i}),ph=n=>({"text-base":n}),ma=n=>({"text-white":n});function gh(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function hh(n,s){if(1&n&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(),e=i.$implicit;t.Y8G("ngClass",t.eq3(4,ma,0===i.index)),t.R7$(),t.JRh(e.averageMark+" "+t.bMT(2,2,"lang_auto_diem"))}}function fh(n,s){if(1&n&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(4,ma,0===i.index&&i.$implicit.averageMark)),t.R7$(),t.JRh(t.bMT(2,2,"lang_not_data"))}}function bh(n,s){1&n&&(t.j41(0,"div",23),t.nrm(1,"azt-svg-icon",24),t.k0s()),2&n&&(t.R7$(),t.Y8G("size",40))}function vh(n,s){1&n&&(t.j41(0,"div",25),t.nrm(1,"azt-svg-icon",26),t.k0s()),2&n&&(t.R7$(),t.Y8G("size",40))}function kh(n,s){1&n&&(t.j41(0,"div",27),t.nrm(1,"azt-svg-icon",28),t.k0s()),2&n&&(t.R7$(),t.Y8G("size",40))}function xh(n,s){if(1&n&&(t.j41(0,"div",29)(1,"div",30),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",31),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().index,e=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_azt_final_score_ranking")+" "+(i+1)+"/"+e.dataStudent.total," "),t.R7$(3),t.JRh(e.commentByRanking)}}function Ch(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"div",8),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(o.classroomId,o.id))}),t.j41(2,"div",9)(3,"span",10),t.EFF(4),t.k0s()(),t.j41(5,"div",11)(6,"div",12),t.nrm(7,"azt-create-avatar",13),t.k0s(),t.j41(8,"div",14)(9,"div",15),t.EFF(10),t.k0s(),t.DNE(11,hh,3,6,"div",16)(12,fh,3,6,"div",16),t.k0s()(),t.j41(13,"div",17),t.DNE(14,bh,2,1,"div",18)(15,vh,2,1,"div",19)(16,kh,2,1,"div",20),t.k0s()(),t.DNE(17,xh,6,4,"div",21),t.bVm()}if(2&n){const i=s.$implicit,e=s.index,o=t.XpG(3);t.R7$(),t.Y8G("ngStyle",t.eq3(15,_h,o.isStudent?"default":"pointer"))("ngClass",t.sMw(17,uh,0===e&&i.averageMark,0!==e||!i.averageMark,(2===e||1===e)&&i.averageMark))("hidden",!(!o.isTqbDomain||!o.isStudent)&&i.parentId!=o.curUserId),t.R7$(3),t.JRh(e+1),t.R7$(3),t.Y8G("linkAvatar",i.avatar)("nameCreateAvatar",i.fullName)("size",0===e?48:44),t.R7$(2),t.Y8G("ngClass",t.eq3(21,ph,0===e)),t.R7$(),t.JRh(i.fullName),t.R7$(),t.Y8G("ngIf",i.averageMark),t.R7$(),t.Y8G("ngIf",!i.averageMark),t.R7$(2),t.Y8G("ngIf",0===e&&i.averageMark),t.R7$(),t.Y8G("ngIf",1===e&&i.averageMark),t.R7$(),t.Y8G("ngIf",2===e&&i.averageMark),t.R7$(),t.Y8G("ngIf",o.isTqbDomain&&o.isStudent&&i.parentId===o.curUserId)}}function Th(n,s){if(1&n&&(t.j41(0,"div",5)(1,"div",6),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ch,18,23,"ng-container",7),t.k0s()),2&n){const i=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_azt_leaderboard")," "),t.R7$(2),t.Y8G("ngForOf",i.dataStudent.list)}}function Sh(n,s){1&n&&(t.j41(0,"div",32)(1,"div",33),t.nrm(2,"azt-svg-icon",34),t.j41(3,"p",35),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(2),t.Y8G("size",82),t.R7$(2),t.JRh(t.bMT(5,2,"lang_not_data")+"!"))}function Ih(n,s){if(1&n&&t.DNE(0,Th,5,4,"div",4)(1,Sh,6,4,"ng-template",null,1,t.C5r),2&n){const i=t.sdS(2),e=t.XpG();t.Y8G("ngIf",e.dataStudent&&e.dataStudent.list&&e.dataStudent.list.length)("ngIfElse",i)}}let yh=(()=>{var n;class s extends O.H{goToProfile(e,o){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+o,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${e}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);if(this.dataStudent=o.data,!this.isTqbDomain)return this.stopStatusObj();const a=this.splitIntoGroups(this.dataStudent?.list??[]);this.loadTextCdn(this.sAztCommonCdnService.addRandomQueryParam(this.linkTopMess)).subscribe(r=>{const l=this.castJsonToObj(r)??[];l.length&&a.forEach((c,d)=>{c.forEach(u=>{u.parentId===this.curUserId&&0==d&&(this.commentByRanking=l[0].mess),u.parentId===this.curUserId&&1==d&&(this.commentByRanking=l[1].mess),u.parentId===this.curUserId&&2==d&&(this.commentByRanking=l[2].mess),u.parentId===this.curUserId&&3==d&&(this.commentByRanking=l[3].mess)})})}),this.stopStatusObj()}))}loadTextCdn(e){return this.http.get(e,{responseType:"text"})}splitIntoGroups(e){const a=e.length,r=Math.min(4,a),l=Math.ceil(a/r);let c=[];for(let d=0;d<r;d++)c.push(e.slice(d*l,(d+1)*l));return c}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.curUserId=this.sAztUserService.getUserObj().id,this.getListStudent()}constructor(e,o,a,r,l){super(),this.studentService=e,this.http=o,this.activeRoute=a,this.sAztUserService=r,this.sAztCommonCdnService=l,this.classroomId=0,this.curUserId=0,this.linkTopMess="https://azota889.github.io/storage_public_v2/topmess.json",this.commentByRanking=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.b0),t.rXU(mh.Qq),t.rXU(b.nX),t.rXU(ye.R),t.rXU(dh.c))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["emptyData",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],[4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"click","ngStyle","ngClass","hidden"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"mt-4"],[1,"font-bold","uppercase","text-center"],[1,"text-center",2,"font-style","italic"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(e,o){if(1&e&&t.DNE(0,gh,1,1,"azt-loading-effect",2)(1,Ih,3,2,"ng-template",null,0,t.C5r),2&e){const a=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[Y.K,oe.p,vn.m,_.MD,_.YU,_.Sq,_.bT,_.B3,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),s})();var it=function(n){return n.none="None",n.asc="Asc",n.desc="Desc",n}(it||{});class Le{resetSortFieldName(s){this.fieldNameList.forEach(i=>{i.fieldName!==s.fieldName&&(i.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(s){this.fieldNameList=s}convertDataSort(s){switch(this.resetSortFieldName(s),s.typeFieldSort){case this.typeFieldSort.none:s.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:s.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:s.typeFieldSort=this.typeFieldSort.none}return{fieldName:s.fieldName,descending:s.typeFieldSort===this.typeFieldSort.desc,ignore:s.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=it,this.fieldNameList=[]}}let Bi=(()=>{var n;class s{makeListFormArrayComment(e,o){let a=new m.Yp([]);return e&&e.forEach(r=>{a.push(new m.gE({id:new m.MJ({value:r.id,disabled:!o},{nonNullable:!0}),updatedAt:new m.MJ({value:r.updatedAt?.toString()??"",disabled:!o},{nonNullable:!0}),comment:new m.MJ({value:r.comment??"",disabled:!o},{nonNullable:!0}),isEdited:new m.MJ(!1,{nonNullable:!0})}))}),a}getLastAssessmentStudent(e){if(e.assessments&&e.assessments.length)return e.assessments[0]}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const jh=()=>({"ml-2 cursor-pointer":!0});function Oh(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeEditStatus(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_sua")," "))}function wh(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeEditStatus(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("disabled",i.isSave),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_huy_sua")," ")}}function Fh(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.saveEdit())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("disabled",i.isSave||i.countChangedComment()),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_luu")," ")}}function Rh(n,s){1&n&&(t.j41(0,"div",16)(1,"span",17),t.nrm(2,"azt-loading-ui"),t.k0s()())}function Eh(n,s){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Mh(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.deleteAssesment(o.controls.id.value))}),t.nrm(1,"lucide-icon",29),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const i=t.XpG(4);t.Y8G("disabled",i.isSave),t.R7$(),t.FS9("matTooltip",t.bMT(2,2,"lang_auto_xoa"))}}function Nh(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.DNE(7,Mh,3,4,"button",26),t.k0s(),t.j41(8,"textarea",27),t.bIt("change",function(){const o=t.eBV(i).$implicit;return t.Njj(o.controls.isEdited.setValue(!0))}),t.k0s()()()}if(2&n){const i=s.$implicit,e=t.XpG(3);t.R7$(),t.Y8G("formGroup",i),t.R7$(3),t.Lme("",t.bMT(5,4,"lang_student_add_comment_date"),": ",t.bMT(6,6,i.controls.updatedAt.value),""),t.R7$(3),t.Y8G("ngIf",e.isEdit)}}function Gh(n,s){if(1&n&&(t.j41(0,"div",20),t.DNE(1,Nh,9,8,"div",21),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",null==i.data.student.listCommentControl?null:i.data.student.listCommentControl.controls)}}function Dh(n,s){if(1&n&&t.DNE(0,Eh,3,3,"div",18)(1,Gh,2,1,"ng-template",null,1,t.C5r),2&n){const i=t.sdS(2),e=t.XpG();t.Y8G("ngIf",!e.data.student.assessments||!e.data.student.assessments.length)("ngIfElse",i)}}let da=(()=>{var n;class s extends ot._{filterData(e){this.dataFilter=e,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(o=>o.controls.isEdited.value&&!o.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let e=this.data.student.listCommentControl?.controls.filter(a=>a.controls.isEdited.value).map(a=>({id:a.controls.id.value,studentId:this.data.student.id,comment:a.controls.comment.value}))??[];if(!e.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:e}).subscribe(a=>{a.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(e){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(e).subscribe(o=>{o.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(e){this.isEdit=e,this.data.student.listCommentControl?.controls.map(o=>e?o.enable():o.disable())}getStudent(e){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0})).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);if(!a.data?.list.length)return this.stopStatusObj();var r=a.data.list[0];let l=this.sAztAssessmentStudentService.getLastAssessmentStudent(r);this.data.student={...r,commentControl:new m.gE({id:new m.MJ(0,{nonNullable:!0}),updatedAt:new m.MJ(l?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new m.MJ(l?.comment??"",{nonNullable:!0}),isEdited:new m.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(r.assessments,e)},this.stopStatusObj()}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(e,o,a,r,l,c,d){super(d,c),this.sAztAssessmentStudentService=e,this.sAztTimeService=o,this.shareFileFlutterService=a,this.exportExcelService=r,this.studentService=l,this.dialogRef=c,this.data=d,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,t.WQX)(Cn.R)}ngOnDestroy(){super.ngOnDestroy()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Bi),t.rXU(xt.F),t.rXU(Se.R),t.rXU(Ue.x),t.rXU(re.b),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-student-comments"]],standalone:!0,features:[t.Jv_([{provide:nt.$O,useClass:qt.fb,deps:[at.Ju,Ie.ij]},{provide:nt.vq,useFactory:se.fJ,deps:[xt.F]}]),t.Vt3,t.aNF],decls:15,vars:19,consts:[["doneLoading",""],["hasData",""],[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"click","matTooltip","ngClass"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"click","disabled"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2","items-center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","trash-2","size","16",3,"matTooltip"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"azt-student-info-box",5),t.j41(4,"div",6)(5,"lucide-icon",7),t.nI1(6,"mytranslate"),t.bIt("click",function(){return t.eBV(a),t.Njj(o.closeDialog())}),t.k0s()()(),t.j41(7,"div",8),t.DNE(8,Oh,3,3,"button",9)(9,wh,3,4,"button",10)(10,Fh,3,4,"button",11),t.k0s()(),t.j41(11,"azt-mat-dialog-content"),t.DNE(12,Rh,3,0,"div",12)(13,Dh,3,2,"ng-template",null,0,t.C5r),t.k0s()()}if(2&e){const a=t.sdS(14);t.R7$(3),t.Y8G("name",o.data.student.fullName)("parentFullName",o.data.student.parentFullName)("parentId",o.data.student.parentId)("parentPhone",o.data.student.parentPhone)("phone",o.data.student.phone)("email",o.data.student.email)("avatar",o.data.student.avatar)("gender",o.data.student.gender)("hasUser",o.data.student.hasUser),t.R7$(2),t.FS9("matTooltip",t.bMT(6,16,"lang_auto_dong")),t.Y8G("ngClass",t.lJ4(18,jh)),t.R7$(3),t.Y8G("ngIf",!o.isEdit&&o.data.isTeacher),t.R7$(),t.Y8G("ngIf",o.isEdit),t.R7$(),t.Y8G("ngIf",o.isEdit),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[kt.B,Ot.U,$.R,_.MD,_.YU,_.Sq,_.bT,m.X1,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f.vv,x.Id,I.k,ae.t],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),s})();const $h=n=>({"text-primary stroke-width-2.5":n}),zh=n=>({"text-primary stroke-width-2.5":n,"-mt-2":!0});function Ph(n,s){1&n&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Ah(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"azt-search-box",13),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onSearchBox(o.searchObj))}),t.k0s()()()}2&n&&(t.R7$(2),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function Lh(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",15),2&n){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function Yh(n,s){if(1&n&&(t.j41(0,"div",25),t.nrm(1,"lucide-icon",26)(2,"lucide-icon",27),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(3);t.R7$(),t.Y8G("ngClass",t.eq3(2,$h,i.typeFieldSort===e.typeFieldSort.asc)),t.R7$(),t.Y8G("ngClass",t.eq3(4,zh,i.typeFieldSort===e.typeFieldSort.desc))}}function Bh(n,s){if(1&n){const i=t.RV6();t.j41(0,"th",22)(1,"div",23),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.sortTableByFieldName(o))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Yh,3,6,"div",24),t.k0s()()}if(2&n){const i=s.$implicit;t.R7$(),t.Aen(i.customStyle),t.HbH(i.customClassCss),t.R7$(),t.SpI(" ",t.bMT(3,6,i.key)," "),t.R7$(2),t.Y8G("ngIf",!i.ignore)}}function Vh(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",28)(1,"td"),t.nrm(2,"azt-student-info-box",29),t.k0s(),t.j41(3,"td",30),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",30),t.EFF(7),t.nI1(8,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(9,"td",30)(10,"div",31),t.nrm(11,"textarea",32),t.nI1(12,"mytranslate"),t.j41(13,"span",33,1),t.nI1(15,"mytranslate"),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.showAllComment(o))}),t.nrm(16,"lucide-icon",34),t.k0s()()()()}if(2&n){const i=s.$implicit,e=t.sdS(14),o=t.XpG(3);t.Y8G("id","row_student_"+i.id),t.R7$(2),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("phone",i.phone)("parentPhone",i.parentPhone)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt)("identificationNumber",i.identificationNumber),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,22,i.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.JRh(t.bMT(8,25,null!=i.assessments&&i.assessments[0]?null==i.assessments||null==i.assessments[0]?null:i.assessments[0].createdAt:"")),t.R7$(4),t.FS9("placeholder",t.bMT(12,27,"lang_azt_enter_comment")),t.Y8G("id","assessment_content_"+i.id)("disabled",!0)("value",i.lastAssessmentComment),t.R7$(2),t.FS9("matTooltip",t.bMT(15,29,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled)}}function Xh(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",38),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.setPageStudent(o))}),t.k0s()}if(2&n){const i=t.XpG(4);t.Y8G("pageObj",i.pageObj)}}function Uh(n,s){if(1&n&&(t.j41(0,"div",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(4);t.R7$(),t.Lme("",i.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function Hh(n,s){if(1&n&&(t.j41(0,"div",35),t.nrm(1,"div"),t.DNE(2,Xh,1,1,"azt-paging",36)(3,Uh,3,4,"div",37),t.k0s()),2&n){const i=t.XpG(3);t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!i.isStudent)}}function Jh(n,s){if(1&n&&(t.j41(0,"div",16)(1,"drag-scroll")(2,"table",17)(3,"thead")(4,"tr",18),t.DNE(5,Bh,5,8,"th",19),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,Vh,17,31,"tr",20),t.k0s()()()(),t.DNE(8,Hh,4,2,"div",21)),2&n){const i=t.XpG(2);t.R7$(5),t.Y8G("ngForOf",i.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",i.listStudent),t.R7$(),t.Y8G("ngIf",i.listStudent&&i.totalStudent&&i.totalStudent>0)}}function Wh(n,s){if(1&n&&(t.j41(0,"div",5),t.DNE(1,Lh,1,1,"azt-loading-effect",14)(2,Jh,9,3,"ng-template",null,0,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG();t.R7$(),t.Y8G("ngIf",e.statusObj.loading)("ngIfElse",i)}}function qh(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",15),2&n){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function Qh(n,s){1&n&&(t.j41(0,"div",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Zh(n,s){if(1&n&&(t.j41(0,"div",44)(1,"div",45)(2,"p",46),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.nrm(6,"div",47),t.nI1(7,"safeNormalHtmlContent"),t.k0s()),2&n){const i=s.$implicit;t.R7$(3),t.Lme("",t.bMT(4,3,"lang_student_add_comment_date"),": ",t.bMT(5,5,i.updatedAt),""),t.R7$(3),t.Y8G("innerHTML",t.bMT(7,7,i.comment),t.npT)}}function Kh(n,s){if(1&n&&(t.j41(0,"div",42),t.DNE(1,Zh,8,9,"div",43),t.k0s()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",null==i.firstStudent?null:i.firstStudent.assessments)}}function tf(n,s){if(1&n&&t.DNE(0,Qh,3,3,"div",40)(1,Kh,2,1,"ng-template",null,3,t.C5r),2&n){const i=t.sdS(2),e=t.XpG(2);t.Y8G("ngIf",!(null!=e.firstStudent&&e.firstStudent.assessments&&null!=e.firstStudent&&null!=e.firstStudent.assessments&&e.firstStudent.assessments.length))("ngIfElse",i)}}function ef(n,s){if(1&n&&(t.j41(0,"div",5),t.DNE(1,qh,1,1,"azt-loading-effect",14)(2,tf,3,2,"ng-template",null,2,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG();t.R7$(),t.Y8G("ngIf",e.statusObj.loading)("ngIfElse",i)}}let nf=(()=>{var n;class s extends O.H{onSearchBox(e){this.searchContentObj=e,this.getData()}showAllComment(e){this.sAztDialogService.open(da,{width:"700px",restoreFocus:!1,data:{student:e,isTeacher:!1}}).afterClosed().subscribe(o=>{o&&this.getData()})}setPageStudent(e){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+e),this.pageObj.setPageNumber(e),this.getData()}sortTableByFieldName(e){e.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(e),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.list.length&&(this.listStudent=[]),o.data?.list.forEach(a=>{let r=this.sAztAssessmentStudentService.getLastAssessmentStudent(a);this.listStudent.push({...a,commentControl:new m.gE({id:new m.MJ(0,{nonNullable:!0}),updatedAt:new m.MJ(r?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new m.MJ(r?.comment??"",{nonNullable:!0}),isEdited:new m.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(a.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=o.data?.total??0,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()}))}convertBreakLine(e){if(!e)return;const o=e.assessments?.map(a=>({...a,comment:a.comment?.replace(/\n/g,"<br/>")}));return{...e,assessments:o}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(e,o,a,r,l){super(),this.activeRoute=e,this.studentService=o,this.sAztDialogService=a,this.sAztAssessmentStudentService=r,this.sortTableByFieldNameService=l,this.classroomId=0,this.searchContentObj=new Dt.Z,this.pageObj=new Jt.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=it}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX),t.rXU(z.b0),t.rXU(Q.i),t.rXU(Bi),t.rXU(Le))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Jv_([Le]),t.Vt3,t.aNF],decls:9,vars:7,consts:[["doneLoading",""],["c","isDisabled"],["doneLoadingStudent",""],["hasData",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","phone","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(e,o){1&e&&(t.j41(0,"div",4)(1,"div",5)(2,"h3",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Ph,3,3,"div",7),t.k0s(),t.DNE(6,Ah,4,4,"div",8)(7,Wh,4,2,"div",9)(8,ef,4,2,"div",9),t.k0s()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,5,"lang_azt_comments")),t.R7$(2),t.Y8G("ngIf",o.isMobileDevice&&o.listStudent.length>0&&!o.isStudent),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.isStudent))},dependencies:[Te.f,F,X,W,It.W,Y.K,kt.B,ee.q,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f._y,f.Po,f.vv,x.Id,I.k],encapsulation:2}),s})();function of(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",13),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function sf(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",22),t.EFF(2),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(4,"td")(5,"div",23),t.nrm(6,"input",24),t.k0s()(),t.j41(7,"td")(8,"div",23),t.nrm(9,"input",24),t.k0s()(),t.j41(10,"td"),t.nrm(11,"textarea",25),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,7,i.sessionTime)," "),t.R7$(4),t.Y8G("checked",i.receivedDocument)("disabled",!0),t.R7$(3),t.Y8G("checked",i.absent)("disabled",!0),t.R7$(2),t.Y8G("disabled",!0)("value",i.reason)}}function af(n,s){if(1&n&&(t.qex(0),t.DNE(1,sf,12,9,"tr",21),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.attendanceObj.list)}}function rf(n,s){1&n&&(t.j41(0,"tr")(1,"td",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function lf(n,s){if(1&n&&(t.j41(0,"drag-scroll")(1,"table",14)(2,"thead")(3,"tr",15)(4,"th",16),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",17),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",18),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",18),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"tbody",19),t.DNE(17,af,2,1,"ng-container",20)(18,rf,4,3,"ng-template",null,1,t.C5r),t.k0s()()()),2&n){const i=t.sdS(19),e=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(9,8,"lang_core_da_phat_tai_lieu")),t.R7$(3),t.JRh(t.bMT(12,10,"lang_student_absence")),t.R7$(3),t.JRh(t.bMT(15,12,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngIf",e.attendanceObj&&e.attendanceObj.list.length)("ngIfElse",i)}}let cf=(()=>{var n;class s extends ot._{handleCloseDialog(){this.dialogRef.close()}filterData(e){this.dataFilter=e,this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsStudentIdAttendancesGet(this.data.student.id,this.data.student.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected)).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.attendanceObj=e.data,this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(e,o,a){super(o,e),this.dialogRef=e,this.data=o,this.studentService=a}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(M.CP,8),t.rXU(M.Vh,8),t.rXU(z.b0))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-attendance-detail"]],standalone:!0,features:[t.Vt3,t.aNF],decls:14,vars:11,consts:[["doneLoading",""],["emptyData",""],[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],["name","x","size","18"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"azt-student-info-box",5),t.j41(4,"div",6)(5,"button",7),t.bIt("click",function(){return t.eBV(a),t.Njj(o.handleCloseDialog())}),t.nrm(6,"lucide-icon",8),t.k0s()()(),t.j41(7,"div",9)(8,"azt-filter-box",10),t.bIt("sendFilter",function(l){return t.eBV(a),t.Njj(o.filterData(l))}),t.k0s()()(),t.j41(9,"div",11)(10,"azt-mat-dialog-content"),t.DNE(11,of,1,1,"azt-loading-effect",12)(12,lf,20,14,"ng-template",null,0,t.C5r),t.k0s()()()}if(2&e){const a=t.sdS(13);t.R7$(3),t.Y8G("name",o.data.student.fullName)("parentFullName",o.data.student.parentFullName)("parentId",o.data.student.parentId)("parentPhone",o.data.student.parentPhone)("phone",o.data.student.phone)("email",o.data.student.email)("avatar",o.data.student.avatar)("gender",o.data.student.gender)("hasUser",o.data.student.hasUser),t.R7$(8),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[F,X,W,kt.B,aa,Ot.U,Y.K,_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,f.vv,x.Id,I.k],encapsulation:2}),s})();const mf=n=>({"text-primary stroke-width-2.5":n}),df=n=>({"text-primary stroke-width-2.5":n,"-mt-2":!0});function _f(n,s){1&n&&(t.j41(0,"div",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function uf(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",10),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function pf(n,s){if(1&n&&(t.j41(0,"div",20),t.nrm(1,"lucide-icon",21)(2,"lucide-icon",22),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(2,mf,i.typeFieldSort===e.typeFieldSort.asc)),t.R7$(),t.Y8G("ngClass",t.eq3(4,df,i.typeFieldSort===e.typeFieldSort.desc))}}function gf(n,s){if(1&n){const i=t.RV6();t.j41(0,"th",17)(1,"div",18),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.sortTableByFieldName(o))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,pf,3,6,"div",19),t.k0s()()}if(2&n){const i=s.$implicit;t.R7$(),t.Aen(i.customStyle),t.HbH(i.customClassCss),t.R7$(),t.SpI(" ",t.bMT(3,6,i.key)," "),t.R7$(2),t.Y8G("ngIf",!i.ignore)}}function hf(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",23)(1,"td",24),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.showAttendanceDetail(o))}),t.nrm(2,"azt-student-info-box",25),t.k0s(),t.j41(3,"td",26),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",26),t.EFF(7),t.k0s(),t.j41(8,"td",26),t.EFF(9),t.k0s(),t.j41(10,"td",26),t.EFF(11),t.k0s(),t.j41(12,"td",26),t.EFF(13),t.k0s()()}if(2&n){const i=s.$implicit,e=t.XpG(2);t.Y8G("id","row_student_"+i.id),t.R7$(2),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("phone",i.phone)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt)("identificationNumber",i.identificationNumber),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,18,i.identificationNumber,e.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.JRh(null==i?null:i.totalAttend),t.R7$(2),t.JRh(null==i?null:i.totalAbsence),t.R7$(2),t.JRh(null==i?null:i.totalAbsentPermission),t.R7$(2),t.JRh(null==i?null:i.totalAbsentNoPermission)}}function ff(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",30),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.setPageStudent(o))}),t.k0s()}if(2&n){const i=t.XpG(3);t.Y8G("pageObj",i.pageObj)}}function bf(n,s){if(1&n&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(3);t.R7$(),t.Lme("",i.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function vf(n,s){if(1&n&&(t.j41(0,"div",27),t.nrm(1,"div"),t.DNE(2,ff,1,1,"azt-paging",28)(3,bf,3,4,"div",29),t.k0s()),2&n){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!i.isStudent)}}function kf(n,s){if(1&n&&(t.j41(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),t.DNE(5,gf,5,8,"th",14),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,hf,14,21,"tr",15),t.k0s()()()(),t.DNE(8,vf,4,2,"div",16)),2&n){const i=t.XpG();t.R7$(5),t.Y8G("ngForOf",i.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",i.listStudent),t.R7$(),t.Y8G("ngIf",i.listStudent&&i.totalStudent&&i.totalStudent>0)}}let xf=(()=>{var n;class s extends O.H{onSearchBox(e){this.searchContentObj=e,this.getData()}setPageStudent(e){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+e),this.pageObj.setPageNumber(e),this.getData()}sortTableByFieldName(e){e.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(e),this.getData())}showAttendanceDetail(e){this.sAztDialogService.open(cf,{width:"700px",restoreFocus:!1,data:{student:e,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.listStudent=o.data?.list??[],this.totalStudent=o.data?.total??0,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(e,o,a,r){super(),this.activeRoute=e,this.studentService=o,this.sortTableByFieldNameService=a,this.sAztDialogService=r,this.classroomId=0,this.searchContentObj=new Dt.Z,this.pageObj=new Jt.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=it}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX),t.rXU(z.b0),t.rXU(Le),t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Jv_([Le]),t.Vt3,t.aNF],decls:14,vars:10,consts:[["doneLoading",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mt-1"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,_f,3,3,"div",4),t.k0s(),t.j41(6,"div",5)(7,"div",6)(8,"azt-search-box",7),t.nI1(9,"mytranslate"),t.bIt("onSearch",function(l){return t.eBV(a),t.Njj(o.onSearchBox(l.searchObj))}),t.k0s()()(),t.j41(10,"div",2),t.DNE(11,uf,1,1,"azt-loading-effect",8)(12,kf,9,3,"ng-template",null,0,t.C5r),t.k0s()()}if(2&e){const a=t.sdS(13);t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_attendance")),t.R7$(2),t.Y8G("ngIf",o.isMobileDevice&&o.listStudent.length>0),t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(9,8,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[F,X,W,It.W,Y.K,kt.B,ee.q,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,f.Po,x.Id,I.k],encapsulation:2}),s})();var Cf=p(10127);function Tf(n,s){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Sf(n,s){1&n&&(t.j41(0,"tr",11)(1,"td",12)(2,"span",13),t.nrm(3,"azt-loading-ui"),t.k0s()()())}function If(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td",11)(9,"span",16),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()),2&n){const i=s.$implicit,e=s.index;t.R7$(2),t.JRh(e+1),t.R7$(2),t.JRh(t.bMT(5,4,i.createdAt)),t.R7$(3),t.JRh(i.month+"/"+i.year),t.R7$(3),t.SpI(" ",t.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function yf(n,s){if(1&n&&(t.qex(0),t.DNE(1,If,12,8,"tr",15),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.historyTuitionFeeList)}}function jf(n,s){1&n&&(t.j41(0,"tr")(1,"td",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}function Of(n,s){if(1&n&&t.DNE(0,yf,2,1,"ng-container",14)(1,jf,4,3,"ng-template",null,1,t.C5r),2&n){const i=t.sdS(2),e=t.XpG();t.Y8G("ngIf",e.historyTuitionFeeList.length)("ngIfElse",i)}}let wf=(()=>{var n;class s extends O.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(e=>{e?(this.historyTuitionFeeList=e.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(e){super(),this.paymentService=e,this.historyTuitionFeeList=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.WG))},n.\u0275cmp=t.VBU({type:n,selectors:[["detail-tuition-fee-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:15,consts:[["doneLoading",""],["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(e,o){if(1&e&&(t.j41(0,"div",2),t.DNE(1,Tf,3,3,"div",3),t.j41(2,"div",4)(3,"drag-scroll")(4,"table",5)(5,"thead",6)(6,"tr")(7,"th",7),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",8),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",9),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()(),t.j41(19,"tbody"),t.DNE(20,Sf,4,0,"tr",10)(21,Of,3,2,"ng-template",null,0,t.C5r),t.k0s()()()()()),2&e){const a=t.sdS(22);t.R7$(),t.Y8G("ngIf",o.isMobileDevice||o.isMobileWebView),t.R7$(7),t.SpI(" ",t.bMT(9,7,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(12,9,"lang_student_payment_time")," "),t.R7$(3),t.SpI(" ",t.bMT(15,11,"lang_student_monthly_tuition_fee")," "),t.R7$(3),t.SpI(" ",t.bMT(18,13,"lang_student_status")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[F,X,W,$.R,_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,f.bH,x.Id,I.k],encapsulation:2}),s})();const _a=()=>[],Ff=n=>({"text-primary stroke-width-2.5":n}),Rf=n=>({"text-primary stroke-width-2.5":n,"-mt-2":!0});function Ef(n,s){1&n&&(t.j41(0,"div",7),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Mf(n,s){if(1&n&&(t.j41(0,"div",13),t.nrm(1,"azt-loading-effect",14),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("currentStatusObj",i.statusObj)}}function Nf(n,s){1&n&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Gf(n,s){if(1&n&&(t.j41(0,"div",29),t.nrm(1,"lucide-icon",30)(2,"lucide-icon",31),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(5);t.R7$(),t.Y8G("ngClass",t.eq3(2,Ff,i.typeFieldSort===e.typeFieldSort.asc)),t.R7$(),t.Y8G("ngClass",t.eq3(4,Rf,i.typeFieldSort===e.typeFieldSort.desc))}}function Df(n,s){if(1&n){const i=t.RV6();t.j41(0,"th",26)(1,"div",27),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(5);return t.Njj(a.sortTableByFieldName(o))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Gf,3,6,"div",28),t.k0s()()}if(2&n){const i=s.$implicit;t.R7$(),t.Aen(i.customStyle),t.HbH(i.customClassCss),t.R7$(),t.SpI(" ",t.bMT(3,6,i.key)," "),t.R7$(2),t.Y8G("ngIf",!i.ignore)}}function $f(n,s){1&n&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function zf(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,$f,2,0,"span",5),t.EFF(3),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.lastMonthPaid," "),t.R7$(),t.Y8G("ngIf",i.lastMonthPaid),t.R7$(),t.SpI(" ",i.lastYearPaid," ")}}function Pf(n,s){1&n&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function Af(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",32),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(5);return t.Njj(a.addOrEditTuitionFee(o))}),t.nrm(2,"azt-student-info-box",33),t.k0s(),t.j41(3,"td",34),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",35),t.EFF(7),t.k0s(),t.j41(8,"td",36),t.DNE(9,zf,4,3,"span",5)(10,Pf,3,3,"span",37),t.k0s()()}if(2&n){let i;const e=s.$implicit,o=t.XpG(5);t.R7$(2),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("schoolName",e.schoolName)("hasUser",e.hasUser)("classrooms",e.classrooms)("joinedAt",e.joinedAt)("phone",e.phone)("identificationNumber",e.identificationNumber),t.R7$(2),t.JRh(e.identificationNumber?t.i5U(5,13,e.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.SpI(" ",null!==(i=null==e.classroom?null:e.classroom.name)&&void 0!==i?i:""," "),t.R7$(2),t.Y8G("ngIf",!e.isTrial),t.R7$(),t.Y8G("ngIf",e.isTrial)}}function Lf(n,s){if(1&n&&(t.j41(0,"div")(1,"div",21)(2,"drag-scroll")(3,"table",22)(4,"thead")(5,"tr",23),t.DNE(6,Df,5,8,"th",24),t.k0s()(),t.j41(7,"tbody"),t.DNE(8,Af,11,16,"tr",25),t.k0s()()()()()),2&n){let i;const e=t.XpG(4);t.R7$(6),t.Y8G("ngForOf",e.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==e.listPayment?null:e.listPayment.list)&&void 0!==i?i:t.lJ4(2,_a))}}function Yf(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",39),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",40),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.goBack())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Bf(n,s){if(1&n&&(t.j41(0,"div",17),t.DNE(1,Nf,3,3,"div",18)(2,Lf,9,3,"div",5)(3,Yf,6,6,"div",19),t.k0s()),2&n){let i,e;const o=t.XpG(3);t.R7$(),t.Y8G("ngIf",!o.searchContentObj.isLoading&&0==(null==o.listPayment?null:o.listPayment.total)&&""==o.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",(null!==(i=null==o.listPayment?null:o.listPayment.total)&&void 0!==i?i:0)>0),t.R7$(),t.Y8G("ngIf",!o.searchContentObj.isLoading&&0==(null!==(e=null==o.listPayment?null:o.listPayment.list)&&void 0!==e?e:t.lJ4(3,_a)).length&&""!=o.searchContentObj.searchContent)}}function Vf(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",44),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.setPageStudent(o))}),t.k0s()}if(2&n){const i=t.XpG(4);t.Y8G("pageObj",i.pageObj)}}function Xf(n,s){if(1&n&&(t.j41(0,"div",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(4);t.R7$(),t.Lme("",i.listPayment.total," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function Uf(n,s){if(1&n&&(t.j41(0,"div",41),t.nrm(1,"div"),t.DNE(2,Vf,1,1,"azt-paging",42)(3,Xf,3,4,"div",43),t.k0s()),2&n){const i=t.XpG(3);t.R7$(2),t.Y8G("ngIf",i.listPayment.total>i.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!i.isStudent)}}function Hf(n,s){if(1&n&&t.DNE(0,Bf,4,4,"div",15)(1,Uf,4,2,"div",16),2&n){let i;const e=t.XpG(2);t.Y8G("ngIf",!e.isStudent),t.R7$(),t.Y8G("ngIf",e.listPayment&&e.listPayment.total&&(null!==(i=null==e.listPayment?null:e.listPayment.total)&&void 0!==i?i:0)>0)}}function Jf(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"azt-search-box",11),t.nI1(5,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onSearchBox(o.searchObj))}),t.k0s()()()(),t.DNE(6,Mf,2,1,"div",12)(7,Hf,2,2,"ng-template",null,0,t.C5r),t.bVm()}if(2&n){const i=t.sdS(8),e=t.XpG();t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",e.searchContentObj),t.R7$(2),t.Y8G("ngIf",e.statusObj.loading)("ngIfElse",i)}}function Wf(n,s){1&n&&(t.j41(0,"div",46),t.nrm(1,"detail-tuition-fee-student"),t.k0s())}let qf=(()=>{var n;class s extends O.H{onSearchBox(e){this.searchContentObj=e,this.getData()}addOrEditTuitionFee(e){this.sAztDialogService.open(Cf.B,{width:"900px",restoreFocus:!1,data:e}).afterClosed().subscribe(o=>{o&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent("EMIT_EVENT")}sortTableByFieldName(e){e.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(e),this.getData())}setPageStudent(e){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+e),this.pageObj.setPageNumber(e),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.listPayment=o.data,this.pageObj.setTotalPages(o.data?.total??0),this.successStatusObj()}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:it.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:it.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(e,o,a,r){super(),this.activeRoute=e,this.sAztDialogService=o,this.studentService=a,this.sortTableByFieldNameService=r,this.pageStudent=1,this.searchContentObj=new Dt.Z,this.classroomId=0,this.pageObj=new Jt.d(50),this.typeFieldSort=it}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX),t.rXU(Q.i),t.rXU(z.b0),t.rXU(Le))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Jv_([Le]),t.Vt3,t.aNF],decls:8,vars:6,consts:[["doneLoading",""],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(e,o){1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Ef,3,3,"div",4),t.k0s(),t.DNE(6,Jf,9,7,"ng-container",5)(7,Wf,2,0,"div",6),t.k0s()),2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,4,o.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),t.R7$(2),t.Y8G("ngIf",(o.isMobileDevice||o.isMobileWebView)&&!o.isStudent),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.isStudent))},dependencies:[F,X,W,It.W,Y.K,kt.B,ee.q,wf,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,f.Po,x.Id,I.k],encapsulation:2}),s})();var Qf=p(35048);const Zf=["selectStudent"],Kf=n=>({flex:n}),ua=n=>({" ml-5":n});function tb(n,s){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_chon_hoc_sinh_muon_gui_thong_bao")," "))}function eb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",14)(1,"h3",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-select-student",23,0),t.bIt("closeBox",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.closeBoxSelectStudent(o))}),t.k0s(),t.DNE(6,tb,3,3,"div",17),t.k0s()}if(2&n){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"lang_core_chon_hoc_sinh")),t.R7$(2),t.Y8G("isDialog",!1)("data",i.data),t.R7$(2),t.Y8G("ngIf",0==i.data.studentIdsSelected.length&&i.isShowError)}}function nb(n,s){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong_noi_dung_thong_bao")," "))}function ib(n,s){1&n&&t.nrm(0,"azt-loading-ui",25)}let ob=(()=>{var n;class s extends O.H{resetForm(){this.contentFormControl.reset(),this.selectAction(this.action.getRawValue()),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.isShowError=!1,this.selectStudent&&this.selectStudent.resetAll()}selectAction(e){let a=this.commonService.myTranslateInstant(1==e?"lang_azt_ban_co_1_so_bai_thi_chua_hoan_thanh_vui_long_hoan_thanh_dung_thoi_han":2==e?"lang_azt_ban_chua_nop_hoc_phi_thang_hien_tai_vui_long_hoan_tat_hoc_phi_uca_ban":"")??"";this.contentFormControl.setValue(a)}closeBoxSelectStudent(e){e&&(e.studentIdsSelected.length>0&&(this.isShowError=!0),this.data=e)}sendNotification(){if(this.initStatusObj(),3==this.action.getRawValue()){let e={noticeProcessAction:{isNoticeTuition:!1,isNoticeFinishedLesson:!1,isNoticeAttendance:!1,isNoticeClassroomCustomContent:!0},studentIds:this.data.studentIdsSelected,title:"",body:this.contentFormControl.getRawValue()};this.waitDestroy(this.wrapApiResponse(this.studentNotificationService.apiStudentNotificationSendCustomMsgToStudentsPost(e)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_super_role_send_notice_successfully",!0),this.resetForm()}))}else{let e={isSendUnFinished:1==this.action.getRawValue(),isSendTuition:2==this.action.getRawValue(),title:"",content:this.contentFormControl.getRawValue()};this.waitDestroy(this.wrapApiResponse(this.classroomNotificationService.apiClassroomNotificationClassroomIdPost(this.classroomId,e)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_super_role_send_notice_successfully",!0),this.resetForm()}))}}ngOnInit(){super.ngOnInit(),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.selectAction(this.action.getRawValue())}constructor(e,o){super(),this.studentNotificationService=e,this.classroomNotificationService=o,this.contentFormControl=new m.MJ("",{nonNullable:!0,validators:[me.M.noWhiteSpace]}),this.action=new m.MJ(1,{nonNullable:!0}),this.isShowError=!1}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.KB),t.rXU(z.M8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-send-notification"]],viewQuery:function(e,o){if(1&e&&t.GBs(Zf,5),2&e){let a;t.mGM(a=t.lsd())&&(o.selectStudent=a.first)}},inputs:{classroomName:"classroomName",classroomId:"classroomId"},standalone:!0,features:[t.Vt3,t.aNF],decls:41,vars:48,consts:[["selectStudent",""],["id","sendNotification",1,"box-exam__text"],[1,"text-lg","mb-3","font-medium"],[1,"font-medium"],[1,"items-center","mt-2",3,"ngClass"],[1,"flex","items-center","mt-1"],["id","action1","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action1",1,"pl-2","form-check-label"],[1,"flex","items-center","mt-1",3,"ngClass"],["id","action2","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action2",1,"pl-2","form-check-label"],["id","action3","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action3",1,"pl-2","form-check-label"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mt-2"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","justify-end","mt-5"],[1,"btn","btn-close","mr-3",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"font-medium","mb-2"],[3,"closeBox","isDialog","data"],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",1)(1,"h2",2),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"h3",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",4)(8,"div",5)(9,"input",6),t.bIt("change",function(){return o.selectAction(1)}),t.k0s(),t.j41(10,"label",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",8)(14,"input",9),t.bIt("change",function(){return o.selectAction(2)}),t.k0s(),t.j41(15,"label",10),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",8)(19,"input",11),t.bIt("change",function(){return o.selectAction(3)}),t.k0s(),t.j41(20,"label",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,eb,7,6,"div",13),t.j41(24,"div",14)(25,"h3",3),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"div",15)(29,"textarea",16),t.nI1(30,"mytranslate"),t.EFF(31,"\t\t\t"),t.k0s()(),t.DNE(32,nb,3,3,"div",17),t.k0s(),t.j41(33,"div",18)(34,"button",19),t.bIt("click",function(){return o.resetForm()}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.j41(37,"button",20),t.bIt("click",function(){return o.sendNotification()}),t.DNE(38,ib,1,0,"azt-loading-ui",21),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,24,"lang_core_gui_thongBao_den_hoc_sinh")," "),t.R7$(3),t.JRh(t.bMT(6,26,"lang_core_chon_muc_dich_gui_thong_bao")),t.R7$(2),t.Y8G("ngClass",t.eq3(42,Kf,!o.isMobileDevice&&!o.isMobileWebView)),t.R7$(2),t.Y8G("formControl",o.action)("value",1),t.R7$(2),t.JRh(t.bMT(12,28,"lang_core_chua_lam_bai_thi")),t.R7$(2),t.Y8G("ngClass",t.eq3(44,ua,!o.isMobileDevice&&!o.isMobileWebView)),t.R7$(),t.Y8G("formControl",o.action)("value",2),t.R7$(2),t.JRh(t.bMT(17,30,"lang_core_chua_dong_hoc_phi_thang_hien_tai")),t.R7$(2),t.Y8G("ngClass",t.eq3(46,ua,!o.isMobileDevice&&!o.isMobileWebView)),t.R7$(),t.Y8G("formControl",o.action)("value",3),t.R7$(2),t.JRh(t.bMT(22,32,"lang_core_tuy_chon_hoc_sinh_cu_the")),t.R7$(2),t.Y8G("ngIf",3==o.action.getRawValue()),t.R7$(3),t.JRh(t.bMT(27,34,"lang_core_noi_dung_thong_bao")),t.R7$(3),t.FS9("placeholder",t.bMT(30,36,"lang_business_news_post_content")),t.Y8G("formControl",o.contentFormControl),t.R7$(3),t.Y8G("ngIf",o.contentFormControl.dirty&&o.contentFormControl.invalid),t.R7$(2),t.Y8G("disabled",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(36,38,"lang_auto_dat_lai")," "),t.R7$(2),t.Y8G("disabled",o.statusObj.loading||o.contentFormControl.invalid||3==o.action.getRawValue()&&0==o.data.studentIdsSelected.length),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(40,40,"lang_super_role_send_notice_approved_question_share")," "))},dependencies:[Qf.w,$.R,_.MD,_.YU,_.bT,m.X1,m.me,m.Fm,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,Vt.fg,h.flO,y.L,x.Id,I.k,Je.j],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{padding:5px!important;resize:none;min-height:80px;font-size:14px;width:100%;border:none;padding:0;border-radius:5px;max-height:250px!important}"]}),s})();var bn=p(82653);function sb(n,s){1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem"),""))}function ab(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",15)(1,"label",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"input",16),t.nI1(5,"mytranslate"),t.bIt("keyup.enter",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.handleSubmit())}),t.k0s(),t.DNE(6,sb,3,3,"div",10),t.k0s()}if(2&n){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_student_name_component_score")," "),t.R7$(2),t.FS9("placeholder",t.bMT(5,5,"lang_student_enter_name_component_score")),t.R7$(2),t.Y8G("ngIf",i.form.controls.name.touched&&i.form.controls.name.errors)}}function rb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",15)(1,"label",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"input",18),t.nI1(5,"mytranslate"),t.bIt("keyup.enter",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.handleSubmit())}),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,3,"homework"==(null==i.data.mark?null:i.data.mark.documentType)?"lang_auto_bai_tap":"lang_auto_de_thi"),":"),t.R7$(2),t.FS9("placeholder",t.bMT(5,5,"lang_student_enter_name_component_score")),t.Y8G("value",null==i.data.mark?null:i.data.mark.documentName)}}function lb(n,s){1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_auto_he_so_diem_phai_la_so"),""))}function cb(n,s){1&n&&t.nrm(0,"azt-loading-ui",19)}let mb=(()=>{var n;class s extends ot._{setValueCoefficient(){var e=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(e)??0)}handleSubmit(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj();const e=this.form.getRawValue(),o={name:e.name,subjectId:this.data.subjectId??0,classroomId:this.data.classroomId,coefficient:e.coefficient};this.data.mark?this.data.mark?.objectId?this.updateExamScoreCoefficient():this.updateScoreCoefficient(o):this.createScoreCoefficient(o)}createScoreCoefficient(e){this.waitDestroy(this.markService.apiMarksPost(e).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_core_them_dau_diem_thanh_cong",!0),this.dialogRef.close(!0)}))}updateScoreCoefficient(e){this.waitDestroy(this.markService.apiMarksIdPut(this.data.mark?.id??0,e).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_core_sua_dau_diem_thanh_cong",!0),this.dialogRef.close(!0)}))}updateExamScoreCoefficient(){this.waitDestroy(this.markService.apiMarksCoefficientPost({objectType:this.data.mark?.objectType??"",objectId:this.data.mark?.objectId??0,coefficient:this.form.controls.coefficient.value??0}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_core_sua_dau_diem_thanh_cong",!0),this.dialogRef.close(!0)}))}constructor(e,o,a){super(a,o),this.markService=e,this.dialogRef=o,this.data=a,this.form=new m.gE({name:new m.MJ({value:a.mark?.name??"",disabled:0==a.mark?.canEditMark},{nonNullable:!0,validators:[m.k0.required,me.M.noWhiteSpace]}),coefficient:new m.MJ(a.mark?.coefficient,{nonNullable:!0,validators:[m.k0.required,m.k0.pattern(/^[1-9]\d*$/)]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.fo),t.rXU(M.CP,8),t.rXU(M.Vh))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-cou-score-coefficient-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:20,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-base","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"input","keyup.enter","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"keyup.enter","placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"keyup.enter","value","placeholder"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",5),t.DNE(8,ab,7,7,"div",6)(9,rb,6,7,"div",6),t.j41(10,"div",7)(11,"label",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"input",9),t.nI1(15,"mytranslate"),t.bIt("input",function(){return o.setValueCoefficient()})("keyup.enter",function(){return o.handleSubmit()}),t.k0s(),t.DNE(16,lb,3,3,"div",10),t.k0s()()()(),t.j41(17,"div",11)(18,"button",12),t.bIt("click",function(){return o.dialogRef.close()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",13),t.bIt("click",function(){return o.handleSubmit()}),t.DNE(22,cb,1,0,"azt-loading-ui",14),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(),t.Y8G("formGroup",o.form),t.R7$(4),t.SpI(" ",t.bMT(6,10,o.data.mark?"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),t.R7$(3),t.Y8G("ngIf",!(null!=o.data.mark&&o.data.mark.isOnlyCoefficient)),t.R7$(),t.Y8G("ngIf",null==o.data.mark?null:o.data.mark.isOnlyCoefficient),t.R7$(3),t.SpI(" ",t.bMT(13,12,"lang_student_score_factor")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,14,"lang_student_enter_score_factor")),t.R7$(2),t.Y8G("ngIf",o.form.controls.coefficient.touched&&o.form.controls.coefficient.errors),t.R7$(3),t.JRh(t.bMT(20,16,"lang_button_cancel")),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(24,18,"lang_button_save")," "))},dependencies:[$.R,_.MD,_.bT,m.X1,m.qT,m.me,m.Q0,m.BC,m.cb,m.j4,m.JD,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k,ae.t],encapsulation:2}),s})();var pa=p(50589);const db=["table_score"],ga=()=>({"mr-2":!0}),Ye=n=>({permissionObj:n}),_b=n=>({"mr-3":n}),ub=()=>({"text-danger":!0}),Vi=()=>[];function pb(n,s){1&n&&t.nrm(0,"azt-loading-ui",29)}function gb(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.handleSaveMark())}),t.DNE(1,pb,1,0,"azt-loading-ui",28),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",i.isLoadingSaveMark),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_luu")," ")}}function hb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",7)(1,"div",19)(2,"h3",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",21)(6,"flexed-on-the-top",22)(7,"div",10)(8,"button",23),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.exportTableScore())}),t.nrm(9,"lucide-icon",24),t.j41(10,"span"),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.DNE(13,gb,4,4,"button",25),t.nI1(14,"editPermission"),t.k0s()()()(),t.j41(15,"div",26),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(3),t.JRh(t.bMT(4,6,"lang_auto_bang_diem")),t.R7$(3),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(3),t.Y8G("ngClass",t.lJ4(15,ga)),t.R7$(2),t.JRh(t.bMT(12,8,"lang_student_export_a_grade_sheet")),t.R7$(2),t.Y8G("ngIf",t.i5U(14,10,t.eq3(16,Ye,i.permissionObj),"student")),t.R7$(3),t.SpI(" ",t.bMT(17,13,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," ")}}function fb(n,s){if(1&n&&(t.j41(0,"mat-option",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.key)," ")}}function bb(n,s){if(1&n&&(t.j41(0,"mat-optgroup",30),t.nI1(1,"mytranslate"),t.DNE(2,fb,3,4,"mat-option",31),t.k0s()),2&n){const i=s.$implicit;t.XpG();const e=t.sdS(12);t.Y8G("label",t.bMT(1,2,i.name)),t.R7$(2),t.Y8G("ngForOf",e.filter(i.subjects,"key"))}}function vb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",36)(1,"azt-check-vip-account",37),t.bIt("checkAction",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.couScoreCoefficient())}),t.nrm(2,"lucide-icon",38),t.j41(3,"span",39),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}if(2&n){const i=t.XpG(2);t.R7$(),t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-outline-primary")("isShowBadgeVip",!i.isBusinessDomain)("isAction",!0)("trackingKey","ADD_COEFFICIENT_SCOREBOARD"),t.R7$(),t.Y8G("ngClass",t.lJ4(10,ga)),t.R7$(),t.Y8G("ngClass",t.eq3(11,_b,!i.isBusinessDomain)),t.R7$(),t.JRh(t.bMT(5,8,"lang_student_enter_new_component_score"))}}function kb(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",33)(1,"azt-search-box",34),t.nI1(2,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onSearchBox(o.searchObj))}),t.k0s(),t.DNE(3,vb,6,13,"div",35),t.nI1(4,"editPermission"),t.k0s()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(2,3,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("ngIf",t.i5U(4,5,t.eq3(8,Ye,i.permissionObj),"student"))}}function xb(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",40),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Cb(n,s){if(1&n&&(t.j41(0,"div",61)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",62),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function Tb(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",63),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.couScoreCoefficient(o))}),t.nrm(2,"lucide-icon",64),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_sua"))}function Sb(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",65),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.deleteScoreCoefficient(o))}),t.nrm(2,"lucide-icon",66),t.k0s()}2&n&&(t.FS9("matTooltip",t.bMT(1,2,"lang_auto_xoa")),t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ub)))}function Ib(n,s){if(1&n&&(t.j41(0,"th",53)(1,"div",54)(2,"div",55)(3,"div",56),t.EFF(4),t.k0s(),t.j41(5,"div",57),t.DNE(6,Cb,6,4,"div",58)(7,Tb,3,3,"button",59),t.nI1(8,"editPermission"),t.DNE(9,Sb,3,5,"button",60),t.nI1(10,"editPermission"),t.k0s()()()()),2&n){const i=s.$implicit,e=t.XpG(3);t.R7$(3),t.FS9("matTooltip",i.name),t.R7$(),t.JRh(i.name),t.R7$(2),t.Y8G("ngIf",i.coefficient),t.R7$(),t.Y8G("ngIf",t.i5U(8,5,t.eq3(11,Ye,e.permissionObj),"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(10,8,t.eq3(13,Ye,e.permissionObj),"student"))}}function yb(n,s){if(1&n&&(t.j41(0,"div",53),t.nrm(1,"azt-check-mark",75),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function jb(n,s){if(1&n&&t.nrm(0,"azt-check-mark",75),2&n){const i=t.XpG(2).$implicit;t.Y8G("mark",i.marks.join(" "))}}function Ob(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"input",78),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.bIt("input",function(o){t.eBV(i);const a=t.XpG(2).index,r=t.XpG().index,l=t.XpG(4);return t.Njj(l.handleMarkStudent(o,r,a))}),t.k0s(),t.bVm()}if(2&n){const i=t.XpG(2).$implicit,e=t.XpG().$implicit;t.R7$(),t.FS9("matTooltip",t.bMT(2,5,"lang_core_diem_duoc_tach_boi_dau_cach")),t.FS9("id",i.id.toString()+"-"+e.id.toString()),t.FS9("placeholder",t.bMT(3,7,"lang_auto_nhap_diem")),t.Y8G("matTooltipDisabled",!i.canEditMark)("value",i.marks.join(" "))}}function wb(n,s){if(1&n&&(t.j41(0,"div",53),t.DNE(1,jb,1,1,"azt-check-mark",76),t.nI1(2,"editPermission"),t.DNE(3,Ob,4,9,"ng-container",77),t.nI1(4,"editPermission"),t.k0s()),2&n){const i=t.XpG().$implicit,e=t.XpG(5);t.R7$(),t.Y8G("ngIf",!i.canEditMark||!t.i5U(2,2,t.eq3(8,Ye,e.permissionObj),"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(4,5,t.eq3(10,Ye,e.permissionObj),"student")&&i.canEditMark)}}function Fb(n,s){if(1&n&&(t.j41(0,"td",53),t.DNE(1,yb,2,1,"div",73)(2,wb,5,12,"div",73),t.nrm(3,"div",74),t.k0s()),2&n){const i=s.$implicit,e=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType),t.R7$(),t.Mz_("id","error-",i.id.toString()+"-"+e.id.toString(),""),t.Y8G("hidden",!0)}}function Rb(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",68)(1,"td",69),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(4);return t.Njj(a.goToProfile(o.classroomId,o.id))}),t.nrm(2,"azt-student-info-box",70),t.k0s(),t.j41(3,"td",71),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,Fb,4,5,"td",48),t.j41(7,"td")(8,"div",72),t.EFF(9),t.k0s()()()}if(2&n){let i,e;const o=s.$implicit,a=t.XpG(4);t.Y8G("id","row_student_"+o.id),t.R7$(2),t.Y8G("name",o.fullName)("parentFullName",o.parentFullName)("parentUserName",o.parentUserName)("parentId",o.parentId)("avatar",o.avatar)("identificationNumber",o.identificationNumber)("gender",o.gender)("hasUser",1==o.isVerified)("schoolName",o.schoolName)("phone",o.phone)("email",o.email)("createdAt",o.createdAt),t.R7$(2),t.JRh(o.identificationNumber?t.i5U(5,16,o.identificationNumber,a.myEnvironment.maxStudentCodeLength):""),t.R7$(2),t.Y8G("ngForOf",null!==(i=o.marks)&&void 0!==i?i:t.lJ4(19,Vi)),t.R7$(3),t.SpI(" ",null!==(e=o.averageMark)&&void 0!==e?e:0," ")}}function Eb(n,s){if(1&n&&(t.qex(0),t.DNE(1,Rb,10,20,"tr",67),t.bVm()),2&n){let i;const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",null!==(i=e.studentList)&&void 0!==i?i:t.lJ4(1,Vi))}}function Mb(n,s){1&n&&(t.j41(0,"tr")(1,"td",79)(2,"div",80),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_student_classroom_list_detail_not_student")," "))}function Nb(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",86),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(4);return t.Njj(a.setPage(o))}),t.k0s()}if(2&n){const i=t.XpG(4);t.Y8G("pageObj",i.pageObj)}}function Gb(n,s){if(1&n&&(t.j41(0,"div",81)(1,"div",82),t.DNE(2,Nb,1,1,"azt-paging",83),t.k0s(),t.j41(3,"div",84),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",85),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(3);t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(2),t.JRh(i.totalStudent+" "+t.bMT(5,3,"lang_notify_list_students")),t.R7$(3),t.JRh(i.totalStudent+" "+t.bMT(8,5,"lang_notify_list_students"))}}function Db(n,s){if(1&n&&(t.j41(0,"th",88),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit,e=s.index,o=t.XpG(4);t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",8+e)("excelStyle",o.styleThNormal),t.R7$(),t.Lme(" ",i.name+"\n"," "," ("+t.bMT(2,6,"lang_auto_he_so")+" "+i.coefficient+")"," ")}}function $b(n,s){if(1&n&&t.nrm(0,"azt-check-mark",75),2&n){const i=t.XpG().$implicit;t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function zb(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.marks.join(" ")," ")}}function Pb(n,s){if(1&n&&(t.j41(0,"td",88),t.DNE(1,$b,1,1,"azt-check-mark",76)(2,zb,2,1,"span",77),t.k0s()),2&n){const i=s.$implicit,e=s.index,o=t.XpG().index,a=t.XpG(4);t.BMQ("excelRow",o+1)("excelColumn",8+e)("excelStyle",a.styleTdNormal),t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}function Ab(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",88),t.EFF(2),t.k0s(),t.j41(3,"td",88),t.EFF(4),t.k0s(),t.j41(5,"td",88),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s(),t.j41(8,"td",88),t.EFF(9),t.k0s(),t.j41(10,"td",88),t.EFF(11),t.k0s(),t.j41(12,"td",88),t.EFF(13),t.k0s(),t.j41(14,"td",88),t.EFF(15),t.nI1(16,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(17,"td",88),t.EFF(18),t.nI1(19,"mytranslate"),t.nI1(20,"mytranslate"),t.k0s(),t.DNE(21,Pb,3,5,"td",89),t.j41(22,"td",88),t.EFF(23),t.k0s()()),2&n){let i,e,o;const a=s.$implicit,r=s.index,l=t.XpG(4);t.R7$(),t.BMQ("excelRow",r+1)("excelColumn",0)("excelStyle",l.styleTdNormal),t.R7$(),t.SpI(" ",null!=a&&a.fullName?r+1:""," "),t.R7$(),t.BMQ("excelRow",r+1)("excelColumn",1)("excelStyle",l.styleTdNormalLeft),t.R7$(),t.SpI(" ",null==a?null:a.fullName," "),t.R7$(),t.BMQ("excelRow",r+1)("excelColumn",2)("excelStyle",l.styleTdNormalLeft),t.R7$(),t.SpI(" ",a.identificationNumber?t.i5U(7,37,a.identificationNumber,l.myEnvironment.maxStudentCodeLength):""," "),t.R7$(2),t.BMQ("excelRow",r+1)("excelColumn",3)("excelStyle",l.styleTdNormalLeft),t.R7$(),t.SpI(" ",null==a?null:a.parentUserName," "),t.R7$(),t.BMQ("excelRow",r+1)("excelColumn",4)("excelStyle",l.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",null==a?null:a.phone," "),t.R7$(),t.BMQ("excelRow",r+1)("excelColumn",5)("excelStyle",l.styleTdNormal),t.R7$(),t.SpI(" ",null==a?null:a.email," "),t.R7$(),t.BMQ("excelRow",r+1)("excelColumn",6)("excelStyle",l.styleTdNormal),t.R7$(),t.SpI(" ",t.bMT(16,40,null==a?null:a.birthday)," "),t.R7$(2),t.BMQ("excelRow",r+1)("excelColumn",7)("excelStyle",l.styleTdNormal),t.R7$(),t.SpI(" ",1==(null==a?null:a.gender)?t.bMT(19,42,"lang_student_export_excel_gender_male"):0==(null==a?null:a.gender)?t.bMT(20,44,"lang_student_export_excel_gender_female"):""," "),t.R7$(3),t.Y8G("ngForOf",null!==(i=a.marks)&&void 0!==i?i:t.lJ4(46,Vi)),t.R7$(),t.BMQ("excelRow",r+1)("excelColumn",8+(null!==(e=null==a.marks?null:a.marks.length)&&void 0!==e?e:0))("excelStyle",l.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",null!==(o=a.averageMark)&&void 0!==o?o:0," ")}}function Lb(n,s){if(1&n&&(t.j41(0,"table",87,3)(2,"thead")(3,"tr")(4,"th",88),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",88),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",88),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",88),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",88),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",88),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"th",88),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"th",88),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.DNE(28,Db,3,8,"th",89),t.j41(29,"th",88),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,Ab,24,47,"tr",90),t.k0s()()),2&n){const i=t.XpG(3);t.Y8G("border",1),t.R7$(4),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(6,48,"lang_student_export_excel_no")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(9,50,"lang_student_export_excel_full_name")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(12,52,"lang_auto_so_bao_danh")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(15,54,"lang_auto_ten_dang_ky")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(18,56,"lang_number_phone")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(21,58,"lang_student_export_excel_email")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(24,60,"lang_student_export_excel_birthday")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",7)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(27,62,"lang_student_export_excel_gender")," "),t.R7$(2),t.Y8G("ngForOf",i.scoreCoefficientList),t.R7$(),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",8+i.scoreCoefficientList.length)("excelStyle",i.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(31,64,"lang_business_diem_tong_ket")," "),t.R7$(3),t.Y8G("ngForOf",i.studentList)}}function Yb(n,s){if(1&n&&(t.j41(0,"div",44)(1,"table",45)(2,"drag-scroll")(3,"thead")(4,"tr")(5,"th",46),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",47),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,Ib,11,15,"th",48),t.j41(12,"th",49),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,Eb,2,2,"ng-container",50)(17,Mb,5,3,"ng-template",null,2,t.C5r),t.k0s()()(),t.DNE(19,Gb,9,7,"div",51)(20,Lb,34,66,"table",52),t.k0s()),2&n){const i=t.sdS(18),e=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,8,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,10,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",e.scoreCoefficientList),t.R7$(2),t.JRh(t.bMT(14,12,"lang_business_diem_tong_ket")),t.R7$(3),t.Y8G("ngIf",e.studentList.length)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",e.studentList.length>0&&!e.isStudent&&!e.studentId),t.R7$(),t.Y8G("ngIf",e.studentExportList.length)}}function Bb(n,s){1&n&&t.nrm(0,"div",91)}function Vb(n,s){if(1&n&&(t.j41(0,"div",41),t.DNE(1,Yb,21,14,"div",42)(2,Bb,1,0,"div",43),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.isLoadingTable),t.R7$(),t.Y8G("ngIf",i.isLoadingTable)}}let ha=(()=>{var n;class s extends O.H{couScoreCoefficient(e){this.isStudent||this.sAztDialogService.open(mb,{data:{subjectId:this.schoolSubject.value,classroomId:this.classroomId,mark:e},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(a=>{a&&this.getStudentList()})}deleteScoreCoefficient(e){const o=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Ai.u,{data:{content:o},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(a=>{a&&this.callApiMarkExclude(e)})}handlePointByValueInput(e){const o=e.target;let a=""===o.value.trim()?"":o.value;a=a.replace(/[^\d\s,\.]/g,"").replace(/,/g,".").replace(/\s+/g," ").replace(/\.{2,}/g,".").replace(/(?:^|\s)\./g," 0.").replace(/^\s+/,"").replace(/\.\s/g," ");const r=a.trim().split(" ");if(r.length){const l=r[r.length-1]||r[r.length-2],c=Number(l);c>=0&&l.includes(".")&&l.split(".")[1].length>2?a=a.slice(0,-1):c<0&&(a=a.replace(/\.$/," "))}return o.value=a,a.split(" ").filter(Boolean).map(parseFloat)}handleMarkStudent(e,o,a){const r=this.handlePointByValueInput(e).length?this.handlePointByValueInput(e):[-1],l=this.studentList[o].id,c=this.scoreCoefficientList[a].id,d=this.listStudentMark.find(u=>u.id===l);if(d){const u=d.listMarks?.find(g=>g.id===c);u?u.points=r:d.listMarks?.push({id:c,points:r})}else this.listStudentMark.push({id:l,listMarks:[{id:c,points:r}]})}handleSaveMark(){this.isLoadingSaveMark=!0,this.waitDestroy(this.wrapApiResponse(this.markService.apiMarksClassroomIdStudentsPost(this.classroomId,{students:this.listStudentMark})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.getStudentList(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.listStudentMark=[],this.isLoadingSaveMark=!1}))}exportTableScore(){q.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");const e=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0),o=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,o),q.L.closeLoadingEffect(200)}onSearchBox(e){this.searchContentObj=e,this.setPage(1)}setPage(e){this.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/10`,`?page=${e}&subject=${this.schoolSubject.value??40}`),this.pageObj.setPageNumber(e),this.getStudentList()}updateParamSubject(){const e=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString(`${e}`,`?page=${this.pageObj.page}&subject=${this.schoolSubject.value}`),this.sAztBrowserStorageService.saveSimpleStorage(`subjectIdInScoreBoard_${this.classroomId}`,this.schoolSubject.value.toString())}goToProfile(e,o){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+o,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${e}/10`))}callApiMarkExclude(e){this.waitDestroy(this.markService.apiMarksExcludePost({id:e.id?e.id:void 0,classroomId:this.classroomId,objectType:e.objectType,objectId:e.objectId}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.listStudentMark=this.listStudentMark.map(r=>({...r,listMarks:r.listMarks?.filter(l=>l.id!==e.id)||[]})),this.getStudentList()}))}callApiStudentList(e){return this.markService.apiMarksClassroomIdStudentsListPost(this.classroomId,{me:!1,page:this.pageObj.page,size:e,textSearch:this.searchContentObj.searchContent,subjectId:this.schoolSubject.value,studentId:this.studentId})}callApiGetLevelAndSubject(){return this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl())}getStudentList(){this.isLoadingTable=!0,this.waitDestroy(this.callApiStudentList(this.pageObj.pageSize).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message);this.studentList=e.data?.objs??[],this.scoreCoefficientList=this.studentList?.[0]?.marks??[],this.totalStudent=e.data?.total??0,this.pageObj.setTotalPages(this.totalStudent),this.isLoadingTable=!1}))}fetchData(){this.initStatusObj(),(0,bn.p)({studentExport:this.callApiStudentList(1e4),levelSubjectData:this.callApiGetLevelAndSubject()}).subscribe({next:({levelSubjectData:e,studentExport:o})=>{if(!e.success||!o.success)return this.errorStatusObj(e.message||o.message);this.educationLevels=this.classifySchoolLevels(e.data?.schoolLevelSubjectObjs??[]),this.studentExportList=o.data?.objs??[],this.successStatusObj()},error:e=>{this.errorStatusObj("An error occurred during the API calls")}})}classifySchoolLevels(e){const o=this.initEducationLevel(),a=new Set;return e.forEach(r=>{const l=r.schoolLevel;if(!l||!l.value)return;const c=o.find(d=>(l.value??0)>=d.from&&(l.value??0)<=d.to);c&&c.schoolLevels.push(l),r.schoolSubjectObjs.forEach(d=>{if(!a.has(d.id)&&void 0!==d.from&&void 0!==d.to){for(const u of o)(d.from>=u.from&&d.from<=u.to||d.to>=u.from&&d.to<=u.to||d.from<=u.from&&d.to>=u.to)&&u.subjects.push(d);a.add(d.id)}})}),o.forEach(r=>{r.schoolLevels.sort((l,c)=>(l.value||0)-(c.value||0)),r.subjects.sort((l,c)=>l.pos-c.pos)}),o}initEducationLevel(){return[{id:1,name:"lang_azt_primary_school",schoolLevels:[],subjects:[],from:1,to:5},{id:2,name:"lang_azt_secondary_school",schoolLevels:[],subjects:[],from:6,to:9},{id:3,name:"lang_azt_high_school",schoolLevels:[],subjects:[],from:10,to:12}]}ngOnInit(){super.ngOnInit(),this.fetchData();const e=Number(this.sAztBrowserStorageService.getSimpleStorage(`subjectIdInScoreBoard_${this.classroomId}`)??40);this.waitDestroy((0,ct.z)([this.activatedRoute.params,this.activatedRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.schoolSubject.patchValue(Number(this.commonService.getMyQueryParam("subject")??e)),this.getStudentList()}))}constructor(e,o,a,r,l,c,d){super(),this.markService=e,this.exportExcelService=o,this.activatedRoute=a,this.sAztDialogService=r,this.shareFileFlutterService=l,this.sAztBrowserStorageService=c,this.commonListService=d,this.classroomId=0,this.isStudent=!0,this.classroomName="",this.schoolSubject=new m.MJ(40,{nonNullable:!0}),this.pageObj=new Jt.d(50),this.searchContentObj=new Dt.Z,this.studentList=[],this.studentExportList=[],this.scoreCoefficientList=[],this.totalStudent=0,this.listStudentMark=[],this.isLoadingSaveMark=!1,this.isLoadingTable=!1,this.educationLevels=[],this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}'}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.fo),t.rXU(Ue.x),t.rXU(b.nX),t.rXU(Q.i),t.rXU(Se.R),t.rXU(pa.z),t.rXU(xn.Nz))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-scoreboard"]],viewQuery:function(e,o){if(1&e&&t.GBs(db,5),2&e){let a;t.mGM(a=t.lsd())&&(o.table_answer=a.first)}},inputs:{classroomId:"classroomId",isStudent:"isStudent",studentId:"studentId",classroomName:"classroomName",permissionObj:"permissionObj"},standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:20,consts:[["searchInListSchoolSubject","searchInList"],["doneLoading",""],["emptyStudents",""],["table_score",""],[1,"scoreboard"],[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12",4,"ngIf"],[1,"col-span-12"],[1,"flex","flex-col","sm:flex-row","box","p-3"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[1,"flex","items-center"],["for","schoolSubject",1,"mr-1","whitespace-nowrap","flex-none","font-medium"],["appearance","outline",1,"box",2,"width","100%"],["searchInList","",3,"selectionChange","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["disabled","",3,"value"],[3,"label",4,"ngFor","ngForOf"],["class","flex-none flex flex-col sm:flex-row sm:items-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],[1,"text-xl","font-medium"],[1,"sm:ml-auto","mt-3","sm:mt-0","flex","items-center"],[3,"colorBackground"],[1,"btn","btn-primary","flex","btn-download-excel","mr-2",3,"click"],["name","download","size","20",3,"ngClass"],["class","btn btn-primary shadow-md sm:mt-0 btn-min-width",3,"click",4,"ngIf"],[1,"mt-2","block","md:hidden"],[1,"btn","btn-primary","shadow-md","sm:mt-0","btn-min-width",3,"click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex-none","flex","flex-col","sm:flex-row","sm:items-center"],[3,"onSearch","isServerSearch","placeholder"],["class","sm:ml-3 mt-3 sm:mt-0",4,"ngIf"],[1,"sm:ml-3","mt-3","sm:mt-0"],[3,"checkAction","vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey"],["name","plus","size","20",3,"ngClass"],[3,"ngClass"],[3,"currentStatusObj"],[1,"intro-y"],["class","col-span-12 mt-3",4,"ngIf"],["class","skeleton-box-loading w-full mt-3","style","height: 70vh",4,"ngIf"],[1,"col-span-12","mt-3"],["drag-scroll-item","",1,"table","table-bordered","box","overflow-auto","custom-scroll"],[1,"whitespace-nowrap",2,"width","100%"],[1,"whitespace-nowrap","text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-right","whitespace-nowrap"],[4,"ngIf","ngIfElse"],["class","flex items-center flex-col-reverse sm:flex-row",4,"ngIf"],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"text-center"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["class","inline-block ml-1",3,"matTooltip","disabled","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],[1,"inline-block","ml-1",3,"click","matTooltip"],["name","pencil","size","16"],[1,"inline-block","ml-1",3,"click","matTooltip","disabled"],["name","trash-2","size","16",3,"ngClass"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"!py-3.5","cursor-pointer",3,"click"],[3,"name","parentFullName","parentUserName","parentId","avatar","identificationNumber","gender","hasUser","schoolName","phone","email","createdAt"],[1,"text-center","capitalize"],[1,"font-bold","text-right",2,"padding-right","40px"],["class","text-center",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[3,"mark"],[3,"mark",4,"ngIf"],[4,"ngIf"],["type","text",1,"form-control","form-control-sm","text-center",3,"input","matTooltipDisabled","matTooltip","id","value","placeholder"],["colspan","3"],[1,"flex","items-center","justify-center","text-slate-500","font-medium",2,"min-height","100px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row"],[1,"mr-0","sm:mr-auto","mt-3"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"text-right","font-medium","mt-3","azt-hidden","md:block"],[1,"ml-auto","font-medium","text-right","mt-3","block","md:hidden"],[3,"goToPaginationPage","pageObj"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"skeleton-box-loading","w-full","mt-3",2,"height","70vh"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",4)(1,"div",5),t.DNE(2,hb,18,18,"div",6),t.j41(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"label",11),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"mat-form-field",12)(11,"mat-select",13,0),t.bIt("selectionChange",function(){return t.eBV(a),t.Njj(o.updateParamSubject())}),t.j41(13,"mat-option"),t.nrm(14,"ngx-mat-select-search",14),t.nI1(15,"mytranslate"),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"mat-option",15),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.DNE(20,bb,3,4,"mat-optgroup",16),t.k0s()()()(),t.DNE(21,kb,5,10,"div",17),t.k0s()()(),t.DNE(22,xb,1,1,"azt-loading-effect",18)(23,Vb,3,2,"ng-template",null,1,t.C5r),t.k0s()}if(2&e){const a=t.sdS(12),r=t.sdS(24);t.R7$(2),t.Y8G("ngIf",!o.studentId),t.R7$(6),t.SpI(" ",t.bMT(9,12,"lang_auto_mon_hoc")," "),t.R7$(3),t.Y8G("formControl",o.schoolSubject),t.R7$(3),t.FS9("placeholderLabel",t.bMT(15,14,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(16,16,"lang_search_not_found")),t.Y8G("formControl",a.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(19,18,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",o.educationLevels),t.R7$(),t.Y8G("ngIf",!o.studentId),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",r)}},dependencies:[F,X,W,we.An,we.U9,zi.x,Hn.$,$.R,It.W,Ki.F,Y.K,kt.B,fn.D,ee.q,_.MD,_.YU,_.Sq,_.bT,m.X1,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,at.wT,at.D7,mt.rl,ge.VO,B.oV,h.flO,h.WGl,y.L,f.FV,f.Po,f.vv,x.Id,I.k],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%;-webkit-user-select:none;user-select:none}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background:#fff}  .dark td,   .dark th{background:#28334e}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1;filter:drop-shadow(2px 0px 1px rgba(238,238,238,.9333333333));box-shadow:2px 0 1px #eee}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1;filter:drop-shadow(1px 2px 4px #eee);box-shadow:2px 0 1px #eee}thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child{position:static!important}}"]}),s})();const At=n=>({"text-white bg-primary":n}),Nt=n=>[n],Lt=()=>({"mr-2 flex-none":!0}),Xb=n=>({"font-medium text-white bg-primary":n}),Ub=n=>({"ml-5":n});function Hb(n,s){if(1&n&&(t.j41(0,"a",25),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",26),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(8,At,10===i.tabActive))("routerLink",t.eq3(10,Nt,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/10"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Lt)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_grade_sheet"))}}function Jb(n,s){if(1&n&&(t.j41(0,"a",36),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",37),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,At,3===i.tabActive))("routerLink",t.eq3(10,Nt,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/3"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Lt)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_educational_program"))}}function Wb(n,s){if(1&n&&(t.j41(0,"a",38),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",7),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,At,4===i.tabActive))("routerLink",t.eq3(10,Nt,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/4"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Lt)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_grade_sheet"))}}function qb(n,s){if(1&n&&(t.j41(0,"a",39),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",40),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,At,6===i.tabActive))("routerLink",t.eq3(10,Nt,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/6"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Lt)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_assessment_board"))}}function Qb(n,s){if(1&n&&(t.j41(0,"a",41),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",42),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,At,7===i.tabActive))("routerLink",t.eq3(10,Nt,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/7"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Lt)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_attendance_board"))}}function Zb(n,s){if(1&n&&(t.j41(0,"a",43),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",44),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,At,8===i.tabActive))("routerLink",t.eq3(10,Nt,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/8"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Lt)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_tuition_fee_board"))}}function Kb(n,s){if(1&n&&(t.j41(0,"a",45),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",46),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,At,5===i.tabActive))("routerLink",t.eq3(10,Nt,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/5"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Lt)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_leaderboard"))}}function t2(n,s){if(1&n&&(t.j41(0,"div",27)(1,"div",28),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",27),t.DNE(5,Jb,6,13,"a",29),t.nI1(6,"allowFeatureBusinessForUser"),t.nI1(7,"async"),t.DNE(8,Wb,6,13,"a",30),t.nI1(9,"allowFeatureBusinessForUser"),t.nI1(10,"async"),t.DNE(11,qb,6,13,"a",31),t.nI1(12,"allowFeatureBusinessForUser"),t.nI1(13,"async"),t.DNE(14,Qb,6,13,"a",32),t.nI1(15,"allowFeatureBusinessForUser"),t.nI1(16,"async"),t.DNE(17,Zb,6,13,"a",33),t.nI1(18,"allowFeatureBusinessForUser"),t.nI1(19,"async"),t.DNE(20,Kb,6,13,"a",34),t.nI1(21,"allowFeatureBusinessForUser"),t.nI1(22,"async"),t.j41(23,"a",25),t.nI1(24,"navigationLocalize"),t.nrm(25,"lucide-icon",35),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()),2&n){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,10,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(7,15,t.i5U(6,12,"training_center_curriculum_in_classroom",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(10,20,t.i5U(9,17,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(13,25,t.i5U(12,22,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(16,30,t.i5U(15,27,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(19,35,t.i5U(18,32,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(22,40,t.i5U(21,37,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngClass",t.eq3(46,At,9===i.tabActive))("routerLink",t.eq3(48,Nt,t.bMT(24,42,"/admin/student/classroom-details/"+i.classroomId+"/9"))),t.R7$(4),t.JRh(t.bMT(28,44,"lang_super_role_send_notice_approved_question_share"))}}function e2(n,s){1&n&&(t.j41(0,"div",47),t.nrm(1,"app-student-list"),t.k0s())}function n2(n,s){1&n&&(t.j41(0,"div",48),t.nrm(1,"app-exam-exercises",49),t.k0s()),2&n&&(t.R7$(),t.Y8G("isStudent",!1))}function i2(n,s){if(1&n&&(t.j41(0,"div",50),t.nrm(1,"app-news-board",51),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("classroomId",i.classroomId)("isStudent",!1)}}function o2(n,s){1&n&&(t.j41(0,"div",52),t.nrm(1,"app-educational-program",49),t.k0s()),2&n&&(t.R7$(),t.Y8G("isStudent",!1))}function s2(n,s){1&n&&(t.j41(0,"div",53),t.nrm(1,"app-grand-board",49),t.k0s()),2&n&&(t.R7$(),t.Y8G("isStudent",!1))}function a2(n,s){1&n&&(t.j41(0,"div",54)(1,"div",55),t.nrm(2,"app-leader-board",49),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("isStudent",!1))}function r2(n,s){1&n&&(t.j41(0,"div",56)(1,"div",57),t.nrm(2,"app-assessment-board",49),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("isStudent",!1))}function l2(n,s){1&n&&(t.j41(0,"div",58)(1,"div",57),t.nrm(2,"app-attendance-board",49),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("isStudent",!1))}function c2(n,s){1&n&&(t.j41(0,"div",59)(1,"div",57),t.nrm(2,"app-tuition-fee-board",49),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("isStudent",!1))}function m2(n,s){if(1&n&&(t.j41(0,"div",60),t.nrm(1,"app-send-notification",61),t.k0s()),2&n){const i=t.XpG();t.Y8G("ngClass",t.eq3(3,Ub,!i.isMobileWebView&&!i.isMobileDevice)),t.R7$(),t.Y8G("classroomName",i.classroomName)("classroomId",i.classroomId)}}function d2(n,s){if(1&n&&(t.j41(0,"div",62),t.nrm(1,"app-scoreboard",63),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("classroomId",i.classroomId)("classroomName",i.classroomName)("isStudent",!1)("permissionObj",i.permissionObj)}}let _2=(()=>{var n;class s extends O.H{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(e=>{e&&e.success&&(this.classroomName=e.data?.obj?.name??"",this.permissionObj=e.data?.obj?.permissionObj??{},this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let e=this.commonService.getMyQueryParam("backto");this.backToLink=e&&""!=e?e:"/admin/student/manage-classroom/0"}constructor(e,o){super(),this.activeRoute=e,this.classroomService=o,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX),t.rXU(oo.zS))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-teacher-classroom-details"]],standalone:!0,features:[t.Vt3,t.aNF],decls:42,vars:64,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","user","size","16",3,"ngClass"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper","size","16",3,"ngClass"],["class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3","h-full"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],["class","table-honored h-full",3,"ngClass",4,"ngIf"],["class","scoreboard",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","sheet","size","16",3,"ngClass"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["name","bell-plus","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library","size","16",3,"ngClass"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16",3,"ngClass"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal","size","16",3,"ngClass"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"],[1,"table-honored","h-full",3,"ngClass"],[3,"classroomName","classroomId"],[1,"scoreboard"],[3,"classroomId","classroomName","isStudent","permissionObj"]],template:function(e,o){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"a",6),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",7),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"a",8),t.nI1(18,"navigationLocalize"),t.nrm(19,"lucide-icon",9),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.DNE(23,Hb,6,13,"a",10),t.k0s(),t.DNE(24,t2,29,50,"div",11),t.nI1(25,"allowFeatureBusinessForUser"),t.nI1(26,"async"),t.nI1(27,"allowFeatureBusinessForUser"),t.nI1(28,"async"),t.k0s()(),t.j41(29,"div",12)(30,"div",13),t.DNE(31,e2,2,0,"div",14)(32,n2,2,1,"div",15)(33,i2,2,2,"div",16)(34,o2,2,1,"div",17)(35,s2,2,1,"div",18)(36,a2,3,1,"div",19)(37,r2,3,1,"div",20)(38,l2,3,1,"div",21)(39,c2,3,1,"div",22)(40,m2,2,5,"div",23)(41,d2,2,4,"div",24),t.k0s()()()()),2&e&&(t.Y8G("headerBackToLink",o.backToLink)("headerTitle",o.classroomName),t.R7$(5),t.Y8G("ngClass",t.eq3(49,At,0===o.tabActive))("routerLink",t.eq3(51,Nt,t.bMT(6,27,"/admin/student/classroom-details/"+o.classroomId+"/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(53,Lt)),t.R7$(2),t.JRh(t.bMT(10,29,"lang_cms_classroom_student_list_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(54,At,1===o.tabActive))("routerLink",t.eq3(56,Nt,t.bMT(12,31,"/admin/student/classroom-details/"+o.classroomId+"/1"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(58,Lt)),t.R7$(2),t.JRh(t.bMT(16,33,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngClass",t.eq3(59,Xb,2===o.tabActive))("routerLink",t.eq3(61,Nt,t.bMT(18,35,"/admin/student/classroom-details/"+o.classroomId+"/2"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(63,Lt)),t.R7$(2),t.JRh(t.bMT(22,37,"lang_student_news_board")),t.R7$(2),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(),t.Y8G("ngIf",t.bMT(26,42,t.i5U(25,39,"training_center_curriculum_in_classroom",!1))||t.bMT(28,47,t.i5U(27,44,"training_center_student_mark",!1))),t.R7$(7),t.Y8G("ngIf",0===o.tabActive),t.R7$(),t.Y8G("ngIf",1===o.tabActive),t.R7$(),t.Y8G("ngIf",2===o.tabActive),t.R7$(),t.Y8G("ngIf",3===o.tabActive),t.R7$(),t.Y8G("ngIf",4===o.tabActive),t.R7$(),t.Y8G("ngIf",5===o.tabActive),t.R7$(),t.Y8G("ngIf",6===o.tabActive),t.R7$(),t.Y8G("ngIf",7===o.tabActive),t.R7$(),t.Y8G("ngIf",8===o.tabActive),t.R7$(),t.Y8G("ngIf",9===o.tabActive),t.R7$(),t.Y8G("ngIf",10===o.tabActive))},dependencies:[St.Q,Pl,jc,zm,O1,ch,yh,nf,xf,qf,ob,ha,f.F2,_.MD,_.YU,_.bT,_.Jj,m.X1,b.iI,b.Wk,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,f.bj,x.Id,I.k],encapsulation:2}),s})();function u2(n,s){1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function p2(n,s){1&n&&t.nrm(0,"azt-loading-ui",18)}function g2(n,s){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function h2(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",20),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function f2(n,s){1&n&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function b2(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,f2,2,0,"span",35),t.EFF(3),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.lastMonthPaid," "),t.R7$(),t.Y8G("ngIf",i.lastMonthPaid),t.R7$(),t.SpI(" ",i.lastYearPaid," ")}}function v2(n,s){1&n&&(t.j41(0,"span",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function k2(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",30),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(o.classroomId,o.id))}),t.nrm(2,"azt-student-info-box",31),t.k0s(),t.j41(3,"td",32),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",33)(7,"div",34),t.DNE(8,b2,4,3,"span",35)(9,v2,3,3,"span",36),t.j41(10,"button",37),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.openDialogCheckboxMonth(o))}),t.nrm(13,"lucide-icon",38),t.k0s()()(),t.j41(14,"td",39)(15,"div",40),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"td",39)(20,"div",40),t.EFF(21),t.nI1(22,"mytranslate"),t.nI1(23,"mytranslate"),t.k0s()(),t.j41(24,"td",33)(25,"div",41)(26,"input",42),t.bIt("change",function(o){const a=t.eBV(i).$implicit,r=t.XpG(3);return t.Njj(r.setAttendance("receivedDocument",a.id,o))}),t.k0s()()(),t.j41(27,"td",33)(28,"div",41)(29,"input",43),t.bIt("change",function(o){const a=t.eBV(i).$implicit,r=t.XpG(3);return t.Njj(r.setAttendance("absent",a.id,o))}),t.k0s()()(),t.j41(30,"td",33)(31,"textarea",44),t.nI1(32,"mytranslate"),t.bIt("input",function(o){const a=t.eBV(i).$implicit,r=t.XpG(3);return t.Njj(r.setReasonAttendance(a.id,o))}),t.k0s()()()}if(2&n){let i,e;const o=s.$implicit,a=t.XpG(3);t.R7$(2),t.Y8G("name",o.fullName)("avatar",o.avatar)("gender",o.gender)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("hasUser",o.hasUser)("schoolName",o.schoolName)("classrooms",o.classrooms)("joinedAt",o.joinedAt)("phone",o.phone)("identificationNumber",o.identificationNumber),t.R7$(2),t.JRh(o.identificationNumber?t.i5U(5,30,o.identificationNumber,a.myEnvironment.maxStudentCodeLength):""),t.R7$(4),t.Y8G("ngIf",o.lastMonthPaid||o.lastYearPaid),t.R7$(),t.Y8G("ngIf",!o.lastMonthPaid||!o.lastYearPaid),t.R7$(),t.FCK("matTooltip","",t.bMT(11,33,"lang_cms_auto_gen_test_select")," ",t.bMT(12,35,"lang_auto_month"),""),t.R7$(4),t.Y8G("ngClass",o.totalRemainHomework>0||o.noHomework?"darkgray":o.finishHomework?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(18,39,o.totalRemainHomework>0?t.bMT(17,37,"lang_auto_chua_hoan_thanh")+" ("+o.totalRemainHomework.toString()+")":o.noHomework?"lang_auto_hoan_thanh":o.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(3),t.Y8G("ngClass",o.totalRemainExam>0||o.noExam?"darkgray":o.finishExam?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(23,43,o.totalRemainExam>0?t.bMT(22,41,"lang_auto_chua_hoan_thanh")+" ("+o.totalRemainExam.toString()+")":o.noExam?"lang_auto_hoan_thanh":o.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(5),t.Y8G("id","received_document_"+o.id)("checked",null!==(i=null==o.attendance?null:o.attendance.receivedDocument)&&void 0!==i?i:0),t.R7$(3),t.Y8G("id","absent_"+o.id)("checked",null!==(e=null==o.attendance?null:o.attendance.absent)&&void 0!==e?e:0),t.R7$(2),t.FS9("placeholder",t.bMT(32,45,"lang_business_reason_for_leave")),t.Y8G("id","attendance_reason_"+o.id)("disabled",!(null!=o.attendance&&o.attendance.absent))("value",null==o.attendance?null:o.attendance.reason)}}function x2(n,s){if(1&n&&(t.j41(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th",24),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",25),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",26),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",27),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",28),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",26)(21,"div"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",26),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",26),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,k2,33,47,"tr",29),t.k0s()()()),2&n){const i=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,11,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,13,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(12,15,"lang_test_market_withdraw_time")," ",t.bMT(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(16,19,"lang_student_frontend_dashboard_homework")),t.R7$(3),t.JRh(t.bMT(19,21,"lang_auto_only_de_thi")),t.R7$(4),t.SpI(" ",t.bMT(23,23,"lang_core_da_phat")," "),t.R7$(2),t.SpI(" ",t.bMT(25,25,"lang_auto_tai_lieu")," "),t.R7$(3),t.SpI(" ",t.bMT(28,27,"lang_business_vang_mat")," "),t.R7$(3),t.JRh(t.bMT(31,29,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngForOf",i.listStudent)}}function C2(n,s){if(1&n&&t.DNE(0,x2,34,31,"div",21),2&n){const i=t.XpG();t.Y8G("ngIf",i.listStudent.length>0)}}function T2(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",49),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.setPageStudent(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("pageObj",i.pageObj)}}function S2(n,s){if(1&n&&(t.j41(0,"div",46),t.nrm(1,"div"),t.DNE(2,T2,1,1,"azt-paging",47),t.j41(3,"div",48),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(2),t.Lme("",i.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}let I2=(()=>{var n;class s extends O.H{openDialogCheckboxMonth(e){this.sAztDialogService.open(qi,{width:"454px",restoreFocus:!1,data:e.id}).afterClosed().subscribe(o=>{o&&this.getListStudent()})}goToProfile(e,o){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+o,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(e){var o="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,a="?page="+e+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(o,a),this.initStatusObj(),this.pageObj.setPageNumber(e),this.getListStudent()}onSearchBox(e){this.searchContentObj=e,this.setPageStudent(1)}setAttendance(e,o,a){var r=a.target,l=r.checked?1:0,c=this.listStudent.find(u=>u.id==o);if(c){var d=this.listAttendanceNew.find(g=>g.id==o);let u=document.getElementById("attendance_reason_"+o);"absent"==e?(c.attendance.absent=l,r.checked?c.attendance.receivedDocument=0:(c.attendance.reason="",u.value="")):(c.attendance.receivedDocument=l,r.checked&&(c.attendance.absent=0,c.attendance.reason="",u.value="")),d?(d.absent=c.attendance?.absent,d.receivedDocument=c.attendance?.receivedDocument,d.reason=u.value):this.listAttendanceNew.push({id:o,absent:c.attendance?.absent,receivedDocument:c.attendance?.receivedDocument,reason:u.value})}}setReasonAttendance(e,o){var a=o.target,r=this.listStudent.find(c=>c.id==e);if(r){var l=this.listAttendanceNew.find(c=>c.id==e);l?l.reason=a.value:this.listAttendanceNew.push({id:e,absent:r.attendance?.absent,receivedDocument:r.attendance?.receivedDocument,reason:a.value})}}saveAttendance(){this.isSave=!0;let e={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(e).subscribe(o=>{o.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(o=>{o?(o.list.forEach(a=>{a.attendance||(a.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:a.id,absent:0,permission:0,reason:""})},o.list),this.listStudent=o.list,this.totalStudent=o.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let e=this.commonService.getMyQueryParam("backto");this.backToLink=e||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(e,o,a){super(),this.activeRoute=e,this.studentService=o,this.sAztDialogService=a,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new Dt.Z,this.pageObj=new Jt.d(20)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX),t.rXU(re.b),t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-attendance-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:20,consts:[["doneLoading",""],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","searchContentObj","placeholder"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-1"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"click","matTooltip"],["name","calendar-search","size","16"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"change","id","checked"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"change","id","checked"],["type","text",1,"form-control",2,"min-width","80px",3,"input","id","disabled","placeholder","value"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"goToPaginationPage","pageObj"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"teacher-layout",1)(1,"div",2)(2,"div",3)(3,"h3",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,u2,3,3,"div",5),t.k0s(),t.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"azt-search-box",9),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(l){return t.eBV(a),t.Njj(o.onSearchBox(l.searchObj))}),t.k0s()(),t.j41(12,"flexed-on-the-top",10)(13,"button",11),t.bIt("click",function(){return t.eBV(a),t.Njj(o.saveAttendance())}),t.DNE(14,p2,1,0,"azt-loading-ui",12),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",13),t.DNE(18,g2,3,3,"div",14)(19,h2,1,1,"azt-loading-effect",15)(20,C2,1,1,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(22,S2,6,5,"div",16),t.k0s()}if(2&e){const a=t.sdS(21);t.Y8G("headerBackToLink",o.backToLink),t.R7$(4),t.JRh(t.bMT(5,14,"lang_student_attendance_student")),t.R7$(2),t.Y8G("ngIf",o.isMobileDevice&&o.listStudent.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("searchContentObj",o.searchContentObj)("placeholder",t.bMT(11,16,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",o.isSave),t.R7$(),t.Y8G("ngIf",o.isSave),t.R7$(),t.SpI(" ",t.bMT(16,18,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",0==o.listStudent.length&&0==o.totalStudent),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a),t.R7$(3),t.Y8G("ngIf",o.totalStudent>0)}},dependencies:[St.Q,It.W,Hn.$,$.R,Y.K,kt.B,ee.q,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f.Po,x.Id,I.k],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),s})();var y2=p(93422);const Jn=()=>[],j2=n=>({width:n});function O2(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",11),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function w2(n,s){1&n&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}function F2(n,s){if(1&n&&(t.j41(0,"div",26)(1,"div",27)(2,"div",28,1),t.nrm(4,"img",29),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",30)(7,"div",31),t.EFF(8),t.k0s(),t.j41(9,"div",32),t.EFF(10),t.k0s()()()()),2&n){const i=s.$implicit,e=t.sdS(3);t.R7$(4),t.FS9("src",""!=i.iconLink&&i.iconLink?i.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.B4B),t.FS9("alt",t.bMT(5,6,"lang_core_anh_sach")),t.R7$(2),t.Y8G("ngStyle",t.eq3(8,j2,"calc(100% -  "+(e.offsetWidth+12)+"px)")),t.R7$(),t.FS9("matTooltip",i.name),t.R7$(),t.JRh(i.name),t.R7$(2),t.JRh(i.description)}}function R2(n,s){1&n&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function E2(n,s){1&n&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function M2(n,s){if(1&n&&(t.j41(0,"th",41)(1,"div",42),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(),t.FS9("matTooltip",i.name),t.R7$(),t.SpI(" ",i.name," ")}}function N2(n,s){if(1&n){const i=t.RV6();t.j41(0,"td",47)(1,"div",48)(2,"input",49),t.bIt("change",function(o){t.eBV(i);const a=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.setStatusBook(a,o))}),t.k0s()()()}if(2&n){let i;const e=s.$implicit,o=t.XpG().$implicit,a=t.XpG(3);t.R7$(2),t.Mz_("id","input-book-",e.id,""),t.Y8G("value",e.id)("checked",a.checkStatusDistribute(e,null!==(i=o.books)&&void 0!==i?i:t.lJ4(4,Jn)))}}function G2(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",43),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(o.classroomId,o.id))}),t.nrm(2,"azt-student-info-box",44),t.k0s(),t.j41(3,"td",45),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,N2,3,5,"td",46),t.k0s()}if(2&n){let i;const e=s.$implicit,o=t.XpG(3);t.R7$(2),t.Y8G("name",e.fullName)("parentFullName",e.parentFullName)("parentId",e.parentId)("parentPhone",e.parentPhone)("avatar",e.avatar)("gender",e.gender)("hasUser",e.hasUser)("schoolName",e.schoolName)("classrooms",e.classrooms)("joinedAt",e.joinedAt)("phone",e.phone)("identificationNumber",e.identificationNumber),t.R7$(2),t.JRh(e.identificationNumber?t.i5U(5,14,e.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==o.listBook?null:o.listBook.list)&&void 0!==i?i:t.lJ4(17,Jn))}}function D2(n,s){if(1&n&&(t.j41(0,"div",35)(1,"drag-scroll")(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",38),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,M2,3,2,"th",39),t.k0s()(),t.j41(12,"tbody"),t.DNE(13,G2,7,18,"tr",40),t.k0s()()()()),2&n){let i;const e=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==e.listBook?null:e.listBook.list)&&void 0!==i?i:t.lJ4(8,Jn)),t.R7$(2),t.Y8G("ngForOf",e.listStudent)}}function $2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",51),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.search(o.searchContentObj))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function z2(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",18),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.setPageStudent(o))}),t.k0s()}if(2&n){const i=t.XpG(3);t.Y8G("pageObj",i.pageStudentObj)}}function P2(n,s){if(1&n&&(t.j41(0,"div",52),t.nrm(1,"div"),t.DNE(2,z2,1,1,"azt-paging",53),t.j41(3,"div",54),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageStudentObj.pageSize),t.R7$(2),t.Lme("",i.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}function A2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",12)(1,"div",13),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,w2,3,3,"div",14),t.j41(5,"div",15),t.DNE(6,F2,11,10,"div",16),t.k0s(),t.j41(7,"div",17)(8,"azt-paging",18),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.setPageBook(o))}),t.k0s()()(),t.DNE(9,R2,3,3,"div",19),t.j41(10,"div",20),t.DNE(11,E2,3,3,"div",21)(12,D2,14,9,"div",22)(13,$2,6,6,"div",23),t.k0s(),t.DNE(14,P2,6,5,"div",24)}if(2&n){let i;const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,9,"lang_core_thong_tin_sach")),t.R7$(2),t.Y8G("ngIf",!(null!=e.listBook&&e.listBook.list&&0!=(null==e.listBook?null:e.listBook.total)||""!=e.searchContentObj.searchContent)),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==e.listBook?null:e.listBook.list)&&void 0!==i?i:t.lJ4(11,Jn)),t.R7$(2),t.Y8G("pageObj",e.pageBookObj),t.R7$(),t.Y8G("ngIf",e.isMobileDevice&&e.listStudent.length>0),t.R7$(2),t.Y8G("ngIf",0==e.listStudent.length&&""==e.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",e.listStudent.length>0),t.R7$(),t.Y8G("ngIf",0==e.listStudent.length&&""!=e.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",e.totalStudent>0)}}let L2=(()=>{var n;class s extends O.H{setPageStudent(e){var o="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,a="?page="+e+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(o,a),this.initStatusObj(),this.pageStudentObj.setPageNumber(e),this.getListStudent()}goToProfile(e,o){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+o,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(e){this.searchContentObj=e,this.setPageStudent(1)}setPageBook(e){this.pageBookObj.setPageNumber(e),this.getBooks()}checkStatusDistribute(e,o){for(let a=0;a<o.length;a++)if(o[a].bookId==e.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(o=>{o?(this.listBook=o,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(e,o){var a=o.target;if(a.checked){var r={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:e.id,bookId:Number(a.value),activate:a.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(r).subscribe(c=>{c.success||(document.getElementById("input-book-"+a.value).checked=!a.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var l={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:e.id,bookId:Number(a.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(l).subscribe(c=>{c.success||(document.getElementById("input-book-"+a.value).checked=!a.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(o=>{o?(this.listStudent=o.list,this.totalStudent=o.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let e=this.commonService.getMyQueryParam("backto");this.backLink=e||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(e,o,a){super(),this.bookService=e,this.studentService=o,this.activeRoute=a,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new Dt.Z,this.pageBookObj=new Jt.d(20),this.pageStudentObj=new Jt.d(20)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(y2.l),t.rXU(re.b),t.rXU(b.nX))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-distribute-documents"]],standalone:!0,features:[t.Vt3,t.aNF],decls:14,vars:11,consts:[["doneLoading",""],["imageBook",""],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"goToPaginationPage","pageObj"],["class","mt-5",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-5"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"change","id","value","checked"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"azt-search-box",9),t.nI1(10,"mytranslate"),t.bIt("onSearch",function(l){return t.eBV(a),t.Njj(o.search(l.searchObj))}),t.k0s()()()()(),t.DNE(11,O2,1,1,"azt-loading-effect",10)(12,A2,15,12,"ng-template",null,0,t.C5r),t.k0s()}if(2&e){const a=t.sdS(13);t.Y8G("headerBackToLink",o.backLink),t.R7$(4),t.JRh(t.bMT(5,7,"lang_student_distribute_books")),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",o.searchContentObj),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[F,X,W,St.Q,It.W,Y.K,ee.q,kt.B,_.MD,_.Sq,_.bT,_.B3,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,y.L,f.Po,x.Id,I.k],styles:[".add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}"]}),s})(),Y2=(()=>{var n;class s extends O.H{ngOnInit(){(0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let e=this.commonService.getMyQueryParam("studentId"),o=this.commonService.getMyQueryParam("backTo");this.backToLink=e?"/admin/student/classroom-details/"+this.classroomId+"/4":o||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(e){super(),this.activeRoute=e,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-enter-score"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(e,o){1&e&&(t.j41(0,"teacher-layout",0),t.nrm(1,"app-table-score",1),t.k0s()),2&e&&(t.Y8G("headerBackToLink",o.backToLink),t.R7$(),t.Y8G("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",o.classroomId)("programId",o.programId)("sessionId",o.sessionId))},dependencies:[St.Q,ca,_.MD,m.X1,b.iI,m.YN,S.s,h.flO,y.L,x.Id,I.k],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),s})();var B2=p(11891),V2=p(38009),X2=p(80037),U2=p(27985),ne=p(49842),H2=p(3780);function J2(n,s){1&n&&(t.j41(0,"div",12)(1,"span",13),t.nrm(2,"azt-loading-ui"),t.k0s()())}function W2(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.JRh(" ("+i.dataUpgradeClass.length+" "+t.bMT(2,1,"lang_testbank_test_list_classes")+")")}}function q2(n,s){1&n&&(t.j41(0,"div",26),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function Q2(n,s){if(1&n){const i=t.RV6();t.j41(0,"input",36),t.nI1(1,"mytranslate"),t.bIt("keyup",function(){t.eBV(i);const o=t.XpG().index,a=t.XpG(2);return t.Njj(a.validateInput(o))}),t.k0s()}if(2&n){const i=t.XpG(),e=i.$implicit;t.Mz_("id","input-event-",i.index,""),t.FS9("value",e.nameClass),t.FS9("placeholder",t.bMT(1,4,"lang_auto_nhap_ten_lop"))}}function Z2(n,s){if(1&n){const i=t.RV6();t.j41(0,"textarea",37),t.nI1(1,"mytranslate"),t.bIt("keyup",function(){t.eBV(i);const o=t.XpG().index,a=t.XpG(2);return t.Njj(a.validateInput(o))}),t.k0s()}if(2&n){const i=t.XpG(),e=i.$implicit;t.Mz_("id","input-event-",i.index,""),t.FS9("value",e.nameClass),t.FS9("placeholder",t.bMT(1,4,"lang_auto_nhap_ten_lop"))}}function K2(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",27)(1,"div",28)(2,"div",29),t.DNE(3,Q2,2,6,"input",30)(4,Z2,2,6,"textarea",31),t.k0s(),t.j41(5,"div",32)(6,"button",33),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.clearInput(o.id))}),t.nrm(7,"lucide-icon",34),t.k0s()()(),t.j41(8,"div",35,1),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()}if(2&n){const i=s.index,e=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0==e.isMobile),t.R7$(),t.Y8G("ngIf",1==e.isMobile),t.R7$(4),t.Mz_("id","logerror",i,""),t.R7$(2),t.SpI(" ",t.bMT(11,5,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function t0(n,s){if(1&n){const i=t.RV6();t.j41(0,"form",14)(1,"div",15)(2,"div",16)(3,"azt-list-classroom-checkbox",17),t.bIt("changeCheckboxEvent",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeCheckboxEvent())})("createdNewClassroom",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.isCreatedNewClassroom=!0)}),t.k0s()(),t.j41(4,"div",18)(5,"div",19),t.EFF(6),t.nI1(7,"mytranslate"),t.DNE(8,W2,3,3,"span",20),t.k0s(),t.j41(9,"div",21)(10,"ng-scrollbar",22),t.DNE(11,q2,3,3,"div",23),t.j41(12,"div",24),t.DNE(13,K2,12,7,"div",25),t.k0s()()()()()()}if(2&n){const i=t.XpG();t.Y8G("formGroup",i.form),t.R7$(3),t.Y8G("form",i.form)("classroomGroupData",i.classroomWithGroup)("permissionName",i.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),t.R7$(3),t.SpI(" ",t.bMT(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),t.R7$(2),t.Y8G("ngIf",i.dataUpgradeClass.length),t.R7$(2),t.Y8G("visibility","hover")("autoHeightDisabled",!0),t.R7$(),t.Y8G("ngIf",0==i.dataUpgradeClass.length),t.R7$(2),t.Y8G("ngForOf",i.dataUpgradeClass)}}function e0(n,s){1&n&&t.nrm(0,"azt-loading-ui",38)}let n0=(()=>{var n;class s extends ot._{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(e){let o=document.getElementById("input-event-"+e),a=o?o.value:"";if(""==a){let r=document.getElementById("logerror"+e);r&&(r.style.display="block")}if(""!=a){let r=document.getElementById("logerror"+e);r&&(r.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let e=!0;this.sendDataUpgradeClass=[];for(let o=0;o<this.dataUpgradeClass.length;o++){let a=document.getElementById("input-event-"+o),r=a?a.value:"";""==r&&(e=!1),this.validateInput(o),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[o].id,newName:r,year:this.increaseYear(this.dataUpgradeClass[o].year)})}1==e&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(e){if(null!=e||null!=e){let o=e.split(" ")[0],a=parseInt(o,10)+1;return a+" - "+(a+1)}}changeCheckboxEvent(){const e=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),o=e.concat(this.dataUpgradeClass.map(r=>r.id??0));let a=o.filter(r=>o.indexOf(r)===o.lastIndexOf(r));e.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(r=>a.includes(r.id??0)).map(r=>{let u,l=r.name,c=r.year,d=l?.match(/\d+/g);if(null==d)u=l;else{let g=parseInt(d[0].toString(),10)+1;u=l?.replace(d[0],g.toString())}return{id:r.id,nameClass:u,year:c}})):a.forEach(r=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(l=>l.id===r),1)})}clearInput(e){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+e)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var e=[],o=0;o<this.sendDataUpgradeClass.length;o++)e.push({oldId:this.sendDataUpgradeClass[o].oldId??0,newName:this.sendDataUpgradeClass[o].newName??"",year:this.sendDataUpgradeClass[o].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(e).subscribe(a=>{1==a.success?(a.data?.isDuplicatedClassroomName?this.errorStatusObj(a.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj(a.message??"lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(e=>{e.success?(this.classroomWithGroup=e.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(o=>o.classroomObjs)),this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(e,o,a,r){super(void 0,r),this.classroomGroupService=e,this.sAztClassroomCheckboxService=o,this.location=a,this.dialogRef=r,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=V2.t,this.classroomWithGroup=[],this.form=new m.gE({classroomFormArray:new m.Yp([]),whoAllow:new m.MJ(0,{nonNullable:!0})},{validators:[X2.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.kG),t.rXU(H2.Q),t.rXU(_.aZ),t.rXU(M.CP,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-create-class-new-course"]],standalone:!0,features:[t.Vt3,t.aNF],decls:20,vars:16,consts:[["doneLoading",""],["ab",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"changeCheckboxEvent","createdNewClassroom","form","classroomGroupData","permissionName","defaultCssClass"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","110px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["name","x","size","20"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["type","text",1,"form-control",3,"keyup","id","value","placeholder"],["rows","2","wrap","soft","type","text",1,"form-control",3,"keyup","id","value","placeholder"],[1,"mr-1"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",6),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,J2,3,0,"div",7)(10,t0,14,13,"ng-template",null,0,t.C5r),t.k0s(),t.j41(12,"div",8)(13,"button",9),t.bIt("click",function(){return t.eBV(a),t.Njj(o.closeDialog())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",10),t.bIt("click",function(){return t.eBV(a),t.Njj(o.handleUpgrade())}),t.DNE(17,e0,1,0,"azt-loading-ui",11),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()}if(2&e){const a=t.sdS(11);t.R7$(4),t.SpI(" ",t.bMT(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.JRh(t.bMT(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a),t.R7$(5),t.SpI(" ",t.bMT(15,12,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",o.form.invalid),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,14,"lang_button_save")," ")}},dependencies:[$.R,U2.D,_.MD,_.Sq,_.bT,m.X1,m.qT,m.cb,m.j4,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,x.Id,x.Yh,I.k],encapsulation:2}),s})();var fa=p(19),o0=p(7814);let ba=(()=>{var n;class s extends o0.W{reloadClassrooms(e){this.typeFilter=e??"all",this.getClassroomObjs()}eventOfClassroomMenu(e){e&&this.getClassroomObjs()}updateGroupSuccessEvent(e){e&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(e=>{e.success?(this.classroomGroupData=(this.isShowActiveClassroom?e?.data?.activeClassroomData:e?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(e?.data?.storageClassroomData?.map(o=>o.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(o=>o.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.WQX)(ne.kG),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-base-show-classrooms"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(e,o){},dependencies:[_.MD,m.X1,b.iI,m.YN,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();function s0(n,s){1&n&&t.nrm(0,"azt-loading-ui",10)}let a0=(()=>{var n;class s extends ot._{closeDialog(e){this.dialogRef.close(e)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(e=>{1==e.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(e.message??"",!0),this.dialogRef.close())}))}constructor(e,o,a){super(a,o),this.classroomGroupService=e,this.dialogRef=o,this.data=a,this.currentGroupOfClassroomDataThatIsEdited=a.groupObj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.kG),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-delete-group"]],standalone:!0,features:[t.Vt3,t.aNF],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s()()()()(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return o.closeDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return o.deleteGroupOfClassroom()}),t.DNE(14,s0,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.R7$(3),t.JRh(null==o.currentGroupOfClassroomDataThatIsEdited?null:o.currentGroupOfClassroomDataThatIsEdited.name),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==o.statusObj.loading),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(16,10,"lang_button_delete")," "))},dependencies:[$.R,_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();const va=()=>({"mr-2":!0});function r0(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",26),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.nrm(1,"lucide-icon",27),t.k0s()}if(2&n){t.XpG();const i=t.sdS(11);t.Y8G("matMenuTriggerFor",i)}}function l0(n,s){1&n&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_enter_name_group")," "))}let ka=(()=>{var n;class s extends O.H{collapseByGroupId(e){this.collapseByGroupIdEvent.emit(e)}deleteGroupDialog(){this.sAztDialogService.open(a0,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(e){if(""!=e.trim()){var o={groupId:this.groupObj?.id??0,name:e};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(o).subscribe(a=>{1==a.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(a.message??"",!0)}))}}constructor(e,o){super(),this.classroomGroupService=e,this.sAztDialogService=o,this.updateGroupSuccessEvent=new t.bkB,this.collapseByGroupIdEvent=new t.bkB}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.kG),t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:43,vars:35,consts:[["menu","matMenu"],["matMenuGroupOfClassroom",""],["nameGroup",""],[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[3,"name","size"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click","matMenuTriggerFor"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","16",3,"ngClass"],["xPosition","after"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"click","disabled"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"click","matMenuTriggerFor"],["name","ellipsis-vertical","size","16"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"span",5),t.bIt("click",function(){return t.eBV(a),t.Njj(o.collapseByGroupId(o.groupObj))}),t.nrm(3,"lucide-icon",6),t.j41(4,"h2",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",8),t.DNE(9,r0,2,1,"button",9),t.j41(10,"mat-menu",null,0)(12,"div",10)(13,"button",11),t.bIt("click",function(l){return t.eBV(a),t.Njj(l.stopPropagation())}),t.nrm(14,"lucide-icon",12),t.j41(15,"span"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",13),t.bIt("click",function(){return t.eBV(a),t.Njj(o.deleteGroupDialog())}),t.nrm(19,"lucide-icon",14),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()()()(),t.j41(23,"mat-menu",15,1)(25,"div",16)(26,"div",17)(27,"div",18)(28,"h2",19),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"div",20),t.bIt("click",function(l){return t.eBV(a),t.Njj(l.stopPropagation())}),t.nrm(32,"input",21,2),t.nI1(34,"mytranslate"),t.DNE(35,l0,3,3,"div",22),t.k0s(),t.j41(36,"div",23)(37,"button",24),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"button",25),t.bIt("click",function(){t.eBV(a);const l=t.sdS(33);return t.Njj(o.updateGroupOfClassroom(l.value))}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()()()()()}if(2&e){const a=t.sdS(24),r=t.sdS(33);t.R7$(3),t.Y8G("name",o.groupObj.isExpand?"chevron-down":"chevron-right")("size",24),t.R7$(2),t.Lme("",t.bMT(6,17,o.groupObj.name)," ","("+o.groupObj.totalViewClassrooms+" "+t.bMT(7,19,"lang_testbank_test_list_classes")+")",""),t.R7$(4),t.Y8G("ngIf",o.groupObj.id>0&&o.isOwned),t.R7$(4),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.Y8G("ngClass",t.lJ4(33,va)),t.R7$(2),t.JRh(t.bMT(17,21,"lang_button_edit")),t.R7$(3),t.Y8G("ngClass",t.lJ4(34,va)),t.R7$(2),t.JRh(t.bMT(22,23,"lang_button_delete")),t.R7$(8),t.JRh(t.bMT(30,25,"lang_student_classroom_list_update_group")),t.R7$(3),t.FS9("value",o.groupObj.name),t.FS9("placeholder",t.bMT(34,27,"lang_auto_nhap_ten_nhom")),t.R7$(3),t.Y8G("ngIf",""==r.value.trim()),t.R7$(3),t.SpI(" ",t.bMT(39,29,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",""==r.value.trim()),t.R7$(),t.SpI(" ",t.bMT(42,31,"lang_student_classroom_list_update")," ")}},dependencies:[_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,tt.kk,tt.Cp,h.flO,h.WGl,y.L,x.Id,I.k],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),s})();function c0(n,s){1&n&&t.nrm(0,"azt-loading-ui",10)}let m0=(()=>{var n;class s extends ot._{closeDialog(e){this.dialogRef.close(e)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(e=>{1==e.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(o=>{1==o.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(e,o,a){super(a,o),this.classroomGroupService=e,this.dialogRef=o,this.data=a,this.classroomObj=a.classroomObj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.kG),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-teacher-delete-classroom"]],standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s()()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return o.closeDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return o.deleteClassroomObj()}),t.DNE(15,c0,1,0,"azt-loading-ui",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.Lme(" ",o.classroomObj.isShareClassroom?t.bMT(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.bMT(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.R7$(4),t.JRh(o.classroomObj.name),t.R7$(3),t.SpI(" ",t.bMT(13,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==o.statusObj.loading),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,13,"lang_button_delete")," "))},dependencies:[$.R,_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();var xa=p(43404);function d0(n,s){1&n&&t.nrm(0,"azt-loading-ui")}function _0(n,s){if(1&n&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(3).$implicit;t.R7$(),t.JRh(t.bMT(2,1,i.groupObj.name))}}function u0(n,s){if(1&n&&(t.j41(0,"span",23),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=t.XpG(3).$implicit;t.FS9("matTooltip",t.bMT(1,2,i.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,i.groupObj.name))}}function p0(n,s){if(1&n&&(t.j41(0,"mat-radio-button",19),t.DNE(1,_0,3,3,"span",20)(2,u0,4,6,"span",21),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.Y8G("value",i.groupObj.id),t.R7$(),t.Y8G("ngIf",i.groupObj.name&&i.groupObj.name.length<15),t.R7$(),t.Y8G("ngIf",i.groupObj.name&&i.groupObj.name.length>=15)}}function g0(n,s){if(1&n&&(t.j41(0,"div",17),t.DNE(1,p0,3,3,"mat-radio-button",18),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",null!=i.groupObj)}}function h0(n,s){1&n&&(t.j41(0,"div",24)(1,"mat-radio-button",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(),t.Y8G("value",0),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_classroom_list_other")," "))}function f0(n,s){if(1&n&&(t.qex(0),t.DNE(1,g0,2,1,"div",15)(2,h0,4,4,"div",16),t.bVm()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("ngIf",null!=i.groupObj),t.R7$(),t.Y8G("ngIf",null==i.groupObj)}}function b0(n,s){1&n&&t.nrm(0,"azt-loading-ui",25)}let v0=(()=>{var n;class s extends ot._{closeDialog(){this.dialogRef.close()}chooseGroup(){let e=this.form.getRawValue();this.groupId=e.groupId!=this.fakeGroupValue?e.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(o=>{1==o.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(e=>{if(1==e.success){for(var o of(this.activeClassroomData=e?.data?.activeClassroomData??[],this.activeClassroomData))o.classroomObjs.find(l=>l.id==this.classId)&&(this.form=new m.gE({groupId:new m.MJ(o.groupObj.id,{nonNullable:!0,validators:[m.k0.required]})}));this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(e,o,a){super(a,o),this.classroomGroupService=e,this.dialogRef=o,this.data=a,this.classId=0,this.fakeGroupValue=-2,this.classId=a.classId,this.form=new m.gE({groupId:new m.MJ(void 0,{nonNullable:!0,validators:[m.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.kG),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-move-classroom-to-group"]],standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],[4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.DNE(10,d0,1,0,"azt-loading-ui",7),t.j41(11,"mat-radio-group",8),t.bIt("change",function(){return o.chooseGroup()}),t.j41(12,"div",9),t.DNE(13,f0,3,2,"ng-container",10),t.k0s()()()()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("click",function(){return o.closeDialog()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return o.updateClassroomToGroup()}),t.DNE(19,b0,1,0,"azt-loading-ui",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("formGroup",o.form),t.R7$(4),t.SpI(" ",t.bMT(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.R7$(5),t.Y8G("ngIf",o.statusObj.loading),t.R7$(3),t.Y8G("ngForOf",o.activeClassroomData),t.R7$(3),t.JRh(t.bMT(17,10,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",o.form.controls.groupId.errors),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(21,12,"lang_button_update")," "))},dependencies:[Ot.U,$.R,_.MD,_.Sq,_.bT,m.X1,m.qT,m.BC,m.cb,m.j4,m.JD,b.iI,m.YN,f.wp,S.s,xa.VT,xa._g,B.oV,h.flO,y.L,x.Id,I.k,ae.t],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),s})();const k0=n=>[n],x0=()=>({"text-slate-500":!0}),ie=()=>({"mr-2":!0});function C0(n,s){1&n&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_add_home_work_share")))}function T0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",16)(1,"a",17),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.preventDefault())}),t.nrm(2,"lucide-icon",18),t.k0s()()}if(2&n){t.XpG();const i=t.sdS(17);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(2,x0))}}function S0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.editClassroomDialog())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_sua_lop")," "))}function I0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",21),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.copyClassroomObj())}),t.nrm(2,"lucide-icon",22),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_nhan_ban_lop")," "))}function y0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",23),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.moveClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function j0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",25),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.moveSharedClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function O0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",26),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.moveClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function w0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.moveSharedClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function F0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.updateClassroom())}),t.nrm(2,"lucide-icon",29),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_core_sua_di_chuyen")," "))}function R0(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"a",30),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.deleteClassroomDialog())}),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,ie)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa_lop")," "))}let Ca=(()=>{var n;class s extends O.H{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(v0,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(o=>{1==o.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(o.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(o=>{1==o.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(o.message??"")})}editClassroomDialog(){this.sAztDialogService.open(fa.F,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(m0,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(e,o,a){super(),this.classroomGroupService=e,this.permissionTeamService=o,this.sAztDialogService=a,this.eventOfClassroomMenu=new t.bkB,this.screenTemplate=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.kG),t.rXU(ne.km),t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},standalone:!0,features:[t.Vt3,t.aNF],decls:31,vars:36,consts:[["c","isDisabled"],["classroomMenuBox",""],[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"click","matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["name","copy","size","16",3,"ngClass"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["name","database","size","16",3,"ngClass"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["name","timer-reset","size","16",3,"ngClass"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["name","shuffle","size","16",3,"ngClass"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["name","trash","size","16",3,"ngClass"]],template:function(e,o){if(1&e&&(t.j41(0,"div",2)(1,"a",3),t.nI1(2,"navigationLocalize"),t.j41(3,"div",4)(4,"a",5,0),t.EFF(6),t.k0s()(),t.j41(7,"div",6)(8,"div",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.DNE(14,C0,4,3,"div",9),t.k0s(),t.DNE(15,T0,3,3,"div",10),t.k0s(),t.j41(16,"mat-menu",11,1)(18,"div",12)(19,"ul",13),t.DNE(20,S0,5,5,"li",14),t.nI1(21,"editPermission"),t.DNE(22,I0,5,5,"li",14),t.nI1(23,"fullPermission"),t.DNE(24,y0,5,5,"li",14)(25,j0,5,5,"li",14)(26,O0,5,5,"li",14)(27,w0,5,5,"li",14)(28,F0,5,5,"li",14)(29,R0,5,5,"li",14),t.nI1(30,"deletePermission"),t.k0s()()()),2&e){const a=t.sdS(5);t.R7$(),t.Y8G("routerLink",t.eq3(34,k0,t.bMT(2,19,"/admin/student/classroom-details/"+o.classroomObj.id+(o.programId?"/3":"/0")))),t.R7$(3),t.FS9("matTooltip",o.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.R7$(2),t.SpI(" ",o.classroomObj.name," "),t.R7$(3),t.Lme("",t.bMT(10,21,"lang_auto_si_so"),": ",o.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(13,23,"lang_auto_nam_hoc"),": ",o.classroomObj.year,""),t.R7$(2),t.Y8G("ngIf",o.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",o.classroomObj.permissionObj),t.R7$(5),t.Y8G("ngIf",""==o.screenTemplate&&t.i5U(21,25,o.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==o.screenTemplate&&t.i5U(23,28,o.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==o.screenTemplate&&!o.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",""==o.screenTemplate&&o.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf","storage"==o.screenTemplate),t.R7$(),t.Y8G("ngIf","showListPeopleWhoWillShare"==o.screenTemplate),t.R7$(),t.Y8G("ngIf",""==o.screenTemplate&&o.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",t.i5U(30,31,o.classroomObj,"classroom"))}},dependencies:[Te.f,f.F2,_.MD,_.YU,_.bT,m.X1,b.iI,b.Wk,m.YN,f.wp,S.s,tt.kk,tt.Cp,B.oV,h.flO,h.WGl,y.L,f.gC,f.FV,f.AJ,x.Id,I.k],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00,#68cc009c);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),s})();const E0=n=>[n];function M0(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function N0(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"azt-information-class-box",19),t.bIt("eventOfClassroomMenu",function(o){t.eBV(i);const a=t.XpG(5);return t.Njj(a.eventOfClassroomMenu(o))}),t.k0s()(),t.bVm()}if(2&n){const i=s.$implicit;t.R7$(),t.Y8G("hidden",!i.isShowClassroom),t.R7$(),t.Y8G("classroomObj",i)}}function G0(n,s){if(1&n&&(t.j41(0,"div",17),t.DNE(1,N0,3,2,"ng-container",9),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",i.classroomObjs)}}function D0(n,s){1&n&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function $0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",12)(1,"app-teacher-classroom-show-group-box",13),t.bIt("updateGroupSuccessEvent",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.updateGroupSuccessEvent(o))})("collapseByGroupIdEvent",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.collapseByGroupId(o.groupObj))}),t.k0s(),t.j41(2,"div",14),t.DNE(3,G0,2,1,"div",15)(4,D0,3,3,"div",16),t.k0s()()}if(2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("groupObj",i.groupObj)("isOwned",i.isOwned),t.R7$(),t.Y8G("hidden",!i.groupObj.isExpand),t.R7$(),t.Y8G("ngIf",i.classroomObjs.length),t.R7$(),t.Y8G("ngIf",0==i.classroomObjs.length)}}function z0(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,$0,5,5,"div",11),t.k0s()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("ngIf",i.groupObj.isShowGroup)}}function P0(n,s){if(1&n&&(t.j41(0,"div",21),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.Y8G("routerLink",t.eq3(7,E0,t.bMT(1,3,"/admin/student/manage-classroom/1"))),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",i.totalStorageClassroom,") ")}}function A0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.searchByName(o.searchObj))}),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.collapseAll(!o.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,z0,2,1,"div",9)(7,P0,4,9,"div",10)}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,5,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",i.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(),t.Y8G("ngForOf",i.viewClassroomGroupObjs),t.R7$(),t.Y8G("ngIf",i.totalStorageClassroom)}}let L0=(()=>{var n;class s extends ba{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-teacher-active-classrooms"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"onSearch","isServerSearch","placeholder"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"updateGroupSuccessEvent","collapseByGroupIdEvent","groupObj","isOwned"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"eventOfClassroomMenu","classroomObj"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(e,o){if(1&e&&(t.j41(0,"div",1),t.DNE(1,M0,1,1,"azt-loading-effect",2)(2,A0,8,7,"ng-template",null,0,t.C5r),t.k0s()),2&e){const a=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[Y.K,It.W,ka,Ca,f.F2,_.MD,_.Sq,_.bT,m.X1,b.iI,b.Wk,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,x.Id,I.k],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),s})();function Y0(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function B0(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"div",17)(2,"azt-information-class-box",18),t.bIt("eventOfClassroomMenu",function(o){t.eBV(i);const a=t.XpG(5);return t.Njj(a.eventOfClassroomMenu(o))}),t.k0s()(),t.bVm()}if(2&n){const i=s.$implicit;t.R7$(),t.Y8G("hidden",!i.isShowClassroom),t.R7$(),t.Y8G("classroomObj",i)("screenTemplate","storage")}}function V0(n,s){if(1&n&&(t.j41(0,"div",16),t.DNE(1,B0,3,3,"ng-container",9),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",i.classroomObjs)}}function X0(n,s){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function U0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"app-teacher-classroom-show-group-box",12),t.bIt("updateGroupSuccessEvent",function(o){t.eBV(i);const a=t.XpG(3);return t.Njj(a.updateGroupSuccessEvent(o))})("collapseByGroupIdEvent",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.collapseByGroupId(o.groupObj))}),t.k0s(),t.j41(2,"div",13),t.DNE(3,V0,2,1,"div",14)(4,X0,3,3,"div",15),t.k0s()()}if(2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("groupObj",i.groupObj)("isOwned",i.isOwned),t.R7$(),t.Y8G("hidden",!i.groupObj.isExpand),t.R7$(),t.Y8G("ngIf",i.classroomObjs.length),t.R7$(),t.Y8G("ngIf",0==i.classroomObjs.length)}}function H0(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,U0,5,5,"div",10),t.k0s()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("ngIf",i.groupObj.isShowGroup)}}function J0(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.searchByName(o.searchObj))}),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.collapseAll(!o.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,H0,2,1,"div",9)}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,4,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",i.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(),t.Y8G("ngForOf",i.viewClassroomGroupObjs)}}let W0=(()=>{var n;class s extends ba{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-teacher-archive-classrooms"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"onSearch","isServerSearch","placeholder"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"updateGroupSuccessEvent","collapseByGroupIdEvent","groupObj","isOwned"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"eventOfClassroomMenu","classroomObj","screenTemplate"],[1,"text-center","col-span-12","p-2"]],template:function(e,o){if(1&e&&(t.j41(0,"div",1),t.DNE(1,Y0,1,1,"azt-loading-effect",2)(2,J0,7,6,"ng-template",null,0,t.C5r),t.k0s()),2&e){const a=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[Y.K,It.W,ka,Ca,_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,x.Id,I.k],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),s})();var q0=p(7308);const Q0=["childActiveClassrooms"],Z0=["childArchiveClassrooms"],Wt=()=>({"mr-2":!0}),Ta=()=>[],Xi=()=>({"ml-1":!0});function K0(n,s){1&n&&(t.j41(0,"span",34),t.EFF(1,"1"),t.k0s())}function tv(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",35),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ev(n,s){1&n&&(t.qex(0),t.nrm(1,"app-teacher-active-classrooms",37,4),t.bVm()),2&n&&(t.R7$(),t.Y8G("classroomGroupData",t.lJ4(1,Ta)))}function nv(n,s){1&n&&t.nrm(0,"app-teacher-archive-classrooms",37,5),2&n&&t.Y8G("classroomGroupData",t.lJ4(1,Ta))}function iv(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,ev,3,2,"ng-container",36)(2,nv,2,2,"ng-template",null,3,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG();t.R7$(),t.Y8G("ngIf",e.isShowActiveClassroom)("ngIfElse",i)}}function ov(n,s){1&n&&t.nrm(0,"lucide-icon",38),2&n&&t.Y8G("ngClass",t.lJ4(1,Xi))}function sv(n,s){1&n&&t.nrm(0,"lucide-icon",38),2&n&&t.Y8G("ngClass",t.lJ4(1,Xi))}function av(n,s){1&n&&t.nrm(0,"lucide-icon",38),2&n&&t.Y8G("ngClass",t.lJ4(1,Xi))}let rv=(()=>{var n;class s extends O.H{changeFilter(e){this.typeFilter=e,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(fa.F,{data:{classroomObj:void 0,multipleImport:this.isBusinessDomain||this.isVipTeacher},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(o=>{o&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(n0,{restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(Zi.O,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(e=>{e&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==e;let o=this.commonService.getMyQueryParam("programId");this.backToLink=o&&""!=o?"/business/educational-program/"+o:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.checkVipAccountService.checkRunActionVip(!0,B2.W5.VIPFORTEACHER,!1,void 0).subscribe(e=>{this.isVipTeacher=e.data?.isTeacherOrStudentVip??!1}),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(e,o,a){super(),this.activeRoute=e,this.sAztDialogService=o,this.mobileWebviewService=a,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1,this.isVipTeacher=!1}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX),t.rXU(Q.i),t.rXU(q0.f))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-teacher-classroom"]],viewQuery:function(e,o){if(1&e&&(t.GBs(Q0,5),t.GBs(Z0,5)),2&e){let a;t.mGM(a=t.lsd())&&(o.viewActiveClassrooms=a.first),t.mGM(a=t.lsd())&&(o.viewArchiveClassrooms=a.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:69,vars:59,consts:[["doneLoading",""],["menuClassList","matMenu"],["menuFilter","matMenu"],["showArchiveBox",""],["childActiveClassrooms",""],["childArchiveClassrooms",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],["name","plus","size","16"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","16",3,"ngClass"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","user-check","size","16",3,"ngClass"],["name","tags","size","16",3,"ngClass"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[3,"classroomGroupData"],["name","check","size","16",3,"ngClass"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"teacher-layout",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",11)(9,"button",12),t.bIt("click",function(){return t.eBV(a),t.Njj(o.createClassroomDialog())}),t.nrm(10,"lucide-icon",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",14),t.nrm(14,"lucide-icon",15),t.k0s(),t.j41(15,"button",16),t.bIt("click",function(){return t.eBV(a),t.Njj(o.createClassroomForNewCourseDialog())}),t.nrm(16,"lucide-icon",13),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",17),t.bIt("click",function(){return t.eBV(a),t.Njj(o.openDialogAutomaticIdentification())}),t.nrm(20,"lucide-icon",18),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"button",19),t.nrm(24,"lucide-icon",20),t.EFF(25),t.nI1(26,"mytranslate"),t.DNE(27,K0,2,0,"span",21),t.k0s()()(),t.j41(28,"div",22)(29,"div",23),t.DNE(30,tv,1,1,"azt-loading-effect",24)(31,iv,4,2,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(33,"mat-menu",25,1)(35,"div",26)(36,"ul",27)(37,"li")(38,"button",28),t.bIt("click",function(){return t.eBV(a),t.Njj(o.createClassroomForNewCourseDialog())}),t.nrm(39,"lucide-icon",13),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"button",29),t.bIt("click",function(){return t.eBV(a),t.Njj(o.openDialogAutomaticIdentification())}),t.nrm(44,"lucide-icon",18),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()(),t.j41(47,"mat-menu",25,2)(49,"div",26)(50,"ul",27)(51,"li")(52,"button",28),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changeFilter("all"))}),t.nrm(53,"lucide-icon",30),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,ov,1,2,"lucide-icon",31),t.k0s()(),t.j41(57,"li")(58,"button",29),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changeFilter("owner"))}),t.nrm(59,"lucide-icon",32),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,sv,1,2,"lucide-icon",31),t.k0s()(),t.j41(63,"li")(64,"button",28),t.bIt("click",function(){return t.eBV(a),t.Njj(o.changeFilter("user"))}),t.nrm(65,"lucide-icon",33),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,av,1,2,"lucide-icon",31),t.k0s()()()()()}if(2&e){const a=t.sdS(32),r=t.sdS(34),l=t.sdS(48);t.Y8G("headerBackToLink",o.backToLink),t.R7$(5),t.SpI(" ",o.isShowActiveClassroom?t.bMT(6,28,"lang_student_classroom_list_header_title"):t.bMT(7,30,"lang_auto_kho_luu_tru")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(50,Wt)),t.R7$(),t.SpI(" ",t.bMT(12,32,"lang_student_classroom_list_create_class")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",r),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,Wt)),t.R7$(),t.SpI(" ",t.bMT(18,34,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(52,Wt)),t.R7$(),t.SpI(" ",t.bMT(22,36,"lang_auto_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",l),t.R7$(),t.Y8G("ngClass",t.lJ4(53,Wt)),t.R7$(),t.SpI(" ",t.bMT(26,38,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf","all"!=o.typeFilter),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a),t.R7$(9),t.Y8G("ngClass",t.lJ4(54,Wt)),t.R7$(),t.SpI(" ",t.bMT(41,40,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(55,Wt)),t.R7$(),t.SpI(" ",t.bMT(46,42,"lang_auto_danh_so_bao_danh")," "),t.R7$(8),t.Y8G("ngClass",t.lJ4(56,Wt)),t.R7$(),t.SpI(" ",t.bMT(55,44,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==o.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(57,Wt)),t.R7$(),t.SpI(" ",t.bMT(61,46,"lang_core_lop_cua_toi")," "),t.R7$(2),t.Y8G("ngIf","owner"==o.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(58,Wt)),t.R7$(),t.SpI(" ",t.bMT(67,48,"lang_auto_lop_duoc_chia_se")," "),t.R7$(2),t.Y8G("ngIf","user"==o.typeFilter)}},dependencies:[St.Q,Y.K,L0,W0,_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,tt.kk,tt.Cp,h.flO,h.WGl,y.L,x.Id,I.k],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),s})(),lv=(()=>{var n;class s extends O.H{}return(n=s).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(n)))(o||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["homework-master-page"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["id","student-layout"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[_.MD,m.X1,b.iI,b.n3,m.YN,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();function cv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.btnCloseDialog())}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",7),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.confirmQuit())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(3),t.SpI("",i.data.type&&"update_phone_student"==i.data.type?t.bMT(4,3,"lang_student_utils_confirm_merge_verifi")+"?":t.bMT(5,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.R7$(6),t.SpI(" ",t.bMT(10,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(13,9,"lang_cms_common_confirm_btn")," ")}}let mv=(()=>{var n;class s extends ot._{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}constructor(e,o){super(o,e),this.dialogRef=e,this.data=o}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(M.CP,8),t.rXU(M.Vh))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-merge-student-confirm-box"]],standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","box",4,"ngIf"],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"text-base","font-medium","mr-auto"],[1,"flex","justify-end","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm","matRipple","",1,"btn","min-width-100","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q","matRipple","",1,"btn","min-width-100","btn-primary",3,"click"]],template:function(e,o){1&e&&t.DNE(0,cv,14,11,"div",0),2&e&&t.Y8G("ngIf",o.data)},dependencies:[_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,at.r6,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();const dv=n=>({"bg-success":n});function _v(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function uv(n,s){if(1&n&&(t.j41(0,"div",21)(1,"b"),t.EFF(2),t.k0s()()),2&n){const i=t.XpG().$implicit,e=t.XpG(2);t.Y8G("ngClass",t.eq3(2,dv,e.haveSelected(i))),t.R7$(2),t.JRh(i.fullName)}}function pv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(2);return t.Njj(a.selectObj(o))}),t.DNE(1,uv,3,4,"div",20),t.k0s()}if(2&n){const i=s.$implicit,e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.inMergeObjs(i))}}function gv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div")(1,"div",22),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"b",23),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",23),t.EFF(9),t.k0s(),t.EFF(10," \xa0\xa0 "),t.j41(11,"span",24),t.bIt("click",function(){const o=t.eBV(i).index,a=t.XpG(2);return t.Njj(a.removeMergeArray(o))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_merge_student_merge_student")," "),t.R7$(3),t.JRh(null==i.from?null:i.from.fullName),t.R7$(),t.SpI(" ",t.bMT(7,7,"lang_student_merge_student_return")," "),t.R7$(3),t.JRh(null==i.to?null:i.to.fullName),t.R7$(3),t.JRh(t.bMT(13,9,"lang_auto_xoa"))}}function hv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",22)(1,"div",26)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"button",27),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.revertStudent(o.id))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&n){const i=t.XpG().$implicit;t.R7$(3),t.JRh(i.fullName),t.R7$(2),t.SpI(" ",t.bMT(6,2,"lang_button_revert")," ")}}function fv(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,hv,7,4,"div",25),t.k0s()),2&n){const i=s.$implicit,e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.inMergeObjs(i))}}function bv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.nI1(3,"mytranslate"),t.j41(4,"div",7)(5,"div",8)(6,"div",9),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,pv,2,1,"div",10),t.k0s(),t.j41(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,gv,14,11,"div",14),t.j41(17,"div",15)(18,"button",16),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showConfirmBox())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()()()(),t.j41(21,"mat-tab",6),t.nI1(22,"mytranslate"),t.j41(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,fv,2,1,"div",14),t.k0s()()()()()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("selectedIndex",i.selectedIndex),t.R7$(),t.FS9("label",t.bMT(3,11,"lang_student_merge_student_lable")),t.R7$(5),t.SpI(" ",t.bMT(8,13,"lang_student_merge_student_required_click_merge")," "),t.R7$(2),t.Y8G("ngForOf",i.studentObjs),t.R7$(5),t.SpI(" ",t.bMT(15,15,"lang_student_merge_student_list_student_merge")," "),t.R7$(2),t.Y8G("ngForOf",i.studentMergeObjs),t.R7$(2),t.Y8G("disabled",i.studentMergeObjs&&i.studentMergeObjs.length<1),t.R7$(),t.SpI(" ",t.bMT(20,17,"lang_student_merge_student_start_merge_list")," "),t.R7$(2),t.FS9("label",t.bMT(22,19,"lang_student_merge_student_revert")),t.R7$(6),t.SpI(" ",t.bMT(28,21,"lang_student_merge_student_list_submitted")," "),t.R7$(2),t.Y8G("ngForOf",i.studentMergeListObjs)}}let vv=(()=>{var n;class s extends O.H{showConfirmBox(){this.sAztDialogService.open(mv,{data:this.confirmBox,width:"500px"}).afterClosed().subscribe(e=>{e&&this.sendToServer()})}inMergeObjs(e){let o=!1,a=this.studentMergeObjs?.length??0;for(let r=0;r<a;r++)(this.studentMergeObjs?.[r].from?.id==e.id||this.studentMergeObjs?.[r].to?.id==e.id)&&(o=!0);return o}haveSelected(e){let o=!1;for(let a=0;a<this.selectObjs.length;a++)this.selectObjs[a].id==e.id&&(o=!0);return o}selectObj(e){this.haveSelected(e)?this.selectObjs=[]:this.selectObjs.push(e),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(e){this.studentMergeObjs?.[e]&&this.studentMergeObjs.splice(e,1)}sendToServer(){const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let o=[],a=this.studentMergeObjs?.length??0;for(let d=0;d<a;d++){var r=this.studentMergeObjs?.[d].from?.id,l=this.studentMergeObjs?.[d].to?.id;r&&l&&o.push({fromId:r,toId:l})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:e,mergeObjs:o}).subscribe(d=>{1==d.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(d.message??"",!0)}))}getData(){this.initStatusObj();const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(e).subscribe(o=>{1==o.success?(this.studentObjs=this.sortService.sortFirstNameStudents(o?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(e).subscribe(o=>{1==o.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(o?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}revertStudent(e){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(e).subscribe(o=>{1==o.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(e,o,a,r,l){super(),this.activeRoute=e,this.studentService=o,this.mergeStudentService=a,this.sortService=r,this.sAztDialogService=l,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(b.nX),t.rXU(dt.b0),t.rXU(dt.$$),t.rXU(so.g),t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-merge-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"click","disabled"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"]],template:function(e,o){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,_v,1,1,"azt-loading-effect",2)(2,bv,30,23,"ng-template",null,0,t.C5r),t.k0s()),2&e){const a=t.sdS(3);t.Y8G("headerBackToLink",o.backToLink),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[St.Q,Y.K,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,kn.mq,kn.T8,h.flO,y.L,x.Id,I.k],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),s})();function kv(n,s){1&n&&t.nrm(0,"azt-loading-ui",11)}let xv=(()=>{var n;class s extends ot._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(e=>{1==e.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(e.message??"",!0))}))}btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,o,a){super(a,o),this.studentService=e,this.dialogRef=o,this.data=a,this.studentObj=a.studentObj,this.classroomObj=a.classroomObj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.b0),t.rXU(M.CP,8),t.rXU(M.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-delete-parent"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b",4),t.EFF(8),t.k0s(),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"span",5),t.EFF(12),t.k0s(),t.EFF(13,"\xa0 "),t.j41(14,"span",6),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",7)(18,"button",8),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",9),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(22,kv,1,0,"azt-loading-ui",10),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",t.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),t.R7$(3),t.JRh(o.studentObj.fullName),t.R7$(),t.SpI(" ",t.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),t.R7$(2),t.FS9("matTooltip",o.classroomObj.name),t.R7$(),t.SpI(" ",o.classroomObj.name,""),t.R7$(3),t.SpI("* ",t.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),t.R7$(4),t.SpI(" ",t.bMT(20,15,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[Ot.U,$.R,_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();const Cv=n=>({"pb-5":n}),Tv=()=>[],Sa=()=>({" mr-2 text-primary":!0}),Ia=()=>({" mr-2 text-danger":!0}),Sv=()=>({" mr-2 text-warning":!0});function Iv(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",4),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function yv(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.editStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",16),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Sa)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_edit")," "))}function jv(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.deleteStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",18),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ia)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Ov(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.deleteParentOfStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Sv)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function wv(n,s){if(1&n&&(t.j41(0,"div",11),t.DNE(1,yv,4,5,"button",12),t.nI1(2,"editPermission"),t.DNE(3,jv,4,5,"button",13),t.nI1(4,"fullPermission"),t.nI1(5,"editPermission"),t.DNE(6,Ov,4,5,"button",14),t.nI1(7,"editPermission"),t.k0s()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",t.i5U(2,3,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(4,6,i.classroomObj,"student")||t.i5U(5,9,i.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",0!=i.studentObj.parentId&&t.i5U(7,12,i.classroomObj,"student"))}}function Fv(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.deleteStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",18),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ia)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Rv(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"button",21),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.editStudentDialog(o.studentObj))}),t.nrm(2,"lucide-icon",16),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Fv,4,5,"button",22),t.nI1(6,"fullPermission"),t.nI1(7,"editPermission"),t.k0s()}if(2&n){const i=t.XpG(3);t.R7$(2),t.Y8G("ngClass",t.lJ4(11,Sa)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_button_edit")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(6,5,i.classroomObj,"student")||t.i5U(7,8,i.classroomObj,"student"))}}function Ev(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",6)(2,"div",7),t.nrm(3,"azt-student-info-box",8),t.k0s(),t.j41(4,"div",9),t.DNE(5,wv,8,15,"div",10),t.nI1(6,"editPermission"),t.DNE(7,Rv,8,12,"div",10),t.nI1(8,"editPermission"),t.k0s()(),t.bVm()),2&n){let i;const e=t.XpG(2);t.R7$(3),t.Y8G("name",e.studentObj.fullName)("parentFullName",e.studentObj.parentFullName)("parentUserName",e.studentObj.parentUserName)("parentId",e.studentObj.parentId)("parentPhone",e.studentObj.parentPhone)("phone",e.studentObj.phone)("email",e.studentObj.email)("birthday",e.studentObj.birthday)("avatar",e.studentObj.avatar)("gender",e.studentObj.gender)("schoolName",null==e.studentObj.moreInfo?null:e.studentObj.moreInfo.schoolName)("facebookLink",null==e.studentObj.moreInfo?null:e.studentObj.moreInfo.facebookLink)("identificationNumber",e.studentObj.identificationNumber)("hasUser",1==e.studentObj.isVerified)("classrooms",null!==(i=null==e.studentObj.moreInfo?null:e.studentObj.moreInfo.classrooms)&&void 0!==i?i:t.lJ4(24,Tv))("joinedAt",null==e.studentObj.moreInfo?null:e.studentObj.moreInfo.joinedAt),t.R7$(2),t.Y8G("ngIf",e.isTeacher&&0!=e.studentObj.parentId&&t.i5U(6,18,e.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",e.isTeacher&&0==e.studentObj.parentId&&t.i5U(8,21,e.classroomObj,"student"))}}function Mv(n,s){1&n&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_profile_student_not_found")))}function Nv(n,s){if(1&n&&t.DNE(0,Ev,9,25,"ng-container",5)(1,Mv,4,3,"ng-template",null,1,t.C5r),2&n){const i=t.sdS(2),e=t.XpG();t.Y8G("ngIf",e.studentObj)("ngIfElse",i)}}let Gv=(()=>{var n;class s extends O.H{deleteStudentDialog(e){this.sAztDialogService.open(no.d,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.commonService.myNavigationBySpecialQueryString(this.paramBackToLink)})}editStudentDialog(e){this.sAztDialogService.open(io.B,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(e){this.sAztDialogService.open(xv,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.sAztDialogService=e,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new t.bkB}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:5,consts:[["doneLoading",""],["noStudentObj",""],[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","phone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(e,o){if(1&e&&(t.j41(0,"div",2),t.DNE(1,Iv,1,1,"azt-loading-effect",3)(2,Nv,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&e){const a=t.sdS(3);t.Y8G("ngClass",t.eq3(3,Cv,!o.studentObj)),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[Y.K,kt.B,_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,f.gC,f.FV,x.Id,I.k],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),s})();const Dv=()=>[];function $v(n,s){if(1&n){const i=t.RV6();t.j41(0,"mat-option",14),t.bIt("click",function(){const o=t.eBV(i).index,a=t.XpG();return t.Njj(a.filterByMonth(o))}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const i=s.index;t.Y8G("value",i),t.R7$(2),t.SpI(" ",i?t.bMT(3,2,"lang_core_thang")+" "+i:t.bMT(4,4,"lang_auto_tat_ca")," ")}}function zv(n,s){1&n&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.nrm(3,"azt-loading-ui"),t.k0s()()())}function Pv(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",15),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td",15),t.EFF(7),t.k0s(),t.j41(8,"td",15)(9,"span",20),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"td",15),t.EFF(13),t.k0s()()),2&n){const i=s.$implicit,e=s.index;t.R7$(2),t.JRh(e+1),t.R7$(2),t.JRh(t.bMT(5,6,i.sessionTime)),t.R7$(3),t.SpI(" ",i.className," "),t.R7$(2),t.Y8G("ngClass",i.absent?"bg-danger":"bg-success"),t.R7$(),t.SpI(" ",t.bMT(11,8,i.absent?"lang_business_vang_mat":"lang_business_co_mat")," "),t.R7$(3),t.SpI(" ",i.reason," ")}}function Av(n,s){if(1&n&&(t.qex(0),t.DNE(1,Pv,14,10,"tr",19),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.attendanceObjs)}}function Lv(n,s){1&n&&(t.j41(0,"tr")(1,"td",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}function Yv(n,s){if(1&n&&t.DNE(0,Av,2,1,"ng-container",18)(1,Lv,4,3,"ng-template",null,1,t.C5r),2&n){const i=t.sdS(2),e=t.XpG();t.Y8G("ngIf",e.attendanceObjs.length)("ngIfElse",i)}}let Bv=(()=>{var n;class s extends O.H{constructor(e){super(),this.studentService=e,this.classroomIds=[],this.title="lang_student_attendance_info",this.attendanceObjs=[]}getAttendances(e){if(this.initStatusObj(),this.attendanceObjs=[],this.isTqbDomain){const o=this.classroomIds.map(a=>this.studentService.apiStudentsAttendancesMeGet(a,void 0,e));this.wrapApiResponse((0,bn.p)(o)).subscribe(a=>{a.data?.forEach(r=>{if(!r)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.attendanceObjs=this.attendanceObjs.concat(r.list)}),this.successStatusObj()})}}filterByMonth(e){this.getAttendances(e)}ngOnChanges(){this.getAttendances()}ngOnInit(){super.ngOnInit()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.b0))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-attendance-table"]],inputs:{classroomIds:"classroomIds",title:"title"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:33,vars:29,consts:[["doneLoading",""],["noTuitionFee",""],[1,"flex","items-center","justify-between"],[1,"text-base","font-medium","w-full"],["appearance","outline",2,"border-radius","5px","background","white","width","auto"],[3,"placeholder"],[3,"value","click",4,"ngFor","ngForOf"],["drag-scroll-item","",1,"table","table-bordered","mt-5",2,"white-space","initial","display","table","background","white"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[3,"click","value"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"py-0.5","px-2","rounded-full","text-xs","text-white","cursor-pointer","font-medium",3,"ngClass"],["colspan","4",1,"text-center"]],template:function(e,o){if(1&e&&(t.j41(0,"div")(1,"div",2)(2,"p",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"mat-form-field",4)(6,"mat-select",5),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.DNE(9,$v,5,6,"mat-option",6),t.k0s()()(),t.j41(10,"drag-scroll")(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",10),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",11),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"th",12),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",11),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.j41(29,"tbody"),t.DNE(30,zv,4,0,"tr",13)(31,Yv,3,2,"ng-template",null,0,t.C5r),t.k0s()()()()),2&e){const a=t.sdS(32);t.R7$(3),t.JRh(t.bMT(4,12,o.title)),t.R7$(3),t.FCK("placeholder","",t.bMT(7,14,"azt_lang_sugg_filter")," ",t.bMT(8,16,"lang_auto_month"),""),t.R7$(3),t.Y8G("ngForOf",t.lJ4(28,Dv).constructor(13)),t.R7$(6),t.SpI(" ",t.bMT(16,18,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(19,20,"lang_core_thoi_gian_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(22,22,"lang_auto_lop_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(25,24,"lang_student_status")," "),t.R7$(3),t.SpI(" ",t.bMT(28,26,"lang_business_reason_for_leave")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[F,X,W,$.R,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,at.wT,mt.rl,ge.VO,h.flO,y.L,f.i_,x.Id,I.k],encapsulation:2}),s})();function Vv(n,s){1&n&&(t.j41(0,"p",13),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_diem_tong_ket")))}function Xv(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showTotalPointDetail())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI("(",t.bMT(2,1,"lang_auto_xem_chi_tiet"),")"))}function Uv(n,s){if(1&n&&(t.j41(0,"div",15),t.EFF(1),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.JRh(i.avgPoint)}}function Hv(n,s){if(1&n&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){let i;const e=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,(null!==(i=null==e.attendanceObj?null:e.attendanceObj.averageMark)&&void 0!==i?i:0)/e.classroomList.length,"1.2-2"))}}function Jv(n,s){if(1&n&&(t.j41(0,"div",2),t.nrm(1,"azt-attendance-table",16),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("classroomIds",i.classroomIds)}}let Wv=(()=>{var n;class s extends O.H{showTotalPointDetail(){this.sAztDialogService.open(ra,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(e=>{this.getInfoAttendance()})}getInfoAttendance(){if(this.initStatusObj(),this.isTqbDomain){const e=this.classroomList.map(o=>this.studentService.apiStudentsStudentIdProfileGet(o.studentId,o.id));this.wrapApiResponse((0,bn.p)(e)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.forEach(a=>{if(!a)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.updateAttendanceObj(a)}),this.successStatusObj()})}else this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId)).subscribe(e=>{if(!e.success||!e.data)return this.errorStatusObj(e.message,!0);this.attendanceObj=e.data,this.studentObj=e.data.student,this.avgPoint=this.studentObj?.averageMark??0,this.successStatusObj()}))}updateAttendanceObj(e){this.attendanceObj={averageMark:(this.attendanceObj?.averageMark??0)+(e.student?.averageMark??0),totalAttend:(this.attendanceObj?.totalAttend??0)+(e?.totalAttend??0),totalAbsence:(this.attendanceObj?.totalAbsence??0)+(e?.totalAbsence??0),totalAbsentPermission:(this.attendanceObj?.totalAbsentPermission??0)+(e?.totalAbsentPermission??0),totalAbsentWithoutPermission:(this.attendanceObj?.totalAbsentWithoutPermission??0)+(e?.totalAbsentWithoutPermission??0),totalReceivedBook:(this.attendanceObj?.totalReceivedBook??0)+(e?.totalReceivedBook??0),totalReceivedDoc:(this.attendanceObj?.totalReceivedDoc??0)+(e?.totalReceivedDoc??0)}}ngOnChanges(){this.getInfoAttendance(),this.classroomIds=this.classroomList.map(e=>e.id)}ngOnInit(){super.ngOnInit()}constructor(e,o){super(),this.studentService=e,this.sAztDialogService=o,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.classroomList=[],this.avgPoint=0,this.classroomIds=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.b0),t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole",classroomList:"classroomList"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:16,vars:8,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],["class","mb-3 text-base font-medium",4,"ngIf"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],["class","ml-2 link__hover link__color",3,"click",4,"ngIf"],["class","text-2xl text-primary font-medium",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mb-3","text-base","font-medium"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[3,"classroomIds"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,Vv,3,3,"p",3),t.j41(4,"div",4)(5,"div",5)(6,"button",6)(7,"div",7),t.nrm(8,"lucide-icon",8),t.k0s()(),t.j41(9,"div",9),t.EFF(10),t.nI1(11,"mytranslate"),t.DNE(12,Xv,3,3,"a",10),t.k0s(),t.DNE(13,Uv,2,1,"div",11)(14,Hv,3,4,"div",11),t.k0s()()(),t.DNE(15,Jv,2,1,"div",12),t.k0s()()),2&e&&(t.R7$(3),t.Y8G("ngIf",o.isTqbDomain),t.R7$(7),t.SpI(" ",t.bMT(11,6,"lang_business_diem_tong_ket")," "),t.R7$(2),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(),t.Y8G("ngIf",o.isTqbDomain),t.R7$(),t.Y8G("ngIf",o.isTqbDomain))},dependencies:[Bv,_.MD,_.bT,_.QX,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,h.WGl,y.L,x.Id,I.k],encapsulation:2}),s})();function qv(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",10),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&n){const i=s.$implicit,e=s.index;t.R7$(2),t.JRh(e+1),t.R7$(2),t.JRh(i.bookName),t.R7$(2),t.JRh(t.bMT(7,3,i.createdAt))}}function Qv(n,s){if(1&n&&(t.qex(0),t.DNE(1,qv,8,5,"tr",9),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.bookDistributionList)}}function Zv(n,s){1&n&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Kv=(()=>{var n;class s extends O.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(e=>{e?(this.bookDistributionList=e.list,this.totalBookDistribution=e.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(e){super(),this.studentService=e,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.b0))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:14,consts:[["noDistribution",""],[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(e,o){if(1&e&&(t.j41(0,"div",1)(1,"span",2),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"div",3)(5,"drag-scroll")(6,"table",4)(7,"thead",5)(8,"tr")(9,"th",6),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"th",7),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",7),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,Qv,2,1,"ng-container",8)(20,Zv,4,3,"ng-template",null,0,t.C5r),t.k0s()()()()),2&e){const a=t.sdS(21);t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_student_total")+": "+o.totalBookDistribution," "),t.R7$(8),t.SpI(" ",t.bMT(11,8,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(14,10,"lang_core_ten_sach")," "),t.R7$(3),t.SpI(" ",t.bMT(17,12,"lang_auto_thoi_gian")," "),t.R7$(3),t.Y8G("ngIf",o.bookDistributionList.length)("ngIfElse",a)}},dependencies:[F,X,W,_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,f.bH,x.Id,I.k],encapsulation:2}),s})();function tk(n,s){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function ek(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td",11)(9,"span",12),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()),2&n){let i;const e=s.$implicit,o=s.index;t.R7$(2),t.JRh(o+1),t.R7$(2),t.JRh(t.bMT(5,4,null!==(i=e.updatedAt)&&void 0!==i?i:e.createdAt)),t.R7$(3),t.JRh(e.month+"/"+e.year),t.R7$(3),t.SpI(" ",t.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function nk(n,s){if(1&n&&(t.qex(0),t.DNE(1,ek,12,8,"tr",10),t.bVm()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.historyTuitionFeeList)}}function ik(n,s){1&n&&(t.j41(0,"tr")(1,"td",13),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}let ok=(()=>{var n;class s extends O.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(e=>{e?this.historyTuitionFeeList=e.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(e){super(),this.paymentService=e,this.studentId=0,this.historyTuitionFeeList=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(z.WG))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:15,consts:[["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(e,o){if(1&e&&(t.j41(0,"div",1),t.DNE(1,tk,3,3,"div",2),t.j41(2,"div",3)(3,"drag-scroll")(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",7),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",8),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()(),t.j41(19,"tbody"),t.DNE(20,nk,2,1,"ng-container",9)(21,ik,4,3,"ng-template",null,0,t.C5r),t.k0s()()()()()),2&e){const a=t.sdS(22);t.R7$(),t.Y8G("ngIf",o.isMobileDevice||o.isMobileWebView),t.R7$(7),t.SpI(" ",t.bMT(9,7,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(12,9,"lang_student_payment_time")," "),t.R7$(3),t.SpI(" ",t.bMT(15,11,"lang_student_monthly_tuition_fee")," "),t.R7$(3),t.SpI(" ",t.bMT(18,13,"lang_student_status")," "),t.R7$(3),t.Y8G("ngIf",o.historyTuitionFeeList.length)("ngIfElse",a)}},dependencies:[F,X,W,_.MD,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,f.bH,x.Id,I.k],encapsulation:2}),s})(),Ui=(()=>{var n;class s{countChecked(e){var o=0;for(var a in e)!0===e[a]&&(o+=1);return o}getDefaultFilterObj(e){var o=this.localStorageSlug+e;if(this.listFilterObjs[o])return this.listFilterObjs[o];var a=this.getInitFilterObj(),r=this.browserStorageService.getSimpleStorage(o),l=this.commonService.castJsonToObj(r??"");return l&&(a=l),a}saveFilterObj(e,o){var a=this.localStorageSlug+e;this.listFilterObjs[a]=o,this.browserStorageService.saveSimpleStorage(a,this.commonService.serializeJson(o))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(e,o){this.commonService=e,this.browserStorageService=o,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return(n=s).\u0275fac=function(e){return new(e||n)(t.KVO(Cn.R),t.KVO(pa.z))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const sk=()=>({"mr-2":!0});function ak(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",20),t.EFF(3),t.k0s()()),2&n){const i=t.XpG();t.R7$(3),t.JRh(i.totalCustomFilter)}}function rk(n,s){if(1&n){const i=t.RV6();t.j41(0,"li")(1,"label",21),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"div",9)(5,"input",22),t.bIt("change",function(){t.eBV(i);const o=t.XpG();return o.filterObj.getResendAnswer=!o.filterObj.getResendAnswer,t.Njj(o.changeFilter())}),t.k0s()()()()}if(2&n){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),t.R7$(3),t.Y8G("checked",i.filterObj.getResendAnswer)}}let ya=(()=>{var n;class s extends O.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(e){super(),this.studentProfileFilterService=e,this.filterType="",this.changeFilterEvent=new t.bkB,this.totalCustomFilter=0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Ui))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:40,vars:26,consts:[["filterMenu","matMenu"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"button",1),t.nrm(1,"lucide-icon",2),t.j41(2,"span",3),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,ak,4,1,"span",4),t.k0s()(),t.j41(6,"mat-menu",5,0)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),t.bIt("click",function(l){return t.eBV(a),t.Njj(l.stopPropagation())}),t.EFF(12),t.nI1(13,"mytranslate"),t.j41(14,"div",9)(15,"input",10),t.bIt("change",function(){return t.eBV(a),o.filterObj.getHasMark=!o.filterObj.getHasMark,t.Njj(o.changeFilter())}),t.k0s()()()(),t.j41(16,"li")(17,"label",11),t.bIt("click",function(l){return t.eBV(a),t.Njj(l.stopPropagation())}),t.EFF(18),t.nI1(19,"mytranslate"),t.j41(20,"div",9)(21,"input",12),t.bIt("change",function(){return t.eBV(a),o.filterObj.getNotMarked=!o.filterObj.getNotMarked,t.Njj(o.changeFilter())}),t.k0s()()()(),t.j41(22,"li")(23,"label",13),t.bIt("click",function(l){return t.eBV(a),t.Njj(l.stopPropagation())}),t.EFF(24),t.nI1(25,"mytranslate"),t.j41(26,"div",9)(27,"input",14),t.bIt("change",function(){return t.eBV(a),o.filterObj.getNotDone=!o.filterObj.getNotDone,t.Njj(o.changeFilter())}),t.k0s()()()(),t.DNE(28,rk,6,4,"li",4),t.j41(29,"li"),t.nrm(30,"hr",15),t.k0s(),t.j41(31,"li")(32,"div",16)(33,"button",17),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"div",18),t.bIt("click",function(l){return t.eBV(a),t.Njj(l.stopPropagation())}),t.j41(37,"button",19),t.bIt("click",function(){return t.eBV(a),t.Njj(o.clearFilter())}),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s()()()()()()()}if(2&e){const a=t.sdS(7);t.Y8G("matMenuTriggerFor",a),t.R7$(),t.Y8G("ngClass",t.lJ4(25,sk)),t.R7$(2),t.SpI(" ",t.bMT(4,13,"lang_testbank_tested_list_sort")," "),t.R7$(2),t.Y8G("ngIf",o.totalCustomFilter>0),t.R7$(7),t.SpI(" ",t.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),t.R7$(3),t.Y8G("checked",o.filterObj.getHasMark),t.R7$(3),t.SpI(" ",t.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),t.R7$(3),t.Y8G("checked",o.filterObj.getNotMarked),t.R7$(3),t.SpI(" ",t.bMT(25,19,"exam"==o.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),t.R7$(3),t.Y8G("checked",o.filterObj.getNotDone),t.R7$(),t.Y8G("ngIf","homework"==o.filterType),t.R7$(6),t.JRh(t.bMT(35,21,"lang_button_close")),t.R7$(4),t.JRh(t.bMT(39,23,"lang_button_delete"))}},dependencies:[_.MD,_.YU,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,tt.kk,tt.Cp,h.flO,h.WGl,y.L,x.Id,I.k],encapsulation:2}),s})();const lk=()=>({"text-primary":!0});function ck(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"azt-check-mark",17),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_point"),": "),t.R7$(2),t.Y8G("mark",i.resultMarkObj.point)}}function mk(n,s){1&n&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function dk(n,s){if(1&n&&(t.j41(0,"span"),t.DNE(1,ck,4,4,"span",13)(2,mk,3,3,"span",16),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.resultMarkObj.confirmedAt),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj.confirmedAt)}}function _k(n,s){1&n&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_profile_no_result")," "))}function uk(n,s){if(1&n&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",i.resendAnswerObj.resendNote,"")}}function pk(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.clickToHomeworkObj(o))}),t.j41(1,"div",8),t.nrm(2,"lucide-icon",9),t.k0s(),t.j41(3,"div",10)(4,"p",11),t.EFF(5),t.k0s(),t.j41(6,"div",12),t.DNE(7,dk,3,2,"span",13)(8,_k,3,3,"span",14)(9,uk,3,4,"span",14),t.k0s(),t.j41(10,"div",15),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()}if(2&n){const i=s.$implicit,e=s.index;t.ZvI("clickable zoom-in flex items-center ",e>0?"mt-5":""," pb-2"),t.R7$(2),t.Y8G("ngClass",t.lJ4(16,lk)),t.R7$(2),t.FS9("matTooltip",i.name),t.R7$(),t.Lme("",e+1,". ",i.name,""),t.R7$(2),t.Y8G("ngIf",i.resultMarkObj),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj&&!i.resendAnswerObj),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj&&i.resendAnswerObj),t.R7$(2),t.Lme("",t.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",t.bMT(13,14,i.createdAt),"")}}function gk(n,s){1&n&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_list_null")))}function hk(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",25),2&n){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function fk(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",21),t.DNE(1,hk,1,1,"azt-loading-effect",22),t.j41(2,"button",23),t.nI1(3,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.getNextHomeworkAnswerObjs())}),t.nrm(4,"lucide-icon",24),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(),t.FS9("matTooltip",t.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Y8G("disabled",!i.homeworkNextPage)}}let bk=(()=>{var n;class s extends O.H{clickToHomeworkObj(e){this.isTeacher?e.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",e)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+e.resultMarkObj?.resultId+"/"+e.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(e.classroomId??0)+"/"+e.id+"/"+e.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(e.resultMarkObj?.resultId?"/homework/switch-view-homework/"+e.resultMarkObj?.resultId+"/"+e.hashId:"/bai-tap/"+e.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var e=this.studentProfileFilterService.getDefaultFilterObj("homework");e.classroomId=this.classroomId,e.studentId=this.studentId,e.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(e).subscribe(o=>{1==o.success?(this.homeworkObjs=this.homeworkObjs.concat(o.data?.objs??[]),this.homeworkNextPage=o.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(e,o,a){super(),this.studentProfileV2Service=e,this.studentProfileFilterService=o,this.permissionService=a,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.m_),t.rXU(Ui),t.rXU(Kn.p))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-student-profile-filter-menu",2),t.bIt("changeFilterEvent",function(){return o.reInitData()}),t.k0s()(),t.j41(5,"div",3),t.DNE(6,pk,14,17,"div",4)(7,gk,3,3,"div",5)(8,fk,5,5,"div",6),t.k0s()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),t.R7$(2),t.Y8G("filterType","homework"),t.R7$(2),t.Y8G("ngForOf",o.homeworkObjs),t.R7$(),t.Y8G("ngIf",0==o.homeworkObjs.length&&!o.homeworkNextPage),t.R7$(),t.Y8G("ngIf",o.homeworkObjs.length>0&&o.homeworkNextPage))},dependencies:[ya,fn.D,Y.K,_.MD,_.YU,_.Sq,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f.bH,x.Id,I.k],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),s})();const vk=n=>({truncate:n}),kk=()=>({"max-width":"85%"}),xk=()=>({}),Ck=()=>({"text-pending":!0});function Tk(n,s){1&n&&(t.nrm(0,"lucide-icon",17),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&n&&t.FCK("matTooltip","",t.bMT(1,3,"lang_core_danh_gia_nang_luc")," - ",t.bMT(2,5,"lang_testbank_folder_and_file_published"),"")}function Sk(n,s){1&n&&t.nrm(0,"lucide-icon",18),2&n&&t.Y8G("ngClass",t.lJ4(1,Ck))}function Ik(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"azt-check-mark",20),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_point"),": "),t.R7$(2),t.Y8G("mark",i.resultMarkObj.point)}}function yk(n,s){1&n&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function jk(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ik,4,4,"span",14)(2,yk,3,3,"span",19),t.bVm()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.resultMarkObj.confirmedAt),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj.confirmedAt)}}function Ok(n,s){1&n&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function wk(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.clickToExamObj(o))}),t.j41(1,"div",8),t.DNE(2,Tk,3,7,"lucide-icon",9),t.nI1(3,"isCapacityExam"),t.DNE(4,Sk,1,2,"lucide-icon",10),t.nI1(5,"isCapacityExam"),t.k0s(),t.j41(6,"div",11)(7,"p",12),t.EFF(8),t.k0s(),t.j41(9,"div",13),t.DNE(10,jk,3,2,"ng-container",14)(11,Ok,3,3,"span",15),t.k0s(),t.j41(12,"div",16),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()}if(2&n){const i=s.$implicit,e=s.index,o=t.XpG();t.ZvI("clickable zoom-in flex items-center ",e>0?"mt-3":""," pb-2"),t.R7$(2),t.Y8G("ngIf",t.bMT(3,14,i)),t.R7$(2),t.Y8G("ngIf",!t.bMT(5,16,i)),t.R7$(3),t.FS9("matTooltip",i.name),t.Y8G("ngClass",t.eq3(22,vk,!o.isMobileDevice))("ngStyle",o.isMobileDevice?t.lJ4(25,xk):t.lJ4(24,kk)),t.R7$(),t.Lme("",e+1,". ",i.name,""),t.R7$(2),t.Y8G("ngIf",i.resultMarkObj),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj),t.R7$(2),t.Lme("",t.bMT(14,18,"lang_student_profile_utils_list_exam_created_at"),": ",t.bMT(15,20,i.createdAt),"")}}function Fk(n,s){1&n&&(t.j41(0,"div",23),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_list_null")))}function Rk(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",28),2&n){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function Ek(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",24),t.DNE(1,Rk,1,1,"azt-loading-effect",25),t.j41(2,"button",26),t.nI1(3,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.getNextExamResultObjs())}),t.nrm(4,"lucide-icon",27),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(),t.FS9("matTooltip",t.bMT(3,2,"lang_student_profile_utils_list_exam_tooltip_view"))}}let Hi=(()=>{var n;class s extends O.H{clickToExamObj(e){this.isTeacher?e.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",e)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+e.id+"/"+e.resultMarkObj?.userId+"/"+e.resultMarkObj?.studentId+"/"+(e.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)+("CAPACITY"==e.objectType?"&isCapacity=1":"")):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(e.categoryId??0)+"/"+e.id+"/0","?backto="+encodeURIComponent(this.backToLink)):e.resultMarkObj?.resultId?this.commonService.myNavigationWithQueryString("/test/answer-test/"+e.resultMarkObj?.userId+"/0/"+e.hashId+"/"+(e.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)+("CAPACITY"==e.objectType?"&capacity=1":"")):this.commonService.myNavigationWithQueryString("/de-thi/"+e.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.getNextExamResultObjs()}getNextExamResultObjs(){if(!this.isTqbDomain){this.initStatusObj();const o=this.buildFilterObj(this.classroomId,this.studentId,this.currentNextPage);return void this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(o).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.examObjs=this.examObjs.concat(a.data?.objs??[]),this.currentNextPage=a.data?.nextPage,this.hasNextPage=!!this.currentNextPage,this.stopStatusObj()})}this.initStatusObj();const e=this.classroomList.map(o=>{let a=this.classroomIdToNextPages.get(o.id.toString());if(a==this.endPageStr)return(0,ft.of)({errorMessage:void 0,nextPage:void 0,classroomObj:o,examResultObjs:[]});const r=this.buildFilterObj(o.id,o.studentId,a);return new Qn.c(l=>{this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(r).subscribe(c=>{if(!c.success)return l.next({errorMessage:c.message,nextPage:c.data?.nextPage,classroomObj:o,examResultObjs:[]}),void l.complete();l.next({errorMessage:void 0,nextPage:c.data?.nextPage,classroomObj:o,examResultObjs:c.data?.objs??[]}),l.complete()})})});(0,bn.p)(e).subscribe(o=>{let a=this.commonService.getFirstOfArray(o.filter(r=>r?.errorMessage).map(r=>r?.errorMessage));if(a)return this.errorStatusObj(a,!0);this.handleExamResultResponses(o),this.successStatusObj()})}buildFilterObj(e,o,a){const r=this.studentProfileFilterService.getDefaultFilterObj("exam");return r.classroomId=e,r.studentId=o,r.nextPage=a,r}handleExamResultResponses(e){e.forEach(o=>{this.classroomIdToNextPages.set(o.classroomObj.id.toString(),o.nextPage?o.nextPage:this.endPageStr),this.examObjs=this.examObjs.concat(o.examResultObjs),this.hasNextPage=Array.from(this.classroomIdToNextPages.values()).some(a=>a!=this.endPageStr)})}ngOnInit(){this.getNextExamResultObjs()}constructor(e,o,a){super(),this.studentProfileV2Service=e,this.studentProfileFilterService=o,this.permissionService=a,this.backToLink="",this.isTeacher=!0,this.classroomList=[],this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.endPageStr="END_PAGE"}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.m_),t.rXU(Ui),t.rXU(Kn.p))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher",classroomList:"classroomList"},standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","clipboard-check","size","40","class","text-primary",3,"matTooltip",4,"ngIf"],["name","file-check","size","48",3,"ngClass",4,"ngIf"],[1,"ml-4","content-right"],[1,"font-medium",3,"ngClass","ngStyle","matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["name","clipboard-check","size","40",1,"text-primary",3,"matTooltip"],["name","file-check","size","48",3,"ngClass"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",3,"click","matTooltip"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-student-profile-filter-menu",2),t.bIt("changeFilterEvent",function(){return o.reInitData()}),t.k0s()(),t.j41(5,"div",3),t.DNE(6,wk,16,26,"div",4)(7,Fk,3,3,"div",5)(8,Ek,5,4,"div",6),t.k0s()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),t.R7$(2),t.Y8G("filterType","exam"),t.R7$(2),t.Y8G("ngForOf",o.examObjs),t.R7$(),t.Y8G("ngIf",0==o.examObjs.length&&!o.hasNextPage),t.R7$(),t.Y8G("ngIf",o.examObjs.length>0&&o.hasNextPage))},dependencies:[ya,fn.D,Y.K,_.MD,_.YU,_.Sq,_.bT,_.B3,m.X1,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f.bH,f.Xc,x.Id,I.k],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),s})();function Mk(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Nk(n,s){if(1&n&&(t.j41(0,"mat-option",23),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id+"-"+i.studentId),t.R7$(),t.SpI(" ",i.name," ")}}function Gk(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",17)(1,"mat-form-field",18)(2,"mat-select",19,3),t.bIt("selectionChange",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.selectedClassroom(o))}),t.j41(4,"mat-option"),t.nrm(5,"ngx-mat-select-search",20),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"mat-option",21),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,Nk,2,2,"mat-option",22),t.k0s()()()}if(2&n){const i=t.sdS(3),e=t.XpG(2);t.R7$(2),t.Y8G("formControl",e.select),t.R7$(3),t.FS9("placeholderLabel",t.bMT(6,8,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(7,10,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value","")("disabled",!0),t.R7$(),t.SpI("---",t.bMT(10,12,"lang_auto_chon_lop"),"---"),t.R7$(2),t.Y8G("ngForOf",i.filter(e.classroomList,"name"))}}function Dk(n,s){if(1&n&&(t.j41(0,"div",24),t.nrm(1,"azt-detail-attendance",25),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("studentId",i.studentId)("isTeacherRole",i.isTeacherDashboard)("selectClassroomId",i.classroomId)("classroomList",i.classroomList)}}function $k(n,s){if(1&n&&(t.j41(0,"div",24)(1,"p",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"azt-detail-tuition-fee",27),t.k0s()),2&n){const i=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"lang_student_tuition_fee_info")),t.R7$(2),t.Y8G("studentId",i.studentId)}}function zk(n,s){if(1&n&&(t.j41(0,"div",24)(1,"p",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"azt-detail-book-distribution",27),t.k0s()),2&n){const i=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"lang_student_book_distribution_info")),t.R7$(2),t.Y8G("studentId",i.studentId)}}function Pk(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h3",8),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Gk,12,14,"div",9),t.k0s(),t.j41(6,"div",10)(7,"azt-detail-account-student",11),t.bIt("reInitComponentEvent",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.reInitOtherComponent())}),t.k0s(),t.j41(8,"div",12)(9,"div",13),t.nrm(10,"azt-student-profile-list-exams",14,1),t.k0s(),t.j41(12,"div",13),t.nrm(13,"azt-student-profile-list-homeworks",15,2),t.k0s()(),t.DNE(15,Dk,2,4,"div",16)(16,$k,5,4,"div",16)(17,zk,5,4,"div",16),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,21,"lang_student_classroom_profile_student")," "),t.R7$(2),t.Y8G("ngIf",!i.isTqbDomain),t.R7$(2),t.Y8G("studentObj",i.studentObj)("classroomObj",i.classroomObj)("classroomList",i.classroomList)("classroomId",i.classroomId)("backToLink",i.backToLink)("paramBackToLink",i.paramBackToLink)("isTeacher",i.isTeacherDashboard),t.R7$(3),t.Y8G("studentId",i.studentId)("isTeacher",i.isTeacherDashboard)("classroomId",i.classroomId)("backToLink",i.backToLink)("classroomList",i.classroomList),t.R7$(3),t.Y8G("studentId",i.studentId)("isTeacher",i.isTeacherDashboard)("classroomId",i.classroomId)("backToLink",i.backToLink),t.R7$(2),t.Y8G("ngIf",i.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.isTqbDomain)}}let Ak=(()=>{var n;class s extends O.H{reInitOtherComponent(e){this.listExam?.reInitData(),this.listHomework?.reInitData(),e&&this.getData()}selectedClassroom(e){let o=e.value.split("-")[0],a=e.value.split("-")[1],r=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+o+"/"+a,r?"?backTo="+encodeURIComponent(r):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(o=>{1==o.success?(o.data?.studentObj&&o.data?.classroomObj&&o.data.classroomObj.permissionObj&&(this.studentObj=o.data.studentObj,this.classroomObj=o.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(e){super(),this.studentProfileV2Service=e,this.select=new m.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.m_))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-student-profile"]],viewQuery:function(e,o){if(1&e&&(t.GBs(Hi,5),t.GBs(Hi,5)),2&e){let a;t.mGM(a=t.lsd())&&(o.listExam=a.first),t.mGM(a=t.lsd())&&(o.listHomework=a.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["listExam",""],["listHomework",""],["searchInListClassroom","searchInList"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],["class","ml-5 box","style","font-size: 12px",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"reInitComponentEvent","studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink","classroomList"],[3,"studentId","isTeacher","classroomId","backToLink"],["class","mt-5",4,"ngIf"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["searchInList","","name","classroom",3,"selectionChange","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId","classroomList"],[1,"mb-3","text-base","font-medium"],[3,"studentId"]],template:function(e,o){if(1&e&&t.DNE(0,Mk,1,1,"azt-loading-effect",4)(1,Pk,18,23,"ng-template",null,0,t.C5r),2&e){const a=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[we.An,we.U9,zi.x,Y.K,Gv,Hi,bk,Wv,ok,Kv,_.MD,_.Sq,_.bT,m.X1,m.BC,m.l_,b.iI,m.YN,f.wp,S.s,at.wT,mt.rl,ge.VO,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})();function Lk(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Yk(n,s){if(1&n&&(t.nrm(0,"azt-student-profile",4),t.j41(1,"div",5)(2,"p",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"app-scoreboard",7),t.k0s()),2&n){const i=t.XpG();t.Y8G("studentId",i.studentId)("select",i.select)("classroomId",i.classroomId)("backToLink",i.backToLink)("paramBackToLink",i.paramBackToLink)("classroomList",i.classroomList)("isTeacherDashboard",!0),t.R7$(3),t.JRh(t.bMT(4,11,"lang_student_academic_results_report")),t.R7$(2),t.Y8G("classroomId",i.classroomId)("studentId",i.studentId)("isStudent",!1)}}function Vk(n,s){1&n&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Xk(n,s){1&n&&t.nrm(0,"azt-loading-ui",18)}function Uk(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",19),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Hk(n,s){1&n&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Jk(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td",29),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(o.classroomId,o.id))}),t.nrm(2,"azt-student-info-box",30),t.k0s(),t.j41(3,"td",31),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",32)(7,"div",33)(8,"span"),t.EFF(9),t.nI1(10,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.j41(11,"td",32)(12,"form",34)(13,"textarea",35),t.nI1(14,"mytranslate"),t.bIt("change",function(){const o=t.eBV(i).$implicit;return t.Njj(o.commentControl.controls.isEdited.setValue(!0))}),t.k0s()()(),t.j41(15,"td",32)(16,"span",36,1),t.nI1(18,"mytranslate"),t.bIt("click",function(){const o=t.eBV(i).$implicit,a=t.XpG(3);return t.Njj(a.showAllComment(o))}),t.nrm(19,"lucide-icon",37),t.k0s()()()}if(2&n){const i=s.$implicit,e=t.sdS(17),o=t.XpG(3);t.R7$(2),t.Y8G("name",i.fullName)("avatar",i.avatar)("gender",i.gender)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt)("phone",i.phone)("identificationNumber",i.identificationNumber),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,20,i.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(5),t.SpI(" ",t.bMT(10,23,i.commentControl.controls.updatedAt.value)," "),t.R7$(3),t.Y8G("formGroup",i.commentControl),t.R7$(),t.FS9("placeholder",t.bMT(14,25,"lang_auto_nhap_nhan_xet")),t.Y8G("id","add_comment_"+i.id),t.R7$(3),t.FS9("matTooltip",t.bMT(18,27,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled)}}function Wk(n,s){if(1&n&&(t.j41(0,"div",23)(1,"table",24)(2,"thead")(3,"tr")(4,"th",25),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",26),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",27),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",27),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"th",27),t.k0s()(),t.j41(17,"tbody"),t.DNE(18,Jk,20,29,"tr",28),t.k0s()()()),2&n){const i=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(12,9,"lang_student_add_comment_date")),t.R7$(3),t.JRh(t.bMT(15,11,"lang_student_add_comment")),t.R7$(4),t.Y8G("ngForOf",i.listStudent)}}function qk(n,s){if(1&n&&t.DNE(0,Hk,3,3,"div",20)(1,Wk,19,13,"div",21),2&n){const i=t.XpG();t.Y8G("ngIf",0==i.listStudent.length&&0==i.totalStudent),t.R7$(),t.Y8G("ngIf",i.listStudent.length>0)}}function Qk(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",41),t.bIt("goToPaginationPage",function(o){t.eBV(i);const a=t.XpG(2);return t.Njj(a.setPageStudent(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("pageObj",i.pageObj)}}function Zk(n,s){if(1&n&&(t.j41(0,"div",38),t.nrm(1,"div"),t.DNE(2,Qk,1,1,"azt-paging",39),t.j41(3,"div",40),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(2),t.Lme("",i.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}const tx=[{path:"",component:lv,canActivate:[ke.t],children:[{path:"merge-student/:id",component:vv},{path:"profile-student/:classroom_id/:id",component:(()=>{var n;class s extends O.H{getCombinedClassroomData(){this.initStatusObj();const e=this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId),o=this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0});this.waitDestroy((0,bn.p)([e,o]).subscribe(([a,r])=>{if(!a.success||!r.success)return this.errorStatusObj(a.message||r.message,!0);this.classroomList=a.data?.objs??[],this.classroomList.find(l=>l.id+"-"+l.studentId===this.select.value)||this.select.setValue(""),r.data?.studentObj&&r.data?.classroomObj&&r.data.classroomObj.permissionObj&&(this.classroomObj=r.data.classroomObj),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"classroom_id"),o=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(e||"",10),this.studentId=parseInt(o||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??`/admin/student/classroom-details/${this.classroomId}/0`,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getCombinedClassroomData()}))}constructor(e,o,a){super(),this.sAztDialogService=e,this.activeRoute=o,this.studentProfileV2Service=a,this.select=new m.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Q.i),t.rXU(b.nX),t.rXU(dt.m_))},n.\u0275cmp=t.VBU({type:n,selectors:[["student-profile"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"classroomId","studentId","isStudent"]],template:function(e,o){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,Lk,1,1,"azt-loading-effect",2)(2,Yk,6,13,"ng-template",null,0,t.C5r),t.k0s()),2&e){const a=t.sdS(3);t.Y8G("headerBackToLink",o.paramBackToLink),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[St.Q,Y.K,Ak,ha,_.MD,_.bT,m.X1,b.iI,m.YN,f.wp,S.s,h.flO,y.L,x.Id,I.k],encapsulation:2}),s})()},{path:"manage-classroom/:id",component:rv},{path:"classroom-details/:id/:tabId",component:_2},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:I2},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{var n;class s extends O.H{goToProfile(e,o){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+o,"?backto="+encodeURIComponent("/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(e){var o="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,a="?page="+e+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(o,a),this.initStatusObj(),this.pageObj.setPageNumber(e),this.getListStudent()}onSearchBox(e){this.searchContentObj=e,this.setPageStudent(1)}showAllComment(e){this.sAztDialogService.open(da,{width:"700px",restoreFocus:!1,data:{student:e,isTeacher:!0}}).afterClosed().subscribe(o=>{o&&this.getListStudent()})}countChangedComment(){let e=0;return this.listStudent.forEach(o=>{o.commentControl.controls.isEdited.value&&!o.commentControl.controls.comment.value&&e++}),1==e}saveComment(){this.isSave=!0;let e=this.listStudent.filter(a=>a.commentControl.controls.isEdited.value&&a.commentControl.controls.comment.value).map(a=>({id:0,studentId:a.id,comment:a.commentControl.controls.comment.value}))??[],o={classroomId:this.classroomId,studentAssessments:e};if(0==e.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(o).subscribe(a=>{a.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(o=>{o?(this.listStudent=[],o.list.forEach(a=>{let r=this.sAztAssessmentStudentService.getLastAssessmentStudent(a);this.listStudent.push({...a,commentControl:new m.gE({id:new m.MJ(0,{nonNullable:!0}),updatedAt:new m.MJ(r?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new m.MJ(r?.comment??"",{nonNullable:!0}),isEdited:new m.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(a.assessments),editComment:!1})}),this.totalStudent=o.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let e=this.commonService.getMyQueryParam("backto");this.backToLink=e||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(e,o,a,r){super(),this.sAztAssessmentStudentService=e,this.activeRoute=o,this.studentService=a,this.sAztDialogService=r,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new Dt.Z,this.pageObj=new Jt.d(20)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Bi),t.rXU(b.nX),t.rXU(re.b),t.rXU(Q.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-add-student-comment"]],standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:19,consts:[["doneLoading",""],["c","isDisabled"],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","searchContentObj","placeholder"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-1"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change","id","placeholder"],[1,"mr-2","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"goToPaginationPage","pageObj"]],template:function(e,o){if(1&e){const a=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Vk,3,3,"div",6),t.k0s(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"azt-search-box",10),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(l){return t.eBV(a),t.Njj(o.onSearchBox(l.searchObj))}),t.k0s()(),t.j41(12,"flexed-on-the-top",11)(13,"button",12),t.bIt("click",function(){return t.eBV(a),t.Njj(o.saveComment())}),t.DNE(14,Xk,1,0,"azt-loading-ui",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",14),t.DNE(18,Uk,1,1,"azt-loading-effect",15)(19,qk,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(21,Zk,6,5,"div",16),t.k0s()}if(2&e){const a=t.sdS(20);t.Y8G("headerBackToLink",o.backToLink),t.R7$(4),t.JRh(t.bMT(5,13,"lang_student_assessment_student")),t.R7$(2),t.Y8G("ngIf",o.isMobileDevice&&o.listStudent.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("searchContentObj",o.searchContentObj)("placeholder",t.bMT(11,15,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",o.isSave||o.countChangedComment()),t.R7$(),t.Y8G("ngIf",o.isSave),t.R7$(),t.SpI(" ",t.bMT(16,17,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",a),t.R7$(3),t.Y8G("ngIf",o.totalStudent>0)}},dependencies:[Te.f,St.Q,It.W,Hn.$,$.R,Y.K,kt.B,ee.q,_.MD,_.Sq,_.bT,m.X1,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,b.iI,m.YN,f.wp,S.s,B.oV,h.flO,h.WGl,y.L,f.Po,f.vv,x.Id,I.k,ae.t],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),s})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:L2},{path:"submit-score/:classroom_id/:program_id/:session_id",component:Y2},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let ex=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[b.iI.forChild(tx),b.iI,ve.XE]}),s})()},11002:(Ji,be,p)=>{p.d(be,{$:()=>t});var b=p(59640),ve=p(54460),ke=p(10936),ct=p(65162),O=p(44155),St=p(15343),J=p(70050),_=p(5502),m=p(36894),pt=p(48891);const h=["*"];let t=(()=>{var Gt;class xe extends b.H{constructor(){super(...arguments),this.colorBackground="",this.defaultHeight="45px",this.fixToTopWidth=0,this.fixToTopTop=0}onWindowScroll(){let X=document.querySelector(".azt-content"),F=document.getElementById("flexed-on-top"),x=document.getElementById("position-dev")?.getBoundingClientRect();if(!X||!F||!x)return;let vt=window.pageYOffset,ft=x.top,st=ft<-50;if(this.fixToTopWidth=x.width,this.fixToTopTop=x.top,st){F.style.position="fixed",F.style.zIndex="9999",F.style.height=this.defaultHeight,F.style.right=this.isMobileWebView?"0":"12px",F.style.background=this.colorBackground,F.style.justifyContent="end";let Ce=X.getBoundingClientRect().width;this.isMobileDevice?(F.style.top="62px",F.style.padding="6px 15px",F.style.width=(Ce+32).toString()+"px"):(F.style.top="0",F.style.padding="6px 22px",F.style.width=(Ce+44).toString()+"px")}else(0==vt||0==ft)&&(F.style.position="",F.style.top="",F.style.right="",F.style.zIndex="",F.style.height="",F.style.padding="",F.style.background="",F.style.width="",F.style.justifyContent="")}}return(Gt=xe).\u0275fac=(()=>{let W;return function(F){return(W||(W=pt.xGo(Gt)))(F||Gt)}})(),Gt.\u0275cmp=pt.VBU({type:Gt,selectors:[["flexed-on-the-top"]],hostBindings:function(X,F){1&X&&pt.bIt("scroll",function(vt){return F.onWindowScroll(vt)},!1,pt.tSv)},inputs:{colorBackground:"colorBackground",defaultHeight:"defaultHeight"},standalone:!0,features:[pt.Vt3,pt.aNF],ngContentSelectors:h,decls:3,vars:0,consts:[["id","position-dev"],["id","flexed-on-top",1,"flex","flexed-on-top"]],template:function(X,F){1&X&&(pt.NAR(),pt.nrm(0,"div",0),pt.j41(1,"div",1),pt.SdG(2),pt.k0s())},dependencies:[ve.MD,ke.X1,ct.iI,ke.YN,O.s,St.flO,J.L,_.Id,m.k],encapsulation:2}),xe})()},75421:(Ji,be,p)=>{p.d(be,{u:()=>X});var b=p(10936),ve=p(89163),ke=p(33887),ct=p(54460),O=p(65162),St=p(47348),J=p(44155),_=p(15343),m=p(70050),pt=p(5502),h=p(36894),t=p(48891);const Gt=()=>({"mr-2 text-danger":!0});function xe(F,x){if(1&F&&t.nrm(0,"lucide-icon",10),2&F){const vt=t.XpG();t.Y8G("name",vt.data.iconName)("ngClass",t.lJ4(2,Gt))}}function W(F,x){if(1&F&&(t.j41(0,"div",11)(1,"div",3)(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"b"),t.EFF(6),t.k0s(),t.j41(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",12),t.nrm(11,"input",13),t.k0s()()),2&F){const vt=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"lang_azt_enter")+" "),t.R7$(3),t.JRh('"'+vt.data.textConfirm+'" '),t.R7$(2),t.JRh(t.bMT(9,6,"lang_azt_for_delete_data")),t.R7$(3),t.Y8G("formControl",vt.confirmValue)}}let X=(()=>{var F;class x extends ke._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(ft,st){super(st,ft),this.dialogRef=ft,this.data=st,this.confirmValue=new b.MJ("",{nonNullable:!0})}}return(F=x).\u0275fac=function(ft){return new(ft||F)(t.rXU(ve.CP,8),t.rXU(ve.Vh,8))},F.\u0275cmp=t.VBU({type:F,selectors:[["azt-dialog-danger"]],standalone:!0,features:[t.Vt3,t.aNF],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(ft,st){1&ft&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.DNE(4,xe,1,3,"lucide-icon",4),t.nrm(5,"span",5),t.k0s(),t.DNE(6,W,12,8,"div",6),t.k0s()(),t.j41(7,"div",7)(8,"button",8),t.bIt("click",function(){return st.btnCloseDialog()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"button",9),t.bIt("click",function(){return st.confirmDialog()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()),2&ft&&(t.R7$(4),t.Y8G("ngIf",st.data.iconName),t.R7$(),t.Y8G("innerHtml",st.data.content,t.npT),t.R7$(),t.Y8G("ngIf",st.data.textConfirm),t.R7$(3),t.SpI(" ",t.bMT(10,6,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",st.data.textConfirm&&st.data.textConfirm!==st.confirmValue.value),t.R7$(),t.SpI(" ",t.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[ct.MD,ct.YU,ct.bT,b.X1,b.me,b.BC,b.l_,O.iI,b.YN,St.wp,J.s,_.flO,_.WGl,m.L,pt.Id,h.k],encapsulation:2}),x})()}}]);