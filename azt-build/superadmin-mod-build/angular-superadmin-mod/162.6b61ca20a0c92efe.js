(self.webpackChunkSuperadminMod=self.webpackChunkSuperadminMod||[]).push([[162],{36876:(ne,o,k)=>{"use strict";k.d(o,{q:()=>d});var i=k(14042),U=k(60177),r=k(93953),W=k(89417),F=k(32108),D=k(83409),S=k(89819),V=k(98697),X=k(51451),$=k(8516),c=k(11782),H=k(46412),_=k(95506);const M=y=>({active:y}),m=y=>[y];function P(y,z){if(1&y){const A=r.RV6();r.j41(0,"li",5)(1,"a",6),r.bIt("click",function(){r.eBV(A);const G=r.XpG(2);return r.Njj(G.clickPage(G.page-1))}),r.j41(2,"span",7),r.EFF(3,"\xab"),r.k0s(),r.j41(4,"span",8),r.EFF(5,"Previous"),r.k0s()()()}}function L(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",13),r.nI1(1,"navigationLocalize"),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(2),r.k0s()}if(2&y){const A=r.XpG().$implicit,N=r.XpG(3);r.Y8G("routerLink",r.eq3(5,m,r.bMT(1,3,N.linkPage)))("queryParams",N.eventSearchHandle(A)),r.R7$(2),r.JRh(A)}}function C(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",14),r.nI1(1,"navigationLocalize"),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(2),r.k0s()}if(2&y){const A=r.XpG().$implicit,N=r.XpG(3);r.Y8G("routerLink",r.eq3(5,m,r.bMT(1,3,N.linkPage)))("queryParams",N.eventSearchHandle(A)),r.R7$(2),r.JRh(A)}}function n(y,z){if(1&y&&(r.j41(0,"li",10),r.DNE(1,L,3,7,"a",11)(2,C,3,7,"a",12),r.k0s()),2&y){const A=z.$implicit,N=r.XpG(3);r.Y8G("ngClass",r.eq3(3,M,N.page==A)),r.R7$(),r.Y8G("ngIf",N.page==A),r.R7$(),r.Y8G("ngIf",N.page!=A&&A<=N.page+3&&A>=N.page-3)}}function t(y,z){if(1&y&&(r.qex(0),r.DNE(1,n,3,5,"li",9),r.bVm()),2&y){const A=r.XpG(2);r.R7$(),r.Y8G("ngForOf",A.pageObj.arrayPag)}}function g(y,z){if(1&y){const A=r.RV6();r.j41(0,"li",5)(1,"a",17),r.nI1(2,"navigationLocalize"),r.bIt("click",function(){r.eBV(A);const G=r.XpG(3);return r.Njj(G.clickPage(1))}),r.EFF(3,"1"),r.k0s()()}if(2&y){const A=r.XpG(3);r.R7$(),r.Y8G("routerLink",r.eq3(4,m,r.bMT(2,2,A.linkPage)))("queryParams",A.eventSearchHandle(1))}}function x(y,z){1&y&&(r.j41(0,"a",18),r.EFF(1,"..."),r.k0s())}function u(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",20),r.nI1(1,"navigationLocalize"),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(2),r.k0s()}if(2&y){const A=r.XpG().$implicit,N=r.XpG(3);r.Y8G("routerLink",r.eq3(5,m,r.bMT(1,3,N.linkPage)))("queryParams",N.eventSearchHandle(A)),r.R7$(2),r.JRh(A)}}function E(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",14),r.nI1(1,"navigationLocalize"),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(2),r.k0s()}if(2&y){const A=r.XpG().$implicit,N=r.XpG(3);r.Y8G("routerLink",r.eq3(5,m,r.bMT(1,3,N.linkPage)))("queryParams",N.eventSearchHandle(A)),r.R7$(2),r.JRh(A)}}function v(y,z){if(1&y&&(r.j41(0,"li",10),r.DNE(1,u,3,7,"a",19)(2,E,3,7,"a",12),r.k0s()),2&y){const A=z.$implicit,N=r.XpG(3);r.Y8G("ngClass",r.eq3(3,M,N.page==A)),r.R7$(),r.Y8G("ngIf",N.page==A),r.R7$(),r.Y8G("ngIf",N.page!=A&&A<N.page+3&&A>=N.page-1)}}function h(y,z){1&y&&(r.j41(0,"span",18),r.EFF(1,"..."),r.k0s())}function T(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",21),r.nI1(1,"navigationLocalize"),r.bIt("click",function(){r.eBV(A);const G=r.XpG(3);return r.Njj(G.clickPage(G.pageObj.totalPaginationPage))}),r.EFF(2),r.k0s()}if(2&y){const A=r.XpG(3);r.Y8G("routerLink",r.eq3(5,m,r.bMT(1,3,A.linkPage)))("queryParams",A.eventSearchHandle(A.pageObj.totalPaginationPage)),r.R7$(2),r.SpI(" ",A.pageObj.totalPaginationPage," ")}}function O(y,z){if(1&y&&(r.qex(0),r.DNE(1,g,4,6,"li",3),r.j41(2,"li",5),r.DNE(3,x,2,0,"a",15),r.k0s(),r.DNE(4,v,3,5,"li",9),r.j41(5,"li",5),r.DNE(6,h,2,0,"span",15),r.k0s(),r.j41(7,"li",5),r.DNE(8,T,3,7,"a",16),r.k0s(),r.bVm()),2&y){const A=r.XpG(2);r.R7$(),r.Y8G("ngIf",A.page>=3),r.R7$(2),r.Y8G("ngIf",A.page>=4),r.R7$(),r.Y8G("ngForOf",A.pageObj.arrayPag),r.R7$(2),r.Y8G("ngIf",A.page<A.pageObj.totalPaginationPage-3),r.R7$(2),r.Y8G("ngIf",A.page<A.pageObj.totalPaginationPage-2)}}function j(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",24),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(1),r.k0s()}if(2&y){const A=r.XpG().$implicit;r.R7$(),r.JRh(A)}}function Y(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",25),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(1),r.k0s()}if(2&y){const A=r.XpG().$implicit;r.R7$(),r.JRh(A)}}function J(y,z){if(1&y&&(r.j41(0,"li",10),r.DNE(1,j,2,1,"a",22)(2,Y,2,1,"a",23),r.k0s()),2&y){const A=z.$implicit,N=r.XpG(3);r.Y8G("ngClass",r.eq3(3,M,N.page==A)),r.R7$(),r.Y8G("ngIf",N.page==A),r.R7$(),r.Y8G("ngIf",N.page!=A&&A<=N.page+3&&A>=N.page-3)}}function Q(y,z){if(1&y&&(r.qex(0),r.DNE(1,J,3,5,"li",9),r.bVm()),2&y){const A=r.XpG(2);r.R7$(),r.Y8G("ngForOf",A.pageObj.arrayPag)}}function he(y,z){if(1&y){const A=r.RV6();r.j41(0,"li",5)(1,"a",27),r.bIt("click",function(){r.eBV(A);const G=r.XpG(3);return r.Njj(G.clickPage(1))}),r.EFF(2,"1"),r.k0s()()}}function pe(y,z){1&y&&(r.j41(0,"a",18),r.EFF(1,"..."),r.k0s())}function fe(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",29),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(1),r.k0s()}if(2&y){const A=r.XpG().$implicit;r.R7$(),r.JRh(A)}}function R(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",25),r.bIt("click",function(){r.eBV(A);const G=r.XpG().$implicit,oe=r.XpG(3);return r.Njj(oe.clickPage(G))}),r.EFF(1),r.k0s()}if(2&y){const A=r.XpG().$implicit;r.R7$(),r.JRh(A)}}function a(y,z){if(1&y&&(r.j41(0,"li",10),r.DNE(1,fe,2,1,"a",28)(2,R,2,1,"a",23),r.k0s()),2&y){const A=z.$implicit,N=r.XpG(3);r.Y8G("ngClass",r.eq3(3,M,N.page==A)),r.R7$(),r.Y8G("ngIf",N.page==A),r.R7$(),r.Y8G("ngIf",N.page!=A&&A<N.page+3&&A>=N.page-1)}}function e(y,z){1&y&&(r.j41(0,"span",18),r.EFF(1,"..."),r.k0s())}function s(y,z){if(1&y){const A=r.RV6();r.j41(0,"a",30),r.bIt("click",function(){r.eBV(A);const G=r.XpG(3);return r.Njj(G.clickPage(G.pageObj.totalPaginationPage))}),r.EFF(1),r.k0s()}if(2&y){const A=r.XpG(3);r.R7$(),r.JRh(A.pageObj.totalPaginationPage)}}function l(y,z){if(1&y&&(r.qex(0),r.DNE(1,he,3,0,"li",3),r.j41(2,"li",5),r.DNE(3,pe,2,0,"a",15),r.k0s(),r.DNE(4,a,3,5,"li",9),r.j41(5,"li",5),r.DNE(6,e,2,0,"span",15),r.k0s(),r.j41(7,"li",5),r.DNE(8,s,2,1,"a",26),r.k0s(),r.bVm()),2&y){const A=r.XpG(2);r.R7$(),r.Y8G("ngIf",A.page>=3),r.R7$(2),r.Y8G("ngIf",A.page>=4),r.R7$(),r.Y8G("ngForOf",A.pageObj.arrayPag),r.R7$(2),r.Y8G("ngIf",A.page<A.pageObj.totalPaginationPage-3),r.R7$(2),r.Y8G("ngIf",A.page<A.pageObj.totalPaginationPage-2)}}function f(y,z){if(1&y){const A=r.RV6();r.j41(0,"li",5)(1,"a",31),r.bIt("click",function(){r.eBV(A);const G=r.XpG(2);return r.Njj(G.clickPage(G.page+1))}),r.j41(2,"span",7),r.EFF(3,"\xbb"),r.k0s(),r.j41(4,"span",8),r.EFF(5,"Next"),r.k0s()()()}}function p(y,z){if(1&y&&(r.j41(0,"nav",1)(1,"ul",2),r.DNE(2,P,6,0,"li",3)(3,t,2,1,"ng-container",4)(4,O,9,5,"ng-container",4)(5,Q,2,1,"ng-container",4)(6,l,9,5,"ng-container",4)(7,f,6,0,"li",3),r.k0s()()),2&y){const A=r.XpG();r.R7$(2),r.Y8G("ngIf",A.page>1),r.R7$(),r.Y8G("ngIf",A.pageObj.totalPaginationPage<=4&&"report_error"==A.screen),r.R7$(),r.Y8G("ngIf",A.pageObj.totalPaginationPage>4&&"report_error"==A.screen),r.R7$(),r.Y8G("ngIf",A.pageObj.totalPaginationPage<=4&&"report_error"!=A.screen),r.R7$(),r.Y8G("ngIf",A.pageObj.totalPaginationPage>4&&"report_error"!=A.screen),r.R7$(),r.Y8G("ngIf",A.pageObj.totalPaginationPage>A.page&&A.pageObj.totalPaginationPage>=2)}}let d=(()=>{var y;class z extends X.H{constructor(...N){super(...N),(0,i.A)(this,"pageObj",new _.d(10)),(0,i.A)(this,"screen",""),(0,i.A)(this,"eventSearch",void 0),(0,i.A)(this,"linkPage",""),(0,i.A)(this,"goToPaginationPage",new r.bkB),(0,i.A)(this,"page",1)}eventSearchHandle(N){return""!=this.eventSearch?.userPhone&&""==this.eventSearch?.userId&&""==this.eventSearch?.urls?{page:N,userPhone:this.eventSearch?.userPhone}:""==this.eventSearch?.userPhone&&""!=this.eventSearch?.userId&&""==this.eventSearch?.urls?{page:N,userId:Number(this.eventSearch?.userId)}:""==this.eventSearch?.userPhone&&""==this.eventSearch?.userId&&""!=this.eventSearch?.urls?{page:N,urls:this.eventSearch?.urls}:""!=this.eventSearch?.userPhone&&""!=this.eventSearch?.userId&&""==this.eventSearch?.urls?{page:N,userPhone:this.eventSearch?.userPhone,userId:Number(this.eventSearch?.userId)}:""!=this.eventSearch?.userPhone&&""==this.eventSearch?.userId&&""!=this.eventSearch?.urls?{page:N,userPhone:this.eventSearch?.userPhone,urls:this.eventSearch?.urls}:""==this.eventSearch?.userPhone&&""!=this.eventSearch?.userId&&""!=this.eventSearch?.urls?{page:N,userId:Number(this.eventSearch?.userId),urls:this.eventSearch?.urls}:""==this.eventSearch?.userPhone&&""==this.eventSearch?.userId&&""==this.eventSearch?.urls?{page:N}:""!=this.eventSearch?.userPhone&&""!=this.eventSearch?.userId&&""!=this.eventSearch?.urls?{page:N,userPhone:this.eventSearch?.userPhone,userId:Number(this.eventSearch?.userId),urls:this.eventSearch?.urls}:void 0}clickPage(N){this.page=N,this.goToPaginationPage.emit(N)}ngOnInit(){this.pageObj.arrayPag=[],this.page=this.pageObj.page??0,this.pageObj.arrayPage(),super.ngOnInit()}ngOnChanges(){this.pageObj.arrayPag=[],this.page=this.pageObj.page??0,this.pageObj.arrayPage()}}return y=z,(0,i.A)(z,"\u0275fac",(()=>{let A;return function(G){return(A||(A=r.xGo(y)))(G||y)}})()),(0,i.A)(z,"\u0275cmp",r.VBU({type:y,selectors:[["azt-paging"]],inputs:{pageObj:"pageObj",screen:"screen",eventSearch:"eventSearch",linkPage:"linkPage"},outputs:{goToPaginationPage:"goToPaginationPage"},standalone:!0,features:[r.Vt3,r.OA$,r.aNF],decls:1,vars:1,consts:[["class","inline-block",4,"ngIf"],[1,"inline-block"],[1,"pagination"],["class","page-item",4,"ngIf"],[4,"ngIf"],[1,"page-item"],["azt-track-service","azt-paging-rX0eXqN4qW","aria-label","Previous",1,"page-link","zoom-in",3,"click"],["aria-hidden","true"],[1,"sr-only"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],["azt-track-service","azt-paging-Vt48iF7KWz","class","page-link zoom-in",3,"routerLink","queryParams","click",4,"ngIf"],["class","page-link zoom-in",3,"routerLink","queryParams","click",4,"ngIf"],["azt-track-service","azt-paging-Vt48iF7KWz",1,"page-link","zoom-in",3,"click","routerLink","queryParams"],[1,"page-link","zoom-in",3,"click","routerLink","queryParams"],["class","page-link zoom-in",4,"ngIf"],["azt-track-service","azt-paging-8E_Z21XPV1","class","page-link zoom-in",3,"routerLink","queryParams","click",4,"ngIf"],["azt-track-service","azt-paging-SXAS3r66ZG",1,"page-link","zoom-in",3,"click","routerLink","queryParams"],[1,"page-link","zoom-in"],["azt-track-service","azt-paging-_MTfjoX-Or","class","page-link zoom-in",3,"routerLink","queryParams","click",4,"ngIf"],["azt-track-service","azt-paging-_MTfjoX-Or",1,"page-link","zoom-in",3,"click","routerLink","queryParams"],["azt-track-service","azt-paging-8E_Z21XPV1",1,"page-link","zoom-in",3,"click","routerLink","queryParams"],["azt-track-service","azt-paging-sdAfPVcahq","class","page-link zoom-in",3,"click",4,"ngIf"],["class","page-link zoom-in",3,"click",4,"ngIf"],["azt-track-service","azt-paging-sdAfPVcahq",1,"page-link","zoom-in",3,"click"],[1,"page-link","zoom-in",3,"click"],["azt-track-service","azt-paging-L-1rQPYpcp","class","page-link zoom-in",3,"click",4,"ngIf"],["azt-track-service","azt-paging-U-yHiMo-V7",1,"page-link","zoom-in",3,"click"],["azt-track-service","azt-paging-bk-6smj4RZ","class","page-link zoom-in",3,"click",4,"ngIf"],["azt-track-service","azt-paging-bk-6smj4RZ",1,"page-link","zoom-in",3,"click"],["azt-track-service","azt-paging-L-1rQPYpcp",1,"page-link","zoom-in",3,"click"],["azt-track-service","azt-paging-RU-mjdPzDz","aria-label","Next",1,"page-link","zoom-in",3,"click"]],template:function(N,G){1&N&&r.DNE(0,p,8,6,"nav",0),2&N&&r.Y8G("ngIf",G.pageObj.totalPaginationPage&&G.pageObj.totalPaginationPage>1)},dependencies:[S.F2,U.MD,U.YU,U.Sq,U.bT,W.X1,F.iI,F.Wk,W.YN,H.s,$.flO,V.L,c.Id,D.k],encapsulation:2})),z})()},95506:(ne,o,k)=>{"use strict";k.d(o,{d:()=>U});var i=k(14042);class U{constructor(W){(0,i.A)(this,"totalPaginationPage",0),(0,i.A)(this,"page",1),(0,i.A)(this,"arrayPag",[]),(0,i.A)(this,"pageSize",void 0),this.pageSize=W}arrayPage(){for(let W=1;W<=(this.totalPaginationPage??0);W++)this.arrayPag.push(W)}setTotalPages(W){return this.totalPaginationPage=W%this.pageSize>0?(W-W%this.pageSize)/this.pageSize+1:W>0?W/this.pageSize:1,this.page>this.totalPaginationPage&&(this.page=this.totalPaginationPage),this.totalPaginationPage}setPageNumber(W){return this.page=W,this.page}getViewObjsOfCurrentPage(W){return W.slice((this.page-1)*this.pageSize,this.page*this.pageSize)}}},47817:(ne,o,k)=>{"use strict";k.d(o,{V:()=>ae});var i=k(14042),U=k(60177),r=k(89417),W=k(34006),F=k(32108),D=k(81174),S=k(83409),V=k(89819),X=k(98697),$=k(99939),c=k(93953),H=k(51451),_=k(8516),M=k(11782),m=k(46412);let P=(()=>{var I;class re extends H.H{constructor(...te){super(...te),(0,i.A)(this,"cdnLink",void 0),(0,i.A)(this,"audioMimesType",""),(0,i.A)(this,"loadedEvent",new c.bkB)}onLoad(){setTimeout(()=>{this.loadedEvent.emit(!0)},0)}}return I=re,(0,i.A)(re,"\u0275fac",(()=>{let B;return function(de){return(B||(B=c.xGo(I)))(de||I)}})()),(0,i.A)(re,"\u0275cmp",c.VBU({type:I,selectors:[["azt-audio-embed"]],inputs:{cdnLink:"cdnLink",audioMimesType:"audioMimesType"},outputs:{loadedEvent:"loadedEvent"},standalone:!0,features:[c.Vt3,c.aNF],decls:3,vars:2,consts:[["controls",""],[3,"load","src"]],template:function(te,de){1&te&&(c.j41(0,"audio",0)(1,"source",1),c.bIt("load",function(){return de.onLoad()}),c.k0s(),c.EFF(2," Your browser does not support the audio element.\n"),c.k0s()),2&te&&(c.R7$(),c.Y8G("src",de.cdnLink,c.B4B),c.BMQ("type",de.audioMimesType))},dependencies:[U.MD,r.X1,F.iI,r.YN,m.s,_.flO,X.L,M.Id,S.k],encapsulation:2})),re})();var L=k(45312),C=k(64283);let n=(()=>{var I;class re{constructor(te){(0,i.A)(this,"configService",void 0),this.configService=te}getCurrentVersion(){return L.c.versionTime}getGlobalNotice(){return this.configService.getConfig("globalNotice")}getEnvValue(te){return this.configService.getConfig(te)}getLinkEmbedDocument(te){var de=this.configService.getConfig("docView");return de&&"MICROSOFT"!=de?`https://docs.google.com/viewer?url=${te}&embedded=true`:`https://view.officeapps.live.com/op/embed.aspx?src=${te}`}getVersionMarkNote(te){if(!te)return 1000009;const se=te.match(/ver=(\d+)/);return Number(se?.[1]??1000009)}}return I=re,(0,i.A)(re,"\u0275fac",function(te){return new(te||I)(c.KVO(C.u))}),(0,i.A)(re,"\u0275prov",c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})),re})(),t=(()=>{var I;class re extends H.H{onLoad(){setTimeout(()=>{this.loadedEvent.emit(!0)},0)}checkValidLink(){this.whiteListOfficeIframeSrc=this.envService.getLinkEmbedDocument(this.cdnLink)}ngOnChanges(){this.checkValidLink()}ngOnInit(){super.ngOnInit(),this.checkValidLink()}constructor(te){super(),(0,i.A)(this,"envService",void 0),(0,i.A)(this,"cdnLink",void 0),(0,i.A)(this,"videoMimesType",""),(0,i.A)(this,"classNames",""),(0,i.A)(this,"styles",""),(0,i.A)(this,"loadedEvent",new c.bkB),(0,i.A)(this,"whiteListOfficeIframeSrc",""),this.envService=te}}return I=re,(0,i.A)(re,"\u0275fac",function(te){return new(te||I)(c.rXU(n))}),(0,i.A)(re,"\u0275cmp",c.VBU({type:I,selectors:[["azt-office-embed"]],inputs:{cdnLink:"cdnLink",videoMimesType:"videoMimesType",classNames:"classNames",styles:"styles"},outputs:{loadedEvent:"loadedEvent"},standalone:!0,features:[c.Vt3,c.OA$,c.aNF],decls:2,vars:6,consts:[["frameborder","0",3,"load","src"]],template:function(te,de){1&te&&(c.j41(0,"iframe",0),c.nI1(1,"safe"),c.bIt("load",function(){return de.onLoad()}),c.k0s()),2&te&&(c.HbH(de.classNames),c.Y8G("src",c.bMT(1,4,de.whiteListOfficeIframeSrc),c.f$h),c.BMQ("style",de.styles,c.$dS))},dependencies:[U.MD,r.X1,F.iI,r.YN,m.s,_.flO,X.L,V.JI,M.Id,S.k],encapsulation:2})),re})();var g=k(91083),x=k(18068),u=k(33726),E=k(21413),v=k(86648),h=k(56977),T=k(70152),O=k(5964),j=k(20717),Y=k.t(j,2),J=k(33876),Q=k.t(J,2);const he=["pdfViewerContainer"];function R(I,re,B){I[re]=B}function a(){return typeof window>"u"}a()||R(Y,"verbosity",j.VerbosityLevel.INFOS);var e=function(I){return I[I.DISABLED=0]="DISABLED",I[I.ENABLED=1]="ENABLED",I[I.ENHANCED=2]="ENHANCED",I}(e||{});let s=(()=>{class I{constructor(B,te){if(this.element=B,this.ngZone=te,this.isVisible=!1,this._cMapsUrl=typeof Y<"u"?`https://unpkg.com/pdfjs-dist@${j.version}/cmaps/`:null,this._imageResourcesPath=typeof Y<"u"?`https://unpkg.com/pdfjs-dist@${j.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=e.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new E.B,this.afterLoadComplete=new c.bkB,this.pageRendered=new c.bkB,this.pageInitialized=new c.bkB,this.textLayerRendered=new c.bkB,this.onError=new c.bkB,this.onProgress=new c.bkB,this.pageChange=new c.bkB(!0),a())return;let de;const ve=j.version;de=window[`pdfWorkerSrc${ve}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${ve}/legacy/build/pdf.worker.min.js`),R(j.GlobalWorkerOptions,"workerSrc",de)}set cMapsUrl(B){this._cMapsUrl=B}set page(B){const te=B=parseInt(B,10)||1;this._pdf&&(B=this.getValidPageNumber(B)),this._page=B,te!==B&&this.pageChange.emit(B)}set renderText(B){this._renderText=B}set renderTextMode(B){this._renderTextMode=B}set originalSize(B){this._originalSize=B}set showAll(B){this._showAll=B}set stickToPage(B){this._stickToPage=B}set zoom(B){B<=0||(this._zoom=B)}get zoom(){return this._zoom}set zoomScale(B){this._zoomScale=B}get zoomScale(){return this._zoomScale}set rotation(B){"number"==typeof B&&B%90==0?this._rotation=B:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(B){this._externalLinkTarget=B}set autoresize(B){this._canAutoResize=!!B}set fitToPage(B){this._fitToPage=!!B}set showBorders(B){this._showBorders=!!B}static getLinkTarget(B){switch(B){case"blank":return J.LinkTarget.BLANK;case"none":return J.LinkTarget.NONE;case"self":return J.LinkTarget.SELF;case"parent":return J.LinkTarget.PARENT;case"top":return J.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const B=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=B?!1===this.isVisible&&null!=B&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(B){if(!a()&&this.isVisible)if("src"in B)this.loadPDF();else if(this._pdf){if("renderText"in B?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:e.DISABLED,this.resetPdfDocument()):"showAll"in B&&(this.setupViewer(),this.resetPdfDocument()),"page"in B){const{page:te}=B;if(te.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,v.H)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,h.Q)(this.destroy$)).subscribe({next:B=>{const te=this._rotation+B.rotate,de=B.getViewport({scale:this._zoom,rotation:te}).width*I.CSS_UNITS;let ve=this._zoom,se=!0;if(!this._originalSize||this._fitToPage&&de>this.pdfViewerContainer.nativeElement.clientWidth){const q=B.getViewport({scale:1,rotation:te});ve=this.getScale(q.width,q.height),se=!this._stickToPage}this.pdfViewer._setScale(ve,se)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const B=I.getLinkTarget(this._externalLinkTarget);return B?{externalLinkTarget:B}:{}}initEventBus(){this.eventBus=function pe(I,re){const B=new I.EventBus;return function fe(I,re){(0,u.R)(I,"documentload").pipe((0,h.Q)(re)).subscribe(()=>{const B=document.createEvent("CustomEvent");B.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(B)}),(0,u.R)(I,"pagerendered").pipe((0,h.Q)(re)).subscribe(({pageNumber:B,cssTransform:te,source:de})=>{const ve=document.createEvent("CustomEvent");ve.initCustomEvent("pagerendered",!0,!0,{pageNumber:B,cssTransform:te}),de.div.dispatchEvent(ve)}),(0,u.R)(I,"textlayerrendered").pipe((0,h.Q)(re)).subscribe(({pageNumber:B,source:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:B}),te.textLayerDiv.dispatchEvent(de)}),(0,u.R)(I,"pagechanging").pipe((0,h.Q)(re)).subscribe(({pageNumber:B,source:te})=>{const de=document.createEvent("UIEvents");de.initEvent("pagechanging",!0,!0),de.pageNumber=B,te.container.dispatchEvent(de)}),(0,u.R)(I,"pagesinit").pipe((0,h.Q)(re)).subscribe(({source:B})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("pagesinit",!0,!0,null),B.container.dispatchEvent(te)}),(0,u.R)(I,"pagesloaded").pipe((0,h.Q)(re)).subscribe(({pagesCount:B,source:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("pagesloaded",!0,!0,{pagesCount:B}),te.container.dispatchEvent(de)}),(0,u.R)(I,"scalechange").pipe((0,h.Q)(re)).subscribe(({scale:B,presetValue:te,source:de})=>{const ve=document.createEvent("UIEvents");ve.initEvent("scalechange",!0,!0),ve.scale=B,ve.presetValue=te,de.container.dispatchEvent(ve)}),(0,u.R)(I,"updateviewarea").pipe((0,h.Q)(re)).subscribe(({location:B,source:te})=>{const de=document.createEvent("UIEvents");de.initEvent("updateviewarea",!0,!0),de.location=B,te.container.dispatchEvent(de)}),(0,u.R)(I,"find").pipe((0,h.Q)(re)).subscribe(({source:B,type:te,query:de,phraseSearch:ve,caseSensitive:se,highlightAll:q,findPrevious:K})=>{if(B===window)return;const ge=document.createEvent("CustomEvent");ge.initCustomEvent("find"+te,!0,!0,{query:de,phraseSearch:ve,caseSensitive:se,highlightAll:q,findPrevious:K}),window.dispatchEvent(ge)}),(0,u.R)(I,"attachmentsloaded").pipe((0,h.Q)(re)).subscribe(({attachmentsCount:B,source:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:B}),te.container.dispatchEvent(de)}),(0,u.R)(I,"sidebarviewchanged").pipe((0,h.Q)(re)).subscribe(({view:B,source:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("sidebarviewchanged",!0,!0,{view:B}),te.outerContainer.dispatchEvent(de)}),(0,u.R)(I,"pagemode").pipe((0,h.Q)(re)).subscribe(({mode:B,source:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("pagemode",!0,!0,{mode:B}),te.pdfViewer.container.dispatchEvent(de)}),(0,u.R)(I,"namedaction").pipe((0,h.Q)(re)).subscribe(({action:B,source:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("namedaction",!0,!0,{action:B}),te.pdfViewer.container.dispatchEvent(de)}),(0,u.R)(I,"presentationmodechanged").pipe((0,h.Q)(re)).subscribe(({active:B,switchInProgress:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("presentationmodechanged",!0,!0,{active:B,switchInProgress:te}),window.dispatchEvent(de)}),(0,u.R)(I,"outlineloaded").pipe((0,h.Q)(re)).subscribe(({outlineCount:B,source:te})=>{const de=document.createEvent("CustomEvent");de.initCustomEvent("outlineloaded",!0,!0,{outlineCount:B}),te.container.dispatchEvent(de)})}(B,re),B}(Q,this.destroy$),(0,u.R)(this.eventBus,"pagerendered").pipe((0,h.Q)(this.destroy$)).subscribe(B=>{this.pageRendered.emit(B)}),(0,u.R)(this.eventBus,"pagesinit").pipe((0,h.Q)(this.destroy$)).subscribe(B=>{this.pageInitialized.emit(B)}),(0,u.R)(this.eventBus,"pagechanging").pipe((0,h.Q)(this.destroy$)).subscribe(({pageNumber:B})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=B,this.pageChange.emit(B)},100)}),(0,u.R)(this.eventBus,"textlayerrendered").pipe((0,h.Q)(this.destroy$)).subscribe(B=>{this.textLayerRendered.emit(B)})}initPDFServices(){this.pdfLinkService=new J.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new J.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:e.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){R(Y,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new J.PDFViewer(this.getPDFOptions()):new J.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(B){return B<1?1:B>this._pdf.numPages?this._pdf.numPages:B}getDocumentParams(){const B=typeof this.src;if(!this._cMapsUrl)return this.src;const te={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===B?te.url=this.src:"object"===B&&(void 0!==this.src.byteLength?te.data=this.src:Object.assign(te,this.src)),te}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=j.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=te=>{this.onProgress.emit(te)};const B=this.src;(0,v.H)(this.loadingTask.promise).pipe((0,h.Q)(this.destroy$)).subscribe({next:te=>{this._pdf=te,this.lastLoaded=B,this.afterLoadComplete.emit(te),this.resetPdfDocument(),this.update()},error:te=>{this.lastLoaded=null,this.onError.emit(te)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(B,te){const de=this._showBorders?2*I.BORDER_WIDTH:0,ve=this.pdfViewerContainer.nativeElement.clientWidth-de,se=this.pdfViewerContainer.nativeElement.clientHeight-de;if(0===se||0===te||0===ve||0===B)return 1;let q=1;switch(this._zoomScale){case"page-fit":q=Math.min(se/te,ve/B);break;case"page-height":q=se/te;break;default:q=ve/B}return this._zoom*q/I.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){a()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){a()||this.ngZone.runOutsideAngular(()=>{(0,u.R)(window,"resize").pipe((0,T.B)(100),(0,O.p)(()=>this._canAutoResize&&!!this._pdf),(0,h.Q)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return I.CSS_UNITS=96/72,I.BORDER_WIDTH=9,I.\u0275fac=function(B){return new(B||I)(c.rXU(c.aKT),c.rXU(c.SKi))},I.\u0275cmp=c.VBU({type:I,selectors:[["pdf-viewer"]],viewQuery:function(B,te){if(1&B&&c.GBs(he,5),2&B){let de;c.mGM(de=c.lsd())&&(te.pdfViewerContainer=de.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[c.OA$],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(B,te){1&B&&(c.j41(0,"div",1,0),c.nrm(2,"div",2),c.k0s())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),I})(),l=(()=>{class I{}return I.\u0275fac=function(B){return new(B||I)},I.\u0275mod=c.$C({type:I}),I.\u0275inj=c.G2t({}),I})();var f=function(I){return I.unknown="unknown",I.xlsx="xlsx",I.image="image",I.jpeg="jpeg",I.doc="doc",I.docx="docx",I.ppt="ppt",I.pptx="pptx",I.pdf="pdf",I.video="video",I.mp4="mp4",I.mov="mov",I.webm="webm",I.quicktime="quicktime",I.audio="audio",I.mp3="mp3",I.wav="wav",I.google_docs="google_docs",I.exam="exam",I.homework="homework",I.powerpoint="powerpoint",I}(f||{}),p=k(345),d=k(22399);const y=I=>({flex:I});function z(I,re){1&I&&(c.j41(0,"div",3)(1,"span",4),c.nrm(2,"azt-loading-ui"),c.k0s(),c.j41(3,"span",5),c.EFF(4,"Loading..."),c.k0s()())}function A(I,re){if(1&I&&(c.j41(0,"span"),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&I){const B=c.XpG(3);c.R7$(),c.Lme("",c.bMT(2,2,"lang_auto_dung_luong"),": ",B.fileMb," MB |")}}function N(I,re){if(1&I&&(c.j41(0,"div",20),c.DNE(1,A,3,4,"span",21),c.EFF(2),c.nI1(3,"mytranslate"),c.k0s()),2&I){const B=c.XpG(2);c.R7$(),c.Y8G("ngIf",0!=B.fileMb),c.R7$(),c.Lme(" ",c.bMT(3,3,"lang_auto_loai"),": ",B.fileOption.mimes," ")}}function G(I,re){1&I&&(c.j41(0,"div",20),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&I&&(c.R7$(),c.JRh(c.bMT(2,1,"lang_auto_dung_luong_03_mb_|_loai__images")))}function oe(I,re){if(1&I&&(c.j41(0,"a",22),c.nrm(1,"lucide-icon",23),c.k0s()),2&I){const B=c.XpG(2);c.BMQ("href",B.rootLink,c.B4B)("download",B.fileOption.name)}}function ce(I,re){if(1&I){const B=c.RV6();c.j41(0,"azt-audio-embed",30),c.bIt("onLoad",function(){c.eBV(B);const de=c.XpG(4);return c.Njj(de.onLoad())}),c.k0s()}if(2&I){let B;const te=c.XpG(4);c.Y8G("cdnLink",te.cdnLink)("audioMimesType",null!==(B=te.fileOption.mimes)&&void 0!==B?B:"")}}function _e(I,re){if(1&I&&(c.j41(0,"div")(1,"div",28),c.DNE(2,ce,1,2,"azt-audio-embed",29),c.k0s()()),2&I){const B=c.XpG(3);c.R7$(2),c.Y8G("ngIf",B.cdnLink)}}function me(I,re){if(1&I){const B=c.RV6();c.j41(0,"div")(1,"div",31)(2,"azt-video-embed",32),c.bIt("loadedEvent",function(){c.eBV(B);const de=c.XpG(3);return c.Njj(de.onLoad())}),c.k0s()()()}if(2&I){let B;const te=c.XpG(3);c.R7$(2),c.Y8G("cdnLink",te.cdnLink)("videoMimesType",null!==(B=te.fileOption.mimes)&&void 0!==B?B:"")("videoThumbUrl",te.videoThumbUrl)("styles","width: 100vw; height: 95vh; max-height: calc(100vh - 60px); padding-bottom: 1rem")}}function ue(I,re){if(1&I){const B=c.RV6();c.j41(0,"div")(1,"div",33)(2,"azt-office-embed",34),c.bIt("loadedEvent",function(){c.eBV(B);const de=c.XpG(3);return c.Njj(de.onLoad())}),c.k0s()()()}if(2&I){const B=c.XpG(3);c.R7$(2),c.Y8G("cdnLink",B.cdnLink)("styles","width: 100vw; height: 95vh; max-height: calc(100vh - 60px); padding-bottom: 1rem")}}function b(I,re){if(1&I){const B=c.RV6();c.j41(0,"div")(1,"div",35)(2,"pdf-viewer",36),c.bIt("load",function(){c.eBV(B);const de=c.XpG(3);return c.Njj(de.onLoad())}),c.k0s()()()}if(2&I){const B=c.XpG(3);c.R7$(2),c.Y8G("src",B.cdnLink)("show-all",!0)}}function w(I,re){if(1&I){const B=c.RV6();c.j41(0,"div")(1,"div",31)(2,"img",37),c.bIt("load",function(){c.eBV(B);const de=c.XpG(3);return c.Njj(de.onLoad())}),c.k0s()()()}if(2&I){const B=c.XpG(3);c.R7$(2),c.BMQ("src",B.cdnLink,c.B4B)}}function ie(I,re){if(1&I&&(c.j41(0,"div")(1,"div",31),c.nrm(2,"iframe",38),c.nI1(3,"safe"),c.k0s()()),2&I){const B=c.XpG(3);c.R7$(2),c.HbH("mx-auto"),c.Y8G("src",c.bMT(3,3,B.cdnLink),c.f$h)}}function le(I,re){if(1&I&&(c.qex(0),c.j41(1,"div",24)(2,"div",25),c.DNE(3,_e,3,1,"div",21)(4,me,3,4,"div",21)(5,ue,3,2,"div",21)(6,b,3,2,"div",21)(7,w,3,1,"div",21)(8,ie,4,5,"div",21),c.nrm(9,"div",26),c.k0s(),c.nrm(10,"div",27),c.k0s(),c.bVm()),2&I){const B=c.XpG(2);c.R7$(3),c.Y8G("ngIf","audio"===B.typeFile),c.R7$(),c.Y8G("ngIf","video"===B.typeFile),c.R7$(),c.Y8G("ngIf","officeapps"===B.typeFile),c.R7$(),c.Y8G("ngIf","pdf"===B.typeFile),c.R7$(),c.Y8G("ngIf","image"===B.typeFile),c.R7$(),c.Y8G("ngIf","google_docs"===B.typeFile)}}function ee(I,re){if(1&I){const B=c.RV6();c.j41(0,"div",24)(1,"div",25)(2,"div",39)(3,"img",40),c.bIt("load",function(){c.eBV(B);const de=c.XpG(2);return c.Njj(de.onLoad())}),c.k0s()()()()}if(2&I){const B=c.XpG(2);c.R7$(3),c.BMQ("src",B.fileOption.url,c.B4B)}}function Z(I,re){if(1&I){const B=c.RV6();c.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),c.nrm(4,"div",10),c.nI1(5,"coreModConvertCdnLinkOfGitHub"),c.k0s(),c.j41(6,"div",11),c.EFF(7),c.k0s(),c.DNE(8,N,4,5,"div",12)(9,G,3,3,"div",12),c.k0s(),c.j41(10,"div",13)(11,"span",14),c.DNE(12,oe,2,2,"a",15),c.k0s(),c.j41(13,"button",16),c.bIt("click",function(){c.eBV(B);const de=c.XpG();return c.Njj(de.btnClosePreview())}),c.nrm(14,"lucide-icon",17),c.k0s()()(),c.j41(15,"div",18),c.DNE(16,le,11,6,"ng-container",19)(17,ee,4,1,"ng-template",null,0,c.C5r),c.k0s()()}if(2&I){const B=c.sdS(18),te=c.XpG();c.R7$(2),c.Y8G("ngClass",c.eq3(11,y,""==te.fileOption.name)),c.R7$(2),c.xc7("background-image",c.bMT(5,9,"images/documents.png")),c.R7$(3),c.JRh(te.fileOption.name),c.R7$(),c.Y8G("ngIf",te.fileOption.mimes),c.R7$(),c.Y8G("ngIf",!te.fileOption.mimes),c.R7$(3),c.Y8G("ngIf",te.showDownloadIcon),c.R7$(4),c.Y8G("ngIf",!te.viewFullImageWithScroll)("ngIfElse",B)}}let ae=(()=>{var I;class re extends D._{onLoad(){this.stopStatusObj()}initData(){let te=this.fileOption?.size?Number(this.fileOption.size):0,de=this.fileOption?.mimes?this.fileOption.mimes:"";this.cdnLink=this.sAztCommonCdnService.getMyCdn(this.fileOption?.url??""),this.rootLink=this.cdnLink,this.fileMb=this.getFileMB(te),this.typeFile=(0,$.yY)(de),(0,$.VJ)(this.cdnLink)&&(this.typeFile="video"),(0,$.si)(this.cdnLink)&&(this.typeFile="google_docs"),setTimeout(()=>{this.stopStatusObj()},200)}removeClassCss(){document.body.classList.remove("overflow-hidden")}btnClosePreview(){this.removeClassCss(),this.dialogRef.close(!1)}getFileMB(te){return te&&te>0?(te/=1048576).toFixed(2):0}ngOnInit(){if(super.ngOnInit(),document.body.classList.add("overflow-hidden"),this.videoThumbUrl=this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub("images/video-thumb.png"),this.initStatusObj(),this.initData(),this.fileOption?.type===this.allDocumentTypes.google_docs)return window.open(this.fileOption?.url,"_blank")?.focus(),void this.dialogRef.close()}constructor(te,de,ve,se){super(se,ve),(0,i.A)(this,"dom",void 0),(0,i.A)(this,"sAztCommonCdnService",void 0),(0,i.A)(this,"dialogRef",void 0),(0,i.A)(this,"fileOption",void 0),(0,i.A)(this,"viewFullImageWithScroll",!1),(0,i.A)(this,"showDownloadIcon",!0),(0,i.A)(this,"typeFile",""),(0,i.A)(this,"cdnLink",""),(0,i.A)(this,"rootLink",""),(0,i.A)(this,"fileMb",0),(0,i.A)(this,"videoThumbUrl",""),(0,i.A)(this,"allDocumentTypes",f),this.dom=te,this.sAztCommonCdnService=de,this.dialogRef=ve,this.fileOption=se.fileOption,this.viewFullImageWithScroll=se.viewFullImageWithScroll??!1,this.showDownloadIcon=se.showDownloadIcon??this.showDownloadIcon}ngOnDestroy(){this.removeClassCss(),super.ngOnDestroy()}}return I=re,(0,i.A)(re,"\u0275fac",function(te){return new(te||I)(c.rXU(p.up),c.rXU(d.c),c.rXU(W.CP,8),c.rXU(W.Vh,8))}),(0,i.A)(re,"\u0275cmp",c.VBU({type:I,selectors:[["azt-preview-media-new"]],standalone:!0,features:[c.Vt3,c.aNF],decls:2,vars:2,consts:[["viewFullImage",""],["class","loading-block",4,"ngIf"],["class","box h-full","style","border-radius: 0px",4,"ngIf"],[1,"loading-block"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],[1,"box","h-full",2,"border-radius","0px"],[1,"flex","fixed","top-0","pt-3","border-b","border-slate-200/60","dark:border-darkmode-400","items-center","w-full"],[1,"file-preview__header-left",2,"align-items","center",3,"ngClass"],["title","",1,"avatar","avatar--xs"],[1,"avatar-img",2,"background-size","cover"],[1,"file-preview__header__title"],["class","file-preview__header__send-time",4,"ngIf"],[1,"file-preview__header-right"],[1,"mr-4"],["class","btn btn-outline-primary btn-transparent","target","_blank",4,"ngIf"],["azt-track-service","azt-preview-media-c4Ztzr2oIZj",1,"btn","btn-outline-secondary","btn-transparent",3,"click"],["name","x","size","24"],[1,"file-preview__main","flx",2,"overflow-x","auto","flex","1 1 auto"],[4,"ngIf","ngIfElse"],[1,"file-preview__header__send-time"],[4,"ngIf"],["target","_blank",1,"btn","btn-outline-primary","btn-transparent"],["name","download","size","24"],[1,"file-preview__main-iframe","mx-auto"],[1,"file-preview__notify"],[1,"tool-hide"],[1,"file-preview__main-comments"],[1,"container-fluid","mt-3"],[3,"cdnLink","audioMimesType","onLoad",4,"ngIf"],[3,"onLoad","cdnLink","audioMimesType"],[1,"pl-2","pr-2","mt-3"],[3,"loadedEvent","cdnLink","videoMimesType","videoThumbUrl","styles"],[1,"pl-2","pr-2","mp-0"],[3,"loadedEvent","cdnLink","styles"],[1,"container-fluid","mp-0"],[2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem","display","block",3,"load","src","show-all"],["alt","Responsive image",1,"img-fluid","image-preview",2,"max-height","calc(100vh - 80px)","padding-bottom","1rem",3,"load"],["width","850","height","600","frameborder","0","allowfullscreen","",3,"src"],[1,"pl-2","pr-2","mt-3","block-img"],[1,"img-fluid","image-preview",3,"load"]],template:function(te,de){1&te&&c.DNE(0,z,5,0,"div",1)(1,Z,19,13,"div",2),2&te&&(c.Y8G("ngIf",de.statusObj.loading),c.R7$(),c.Y8G("ngIf",null!=de.fileOption&&!de.statusObj.loading))},dependencies:[l,s,x.R,P,g.y,t,U.MD,U.YU,U.bT,r.X1,F.iI,r.YN,V.wp,V.Vs,m.s,_.flO,_.WGl,X.L,V.JI,M.Id,S.k],styles:[".file-preview[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;z-index:9999;display:flex;flex-direction:column;left:0;top:0;border-radius:0}.block-img[_ngcontent-%COMP%]{width:100vw;height:90vh;text-align:center;overflow-y:auto}.loading-block[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;justify-content:center;align-items:center;left:0;top:0;position:fixed;height:100%;min-height:100vh}.file-preview__main[_ngcontent-%COMP%]{margin-top:65px;width:100%;min-height:100%;min-width:277px;display:flex;position:fixed}.file-preview__header[_ngcontent-%COMP%]{padding-top:10px;height:65px;box-shadow:0 2px 4px #0003;position:fixed;align-items:center;z-index:1;top:0;width:100%}.flx-sp-btw[_ngcontent-%COMP%]{justify-content:space-between}.flx[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.file-preview__header-left[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:12px;flex:1 1 50px;min-width:0}.file-preview__header-left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{float:left;margin-right:10px}.avatar--xs[_ngcontent-%COMP%]{width:40px;height:40px;font-size:17px}.avatar[_ngcontent-%COMP%]{position:relative;contain:layout size style}.avatar--xs[_ngcontent-%COMP%] > .avatar-img[_ngcontent-%COMP%]{width:40px;height:40px}.avatar-img[_ngcontent-%COMP%]{border-radius:100%}.file-preview__header__title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.file-preview__header__send-time[_ngcontent-%COMP%], .file-preview__header__title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-preview__header__send-time[_ngcontent-%COMP%]{padding-top:2px;font-size:13px;color:#a0a0a0}.file-preview__header-right[_ngcontent-%COMP%]{margin-right:15px;white-space:nowrap;display:flex}.file-preview__controls-container[_ngcontent-%COMP%]{margin-right:40px}.mp-0[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]})),re})()},20717:function(module,__unused_webpack_exports,__webpack_require__){var _defineProperty=__webpack_require__(40829).default,_classPrivateMethodInitSpec=__webpack_require__(80816).default,_classPrivateFieldInitSpec=__webpack_require__(43723).default,_classPrivateFieldSet=__webpack_require__(7920).default,_classPrivateFieldGet=__webpack_require__(18188).default,_assertClassBrand=__webpack_require__(45804).default,_asyncToGenerator=__webpack_require__(75453).default,k;k=()=>(()=>{"use strict";var __webpack_modules__=[,(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.UNSUPPORTED_FEATURES=o.TextRenderingMode=o.StreamType=o.RenderingIntentFlag=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FontType=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMode=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.arrayByteLength=A,o.arraysToBytes=function N(se){const q=se.length;if(1===q&&se[0]instanceof Uint8Array)return se[0];let K=0;for(let ye=0;ye<q;ye++)K+=A(se[ye]);let ge=0;const be=new Uint8Array(K);for(let ye=0;ye<q;ye++){let Ae=se[ye];Ae instanceof Uint8Array||(Ae="string"==typeof Ae?z(Ae):new Uint8Array(Ae));const we=Ae.byteLength;be.set(Ae,ge),ge+=we}return be},o.assert=function Q(se,q){se||J(q)},o.bytesToString=function y(se){("object"!=typeof se||null===se||void 0===se.length)&&J("Invalid argument for bytesToString");const q=se.length,K=8192;if(q<K)return String.fromCharCode.apply(null,se);const ge=[];for(let be=0;be<q;be+=K){const ye=Math.min(be+K,q),Ae=se.subarray(be,ye);ge.push(String.fromCharCode.apply(null,Ae))}return ge.join("")},o.createPromiseCapability=function ve(){const se=Object.create(null);let q=!1;return Object.defineProperty(se,"settled",{get:()=>q}),se.promise=new Promise(function(K,ge){se.resolve=function(be){q=!0,K(be)},se.reject=function(be){q=!0,ge(be)}}),se},o.createValidAbsoluteUrl=function pe(se,q=null,K=null){if(!se)return null;try{if(K&&"string"==typeof se){if(K.addDefaultProtocol&&se.startsWith("www.")){const be=se.match(/\./g);be&&be.length>=2&&(se=`http://${se}`)}if(K.tryConvertEncoding)try{se=I(se)}catch{}}const ge=q?new URL(se,q):new URL(se);if(function he(se){if(!se)return!1;switch(se.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ge))return ge}catch{}return null},o.escapeString=function ee(se){return se.replace(/([()\\\n\r])/g,q=>"\n"===q?"\\n":"\r"===q?"\\r":`\\${q}`)},o.getModificationDate=function de(se=new Date){return[se.getUTCFullYear().toString(),(se.getUTCMonth()+1).toString().padStart(2,"0"),se.getUTCDate().toString().padStart(2,"0"),se.getUTCHours().toString().padStart(2,"0"),se.getUTCMinutes().toString().padStart(2,"0"),se.getUTCSeconds().toString().padStart(2,"0")].join("")},o.getVerbosityLevel=function O(){return h},o.info=function j(se){h>=g.INFOS&&console.log(`Info: ${se}`)},o.isArrayBuffer=function B(se){return"object"==typeof se&&null!==se&&void 0!==se.byteLength},o.isArrayEqual=function te(se,q){if(se.length!==q.length)return!1;for(let K=0,ge=se.length;K<ge;K++)if(se[K]!==q[K])return!1;return!0},o.isAscii=function Z(se){return/^[\x00-\x7F]*$/.test(se)},o.objectFromMap=function ce(se){const q=Object.create(null);for(const[K,ge]of se)q[K]=ge;return q},o.objectSize=function oe(se){return Object.keys(se).length},o.setVerbosityLevel=function T(se){Number.isInteger(se)&&(h=se)},o.shadow=fe,o.string32=function G(se){return String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,255&se)},o.stringToBytes=z,o.stringToPDFString=function le(se){if(se[0]>="\xef"){let K;if("\xfe"===se[0]&&"\xff"===se[1]?K="utf-16be":"\xff"===se[0]&&"\xfe"===se[1]?K="utf-16le":"\xef"===se[0]&&"\xbb"===se[1]&&"\xbf"===se[2]&&(K="utf-8"),K)try{const ge=new TextDecoder(K,{fatal:!0}),be=z(se);return ge.decode(be)}catch(ge){Y(`stringToPDFString: "${ge}".`)}}const q=[];for(let K=0,ge=se.length;K<ge;K++){const be=ie[se.charCodeAt(K)];q.push(be?String.fromCharCode(be):se.charAt(K))}return q.join("")},o.stringToUTF16BEString=function ae(se){const q=["\xfe\xff"];for(let K=0,ge=se.length;K<ge;K++){const be=se.charCodeAt(K);q.push(String.fromCharCode(be>>8&255),String.fromCharCode(255&be))}return q.join("")},o.stringToUTF8String=I,o.unreachable=J,o.utf8StringToString=function re(se){return unescape(encodeURIComponent(se))},o.warn=Y,k(2),o.IDENTITY_MATRIX=[1,0,0,1,0,0],o.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],o.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},o.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},o.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},o.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},o.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},o.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},o.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},o.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},o.AnnotationReplyType={GROUP:"Group",REPLY:"R"},o.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},o.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},o.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},o.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},o.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},o.PageActionEventType={O:"PageOpen",C:"PageClose"},o.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},o.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const g={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=g,o.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h=g.WARNINGS;function Y(se){h>=g.WARNINGS&&console.log(`Warning: ${se}`)}function J(se){throw new Error(se)}function fe(se,q,K){return Object.defineProperty(se,q,{value:K,enumerable:!0,configurable:!0,writable:!1}),K}const R=function(){function q(K,ge){this.constructor===q&&J("Cannot initialize BaseException."),this.message=K,this.name=ge}return q.prototype=new Error,q.constructor=q,q}();function z(se){"string"!=typeof se&&J("Invalid argument for stringToBytes");const q=se.length,K=new Uint8Array(q);for(let ge=0;ge<q;++ge)K[ge]=255&se.charCodeAt(ge);return K}function A(se){return void 0!==se.length?se.length:void 0!==se.byteLength?se.byteLength:void J("Invalid argument for arrayByteLength")}o.BaseException=R,o.PasswordException=class a extends R{constructor(q,K){super(q,"PasswordException"),this.code=K}},o.UnknownErrorException=class e extends R{constructor(q,K){super(q,"UnknownErrorException"),this.details=K}},o.InvalidPDFException=class s extends R{constructor(q){super(q,"InvalidPDFException")}},o.MissingPDFException=class l extends R{constructor(q){super(q,"MissingPDFException")}},o.UnexpectedResponseException=class f extends R{constructor(q,K){super(q,"UnexpectedResponseException"),this.status=K}},o.FormatError=class p extends R{constructor(q){super(q,"FormatError")}},o.AbortException=class d extends R{constructor(q){super(q,"AbortException")}},o.FeatureTest=class ue{static get isLittleEndian(){return fe(this,"isLittleEndian",function _e(){const se=new Uint8Array(4);return se[0]=1,1===new Uint32Array(se.buffer,0,1)[0]}())}static get isEvalSupported(){return fe(this,"isEvalSupported",function me(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const b=[...Array(256).keys()].map(se=>se.toString(16).padStart(2,"0"));class w{static makeHexColor(q,K,ge){return`#${b[q]}${b[K]}${b[ge]}`}static scaleMinMax(q,K){let ge;q[0]?(q[0]<0&&(ge=K[0],K[0]=K[1],K[1]=ge),K[0]*=q[0],K[1]*=q[0],q[3]<0&&(ge=K[2],K[2]=K[3],K[3]=ge),K[2]*=q[3],K[3]*=q[3]):(ge=K[0],K[0]=K[2],K[2]=ge,ge=K[1],K[1]=K[3],K[3]=ge,q[1]<0&&(ge=K[2],K[2]=K[3],K[3]=ge),K[2]*=q[1],K[3]*=q[1],q[2]<0&&(ge=K[0],K[0]=K[1],K[1]=ge),K[0]*=q[2],K[1]*=q[2]),K[0]+=q[4],K[1]+=q[4],K[2]+=q[5],K[3]+=q[5]}static transform(q,K){return[q[0]*K[0]+q[2]*K[1],q[1]*K[0]+q[3]*K[1],q[0]*K[2]+q[2]*K[3],q[1]*K[2]+q[3]*K[3],q[0]*K[4]+q[2]*K[5]+q[4],q[1]*K[4]+q[3]*K[5]+q[5]]}static applyTransform(q,K){return[q[0]*K[0]+q[1]*K[2]+K[4],q[0]*K[1]+q[1]*K[3]+K[5]]}static applyInverseTransform(q,K){const ge=K[0]*K[3]-K[1]*K[2];return[(q[0]*K[3]-q[1]*K[2]+K[2]*K[5]-K[4]*K[3])/ge,(-q[0]*K[1]+q[1]*K[0]+K[4]*K[1]-K[5]*K[0])/ge]}static getAxialAlignedBoundingBox(q,K){const ge=w.applyTransform(q,K),be=w.applyTransform(q.slice(2,4),K),ye=w.applyTransform([q[0],q[3]],K),Ae=w.applyTransform([q[2],q[1]],K);return[Math.min(ge[0],be[0],ye[0],Ae[0]),Math.min(ge[1],be[1],ye[1],Ae[1]),Math.max(ge[0],be[0],ye[0],Ae[0]),Math.max(ge[1],be[1],ye[1],Ae[1])]}static inverseTransform(q){const K=q[0]*q[3]-q[1]*q[2];return[q[3]/K,-q[1]/K,-q[2]/K,q[0]/K,(q[2]*q[5]-q[4]*q[3])/K,(q[4]*q[1]-q[5]*q[0])/K]}static apply3dTransform(q,K){return[q[0]*K[0]+q[1]*K[1]+q[2]*K[2],q[3]*K[0]+q[4]*K[1]+q[5]*K[2],q[6]*K[0]+q[7]*K[1]+q[8]*K[2]]}static singularValueDecompose2dScale(q){const K=[q[0],q[2],q[1],q[3]],ge=q[0]*K[0]+q[1]*K[2],Ae=q[2]*K[1]+q[3]*K[3],we=(ge+Ae)/2,Me=Math.sqrt((ge+Ae)**2-4*(ge*Ae-(q[2]*K[0]+q[3]*K[2])*(q[0]*K[1]+q[1]*K[3])))/2,Pe=we-Me||1;return[Math.sqrt(we+Me||1),Math.sqrt(Pe)]}static normalizeRect(q){const K=q.slice(0);return q[0]>q[2]&&(K[0]=q[2],K[2]=q[0]),q[1]>q[3]&&(K[1]=q[3],K[3]=q[1]),K}static intersect(q,K){const ge=Math.max(Math.min(q[0],q[2]),Math.min(K[0],K[2])),be=Math.min(Math.max(q[0],q[2]),Math.max(K[0],K[2]));if(ge>be)return null;const ye=Math.max(Math.min(q[1],q[3]),Math.min(K[1],K[3])),Ae=Math.min(Math.max(q[1],q[3]),Math.max(K[1],K[3]));return ye>Ae?null:[ge,ye,be,Ae]}static bezierBoundingBox(q,K,ge,be,ye,Ae,we,Me){const ke=[],Pe=[[],[]];let Ce,xe,Te,Se,Le,Re,De,Oe;for(let Ne=0;Ne<2;++Ne)if(0===Ne?(xe=6*q-12*ge+6*ye,Ce=-3*q+9*ge-9*ye+3*we,Te=3*ge-3*q):(xe=6*K-12*be+6*Ae,Ce=-3*K+9*be-9*Ae+3*Me,Te=3*be-3*K),Math.abs(Ce)<1e-12){if(Math.abs(xe)<1e-12)continue;Se=-Te/xe,0<Se&&Se<1&&ke.push(Se)}else De=xe*xe-4*Te*Ce,Oe=Math.sqrt(De),!(De<0)&&(Le=(-xe+Oe)/(2*Ce),0<Le&&Le<1&&ke.push(Le),Re=(-xe-Oe)/(2*Ce),0<Re&&Re<1&&ke.push(Re));let Ee,Fe=ke.length;const Ie=Fe;for(;Fe--;)Se=ke[Fe],Ee=1-Se,Pe[0][Fe]=Ee*Ee*Ee*q+3*Ee*Ee*Se*ge+3*Ee*Se*Se*ye+Se*Se*Se*we,Pe[1][Fe]=Ee*Ee*Ee*K+3*Ee*Ee*Se*be+3*Ee*Se*Se*Ae+Se*Se*Se*Me;return Pe[0][Ie]=q,Pe[1][Ie]=K,Pe[0][Ie+1]=we,Pe[1][Ie+1]=Me,Pe[0].length=Pe[1].length=Ie+2,[Math.min(...Pe[0]),Math.min(...Pe[1]),Math.max(...Pe[0]),Math.max(...Pe[1])]}}o.Util=w;const ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function I(se){return decodeURIComponent(escape(se))}},(ne,o,k)=>{k(3)},(ne,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const k=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);o.isNodeJS=k},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:ne,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:k}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=ne,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=k}function setPDFNetworkStreamFactory(ne){createPDFNetworkStream=ne}function getDocument(ne){const o=new PDFDocumentLoadingTask;let k;if("string"==typeof ne||ne instanceof URL)k={url:ne};else if((0,_util.isArrayBuffer)(ne))k={data:ne};else if(ne instanceof PDFDataRangeTransport)k={range:ne};else{if("object"!=typeof ne)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!ne.url&&!ne.data&&!ne.range)throw new Error("Invalid parameter object: need either .data, .range or .url");k=ne}const i=Object.create(null);let U=null,r=null;for(const F in k){const D=k[F];switch(F){case"url":if(typeof window<"u")try{i[F]=new URL(D,window.location).href;continue}catch(S){(0,_util.warn)(`Cannot create valid URL: "${S}".`)}else if("string"==typeof D||D instanceof URL){i[F]=D.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":U=D;continue;case"worker":r=D;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&D instanceof Buffer)i[F]=new Uint8Array(D);else{if(D instanceof Uint8Array)break;if("string"==typeof D)i[F]=(0,_util.stringToBytes)(D);else if("object"!=typeof D||null===D||isNaN(D.length)){if(!(0,_util.isArrayBuffer)(D))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[F]=new Uint8Array(D)}else i[F]=new Uint8Array(D)}continue}i[F]=D}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!r){const F={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};r=F.port?PDFWorker.fromPort(F):new PDFWorker(F),o._worker=r}const W=o.docId;return r.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const F=_fetchDocument(r,i,U,W),D=new Promise(function(S){let V;U?V=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},U):i.data||(V=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),S(V)});return Promise.all([F,D]).then(function([S,V]){if(o.destroyed)throw new Error("Loading aborted");const X=new _message_handler.MessageHandler(W,S,r.port),$=new WorkerTransport(X,o,V,i);o._transport=$,X.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(ne,o,k,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(ne,o,k,i){if(ne.destroyed)throw new Error("Worker was destroyed");k&&(o.length=k.length,o.initialData=k.initialData,o.progressiveDone=k.progressiveDone,o.contentDispositionFilename=k.contentDispositionFilename);const U=yield ne.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(ne.destroyed)throw new Error("Worker was destroyed");return U})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var o,k;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_docId._=(o=_docId._,k=o++,o),k}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){o.destroyed=!0,yield o._transport?.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}}var _docId={_:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,k,i=!1,U=null){this.length=o,this.initialData=k,this.progressiveDone=i,this.contentDispositionFilename=U,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,k){for(const i of this._rangeListeners)i(o,k)}onDataProgress(o,k){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(o,k)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const k of this._progressiveReadListeners)k(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,k){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,k){var U,i=this;this._pdfInfo=o,this._transport=k,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(U=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return U.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,k,i,U,r=!1){this._pageIndex=o,this._pageInfo=k,this._ownerDocument=U,this._transport=i,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:k=this.rotate,offsetX:i=0,offsetY:U=0,dontFlip:r=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:k,offsetX:i,offsetY:U,dontFlip:r})}getAnnotations({intent:o="display"}={}){const k=this._transport.getRenderingIntent(o);let i=this._annotationPromises.get(k.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,k.renderingIntent),this._annotationPromises.set(k.cacheKey,i),i=i.then(U=>{for(const r of U)void 0!==r.titleObj&&Object.defineProperty(r,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),r.titleObj.str)}),void 0!==r.contentsObj&&Object.defineProperty(r,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),r.contentsObj.str)});return U})),i}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var o=this;return _asyncToGenerator(function*(){return o._transport._htmlForXfa?.children[o._pageIndex]||null})()}render({canvasContext:o,viewport:k,intent:i="display",annotationMode:U=_util.AnnotationMode.ENABLE,transform:r=null,imageLayer:W=null,canvasFactory:F=null,background:D=null,optionalContentConfigPromise:S=null,annotationCanvasMap:V=null,pageColors:X=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&U===_util.AnnotationMode.ENABLE&&(U=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&U===_util.AnnotationMode.ENABLE&&(U=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const $=this._transport.getRenderingIntent(i,U);this.pendingCleanup=!1,S||(S=this._transport.getOptionalContentConfig());let c=this._intentStates.get($.cacheKey);c||(c=Object.create(null),this._intentStates.set($.cacheKey,c)),c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null);const H=F||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),_=!!($.renderingIntent&_util.RenderingIntentFlag.PRINT);c.displayReadyCapability||(c.displayReadyCapability=(0,_util.createPromiseCapability)(),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList($));const M=L=>{c.renderTasks.delete(m),(this.cleanupAfterRender||_)&&(this.pendingCleanup=!0),this._tryCleanup(),L?(m.capability.reject(L),this._abortOperatorList({intentState:c,reason:L instanceof Error?L:new Error(L)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:M,params:{canvasContext:o,viewport:k,transform:r,imageLayer:W,background:D},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:V,operatorList:c.operatorList,pageIndex:this._pageIndex,canvasFactory:H,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:X});(c.renderTasks||=new Set).add(m);const P=m.task;return Promise.all([c.displayReadyCapability.promise,S]).then(([L,C])=>{this.pendingCleanup?M():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:L,optionalContentConfig:C}),m.operatorListChanged())}).catch(M),P}getOperatorList({intent:o="display",annotationMode:k=_util.AnnotationMode.ENABLE}={}){const U=this._transport.getRenderingIntent(o,k,!0);let W,r=this._intentStates.get(U.cacheKey);return r||(r=Object.create(null),this._intentStates.set(U.cacheKey,r)),r.opListReadCapability||(W=Object.create(null),W.operatorListChanged=function i(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(W))},r.opListReadCapability=(0,_util.createPromiseCapability)(),(r.renderTasks||=new Set).add(W),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(U)),r.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:k=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===k},{highWaterMark:100,size:U=>U.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const k=this.streamTextContent(o);return new Promise(function(i,U){const W=k.getReader(),F={items:[],styles:Object.create(null)};!function r(){W.read().then(function({value:D,done:S}){S?i(F):(Object.assign(F.styles,D.styles),F.items.push(...D.items),r())},U)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const o=[];for(const k of this._intentStates.values())if(this._abortOperatorList({intentState:k,reason:new Error("Page was destroyed."),force:!0}),!k.opListReadCapability)for(const i of k.renderTasks)o.push(i.completed),i.cancel();this.objs.clear();for(const k of this._bitmaps)k.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:k,operatorList:i}of this._intentStates.values())if(k.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const k of this._bitmaps)k.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,k){const i=this._intentStates.get(k);i&&(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(o))}_renderPageChunk(o,k){for(let i=0,U=o.length;i<U;i++)k.operatorList.fnArray.push(o.fnArray[i]),k.operatorList.argsArray.push(o.argsArray[i]);k.operatorList.lastChunk=o.lastChunk;for(const i of k.renderTasks)i.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:k}){const U=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:k,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),r=this._intentStates.get(k);r.streamReader=U;const W=()=>{U.read().then(({value:F,done:D})=>{D?r.streamReader=null:this._transport.destroyed||(this._renderPageChunk(F,r),W())},F=>{if(r.streamReader=null,!this._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(const D of r.renderTasks)D.operatorListChanged();this._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(F);else{if(!r.opListReadCapability)throw F;r.opListReadCapability.reject(F)}}})};W()}_abortOperatorList({intentState:o,reason:k,force:i=!1}){if(o.streamReader){if(!i){if(o.renderTasks.size>0)return;if(k instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:k,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(k.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[U,r]of this._intentStates)if(r===o){this._intentStates.delete(U);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,k){const i={data:structuredClone(o,k)};this._deferred.then(()=>{for(const U of this._listeners)U.call(this,i)})}addEventListener(o,k){this._listeners.push(k)}removeEventListener(o,k){const i=this._listeners.indexOf(k);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const ne=document?.currentScript?.src;ne&&(PDFWorkerUtil.fallbackWorkerSrc=ne.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ne,o){let k;try{if(k=new URL(ne),!k.origin||"null"===k.origin)return!1}catch{return!1}const i=new URL(o,k);return k.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(ne){return URL.createObjectURL(new Blob([`importScripts("${ne}");`]))};class PDFWorker{constructor({name:ne=null,port:o=null,verbosity:k=(0,_util.getVerbosityLevel)()}={}){if(o&&_workerPorts._.has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ne,this.destroyed=!1,this.verbosity=k,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return _workerPorts._.set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ne){this._port=ne,this._messageHandler=new _message_handler.MessageHandler("main","worker",ne),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let ne=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,ne)||(ne=PDFWorkerUtil.createCDNWrapper(new URL(ne,window.location).href));const o=new Worker(ne),k=new _message_handler.MessageHandler("main","worker",o),i=()=>{o.removeEventListener("error",U),k.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},U=()=>{this._webWorker||i()};o.addEventListener("error",U),k.on("test",W=>{o.removeEventListener("error",U),this.destroyed?i():W?(this._messageHandler=k,this._port=o,this._webWorker=o,this._readyCapability.resolve(),k.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),k.destroy(),o.terminate())}),k.on("ready",W=>{if(o.removeEventListener("error",U),this.destroyed)i();else try{r()}catch{this._setupFakeWorker()}});const r=()=>{const W=new Uint8Array;k.send("test",W,[W.buffer])};return void r()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(ne=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const k="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(k+"_worker",k,o);ne.setup(i,o);const U=new _message_handler.MessageHandler(k,k+"_worker",o);this._messageHandler=U,this._readyCapability.resolve(),U.send("configure",{verbosity:this.verbosity})}).catch(ne=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ne.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_workerPorts._.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ne){if(!ne?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _assertClassBrand(PDFWorker,this,_workerPorts)._.has(ne.port)?_assertClassBrand(PDFWorker,this,_workerPorts)._.get(ne.port):new PDFWorker(ne)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function ne(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={_:new WeakMap};exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(o,k,i,U){_classPrivateFieldInitSpec(this,_docStats,null),_classPrivateFieldInitSpec(this,_pageCache,new Map),_classPrivateFieldInitSpec(this,_pagePromises,new Map),_classPrivateFieldInitSpec(this,_metadataPromise,null),this.messageHandler=o,this.loadingTask=k,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:k.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:U.ownerDocument,styleElement:U.styleElement}),this._params=U,U.useWorkerFetch||(this.CMapReaderFactory=new U.CMapReaderFactory({baseUrl:U.cMapUrl,isCompressed:U.cMapPacked}),this.StandardFontDataFactory=new U.StandardFontDataFactory({baseUrl:U.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(_docStats,this)}getRenderingIntent(o,k=_util.AnnotationMode.ENABLE,i=!1){let U=_util.RenderingIntentFlag.DISPLAY,r="";switch(o){case"any":U=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":U=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(k){case _util.AnnotationMode.DISABLE:U+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:U+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:U+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,r=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${k}`)}return i&&(U+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:U,cacheKey:`${U}_${r}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const i of _classPrivateFieldGet(_pageCache,this).values())o.push(i._destroy());_classPrivateFieldGet(_pageCache,this).clear(),_classPrivateFieldGet(_pagePromises,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const k=this.messageHandler.sendWithPromise("Terminate",null);return o.push(k),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(_metadataPromise,this,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:k}=this;o.on("GetReader",(i,U)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},U.onPull=()=>{this._fullReader.read().then(function({value:r,done:W}){W?U.close():((0,_util.assert)((0,_util.isArrayBuffer)(r),"GetReader - expected an ArrayBuffer."),U.enqueue(new Uint8Array(r),1,[r]))}).catch(r=>{U.error(r)})},U.onCancel=r=>{this._fullReader.cancel(r),U.ready.catch(W=>{if(!this.destroyed)throw W})}}),o.on("ReaderHeadersReady",i=>{const U=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then(()=>{(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&k.onProgress?.(this._lastProgress),r.onProgress=W=>{k.onProgress?.({loaded:W.loaded,total:W.total})}),U.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},U.reject),U.promise}),o.on("GetRangeReader",(i,U)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);r?(U.onPull=()=>{r.read().then(function({value:W,done:F}){F?U.close():((0,_util.assert)((0,_util.isArrayBuffer)(W),"GetRangeReader - expected an ArrayBuffer."),U.enqueue(new Uint8Array(W),1,[W]))}).catch(W=>{U.error(W)})},U.onCancel=W=>{r.cancel(W),U.ready.catch(F=>{if(!this.destroyed)throw F})}):U.close()}),o.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,k._capability.resolve(new PDFDocumentProxy(i,this))}),o.on("DocException",function(i){let U;switch(i.name){case"PasswordException":U=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":U=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":U=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":U=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":U=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}k._capability.reject(U)}),o.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),k.onPassword){const U=r=>{r instanceof Error?this._passwordCapability.reject(r):this._passwordCapability.resolve({password:r})};try{k.onPassword(U,i.code)}catch(r){this._passwordCapability.reject(r)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),o.on("DataLoaded",i=>{k.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),o.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(_pageCache,this).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),o.on("commonobj",([i,U,r])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(U){case"Font":const W=this._params;if("error"in r){const S=r.error;(0,_util.warn)(`Error during font loading: ${S}`),this.commonObjs.resolve(i,S);break}let F=null;W.pdfBug&&globalThis.FontInspector?.enabled&&(F={registerFont(S,V){globalThis.FontInspector.fontAdded(S,V)}});const D=new _font_loader.FontFaceObject(r,{isEvalSupported:W.isEvalSupported,disableFontFace:W.disableFontFace,ignoreErrors:W.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:F});this.fontLoader.bind(D).catch(S=>o.sendWithPromise("FontFallback",{id:i})).finally(()=>{!W.fontExtraProperties&&D.data&&(D.data=null),this.commonObjs.resolve(i,D)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${U}`)}}),o.on("obj",([i,U,r,W])=>{if(this.destroyed)return;const F=_classPrivateFieldGet(_pageCache,this).get(U);if(!F.objs.has(i))switch(r){case"Image":F.objs.resolve(i,W);const D=8e6;if(W){let S;if(W.bitmap){const{bitmap:V,width:X,height:$}=W;S=X*$*4,F._bitmaps.add(V)}else S=W.data?.length||0;S>D&&(F.cleanupAfterRender=!0)}break;case"Pattern":F.objs.resolve(i,W);break;default:throw new Error(`Got unknown object type ${r}`)}}),o.on("DocProgress",i=>{this.destroyed||k.onProgress?.({loaded:i.loaded,total:i.total})}),o.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(_docStats,this,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const k=o-1,i=_classPrivateFieldGet(_pagePromises,this).get(k);if(i)return i;const U=this.messageHandler.sendWithPromise("GetPage",{pageIndex:k}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");const W=new PDFPageProxy(k,r,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(_pageCache,this).set(k,W),W});return _classPrivateFieldGet(_pagePromises,this).set(k,U),U}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,k){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:k})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(_metadataPromise,this)||_classPrivateFieldSet(_metadataPromise,this,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>({info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(){var o=this;return _asyncToGenerator(function*(k=!1){if(yield o.messageHandler.sendWithPromise("Cleanup",null),!o.destroyed){for(const i of _classPrivateFieldGet(_pageCache,o).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);o.commonObjs.clear(),k||o.fontLoader.clear(),_classPrivateFieldSet(_metadataPromise,o,null),o._getFieldObjectsPromise=null,o._hasJSActionsPromise=null}}).apply(this,arguments)}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}var _objs=new WeakMap,_PDFObjects_brand=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_PDFObjects_brand),_classPrivateFieldInitSpec(this,_objs,Object.create(null))}get(o,k=null){if(k){const U=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,o);return U.capability.promise.then(()=>k(U.data)),null}const i=_classPrivateFieldGet(_objs,this)[o];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${o}.`);return i.data}has(o){return _classPrivateFieldGet(_objs,this)[o]?.capability.settled||!1}resolve(o,k=null){const i=_assertClassBrand(_PDFObjects_brand,this,_ensureObj).call(this,o);i.data=k,i.capability.resolve()}clear(){_classPrivateFieldSet(_objs,this,Object.create(null))}}function _ensureObj(ne){return _classPrivateFieldGet(_objs,this)[ne]||(_classPrivateFieldGet(_objs,this)[ne]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:o,params:k,objs:i,commonObjs:U,annotationCanvasMap:r,operatorList:W,pageIndex:F,canvasFactory:D,useRequestAnimationFrame:S=!1,pdfBug:V=!1,pageColors:X=null}){this.callback=o,this.params=k,this.objs=i,this.commonObjs=U,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=W,this._pageIndex=F,this.canvasFactory=D,this._pdfBug=V,this.pageColors=X,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===S&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=k.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:k}){if(this.cancelled)return;if(this._canvas){if(_canvasInUse._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_canvasInUse._.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:U,transform:r,imageLayer:W,background:F}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,W,k,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:U,transparency:o,background:F}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_canvasInUse._.delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&_canvasInUse._.delete(o._canvas),o.callback())))})()}}var _canvasInUse={_:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(ne,o,k)=>{var i;Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=function g(v){console.log("Deprecated API usage: "+v)},o.getFilenameFromUrl=function P(v){const h=v.indexOf("#"),T=v.indexOf("?"),O=Math.min(h>0?h:v.length,T>0?T:v.length);return v.substring(v.lastIndexOf("/",O)+1,O)},o.getPdfFilenameFromUrl=function L(v,h="document.pdf"){if("string"!=typeof v)return h;if(M(v))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),h;const O=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,j=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(v);let Y=O.exec(j[1])||O.exec(j[2])||O.exec(j[3]);if(Y&&(Y=Y[0],Y.includes("%")))try{Y=O.exec(decodeURIComponent(Y))[0]}catch{}return Y||h},o.getXfaPageViewport=function E(v,{scale:h=1,rotation:T=0}){const{width:O,height:j}=v.attributes.style,Y=[0,0,parseInt(O),parseInt(j)];return new H({viewBox:Y,scale:h,rotation:T})},o.isDataScheme=M,o.isPdfFile=function m(v){return"string"==typeof v&&/\.pdf$/i.test(v)},o.isValidFetchUrl=n,o.loadScript=function t(v,h=!1){return new Promise((T,O)=>{const j=document.createElement("script");j.src=v,j.onload=function(Y){h&&j.remove(),T(Y)},j.onerror=function(){O(new Error(`Cannot load script at: ${j.src}`))},(document.head||document.documentElement).appendChild(j)})};var U=k(6),r=k(1);class F{}function S(v){return V.apply(this,arguments)}function V(){return(V=_asyncToGenerator(function*(v,h=!1){if(n(v,document.baseURI)){const T=yield fetch(v);if(!T.ok)throw new Error(T.statusText);return h?new Uint8Array(yield T.arrayBuffer()):(0,r.stringToBytes)(yield T.text())}return new Promise((T,O)=>{const j=new XMLHttpRequest;j.open("GET",v,!0),h&&(j.responseType="arraybuffer"),j.onreadystatechange=()=>{if(j.readyState===XMLHttpRequest.DONE){if(200===j.status||0===j.status){let Y;if(h&&j.response?Y=new Uint8Array(j.response):!h&&j.responseText&&(Y=(0,r.stringToBytes)(j.responseText)),Y)return void T(Y)}O(new Error(j.statusText))}},j.send(null)})})).apply(this,arguments)}i=F,_defineProperty(F,"CSS",96),_defineProperty(F,"PDF",72),_defineProperty(F,"PDF_TO_CSS_UNITS",i.CSS/i.PDF),o.PixelsPerInch=F,o.DOMCanvasFactory=class D extends U.BaseCanvasFactory{constructor({ownerDocument:h=globalThis.document}={}){super(),this._document=h}_createCanvas(h,T){const O=this._document.createElement("canvas");return O.width=h,O.height=T,O}},o.DOMCMapReaderFactory=class X extends U.BaseCMapReaderFactory{_fetchData(h,T){return S(h,this.isCompressed).then(O=>({cMapData:O,compressionType:T}))}},o.DOMStandardFontDataFactory=class $ extends U.BaseStandardFontDataFactory{_fetchData(h){return S(h,!0)}},o.DOMSVGFactory=class c extends U.BaseSVGFactory{_createSVG(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}};class H{constructor({viewBox:h,scale:T,rotation:O,offsetX:j=0,offsetY:Y=0,dontFlip:J=!1}){this.viewBox=h,this.scale=T,this.rotation=O,this.offsetX=j,this.offsetY=Y;const Q=(h[2]+h[0])/2,he=(h[3]+h[1])/2;let pe,fe,R,a,e,s,l,f;switch((O%=360)<0&&(O+=360),O){case 180:pe=-1,fe=0,R=0,a=1;break;case 90:pe=0,fe=1,R=1,a=0;break;case 270:pe=0,fe=-1,R=-1,a=0;break;case 0:pe=1,fe=0,R=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}J&&(R=-R,a=-a),0===pe?(e=Math.abs(he-h[1])*T+j,s=Math.abs(Q-h[0])*T+Y,l=Math.abs(h[3]-h[1])*T,f=Math.abs(h[2]-h[0])*T):(e=Math.abs(Q-h[0])*T+j,s=Math.abs(he-h[1])*T+Y,l=Math.abs(h[2]-h[0])*T,f=Math.abs(h[3]-h[1])*T),this.transform=[pe*T,fe*T,R*T,a*T,e-pe*T*Q-R*T*he,s-fe*T*Q-a*T*he],this.width=l,this.height=f}clone({scale:h=this.scale,rotation:T=this.rotation,offsetX:O=this.offsetX,offsetY:j=this.offsetY,dontFlip:Y=!1}={}){return new H({viewBox:this.viewBox.slice(),scale:h,rotation:T,offsetX:O,offsetY:j,dontFlip:Y})}convertToViewportPoint(h,T){return r.Util.applyTransform([h,T],this.transform)}convertToViewportRectangle(h){const T=r.Util.applyTransform([h[0],h[1]],this.transform),O=r.Util.applyTransform([h[2],h[3]],this.transform);return[T[0],T[1],O[0],O[1]]}convertToPdfPoint(h,T){return r.Util.applyInverseTransform([h,T],this.transform)}}function M(v){const h=v.length;let T=0;for(;T<h&&""===v[T].trim();)T++;return"data:"===v.substring(T,T+5).toLowerCase()}function n(v,h){try{const{protocol:T}=h?new URL(v,h):new URL(v);return"http:"===T||"https:"===T}catch{return!1}}let x;o.PageViewport=H,o.RenderingCancelledException=class _ extends r.BaseException{constructor(h,T){super(h,"RenderingCancelledException"),this.type=T}},o.StatTimer=class C{constructor(){this.started=Object.create(null),this.times=[]}time(h){h in this.started&&(0,r.warn)(`Timer is already running for ${h}`),this.started[h]=Date.now()}timeEnd(h){h in this.started||(0,r.warn)(`Timer has not been started for ${h}`),this.times.push({name:h,start:this.started[h],end:Date.now()}),delete this.started[h]}toString(){const h=[];let T=0;for(const O of this.times){const j=O.name;j.length>T&&(T=j.length)}for(const O of this.times){const j=O.end-O.start;h.push(`${O.name.padEnd(T)} ${j}ms\n`)}return h.join("")}},o.PDFDateString=class u{static toDateObject(h){if(!h||"string"!=typeof h)return null;x||(x=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const T=x.exec(h);if(!T)return null;const O=parseInt(T[1],10);let j=parseInt(T[2],10);j=j>=1&&j<=12?j-1:0;let Y=parseInt(T[3],10);Y=Y>=1&&Y<=31?Y:1;let J=parseInt(T[4],10);J=J>=0&&J<=23?J:0;let Q=parseInt(T[5],10);Q=Q>=0&&Q<=59?Q:0;let he=parseInt(T[6],10);he=he>=0&&he<=59?he:0;const pe=T[7]||"Z";let fe=parseInt(T[8],10);fe=fe>=0&&fe<=23?fe:0;let R=parseInt(T[9],10)||0;return R=R>=0&&R<=59?R:0,"-"===pe?(J+=fe,Q+=R):"+"===pe&&(J-=fe,Q-=R),new Date(Date.UTC(O,j,Y,J,Q,he))}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var i=k(1);class U{constructor(){this.constructor===U&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(S,V){if(S<=0||V<=0)throw new Error("Invalid canvas size");const X=this._createCanvas(S,V);return{canvas:X,context:X.getContext("2d")}}reset(S,V,X){if(!S.canvas)throw new Error("Canvas is not specified");if(V<=0||X<=0)throw new Error("Invalid canvas size");S.canvas.width=V,S.canvas.height=X}destroy(S){if(!S.canvas)throw new Error("Canvas is not specified");S.canvas.width=0,S.canvas.height=0,S.canvas=null,S.context=null}_createCanvas(S,V){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=U;class r{constructor({baseUrl:S=null,isCompressed:V=!1}){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=S,this.isCompressed=V}fetch(S){var V=this;return _asyncToGenerator(function*({name:X}){if(!V.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!X)throw new Error("CMap name must be specified.");const $=V.baseUrl+X+(V.isCompressed?".bcmap":"");return V._fetchData($,V.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(H=>{throw new Error(`Unable to load ${V.isCompressed?"binary ":""}CMap at: ${$}`)})}).apply(this,arguments)}_fetchData(S,V){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=r;class W{constructor({baseUrl:S=null}){this.constructor===W&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=S}fetch(S){var V=this;return _asyncToGenerator(function*({filename:X}){if(!V.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!X)throw new Error("Font filename must be specified.");const $=`${V.baseUrl}${X}`;return V._fetchData($).catch(c=>{throw new Error(`Unable to load font data at: ${$}`)})}).apply(this,arguments)}_fetchData(S){(0,i.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=W;class F{constructor(){this.constructor===F&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(S,V){if(S<=0||V<=0)throw new Error("Invalid SVG dimensions");const X=this._createSVG("svg:svg");return X.setAttribute("version","1.1"),X.setAttribute("width",`${S}px`),X.setAttribute("height",`${V}px`),X.setAttribute("preserveAspectRatio","none"),X.setAttribute("viewBox",`0 0 ${S} ${V}`),X}createElement(S){if("string"!=typeof S)throw new Error("Invalid SVG element type");return this._createSVG(S)}_createSVG(S){(0,i.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=F},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var i=k(1);class U{constructor({docId:D,onUnsupportedFeature:S,ownerDocument:V=globalThis.document,styleElement:X=null}){this.constructor===U&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=D,this._onUnsupportedFeature=S,this._document=V,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(D){this.nativeFontFaces.push(D),this._document.fonts.add(D)}insertRule(D){let S=this.styleElement;S||(S=this.styleElement=this._document.createElement("style"),S.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(S));const V=S.sheet;V.insertRule(D,V.cssRules.length)}clear(){for(const D of this.nativeFontFaces)this._document.fonts.delete(D);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(D){var S=this;return _asyncToGenerator(function*(){if(D.attached||D.missingFile)return;if(D.attached=!0,S.isFontLoadingAPISupported){const X=D.createNativeFontFace();if(X){S.addNativeFontFace(X);try{yield X.loaded}catch($){throw S._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${X.family}': '${$}'.`),D.disableFontFace=!0,$}}return}const V=D.createFontFaceRule();if(V){if(S.insertRule(V),S.isSyncFontLoadingSupported)return;yield new Promise(X=>{const $=S._queueLoadingCallback(X);S._prepareFontLoadEvent([V],[D],$)})}})()}_queueLoadingCallback(D){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(D,S,V){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let r;o.FontLoader=r,o.FontLoader=r=class extends U{constructor(D){super(D),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let D=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(D=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",D)}_queueLoadingCallback(D){const V=this.loadingContext,X={id:"pdfjs-font-loading-"+V.nextRequestId++,done:!1,complete:function S(){for((0,i.assert)(!X.done,"completeRequest() cannot be called twice."),X.done=!0;V.requests.length>0&&V.requests[0].done;){const $=V.requests.shift();setTimeout($.callback,0)}},callback:D};return V.requests.push(X),X}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(D,S,V){function X(T,O){return T.charCodeAt(O)<<24|T.charCodeAt(O+1)<<16|T.charCodeAt(O+2)<<8|255&T.charCodeAt(O+3)}function $(T,O,j,Y){return T.substring(0,O)+Y+T.substring(O+j)}let c,H;const _=this._document.createElement("canvas");_.width=1,_.height=1;const M=_.getContext("2d");let m=0;const L=`lt${Date.now()}${this.loadTestFontId++}`;let C=this._loadTestFont;C=$(C,976,L.length,L);const g=1482184792;let x=X(C,16);for(c=0,H=L.length-3;c<H;c+=4)x=x-g+X(L,c)|0;c<L.length&&(x=x-g+X(L+"XXX",c)|0),C=$(C,16,4,(0,i.string32)(x));const u=`url(data:font/opentype;base64,${btoa(C)});`;this.insertRule(`@font-face {font-family:"${L}";src:${u}}`);const v=[];for(const T of S)v.push(T.loadedName);v.push(L);const h=this._document.createElement("div");h.style.visibility="hidden",h.style.width=h.style.height="10px",h.style.position="absolute",h.style.top=h.style.left="0px";for(const T of v){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=T,h.appendChild(O)}this._document.body.appendChild(h),function P(T,O){if(m++,m>30)return(0,i.warn)("Load test font never loaded."),void O();M.font="30px "+T,M.fillText(".",0,20),M.getImageData(0,0,1,1).data[3]>0?O():setTimeout(P.bind(null,T,O))}(L,()=>{h.remove(),V.complete()})}},o.FontFaceObject=class W{constructor(D,{isEvalSupported:S=!0,disableFontFace:V=!1,ignoreErrors:X=!1,onUnsupportedFeature:$,fontRegistry:c=null}){this.compiledGlyphs=Object.create(null);for(const H in D)this[H]=D[H];this.isEvalSupported=!1!==S,this.disableFontFace=!0===V,this.ignoreErrors=!0===X,this._onUnsupportedFeature=$,this.fontRegistry=c}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let D;if(this.cssFontInfo){const S={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(S.style=`oblique ${this.cssFontInfo.italicAngle}deg`),D=new FontFace(this.cssFontInfo.fontFamily,this.data,S)}else D=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),D}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const D=(0,i.bytesToString)(this.data),S=`url(data:${this.mimetype};base64,${btoa(D)});`;let V;if(this.cssFontInfo){let X=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(X+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),V=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${X}src:${S}}`}else V=`@font-face {font-family:"${this.loadedName}";src:${S}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,S),V}getPathGenerator(D,S){if(void 0!==this.compiledGlyphs[S])return this.compiledGlyphs[S];let V;try{V=D.get(this.loadedName+"_path_"+S)}catch(X){if(!this.ignoreErrors)throw X;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${X}".`),this.compiledGlyphs[S]=function($,c){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const X=[];for(const $ of V){const c=void 0!==$.args?$.args.join(","):"";X.push("c.",$.cmd,"(",c,");\n")}return this.compiledGlyphs[S]=new Function("c","size",X.join(""))}return this.compiledGlyphs[S]=function(X,$){for(const c of V)"scale"===c.cmd&&(c.args=[$,-$]),X[c.cmd].apply(X,c.args)}}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationStorage=void 0;var i=k(9),U=k(1);o.AnnotationStorage=class r{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(F,D){const S=this._storage.get(F);return void 0===S?D:Object.assign(D,S)}getRawValue(F){return this._storage.get(F)}setValue(F,D){const S=this._storage.get(F);let V=!1;if(void 0!==S)for(const[X,$]of Object.entries(D))S[X]!==$&&(V=!0,S[X]=$);else V=!0,this._storage.set(F,D);V&&this._setModified()}getAll(){return this._storage.size>0?(0,U.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const F=new i.MurmurHash3_64;for(const[D,S]of this._storage)F.update(`${D}:${JSON.stringify(S)}`);return F.hexdigest()}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var i=k(1);const U=3285377520,r=4294901760,W=65535;o.MurmurHash3_64=class F{constructor(S){this.h1=S?4294967295&S:U,this.h2=S?4294967295&S:U}update(S){let V,X;if("string"==typeof S){V=new Uint8Array(2*S.length),X=0;for(let g=0,x=S.length;g<x;g++){const u=S.charCodeAt(g);u<=255?V[X++]=u:(V[X++]=u>>>8,V[X++]=255&u)}}else{if(!(0,i.isArrayBuffer)(S))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");V=S.slice(),X=V.byteLength}const $=X>>2,c=X-4*$,H=new Uint32Array(V.buffer,0,$);let _=0,M=0,m=this.h1,P=this.h2;const L=3432918353,C=461845907,n=L&W,t=C&W;for(let g=0;g<$;g++)1&g?(_=H[g],_=_*L&r|_*n&W,_=_<<15|_>>>17,_=_*C&r|_*t&W,m^=_,m=m<<13|m>>>19,m=5*m+3864292196):(M=H[g],M=M*L&r|M*n&W,M=M<<15|M>>>17,M=M*C&r|M*t&W,P^=M,P=P<<13|P>>>19,P=5*P+3864292196);switch(_=0,c){case 3:_^=V[4*$+2]<<16;case 2:_^=V[4*$+1]<<8;case 1:_^=V[4*$],_=_*L&r|_*n&W,_=_<<15|_>>>17,_=_*C&r|_*t&W,1&$?m^=_:P^=_}this.h1=m,this.h2=P}hexdigest(){let S=this.h1,V=this.h2;S^=V>>>1,S=3981806797*S&r|36045*S&W,V=4283543511*V&r|(2950163797*(V<<16|S>>>16)&r)>>>16,S^=V>>>1,S=444984403*S&r|60499*S&W,V=3301882366*V&r|(3120437893*(V<<16|S>>>16)&r)>>>16,S^=V>>>1;const X=(S>>>0).toString(16),$=(V>>>0).toString(16);return X.padStart(8,"0")+$.padStart(8,"0")}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var i=k(1),U=k(11),r=k(12),W=k(3),F=k(5);const V=4096,_=16;function P(R){if(R._transformStack&&(R._transformStack=[]),!R.mozCurrentTransform){R._originalSave=R.save,R._originalRestore=R.restore,R._originalRotate=R.rotate,R._originalScale=R.scale,R._originalTranslate=R.translate,R._originalTransform=R.transform,R._originalSetTransform=R.setTransform,R._originalResetTransform=R.resetTransform,R._transformMatrix=R._transformMatrix||[1,0,0,1,0,0],R._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(R),"lineWidth");R._setLineWidth=a.set,R._getLineWidth=a.get,Object.defineProperty(R,"lineWidth",{set:function(s){this._setLineWidth(1.000001*s)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(R,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(R,"mozCurrentTransformInverse",{get:function(){const[e,s,l,f,p,d]=this._transformMatrix,y=e*f-s*l,z=s*l-e*f;return[f/y,s/z,l/z,e/y,(f*p-l*d)/z,(s*p-e*d)/y]}}),R.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},R.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},R.translate=function(e,s){const l=this._transformMatrix;l[4]=l[0]*e+l[2]*s+l[4],l[5]=l[1]*e+l[3]*s+l[5],this._originalTranslate(e,s)},R.scale=function(e,s){const l=this._transformMatrix;l[0]*=e,l[1]*=e,l[2]*=s,l[3]*=s,this._originalScale(e,s)},R.transform=function(e,s,l,f,p,d){const y=this._transformMatrix;this._transformMatrix=[y[0]*e+y[2]*s,y[1]*e+y[3]*s,y[0]*l+y[2]*f,y[1]*l+y[3]*f,y[0]*p+y[2]*d+y[4],y[1]*p+y[3]*d+y[5]],R._originalTransform(e,s,l,f,p,d)},R.setTransform=function(e,s,l,f,p,d){this._transformMatrix=[e,s,l,f,p,d],R._originalSetTransform(e,s,l,f,p,d)},R.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],R._originalResetTransform()},R.rotate=function(e){const s=Math.cos(e),l=Math.sin(e),f=this._transformMatrix;this._transformMatrix=[f[0]*s+f[2]*l,f[1]*s+f[3]*l,f[0]*-l+f[2]*s,f[1]*-l+f[3]*s,f[4],f[5]],this._originalRotate(e)}}}class L{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,e,s,l){let f;return void 0!==this.cache[a]?(f=this.cache[a],this.canvasFactory.reset(f,e,s),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(e,s),this.cache[a]=f),l&&P(f.context),f}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function C(R,a,e,s,l,f,p,d,y,z){const[A,N,G,oe,ce,_e]=R.mozCurrentTransform;if(0===N&&0===G){const w=Math.round(p*A+ce),le=Math.round(d*oe+_e),Z=Math.abs(Math.round((p+y)*A+ce)-w)||1,I=Math.abs(Math.round((d+z)*oe+_e)-le)||1;return R.setTransform(Math.sign(A),0,0,Math.sign(oe),w,le),R.drawImage(a,e,s,l,f,0,0,Z,I),R.setTransform(A,N,G,oe,ce,_e),[Z,I]}if(0===A&&0===oe){const w=Math.round(d*G+ce),le=Math.round(p*N+_e),Z=Math.abs(Math.round((d+z)*G+ce)-w)||1,I=Math.abs(Math.round((p+y)*N+_e)-le)||1;return R.setTransform(0,Math.sign(N),Math.sign(G),0,w,le),R.drawImage(a,e,s,l,f,0,0,I,Z),R.setTransform(A,N,G,oe,ce,_e),[I,Z]}return R.drawImage(a,e,s,l,f,p,d,y,z),[Math.hypot(A,N)*y,Math.hypot(G,oe)*z]}class t{constructor(a,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,e])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,e){this.x=a,this.y=e}updatePathMinMax(a,e,s){[e,s]=i.Util.applyTransform([e,s],a),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(a,e){const s=i.Util.applyTransform(e,a),l=i.Util.applyTransform(e.slice(2),a);this.minX=Math.min(this.minX,s[0],l[0]),this.minY=Math.min(this.minY,s[1],l[1]),this.maxX=Math.max(this.maxX,s[0],l[0]),this.maxY=Math.max(this.maxY,s[1],l[1])}updateScalingPathMinMax(a,e){i.Util.scaleMinMax(a,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(a,e,s,l,f,p,d,y,z,A){const N=i.Util.bezierBoundingBox(e,s,l,f,p,d,y,z);if(A)return A[0]=Math.min(A[0],N[0],N[2]),A[1]=Math.max(A[1],N[0],N[2]),A[2]=Math.min(A[2],N[1],N[3]),void(A[3]=Math.max(A[3],N[1],N[3]));this.updateRectMinMax(a,N)}getPathBoundingBox(a=U.PathType.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(a===U.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const l=i.Util.singularValueDecompose2dScale(e),f=l[0]*this.lineWidth/2,p=l[1]*this.lineWidth/2;s[0]-=f,s[1]-=p,s[2]+=f,s[3]+=p}return s}updateClipFromPath(){const a=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=U.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(a,e))}}function g(R,a,e=null){if(typeof ImageData<"u"&&a instanceof ImageData)return void R.putImageData(a,0,0);const s=a.height,l=a.width,f=s%_,p=(s-f)/_,d=0===f?p:p+1,y=R.createImageData(l,_);let A,z=0;const N=a.data,G=y.data;let oe,ce,_e,me,ue,b,w,ie;if(e)switch(e.length){case 1:ue=e[0],b=e[0],w=e[0],ie=e[0];break;case 4:ue=e[0],b=e[1],w=e[2],ie=e[3]}if(a.kind===i.ImageKind.GRAYSCALE_1BPP){const le=N.byteLength,ee=new Uint32Array(G.buffer,0,G.byteLength>>2),Z=ee.length,ae=l+7>>3;let I=4294967295,re=i.FeatureTest.isLittleEndian?4278190080:255;for(ie&&255===ie[0]&&0===ie[255]&&([I,re]=[re,I]),oe=0;oe<d;oe++){for(_e=oe<p?_:f,A=0,ce=0;ce<_e;ce++){const B=le-z;let te=0;const de=B>ae?l:8*B-7,ve=-8&de;let se=0,q=0;for(;te<ve;te+=8)q=N[z++],ee[A++]=128&q?I:re,ee[A++]=64&q?I:re,ee[A++]=32&q?I:re,ee[A++]=16&q?I:re,ee[A++]=8&q?I:re,ee[A++]=4&q?I:re,ee[A++]=2&q?I:re,ee[A++]=1&q?I:re;for(;te<de;te++)0===se&&(q=N[z++],se=128),ee[A++]=q&se?I:re,se>>=1}for(;A<Z;)ee[A++]=0;R.putImageData(y,0,oe*_)}}else if(a.kind===i.ImageKind.RGBA_32BPP){const le=!!(ue||b||w);for(ce=0,me=l*_*4,oe=0;oe<p;oe++){if(G.set(N.subarray(z,z+me)),z+=me,le)for(let ee=0;ee<me;ee+=4)ue&&(G[ee+0]=ue[G[ee+0]]),b&&(G[ee+1]=b[G[ee+1]]),w&&(G[ee+2]=w[G[ee+2]]);R.putImageData(y,0,ce),ce+=_}if(oe<d){if(me=l*f*4,G.set(N.subarray(z,z+me)),le)for(let ee=0;ee<me;ee+=4)ue&&(G[ee+0]=ue[G[ee+0]]),b&&(G[ee+1]=b[G[ee+1]]),w&&(G[ee+2]=w[G[ee+2]]);R.putImageData(y,0,ce)}}else{if(a.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const le=!!(ue||b||w);for(_e=_,me=l*_e,oe=0;oe<d;oe++){for(oe>=p&&(_e=f,me=l*_e),A=0,ce=me;ce--;)G[A++]=N[z++],G[A++]=N[z++],G[A++]=N[z++],G[A++]=255;if(le)for(let ee=0;ee<A;ee+=4)ue&&(G[ee+0]=ue[G[ee+0]]),b&&(G[ee+1]=b[G[ee+1]]),w&&(G[ee+2]=w[G[ee+2]]);R.putImageData(y,0,oe*_)}}}}function x(R,a){if(a.bitmap)return void R.drawImage(a.bitmap,0,0);const e=a.height,s=a.width,l=e%_,f=(e-l)/_,p=0===l?f:f+1,d=R.createImageData(s,_);let y=0;const z=a.data,A=d.data;for(let N=0;N<p;N++){const G=N<f?_:l;({srcPos:y}=(0,r.applyMaskImageData)({src:z,srcPos:y,dest:A,width:s,height:G})),R.putImageData(d,0,N*_)}}function u(R,a){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let s=0,l=e.length;s<l;s++){const f=e[s];void 0!==R[f]&&(a[f]=R[f])}void 0!==R.setLineDash&&(a.setLineDash(R.getLineDash()),a.lineDashOffset=R.lineDashOffset)}function E(R,a){R.strokeStyle=R.fillStyle=a||"#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",void 0!==R.setLineDash&&(R.setLineDash([]),R.lineDashOffset=0)}function v(R,a,e,s){const l=R.length;for(let f=3;f<l;f+=4){const p=R[f];if(0===p)R[f-3]=a,R[f-2]=e,R[f-1]=s;else if(p<255){const d=255-p;R[f-3]=R[f-3]*p+a*d>>8,R[f-2]=R[f-2]*p+e*d>>8,R[f-1]=R[f-1]*p+s*d>>8}}}function h(R,a,e){const s=R.length,l=1/255;for(let f=3;f<s;f+=4)a[f]=a[f]*(e?e[R[f]]:R[f])*l|0}function T(R,a,e){const s=R.length;for(let l=3;l<s;l+=4){const f=77*R[l-3]+152*R[l-2]+28*R[l-1];a[l]=e?a[l]*e[f>>8]>>8:a[l]*f>>16}}function Y(R,a){const e=i.Util.singularValueDecompose2dScale(R);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*F.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:e[0]<=s||e[1]<=s}const J=["butt","round","square"],Q=["miter","round","bevel"],he={},pe={};class fe{constructor(a,e,s,l,f,p,d,y){this.ctx=a,this.current=new t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=l,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=p,this.cachedCanvases=new L(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=y?.background||null,this.foregroundColor=y?.foreground||null,a&&P(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,e=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):e}beginDrawing({transform:a,viewport:e,transparency:s=!1,background:l=null}){const f=this.ctx.canvas.width,p=this.ctx.canvas.height,d=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const y=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const z=this.backgroundColor=this.ctx.fillStyle;let A=!0,N=d;if(this.ctx.fillStyle=d,N=this.ctx.fillStyle,A="string"==typeof N&&/^#[0-9A-Fa-f]{6}$/.test(N),"#000000"===y&&"#ffffff"===z||y===z||!A)this.foregroundColor=this.backgroundColor=null;else{const G=parseInt(N.slice(1),16),ce=(G&&65280)>>8,_e=G&&255,me=b=>(b/=255)<=.03928?b/12.92:((b+.055)/1.055)**2.4,ue=Math.round(.2126*me((G&&16711680)>>16)+.7152*me(ce)+.0722*me(_e));this.selectColor=(b,w,ie)=>{const le=.2126*me(b)+.7152*me(w)+.0722*me(ie);return Math.round(le)===ue?z:y}}}if(this.ctx.fillStyle=this.backgroundColor||d,this.ctx.fillRect(0,0,f,p),this.ctx.restore(),s){const y=this.cachedCanvases.getCanvas("transparent",f,p,!0);this.compositeCtx=this.ctx,this.transparentCanvas=y.canvas,this.ctx=y.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),E(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,e,s,l){const f=a.argsArray,p=a.fnArray;let d=e||0;const y=f.length;if(y===d)return d;const z=y-d>10&&"function"==typeof s,A=z?Date.now()+15:0;let N=0;const G=this.commonObjs,oe=this.objs;let ce;for(;;){if(void 0!==l&&d===l.nextBreakPoint)return l.breakIt(d,s),d;if(ce=p[d],ce!==i.OPS.dependency)this[ce].apply(this,f[d]);else for(const _e of f[d]){const me=_e.startsWith("g_")?G:oe;if(!me.has(_e))return me.get(_e,s),d}if(d++,d===y)return d;if(z&&++N>10){if(Date.now()>A)return s(),d;N=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const e of a.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,e){const s=a.width,l=a.height;let A,N,f=Math.max(Math.hypot(e[0],e[1]),1),p=Math.max(Math.hypot(e[2],e[3]),1),d=s,y=l,z="prescale1";for(;f>2&&d>1||p>2&&y>1;){let G=d,oe=y;f>2&&d>1&&(G=Math.ceil(d/2),f/=d/G),p>2&&y>1&&(oe=Math.ceil(y/2),p/=y/oe),A=this.cachedCanvases.getCanvas(z,G,oe,!1),N=A.context,N.clearRect(0,0,G,oe),N.drawImage(a,0,0,d,y,0,0,G,oe),a=A.canvas,d=G,y=oe,z="prescale1"===z?"prescale2":"prescale1"}return{img:a,paintWidth:d,paintHeight:y}}_createMaskCanvas(a){const e=this.ctx,{width:s,height:l}=a,f=this.current.fillColor,p=this.current.patternFill,d=e.mozCurrentTransform;let y,z,A,N;if((a.bitmap||a.data)&&a.count>1){const Z=a.bitmap||a.data.buffer,ae=d.slice(0,4);z=JSON.stringify(p?ae:[ae,f]),y=this._cachedBitmapsMap.get(Z),y||(y=new Map,this._cachedBitmapsMap.set(Z,y));const I=y.get(z);if(I&&!p)return{canvas:I,offsetX:Math.round(Math.min(d[0],d[2])+d[4]),offsetY:Math.round(Math.min(d[1],d[3])+d[5])};A=I}A||(N=this.cachedCanvases.getCanvas("maskCanvas",s,l,!1),x(N.context,a));let G=i.Util.transform(d,[1/s,0,0,-1/l,0,0]);G=i.Util.transform(G,[1,0,0,1,0,-l]);const oe=i.Util.applyTransform([0,0],G),ce=i.Util.applyTransform([s,l],G),_e=i.Util.normalizeRect([oe[0],oe[1],ce[0],ce[1]]),me=Math.round(_e[2]-_e[0])||1,ue=Math.round(_e[3]-_e[1])||1,b=this.cachedCanvases.getCanvas("fillCanvas",me,ue,!0),w=b.context,ie=Math.min(oe[0],ce[0]),le=Math.min(oe[1],ce[1]);w.translate(-ie,-le),w.transform.apply(w,G),A||(A=this._scaleImage(N.canvas,w.mozCurrentTransformInverse),A=A.img,y&&p&&y.set(z,A)),w.imageSmoothingEnabled=Y(w.mozCurrentTransform,a.interpolate),C(w,A,0,0,A.width,A.height,0,0,s,l),w.globalCompositeOperation="source-in";const ee=i.Util.transform(w.mozCurrentTransformInverse,[1,0,0,1,-ie,-le]);return w.fillStyle=p?f.getPattern(e,this,ee,U.PathType.FILL):f,w.fillRect(0,0,s,l),y&&!p&&(this.cachedCanvases.delete("fillCanvas"),y.set(z,b.canvas)),{canvas:b.canvas,offsetX:Math.round(ie),offsetY:Math.round(le)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=J[a]}setLineJoin(a){this.ctx.lineJoin=Q[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,e){const s=this.ctx;void 0!==s.setLineDash&&(s.setLineDash(a),s.lineDashOffset=e)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let e=0,s=a.length;e<s;e++){const l=a[e],p=l[1];switch(l[0]){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p[0],p[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=p;break;case"SMask":this.current.activeSMask=p?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=p}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const f=this.ctx;f.setTransform.apply(f,this.suspendedCtx.mozCurrentTransform),u(this.suspendedCtx,f),function m(R,a){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){a.save(),this.__originalSave()},R.restore=function(){a.restore(),this.__originalRestore()},R.translate=function(s,l){a.translate(s,l),this.__originalTranslate(s,l)},R.scale=function(s,l){a.scale(s,l),this.__originalScale(s,l)},R.transform=function(s,l,f,p,d,y){a.transform(s,l,f,p,d,y),this.__originalTransform(s,l,f,p,d,y)},R.setTransform=function(s,l,f,p,d,y){a.setTransform(s,l,f,p,d,y),this.__originalSetTransform(s,l,f,p,d,y)},R.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},R.rotate=function(s){a.rotate(s),this.__originalRotate(s)},R.clip=function(s){a.clip(s),this.__originalClip(s)},R.moveTo=function(e,s){a.moveTo(e,s),this.__originalMoveTo(e,s)},R.lineTo=function(e,s){a.lineTo(e,s),this.__originalLineTo(e,s)},R.bezierCurveTo=function(e,s,l,f,p,d){a.bezierCurveTo(e,s,l,f,p,d),this.__originalBezierCurveTo(e,s,l,f,p,d)},R.rect=function(e,s,l,f){a.rect(e,s,l,f),this.__originalRect(e,s,l,f)},R.closePath=function(){a.closePath(),this.__originalClosePath()},R.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(f,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function j(R,a,e,s){const l=s[0],f=s[1],p=s[2]-l,d=s[3]-f;0===p||0===d||(function O(R,a,e,s,l,f,p,d,y,z,A){const N=!!f,G=N?f[0]:0,oe=N?f[1]:0,ce=N?f[2]:0;let _e;_e="Luminosity"===l?T:h;const ue=Math.min(s,Math.ceil(1048576/e));for(let b=0;b<s;b+=ue){const w=Math.min(ue,s-b),ie=R.getImageData(d-z,b+(y-A),e,w),le=a.getImageData(d,b+y,e,w);N&&v(ie.data,G,oe,ce),_e(ie.data,le.data,p),a.putImageData(le,d,b+y)}}(a.context,e,p,d,a.subtype,a.backdrop,a.transferMap,l,f,a.offsetX,a.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(e.canvas,0,0),R.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,e,s,l,f,p){this.ctx.transform(a,e,s,l,f,p),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,e,s){const l=this.ctx,f=this.current;let y,z,p=f.x,d=f.y;const A=l.mozCurrentTransform,N=0===A[0]&&0===A[3]||0===A[1]&&0===A[2],G=N?s.slice(0):null;for(let oe=0,ce=0,_e=a.length;oe<_e;oe++)switch(0|a[oe]){case i.OPS.rectangle:p=e[ce++],d=e[ce++];const me=e[ce++],ue=e[ce++],b=p+me,w=d+ue;l.moveTo(p,d),0===me||0===ue?l.lineTo(b,w):(l.lineTo(b,d),l.lineTo(b,w),l.lineTo(p,w)),N||f.updateRectMinMax(A,[p,d,b,w]),l.closePath();break;case i.OPS.moveTo:p=e[ce++],d=e[ce++],l.moveTo(p,d),N||f.updatePathMinMax(A,p,d);break;case i.OPS.lineTo:p=e[ce++],d=e[ce++],l.lineTo(p,d),N||f.updatePathMinMax(A,p,d);break;case i.OPS.curveTo:y=p,z=d,p=e[ce+4],d=e[ce+5],l.bezierCurveTo(e[ce],e[ce+1],e[ce+2],e[ce+3],p,d),f.updateCurvePathMinMax(A,y,z,e[ce],e[ce+1],e[ce+2],e[ce+3],p,d,G),ce+=6;break;case i.OPS.curveTo2:y=p,z=d,l.bezierCurveTo(p,d,e[ce],e[ce+1],e[ce+2],e[ce+3]),f.updateCurvePathMinMax(A,y,z,p,d,e[ce],e[ce+1],e[ce+2],e[ce+3],G),p=e[ce+2],d=e[ce+3],ce+=4;break;case i.OPS.curveTo3:y=p,z=d,p=e[ce+2],d=e[ce+3],l.bezierCurveTo(e[ce],e[ce+1],p,d,p,d),f.updateCurvePathMinMax(A,y,z,e[ce],e[ce+1],p,d,p,d,G),ce+=4;break;case i.OPS.closePath:l.closePath()}N&&f.updateScalingPathMinMax(A,G),f.setCurrentPoint(p,d)}closePath(){this.ctx.closePath()}stroke(a){a=!(typeof a<"u")||a;const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof s&&s?.getPattern?(e.save(),e.strokeStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,U.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=!(typeof a<"u")||a;const e=this.ctx,s=this.current.fillColor;let f=!1;this.current.patternFill&&(e.save(),e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,U.PathType.FILL),f=!0);const p=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==p&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),f&&e.restore(),a&&this.consumePath(p)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=he}eoClip(){this.pendingClip=pe}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,e=this.ctx;if(void 0!==a){e.save(),e.beginPath();for(let s=0;s<a.length;s++){const l=a[s];e.setTransform.apply(e,l.transform),e.translate(l.x,l.y),l.addToPath(e,l.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,e){const s=this.commonObjs.get(a),l=this.current;if(!s)throw new Error(`Can't find font for ${a}`);if(l.fontMatrix=s.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+a),e<0?(e=-e,l.fontDirection=-1):l.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;let p="normal";s.black?p="900":s.bold&&(p="bold");const d=s.italic?"italic":"normal",y=`"${s.loadedName||"sans-serif"}", ${s.fallbackName}`;let z=e;e<16?z=16:e>100&&(z=100),this.current.fontSizeScale=e/z,this.ctx.font=`${d} ${p} ${z}px ${y}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,e){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=e}setLeadingMoveText(a,e){this.setLeading(-e),this.moveText(a,e)}setTextMatrix(a,e,s,l,f,p){this.current.textMatrix=[a,e,s,l,f,p],this.current.textMatrixScale=Math.hypot(a,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,e,s,l){const f=this.ctx,p=this.current,d=p.font,y=p.textRenderingMode,z=p.fontSize/p.fontSizeScale,A=y&i.TextRenderingMode.FILL_STROKE_MASK,N=!!(y&i.TextRenderingMode.ADD_TO_PATH_FLAG),G=p.patternFill&&!d.missingFile;let oe;(d.disableFontFace||N||G)&&(oe=d.getPathGenerator(this.commonObjs,a)),d.disableFontFace||G?(f.save(),f.translate(e,s),f.beginPath(),oe(f,z),l&&f.setTransform.apply(f,l),(A===i.TextRenderingMode.FILL||A===i.TextRenderingMode.FILL_STROKE)&&f.fill(),(A===i.TextRenderingMode.STROKE||A===i.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((A===i.TextRenderingMode.FILL||A===i.TextRenderingMode.FILL_STROKE)&&f.fillText(a,e,s),(A===i.TextRenderingMode.STROKE||A===i.TextRenderingMode.FILL_STROKE)&&f.strokeText(a,e,s)),N&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:e,y:s,fontSize:z,addToPath:oe})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const e=a.getImageData(0,0,10,10).data;let s=!1;for(let l=3;l<e.length;l+=4)if(e[l]>0&&e[l]<255){s=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",s)}showText(a){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(a);const l=e.fontSize;if(0===l)return;const f=this.ctx,p=e.fontSizeScale,d=e.charSpacing,y=e.wordSpacing,z=e.fontDirection,A=e.textHScale*z,N=a.length,G=s.vertical,oe=G?1:-1,ce=s.defaultVMetrics,_e=l*e.fontMatrix[0],me=e.textRenderingMode===i.TextRenderingMode.FILL&&!s.disableFontFace&&!e.patternFill;let ue;if(f.save(),f.transform.apply(f,e.textMatrix),f.translate(e.x,e.y+e.textRise),f.scale(A,z>0?-1:1),e.patternFill){f.save();const ee=e.fillColor.getPattern(f,this,f.mozCurrentTransformInverse,U.PathType.FILL);ue=f.mozCurrentTransform,f.restore(),f.fillStyle=ee}let b=e.lineWidth;const w=e.textMatrixScale;if(0===w||0===b){const ee=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(ee===i.TextRenderingMode.STROKE||ee===i.TextRenderingMode.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=w;1!==p&&(f.scale(p,p),b/=p),f.lineWidth=b;let le,ie=0;for(le=0;le<N;++le){const ee=a[le];if("number"==typeof ee){ie+=oe*ee*l/1e3;continue}let Z=!1;const ae=(ee.isSpace?y:0)+d,I=ee.fontChar,re=ee.accent;let B,te,ve,de=ee.width;if(G){const se=ee.vmetric||ce,q=-(ee.vmetric?se[1]:.5*de)*_e;de=se?-se[0]:de,B=q/p,te=(ie+se[2]*_e)/p}else B=ie/p,te=0;if(s.remeasure&&de>0){const se=1e3*f.measureText(I).width/l*p;if(de<se&&this.isFontSubpixelAAEnabled){const q=de/se;Z=!0,f.save(),f.scale(q,1),B/=q}else de!==se&&(B+=(de-se)/2e3*l/p)}this.contentVisible&&(ee.isInFont||s.missingFile)&&(me&&!re?f.fillText(I,B,te):(this.paintChar(I,B,te,ue),re&&this.paintChar(re.fontChar,B+l*re.offset.x/p,te-l*re.offset.y/p,ue))),ve=G?de*_e-ae*z:de*_e+ae*z,ie+=ve,Z&&f.restore()}G?e.y-=ie:e.x+=ie*A,f.restore(),this.compose()}showType3Text(a){const e=this.ctx,s=this.current,l=s.font,f=s.fontSize,p=s.fontDirection,d=l.vertical?1:-1,y=s.charSpacing,z=s.wordSpacing,A=s.textHScale*p,N=s.fontMatrix||i.FONT_IDENTITY_MATRIX,G=a.length;let ce,_e,me,ue;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==f){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,s.textMatrix),e.translate(s.x,s.y),e.scale(A,p),ce=0;ce<G;++ce){if(_e=a[ce],"number"==typeof _e){ue=d*_e*f/1e3,this.ctx.translate(ue,0),s.x+=ue*A;continue}const b=(_e.isSpace?z:0)+y,w=l.charProcOperatorList[_e.operatorListId];w?(this.contentVisible&&(this.processingType3=_e,this.save(),e.scale(f,f),e.transform.apply(e,N),this.executeOperatorList(w),this.restore()),me=i.Util.applyTransform([_e.width,0],N)[0]*f+b,e.translate(me,0),s.x+=me*A):(0,i.warn)(`Type3 character "${_e.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(a,e){}setCharWidthAndBounds(a,e,s,l,f,p){this.ctx.rect(s,l,f-s,p-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let e;if("TilingPattern"===a[0]){const s=a[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new U.TilingPattern(a,s,this.ctx,{createCanvasGraphics:p=>new fe(p,this.commonObjs,this.objs,this.canvasFactory)},l)}else e=this._getPattern(a[1],a[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,e,s){const l=this.selectColor?.(a,e,s)||i.Util.makeHexColor(a,e,s);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(a,e,s){const l=this.selectColor?.(a,e,s)||i.Util.makeHexColor(a,e,s);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(a,e=null){let s;return this.cachedPatterns.has(a)?s=this.cachedPatterns.get(a):(s=(0,U.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,s)),e&&(s.matrix=e),s}shadingFill(a){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(a);e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,U.PathType.SHADING);const l=e.mozCurrentTransformInverse;if(l){const f=e.canvas,p=f.width,d=f.height,y=i.Util.applyTransform([0,0],l),z=i.Util.applyTransform([0,d],l),A=i.Util.applyTransform([p,0],l),N=i.Util.applyTransform([p,d],l),G=Math.min(y[0],z[0],A[0],N[0]),oe=Math.min(y[1],z[1],A[1],N[1]),ce=Math.max(y[0],z[0],A[0],N[0]),_e=Math.max(y[1],z[1],A[1],N[1]);this.ctx.fillRect(G,oe,ce-G,_e-oe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;a.isolated||(0,i.info)("TODO: Support non-isolated groups."),a.knockout&&(0,i.warn)("Knockout groups not supported.");const s=e.mozCurrentTransform;if(a.matrix&&e.transform.apply(e,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let l=i.Util.getAxialAlignedBoundingBox(a.bbox,e.mozCurrentTransform);l=i.Util.intersect(l,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const p=Math.floor(l[0]),d=Math.floor(l[1]);let y=Math.max(Math.ceil(l[2])-p,1),z=Math.max(Math.ceil(l[3])-d,1),A=1,N=1;y>V&&(A=y/V,y=V),z>V&&(N=z/V,z=V),this.current.startNewPathAndClipBox([0,0,y,z]);let G="groupAt"+this.groupLevel;a.smask&&(G+="_smask_"+this.smaskCounter++%2);const oe=this.cachedCanvases.getCanvas(G,y,z,!0),ce=oe.context;ce.scale(1/A,1/N),ce.translate(-p,-d),ce.transform.apply(ce,s),a.smask?this.smaskStack.push({canvas:oe.canvas,context:ce,offsetX:p,offsetY:d,scaleX:A,scaleY:N,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(p,d),e.scale(A,N),e.save()),u(e,ce),this.ctx=ce,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const f=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],l);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(f)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,e,s,l,f){if(this.save(),Array.isArray(e)&&4===e.length){const p=e[2]-e[0],d=e[3]-e[1];if(f&&this.annotationCanvasMap){(s=s.slice())[4]-=e[0],s[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=p,e[3]=d;const[y,z]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:A}=this,N=Math.ceil(p*this.outputScaleX*A),G=Math.ceil(d*this.outputScaleY*A);this.annotationCanvas=this.canvasFactory.create(N,G);const{canvas:oe,context:ce}=this.annotationCanvas,_e=`var(--zoom-factor) * ${F.PixelsPerInch.PDF_TO_CSS_UNITS}`;oe.style.width=`calc(${p}px * ${_e})`,oe.style.height=`calc(${d}px * ${_e})`,this.annotationCanvasMap.set(a,oe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ce,this.ctx.setTransform(y,0,0,-z,0,d*z),P(this.ctx),E(this.ctx,this.foregroundColor)}else E(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],p,d),this.ctx.clip(),this.endPath()}this.current=new t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,s),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const e=a.count;(a=this.getObject(a.data,a)).count=e;const s=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function n(R){const{width:a,height:e}=R;if(a>1e3||e>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=a+1;let d,y,z,p=new Uint8Array(f*(e+1));const A=a+7&-8;let N=new Uint8Array(A*e),G=0;for(const w of R.data){let ie=128;for(;ie>0;)N[G++]=w&ie?0:255,ie>>=1}let oe=0;for(G=0,0!==N[G]&&(p[0]=1,++oe),y=1;y<a;y++)N[G]!==N[G+1]&&(p[y]=N[G]?2:1,++oe),G++;for(0!==N[G]&&(p[y]=2,++oe),d=1;d<e;d++){G=d*A,z=d*f,N[G-A]!==N[G]&&(p[z]=N[G]?1:8,++oe);let w=(N[G]?4:0)+(N[G-A]?8:0);for(y=1;y<a;y++)w=(w>>2)+(N[G+1]?4:0)+(N[G-A+1]?8:0),l[w]&&(p[z+y]=l[w],++oe),G++;if(N[G-A]!==N[G]&&(p[z+y]=N[G]?2:4,++oe),oe>1e3)return null}for(G=A*(e-1),z=d*f,0!==N[G]&&(p[z]=8,++oe),y=1;y<a;y++)N[G]!==N[G+1]&&(p[z+y]=N[G]?4:8,++oe),G++;if(0!==N[G]&&(p[z+y]=4,++oe),oe>1e3)return null;const ce=new Int32Array([0,f,-1,0,-f,0,0,0,1]);let _e,me,ue;for(W.isNodeJS?me=[]:_e=new Path2D,d=0;oe&&d<=e;d++){let w=d*f;const ie=w+a;for(;w<ie&&!p[w];)w++;if(w===ie)continue;_e?_e.moveTo(w%f,d):ue=[w%f,d];const le=w;let ee=p[w];do{const Z=ce[ee];do{w+=Z}while(!p[w]);const ae=p[w];5!==ae&&10!==ae?(ee=ae,p[w]=0):(ee=ae&51*ee>>4,p[w]&=ee>>2|ee<<2),_e?_e.lineTo(w%f,w/f|0):ue.push(w%f,w/f|0),p[w]||--oe}while(le!==w);_e||me.push(ue),--d}return N=null,p=null,function(w){if(w.save(),w.scale(1/a,-1/e),w.translate(0,-e),_e)w.fill(_e);else{w.beginPath();for(const ie of me){w.moveTo(ie[0],ie[1]);for(let le=2,ee=ie.length;le<ee;le+=2)w.lineTo(ie[le],ie[le+1])}w.fill()}w.beginPath(),w.restore()}}(a)),l.compiled))return void l.compiled(s);const f=this._createMaskCanvas(a),p=f.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(p,f.offsetX,f.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(a,e,s=0,l=0,f,p){if(!this.contentVisible)return;a=this.getObject(a.data,a);const d=this.ctx;d.save();const y=d.mozCurrentTransform;d.transform(e,s,l,f,0,0);const z=this._createMaskCanvas(a);d.setTransform(1,0,0,1,0,0);for(let A=0,N=p.length;A<N;A+=2){const G=i.Util.transform(y,[e,s,l,f,p[A],p[A+1]]),[oe,ce]=i.Util.applyTransform([0,0],G);d.drawImage(z.canvas,oe,ce)}d.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,l=this.current.patternFill;for(let f=0,p=a.length;f<p;f++){const d=a[f],y=d.width,z=d.height,A=this.cachedCanvases.getCanvas("maskCanvas",y,z,!1),N=A.context;N.save(),x(N,d),N.globalCompositeOperation="source-in",N.fillStyle=l?s.getPattern(N,this,e.mozCurrentTransformInverse,U.PathType.FILL):s,N.fillRect(0,0,y,z),N.restore(),e.save(),e.transform.apply(e,d.transform),e.scale(1,-1),C(e,A.canvas,0,0,y,z,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const e=this.getObject(a);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,e,s,l){if(!this.contentVisible)return;const f=this.getObject(a);if(!f)return void(0,i.warn)("Dependent image isn't ready yet");const p=f.width,d=f.height,y=[];for(let z=0,A=l.length;z<A;z+=2)y.push({transform:[e,0,0,s,l[z],l[z+1]],x:0,y:0,w:p,h:d});this.paintInlineImageXObjectGroup(f,y)}paintInlineImageXObject(a){if(!this.contentVisible)return;const e=a.width,s=a.height,l=this.ctx;let f;if(this.save(),l.scale(1/e,-1/s),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)f=a;else{const z=this.cachedCanvases.getCanvas("inlineImage",e,s,!1);g(z.context,a,this.current.transferMaps),f=z.canvas}const p=this._scaleImage(f,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=Y(l.mozCurrentTransform,a.interpolate);const[d,y]=C(l,p.img,0,0,p.paintWidth,p.paintHeight,0,-s,e,s);if(this.imageLayer){const z=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:a,left:z[0],top:z[1],width:d,height:y})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,e){if(!this.contentVisible)return;const s=this.ctx,l=a.width,f=a.height,p=this.cachedCanvases.getCanvas("inlineImage",l,f,!1);g(p.context,a,this.current.transferMaps);for(let y=0,z=e.length;y<z;y++){const A=e[y];if(s.save(),s.transform.apply(s,A.transform),s.scale(1,-1),C(s,p.canvas,A.x,A.y,A.w,A.h,0,-1,1,1),this.imageLayer){const N=this.getCanvasPosition(A.x,A.y);this.imageLayer.appendImage({imgData:a,left:N[0],top:N[1],width:l,height:f})}s.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,e){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,e){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===pe?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const e=Math.abs(a[0]*a[3]-a[2]*a[1]),s=Math.hypot(a[0],a[2]),l=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(s,l)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,e=this.ctx.mozCurrentTransform;let s,l;if(0===e[1]&&0===e[2]){const f=Math.abs(e[0]),p=Math.abs(e[3]);if(0===a)s=1/f,l=1/p;else{const d=f*a,y=p*a;s=d<1?1/d:1,l=y<1?1/y:1}}else{const f=Math.abs(e[0]*e[3]-e[2]*e[1]),p=Math.hypot(e[0],e[1]),d=Math.hypot(e[2],e[3]);if(0===a)s=d/f,l=p/f;else{const y=a*f;s=d>y?d/y:1,l=p>y?p/y:1}}this._cachedScaleForStroking=[s,l]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:e}=this,{lineWidth:s}=this.current,[l,f]=this.getScaleForStroking();if(e.lineWidth=s||1,1===l&&1===f)return void e.stroke();let p,d,y;a&&(p=e.mozCurrentTransform.slice(),d=e.getLineDash().slice(),y=e.lineDashOffset),e.scale(l,f);const z=Math.max(l,f);e.setLineDash(e.getLineDash().map(A=>A/z)),e.lineDashOffset/=z,e.stroke(),a&&(e.setTransform(...p),e.setLineDash(d),e.lineDashOffset=y)}getCanvasPosition(a,e){const s=this.ctx.mozCurrentTransform;return[s[0]*a+s[2]*e+s[4],s[1]*a+s[3]*e+s[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}o.CanvasGraphics=fe;for(const R in i.OPS)void 0!==fe.prototype[R]&&(fe.prototype[i.OPS[R]]=fe.prototype[R])},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=function c(M){switch(M[0]){case"RadialAxial":return new D(M);case"Mesh":return new X(M);case"Dummy":return new $}throw new Error(`Unknown IR type: ${M[0]}`)};var i=k(1),U=k(3);const r={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W(M,m){if(!m||U.isNodeJS)return;const P=m[2]-m[0],L=m[3]-m[1],C=new Path2D;C.rect(m[0],m[1],P,L),M.clip(C)}o.PathType=r;class F{constructor(){this.constructor===F&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class D extends F{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let P;"axial"===this._type?P=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(P=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const L of this._colorStops)P.addColorStop(L[0],L[1]);return P}getPattern(m,P,L,C){let n;if(C===r.STROKE||C===r.FILL){const t=P.current.getClippedPathBoundingBox(C,m.mozCurrentTransform)||[0,0,0,0],g=Math.ceil(t[2]-t[0])||1,x=Math.ceil(t[3]-t[1])||1,u=P.cachedCanvases.getCanvas("pattern",g,x,!0),E=u.context;E.clearRect(0,0,E.canvas.width,E.canvas.height),E.beginPath(),E.rect(0,0,E.canvas.width,E.canvas.height),E.translate(-t[0],-t[1]),L=i.Util.transform(L,[1,0,0,1,t[0],t[1]]),E.transform.apply(E,P.baseTransform),this.matrix&&E.transform.apply(E,this.matrix),W(E,this._bbox),E.fillStyle=this._createGradient(E),E.fill(),n=m.createPattern(u.canvas,"no-repeat");const v=new DOMMatrix(L);try{n.setTransform(v)}catch(h){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${h?.message}".`)}}else W(m,this._bbox),n=this._createGradient(m);return n}}function S(M,m,P,L,C,n,t,g){const x=m.coords,u=m.colors,E=M.data,v=4*M.width;let h;x[P+1]>x[L+1]&&(h=P,P=L,L=h,h=n,n=t,t=h),x[L+1]>x[C+1]&&(h=L,L=C,C=h,h=t,t=g,g=h),x[P+1]>x[L+1]&&(h=P,P=L,L=h,h=n,n=t,t=h);const T=(x[P]+m.offsetX)*m.scaleX,O=(x[P+1]+m.offsetY)*m.scaleY,j=(x[L]+m.offsetX)*m.scaleX,Y=(x[L+1]+m.offsetY)*m.scaleY,J=(x[C]+m.offsetX)*m.scaleX,Q=(x[C+1]+m.offsetY)*m.scaleY;if(O>=Q)return;const he=u[n],pe=u[n+1],fe=u[n+2],R=u[t],a=u[t+1],e=u[t+2],s=u[g],l=u[g+1],f=u[g+2],p=Math.round(O),d=Math.round(Q);let y,z,A,N,G,oe,ce,_e;for(let me=p;me<=d;me++){if(me<Y){let le;le=me<O?0:(O-me)/(O-Y),y=T-(T-j)*le,z=he-(he-R)*le,A=pe-(pe-a)*le,N=fe-(fe-e)*le}else{let le;le=me>Q?1:Y===Q?0:(Y-me)/(Y-Q),y=j-(j-J)*le,z=R-(R-s)*le,A=a-(a-l)*le,N=e-(e-f)*le}let ue;ue=me<O?0:me>Q?1:(O-me)/(O-Q),G=T-(T-J)*ue,oe=he-(he-s)*ue,ce=pe-(pe-l)*ue,_e=fe-(fe-f)*ue;const b=Math.round(Math.min(y,G)),w=Math.round(Math.max(y,G));let ie=v*me+4*b;for(let le=b;le<=w;le++)ue=(y-le)/(y-G),ue<0?ue=0:ue>1&&(ue=1),E[ie++]=z-(z-oe)*ue|0,E[ie++]=A-(A-ce)*ue|0,E[ie++]=N-(N-_e)*ue|0,E[ie++]=255}}function V(M,m,P){const L=m.coords,C=m.colors;let n,t;switch(m.type){case"lattice":const g=m.verticesPerRow,x=Math.floor(L.length/g)-1,u=g-1;for(n=0;n<x;n++){let E=n*g;for(let v=0;v<u;v++,E++)S(M,P,L[E],L[E+1],L[E+g],C[E],C[E+1],C[E+g]),S(M,P,L[E+g+1],L[E+1],L[E+g],C[E+g+1],C[E+1],C[E+g])}break;case"triangles":for(n=0,t=L.length;n<t;n+=3)S(M,P,L[n],L[n+1],L[n+2],C[n],C[n+1],C[n+2]);break;default:throw new Error("illegal figure")}}class X extends F{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,P,L){const g=Math.floor(this._bounds[0]),x=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-g,E=Math.ceil(this._bounds[3])-x,v=Math.min(Math.ceil(Math.abs(u*m[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(E*m[1]*1.1)),3e3),T=u/v,O=E/h,j={coords:this._coords,colors:this._colors,offsetX:-g,offsetY:-x,scaleX:1/T,scaleY:1/O},Q=L.getCanvas("mesh",v+4,h+4,!1),he=Q.context,pe=he.createImageData(v,h);if(P){const R=pe.data;for(let a=0,e=R.length;a<e;a+=4)R[a]=P[0],R[a+1]=P[1],R[a+2]=P[2],R[a+3]=255}for(const R of this._figures)V(pe,R,j);return he.putImageData(pe,2,2),{canvas:Q.canvas,offsetX:g-2*T,offsetY:x-2*O,scaleX:T,scaleY:O}}getPattern(m,P,L,C){let n;if(W(m,this._bbox),C===r.SHADING)n=i.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(n=i.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const g=i.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*g[0],n[1]*g[1]]}const t=this._createMeshCanvas(n,C===r.SHADING?null:this._background,P.cachedCanvases);return C!==r.SHADING&&(m.setTransform.apply(m,P.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(t.offsetX,t.offsetY),m.scale(t.scaleX,t.scaleY),m.createPattern(t.canvas,"no-repeat")}}class $ extends F{getPattern(){return"hotpink"}}class _{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,P,L,C,n){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=P,this.ctx=L,this.canvasGraphicsFactory=C,this.baseTransform=n}createPatternCanvas(m){const P=this.operatorList,L=this.bbox,C=this.xstep,n=this.ystep,t=this.paintType,x=this.color,u=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const E=L[0],v=L[1],h=L[2],T=L[3],O=i.Util.singularValueDecompose2dScale(this.matrix),j=i.Util.singularValueDecompose2dScale(this.baseTransform),Y=[O[0]*j[0],O[1]*j[1]],J=this.getSizeAndScale(C,this.ctx.canvas.width,Y[0]),Q=this.getSizeAndScale(n,this.ctx.canvas.height,Y[1]),he=m.cachedCanvases.getCanvas("pattern",J.size,Q.size,!0),pe=he.context,fe=u.createCanvasGraphics(pe);fe.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(fe,t,x);let R=E,a=v,e=h,s=T;return E<0&&(R=0,e+=Math.abs(E)),v<0&&(a=0,s+=Math.abs(v)),pe.translate(-J.scale*R,-Q.scale*a),fe.transform(J.scale,0,0,Q.scale,0,0),pe.save(),this.clipBbox(fe,R,a,e,s),fe.baseTransform=fe.ctx.mozCurrentTransform.slice(),fe.executeOperatorList(P),fe.endDrawing(),{canvas:he.canvas,scaleX:J.scale,scaleY:Q.scale,offsetX:R,offsetY:a}}getSizeAndScale(m,P,L){m=Math.abs(m);const C=Math.max(_.MAX_PATTERN_SIZE,P);let n=Math.ceil(m*L);return n>=C?n=C:L=n/m,{scale:L,size:n}}clipBbox(m,P,L,C,n){m.ctx.rect(P,L,C-P,n-L),m.current.updateRectMinMax(m.ctx.mozCurrentTransform,[P,L,C,n]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,P,L){const C=m.ctx,n=m.current;switch(P){case 1:const t=this.ctx;C.fillStyle=t.fillStyle,C.strokeStyle=t.strokeStyle,n.fillColor=t.fillStyle,n.strokeColor=t.strokeStyle;break;case 2:const g=i.Util.makeHexColor(L[0],L[1],L[2]);C.fillStyle=g,C.strokeStyle=g,n.fillColor=g,n.strokeColor=g;break;default:throw new i.FormatError(`Unsupported paint type: ${P}`)}}getPattern(m,P,L,C){let n=L;C!==r.SHADING&&(n=i.Util.transform(n,P.baseTransform),this.matrix&&(n=i.Util.transform(n,this.matrix)));const t=this.createPatternCanvas(P);let g=new DOMMatrix(n);g=g.translate(t.offsetX,t.offsetY),g=g.scale(1/t.scaleX,1/t.scaleY);const x=m.createPattern(t.canvas,"repeat");try{x.setTransform(g)}catch(u){(0,i.warn)(`TilingPattern.getPattern: "${u?.message}".`)}return x}}o.TilingPattern=_},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.applyMaskImageData=function U({src:r,srcPos:W=0,dest:F,destPos:D=0,width:S,height:V,inverseDecode:X=!1}){const $=i.FeatureTest.isLittleEndian?4278190080:255,[c,H]=X?[0,$]:[$,0],_=S>>3,M=7&S,m=r.length;F=new Uint32Array(F.buffer);for(let P=0;P<V;P++){for(const C=W+_;W<C;W++){const n=W<m?r[W]:255;F[D++]=128&n?H:c,F[D++]=64&n?H:c,F[D++]=32&n?H:c,F[D++]=16&n?H:c,F[D++]=8&n?H:c,F[D++]=4&n?H:c,F[D++]=2&n?H:c,F[D++]=1&n?H:c}if(0===M)continue;const L=W<m?r[W++]:255;for(let C=0;C<M;C++)F[D++]=L&1<<7-C?H:c}return{srcPos:W,destPos:D}};var i=k(1)},(ne,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const k=Object.create(null);o.GlobalWorkerOptions=k,k.workerPort=void 0===k.workerPort?null:k.workerPort,k.workerSrc=void 0===k.workerSrc?"":k.workerSrc},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var i=k(1);function W(D){switch(D instanceof Error||"object"==typeof D&&null!==D||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),D.name){case"AbortException":return new i.AbortException(D.message);case"MissingPDFException":return new i.MissingPDFException(D.message);case"PasswordException":return new i.PasswordException(D.message,D.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(D.message,D.status);case"UnknownErrorException":return new i.UnknownErrorException(D.message,D.details);default:return new i.UnknownErrorException(D.message,D.toString())}}o.MessageHandler=class F{constructor(S,V,X){this.sourceName=S,this.targetName=V,this.comObj=X,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=$=>{const c=$.data;if(c.targetName!==this.sourceName)return;if(c.stream)return void this._processStreamMessage(c);if(c.callback){const _=c.callbackId,M=this.callbackCapabilities[_];if(!M)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],1===c.callback)M.resolve(c.data);else{if(2!==c.callback)throw new Error("Unexpected callback case");M.reject(W(c.reason))}return}const H=this.actionHandler[c.action];if(!H)throw new Error(`Unknown action from worker: ${c.action}`);if(c.callbackId){const _=this.sourceName,M=c.sourceName;new Promise(function(m){m(H(c.data))}).then(function(m){X.postMessage({sourceName:_,targetName:M,callback:1,callbackId:c.callbackId,data:m})},function(m){X.postMessage({sourceName:_,targetName:M,callback:2,callbackId:c.callbackId,reason:W(m)})})}else c.streamId?this._createStreamSink(c):H(c.data)},X.addEventListener("message",this._onComObjOnMessage)}on(S,V){const X=this.actionHandler;if(X[S])throw new Error(`There is already an actionName called "${S}"`);X[S]=V}send(S,V,X){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:S,data:V},X)}sendWithPromise(S,V,X){const $=this.callbackId++,c=(0,i.createPromiseCapability)();this.callbackCapabilities[$]=c;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:S,callbackId:$,data:V},X)}catch(H){c.reject(H)}return c.promise}sendWithStream(S,V,X,$){const c=this.streamId++,H=this.sourceName,_=this.targetName,M=this.comObj;return new ReadableStream({start:m=>{const P=(0,i.createPromiseCapability)();return this.streamControllers[c]={controller:m,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},M.postMessage({sourceName:H,targetName:_,action:S,streamId:c,data:V,desiredSize:m.desiredSize},$),P.promise},pull:m=>{const P=(0,i.createPromiseCapability)();return this.streamControllers[c].pullCall=P,M.postMessage({sourceName:H,targetName:_,stream:6,streamId:c,desiredSize:m.desiredSize}),P.promise},cancel:m=>{(0,i.assert)(m instanceof Error,"cancel must have a valid reason");const P=(0,i.createPromiseCapability)();return this.streamControllers[c].cancelCall=P,this.streamControllers[c].isClosed=!0,M.postMessage({sourceName:H,targetName:_,stream:1,streamId:c,reason:W(m)}),P.promise}},X)}_createStreamSink(S){const V=S.streamId,X=this.sourceName,$=S.sourceName,c=this.comObj,H=this,_=this.actionHandler[S.action],M={enqueue(m,P=1,L){if(this.isCancelled)return;const C=this.desiredSize;this.desiredSize-=P,C>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),c.postMessage({sourceName:X,targetName:$,stream:4,streamId:V,chunk:m},L)},close(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:X,targetName:$,stream:3,streamId:V}),delete H.streamSinks[V])},error(m){(0,i.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,c.postMessage({sourceName:X,targetName:$,stream:5,streamId:V,reason:W(m)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:S.desiredSize,ready:null};M.sinkCapability.resolve(),M.ready=M.sinkCapability.promise,this.streamSinks[V]=M,new Promise(function(m){m(_(S.data,M))}).then(function(){c.postMessage({sourceName:X,targetName:$,stream:8,streamId:V,success:!0})},function(m){c.postMessage({sourceName:X,targetName:$,stream:8,streamId:V,reason:W(m)})})}_processStreamMessage(S){const V=S.streamId,X=this.sourceName,$=S.sourceName,c=this.comObj,H=this.streamControllers[V],_=this.streamSinks[V];switch(S.stream){case 8:S.success?H.startCall.resolve():H.startCall.reject(W(S.reason));break;case 7:S.success?H.pullCall.resolve():H.pullCall.reject(W(S.reason));break;case 6:if(!_){c.postMessage({sourceName:X,targetName:$,stream:7,streamId:V,success:!0});break}_.desiredSize<=0&&S.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=S.desiredSize,new Promise(function(M){M(_.onPull&&_.onPull())}).then(function(){c.postMessage({sourceName:X,targetName:$,stream:7,streamId:V,success:!0})},function(M){c.postMessage({sourceName:X,targetName:$,stream:7,streamId:V,reason:W(M)})});break;case 4:if((0,i.assert)(H,"enqueue should have stream controller"),H.isClosed)break;H.controller.enqueue(S.chunk);break;case 3:if((0,i.assert)(H,"close should have stream controller"),H.isClosed)break;H.isClosed=!0,H.controller.close(),this._deleteStreamController(H,V);break;case 5:(0,i.assert)(H,"error should have stream controller"),H.controller.error(W(S.reason)),this._deleteStreamController(H,V);break;case 2:S.success?H.cancelCall.resolve():H.cancelCall.reject(W(S.reason)),this._deleteStreamController(H,V);break;case 1:if(!_)break;new Promise(function(M){M(_.onCancel&&_.onCancel(W(S.reason)))}).then(function(){c.postMessage({sourceName:X,targetName:$,stream:2,streamId:V,success:!0})},function(M){c.postMessage({sourceName:X,targetName:$,stream:2,streamId:V,reason:W(M)})}),_.sinkCapability.reject(W(S.reason)),_.isCancelled=!0,delete this.streamSinks[V];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(S,V){var X=this;return _asyncToGenerator(function*(){yield Promise.allSettled([S.startCall&&S.startCall.promise,S.pullCall&&S.pullCall.promise,S.cancelCall&&S.cancelCall.promise]),delete X.streamControllers[V]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var i=k(1),U=new WeakMap,r=new WeakMap;o.Metadata=class W{constructor({parsedData:D,rawData:S}){_classPrivateFieldInitSpec(this,U,void 0),_classPrivateFieldInitSpec(this,r,void 0),_classPrivateFieldSet(U,this,D),_classPrivateFieldSet(r,this,S)}getRaw(){return _classPrivateFieldGet(r,this)}get(D){return _classPrivateFieldGet(U,this).get(D)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(U,this))}has(D){return _classPrivateFieldGet(U,this).has(D)}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var i=k(1);class U{constructor(F,D){this.visible=!0,this.name=F,this.intent=D}}o.OptionalContentConfig=class r{constructor(F){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==F){this.name=F.name,this.creator=F.creator,this._order=F.order;for(const D of F.groups)this._groups.set(D.id,new U(D.name,D.intent));if("OFF"===F.baseState)for(const D of this._groups)D.visible=!1;for(const D of F.on)this._groups.get(D).visible=!0;for(const D of F.off)this._groups.get(D).visible=!1}}_evaluateVisibilityExpression(F){const D=F.length;if(D<2)return!0;const S=F[0];for(let V=1;V<D;V++){const X=F[V];let $;if(Array.isArray(X))$=this._evaluateVisibilityExpression(X);else{if(!this._groups.has(X))return(0,i.warn)(`Optional content group not found: ${X}`),!0;$=this._groups.get(X).visible}switch(S){case"And":if(!$)return!1;break;case"Or":if($)return!0;break;case"Not":return!$;default:return!0}}return"And"===S}isVisible(F){if(0===this._groups.size)return!0;if(!F)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===F.type)return this._groups.has(F.id)?this._groups.get(F.id).visible:((0,i.warn)(`Optional content group not found: ${F.id}`),!0);if("OCMD"===F.type){if(F.expression)return this._evaluateVisibilityExpression(F.expression);if(!F.policy||"AnyOn"===F.policy){for(const D of F.ids){if(!this._groups.has(D))return(0,i.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!0}return!1}if("AllOn"===F.policy){for(const D of F.ids){if(!this._groups.has(D))return(0,i.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!1}return!0}if("AnyOff"===F.policy){for(const D of F.ids){if(!this._groups.has(D))return(0,i.warn)(`Optional content group not found: ${D}`),!0;if(!this._groups.get(D).visible)return!0}return!1}if("AllOff"===F.policy){for(const D of F.ids){if(!this._groups.has(D))return(0,i.warn)(`Optional content group not found: ${D}`),!0;if(this._groups.get(D).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${F.policy}.`),!0}return(0,i.warn)(`Unknown group type ${F.type}.`),!0}setVisibility(F,D=!0){this._groups.has(F)?this._groups.get(F).visible=!!D:(0,i.warn)(`Optional content group not found: ${F}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(F){return this._groups.get(F)||null}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var i=k(1),U=k(5);o.PDFDataTransportStream=class r{constructor(S,V){(0,i.assert)(V,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=S.progressiveDone||!1,this._contentDispositionFilename=S.contentDispositionFilename||null;const X=S.initialData;if(X?.length>0){const $=new Uint8Array(X).buffer;this._queuedChunks.push($)}this._pdfDataRangeTransport=V,this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._contentLength=S.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(($,c)=>{this._onReceiveData({begin:$,chunk:c})}),this._pdfDataRangeTransport.addProgressListener(($,c)=>{this._onProgress({loaded:$,total:c})}),this._pdfDataRangeTransport.addProgressiveReadListener($=>{this._onReceiveData({chunk:$})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(S){const V=new Uint8Array(S.chunk).buffer;if(void 0===S.begin)this._fullRequestReader?this._fullRequestReader._enqueue(V):this._queuedChunks.push(V);else{const X=this._rangeReaders.some(function($){return $._begin===S.begin&&($._enqueue(V),!0)});(0,i.assert)(X,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(S){if(void 0===S.total){const V=this._rangeReaders[0];V?.onProgress&&V.onProgress({loaded:S.loaded})}else{const V=this._fullRequestReader;V?.onProgress&&V.onProgress({loaded:S.loaded,total:S.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(S){const V=this._rangeReaders.indexOf(S);V>=0&&this._rangeReaders.splice(V,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const S=this._queuedChunks;return this._queuedChunks=null,new W(this,S,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(S,V){if(V<=this._progressiveDataLength)return null;const X=new F(this,S,V);return this._pdfDataRangeTransport.requestDataRange(S,V),this._rangeReaders.push(X),X}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(const V of this._rangeReaders.slice(0))V.cancel(S);this._pdfDataRangeTransport.abort()}};class W{constructor(S,V,X=!1,$=null){this._stream=S,this._done=X||!1,this._filename=(0,U.isPdfFile)($)?$:null,this._queuedChunks=V||[],this._loaded=0;for(const c of this._queuedChunks)this._loaded+=c.byteLength;this._requests=[],this._headersReady=Promise.resolve(),S._fullRequestReader=this,this.onProgress=null}_enqueue(S){this._done||(this._requests.length>0?this._requests.shift().resolve({value:S,done:!1}):this._queuedChunks.push(S),this._loaded+=S.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var S=this;return _asyncToGenerator(function*(){if(S._queuedChunks.length>0)return{value:S._queuedChunks.shift(),done:!1};if(S._done)return{value:void 0,done:!0};const V=(0,i.createPromiseCapability)();return S._requests.push(V),V.promise})()}cancel(S){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class F{constructor(S,V,X){this._stream=S,this._begin=V,this._end=X,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(S){if(!this._done){if(0===this._requests.length)this._queuedChunk=S;else{this._requests.shift().resolve({value:S,done:!1});for(const X of this._requests)X.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var S=this;return _asyncToGenerator(function*(){if(S._queuedChunk){const X=S._queuedChunk;return S._queuedChunk=null,{value:X,done:!1}}if(S._done)return{value:void 0,done:!0};const V=(0,i.createPromiseCapability)();return S._requests.push(V),V.promise})()}cancel(S){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ne,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class k{static textContent(U){const r=[],W={items:r,styles:Object.create(null)};return function F(D){if(!D)return;let S=null;const V=D.name;if("#text"===V)S=D.value;else{if(!k.shouldBuildText(V))return;D?.attributes?.textContent?S=D.attributes.textContent:D.value&&(S=D.value)}if(null!==S&&r.push({str:S}),D.children)for(const X of D.children)F(X)}(U),W}static shouldBuildText(U){return!("textarea"===U||"input"===U||"option"===U||"select"===U)}}o.XfaText=k},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var i=k(6);const U=function(D){return new Promise((S,V)=>{__webpack_require__(23237).readFile(D,($,c)=>{!$&&c?S(new Uint8Array(c)):V(new Error($))})})};o.NodeCanvasFactory=class r extends i.BaseCanvasFactory{_createCanvas(S,V){return __webpack_require__(17640).createCanvas(S,V)}},o.NodeCMapReaderFactory=class W extends i.BaseCMapReaderFactory{_fetchData(S,V){return U(S).then(X=>({cMapData:X,compressionType:V}))}},o.NodeStandardFontDataFactory=class F extends i.BaseStandardFontDataFactory{_fetchData(S){return U(S)}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayer=void 0;var i=k(1),U=k(5),r=k(8),W=k(21),F=k(22);const D=1e3,S=new WeakSet;function V(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class X{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new c(e);case i.AnnotationType.TEXT:return new H(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new M(e);case"Btn":return e.data.radioButton?new P(e):e.data.checkBox?new m(e):new L(e);case"Ch":return new C(e)}return new _(e);case i.AnnotationType.POPUP:return new n(e);case i.AnnotationType.FREETEXT:return new g(e);case i.AnnotationType.LINE:return new x(e);case i.AnnotationType.SQUARE:return new u(e);case i.AnnotationType.CIRCLE:return new E(e);case i.AnnotationType.POLYLINE:return new v(e);case i.AnnotationType.CARET:return new T(e);case i.AnnotationType.INK:return new O(e);case i.AnnotationType.POLYGON:return new h(e);case i.AnnotationType.HIGHLIGHT:return new j(e);case i.AnnotationType.UNDERLINE:return new Y(e);case i.AnnotationType.SQUIGGLY:return new J(e);case i.AnnotationType.STRIKEOUT:return new Q(e);case i.AnnotationType.STAMP:return new he(e);case i.AnnotationType.FILEATTACHMENT:return new pe(e);default:return new $(e)}}}class ${constructor(e,{isRenderable:s=!1,ignoreBorder:l=!1,createQuadrilaterals:f=!1}={}){this.isRenderable=s,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,s&&(this.container=this._createContainer(l)),f&&(this.quadrilaterals=this._createQuadrilaterals(l))}_createContainer(e=!1){const s=this.data,l=this.page,f=this.viewport,p=document.createElement("section");let{width:d,height:y}=V(s.rect);p.setAttribute("data-annotation-id",s.id);const z=i.Util.normalizeRect([s.rect[0],l.view[3]-s.rect[1]+l.view[1],s.rect[2],l.view[3]-s.rect[3]+l.view[1]]);if(s.hasOwnCanvas){const A=f.transform.slice(),[N,G]=i.Util.singularValueDecompose2dScale(A);d=Math.ceil(d*N),y=Math.ceil(y*G),z[0]*=N,z[1]*=G;for(let oe=0;oe<4;oe++)A[oe]=Math.sign(A[oe]);p.style.transform=`matrix(${A.join(",")})`}else p.style.transform=`matrix(${f.transform.join(",")})`;if(p.style.transformOrigin=`${-z[0]}px ${-z[1]}px`,!e&&s.borderStyle.width>0){p.style.borderWidth=`${s.borderStyle.width}px`,s.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(d-=2*s.borderStyle.width,y-=2*s.borderStyle.width);const A=s.borderStyle.horizontalCornerRadius,N=s.borderStyle.verticalCornerRadius;switch((A>0||N>0)&&(p.style.borderRadius=`${A}px / ${N}px`),s.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:p.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:p.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:p.style.borderBottomStyle="solid"}s.borderColor||s.color?p.style.borderColor=i.Util.makeHexColor(0|s.color[0],0|s.color[1],0|s.color[2]):p.style.borderWidth=0}return p.style.left=`${z[0]}px`,p.style.top=`${z[1]}px`,s.hasOwnCanvas?p.style.width=p.style.height="auto":(p.style.width=`${d}px`,p.style.height=`${y}px`),p}get _commonActions(){const e=(s,l,f)=>{const p=f.detail[s];f.target.style[l]=W.ColorConverters[`${p[0]}_HTML`](p.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:s=>{const l=s.detail.display%2==1;s.target.style.visibility=l?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l,print:0===s.detail.display||3===s.detail.display})},print:s=>{this.annotationStorage.setValue(this.data.id,{print:s.detail.print})},hidden:s=>{s.target.style.visibility=s.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:s.detail.hidden})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.detail.readonly?s.target.setAttribute("readonly",""):s.target.removeAttribute("readonly")},required:s=>{s.detail.required?s.target.setAttribute("required",""):s.target.removeAttribute("required")},bgColor:s=>{e("bgColor","backgroundColor",s)},fillColor:s=>{e("fillColor","backgroundColor",s)},fgColor:s=>{e("fgColor","color",s)},textColor:s=>{e("textColor","color",s)},borderColor:s=>{e("borderColor","borderColor",s)},strokeColor:s=>{e("strokeColor","borderColor",s)}})}_dispatchEventFromSandbox(e,s){const l=this._commonActions;for(const f of Object.keys(s.detail)){const p=e[f]||l[f];p&&p(s)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const l=this._commonActions;for(const[f,p]of Object.entries(s)){const d=l[f];d&&(d({detail:p,target:e}),delete s[f])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const s=[],l=this.data.rect;for(const f of this.data.quadPoints)this.data.rect=[f[2].x,f[2].y,f[1].x,f[1].y],s.push(this._createContainer(e));return this.data.rect=l,s}_createPopup(e,s){let l=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,l=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=l.style.height,e.style.width=l.style.width,l.appendChild(e));const p=new t({container:l,trigger:e,color:s.color,titleObj:s.titleObj,modificationDate:s.modificationDate,contentsObj:s.contentsObj,richText:s.richText,hideWrapper:!0}).render();p.style.left=l.style.width,l.appendChild(p)}_renderQuadrilaterals(e){for(const s of this.quadrilaterals)s.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,s=null){const l=[];if(this._fieldObjects){const f=this._fieldObjects[e];if(f)for(const{page:p,id:d,exportValues:y}of f){if(-1===p||d===s)continue;const z="string"==typeof y?y:null,A=document.getElementById(d);!A||S.has(A)?l.push({id:d,exportValue:z,domElement:A}):(0,i.warn)(`_getElementsByName - element not allowed: ${d}`)}return l}for(const f of document.getElementsByName(e)){const{id:p,exportValue:d}=f;p!==s&&S.has(f)&&l.push({id:p,exportValue:d,domElement:f})}return l}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class c extends ${constructor(e,s=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!s?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:s}=this,l=document.createElement("a");if(e.url)s.addLinkAttributes(l,e.url,e.newWindow);else if(e.action)this._bindNamedAction(l,e.action);else if(e.dest)this._bindLink(l,e.dest);else{let f=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(f=!0,this._bindJSAction(l,e)),e.resetForm?this._bindResetFormAction(l,e.resetForm):f||this._bindLink(l,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((f,p)=>{const d=0===p?l:l.cloneNode();return f.appendChild(d),f}):(this.container.className="linkAnnotation",this.container.appendChild(l),this.container)}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||""===s)&&(e.className="internalLink")}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),e.className="internalLink"}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const l=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const f of Object.keys(s.actions)){const p=l.get(f);p&&(e[p]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:f}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,s){const l=e.onclick;if(l||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(l||(e.onclick=()=>!1));e.onclick=()=>{l&&l();const{fields:f,refs:p,include:d}=s,y=[];if(0!==f.length||0!==p.length){const N=new Set(p);for(const G of f){const oe=this._fieldObjects[G]||[];for(const{id:ce}of oe)N.add(ce)}for(const G of Object.values(this._fieldObjects))for(const oe of G)N.has(oe.id)===d&&y.push(oe)}else for(const N of Object.values(this._fieldObjects))y.push(...N);const z=this.annotationStorage,A=[];for(const N of y){const{id:G}=N;switch(A.push(G),N.type){case"text":case"combobox":case"listbox":z.setValue(G,{value:N.defaultValue||""});break;case"checkbox":case"radiobutton":z.setValue(G,{value:N.defaultValue===N.exportValues});break;default:continue}const oe=document.getElementById(G);!oe||!S.has(oe)||oe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:A,name:"ResetForm"}}),!1}}}class H extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class _ extends ${render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:s,isMac:l}=$.platform;return s&&e.ctrlKey||l&&e.metaKey}_setEventListener(e,s,l,f){s.includes("mouse")?e.addEventListener(s,p=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:f(p),shift:p.shiftKey,modifier:this._getKeyModifier(p)}})}):e.addEventListener(s,p=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:f(p)}})})}_setEventListeners(e,s,l){for(const[f,p]of s)("Action"===p||this.data.actions?.[p])&&this._setEventListener(e,f,p,l)}_setBackgroundColor(e){const s=this.data.backgroundColor||null;e.style.backgroundColor=null===s?"transparent":i.Util.makeHexColor(s[0],s[1],s[2])}}class M extends _{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,s,l,f){const p=this.annotationStorage;for(const d of this._getElementsByName(e.name,e.id))d.domElement&&(d.domElement[s]=l),p.setValue(d.id,{[f]:l})}render(){const e=this.annotationStorage,s=this.data.id;this.container.className="textWidgetAnnotation";let l=null;if(this.renderForms){const f=e.getValue(s,{value:this.data.fieldValue}),p=f.formattedValue||f.value||"",d={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(l=document.createElement("textarea"),l.textContent=p):(l=document.createElement("input"),l.type="text",l.setAttribute("value",p)),S.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.tabIndex=D,d.userValue=p,l.setAttribute("id",s),l.addEventListener("input",z=>{e.setValue(s,{value:z.target.value}),this.setPropertyOnSiblings(l,"value",z.target.value,"value")}),l.addEventListener("resetform",z=>{l.value=d.userValue=this.data.defaultFieldValue??"",d.formattedValue=null});let y=z=>{const{formattedValue:A}=d;null!=A&&(z.target.value=A),z.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){l.addEventListener("focus",A=>{d.userValue&&(A.target.value=d.userValue),d.valueOnFocus=A.target.value}),l.addEventListener("updatefromsandbox",A=>{this._dispatchEventFromSandbox({value(G){d.userValue=G.detail.value??"",e.setValue(s,{value:d.userValue.toString()}),G.target.value=d.userValue},formattedValue(G){const{formattedValue:oe}=G.detail;d.formattedValue=oe,null!=oe&&G.target!==document.activeElement&&(G.target.value=oe),e.setValue(s,{formattedValue:oe})},selRange(G){G.target.setSelectionRange(...G.detail.selRange)}},A)}),l.addEventListener("keydown",A=>{let N=-1;if("Escape"===A.key?N=0:"Enter"===A.key?N=2:"Tab"===A.key&&(N=3),-1===N)return;const{value:G}=A.target;d.valueOnFocus!==G&&(d.userValue=G,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:G,willCommit:!0,commitKey:N,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const z=y;y=null,l.addEventListener("blur",A=>{const{value:N}=A.target;d.userValue=N,this._mouseState.isDown&&d.valueOnFocus!==N&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),z(A)}),this.data.actions?.Keystroke&&l.addEventListener("beforeinput",A=>{const{data:N,target:G}=A,{value:oe,selectionStart:ce,selectionEnd:_e}=G;let me=ce,ue=_e;switch(A.inputType){case"deleteWordBackward":{const b=oe.substring(0,ce).match(/\w*[^\w]*$/);b&&(me-=b[0].length);break}case"deleteWordForward":{const b=oe.substring(ce).match(/^[^\w]*\w*/);b&&(ue+=b[0].length);break}case"deleteContentBackward":ce===_e&&(me-=1);break;case"deleteContentForward":ce===_e&&(ue+=1)}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:oe,change:N||"",willCommit:!1,selStart:me,selEnd:ue}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&l.addEventListener("blur",y),null!==this.data.maxLen&&(l.maxLength=this.data.maxLen),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;l.classList.add("comb"),l.style.letterSpacing=`calc(${A}px - 1ch)`}}else l=document.createElement("div"),l.textContent=this.data.fieldValue,l.style.verticalAlign="middle",l.style.display="table-cell";return this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}_setTextStyle(e){const{fontSize:l,fontColor:f}=this.data.defaultAppearanceData,p=e.style;l&&(p.fontSize=`${l}px`),p.color=i.Util.makeHexColor(f[0],f[1],f[2]),null!==this.data.textAlignment&&(p.textAlign=["left","center","right"][this.data.textAlignment])}}class m extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,s=this.data,l=s.id;let f=e.getValue(l,{value:s.exportValue===s.fieldValue}).value;"string"==typeof f&&(f="Off"!==f,e.setValue(l,{value:f})),this.container.className="buttonWidgetAnnotation checkBox";const p=document.createElement("input");return S.add(p),p.disabled=s.readOnly,p.type="checkbox",p.name=s.fieldName,f&&p.setAttribute("checked",!0),p.setAttribute("id",l),p.setAttribute("exportValue",s.exportValue),p.tabIndex=D,p.addEventListener("change",d=>{const{name:y,checked:z}=d.target;for(const A of this._getElementsByName(y,l)){const N=z&&A.exportValue===s.exportValue;A.domElement&&(A.domElement.checked=N),e.setValue(A.id,{value:N})}e.setValue(l,{value:z})}),p.addEventListener("resetform",d=>{d.target.checked=(s.defaultFieldValue||"Off")===s.exportValue}),this.enableScripting&&this.hasJSActions&&(p.addEventListener("updatefromsandbox",d=>{this._dispatchEventFromSandbox({value(z){z.target.checked="Off"!==z.detail.value,e.setValue(l,{value:z.target.checked})}},d)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}}class P extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,s=this.data,l=s.id;let f=e.getValue(l,{value:s.fieldValue===s.buttonValue}).value;"string"==typeof f&&(f=f!==s.buttonValue,e.setValue(l,{value:f}));const p=document.createElement("input");if(S.add(p),p.disabled=s.readOnly,p.type="radio",p.name=s.fieldName,f&&p.setAttribute("checked",!0),p.setAttribute("id",l),p.tabIndex=D,p.addEventListener("change",d=>{const{name:y,checked:z}=d.target;for(const A of this._getElementsByName(y,l))e.setValue(A.id,{value:!1});e.setValue(l,{value:z})}),p.addEventListener("resetform",d=>{const y=s.defaultFieldValue;d.target.checked=null!=y&&y===s.buttonValue}),this.enableScripting&&this.hasJSActions){const d=s.buttonValue;p.addEventListener("updatefromsandbox",y=>{this._dispatchEventFromSandbox({value:A=>{const N=d===A.detail.value;for(const G of this._getElementsByName(A.target.name)){const oe=N&&G.id===l;G.domElement&&(G.domElement.checked=oe),e.setValue(G.id,{value:oe})}}},y)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.checked)}return this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}}class L extends c{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class C extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,s=this.data.id,l=e.getValue(s,{value:this.data.fieldValue});let{fontSize:f}=this.data.defaultAppearanceData;f||(f=9);const p=`calc(${f}px * var(--zoom-factor))`,d=document.createElement("select");S.add(d),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.setAttribute("id",s),d.tabIndex=D,d.style.fontSize=`${f}px`,this.data.combo||(d.size=this.data.options.length,this.data.multiSelect&&(d.multiple=!0)),d.addEventListener("resetform",A=>{const N=this.data.defaultFieldValue;for(const G of d.options)G.selected=G.value===N});for(const A of this.data.options){const N=document.createElement("option");N.textContent=A.displayValue,N.value=A.exportValue,this.data.combo&&(N.style.fontSize=p),l.value.includes(A.exportValue)&&N.setAttribute("selected",!0),d.appendChild(N)}const y=(A,N)=>{const G=N?"value":"textContent",oe=A.target.options;return A.target.multiple?Array.prototype.filter.call(oe,ce=>ce.selected).map(ce=>ce[G]):-1===oe.selectedIndex?null:oe[oe.selectedIndex][G]},z=A=>Array.prototype.map.call(A.target.options,G=>({displayValue:G.textContent,exportValue:G.value}));return this.enableScripting&&this.hasJSActions?(d.addEventListener("updatefromsandbox",A=>{this._dispatchEventFromSandbox({value(G){const oe=G.detail.value,ce=new Set(Array.isArray(oe)?oe:[oe]);for(const _e of d.options)_e.selected=ce.has(_e.value);e.setValue(s,{value:y(G,!0)})},multipleSelection(G){d.multiple=!0},remove(G){const oe=d.options,ce=G.detail.remove;oe[ce].selected=!1,d.remove(ce),oe.length>0&&-1===Array.prototype.findIndex.call(oe,me=>me.selected)&&(oe[0].selected=!0),e.setValue(s,{value:y(G,!0),items:z(G)})},clear(G){for(;0!==d.length;)d.remove(0);e.setValue(s,{value:null,items:[]})},insert(G){const{index:oe,displayValue:ce,exportValue:_e}=G.detail.insert,me=document.createElement("option");me.textContent=ce,me.value=_e,d.insertBefore(me,d.children[oe]),e.setValue(s,{value:y(G,!0),items:z(G)})},items(G){const{items:oe}=G.detail;for(;0!==d.length;)d.remove(0);for(const ce of oe){const{displayValue:_e,exportValue:me}=ce,ue=document.createElement("option");ue.textContent=_e,ue.value=me,d.appendChild(ue)}d.options.length>0&&(d.options[0].selected=!0),e.setValue(s,{value:y(G,!0),items:z(G)})},indices(G){const oe=new Set(G.detail.indices);for(const ce of G.target.options)ce.selected=oe.has(ce.index);e.setValue(s,{value:y(G,!0)})},editable(G){G.target.disabled=!G.detail.editable}},A)}),d.addEventListener("input",A=>{const N=y(A,!0),G=y(A,!1);e.setValue(s,{value:N}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:G,changeEx:N,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],A=>A.target.checked)):d.addEventListener("input",function(A){e.setValue(s,{value:y(A,!0)})}),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}}class n extends ${constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const l=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===l.length)return this.container;const f=new t({container:this.container,trigger:Array.from(l),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),p=this.page,d=i.Util.normalizeRect([this.data.parentRect[0],p.view[3]-this.data.parentRect[1]+p.view[1],this.data.parentRect[2],p.view[3]-this.data.parentRect[3]+p.view[1]]),y=d[0]+this.data.parentRect[2]-this.data.parentRect[0],z=d[1];return this.container.style.transformOrigin=`${-y}px ${-z}px`,this.container.style.left=`${y}px`,this.container.style.top=`${z}px`,this.container.appendChild(f.render()),this.container}}class t{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const s=document.createElement("div");s.className="popupWrapper",this.hideElement=this.hideWrapper?s:this.container,this.hideElement.hidden=!0;const l=document.createElement("div");l.className="popup";const f=this.color;f&&(l.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-f[0])+f[0],0|.7*(255-f[1])+f[1],0|.7*(255-f[2])+f[2]));const p=document.createElement("h1");p.dir=this.titleObj.dir,p.textContent=this.titleObj.str,l.appendChild(p);const d=U.PDFDateString.toDateObject(this.modificationDate);if(d){const y=document.createElement("span");y.className="popupDate",y.textContent="{{date}}, {{time}}",y.dataset.l10nId="annotation_date_string",y.dataset.l10nArgs=JSON.stringify({date:d.toLocaleDateString(),time:d.toLocaleTimeString()}),l.appendChild(y)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const y=this._formatContents(this.contentsObj);l.appendChild(y)}else F.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:l}),l.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const y of this.trigger)y.addEventListener("click",this._toggle.bind(this)),y.addEventListener("mouseover",this._show.bind(this,!1)),y.addEventListener("mouseout",this._hide.bind(this,!1));return l.addEventListener("click",this._hide.bind(this,!0)),s.appendChild(l),s}_formatContents({str:e,dir:s}){const l=document.createElement("p");l.className="popupContent",l.dir=s;const f=e.split(/(?:\r\n?|\n)/);for(let p=0,d=f.length;p<d;++p)l.appendChild(document.createTextNode(f[p])),p<d-1&&l.appendChild(document.createElement("br"));return l}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class g extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class x extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:s,height:l}=V(e.rect),f=this.svgFactory.create(s,l),p=this.svgFactory.createElement("svg:line");return p.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),p.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),p.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),p.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),p.setAttribute("stroke-width",e.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),f.appendChild(p),this.container.append(f),this._createPopup(p,e),this.container}}class u extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:s,height:l}=V(e.rect),f=this.svgFactory.create(s,l),p=e.borderStyle.width,d=this.svgFactory.createElement("svg:rect");return d.setAttribute("x",p/2),d.setAttribute("y",p/2),d.setAttribute("width",s-p),d.setAttribute("height",l-p),d.setAttribute("stroke-width",p||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),f.appendChild(d),this.container.append(f),this._createPopup(d,e),this.container}}class E extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:s,height:l}=V(e.rect),f=this.svgFactory.create(s,l),p=e.borderStyle.width,d=this.svgFactory.createElement("svg:ellipse");return d.setAttribute("cx",s/2),d.setAttribute("cy",l/2),d.setAttribute("rx",s/2-p/2),d.setAttribute("ry",l/2-p/2),d.setAttribute("stroke-width",p||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),f.appendChild(d),this.container.append(f),this._createPopup(d,e),this.container}}class v extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:l}=V(e.rect),f=this.svgFactory.create(s,l);let p=[];for(const y of e.vertices)p.push(y.x-e.rect[0]+","+(e.rect[3]-y.y));p=p.join(" ");const d=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",p),d.setAttribute("stroke-width",e.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),f.appendChild(d),this.container.append(f),this._createPopup(d,e),this.container}}class h extends v{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:l}=V(e.rect),f=this.svgFactory.create(s,l);for(const p of e.inkLists){let d=[];for(const z of p)d.push(`${z.x-e.rect[0]},${e.rect[3]-z.y}`);d=d.join(" ");const y=this.svgFactory.createElement(this.svgElementName);y.setAttribute("points",d),y.setAttribute("stroke-width",e.borderStyle.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),this._createPopup(y,e),f.appendChild(y)}return this.container.append(f),this.container}}class j extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Y extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class J extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Q extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class he extends ${constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class pe extends ${constructor(e){super(e,{isRenderable:!0});const{filename:s,content:l}=this.data.file;this.filename=(0,U.getFilenameFromUrl)(s),this.content=l,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:s,content:l})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class fe{static render(e){const s=[],l=[];for(const p of e.annotations){if(!p)continue;const{width:d,height:y}=V(p.rect);if(!(d<=0||y<=0)){if(p.annotationType===i.AnnotationType.POPUP){l.push(p);continue}s.push(p)}}l.length&&s.push(...l);const f=e.div;for(const p of s){const d=X.create({data:p,layer:f,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new U.DOMSVGFactory,annotationStorage:e.annotationStorage||new r.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(d.isRenderable){const y=d.render();if(p.hidden&&(y.style.visibility="hidden"),Array.isArray(y))for(const z of y)f.appendChild(z);else d instanceof n?f.prepend(y):f.appendChild(y)}}_assertClassBrand(fe,this,R).call(this,f,e.annotationCanvasMap)}static update(e){const{page:s,viewport:l,annotations:f,annotationCanvasMap:p,div:d}=e,y=l.transform,z=`matrix(${y.join(",")})`;let A,N;for(const G of f){const oe=d.querySelectorAll(`[data-annotation-id="${G.id}"]`);if(oe)for(const ce of oe)if(G.hasOwnCanvas){const _e=i.Util.normalizeRect([G.rect[0],s.view[3]-G.rect[1]+s.view[1],G.rect[2],s.view[3]-G.rect[3]+s.view[1]]);if(!N){A=Math.abs(y[0]||y[1]);const b=y.slice();for(let w=0;w<4;w++)b[w]=Math.sign(b[w]);N=`matrix(${b.join(",")})`}const me=_e[0]*A,ue=_e[1]*A;ce.style.left=`${me}px`,ce.style.top=`${ue}px`,ce.style.transformOrigin=`${-me}px ${-ue}px`,ce.style.transform=N}else ce.style.transform=z}_assertClassBrand(fe,this,R).call(this,d,p),d.hidden=!1}}function R(a,e){if(e){for(const[s,l]of e){const f=a.querySelector(`[data-annotation-id="${s}"]`);if(!f)continue;const{firstChild:p}=f;"CANVAS"===p.nodeName?f.replaceChild(l,p):f.insertBefore(l,p)}e.clear()}}o.AnnotationLayer=fe},(ne,o)=>{function k(U){return Math.floor(255*Math.max(0,Math.min(1,U))).toString(16).padStart(2,"0")}Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0,o.ColorConverters=class i{static CMYK_G([r,W,F,D]){return["G",1-Math.min(1,.3*r+.59*F+.11*W+D)]}static G_CMYK([r]){return["CMYK",0,0,0,1-r]}static G_RGB([r]){return["RGB",r,r,r]}static G_HTML([r]){const W=k(r);return`#${W}${W}${W}`}static RGB_G([r,W,F]){return["G",.3*r+.59*W+.11*F]}static RGB_HTML([r,W,F]){return`#${k(r)}${k(W)}${k(F)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([r,W,F,D]){return["RGB",1-Math.min(1,r+D),1-Math.min(1,F+D),1-Math.min(1,W+D)]}static CMYK_HTML(r){return this.RGB_HTML(this.CMYK_RGB(r))}static RGB_CMYK([r,W,F]){const D=1-r,S=1-W,V=1-F;return["CMYK",D,S,V,Math.min(D,S,V)]}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var i=k(18);o.XfaLayer=class U{static setupStorage(W,F,D,S,V){const X=S.getValue(F,{value:null});switch(D.name){case"textarea":if(null!==X.value&&(W.textContent=X.value),"print"===V)break;W.addEventListener("input",$=>{S.setValue(F,{value:$.target.value})});break;case"input":if("radio"===D.attributes.type||"checkbox"===D.attributes.type){if(X.value===D.attributes.xfaOn?W.setAttribute("checked",!0):X.value===D.attributes.xfaOff&&W.removeAttribute("checked"),"print"===V)break;W.addEventListener("change",$=>{S.setValue(F,{value:$.target.getAttribute($.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==X.value&&W.setAttribute("value",X.value),"print"===V)break;W.addEventListener("input",$=>{S.setValue(F,{value:$.target.value})})}break;case"select":if(null!==X.value)for(const $ of D.children)$.attributes.value===X.value&&($.attributes.selected=!0);W.addEventListener("input",$=>{const c=$.target.options;S.setValue(F,{value:-1===c.selectedIndex?"":c[c.selectedIndex].value})})}}static setAttributes({html:W,element:F,storage:D=null,intent:S,linkService:V}){const{attributes:X}=F,$=W instanceof HTMLAnchorElement;"radio"===X.type&&(X.name=`${X.name}-${S}`);for(const[c,H]of Object.entries(X))if(null!=H&&"dataId"!==c)if("style"!==c)if("textContent"===c)W.textContent=H;else if("class"===c)H.length&&W.setAttribute(c,H.join(" "));else{if($&&("href"===c||"newWindow"===c))continue;W.setAttribute(c,H)}else Object.assign(W.style,H);$&&V.addLinkAttributes(W,X.href,X.newWindow),D&&X.dataId&&this.setupStorage(W,X.dataId,F,D)}static render(W){const F=W.annotationStorage,D=W.linkService,S=W.xfaHtml,V=W.intent||"display",X=document.createElement(S.name);S.attributes&&this.setAttributes({html:X,element:S,intent:V,linkService:D});const $=[[S,-1,X]],c=W.div;if(c.appendChild(X),W.viewport){const _=`matrix(${W.viewport.transform.join(",")})`;c.style.transform=_}"richText"!==V&&c.setAttribute("class","xfaLayer xfaFont");const H=[];for(;$.length>0;){const[_,M,m]=$[$.length-1];if(M+1===_.children.length){$.pop();continue}const P=_.children[++$[$.length-1][1]];if(null===P)continue;const{name:L}=P;if("#text"===L){const n=document.createTextNode(P.value);H.push(n),m.appendChild(n);continue}let C;if(C=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,L):document.createElement(L),m.appendChild(C),P.attributes&&this.setAttributes({html:C,element:P,storage:F,intent:V,linkService:D}),P.children&&P.children.length>0)$.push([P,-1,C]);else if(P.value){const n=document.createTextNode(P.value);i.XfaText.shouldBuildText(L)&&H.push(n),C.appendChild(n)}}for(const _ of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:H}}static update(W){const F=`matrix(${W.viewport.transform.join(",")})`;W.div.style.transform=F,W.div.hidden=!1}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.renderTextLayer=function m(P){const L=new M({textContent:P.textContent,textContentStream:P.textContentStream,container:P.container,viewport:P.viewport,textDivs:P.textDivs,textContentItemsStr:P.textContentItemsStr,enhanceTextSelection:P.enhanceTextSelection});return L._render(P.timeout),L};var i=k(1);const r=30,F=new Map,D=/^\s+$/g;function V(P,L,C,n){const t=document.createElement("span"),g=P._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==L.str,hasEOL:L.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==L.str,hasEOL:L.hasEOL};P._textDivs.push(t);const x=i.Util.transform(P._viewport.transform,L.transform);let u=Math.atan2(x[1],x[0]);const E=C[L.fontName];E.vertical&&(u+=Math.PI/2);const v=Math.hypot(x[2],x[3]),h=v*function S(P,L){const C=F.get(P);if(C)return C;L.save(),L.font=`30px ${P}`;const n=L.measureText("");let t=n.fontBoundingBoxAscent,g=Math.abs(n.fontBoundingBoxDescent);if(t){L.restore();const u=t/(t+g);return F.set(P,u),u}L.strokeStyle="red",L.clearRect(0,0,r,r),L.strokeText("g",0,0);let x=L.getImageData(0,0,r,r).data;g=0;for(let u=x.length-1-3;u>=0;u-=4)if(x[u]>0){g=Math.ceil(u/4/r);break}L.clearRect(0,0,r,r),L.strokeText("A",0,r),x=L.getImageData(0,0,r,r).data,t=0;for(let u=0,E=x.length;u<E;u+=4)if(x[u]>0){t=r-Math.floor(u/4/r);break}if(L.restore(),t){const u=t/(t+g);return F.set(P,u),u}return F.set(P,.8),.8}(E.fontFamily,n);let T,O;0===u?(T=x[4],O=x[5]-h):(T=x[4]+h*Math.sin(u),O=x[5]-h*Math.cos(u)),t.style.left=`${T}px`,t.style.top=`${O}px`,t.style.fontSize=`${v}px`,t.style.fontFamily=E.fontFamily,t.setAttribute("role","presentation"),t.textContent=L.str,t.dir=L.dir,P._fontInspectorEnabled&&(t.dataset.fontName=L.fontName),0!==u&&(g.angle=u*(180/Math.PI));let j=!1;if(L.str.length>1||P._enhanceTextSelection&&D.test(L.str))j=!0;else if(" "!==L.str&&L.transform[0]!==L.transform[3]){const Y=Math.abs(L.transform[0]),J=Math.abs(L.transform[3]);Y!==J&&Math.max(Y,J)/Math.min(Y,J)>1.5&&(j=!0)}if(j&&(g.canvasWidth=E.vertical?L.height*P._viewport.scale:L.width*P._viewport.scale),P._textDivProperties.set(t,g),P._textContentStream&&P._layoutText(t),P._enhanceTextSelection&&g.hasText){let Y=1,J=0;0!==u&&(Y=Math.cos(u),J=Math.sin(u));const Q=(E.vertical?L.height:L.width)*P._viewport.scale,he=v;let pe,fe;0!==u?(pe=[Y,J,-J,Y,T,O],fe=i.Util.getAxialAlignedBoundingBox([0,0,Q,he],pe)):fe=[T,O,T+Q,O+he],P._bounds.push({left:fe[0],top:fe[1],right:fe[2],bottom:fe[3],div:t,size:[Q,he],m:pe})}}function X(P){if(P._canceled)return;const L=P._textDivs,C=P._capability,n=L.length;if(n>1e5)return P._renderingDone=!0,void C.resolve();if(!P._textContentStream)for(let t=0;t<n;t++)P._layoutText(L[t]);P._renderingDone=!0,C.resolve()}function $(P,L,C){let n=0;for(let t=0;t<C;t++){const g=P[L++];g>0&&(n=n?Math.min(g,n):g)}return n}function _(P,L){L.sort(function(t,g){return t.x1-g.x1||t.index-g.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const t of L){let g=0;for(;g<n.length&&n[g].end<=t.y1;)g++;let x=n.length-1;for(;x>=0&&n[x].start>=t.y2;)x--;let u,E,v,h,T=-1/0;for(v=g;v<=x;v++){let Y;u=n[v],E=u.boundary,Y=E.x2>t.x1?E.index>t.index?E.x1New:t.x1:void 0===E.x2New?(E.x2+t.x1)/2:E.x2New,Y>T&&(T=Y)}for(t.x1New=T,v=g;v<=x;v++)u=n[v],E=u.boundary,void 0===E.x2New?E.x2>t.x1?E.index>t.index&&(E.x2New=E.x2):E.x2New=T:E.x2New>T&&(E.x2New=Math.max(T,E.x2));const O=[];let j=null;for(v=g;v<=x;v++){u=n[v],E=u.boundary;const Y=E.x2>t.x2?E:t;j===Y?O[O.length-1].end=u.end:(O.push({start:u.start,end:u.end,boundary:Y}),j=Y)}for(n[g].start<t.y1&&(O[0].start=t.y1,O.unshift({start:n[g].start,end:t.y1,boundary:n[g].boundary})),t.y2<n[x].end&&(O[O.length-1].end=t.y2,O.push({start:t.y2,end:n[x].end,boundary:n[x].boundary})),v=g;v<=x;v++){if(u=n[v],E=u.boundary,void 0!==E.x2New)continue;let Y=!1;for(h=g-1;!Y&&h>=0&&n[h].start>=E.y1;h--)Y=n[h].boundary===E;for(h=x+1;!Y&&h<n.length&&n[h].end<=E.y2;h++)Y=n[h].boundary===E;for(h=0;!Y&&h<O.length;h++)Y=O[h].boundary===E;Y||(E.x2New=T)}Array.prototype.splice.apply(n,[g,x-g+1].concat(O))}for(const t of n){const g=t.boundary;void 0===g.x2New&&(g.x2New=Math.max(P,g.x2))}}class M{constructor({textContent:L,textContentStream:C,container:n,viewport:t,textDivs:g,textContentItemsStr:x,enhanceTextSelection:u}){this._textContent=L,this._textContentStream=C,this._container=n,this._document=n.ownerDocument,this._viewport=t,this._textDivs=g||[],this._textContentItemsStr=x||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(L,C){for(let n=0,t=L.length;n<t;n++)if(void 0!==L[n].str)this._textContentItemsStr.push(L[n].str),V(this,L[n],C,this._layoutTextCtx);else if("beginMarkedContentProps"===L[n].type||"beginMarkedContent"===L[n].type){const g=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==L[n].id&&this._container.setAttribute("id",`${L[n].id}`),g.appendChild(this._container)}else"endMarkedContent"===L[n].type&&(this._container=this._container.parentNode)}_layoutText(L){const C=this._textDivProperties.get(L);let n="";if(0!==C.canvasWidth&&C.hasText){const{fontSize:t,fontFamily:g}=L.style;(t!==this._layoutTextLastFontSize||g!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${t} ${g}`,this._layoutTextLastFontSize=t,this._layoutTextLastFontFamily=g);const{width:x}=this._layoutTextCtx.measureText(L.textContent);if(x>0){const u=C.canvasWidth/x;this._enhanceTextSelection&&(C.scale=u),n=`scaleX(${u})`}}if(0!==C.angle&&(n=`rotate(${C.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(C.originalTransform=n),L.style.transform=n),C.hasText&&this._container.appendChild(L),C.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.appendChild(t)}}_render(L=0){const C=(0,i.createPromiseCapability)();let n=Object.create(null);const t=this._document.createElement("canvas");if(t.height=t.width=r,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),C.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const g=()=>{this._reader.read().then(({value:x,done:u})=>{u?C.resolve():(Object.assign(n,x.styles),this._processItems(x.items,n),g())},C.reject)};this._reader=this._textContentStream.getReader(),g()}}C.promise.then(()=>{n=null,L?this._renderTimer=setTimeout(()=>{X(this),this._renderTimer=null},L):X(this)},this._capability.reject)}expandTextDivs(L=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function c(P){const L=P._bounds,C=P._viewport,n=function H(P,L,C){const n=C.map(function(g,x){return{x1:g.left,y1:g.top,x2:g.right,y2:g.bottom,index:x,x1New:void 0,x2New:void 0}});_(P,n);const t=new Array(C.length);for(const g of n)t[g.index]={left:g.x1New,top:0,right:g.x2New,bottom:0};C.map(function(g,x){const u=t[x],E=n[x];E.x1=g.top,E.y1=P-u.right,E.x2=g.bottom,E.y2=P-u.left,E.index=x,E.x1New=void 0,E.x2New=void 0}),_(L,n);for(const g of n){const x=g.index;t[x].top=g.x1New,t[x].bottom=g.x2New}return t}(C.width,C.height,L);for(let t=0;t<n.length;t++){const g=L[t].div,x=P._textDivProperties.get(g);if(0===x.angle){x.paddingLeft=L[t].left-n[t].left,x.paddingTop=L[t].top-n[t].top,x.paddingRight=n[t].right-L[t].right,x.paddingBottom=n[t].bottom-L[t].bottom,P._textDivProperties.set(g,x);continue}const u=n[t],E=L[t],v=E.m,h=v[0],T=v[1],O=[[0,0],[0,E.size[1]],[E.size[0],0],E.size],j=new Float64Array(64);for(let J=0,Q=O.length;J<Q;J++){const he=i.Util.applyTransform(O[J],v);j[J+0]=h&&(u.left-he[0])/h,j[J+4]=T&&(u.top-he[1])/T,j[J+8]=h&&(u.right-he[0])/h,j[J+12]=T&&(u.bottom-he[1])/T,j[J+16]=T&&(u.left-he[0])/-T,j[J+20]=h&&(u.top-he[1])/h,j[J+24]=T&&(u.right-he[0])/-T,j[J+28]=h&&(u.bottom-he[1])/h,j[J+32]=h&&(u.left-he[0])/-h,j[J+36]=T&&(u.top-he[1])/-T,j[J+40]=h&&(u.right-he[0])/-h,j[J+44]=T&&(u.bottom-he[1])/-T,j[J+48]=T&&(u.left-he[0])/T,j[J+52]=h&&(u.top-he[1])/-h,j[J+56]=T&&(u.right-he[0])/T,j[J+60]=h&&(u.bottom-he[1])/-h}const Y=1+Math.min(Math.abs(h),Math.abs(T));x.paddingLeft=$(j,32,16)/Y,x.paddingTop=$(j,48,16)/Y,x.paddingRight=$(j,0,16)/Y,x.paddingBottom=$(j,16,16)/Y,P._textDivProperties.set(g,x)}}(this),this._bounds=null);const C=[],n=[];for(let t=0,g=this._textDivs.length;t<g;t++){const x=this._textDivs[t],u=this._textDivProperties.get(x);u.hasText&&(L?(C.length=0,n.length=0,u.originalTransform&&C.push(u.originalTransform),u.paddingTop>0?(n.push(`${u.paddingTop}px`),C.push(`translateY(${-u.paddingTop}px)`)):n.push(0),n.push(u.paddingRight>0?u.paddingRight/u.scale+"px":0),n.push(u.paddingBottom>0?`${u.paddingBottom}px`:0),u.paddingLeft>0?(n.push(u.paddingLeft/u.scale+"px"),C.push(`translateX(${-u.paddingLeft/u.scale}px)`)):n.push(0),x.style.padding=n.join(" "),C.length&&(x.style.transform=C.join(" "))):(x.style.padding=null,x.style.transform=u.originalTransform))}}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var i=k(1),U=k(5),r=k(3);let W=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};o.SVGGraphics=W;{let _=function(n){let t=[];const g=[];for(const x of n)"save"!==x.fn?"restore"===x.fn?t=g.pop():t.push(x):(t.push({fnId:92,fn:"group",items:[]}),g.push(t),t=t[t.length-1].items);return t},M=function(n){if(Number.isInteger(n))return n.toString();const t=n.toFixed(10);let g=t.length-1;if("0"!==t[g])return t;do{g--}while("0"===t[g]);return t.substring(0,"."===t[g]?g:g+1)},m=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${M(n[0])} ${M(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const t=180*Math.acos(n[0])/Math.PI;return`rotate(${M(t)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${M(n[4])} ${M(n[5])})`;return`matrix(${M(n[0])} ${M(n[1])} ${M(n[2])} ${M(n[3])} ${M(n[4])} ${M(n[5])})`};const F={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/1999/xlink",V=["butt","round","square"],X=["miter","round","bevel"],$=function(n,t="",g=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!g)return URL.createObjectURL(new Blob([n],{type:t}));const x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let u=`data:${t};base64,`;for(let E=0,v=n.length;E<v;E+=3){const h=255&n[E],T=255&n[E+1],O=255&n[E+2];u+=x[h>>2]+x[(3&h)<<4|T>>4]+x[E+1<v?(15&T)<<2|O>>6:64]+x[E+2<v?63&O:64]}return u},c=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),g=new Int32Array(256);for(let O=0;O<256;O++){let j=O;for(let Y=0;Y<8;Y++)j=1&j?3988292384^j>>1&2147483647:j>>1&2147483647;g[O]=j}function u(O,j,Y,J){let Q=J;const he=j.length;Y[Q]=he>>24&255,Y[Q+1]=he>>16&255,Y[Q+2]=he>>8&255,Y[Q+3]=255&he,Q+=4,Y[Q]=255&O.charCodeAt(0),Y[Q+1]=255&O.charCodeAt(1),Y[Q+2]=255&O.charCodeAt(2),Y[Q+3]=255&O.charCodeAt(3),Q+=4,Y.set(j,Q),Q+=j.length;const pe=function x(O,j,Y){let J=-1;for(let Q=j;Q<Y;Q++)J=J>>>8^g[255&(J^O[Q])];return~J}(Y,J+4,Q);Y[Q]=pe>>24&255,Y[Q+1]=pe>>16&255,Y[Q+2]=pe>>8&255,Y[Q+3]=255&pe}function h(O){let j=O.length;const Y=65535,J=Math.ceil(j/Y),Q=new Uint8Array(2+j+5*J+4);let he=0;Q[he++]=120,Q[he++]=156;let pe=0;for(;j>Y;)Q[he++]=0,Q[he++]=255,Q[he++]=255,Q[he++]=0,Q[he++]=0,Q.set(O.subarray(pe,pe+Y),he),he+=Y,pe+=Y,j-=Y;Q[he++]=1,Q[he++]=255&j,Q[he++]=j>>8&255,Q[he++]=255&~j,Q[he++]=(65535&~j)>>8&255,Q.set(O.subarray(pe),he),he+=O.length-pe;const fe=function E(O,j,Y){let J=1,Q=0;for(let he=j;he<Y;++he)J=(J+(255&O[he]))%65521,Q=(Q+J)%65521;return Q<<16|J}(O,0,O.length);return Q[he++]=fe>>24&255,Q[he++]=fe>>16&255,Q[he++]=fe>>8&255,Q[he++]=255&fe,Q}return function(j,Y,J){return function T(O,j,Y,J){const Q=O.width,he=O.height;let pe,fe,R;const a=O.data;switch(j){case i.ImageKind.GRAYSCALE_1BPP:fe=0,pe=1,R=Q+7>>3;break;case i.ImageKind.RGB_24BPP:fe=2,pe=8,R=3*Q;break;case i.ImageKind.RGBA_32BPP:fe=6,pe=8,R=4*Q;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+R)*he);let s=0,l=0;for(let A=0;A<he;++A)e[s++]=0,e.set(a.subarray(l,l+R),s),l+=R,s+=R;if(j===i.ImageKind.GRAYSCALE_1BPP&&J){s=0;for(let A=0;A<he;A++){s++;for(let N=0;N<R;N++)e[s++]^=255}}const f=new Uint8Array([Q>>24&255,Q>>16&255,Q>>8&255,255&Q,he>>24&255,he>>16&255,he>>8&255,255&he,pe,fe,0,0,0]),p=function v(O){if(!r.isNodeJS)return h(O);try{let j;j=parseInt(process.versions.node)>=8?O:Buffer.from(O);const Y=__webpack_require__(82787).deflateSync(j,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(j){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+j)}return h(O)}(e),y=new Uint8Array(n.length+36+f.length+p.length);let z=0;return y.set(n,z),z+=n.length,u("IHDR",f,y,z),z+=12+f.length,u("IDATA",p,y,z),z+=12+p.length,u("IEND",new Uint8Array(0),y,z),$(y,"image/png",Y)}(j,void 0===j.kind?i.ImageKind.GRAYSCALE_1BPP:j.kind,Y,J)}}();class H{constructor(){this.fontSizeScale=1,this.fontWeight=F.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=F.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,g){this.x=t,this.y=g}}let P=0,L=0,C=0;o.SVGGraphics=W=class{constructor(n,t,g=!1){this.svgFactory=new U.DOMSVGFactory,this.current=new H,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!g,this._operatorIdMapping=[];for(const x in i.OPS)this._operatorIdMapping[i.OPS[x]]=x}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const t=n.fnArray,g=n.argsArray;for(let x=0,u=t.length;x<u;x++)if(t[x]===i.OPS.dependency)for(const E of g[x]){const v=E.startsWith("g_")?this.commonObjs:this.objs,h=new Promise(T=>{v.get(E,T)});this.current.dependencies.push(h)}return Promise.all(this.current.dependencies)}transform(n,t,g,x,u,E){this.transformMatrix=i.Util.transform(this.transformMatrix,[n,t,g,x,u,E]),this.tgrp=null}getSVG(n,t){this.viewport=t;const g=this._initialize(t);return this.loadDependencies(n).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),g))}convertOpList(n){const t=this._operatorIdMapping,g=n.argsArray,x=n.fnArray,u=[];for(let E=0,v=x.length;E<v;E++){const h=x[E];u.push({fnId:h,fn:t[h],args:g[E]})}return _(u)}executeOpTree(n){for(const t of n){const g=t.fn,u=t.args;switch(0|t.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(u);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(u[0],u[1]);break;case i.OPS.setFont:this.setFont(u);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(u[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(u[0],u[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(u[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(u[0]);break;case i.OPS.setHScale:this.setHScale(u[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(u[0],u[1],u[2],u[3],u[4],u[5]);break;case i.OPS.setTextRise:this.setTextRise(u[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(u[0]);break;case i.OPS.setLineWidth:this.setLineWidth(u[0]);break;case i.OPS.setLineJoin:this.setLineJoin(u[0]);break;case i.OPS.setLineCap:this.setLineCap(u[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(u[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(u[0],u[1],u[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(u[0],u[1],u[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(u);break;case i.OPS.setFillColorN:this.setFillColorN(u);break;case i.OPS.shadingFill:this.shadingFill(u[0]);break;case i.OPS.setDash:this.setDash(u[0],u[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(u[0]);break;case i.OPS.setFlatness:this.setFlatness(u[0]);break;case i.OPS.setGState:this.setGState(u[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(u[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(u[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(u[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(u[0],u[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(u[0],u[1],u[2],u[3],u[4],u[5]);break;case i.OPS.constructPath:this.constructPath(u[0],u[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${g}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,t,g,x,u,E){const v=this.current;v.textMatrix=v.lineMatrix=[n,t,g,x,u,E],v.textMatrixScale=Math.hypot(n,t),v.x=v.lineX=0,v.y=v.lineY=0,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${M(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",M(-v.y)),v.txtElement=this.svgFactory.createElement("svg:text"),v.txtElement.appendChild(v.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=i.IDENTITY_MATRIX,n.lineMatrix=i.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,t){const g=this.current;g.x=g.lineX+=n,g.y=g.lineY+=t,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${M(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",M(-g.y))}showText(n){const t=this.current,g=t.font,x=t.fontSize;if(0===x)return;const u=t.fontSizeScale,E=t.charSpacing,v=t.wordSpacing,h=t.fontDirection,T=t.textHScale*h,O=g.vertical,j=O?1:-1,Y=g.defaultVMetrics,J=x*t.fontMatrix[0];let Q=0;for(const fe of n){if(null===fe){Q+=h*v;continue}if("number"==typeof fe){Q+=j*fe*x/1e3;continue}const R=(fe.isSpace?v:0)+E,a=fe.fontChar;let e,s,f,l=fe.width;if(O){let p;const d=fe.vmetric||Y;p=fe.vmetric?d[1]:.5*l,p=-p*J,l=d?-d[0]:l,e=p/u,s=(Q+d[2]*J)/u}else e=Q/u,s=0;(fe.isInFont||g.missingFile)&&(t.xcoords.push(t.x+e),O&&t.ycoords.push(-t.y+s),t.tspan.textContent+=a),f=O?l*J-R*h:l*J+R*h,Q+=f}t.tspan.setAttributeNS(null,"x",t.xcoords.map(M).join(" ")),t.tspan.setAttributeNS(null,"y",O?t.ycoords.map(M).join(" "):M(-t.y)),O?t.y-=Q:t.x+=Q*T,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${M(t.fontSize)}px`),t.fontStyle!==F.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==F.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const he=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;he===i.TextRenderingMode.FILL||he===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==F.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(he===i.TextRenderingMode.STROKE||he===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));let pe=t.textMatrix;0!==t.textRise&&(pe=pe.slice(),pe[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${m(pe)} scale(${M(T)}, -1)`),t.txtElement.setAttributeNS(D,"xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}setLeadingMoveText(n,t){this.setLeading(-t),this.moveText(n,t)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const t=$(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${t}); }\n`}setFont(n){const t=this.current,g=this.commonObjs.get(n[0]);let x=n[1];t.font=g,this.embedFonts&&!g.missingFile&&!this.embeddedFonts[g.loadedName]&&(this.addFontStyle(g),this.embeddedFonts[g.loadedName]=g),t.fontMatrix=g.fontMatrix||i.FONT_IDENTITY_MATRIX;let u="normal";g.black?u="900":g.bold&&(u="bold");const E=g.italic?"italic":"normal";x<0?(x=-x,t.fontDirection=-1):t.fontDirection=1,t.fontSize=x,t.fontFamily=g.loadedName,t.fontWeight=u,t.fontStyle=E,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",M(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=V[n]}setLineJoin(n){this.current.lineJoin=X[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,t,g){this.current.strokeColor=i.Util.makeHexColor(n,t,g)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,t,g){this.current.fillColor=i.Util.makeHexColor(n,t,g),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const t=this.viewport.width,g=this.viewport.height,x=i.Util.inverseTransform(this.transformMatrix),u=i.Util.applyTransform([0,0],x),E=i.Util.applyTransform([0,g],x),v=i.Util.applyTransform([t,0],x),h=i.Util.applyTransform([t,g],x),T=Math.min(u[0],E[0],v[0],h[0]),O=Math.min(u[1],E[1],v[1],h[1]),j=Math.max(u[0],E[0],v[0],h[0]),Y=Math.max(u[1],E[1],v[1],h[1]),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x",T),J.setAttributeNS(null,"y",O),J.setAttributeNS(null,"width",j-T),J.setAttributeNS(null,"height",Y-O),J.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&J.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(J)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const t=n[1],g=n[2],x=n[3]||i.IDENTITY_MATRIX,[u,E,v,h]=n[4],T=n[5],O=n[6],j=n[7],Y="shading"+C++,[J,Q,he,pe]=i.Util.normalizeRect([...i.Util.applyTransform([u,E],x),...i.Util.applyTransform([v,h],x)]),[fe,R]=i.Util.singularValueDecompose2dScale(x),a=T*fe,e=O*R,s=this.svgFactory.createElement("svg:pattern");s.setAttributeNS(null,"id",Y),s.setAttributeNS(null,"patternUnits","userSpaceOnUse"),s.setAttributeNS(null,"width",a),s.setAttributeNS(null,"height",e),s.setAttributeNS(null,"x",`${J}`),s.setAttributeNS(null,"y",`${Q}`);const l=this.svg,f=this.transformMatrix,p=this.current.fillColor,d=this.current.strokeColor,y=this.svgFactory.create(he-J,pe-Q);if(this.svg=y,this.transformMatrix=x,2===j){const z=i.Util.makeHexColor(...t);this.current.fillColor=z,this.current.strokeColor=z}return this.executeOpTree(this.convertOpList(g)),this.svg=l,this.transformMatrix=f,this.current.fillColor=p,this.current.strokeColor=d,s.appendChild(y.childNodes[0]),this.defs.appendChild(s),`url(#${Y})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const t="shading"+C++,g=n[3];let x;switch(n[1]){case"axial":const u=n[4],E=n[5];x=this.svgFactory.createElement("svg:linearGradient"),x.setAttributeNS(null,"id",t),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"x1",u[0]),x.setAttributeNS(null,"y1",u[1]),x.setAttributeNS(null,"x2",E[0]),x.setAttributeNS(null,"y2",E[1]);break;case"radial":const v=n[4],h=n[5],T=n[6],O=n[7];x=this.svgFactory.createElement("svg:radialGradient"),x.setAttributeNS(null,"id",t),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"cx",h[0]),x.setAttributeNS(null,"cy",h[1]),x.setAttributeNS(null,"r",O),x.setAttributeNS(null,"fx",v[0]),x.setAttributeNS(null,"fy",v[1]),x.setAttributeNS(null,"fr",T);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const u of g){const E=this.svgFactory.createElement("svg:stop");E.setAttributeNS(null,"offset",u[0]),E.setAttributeNS(null,"stop-color",u[1]),x.appendChild(E)}return this.defs.appendChild(x),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,t){this.current.dashArray=n,this.current.dashPhase=t}constructPath(n,t){const g=this.current;let x=g.x,u=g.y,E=[],v=0;for(const h of n)switch(0|h){case i.OPS.rectangle:x=t[v++],u=t[v++];const j=x+t[v++],Y=u+t[v++];E.push("M",M(x),M(u),"L",M(j),M(u),"L",M(j),M(Y),"L",M(x),M(Y),"Z");break;case i.OPS.moveTo:x=t[v++],u=t[v++],E.push("M",M(x),M(u));break;case i.OPS.lineTo:x=t[v++],u=t[v++],E.push("L",M(x),M(u));break;case i.OPS.curveTo:x=t[v+4],u=t[v+5],E.push("C",M(t[v]),M(t[v+1]),M(t[v+2]),M(t[v+3]),M(x),M(u)),v+=6;break;case i.OPS.curveTo2:E.push("C",M(x),M(u),M(t[v]),M(t[v+1]),M(t[v+2]),M(t[v+3])),x=t[v+2],u=t[v+3],v+=4;break;case i.OPS.curveTo3:x=t[v+2],u=t[v+3],E.push("C",M(t[v]),M(t[v+1]),M(x),M(u),M(x),M(u)),v+=4;break;case i.OPS.closePath:E.push("Z")}E=E.join(" "),g.path&&n.length>0&&n[0]!==i.OPS.rectangle&&n[0]!==i.OPS.moveTo?E=g.path.getAttributeNS(null,"d")+E:(g.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(g.path)),g.path.setAttributeNS(null,"d",E),g.path.setAttributeNS(null,"fill","none"),g.element=g.path,g.setCurrentPoint(x,u)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const t="clippath"+P++,g=this.svgFactory.createElement("svg:clipPath");g.setAttributeNS(null,"id",t),g.setAttributeNS(null,"transform",m(this.transformMatrix));const x=n.element.cloneNode(!0);if(x.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,g.appendChild(x),this.defs.appendChild(g),n.activeClipUrl){n.clipGroup=null;for(const u of this.extraStack)u.clipGroup=null;g.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const t=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",t)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[t,g]of n)switch(t){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g);break;case"CA":this.setStrokeAlpha(g);break;case"ca":this.setFillAlpha(g);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,t=1){const g=this.current;let x=g.dashArray;1!==t&&x.length>0&&(x=x.map(function(u){return t*u})),n.setAttributeNS(null,"stroke",g.strokeColor),n.setAttributeNS(null,"stroke-opacity",g.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",M(g.miterLimit)),n.setAttributeNS(null,"stroke-linecap",g.lineCap),n.setAttributeNS(null,"stroke-linejoin",g.lineJoin),n.setAttributeNS(null,"stroke-width",M(t*g.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",x.map(M).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",M(t*g.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const t=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,t){const g=n.width,x=n.height,u=c(n,this.forceDataSchema,!!t),E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width",M(g)),E.setAttributeNS(null,"height",M(x)),this.current.element=E,this.clip("nonzero");const v=this.svgFactory.createElement("svg:image");v.setAttributeNS(S,"xlink:href",u),v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y",M(-x)),v.setAttributeNS(null,"width",M(g)+"px"),v.setAttributeNS(null,"height",M(x)+"px"),v.setAttributeNS(null,"transform",`scale(${M(1/g)} ${M(-1/x)})`),t?t.appendChild(v):this._ensureTransformGroup().appendChild(v)}paintImageMaskXObject(n){const t=this.current,g=n.width,x=n.height,u=t.fillColor;t.maskId="mask"+L++;const E=this.svgFactory.createElement("svg:mask");E.setAttributeNS(null,"id",t.maskId);const v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width",M(g)),v.setAttributeNS(null,"height",M(x)),v.setAttributeNS(null,"fill",u),v.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.appendChild(E),this._ensureTransformGroup().appendChild(v),this.paintInlineImageXObject(n,E)}paintFormXObjectBegin(n,t){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t){const g=t[2]-t[0],x=t[3]-t[1],u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x",t[0]),u.setAttributeNS(null,"y",t[1]),u.setAttributeNS(null,"width",M(g)),u.setAttributeNS(null,"height",M(x)),this.current.element=u,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const t=this.svgFactory.create(n.width,n.height),g=this.svgFactory.createElement("svg:defs");t.appendChild(g),this.defs=g;const x=this.svgFactory.createElement("svg:g");return x.setAttributeNS(null,"transform",m(n.transform)),t.appendChild(x),this.svg=x,t}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var i=k(1),U=k(26);const r=__webpack_require__(23237),W=__webpack_require__(97492),F=__webpack_require__(31815),D=__webpack_require__(66671),S=/^file:\/\/\/[a-zA-Z]:\//;o.PDFNodeStream=class X{constructor(C){this.source=C,this.url=function V(L){const C=D.parse(L);return"file:"===C.protocol||C.host?C:/^[a-z]:[/\\]/i.test(L)?D.parse(`file:///${L}`):(C.host||(C.protocol="file:"),C)}(C.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new _(this),this._fullRequestReader}getRangeReader(C,n){if(n<=this._progressiveDataLength)return null;const t=this.isFsUrl?new P(this,C,n):new M(this,C,n);return this._rangeRequestReaders.push(t),t}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C);for(const n of this._rangeRequestReaders.slice(0))n.cancel(C)}};class ${constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=C.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){if(yield C._readCapability.promise,C._done)return{value:void 0,done:!0};if(C._storedError)throw C._storedError;const n=C._readableStream.read();return null===n?(C._readCapability=(0,i.createPromiseCapability)(),C.read()):(C._loaded+=n.length,C.onProgress&&C.onProgress({loaded:C._loaded,total:C._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class c{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!C.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){if(yield C._readCapability.promise,C._done)return{value:void 0,done:!0};if(C._storedError)throw C._storedError;const n=C._readableStream.read();return null===n?(C._readCapability=(0,i.createPromiseCapability)(),C.read()):(C._loaded+=n.length,C.onProgress&&C.onProgress({loaded:C._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function H(L,C){return{protocol:L.protocol,auth:L.auth,host:L.hostname,port:L.port,path:L.path,method:"GET",headers:C}}class _ extends ${constructor(C){super(C);const n=t=>{if(404===t.statusCode){const E=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=E,void this._headersCapability.reject(E)}this._headersCapability.resolve(),this._setReadableStream(t);const g=E=>this._readableStream.headers[E.toLowerCase()],{allowRangeRequests:x,suggestedLength:u}=(0,U.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=u||this._contentLength,this._filename=(0,U.extractFilenameFromHeader)(g)};this._request=null,this._request="http:"===this._url.protocol?W.request(H(this._url,C.httpHeaders),n):F.request(H(this._url,C.httpHeaders),n),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class M extends c{constructor(C,n,t){super(C),this._httpHeaders={};for(const x in C.httpHeaders){const u=C.httpHeaders[x];typeof u>"u"||(this._httpHeaders[x]=u)}this._httpHeaders.Range=`bytes=${n}-${t-1}`;const g=x=>{if(404!==x.statusCode)this._setReadableStream(x);else{const u=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=u}};this._request=null,this._request="http:"===this._url.protocol?W.request(H(this._url,this._httpHeaders),g):F.request(H(this._url,this._httpHeaders),g),this._request.on("error",x=>{this._storedError=x}),this._request.end()}}class m extends ${constructor(C){super(C);let n=decodeURIComponent(this._url.path);S.test(this._url.href)&&(n=n.replace(/^\//,"")),r.lstat(n,(t,g)=>{if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=g.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()})}}class P extends c{constructor(C,n,t){super(C);let g=decodeURIComponent(this._url.path);S.test(this._url.href)&&(g=g.replace(/^\//,"")),this._setReadableStream(r.createReadStream(g,{start:n,end:t-1}))}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=function D(V,X){return 404===V||0===V&&X.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+X+'".'):new i.UnexpectedResponseException(`Unexpected server response (${V}) while retrieving PDF "${X}".`,V)},o.extractFilenameFromHeader=function F(V){const X=V("Content-Disposition");if(X){let $=(0,U.getFilenameFromContentDispositionHeader)(X);if($.includes("%"))try{$=decodeURIComponent($)}catch{}if((0,r.isPdfFile)($))return $}return null},o.validateRangeRequestCapabilities=function W({getResponseHeader:V,isHttp:X,rangeChunkSize:$,disableRange:c}){const H={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(V("Content-Length"),10);return!Number.isInteger(_)||(H.suggestedLength=_,_<=2*$)||c||!X||"bytes"!==V("Accept-Ranges")||"identity"!==(V("Content-Encoding")||"identity")||(H.allowRangeRequests=!0),H},o.validateResponseStatus=function S(V){return 200===V||206===V};var i=k(1),U=k(27),r=k(5)},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=function U(r){let W=!0,F=D("filename\\*","i").exec(r);if(F){F=F[1];let _=$(F);return _=unescape(_),_=c(_),_=H(_),V(_)}if(F=function X(_){const M=[];let m;const P=D("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(m=P.exec(_));){let[,C,n,t]=m;if(C=parseInt(C,10),C in M){if(0===C)break}else M[C]=[n,t]}const L=[];for(let C=0;C<M.length&&C in M;++C){let[n,t]=M[C];t=$(t),n&&(t=unescape(t),0===C&&(t=c(t))),L.push(t)}return L.join("")}(r),F)return V(H(F));if(F=D("filename","i").exec(r),F){F=F[1];let _=$(F);return _=H(_),V(_)}function D(_,M){return new RegExp("(?:^|;)\\s*"+_+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',M)}function S(_,M){if(_){if(!/^[\x00-\xFF]+$/.test(M))return M;try{const m=new TextDecoder(_,{fatal:!0}),P=(0,i.stringToBytes)(M);M=m.decode(P),W=!1}catch{}}return M}function V(_){return W&&/[\x80-\xff]/.test(_)&&(_=S("utf-8",_),W&&(_=S("iso-8859-1",_))),_}function $(_){if(_.startsWith('"')){const M=_.slice(1).split('\\"');for(let m=0;m<M.length;++m){const P=M[m].indexOf('"');-1!==P&&(M[m]=M[m].slice(0,P),M.length=m+1),M[m]=M[m].replace(/\\(.)/g,"$1")}_=M.join('"')}return _}function c(_){const M=_.indexOf("'");return-1===M?_:S(_.slice(0,M),_.slice(M+1).replace(/^[^']*'/,""))}function H(_){return!_.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_)?_:_.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(M,m,P,L){if("q"===P||"Q"===P)return S(m,L=(L=L.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(C,n){return String.fromCharCode(parseInt(n,16))}));try{L=atob(L)}catch{}return S(m,L)})}return""};var i=k(1)},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var i=k(1),U=k(26);class D{constructor(c,H={}){this.url=c,this.isHttp=/^https?:/i.test(c),this.httpHeaders=this.isHttp&&H.httpHeaders||Object.create(null),this.withCredentials=H.withCredentials||!1,this.getXhr=H.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(c,H,_){const M={begin:c,end:H};for(const m in _)M[m]=_[m];return this.request(M)}requestFull(c){return this.request(c)}request(c){const H=this.getXhr(),_=this.currXhrId++,M=this.pendingRequests[_]={xhr:H};H.open("GET",this.url),H.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const P=this.httpHeaders[m];typeof P>"u"||H.setRequestHeader(m,P)}return this.isHttp&&"begin"in c&&"end"in c?(H.setRequestHeader("Range",`bytes=${c.begin}-${c.end-1}`),M.expectedStatus=206):M.expectedStatus=200,H.responseType="arraybuffer",c.onError&&(H.onerror=function(m){c.onError(H.status)}),H.onreadystatechange=this.onStateChange.bind(this,_),H.onprogress=this.onProgress.bind(this,_),M.onHeadersReceived=c.onHeadersReceived,M.onDone=c.onDone,M.onError=c.onError,M.onProgress=c.onProgress,H.send(null),_}onProgress(c,H){const _=this.pendingRequests[c];_&&_.onProgress?.(H)}onStateChange(c,H){const _=this.pendingRequests[c];if(!_)return;const M=_.xhr;if(M.readyState>=2&&_.onHeadersReceived&&(_.onHeadersReceived(),delete _.onHeadersReceived),4!==M.readyState||!(c in this.pendingRequests))return;if(delete this.pendingRequests[c],0===M.status&&this.isHttp)return void _.onError?.(M.status);const m=M.status||200;if((200!==m||206!==_.expectedStatus)&&m!==_.expectedStatus)return void _.onError?.(M.status);const L=function F($){const c=$.response;return"string"!=typeof c?c:(0,i.stringToBytes)(c).buffer}(M);if(206===m){const C=M.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(C);_.onDone({begin:parseInt(n[1],10),chunk:L})}else L?_.onDone({begin:0,chunk:L}):_.onError?.(M.status)}getRequestXhr(c){return this.pendingRequests[c].xhr}isPendingRequest(c){return c in this.pendingRequests}abortRequest(c){const H=this.pendingRequests[c].xhr;delete this.pendingRequests[c],H.abort()}}o.PDFNetworkStream=class S{constructor(c){this._source=c,this._manager=new D(c.url,{httpHeaders:c.httpHeaders,withCredentials:c.withCredentials}),this._rangeChunkSize=c.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(c){const H=this._rangeRequestReaders.indexOf(c);H>=0&&this._rangeRequestReaders.splice(H,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V(this._manager,this._source),this._fullRequestReader}getRangeReader(c,H){const _=new X(this._manager,c,H);return _.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_),_}cancelAllRequests(c){this._fullRequestReader?.cancel(c);for(const H of this._rangeRequestReaders.slice(0))H.cancel(c)}};class V{constructor(c,H){this._manager=c;const _={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=H.url,this._fullRequestId=c.requestFull(_),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=H.disableRange||!1,this._contentLength=H.length,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const c=this._fullRequestId,H=this._manager.getRequestXhr(c),_=P=>H.getResponseHeader(P),{allowRangeRequests:M,suggestedLength:m}=(0,U.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});M&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,U.extractFilenameFromHeader)(_),this._isRangeSupported&&this._manager.abortRequest(c),this._headersReceivedCapability.resolve()}_onDone(c){if(c&&(this._requests.length>0?this._requests.shift().resolve({value:c.chunk,done:!1}):this._cachedChunks.push(c.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(c){this._storedError=(0,U.createResponseStatusError)(c,this._url),this._headersReceivedCapability.reject(this._storedError);for(const H of this._requests)H.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(c){this.onProgress?.({loaded:c.loaded,total:c.lengthComputable?c.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var c=this;return _asyncToGenerator(function*(){if(c._storedError)throw c._storedError;if(c._cachedChunks.length>0)return{value:c._cachedChunks.shift(),done:!1};if(c._done)return{value:void 0,done:!0};const H=(0,i.createPromiseCapability)();return c._requests.push(H),H.promise})()}cancel(c){this._done=!0,this._headersReceivedCapability.reject(c);for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class X{constructor(c,H,_){this._manager=c;const M={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url,this._requestId=c.requestRange(H,_,M),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(c){const H=c.chunk;this._requests.length>0?this._requests.shift().resolve({value:H,done:!1}):this._queuedChunk=H,this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(c){this._storedError=(0,U.createResponseStatusError)(c,this._url);for(const H of this._requests)H.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(c){this.isStreamingSupported||this.onProgress?.({loaded:c.loaded})}get isStreamingSupported(){return!1}read(){var c=this;return _asyncToGenerator(function*(){if(c._storedError)throw c._storedError;if(null!==c._queuedChunk){const _=c._queuedChunk;return c._queuedChunk=null,{value:_,done:!1}}if(c._done)return{value:void 0,done:!0};const H=(0,i.createPromiseCapability)();return c._requests.push(H),H.promise})()}cancel(c){this._done=!0;for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ne,o,k)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var i=k(1),U=k(26);function r(V,X,$){return{method:"GET",headers:V,signal:$?.signal,mode:"cors",credentials:X?"include":"same-origin",redirect:"follow"}}function W(V){const X=new Headers;for(const $ in V){const c=V[$];typeof c>"u"||X.append($,c)}return X}o.PDFFetchStream=class F{constructor(X){this.source=X,this.isHttp=/^https?:/i.test(X.url),this.httpHeaders=this.isHttp&&X.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D(this),this._fullRequestReader}getRangeReader(X,$){if($<=this._progressiveDataLength)return null;const c=new S(this,X,$);return this._rangeRequestReaders.push(c),c}cancelAllRequests(X){this._fullRequestReader&&this._fullRequestReader.cancel(X);for(const $ of this._rangeRequestReaders.slice(0))$.cancel(X)}};class D{constructor(X){this._stream=X,this._reader=null,this._loaded=0,this._filename=null;const $=X.source;this._withCredentials=$.withCredentials||!1,this._contentLength=$.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=$.disableRange||!1,this._rangeChunkSize=$.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!$.disableStream,this._isRangeSupported=!$.disableRange,this._headers=W(this._stream.httpHeaders);const c=$.url;fetch(c,r(this._headers,this._withCredentials,this._abortController)).then(H=>{if(!(0,U.validateResponseStatus)(H.status))throw(0,U.createResponseStatusError)(H.status,c);this._reader=H.body.getReader(),this._headersCapability.resolve();const _=P=>H.headers.get(P),{allowRangeRequests:M,suggestedLength:m}=(0,U.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=M,this._contentLength=m||this._contentLength,this._filename=(0,U.extractFilenameFromHeader)(_),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var X=this;return _asyncToGenerator(function*(){yield X._headersCapability.promise;const{value:$,done:c}=yield X._reader.read();return c?{value:$,done:c}:(X._loaded+=$.byteLength,X.onProgress&&X.onProgress({loaded:X._loaded,total:X._contentLength}),{value:new Uint8Array($).buffer,done:!1})})()}cancel(X){this._reader&&this._reader.cancel(X),this._abortController&&this._abortController.abort()}}class S{constructor(X,$,c){this._stream=X,this._reader=null,this._loaded=0;const H=X.source;this._withCredentials=H.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!H.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=W(this._stream.httpHeaders),this._headers.append("Range",`bytes=${$}-${c-1}`);const _=H.url;fetch(_,r(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,U.validateResponseStatus)(M.status))throw(0,U.createResponseStatusError)(M.status,_);this._readCapability.resolve(),this._reader=M.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var X=this;return _asyncToGenerator(function*(){yield X._readCapability.promise;const{value:$,done:c}=yield X._reader.read();return c?{value:$,done:c}:(X._loaded+=$.byteLength,X.onProgress&&X.onProgress({loaded:X._loaded}),{value:new Uint8Array($).buffer,done:!1})})()}cancel(X){this._reader&&this._reader.cancel(X),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ne){var o=__webpack_module_cache__[ne];if(void 0!==o)return o.exports;var k=__webpack_module_cache__[ne]={exports:{}};return __webpack_modules__[ne](k,k.exports,__w_pdfjs_require__),k.exports}var __nested_webpack_exports__={};return(()=>{var ne=__nested_webpack_exports__;Object.defineProperty(ne,"__esModule",{value:!0}),Object.defineProperty(ne,"AnnotationLayer",{enumerable:!0,get:function(){return U.AnnotationLayer}}),Object.defineProperty(ne,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(ne,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(ne,"GlobalWorkerOptions",{enumerable:!0,get:function(){return r.GlobalWorkerOptions}}),Object.defineProperty(ne,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(ne,"LoopbackPort",{enumerable:!0,get:function(){return k.LoopbackPort}}),Object.defineProperty(ne,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(ne,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(ne,"PDFDataRangeTransport",{enumerable:!0,get:function(){return k.PDFDataRangeTransport}}),Object.defineProperty(ne,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(ne,"PDFWorker",{enumerable:!0,get:function(){return k.PDFWorker}}),Object.defineProperty(ne,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(ne,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(ne,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(ne,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(ne,"SVGGraphics",{enumerable:!0,get:function(){return D.SVGGraphics}}),Object.defineProperty(ne,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(ne,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(ne,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(ne,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(ne,"XfaLayer",{enumerable:!0,get:function(){return S.XfaLayer}}),Object.defineProperty(ne,"build",{enumerable:!0,get:function(){return k.build}}),Object.defineProperty(ne,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(ne,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(ne,"getDocument",{enumerable:!0,get:function(){return k.getDocument}}),Object.defineProperty(ne,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(ne,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(ne,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(ne,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(ne,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(ne,"renderTextLayer",{enumerable:!0,get:function(){return F.renderTextLayer}}),Object.defineProperty(ne,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(ne,"version",{enumerable:!0,get:function(){return k.version}});var o=__w_pdfjs_require__(1),k=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),U=__w_pdfjs_require__(20),r=__w_pdfjs_require__(13),W=__w_pdfjs_require__(3),F=__w_pdfjs_require__(23),D=__w_pdfjs_require__(24),S=__w_pdfjs_require__(22);if(W.isNodeJS){const{PDFNodeStream:$}=__w_pdfjs_require__(25);(0,k.setPDFNetworkStreamFactory)(c=>new $(c))}else{const{PDFNetworkStream:$}=__w_pdfjs_require__(28),{PDFFetchStream:c}=__w_pdfjs_require__(29);(0,k.setPDFNetworkStreamFactory)(H=>(0,i.isValidFetchUrl)(H.url)?new c(H):new $(H))}})(),__nested_webpack_exports__})(),module.exports=k()},33876:function(ne,o,k){var $,i=k(93831).default,U=k(7920).default,r=k(80816).default,W=k(43723).default,F=k(45804).default,D=k(18188).default,S=k(75453).default;$=()=>(()=>{"use strict";var V=[,(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DefaultXfaLayerFactory=_.DefaultTextLayerFactory=_.DefaultStructTreeLayerFactory=_.DefaultAnnotationLayerFactory=void 0;var m=M(2),P=M(4),L=M(5),C=M(7),n=M(8),t=M(9);_.DefaultAnnotationLayerFactory=class g{createAnnotationLayerBuilder(h,T,O=null,j="",Y=!0,J=P.NullL10n,Q=!1,he=null,pe=null,fe=null,R=null){return new m.AnnotationLayerBuilder({pageDiv:h,pdfPage:T,imageResourcesPath:j,renderForms:Y,linkService:new L.SimpleLinkService,l10n:J,annotationStorage:O,enableScripting:Q,hasJSActionsPromise:he,fieldObjectsPromise:fe,mouseState:pe,annotationCanvasMap:R})}},_.DefaultStructTreeLayerFactory=class x{createStructTreeLayerBuilder(h){return new C.StructTreeLayerBuilder({pdfPage:h})}},_.DefaultTextLayerFactory=class u{createTextLayerBuilder(h,T,O,j=!1,Y,J){return new n.TextLayerBuilder({textLayerDiv:h,pageIndex:T,viewport:O,enhanceTextSelection:j,eventBus:Y,highlighter:J})}},_.DefaultXfaLayerFactory=class E{createXfaLayerBuilder(h,T,O=null,j=null){return new t.XfaLayerBuilder({pageDiv:h,pdfPage:T,annotationStorage:O,linkService:new L.SimpleLinkService,xfaHtml:j})}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationLayerBuilder=void 0;var m=M(3),P=M(4);_.AnnotationLayerBuilder=class L{constructor({pageDiv:n,pdfPage:t,linkService:g,downloadManager:x,annotationStorage:u=null,imageResourcesPath:E="",renderForms:v=!0,l10n:h=P.NullL10n,enableScripting:T=!1,hasJSActionsPromise:O=null,fieldObjectsPromise:j=null,mouseState:Y=null,annotationCanvasMap:J=null}){this.pageDiv=n,this.pdfPage=t,this.linkService=g,this.downloadManager=x,this.imageResourcesPath=E,this.renderForms=v,this.l10n=h,this.annotationStorage=u,this.enableScripting=T,this._hasJSActionsPromise=O,this._fieldObjectsPromise=j,this._mouseState=Y,this._annotationCanvasMap=J,this.div=null,this._cancelled=!1}render(n){var t=this;return S(function*(g,x="display"){const[u,E=!1,v=null]=yield Promise.all([t.pdfPage.getAnnotations({intent:x}),t._hasJSActionsPromise,t._fieldObjectsPromise]);if(t._cancelled||0===u.length)return;const h={viewport:g.clone({dontFlip:!0}),div:t.div,annotations:u,page:t.pdfPage,imageResourcesPath:t.imageResourcesPath,renderForms:t.renderForms,linkService:t.linkService,downloadManager:t.downloadManager,annotationStorage:t.annotationStorage,enableScripting:t.enableScripting,hasJSActions:E,fieldObjects:v,mouseState:t._mouseState,annotationCanvasMap:t._annotationCanvasMap};t.div?m.AnnotationLayer.update(h):(t.div=document.createElement("div"),t.div.className="annotationLayer",t.pageDiv.appendChild(t.div),h.div=t.div,m.AnnotationLayer.render(h),t.l10n.translate(t.div))}).apply(this,arguments)}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},H=>{let _;_=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:k(20717),H.exports=_},(H,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.fixupLangCode=function L(t){return P[t?.toLowerCase()]||t},_.getL10nFallback=m;const M={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(t,g){switch(t){case"find_match_count":t=`find_match_count[${1===g.total?"one":"other"}]`;break;case"find_match_count_limit":t=`find_match_count_limit[${1===g.limit?"one":"other"}]`}return M[t]||""}const P={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"},n={getLanguage:()=>S(function*(){return"en-us"})(),getDirection:()=>S(function*(){return"ltr"})(),get(t){return S(function*(g,x=null,u=m(g,x)){return function C(t,g){return g?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(x,u)=>u in g?g[u]:"{{"+u+"}}"):t}(u,x)}).apply(this,arguments)},translate:t=>S(function*(){})()};_.NullL10n=n},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SimpleLinkService=_.PDFLinkService=_.LinkTarget=void 0;var m=M(6);const L={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function C(v,{url:h,target:T,rel:O,enabled:j=!0}={}){if(!h||"string"!=typeof h)throw new Error('A valid "url" parameter must provided.');const Y=(0,m.removeNullCharacters)(h);j?v.href=v.title=Y:(v.href="",v.title=`Disabled: ${Y}`,v.onclick=()=>!1);let J="";switch(T){case L.NONE:break;case L.SELF:J="_self";break;case L.BLANK:J="_blank";break;case L.PARENT:J="_parent";break;case L.TOP:J="_top"}v.target=J,v.rel="string"==typeof O?O:"noopener noreferrer nofollow"}_.LinkTarget=L;var n=new WeakMap,t=new WeakSet;class g{constructor({eventBus:h,externalLinkTarget:T=null,externalLinkRel:O=null,ignoreDestinationZoom:j=!1}={}){r(this,t),W(this,n,new Map),this.eventBus=h,this.externalLinkTarget=T,this.externalLinkRel=O,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=j,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(h,T=null){this.baseUrl=T,this.pdfDocument=h,D(n,this).clear()}setViewer(h){this.pdfViewer=h}setHistory(h){this.pdfHistory=h}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(h){this.pdfViewer.currentPageNumber=h}get rotation(){return this.pdfViewer.pagesRotation}set rotation(h){this.pdfViewer.pagesRotation=h}goToDestination(h){var T=this;return S(function*(){if(!T.pdfDocument)return;let O,j;"string"==typeof h?(O=h,j=yield T.pdfDocument.getDestination(h)):(O=null,j=yield h),Array.isArray(j)?F(t,T,x).call(T,h,O,j):console.error(`PDFLinkService.goToDestination: "${j}" is not a valid destination array, for dest="${h}".`)})()}goToPage(h){if(!this.pdfDocument)return;const T="string"==typeof h&&this.pdfViewer.pageLabelToPageNumber(h)||0|h;Number.isInteger(T)&&T>0&&T<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(T)),this.pdfViewer.scrollPageIntoView({pageNumber:T})):console.error(`PDFLinkService.goToPage: "${h}" is not a valid page.`)}addLinkAttributes(h,T,O=!1){C(h,{url:T,target:O?L.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(h){if("string"==typeof h){if(h.length>0)return this.getAnchorUrl("#"+escape(h))}else if(Array.isArray(h)){const T=JSON.stringify(h);if(T.length>0)return this.getAnchorUrl("#"+escape(T))}return this.getAnchorUrl("")}getAnchorUrl(h){return(this.baseUrl||"")+h}setHash(h){if(!this.pdfDocument)return;let T,O;if(h.includes("=")){const j=(0,m.parseQueryString)(h);if(j.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:j.get("search").replace(/"/g,""),phraseSearch:"true"===j.get("phrase")}),j.has("page")&&(T=0|j.get("page")||1),j.has("zoom")){const Y=j.get("zoom").split(","),J=Y[0],Q=parseFloat(J);J.includes("Fit")?"Fit"===J||"FitB"===J?O=[null,{name:J}]:"FitH"===J||"FitBH"===J||"FitV"===J||"FitBV"===J?O=[null,{name:J},Y.length>1?0|Y[1]:null]:"FitR"===J?5!==Y.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):O=[null,{name:J},0|Y[1],0|Y[2],0|Y[3],0|Y[4]]:console.error(`PDFLinkService.setHash: "${J}" is not a valid zoom value.`):O=[null,{name:"XYZ"},Y.length>1?0|Y[1]:null,Y.length>2?0|Y[2]:null,Q?Q/100:J]}O?this.pdfViewer.scrollPageIntoView({pageNumber:T||this.page,destArray:O,allowNegativeOffset:!0}):T&&(this.page=T),j.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:j.get("pagemode")}),j.has("nameddest")&&this.goToDestination(j.get("nameddest"))}else{O=unescape(h);try{O=JSON.parse(O),Array.isArray(O)||(O=O.toString())}catch{}if("string"==typeof O||u.call(g,O))return void this.goToDestination(O);console.error(`PDFLinkService.setHash: "${unescape(h)}" is not a valid destination.`)}}executeNamedAction(h){switch(h){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:h})}cachePageRef(h,T){if(!T)return;const O=0===T.gen?`${T.num}R`:`${T.num}R${T.gen}`;D(n,this).set(O,h)}_cachedPageNumber(h){if(!h)return null;const T=0===h.gen?`${h.num}R`:`${h.num}R${h.gen}`;return D(n,this).get(T)||null}isPageVisible(h){return this.pdfViewer.isPageVisible(h)}isPageCached(h){return this.pdfViewer.isPageCached(h)}}function x(v,h=null,T){const O=T[0];let j;if("object"==typeof O&&null!==O){if(j=this._cachedPageNumber(O),!j)return void this.pdfDocument.getPageIndex(O).then(Y=>{this.cachePageRef(Y+1,O),F(t,this,x).call(this,v,h,T)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${O}" is not a valid page reference, for dest="${v}".`)})}else{if(!Number.isInteger(O))return void console.error(`PDFLinkService.#goToDestinationHelper: "${O}" is not a valid destination reference, for dest="${v}".`);j=O+1}!j||j<1||j>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${j}" is not a valid page number, for dest="${v}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:h,explicitDest:T,pageNumber:j})),this.pdfViewer.scrollPageIntoView({pageNumber:j,destArray:T,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function u(v){if(!Array.isArray(v))return!1;const h=v.length;if(h<2)return!1;const T=v[0];if(!("object"==typeof T&&Number.isInteger(T.num)&&Number.isInteger(T.gen)||Number.isInteger(T)&&T>=0))return!1;const O=v[1];if("object"!=typeof O||"string"!=typeof O.name)return!1;let j=!0;switch(O.name){case"XYZ":if(5!==h)return!1;break;case"Fit":case"FitB":return 2===h;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==h)return!1;break;case"FitR":if(6!==h)return!1;j=!1;break;default:return!1}for(let Y=2;Y<h;Y++){const J=v[Y];if(!("number"==typeof J||j&&null===J))return!1}return!0}_.PDFLinkService=g,_.SimpleLinkService=class E{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(h){}get rotation(){return 0}set rotation(h){}goToDestination(h){return S(function*(){})()}goToPage(h){}addLinkAttributes(h,T,O=!1){C(h,{url:T,enabled:this.externalLinkEnabled})}getDestinationHash(h){return"#"}getAnchorUrl(h){return"#"}setHash(h){}executeNamedAction(h){}cachePageRef(h,T){}isPageVisible(h){return!0}isPageCached(h){return!0}}},(H,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.animationStarted=_.VERTICAL_PADDING=_.UNKNOWN_SCALE=_.TextLayerMode=_.SpreadMode=_.SidebarView=_.ScrollMode=_.SCROLLBAR_PADDING=_.RenderingStates=_.RendererType=_.ProgressBar=_.PresentationModeState=_.OutputScale=_.MIN_SCALE=_.MAX_SCALE=_.MAX_AUTO_SCALE=_.DEFAULT_SCALE_VALUE=_.DEFAULT_SCALE_DELTA=_.DEFAULT_SCALE=_.AutoPrintRegExp=void 0,_.apiPageLayoutToViewerModes=function le(Z){let ae=O.VERTICAL,I=j.NONE;switch(Z){case"SinglePage":ae=O.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ae=O.PAGE;case"TwoColumnLeft":I=j.ODD;break;case"TwoPageRight":ae=O.PAGE;case"TwoColumnRight":I=j.EVEN}return{scrollMode:ae,spreadMode:I}},_.apiPageModeToSidebarView=function ee(Z){switch(Z){case"UseNone":return v.NONE;case"UseThumbs":return v.THUMBS;case"UseOutlines":return v.OUTLINE;case"UseAttachments":return v.ATTACHMENTS;case"UseOC":return v.LAYERS}return v.NONE},_.approximateFraction=function s(Z){if(Math.floor(Z)===Z)return[Z,1];const ae=1/Z;if(ae>8)return[1,8];if(Math.floor(ae)===ae)return[1,ae];const re=Z>1?ae:Z;let se,B=0,te=1,de=1,ve=1;for(;;){const q=B+de,K=te+ve;if(K>8)break;re<=q/K?(de=q,ve=K):(B=q,te=K)}return se=re-B/te<de/ve-re?re===Z?[B,te]:[te,B]:re===Z?[de,ve]:[ve,de],se},_.backtrackBeforeAllVisibleElements=p,_.binarySearchFirstItem=e,_.getActiveOrFocusedElement=function ie(){let Z=document,ae=Z.activeElement||Z.querySelector(":focus");for(;ae?.shadowRoot;)Z=ae.shadowRoot,ae=Z.activeElement||Z.querySelector(":focus");return ae},_.getPageSizeInches=function f({view:Z,userUnit:ae,rotate:I}){const[re,B,te,de]=Z,ve=I%180!=0,se=(te-re)/72*ae,q=(de-B)/72*ae;return{width:ve?q:se,height:ve?se:q}},_.getVisibleElements=function d({scrollEl:Z,views:ae,sortByVisibility:I=!1,horizontal:re=!1,rtl:B=!1}){const te=Z.scrollTop,de=te+Z.clientHeight,ve=Z.scrollLeft,se=ve+Z.clientWidth,ge=[],be=new Set,ye=ae.length;let Ae=e(ae,re?function K(Pe){const Ce=Pe.div,xe=Ce.offsetLeft+Ce.clientLeft;return B?xe<se:xe+Ce.clientWidth>ve}:function q(Pe){const Ce=Pe.div;return Ce.offsetTop+Ce.clientTop+Ce.clientHeight>te});Ae>0&&Ae<ye&&!re&&(Ae=p(Ae,ae,te));let we=re?se:-1;for(let Pe=Ae;Pe<ye;Pe++){const Ce=ae[Pe],xe=Ce.div,Te=xe.offsetLeft+xe.clientLeft,Se=xe.offsetTop+xe.clientTop,Le=xe.clientWidth,Re=xe.clientHeight,De=Te+Le,Oe=Se+Re;if(-1===we)Oe>=de&&(we=Oe);else if((re?Te:Se)>we)break;if(Oe<=te||Se>=de||De<=ve||Te>=se)continue;const Fe=Math.max(0,te-Se)+Math.max(0,Oe-de),Ne=(Le-(Math.max(0,ve-Te)+Math.max(0,De-se)))/Le;ge.push({id:Ce.id,x:Te,y:Se,view:Ce,percent:(Re-Fe)/Re*Ne*100|0,widthPercent:100*Ne|0}),be.add(Ce.id)}const Me=ge[0],ke=ge[ge.length-1];return I&&ge.sort(function(Pe,Ce){const xe=Pe.percent-Ce.percent;return Math.abs(xe)>.001?-xe:Pe.id-Ce.id}),{first:Me,last:ke,views:ge,ids:be}},_.isPortraitOrientation=function ce(Z){return Z.width<=Z.height},_.isValidRotation=function N(Z){return Number.isInteger(Z)&&Z%90==0},_.isValidScrollMode=function G(Z){return Number.isInteger(Z)&&Object.values(O).includes(Z)&&Z!==O.UNKNOWN},_.isValidSpreadMode=function oe(Z){return Number.isInteger(Z)&&Object.values(j).includes(Z)&&Z!==j.UNKNOWN},_.noContextMenuHandler=function y(Z){Z.preventDefault()},_.normalizeWheelEventDelta=function A(Z){let ae=z(Z);return 0===Z.deltaMode?ae/=900:1===Z.deltaMode&&(ae/=30),ae},_.normalizeWheelEventDirection=z,_.parseQueryString=function pe(Z){const ae=new Map;for(const[I,re]of new URLSearchParams(Z))ae.set(I.toLowerCase(),re);return ae},_.removeNullCharacters=function a(Z,ae=!1){return"string"!=typeof Z?(console.error("The argument must be a string."),Z):(ae&&(Z=Z.replace(R," ")),Z.replace(fe,""))},_.roundToDivide=function l(Z,ae){const I=Z%ae;return 0===I?Z:Math.round(Z-I+ae)},_.scrollIntoView=function Q(Z,ae,I=!1){let re=Z.offsetParent;if(!re)return void console.error("offsetParent is not set -- cannot scroll");let B=Z.offsetTop+Z.clientTop,te=Z.offsetLeft+Z.clientLeft;for(;re.clientHeight===re.scrollHeight&&re.clientWidth===re.scrollWidth||I&&(re.classList.contains("markedContent")||"hidden"===getComputedStyle(re).overflow);)if(B+=re.offsetTop,te+=re.offsetLeft,re=re.offsetParent,!re)return;ae&&(void 0!==ae.top&&(B+=ae.top),void 0!==ae.left&&(te+=ae.left,re.scrollLeft=te)),re.scrollTop=B},_.watchScroll=function he(Z,ae){const I=function(te){B||(B=window.requestAnimationFrame(function(){B=null;const ve=Z.scrollLeft,se=re.lastX;ve!==se&&(re.right=ve>se),re.lastX=ve;const q=Z.scrollTop,K=re.lastY;q!==K&&(re.down=q>K),re.lastY=q,ae(re)}))},re={right:!0,down:!0,lastX:Z.scrollLeft,lastY:Z.scrollTop,_eventHandler:I};let B=null;return Z.addEventListener("scroll",I,!0),re},_.DEFAULT_SCALE_VALUE="auto",_.DEFAULT_SCALE=1,_.DEFAULT_SCALE_DELTA=1.1,_.MIN_SCALE=.1,_.MAX_SCALE=10,_.UNKNOWN_SCALE=0,_.MAX_AUTO_SCALE=1.25,_.SCROLLBAR_PADDING=40,_.VERTICAL_PADDING=5,_.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},_.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const v={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};_.SidebarView=v,_.RendererType={CANVAS:"canvas",SVG:"svg"},_.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const O={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};_.ScrollMode=O;const j={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};_.SpreadMode=j,_.AutoPrintRegExp=/\bprint\s*\(/,_.OutputScale=class J{constructor(){const ae=window.devicePixelRatio||1;this.sx=ae,this.sy=ae}get scaled(){return 1!==this.sx||1!==this.sy}};const fe=/\x00/g,R=/[\x01-\x1F]/g;function e(Z,ae,I=0){let re=I,B=Z.length-1;if(B<0||!ae(Z[B]))return Z.length;if(ae(Z[re]))return re;for(;re<B;){const te=re+B>>1;ae(Z[te])?B=te:re=te+1}return re}function p(Z,ae,I){if(Z<2)return Z;let re=ae[Z].div,B=re.offsetTop+re.clientTop;B>=I&&(re=ae[Z-1].div,B=re.offsetTop+re.clientTop);for(let te=Z-2;te>=0&&(re=ae[te].div,!(re.offsetTop+re.clientTop+re.clientHeight<=B));--te)Z=te;return Z}function z(Z){let ae=Math.hypot(Z.deltaX,Z.deltaY);const I=Math.atan2(Z.deltaY,Z.deltaX);return-.25*Math.PI<I&&I<.75*Math.PI&&(ae=-ae),ae}const _e=new Promise(function(Z){window.requestAnimationFrame(Z)});_.animationStarted=_e;var ue=new WeakSet;function w(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}_.ProgressBar=class b{constructor(ae){if(r(this,ue),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(ae+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(ae){this._indeterminate=isNaN(ae),this._percent=function me(Z,ae,I){return Math.min(Math.max(Z,ae),I)}(ae,0,100),F(ue,this,w).call(this)}setWidth(ae){if(!ae)return;const re=ae.parentNode.offsetWidth-ae.offsetWidth;re>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${re}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(H,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.StructTreeLayerBuilder=void 0;const M={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;_.StructTreeLayerBuilder=class P{constructor({pdfPage:C}){this.pdfPage=C}render(C){return this._walk(C)}_setAttributes(C,n){void 0!==C.alt&&n.setAttribute("aria-label",C.alt),void 0!==C.id&&n.setAttribute("aria-owns",C.id),void 0!==C.lang&&n.setAttribute("lang",C.lang)}_walk(C){if(!C)return null;const n=document.createElement("span");if("role"in C){const{role:t}=C,g=t.match(m);g?(n.setAttribute("role","heading"),n.setAttribute("aria-level",g[1])):M[t]&&n.setAttribute("role",M[t])}if(this._setAttributes(C,n),C.children)if(1===C.children.length&&"id"in C.children[0])this._setAttributes(C.children[0],n);else for(const t of C.children)n.appendChild(this._walk(t));return n}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerBuilder=void 0;var m=M(3);_.TextLayerBuilder=class L{constructor({textLayerDiv:n,eventBus:t,pageIndex:g,viewport:x,highlighter:u=null,enhanceTextSelection:E=!1}){this.textLayerDiv=n,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=g+1,this.viewport=x,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=u,this.enhanceTextSelection=E,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const t=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(t),this._finishRendering(),this.highlighter?.enable()},function(g){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let t=null;n.addEventListener("mousedown",g=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const x=n.querySelector(".endOfContent");if(!x)return;let u=g.target!==n;if(u=u&&"none"!==window.getComputedStyle(x).getPropertyValue("-moz-user-select"),u){const E=n.getBoundingClientRect(),v=Math.max(0,(g.pageY-E.top)/E.height);x.style.top=(100*v).toFixed(2)+"%"}x.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null},300));const g=n.querySelector(".endOfContent");g&&(g.style.top="",g.classList.remove("active"))})}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayerBuilder=void 0;var m=M(3);_.XfaLayerBuilder=class P{constructor({pageDiv:C,pdfPage:n,annotationStorage:t=null,linkService:g,xfaHtml:x=null}){this.pageDiv=C,this.pdfPage=n,this.annotationStorage=t,this.linkService=g,this.xfaHtml=x,this.div=null,this._cancelled=!1}render(C,n="display"){if("print"===n){const t={viewport:C.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},g=document.createElement("div");this.pageDiv.appendChild(g),t.div=g;const x=m.XfaLayer.render(t);return Promise.resolve(x)}return this.pdfPage.getXfa().then(t=>{if(this._cancelled||!t)return{textDivs:[]};const g={viewport:C.clone({dontFlip:!0}),div:this.div,xfaHtml:t,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?m.XfaLayer.update(g):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),g.div=this.div,m.XfaLayer.render(g))}).catch(t=>{console.error(t)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFViewer=_.PDFSinglePageViewer=void 0;var m=M(6),P=M(11);_.PDFViewer=class L extends P.BaseViewer{},_.PDFSinglePageViewer=class C extends P.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(t){}_updateScrollMode(){}set spreadMode(t){}_updateSpreadMode(){}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PagesCountLimit=_.PDFPageViewBuffer=_.BaseViewer=void 0;var m=M(3),P=M(6),L=M(2),C=M(4),n=M(12),t=M(14),g=M(5),x=M(7),u=M(15),E=M(8),v=M(9);const T="enablePermissions",O={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};_.PagesCountLimit=O;var j=new WeakMap,Y=new WeakMap,J=new WeakSet;class Q{constructor(b){r(this,J),W(this,j,new Set),W(this,Y,0),U(Y,this,b)}push(b){const w=D(j,this);w.has(b)&&w.delete(b),w.add(b),w.size>D(Y,this)&&F(J,this,he).call(this)}resize(b,w=null){U(Y,this,b);const ie=D(j,this);if(w){const le=ie.size;let ee=1;for(const Z of ie)if(w.has(Z.id)&&(ie.delete(Z),ie.add(Z)),++ee>le)break}for(;ie.size>D(Y,this);)F(J,this,he).call(this)}has(b){return D(j,this).has(b)}[Symbol.iterator](){return D(j,this).keys()}}function he(){const ue=D(j,this).keys().next().value;ue?.destroy(),D(j,this).delete(ue)}_.PDFPageViewBuffer=Q;var pe=new WeakMap,fe=new WeakMap,R=new WeakMap,a=new WeakMap,e=new WeakMap,s=new WeakMap,l=new WeakMap,f=new WeakSet;class p{constructor(b){if(r(this,f),W(this,pe,null),W(this,fe,m.AnnotationMode.ENABLE_FORMS),W(this,R,null),W(this,a,!1),W(this,e,0),W(this,s,null),W(this,l,null),this.constructor===p)throw new Error("Cannot initialize BaseViewer.");const w="2.14.305";if(m.version!==w)throw new Error(`The API version "${m.version}" does not match the Viewer version "${w}".`);if(this.container=b.container,this.viewer=b.viewer||b.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=b.eventBus,this.linkService=b.linkService||new g.SimpleLinkService,this.downloadManager=b.downloadManager||null,this.findController=b.findController||null,this._scriptingManager=b.scriptingManager||null,this.removePageBorders=b.removePageBorders||!1,this.textLayerMode=b.textLayerMode??P.TextLayerMode.ENABLE,U(fe,this,b.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=b.imageResourcesPath||"",this.enablePrintAutoRotate=b.enablePrintAutoRotate||!1,this.renderer=b.renderer||P.RendererType.CANVAS,this.useOnlyCssZoom=b.useOnlyCssZoom||!1,this.maxCanvasPixels=b.maxCanvasPixels,this.l10n=b.l10n||C.NullL10n,U(a,this,b.enablePermissions||!1),this.pageColors=b.pageColors||null,b.pageColors&&(!CSS.supports("color",b.pageColors.background)||!CSS.supports("color",b.pageColors.foreground))&&((b.pageColors.background||b.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!b.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new t.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=b.renderingQueue,this._doc=document.documentElement,this.scroll=(0,P.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=P.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(b){return this._pages[b]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(b){return b?.pdfPage})}get renderForms(){return D(fe,this)===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(b){if(!Number.isInteger(b))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(b,!0)||console.error(`currentPageNumber: "${b}" is not a valid page.`))}_setCurrentPageNumber(b,w=!1){if(this._currentPageNumber===b)return w&&F(f,this,G).call(this),!0;if(!(0<b&&b<=this.pagesCount))return!1;const ie=this._currentPageNumber;return this._currentPageNumber=b,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:b,pageLabel:this._pageLabels?.[b-1]??null,previous:ie}),w&&F(f,this,G).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(b){if(!this.pdfDocument)return;let w=0|b;if(this._pageLabels){const ie=this._pageLabels.indexOf(b);ie>=0&&(w=ie+1)}this._setCurrentPageNumber(w,!0)||console.error(`currentPageLabel: "${b}" is not a valid page.`)}get currentScale(){return this._currentScale!==P.UNKNOWN_SCALE?this._currentScale:P.DEFAULT_SCALE}set currentScale(b){if(isNaN(b))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(b,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(b){this.pdfDocument&&this._setScale(b,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(b){if(!(0,P.isValidRotation)(b))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((b%=360)<0&&(b+=360),this._pagesRotation===b))return;this._pagesRotation=b;const w=this._currentPageNumber,ie={rotation:b};for(const le of this._pages)le.update(ie);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:b,pageNumber:w}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(b){var w=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=b,!b)return;const ie=b.isPureXfa,le=b.numPages,ee=b.getPage(1),Z=b.getOptionalContentConfig(),ae=D(a,this)?b.getPermissions():Promise.resolve();if(le>O.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const I=this._scrollMode=P.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:I})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:le})},()=>{}),this._onBeforeDraw=I=>{const re=this._pages[I.pageNumber-1];re&&D(pe,this).push(re)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=I=>{I.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:I.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,D(l,this)&&(document.removeEventListener("visibilitychange",D(l,this)),U(l,this,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ee,ae]).then(([I,re])=>{if(b!==this.pdfDocument)return;this._firstPageCapability.resolve(I),this._optionalContentConfigPromise=Z,F(f,this,d).call(this,re);const B=this._scrollMode===P.ScrollMode.PAGE?null:this.viewer,te=this.currentScale,de=I.getViewport({scale:te*m.PixelsPerInch.PDF_TO_CSS_UNITS}),ve=this.textLayerMode===P.TextLayerMode.DISABLE||ie?null:this,se=D(fe,this)!==m.AnnotationMode.DISABLE?this:null,q=ie?this:null;for(let ge=1;ge<=le;++ge){const be=new n.PDFPageView({container:B,eventBus:this.eventBus,id:ge,scale:te,defaultViewport:de.clone(),optionalContentConfigPromise:Z,renderingQueue:this.renderingQueue,textLayerFactory:ve,textLayerMode:this.textLayerMode,annotationLayerFactory:se,annotationMode:D(fe,this),xfaLayerFactory:q,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(be)}const K=this._pages[0];K&&(K.setPdfPage(I),this.linkService.cachePageRef(1,I.ref)),this._scrollMode===P.ScrollMode.PAGE?F(f,this,z).call(this):this._spreadMode!==P.SpreadMode.NONE&&this._updateSpreadMode(),F(f,this,y).call(this).then(S(function*(){if(w.findController&&w.findController.setDocument(b),w._scriptingManager&&w._scriptingManager.setDocument(b),b.loadingParams.disableAutoFetch||le>O.FORCE_LAZY_PAGE_INIT)return void w._pagesCapability.resolve();let ge=le-1;if(ge<=0)w._pagesCapability.resolve();else for(let be=2;be<=le;++be){const ye=b.getPage(be).then(Ae=>{const we=w._pages[be-1];we.pdfPage||we.setPdfPage(Ae),w.linkService.cachePageRef(be,Ae.ref),0==--ge&&w._pagesCapability.resolve()},Ae=>{console.error(`Unable to get page ${be} to initialize viewer`,Ae),0==--ge&&w._pagesCapability.resolve()});be%O.PAUSE_EAGER_PAGE_INIT==0&&(yield ye)}})),this.eventBus.dispatch("pagesinit",{source:this}),b.getMetadata().then(({info:ge})=>{b===this.pdfDocument&&ge.Language&&(this.viewer.lang=ge.Language)}),this.defaultRenderingQueue&&this.update()}).catch(I=>{console.error("Unable to initialize viewer",I),this._pagesCapability.reject(I)})}setPageLabels(b){if(this.pdfDocument){b?Array.isArray(b)&&this.pdfDocument.numPages===b.length?this._pageLabels=b:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let w=0,ie=this._pages.length;w<ie;w++)this._pages[w].setPageLabel(this._pageLabels?.[w]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=P.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,U(pe,this,new Q(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,m.createPromiseCapability)(),this._onePageRenderedCapability=(0,m.createPromiseCapability)(),this._pagesCapability=(0,m.createPromiseCapability)(),this._scrollMode=P.ScrollMode.VERTICAL,this._previousScrollMode=P.ScrollMode.UNKNOWN,this._spreadMode=P.SpreadMode.NONE,U(s,this,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),D(l,this)&&(document.removeEventListener("visibilitychange",D(l,this)),U(l,this,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(T),null!==D(R,this)&&(U(fe,this,D(R,this)),U(R,this,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(b,w,ie=!1,le=!1){if(this._currentScaleValue=w.toString(),F(f,this,N).call(this,b))return void(le&&this.eventBus.dispatch("scalechanging",{source:this,scale:b,presetValue:w}));this._doc.style.setProperty("--zoom-factor",b);const ee={scale:b};for(const Z of this._pages)Z.update(ee);if(this._currentScale=b,!ie){let ae,Z=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Z=this._location.pageNumber,ae=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Z,destArray:ae,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:b,presetValue:le?w:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL?2:1}_setScale(b,w=!1){let ie=parseFloat(b);if(ie>0)this._setScaleUpdatePages(ie,b,w,!1);else{const le=this._pages[this._currentPageNumber-1];if(!le)return;let ee=P.SCROLLBAR_PADDING,Z=P.VERTICAL_PADDING;this.isInPresentationMode?ee=Z=4:this.removePageBorders?ee=Z=0:this._scrollMode===P.ScrollMode.HORIZONTAL&&([ee,Z]=[Z,ee]);const ae=(this.container.clientWidth-ee)/le.width*le.scale/this._pageWidthScaleFactor,I=(this.container.clientHeight-Z)/le.height*le.scale;switch(b){case"page-actual":ie=1;break;case"page-width":ie=ae;break;case"page-height":ie=I;break;case"page-fit":ie=Math.min(ae,I);break;case"auto":const re=(0,P.isPortraitOrientation)(le)?ae:Math.min(I,ae);ie=Math.min(P.MAX_AUTO_SCALE,re);break;default:return void console.error(`_setScale: "${b}" is an unknown zoom value.`)}this._setScaleUpdatePages(ie,b,w,!0)}}pageLabelToPageNumber(b){if(!this._pageLabels)return null;const w=this._pageLabels.indexOf(b);return w<0?null:w+1}scrollPageIntoView({pageNumber:b,destArray:w=null,allowNegativeOffset:ie=!1,ignoreDestinationZoom:le=!1}){if(!this.pdfDocument)return;const ee=Number.isInteger(b)&&this._pages[b-1];if(!ee)return void console.error(`scrollPageIntoView: "${b}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!w)return void this._setCurrentPageNumber(b,!0);let B,te,Z=0,ae=0,I=0,re=0;const de=ee.rotation%180!=0,ve=(de?ee.height:ee.width)/ee.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,se=(de?ee.width:ee.height)/ee.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let q=0;switch(w[1].name){case"XYZ":Z=w[2],ae=w[3],q=w[4],Z=null!==Z?Z:0,ae=null!==ae?ae:se;break;case"Fit":case"FitB":q="page-fit";break;case"FitH":case"FitBH":ae=w[2],q="page-width",null===ae&&this._location?(Z=this._location.left,ae=this._location.top):("number"!=typeof ae||ae<0)&&(ae=se);break;case"FitV":case"FitBV":Z=w[2],I=ve,re=se,q="page-height";break;case"FitR":Z=w[2],ae=w[3],I=w[4]-Z,re=w[5]-ae,B=(this.container.clientWidth-(this.removePageBorders?0:P.SCROLLBAR_PADDING))/I/m.PixelsPerInch.PDF_TO_CSS_UNITS,te=(this.container.clientHeight-(this.removePageBorders?0:P.VERTICAL_PADDING))/re/m.PixelsPerInch.PDF_TO_CSS_UNITS,q=Math.min(Math.abs(B),Math.abs(te));break;default:return void console.error(`scrollPageIntoView: "${w[1].name}" is not a valid destination type.`)}if(le||(q&&q!==this._currentScale?this.currentScaleValue=q:this._currentScale===P.UNKNOWN_SCALE&&(this.currentScaleValue=P.DEFAULT_SCALE_VALUE)),"page-fit"===q&&!w[4])return void F(f,this,A).call(this,ee);const K=[ee.viewport.convertToViewportPoint(Z,ae),ee.viewport.convertToViewportPoint(Z+I,ae+re)];let ge=Math.min(K[0][0],K[1][0]),be=Math.min(K[0][1],K[1][1]);ie||(ge=Math.max(ge,0),be=Math.max(be,0)),F(f,this,A).call(this,ee,{left:ge,top:be})}_updateLocation(b){const w=this._currentScale,ie=this._currentScaleValue,le=parseFloat(ie)===w?Math.round(1e4*w)/100:ie,ee=b.id,ae=this.container,I=this._pages[ee-1].getPagePoint(ae.scrollLeft-b.x,ae.scrollTop-b.y),re=Math.round(I[0]),B=Math.round(I[1]);let te=`#page=${ee}`;this.isInPresentationMode||(te+=`&zoom=${le},${re},${B}`),this._location={pageNumber:ee,scale:le,top:B,left:re,rotation:this._pagesRotation,pdfOpenParams:te}}update(){const b=this._getVisiblePages(),w=b.views,ie=w.length;if(0===ie)return;const le=Math.max(10,2*ie+1);D(pe,this).resize(le,b.ids),this.renderingQueue.renderHighestPriority(b);const ee=this._spreadMode===P.SpreadMode.NONE&&(this._scrollMode===P.ScrollMode.PAGE||this._scrollMode===P.ScrollMode.VERTICAL),Z=this._currentPageNumber;let ae=!1;for(const I of w){if(I.percent<100)break;if(I.id===Z&&ee){ae=!0;break}}this._setCurrentPageNumber(ae?Z:w[0].id),this._updateLocation(b.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(b){return this.container.contains(b)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===P.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===P.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const b=this._scrollMode===P.ScrollMode.PAGE?D(s,this).pages:this._pages,w=this._scrollMode===P.ScrollMode.HORIZONTAL;return(0,P.getVisibleElements)({scrollEl:this.container,views:b,sortByVisibility:!0,horizontal:w,rtl:w&&this._isContainerRtl})}isPageVisible(b){return!!this.pdfDocument&&(Number.isInteger(b)&&b>0&&b<=this.pagesCount?this._getVisiblePages().ids.has(b):(console.error(`isPageVisible: "${b}" is not a valid page.`),!1))}isPageCached(b){if(!this.pdfDocument)return!1;if(!(Number.isInteger(b)&&b>0&&b<=this.pagesCount))return console.error(`isPageCached: "${b}" is not a valid page.`),!1;const w=this._pages[b-1];return D(pe,this).has(w)}cleanup(){for(const b of this._pages)b.renderingState!==P.RenderingStates.FINISHED&&b.reset()}_cancelRendering(){for(const b of this._pages)b.cancelRendering()}forceRendering(b){const w=b||this._getVisiblePages(),ie=F(f,this,_e).call(this,w),ee=this.renderingQueue.getHighestPriority(w,this._pages,ie,this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL);return F(f,this,me).call(this,w.ids),!!ee&&(F(f,this,oe).call(this,ee).then(()=>{this.renderingQueue.renderView(ee)}),!0)}createTextLayerBuilder(b,w,ie,le=!1,ee,Z){return new E.TextLayerBuilder({textLayerDiv:b,eventBus:ee,pageIndex:w,viewport:ie,enhanceTextSelection:!this.isInPresentationMode&&le,highlighter:Z})}createTextHighlighter(b,w){return new u.TextHighlighter({eventBus:w,pageIndex:b,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(b,w,ie=null,le="",ee=!0,Z=C.NullL10n,ae=null,I=null,re=null,B=null,te=null){return new L.AnnotationLayerBuilder({pageDiv:b,pdfPage:w,annotationStorage:ie||this.pdfDocument?.annotationStorage,imageResourcesPath:le,renderForms:ee,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Z,enableScripting:ae??this.enableScripting,hasJSActionsPromise:I||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:B||this.pdfDocument?.getFieldObjects(),mouseState:re||this._scriptingManager?.mouseState,annotationCanvasMap:te})}createXfaLayerBuilder(b,w,ie=null){return new v.XfaLayerBuilder({pageDiv:b,pdfPage:w,annotationStorage:ie||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(b){return new x.StructTreeLayerBuilder({pdfPage:b})}get hasEqualPageSizes(){const b=this._pages[0];for(let w=1,ie=this._pages.length;w<ie;++w){const le=this._pages[w];if(le.width!==b.width||le.height!==b.height)return!1}return!0}getPagesOverview(){return this._pages.map(b=>{const w=b.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,P.isPortraitOrientation)(w)?{width:w.width,height:w.height,rotation:w.rotation}:{width:w.height,height:w.width,rotation:(w.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(b){if(!(b instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${b}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=b;const w={optionalContentConfigPromise:b};for(const ie of this._pages)ie.update(w);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:b})}get scrollMode(){return this._scrollMode}set scrollMode(b){if(this._scrollMode!==b){if(!(0,P.isValidScrollMode)(b))throw new Error(`Invalid scroll mode: ${b}`);this.pagesCount>O.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=b,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:b}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(b=null){const w=this._scrollMode,ie=this.viewer;ie.classList.toggle("scrollHorizontal",w===P.ScrollMode.HORIZONTAL),ie.classList.toggle("scrollWrapped",w===P.ScrollMode.WRAPPED),this.pdfDocument&&b&&(w===P.ScrollMode.PAGE?F(f,this,z).call(this):this._previousScrollMode===P.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(b,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(b){if(this._spreadMode!==b){if(!(0,P.isValidSpreadMode)(b))throw new Error(`Invalid spread mode: ${b}`);this._spreadMode=b,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:b}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(b=null){if(!this.pdfDocument)return;const w=this.viewer,ie=this._pages;if(this._scrollMode===P.ScrollMode.PAGE)F(f,this,z).call(this);else if(w.textContent="",this._spreadMode===P.SpreadMode.NONE)for(const le of this._pages)w.appendChild(le.div);else{const le=this._spreadMode-1;let ee=null;for(let Z=0,ae=ie.length;Z<ae;++Z)null===ee?(ee=document.createElement("div"),ee.className="spread",w.appendChild(ee)):Z%2===le&&(ee=ee.cloneNode(!1),w.appendChild(ee)),ee.appendChild(ie[Z].div)}b&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(b,!0),this.update())}_getPageAdvance(b,w=!1){switch(this._scrollMode){case P.ScrollMode.WRAPPED:{const{views:ie}=this._getVisiblePages(),le=new Map;for(const{id:ee,y:Z,percent:ae,widthPercent:I}of ie){if(0===ae||I<100)continue;let re=le.get(Z);re||le.set(Z,re||=[]),re.push(ee)}for(const ee of le.values()){const Z=ee.indexOf(b);if(-1===Z)continue;const ae=ee.length;if(1===ae)break;if(w)for(let I=Z-1,re=0;I>=re;I--){const te=ee[I+1]-1;if(ee[I]<te)return b-te}else for(let I=Z+1,re=ae;I<re;I++){const te=ee[I-1]+1;if(ee[I]>te)return te-b}if(w){const I=ee[0];if(I<b)return b-I+1}else{const I=ee[ae-1];if(I>b)return I-b+1}break}break}case P.ScrollMode.HORIZONTAL:break;case P.ScrollMode.PAGE:case P.ScrollMode.VERTICAL:{if(this._spreadMode===P.SpreadMode.NONE)break;const ie=this._spreadMode-1;if(w&&b%2!==ie)break;if(!w&&b%2===ie)break;const{views:le}=this._getVisiblePages(),ee=w?b-1:b+1;for(const{id:Z,percent:ae,widthPercent:I}of le)if(Z===ee){if(ae>0&&100===I)return 2;break}break}}return 1}nextPage(){const b=this._currentPageNumber,w=this.pagesCount;if(b>=w)return!1;const ie=this._getPageAdvance(b,!1)||1;return this.currentPageNumber=Math.min(b+ie,w),!0}previousPage(){const b=this._currentPageNumber;if(b<=1)return!1;const w=this._getPageAdvance(b,!0)||1;return this.currentPageNumber=Math.max(b-w,1),!0}increaseScale(b=1){let w=this._currentScale;do{w=(w*P.DEFAULT_SCALE_DELTA).toFixed(2),w=Math.ceil(10*w)/10,w=Math.min(P.MAX_SCALE,w)}while(--b>0&&w<P.MAX_SCALE);this.currentScaleValue=w}decreaseScale(b=1){let w=this._currentScale;do{w=(w/P.DEFAULT_SCALE_DELTA).toFixed(2),w=Math.floor(10*w)/10,w=Math.max(P.MIN_SCALE,w)}while(--b>0&&w>P.MIN_SCALE);this.currentScaleValue=w}updateContainerHeightCss(){const b=this.container.clientHeight;b!==D(e,this)&&(U(e,this,b),this._doc.style.setProperty("--viewer-container-height",`${b}px`))}}function d(ue){ue&&(ue.includes(m.PermissionFlag.COPY)||this.viewer.classList.add(T),!ue.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!ue.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&D(fe,this)===m.AnnotationMode.ENABLE_FORMS&&(U(R,this,D(fe,this)),U(fe,this,m.AnnotationMode.ENABLE)))}function y(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ue=new Promise(b=>{U(l,this,()=>{"hidden"===document.visibilityState&&(b(),document.removeEventListener("visibilitychange",D(l,this)),U(l,this,null))}),document.addEventListener("visibilitychange",D(l,this))});return Promise.race([this._onePageRenderedCapability.promise,ue])}function z(){if(this._scrollMode!==P.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ue=this._currentPageNumber,b=D(s,this),w=this.viewer;if(w.textContent="",b.pages.length=0,this._spreadMode!==P.SpreadMode.NONE||this.isInPresentationMode){const ie=new Set,le=this._spreadMode-1;-1===le?ie.add(ue-1):ue%2!==le?(ie.add(ue-1),ie.add(ue)):(ie.add(ue-2),ie.add(ue-1));const ee=document.createElement("div");if(ee.className="spread",this.isInPresentationMode){const Z=document.createElement("div");Z.className="dummyPage",ee.appendChild(Z)}for(const Z of ie){const ae=this._pages[Z];ae&&(ee.appendChild(ae.div),b.pages.push(ae))}w.appendChild(ee)}else{const ie=this._pages[ue-1];w.appendChild(ie.div),b.pages.push(ie)}b.scrollDown=ue>=b.previousPageNumber,b.previousPageNumber=ue}function A(ue,b=null){const{div:w,id:ie}=ue;if(this._scrollMode===P.ScrollMode.PAGE&&(this._setCurrentPageNumber(ie),F(f,this,z).call(this),this.update()),!b&&!this.isInPresentationMode){const le=w.offsetLeft+w.clientLeft,ee=le+w.clientWidth,{scrollLeft:Z,clientWidth:ae}=this.container;(this._scrollMode===P.ScrollMode.HORIZONTAL||le<Z||ee>Z+ae)&&(b={left:0,top:0})}(0,P.scrollIntoView)(w,b)}function N(ue){return ue===this._currentScale||Math.abs(ue-this._currentScale)<1e-15}function G(){const ue=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),F(f,this,A).call(this,ue)}function oe(ue){return ce.apply(this,arguments)}function ce(){return(ce=S(function*(ue){if(ue.pdfPage)return ue.pdfPage;try{const b=yield this.pdfDocument.getPage(ue.id);return ue.pdfPage||ue.setPdfPage(b),this.linkService._cachedPageNumber?.(b.ref)||this.linkService.cachePageRef(ue.id,b.ref),b}catch(b){return console.error("Unable to get page for page view",b),null}})).apply(this,arguments)}function _e(ue){if(1===ue.first?.id)return!0;if(ue.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case P.ScrollMode.PAGE:return D(s,this).scrollDown;case P.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function me(ue){for(const b of ue)this._pages[b-1]?.toggleLoadingIconSpinner(!0);for(const b of D(pe,this))ue.has(b.id)||b.toggleLoadingIconSpinner(!1)}_.BaseViewer=p},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFPageView=void 0;var m=M(3),P=M(6),L=M(13),C=M(4);const n=L.compatibilityParams.maxCanvasPixels||16777216;var t=new WeakMap;_.PDFPageView=class g{constructor(u){W(this,t,m.AnnotationMode.ENABLE_FORMS);const E=u.container,v=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||P.DEFAULT_SCALE,this.viewport=v,this.pdfPageRotate=v.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=u.textLayerMode??P.TextLayerMode.ENABLE,U(t,this,u.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||n,this.pageColors=u.pageColors||null,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=u.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||P.RendererType.CANVAS,this.l10n=u.l10n||C.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=P.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const h=document.createElement("div");h.className="page",h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px",h.setAttribute("data-page-number",this.id),h.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(T=>{h.setAttribute("aria-label",T)}),this.div=h,E?.appendChild(h)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return S(function*(){let E=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(v){E=v}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:E})}})()}_renderXfaLayer(){var u=this;return S(function*(){let E=null;try{const v=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(v.textDivs)}catch(v){E=v}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:E})}})()}_buildXfaTextContentItems(u){var E=this;return S(function*(){const v=yield E.pdfPage.getTextContent(),h=[];for(const T of v.items)h.push(T.str);E.textHighlighter.setTextMapping(u,h),E.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const E=this.zoomLayer.firstChild;this.paintedViewportMap.delete(E),E.width=0,E.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:E=!1,keepXfaLayer:v=!1}={}){this.cancelRendering({keepAnnotationLayer:E,keepXfaLayer:v}),this.renderingState=P.RenderingStates.INITIAL;const h=this.div;h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px";const T=h.childNodes,O=u&&this.zoomLayer||null,j=E&&this.annotationLayer?.div||null,Y=v&&this.xfaLayer?.div||null;for(let J=T.length-1;J>=0;J--){const Q=T[J];switch(Q){case O:case j:case Y:continue}Q.remove()}h.removeAttribute("data-loaded"),j&&this.annotationLayer.hide(),Y&&this.xfaLayer.hide(),O||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(J=>{this.loadingIconDiv?.setAttribute("aria-label",J)}),h.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:E=null,optionalContentConfigPromise:v=null}){if(this.scale=u||this.scale,"number"==typeof E&&(this.rotation=E),v instanceof Promise&&(this._optionalContentConfigPromise=v),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:O}=document.documentElement;O.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let T=!1;if(this.canvas&&this.maxCanvasPixels>0){const O=this.outputScale;(Math.floor(this.viewport.width)*O.sx|0)*(Math.floor(this.viewport.height)*O.sy|0)>this.maxCanvasPixels&&(T=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&T)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:E=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!E||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:E=!1,redrawXfaLayer:v=!1}){const h=this.viewport.width,T=this.viewport.height,O=this.div;u.style.width=u.parentNode.style.width=O.style.width=Math.floor(h)+"px",u.style.height=u.parentNode.style.height=O.style.height=Math.floor(T)+"px";const j=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,Y=Math.abs(j);let J=1,Q=1;if((90===Y||270===Y)&&(J=T/h,Q=h/T),u.style.transform=`rotate(${j}deg) scale(${J}, ${Q})`,this.textLayer){const he=this.textLayer.viewport,fe=Math.abs(this.viewport.rotation-he.rotation);let R=h/he.width;(90===fe||270===fe)&&(R=h/he.height);const a=this.textLayer.textLayerDiv;let e,s;switch(fe){case 0:e=s=0;break;case 90:e=0,s="-"+a.style.height;break;case 180:e="-"+a.style.width,s="-"+a.style.height;break;case 270:e="-"+a.style.width,s=0;break;default:console.error("Bad rotation value.")}a.style.transform=`rotate(${fe}deg) scale(${R}) translate(${e}, ${s})`,a.style.transformOrigin="0% 0%"}E&&this.annotationLayer&&this._renderAnnotationLayer(),v&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,E){return this.viewport.convertToPdfPoint(u,E)}toggleLoadingIconSpinner(u=!1){this.loadingIconDiv?.classList.toggle("notVisible",!u)}draw(){var u=this;this.renderingState!==P.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:E,pdfPage:v}=this;if(!v)return this.renderingState=P.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=P.RenderingStates.RUNNING;const h=document.createElement("div");h.style.width=E.style.width,h.style.height=E.style.height,h.classList.add("canvasWrapper"),this.annotationLayer?.div?E.insertBefore(h,this.annotationLayer.div):E.appendChild(h);let T=null;if(this.textLayerMode!==P.TextLayerMode.DISABLE&&this.textLayerFactory){const Q=document.createElement("div");Q.className="textLayer",Q.style.width=h.style.width,Q.style.height=h.style.height,this.annotationLayer?.div?E.insertBefore(Q,this.annotationLayer.div):E.appendChild(Q),T=this.textLayerFactory.createTextLayerBuilder(Q,this.id-1,this.viewport,this.textLayerMode===P.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=T,D(t,this)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(E,v,null,this.imageResourcesPath,D(t,this)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&E.appendChild(this.xfaLayer.div);let O=null;this.renderingQueue&&(O=Q=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=P.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=P.RenderingStates.RUNNING,Q()});Q()});const j=function(){var Q=S(function*(he=null){if(Y===u.paintTask&&(u.paintTask=null),he instanceof m.RenderingCancelledException)u._renderError=null;else if(u._renderError=he,u.renderingState=P.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),he)throw he});return function(){return Q.apply(this,arguments)}}(),Y=this.renderer===P.RendererType.SVG?this.paintOnSvg(h):this.paintOnCanvas(h);Y.onRenderContinue=O,this.paintTask=Y;const J=Y.promise.then(()=>j(null).then(()=>{if(T){const Q=v.streamTextContent({includeMarkedContent:!0});T.setTextContentStream(Q),T.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(Q){return j(Q)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(E,v,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Q=>{Q.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(he=>{if(!he||!this.canvas)return;const pe=this.structTreeLayer.render(he);pe.classList.add("structTree"),this.canvas.appendChild(pe)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(v)),E.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),J}paintOnCanvas(u){const E=(0,m.createPromiseCapability)(),v={promise:E.promise,onRenderContinue(a){a()},cancel(){R.cancel()}},h=this.viewport,T=document.createElement("canvas");T.hidden=!0;let O=!0;const j=function(){O&&(T.hidden=!1,O=!1)};u.appendChild(T),this.canvas=T;const Y=T.getContext("2d",{alpha:!1}),J=this.outputScale=new P.OutputScale;if(this.useOnlyCssZoom){const a=h.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});J.sx*=a.width/h.width,J.sy*=a.height/h.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(h.width*h.height));J.sx>e||J.sy>e?(J.sx=e,J.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Q=(0,P.approximateFraction)(J.sx),he=(0,P.approximateFraction)(J.sy);T.width=(0,P.roundToDivide)(h.width*J.sx,Q[0]),T.height=(0,P.roundToDivide)(h.height*J.sy,he[0]),T.style.width=(0,P.roundToDivide)(h.width,Q[1])+"px",T.style.height=(0,P.roundToDivide)(h.height,he[1])+"px",this.paintedViewportMap.set(T,h);const fe={canvasContext:Y,transform:J.scaled?[J.sx,0,0,J.sy,0,0]:null,viewport:this.viewport,annotationMode:D(t,this),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},R=this.pdfPage.render(fe);return R.onContinue=function(a){j(),v.onRenderContinue?v.onRenderContinue(a):a()},R.promise.then(function(){j(),E.resolve()},function(a){j(),E.reject(a)}),v}paintOnSvg(u){let E=!1;const v=()=>{if(E)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},h=this.pdfPage,T=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:h.getOperatorList({annotationMode:D(t,this)}).then(j=>(v(),new m.SVGGraphics(h.commonObjs,h.objs).getSVG(j,T).then(J=>{v(),this.svg=J,this.paintedViewportMap.set(J,T),J.style.width=u.style.width,J.style.height=u.style.height,this.renderingState=P.RenderingStates.FINISHED,u.appendChild(J)}))),onRenderContinue(j){j()},cancel(){E=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(H,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.compatibilityParams=_.OptionKind=_.AppOptions=void 0;const M=Object.create(null);_.compatibilityParams=M;{const n=navigator.userAgent||"",t=navigator.platform||"",g=navigator.maxTouchPoints||1,x=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===t&&g>1||x)&&(M.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};_.OptionKind=m;const P={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:M.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};P.disablePreferences={value:!1,kind:m.VIEWER},P.locale={value:navigator.language||"en-US",kind:m.VIEWER},P.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},P.renderer.kind+=m.PREFERENCE;const L=Object.create(null);_.AppOptions=class C{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){const g=L[t];if(void 0!==g)return g;const x=P[t];return void 0!==x?x.compatibility??x.value:void 0}static getAll(t=null){const g=Object.create(null);for(const x in P){const u=P[x];if(t){if(!(t&u.kind))continue;if(t===m.PREFERENCE){const v=u.value,h=typeof v;if("boolean"===h||"string"===h||"number"===h&&Number.isInteger(v)){g[x]=v;continue}throw new Error(`Invalid type for preference: ${x}`)}}const E=L[x];g[x]=void 0!==E?E:u.compatibility??u.value}return g}static set(t,g){L[t]=g}static setAll(t){for(const g in t)L[g]=t[g]}static remove(t){delete L[t]}static _hasUserOptions(){return Object.keys(L).length>0}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFRenderingQueue=void 0;var m=M(3),P=M(6);_.PDFRenderingQueue=class C{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(t)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(t,g,x,u=!1){const E=t.views,v=E.length;if(0===v)return null;for(let Y=0;Y<v;Y++){const J=E[Y].view;if(!this.isViewFinished(J))return J}const h=t.first.id,T=t.last.id;if(T-h+1>v){const Y=t.ids;for(let J=1,Q=T-h;J<Q;J++){const he=x?h+J:T-J;if(Y.has(he))continue;const pe=g[he-1];if(!this.isViewFinished(pe))return pe}}let O=x?T:h-2,j=g[O];return j&&!this.isViewFinished(j)||u&&(O+=x?1:-1,j=g[O],j&&!this.isViewFinished(j))?j:null}isViewFinished(t){return t.renderingState===P.RenderingStates.FINISHED}renderView(t){switch(t.renderingState){case P.RenderingStates.FINISHED:return!1;case P.RenderingStates.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case P.RenderingStates.RUNNING:this.highestPriorityPage=t.renderingId;break;case P.RenderingStates.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(g=>{g instanceof m.RenderingCancelledException||console.error(`renderView: "${g}"`)})}return!0}}},(H,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextHighlighter=void 0,_.TextHighlighter=class M{constructor({findController:P,eventBus:L,pageIndex:C}){this.findController=P,this.matches=[],this.eventBus=L,this.pageIdx=C,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(P,L){this.textDivs=P,this.textContentItemsStr=L}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=P=>{(P.pageIndex===this.pageIdx||-1===P.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(P,L){if(!P)return[];const{textContentItemsStr:C}=this;let n=0,t=0;const g=C.length-1,x=[];for(let u=0,E=P.length;u<E;u++){let v=P[u];for(;n!==g&&v>=t+C[n].length;)t+=C[n].length,n++;n===C.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:n,offset:v-t}};for(v+=L[u];n!==g&&v>t+C[n].length;)t+=C[n].length,n++;h.end={divIdx:n,offset:v-t},x.push(h)}return x}_renderMatches(P){if(0===P.length)return;const{findController:L,pageIdx:C}=this,{textContentItemsStr:n,textDivs:t}=this,g=C===L.selected.pageIdx,x=L.selected.matchIdx;let E=null;function h(Y,J){const Q=Y.divIdx;return t[Q].textContent="",T(Q,0,Y.offset,J)}function T(Y,J,Q,he){let pe=t[Y];if(pe.nodeType===Node.TEXT_NODE){const a=document.createElement("span");pe.parentNode.insertBefore(a,pe),a.appendChild(pe),t[Y]=a,pe=a}const fe=n[Y].substring(J,Q),R=document.createTextNode(fe);if(he){const a=document.createElement("span");return a.className=`${he} appended`,a.appendChild(R),pe.appendChild(a),he.includes("selected")?a.offsetLeft:0}return pe.appendChild(R),0}let O=x,j=O+1;if(L.state.highlightAll)O=0,j=P.length;else if(!g)return;for(let Y=O;Y<j;Y++){const J=P[Y],Q=J.begin,he=J.end,pe=g&&Y===x,fe=pe?" selected":"";let R=0;if(E&&Q.divIdx===E.divIdx?T(E.divIdx,E.offset,Q.offset):(null!==E&&T(E.divIdx,E.offset,undefined),h(Q)),Q.divIdx===he.divIdx)R=T(Q.divIdx,Q.offset,he.offset,"highlight"+fe);else{R=T(Q.divIdx,Q.offset,undefined,"highlight begin"+fe);for(let a=Q.divIdx+1,e=he.divIdx;a<e;a++)t[a].className="highlight middle"+fe;h(he,"highlight end"+fe)}E=he,pe&&L.scrollMatchIntoView({element:t[Q.divIdx],selectedLeft:R,pageIndex:C,matchIndex:x})}E&&T(E.divIdx,E.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:P,matches:L,pageIdx:C}=this,{textContentItemsStr:n,textDivs:t}=this;let g=-1;for(let E=0,v=L.length;E<v;E++){const h=L[E];for(let O=Math.max(g,h.begin.divIdx),j=h.end.divIdx;O<=j;O++){const Y=t[O];Y.textContent=n[O],Y.className=""}g=h.end.divIdx+1}P?.highlightMatches&&(this.matches=this._convertMatches(P.pageMatches[C]||null,P.pageMatchesLength[C]||null),this._renderMatches(this.matches))}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DownloadManager=void 0;var m=M(3);function P(C,n){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=C,t.target="_parent","download"in t&&(t.download=n),(document.body||document.documentElement).appendChild(t),t.click(),t.remove()}_.DownloadManager=class L{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,t){(0,m.createValidAbsoluteUrl)(n,"http://example.com")?P(n+"#pdfjs.action=download",t):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,t,g){P(URL.createObjectURL(new Blob([n],{type:g})),t)}openOrDownloadData(n,t,g){const x=(0,m.isPdfFile)(g),u=x?"application/pdf":"";if(x){let v,E=this._openBlobUrls.get(n);E||(E=URL.createObjectURL(new Blob([t],{type:u})),this._openBlobUrls.set(n,E)),v="?file="+encodeURIComponent(E+"#"+g);try{return window.open(v),!0}catch(h){console.error(`openOrDownloadData: ${h}`),URL.revokeObjectURL(E),this._openBlobUrls.delete(n)}}return this.downloadData(t,g,u),!1}download(n,t,g,x="download"){P(URL.createObjectURL(n),g)}}},(H,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WaitOnType=_.EventBus=_.AutomationEventBus=void 0,_.waitOnEventOrTimeout=function m({target:C,name:n,delay:t=0}){return new Promise(function(g,x){if("object"!=typeof C||!n||"string"!=typeof n||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function u(T){C instanceof P?C._off(n,E):C.removeEventListener(n,E),h&&clearTimeout(h),g(T)}const E=u.bind(null,M.EVENT);C instanceof P?C._on(n,E):C.addEventListener(n,E);const v=u.bind(null,M.TIMEOUT),h=setTimeout(v,t)})};const M={EVENT:"event",TIMEOUT:"timeout"};_.WaitOnType=M;class P{constructor(){this._listeners=Object.create(null)}on(n,t,g=null){this._on(n,t,{external:!0,once:g?.once})}off(n,t,g=null){this._off(n,t,{external:!0,once:g?.once})}dispatch(n,t){const g=this._listeners[n];if(!g||0===g.length)return;let x;for(const{listener:u,external:E,once:v}of g.slice(0))v&&this._off(n,u),E?(x||=[]).push(u):u(t);if(x){for(const u of x)u(t);x=null}}_on(n,t,g=null){(this._listeners[n]||=[]).push({listener:t,external:!0===g?.external,once:!0===g?.once})}_off(n,t,g=null){const x=this._listeners[n];if(x)for(let u=0,E=x.length;u<E;u++)if(x[u].listener===t)return void x.splice(u,1)}}_.EventBus=P,_.AutomationEventBus=class L extends P{dispatch(n,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericL10n=void 0,M(19);var m=M(4);const P=document.webL10n;_.GenericL10n=class L{constructor(n){this._lang=n,this._ready=new Promise((t,g)=>{P.setLanguage((0,m.fixupLangCode)(n),()=>{t(P)})})}getLanguage(){var n=this;return S(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return S(function*(){return(yield n._ready).getDirection()})()}get(n){var t=this;return S(function*(g,x=null,u=(0,m.getL10nFallback)(g,x)){return(yield t._ready).get(g,x,u)}).apply(this,arguments)}translate(n){var t=this;return S(function*(){return(yield t._ready).translate(n)})()}}},()=>{document.webL10n=function(H,_){var m={},P="",L="textContent",C="",n={},t="loading",g=!0;function h(a,e,s){e=e||function(p){},s=s||function(){};var l=new XMLHttpRequest;l.open("GET",a,g),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=utf-8"),l.onreadystatechange=function(){4==l.readyState&&(200==l.status||0===l.status?e(l.responseText):s())},l.onerror=s,l.ontimeout=s;try{l.send(null)}catch{s()}}function O(a,e){a&&(a=a.toLowerCase()),e=e||function(){},function j(){m={},P="",C=""}(),C=a;var s=function x(){return _.querySelectorAll('link[type="application/l10n"]')}(),l=s.length;if(0!==l){var y,z=0;y=function(){++z>=l&&(e(),t="complete")};for(var N=0;N<l;N++)new A(s[N]).load(a,y)}else{var f=function u(){var a=_.querySelector('script[type="application/l10n"]');return a?JSON.parse(a.innerHTML):null}();if(f&&f.locales&&f.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=f.locales[a])){var p=f.default_locale.toLowerCase();for(var d in f.locales){if((d=d.toLowerCase())===a){m=f.locales[a];break}d===p&&(m=f.locales[p])}}e()}else console.log("no resource to load, early way out");t="complete"}function A(oe){var ce=oe.href;this.load=function(_e,me){!function T(a,e,s,l){var f=a.replace(/[^\/]*$/,"")||"./";function p(y){return y.lastIndexOf("\\")<0?y:y.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}h(a,function(y){P+=y,function d(y,z){var A={},N=/^\s*|\s*$/,G=/^\s*#|^\s*$/,oe=/^\s*\[(.*)\]\s*$/,ce=/^\s*@import\s+url\((.*)\)\s*$/i,_e=/^([^=\s]*)\s*=\s*(.+)$/;function me(b,w,ie){var le=b.replace(N,"").split(/[\r\n]+/),ee="*",Z=e.split("-",1)[0],ae=!1,I="";!function re(){for(;;){if(!le.length)return void ie();var B=le.shift();if(!G.test(B)){if(w){if(I=oe.exec(B)){ee=I[1].toLowerCase(),ae="*"!==ee&&ee!==e&&ee!==Z;continue}if(ae)continue;if(I=ce.exec(B))return void ue(f+I[1],re)}var te=B.match(_e);te&&3==te.length&&(A[te[1]]=p(te[2]))}}}()}function ue(b,w){h(b,function(ie){me(ie,!1,w)},function(){console.warn(b+" not found."),w()})}me(y,!0,function(){z(A)})}(y,function(z){for(var A in z){var N,G,oe=A.lastIndexOf(".");oe>0?(N=A.substring(0,oe),G=A.substring(oe+1)):(N=A,G=L),m[N]||(m[N]={}),m[N][G]=z[A]}s&&s()})},l)}(ce,_e,me,function(){console.warn(ce+" not found."),console.warn('"'+_e+'" resource not found'),C="",me()})}}}function J(a,e,s){var l=m[a];if(!l){if(console.warn("#"+a+" is undefined."),!s)return null;l=s}var f={};for(var p in l){var d=l[p];d=he(d=Q(d,e,a,p),e,a),f[p]=d}return f}function Q(a,e,s,l){var p=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(a);if(!p||!p.length)return a;var z,d=p[1],y=p[2];return e&&y in e?z=e[y]:y in m&&(z=m[y]),d in n&&(a=(0,n[d])(a,z,s,l)),a}function he(a,e,s){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(f,p){return e&&p in e?e[p]:p in m?m[p]:(console.log("argument {{"+p+"}} for #"+s+" is undefined."),f)})}function pe(a){var e=function v(a){if(!a)return{};var e=a.getAttribute("data-l10n-id"),s=a.getAttribute("data-l10n-args"),l={};if(s)try{l=JSON.parse(s)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:l}}(a);if(e.id){var s=J(e.id,e.args);if(!s)return void console.warn("#"+e.id+" is undefined.");if(s[L]){if(0===function fe(a){if(a.children)return a.children.length;if(typeof a.childElementCount<"u")return a.childElementCount;for(var e=0,s=0;s<a.childNodes.length;s++)e+=1===a.nodeType?1:0;return e}(a))a[L]=s[L];else{for(var l=a.childNodes,f=!1,p=0,d=l.length;p<d;p++)3===l[p].nodeType&&/\S/.test(l[p].nodeValue)&&(f?l[p].nodeValue="":(l[p].nodeValue=s[L],f=!0));if(!f){var y=_.createTextNode(s[L]);a.insertBefore(y,a.firstChild)}}delete s[L]}for(var z in s)a[z]=s[z]}}return n.plural=function(a,e,s,l){var f=parseFloat(e);if(isNaN(f)||l!=L)return a;n._pluralRules||(n._pluralRules=function Y(a){function s(d,y){return-1!==y.indexOf(d)}function l(d,y,z){return y<=d&&d<=z}var f={0:function(d){return"other"},1:function(d){return l(d%100,3,10)?"few":0===d?"zero":l(d%100,11,99)?"many":2==d?"two":1==d?"one":"other"},2:function(d){return 0!==d&&d%10==0?"many":2==d?"two":1==d?"one":"other"},3:function(d){return 1==d?"one":"other"},4:function(d){return l(d,0,1)?"one":"other"},5:function(d){return l(d,0,2)&&2!=d?"one":"other"},6:function(d){return 0===d?"zero":d%10==1&&d%100!=11?"one":"other"},7:function(d){return 2==d?"two":1==d?"one":"other"},8:function(d){return l(d,3,6)?"few":l(d,7,10)?"many":2==d?"two":1==d?"one":"other"},9:function(d){return 0===d||1!=d&&l(d%100,1,19)?"few":1==d?"one":"other"},10:function(d){return l(d%10,2,9)&&!l(d%100,11,19)?"few":d%10!=1||l(d%100,11,19)?"other":"one"},11:function(d){return l(d%10,2,4)&&!l(d%100,12,14)?"few":d%10==0||l(d%10,5,9)||l(d%100,11,14)?"many":d%10==1&&d%100!=11?"one":"other"},12:function(d){return l(d,2,4)?"few":1==d?"one":"other"},13:function(d){return l(d%10,2,4)&&!l(d%100,12,14)?"few":1!=d&&l(d%10,0,1)||l(d%10,5,9)||l(d%100,12,14)?"many":1==d?"one":"other"},14:function(d){return l(d%100,3,4)?"few":d%100==2?"two":d%100==1?"one":"other"},15:function(d){return 0===d||l(d%100,2,10)?"few":l(d%100,11,19)?"many":1==d?"one":"other"},16:function(d){return d%10==1&&11!=d?"one":"other"},17:function(d){return 3==d?"few":0===d?"zero":6==d?"many":2==d?"two":1==d?"one":"other"},18:function(d){return 0===d?"zero":l(d,0,2)&&0!==d&&2!=d?"one":"other"},19:function(d){return l(d,2,10)?"few":l(d,0,1)?"one":"other"},20:function(d){return!l(d%10,3,4)&&d%10!=9||l(d%100,10,19)||l(d%100,70,79)||l(d%100,90,99)?d%1e6==0&&0!==d?"many":d%10!=2||s(d%100,[12,72,92])?d%10!=1||s(d%100,[11,71,91])?"other":"one":"two":"few"},21:function(d){return 0===d?"zero":1==d?"one":"other"},22:function(d){return l(d,0,1)||l(d,11,99)?"one":"other"},23:function(d){return l(d%10,1,2)||d%20==0?"one":"other"},24:function(d){return l(d,3,10)||l(d,13,19)?"few":s(d,[2,12])?"two":s(d,[1,11])?"one":"other"}},p={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return p in f?f[p]:(console.warn("plural form unknown for ["+a+"]"),function(){return"other"})}(C));var p="["+n._pluralRules(f)+"]";return 0===f&&s+"[zero]"in m?a=m[s+"[zero]"][l]:1==f&&s+"[one]"in m?a=m[s+"[one]"][l]:2==f&&s+"[two]"in m?a=m[s+"[two]"][l]:s+p in m?a=m[s+p][l]:s+"[other]"in m&&(a=m[s+"[other]"][l]),a},{get:function(a,e,s){var p,l=a.lastIndexOf("."),f=L;l>0&&(f=a.substring(l+1),a=a.substring(0,l)),s&&((p={})[f]=s);var d=J(a,e,p);return d&&f in d?d[f]:"{{"+a+"}}"},getData:function(){return m},getText:function(){return P},getLanguage:function(){return C},setLanguage:function(a,e){O(a,function(){e&&e()})},getDirection:function(){var e=C.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function R(a){for(var e=function E(a){return a?a.querySelectorAll("*[data-l10n-id]"):[]}(a=a||_.documentElement),s=e.length,l=0;l<s;l++)pe(e[l]);pe(a)},getReadyState:function(){return t},ready:function(a){a&&("complete"==t||"interactive"==t?H.setTimeout(function(){a()}):_.addEventListener&&_.addEventListener("localized",function e(){_.removeEventListener("localized",e),a()}))}}}(window,document)},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFindController=_.FindState=void 0;var m=M(6),P=M(3),L=M(21);const C={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};_.FindState=C;const x={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},u=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),E=[...u.values()].map(b=>String.fromCharCode(b)).join(""),v=new RegExp("\\p{M}+","gu"),h=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),T=new RegExp("([^\\p{M}])\\p{M}*$","u"),O=new RegExp("^\\p{M}*([^\\p{M}])","u");let j=null;function Y(b){if(!j){const te=Object.keys(x).join("");j=new RegExp(`([${te}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const w=[];let ie;for(;null!==(ie=v.exec(b));)w.push([ie[0].length,ie.index]);let le=b.normalize("NFD");const ee=[[0,0]];let Z=0,ae=0,I=0,re=0,B=!1;return le=le.replace(j,(te,de,ve,se,q,K)=>{if(K-=I,de){const ge=x[te],be=ge.length;for(let ye=1;ye<be;ye++)ee.push([K-ae+ye,ae-ye]);return ae-=be-1,ge}if(ve){const ge=ve.endsWith("\n"),be=ge?ve.length-2:ve.length;B=!0;let ye=be;K+re===w[Z]?.[1]&&(ye-=w[Z][0],++Z);for(let Ae=1;Ae<ye+1;Ae++)ee.push([K-1-ae+Ae,ae-Ae]);return ae-=ye,I+=ye,ge?(ee.push([(K+=be-1)-ae+1,1+ae]),ae+=1,I+=1,re+=1,ve.slice(0,be)):ve}return se?(ee.push([K-ae+1,1+ae]),ae+=1,I+=1,re+=1,se.charAt(0)):(ee.push([K-ae+1,ae-1]),ae-=1,I+=1,re+=1," ")}),ee.push([le.length,ae]),[le,ee,B]}function J(b,w,ie){if(!b)return[w,ie];const le=w,ee=w+ie;let Z=(0,m.binarySearchFirstItem)(b,I=>I[0]>=le);b[Z][0]>le&&--Z;let ae=(0,m.binarySearchFirstItem)(b,I=>I[0]>=ee,Z);return b[ae][0]>ee&&--ae,[le+b[Z][1],ie+b[ae][1]-b[Z][1]]}var Q=new WeakSet;function pe(b){if(!b)return;const w=this._pdfDocument,{type:ie}=b;(null===this._state||F(Q,this,a).call(this,b))&&(this._dirtyMatch=!0),this._state=b,"highlightallchange"!==ie&&F(Q,this,ue).call(this,C.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||w&&this._pdfDocument!==w)return;F(Q,this,p).call(this);const le=!this._highlightMatches,ee=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ie?this._dirtyMatch?F(Q,this,z).call(this):"again"===ie?(F(Q,this,z).call(this),le&&this._state.highlightAll&&F(Q,this,y).call(this)):"highlightallchange"===ie?(ee?F(Q,this,z).call(this):this._highlightMatches=!0,F(Q,this,y).call(this)):F(Q,this,z).call(this):this._findTimeout=setTimeout(()=>{F(Q,this,z).call(this),this._findTimeout=null},250)})}function fe(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,P.createPromiseCapability)()}function R(b){return b._state.query!==b._rawQuery&&(b._rawQuery=b._state.query,[b._normalizedQuery]=Y(b._state.query)),b._normalizedQuery}function a(b){if(b.query!==this._state.query)return!0;switch(b.type){case"again":const w=this._selected.pageIdx+1,ie=this._linkService;return w>=1&&w<=ie.pagesCount&&w!==ie.page&&!ie.isPageVisible(w);case"highlightallchange":return!1}return!0}function e(b,w,ie){let le=b.slice(0,w).match(T);if(le){const ee=b.charCodeAt(w),Z=le[1].charCodeAt(0);if((0,L.getCharacterType)(ee)===(0,L.getCharacterType)(Z))return!1}if(le=b.slice(w+ie).match(O),le){const ee=b.charCodeAt(w+ie-1),Z=le[1].charCodeAt(0);if((0,L.getCharacterType)(ee)===(0,L.getCharacterType)(Z))return!1}return!0}function s(b,w,ie,le){const ee=[],Z=[],ae=this._pageDiffs[ie];let I;for(;null!==(I=b.exec(le));){if(w&&!F(Q,this,e).call(this,le,I.index,I[0].length))continue;const[re,B]=J(ae,I.index,I[0].length);B&&(ee.push(re),Z.push(B))}this._pageMatches[ie]=ee,this._pageMatchesLength[ie]=Z}function l(b,w){const{matchDiacritics:ie}=this._state;let le=!1;return(b=b.replace(h,(Z,ae,I,re,B,te)=>ae?`[ ]*\\${ae}[ ]*`:I?`[ ]*${I}[ ]*`:re?"[ ]+":ie?B||te:B?u.has(B.charCodeAt(0))?B:"":w?(le=!0,`${te}\\p{M}*`):te)).endsWith("[ ]*")&&(b=b.slice(0,b.length-4)),ie&&w&&(le=!0,b=`${b}(?=[${E}]|[^\\p{M}]|$)`),[le,b]}function f(b){let w=i(Q,this,R);if(0===w.length)return;const{caseSensitive:ie,entireWord:le,phraseSearch:ee}=this._state,Z=this._pageContents[b],ae=this._hasDiacritics[b];let I=!1;if(ee)[I,w]=F(Q,this,l).call(this,w,ae);else{const te=w.match(/\S+/g);te&&(w=te.sort().reverse().map(de=>{const[ve,se]=F(Q,this,l).call(this,de,ae);return I||=ve,`(${se})`}).join("|"))}w=new RegExp(w,`g${I?"u":""}${ie?"":"i"}`),F(Q,this,s).call(this,w,le,b,Z),this._state.highlightAll&&F(Q,this,d).call(this,b),this._resumePageIdx===b&&(this._resumePageIdx=null,F(Q,this,N).call(this));const B=this._pageMatches[b].length;B>0&&(this._matchesCountTotal+=B,F(Q,this,me).call(this))}function p(){if(this._extractTextPromises.length>0)return;let b=Promise.resolve();for(let w=0,ie=this._linkService.pagesCount;w<ie;w++){const le=(0,P.createPromiseCapability)();this._extractTextPromises[w]=le.promise,b=b.then(()=>this._pdfDocument.getPage(w+1).then(ee=>ee.getTextContent()).then(ee=>{const Z=[];for(const ae of ee.items)Z.push(ae.str),ae.hasEOL&&Z.push("\n");[this._pageContents[w],this._pageDiffs[w],this._hasDiacritics[w]]=Y(Z.join("")),le.resolve()},ee=>{console.error(`Unable to get text content for page ${w+1}`,ee),this._pageContents[w]="",this._pageDiffs[w]=null,this._hasDiacritics[w]=!1,le.resolve()}))}}function d(b){this._scrollMatches&&this._selected.pageIdx===b&&(this._linkService.page=b+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:b})}function y(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function z(){const b=this._state.findPrevious,w=this._linkService.page-1,ie=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=w,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,F(Q,this,y).call(this);for(let ee=0;ee<ie;ee++)this._pendingFindMatches.has(ee)||(this._pendingFindMatches.add(ee),this._extractTextPromises[ee].then(()=>{this._pendingFindMatches.delete(ee),F(Q,this,f).call(this,ee)}))}if(""===i(Q,this,R))return void F(Q,this,ue).call(this,C.FOUND);if(this._resumePageIdx)return;const le=this._offset;if(this._pagesToSearch=ie,null!==le.matchIdx){if(!b&&le.matchIdx+1<this._pageMatches[le.pageIdx].length||b&&le.matchIdx>0)return le.matchIdx=b?le.matchIdx-1:le.matchIdx+1,void F(Q,this,oe).call(this,!0);F(Q,this,G).call(this,b)}F(Q,this,N).call(this)}function A(b){const w=this._offset,ie=b.length,le=this._state.findPrevious;return ie?(w.matchIdx=le?ie-1:0,F(Q,this,oe).call(this,!0),!0):(F(Q,this,G).call(this,le),!!(w.wrapped&&(w.matchIdx=null,this._pagesToSearch<0))&&(F(Q,this,oe).call(this,!1),!0))}function N(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let b=null;do{const w=this._offset.pageIdx;if(b=this._pageMatches[w],!b){this._resumePageIdx=w;break}}while(!F(Q,this,A).call(this,b))}function G(b){const w=this._offset,ie=this._linkService.pagesCount;w.pageIdx=b?w.pageIdx-1:w.pageIdx+1,w.matchIdx=null,this._pagesToSearch--,(w.pageIdx>=ie||w.pageIdx<0)&&(w.pageIdx=b?ie-1:0,w.wrapped=!0)}function oe(b=!1){let w=C.NOT_FOUND;const ie=this._offset.wrapped;if(this._offset.wrapped=!1,b){const le=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,w=ie?C.WRAPPED:C.FOUND,-1!==le&&le!==this._selected.pageIdx&&F(Q,this,d).call(this,le)}F(Q,this,ue).call(this,w,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,F(Q,this,d).call(this,this._selected.pageIdx))}function ce(b){const w=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||w&&this._pdfDocument!==w||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),F(Q,this,ue).call(this,C.FOUND),this._highlightMatches=!1,F(Q,this,y).call(this))})}function _e(){const{pageIdx:b,matchIdx:w}=this._selected;let ie=0,le=this._matchesCountTotal;if(-1!==w){for(let ee=0;ee<b;ee++)ie+=this._pageMatches[ee]?.length||0;ie+=w+1}return(ie<1||ie>le)&&(ie=le=0),{current:ie,total:le}}function me(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:F(Q,this,_e).call(this)})}function ue(b,w=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:b,previous:w,matchesCount:F(Q,this,_e).call(this),rawQuery:this._state?.query??null})}_.PDFFindController=class he{constructor({linkService:w,eventBus:ie}){r(this,Q),this._linkService=w,this._eventBus=ie,F(Q,this,fe).call(this),ie._on("find",F(Q,this,pe).bind(this)),ie._on("findbarclose",F(Q,this,ce).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(w){this._pdfDocument&&F(Q,this,fe).call(this),w&&(this._pdfDocument=w,this._firstPageCapability.resolve())}scrollMatchIntoView({element:w=null,selectedLeft:ie=0,pageIndex:le=-1,matchIndex:ee=-1}){this._scrollMatches&&w&&-1!==ee&&ee===this._selected.matchIdx&&-1!==le&&le===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(w,{top:-50,left:ie+-400},!0))}}},(H,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CharacterType=void 0,_.getCharacterType=function v(h){return function m(h){return h<11904}(h)?function P(h){return!(65408&h)}(h)?function n(h){return 32===h||9===h||13===h||10===h}(h)?M.SPACE:function L(h){return h>=97&&h<=122||h>=65&&h<=90}(h)||function C(h){return h>=48&&h<=57}(h)||95===h?M.ALPHA_LETTER:M.PUNCT:function E(h){return 3584==(65408&h)}(h)?M.THAI_LETTER:160===h?M.SPACE:M.ALPHA_LETTER:function t(h){return h>=13312&&h<=40959||h>=63744&&h<=64255}(h)?M.HAN_LETTER:function g(h){return h>=12448&&h<=12543}(h)?M.KATAKANA_LETTER:function x(h){return h>=12352&&h<=12447}(h)?M.HIRAGANA_LETTER:function u(h){return h>=65376&&h<=65439}(h)?M.HALFWIDTH_KATAKANA_LETTER:M.ALPHA_LETTER};const M={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};_.CharacterType=M},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFHistory=void 0,_.isDestArraysEqual=u,_.isDestHashesEqual=x;var m=M(6),P=M(17);function t(){return document.location.hash}function x(E,v){return"string"==typeof E&&"string"==typeof v&&(E===v||(0,m.parseQueryString)(E).get("nameddest")===v)}function u(E,v){function h(T,O){if(typeof T!=typeof O||Array.isArray(T)||Array.isArray(O))return!1;if(null!==T&&"object"==typeof T&&null!==O){if(Object.keys(T).length!==Object.keys(O).length)return!1;for(const j in T)if(!h(T[j],O[j]))return!1;return!0}return T===O||Number.isNaN(T)&&Number.isNaN(O)}if(!Array.isArray(E)||!Array.isArray(v)||E.length!==v.length)return!1;for(let T=0,O=E.length;T<O;T++)if(!h(E[T],v[T]))return!1;return!0}_.PDFHistory=class g{constructor({linkService:v,eventBus:h}){this.linkService=v,this.eventBus=h,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",T=>{this._isPagesLoaded=!!T.pagesCount},{once:!0})})}initialize({fingerprint:v,resetHistory:h=!1,updateUrl:T=!1}){if(!v||"string"!=typeof v)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const O=""!==this._fingerprint&&this._fingerprint!==v;this._fingerprint=v,this._updateUrl=!0===T,this._initialized=!0,this._bindEvents();const j=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=t(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(j,!0)||h){const{hash:J,page:Q,rotation:he}=this._parseCurrentHash(!0);return!J||O||h?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:J,page:Q,rotation:he},!0)}const Y=j.destination;this._updateInternalState(Y,j.uid,!0),void 0!==Y.rotation&&(this._initialRotation=Y.rotation),Y.dest?(this._initialBookmark=JSON.stringify(Y.dest),this._destination.page=null):Y.hash?this._initialBookmark=Y.hash:Y.page&&(this._initialBookmark=`page=${Y.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:v=null,explicitDest:h,pageNumber:T}){if(!this._initialized)return;if(v&&"string"!=typeof v)return void console.error(`PDFHistory.push: "${v}" is not a valid namedDest parameter.`);if(!Array.isArray(h))return void console.error(`PDFHistory.push: "${h}" is not a valid explicitDest parameter.`);if(!this._isValidPage(T)&&(null!==T||this._destination))return void console.error(`PDFHistory.push: "${T}" is not a valid pageNumber parameter.`);const O=v||JSON.stringify(h);if(!O)return;let j=!1;if(this._destination&&(x(this._destination.hash,O)||u(this._destination.dest,h))){if(this._destination.page)return;j=!0}this._popStateInProgress&&!j||(this._pushOrReplaceState({dest:h,hash:O,page:T,rotation:this.linkService.rotation},j),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(v){if(this._initialized){if(!this._isValidPage(v))return void console.error(`PDFHistory.pushPage: "${v}" is not a valid page number.`);this._destination?.page!==v&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${v}`,page:v,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(v,h=!1){const T=h||!this._destination,O={fingerprint:this._fingerprint,uid:T?this._uid:this._uid+1,destination:v};let j;if(this._updateInternalState(v,O.uid),this._updateUrl&&v?.hash){const Y=document.location.href.split("#")[0];Y.startsWith("file://")||(j=`${Y}#${v.hash}`)}T?window.history.replaceState(O,"",j):window.history.pushState(O,"",j)}_tryPushCurrentPosition(v=!1){if(!this._position)return;let h=this._position;if(v&&(h=Object.assign(Object.create(null),this._position),h.temporary=!0),!this._destination)return void this._pushOrReplaceState(h);if(this._destination.temporary)return void this._pushOrReplaceState(h,!0);if(this._destination.hash===h.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let T=!1;if(this._destination.page>=h.first&&this._destination.page<=h.page){if(void 0!==this._destination.dest||!this._destination.first)return;T=!0}this._pushOrReplaceState(h,T)}_isValidPage(v){return Number.isInteger(v)&&v>0&&v<=this.linkService.pagesCount}_isValidState(v,h=!1){if(!v)return!1;if(v.fingerprint!==this._fingerprint){if(!h)return!1;{if("string"!=typeof v.fingerprint||v.fingerprint.length!==this._fingerprint.length)return!1;const[T]=performance.getEntriesByType("navigation");if("reload"!==T?.type)return!1}}return!(!Number.isInteger(v.uid)||v.uid<0||null===v.destination||"object"!=typeof v.destination)}_updateInternalState(v,h,T=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),T&&v?.temporary&&delete v.temporary,this._destination=v,this._uid=h,this._maxUid=Math.max(this._maxUid,h),this._numPositionUpdates=0}_parseCurrentHash(v=!1){const h=unescape(t()).substring(1),T=(0,m.parseQueryString)(h),O=T.get("nameddest")||"";let j=0|T.get("page");return(!this._isValidPage(j)||v&&O.length>0)&&(j=null),{hash:h,page:j,rotation:this.linkService.rotation}}_updateViewarea({location:v}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:v.pdfOpenParams.substring(1),page:this.linkService.page,first:v.pageNumber,rotation:v.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:v}){const h=t(),T=this._currentHash!==h;if(this._currentHash=h,!v){this._uid++;const{hash:j,page:Y,rotation:J}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:j,page:Y,rotation:J},!0)}if(!this._isValidState(v))return;this._popStateInProgress=!0,T&&(this._blockHashChange++,(0,P.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const O=v.destination;this._updateInternalState(O,v.uid,!0),(0,m.isValidRotation)(O.rotation)&&(this.linkService.rotation=O.rotation),O.dest?this.linkService.goToDestination(O.dest):O.hash?this.linkService.setHash(O.hash):O.page&&(this.linkService.page=O.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFScriptingManager=void 0;var m=M(6),P=M(3);_.PDFScriptingManager=class L{constructor({eventBus:n,sandboxBundleSrc:t=null,scriptingFactory:g=null,docPropertiesLookup:x=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=t,this._scriptingFactory=g,this._docPropertiesLookup=x,this._scriptingFactory||window.addEventListener("updatefromsandbox",u=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:u.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var t=this;return S(function*(){if(t._pdfDocument&&(yield t._destroyScripting()),t._pdfDocument=n,!n)return;const[g,x,u]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(g||u){if(n===t._pdfDocument){try{t._scripting=t._createScripting()}catch(E){return console.error(`PDFScriptingManager.setDocument: "${E?.message}".`),void(yield t._destroyScripting())}t._internalEvents.set("updatefromsandbox",E=>{E?.source===window&&t._updateFromSandbox(E.detail)}),t._internalEvents.set("dispatcheventinsandbox",E=>{t._scripting?.dispatchEventInSandbox(E.detail)}),t._internalEvents.set("pagechanging",({pageNumber:E,previous:v})=>{E!==v&&(t._dispatchPageClose(v),t._dispatchPageOpen(E))}),t._internalEvents.set("pagerendered",({pageNumber:E})=>{t._pageOpenPending.has(E)&&E===t._pdfViewer.currentPageNumber&&t._dispatchPageOpen(E)}),t._internalEvents.set("pagesdestroy",function(){var E=S(function*(v){yield t._dispatchPageClose(t._pdfViewer.currentPageNumber),yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),t._closeCapability?.resolve()});return function(v){return E.apply(this,arguments)}}()),t._domEvents.set("mousedown",E=>{t._mouseState.isDown=!0}),t._domEvents.set("mouseup",E=>{t._mouseState.isDown=!1});for(const[E,v]of t._internalEvents)t._eventBus._on(E,v);for(const[E,v]of t._domEvents)window.addEventListener(E,v,!0);try{const E=yield t._getDocProperties();if(n!==t._pdfDocument)return;yield t._scripting.createSandbox({objects:g,calculationOrder:x,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...E,actions:u}}),t._eventBus.dispatch("sandboxcreated",{source:t})}catch(E){return console.error(`PDFScriptingManager.setDocument: "${E?.message}".`),void(yield t._destroyScripting())}yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield t._dispatchPageOpen(t._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===t._pdfDocument&&(t._ready=!0)})}}else yield t._destroyScripting()})()}dispatchWillSave(n){var t=this;return S(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var t=this;return S(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var t=this;return S(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var t=this;return S(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,P.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,P.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,P.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,P.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var t=this;return S(function*(){const g=t._pdfViewer.isInPresentationMode||t._pdfViewer.isChangingPresentationMode,{id:x,siblings:u,command:E,value:v}=n;if(!x){switch(E){case"clear":console.clear();break;case"error":console.error(v);break;case"layout":if(g)return;const T=(0,m.apiPageLayoutToViewerModes)(v);t._pdfViewer.spreadMode=T.spreadMode;break;case"page-num":t._pdfViewer.currentPageNumber=v+1;break;case"print":yield t._pdfViewer.pagesPromise,t._eventBus.dispatch("print",{source:t});break;case"println":console.log(v);break;case"zoom":if(g)return;t._pdfViewer.currentScaleValue=v;break;case"SaveAs":t._eventBus.dispatch("save",{source:t});break;case"FirstPage":t._pdfViewer.currentPageNumber=1;break;case"LastPage":t._pdfViewer.currentPageNumber=t._pdfViewer.pagesCount;break;case"NextPage":t._pdfViewer.nextPage();break;case"PrevPage":t._pdfViewer.previousPage();break;case"ZoomViewIn":if(g)return;t._pdfViewer.increaseScale();break;case"ZoomViewOut":if(g)return;t._pdfViewer.decreaseScale()}return}if(g&&n.focus)return;delete n.id,delete n.siblings;const h=u?[x,...u]:[x];for(const T of h){const O=document.getElementById(T);O?O.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):t._pdfDocument?.annotationStorage.setValue(T,n)}})()}_dispatchPageOpen(n){var t=this;return S(function*(g,x=!1){const u=t._pdfDocument,E=t._visitedPages;if(x&&(t._closeCapability=(0,P.createPromiseCapability)()),!t._closeCapability)return;const v=t._pdfViewer.getPageView(g-1);if(v?.renderingState!==m.RenderingStates.FINISHED)return void t._pageOpenPending.add(g);t._pageOpenPending.delete(g);const h=S(function*(){const T=yield E.has(g)?null:v.pdfPage?.getJSActions();u===t._pdfDocument&&(yield t._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:g,actions:T}))})();E.set(g,h)}).apply(this,arguments)}_dispatchPageClose(n){var t=this;return S(function*(){const g=t._pdfDocument,x=t._visitedPages;if(!t._closeCapability||t._pageOpenPending.has(n))return;const u=x.get(n);u&&(x.set(n,null),yield u,g===t._pdfDocument&&(yield t._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return S(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:t}=M(24);return t(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,P.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=M(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return S(function*(){if(!n._scripting)return n._pdfDocument=null,void n._destroyCapability?.resolve();n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(t=>{setTimeout(t,1e3)})]).catch(t=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch{}for(const[t,g]of n._internalEvents)n._eventBus._off(t,g);n._internalEvents.clear();for(const[t,g]of n._domEvents)window.removeEventListener(t,g,!0);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,n._destroyCapability?.resolve()})()}}},(H,_,M)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericScripting=void 0,_.docPropertiesLookup=function P(n){return L.apply(this,arguments)};var m=M(3);function L(){return(L=S(function*(n){const g="".split("#")[0];let{info:x,metadata:u,contentDispositionFilename:E,contentLength:v}=yield n.getMetadata();if(!v){const{length:h}=yield n.getDownloadInfo();v=h}return{...x,baseURL:g,filesize:v,filename:E||(0,m.getPdfFilenameFromUrl)(""),metadata:u?.getRaw(),authors:u?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}_.GenericScripting=class C{constructor(t){this._ready=(0,m.loadScript)(t,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(t){var g=this;return S(function*(){(yield g._ready).create(t)})()}dispatchEventInSandbox(t){var g=this;return S(function*(){const x=yield g._ready;setTimeout(()=>x.dispatchEvent(t),0)})()}destroySandbox(){var t=this;return S(function*(){(yield t._ready).nukeSandbox()})()}}}],X={};function $(H){var _=X[H];if(void 0!==_)return _.exports;var M=X[H]={exports:{}};return V[H](M,M.exports,$),M.exports}var c={};return(()=>{var H=c;Object.defineProperty(H,"__esModule",{value:!0}),Object.defineProperty(H,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return L.AnnotationLayerBuilder}}),Object.defineProperty(H,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return _.DefaultAnnotationLayerFactory}}),Object.defineProperty(H,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return _.DefaultStructTreeLayerFactory}}),Object.defineProperty(H,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return _.DefaultTextLayerFactory}}),Object.defineProperty(H,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return _.DefaultXfaLayerFactory}}),Object.defineProperty(H,"DownloadManager",{enumerable:!0,get:function(){return C.DownloadManager}}),Object.defineProperty(H,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(H,"GenericL10n",{enumerable:!0,get:function(){return t.GenericL10n}}),Object.defineProperty(H,"LinkTarget",{enumerable:!0,get:function(){return M.LinkTarget}}),Object.defineProperty(H,"NullL10n",{enumerable:!0,get:function(){return g.NullL10n}}),Object.defineProperty(H,"PDFFindController",{enumerable:!0,get:function(){return x.PDFFindController}}),Object.defineProperty(H,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(H,"PDFLinkService",{enumerable:!0,get:function(){return M.PDFLinkService}}),Object.defineProperty(H,"PDFPageView",{enumerable:!0,get:function(){return E.PDFPageView}}),Object.defineProperty(H,"PDFScriptingManager",{enumerable:!0,get:function(){return v.PDFScriptingManager}}),Object.defineProperty(H,"PDFSinglePageViewer",{enumerable:!0,get:function(){return P.PDFSinglePageViewer}}),Object.defineProperty(H,"PDFViewer",{enumerable:!0,get:function(){return P.PDFViewer}}),Object.defineProperty(H,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(H,"SimpleLinkService",{enumerable:!0,get:function(){return M.SimpleLinkService}}),Object.defineProperty(H,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return h.StructTreeLayerBuilder}}),Object.defineProperty(H,"TextLayerBuilder",{enumerable:!0,get:function(){return T.TextLayerBuilder}}),Object.defineProperty(H,"XfaLayerBuilder",{enumerable:!0,get:function(){return O.XfaLayerBuilder}}),Object.defineProperty(H,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var _=$(1),M=$(5),m=$(6),P=$(10),L=$(2),C=$(16),n=$(17),t=$(18),g=$(4),x=$(20),u=$(22),E=$(12),v=$(23),h=$(7),T=$(8),O=$(9)})(),c})(),ne.exports=$()},17640:()=>{},23237:()=>{},97492:()=>{},31815:()=>{},66671:()=>{},82787:()=>{},45804:ne=>{ne.exports=function o(k,i,U){if("function"==typeof k?k===i:k.has(i))return arguments.length<3?i:U;throw new TypeError("Private element is not present on this object")},ne.exports.__esModule=!0,ne.exports.default=ne.exports},91485:ne=>{ne.exports=function o(k,i){if(i.has(k))throw new TypeError("Cannot initialize the same private elements twice on an object")},ne.exports.__esModule=!0,ne.exports.default=ne.exports},18188:(ne,o,k)=>{var i=k(45804);ne.exports=function U(r,W){return r.get(i(r,W))},ne.exports.__esModule=!0,ne.exports.default=ne.exports},43723:(ne,o,k)=>{var i=k(91485);ne.exports=function U(r,W,F){i(r,W),W.set(r,F)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},7920:(ne,o,k)=>{var i=k(45804);ne.exports=function U(r,W,F){return r.set(i(r,W),F),F},ne.exports.__esModule=!0,ne.exports.default=ne.exports},93831:(ne,o,k)=>{var i=k(45804);ne.exports=function U(r,W,F){return F(i(r,W))},ne.exports.__esModule=!0,ne.exports.default=ne.exports},80816:(ne,o,k)=>{var i=k(91485);ne.exports=function U(r,W){i(r,W),W.add(r)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},40829:(ne,o,k)=>{var i=k(47320);ne.exports=function U(r,W,F){return(W=i(W))in r?Object.defineProperty(r,W,{value:F,enumerable:!0,configurable:!0,writable:!0}):r[W]=F,r},ne.exports.__esModule=!0,ne.exports.default=ne.exports},96549:(ne,o,k)=>{var i=k(54042).default;ne.exports=function U(r,W){if("object"!=i(r)||!r)return r;var F=r[Symbol.toPrimitive];if(void 0!==F){var D=F.call(r,W||"default");if("object"!=i(D))return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===W?String:Number)(r)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},47320:(ne,o,k)=>{var i=k(54042).default,U=k(96549);ne.exports=function r(W){var F=U(W,"string");return"symbol"==i(F)?F:F+""},ne.exports.__esModule=!0,ne.exports.default=ne.exports},54042:ne=>{function o(k){return ne.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ne.exports.__esModule=!0,ne.exports.default=ne.exports,o(k)}ne.exports=o,ne.exports.__esModule=!0,ne.exports.default=ne.exports}}]);