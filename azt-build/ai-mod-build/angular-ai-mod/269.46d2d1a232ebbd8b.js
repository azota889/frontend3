"use strict";(self.webpackChunkAIMod=self.webpackChunkAIMod||[]).push([[269],{9269:(N,h,s)=>{s.r(h),s.d(h,{AuthRoutingModule:()=>E});var i=s(9842),u=s(5245),A=s(7005),m=s(177),l=s(9417),d=s(8516),v=s(7163),f=s(3425),y=s(3424),g=s(3617);class R{static noWhiteSpace(n){return""===n.value?.trim()?{noWhiteSpace:!0}:null}}var I=s(665),t=s(3953),x=s(867),S=s(9822),b=s(4025),L=s(661);let C=(()=>{var o;class n{constructor(r,e,c){(0,i.A)(this,"redirectService",void 0),(0,i.A)(this,"userService",void 0),(0,i.A)(this,"commonService",void 0),this.redirectService=r,this.userService=e,this.commonService=c}redirectLoginByRole(r){if(-1===r.toString().indexOf("ZWEB_"))if(this.userService.isTeacherRole()){var e=r||this.commonService.getLocalRouter("/admin/dashboard");this.redirectService.redirectByUrl(e)}else e=r||this.commonService.getLocalRouter("/student/classroom/0"),(this.commonService.isMobileWebview(void 0)||this.commonService.isMobileWebview(e))&&this.isNotAdminOrLoginUrl(e)||this.isNotAdminOrLoginUrl(e)||(e=this.commonService.getLocalRouter("/student/classroom/0")),this.redirectService.redirectByUrl(e);else this.redirectService.redirectByUrl(r.toString().replace("ZWEB_",""))}isNotAdminOrLoginUrl(r){return-1==r.toString().indexOf("/admin")&&-1==r.toString().indexOf("/auth")}}return o=n,(0,i.A)(n,"\u0275fac",function(r){return new(r||o)(t.KVO(S.m),t.KVO(b.R),t.KVO(L.R))}),(0,i.A)(n,"\u0275prov",t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})),n})();var w=s(7347);const _=()=>({"dark:text-slate-500":!0});function M(o,n){1&o&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&o&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email_hoac_username")))}function F(o,n){1&o&&(t.j41(0,"div",17)(1,"div"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&o&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function k(o,n){if(1&o&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&o){const a=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,a.messageError)," ")}}function B(o,n){1&o&&t.nrm(0,"azt-loading-ui",19)}let T=(()=>{var o;class n extends g.H{callLoginApi(r){var e=this.getFormValue(),c={phone:e.username,password:e.password,tokenCaptcha:r,domain:this.commonService.getBusinessDomainUrl()};this.waitDestroy(this.authService.apiAuthLoginWebPost(c).subscribe(p=>{1==p.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=p.message??"",this.errorStatusObj(p.message??""))}))}login(){this.form.valid?(this.initStatusObj(),this.callLoginApi("123")):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}togglePassword(){this.showPassword=!this.showPassword}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"})}constructor(r,e){super(),(0,i.A)(this,"authService",void 0),(0,i.A)(this,"redirectByRoleService",void 0),(0,i.A)(this,"form",void 0),(0,i.A)(this,"messageError",""),(0,i.A)(this,"showPassword",!1),this.authService=r,this.redirectByRoleService=e,this.form=new l.gE({username:new l.MJ("",{nonNullable:!0,validators:[l.k0.required,R.noWhiteSpace]}),fullName:new l.MJ("",{nonNullable:!0}),password:new l.MJ("",{nonNullable:!0,validators:[l.k0.required]})})}}return o=n,(0,i.A)(n,"\u0275fac",function(r){return new(r||o)(t.rXU(x.uR),t.rXU(C))}),(0,i.A)(n,"\u0275cmp",t.VBU({type:o,selectors:[["app-login"]],standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:22,consts:[[1,"box","p-3","m-3"],[1,"w-full","p-3","box",3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"keydown.enter","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"keydown.enter","type","placeholder"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"mr-1"]],template:function(r,e){1&r&&(t.j41(0,"div",0)(1,"form",1)(2,"h2",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",3)(6,"div",4)(7,"input",5),t.nI1(8,"mytranslate"),t.bIt("keydown.enter",function(){return e.login()}),t.k0s(),t.DNE(9,M,4,3,"div",6),t.k0s(),t.j41(10,"div",4)(11,"div",7)(12,"input",8),t.nI1(13,"mytranslate"),t.bIt("keydown.enter",function(){return e.login()}),t.k0s(),t.j41(14,"button",9),t.bIt("click",function(){return e.togglePassword()}),t.nrm(15,"lucide-icon",10),t.k0s()(),t.DNE(16,F,4,3,"div",11),t.k0s()(),t.DNE(17,k,3,3,"div",12),t.j41(18,"div",13)(19,"button",14),t.bIt("click",function(){return e.login()}),t.DNE(20,B,1,0,"azt-loading-ui",15),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("formGroup",e.form),t.R7$(2),t.SpI(" ",t.bMT(4,13,"lang_auto_dang_nhap")," "),t.R7$(4),t.FS9("placeholder",t.bMT(8,15,"lang_auto_nhap_sdt_hoac_email_hoac_username")),t.R7$(2),t.Y8G("ngIf",e.form.controls.username.invalid&&(e.form.controls.username.dirty||e.form.controls.username.touched)),t.R7$(3),t.FS9("placeholder",t.bMT(13,17,"lang_auto_mat_khau")),t.Y8G("type",e.showPassword?"text":"password"),t.R7$(3),t.Y8G("name",e.showPassword?"eye":"eye-off")("ngClass",t.lJ4(21,_)),t.R7$(),t.Y8G("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.R7$(),t.Y8G("ngIf",""!=e.messageError),t.R7$(2),t.Y8G("disabled",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),t.R7$(),t.Y8G("ngIf",e.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(22,19,"lang_auto_dang_nhap")," "))},dependencies:[I.R,f.s,m.MD,m.YU,m.bT,l.X1,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,u.iI,l.YN,d.flO,d.WGl,y.L,w.wp,v.Id],encapsulation:2})),n})();var j=s(4267);const O=[{path:"",component:(()=>{var o;class n extends g.H{}return o=n,(0,i.A)(n,"\u0275fac",(()=>{let a;return function(e){return(a||(a=t.xGo(o)))(e||o)}})()),(0,i.A)(n,"\u0275cmp",t.VBU({type:o,selectors:[["auth-master-page"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(r,e){1&r&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[f.s,m.MD,l.X1,u.iI,u.n3,l.YN,d.flO,y.L,v.Id],encapsulation:2})),n})(),children:[{path:"login",component:T},{path:"logout",component:(()=>{var o;class n extends g.H{ngOnInit(){super.ngOnInit(),this.sAztUserLogoutService.logout("redirectToSimpleLogin",this.commonService.getMyQueryParam("return_url"))}constructor(r){super(),(0,i.A)(this,"redirectService",void 0),(0,i.A)(this,"sAztUserLogoutService",(0,t.WQX)(j.d)),this.redirectService=r}}return o=n,(0,i.A)(n,"\u0275fac",function(r){return new(r||o)(t.rXU(S.m))}),(0,i.A)(n,"\u0275cmp",t.VBU({type:o,selectors:[["app-register"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(r,e){},encapsulation:2})),n})()}]}];let E=(()=>{var o;class n{}return o=n,(0,i.A)(n,"\u0275fac",function(r){return new(r||o)}),(0,i.A)(n,"\u0275mod",t.$C({type:o})),(0,i.A)(n,"\u0275inj",t.G2t({imports:[u.iI.forChild(O),u.iI,A.XE]})),n})()}}]);