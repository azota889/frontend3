"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[2451],{94315:(ot,Y,u)=>{u.d(Y,{eX:()=>G});class m{constructor(){this.x=0,this.y=0}toBase64String(){return(new x).writeCvPoint2u(this).toBase64String()}}class r{constructor(){this.x=0,this.y=0}toBase64String(){return(new x).writeCvPoint2f(this).toBase64String()}}class y{constructor(){this.x=0,this.y=0,this.width=0,this.height=0}toBase64String(){return(new x).writeCvRect2f(this).toBase64String()}}class f{constructor(){this.center=new r,this.filled=!1}toBase64String(){return(new x).writeAnswerCircle(this).toBase64String()}}class j{constructor(){this.rows=0,this.cols=0,this.radius=0,this.answers=[]}toBase64String(){return(new x).writeTableAnswer(this).toBase64String()}}class R{constructor(){this.top=new r,this.left=new r,this.bottom=new r,this.right=new r}toBase64String(){return(new x).writeResultRect(this).toBase64String()}}class ${constructor(){this.id=0,this.region=new y}toBase64String(){return(new x).writeCropRegion(this).toBase64String()}}class N{constructor(){this.type=0,this.errorCode=0,this.paperCorner=new R,this.studentId=new j,this.examId=new j,this.answerTable=new j,this.imageWidth=0,this.imageHeight=0,this.imageSize=0,this.cropRegion=[]}toBase64String(){return(new x).writeResultOutput(this).toBase64String()}}class k{constructor(){this.templateType=0,this.imageWidth=0,this.imageHeight=0}toBase64String(){return(new x).writeAnswerSheetInput(this).toBase64String()}}class z{constructor(){this.position=0,this.x=0,this.y=0,this.filledCols=0,this.rows=0}toBase64String(){return(new x).writeSmallAnswerCircle(this).toBase64String()}}class T{constructor(){this.rows=0,this.cols=0,this.radius=0,this.answers=[]}toBase64String(){return(new x).writeSmallTableAnswer(this).toBase64String()}}class S{constructor(){this.studentId=new T,this.examId=new T,this.answerTable=new T}toBase64String(){return(new x).writeDrawData(this).toBase64String()}}class G{constructor(c){this.bytes=c,this.cursor=0,this.length=c.byteLength}updateCursor(c){if(this.cursor=this.cursor+c,this.cursor>this.length)throw new Error("Overflow InputStreaming")}parseUchar(){let c=this.bytes[this.cursor];return this.updateCursor(1),c}parseInt(){let c=this.bytes.buffer.slice(this.cursor,this.cursor+4);return this.updateCursor(4),new DataView(c).getInt32(0)}parseDouble(){let c=this.bytes.buffer.slice(this.cursor,this.cursor+8);return this.updateCursor(8),new DataView(c).getFloat64(0,!0)}parseString(){let c=new TextDecoder("utf-8"),v=this.cursor,t=this.bytes[this.cursor];for(;0!=t;)this.updateCursor(1),t=this.bytes[this.cursor];let F=this.bytes.slice(v,this.cursor),X=c.decode(F);return this.updateCursor(1),X}parseBool(){let c=this.bytes[this.cursor];return this.updateCursor(1),c>0}parseCvPoint2u(){let c=new m;return c.x=this.parseUchar(),c.y=this.parseUchar(),c}parseCvPoint2f(){let c=new r;return c.x=this.parseDouble(),c.y=this.parseDouble(),c}parseCvRect2f(){let c=new y;return c.x=this.parseDouble(),c.y=this.parseDouble(),c.width=this.parseDouble(),c.height=this.parseDouble(),c}parseAnswerCircle(){let c=new f;return c.center=this.parseCvPoint2f(),c.filled=this.parseBool(),c}parseTableAnswer(){let c=new j,v=0;c.rows=this.parseInt(),c.cols=this.parseInt(),c.radius=this.parseInt(),v=this.parseInt();for(let t=0;t<v;t++)c.answers.push(this.parseAnswerCircle());return c}parseResultRect(){let c=new R;return c.top=this.parseCvPoint2f(),c.left=this.parseCvPoint2f(),c.bottom=this.parseCvPoint2f(),c.right=this.parseCvPoint2f(),c}parseCropRegion(){let c=new $;return c.id=this.parseInt(),c.region=this.parseCvRect2f(),c}parseResultOutput(){let c=new N,v=0;c.type=this.parseInt(),c.errorCode=this.parseInt(),c.paperCorner=this.parseResultRect(),c.studentId=this.parseTableAnswer(),c.examId=this.parseTableAnswer(),c.answerTable=this.parseTableAnswer(),c.imageWidth=this.parseInt(),c.imageHeight=this.parseInt(),c.imageSize=this.parseInt(),v=this.parseInt();for(let t=0;t<v;t++)c.cropRegion.push(this.parseCropRegion());return c}parseAnswerSheetInput(){let c=new k;return c.templateType=this.parseInt(),c.imageWidth=this.parseInt(),c.imageHeight=this.parseInt(),c}parseSmallAnswerCircle(){let c=new z;return c.position=this.parseUchar(),c.x=this.parseUchar(),c.y=this.parseUchar(),c.filledCols=this.parseUchar(),c.rows=this.parseUchar(),c}parseSmallTableAnswer(){let c=new T,v=0;c.rows=this.parseUchar(),c.cols=this.parseUchar(),c.radius=this.parseUchar(),v=this.parseInt();for(let t=0;t<v;t++)c.answers.push(this.parseSmallAnswerCircle());return c}parseDrawData(){let c=new S;return c.studentId=this.parseSmallTableAnswer(),c.examId=this.parseSmallTableAnswer(),c.answerTable=this.parseSmallTableAnswer(),c}}const p=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];class x{constructor(){this.bytes=[]}writeUchar(c){return this.bytes.push(c),this}writeUint8Array(c){for(let v=0;v<c.length;v++)this.bytes.push(c[v]);return this}writeArrayBuffer(c){let v=new Uint8Array(c);return this.writeUint8Array(v),this}writeInt(c){let v=new ArrayBuffer(4);return new DataView(v).setUint32(0,c,!1),this.writeArrayBuffer(v),this}writeDouble(c){let v=new ArrayBuffer(8);return new DataView(v).setFloat64(0,c,!0),this.writeArrayBuffer(v),this}writeString(c){let t=(new TextEncoder).encode(c);return this.writeUint8Array(t),this.writeUchar(0),this}writeBool(c){return this.writeUchar(c?1:0),this}toBase64String(){return function I(h){let v,c="",t=h.length;for(v=2;v<t;v+=3)c+=p[h[v-2]>>2],c+=p[(3&h[v-2])<<4|h[v-1]>>4],c+=p[(15&h[v-1])<<2|h[v]>>6],c+=p[63&h[v]];return v===t+1&&(c+=p[h[v-2]>>2],c+=p[(3&h[v-2])<<4],c+="=="),v===t&&(c+=p[h[v-2]>>2],c+=p[(3&h[v-2])<<4|h[v-1]>>4],c+=p[(15&h[v-1])<<2],c+="="),c}(new Uint8Array(this.bytes))}writeCvPoint2u(c){return this.writeUchar(c.x),this.writeUchar(c.y),this}writeCvPoint2f(c){return this.writeDouble(c.x),this.writeDouble(c.y),this}writeCvRect2f(c){return this.writeDouble(c.x),this.writeDouble(c.y),this.writeDouble(c.width),this.writeDouble(c.height),this}writeAnswerCircle(c){return this.writeCvPoint2f(c.center),this.writeBool(c.filled),this}writeTableAnswer(c){this.writeInt(c.rows),this.writeInt(c.cols),this.writeInt(c.radius),this.writeInt(c.answers.length);for(let v of c.answers)this.writeAnswerCircle(v);return this}writeResultRect(c){return this.writeCvPoint2f(c.top),this.writeCvPoint2f(c.left),this.writeCvPoint2f(c.bottom),this.writeCvPoint2f(c.right),this}writeCropRegion(c){return this.writeInt(c.id),this.writeCvRect2f(c.region),this}writeResultOutput(c){this.writeInt(c.type),this.writeInt(c.errorCode),this.writeResultRect(c.paperCorner),this.writeTableAnswer(c.studentId),this.writeTableAnswer(c.examId),this.writeTableAnswer(c.answerTable),this.writeInt(c.imageWidth),this.writeInt(c.imageHeight),this.writeInt(c.imageSize),this.writeInt(c.cropRegion.length);for(let v of c.cropRegion)this.writeCropRegion(v);return this}writeAnswerSheetInput(c){return this.writeInt(c.templateType),this.writeInt(c.imageWidth),this.writeInt(c.imageHeight),this}writeSmallAnswerCircle(c){return this.writeUchar(c.position),this.writeUchar(c.x),this.writeUchar(c.y),this.writeUchar(c.filledCols),this.writeUchar(c.rows),this}writeSmallTableAnswer(c){this.writeUchar(c.rows),this.writeUchar(c.cols),this.writeUchar(c.radius),this.writeInt(c.answers.length);for(let v of c.answers)this.writeSmallAnswerCircle(v);return this}writeDrawData(c){return this.writeSmallTableAnswer(c.studentId),this.writeSmallTableAnswer(c.examId),this.writeSmallTableAnswer(c.answerTable),this}}},99503:(ot,Y,u)=>{u.d(Y,{fb:()=>z,ij:()=>$});var m=u(81519),r=u(48891),y=u(20381),f=u.n(y),j=u(53793);const R=f()||y,$=new r.nKC("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function N(){return{useUtc:!1}}});function k(T,S){const G=Array(T);for(let p=0;p<T;p++)G[p]=S(p);return G}let z=(()=>{var T;class S extends m.$O{constructor(p){super(),this._options=p,this.commonService=(0,r.WQX)(j.R),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},R.locale(),this.setLocale(this.commonService.getCurrentLang()||R.locale())}setLocale(p){super.setLocale(p);const I=R.localeData(p);this._localeData={firstDayOfWeek:I.firstDayOfWeek(),longMonths:I.months(),shortMonths:I.monthsShort(),dates:k(31,x=>this.createDate(2017,0,x+1).format("D")),longDaysOfWeek:I.weekdays(),shortDaysOfWeek:I.weekdaysShort(),narrowDaysOfWeek:I.weekdaysMin()}}getYear(p){return this.clone(p).year()}getMonth(p){return this.clone(p).month()}getDate(p){return this.clone(p).date()}getDayOfWeek(p){return this.clone(p).day()}getMonthNames(p){return"long"===p?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(p){return"long"===p?this._localeData.longDaysOfWeek:"short"===p?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(p){return this.clone(p).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(p){return this.clone(p).daysInMonth()}clone(p){return p.clone().locale(this.locale)}createDate(p,I,x){if(I<0||I>11)throw Error(`Invalid month index "${I}". Month index has to be between 0 and 11.`);if(x<1)throw Error(`Invalid date "${x}". Date has to be greater than 0.`);const h=this._createMoment({year:p,month:I,date:x}).locale(this.locale);if(!h.isValid())throw Error(`Invalid date "${x}" for month with index "${I}".`);return h}today(){return this._createMoment().locale(this.locale)}parse(p,I){return p&&"string"==typeof p?this._createMoment(p,I,this.locale):p?this._createMoment(p).locale(this.locale):null}format(p,I){if(p=this.clone(p),!this.isValid(p))throw Error("MomentDateAdapter: Cannot format invalid date.");return p.format(I)}addCalendarYears(p,I){return this.clone(p).add({years:I})}addCalendarMonths(p,I){return this.clone(p).add({months:I})}addCalendarDays(p,I){return this.clone(p).add({days:I})}toIso8601(p){return this.clone(p).format()}deserialize(p){let I;if(p instanceof Date)I=this._createMoment(p).locale(this.locale);else if(this.isDateInstance(p))return this.clone(p);if("string"==typeof p){if(!p)return null;I=this._createMoment(p,R.ISO_8601).locale(this.locale)}return I&&this.isValid(I)?this._createMoment(I).locale(this.locale):super.deserialize(p)}isDateInstance(p){return R.isMoment(p)}isValid(p){return this.clone(p).isValid()}invalid(){return R.invalid()}getHour(p){return p.hours()}getMinute(p){return p.minutes()}getSecond(p){return p.seconds()}setHour(p,I){p.hours(I)}setMinute(p,I){p.minutes(I)}setSecond(p,I){p.seconds(I)}_createMoment(p,I,x){const{strict:h,useUtc:c}=this._options||{};return c?R.utc(p,I,x,h):R(p,I,x,h)}}return(T=S).\u0275fac=function(p){return new(p||T)(r.KVO($,8))},T.\u0275prov=r.jDH({token:T,factory:T.\u0275fac}),S})()},19346:(ot,Y,u)=>{u.d(Y,{L:()=>r});var m=u(48891);let r=(()=>{var y;class f{constructor(){this.filesChangeEmitter=new m.bkB,this.background="transparent",this.borderStyle="2px dashed initial"}onDragOver(R){R.preventDefault(),R.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #334155"}onDragLeave(R){R.preventDefault(),R.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #e5e7eb"}onDrop(R){R.preventDefault(),R.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #334155",this.filesChangeEmitter.emit(R.dataTransfer.files)}}return(y=f).\u0275fac=function(R){return new(R||y)},y.\u0275dir=m.FsC({type:y,selectors:[["","appDragDrop",""]],hostVars:4,hostBindings:function(R,$){1&R&&m.bIt("dragover",function(k){return $.onDragOver(k)})("dragleave",function(k){return $.onDragLeave(k)})("drop",function(k){return $.onDrop(k)}),2&R&&m.xc7("background",$.background)("border",$.borderStyle)},outputs:{filesChangeEmitter:"filesChangeEmitter"}}),f})()},32610:(ot,Y,u)=>{u.d(Y,{I:()=>j});var m=u(37714),r=u(43234),y=u(48891),f=u(36484);let j=(()=>{var R;class ${constructor(k){this.userService=k}exportToDocxBinary(k,z,T){let S=this.userService.getUserObj(),G=r.c.azt_ai_base_api;return(0,m.w)().exportToDocxBinary({questions:k,additionalParams:z},"Bearer "+S.rememberToken,G,T)}}return(R=$).\u0275fac=function(k){return new(k||R)(y.KVO(f.R))},R.\u0275prov=y.jDH({token:R,factory:R.\u0275fac,providedIn:"root"}),$})()},81234:(ot,Y,u)=>{u.d(Y,{$s:()=>k,JP:()=>m,Wn:()=>$,Xe:()=>y,ep:()=>r,n1:()=>f,t5:()=>R});const m="00B050",r="f44336",y="_@COLOR@_",f="_@COLOR_END@_";function j(z,T,S){return z.replace(new RegExp(T,"g"),S)}function R(z,T="math",S=" xmlns"){if(!z)return"";const p=z.split(`<${T}`);return[["<span class=\"qv_string_eng_ans\" style='([^']+)'>([^<]*)<span style='([^']+)'>([A-Z])</span></span>",'<b><u below="$4"> $2</u></b>'],["([^>])(\r\n|\r|\n)([^<])","$1<br/>$3"]].forEach(x=>{for(let h=0;h<p.length;h++)if(p[h].startsWith(S)){const c=p[h].split(`</${T}>`);c.length>0&&(c[1]=j(c[1],x[0],x[1])),p[h]=c.join(`</${T}>`)}else p[h]=j(p[h],x[0],x[1])}),p.join(`<${T}`)}function $(z){return z.forEach(T=>{T.content=R(T.content);for(let S=0;S<T.answers.length;S++)T.answers[S]=R(T.answers[S])}),z}const N=[{key:"TABLE",value:'<w:tblPr><w:tblStyle w:val="TableGrid" /><w:tblpPr w:leftFromText="180" w:rightFromText="180" w:vertAnchor="text" w:tblpXSpec="right" w:tblpY="1" /><w:tblOverlap w:val="never" /><w:tblW w:w="0" w:type="auto" /><w:tblBorders><w:insideV w:val="none" w:sz="0" w:space="0" w:color="auto" /></w:tblBorders><w:tblCellMar><w:top w:w="113" w:type="dxa" /><w:left w:w="397" w:type="dxa" /><w:bottom w:w="113" w:type="dxa" /><w:right w:w="397" w:type="dxa" /></w:tblCellMar><w:tblLook w:val="0600" w:firstRow="0" w:lastRow="0" w:firstColumn="0" w:lastColumn="0" w:noHBand="1" w:noVBand="1" /></w:tblPr>'},{key:"CORRECT",value:`<w:tcPr><w:tcW w:w="0" w:type="auto" /><w:tcBorders><w:top w:val="single" w:sz="4" w:space="0" w:color="FFFFFF" /><w:left w:val="single" w:sz="4" w:space="0" w:color="FFFFFF" /><w:bottom w:val="single" w:sz="4" w:space="0" w:color="FFFFFF" /><w:right w:val="single" w:sz="4" w:space="0" w:color="${y}" /></w:tcBorders><w:vAlign w:val="center" /></w:tcPr>`},{key:"KEY_RESULT",value:`<w:tcPr><w:tcW w:w="0" w:type="auto" /><w:tcBorders><w:top w:val="single" w:sz="4" w:space="0" w:color="${y}" /><w:left w:val="single" w:sz="4" w:space="0" w:color="FFFFFF" /><w:bottom w:val="single" w:sz="4" w:space="0" w:color="${y}" /><w:right w:val="single" w:sz="4" w:space="0" w:color="${f}" /></w:tcBorders><w:vAlign w:val="center" /></w:tcPr>`},{key:"FILL_RESULT",value:`<w:tcPr><w:tcW w:w="0" w:type="auto" /><w:tcBorders><w:top w:val="single" w:sz="4" w:space="0" w:color="${y}" /><w:left w:val="single" w:sz="4" w:space="0" w:color="FFFFFF" /><w:bottom w:val="single" w:sz="4" w:space="0" w:color="${y}" /><w:right w:val="single" w:sz="4" w:space="0" w:color="${y}" /></w:tcBorders><w:vAlign w:val="center" /></w:tcPr>`},{key:"HEADER_TABLE",value:'<w:tblPr><w:tblW w:w="0" w:type="auto"/><w:jc w:val="center"/><w:tblBorders><w:top w:val="single" w:sz="4" w:space="0" w:color="auto"/><w:left w:val="single" w:sz="4" w:space="0" w:color="auto"/><w:bottom w:val="single" w:sz="4" w:space="0" w:color="auto"/><w:right w:val="single" w:sz="4" w:space="0" w:color="auto"/><w:insideH w:val="single" w:sz="4" w:space="0" w:color="auto"/><w:insideV w:val="single" w:sz="4" w:space="0" w:color="auto"/></w:tblBorders><w:tblLook w:val="04A0" w:firstRow="1" w:lastRow="0" w:firstColumn="1" w:lastColumn="0" w:noHBand="0" w:noVBand="1"/></w:tblPr>'},{key:"HEADER_TABLE_NO_BORDER",value:'<w:tblPr><w:tblW w:w="0" w:type="auto"/><w:jc w:val="center"/><w:tblLook w:val="04A0" w:firstRow="1" w:lastRow="0" w:firstColumn="1" w:lastColumn="0" w:noHBand="0" w:noVBand="1"/></w:tblPr>'},{key:"HEADER_TABLE_TR",value:'<w:trPr><w:jc w:val="center" /></w:trPr>'},{key:"HEADER_TABLE_LEFT",value:'<w:tcPr><w:tcW w:w="3528" w:type="dxa" /></w:tcPr>'},{key:"HEADER_TABLE_RIGHT",value:'<w:tcPr><w:tcW w:w="7262" w:type="dxa" /><w:hideMark /></w:tcPr>'},{key:"TB_RESULT_TXT",value:'<w:pPr><w:jc w:val="center" /></w:pPr>'},{key:"TB_RESULT_POINT",value:'<w:pPr><w:jc w:val="center" /></w:pPr>'},{key:"TB_RESULT_COMMENT",value:"<w:pPr><w:rPr><w:i /><w:iCs /></w:rPr></w:pPr>"},{key:"LINE_CENTER",value:'<w:pPr><w:jc w:val="center" /></w:pPr>'}];class k{static get(T,S=[]){const G=N.find(p=>p.key===T);if(G){let p=G.value;for(const I of S)p=j(p,I.key,I.value);return btoa(p)}return""}static makeHeaderTable(T,S,G=!0){const p=document.createElement("table"),I=document.createElement("tr");p.appendChild(I);const x=document.createElement("td"),h=document.createElement("td");I.appendChild(x),I.appendChild(h),p.setAttribute("docx-style",k.get(G?"HEADER_TABLE":"HEADER_TABLE_NO_BORDER")),I.setAttribute("docx-style",k.get("HEADER_TABLE_TR")),x.setAttribute("docx-style",k.get("HEADER_TABLE_LEFT")),h.setAttribute("docx-style",k.get("HEADER_TABLE_RIGHT"));const c=document.createElement("span"),v=document.createElement("span");return T.forEach(t=>{if("string"==typeof t){const F=document.createElement("br"),X=document.createElement("b");X.innerText=t,X.appendChild(F),c.appendChild(X)}else c.appendChild(t)}),S.forEach(t=>{if("string"==typeof t){const F=document.createElement("br"),X=document.createElement("b");X.innerText=t,X.appendChild(F),v.appendChild(X)}else v.appendChild(t)}),x.appendChild(c),h.appendChild(v),p.outerHTML}static createLineBold(T){const S=document.createElement("p"),G=document.createElement("b");return G.innerText=T,S.appendChild(G),S}static createLineCenterBold(T){const S=document.createElement("p"),G=document.createElement("b");return S.setAttribute("docx-style",k.get("LINE_CENTER")),G.innerText=T,S.appendChild(G),S}static createLineCenterItalicized(T){const S=document.createElement("p"),G=document.createElement("i");return S.setAttribute("docx-style",k.get("LINE_CENTER")),G.innerText=T,S.appendChild(G),S}}},11002:(ot,Y,u)=>{u.d(Y,{$:()=>f});var m=u(59640),r=u(48891);const y=["*"];let f=(()=>{var j;class R extends m.H{constructor(){super(...arguments),this.colorBackground="",this.defaultHeight="45px",this.fixToTopWidth=0,this.fixToTopTop=0}onWindowScroll(){let N=document.querySelector(".azt-content"),k=document.getElementById("flexed-on-top"),z=document.getElementById("position-dev")?.getBoundingClientRect();if(!N||!k||!z)return;let T=window.pageYOffset,S=z.top,G=S<-50;if(this.fixToTopWidth=z.width,this.fixToTopTop=z.top,G){k.style.position="fixed",k.style.zIndex="9999",k.style.height=this.defaultHeight,k.style.right=this.isMobileWebView?"0":"12px",k.style.background=this.colorBackground,k.style.justifyContent="end";let p=N.getBoundingClientRect().width;this.isMobileDevice?(k.style.top="62px",k.style.padding="6px 15px",k.style.width=(p+32).toString()+"px"):(k.style.top="0",k.style.padding="6px 22px",k.style.width=(p+44).toString()+"px")}else(0==T||0==S)&&(k.style.position="",k.style.top="",k.style.right="",k.style.zIndex="",k.style.height="",k.style.padding="",k.style.background="",k.style.width="",k.style.justifyContent="")}}return(j=R).\u0275fac=(()=>{let $;return function(k){return($||($=r.xGo(j)))(k||j)}})(),j.\u0275cmp=r.VBU({type:j,selectors:[["flexed-on-the-top"]],hostBindings:function(N,k){1&N&&r.bIt("scroll",function(T){return k.onWindowScroll(T)},!1,r.tSv)},inputs:{colorBackground:"colorBackground",defaultHeight:"defaultHeight"},features:[r.Vt3],ngContentSelectors:y,decls:3,vars:0,consts:[["id","position-dev"],["id","flexed-on-top",1,"flex","flexed-on-top"]],template:function(N,k){1&N&&(r.NAR(),r.nrm(0,"div",0),r.j41(1,"div",1),r.SdG(2),r.k0s())},encapsulation:2}),R})()},75421:(ot,Y,u)=>{u.d(Y,{u:()=>T});var m=u(10936),r=u(89163),y=u(33887),f=u(48891),j=u(54460),R=u(15343),$=u(47348);const N=()=>({"mr-2 text-danger":!0});function k(S,G){if(1&S&&f.nrm(0,"lucide-icon",10),2&S){const p=f.XpG();f.Y8G("name",p.data.iconName)("ngClass",f.lJ4(2,N))}}function z(S,G){if(1&S&&(f.j41(0,"div",11)(1,"div",3)(2,"span"),f.EFF(3),f.nI1(4,"mytranslate"),f.k0s(),f.j41(5,"b"),f.EFF(6),f.k0s(),f.j41(7,"span"),f.EFF(8),f.nI1(9,"mytranslate"),f.k0s()(),f.j41(10,"div",12),f.nrm(11,"input",13),f.k0s()()),2&S){const p=f.XpG();f.R7$(3),f.JRh(f.bMT(4,4,"lang_azt_enter")+" "),f.R7$(3),f.JRh('"'+p.data.textConfirm+'" '),f.R7$(2),f.JRh(f.bMT(9,6,"lang_azt_for_delete_data")),f.R7$(3),f.Y8G("formControl",p.confirmValue)}}let T=(()=>{var S;class G extends y._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(I,x){super(x,I),this.dialogRef=I,this.data=x,this.confirmValue=new m.MJ("",{nonNullable:!0})}}return(S=G).\u0275fac=function(I){return new(I||S)(f.rXU(r.CP,8),f.rXU(r.Vh,8))},S.\u0275cmp=f.VBU({type:S,selectors:[["azt-dialog-danger"]],features:[f.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(I,x){1&I&&(f.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),f.DNE(4,k,1,3,"lucide-icon",4),f.nrm(5,"span",5),f.k0s(),f.DNE(6,z,12,8,"div",6),f.k0s()(),f.j41(7,"div",7)(8,"button",8),f.bIt("click",function(){return x.btnCloseDialog()}),f.EFF(9),f.nI1(10,"mytranslate"),f.k0s(),f.j41(11,"button",9),f.bIt("click",function(){return x.confirmDialog()}),f.EFF(12),f.nI1(13,"mytranslate"),f.k0s()()()),2&I&&(f.R7$(4),f.Y8G("ngIf",x.data.iconName),f.R7$(),f.Y8G("innerHtml",x.data.content,f.npT),f.R7$(),f.Y8G("ngIf",x.data.textConfirm),f.R7$(3),f.SpI(" ",f.bMT(10,6,"lang_auto_huy")," "),f.R7$(2),f.Y8G("disabled",x.data.textConfirm&&x.data.textConfirm!==x.confirmValue.value),f.R7$(),f.SpI(" ",f.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[j.YU,j.bT,m.me,m.BC,m.l_,R.WGl,$.wp],encapsulation:2}),G})()},89121:(ot,Y,u)=>{u.d(Y,{z:()=>f});var m=u(59640),r=u(48891),y=u(65162);let f=(()=>{var j;class R extends m.H{constructor(){super(...arguments),this.id="default-id"}}return(j=R).\u0275fac=(()=>{let $;return function(k){return($||($=r.xGo(j)))(k||j)}})(),j.\u0275cmp=r.VBU({type:j,selectors:[["app-common-master-page"]],inputs:{id:"id"},features:[r.Vt3],decls:2,vars:1,consts:[[3,"id"]],template:function(N,k){1&N&&(r.j41(0,"div",0),r.nrm(1,"router-outlet"),r.k0s()),2&N&&r.FS9("id",k.id)},dependencies:[y.n3],encapsulation:2}),R})()},14491:(ot,Y,u)=>{u.r(Y),u.d(Y,{SuperAdminModule:()=>wd});var m=u(54460),r=u(10936),y=u(65162),f=u(69223),j=u(15343),R=u(10123),$=u(44233),N=u(5502),k=u(21656),z=u(70050),T=u(7050),S=u(35143),G=u(43234),p=u(64264),I=u(1133),x=u(89121),h=u(59640),c=u(89163),v=u(33887),t=u(48891),F=u(18041),X=u(92540),ve=u(58112),ke=u(97357),A=u(18718),V=u(81587),Ie=u(40246),g=u(47348);function je(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Re(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"form",8)(3,"azt-multi-choose-level-subject",9),t.bIt("sendData",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.setData(a))}),t.k0s(),t.j41(4,"div",10)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",10),t.nrm(9,"textarea",11),t.k0s(),t.j41(10,"div",10)(11,"b"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"div",12),t.nrm(15,"editor",13),t.nI1(16,"getTinyMceKey"),t.nI1(17,"getTinyMceConfig"),t.k0s()()()(),t.j41(18,"div",14)(19,"button",15),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.closeDialog())}),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"button",16),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.saveNoticeObj())}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("formGroup",i.form),t.R7$(),t.Y8G("valueSurvey",i.multiChooseLevelSubjectService.valueSurvey)("valueSubjectSurvey",i.multiChooseLevelSubjectService.valueSubjectSurvey)("classroomGradePathValue",i.classroomGradePathValue)("dataObjs",i.dataObjs),t.R7$(3),t.JRh(t.bMT(7,12,"lang_super_admin_new_feature_user_ids")),t.R7$(6),t.JRh(t.bMT(13,14,"lang_auto_nhap_noi_dung_vao_day")),t.R7$(3),t.FS9("apiKey",t.bMT(16,16,"")),t.Y8G("init",t.bMT(17,18,"admin_common")),t.R7$(5),t.JRh(t.bMT(21,20,"lang_auto_dong")),t.R7$(2),t.Y8G("disabled",i.form.invalid),t.R7$(),t.JRh(t.bMT(24,22,"lang_auto_luu_thong_bao"))}}let Jt=(()=>{var n;class s extends v._{setData(e){this.dataObjs=e}closeDialog(){this.dialogRef.close(!1)}selectSubject(e,a){for(let o=0;o<this.dataObjs.length;o++)this.dataObjs[o].class?.value==a.class?.value&&(this.dataObjs[o].subjectsIds=e.value);this.oldDataObjs=this.dataObjs}addSubject(e){var o=[];(e.value.length?e.value:[]).forEach(_=>{let M=this.multiChooseLevelSubjectService.valueSurvey.find(E=>E.value==_);M&&!this.commonService.isExistInArray(o,M)&&o.push(M)});let l=this.oldDataObjs.length,d=o.length;this.dataObjs.forEach((_,M)=>{o.find(C=>C.value==_.class?.value)||this.dataObjs.splice(M,1)},this.dataObjs);for(let _=0;_<d;_++)if(this.dataObjs.find(E=>E.class?.value==o[_].value)||this.dataObjs.push({class:o[_],subjectsIds:[]}),l>0)for(let E=0;E<l;E++)this.dataObjs[_]&&this.oldDataObjs[E]&&this.dataObjs[_].class?.value==this.oldDataObjs[E].class?.value&&(this.dataObjs[_]=this.oldDataObjs[E]);this.dataObjs.sort((_,M)=>(_.class?.value??0)-(M.class?.value??0))}getGradeAndSubjectObj(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{1==e.success?(this.multiChooseLevelSubjectService.processDataSchoolAndLevel(e.data?.schoolLevelSubjectObjs??[]),this.checkSurveySubmitted(),this.isLoading=!1):(this.isLoading=!1,this.errorStatusObj(e.message??""))}))}checkSurveySubmitted(){this.obj?.levelSubjects&&this.obj?.levelSubjects.length>0&&this.obj.levelSubjects.forEach(e=>{let a=this.multiChooseLevelSubjectService.valueSurvey.find(o=>o.value==e.schoolLevelId);if(a){a.value&&a.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,a.value)&&this.classroomGradePathValue.push(a.value);let o=this.dataObjs.filter(l=>l.class?.value==a?.value);o&&o.length?this.dataObjs.forEach(l=>{l.class?.value==a?.value&&e.schoolSubjectId&&l.subjectsIds?.push(e.schoolSubjectId)},this.dataObjs):this.dataObjs.push({class:a,subjectsIds:e.schoolSubjectId?[e.schoolSubjectId]:[]})}})}saveNoticeObj(){let e=[];for(let o=0;o<this.dataObjs.length;o++)if(this.dataObjs[o].subjectsIds&&Array.isArray(this.dataObjs[o].subjectsIds)){let l=this.dataObjs[o].subjectsIds??[];if(l.length)for(let d=0;d<l.length;d++)e.push({schoolLevelId:this.dataObjs[o].class?.value??0,schoolSubjectId:l[d]});else e.push({schoolLevelId:this.dataObjs[o].class?.value??0,schoolSubjectId:0})}var a=this.form.getRawValue();if(this.form.valid){this.initStatusObj();let o=a.userIds.split("\n").map(l=>l.trim()).filter(l=>!isNaN(parseInt(l))).map(l=>parseInt(l));this.waitDestroy(this.obj?this.adminGlobalNotificationService.apiAdminGlobalNotificationUpdateObjPost({id:this.obj?.id??0,description:a.content,levelSubjects:e,userIds:o.length>0?o:void 0}).subscribe(d=>{1==d.success?this.dialogRef.close(!0):(this.errorStatusObj(d.message??"",!0),this.closeDialog())}):this.adminGlobalNotificationService.apiAdminGlobalNotificationSaveObjPost({description:a.content,levelSubjects:e,userIds:o.length>0?o:void 0}).subscribe(d=>{1==d.success?this.dialogRef.close(!0):(this.errorStatusObj(d.message??"",!0),this.closeDialog())}))}else this.showErrorSnack("lang_auto_khong_duoc_de_trong_noi_dung_thong_bao"),this.closeDialog()}ngOnInit(){this.isLoading=!0,this.getGradeAndSubjectObj()}constructor(e,a,o,l,d,_){super(_,d),this.adminGlobalNotificationService=e,this.commonListService=a,this.sAztCommonCdnService=o,this.multiChooseLevelSubjectService=l,this.dialogRef=d,this.data=_,this.dataObjs=[],this.oldDataObjs=[],this.classroomGradePathValue=[],this.isLoading=!1,this.obj=_.obj,this.form=new r.gE(this.obj?{content:new r.MJ(this.sAztCommonCdnService.getMyCdn(this.obj.description??""),{nonNullable:!0,validators:[r.k0.required]}),userIds:new r.MJ(this.obj.userIds.join("\n"),{nonNullable:!0})}:{content:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),userIds:new r.MJ("",{nonNullable:!0})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.dd),t.rXU(X.Nz),t.rXU(ve.c),t.rXU(ke.Y),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-feature-notice-dialog"]],features:[t.Vt3],decls:6,vars:2,consts:[["doneLoading",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body","p-0"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"pt-5"],[1,"pl-5","pr-5",2,"max-height","85vh","overflow-y","auto"],[3,"formGroup"],[3,"sendData","valueSurvey","valueSubjectSurvey","classroomGradePathValue","dataObjs"],[1,"mt-2"],["type","text","cols","5","rows","5","formControlName","userIds",1,"form-control","mb-5"],[1,"mt-2",2,"width","100%"],["formControlName","content",3,"apiKey","init"],[1,"text-right","mt-5","pb-5","pr-5"],["azt-track-service","add-or-edito-feature-notice-dialog-ctyOF9-k-Np",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add-or-edito-feature-notice-dialog-J_52xmtMRwd",1,"btn","btn-primary",3,"click","disabled"]],template:function(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.DNE(3,je,1,1,"azt-loading-effect",4)(4,Re,25,24,"ng-template",null,0,t.C5r),t.k0s()()()),2&e){const o=t.sdS(5);t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,f.xn,r.j4,r.JD,A.K,V.t,Ie.C,g.wp,g.Hw,g.yc],encapsulation:2}),s})();function Se(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Te(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"h2",7),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"div",6)(5,"div",8),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"div",9)(10,"button",10),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.closeDialog())}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",11),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.confirmClick())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,6,"lang_auto_xoa_thong_bao_tinh_nang_moi")),t.R7$(4),t.E5c("",t.bMT(7,8,"lang_auto_chac_chan_muon_xoa"),' "',t.bMT(8,10,"lang_auto_thong_bao")," ",i.obj.id,'"?'),t.R7$(5),t.JRh(t.bMT(12,12,"lang_auto_dong")),t.R7$(3),t.JRh(t.bMT(15,14,"lang_auto_xac_nhan"))}}let ye=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}confirmClick(){this.initStatusObj(),this.waitDestroy(this.adminGlobalNotificationService.apiAdminGlobalNotificationDeleteObjGet(this.obj.id).subscribe(e=>{1==e.success?this.dialogRef.close(!0):(this.errorStatusObj(e.message??"",!0),this.closeDialog())}))}constructor(e,a,o){super(o,a),this.adminGlobalNotificationService=e,this.dialogRef=a,this.data=o,this.obj=o.obj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.dd),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["delete-feature-notice-dialog"]],features:[t.Vt3],decls:6,vars:2,consts:[["doneLoading",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y"],[1,"text-base","font-medium","mr-auto"],[1,"alert","alert-danger","p-2","mt-3"],[1,"text-right","mt-3"],["azt-track-service","delete-feature-notice-dialog-ebqRWfCJQQj",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-feature-notice-dialog-QrpqDOtmL0o",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.DNE(3,Se,1,1,"azt-loading-effect",4)(4,Te,16,16,"ng-template",null,0,t.C5r),t.k0s()()()),2&e){const o=t.sdS(5);t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.bT,A.K,g.wp],encapsulation:2}),s})();var U=u(46899),Tt=u(25329),O=u(96451);const qt=n=>({display:n});function Fe(n,s){if(1&n&&(t.j41(0,"span",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit;t.Y8G("ngStyle",t.eq3(4,qt,""!=i?"inline":"none")),t.R7$(),t.SpI(" ",t.bMT(2,2,i)," ")}}function we(n,s){if(1&n&&(t.j41(0,"span",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit;t.Y8G("ngStyle",t.eq3(4,qt,""!=i?"inline":"none")),t.R7$(),t.SpI(" ",t.bMT(2,2,i)," ")}}function xe(n,s){if(1&n&&(t.j41(0,"div",25),t.nrm(1,"hr",26),t.j41(2,"div",27)(3,"p",28)(4,"b"),t.EFF(5,"Kh\u1ed1i d\u1ea1y"),t.k0s()(),t.nrm(6,"div",29),t.j41(7,"p",30)(8,"b"),t.EFF(9,"M\xf4n d\u1ea1y"),t.k0s()()(),t.j41(10,"div",31)(11,"div",32),t.DNE(12,Fe,3,6,"span",33),t.k0s(),t.nrm(13,"div",29),t.j41(14,"div",32),t.DNE(15,we,3,6,"span",33),t.k0s()()()),2&n){const i=t.XpG().index,e=t.XpG(2);t.R7$(12),t.Y8G("ngForOf",e.listSchoolLevelName[i]),t.R7$(3),t.Y8G("ngForOf",e.listSchoolSubjectName[i])}}function Ce(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"hr",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.Lme(" ",t.bMT(3,2,"lang_super_admin_new_feature_show_for_user_ids"),": ",i.userIds.join("|")," ")}}function Ee(n,s){if(1&n){const i=t.RV6();t.j41(0,"mat-card",14)(1,"mat-card-content",15)(2,"div",16)(3,"div",17)(4,"p",18)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",19)(9,"a",20),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.openEditNoticeDialog(a))}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.EFF(12," | "),t.j41(13,"a",21),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.openDeleteDialog(a))}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.nrm(16,"div",22),t.nI1(17,"mycdn"),t.nI1(18,"safeNormalHtmlContent"),t.DNE(19,xe,16,2,"div",23)(20,Ce,4,4,"div",24),t.k0s()()}if(2&n){const i=s.$implicit,e=s.index,a=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,6,"lang_auto_thong_bao")+" "+i.id),t.R7$(4),t.JRh(t.bMT(11,8,"lang_auto_sua")),t.R7$(4),t.JRh(t.bMT(15,10,"lang_auto_xoa")),t.R7$(2),t.Y8G("innerHTML",t.bMT(18,14,t.bMT(17,12,i.description)),t.npT),t.R7$(3),t.Y8G("ngIf",a.listSchoolLevelName[e].length>0&&a.listSchoolSubjectName[e].length>0),t.R7$(),t.Y8G("ngIf",i.userIds.length>0)}}function Me(n,s){if(1&n&&(t.j41(0,"div",11)(1,"div",12),t.DNE(2,Ee,21,16,"mat-card",13),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngForOf",i.noticeObjs)}}function Oe(n,s){1&n&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_thong_bao_nao")," "))}let $e=(()=>{var n;class s extends h.H{openDeleteDialog(e){this.sAztDialogService.open(ye,{width:"500px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.successStatusObj("lang_core_xoa_thong_bao_thanh_cong",!0),this.getData())})}openEditNoticeDialog(e){this.sAztDialogService.open(Jt,{width:"1000px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.successStatusObj("lang_core_sua_thong_bao_thanh_cong",!0),this.getData())})}openAddNoticeDialog(){this.sAztDialogService.open(Jt,{width:"1000px",data:{obj:void 0},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&(this.successStatusObj("lang_core_them_thong_bao_thanh_cong",!0),this.getData())})}getData(){this.initStatusObj(),this.waitDestroy(this.adminGlobalNotificationService.apiAdminGlobalNotificationGetObjsGet().subscribe(e=>{1==e.success?(e.data?.objs&&(this.noticeObjs=e.data.objs,this.listSchoolLevelName=[],this.listSchoolSubjectName=[],this.noticeObjs.forEach(a=>{var o=[],l=[];a.levelSubjects?.forEach(d=>{d.schoolLevelName&&-1==o.indexOf(d.schoolLevelName)&&o.push(d.schoolLevelName),d.schoolSubjectName&&-1==o.indexOf(d.schoolSubjectName)&&l.push(d.schoolSubjectName)}),this.listSchoolLevelName.push(o),this.listSchoolSubjectName.push(l)})),this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.getData(),this.commonService.translateMetaData({title:"lang_cms_auth_add_new_feature_notice",description:"lang_cms_auth_add_new_feature_notice",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,a){super(),this.sAztDialogService=e,this.adminGlobalNotificationService=a,this.listSchoolLevelName=[],this.listSchoolSubjectName=[],this.noticeObjs=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(U.i),t.rXU(F.dd))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-new-feature-notice"]],features:[t.Vt3],decls:16,vars:6,consts:[["NoNoticeYet",""],[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card","box"],[1,"card-body","p-2"],[1,"flex","justify-between","items-center","p-1"],[1,"col-md-3","align-self-center"],[1,"text-lg","mb-0"],[1,"col-md-3"],["azt-track-service","add_new_feature_notice-YIagIfxEjVV",1,"btn","btn-primary",2,"float","right",3,"click"],["class","card mt-1",4,"ngIf","ngIfElse"],[1,"card","mt-1"],[1,"card-body"],["appearance","outlined","class","mb-1","style","background-color: #fff; border: none",4,"ngFor","ngForOf"],["appearance","outlined",1,"mb-1",2,"background-color","#fff","border","none"],[1,"form-control",2,"overflow-y","auto"],[1,"row","pl-0","pr-0","ml-0","mr-0","justify-content-between"],[1,"col-6","pl-0","align-self-center"],[1,"h5"],[1,"col-6","pr-0","align-self-center","text-right"],["azt-track-service","add_new_feature_notice-zmoHpRv75wS",1,"link__color","link__hover",3,"click"],["azt-track-service","add_new_feature_notice-m67x1eraBva",1,"link__color","link__hover",3,"click"],[3,"innerHTML"],["class","pt-3",4,"ngIf"],[4,"ngIf"],[1,"pt-3"],[1,"mt-5"],[1,"flex"],[1,"w-100","h5","pl-2"],[1,"vertical-line"],[1,"w-100","h5"],[1,"flex","mt-5"],[1,"w-100"],["class","text-sm name-tag",3,"ngStyle",4,"ngFor","ngForOf"],[1,"text-sm","name-tag",3,"ngStyle"],[1,"alert","alert-danger"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"p",7)(7,"b"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"div",8)(11,"button",9),t.bIt("click",function(){return t.eBV(o),t.Njj(a.openAddNoticeDialog())}),t.EFF(12,"Th\xeam m\u1edbi"),t.k0s()()()()(),t.DNE(13,Me,3,1,"div",10)(14,Oe,3,3,"ng-template",null,0,t.C5r),t.k0s()()}if(2&e){const o=t.sdS(15);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(8),t.JRh(t.bMT(9,4,"lang_auto_danh_sach_thong_bao")),t.R7$(5),t.Y8G("ngIf",a.noticeObjs.length>0)("ngIfElse",o)}},dependencies:[m.Sq,m.bT,m.B3,Tt.RN,Tt.m2,O.Q,g.wp,g.nf,g._y],styles:[".link__color[_ngcontent-%COMP%]{color:#0eafc0!important}.link__hover[_ngcontent-%COMP%]:hover{color:#0a8f9e!important}.name-tag[_ngcontent-%COMP%]{padding:5px;border-radius:5px;background:#faebd7;margin:2px 4px 3px 0;line-height:1.8rem}.w-100[_ngcontent-%COMP%]{width:100%;text-align:justify}.vertical-line[_ngcontent-%COMP%]{border-left:1px solid #eee;margin:5px 20px}"]}),s})();var at=u(47426),et=u(95670),lt=u(4375),_t=u(60303),pt=u(43166);const ct=()=>[];function De(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Ge(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_location"),". "))}function Ne(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_enter_name_district"),". "))}function Ae(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Pe(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_location"),". "))}function ze(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Le(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_department"),". "))}function Ve(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Be(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_select_level"),". "))}function Ye(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_enter_name_school"),". "))}function Ue(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Je(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_location"),". "))}function qe(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Xe(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_department"),". "))}function Qe(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_enter_name_district"),". "))}function He(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function We(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_location"),". "))}function Ke(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Ze(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_department"),". "))}function tn(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function en(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_select_level"),". "))}function nn(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function an(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_choose_school"),". "))}function on(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_wsuper_admin_add_school_validate_enter_name_school"),". "))}function sn(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"mat-tab-group",15),t.bIt("selectedIndexChange",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.selectedIndexChange(a))}),t.j41(4,"mat-tab",16),t.nI1(5,"mytranslate"),t.j41(6,"form",17)(7,"div",18)(8,"label",19),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"mat-form-field",20)(12,"mat-select",21,0),t.nI1(14,"mytranslate"),t.j41(15,"mat-option"),t.nrm(16,"ngx-mat-select-search",22),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s(),t.DNE(19,De,2,2,"mat-option",23),t.k0s()(),t.DNE(20,Ge,3,3,"div",24),t.k0s(),t.j41(21,"div",18)(22,"label",19),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"div",25),t.nrm(26,"textarea",26),t.nI1(27,"mytranslate"),t.DNE(28,Ne,3,3,"div",24),t.k0s()()()(),t.j41(29,"mat-tab",16),t.nI1(30,"mytranslate"),t.j41(31,"form",17)(32,"div",18)(33,"label",19),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"mat-form-field",20)(37,"mat-select",27,1),t.nI1(39,"mytranslate"),t.bIt("selectionChange",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.selectLocation(a.value))}),t.j41(40,"mat-option"),t.nrm(41,"ngx-mat-select-search",22),t.nI1(42,"mytranslate"),t.nI1(43,"mytranslate"),t.k0s(),t.DNE(44,Ae,2,2,"mat-option",23),t.k0s()(),t.DNE(45,Pe,3,3,"div",24),t.k0s(),t.j41(46,"div",18)(47,"label",19),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.j41(50,"mat-form-field",20)(51,"mat-select",28,2),t.nI1(53,"mytranslate"),t.mxI("valueChange",function(a){t.eBV(i);const o=t.XpG();return t.DH7(o.department_select,a)||(o.department_select=a),t.Njj(a)}),t.j41(54,"mat-option"),t.nrm(55,"ngx-mat-select-search",22),t.nI1(56,"mytranslate"),t.nI1(57,"mytranslate"),t.k0s(),t.DNE(58,ze,2,2,"mat-option",23),t.k0s()(),t.DNE(59,Le,3,3,"div",24),t.k0s(),t.j41(60,"div",18)(61,"label",19),t.EFF(62),t.nI1(63,"mytranslate"),t.k0s(),t.j41(64,"mat-form-field",20)(65,"mat-select",29,3),t.nI1(67,"mytranslate"),t.j41(68,"mat-option"),t.nrm(69,"ngx-mat-select-search",22),t.nI1(70,"mytranslate"),t.nI1(71,"mytranslate"),t.k0s(),t.DNE(72,Ve,2,2,"mat-option",23),t.k0s()(),t.DNE(73,Be,3,3,"div",24),t.k0s(),t.j41(74,"div",18)(75,"label",19),t.EFF(76),t.nI1(77,"mytranslate"),t.k0s(),t.j41(78,"div",25),t.nrm(79,"textarea",30),t.nI1(80,"mytranslate"),t.k0s(),t.DNE(81,Ye,3,3,"div",24),t.k0s()()(),t.j41(82,"mat-tab",16),t.nI1(83,"mytranslate"),t.j41(84,"form",17)(85,"div",18)(86,"label",19),t.EFF(87),t.nI1(88,"mytranslate"),t.k0s(),t.j41(89,"mat-form-field",20)(90,"mat-select",27,4),t.nI1(92,"mytranslate"),t.bIt("selectionChange",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.selectLocation(a.value))}),t.j41(93,"mat-option"),t.nrm(94,"ngx-mat-select-search",22),t.nI1(95,"mytranslate"),t.nI1(96,"mytranslate"),t.k0s(),t.DNE(97,Ue,2,2,"mat-option",23),t.k0s()(),t.DNE(98,Je,3,3,"div",24),t.k0s(),t.j41(99,"div",18)(100,"label",19),t.EFF(101),t.nI1(102,"mytranslate"),t.k0s(),t.j41(103,"mat-form-field",20)(104,"mat-select",28,5),t.nI1(106,"mytranslate"),t.mxI("valueChange",function(a){t.eBV(i);const o=t.XpG();return t.DH7(o.department_select,a)||(o.department_select=a),t.Njj(a)}),t.j41(107,"mat-option"),t.nrm(108,"ngx-mat-select-search",22),t.nI1(109,"mytranslate"),t.nI1(110,"mytranslate"),t.k0s(),t.DNE(111,qe,2,2,"mat-option",23),t.k0s()(),t.DNE(112,Xe,3,3,"div",24),t.k0s(),t.j41(113,"div",18)(114,"label",19),t.EFF(115),t.nI1(116,"mytranslate"),t.k0s(),t.j41(117,"div",25),t.nrm(118,"textarea",31),t.nI1(119,"mytranslate"),t.k0s(),t.DNE(120,Qe,3,3,"div",24),t.k0s()()(),t.j41(121,"mat-tab",16),t.nI1(122,"mytranslate"),t.j41(123,"form",17)(124,"div",18)(125,"label",19),t.EFF(126),t.nI1(127,"mytranslate"),t.k0s(),t.j41(128,"mat-form-field",20)(129,"mat-select",27,6),t.nI1(131,"mytranslate"),t.bIt("selectionChange",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.selectLocation(a.value))}),t.j41(132,"mat-option"),t.nrm(133,"ngx-mat-select-search",22),t.nI1(134,"mytranslate"),t.nI1(135,"mytranslate"),t.k0s(),t.DNE(136,He,2,2,"mat-option",23),t.k0s()(),t.DNE(137,We,3,3,"div",24),t.k0s(),t.j41(138,"div",18)(139,"label",19),t.EFF(140),t.nI1(141,"mytranslate"),t.k0s(),t.j41(142,"mat-form-field",20)(143,"mat-select",28,7),t.nI1(145,"mytranslate"),t.mxI("valueChange",function(a){t.eBV(i);const o=t.XpG();return t.DH7(o.department_select,a)||(o.department_select=a),t.Njj(a)}),t.j41(146,"mat-option"),t.nrm(147,"ngx-mat-select-search",22),t.nI1(148,"mytranslate"),t.nI1(149,"mytranslate"),t.k0s(),t.DNE(150,Ke,2,2,"mat-option",23),t.k0s()(),t.DNE(151,Ze,3,3,"div",24),t.k0s(),t.j41(152,"div",18)(153,"label",19),t.EFF(154),t.nI1(155,"mytranslate"),t.k0s(),t.j41(156,"mat-form-field",20)(157,"mat-select",32,8),t.nI1(159,"mytranslate"),t.mxI("valueChange",function(a){t.eBV(i);const o=t.XpG();return t.DH7(o.level_select,a)||(o.level_select=a),t.Njj(a)}),t.bIt("selectionChange",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.selectLevel(a.value))}),t.j41(160,"mat-option"),t.nrm(161,"ngx-mat-select-search",22),t.nI1(162,"mytranslate"),t.nI1(163,"mytranslate"),t.k0s(),t.DNE(164,tn,2,2,"mat-option",23),t.k0s()(),t.DNE(165,en,3,3,"div",24),t.k0s(),t.j41(166,"div",18)(167,"label",19),t.EFF(168),t.nI1(169,"mytranslate"),t.k0s(),t.j41(170,"mat-form-field",20)(171,"mat-select",33,9),t.nI1(173,"mytranslate"),t.mxI("valueChange",function(a){t.eBV(i);const o=t.XpG();return t.DH7(o.school_select,a)||(o.school_select=a),t.Njj(a)}),t.bIt("selectionChange",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.selectSchool(a.value))}),t.j41(174,"mat-option"),t.nrm(175,"ngx-mat-select-search",22),t.nI1(176,"mytranslate"),t.nI1(177,"mytranslate"),t.k0s(),t.DNE(178,nn,2,2,"mat-option",23),t.k0s()(),t.DNE(179,an,3,3,"div",24),t.k0s(),t.j41(180,"div",18)(181,"label",19),t.EFF(182),t.nI1(183,"mytranslate"),t.k0s(),t.j41(184,"div",25),t.nrm(185,"textarea",30),t.nI1(186,"mytranslate"),t.k0s(),t.DNE(187,on,3,3,"div",24),t.k0s()()()(),t.j41(188,"div",34)(189,"button",35),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.removeDataOld())}),t.EFF(190,"Reset"),t.k0s(),t.j41(191,"button",36),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.SaveDataApi())}),t.EFF(192),t.nI1(193,"mytranslate"),t.k0s()()()()()}if(2&n){let i,e,a,o,l,d,_;const M=t.sdS(13),E=t.sdS(38),C=t.sdS(52),P=t.sdS(66),D=t.sdS(91),B=t.sdS(105),Z=t.sdS(130),rt=t.sdS(144),It=t.sdS(158),jt=t.sdS(172),b=t.XpG();t.R7$(3),t.Y8G("selectedIndex",b.selected.value),t.R7$(),t.FS9("label",t.bMT(5,98,"lang_wsuper_admin_add_school_add_name_district")),t.R7$(2),t.Y8G("formGroup",b.form),t.R7$(3),t.JRh(t.bMT(10,100,"lang_wsuper_admin_add_school_select_location")),t.R7$(3),t.FS9("placeholder",t.bMT(14,102,"lang_wsuper_admin_add_school_choose_location")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(17,104,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(18,106,"lang_search_not_found")),t.Y8G("formControl",M.searchControl),t.R7$(3),t.Y8G("ngForOf",M.filter(b.locations,"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.LocationId.invalid&&(b.form.controls.LocationId.dirty||b.form.controls.LocationId.touched||0==b.checkValidateLocationId)),t.R7$(3),t.JRh(t.bMT(24,108,"lang_wsuper_admin_add_school_add_name_district")),t.R7$(3),t.FS9("placeholder",t.bMT(27,110,"lang_wsuper_admin_add_school_enter_name_district")),t.R7$(2),t.Y8G("ngIf",b.form.controls.NameDistrict.invalid&&(b.form.controls.NameDistrict.dirty||b.form.controls.NameDistrict.touched||0==b.checkValidateNameDistrict)),t.R7$(),t.FS9("label",t.bMT(30,112,"lang_wsuper_admin_add_school_add_school")),t.R7$(2),t.Y8G("formGroup",b.form),t.R7$(3),t.JRh(t.bMT(35,114,"lang_wsuper_admin_add_school_select_location")),t.R7$(3),t.FS9("placeholder",t.bMT(39,116,"lang_wsuper_admin_add_school_choose_location")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(42,118,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(43,120,"lang_search_not_found")),t.Y8G("formControl",E.searchControl),t.R7$(3),t.Y8G("ngForOf",E.filter(b.locations,"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.LocationId.invalid&&(b.form.controls.LocationId.dirty||b.form.controls.LocationId.touched||0==b.checkValidateLocationId)),t.R7$(3),t.JRh(t.bMT(49,122,"lang_wsuper_admin_add_school_choose_department")),t.R7$(3),t.FS9("placeholder",t.bMT(53,124,"lang_wsuper_admin_add_school_choose_department")),t.R50("value",b.department_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(56,126,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(57,128,"lang_search_not_found")),t.Y8G("formControl",C.searchControl),t.R7$(3),t.Y8G("ngForOf",C.filter(null!==(i=b.departments)&&void 0!==i?i:t.lJ4(204,ct),"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.DistrictId.invalid&&(b.form.controls.DistrictId.dirty||b.form.controls.DistrictId.touched||0==b.checkValidateDistrictId)),t.R7$(3),t.JRh(t.bMT(63,130,"lang_wsuper_admin_add_school_select_level")),t.R7$(3),t.FS9("placeholder",t.bMT(67,132,"lang_wsuper_admin_add_school_select_level")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(70,134,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(71,136,"lang_search_not_found")),t.Y8G("formControl",P.searchControl),t.R7$(3),t.Y8G("ngForOf",P.filter(b.levels,"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.LevelId.invalid&&(b.form.controls.LevelId.dirty||b.form.controls.LevelId.touched||0==b.checkValidateLevelId)),t.R7$(3),t.JRh(t.bMT(77,138,"lang_wsuper_admin_add_school_add_name_school")),t.R7$(3),t.FS9("placeholder",t.bMT(80,140,"lang_wsuper_admin_add_school_enter_school")),t.R7$(2),t.Y8G("ngIf",b.form.controls.NameSchool.invalid&&(b.form.controls.NameSchool.dirty||b.form.controls.NameSchool.touched||0==b.checkValidateNameSchool)),t.R7$(),t.FS9("label",t.bMT(83,142,"lang_wsuper_admin_add_school_edit_district")),t.R7$(2),t.Y8G("formGroup",b.form),t.R7$(3),t.JRh(t.bMT(88,144,"lang_wsuper_admin_add_school_select_location")),t.R7$(3),t.FS9("placeholder",t.bMT(92,146,"lang_wsuper_admin_add_school_choose_location")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(95,148,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(96,150,"lang_search_not_found")),t.Y8G("formControl",D.searchControl),t.R7$(3),t.Y8G("ngForOf",D.filter(null!==(e=b.locations)&&void 0!==e?e:t.lJ4(205,ct),"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.LocationId.invalid&&(b.form.controls.LocationId.dirty||b.form.controls.LocationId.touched||0==b.checkValidateLocationId)),t.R7$(3),t.JRh(t.bMT(102,152,"lang_wsuper_admin_add_school_choose_department")),t.R7$(3),t.FS9("placeholder",t.bMT(106,154,"lang_wsuper_admin_add_school_choose_department")),t.R50("value",b.department_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(109,156,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(110,158,"lang_search_not_found")),t.Y8G("formControl",B.searchControl),t.R7$(3),t.Y8G("ngForOf",B.filter(null!==(a=b.departments)&&void 0!==a?a:t.lJ4(206,ct),"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.DistrictId.invalid&&(b.form.controls.DistrictId.dirty||b.form.controls.DistrictId.touched||0==b.checkValidateDistrictId)),t.R7$(3),t.JRh(t.bMT(116,160,"lang_wsuper_admin_add_school_edit_name_district")),t.R7$(3),t.FS9("placeholder",t.bMT(119,162,"lang_wsuper_admin_add_school_enter_name_district")),t.R7$(2),t.Y8G("ngIf",b.form.controls.NameDistrict.invalid&&(b.form.controls.NameDistrict.dirty||b.form.controls.NameDistrict.touched||0==b.checkValidateNameDistrict)),t.R7$(),t.FS9("label",t.bMT(122,164,"lang_wsuper_admin_add_school_edit_school")),t.R7$(2),t.Y8G("formGroup",b.form),t.R7$(3),t.JRh(t.bMT(127,166,"lang_wsuper_admin_add_school_select_location")),t.R7$(3),t.FS9("placeholder",t.bMT(131,168,"lang_wsuper_admin_add_school_choose_location")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(134,170,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(135,172,"lang_search_not_found")),t.Y8G("formControl",Z.searchControl),t.R7$(3),t.Y8G("ngForOf",Z.filter(null!==(o=b.locations)&&void 0!==o?o:t.lJ4(207,ct),"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.LocationId.invalid&&(b.form.controls.LocationId.dirty||b.form.controls.LocationId.touched||0==b.checkValidateLocationId)),t.R7$(3),t.JRh(t.bMT(141,174,"lang_wsuper_admin_add_school_choose_department")),t.R7$(3),t.FS9("placeholder",t.bMT(145,176,"lang_wsuper_admin_add_school_choose_department")),t.R50("value",b.department_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(148,178,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(149,180,"lang_search_not_found")),t.Y8G("formControl",rt.searchControl),t.R7$(3),t.Y8G("ngForOf",rt.filter(null!==(l=b.departments)&&void 0!==l?l:t.lJ4(208,ct),"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.DistrictId.invalid&&(b.form.controls.DistrictId.dirty||b.form.controls.DistrictId.touched||0==b.checkValidateDistrictId)),t.R7$(3),t.JRh(t.bMT(155,182,"lang_wsuper_admin_add_school_select_level")),t.R7$(3),t.FS9("placeholder",t.bMT(159,184,"lang_wsuper_admin_add_school_select_level")),t.R50("value",b.level_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(162,186,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(163,188,"lang_search_not_found")),t.Y8G("formControl",It.searchControl),t.R7$(3),t.Y8G("ngForOf",It.filter(null!==(d=b.levels)&&void 0!==d?d:t.lJ4(209,ct),"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.LevelId.invalid&&(b.form.controls.LevelId.dirty||b.form.controls.LevelId.touched||0==b.checkValidateLevelId)),t.R7$(3),t.JRh(t.bMT(169,190,"lang_wsuper_admin_add_school_choose_school")),t.R7$(3),t.FS9("placeholder",t.bMT(173,192,"lang_wsuper_admin_add_school_choose_school")),t.R50("value",b.school_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(176,194,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(177,196,"lang_search_not_found")),t.Y8G("formControl",jt.searchControl),t.R7$(3),t.Y8G("ngForOf",jt.filter(null!==(_=b.schools)&&void 0!==_?_:t.lJ4(210,ct),"name")),t.R7$(),t.Y8G("ngIf",b.form.controls.SchoolId.invalid&&(b.form.controls.SchoolId.dirty||b.form.controls.SchoolId.touched||0==b.checkValidateSchoolId)),t.R7$(3),t.JRh(t.bMT(183,198,"lang_wsuper_admin_add_school_edit_name_school")),t.R7$(3),t.FS9("placeholder",t.bMT(186,200,"lang_wsuper_admin_add_school_enter_school")),t.R7$(2),t.Y8G("ngIf",b.form.controls.NameSchool.invalid&&(b.form.controls.NameSchool.dirty||b.form.controls.NameSchool.touched||0==b.checkValidateNameSchool)),t.R7$(4),t.Y8G("disabled",b.loading||b.checkValidSaveForm()),t.R7$(),t.JRh(t.bMT(193,202,"lang_button_save"))}}let rn=(()=>{var n;class s extends h.H{initData(){this.GetProvinces(),this.GetTypeSchool()}GetTypeSchool(){this.schoolInfoService.apiAdminSchoolInfoGetTypeSchoolGet().subscribe(e=>{e&&(this.levels=e.data?.objs)})}GetProvinces(){this.schoolInfoService.apiAdminSchoolInfoGetProvincesGet().subscribe(e=>{e&&(this.locations=e.data?.objs,this.locations=this.sortNameLocations(this.locations))})}sortNameLocations(e){return e?.sort((a,o)=>a.name?.trim().localeCompare(o.name?.trim()??"")??0),e??[]}sortNameSchool(e){return e?.sort((a,o)=>a.name?.trim().localeCompare(o.name?.trim()??"")??0),e??[]}sortNameDistrict(e){return e?.sort((a,o)=>a.name?.trim().localeCompare(o.name?.trim()??"")??0),e??[]}AddSchool(){this.loading=!0;var e=""==this.form.getRawValue().NameSchool?{names:[]}:{names:this.form.getRawValue().NameSchool.split("\n")};this.adminSchoolService.apiAdminSchoolAddSchoolPost(e,Number(this.form.getRawValue().LevelId),Number(this.form.getRawValue().LocationId),Number(this.form.getRawValue().DistrictId)).subscribe(a=>{1==a.success?(this.showSuccessSnack("lang_auto_them_truong_thanh_cong"),this.removeDataOld(),this.loading=!1):(""==this.form.getRawValue().LevelId||""==this.form.getRawValue().DistrictId||""==this.form.getRawValue().LocationId||""==this.form.getRawValue().NameSchool?(this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1,this.checkValidateLevelId=!1,this.checkValidateNameSchool=!1):this.errorStatusObj(a.message??"",!0),this.loading=!1)})}EditSchool(){this.loading=!0,this.adminSchoolService.apiAdminSchoolEditSchoolGet(this.school_select,this.form.getRawValue().NameSchool).subscribe(e=>{1==e.success?(this.showSuccessSnack("lang_auto_sua_truong_thanh_cong"),this.removeDataOld(),this.loading=!1):(""==this.form.getRawValue().LocationId||""==this.form.getRawValue().DistrictId||""==this.form.getRawValue().LevelId||""==this.form.getRawValue().NameSchool||""==this.form.value.SchoolId?(this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1,this.checkValidateLevelId=!1,this.checkValidateNameSchool=!1,this.checkValidateSchoolId=!1):this.errorStatusObj(e.message??"",!0),this.loading=!1)})}selectSchool(e){this.school_select=e}AddDistrict(){var e=""==this.form.getRawValue().NameDistrict?{names:[]}:{names:this.form.getRawValue().NameDistrict.split("\n")};this.loading=!0,this.adminSchoolService.apiAdminSchoolAddDistrictPost(e,Number(this.form.getRawValue().LocationId)).subscribe(a=>{1==a.success?(e.names.length&&this.showSuccessSnack("lang_auto_them_huyen_thanh_cong"),this.loading=!1,this.removeDataOld()):(""==this.form.getRawValue().LocationId||""==this.form.getRawValue().NameDistrict?(this.checkValidateNameDistrict=!1,this.checkValidateLocationId=!1):this.errorStatusObj(a.message??"",!0),this.loading=!1)})}EditDistrict(){this.loading=!0,this.adminSchoolService.apiAdminSchoolEditDistrictGet(this.department_select,this.form.getRawValue().NameDistrict).subscribe(e=>{1==e.success?(this.removeDataOld(),this.showSuccessSnack("lang_auto_sua_huyen_thanh_cong"),this.loading=!1):(""==this.form.getRawValue().LocationId||""==this.form.getRawValue().NameDistrict||""==this.form.getRawValue().DistrictId?(this.checkValidateNameDistrict=!1,this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1):this.errorStatusObj(e.message??"",!0),this.loading=!1)})}selectDepartment(e){this.schools=[],this.school_select=-1,this.department_select=e}selectLevel(e){this.schools=[],this.school_select=-1,this.level_select=e,this.getListSchool()}getListSchool(){this.department_select&&-1!=this.department_select&&this.level_select&&this.schoolInfoService.apiAdminSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(e=>{e&&(this.schools=e.data?.objs,this.schools=this.sortNameSchool(this.schools),this.schools?.push({id:-1,name:"Kh\xe1c",districtId:this.department_select,typeId:this.level_select??1}))})}selectLocation(e){this.location_select=e,this.department_select=-1,this.departments=[],this.GetDistrictsByProvince()}GetDistrictsByProvince(e=(()=>{})){this.location_select&&this.schoolInfoService.apiAdminSchoolInfoGetDistrictsByProvinceGet(this.location_select).subscribe(a=>{a&&(this.departments=a.data?.objs,this.departments=this.sortNameDistrict(this.departments),e())})}checkValidSaveForm(){if(0==this.selected.value){if(""!=this.form.controls.LocationId.value&&""!=this.form.controls.NameDistrict.value)return!1}else if(1==this.selected.value){if(""!=this.form.controls.LocationId.value&&""!=this.form.controls.DistrictId.value&&""!=this.form.controls.LevelId.value&&""!=this.form.controls.NameSchool.value)return!1}else if(2==this.selected.value){if(""!=this.form.controls.LocationId.value&&""!=this.form.controls.DistrictId.value&&""!=this.form.controls.NameDistrict.value)return!1}else if(3==this.selected.value&&""!=this.form.controls.LocationId.value&&""!=this.form.controls.DistrictId.value&&""!=this.form.controls.LevelId.value&&""!=this.form.controls.SchoolId.value&&""!=this.form.controls.NameSchool.value)return!1;return!0}removeDataOld(){this.checkValidateNameDistrict=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateSchoolId=!0,this.form=new r.gE({NameDistrict:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),LevelId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),NameSchool:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),LocationId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),DistrictId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),SchoolId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]})})}SaveDataApi(){0==this.selected.value?this.AddDistrict():1==this.selected.value?this.AddSchool():2==this.selected.value?this.EditDistrict():3==this.selected.value&&this.EditSchool()}selectedIndexChange(e){this.selected.setValue(e),this.removeDataOld()}ngOnInit(){this.removeDataOld(),this.initData(),super.ngOnInit()}constructor(e,a){super(),this.schoolInfoService=e,this.adminSchoolService=a,this.selected=new r.MJ(0,{nonNullable:!0}),this.loading=!1,this.checkValidateNameDistrict=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateSchoolId=!0,this.form=new r.gE({NameDistrict:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),LevelId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),NameSchool:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),LocationId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),DistrictId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),SchoolId:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.Pc),t.rXU(F.tD))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-ad-school"]],features:[t.Vt3],decls:2,vars:2,consts:[["searchInListLocation1","searchInList"],["searchInListLocation2","searchInList"],["searchInListDepartment1","searchInList"],["searchInListLevel1","searchInList"],["searchInListLocation3","searchInList"],["searchInListDepartment2","searchInList"],["searchInListLocation4","searchInList"],["searchInListDepartment3","searchInList"],["searchInListLevel2","searchInList"],["searchInListSchool","searchInList"],[3,"headerBackToLink"],["class","container-fluid component-wrap centerBoth hasBg mt-3 mb-3",4,"ngIf"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3","mb-3"],[1,"card"],[1,"card-body","ad-add-school"],[3,"selectedIndexChange","selectedIndex"],[3,"label"],[2,"margin-top","20px",3,"formGroup"],[1,"form-group","grid"],[1,"control-label","font-medium"],["appearance","fill",1,"box","mb-5"],["searchInList","","formControlName","LocationId",3,"placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,""],["type","text","cols","5","rows","5","formControlName","NameDistrict",1,"form-control","mb-5",3,"placeholder"],["searchInList","","formControlName","LocationId",3,"selectionChange","placeholder"],["searchInList","","name","DepartmentName","formControlName","DistrictId",3,"valueChange","value","placeholder"],["searchInList","","name","LevelId","formControlName","LevelId",3,"placeholder"],["name","","id","","cols","5","rows","5","formControlName","NameSchool",1,"form-control","mb-5",3,"placeholder"],["name","","id","","cols","5","rows","5","formControlName","NameDistrict",1,"form-control","mb-5",3,"placeholder"],["searchInList","","name","LevelId","formControlName","LevelId",3,"valueChange","selectionChange","value","placeholder"],["searchInList","","name","SchoolName","formControlName","SchoolId",3,"valueChange","selectionChange","value","placeholder"],[2,"float","right"],["azt-track-service","add_school-1fcZNMVqZ","type","button",1,"btn","btn-danger","mr-3",3,"click"],["azt-track-service","add_school--IOeIMFnz2","type","button",1,"btn","btn-primary",3,"click","disabled"],[3,"value"],[1,"alert","alert-danger","mt-3"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",10),t.DNE(1,sn,194,211,"div",11),t.k0s()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",0==a.loading))},dependencies:[m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,at.wT,et.rl,lt.VO,_t.mq,_t.T8,r.l_,r.j4,r.JD,V.t,pt.x,O.Q,$.U9,g.wp],encapsulation:2}),s})();const w=n=>[n];let ln=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-admin-tool"]],decls:364,vars:399,consts:[[3,"headerBackToLink"],[1,"azt-dashboard","w-full","lg:w-80%","mx-auto"],[1,"text-lg","font-medium","mt-8"],[1,"col-span-12","grid","grid-cols-12","gap-6","mt-5","flex","items-center"],[1,"col-span-6","md:col-span-3","btn-height"],["azt-track-service","footer-admin-menu-l2MtrrqUX",3,"routerLink"],[1,"box","p-8","zoom-in","box-height"],[1,"font-medium","text-center","text-base","mt-3"],["azt-track-service","footer-admin-menu-hyKpy_jcGr",3,"routerLink"],[3,"routerLink"],["azt-track-service","footer-admin-menu-Ebrjz2hZI3",3,"routerLink"],["azt-track-service","footer-admin-menu-4XJNJSxSzJ",3,"routerLink"],["azt-track-service","footer-admin-menu-fH45ySgaH8",3,"routerLink"],["azt-track-service","footer-admin-menu-4B4t0Mk16",3,"routerLink"],["azt-track-service","footer-admin-menu-ZmmPWU2Wh",3,"routerLink"],["azt-track-service","footer-admin-menu-ASXMmDJNV",3,"routerLink"],["azt-track-service","footer-admin-menu-HU-q1ZJdwG",3,"routerLink"],["azt-track-service","footer-admin-menu-_UZDP1ogJc",3,"routerLink"],["azt-track-service","footer-admin-menu-QkjmZi6D4J",3,"routerLink"],["azt-track-service","footer-admin-menu-FZIvO6pTRn",3,"routerLink"],[1,"col-span-6","md:col-span-3","btn-height","btn-height"],["azt-track-service","footer-admin-menu-k2gFa7QrVb",3,"routerLink"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",3)(6,"div",4)(7,"a",5),t.nI1(8,"navigationLocalize"),t.j41(9,"div",6)(10,"div",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()(),t.j41(13,"div",4)(14,"a",8),t.nI1(15,"navigationLocalize"),t.j41(16,"div",6)(17,"div",7),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",4)(21,"a",9),t.nI1(22,"navigationLocalize"),t.j41(23,"div",6)(24,"div",7),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()(),t.j41(27,"div",4)(28,"a",10),t.nI1(29,"navigationLocalize"),t.j41(30,"div",6)(31,"div",7),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()()()(),t.j41(34,"div",4)(35,"a",11),t.nI1(36,"navigationLocalize"),t.j41(37,"div",6)(38,"div",7),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()()(),t.j41(41,"div",4)(42,"a",9),t.nI1(43,"navigationLocalize"),t.j41(44,"div",6)(45,"div",7),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s()()()(),t.j41(48,"div",4)(49,"a",9),t.nI1(50,"navigationLocalize"),t.j41(51,"div",6)(52,"div",7),t.EFF(53),t.nI1(54,"mytranslate"),t.k0s()()()(),t.j41(55,"div",4)(56,"a",9),t.nI1(57,"navigationLocalize"),t.j41(58,"div",6)(59,"div",7),t.EFF(60),t.nI1(61,"mytranslate"),t.k0s()()()(),t.j41(62,"div",4)(63,"a",9),t.nI1(64,"navigationLocalize"),t.j41(65,"div",6)(66,"div",7),t.EFF(67),t.nI1(68,"mytranslate"),t.k0s()()()(),t.j41(69,"div",4)(70,"a",9),t.nI1(71,"navigationLocalize"),t.j41(72,"div",6)(73,"div",7),t.EFF(74),t.nI1(75,"mytranslate"),t.k0s()()()()(),t.j41(76,"h2",2),t.EFF(77),t.nI1(78,"mytranslate"),t.k0s(),t.j41(79,"div",3)(80,"div",4)(81,"a",9),t.nI1(82,"navigationLocalize"),t.j41(83,"div",6)(84,"div",7),t.EFF(85),t.nI1(86,"mytranslate"),t.k0s()()()(),t.j41(87,"div",4)(88,"a",9),t.nI1(89,"navigationLocalize"),t.j41(90,"div",6)(91,"div",7),t.EFF(92),t.nI1(93,"mytranslate"),t.k0s()()()()(),t.j41(94,"h2",2),t.EFF(95),t.nI1(96,"mytranslate"),t.k0s(),t.j41(97,"div",3)(98,"div",4)(99,"a",9),t.nI1(100,"navigationLocalize"),t.j41(101,"div",6)(102,"div",7),t.EFF(103),t.nI1(104,"mytranslate"),t.k0s()()()(),t.j41(105,"div",4)(106,"a",9),t.nI1(107,"navigationLocalize"),t.j41(108,"div",6)(109,"div",7),t.EFF(110),t.nI1(111,"mytranslate"),t.k0s()()()(),t.j41(112,"div",4)(113,"a",9),t.nI1(114,"navigationLocalize"),t.j41(115,"div",6)(116,"div",7),t.EFF(117),t.nI1(118,"mytranslate"),t.k0s()()()()(),t.j41(119,"h2",2),t.EFF(120),t.nI1(121,"mytranslate"),t.k0s(),t.j41(122,"div",3)(123,"div",4)(124,"a",9),t.nI1(125,"navigationLocalize"),t.j41(126,"div",6)(127,"div",7),t.EFF(128),t.nI1(129,"mytranslate"),t.k0s()()()()(),t.j41(130,"h2",2),t.EFF(131),t.nI1(132,"mytranslate"),t.k0s(),t.j41(133,"div",3)(134,"div",4)(135,"a",9),t.nI1(136,"navigationLocalize"),t.j41(137,"div",6)(138,"div",7),t.EFF(139),t.nI1(140,"mytranslate"),t.k0s()()()()(),t.j41(141,"h2",2),t.EFF(142),t.nI1(143,"mytranslate"),t.k0s(),t.j41(144,"div",3)(145,"div",4)(146,"a",9),t.nI1(147,"navigationLocalize"),t.j41(148,"div",6)(149,"div",7),t.EFF(150),t.nI1(151,"mytranslate"),t.k0s()()()(),t.j41(152,"div",4)(153,"a",9),t.nI1(154,"navigationLocalize"),t.j41(155,"div",6)(156,"div",7),t.EFF(157),t.nI1(158,"mytranslate"),t.k0s()()()(),t.j41(159,"div",4)(160,"a",9),t.nI1(161,"navigationLocalize"),t.j41(162,"div",6)(163,"div",7),t.EFF(164),t.nI1(165,"mytranslate"),t.k0s()()()(),t.j41(166,"div",4)(167,"a",9),t.nI1(168,"navigationLocalize"),t.j41(169,"div",6)(170,"div",7),t.EFF(171),t.nI1(172,"mytranslate"),t.k0s()()()(),t.j41(173,"div",4)(174,"a",9),t.nI1(175,"navigationLocalize"),t.j41(176,"div",6)(177,"div",7),t.EFF(178),t.nI1(179,"mytranslate"),t.k0s()()()()(),t.j41(180,"h2",2),t.EFF(181),t.nI1(182,"mytranslate"),t.k0s(),t.j41(183,"div",3)(184,"div",4)(185,"a",9),t.nI1(186,"navigationLocalize"),t.j41(187,"div",6)(188,"div",7),t.EFF(189),t.nI1(190,"mytranslate"),t.k0s()()()(),t.j41(191,"div",4)(192,"a",9),t.nI1(193,"navigationLocalize"),t.j41(194,"div",6)(195,"div",7),t.EFF(196),t.nI1(197,"mytranslate"),t.k0s()()()(),t.j41(198,"div",4)(199,"a",9),t.nI1(200,"navigationLocalize"),t.j41(201,"div",6)(202,"div",7),t.EFF(203),t.nI1(204,"mytranslate"),t.k0s()()()(),t.j41(205,"div",4)(206,"a",9),t.nI1(207,"navigationLocalize"),t.j41(208,"div",6)(209,"div",7),t.EFF(210),t.nI1(211,"mytranslate"),t.k0s()()()(),t.j41(212,"div",4)(213,"a",9),t.nI1(214,"navigationLocalize"),t.j41(215,"div",6)(216,"div",7),t.EFF(217),t.nI1(218,"mytranslate"),t.k0s()()()()(),t.j41(219,"h2",2),t.EFF(220),t.nI1(221,"mytranslate"),t.k0s(),t.j41(222,"div",3)(223,"div",4)(224,"a",12),t.nI1(225,"navigationLocalize"),t.j41(226,"div",6)(227,"div",7),t.EFF(228),t.nI1(229,"mytranslate"),t.k0s()()()(),t.j41(230,"div",4)(231,"a",13),t.nI1(232,"navigationLocalize"),t.j41(233,"div",6)(234,"div",7),t.EFF(235),t.nI1(236,"mytranslate"),t.k0s()()()(),t.j41(237,"div",4)(238,"a",14),t.nI1(239,"navigationLocalize"),t.j41(240,"div",6)(241,"div",7),t.EFF(242),t.nI1(243,"mytranslate"),t.k0s()()()(),t.j41(244,"div",4)(245,"a",15),t.nI1(246,"navigationLocalize"),t.j41(247,"div",6)(248,"div",7),t.EFF(249),t.nI1(250,"mytranslate"),t.k0s()()()(),t.j41(251,"div",4)(252,"a",9),t.nI1(253,"navigationLocalize"),t.j41(254,"div",6)(255,"div",7),t.EFF(256),t.nI1(257,"mytranslate"),t.k0s()()()()(),t.j41(258,"h2",2),t.EFF(259),t.nI1(260,"mytranslate"),t.k0s(),t.j41(261,"div",3)(262,"div",4)(263,"a",9),t.nI1(264,"navigationLocalize"),t.j41(265,"div",6)(266,"div",7),t.EFF(267),t.nI1(268,"mytranslate"),t.k0s()()()(),t.j41(269,"div",4)(270,"a",9),t.nI1(271,"navigationLocalize"),t.j41(272,"div",6)(273,"div",7),t.EFF(274),t.nI1(275,"mytranslate"),t.k0s()()()(),t.j41(276,"div",4)(277,"a",9),t.nI1(278,"navigationLocalize"),t.j41(279,"div",6)(280,"div",7),t.EFF(281),t.nI1(282,"mytranslate"),t.k0s()()()(),t.j41(283,"div",4)(284,"a",9),t.nI1(285,"navigationLocalize"),t.j41(286,"div",6)(287,"div",7),t.EFF(288),t.nI1(289,"mytranslate"),t.k0s()()()(),t.j41(290,"div",4)(291,"a",9),t.nI1(292,"navigationLocalize"),t.j41(293,"div",6)(294,"div",7),t.EFF(295),t.nI1(296,"mytranslate"),t.k0s()()()(),t.j41(297,"div",4)(298,"a",9),t.nI1(299,"navigationLocalize"),t.j41(300,"div",6)(301,"div",7),t.EFF(302),t.nI1(303,"mytranslate"),t.k0s()()()(),t.j41(304,"div",4)(305,"a",9),t.nI1(306,"navigationLocalize"),t.j41(307,"div",6)(308,"div",7),t.EFF(309),t.nI1(310,"mytranslate"),t.k0s()()()()(),t.j41(311,"h2",2),t.EFF(312),t.nI1(313,"mytranslate"),t.k0s(),t.j41(314,"div",3)(315,"div",4)(316,"a",9),t.nI1(317,"navigationLocalize"),t.j41(318,"div",6)(319,"div",7),t.EFF(320),t.nI1(321,"mytranslate"),t.k0s()()()(),t.j41(322,"div",4)(323,"a",16),t.nI1(324,"navigationLocalize"),t.j41(325,"div",6)(326,"div",7),t.EFF(327),t.nI1(328,"mytranslate"),t.k0s()()()(),t.j41(329,"div",4)(330,"a",17),t.nI1(331,"navigationLocalize"),t.j41(332,"div",6)(333,"div",7),t.EFF(334),t.nI1(335,"mytranslate"),t.k0s()()()(),t.j41(336,"div",4)(337,"a",18),t.nI1(338,"navigationLocalize"),t.j41(339,"div",6)(340,"div",7),t.EFF(341),t.nI1(342,"mytranslate"),t.k0s()()()(),t.j41(343,"div",4)(344,"a",19),t.nI1(345,"navigationLocalize"),t.j41(346,"div",6)(347,"div",7),t.EFF(348),t.nI1(349,"mytranslate"),t.k0s()()()(),t.j41(350,"div",4)(351,"a",19),t.nI1(352,"navigationLocalize"),t.j41(353,"div",6)(354,"div",7),t.EFF(355),t.nI1(356,"mytranslate"),t.k0s()()()(),t.j41(357,"div",20)(358,"a",21),t.nI1(359,"navigationLocalize"),t.j41(360,"div",6)(361,"div",7),t.EFF(362),t.nI1(363,"mytranslate"),t.k0s()()()()()()()),2&e&&(t.Y8G("headerBackToLink","/admin/dashboard"),t.R7$(3),t.JRh(t.bMT(4,103,"lang_auto_cong_cu_cho_admin")),t.R7$(4),t.Y8G("routerLink",t.eq3(307,w,t.bMT(8,105,"/super-role/support"))),t.R7$(4),t.SpI(" ",t.bMT(12,107,"lang_auto_ho_tro_khach_hang")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(309,w,t.bMT(15,109,"/super-role/add_school"))),t.R7$(4),t.SpI(" ",t.bMT(19,111,"lang_auto_them_truong")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(311,w,t.bMT(22,113,"/super-role/common-guide"))),t.R7$(4),t.SpI(" ",t.bMT(26,115,"lang_admin_common_guide_menu")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(313,w,t.bMT(29,117,"/super-role/add_new_feature_notice"))),t.R7$(4),t.SpI(" ",t.bMT(33,119,"lang_auto_tinh_nang_moi")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(315,w,t.bMT(36,121,"/super-role/short-link-management/1"))),t.R7$(4),t.SpI(" ",t.bMT(40,123,"lang_super_role_short_link_management")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(317,w,t.bMT(43,125,"/super-role/sms-track"))),t.R7$(4),t.SpI(" ",t.bMT(47,127,"lang_super_role_search_sms_track")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(319,w,t.bMT(50,129,"/auth/login-by-zalo"))),t.R7$(4),t.SpI(" ",t.bMT(54,131,"lang_super_role_login_by_zalo")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(321,w,t.bMT(57,133,"/super-role/import-family-question"))),t.R7$(4),t.SpI(" ",t.bMT(61,135,"lang_admin_enter_the_FamilyMark_question")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(323,w,t.bMT(64,137,"/super-role/export-register-for-business"))),t.R7$(4),t.SpI(" ",t.bMT(68,139,"lang_admin_export_register_for_business")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(325,w,t.bMT(71,141,"/super-role/refund-point-management"))),t.R7$(4),t.SpI(" ",t.bMT(75,143,"lang_refund_point_management_title")," "),t.R7$(3),t.JRh(t.bMT(78,145,"Report - B\xe1o c\xe1o")),t.R7$(4),t.Y8G("routerLink",t.eq3(327,w,t.bMT(82,147,"/super-role/vip-fireworks"))),t.R7$(4),t.SpI(" ",t.bMT(86,149,"Vip Countdown")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(329,w,t.bMT(89,151,"/super-role/bigquery-report"))),t.R7$(4),t.SpI(" ",t.bMT(93,153,"Link Th\u1ed1ng k\xea trong BigQuery")," "),t.R7$(3),t.JRh(t.bMT(96,155,"lang_azt_vip_teacher_management")),t.R7$(4),t.Y8G("routerLink",t.eq3(331,w,t.bMT(100,157,"/super-role/vip-teacher-management/1"))),t.R7$(4),t.SpI(" ",t.bMT(104,159,"lang_azt_vip_teacher_management")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(333,w,t.bMT(107,161,"/super-role/vip-invoice-management/1"))),t.R7$(4),t.SpI(" ",t.bMT(111,163,"lang_azt_vip_invoice_management")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(335,w,t.bMT(114,165,"/super-role/transaction-product-management"))),t.R7$(4),t.SpI(" ",t.bMT(118,167,"Mua h\xe0ng th\xe0nh c\xf4ng")," "),t.R7$(3),t.JRh(t.bMT(121,169,"lang_azt_manage_azota_ads")),t.R7$(4),t.Y8G("routerLink",t.eq3(337,w,t.bMT(125,171,"/azota-ads/ads-list/0"))),t.R7$(4),t.SpI(" ",t.bMT(129,173,"lang_azt_manage_ads")," "),t.R7$(3),t.JRh(t.bMT(132,175,"lang_azt_manage_azota_digitalize")),t.R7$(4),t.Y8G("routerLink",t.eq3(339,w,t.bMT(136,177,"/azota-digitalized/list-books"))),t.R7$(4),t.SpI(" ",t.bMT(140,179,"lang_azt_manage_digitalize_book")," "),t.R7$(3),t.JRh(t.bMT(143,181,"lang_azt_product_management")),t.R7$(4),t.Y8G("routerLink",t.eq3(341,w,t.bMT(147,183,"/super-role/product-management"))),t.R7$(4),t.SpI(" ",t.bMT(151,185,"lang_azt_product_list")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(343,w,t.bMT(154,187,"/super-role/product-payment-history"))),t.R7$(4),t.SpI(" ",t.bMT(158,189,"lang_azt_product_payment_history")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(345,w,t.bMT(161,191,"/super-role/product-vendor-management"))),t.R7$(4),t.SpI(" ",t.bMT(165,193,"lang_super_admin_product_vendor_management")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(347,w,t.bMT(168,195,"/student/google-analytics-realtime"))),t.R7$(4),t.SpI(" ",t.bMT(172,197,"lang_super_admin_product_google_analytics_realtime")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(349,w,t.bMT(175,199,"/super-role/template-list"))),t.R7$(4),t.SpI(" ",t.bMT(179,201,"lang_azt_template_list")," "),t.R7$(3),t.JRh(t.bMT(182,203,"lang_tool_manage_azota_tools")),t.R7$(4),t.Y8G("routerLink",t.eq3(351,w,t.bMT(186,205,"/azota-tools/knowledge-tree-statistic/0/0/0"))),t.R7$(4),t.SpI(" ",t.bMT(190,207,"lang_tool_manage_tools_knowledge_tree_statistic")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(353,w,t.bMT(193,209,"/azota-tools/knowledge-tree-classification/0/0/0"))),t.R7$(4),t.SpI(" ",t.bMT(197,211,"lang_tool_manage_tools_knowledge_tree_classification")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(355,w,t.bMT(200,213,"/azota-tools/job-progress-management"))),t.R7$(4),t.SpI(" ",t.bMT(204,215,"lang_core_quan_ly_tien_tring_chay_ngam")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(357,w,t.bMT(207,217,"/azota-tools/auto-suggestion-for-exams"))),t.R7$(4),t.SpI(" ",t.bMT(211,219,"lang_core_suggest_objective_and_difficulty_level")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(359,w,t.bMT(214,221,"/azota-tools/book-management"))),t.R7$(4),t.SpI(" ",t.bMT(218,223,"Qu\u1ea3n l\xfd S\xe1ch")," "),t.R7$(3),t.JRh(t.bMT(221,225,"lang_admin_tool_share_question")),t.R7$(4),t.Y8G("routerLink",t.eq3(361,w,t.bMT(225,227,"/super-role/approve-share-question/1"))),t.R7$(4),t.SpI(" ",t.bMT(229,229,"lang_auto_duyet_chia_se_cau_hoi")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(363,w,t.bMT(232,231,"/super-role/review-question/1"))),t.R7$(4),t.SpI(" ",t.bMT(236,233,"lang_auto_xem_nhan_xet_cau_hoi_chia_se")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(365,w,t.bMT(239,235,"/super-role/approve-withdraw-request/1"))),t.R7$(4),t.SpI(" ",t.bMT(243,237,"lang_test_market_approve_withdraw_request")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(367,w,t.bMT(246,239,"/super-role/share-bank-helper"))),t.R7$(4),t.SpI(" ",t.bMT(250,241,"lang_super_role_share_bank_helper_management")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(369,w,t.bMT(253,243,"/super-role/search-question"))),t.R7$(4),t.SpI(" ",t.bMT(257,245,"lang_super_role_search_question_shared")," "),t.R7$(3),t.JRh(t.bMT(260,247,"lang_super_role_tool_for_business")),t.R7$(4),t.Y8G("routerLink",t.eq3(371,w,t.bMT(264,249,"/super-role/add-new-business"))),t.R7$(4),t.SpI(" ",t.bMT(268,251,"lang_super_role_business_add_general")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(373,w,t.bMT(271,253,"/super-role/common-domain-management/1"))),t.R7$(4),t.SpI(" ",t.bMT(275,255,"lang_super_role_common_domain")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(375,w,t.bMT(278,257,"/super-role/common-resource-management/1"))),t.R7$(4),t.SpI(" ",t.bMT(282,259,"lang_super_role_common_resource")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(377,w,t.bMT(285,261,"/super-role/domain-mapping-management/1"))),t.R7$(4),t.SpI(" ",t.bMT(289,263,"lang_super_role_domain_mapping")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(379,w,t.bMT(292,265,"/super-role/domain-resource-management/0"))),t.R7$(4),t.SpI(" ",t.bMT(296,267,"lang_super_role_domain_resource")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(381,w,t.bMT(299,269,"/super-role/user-domain-management/0"))),t.R7$(4),t.SpI(" ",t.bMT(303,271,"lang_super_role_user_domain")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(383,w,t.bMT(306,273,"/super-role/manage-business-registration/1"))),t.R7$(4),t.SpI(" ",t.bMT(310,275,"lang_azt_manage_business_registration")," "),t.R7$(3),t.JRh(t.bMT(313,277,"lang_auto_cong_cu_cho_dev")),t.R7$(4),t.Y8G("routerLink",t.eq3(385,w,t.bMT(317,279,"/super-role/update-config"))),t.R7$(4),t.SpI(" ",t.bMT(321,281,"lang_auto_sua_cau_hinh")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(387,w,t.bMT(324,283,"/super-role/exception_log"))),t.R7$(4),t.SpI(" ",t.bMT(328,285,"lang_auto_dot_net_exception")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(389,w,t.bMT(331,287,"/super-role/report_exception"))),t.R7$(4),t.SpI(" ",t.bMT(335,289,"lang_auto_js_exception")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(391,w,t.bMT(338,291,"/super-role/gzip-tool"))),t.R7$(4),t.SpI(" ",t.bMT(342,293,"lang_auto_gzip_tool")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(393,w,t.bMT(345,295,"/super-role/json-tool"))),t.R7$(4),t.SpI(" ",t.bMT(349,297,"lang_auto_decode_json_tool")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(395,w,t.bMT(352,299,"/super-role/convert-mysql-xid"))),t.R7$(4),t.SpI(" ",t.bMT(356,301,"lang_admin_convert_mysql_xid_title")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(397,w,t.bMT(359,303,"/super-role/report_error"))),t.R7$(4),t.SpI(" ",t.bMT(363,305,"lang_auto_khach_bao_loi")," "))},dependencies:[y.Wk,O.Q,g.F2,g.wp],styles:[".btn-height[_ngcontent-%COMP%], .box-height[_ngcontent-%COMP%]{height:100%}"]}),s})();var W=u(76627),Xt=u(50065),yt=u(65106),ht=u(25539),Q=u(37497);function cn(n,s){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}let Qt=(()=>{var n;class s extends v._{confirmReason(){let e=this.form.getRawValue(),a=[];e.wronglyFormat&&a.push(this.commonService.myTranslateInstant("lang_shared_question_bank_other_wrongly_format")??""),e.wronglyAnswers&&a.push(this.commonService.myTranslateInstant("lang_shared_question_bank_other_wrongly_answer")??""),a.push(e.reason.toString()),this.dialogRef.close(a)}autoResizeFeedBackArea(){const e=document.getElementById("reasonInput");e&&setTimeout(()=>{e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+10)+"px"},0)}ngOnInit(){super.ngOnInit()}constructor(e){super(void 0,e),this.dialogRef=e,this.form=new r.gE({reason:new r.MJ("",{nonNullable:!0}),wronglyFormat:new r.MJ(!1,{nonNullable:!0}),wronglyAnswers:new r.MJ(!1,{nonNullable:!0})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(c.CP,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["reject-reason-dialog"]],features:[t.Vt3],decls:34,vars:21,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","relative"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto","relative",2,"max-height","calc(100vh - 100px)"],[1,"font-medium","text-lg","text-center","mb-2"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6","mb-2"],[1,"mt-2"],["id","wrongly_format","type","checkbox","formControlName","wronglyFormat",1,"form-check-input"],["for","wrongly_format",2,"vertical-align","middle","cursor","pointer","margin-left","3px"],["id","wrongly_answers","type","checkbox","formControlName","wronglyAnswers",1,"form-check-input"],["for","wrongly_answers",2,"vertical-align","middle","cursor","pointer","margin-left","3px"],["for","reasonInput",1,"form-label"],["id","reasonInput","type","text","cols","20","rows","3","formControlName","reason",1,"form-control","mt-1",3,"keyup"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","reject-reason-dialog-Ccq3ldg7B",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","reject-reason-dialog-p1wKp8YRNI",1,"btn","w-24","btn-primary","mr-2",3,"click","disabled"],[1,"text-xs","text-danger","mt-1"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8),t.nrm(11,"input",9),t.j41(12,"label",10),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"div",7)(16,"div",8),t.nrm(17,"input",11),t.j41(18,"label",12),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()(),t.j41(21,"div",8)(22,"label",13),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"textarea",14),t.bIt("keyup",function(){return a.autoResizeFeedBackArea()}),t.k0s(),t.DNE(26,cn,3,3,"div",15),t.k0s()()()(),t.j41(27,"div",16)(28,"button",17),t.bIt("click",function(){return a.dialogRef.close([])}),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"button",18),t.bIt("click",function(){return a.confirmReason()}),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",t.bMT(6,9,"lang_test_market_submit_reject_reason")," "),t.R7$(2),t.Y8G("formGroup",a.form),t.R7$(6),t.SpI(" ",t.bMT(14,11,"lang_shared_question_bank_other_wrongly_format")," "),t.R7$(6),t.SpI(" ",t.bMT(20,13,"lang_shared_question_bank_other_wrongly_answer")," "),t.R7$(4),t.SpI(" ",t.bMT(24,15,"lang_shared_question_bank_other_reason_reject")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.reason.dirty&&a.form.controls.reason.errors),t.R7$(3),t.SpI(" ",t.bMT(30,17,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",a.form.invalid),t.R7$(),t.SpI(" ",t.bMT(33,19,"lang_button_confirm")," "))},dependencies:[m.bT,r.qT,r.me,r.Zm,r.BC,r.cb,r.j4,r.JD,V.t,g.wp],encapsulation:2}),s})();var dt=u(74978),Ft=u(10933),Dt=u(5955),gt=u(9570);const dn=n=>({"p-5":n}),mn=n=>({"border-b":n});function un(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function pn(n,s){if(1&n&&(t.j41(0,"div",32)(1,"b",33),t.EFF(2),t.k0s(),t.j41(3,"div",34),t.nrm(4,"azt-dynamic-hook",13),t.k0s()()),2&n){let i,e;const a=s.$implicit;t.R7$(2),t.SpI("",null!==(i=a.alpha)&&void 0!==i?i:a.key,"."),t.R7$(2),t.Y8G("content",null!==(e=a.content)&&void 0!==e?e:"")}}function _n(n,s){if(1&n&&(t.j41(0,"div",30),t.DNE(1,pn,5,2,"div",31),t.k0s()),2&n){const i=t.XpG(2);t.Y8G("answerSizeManager",1),t.R7$(),t.Y8G("ngForOf",null==i.obj.question?null:i.obj.question.answers)}}function hn(n,s){if(1&n&&(t.j41(0,"h2",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_dap_an"),": ",null==i.obj.question||null==i.obj.question.answerResult?null:i.obj.question.answerResult.join(", "),"")}}function gn(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_xac_dinh")," "))}function fn(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.nI1(3,"replace"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.SpI("",t.brH(3,4,t.i5U(2,1,i.obj.similarRate?100*i.obj.similarRate:0,"1.0-2"),",","."),"%")}}function bn(n,s){if(1&n&&(t.j41(0,"div",32)(1,"b",33),t.EFF(2),t.k0s(),t.j41(3,"div",34),t.nrm(4,"azt-dynamic-hook",13),t.k0s()()),2&n){let i,e;const a=s.$implicit;t.R7$(2),t.SpI("",null!==(i=a.alpha)&&void 0!==i?i:a.key,"."),t.R7$(2),t.Y8G("content",null!==(e=a.content)&&void 0!==e?e:"")}}function vn(n,s){if(1&n&&(t.j41(0,"div",30),t.DNE(1,bn,5,2,"div",31),t.k0s()),2&n){const i=t.XpG().$implicit;t.Y8G("answerSizeManager",1),t.R7$(),t.Y8G("ngForOf",null==i.question?null:i.question.answers)}}function kn(n,s){if(1&n&&(t.j41(0,"h2",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_dap_an"),": ",null==i.question||null==i.question.answerResult?null:i.question.answerResult.join(", "),"")}}function In(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_xac_dinh")," "))}function jn(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.nI1(3,"replace"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI("",t.brH(3,4,t.i5U(2,1,i.similarRate?100*i.similarRate:0,"1.0-2"),",","."),"%")}}function Rn(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_xac_dinh")," "))}function Sn(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.nI1(3,"replace"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI("",t.brH(3,4,t.i5U(2,1,i.questionsSimilarRate?100*i.questionsSimilarRate:0,"1.0-2"),",","."),"%")}}function Tn(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_xac_dinh")," "))}function yn(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.nI1(3,"replace"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI("",t.brH(3,4,t.i5U(2,1,i.answersSimilarRate?100*i.answersSimilarRate:0,"1.0-2"),",","."),"%")}}function Fn(n,s){if(1&n&&(t.j41(0,"div",36)(1,"div",11)(2,"div",12),t.nrm(3,"azt-dynamic-hook",13),t.k0s(),t.DNE(4,vn,2,2,"div",14)(5,kn,3,4,"h2",15),t.k0s(),t.j41(6,"div",16)(7,"h2",17),t.EFF(8," ID: "),t.j41(9,"b"),t.EFF(10),t.k0s()(),t.j41(11,"h2",37)(12,"b"),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"h2",38),t.EFF(16),t.nI1(17,"mytranslate"),t.j41(18,"b"),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div",19)(22,"h2",39),t.EFF(23),t.nI1(24,"mytranslate"),t.j41(25,"b"),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()(),t.j41(28,"h2",40),t.EFF(29),t.nI1(30,"mytranslate"),t.j41(31,"b"),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()()(),t.j41(34,"h2",18),t.EFF(35),t.nI1(36,"mytranslate"),t.j41(37,"b"),t.DNE(38,In,3,3,"span",22)(39,jn,4,8,"span",22),t.k0s()(),t.j41(40,"h2",41),t.EFF(41),t.nI1(42,"mytranslate"),t.j41(43,"b"),t.DNE(44,Rn,3,3,"span",22)(45,Sn,4,8,"span",22),t.k0s()(),t.j41(46,"h2",41),t.EFF(47),t.nI1(48,"mytranslate"),t.j41(49,"b"),t.DNE(50,Tn,3,3,"span",22)(51,yn,4,8,"span",22),t.k0s()()()()),2&n){let i;const e=s.$implicit,a=s.last,o=t.XpG(2);t.Y8G("ngClass",t.eq3(41,mn,!a)),t.R7$(3),t.Y8G("content",null!==(i=null==e.question?null:e.question.content)&&void 0!==i?i:""),t.R7$(),t.Y8G("ngIf",1==(null==e.question?null:e.question.answerType)&&(null==o.obj.question?null:o.obj.question.answers)&&(null==e.question?null:e.question.answers.length)>0),t.R7$(),t.Y8G("ngIf",null==e.question?null:e.question.answerResult),t.R7$(5),t.JRh(e.questionId),t.R7$(3),t.JRh(t.bMT(14,21,e.knowledgeName)),t.R7$(3),t.SpI(" ",t.bMT(17,23,"lang_auto_muc_do_nhan_biet"),": "),t.R7$(3),t.JRh(t.bMT(20,25,e.questionTagName)),t.R7$(4),t.SpI(" ",t.bMT(24,27,"lang_auto_lop_hoc"),": "),t.R7$(3),t.JRh(t.bMT(27,29,e.levelName)),t.R7$(3),t.SpI(" ",t.bMT(30,31,"lang_auto_mon_hoc"),": "),t.R7$(3),t.JRh(t.bMT(33,33,e.subjectName)),t.R7$(3),t.SpI(" ",t.bMT(36,35,"lang_auto_ty_le_trung"),": "),t.R7$(3),t.Y8G("ngIf",100===e.similarRate),t.R7$(),t.Y8G("ngIf",100!==e.similarRate),t.R7$(2),t.SpI(" ",t.bMT(42,37,"lang_auto_ty_le_trung_question"),": "),t.R7$(3),t.Y8G("ngIf",100===e.questionsSimilarRate),t.R7$(),t.Y8G("ngIf",100!==e.questionsSimilarRate),t.R7$(2),t.SpI(" ",t.bMT(48,39,"lang_auto_ty_le_trung_answer"),": "),t.R7$(3),t.Y8G("ngIf",100===e.answersSimilarRate),t.R7$(),t.Y8G("ngIf",100!==e.answersSimilarRate)}}function wn(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(i);const a=t.XpG(2);return t.Njj(a.closeDialog("approved"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chap_nhan")," "))}function xn(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(i);const a=t.XpG(2);return t.Njj(a.closeDialog("rejected"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_tu_choi")," "))}function Cn(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h2",9),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"div",10)(9,"div",11)(10,"div",12),t.nrm(11,"azt-dynamic-hook",13),t.k0s(),t.DNE(12,_n,2,2,"div",14)(13,hn,3,4,"h2",15),t.k0s(),t.j41(14,"div",16)(15,"h2",17),t.EFF(16," ID: "),t.j41(17,"b"),t.EFF(18),t.k0s()(),t.j41(19,"h2",17)(20,"b"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"h2",18),t.EFF(24),t.nI1(25,"mytranslate"),t.j41(26,"b"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()(),t.j41(29,"div",19)(30,"h2",20),t.EFF(31),t.nI1(32,"mytranslate"),t.j41(33,"b"),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()(),t.j41(36,"h2",21),t.EFF(37),t.nI1(38,"mytranslate"),t.j41(39,"b"),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()()(),t.j41(42,"h2",18),t.EFF(43),t.nI1(44,"mytranslate"),t.j41(45,"b"),t.DNE(46,gn,3,3,"span",22)(47,fn,4,8,"span",22),t.k0s()()()()()(),t.j41(48,"div",23)(49,"h2",24),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s(),t.DNE(52,Fn,52,43,"div",25),t.k0s()()()(),t.j41(53,"div",26)(54,"button",27),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.closeDialog(""))}),t.EFF(55),t.nI1(56,"mytranslate"),t.k0s(),t.DNE(57,wn,3,3,"button",28)(58,xn,3,3,"button",29),t.k0s()}if(2&n){let i;const e=t.XpG();t.R7$(6),t.SpI(" ",t.bMT(7,20,"lang_test_market_question_info")," "),t.R7$(5),t.Y8G("content",null!==(i=null==e.obj.question?null:e.obj.question.content)&&void 0!==i?i:""),t.R7$(),t.Y8G("ngIf",1==(null==e.obj.question?null:e.obj.question.answerType)&&(null==e.obj.question?null:e.obj.question.answers)&&(null==e.obj.question?null:e.obj.question.answers.length)>0),t.R7$(),t.Y8G("ngIf",null==e.obj.question?null:e.obj.question.answerResult),t.R7$(5),t.JRh(e.obj.questionId),t.R7$(3),t.JRh(t.bMT(22,22,e.obj.knowledgeName)),t.R7$(3),t.SpI(" ",t.bMT(25,24,"lang_auto_muc_do_nhan_biet"),": "),t.R7$(3),t.JRh(t.bMT(28,26,e.obj.questionTagName)),t.R7$(4),t.SpI(" ",t.bMT(32,28,"lang_auto_lop_hoc"),": "),t.R7$(3),t.JRh(t.bMT(35,30,e.obj.levelName)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_mon_hoc"),": "),t.R7$(3),t.JRh(t.bMT(41,34,e.obj.subjectName)),t.R7$(3),t.SpI(" ",t.bMT(44,36,"lang_auto_ty_le_trung"),": "),t.R7$(3),t.Y8G("ngIf",100===e.obj.similarRate),t.R7$(),t.Y8G("ngIf",100!==e.obj.similarRate),t.R7$(3),t.SpI(" ",t.bMT(51,38,"lang_share_question_similar_title")," "),t.R7$(2),t.Y8G("ngForOf",e.similarObjs),t.R7$(3),t.SpI(" ",t.bMT(56,40,"lang_button_cancel")," "),t.R7$(2),t.Y8G("ngIf","new"==e.obj.status),t.R7$(),t.Y8G("ngIf","new"==e.obj.status)}}let En=(()=>{var n;class s extends v._{closeDialog(e){this.dialogRef.close(e)}getDataSimilar(){this.loadingRender=!0,this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdSimilarGet(this.obj.questionId??0).subscribe(e=>{if(1==e.success){this.similarObjs=e.data?.objs??[];let a=[];this.similarObjs.forEach(o=>{o.question&&a.push(o.question)}),this.loadQuest(a)}else this.loadingRender=!1,this.errorStatusObj(e.message??"",!0)}))}loadQuest(e){const a=this.commonService.castJsonToClassObjs(ht.I,JSON.stringify(e));this.questionRenderService.parseRenderQuestions(a??[],o=>{},this.configRenderService).then(o=>{for(let l=0;l<this.similarObjs.length;l++)this.similarObjs[l].question=this.commonService.castObj(o[l]);this.loadingRender=!1}).catch(o=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}ngOnInit(){this.data.obj&&this.getDataSimilar(),super.ngOnInit()}constructor(e,a,o,l){super(l,a),this.testMarketQuestionService=e,this.dialogRef=a,this.questionRenderService=o,this.data=l,this.similarObjs=[],this.loadingRender=!1,this.totalShareQuestion=0,this.obj=this.data.obj,this.configRenderService=new yt.y(!0)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.e2),t.rXU(c.CP,8),t.rXU(Ft.g),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["similar-rate-question-dialog"]],features:[t.Vt3],decls:4,vars:5,consts:[["doneLoading",""],[1,"box",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","relative"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto","relative",2,"max-height","calc(100vh - 100px)"],[1,"box","sticky",2,"top","0","left","0","z-index","1000"],[1,"py-2","mt-2"],[1,"font-medium","text-xl","text-center","mb-2"],[1,"grid","grid-cols-12","gap-3","mt-2","py-2","border-slate-200/60","dark:border-darkmode-400"],[1,"col-span-12","md:col-span-8"],[1,"tex2jax_process","box-content",2,"width","auto"],[3,"content"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],[1,"col-span-12","md:col-span-4","border-l","border-slate-200/60","dark:border-darkmode-400","pl-3","py-2"],[1,"text-md","mr-auto"],[1,"text-md","mr-auto","mt-2"],[1,"flex","w-full","mt-2"],[1,"text-md"],[1,"text-md","ml-10"],[4,"ngIf"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","mt-2"],[1,"font-medium","text-xl","text-center","mb-2","mt-2"],["class","grid grid-cols-12 gap-3 mt-2 py-2 border-slate-200/60 dark:border-darkmode-400",3,"ngClass",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","similar-rate-question-BtIoGmVIk",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","similar-rate-question-UPB2MHab0J","class","btn w-24 btn-primary mr-2",3,"click",4,"ngIf"],["azt-track-service","similar-rate-question-xeBCrrzVSY","class","btn w-24 btn-danger",3,"click",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content"],[1,"font-medium","text-md","text-left","text-success","my-2"],[1,"grid","grid-cols-12","gap-3","mt-2","py-2","border-slate-200/60","dark:border-darkmode-400",3,"ngClass"],[1,"text-sm","mr-auto"],[1,"text-sm","mr-auto","mt-2"],[1,"text-sm"],[1,"text-sm","ml-10"],[1,"text-md","mr-auto","mt-1"],["azt-track-service","similar-rate-question-UPB2MHab0J",1,"btn","w-24","btn-primary","mr-2",3,"click"],["azt-track-service","similar-rate-question-xeBCrrzVSY",1,"btn","w-24","btn-danger",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"div",1),t.DNE(1,un,1,1,"azt-loading-effect",2)(2,Cn,59,42,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("ngClass",t.eq3(3,dn,a.loadingRender)),t.R7$(),t.Y8G("ngIf",a.loadingRender)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,A.K,Dt.C,gt.x,m.QX,g.wp,g.Ss],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),s})();var Gt=u(14846),Nt=u(50589),Mn=u(64396),st=u(17818),H=u(22613);const On=()=>({"absolute my-auto inset-y-0 ml-3 mt-2 left-0 z-10 text-slate-500":!0}),$n=()=>({"ml-2":!0}),Ht=()=>({"mr-2":!0}),nt=n=>({"bg-primary text-white no-hover":n});function Dn(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Gn(n,s){1&n&&(t.j41(0,"button",60)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_status_new")," "))}function Nn(n,s){1&n&&(t.j41(0,"button",62)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_status_rejected")," "))}function An(n,s){1&n&&(t.j41(0,"button",63)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_status_approved")," "))}function Pn(n,s){1&n&&(t.j41(0,"button",64)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_khong_xac_dinh")," "))}function zn(n,s){1&n&&(t.j41(0,"button",64)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"<= 25%")," "))}function Ln(n,s){1&n&&(t.j41(0,"button",64)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"<= 50%")," "))}function Vn(n,s){1&n&&(t.j41(0,"button",64)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"<= 75%")," "))}function Bn(n,s){1&n&&(t.j41(0,"button",64)(1,"span",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"> 75%")," "))}function Yn(n,s){1&n&&(t.j41(0,"span",83),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_new")," "))}function Un(n,s){1&n&&(t.j41(0,"span",84),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_approved")," "))}function Jn(n,s){if(1&n&&(t.j41(0,"span",85),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_status_rejected"),"",i.rejectedReason?t.bMT(3,4," - "+i.rejectedReason):"","")}}function qn(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_xac_dinh")," "))}function Xn(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",87),t.bIt("click",function(){t.eBV(i);const a=t.XpG(2).$implicit,o=t.XpG(2);return t.Njj(o.viewSimilarDetail(a))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_test_market_view_question")," "))}function Qn(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.nI1(3,"replace"),t.DNE(4,Xn,3,3,"a",86),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.brH(3,5,t.i5U(2,2,i.similarRate?100*i.similarRate:0,"1.0-2"),",","."),"% "),t.R7$(3),t.Y8G("ngIf",i.similarRate&&100*i.similarRate>0)}}function Hn(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",88),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.showExamDetail(a.examId))}),t.EFF(1),t.k0s()}if(2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI("ExamID: ",i.examId,"")}}function Wn(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",89),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.confirmShareQuestion(a,"approved"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chap_nhan")," "))}function Kn(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",90),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.confirmShareQuestion(a,"rejected"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_tu_choi")," "))}function Zn(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",65)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"div",66),t.nrm(5,"azt-dynamic-hook",67),t.k0s()(),t.j41(6,"td",68),t.DNE(7,Yn,3,3,"span",69)(8,Un,3,3,"span",70)(9,Jn,4,6,"span",71),t.k0s(),t.j41(10,"td"),t.DNE(11,qn,3,3,"span",72)(12,Qn,5,9,"span",72),t.k0s(),t.j41(13,"td"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"td",73),t.EFF(17),t.nI1(18,"mytranslate"),t.j41(19,"span",74),t.EFF(20),t.k0s()(),t.j41(21,"td"),t.EFF(22),t.nI1(23,"mytranslate"),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td")(28,"div",75)(29,"a",76),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.shareBankService.copyContentQuestion(a.question))}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.j41(32,"a",77),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.shareBankService.copyToClipboard(a.questionId))}),t.EFF(33),t.k0s(),t.DNE(34,Hn,2,1,"a",78),t.k0s()(),t.j41(35,"td",79)(36,"div",75)(37,"a",80),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.viewQuestionDetail(a))}),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.DNE(40,Wn,3,3,"a",81)(41,Kn,3,3,"a",82),t.k0s()()()}if(2&n){let i;const e=s.$implicit;t.R7$(2),t.SpI(" ",e.id," "),t.R7$(3),t.Y8G("content",null!==(i=null==e.question?null:e.question.content)&&void 0!==i?i:""),t.R7$(2),t.Y8G("ngIf","new"==e.status),t.R7$(),t.Y8G("ngIf","approved"==e.status),t.R7$(),t.Y8G("ngIf","rejected"==e.status),t.R7$(2),t.Y8G("ngIf",100===e.similarRate),t.R7$(),t.Y8G("ngIf",100!==e.similarRate),t.R7$(2),t.SpI(" ",t.bMT(15,19,e.questionTagName)," "),t.R7$(3),t.SpI(" ",t.bMT(18,21,e.knowledgeName)," "),t.R7$(3),t.SpI("( ID: ",e.knowledgeId,")"),t.R7$(2),t.Lme("",t.bMT(23,23,e.levelName)," - ",t.bMT(24,25,e.subjectName),""),t.R7$(4),t.SpI(" ",e.tenantName," "),t.R7$(4),t.SpI(" ",t.bMT(31,27,"lang_auto_noi_dung")," "),t.R7$(3),t.SpI("ID.Q: ",e.questionId,""),t.R7$(),t.Y8G("ngIf",e.examId),t.R7$(4),t.SpI(" ",t.bMT(39,29,"lang_test_market_view_question")," "),t.R7$(2),t.Y8G("ngIf","rejected"==e.status||"new"==e.status),t.R7$(),t.Y8G("ngIf","approved"==e.status||"new"==e.status)}}function ta(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2",9),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",10)(7,"form",11),t.nrm(8,"lucide-icon",12),t.j41(9,"input",13),t.bIt("keyup.enter",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.getData())}),t.k0s()()()(),t.j41(10,"div",14)(11,"button",15),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.sendMessage())}),t.nrm(12,"lucide-icon",16)(13,"span",17),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"div",18)(17,"div",19)(18,"div",20)(19,"div",21)(20,"button",22),t.nrm(21,"lucide-icon",23),t.j41(22,"span",24),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.DNE(25,Gn,4,3,"button",25)(26,Nn,4,3,"button",26)(27,An,4,3,"button",27),t.k0s(),t.j41(28,"mat-menu",28,1)(30,"div",29)(31,"ul",30)(32,"li")(33,"span",31),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus(void 0))}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()(),t.j41(36,"li")(37,"span",32),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus("new"))}),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s()(),t.j41(40,"li")(41,"span",33),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus("approved"))}),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s()(),t.j41(44,"li")(45,"span",34),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus("rejected"))}),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s()()()()()()(),t.j41(48,"div",35)(49,"div",20)(50,"div",36),t.DNE(51,Pn,4,3,"button",37)(52,zn,4,3,"button",37)(53,Ln,4,3,"button",37)(54,Vn,4,3,"button",37)(55,Bn,4,3,"button",37),t.j41(56,"button",38),t.nrm(57,"lucide-icon",39),t.j41(58,"span",24),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s()()(),t.j41(61,"mat-menu",28,2)(63,"div",29)(64,"ul",30)(65,"li")(66,"span",40),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterSimilar(void 0))}),t.EFF(67),t.nI1(68,"mytranslate"),t.k0s()(),t.j41(69,"li")(70,"span",41),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterSimilar(0))}),t.EFF(71),t.nI1(72,"mytranslate"),t.k0s()(),t.j41(73,"li")(74,"span",42),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterSimilar(25))}),t.EFF(75),t.nI1(76,"mytranslate"),t.k0s()(),t.j41(77,"li")(78,"span",43),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterSimilar(50))}),t.EFF(79),t.nI1(80,"mytranslate"),t.k0s()(),t.j41(81,"li")(82,"span",44),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterSimilar(75))}),t.EFF(83),t.nI1(84,"mytranslate"),t.k0s()(),t.j41(85,"li")(86,"span",45),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterSimilar(80))}),t.EFF(87),t.nI1(88,"mytranslate"),t.k0s()()()()()()()(),t.j41(89,"div",46)(90,"div",47)(91,"table",48)(92,"thead")(93,"tr",49)(94,"th",50),t.EFF(95),t.nI1(96,"mytranslate"),t.k0s(),t.j41(97,"th",51),t.EFF(98),t.nI1(99,"mytranslate"),t.k0s(),t.j41(100,"th",52),t.EFF(101),t.nI1(102,"mytranslate"),t.k0s(),t.j41(103,"th",52),t.EFF(104),t.nI1(105,"mytranslate"),t.k0s(),t.j41(106,"th",52),t.EFF(107),t.nI1(108,"mytranslate"),t.k0s(),t.j41(109,"th",53),t.EFF(110),t.nI1(111,"mytranslate"),t.k0s(),t.j41(112,"th",52),t.EFF(113),t.nI1(114,"mytranslate"),t.nI1(115,"mytranslate"),t.k0s(),t.j41(116,"th",52),t.EFF(117),t.nI1(118,"mytranslate"),t.k0s(),t.j41(119,"th",54),t.EFF(120),t.nI1(121,"mytranslate"),t.k0s(),t.j41(122,"th",54),t.EFF(123),t.nI1(124,"mytranslate"),t.k0s()()(),t.j41(125,"tbody"),t.DNE(126,Zn,42,31,"tr",55),t.k0s()()(),t.j41(127,"div",56)(128,"div",57)(129,"azt-paging",58),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.goToPage(a))}),t.k0s()(),t.j41(130,"div",59),t.EFF(131),t.nI1(132,"mytranslate"),t.k0s()()()()}if(2&n){const i=t.sdS(29),e=t.sdS(62),a=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,53,"lang_auto_danh_sach_cau_hoi_duoc_chia_se")," "),t.R7$(3),t.Y8G("formGroup",a.form),t.R7$(),t.Y8G("ngClass",t.lJ4(105,On)),t.R7$(4),t.Y8G("ngClass",t.lJ4(106,$n)),t.R7$(2),t.SpI(" ",t.bMT(15,55,"lang_super_role_send_notice_approved_question_share")," "),t.R7$(6),t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(107,Ht)),t.R7$(2),t.SpI(" ",t.bMT(24,57,"lang_test_market_filter_status")," "),t.R7$(2),t.Y8G("ngIf","new"==a.fillStatus),t.R7$(),t.Y8G("ngIf","rejected"==a.fillStatus),t.R7$(),t.Y8G("ngIf","approved"==a.fillStatus),t.R7$(6),t.Y8G("ngClass",t.eq3(108,nt,!a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(35,59,"lang_auto_tat_ca")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(110,nt,"new"==a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(39,61,"lang_auto_status_new")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(112,nt,"approved"==a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(43,63,"lang_auto_status_approved")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(114,nt,"rejected"==a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(47,65,"lang_auto_status_rejected")," "),t.R7$(5),t.Y8G("ngIf",0==a.filterSimilarRate),t.R7$(),t.Y8G("ngIf",25==a.filterSimilarRate),t.R7$(),t.Y8G("ngIf",50==a.filterSimilarRate),t.R7$(),t.Y8G("ngIf",75==a.filterSimilarRate),t.R7$(),t.Y8G("ngIf",80==a.filterSimilarRate),t.R7$(),t.Y8G("matMenuTriggerFor",e),t.R7$(),t.Y8G("ngClass",t.lJ4(116,Ht)),t.R7$(2),t.SpI(" ",t.bMT(60,67,"lang_test_market_filter_similar_rate")," "),t.R7$(7),t.Y8G("ngClass",t.eq3(117,nt,null==a.filterSimilarRate)),t.R7$(),t.SpI(" ",t.bMT(68,69,"lang_auto_tat_ca")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(119,nt,0==a.filterSimilarRate)),t.R7$(),t.SpI(" ",t.bMT(72,71,"lang_auto_khong_xac_dinh")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(121,nt,25==a.filterSimilarRate)),t.R7$(),t.SpI(" ",t.bMT(76,73,"<= 25%")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(123,nt,50==a.filterSimilarRate)),t.R7$(),t.SpI(" ",t.bMT(80,75,"<= 50%")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(125,nt,75==a.filterSimilarRate)),t.R7$(),t.SpI(" ",t.bMT(84,77,"<= 75%")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(127,nt,80==a.filterSimilarRate)),t.R7$(),t.SpI(" ",t.bMT(88,79,"> 75%")," "),t.R7$(8),t.SpI(" ",t.bMT(96,81,"lang_auto_ma")," "),t.R7$(3),t.SpI(" ",t.bMT(99,83,"lang_auto_cau_hoi")," "),t.R7$(3),t.SpI(" ",t.bMT(102,85,"lang_auto_trang_thai")," "),t.R7$(3),t.SpI(" ",t.bMT(105,87,"lang_auto_ty_le_trung")," "),t.R7$(3),t.SpI(" ",t.bMT(108,89,"lang_auto_muc_do_nhan_biet")," "),t.R7$(3),t.SpI(" ",t.bMT(111,91,"lang_auto_don_vi_kien_thuc")," "),t.R7$(3),t.Lme("",t.bMT(114,93,"lang_auto_khoi_hoc")," -",t.bMT(115,95,"lang_auto_mon_hoc"),""),t.R7$(4),t.SpI(" ",t.bMT(118,97,"lang_auto_nguoi_chia_se")," "),t.R7$(3),t.SpI(" ",t.bMT(121,99,"lang_auto_sao_chep")," "),t.R7$(3),t.SpI(" ",t.bMT(124,101,"lang_auto_phe_duyet")," "),t.R7$(3),t.Y8G("ngForOf",a.shareQuestionList),t.R7$(3),t.Y8G("pageObj",a.pageObj),t.R7$(2),t.SpI(" ",a.totalShareQuestion+" "+t.bMT(132,103,"lang_auto_cau_hoi")," ")}}let ea=(()=>{var n;class s extends h.H{goToPage(e){this.commonService.myNavigation(`/super-role/approve-share-question/${e}`)}sendMessage(){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsNoticesPost().subscribe(e=>{e.success?this.successStatusObj("lang_super_role_send_notice_successfully",!0):this.errorStatusObj(e.message??"",!0)}))}filterStatus(e){this.fillStatus=e??"",this.browserStorageService.saveSimpleStorage("view_question_filter_admin",e??""),this.pageObj.page=1,this.getData()}filterSimilar(e){this.filterSimilarRate=e??void 0,this.browserStorageService.saveSimpleStorage("similar_rate_question_filter_admin",null!=this.filterSimilarRate?this.filterSimilarRate.toString():""),this.getData()}sendDataConfirm(e,a){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdApprovePut(e??0,a).subscribe(o=>{o.success?(this.showSuccessSnack("approved"===a.status?"lang_auto_chap_nhan_cau_hoi_thanh_cong":"lang_auto_tu_choi_cau_hoi_thanh_cong"),this.getData()):this.errorStatusObj(o.message??"",!0)}))}confirmShareQuestion(e,a){"approved"==a?this.sendDataConfirm(e.questionId??0,{status:a,rejectedReason:""}):this.sAztDialogService.open(Qt,{width:"40vw",restoreFocus:!1}).afterClosed().subscribe(o=>{if(o&&o.length){let l={status:a,rejectedReason:o.join(". ")};this.sendDataConfirm(e.questionId??0,l)}})}viewQuestionDetail(e){this.sAztDialogService.open(Xt._,{width:"700px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{})}viewSimilarDetail(e){this.sAztDialogService.open(En,{width:"90vw",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.confirmShareQuestion(e,o)})}showExamDetail(e){this.initStatusObj(),this.waitDestroy(this.adminSupportService.apiAdminSupportSearchUserGet(void 0,void 0,void 0,void 0,void 0,void 0,void 0,e).subscribe(a=>{if(1==a.success){let o=a.data?.objs,l=a.data?.examObj;o?.length&&l&&o[0].id&&this.loginToThisAccount(o[0].id,l)}else this.errorStatusObj(a.message??"")}))}loginToThisAccount(e,a){this.waitDestroy(this.adminSupportService.apiAdminSupportGetTokenByUserGet(e).subscribe(o=>{1==o.success?(this.redirectByRoleService.redirectLoginByRole(""),this.commonService.myNavigation(`/admin/testbank/exam-results-list/${null!=a?.categoryId?a.categoryId:0}/${a?.id}/0`),this.successStatusObj()):this.errorStatusObj(o.message??"")}))}loadQuest(e){this.loadingRender=!0;const a=this.commonService.castJsonToClassObjs(ht.I,JSON.stringify(e));this.questionRenderService.parseRenderQuestions(a??[],o=>{},this.configRenderService).then(o=>{for(let l=0;l<this.shareQuestionList.length;l++)this.shareQuestionList[l].question=this.commonService.castObj(o[l]);this.loadingRender=!1}).catch(o=>{if(a)for(let l=0;l<this.shareQuestionList.length;l++)this.shareQuestionList[l].question=this.castObj(a[l]);this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}getData(){this.loadingRender=!0;let e=this.form.getRawValue();this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,this.filterSimilarRate&&this.filterSimilarRate>75?75:void 0,this.filterSimilarRate&&this.filterSimilarRate>75?void 0:this.filterSimilarRate,e.searchContent,this.pageObj.page,void 0).subscribe(a=>{if(a.success){this.shareQuestionList=a.data?.objs??[];let o=a.data?.total??1;this.totalShareQuestion=o,this.pageObj.setTotalPages(o);let l=[];this.shareQuestionList.forEach(d=>{d.question&&l.push(d.question)}),this.loadQuest(l),this.successStatusObj()}else this.errorStatusObj(a.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page")));let e=this.browserStorageService.getSimpleStorage("view_question_filter_admin"),a=this.browserStorageService.getSimpleStorage("similar_rate_question_filter_admin");this.fillStatus=e??"",this.filterSimilarRate=""!=a&&Number(a)>=0?Number(a):void 0,this.getData()}))}constructor(e,a,o,l,d,_,M,E){super(),this.shareBankService=e,this.sAztDialogService=a,this.testMarketQuestionService=o,this.activeRoute=l,this.questionRenderService=d,this.browserStorageService=_,this.adminSupportService=M,this.redirectByRoleService=E,this.shareQuestionList=[],this.loadingRender=!1,this.totalShareQuestion=0,this.fillStatus="",this.filterSimilarRate=0,this.pageObj=new Q.d(100),this.configRenderService=new yt.y(!0),this.form=new r.gE({searchContent:new r.MJ("",{nonNullable:!0})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Gt.x),t.rXU(U.i),t.rXU(dt.e2),t.rXU(y.nX),t.rXU(Ft.g),t.rXU(Nt.z),t.rXU(F.su),t.rXU(Mn.b))},n.\u0275cmp=t.VBU({type:n,selectors:[["approve-share-question"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["filterMenu","matMenu"],["similarRateMenu","matMenu"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-10","gap-2","mt-10"],[1,"col-span-5",2,"align-self","center"],[1,"text-lg","font-medium","mb-5"],[1,"w-2/4","relative","mr-auto","mt-3","sm:mt-0"],[3,"formGroup"],["name","search","size","20",3,"ngClass"],["type","text","formControlName","searchContent",1,"form-control","w-full","sm:w-72","box","px-10",3,"keyup.enter"],[1,"col-span-5","text-right",2,"align-self","center"],["azt-track-service","approve-share-question-b01I8W37fO",1,"btn","btn-success","text-white","shadow-md","mr-2","w-44",3,"click"],["name","bell-ring",2,"width","24px !important","height","24px !important","margin-right","5px",3,"ngClass"],[2,"vertical-align","middle"],[1,"grid","grid-cols-10","gap-2","mt-5","mb-2"],[1,"col-span-10","md:col-span-5",2,"align-self","center"],[1,"w-full","text-right"],[1,"filter","flex"],[1,"btn","btn-sm","box","mr-2",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"azt-hidden","md:block"],["class","btn btn-sm btn-pending","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-danger","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-success","style","cursor: default",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","approve-share-question-nPUv3aVr9r",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question-aPZDHLGMCQ",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question-fEWJoLMvm4",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question-1MqzYdFUhG",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],[1,"col-span-10","md:col-span-5","text-right",2,"align-self","center"],[1,"filter","flex",2,"justify-content","flex-end"],["class","btn btn-sm btn-primary","style","cursor: default",4,"ngIf"],[1,"btn","btn-sm","box","ml-2","mr-2",3,"matMenuTriggerFor"],["name","search","size","16",3,"ngClass"],["azt-track-service","approve-share-question-DOn5vOK74y",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question-vGHYdRw5gB",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question-6NU7Ic42Yv",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question-4aed1kRr4a",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question-XKLdbIZViw",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-share-question--96Iu__yOQ",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","1700px"],[1,"uppercase"],[2,"width","50px"],[1,"whitespace-nowrap",2,"width","320px"],[2,"width","100px"],[1,"whitespace-nowrap",2,"width","240px"],[1,"whitespace-nowrap","text-center",2,"width","250px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"w-20","mt-3","sm:mt-0"],[1,"btn","btn-sm","btn-pending",2,"cursor","default"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-danger",2,"cursor","default"],[1,"btn","btn-sm","btn-success",2,"cursor","default"],[1,"btn","btn-sm","btn-primary",2,"cursor","default"],[1,"intro-x"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],[2,"padding-left","15px"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[4,"ngIf"],[2,"word-break","break-word"],[1,"text-pending"],[1,"flex","justify-center","items-center"],["azt-track-service","approve-share-question-BnafoIxwO",1,"btn","btn-sm","btn-outline-info","mr-2",3,"click"],["azt-track-service","approve-share-question-jeZTCVLqP4",1,"btn","btn-sm","btn-outline-info",3,"click"],["azt-track-service","approve-share-question-tPF-mWTTk","class","btn btn-sm btn-outline-info ml-2",3,"click",4,"ngIf"],[1,"table-report__action"],["azt-track-service","approve-share-question-Zzd7OjNLm8",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","approve-share-question-Au2qBMx840","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","approve-share-question-hsEMeqOTmg","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","approve-share-question-gn9IPMhI3","style","cursor: pointer","class","text-sm ml-1 link__color link__hover",3,"click",4,"ngIf"],["azt-track-service","approve-share-question-gn9IPMhI3",1,"text-sm","ml-1","link__color","link__hover",2,"cursor","pointer",3,"click"],["azt-track-service","approve-share-question-tPF-mWTTk",1,"btn","btn-sm","btn-outline-info","ml-2",3,"click"],["azt-track-service","approve-share-question-Au2qBMx840",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","approve-share-question-hsEMeqOTmg",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",3),t.DNE(1,Dn,1,1,"azt-loading-effect",4)(2,ta,133,129,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.loadingRender)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,st.kk,st.Cp,r.j4,r.JD,A.K,H.q,V.t,gt.x,O.Q,j.WGl,m.QX,g.wp,g.Ss],encapsulation:2}),s})();var K=u(81519),Wt=u(34514),Kt=u(99503),Zt=u(79347),ft=u(9691),te=u(39471),ee=u(97839);function na(n,s){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function aa(n,s){if(1&n&&(t.j41(0,"mat-option",51),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function ia(n,s){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function oa(n,s){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function sa(n,s){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function ra(n,s){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function la(n,s){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function ca(n,s){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function da(n,s){if(1&n&&(t.j41(0,"div",53)(1,"div",54),t.nrm(2,"img",55),t.nI1(3,"mycdn"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.Y8G("src",t.bMT(3,1,i),t.B4B)}}function ma(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,da,4,3,"div",52),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.citizenIdImages)}}let ua=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}getBankObjs(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(e=>{e.success?(this.listBanks=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.getBankObjs(),this.citizenIdImages=this.data.transactionInfo.idImages&&this.data.transactionInfo.idImages.length?this.data.transactionInfo.idImages:[],this.currentBankId=this.data.transactionInfo.bankId??1}constructor(e,a,o){super(o,a),this.testMarketQuestionService=e,this.dialogRef=a,this.data=o,this.citizenIdImages=[],this.listBanks=[],this.currentBankId=1,this.maxDate=G.c.maxDateTimePicker,this.form=new r.gE({accountNameControl:new r.MJ({value:this.data.transactionInfo.bankHolder??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required]}),bankId:new r.MJ({value:this.data.transactionInfo.bankId??1,disabled:!0},{nonNullable:!0,validators:[r.k0.required]}),bankNumber:new r.MJ({value:this.data.transactionInfo.bankAccountNumber??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required,r.k0.pattern("^[A-Za-z0-9]*$")]}),address:new r.MJ({value:this.data.transactionInfo.address??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required]}),contactPhone:new r.MJ({value:this.data.transactionInfo.contactPhone??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required,r.k0.pattern("^[0-9]*$"),r.k0.minLength(10)]}),idCard:new r.MJ({value:this.data.transactionInfo.idCard??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required,r.k0.pattern("^[0-9]*$")]}),idIssuedBy:new r.MJ({value:this.data.transactionInfo.idIssuedBy??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required]}),idIssuedAt:new r.MJ({value:this.data.transactionInfo.idIssuedAt?.toString()??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required]}),birthday:new r.MJ({value:this.data.transactionInfo.birthday?.toString()??"",disabled:!0},{nonNullable:!0,validators:[r.k0.required]}),acceptPolicy:new r.MJ(!1,{nonNullable:!0})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.e2),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["view-withdraw-request-detail"]],features:[t.Jv_([{provide:K.$O,useClass:Kt.fb,deps:[at.Ju,Wt.ij]},{provide:K.vq,useFactory:Zt.fJ,deps:[ft.F]}]),t.Vt3],decls:104,vars:71,consts:[["searchInListBank","searchInList"],["idIssuedAt",""],["birthday",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","relative"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto","relative",2,"height","calc(100vh - 100px)"],[1,"font-medium","text-lg","text-center","mb-2"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","400px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline"],["searchInList","","formControlName","bankId","name","bankIdInput",3,"valueChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","max","ngxMatDatetimePicker"],["matSuffix","",2,"font-size","18px"],[1,"w-4","h-4","inline-block"],["name","calendar-clock","size","18"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","view-withdraw-request-detail-Er5a8j-itC","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","view-withdraw-request-detail-ymrRo5OZo5","matSuffix","",2,"font-size","18px",3,"click"],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","view-withdraw-request-detail-ZsfKYEbHOo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"text-xs","text-danger","mt-1"],[3,"value"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h2",7),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"form",8)(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12)(12,"label",13),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.nrm(15,"input",14),t.DNE(16,na,3,3,"div",15),t.k0s(),t.j41(17,"div",12)(18,"label",16),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",17)(22,"mat-select",18,0),t.mxI("valueChange",function(d){return t.eBV(o),t.DH7(a.currentBankId,d)||(a.currentBankId=d),t.Njj(d)}),t.j41(24,"mat-option"),t.nrm(25,"ngx-mat-select-search",19),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.DNE(28,aa,2,2,"mat-option",20),t.k0s()(),t.DNE(29,ia,3,3,"div",15),t.k0s(),t.j41(30,"div",12)(31,"label",21),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.nrm(34,"input",22),t.DNE(35,oa,3,3,"div",15),t.k0s(),t.j41(36,"div",23)(37,"h2",24),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s()(),t.j41(40,"div",12)(41,"label",25),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s(),t.nrm(44,"input",26),t.DNE(45,sa,3,3,"div",15),t.k0s(),t.j41(46,"div",12)(47,"label",27),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.nrm(50,"input",28),t.DNE(51,ra,3,3,"div",15),t.k0s(),t.j41(52,"div",12)(53,"label",29),t.EFF(54),t.nI1(55,"mytranslate"),t.k0s(),t.j41(56,"mat-form-field",30),t.nrm(57,"input",31),t.nI1(58,"mytranslate"),t.j41(59,"button",32)(60,"span",33),t.nrm(61,"lucide-icon",34),t.k0s()(),t.j41(62,"ngx-mat-datetime-picker",35,1)(64,"ngx-mat-datepicker-actions")(65,"button",36),t.EFF(66,"OK"),t.k0s()()()()(),t.j41(67,"div",12)(68,"label",37),t.EFF(69),t.nI1(70,"mytranslate"),t.k0s(),t.j41(71,"mat-form-field",30)(72,"input",38),t.nI1(73,"mytranslate"),t.bIt("click",function(){t.eBV(o);const d=t.sdS(78);return t.Njj(d.open())}),t.k0s(),t.j41(74,"button",39),t.bIt("click",function(d){return t.eBV(o),t.sdS(78).open(),t.Njj(d.stopPropagation())}),t.j41(75,"span",33),t.nrm(76,"lucide-icon",34),t.k0s()(),t.j41(77,"ngx-mat-datetime-picker",35,2)(79,"ngx-mat-datepicker-actions")(80,"button",36),t.EFF(81,"OK"),t.k0s()()()()(),t.j41(82,"div",12)(83,"label",40),t.EFF(84),t.nI1(85,"mytranslate"),t.k0s(),t.nrm(86,"input",41),t.DNE(87,la,3,3,"div",15),t.k0s(),t.j41(88,"div",12)(89,"label",42),t.EFF(90),t.nI1(91,"mytranslate"),t.k0s(),t.nrm(92,"input",43),t.DNE(93,ca,3,3,"div",15),t.k0s()(),t.j41(94,"div",44)(95,"div",45)(96,"h2",46),t.EFF(97),t.nI1(98,"mytranslate"),t.k0s()(),t.DNE(99,ma,2,1,"div",47),t.k0s()()()()()()(),t.j41(100,"div",48)(101,"button",49),t.bIt("click",function(){return t.eBV(o),t.Njj(a.closeDialog())}),t.EFF(102),t.nI1(103,"mytranslate"),t.k0s()()()}if(2&e){const o=t.sdS(23),l=t.sdS(63),d=t.sdS(78);t.R7$(5),t.SpI(" ",t.bMT(6,37,"lang_test_market_bank_information")," "),t.R7$(2),t.Y8G("formGroup",a.form),t.R7$(6),t.SpI(" ",t.bMT(14,39,"lang_test_market_bankHolder")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.accountNameControl.dirty&&a.form.controls.accountNameControl.errors),t.R7$(3),t.SpI(" ",t.bMT(20,41,"lang_test_market_bankName")," "),t.R7$(3),t.R50("value",a.currentBankId),t.R7$(3),t.FS9("placeholderLabel",t.bMT(26,43,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(27,45,"lang_search_not_found")),t.Y8G("formControl",o.searchControl),t.R7$(3),t.Y8G("ngForOf",o.filter(a.listBanks,"name")),t.R7$(),t.Y8G("ngIf",a.form.controls.bankId.dirty&&a.form.controls.bankId.errors),t.R7$(3),t.SpI(" ",t.bMT(33,47,"lang_test_market_bankNumber")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.bankNumber.dirty&&a.form.controls.bankNumber.errors),t.R7$(3),t.SpI(" ",t.bMT(39,49,"lang_test_market_personal_information")," "),t.R7$(4),t.SpI(" ",t.bMT(43,51,"lang_test_market_citizen_id")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.idCard.dirty&&a.form.controls.idCard.errors),t.R7$(3),t.SpI(" ",t.bMT(49,53,"lang_test_market_issued_by")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.idIssuedBy.dirty&&a.form.controls.idIssuedBy.errors),t.R7$(3),t.SpI(" ",t.bMT(55,55,"lang_test_market_issued_at")," "),t.R7$(3),t.FS9("placeholder",t.bMT(58,57,"lang_test_market_issued_at")),t.Y8G("max",a.maxDate)("ngxMatDatetimePicker",l),t.R7$(5),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(7),t.SpI(" ",t.bMT(70,59,"lang_auto_ngay_sinh")," "),t.R7$(3),t.FS9("placeholder",t.bMT(73,61,"lang_auto_ngay_sinh")),t.Y8G("max",a.maxDate)("ngxMatDatetimePicker",d),t.R7$(5),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(7),t.SpI(" ",t.bMT(85,63,"lang_number_phone")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.contactPhone.dirty&&a.form.controls.contactPhone.errors),t.R7$(3),t.SpI(" ",t.bMT(91,65,"lang_test_market_address")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.address.dirty&&a.form.controls.address.errors),t.R7$(4),t.SpI(" ",t.bMT(98,67,"lang_test_market_upload_citizenID_images")," "),t.R7$(2),t.Y8G("ngIf",a.citizenIdImages.length>0),t.R7$(3),t.SpI(" ",t.bMT(103,69,"lang_button_cancel")," ")}},dependencies:[m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,at.wT,te.$z,ee.fg,et.rl,et.yw,lt.VO,K.m7,K.yF,K.HF,K.Uq,r.l_,r.j4,r.JD,V.t,pt.x,j.WGl,$.U9,g.wp,g.nf],encapsulation:2}),s})();var ne=u(10296),L=u(52811),pa=u(67638);const _a=["table"];function ha(n,s){1&n&&(t.j41(0,"span",7),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_new")," "))}function ga(n,s){1&n&&(t.j41(0,"span",8),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_approved")," "))}function fa(n,s){1&n&&(t.j41(0,"span",8),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_settled")," "))}function ba(n,s){if(1&n&&(t.j41(0,"span",9),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"lang_auto_status_rejected"),"",null!=i&&i.rejectedReason?t.bMT(3,4," - "+(null==i?null:i.rejectedReason)):""," ")}}function va(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",2),t.EFF(2),t.nI1(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(4,"td",2),t.DNE(5,ha,3,3,"span",4)(6,ga,3,3,"span",5)(7,fa,3,3,"span",5)(8,ba,4,6,"span",6),t.k0s(),t.j41(9,"td",2)(10,"b"),t.EFF(11),t.nI1(12,"number"),t.k0s()(),t.j41(13,"td",2),t.EFF(14),t.k0s(),t.j41(15,"td",2),t.EFF(16),t.k0s(),t.j41(17,"td",2),t.EFF(18),t.k0s(),t.j41(19,"td",2),t.EFF(20),t.k0s(),t.j41(21,"td",2),t.EFF(22),t.k0s(),t.j41(23,"td",2),t.EFF(24),t.nI1(25,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(26,"td",2),t.EFF(27),t.k0s(),t.j41(28,"td",2),t.EFF(29),t.k0s()()),2&n){const i=s.$implicit,e=s.index,a=t.XpG();t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",0)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",t.bMT(3,47,null==i?null:i.createdAt)," "),t.R7$(2),t.BMQ("excelRow",e+1)("excelColumn",1)("excelStyle",a.styleTdNormalLeft),t.R7$(),t.Y8G("ngIf","new"==(null==i?null:i.status)),t.R7$(),t.Y8G("ngIf","approved"==(null==i?null:i.status)),t.R7$(),t.Y8G("ngIf","settled"==(null==i?null:i.status)),t.R7$(),t.Y8G("ngIf","rejected"==(null==i?null:i.status)),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",2)("excelStyle",a.styleTdNotNumberNormal),t.R7$(2),t.SpI("",t.bMT(12,49,null==i?null:i.amount),"\u0111"),t.R7$(2),t.BMQ("excelRow",e+1)("excelColumn",3)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",null==i?null:i.bankHolder," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",4)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",null==i?null:i.bankName," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",5)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",null==i?null:i.bankAccountNumber," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",6)("excelStyle",a.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",null==i?null:i.idCard," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",7)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",null==i?null:i.idIssuedBy," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",8)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",t.bMT(25,51,null==i?null:i.idIssuedAt)," "),t.R7$(2),t.BMQ("excelRow",e+1)("excelColumn",9)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",null==i?null:i.contactPhone," "),t.R7$(),t.BMQ("excelRow",e+1)("excelColumn",10)("excelStyle",a.styleTdNormal),t.R7$(),t.SpI(" ",null==i?null:i.address," ")}}let ka=(()=>{var n;class s extends h.H{ngOnChanges(){this.appendObjs=[],this.isExported=!1;let a=7-(this.objs?.length??0);if(a>0)for(let o=0;o<a;o++)this.appendObjs.push(void 0)}ngAfterViewChecked(){0==this.isExported&&(this.isExported=!0,setTimeout(()=>{this.exportDataDone.emit(this.exportExcelService.exportHtmlTableToExcelBlob(this.table,!0))},0))}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.exportExcelService=e,this.exportDataDone=new t.bkB,this.appendObjs=[],this.commentObjs=[],this.isExported=!1,this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleTdErrorLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNotNumberError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}},"isText":"1"}'}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(pa.x))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-export-excel-for-withdraw-request"]],viewQuery:function(e,a){if(1&e&&t.GBs(_a,5),2&e){let o;t.mGM(o=t.lsd())&&(a.table=o.first)}},inputs:{objs:"objs"},outputs:{exportDataDone:"exportDataDone"},features:[t.Vt3,t.OA$],decls:39,vars:78,consts:[["table",""],[1,"table","table-bordered",2,"display","none"],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"]],template:function(e,a){1&e&&(t.j41(0,"table",1,0)(2,"thead")(3,"tr")(4,"th",2),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",2),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",2),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",2),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",2),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",2),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"th",2),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"th",2),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"th",2),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"th",2),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"th",2),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s()()(),t.j41(37,"tbody"),t.DNE(38,va,30,53,"tr",3),t.k0s()()),2&e&&(t.R7$(4),t.BMQ("excelWidth",25)("excelRow",0)("excelColumn",0)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(6,56,"lang_test_market_withdraw_time")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(9,58,"lang_auto_trang_thai")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(12,60,"lang_test_market_withdraw_amount_withdrawn")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(15,62,"lang_test_market_bankHolder")," "),t.R7$(2),t.BMQ("excelWidth",25)("excelRow",0)("excelColumn",4)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(18,64,"lang_test_market_bankName")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(21,66,"lang_test_market_bankNumber")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(24,68,"lang_test_market_citizen_id")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",7)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(27,70,"lang_test_market_issued_by")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",8)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(30,72,"lang_test_market_issued_at")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",9)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(33,74,"lang_auto_so_dien_thoai")," "),t.R7$(2),t.BMQ("excelWidth",30)("excelRow",0)("excelColumn",10)("excelStyle",a.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(36,76,"lang_test_market_address")," "),t.R7$(3),t.Y8G("ngForOf",a.objs.concat(a.appendObjs)))},dependencies:[m.Sq,m.bT,m.QX,g.wp,g.bH],encapsulation:2}),s})();const Ia=()=>({"mr-2":!0}),wt=n=>({"bg-primary text-white no-hover":n});function ja(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",4),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Ra(n,s){1&n&&(t.j41(0,"div",44)(1,"span",45),t.nrm(2,"azt-loading-ui"),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_tap_tin_dang_duoc_tai_xuong")," "))}function Sa(n,s){1&n&&(t.j41(0,"button",46)(1,"span",47),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_status_new")," "))}function Ta(n,s){1&n&&(t.j41(0,"button",48)(1,"span",47),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_status_rejected")," "))}function ya(n,s){1&n&&(t.j41(0,"button",49)(1,"span",47),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_status_approved")," "))}function Fa(n,s){1&n&&(t.j41(0,"button",49)(1,"span",47),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_status_settled")," "))}function wa(n,s){1&n&&(t.j41(0,"span",62),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_new")," "))}function xa(n,s){1&n&&(t.j41(0,"span",63),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_approved")," "))}function Ca(n,s){1&n&&(t.j41(0,"span",63),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_settled")," "))}function Ea(n,s){if(1&n&&(t.j41(0,"span",64),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_status_rejected"),"",i.rejectedReason?t.bMT(3,4," - "+i.rejectedReason):"","")}}function Ma(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",65),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.confirmRequest(a,"settled"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chap_nhan")," "))}function Oa(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",66),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.confirmRequest(a,"rejected"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_tu_choi")," "))}function $a(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",50)(1,"td",51),t.EFF(2),t.k0s(),t.j41(3,"td",52),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td",53),t.DNE(7,wa,3,3,"span",54)(8,xa,3,3,"span",55)(9,Ca,3,3,"span",55)(10,Ea,4,6,"span",56),t.k0s(),t.j41(11,"td")(12,"b"),t.EFF(13),t.nI1(14,"number"),t.k0s()(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td"),t.EFF(22),t.k0s(),t.j41(23,"td"),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.nI1(27,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(28,"td"),t.EFF(29),t.k0s(),t.j41(30,"td",51),t.EFF(31),t.k0s(),t.j41(32,"td",57)(33,"div",58)(34,"a",59),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.viewRequestDetail(a))}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.DNE(37,Ma,3,3,"a",60)(38,Oa,3,3,"a",61),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.SpI(" ",i.userId," "),t.R7$(2),t.SpI(" ",t.bMT(5,18,i.createdAt)," "),t.R7$(3),t.Y8G("ngIf","new"==i.status),t.R7$(),t.Y8G("ngIf","approved"==i.status),t.R7$(),t.Y8G("ngIf","settled"==i.status),t.R7$(),t.Y8G("ngIf","rejected"==i.status),t.R7$(3),t.SpI("",t.bMT(14,20,i.amount),"\u0111"),t.R7$(3),t.SpI(" ",i.bankHolder," "),t.R7$(2),t.SpI(" ",i.bankName," "),t.R7$(2),t.SpI(" ",i.bankAccountNumber," "),t.R7$(2),t.SpI(" ",i.idCard," "),t.R7$(2),t.SpI(" ",i.idIssuedBy," "),t.R7$(2),t.SpI(" ",t.bMT(27,22,i.idIssuedAt)," "),t.R7$(3),t.SpI(" ",i.contactPhone," "),t.R7$(2),t.SpI(" ",i.address," "),t.R7$(4),t.SpI(" ",t.bMT(36,24,"lang_test_market_view_question")," "),t.R7$(2),t.Y8G("ngIf","new"==i.status),t.R7$(),t.Y8G("ngIf","new"==i.status)}}function Da(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-export-excel-for-withdraw-request",67),t.bIt("exportDataDone",function(a){t.eBV(i);const o=t.XpG(2);return t.Njj(o.exportDone(a))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("objs",i.requestListExport)}}function Ga(n,s){if(1&n){const i=t.RV6();t.DNE(0,Ra,5,3,"div",5),t.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"h2",9),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",10)(8,"button",11),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.exportExcel())}),t.nrm(9,"lucide-icon",12)(10,"span",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()(),t.j41(13,"div",14)(14,"div",15)(15,"div",16)(16,"div",17)(17,"button",18),t.nrm(18,"lucide-icon",19),t.j41(19,"span",20),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()(),t.DNE(22,Sa,4,3,"button",21)(23,Ta,4,3,"button",22)(24,ya,4,3,"button",23)(25,Fa,4,3,"button",23),t.k0s(),t.j41(26,"mat-menu",24,1)(28,"div",25)(29,"ul",26)(30,"li")(31,"span",27),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus(void 0))}),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()(),t.j41(34,"li")(35,"span",28),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus("new"))}),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()(),t.j41(38,"li")(39,"span",29),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus("settled"))}),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"span",30),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus("rejected"))}),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s()()()()()()()(),t.j41(46,"div",31)(47,"div",32)(48,"table",33)(49,"thead")(50,"tr",34)(51,"th",35),t.EFF(52),t.nI1(53,"mytranslate"),t.k0s(),t.j41(54,"th",36),t.EFF(55),t.nI1(56,"mytranslate"),t.k0s(),t.j41(57,"th",36),t.EFF(58),t.nI1(59,"mytranslate"),t.k0s(),t.j41(60,"th",36),t.EFF(61),t.nI1(62,"mytranslate"),t.k0s(),t.j41(63,"th",36),t.EFF(64),t.nI1(65,"mytranslate"),t.k0s(),t.j41(66,"th",36),t.EFF(67),t.nI1(68,"mytranslate"),t.k0s(),t.j41(69,"th",36),t.EFF(70),t.nI1(71,"mytranslate"),t.k0s(),t.j41(72,"th",36),t.EFF(73),t.nI1(74,"mytranslate"),t.k0s(),t.j41(75,"th",36),t.EFF(76),t.nI1(77,"mytranslate"),t.k0s(),t.j41(78,"th",36),t.EFF(79),t.nI1(80,"mytranslate"),t.k0s(),t.j41(81,"th",36),t.EFF(82),t.nI1(83,"mytranslate"),t.k0s(),t.j41(84,"th",36),t.EFF(85),t.nI1(86,"mytranslate"),t.k0s(),t.j41(87,"th",37),t.EFF(88),t.nI1(89,"mytranslate"),t.k0s()()(),t.j41(90,"tbody"),t.DNE(91,$a,39,26,"tr",38),t.k0s()()(),t.j41(92,"div",39)(93,"div",40)(94,"azt-paging",41),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.goToPage(a))}),t.k0s()(),t.j41(95,"div",42),t.EFF(96),t.nI1(97,"mytranslate"),t.k0s()()()(),t.DNE(98,Da,1,1,"azt-export-excel-for-withdraw-request",43)}if(2&n){const i=t.sdS(27),e=t.XpG();t.Y8G("ngIf",e.exportLoading),t.R7$(5),t.SpI(" ",t.bMT(6,35,"lang_test_market_list_withdraw_request")," "),t.R7$(6),t.SpI(" ",t.bMT(12,37,"lang_homework_homework_score_list_export_excel")," "),t.R7$(6),t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(77,Ia)),t.R7$(2),t.SpI(" ",t.bMT(21,39,"lang_test_market_filter_status")," "),t.R7$(2),t.Y8G("ngIf","new"==e.fillStatus),t.R7$(),t.Y8G("ngIf","rejected"==e.fillStatus),t.R7$(),t.Y8G("ngIf","approved"==e.fillStatus),t.R7$(),t.Y8G("ngIf","settled"==e.fillStatus),t.R7$(6),t.Y8G("ngClass",t.eq3(78,wt,!e.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(33,41,"lang_auto_tat_ca")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(80,wt,"new"==e.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(37,43,"lang_auto_status_new")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(82,wt,"settled"==e.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(41,45,"lang_auto_status_settled")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(84,wt,"rejected"==e.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(45,47,"lang_auto_status_rejected")," "),t.R7$(8),t.SpI(" ",t.bMT(53,49,"Azota_UserId")," "),t.R7$(3),t.SpI(" ",t.bMT(56,51,"lang_test_market_withdraw_time")," "),t.R7$(3),t.SpI(" ",t.bMT(59,53,"lang_auto_trang_thai")," "),t.R7$(3),t.SpI(" ",t.bMT(62,55,"lang_test_market_withdraw_amount_withdrawn")," "),t.R7$(3),t.SpI(" ",t.bMT(65,57,"lang_test_market_bankHolder")," "),t.R7$(3),t.SpI(" ",t.bMT(68,59,"lang_test_market_bankName")," "),t.R7$(3),t.SpI(" ",t.bMT(71,61,"lang_test_market_bankNumber")," "),t.R7$(3),t.SpI(" ",t.bMT(74,63,"lang_test_market_citizen_id")," "),t.R7$(3),t.SpI(" ",t.bMT(77,65,"lang_test_market_issued_by")," "),t.R7$(3),t.SpI(" ",t.bMT(80,67,"lang_test_market_issued_at")," "),t.R7$(3),t.SpI(" ",t.bMT(83,69,"lang_auto_so_dien_thoai")," "),t.R7$(3),t.SpI(" ",t.bMT(86,71,"lang_test_market_address")," "),t.R7$(3),t.SpI(" ",t.bMT(89,73,"lang_auto_phe_duyet")," "),t.R7$(3),t.Y8G("ngForOf",e.requestList),t.R7$(3),t.Y8G("pageObj",e.pageObj),t.R7$(2),t.SpI(" ",e.totalRequest+" "+t.bMT(97,75,"lang_test_market_total_withdraw_request")," "),t.R7$(2),t.Y8G("ngIf",e.requestListExport&&e.requestListExport.length)}}let Na=(()=>{var n;class s extends h.H{constructor(e,a,o,l,d){super(),this.shareFileFlutterService=e,this.testMarketQuestionService=a,this.activeRoute=o,this.sAztDialogService=l,this.browserStorageService=d,this.requestList=[],this.totalPage=0,this.totalRequest=0,this.fillStatus="",this.exportLoading=!1,this.pageObj=new Q.d(100)}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page")));let e=this.browserStorageService.getSimpleStorage("view_withdraw_filter_admin");this.fillStatus=e??"",this.getData()}))}filterStatus(e){this.fillStatus=e??"",this.browserStorageService.saveSimpleStorage("view_withdraw_filter_admin",e??""),this.pageObj.page=1,this.getData()}exportExcel(){this.exportLoading=!0,this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet(this.fillStatus??void 0,void 0,0,0).subscribe(e=>{e.success?(this.requestListExport=e.data?.objs??[],this.successStatusObj()):(this.exportLoading=!1,this.errorStatusObj(e.message??"",!0))}))}exportDone(e){let a=this.commonService.createFileNameExportFile(["withdrawal-request"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,a),this.requestListExport=[],setTimeout(()=>{this.exportLoading=!1},1e3)}sendDataConfirm(e,a){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsIdApprovePut(e,a).subscribe(o=>{o.success?(this.showSuccessSnack("settled"==a.status?"lang_test_market_settle_request_successfully":"lang_test_market_reject_request_successfully"),this.getData()):this.errorStatusObj(o.message??"",!0)}))}confirmRequest(e,a){"settled"==a?this.sendDataConfirm(e.id??0,{status:a,rejectedReason:""}):this.sAztDialogService.open(Qt,{width:"40vw",data:{},restoreFocus:!1}).afterClosed().subscribe(o=>{if(o){let l={status:a,rejectedReason:o.join(". ")};this.sendDataConfirm(e.id??0,l)}})}viewRequestDetail(e){this.sAztDialogService.open(ua,{width:"750px",data:{transactionInfo:e},restoreFocus:!1})}getData(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet(this.fillStatus??void 0,void 0,this.pageObj.page,this.pageObj.pageSize).subscribe(e=>{if(e.success){this.requestList=e.data?.objs??[];let a=e.data?.total??1;this.totalRequest=a,this.pageObj.setTotalPages(a),this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}goToPage(e){this.commonService.myNavigation(`/super-role/approve-withdraw-request/${e}`)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.R),t.rXU(dt.e2),t.rXU(y.nX),t.rXU(U.i),t.rXU(Nt.z))},n.\u0275cmp=t.VBU({type:n,selectors:[["approve-withdraw-request"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["filterMenu","matMenu"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","text-center","style","padding-top: 215px; font-size: 20px; background-color: rgba(0, 0, 0, 0.575); color: #fff; position: fixed; top: 0; right: 0; left: 0; bottom: 0; z-index: 9999999999",4,"ngIf"],[1,"approve-share-question"],[1,"grid","grid-cols-10","gap-2","mt-10"],[1,"col-span-5",2,"align-self","center"],[1,"text-lg","font-medium"],[1,"col-span-5","text-right",2,"align-self","center"],["azt-track-service","approve-withdraw-request-Ug5lH-JSX",1,"btn","btn-sm","btn-outline-primary","shadow-md","mr-2","w-36",3,"click"],["name","file-down",2,"width","16px !important","height","16px !important","margin-right","5px"],[2,"vertical-align","middle"],[1,"grid","grid-cols-10","gap-2","mt-5","mb-2"],[1,"col-span-10",2,"align-self","center"],[1,"w-full","text-right"],[1,"filter","flex"],[1,"btn","btn-sm","box","mr-2",3,"matMenuTriggerFor"],["name","search","size","16",3,"ngClass"],[1,"azt-hidden","md:block"],["class","btn btn-sm btn-pending","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-danger","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-success","style","cursor: default",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","approve-withdraw-request-H6xXGHOeZ",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-withdraw-request-JpfHUoj9c0",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-withdraw-request-9KmAeypBCs",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","approve-withdraw-request--yIHvUErUD",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","1800px"],[1,"uppercase"],[1,"whitespace-nowrap","text-center",2,"width","50px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","240px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"w-20","mt-3","sm:mt-0"],[3,"objs","exportDataDone",4,"ngIf"],[1,"text-center",2,"padding-top","215px","font-size","20px","background-color","rgba(0, 0, 0, 0.575)","color","#fff","position","fixed","top","0","right","0","left","0","bottom","0","z-index","9999999999"],[1,"w-4","h-4","inline-block","mr-2"],[1,"btn","btn-sm","btn-pending",2,"cursor","default"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-danger",2,"cursor","default"],[1,"btn","btn-sm","btn-success",2,"cursor","default"],[1,"intro-x"],[2,"word-break","break-word"],[1,"w-90"],[2,"padding-left","15px"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"table-report__action"],[1,"flex","justify-center","items-center"],["azt-track-service","approve-withdraw-request-OOj6wcRNjJ",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","approve-withdraw-request-dfMprQNxcg","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","approve-withdraw-request-rfxhTddZtr","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","approve-withdraw-request-dfMprQNxcg",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","approve-withdraw-request-rfxhTddZtr",1,"btn","btn-sm","btn-outline-danger",3,"click"],[3,"exportDataDone","objs"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",2),t.DNE(1,ja,1,1,"azt-loading-effect",3)(2,Ga,99,86,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,st.kk,st.Cp,A.K,H.q,L.R,ka,O.Q,j.WGl,m.QX,g.wp,g.bH],encapsulation:2}),s})();var Aa=u(59492);function Pa(n,s){if(1&n&&(t.j41(0,"div",7),t.EFF(1),t.j41(2,"a",8),t.EFF(3),t.k0s()()),2&n){const i=s.$implicit,e=s.index;t.R7$(),t.SpI(" ",e+1,". "),t.R7$(),t.Y8G("href",i.link,t.B4B),t.R7$(),t.JRh(i.text)}}let za=(()=>{var n;class s extends h.H{initData(e){this.waitDestroy(this.bigQueryReportService.apiBigQueryReportGetObjGet(e).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.objs=a.data?.objs??[]}))}ngOnInit(){super.ngOnInit();let e=this.commonService.getMyQueryParam("token")??"zzz";this.initData(e)}constructor(){super(),this.bigQueryReportService=(0,t.WQX)(Aa.s),this.objs=[]}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-admin-bigquery-report"]],features:[t.Vt3],decls:10,vars:5,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"text-lg"],[1,"mb-3","mt-3"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],["target","_blank",1,"link-color",3,"href"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.nrm(8,"hr",5),t.DNE(9,Pa,4,3,"div",6),t.k0s()()()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(6),t.JRh(t.bMT(7,3,"C\xe1c report tr\xean BigQuery")),t.R7$(3),t.Y8G("ngForOf",a.objs))},dependencies:[m.Sq,O.Q,g.wp],encapsulation:2}),s})();var J=u(15766);function La(n,s){1&n&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Va(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.controls.phoneOrEmail.value?i.controls.phoneOrEmail.value:t.bMT(2,1,"lang_super_has_not_entered_phone_or_email")," ")}}function Ba(n,s){1&n&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Ya(n,s){1&n&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Ua(n,s){if(1&n){const i=t.RV6();t.j41(0,"mat-tab",33),t.DNE(1,Va,3,3,"ng-template",34),t.j41(2,"div",2)(3,"div",35)(4,"button",36),t.bIt("click",function(){const a=t.eBV(i).index,o=t.XpG();return t.Njj(o.removeUserDomain(a))}),t.j41(5,"span",37),t.nrm(6,"lucide-icon",38),t.k0s(),t.j41(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"div",39)(11,"label",40),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",41),t.DNE(15,Ba,3,3,"div",11),t.k0s(),t.j41(16,"div",39)(17,"label",40),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",42),t.nrm(21,"input",43),t.j41(22,"button",44),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.generateRandomPassword(a.controls.password))}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.DNE(25,Ya,3,3,"div",11),t.k0s(),t.j41(26,"div",39)(27,"div",45)(28,"div",46),t.nrm(29,"input",47),t.k0s(),t.j41(30,"label",48),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()(),t.j41(33,"div",39)(34,"div",45)(35,"div",46),t.nrm(36,"input",49),t.k0s(),t.j41(37,"label",50),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s()()()()()}if(2&n){const i=s.$implicit,e=s.index,a=t.XpG();t.R7$(2),t.Y8G("formGroup",i),t.R7$(2),t.Y8G("disabled",0===e&&1===a.form.controls.userObjs.controls.length),t.R7$(4),t.JRh(t.bMT(9,10,"lang_student_classroom_list_delete")),t.R7$(4),t.SpI(" ",t.bMT(13,12,"lang_super_role_user_domain_phone_or_email")," "),t.R7$(3),t.Y8G("ngIf",i.controls.phoneOrEmail.errors),t.R7$(3),t.SpI(" ",t.bMT(19,14,"lang_super_role_user_domain_password")," "),t.R7$(5),t.SpI(" ",t.bMT(24,16,"lang_super_role_random_password")," "),t.R7$(2),t.Y8G("ngIf",i.controls.password.errors),t.R7$(6),t.SpI(" ",t.bMT(32,18,"lang_super_role_user_domain_is_admin")," "),t.R7$(7),t.SpI(" ",t.bMT(39,20,"lang_super_role_user_domain_remove_duplicate_question")," ")}}function Ja(n,s){if(1&n&&(t.j41(0,"mat-option",51),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.domain)," ")}}function qa(n,s){if(1&n&&(t.j41(0,"div",52)(1,"div",53)(2,"div",54)(3,"span",20),t.EFF(4),t.k0s()(),t.j41(5,"div",55)(6,"div",39)(7,"div",45)(8,"div",46),t.nrm(9,"input",56),t.k0s(),t.j41(10,"label",57),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()(),t.j41(13,"div",39)(14,"div",45)(15,"div",46),t.nrm(16,"input",58),t.k0s(),t.j41(17,"label",57),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()(),t.j41(20,"div",39)(21,"div",45)(22,"div",46),t.nrm(23,"input",59),t.k0s(),t.j41(24,"label",57),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()()()()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("formGroup",i),t.R7$(3),t.Lme("",i.controls.resourceName.value," - ",i.controls.resourceCode.value,""),t.R7$(5),t.Mz_("id","isAdmin--",i.controls.resourceId.value,""),t.R7$(),t.Mz_("for","isAdmin--",i.controls.resourceId.value,""),t.R7$(),t.SpI(" ",t.bMT(12,18,"lang_super_role_domain_resource_allow_admin")," "),t.R7$(5),t.Mz_("id","isTeacher--",i.controls.resourceId.value,""),t.R7$(),t.Mz_("for","isTeacher--",i.controls.resourceId.value,""),t.R7$(),t.SpI(" ",t.bMT(19,20,"lang_super_role_domain_resource_allow_teacher")," "),t.R7$(5),t.Mz_("id","isStudent--",i.controls.resourceId.value,""),t.R7$(),t.Mz_("for","isStudent--",i.controls.resourceId.value,""),t.R7$(),t.SpI(" ",t.bMT(26,22,"lang_super_role_domain_resource_allow_student")," ")}}function Xa(n,s){1&n&&(t.j41(0,"span",16),t.nrm(1,"azt-loading-ui"),t.k0s())}let Qa=(()=>{var n;class s extends h.H{changeDomain(e){this.isLoadingResource=!0,this.waitDestroy(this.adminDomainResourceService.apiAdminDomainResourceGetObjsGet(e).subscribe(a=>{a.success?(this.form.controls.resourceObjs.clear(),a.data?.objs?.forEach(o=>{this.form.controls.resourceObjs.push(new r.gE({resourceId:new r.MJ(o.resourceId,{nonNullable:!0,validators:[r.k0.required,r.k0.min(1)]}),isTeacher:new r.MJ(!!o.isTeacher,{nonNullable:!0}),isStudent:new r.MJ(!!o.isStudent,{nonNullable:!0}),isAdmin:new r.MJ(!!o.isAdmin,{nonNullable:!0}),resourceName:new r.MJ(o.domainResourceName,{nonNullable:!0}),resourceCode:new r.MJ(o.domainResourceCode,{nonNullable:!0}),isEnable:new r.MJ(o.isEnable,{nonNullable:!0})}))}),this.isLoadingResource=!1):(this.errorStatusObj(a.message??"",!0),this.isLoadingResource=!1)}))}addNewUserDomain(){this.form.controls.userObjs.push(new r.gE({addNewUser:new r.MJ(1,{nonNullable:!0}),phoneOrEmail:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),password:new r.MJ("",{nonNullable:!0}),domainId:new r.MJ(0,{nonNullable:!0}),isAdmin:new r.MJ(!0,{nonNullable:!0}),removeDuplicateQuestion:new r.MJ(!1,{nonNullable:!0})}))}removeUserDomain(e){this.form.controls.userObjs.removeAt(e)}generateRandomPassword(e){const o=this.commonService.generateSecurePassword(6);e.setValue(o)}handleSaveBusiness(){if(this.form.invalid)return this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin");this.initStatusObj();let e={domainUrl:this.form.controls.domainUrl.value},a=[];this.form.controls.resourceObjs.controls.forEach(d=>{a.push({resourceId:d.controls.resourceId.value,isStudent:d.controls.isStudent.value?1:0,isTeacher:d.controls.isTeacher.value?1:0,isAdmin:d.controls.isAdmin.value?1:0,isEnable:d.controls.isEnable.value})});let o=[];this.form.controls.userObjs.controls.forEach(d=>{o.push({phoneOrEmail:d.controls.phoneOrEmail.value,password:d.controls.password.value,isAdmin:d.controls.isAdmin.value?1:0,removeDuplicateQuestion:d.controls.removeDuplicateQuestion.value?1:0})}),this.waitDestroy(this.adminDomainBusinessService.apiAdminDomainBusinessAddObjPost({commonDomainRequest:e,domainResourceObjs:a,userDomainObjs:o}).subscribe(d=>{1===d.success?this.successStatusObj("lang_super_add_business_successfully",!0):this.errorStatusObj(d.message??"")}))}initData(){this.initStatusObj(),this.addNewUserDomain(),this.waitDestroy(this.adminCommonDomainService.apiAdminCommonDomainGetObjsGet().subscribe(e=>{e.success?(this.domainObjs=e.data?.objs??[],this.form.controls.domainId.setValue(this.domainObjs?.[0]?.id??0),this.form.controls.domainId.value&&this.changeDomain(this.form.controls.domainId.value),this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}constructor(e,a,o){super(),this.adminCommonDomainService=e,this.adminDomainResourceService=a,this.adminDomainBusinessService=o,this.isLoadingResource=!1,this.domainObjs=[],this.form=new r.gE({domainUrl:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),domainId:new r.MJ(0,{nonNullable:!0}),resourceObjs:new r.Yp([]),userObjs:new r.Yp([])})}ngOnInit(){super.ngOnInit(),this.initData()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.Gi),t.rXU(F.HE),t.rXU(F.Tz))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-new-business"]],features:[t.Vt3],decls:62,vars:42,consts:[["searchInListDomain","searchInList"],[3,"headerBackToLink"],[3,"formGroup"],["id","azt-add-business",1,"mx-auto","mt-5",2,"max-width","1150px"],[1,"box","p-5","mt-5"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[1,"grid","grid-cols-12","mt-0"],[1,"col-span-12"],["for","domain-url",1,"form-label","font-medium","flex","items-center"],[1,"setting-input"],["id","domain-url","type","text","formControlName","domainUrl",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","sm:items-center","border-b","border-slate-200/60","pb-5","mb-5","dark:border-darkmode-400"],[1,"mr-auto","text-base","font-medium"],[1,"mt-2","sm:mt-0"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"w-4","h-4","inline-block"],["name","plus","size","18"],["class","tab-title",4,"ngFor","ngForOf"],[1,"mt-0"],[1,"font-medium"],["for","domainId",1,"form-label","flex","items-center"],["appearance","outline"],["searchInList","","formControlName","domainId","name","domainId",3,"selectionChange"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-4","mt-4"],["class","col-span-12 md:col-span-6 h-full",4,"ngFor","ngForOf"],[1,"text-right","mt-5"],[1,"btn","w-24","btn-primary",3,"click"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"tab-title"],["mat-tab-label",""],[1,"text-right"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"w-4","h-4","inline-block","mr-2"],["name","trash-2","size","18"],[1,"mt-2"],["for","toDomain",1,"form-label","font-medium"],["type","text","id","phoneOrEmail","formControlName","phoneOrEmail","autocomplete","new-phone-or-email",1,"form-control"],[1,"flex","items-center"],["type","text","id","password","formControlName","password","autocomplete","new-password",1,"form-control","mr-3"],[1,"btn","btn-primary-soft","flex-none",3,"click"],[1,"flex","items-center","w-full","sm:ml-auto","sm:mt-0","sm:w-auto"],[1,"form-check","form-switch"],["id","isAdmin","formControlName","isAdmin","type","checkbox",1,"show-code","form-check-input"],["for","isAdmin",1,"cursor-pointer","ml-2"],["id","removeDuplicateQuestion","formControlName","removeDuplicateQuestion","type","checkbox",1,"show-code","form-check-input"],["for","removeDuplicateQuestion",1,"cursor-pointer","ml-2"],[3,"value"],[1,"col-span-12","md:col-span-6","h-full"],[1,"box","h-full","border","border-slate-200","dark:border-darkmode-400",3,"formGroup"],[1,"p-2","border-b","border-slate-200","dark:border-darkmode-400"],[1,"p-2"],["formControlName","isAdmin","type","checkbox",1,"show-code","form-check-input",3,"id"],[1,"cursor-pointer","ml-2",3,"for"],["formControlName","isTeacher","type","checkbox",1,"show-code","form-check-input",3,"id"],["formControlName","isStudent","type","checkbox",1,"show-code","form-check-input",3,"id"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",1)(1,"form",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",6)(9,"div",7)(10,"label",8),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",7)(14,"div",9),t.nrm(15,"input",10),t.nI1(16,"mytranslate"),t.DNE(17,La,3,3,"div",11),t.k0s()()()(),t.j41(18,"div",4)(19,"div",12)(20,"span",13),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",14)(24,"button",15),t.bIt("click",function(){return t.eBV(o),t.Njj(a.addNewUserDomain())}),t.j41(25,"span",16),t.nrm(26,"lucide-icon",17),t.k0s(),t.j41(27,"span"),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()()(),t.j41(30,"div",6)(31,"div",7)(32,"mat-tab-group"),t.DNE(33,Ua,40,22,"mat-tab",18),t.k0s()()()(),t.j41(34,"div",4)(35,"div",5)(36,"span"),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s()(),t.j41(39,"div",19)(40,"div",20)(41,"label",21),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s()(),t.j41(44,"mat-form-field",22)(45,"mat-select",23,0),t.bIt("selectionChange",function(){return t.eBV(o),t.Njj(a.changeDomain(a.form.controls.domainId.value))}),t.j41(47,"mat-option"),t.nrm(48,"ngx-mat-select-search",24),t.nI1(49,"mytranslate"),t.nI1(50,"mytranslate"),t.k0s(),t.j41(51,"mat-option",25),t.EFF(52),t.nI1(53,"mytranslate"),t.k0s(),t.DNE(54,Ja,3,4,"mat-option",26),t.k0s()()(),t.j41(55,"div",27),t.DNE(56,qa,27,24,"div",28),t.k0s()(),t.j41(57,"div",29)(58,"button",30),t.bIt("click",function(){return t.eBV(o),t.Njj(a.handleSaveBusiness())}),t.DNE(59,Xa,2,0,"span",31),t.EFF(60),t.nI1(61,"mytranslate"),t.k0s()()()()()}if(2&e){const o=t.sdS(46);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("formGroup",a.form),t.R7$(5),t.JRh(t.bMT(7,20,"lang_super_role_common_domain")),t.R7$(5),t.SpI(" ",t.bMT(12,22,"lang_super_role_common_domain_url")," "),t.R7$(4),t.FS9("placeholder",t.bMT(16,24,"lang_super_role_common_domain_url")+" ..."),t.R7$(2),t.Y8G("ngIf",a.form.controls.domainUrl.errors),t.R7$(4),t.JRh(t.bMT(22,26,"lang_super_role_user_domain")),t.R7$(7),t.JRh(t.bMT(29,28,"lang_super_add_administrator")),t.R7$(5),t.Y8G("ngForOf",a.form.controls.userObjs.controls),t.R7$(4),t.JRh(t.bMT(38,30,"lang_super_role_list_common_resource")),t.R7$(5),t.SpI(" ",t.bMT(43,32,"lang_super_role_domain_resource_choose_domain")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(49,34,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(50,36,"lang_search_not_found")),t.Y8G("formControl",o.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(53,38,"lang_super_role_admin_resource_please_choose_domain"),"---"),t.R7$(2),t.Y8G("ngForOf",o.filter(a.domainObjs,"domain")),t.R7$(2),t.Y8G("ngForOf",a.form.controls.resourceObjs.controls),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(61,40,"lang_button_save")," ")}},dependencies:[m.Sq,m.bT,r.qT,r.me,r.Zm,r.BC,r.cb,at.wT,et.rl,lt.VO,_t.ES,_t.mq,_t.T8,r.l_,r.j4,r.JD,V.t,L.R,pt.x,O.Q,j.WGl,$.U9,g.wp],encapsulation:2}),s})();var Ha=u(82653),At=u(47947),Pt=u(17178),bt=u(75421);const Wa=()=>[];function Ka(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){const a=t.eBV(i).index,o=t.XpG();return t.Njj(o.changMonthSelect(a+1))}),t.EFF(1),t.k0s()}if(2&n){const i=s.index,e=t.XpG();t.Y8G("ngClass",e.monthSelect==i+1?"btn-primary":"btn-secondary"),t.R7$(),t.JRh(i+1)}}function Za(n,s){if(1&n&&(t.j41(0,"div",14),t.nrm(1,"input",15),t.j41(2,"label",16),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&n){const i=s.$implicit,e=t.XpG();t.R7$(),t.FS9("id","business_package_"+i.id),t.Y8G("formControl",e.businessPackageFormControl)("value",i.id),t.R7$(),t.FS9("for","business_package_"+i.id),t.R7$(),t.SpI(" ",t.bMT(4,5,i.name)," ")}}let ti=(()=>{var n;class s extends v._{changMonthSelect(e){this.monthSelect=e}saveObj(){this.initStatusObj(),this.waitDestroy(this.adminCommonDomainService.apiAdminCommonDomainGiveAwayBusinessVipPost(this.data.businessDomain.id,this.businessPackageFormControl.value,this.monthSelect).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.dialogRef.close(e.data?.businessSubscriptionObj),this.successStatusObj("lang_core_them_thang_thanh_cong",!0)}))}ngOnInit(){super.ngOnInit();let e=this.commonService.getFirstOfArray(this.data.businessPackages)?.id??0;this.businessPackageFormControl.setValue(this.data.businessDomain.businessSubscriptionObj?.packageId??e)}constructor(e,a){super(a,e),this.dialogRef=e,this.adminCommonDomainService=(0,t.WQX)(F.Gi),this.businessPackageFormControl=new r.MJ(0,{nonNullable:!0}),this.monthSelect=1}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["coazt-business-add-month-vip-dialog"]],features:[t.Vt3],decls:24,vars:16,consts:[[1,"box"],[1,"p-3"],[1,"font-medium","text-lg","mb-2"],[1,"font-medium","mt-3"],[1,"mt-2","grid","gap-2","grid-cols-12"],["class","btn col-span-3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"mb-2"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",4,"ngFor","ngForOf"],[1,"p-3","text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],[1,"btn","col-span-3",3,"click","ngClass"],[1,"form-check","mr-5"],["type","radio","name","businessPackage",1,"form-check-input",3,"id","formControl","value"],[1,"form-check-label",3,"for"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"h2",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div")(6,"p",3),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",4),t.DNE(10,Ka,2,2,"div",5),t.k0s()(),t.j41(11,"div",6)(12,"div"),t.EFF(13,"Ch\u1ecdn g\xf3i Business"),t.k0s(),t.j41(14,"div",7)(15,"div",8),t.DNE(16,Za,5,7,"div",9),t.k0s()()(),t.j41(17,"div",10)(18,"button",11),t.bIt("click",function(){return a.dialogRef.close()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",12),t.bIt("click",function(){return a.saveObj()}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_core_them_thang_cho_tk_vip")," "),t.R7$(4),t.JRh(t.bMT(8,9,"lang_core_chon_so_thang")),t.R7$(3),t.Y8G("ngForOf",t.lJ4(15,Wa).constructor(12)),t.R7$(6),t.Y8G("ngForOf",a.data.businessPackages),t.R7$(3),t.SpI(" ",t.bMT(20,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(23,13,"lang_button_confirm")," "))},dependencies:[m.YU,m.Sq,r.me,r.Fm,r.BC,r.l_,g.wp],encapsulation:2}),s})();var vt=u(2915);function ei(n,s){1&n&&(t.j41(0,"div",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function ni(n,s){1&n&&(t.j41(0,"span",13),t.nrm(1,"azt-loading-ui"),t.k0s())}let ai=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close()}saveObj(){this.initStatusObj();let a={domainUrl:this.form.getRawValue().domain},o=this.obj?this.adminCommonDomainService.apiAdminCommonDomainUpdateObjPost(this.obj.id,a):this.adminCommonDomainService.apiAdminCommonDomainAddObjPost(a);this.waitDestroy(o.subscribe(l=>{1==l.success?(this.successStatusObj("lang_super_role_common_domain_execute_successfully",!0),this.dialogRef.close({response:l,isUpdate:!!this.obj})):(this.errorStatusObj(l.message,!0),this.closeDialog())}))}constructor(e,a,o){super(o,a),this.adminCommonDomainService=e,this.dialogRef=a,this.data=o,this.obj=o.obj,this.form=new r.gE({domain:new r.MJ(this.obj?.domain??"",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.Gi),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-common-domain-dialog"]],features:[t.Vt3],decls:20,vars:13,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","pt-0"],[1,"mt-2"],["for","domain",1,"form-label"],["type","text","id","domain","formControlName","domain",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"azt-mat-dialog-content")(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.nrm(9,"input",6),t.DNE(10,ei,3,3,"div",7),t.k0s()()()(),t.j41(11,"div",8)(12,"button",9),t.bIt("click",function(){return a.closeDialog()}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.qex(15),t.j41(16,"button",10),t.bIt("click",function(){return a.saveObj()}),t.DNE(17,ni,2,0,"span",11),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.bVm(),t.k0s()()()),2&e&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(6),t.SpI(" ",t.bMT(8,7,"lang_super_role_common_domain_url")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.domain.errors),t.R7$(3),t.JRh(t.bMT(14,9,"lang_button_cancel")),t.R7$(3),t.Y8G("disabled",a.statusObj.loading||a.form.invalid),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,11,a.obj?"lang_button_update":"lang_button_save")," "))},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,vt.U,L.R,g.wp],encapsulation:2}),s})();var zt=u(60260);const ii=()=>({"mr-2":!0}),oi=n=>({"text-danger":n});function si(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ri(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"formatFullDateTimeByUserUnitPipe"),t.j41(3,"span",35),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,6,i.businessSubscriptionObjExtends.endTime)," ( "),t.R7$(2),t.Y8G("ngClass",t.eq3(12,oi,i.businessSubscriptionObjExtends.days<10)),t.R7$(),t.LHq(" ",i.businessSubscriptionObjExtends.days," ",t.bMT(5,8,"lang_auto_day"),", ",i.businessSubscriptionObjExtends.hours," ",t.bMT(6,10,"lang_auto_clock"),") ")}}function li(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_admin_permanent")," "))}function ci(n,s){1&n&&(t.j41(0,"span",36),t.nrm(1,"azt-loading-ui"),t.k0s())}function di(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",22)(1,"td",23)(2,"span",24),t.EFF(3),t.k0s()(),t.j41(4,"td",25)(5,"span",24)(6,"a",26),t.EFF(7),t.k0s()()(),t.j41(8,"td",27),t.DNE(9,ri,7,14,"span",28)(10,li,3,3,"span",28),t.k0s(),t.j41(11,"td",27),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"td",29)(15,"div",30)(16,"button",31),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.addOrUpdate(a))}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",32),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.giveAwayVipPackageDialog(a))}),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"button",33),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.cancelVipPackageEvent(a))}),t.DNE(23,ci,2,0,"span",34),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()()}if(2&n){const i=s.$implicit,e=s.index;t.R7$(3),t.SpI(" ",e<9?"0"+(e+1):e+1," "),t.R7$(3),t.Y8G("href","https://"+i.domain,t.B4B),t.R7$(),t.SpI(" ",i.domain," "),t.R7$(2),t.Y8G("ngIf",i.businessSubscriptionObjExtends),t.R7$(),t.Y8G("ngIf",!i.businessSubscriptionObjExtends),t.R7$(2),t.SpI(" ",t.bMT(13,10,null==i.businessSubscriptionObjExtends?null:i.businessSubscriptionObjExtends.name)," "),t.R7$(5),t.SpI(" ",t.bMT(18,12,"lang_auto_sua")," "),t.R7$(3),t.SpI(" ",t.bMT(21,14,"lang_admin_business_package_give_away")," "),t.R7$(3),t.Y8G("ngIf",i.isLoading),t.R7$(),t.SpI(" ",t.bMT(25,16,"lang_admin_business_package_cancel_vip")," ")}}function mi(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",8)(7,"button",9),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.addOrUpdate(void 0))}),t.nrm(8,"lucide-icon",10),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.j41(11,"div",11)(12,"div",12)(13,"table",13)(14,"thead")(15,"tr")(16,"th",14),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",15),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"th",16),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"th",16),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"th",17),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()(),t.j41(31,"tbody"),t.DNE(32,di,26,18,"tr",18),t.k0s()()(),t.j41(33,"div",19)(34,"div",20)(35,"azt-paging",21),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.goToPage(a))}),t.k0s()()()()()}if(2&n){const i=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_super_role_common_domain")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(24,ii)),t.R7$(),t.SpI(" ",t.bMT(10,12,"lang_super_role_add_new_common_domain")," "),t.R7$(8),t.SpI(" ",t.bMT(18,14,"lang_auto_STT")," "),t.R7$(3),t.SpI(" ",t.bMT(21,16,"lang_super_role_common_domain_url")," "),t.R7$(3),t.SpI(" ",t.bMT(24,18,"lang_business_config_billing_end_time")," "),t.R7$(3),t.SpI(" ",t.bMT(27,20,"lang_business_config_billing_current_subscription_package")," "),t.R7$(3),t.SpI(" ",t.bMT(30,22,"lang_auto_hanh_dong")," "),t.R7$(3),t.Y8G("ngForOf",i.objs),t.R7$(3),t.Y8G("pageObj",i.pageObj)}}let ui=(()=>{var n;class s extends h.H{addOrUpdate(e){this.sAztDialogService.open(ai,{width:"500px",data:{obj:e??void 0},restoreFocus:!1}).afterClosed().subscribe(o=>{if(!o||!o.response||!o.response.data)return;let l;o.response.data.businessSubscriptionObj&&(l=this.convertBusinessSubscriptionObj(o.response.data.businessSubscriptionObj));const d={id:o.response.data.id??0,domain:o.response.data.domain??"",config:o.response.data.config??"",businessSubscriptionObj:o.response.data.businessSubscriptionObj,isLoading:!1,businessSubscriptionObjExtends:l};o.isUpdate?this.objs=this.objs.map(_=>_.id===d.id?_=d:_):this.objs.unshift(d)})}goToPage(e){this.commonService.myNavigation(`/super-role/common-domain-management/${e}`)}giveAwayVipPackageDialog(e){this.sAztDialogService.open(ti,{data:{businessDomain:e,businessPackages:this.businessPackageList},width:"700px",restoreFocus:!1}).afterClosed().subscribe(a=>{a&&(e.businessSubscriptionObjExtends=this.convertBusinessSubscriptionObj(a))})}cancelVipPackageEvent(e){this.sAztDialogService.open(bt.u,{data:{content:'B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n h\u1ee7y g\xf3i VIP c\u1ee7a Business: <div class="text-md font-medium inline"> '+e.domain+" </div>"},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(o=>{o&&this.waitDestroy(this.adminCommonDomainService.apiAdminCommonDomainCancelPackagePost(e.id).subscribe(l=>{if(e.isLoading=!1,!l.success)return this.errorStatusObj(l.message,!0);l.data&&l.data.businessSubscriptionObj&&(e.businessSubscriptionObjExtends=this.convertBusinessSubscriptionObj(l.data.businessSubscriptionObj)),this.successStatusObj(l.message,!0)}))})}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);e.data?.businessPackageResponse&&(this.businessPackageList=e.data.businessPackageResponse.data?.objs??[]),this.objs=this.processData(e.data?.commonBusinessResponse?.data?.objs??[]),this.stopStatusObj()}))}processData(e){return e.map(a=>{let o;return a.businessSubscriptionObj&&(o=this.convertBusinessSubscriptionObj(a.businessSubscriptionObj)),{...a,isLoading:!1,businessSubscriptionObjExtends:o}})}callMultipleApi(){const e=this.businessPackageService.apiPackagesGet(),a=this.adminCommonDomainService.apiAdminCommonDomainGetObjsGet();return this.businessPackageList.length?a.pipe((0,At.T)(o=>({businessPackageResponse:void 0,commonBusinessResponse:o})),(0,Pt.W)(o=>{throw o})):(0,Ha.p)([e,a]).pipe((0,At.T)(([o,l])=>({businessPackageResponse:o,commonBusinessResponse:l})),(0,Pt.W)(o=>{throw o}))}convertBusinessSubscriptionObj(e){const a=this.sAztTimeService.getDayHourMinuteOfSubtract(e.endTime),o=this.businessPackageList.find(d=>d.id===e?.packageId);return{...e,name:o?o.name:"",days:a.days,hours:a.hours,minutes:a.minutes}}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.getData()}))}constructor(e,a,o,l,d){super(),this.adminCommonDomainService=e,this.activeRoute=a,this.sAztDialogService=o,this.sAztTimeService=l,this.businessPackageService=d,this.objs=[],this.pageObj=new Q.d(10),this.businessPackageList=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.Gi),t.rXU(y.nX),t.rXU(U.i),t.rXU(ft.F),t.rXU(zt.WC))},n.\u0275cmp=t.VBU({type:n,selectors:[["common-domain-management"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6","mt-10"],[1,"col-span-6","overflow-auto"],[1,"text-lg","font-medium"],[1,"intro-y","col-span-6","overflow-auto","text-right"],["azt-track-service","common-domain-F3iDwiQiq",1,"btn","btn-success","text-white","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","700px"],[1,"whitespace-nowrap","text-left",2,"width","60px","padding","0 !important"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-left"],[1,"whitespace-nowrap","text-center"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"intro-x"],[1,"text-left"],[1,"font-medium"],[1,"text-left","pl-10"],["azt-track-service","common-domain-oo441Dqa3X","target","_blank",2,"word-wrap","break-word",3,"href"],[1,"text-left","text-left"],[4,"ngIf"],[1,"table-report__action","td-sticky-right","w-56"],[1,"flex","justify-center","items-center"],["azt-track-service","common-domain-866oAEwPZp",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"btn","btn-sm","btn-outline-success","ml-3",3,"click"],[1,"btn","btn-sm","btn-outline-danger","ml-3",3,"click"],["class","w-4 h-4 mr-2",4,"ngIf"],[3,"ngClass"],[1,"w-4","h-4","mr-2"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,si,1,1,"azt-loading-effect",2)(2,mi,36,25,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,A.K,H.q,L.R,O.Q,j.WGl,g.wp,g.Rr],encapsulation:2}),s})();function pi(n,s){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function _i(n,s){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function hi(n,s){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function gi(n,s){1&n&&(t.j41(0,"span",17),t.nrm(1,"azt-loading-ui"),t.k0s())}let fi=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}saveObj(){this.initStatusObj();let e=this.form.getRawValue(),a={code:e.code,name:e.name,description:e.description},o=this.obj?this.adminCommonResourceService.apiAdminCommonResourceUpdateObjPost(this.obj.id,a):this.adminCommonResourceService.apiAdminCommonResourceAddObjPost(a);this.waitDestroy(o.subscribe(l=>{1==l.success?(this.successStatusObj("lang_super_role_common_resource_execute_successfully",!0),this.dialogRef.close(!0)):(this.errorStatusObj(l.message,!0),this.closeDialog())}))}constructor(e,a,o){super(o,a),this.adminCommonResourceService=e,this.dialogRef=a,this.data=o,this.obj=o.obj,this.form=new r.gE({code:new r.MJ(this.obj?.code??"",{nonNullable:!0,validators:[r.k0.required]}),name:new r.MJ(this.obj?.name??"",{nonNullable:!0,validators:[r.k0.required]}),description:new r.MJ(this.obj?.description??"",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.CO),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-common-resource-dialog"]],features:[t.Vt3],decls:32,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","pt-0"],[1,"mt-2"],["for","code",1,"form-label"],["type","text","id","code","formControlName","code",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description",1,"form-label"],["type","text","id","description","formControlName","description",1,"form-control"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"azt-mat-dialog-content")(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.nrm(9,"input",6),t.DNE(10,pi,3,3,"div",7),t.k0s(),t.j41(11,"div",4)(12,"label",8),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.nrm(15,"input",9),t.DNE(16,_i,3,3,"div",7),t.k0s(),t.j41(17,"div",4)(18,"label",10),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.nrm(21,"input",11),t.DNE(22,hi,3,3,"div",7),t.k0s()()()(),t.j41(23,"div",12)(24,"button",13),t.bIt("click",function(){return a.closeDialog()}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.qex(27),t.j41(28,"button",14),t.bIt("click",function(){return a.saveObj()}),t.DNE(29,gi,2,0,"span",15),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.bVm(),t.k0s()()()),2&e&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(6),t.SpI(" ",t.bMT(8,11,"lang_super_role_common_resource_code")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.code.errors),t.R7$(3),t.SpI(" ",t.bMT(14,13,"lang_super_role_common_resource_name")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.name.errors),t.R7$(3),t.SpI(" ",t.bMT(20,15,"lang_super_role_common_resource_description")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.description.errors),t.R7$(3),t.JRh(t.bMT(26,17,"lang_button_cancel")),t.R7$(3),t.Y8G("disabled",a.statusObj.loading||a.form.invalid),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(31,19,a.obj?"lang_button_update":"lang_button_save")," "))},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,vt.U,L.R,g.wp],encapsulation:2}),s})();const bi=()=>({"mr-2":!0});function vi(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ki(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",22)(1,"td",23)(2,"span",24),t.EFF(3),t.k0s()(),t.j41(4,"td",25),t.EFF(5),t.k0s(),t.j41(6,"td",25),t.EFF(7),t.k0s(),t.j41(8,"td",25),t.EFF(9),t.k0s(),t.j41(10,"td",26)(11,"div",27)(12,"a",28),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.addOrUpdate(a))}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()}if(2&n){const i=s.$implicit,e=s.index;t.R7$(3),t.SpI(" ",e<9?"0"+(e+1):e+1," "),t.R7$(2),t.SpI(" ",i.code," "),t.R7$(2),t.SpI(" ",i.name," "),t.R7$(2),t.SpI(" ",i.description," "),t.R7$(4),t.SpI(" ",t.bMT(14,5,"lang_auto_sua")," ")}}function Ii(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",8)(7,"button",9),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.addOrUpdate(void 0))}),t.nrm(8,"lucide-icon",10),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.j41(11,"div",11)(12,"div",12)(13,"table",13)(14,"thead")(15,"tr",14)(16,"th",15),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",16),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"th",16),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"th",16),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.nrm(28,"th",17),t.k0s()(),t.j41(29,"tbody"),t.DNE(30,ki,15,7,"tr",18),t.k0s()()(),t.j41(31,"div",19)(32,"div",20)(33,"azt-paging",21),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.goToPage(a))}),t.k0s()()()()()}if(2&n){const i=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,9,"lang_super_role_list_common_resource")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(21,bi)),t.R7$(),t.SpI(" ",t.bMT(10,11,"lang_super_role_add_new_common_resource")," "),t.R7$(8),t.SpI(" ",t.bMT(18,13,"lang_auto_STT")," "),t.R7$(3),t.SpI(" ",t.bMT(21,15,"lang_super_role_common_resource_code")," "),t.R7$(3),t.SpI(" ",t.bMT(24,17,"lang_super_role_common_resource_name")," "),t.R7$(3),t.SpI(" ",t.bMT(27,19,"lang_super_role_common_resource_description")," "),t.R7$(4),t.Y8G("ngForOf",i.objs),t.R7$(3),t.Y8G("pageObj",i.pageObj)}}let ji=(()=>{var n;class s extends h.H{addOrUpdate(e){this.sAztDialogService.open(fi,{width:"500px",data:{obj:e??void 0},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.adminCommonResourceService.apiAdminCommonResourceGetObjsGet().subscribe(e=>{e.success?(this.objs=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}goToPage(e){this.commonService.myNavigation(`/super-role/common-resource-management/${e}`)}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.getData()}))}constructor(e,a,o){super(),this.adminCommonResourceService=e,this.activeRoute=a,this.sAztDialogService=o,this.objs=[],this.pageObj=new Q.d(10)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.CO),t.rXU(y.nX),t.rXU(U.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["common-resource-management"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6","mt-10"],[1,"col-span-6","overflow-auto"],[1,"text-lg","font-medium"],[1,"intro-y","col-span-6","overflow-auto","text-right"],["azt-track-service","common-resource-R1CsZ28bG6",1,"btn","btn-success","text-white","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","700px"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","30px"],[1,"whitespace-nowrap","text-left","pl-10"],[1,"whitespace-nowrap","text-center",2,"width","190px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"intro-x"],[1,"text-center"],[1,"font-medium"],[1,"text-left","pl-10"],[1,"table-report__action","td-sticky-right","w-56"],[1,"flex","justify-center","items-center"],["azt-track-service","common-resource-d3r53Ue_Uu",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,vi,1,1,"azt-loading-effect",2)(2,Ii,34,22,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,A.K,H.q,O.Q,j.WGl,g.wp],encapsulation:2}),s})();function Ri(n,s){1&n&&(t.j41(0,"div",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Si(n,s){1&n&&(t.j41(0,"div",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Ti(n,s){1&n&&(t.j41(0,"span",15),t.nrm(1,"azt-loading-ui"),t.k0s())}let yi=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}saveObj(){this.initStatusObj();let e=this.form.getRawValue(),a={fromDomainUrl:e.fromDomain,toDomainUrl:e.toDomain},o=this.obj?this.adminDomainMappingService.apiAdminDomainMappingUpdateObjPost(this.obj.id,a):this.adminDomainMappingService.apiAdminDomainMappingAddObjPost(a);this.waitDestroy(o.subscribe(l=>{1==l.success?(this.successStatusObj("lang_super_role_domain_mapping_execute_successfully",!0),this.dialogRef.close(!0)):(this.errorStatusObj(l.message,!0),this.closeDialog())}))}constructor(e,a,o){super(o,a),this.adminDomainMappingService=e,this.dialogRef=a,this.data=o,this.obj=o.obj,this.form=new r.gE({fromDomain:new r.MJ(this.obj?.domain??"",{nonNullable:!0,validators:[r.k0.required]}),toDomain:new r.MJ(this.obj?.toDomain??"",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.dc),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-domain-mapping-dialog"]],features:[t.Vt3],decls:26,vars:17,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","pt-0"],[1,"mt-2"],["for","code",1,"form-label"],["type","text","id","fromDomain","formControlName","fromDomain",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","toDomain",1,"form-label"],["type","text","id","toDomain","formControlName","toDomain",1,"form-control"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"azt-mat-dialog-content")(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.nrm(9,"input",6),t.DNE(10,Ri,3,3,"div",7),t.k0s(),t.j41(11,"div",4)(12,"label",8),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.nrm(15,"input",9),t.DNE(16,Si,3,3,"div",7),t.k0s()()()(),t.j41(17,"div",10)(18,"button",11),t.bIt("click",function(){return a.closeDialog()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.qex(21),t.j41(22,"button",12),t.bIt("click",function(){return a.saveObj()}),t.DNE(23,Ti,2,0,"span",13),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.bVm(),t.k0s()()()),2&e&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(6),t.SpI(" ",t.bMT(8,9,"lang_super_role_domain_mapping_from_domain")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.fromDomain.errors),t.R7$(3),t.SpI(" ",t.bMT(14,11,"lang_super_role_domain_mapping_to_domain")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.toDomain.errors),t.R7$(3),t.JRh(t.bMT(20,13,"lang_button_cancel")),t.R7$(3),t.Y8G("disabled",a.statusObj.loading||a.form.invalid),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(25,15,a.obj?"lang_button_update":"lang_button_save")," "))},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,vt.U,L.R,g.wp],encapsulation:2}),s})();const Fi=()=>({"mr-2":!0});function wi(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function xi(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",22)(1,"td",23)(2,"span",24),t.EFF(3),t.k0s()(),t.j41(4,"td",25),t.EFF(5),t.k0s(),t.j41(6,"td",25),t.EFF(7),t.k0s(),t.j41(8,"td",26)(9,"div",27)(10,"a",28),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.addOrUpdate(a))}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()}if(2&n){const i=s.$implicit,e=s.index;t.R7$(3),t.SpI(" ",e<9?"0"+(e+1):e+1," "),t.R7$(2),t.SpI(" ",i.domain," "),t.R7$(2),t.SpI(" ",i.toDomain," "),t.R7$(4),t.SpI(" ",t.bMT(12,4,"lang_auto_sua")," ")}}function Ci(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",8)(7,"button",9),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.addOrUpdate(void 0))}),t.nrm(8,"lucide-icon",10),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.j41(11,"div",11)(12,"div",12)(13,"table",13)(14,"thead")(15,"tr",14)(16,"th",15),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",16),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"th",16),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.nrm(25,"th",17),t.k0s()(),t.j41(26,"tbody"),t.DNE(27,xi,13,6,"tr",18),t.k0s()()(),t.j41(28,"div",19)(29,"div",20)(30,"azt-paging",21),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.goToPage(a))}),t.k0s()()()()()}if(2&n){const i=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,8,"lang_super_role_list_domain_mapping")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(18,Fi)),t.R7$(),t.SpI(" ",t.bMT(10,10,"lang_super_role_add_new_domain_mapping")," "),t.R7$(8),t.SpI(" ",t.bMT(18,12,"lang_auto_STT")," "),t.R7$(3),t.SpI(" ",t.bMT(21,14,"lang_super_role_domain_mapping_from_domain")," "),t.R7$(3),t.SpI(" ",t.bMT(24,16,"lang_super_role_domain_mapping_to_domain")," "),t.R7$(4),t.Y8G("ngForOf",i.objs),t.R7$(3),t.Y8G("pageObj",i.pageObj)}}let Ei=(()=>{var n;class s extends h.H{addOrUpdate(e){this.sAztDialogService.open(yi,{width:"500px",data:{obj:e??void 0},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.adminDomainMappingService.apiAdminDomainMappingGetObjsGet().subscribe(e=>{e.success?(this.objs=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}goToPage(e){this.commonService.myNavigation(`/super-role/domain-mapping-management/${e}`)}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.getData()}))}constructor(e,a,o){super(),this.adminDomainMappingService=e,this.activeRoute=a,this.sAztDialogService=o,this.objs=[],this.pageObj=new Q.d(10)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.dc),t.rXU(y.nX),t.rXU(U.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["domain-mapping-management"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6","mt-10"],[1,"col-span-6","overflow-auto"],[1,"text-lg","font-medium"],[1,"intro-y","col-span-6","overflow-auto","text-right"],["azt-track-service","domain-mapping-UGH8e04T7g",1,"btn","btn-success","text-white","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","700px"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","30px"],[1,"whitespace-nowrap","text-left","pl-10"],[1,"whitespace-nowrap","text-center",2,"width","190px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"intro-x"],[1,"text-center"],[1,"font-medium"],[1,"text-left","pl-10"],[1,"table-report__action","td-sticky-right","w-56"],[1,"flex","justify-center","items-center"],["azt-track-service","domain-mapping-dXrz5cjXXi",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,wi,1,1,"azt-loading-effect",2)(2,Ci,31,19,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,A.K,H.q,O.Q,j.WGl,g.wp],encapsulation:2}),s})();var ae=u(9050),Mi=u(81451);function Oi(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function $i(n,s){if(1&n&&(t.j41(0,"mat-option",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.domain)," ")}}function Di(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function Gi(n,s){if(1&n&&(t.j41(0,"div",22)(1,"div",9)(2,"div",23)(3,"div",24),t.nrm(4,"input",25),t.k0s(),t.j41(5,"label",26),t.EFF(6),t.k0s()()(),t.j41(7,"div",9)(8,"div",23)(9,"div",24),t.nrm(10,"input",27),t.k0s(),t.j41(11,"label",26),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"div",9)(15,"div",23)(16,"div",24),t.nrm(17,"input",28),t.k0s(),t.j41(18,"label",26),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()(),t.j41(21,"div",9)(22,"div",23)(23,"div",24),t.nrm(24,"input",29),t.k0s(),t.j41(25,"label",26),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()()()()),2&n){const i=s.$implicit;t.Y8G("formGroup",i),t.R7$(4),t.Mz_("id","resourceId--",i.controls.resourceId.value,""),t.R7$(),t.Mz_("for","resourceId--",i.controls.resourceId.value,""),t.R7$(),t.Lme(" ",i.controls.resourceName.value," - ",i.controls.resourceCode.value," "),t.R7$(4),t.Mz_("id","isAdmin--",i.controls.resourceId.value,""),t.R7$(),t.Mz_("for","isAdmin--",i.controls.resourceId.value,""),t.R7$(),t.SpI(" ",t.bMT(13,22,"lang_super_role_domain_resource_allow_admin")," "),t.R7$(5),t.Mz_("id","isTeacher--",i.controls.resourceId.value,""),t.R7$(),t.Mz_("for","isTeacher--",i.controls.resourceId.value,""),t.R7$(),t.SpI(" ",t.bMT(20,24,"lang_super_role_domain_resource_allow_teacher")," "),t.R7$(5),t.Mz_("id","isStudent--",i.controls.resourceId.value,""),t.R7$(),t.Mz_("for","isStudent--",i.controls.resourceId.value,""),t.R7$(),t.SpI(" ",t.bMT(27,26,"lang_super_role_domain_resource_allow_student")," ")}}function Ni(n,s){if(1&n&&t.DNE(0,Gi,28,28,"div",21),2&n){const i=t.XpG(2);t.Y8G("ngForOf",i.form.controls.resourceObjs.controls)}}function Ai(n,s){1&n&&(t.j41(0,"span",30),t.nrm(1,"azt-loading-ui"),t.k0s())}function Pi(n,s){if(1&n){const i=t.RV6();t.j41(0,"form",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"label",11),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"mat-form-field",12)(9,"mat-select",13,1),t.bIt("selectionChange",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.changeDomain(a.form.controls.domainId.value))}),t.j41(11,"mat-option"),t.nrm(12,"ngx-mat-select-search",14),t.nI1(13,"mytranslate"),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"mat-option",15),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.DNE(18,$i,3,4,"mat-option",16),t.k0s()()(),t.DNE(19,Di,1,1,"azt-loading-effect",4)(20,Ni,1,1,"ng-template",null,2,t.C5r),t.k0s()(),t.j41(22,"div",17),t.qex(23),t.j41(24,"button",18),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.saveObj())}),t.DNE(25,Ai,2,0,"span",19),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.bVm(),t.k0s()()}if(2&n){const i=t.sdS(10),e=t.sdS(21),a=t.XpG();t.Y8G("formGroup",a.form),t.R7$(6),t.SpI(" ",t.bMT(7,13,"lang_super_role_domain_resource_choose_domain")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(13,15,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(14,17,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(17,19,"lang_super_role_admin_resource_please_choose_domain"),"---"),t.R7$(2),t.Y8G("ngForOf",i.filter(a.domainObjs,"domain")),t.R7$(),t.Y8G("ngIf",a.isLoadingResource)("ngIfElse",e),t.R7$(5),t.Y8G("disabled",a.isSaving||a.form.invalid),t.R7$(),t.Y8G("ngIf",a.isSaving),t.R7$(),t.SpI(" ",t.bMT(27,21,"lang_button_update")," ")}}let zi=(()=>{var n;class s extends h.H{changeDomain(e){this.isLoadingResource=!0,this.domainId!=e&&this.commonService.myNavigation(`/super-role/domain-resource-management/${e}`),this.domainId=e,this.waitDestroy(this.adminDomainResourceService.apiAdminDomainResourceGetObjsGet(e).subscribe(a=>{a.success?(this.form.controls.resourceObjs.clear(),a.data?.objs?.forEach(o=>{this.form.controls.resourceObjs.push(new r.gE({resourceId:new r.MJ(o.resourceId,{nonNullable:!0,validators:[r.k0.required,r.k0.min(1)]}),isTeacher:new r.MJ(!!o.isTeacher,{nonNullable:!0,validators:[r.k0.required]}),isStudent:new r.MJ(!!o.isStudent,{nonNullable:!0,validators:[r.k0.required]}),isAdmin:new r.MJ(!!o.isAdmin,{nonNullable:!0,validators:[r.k0.required]}),resourceName:new r.MJ(o.domainResourceName,{nonNullable:!0,validators:[r.k0.required]}),resourceCode:new r.MJ(o.domainResourceCode,{nonNullable:!0,validators:[r.k0.required]}),isEnable:new r.MJ(o.isEnable,{nonNullable:!0,validators:[r.k0.required]})}))}),this.isLoadingResource=!1):(this.errorStatusObj(a.message??"",!0),this.isLoadingResource=!1)}))}saveObj(){this.isSaving=!0;let e=this.form.getRawValue(),a={domainId:e.domainId,domainResourceObjs:e.resourceObjs.map(o=>({resourceId:o.resourceId,isTeacher:o.isTeacher?1:0,isStudent:o.isStudent?1:0,isAdmin:o.isAdmin?1:0,isEnable:o.isEnable}))};this.waitDestroy(this.adminDomainResourceService.apiAdminDomainResourceUpdateObjPost(a).subscribe(o=>{1==o.success?(this.successStatusObj("lang_super_role_domain_resource_execute_successfully",!0),this.isSaving=!1):(this.errorStatusObj(o.message,!0),this.isSaving=!1)}))}initData(){this.initStatusObj(),this.waitDestroy(this.adminCommonDomainService.apiAdminCommonDomainGetObjsGet().subscribe(e=>{e.success?(this.domainObjs=e.data?.objs??[],this.domainId&&this.changeDomain(this.domainId),this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.domainId=Number(this.commonService.getMyParam(this.activeRoute,"domainId")),this.form.controls.domainId.setValue(this.domainId),this.initData()}constructor(e,a,o){super(),this.activeRoute=e,this.adminCommonDomainService=a,this.adminDomainResourceService=o,this.domainObjs=[],this.isSaving=!1,this.isLoadingResource=!1,this.domainId=0,this.form=new r.gE({domainId:new r.MJ(0,{nonNullable:!0,validators:[r.k0.required,r.k0.min(1)]}),resourceObjs:new r.Yp([])})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(y.nX),t.rXU(ae.G),t.rXU(Mi.H))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-domain-resource-dialog"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["searchInListDomain","searchInList"],["doneLoadingResource",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","pt-0"],[1,"mt-2"],[1,"font-medium"],["for","domainId",1,"form-label","flex","items-center"],["appearance","outline"],["searchInList","","formControlName","domainId","name","domainId",3,"selectionChange"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"p-3","text-right"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value"],["class","mt-2 box p-2",3,"formGroup",4,"ngFor","ngForOf"],[1,"mt-2","box","p-2",3,"formGroup"],[1,"flex","items-center","w-full","sm:ml-auto","sm:mt-0","sm:w-auto"],[1,"form-check","form-switch"],["formControlName","isEnable","type","checkbox",1,"show-code","form-check-input",3,"id"],[1,"cursor-pointer","ml-2",3,"for"],["formControlName","isAdmin","type","checkbox",1,"show-code","form-check-input",3,"id"],["formControlName","isTeacher","type","checkbox",1,"show-code","form-check-input",3,"id"],["formControlName","isStudent","type","checkbox",1,"show-code","form-check-input",3,"id"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",3),t.DNE(1,Oi,1,1,"azt-loading-effect",4)(2,Pi,28,23,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.Sq,m.bT,r.qT,r.Zm,r.BC,r.cb,at.wT,et.rl,lt.VO,r.l_,r.j4,r.JD,A.K,V.t,L.R,pt.x,O.Q,$.U9,g.wp],encapsulation:2}),s})();var Li=u(88627),Vi=u(22867),Bi=u(18447),xt=u(27208);function Yi(n,s){1&n&&(t.j41(0,"div",12)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_azt_please_enter_domain"),"!"))}function Ui(n,s){1&n&&t.nrm(0,"azt-loading-ui",13)}let Ji=(()=>{var n;class s extends v._{confirmAction(){if(this.domain.invalid)return this.domain.markAsTouched();this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersApprovePost({registers:[{status:"approved",registerId:this.data.id,domain:this.domain.value}]}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.successStatusObj(),this.dialogRef.close(this.data.id)}))}handleCloseDialog(){this.dialogRef.close(-1)}ngOnInit(){super.ngOnInit(),this.domain.setValue(this.data.expectDomain??"")}constructor(e,a,o){super(o,a),this.businessPackageService=e,this.dialogRef=a,this.data=o,this.domain=new r.MJ("",{nonNullable:!0,validators:[r.k0.required]})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(zt.WC),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-confirm-approve"]],features:[t.Vt3],decls:22,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"text-base","font-medium","flex","items-center"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],["for","domain",1,"form-label","font-medium"],["type","text","id","domain","id","domain",1,"form-control",3,"placeholder","formControl"],["class","text-danger text-xs mt-1 font-medium",4,"ngIf"],[1,"p-3","flex","justify-end"],["type","button",1,"btn","btn-secondary","min-width-100","mr-3",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-1","font-medium"],[1,"mr-1"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"div",4)(7,"label",5),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.nrm(10,"input",6),t.nI1(11,"mytranslate"),t.k0s(),t.DNE(12,Yi,4,3,"div",7),t.k0s(),t.j41(13,"div",8)(14,"button",9),t.bIt("click",function(){return a.handleCloseDialog()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"button",10),t.bIt("click",function(){return a.confirmAction()}),t.DNE(18,Ui,1,0,"azt-loading-ui",11),t.j41(19,"span"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,9,"lang_azt_approval_of_business_registration")," "),t.R7$(5),t.JRh(t.bMT(9,11,"lang_azt_domain")),t.R7$(2),t.FS9("placeholder",t.bMT(11,13,"lang_azt_enter_the_domain")),t.Y8G("formControl",a.domain),t.R7$(2),t.Y8G("ngIf",a.domain.invalid&&a.domain.touched),t.R7$(3),t.SpI(" ",t.bMT(16,15,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",a.statusObj.loading),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(2),t.JRh(t.bMT(21,17,"lang_button_save")))},dependencies:[m.bT,r.me,r.BC,r.l_,L.R,g.wp],encapsulation:2}),s})();var Lt=u(39307),Ct=u(32099),Vt=u(5800);const qi=()=>({"mr-0 md:mr-2":!0}),Xi=n=>({"text-primary stroke-width-2.5":n}),Qi=n=>({"text-primary stroke-width-2.5":n,"-mt-2":!0});function Hi(n,s){if(1&n&&(t.j41(0,"span",32)(1,"span",33),t.EFF(2),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.JRh(i.totalCustomFilter)}}function Wi(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",34),t.EFF(3),t.k0s()()),2&n){const i=t.XpG();t.R7$(3),t.JRh(i.totalCustomFilter)}}function Ki(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",35),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Zi(n,s){if(1&n&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",54),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_register_for_business_business_name")+": "),t.R7$(3),t.JRh(i.businessName)}}function to(n,s){if(1&n&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",54),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_azt_province")+": "),t.R7$(3),t.JRh(i.provinceName)}}function eo(n,s){if(1&n&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",54),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auth_school_organization_type")+": "),t.R7$(3),t.JRh(t.bMT(6,4,i.businessType))}}function no(n,s){if(1&n&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",54),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_azt_scale_of_organization")+": "),t.R7$(3),t.JRh(t.bMT(6,4,i.businessScale))}}function ao(n,s){if(1&n&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",54),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auth_school_organization_website")+": "),t.R7$(3),t.JRh(i.businessWebUrl)}}function io(n,s){if(1&n&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",54),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_payment_business_package_business_domain")+": "),t.R7$(3),t.JRh(i.domain)}}function oo(n,s){if(1&n&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",54),t.EFF(5),t.nI1(6,"formatFullDateTimeTimezoneByUserUnitPipe"),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_azt_registration_time")+": "),t.R7$(3),t.JRh(t.bMT(6,4,i.createdAt))}}function so(n,s){1&n&&(t.j41(0,"div",67),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_not_approved_yet")," "))}function ro(n,s){1&n&&(t.j41(0,"div",68),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_approved")," "))}function lo(n,s){1&n&&(t.j41(0,"div",69),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_confirmed")," "))}function co(n,s){1&n&&(t.j41(0,"div",70),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_do_not_approved")," "))}function mo(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"azt-student-info-box",49),t.k0s(),t.j41(3,"td")(4,"div",50),t.DNE(5,Zi,6,4,"div",51)(6,to,6,4,"div",51)(7,eo,7,6,"div",51)(8,no,7,6,"div",51)(9,ao,6,4,"div",51)(10,io,6,4,"div",51)(11,oo,7,6,"div",51),t.j41(12,"div",52)(13,"span",53),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"span",54),t.EFF(17),t.k0s()()()(),t.j41(18,"td")(19,"textarea",55),t.nI1(20,"mytranslate"),t.bIt("input",function(a){const o=t.eBV(i).$implicit,l=t.XpG(2);return t.Njj(l.setNote(o.id,a))}),t.k0s()(),t.j41(21,"td"),t.DNE(22,so,3,3,"div",56)(23,ro,3,3,"div",57)(24,lo,3,3,"div",58)(25,co,3,3,"div",59),t.k0s(),t.j41(26,"td")(27,"div",60)(28,"button",61),t.nrm(29,"lucide-icon",62),t.k0s(),t.j41(30,"mat-menu",null,2)(32,"div",16)(33,"ul",17)(34,"li")(35,"button",63),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.confirmApproveBusinessRegister(a))}),t.nrm(36,"lucide-icon",64),t.j41(37,"span",9),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s()()(),t.j41(40,"li")(41,"button",63),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.rejectedBusiness(a))}),t.nrm(42,"lucide-icon",65),t.j41(43,"span",9),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s()()(),t.j41(46,"li")(47,"button",63),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.loginBusiness(a))}),t.nrm(48,"lucide-icon",66),t.j41(49,"span",9),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s()()()()()()()()()}if(2&n){const i=s.$implicit,e=t.sdS(31);t.R7$(2),t.Y8G("name",i.fullName)("phone",i.phone)("email",i.email),t.R7$(3),t.Y8G("ngIf",i.businessName),t.R7$(),t.Y8G("ngIf",i.provinceName),t.R7$(),t.Y8G("ngIf",i.businessType),t.R7$(),t.Y8G("ngIf",i.businessScale),t.R7$(),t.Y8G("ngIf",i.businessWebUrl),t.R7$(),t.Y8G("ngIf",i.domain),t.R7$(),t.Y8G("ngIf",i.createdAt),t.R7$(3),t.JRh(t.bMT(15,26,"lang_core_ky_vong_voi_to_chuc")+": "),t.R7$(3),t.JRh(i.description),t.R7$(2),t.FS9("placeholder",t.bMT(20,28,"lang_azt_note")+"..."),t.Y8G("id","business_"+i.id)("value",i.approveNote),t.R7$(3),t.Y8G("ngIf","wait"===i.status),t.R7$(),t.Y8G("ngIf","approved"===i.status),t.R7$(),t.Y8G("ngIf","confirmed"===i.status),t.R7$(),t.Y8G("ngIf","rejected"===i.status),t.R7$(3),t.Y8G("matMenuTriggerFor",e),t.R7$(7),t.Y8G("disabled","wait"!==i.status),t.R7$(3),t.JRh(t.bMT(39,30,"lang_azt_approve")),t.R7$(3),t.Y8G("disabled","wait"!==i.status),t.R7$(3),t.JRh(t.bMT(45,32,"lang_azt_do_not_approved")),t.R7$(3),t.Y8G("disabled","confirmed"!==i.status),t.R7$(3),t.JRh(t.bMT(51,34,"lang_cms_auth_login_title"))}}function uo(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",71),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG(2);return t.Njj(o.setPageStudent(a))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("pageObj",i.pageObj)}}function po(n,s){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Lme("",i.total," ",t.bMT(2,2,"lang_auto_tai_khoan"),"")}}function _o(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",36)(1,"drag-scroll")(2,"table",37)(3,"thead",38)(4,"tr")(5,"th",39),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",39)(9,"div",40),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.changeSortRegisterTime())}),t.EFF(10),t.nI1(11,"mytranslate"),t.j41(12,"div",41),t.nrm(13,"lucide-icon",42)(14,"lucide-icon",43),t.k0s()()(),t.j41(15,"th",44),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",39),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",45),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.j41(24,"tbody"),t.DNE(25,mo,52,36,"tr",46),t.k0s()()()(),t.j41(26,"div",47),t.nrm(27,"div"),t.DNE(28,uo,1,1,"azt-paging",48)(29,po,3,4,"div",14),t.k0s()}if(2&n){let i;const e=t.XpG();t.R7$(6),t.JRh(t.bMT(7,10,"lang_first_and_last_name")),t.R7$(4),t.SpI(" ",t.bMT(11,12,"lang_auto_thong_tin")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(20,Xi,"desc"===e.sortRegisterTime)),t.R7$(),t.Y8G("ngClass",t.eq3(22,Qi,"asc"===e.sortRegisterTime)),t.R7$(2),t.SpI(" ",t.bMT(17,14,"lang_azt_note")," "),t.R7$(3),t.JRh(t.bMT(20,16,"lang_auto_trang_thai")),t.R7$(3),t.JRh(t.bMT(23,18,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",e.businessList),t.R7$(3),t.Y8G("ngIf",e.total>5),t.R7$(),t.Y8G("ngIf",(null!==(i=e.businessList.length)&&void 0!==i?i:0)>0)}}let ho=(()=>{var n;class s extends h.H{confirmApproveBusinessRegister(e){this.sAztDialogService.open(Ji,{data:e,width:"500px"}).afterClosed().subscribe(a=>{if(!a)return;const o=this.businessList.find(l=>l.id===a);o?.status&&(o.status="approved")})}loginBusiness(e){this.waitDestroy(this.businessPackageService.apiPackagesRegistersIdLoginGet(e.id).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.redirectService.redirectLoginWithTokenNewTab(e.domain,a.data?.rememberToken??"","/admin/dashboard")}))}rejectedBusiness(e){const a=`${this.commonService.myTranslateInstant("lang_azt_confirm_disapproval_of_business_registration_for_the_account")} <b>${e.fullName}</b>?`;this.sAztDialogService.open(bt.u,{data:{content:a},width:"500px"}).afterClosed().subscribe(o=>{o&&this.waitDestroy(this.businessPackageService.apiPackagesRegistersApprovePost({registers:[{status:"rejected",registerId:e.id}]}).subscribe(d=>{if(!d.success)return this.errorStatusObj(d.message,!0);e?.status&&(e.status="rejected"),this.successStatusObj()}))})}setNote(e,a){this.businessList.find(d=>d.id==e)&&this.noteSubject.next({businessId:e,note:a.target.value})}search(e){this.isLoadingSearch=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.getBusinessRegisterList()}changeSortRegisterTime(){const e=["none","asc","desc"];this.sortRegisterTime=e[(e.indexOf(this.sortRegisterTime)+1)%3],this.getBusinessRegisterList()}setPageStudent(e){this.myNavigation("/super-role/manage-business-registration/"+e)}clearFilter(){this.totalCustomFilter=0,this.filterBusiness={wait:!1,approved:!1,confirmed:!1,rejected:!1},this.getBusinessRegisterList()}changeFilter(){this.totalCustomFilter=this.countChecked(this.filterBusiness),this.getBusinessRegisterList()}getBusinessRegisterList(){this.initStatusObj();const e=this.getFilter(this.filterBusiness);this.waitDestroy(this.businessPackageService.apiPackagesRegistersListPost({textSearch:this.searchContentObj.searchContent,page:this.pageObj.page,size:this.pageObj.pageSize,orderFieldName:"none"!==this.sortRegisterTime?"createdAt":void 0,descending:"desc"===this.sortRegisterTime,statuses:e.length?e:void 0}).subscribe(o=>{if(!o.success)return this.errorStatusObj("",!0);this.businessList=this.convertBusinessList(o.data?.objs??[]),this.pageObj.setTotalPages(o.data?.total??0),this.total=o.data?.total??0,this.searchContentObj.setLoading(!1),this.successStatusObj()}))}convertBusinessList(e){const a=[];return e.forEach(o=>{const l={...o};l.businessScale=this.businessScaleList.find(d=>d.id===o.businessScaleId)?.name,l.businessType=this.businessTypeList.find(d=>d.id===o.businessTypeId)?.name,l.provinceName=this.provinceObjs.find(d=>d.id===o.provinceId)?.name,a.push(l)}),a}callMultipleApi(){const e=this.commonListService.apiCommonListBusinessTypesGet(),a=this.commonListService.apiCommonListBusinessScalesGet(),o=this.commonListService.apiCommonListProvincesGet();return(0,W.z)([e,a,o]).pipe((0,At.T)(([l,d,_])=>({resType:l,resScale:d,resProvince:_})),(0,Pt.W)(l=>{throw l}))}initData(){if(this.provinceObjs.length&&this.businessTypeList.length&&this.businessScaleList.length)return this.getBusinessRegisterList();this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.provinceObjs=e.data?.resProvince.data?.objs??[],this.businessTypeList=e.data?.resType.data?.objs??[],this.businessScaleList=e.data?.resScale.data?.objs??[],this.getBusinessRegisterList()}))}countChecked(e){return Object.values(e??{}).filter(a=>a).length}getFilter(e){const a=[];return e.approved&&a.push("approved"),e.rejected&&a.push("rejected"),e.confirmed&&a.push("confirmed"),e.wait&&a.push("wait"),a}callApiSetNote(){this.noteSubject.pipe((0,Li.B)(500),(0,Vi.n)(({businessId:e,note:a})=>this.businessPackageService.apiPackagesRegistersIdNotePost(e,{note:a}))).subscribe(e=>{e.success||this.errorStatusObj(e.message)})}constructor(e,a,o,l,d){super(),this.businessPackageService=e,this.activeRoute=a,this.commonListService=o,this.sAztDialogService=l,this.redirectService=d,this.isLoadingSearch=!1,this.total=0,this.pageObj=new Q.d(50),this.searchContentObj=new xt.Z,this.businessList=[],this.provinceObjs=[],this.districtObjs=[],this.businessScaleList=[],this.businessTypeList=[],this.totalCustomFilter=0,this.filterBusiness={wait:!1,approved:!1,confirmed:!1,rejected:!1},this.sortRegisterTime="none",this.noteSubject=new Bi.B,this.callApiSetNote()}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{const e=Number(this.commonService.getMyParam(this.activeRoute,"page")??1);this.pageObj.setPageNumber(e),this.initData()}))}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(zt.WC),t.rXU(y.nX),t.rXU(X.Nz),t.rXU(U.i),t.rXU(Lt.m))},n.\u0275cmp=t.VBU({type:n,selectors:[["manage-business-registration"]],features:[t.Vt3],decls:60,vars:41,consts:[["doneLoading",""],["filterMenu","matMenu"],["actionMenu","matMenu"],[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col","sm:flex-row","items-center"],[1,"text-xl","font-medium","mr-auto"],[1,"flex","items-center","w-full","sm:w-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"ml-2"],[1,"btn","relative","box",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","sm:hidden tooltip w-4 h-4 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["for","do_not_approved",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","do_not_approved","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["for","not_approved_yet",1,"dropdown-item","cursor-pointer",3,"click"],["id","not_approved_yet","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["for","approved",1,"dropdown-item","cursor-pointer",3,"click"],["id","approved","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["for","confirmed",1,"dropdown-item","cursor-pointer",3,"click"],["id","confirmed","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2",2,"min-width","60px"],[3,"click"],[1,"btn","btn-danger","py-1","px-2",2,"min-width","60px",3,"click"],[1,"sm:hidden","tooltip","w-4","h-4","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[1,"w-full","h-full"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap"],[1,"flex","items-center","cursor-pointer",3,"click"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[1,"whitespace-nowrap",2,"width","280px"],[1,"whitespace-nowrap","text-center",2,"width","180px"],[4,"ngFor","ngForOf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[3,"name","phone","email"],[1,"business-info"],["class","mb-2",4,"ngIf"],[1,"mb-2"],[1,"mr-1","whitespace-nowrap"],[1,"font-medium"],["type","text",1,"form-control",2,"min-width","80px","height","155px",3,"input","id","placeholder","value"],["style","padding: 2px 8px","class","whitespace-nowrap text-center rounded-full text-xs bg-slate-500 text-white cursor-pointer font-medium",4,"ngIf"],["style","padding: 2px 8px","class","whitespace-nowrap text-center rounded-full text-xs bg-success text-white cursor-pointer font-medium",4,"ngIf"],["style","padding: 2px 8px","class","whitespace-nowrap text-center rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],["style","padding: 2px 8px","class","whitespace-nowrap text-center rounded-full text-xs bg-danger text-white cursor-pointer font-medium",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"btn","btn-primary-soft",3,"matMenuTriggerFor"],["name","settings","size","18"],[1,"dropdown-item","w-full",3,"click","disabled"],["name","stamp","size","16"],["name","ban","size","16"],["name","log-in","size","16"],[1,"whitespace-nowrap","text-center","rounded-full","text-xs","bg-slate-500","text-white","cursor-pointer","font-medium",2,"padding","2px 8px"],[1,"whitespace-nowrap","text-center","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium",2,"padding","2px 8px"],[1,"whitespace-nowrap","text-center","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium",2,"padding","2px 8px"],[1,"whitespace-nowrap","text-center","rounded-full","text-xs","bg-danger","text-white","cursor-pointer","font-medium",2,"padding","2px 8px"],[3,"goToPaginationPage","pageObj"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",3)(1,"div",4)(2,"div",5)(3,"h3",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",7)(7,"azt-search-box",8),t.nI1(8,"mytranslate"),t.bIt("onSearch",function(d){return t.eBV(o),t.Njj(a.search(d.searchObj))}),t.k0s(),t.j41(9,"div",9)(10,"button",10),t.nrm(11,"lucide-icon",11),t.DNE(12,Hi,3,1,"span",12),t.j41(13,"span",13),t.EFF(14),t.nI1(15,"mytranslate"),t.DNE(16,Wi,4,1,"span",14),t.k0s()()()()()(),t.j41(17,"div",4),t.DNE(18,Ki,1,1,"azt-loading-effect",15)(19,_o,30,24,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(21,"mat-menu",null,1)(23,"div",16)(24,"ul",17)(25,"li")(26,"label",18),t.bIt("click",function(d){return t.eBV(o),t.Njj(d.stopPropagation())}),t.EFF(27),t.nI1(28,"mytranslate"),t.j41(29,"div",19)(30,"input",20),t.bIt("change",function(){return t.eBV(o),a.filterBusiness.rejected=!a.filterBusiness.rejected,t.Njj(a.changeFilter())}),t.k0s()()()(),t.j41(31,"li")(32,"label",21),t.bIt("click",function(d){return t.eBV(o),t.Njj(d.stopPropagation())}),t.EFF(33),t.nI1(34,"mytranslate"),t.j41(35,"div",19)(36,"input",22),t.bIt("change",function(){return t.eBV(o),a.filterBusiness.wait=!a.filterBusiness.wait,t.Njj(a.changeFilter())}),t.k0s()()()(),t.j41(37,"li")(38,"label",23),t.bIt("click",function(d){return t.eBV(o),t.Njj(d.stopPropagation())}),t.EFF(39),t.nI1(40,"mytranslate"),t.j41(41,"div",19)(42,"input",24),t.bIt("change",function(){return t.eBV(o),a.filterBusiness.approved=!a.filterBusiness.approved,t.Njj(a.changeFilter())}),t.k0s()()()(),t.j41(43,"li")(44,"label",25),t.bIt("click",function(d){return t.eBV(o),t.Njj(d.stopPropagation())}),t.EFF(45),t.nI1(46,"mytranslate"),t.j41(47,"div",19)(48,"input",26),t.bIt("change",function(){return t.eBV(o),a.filterBusiness.confirmed=!a.filterBusiness.confirmed,t.Njj(a.changeFilter())}),t.k0s()()()(),t.j41(49,"li"),t.nrm(50,"hr",27),t.k0s(),t.j41(51,"li")(52,"div",28)(53,"button",29),t.EFF(54),t.nI1(55,"mytranslate"),t.k0s(),t.j41(56,"div",30),t.bIt("click",function(d){return t.eBV(o),t.Njj(d.stopPropagation())}),t.j41(57,"button",31),t.bIt("click",function(){return t.eBV(o),t.Njj(a.clearFilter())}),t.EFF(58),t.nI1(59,"mytranslate"),t.k0s()()()()()()()}if(2&e){const o=t.sdS(20),l=t.sdS(22);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(4),t.SpI(" ",t.bMT(5,22,"lang_azt_manage_business_registration")," "),t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(8,24,"lang_auto_tim_kiem")+"...")("searchContentObj",a.searchContentObj),t.R7$(3),t.Y8G("matMenuTriggerFor",l),t.R7$(),t.Y8G("ngClass",t.lJ4(40,qi)),t.R7$(),t.Y8G("ngIf",a.totalCustomFilter>0),t.R7$(2),t.SpI(" ",t.bMT(15,26,"lang_testbank_tested_list_sort")," "),t.R7$(2),t.Y8G("ngIf",a.totalCustomFilter>0),t.R7$(2),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o),t.R7$(9),t.SpI(" ",t.bMT(28,28,"lang_azt_do_not_approved")," "),t.R7$(3),t.Y8G("checked",a.filterBusiness.rejected),t.R7$(3),t.SpI(" ",t.bMT(34,30,"lang_azt_not_approved_yet")," "),t.R7$(3),t.Y8G("checked",a.filterBusiness.wait),t.R7$(3),t.SpI(" ",t.bMT(40,32,"lang_azt_approved")," "),t.R7$(3),t.Y8G("checked",a.filterBusiness.approved),t.R7$(3),t.SpI(" ",t.bMT(46,34,"lang_azt_confirmed")," "),t.R7$(3),t.Y8G("checked",a.filterBusiness.confirmed),t.R7$(6),t.JRh(t.bMT(55,36,"lang_button_close")),t.R7$(4),t.JRh(t.bMT(59,38,"lang_button_delete"))}},dependencies:[m.YU,m.Sq,m.bT,st.kk,st.Cp,A.K,H.q,Ct.W,Vt.B,O.Q,j.WGl,R.jd,R.Ew,g.wp,g.Ky],encapsulation:2}),s})();class go{static customPasswordValidator(s){const e=s.controls.addNewUser,a=s.controls.password;return e&&e.value?a?.value?.trim()?(a?.setErrors(null),null):(a?.setErrors({required:!0}),{required:!0}):(a?.setErrors(null),null)}}var fo=u(18636);function bo(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function vo(n,s){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.domain)," ")}}function ko(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Io(n,s){1&n&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function jo(n,s){if(1&n&&(t.j41(0,"div",9)(1,"label",24),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"input",39),t.DNE(5,Io,3,3,"div",26),t.k0s()),2&n){const i=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_super_role_user_domain_password")," "),t.R7$(3),t.Y8G("ngIf",i.form.controls.password.errors)}}function Ro(n,s){1&n&&(t.j41(0,"span",40),t.nrm(1,"azt-loading-ui"),t.k0s())}function So(n,s){if(1&n){const i=t.RV6();t.j41(0,"form",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11),t.nrm(6,"input",12),t.j41(7,"label",13),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",14),t.nrm(11,"input",15),t.j41(12,"label",16),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()(),t.j41(15,"div",9)(16,"div",17)(17,"label",18),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.j41(20,"mat-form-field",19)(21,"mat-select",20,1),t.bIt("selectionChange",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.changeDomain(a.form.controls.domainId.value))}),t.j41(23,"mat-option"),t.nrm(24,"ngx-mat-select-search",21),t.nI1(25,"mytranslate"),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"mat-option",22),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s(),t.DNE(30,vo,3,4,"mat-option",23),t.k0s()()(),t.j41(31,"div",9)(32,"label",24),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s(),t.nrm(35,"input",25),t.DNE(36,ko,3,3,"div",26),t.k0s(),t.DNE(37,jo,6,4,"div",27),t.j41(38,"div",9)(39,"div",28)(40,"div",29),t.nrm(41,"input",30),t.k0s(),t.j41(42,"label",31),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s()()(),t.j41(45,"div",9)(46,"div",28)(47,"div",29),t.nrm(48,"input",32),t.k0s(),t.j41(49,"label",33),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s()()()()(),t.j41(52,"div",34),t.qex(53),t.j41(54,"button",35),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.saveObj())}),t.DNE(55,Ro,2,0,"span",36),t.EFF(56),t.nI1(57,"mytranslate"),t.k0s(),t.bVm(),t.k0s()()}if(2&n){const i=t.sdS(22),e=t.XpG();t.Y8G("formGroup",e.form),t.R7$(6),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(9,20,"lang_super_role_add_new_user")," "),t.R7$(3),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(14,22,"lang_super_role_update_exist_user")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_super_role_domain_resource_choose_domain")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(25,26,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(26,28,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(29,30,"lang_super_role_admin_resource_please_choose_domain"),"---"),t.R7$(2),t.Y8G("ngForOf",i.filter(e.domainObjs,"domain")),t.R7$(3),t.SpI(" ",t.bMT(34,32,"lang_super_role_user_domain_phone_or_email")," "),t.R7$(3),t.Y8G("ngIf",e.form.controls.phoneOrEmail.errors),t.R7$(),t.Y8G("ngIf",e.form.controls.addNewUser.value),t.R7$(6),t.SpI(" ",t.bMT(44,34,"lang_super_role_user_domain_is_admin")," "),t.R7$(7),t.SpI(" ",t.bMT(51,36,"lang_super_role_user_domain_remove_duplicate_question")," "),t.R7$(4),t.Y8G("disabled",e.isSaving||e.form.invalid),t.R7$(),t.Y8G("ngIf",e.isSaving),t.R7$(),t.SpI(" ",t.bMT(57,38,e.form.controls.addNewUser.value?"lang_button_add":"lang_button_update")," ")}}function To(n,s){if(1&n&&(t.j41(0,"tr",46)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.fullName),t.R7$(2),t.JRh(i.phone),t.R7$(2),t.JRh(i.email)}}function yo(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"b",41),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"table",42)(6,"thead")(7,"tr",43)(8,"th",44),t.EFF(9,"Id"),t.k0s(),t.j41(10,"th",44),t.EFF(11,"Name"),t.k0s(),t.j41(12,"th",44),t.EFF(13,"Phone"),t.k0s(),t.j41(14,"th",44),t.EFF(15,"Email"),t.k0s()()(),t.j41(16,"tbody"),t.DNE(17,To,9,4,"tr",45),t.k0s()()()),2&n){const i=t.XpG();t.R7$(3),t.JRh(t.bMT(4,2,"lang_super_role_user_domain_admin_info")),t.R7$(14),t.Y8G("ngForOf",i.adminUserObjs)}}let Fo=(()=>{var n;class s extends h.H{getAdminOfDomain(e){this.waitDestroy(this.adminUserDomainService.apiAdminUserDomainGetAdminObjsGet(e).subscribe(a=>{this.adminUserObjs=a.data?.objs??[]}))}changeDomain(e){this.domainId!=e&&this.commonService.myNavigation(`/super-role/user-domain-management/${e}`),this.domainId=e,this.getAdminOfDomain(this.domainId)}saveObj(){this.isSaving=!0;let e=this.form.getRawValue(),o={domainId:e.domainId,userDomainInfo:{phoneOrEmail:e.phoneOrEmail,isAdmin:e.isAdmin?1:0,removeDuplicateQuestion:e.removeDuplicateQuestion?1:0}},l=e.addNewUser?this.adminUserDomainService.apiAdminUserDomainAddObjPost({domainId:e.domainId,userDomainInfo:{phoneOrEmail:e.phoneOrEmail,password:e.password,isAdmin:e.isAdmin?1:0,removeDuplicateQuestion:e.removeDuplicateQuestion?1:0}}):this.adminUserDomainService.apiAdminUserDomainUpdateObjPost(o);this.waitDestroy(l.subscribe(d=>{1==d.success?(this.getAdminOfDomain(this.domainId),this.successStatusObj("lang_super_role_user_domain_execute_successfully",!0),this.isSaving=!1):(this.errorStatusObj(d.message,!0),this.isSaving=!1)}))}initData(){this.initStatusObj(),this.waitDestroy(this.adminCommonDomainService.apiAdminCommonDomainGetObjsGet().subscribe(e=>{e.success?(this.domainObjs=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)})),this.domainId&&this.getAdminOfDomain(this.domainId)}ngOnInit(){super.ngOnInit(),this.domainId=Number(this.commonService.getMyParam(this.activeRoute,"domainId")),this.form.controls.domainId.setValue(this.domainId),this.initData()}constructor(e,a,o){super(),this.activeRoute=e,this.adminCommonDomainService=a,this.adminUserDomainService=o,this.adminUserObjs=[],this.domainObjs=[],this.isSaving=!1,this.domainId=0,this.form=new r.gE({addNewUser:new r.MJ(1,{nonNullable:!0,validators:[r.k0.required]}),phoneOrEmail:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),password:new r.MJ("",{nonNullable:!0}),domainId:new r.MJ(0,{nonNullable:!0,validators:[r.k0.required,r.k0.min(1)]}),isAdmin:new r.MJ(!0,{nonNullable:!0,validators:[r.k0.required,r.k0.min(1)]}),removeDuplicateQuestion:new r.MJ(!1,{nonNullable:!0,validators:[r.k0.required,r.k0.min(1)]})},{validators:[go.customPasswordValidator]})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(y.nX),t.rXU(ae.G),t.rXU(fo.g))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-user-domain-dialog"]],features:[t.Vt3],decls:5,vars:4,consts:[["doneLoading",""],["searchInListDomain","searchInList"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"currentStatusObj"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","pt-0"],[1,"mt-2"],[1,"flex","flex-col","sm:flex-row"],[1,"form-check","mr-8"],["id","automatic-off","type","radio","formControlName","addNewUser",1,"form-check-input",3,"value"],["for","automatic-off",1,"form-check-label"],[1,"form-check","mt-2","sm:mt-0"],["id","automatic-exit-monitor","type","radio","formControlName","addNewUser",1,"form-check-input",3,"value"],["for","automatic-exit-monitor",1,"form-check-label","flex","items-center"],[1,"font-medium"],["for","domainId",1,"form-label","flex","items-center"],["appearance","outline"],["searchInList","","formControlName","domainId","name","domainId",3,"selectionChange"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","toDomain",1,"form-label"],["type","text","id","phoneOrEmail","formControlName","phoneOrEmail","autocomplete","new-phone-or-email",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"flex","items-center","w-full","sm:ml-auto","sm:mt-0","sm:w-auto"],[1,"form-check","form-switch"],["id","isAdmin","formControlName","isAdmin","type","checkbox",1,"show-code","form-check-input"],["for","isAdmin",1,"cursor-pointer","ml-2"],["id","removeDuplicateQuestion","formControlName","removeDuplicateQuestion","type","checkbox",1,"show-code","form-check-input"],["for","removeDuplicateQuestion",1,"cursor-pointer","ml-2"],[1,"p-3","text-right"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value"],[1,"text-xs","text-danger","mt-1"],["type","text","id","password","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"w-4","h-4","inline-block","mr-2"],[1,"pt-5","block"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","700px"],[1,"uppercase"],[1,"whitespace-nowrap","text-left"],["class","intro-x",4,"ngFor","ngForOf"],[1,"intro-x"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",2),t.DNE(1,bo,1,1,"azt-loading-effect",3)(2,So,58,40,"ng-template",null,0,t.C5r)(4,yo,18,4,"div",4),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o),t.R7$(3),t.Y8G("ngIf",a.adminUserObjs.length)}},dependencies:[m.Sq,m.bT,r.qT,r.me,r.Zm,r.Fm,r.BC,r.cb,at.wT,et.rl,lt.VO,r.l_,r.j4,r.JD,A.K,V.t,L.R,pt.x,O.Q,$.U9,g.wp],encapsulation:2}),s})();function wo(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function xo(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"form",8)(3,"div",9)(4,"b"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",9),t.nrm(8,"input",10),t.k0s(),t.j41(9,"div",9)(10,"b"),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",9),t.nrm(14,"input",11),t.k0s(),t.j41(15,"div",9)(16,"b"),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",9),t.nrm(20,"input",12),t.k0s(),t.j41(21,"div",9)(22,"b"),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.j41(25,"div",9),t.nrm(26,"input",13),t.k0s(),t.j41(27,"div",9)(28,"b"),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()(),t.j41(31,"div",9),t.nrm(32,"editor",14),t.nI1(33,"getTinyMceKey"),t.nI1(34,"getTinyMceConfig"),t.k0s()()()(),t.j41(35,"div",15)(36,"button",16),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.closeDialog())}),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"button",17),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.saveObj())}),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("formGroup",i.form),t.R7$(3),t.JRh(t.bMT(6,11,"lang_admin_guide_category_name")),t.R7$(6),t.JRh(t.bMT(12,13,"lang_admin_guide_title")),t.R7$(6),t.JRh(t.bMT(18,15,"lang_admin_guide_youtube_link")),t.R7$(6),t.JRh(t.bMT(24,17,"lang_admin_guide_position")),t.R7$(6),t.JRh(t.bMT(30,19,"lang_auto_nhap_noi_dung_vao_day")),t.R7$(3),t.FS9("apiKey",t.bMT(33,21,"")),t.Y8G("init",t.bMT(34,23,"admin_common")),t.R7$(5),t.JRh(t.bMT(38,25,"lang_auto_dong")),t.R7$(2),t.Y8G("disabled",i.form.invalid),t.R7$(),t.JRh(t.bMT(41,27,"lang_auto_luu"))}}let ie=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}saveObj(){var e=this.form.getRawValue();this.initStatusObj(),this.waitDestroy(this.obj?this.adminGuideService.apiAdminGuideUpdateObjPost({id:this.obj.id,categoryName:e.categoryName,title:e.title,content:e.content,youtubeLink:e.youtubeLink,position:e.position}).subscribe(o=>{1==o.success?this.dialogRef.close(!0):(this.errorStatusObj(o.message??"",!0),this.closeDialog())}):this.adminGuideService.apiAdminGuideSaveObjPost({categoryName:e.categoryName,title:e.title,content:e.content,youtubeLink:e.youtubeLink,position:e.position}).subscribe(o=>{1==o.success?this.dialogRef.close(!0):(this.errorStatusObj(o.message??"",!0),this.closeDialog())}))}constructor(e,a,o){super(o,a),this.adminGuideService=e,this.dialogRef=a,this.data=o,this.obj=o.obj,this.form=new r.gE(this.obj?{categoryName:new r.MJ(this.obj.categoryName,{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),title:new r.MJ(this.obj.title,{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),youtubeLink:new r.MJ(this.obj.youtubeLink,{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),content:new r.MJ(this.obj.content,{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),position:new r.MJ(this.obj.position,{nonNullable:!0,validators:[r.k0.required]})}:{categoryName:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),title:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),youtubeLink:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),content:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),position:new r.MJ(0,{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.js),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-guide-dialog"]],features:[t.Vt3],decls:6,vars:2,consts:[["doneLoading",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body","p-0"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"pt-5"],[1,"pl-5","pr-5",2,"max-height","85vh","overflow-y","auto"],[3,"formGroup"],[1,"mt-2"],["type","text","formControlName","categoryName",1,"form-control"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","youtubeLink",1,"form-control"],["type","text","formControlName","position",1,"form-control"],["formControlName","content",3,"apiKey","init"],[1,"text-right","mt-5","pb-5","pr-5"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.DNE(3,wo,1,1,"azt-loading-effect",4)(4,xo,42,29,"ng-template",null,0,t.C5r),t.k0s()()()),2&e){const o=t.sdS(5);t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,f.xn,r.j4,r.JD,A.K,V.t,g.wp,g.Hw,g.yc],encapsulation:2}),s})();function Co(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Eo(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",6)(1,"h2",7),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"div",6)(5,"div",8),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",9)(9,"button",10),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.closeDialog())}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",11),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.confirmClick())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,5,"lang_admin_guide_delete_one_guide")),t.R7$(4),t.Lme("",t.bMT(7,7,"lang_auto_chac_chan_muon_xoa"),': "',i.obj.title,'"?'),t.R7$(4),t.JRh(t.bMT(11,9,"lang_auto_dong")),t.R7$(3),t.JRh(t.bMT(14,11,"lang_auto_xac_nhan"))}}let Mo=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}confirmClick(){this.initStatusObj(),this.waitDestroy(this.adminGuideService.apiAdminGuideDeleteObjGet(this.obj.id).subscribe(e=>{1==e.success?this.dialogRef.close(!0):(this.errorStatusObj(e.message??"",!0),this.closeDialog())}))}constructor(e,a,o){super(o,a),this.adminGuideService=e,this.dialogRef=a,this.data=o,this.obj=o.obj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.js),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["delete-guide-dialog"]],features:[t.Vt3],decls:6,vars:2,consts:[["doneLoading",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y"],[1,"text-base","font-medium","mr-auto"],[1,"alert","alert-danger","p-2","mt-3"],[1,"text-right","mt-3"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-primary",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.DNE(3,Co,1,1,"azt-loading-effect",4)(4,Eo,15,13,"ng-template",null,0,t.C5r),t.k0s()()()),2&e){const o=t.sdS(5);t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.bT,A.K,g.wp],encapsulation:2}),s})();function Oo(n,s){if(1&n){const i=t.RV6();t.j41(0,"mat-card",13)(1,"mat-card-content",14)(2,"div",15)(3,"div",16)(4,"b"),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.nrm(8,"br"),t.EFF(9),t.nI1(10,"mytranslate"),t.nrm(11,"br"),t.EFF(12),t.nI1(13,"mytranslate"),t.nrm(14,"br"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"div",17)(18,"a",18),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.openEditDialog(a))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.EFF(21," | "),t.j41(22,"a",19),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.openDeleteDialog(a))}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()()()}if(2&n){const i=s.$implicit,e=s.index;t.R7$(5),t.JRh(e+1),t.R7$(),t.Lme(" . ",t.bMT(7,11,"lang_admin_guide_category_name"),": ",i.categoryName," "),t.R7$(3),t.Lme(" ",t.bMT(10,13,"lang_admin_guide_title"),": ",i.title," "),t.R7$(3),t.Lme(" ",t.bMT(13,15,"lang_admin_guide_youtube_link_title"),": ",i.youtubeLink," "),t.R7$(3),t.Lme(" ",t.bMT(16,17,"lang_admin_guide_position"),": ",i.position," "),t.R7$(4),t.JRh(t.bMT(20,19,"lang_auto_sua")),t.R7$(4),t.JRh(t.bMT(24,21,"lang_auto_xoa"))}}function $o(n,s){if(1&n&&(t.j41(0,"div",10)(1,"div",11),t.DNE(2,Oo,25,23,"mat-card",12),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngForOf",i.objs)}}let Do=(()=>{var n;class s extends h.H{openDeleteDialog(e){this.sAztDialogService.open(Mo,{width:"500px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.successStatusObj("lang_admin_guide_delete_success",!0),this.getData())})}openEditDialog(e){this.sAztDialogService.open(ie,{width:"1000px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.successStatusObj("lang_admin_guide_update_success",!0),this.getData())})}openAddDialog(){this.sAztDialogService.open(ie,{width:"1000px",data:{obj:void 0},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&(this.successStatusObj("lang_admin_guide_add_success",!0),this.getData())})}getData(){this.initStatusObj(),this.waitDestroy(this.adminGuideService.apiAdminGuideGetObjsGet().subscribe(e=>{1==e.success?(this.objs=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.getData(),this.commonService.translateMetaData({title:"lang_cms_admin_common_guide",description:"lang_cms_admin_common_guide",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,a){super(),this.sAztDialogService=e,this.adminGuideService=a,this.objs=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(U.i),t.rXU(F.js))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-common-guide"]],features:[t.Vt3],decls:15,vars:8,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card","box"],[1,"card-body","p-2"],[1,"flex","justify-between","items-center","p-1"],[1,"col-md-3","align-self-center"],[1,"text-lg","mb-0"],[1,"col-md-3"],[1,"btn","btn-primary",2,"float","right",3,"click"],["class","card mt-1",4,"ngIf"],[1,"card","mt-1"],[1,"card-body"],["appearance","outlined","class","mb-1","style","background-color: #fff; border: none",4,"ngFor","ngForOf"],["appearance","outlined",1,"mb-1",2,"background-color","#fff","border","none"],[1,"form-control",2,"overflow-y","auto"],[1,"row","pl-0","pr-0","ml-0","mr-0","justify-content-between"],[1,"col-6","pl-0","align-self-center"],[1,"col-6","pr-0","align-self-center","text-right"],[1,"link__color","link__hover",3,"click"],[1,"text-danger",3,"click"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6)(7,"b"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"div",7)(11,"button",8),t.bIt("click",function(){return a.openAddDialog()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()()(),t.DNE(14,$o,3,1,"div",9),t.k0s()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(8),t.JRh(t.bMT(9,4,"lang_admin_common_guide_list")),t.R7$(4),t.JRh(t.bMT(13,6,"lang_admin_guide_add_new")),t.R7$(2),t.Y8G("ngIf",a.objs.length>0))},dependencies:[m.Sq,m.bT,Tt.RN,Tt.m2,O.Q,g.wp],encapsulation:2}),s})(),Go=(()=>{var n;class s extends h.H{ngOnInit(){super.ngOnInit(),this.form.valueChanges.subscribe(()=>{let e="",o=this.form.getRawValue().content.split("\n");o=o.map(l=>l.trim()).filter(l=>l),o.forEach(l=>{let d=l.split("\t").filter(_=>_.trim());if(4!=d.length&&(d=l.split(" "),d=d.filter(_=>_.trim())),4==d.length){let _=Number(d[0]),M=Number(d[1]),E=Number(d[2]),C=d[3],P=C.substring(C.length-2*E-2*M,C.length-2*E),D=C.substring(C.length-2*E);e+=`XA COMMIT X'${P}',X'${D}',${_};\n`}}),this.form.controls.result.setValue(e,{emitEvent:!1})}),this.form.controls.content.setValue("1\t43\t6\t0x34376363313235632D653735322D346330342D393332372D3862326165633764643662333A383236393238383236393238\n1\t42\t5\t0x61353539336433342D363830332D346561652D613432382D3038666263373962363738333A38303237303830323730"),this.commonService.translateMetaData({title:"lang_admin_convert_mysql_xid_title",description:"lang_admin_convert_mysql_xid_description",image:"lang_admin_convert_mysql_xid_image"})}constructor(){super(),this.form=new r.gE({content:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),result:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-convert-mysql-xid"]],features:[t.Vt3],decls:24,vars:11,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"text-lg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label","font-medium"],["type","text","formControlName","content",1,"form-control",2,"height","200px"],["type","text","readonly","","formControlName","result",1,"form-control",2,"height","200px"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.nrm(8,"hr"),t.j41(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"div",7),t.nrm(17,"textarea",10),t.k0s()(),t.j41(18,"div",8)(19,"label",9),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"div",7),t.nrm(23,"textarea",11),t.k0s()()()()()()()()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(6),t.JRh(t.bMT(7,5,"lang_admin_convert_mysql_xid")),t.R7$(3),t.Y8G("formGroup",a.form),t.R7$(5),t.JRh(t.bMT(15,7,"lang_auto_noi_dung")),t.R7$(6),t.JRh(t.bMT(21,9,"lang_auto_ket_qua")))},dependencies:[r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,O.Q,g.wp],encapsulation:2}),s})(),No=(()=>{var n;class s{decode(e){return!this.isEncoding(e)||this.isJson(e=e.m)||(e=this.decodeStep2(e),e=this.decodeStep0(e),e=this.jsonParse(e)),e}isEncoding(e){return!(!e||!e.hasOwnProperty("m"))}decodeStep0(e){return decodeURIComponent(atob(e).split("").map(a=>"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeStep2(e){var a=[],o="";for(let _=65;_<=90;_++)a.push(String.fromCharCode(_));for(let _=97;_<=122;_++)a.push(String.fromCharCode(_));var l=[...a].reverse(),d={};for(let _=0;_<l.length;_++)d[l[_]]=a[_];for(let _=0;_<e.length;_++)d.hasOwnProperty(e[_])?o+=d[e[_]]:o+=e[_];return o}isJson(e){try{return JSON.parse(e),!0}catch{return!1}}jsonParse(e){try{return JSON.parse(e)}catch{return{}}}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),Ao=(()=>{var n;class s extends h.H{ngOnInit(){super.ngOnInit()}decodeAction(){var e=this.form.getRawValue().content;try{this.form.controls.result.setValue(JSON.stringify(this.resultJsonHelper.decode(e)))}catch{this.form.controls.result.setValue("")}}constructor(e){super(),this.resultJsonHelper=e,this.form=new r.gE({content:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),result:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(No))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-decode-json-tool"]],features:[t.Vt3],decls:29,vars:14,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"text-lg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label","font-medium"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],["azt-track-service","decode-json-tool-Qh-nID1Cfk",1,"btn","btn-primary",3,"click"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.nrm(8,"hr"),t.j41(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"div",7),t.nrm(17,"textarea",10),t.k0s()(),t.j41(18,"div",8)(19,"label",9),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"div",7),t.nrm(23,"textarea",11),t.k0s()()(),t.j41(24,"div",12)(25,"div")(26,"button",13),t.bIt("click",function(){return a.decodeAction()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()()()()()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(6),t.JRh(t.bMT(7,6,"lang_wsuper_admin_decode_json_tool_title")),t.R7$(3),t.Y8G("formGroup",a.form),t.R7$(5),t.JRh(t.bMT(15,8,"lang_wsuper_admin_decode_json_tool_title_conten")),t.R7$(6),t.JRh(t.bMT(21,10,"lang_wsuper_admin_decode_json_tool_result")),t.R7$(7),t.JRh(t.bMT(28,12,"lang_wsuper_admin_decode_json_tool_decode")))},dependencies:[r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,O.Q,g.wp],encapsulation:2}),s})();const Po=()=>({"search-ver":!0});function zo(n,s){1&n&&(t.j41(0,"span",12),t.nrm(1,"azt-loading-ui"),t.k0s())}function Lo(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.search(1))}),t.EFF(1," View all "),t.k0s()}}function Vo(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",14),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.EmptyTrackLog())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_xoa_tat_ca_loi_exception")," "))}function Bo(n,s){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_tuyet_voi_khong_co_loi_nao")))}function Yo(n,s){if(1&n&&(t.j41(0,"div",20)(1,"div",21)(2,"div"),t.EFF(3),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s(),t.j41(6,"div"),t.EFF(7),t.k0s(),t.j41(8,"div"),t.EFF(9),t.nI1(10,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(11,"div"),t.EFF(12),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(3),t.SpI("ID: ",i.id,""),t.R7$(2),t.SpI("action: ",i.action,""),t.R7$(2),t.SpI("User Id: ",i.userId,""),t.R7$(2),t.SpI("Created date: ",t.bMT(10,5,i.createdDate),""),t.R7$(3),t.SpI("Content: ",i.content,"")}}function Uo(n,s){if(1&n){const i=t.RV6();t.j41(0,"div"),t.DNE(1,Bo,3,3,"div",15)(2,Yo,13,7,"div",16),t.j41(3,"div",17)(4,"azt-paging",18),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.clickPage(a))}),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",0==i.data.total),t.R7$(),t.Y8G("ngForOf",i.trackLogs),t.R7$(2),t.Y8G("screen","report_error")("linkPage","/super-role/exception_log")("pageObj",i.pageObj)}}let Jo=(()=>{var n;class s extends h.H{GetTrackLogObjs(){this.loading=!0,this.adminDotnetExceptionLogService.apiAdminDotnetExceptionLogGetObjsGet(Number(this.pageObj.page),this.paramApiSeach?.url,this.paramApiSeach?.content).subscribe(e=>{1==e.success?(this.trackLogs=e.data?.objs,this.data=e.data,this.pageObj.setTotalPages(this.data?.total??0),this.showAllError=!1,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i: kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u"))})}EmptyTrackLog(){this.adminDotnetExceptionLogService.apiAdminDotnetExceptionLogEmptyObjsGet().subscribe(e=>{1==e.success?(this.GetTrackLogObjs(),this.commonService.snackSuccess("X\xf3a l\u1ed7i exception th\xe0nh c\xf4ng")):this.commonService.snackError("L\u1ed7i: x\xf3a kh\xf4ng th\xe0nh c\xf4ng")})}clickPage(e){this.pageObj.setPageNumber(e),this.GetTrackLogObjs()}changeParamQuery(){this.commonService.myNavigationWithQueryString("/super-role/exception_log","?page="+this.pageObj.page)}search(e){0==e?(this.statusShearch=!0,this.paramApiSeach={url:""==this.searchUrl.value?"":this.searchUrl.value,content:""==this.searchContent.value?"":this.searchContent.value},this.GetTrackLogObjs()):(this.statusShearch=!1,this.searchUrl.setValue(""),this.searchContent.setValue(""),this.paramApiSeach={url:"",content:""},this.GetTrackLogObjs()),this.changeParamQuery()}checkDevice(){this.isMobile=window.innerWidth<768}ngOnInit(){var e=this.commonService.getMyQueryParam("page");this.pageObj.page=""==e||null==e?1:Number(e),this.GetTrackLogObjs(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice(),super.ngOnInit()}constructor(e){super(),this.adminDotnetExceptionLogService=e,this.searchUrl=new r.MJ("",{nonNullable:!0}),this.searchContent=new r.MJ("",{nonNullable:!0}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.isMobile=!1,this.pageObj=new Q.d(100)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.c6))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-dotnet-exception-log"]],features:[t.Vt3],decls:20,vars:20,consts:[[3,"headerBackToLink"],[1,"content","fluid-container","m-3",2,"padding","10px"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"row","pb-3","m-0"],[1,"col-12"],["type","text",1,"input-search","form-control",3,"keyup.enter","formControl","placeholder","value"],["azt-track-service","dotnet-exception-log-YFDqnXiIlT","class","row pb-3 ml-4 mr-4 clickable inline-block absolute","style","color: blue;",3,"click",4,"ngIf"],["azt-track-service","dotnet-exception-log-WFMNaGPZ52","class","row pb-3 ml-4 mr-4 clickable inline-block absolute","style","color: blue;",3,"click",4,"ngIf"],[1,"col-12","text-right"],["azt-track-service","dotnet-exception-log-gppIlJhJdl",1,"search-icon","clickable",2,"position","unset",3,"click"],["name","search","size","27",3,"ngClass"],[4,"ngIf"],[1,"w-4","h-4","inline-block"],["azt-track-service","dotnet-exception-log-YFDqnXiIlT",1,"row","pb-3","ml-4","mr-4","clickable","inline-block","absolute",2,"color","blue",3,"click"],["azt-track-service","dotnet-exception-log-WFMNaGPZ52",1,"row","pb-3","ml-4","mr-4","clickable","inline-block","absolute",2,"color","blue",3,"click"],["class","text-center m-5",4,"ngIf"],["class","view-error",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"goToPaginationPage","screen","linkPage","pageObj"],[1,"text-center","m-5"],[1,"view-error"],[1,"p-3","form-control","overflow-auto"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1),t.DNE(2,zo,2,0,"span",2),t.j41(3,"div",3)(4,"div",4)(5,"input",5),t.nI1(6,"mytranslate"),t.bIt("keyup.enter",function(){return a.search(0)}),t.k0s()()(),t.j41(7,"div",3)(8,"div",4)(9,"input",5),t.nI1(10,"mytranslate"),t.bIt("keyup.enter",function(){return a.search(0)}),t.k0s()()(),t.DNE(11,Lo,2,0,"div",6)(12,Vo,3,3,"div",7),t.j41(13,"div",3)(14,"div",8)(15,"button",9),t.bIt("click",function(){return a.search(0)}),t.EFF(16),t.nI1(17,"mytranslate"),t.nrm(18,"lucide-icon",10),t.k0s()()(),t.DNE(19,Uo,5,5,"div",11),t.k0s()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(2),t.Y8G("ngIf",!0===a.loading),t.R7$(3),t.FS9("placeholder",t.bMT(6,13,"lang_auto_nhap_noi_dung")),t.FS9("value",a.url_search),t.Y8G("formControl",a.searchContent),t.R7$(4),t.FS9("placeholder",t.bMT(10,15,"lang_auto_nhap_url")),t.FS9("value",a.url_search),t.Y8G("formControl",a.searchUrl),t.R7$(2),t.Y8G("ngIf",!0===a.statusShearch),t.R7$(),t.Y8G("ngIf",!1===a.statusShearch&&a.data&&0!=a.data.total),t.R7$(4),t.SpI(" ",t.bMT(17,17,"lang_auto_tim_kiem")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(19,Po)),t.R7$(),t.Y8G("ngIf",a.data&&!1===a.loading))},dependencies:[m.YU,m.Sq,m.bT,r.me,r.BC,r.l_,H.q,L.R,O.Q,j.WGl,g.wp,g.bH],styles:[".content[_ngcontent-%COMP%]{border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784);border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:#33333394;font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(212,212,212);overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}.view-error[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;margin-bottom:8px}.click-show-image[_ngcontent-%COMP%]{padding:5px;background:#3636ff;position:absolute;color:#fff;font-weight:500}"]}),s})();var Et=u(68323);function qo(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.AllErr())}),t.EFF(1,"All Error"),t.k0s()}}function Xo(n,s){1&n&&(t.j41(0,"span",12),t.nrm(1,"azt-loading-ui"),t.k0s())}function Qo(n,s){1&n&&(t.j41(0,"div",21),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"img",22),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_tuyet_voi_khong_co_loi_nao")))}function Ho(n,s){if(1&n&&(t.nrm(0,"img",35),t.nI1(1,"mycdn")),2&n){const i=t.XpG().$implicit;t.FS9("src",t.bMT(1,1,i.avatar),t.B4B)}}function Wo(n,s){if(1&n&&t.nrm(0,"azt-create-avatar",36),2&n){const i=t.XpG().$implicit;t.Y8G("nameCreateAvatar",i.fullname)("size",38)}}function Ko(n,s){if(1&n&&(t.j41(0,"div",37),t.EFF(1," Url: "),t.j41(2,"a",38),t.EFF(3),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.FS9("href",i.url,t.B4B),t.R7$(),t.SpI(" ",i.url," ")}}function Zo(n,s){if(1&n&&(t.nrm(0,"img",39),t.nI1(1,"mycdn")),2&n){const i=t.XpG().$implicit;t.FS9("src",t.bMT(1,1,i.screenshot),t.B4B)}}function ts(n,s){if(1&n&&(t.j41(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26),t.DNE(4,Ho,2,3,"img",27)(5,Wo,1,2,"azt-create-avatar",28),t.j41(6,"div",29)(7,"div",30),t.EFF(8),t.k0s(),t.j41(9,"div"),t.EFF(10),t.nI1(11,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()(),t.j41(12,"div",31),t.EFF(13),t.k0s(),t.DNE(14,Ko,4,2,"div",32),t.j41(15,"div",31)(16,"p")(17,"a",33),t.EFF(18),t.k0s()(),t.DNE(19,Zo,2,3,"img",34),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(4),t.Y8G("ngIf",null!=i.avatar),t.R7$(),t.Y8G("ngIf",null==i.avatar),t.R7$(3),t.JRh(i.fullname),t.R7$(2),t.SpI(" ",t.bMT(11,9,i.createdAt),""),t.R7$(3),t.SpI(" ",i.content," "),t.R7$(),t.Y8G("ngIf",null!=i.screenshot),t.R7$(3),t.FS9("href",i.screenshot,t.B4B),t.R7$(),t.JRh(i.screenshot),t.R7$(),t.Y8G("ngIf",null!=i.screenshot)}}function es(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"div",15),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",16),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.DNE(8,Qo,4,3,"div",17)(9,ts,20,11,"div",18),t.j41(10,"div",19)(11,"azt-paging",20),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.clickPage(a))}),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(3),t.SpI("",t.bMT(4,9,"lang_auto_loi_tu_nguoi_dung"),": "),t.R7$(3),t.Lme("",t.bMT(7,11,"lang_auto_tong_so_loi"),": ",i.data.total,""),t.R7$(2),t.Y8G("ngIf",0==i.data.total),t.R7$(),t.Y8G("ngForOf",i.trackLogs),t.R7$(2),t.Y8G("screen","report_error")("linkPage","/super-role/report_error")("eventSearch",i.sendEventSearchToPaging)("pageObj",i.pageObj)}}let ns=(()=>{var n;class s extends h.H{search(){this.statusShearch=!0,this.pageObj.page=1,this.loading=!0;var e=this.fondovalor1.value,a=this.fondovalor2.value,o=this.fondovalor3.value,l=this.fondovalor4.value,d=""==e?"":e,_=""==a?"":a,M=""==o?"":o,E=""==l?"":l;""!=a||""!=e||""!=o||""!=l?(this.eventSearch={phone:d,id:_,url:M,track_key:E},this.changeLink(),this.getParamUrl(e,a,o,l),this.SearchTrackLogObjs()):(""==a||""==e||""==o||""==l)&&(this.eventSearch={phone:d,id:_,url:M,track_key:E},this.AllErr())}GetTrackLogObjs(){this.statusShearch=!1,this.loading=!0,this.adminTrackLogForUserService.apiAdminTrackLogForUserGetObjsGet(Number(this.pageObj.page),this.track_key).subscribe(e=>{1==e.success?(this.trackLogs=e.data?.objs,this.data=e.data,this.pageObj.setTotalPages(e.data?.total??0),this.showAllError=!1,this.loading=!1):(this.loading=!1,this.errorStatusObj(e.message??"",!0))})}SearchTrackLogObjs(){this.loading=!0,this.adminTrackLogForUserService.apiAdminTrackLogForUserSearchObjsGet(Number(this.pageObj.page),this.track_key,this.eventSearch?.id,this.eventSearch?.phone,this.eventSearch?.url).subscribe(e=>{1==e.success?(this.trackLogs=e.data?.objs,this.data=e.data,this.pageObj.setTotalPages(e.data?.total??0),this.showAllError=!0,this.loading=!1):(this.loading=!1,this.errorStatusObj(e.message??"",!0))})}AllErr(){this.commonService.myNavigationWithQueryString("/super-role/report_error",""),this.getParamUrl("","","",""),this.GetTrackLogObjs()}clickPage(e){this.pageObj.setPageNumber(e),0==this.statusShearch?this.GetTrackLogObjs():1==this.statusShearch&&this.SearchTrackLogObjs(),this.changeLink()}changeLink(){this.commonService.myNavigationWithQueryString("/super-role/report_error","?page="+this.pageObj.page+"&"+this.eventSearch)}getParamUrl(e,a,o,l){this.phone_search=e,this.user_id_search=a,this.url_search=o,this.track_key=l}eventHandling(){var e=this.commonService.getMyQueryParam("page")??"",a=this.commonService.getMyQueryParam("userPhone")??"",o=this.commonService.getMyQueryParam("userId")??"",l=this.commonService.getMyQueryParam("url")??"",d=this.commonService.getMyQueryParam("trackKey")??"",_=""==a?"":a,M=""==o?"":o,E=""==l?"":l,C=""==d?"":d,P=""==a?"":a,D=""==o?"":o,B=""==l?"":l;this.getParamUrl(a,o,l,C),this.pageObj.page=Number(""==e?1:e),""!=_||""!=M||""!=E||""!=C?(this.statusShearch=!0,this.eventSearch={phone:_,id:M,url:E,track_key:C},this.sendEventSearchToPaging={userPhone:P,userId:D,urls:B,track_key:C},this.SearchTrackLogObjs()):this.GetTrackLogObjs()}ngOnInit(){this.eventHandling(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e){super(),this.adminTrackLogForUserService=e,this.fondovalor1=new r.MJ("",{nonNullable:!0}),this.fondovalor2=new r.MJ("",{nonNullable:!0}),this.fondovalor3=new r.MJ("",{nonNullable:!0}),this.fondovalor4=new r.MJ("",{nonNullable:!0}),this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.track_key="",this.sendEventSearchToPaging={userPhone:"",userId:"",urls:"",track_key:""},this.pageObj=new Q.d(100)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.C_))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-error-user-reported"]],features:[t.Vt3],decls:32,vars:27,consts:[[3,"headerBackToLink"],[1,"content","fluid-container",2,"padding","16px"],[1,"row","pb-3","m-0"],[1,"col-12"],["azt-track-service","error-user-reported-O34Wc4vKBi",3,"click",4,"ngIf"],["type","text",1,"input-search","form-control",3,"keyup.enter","formControl","placeholder","value"],[1,"search-icon","clickable"],[1,"col-12","text-right"],["azt-track-service","error-user-reported-zlenqB7d2i",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["class","w-4 h-4 inline-block",4,"ngIf"],["class","rounded","style","border: 1px solid #ccc;padding:16px;",4,"ngIf"],["azt-track-service","error-user-reported-O34Wc4vKBi",3,"click"],[1,"w-4","h-4","inline-block"],[1,"rounded",2,"border","1px solid #ccc","padding","16px"],[1,"row","m-0","pb-3"],[1,"col-6","p-0",2,"font-weight","bold","font-size","16px"],[1,"col-6","p-0","text-right"],["class","text-center m-5",4,"ngIf"],["class","view-error",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"goToPaginationPage","screen","linkPage","eventSearch","pageObj"],[1,"text-center","m-5"],["src","https://classlive.stume.net/images/emoji/emoji4.gif","alt","","width","20"],[1,"view-error"],[1,"form-control","overflow-auto"],[2,"display","flex","padding","10px","justify-content","space-between"],[2,"display","flex"],["style","border-radius: 50%; margin: 0 5px","width","38","height","38",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"view-name"],[2,"font-weight","500"],[1,"pl-3","pr-3","pb-3"],["class","pl-3 pr-3 pb-3","style","word-break: break-all;",4,"ngIf"],["azt-track-service","error-user-reported-e57htRH-3C","target","_blank",3,"href"],["class","pb-3","style","width: auto; max-height:300px;","alt","",3,"src",4,"ngIf"],["width","38","height","38",2,"border-radius","50%","margin","0 5px",3,"src"],[3,"nameCreateAvatar","size"],[1,"pl-3","pr-3","pb-3",2,"word-break","break-all"],["azt-track-service","error-user-reported--SA9LsbOBG","target","_blank","rel","noopener noreferrer",3,"href"],["alt","",1,"pb-3",2,"width","auto","max-height","300px",3,"src"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3),t.DNE(4,qo,2,0,"a",4),t.k0s()(),t.j41(5,"div",2)(6,"div",3)(7,"input",5),t.nI1(8,"mytranslate"),t.bIt("keyup.enter",function(){return a.search()}),t.k0s(),t.nrm(9,"div",6),t.k0s()(),t.j41(10,"div",2)(11,"div",3)(12,"input",5),t.nI1(13,"mytranslate"),t.bIt("keyup.enter",function(){return a.search()}),t.k0s()()(),t.j41(14,"div",2)(15,"div",3)(16,"input",5),t.nI1(17,"mytranslate"),t.bIt("keyup.enter",function(){return a.search()}),t.k0s()()(),t.j41(18,"div",2)(19,"div",3)(20,"input",5),t.nI1(21,"mytranslate"),t.bIt("keyup.enter",function(){return a.search()}),t.k0s(),t.j41(22,"p"),t.EFF(23,"mobileError | MOBILE_REPORT_UNABLE_SCAN"),t.k0s(),t.nrm(24,"div",6),t.k0s()(),t.j41(25,"div",2)(26,"div",7)(27,"button",8),t.bIt("click",function(){return a.search()}),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()(),t.DNE(30,Xo,2,0,"span",9)(31,es,12,13,"div",10),t.k0s()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(4),t.Y8G("ngIf",1==a.showAllError&&!1===a.loading),t.R7$(3),t.FS9("placeholder",t.bMT(8,17,"lang_auto_nhap_so_phone")),t.FS9("value",a.phone_search),t.Y8G("formControl",a.fondovalor1),t.R7$(5),t.FS9("placeholder",t.bMT(13,19,"lang_auto_nhap_id_nguoi_dung")),t.FS9("value",a.user_id_search),t.Y8G("formControl",a.fondovalor2),t.R7$(4),t.FS9("placeholder",t.bMT(17,21,"lang_auto_nhap_url")),t.FS9("value",a.url_search),t.Y8G("formControl",a.fondovalor3),t.R7$(4),t.FS9("placeholder",t.bMT(21,23,"lang_auto_nhap_track_key")),t.FS9("value",a.track_key),t.Y8G("formControl",a.fondovalor4),t.R7$(8),t.SpI(" ",t.bMT(29,25,"lang_auto_tim_kiem")," "),t.R7$(2),t.Y8G("ngIf",!0===a.loading),t.R7$(),t.Y8G("ngIf",a.data&&!1===a.loading))},dependencies:[m.Sq,m.bT,r.me,r.BC,r.l_,H.q,Et.p,L.R,O.Q,g.wp,g.nf,g.bH],styles:[".search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784);border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:#33333394;font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(212,212,212);overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}.view-error[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;margin-bottom:8px}.click-show-image[_ngcontent-%COMP%]{padding:5px;background:#3636ff;position:absolute;color:#fff;font-weight:500}"]}),s})();var as=u(43277),is=u(63709);function os(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ss(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6),t.EFF(3),t.k0s(),t.j41(4,"button",7),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.startExport())}),t.j41(5,"span",8),t.nrm(6,"lucide-icon",9),t.k0s(),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(3),t.JRh(i.exportInfo),t.R7$(4),t.SpI(" ",t.bMT(8,2,"lang_testbank_export_exam_result_button")," ")}}let rs=(()=>{var n;class s extends h.H{startExport(){this.initStatusObj(),this.waitDestroy(this.registerForBusinessFormService.apiRegisterForBusinessFormExportToCSVGet().subscribe(e=>{if(e.data?.value){let o=this.commonService.createFileNameExportFile(["export-register-for-business"])+".xlsx";var a=this.sAztMyPdfService.b64toFile(e.data.value,o,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");as.saveAs(a,o),this.successStatusObj("lang_testbank_export_register_for_business_success",!0)}else this.errorStatusObj("lang_testbank_export_register_for_business_error",!0)}))}initData(){this.initStatusObj(),this.waitDestroy(this.registerForBusinessFormService.apiRegisterForBusinessFormExportInfoGet().subscribe(e=>{e.data?.value?(this.exportInfo=e.data.value,this.stopStatusObj()):this.errorStatusObj(e.message,!0)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_admin_export_register_for_business",description:"lang_cms_export_register_for_business_description",image:""}),super.ngOnInit(),this.initData()}constructor(e,a){super(),this.registerForBusinessFormService=e,this.sAztMyPdfService=a,this.backToLink="/admin/dashboard",this.exportInfo=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.eD),t.rXU(is.C))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-export-register-for-business"]],features:[t.Jv_([m.vh]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"action-document","mx-auto","mt-8"],[1,"text-center"],[1,"mb-3"],[1,"btn","btn-success","text-white","shadow-md",3,"click"],[1,"w-4","h-4","mr-2","inline-block"],["name","download","size","18"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,os,1,1,"azt-loading-effect",2)(2,ss,9,4,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink",a.backToLink),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.bT,A.K,O.Q,j.WGl,g.wp],encapsulation:2}),s})();var ls=u(94315),cs=u(29501),ds=u(51113);let ms=(()=>{var n;class s extends h.H{decriptionJson(){let e=this.form.getRawValue().content,a=this.commonService.castJsonToObj(e);if(!a)return;const o=this.encryptionHelper.result(a);this.form.controls.result.setValue(this.commonService.serializeJson(o))}encodeGzipAction(){var e=this.form.getRawValue().content;this.form.controls.result.setValue(this.zipDataService.convertContentGzip(e)),this.count_en=e.length,this.count_de=this.form.getRawValue().result.length}decodeGzipAction(){var e=this.form.getRawValue().content;this.form.controls.result.setValue(this.zipDataService.decodeContentGzip(e)),this.count_en=e.length,this.count_de=this.form.getRawValue().result.length}decodeBase64Action(){var e=this.form.controls.content.value;const o=(new TextEncoder).encode(e);this.form.controls.result.setValue(JSON.stringify(new ls.eX(o).parseDrawData())),this.count_en=e.length,this.count_de=this.form.getRawValue().result.length}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_gzip_tool_title",description:"lang_cms_auth_gzip_tool_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e){super(),this.zipDataService=e,this.encryptionHelper=(0,t.WQX)(cs.w),this.count_en=0,this.count_de=0,this.form=new r.gE({content:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),result:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ds.j))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-gzip-tool"]],features:[t.Vt3],decls:45,vars:34,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"text-lg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label","font-medium"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],[1,"mb-3"],[1,"btn","btn-primary",3,"click"],[1,"mt-3","mb-3"],["azt-track-service","gzip-tool-eNQVi84Av7X",1,"btn","btn-primary","mr-3",3,"click"],["azt-track-service","gzip-tool-Vs12L88hRgo",1,"btn","btn-primary","mr-3",3,"click"],["azt-track-service","gzip-tool-Y5ooNCjysZt",1,"btn","btn-primary",3,"click"],[1,"mt-3","text-center"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s()(),t.nrm(9,"hr"),t.j41(10,"form",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"div",7),t.nrm(18,"textarea",10),t.k0s()(),t.j41(19,"div",8)(20,"label",9),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",7),t.nrm(24,"textarea",11),t.k0s()()(),t.j41(25,"div",12)(26,"div",13)(27,"button",14),t.bIt("click",function(){return a.decriptionJson()}),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()(),t.nrm(30,"hr"),t.j41(31,"div",15)(32,"button",16),t.bIt("click",function(){return a.encodeGzipAction()}),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s(),t.j41(35,"button",17),t.bIt("click",function(){return a.decodeGzipAction()}),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s(),t.j41(38,"button",18),t.bIt("click",function(){return a.decodeBase64Action()}),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()()()(),t.j41(41,"div",19),t.EFF(42),t.nI1(43,"mytranslate"),t.nI1(44,"mytranslate"),t.k0s()()()()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(6),t.Lme("",t.bMT(7,14,"lang_auto_cong_cu_ma_hoa")," ",t.bMT(8,16,"lang_auto_-_giai_ma"),""),t.R7$(4),t.Y8G("formGroup",a.form),t.R7$(5),t.JRh(t.bMT(16,18,"lang_auto_noi_dung")),t.R7$(6),t.JRh(t.bMT(22,20,"lang_auto_ket_qua")),t.R7$(7),t.JRh(t.bMT(29,22,"lang_encryption_decription_json")),t.R7$(5),t.JRh(t.bMT(34,24,"lang_auto_ma_hoa")),t.R7$(3),t.JRh(t.bMT(37,26,"lang_auto_giai_ma_gzip")),t.R7$(3),t.JRh(t.bMT(40,28,"lang_auto_giai_ma_base64")),t.R7$(3),t.LHq("",t.bMT(43,30,"lang_auto_ket_qua_convert_chieu_dai_ban_dau"),": ",a.count_en," ",t.bMT(44,32,"lang_auto_-_chieu_dai_sau_khi_convert"),": ",a.count_de,""))},dependencies:[r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,O.Q,g.wp],encapsulation:2}),s})();var us=u(53043),Mt=u(39712),kt=u(47712),oe=u(7919),ps=u(19346),_s=u(69135),se=u(63349);const hs=(n,s)=>({"mt-3":n,"mt-10":s}),gs=n=>[n];function fs(n,s){1&n&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_admin_please_enter_the_tenantId")," "))}function bs(n,s){1&n&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_admin_please_enter_the_categoryId")," "))}function vs(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"a",38),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(3);return t.Njj(o.onShowFile(a,-1))}),t.j41(3,"div",39),t.nrm(4,"img",40),t.k0s(),t.j41(5,"div",41)(6,"p",42),t.EFF(7),t.k0s(),t.j41(8,"div",43),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.j41(11,"div",44)(12,"button",45),t.nI1(13,"mytranslate"),t.bIt("click",function(){const a=t.eBV(i).index,o=t.XpG(3);return t.Njj(o.removeFileImg(a))}),t.j41(14,"span",46),t.nrm(15,"lucide-icon",47),t.k0s()()()()()}if(2&n){let i;const e=s.$implicit;t.R7$(4),t.Y8G("src",e.url,t.B4B),t.R7$(2),t.Y8G("matTooltip",null!==(i=e.name)&&void 0!==i?i:""),t.R7$(),t.JRh(e.name),t.R7$(2),t.SpI(" ",t.bMT(10,5,"lang_auto_hinh_anh")," "),t.R7$(3),t.FS9("matTooltip",t.bMT(13,7,"lang_auto_xoa"))}}function ks(n,s){if(1&n&&(t.j41(0,"div",33)(1,"div",34),t.DNE(2,vs,16,9,"div",35),t.k0s()()),2&n){const i=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",i.listFileImg)}}function Is(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",48),t.bIt("click",function(a){t.eBV(i);const o=t.sdS(3),l=t.XpG(2);return t.Njj(l.isMobileWebView?a.preventDefault():o.click())})("filesChangeEmitter",function(a){t.eBV(i);const o=t.XpG(2);return t.Njj(o.onFileSelectedExcel(a))}),t.j41(1,"div",21)(2,"input",49,1),t.bIt("change",function(a){t.eBV(i);const o=t.XpG(2);return t.Njj(o.onFileSelectedExcel(a.target.files))}),t.k0s(),t.j41(4,"div",50)(5,"span",51),t.nrm(6,"lucide-icon",52),t.k0s(),t.j41(7,"span",26),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(8),t.SpI(" ",t.bMT(9,2,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(11,4,"lang_auto_hoc_click_de_chon_file")," "))}function js(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",53)(1,"div",34)(2,"div",54)(3,"div",55)(4,"div",56)(5,"div",57),t.nrm(6,"img",58),t.nI1(7,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",59)(9,"p",60,2),t.EFF(11),t.k0s(),t.j41(12,"div",61),t.EFF(13),t.k0s()(),t.j41(14,"div",62)(15,"button",63),t.nI1(16,"mytranslate"),t.bIt("click",function(a){t.eBV(i);const o=t.XpG(2);return t.Njj(o.removeFileExcel(a))}),t.j41(17,"span",64),t.nrm(18,"lucide-icon",65),t.k0s()()()()()()()()}if(2&n){const i=t.sdS(10),e=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==e.fileExcel?null:e.fileExcel.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.R7$(2),t.SpI(" ",e.fileExcel?e.fileExcel.name:""," "),t.R7$(2),t.SpI(" ",e.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}function Rs(n,s){1&n&&(t.j41(0,"span",66),t.nrm(1,"azt-loading-ui"),t.k0s())}function Ss(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",7)(1,"form",8)(2,"div",9)(3,"div",10)(4,"label",11),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.nrm(7,"input",12),t.nI1(8,"mytranslate"),t.DNE(9,fs,3,3,"div",13),t.k0s(),t.j41(10,"div",10)(11,"label",14),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",15),t.nI1(15,"mytranslate"),t.DNE(16,bs,3,3,"div",13),t.k0s(),t.j41(17,"div",16)(18,"label",17),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.DNE(21,ks,3,1,"div",18),t.j41(22,"azt-upload-multiple-box",19),t.bIt("uploadComplete",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.handleUploadComplete(a))}),t.j41(23,"div",20)(24,"div",21)(25,"div",22)(26,"div",23)(27,"span",24),t.nrm(28,"lucide-icon",25),t.k0s(),t.j41(29,"span",26),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()()()()()(),t.j41(34,"div",16)(35,"label",17),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s(),t.DNE(38,Is,12,6,"div",27)(39,js,19,11,"ng-template",null,0,t.C5r),t.k0s()()(),t.j41(41,"div",28)(42,"div",29)(43,"button",30),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.importQuestion())}),t.DNE(44,Rs,2,0,"span",31),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()}if(2&n){const i=t.sdS(40),e=t.XpG();t.Y8G("ngClass",t.l_i(39,hs,!e.isMobileWebView,e.isMobileWebView)),t.R7$(),t.Y8G("formGroup",e.form),t.R7$(4),t.SpI(" ",t.bMT(6,21,"lang_admin_enter_tenantId")," "),t.R7$(2),t.FS9("placeholder",t.bMT(8,23,"lang_admin_enter_tenantId")+" ..."),t.R7$(2),t.Y8G("ngIf",(e.form.controls.tenantId.touched||e.form.controls.tenantId.dirty)&&e.form.controls.tenantId.errors),t.R7$(3),t.SpI(" ",t.bMT(13,25,"lang_admin_enter_categoryId")," "),t.R7$(2),t.Mz_("placeholder","",t.bMT(15,27,"lang_admin_enter_categoryId")+" ..."," "),t.R7$(2),t.Y8G("ngIf",(e.form.controls.categoryId.touched||e.form.controls.categoryId.dirty)&&e.form.controls.categoryId.errors),t.R7$(3),t.SpI(" ",t.bMT(20,29,"lang_admin_upload_image_file")," "),t.R7$(2),t.Y8G("ngIf",e.listFileImg.length>0),t.R7$(),t.Y8G("uploadToCdnMenu",e.allUploadToCdnMenuTypes.EXAM_QUESTIONS)("fileType",t.eq3(42,gs,e.allUploadFileTypes.IMAGE)),t.R7$(8),t.SpI(" ",t.bMT(31,31,"lang_admin_drag_and_drop_the_image_file")," "),t.R7$(2),t.SpI(" ",t.bMT(33,33,"lang_auto_hoc_click_de_chon_file")," "),t.R7$(4),t.SpI(" ",t.bMT(37,35,"lang_admin_upload_excel_file")," "),t.R7$(2),t.Y8G("ngIf",!e.fileExcel)("ngIfElse",i),t.R7$(5),t.Y8G("disabled",e.statusObj.loading),t.R7$(),t.Y8G("ngIf",e.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(46,37,"lang_auto_luu")," ")}}let Ts=(()=>{var n;class s extends h.H{constructor(e,a){super(),this.adminSupportService=e,this.dialogService=a,this.fileExcel=null,this.listFileImg=[],this.fileMb=0,this.allUploadToCdnMenuTypes=Mt.b8,this.allUploadFileTypes=Mt.PO,this.form=new r.gE({tenantId:new r.MJ("",{nonNullable:!0}),categoryId:new r.MJ("",{nonNullable:!0})})}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_admin_enter_the_FamilyMark_question",description:"lang_admin_enter_the_FamilyMark_question"})}importQuestion(){this.fileExcel?(this.initStatusObj(),this.convertFileToIBEAztImageLink(this.listFileImg).then(e=>{const a=e;let o={tenantId:this.form.controls.tenantId.value?Number(this.form.controls.tenantId.value??0):void 0,categoryId:this.form.controls.categoryId.value?Number(this.form.controls.categoryId.value??0):void 0,imageLinks:this.serializeJson(a),file:this.fileExcel};this.waitDestroy(this.adminSupportService.apiAdminSupportImportFamilyQuestionsPostForm(o.tenantId,o.categoryId,o.imageLinks,o.file).subscribe(l=>{l.success?(this.successStatusObj("lang_admin_successfully_added_the_content",!0),this.fileExcel=null,this.listFileImg=[]):this.errorStatusObj(l.message,!0)}))})):this.showErrorSnack("lang_cms_utils_folder_name_validate_space")}removeFileExcel(e){e.stopPropagation(),this.fileExcel=null}removeFileImg(e){this.listFileImg.splice(e,1)}onFileSelectedExcel(e){this.fileExcel=e?e[0]:this.fileExcel,this.fileMb=this.getFileMB(this.fileExcel?.size??0),this.fileExcel&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.fileExcel.type)||(this.fileExcel=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}handleUploadComplete(e){this.listFileImg.push(...e)}onShowFile(e,a){let o={...e,index:a};this.dialogService.open(us.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:o},restoreFocus:!1})}convertFileToIBEAztImageLink(e){return new Promise((a,o)=>{let l=[],d=!1;e.length>0?e.forEach((_,M)=>{let E=new Image,C=0,P=0;d=!0,E.onload=()=>{C=E.width,P=E.height,l.push({fileName:_.fileOld?.name??_.name,link:_.url,width:C,height:P}),M===e.length-1&&a(l)},E.src=_.url??""}):a([])})}getFileMB(e){return e&&e>0?(e/=1048576).toFixed(2):0}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.su),t.rXU(U.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-import-family-question"]],features:[t.Vt3],decls:6,vars:5,consts:[["exitsFile",""],["fileSelect",""],["c","isDisabled"],[3,"headerBackToLink"],[1,"mt-5","mx-auto",2,"max-width","1150px"],[1,"text-lg","font-medium"],["class","box p-3",3,"ngClass",4,"ngIf"],[1,"box","p-3",3,"ngClass"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","lg:col-span-6"],["for","tenantId",1,"form-label","font-medium","flex","items-center"],["id","tenantId","appOnlyNumber","","formControlName","tenantId","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","categoryId",1,"form-label","font-medium","flex","items-center"],["id","categoryId","appOnlyNumber","","formControlName","categoryId","type","text",1,"form-control",3,"placeholder"],[1,"col-span-12","mt-3"],[1,"form-label","font-medium","flex","items-center"],["class","attack-file mb-5",4,"ngIf"],[3,"uploadComplete","uploadToCdnMenu","fileType"],["appDragDrop","",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",2,"height","100px"],[1,"px-4","py-4","h-full","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"mx-auto"],[1,"flex","items-center"],[1,"text-secondary","font-medium","w-5","h-5","mr-2","inline-block"],["name","image","size","18"],[1,"text-primary","mr-1"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md","appDragDrop","","style","height: 100px",3,"click","filesChangeEmitter",4,"ngIf","ngIfElse"],[1,"mt-3","flex","items-center"],[1,"ml-auto"],[1,"btn","btn-primary","w-24",3,"click","disabled"],["class","w-4 h-4 mr-2 inline-block",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"attack-file","mb-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 lg:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-3"],[1,"relative","border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","zoom-in"],[1,"flex","w-full","items-center",3,"click"],[1,"w-12","h-12","image-fit","lg:mr-1"],[1,"rounded-md",3,"src"],[1,"ml-2","mt-0",2,"max-width","80%"],[1,"font-medium","truncate",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"absolute","top-0","right-0",2,"padding","2px"],[1,"btn","p-0","rounded-full","btn-sm","btn-danger",3,"click","matTooltip"],[1,"w-4","h-4","inline-block"],["name","x","size","18"],["appDragDrop","",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",2,"height","100px",3,"click","filesChangeEmitter"],["id","file-excel","type","file",1,"top-0","left-0","absolute","opacity-0",3,"change"],[1,"mx-auto","flex","items-center"],[1,"text-success","font-medium","w-5","h-5","mr-2","inline-block"],["name","file-spreadsheet","size","18"],[1,"attack-file","mt-5"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],[1,"btn","btn-outline-danger","btn-transparent",3,"click","matTooltip"],[1,"w-5","h-5"],["name","trash-2","size","18"],[1,"w-4","h-4","mr-2","inline-block"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",3)(1,"div",4)(2,"h3",5),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Ss,47,44,"div",6),t.k0s()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(3),t.SpI(" ",t.bMT(4,3,"lang_admin_enter_the_FamilyMark_question")," "),t.R7$(2),t.Y8G("ngIf",a.form))},dependencies:[m.YU,m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,kt.oV,r.j4,r.JD,oe.Z,ps.L,V.t,_s.f,L.R,se.V,O.Q,j.WGl,g.wp,g.Vs],encapsulation:2}),s})();const ys=()=>({"search-ver":!0});function Fs(n,s){1&n&&(t.j41(0,"span",12),t.nrm(1,"azt-loading-ui"),t.k0s())}function ws(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.search(1))}),t.EFF(1," View all "),t.k0s()}}function xs(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",14),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.EmptyTrackLog())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_xoa_tat_ca_loi_exception")," "))}function Cs(n,s){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_tuyet_voi_khong_co_loi_nao")))}function Es(n,s){if(1&n&&(t.j41(0,"div",20)(1,"div",21)(2,"div"),t.EFF(3),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s(),t.j41(6,"div"),t.EFF(7),t.k0s(),t.j41(8,"div"),t.EFF(9),t.k0s(),t.j41(10,"div"),t.EFF(11),t.k0s(),t.j41(12,"div"),t.EFF(13),t.nI1(14,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(15,"div"),t.EFF(16,"Url:"),t.j41(17,"a",22),t.EFF(18),t.k0s()(),t.j41(19,"div"),t.EFF(20),t.k0s(),t.j41(21,"div"),t.EFF(22),t.k0s(),t.j41(23,"div"),t.EFF(24),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(3),t.SpI("ID: ",i.id,""),t.R7$(2),t.SpI("Name: ",i.name,""),t.R7$(2),t.SpI("User Id: ",i.userId,""),t.R7$(2),t.SpI("Track Key: ",i.trackKey,""),t.R7$(2),t.SpI("Ip address: ",i.ipAddress,""),t.R7$(2),t.SpI("Created at: ",t.bMT(14,11,i.createdAt),""),t.R7$(4),t.FS9("href",i.url,t.B4B),t.R7$(),t.SpI(" ",i.url," "),t.R7$(2),t.SpI("User agent: ",i.useragent,""),t.R7$(2),t.SpI("Content: ",i.content,""),t.R7$(2),t.SpI("Error: ",i.error,"")}}function Ms(n,s){if(1&n){const i=t.RV6();t.j41(0,"div"),t.DNE(1,Cs,3,3,"div",15)(2,Es,25,13,"div",16),t.j41(3,"div",17)(4,"azt-paging",18),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.clickPage(a))}),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(),t.Y8G("ngIf",0==i.data.total),t.R7$(),t.Y8G("ngForOf",i.trackLogs),t.R7$(2),t.Y8G("screen","report_error")("linkPage","/super-role/report_exception")("pageObj",i.pageObj)}}let Os=(()=>{var n;class s extends h.H{GetTrackLogObjs(){this.loading=!0,this.adminJsExceptionLogService.apiAdminJsExceptionLogGetObjsGet(this.pageObj.page,this.paramApiSeach?.track_key,this.paramApiSeach?.url,this.paramApiSeach?.content).subscribe(e=>{1==e.success?(this.trackLogs=e.data?.objs,this.data=e.data,this.pageObj.setTotalPages(this.data?.total??0),this.showAllError=!1,this.loading=!1):(this.loading=!1,this.errorStatusObj(e.message??"",!0))})}EmptyTrackLog(){this.adminJsExceptionLogService.apiAdminJsExceptionLogEmptyObjsGet().subscribe(e=>{1==e.success?(this.GetTrackLogObjs(),this.showSuccessSnack("lang_auto_xoa_loi_exception_thanh_cong")):this.errorStatusObj(e.message??"",!0)})}clickPage(e){this.pageObj.setPageNumber(e),this.GetTrackLogObjs()}changeParamQuery(){this.commonService.myNavigationWithQueryString("/super-role/report_exception","?page="+this.pageObj.page)}search(e){if(0==e){this.statusShearch=!0;var a=""==this.searchUrl.value?"":this.searchUrl.value,o=""==this.searchContent.value?"":this.searchContent.value;this.track_key=""==this.trackKey.value?"":this.trackKey.value,this.paramApiSeach={url:a,content:o,track_key:this.track_key},this.GetTrackLogObjs()}else this.statusShearch=!1,this.searchUrl.setValue(""),this.searchContent.setValue(""),this.paramApiSeach={url:"",content:"",track_key:""},this.GetTrackLogObjs();this.changeParamQuery()}checkDevice(){this.isMobile=window.innerWidth<768}ngOnInit(){var e=this.commonService.getMyQueryParam("page");this.pageObj.page=""==e||null==e?1:Number(e),this.GetTrackLogObjs(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice(),super.ngOnInit()}constructor(e){super(),this.adminJsExceptionLogService=e,this.searchUrl=new r.MJ("",{nonNullable:!0}),this.searchContent=new r.MJ("",{nonNullable:!0}),this.trackKey=new r.MJ("",{nonNullable:!0}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.isMobile=!1,this.track_key="",this.pageObj=new Q.d(100)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.Zg))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-js-exception-log"]],features:[t.Vt3],decls:24,vars:25,consts:[[3,"headerBackToLink"],[1,"content","fluid-container","m-3",2,"padding","10px"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"row","pb-3","m-0"],[1,"col-12"],["type","text",1,"input-search","form-control",3,"keyup.enter","formControl","placeholder","value"],["azt-track-service","js-exception-log-RGkUTmFPmQs","class","row pb-3 ml-4 mr-4 clickable inline-block absolute","style","color: blue;",3,"click",4,"ngIf"],["azt-track-service","js-exception-log-DB6dzs9NHQx","class","row pb-3 ml-4 mr-4 clickable inline-block absolute","style","color: blue;",3,"click",4,"ngIf"],[1,"col-12","text-right"],["azt-track-service","js-exception-log-pI7hu1HY4Eu",1,"search-icon","clickable",2,"position","unset",3,"click"],["name","search","size","27",3,"ngClass"],[4,"ngIf"],[1,"w-4","h-4","inline-block"],["azt-track-service","js-exception-log-RGkUTmFPmQs",1,"row","pb-3","ml-4","mr-4","clickable","inline-block","absolute",2,"color","blue",3,"click"],["azt-track-service","js-exception-log-DB6dzs9NHQx",1,"row","pb-3","ml-4","mr-4","clickable","inline-block","absolute",2,"color","blue",3,"click"],["class","text-center m-5",4,"ngIf"],["class","view-error",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"goToPaginationPage","screen","linkPage","pageObj"],[1,"text-center","m-5"],[1,"view-error"],[1,"p-3","form-control","overflow-auto"],["azt-track-service","js-exception-log-Vaepfh6jkGy","target","_blank","rel","noopener noreferrer",3,"href"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1),t.DNE(2,Fs,2,0,"span",2),t.j41(3,"div",3)(4,"div",4)(5,"input",5),t.nI1(6,"mytranslate"),t.bIt("keyup.enter",function(){return a.search(0)}),t.k0s()()(),t.j41(7,"div",3)(8,"div",4)(9,"input",5),t.nI1(10,"mytranslate"),t.bIt("keyup.enter",function(){return a.search(0)}),t.k0s()()(),t.j41(11,"div",3)(12,"div",4)(13,"input",5),t.nI1(14,"mytranslate"),t.bIt("keyup.enter",function(){return a.search(0)}),t.k0s()()(),t.DNE(15,ws,2,0,"div",6)(16,xs,3,3,"div",7),t.j41(17,"div",3)(18,"div",8)(19,"button",9),t.bIt("click",function(){return a.search(0)}),t.EFF(20),t.nI1(21,"mytranslate"),t.nrm(22,"lucide-icon",10),t.k0s()()(),t.DNE(23,Ms,5,5,"div",11),t.k0s()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(2),t.Y8G("ngIf",!0===a.loading),t.R7$(3),t.FS9("placeholder",t.bMT(6,16,"lang_auto_nhap_noi_dung")),t.FS9("value",a.url_search),t.Y8G("formControl",a.searchContent),t.R7$(4),t.FS9("placeholder",t.bMT(10,18,"lang_auto_nhap_url")),t.FS9("value",a.url_search),t.Y8G("formControl",a.searchUrl),t.R7$(4),t.FS9("placeholder",t.bMT(14,20,"lang_auto_nhap_track_key")),t.FS9("value",a.track_key),t.Y8G("formControl",a.trackKey),t.R7$(2),t.Y8G("ngIf",!0===a.statusShearch),t.R7$(),t.Y8G("ngIf",!1===a.statusShearch&&a.data&&0!=a.data.total),t.R7$(4),t.SpI(" ",t.bMT(21,22,"lang_auto_tim_kiem")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(24,ys)),t.R7$(),t.Y8G("ngIf",a.data&&!1===a.loading))},dependencies:[m.YU,m.Sq,m.bT,r.me,r.BC,r.l_,H.q,L.R,O.Q,j.WGl,g.wp,g.bH],styles:[".content[_ngcontent-%COMP%]{border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784);border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:#33333394;font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(212,212,212);overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}.view-error[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;margin-bottom:8px}.click-show-image[_ngcontent-%COMP%]{padding:5px;background:#3636ff;position:absolute;color:#fff;font-weight:500}"]}),s})();const mt={PENDING:"PENDING",APPROVED:"APPROVED",DELETED:"DELETED",RUNNING:"RUNNING",COMPLETED:"COMPLETED"};var $s=u(35024),Ot=u(45919),re=u(96827),$t=u(33220),Ds=u(53904);const Gs=n=>[n];function Ns(n,s){1&n&&(t.j41(0,"div",56)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_please_enter")+" "+t.bMT(4,3,"lang_azt_product_name")+"!"))}function As(n,s){1&n&&(t.j41(0,"div",56)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_please_enter")+" "+t.bMT(4,3,"lang_azt_product_type")+"!"))}function Ps(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",57),t.EFF(1," # "),t.j41(2,"i"),t.EFF(3),t.k0s(),t.EFF(4," : "),t.j41(5,"span",58),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.selectGroupTag(a,"selectAll","optional"))}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8," | "),t.j41(9,"span",58),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.selectGroupTag(a,"unSelectAll","optional"))}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()}if(2&n){const i=s.$implicit;t.R7$(3),t.JRh(i.groupId),t.R7$(3),t.JRh(t.bMT(7,3,"lang_select_all")),t.R7$(4),t.JRh(t.bMT(11,5,"lang_remove_all"))}}function zs(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"mat-chip-row",59),t.bIt("removed",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.removeTag(a,"optional"))}),t.EFF(2),t.j41(3,"button",60)(4,"mat-icon"),t.EFF(5,"cancel"),t.k0s()()(),t.bVm()}if(2&n){const i=s.$implicit;t.R7$(2),t.SpI(" ",null==i.recCatTagObj?null:i.recCatTagObj.name," "),t.R7$(),t.BMQ("aria-label","remove "+i)}}function Ls(n,s){if(1&n&&(t.qex(0),t.j41(1,"mat-option",61),t.EFF(2),t.k0s(),t.bVm()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("value",i),t.R7$(),t.JRh(i.name)}}function Vs(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",57),t.EFF(1," # "),t.j41(2,"i"),t.EFF(3),t.k0s(),t.EFF(4," : "),t.j41(5,"span",58),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.selectGroupTag(a,"selectAll","required"))}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8," | "),t.j41(9,"span",58),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.selectGroupTag(a,"unSelectAll","required"))}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()}if(2&n){const i=s.$implicit;t.R7$(3),t.JRh(i.groupId),t.R7$(3),t.JRh(t.bMT(7,3,"lang_select_all")),t.R7$(4),t.JRh(t.bMT(11,5,"lang_remove_all"))}}function Bs(n,s){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"mat-chip-row",59),t.bIt("removed",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.removeTag(a,"required"))}),t.EFF(2),t.j41(3,"button",60)(4,"mat-icon"),t.EFF(5,"cancel"),t.k0s()()(),t.bVm()}if(2&n){const i=s.$implicit;t.R7$(2),t.SpI(" ",null==i.recCatTagObj?null:i.recCatTagObj.name," "),t.R7$(),t.BMQ("aria-label","remove "+i)}}function Ys(n,s){if(1&n&&(t.qex(0),t.j41(1,"mat-option",61),t.EFF(2),t.k0s(),t.bVm()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("value",i),t.R7$(),t.JRh(i.name)}}function Us(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",64)(1,"a",65),t.nrm(2,"img",66),t.k0s(),t.j41(3,"div",67)(4,"span",68),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.removeMedia(a))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(),t.BMQ("href",i.url,t.B4B),t.R7$(),t.Y8G("src",i.url,t.B4B),t.R7$(3),t.JRh(t.bMT(6,3,"lang_common_delete"))}}function Js(n,s){if(1&n&&(t.j41(0,"div",62),t.DNE(1,Us,7,5,"div",63),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.form.controls.mediaObjs.value)}}function qs(n,s){1&n&&(t.j41(0,"div",56)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_please_enter")+" "+t.bMT(4,3,"lang_azt_landing_html")+"!"))}function Xs(n,s){1&n&&(t.j41(0,"div",56)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_please_enter")+" "+t.bMT(4,3,"lang_azt_metadata")+"!"))}function Qs(n,s){1&n&&(t.j41(0,"div",56)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_please_enter")+" "+t.bMT(4,3,"lang_azt_price")+"!"))}function Hs(n,s){if(1&n&&(t.j41(0,"mat-option",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=s.$implicit;t.Y8G("value",i.value),t.R7$(),t.SpI(" ",t.bMT(2,2,i.value)," ")}}function Ws(n,s){1&n&&(t.j41(0,"div",69),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auth_please_select")+" "+t.bMT(3,3,"lang_azt_status"),"."))}function Ks(n,s){1&n&&t.nrm(0,"azt-loading-ui",70)}let le=(()=>{var n;class s extends v._{selectGroupTag(e,a,o){this.data.allTagsProduct.filter(d=>d.groupId==e.groupId).forEach("selectAll"==a?d=>this.addTag(d.name,o):d=>this.removeTag({tagId:d.id,status:o,recCatTagObj:d},o))}filteredTags(e){const o=this.commonService.convertVietnameseToEnglish(("optional"==e?this.form.controls.currentOptionalTagInput.value:this.form.controls.currentRequiredTagInput.value)??"").toLowerCase();return o?this.data.allTagsProduct.filter(l=>this.commonService.convertVietnameseToEnglish(l.name).toLowerCase().includes(o)):this.data.allTagsProduct.slice()}addTag(e,a){let o=this.data.allTagsProduct.find(l=>this.commonService.convertVietnameseToEnglish(l.name).toLowerCase().includes(this.commonService.convertVietnameseToEnglish(e).toLocaleLowerCase()));o&&this.currentSelectedTags.push({tagId:o.id,recCatTagObj:o,status:a}),"optional"==a?this.form.controls.currentOptionalTagInput.setValue(""):this.form.controls.currentRequiredTagInput.setValue("")}removeTag(e,a){let o=this.createTagKeyForFilter(e.tagId,a);this.currentSelectedTags=this.currentSelectedTags.filter(l=>this.createTagKeyForFilter(l.tagId,l.status)!=o)}selectedTag(e,a){let o=this.createTagKeyForFilter(e.id,a);this.currentSelectedTags.find(d=>this.createTagKeyForFilter(d.tagId,d.status)==o)||this.currentSelectedTags.push({tagId:e.id,recCatTagObj:e,status:a}),"optional"==a?this.form.controls.currentOptionalTagInput.setValue(""):this.form.controls.currentRequiredTagInput.setValue("")}getCurrentSelectedTags(e){return this.currentSelectedTags.filter(a=>a.status==e)}createTagKeyForFilter(e,a){return e+"_"+a.toString()}uploadMultipleFiles(e){let a=this.form.controls.mediaObjs.value;e.forEach(o=>{a.push({name:o.name??"",path:o.path??"",extension:o.extension??"",mimes:o.mimes??"",size:o.size?.toString()??"",url:o.url??"",lastModified:o.lastModified??0})}),this.form.controls.mediaObjs.setValue(a)}removeMedia(e){let a=this.form.controls.mediaObjs.value;a=a.filter(o=>o.url!=e.url),this.form.controls.mediaObjs.setValue(a)}handleCloseDialog(){this.dialogRef.close()}onSubmit(){if(this.form.invalid)return this.form.markAllAsTouched();this.data.productObj?this.callApiUpdateProduct():this.callApiCreateProduct()}callApiUpdateProduct(){this.initStatusObj();const e=this.form.getRawValue(),a={name:e.productName,shortDescription:e.description,landingHtml:e.landingHTML,price:Number(e.price),discountPercent:Number(e.discount),status:e.status,id:this.data.productObj?.id??0,tagObjs:this.currentSelectedTags.map(o=>({tagId:o.tagId,isRequired:"required"==o.status})),productPoint:e.productPoint,mediaObjs:e.mediaObjs};a.dynamicProductObj={type:e.productType,metadata:e.metadata,privateInfo:e.privateInfo},this.waitDestroy(this.adminProductManagementService.apiAdminProductManagementUpdateObjPost(a).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.dialogRef.close(!0),this.showSuccessSnack("lang_azt_update_product_successfully")}))}callApiCreateProduct(){this.initStatusObj();const e=this.form.getRawValue(),a={name:e.productName,shortDescription:e.description,landingHtml:e.landingHTML,price:Number(e.price),discountPercent:Number(e.discount),status:e.status,tagObjs:this.currentSelectedTags.map(o=>({tagId:o.tagId,isRequired:"required"==o.status})),productPoint:e.productPoint,mediaObjs:e.mediaObjs};a.dynamicProductObj={type:e.productType,metadata:e.metadata,privateInfo:e.privateInfo},this.waitDestroy(this.adminProductManagementService.apiAdminProductManagementSaveObjPost(a).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.dialogRef.close(!0),this.showSuccessSnack("lang_azt_add_product_successfully")}))}initData(){this.data.productObj&&(this.form.patchValue({productName:this.data.productObj.name,productType:this.data.productObj.type,description:this.data.productObj.shortDescription,landingHTML:this.data.productObj.landingHtml,metadata:this.data.productObj.metadata,price:this.data.productObj.price,discount:this.data.productObj.discountPercent,status:this.data.productObj.productStatusEnum,privateInfo:this.data.productObj.privateInfo,productPoint:this.data.productObj.productPoint,mediaObjs:this.data.productObj.mediaObjs}),this.currentSelectedTags=this.data.productObj.productTags.map(e=>({tagId:e.tagId,recCatTagObj:e.recCatTagObj,status:e.requireUserHasTag?"required":"optional"})))}ngOnInit(){super.ngOnInit();let e=this.data.allTagsProduct.map(a=>({groupId:a.groupId}));this.allGroupTags=this.commonService.uniqueArrayByField(e,"groupId"),this.initData()}constructor(e,a,o){super(a,e),this.dialogRef=e,this.data=a,this.adminProductManagementService=o,this.separatorKeysCodes=[Ot.Fm,Ot.KE],this.allUploadToCdnMenuTypes=Mt.b8,this.allUploadFileTypes=Mt.PO,this.allProductStatus=mt,this.productTypeList=[{value:mt.PENDING},{value:mt.APPROVED},{value:mt.RUNNING},{value:mt.COMPLETED}],this.allGroupTags=[],this.currentSelectedTags=[],this.form=new r.gE({productName:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),productType:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),landingHTML:new r.MJ("",{nonNullable:!0}),metadata:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),price:new r.MJ(0,{nonNullable:!0,validators:[r.k0.required]}),status:new r.MJ(mt.APPROVED,{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),discount:new r.MJ(0,{nonNullable:!0}),productPoint:new r.MJ(void 0,{nonNullable:!0}),description:new r.MJ("",{nonNullable:!0}),privateInfo:new r.MJ("",{nonNullable:!0}),currentOptionalTagInput:new r.MJ("",{nonNullable:!0}),currentRequiredTagInput:new r.MJ("",{nonNullable:!0}),mediaObjs:new r.MJ([],{nonNullable:!0})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(c.CP,8),t.rXU(c.Vh,8),t.rXU(F.V$))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-create-or-update-product"]],features:[t.Vt3],decls:153,vars:143,consts:[["optionalChipGrid",""],["optionalTagSelect",""],["autoOptional","matAutocomplete"],["requiredChipGrid",""],["requiredTagSelect",""],["autoRequired","matAutocomplete"],["searchInListBusinessScale","searchInList"],[1,"box"],[3,"ngSubmit","formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-base","font-bold","flex","items-center"],[1,"grid","grid-cols-12","gap-3","p-3"],[1,"col-span-12","md:col-span-6"],["for","productName",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","productName","formControlName","productName",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],["for","productType",1,"form-label","font-medium"],["type","text","id","productType","formControlName","productType",1,"form-control",3,"placeholder"],[1,"col-span-12"],[1,"form-label","font-medium"],["class","mb-3",4,"ngFor","ngForOf"],[1,"form-control",2,"width","100%"],["aria-label","Optional tags"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","formControl","matChipInputFor","matAutocomplete","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],["aria-label","Required tags"],["for","landingHTML",1,"form-label","font-medium"],[1,"box","p-3"],[3,"uploadComplete","uploadToCdnMenu","fileType","showProgress"],[1,"h-full","w-full","cursor-pointer","text-primary"],["class","flex mt-2 mb-8",4,"ngIf"],["id","landingHTML","formControlName","landingHTML",1,"form-control",3,"placeholder"],["for","metadata",1,"form-label","font-medium"],["id","metadata","formControlName","metadata",1,"form-control",3,"placeholder"],["for","price",1,"form-label","font-medium"],["type","text","appOnlyNumber","","id","price","formControlName","price",1,"form-control",3,"placeholder"],["for","discount",1,"form-label","font-medium"],["type","text","appOnlyNumber","","id","discount","formControlName","discount",1,"form-control",3,"placeholder"],["for","productPoint",1,"form-label","font-medium"],["type","text","appOnlyNumber","","id","productPoint",1,"form-control",3,"placeholder","formControl"],["appearance","outline",2,"width","100%"],["searchInList","","name","status","id","status",3,"placeholder","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["for","description",1,"form-label","font-medium"],["id","description","formControlName","description",1,"form-control",3,"placeholder"],["id","description","formControlName","privateInfo",1,"form-control",3,"placeholder"],[1,"p-3","flex","items-center"],[1,"ml-auto","flex","items-center"],["type","button",1,"btn","btn-secondary","min-width-100","mr-3",3,"click"],["type","submit",1,"btn","btn-primary","min-width-100"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","font-medium","mt-2"],[1,"mb-3"],[1,"clickable","link-color",3,"click"],[3,"removed"],["matChipRemove",""],[3,"value"],[1,"flex","mt-2","mb-8"],["style","width: 100px; height: 100px","class","box p-3 mb-2 mr-2",4,"ngFor","ngForOf"],[1,"box","p-3","mb-2","mr-2",2,"width","100px","height","100px"],["target","_blank"],["width","100%","height","100%",3,"src"],[1,"text-center","mt-2","mb-2"],[1,"text-danger","clickable",3,"click"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",7)(1,"form",8),t.bIt("ngSubmit",function(){return t.eBV(o),t.Njj(a.onSubmit())}),t.j41(2,"div",9)(3,"div",10)(4,"h3",11),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",9)(9,"azt-mat-dialog-content")(10,"div",12)(11,"div",13)(12,"label",14),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"div",15),t.nrm(16,"input",16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s(),t.DNE(19,Ns,5,5,"div",17),t.k0s(),t.j41(20,"div",13)(21,"label",18),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"div",15),t.nrm(25,"input",19),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.DNE(28,As,5,5,"div",17),t.k0s(),t.j41(29,"div",20)(30,"label",21),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.DNE(33,Ps,12,7,"div",22),t.j41(34,"div",15)(35,"mat-form-field",23)(36,"mat-chip-grid",24,0),t.DNE(38,zs,6,2,"ng-container",25),t.k0s(),t.j41(39,"input",26,1),t.nI1(41,"mytranslate"),t.bIt("matChipInputTokenEnd",function(d){return t.eBV(o),t.Njj(a.addTag(d.value,"optional"))}),t.k0s(),t.j41(42,"mat-autocomplete",27,2),t.bIt("optionSelected",function(d){t.eBV(o);const _=t.sdS(40);return a.selectedTag(d.option.value,"optional"),_.value="",t.Njj(d.option.deselect())}),t.DNE(44,Ls,3,2,"ng-container",25),t.k0s()()()(),t.j41(45,"div",20)(46,"label",21),t.EFF(47),t.nI1(48,"mytranslate"),t.k0s(),t.DNE(49,Vs,12,7,"div",22),t.j41(50,"div",15)(51,"mat-form-field",23)(52,"mat-chip-grid",28,3),t.DNE(54,Bs,6,2,"ng-container",25),t.k0s(),t.j41(55,"input",26,4),t.nI1(57,"mytranslate"),t.bIt("matChipInputTokenEnd",function(d){return t.eBV(o),t.Njj(a.addTag(d.value,"required"))}),t.k0s(),t.j41(58,"mat-autocomplete",27,5),t.bIt("optionSelected",function(d){t.eBV(o);const _=t.sdS(56);return a.selectedTag(d.option.value,"required"),_.value="",t.Njj(d.option.deselect())}),t.DNE(60,Ys,3,2,"ng-container",25),t.k0s()()()(),t.j41(61,"div",20)(62,"label",29),t.EFF(63),t.nI1(64,"mytranslate"),t.k0s(),t.j41(65,"div",30)(66,"azt-upload-multiple-box",31),t.bIt("uploadComplete",function(d){return t.eBV(o),t.Njj(a.uploadMultipleFiles(d))}),t.j41(67,"div",32),t.EFF(68),t.nI1(69,"mytranslate"),t.k0s()()(),t.DNE(70,Js,2,1,"div",33),t.k0s(),t.j41(71,"div",20)(72,"label",29),t.EFF(73),t.nI1(74,"mytranslate"),t.k0s(),t.j41(75,"div",15),t.nrm(76,"textarea",34),t.nI1(77,"mytranslate"),t.nI1(78,"mytranslate"),t.k0s(),t.DNE(79,qs,5,5,"div",17),t.k0s(),t.j41(80,"div",20)(81,"label",35),t.EFF(82),t.nI1(83,"mytranslate"),t.k0s(),t.j41(84,"div",15),t.nrm(85,"textarea",36),t.nI1(86,"mytranslate"),t.nI1(87,"mytranslate"),t.k0s(),t.DNE(88,Xs,5,5,"div",17),t.k0s(),t.j41(89,"div",13)(90,"label",37),t.EFF(91),t.nI1(92,"mytranslate"),t.k0s(),t.j41(93,"div",15),t.nrm(94,"input",38),t.nI1(95,"mytranslate"),t.nI1(96,"mytranslate"),t.k0s(),t.DNE(97,Qs,5,5,"div",17),t.k0s(),t.j41(98,"div",13)(99,"label",39),t.EFF(100),t.nI1(101,"mytranslate"),t.k0s(),t.j41(102,"div",15),t.nrm(103,"input",40),t.nI1(104,"mytranslate"),t.k0s()(),t.j41(105,"div",20)(106,"label",41),t.EFF(107),t.nI1(108,"mytranslate"),t.k0s(),t.j41(109,"div",15),t.nrm(110,"input",42),t.nI1(111,"mytranslate"),t.k0s()(),t.j41(112,"div",20)(113,"label",39),t.EFF(114),t.nI1(115,"mytranslate"),t.k0s(),t.j41(116,"mat-form-field",43)(117,"mat-select",44,6),t.nI1(119,"mytranslate"),t.j41(120,"mat-option"),t.nrm(121,"ngx-mat-select-search",45),t.nI1(122,"mytranslate"),t.nI1(123,"mytranslate"),t.k0s(),t.DNE(124,Hs,3,4,"mat-option",46),t.k0s()(),t.DNE(125,Ws,4,5,"div",47),t.k0s(),t.j41(126,"div",20)(127,"label",48),t.EFF(128),t.nI1(129,"mytranslate"),t.k0s(),t.j41(130,"div",15),t.nrm(131,"textarea",49),t.nI1(132,"mytranslate"),t.nI1(133,"mytranslate"),t.k0s()(),t.j41(134,"div",20)(135,"label",48),t.EFF(136),t.nI1(137,"mytranslate"),t.k0s(),t.j41(138,"div",15),t.nrm(139,"textarea",50),t.nI1(140,"mytranslate"),t.nI1(141,"mytranslate"),t.k0s()()()()(),t.j41(142,"div",51)(143,"div",52)(144,"button",53),t.bIt("click",function(){return t.eBV(o),t.Njj(a.handleCloseDialog())}),t.EFF(145),t.nI1(146,"mytranslate"),t.k0s(),t.j41(147,"button",54),t.DNE(148,Ks,1,0,"azt-loading-ui",55),t.j41(149,"span"),t.EFF(150),t.nI1(151,"mytranslate"),t.nI1(152,"mytranslate"),t.k0s()()()()()()}if(2&e){const o=t.sdS(37),l=t.sdS(43),d=t.sdS(53),_=t.sdS(59),M=t.sdS(118);t.R7$(),t.Y8G("formGroup",a.form),t.R7$(4),t.SpI(" ",a.data?t.bMT(6,61,"lang_azt_update_product"):t.bMT(7,63,"lang_azt_add_product")," "),t.R7$(8),t.JRh(t.bMT(14,65,"lang_azt_product_name")),t.R7$(3),t.FS9("placeholder",t.bMT(17,67,"lang_azt_enter")+" "+t.bMT(18,69,"lang_azt_product_name")),t.R7$(3),t.Y8G("ngIf",a.form.controls.productName.errors&&a.form.controls.productName.touched),t.R7$(3),t.JRh(t.bMT(23,71,"lang_azt_product_type")),t.R7$(3),t.FS9("placeholder",t.bMT(26,73,"lang_azt_enter")+" "+t.bMT(27,75,"lang_azt_product_type")),t.R7$(3),t.Y8G("ngIf",a.form.controls.productType.errors&&a.form.controls.productType.touched),t.R7$(3),t.JRh(t.bMT(32,77,"lang_product_optional_tags")),t.R7$(2),t.Y8G("ngForOf",a.allGroupTags),t.R7$(5),t.Y8G("ngForOf",a.getCurrentSelectedTags("optional")),t.R7$(),t.FS9("placeholder",t.bMT(41,79,"lang_product_optional_tags_select")),t.Y8G("formControl",a.form.controls.currentOptionalTagInput)("matChipInputFor",o)("matAutocomplete",l)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes),t.R7$(5),t.Y8G("ngForOf",a.filteredTags("optional")),t.R7$(3),t.JRh(t.bMT(48,81,"lang_product_required_tags")),t.R7$(2),t.Y8G("ngForOf",a.allGroupTags),t.R7$(5),t.Y8G("ngForOf",a.getCurrentSelectedTags("required")),t.R7$(),t.FS9("placeholder",t.bMT(57,83,"lang_product_required_tags_select")),t.Y8G("formControl",a.form.controls.currentRequiredTagInput)("matChipInputFor",d)("matAutocomplete",_)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes),t.R7$(5),t.Y8G("ngForOf",a.filteredTags("required")),t.R7$(3),t.JRh(t.bMT(64,85,"lang_product_image")),t.R7$(3),t.Y8G("uploadToCdnMenu",a.allUploadToCdnMenuTypes.PRODUCT)("fileType",t.eq3(141,Gs,a.allUploadFileTypes.IMAGE))("showProgress",!0),t.R7$(2),t.JRh(t.bMT(69,87,"lang_product_click_here_to_upload_image")),t.R7$(2),t.Y8G("ngIf",a.form.controls.mediaObjs.value.length>0),t.R7$(3),t.JRh(t.bMT(74,89,"lang_azt_landing_html")),t.R7$(3),t.FS9("placeholder",t.bMT(77,91,"lang_azt_enter")+" "+t.bMT(78,93,"lang_azt_landing_html")),t.R7$(3),t.Y8G("ngIf",a.form.controls.landingHTML.errors&&a.form.controls.landingHTML.touched),t.R7$(3),t.JRh(t.bMT(83,95,"lang_azt_metadata")),t.R7$(3),t.FS9("placeholder",t.bMT(86,97,"lang_azt_enter")+" "+t.bMT(87,99,"lang_azt_metadata")),t.R7$(3),t.Y8G("ngIf",a.form.controls.metadata.errors&&a.form.controls.metadata.touched),t.R7$(3),t.JRh(t.bMT(92,101,"lang_azt_price")+" (VN\u0110)"),t.R7$(3),t.FS9("placeholder",t.bMT(95,103,"lang_azt_enter")+" "+t.bMT(96,105,"lang_azt_price")),t.R7$(3),t.Y8G("ngIf",a.form.controls.price.errors&&a.form.controls.price.touched),t.R7$(3),t.JRh(t.bMT(101,107,"lang_product_discount_percent")+" (%)"),t.R7$(3),t.FS9("placeholder",t.bMT(104,109,"lang_azt_enter_discount")),t.R7$(4),t.JRh(t.bMT(108,111,"lang_product_product_point")),t.R7$(3),t.FS9("placeholder",t.bMT(111,113,"lang_product_product_point")),t.Y8G("formControl",a.form.controls.productPoint),t.R7$(4),t.JRh(t.bMT(115,115,"lang_azt_status")),t.R7$(3),t.FS9("placeholder",t.bMT(119,117,"lang_azt_status")),t.Y8G("formControl",a.form.controls.status),t.R7$(4),t.FS9("placeholderLabel",t.bMT(122,119,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(123,121,"lang_search_not_found")),t.Y8G("formControl",M.searchControl),t.R7$(3),t.Y8G("ngForOf",M.filter(a.productTypeList,"value")),t.R7$(),t.Y8G("ngIf",a.form.controls.status.errors&&a.form.controls.status.touched),t.R7$(3),t.JRh(t.bMT(129,123,"lang_azt_description")),t.R7$(3),t.FS9("placeholder",t.bMT(132,125,"lang_azt_enter")+" "+t.bMT(133,127,"lang_azt_description")),t.R7$(5),t.JRh(t.bMT(137,129,"lang_azt_private_info")),t.R7$(3),t.FS9("placeholder",t.bMT(140,131,"lang_azt_enter")+" "+t.bMT(141,133,"lang_azt_private_info")),t.R7$(6),t.SpI(" ",t.bMT(146,135,"lang_button_cancel")," "),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading),t.R7$(2),t.JRh(a.data?t.bMT(151,137,"lang_auto_cap_nhat"):t.bMT(152,139,"lang_button_save"))}},dependencies:[m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,re.$3,at.wT,re.pN,$t.HW,$t.D7,$t.Zv,$t.jH,Ds.An,et.rl,lt.VO,r.l_,r.j4,r.JD,oe.Z,V.t,vt.U,L.R,se.V,pt.x,$.U9,g.wp],encapsulation:2}),s})();const Zs=(n,s)=>({"bg-success":n,"bg-pending":s}),tr=n=>({"text-danger":n});function er(n,s){1&n&&(t.j41(0,"div",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function nr(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",10)(1,"button",11),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.createProduct())}),t.nrm(2,"lucide-icon",12),t.j41(3,"span",13),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(4),t.JRh(t.bMT(5,1,"lang_azt_add_product")))}function ar(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",14),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ir(n,s){if(1&n&&(t.qex(0),t.j41(1,"span",46),t.EFF(2),t.k0s(),t.bVm()),2&n){const i=s.$implicit;t.R7$(),t.Y8G("ngClass",t.eq3(2,tr,i.requireUserHasTag)),t.R7$(),t.JRh(null==i.recCatTagObj?null:i.recCatTagObj.name)}}function or(n,s){if(1&n&&(t.j41(0,"div",9),t.DNE(1,ir,3,4,"ng-container",45),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.productTags)}}function sr(n,s){1&n&&t.nrm(0,"lucide-icon",47)}function rr(n,s){1&n&&t.nrm(0,"lucide-icon",48)}function lr(n,s){if(1&n&&(t.j41(0,"div",49),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",null==i.creatorInfoObj?null:i.creatorInfoObj.phone," ")}}function cr(n,s){if(1&n&&(t.j41(0,"div",49),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",null==i.creatorInfoObj?null:i.creatorInfoObj.email," ")}}function dr(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",24)(1,"td")(2,"div",25)(3,"div",26),t.EFF(4),t.k0s(),t.j41(5,"div",27),t.EFF(6),t.k0s(),t.j41(7,"div",27),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.DNE(10,or,2,1,"div",4),t.k0s()(),t.j41(11,"td")(12,"div",28),t.DNE(13,sr,1,0,"lucide-icon",29)(14,rr,1,0,"lucide-icon",30),t.j41(15,"span",31),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"td")(19,"span"),t.EFF(20),t.nI1(21,"formatMoney"),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"td")(24,"span"),t.EFF(25),t.nI1(26,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s()(),t.j41(27,"td"),t.EFF(28),t.nI1(29,"mytranslate"),t.j41(30,"span",32),t.EFF(31),t.k0s(),t.nrm(32,"br"),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s(),t.j41(35,"td")(36,"div",33)(37,"div",34),t.nrm(38,"azt-create-avatar",35),t.k0s(),t.j41(39,"div",36)(40,"div",37)(41,"span"),t.EFF(42),t.k0s()(),t.DNE(43,lr,2,1,"div",38)(44,cr,2,1,"div",38),t.k0s()()(),t.j41(45,"td")(46,"div",39)(47,"button",40),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.viewProduct(a))}),t.nrm(48,"lucide-icon",41),t.j41(49,"span",13),t.EFF(50,"Hi\u1ec3n th\u1ecb"),t.k0s()(),t.j41(51,"button",40),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.updateProduct(a))}),t.nrm(52,"lucide-icon",42),t.j41(53,"span",13),t.EFF(54),t.nI1(55,"mytranslate"),t.k0s()(),t.j41(56,"button",43),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.removeProduct(a))}),t.nrm(57,"lucide-icon",44),t.j41(58,"span",13),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s()()()()()}if(2&n){let i,e;const a=s.$implicit,o=t.XpG(2);t.Y8G("id","row_product_"+a.id),t.R7$(4),t.Lme("#",a.id,". ",a.name,""),t.R7$(2),t.JRh(a.type),t.R7$(2),t.Lme("",t.bMT(9,25,"lang_product_product_point"),": ",a.productPoint,""),t.R7$(2),t.Y8G("ngIf",a.productTags.length>0),t.R7$(2),t.Y8G("ngClass",t.l_i(43,Zs,a.productStatusEnum!=o.allProductStatus.PENDING,a.productStatusEnum==o.allProductStatus.PENDING)),t.R7$(),t.Y8G("ngIf",a.productStatusEnum!=o.allProductStatus.PENDING),t.R7$(),t.Y8G("ngIf",a.productStatusEnum==o.allProductStatus.PENDING),t.R7$(2),t.JRh(t.bMT(17,27,a.productStatusEnum.toString())),t.R7$(4),t.JRh(t.bMT(21,29,a.price)+" "+t.bMT(22,31,"lang_auto_vnd_upper")),t.R7$(5),t.JRh(t.bMT(26,33,a.updatedAt)),t.R7$(3),t.SpI(" ",t.bMT(29,35,"lang_product_transaction_info_success_transaction"),": "),t.R7$(3),t.JRh(null!==(i=null==a.paymentInfoObj?null:a.paymentInfoObj.totalSuccess)&&void 0!==i?i:0),t.R7$(2),t.Lme(" ",t.bMT(34,37,"lang_product_transaction_info_total_transaction"),": ",(null!==(e=null==a.paymentInfoObj?null:a.paymentInfoObj.totalSuccess)&&void 0!==e?e:0)+(null!==(e=null==a.paymentInfoObj?null:a.paymentInfoObj.totalPending)&&void 0!==e?e:0)," "),t.R7$(5),t.Y8G("linkAvatar",null==a.creatorInfoObj?null:a.creatorInfoObj.avatar)("nameCreateAvatar",null==a.creatorInfoObj?null:a.creatorInfoObj.fullName)("size",50),t.R7$(4),t.JRh(null==a.creatorInfoObj?null:a.creatorInfoObj.fullName),t.R7$(),t.Y8G("ngIf",null==a.creatorInfoObj?null:a.creatorInfoObj.phone),t.R7$(),t.Y8G("ngIf",null==a.creatorInfoObj?null:a.creatorInfoObj.email),t.R7$(10),t.JRh(t.bMT(55,39,"lang_auto_sua")),t.R7$(5),t.JRh(t.bMT(60,41,"lang_auto_xoa"))}}function mr(n,s){1&n&&t.nrm(0,"azt-loading-ui",50),2&n&&t.Y8G("size",16)}function ur(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",51),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const a=t.XpG(2);return t.Njj(a.getData(a.nextPage))}),t.j41(2,"span",13),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",52),t.k0s()}if(2&n){const i=t.XpG(2);t.FS9("matTooltip",t.bMT(1,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Y8G("disabled",!i.nextPage),t.R7$(3),t.JRh(t.bMT(4,5,"lang_auto_xem_them"))}}function pr(n,s){if(1&n&&(t.j41(0,"div",15)(1,"drag-scroll")(2,"table",16)(3,"thead")(4,"tr",17)(5,"th",18),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",19),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",19),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",19),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",19),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",19),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"th",20),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()(),t.j41(26,"tbody"),t.DNE(27,dr,61,46,"tr",21),t.k0s()()(),t.j41(28,"div",22),t.DNE(29,mr,1,1,"azt-loading-ui",23)(30,ur,6,7,"ng-template",null,1,t.C5r),t.k0s()()),2&n){const i=t.sdS(31),e=t.XpG();t.R7$(6),t.JRh(t.bMT(7,10,"lang_azt_product")),t.R7$(3),t.JRh(t.bMT(10,12,"lang_azt_status")),t.R7$(3),t.JRh(t.bMT(13,14,"lang_azt_price")),t.R7$(3),t.JRh(t.bMT(16,16,"lang_azt_updated_at")),t.R7$(3),t.JRh(t.bMT(19,18,"lang_product_transaction_info")),t.R7$(3),t.JRh(t.bMT(22,20,"lang_product_creator_user")),t.R7$(3),t.JRh(t.bMT(25,22,"lang_azt_action")),t.R7$(3),t.Y8G("ngForOf",e.productList),t.R7$(2),t.Y8G("ngIf",e.loadingMore)("ngIfElse",i)}}let _r=(()=>{var n;class s extends h.H{onSearchBox(e){if(this.searchContentObj=e,!this.searchContentObj.searchContent)return this.getData();this.waitDestroy(this.adminProductManagementService.apiAdminProductManagementSearchObjsPost({keyword:this.searchContentObj.searchContent,nextPage:void 0}).subscribe(a=>{if(!a.message)return this.errorStatusObj(a.message,!0);this.productList=a.data?.objs??[],this.nextPage=a.data?.nextPage??""}))}createProduct(){this.dialogService.open(le,{data:{allTagsProduct:this.allTagsProduct},width:"900px"}).afterClosed().subscribe(a=>{a&&this.getData()})}updateProduct(e){this.dialogService.open(le,{data:{productObj:e,allTagsProduct:this.allTagsProduct},width:"900px"}).afterClosed().subscribe(o=>{o&&this.getData()})}viewProduct(e){this.onViewProduct.emit(e)}removeProduct(e){const a={content:`<span>${this.commonService.myTranslateInstant("lang_azt_are_you_sure_you_want_to_delete_the_product")} <b>${e.name}</b>?</span>`,iconName:"trash-2"};this.dialogService.open(bt.u,{data:a,width:"600px"}).afterClosed().subscribe(l=>{l&&this.callApiRemoveProduct(e)})}getData(e){e||this.initStatusObj(),this.loadingMore=!0,this.waitDestroy(this.adminProductManagementService.apiAdminProductManagementGetObjsPost({nextPage:e}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.productList=a.data?.objs??[],this.nextPage=a.data?.nextPage??"",this.loadingMore=!1,this.successStatusObj()}))}getAllTagsProduct(){this.initStatusObj(),this.waitDestroy(this.customerProductTagService.apiCustomerProductTagGetObjsGet(!0).subscribe(e=>{this.allTagsProduct=e.data?.objs??[],this.getData()}))}callApiRemoveProduct(e){this.waitDestroy(this.adminProductManagementService.apiAdminProductManagementDeleteObjGet(e.id).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.getData(),this.showSuccessSnack("lang_azt_delete_product_successfully")}))}ngOnInit(){super.ngOnInit(),this.getAllTagsProduct()}constructor(e,a){super(),this.dialogService=e,this.adminProductManagementService=a,this.modeView="admin",this.onViewProduct=new t.bkB,this.customerProductTagService=(0,t.WQX)($s.ZL),this.searchContentObj=new xt.Z,this.productList=[],this.allTagsProduct=[],this.nextPage="",this.loadingMore=!0,this.allProductStatus=mt}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(U.i),t.rXU(F.V$))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-product-list"]],inputs:{modeView:"modeView"},outputs:{onViewProduct:"onViewProduct"},features:[t.Vt3],decls:12,vars:11,consts:[["doneLoading",""],["doneLoadNextPage",""],[1,"mt-5"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"mt-4","flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],["class","ml-auto",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mt-1"],[1,"ml-auto"],[1,"btn","btn-primary",3,"click"],["name","plus","size","20"],[1,"ml-2"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"width","300px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-right",2,"width","250px"],[3,"id",4,"ngFor","ngForOf"],[1,"mt-3","mb-3","flex","justify-center"],[3,"size",4,"ngIf","ngIfElse"],[3,"id"],[1,"product"],[1,"font-medium"],[1,"mt-1","text-xs","text-slate-500"],[1,"py-1","px-2","rounded-full","text-xs","font-medium","inline-flex","items-center","text-white",3,"ngClass"],["name","check","size","16",4,"ngIf"],["name","rectangle-ellipsis","size","16",4,"ngIf"],[1,"ml-1"],[1,"text-success"],[1,"flex","items-center"],[1,"flex-none","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","overflow-hidden",2,"width","100%"],[1,"flex","items-center","font-medium"],["class","w-full text-xs text-slate-500 mt-0.5",4,"ngIf"],[1,"flex","items-center","justify-end",2,"width","250px"],[1,"btn","btn-sm","btn-primary-soft","ml-3",3,"click"],["name","tv","size","16"],["name","square-pen","size","16"],[1,"btn","btn-sm","btn-danger-soft","ml-3",3,"click"],["name","trash-2","size","16"],[4,"ngFor","ngForOf"],[1,"mr-2","py-0.5","px-2","rounded-full","text-xs","bg-slate-100","text-black","font-medium",3,"ngClass"],["name","check","size","16"],["name","rectangle-ellipsis","size","16"],[1,"w-full","text-xs","text-slate-500","mt-0.5"],[3,"size"],[1,"btn","btn-transparent",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",2)(1,"h3",3),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,er,3,3,"div",4),t.k0s(),t.j41(5,"div",5)(6,"azt-search-box",6),t.nI1(7,"mytranslate"),t.bIt("onSearch",function(d){return t.eBV(o),t.Njj(a.onSearchBox(d.searchObj))}),t.k0s(),t.DNE(8,nr,6,3,"div",7),t.k0s(),t.DNE(9,ar,1,1,"azt-loading-effect",8)(10,pr,32,24,"ng-template",null,0,t.C5r)}if(2&e){const o=t.sdS(11);t.R7$(2),t.JRh(t.bMT(3,7,"lang_azt_product_list")),t.R7$(2),t.Y8G("ngIf",a.productList.length>0&&"admin"===a.modeView&&a.isMobileDevice),t.R7$(2),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(7,9,"lang_azt_search_by_description_or_topic")),t.R7$(2),t.Y8G("ngIf","admin"===a.modeView),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,kt.oV,A.K,Et.p,L.R,Ct.W,j.WGl,R.jd,R.Ew,g.wp,g.i_,g.t0],encapsulation:2}),s})();class hr{static parseIncompleteJson(s){if(!s||""==s.trim()||!/^[{[].*/.test(s.trim()))return s;s.startsWith("```json")&&(s=s.substring(7).trim()),s.endsWith("```")&&(s=s.substring(0,s.length-3));try{return JSON.parse(s)}catch{}s.endsWith(",")&&(s=s.substring(0,s.length-1));let i=[],e=['"',"[","{"],a=['"',"]","}"];for(let o=0;o<s.length;o++){if(o>0&&"\\"==s.charAt(o-1))continue;let d=s.charAt(o);if('"'==i[i.length-1]){'"'==d&&i.splice(i.length-1);continue}if(e.includes(d)){i.push(d);continue}let _=a.indexOf(d);_>=0&&i[i.length-1]==e[_]&&i.splice(i.length-1)}if(i.length>0)for(let o=i.length-1;o>=0;o--)s+=a[e.indexOf(i[o])];try{return JSON.parse(s)}catch{}return null}static distinctArray(s){return Array.from(new Set(s))}static parseJson(s){return JSON.parse(s.replaceAll(/},\s*]/g,"}]"))}static createDemoDataForJsonSchema(s){return function e(a){switch(a.type){case"string":return"demo string";case"number":return 42;case"boolean":return!0;case"object":const o={};if(a.properties)for(const l in a.properties)o[l]=e(a.properties[l]);return o;case"array":return[e(a.items)];default:return null}}(JSON.parse(s))}static compileTemplate(s,i){let e=s;const a=[...e.matchAll(/\$\(([a-zA-Z]+):([^\$]+)\)\$/g)],o=[];for(const C of a){e=e.replaceAll(C[0],"").trim();const P=C[2].split("|").map(D=>this.compileTemplate(D.trim(),i));for(let D=0;D<P[0].length;D++){const B=[],Z=[];for(const rt of P)Z.push(rt[D]);B.push(C[1].trim()),B.push(...Z),o.push(B)}}e=e.replaceAll(/\*for="([a-zA-Z0-9_-]+) of \{([a-zA-Z0-9._-]+)\}"/g,'id="sys___loop-node" data-for="$2=>$1"'),e=e.replaceAll(/\*for="([a-zA-Z0-9_-]+) of ([a-zA-Z0-9._-]+)"/g,'id="sys___loop-node" data-for="$2=>$1"');let l=document.createElement("div");for(l.innerHTML=e;;){let C=l.querySelector("#sys___loop-node");if(!C)break;let P=C.getAttribute("data-for").split("=>");C.removeAttribute("data-for"),C.removeAttribute("id");let D=P[0],B=P[1],Z=P[0].split("."),rt=[];if(1==Z.length)rt=JSON.parse(i.get(P[0])??"[]");else{let ut=JSON.parse(i.get(Z[0]));for(var d=1;d<Z.length;d++)ut=ut[Z[d]];rt=ut??[]}let It=C.parentNode,jt=C.outerHTML,b=jt.matchAll(/\{([a-zA-Z0-9#$._-]+)\}/g),ge=[];for(let ut of b)ge.push(ut[1]);let Rt=-1;for(let ut of rt){Rt++;let it=jt;for(let Ut of ge){if("index"==Ut){it=it.replaceAll("{index}",Rt+"");continue}let tt,xd=Ut.split(".");for(let St of xd){if(!tt&&St==P[1]){tt=ut;continue}let be=!1;St.endsWith("[index]")&&(St=St.split("[")[0],be=!0),tt&&(tt=tt[St]),tt&&be&&(tt=tt[Rt])}tt||(tt=""),it=it.replaceAll(`{${Ut}}`,tt)}it=it.replaceAll("[index]",`[${Rt}]`),it=it.replaceAll(`[${B}]`,`${D}[${Rt}]`);let fe=document.createElement("div");fe.innerHTML=it,It?.insertBefore(fe.firstChild,C)}It?.removeChild(C)}let _=l.innerHTML,M=_.matchAll(/\{([a-zA-Z0-9#$._-]+)\}/g),E=[];for(let C of M)E.push(C[1]);for(let C of E){let P=C.split(".");if(P.length>1){let D=JSON.parse(i.get(P[0])),B=0;for(let Z of P)0!=B?(D=D[Z],B++):B++;_=_.replaceAll(`{${C}}`,D??"")}else _=_.replaceAll(`{${C}}`,i.get(P[0])??"")}for(const C of o)"replace"===C[0]&&(_=_.replaceAll(C[1],C[2]));return _}static extractProperties(s,i){return s?Object.keys(s).flatMap(e=>{const a=s[e],o=Array.isArray(a)?"array":typeof a,l={name:e,type:o,level:i};return"object"!==o||null===a||Array.isArray(a)?[l]:[l,...this.extractProperties(a,i+1)]}):[]}}var ce=u(71738);const gr=()=>[];function fr(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div"),t.EFF(3," LANDING PAGE "),t.j41(4,"span",6),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.edit("landing"))}),t.nrm(5,"lucide-icon",7),t.k0s()(),t.j41(6,"div",8),t.nrm(7,"div",9),t.nI1(8,"safeNormalHtmlContent"),t.k0s()(),t.j41(9,"div")(10,"div"),t.EFF(11," AD VIEW "),t.j41(12,"span",6),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.edit("adView"))}),t.nrm(13,"lucide-icon",7),t.k0s()(),t.j41(14,"div",10),t.nrm(15,"div",9),t.nI1(16,"safeNormalHtmlContent"),t.k0s(),t.j41(17,"div"),t.EFF(18," AD VIEW POPUP "),t.j41(19,"span",6),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.edit("adViewPopup"))}),t.nrm(20,"lucide-icon",7),t.k0s()(),t.j41(21,"div",8),t.nrm(22,"div",9),t.nI1(23,"safeNormalHtmlContent"),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(7),t.Y8G("innerHTML",t.bMT(8,3,null==i.product?null:i.product.landingHtml),t.npT),t.R7$(8),t.Y8G("innerHTML",t.bMT(16,5,i.meta.adView),t.npT),t.R7$(7),t.Y8G("innerHTML",t.bMT(23,7,i.meta.adViewPopup),t.npT)}}function br(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",11)(1,"app-input-format",12),t.bIt("onSave",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.render(a))})("onClose",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.close())}),t.k0s()()}if(2&n){let i;const e=t.XpG();t.R7$(),t.Y8G("html",!0)("inputStr",e.template)("vars",e.vars)("mediaObjs",null!==(i=null==e.product?null:e.product.mediaObjs)&&void 0!==i?i:t.lJ4(4,gr))}}let vr=(()=>{var n;class s extends h.H{constructor(){super(),this.vars=[],this.template="",this.curType="",this.meta={},this.onSave=new t.bkB,this.onBack=new t.bkB}ngOnInit(){this.product&&(this.product.landingHtml=this.product?.landingHtml??"",this.meta=JSON.parse(this.product?.metadata??"{}"),this.vars=[{type:"json",name:"product",demo:JSON.stringify(this.product)}])}save(){this.product.metadata=JSON.stringify(this.meta),this.onSave.emit(this.product)}edit(e){this.curType=e,"landing"===e?this.template=this.meta.landingTemplate??this.product.landingHtml:"adView"===e?this.template=this.meta.adViewTemplate??"":"adViewPopup"===e&&(this.template=this.meta.adViewPopupTemplate??"")}render(e){"landing"===this.curType?(this.product.landingHtml=this.compile(e),this.meta.landingTemplate=e):"adView"===this.curType?(this.meta.adView=this.compile(e),this.meta.adViewTemplate=e):"adViewPopup"===this.curType&&(this.meta.adViewPopup=this.compile(e),this.meta.adViewPopupTemplate=e),this.save(),this.close()}close(){this.curType="",this.template=""}back(){this.onBack.emit()}compile(e){try{return hr.compileTemplate(e,new Map(this.vars.map(a=>[a.name,a.demo])))}catch{return e}}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-admin-product-view"]],inputs:{product:"product"},outputs:{onSave:"onSave",onBack:"onBack"},features:[t.Vt3],decls:4,vars:2,consts:[[1,"text-right","text-lg","p-3","cursor-pointer"],[1,"bx","bx-x",3,"click"],["class","grid grid-cols-3 gap-4 p-3",4,"ngIf"],["class","p-3",4,"ngIf"],[1,"grid","grid-cols-3","gap-4","p-3"],[1,"col-span-2"],[1,"text-primary","cursor-pointer",3,"click"],["name","pencil","size","15"],[1,"box","p-3","mt-3"],[3,"innerHTML"],[1,"box","p-3","mt-3","mb-3"],[1,"p-3"],[3,"onSave","onClose","html","inputStr","vars","mediaObjs"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"i",1),t.bIt("click",function(){return a.back()}),t.k0s()(),t.DNE(2,fr,24,9,"div",2)(3,br,2,5,"div",3)),2&e&&(t.R7$(2),t.Y8G("ngIf",!a.curType),t.R7$(),t.Y8G("ngIf",a.curType))},dependencies:[m.bT,ce.R,j.WGl,g._y],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),s})();function kr(n,s){if(1&n){const i=t.RV6();t.j41(0,"app-product-list",3),t.bIt("onViewProduct",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.viewProduct(a))}),t.k0s()}2&n&&t.Y8G("modeView","admin")}function Ir(n,s){if(1&n){const i=t.RV6();t.j41(0,"app-admin-product-view",4),t.bIt("onBack",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.back())})("onSave",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.saveProduct(a))}),t.k0s()}if(2&n){const i=t.XpG();t.Y8G("product",i.curProduct)}}let jr=(()=>{var n;class s extends h.H{viewProduct(e){this.curProduct=e,this.backLink="/super-role/product-management"}saveProduct(e){this.curProduct=e,this.callApiUpdateProduct()}back(){this.curProduct=void 0}callApiUpdateProduct(){this.initStatusObj();const e=this.curProduct,a={name:e.name,liveClassProductObj:void 0,dynamicProductObj:void 0,shortDescription:e.shortDescription,landingHtml:e.landingHtml,price:Number(e.price),discountPercent:Number(e.discountPercent),status:e.productStatusEnum,id:e.id,tagObjs:e.productTags.map(o=>({tagId:o.tagId,isRequired:!!o.requireUserHasTag})),mediaObjs:e.mediaObjs};a.dynamicProductObj={type:e.type,metadata:e.metadata,privateInfo:e.privateInfo},this.waitDestroy(this.adminProductManagementService.apiAdminProductManagementUpdateObjPost(a).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.showSuccessSnack("lang_azt_update_product_successfully")}))}constructor(e){super(),this.adminProductManagementService=e,this.backLink="/super-role/admin-tool"}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.V$))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-product-management"]],features:[t.Vt3],decls:3,vars:3,consts:[[3,"headerBackToLink"],[3,"modeView","onViewProduct",4,"ngIf"],[3,"product","onBack","onSave",4,"ngIf"],[3,"onViewProduct","modeView"],[3,"onBack","onSave","product"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0),t.DNE(1,kr,1,1,"app-product-list",1)(2,Ir,1,1,"app-admin-product-view",2),t.k0s()),2&e&&(t.Y8G("headerBackToLink",a.backLink),t.R7$(),t.Y8G("ngIf",!a.curProduct),t.R7$(),t.Y8G("ngIf",a.curProduct))},dependencies:[m.bT,O.Q,_r,vr],encapsulation:2}),s})();function Rr(n,s){1&n&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Sr(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",9),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Tr(n,s){if(1&n&&(t.j41(0,"div",30),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",null==i.productBuyerObj?null:i.productBuyerObj.phone," ")}}function yr(n,s){if(1&n&&(t.j41(0,"div",30),t.EFF(1),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",null==i.productBuyerObj?null:i.productBuyerObj.email," ")}}function Fr(n,s){if(1&n&&(t.j41(0,"tr",19)(1,"td")(2,"div",20)(3,"div",21),t.EFF(4),t.k0s(),t.j41(5,"div",22),t.EFF(6),t.k0s()()(),t.j41(7,"td")(8,"span"),t.EFF(9),t.nI1(10,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s()(),t.j41(11,"td")(12,"div",23)(13,"div",24),t.nrm(14,"azt-create-avatar",25),t.k0s(),t.j41(15,"div",26)(16,"div",27)(17,"span"),t.EFF(18),t.k0s()(),t.DNE(19,Tr,2,1,"div",28)(20,yr,2,1,"div",28),t.k0s()()(),t.j41(21,"td",29)(22,"span"),t.EFF(23),t.nI1(24,"formatMoney"),t.nI1(25,"mytranslate"),t.k0s()()()),2&n){const i=s.$implicit;t.Y8G("id","row_product_payment_"+i.id),t.R7$(4),t.JRh(null==i.productObj?null:i.productObj.name),t.R7$(2),t.JRh(null==i.productObj?null:i.productObj.type),t.R7$(3),t.JRh(t.bMT(10,11,i.createdAt)),t.R7$(5),t.Y8G("linkAvatar",null==i.productBuyerObj?null:i.productBuyerObj.avatar)("nameCreateAvatar",null==i.productBuyerObj?null:i.productBuyerObj.fullName)("size",50),t.R7$(4),t.JRh(null==i.productBuyerObj?null:i.productBuyerObj.fullName),t.R7$(),t.Y8G("ngIf",null==i.productBuyerObj?null:i.productBuyerObj.phone),t.R7$(),t.Y8G("ngIf",null==i.productBuyerObj?null:i.productBuyerObj.email),t.R7$(3),t.JRh(t.bMT(24,13,i.money)+" "+t.bMT(25,15,"lang_auto_vnd_upper"))}}function wr(n,s){if(1&n&&(t.qex(0),t.DNE(1,Fr,26,17,"tr",18),t.bVm()),2&n){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.productPaymentList)}}function xr(n,s){1&n&&(t.j41(0,"tr")(1,"td",31)(2,"span",32),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_not_data")))}function Cr(n,s){1&n&&t.nrm(0,"azt-loading-ui",35),2&n&&t.Y8G("size",16)}function Er(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",36),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const a=t.XpG(3);return t.Njj(a.getData())}),t.j41(2,"span",37),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",38),t.k0s()}if(2&n){const i=t.XpG(3);t.FS9("matTooltip",t.bMT(1,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Y8G("disabled",!i.nextPage),t.R7$(3),t.JRh(t.bMT(4,5,"lang_auto_xem_them"))}}function Mr(n,s){if(1&n&&(t.j41(0,"div",33),t.DNE(1,Cr,1,1,"azt-loading-ui",34)(2,Er,6,7,"ng-template",null,2,t.C5r),t.k0s()),2&n){const i=t.sdS(3),e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.loadingMore)("ngIfElse",i)}}function Or(n,s){if(1&n&&(t.j41(0,"div",10)(1,"drag-scroll")(2,"table",11)(3,"thead")(4,"tr",12)(5,"th",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",14),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",14),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",15),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"tbody"),t.DNE(18,wr,2,1,"ng-container",16)(19,xr,5,3,"ng-template",null,1,t.C5r),t.k0s()()()(),t.DNE(21,Mr,4,2,"div",17)),2&n){const i=t.sdS(20),e=t.XpG();t.R7$(6),t.JRh(t.bMT(7,7,"lang_azt_product")),t.R7$(3),t.JRh(t.bMT(10,9,"lang_azt_purchase_date")),t.R7$(3),t.JRh(t.bMT(13,11,"lang_azt_buyer")),t.R7$(3),t.JRh(t.bMT(16,13,"lang_azt_price")),t.R7$(3),t.Y8G("ngIf",e.productPaymentList.length)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",e.productPaymentList.length>0)}}let $r=(()=>{var n;class s extends h.H{getData(){this.nextPage||this.initStatusObj(),this.loadingMore=!0,this.waitDestroy(this.adminProductManagementService.apiAdminProductManagementGetPaymentHistoryObjsGet(!0).subscribe(e=>{if(!e.success)return this.loadingMore=!1,this.errorStatusObj(e.message,!0);this.productPaymentList=e.data?.objs??[],this.nextPage=e.data?.nextPage??"",this.loadingMore=!1,this.successStatusObj()}))}constructor(e){super(),this.adminProductManagementService=e,this.productPaymentList=[],this.nextPage=void 0,this.loadingMore=!1}ngOnInit(){this.getData()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.V$))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-product-payment-history"]],features:[t.Vt3],decls:9,vars:7,consts:[["doneLoading",""],["emptyPayment",""],["doneLoadNextPage",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mt-1"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"width","300px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-right"],[4,"ngIf","ngIfElse"],["class","mt-3 mb-3 flex justify-center",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"product"],[1,"font-medium"],[1,"mt-1","text-xs","text-slate-500"],[1,"flex","items-center"],[1,"flex-none","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","overflow-hidden",2,"width","100%"],[1,"flex","items-center","font-medium"],["class","w-full text-xs text-slate-500 mt-0.5",4,"ngIf"],[1,"text-right"],[1,"w-full","text-xs","text-slate-500","mt-0.5"],["colspan","4",1,"text-center"],[1,"font-medium","text-slate-500"],[1,"mt-3","mb-3","flex","justify-center"],[3,"size",4,"ngIf","ngIfElse"],[3,"size"],[1,"btn","btn-transparent",3,"click","matTooltip","disabled"],[1,"mr-2"],["name","chevron-down","size","20"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",3)(1,"div",4)(2,"h3",5),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Rr,3,3,"div",6),t.k0s(),t.DNE(6,Sr,1,1,"azt-loading-effect",7)(7,Or,22,15,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(8);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(3),t.JRh(t.bMT(4,5,"lang_azt_product_payment_history")),t.R7$(2),t.Y8G("ngIf",a.productPaymentList.length>0&&a.isMobileDevice),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.Sq,m.bT,kt.oV,A.K,Et.p,L.R,O.Q,j.WGl,R.jd,R.Ew,g.wp,g.i_,g.t0],encapsulation:2}),s})();var Dr=u(60560);function Gr(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",4),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Nr(n,s){1&n&&(t.j41(0,"span",14),t.nrm(1,"azt-loading-ui"),t.k0s())}function Ar(n,s){if(1&n){const i=t.RV6();t.j41(0,"form",5)(1,"div",6)(2,"div",7)(3,"div")(4,"label",8),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.nrm(7,"textarea",9),t.k0s(),t.j41(8,"div",10)(9,"label",8),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.nrm(12,"textarea",9),t.k0s()()(),t.j41(13,"div",11),t.qex(14),t.j41(15,"button",12),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.saveObj())}),t.DNE(16,Nr,2,0,"span",13),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.bVm(),t.k0s()()}if(2&n){const i=t.XpG();t.Y8G("formGroup",i.form),t.R7$(5),t.SpI(" ",t.bMT(6,8,"lang_super_role_product_vendor_management_user_id")," "),t.R7$(2),t.Y8G("formControl",i.form.controls.userId),t.R7$(3),t.SpI(" ",t.bMT(11,10,"lang_super_role_product_vendor_management_phone_or_email")," "),t.R7$(2),t.Y8G("formControl",i.form.controls.phoneOrEmail),t.R7$(3),t.Y8G("disabled",i.isSaving||i.form.invalid),t.R7$(),t.Y8G("ngIf",i.isSaving),t.R7$(),t.SpI(" ",t.bMT(18,12,"lang_button_add")," ")}}function Pr(n,s){if(1&n&&(t.j41(0,"tr",19)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i.userId),t.R7$(2),t.JRh(null==i.productVendorInfoObj?null:i.productVendorInfoObj.fullName),t.R7$(2),t.JRh(null==i.productVendorInfoObj?null:i.productVendorInfoObj.phone),t.R7$(2),t.JRh(null==i.productVendorInfoObj?null:i.productVendorInfoObj.email),t.R7$(2),t.JRh(i.createdAt)}}function zr(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"table",15)(3,"thead")(4,"tr",16)(5,"th",17),t.EFF(6,"UserId"),t.k0s(),t.j41(7,"th",17),t.EFF(8,"Name"),t.k0s(),t.j41(9,"th",17),t.EFF(10,"Phone"),t.k0s(),t.j41(11,"th",17),t.EFF(12,"Email"),t.k0s(),t.j41(13,"th",17),t.EFF(14,"CreatedAt"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,Pr,11,5,"tr",18),t.k0s()()()),2&n){const i=t.XpG();t.R7$(16),t.Y8G("ngForOf",i.objs)}}let Lr=(()=>{var n;class s extends h.H{saveObj(){this.isSaving=!0;let e=this.form.getRawValue(),a={userId:e.userId?e.userId.toString().split("\n").filter(o=>o).map(o=>Number(o)):void 0,phoneOrEmail:e.phoneOrEmail?e.phoneOrEmail.split("\n").filter(o=>o):void 0};this.waitDestroy(this.adminProductVendorService.apiAdminProductVendorSaveObjPost(a).subscribe(o=>{if(this.isSaving=!1,!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_cms_add_success",!0),this.initData()}))}initData(){this.initStatusObj(),this.waitDestroy(this.adminProductVendorService.apiAdminProductVendorGetObjsGet().subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.objs=e.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(){super(),this.adminProductVendorService=(0,t.WQX)(Dr.K),this.objs=[],this.isSaving=!1,this.form=new r.gE({userId:new r.MJ(void 0,{nonNullable:!0}),phoneOrEmail:new r.MJ(void 0,{nonNullable:!0})})}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["coazt-product-vendor-management"]],features:[t.Vt3],decls:5,vars:4,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"currentStatusObj"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"pt-5"],[1,"form-label"],["type","text",1,"form-control",3,"formControl"],[1,"mt-2"],[1,"p-3","text-right"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","700px"],[1,"uppercase"],[1,"whitespace-nowrap","text-left"],["class","intro-x",4,"ngFor","ngForOf"],[1,"intro-x"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,Gr,1,1,"azt-loading-effect",2)(2,Ar,19,14,"ng-template",null,0,t.C5r)(4,zr,17,1,"div",3),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o),t.R7$(3),t.Y8G("ngIf",a.objs.length)}},dependencies:[m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,r.l_,r.j4,A.K,L.R,O.Q,g.wp],encapsulation:2}),s})();var Vr=u(14527);function Br(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",13),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Yr(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",18)(2,"h3",19),t.EFF(3),t.nI1(4,"mytranslate"),t.nrm(5,"br"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()),2&n){const i=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,2,i.firstSearch?"lang_super_admin_search_question_first_search":"lang_super_admin_search_question_no_data"),". "),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_super_admin_search_question_search_example")," ")}}function Ur(n,s){if(1&n&&(t.j41(0,"div",33)(1,"b",34),t.EFF(2),t.k0s(),t.j41(3,"div",35),t.nrm(4,"azt-dynamic-hook",28),t.k0s()()),2&n){let i,e;const a=s.$implicit;t.R7$(2),t.SpI("",null!==(i=a.alpha)&&void 0!==i?i:a.key,"."),t.R7$(2),t.Y8G("content",null!==(e=a.content)&&void 0!==e?e:"")}}function Jr(n,s){if(1&n&&(t.j41(0,"div",31),t.DNE(1,Ur,5,2,"div",32),t.k0s()),2&n){const i=t.XpG().$implicit;t.Y8G("answerSizeManager",1),t.R7$(),t.Y8G("ngForOf",null==i.question?null:i.question.answers)}}function qr(n,s){if(1&n&&(t.j41(0,"h2",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_dap_an"),": ",null==i.question||null==i.question.answerResult?null:i.question.answerResult.join(", "),"")}}function Xr(n,s){if(1&n&&(t.j41(0,"tr",26)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"div",27),t.nrm(5,"azt-dynamic-hook",28),t.k0s(),t.DNE(6,Jr,2,2,"div",29)(7,qr,3,4,"h2",30),t.k0s()()),2&n){let i;const e=s.$implicit;t.R7$(2),t.SpI(" ",e.questionId," "),t.R7$(3),t.Y8G("content",null!==(i=null==e.question?null:e.question.content)&&void 0!==i?i:""),t.R7$(),t.Y8G("ngIf",1==(null==e.question?null:e.question.answerType)&&(null==e.question?null:e.question.answers)&&(null==e.question?null:e.question.answers.length)>0),t.R7$(),t.Y8G("ngIf",null==e.question?null:e.question.answerResult)}}function Qr(n,s){if(1&n&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr",22)(4,"th",23),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",24),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,Xr,8,4,"tr",25),t.k0s()()()),2&n){const i=t.XpG(2);t.R7$(5),t.SpI(" ",t.bMT(6,3,"lang_auto_ma")," "),t.R7$(3),t.SpI(" ",t.bMT(9,5,"lang_auto_cau_hoi")," "),t.R7$(3),t.Y8G("ngForOf",i.shareQuestionList)}}function Hr(n,s){if(1&n&&(t.j41(0,"div",14)(1,"div",15),t.DNE(2,Yr,8,6,"div",16)(3,Qr,12,7,"ng-template",null,1,t.C5r),t.k0s()()),2&n){const i=t.sdS(4),e=t.XpG();t.R7$(2),t.Y8G("ngIf",!e.shareQuestionList.length)("ngIfElse",i)}}let Wr=(()=>{var n;class s extends h.H{constructor(e,a,o,l,d){super(),this.shareBankService=e,this.activeRoute=a,this.questionRenderService=o,this.sAztDialogService=l,this.discoveryService=d,this.shareQuestionList=[],this.totalPage=0,this.sizePage=10,this.loadingRender=!1,this.firstSearch=!0,this.totalShareQuestion=0,this.totalCountGetQuestion=0,this.initEditor={height:250,menubar:!1,plugins:[],toolbar:!1},this.configRenderService=new yt.y(!0),this.form=new r.gE({searchContent:new r.MJ("",{nonNullable:!0})})}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{}))}autoResizeSearchArea(){const e=document.getElementById("search-text-area");e&&setTimeout(()=>{e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0)}tinyEditorKeyUp(e){13==e.event.keyCode&&this.searchData()}searchData(){this.loadingRender=!0;let e=this.form.getRawValue();this.shareQuestionList=[],this.waitDestroy(this.discoveryService.apiDiscoveryQuestionsTestPost({text:e.searchContent}).subscribe(a=>{if(a.success)if(a.data?.objs&&a.data?.objs.length){a.data.objs.forEach(l=>{this.shareQuestionList.push({id:0,knowledgeId:0,status:"",questionTagId:0,createdAt:new Date,tenantId:0,knowledgeParentIds:[],knowledgeName:"",subjectId:0,levelId:0,tenantName:"",questionId:l.id,question:l})});let o=[];this.shareQuestionList.forEach(l=>{l.question&&o.push(l.question)}),this.loadQuest(o),this.firstSearch=!1}else this.loadingRender=!1,this.firstSearch=!1;else this.errorStatusObj(a.message??"",!0),this.loadingRender=!1}))}loadQuest(e){this.loadingRender=!0;const a=this.commonService.castJsonToClassObjs(ht.I,JSON.stringify(e));this.questionRenderService.parseRenderQuestions(a??[],o=>{},this.configRenderService).then(o=>{for(let l=0;l<this.shareQuestionList.length;l++)this.shareQuestionList[l].question=this.commonService.castObj(o[l]);this.loadingRender=!1}).catch(o=>{if(console.log("nvanh",o),a)for(let l=0;l<this.shareQuestionList.length;l++)this.shareQuestionList[l].question=this.commonService.castObj(a[l]);this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}viewQuestionDetail(e){this.sAztDialogService.open(Xt._,{width:"700px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Gt.x),t.rXU(y.nX),t.rXU(Ft.g),t.rXU(U.i),t.rXU(Vr.KC))},n.\u0275cmp=t.VBU({type:n,selectors:[["search-question-shared"]],features:[t.Vt3],decls:18,vars:14,consts:[["doneLoading",""],["hasDataSearch",""],[3,"headerBackToLink"],[1,"grid","grid-cols-10","gap-2","mt-10","mb-3"],[1,"col-span-5",2,"align-self","center"],[1,"text-lg","font-medium"],[1,"col-span-10"],[1,"w-full","relative","mr-auto","mt-3","sm:mt-0","self-center"],[3,"formGroup"],["tinyEditor","","formControlName","searchContent",3,"onKeyUp","apiKey","init"],[1,"mb-2","mt-2"],[1,"btn","btn-primary",3,"click"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6","mt-5"],["class","col-span-12",4,"ngIf","ngIfElse"],[1,"col-span-12"],[1,"box","text-center","self-center","p-5"],[1,"text-md","font-medium"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","700px"],[1,"uppercase"],[2,"width","50px"],[1,"whitespace-nowrap",2,"width","520px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"intro-x"],[1,"tex2jax_process","box-content",2,"width","500px"],[3,"content"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content"],[1,"font-medium","text-md","text-left","text-success","my-2"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h2",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",6)(7,"div",7)(8,"form",8)(9,"editor",9),t.nI1(10,"getTinyMceKey"),t.bIt("onKeyUp",function(d){return t.eBV(o),t.Njj(a.tinyEditorKeyUp(d))}),t.k0s()(),t.j41(11,"div",10)(12,"button",11),t.bIt("click",function(){return t.eBV(o),t.Njj(a.searchData())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()(),t.DNE(15,Br,1,1,"azt-loading-effect",12)(16,Hr,5,2,"ng-template",null,0,t.C5r),t.k0s()}if(2&e){const o=t.sdS(17);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(4),t.SpI(" ",t.bMT(5,8,"lang_super_admin_search_question_list")," "),t.R7$(4),t.Y8G("formGroup",a.form),t.R7$(),t.FS9("apiKey",t.bMT(10,10,"")),t.Y8G("init",a.initEditor),t.R7$(4),t.JRh(t.bMT(14,12,"lang_auto_tim_kiem")),t.R7$(2),t.Y8G("ngIf",a.loadingRender)("ngIfElse",o)}},dependencies:[m.Sq,m.bT,r.qT,r.BC,r.cb,f.xn,r.j4,r.JD,A.K,V.t,Dt.C,gt.x,O.Q,g.wp,g.yc],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),s})();var de=u(73014),Kr=u(91513);const Zr=n=>({"text-primary":n});function tl(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.loopGetDataWithAll(a))}),t.EFF(1),t.k0s()}if(2&n){const i=s.$implicit;t.R7$(),t.SpI("Trang ",i+1,"")}}function el(n,s){if(1&n&&(t.j41(0,"div",7),t.DNE(1,tl,2,1,"button",10),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.settings.totalPage)}}function nl(n,s){if(1&n&&(t.j41(0,"li",13),t.EFF(1),t.k0s()),2&n){const i=s.$implicit;t.Y8G("ngClass",t.eq3(3,Zr,i.isBold)),t.R7$(),t.Lme("",i.content," ",i.isBold?"":"...","")}}function al(n,s){if(1&n&&(t.j41(0,"div",7),t.EFF(1),t.DNE(2,nl,2,5,"li",12),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.SpI(" ",i.loggers.title," "),t.R7$(),t.Y8G("ngForOf",i.loggers.msgs)}}let il=(()=>{var n;class s extends h.H{getDataWithPage(e=0){return new Promise(a=>{this.waitDestroy(this.testMarketQuestion.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,"approved",void 0,void 0,void 0,e+1,this.settings.countProcess).subscribe(o=>{this.settings.total=o.data?.total??0,a(o.data?.objs??[])}))})}loopGetDataWithAll(e){var a=this;return new Promise(function(){var o=(0,de.A)(function*(l){a.loggers.msgs?.unshift({isBold:!1,content:`\u0110ang t\u1ea3i d\u1eef li\u1ec7u c\xe2u h\u1ecfi cho trang ${e+1}`});var d=yield a.getDataWithPage(e);a.loggers.msgs?.unshift({isBold:!0,content:`T\u1ea3i d\u1eef li\u1ec7u th\xe0nh c\xf4ng c\xe2u h\u1ecfi cho trang ${e+1}`}),yield a.processData(e,d),l()});return function(l){return o.apply(this,arguments)}}())}processData(e,a){return new Promise(o=>{const d=this.commonService.castJsonToClassObjs(ht.I,JSON.stringify(a.map(_=>({..._.question}))||[]))??[];this.loggers.msgs?.unshift({isBold:!1,content:`\u0110ang xu\u1ea5t file word cho trang ${e+1}`}),this.exportSAztDocxService.downloadExam(!0,{name:`QuestionBank Check page ${e+1}`,id:0,countQuestion:0,showFrontend:0,editable:!1,allowStudentView:!1,permissionObj:{}},void 0,void 0,d,{nameSchool:"",nameSubject:"",departmentName:"",indetifyBox:"",timeBox:""},0,void 0,_=>{this.loggers.msgs&&(this.loggers.msgs[0].content.startsWith("Page")?this.loggers.msgs[0].content=`Page ${e+1} information: ${_}`:this.loggers.msgs.unshift({isBold:!1,content:`Page ${e+1} information: ${_}`}))},!0,!0).then(()=>{this.loggers.msgs?.unshift({isBold:!0,content:`Xu\u1ea5t file word th\xe0nh c\xf4ng cho trang ${e+1}`}),o()}).catch(_=>{console.log("nvanh err: ",_),this.showErrorSnack("L\u1ed7i x\u1eed l\xfd d\u1eef li\u1ec7u"),o()})})}exportQuestions(){this.settings.isRunningAction=!0,this.loggers.title="Xu\u1ea5t t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi th\xe0nh file word",this.loggers.msgs=[],this.testMarketQuestion.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,"approved",void 0,void 0,void 0,0,1).subscribe(e=>{this.settings.total=e.data?.total??0,this.settings.totalPage=[];for(let a=0;a<Math.ceil(this.settings.total/this.settings.countProcess);a++)this.settings.totalPage.push(a)})}ngOnInit(){this.commonService.translateMetaData({title:"lang_super_role_share_bank_helper_management",description:"lang_super_role_share_bank_helper_management",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,a){super(),this.testMarketQuestion=e,this.exportSAztDocxService=a,this.settings={isRunningAction:!1,total:0,totalPage:[0],countProcess:100},this.loggers={}}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.e2),t.rXU(Kr.c))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-share-bank-helper"]],features:[t.Vt3],decls:18,vars:8,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body","mt-3"],[1,"text-lg","font-medium"],[1,"mt-3"],[1,"overflow-hidden","box","shadow","sm:rounded-lg","mt-5"],[1,"px-4","py-5","sm:px-6"],["azt-track-service","share-bank-helper-3TDJluZYz",1,"bg-primary","text-white","px-4","py-4","sm:px-4",3,"click","disabled"],["class","px-4 py-5 sm:px-6",4,"ngIf"],["azt-track-service","share-bank-helper-J2jfLVfWw9","class","bg-primary text-white px-4 py-4 sm:px-4 mx-1 mt-1",3,"click",4,"ngFor","ngForOf"],["azt-track-service","share-bank-helper-J2jfLVfWw9",1,"bg-primary","text-white","px-4","py-4","sm:px-4","mx-1","mt-1",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.nrm(7,"hr",5),t.j41(8,"div",6)(9,"div",7)(10,"button",8),t.bIt("click",function(){return a.exportQuestions()}),t.EFF(11),t.k0s()()(),t.nrm(12,"hr",5),t.j41(13,"div",6),t.DNE(14,el,2,1,"div",9),t.k0s(),t.nrm(15,"hr",5),t.j41(16,"div",6),t.DNE(17,al,3,2,"div",9),t.k0s()()()()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(5),t.JRh(t.bMT(6,6,"lang_super_role_share_bank_helper_management")),t.R7$(5),t.Y8G("disabled",a.settings.isRunningAction),t.R7$(),t.SpI("Export all question with docx ( ",a.settings.countProcess," question/page )"),t.R7$(3),t.Y8G("ngIf",a.settings.isRunningAction),t.R7$(3),t.Y8G("ngIf",a.settings.isRunningAction))},dependencies:[m.YU,m.Sq,m.bT,O.Q,g.wp],encapsulation:2}),s})();function ol(n,s){1&n&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function sl(n,s){1&n&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function rl(n,s){1&n&&(t.j41(0,"span",21),t.nrm(1,"azt-loading-ui"),t.k0s())}let me=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}saveShortLinkObj(){var e=this.form.getRawValue();this.isSendingData=!0,this.form.controls.shortLink.valid||this.form.controls.redirectTo.valid?this.obj&&!this.commonService.isEmptyObj(this.obj??{})?this.waitDestroy(this.adminShortLinkService.apiAdminShortLinkUpdateObjPost({id:this.obj.id,shortLink:e.shortLink,redirectTo:e.redirectTo,title:e.title,description:e.description,image:e.image}).subscribe(o=>{1==o.success?(this.isSendingData=!1,this.successStatusObj("lang_super_role_update_short_link_success",!0),this.dialogRef.close(!0)):(this.isSendingData=!1,this.errorStatusObj(o.message??"",!0),this.closeDialog())})):this.waitDestroy(this.adminShortLinkService.apiAdminShortLinkSaveObjPost({shortLink:e.shortLink,redirectTo:e.redirectTo,title:e.title,description:e.description,image:e.image}).subscribe(o=>{1==o.success?(this.isSendingData=!1,this.successStatusObj("lang_super_role_update_short_link_success",!0),this.dialogRef.close(!0)):(this.isSendingData=!1,this.errorStatusObj(o.message??"",!0),this.closeDialog())})):(this.showErrorSnack("lang_super_role_invalid_short_link"),this.isSendingData=!1,this.closeDialog())}ngOnInit(){}constructor(e,a,o){super(o,a),this.adminShortLinkService=e,this.dialogRef=a,this.data=o,this.isSendingData=!1,this.obj=o.obj,this.form=new r.gE(this.obj?{shortLink:new r.MJ(this.obj.shortLink??"",{nonNullable:!0,validators:[r.k0.required]}),redirectTo:new r.MJ(this.obj.redirectTo??"",{nonNullable:!0,validators:[r.k0.required]}),title:new r.MJ(this.obj.title??"",{nonNullable:!0,validators:[r.k0.required]}),description:new r.MJ(this.obj.description??"",{nonNullable:!0,validators:[r.k0.required]}),image:new r.MJ(this.obj.image??"",{nonNullable:!0,validators:[r.k0.required]})}:{shortLink:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),redirectTo:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),title:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),description:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),image:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.BA),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-or-edit-short-link-dialog"]],features:[t.Vt3],decls:41,vars:27,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","pt-0"],[1,"mt-2"],["for","shortLinkInput",1,"form-label"],["type","text","id","shortLinkInput","formControlName","shortLink",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","redirectToInput",1,"form-label"],["type","text","id","redirectToInput","formControlName","redirectTo",1,"form-control"],["for","redirectTitleInput",1,"form-label"],["type","text","id","redirectTitleInput","formControlName","title",1,"form-control"],["for","redirectDescriptionInput",1,"form-label"],["type","text","id","redirectDescriptionInput","formControlName","description",1,"form-control"],["for","redirectImageInput",1,"form-label"],["type","text","id","redirectImageInput","formControlName","image",1,"form-control"],[1,"p-3","flex","justify-end"],["azt-track-service","add_or_edit_short_link_dialog-4jDKJySdXR9",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","add_or_edit_short_link_dialog-aN2stRJOAVz",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"azt-mat-dialog-content")(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.nrm(9,"input",6),t.DNE(10,ol,3,3,"div",7),t.k0s(),t.j41(11,"div",4)(12,"label",8),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.nrm(15,"input",9),t.DNE(16,sl,3,3,"div",7),t.k0s(),t.j41(17,"div",4)(18,"label",10),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.nrm(21,"input",11),t.k0s(),t.j41(22,"div",4)(23,"label",12),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.nrm(26,"input",13),t.k0s(),t.j41(27,"div",4)(28,"label",14),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.nrm(31,"input",15),t.k0s()()()(),t.j41(32,"div",16)(33,"button",17),t.bIt("click",function(){return a.closeDialog()}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.qex(36),t.j41(37,"button",18),t.bIt("click",function(){return a.saveShortLinkObj()}),t.DNE(38,rl,2,0,"span",19),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s(),t.bVm(),t.k0s()()()),2&e&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(6),t.Lme(" ",t.bMT(8,13,"lang_super_role_short_link")," (",a.commonService.getCurrentDomain()+"/s/"+a.form.controls.shortLink.value,") "),t.R7$(3),t.Y8G("ngIf",a.form.controls.shortLink.dirty&&a.form.controls.shortLink.errors),t.R7$(3),t.SpI(" ",t.bMT(14,15,"lang_super_role_redirect_to")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.redirectTo.dirty&&a.form.controls.redirectTo.errors),t.R7$(3),t.SpI(" ",t.bMT(20,17,"lang_super_role_redirect_title")," "),t.R7$(5),t.SpI(" ",t.bMT(25,19,"lang_super_role_redirect_description")," "),t.R7$(5),t.SpI(" ",t.bMT(30,21,"lang_super_role_redirect_image")," "),t.R7$(5),t.JRh(t.bMT(35,23,"lang_button_cancel")),t.R7$(3),t.Y8G("disabled",a.isSendingData||!a.form.controls.shortLink.valid||!a.form.controls.redirectTo.valid),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(40,25,!a.obj||a.commonService.isEmptyObj(a.obj)?"lang_button_save":"lang_button_update")," "))},dependencies:[m.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,vt.U,L.R,g.wp],encapsulation:2}),s})();function ll(n,s){1&n&&(t.j41(0,"span",10),t.nrm(1,"azt-loading-ui"),t.k0s())}let cl=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}deleteShortLinkObj(){this.obj?.id&&(this.initStatusObj(),this.waitDestroy(this.adminShortLinkService.apiAdminShortLinkDeleteObjGet(this.obj?.id).subscribe(e=>{1==e.success?(this.successStatusObj("lang_super_role_delete_short_link_success",!0),this.dialogRef.close(!0)):(this.errorStatusObj(e.message??"",!0),this.closeDialog())})))}ngOnInit(){super.ngOnInit()}constructor(e,a,o){super(o,a),this.adminShortLinkService=e,this.dialogRef=a,this.data=o,this.obj=o.obj}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.BA),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["delete-short-link-dialog"]],features:[t.Vt3],decls:18,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_short_link_dialog-gdfZOsb60xW",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_short_link_dialog-fxZrApvJ2C9",1,"btn","w-24","btn-danger",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s(),t.EFF(9,"\xa0? "),t.k0s()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return a.closeDialog()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return a.deleteShortLinkObj()}),t.DNE(15,ll,2,0,"span",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_super_role_ask_delete_short_link")," "),t.R7$(3),t.JRh(a.obj.shortLink),t.R7$(4),t.SpI(" ",t.bMT(13,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",a.statusObj.loading),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,10,"lang_button_delete")," "))},dependencies:[m.bT,L.R,g.wp],encapsulation:2}),s})();const dl=()=>({"mr-2":!0});function ml(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ul(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",23)(1,"td",24)(2,"span",25),t.EFF(3),t.k0s()(),t.j41(4,"td",26)(5,"span",25)(6,"a",27),t.EFF(7),t.k0s()()(),t.j41(8,"td",28)(9,"span",29)(10,"a",30),t.EFF(11),t.k0s()()(),t.j41(12,"td",28),t.EFF(13),t.k0s(),t.j41(14,"td",28),t.EFF(15),t.k0s(),t.j41(16,"td",28),t.EFF(17),t.k0s(),t.j41(18,"td",31)(19,"div",32)(20,"a",33),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.updateShortLink(a))}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"a",34),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.deleteShortLink(a))}),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()()}if(2&n){const i=s.$implicit,e=s.index,a=t.XpG(2);t.R7$(3),t.SpI(" ",e<9?"0"+(e+1):e+1," "),t.R7$(3),t.Y8G("href",a.commonService.getCurrentDomain()+"/s/"+i.shortLink,t.B4B),t.R7$(),t.Lme(" ",a.commonService.getCurrentDomain()+"/s/","",i.shortLink," "),t.R7$(3),t.Y8G("href",i.redirectTo,t.B4B),t.R7$(),t.JRh(i.redirectTo),t.R7$(2),t.SpI(" ",i.title," "),t.R7$(2),t.SpI(" ",i.description," "),t.R7$(2),t.SpI(" ",i.image," "),t.R7$(4),t.SpI(" ",t.bMT(22,11,"lang_auto_sua")," "),t.R7$(3),t.SpI(" ",t.bMT(25,13,"lang_auto_xoa")," ")}}function pl(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",8)(7,"button",9),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.createShortLink())}),t.nrm(8,"lucide-icon",10),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.j41(11,"div",11)(12,"div",12)(13,"table",13)(14,"thead")(15,"tr",14)(16,"th",15),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",16),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"th",17),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"th",17),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"th",17),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"th",17),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.nrm(34,"th",18),t.k0s()(),t.j41(35,"tbody"),t.DNE(36,ul,26,15,"tr",19),t.k0s()()(),t.j41(37,"div",20)(38,"div",21)(39,"azt-paging",22),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.goToPage(a))}),t.k0s()()()()()}if(2&n){const i=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,11,"lang_super_role_danh_sach_short_link")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(27,dl)),t.R7$(),t.SpI(" ",t.bMT(10,13,"lang_super_role_them_short_link")," "),t.R7$(8),t.SpI(" ",t.bMT(18,15,"lang_auto_STT")," "),t.R7$(3),t.SpI(" ",t.bMT(21,17,"lang_super_role_short_link")," "),t.R7$(3),t.SpI(" ",t.bMT(24,19,"lang_super_role_redirect_to")," "),t.R7$(3),t.SpI(" ",t.bMT(27,21,"lang_super_role_redirect_title")," "),t.R7$(3),t.SpI(" ",t.bMT(30,23,"lang_super_role_redirect_description")," "),t.R7$(3),t.SpI(" ",t.bMT(33,25,"lang_super_role_redirect_image")," "),t.R7$(4),t.Y8G("ngForOf",i.shortLinkObjs),t.R7$(3),t.Y8G("pageObj",i.pageObj)}}let _l=(()=>{var n;class s extends h.H{constructor(e,a,o){super(),this.adminShortLinkService=e,this.activeRoute=a,this.sAztDialogService=o,this.shortLinkObjs=[],this.pageObj=new Q.d(10)}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.getData()}))}updateShortLink(e){this.sAztDialogService.open(me,{width:"500px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.getData()})}deleteShortLink(e){this.sAztDialogService.open(cl,{width:"500px",data:{obj:e},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.getData()})}createShortLink(){this.sAztDialogService.open(me,{width:"500px",data:{obj:void 0},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.adminShortLinkService.apiAdminShortLinkGetObjsGet().subscribe(e=>{e.success?(this.shortLinkObjs=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}goToPage(e){this.commonService.myNavigation(`/super-role/short-link-management/${e}`)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.BA),t.rXU(y.nX),t.rXU(U.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["short-link-management"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6","mt-10"],[1,"col-span-6","overflow-auto"],[1,"text-lg","font-medium"],[1,"intro-y","col-span-6","overflow-auto","text-right"],["azt-track-service","shortlink_management-b44DibHjT",1,"btn","btn-success","text-white","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","700px"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","30px"],[1,"whitespace-nowrap","text-left","pl-10"],[1,"whitespace-nowrap","text-left"],[1,"whitespace-nowrap","text-center",2,"width","190px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"intro-x"],[1,"text-center"],[1,"font-medium"],[1,"text-left","pl-10"],["azt-track-service","shortlink_management-RdtYluz6C1","target","_blank",2,"word-wrap","break-word",3,"href"],[1,"text-left"],[1,"font-medium",2,"word-wrap","break-word"],["azt-track-service","shortlink_management-R1UlnoUVmI","target","_blank",3,"href"],[1,"table-report__action","td-sticky-right","w-56"],[1,"flex","justify-center","items-center"],["azt-track-service","shortlink_management-e2nkee1MXf",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","shortlink_management-yHVyNxuY6D",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,ml,1,1,"azt-loading-effect",2)(2,pl,40,28,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,A.K,H.q,O.Q,j.WGl,g.wp],encapsulation:2}),s})();const Bt=()=>({"mr-2":!0});function hl(n,s){if(1&n&&(t.j41(0,"div",21)(1,"b",22),t.EFF(2),t.k0s(),t.j41(3,"div",23),t.nrm(4,"azt-dynamic-hook",13),t.k0s()()),2&n){let i,e;const a=s.$implicit;t.R7$(2),t.SpI("",null!==(i=a.alpha)&&void 0!==i?i:a.key,"."),t.R7$(2),t.Y8G("content",null!==(e=a.content)&&void 0!==e?e:"")}}function gl(n,s){if(1&n&&(t.j41(0,"div",19),t.DNE(1,hl,5,2,"div",20),t.k0s()),2&n){const i=t.XpG();t.Y8G("answerSizeManager",1),t.R7$(),t.Y8G("ngForOf",null==i.data.obj||null==i.data.obj.question?null:i.data.obj.question.answers)}}function fl(n,s){if(1&n&&(t.j41(0,"h2",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Lme(" ",t.bMT(2,2,"lang_auto_dap_an"),": ",null==i.data.obj.question||null==i.data.obj.question.answerResult?null:i.data.obj.question.answerResult.join(", ")," ")}}function bl(n,s){if(1&n&&(t.j41(0,"div",10)(1,"h2",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",26),t.nrm(5,"azt-dynamic-hook",13),t.k0s()()),2&n){let i;const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_loi_giai")," "),t.R7$(3),t.Y8G("content",null!==(i=null==e.data.obj.question?null:e.data.obj.question.help)&&void 0!==i?i:"")}}function vl(n,s){1&n&&(t.qex(0),t.j41(1,"div",28)(2,"span",29),t.nrm(3,"azt-loading-ui"),t.k0s()(),t.bVm())}function kl(n,s){1&n&&(t.j41(0,"button",37),t.nrm(1,"lucide-icon",38),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Bt)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_test_market_introduce_rating_love")," "))}function Il(n,s){1&n&&(t.j41(0,"button",39),t.nrm(1,"lucide-icon",40),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Bt)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_test_market_introduce_rating_like")," "))}function jl(n,s){1&n&&(t.j41(0,"button",41),t.nrm(1,"lucide-icon",42),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Bt)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_test_market_introduce_rating_dislike")," "))}function Rl(n,s){if(1&n&&(t.qex(0),t.j41(1,"p",43),t.EFF(2),t.k0s(),t.bVm()),2&n){const i=s.$implicit;t.R7$(2),t.Lme(" ",i.surveyContent," - ",null==i.answers?null:i.answers.join(" - ")," ")}}function Sl(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.DNE(2,kl,4,5,"button",34)(3,Il,4,5,"button",35)(4,jl,4,5,"button",36),t.k0s(),t.j41(5,"td"),t.DNE(6,Rl,3,2,"ng-container",33),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.Y8G("ngIf",3==i.status),t.R7$(),t.Y8G("ngIf",2==i.status),t.R7$(),t.Y8G("ngIf",1==i.status),t.R7$(2),t.Y8G("ngForOf",i.answers),t.R7$(2),t.SpI(" ",i.content," ")}}function Tl(n,s){if(1&n&&(t.j41(0,"table",30)(1,"tr")(2,"th",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"th",32),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",32),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,Sl,9,5,"tr",33),t.k0s()),2&n){const i=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,4,"lang_auto_trang_thai")),t.R7$(3),t.JRh(t.bMT(7,6,"lang_auto_khao_sat")),t.R7$(3),t.JRh(t.bMT(10,8,"lang_admin_question_global_statistic_question_another_feedback")),t.R7$(2),t.Y8G("ngForOf",i.feedBackList)}}function yl(n,s){if(1&n&&(t.j41(0,"div",10)(1,"h2",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,vl,4,0,"ng-container",27)(5,Tl,12,10,"ng-template",null,0,t.C5r),t.k0s()),2&n){const i=t.sdS(6),e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_nhan_xet")," "),t.R7$(2),t.Y8G("ngIf",e.loadingFeedBack)("ngIfElse",i)}}let Fl=(()=>{var n;class s extends v._{closeDialog(){this.dialogRef.close(!1)}getFeedBackOfQuestion(){this.loadingFeedBack=!0,this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksGet(this.data.obj?.question?.id??0,"MATRIX_QUESTION",void 0).subscribe(e=>{e.success?(this.feedBackList=e.data?.objs??[],this.loadingFeedBack=!1):(this.errorStatusObj(e.message??"",!0),this.loadingFeedBack=!1)}))}ngOnInit(){this.data.obj?.hasFeedback&&this.getFeedBackOfQuestion(),super.ngOnInit()}constructor(e,a,o){super(o,a),this.testMarketFeedbackService=e,this.dialogRef=a,this.data=o,this.feedBackList=[],this.loadingFeedBack=!1}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(dt.l_),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["view-detail-question-global"]],features:[t.Vt3],decls:43,vars:35,consts:[["doneLoading",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto",2,"max-height","calc(100vh - 100px)"],[1,"text-md","mr-auto"],[1,"text-md","mr-auto","mt-2"],[1,"flex","w-full","mt-2"],[1,"text-md"],[1,"text-md","ml-10"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","py-2","mt-2"],[1,"font-medium","text-md","text-center","mb-2"],[1,"tex2jax_process","box-content",2,"width","auto"],[3,"content"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],["class","border-t border-slate-200/60 dark:border-darkmode-400 py-2 mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","view-detail-question-global-BKLz31IsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content"],[1,"font-medium","text-md","text-left","text-success","my-2"],[1,"font-medium","text-md","text-center"],[1,"help-content","box","px-3","mt-1",2,"display","inherit","border-top-right-radius","0","border-top-left-radius","0","box-shadow","none","overflow","auto","padding-bottom","20px"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],[1,"table","table-bordered"],[2,"width","150px","text-align","center"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","btn-outline-success",4,"ngIf"],["class","btn-outline-primary",4,"ngIf"],["class","btn-outline-secondary",4,"ngIf"],[1,"btn-outline-success"],["name","heart","size","24",3,"ngClass"],[1,"btn-outline-primary"],["name","thumbs-up","size","24",3,"ngClass"],[1,"btn-outline-secondary"],["name","thumbs-down","size","24",3,"ngClass"],[1,"mb-1"]],template:function(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"h2",6),t.EFF(11),t.nI1(12,"mytranslate"),t.j41(13,"b"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",7)(17,"h2",8),t.EFF(18),t.nI1(19,"mytranslate"),t.j41(20,"b"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"h2",9),t.EFF(24),t.nI1(25,"mytranslate"),t.j41(26,"b"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.j41(29,"div",10)(30,"h2",11),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",12),t.nrm(34,"azt-dynamic-hook",13),t.k0s(),t.DNE(35,gl,2,2,"div",14)(36,fl,3,4,"h2",15),t.k0s(),t.DNE(37,bl,6,4,"div",16)(38,yl,7,5,"div",16),t.k0s()()(),t.j41(39,"div",17)(40,"button",18),t.bIt("click",function(){return a.closeDialog()}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()()),2&e){let o;t.R7$(5),t.SpI(" ",t.bMT(6,15,"lang_test_market_question_info"),": "),t.R7$(3),t.JRh(t.bMT(9,17,a.data.obj.knowledgeName)),t.R7$(3),t.SpI(" ",t.bMT(12,19,"lang_auto_muc_do_nhan_biet"),": "),t.R7$(3),t.JRh(t.bMT(15,21,a.data.obj.questionTagName)),t.R7$(4),t.SpI(" ",t.bMT(19,23,"lang_auto_lop_hoc"),": "),t.R7$(3),t.JRh(t.bMT(22,25,a.data.obj.levelName)),t.R7$(3),t.SpI(" ",t.bMT(25,27,"lang_auto_mon_hoc"),": "),t.R7$(3),t.JRh(t.bMT(28,29,a.data.obj.subjectName)),t.R7$(4),t.SpI(" ",t.bMT(32,31,"lang_auto_noi_dung_cau_hoi")," "),t.R7$(3),t.Y8G("content",null!==(o=null==a.data.obj.question?null:a.data.obj.question.content)&&void 0!==o?o:""),t.R7$(),t.Y8G("ngIf",1==(null==a.data.obj||null==a.data.obj.question?null:a.data.obj.question.answerType)&&(null==a.data.obj||null==a.data.obj.question?null:a.data.obj.question.answers)&&(null==a.data.obj||null==a.data.obj.question?null:a.data.obj.question.answers.length)>0),t.R7$(),t.Y8G("ngIf",null==a.data.obj||null==a.data.obj.question?null:a.data.obj.question.answerResult),t.R7$(),t.Y8G("ngIf",null==a.data.obj||null==a.data.obj.question?null:a.data.obj.question.help),t.R7$(),t.Y8G("ngIf",null==a.data.obj?null:a.data.obj.hasFeedback),t.R7$(3),t.SpI(" ",t.bMT(42,33,"lang_auto_dong")," ")}},dependencies:[m.YU,m.Sq,m.bT,Dt.C,L.R,gt.x,j.WGl,g.wp],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),s})();var wl=u(78472);const xl=()=>({"absolute my-auto inset-y-0 ml-3 mt-2 left-0 z-10 text-slate-500":!0}),Cl=()=>({"mr-2":!0}),Yt=n=>({"bg-primary text-white no-hover":n});function El(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",6),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Ml(n,s){1&n&&(t.j41(0,"button",54)(1,"span",55),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_hien")," "))}function Ol(n,s){1&n&&(t.j41(0,"button",56)(1,"span",55),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_an")," "))}function $l(n,s){1&n&&(t.qex(0),t.j41(1,"span",70),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_hien")))}function Dl(n,s){1&n&&(t.qex(0),t.j41(1,"span",71),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_an")))}function Gl(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",72),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.changeShowQuestion(a,!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_hien")," "))}function Nl(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",73),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.changeShowQuestion(a,!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_an")," "))}function Al(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr",57)(1,"td",58)(2,"div",59),t.nrm(3,"azt-dynamic-hook",60),t.k0s()(),t.j41(4,"td"),t.DNE(5,$l,4,3,"ng-container",61)(6,Dl,4,3,"ng-container",61),t.k0s(),t.j41(7,"td"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"td"),t.EFF(11),t.nI1(12,"mytranslate"),t.j41(13,"span",62),t.EFF(14),t.k0s()(),t.j41(15,"td"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"td"),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"td"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"td")(25,"div",63)(26,"a",64),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.shareBankService.copyContentQuestionClient(a.question))}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"a",65),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.shareBankService.copyToClipboard(null==a.question?null:a.question.id))}),t.EFF(30),t.k0s()()(),t.j41(31,"td",66)(32,"div",63)(33,"a",67),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.viewQuestionDetail(a))}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.DNE(36,Gl,3,3,"a",68)(37,Nl,3,3,"a",69),t.k0s()()()}if(2&n){let i;const e=s.$implicit;t.R7$(3),t.Y8G("content",null!==(i=null==e.question?null:e.question.content)&&void 0!==i?i:""),t.R7$(2),t.Y8G("ngIf",1==e.status),t.R7$(),t.Y8G("ngIf",2==e.status),t.R7$(2),t.SpI(" ",t.bMT(9,14,e.questionTagName)," "),t.R7$(3),t.SpI(" ",t.bMT(12,16,e.knowledgeName)," "),t.R7$(3),t.SpI("( ID: ",e.knowledgeId,")"),t.R7$(2),t.SpI(" ",t.bMT(17,18,e.levelName)," "),t.R7$(3),t.SpI(" ",t.bMT(20,20,e.subjectName)," "),t.R7$(3),t.SpI(" ",t.bMT(23,22,e.hasFeedback?"lang_auto_co":"lang_auto_khong_co")," "),t.R7$(5),t.SpI(" ",t.bMT(28,24,"lang_auto_noi_dung")," "),t.R7$(3),t.SpI("ID.Q: ",null==e.question?null:e.question.id,""),t.R7$(4),t.SpI(" ",t.bMT(35,26,"lang_test_market_view_question")," "),t.R7$(2),t.Y8G("ngIf",2==e.status),t.R7$(),t.Y8G("ngIf",1==e.status)}}function Pl(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",7)(1,"form",8)(2,"div",9)(3,"div",10)(4,"h2",11),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",12),t.nrm(8,"lucide-icon",13),t.j41(9,"input",14),t.bIt("keyup.enter",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.getData())}),t.k0s()(),t.j41(10,"div",15)(11,"div",16)(12,"div",17)(13,"div",18)(14,"button",19),t.nrm(15,"lucide-icon",13),t.j41(16,"span",20),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.DNE(19,Ml,4,3,"button",21)(20,Ol,4,3,"button",22),t.k0s(),t.j41(21,"mat-menu",23,1)(23,"div",24)(24,"ul",25)(25,"li")(26,"span",26),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus(0))}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()(),t.j41(29,"li")(30,"span",27),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus(1))}),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"span",28),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.filterStatus(2))}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s()()()()()()(),t.j41(37,"div",29)(38,"div",30)(39,"div",31)(40,"div",32)(41,"mat-form-field",33)(42,"input",34),t.nI1(43,"mytranslate"),t.bIt("click",function(){t.eBV(i);const a=t.sdS(48);return t.Njj(a.open())})("dateChange",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.getData())}),t.k0s(),t.j41(44,"button",35),t.bIt("click",function(a){return t.eBV(i),t.sdS(48).open(),t.Njj(a.stopPropagation())}),t.j41(45,"span",36),t.nrm(46,"lucide-icon",37),t.k0s()(),t.j41(47,"ngx-mat-datetime-picker",38,2)(49,"ngx-mat-datepicker-actions")(50,"button",39),t.EFF(51,"OK"),t.k0s()()()()(),t.j41(52,"div",32)(53,"mat-form-field",33)(54,"input",40),t.nI1(55,"mytranslate"),t.bIt("click",function(){t.eBV(i);const a=t.sdS(60);return t.Njj(a.open())})("dateChange",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.getData())}),t.k0s(),t.j41(56,"button",41),t.bIt("click",function(a){return t.eBV(i),t.sdS(60).open(),t.Njj(a.stopPropagation())}),t.j41(57,"span",36),t.nrm(58,"lucide-icon",37),t.k0s()(),t.j41(59,"ngx-mat-datetime-picker",38,3)(61,"ngx-mat-datepicker-actions")(62,"button",39),t.EFF(63,"OK"),t.k0s()()()()()()()()()()()(),t.j41(64,"div",42)(65,"div",43)(66,"table",44)(67,"thead")(68,"tr",45)(69,"th",46),t.EFF(70),t.nI1(71,"mytranslate"),t.k0s(),t.j41(72,"th",47),t.EFF(73),t.nI1(74,"mytranslate"),t.k0s(),t.j41(75,"th",47),t.EFF(76),t.nI1(77,"mytranslate"),t.k0s(),t.j41(78,"th",47),t.EFF(79),t.nI1(80,"mytranslate"),t.k0s(),t.j41(81,"th",47),t.EFF(82),t.nI1(83,"mytranslate"),t.k0s(),t.j41(84,"th",47),t.EFF(85),t.nI1(86,"mytranslate"),t.k0s(),t.j41(87,"th",47),t.EFF(88),t.nI1(89,"mytranslate"),t.k0s(),t.j41(90,"th",48),t.EFF(91),t.nI1(92,"mytranslate"),t.k0s(),t.nrm(93,"th",48),t.k0s()(),t.j41(94,"tbody"),t.DNE(95,Al,38,28,"tr",49),t.k0s()()(),t.j41(96,"div",50)(97,"div",51)(98,"azt-paging",52),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.goToPage(a))}),t.k0s()(),t.j41(99,"div",53),t.EFF(100),t.nI1(101,"number"),t.nI1(102,"mytranslate"),t.k0s()()()()}if(2&n){const i=t.sdS(22),e=t.sdS(48),a=t.sdS(60),o=t.XpG();t.R7$(),t.Y8G("formGroup",o.form),t.R7$(4),t.SpI(" ",t.bMT(6,35,"lang_global_question_list")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(69,xl)),t.R7$(6),t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(70,Cl)),t.R7$(2),t.SpI(" ",t.bMT(18,37,"lang_test_market_filter_status")," "),t.R7$(2),t.Y8G("ngIf",1==o.fillStatus),t.R7$(),t.Y8G("ngIf",2==o.fillStatus),t.R7$(6),t.Y8G("ngClass",t.eq3(71,Yt,!o.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(28,39,"lang_auto_tat_ca")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(73,Yt,1==o.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(32,41,"lang_auto_hien")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(75,Yt,2==o.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(36,43,"lang_auto_an")," "),t.R7$(7),t.FS9("placeholder",t.bMT(43,45,"lang_auto_tu")),t.Y8G("max",o.maxDate)("ngxMatDatetimePicker",e),t.R7$(5),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(7),t.FS9("placeholder",t.bMT(55,47,"lang_auto_den")),t.Y8G("max",o.maxDate)("ngxMatDatetimePicker",a),t.R7$(5),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(11),t.SpI(" ",t.bMT(71,49,"lang_auto_cau_hoi")," "),t.R7$(3),t.SpI(" ",t.bMT(74,51,"lang_auto_trang_thai")," "),t.R7$(3),t.SpI(" ",t.bMT(77,53,"lang_auto_muc_do_nhan_biet")," "),t.R7$(3),t.SpI(" ",t.bMT(80,55,"lang_auto_don_vi_kien_thuc")," "),t.R7$(3),t.SpI(" ",t.bMT(83,57,"lang_auto_khoi_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(86,59,"lang_auto_mon_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(89,61,"lang_auto_nhan_xet")," "),t.R7$(3),t.SpI(" ",t.bMT(92,63,"lang_auto_sao_chep")," "),t.R7$(4),t.Y8G("ngForOf",o.shareQuestionList),t.R7$(3),t.Y8G("pageObj",o.pageObj),t.R7$(2),t.SpI(" ",t.bMT(101,65,o.totalShareQuestion)+" "+t.bMT(102,67,"lang_auto_cau_hoi")," ")}}let zl=(()=>{var n;class s extends h.H{clearTime(){this.form.controls.startTime.setValue((new Date).toString()),this.form.controls.endTime.setValue("")}sendMessage(){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsNoticesPost().subscribe(e=>{e.success?this.successStatusObj("lang_super_role_send_notice_successfully",!0):this.errorStatusObj(e.message??"",!0)}))}filterStatus(e){this.fillStatus=e,this.browserStorageService.saveSimpleStorage("view_question_global_filter_admin",e.toString()),this.pageObj.page=1,this.getData()}getListIds(e){let a=[];return e.forEach(o=>a.push(Number(o))),a}getData(){this.loadingRender=!0;let e=this.form.getRawValue(),a=e.startTime?this.timeService.formatOnlyDateToPostToServer(e.startTime):void 0,o=e.endTime?this.timeService.formatOnlyDateToPostToServer(e.endTime):void 0,l={ids:e.searchContent?this.getListIds(e.searchContent.split(",")):void 0,answerTypes:void 0,tags:void 0,knowledgeIds:void 0,status:this.fillStatus??void 0,hasFeedback:void 0,feedbackFromDate:a,feedbackToDate:o,page:this.pageObj.page,itemPerPage:this.pageObj.pageSize};this.waitDestroy(this.questionService.apiQuestionsGlobalListPost(l).subscribe(d=>{if(d.success){this.shareQuestionList=d.data?.objs??[];let _=d.data?.total??1;this.totalShareQuestion=_,this.pageObj.setTotalPages(_);let M=[];this.shareQuestionList.forEach(E=>{E.question&&M.push({...E.question,rawIndex:0,examId:0,statistic:[],powerpointLinks:[],tags:[],configAnswers:[]})}),this.loadQuest(M),this.successStatusObj()}else this.errorStatusObj(d.message??"",!0)}))}loadQuest(e){this.loadingRender=!0;const a=this.commonService.castJsonToClassObjs(ht.I,JSON.stringify(e));this.questionRenderService.parseRenderQuestions(a??[],o=>{},this.configRenderService).then(o=>{for(let l=0;l<this.shareQuestionList.length;l++)this.shareQuestionList[l].question=o[l];this.loadingRender=!1}).catch(o=>{if(console.log("nvanh",o),a)for(let l=0;l<this.shareQuestionList.length;l++)this.shareQuestionList[l].question=a[l];this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.loadingRender=!1})}goToPage(e){this.commonService.myNavigation(`/super-role/review-question/${e}`)}changeShowQuestion(e,a){let o={status:a?1:2};this.waitDestroy(this.questionService.apiQuestionsGlobalIdStatusPut(e.question?.id??0,o).subscribe(l=>{l.success?(this.showSuccessSnack(2===o.status?"lang_global_question_hide_successfully":"lang_global_question_show_successfully"),this.getData()):this.errorStatusObj(l.message??"",!0)}))}viewQuestionDetail(e){this.sAztDialogService.open(Fl,{width:"750px",data:{obj:e},restoreFocus:!1})}constructor(e,a,o,l,d,_,M,E){super(),this.shareBankService=e,this.testMarketQuestionService=a,this.activeRoute=o,this.questionRenderService=l,this.sAztDialogService=d,this.browserStorageService=_,this.questionService=M,this.timeService=E,this.shareQuestionList=[],this.loadingRender=!1,this.totalShareQuestion=0,this.fillStatus=0,this.maxDate=G.c.maxDateTimePicker,this.pageObj=new Q.d(100),this.configRenderService=new yt.y(!0),this.form=new r.gE({searchContent:new r.MJ("",{nonNullable:!0}),startTime:new r.MJ((new Date).toString(),{nonNullable:!0}),endTime:new r.MJ("",{nonNullable:!0})})}ngOnInit(){this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page")));let e=this.browserStorageService.getSimpleStorage("view_question_global_filter_admin");this.fillStatus=Number(e??0),this.getData()}))}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(Gt.x),t.rXU(dt.e2),t.rXU(y.nX),t.rXU(Ft.g),t.rXU(U.i),t.rXU(Nt.z),t.rXU(wl.wP),t.rXU(ft.F))},n.\u0275cmp=t.VBU({type:n,selectors:[["show-review-share-question"]],features:[t.Jv_([{provide:K.$O,useClass:Kt.fb,deps:[at.Ju,Wt.ij]},{provide:K.vq,useFactory:Zt.fJ,deps:[ft.F]}]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["filterMenu","matMenu"],["startTime",""],["endTime",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"show-review-global-question"],[3,"formGroup"],[1,"grid","grid-cols-10","gap-3","mt-10"],[1,"col-span-10","md:col-span-5",2,"align-self","center"],[1,"text-lg","font-medium","mb-5"],[1,"w-2/4","relative","mr-auto","mt-3","sm:mt-0","width-form"],["name","search","size","16",3,"ngClass"],["type","text","formControlName","searchContent",1,"form-control","w-full","box","px-10",3,"keyup.enter"],[1,"grid","grid-cols-12","gap-2","mt-5","mb-2"],[1,"col-span-12",2,"align-self","center"],[1,"w-full","text-right"],[1,"filter","flex"],[1,"btn","btn-sm","box","mr-2",3,"matMenuTriggerFor"],[1,"azt-hidden","md:block"],["class","btn btn-sm btn-success","style","cursor: default",4,"ngIf"],["class","btn btn-sm btn-danger","style","cursor: default",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","show-review-question-global-zcZih5PBT",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","show-review-question-global-LBF3KdIsBK",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","show-review-question-global-us2Ov47rxQ",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],[1,"col-span-12","mt-3",2,"align-self","center"],[1,"w-full"],[1,"grid","grid-cols-10","gap-3"],[1,"col-span-10","md:col-span-5","box"],["appearance","outline"],["azt-track-service","show-review-question-global-SnjJ7jBmu","matInput","","formControlName","startTime","readonly","",3,"click","dateChange","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","show-review-question-global-rxNPaPbB-e","matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock","size","18"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["azt-track-service","show-review-question-global-soM4tDfglC","matInput","","formControlName","endTime","readonly","",3,"click","dateChange","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","show-review-question-global-7yigvutoO8","matSuffix","",2,"font-size","18px",3,"click"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto",2,"min-width","1800px"],[1,"uppercase"],[1,"whitespace-nowrap",2,"width","350px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","240px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"w-36","mt-3","sm:mt-0"],[1,"btn","btn-sm","btn-success",2,"cursor","default"],[1,"text-white","md:block"],[1,"btn","btn-sm","btn-danger",2,"cursor","default"],[1,"intro-x"],[1,"w-90"],[1,"tex2jax_process","box-content",2,"width","320px"],[3,"content"],[4,"ngIf"],[1,"text-pending"],[1,"flex","justify-center","items-center"],["azt-track-service","show-review-question-global-mOV_ryWUU",1,"btn","btn-sm","btn-outline-info","mr-2",3,"click"],["azt-track-service","show-review-question-global-8eCAcOY2kE",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"table-report__action"],["azt-track-service","show-review-question-global-HIl9jQZtJ",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","show-review-question-global-R9BfZIrg0c","class","btn btn-sm btn-outline-primary mr-2",3,"click",4,"ngIf"],["azt-track-service","show-review-question-global-F4gJ9n57T1","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[1,"text-success"],[1,"text-danger"],["azt-track-service","show-review-question-global-R9BfZIrg0c",1,"btn","btn-sm","btn-outline-primary","mr-2",3,"click"],["azt-track-service","show-review-question-global-F4gJ9n57T1",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",4),t.DNE(1,El,1,1,"azt-loading-effect",5)(2,Pl,103,77,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.loadingRender)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,te.$z,ee.fg,et.rl,et.yw,st.kk,st.Cp,K.m7,K.yF,K.HF,K.Uq,r.j4,r.JD,A.K,H.q,V.t,gt.x,O.Q,j.WGl,m.QX,g.wp],encapsulation:2}),s})();function Ll(n,s){if(1&n&&(t.j41(0,"div",1)(1,"div"),t.EFF(2),t.k0s(),t.j41(3,"div"),t.EFF(4),t.k0s(),t.j41(5,"div"),t.EFF(6),t.k0s(),t.j41(7,"div"),t.EFF(8),t.nI1(9,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.SpI("Sms From: ",i.smsFrom,""),t.R7$(2),t.SpI("Sms MessageID: ",i.smsMessageId,""),t.R7$(2),t.SpI("Sms MessageID: ",i.smsMessage,""),t.R7$(2),t.SpI("Created date: ",t.bMT(9,4,i.createdAt),"")}}let Vl=(()=>{var n;class s extends h.H{constructor(){super(...arguments),this.smsTrack=[]}}return(n=s).\u0275fac=(()=>{let i;return function(a){return(i||(i=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-track"]],inputs:{smsTrack:"smsTrack"},features:[t.Vt3],decls:1,vars:1,consts:[["class","box p-3 mb-3",4,"ngFor","ngForOf"],[1,"box","p-3","mb-3"]],template:function(e,a){1&e&&t.DNE(0,Ll,10,6,"div",0),2&e&&t.Y8G("ngForOf",a.smsTrack)},dependencies:[m.Sq,g.bH],encapsulation:2}),s})();const Bl=()=>({"absolute my-auto inset-y-0 ml-3 mt-2 left-0 z-10 text-slate-500":!0}),ue=()=>[];function Yl(n,s){if(1&n&&(t.j41(0,"div",14)(1,"span"),t.EFF(2),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.JRh(i.msgError)}}function Ul(n,s){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_khong_co_du_lieu")))}function Jl(n,s){if(1&n&&(t.j41(0,"div")(1,"div",20)(2,"div"),t.EFF(3),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s(),t.j41(6,"div"),t.EFF(7),t.k0s(),t.j41(8,"div"),t.EFF(9),t.k0s(),t.j41(10,"div"),t.EFF(11),t.nI1(12,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(3),t.SpI("ID: ",i.id,""),t.R7$(2),t.SpI("Phone: ",i.phone,""),t.R7$(2),t.SpI("OTP: ",i.otp,""),t.R7$(2),t.SpI("Status: ",i.status,""),t.R7$(2),t.SpI("Second: ",t.bMT(12,5,i.second),"")}}function ql(n,s){if(1&n&&(t.j41(0,"div")(1,"h3",13),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ul,3,3,"div",15),t.j41(5,"div",16)(6,"div",4),t.DNE(7,Jl,13,7,"div",17),t.nrm(8,"app-track",18),t.k0s()()()),2&n){let i;const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"lang_student_frontend_dashboard_result_search")),t.R7$(2),t.Y8G("ngIf",null!=e.otpSms&&e.otpSms.length<=0),t.R7$(3),t.Y8G("ngForOf",e.otpSms),t.R7$(),t.Y8G("smsTrack",null!==(i=e.searchSmsTrack)&&void 0!==i?i:t.lJ4(6,ue))}}function Xl(n,s){if(1&n&&(t.j41(0,"div")(1,"div",16)(2,"div",4),t.nrm(3,"app-track",18),t.k0s()()()),2&n){let i;const e=t.XpG();t.R7$(3),t.Y8G("smsTrack",null!==(i=e.topSmsTrack)&&void 0!==i?i:t.lJ4(1,ue))}}let Ql=(()=>{var n;class s extends h.H{getTrackSmsByPhone(){this.loading=!0,this.adminCheckSmsOtp.apiAdminCheckSmsOtpSearchSmsByPhoneGet(this.phone).subscribe(e=>{1==e.success?(this.searchSmsTrack=e.data?.smsTrackObjs,this.otpSms=e.data?.smsOtpObjs,this.smsData=e.data,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u"))})}getTrackSmsObjs(){this.loading=!0,this.adminCheckSmsOtp.apiAdminCheckSmsOtpGetObjsGet().subscribe(e=>{1==e.success?(this.topSmsTrack=e.data?.objs,this.data=e.data,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u"))})}search(){this.nonSearch=!0;var e=""==this.searchPhone.value?"":this.searchPhone.value;""==e?this.getTrackSmsObjs():(this.nonSearch=!1,this.phone=e,this.getTrackSmsByPhone())}checkValidatePhone(e){this.msgError="",Number(e)&&10==e.length?(this.msgError="",this.checkValidatePhoneNumber=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(a=>{this.msgError=a}),this.checkValidatePhoneNumber=!0)}ngOnInit(){var e=this.commonService.getMyQueryParam("page");this.page=""==e||null==e?1:Number(e),this.getTrackSmsObjs(),this.commonService.translateMetaData({title:"SMS Tracks"}),super.ngOnInit()}constructor(e){super(),this.adminCheckSmsOtp=e,this.searchPhone=new r.MJ("",{nonNullable:!0}),this.phone="",this.nonSearch=!1,this.checkValidatePhoneNumber=!1,this.loading=!1,this.page=1,this.msgError=""}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.nN))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-sms-track"]],features:[t.Vt3],decls:28,vars:25,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-2","mt-8"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"text-xl","font-medium","mb-5"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","2xl:col-span-3"],[1,"w-full","sm:w-auto","relative","mr-auto","mt-3","sm:mt-0"],["name","search","size","16",3,"ngClass"],["type","text",1,"form-control","w-full","sm:w-72","box","px-10",3,"keyup.enter","input","formControl","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"text-xs","font-medium","mt-2"],[1,"col-span-4"],["azt-track-service","sms-track-BvDsj07W9",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"font-medium","mt-5","mb-3"],[1,"text-danger","text-xs","mt-2","font-medium"],["class","mt-3",4,"ngIf"],[1,"grid","grid-cols-12","gap-2"],[4,"ngFor","ngForOf"],[3,"smsTrack"],[1,"mt-3"],[1,"box","p-3","mb-3"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"form"),t.nrm(9,"lucide-icon",6),t.j41(10,"input",7),t.nI1(11,"mytranslate"),t.bIt("keyup.enter",function(){return a.search()})("input",function(){return a.checkValidatePhone(a.searchPhone.value)}),t.k0s()()(),t.DNE(12,Yl,3,1,"div",8),t.j41(13,"div",9),t.EFF(14),t.nI1(15,"mytranslate"),t.nrm(16,"br"),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",10)(20,"button",11),t.bIt("click",function(){return a.search()}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,ql,9,7,"div",12),t.j41(24,"h3",13),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.DNE(27,Xl,4,2,"div",12),t.k0s()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(4),t.SpI(" ",t.bMT(5,12,"lang_super_role_search_sms_track")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(24,Bl)),t.R7$(),t.FS9("placeholder",t.bMT(11,14,"lang_testbank_test_list_search_phone_number")),t.Y8G("formControl",a.searchPhone),t.R7$(2),t.Y8G("ngIf",a.checkValidatePhoneNumber),t.R7$(2),t.SpI("",t.bMT(15,16,"lang_super_admin_sms-track_phone_search")," "),t.R7$(3),t.SpI("",t.bMT(18,18,"lang_super_admin_sms-track_phone_search_example")," "),t.R7$(4),t.JRh(t.bMT(22,20,"lang_auto_tim_kiem")),t.R7$(2),t.Y8G("ngIf",a.smsData&&!1===a.loading&&!1===a.nonSearch),t.R7$(2),t.JRh(t.bMT(26,22,"lang_super_role_sms_track_moi_nhat")),t.R7$(2),t.Y8G("ngIf",a.data&&!1===a.loading))},dependencies:[m.YU,m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,r.cV,r.l_,O.Q,j.WGl,Vl,g.wp,g.bH],encapsulation:2}),s})();function Hl(n,s){1&n&&(t.j41(0,"span",32),t.nrm(1,"azt-loading-ui"),t.k0s())}function Wl(n,s){if(1&n){const i=t.RV6();t.j41(0,"span")(1,"button",39),t.bIt("click",function(){let a;t.eBV(i);const o=t.XpG(2);return t.Njj(o.copyExamByHashId(null!==(a=o.examObj.hashId)&&void 0!==a?a:""))}),t.EFF(2,"Copy Exam"),t.k0s(),t.EFF(3," \xa0\xa0 "),t.k0s()}}function Kl(n,s){if(1&n&&(t.j41(0,"a",40),t.nI1(1,"mycdn"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.FS9("href",t.bMT(1,2,i.examFileObj.path?i.examFileObj.path:i.examFileObj.editorPath),t.B4B),t.R7$(2),t.SpI(" ",t.bMT(3,4,"lang_auto_tai_xuong_file_de")," ")}}function Zl(n,s){if(1&n){const i=t.RV6();t.j41(0,"span")(1,"button",41),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.loginAndRedirect(a,"homework"))}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.EFF(4," \xa0\xa0 "),t.k0s()}2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_link_xem_diem_bai_tap")))}function tc(n,s){if(1&n){const i=t.RV6();t.j41(0,"span")(1,"button",42),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.loginAndRedirect(a,"exam"))}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.EFF(4," \xa0\xa0 "),t.k0s()}2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_link_xem_diem_de_thi")))}function ec(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td",33),t.DNE(12,Wl,4,0,"span",34)(13,Kl,4,6,"a",35)(14,Zl,5,3,"span",34)(15,tc,5,3,"span",34),t.j41(16,"button",36),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.loginAndRedirect(a,"user"))}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.EFF(19," \xa0 "),t.j41(20,"button",37),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.getForgotPasswordLink(a.id))}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.EFF(23," \xa0 "),t.j41(24,"button",38),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.blockPhoneAccount(a.id))}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()}if(2&n){const i=s.$implicit,e=t.XpG();t.R7$(2),t.JRh(i.fullName),t.R7$(2),t.JRh(i.email),t.R7$(2),t.JRh(i.phone),t.R7$(2),t.JRh(i.userName),t.R7$(2),t.JRh(i.zaloId),t.R7$(2),t.Y8G("ngIf",e.examObj&&(null==e.examObj?null:e.examObj.hashId)),t.R7$(),t.Y8G("ngIf",e.examFileObj&&-1!=e.examFileObj.id),t.R7$(),t.Y8G("ngIf",0!=(null==e.homeworkObj?null:e.homeworkObj.id)),t.R7$(),t.Y8G("ngIf",0!=(null==e.examObj?null:e.examObj.id)),t.R7$(2),t.JRh(t.bMT(18,12,"lang_auto_dang_nhap")),t.R7$(4),t.JRh(t.bMT(22,14,"lang_auto_lay_link_quen_mat_khau")),t.R7$(4),t.JRh(t.bMT(26,16,"lang_auto_khoa_so_phone_nay"))}}let nc=(()=>{var n;class s extends h.H{loginAndRedirect(e,a){let o="";"homework"==a&&(o=`/admin/testbank/homework-results-list/${this.homeworkObj?.classroomId}/${this.homeworkObj?.id}/${this.homeworkObj?.hashId}`),"exam"==a&&(o=`/admin/testbank/exam-results-list/${null!=this.examObj?.categoryId?this.examObj.categoryId:0}/${this.examObj?.id}/0`),this.sAztRedirectService.redirectLoginWithToken(e.domainUrl,e.rememberToken??"",o)}getForgotPasswordLink(e){this.initStatusObj(),this.waitDestroy(this.adminSupportService.apiAdminSupportGetForgotPasswordCodeGet(e).subscribe(a=>{1==a.success?(this.forgotPasswordLink=this.commonService.getCurrentDomain()+this.commonService.getLocalRouter("/auth/confirm_forgot_password_old?token=")+a.data?.encodeStr,this.successStatusObj("T\u1ea1o link th\xe0nh c\xf4ng",!0)):this.errorStatusObj(a.message??"",!0)}))}blockPhoneAccount(e){this.initStatusObj(),this.waitDestroy(this.adminSupportService.apiAdminSupportDisableAccountGet(e).subscribe(a=>{1==a.success?this.successStatusObj("lang_auto_khoa_so_phon_thanh_cong",!0):this.errorStatusObj(a.message??"",!0)}))}copyExamByHashId(e){this.initStatusObj(),this.waitDestroy(this.adminCopyExamService.apiAdminCopyExamCopyExamByHashIdGet(e).subscribe(a=>{if(1==a.success){this.stopStatusObj();var o=a.data?.obj;this.commonService.myNavigation(`/admin/testbank/exam-results-list/${null!=o?.categoryId?o.categoryId:0}/${o?.id}/0`)}else this.errorStatusObj(a.message??"",!0)}))}search(){this.initStatusObj();var e=this.form.getRawValue();this.waitDestroy(this.adminSupportService.apiAdminSupportSearchUserGet(e.domainUrl?e.domainUrl:void 0,e.phone.toString(),e.email.toString(),e.username.toString(),e.userId?Number(e.userId):void 0,e.homeworkHashId.toString(),e.examHashId.toString(),e.homeworkId?Number(e.homeworkId):void 0,e.examId?Number(e.examId):void 0,e.homeworkAnswerId?Number(e.homeworkAnswerId):void 0,e.examResultId?Number(e.examResultId):void 0,e.classroomId?Number(e.classroomId):void 0).subscribe(a=>{1==a.success?(this.objs=a.data?.objs,this.homeworkObj=a.data?.homeworkObj,this.examObj=a.data?.examObj,this.examFileObj=a.data?.examFileObj,this.homeworkAnswerObj=a.data?.homeworkAnswerObj,this.stopStatusObj()):this.errorStatusObj(a.message??"",!0)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_support_title",description:"lang_cms_auth_support_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,a,o){super(),this.adminCopyExamService=e,this.adminSupportService=a,this.sAztRedirectService=o,this.form=new r.gE({domainUrl:new r.MJ("",{nonNullable:!0}),phone:new r.MJ("",{nonNullable:!0}),email:new r.MJ("",{nonNullable:!0}),username:new r.MJ("",{nonNullable:!0}),userId:new r.MJ("",{nonNullable:!0}),classroomId:new r.MJ("",{nonNullable:!0}),homeworkHashId:new r.MJ("",{nonNullable:!0}),examHashId:new r.MJ("",{nonNullable:!0}),homeworkId:new r.MJ("",{nonNullable:!0}),examId:new r.MJ("",{nonNullable:!0}),homeworkAnswerId:new r.MJ("",{nonNullable:!0}),examResultId:new r.MJ("",{nonNullable:!0})})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.vl),t.rXU(F.su),t.rXU(Lt.m))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-support"]],features:[t.Vt3],decls:119,vars:57,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"text-lg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","control-label","font-medium"],[1,"col-sm-12","mb-5"],["type","text","formControlName","domainUrl",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","email","autocapitalize","none",1,"form-control"],["type","text","formControlName","username","autocapitalize","none",1,"form-control"],["type","text","formControlName","userId",1,"form-control"],["type","text","formControlName","classroomId",1,"form-control"],["type","text","formControlName","homeworkId",1,"form-control"],["type","text","formControlName","homeworkHashId",1,"form-control"],["type","text","formControlName","homeworkAnswerId",1,"form-control"],["type","text","formControlName","examId",1,"form-control"],["type","text","formControlName","examHashId",1,"form-control"],["type","text","formControlName","examResultId",1,"form-control"],["azt-track-service","support-4f02gJqVtF",1,"btn","btn-primary",2,"width","100%",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["type","text",1,"form-control",3,"value"],[1,"form-group","overflow-auto"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"w-4","h-4","inline-block","mr-2"],[1,"text-right"],[4,"ngIf"],["azt-track-service","support-csrjeevkqI","class","mx-2 mb-1 btn mat-raised-button","download","proposed_file_name","style","text-transform: uppercase","target","_black",3,"href",4,"ngIf"],["azt-track-service","support-uFMHy3tYcv",1,"btn","btn-primary",3,"click"],["azt-track-service","support-8C_FtYUQEG",1,"btn","btn-primary",3,"click"],["azt-track-service","support-0lH2XX9LUQ",1,"btn","btn-danger",3,"click"],["azt-track-service","support-OP1N88lmp-",1,"btn","btn-primary",3,"click"],["azt-track-service","support-csrjeevkqI","download","proposed_file_name","target","_black",1,"mx-2","mb-1","btn","mat-raised-button",2,"text-transform","uppercase",3,"href"],["azt-track-service","support-8oPcetECAf",1,"btn","btn-primary",3,"click"],["azt-track-service","support-AS1s2OzCOK",1,"btn","btn-primary",3,"click"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.nrm(8,"hr"),t.j41(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"div",10),t.nrm(17,"input",11),t.k0s()(),t.j41(18,"div",8)(19,"label",9),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"div",10),t.nrm(23,"input",12),t.k0s()(),t.j41(24,"div",8)(25,"label",9),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"div",10),t.nrm(29,"input",13),t.k0s()(),t.j41(30,"div",8)(31,"label",9),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",10),t.nrm(35,"input",14),t.k0s()(),t.j41(36,"div",8)(37,"label",9),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"div",10),t.nrm(41,"input",15),t.k0s()(),t.j41(42,"div",8)(43,"label",9),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s(),t.j41(46,"div",10),t.nrm(47,"input",16),t.k0s()(),t.j41(48,"div",8)(49,"label",9),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s(),t.j41(52,"div",10),t.nrm(53,"input",17),t.k0s()(),t.j41(54,"div",8)(55,"label",9),t.EFF(56),t.nI1(57,"mytranslate"),t.k0s(),t.j41(58,"div",10),t.nrm(59,"input",18),t.k0s()(),t.j41(60,"div",8)(61,"label",9),t.EFF(62),t.nI1(63,"mytranslate"),t.k0s(),t.j41(64,"div",10),t.nrm(65,"input",19),t.k0s()(),t.j41(66,"div",8)(67,"label",9),t.EFF(68),t.nI1(69,"mytranslate"),t.k0s(),t.j41(70,"div",10),t.nrm(71,"input",20),t.k0s()(),t.j41(72,"div",8)(73,"label",9),t.EFF(74),t.nI1(75,"mytranslate"),t.k0s(),t.j41(76,"div",10),t.nrm(77,"input",21),t.k0s()(),t.j41(78,"div",8)(79,"label",9),t.EFF(80),t.nI1(81,"mytranslate"),t.k0s(),t.j41(82,"div",10),t.nrm(83,"input",22),t.k0s()(),t.j41(84,"div",8)(85,"div",10)(86,"button",23),t.bIt("click",function(){return a.form.invalid||a.statusObj.loading||a.search()}),t.DNE(87,Hl,2,0,"span",24),t.EFF(88),t.nI1(89,"mytranslate"),t.k0s()()(),t.nrm(90,"hr"),t.j41(91,"div",8)(92,"label",9),t.EFF(93),t.nI1(94,"mytranslate"),t.k0s(),t.j41(95,"div",10),t.nrm(96,"input",25),t.k0s()(),t.j41(97,"div",26)(98,"div",10)(99,"div",27)(100,"table",28)(101,"thead")(102,"tr")(103,"th",29),t.EFF(104),t.nI1(105,"mytranslate"),t.k0s(),t.j41(106,"th",29),t.EFF(107,"Email"),t.k0s(),t.j41(108,"th",29),t.EFF(109,"Phone"),t.k0s(),t.j41(110,"th",29),t.EFF(111,"Username"),t.k0s(),t.j41(112,"th",29),t.EFF(113,"Zalo ID"),t.k0s(),t.j41(114,"th",30),t.EFF(115),t.nI1(116,"mytranslate"),t.k0s()()(),t.j41(117,"tbody"),t.DNE(118,ec,27,18,"tr",31),t.k0s()()()()()()()()()()()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(6),t.JRh(t.bMT(7,23,"lang_auto_man_hinh_ho_tro_vien")),t.R7$(3),t.Y8G("formGroup",a.form),t.R7$(5),t.JRh(t.bMT(15,25,"lang_auto_user_find_by_domain_url")),t.R7$(6),t.JRh(t.bMT(21,27,"lang_auto_user_tim_theo_phone")),t.R7$(6),t.JRh(t.bMT(27,29,"lang_auto_user_tim_theo_email")),t.R7$(6),t.JRh(t.bMT(33,31,"lang_auto_user_tim_theo_username")),t.R7$(6),t.JRh(t.bMT(39,33,"lang_auto_user_tim_theo_id")),t.R7$(6),t.JRh(t.bMT(45,35,"lang_auto_classroom_tim_theo_id_lop_hoc")),t.R7$(6),t.JRh(t.bMT(51,37,"lang_auto_bai_tap_tim_theo_id")),t.R7$(6),t.JRh(t.bMT(57,39,"lang_auto_bai_tap_tim_theo_ma_bai_tap")),t.R7$(6),t.JRh(t.bMT(63,41,"lang_auto_bai_tap_tim_theo_id_ket_qua")),t.R7$(6),t.JRh(t.bMT(69,43,"lang_auto_de_thi_tim_theo_id")),t.R7$(6),t.JRh(t.bMT(75,45,"lang_auto_de_thi_tim_theo_ma_de")),t.R7$(6),t.JRh(t.bMT(81,47,"lang_auto_de_thi_tim_theo_id_ket_qua")),t.R7$(6),t.Y8G("disabled",a.form.invalid||a.statusObj.loading),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(89,49,"lang_auto_tim_kiem")," "),t.R7$(5),t.JRh(t.bMT(94,51,"lang_auto_link_quen_mat_khau")),t.R7$(3),t.FS9("value",a.forgotPasswordLink),t.R7$(8),t.JRh(t.bMT(105,53,"lang_auto_ten")),t.R7$(11),t.JRh(t.bMT(116,55,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",a.objs))},dependencies:[m.Sq,m.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,L.R,O.Q,g.wp,g.nf],encapsulation:2}),s})();var ac=u(11002);function ic(n,s){1&n&&t.nrm(0,"azt-loading-ui",13)}function oc(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",14),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function sc(n,s){1&n&&(t.j41(0,"div",23)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_please_enter")+" "+t.bMT(4,3,"lang_azt_template_code")+"!"))}function rc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",15)(1,"div",16)(2,"label",17),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",18),t.nrm(6,"input",19),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,sc,5,5,"div",20),t.k0s(),t.j41(10,"div",15)(11,"label",17),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",21)(15,"app-input-format",22),t.bIt("onRender",function(a){t.eBV(i);const o=t.XpG();return t.Njj(o.render(a))}),t.k0s()()()()}if(2&n){const i=t.XpG();t.R7$(3),t.JRh(t.bMT(4,7,"lang_azt_template_code")),t.R7$(3),t.FS9("placeholder",t.bMT(7,9,"lang_azt_enter")+" "+t.bMT(8,11,"lang_azt_template_code")),t.R7$(3),t.Y8G("ngIf",i.form.controls.code.errors&&i.form.controls.code.touched),t.R7$(3),t.JRh(t.bMT(13,13,"lang_azt_template_html")),t.R7$(3),t.Y8G("html",!0)("inputStr",i.form.controls.html.value)("isShowButtonSave",!1)}}let pe=(()=>{var n;class s extends h.H{constructor(){super(),this.separatorKeysCodes=[Ot.Fm,Ot.KE],this.adminProductTemplateService=(0,t.WQX)(F.sr),this.activatedRoute=(0,t.WQX)(y.nX),this.backToLink="",this.vars=[],this.templateId=0,this.isSubmitLoading=!1,this.form=new r.gE({code:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,J.M.noWhiteSpace]}),html:new r.MJ("",{nonNullable:!0})})}callApiCreateTemplate(){this.isSubmitLoading=!0;const e=this.form.getRawValue();this.waitDestroy(this.adminProductTemplateService.apiAdminProductTemplateSaveObjPost({code:e.code,html:e.html}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.showSuccessSnack("lang_azt_update_template_successfully"),this.isSubmitLoading=!1,this.handleDestroy()}))}callApiUpdateTemplate(){this.isSubmitLoading=!0;const e=this.form.getRawValue();this.waitDestroy(this.adminProductTemplateService.apiAdminProductTemplateUpdateObjPost({code:e.code,html:e.html,id:this.templateId}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.showSuccessSnack("lang_azt_add_template_successfully"),this.isSubmitLoading=!1,this.handleDestroy()}))}initData(){this.templateId&&(this.initStatusObj(),this.waitDestroy(this.adminProductTemplateService.apiAdminProductTemplateGetObjGet(this.templateId).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);const a=e.data?.obj;this.form.patchValue({code:a?.code,html:a?.html}),this.successStatusObj()})))}render(e){this.form.controls.html.setValue(e)}onSubmit(){if(this.form.invalid)return this.form.markAllAsTouched();this.templateId?this.callApiUpdateTemplate():this.callApiCreateTemplate()}handleDestroy(){this.myNavigation("/super-role/template-list")}ngOnInit(){super.ngOnInit(),this.templateId=Number(this.getMyParam(this.activatedRoute,"templateId")??0),this.backToLink=this.getMyQueryParam("backto")??"/super-role/template-list",this.initData()}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-create-or-update-template"]],standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:19,consts:[["fixedOnTop",""],["doneLoading",""],[3,"headerBackToLink"],[3,"ngSubmit","formGroup"],[1,"mt-5","flex","items-center"],[1,"text-lg","font-bold","flex","items-center"],[1,"ml-auto"],[3,"colorBackground"],[1,"flex","items-center"],["type","button",1,"btn","btn-secondary","min-width-100","mr-3",3,"click"],["type","submit",1,"btn","btn-primary","min-width-100"],["class","mr-1",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mr-1"],[3,"currentStatusObj"],[1,"mt-3"],[1,"mt-0"],["for","code",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","code","formControlName","code",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],[1,"mt-2"],[3,"onRender","html","inputStr","isShowButtonSave"],[1,"text-danger","text-xs","font-medium","mt-2"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",2)(1,"form",3),t.bIt("ngSubmit",function(){return t.eBV(o),t.Njj(a.onSubmit())}),t.j41(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",6)(8,"flexed-on-the-top",7,0)(10,"div",8)(11,"button",9),t.bIt("click",function(){return t.eBV(o),t.Njj(a.handleDestroy())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",10),t.DNE(15,ic,1,0,"azt-loading-ui",11),t.j41(16,"span"),t.EFF(17),t.nI1(18,"mytranslate"),t.nI1(19,"mytranslate"),t.k0s()()()()()(),t.DNE(20,oc,1,1,"azt-loading-effect",12)(21,rc,16,15,"ng-template",null,1,t.C5r),t.k0s()()}if(2&e){const o=t.sdS(22);t.Y8G("headerBackToLink",a.backToLink),t.R7$(),t.Y8G("formGroup",a.form),t.R7$(3),t.SpI(" ",a.templateId?t.bMT(5,9,"lang_azt_update_template"):t.bMT(6,11,"lang_azt_add_template")," "),t.R7$(4),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(4),t.SpI(" ",t.bMT(13,13,"lang_button_cancel")," "),t.R7$(3),t.Y8G("ngIf",a.isSubmitLoading),t.R7$(2),t.JRh(a.templateId?t.bMT(18,15,"lang_auto_cap_nhat"):t.bMT(19,17,"lang_button_save")),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,m.MD,m.bT,r.YN,ce.R,z.L,g.wp,j.flO,S.Q,A.K,V.t,L.R,ac.$,T.b,O.Q],encapsulation:2}),s})();var lc=u(64160);const _e=n=>({"text-white font-medium":n}),cc=n=>({transform:n});function dc(n,s){1&n&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function mc(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",12),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function uc(n,s){if(1&n&&(t.nrm(0,"div",38),t.nI1(1,"safeNormalHtmlContent")),2&n){const i=t.XpG().$implicit;t.Y8G("innerHTML",t.bMT(1,1,i.html),t.npT)}}function pc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",39)(1,"button",40),t.bIt("click",function(){t.eBV(i);const a=t.XpG(4);return t.Njj(a.showCopySuccess())}),t.nrm(2,"lucide-icon",41),t.j41(3,"span",8),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",42)(7,"pre",43),t.EFF(8," \n\t\t\t\t\t\t\t\t\t\t\t"),t.j41(9,"code",44),t.EFF(10),t.k0s(),t.EFF(11,"\n\t\t\t\t\t\t\t\t\t\t"),t.k0s()()()}if(2&n){const i=t.XpG().$implicit,e=t.XpG(3);t.R7$(),t.Y8G("cdkCopyToClipboard",e.copyLinkToClipboard(i.html)),t.R7$(3),t.JRh(t.bMT(5,3,"lang_auto_sao_chep")),t.R7$(6),t.SpI(" \n\t\t\t\t\t\t\t\t\t\t\t\t",i.html,"\n\t\t\t\t\t\t\t\t\t\t\t")}}function _c(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"span",23),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",24)(8,"button",25),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(3);return t.Njj(o.updateTemplate(a))}),t.nrm(9,"lucide-icon",26),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"button",27),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(3);return t.Njj(o.removeTemplate(a))}),t.nrm(14,"lucide-icon",28),t.j41(15,"span",8),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()(),t.j41(18,"div",29)(19,"span"),t.EFF(20),t.k0s()()(),t.j41(21,"div",30)(22,"div",22)(23,"div",23),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"div",31)(27,"div",32),t.bIt("click",function(){const a=t.eBV(i).$implicit;return t.Njj(a.isShowCode=!a.isShowCode)}),t.j41(28,"label",33),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"label",34),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.nrm(34,"span",35),t.k0s()()(),t.j41(35,"div",29),t.DNE(36,uc,2,3,"div",36)(37,pc,12,5,"div",37),t.k0s()()()()}if(2&n){const i=s.$implicit;t.R7$(5),t.SpI(" ",t.bMT(6,12,"lang_azt_template_code")," "),t.R7$(6),t.JRh(t.bMT(12,14,"lang_auto_sua")),t.R7$(5),t.JRh(t.bMT(17,16,"lang_auto_xoa")),t.R7$(4),t.JRh(i.code),t.R7$(4),t.SpI(" ",t.bMT(25,18,"lang_azt_template_html")," "),t.R7$(4),t.Y8G("ngClass",t.eq3(24,_e,!i.isShowCode)),t.R7$(),t.SpI(" ",t.bMT(30,20,"View")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(26,_e,i.isShowCode)),t.R7$(),t.SpI(" ",t.bMT(33,22,"Code")," "),t.R7$(2),t.Y8G("ngStyle",t.eq3(28,cc,i.isShowCode?"translateX(100%)":"none")),t.R7$(2),t.Y8G("ngIf",!i.isShowCode),t.R7$(),t.Y8G("ngIf",i.isShowCode)}}function hc(n,s){1&n&&t.nrm(0,"azt-loading-ui",45),2&n&&t.Y8G("size",16)}function gc(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",46),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const a=t.XpG(3);return t.Njj(a.getData(a.nextPage))}),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",47),t.k0s()}if(2&n){const i=t.XpG(3);t.FS9("matTooltip",t.bMT(1,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Y8G("disabled",!i.nextPage),t.R7$(3),t.JRh(t.bMT(4,5,"lang_auto_xem_them"))}}function fc(n,s){if(1&n&&(t.j41(0,"div",14)(1,"div",15),t.DNE(2,_c,38,30,"div",16),t.k0s(),t.j41(3,"div",17),t.DNE(4,hc,1,1,"azt-loading-ui",18)(5,gc,6,7,"ng-template",null,1,t.C5r),t.k0s()()),2&n){const i=t.sdS(6),e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.templateList),t.R7$(2),t.Y8G("ngIf",e.loadingMore)("ngIfElse",i)}}function bc(n,s){if(1&n&&t.DNE(0,fc,7,3,"div",13),2&n){const i=t.XpG();t.Y8G("ngIf",i.templateList.length)}}let vc=(()=>{var n;class s extends h.H{constructor(){super(...arguments),this.adminProductTemplateService=(0,t.WQX)(F.sr),this.dialogService=(0,t.WQX)(U.i),this.templateList=[],this.nextPage="",this.loadingMore=!0}removeTemplate(e){const a={content:`<span>${this.commonService.myTranslateInstant("lang_azt_are_you_sure_you_want_to_delete_the_template")} <b>${e.code}</b>?</span>`,iconName:"trash-2"};this.dialogService.open(bt.u,{data:a,width:"600px"}).afterClosed().subscribe(l=>{l&&this.callApiRemoveProduct(e)})}createTemplate(){this.myNavigationWithQueryString("/super-role/create-or-update-template/0",`?backto=${encodeURIComponent("/super-role/template-list")}`)}updateTemplate(e){this.myNavigationWithQueryString(`/super-role/create-or-update-template/${e.id}`,`?backto=${encodeURIComponent("/super-role/template-list")}`)}copyLinkToClipboard(e){return e}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getData(e){e||this.initStatusObj(),this.loadingMore=!0,this.waitDestroy(this.adminProductTemplateService.apiAdminProductTemplateGetObjsPost({nextPage:e}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.templateList=a.data?.objs??[],this.templateList.forEach(o=>o.isShowCode=!1),this.nextPage=a.data?.nextPage??"",this.loadingMore=!1,this.successStatusObj()}))}callApiRemoveProduct(e){this.waitDestroy(this.adminProductTemplateService.apiAdminProductTemplateDeleteObjGet(e.id).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.getData(),this.showSuccessSnack("lang_azt_delete_product_successfully")}))}ngOnInit(){super.ngOnInit(),this.getData()}}return(n=s).\u0275fac=(()=>{let i;return function(a){return(i||(i=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-template-list"]],features:[t.Vt3],decls:15,vars:10,consts:[["doneLoading",""],["doneLoadNextPage",""],[3,"headerBackToLink"],[1,"mt-5","flex","flex-col","sm:flex-row","sm:items-center"],[1,"text-xl","font-medium"],[1,"sm:ml-auto","mt-3","sm:mt-0"],["type","button",1,"btn","btn-primary","min-width-100","mr-3",3,"click"],["name","plus","size","16"],[1,"ml-2"],["class","mt-1",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mt-1"],[3,"currentStatusObj"],["class","intro-y mt-5",4,"ngIf"],[1,"intro-y","mt-5"],[1,"grid","grid-cols-12","gap-5"],["class","col-span-12 sm:col-span-6 md:col-span-4",4,"ngFor","ngForOf"],[1,"mt-3","mb-3","flex","justify-center"],[3,"size",4,"ngIf","ngIfElse"],[1,"col-span-12","sm:col-span-6","md:col-span-4"],[1,"box","p-3"],[1,"mt-0"],[1,"flex","items-center"],[1,"font-medium"],[1,"ml-auto","flex","items-center"],[1,"btn","btn-sm","btn-primary-soft","ml-3",3,"click"],["name","square-pen","size","16"],[1,"btn","btn-sm","btn-danger-soft","ml-3",3,"click"],["name","trash-2","size","16"],[1,"mt-2"],[1,"mt-3"],[1,"ml-auto"],[1,"switch-wrapper",2,"padding","0",3,"click"],["for","test",3,"ngClass"],["for","train",3,"ngClass"],[1,"highlighter",3,"ngStyle"],[3,"innerHTML",4,"ngIf"],["class","source-code hidden",4,"ngIf"],[3,"innerHTML"],[1,"source-code","hidden"],[1,"copy-code","btn","py-1","px-2","btn-outline-secondary",3,"click","cdkCopyToClipboard"],["name","copy","size","16"],[1,"overflow-y-auto","mt-3","rounded-md"],[1,"source-preview"],[1,"html","hljs","xml"],[3,"size"],[1,"btn","btn-transparent",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"h3",4),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",5)(6,"button",6),t.bIt("click",function(){return t.eBV(o),t.Njj(a.createTemplate())}),t.nrm(7,"lucide-icon",7),t.j41(8,"span",8),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()(),t.DNE(11,dc,3,3,"div",9)(12,mc,1,1,"azt-loading-effect",10)(13,bc,1,1,"ng-template",null,0,t.C5r),t.k0s()}if(2&e){const o=t.sdS(14);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_template_list")),t.R7$(6),t.JRh(t.bMT(10,8,"lang_azt_add_template")),t.R7$(2),t.Y8G("ngIf",a.templateList.length&&a.isMobileDevice),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,m.B3,lc.dF,kt.oV,A.K,L.R,O.Q,j.WGl,g.wp,g._y],encapsulation:2}),s})();var kc=u(76396);function Ic(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",4),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function jc(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.nI1(3,"json"),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,1,i)," ")}}function Rc(n,s){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"table",7)(3,"tbody"),t.DNE(4,jc,4,3,"tr",8),t.k0s()()()()),2&n){const i=t.XpG();t.R7$(4),t.Y8G("ngForOf",i.objs)}}let Sc=(()=>{var n;class s extends h.H{constructor(){super(...arguments),this.adminTransactionProductService=(0,t.WQX)(kc.g),this.objs=[]}initData(){this.initStatusObj(),this.waitDestroy(this.adminTransactionProductService.apiAdminTransactionProductGetSuccessObjsGet().subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.objs=e.data?.objs??[],this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.initData()}}return(n=s).\u0275fac=(()=>{let i;return function(a){return(i||(i=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["coazt-transaction-product-management"]],features:[t.Vt3],decls:5,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[1,"mt-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","1200px"],[4,"ngFor","ngForOf"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1)(1,"div",2),t.DNE(2,Ic,1,1,"azt-loading-effect",3)(3,Rc,5,1,"ng-template",null,0,t.C5r),t.k0s()()),2&e){const o=t.sdS(4);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(2),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.Sq,m.bT,A.K,O.Q,m.TG],encapsulation:2}),s})();function Tc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"label",11),t.EFF(3),t.k0s(),t.j41(4,"div",12),t.nrm(5,"textarea",13),t.j41(6,"p")(7,"small")(8,"i"),t.EFF(9),t.k0s()()()(),t.j41(10,"div",14)(11,"button",15),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.saveConfig(a.controls.id.value))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14,"\xa0 "),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(),t.Y8G("formGroup",i),t.R7$(2),t.JRh(i.controls.name.value),t.R7$(6),t.JRh(i.controls.note.value),t.R7$(3),t.JRh(t.bMT(13,4,"lang_auto_cap_nhat"))}}let yc=(()=>{var n;class s extends h.H{ngOnInit(){this.getConfigObjs(),this.commonService.translateMetaData({title:"lang_cms_auth_update_config_title",description:"lang_cms_auth_update_config_description",image:"lang_cms_test_image"}),super.ngOnInit()}saveConfig(e){for(var a=this.form.getRawValue(),o=!1,l="",d=0;d<a.config_objs.length;d++)if(a.config_objs[d].id==e){o=!0,l=a.config_objs[d].value;break}o&&e?(this.status_obj={loading:!0,error:!1},this.waitDestroy(this.adminSupportService.apiAdminSupportUpdateConfigObjPost({id:e,value:l}).subscribe(_=>{1==_.success?(this.status_obj={loading:!1,error:!1},this.showSuccessSnack("lang_auto_luu_du_lieu_thanh_cong")):(this.status_obj={loading:!1,error:!0},this.showErrorSnack(_.message??""))}))):this.showErrorSnack("lang_auto_khong_tim_thay_du_lieu")}getConfigObjs(){this.status_obj={loading:!0,error:!1},this.waitDestroy(this.adminSupportService.apiAdminSupportGetConfigObjsGet().subscribe(e=>{if(1==e.success){this.objs=e.data;for(var a=new r.Yp([]),o=0;o<(this.objs?.length??0);o++){var l=new r.gE({id:new r.MJ(this.objs?.[o].id,{nonNullable:!0,validators:[r.k0.required]}),name:new r.MJ(this.objs?.[o].name??"",{nonNullable:!0,validators:[r.k0.required]}),value:new r.MJ(this.objs?.[o].value??"",{nonNullable:!0,validators:[r.k0.required]}),note:new r.MJ(this.objs?.[o].note??"",{nonNullable:!0})});a.push(l)}this.form.setControl("config_objs",a),this.status_obj={loading:!1,error:!1}}else this.status_obj={loading:!1,error:!0},this.showErrorSnack(e.message??"")}))}constructor(e){super(),this.adminSupportService=e,this.status_obj={loading:!1,error:!1},this.form=new r.gE({config_objs:new r.Yp([])})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.su))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-update-config"]],features:[t.Vt3],decls:13,vars:6,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"text-lg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],["class","form-group",4,"ngFor","ngForOf"],[1,"form-group"],[1,"row",3,"formGroup"],[1,"col-sm-2","control-label","font-medium"],[1,"col-sm-6"],["type","text","formControlName","value",1,"form-control",2,"height","200px"],[2,"display","flex","justify-content","end"],["azt-track-service","update-config-LHCluuyHii",1,"btn","btn-primary",3,"click"]],template:function(e,a){1&e&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.nrm(8,"hr"),t.j41(9,"form",5)(10,"div",6)(11,"div",7),t.DNE(12,Tc,15,6,"div",8),t.k0s()()()()()()()),2&e&&(t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_cap_nhat_cau_hinh")),t.R7$(3),t.Y8G("formGroup",a.form),t.R7$(3),t.Y8G("ngForOf",a.form.controls.config_objs.controls))},dependencies:[m.Sq,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,V.t,O.Q,g.wp],encapsulation:2}),s})();var Fc=u(81245);function wc(n,s){if(1&n&&(t.j41(0,"div",8)(1,"div",9),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i)}}function xc(n,s){if(1&n&&(t.j41(0,"div",8)(1,"div",9),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i)}}function Cc(n,s){if(1&n&&(t.j41(0,"div",8)(1,"div",9),t.EFF(2),t.k0s()()),2&n){const i=s.$implicit;t.R7$(2),t.JRh(i)}}function Ec(n,s){1&n&&(t.j41(0,"div",10)(1,"div",11),t.nrm(2,"div",12)(3,"div",13),t.k0s(),t.j41(4,"div",11),t.nrm(5,"div",12)(6,"div",13),t.k0s(),t.j41(7,"div",11),t.nrm(8,"div",12)(9,"div",13),t.k0s(),t.j41(10,"div",11),t.nrm(11,"div",12)(12,"div",13),t.k0s()())}let Mc=(()=>{var n;class s extends h.H{checkMilestone(){var e=this;return(0,de.A)(function*(){e.vipStatistic.totalTeacherVipBuyOneMonth+e.vipStatistic.totalTeacherVipBuyOneYear<e.fireworkTarget||(e.showFirework=!0,e.successAudioHtmlElement.play())})()}getVipStatistic(e){this.waitDestroy(this.vipStatisticService.apiVipStatisticGetVipStatisticGet(e).subscribe(a=>{if(!a.success||!a.data)return setTimeout(()=>this.getVipStatistic(e),1e4),this.errorStatusObj(a.message,!0);let o=this.vipStatistic.totalTeacherVipBuyOneMonth+this.vipStatistic.totalTeacherVipBuyOneYear;o>0&&o!=a.data.totalTeacherVipBuyOneMonth+a.data.totalTeacherVipBuyOneYear&&(this.newUserAudioHtmlElement.play(),setTimeout(()=>this.newUserAudioHtmlElement.pause(),3e3)),this.vipStatistic=a.data,this.digitsOneMonth=String(this.vipStatistic.totalTeacherVipBuyOneMonth).padStart(this.fireworkTarget.toString().length,"0").split(""),this.digitsOneYear=String(this.vipStatistic.totalTeacherVipBuyOneYear).padStart(this.fireworkTarget.toString().length,"0").split(""),this.digitsRemainPackages=String(this.fireworkTarget-this.vipStatistic.totalTeacherVipBuyOneMonth-this.vipStatistic.totalTeacherVipBuyOneYear).padStart(this.fireworkTarget.toString().length,"0").split(""),this.checkMilestone(),setTimeout(()=>this.getVipStatistic(e),1e3)}))}ngOnInit(){super.ngOnInit(),this.vipStatistic={totalTeacherVipBuyOneYear:0,totalTeacherVipBuyOneMonth:0};let e=this.commonService.getMyQueryParam("token")??"zzz";this.getVipStatistic(e)}constructor(e){super(),this.vipStatisticService=e,this.sAztCoreModCdnService=(0,t.WQX)(Fc.O),this.fireworkTarget=5e3,this.successAudioHtmlElement=new Audio(this.sAztCoreModCdnService.convertCdnLinkOfGitHub("audio/correct.mp3")),this.newUserAudioHtmlElement=new Audio(this.sAztCoreModCdnService.convertCdnLinkOfGitHub("audio/correct.mp3")),this.digitsOneYear=[],this.digitsOneMonth=[],this.showFirework=!1,this.digitsRemainPackages=[]}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.P$))},n.\u0275cmp=t.VBU({type:n,selectors:[["vip-fireworks"]],features:[t.Vt3],decls:18,vars:5,consts:[[1,"flex","justify-center","items-center","h-full"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"w-full","flex","justify-center"],[1,"odometer","flex","box","p-2","mt-2"],["class","digit",4,"ngFor","ngForOf"],[1,"mt-10","text-lg","font-medium"],["class","flex justify-between absolute",4,"ngIf"],[1,"digit"],[1,"number"],[1,"flex","justify-between","absolute"],[1,"pyro"],[1,"before"],[1,"after"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3),t.k0s(),t.j41(4,"div",3)(5,"div",4),t.DNE(6,wc,3,1,"div",5),t.k0s()(),t.j41(7,"p",6),t.EFF(8,"T\u1ed5ng s\u1ed1 gi\xe1o vi\xean VIP g\xf3i 1 th\xe1ng"),t.k0s(),t.j41(9,"div",3)(10,"div",4),t.DNE(11,xc,3,1,"div",5),t.k0s()(),t.j41(12,"p",6),t.EFF(13,"T\u1ed5ng s\u1ed1 gi\xe1o vi\xean VIP g\xf3i 1 n\u0103m"),t.k0s(),t.j41(14,"div",3)(15,"div",4),t.DNE(16,Cc,3,1,"div",5),t.k0s()()()(),t.DNE(17,Ec,13,0,"div",7)),2&e&&(t.R7$(3),t.SpI("M\u1ee5c ti\xeau t\u1ed5ng g\xf3i VIP: ",a.fireworkTarget,""),t.R7$(3),t.Y8G("ngForOf",a.digitsRemainPackages),t.R7$(5),t.Y8G("ngForOf",a.digitsOneMonth),t.R7$(5),t.Y8G("ngForOf",a.digitsOneYear),t.R7$(),t.Y8G("ngIf",a.showFirework))},dependencies:[m.Sq,m.bT],styles:[".odometer[_ngcontent-%COMP%]{font-size:90px;font-weight:700;width:min-content;overflow:hidden}.digit[_ngcontent-%COMP%]{width:65px;height:100px;margin:0 2px;position:relative;overflow:hidden}.number[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;line-height:100px;text-align:center;transition:transform .1s ease-in-out;box-shadow:0 3px 20px #0000000b;border-radius:3px;background:#d3d3d3}.h-full[_ngcontent-%COMP%]{height:100vh!important}.absolute[_ngcontent-%COMP%]{width:100%;top:10%}.pyro[_ngcontent-%COMP%] > .before[_ngcontent-%COMP%], .pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{position:absolute;width:5px;height:5px;border-radius:50%;box-shadow:0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff;animation:1s _ngcontent-%COMP%_bang ease-out infinite backwards,1s _ngcontent-%COMP%_gravity ease-in infinite backwards,5s _ngcontent-%COMP%_position linear infinite backwards}.pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{animation-delay:1.25s,1.25s,1.25s;animation-duration:1.25s,1.25s,6.25s}@keyframes _ngcontent-%COMP%_bang{to{box-shadow:173px -221.6666666667px #00ff95,-102px -143.6666666667px #ff0900,-157px -335.6666666667px #00ff04,112px -17.6666666667px #ff0048,3px -34.6666666667px #0f3,-106px 79.3333333333px #9500ff,238px -38.6666666667px #80ff00,-65px 80.3333333333px #00ffd0,-13px -363.6666666667px #e500ff,-86px 35.3333333333px #ff00a2,82px -297.6666666667px #ff2600,87px -72.6666666667px #03f,-240px -188.6666666667px #ffa600,-126px -255.6666666667px #0059ff,-243px -194.6666666667px #00ff73,-70px 62.3333333333px #c3ff00,-67px -365.6666666667px #ff00e1,-90px -350.6666666667px #af0,-25px -208.6666666667px #fb0,240px -19.6666666667px #ff0051,129px -66.6666666667px #0080ff,55px 79.3333333333px #00d4ff,169px 41.3333333333px #00ff4d,108px -388.6666666667px #10f,-181px -110.6666666667px #ff00bf,209px -345.6666666667px #00ffea,128px -192.6666666667px #1e00ff,190px -32.6666666667px #ff6e00,-92px 7.3333333333px #ff0095,-21px -70.6666666667px #00aeff,-167px -43.6666666667px #0ff,-62px -283.6666666667px #c300ff,-146px 28.3333333333px #0fb,82px 14.3333333333px #ff003c,-14px -319.6666666667px #fa0,160px -34.6666666667px #00ff4d,-202px -263.6666666667px #ff8400,-140px -338.6666666667px #00ffe6,-87px -303.6666666667px #00a6ff,119px -29.6666666667px #001eff,-67px -19.6666666667px #00ff5e,-16px -154.6666666667px #ff0062,103px -277.6666666667px #10f,-246px -82.6666666667px #fb0,-175px -413.6666666667px #e1ff00,-39px -72.6666666667px #f07,-120px -373.6666666667px #0fa,-23px -238.6666666667px #b300ff,74px 21.3333333333px #4d00ff,-150px -374.6666666667px #7f0,74px -281.6666666667px #f0b}}@keyframes _ngcontent-%COMP%_gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@keyframes _ngcontent-%COMP%_position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}"]}),s})();var Oc=u(92401),q=u(66114),he=u(26651);const $c=n=>({"w-full":n});function Dc(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",20),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Gc(n,s){if(1&n&&(t.j41(0,"div",41)(1,"p",42),t.EFF(2," M\xe3 GD: "),t.j41(3,"span",43),t.EFF(4),t.k0s()(),t.j41(5,"p",42),t.EFF(6," S\u1ed1 ti\u1ec1n: "),t.j41(7,"span",43),t.EFF(8),t.nI1(9,"number"),t.k0s()(),t.j41(10,"p",42),t.EFF(11," Th\u1eddi gian: "),t.j41(12,"span",43),t.EFF(13),t.nI1(14,"formatFullDateTimeByUserUnitPipe"),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(4),t.JRh(i.vnPayTransactionNo),t.R7$(4),t.SpI("",t.bMT(9,3,i.vnPayAmount/100)," \u0111"),t.R7$(5),t.JRh(t.bMT(14,5,i.createdAt))}}function Nc(n,s){if(1&n&&(t.qex(0),t.DNE(1,Gc,15,7,"div",40),t.bVm()),2&n){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.vnPayTransactionInfoObjs)}}function Ac(n,s){if(1&n&&(t.j41(0,"div",41)(1,"span",44),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",43),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_ho_va_ten")+": "),t.R7$(3),t.JRh(i.vipName)}}function Pc(n,s){if(1&n&&(t.j41(0,"div",41)(1,"span",44),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",43),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_email")+": "),t.R7$(3),t.JRh(i.vipEmail)}}function zc(n,s){if(1&n&&(t.j41(0,"div",41)(1,"span",44),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",43),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_number_phone")+": "),t.R7$(3),t.JRh(i.vipPhone)}}function Lc(n,s){1&n&&t.nrm(0,"lucide-icon",45)}function Vc(n,s){1&n&&t.nrm(0,"azt-loading-ui")}function Bc(n,s){1&n&&t.nrm(0,"lucide-icon",46)}function Yc(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.DNE(2,Nc,2,1,"ng-container",32),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.DNE(6,Ac,6,4,"div",33)(7,Pc,6,4,"div",33)(8,zc,6,4,"div",33),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td")(14,"span",34),t.EFF(15),t.k0s()(),t.j41(16,"td")(17,"div",35)(18,"button",36),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.markAsSent(a))}),t.DNE(19,Lc,1,0,"lucide-icon",37)(20,Vc,1,0,"azt-loading-ui",32),t.j41(21,"span",17),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()(),t.j41(24,"button",38),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.editInvoice(a))}),t.DNE(25,Bc,1,0,"lucide-icon",39),t.j41(26,"span",17),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.Y8G("ngIf",i.vnPayTransactionInfoObjs.length),t.R7$(2),t.SpI(" ",i.organization," "),t.R7$(2),t.Y8G("ngIf",i.vipName),t.R7$(),t.Y8G("ngIf",i.vipEmail),t.R7$(),t.Y8G("ngIf",i.vipPhone),t.R7$(2),t.SpI(" ",i.address," "),t.R7$(2),t.SpI(" ",i.taxCode," "),t.R7$(3),t.JRh(i.receiptEmail),t.R7$(3),t.Y8G("disabled",i.isSentEmail||i.loadingSent),t.R7$(),t.Y8G("ngIf",!i.loadingSent),t.R7$(),t.Y8G("ngIf",i.loadingSent),t.R7$(2),t.JRh(t.bMT(23,15,"lang_azt_vip_invoice_management_mark_as_send")),t.R7$(2),t.Y8G("disabled",i.loadingSent),t.R7$(),t.Y8G("ngIf",!i.loadingSent),t.R7$(2),t.JRh(t.bMT(28,17,"lang_auto_sua"))}}function Uc(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",47),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG(2);return t.Njj(o.setPage(a))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("pageObj",i.pageObj)}}function Jc(n,s){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Lme("",i.total," ",t.bMT(2,2,"lang_auto_yeu_cau"),"")}}function qc(n,s){if(1&n&&(t.j41(0,"div",21)(1,"div",22)(2,"table",23)(3,"thead",24)(4,"tr")(5,"th",25),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",26),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",27),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",26),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",26),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",26),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"th",28),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()(),t.j41(26,"tbody"),t.DNE(27,Yc,29,19,"tr",29),t.k0s()()()(),t.j41(28,"div",30),t.nrm(29,"div"),t.DNE(30,Uc,1,1,"azt-paging",31)(31,Jc,3,4,"div",32),t.k0s()),2&n){let i;const e=t.XpG();t.R7$(6),t.SpI(" ",t.bMT(7,10,"Th\xf4ng tin VNPay")," "),t.R7$(3),t.SpI(" ",t.bMT(10,12,"lang_payment_business_infor_school_name")," "),t.R7$(3),t.SpI(" ",t.bMT(13,14,"lang_student_profile_header_title")," "),t.R7$(3),t.SpI(" ",t.bMT(16,16,"lang_test_market_address")," "),t.R7$(3),t.SpI(" ",t.bMT(19,18,"lang_vip_bill_print_tax_code")," "),t.R7$(3),t.SpI(" ",t.bMT(22,20,"lang_auto_email")," "),t.R7$(3),t.SpI(" ",t.bMT(25,22,"lang_auto_hanh_dong")," "),t.R7$(3),t.Y8G("ngForOf",e.vipInvoiceList),t.R7$(3),t.Y8G("ngIf",e.total>5),t.R7$(),t.Y8G("ngIf",(null!==(i=e.vipInvoiceList.length)&&void 0!==i?i:0)>0)}}let Xc=(()=>{var n;class s extends h.H{markAsSent(e){e.id&&(e.loadingSent=!0,this.waitDestroy(this.vipInvoiceService.apiVipInvoiceMarkEmailSentPut(e.id).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message?a.message:"lang_core_invalid_data",!0);this.successStatusObj("lang_cms_update_success",!0),e.loadingSent=!1,e.isSentEmail=1})))}editInvoice(e){this.sAztDialogService.open(Oc.V,{data:{askForInvoice:!1,onUpdate:!0,invoiceData:e,idTransactionVNPay:e.vnPayTransactionInfoObjs.length?Number(e.vnPayTransactionInfoObjs[0].vnPayTxnRef):void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(o=>{o&&(this.initStatusObj(),this.getVipInvoiceList())})}changeSortRegisterTime(){const e=["none","asc","desc"];this.sortVip=e[(e.indexOf(this.sortVip)+1)%3],this.getVipInvoiceList()}search(e){this.isLoadingSearch=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.getVipInvoiceList()}setPage(e){this.myNavigation("/super-role/vip-invoice-management/"+e)}exportExcel(){var e,a=0;e=q.utils.json_to_sheet([{A:""}],{skipHeader:!0}),a++,e=q.utils.sheet_add_json(e,[{A:"Th\xf4ng tin VNPay",B:"H\u1ecd v\xe0 T\xean / T\xean tr\u01b0\u1eddng (T\u1ed5 ch\u1ee9c)",C:"Th\xf4ng tin t\xe0i kho\u1ea3n",D:"\u0110\u1ecba ch\u1ec9",E:"M\xe3 s\u1ed1 thu\u1ebf",F:"Email",G:"Tr\u1ea1ng th\xe1i"}],{skipHeader:!0,origin:-1}),this.vipInvoiceList.forEach((D,B)=>{q.utils.sheet_add_json(e,[{A:this.convertVNPayTransactionInfo(D.vnPayTransactionInfoObjs),B:D.organization??"",C:`H\u1ecd t\xean: ${D.vipName} `+(D.vipEmail?`\n Email: ${D.vipEmail}`:"")+(D.vipPhone?`\n S\u0110T: ${D.vipPhone}`:""),D:D.address??"",E:D.taxCode??"",F:D.receiptEmail??"",G:D.isSentEmail?"\u0110\xe3 g\u1eedi":""}],{skipHeader:!0,origin:-1}),a++}),e["!cols"]=[{wch:55},{wch:25},{wch:55},{wch:20},{wch:20},{wch:20},{wch:20}],e[q.utils.encode_cell({c:0,r:1})].s=this.style_header,e[q.utils.encode_cell({c:1,r:1})].s=this.style_header,e[q.utils.encode_cell({c:2,r:1})].s=this.style_header,e[q.utils.encode_cell({c:3,r:1})].s=this.style_header,e[q.utils.encode_cell({c:4,r:1})].s=this.style_header,e[q.utils.encode_cell({c:5,r:1})].s=this.style_header,e[q.utils.encode_cell({c:6,r:1})].s=this.style_header;let d_s_c=0,d_e_c=6,d_e_r=a;for(let D=2;D<=d_e_r;++D)for(let B=d_s_c;B<=d_e_c;++B)e[q.utils.encode_cell({c:B,r:D})]&&(e[q.utils.encode_cell({c:B,r:D})].s=this.style_body);let _=this.commonService.myTranslateInstant("Y\xeau c\u1ea7u l\u1ea5y h\xf3a \u0111\u01a1n VIP");q.utils.book_append_sheet(this.wb,e,_&&_?.length>31?_?.substring(0,27)+"...":_);let M=this.commonService.createFileNameExportFile(["azota-invoice-vip"])+".xlsx";const E=q.write(this.wb,{bookType:"xlsx",bookSST:!0,type:"array"}),P=new Blob([E],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});this.shareFileFlutterService.shareFileWithBlob(P,M)}convertVNPayTransactionInfo(e){let a="";return e.forEach(o=>{a+=`M\xe3 GD: ${o.vnPayTransactionNo} - ${this._decimalPipe.transform(o.vnPayAmount/100)} \u0111 - ${this.sAztTimeService.formatFullDateTimeByUserUnit(o.createdAt)}\n`}),a}getVipInvoiceList(){this.waitDestroy(this.vipInvoiceService.apiVipInvoiceListInvoicesPost({organization:1==this.typeSearch.value?this.searchContentObj.searchContent:void 0,vipName:2==this.typeSearch.value?this.searchContentObj.searchContent:void 0,email:3==this.typeSearch.value?this.searchContentObj.searchContent:void 0,page:this.pageObj.page,size:this.pageObj.pageSize}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message?a.message:"lang_core_invalid_data",!0);this.vipInvoiceList=(a.data?.objs??[]).map(o=>({...o,loadingSent:!1})),this.pageObj.setTotalPages(a.data?.total??0),this.total=a.data?.total??0,this.searchContentObj.setLoading(!1),this.successStatusObj()}))}constructor(e,a,o,l,d,_,M){super(),this.shareFileFlutterService=e,this.vipInvoiceService=a,this.activeRoute=o,this._decimalPipe=l,this.commonListService=d,this.sAztDialogService=_,this.sAztTimeService=M,this.isLoadingSearch=!1,this.total=0,this.pageObj=new Q.d(50),this.searchContentObj=new xt.Z,this.vipInvoiceList=[],this.typeSearch=new r.MJ(0,{nonNullable:!0}),this.sortVip="",this.style_first={border:{top:{style:"thin",color:{rgb:"ff3c8dbc"}},bottom:{style:"thin",color:{rgb:"ff3c8dbc"}},left:{style:"thin",color:{rgb:"ffffffff"}},right:{style:"thin",color:{rgb:"ffffffff"}},diagonal:{style:"thin",color:{rgb:"ffffffff"}},diagonalDown:!0},alignment:{vertical:"center",horizontal:"left",wrapText:!0},font:{sz:11,bold:!0,color:{rgb:"ffffffff"}},fill:{patternType:"solid",fgColor:{rgb:"ff3c8dbc"}}},this.style_header={border:{top:{style:"thin",color:{rgb:"ff3c8dbc"}},bottom:{style:"thin",color:{rgb:"ff3c8dbc"}},left:{style:"thin",color:{rgb:"ffffffff"}},right:{style:"thin",color:{rgb:"ffffffff"}}},alignment:{vertical:"center",horizontal:"center",wrapText:!0},font:{sz:11,bold:!0,color:{rgb:"ffffffff"}},fill:{patternType:"solid",fgColor:{rgb:"2361ae"}}},this.style_body={border:{top:{style:"thin",color:{rgb:"ff757575"}},bottom:{style:"thin",color:{rgb:"ff757575"}},left:{style:"thin",color:{rgb:"ff757575"}},right:{style:"thin",color:{rgb:"ff757575"}}},alignment:{vertical:"center",horizontal:"center",wrapText:!0}},this.wb=q.utils.book_new()}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{const e=Number(this.commonService.getMyParam(this.activeRoute,"page")??1);this.pageObj.setPageNumber(e),this.getVipInvoiceList()}))}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(ne.R),t.rXU(he.Gl),t.rXU(y.nX),t.rXU(m.QX),t.rXU(X.Nz),t.rXU(U.i),t.rXU(ft.F))},n.\u0275cmp=t.VBU({type:n,selectors:[["vip-invoice-management"]],features:[t.Vt3],decls:35,vars:35,consts:[["doneLoading",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col","sm:flex-row","items-center"],[1,"text-xl","font-medium","mr-auto"],[1,"flex","items-center","w-full","sm:w-auto","mt-3","sm:mt-0","flex-wrap"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"ml-2","box","w-56","sm:w-auto","overflow-hidden"],["appearance","outline"],[3,"formControl","value","placeholder"],["value","0",1,"text-slate-400"],["value","1"],["value","2"],["value","3"],[1,"w-full","flex","justify-end"],[1,"mt-5","btn","btn-success","text-white",3,"click","ngClass"],["name","download","size","18"],[1,"ml-2"],[1,"mt-2"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","1200px"],[1,"box"],[1,"whitespace-nowrap",2,"width","220px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap",2,"width","280px"],[1,"whitespace-nowrap","text-center",2,"width","220px"],[4,"ngFor","ngForOf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[4,"ngIf"],["class","mb-1",4,"ngIf"],[2,"word-break","break-word"],[1,"flex","items-center","flex-wrap"],[1,"btn","btn-primary-soft",3,"click","disabled"],["name","send","size","18",4,"ngIf"],[1,"btn","btn-success-soft","mt-2",3,"click","disabled"],["name","square-pen","size","18",4,"ngIf"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],[1,"mb-0","whitespace-nowrap"],[1,"font-medium"],[1,"mr-1","whitespace-nowrap"],["name","send","size","18"],["name","square-pen","size","18"],[3,"goToPaginationPage","pageObj"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",1)(1,"div",2)(2,"div",3)(3,"h3",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",5)(7,"azt-search-box",6),t.nI1(8,"mytranslate"),t.bIt("onSearch",function(d){return t.eBV(o),t.Njj(a.search(d.searchObj))}),t.k0s(),t.j41(9,"div",7)(10,"mat-form-field",8)(11,"mat-select",9),t.nI1(12,"mytranslate"),t.j41(13,"mat-option",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"mat-option",11),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"mat-option",12),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"mat-option",13),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()()()(),t.j41(25,"div",14)(26,"button",15),t.bIt("click",function(){return t.eBV(o),t.Njj(a.exportExcel())}),t.nrm(27,"lucide-icon",16),t.j41(28,"span",17),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()(),t.j41(31,"div",18),t.DNE(32,Dc,1,1,"azt-loading-effect",19)(33,qc,32,24,"ng-template",null,0,t.C5r),t.k0s()()}if(2&e){const o=t.sdS(34);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(4),t.SpI(" ",t.bMT(5,17,"lang_azt_vip_invoice_management")," "),t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(8,19,"lang_auto_tim_kiem")+"...")("searchContentObj",a.searchContentObj),t.R7$(4),t.Mz_("placeholder","---",t.bMT(12,21,"lang_azt_type_search"),"---"),t.Y8G("formControl",a.typeSearch)("value",a.typeSearch.value),t.R7$(3),t.SpI("---",t.bMT(15,23,"lang_azt_type_search"),"---"),t.R7$(3),t.JRh(t.bMT(18,25,"lang_payment_business_infor_school_name")),t.R7$(3),t.JRh(t.bMT(21,27,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(24,29,"lang_auto_email")),t.R7$(3),t.Y8G("ngClass",t.eq3(33,$c,a.isMobileDevice)),t.R7$(3),t.JRh(t.bMT(30,31,"Export Excel")),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,r.BC,at.wT,et.rl,lt.VO,r.l_,A.K,H.q,L.R,Ct.W,O.Q,j.WGl,m.QX,g.wp,g.Rr],encapsulation:2}),s})();const Qc=()=>[];function Hc(n,s){if(1&n&&(t.j41(0,"div",12),t.nrm(1,"azt-student-info-box",13),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.Y8G("name",i.teacherVip.fullName)("phone",i.teacherVip.phone)("email",i.teacherVip.email)}}function Wc(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"input",14),t.nI1(2,"mytranslate"),t.nrm(3,"input",15),t.nI1(4,"mytranslate"),t.nrm(5,"input",15),t.nI1(6,"mytranslate"),t.nrm(7,"input",15),t.nI1(8,"mytranslate"),t.k0s()),2&n){const i=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(2,8,"lang_auto_nhap_so_dien_thoai")),t.Y8G("formControl",i.numberPhone),t.R7$(2),t.FS9("placeholder",t.bMT(4,10,"lang_auto_nhap_email")),t.Y8G("formControl",i.email),t.R7$(2),t.FS9("placeholder",t.bMT(6,12,"lang_auto_nhap_ten_dang_ky")),t.Y8G("formControl",i.username),t.R7$(2),t.FS9("placeholder",t.bMT(8,14,"lang_auto_nhap_id_nguoi_dung")),t.Y8G("formControl",i.userId)}}function Kc(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",16),t.bIt("click",function(){const a=t.eBV(i).index,o=t.XpG();return t.Njj(o.changMonthSelect(a+1))}),t.EFF(1),t.k0s()}if(2&n){const i=s.index,e=t.XpG();t.Y8G("ngClass",e.monthSelect==i+1?"btn-primary":"btn-secondary"),t.R7$(),t.JRh(i+1)}}let Zc=(()=>{var n;class s extends v._{isDisable(){return this.teacherVip?!this.monthSelect:!(this.numberPhone.value||this.email.value||this.username.value||this.userId.value)||!this.monthSelect}changMonthSelect(e){this.monthSelect=e}saveMonth(){this.initStatusObj(),this.waitDestroy(this.adminVipManagementService.apiAdminVipManagementGiveawayPost({userId:this.userId.value,email:this.email.value,phone:this.numberPhone.value,userName:this.username.value,totalMonth:this.monthSelect}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.dialogRef.close(!0),this.showSuccessSnack("lang_core_them_thang_thanh_cong")}))}ngOnInit(){super.ngOnInit()}constructor(e,a,o){super(o,a),this.adminVipManagementService=e,this.dialogRef=a,this.monthSelect=0,this.numberPhone=new r.MJ("",{nonNullable:!0}),this.email=new r.MJ("",{nonNullable:!0}),this.username=new r.MJ("",{nonNullable:!0}),this.userId=new r.MJ(void 0,{nonNullable:!0}),this.teacherVip=o,this.userId.setValue(o?.userId)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(F.PU),t.rXU(c.CP,8),t.rXU(c.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["add-month-vip-dialog"]],features:[t.Vt3],decls:20,vars:17,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","relative","p-3"],[1,"intro-y","overflow-auto","relative",2,"max-height","calc(100vh - 100px)"],[1,"font-medium","text-lg","mb-2"],["style","padding: 5px; border: 1px solid #d9d9d9; border-radius: 5px",4,"ngIf"],[4,"ngIf"],[1,"font-medium","mt-3"],[1,"mt-2","grid","gap-2","grid-cols-12"],["class","btn col-span-3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-3","text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],[2,"padding","5px","border","1px solid #d9d9d9","border-radius","5px"],[3,"name","phone","email"],["type","text",1,"form-control",3,"formControl","placeholder"],["type","text",1,"form-control","mt-2",3,"formControl","placeholder"],[1,"btn","col-span-3",3,"click","ngClass"]],template:function(e,a){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.DNE(6,Hc,2,3,"div",4)(7,Wc,9,16,"div",5),t.j41(8,"p",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",7),t.DNE(12,Kc,2,2,"div",8),t.k0s()(),t.j41(13,"div",9)(14,"button",10),t.bIt("click",function(){return a.dialogRef.close()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"button",11),t.bIt("click",function(){return a.saveMonth()}),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(4),t.SpI(" ",t.bMT(5,8,"lang_core_them_thang_cho_tk_vip")," "),t.R7$(2),t.Y8G("ngIf",a.teacherVip),t.R7$(),t.Y8G("ngIf",!a.teacherVip),t.R7$(2),t.JRh(t.bMT(10,10,"lang_core_chon_so_thang")),t.R7$(3),t.Y8G("ngForOf",t.lJ4(16,Qc).constructor(12)),t.R7$(3),t.SpI(" ",t.bMT(16,12,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",a.isDisable()||a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,14,"lang_button_confirm")," "))},dependencies:[m.YU,m.Sq,m.bT,r.me,r.BC,r.l_,Vt.B,g.wp],encapsulation:2}),s})();const td=n=>({"w-full":n});function ed(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",13),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function nd(n,s){if(1&n&&(t.j41(0,"div",31)(1,"span",32),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",33),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_azt_vip_teacher_current_pack_type")+": "),t.R7$(3),t.JRh(i.packageType)}}function ad(n,s){if(1&n&&(t.j41(0,"div",31)(1,"span",32),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",33),t.EFF(5),t.nI1(6,"formatFullDateTimeByUserUnitPipe"),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_testbank_tested_list_time_start")+": "),t.R7$(3),t.JRh(t.bMT(6,4,i.startTime))}}function id(n,s){if(1&n&&(t.j41(0,"div",31)(1,"span",32),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",33),t.EFF(5),t.nI1(6,"formatFullDateTimeByUserUnitPipe"),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_testbank_tested_list_time_end")+": "),t.R7$(3),t.JRh(t.bMT(6,4,i.endTime))}}function od(n,s){if(1&n&&(t.j41(0,"div",31)(1,"span",32),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",33),t.EFF(5),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,3,"lang_azt_vip_teacher_current_pack_total_month")+": "),t.R7$(3),t.Lme("",i.totalMonth," ","("+i.timeUnit+")","")}}function sd(n,s){if(1&n&&(t.j41(0,"div",31)(1,"span",32),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",33),t.EFF(5),t.nI1(6,"number"),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,3,"lang_auto_gia")+": "),t.R7$(3),t.Lme("",t.bMT(6,5,i.price)," ","("+i.moneyUnit+")","")}}function rd(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",34),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.cancelVip(a))}),t.nrm(1,"lucide-icon",35),t.j41(2,"span",10),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"H\u1ee7y g\xf3i VIP")))}function ld(n,s){if(1&n){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"azt-student-info-box",25),t.k0s(),t.j41(3,"td"),t.DNE(4,nd,6,4,"div",26)(5,ad,7,6,"div",26)(6,id,7,6,"div",26)(7,od,6,5,"div",26)(8,sd,7,7,"div",26),t.k0s(),t.j41(9,"td")(10,"div")(11,"button",27),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.openAddMonthVipDialog(a))}),t.nrm(12,"lucide-icon",9),t.j41(13,"span",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"button",28),t.bIt("click",function(){const a=t.eBV(i).$implicit,o=t.XpG(2);return t.Njj(o.loginToAccount(a))}),t.nrm(17,"lucide-icon",29),t.j41(18,"span",10),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.DNE(21,rd,5,3,"button",30),t.k0s()()()}if(2&n){const i=s.$implicit;t.R7$(2),t.Y8G("name",i.fullName)("phone",i.phone)("email",i.email),t.R7$(2),t.Y8G("ngIf",i.packageType),t.R7$(),t.Y8G("ngIf",i.startTime),t.R7$(),t.Y8G("ngIf",i.endTime),t.R7$(),t.Y8G("ngIf",i.totalMonth),t.R7$(),t.Y8G("ngIf",i.price),t.R7$(6),t.JRh(t.bMT(15,11,"T\u1eb7ng Vip cho gi\xe1o vi\xean")),t.R7$(5),t.JRh(t.bMT(20,13,"lang_cms_auth_login_title")),t.R7$(2),t.Y8G("ngIf","VIP_FOR_TEACHER"==i.packageType)}}function cd(n,s){if(1&n){const i=t.RV6();t.j41(0,"azt-paging",36),t.bIt("goToPaginationPage",function(a){t.eBV(i);const o=t.XpG(2);return t.Njj(o.setPage(a))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("pageObj",i.pageObj)}}function dd(n,s){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.Lme("",i.total," ",t.bMT(2,2,"lang_auto_tai_khoan"),"")}}function md(n,s){if(1&n&&(t.j41(0,"div",14)(1,"div",15)(2,"table",16)(3,"thead",17)(4,"tr")(5,"th",18),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",19),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",20),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,ld,22,15,"tr",21),t.k0s()()()(),t.j41(16,"div",22),t.nrm(17,"div"),t.DNE(18,cd,1,1,"azt-paging",23)(19,dd,3,4,"div",24),t.k0s()),2&n){let i;const e=t.XpG();t.R7$(6),t.SpI(" ",t.bMT(7,6,"lang_student_profile_header_title")," "),t.R7$(3),t.SpI(" ",t.bMT(10,8,"lang_azt_vip_teacher_current_pack")," "),t.R7$(3),t.SpI(" ",t.bMT(13,10,"lang_auto_hanh_dong")," "),t.R7$(3),t.Y8G("ngForOf",e.vipTeacherList),t.R7$(3),t.Y8G("ngIf",e.total>5),t.R7$(),t.Y8G("ngIf",(null!==(i=e.vipTeacherList.length)&&void 0!==i?i:0)>0)}}function pd(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function _d(n,s){if(1&n&&(t.j41(0,"div",37),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",i.refundUserObj.phone," ")}}function hd(n,s){if(1&n&&(t.j41(0,"div",37),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",i.refundUserObj.email," ")}}function gd(n,s){if(1&n&&(t.j41(0,"div",30)(1,"div",31),t.nrm(2,"azt-create-avatar",32),t.k0s(),t.j41(3,"div",33)(4,"div",34)(5,"span",35),t.EFF(6),t.k0s()(),t.DNE(7,_d,2,1,"div",36)(8,hd,2,1,"div",36),t.k0s()()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.Y8G("customTooltip","id: "+i.refundUserObj.id)("nameCreateAvatar",i.refundUserObj.fullName)("size",40),t.R7$(3),t.FS9("matTooltip",i.refundUserObj.fullName),t.R7$(),t.JRh(i.refundUserObj.fullName),t.R7$(),t.Y8G("ngIf",i.refundUserObj.phone),t.R7$(),t.Y8G("ngIf",i.refundUserObj.email)}}function fd(n,s){if(1&n&&(t.qex(0),t.j41(1,"p",38),t.EFF(2),t.k0s(),t.bVm()),2&n){const i=s.$implicit;t.R7$(2),t.LHq("ID: ",i.id," - Points: ",i.point," - ",i.typeId," - ",i.typeName,"")}}function bd(n,s){1&n&&(t.j41(0,"span",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_new")," "))}function vd(n,s){1&n&&(t.j41(0,"span",40),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_approved")," "))}function kd(n,s){1&n&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_status_rejected")))}function Id(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.confirmRequest(a,"approved"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chap_nhan")," "))}function jd(n,s){if(1&n){const i=t.RV6();t.j41(0,"a",43),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.confirmRequest(a,"rejected"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_tu_choi")," "))}function Rd(n,s){if(1&n&&(t.j41(0,"tr",17)(1,"td",18),t.DNE(2,gd,9,7,"div",19),t.k0s(),t.j41(3,"td",20),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td",21),t.EFF(7),t.k0s(),t.j41(8,"td",21),t.DNE(9,fd,3,4,"ng-container",22),t.k0s(),t.j41(10,"td",21),t.DNE(11,bd,3,3,"span",23)(12,vd,3,3,"span",24)(13,kd,3,3,"span",25),t.k0s(),t.j41(14,"td",26)(15,"div",27),t.DNE(16,Id,3,3,"a",28)(17,jd,3,3,"a",29),t.k0s()()()),2&n){const i=s.$implicit;t.R7$(2),t.Y8G("ngIf",i.refundUserObj),t.R7$(2),t.SpI(" ",t.bMT(5,9,i.createdAt)," "),t.R7$(3),t.SpI(" ",i.description," "),t.R7$(2),t.Y8G("ngForOf",i.pointTenantTransactionObjs),t.R7$(2),t.Y8G("ngIf","requested"==i.status),t.R7$(),t.Y8G("ngIf","approved"==i.status),t.R7$(),t.Y8G("ngIf","rejected"==i.status),t.R7$(3),t.Y8G("ngIf","approved"!=i.status),t.R7$(),t.Y8G("ngIf","rejected"!=i.status)}}function Sd(n,s){if(1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()(),t.j41(6,"div",8)(7,"div",9)(8,"table",10)(9,"thead")(10,"tr",11)(11,"th",12),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",13),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",14),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"th",13),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.j41(29,"tbody"),t.DNE(30,Rd,18,11,"tr",16),t.k0s()()()()()),2&n){const i=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,8,"lang_refund_point_management_title")," "),t.R7$(8),t.SpI(" ",t.bMT(13,10,"lang_auto_nguoi_tao")," "),t.R7$(3),t.SpI(" ",t.bMT(16,12,"lang_test_market_withdraw_time")," "),t.R7$(3),t.SpI(" ",t.bMT(19,14,"lang_auto_noi_dung")," "),t.R7$(3),t.SpI(" ",t.bMT(22,16,"lang_refund_point_history_list")," "),t.R7$(3),t.SpI(" ",t.bMT(25,18,"lang_auto_trang_thai")," "),t.R7$(3),t.SpI(" ",t.bMT(28,20,"lang_auto_phe_duyet")," "),t.R7$(3),t.Y8G("ngForOf",i.listData)}}const yd=[{path:"",component:x.z,children:[{path:"sms-track",component:Ql},{path:"admin-tool",component:ln},{path:"update-config",component:yc},{path:"support",component:nc},{path:"report_error",component:ns},{path:"report_exception",component:Os},{path:"add_school",component:rn},{path:"gzip-tool",component:ms},{path:"json-tool",component:Ao},{path:"exception_log",component:Jo},{path:"add_new_feature_notice",component:$e},{path:"approve-share-question/:page",component:ea},{path:"approve-withdraw-request/:page",component:Na},{path:"short-link-management/:page",component:_l},{path:"share-bank-helper",component:il},{path:"review-question/:page",component:zl},{path:"search-question",component:Wr},{path:"import-family-question",component:Ts},{path:"convert-mysql-xid",component:Go},{path:"export-register-for-business",component:rs},{path:"add-new-business",component:Qa},{path:"common-domain-management/:page",component:ui},{path:"common-resource-management/:page",component:ji},{path:"domain-mapping-management/:page",component:Ei},{path:"domain-resource-management/:domainId",component:zi},{path:"user-domain-management/:domainId",component:Fo},{path:"common-guide",component:Do},{path:"manage-business-registration/:page",component:ho},{path:"vip-teacher-management/:page",component:(()=>{var n;class s extends h.H{openAddMonthVipDialog(e){this.sAztDialogService.open(Zc,{data:e,width:"400px",restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getVipList()})}loginToAccount(e){this.waitDestroy(this.vipPackageService.apiVipPackageGetVipTokenGet(e.id).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.redirectService.redirectLoginWithToken(void 0,a.data?.rememberToken??"","/admin/dashboard")}))}cancelVip(e){this.sAztDialogService.open(bt.u,{data:{content:'B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n h\u1ee7y g\xf3i VIP c\u1ee7a gi\xe1o vi\xean: <div class="text-md font-medium inline"> '+e.fullName+" </div>"},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(o=>{o&&this.waitDestroy(this.adminVipManagementService.apiAdminVipManagementCancelVipGet(e.userId).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.getVipList()}))})}changeSortRegisterTime(){this.initStatusObj();const e=["none","asc","desc"];this.sortVip=e[(e.indexOf(this.sortVip)+1)%3],this.getVipList()}search(e){this.initStatusObj(),this.isLoadingSearch=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.getVipList()}setPage(e){this.myNavigation("/super-role/vip-teacher-management/"+e)}getVipList(){this.waitDestroy(this.vipPackageService.apiVipPackageListMembersPost({textSearch:this.searchContentObj.searchContent,page:this.pageObj.page,size:this.pageObj.pageSize}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.vipTeacherList=a.data?.objs??[],this.pageObj.setTotalPages(a.data?.total??0),this.total=a.data?.total??0,this.searchContentObj.setLoading(!1),this.successStatusObj()}))}constructor(e,a,o,l,d){super(),this.vipPackageService=e,this.activeRoute=a,this.commonListService=o,this.sAztDialogService=l,this.redirectService=d,this.adminVipManagementService=(0,t.WQX)(F.PU),this.isLoadingSearch=!1,this.total=0,this.pageObj=new Q.d(50),this.searchContentObj=new xt.Z,this.vipTeacherList=[],this.sortVip=""}ngOnInit(){this.initStatusObj(),super.ngOnInit(),this.waitDestroy((0,W.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{const e=Number(this.commonService.getMyParam(this.activeRoute,"page")??1);this.pageObj.setPageNumber(e),this.getVipList()}))}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(he.vg),t.rXU(y.nX),t.rXU(X.Nz),t.rXU(U.i),t.rXU(Lt.m))},n.\u0275cmp=t.VBU({type:n,selectors:[["vip-teacher-management"]],features:[t.Vt3],decls:19,vars:17,consts:[["doneLoading",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col","sm:flex-row","items-center"],[1,"text-xl","font-medium","mr-auto"],[1,"flex","items-center","w-full","sm:w-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"w-full","flex","justify-end"],[1,"mt-5","btn","btn-success","text-white",3,"click","ngClass"],["name","gift","size","18"],[1,"ml-2"],[1,"mt-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","mt-2","table-sticky","overflow-auto",2,"min-width","1200px"],[1,"box"],[1,"whitespace-nowrap",2,"width","280px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","180px"],[4,"ngFor","ngForOf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[4,"ngIf"],[3,"name","phone","email"],["class","mb-2",4,"ngIf"],[1,"btn","btn-success","w-full","text-white",3,"click"],[1,"btn","btn-primary-soft","mt-2","w-full",3,"click"],["name","log-in","size","18"],["class","btn btn-danger-soft mt-8 w-full",3,"click",4,"ngIf"],[1,"mb-2"],[1,"mr-1","whitespace-nowrap"],[1,"font-medium"],[1,"btn","btn-danger-soft","mt-8","w-full",3,"click"],["name","circle-x","size","18"],[3,"goToPaginationPage","pageObj"]],template:function(e,a){if(1&e){const o=t.RV6();t.j41(0,"teacher-layout",1)(1,"div",2)(2,"div",3)(3,"h3",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",5)(7,"azt-search-box",6),t.nI1(8,"mytranslate"),t.bIt("onSearch",function(d){return t.eBV(o),t.Njj(a.search(d.searchObj))}),t.k0s()()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){return t.eBV(o),t.Njj(a.openAddMonthVipDialog())}),t.nrm(11,"lucide-icon",9),t.j41(12,"span",10),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()(),t.j41(15,"div",11),t.DNE(16,ed,1,1,"azt-loading-effect",12)(17,md,20,12,"ng-template",null,0,t.C5r),t.k0s()()}if(2&e){const o=t.sdS(18);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(4),t.SpI(" ",t.bMT(5,9,"lang_azt_vip_teacher_management")," "),t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(8,11,"lang_auto_tim_kiem")+"...")("searchContentObj",a.searchContentObj),t.R7$(3),t.Y8G("ngClass",t.eq3(15,td,a.isMobileDevice)),t.R7$(3),t.JRh(t.bMT(14,13,"T\u1eb7ng Vip cho gi\xe1o vi\xean")),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.YU,m.Sq,m.bT,A.K,H.q,Ct.W,Vt.B,O.Q,j.WGl,m.QX,g.wp,g.Rr],encapsulation:2}),s})()},{path:"vip-invoice-management/:page",component:Xc},{path:"transaction-product-management",component:Sc},{path:"vip-fireworks",component:Mc},{path:"bigquery-report",component:za},{path:"product-management",component:jr},{path:"product-payment-history",component:$r},{path:"product-vendor-management",component:Lr},{path:"template-list",component:vc},{path:"create-or-update-template/:templateId",component:pe},{path:"refund-point-management",component:(()=>{var n;class s extends h.H{constructor(){super(),this.refundPointManagementService=(0,t.WQX)(F.Bj),this.listData=[]}ngOnInit(){this.getData()}confirmRequest(e,a){this.initStatusObj();let o="approved"==a?this.refundPointManagementService.apiPointRefundManagementApproveRequestRefundPointPost({id:e.id}):this.refundPointManagementService.apiPointRefundManagementRejectRequestRefundPointPost({id:e.id});this.waitDestroy(o.subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message??"",!0);this.successStatusObj("lang_cms_update_success",!0),this.getData()}))}getData(){this.initStatusObj(),this.waitDestroy(this.refundPointManagementService.apiPointRefundManagementGetObjsGet().subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message??"",!0);this.listData=e.data?.objs??[],this.successStatusObj()}))}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["refund-point-management"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-10","gap-2","mt-10"],[1,"col-span-5",2,"align-self","center"],[1,"text-lg","font-medium"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","col-span-12","overflow-auto"],[1,"table","table-report","-mt-2","table-sticky","overflow-auto"],[1,"uppercase"],[1,"whitespace-nowrap","text-center",2,"width","250px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap",2,"width","240px"],[1,"whitespace-nowrap","text-center",2,"width","240px"],["class","intro-x",4,"ngFor","ngForOf"],[1,"intro-x"],[2,"word-break","break-word"],["class","flex",4,"ngIf"],[1,"w-90"],[2,"padding-left","15px"],[4,"ngFor","ngForOf"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"table-report__action"],[1,"flex","justify-center","items-center"],["class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[1,"flex"],[1,"flex-none","image-fit","ml-1",2,"align-content","center"],[3,"customTooltip","nameCreateAvatar","size"],[1,"ml-2",2,"width","100%"],[1,"flex","items-center","font-medium"],[1,"truncate",2,"max-width","90%",3,"matTooltip"],["class","w-full truncate text-xs text-slate-500 mt-0.5",4,"ngIf"],[1,"w-full","truncate","text-xs","text-slate-500","mt-0.5"],[1,"mb-0"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],[1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,a){if(1&e&&(t.j41(0,"teacher-layout",1),t.DNE(1,pd,1,1,"azt-loading-effect",2)(2,Sd,31,22,"ng-template",null,0,t.C5r),t.k0s()),2&e){const o=t.sdS(3);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",o)}},dependencies:[m.Sq,m.bT,kt.oV,A.K,Et.p,O.Q,g.wp,g.bH],encapsulation:2}),s})()}]}];let Fd=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[y.iI.forChild(yd),y.iI,I.XE]}),s})(),wd=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({providers:[m.QX,{provide:f.vn,useValue:G.c.azt_tiny_mce_script_src}],imports:[y.iI,m.MD,r.YN,f.sv,k.s,r.X1,Fd,S.Q,z.L,N.Id,T.b,j.flO.pick(j.Ptg),R.AC,$.An,pe,p.V.forRoot()]}),s})()}}]);