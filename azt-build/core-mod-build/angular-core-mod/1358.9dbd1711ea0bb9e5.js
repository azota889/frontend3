"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[1358],{43166:(f,d,l)=>{l.d(d,{x:()=>u});var a=l(10936),s=l(48891),c=l(53793);let u=(()=>{var p;class e{filter(n,t){return null==n?[]:n=n.filter(r=>this.removeAllSpecialChars((null!=t?r[t]:r).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(n){let t=[];return n.forEach(r=>null!=r.schoolLevel&&t.push(r.schoolLevel)),t}removeAllSpecialChars(n){return n=(n=this.commonService.myTranslateInstant(n)??n).toLowerCase().trim(),n=this.commonService.convertVietnameseToEnglish(n),n=this.commonService.removeSpecialStringInSearch(n),(n=this.commonService.removeNonAlphabetic(n)).toLowerCase().trim()}constructor(n){this.commonService=n,this.searchControl=new a.MJ("",{nonNullable:!0})}}return(p=e).\u0275fac=function(n){return new(n||p)(s.rXU(c.R))},p.\u0275dir=s.FsC({type:p,selectors:[["","searchInList",""]],exportAs:["searchInList"]}),e})()},7919:(f,d,l)=>{l.d(d,{Z:()=>s});var a=l(48891);let s=(()=>{var c;class u{constructor(e){this.el=e,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator=".",this.decimalSeparator1=".",this.decimalSeparator2=",",this.allowNegatives=!1,this.allowPaste=!0,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=e.nativeElement}ngOnChanges(e){if(e.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),e.min){const i=Number(this.min);this.min=isNaN(i)?-1/0:i}if(e.max){const i=Number(this.max);this.max=isNaN(i)?1/0:i}}onBeforeInput(e){if(isNaN(Number(e.data))){if(e.data===this.decimalSeparator1||e.data===this.decimalSeparator2||e.data===this.negativeSign&&this.allowNegatives)return;e.preventDefault(),e.stopPropagation()}}onKeyDown(e){if(this.navigationKeys.indexOf(e.key)>-1||("a"===e.key||"KeyA"===e.code)&&!0===e.ctrlKey||("c"===e.key||"KeyC"===e.code)&&!0===e.ctrlKey||("v"===e.key||"KeyV"===e.code)&&!0===e.ctrlKey||("x"===e.key||"KeyX"===e.code)&&!0===e.ctrlKey||("a"===e.key||"KeyA"===e.code)&&!0===e.metaKey||("c"===e.key||"KeyC"===e.code)&&!0===e.metaKey||("v"===e.key||"KeyV"===e.code)&&!0===e.metaKey||("x"===e.key||"KeyX"===e.code)&&!0===e.metaKey)return;let i="";var n=e.key;if(e.key===this.decimalSeparator2&&(n=this.decimalSeparator1),this.decimal&&n===this.decimalSeparator1)return i=this.forecastValue(n),i.split(this.decimalSeparator1).length>2||(this.hasDecimalPoint=i.indexOf(this.decimalSeparator1)>-1,this.setNewValue(n)),void e.preventDefault();if(n===this.negativeSign&&this.allowNegatives)return i=this.forecastValue(n),i.charAt(0)!==this.negativeSign||i.split(this.negativeSign).length>2?void e.preventDefault():void(this.hasNegativeSign=i.split(this.negativeSign).length>-1);if(" "===n||isNaN(Number(n)))return void e.preventDefault();if(i=i||this.forecastValue(n),this.regex&&!this.regex.test(i))return void e.preventDefault();const t=Number(i);(t>this.max||t<this.min)&&e.preventDefault()}onPaste(e){if(!0===this.allowPaste){let i="";window.clipboardData?i=window.clipboardData.getData("text"):e.clipboardData&&e.clipboardData.getData&&(i=e.clipboardData.getData("text/plain")),this.pasteData(i),e.preventDefault()}else e.preventDefault(),e.stopPropagation()}onDrop(e){const i=e.dataTransfer?.getData("text")??"";this.inputElement.focus(),this.pasteData(i),e.preventDefault()}pasteData(e){e=this.replaceDecimalSeparator(e);const i=this.sanitizeInput(e);if(!i.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,i))if(this.inputElement.setRangeText){const{selectionStart:t,selectionEnd:r}=this.inputElement;this.inputElement.setRangeText(i,t??0,r??0,"end"),typeof window.InstallTrigger<"u"&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,i);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}setNewValue(e){e=this.replaceDecimalSeparator(e),this.insertAtCursor(this.inputElement,e),this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}insertAtCursor(e,i){const n=e.selectionStart??0,t=e.selectionEnd??0;e.value=e.value.substring(0,n)+i+e.value.substring(t,e.value.length);const r=n+i.length;e.focus(),e.setSelectionRange(r,r),this.triggerEvent(e,"input")}triggerEvent(e,i){if("createEvent"in document){const n=document.createEvent("HTMLEvents");n.initEvent(i,!1,!0),e.dispatchEvent(n)}}sanitizeInput(e){let n,i="";n=this.decimal&&this.isValidDecimal(e)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator1}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),i=e.replace(n,"");const t=this.inputElement.maxLength;if(t>0){const r=t-this.inputElement.value.length+(i.includes(`${this.negativeSign}`)?1:0);i=r>0?i.substring(0,r):""}return i}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(e){if(this.hasDecimalPoint){const i=this.getSelection();return i&&i.indexOf(this.decimalSeparator1)>-1?e.split(this.decimalSeparator1).length<=2:e.indexOf(this.decimalSeparator1)<0}return e.split(this.decimalSeparator1).length<=2}getSelection(){return this.inputElement.value.substring(this.inputElement.selectionStart??0,this.inputElement.selectionEnd??0)}forecastValue(e){const n=this.inputElement.selectionEnd??0,t=this.inputElement.value;return t.substring(0,this.inputElement.selectionStart??0)+e+t.substring(n)}replaceDecimalSeparator(e){return e.replace(",",this.decimalSeparator).replace(".",this.decimalSeparator)}}return(c=u).\u0275fac=function(e){return new(e||c)(a.rXU(a.aKT))},c.\u0275dir=a.FsC({type:c,selectors:[["","appOnlyNumber",""]],hostBindings:function(e,i){1&e&&a.bIt("beforeinput",function(t){return i.onBeforeInput(t)})("keydown",function(t){return i.onKeyDown(t)})("paste",function(t){return i.onPaste(t)})("drop",function(t){return i.onDrop(t)})},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",decimalSeparator1:"decimalSeparator1",decimalSeparator2:"decimalSeparator2",allowNegatives:"allowNegatives",allowPaste:"allowPaste",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[a.OA$]}),u})()},40111:(f,d,l)=>{l.d(d,{k:()=>p});var a=l(64198),s=l(73202),c=l(48891),u=l(53793);let p=(()=>{var e;class i{getMineTypeByFileType(t){let o="";switch(this.commonService.getEnumTypeWithDefault(s.d,t,s.d.unknown)){case s.d.doc:case s.d.docx:o="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case s.d.ppt:case s.d.pptx:o="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case s.d.xlsx:o="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case s.d.pdf:o="application/pdf";break;case s.d.video:case s.d.mp4:o="video/mp4";break;case s.d.mov:o="video/mov";break;case s.d.webm:o="video/webm";break;case s.d.quicktime:o="video/quicktime";break;case s.d.audio:o="audio/mpeg";break;case s.d.mp3:o="audio/mp3";break;case s.d.wav:o="audio/wav";break;case s.d.jpeg:case s.d.image:o="image/jpeg";break;case s.d.google_docs:o="google_docs"}return o}getMineTypeByExtension(t){switch(new RegExp(/(?:\.([^.]+))?$/).exec(t)?.[1]){case"pdf":return"application/pdf";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xsl":case"csv":return"application/vnd.ms-excel";case"jpg":return"image/jpg";case"jpge":return"image/jpge";default:return"application/json-patch+json"}}getTypeFileByMime(t){return t.mimes&&(0,a.I7)(t.mimes)||t.name?.toLowerCase().endsWith(".azt")?s.d.docx:t.mimes&&(0,a.nL)(t.mimes)?s.d.xlsx:t.mimes&&(0,a.JK)(t.mimes)?s.d.audio:t.mimes&&(0,a.cZ)(t.mimes)?s.d.video:t.mimes&&(0,a.wu)(t.mimes)?s.d.image:t.mimes&&(0,a.Ev)(t.mimes)?s.d.pdf:t.mimes&&(0,a.rl)(t.mimes)?s.d.powerpoint:void 0}constructor(t){this.commonService=t}}return(e=i).\u0275fac=function(t){return new(t||e)(c.KVO(u.R))},e.\u0275prov=c.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),i})()},20013:(f,d,l)=>{l.d(d,{T:()=>n});var a=l(48891),s=l(9516),c=l(54460),u=l(52811);const p=["*"];function e(t,r){1&t&&a.SdG(0,0,["*ngIf","!isUploadFile"])}function i(t,r){1&t&&(a.j41(0,"span",5),a.nrm(1,"azt-loading-ui"),a.k0s())}let n=(()=>{var t;class r extends s.L{constructor(){super(...arguments),this.uploadComplete=new a.bkB}emitUploadComplete(h){h.length>0&&this.uploadComplete.emit(h[0])}}return(t=r).\u0275fac=(()=>{let o;return function(m){return(o||(o=a.xGo(t)))(m||t)}})(),t.\u0275cmp=a.VBU({type:t,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[a.Vt3],ngContentSelectors:p,decls:6,vars:4,consts:[["formChoseFile",""],[3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(h,m){if(1&h){const v=a.RV6();a.NAR(),a.j41(0,"div",1),a.bIt("click",function(){a.eBV(v);const g=a.sdS(2);return a.Njj(m.onOpenFileDictionary()&&g.click())}),a.j41(1,"input",2,0),a.bIt("change",function(g){return a.eBV(v),a.Njj(m.onFileSelected(g))})("cancel",function(g){return a.eBV(v),a.Njj(m.onCancelSelect(g))}),a.k0s(),a.DNE(3,e,1,0,"ng-content",3),a.j41(4,"div"),a.DNE(5,i,2,0,"span",4),a.k0s()()}2&h&&(a.BMQ("class",m.containerClass),a.R7$(),a.FS9("accept",m.fileType),a.R7$(2),a.Y8G("ngIf",!m.isUploadFile),a.R7$(2),a.Y8G("ngIf",m.isUploadFile))},dependencies:[c.bT,u.R],encapsulation:2}),r})()}}]);