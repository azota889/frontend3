"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[3886],{59840:(tt,O,r)=>{r.r(O),r.d(O,{LadingPageRoutingModule:()=>Mt});var e=r(65162),R=r(1133),T=r(54460),c=r(10936),f=r(15343),D=r(5502),x=r(76627),t=r(48891),S=r(21656),V=r(92274),L=r(45306),Y=r(43362),w=r(69135),$=r(51221),B=r(86925),G=r(47348),j=r(70050),M=r(59640),N=r(37581),X=r(52811),U=r(94743),z=r(36894),W=r(92654),K=r(46899),J=r(30977),H=r(50589),Q=r(31291),F=r(36484),q=r(23356),_=r(78472),y=r(47712);const g=n=>({active:n}),C=n=>[n],p=n=>({clickable:n}),k=n=>({"truncate-bread":n}),l=(n,d)=>({"overflow-x-auto":n,"overflow-x-visible":d}),h=n=>({"min-width":n}),m=(n,d)=>({"col-span-4":n,"col-span-12":d}),b=(n,d)=>({"ml-5":n,"ml-3":d}),I=n=>({"text-primary stroke-width-2.5":n}),A=()=>({"-mt-2":!0}),et=(n,d)=>({"col-span-8":n,"col-span-12":d}),v=(n,d)=>({"w-60":n,"w-52":d});function at(n,d){if(1&n&&(t.j41(0,"li",15)(1,"a",16),t.nI1(2,"navigationLocalize"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&n){const s=t.XpG();t.Y8G("ngClass",t.eq3(7,g,2885==s.currentCategoryId||0==s.currentCategoryId)),t.R7$(),t.Y8G("routerLink",t.eq3(9,C,t.bMT(2,3,"/ladingpage/document-management/0/0/1"))),t.R7$(2),t.SpI(" ",t.bMT(4,5,"azt_lang_core_share_global_azota")," ")}}function nt(n,d){if(1&n){const s=t.RV6();t.j41(0,"li",17)(1,"a",18),t.bIt("click",function(){const o=t.eBV(s).$implicit,i=t.XpG();return t.Njj(i.backToParentCategoryEvent(o))}),t.j41(2,"span",19,1),t.nI1(4,"mytranslate"),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()}if(2&n){const s=d.$implicit,a=t.sdS(3),o=t.XpG();t.Y8G("ngClass",t.eq3(11,g,s.id==o.currentCategoryId)),t.R7$(),t.Y8G("ngClass",t.eq3(13,p,s.id!=o.currentCategoryId)),t.R7$(),t.FS9("matTooltip",t.bMT(4,7,s.name)),t.Y8G("ngClass",t.eq3(15,k,s.id!=o.currentCategoryId))("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.R7$(4),t.JRh(t.bMT(7,9,s.name))}}function ot(n,d){1&n&&(t.j41(0,"div",20)(1,"div",21),t.nrm(2,"azt-svg-icon",22),t.j41(3,"p",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(2),t.Y8G("size",84),t.R7$(2),t.SpI("",t.bMT(5,2,"lang_not_found_search"),"!"))}function Z(n,d){if(1&n&&(t.qex(0),t.eu8(1,24),t.bVm()),2&n){t.XpG();const s=t.sdS(14);t.R7$(),t.Y8G("ngTemplateOutlet",s)}}function rt(n,d){1&n&&t.nrm(0,"azt-loading-ui",41)}function lt(n,d){1&n&&(t.qex(0),t.nrm(1,"azt-svg-icon",54),t.bVm()),2&n&&(t.R7$(),t.Y8G("size",24))}function ct(n,d){1&n&&(t.j41(0,"span"),t.nrm(1,"azt-svg-icon",55),t.k0s()),2&n&&(t.R7$(),t.Y8G("size",24))}function mt(n,d){1&n&&t.nrm(0,"azt-svg-icon",56),2&n&&t.Y8G("size",24)}function _t(n,d){if(1&n&&t.DNE(0,ct,2,1,"span",49)(1,mt,1,1,"ng-template",null,3,t.C5r),2&n){const s=t.sdS(2),a=t.XpG().$implicit;t.Y8G("ngIf",a.shared)("ngIfElse",s)}}function dt(n,d){1&n&&(t.j41(0,"span",57),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_de_chung_azota")," "))}function gt(n,d){1&n&&(t.j41(0,"span",58),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_chia_se")))}function pt(n,d){if(1&n){const s=t.RV6();t.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46)(5,"div",47),t.bIt("click",function(){const o=t.eBV(s).$implicit,i=t.XpG(2);return t.Njj(i.handleOpenFolder(o))}),t.j41(6,"div",48),t.DNE(7,lt,2,1,"ng-container",49)(8,_t,3,2,"ng-template",null,2,t.C5r),t.k0s(),t.j41(10,"div",50,1),t.nI1(12,"mytranslate"),t.j41(13,"span"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.DNE(16,dt,3,3,"span",51)(17,gt,3,3,"span",52),t.k0s()()(),t.nrm(18,"div",53),t.k0s()()()}if(2&n){const s=d.$implicit,a=t.sdS(9),o=t.sdS(11),i=t.XpG(2);t.FS9("id","folder_"+s.id),t.R7$(5),t.Y8G("ngClass",t.l_i(17,v,-1==s.id,-1!=s.id)),t.R7$(2),t.Y8G("ngIf",1==s.isGlobalAzota)("ngIfElse",a),t.R7$(3),t.FS9("matTooltip",t.bMT(12,13,s.name)),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(3),t.HbH(i.isMobileWebView&&-1!=s.id?"azt-wv-item-name":""),t.R7$(),t.JRh(t.bMT(15,15,s.name)),t.R7$(2),t.Y8G("ngIf",-1!=s.id&&1==s.isGlobalAzota),t.R7$(),t.Y8G("ngIf",-1==s.id)}}function ut(n,d){1&n&&(t.nrm(0,"lucide-icon",73),t.nI1(1,"mytranslate")),2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function ht(n,d){1&n&&(t.nrm(0,"lucide-icon",74),t.nI1(1,"mytranslate")),2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function bt(n,d){if(1&n&&(t.j41(0,"span",75),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const s=t.XpG(2).$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_testbank_folder_and_file_number_attended"),": ",s.exam.attended,"")}}function ft(n,d){1&n&&(t.j41(0,"div",76),t.nrm(1,"azt-svg-icon",77),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.FS9("matTooltip",t.bMT(2,2,"lang_auto_da_chia_se")),t.Y8G("size",16))}function xt(n,d){if(1&n){const s=t.RV6();t.j41(0,"div",60)(1,"div",61)(2,"div",62)(3,"div")(4,"div",63),t.bIt("click",function(){t.eBV(s);const o=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.doExamAction(o.exam,i.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),t.j41(5,"div",64),t.DNE(6,ut,2,3,"lucide-icon",65)(7,ht,2,3,"lucide-icon",66),t.k0s(),t.j41(8,"div",67,1)(10,"span",68),t.EFF(11),t.k0s(),t.DNE(12,bt,3,4,"span",69),t.k0s(),t.DNE(13,ft,3,4,"div",70),t.k0s()(),t.j41(14,"div")(15,"a",71),t.bIt("click",function(){t.eBV(s);const o=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.doExamAction(o.exam,i.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"a",72),t.nI1(19,"mytranslate"),t.bIt("click",function(){t.eBV(s);const o=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.downLoadExam(o.exam))}),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()()}if(2&n){const s=t.sdS(9),a=t.XpG().$implicit,o=t.XpG(2);t.R7$(3),t.ZvI("w-full flex items-center ",o.isMobileWebView?"":"mobile-80vw",""),t.R7$(3),t.Y8G("ngIf",a.exam.isPublished),t.R7$(),t.Y8G("ngIf",!a.exam.isPublished),t.R7$(),t.ZvI("ml-3 ",o.isMobileDevice?"truncate":"mr-5",""),t.FS9("matTooltip",a.exam.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled),t.R7$(2),t.ZvI("mb-0 d-block ",o.isMobileWebView?"azt-wv-item-name":"",""),t.R7$(),t.JRh(a.exam.name),t.R7$(),t.Y8G("ngIf",o.isMobileWebView),t.R7$(),t.Y8G("ngIf",a.shared),t.R7$(),t.ZvI("flex items-center py-1 ",o.isMobileDevice?"mt-2":"",""),t.R7$(2),t.SpI(" ",t.bMT(17,23,"lang_auto_xem_noi_dung_de")," "),t.R7$(2),t.FS9("matTooltip",t.bMT(19,25,"lang_global_azota_download")),t.R7$(2),t.SpI(" ",t.bMT(21,27,"lang_global_azota_download")," ")}}function Ct(n,d){if(1&n&&(t.qex(0),t.DNE(1,xt,22,29,"div",59),t.bVm()),2&n){const s=d.$implicit;t.R7$(),t.Y8G("ngIf",s.exam)}}function yt(n,d){if(1&n){const s=t.RV6();t.j41(0,"form",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30),t.bIt("click",function(){t.eBV(s);const o=t.XpG();return t.Njj(o.sortDocumentByColumn(o.enumDocumentSortType.BY_NAME,null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isAscSort))}),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"div",31),t.nrm(9,"lucide-icon",32)(10,"lucide-icon",33),t.k0s()()(),t.j41(11,"div",34)(12,"button",35,1),t.nI1(14,"mytranslate"),t.bIt("click",function(){t.eBV(s);const o=t.XpG();return t.Njj(o.downloadAllFolder())}),t.DNE(15,rt,1,0,"azt-loading-ui",36),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()(),t.j41(18,"div",37),t.DNE(19,pt,19,20,"div",38)(20,Ct,2,1,"ng-container",39),t.k0s(),t.nrm(21,"div",40),t.k0s()()}if(2&n){const s=t.sdS(13),a=t.XpG();t.Y8G("formGroup",a.form),t.R7$(),t.Y8G("ngClass",t.l_i(25,l,!a.isMobileDevice,a.isMobileDevice)),t.R7$(),t.Y8G("ngStyle",t.eq3(28,h,a.isMobileWebView?"":"1100px")),t.R7$(2),t.Y8G("ngClass",t.l_i(30,m,!a.isMobileWebView,a.isMobileWebView)),t.R7$(),t.Y8G("ngClass",t.l_i(33,b,!a.isMobileWebView,a.isMobileWebView)),t.R7$(),t.SpI(" ",t.bMT(7,19,"lang_testbank_folder_and_file_name")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(36,I,1==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),t.R7$(),t.Y8G("ngClass",t.lJ4(38,A))("ngClass",t.eq3(39,I,0==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),t.R7$(),t.Y8G("ngClass",t.l_i(41,et,!a.isMobileWebView,a.isMobileWebView)),t.R7$(),t.FS9("matTooltip",t.bMT(14,21,"lang_global_azota_download_all_folder_desc")),t.Y8G("disabled",a.loadingDownload)("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled),t.R7$(3),t.Y8G("ngIf",a.loadingDownload),t.R7$(),t.SpI(" ",t.bMT(17,23,"lang_global_azota_download_all_folder")," "),t.R7$(2),t.Y8G("ngStyle",t.eq3(44,h,a.isMobileWebView?"":"1100px")),t.R7$(),t.Y8G("ngForOf",a.categoryObjs),t.R7$(),t.Y8G("ngForOf",a.documentObjs)}}let Tt=(()=>{var n;class d extends M.H{sendReloadData(){this.clipboardService.resetClipBoardAfterPasteOrCancelAllActions(),this.loadApiData.emit(!0)}handleOpenFolder(a){this.goToChildCategoryPage.emit(a)}goBackToAllCategoryPageEvent(){this.goBackToAllCategoryPage.emit()}backToParentCategoryEvent(a){this.backToParentCategory.emit(a)}doExamAction(a,o){this.documentDoExamActionService.doExamAction({categoryId:this.currentCategoryId,examObj:a,globalLadingPage:!0},o).subscribe(u=>{u&&u.reloadData&&this.sendReloadData()})}downloadAllFolder(){if(this.userService.isLoginAndNotAnonymous()){this.loadingDownload=!0;let a=(this.documentObjs?.filter(o=>o.exam)??[]).map(o=>({id:o.exam?.id??0,type:B.Y.EXAM,action:$.$.COPY,documentType:"exam"}));this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:a}).subscribe(o=>{if(this.loadingDownload=!1,o&&1==o.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=o.message)return this.errorStatusObj(o.message,!0);let i=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,u=this.commonService.translateToKeyParam(o.message??"",i.toString(),i.toString());this.errorStatusObj(u??"",!0)}))}else this.sAztDialogService.open(N.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}downLoadExam(a){if(this.userService.isLoginAndNotAnonymous()){let o=[];o.push({id:a.id,type:B.Y.EXAM,action:$.$.COPY,documentType:"exam"}),this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:o}).subscribe(i=>{if(i&&1==i.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=i.message)return this.errorStatusObj(i.message,!0);let u=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,E=this.commonService.translateToKeyParam(i.message??"",u.toString(),u.toString());this.errorStatusObj(E??"",!0)}))}else this.sAztDialogService.open(N.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}sortDocumentByColumn(a,o){let u=this.documentSortActionService.sortExamByColumn({rootCategoryObjs:this.rootCategoryObjs,rootDocumentObjs:this.rootDocumentObjs,currentCategoryObjs:this.categoryObjs??[],currentDocumentObjs:this.documentObjs??[]},a,o=null==o||!o);this.categoryObjs=u.categoryObjs,this.documentObjs=u.documentObjs,this.currentDocumentSortTypeObj={isAscSort:o,isColumnSortType:a},this.browserStorageService.saveSimpleSessionStorage("documentSort",JSON.stringify(this.currentDocumentSortTypeObj))}ngOnInit(){this.waitDestroy((0,x.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id"))}));let a=this.commonService.myParseJson(this.browserStorageService.getSimpleSessionStorage("documentSort")??"");a&&this.sortDocumentByColumn(a.isColumnSortType,!a.isAscSort)}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,i,u,E,P,it,st,zt){super(),this.documentDoExamActionService=a,this.activeRoute=o,this.sAztDialogService=i,this.clipboardService=u,this.browserStorageService=E,this.documentSortActionService=P,this.userService=it,this.sAztConfigService=st,this.examCategoryService=zt,this.rootCategoryObjs=[],this.rootDocumentObjs=[],this.isShowSearchResult=!1,this.currentPage=0,this.listBreadcrumb=[],this.goBackToAllCategoryPage=new t.bkB,this.backToParentCategory=new t.bkB,this.goToChildCategoryPage=new t.bkB,this.loadApiData=new t.bkB,this.currentDocumentSortTypeObj=void 0,this.enumDocumentSortType=Y.N,this.enumDocumentRedirectType=L.d,this.enumDocumentDoExamActionType=V.$,this.currentCategoryId=0,this.totalCheckboxSelected=0,this.shareType="",this.loadingDownload=!1,this.form=new c.gE({clipboardObjs:new c.Yp([]),isSelectAll:new c.MJ(!1,{nonNullable:!0,validators:[c.k0.required]})})}}return(n=d).\u0275fac=function(a){return new(a||n)(t.rXU(W.x),t.rXU(e.nX),t.rXU(K.i),t.rXU(J.g),t.rXU(H.z),t.rXU(Q.n),t.rXU(F.R),t.rXU(q.u),t.rXU(_.Ns))},n.\u0275cmp=t.VBU({type:n,selectors:[["global-exam-and-category-list"]],inputs:{rootCategoryObjs:"rootCategoryObjs",rootDocumentObjs:"rootDocumentObjs",categoryObjs:"categoryObjs",currentCategory:"currentCategory",documentObjs:"documentObjs",isShowSearchResult:"isShowSearchResult",backToData:"backToData",currentPage:"currentPage",listBreadcrumb:"listBreadcrumb"},outputs:{goBackToAllCategoryPage:"goBackToAllCategoryPage",backToParentCategory:"backToParentCategory",goToChildCategoryPage:"goToChildCategoryPage",loadApiData:"loadApiData"},standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:7,consts:[["DefaultDocumentTableTpl",""],["c","isDisabled"],["normalCate",""],["noShare",""],[1,"azt-file-manager"],[1,"mt-3","mb-3","h-auto","sm:h-10","flex","flex-col","sm:flex-row","items-center"],[1,"mr-auto"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","global-exam-category-list-mLrqTdVRx",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngIf"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"table-zone"],["class","box p-5 flex items-center","style","height: 300px",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item",3,"ngClass"],["azt-track-service","global-exam-category-list-NdujkQJ24",3,"routerLink"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","global-exam-category-list-_rMqLAn4k6",3,"click","ngClass"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"box","p-5","flex","items-center",2,"height","300px"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[3,"ngTemplateOutlet"],[3,"formGroup"],[1,"inbox","box",2,"scroll-snap-type","x mandatory",3,"ngClass"],[1,"p-5","text-slate-500","border-b","border-slate-200/60",3,"ngStyle"],[1,"grid","grid-cols-12","gap-3","items-center","-mx-5","px-5"],[1,"flex","items-center",3,"ngClass"],["azt-track-service","global-exam-category-list-5-CYQgv-EU",1,"inbox__item--sender","flex","items-center","cursor-pointer",3,"click","ngClass"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[1,"text-right",3,"ngClass"],[1,"btn","btn-sm","btn-success","text-white",2,"white-space","nowrap",3,"click","disabled","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","mr-2",4,"ngIf"],[1,"azt-table-body",2,"min-height","50vh",3,"ngStyle"],["class","folder-item",3,"id",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-5","flex","flex-col","sm:flex-row","items-center","text-center","sm:text-left","text-slate-500"],[1,"mr-2"],[1,"folder-item",3,"id"],[1,"inbox__item","inline-block","sm:block","hover:shadow-md","text-slate-600","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"block","sm:grid","grid-cols-12","gap-3","items-center","px-5","box-exam"],[1,"flex","col-span-12","md:col-span-4",2,"width","80vw","justify-content","space-between"],[1,"flex-none","flex","items-center","w-full"],["azt-track-service","global-exam-category-list-VueJbv5yf5",1,"title-exam","flex","items-center","clickable","sm:w-full",3,"click","ngClass"],[1,"image-fit"],[4,"ngIf","ngIfElse"],[1,"truncate","ml-3",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-info text-white font-medium",4,"ngIf"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white font-medium",4,"ngIf"],[1,"col-span-8","py-1"],["type","folder-azota",3,"size"],["type","folder-share",3,"size"],["type","folder",3,"size"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-info","text-white","font-medium"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","font-medium"],["class","exam-item",4,"ngIf"],[1,"exam-item"],[1,"inbox__item","sm:block","text-slate-600","hover:shadow-md","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"px-5","md:flex","block","box-exam"],["azt-track-service","global-exam-category-list-8ugbR7o5-K",1,"title-exam","flex","items-center","clickable",3,"click"],[1,"text-pending","image-fit"],["name","file-check","size","24",3,"matTooltip",4,"ngIf"],["name","file","size","24",3,"matTooltip",4,"ngIf"],[3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[2,"width","100% !important"],["class","azt-wv-sub-info mx-auto",4,"ngIf"],["class","icon-share ml-2",4,"ngIf"],["azt-track-service","global-exam-category-list--JVXwK7So7",1,"btn","btn-sm","btn-outline-success","mr-2",2,"white-space","nowrap",3,"click"],["azt-track-service","global-exam-category-list-pEOorzBaKX",1,"btn","btn-sm","btn-outline-primary",2,"white-space","nowrap",3,"click","matTooltip"],["name","file-check","size","24",3,"matTooltip"],["name","file","size","24",3,"matTooltip"],[1,"azt-wv-sub-info","mx-auto"],[1,"icon-share","ml-2"],["type","book",2,"padding","3px",3,"size","matTooltip"]],template:function(a,o){if(1&a){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"ol",7)(4,"li",8)(5,"a",9),t.bIt("click",function(){return t.eBV(i),t.Njj(o.goBackToAllCategoryPageEvent())}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.DNE(8,at,5,11,"li",10)(9,nt,8,17,"li",11),t.k0s()()(),t.j41(10,"div",12),t.DNE(11,ot,6,4,"div",13)(12,Z,2,1,"ng-container",14),t.k0s()(),t.DNE(13,yt,22,46,"ng-template",null,0,t.C5r)}2&a&&(t.R7$(6),t.SpI(" ",t.bMT(7,5,"lang_auto_tat_ca")," "),t.R7$(2),t.Y8G("ngIf",o.userService.isLogin()),t.R7$(),t.Y8G("ngForOf",o.listBreadcrumb),t.R7$(2),t.Y8G("ngIf",0==(null==o.categoryObjs?null:o.categoryObjs.length)&&0==(null==o.documentObjs?null:o.documentObjs.length)),t.R7$(),t.Y8G("ngIf",0!=(null==o.categoryObjs?null:o.categoryObjs.length)||0!=(null==o.documentObjs?null:o.documentObjs.length)))},dependencies:[w.f,U.m,X.R,G.F2,T.MD,T.YU,T.Sq,T.bT,T.T3,T.B3,c.X1,c.qT,c.cb,c.j4,e.iI,e.Wk,c.YN,G.wp,S.s,y.oV,f.flO,f.WGl,j.L,D.Id,z.k],styles:[".title-exam[_ngcontent-%COMP%]{padding-top:14px;padding-bottom:14px}@media (max-width: 640px){.mobile-80vw[_ngcontent-%COMP%]{width:80vw!important}.title-exam[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:90%!important}.box-exam[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}}"]}),d})();var vt=r(86972),Et=r(22613),Dt=r(37497),It=r(18718),St=r(15485),Ot=r(52509);const Rt=()=>[];function kt(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const s=t.XpG();t.Y8G("currentStatusObj",s.statusObj)}}function At(n,d){1&n&&(t.qex(0),t.j41(1,"div",9)(2,"span",10),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_global_azota_not_support_student_role")))}function Pt(n,d){if(1&n){const s=t.RV6();t.j41(0,"div",11)(1,"global-exam-and-category-list",12),t.bIt("goToChildCategoryPage",function(o){t.eBV(s);const i=t.XpG(2);return t.Njj(i.goToChildCategoryPage(o))})("goBackToAllCategoryPage",function(){t.eBV(s);const o=t.XpG(2);return t.Njj(o.goBackToAllCategoryPage())})("backToParentCategory",function(o){t.eBV(s);const i=t.XpG(2);return t.Njj(i.backToParentCategory(o))})("loadApiData",function(){t.eBV(s);const o=t.XpG(2);return t.Njj(o.reloadApi())}),t.k0s()(),t.j41(2,"div",13)(3,"div",14)(4,"azt-paging",15),t.bIt("goToPaginationPage",function(o){t.eBV(s);const i=t.XpG(2);return t.Njj(i.goToPage(o))}),t.k0s()(),t.j41(5,"div",16)(6,"p",17),t.EFF(7),t.nI1(8,"number"),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",18)(11,"p",17),t.EFF(12),t.nI1(13,"number"),t.nI1(14,"mytranslate"),t.k0s()()()}if(2&n){const s=t.XpG(2);t.R7$(),t.Y8G("rootCategoryObjs",s.cloneCategoryObjs)("rootDocumentObjs",s.cloneDocumentObjs)("categoryObjs",s.categoryObjs)("documentObjs",s.documentObjs)("backToData",s.backToData)("currentPage",s.pageObj.page)("currentCategory",s.currentCategory)("isShowSearchResult",s.isShowSearchResult)("listBreadcrumb",s.listBreadcrumb||t.lJ4(20,Rt)),t.R7$(3),t.Y8G("pageObj",s.pageObj),t.R7$(3),t.JRh(t.bMT(8,12,s.totalExam)+" "+t.bMT(9,14,"lang_testbank_test_list_document")),t.R7$(5),t.JRh(t.bMT(13,16,s.totalExam)+" "+t.bMT(14,18,"lang_testbank_test_list_document"))}}function Gt(n,d){if(1&n&&(t.j41(0,"div",6)(1,"div",7),t.DNE(2,At,5,3,"ng-container",8)(3,Pt,15,21,"ng-template",null,1,t.C5r),t.k0s()()),2&n){const s=t.sdS(4),a=t.XpG();t.R7$(2),t.Y8G("ngIf",a.userService.isLogin()&&!a.userService.isTeacherRole()&&!a.userService.isAnonymousRoleOfCurrentUser())("ngIfElse",s)}}const jt=[{path:"",component:(()=>{var n;class d extends M.H{}return(n=d).\u0275fac=(()=>{let s;return function(o){return(s||(s=t.xGo(n)))(o||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["lading-master-page"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["id","lading-page-layout"]],template:function(a,o){1&a&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[T.MD,c.X1,e.iI,e.n3,c.YN,S.s,f.flO,j.L,D.Id,z.k],encapsulation:2}),d})(),children:[{path:"document-management/0/:cat_id/:page",component:(()=>{var n;class d extends M.H{goToPage(a){this.backToData?this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a,"?data="+this.commonService.serializeJson(this.backToData)):this.commonService.myNavigation("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a)}resetSearchForm(){this.form.patchValue({searchContent:""}),this.isShowSearchResult=!1}convertExamObj(a){var o=[];return a.forEach(i=>{i.exam&&o.push({name:i.exam.name,updatedAt:i.exam.updatedAt,createdAt:i.exam.createdAt,attended:i.exam.attended,isPublished:i.exam.isPublished,exam:i.exam,shared:i.shared,type:"exam",paths:i.paths,isGlobalAzota:0})}),o}goBackToAllCategoryPage(){var a=this.getFormValue();let o=this.userService.isLogin()&&this.userService.isTeacherRole()?"/admin/testbank":"/ladingpage";a.searchContent?(this.resetSearchForm(),0==this.currentCategoryId?this.getData():this.commonService.myNavigation(o+"/document-management/0/0/1")):this.commonService.myNavigation(o+"/document-management/0/0/1")}backToParentCategory(a){a.id!=this.currentCategoryId&&(this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,backTo:`/ladingpage/document-management/0/${this.currentCategoryId}/1`,suggest:a.isGlobalAzota>1?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):""))}goToChildCategoryPage(a){this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,suggest:0!=a.isGlobalAzota?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):"")}getFormValue(){return this.form.getRawValue()}getListParentCategoryObjs(){this.waitDestroy(this.examCategoryService.apiExamCategoryGetGlobalBreadcrumbsGet(this.currentCategoryId).subscribe(a=>{if(a&&1==a.success){var o=[];a.data?.objs&&a.data?.objs.forEach(i=>{o.push({...i,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]})}),this.listBreadcrumb=o;for(let i=0;i<this.listBreadcrumb?.length;i++)if(this.listBreadcrumb[i].id==this.currentCategoryId){let u="",E=0,P=0;0!=this.listBreadcrumb[i].isGlobalAzota&&(P=1),!this.listBreadcrumb[i].parentId&&this.listBreadcrumb[i].shareType?(u=0!=this.listBreadcrumb[i].isGlobalAzota?"":"user",E=i>1?this.listBreadcrumb[i-1].id??-1:0==i&&0!=this.listBreadcrumb[i].isGlobalAzota?0:this.listBreadcrumb[i].parentId??this.listBreadcrumb[i].tenantId??-1):this.listBreadcrumb[i].parentId&&this.listBreadcrumb[i].shareType?(u=i>1?this.listBreadcrumb[i-1].shareType??"":i<=1&&0!=this.listBreadcrumb[i].isGlobalAzota?this.listBreadcrumb[i].shareType??"":"",E=this.listBreadcrumb[i].parentId??-1):E=this.listBreadcrumb[i].parentId??0;let it=E?`/ladingpage/document-management/0/${E}/1`+(this.backToData?"?data="+this.commonService.serializeJson({shareType:u}):""):"/ladingpage/document-management/0/0/1";this.backToLink=this.commonService.serializeJson({shareType:u,backTo:it,suggest:P})}}else this.showErrorSnack(a.message??"")}))}getData(){var a=Number(this.commonService.getMyParam(this.activeRoute,"page"));let o=this.getFormValue();this.pageObj.setPageNumber(a),this.initStatusObj();let i={categoryId:0!=this.currentCategoryId?this.currentCategoryId:0,documentType:void 0,shareType:this.backToData?.shareType??"",fileType:"exam",classroomId:void 0,name:this.isShowSearchResult?o.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:1,page:this.pageObj.page,itemPerPage:void 0};this.waitDestroy(this.documentService.apiDocumentsGlobalGet(i.categoryId,i.suggestExamPurpose,i.page,i.itemPerPage).subscribe(u=>{if(u&&1==u.success){var E=this.commonService.castObj(u.data?.documentObjs)??[],P=this.convertExamObj(E);this.documentObjs=P,this.cloneDocumentObjs=P,this.categoryObjs=u.data?.categoryObjs,this.cloneCategoryObjs=u.data?.categoryObjs??[],this.currentCategory=u.data?.currentCategory?{...u.data?.currentCategory,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]}:void 0,this.totalExam=u.data?.total??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCategoryObjs(),this.stopStatusObj()}else this.showErrorSnack(u.message??"")}))}reloadApi(){this.getData()}ngOnInit(){this.waitDestroy((0,x.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id")),this.backToData=this.commonService.myParseJson(this.commonService.getMyQueryParam("data")??"");let a={shareType:this.backToData?.shareType,suggest:this.backToData?.suggest,backTo:this.backToData?.backTo??(this.userService.isTeacherRole()?"/admin/testbank/document-management/0/0/1":"/student/dashboard")};this.backToLink=this.commonService.serializeJson(a),this.mobileWebviewService.sendSimpleMessage("OPEN_EXAM"),this.getData()})),this.commonService.translateMetaData({title:"lang_testbank_document_list_header_title",description:"lang_testbank_document_list_header_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,i,u,E,P){super(),this.activeRoute=a,this.examCategoryService=o,this.documentService=i,this.aztShareService=u,this.mobileWebviewService=E,this.userService=P,this.isShowSearchResult=!1,this.totalExam=0,this.recommendExamObjs=[],this.documentObjs=[],this.cloneDocumentObjs=[],this.cloneCategoryObjs=[],this.listBreadcrumb=[],this.currentCategoryId=0,this.backToLink="",this.pageObj=new Dt.d(24),this.form=new c.gE({searchContent:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]})})}}return(n=d).\u0275fac=function(a){return new(a||n)(t.rXU(e.nX),t.rXU(_.Ns),t.rXU(_.DK),t.rXU(St.l),t.rXU(Ot.f),t.rXU(F.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-global-exam-management-list"]],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:4,consts:[["doneLoading",""],["normalTeacherView",""],[3,"layoutName","headerBackToLink"],[1,"container-fluid","mt-3","overflow-hidden"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"azt-view-file-manager"],[3,"goToChildCategoryPage","goBackToAllCategoryPage","backToParentCategory","loadApiData","rootCategoryObjs","rootDocumentObjs","categoryObjs","documentObjs","backToData","currentPage","currentCategory","isShowSearchResult","listBreadcrumb"],[1,"azt-document-footer","flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2"],[3,"goToPaginationPage","pageObj"],[1,"text-right","mt-2","azt-hidden","md:block"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"]],template:function(a,o){if(1&a&&(t.j41(0,"public-layout",2)(1,"div",3),t.DNE(2,kt,1,1,"azt-loading-effect",4)(3,Gt,5,2,"ng-template",null,0,t.C5r),t.k0s()()),2&a){const i=t.sdS(4);t.Y8G("layoutName","landing-page")("headerBackToLink",o.userService.isLogin()?o.backToLink:0==o.currentCategoryId?"":o.backToLink),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[vt.J,It.K,Tt,Et.q,T.MD,T.bT,T.QX,c.X1,e.iI,c.YN,G.wp,S.s,f.flO,j.L,D.Id,z.k],encapsulation:2}),d})()}]}];let Mt=(()=>{var n;class d{}return(n=d).\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[e.iI.forChild(jt),e.iI,R.XE]}),d})()},50334:(tt,O,r)=>{r.d(O,{C:()=>R});var e=r(59640);class R extends e.H{constructor(){super(...arguments),this.nodeObjs=[]}searchByText(c){this.nodeObjs=(c=this.standardSearchText(c)).trim()?this.doSearchByText(c,this.nodeObjs,[]):this.showAndExpandAll(this.nodeObjs)}expand(c){c.isExpand=!0}collapse(c){c.isExpand=!1}doSearchByText(c,f,D){for(var x of f){x.isShow=!1;let t=this.standardSearchText(x.text);(c.includes(t)||t.includes(c))&&(x.isShow=!0,x.isExpand=!0,D.forEach(S=>{S.isShow=!0,S.isExpand=!0})),x.children.length&&(x.children=this.doSearchByText(c,x.children,D.concat(x)))}return f}showAndExpandAll(c){for(var f of c)f.isShow=!0,f.isExpand=!0,f.children=this.showAndExpandAll(f.children);return c}standardSearchText(c){return c=c.toLowerCase(),c=this.commonService.removeSpecialStringInSearch(c),this.commonService.convertVietnameseToEnglish(c)}}},14490:(tt,O,r)=>{r.d(O,{T:()=>q});var e=r(48891),R=r(89163),T=r(33887),c=r(71812),f=r(52811),D=r(54460),x=r(10936),t=r(65162),S=r(47348),V=r(21656),L=r(15343),Y=r(70050),w=r(5502),$=r(36894),B=r(56562);const G=()=>({"mr-2":!0});function j(_,y){1&_&&(e.j41(0,"div",7),e.nrm(1,"azt-loading-ui",8),e.k0s()),2&_&&(e.R7$(),e.Y8G("size",32))}function M(_,y){if(1&_&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_){const g=e.XpG(3);e.R7$(),e.JRh(e.bMT(2,1,g.title))}}function N(_,y){if(1&_&&(e.j41(0,"h3",13)(1,"div",14),e.nrm(2,"lucide-icon",15),e.EFF(3," POINT "),e.k0s(),e.DNE(4,M,3,3,"span",6),e.k0s()),2&_){const g=e.XpG(2);e.R7$(2),e.Y8G("ngClass",e.lJ4(2,G)),e.R7$(2),e.Y8G("ngIf",g.title)}}function X(_,y){1&_&&(e.j41(0,"h3",13)(1,"div",14),e.nrm(2,"lucide-icon",15),e.EFF(3," POINT "),e.k0s()()),2&_&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(1,G)))}function U(_,y){if(1&_&&(e.j41(0,"div",16),e.DNE(1,X,4,2,"h3",10),e.nrm(2,"span",17),e.nI1(3,"mytranslate"),e.k0s()),2&_){const g=e.XpG(2);e.R7$(),e.Y8G("ngIf","export-excel-per-50"==g.data.transactionType),e.R7$(),e.Y8G("innerHTML",e.bMT(3,2,g.counterRequireNote),e.npT)}}function z(_,y){if(1&_&&(e.j41(0,"div",18),e.nrm(1,"p",19),e.nI1(2,"mytranslate"),e.k0s()),2&_){const g=e.XpG(2);e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,"export-excel-per-50"==g.data.transactionType?"lang_azt_export_exceeds_50_records":"lang_azt_point_required_cant_using"),e.npT)}}function W(_,y){if(1&_&&(e.j41(0,"div",9),e.DNE(1,N,5,3,"h3",10)(2,U,4,4,"div",11)(3,z,3,3,"div",12),e.k0s()),2&_){const g=e.XpG();e.R7$(),e.Y8G("ngIf","export-excel-per-50"!=g.data.transactionType),e.R7$(),e.Y8G("ngIf",g.counterRequireNote),e.R7$(),e.Y8G("ngIf",!(null!=g.dataChecked&&g.dataChecked.canUsing))}}function K(_,y){if(1&_){const g=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(g);const p=e.XpG(2);return e.Njj(p.confirmDialog("confirm"))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_tiep_tuc")," "))}function J(_,y){if(1&_){const g=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(g);const p=e.XpG(2);return e.Njj(p.goBuyMorePoint())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_point_require_buy_more_point")," "))}function H(_,y){if(1&_&&(e.qex(0),e.DNE(1,K,3,3,"button",20)(2,J,3,3,"button",20),e.bVm()),2&_){const g=e.XpG();e.R7$(),e.Y8G("ngIf","ai-platform"!=g.data.transactionType||"ai-platform"==g.data.transactionType&&g.totalPoint>0),e.R7$(),e.Y8G("ngIf","ai-platform"==g.data.transactionType&&g.totalPoint<=0)}}function Q(_,y){if(1&_){const g=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(g);const p=e.XpG(2);return e.Njj(p.confirmDialog("continue"))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&_&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_tiep_tuc")," "))}function F(_,y){if(1&_){const g=e.RV6();e.qex(0),e.DNE(1,Q,3,3,"button",22),e.j41(2,"button",21),e.bIt("click",function(){e.eBV(g);const p=e.XpG();return e.Njj(p.goBuyMorePoint())}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()}if(2&_){const g=e.XpG();e.R7$(),e.Y8G("ngIf","export-excel-per-50"==g.data.transactionType),e.R7$(2),e.SpI(" ",e.bMT(4,2,"azt-ocr"==g.data.transactionType||"ai-platform"==g.data.transactionType?"lang_point_require_buy_more_point":"lang_azt_upgrade_now")," ")}}let q=(()=>{var _;class y extends T._{handlerCloseDialog(){this.dialogRef.close("cancel")}goBuyMorePoint(){this.dialogRef.close("upgrade"),this.commonService.myNavigationWithQueryString("/auth/vip-packages/teacherVip",`?backto=${encodeURIComponent(this.data.returnUrl)}&trackingKey=${this.data.transactionType.toUpperCase()}`)}confirmDialog(C){this.dialogRef.close(C)}getPointRequire(){this.initStatusObj();let C="export-excel-per-50"!=this.data.transactionType?this.data.times:this.payAsGoService.getExportExcel50ByTime(this.data.times);this.payAsGoService.getPointsRequired(this.data.transactionType,C??0).subscribe(p=>p&&p.success?(this.dataChecked=p.data,this.title=p.data?.canUsing?"ai-platform"==this.data.transactionType?this.commonService.translateToKeyParam("lang_point_required_ai_using_action_note",this.totalPoint.toString()):"":"lang_point_required_cant_using_action_title","ai-platform"!=this.data.transactionType&&p.data?.canUsing&&0==p.data?.requiredPoints?this.confirmDialog("confirm"):(this.counterRequireNote="ai-platform"==this.data.transactionType?"":this.commonService.translateToKeyParam(p.data?.requiredPoints&&p.data?.requiredPoints>0?"lang_point_required_cant_using_action_point":"lang_point_required_to_action",this.commonService.parseNumberFixed(p.data?.requiredPoints??0,4).toString()),void this.successStatusObj())):this.errorStatusObj(p.message,!0))}getCurrentPoint(){this.waitDestroy(this.payAsGoService.getTotalPoint(!0,void 0).subscribe(C=>{this.totalPoint=this.commonService.parseNumberFixed(C.data?.totalPoint??0,4),this.getPointRequire()}))}constructor(C,p,k){super(k,p),this.sAztAzotaTrackingService=C,this.dialogRef=p,this.data=k,this.payAsGoService=(0,e.WQX)(c.Q),this.counterRequireNote="",this.title="",this.totalPoint=0,"ai-platform"==this.data.transactionType&&this.getCurrentPoint(),"ai-platform"!=this.data.transactionType&&this.getPointRequire()}}return(_=y).\u0275fac=function(C){return new(C||_)(e.rXU(B.M),e.rXU(R.CP,8),e.rXU(R.Vh,8))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-checkpoint-require-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:7,consts:[["doneLoad",""],[1,"box","w-72","sm:w-80"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],["class","mx-auto my-auto text-center midle-box p-5","style","height: 130px",4,"ngIf","ngIfElse"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[4,"ngIf"],[1,"mx-auto","my-auto","text-center","midle-box","p-5",2,"height","130px"],[3,"size"],[1,"p-5"],["class","text-lg font-medium mb-2",4,"ngIf"],["class","mt-3 flex",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"text-lg","font-medium","mb-2"],[1,"badge-vip","inline-flex","items-center","mr-2",2,"height","25px"],["name","gem","size","12",3,"ngClass"],[1,"mt-3","flex"],[1,"text-md","font-normal",3,"innerHTML"],[1,"mt-3"],[1,"text-md",3,"innerHTML"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","btn btn-primary-soft mr-3",3,"click",4,"ngIf"],[1,"btn","btn-primary-soft","mr-3",3,"click"]],template:function(C,p){if(1&C){const k=e.RV6();e.j41(0,"div",1)(1,"div",2),e.DNE(2,j,2,1,"div",3)(3,W,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.j41(5,"div",4)(6,"button",5),e.bIt("click",function(){return e.eBV(k),e.Njj(p.handlerCloseDialog())}),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,H,3,2,"ng-container",6)(10,F,5,4,"ng-container",6),e.k0s()()}if(2&C){const k=e.sdS(4);e.R7$(2),e.Y8G("ngIf",p.statusObj.loading)("ngIfElse",k),e.R7$(5),e.SpI(" ",e.bMT(8,5,"lang_auto_huy")," "),e.R7$(2),e.Y8G("ngIf",null==p.dataChecked?null:p.dataChecked.canUsing),e.R7$(),e.Y8G("ngIf",!(null!=p.dataChecked&&p.dataChecked.canUsing))}},dependencies:[f.R,D.MD,D.YU,D.bT,x.X1,t.iI,x.YN,S.wp,V.s,L.flO,L.WGl,Y.L,w.Id,$.k],encapsulation:2}),y})()},15485:(tt,O,r)=>{r.d(O,{l:()=>T});var e=r(18447),R=r(48891);let T=(()=>{var c;class f{constructor(){this.hasDataChanged=new e.B,this.currentMessage=this.hasDataChanged.asObservable()}changeStatus(x){this.hasDataChanged.next(x)}}return(c=f).\u0275fac=function(x){return new(x||c)},c.\u0275prov=R.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),f})()},8022:(tt,O,r)=>{r.d(O,{n:()=>k});var e=r(48891),R=r(52909),T=r(50334),c=r(54460),f=r(10936),D=r(65162),x=r(47348),t=r(21656),S=r(15343),V=r(70050),L=r(5502),Y=r(36894);const w=l=>({nodeObjs:l}),$=l=>({"padding-left":l}),B=()=>({"rotate-90deg":!0}),G=()=>({"transition-3s":!0}),j=()=>({"ml-1":!0});function M(l,h){1&l&&e.eu8(0)}function N(l,h){1&l&&(e.j41(0,"label",6)(1,"span",7),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_azt_structure_of_the_capacity_exam")))}function X(l,h){1&l&&e.eu8(0)}function U(l,h){if(1&l&&(e.qex(0),e.DNE(1,X,1,0,"ng-container",8),e.bVm()),2&l){const m=e.XpG(2),b=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",b)("ngTemplateOutletContext",e.eq3(2,w,m.nodeObjs))}}function z(l,h){if(1&l&&(e.DNE(0,N,4,3,"label",3),e.j41(1,"div",4),e.DNE(2,U,2,4,"ng-container",5),e.k0s()),2&l){const m=e.XpG();e.Y8G("ngIf",m.isShowLabel),e.R7$(2),e.Y8G("ngIf",m.nodeObjs.length)}}function W(l,h){1&l&&e.nrm(0,"lucide-icon",20),2&l&&e.Y8G("ngClass",e.lJ4(1,B))}function K(l,h){1&l&&e.nrm(0,"lucide-icon",21),2&l&&e.Y8G("ngClass",e.lJ4(1,G))}function J(l,h){if(1&l&&(e.j41(0,"span",22),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()),2&l){const m=e.XpG(2).$implicit;e.R7$(),e.SpI(" ","("+e.bMT(2,1,"lang_auto_chon")+" "+m.data.folderData.totalPart+" "+e.bMT(3,3,"lang_azt_in")+" "+m.children.length+" "+e.bMT(4,5,"lang_azt_hereafter")+")"," ")}}function H(l,h){if(1&l){const m=e.RV6();e.qex(0),e.j41(1,"div",13),e.bIt("click",function(){e.eBV(m);const I=e.XpG().$implicit,A=e.XpG(3);return e.Njj(A.clickToNode(I))}),e.j41(2,"div",14),e.DNE(3,W,1,2,"lucide-icon",15)(4,K,1,2,"lucide-icon",16),e.nrm(5,"lucide-icon",17),e.j41(6,"span",18),e.EFF(7),e.k0s(),e.DNE(8,J,5,7,"span",19),e.k0s()(),e.bVm()}if(2&l){const m=e.XpG().$implicit;e.R7$(3),e.Y8G("ngIf",!m.isExpand),e.R7$(),e.Y8G("ngIf",m.isExpand),e.R7$(3),e.JRh(m.data.folderData.name),e.R7$(),e.Y8G("ngIf",m.children.length&&m.data.folderData.totalPart&&m.children.length!=m.data.folderData.totalPart)}}function Q(l,h){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&l){const m=e.XpG(2).$implicit;e.R7$(),e.Lme("\xa0(",m.data.examData.minutes," ",e.bMT(2,2,"lang_auto_minute"),")")}}function F(l,h){1&l&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&l&&(e.R7$(),e.SpI("\xa0(",e.bMT(2,1,"lang_auto_khong_gioi_han"),")"))}function q(l,h){if(1&l){const m=e.RV6();e.qex(0),e.j41(1,"div",23),e.bIt("click",function(){e.eBV(m);const I=e.XpG().$implicit,A=e.XpG(3);return e.Njj(A.selectExam(I.data.examData))}),e.nrm(2,"lucide-icon",24),e.j41(3,"span",18),e.EFF(4),e.DNE(5,Q,3,4,"span",5)(6,F,3,3,"span",5),e.k0s()(),e.bVm()}if(2&l){const m=e.XpG().$implicit;e.R7$(2),e.Y8G("name",m.data.examData.isPublished?"file-check":"file")("ngClass",e.lJ4(5,j)),e.R7$(2),e.SpI(" ",m.data.examData.name," "),e.R7$(),e.Y8G("ngIf",m.data.examData.minutes),e.R7$(),e.Y8G("ngIf",!m.data.examData.minutes)}}function _(l,h){1&l&&e.eu8(0)}function y(l,h){if(1&l&&(e.qex(0),e.j41(1,"div",25),e.DNE(2,_,1,0,"ng-container",8),e.k0s(),e.bVm()),2&l){const m=e.XpG().$implicit;e.XpG(3);const b=e.sdS(4);e.R7$(2),e.Y8G("ngTemplateOutlet",b)("ngTemplateOutletContext",e.eq3(2,w,m.children))}}function g(l,h){if(1&l&&(e.qex(0),e.j41(1,"div",10)(2,"div",11)(3,"div",12),e.DNE(4,H,9,4,"ng-container",5)(5,q,7,6,"ng-container",5),e.k0s(),e.DNE(6,y,3,4,"ng-container",5),e.k0s()(),e.bVm()),2&l){const m=h.$implicit;e.R7$(),e.Y8G("hidden",!m.isShow),e.R7$(),e.Y8G("ngStyle",e.eq3(9,$,m.level>0?"20px":"")),e.R7$(),e.yjJ("id","node-",m.randomHashId,"-",m.level,"-",m.nodeIndex,""),e.R7$(),e.Y8G("ngIf",m.data.folderData),e.R7$(),e.Y8G("ngIf",m.data.examData),e.R7$(),e.Y8G("ngIf",m.isExpand)}}function C(l,h){if(1&l&&(e.qex(0),e.DNE(1,g,7,11,"ng-container",9),e.bVm()),2&l){const m=h.$implicit;e.R7$(),e.Y8G("ngForOf",m)}}function p(l,h){if(1&l&&e.DNE(0,C,2,1,"ng-container",5),2&l){const m=h.nodeObjs,b=e.XpG();e.Y8G("ngIf",b.asTemplateDataObj(m))}}let k=(()=>{var l;class h extends T.C{constructor(){super(...arguments),this.isShowLabel=!0,this.isExpand=!0,this.showCountInfo=!1,this.getExamData=new e.bkB,this.nodeObjs=[],this.uuidService=(0,e.WQX)(R.D)}selectExam(b){this.getExamData.emit(b)}clickToNode(b){b.isExpand?this.collapse(b):this.expand(b)}asTemplateDataObj(b){return b}standardTreeNodes(b,I,A){let et=[];return b.forEach((v,at)=>{let nt=v.exam?void 0:{name:v.objectName??"Empty",totalPart:v.totalPart},ot=v.exam?{id:v.exam.id,hashId:v.exam.hashId??"",categoryId:v.exam.categoryId??0,name:v.exam.name,minutes:v.exam.minutes??0,totalQuestion:v.exam.countQuestion,isPublished:!!v.exam.isPublished}:void 0,Z={level:I,isExpand:this.isExpand,isShow:!0,nodeIndex:at,selected:!1,randomHashId:this.uuidService.getUuid(),data:{nodeId:v.objectId??0,isEdited:!1,folderData:nt,examData:ot,parentNodeId:A,children:v.children},children:[],text:"Not use"};Z.children=this.standardTreeNodes(v.children,I+1,Z.data.nodeId),et.push(Z)}),et}ngOnChanges(b){b.rawNodes&&(this.nodeObjs=this.standardTreeNodes(this.rawNodes,0,0))}}return(l=h).\u0275fac=(()=>{let m;return function(I){return(m||(m=e.xGo(l)))(I||l)}})(),l.\u0275cmp=e.VBU({type:l,selectors:[["app-capacity-exam-tree-in-view-mode-component"]],inputs:{rawNodes:"rawNodes",isShowLabel:"isShowLabel",isExpand:"isExpand",showCountInfo:"showCountInfo"},outputs:{getExamData:"getExamData"},standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:5,vars:1,consts:[["mainContent",""],["recursiveListTmpl",""],[4,"ngTemplateOutlet"],["class","flex items-center",4,"ngIf"],["id","list-category-arr",1,"grid","grid-cols-12","gap-1"],[4,"ngIf"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"col-span-12",3,"hidden"],[3,"ngStyle"],[1,"flex","items-center","mb-1","w-full","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded",3,"id"],[1,"flex","items-center","clickable","w-full",3,"click"],[1,"pt-2","pb-2"],["name","chevron-right","size","18",3,"ngClass",4,"ngIf"],["name","chevron-down","size","18",3,"ngClass",4,"ngIf"],["name","folder","size","18",2,"padding-left","5px"],[1,"ml-2"],["class","ml-1 text-slate-500 text-xs",4,"ngIf"],["name","chevron-right","size","18",3,"ngClass"],["name","chevron-down","size","18",3,"ngClass"],[1,"ml-1","text-slate-500","text-xs"],[1,"flex","items-center","pb-2","pt-2","clickable",3,"click"],["size","18",1,"text-pending",3,"name","ngClass"],[1,"grid","grid-cols-12","gap-1","w-full","children-tmp"]],template:function(b,I){if(1&b&&e.DNE(0,M,1,0,"ng-container",2)(1,z,3,2,"ng-template",null,0,e.C5r)(3,p,1,1,"ng-template",null,1,e.C5r),2&b){const A=e.sdS(2);e.Y8G("ngTemplateOutlet",A)}},dependencies:[c.MD,c.YU,c.Sq,c.bT,c.T3,c.B3,f.X1,D.iI,f.YN,x.wp,t.s,S.flO,S.WGl,V.L,L.Id,Y.k],encapsulation:2}),h})()}}]);