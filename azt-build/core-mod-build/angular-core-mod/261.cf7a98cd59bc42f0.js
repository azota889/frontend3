"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[261],{21713:(S,w,o)=>{o.d(w,{C:()=>it});var E=o(81519),C=o(54460),t=o(48891),n=o(10936),D=o(34514),T=o(47426),O=o(65162),B=o(15343),I=o(44233),s=o(5502),d=o(21656),e=o(99503),b=o(79347),h=o(43166),u=o(36894),f=o(47348),y=o(70050),P=o(9691),N=o(59640),v=o(74175),R=o(63349),m=o(39712),g=o(43234),M=o(74978),F=o(39471),j=o(97839),z=o(95670),A=o(4375),U=o(81587);const x=()=>({"ml-5 mr-2":!0}),W=r=>({"error-border":r}),L=r=>[r],$=()=>({"mr-2":!0});function G(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function K(r,_){if(1&r&&(t.j41(0,"mat-option",62),t.EFF(1),t.k0s()),2&r){const i=_.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function Y(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function V(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function J(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function H(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function X(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_test_market_request_with_draw_note_birthday")," "))}function Q(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Z(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function q(r,_){1&r&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_test_market_must_accept_policy")," "))}function tt(r,_){if(1&r){const i=t.RV6();t.j41(0,"div",63)(1,"button",64),t.nI1(2,"calcYearOldUser"),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.acceptSendRequest(!0))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"button",65),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.acceptSendRequest(!1))}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()}if(2&r){const i=t.XpG();t.R7$(),t.Y8G("disabled",i.form.invalid||i.sendRequest||!i.totalBalance||i.totalBalance<i.minimumWithdraw||2!=i.citizenIdImages.length||t.bMT(2,3,i.form.controls.birthday.value)<18),t.R7$(2),t.SpI(" ",t.bMT(4,5,"lang_test_market_request_with_draw")," "),t.R7$(3),t.SpI(" ",t.bMT(7,7,"lang_auto_huy")," ")}}function et(r,_){if(1&r){const i=t.RV6();t.j41(0,"div",71),t.bIt("click",function(){t.eBV(i);const a=t.XpG().$implicit,c=t.XpG(2);return t.Njj(c.removeImg(a))}),t.nrm(1,"lucide-icon",72),t.k0s()}}function at(r,_){if(1&r&&(t.j41(0,"div",67)(1,"div",68),t.nrm(2,"img",69),t.nI1(3,"mycdn"),t.k0s(),t.DNE(4,et,2,0,"div",70),t.k0s()),2&r){const i=_.$implicit,l=t.XpG(2);t.R7$(2),t.Y8G("src",t.bMT(3,2,i),t.B4B),t.R7$(2),t.Y8G("ngIf",l.enableEditInfo)}}function nt(r,_){if(1&r&&(t.j41(0,"div"),t.DNE(1,at,5,4,"div",66),t.k0s()),2&r){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.citizenIdImages)}}function rt(r,_){1&r&&(t.j41(0,"div",73)(1,"div",74),t.nrm(2,"lucide-icon",75),t.j41(3,"span",76),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,$)),t.R7$(2),t.JRh(t.bMT(5,2,"lang_auto_upload_file")))}function ot(r,_){if(1&r){const i=t.RV6();t.j41(0,"div",77)(1,"div",63)(2,"button",78),t.nI1(3,"calcYearOldUser"),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.acceptSendRequest(!0))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"button",79),t.bIt("click",function(){t.eBV(i);const a=t.XpG();return t.Njj(a.acceptSendRequest(!1))}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()}if(2&r){const i=t.XpG();t.R7$(2),t.Y8G("disabled",i.form.invalid||i.sendRequest||!i.totalBalance||i.totalBalance<i.minimumWithdraw||2!=i.citizenIdImages.length||t.bMT(3,3,i.form.controls.birthday.value)<18),t.R7$(2),t.SpI(" ",t.bMT(5,5,"lang_test_market_request_with_draw")," "),t.R7$(3),t.SpI(" ",t.bMT(8,7,"lang_auto_huy")," ")}}let it=(()=>{var r;class _ extends N.H{getCurLang(){return this.commonService.getCurrentLang()}handleUploadComplete(l){l.forEach(a=>{this.citizenIdImages.push(a.url??"")})}removeImg(l){let a=this.citizenIdImages?.filter(c=>c!==l);this.citizenIdImages=a}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo?.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo?.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo?.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo?.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo?.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo?.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo?.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo?.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo?.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo?.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(l){this.currentBankId=l}removeSignatureKeyImages(l){if(0==l.length)return[];{let a=[];return l.forEach(c=>{a.push(c.substring(0,c.indexOf("?")))}),a}}acceptSendRequest(l){if(l){this.sendRequest=!0;let a=this.getFormValue(),c={bankId:a.bankId??this.transactionInfo?.bankId,bankHolder:a.accountNameControl??this.transactionInfo?.bankHolder,address:a.address??this.transactionInfo?.address,bankAccountNumber:a.bankNumber??this.transactionInfo?.bankAccountNumber,contactPhone:a.contactPhone??this.balanceUserInfo?.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(a.birthday??this.balanceUserInfo?.birthday??""),idCard:a.idCard??this.balanceUserInfo?.idCard,idIssuedBy:a.idIssuedBy??this.balanceUserInfo?.idIssuedBy,idIssuedAt:new Date(a.idIssuedAt??this.balanceUserInfo?.idIssuedAt??"")};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(c).subscribe(k=>{k.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(k.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(l=>{l.success?(this.listBanks=l.data?.objs??[],this.successStatusObj()):this.errorStatusObj(l.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.getBankObjs(),this.transactionInfo||(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo?.idImages&&this.balanceUserInfo?.idImages.length?this.balanceUserInfo.idImages:[],this.form=new n.gE({accountNameControl:new n.MJ({value:this.transactionInfo?.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),bankId:new n.MJ({value:this.transactionInfo?.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),bankNumber:new n.MJ({value:this.transactionInfo?.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required,n.k0.pattern("^[A-Za-z0-9]*$")]}),address:new n.MJ({value:this.transactionInfo?.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),contactPhone:new n.MJ({value:this.balanceUserInfo?.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required,n.k0.pattern("^[0-9]*$"),n.k0.minLength(10)]}),idCard:new n.MJ({value:this.balanceUserInfo?.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required,n.k0.pattern("^[0-9]*$")]}),idIssuedBy:new n.MJ({value:this.balanceUserInfo?.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),idIssuedAt:new n.MJ({value:this.balanceUserInfo?.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),birthday:new n.MJ({value:this.balanceUserInfo?.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),acceptPolicy:new n.MJ(!1,{nonNullable:!0,validators:[n.k0.requiredTrue]})}),this.currentBankId=this.transactionInfo?.bankId??1}constructor(l){super(),this.testMarketQuestionService=l,this.totalBalance=0,this.closeRequest=new t.bkB,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=g.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=m.b8,this.allUploadFileTypes=m.PO,this.minimumWithdraw=2e5,this.form=new n.gE({accountNameControl:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),bankId:new n.MJ({value:1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),bankNumber:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required,n.k0.pattern("^[A-Za-z0-9]*$")]}),address:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),contactPhone:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required,n.k0.pattern("^[0-9]*$"),n.k0.minLength(10)]}),idCard:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required,n.k0.pattern("^[0-9]*$")]}),idIssuedBy:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),idIssuedAt:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),birthday:new n.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[n.k0.required]}),acceptPolicy:new n.MJ(!1,{nonNullable:!0,validators:[n.k0.requiredTrue]})})}}return(r=_).\u0275fac=function(l){return new(l||r)(t.rXU(M.e2))},r.\u0275cmp=t.VBU({type:r,selectors:[["withdraw-balance"]],inputs:{balanceUserInfo:"balanceUserInfo",transactionInfo:"transactionInfo",totalBalance:"totalBalance"},outputs:{closeRequest:"closeRequest"},standalone:!0,features:[t.Jv_([{provide:E.$O,useClass:e.fb,deps:[T.Ju,D.ij]},{provide:E.vq,useFactory:b.fJ,deps:[P.F]}]),t.Vt3,t.aNF],decls:132,vars:116,consts:[["searchInListBank","searchInList"],["idIssuedAt",""],["birthday",""],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"text-danger","text-xs"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","square-pen",2,"width","1.25rem !important",3,"ngClass"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline",3,"ngClass"],["searchInList","","formControlName","bankId","name","bankIdInput",3,"valueChange","selectionChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","20"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],[2,"display","block",3,"uploadComplete","uploadToCdnMenu","fileType"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","x","size","16"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["name","upload","size","16",3,"ngClass"],[1,"text-primary","mr-1"],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(l,a){if(1&l){const c=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h2",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"number"),t.k0s(),t.j41(8,"span",8),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",9)(12,"h2",10),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"div",11),t.bIt("click",function(){return t.eBV(c),t.Njj(a.enableEdit())}),t.nrm(16,"lucide-icon",12),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"form",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"label",18),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.nrm(27,"input",19),t.DNE(28,G,3,3,"div",20),t.k0s(),t.j41(29,"div",17)(30,"label",21),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"mat-form-field",22)(34,"mat-select",23,0),t.mxI("valueChange",function(p){return t.eBV(c),t.DH7(a.currentBankId,p)||(a.currentBankId=p),t.Njj(p)}),t.bIt("selectionChange",function(p){return t.eBV(c),t.Njj(a.selectBank(p.value))}),t.j41(36,"mat-option"),t.nrm(37,"ngx-mat-select-search",24),t.nI1(38,"mytranslate"),t.nI1(39,"mytranslate"),t.k0s(),t.DNE(40,K,2,2,"mat-option",25),t.k0s()(),t.DNE(41,Y,3,3,"div",20),t.k0s(),t.j41(42,"div",17)(43,"label",26),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s(),t.nrm(46,"input",27),t.DNE(47,V,3,3,"div",20),t.k0s(),t.j41(48,"div",28)(49,"h2",29),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s()(),t.j41(52,"div",17)(53,"label",30),t.EFF(54),t.nI1(55,"mytranslate"),t.k0s(),t.nrm(56,"input",31),t.DNE(57,J,3,3,"div",20),t.k0s(),t.j41(58,"div",17)(59,"label",32),t.EFF(60),t.nI1(61,"mytranslate"),t.k0s(),t.nrm(62,"input",33),t.DNE(63,H,3,3,"div",20),t.k0s(),t.j41(64,"div",17)(65,"label",34),t.EFF(66),t.nI1(67,"mytranslate"),t.k0s(),t.j41(68,"mat-form-field",35)(69,"input",36),t.nI1(70,"mytranslate"),t.bIt("click",function(){t.eBV(c);const p=t.sdS(74);return t.Njj(p.open())}),t.k0s(),t.j41(71,"button",37),t.bIt("click",function(p){return t.eBV(c),t.sdS(74).open(),t.Njj(p.stopPropagation())}),t.nrm(72,"lucide-icon",38),t.k0s(),t.j41(73,"ngx-mat-datetime-picker",39,1)(75,"ngx-mat-datepicker-actions")(76,"button",40),t.EFF(77,"OK"),t.k0s()()()()(),t.j41(78,"div",17)(79,"label",41),t.EFF(80),t.nI1(81,"mytranslate"),t.k0s(),t.j41(82,"mat-form-field",35)(83,"input",42),t.nI1(84,"mytranslate"),t.bIt("click",function(){t.eBV(c);const p=t.sdS(88);return t.Njj(p.open())}),t.k0s(),t.j41(85,"button",43),t.bIt("click",function(p){return t.eBV(c),t.sdS(88).open(),t.Njj(p.stopPropagation())}),t.nrm(86,"lucide-icon",38),t.k0s(),t.j41(87,"ngx-mat-datetime-picker",39,2)(89,"ngx-mat-datepicker-actions")(90,"button",40),t.EFF(91,"OK"),t.k0s()()()(),t.DNE(92,X,3,3,"div",20),t.nI1(93,"calcYearOldUser"),t.k0s(),t.j41(94,"div",17)(95,"label",44),t.EFF(96),t.nI1(97,"mytranslate"),t.k0s(),t.nrm(98,"input",45),t.DNE(99,Q,3,3,"div",20),t.k0s(),t.j41(100,"div",17)(101,"label",46),t.EFF(102),t.nI1(103,"mytranslate"),t.k0s(),t.nrm(104,"input",47),t.DNE(105,Z,3,3,"div",20),t.k0s(),t.j41(106,"div",17)(107,"div",48),t.nrm(108,"input",49),t.j41(109,"label",50),t.EFF(110),t.nI1(111,"mytranslate"),t.j41(112,"a",51),t.EFF(113),t.nI1(114,"mytranslate"),t.k0s(),t.EFF(115),t.nI1(116,"mytranslate"),t.nrm(117,"azt-download-link-item",52),t.nI1(118,"coreModConvertRawLinkOfGitHubWithLocale"),t.EFF(119),t.nI1(120,"mytranslate"),t.k0s()(),t.DNE(121,q,3,3,"div",20),t.k0s(),t.DNE(122,tt,8,9,"div",53),t.k0s(),t.j41(123,"div",54)(124,"div",55)(125,"h2",56),t.EFF(126),t.nI1(127,"mytranslate"),t.k0s()(),t.DNE(128,nt,2,1,"div",57),t.j41(129,"azt-upload-multiple-box",58),t.bIt("uploadComplete",function(p){return t.eBV(c),t.Njj(a.handleUploadComplete(p))}),t.DNE(130,rt,6,5,"div",59),t.k0s()(),t.DNE(131,ot,9,9,"div",60),t.k0s()()()()()()}if(2&l){const c=t.sdS(35),k=t.sdS(74),p=t.sdS(88);t.R7$(5),t.Lme("",t.bMT(6,59,"lang_test_market_balance"),"",t.bMT(7,61,a.totalBalance),"\u0111"),t.R7$(4),t.JRh(t.bMT(10,63,"lang_test_market_request_with_draw_notice")),t.R7$(4),t.SpI(" ",t.bMT(14,65,"lang_test_market_bank_information")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(111,x)),t.R7$(),t.SpI(" ",t.bMT(18,67,a.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),t.R7$(2),t.Y8G("formGroup",a.form),t.R7$(6),t.SpI(" ",t.bMT(26,69,"lang_test_market_bankHolder")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.accountNameControl.dirty&&a.form.controls.accountNameControl.errors),t.R7$(3),t.SpI(" ",t.bMT(32,71,"lang_test_market_bankName")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(112,W,a.form.controls.bankId.invalid)),t.R7$(),t.R50("value",a.currentBankId),t.R7$(3),t.FS9("placeholderLabel",t.bMT(38,73,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(39,75,"lang_search_not_found")),t.Y8G("formControl",c.searchControl),t.R7$(3),t.Y8G("ngForOf",c.filter(a.listBanks,"name")),t.R7$(),t.Y8G("ngIf",a.form.controls.bankId.dirty&&a.form.controls.bankId.errors),t.R7$(3),t.SpI(" ",t.bMT(45,77,"lang_test_market_bankNumber")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.bankNumber.dirty&&a.form.controls.bankNumber.errors),t.R7$(3),t.SpI(" ",t.bMT(51,79,"lang_test_market_personal_information")," "),t.R7$(4),t.SpI(" ",t.bMT(55,81,"lang_test_market_citizen_id")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.idCard.dirty&&a.form.controls.idCard.errors),t.R7$(3),t.SpI(" ",t.bMT(61,83,"lang_test_market_issued_by")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.idIssuedBy.dirty&&a.form.controls.idIssuedBy.errors),t.R7$(3),t.SpI(" ",t.bMT(67,85,"lang_test_market_issued_at")," "),t.R7$(3),t.FS9("placeholder",t.bMT(70,87,"lang_test_market_issued_at")),t.Y8G("max",a.maxDate)("ngxMatDatetimePicker",k),t.R7$(4),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(7),t.SpI(" ",t.bMT(81,89,"lang_auto_ngay_sinh")," "),t.R7$(3),t.FS9("placeholder",t.bMT(84,91,"lang_auto_ngay_sinh")),t.Y8G("max",a.maxDate)("ngxMatDatetimePicker",p),t.R7$(4),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(5),t.Y8G("ngIf",t.bMT(93,93,a.form.controls.birthday.value)<18),t.R7$(4),t.SpI(" ",t.bMT(97,95,"lang_number_phone")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.contactPhone.dirty&&a.form.controls.contactPhone.errors),t.R7$(3),t.SpI(" ",t.bMT(103,97,"lang_test_market_address")," "),t.R7$(3),t.Y8G("ngIf",a.form.controls.address.dirty&&a.form.controls.address.errors),t.R7$(5),t.SpI(" ",t.bMT(111,99,"lang_test_market_Azota_policy_1")," "),t.R7$(2),t.FS9("href","/"+a.getCurLang()+"/admin/test-market/privacy",t.B4B),t.R7$(),t.SpI(" ",t.bMT(114,101,"lang_test_market_Azota_policy_2")," "),t.R7$(2),t.SpI(" \xa0",t.bMT(116,103,"lang_auto_va"),"\xa0 "),t.R7$(2),t.Y8G("dataUrl",t.bMT(118,105,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),t.R7$(2),t.SpI(" ",t.bMT(120,107,"lang_test_market_Azota_policy_3")," "),t.R7$(2),t.Y8G("ngIf",(null==a.form.controls.acceptPolicy?null:a.form.controls.acceptPolicy.dirty)&&(null==a.form.controls.acceptPolicy?null:a.form.controls.acceptPolicy.errors)&&!(null!=a.form.controls.acceptPolicy&&a.form.controls.acceptPolicy.value)),t.R7$(),t.Y8G("ngIf",!a.isMobile),t.R7$(4),t.SpI(" ",t.bMT(127,109,"lang_test_market_upload_citizenID_images")," "),t.R7$(2),t.Y8G("ngIf",a.citizenIdImages.length>0),t.R7$(),t.Y8G("uploadToCdnMenu",a.allUploadToCdnMenuTypes.GET_PUBLIC_UPLOAD_URL_FOR_ID_NUMBER)("fileType",t.eq3(114,L,a.allUploadFileTypes.IMAGE)),t.R7$(),t.Y8G("ngIf",a.enableEditInfo),t.R7$(),t.Y8G("ngIf",a.isMobile)}},dependencies:[I.An,I.U9,h.x,v.W,R.V,C.MD,C.YU,C.Sq,C.bT,C.QX,n.X1,n.qT,n.me,n.Zm,n.BC,n.cb,n.l_,n.j4,n.JD,O.iI,n.YN,f.nf,f.wp,d.s,T.wT,F.$z,j.fg,z.rl,z.yw,A.VO,E.m7,E.yF,E.HF,E.Uq,B.flO,B.WGl,y.L,f.Kf,f.gs,s.Id,u.k,U.t],encapsulation:2}),_})()},83941:(S,w,o)=>{o.d(w,{d:()=>B,_:()=>O});var E=o(71217),C=o(17509),t=o(47947);class n{constructor(s,d,e,b,h=1,u=!1,f=!1,y,P){this.id=s,this.pr=d,this.type=e,this.item=b,this.level=h,this.expandable=u,this.isLoading=f,this.prNode=y,this.isLeaf=P}}var D=o(48891),T=o(74978);let O=(()=>{var I;class s{constructor(e){this.testMarketQuestionService=e,this.levelId=0,this.subjectId=0}initialData(e,b){return this.levelId=e,this.subjectId=b,new Promise(h=>{this.apiLeechData(void 0).then(u=>{h(u.map(f=>new n(f.id,f.pr,f.type,f.name,0,"cate"===f.type,!1,void 0,f.isLeaf)))})})}apiLeechData(e){return new Promise(b=>{const h=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,e).subscribe(u=>{1===u.success&&u.data&&(u.data.objs||[]).forEach(y=>{h.push({pr:e??0,id:y.id??0,name:y.name?`${y.name}`:"",type:"cate",isLeaf:y.isLeaf??!1})}),b(h)})})}}return(I=s).\u0275fac=function(e){return new(e||I)(D.KVO(T.e2))},I.\u0275prov=D.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),s})();class B{get data(){return this.dataChange.value}set data(s){this._treeControl.dataNodes=s,this.dataChange.next(s)}constructor(s,d){this._treeControl=s,this._database=d,this.dataChange=new E.t([])}connect(s){return this._treeControl.expansionModel.changed.subscribe(d=>{(d.added||d.removed)&&this.handleTreeControl(d)}),(0,C.h)(s.viewChange,this.dataChange).pipe((0,t.T)(()=>this.data))}getNode(s){let d=this.data.filter(e=>e.id==s);return d&&d.length>0?d[0]:null}disconnect(s){}handleTreeControl(s){s.added&&s.added.forEach(d=>this.toggleNode(d,!0)),s.removed&&s.removed.slice().reverse().forEach(d=>this.toggleNode(d,!1))}toggleNode(s,d){if("cate"!==s.type)return;const e=this.data.indexOf(s);if(d)s.isLoading=!0,this._database.apiLeechData(s.id).then(b=>{const h=b.map(u=>new n(u.id,u.pr,u.type,u.name,s.level+1,"cate"===u.type,!1,s,u.isLeaf));this.data.splice(e+1,0,...h),this.dataChange.next(this.data),s.isLoading=!1});else{let b=0;for(let h=e+1;h<this.data.length&&this.data[h].level>s.level;h++,b++);this.data.splice(e+1,b),this.dataChange.next(this.data)}}}},74175:(S,w,o)=>{o.d(w,{W:()=>N});var E=o(47947),C=o(59640),t=o(54460),n=o(10936),D=o(65162),T=o(47348),O=o(21656),B=o(15343),I=o(70050),s=o(5502),d=o(36894),e=o(48891),b=o(10296),h=o(543),u=o(27691);const f=["*","*"];function y(v,R){if(1&v){const m=e.RV6();e.qex(0),e.j41(1,"a",2),e.bIt("click",function(){e.eBV(m);const M=e.XpG();return e.Njj(M.shareFileToFlutter())}),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.SdG(5),e.k0s(),e.bVm()}if(2&v){const m=e.XpG();e.R7$(),e.Aen(m.style),e.HbH(m.classStyle),e.FS9("target",m.target),e.R7$(2),e.JRh(e.bMT(4,7,m.fileDescription))}}function P(v,R){if(1&v&&(e.j41(0,"a",3)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.SdG(4,1),e.k0s()),2&v){const m=e.XpG();e.Aen(m.style),e.HbH(m.classStyle),e.FS9("href",m.dataUrl,e.B4B),e.FS9("target",m.target),e.FS9("download",m.fileName),e.R7$(2),e.JRh(e.bMT(3,9,m.fileDescription))}}let N=(()=>{var v;class R extends C.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,E.T)(g=>g))}shareFileToFlutter(){this.downloadFile().subscribe(g=>{this.shareFileFlutterService.shareFileWithBlob(g,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(g,M,F){super(),this.shareFileFlutterService=g,this.commonService=M,this.http=F,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return(v=R).\u0275fac=function(g){return new(g||v)(e.rXU(b.R),e.rXU(h.R),e.rXU(u.Qq))},v.\u0275cmp=e.VBU({type:v,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:3,vars:2,consts:[["NormalWeb",""],[4,"ngIf","ngIfElse"],[3,"click","target"],[3,"href","target","download"]],template:function(g,M){if(1&g&&(e.NAR(f),e.DNE(0,y,6,9,"ng-container",1)(1,P,5,11,"ng-template",null,0,e.C5r)),2&g){const F=e.sdS(2);e.Y8G("ngIf",M.isMobileWebView)("ngIfElse",F)}},dependencies:[t.MD,t.bT,n.X1,D.iI,n.YN,T.wp,O.s,B.flO,I.L,s.Id,d.k],encapsulation:2}),R})()}}]);