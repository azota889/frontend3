"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[155],{16155:(Os,Ke,g)=>{g.r(Ke),g.d(Ke,{StudentFrontRoutingModule:()=>tC});var b=g(32108),zn=g(74341),Qt=g(5180),Qe=g(83835),j=g(69365),v=g(89242),w=g(49568),R=g(14417),B=g(82205),d=g(60177),c=g(89417),h=g(88048),S=g(72093),f=g(8516),x=g(23424),C=g(11782),y=g(9788),t=g(93953),Ln=g(31573);const ws=e=>({joinByTeacherPhoneOrEmail:e});function Fs(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",7)(1,"app-join-classroom-box",8),t.bIt("selectStudentEvent",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.selectStudentEvent(o))}),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("joinClassroomByType",t.eq3(1,ws,i.searchContentObj.searchContent))}}let Es=(()=>{var e;class a extends j.H{onSearchBox(n){this.searchContentObj=n}selectStudentEvent(n){this.localStorageObject.removeCacheByValue("FrontPageStudent"),this.localStorageObject.removeCacheByValue("GetExamObjsInDashboard"),this.localStorageObject.removeCacheByValue("GetClassroomInHomeworkObjsInDashboard"),this.commonService.myNavigation(this.backToParam)}ngOnInit(){super.ngOnInit(),this.backToParam=this.commonService.getMyQueryParam("backto")||this.backToParam,this.commonService.translateMetaData({title:"lang_cms_student_add_teacher_title",description:"lang_cms_student_add_teacher_description",image:"lang_cms_test_image"})}constructor(n){super(),this.localStorageObject=n,this.searchContentObj=new v.Z,this.backToParam="/student/classroom/0"}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Ln.G))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-add-teacher-for-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:15,consts:[[3,"headerBackToLink"],[1,"app","mx-auto","mt-8"],[1,"box","mt-3","p-3"],[1,"font-medium"],[1,"mt-2",2,"max-width","400px"],[3,"onSearch","isServerSearch","isManualSearch","searchContentObj","checkValidPhoneOrEmail","placeholder"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[3,"selectStudentEvent","joinClassroomByType"]],template:function(n,o){1&n&&(t.j41(0,"student-layout",0)(1,"div",1)(2,"div",2)(3,"div",3),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",4)(8,"azt-search-box",5),t.nI1(9,"mytranslate"),t.bIt("onSearch",function(r){return o.onSearchBox(r.searchObj)}),t.k0s()()(),t.DNE(10,Fs,2,3,"div",6),t.k0s()()),2&n&&(t.Y8G("headerBackToLink",o.backToParam),t.R7$(4),t.Lme("",t.bMT(5,9,"lang_cms_student_add_teacher_title"),": ",t.bMT(6,11,"lang_student_frontend_add_teacher_enter_email_or_phone_teacher"),""),t.R7$(4),t.Y8G("isServerSearch",!0)("isManualSearch",!0)("searchContentObj",o.searchContentObj)("checkValidPhoneOrEmail",!0)("placeholder",t.bMT(9,13,"lang_auto_email_hoac_so_dien_thoai")),t.R7$(2),t.Y8G("ngIf",o.searchContentObj.searchContent))},dependencies:[w.j,R.W,B.l,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var ce=g(84572);let It=(()=>{var e;class a{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(n){this.itemPerPage=n}setLoading(n){this.isLoadingNextPage=n}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(n){return this.totalRecord=n,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:null}),a})();var X=g(25244),Fe=g(53470),jt=g(14585),me=g(95287),V=g(32909),Wi=g(14206),et=g(14823);const Ds=()=>({"text-pending":!0});function Rs(e,a){1&e&&t.nrm(0,"lucide-icon",15)}function Ms(e,a){1&e&&t.nrm(0,"lucide-icon",16),2&e&&t.Y8G("ngClass",t.lJ4(1,Ds))}function Ns(e,a){1&e&&(t.j41(0,"span",17),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",18),t.k0s()),2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_student_dashboard_exam_private_assigned"))}function Gs(e,a){if(1&e&&(t.j41(0,"div",19),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nrm(3,"azt-create-avatar",20),t.k0s()),2&e){const i=t.XpG(2);t.FCK("matTooltip","",1==i.data.teacherObj.gender?t.bMT(1,7,"lang_auto_thay"):t.bMT(2,9,"lang_auto_co_giao")+" "," ",i.data.teacherObj.fullName,""),t.R7$(3),t.Y8G("nameCreateAvatar",i.data.teacherObj.fullName)("size",25)("showTooltip",!1)("linkAvatar",i.data.teacherObj.avatar)}}function $s(e,a){if(1&e&&(t.j41(0,"span",23),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.Lme("",i.data.attended," ",t.bMT(2,2,"lang_auto_luot_lam_de"),"")}}function zs(e,a){if(1&e&&(t.j41(0,"div",21),t.DNE(1,$s,3,4,"span",22),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",null!=i.data.attended)}}function Ls(e,a){if(1&e&&(t.j41(0,"span")(1,"span",24),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-check-mark",25),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),": "),t.R7$(2),t.Y8G("mark",t.bMT(5,4,i.checkShowPoint(i.data).toString()))}}function As(e,a){if(1&e&&(t.j41(0,"span")(1,"span",24),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"span",26),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()),2&e){const i=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),": "),t.R7$(3),t.JRh(t.bMT(6,4,i.checkShowPoint(i.data).toString()))}}function Ps(e,a){if(1&e&&(t.j41(0,"span"),t.DNE(1,Ls,6,6,"span",12),t.nI1(2,"isOnlyTrueFalse"),t.DNE(3,As,7,6,"span",12),t.nI1(4,"hasEssayInExam"),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",t.bMT(2,2,i.data)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,4,i.data))}}function Ys(e,a){1&e&&(t.j41(0,"span")(1,"span",24),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"span",27),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),": "),t.R7$(3),t.JRh(t.bMT(6,4,"lang_auto_chua_thi")))}function Vs(e,a){if(1&e&&(t.j41(0,"h3",28),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",29),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&e){const i=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,4,"lang_auto_thoi_gian_vao_thi"),":\xa0 "),t.R7$(2),t.Y8G("ngClass",-1==i.calculatorTime(i.data.startTime)?"text-danger":i.calculatorTime(i.data.startTime)<=1*i.secondOfDay&&i.calculatorTime(i.data.startTime)>0?"text-warning":""),t.R7$(),t.Lme(" ",t.bMT(5,6,i.data.startTime)," -> ",t.bMT(6,8,i.data.endTime)," ")}}function Bs(e,a){if(1&e&&(t.j41(0,"h3",30),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",-1==i.calculatorTime(i.data.endTime)?"text-danger":i.calculatorTime(i.data.endTime)<=1*i.secondOfDay&&i.calculatorTime(i.data.endTime)>0?"text-warning":""),t.R7$(),t.SpI(" ",t.bMT(2,3,"lang_auto_thi_truoc_luc"),":\xa0 "),t.R7$(3),t.JRh(t.bMT(5,5,i.data.endTime))}}function Xs(e,a){if(1&e&&(t.j41(0,"h3",30),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",-1==i.calculatorTime(i.data.startTime)?"text-danger":i.calculatorTime(i.data.startTime)<=1*i.secondOfDay&&i.calculatorTime(i.data.startTime)>0?"text-warning":""),t.R7$(),t.SpI(" ",t.bMT(2,3,"lang_auto_thoi_gian_vao_thi"),":\xa0 "),t.R7$(3),t.JRh(t.bMT(5,5,i.data.startTime))}}function Us(e,a){1&e&&(t.j41(0,"h3",28),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_thoi_gian_vao_thi"),":\xa0 "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_auto_khong_thoi_han")))}function Hs(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2),t.DNE(2,Rs,1,0,"lucide-icon",3),t.nI1(3,"isCapacityExam"),t.DNE(4,Ms,1,2,"lucide-icon",4),t.nI1(5,"isCapacityExam"),t.k0s(),t.j41(6,"div",5)(7,"div",6)(8,"p",7),t.EFF(9),t.k0s(),t.DNE(10,Ns,3,3,"span",8),t.k0s(),t.DNE(11,Gs,4,11,"div",9)(12,zs,2,1,"div",10),t.j41(13,"div",11),t.DNE(14,Ps,5,6,"span",12)(15,Ys,7,6,"span",12),t.k0s(),t.j41(16,"div",11),t.DNE(17,Vs,7,10,"h3",13)(18,Bs,6,7,"h3",14)(19,Xs,6,7,"h3",14)(20,Us,6,6,"h3",13),t.k0s()()()),2&e){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",t.bMT(3,16,i.data)),t.R7$(2),t.Y8G("ngIf",!t.bMT(5,18,i.data)),t.R7$(2),t.Y8G("ngClass",i.isMobileDevice?"style-mobile":"w-full"),t.R7$(),t.Y8G("ngClass",i.isMobileDevice?"justify-between":""),t.R7$(),t.FS9("matTooltip",i.data.name),t.Y8G("ngClass",i.isMobileDevice?"box-lable-mobile":"truncate text-exam"),t.R7$(),t.SpI(" ",i.data.name," "),t.R7$(),t.Y8G("ngIf",i.data.privateAssigned),t.R7$(),t.Y8G("ngIf",i.data.teacherObj),t.R7$(),t.Y8G("ngIf",0===i.type),t.R7$(2),t.Y8G("ngIf",null!=i.data.examResultObj),t.R7$(),t.Y8G("ngIf",!i.data.examResultObj),t.R7$(2),t.Y8G("ngIf",i.data.startTime&&i.data.endTime),t.R7$(),t.Y8G("ngIf",!i.data.startTime&&i.data.endTime),t.R7$(),t.Y8G("ngIf",i.data.startTime&&!i.data.endTime),t.R7$(),t.Y8G("ngIf",!i.data.startTime&&!i.data.endTime)}}let An=(()=>{var e;class a extends j.H{calculatorTime(n){return this.timeService.calculationHomeworkTimeWithZeroSecond(n)}checkShowPoint(n){let o=this.commonService.myTranslateInstant("lang_auto_chua_duoc_xem")??"",s=this.commonService.myTranslateInstant("lang_auto_chua_cham")??"",r=this.commonService.myTranslateInstant("lang_auto_chua_co_diem")??"";return n.whenShowResult&&2==n.whenShowResult?o:this.homeworkExamService.isOnlyEssay(n)?n.examResultObj?.confirmedAt?null!=n.examResultObj?.mark&&n.examResultObj?.mark>=0?n.examResultObj?.mark:r:s:null!=n.examResultObj?.mark&&n.examResultObj?.mark>=0?n.examResultObj?.mark:r}ngOnInit(){super.ngOnInit()}constructor(n,o){super(),this.timeService=n,this.homeworkExamService=o,this.type=1,this.secondOfDay=86400}ngOnDestroy(){super.ngOnDestroy()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(V.F),t.rXU(Wi.Z))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-block-exam"]],inputs:{data:"data",type:"type"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","box p-3 flex items-center bg-slate-200 dark:bg-darkmode-400","style","min-height: 95px; overflow: hidden",4,"ngIf"],[1,"box","p-3","flex","items-center","bg-slate-200","dark:bg-darkmode-400",2,"min-height","95px","overflow","hidden"],[1,"file"],["name","clipboard-check","size","48","class","text-primary",4,"ngIf"],["name","file-check","size","48",3,"ngClass",4,"ngIf"],[1,"ml-4",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"font-medium","mr-3","text-slate-800","dark:text-slate-300",3,"ngClass","matTooltip"],["class","inline-block mr-2",3,"matTooltip",4,"ngIf"],["class","block-avatar-share mt-1 w-24",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-1",4,"ngIf"],[1,"text-slate-500","text-xs","mt-1",2,"width","80%"],[4,"ngIf"],["class","content-deadline",4,"ngIf"],["class","content-deadline",3,"ngClass",4,"ngIf"],["name","clipboard-check","size","48",1,"text-primary"],["name","file-check","size","48",3,"ngClass"],[1,"inline-block","mr-2",3,"matTooltip"],["name","sparkles","size","20"],[1,"block-avatar-share","mt-1","w-24",3,"matTooltip"],[2,"cursor","pointer",3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"text-slate-500","text-xs","mt-1"],["class","text-count",4,"ngIf"],[1,"text-count"],[1,"text-mark","mb-0"],[1,"font-bold",3,"mark"],[1,"font-bold"],[1,"text-danger","font-bold"],[1,"content-deadline"],[3,"ngClass"],[1,"content-deadline",3,"ngClass"]],template:function(n,o){1&n&&t.DNE(0,Hs,21,20,"div",0),2&n&&t.Y8G("ngIf",o.data)},dependencies:[jt.p,me.D,d.MD,d.YU,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,h.PP,h.Nn,h.bH,h.Xc,C.Id,y.k],styles:[".box-lable-mobile[_ngcontent-%COMP%]{width:max-content}.style-mobile[_ngcontent-%COMP%]{width:calc(100% - 65px)}.text-exam[_ngcontent-%COMP%]{max-width:calc(100% - 100px)}"]}),a})();function Js(e,a){if(1&e&&(t.j41(0,"div",14),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nrm(3,"azt-create-avatar",15),t.k0s()),2&e){const i=t.XpG(2);t.FCK("matTooltip","",1==i.data.teacherObj.gender?t.bMT(1,7,"lang_auto_thay"):t.bMT(2,9,"lang_auto_co_giao")+" "," ",i.data.teacherObj.fullName,""),t.R7$(3),t.Y8G("nameCreateAvatar",i.data.teacherObj.fullName)("size",25)("showTooltip",!1)("linkAvatar",i.data.teacherObj.avatar)}}function qs(e,a){if(1&e&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",16),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&e){const i=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_bat_dau"),": "),t.R7$(3),t.JRh(t.bMT(5,4,i.data.startDate))}}function Ws(e,a){if(1&e&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.JRh(t.bMT(2,1,i.data.deadline))}}function Zs(e,a){if(1&e&&(t.j41(0,"span",20),t.EFF(1),t.nI1(2,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(3,"mytranslate"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.E5c("",t.bMT(2,3,i.data.deadline),"\xa0",t.bMT(3,5,"lang_auto_-_con"),"\xa0",i.convertSecondToHour(i.calculatorTime(i.data.deadline)),"")}}function Ks(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.JRh(t.bMT(2,1,i.data.deadline))}}function Qs(e,a){if(1&e&&(t.j41(0,"span",16),t.DNE(1,Ws,3,3,"span",17)(2,Zs,4,7,"span",18)(3,Ks,3,3,"span",12),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",-1==i.calculatorTime(i.data.deadline)),t.R7$(),t.Y8G("ngIf",i.calculatorTime(i.data.deadline)<=1*i.secondOfDay&&i.calculatorTime(i.data.deadline)>0),t.R7$(),t.Y8G("ngIf",i.calculatorTime(null==i.data?null:i.data.deadline)>1*i.secondOfDay)}}function tr(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_khong_thoi_han")))}function er(e,a){if(1&e&&(t.j41(0,"div",21)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",19)(5,"b"),t.EFF(6),t.k0s()()()),2&e){const i=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_ly_do"),": "),t.R7$(4),t.JRh(i.data.answerHistoryObj.resendNote)}}function nr(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"span",3),t.nrm(3,"azt-check-mark",4),t.nI1(4,"showMarkHomework"),t.k0s()(),t.j41(5,"div",5)(6,"div",6)(7,"p",7),t.EFF(8),t.k0s()(),t.DNE(9,Js,4,11,"div",8)(10,qs,6,6,"div",9),t.j41(11,"div",10),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,Qs,4,3,"span",11)(15,tr,3,3,"span",12),t.k0s(),t.DNE(16,er,7,4,"div",13),t.k0s()()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngClass",null==i.data.answerHistoryObj&&null==i.data.answerObj?" bg-slate-300 dark:bg-darkmode-600":"text-white"),t.R7$(2),t.Y8G("mark",t.bMT(4,10,i.data)),t.R7$(4),t.FS9("matTooltip",i.data.name),t.R7$(),t.SpI(" ",i.data.name," "),t.R7$(),t.Y8G("ngIf",i.data.teacherObj),t.R7$(),t.Y8G("ngIf",null==i.data?null:i.data.startDate),t.R7$(2),t.SpI(" ",t.bMT(13,12,"lang_auto_han_cuoi"),": "),t.R7$(2),t.Y8G("ngIf",null==i.data?null:i.data.deadline),t.R7$(),t.Y8G("ngIf",!(null!=i.data&&i.data.deadline)),t.R7$(),t.Y8G("ngIf",null!=i.data.answerHistoryObj&&null==(null==i.data?null:i.data.answerObj))}}let Pn=(()=>{var e;class a extends j.H{calculatorTime(n){return this.timeService.calculationHomeworkTimeWithZeroSecond(n??"")}convertSecondToHour(n){return this.timeService.convertHMS(n)}constructor(n){super(),this.timeService=n,this.secondOfDay=86400}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(V.F))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-block-homework"]],inputs:{data:"data"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","box flex items-center bg-slate-200 dark:bg-darkmode-400 overflow-x-auto","style","min-height: 95px;",4,"ngIf"],[1,"box","flex","items-center","bg-slate-200","dark:bg-darkmode-400","overflow-x-auto",2,"min-height","95px"],[1,"bg-primary","dark:text-slate-300","flex","items-center","justify-center","flex-none",2,"min-height","95px","width","90px","padding","5px",3,"ngClass"],[1,"font-medium"],[3,"mark"],[1,"ml-4","w-full"],[1,"flex","items-center"],[1,"truncate","font-medium","mr-3","text-slate-800","dark:text-slate-300",2,"max-width","60%",3,"matTooltip"],["class","block-avatar-share mt-1 w-24",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-1",4,"ngIf"],[1,"text-slate-500","text-xs","mt-1"],["class","ml-1",4,"ngIf"],[4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],[1,"block-avatar-share","mt-1","w-24",3,"matTooltip"],[2,"cursor","pointer",3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"ml-1"],["class","text-danger",4,"ngIf"],["class","text-warning",4,"ngIf"],[1,"text-danger"],[1,"text-warning"],[1,"text-slate-500","text-xs","mt-0.5"]],template:function(n,o){1&n&&t.DNE(0,nr,17,14,"div",0),2&n&&t.Y8G("ngIf",o.data)},dependencies:[me.D,jt.p,d.MD,d.YU,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,x.L,h.q5,h.bH,C.Id,y.k],encapsulation:2}),a})();var N=g(30665),tn=g(31105);const ir=()=>({"mr-2":!0}),Zi=e=>({"mt-3 inline-block w-full":e}),Ki=e=>[e],Qi=e=>({backto:e});function or(e,a){1&e&&(t.j41(0,"h2",13),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function ar(e,a){1&e&&(t.j41(0,"h2",13),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_search_results")))}function sr(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.backToDocumentList())}),t.nrm(1,"lucide-icon",15),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,ir)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_quay_lai")))}function rr(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",16),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function lr(e,a){if(1&e&&(t.qex(0),t.j41(1,"a",27),t.nI1(2,"navigationLocalize"),t.nrm(3,"azt-block-homework",28),t.k0s(),t.bVm()),2&e){const i=t.XpG(),n=i.$implicit,o=i.index,s=t.XpG(5);t.R7$(),t.Y8G("ngClass",t.eq3(6,Zi,0!==o))("routerLink",t.eq3(8,Ki,t.bMT(2,4,"/bai-tap/"+n.homework.hashId)))("queryParams",t.eq3(10,Qi,"/student/classroom-details/"+s.classroomId+"/1")),t.R7$(2),t.Y8G("data",n.homework)}}function cr(e,a){if(1&e&&(t.j41(0,"a",29),t.nI1(1,"navigationLocalize"),t.nrm(2,"azt-block-exam",28),t.k0s()),2&e){const i=t.XpG(),n=i.$implicit,o=i.index,s=t.XpG(5);t.Y8G("ngClass",t.eq3(6,Zi,0!==o))("routerLink",t.eq3(8,Ki,t.bMT(1,4,"/de-thi/"+(null==n.exam?null:n.exam.hashId))))("queryParams",t.eq3(10,Qi,"/student/classroom-details/"+s.classroomId+"/1")),t.R7$(2),t.Y8G("data",n.exam)}}function mr(e,a){if(1&e&&(t.j41(0,"div",26),t.DNE(1,lr,4,12,"ng-container",17)(2,cr,3,12,"ng-template",null,2,t.C5r),t.k0s()),2&e){const i=a.$implicit,n=t.sdS(3);t.R7$(),t.Y8G("ngIf",i.homework)("ngIfElse",n)}}function dr(e,a){if(1&e&&(t.j41(0,"div",24),t.DNE(1,mr,4,2,"div",25),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.documentList)}}function _r(e,a){if(1&e){const i=t.RV6();t.j41(0,"div")(1,"div")(2,"button",20),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.isExpand=!o.isExpand)}),t.nrm(3,"lucide-icon",21),t.j41(4,"span",22),t.EFF(5),t.nI1(6,"getDayOfWeek"),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,dr,2,1,"div",23),t.k0s()}if(2&e){const i=a.$implicit;t.R7$(3),t.FS9("name",i.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(7,5,t.bMT(6,3,i.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,i.assignmentDate)),t.R7$(5),t.Y8G("ngIf",i.isExpand)}}function ur(e,a){1&e&&t.nrm(0,"azt-loading-ui",33)}function pr(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",30)(1,"span",31),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(!o.sAztNextPaginationService.isLoadingNextPage&&o.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,ur,1,0,"azt-loading-ui",32),t.k0s()()}if(2&e){const i=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",i.sAztNextPaginationService.isLoadingNextPage)}}function gr(e,a){if(1&e&&(t.qex(0),t.DNE(1,_r,11,11,"div",18)(2,pr,5,4,"div",19),t.bVm()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.listGroupDocumentObjs),t.R7$(),t.Y8G("ngIf",i.sAztNextPaginationService.hasNextPage)}}function hr(e,a){1&e&&(t.j41(0,"div",34)(1,"div",35),t.nrm(2,"azt-svg-icon",36),t.j41(3,"p",37),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(2),t.Y8G("size",82),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function fr(e,a){if(1&e&&(t.j41(0,"div",11),t.DNE(1,gr,3,2,"ng-container",17)(2,hr,6,4,"ng-template",null,1,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG();t.R7$(),t.Y8G("ngIf",n.listGroupDocumentObjs.length>0)("ngIfElse",i)}}let br=(()=>{var e;class a extends j.H{backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(n){this.searchContentObj=n,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let o={categoryId:void 0,documentType:"file",shareType:void 0,fileType:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent;const s=this.classroomId?this.documentService.apiDocumentsStudentsGet(o.classroomId,o.name,void 0,void 0,o.page,o.itemPerPage):this.documentService.apiDocumentsStudentsFreeExamsGet(o.name,void 0,o.page,o.itemPerPage);this.waitDestroy(s.subscribe(r=>{r.success?(this.listDocumentObjs=this.listDocumentObjs.concat(r.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(r.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(r.message,!0))}))}processData(n){let o=this.commonService.arrayToDictionary(n,r=>r.exam?new Date(r.exam.createdAt??0).toDateString():new Date(r?.homework?.createdAt??0).toDateString()),s=[];Object.entries(o).forEach(([r,l],m)=>{if(l.length>0){let _=l[0];const u={isExpand:!0,assignmentDate:_.exam?_.exam.createdAt:_.homework?.createdAt,documentList:l};u.assignmentDate&&s.push(u)}}),this.listGroupDocumentObjs=s}resetData(){this.listDocumentObjs=[]}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")??0),this.getData(!1)}constructor(n,o,s,r){super(),this.documentService=n,this.activeRoute=o,this.timeService=s,this.sAztNextPaginationService=r,this.classroomId=0,this.isShowSearchResult=!1,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.searchContentObj=new v.Z}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Fe.DK),t.rXU(b.nX),t.rXU(V.F),t.rXU(It))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-exam-exercises-student-tqb"]],inputs:{classroomId:"classroomId"},standalone:!0,features:[t.Jv_([It]),t.Vt3,t.aNF],decls:14,vars:10,consts:[["doneLoadingSearch",""],["emptyList",""],["isExamDocument",""],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"col-span-12","flex","items-center"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",3,"ngClass"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["azt-track-service","exam-exercise-student-oV-sj6FCG",3,"ngClass","routerLink","queryParams"],[3,"data"],["azt-track-service","exam-exercise-student-BcBq19lBDf",3,"ngClass","routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"azt-search-box",7),t.nI1(5,"mytranslate"),t.bIt("onSearch",function(l){return t.eBV(s),t.Njj(o.searchDocumentObjs(l.searchObj))}),t.k0s()()()(),t.j41(6,"div",8),t.DNE(7,or,3,3,"h2",9)(8,ar,3,3,"h2",9)(9,sr,5,5,"button",10),t.k0s(),t.j41(10,"div",11),t.DNE(11,rr,1,1,"azt-loading-effect",12),t.k0s(),t.DNE(12,fr,4,2,"ng-template",null,0,t.C5r),t.k0s()}if(2&n){const s=t.sdS(13);t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(5,8,"lang_auto_tim_kiem"))("searchContentObj",o.searchContentObj),t.R7$(3),t.Y8G("ngIf",!o.isShowSearchResult),t.R7$(),t.Y8G("ngIf",o.isShowSearchResult),t.R7$(),t.Y8G("ngIf",o.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",o.searchContentObj.isLoading)("ngIfElse",s)}},dependencies:[R.W,X.K,Pn,An,N.R,tn.m,h.F2,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,b.Wk,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,h.vv,h.hZ,C.Id,y.k],encapsulation:2}),a})();var de=g(27468),Yn=g(19828),Ot=g(58907);const Vn=e=>({"mt-3":e}),en=e=>({"mt-3 inline-block w-full":e}),_e=e=>[e],ue=e=>({backto:e});function vr(e,a){if(1&e&&(t.j41(0,"div",10)(1,"a",11),t.nI1(2,"navigationLocalize"),t.nrm(3,"azt-block-exam",12),t.k0s()()),2&e){const i=a.$implicit,n=a.index,o=t.XpG(2);t.Y8G("id","exam_todo_"+(null==i.exam?null:i.exam.id))("ngClass",t.eq3(8,Vn,0!==n)),t.R7$(),t.Y8G("ngClass",t.eq3(10,en,0!==n))("routerLink",t.eq3(12,_e,t.bMT(2,6,"/de-thi/"+(null==i.exam?null:i.exam.hashId))))("queryParams",t.eq3(14,ue,"/student/classroom-details/"+o.classroomId+"/1")),t.R7$(2),t.Y8G("data",i.exam)}}function kr(e,a){1&e&&t.nrm(0,"lucide-icon",18)}function Tr(e,a){1&e&&t.nrm(0,"azt-loading-ui",19),2&e&&t.Y8G("size",16)}function Cr(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",13)(1,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.loadMore("exam"))}),t.DNE(2,kr,1,0,"lucide-icon",15)(3,Tr,1,1,"azt-loading-ui",16),t.j41(4,"span",17),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&e){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!i.dashboardDocument.exam.loading),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.exam.loading),t.R7$(2),t.JRh(t.bMT(6,3,"lang_auto_xem_them"))}}function xr(e,a){if(1&e&&(t.j41(0,"div",10)(1,"a",20),t.nI1(2,"navigationLocalize"),t.nrm(3,"azt-block-homework",12),t.k0s()()),2&e){const i=a.$implicit,n=a.index,o=t.XpG(2);t.Y8G("id","homework_todo_"+(null==i.homework?null:i.homework.id))("ngClass",t.eq3(8,Vn,0!==n)),t.R7$(),t.Y8G("ngClass",t.eq3(10,en,0!==n))("routerLink",t.eq3(12,_e,t.bMT(2,6,"/bai-tap/"+(null==i.homework?null:i.homework.hashId))))("queryParams",t.eq3(14,ue,"/student/classroom-details/"+o.classroomId+"/1")),t.R7$(2),t.Y8G("data",i.homework)}}function yr(e,a){1&e&&t.nrm(0,"lucide-icon",18)}function Sr(e,a){1&e&&t.nrm(0,"azt-loading-ui",19),2&e&&t.Y8G("size",16)}function Ir(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",13)(1,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.loadMore("homework"))}),t.DNE(2,yr,1,0,"lucide-icon",15)(3,Sr,1,1,"azt-loading-ui",16),t.j41(4,"span",17),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&e){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!i.dashboardDocument.homework.loading),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.homework.loading),t.R7$(2),t.JRh(t.bMT(6,3,"lang_auto_xem_them"))}}function jr(e,a){if(1&e&&(t.j41(0,"div",10)(1,"a",21),t.nI1(2,"navigationLocalize"),t.nrm(3,"azt-block-exam",12),t.k0s(),t.j41(4,"a",22),t.nI1(5,"navigationLocalize"),t.nrm(6,"azt-block-homework",12),t.k0s()()),2&e){const i=a.$implicit,n=a.index,o=t.XpG(2);t.Y8G("id","history_"+(i.homework?i.homework.id:null==i.exam?null:i.exam.id))("ngClass",t.eq3(14,Vn,0!==n)),t.R7$(),t.Y8G("ngClass",t.eq3(16,en,0!==n))("routerLink",t.eq3(18,_e,t.bMT(2,10,"/de-thi/"+(null==i.exam?null:i.exam.hashId))))("queryParams",t.eq3(20,ue,"/student/classroom-details/"+o.classroomId+"/1")),t.R7$(2),t.Y8G("data",i.exam),t.R7$(),t.Y8G("ngClass",t.eq3(22,en,0!==n))("routerLink",t.eq3(24,_e,t.bMT(5,12,"/bai-tap/"+(null==i.homework?null:i.homework.hashId))))("queryParams",t.eq3(26,ue,"/student/classroom-details/"+o.classroomId+"/1")),t.R7$(2),t.Y8G("data",i.homework)}}function Or(e,a){1&e&&t.nrm(0,"lucide-icon",18)}function wr(e,a){1&e&&t.nrm(0,"azt-loading-ui",19),2&e&&t.Y8G("size",16)}function Fr(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",13)(1,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.loadMore("history"))}),t.DNE(2,Or,1,0,"lucide-icon",15)(3,wr,1,1,"azt-loading-ui",16),t.j41(4,"span",17),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&e){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!i.dashboardDocument.history.loading),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.history.loading),t.R7$(2),t.JRh(t.bMT(6,3,"lang_auto_xem_them"))}}function Er(e,a){if(1&e&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",7),t.DNE(7,vr,4,16,"div",8)(8,Cr,7,5,"div",9),t.k0s()(),t.j41(9,"div",4)(10,"div",5)(11,"div",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"div",7),t.DNE(15,xr,4,16,"div",8)(16,Ir,7,5,"div",9),t.k0s()(),t.j41(17,"div",4)(18,"div",5)(19,"div",6),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()(),t.j41(22,"div",7),t.DNE(23,jr,7,28,"div",8)(24,Fr,7,5,"div",9),t.k0s()()()),2&e){const i=t.XpG();t.R7$(4),t.JRh(t.bMT(5,9,"lang_azt_the_exam_is_not_completed_yet")+" ("+i.dashboardDocument.exam.total+")"),t.R7$(3),t.Y8G("ngForOf",i.dashboardDocument.exam.documentList),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.exam.documentList.length<i.dashboardDocument.exam.total),t.R7$(4),t.JRh(t.bMT(13,11,"lang_azt_unfinished_homework")+" ("+i.dashboardDocument.homework.total+")"),t.R7$(3),t.Y8G("ngForOf",i.dashboardDocument.homework.documentList),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.homework.documentList.length<i.dashboardDocument.homework.total),t.R7$(4),t.JRh(t.bMT(21,13,"lang_azt_recent_exam_submission_history")),t.R7$(3),t.Y8G("ngForOf",i.dashboardDocument.history.documentList),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.history.documentList.length<i.dashboardDocument.history.total)}}function Dr(e,a){if(1&e&&(t.j41(0,"div",26)(1,"a",27),t.nI1(2,"navigationLocalize"),t.nrm(3,"azt-block-exam",12),t.k0s(),t.j41(4,"a",28),t.nI1(5,"navigationLocalize"),t.nrm(6,"azt-block-homework",12),t.k0s()()),2&e){const i=a.$implicit,n=t.XpG(2);t.Y8G("id","history_"+(i.homework?i.homework.id:null==i.exam?null:i.exam.id)),t.R7$(),t.Y8G("routerLink",t.eq3(11,_e,t.bMT(2,7,"/de-thi/"+(null==i.exam?null:i.exam.hashId))))("queryParams",t.eq3(13,ue,"/student/classroom-details/"+n.classroomId+"/1")),t.R7$(2),t.Y8G("data",i.exam),t.R7$(),t.Y8G("routerLink",t.eq3(15,_e,t.bMT(5,9,"/bai-tap/"+(null==i.homework?null:i.homework.hashId))))("queryParams",t.eq3(17,ue,"/student/classroom-details/"+n.classroomId+"/1")),t.R7$(2),t.Y8G("data",i.homework)}}function Rr(e,a){1&e&&t.nrm(0,"lucide-icon",18)}function Mr(e,a){1&e&&t.nrm(0,"azt-loading-ui",19),2&e&&t.Y8G("size",16)}function Nr(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",29)(1,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.loadMore("history"))}),t.DNE(2,Rr,1,0,"lucide-icon",15)(3,Mr,1,1,"azt-loading-ui",16),t.j41(4,"span",17),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&e){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!i.dashboardDocument.history.loading),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.history.loading),t.R7$(2),t.JRh(t.bMT(6,3,"lang_auto_xem_them"))}}function Gr(e,a){if(1&e&&(t.j41(0,"div",3)(1,"div",23)(2,"div",5)(3,"div",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()(),t.DNE(6,Dr,7,19,"div",24)(7,Nr,7,5,"div",25),t.k0s()),2&e){const i=t.XpG();t.R7$(4),t.JRh(t.bMT(5,3,"lang_azt_recent_exam_submission_history")),t.R7$(2),t.Y8G("ngForOf",i.dashboardDocument.history.documentList),t.R7$(),t.Y8G("ngIf",i.dashboardDocument.history.documentList.length<i.dashboardDocument.history.total)}}let $r=(()=>{var e;class a extends j.H{onSearchBox(n){this.searchContentObj=n,this.callMultipleApi()}loadMore(n){const o=this.dashboardDocument[n];o.documentList.length>=o.total||(o.page++,o.loading=!0,(this.classroomId?this.documentService.apiDocumentsStudentsGet(this.classroomId,void 0,"history"===n?1:0,"exam"===n?"ex":"homework"===n?"hw":void 0,o.page,o.itemPerPage):this.documentService.apiDocumentsStudentsFreeExamsGet(this.searchContentObj.searchContent,void 0,this.dashboardDocument.history.page,this.size)).subscribe({next:r=>{o.documentList=[...o.documentList,...r.data?.documentObjs??[]],o.loading=!1},error:()=>{this.errorStatusObj(`An error occurred while loading more ${n}`)}}))}callMultipleApi(n){this.initStatusObj();const o=this.classroomId?this.documentService.apiDocumentsStudentsGet(this.classroomId,this.searchContentObj.searchContent,1,void 0,this.dashboardDocument.history.page,this.size):this.documentService.apiDocumentsStudentsFreeExamsGet(this.searchContentObj.searchContent,void 0,this.dashboardDocument.history.page,this.size);(0,de.p)({examResponse:this.documentService.apiDocumentsStudentsGet(this.classroomId,this.searchContentObj.searchContent,0,"ex",this.dashboardDocument.exam.page,this.size),homeworkResponse:this.documentService.apiDocumentsStudentsGet(this.classroomId,this.searchContentObj.searchContent,0,"hw",this.dashboardDocument.homework.page,this.size),historyResponse:o}).subscribe({next:({examResponse:s,homeworkResponse:r,historyResponse:l})=>{this.dashboardDocument.exam.documentList=s.data?.documentObjs??[],this.dashboardDocument.exam.total=s.data?.total??0,this.dashboardDocument.homework.documentList=r.data?.documentObjs??[],this.dashboardDocument.homework.total=r.data?.total??0,this.dashboardDocument.history.documentList=l.data?.documentObjs??[],this.dashboardDocument.history.total=l.data?.total??0,this.successStatusObj()},error:()=>{this.errorStatusObj("An error occurred during the API calls")}})}ngOnInit(){super.ngOnInit(),this.callMultipleApi()}constructor(n,o,s,r){super(),this.documentService=n,this.homeworkExamService=o,this.mobileWebviewService=s,this.userInfoService=r,this.classroomId=0,this.size=5,this.searchContentObj=new v.Z,this.size=this.classroomId?5:6,this.dashboardDocument={exam:{documentList:[],page:1,itemPerPage:this.size,total:0},homework:{documentList:[],page:1,itemPerPage:this.size,total:0},history:{documentList:[],page:1,itemPerPage:this.size,total:0}}}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Fe.DK),t.rXU(Wi.Z),t.rXU(Yn.f),t.rXU(Ot.fv))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-exam-exercises-student-column"]],inputs:{classroomId:"classroomId"},standalone:!0,features:[t.Jv_([It]),t.Vt3,t.aNF],decls:5,vars:6,consts:[[1,"w-64","mt-5","mr-auto"],[3,"onSearch","isServerSearch","placeholder"],["class","grid grid-cols-12 gap-5 mt-5 mx-auto","style","margin-bottom: 100px",4,"ngIf"],[1,"grid","grid-cols-12","gap-5","mt-5","mx-auto",2,"margin-bottom","100px"],[1,"col-span-12","md:col-span-6","lg:col-span-4"],[1,"flex","items-center"],[1,"font-medium","text-base"],[1,"mt-5"],[3,"id","ngClass",4,"ngFor","ngForOf"],["class","mt-3 text-center",4,"ngIf"],[3,"id","ngClass"],["azt-track-service","exam-exercise-student-BcBq19lBDf",3,"ngClass","routerLink","queryParams"],[3,"data"],[1,"mt-3","text-center"],[1,"btn","btn-outline-primary","btn-transparent",3,"click"],["name","chevron-down","size","16",4,"ngIf"],[3,"size",4,"ngIf"],[1,"ml-2"],["name","chevron-down","size","16"],[3,"size"],["azt-track-service","exam-exercise-student-oV-sj6FCG",3,"ngClass","routerLink","queryParams"],["v-if","history.exam","azt-track-service","exam-exercise-student-BcBq19lBDf",3,"ngClass","routerLink","queryParams"],["v-else-if","history.homework","azt-track-service","exam-exercise-student-oV-sj6FCG",3,"ngClass","routerLink","queryParams"],[1,"col-span-12"],["class","col-span-12 md:col-span-6 lg:col-span-4",3,"id",4,"ngFor","ngForOf"],["class","col-span-12 text-center",4,"ngIf"],[1,"col-span-12","md:col-span-6","lg:col-span-4",3,"id"],["v-if","history.exam",3,"routerLink","queryParams"],["v-else-if","history.homework",3,"routerLink","queryParams"],[1,"col-span-12","text-center"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"azt-search-box",1),t.nI1(2,"mytranslate"),t.bIt("onSearch",function(r){return o.onSearchBox(r.searchObj)}),t.k0s()(),t.DNE(3,Er,25,15,"div",2)(4,Gr,8,5,"div",2)),2&n&&(t.R7$(),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(2,4,"lang_student_classroom_details_search_document")),t.R7$(2),t.Y8G("ngIf",o.classroomId),t.R7$(),t.Y8G("ngIf",!o.classroomId))},dependencies:[R.W,An,N.R,Pn,h.F2,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,b.Wk,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();function zr(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Lr(e,a){if(1&e&&t.nrm(0,"app-exam-exercises-student-tqb",5),2&e){const i=t.XpG(2);t.Y8G("classroomId",i.classroomId)}}function Ar(e,a){if(1&e&&t.nrm(0,"app-exam-exercises-student-column",5),2&e){const i=t.XpG(2);t.Y8G("classroomId",i.classroomId)}}function Pr(e,a){if(1&e&&t.DNE(0,Lr,1,1,"app-exam-exercises-student-tqb",4)(1,Ar,1,1,"ng-template",null,1,t.C5r),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.isTqbDomain)("ngIfElse",i)}}let Yr=(()=>{var e;class a extends j.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(n,o,s,r){super(),this.documentService=n,this.activeRoute=o,this.timeService=s,this.sAztNextPaginationService=r,this.classroomId=0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Fe.DK),t.rXU(b.nX),t.rXU(V.F),t.rXU(It))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-exam-exercises-student"]],standalone:!0,features:[t.Jv_([It]),t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["newDesign",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"classroomId",4,"ngIf","ngIfElse"],[3,"classroomId"]],template:function(n,o){if(1&n&&t.DNE(0,zr,1,1,"azt-loading-effect",2)(1,Pr,3,2,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,br,$r,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var Nt=function(e){return e[e.ADD_NEW=0]="ADD_NEW",e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE",e}(Nt||{}),Ee=g(77932),pe=g(7766),nn=g(3218),ot=g(35589);const Vr=()=>({"stroke-1.5":!0});function Br(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"a",4),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG();return t.Njj(s.onShowFile(o,-1))}),t.j41(3,"div",5),t.nrm(4,"img",6),t.j41(5,"span",7),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG();return t.Njj(s.removeFile(o))}),t.nrm(6,"lucide-icon",8),t.k0s()()()()()}if(2&e){const i=a.$implicit;t.R7$(4),t.Y8G("src",i.url,t.B4B),t.R7$(2),t.Y8G("ngClass",t.lJ4(2,Vr))}}let to=(()=>{var e;class a extends j.H{onShowFile(n,o){let s={...n,index:o};this.sAztDialogService.open(nn.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:s},restoreFocus:!1})}removeFile(n){this.files=this.files.filter(o=>o.url!=n.url),this.filesChange.emit(this.files)}constructor(n){super(),this.sAztDialogService=n,this.filesChange=new t.bkB}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.DNE(1,Br,7,3,"div",1),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngForOf",o.files))},dependencies:[d.MD,d.YU,d.Sq,c.X1,b.iI,c.YN,S.s,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();var Bn=g(53196),G=g(18770),wt=g(65758),Gt=g(99631),on=g(72851);const Xr=e=>[e],Ur=()=>({"zoom-in":!0});function Hr(e,a){if(1&e){const i=t.RV6();t.j41(0,"app-new-list-images",13),t.mxI("filesChange",function(o){t.eBV(i);const s=t.XpG();return t.DH7(s.files,o)||(s.files=o),t.Njj(o)}),t.k0s()}if(2&e){const i=t.XpG();t.R50("files",i.files)}}function Jr(e,a){1&e&&t.nrm(0,"azt-loading-ui",14)}let qr=(()=>{var e;class a extends j.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var n={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(o=>o.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsPost(n)).subscribe(o=>{if(!o.success||!o.data)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...o.data,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})}))}}handleUploadComplete(n){this.files.push(...n)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(n,o){super(),this.newsService=n,this.userService=o,this.changePostObjEvent=new t.bkB,this.contentFormControl=new c.MJ("",{nonNullable:!0,validators:[Ee.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=pe.b8,this.allUploadFileTypes=pe.PO}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(wt.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"click","matTooltip"],["size","24",3,"name"],[3,"uploadComplete","uploadToCdnMenu","fileType"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"filesChange","files"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"textarea",2),t.nI1(3,"mytranslate"),t.EFF(4,"        "),t.k0s(),t.DNE(5,Hr,1,1,"app-new-list-images",3),t.k0s(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.nI1(9,"mytranslate"),t.bIt("click",function(){return o.isLockComment=!o.isLockComment}),t.nrm(10,"lucide-icon",7),t.k0s(),t.j41(11,"azt-upload-multiple-box",8),t.bIt("uploadComplete",function(r){return o.handleUploadComplete(r)}),t.j41(12,"span",9),t.nrm(13,"lucide-icon",10),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"button",11),t.bIt("click",function(){return o.saveNewPost()}),t.DNE(16,Jr,1,0,"azt-loading-ui",12),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(2),t.FS9("placeholder",t.bMT(3,12,"lang_business_news_post_content")),t.Y8G("formControl",o.contentFormControl),t.R7$(3),t.Y8G("ngIf",o.files.length),t.R7$(3),t.FS9("matTooltip",t.bMT(9,14,o.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),t.R7$(2),t.Y8G("name",o.isLockComment?"lock":"lock-open"),t.R7$(),t.Y8G("uploadToCdnMenu",o.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",t.eq3(20,Xr,o.allUploadFileTypes.IMAGE)),t.R7$(2),t.FS9("matTooltip",t.bMT(14,16,"lang_core_tai_anh")),t.Y8G("ngClass",t.lJ4(22,Ur)),t.R7$(2),t.Y8G("disabled",""==o.contentFormControl.value||o.statusObj.loading),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[to,Bn.V,N.R,d.MD,d.YU,d.bT,c.X1,c.me,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,Gt.fg,et.oV,f.flO,f.WGl,x.L,C.Id,y.k,on.j],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),a})();var M=g(34006),pt=g(85389),kt=g(31661);function Wr(e,a){1&e&&t.nrm(0,"azt-loading-ui",9)}let Zr=(()=>{var e;class a extends pt._{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdDelete(this.postObj.id)).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(n,o,s){super(s,o),this.newsService=n,this.dialogRef=o,this.data=s,this.postObj=s}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-delete-news-post-confirm-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b",4),t.EFF(8),t.k0s(),t.EFF(9,"? "),t.k0s()()()(),t.j41(10,"div",5)(11,"button",6),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",7),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(15,Wr,1,0,"azt-loading-ui",8),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(5),t.SpI(" ",t.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),t.R7$(3),t.JRh(o.postObj.content),t.R7$(4),t.SpI(" ",t.bMT(13,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[kt.U,N.R,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();function Kr(e,a){if(1&e){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToSeeMore())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_cms_common_see_more")))}function Qr(e,a){if(1&e){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToShowShortContent())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_cms_common_see_short_content")))}function tl(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"span",3),t.nI1(2,"safeNormalHtmlContent"),t.DNE(3,Kr,3,3,"a",4)(4,Qr,3,3,"a",4),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,3,i.showContent),t.npT),t.R7$(2),t.Y8G("ngIf",i.showSeeMoreButton&&i.content.length>i.maxLength),t.R7$(),t.Y8G("ngIf",i.showShortContentButton&&i.content.length>i.maxLength)}}function el(e,a){if(1&e&&(t.nrm(0,"span",10),t.nI1(1,"safeNormalHtmlContent")),2&e){const i=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,i.showContent),t.npT)}}function nl(e,a){if(1&e){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToSeeMore())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&e){const i=t.XpG(2);t.Aen("position: absolute; bottom: 0; right: 0; background-color: "+i.backgroundColor),t.R7$(),t.SpI(" ...",t.bMT(2,3,"lang_cms_common_see_more")," ")}}function il(e,a){if(1&e){const i=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.clickToShowShortContent())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_cms_common_see_short_content")))}function ol(e,a){if(1&e&&(t.j41(0,"div",6),t.nrm(1,"div",7),t.nI1(2,"safeNormalHtmlContent"),t.nrm(3,"div",7,0),t.nI1(5,"safeNormalHtmlContent"),t.DNE(6,el,2,3,"span",8)(7,nl,3,5,"a",9)(8,il,3,3,"a",4),t.k0s()),2&e){const i=t.sdS(4),n=t.XpG();t.R7$(),t.Aen(n.styleContent),t.Y8G("innerHTML",t.bMT(2,9,n.showContent),t.npT),t.R7$(2),t.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),t.Y8G("innerHTML",t.bMT(5,11,n.showContent),t.npT),t.R7$(3),t.Y8G("ngIf",n.showShortContentButton),t.R7$(),t.Y8G("ngIf",n.showSeeMoreButton&&i.offsetHeight>20*n.maxLine),t.R7$(),t.Y8G("ngIf",n.showShortContentButton&&i.offsetHeight>20*n.maxLine)}}let Xn=(()=>{var e;class a extends j.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let n=this.commonService.removeTagHtml(this.content);if(this.maxLength&&n.length>this.maxLength)this.showContent=this.showSeeMoreButton?n.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var o=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+o+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:2,vars:2,consts:[["contentElementHide",""],[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(n,o){1&n&&t.DNE(0,tl,5,5,"div",1)(1,ol,9,13,"div",2),2&n&&(t.Y8G("ngIf",o.maxLength),t.R7$(),t.Y8G("ngIf",o.maxLine&&!o.maxLength))},dependencies:[d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,h._y,C.Id,y.k],encapsulation:2}),a})();var Un=g(61133);function al(e,a){if(1&e){const i=t.RV6();t.j41(0,"a",3),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG();return t.Njj(s.onShowFile(o))}),t.nrm(1,"img",4),t.k0s()}if(2&e){const i=a.$implicit;t.R7$(),t.Y8G("src",i.imageLink,t.B4B)}}let sl=(()=>{var e;class a extends j.H{onShowFile(n){this.sAztDialogService.open(nn.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+n.id,mimes:"image/jpeg",url:n.imageLink,index:-1}},restoreFocus:!1})}constructor(n,o){super(),this.sAztDialogService=n,this.sAztFileTypeService=o,this.images=[]}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i),t.rXU(Un.k))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-list-images-post"]],inputs:{images:"images"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,al,2,1,"a",2),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("ngForOf",o.images))},dependencies:[d.MD,d.Sq,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),a})();const eo=e=>({clickable:e}),rl=(e,a)=>({"heart-selected":e,"heart-non-selected":a});function ll(e,a){1&e&&(t.j41(0,"div",2)(1,"span",3),t.nrm(2,"lucide-icon",4),t.k0s(),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e&&(t.R7$(4),t.JRh(t.bMT(5,1,"lang_student_comment_feature_disabled")))}function cl(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",5)(1,"div",6),t.nI1(2,"isParentViewOnly"),t.j41(3,"button",7),t.nI1(4,"isParentViewOnly"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeEmotionEvent())}),t.nrm(5,"lucide-icon",8),t.k0s(),t.j41(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"div",9),t.nI1(9,"isParentViewOnly"),t.j41(10,"button",10),t.nI1(11,"isParentViewOnly"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showCommentObjs())}),t.nrm(12,"lucide-icon",11),t.k0s(),t.j41(13,"span"),t.EFF(14),t.k0s()()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(15,eo,!t.bMT(2,7,""))),t.R7$(2),t.Y8G("disabled",t.bMT(4,9,"")),t.R7$(2),t.Y8G("ngClass",t.l_i(17,rl,i.postObj.hasLoveEmotion,!i.postObj.hasLoveEmotion)),t.R7$(2),t.JRh(i.postObj.totalEmotion),t.R7$(),t.Y8G("ngClass",t.eq3(20,eo,!t.bMT(9,11,""))),t.R7$(2),t.Y8G("disabled",t.bMT(11,13,"")),t.R7$(4),t.JRh(i.postObj.totalComment)}}let ml=(()=>{var e;class a extends j.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id)).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,void this.changePostObjEvent.emit(this.postObj);this.successStatusObj()}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(n){super(),this.newsService=n,this.changePostObjEvent=new t.bkB}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"mr-2","zoom-in","heart-label",3,"click","disabled"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"click","disabled"],["name","message-square","size","20"]],template:function(n,o){1&n&&t.DNE(0,ll,6,3,"div",0)(1,cl,15,22,"div",1),2&n&&(t.Y8G("ngIf",o.postObj.isLockComment),t.R7$(),t.Y8G("ngIf",!o.postObj.isLockComment))},dependencies:[d.MD,d.YU,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,h.hx,C.Id,y.k],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}  .heart-selected svg{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),a})();var ge=function(e){return e[e.ADD_NEW=0]="ADD_NEW",e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE",e}(ge||{});function dl(e,a){1&e&&t.nrm(0,"azt-loading-ui",9)}let _l=(()=>{var e;class a extends pt._{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id)).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(n,o,s){super(s,o),this.newsService=n,this.dialogRef=o,this.data=s,this.postObj=s.postObj,this.commentObj=s.commentObj}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-delete-news-post-comment-confirm-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b",4),t.EFF(8),t.k0s(),t.EFF(9,"? "),t.k0s()()()(),t.j41(10,"div",5)(11,"button",6),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",7),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(15,dl,1,0,"azt-loading-ui",8),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(5),t.SpI(" ",t.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),t.R7$(3),t.JRh(o.commentObj.content),t.R7$(4),t.SpI(" ",t.bMT(13,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[kt.U,N.R,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var _t=g(59115);const ul=()=>({"text-slate-500":!0}),pl=()=>({"mr-2":!0}),gl=()=>({"mr-2 text-danger":!0});function hl(e,a){if(1&e&&(t.j41(0,"button",15),t.nrm(1,"lucide-icon",16),t.k0s()),2&e){t.XpG();const i=t.sdS(12);t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(2,ul))}}function fl(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"a",17),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.editCommentEvent())}),t.nrm(2,"lucide-icon",18),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,pl)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_sua")," "))}function bl(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.deleteCommentEvent())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,gl)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa")," "))}let vl=(()=>{var e;class a extends j.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:ge.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(_l,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.changeCommentObjEvent.emit({actionType:ge.DELETE,commentObj:this.commentObj})})}constructor(n){super(),this.sAztDialogService=n,this.changeCommentObjEvent=new t.bkB}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},standalone:!0,features:[t.Jv_([It]),t.Vt3,t.aNF],decls:20,vars:13,consts:[["menuBox",""],[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(n,o){1&n&&(t.j41(0,"div",1)(1,"div",2),t.nrm(2,"azt-create-avatar",3),t.k0s(),t.j41(3,"div")(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7),t.k0s(),t.nrm(8,"azt-see-more-multiple-lines",7),t.k0s(),t.j41(9,"div",8),t.DNE(10,hl,2,3,"button",9),t.j41(11,"mat-menu",10,0)(13,"div",11)(14,"ul",12),t.DNE(15,fl,5,5,"li",13)(16,bl,5,5,"li",13),t.k0s()()()()(),t.j41(17,"div",14),t.EFF(18),t.nI1(19,"relativeTime"),t.k0s()()()),2&n&&(t.R7$(2),t.Y8G("nameCreateAvatar",null==o.commentObj.user?null:o.commentObj.user.fullName)("linkAvatar",null==o.commentObj.user?null:o.commentObj.user.avatar)("size",30),t.R7$(5),t.SpI(" ",null==o.commentObj.user?null:o.commentObj.user.fullName,"\xa0 "),t.R7$(),t.Y8G("content",o.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),t.R7$(2),t.Y8G("ngIf",o.commentObj.allowDelete||o.commentObj.allowEdit),t.R7$(5),t.Y8G("ngIf",o.commentObj.allowEdit),t.R7$(),t.Y8G("ngIf",o.commentObj.allowDelete),t.R7$(2),t.JRh(t.bMT(19,11,o.commentObj.createdAt)))},dependencies:[jt.p,Xn,d.MD,d.YU,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,_t.kk,_t.Cp,f.flO,f.WGl,x.L,h.NA,C.Id,y.k],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),a})();var an=g(1300);let no=(()=>{var e;class a{constructor(n){this.commonService=n,this.enterKey=new t.bkB,this.enableInMobile=!0}onKeyDown(n){!this.enableInMobile&&this.commonService.isMobileDevice()||"Enter"===n.key&&!n.shiftKey&&(n.preventDefault(),this.enterKey.emit())}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(an.R))},e.\u0275dir=t.FsC({type:e,selectors:[["","enterKey",""]],hostBindings:function(n,o){1&n&&t.bIt("keydown",function(r){return o.onKeyDown(r)})},inputs:{enableInMobile:"enableInMobile"},outputs:{enterKey:"enterKey"},standalone:!0}),a})();var nt=g(53719);const kl=()=>({"text-primary":!0});function Tl(e,a){1&e&&t.nrm(0,"azt-loading-ui",11)}let Cl=(()=>{var e;class a extends j.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var n={content:this.commentContentFormControl.value};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,n)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=n.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(n,o){super(),this.newsService=n,this.userService=o,this.changeCommentObjEvent=new t.bkB,this.commentContentFormControl=new c.MJ("",{nonNullable:!0,validators:[Ee.M.noWhiteSpace]})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(wt.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.nrm(1,"azt-create-avatar",1),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),t.nI1(5,"mytranslate"),t.bIt("enterKey",function(){return!(""==o.commentContentFormControl.value||o.statusObj.loading)&&o.saveNewComment()}),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"button",7),t.bIt("click",function(){return o.cancel()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"button",8),t.nI1(12,"mytranslate"),t.bIt("click",function(){return o.saveNewComment()}),t.DNE(13,Tl,1,0,"azt-loading-ui",9),t.nrm(14,"lucide-icon",10),t.k0s()()()()()),2&n&&(t.R7$(),t.Y8G("nameCreateAvatar",o.userObj.fullName)("linkAvatar",o.userObj.avatar)("size",30),t.R7$(3),t.FS9("placeholder",t.bMT(5,11,"lang_core_viet_binh_luan")),t.Y8G("enableInMobile",!1)("formControl",o.commentContentFormControl),t.R7$(5),t.SpI(" ",t.bMT(10,13,"lang_cms_common_close_btn")," "),t.R7$(2),t.FS9("matTooltip",t.bMT(12,15,"lang_business_news_add_new_post_button")),t.Y8G("disabled",""==o.commentContentFormControl.value||o.statusObj.loading),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.Y8G("ngClass",t.lJ4(17,kl)))},dependencies:[no,on.j,jt.p,N.R,d.MD,d.YU,d.bT,c.X1,c.me,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,Gt.fg,nt.rl,et.oV,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();const xl=()=>({"text-primary flex-none zoom-in":!0});function yl(e,a){1&e&&t.nrm(0,"azt-loading-ui",9)}let Sl=(()=>{var e;class a extends j.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value})).subscribe(o=>{if(!o.success||!o.data)return this.errorStatusObj(o.message,!0);this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...o.data,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(n,o){super(),this.newsService=n,this.userService=o,this.changeCommentObjEvent=new t.bkB,this.commentContentFormControl=new c.MJ("",{nonNullable:!0,validators:[Ee.M.noWhiteSpace]})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(wt.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.nrm(1,"azt-create-avatar",1),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),t.nI1(5,"mytranslate"),t.bIt("enterKey",function(){return!(""==o.commentContentFormControl.value||o.statusObj.loading)&&o.saveNewComment()}),t.EFF(6,"            "),t.k0s()(),t.j41(7,"div",5)(8,"button",6),t.nI1(9,"mytranslate"),t.bIt("click",function(){return o.saveNewComment()}),t.DNE(10,yl,1,0,"azt-loading-ui",7),t.nrm(11,"lucide-icon",8),t.k0s()()()()),2&n&&(t.R7$(),t.Y8G("nameCreateAvatar",o.userObj.fullName)("linkAvatar",o.userObj.avatar)("size",30),t.R7$(3),t.FS9("placeholder",t.bMT(5,10,"lang_core_viet_binh_luan")),t.Y8G("enableInMobile",!1)("formControl",o.commentContentFormControl),t.R7$(4),t.FS9("matTooltip",t.bMT(9,12,"lang_business_news_add_new_post_button")),t.Y8G("disabled",""==o.commentContentFormControl.value||o.statusObj.loading),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.Y8G("ngClass",t.lJ4(14,xl)))},dependencies:[no,jt.p,N.R,d.MD,d.YU,d.bT,c.X1,c.me,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,Gt.fg,nt.rl,et.oV,f.flO,f.WGl,x.L,C.Id,y.k,on.j],encapsulation:2}),a})();function Il(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"app-news-view-comment",6),t.bIt("changeCommentObjEvent",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.changeCommentObj(o.actionType,o.commentObj))}),t.k0s(),t.bVm()}if(2&e){const i=t.XpG().$implicit,n=t.XpG();t.R7$(),t.Y8G("postObj",n.postObj)("commentObj",i)}}function jl(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",3)(1,"app-news-edit-comment",6),t.bIt("changeCommentObjEvent",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.changeCommentObj(s.enumNewsCommentActionType.UPDATE,o))}),t.k0s()()}if(2&e){const i=t.XpG().$implicit,n=t.XpG();t.R7$(),t.Y8G("postObj",n.postObj)("commentObj",i)}}function Ol(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,Il,2,2,"ng-container",5)(2,jl,2,2,"ng-template",null,0,t.C5r),t.k0s()),2&e){const i=a.$implicit,n=t.sdS(3);t.R7$(),t.Y8G("ngIf",!i.isShowEditForm)("ngIfElse",n)}}function wl(e,a){1&e&&t.nrm(0,"azt-loading-ui",10)}function Fl(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",7)(1,"button",8),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(!o.sAztNextPaginationService.isLoadingNextPage&&o.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,wl,1,0,"azt-loading-ui",9),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_news_load_more_comments")," "),t.R7$(2),t.Y8G("ngIf",i.sAztNextPaginationService.isLoadingNextPage)}}let El=(()=>{var e;class a extends j.H{changeCommentObj(n,o){n==ge.ADD_NEW?(this.commentObjs.unshift(o),this.postObj.totalComment+=1):n==ge.UPDATE?this.commentObjs=this.commentObjs.map(s=>s.id==o.id?o:s):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(s=>s.id!=o.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.list.forEach(s=>{this.commentObjs.push({...s,isShowEditForm:!1,allowEdit:s.tenantId==this.userObj.id,allowDelete:!this.isStudent||s.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(o.data?.total??0),this.stopStatusObj()}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(n,o,s){super(),this.newsService=n,this.userService=o,this.sAztNextPaginationService=s,this.commentObjs=[],this.enumNewsCommentActionType=ge,this.userObj=this.userService.getUserObj()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(wt.R),t.rXU(It))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},standalone:!0,features:[t.Jv_([It]),t.Vt3,t.aNF],decls:4,vars:3,consts:[["showEditForm",""],[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"changeCommentObjEvent","postObj"],[4,"ngIf","ngIfElse"],[3,"changeCommentObjEvent","postObj","commentObj"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(n,o){1&n&&(t.DNE(0,Ol,4,2,"div",1)(1,Fl,5,4,"div",2),t.j41(2,"div",3)(3,"app-news-add-new-comments",4),t.bIt("changeCommentObjEvent",function(r){return o.changeCommentObj(o.enumNewsCommentActionType.ADD_NEW,r)}),t.k0s()()),2&n&&(t.Y8G("ngForOf",o.commentObjs),t.R7$(),t.Y8G("ngIf",o.commentObjs.length&&o.sAztNextPaginationService.hasNextPage),t.R7$(2),t.Y8G("postObj",o.postObj))},dependencies:[vl,Cl,N.R,Sl,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();const Dl=()=>({"text-slate-500":!0}),Hn=()=>({"mr-2":!0});function Rl(e,a){if(1&e&&t.eu8(0,15),2&e){t.XpG();const i=t.sdS(17);t.Y8G("ngTemplateOutlet",i)}}function Ml(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"hr",12)(2,"app-news-list-comments",16),t.k0s()),2&e){const i=t.XpG();t.R7$(2),t.Y8G("isStudent",i.isStudent)("postObj",i.postObj)}}function Nl(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",17)(1,"button",18),t.nrm(2,"lucide-icon",19),t.k0s(),t.j41(3,"mat-menu",20,1)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.editPostEvent())}),t.nrm(9,"lucide-icon",24),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"a",25),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.deletePostEvent())}),t.nrm(14,"lucide-icon",26),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"li")(18,"label",27),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.j41(19,"div",28),t.nrm(20,"lucide-icon",29),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",30)(24,"input",31),t.bIt("change",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeLockCommentStatus())}),t.k0s()()()()()()()()}if(2&e){const i=t.sdS(4),n=t.XpG();t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(),t.Y8G("ngClass",t.lJ4(15,Dl)),t.R7$(7),t.Y8G("ngClass",t.lJ4(16,Hn)),t.R7$(),t.SpI(" ",t.bMT(11,9,"lang_auto_sua")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(17,Hn)),t.R7$(),t.SpI(" ",t.bMT(16,11,"lang_auto_xoa")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(18,Hn)),t.R7$(),t.SpI(" ",t.bMT(22,13,"lang_student_comment_lock")," "),t.R7$(3),t.Y8G("formControl",n.isLockComment)}}let Gl=(()=>{var e;class a extends j.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:Nt.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Zr,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(o=>{o&&this.changePostObjEvent.emit({actionType:Nt.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const n=this.isLockComment.value,o=n?this.newsService.apiNewsIdLockCommentsPut(this.postObj.id):this.newsService.apiNewsIdUnlockCommentsPut(this.postObj.id);this.waitDestroy(this.wrapApiResponse(o).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);const r=n?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=n?1:0,this.changePostObjEvent.emit({actionType:Nt.UPDATE,postObj:this.postObj}),this.showSuccessSnack(r)}))}changeEmotionEventEvent(n){this.postObj=n,this.changePostObjEvent.emit({actionType:Nt.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(n,o){super(),this.sAztDialogService=n,this.newsService=o,this.changePostObjEvent=new t.bkB,this.isLockComment=new c.MJ(!1)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i),t.rXU(G.bH))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:18,vars:13,consts:[["newsEditOrDeleteNews",""],["menuBox",""],[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"changePostObjEvent","postObj"],[4,"ngIf"],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"change","formControl"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",2)(1,"div",3),t.nrm(2,"azt-create-avatar",4),t.k0s(),t.j41(3,"div",5)(4,"a",6),t.EFF(5),t.k0s(),t.j41(6,"div",7),t.EFF(7),t.nI1(8,"relativeTime"),t.k0s()()(),t.DNE(9,Rl,1,1,"ng-container",8),t.j41(10,"div",9),t.nrm(11,"azt-see-more-multiple-lines",10),t.k0s(),t.nrm(12,"app-list-images-post",11)(13,"hr",12),t.j41(14,"app-news-emotions",13),t.bIt("changePostObjEvent",function(l){return t.eBV(s),t.Njj(o.changeEmotionEventEvent(l))}),t.k0s(),t.DNE(15,Ml,3,2,"div",14)(16,Nl,25,19,"ng-template",null,0,t.C5r)}if(2&n){let s;t.R7$(2),t.Y8G("nameCreateAvatar",null==o.postObj.user?null:o.postObj.user.fullName)("linkAvatar",null==o.postObj.user?null:o.postObj.user.avatar)("size",36),t.R7$(3),t.SpI("",null==o.postObj.user?null:o.postObj.user.fullName,"\xa0"),t.R7$(2),t.JRh(t.bMT(8,11,o.postObj.createdAt)),t.R7$(2),t.Y8G("ngIf",!o.isStudent),t.R7$(2),t.Y8G("content",o.postObj.content)("maxLine",0==(null!==(s=null==o.postObj.images?null:o.postObj.images.length)&&void 0!==s?s:0)?o.postObj.content.length:10),t.R7$(),t.Y8G("images",o.postObj.images),t.R7$(2),t.Y8G("postObj",o.postObj),t.R7$(),t.Y8G("ngIf",o.postObj.isShowCommentBox)}},dependencies:[jt.p,Xn,sl,ml,El,d.MD,d.YU,d.bT,d.T3,c.X1,c.Zm,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,_t.kk,_t.Cp,f.flO,f.WGl,x.L,h.NA,C.Id,y.k],encapsulation:2}),a})();const $l=e=>[e],zl=()=>({"zoom-in":!0});function Ll(e,a){if(1&e){const i=t.RV6();t.j41(0,"app-new-list-images",13),t.mxI("filesChange",function(o){t.eBV(i);const s=t.XpG();return t.DH7(s.files,o)||(s.files=o),t.Njj(o)}),t.k0s()}if(2&e){const i=t.XpG();t.R50("files",i.files)}}function Al(e,a){1&e&&t.nrm(0,"azt-loading-ui",14)}let Pl=(()=>{var e;class a extends j.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let n={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(o=>o.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdPut(this.postObj.id,n)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_cms_update_success",!0);let s=[];this.files.forEach(r=>{s.push({id:0,newsId:this.postObj?.id??0,imageLink:r.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=n.content,this.postObj.images=s,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]}))}}handleUploadComplete(n){this.files.push(...n)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(n=>{this.files.push({name:"",mimes:"image/jpeg",url:n.imageLink})})}constructor(n,o){super(),this.newsService=n,this.userService=o,this.changePostObjEvent=new t.bkB,this.contentFormControl=new c.MJ("",{nonNullable:!0,validators:[Ee.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=pe.b8,this.allUploadFileTypes=pe.PO}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(wt.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"filesChange","files"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div")(1,"div",0),t.nrm(2,"azt-create-avatar",1),t.j41(3,"div",2)(4,"textarea",3),t.nI1(5,"mytranslate"),t.EFF(6,"            "),t.k0s()()(),t.DNE(7,Ll,1,1,"app-new-list-images",4),t.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),t.bIt("uploadComplete",function(r){return o.handleUploadComplete(r)}),t.j41(11,"span",8),t.nrm(12,"lucide-icon",9),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"button",10),t.bIt("click",function(){return o.cancel()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"button",11),t.bIt("click",function(){return o.saveNewPost()}),t.DNE(18,Al,1,0,"azt-loading-ui",12),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(2),t.Y8G("nameCreateAvatar",o.userObj.fullName)("linkAvatar",o.userObj.avatar)("size",36),t.R7$(2),t.FS9("placeholder",t.bMT(5,14,"lang_business_news_post_content")),t.Y8G("formControl",o.contentFormControl),t.R7$(3),t.Y8G("ngIf",o.files.length),t.R7$(3),t.Y8G("uploadToCdnMenu",o.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",t.eq3(22,$l,o.allUploadFileTypes.IMAGE)),t.R7$(2),t.FS9("matTooltip",t.bMT(13,16,"lang_core_tai_anh")),t.Y8G("ngClass",t.lJ4(24,zl)),t.R7$(3),t.SpI(" ",t.bMT(16,18,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",""==o.contentFormControl.value||o.statusObj.loading),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[jt.p,to,Bn.V,N.R,d.MD,d.YU,d.bT,c.X1,c.me,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,Gt.fg,et.oV,f.flO,f.WGl,x.L,C.Id,y.k,on.j],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),a})();function Yl(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",5)(1,"input",11),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.selectedViewNewsSchool(!0))}),t.k0s(),t.j41(2,"label",12),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("value",1)("formControl",i.isSchoolControl),t.R7$(2),t.JRh(t.bMT(4,3,"lang_azt_truong_hoc"))}}function Vl(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",13)(1,"app-news-add-new-post",14),t.bIt("changePostObjEvent",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.changePostObj(s.enumNewsPostActionType.ADD_NEW,o))}),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("classroomId",i.classroomId)("isSchool",i.isSchoolControl.getRawValue())}}function Bl(e,a){if(1&e&&(t.j41(0,"div",15),t.nrm(1,"azt-loading-effect",16),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("currentStatusObj",i.statusObj)}}function Xl(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"app-news-view-post",20),t.bIt("changePostObjEvent",function(o){t.eBV(i);const s=t.XpG(3);return t.Njj(s.changePostObj(o.actionType,o.postObj))}),t.k0s(),t.bVm()}if(2&e){const i=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("isStudent",n.isStudent)("postObj",i)}}function Ul(e,a){if(1&e){const i=t.RV6();t.j41(0,"app-news-edit-post",21),t.bIt("changePostObjEvent",function(o){t.eBV(i);const s=t.XpG(3);return t.Njj(s.changePostObj(s.enumNewsPostActionType.UPDATE,o))}),t.k0s()}if(2&e){const i=t.XpG().$implicit,n=t.XpG(2);t.Y8G("postObj",i)("classroomId",n.classroomId)}}function Hl(e,a){if(1&e&&(t.j41(0,"div",18),t.DNE(1,Xl,2,2,"ng-container",19)(2,Ul,1,2,"ng-template",null,1,t.C5r),t.k0s()),2&e){const i=a.$implicit,n=t.sdS(3);t.R7$(),t.Y8G("ngIf",!i.isShowEditForm)("ngIfElse",n)}}function Jl(e,a){1&e&&(t.j41(0,"div",13)(1,"div",22)(2,"div",23),t.nrm(3,"azt-svg-icon",24),t.j41(4,"p",25),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(3),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function ql(e,a){1&e&&t.nrm(0,"azt-loading-ui")}function Wl(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",27),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.getNextPage())}),t.nrm(2,"lucide-icon",28),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Zl(e,a){if(1&e&&(t.j41(0,"div",13)(1,"div",26),t.DNE(2,ql,1,0,"azt-loading-ui",19)(3,Wl,3,3,"ng-template",null,2,t.C5r),t.k0s()()),2&e){const i=t.sdS(4),n=t.XpG(2);t.R7$(2),t.Y8G("ngIf",n.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",i)}}function Kl(e,a){if(1&e&&t.DNE(0,Hl,4,2,"div",17)(1,Jl,7,4,"div",9)(2,Zl,5,2,"div",9),2&e){const i=t.XpG();t.Y8G("ngForOf",i.postObjs),t.R7$(),t.Y8G("ngIf",i.postObjs.length<=0),t.R7$(),t.Y8G("ngIf",i.postObjs.length&&i.sAztNextPaginationService.hasNextPage)}}let Ql=(()=>{var e;class a extends j.H{selectedViewNewsSchool(n){let o=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";n?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(o,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(o,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(n,o){switch(n){case Nt.ADD_NEW:this.postObjs.unshift(o);break;case Nt.UPDATE:this.postObjs=this.postObjs.map(s=>s.id==o.id?o:s);break;case Nt.DELETE:this.postObjs=this.postObjs.filter(s=>s.id!=o.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(n){var o={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};n?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsListPost(o)).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);let r={page:1,size:-1,newsIds:s.data?.list.map(l=>l.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsEmotionsListPost(r)).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);let m=this.commonService.arrayToUniqueDictionary(l.data?.list??[],_=>_.newsId.toString());s.data?.list.forEach(_=>{this.postObjs.push({..._,hasLoveEmotion:m.hasOwnProperty(_.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(s.data?.total??0),this.stopStatusObj()}))}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(n,o){super(),this.newsService=n,this.sAztNextPaginationService=o,this.isSchoolControl=new c.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=Nt}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.bH),t.rXU(It))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},standalone:!0,features:[t.Jv_([It]),t.Vt3,t.OA$,t.aNF],decls:15,vars:12,consts:[["doneLoading",""],["showEditForm",""],["doneLoadNextPage",""],[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","classroom",1,"pl-2","form-check-label"],["class","flex ml-5 items-center",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","school",1,"pl-2","form-check-label"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"changePostObjEvent","classroomId","isSchool"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],[3,"changePostObjEvent","isStudent","postObj"],[3,"changePostObjEvent","postObj","classroomId"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"click","matTooltip"],["name","chevron-down","size","20"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"p"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",5)(6,"input",6),t.bIt("click",function(){return t.eBV(s),t.Njj(o.selectedViewNewsSchool(!1))}),t.k0s(),t.j41(7,"label",7),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.DNE(10,Yl,5,5,"div",8),t.k0s(),t.DNE(11,Vl,2,2,"div",9)(12,Bl,2,1,"div",10)(13,Kl,3,3,"ng-template",null,0,t.C5r),t.k0s()}if(2&n){const s=t.sdS(14);t.R7$(3),t.JRh(t.bMT(4,8,"lang_azt_hien_ban_tin_theo")),t.R7$(3),t.Y8G("value",0)("formControl",o.isSchoolControl),t.R7$(2),t.JRh(t.bMT(9,10,"lang_auto_lop_hoc")),t.R7$(2),t.Y8G("ngIf",o.isBusinessDomain),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[qr,X.K,Gl,Pl,tn.m,N.R,d.MD,d.Sq,d.bT,c.X1,c.me,c.Fm,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();var K=g(85780),Jn=g(71985),Q=g(44764),$t=function(e){return e.video="video",e.document="document",e.homework="homework",e.homework_view="homework_view",e.unknown="unknown",e}($t||{}),io=g(76768),tc=g(65579),ec=g(30766);function nc(e,a){1&e&&(t.j41(0,"div",4)(1,"div",5),t.nrm(2,"azt-loading-ui"),t.k0s()())}function ic(e,a){if(1&e){const i=t.RV6();t.j41(0,"azt-office-embed",8),t.bIt("loadedEvent",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.onLoad())}),t.k0s()}if(2&e){const i=t.XpG(3);t.Y8G("cdnLink",i.fileUrl)("classNames","w-full h-full")}}function oc(e,a){if(1&e){const i=t.RV6();t.j41(0,"pdf-viewer",9),t.bIt("load",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.onLoad())}),t.k0s()}if(2&e){const i=t.XpG(3);t.Y8G("src",i.fileUrl)("show-all",!0)}}function ac(e,a){if(1&e){const i=t.RV6();t.j41(0,"azt-video-embed",8),t.bIt("loadedEvent",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.onLoad())}),t.k0s()}if(2&e){const i=t.XpG(3);t.Y8G("cdnLink",i.fileUrl)("classNames","w-full h-full mx-auto")}}function sc(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"iframe",10),t.nI1(2,"safe"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.HbH("mx-auto"),t.FS9("height",i.customHeight),t.Y8G("src",t.bMT(2,4,i.fileUrl),t.f$h)}}function rc(e,a){if(1&e&&(t.qex(0),t.DNE(1,ic,1,2,"azt-office-embed",6)(2,oc,1,2,"pdf-viewer",7)(3,ac,1,2,"azt-video-embed",6)(4,sc,3,6,"div",3),t.bVm()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",i.fileType===i.shareTypeFile.docx||i.fileType===i.shareTypeFile.powerpoint),t.R7$(),t.Y8G("ngIf",i.fileType===i.shareTypeFile.pdf),t.R7$(),t.Y8G("ngIf",i.fileType===i.shareTypeFile.video),t.R7$(),t.Y8G("ngIf",i.fileType===i.shareTypeFile.google_docs)}}function lc(e,a){if(1&e&&(t.j41(0,"div",1),t.DNE(1,nc,3,0,"div",2)(2,rc,5,4,"ng-container",3),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(),t.Y8G("ngIf",!i.statusObj.loading)}}let oo=(()=>{var e;class a extends j.H{onLoad(){this.stopStatusObj()}ngOnInit(){super.ngOnInit(),this.initStatusObj(),setTimeout(()=>{this.stopStatusObj()},this.fileType==K.d.video?0:500)}constructor(){super(),this.customHeight=700,this.shareTypeFile=K.d}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-preview-file"]],inputs:{fileUrl:"fileUrl",fileType:"fileType",customHeight:"customHeight"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","preivew-file h-full",4,"ngIf"],[1,"preivew-file","h-full"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center"],[1,"w-16","h-16","text-primary","flex-none","image-fit","text-primary","overflow-hidden","mx-auto","upload-box"],[3,"cdnLink","classNames","loadedEvent",4,"ngIf"],["class","w-full h-full",3,"src","show-all","load",4,"ngIf"],[3,"loadedEvent","cdnLink","classNames"],[1,"w-full","h-full",3,"load","src","show-all"],["width","850","frameborder","0","allowfullscreen","",3,"height","src"]],template:function(n,o){1&n&&t.DNE(0,lc,3,2,"div",0),2&n&&t.Y8G("ngIf",o.fileUrl)},dependencies:[io.Lk,io.c6,N.R,tc.L,ec.y,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,h.JI,C.Id,y.k],encapsulation:2}),a})();var qn=g(21626);let ao=(()=>{var e;class a{constructor(n){this.http=n,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(n){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${n}&key=${this.apiKey}&part=snippet`)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(qn.Qq))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var so=g(96850);const cc=(e,a)=>[e,a],mc=()=>({"text-success mr-2":!0});function dc(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),t.bIt("uploadComplete",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.handleUploadComplete(o))}),t.j41(3,"div",13)(4,"div",14)(5,"div",15),t.nrm(6,"lucide-icon",16),t.j41(7,"span",17),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",18),t.EFF(11),t.nI1(12,"mytranslate"),t.j41(13,"a",19),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()()()()}if(2&e){const i=t.XpG();t.R7$(2),t.Y8G("uploadToCdnMenu",i.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",t.l_i(12,cc,i.allUploadFileTypes.SYNTHETIC,i.allUploadFileTypes.AZT)),t.R7$(4),t.Y8G("ngClass",t.lJ4(15,mc)),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_wsuper_admin_upload_file_choose_file_upload")," "),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),t.R7$(3),t.SpI(" ",t.bMT(15,10,"lang_auto_tim_hieu_them")," ")}}function _c(e,a){1&e&&(t.j41(0,"div",28)(1,"div",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function uc(e,a){if(1&e&&t.nrm(0,"azt-preview-file",33),2&e){const i=t.XpG(3);t.Y8G("fileUrl",i.docsLinkControl.value)("customHeight",i.boxContentHeight)("fileType",i.shareTypeDocument)}}function pc(e,a){if(1&e&&(t.j41(0,"div",30)(1,"div",31),t.DNE(2,uc,1,3,"azt-preview-file",32),t.k0s()()),2&e){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",i.docsLinkControl.value)}}function gc(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),t.nI1(4,"mytranslate"),t.bIt("input",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.getVideoNameFromUrl())}),t.k0s()(),t.j41(5,"div",24),t.nrm(6,"input",25),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,_c,4,3,"div",26),t.k0s(),t.DNE(9,pc,3,1,"div",27),t.k0s()}if(2&e){const i=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(4,6,"homework_view"==i.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),t.Y8G("formControl",i.docsLinkControl),t.R7$(3),t.FS9("placeholder",t.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),t.Y8G("formControl",i.fileNameControl),t.R7$(2),t.Y8G("ngIf",i.fileNameControl.invalid),t.R7$(),t.Y8G("ngIf",i.checkShowPreviewLink())}}let hc=(()=>{var e;class a extends pt._{onTabChanged(n){this.selectedIndex=n.index,this.shareTypeDocument=0==this.selectedIndex?K.d.exam:K.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(n){n.forEach(o=>{let s=this.sAztFileTypeService.getTypeFileByMime(o);s?this.dialogRef.close({name:o.name??"",refId:0,groupType:this.groupTypeFile,type:s,link:o.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,Q.y1)(this.docsLinkControl.value)||(0,Q.Kb)(this.docsLinkControl.value)||(0,Q.VJ)(this.docsLinkControl.value)))}getNameVideo(n){return new Jn.c(o=>{this.youtubeService.getVideoDetails(n).subscribe(s=>{o.next(s.items&&s.items.length?s.items[0].snippet.title:"undefined"),o.complete()},s=>{o.next(void 0),o.complete()})})}getVideoNameFromUrl(){this.data.type==$t.homework_view&&(0,Q.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=K.d.video,this.getNameVideo((0,Q.b3)(this.docsLinkControl.value)??"").subscribe(n=>{n&&this.fileNameControl.setValue(n)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,Q.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,Q.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let n={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,Q.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(n)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(K.d,this.data.type,K.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault($t,this.data.type,$t.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(n,o,s,r){super(r,s),this.sAztFileTypeService=n,this.youtubeService=o,this.dialogRef=s,this.data=r,this.docsLinkControl=new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),this.fileNameControl=new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),this.shareTypeDocument=K.d.exam,this.groupTypeFile=$t.document,this.allDocumentGroupTypes=$t,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=pe.b8,this.allUploadFileTypes=pe.PO}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Un.k),t.rXU(ao),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["add-document-session-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),t.bIt("selectedTabChange",function(r){return o.onTabChanged(r)}),t.nrm(5,"mat-tab",3),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",3),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",4),t.DNE(10,dc,16,16,"div",5)(11,gc,10,10,"div",6),t.k0s()()()(),t.j41(12,"div",7)(13,"button",8),t.bIt("click",function(){return o.btnCloseDialog()}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",9),t.bIt("click",function(){return o.confirmUpload()}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(4),t.Y8G("selectedIndex",o.selectedIndex),t.R7$(),t.FS9("label",t.bMT(6,8,"lang_auto_upload_file")),t.R7$(2),t.FS9("label",t.bMT(8,10,"lang_config_educational_program_use_link")),t.R7$(3),t.Y8G("ngIf",0==o.selectedIndex),t.R7$(),t.Y8G("ngIf",1==o.selectedIndex),t.R7$(3),t.SpI(" ",t.bMT(15,12,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",o.fileNameControl.invalid),t.R7$(),t.SpI(" ",t.bMT(18,14,"lang_auto_luu")," "))},dependencies:[kt.U,Bn.V,oo,d.MD,d.YU,d.bT,c.X1,c.me,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,so.mq,so.T8,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();var Wn=g(57614);function fc(e,a){1&e&&(t.j41(0,"div",16)(1,"div",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function bc(e,a){if(1&e&&t.nrm(0,"azt-preview-file",18),2&e){const i=t.XpG(2);t.Y8G("fileUrl",i.embedLinkControl.value)("fileType",i.shareTypeFile)}}function vc(e,a){1&e&&t.nrm(0,"azt-loading-ui",19)}function kc(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"div",4)(3,"input",5),t.nI1(4,"mytranslate"),t.bIt("input",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.getVideoNameFromUrl())}),t.k0s()(),t.j41(5,"div",6),t.nrm(6,"input",7),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,fc,4,3,"div",8),t.k0s(),t.j41(9,"div",9)(10,"div",10),t.DNE(11,bc,1,2,"azt-preview-file",11),t.k0s()(),t.j41(12,"div",12)(13,"button",13),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.btnCloseDialog())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.confirmUpload())}),t.DNE(17,vc,1,0,"azt-loading-ui",15),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.bVm()}if(2&e){const i=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),t.Y8G("formControl",i.embedLinkControl),t.R7$(3),t.FS9("placeholder",t.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),t.Y8G("formControl",i.fileNameControl),t.R7$(2),t.Y8G("ngIf",i.fileNameControl.invalid),t.R7$(3),t.Y8G("ngIf",i.embedLinkControl.value),t.R7$(3),t.SpI(" ",t.bMT(15,14,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",!i.isValidEmbedUrl()||i.fileNameControl.invalid||i.statusObj.loading),t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,16,"lang_auto_luu")," ")}}function Tc(e,a){1&e&&(t.j41(0,"div",16)(1,"div",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function Cc(e,a){if(1&e&&t.nrm(0,"azt-preview-file",23),2&e){const i=t.XpG(2);t.Y8G("fileUrl",i.docsLinkControl.value)("customHeight",i.boxContentHeight)("fileType",i.shareTypeFile)}}function xc(e,a){1&e&&t.nrm(0,"azt-loading-ui",19)}function yc(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"div",4),t.nrm(3,"input",7),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",6),t.nrm(6,"input",7),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,Tc,4,3,"div",8),t.k0s(),t.j41(9,"div",9)(10,"div",20),t.DNE(11,Cc,1,3,"azt-preview-file",21),t.k0s()(),t.j41(12,"div",22)(13,"button",13),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.btnCloseDialog())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.confirmUpload())}),t.DNE(17,xc,1,0,"azt-loading-ui",15),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.bVm()}if(2&e){const i=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),t.Y8G("formControl",i.docsLinkControl),t.R7$(3),t.FS9("placeholder",t.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),t.Y8G("formControl",i.fileNameControl),t.R7$(2),t.Y8G("ngIf",i.fileNameControl.invalid),t.R7$(3),t.Y8G("ngIf",i.docsLinkControl.value),t.R7$(3),t.SpI(" ",t.bMT(15,14,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",!i.isValidDocsUrl()||i.fileNameControl.invalid||i.statusObj.loading),t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,16,"lang_auto_luu")," ")}}let Sc=(()=>{var e;class a extends pt._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,Q.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,Q.si)(this.docsLinkControl.value)}getNameVideo(n){return new Jn.c(o=>{this.youtubeService.getVideoDetails(n).subscribe(s=>{o.next(s.items&&s.items.length?s.items[0].snippet.title:"undefined"),o.complete()},s=>{o.next(void 0),o.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,Q.b3)(this.embedLinkControl.value)??"").subscribe(n=>{n&&this.fileNameControl.setValue(n)})}confirmUpload(){if(this.data.type==K.d.video&&this.embedLinkControl.valid&&(0,Q.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let n={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:$t.video,link:(0,Q.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(n)}this.data.type==K.d.google_docs&&this.docsLinkControl.valid&&(0,Q.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:$t.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(K.d,this.data.type,K.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(n,o,s,r,l){super(l,r),this.sAZTranslateService=n,this.http=o,this.youtubeService=s,this.dialogRef=r,this.data=l,this.embedLinkControl=new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),this.docsLinkControl=new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),this.fileNameControl=new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),this.shareTypeFile=K.d.video,this.boxContentHeight=0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Wn.o),t.rXU(qn.Qq),t.rXU(ao),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["add-video-session"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,kc,20,18,"ng-container",2)(3,yc,20,18,"ng-container",2),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("ngIf","video"==o.data.type),t.R7$(),t.Y8G("ngIf","google_docs"==o.data.type))},dependencies:[oo,N.R,d.MD,d.bT,c.X1,c.me,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();const Ic=[[["span"]]],jc=["span"];function Oc(e,a){1&e&&t.nrm(0,"azt-loading-ui",11)}function wc(e,a){1&e&&(t.j41(0,"span"),t.EFF(1," + "),t.k0s())}function Fc(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"button",8),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.DNE(2,Oc,1,0,"azt-loading-ui",9)(3,wc,2,0,"span",10),t.SdG(4),t.k0s(),t.bVm()}if(2&e){const i=t.XpG(),n=t.sdS(4);t.R7$(),t.HbH("btn btn-transparent w-48 block "+i.customClass),t.Y8G("disabled",i.loadingUpload)("matMenuTriggerFor",n),t.R7$(),t.Y8G("ngIf",i.loadingUpload),t.R7$(),t.Y8G("ngIf",!i.loadingUpload)}}function Ec(e,a){1&e&&t.nrm(0,"azt-loading-ui",11)}function Dc(e,a){1&e&&(t.j41(0,"span"),t.EFF(1," + "),t.k0s())}function Rc(e,a){if(1&e){const i=t.RV6();t.j41(0,"span",12),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.DNE(1,Ec,1,0,"azt-loading-ui",9)(2,Dc,2,0,"span",10),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG(),n=t.sdS(4);t.Y8G("matMenuTriggerFor",n),t.R7$(),t.Y8G("ngIf",i.loadingUpload),t.R7$(),t.Y8G("ngIf",!i.loadingUpload),t.R7$(2),t.Lme("",t.bMT(5,5,"lang_button_add")," ",t.bMT(6,7,"lang_auto_tai_lieu"),"")}}let Mc=(()=>{var e;class a extends j.H{showAddLinkDialog(n){this.loadingUpload=!0,this.sAztDialogService.open(Sc,{width:n==K.d.video?"750px":"950px",data:{showUp:!0,type:n},restoreFocus:!1}).afterClosed().subscribe(s=>{s?(this.emitFileDocument.emit({name:s.name,refId:0,groupType:s.groupType,type:s.type,link:s.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(n){this.loadingUpload=!0,this.sAztDialogService.open(hc,{width:"950px",data:{showUp:!0,type:n},restoreFocus:!1}).afterClosed().subscribe(s=>{s?(this.emitFileDocument.emit({name:s.name,refId:0,groupType:s.groupType,type:s.type,link:s.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(n){super(),this.sAztDialogService=n,this.isBtn=!0,this.customClass="",this.emitFileDocument=new t.bkB,this.loadingUpload=!1}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:jc,decls:27,vars:14,consts:[["otherBtnTemplate",""],["addDocumentMenu","matMenu"],[4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"click","disabled","matMenuTriggerFor"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"click","matMenuTriggerFor"]],template:function(n,o){if(1&n){const s=t.RV6();t.NAR(Ic),t.DNE(0,Fc,5,6,"ng-container",2)(1,Rc,7,9,"ng-template",null,0,t.C5r),t.j41(3,"mat-menu",3,1)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),t.bIt("click",function(){return t.eBV(s),t.Njj(o.showAddLinkDialog("video"))}),t.j41(9,"span"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()(),t.j41(12,"li")(13,"a",7),t.bIt("click",function(){return t.eBV(s),t.Njj(o.showAddDocumentDialog("document"))}),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"li")(18,"a",7),t.bIt("click",function(){return t.eBV(s),t.Njj(o.showAddDocumentDialog("homework"))}),t.j41(19,"span"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()(),t.j41(22,"li")(23,"a",7),t.bIt("click",function(){return t.eBV(s),t.Njj(o.showAddDocumentDialog("homework_view"))}),t.j41(24,"span"),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()()()()}if(2&n){const s=t.sdS(2);t.Y8G("ngIf",o.isBtn)("ngIfElse",s),t.R7$(10),t.SpI(" ",t.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),t.R7$(5),t.SpI(" ",t.bMT(16,8,"lang_config_educational_program_add_document")," "),t.R7$(5),t.SpI(" ",t.bMT(21,10,"lang_config_educational_program_add_homework")," "),t.R7$(5),t.SpI(" ",t.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[N.R,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,_t.kk,_t.Cp,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var Y=g(48910),te=g(75263),at=g(86600),Xt=g(24110),Zn=g(14085),he=g(47987);class Ut extends Error{}class Nc extends Ut{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class Gc extends Ut{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class $c extends Ut{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class sn extends Ut{constructor(a){super(`Invalid unit ${a}`),Object.setPrototypeOf(this,sn.prototype)}}class Kn extends Ut{constructor(a){super(`${a} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,Kn.prototype)}}class Ht extends Ut{constructor(a){super(a),Object.setPrototypeOf(this,Ht.prototype)}}class lt extends Ut{constructor(a){super(a),Object.setPrototypeOf(this,lt.prototype)}}class Ft extends Ut{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,Ft.prototype)}}class De{get type(){throw new Ft}get ianaName(){return this.name}get name(){throw new Ft}get isUniversal(){throw new Ft}offsetName(a,i){throw new Ft}formatOffset(a,i){throw new Ft}offset(a){throw new Ft}equals(a){throw new Ft}get isValid(){throw new Ft}}var st=Intl;let ln={};const zc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let cn={};class zt extends De{static create(a){return cn[a]||(cn[a]=new zt(a)),cn[a]}static resetCache(){cn={},ln={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return new st.DateTimeFormat("en-US",{timeZone:a}).format(),!0}catch{return!1}}constructor(a){super(),this._zoneName=a,this._valid=zt.isValidZone(a)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(a,{format:i,locale:n}={}){return ea(a,i,n,this.name)}formatOffset(a,i){return Ne(this.offset(a),i)}offset(a){const i=new Date(a);if(isNaN(+i))return NaN;const n=function(F){if(!ln[F])try{ln[F]=new st.DateTimeFormat("en-US",{hour12:!1,timeZone:F,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new Kn(F)}return ln[F]}(this.name);let o;const[s,r,l,m,_,u,p]=typeof n.formatToParts==typeof isNaN?function(F,E){const z=F.formatToParts(E),H=[];for(let J=0;J<z.length;J++){const{type:$,value:Z}=z[J],Mt=zc[$];"era"===$?H[Mt]=Z:ut(Mt)||(H[Mt]=parseInt(Z,10))}return H}(n,i):function(F,E){const z=F.format(E).replace(/\u200E/g,""),H=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(z),[,J,$,Z,Mt,le,$n,qi]=H;return[Z,J,$,Mt,le,$n,qi]}(n,i);"BC"===m&&(o=1-Math.abs(+s));let T=+i;const k=T%1e3;return T-=k>=0?k:1e3+k,(fn({year:o||+s,month:+r,day:+l,hour:+(24===_?0:_),minute:+u,second:+p,millisecond:0})-T)/6e4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this._valid}}const O="numeric",Tt="short",gt="long",mn={year:O,month:O,day:O},ro={year:O,month:Tt,day:O},Lc={year:O,month:Tt,day:O,weekday:Tt},lo={year:O,month:gt,day:O},co={year:O,month:gt,day:O,weekday:gt},mo={hour:O,minute:O},_o={hour:O,minute:O,second:O},uo={hour:O,minute:O,second:O,timeZoneName:Tt},po={hour:O,minute:O,second:O,timeZoneName:gt},go={hour:O,minute:O,hourCycle:"h23"},ho={hour:O,minute:O,second:O,hourCycle:"h23"},fo={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:Tt},bo={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:gt},vo={year:O,month:O,day:O,hour:O,minute:O},ko={year:O,month:O,day:O,hour:O,minute:O,second:O},To={year:O,month:Tt,day:O,hour:O,minute:O},Co={year:O,month:Tt,day:O,hour:O,minute:O,second:O},Ac={year:O,month:Tt,day:O,weekday:Tt,hour:O,minute:O},xo={year:O,month:gt,day:O,hour:O,minute:O,timeZoneName:Tt},yo={year:O,month:gt,day:O,hour:O,minute:O,second:O,timeZoneName:Tt},So={year:O,month:gt,day:O,weekday:gt,hour:O,minute:O,timeZoneName:gt},Io={year:O,month:gt,day:O,weekday:gt,hour:O,minute:O,second:O,timeZoneName:gt},Pc=["January","February","March","April","May","June","July","August","September","October","November","December"],jo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yc=["J","F","M","A","M","J","J","A","S","O","N","D"];function Oo(e){switch(e){case"narrow":return[...Yc];case"short":return[...jo];case"long":return[...Pc];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const wo=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Fo=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Vc=["M","T","W","T","F","S","S"];function Eo(e){switch(e){case"narrow":return[...Vc];case"short":return[...Fo];case"long":return[...wo];case"numeric":return["1","2","3","4","5","6","7"]}}const Do=["AM","PM"],Bc=["Before Christ","Anno Domini"],Xc=["BC","AD"],Uc=["B","A"];function Ro(e){switch(e){case"narrow":return[...Uc];case"short":return[...Xc];case"long":return[...Bc]}}let Qn={},ti={};function ei(e,a={}){const i=JSON.stringify([e,a]);let n=ti[i];return n||(n=new st.DateTimeFormat(e,a),ti[i]=n),n}let dn,ni={},ii={};function _n(e,a,i,n){return"en"===e.listingMode()?i(a):n(a)}class Hc{constructor(a,i,n){const{padTo:o,floor:s}=n,r=function(l,m){var _={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&m.indexOf(u)<0&&(_[u]=l[u]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(u=Object.getOwnPropertySymbols(l);p<u.length;p++)m.indexOf(u[p])<0&&Object.prototype.propertyIsEnumerable.call(l,u[p])&&(_[u[p]]=l[u[p]])}return _}(n,["padTo","floor"]);if(this._padTo=o||0,this._floor=s||!1,!i||Object.keys(r).length>0){const l=Object.assign({useGrouping:!1},n);this._padTo>0&&(l.minimumIntegerDigits=o),this._inf=function(m,_){const u=JSON.stringify([m,_]);let p=ni[u];return p||(p=new st.NumberFormat(m,_),ni[u]=p),p}(a,l)}}format(a){if(this._inf){const i=this._floor?Math.floor(a):a;return this._inf.format(i)}return it(this._floor?Math.floor(a):ui(a,3),this._padTo)}}class Jc{get dtf(){return this._dtf}constructor(a,i,n){let o;if(this._opts=n,this._opts.timeZone)this._dt=a;else if("fixed"===a.zone.type){const r=a.offset/60*-1,l=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;0!==a.offset&&zt.create(l).isValid?(o=l,this._dt=a):(o="UTC",this._dt=0===a.offset?a:a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone)}else"system"===a.zone.type?this._dt=a:"iana"===a.zone.type?(this._dt=a,o=a.zone.name):(o="UTC",this._dt=a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone);const s=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||o});this._dtf=ei(i,s)}format(){return this._originalZone?this.formatToParts().map(({value:a})=>a).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const a=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?a.map(i=>{if("timeZoneName"===i.type){const n=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},i),{value:n})}return i}):a}resolvedOptions(){return this._dtf.resolvedOptions()}}class qc{constructor(a,i,n){this._opts=Object.assign({style:"long"},n),!i&&Wo()&&(this._rtf=function(o,s={}){const r=JSON.stringify([o,s]);let l=ii[r];return l||(l=new st.RelativeTimeFormat(o,s),ii[r]=l),l}(a,n))}format(a,i){return this._rtf?this._rtf.format(a,i):function(n,o,s="always",r=!1){const l=D.normalizeUnit(n),m={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[l],_=-1===["hours","minutes","seconds"].indexOf(l);if("auto"===s&&_){const F="days"===l;switch(o){case 1:return F?"tomorrow":`next ${m[0]}`;case-1:return F?"yesterday":`last ${m[0]}`;case 0:return F?"today":`this ${m[0]}`}}const u=Object.is(o,-0)||o<0,p=Math.abs(o),T=1===p,k=r?T?m[1]:m[2]||m[1]:T?m[0]:l;return u?`${p} ${k} ago`:`in ${p} ${k}`}(i,a,this._opts.numeric,"long"!==this._opts.style)}formatToParts(a,i){return this._rtf?this._rtf.formatToParts(a,i):[]}}let U=(()=>{class e{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(i,n,o,s,r){const[l,m,_]=function(u){const p=u.indexOf("-x-");-1!==p&&(u=u.substring(0,p));const T=u.indexOf("-u-");if(-1===T)return[u];{let k,F;try{k=ei(u).resolvedOptions(),F=u}catch{const J=u.substring(0,T);k=ei(J).resolvedOptions(),F=J}const{numberingSystem:E,calendar:z}=k;return[F,E,z]}}(i);var u,p,T;this.locale=l,this.numberingSystem=n||m,this.outputCalendar=o||_,this._intl=(u=this.locale,p=this.numberingSystem,((T=this.outputCalendar)||p)&&(u.includes("-u-")||(u+="-u"),T&&(u+=`-ca-${T}`),p&&(u+=`-nu-${p}`)),u),this._weekSettings=s,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=r,this._fastNumbersCached=void 0}static create(i,n,o,s,r=!1){const l=i||tt.defaultLocale,m=l||(r?"en-US":(dn||(dn=(new st.DateTimeFormat).resolvedOptions().locale),dn)),_=n||tt.defaultNumberingSystem,u=o||tt.defaultOutputCalendar,p=di(s)||tt.defaultWeekSettings;return new e(m,_,u,p,l)}static fromObject({locale:i,numberingSystem:n,outputCalendar:o,weekSettings:s}={}){return e.create(i,n,o,s)}static fromOpts(i){return e.create(i.locale,i.numberingSystem,i.outputCalendar,i.weekSettings,i.defaultToEN)}static resetCache(){dn=void 0,Qn={},ti={},ni={},ii={}}clone(i){return i&&0!==Object.getOwnPropertyNames(i).length?e.create(i.locale||this._specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,di(i.weekSettings)||this._weekSettings,i.defaultToEN||!1):this}dtFormatter(i,n={}){return new Jc(i,this._intl,n)}equals(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar}eras(i){return _n(this,i,Ro,n=>{const o={era:n};return this._eraCache[n]||(this._eraCache[n]=[I.utc(-40,1,1),I.utc(2017,1,1)].map(s=>this.extract(s,o,"era"))),this._eraCache[n]})}extract(i,n,o){const s=this.dtFormatter(i,n).formatToParts().find(r=>r.type.toLowerCase()===o.toLowerCase());if(!s)throw new Error(`Invalid extract field ${o}`);return s.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:Zo()?this._getCachedWeekInfo(this.locale):ie}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new st.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(i={}){return function(n,o={}){const s=JSON.stringify([n,o]);let r=Qn[s];return r||(r=new st.ListFormat(n,o),Qn[s]=r),r}(this._intl,i)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return _n(this,"long",()=>Do,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[I.utc(2016,11,13,9),I.utc(2016,11,13,19)].map(i=>this.extract(i,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(i,n=!1){return _n(this,i,Oo,o=>{const s=n?{month:o,day:"numeric"}:{month:o},r=n?"format":"standalone";return this._monthsCache[r][o]||(this._monthsCache[r][o]=function(l){const m=[];for(let _=1;_<=12;_++){const u=I.utc(2009,_,1);m.push(l(u))}return m}(l=>this.extract(l,s,"month"))),this._monthsCache[r][o]})}numberFormatter(i={}){return new Hc(this._intl,this.fastNumbers,i)}redefaultToEN(i={}){return this.clone(Object.assign(Object.assign({},i),{defaultToEN:!0}))}redefaultToSystem(i={}){return this.clone(Object.assign(Object.assign({},i),{defaultToEN:!1}))}relFormatter(i={}){return new qc(this._intl,this.isEnglish(),i)}weekdays(i,n=!1){return _n(this,i,Eo,o=>{const s=n?{weekday:o,year:"numeric",month:"long",day:"numeric"}:{weekday:o},r=n?"format":"standalone";return this._weekdaysCache[r][o]||(this._weekdaysCache[r][o]=function(l){const m=[];for(let _=1;_<=7;_++){const u=I.utc(2016,11,13+_);m.push(l(u))}return m}(l=>this.extract(l,s,"weekday"))),this._weekdaysCache[r][o]})}_getCachedWeekInfo(i){let n=e._weekInfoCache[i];if(!n){const o=new st.Locale(i);n="getWeekInfo"in o?o.getWeekInfo():o.weekInfo,e._weekInfoCache[i]=n}return n}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===st.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return e._weekInfoCache={},e})(),oi=null;class mt extends De{static get utcInstance(){return null===oi&&(oi=new mt(0)),oi}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${Ne(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${Ne(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(a){super(),this._fixed=a}static instance(a){return 0===a?mt.utcInstance:new mt(a)}static parseSpecifier(a){if(a){const i=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new mt(bn(i[1],i[2]))}return null}offsetName(){return this.name}formatOffset(a,i){return Ne(this._fixed,i)}offset(){return this._fixed}equals(a){return"fixed"===a.type&&a._fixed===this._fixed}}class ai extends De{constructor(a){super(),this._zoneName=a,Object.setPrototypeOf(this,ai.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let si=null;class un extends De{static get instance(){return null===si&&(si=new un),si}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:i,locale:n}){return ea(a,i,n)}formatOffset(a,i){return Ne(this.offset(a),i)}offset(a){return-new Date(a).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}const Jt=(e,a)=>{if(ut(e)||null===e)return a;if(e instanceof De)return e;if("string"==typeof e){const i=e.toLowerCase();return"default"===i?a:"local"===i||"system"===i?un.instance:"utc"===i||"gmt"===i?mt.utcInstance:mt.parseSpecifier(i)||zt.create(e)}return Lt(e)?mt.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new ai(e)};let Mo,No,Go,$o,zo=()=>Date.now(),ri="system",Lo=60,Ao=!1;class tt{static set defaultLocale(a){Mo=a}static get defaultLocale(){return Mo}static set defaultNumberingSystem(a){No=a}static get defaultNumberingSystem(){return No}static set defaultOutputCalendar(a){Go=a}static get defaultOutputCalendar(){return Go}static set defaultWeekSettings(a){$o=di(a)}static get defaultWeekSettings(){return $o}static set defaultZone(a){ri=a}static get defaultZone(){return Jt(ri,un.instance)}static set defaultZoneLike(a){ri=a}static set now(a){zo=a}static get now(){return zo}static set throwOnInvalid(a){Ao=a}static get throwOnInvalid(){return Ao}static set twoDigitCutoffYear(a){Lo=a%100}static get twoDigitCutoffYear(){return Lo}static resetCaches(){U.resetCache(),zt.resetCache()}}class Ct{constructor(a,i){this.reason=a,this.explanation=i,this._formattedExplanation="",i&&(this._formattedExplanation=`: ${i}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Po=[0,31,59,90,120,151,181,212,243,273,304,334],Yo=[0,31,60,91,121,152,182,213,244,274,305,335];function ht(e,a){return new Ct("unit out of range",`you specified ${a} (of type ${typeof a}) as a ${e}, which is invalid`)}function Vo(e,a,i){return i+(Re(e)?Yo:Po)[a-1]}function Bo(e,a){const i=Re(e)?Yo:Po,n=i.findIndex(o=>o<a);return{month:n+1,day:a-i[n]}}function li(e,a,i){const n=new Date(Date.UTC(e,a-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const o=n.getUTCDay();return 0===o?7:o}function pn(e,a=ie.minimalDays,i=ie.firstDay){const{year:n,month:o,day:s}=e,r=Vo(n,o,s),l=mi(li(n,o,s),i);let m,_=Math.floor((r-l+14-a)/7);return _<1?(m=n-1,_=Me(m,a,i)):_>Me(n,a,i)?(m=n+1,_=1):m=n,Object.assign({weekYear:m,weekNumber:_,weekday:l},kn(e))}function Xo(e,a=ie.minimalDays,i=ie.firstDay){const{weekYear:n,weekNumber:o,weekday:s}=e,r=mi(li(n,1,a),i),l=fe(n);let m,_=7*o+s-r-7+a;_<1?(m=n-1,_+=fe(m)):_>l?(m=n+1,_-=fe(n)):m=n;const{month:u,day:p}=Bo(m,_);return Object.assign({year:m,month:u,day:p},kn(e))}function ci(e){const{year:a,month:i,day:n}=e,o=Vo(a,i,n);return Object.assign({year:a,ordinal:o},kn(e))}function Uo(e){const{year:a,ordinal:i}=e,{month:n,day:o}=Bo(a,i);return Object.assign({year:a,month:n,day:o},kn(e))}function Ho(e){const a=gn(e.year),i=ft(e.month,1,12),n=ft(e.day,1,hn(e.year,e.month));return a?i?!n&&ht("day",e.day):ht("month",e.month):ht("year",e.year)}function Jo(e){const{hour:a,minute:i,second:n,millisecond:o}=e,s=ft(a,0,23)||24===a&&0===i&&0===n&&0===o,r=ft(i,0,59),l=ft(n,0,59),m=ft(o,0,999);return s?r?l?!m&&ht("millisecond",o):ht("second",n):ht("minute",i):ht("hour",a)}function mi(e,a){return(e-a+7)%7+1}function qo(e,a){if(A(e.localWeekday)||A(e.localWeekNumber)||A(e.localWeekYear)){if(A(e.weekday)||A(e.weekNumber)||A(e.weekYear))throw new Ht("Cannot mix locale-based week fields with ISO-based week fields");return A(e.localWeekday)&&(e.weekday=e.localWeekday),A(e.localWeekNumber)&&(e.weekNumber=e.localWeekNumber),A(e.localWeekYear)&&(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:a.getMinDaysInFirstWeek(),startOfWeek:a.getStartOfWeek()}}return{minDaysInFirstWeek:ie.minimalDays,startOfWeek:ie.firstDay}}function A(e){return void 0!==e}function ut(e){return void 0===e}function Lt(e){return"number"==typeof e}function gn(e){return Lt(e)&&e%1==0}function Wo(){try{return void 0!==st&&!!st.RelativeTimeFormat}catch{return!1}}function Zo(){try{return void 0!==st&&!!st.Locale&&("weekInfo"in st.Locale.prototype||"getWeekInfo"in st.Locale.prototype)}catch{return!1}}function Ko(e,a,i){if(0!==e.length)return e.reduce((n,o)=>{const s=[a(o),o];return i(n[0],s[0])===n[0]?n:s},[a(e[0]),e[0]])[1]}function di(e){if(e){if("object"!=typeof e)throw new lt("Week settings must be an object");if(!ft(e.firstDay,1,7)||!ft(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(a=>!ft(a,1,7)))throw new lt("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:e.weekend}}}function ft(e,a,i){return gn(e)&&e>=a&&e<=i}function it(e,a=2){const i=+e<0?"-":"",n=i?-1*+e:e;let o;return o=n.toString().length<a?("0".repeat(a)+n).slice(-a):n.toString(),`${i}${o}`}function qt(e){if(e)return parseInt(e,10)}function ee(e){if(e)return parseFloat(e)}function _i(e){if(!ut(e)&&null!==e&&""!==e){const a=1e3*parseFloat("0."+e);return Math.floor(a)}}function ui(e,a,i=!1){const n=Math.pow(10,a);return(i?Math.trunc:Math.round)(e*n)/n}function Re(e){return e%4==0&&(e%100!=0||e%400==0)}function fe(e){return Re(e)?366:365}function hn(e,a){const i=(n=a-1)-12*Math.floor(n/12)+1;var n;return[31,Re(e+(a-i)/12)?29:28,31,30,31,30,31,31,30,31,30,31][i-1]}function fn(e){let a=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(a=new Date(a),a.setUTCFullYear(e.year,e.month-1,e.day)),+a}function Qo(e,a,i){return-mi(li(e,1,a),i)+a-1}function Me(e,a=4,i=1){const n=Qo(e,a,i),o=Qo(e+1,a,i);return(fe(e)-n+o)/7}function ta(e){return e>99?e:e>tt.twoDigitCutoffYear?1900+e:2e3+e}function ea(e,a,i,n){const o=new Date(e),r=Object.assign({timeZoneName:a},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:n}),l=new st.DateTimeFormat(i,r).formatToParts(o).find(m=>"timezonename"===m.type.toLowerCase());return l?l.value:null}function bn(e,a){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(a,10)||0;return 60*i+(i<0||Object.is(i,-0)?-n:n)}function na(e){const a=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(a))throw new lt(`Invalid unit value ${e}`);return a}function vn(e,a){return Object.keys(e).reduce((i,n)=>(null!=e[n]&&(i[a(n)]=na(e[n])),i),{})}function Ne(e,a){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(a){case"short":return`${o}${it(i,2)}:${it(n,2)}`;case"narrow":return`${o}${i}${n>0?`:${n}`:""}`;case"techie":return`${o}${it(i,2)}${it(n,2)}`;default:throw new RangeError(`Value format ${a} is out of range for property format`)}}function kn(e){return a=e,["hour","minute","second","millisecond"].reduce((n,o)=>(n[o]=a[o],n),{});var a}const ne=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pi=ne.slice(0).reverse(),ia=["years","months","days","hours","minutes","seconds","milliseconds"],Wc={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},ie={firstDay:1,minimalDays:4,weekend:[6,7]};function oa(e,a){let i="";for(const n of e)i+=n.literal?n.val:a(n.val);return i}const Zc={D:mn,DD:ro,DDD:lo,DDDD:co,t:mo,tt:_o,ttt:uo,tttt:po,T:go,TT:ho,TTT:fo,TTTT:bo,f:vo,ff:To,fff:xo,ffff:So,F:ko,FF:Co,FFF:yo,FFFF:Io};class ct{constructor(a,i){this._opts=i,this._loc=a,this._systemLoc=void 0}static create(a,i={}){return new ct(a,i)}static macroTokenToFormatOpts(a){return Zc[a]}static parseFormat(a){let i=null,n="",o=!1;const s=[];for(let r=0;r<a.length;r++){const l=a.charAt(r);"'"===l?(n.length>0&&s.push({literal:o||/^\s+$/.test(n),val:n}),i=null,n="",o=!o):o||l===i?n+=l:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=l,i=l)}return n.length>0&&s.push({literal:o||/^\s+$/.test(n),val:n}),s}dtFormatter(a,i={}){return this._loc.dtFormatter(a,Object.assign(Object.assign({},this._opts),i))}formatDateTime(a,i){return this.dtFormatter(a,i).format()}formatDateTimeFromString(a,i){const n="en"===this._loc.listingMode(),o=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,s=(T,k)=>this._loc.extract(a,T,k),r=T=>a.isOffsetFixed&&0===a.offset&&T.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,T.format):"",m=(T,k)=>{return n?(F=a,Oo(T)[F.month-1]):s(k?{month:T}:{month:T,day:"numeric"},"month");var F},_=(T,k)=>{return n?(F=a,Eo(T)[F.weekday-1]):s(k?{weekday:T}:{weekday:T,month:"long",day:"numeric"},"weekday");var F},u=T=>{const k=ct.macroTokenToFormatOpts(T);return k?this.formatWithSystemDefault(a,k):T},p=T=>{return n?(k=a,Ro(T)[k.year<0?0:1]):s({era:T},"era");var k};return oa(ct.parseFormat(i),T=>{switch(T){case"S":return this.num(a.millisecond);case"u":case"SSS":return this.num(a.millisecond,3);case"s":return this.num(a.second);case"ss":return this.num(a.second,2);case"uu":return this.num(Math.floor(a.millisecond/10),2);case"uuu":return this.num(Math.floor(a.millisecond/100));case"m":return this.num(a.minute);case"mm":return this.num(a.minute,2);case"h":return this.num(a.hour%12==0?12:a.hour%12);case"hh":return this.num(a.hour%12==0?12:a.hour%12,2);case"H":return this.num(a.hour);case"HH":return this.num(a.hour,2);case"Z":return r({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return r({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this._loc.locale})||"";case"z":return a.zoneName||"";case"a":return n?Do[a.hour<12?0:1]:s({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return o?s({day:"numeric"},"day"):this.num(a.day);case"dd":return o?s({day:"2-digit"},"day"):this.num(a.day,2);case"c":case"E":return this.num(a.weekday);case"ccc":return _("short",!0);case"cccc":return _("long",!0);case"ccccc":return _("narrow",!0);case"EEE":return _("short",!1);case"EEEE":return _("long",!1);case"EEEEE":return _("narrow",!1);case"L":return o?s({month:"numeric",day:"numeric"},"month"):this.num(a.month);case"LL":return o?s({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case"LLL":return m("short",!0);case"LLLL":return m("long",!0);case"LLLLL":return m("narrow",!0);case"M":return o?s({month:"numeric"},"month"):this.num(a.month);case"MM":return o?s({month:"2-digit"},"month"):this.num(a.month,2);case"MMM":return m("short",!1);case"MMMM":return m("long",!1);case"MMMMM":return m("narrow",!1);case"y":return o?s({year:"numeric"},"year"):this.num(a.year);case"yy":return o?s({year:"2-digit"},"year"):this.num(parseInt(a.year.toString().slice(-2),10),2);case"yyyy":return o?s({year:"numeric"},"year"):this.num(a.year,4);case"yyyyyy":return o?s({year:"numeric"},"year"):this.num(a.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(parseInt(a.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(a.weekYear,4);case"W":return this.num(a.weekNumber);case"WW":return this.num(a.weekNumber,2);case"o":return this.num(a.ordinal);case"ooo":return this.num(a.ordinal,3);case"q":return this.num(a.quarter);case"qq":return this.num(a.quarter,2);case"X":return this.num(Math.floor(a.ts/1e3));case"x":return this.num(a.ts);default:return u(T)}})}formatDateTimeParts(a,i){return this.dtFormatter(a,i).formatToParts()}formatDurationFromString(a,i){const n=r=>{switch(r[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},o=ct.parseFormat(i),s=o.reduce((r,{literal:l,val:m})=>l?r:r.concat(m),[]);return oa(o,(r=>l=>{const m=n(l);return m?this.num(r.get(m),l.length):l})(a.shiftTo(...s.map(n).filter(r=>!!r))))}formatInterval(a,i={}){if(!a.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(a.start,i).dtf.formatRange(a.start.toJSDate(),a.end.toJSDate())}formatWithSystemDefault(a,i){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(a,Object.assign(Object.assign({},this._opts),i)).format()}num(a,i=0){if(this._opts.forceSimple)return it(a,i);const n=Object.assign({},this._opts);return i>0&&(n.padTo=i),this._loc.numberFormatter(n).format(a)}resolvedOptions(a,i={}){return this.dtFormatter(a,i).resolvedOptions()}}function be(...e){const a=e.reduce((i,n)=>i+n.source,"");return RegExp(`^${a}$`)}function ve(...e){return a=>e.reduce(([i,n,o],s)=>{const[r,l,m]=s(a,o);return[Object.assign(Object.assign({},i),r),l||n,m]},[{},null,1]).slice(0,2)}function ke(e,...a){if(null==e)return[null,null];for(const[i,n]of a){const o=i.exec(e);if(o)return n(o)}return[null,null]}function aa(...e){return(a,i)=>{const n={};let o;for(o=0;o<e.length;o++)n[e[o]]=qt(a[i+o]);return[n,null,i+o]}}const sa=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,ra=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,gi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,la=RegExp(`${gi.source}(?:${ra.source}?(?:\\[(${sa.source})\\])?)?`),hi=RegExp(`(?:T${la.source})?`),Kc=aa("weekYear","weekNumber","weekday"),Qc=aa("year","ordinal"),ca=RegExp(`${gi.source} ?(?:${ra.source}|(${sa.source}))?`),tm=RegExp(`(?: ${ca.source})?`);function Te(e,a,i){return ut(e[a])?i:qt(e[a])}function Ce(e,a){return[{hour:Te(e,a,0),minute:Te(e,a+1,0),second:Te(e,a+2,0),millisecond:_i(e[a+3])},null,a+4]}function Ge(e,a){const i=!e[a]&&!e[a+1],n=bn(e[a+1],e[a+2]);return[{},i?null:mt.instance(n),a+3]}function $e(e,a){return[{},e[a]?zt.create(e[a]):null,a+1]}const em=RegExp(`^T?${gi.source}$`),nm=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function im(e){const[a,i,n,o,s,r,l,m,_]=e,u=a.startsWith("-"),p=!!m&&m.startsWith("-"),T=(k,F=!1)=>"number"==typeof k&&(F||k&&u)?-k:k;return[{years:T(ee(i)),months:T(ee(n)),weeks:T(ee(o)),days:T(ee(s)),hours:T(ee(r)),minutes:T(ee(l)),seconds:T(ee(m),"-0"===m),milliseconds:T(_i(_),p)}]}const om={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function fi(e,a,i,n,o,s,r){let l;return e&&(l=e.length>3?wo.indexOf(e)+1:Fo.indexOf(e)+1),{year:2===a.length?ta(qt(a)):qt(a),month:jo.indexOf(i)+1,day:qt(n),hour:qt(o),minute:qt(s),second:qt(r),weekday:l}}const am=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function sm(e){const[,a,i,n,o,s,r,l,m,_,u,p]=e,T=fi(a,o,n,i,s,r,l);let k;return k=m?om[m]:_?0:bn(u,p),[T,new mt(k)]}const rm=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,lm=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,cm=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ma(e){const[,a,i,n,o,s,r,l]=e;return[fi(a,o,n,i,s,r,l),mt.utcInstance]}function mm(e){const[,a,i,n,o,s,r,l]=e;return[fi(a,l,i,n,o,s,r),mt.utcInstance]}const dm=be(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,hi),_m=be(/(\d{4})-?W(\d\d)(?:-?(\d))?/,hi),um=be(/(\d{4})-?(\d{3})/,hi),pm=be(la),da=ve(function(e,a){return[{year:Te(e,a,0),month:Te(e,a+1,1),day:Te(e,a+2,1)},null,a+3]},Ce,Ge,$e),gm=ve(Kc,Ce,Ge,$e),hm=ve(Qc,Ce,Ge,$e),fm=ve(Ce,Ge,$e),bm=be(/(\d{4})-(\d\d)-(\d\d)/,tm),vm=be(ca),km=ve(Ce,Ge,$e),_a={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Tm=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},_a),ym=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},_a);function ua(e,a){var i;let n=null!==(i=a.milliseconds)&&void 0!==i?i:0;for(const o of pi.slice(1))a[o]&&(n+=a[o]*e[o].milliseconds);return n}class D{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(a){let i,n;"longterm"===a.conversionAccuracy?(n="longterm",i=ym):(n="casual",i=Tm),a.matrix&&(i=a.matrix),this._values=a.values||{},this._loc=a.loc||U.create(),this._conversionAccuracy=n,this._invalid=a.invalid||null,this._matrix=i,this._isLuxonDuration=!0}static fromDurationLike(a){if(Lt(a))return D.fromMillis(a);if(D.isDuration(a))return a;if("object"==typeof a)return D.fromObject(a);throw new lt(`Unknown duration argument ${a} of type ${typeof a}`)}static fromISO(a,i){const[n]=ke(a,[nm,im]);return n?D.fromObject(n,i):D.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,i={}){const[n]=ke(a,[em,ve(Ce)]);return n?D.fromObject(n,i):D.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromMillis(a,i={}){return D.fromObject({milliseconds:a},i)}static fromObject(a,i={}){if(null==a||"object"!=typeof a)throw new lt("Duration.fromObject: argument expected to be an object, got "+(null===a?"null":typeof a));return new D({values:vn(a,D.normalizeUnit),loc:U.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static invalid(a,i){if(!a)throw new lt("need to specify a reason the Duration is invalid");const n=a instanceof Ct?a:new Ct(a,i);if(tt.throwOnInvalid)throw new Gc(n);return new D({invalid:n})}static isDuration(a){return!!a&&a._isLuxonDuration||!1}static normalizeUnit(a){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a];if(!i)throw new sn(a);return i}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(a){return this.shiftTo(a).get(a)}equals(a){if(!this.isValid||!a.isValid||!this._loc.equals(a._loc))return!1;for(const o of ne)if(n=a._values[o],!(void 0===(i=this._values[o])||0===i?void 0===n||0===n:i===n))return!1;var i,n;return!0}get(a){return this[D.normalizeUnit(a)]}getMaxUnit(a=!1){const i=a?ia:ne,n=this.shiftTo(...i).toObject();return i.find(o=>(n[o]||0)>0)||pi[0]}mapUnits(a){if(!this.isValid)return this;const i={};return Object.keys(this._values).forEach(n=>{i[n]=na(a(this._values[n],n))}),this._clone(this,{values:i},!0)}minus(a){if(!this.isValid)return this;const i=D.fromDurationLike(a);return this.plus(i.negate())}negate(){if(!this.isValid)return this;const a={};return Object.keys(this._values).forEach(i=>{a[i]=0===this._values[i]?0:-this._values[i]}),this._clone(this,{values:a},!0)}normalize(){if(!this.isValid)return this;const a=this.toObject();return function(i,n){const o=ua(i,n)<0?-1:1;pi.reduce((s,r)=>{if(ut(n[r]))return s;if(s){const m=i[r][s],_=Math.floor(n[s]*o/m);n[r]+=_*o,n[s]-=_*m*o}return r},null),ne.reduce((s,r)=>{if(ut(n[r]))return s;if(s){const l=n[s]%1;n[s]-=l,n[r]+=l*i[s][r]}return r},null)}(this._matrix,a),this._clone(this,{values:a},!0)}plus(a){if(!this.isValid)return this;const i=D.fromDurationLike(a),n={};return ne.forEach(o=>{void 0===i._values[o]&&void 0===this._values[o]||(n[o]=i.get(o)+this.get(o))}),this._clone(this,{values:n},!0)}reconfigure({locale:a,numberingSystem:i,conversionAccuracy:n,matrix:o}={}){const s={loc:this._loc.clone({locale:a,numberingSystem:i}),matrix:o,conversionAccuracy:n};return this._clone(this,s)}rescale(){if(!this.isValid)return this;const a=function(i={}){return Object.entries(i).reduce((n,[o,s])=>(0!==s&&(n[o]=s),n),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:a},!0)}set(a){if(!this.isValid)return this;const i=Object.assign(Object.assign({},this._values),vn(a,D.normalizeUnit));return this._clone(this,{values:i})}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(r=>D.normalizeUnit(r));const i={},n={},o=this.toObject();let s;return ne.forEach(r=>{if(a.indexOf(r)>=0){s=r;let l=0;Object.keys(n).forEach(_=>{l+=this._matrix[_][r]*n[_],n[_]=0}),Lt(o[r])&&(l+=o[r]);const m=Math.trunc(l);i[r]=m,n[r]=(1e3*l-1e3*m)/1e3}else Lt(o[r])&&(n[r]=o[r])}),Object.keys(n).forEach(r=>{const l=n[r];0!==l&&(i[s]+=r===s?l:l/this._matrix[s][r])}),this._clone(this,{values:i},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(a,i={floor:!0}){const n=Object.assign(Object.assign({},i),{floor:!1!==i.round&&!1!==i.floor});return this.isValid?ct.create(this._loc,n).formatDurationFromString(this,a):D._INVALID}toHuman(a={}){if(!this.isValid)return D._INVALID;const i=this.getMaxUnit(!0),n=a.onlyHumanUnits?ia:ne,o=this.shiftTo(...n.slice(n.indexOf(i))).toObject(),s=n.map(l=>{const m=o[l];return ut(m)||0===m?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},a),{unit:l.slice(0,-1)})).format(m)}).filter(l=>l),r=Object.assign({type:"conjunction",style:a.listStyle||"narrow"},a);return this._loc.listFormatter(r).format(s)}toISO(){if(!this.isValid)return null;let a="P";return 0!==this.years&&(a+=this.years+"Y"),0===this.months&&0===this.quarters||(a+=this.months+3*this.quarters+"M"),0!==this.weeks&&(a+=this.weeks+"W"),0!==this.days&&(a+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(a+="T"),0!==this.hours&&(a+=this.hours+"H"),0!==this.minutes&&(a+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(a+=ui(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===a&&(a+="T0S"),a}toISOTime(a={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(a=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},a),{includeOffset:!1}),I.fromMillis(i,{zone:"UTC"}).toISOTime(a))}toJSON(){return this.toISO()}toMillis(){return this.isValid?ua(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(a,i,n=!1){const o={values:n?i.values:Object.assign(Object.assign({},a._values),i.values||{}),loc:a._loc.clone(i.loc),conversionAccuracy:i.conversionAccuracy||a.conversionAccuracy,matrix:i.matrix||a.matrix};return new D(o)}}const xe="Invalid Interval";function ze(e){if(I.isDateTime(e))return e;if(e&&e.valueOf&&Lt(e.valueOf()))return I.fromJSDate(e);if(e&&"object"==typeof e)return I.fromObject(e);throw new lt(`Unknown datetime argument: ${e}, of type ${typeof e}`)}class q{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(a){this._s=a.start,this._e=a.end,this._invalid=a.invalid||null,this._isLuxonInterval=!0}static after(a,i){const n=D.fromDurationLike(i),o=ze(a);return new q({start:o,end:o?o.plus(n):void 0})}static before(a,i){const n=D.fromDurationLike(i),o=ze(a);return new q({start:o?o.minus(n):void 0,end:o})}static fromDateTimes(a,i){const n=ze(a),o=ze(i);return l=o,((r=n)&&r.isValid?l&&l.isValid?l<r?q.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${l.toISO()}`):void 0:q.invalid("missing or invalid end"):q.invalid("missing or invalid start"))||new q({start:n,end:o});var r,l}static fromISO(a,i={}){const[n,o]=(a||"").split("/",2);if(n&&o){let s,r,l,m;try{s=I.fromISO(n,i),r=s.isValid}catch{r=!1}try{l=I.fromISO(o,i),m=l.isValid}catch{m=!1}if(r&&m)return q.fromDateTimes(s,l);if(r){const _=D.fromISO(o,i);if(_.isValid)return q.after(s,_)}else if(m){const _=D.fromISO(n,i);if(_.isValid)return q.before(l,_)}}return q.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,i){if(!a)throw new lt("need to specify a reason the Interval is invalid");const n=a instanceof Ct?a:new Ct(a,i);if(tt.throwOnInvalid)throw new $c(n);return new q({invalid:n})}static isInterval(a){return!!a&&a._isLuxonInterval||!1}static merge(a){const[i,n]=a.sort((o,s)=>o._s.valueOf()-s._s.valueOf()).reduce(([o,s],r)=>s?s.overlaps(r)||s.abutsStart(r)?[o,s.union(r)]:[o.concat([s]),r]:[o,r],[[],null]);return n&&i.push(n),i}static xor(a){let i=null,n=0;const o=[],s=a.map(l=>[{time:l._s,type:"s"},{time:l._e,type:"e"}]),r=Array.prototype.concat(...s).sort((l,m)=>+l.time-+m.time);for(const l of r)n+="s"===l.type?1:-1,1===n?i=l.time:(i&&i.valueOf()!==l.time.valueOf()&&o.push(q.fromDateTimes(i,l.time)),i=null);return q.merge(o)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(a){return+a._e==+this._s}abutsStart(a){return+this._e==+a._s}contains(a){return this._s<=a&&this._e>a}count(a="milliseconds",i){if(!this.isValid)return NaN;const n=this.start.startOf(a,i);let o;return o=i?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,o=o.startOf(a,i),Math.floor(o.diff(n,a).get(a))+ +(o.valueOf()!==this.end.valueOf())}difference(...a){return q.xor([this].concat(a)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}divideEqually(a){return this.isValid?this.splitBy({milliseconds:this.length()/a}).slice(0,a):[]}engulfs(a){return!!this.isValid&&this._s<=a._s&&this._e>=a._e}equals(a){return!(!this.isValid||!a.isValid)&&this._s.equals(a._s)&&this._e.equals(a._e)}hasSame(a){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,a))}intersection(a){if(!this.isValid)return this;const i=this._s>a._s?this._s:a._s,n=this._e<a._e?this._e:a._e;return i>=n?null:q.fromDateTimes(i,n)}isAfter(a){return!!this.isValid&&this._s>a}isBefore(a){return!!this.isValid&&this._e<=a}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(a="milliseconds"){return this.toDuration(a).get(a)}mapEndpoints(a){return q.fromDateTimes(a(this._s),a(this._e))}overlaps(a){return this._e>a._s&&this._s<a._e}set({start:a,end:i}={}){return this.isValid?q.fromDateTimes(a||this._s,i||this._e):this}splitAt(...a){const i=a.map(ze).filter(r=>this.contains(r)).sort((r,l)=>r.toMillis()-l.toMillis()),n=[];let o=this._s,s=0;for(;o<this._e;){const r=i[s]||this._e,l=+r>+this._e?this._e:r;n.push(q.fromDateTimes(o,l)),o=l,s+=1}return n}splitBy(a){const i=D.fromDurationLike(a);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];let n,o=this._s,s=1;const r=[];for(;o<this._e;){const l=this.start.plus(i.mapUnits(m=>m*s));n=+l>+this._e?this._e:l,r.push(q.fromDateTimes(o,n)),o=n,s+=1}return r}toDuration(a="milliseconds",i={}){return this.isValid?this._e.diff(this._s,a,i):D.invalid(this._invalid.reason)}toFormat(a,{separator:i=" - "}={}){return this.isValid?`${this._s.toFormat(a)}${i}${this._e.toFormat(a)}`:xe}toISO(a={}){return this.isValid?`${this._s.toISO(a)}/${this._e.toISO(a)}`:xe}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:xe}toISOTime(a={}){return this.isValid?`${this._s.toISOTime(a)}/${this._e.toISOTime(a)}`:xe}toLocaleString(a=mn,i={}){return this.isValid?ct.create(this._s.loc.clone(i),a).formatInterval(this):xe}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:xe}union(a){return this.isValid?q.fromDateTimes(this._s<a._s?this._s:a._s,this._e>a._e?this._e:a._e):this}}class Le{static eras(a="short",{locale:i}={}){return U.create(i,void 0,"gregory").eras(a)}static features(){return{relative:Wo(),localeWeek:Zo()}}static getMinimumDaysInFirstWeek({locale:a,locObj:i}={}){return(i||U.create(a)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:a,locObj:i}={}){return(i||U.create(a)).getStartOfWeek()}static getWeekendWeekdays({locale:a,locObj:i}={}){return(i||U.create(a)).getWeekendDays().slice()}static hasDST(a=tt.defaultZone){const i=I.now().setZone(a).set({month:12});return!a.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(a){return zt.isValidZone(a)}static meridiems({locale:a}={}){return U.create(a).meridiems()}static months(a="long",{locale:i=null,locObj:n=null,numberingSystem:o=null,outputCalendar:s="gregory"}={}){return(n||U.create(i,o,s)).months(a)}static monthsFormat(a="long",{locale:i,locObj:n,numberingSystem:o,outputCalendar:s="gregory"}={}){return(n||U.create(i,o,s)).months(a,!0)}static normalizeZone(a){return Jt(a,tt.defaultZone)}static weekdays(a="long",{locale:i,locObj:n,numberingSystem:o}={}){return(n||U.create(i,o)).weekdays(a)}static weekdaysFormat(a="long",{locale:i,locObj:n,numberingSystem:o}={}){return(n||U.create(i,o)).weekdays(a,!0)}}function pa(e,a){const i=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),n=i(a)-i(e);return Math.floor(D.fromMillis(n).as("days"))}const bi={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},ga={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Im=bi.hanidec.replace(/[\[|\]]/g,"").split("");function xt(e,a=""){return new RegExp(`${bi[e.numberingSystem||"latn"]}${a}`)}function Et(e,a=i=>i){return{regex:e,deser:([i])=>a(function(n){const o=parseInt(n,10);if(!isNaN(o))return o;let s="";for(let r=0;r<n.length;r++){const l=n.charCodeAt(r);if(-1!==n[r].search(bi.hanidec))s+=Im.indexOf(n[r]);else for(const m in ga){const[_,u]=ga[m];if(l>=_&&l<=u){s+=l-_;break}}}return parseInt(s,10)}(i))}}const ha="[ \xa0]",fa=new RegExp(ha,"g");function Om(e){return e.replace(/\./g,"\\.?").replace(fa,ha)}function ba(e){return e.replace(/\./g,"").replace(fa," ").toLowerCase()}function yt(e,a){return{regex:RegExp(e.map(Om).join("|")),deser:([i])=>e.findIndex(n=>ba(i)===ba(n))+a}}function va(e,a){return{regex:e,deser:([,i,n])=>bn(i,n),groups:a}}function ka(e){return{regex:e,deser:([a])=>a}}const wm={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let vi;function Fm(e){return!!e&&!!e.invalidReason}function Ta(e,a){return Array.prototype.concat(...e.map(i=>function(n,o){if(n.literal)return n;const s=ya(ct.macroTokenToFormatOpts(n.val),o);return null==s||s.includes(void 0)?n:s}(i,a)))}function Ca(e,a,i){const n=Ta(ct.parseFormat(i),e),o=n.map(r=>function(l,m){const _=xt(m),u=xt(m,"{2}"),p=xt(m,"{3}"),T=xt(m,"{4}"),k=xt(m,"{6}"),F=xt(m,"{1,2}"),E=xt(m,"{1,3}"),z=xt(m,"{1,6}"),H=xt(m,"{1,9}"),J=xt(m,"{2,4}"),$=xt(m,"{4,6}"),Z=le=>{return{regex:RegExp(($n=le.val,$n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([qi])=>qi,literal:!0};var $n},Mt=(le=>{if(l.literal)return Z(le);switch(le.val){case"G":return yt(m.eras("short"),0);case"GG":return yt(m.eras("long"),0);case"y":return Et(z);case"yy":case"kk":return Et(J,ta);case"yyyy":case"kkkk":return Et(T);case"yyyyy":return Et($);case"yyyyyy":return Et(k);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Et(F);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Et(u);case"MMM":return yt(m.months("short",!0),1);case"MMMM":return yt(m.months("long",!0),1);case"LLL":return yt(m.months("short",!1),1);case"LLLL":return yt(m.months("long",!1),1);case"o":case"S":return Et(E);case"ooo":case"SSS":return Et(p);case"u":return ka(H);case"a":return yt(m.meridiems(),0);case"E":case"c":return Et(_);case"EEE":return yt(m.weekdays("short",!1),1);case"EEEE":return yt(m.weekdays("long",!1),1);case"ccc":return yt(m.weekdays("short",!0),1);case"cccc":return yt(m.weekdays("long",!0),1);case"Z":case"ZZ":return va(new RegExp(`([+-]${F.source})(?::(${u.source}))?`),2);case"ZZZ":return va(new RegExp(`([+-]${F.source})(${u.source})?`),2);case"z":return ka(/[a-z_+-/]{1,256}?/i);default:return Z(le)}})(l)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},Mt),{token:l})}(r,e)),s=o.find(Fm);if(s)return{input:a,tokens:n,invalidReason:s.invalidReason};{const r=`^${o.map(F=>F.regex).reduce((F,E)=>`${F}(${E.source})`,"")}$`,l=RegExp(r,"i"),[m,_]=function(k,F,E){const z=F.exec(k),H={};if(null!==z){let J=1;E.forEach($=>{const Z=$.groups?$.groups+1:1;$.literal||(H[$.token.val[0]]=$.deser(z.slice(J,J+Z))),J+=Z})}return[z,H]}(a,l,o),[u,p,T]=_?function(k){let F,E=null;return A(k.z)&&(E=zt.create(k.z)),A(k.Z)&&(E||(E=new mt(+k.Z)),F=+k.Z),A(k.q)&&(k.M=3*(k.q-1)+1),A(k.h)&&(+k.h<12&&1===k.a?k.h=k.h+12:12===k.h&&0===k.a&&(k.h=0)),0===k.G&&k.y&&(k.y=-k.y),A(k.u)&&(k.S=_i(k.u)||0),[Object.keys(k).reduce((z,H)=>{const J=($=>{switch($){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(H);return J&&(z[J]=k[H]),z},{}),E,F]}(_):[null,null,void 0];if("a"in _&&"H"in _)throw new Ht("Can't include meridiem when specifying 24-hour format");return{input:a,tokens:n,regex:l,rawMatches:m,matches:_,result:u,zone:p,specificOffset:T}}}function xa(e){return e.replace(/\u202F/g," ")}function ya(e,a){if(!e)return null;const i=ct.create(a,e).dtFormatter((void 0===vi&&(vi=I.fromMillis(1555555555555,{locale:a.locale})),vi)),n=i.formatToParts(),o=i.resolvedOptions();return n.map(s=>function(r,l,m){const{type:_,value:u}=r;if("literal"===_){const F=/^\s+$/.test(u);return{literal:!F,val:F?" ":u}}let T=_;"hour"===_&&(T=null!=l.hour12?l.hour12?"hour12":"hour24":null!=l.hourCycle?"h11"===l.hourCycle||"h12"===l.hourCycle?"hour12":"hour24":m.hour12?"hour12":"hour24");let k=wm[T];if("object"==typeof k&&(k=k[l[_]]),k)return{literal:!1,val:k}}(s,e,o))}const ki="Invalid DateTime",Sa=864e13;function Ia(e,a,i){let n=e-60*a*1e3;const o=i.offset(n);if(a===o)return[n,a];n-=60*(o-a)*1e3;const s=i.offset(n);return o===s?[n,o]:[e-60*Math.min(o,s)*1e3,Math.max(o,s)]}function Tn(e,a){const i=new Date(e+=60*a*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Cn(e,a,i){return Ia(fn(e),a,i)}function Ae(e,a,i,n,o,s){const{setZone:r,zone:l}=i;if(e&&0!==Object.keys(e).length||a){const m=a||l,_=I.fromObject(e||void 0,Object.assign(Object.assign({},i),{zone:m,specificOffset:s}));return r?_:_.setZone(l)}return I.invalid(new Ct("unparsable",`the input "${o}" can't be parsed as ${n}`))}function xn(e,a,i=!0){return e.isValid?ct.create(U.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,a):null}const ja={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Em={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Dm={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Oa=["year","month","day","hour","minute","second","millisecond"],Rm=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Mm=["year","ordinal","hour","minute","second","millisecond"];function wa(e){const a=Wc[e.toLowerCase()];if(!a)throw new sn(e);return a}class I{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return hn(this.year,this.month)}get daysInYear(){return this.isValid?fe(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Re(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?Le.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?Le.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?ci(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?Le.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?Le.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?Me(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?Me(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(a){const i=a.zone||tt.defaultZone;let n,o,s=a.invalid||(Number.isNaN(a.ts)?new Ct("invalid timestamp"):null)||(i.isValid?null:I._unsupportedZone(i));if(this._ts=ut(a.ts)?tt.now():a.ts,!s)if(a.old&&a.old.ts===this._ts&&a.old.zone.equals(i))[o,n]=[a.old.c,a.old.o];else{const r=i.offset(this._ts);o=Tn(this._ts,r),s=Number.isNaN(o.year)?new Ct("invalid input"):null,o=s?void 0:o,n=s?void 0:r}this._zone=i,this._loc=a.loc||U.create(),this._invalid=s,this._weekData=null,this._c=o,this._o=n,this._isLuxonDateTime=!0}static expandFormat(a,i={}){return Ta(ct.parseFormat(a),U.fromObject(i)).map(n=>n.val).join("")}static fromFormat(a,i,n={}){if(ut(a)||ut(i))throw new lt("fromFormat requires an input string and a format");const{locale:o,numberingSystem:s}=n,r=U.fromOpts({locale:o,numberingSystem:s,defaultToEN:!0}),[l,m,_,u]=function(p,T,k){const{result:F,zone:E,specificOffset:z,invalidReason:H}=Ca(p,xa(T),xa(k));return[F,E,z,H]}(r,a,i);return u?I.invalid(u):Ae(l,m||null,n,`format ${i}`,a,_)}static fromFormatExplain(a,i,n={}){const{locale:o,numberingSystem:s}=n;return Ca(U.fromOpts({locale:o,numberingSystem:s,defaultToEN:!0}),a,i)}static fromHTTP(a,i={}){const[n,o]=ke(a,[rm,ma],[lm,ma],[cm,mm]);return Ae(n,o,i,"HTTP",a)}static fromISO(a,i={}){const[n,o]=ke(a,[dm,da],[_m,gm],[um,hm],[pm,fm]);return Ae(n,o,i,"ISO 8601",a)}static fromJSDate(a,i={}){const n="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(n))return I.invalid("invalid input");const s=Jt(i.zone,tt.defaultZone);return s.isValid?new I({ts:n,zone:s,loc:U.fromObject(i)}):I.invalid(I._unsupportedZone(s))}static fromMillis(a,i={}){if(Lt(a))return a<-Sa||a>Sa?I.invalid("Timestamp out of range"):new I({ts:a,zone:Jt(i.zone,tt.defaultZone),loc:U.fromObject(i)});throw new lt(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`)}static fromObject(a={},i={}){const n=Jt(i.zone,tt.defaultZone);if(!n.isValid)return I.invalid(I._unsupportedZone(n));const o=U.fromObject(i),s=vn(a,wa),r=tt.now(),l=Lt(i.specificOffset)?i.specificOffset:n.offset(r),m=A(s.ordinal),_=A(s.year),u=A(s.month)||A(s.day),p=_||u,T=s.weekYear||s.weekNumber;if((p||m)&&T)throw new Ht("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&m)throw new Ht("Can't mix ordinal dates with month/day");const k=T||s.weekday&&!p,{minDaysInFirstWeek:F,startOfWeek:E}=qo(s,o),z=Tn(r,l),H={containsGregor:p,containsOrdinal:m,loc:o,normalized:s,obj:a,offsetProvis:l,useWeekData:k,zoneToUse:n};return k?I._buildObject(H,Rm,Em,pn(z,F,E)):m?I._buildObject(H,Mm,Dm,ci(z)):I._buildObject(H,Oa,ja,z)}static fromRFC2822(a,i={}){const[n,o]=ke(a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[am,sm]);return Ae(n,o,i,"RFC 2822",a)}static fromSQL(a,i={}){const[n,o]=ke(a,[bm,da],[vm,km]);return Ae(n,o,i,"SQL",a)}static fromSeconds(a,i={}){if(!Lt(a))throw new lt("fromSeconds requires a numerical input");return new I({ts:1e3*a,zone:Jt(i.zone,tt.defaultZone),loc:U.fromObject(i)})}static fromString(a,i,n={}){return I.fromFormat(a,i,n)}static fromStringExplain(a,i,n={}){return I.fromFormatExplain(a,i,n)}static invalid(a,i){if(!a)throw new lt("need to specify a reason the DateTime is invalid");const n=a instanceof Ct?a:new Ct(a,i);if(tt.throwOnInvalid)throw new Nc(n);return new I({invalid:n})}static isDateTime(a){return!(!a||!a._isLuxonDateTime)}static local(...a){const[i,n]=this._lastOpts(a),[o,s,r,l,m,_,u]=n;return I._quickDT({year:o,month:s,day:r,hour:l,minute:m,second:_,millisecond:u},i)}static max(...a){if(!a.every(I.isDateTime))throw new lt("max requires all arguments be DateTimes");return Ko(a,i=>i.valueOf(),Math.max)}static min(...a){if(!a.every(I.isDateTime))throw new lt("min requires all arguments be DateTimes");return Ko(a,i=>i.valueOf(),Math.min)}static now(){return new I({})}static parseFormatForOpts(a,i={}){const n=ya(a,U.fromObject(i));return n?n.map(o=>o?o.val:null).join(""):null}static utc(...a){const[i,n]=this._lastOpts(a),[o,s,r,l,m,_,u]=n;return i.zone=mt.utcInstance,this._quickDT({year:o,month:s,day:r,hour:l,minute:m,second:_,millisecond:u},i)}static _buildObject(a,i,n,o){let s=!1;i.forEach(p=>{A(a.normalized[p])?s=!0:a.normalized[p]=s?n[p]:o[p]});const r=(a.useWeekData?function(p,T=4,k=1){const F=gn(p.weekYear),E=ft(p.weekNumber,1,Me(p.weekYear,T,k)),z=ft(p.weekday,1,7);return F?E?!z&&ht("weekday",p.weekday):ht("week",p.weekNumber):ht("weekYear",p.weekYear)}(a.normalized):a.containsOrdinal?function(p){const T=gn(p.year),k=ft(p.ordinal,1,fe(p.year));return T?!k&&ht("ordinal",p.ordinal):ht("year",p.year)}(a.normalized):Ho(a.normalized))||Jo(a.normalized);if(r)return I.invalid(r);const l=a.useWeekData?Xo(a.normalized):a.containsOrdinal?Uo(a.normalized):a.normalized,[m,_]=Cn(l,a.offsetProvis,a.zoneToUse),u=new I({ts:m,zone:a.zoneToUse,o:_,loc:a.loc});return a.normalized.weekday&&a.containsGregor&&a.obj.weekday!==u.weekday?I.invalid("mismatched weekday",`you can't specify both a weekday of ${a.normalized.weekday} and a date of ${u.toISO()}`):u.isValid?u:I.invalid(u._invalid)}static _diffRelative(a,i,n){const o=!!ut(n.round)||n.round,s=(l,m)=>(l=ui(l,o||n.calendary?0:2,!0),i._loc.clone(n).relFormatter(n).format(l,m)),r=l=>n.calendary?i.hasSame(a,l)?0:i.startOf(l).diff(a.startOf(l),l).get(l):i.diff(a,l).get(l);if(n.unit)return s(r(n.unit),n.unit);for(const l of n.units){const m=r(l);if(Math.abs(m)>=1)return s(m,l)}return s(a>i?-0:0,n.units[n.units.length-1])}static _lastOpts(a){let i,n={};return a.length>0&&"object"==typeof a[a.length-1]?(n=a.pop(),i=a):i=Array.from(a),[n,i]}static _quickDT(a,i){const n=Jt(i.zone,tt.defaultZone),o=U.fromObject(i),s=tt.now();let r,l;if(A(a.year)){for(const u of Oa)ut(a[u])&&(a[u]=ja[u]);const m=Ho(a)||Jo(a);if(m)return I.invalid(m);const _=n.offset(s);[r,l]=Cn(a,_,n)}else r=s;return new I({ts:r,zone:n,loc:o,o:l})}static _unsupportedZone(a){return new Ct("unsupported zone",`the zone "${a.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(a,i="milliseconds",n={}){if(!this.isValid||!a.isValid)return D.invalid(this.invalidReason||a.invalidReason,"created by diffing an invalid DateTime");const o=(l=i,Array.isArray(l)?l:[l]).map(D.normalizeUnit),s=a.valueOf()>this.valueOf(),r=((e,a,i,n)=>{let[o,s,r,l]=function(p,T,k){const F=[["years",($,Z)=>Z.year-$.year],["quarters",($,Z)=>Z.quarter-$.quarter+4*(Z.year-$.year)],["months",($,Z)=>Z.month-$.month+12*(Z.year-$.year)],["weeks",($,Z)=>{const Mt=pa($,Z);return(Mt-Mt%7)/7}],["days",pa]],E={},z=p;let H,J;for(const[$,Z]of F)k.indexOf($)>=0&&(H=$,E[$]=Z(p,T),J=z.plus(E),J>T?(E[$]--,(p=z.plus(E))>T&&(J=p,E[$]--,p=z.plus(E))):p=J);return[p,E,J,H]}(e,a,i);const m=+a-+o,_=i.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);0===_.length&&(r<a&&(r=o.plus({[l]:1})),r!==o&&(s[l]=(s[l]||0)+m/(+r-+o)));const u=D.fromObject(s,n);return _.length>0?D.fromMillis(m,n).shiftTo(..._).plus(u):u})(s?this:a,s?a:this,o,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},n));var l;return s?r.negate():r}diffNow(a="milliseconds",i={}){return this.diff(I.now(),a,i)}endOf(a,{useLocaleWeeks:i=!1}={}){return this.plus({[a]:1}).startOf(a,{useLocaleWeeks:i}).minus({milliseconds:1})}equals(a){return this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this._loc.equals(a._loc)}get(a){return this[a]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const a=864e5,i=6e4,n=fn(this._c),o=this.zone.offset(n-a),s=this.zone.offset(n+a),r=this.zone.offset(n-o*i),l=this.zone.offset(n-s*i);if(r===l)return[this];const m=n-r*i,_=n-l*i,u=Tn(m,r),p=Tn(_,l);return u.hour===p.hour&&u.minute===p.minute&&u.second===p.second&&u.millisecond===p.millisecond?[this._clone({ts:m}),this._clone({ts:_})]:[this]}hasSame(a,i,n){if(!this.isValid)return!1;const o=a.valueOf(),s=this.setZone(a.zone,{keepLocalTime:!0});return+s.startOf(i)<=o&&o<=+s.endOf(i,n)}minus(a){if(!this.isValid)return this;const i=D.fromDurationLike(a).negate();return this._clone(this._adjustTime(i))}plus(a){if(!this.isValid)return this;const i=D.fromDurationLike(a);return this._clone(this._adjustTime(i))}reconfigure(a){const i=this._loc.clone(a);return this._clone({loc:i})}resolvedLocaleOptions(a={}){const{locale:i,numberingSystem:n,calendar:o}=ct.create(this._loc.clone(a),a).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:o}}set(a){if(!this.isValid)return this;const i=vn(a,wa),{minDaysInFirstWeek:n,startOfWeek:o}=qo(i,this.loc),s=A(i.weekYear)||A(i.weekNumber)||A(i.weekday),r=A(i.ordinal),l=A(i.year),m=A(i.month)||A(i.day);if((l||m||r)&&(i.weekYear||i.weekNumber))throw new Ht("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&r)throw new Ht("Can't mix ordinal dates with month/day");let p;s?p=Xo(Object.assign(Object.assign({},pn(this._c,n,o)),i),n,o):ut(i.ordinal)?(p=Object.assign(Object.assign({},this.toObject()),i),ut(i.day)&&(p.day=Math.min(hn(p.year,p.month),p.day))):p=Uo(Object.assign(Object.assign({},ci(this._c)),i));const[T,k]=Cn(p,this._o,this.zone);return this._clone({ts:T,o:k})}setLocale(a){return this.reconfigure({locale:a})}setZone(a,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if((a=Jt(a,tt.defaultZone)).equals(this.zone))return this;if(a.isValid){let o=this._ts;if(i||n){const s=a.offset(this._ts);o=Cn(this.toObject(),s,a)[0]}return this._clone({ts:o,zone:a})}return I.invalid(I._unsupportedZone(a))}startOf(a,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const n={},o=D.normalizeUnit(a);switch(o){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===o)if(i){const s=this.loc.getStartOfWeek(),{weekday:r}=this;r<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if("quarters"===o){const s=Math.ceil(this.month/3);n.month=3*(s-1)+1}return this.set(n)}toBSON(){return this.toJSDate()}toFormat(a,i={}){return this.isValid?ct.create(this._loc.redefaultToEN(i)).formatDateTimeFromString(this,a):ki}toHTTP(){return xn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:a="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:o=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const r="extended"===a;return[this._toISODate(r),"T",this._toISOTime(r,i,n,o,s)].join("")}toISODate({format:a="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===a):null}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:o=!1,extendedZone:s=!1,format:r="extended"}={}){return this.isValid?[o?"T":"",this._toISOTime("extended"===r,i,a,n,s)].join(""):null}toISOWeekDate(){return xn(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(tt.defaultZone)}toLocaleParts(a={}){return this.isValid?ct.create(this._loc.clone(a),a).formatDateTimeParts(this):[]}toLocaleString(a=mn,i={}){return this.isValid?ct.create(this._loc.clone(i),a).formatDateTime(this):ki}toMillis(){return this.isValid?this.ts:NaN}toObject(a={includeConfig:!1}){if(!this.isValid)return{};const i=Object.assign({},this._c);return a.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this._loc.numberingSystem,i.locale=this._loc.locale),i}toRFC2822(){return xn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(a={}){if(!this.isValid)return null;const i=a.base||I.fromObject({},{zone:this.zone}),n=a.padding?this<i?-a.padding:a.padding:0;let o=["years","months","days","hours","minutes","seconds"],s=a.unit;return Array.isArray(a.unit)&&(o=a.unit,s=void 0),I._diffRelative(i,this.plus(n),Object.assign(Object.assign({},a),{numeric:"always",units:o,unit:s}))}toRelativeCalendar(a={}){return this.isValid?I._diffRelative(a.base||I.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},a),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:a=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let o="HH:mm:ss.SSS";return(i||a)&&(n&&(o+=" "),i?o+="z":a&&(o+="ZZ")),xn(this,o,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():ki}toUTC(a=0,i={}){return this.setZone(mt.instance(a),i)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(a){return q.fromDateTimes(this,a)}valueOf(){return this.toMillis()}_adjustTime(a){const i=this._o,n=this._c.year+Math.trunc(a.years),o=this._c.month+Math.trunc(a.months)+3*Math.trunc(a.quarters),s=Object.assign(Object.assign({},this._c),{year:n,month:o,day:Math.min(this._c.day,hn(n,o))+Math.trunc(a.days)+7*Math.trunc(a.weeks)}),r=D.fromObject({years:a.years-Math.trunc(a.years),quarters:a.quarters-Math.trunc(a.quarters),months:a.months-Math.trunc(a.months),weeks:a.weeks-Math.trunc(a.weeks),days:a.days-Math.trunc(a.days),hours:a.hours,minutes:a.minutes,seconds:a.seconds,milliseconds:a.milliseconds}).as("milliseconds"),l=fn(s);let[m,_]=Ia(l,i,this.zone);return 0!==r&&(m+=r,_=this.zone.offset(m)),{ts:m,o:_}}_clone(a){const i={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new I(Object.assign(Object.assign(Object.assign({},i),a),{old:i}))}_possiblyCachedLocalWeekData(a){return a._localWeekData||(a._localWeekData=pn(a._c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a._localWeekData}_possiblyCachedWeekData(a){return null===a._weekData&&(a._weekData=pn(a._c)),a._weekData}_toISODate(a){const i=this._c.year>9999||this._c.year<0;let n="";return i&&this._c.year>=0&&(n+="+"),n+=it(this._c.year,i?6:4),a?(n+="-",n+=it(this._c.month),n+="-",n+=it(this._c.day)):(n+=it(this._c.month),n+=it(this._c.day)),n}_toISOTime(a,i,n,o,s){let r=it(this._c.hour);return a?(r+=":",r+=it(this._c.minute),0===this._c.millisecond&&0===this._c.second&&i||(r+=":")):r+=it(this._c.minute),0===this._c.millisecond&&0===this._c.second&&i||(r+=it(this._c.second),0===this._c.millisecond&&n||(r+=".",r+=it(this._c.millisecond,3))),o&&(this.isOffsetFixed&&0===this.offset&&!s?r+="Z":this._o<0?(r+="-",r+=it(Math.trunc(-this._o/60)),r+=":",r+=it(Math.trunc(-this._o%60))):(r+="+",r+=it(Math.trunc(this._o/60)),r+=":",r+=it(Math.trunc(this._o%60)))),s&&(r+="["+this.zone.ianaName+"]"),r}}I.DATETIME_FULL=xo,I.DATETIME_FULL_WITH_SECONDS=yo,I.DATETIME_HUGE=So,I.DATETIME_HUGE_WITH_SECONDS=Io,I.DATETIME_MED=To,I.DATETIME_MED_WITH_SECONDS=Co,I.DATETIME_MED_WITH_WEEKDAY=Ac,I.DATETIME_SHORT=vo,I.DATETIME_SHORT_WITH_SECONDS=ko,I.DATE_FULL=lo,I.DATE_HUGE=co,I.DATE_MED=ro,I.DATE_MED_WITH_WEEKDAY=Lc,I.DATE_SHORT=mn,I.TIME_24_SIMPLE=go,I.TIME_24_WITH_LONG_OFFSET=bo,I.TIME_24_WITH_SECONDS=ho,I.TIME_24_WITH_SHORT_OFFSET=fo,I.TIME_SIMPLE=mo,I.TIME_WITH_LONG_OFFSET=po,I.TIME_WITH_SECONDS=_o,I.TIME_WITH_SHORT_OFFSET=uo;var bt=g(88834),oe=g(55911),ye=g(84412),Se=g(21413),yn=g(56977),Pe=g(44668),Ie=g(88141),Fa=g(96354),Nm=g(23294),Dt=g(49969),Ti=g(18617),At=g(82798),Ci=g(99213),Gm=g(76939);const $m=["clockFace"],zm=["clockHand"],Ea=["*","*"],Lm=e=>({"clock-face__clock-hand_minute":e}),Ye=e=>({transform:e}),Da=e=>({$implicit:e});function Am(e,a){if(1&e&&(t.j41(0,"button",10),t.nI1(1,"activeHour"),t.EFF(2),t.nI1(3,"timeLocalizer"),t.k0s()),2&e){const i=a.$implicit,n=t.XpG();t.Y8G("color",t.brH(1,4,i.time,null==n.selectedTime?null:n.selectedTime.time,n.isClockFaceDisabled)?n.color:void 0)("ngStyle",t.eq3(11,Ye,"rotateZ(-"+i.angle+"deg)"))("disabled",i.disabled),t.R7$(2),t.SpI(" ",t.i5U(3,8,i.time,n.timeUnit.HOUR)," ")}}function Pm(e,a){if(1&e&&(t.j41(0,"div",13),t.nrm(1,"input",14,4),t.nI1(3,"minutesFormatter"),t.nI1(4,"timeLocalizer"),t.j41(5,"button",10),t.nI1(6,"activeMinute"),t.nI1(7,"activeMinute"),t.EFF(8),t.k0s()()),2&e){const i=a.$implicit,n=t.sdS(2),o=t.XpG(2);t.Y8G("ngStyle",t.eq3(24,Ye,"rotateZ("+i.angle+"deg)")),t.R7$(),t.Y8G("value",t.i5U(4,11,t.i5U(3,8,i.time,o.minutesGap),o.timeUnit.MINUTE)),t.R7$(4),t.AVh("dot",o.dottedMinutesInGap&&""===n.value&&!t.ii3(6,14,i.time,null==o.selectedTime?null:o.selectedTime.time,1,o.isClockFaceDisabled)),t.Y8G("color",t.ii3(7,19,i.time,null==o.selectedTime?null:o.selectedTime.time,o.minutesGap,o.isClockFaceDisabled)?o.color:void 0)("ngStyle",t.eq3(26,Ye,"rotateZ(-"+i.angle+"deg)"))("disabled",i.disabled),t.R7$(3),t.SpI(" ",n.value," ")}}function Ym(e,a){if(1&e&&(t.j41(0,"div",11),t.DNE(1,Pm,9,28,"div",12),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.faceTime)("ngForTrackBy",i.trackByTime)}}function Vm(e,a){1&e&&t.SdG(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Bm(e,a){if(1&e&&(t.j41(0,"div",13),t.DNE(1,Vm,1,0,"ng-content",16),t.k0s()),2&e){const i=a.$implicit;t.XpG(2);const n=t.sdS(1);t.Y8G("ngStyle",t.eq3(3,Ye,"rotateZ("+i.angle+"deg)")),t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(5,Da,i))}}function Xm(e,a){1&e&&t.SdG(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Um(e,a){if(1&e&&(t.j41(0,"div",19),t.DNE(1,Xm,1,0,"ng-content",16),t.k0s()),2&e){const i=a.$implicit,n=t.XpG(3),o=t.sdS(1);t.xc7("top","calc(50% - "+n.innerClockFaceSize+"px)")("height",n.innerClockFaceSize,"px"),t.Y8G("ngStyle",t.eq3(7,Ye,"rotateZ("+i.angle+"deg)")),t.R7$(),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(9,Da,i))}}function Hm(e,a){if(1&e&&(t.j41(0,"div",17),t.DNE(1,Um,2,11,"div",18),t.nI1(2,"slice"),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",t.brH(2,2,i.faceTime,12,24))("ngForTrackBy",i.trackByTime)}}function Jm(e,a){if(1&e&&(t.j41(0,"div",11),t.DNE(1,Bm,2,7,"div",12),t.nI1(2,"slice"),t.DNE(3,Hm,3,6,"div",15),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",t.brH(2,3,i.faceTime,0,12))("ngForTrackBy",i.trackByTime),t.R7$(2),t.Y8G("ngIf",i.faceTime.length>12)}}function qm(e,a){if(1&e&&(t.j41(0,"button",20),t.nrm(1,"span",21),t.k0s()),2&e){const i=t.XpG();t.Y8G("color",i.color)}}const Ve=e=>({active:e});function Wm(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",5),t.bIt("@scaleInOut.done",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.animationDone())}),t.j41(1,"p"),t.EFF(2,"Current time would be invalid in this period."),t.k0s()()}2&e&&t.Y8G("@scaleInOut",void 0)}function Zm(e,a){if(1&e&&t.DNE(0,Wm,3,1,"div",4),2&e){const i=t.XpG();t.Y8G("ngIf",!i.isPeriodAvailable)}}function Km(e,a){if(1&e){const i=t.RV6();t.j41(0,"input",2),t.nI1(1,"timeLocalizer"),t.bIt("ngModelChange",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.time=o)})("input",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.updateTime())})("focus",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.saveTimeAndChangeTimeUnit(o,s.timeUnit))}),t.k0s()}if(2&e){const i=t.XpG();t.Y8G("ngClass",t.eq3(8,Ve,i.isActive))("ngModel",t.brH(1,4,i.time,i.timeUnit,!0))("disabled",i.disabled)("ngxMatTimepickerAutofocus",i.isActive)}}function Qm(e,a){if(1&e){const i=t.RV6();t.j41(0,"input",3),t.nI1(1,"ngxMatTimepickerParser"),t.nI1(2,"timeLocalizer"),t.bIt("ngModelChange",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.onModelChange(o))})("input",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.updateTime())})("focus",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.saveTimeAndChangeTimeUnit(o,s.timeUnit))})("keydown",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.onKeydown(o))})("keypress",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.changeTimeByKeyboard(o))}),t.k0s()}if(2&e){const i=t.XpG();t.Y8G("ngClass",t.eq3(11,Ve,i.isActive))("ngModel",t.brH(2,7,t.i5U(1,4,i.time,i.timeUnit),i.timeUnit,!0))("disabled",i.disabled)("ngxMatTimepickerAutofocus",i.isActive)}}const td=e=>({"timepicker-dial__hint-container--hidden":e});function ed(e,a){if(1&e){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-period",8),t.bIt("periodChanged",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.changePeriod(o))}),t.k0s()}if(2&e){const i=t.XpG();t.Y8G("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems)}}function nd(e,a){1&e&&t.eu8(0)}function id(e,a){1&e&&(t.j41(0,"small",11),t.EFF(1," * use arrows ("),t.j41(2,"span"),t.EFF(3,"\u21c5"),t.k0s(),t.EFF(4,") to change the time"),t.k0s())}function od(e,a){if(1&e&&(t.j41(0,"div",9),t.DNE(1,nd,1,0,"ng-container",10)(2,id,5,0,"ng-template",null,0,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG();t.Y8G("ngClass",t.eq3(2,td,!n.isHintVisible)),t.R7$(),t.Y8G("ngTemplateOutlet",n.editableHintTmpl?n.editableHintTmpl:i)}}const ad=["*"];function sd(e,a){1&e&&t.eu8(0)}function rd(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,sd,1,0,"ng-container",3),t.k0s()),2&e){t.XpG();const i=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",i)}}function ld(e,a){1&e&&t.eu8(0)}function cd(e,a){if(1&e&&t.DNE(0,ld,1,0,"ng-container",3),2&e){t.XpG();const i=t.sdS(4);t.Y8G("ngTemplateOutlet",i)}}function md(e,a){1&e&&t.SdG(0)}function dd(e,a){if(1&e&&(t.j41(0,"button",15),t.EFF(1,"CANCEL "),t.k0s()),2&e){const i=t.XpG();t.Y8G("color",i.color)}}function _d(e,a){if(1&e&&(t.j41(0,"button",15),t.EFF(1,"OK "),t.k0s()),2&e){const i=t.XpG();t.Y8G("color",i.color)}}function ud(e,a){if(1&e){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-24-hours-face",17),t.nI1(1,"async"),t.bIt("hourChange",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourSelected(o))}),t.k0s()}if(2&e){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)}}function pd(e,a){if(1&e){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-12-hours-face",18),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("hourChange",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourSelected(o))}),t.k0s()}if(2&e){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("period",t.bMT(2,7,i.selectedPeriod))("minTime",i.data.minTime)("maxTime",i.data.maxTime)}}function gd(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,ud,2,7,"ngx-mat-timepicker-24-hours-face",16)(2,pd,3,9,"ng-template",null,2,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG();t.R7$(),t.Y8G("ngIf",24===n.data.format)("ngIfElse",i)}}function hd(e,a){if(1&e){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-minutes-face",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.bIt("minuteChange",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.onMinuteChange(o))}),t.k0s()}if(2&e){let i;const n=t.XpG();t.Y8G("color",n.color)("dottedMinutesInGap",n.data.dottedMinutesInGap)("selectedMinute",t.bMT(1,9,n.selectedMinute))("selectedHour",null==(i=t.bMT(2,11,n.selectedHour))?null:i.time)("minTime",n.data.minTime)("maxTime",n.data.maxTime)("format",n.data.format)("period",t.bMT(3,13,n.selectedPeriod))("minutesGap",n.data.minutesGap)}}function fd(e,a){1&e&&t.eu8(0)}function bd(e,a){1&e&&t.eu8(0)}function vd(e,a){if(1&e&&(t.j41(0,"button",15),t.EFF(1,"CANCEL "),t.k0s()),2&e){const i=t.XpG();t.Y8G("color",i.color)}}function kd(e,a){if(1&e&&(t.j41(0,"button",15),t.EFF(1,"OK "),t.k0s()),2&e){const i=t.XpG();t.Y8G("color",i.color)}}function Td(e,a){if(1&e){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-24-hours-face",17),t.nI1(1,"async"),t.bIt("hourChange",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourSelected(o))}),t.k0s()}if(2&e){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)}}function Cd(e,a){if(1&e){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-12-hours-face",18),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("hourChange",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourChange(o))})("hourSelected",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onHourSelected(o))}),t.k0s()}if(2&e){const i=t.XpG(2);t.Y8G("color",i.color)("selectedHour",t.bMT(1,5,i.selectedHour))("period",t.bMT(2,7,i.selectedPeriod))("minTime",i.data.minTime)("maxTime",i.data.maxTime)}}function xd(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,Td,2,7,"ngx-mat-timepicker-24-hours-face",16)(2,Cd,3,9,"ng-template",null,2,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG();t.R7$(),t.Y8G("ngIf",24===n.data.format)("ngIfElse",i)}}function yd(e,a){if(1&e){const i=t.RV6();t.j41(0,"ngx-mat-timepicker-minutes-face",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.bIt("minuteChange",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.onMinuteChange(o))}),t.k0s()}if(2&e){let i;const n=t.XpG();t.Y8G("dottedMinutesInGap",n.data.dottedMinutesInGap)("color",n.color)("selectedMinute",t.bMT(1,9,n.selectedMinute))("selectedHour",null==(i=t.bMT(2,11,n.selectedHour))?null:i.time)("minTime",n.data.minTime)("maxTime",n.data.maxTime)("format",n.data.format)("period",t.bMT(3,13,n.selectedPeriod))("minutesGap",n.data.minutesGap)}}function Sd(e,a){1&e&&t.eu8(0)}function Id(e,a){1&e&&t.eu8(0)}function jd(e,a){1&e&&t.nrm(0,"ngx-mat-timepicker-provider")}const Od=[[["","ngxMatTimepickerToggleIcon",""]]],wd=["[ngxMatTimepickerToggleIcon]"];function Fd(e,a){1&e&&(t.qSk(),t.j41(0,"svg",2),t.nrm(1,"path",3),t.k0s())}const Ed=e=>({"ngx-mat-timepicker--disabled":e});function Dd(e,a){if(1&e&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i),t.R7$(),t.JRh(i)}}function Rd(e,a){if(1&e){const i=t.RV6();t.j41(0,"mat-form-field",9)(1,"mat-select",10),t.bIt("selectionChange",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.changePeriod(o))}),t.DNE(2,Dd,2,2,"mat-option",11),t.k0s()()}if(2&e){const i=t.XpG();t.Y8G("color",i.color),t.R7$(),t.Y8G("disabled",i.disabled||i.isChangePeriodDisabled)("ngModel",i.period),t.R7$(),t.Y8G("ngForOf",i.periods)}}function Md(e,a){1&e&&t.eu8(0)}function Nd(e,a){if(1&e&&(t.j41(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),t.DNE(2,Md,1,0,"ng-container",15),t.k0s()()),2&e){const i=t.XpG(),n=t.sdS(8),o=t.sdS(10);t.Y8G("for",n)("disabled",i.disabled),t.R7$(2),t.Y8G("ngTemplateOutlet",i.toggleIcon||o)}}function Gd(e,a){1&e&&(t.j41(0,"mat-icon"),t.EFF(1,"watch_later"),t.k0s())}var Pt=function(e){return e.TWELVE="hh:mm a",e.TWELVE_SHORT="h:m a",e.TWENTY_FOUR="HH:mm",e.TWENTY_FOUR_SHORT="H:m",e}(Pt||{}),rt=function(e){return e.AM="AM",e.PM="PM",e}(rt||{});let L=(()=>{var e;class a{static formatHour(n,o,s){if(this.isTwentyFour(o))return n;const r=s===rt.AM?n:n+12;return s===rt.AM&&12===r?0:s===rt.PM&&24===r?12:r}static formatTime(n,o){if(!n)return"Invalid Time";const s=this.parseTime(n,o).setLocale(this.defaultLocale);if(!s.isValid)return"Invalid time";const r=!this.isTwentyFour(o.format);return r?s.toLocaleString({...I.TIME_SIMPLE,hour12:r}).replace(/\u200E/g,""):s.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(n,o){return n.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(o)?Pt.TWENTY_FOUR:Pt.TWELVE)}static isBetween(n,o,s,r="minutes"){const l="hours"===r?r:void 0;return this.isSameOrBefore(n,s,l)&&this.isSameOrAfter(n,o,l)}static isSameOrAfter(n,o,s="minutes"){return"hours"===s?n.hour>=o.hour:n.hasSame(o,s)||n.valueOf()>o.valueOf()}static isSameOrBefore(n,o,s="minutes"){return"hours"===s?n.hour<=o.hour:n.hasSame(o,s)||n.valueOf()<=o.valueOf()}static isTimeAvailable(n,o,s,r,l,m){if(!n)return;const _=this.parseTime(n,{format:m}),u=_.minute;if(l&&u==u&&u%l!=0)throw new Error(`Your minutes - ${u} doesn't match your minutesGap - ${l}`);const p=o&&!s&&this.isSameOrAfter(_,o,r),T=s&&!o&&this.isSameOrBefore(_,s,r),k=o&&s&&this.isBetween(_,o,s,r);return p||T||k||!o&&!s}static isTwentyFour(n){return 24===n}static parseTime(n,o){const s=this._getLocaleOptionsByTime(n,o);let r=Pt.TWENTY_FOUR_SHORT;return n.match(/\s/g)&&(n=n.replace(/\.\s*/g,""),r=Pt.TWELVE_SHORT),I.fromFormat(n.replace(/\s+/g," "),r,{numberingSystem:s.numberingSystem,locale:s.locale})}static toLocaleTimeString(n,o={}){const{format:s=this.defaultFormat,locale:r=this.defaultLocale}=o;let l="h12",m=Pt.TWELVE_SHORT;return this.isTwentyFour(s)&&(l="h23",m=Pt.TWENTY_FOUR_SHORT),I.fromFormat(n,m).reconfigure({locale:r,numberingSystem:o.numberingSystem,defaultToEN:o.defaultToEN,outputCalendar:o.outputCalendar}).toLocaleString({...I.TIME_SIMPLE,hourCycle:l})}static _getLocaleOptionsByTime(n,o){const{numberingSystem:s,locale:r}=I.now().reconfigure({locale:o.locale,numberingSystem:o.numberingSystem,outputCalendar:o.outputCalendar,defaultToEN:o.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(n,10))?{numberingSystem:s,locale:r}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return(e=a).defaultFormat=12,e.defaultLocale="en-US",e.defaultNumberingSystem="latn",a})();var dt=function(e){return e[e.HOUR=0]="HOUR",e[e.MINUTE=1]="MINUTE",e}(dt||{});const Be=new t.nKC("NGX_MAT_TIMEPICKER_CONFIG"),Sn={time:12,angle:360},In={time:0,angle:360};let Xe=(()=>{var e;class a{constructor(){this._hour$=new ye.t(Sn),this._minute$=new ye.t(In),this._period$=new ye.t(rt.AM)}set hour(n){this._hour$.next(n)}set minute(n){this._minute$.next(n)}set period(n){(n===rt.AM||n===rt.PM)&&this._period$.next(n)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(n){const o=this._hour$.getValue().time,s=this._minute$.getValue().time,_=`${o??Sn.time}:${s??In.time} ${12===n?this._period$.getValue():""}`.trim();return L.formatTime(_,{format:n})}setDefaultTimeIfAvailable(n,o,s,r,l){n||this._resetTime();try{L.isTimeAvailable(n,o,s,"minutes",l)&&this._setDefaultTime(n,r)}catch(m){console.error(m)}}_resetTime(){this.hour={...Sn},this.minute={...In},this.period=rt.AM}_setDefaultTime(n,o){const s=L.parseTime(n,{format:o});if(s.isValid){const r=n.substring(n.length-2).toUpperCase(),l=s.hour;this.hour={...Sn,time:$d(l,r)},this.minute={...In,time:s.minute},this.period=r}else this._resetTime()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();function $d(e,a){switch(a){case rt.AM:return 0===e?12:e;case rt.PM:return 12===e?12:e-12;default:return e}}let xi=(()=>{var e;class a{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,Pe.t)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,Pe.t)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new Se.B,this._keydownEvent$=new Se.B}dispatchEvent(n){switch(n.type){case"click":this._backdropClick$.next(n);break;case"keydown":this._keydownEvent$.next(n);break;default:throw new Error("no such event type")}}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();const Ra=new t.nKC("TimeLocale",{providedIn:"root",factory:()=>L.defaultLocale});let Rt=(()=>{var e;class a{get locale(){return this._locale}constructor(n){this._locale=n}updateLocale(n){this._locale=n||this._initialLocale}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(Ra))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),Ma=(()=>{var e;class a{set color(n){this._color=n}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(n){this._defaultTime=n,this._setDefaultTime(n)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(n,o,s,r){this._timepickerSrv=n,this._eventSrv=o,this._timepickerLocaleSrv=s,this.data=r,this.activeTimeUnit=dt.HOUR,this.timeUnit=dt,this._color="primary",this._subsCtrl$=new Se.B,this.color=r.color,this.defaultTime=r.defaultTime}changePeriod(n){this._timepickerSrv.period=n,this._onTimeChange()}changeTimeUnit(n){this.activeTimeUnit=n}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,Pe.t)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,Pe.t)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,Pe.t)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,yn.Q)(this._subsCtrl$)).subscribe({next:n=>{n&&this._setDefaultTime(n)}})}onHourChange(n){this._timepickerSrv.hour=n,this._onTimeChange()}onHourSelected(n){this.data.hoursOnly||this.changeTimeUnit(dt.MINUTE),this.data.timepickerBaseRef.hourSelected.next(n)}onKeydown(n){this._eventSrv.dispatchEvent(n),n.stopPropagation()}onMinuteChange(n){this._timepickerSrv.minute=n,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const n=this.data.minTime;if(n&&!this.data.time&&!this.data.defaultTime){const o=L.fromDateTimeToString(n,this.data.format);this._setDefaultTime(o)}}_onTimeChange(){const n=L.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(n)}_setDefaultTime(n){this._timepickerSrv.setDefaultTimeIfAvailable(n,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Xe),t.rXU(xi),t.rXU(Rt),t.rXU(Be))},e.\u0275dir=t.FsC({type:e,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(n,o){1&n&&t.bIt("keydown",function(r){return o.onKeydown(r)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),a})();class W{static get DEFAULT_MINUTES_GAP(){return 5}static disableHours(a,i){return i.min||i.max?a.map(n=>{const o=L.isTwentyFour(i.format)?n.time:L.formatHour(n.time,i.format,i.period),s=I.fromObject({hour:o}).toFormat(Pt.TWELVE);return{...n,disabled:!L.isTimeAvailable(s,i.min,i.max,"hours")}}):a}static disableMinutes(a,i,n){if(n.min||n.max){const o=L.formatHour(i,n.format,n.period);let s=I.fromObject({hour:o,minute:0});return a.map(r=>(s=s.set({minute:r.time}),{...r,disabled:!L.isTimeAvailable(s.toFormat(Pt.TWELVE),n.min,n.max,"minutes")}))}return a}static getHours(a){return Array(a).fill(1).map((i,n)=>{const s=i+n;return{time:24===s?0:s,angle:30*s}})}static getMinutes(a=1){const o=[];for(let s=0;s<60;s++){const r=6*s;s%a==0&&o.push({time:s,angle:0!==r?r:360})}return o}static isDigit(a){return!!([46,8,9,27,13].some(i=>i===a.keyCode)||65===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||67===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||88===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||a.keyCode>=35&&a.keyCode<=40)||!((a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105))}}var Ue=function(e){return e.hour="hour",e.minute="minute",e}(Ue||{});let yi=(()=>{var e;class a{get _locale(){return this._timepickerLocaleSrv.locale}constructor(n){this._timepickerLocaleSrv=n}transform(n,o,s=!1){if(null==n||""===n)return"";switch(o){case dt.HOUR:return this._formatTime(Ue.hour,n,0===n||s?"HH":"H");case dt.MINUTE:return this._formatTime(Ue.minute,n,"mm");default:throw new Error(`There is no Time Unit with type ${o}`)}}_formatTime(n,o,s){try{return I.fromObject({[n]:+o}).setLocale(this._locale).toFormat(s)}catch{throw new Error(`Cannot format provided time - ${o} to locale - ${this._locale}`)}}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Rt,16))},e.\u0275pipe=t.EJ8({name:"timeLocalizer",type:e,pure:!0,standalone:!0}),a})(),zd=(()=>{var e;class a{transform(n,o=W.DEFAULT_MINUTES_GAP){return n&&(n%o==0?n:"")}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.EJ8({name:"minutesFormatter",type:e,pure:!0,standalone:!0}),a})(),Ld=(()=>{var e;class a{transform(n,o,s,r){return null!=n&&!r&&o===n&&n%(s||W.DEFAULT_MINUTES_GAP)==0}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.EJ8({name:"activeMinute",type:e,pure:!0,standalone:!0}),a})(),Ad=(()=>{var e;class a{transform(n,o,s){return null!=n&&!s&&n===o}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.EJ8({name:"activeHour",type:e,pure:!0,standalone:!0}),a})();const jn_small_height="75px",jn_small_top="calc(50% - 75px)",jn_large_height="103px",jn_large_top="calc(50% - 103px)";let On=(()=>{var e;class a{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new t.bkB,this.timeSelected=new t.bkB,this.timeUnit=dt}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(n){const o=n.faceTime,s=n.selectedTime;o&&o.currentValue&&s&&s.currentValue&&(this.selectedTime=this.faceTime.find(r=>r.time===this.selectedTime.time)),s&&s.currentValue&&this._setClockHandPosition(),o&&o.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(n){n.preventDefault(),this._isStarted=!0}onMouseup(n){n.preventDefault(),this._isStarted=!1}selectTime(n){if(!this._isStarted&&n instanceof MouseEvent&&"click"!==n.type)return;const o=this.clockFace.nativeElement.getBoundingClientRect(),s=o.left+o.width/2,r=o.top+o.height/2,l=180*Math.atan(Math.abs(n.clientX-s)/Math.abs(n.clientY-r))/Math.PI,m=function Yd(e,a,i,n,o){return n>a&&i>=e?180-o:n>a&&i<e?180+o:n<a&&i<e?360-o:o}(s,r,n.clientX,n.clientY,l),_=this.format&&this._isInnerClockFace(s,r,n.clientX,n.clientY),T=(function Pd(e,a){return Math.round(e/a)*a}(m,this.unit===dt.MINUTE?6*(this.minutesGap||1):30)||360)+(_?360:0),k=this.faceTime.find(F=>F.angle===T);k&&!k.disabled&&(this.timeChange.next(k),this._isStarted||this.timeSelected.next(k.time))}trackByTime(n,o){return o.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=jn_small_height,this.clockHand.nativeElement.style.top=jn_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=jn_large_height,this.clockHand.nativeElement.style.top=jn_large_top}_isInnerClockFace(n,o,s,r){return Math.sqrt(Math.pow(s-n,2)+Math.pow(r-o,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const n=this.faceTime.find(o=>this.selectedTime.time===o.time);if(this.isClockFaceDisabled=this.faceTime.every(o=>o.disabled),n&&n.disabled&&!this.isClockFaceDisabled){const o=this.faceTime.find(s=>!s.disabled);this.timeChange.next(o)}}_setClockHandPosition(){L.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(n,o){if(1&n&&(t.GBs($m,7),t.GBs(zm,7,t.aKT)),2&n){let s;t.mGM(s=t.lsd())&&(o.clockFace=s.first),t.mGM(s=t.lsd())&&(o.clockHand=s.first)}},hostBindings:function(n,o){1&n&&t.bIt("mousedown",function(r){return o.onMousedown(r)})("mouseup",function(r){return o.onMouseup(r)})("click",function(r){return o.selectTime(r)})("touchmove",function(r){return o.selectTime(r.changedTouches[0])})("touchend",function(r){return o.selectTime(r.changedTouches[0])})("mousemove",function(r){return o.selectTime(r)})},inputs:{color:"color",dottedMinutesInGap:"dottedMinutesInGap",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:Ea,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],["clockFace",""],["clockHand",""],["current",""],[1,"clock-face"],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["type","hidden",3,"value"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(n,o){if(1&n&&(t.NAR(Ea),t.DNE(0,Am,4,13,"ng-template",null,0,t.C5r)(2,Ym,2,2,"ng-template",null,1,t.C5r),t.j41(4,"div",5,2),t.DNE(6,Jm,4,7,"div",6),t.j41(7,"mat-toolbar",7,3),t.DNE(9,qm,2,1,"button",8),t.k0s(),t.nrm(10,"mat-toolbar",9),t.k0s()),2&n){const s=t.sdS(3);t.R7$(6),t.Y8G("ngIf",o.unit!==o.timeUnit.MINUTE)("ngIfElse",s),t.R7$(),t.Y8G("color",o.color)("ngClass",t.eq3(7,Lm,o.unit===o.timeUnit.MINUTE))("hidden",o.isClockFaceDisabled),t.R7$(2),t.Y8G("ngIf",o.unit===o.timeUnit.MINUTE),t.R7$(),t.Y8G("color",o.color)}},dependencies:[bt.Hl,bt.$0,d.B3,d.pM,d.bT,d.T3,oe.s5,oe.KQ,d.YU,d.P9,Ad,Ld,zd,yi],styles:['ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed{--mdc-fab-small-container-color: transparent;--mat-fab-small-disabled-state-container-color: transparent;--mat-fab-hover-state-layer-opacity: 0;box-shadow:none}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed .mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed.dot{position:relative}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed.dot:after{content:" ";background-color:#777;width:3px;height:3px;border-radius:50%;left:50%;top:50%;position:absolute;transform:translate(-50%,-50%)}ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#fff;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n'],encapsulation:2,changeDetection:0}),a})(),Si=(()=>{var e;class a{set color(n){this._color=n}get color(){return this._color}constructor(){this.minuteChange=new t.bkB,this.minutesList=[],this.timeUnit=dt,this._color="primary"}ngOnChanges(n){if(n.period&&n.period.currentValue){const o=W.getMinutes(this.minutesGap);this.minutesList=W.disableMinutes(o,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",dottedMinutesInGap:"dottedMinutesInGap",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:6,consts:[[3,"timeChange","color","dottedMinutesInGap","faceTime","selectedTime","minutesGap","unit"]],template:function(n,o){1&n&&(t.j41(0,"ngx-mat-timepicker-face",0),t.bIt("timeChange",function(r){return o.minuteChange.next(r)}),t.k0s()),2&n&&t.Y8G("color",o.color)("dottedMinutesInGap",o.dottedMinutesInGap)("faceTime",o.minutesList)("selectedTime",o.selectedMinute)("minutesGap",o.minutesGap)("unit",o.timeUnit.MINUTE)},dependencies:[On],encapsulation:2}),a})(),Na=(()=>{var e;class a{set color(n){this._color=n}get color(){return this._color}set format(n){this._format=n,this.hoursList=W.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new t.bkB,this.hourSelected=new t.bkB,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(n){this.hourSelected.next(n)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275dir=t.FsC({type:e,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),a})(),Ii=(()=>{var e;class a extends Na{constructor(){super(),this.format=12}ngOnChanges(n){n.period&&n.period.currentValue&&(this.hoursList=W.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:1,vars:3,consts:[[3,"timeChange","timeSelected","color","selectedTime","faceTime"]],template:function(n,o){1&n&&(t.j41(0,"ngx-mat-timepicker-face",0),t.bIt("timeChange",function(r){return o.hourChange.next(r)})("timeSelected",function(r){return o.onTimeSelected(r)}),t.k0s()),2&n&&t.Y8G("color",o.color)("selectedTime",o.selectedHour)("faceTime",o.hoursList)},dependencies:[On],encapsulation:2,changeDetection:0}),a})(),ji=(()=>{var e;class a extends Na{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=W.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:4,consts:[[3,"timeChange","timeSelected","color","selectedTime","faceTime","format"]],template:function(n,o){1&n&&(t.j41(0,"ngx-mat-timepicker-face",0),t.bIt("timeChange",function(r){return o.hourChange.next(r)})("timeSelected",function(r){return o.onTimeSelected(r)}),t.k0s()),2&n&&t.Y8G("color",o.color)("selectedTime",o.selectedHour)("faceTime",o.hoursList)("format",o.format)},dependencies:[On],encapsulation:2,changeDetection:0}),a})(),Vd=(()=>{var e;class a{constructor(n){this._overlay=n,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new t.bkB,this.timePeriod=rt}animationDone(){this.isPeriodAvailable=!0}changePeriod(n){this.isPeriodAvailable=this._isSwitchPeriodAvailable(n),this.isPeriodAvailable&&this.periodChanged.next(n)}_getDisabledTimeByPeriod(n){switch(this.activeTimeUnit){case dt.HOUR:return W.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:n});case dt.MINUTE:return W.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:n});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(n){return!this._getDisabledTimeByPeriod(n).every(s=>s.disabled)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(he.hJ))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[t.aNF],decls:7,vars:12,consts:[["eventPanelOrigin","cdkOverlayOrigin"],["cdkOverlayOrigin","",1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"click","ngClass"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",1,0)(2,"button",2),t.bIt("click",function(){return t.eBV(s),t.Njj(o.changePeriod(o.timePeriod.AM))}),t.EFF(3),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return t.eBV(s),t.Njj(o.changePeriod(o.timePeriod.PM))}),t.EFF(5),t.k0s()(),t.DNE(6,Zm,1,1,"ng-template",3)}if(2&n){const s=t.sdS(1);t.R7$(2),t.Y8G("ngClass",t.eq3(8,Ve,o.selectedPeriod===o.timePeriod.AM)),t.R7$(),t.JRh(o.meridiems[0]),t.R7$(),t.Y8G("ngClass",t.eq3(10,Ve,o.selectedPeriod===o.timePeriod.PM)),t.R7$(),t.JRh(o.meridiems[1]),t.R7$(),t.Y8G("cdkConnectedOverlayScrollStrategy",o.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",o.overlayPositionStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",!o.isPeriodAvailable)}},dependencies:[he.$Q,d.YU,he.WB,d.bT],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,Dt.hZ)("scaleInOut",[(0,Dt.kY)(":enter",[(0,Dt.iF)({transform:"scale(0)"}),(0,Dt.i0)(".2s",(0,Dt.iF)({transform:"scale(1)"})),(0,Dt.K2)([(0,Dt.i0)("3s",(0,Dt.iF)({opacity:1})),(0,Dt.i0)(".3s",(0,Dt.iF)({opacity:0}))])])])]}}),a})(),je=(()=>{var e;class a{get _locale(){return this._timepickerLocaleSrv.locale}constructor(n){this._timepickerLocaleSrv=n,this._numberingSystem=I.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(n,o=dt.HOUR){return null==n||""===n?"":isNaN(+n)?o===dt.MINUTE?this._parseTime(n,"mm",Ue.minute).toString():this._parseTime(n,"HH",Ue.hour).toString():`${n}`}_parseTime(n,o,s){const r=I.fromFormat(String(n),o,{numberingSystem:this._numberingSystem})[s];if(!isNaN(r))return r;throw new Error(`Cannot parse time - ${n}`)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Rt,16))},e.\u0275pipe=t.EJ8({name:"ngxMatTimepickerParser",type:e,pure:!0,standalone:!0}),e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac}),a})(),Bd=(()=>{var e;class a{constructor(n,o){this._element=n,this._document=o,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.aKT),t.rXU(d.qQ,8))},e.\u0275dir=t.FsC({type:e,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:[0,"ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[t.OA$]}),a})();function Ga(){this.selectionStart=this.selectionEnd}let $a=(()=>{var e;class a{get _selectedTime(){if(this.time)return this.timeList.find(n=>n.time===+this.time)}constructor(n,o){this._elRef=n,this._timeParserPipe=o,this.focused=new t.bkB,this.timeChanged=new t.bkB,this.timeUnitChanged=new t.bkB,this.unfocused=new t.bkB}changeTimeByKeyboard(n){const o=String.fromCharCode(n.keyCode);(function Xd(e,a,i){if(/\d/.test(a))return za(e+a,i)})(this.time,o,this.timeList)&&n.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Ga,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Ga)}onKeydown(n){W.isDigit(n)?this._changeTimeByArrow(n.keyCode):n.preventDefault()}onModelChange(n){this.time=this._timeParserPipe.transform(n,this.timeUnit)}saveTimeAndChangeTimeUnit(n,o){n.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(o),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(n){return`0${+this.time+n}`.substr(-2)}_changeTimeByArrow(n){let o;38===n?o=this._addTime(this.minutesGap||1):40===n&&(o=this._addTime(-1*(this.minutesGap||1))),za(o,this.timeList)||(this.time=o,this.updateTime())}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.aKT),t.rXU(je))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[t.Jv_([je]),t.aNF],decls:3,vars:2,consts:[["editableTemplate",""],["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngModelChange","input","focus","ngClass","ngModel","disabled","ngxMatTimepickerAutofocus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngModelChange","input","focus","keydown","keypress","ngClass","ngModel","disabled","ngxMatTimepickerAutofocus"]],template:function(n,o){if(1&n&&t.DNE(0,Km,2,10,"input",1)(1,Qm,3,13,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",!o.isEditable)("ngIfElse",s)}},dependencies:[d.bT,c.YN,c.me,c.BC,c.vS,d.YU,Bd,je,yi],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),a})();function za(e,a){const i=a.find(n=>n.time===+e);return!i||i&&i.disabled}let wi,Oi=(()=>{var e;class a{set color(n){this._color=n}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(n){this._localeSrv=n,this.hourChanged=new t.bkB,this.meridiems=Le.meridiems({locale:this._locale}),this.minuteChanged=new t.bkB,this.periodChanged=new t.bkB,this.timeUnit=dt,this.timeUnitChanged=new t.bkB,this._color="primary"}changeHour(n){this.hourChanged.next(n)}changeMinute(n){this.minuteChanged.next(n)}changePeriod(n){this.periodChanged.next(n)}changeTimeUnit(n){this.timeUnitChanged.next(n)}hideHint(){this.isHintVisible=!1}ngOnChanges(n){const o=n.period&&n.period.currentValue;if(o||n.format&&n.format.currentValue){const s=W.getHours(this.format);this.hours=W.disableHours(s,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(o||n.hour&&n.hour.currentValue){const s=W.getMinutes(this.minutesGap);this.minutes=W.disableMinutes(s,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Rt))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:14,consts:[["editableHintDefault",""],[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeUnitChanged","timeChanged","focused","unfocused","timeList","time","timeUnit","isActive","isEditable"],[3,"timeUnitChanged","timeChanged","focused","unfocused","timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"periodChanged","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems"],[3,"ngClass"],[4,"ngTemplateOutlet"],[1,"timepicker-dial__hint"]],template:function(n,o){1&n&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"ngx-mat-timepicker-dial-control",4),t.bIt("timeUnitChanged",function(r){return o.changeTimeUnit(r)})("timeChanged",function(r){return o.changeHour(r)})("focused",function(){return o.showHint()})("unfocused",function(){return o.hideHint()}),t.k0s(),t.j41(4,"span"),t.EFF(5,":"),t.k0s(),t.j41(6,"ngx-mat-timepicker-dial-control",5),t.bIt("timeUnitChanged",function(r){return o.changeTimeUnit(r)})("timeChanged",function(r){return o.changeMinute(r)})("focused",function(){return o.showHint()})("unfocused",function(){return o.hideHint()}),t.k0s()(),t.DNE(7,ed,1,9,"ngx-mat-timepicker-period",6),t.k0s(),t.DNE(8,od,4,4,"div",7),t.k0s()),2&n&&(t.R7$(3),t.Y8G("timeList",o.hours)("time",o.hourString)("timeUnit",o.timeUnit.HOUR)("isActive",o.activeTimeUnit===o.timeUnit.HOUR)("isEditable",o.isEditable),t.R7$(3),t.Y8G("timeList",o.minutes)("time",o.minuteString)("timeUnit",o.timeUnit.MINUTE)("isActive",o.activeTimeUnit===o.timeUnit.MINUTE)("isEditable",o.isEditable)("minutesGap",o.minutesGap)("disabled",o.hoursOnly),t.R7$(),t.Y8G("ngIf",24!==o.format),t.R7$(),t.Y8G("ngIf",o.isEditable||o.editableHintTmpl))},dependencies:[$a,d.bT,Vd,d.YU,d.T3],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),a})(),La=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[t.aNF],ngContentSelectors:ad,decls:5,vars:2,consts:[["timepickerModal",""],["timepickerOutlet",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"]],template:function(n,o){if(1&n&&(t.NAR(),t.DNE(0,rd,2,1,"div",2)(1,cd,1,1,"ng-template",null,0,t.C5r)(3,md,1,0,"ng-template",null,1,t.C5r)),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.appendToInput)("ngIfElse",s)}},dependencies:[d.bT,d.T3],encapsulation:2}),a})(),Aa=(()=>{var e;class a extends Ma{constructor(n,o,s,r,l){super(s,r,l,n),this.data=n,this._dialogRef=o}close(){this._dialogRef.close()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(M.Vh),t.rXU(M.CP),t.rXU(Xe),t.rXU(xi),t.rXU(Rt))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["ampmHours",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"periodChanged","timeUnitChanged","hourChanged","minuteChanged","color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","dottedMinutesInGap","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],[3,"hourChange","hourSelected","color","selectedHour","minTime","maxTime","format"],[3,"hourChange","hourSelected","color","selectedHour","period","minTime","maxTime"],[3,"minuteChange","color","dottedMinutesInGap","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap"]],template:function(n,o){if(1&n){const s=t.RV6();t.DNE(0,dd,2,1,"ng-template",null,0,t.C5r)(2,_d,2,1,"ng-template",null,1,t.C5r),t.j41(4,"div",3)(5,"ngx-mat-timepicker-content",4)(6,"div",5)(7,"mat-toolbar",6)(8,"ngx-mat-timepicker-dial",7),t.nI1(9,"async"),t.nI1(10,"async"),t.nI1(11,"async"),t.bIt("periodChanged",function(l){return t.eBV(s),t.Njj(o.changePeriod(l))})("timeUnitChanged",function(l){return t.eBV(s),t.Njj(o.changeTimeUnit(l))})("hourChanged",function(l){return t.eBV(s),t.Njj(o.onHourChange(l))})("minuteChanged",function(l){return t.eBV(s),t.Njj(o.onMinuteChange(l))}),t.k0s()(),t.j41(12,"div",8)(13,"div",9),t.DNE(14,gd,4,2,"div",10)(15,hd,4,15,"ngx-mat-timepicker-minutes-face",11),t.k0s()()()()(),t.j41(16,"div",12)(17,"div",13),t.bIt("click",function(){return t.eBV(s),t.Njj(o.close())}),t.DNE(18,fd,1,0,"ng-container",14),t.k0s(),t.j41(19,"div",13),t.bIt("click",function(){return t.eBV(s),t.Njj(o.setTime())}),t.DNE(20,bd,1,0,"ng-container",14),t.k0s()()}if(2&n){let s,r;const l=t.sdS(1),m=t.sdS(3);t.R7$(5),t.Y8G("appendToInput",o.data.appendToInput)("inputElement",o.data.inputElement),t.R7$(),t.Y8G("ngClass",o.data.timepickerClass),t.R7$(),t.AVh("is-editable",o.data.enableKeyboardInput),t.Y8G("color",o.color),t.R7$(),t.Y8G("color",o.color)("format",o.data.format)("hour",null==(s=t.bMT(9,23,o.selectedHour))?null:s.time)("minute",null==(r=t.bMT(10,25,o.selectedMinute))?null:r.time)("period",t.bMT(11,27,o.selectedPeriod))("activeTimeUnit",o.activeTimeUnit)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("isEditable",o.data.enableKeyboardInput)("editableHintTmpl",o.data.editableHintTmpl)("minutesGap",o.data.minutesGap)("hoursOnly",o.data.hoursOnly),t.R7$(5),t.Y8G("ngSwitch",o.activeTimeUnit),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.HOUR),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.MINUTE),t.R7$(3),t.Y8G("ngTemplateOutlet",o.data.cancelBtnTmpl?o.data.cancelBtnTmpl:l),t.R7$(2),t.Y8G("ngTemplateOutlet",o.data.confirmBtnTmpl?o.data.confirmBtnTmpl:m)}},dependencies:[d.Jj,d.YU,d.bT,d.ux,d.e1,d.T3,bt.Hl,bt.$z,M.hM,M.E7,M.Yi,oe.s5,oe.KQ,La,Oi,ji,Ii,Si],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),a})(),Pa=(()=>{var e;class a extends Ma{constructor(n,o,s,r){super(o,s,r,n),this.data=n}close(){this.data.timepickerBaseRef.close()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Be),t.rXU(Xe),t.rXU(xi),t.rXU(Rt))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(n,o){2&n&&t.AVh("mat-app-background",!0)},standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["ampmHours",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"periodChanged","timeUnitChanged","hourChanged","minuteChanged","color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"dottedMinutesInGap","color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],[3,"hourChange","hourSelected","color","selectedHour","minTime","maxTime","format"],[3,"hourChange","hourSelected","color","selectedHour","period","minTime","maxTime"],[3,"minuteChange","dottedMinutesInGap","color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap"]],template:function(n,o){if(1&n){const s=t.RV6();t.DNE(0,vd,2,1,"ng-template",null,0,t.C5r)(2,kd,2,1,"ng-template",null,1,t.C5r),t.j41(4,"div",3)(5,"ngx-mat-timepicker-content",4)(6,"div",5)(7,"mat-toolbar",6)(8,"ngx-mat-timepicker-dial",7),t.nI1(9,"async"),t.nI1(10,"async"),t.nI1(11,"async"),t.bIt("periodChanged",function(l){return t.eBV(s),t.Njj(o.changePeriod(l))})("timeUnitChanged",function(l){return t.eBV(s),t.Njj(o.changeTimeUnit(l))})("hourChanged",function(l){return t.eBV(s),t.Njj(o.onHourChange(l))})("minuteChanged",function(l){return t.eBV(s),t.Njj(o.onMinuteChange(l))}),t.k0s()(),t.j41(12,"div",8)(13,"div",9),t.DNE(14,xd,4,2,"div",10)(15,yd,4,15,"ngx-mat-timepicker-minutes-face",11),t.k0s()()()(),t.j41(16,"div",12)(17,"div",13),t.bIt("click",function(){return t.eBV(s),t.Njj(o.close())}),t.DNE(18,Sd,1,0,"ng-container",14),t.k0s(),t.j41(19,"div",13),t.bIt("click",function(){return t.eBV(s),t.Njj(o.setTime())}),t.DNE(20,Id,1,0,"ng-container",14),t.k0s()()()}if(2&n){let s,r;const l=t.sdS(1),m=t.sdS(3);t.R7$(5),t.Y8G("appendToInput",o.data.appendToInput)("inputElement",o.data.inputElement),t.R7$(),t.Y8G("ngClass",o.data.timepickerClass),t.R7$(),t.AVh("is-editable",o.data.enableKeyboardInput),t.Y8G("color",o.color),t.R7$(),t.Y8G("color",o.color)("format",o.data.format)("hour",null==(s=t.bMT(9,23,o.selectedHour))?null:s.time)("minute",null==(r=t.bMT(10,25,o.selectedMinute))?null:r.time)("period",t.bMT(11,27,o.selectedPeriod))("activeTimeUnit",o.activeTimeUnit)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("isEditable",o.data.enableKeyboardInput)("editableHintTmpl",o.data.editableHintTmpl)("minutesGap",o.data.minutesGap)("hoursOnly",o.data.hoursOnly),t.R7$(5),t.Y8G("ngSwitch",o.activeTimeUnit),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.HOUR),t.R7$(),t.Y8G("ngSwitchCase",o.timeUnit.MINUTE),t.R7$(3),t.Y8G("ngTemplateOutlet",o.data.cancelBtnTmpl?o.data.cancelBtnTmpl:l),t.R7$(2),t.Y8G("ngTemplateOutlet",o.data.confirmBtnTmpl?o.data.confirmBtnTmpl:m)}},dependencies:[bt.Hl,bt.$z,Ti.Pd,Ti.kB,La,d.YU,oe.s5,oe.KQ,Oi,d.ux,d.e1,d.bT,ji,Ii,Si,d.T3,d.Jj],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),a})(),Ud=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-provider"]],standalone:!0,features:[t.Jv_([{provide:Be,useFactory:()=>wi}]),t.aNF],decls:1,vars:0,template:function(n,o){1&n&&t.nrm(0,"ngx-mat-timepicker-standalone")},dependencies:[Pa],encapsulation:2}),a})(),Fi=(()=>{var e;class a{set appendToInput(n){this._appendToInput=(0,Zn.he)(n)}set color(n){this._color=n}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set dottedMinutesInGap(n){this._dottedMinutesInGap=(0,Zn.he)(n)}get dottedMinutesInGap(){return this._dottedMinutesInGap}set enableKeyboardInput(n){this._enableKeyboardInput=(0,Zn.he)(n)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(n){this._format=L.isTwentyFour(n)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(n){null!=n&&(n=Math.floor(n),this._minutesGap=n<=59?n:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(n){this._dialog=n,this.closed=new t.bkB,this.hourSelected=new t.bkB,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++a.nextId,this.isEsc=!0,this.opened=new t.bkB,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new t.bkB,this.timeSet=new t.bkB,this.timeUpdated=new ye.t(void 0),this._appendToInput=!1,this._color="primary",this._dottedMinutesInGap=!1,this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){wi={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,dottedMinutesInGap:this._dottedMinutesInGap,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Aa,{panelClass:"ngx-mat-timepicker-dialog",data:{...wi}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(n){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",n.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=n}unregisterInput(){this._timepickerInput=void 0}updateTime(n){this.timeUpdated.next(n)}}return(e=a).nextId=0,e.\u0275fac=function(n){return new(n||e)(t.rXU(M.bZ))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(n,o){2&n&&t.Mr5("id",o.id)},inputs:{appendToInput:"appendToInput",color:"color",dottedMinutesInGap:"dottedMinutesInGap",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[t.aNF],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"]],template:function(n,o){1&n&&(t.DNE(0,jd,1,0,"ng-template",0),t.bIt("backdropClick",function(){return o.close()})),2&n&&t.Y8G("cdkConnectedOverlayPositions",o.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",o.overlayOrigin)("cdkConnectedOverlayOpen",o.showPicker)},dependencies:[he.WB,Ud],encapsulation:2}),a})(),Ya=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275dir=t.FsC({type:e,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),a})(),Va=(()=>{var e;class a{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(n){this._disabled=n}open(n){this.timepicker&&(this.timepicker.open(),n.stopPropagation())}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(n,o,s){if(1&n&&t.wni(s,Ya,7),2&n){let r;t.mGM(r=t.lsd())&&(o.customIcon=r.first)}},inputs:{disabled:"disabled",timepicker:[0,"for","timepicker"]},standalone:!0,features:[t.aNF],ngContentSelectors:wd,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(n,o){1&n&&(t.NAR(Od),t.j41(0,"button",0),t.bIt("click",function(r){return o.open(r)}),t.DNE(1,Fd,2,0,"svg",1),t.SdG(2),t.k0s()),2&n&&(t.Y8G("disabled",o.disabled),t.R7$(),t.Y8G("ngIf",!o.customIcon))},dependencies:[bt.Hl,bt.iY,d.bT],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),a})(),Ba=(()=>{var e;class a{set color(n){this._color=n}get color(){return this._color}set floatLabel(n){this._floatLabel=n}get floatLabel(){return this._floatLabel}constructor(n){this._timeParser=n,this.id=a.nextId++,this.timeChanged=new t.bkB,this._color="primary",this._floatLabel="auto"}changeTime(n){n.stopPropagation();const o=n.data,s=function Hd(e,a){if(/\d/.test(a))return+(e+a)}(String(this.time),o);this._changeTimeIfValid(s)}decrease(){if(!this.disabled){let n=+this.time-1;n<this.min&&(n=this.max),this._isSelectedTimeDisabled(n)&&(n=this._getAvailableTime(n,this._getPrevAvailableTime.bind(this))),n!==this.time&&this.timeChanged.emit(n)}}increase(){if(!this.disabled){let n=+this.time+1;n>this.max&&(n=this.min),this._isSelectedTimeDisabled(n)&&(n=this._getAvailableTime(n,this._getNextAvailableTime.bind(this))),n!==this.time&&this.timeChanged.emit(n)}}ngOnChanges(n){n.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(n){switch(n.stopPropagation(),W.isDigit(n)||n.preventDefault(),n.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==n.key&&n.preventDefault()}onModelChange(n){this.time=+this._timeParser.transform(n,this.timeUnit)}_changeTimeIfValid(n){if(!isNaN(n)){if(this.time=n,this.time>this.max){const o=String(n);this.time=+o[o.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(n,o){return o(this.timeList.findIndex(l=>l.time===n))??this.time}_getNextAvailableTime(n){const o=this.timeList,s=o.length;for(let r=n+1;r<s;r++){const l=o[r];if(!l.disabled)return l.time}}_getPrevAvailableTime(n){for(let o=n;o>=0;o--){const s=this.timeList[o];if(!s.disabled)return s.time}}_isSelectedTimeDisabled(n){return this.timeList.find(o=>o.time===n).disabled}_setAvailableTime(){this.time=this.timeList.find(n=>!n.disabled).time,this.timeChanged.emit(this.time)}}return(e=a).nextId=0,e.\u0275fac=function(n){return new(n||e)(t.rXU(je))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[t.Jv_([je]),t.OA$,t.aNF],decls:13,vars:19,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"ngModelChange","keydown","beforeinput","focus","blur","id","name","ngModel","placeholder","disabled"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(n,o){1&n&&(t.j41(0,"mat-form-field",0)(1,"input",1),t.nI1(2,"ngxMatTimepickerParser"),t.nI1(3,"timeLocalizer"),t.bIt("ngModelChange",function(r){return o.onModelChange(r)})("keydown",function(r){return o.onKeydown(r)})("beforeinput",function(r){return o.changeTime(r)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),t.k0s(),t.j41(4,"div",2)(5,"span",3),t.bIt("click",function(){return o.increase()}),t.qSk(),t.j41(6,"svg",4),t.nrm(7,"path",5)(8,"path",6),t.k0s()(),t.joV(),t.j41(9,"span",3),t.bIt("click",function(){return o.decrease()}),t.qSk(),t.j41(10,"svg",4),t.nrm(11,"path",7)(12,"path",8),t.k0s()()()()),2&n&&(t.Y8G("color",o.color)("floatLabel",o.floatLabel)("ngClass",t.eq3(17,Ve,o.isFocused)),t.R7$(),t.Mz_("id","ngx_mat_timepicker_field_",o.id,""),t.Mz_("name","ngx_mat_timepicker_field_",o.id,""),t.Y8G("ngModel",t.brH(3,13,t.i5U(2,10,o.time,o.timeUnit),o.timeUnit,!0))("placeholder",o.placeholder)("disabled",o.disabled))},dependencies:[nt.RG,nt.rl,nt.yw,d.YU,Gt.fS,Gt.fg,c.YN,c.me,c.BC,c.tU,c.vS,je,yi],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),a})(),Jd=(()=>{var e;class a{get color(){return this._color}set color(n){this._color=n}get defaultTime(){return this._defaultTime}set defaultTime(n){this._defaultTime=n,this._isDefaultTime=!!n}get floatLabel(){return this._floatLabel}set floatLabel(n){this._floatLabel=n}get format(){return this._format}set format(n){L.isTwentyFour(n)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=W.getHours(this._format),n&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(n){this._max="string"!=typeof n?n:L.parseTime(n,{locale:this._locale,format:this.format})}get min(){return this._min}set min(n){this._min="string"!=typeof n?n:L.parseTime(n,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(n,o){this._timepickerService=n,this._timepickerLocaleSrv=o,this.hour$=new ye.t(void 0),this.maxHour=12,this.minHour=1,this.minute$=new ye.t(void 0),this.period=rt.AM,this.periods=[rt.AM,rt.PM],this.timeChanged=new t.bkB,this.timeUnit=dt,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new Se.B,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(n){this._timepickerService.hour=this.hoursList.find(o=>o.time===n),this._changeTime()}changeMinute(n){this._timepickerService.minute=this.minutesList.find(o=>o.time===n),this._changeTime()}changePeriod(n){this._timepickerService.period=n.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=W.getHours(this._format),this.minutesList=W.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,Ie.M)(n=>this._selectedHour=n?.time),(0,Fa.T)(this._changeDefaultTimeValue.bind(this)),(0,Ie.M)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:n=>this.hour$.next(n)}),this._timepickerService.selectedMinute.pipe((0,Fa.T)(this._changeDefaultTimeValue.bind(this)),(0,Ie.M)(()=>this._isFirstTimeChange=!1)).subscribe({next:n=>this.minute$.next(n)}),12===this.format?this._timepickerService.selectedPeriod.pipe((0,Nm.F)(),(0,Ie.M)(n=>this.period=n),(0,Ie.M)(n=>this.isChangePeriodDisabled=this._isPeriodDisabled(n)),(0,yn.Q)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime()):this.isTimeRangeSet&&this._updateAvailableTime()}onTimeSet(n){this._updateTime(n),this._emitLocalTimeChange(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}writeValue(n){n?this._initTime(n):this._resetTime()}_changeDefaultTimeValue(n){return!this._isDefaultTime&&this._isFirstTimeChange?{...n,time:null}:n}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const n=this._timepickerService.getFullTime(this.format);this.timepickerTime=n,this._emitLocalTimeChange(n)}}_emitLocalTimeChange(n){const o=L.toLocaleTimeString(n,{format:this.format,locale:this._locale});this._onChange(o),this._onTouched(o),this.timeChanged.emit(o)}_initTime(n){if(!L.isTimeAvailable(n,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(L.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(L.fromDateTimeToString(this.max,this.format))}this._updateTime(n)}_isPeriodDisabled(n){return W.disableHours(W.getHours(12),{min:this.min,max:this.max,format:12,period:n===rt.AM?rt.PM:rt.AM}).every(o=>o.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=W.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=W.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(n){if(n){const o=L.formatTime(n,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(o,this.min,this.max,this.format),this.timepickerTime=o}}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Xe),t.rXU(Rt))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[t.Jv_([Xe,{provide:c.kq,useExisting:e,multi:!0}]),t.aNF],decls:11,vars:32,consts:[["timepicker",""],["defaultIcon",""],[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"timeChanged","color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"timeChanged","color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"timeSet","color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl"],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"selectionChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",2)(1,"ngx-mat-timepicker-time-control",3),t.bIt("timeChanged",function(l){return t.eBV(s),t.Njj(o.changeHour(l))}),t.k0s(),t.j41(2,"span",4),t.EFF(3,":"),t.k0s(),t.j41(4,"ngx-mat-timepicker-time-control",5),t.bIt("timeChanged",function(l){return t.eBV(s),t.Njj(o.changeMinute(l))}),t.k0s(),t.DNE(5,Rd,3,4,"mat-form-field",6)(6,Nd,3,3,"ngx-mat-timepicker-toggle",7),t.k0s(),t.j41(7,"ngx-mat-timepicker",8,0),t.bIt("timeSet",function(l){return t.eBV(s),t.Njj(o.onTimeSet(l))}),t.k0s(),t.DNE(9,Gd,2,0,"ng-template",null,1,t.C5r)}if(2&n){let s,r;t.Y8G("ngClass",t.eq3(30,Ed,o.disabled)),t.R7$(),t.Y8G("color",o.color)("floatLabel",o.floatLabel)("placeholder","HH")("time",null==(s=o.hour$.getValue())?null:s.time)("min",o.minHour)("max",o.maxHour)("timeUnit",o.timeUnit.HOUR)("disabled",o.disabled)("timeList",o.hoursList)("preventTyping",o.isTimeRangeSet),t.R7$(3),t.Y8G("color",o.color)("floatLabel",o.floatLabel)("placeholder","MM")("time",null==(r=o.minute$.getValue())?null:r.time)("min",0)("max",59)("timeUnit",o.timeUnit.MINUTE)("disabled",o.disabled)("timeList",o.minutesList)("preventTyping",o.isTimeRangeSet),t.R7$(),t.Y8G("ngIf",24!==o.format),t.R7$(),t.Y8G("ngIf",!o.controlOnly),t.R7$(),t.Y8G("color",o.color)("min",o.min)("max",o.max)("defaultTime",o.timepickerTime)("format",o.format)("cancelBtnTmpl",o.cancelBtnTmpl)("confirmBtnTmpl",o.confirmBtnTmpl)}},dependencies:[d.YU,Ba,d.bT,nt.RG,nt.rl,At.Ve,At.VO,at.wT,c.YN,c.BC,c.vS,d.pM,at.Sy,Va,Ya,d.T3,Fi,Ci.m_,Ci.An],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:#00000012;pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),a})(),qd=(()=>{var e;class a{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(n){this._format=L.isTwentyFour(+n)?24:12,n&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(n){this._max="string"!=typeof n?n:L.parseTime(n,{locale:this._locale,format:this.format})}get min(){return this._min}set min(n){this._min="string"!=typeof n?n:L.parseTime(n,{locale:this._locale,format:this.format})}set timepicker(n){this._registerTimepicker(n)}get value(){return this._value?L.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(n){if(!n)return this._value="",void this._updateInputValue();const o=L.formatTime(n,{locale:this._locale,format:this.format});if(L.isTimeAvailable(o,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=o,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(n){this._timepicker.defaultTime=L.formatTime(n,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(n,o,s){this._elementRef=n,this._timepickerLocaleSrv=o,this._matFormField=s,this.cdkOverlayOrigin=new he.$Q(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new Se.B,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(n){const o=n.value;o&&o.currentValue&&(this._defaultTime=o.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(n){this.disableClick||(this._timepicker.open(),n.stopPropagation())}registerOnChange(n){this._onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}updateValue(n){this.value=n.target.value,this._onChange(this.value)}writeValue(n){this.value=n,n&&(this._defaultTime=n)}_registerTimepicker(n){if(!n)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=n,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,yn.Q)(this._subsCtrl$)).subscribe(o=>{this.value=o,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.aKT),t.rXU(Rt),t.rXU(nt.rl,8))},e.\u0275dir=t.FsC({type:e,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(n,o){1&n&&t.bIt("blur",function(){return o.onTouched()})("click",function(r){return o.onClick(r)})("change",function(r){return o.updateValue(r)}),2&n&&(t.Mr5("disabled",o.disabled),t.BMQ("cdkOverlayOrigin",o.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:[0,"ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[t.Jv_([{provide:c.kq,useExisting:e,multi:!0}]),t.OA$]}),a})(),Wd=(()=>{var e;class a{static setLocale(n){return{ngModule:a,providers:[{provide:Ra,useValue:n},{provide:Be,useValue:void 0},Rt]}}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[Rt,{provide:bt.Il,useValue:{color:"void"}}],imports:[d.MD,Ti.Pd,c.YN,bt.Hl,nt.RG,M.hM,Gt.fS,At.Ve,oe.s5,Ci.m_,he.z_,Gm.jc,Fi,Oi,$a,Aa,On,Si,Pa,Va,Ii,ji,Jd,Ba]}),a})();var Yt=g(78305),Wt=g(30077),wn=g(78416);class Zd{static addNewEducationalProgramFormValidator(a){let i=a,n=i.controls.weekdayConfig;if(!n.length)return i.setErrors(null),null;let o=0,s=0;return n.controls.forEach(r=>{let l=!1,m={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};r.controls.selected.value?(r.controls.infrastructureId.value||(l=!0,m.invalidInfrastructure=!0),r.controls.startTime.value&&r.controls.endTime.value?new Date("1970-01-01T"+r.controls.startTime.value).getTime()>=new Date("1970-01-01T"+r.controls.endTime.value).getTime()?(l=!0,m.invalidTime=!0):m.invalidTime=!1:(l=!0,m.requireTime=!0),r.setErrors(l?m:null),s++):r.setErrors(null),r.invalid&&o++},n),o||!s?(i.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(i.setErrors(null),null)}}var Fn=g(45312),Xa=g(38880),He=g(78309);const Kd=["startTime"],Qd=e=>({"mt-2":e}),t_=()=>({"ml-2 clickable":!0}),Ei=()=>({"width.px":"auto","height.%":100}),e_=e=>[e],n_=e=>({backTo:e}),i_=()=>({"mr-2":!0}),Ua=(e,a)=>({hiddenVisible:e,visibleIpt:a}),Ha=e=>({"border border-primary":e}),o_=()=>({"text-primary":!0});function a_(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",11),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function s_(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.saveEducationalProgramEmit.emit(!1))}),t.nrm(1,"lucide-icon",46),t.j41(2,"span",47),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG(2);t.Y8G("disabled",i.isSavingProgram),t.R7$(3),t.JRh(t.bMT(4,2,"lang_auto_huy"))}}function r_(e,a){1&e&&t.nrm(0,"lucide-icon",52)}function l_(e,a){1&e&&t.nrm(0,"lucide-icon",53)}function c_(e,a){1&e&&t.nrm(0,"lucide-icon",61),2&e&&t.Y8G("ngClass",t.lJ4(1,o_))}function m_(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",57)(1,"div",58),t.bIt("click",function(){let o;const s=t.eBV(i).$implicit,r=t.XpG().$implicit,l=t.XpG(2).$implicit,m=t.XpG(2);return t.Njj(m.selectSubject(null!==(o=l.id)&&void 0!==o?o:0,null!==(o=r.id)&&void 0!==o?o:0,s))}),t.j41(2,"span",59),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,c_,1,2,"lucide-icon",60),t.k0s()()}if(2&e){const i=a.$implicit;t.Y8G("ngClass",t.eq3(5,Ha,i.selected)),t.R7$(3),t.JRh(t.bMT(4,3,i.name)),t.R7$(2),t.Y8G("ngIf",i.selected)}}function d_(e,a){if(1&e&&(t.qex(0),t.j41(1,"h3",54)(2,"span",55),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.DNE(5,m_,6,7,"div",56),t.bVm()),2&e){const i=a.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,2,i.name)," "),t.R7$(2),t.Y8G("ngForOf",i.children)}}function __(e,a){if(1&e&&(t.qex(0),t.DNE(1,d_,6,4,"ng-container",25),t.bVm()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.subjects)}}function u_(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"h3",48),t.bIt("click",function(){let o;const s=t.eBV(i).$implicit,r=t.XpG(2);return t.Njj(r.showEducationalProgramSubject(null!==(o=s.id)&&void 0!==o?o:0))}),t.j41(2,"span",49),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,r_,1,0,"lucide-icon",50)(6,l_,1,0,"lucide-icon",51),t.k0s(),t.DNE(7,__,2,1,"ng-container",26),t.bVm()}if(2&e){const i=a.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,4,i.name)," "),t.R7$(2),t.Y8G("ngIf",i.showChild),t.R7$(),t.Y8G("ngIf",!i.showChild),t.R7$(),t.Y8G("ngIf",i.showChild)}}function p_(e,a){1&e&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function g_(e,a){1&e&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function h_(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",64),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.openWeekdayConfig(o.controls.id.value))}),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()}if(2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("formGroup",i),t.R7$(2),t.JRh(t.bMT(4,2,i.controls.name.value))}}function f_(e,a){1&e&&(t.j41(0,"button",82),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_huy")))}function b_(e,a){1&e&&(t.j41(0,"button",83),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_xac_nhan")))}function v_(e,a){1&e&&t.nrm(0,"p",84)}function k_(e,a){1&e&&(t.j41(0,"mat-label"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function T_(e,a){if(1&e&&(t.j41(0,"mat-option",85),t.EFF(1),t.k0s()),2&e){const i=a.$implicit;t.FS9("value",i.id),t.R7$(),t.JRh(i.name)}}function C_(e,a){1&e&&(t.qex(0),t.j41(1,"small",86),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function x_(e,a){1&e&&(t.qex(0),t.j41(1,"small",86),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function y_(e,a){1&e&&(t.qex(0),t.nrm(1,"br"),t.j41(2,"small",87),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()),2&e&&(t.R7$(3),t.SpI("* ",t.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function S_(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",65)(1,"div",66)(2,"span",67),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.openWeekdayConfig(o.controls.id.value))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"lucide-icon",68),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.openWeekdayConfig(o.controls.id.value))}),t.k0s(),t.j41(6,"div",69)(7,"div",70)(8,"div",71),t.nrm(9,"input",72),t.nI1(10,"mytranslate"),t.nrm(11,"ngx-mat-timepicker",73,2),t.k0s(),t.j41(13,"div",74)(14,"span",75),t.EFF(15,"\xa0-\xa0"),t.k0s()(),t.j41(16,"div",71),t.nrm(17,"input",76),t.nI1(18,"mytranslate"),t.nrm(19,"ngx-mat-timepicker",73,3),t.k0s(),t.DNE(21,f_,3,3,"ng-template",null,4,t.C5r)(23,b_,3,3,"ng-template",null,5,t.C5r)(25,v_,1,0,"ng-template",null,6,t.C5r),t.j41(27,"lucide-icon",77),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.openWeekdayConfig(o.controls.id.value))}),t.k0s()(),t.j41(28,"mat-form-field",78),t.DNE(29,k_,3,3,"mat-label",26),t.j41(30,"mat-select",79,7),t.bIt("openedChange",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.touchedMatSelect(o,s))}),t.j41(32,"mat-option"),t.nrm(33,"ngx-mat-select-search",80),t.nI1(34,"mytranslate"),t.nI1(35,"mytranslate"),t.k0s(),t.DNE(36,T_,2,2,"mat-option",81),t.k0s()(),t.DNE(37,C_,4,3,"ng-container",26)(38,x_,4,3,"ng-container",26)(39,y_,5,3,"ng-container",26),t.k0s()()()}if(2&e){const i=t.sdS(12),n=t.sdS(20),o=t.sdS(22),s=t.sdS(24),r=t.sdS(26),l=t.sdS(31),m=t.XpG().$implicit,_=t.XpG(2);t.Y8G("formGroup",m)("ngClass",t.eq3(36,Ha,m.controls.selected.value)),t.R7$(3),t.JRh(t.bMT(4,26,m.controls.name.value)),t.R7$(6),t.FS9("placeholder",t.bMT(10,28,"lang_auto_tu")),t.Y8G("ngxMatTimepicker",i)("format",24),t.R7$(2),t.Y8G("editableHintTmpl",r)("enableKeyboardInput",!0)("cancelBtnTmpl",o)("confirmBtnTmpl",s),t.R7$(6),t.FS9("placeholder",t.bMT(18,30,"lang_auto_den")),t.Y8G("ngxMatTimepicker",n)("format",24),t.R7$(2),t.Y8G("editableHintTmpl",r)("enableKeyboardInput",!0)("cancelBtnTmpl",o)("confirmBtnTmpl",s),t.R7$(10),t.Y8G("ngIf",m.errors&&m.errors.invalidInfrastructure&&!m.controls.infrastructureId.touched),t.R7$(),t.Y8G("value",m.controls.infrastructureId.value),t.R7$(3),t.FS9("placeholderLabel",t.bMT(34,32,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(35,34,"lang_search_not_found")),t.Y8G("formControl",l.searchControl),t.R7$(3),t.Y8G("ngForOf",l.filter(_.listInfrastructureObjs,"name")),t.R7$(),t.Y8G("ngIf",m.errors&&m.errors.requireTime),t.R7$(),t.Y8G("ngIf",m.errors&&m.errors.invalidTime),t.R7$(),t.Y8G("ngIf",m.errors&&m.errors.invalidInfrastructure)}}function I_(e,a){if(1&e&&(t.qex(0),t.DNE(1,h_,5,4,"ng-container",26)(2,S_,40,38,"div",63),t.bVm()),2&e){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",!i.controls.selected.value),t.R7$(),t.Y8G("ngIf",i.controls.selected.value)}}function j_(e,a){1&e&&(t.qex(0),t.j41(1,"small",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.SpI("* ",t.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function O_(e,a){1&e&&t.nrm(0,"azt-loading-ui",91)}function w_(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",88)(1,"button",89),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.saveEducationalProgram())}),t.DNE(2,O_,1,0,"azt-loading-ui",90),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG(2);t.R7$(),t.Y8G("disabled",i.form.invalid||i.isSavingProgram),t.R7$(),t.Y8G("ngIf",i.isSavingProgram),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_luu")," ")}}function F_(e,a){if(1&e){const i=t.RV6();t.DNE(0,s_,5,4,"button",12),t.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3",18),t.EFF(7,"1"),t.k0s()(),t.j41(8,"span",19),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"lucide-icon",20),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.reloadAllEducationalProgram())}),t.k0s()(),t.j41(12,"div",21)(13,"div",22)(14,"ng-scrollbar",23)(15,"div",24),t.DNE(16,u_,8,6,"ng-container",25)(17,p_,4,3,"ng-container",26)(18,g_,4,3,"ng-container",26),t.k0s()()(),t.j41(19,"div",24)(20,"a",27),t.nI1(21,"navigationLocalize"),t.nrm(22,"lucide-icon",28),t.j41(23,"span",29),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()()(),t.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"h3",18),t.EFF(30,"2"),t.k0s()(),t.j41(31,"span",30),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()(),t.j41(34,"div",31)(35,"div",32)(36,"ng-scrollbar",23)(37,"div",33),t.DNE(38,I_,3,2,"ng-container",25),t.k0s()()()()(),t.j41(39,"div",15)(40,"div",16)(41,"div",17)(42,"h3",18),t.EFF(43,"3"),t.k0s()(),t.j41(44,"span",30),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()(),t.j41(47,"div",34)(48,"div",35)(49,"ng-scrollbar",23)(50,"div",36)(51,"mat-form-field",37)(52,"input",38),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.openDateTimePicker(1))}),t.k0s(),t.j41(53,"button",39),t.bIt("click",function(o){return t.eBV(i),t.XpG().openDateTimePicker(1),t.Njj(o.stopPropagation())}),t.nrm(54,"lucide-icon",40),t.k0s(),t.j41(55,"ngx-mat-datetime-picker",41,1)(57,"ngx-mat-datepicker-actions")(58,"button",42),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s(),t.j41(61,"button",43),t.EFF(62,"OK"),t.k0s()()()(),t.DNE(63,j_,4,3,"ng-container",26),t.k0s()()(),t.DNE(64,w_,5,5,"div",44),t.k0s()()()()}if(2&e){const i=t.sdS(56),n=t.XpG();t.Y8G("ngIf",n.programObj),t.R7$(2),t.Y8G("ngClass",t.eq3(41,Qd,n.programObj)),t.R7$(7),t.JRh(t.bMT(10,29,"lang_config_educational_program_select_new")),t.R7$(2),t.Y8G("ngClass",t.lJ4(43,t_)),t.R7$(3),t.Y8G("visibility","hover")("ngStyle",t.lJ4(44,Ei)),t.R7$(2),t.Y8G("ngForOf",n.listEducationalProgramObjs),t.R7$(),t.Y8G("ngIf",n.listEducationalProgramObjs.length>0&&!n.form.controls.chooseProgramId.value),t.R7$(),t.Y8G("ngIf",!n.listEducationalProgramObjs.length),t.R7$(2),t.Y8G("routerLink",t.eq3(45,e_,t.bMT(21,31,"/business/create-general-educational-program")))("queryParams",t.eq3(47,n_,n.currentURL)),t.R7$(2),t.Y8G("ngClass",t.lJ4(49,i_)),t.R7$(2),t.JRh(t.bMT(25,33,"lang_config_educational_program_add_new")),t.R7$(8),t.JRh(t.bMT(33,35,"lang_config_educational_program_add_time")),t.R7$(3),t.Y8G("ngClass",t.l_i(50,Ua,n.form.controls.stepChoose.value<2,n.form.controls.stepChoose.value>=2)),t.R7$(),t.Y8G("visibility","hover")("ngStyle",t.lJ4(53,Ei)),t.R7$(2),t.Y8G("ngForOf",n.form.controls.weekdayConfig.controls),t.R7$(7),t.JRh(t.bMT(46,37,"lang_config_educational_program_add_start_time")),t.R7$(3),t.Y8G("ngClass",t.l_i(54,Ua,n.form.controls.stepChoose.value<3,n.form.controls.stepChoose.value>=3)),t.R7$(),t.Y8G("visibility","hover")("ngStyle",t.lJ4(57,Ei)),t.R7$(3),t.Y8G("max",n.maxDate)("ngxMatDatetimePicker",i),t.R7$(3),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(4),t.JRh(t.bMT(60,39,"lang_auto_dong")),t.R7$(4),t.Y8G("ngIf",n.form.controls.startTimeEducationalProgram.invalid),t.R7$(),t.Y8G("ngIf",!n.statusObj.loading)}}let E_=(()=>{var e;class a extends j.H{openDateTimePicker(n){1==n&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(n){this.listEducationalProgramObjs.forEach(o=>{o.id==n&&(o.showChild=!o.showChild,o.showChild||o.subjects.forEach(s=>{s.children?.forEach(r=>{r.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0),r.selected=!1,this.initFormWeekly())})}))})}selectSubject(n,o,s){this.listEducationalProgramObjs.forEach(r=>{r.id==n?r.subjects.forEach(l=>{l.id==o?l.children?.forEach(m=>{m.id==s.id?(m.selected=!m.selected,this.form.controls.chooseProgramId.setValue(m.selected?s.id:0),this.form.controls.stepChoose.setValue(m.selected?2:1)):m.selected=!1}):l.children?.map(m=>m.selected=!1)}):r.subjects.map(l=>l.children?.map(m=>m.selected=!1))})}reloadAllEducationalProgram(){this.form.controls.chooseProgramId.setValue(0),this.initFormWeekly(),this.initData()}openWeekdayConfig(n){this.form.controls.weekdayConfig.controls.forEach(o=>{o.controls.id.value==n&&o.controls.selected.setValue(!o.controls.selected.value)})}touchedMatSelect(n,o){n?o.controls.infrastructureId.markAsTouched():o.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let n={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,n)).subscribe(o=>{if(this.isSavingProgram=!1,!o.success)return this.errorStatusObj(o.message,!0);this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.saveEducationalProgramEmit.emit(!0)}))}convertStudyTimes(){let n=[];return this.form.controls.weekdayConfig.controls.forEach(o=>{if(o.controls.selected.value){let s={days:o.controls.id.value,fromHour:new Date("1970-01-01T"+o.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+o.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+o.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+o.controls.endTime.value).getMinutes(),roomId:o.controls.infrastructureId.value};n.push(s)}}),n}convertSubjectList(n,o){let s=[];return n.forEach(r=>{if(r.schoolLevelId==o)if(s.filter(m=>m.id==r.schoolSubjectId&&m.levelId==r.schoolLevelId).length)s.forEach(m=>{m.id==r.schoolSubjectId&&m.levelId==r.schoolLevelId&&(m.children?.find(_=>_==r)||m.children?.push(r))});else{let m={id:r.schoolSubjectId,levelId:r.schoolLevelId,name:this.schoolSubjectObjs.find(_=>_.id==r.schoolSubjectId)?.name,children:[r]};s.push(m)}}),s}convertProgramInfo(n){let o=[],s=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",r=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return n.forEach(l=>{if(l.name=`${l.name} (${l.totalSession} ${r})`,!o.filter(_=>_.id==l.schoolLevelId).length){let _={id:l.schoolLevelId,name:s+" "+l.schoolLevelId,subjects:this.convertSubjectList(n,l.schoolLevelId),showChild:!1};o.push(_)}}),o.sort((l,m)=>(m.id??0)-(l.id??0))}convertListInfrastructure(n){let o=[],s=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return n.forEach(r=>{r.name=`${r.infrastructure?.name??""} - ${r.name} (${r.numberSeat} ${s})`,o.push(r)}),o}getAllInfrastructure(){this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresRoomsGet()).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.listInfrastructureObjs=this.convertListInfrastructure(n.data?.list??[]),this.stopStatusObj()}))}initFormWeekly(){this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let n=0;n<7;n++){let o=new c.gE({id:new c.MJ(n,{nonNullable:!0}),name:new c.MJ("lang_config_educational_program_day_"+n,{nonNullable:!0}),startTime:new c.MJ("",{nonNullable:!0}),endTime:new c.MJ("",{nonNullable:!0}),infrastructureId:new c.MJ(0,{nonNullable:!0}),selected:new c.MJ(!1,{nonNullable:!0}),invalidTime:new c.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(o)}}initData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsListPost({page:0,size:-1})).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.listEducationalProgramObjs=this.convertProgramInfo(n.data?.list??[]),this.getAllInfrastructure()}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(n=>{1==n.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(n.data?.schoolLevelSubjectObjs.map(o=>o.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(n.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(o=>o.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(n,o,s,r,l,m,_){super(),this.cd=n,this.timeService=o,this.classroomService=s,this.programService=r,this.infrastructureService=l,this.sAZTranslateService=m,this.commonListService=_,this.saveEducationalProgramEmit=new t.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=Fn.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new c.gE({chooseProgramId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required,c.k0.min(1)]}),startTimeEducationalProgram:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),weekdayConfig:new c.Yp([]),stepChoose:new c.MJ(1,{nonNullable:!0})},{validators:[Zd.addNewEducationalProgramFormValidator]}),this.initFormWeekly()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.gRc),t.rXU(V.F),t.rXU(G.zS),t.rXU(G.sC),t.rXU(G.BU),t.rXU(Wn.o),t.rXU(Xa.Nz))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-add-new-educational-program"]],viewQuery:function(n,o){if(1&n&&t.GBs(Kd,5),2&n){let s;t.mGM(s=t.lsd())&&(o.startTime=s.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,te.ij]},{provide:Y.vq,useFactory:Wt.In,deps:[V.F]}]),t.Vt3,t.aNF],decls:5,vars:3,consts:[["doneLoading",""],["startTime",""],["timeStartPicker",""],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["searchInListInfrastructure","searchInList"],[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw","size","18",3,"click","ngClass"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"click","max","ngxMatDatetimePicker"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"click","disabled"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block","ml-1"],[1,"flex","items-center","mt-2","cursor-pointer",2,"font-weight","420","font-size","15px",3,"click"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"mr-2"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","items-center","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"click","formGroup"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","items-center","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],[1,"text-center","flex",2,"height","38px","width","10px","align-items","center"],[2,"vertical-align","middle","height","16px","width","10px","margin-left","-2px"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["searchInList","","formControlName","infrastructureId",3,"openedChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(n,o){if(1&n&&(t.j41(0,"div",8)(1,"form",9),t.DNE(2,a_,1,1,"azt-loading-effect",10)(3,F_,65,58,"ng-template",null,0,t.C5r),t.k0s()()),2&n){const s=t.sdS(4);t.R7$(),t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[Wd,Fi,qd,Xt.An,Xt.U9,wn.x,X.K,N.R,h.F2,d.MD,d.YU,d.Sq,d.bT,d.B3,c.X1,c.qT,c.me,c.BC,c.cb,c.l_,c.j4,c.JD,c.v8,b.iI,b.Wk,c.YN,h.wp,S.s,at.wT,bt.$z,Gt.fg,nt.rl,nt.nJ,nt.yw,At.VO,Y.m7,Y.yF,Y.HF,Y.gx,Y.Uq,f.flO,f.WGl,x.L,C.Id,C.Yh,y.k,He.t],encapsulation:2}),a})();const D_=()=>({"zoom-in":!0}),R_=()=>[];function M_(e,a){if(1&e&&(t.qex(0),t.j41(1,"p",5),t.EFF(2),t.k0s(),t.bVm()),2&e){const i=a.$implicit;t.R7$(2),t.SpI("",i.content," ")}}function N_(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",6),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.editContent())}),t.nrm(1,"lucide-icon",7),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,D_)))}function G_(e,a){if(1&e&&(t.j41(0,"div",2)(1,"div"),t.DNE(2,M_,3,1,"ng-container",3),t.k0s(),t.DNE(3,N_,2,2,"div",4),t.k0s()),2&e){const i=t.XpG();t.R7$(2),t.Y8G("ngForOf",i.contents),t.R7$(),t.Y8G("ngIf",i.teacherRole)}}function $_(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",21),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.removeContent(o))}),t.nrm(2,"lucide-icon",22),t.k0s()}if(2&e){const i=t.XpG(3);t.FS9("matTooltip",t.bMT(1,2,"lang_button_delete")),t.Y8G("disabled",i.statusObj.loading)}}function z_(e,a){1&e&&(t.j41(0,"div",23)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function L_(e,a){if(1&e&&(t.j41(0,"div")(1,"div",17),t.nrm(2,"input",18),t.nI1(3,"mytranslate"),t.DNE(4,$_,3,4,"button",19),t.k0s(),t.DNE(5,z_,4,3,"div",20),t.k0s()),2&e){const i=a.$implicit,n=t.XpG(2);t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),t.Y8G("formControl",i.controls.content)("disabled",n.statusObj.loading),t.R7$(2),t.Y8G("ngIf",n.listFormContent.controls.length>1),t.R7$(),t.Y8G("ngIf",i.controls.content.errors)}}function A_(e,a){1&e&&t.nrm(0,"azt-loading-ui",24),2&e&&t.Y8G("size",16)}function P_(e,a){1&e&&t.nrm(0,"lucide-icon",25)}function Y_(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",8),t.DNE(1,L_,6,7,"div",3),t.j41(2,"div",9)(3,"button",10),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.viewContent())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"button",11),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addContent())}),t.nrm(7,"lucide-icon",12),t.j41(8,"span",13),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.saveContent())}),t.DNE(12,A_,1,1,"azt-loading-ui",15)(13,P_,1,0,"lucide-icon",16),t.j41(14,"span",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()}if(2&e){let i;const n=t.XpG();t.R7$(),t.Y8G("ngForOf",null!==(i=null==n.listFormContent?null:n.listFormContent.controls)&&void 0!==i?i:t.lJ4(15,R_)),t.R7$(2),t.Y8G("disabled",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(5,9,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",n.statusObj.loading||n.isEmptyContent()),t.R7$(3),t.SpI(" ",t.bMT(10,11,"lang_button_add")," "),t.R7$(2),t.Y8G("disabled",n.statusObj.loading||n.isEmptyContent()),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.Y8G("ngIf",!n.statusObj.loading),t.R7$(2),t.SpI(" ",t.bMT(16,13,"lang_button_save")," ")}}let V_=(()=>{var e;class a extends j.H{isEmptyContent(){return!!this.listFormContent.controls.find(n=>n.controls.content.errors)}editContent(){this.listFormContent=new c.Yp(this.contents.map(n=>new c.gE({contentId:new c.MJ(n.id,{nonNullable:!0,validators:[c.k0.required]}),content:new c.MJ(n.content,{nonNullable:!0,validators:[c.k0.required]})})))}addContent(){var n=this.listFormContent.controls.map(o=>o.getRawValue().contentId);this.listFormContent.controls.push(new c.gE({contentId:new c.MJ(this.commonService.getVirtualIdWithoutInList(!0,n),{nonNullable:!0,validators:[c.k0.required]}),content:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]})}))}removeContent(n){this.listFormContent.controls=this.listFormContent.controls.filter(o=>o!=n)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let n={contents:this.listFormContent?.controls.map(o=>({id:o.getRawValue().contentId<0?0:o.getRawValue().contentId,content:o.getRawValue().content}))??[]};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,n)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)}))}ngOnInit(){super.ngOnInit()}constructor(n){super(),this.classroomService=n,this.contents=[],this.close=new t.bkB,this.listFormContent=new c.Yp([])}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.zS))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,te.ij]},{provide:Y.vq,useFactory:Wt.In,deps:[V.F]}]),t.Vt3,t.aNF],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"click","disabled"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"click","disabled"],["name","plus","size","16"],[1,"ml-1"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"click","disabled"],[3,"size",4,"ngIf"],["name","save","size","16",4,"ngIf"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"click","matTooltip","disabled"],["name","trash-2","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[3,"size"],["name","save","size","16"]],template:function(n,o){1&n&&t.DNE(0,G_,4,2,"div",0)(1,Y_,17,16,"div",1),2&n&&(t.Y8G("ngIf",0==o.listFormContent.controls.length),t.R7$(),t.Y8G("ngIf",o.listFormContent.controls.length>0))},dependencies:[N.R,d.MD,d.YU,d.Sq,d.bT,c.X1,c.me,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();var En=g(79129),Ja=g(57988),qa=function(e){return e.exam="exam",e.ref="ref",e.lecture="lecture",e.teaching_plan="teaching_plan",e.slide="slide",e.google_docs="google_docs",e.unknown="unknown",e}(qa||{});const B_=(e,a,i)=>({"p-2 border  dark:border-darkmode-400 rounded-md":e,"border-slate-200/60":a,"border-primary":i}),Zt=e=>({"vertical-align":e}),X_=e=>({flex:e}),U_=(e,a)=>({truncate:e,block:a});function H_(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",5),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,"images/type_file/unknown-file.svg"),t.B4B)}}function J_(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",6),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,"images/excel.png"),t.B4B)}}function q_(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",7),t.nI1(2,"mycdn"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,i.url),t.B4B)}}function W_(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",8),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,"images/type_file/word.svg"),t.B4B)}}function Z_(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",9),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,"images/type_file/ppt.svg"),t.B4B)}}function K_(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",10),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,"images/type_file/pdf.svg"),t.B4B)}}function Q_(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",11),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,"images/type_file/video.svg"),t.B4B)}}function tu(e,a){if(1&e&&(t.qex(0),t.nrm(1,"img",12),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(4,Zt,i.iconVerticalStyle))("src",t.bMT(2,2,"images/type_file/audio.svg"),t.B4B)}}function eu(e,a){1&e&&(t.qex(0),t.j41(1,"div",13),t.nrm(2,"lucide-icon",14),t.k0s(),t.bVm())}function nu(e,a){1&e&&(t.qex(0),t.j41(1,"div",13),t.nrm(2,"lucide-icon",15),t.k0s(),t.bVm())}function iu(e,a){1&e&&(t.qex(0),t.j41(1,"div",13),t.nrm(2,"lucide-icon",16),t.k0s(),t.bVm())}function ou(e,a){1&e&&(t.qex(0),t.nrm(1,"img",17),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e&&(t.R7$(),t.Y8G("src",t.bMT(2,1,"images/type_file/word.svg"),t.B4B))}function au(e,a){1&e&&(t.qex(0),t.nrm(1,"img",18),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e&&(t.R7$(),t.Y8G("src",t.bMT(2,1,"images/type_file/video.svg"),t.B4B))}function su(e,a){1&e&&(t.qex(0),t.nrm(1,"img",19),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e&&(t.R7$(),t.Y8G("src",t.bMT(2,1,"images/type_file/pdf.svg"),t.B4B))}function ru(e,a){1&e&&(t.qex(0),t.nrm(1,"img",20),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e&&(t.R7$(),t.Y8G("src",t.bMT(2,1,"images/type_file/ppt.svg"),t.B4B))}function lu(e,a){1&e&&(t.qex(0),t.nrm(1,"img",21),t.nI1(2,"coreModConvertCdnLinkOfGitHub"),t.bVm()),2&e&&(t.R7$(),t.Y8G("src",t.bMT(2,1,"images/type_file/unknown-file.svg"),t.B4B))}function cu(e,a){if(1&e&&(t.j41(0,"div",22)(1,"span",23,0),t.EFF(3),t.k0s()()),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngClass",t.eq3(12,X_,n.truncateString)),t.R7$(),t.xc7("word-break",n.truncateString?"":"break-all")("width",n.textWidth)("max-width",n.onlyOneLine?"90%":"100%"),t.FS9("matTooltip",n.name),t.Y8G("ngClass",t.l_i(14,U_,n.truncateString&&!n.isMobileWebView,!n.truncateString))("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.R7$(2),t.SpI(" ",n.name," ")}}let mu=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.showBorder=!0,this.selectedBorder=!1,this.onlyOneLine=!1,this.url="",this.customClass="w-16 h-16",this.iconVerticalStyle="middle",this.textWidth="80%",this.truncateString=!0,this.allDocumentFileTypes=K.d,this.allShareDocumentMarketTypes=qa}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["azt-document-type-file"]],inputs:{type:"type",name:"name",showBorder:"showBorder",selectedBorder:"selectedBorder",onlyOneLine:"onlyOneLine",url:"url",customClass:"customClass",iconVerticalStyle:"iconVerticalStyle",textWidth:"textWidth",truncateString:"truncateString"},standalone:!0,features:[t.Vt3,t.aNF],decls:20,vars:25,consts:[["c","isDisabled"],[1,"flex","items-center",3,"ngClass"],[1,"flex","w-full","items-center","overflow-hidden"],[4,"ngIf"],["class","ml-2 w-full",3,"ngClass",4,"ngIf"],["alt","unknown-icon",3,"ngStyle","src"],["alt","excel-icon",3,"ngStyle","src"],["alt","image",1,"rounded-md",3,"ngStyle","src"],["alt","docx-icon",3,"ngStyle","src"],["alt","ppt-icon",3,"ngStyle","src"],["alt","pdf-icon",3,"ngStyle","src"],["alt","video-icon",3,"ngStyle","src"],["alt","audio-icon",3,"ngStyle","src"],[1,"w-full","h-full","text-pending","inline-flex"],["name","chrome",1,"w-full","h-full"],["name","file-check",1,"w-full","h-full"],["name","file-text",1,"w-full","h-full"],["alt","word-icon",3,"src"],["alt","video-icon",3,"src"],["alt","pdf-icon",3,"src"],["alt","ppt-icon",3,"src"],["alt","unknown-icon",3,"src"],[1,"ml-2","w-full",3,"ngClass"],["matTooltipShowDelay","1000",1,"font-normal",3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"]],template:function(n,o){1&n&&(t.j41(0,"div",1)(1,"div",2)(2,"div"),t.DNE(3,H_,3,6,"ng-container",3)(4,J_,3,6,"ng-container",3)(5,q_,3,6,"ng-container",3)(6,W_,3,6,"ng-container",3)(7,Z_,3,6,"ng-container",3)(8,K_,3,6,"ng-container",3)(9,Q_,3,6,"ng-container",3)(10,tu,3,6,"ng-container",3)(11,eu,3,0,"ng-container",3)(12,nu,3,0,"ng-container",3)(13,iu,3,0,"ng-container",3)(14,ou,3,3,"ng-container",3)(15,au,3,3,"ng-container",3)(16,su,3,3,"ng-container",3)(17,ru,3,3,"ng-container",3)(18,lu,3,3,"ng-container",3),t.k0s(),t.DNE(19,cu,4,17,"div",4),t.k0s()()),2&n&&(t.Y8G("ngClass",t.sMw(21,B_,o.showBorder,!o.selectedBorder,o.selectedBorder)),t.R7$(2),t.ZvI("flex-none flex ",o.customClass,""),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.unknown),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.xlsx),t.R7$(),t.Y8G("ngIf",o.type===o.allDocumentFileTypes.image||o.type==o.allDocumentFileTypes.jpeg),t.R7$(),t.Y8G("ngIf",o.type===o.allDocumentFileTypes.docx),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.ppt||o.type==o.allDocumentFileTypes.pptx||o.type==o.allDocumentFileTypes.powerpoint),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.pdf),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.video||o.type==o.allDocumentFileTypes.mp4||o.type==o.allDocumentFileTypes.mov||o.type==o.allDocumentFileTypes.webm||o.type==o.allDocumentFileTypes.quicktime),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.audio||o.type==o.allDocumentFileTypes.mp3||o.type==o.allDocumentFileTypes.wav),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.google_docs),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.exam),t.R7$(),t.Y8G("ngIf",o.type==o.allDocumentFileTypes.homework),t.R7$(),t.Y8G("ngIf",o.type==o.allShareDocumentMarketTypes.ref),t.R7$(),t.Y8G("ngIf",o.type==o.allShareDocumentMarketTypes.lecture),t.R7$(),t.Y8G("ngIf",o.type==o.allShareDocumentMarketTypes.teaching_plan),t.R7$(),t.Y8G("ngIf",o.type==o.allShareDocumentMarketTypes.slide),t.R7$(),t.Y8G("ngIf",o.type==o.allShareDocumentMarketTypes.unknown),t.R7$(),t.Y8G("ngIf",o.name))},dependencies:[En.f,d.MD,d.YU,d.bT,d.B3,c.X1,b.iI,c.YN,h.nf,h.Vs,S.s,et.oV,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();var Wa=g(91741);function du(e,a){1&e&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function _u(e,a){if(1&e&&(t.j41(0,"div",15)(1,"label",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"input",16),t.nI1(5,"mytranslate"),t.DNE(6,du,3,3,"div",10),t.k0s()),2&e){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_student_name_component_score")," "),t.R7$(2),t.FS9("placeholder",t.bMT(5,5,"lang_student_enter_name_component_score")),t.R7$(2),t.Y8G("ngIf",i.form.controls.name.dirty&&i.form.controls.name.errors)}}function uu(e,a){if(1&e&&(t.j41(0,"div",15)(1,"label",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"input",18),t.nI1(5,"mytranslate"),t.k0s()),2&e){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"homework"==i.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),t.R7$(2),t.FS9("placeholder",t.bMT(5,5,"lang_student_enter_name_component_score")),t.Y8G("value",i.data.documentName)}}function pu(e,a){1&e&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function gu(e,a){1&e&&t.nrm(0,"azt-loading-ui",19)}let Di=(()=>{var e;class a extends pt._{setValueCoeffcient(){var n=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(n)??0)}createStartingPoint(){let n={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,n).subscribe(o=>{o?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(n)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(n).subscribe(o=>{o?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(n)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(n,o,s){super(s,o),this.commonMarkService=n,this.dialogRef=o,this.data=s,this.form=new c.gE({name:new c.MJ({value:s.name??"",disabled:0==s.canEditName},{nonNullable:!0,validators:[c.k0.required,Ee.M.noWhiteSpace]}),coefficient:new c.MJ(s.coefficient,{nonNullable:!0,validators:[c.k0.required,c.k0.pattern(/^[1-9]\d*$/)]})})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Wa.a),t.rXU(M.CP,8),t.rXU(M.Vh))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-score-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"input","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",5),t.DNE(8,_u,7,7,"div",6)(9,uu,6,7,"div",6),t.j41(10,"div",7)(11,"label",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"input",9),t.nI1(15,"mytranslate"),t.bIt("input",function(){return o.setValueCoeffcient()}),t.k0s(),t.DNE(16,pu,3,3,"div",10),t.k0s()()(),t.j41(17,"div",11)(18,"button",12),t.bIt("click",function(){return o.dialogRef.close()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",13),t.bIt("click",function(){return o.createStartingPoint()}),t.DNE(22,gu,1,0,"azt-loading-ui",14),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(),t.Y8G("formGroup",o.form),t.R7$(4),t.SpI(" ",t.bMT(6,11,o.data.id?o.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),t.R7$(3),t.Y8G("ngIf",!o.data.isOnlyCoefficient),t.R7$(),t.Y8G("ngIf",o.data.isOnlyCoefficient),t.R7$(3),t.SpI(" ",t.bMT(13,13,"lang_student_score_factor")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,15,"lang_student_enter_score_factor")),t.R7$(2),t.Y8G("ngIf",o.form.controls.coefficient.dirty&&o.form.controls.coefficient.errors),t.R7$(3),t.JRh(t.bMT(20,17,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",o.form.controls.name.errors&&!o.data.isOnlyCoefficient||o.form.controls.coefficient.errors),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(24,19,"lang_button_save")," "))},dependencies:[N.R,d.MD,d.bT,c.X1,c.qT,c.me,c.Q0,c.BC,c.cb,c.j4,c.JD,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k,He.t],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),a})();const Za=e=>({"text-slate-700":e}),Je=(e,a)=>({"text-slate-600":e,"text-warning":a}),Oe=e=>[e],qe=e=>({backto:e}),hu=()=>({"text-pending":!0}),fu=()=>({"text-primary":!0}),bu=(e,a)=>({"text-success":e,"text-slate-700/50":a}),vu=(e,a,i,n,o,s)=>({backto:e,classroomId:a,programId:i,sessionId:n,levelId:o,subjectId:s}),ku=(e,a)=>({"text-slate-600":e,"btn-text-primary":a}),We=e=>({width:e}),Ze=e=>({"dropdown-menu-scroll":e}),Ka=()=>({"mr-2":!0});function Tu(e,a){if(1&e&&(t.j41(0,"div",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,i.errorApiMessage)," ")}}function Cu(e,a){if(1&e){const i=t.RV6();t.j41(0,"app-add-new-educational-program",15),t.bIt("saveEducationalProgramEmit",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.emitDataReloadSession(o))}),t.k0s()}if(2&e){const i=t.XpG(2);t.Y8G("classroomId",i.classroomId)("programObj",i.programObj)}}function xu(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.addNewEducationalProgram())}),t.nrm(1,"lucide-icon",22),t.j41(2,"span",23),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_educational_program_select_another")))}function yu(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",26)(1,"a",27),t.bIt("auxclick",function(o){const s=t.eBV(i).$implicit,r=t.XpG(4);return t.Njj(r.previewFile(s,o))})("click",function(o){const s=t.eBV(i).$implicit,r=t.XpG(4);return t.Njj(r.previewFile(s,o))}),t.nrm(2,"azt-document-type-file",28),t.k0s()()}if(2&e){let i;const n=a.$implicit;t.R7$(2),t.Y8G("type",n.documentType)("name",null!==(i=n.name)&&void 0!==i?i:"")("url",n.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function Su(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",24),t.DNE(2,yu,3,5,"div",25),t.k0s(),t.bVm()),2&e){const i=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",i.generalDocumentObjs)}}function Iu(e,a){1&e&&t.nrm(0,"lucide-icon",33)}function ju(e,a){1&e&&t.nrm(0,"lucide-icon",34)}function Ou(e,a){1&e&&(t.j41(0,"button",43),t.nrm(1,"lucide-icon",44),t.j41(2,"span",45),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_student_absence")))}function wu(e,a){1&e&&(t.j41(0,"button",46),t.nrm(1,"lucide-icon",44),t.k0s())}function Fu(e,a){if(1&e&&(t.j41(0,"div",40),t.DNE(1,Ou,5,3,"button",41),t.nI1(2,"allowFeatureBusinessForUser"),t.nI1(3,"async"),t.DNE(4,wu,2,0,"button",42),t.nI1(5,"allowFeatureBusinessForUser"),t.nI1(6,"async"),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",(null==i.studentAttendance?null:i.studentAttendance.absent)&&t.bMT(3,5,t.i5U(2,2,"training_center_student_attendance",!0))),t.R7$(3),t.Y8G("ngIf",(null==i.studentAttendance?null:i.studentAttendance.absent)&&t.bMT(6,10,t.i5U(5,7,"training_center_student_attendance",!0)))}}function Eu(e,a){if(1&e&&(t.qex(0),t.j41(1,"span",52),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e){const i=t.XpG(2).$implicit;t.R7$(2),t.JRh(t.bMT(3,1,"lang_test_market_address")+": "+(null==i.room.infrastructure?null:i.room.infrastructure.name)+" - "+i.room.name)}}function Du(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",47),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(5);return t.Njj(s.expandSessionObj(o))}),t.j41(1,"div",48)(2,"h3",49)(3,"span",50),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",51),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,Eu,4,3,"ng-container",14),t.k0s()()}if(2&e){const i=t.XpG().$implicit;t.R7$(3),t.Y8G("ngClass",t.eq3(8,Za,i.outOfDate)),t.R7$(),t.JRh(t.bMT(5,4,"lang_core_buoi")+" "+i.sort),t.R7$(3),t.JRh(t.bMT(8,6,"lang_config_educational_program_day_"+i.day)+", "+i.dateSession+" "+i.timeSession),t.R7$(2),t.Y8G("ngIf",i.room)}}function Ru(e,a){if(1&e&&(t.qex(0),t.j41(1,"span",70),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e){const i=t.XpG(2).$implicit;t.R7$(2),t.JRh(t.bMT(3,1,"lang_test_market_address")+": "+(null==i.room.infrastructure?null:i.room.infrastructure.name)+" - "+i.room.name)}}function Mu(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",59)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"app-education-program-session-content-form",71),t.bIt("close",function(o){t.eBV(i);const s=t.XpG(2).$implicit,r=t.XpG(5);return t.Njj(r.reloadData(o,s))}),t.k0s()()}if(2&e){const i=t.XpG(2).$implicit,n=t.XpG(5);t.R7$(2),t.Y8G("ngClass",t.l_i(8,Je,i.outOfDate,!i.outOfDate)),t.R7$(),t.JRh(t.bMT(4,6,"lang_auto_noi_dung")),t.R7$(2),t.Y8G("contents",i.contents)("teacherRole",n.teacherRole)("classroomId",n.classroomId)("sessionId",i.id)}}function Nu(e,a){1&e&&(t.qex(0),t.j41(1,"div",82),t.nrm(2,"img",83),t.nI1(3,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.Y8G("src",t.bMT(3,1,"images/type_file/unknown-file.svg"),t.B4B))}function Gu(e,a){1&e&&(t.qex(0),t.nrm(1,"lucide-icon",84),t.bVm()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,hu)))}function $u(e,a){1&e&&(t.qex(0),t.nrm(1,"lucide-icon",85),t.bVm()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,fu)))}function zu(e,a){if(1&e&&(t.j41(0,"small",86),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.E5c(" ",t.bMT(2,3,"lang_auto_da_nop"),":\xa0",i.totalFinish,"/",i.totalAttendee," ")}}function Lu(e,a){if(1&e&&(t.j41(0,"small",87),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG().$implicit;t.Y8G("ngClass",t.l_i(4,bu,i.totalFinish,!i.totalFinish)),t.R7$(),t.SpI(" ",t.bMT(2,2,i.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function Au(e,a){if(1&e){const i=t.RV6();t.j41(0,"small",88),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"button",89),t.nI1(4,"mytranslate"),t.bIt("click",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(2).$implicit;return t.XpG(5).editMarkCoefficient(s,r),o.stopPropagation(),t.Njj(o.preventDefault())}),t.nrm(5,"lucide-icon",90),t.k0s()()}if(2&e){const i=t.XpG().$implicit;t.R7$(),t.Lme(" ",t.bMT(2,3,"lang_student_score_factor"),":\xa0",i.markCoefficient," "),t.R7$(2),t.FS9("matTooltip",t.bMT(4,5,"lang_student_edit_mark_coefficient"))}}function Pu(e,a){if(1&e&&(t.j41(0,"div",72)(1,"a",73),t.nI1(2,"navigationLocalize"),t.j41(3,"div",74)(4,"div",75),t.DNE(5,Nu,4,3,"ng-container",14)(6,Gu,2,2,"ng-container",14)(7,$u,2,2,"ng-container",14),t.k0s(),t.j41(8,"div",76)(9,"div",77)(10,"span",78,2),t.EFF(12),t.k0s(),t.DNE(13,zu,3,5,"small",79)(14,Lu,3,7,"small",80)(15,Au,6,7,"small",81),t.k0s()()()()()),2&e){let i;const n=a.$implicit,o=t.sdS(11),s=t.XpG(7);t.R7$(),t.Y8G("routerLink",t.eq3(14,Oe,t.bMT(2,12,n.documentType==s.allDocumentTypes.exam?s.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(i=n.categoryId)&&void 0!==i?i:0)+"/"+n.refId+"/0":"/de-thi/"+n.hashId:s.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(i=n.classroomId)&&void 0!==i?i:0)+"/"+n.refId+"/"+n.hashId:"/bai-tap/"+n.hashId)))("queryParams",t.eq3(16,qe,s.currentUrl)),t.R7$(4),t.Y8G("ngIf",!n.type),t.R7$(),t.Y8G("ngIf","exam"==n.type),t.R7$(),t.Y8G("ngIf","homework"==n.type),t.R7$(3),t.FS9("matTooltip",n.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.SpI(" ",n.name," "),t.R7$(),t.Y8G("ngIf",s.teacherRole),t.R7$(),t.Y8G("ngIf",!s.teacherRole),t.R7$(),t.Y8G("ngIf",s.teacherRole)}}function Yu(e,a){if(1&e&&(t.j41(0,"a",91),t.nI1(1,"navigationLocalize"),t.j41(2,"span",92),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e){let i;const n=t.XpG(2).$implicit,o=t.XpG(5);t.Y8G("routerLink",t.eq3(8,Oe,t.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",t.l4e(10,vu,o.currentUrl,o.classroomId,n.programId,n.id,null!==(i=null==o.programObj?null:o.programObj.schoolLevelId)&&void 0!==i?i:0,null!==(i=null==o.programObj?null:o.programObj.schoolSubjectId)&&void 0!==i?i:0))("ngClass",t.l_i(17,ku,n.outOfDate,!n.outOfDate)),t.R7$(3),t.SpI("+ ",t.bMT(4,6,"lang_business_assign_exams"),"")}}function Vu(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",106)(1,"a",107),t.bIt("click",function(o){let s;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,m=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(m,null!==(s=r.sessionId)&&void 0!==s?s:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Bu(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"a",103),t.bIt("auxclick",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))})("click",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,Vu,4,3,"div",105),t.k0s()()}if(2&e){let i;const n=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",n.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=n.name)&&void 0!==i?i:"")("url",n.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function Xu(e,a){if(1&e&&(t.qex(0),t.DNE(1,Bu,4,10,"li",14),t.bVm()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.video)}}function Uu(e,a){if(1&e&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,4)(8,"div",101)(9,"ul",102),t.DNE(10,Xu,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&e){const i=t.sdS(7),n=t.XpG(2).$implicit,o=t.XpG(4).last,s=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",n.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+n.name),""," ("+n.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,We,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,Ze,s&&o||n.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",n.documentObjs)}}function Hu(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",106)(1,"a",110),t.bIt("click",function(o){let s;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,m=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(m,null!==(s=r.sessionId)&&void 0!==s?s:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Ju(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"a",109),t.bIt("auxclick",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))})("click",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,Hu,4,3,"div",105),t.k0s()()}if(2&e){let i;const n=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",n.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=n.name)&&void 0!==i?i:"")("url",n.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function qu(e,a){if(1&e&&(t.qex(0),t.DNE(1,Ju,4,10,"li",14),t.bVm()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.document)}}function Wu(e,a){if(1&e&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,5)(8,"div",101)(9,"ul",102),t.DNE(10,qu,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&e){const i=t.sdS(7),n=t.XpG(2).$implicit,o=t.XpG(4).last,s=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",n.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+n.name),""," ("+n.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,We,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,Ze,s&&o||n.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",n.documentObjs)}}function Zu(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",106)(1,"a",112),t.bIt("click",function(o){let s;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,m=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(m,null!==(s=r.sessionId)&&void 0!==s?s:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Ku(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"a",111),t.bIt("auxclick",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))})("click",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))}),t.nrm(2,"azt-document-type-file",104),t.DNE(3,Zu,4,3,"div",105),t.k0s()()}if(2&e){let i;const n=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("textWidth","99%")("type",n.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=n.name)&&void 0!==i?i:"")("url",n.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function Qu(e,a){if(1&e&&(t.qex(0),t.DNE(1,Ku,4,10,"li",14),t.bVm()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.homework)}}function tp(e,a){if(1&e&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,6)(8,"div",101)(9,"ul",102),t.DNE(10,Qu,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&e){const i=t.sdS(7),n=t.XpG(2).$implicit,o=t.XpG(4).last,s=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",n.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+n.name),""," ("+n.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,We,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,Ze,s&&o||n.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",n.documentObjs)}}function ep(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",106)(1,"a",115),t.bIt("click",function(o){let s;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,m=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(m,null!==(s=r.sessionId)&&void 0!==s?s:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function np(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"a",113),t.bIt("auxclick",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))})("click",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))}),t.nrm(2,"azt-document-type-file",114),t.DNE(3,ep,4,3,"div",105),t.k0s()()}if(2&e){let i;const n=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("type",n.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=n.name)&&void 0!==i?i:"")("url",n.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function ip(e,a){if(1&e&&(t.qex(0),t.DNE(1,np,4,10,"li",14),t.bVm()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.homework_view)}}function op(e,a){if(1&e&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,7)(8,"div",101)(9,"ul",102),t.DNE(10,ip,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&e){const i=t.sdS(7),n=t.XpG(2).$implicit,o=t.XpG(4).last,s=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",n.documentObjs.length?i:null),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+n.name),""," ("+n.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,We,l.isMobileWebView?r.offsetWidth-40+"px":"27rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,Ze,s&&o||n.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",n.documentObjs)}}function ap(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",106)(1,"a",117),t.bIt("click",function(o){let s;t.eBV(i);const r=t.XpG(2).$implicit,l=t.XpG(3).$implicit,m=t.XpG(4).$implicit;return t.XpG(5).removeDocumentFromSession(m,null!==(s=r.sessionId)&&void 0!==s?s:0,r.id,l),o.preventDefault(),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function sp(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"a",116),t.bIt("auxclick",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))})("click",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(12);return t.Njj(r.previewFile(s,o))}),t.nrm(2,"azt-document-type-file",114),t.DNE(3,ap,4,3,"div",105),t.k0s()()}if(2&e){let i;const n=t.XpG().$implicit,o=t.XpG(12);t.R7$(2),t.Y8G("truncateString",!1)("type",n.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(i=n.name)&&void 0!==i?i:"")("url",n.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function rp(e,a){if(1&e&&(t.qex(0),t.DNE(1,sp,4,10,"li",14),t.bVm()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.unknown)}}function lp(e,a){if(1&e&&(t.qex(0),t.j41(1,"h3",98),t.nrm(2,"lucide-icon",99),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"mat-menu",100,8)(8,"div",101)(9,"ul",102),t.DNE(10,rp,2,1,"ng-container",20),t.k0s()()(),t.bVm()),2&e){const i=t.sdS(7),n=t.XpG(2).$implicit,o=t.XpG(4).last,s=t.XpG(2).last;t.XpG();const r=t.sdS(2),l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(3),t.Lme("",t.bMT(5,6,"lang_config_educational_program_"+n.name),""," ("+n.documentObjs.length+")",""),t.R7$(4),t.Y8G("ngStyle",t.eq3(8,We,l.isMobileWebView?r.offsetWidth-40+"px":"18rem")),t.R7$(),t.Y8G("ngClass",t.eq3(10,Ze,s&&o||n.documentObjs.length>5)),t.R7$(),t.Y8G("ngForOf",n.documentObjs)}}function cp(e,a){if(1&e&&(t.j41(0,"div",97),t.DNE(1,Uu,11,12,"ng-container",14)(2,Wu,11,12,"ng-container",14)(3,tp,11,12,"ng-container",14)(4,op,11,12,"ng-container",14)(5,lp,11,12,"ng-container",14),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.video),t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.document),t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.homework),t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.homework_view),t.R7$(),t.Y8G("ngIf",i.name==n.allDocumentGroupTypes.unknown&&i.documentObjs.length)}}function mp(e,a){if(1&e&&(t.qex(0),t.DNE(1,cp,6,5,"div",96),t.bVm()),2&e){const i=a.$implicit,n=t.XpG(9);t.R7$(),t.Y8G("ngIf",i.name!=n.allDocumentGroupTypes.unknown||i.name==n.allDocumentGroupTypes.unknown&&i.documentObjs.length)}}function dp(e,a){if(1&e&&(t.qex(0),t.DNE(1,mp,2,1,"ng-container",20),t.bVm()),2&e){const i=t.XpG(3).$implicit;t.R7$(),t.Y8G("ngForOf",i.groupDocumentObjs)}}function _p(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",106)(1,"a",122),t.bIt("click",function(){let o;t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(4).$implicit,l=t.XpG(5);return t.Njj(l.removeDocumentFromSession(r,null!==(o=s.sessionId)&&void 0!==o?o:0,s.id))}),t.nrm(2,"lucide-icon",108),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("matTooltip",t.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function up(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",119)(1,"a",120),t.bIt("auxclick",function(o){const s=t.eBV(i).$implicit,r=t.XpG(9);return t.Njj(r.previewFile(s,o))})("click",function(o){const s=t.eBV(i).$implicit,r=t.XpG(9);return t.Njj(r.previewFile(s,o))}),t.nrm(2,"azt-document-type-file",121),t.k0s(),t.DNE(3,_p,4,3,"div",105),t.k0s()}if(2&e){let i;const n=a.$implicit,o=t.XpG(9);t.R7$(2),t.Y8G("type",n.documentType)("name",null!==(i=n.name)&&void 0!==i?i:"")("url",n.link)("customClass","w-6 h-6"),t.R7$(),t.Y8G("ngIf",o.teacherRole)}}function pp(e,a){if(1&e&&t.DNE(0,up,4,5,"div",118),2&e){const i=t.XpG(3).$implicit;t.Y8G("ngForOf",i.normalDocumentObjs)}}function gp(e,a){if(1&e){const i=t.RV6();t.j41(0,"app-upload-document-for-session",123),t.bIt("emitFileDocument",function(o){t.eBV(i);const s=t.XpG(3).$implicit,r=t.XpG(5);return t.Njj(r.uploadFileEmitted(o,s))}),t.j41(1,"span",92),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG(3).$implicit;t.Y8G("isBtn",!0)("customClass",i.outOfDate?"text-slate-600":"text-primary"),t.R7$(2),t.JRh(t.bMT(3,3,"lang_educational_program_add_document"))}}function hp(e,a){if(1&e&&(t.j41(0,"div",63),t.DNE(1,dp,2,1,"ng-container",93)(2,pp,1,1,"ng-template",null,3,t.C5r),t.j41(4,"div",94),t.DNE(5,gp,4,5,"app-upload-document-for-session",95),t.k0s()()),2&e){const i=t.sdS(3),n=t.XpG(2).$implicit,o=t.XpG(5);t.R7$(),t.Y8G("ngIf",n.groupDocumentObjs.length)("ngIfElse",i),t.R7$(4),t.Y8G("ngIf",o.teacherRole)}}function fp(e,a){1&e&&(t.j41(0,"div",124)(1,"div",125)(2,"span",126),t.nrm(3,"azt-loading-ui",127),t.k0s()()()),2&e&&(t.R7$(3),t.Y8G("type","oval"))}function bp(e,a){if(1&e&&(t.j41(0,"a",135),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",136),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(5);t.Y8G("routerLink",t.eq3(8,Oe,t.bMT(1,4,"/admin/student/attendance-student/"+n.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(10,qe,"/admin/student/classroom-details/"+n.classroomId+"/3?sessionId="+i.id+"&backto="+n.backLink)),t.R7$(4),t.Lme("",t.bMT(5,6,"lang_student_attendance_student"),""," ("+i.totalJoinedStudent+"/"+i.totalStudent+")","")}}function vp(e,a){if(1&e&&(t.j41(0,"a",137),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",138),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(5);t.Y8G("routerLink",t.eq3(7,Oe,t.bMT(1,3,"/admin/student/distribute-document/"+n.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(9,qe,"/admin/student/classroom-details/"+n.classroomId+"/3?sessionId="+i.id+"&backto="+n.backLink)),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_distribute_books"))}}function kp(e,a){if(1&e&&(t.j41(0,"a",139),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",140),t.j41(3,"span",134),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(3).$implicit,n=t.XpG(5);t.Y8G("routerLink",t.eq3(7,Oe,t.bMT(1,3,"/admin/student/submit-score/"+n.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(9,qe,"/admin/student/classroom-details/"+n.classroomId+"/3?sessionId="+i.id+"&backto="+n.backLink)),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_enter_score"))}}function Tp(e,a){if(1&e&&(t.j41(0,"div",66)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",128),t.DNE(6,bp,6,12,"a",129),t.nI1(7,"allowFeatureBusinessForUser"),t.nI1(8,"async"),t.DNE(9,vp,6,11,"a",130),t.nI1(10,"allowFeatureBusinessForUser"),t.nI1(11,"async"),t.DNE(12,kp,6,11,"a",131),t.nI1(13,"allowFeatureBusinessForUser"),t.nI1(14,"async"),t.j41(15,"a",132),t.nI1(16,"navigationLocalize"),t.nrm(17,"lucide-icon",133),t.j41(18,"span",134),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&e){const i=t.XpG(2).$implicit,n=t.XpG(5);t.R7$(2),t.Y8G("ngClass",t.l_i(29,Je,i.outOfDate,!i.outOfDate)),t.R7$(),t.SpI(" ",t.bMT(4,8,"lang_auto_hanh_dong")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(8,13,t.i5U(7,10,"training_center_student_attendance",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(11,18,t.i5U(10,15,"training_center_student_book",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(14,23,t.i5U(13,20,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("routerLink",t.eq3(32,Oe,t.bMT(16,25,"/admin/student/add-comment/"+n.classroomId+"/"+i.programId+"/"+i.id)))("queryParams",t.eq3(34,qe,"/admin/student/classroom-details/"+n.classroomId+"/3?sessionId="+i.id+"&backto="+n.backLink)),t.R7$(4),t.JRh(t.bMT(20,27,"lang_auto_nhap_nhan_xet"))}}function Cp(e,a){if(1&e&&(t.j41(0,"div",66)(1,"div",60)(2,"span",61),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",128)(6,"div",141)(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"span",142),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()),2&e){const i=t.XpG(2).$implicit;t.R7$(2),t.Y8G("ngClass",t.l_i(10,Je,i.outOfDate,!i.outOfDate)),t.R7$(),t.SpI(" ",t.bMT(4,4,"lang_auto_hanh_dong")," "),t.R7$(5),t.JRh(t.bMT(9,6,"lang_business_requested_leave_with_a_reason")),t.R7$(3),t.JRh(null!=i.studentAttendance&&i.studentAttendance.reason?null==i.studentAttendance?null:i.studentAttendance.reason:t.bMT(12,8,"lang_student_absence_no_reason"))}}function xp(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",53)(1,"div",54),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(5);return t.Njj(s.expandSessionObj(o))}),t.j41(2,"h3",55)(3,"span",56),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",57),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,Ru,4,3,"ng-container",14),t.k0s(),t.DNE(10,Mu,6,11,"div",58),t.j41(11,"div",59)(12,"div",60)(13,"span",61),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",62)(17,"div",63),t.DNE(18,Pu,16,18,"div",64)(19,Yu,5,20,"a",65),t.k0s()()(),t.j41(20,"div",66)(21,"div",60)(22,"span",61),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.j41(25,"div",62),t.DNE(26,hp,6,3,"div",67)(27,fp,4,1,"div",68),t.k0s()(),t.DNE(28,Tp,21,36,"div",69),t.nI1(29,"allowFeatureBusinessForUser"),t.nI1(30,"async"),t.nI1(31,"allowFeatureBusinessForUser"),t.nI1(32,"async"),t.nI1(33,"allowFeatureBusinessForUser"),t.nI1(34,"async"),t.DNE(35,Cp,13,13,"div",69),t.nI1(36,"allowFeatureBusinessForUser"),t.nI1(37,"async"),t.k0s()}if(2&e){const i=t.XpG().$implicit,n=t.XpG(5);t.BMQ("id","session-"+i.id),t.R7$(3),t.Y8G("ngClass",t.eq3(44,Za,i.outOfDate)),t.R7$(),t.JRh(t.bMT(5,16,"lang_core_buoi")+" "+i.sort),t.R7$(3),t.JRh(t.bMT(8,18,"lang_config_educational_program_day_"+i.day)+", "+i.dateSession+" "+i.timeSession),t.R7$(2),t.Y8G("ngIf",i.room),t.R7$(),t.Y8G("ngIf",i.contents&&i.contents.length),t.R7$(3),t.Y8G("ngClass",t.l_i(46,Je,i.outOfDate,!i.outOfDate)),t.R7$(),t.JRh(t.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),t.R7$(4),t.Y8G("ngForOf",i.examHomeworkObjs),t.R7$(),t.Y8G("ngIf",n.teacherRole),t.R7$(3),t.Y8G("ngClass",t.l_i(49,Je,i.outOfDate,!i.outOfDate)),t.R7$(),t.JRh(t.bMT(24,22,"lang_testbank_document_list_header_title")),t.R7$(3),t.Y8G("ngIf",!i.isDeletingDocument&&!i.isUploadingDocument),t.R7$(),t.Y8G("ngIf",i.isDeletingDocument||i.isUploadingDocument),t.R7$(),t.Y8G("ngIf",(t.bMT(30,27,t.i5U(29,24,"training_center_student_attendance",!1))||t.bMT(32,32,t.i5U(31,29,"training_center_student_book",!1))||t.bMT(34,37,t.i5U(33,34,"training_center_student_mark",!1)))&&n.teacherRole),t.R7$(7),t.Y8G("ngIf",(null==i.studentAttendance?null:i.studentAttendance.absent)&&t.bMT(37,42,t.i5U(36,39,"training_center_student_attendance",!0))&&!n.teacherRole)}}function yp(e,a){if(1&e&&(t.j41(0,"div",36),t.DNE(1,Fu,7,12,"div",37)(2,Du,10,10,"div",38)(3,xp,38,52,"div",39),t.k0s()),2&e){const i=a.$implicit,n=t.XpG(5);t.R7$(),t.Y8G("ngIf",!n.teacherRole),t.R7$(),t.Y8G("ngIf",!i.isExpanded),t.R7$(),t.Y8G("ngIf",i.isExpanded)}}function Sp(e,a){if(1&e&&(t.qex(0),t.DNE(1,yp,4,3,"div",35),t.bVm()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",i.programObjs)}}function Ip(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"h3",29)(2,"span",30),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.expand=!o.expand)}),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,Iu,1,0,"lucide-icon",31)(6,ju,1,0,"lucide-icon",32),t.k0s()(),t.DNE(7,Sp,2,1,"ng-container",14),t.bVm()}if(2&e){const i=a.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,4,i.monthName)," "),t.R7$(2),t.Y8G("ngIf",i.expand),t.R7$(),t.Y8G("ngIf",!i.expand),t.R7$(),t.Y8G("ngIf",i.expand)}}function jp(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",16,1)(3,"div",17)(4,"h3",18),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,xu,5,3,"button",19),t.k0s(),t.DNE(8,Su,3,1,"ng-container",14),t.k0s(),t.qex(9),t.DNE(10,Ip,8,6,"ng-container",20),t.bVm()()),2&e){const i=t.XpG(2);t.R7$(5),t.SpI(" ",t.bMT(6,4,"lang_educational_program_general_documents")," "),t.R7$(2),t.Y8G("ngIf",i.teacherRole),t.R7$(),t.Y8G("ngIf",i.generalDocumentObjs.length),t.R7$(2),t.Y8G("ngForOf",i.groupProgramSessionObjs)}}function Op(e,a){1&e&&(t.j41(0,"h3",148),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}function wp(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",149),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.addNewEducationalProgram())}),t.nrm(1,"lucide-icon",150),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ka)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_config_educational_program_select_new")))}function Fp(e,a){if(1&e&&(t.j41(0,"div",144)(1,"h3",145),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Op,3,3,"h3",146)(5,wp,5,5,"button",147),t.k0s()),2&e){const i=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),t.R7$(2),t.Y8G("ngIf",i.teacherRole),t.R7$(),t.Y8G("ngIf",i.teacherRole)}}function Ep(e,a){1&e&&(t.j41(0,"h3",148),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function Dp(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",152),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.editEducationalProgram())}),t.nrm(1,"lucide-icon",153),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ka)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_config_educational_program_edit_btn")))}function Rp(e,a){if(1&e&&(t.j41(0,"div",144)(1,"h3",145),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ep,3,3,"h3",146)(5,Dp,5,5,"button",151),t.k0s()),2&e){const i=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),t.R7$(2),t.Y8G("ngIf",i.teacherRole),t.R7$(),t.Y8G("ngIf",i.teacherRole)}}function Mp(e,a){if(1&e&&(t.qex(0),t.DNE(1,Fp,6,5,"div",143)(2,Rp,6,5,"ng-template",null,9,t.C5r),t.bVm()),2&e){const i=t.sdS(3),n=t.XpG(2);t.R7$(),t.Y8G("ngIf",!n.programObj)("ngIfElse",i)}}function Np(e,a){if(1&e&&t.DNE(0,Cu,1,2,"app-add-new-educational-program",13)(1,jp,11,6,"ng-container",14)(2,Mp,4,2,"ng-container",14),2&e){const i=t.XpG();t.Y8G("ngIf",i.showAddNewEducationalProgram),t.R7$(),t.Y8G("ngIf",!i.showAddNewEducationalProgram&&i.programSessionObjs.length),t.R7$(),t.Y8G("ngIf",!i.showAddNewEducationalProgram&&i.programSessionObjs.length<=0)}}let Gp=(()=>{var e;class a extends j.H{emitDataReloadSession(n){n?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(n,o){this.sAztDialogService.open(Di,{data:{id:n.markId??0,name:"",coefficient:n.markCoefficient,programId:o.programId,classroomId:this.classroomId,sessionId:o.id,isOnlyCoefficient:!0,documentName:n.name,documentType:n.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(r=>{r&&this.reloadSessionDataOfProgram(o)})}reloadData(n,o){n&&this.reloadSessionDataOfProgram(o)}reloadSessionDataOfProgram(n){n.isLoadingData=!0,this.reloadSessionDataEmitter.emit(n)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+(this.programObj?.id??0),"?backTo="+n)}removeDocumentFromSession(n,o,s,r){var l=(n.normalDocumentObjs.filter(_=>_.id==s)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+n.sort.toString(),m=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+l+" </div> ?";this.sAztDialogService.open(Ja.u,{data:{content:m},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(_=>{_&&(n.isDeletingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,o,s)).subscribe(u=>{if(n.isDeletingDocument=!1,!u.success)return this.errorStatusObj(u.message,!0);r&&(r.documentObjs=r.documentObjs.filter(p=>p.id!=s)),n.normalDocumentObjs=n.normalDocumentObjs.filter(p=>p.id!=s),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully")})))})}uploadFileEmitted(n,o){o.isUploadingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,o.id,n)).subscribe(s=>{if(o.isUploadingDocument=!1,!s.success)return this.errorStatusObj(s.message,!0);this.reloadSessionDataOfProgram(o),this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")}))}expandSessionObj(n){n.isExpanded=!n.isExpanded,this.changeSessionDataEmitter.emit(n)}previewFile(n,o){if(this.isBusinessDomain&&n.type==K.d.video&&(0,Q.xy)(n.link??""))window.open(n.link,"_blank");else{const s={name:n.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(n.type),type:n.type,url:n.link};this.sAztDialogService.open(nn.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...s,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let n=this.programSessionObjs.find(o=>o.isExpanded);if(n){let o=document.getElementById("session-"+n.id);window.scrollTo({top:o?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(n,o,s,r){super(),this.sAztDialogService=n,this.cd=o,this.classroomService=s,this.sAztFileTypeService=r,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new t.bkB,this.changeSessionDataEmitter=new t.bkB,this.allDocumentTypes=K.d,this.allDocumentGroupTypes=$t,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i),t.rXU(t.gRc),t.rXU(G.zS),t.rXU(Un.k))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["noApiError",""],["generalDocumentsWidget",""],["c","isDisabled"],["normalViewDocument",""],["matMenuVideo","matMenu"],["matMenuDocument","matMenu"],["matMenuHomework","matMenu"],["matMenuHomeworkView","matMenu"],["matMenuUnknown","matMenu"],["hasProgramObj",""],[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"saveEducationalProgramEmit","classroomId","programObj"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",3,"click"],["name","refresh-cw","size","16"],[1,"ml-2"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"close","contents","teacherRole","classroomId","sessionId"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative flex items-center","style","font-size: 13px",4,"ngIf"],[1,"w-12","h-12","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","48",3,"ngClass"],["name","file-text","size","48",3,"ngClass"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative","flex","items-center",2,"font-size","13px"],["matRipple","","azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"btn","btn-outline-primary","btn-sm","border-0","shadow-none","p-1",3,"click","matTooltip"],["name","square-pen","size","16"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3","items-center","cursor-pointer","text-primary",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],["name","circle-arrow-down","size","18"],["xPosition","after"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"emitFileDocument","isBtn","customClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-pen","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(n,o){if(1&n&&(t.j41(0,"div",10),t.DNE(1,Tu,3,3,"div",11)(2,Np,3,3,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.R7$(),t.Y8G("ngIf",!o.statusObj.loading&&o.errorApiMessage)("ngIfElse",s)}},dependencies:[En.f,E_,mu,V_,Mc,N.R,h.F2,d.MD,d.YU,d.Sq,d.bT,d.B3,d.Jj,c.X1,b.iI,b.Wk,c.YN,h.wp,h.Vs,S.s,_t.kk,_t.Cp,at.r6,et.oV,f.flO,f.WGl,x.L,h.bj,C.Id,y.k],encapsulation:2}),a})();function $p(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",2),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function zp(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",3)(1,"app-list-sessions",4),t.bIt("reloadSessionDataEmitter",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.reloadSessionData(o))})("changeSessionDataEmitter",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.changeSessionData(o))}),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("teacherRole",i.teacherRole)("classroomId",i.classroomId)("backLink",i.backLink)("errorApiMessage",i.errorApiMessage)("generalDocumentObjs",i.generalDocumentObjs)("programSessionObjs",i.programSessionObjs)("groupProgramSessionObjs",i.groupProgramSessionObjs)("programObj",i.programObj)}}let Lp=(()=>{var e;class a extends j.H{changeSessionData(n){this.programSessionObjs.map(o=>o.id==n.id?n:o),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${n.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(n){this.initData(n)}convertNormalDocumentByGroup(n){let o={};return n.forEach(s=>{s.groupType&&(o.hasOwnProperty(s.groupType)||(o[s.groupType]=[]),o[s.groupType].push(s))}),o}processData(n){let o=this.commonService.arrayToDictionary(n,r=>r.groupType?r.groupType:"unknown"),s=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(o).forEach(([r,l],m)=>{if(l.length>0){let _={name:r,documentObjs:l};"video"==_.name&&(s[0]=_),"document"==_.name&&(s[1]=_),"homework"==_.name&&(s[2]=_),"homework_view"==_.name&&(s[3]=_),"unknown"==_.name&&(s[4]=_)}}),s}convertDocumentsOfSession(n,o){let s=(new Date).toDateString(),r=!1;return n.forEach((l,m)=>{l.normalDocumentObjs=l.allDocumentObjs.filter(p=>"exam"!=p.type&&"homework"!=p.type),l.examHomeworkObjs=l.allDocumentObjs.filter(p=>"exam"==p.type||"homework"==p.type),l.groupDocumentObjs=this.processData(l.normalDocumentObjs),l.indexSession=l.sort;let _="",u="";if(l.fromTime){let p=new Date(l.fromTime),T=new Date(p.toDateString()),k=new Date(s),F=Math.floor((T.getTime()-k.getTime())/1e3);l.dateSession=this.timeService.getFormatDate(l.fromTime),l.outOfDate=F<0,l.monthSession=p.getMonth()+1,l.yearSession=p.getFullYear(),_+=this.addZeroToTime(p.getHours())+":"+this.addZeroToTime(p.getMinutes()),u=this.timeService.calculationTimeAgoOnlyDate(T,k)}if(l.toTime){let p=new Date(l.toTime);_+=" - "+this.addZeroToTime(p.getHours())+":"+this.addZeroToTime(p.getMinutes())}_+=u?" ("+u+")":"",l.timeSession=_,r||(l.isExpanded=o?l.isExpanded:!l.outOfDate,l.isExpanded&&(r=!0))}),n}addZeroToTime(n){return n<10?"0"+n:n.toString()}getSchoolLeaveObjs(n,o){if(!n.length||this.teacherRole)return o(n);this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsAttendancesMeGet(this.classroomId)).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0),o(n);n.map(r=>{r.studentAttendance=s.data?.list.find(l=>l.sessionId==r.id)}),o(n)}))}initData(n){n||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let o=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(this.wrapApiResponse(o).subscribe(s=>{if(!s.success)return this.errorApiMessage=s.message,this.errorStatusObj(s.message,!0);this.generalDocumentObjs=s.data?.generalDocuments.map(l=>({...l,documentType:this.commonService.getEnumTypeWithDefault(K.d,l.type,K.d.unknown)}))??[],this.programObj=s.data?.program;let r=s.data?.sessions.map(l=>({...l,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:l.documents.map(m=>({...m,documentType:this.commonService.getEnumTypeWithDefault(K.d,m.type,K.d.unknown)}))}))??[];r=this.convertDocumentsOfSession(r,!!n),this.getSchoolLeaveObjs(r,l=>{if(n){let p=l.find(T=>T.id==n.id);this.programSessionObjs=this.programSessionObjs.map(T=>T.id==p?.id?{...p,isExpanded:T.isExpanded}:T)}else this.programSessionObjs=l;this.sessionId&&this.programSessionObjs.map(p=>p.isExpanded=p.id==this.sessionId);let m=this.commonService.arrayToDictionary(this.programSessionObjs,p=>p.monthSession?.toString()+"/"+p.yearSession?.toString()),_=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",u=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(m).forEach(([p,T],k)=>{let F=T.find(z=>z.isExpanded);this.groupProgramSessionObjs.push({monthName:_+" "+p,programObjs:T,expand:!(p!=u&&!F)})}),this.stopStatusObj()})}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(n,o,s,r){super(),this.classroomService=n,this.timeService=o,this.studentService=s,this.activeRoute=r,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.zS),t.rXU(V.F),t.rXU(G.b0),t.rXU(b.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"reloadSessionDataEmitter","changeSessionDataEmitter","teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj"]],template:function(n,o){if(1&n&&t.DNE(0,$p,1,1,"azt-loading-effect",1)(1,zp,2,8,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,Gp,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})(),Ap=(()=>{var e;class a extends j.H{ngOnInit(){this.waitDestroy((0,ce.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let n=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=n||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(n){super(),this.activeRoute=n,this.classroomId=0,this.sessionId=0,this.backLink=""}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(n,o){1&n&&t.nrm(0,"app-view-educational-program",0),2&n&&t.Y8G("teacherRole",!o.isStudent)("classroomId",o.classroomId)("sessionId",o.sessionId)("backLink",o.backLink)},dependencies:[Lp,d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var P=g(11736),Dn=g(24978),Ri=g(55443),Mi=g(25919);const Pp=["*"];let Yp=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.colorBackground="",this.defaultHeight="45px",this.fixToTopWidth=0,this.fixToTopTop=0}onWindowScroll(){let n=document.querySelector(".azt-content"),o=document.getElementById("flexed-on-top"),s=document.getElementById("position-dev")?.getBoundingClientRect();if(!n||!o||!s)return;let r=window.pageYOffset,l=s.top,m=l<-50;if(this.fixToTopWidth=s.width,this.fixToTopTop=s.top,m){o.style.position="fixed",o.style.zIndex="9999",o.style.height=this.defaultHeight,o.style.right=this.isMobileWebView?"0":"12px",o.style.background=this.colorBackground,o.style.justifyContent="end";let _=n.getBoundingClientRect().width;this.isMobileDevice?(o.style.top="62px",o.style.padding="6px 15px",o.style.width=(_+32).toString()+"px"):(o.style.top="0",o.style.padding="6px 22px",o.style.width=(_+44).toString()+"px")}else(0==r||0==l)&&(o.style.position="",o.style.top="",o.style.right="",o.style.zIndex="",o.style.height="",o.style.padding="",o.style.background="",o.style.width="",o.style.justifyContent="")}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["flexed-on-the-top"]],hostBindings:function(n,o){1&n&&t.bIt("scroll",function(r){return o.onWindowScroll(r)},!1,t.tSv)},inputs:{colorBackground:"colorBackground",defaultHeight:"defaultHeight"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:Pp,decls:3,vars:0,consts:[["id","position-dev"],["id","flexed-on-top",1,"flex","flexed-on-top"]],template:function(n,o){1&n&&(t.NAR(),t.nrm(0,"div",0),t.j41(1,"div",1),t.SdG(2),t.k0s())},dependencies:[d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var we=g(32488);const Qa=()=>[];function Vp(e,a){1&e&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_core_thang")))}function Bp(e,a){if(1&e&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_thang")," ",i.dataFilter.monthSelected,"")}}function Xp(e,a){1&e&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_core_nam")))}function Up(e,a){if(1&e&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_nam")," ",i.dataFilter.yearSelected,"")}}function Hp(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_tat_ca")))}function Jp(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG().index;t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_thang")," ",i,"")}}function qp(e,a){if(1&e){const i=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){const o=t.eBV(i).index,s=t.XpG();return t.Njj(s.selectMonth(o))}),t.DNE(1,Hp,3,3,"span",14)(2,Jp,3,4,"span",14),t.k0s()}if(2&e){const i=a.index,n=t.XpG();t.Y8G("ngClass",n.dataFilter.monthSelected==i?"color-select":""),t.R7$(),t.Y8G("ngIf",0==i),t.R7$(),t.Y8G("ngIf",i>0)}}function Wp(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_tat_ca")))}function Zp(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG().index,n=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_core_nam")," ",n.currentDate.getFullYear()-(i-1),"")}}function Kp(e,a){if(1&e){const i=t.RV6();t.j41(0,"li",15),t.bIt("click",function(){const o=t.eBV(i).index,s=t.XpG();return t.Njj(s.selectYear(o))}),t.DNE(1,Wp,3,3,"span",14)(2,Zp,3,4,"span",14),t.k0s()}if(2&e){const i=a.index,n=t.XpG();t.Y8G("ngClass",!n.dataFilter.yearSelected||n.currentDate.getFullYear()-(n.dataFilter.yearSelected-1)!=i&&0!=n.dataFilter.yearSelected?"":"color-select"),t.R7$(),t.Y8G("ngIf",0==i),t.R7$(),t.Y8G("ngIf",i>0)}}let Qp=(()=>{var e;class a extends j.H{selectMonth(n){this.isApply=!0,this.dataFilter.monthSelected=n,this.sendFilter.emit(this.dataFilter)}selectYear(n){this.isApply=!0,this.dataFilter.yearSelected=n>0?this.currentDate.getFullYear()-(n-1):n,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new t.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:13,consts:[["filterByMonth","matMenu"],["filterByYear","matMenu"],[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"]],template:function(n,o){if(1&n&&(t.j41(0,"div",2)(1,"div",3),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",4),t.DNE(5,Vp,3,3,"span",5)(6,Bp,3,4,"span",5),t.nrm(7,"lucide-icon",6),t.k0s(),t.j41(8,"div",4),t.DNE(9,Xp,3,3,"span",5)(10,Up,3,4,"span",5),t.nrm(11,"lucide-icon",6),t.k0s()(),t.j41(12,"mat-menu",7,0)(14,"div",8)(15,"ul",9),t.DNE(16,qp,3,3,"li",10),t.k0s()()(),t.j41(17,"mat-menu",7,1)(19,"div",8)(20,"ul",9),t.DNE(21,Kp,3,3,"li",11),t.k0s()()()),2&n){const s=t.sdS(13),r=t.sdS(18);t.R7$(2),t.SpI(" ",t.bMT(3,9,"lang_testbank_tested_list_sort"),": "),t.R7$(2),t.Y8G("matMenuTriggerFor",s),t.R7$(),t.Y8G("ngIf",!o.dataFilter.monthSelected),t.R7$(),t.Y8G("ngIf",o.dataFilter.monthSelected&&o.dataFilter.monthSelected>0),t.R7$(2),t.Y8G("matMenuTriggerFor",r),t.R7$(),t.Y8G("ngIf",!o.dataFilter.yearSelected),t.R7$(),t.Y8G("ngIf",o.dataFilter.yearSelected&&o.dataFilter.yearSelected>0),t.R7$(6),t.Y8G("ngForOf",t.lJ4(11,Qa).constructor(13)),t.R7$(5),t.Y8G("ngForOf",t.lJ4(12,Qa).constructor(10))}},dependencies:[d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,_t.kk,_t.Cp,f.flO,f.WGl,x.L,C.Id,y.k],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]}),a})();var Ni=g(29086),Gi=g(48088),$i=g(500);const t1=["table_score_student"],zi=()=>[],e1=()=>({"mr-2":!0}),n1=()=>({"text-success":!0});function i1(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.downloadTableScore())}),t.nrm(2,"lucide-icon",13),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,e1)),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_export_a_grade_sheet")))}function o1(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",14)(1,"button",15),t.nI1(2,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.downloadTableScore())}),t.nrm(3,"lucide-icon",16),t.k0s(),t.j41(4,"button",17),t.nI1(5,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.closeDialog.emit(o.isEdit))}),t.nrm(6,"lucide-icon",18),t.k0s()()}2&e&&(t.R7$(),t.FS9("matTooltip",t.bMT(2,2,"lang_student_export_a_grade_sheet")),t.R7$(3),t.FS9("matTooltip",t.bMT(5,4,"lang_auto_thoat")))}function a1(e,a){1&e&&t.nrm(0,"azt-loading-ui",25)}function s1(e,a){if(1&e&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",t.bMT(3,4,i.createdAt)," ")}}function r1(e,a){if(1&e&&(t.j41(0,"div",36)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",37),t.EFF(5),t.k0s()()),2&e){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function l1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",38),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.editScore(o))}),t.nrm(2,"lucide-icon",39),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_student_sua_dau_diem"))}function c1(e,a){if(1&e&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function m1(e,a){if(1&e&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("mark",n.returnValue(i))}}function d1(e,a){if(1&e){const i=t.RV6();t.j41(0,"input",42),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.bIt("input",function(o){t.eBV(i);const s=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.handleMarkStudent(o,s.id))}),t.k0s()}if(2&e){const i=t.XpG().$implicit,n=t.XpG(2);t.FS9("matTooltip",t.bMT(1,6,"lang_core_diem_duoc_tach_boi_dau_cach")),t.Mz_("id","input_point_",i.id.toString(),""),t.FS9("placeholder",t.bMT(2,8,"lang_auto_nhap_diem")),t.Y8G("disabled",n.isStudent)("value",n.returnValue(i))}}function _1(e,a){1&e&&(t.nrm(0,"lucide-icon",46),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&e&&t.FCK("matTooltip","",t.bMT(1,3,"lang_auto_sua")," ",t.bMT(2,5,"lang_auto_diem"),"")}function u1(e,a){1&e&&(t.nrm(0,"lucide-icon",47),t.nI1(1,"mytranslate")),2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_editor_common_cancel"))}function p1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.viewInput(o.id==s.inputPointSelect?-1:o.id))}),t.DNE(1,_1,3,7,"lucide-icon",44)(2,u1,2,3,"lucide-icon",45),t.k0s()}if(2&e){const i=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.inputPointSelect!=i.id),t.R7$(),t.Y8G("ngIf",n.inputPointSelect==i.id)}}function g1(e,a){1&e&&t.nrm(0,"azt-loading-ui",51)}function h1(e,a){1&e&&t.nrm(0,"lucide-icon",52),2&e&&t.Y8G("ngClass",t.lJ4(1,n1))}function f1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",48),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.saveMark(o))}),t.DNE(2,g1,1,0,"azt-loading-ui",49)(3,h1,1,2,"lucide-icon",50),t.k0s()}if(2&e){const i=t.XpG(3);t.FS9("matTooltip",t.bMT(1,4,"lang_button_save")),t.Y8G("disabled",i.isSave),t.R7$(2),t.Y8G("ngIf",i.isSave),t.R7$(),t.Y8G("ngIf",!i.isSave)}}function b1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",53),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.goToEditPoint(o))}),t.nrm(2,"lucide-icon",54),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_core_go_to_enter_score"))}function v1(e,a){if(1&e&&(t.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),t.EFF(4),t.DNE(5,s1,4,6,"div",26)(6,r1,6,4,"div",26),t.k0s(),t.DNE(7,l1,3,3,"button",27),t.k0s()(),t.j41(8,"td",28)(9,"div",29),t.DNE(10,c1,2,1,"div",30)(11,m1,2,1,"div",30)(12,d1,3,10,"input",31)(13,p1,3,2,"button",32)(14,f1,4,6,"button",33),t.k0s()(),t.j41(15,"td",34),t.DNE(16,b1,3,3,"button",35),t.k0s()()),2&e){const i=a.$implicit,n=t.XpG(2);t.R7$(4),t.SpI(" ",i.name," "),t.R7$(),t.Y8G("ngIf",i.createdAt&&!n.isStudent),t.R7$(),t.Y8G("ngIf",i.coefficient),t.R7$(),t.Y8G("ngIf",!n.isStudent),t.R7$(3),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&n.inputPointSelect!=i.id),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&n.inputPointSelect==i.id),t.R7$(),t.Y8G("ngIf",!n.isStudent&&i.canEditMark&&!n.listMarkNew),t.R7$(),t.Y8G("ngIf",!n.isStudent&&i.canEditMark&&n.listMarkNew&&n.listMarkNew.id==i.id),t.R7$(2),t.Y8G("ngIf",!n.isStudent&&i.programId&&i.sessionId)}}function k1(e,a){1&e&&t.nrm(0,"azt-loading-ui",25)}function T1(e,a){if(1&e){const i=t.RV6();t.j41(0,"azt-mat-dialog-content")(1,"div",19),t.DNE(2,a1,1,0,"azt-loading-ui",20),t.j41(3,"azt-filter-box",21),t.bIt("sendFilter",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.filterData(o))}),t.k0s()(),t.j41(4,"table",22)(5,"tbody"),t.DNE(6,v1,17,10,"tr",10),t.j41(7,"tr")(8,"td"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"td",23)(12,"div",24),t.DNE(13,k1,1,0,"azt-loading-ui",20),t.EFF(14),t.k0s()()()()()()}if(2&e){let i;const n=t.XpG();t.R7$(2),t.Y8G("ngIf",n.statusObj.loading),t.R7$(4),t.Y8G("ngForOf",null!==(i=n.data.marks)&&void 0!==i?i:t.lJ4(8,zi)),t.R7$(3),t.SpI(" ",t.bMT(10,6,"lang_business_diem_tong_ket")," "),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("ngIf",n.isSave),t.R7$(),t.SpI(" ",n.data.averageMark," ")}}function C1(e,a){if(1&e&&(t.j41(0,"div",36)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",37),t.EFF(5),t.k0s()()),2&e){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function x1(e,a){if(1&e&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function y1(e,a){if(1&e&&(t.j41(0,"div",40),t.nrm(1,"azt-check-mark",41),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("mark",n.returnValue(i))}}function S1(e,a){if(1&e&&(t.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),t.EFF(4),t.DNE(5,C1,6,4,"div",26),t.k0s()()(),t.j41(6,"td",59),t.DNE(7,x1,2,1,"div",30)(8,y1,2,1,"div",30),t.k0s()()),2&e){const i=a.$implicit;t.R7$(4),t.SpI(" ",i.name," "),t.R7$(),t.Y8G("ngIf",i.coefficient),t.R7$(2),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}function I1(e,a){if(1&e&&(t.j41(0,"table",55)(1,"thead")(2,"tr")(3,"th",56),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"th",57),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()(),t.j41(9,"tbody"),t.DNE(10,S1,9,4,"tr",10),t.j41(11,"tr")(12,"td"),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"td")(16,"div",58),t.EFF(17),t.k0s()()()()()),2&e){let i;const n=t.XpG();t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_name_component_score")),t.R7$(3),t.JRh(t.bMT(8,7,"lang_testbank_update_exam_point")),t.R7$(3),t.Y8G("ngForOf",null!==(i=n.data.marks)&&void 0!==i?i:t.lJ4(11,zi)),t.R7$(3),t.SpI(" ",t.bMT(14,9,"lang_business_diem_tong_ket")," "),t.R7$(4),t.SpI(" ",n.data.averageMark," ")}}function j1(e,a){if(1&e&&t.nrm(0,"azt-check-mark",41),2&e){const i=t.XpG().$implicit;t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function O1(e,a){if(1&e&&t.nrm(0,"azt-check-mark",41),2&e){const i=t.XpG().$implicit,n=t.XpG();t.Y8G("mark",n.returnValue(i))}}function w1(e,a){if(1&e&&(t.j41(0,"tr")(1,"td",9),t.EFF(2),t.k0s(),t.j41(3,"td",9),t.EFF(4),t.k0s(),t.j41(5,"td",9),t.EFF(6),t.k0s(),t.j41(7,"td",9),t.DNE(8,j1,1,1,"azt-check-mark",60)(9,O1,1,1,"azt-check-mark",60),t.k0s()()),2&e){const i=a.$implicit,n=a.index,o=t.XpG();t.R7$(),t.BMQ("excelRow",n+1)("excelColumn",0)("excelStyle",o.styleTdNormal),t.R7$(),t.SpI(" ",i.name?n+1:""," "),t.R7$(),t.BMQ("excelRow",n+1)("excelColumn",1)("excelStyle",o.styleTdNormalLeft),t.R7$(),t.SpI(" ",i.name," "),t.R7$(),t.BMQ("excelRow",n+1)("excelColumn",2)("excelStyle",o.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",i.coefficient," "),t.R7$(),t.BMQ("excelRow",n+1)("excelColumn",3)("excelStyle",o.styleTdNotNumberNormal),t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}let F1=(()=>{var e;class a extends j.H{filterData(n){this.dataFilter=n,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.list.length&&(this.data=o.data?.list[0]),this.stopStatusObj()}))}downloadTableScore(){Dn.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var n=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let o=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,o),Dn.L.closeLoadingEffect(200)}goToEditPoint(n){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+n.classroomId+"/"+n.programId+"/"+n.sessionId,"?studentId="+this.data.id)}viewInput(n){this.inputPointSelect=n}handleMarkStudent(n,o){if(!this.isStudent){var s=this.commonService.handlePointByValueInput(n);this.listMarkNew={id:o,points:s.length>0?s:[-1]}}}saveMark(n){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:n.programId,classroomId:n.classroomId,sessionId:n.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(s=>{s?(this.data.marks?.filter(r=>r.id==n.id)?.forEach(r=>r.marks=this.listMarkNew?.points?.find(l=>-1==l)?[]:this.listMarkNew?.points??r.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(n){n&&this.sAztDialogService.open(Di,{data:{...n,canEditName:n.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(o=>{if(o){try{var s=this.data.marks?.find(r=>r.id==n.id);s&&(s.coefficient=o.coefficient,s.name=o.name)}catch{}this.isEdit=!0}})}returnValue(n){return(n.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(n,o,s,r,l){super(),this.sAztDialogService=n,this.sAztTimeService=o,this.shareFileFlutterService=s,this.exportExcelService=r,this.studentService=l,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new t.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,t.WQX)(an.R)}ngOnDestroy(){super.ngOnDestroy()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i),t.rXU(V.F),t.rXU(Ni.R),t.rXU(Gi.x),t.rXU($i.b))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-view-table-score-single"]],viewQuery:function(n,o){if(1&n&&t.GBs(t1,5),2&n){let s;t.mGM(s=t.lsd())&&(o.table_score_student=s.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,te.ij]},{provide:Y.vq,useFactory:Wt.fJ,deps:[V.F]}]),t.Vt3,t.aNF],decls:34,vars:61,consts:[["table_score_student",""],["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex","items-center"],["matRipple","",1,"btn","btn-sm","btn-outline-primary","border-0","mr-2","p-1",3,"click","matTooltip"],["name","download","size","20"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","border-0","p-1",3,"click","matTooltip"],["name","x","size","20"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["class","btn btn-secondary-soft","matRipple","",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"click","matTooltip"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltip","id","disabled","value","placeholder"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil","size","16",3,"matTooltip",4,"ngIf"],["name","x","size","16",3,"matTooltip",4,"ngIf"],["name","pencil","size","16",3,"matTooltip"],["name","x","size","16",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"click","matTooltip","disabled"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","check","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","check","size","20",3,"ngClass"],["matRipple","",1,"btn","btn-secondary-soft",3,"click","matTooltip"],["name","external-link","size","16"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(n,o){if(1&n&&(t.DNE(0,i1,6,5,"div",1),t.j41(1,"div",2)(2,"div",3),t.nrm(3,"azt-student-info-box",4),t.DNE(4,o1,7,6,"div",5),t.k0s(),t.DNE(5,T1,15,9,"azt-mat-dialog-content",6)(6,I1,18,12,"table",7),t.k0s(),t.j41(7,"table",8,0)(9,"thead")(10,"tr")(11,"th",9),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",9),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",9),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.j41(23,"tbody"),t.DNE(24,w1,10,17,"tr",10),t.j41(25,"tr")(26,"td",9),t.EFF(27),t.k0s(),t.j41(28,"td",9),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.nrm(31,"td"),t.j41(32,"td",9),t.EFF(33),t.k0s()()()()),2&n){let s,r,l,m,_,u;t.Y8G("ngIf",o.isStudent&&!o.viewDialog),t.R7$(3),t.Y8G("name",o.data.fullName)("parentFullName",o.data.parentFullName)("parentId",o.data.parentId)("parentPhone",o.data.parentPhone)("phone",o.data.phone)("email",o.data.email)("avatar",o.data.avatar)("gender",o.data.gender)("hasUser",o.data.hasUser),t.R7$(),t.Y8G("ngIf",o.viewDialog),t.R7$(),t.Y8G("ngIf",o.viewDialog),t.R7$(),t.Y8G("ngIf",o.isStudent&&!o.viewDialog),t.R7$(),t.Y8G("border",1),t.R7$(4),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(13,50,"lang_student_export_excel_no")," "),t.R7$(2),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(16,52,"lang_student_name_component_score")," "),t.R7$(2),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(19,54,"lang_auto_he_so")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",o.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(22,56,"lang_testbank_update_exam_point")," "),t.R7$(3),t.Y8G("ngForOf",null!==(s=o.data.marks)&&void 0!==s?s:t.lJ4(60,zi)),t.R7$(2),t.BMQ("excelRow",(null!==(r=null==o.data.marks?null:o.data.marks.length)&&void 0!==r?r:0)+1)("excelColumn",0)("excelStyle",o.styleTdNormal),t.R7$(),t.SpI(" ",(null!==(l=null==o.data.marks?null:o.data.marks.length)&&void 0!==l?l:0)+1," "),t.R7$(),t.BMQ("excelRow",(null!==(m=null==o.data.marks?null:o.data.marks.length)&&void 0!==m?m:0)+1)("excelColumn",1)("excelStyle",o.styleTdNormal),t.R7$(),t.SpI(" ",t.bMT(30,58,"lang_business_diem_tong_ket")," "),t.R7$(2),t.BMQ("excelRow",(null!==(_=null==o.data.marks?null:o.data.marks.length)&&void 0!==_?_:0)+1)("excelColumn",3)("excelStyle",o.styleTdNormal),t.R7$(),t.BMQ("excelRow",(null!==(u=null==o.data.marks?null:o.data.marks.length)&&void 0!==u?u:0)+1)("excelColumn",4)("excelStyle",o.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",o.data.averageMark," ")}},dependencies:[we.B,kt.U,N.R,Qp,me.D,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,at.r6,et.oV,f.flO,f.WGl,x.L,h.vv,C.Id,y.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),a})(),ts=(()=>{var e;class a extends pt._{closeDialog(n){this.dialogRef.close(n)}ngOnInit(){super.ngOnInit()}constructor(n,o){super(o,n),this.dialogRef=n,this.data=o}ngOnDestroy(){super.ngOnDestroy()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-table-score-single"]],standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,te.ij]},{provide:Y.vq,useFactory:Wt.fJ,deps:[V.F]}]),t.Vt3,t.aNF],decls:1,vars:3,consts:[[3,"closeDialog","data","isStudent","viewDialog"]],template:function(n,o){1&n&&(t.j41(0,"azt-view-table-score-single",0),t.bIt("closeDialog",function(r){return o.closeDialog(r)}),t.k0s()),2&n&&t.Y8G("data",o.data.student)("isStudent",!o.data.isTeacher)("viewDialog",!0)},dependencies:[F1,d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var E1=g(2587);const D1=["table_score"],es=()=>({"mr-2":!0}),ae=()=>[],R1=()=>({"text-danger":!0});function M1(e,a){1&e&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function N1(e,a){if(1&e&&(t.j41(0,"div",7)(1,"h3",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,M1,3,3,"div",9),t.k0s()),2&e){let i;const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,"lang_student_enter_score")),t.R7$(2),t.Y8G("ngIf",n.isMobileDevice&&!n.isStudent&&(null!==(i=null==n.dataStudent||null==n.dataStudent.list?null:n.dataStudent.list.length)&&void 0!==i?i:0)>0)}}function G1(e,a){1&e&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function $1(e,a){if(1&e&&(t.j41(0,"div",7)(1,"h3",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,G1,3,3,"div",9),t.k0s()),2&e){let i;const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_bang_diem")),t.R7$(2),t.Y8G("ngIf",n.isMobileDevice&&!n.isStudent&&(null!==(i=null==n.dataStudent||null==n.dataStudent.list?null:n.dataStudent.list.length)&&void 0!==i?i:0)>0)}}function z1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.createNewScore())}),t.nrm(1,"lucide-icon",20),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,es)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_student_enter_new_component_score")))}function L1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.downloadTableScore())}),t.nrm(1,"lucide-icon",22),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,es)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_student_export_a_grade_sheet")))}function A1(e,a){1&e&&t.nrm(0,"azt-loading-ui",26)}function P1(e,a){if(1&e){const i=t.RV6();t.j41(0,"flexed-on-the-top",23)(1,"button",24),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.saveMark())}),t.DNE(2,A1,1,0,"azt-loading-ui",25),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG(2);t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",0==i.listStudentMark.length||i.isSave),t.R7$(),t.Y8G("ngIf",i.isSave),t.R7$(),t.SpI(" ",t.bMT(4,4,"lang_auto_luu")," ")}}function Y1(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"azt-search-box",14),t.nI1(4,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.onSearchBox(o.searchObj))}),t.k0s()(),t.j41(5,"div",15),t.DNE(6,z1,5,5,"button",16)(7,L1,5,5,"button",17)(8,P1,5,6,"flexed-on-the-top",18),t.k0s()()()}if(2&e){const i=t.XpG();t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf","ENTER_SCORE"==i.screenType),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==i.screenType),t.R7$(),t.Y8G("ngIf","ENTER_SCORE"==i.screenType)}}function V1(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",27),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function B1(e,a){1&e&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function X1(e,a){if(1&e&&(t.j41(0,"div",50)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()),2&e){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function U1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",52),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(3);return t.Njj(s.createNewScore(o))}),t.nrm(2,"lucide-icon",53),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_student_sua_dau_diem"))}function H1(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",54),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(3);return t.Njj(s.deleteMark(o))}),t.nrm(2,"lucide-icon",55),t.k0s()}2&e&&(t.FS9("matTooltip",t.bMT(1,2,"lang_button_delete")),t.R7$(2),t.Y8G("ngClass",t.lJ4(4,R1)))}function J1(e,a){if(1&e&&(t.j41(0,"th",42)(1,"div",43)(2,"div",44)(3,"div",45),t.EFF(4),t.k0s(),t.j41(5,"div",46),t.DNE(6,X1,6,4,"div",47)(7,U1,3,3,"button",48)(8,H1,3,5,"button",49),t.k0s()()()()),2&e){const i=a.$implicit,n=t.XpG(3);t.R7$(3),t.FS9("matTooltip",i.name),t.R7$(),t.JRh(i.name),t.R7$(2),t.Y8G("ngIf",i.coefficient),t.R7$(),t.Y8G("ngIf",!n.isStudent),t.R7$(),t.Y8G("ngIf",i.canEditName)}}function q1(e,a){1&e&&(t.j41(0,"th",56),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_diem_tong_ket")))}function W1(e,a){if(1&e&&(t.j41(0,"div",66),t.nrm(1,"azt-check-mark",67),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function Z1(e,a){if(1&e&&(t.j41(0,"div",66),t.nrm(1,"azt-check-mark",67),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("mark",n.returnValue(i))}}function K1(e,a){if(1&e){const i=t.RV6();t.j41(0,"input",68),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.bIt("input",function(o){t.eBV(i);const s=t.XpG().index,r=t.XpG().index,l=t.XpG(3);return t.Njj(l.handleMarkStudent(o,r,s))}),t.k0s()}if(2&e){const i=t.XpG().$implicit,n=t.XpG().$implicit,o=t.XpG(3);t.FS9("matTooltip",t.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),t.FS9("id",i.id.toString()+"-"+n.id.toString()),t.FS9("placeholder",t.bMT(2,7,"lang_auto_nhap_diem")),t.Y8G("matTooltipDisabled",!i.canEditMark)("value",o.returnValue(i))}}function Q1(e,a){if(1&e&&(t.j41(0,"td",62),t.DNE(1,W1,2,1,"div",63)(2,Z1,2,1,"div",63)(3,K1,3,9,"input",64),t.nrm(4,"div",65),t.k0s()),2&e){const i=a.$implicit,n=t.XpG().$implicit,o=t.XpG(3);t.Y8G("hidden","TABLE_SCORE"==o.screenType),t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&(!i.canEditMark||"ENTER_SCORE"!=o.screenType)),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType&&i.canEditMark),t.R7$(),t.Mz_("id","error-",i.id.toString()+"-"+n.id.toString(),""),t.Y8G("hidden",!0)}}function tg(e,a){if(1&e&&(t.j41(0,"td")(1,"div",69),t.EFF(2),t.k0s()()),2&e){const i=t.XpG().$implicit;t.R7$(2),t.SpI(" ",i.averageMark," ")}}function eg(e,a){if(1&e){const i=t.RV6();t.j41(0,"tr",57)(1,"td",58),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(3);return t.Njj(s.openDialogTableSingle(o))}),t.nrm(2,"azt-student-info-box",59),t.k0s(),t.j41(3,"td",60),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,Q1,5,7,"td",61)(7,tg,3,1,"td",31),t.k0s()}if(2&e){let i;const n=a.$implicit,o=t.XpG(3);t.Y8G("id","row_student_"+n.id),t.R7$(2),t.Y8G("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("phone",n.phone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt)("identificationNumber",n.identificationNumber),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,16,n.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(2),t.Y8G("ngForOf",null!==(i=n.marks)&&void 0!==i?i:t.lJ4(19,ae)),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==o.screenType)}}function ng(e,a){if(1&e&&(t.j41(0,"div",34)(1,"drag-scroll")(2,"table",35)(3,"thead")(4,"tr",36)(5,"th",37),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",38),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,J1,9,5,"th",39)(12,q1,3,3,"th",40),t.k0s()(),t.j41(13,"tbody"),t.DNE(14,eg,8,20,"tr",41),t.k0s()()()()),2&e){let i,n;const o=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,7,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==o.dataMark?null:o.dataMark.list)&&void 0!==i?i:t.lJ4(9,ae)),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==o.screenType),t.R7$(2),t.Y8G("ngForOf",null!==(n=null==o.dataStudent?null:o.dataStudent.list)&&void 0!==n?n:t.lJ4(10,ae))}}function ig(e,a){if(1&e&&(t.j41(0,"div",72),t.nrm(1,"azt-student-info-box",73),t.j41(2,"div",74)(3,"div",75),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",75),t.EFF(7),t.k0s()()()),2&e){const i=a.$implicit;t.R7$(),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("phone",i.phone)("email",i.email)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("identificationNumber",i.identificationNumber),t.R7$(3),t.SpI(" ",t.bMT(5,12,"lang_business_diem_tong_ket")," "),t.R7$(3),t.SpI(" ",i.averageMark," ")}}function og(e,a){1&e&&t.nrm(0,"lucide-icon",80)}function ag(e,a){1&e&&t.nrm(0,"lucide-icon",81)}function sg(e,a){if(1&e&&(t.j41(0,"div",91)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()),2&e){const i=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_he_so")),t.R7$(3),t.JRh(i.coefficient)}}function rg(e,a){if(1&e&&(t.j41(0,"div",92),t.nrm(1,"azt-check-mark",67),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function lg(e,a){if(1&e&&(t.j41(0,"div",92),t.nrm(1,"azt-check-mark",67),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(6);t.R7$(),t.Y8G("mark",n.returnValue(i))}}function cg(e,a){if(1&e&&(t.j41(0,"tr")(1,"td")(2,"div",87)(3,"div"),t.EFF(4),t.DNE(5,sg,6,4,"div",88),t.k0s()()(),t.j41(6,"td",89),t.DNE(7,rg,2,1,"div",90)(8,lg,2,1,"div",90),t.k0s()()),2&e){const i=a.$implicit;t.R7$(4),t.SpI(" ",i.name," "),t.R7$(),t.Y8G("ngIf",i.coefficient),t.R7$(2),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}function mg(e,a){if(1&e&&(t.j41(0,"div",83)(1,"table",84)(2,"thead")(3,"tr")(4,"th",85),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",86),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,cg,9,4,"tr",71),t.k0s()()()),2&e){const i=t.XpG(2).$implicit;t.R7$(5),t.JRh(t.bMT(6,3,"lang_student_name_component_score")),t.R7$(3),t.JRh(t.bMT(9,5,"lang_testbank_update_exam_point")),t.R7$(3),t.Y8G("ngForOf",i.marks)}}function dg(e,a){if(1&e&&(t.qex(0),t.DNE(1,mg,12,7,"div",82),t.bVm()),2&e){const i=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.isStudent)}}function _g(e,a){if(1&e){const i=t.RV6();t.j41(0,"div")(1,"h3",76)(2,"span",77),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.expand=!o.expand)}),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,og,1,0,"lucide-icon",78)(6,ag,1,0,"lucide-icon",79),t.k0s()(),t.DNE(7,dg,2,1,"ng-container",31),t.k0s()}if(2&e){const i=a.$implicit;t.R7$(3),t.Lme(" ",t.bMT(4,5,"lang_core_thang")," ",i.date," "),t.R7$(2),t.Y8G("ngIf",i.expand),t.R7$(),t.Y8G("ngIf",!i.expand),t.R7$(),t.Y8G("ngIf",i.expand)}}function ug(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,ig,8,14,"div",70)(2,_g,8,7,"div",71),t.k0s()),2&e){let i;const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",null!==(i=null==n.dataStudent?null:n.dataStudent.list)&&void 0!==i?i:t.lJ4(2,ae)),t.R7$(),t.Y8G("ngForOf",n.listGroupMarkDate)}}function pg(e,a){if(1&e){const i=t.RV6();t.j41(0,"azt-paging",96),t.bIt("goToPaginationPage",function(o){t.eBV(i);const s=t.XpG(3);return t.Njj(s.setPageStudent(o))}),t.k0s()}if(2&e){const i=t.XpG(3);t.Y8G("pageObj",i.pageObj)}}function gg(e,a){if(1&e&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.Lme("",i.dataStudent.total," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function hg(e,a){if(1&e&&(t.j41(0,"div",93),t.nrm(1,"div"),t.DNE(2,pg,1,1,"azt-paging",94)(3,gg,3,4,"div",95),t.k0s()),2&e){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",i.dataStudent.total>i.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!i.isStudent)}}function fg(e,a){if(1&e&&(t.j41(0,"div",28),t.DNE(1,B1,3,3,"div",29)(2,ng,15,11,"div",30)(3,ug,3,3,"div",31),t.k0s(),t.DNE(4,hg,4,2,"div",32)),2&e){let i,n,o;const s=t.XpG();t.R7$(),t.Y8G("ngIf",!s.isStudent&&0==(null==s.dataStudent||null==s.dataStudent.list?null:s.dataStudent.list.length)&&0==(null!==(i=null==s.dataStudent?null:s.dataStudent.total)&&void 0!==i?i:0)),t.R7$(),t.Y8G("ngIf",!s.isStudent&&(null!==(n=null==s.dataStudent||null==s.dataStudent.list?null:s.dataStudent.list.length)&&void 0!==n?n:0)>0),t.R7$(),t.Y8G("ngIf",s.isStudent),t.R7$(),t.Y8G("ngIf",s.dataStudent&&s.dataStudent.total&&(null!==(o=null==s.dataStudent?null:s.dataStudent.total)&&void 0!==o?o:0)>0)}}function bg(e,a){if(1&e&&(t.j41(0,"th",98),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=a.$implicit,n=a.index,o=t.XpG(2);t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+n)("excelStyle",o.styleThNormal),t.R7$(),t.Lme(" ",i.name+"\n"," "," ("+t.bMT(2,6,"lang_auto_he_so")+" "+i.coefficient+")"," ")}}function vg(e,a){if(1&e&&t.nrm(0,"azt-check-mark",67),2&e){const i=t.XpG().$implicit;t.Y8G("mark",i.marks.length>0?i.marks[0]:"")}}function kg(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(3);t.R7$(),t.SpI(" ",n.returnValue(i)," ")}}function Tg(e,a){if(1&e&&(t.j41(0,"td",98),t.DNE(1,vg,1,1,"azt-check-mark",100)(2,kg,2,1,"span",31),t.k0s()),2&e){const i=a.$implicit,n=a.index,o=t.XpG().index,s=t.XpG(2);t.BMQ("excelRow",o+1)("excelColumn",6+n)("excelStyle",s.styleTdNormal),t.R7$(),t.Y8G("ngIf","homework"==i.objectType),t.R7$(),t.Y8G("ngIf","homework"!=i.objectType)}}function Cg(e,a){if(1&e&&(t.j41(0,"tr")(1,"td",98),t.EFF(2),t.k0s(),t.j41(3,"td",98),t.EFF(4),t.k0s(),t.j41(5,"td",98),t.EFF(6),t.k0s(),t.j41(7,"td",98),t.EFF(8),t.k0s(),t.j41(9,"td",98),t.EFF(10),t.nI1(11,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(12,"td",98),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,Tg,3,5,"td",99),t.j41(17,"td",98),t.EFF(18),t.k0s()()),2&e){let i,n;const o=a.$implicit,s=a.index,r=t.XpG(2);t.R7$(),t.BMQ("excelRow",s+1)("excelColumn",0)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",null!=o&&o.fullName?s+1:""," "),t.R7$(),t.BMQ("excelRow",s+1)("excelColumn",1)("excelStyle",r.styleTdNormalLeft),t.R7$(),t.SpI(" ",null==o?null:o.fullName," "),t.R7$(),t.BMQ("excelRow",s+1)("excelColumn",2)("excelStyle",r.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",null==o?null:o.phone," "),t.R7$(),t.BMQ("excelRow",s+1)("excelColumn",3)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",null==o?null:o.email," "),t.R7$(),t.BMQ("excelRow",s+1)("excelColumn",4)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",t.bMT(11,29,null==o?null:o.birthday)," "),t.R7$(2),t.BMQ("excelRow",s+1)("excelColumn",5)("excelStyle",r.styleTdNormal),t.R7$(),t.SpI(" ",1==(null==o?null:o.gender)?t.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==o?null:o.gender)?t.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),t.R7$(3),t.Y8G("ngForOf",null!==(i=o.marks)&&void 0!==i?i:t.lJ4(35,ae)),t.R7$(),t.BMQ("excelRow",s+1)("excelColumn",6+(null!==(n=null==o.marks?null:o.marks.length)&&void 0!==n?n:0))("excelStyle",r.styleTdNotNumberNormal),t.R7$(),t.SpI(" ",o.averageMark," ")}}function xg(e,a){if(1&e&&(t.j41(0,"table",97,1)(2,"thead")(3,"tr")(4,"th",98),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",98),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",98),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",98),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",98),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"th",98),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.DNE(22,bg,3,8,"th",99),t.j41(23,"th",98),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()(),t.j41(26,"tbody"),t.DNE(27,Cg,19,36,"tr",71),t.k0s()()),2&e){let i,n,o;const s=t.XpG();t.Y8G("border",1),t.R7$(4),t.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",s.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(6,38,"lang_student_export_excel_no")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",s.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(9,40,"lang_student_export_excel_full_name")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",s.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(12,42,"lang_number_phone")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",s.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(15,44,"lang_student_export_excel_email")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",s.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(18,46,"lang_student_export_excel_birthday")," "),t.R7$(2),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",s.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(21,48,"lang_student_export_excel_gender")," "),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==s.dataMark?null:s.dataMark.list)&&void 0!==i?i:t.lJ4(52,ae)),t.R7$(),t.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(n=null==s.dataMark||null==s.dataMark.list?null:s.dataMark.list.length)&&void 0!==n?n:0))("excelStyle",s.styleThNormal),t.R7$(),t.SpI(" ",t.bMT(25,50,"lang_business_diem_tong_ket")," "),t.R7$(3),t.Y8G("ngForOf",null!==(o=null==s.dataStudent?null:s.dataStudent.list)&&void 0!==o?o:t.lJ4(53,ae))}}let yg=(()=>{var e;class a extends j.H{goToProfile(n,o){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+o,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(n){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+n),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}openDialogTableSingle(n){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(ts,{width:"750px",restoreFocus:!1,data:{student:n,isTeacher:!0}}).afterClosed().subscribe(o=>{o&&this.getListStudent()}):(n.classroomId||n.id)&&this.goToProfile(n.classroomId,n.id)}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){Dn.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var n=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let o=this.commonService.createFileNameExportFile(["bang_diem_lop_"+(this.classroomObj?.name??"bang_diem_lop_id_")+this.classroomId])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,o),Dn.L.closeLoadingEffect(200)}handlePointByValueInput(n){var o=n.target;let s=""===o.value.trim()?"":o.value;s=s.replace(/[^\d\s,\.]/g,""),s=s.replace(/,/g,"."),s=s.replace(/\s+/g," "),s=s.replace(/\.{2,}/g,"."),s=s.replace(/(?:^|\s)\./g," 0."),s=s.replace(/^\s+/,""),s=s.replace(/\.\s/g," ");var r=s.split(" ");if(r.length>0){var l=""!=r[r.length-1]?r[r.length-1]:r[r.length-2];Number(l)>-1?l.split(".").length>1&&l.split(".")[1].length>2&&(s=s.substring(0,s.length-1)):s=s.replace(/\.$/," ")}return o.value=s,s.split(" ").filter(u=>""!=u).map(u=>parseFloat(u))}handleMarkStudent(n,o,s){var r=this.handlePointByValueInput(n);r=0==r.length?[-1]:r;var l=this.dataStudent.list[o],m=this.dataMark.list[s],_=this.listStudentMark.findIndex(T=>T.id==l.id);if(_>-1){var u=(this.listStudentMark[_].listMarks??[]).findIndex(T=>T.id==m.id);u>-1?this.listStudentMark[_].listMarks[u].points=r:this.listStudentMark[_].listMarks?.push({id:m.id,points:r})}else this.listStudentMark.push({id:l.id,listMarks:[{id:m.id,points:r}]})}returnValue(n){return(n.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark})).subscribe(o=>{if(this.isSave=!1,!o.success)return this.errorStatusObj(o.message,!0);this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)}))}createNewScore(n){this.isStudent||this.sAztDialogService.open(Di,{data:n||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(s=>{s&&this.getListMark()})}getListMark(){this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.dataMark=o.data,this.getListStudent()}))}deleteMark(n){var o=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+n.name+" </div> ?";this.sAztDialogService.open(Ja.u,{data:{content:o},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(s=>{s&&this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksIdDelete(n.id)).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.getListMark()}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(n=>{n.success&&(this.classroomObj=n.data?.obj)}))}getListStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.dataStudent=o.data,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(o.data?.list??[]):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()}))}handleGroupMarkByDate(n){let o=[];n.forEach(r=>{let l=r.marks?.map(m=>({...m,monthAndYear:this.sAztTimeService.formatDateToMonthYear(m.createdAt)}))??[];o=o.concat(l)});let s=this.commonService.arrayToDictionary(o,r=>r.monthAndYear);this.listGroupMarkDate=Object.entries(s).map(([r,l])=>({date:r,marks:l,expand:!1}))}scrollElementStudentById(){if(this.studentId){var n=document.getElementById("row_student_"+this.studentId);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,ce.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(n,o,s,r,l,m,_,u){super(),this.commonMarkService=n,this.studentService=o,this.sAztTimeService=s,this.sAztDialogService=r,this.classroomService=l,this.exportExcelService=m,this.activeRoute=_,this.shareFileFlutterService=u,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new Mi.d(50),this.searchContentObj=new v.Z}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Wa.a),t.rXU($i.b),t.rXU(V.F),t.rXU(ot.i),t.rXU(E1.z),t.rXU(Gi.x),t.rXU(b.nX),t.rXU(Ni.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-table-score"]],viewQuery:function(n,o){if(1&n&&t.GBs(D1,5),2&n){let s;t.mGM(s=t.lsd())&&(o.table_answer=s.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:8,vars:6,consts:[["doneLoading",""],["table_score",""],[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1 col-span-12",4,"ngIf"],[1,"mt-1","col-span-12"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","placeholder"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"click","matTooltip"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltipDisabled","matTooltip","id","value","placeholder"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser","identificationNumber"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(n,o){if(1&n&&(t.j41(0,"div",2),t.DNE(1,N1,5,4,"div",3)(2,$1,5,4,"div",3)(3,Y1,9,7,"div",4),t.k0s(),t.DNE(4,V1,1,1,"azt-loading-effect",5)(5,fg,5,4,"ng-template",null,0,t.C5r)(7,xg,28,54,"table",6)),2&n){const s=t.sdS(6);t.R7$(),t.Y8G("ngIf","ENTER_SCORE"==o.screenType),t.R7$(),t.Y8G("ngIf","TABLE_SCORE"==o.screenType),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s),t.R7$(3),t.Y8G("ngIf","TABLE_SCORE"==o.screenType)}},dependencies:[P.AC,P.jd,P.Ew,R.W,Yp,N.R,X.K,we.B,me.D,Ri.q,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,h.Po,h.vv,C.Id,y.k],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),a})(),Sg=(()=>{var e;class a extends j.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(n){super(),this.activeRoute=n,this.classroomId=0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(n,o){1&n&&t.nrm(0,"app-table-score",0),2&n&&t.Y8G("isStudent",o.isStudent)("screenType","TABLE_SCORE")("classroomId",o.classroomId)("programId",0)("sessionId",0)},dependencies:[yg,d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),a})();function Ig(e,a){1&e&&(t.j41(0,"div",20)(1,"span",21),t.nrm(2,"azt-loading-ui"),t.k0s()())}function jg(e,a){if(1&e&&(t.j41(0,"div",22),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.JRh(null==i.attendanceObj?null:i.attendanceObj.totalAttend)}}function Og(e,a){1&e&&(t.j41(0,"div",20)(1,"span",21),t.nrm(2,"azt-loading-ui"),t.k0s()())}function wg(e,a){if(1&e&&(t.j41(0,"div",23),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.JRh(null==i.attendanceObj?null:i.attendanceObj.totalAbsence)}}function Fg(e,a){1&e&&(t.j41(0,"div",20)(1,"span",21),t.nrm(2,"azt-loading-ui"),t.k0s()())}function Eg(e,a){if(1&e&&(t.j41(0,"div",24),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.JRh(null==i.attendanceObj?null:i.attendanceObj.totalAbsentPermission)}}function Dg(e,a){1&e&&(t.j41(0,"div",20)(1,"span",21),t.nrm(2,"azt-loading-ui"),t.k0s()())}function Rg(e,a){if(1&e&&(t.j41(0,"div",25),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.JRh(null==i.attendanceObj?null:i.attendanceObj.totalAbsentWithoutPermission)}}let Mg=(()=>{var e;class a extends j.H{constructor(n){super(),this.studentService=n,this.classroomId=0,this.title="lang_student_attendance_info"}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsMeProfileGet(this.classroomId).subscribe(n=>{n?(this.attendanceObj=n,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.attendanceObj||this.getInfoAttendance()}ngOnInit(){super.ngOnInit(),this.attendanceObj||this.getInfoAttendance()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.b0))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-attendance-statistics"]],inputs:{classroomId:"classroomId",title:"title",attendanceObj:"attendanceObj"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:49,vars:23,consts:[["totalAttend",""],["totalAbsence",""],["totalAbsentPermission",""],["totalAbsentWithoutPermission",""],[1,"detail-attendance"],[1,"mb-3","text-base","font-medium"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],["name","check","size","24"],[1,"mt-4"],["class","text-center",4,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off","size","24"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","octagon-alert","size","24"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","octagon-x","size","24"],[1,"text-center"],[1,"w-8","h-8","inline-block","mr-2"],[1,"text-2xl","text-primary","font-medium"],[1,"text-2xl","text-secondary","font-medium"],[1,"text-2xl","text-pending","font-medium"],[1,"text-2xl","text-danger","font-medium"]],template:function(n,o){if(1&n&&(t.j41(0,"div",4)(1,"p",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"button",10),t.nrm(9,"lucide-icon",11),t.k0s(),t.j41(10,"div",12),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.DNE(13,Ig,3,0,"div",13)(14,jg,2,1,"ng-template",null,0,t.C5r),t.k0s()()(),t.j41(16,"div",7)(17,"div",8)(18,"div",9)(19,"button",14),t.nrm(20,"lucide-icon",15),t.k0s(),t.j41(21,"div",12),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.DNE(24,Og,3,0,"div",13)(25,wg,2,1,"ng-template",null,1,t.C5r),t.k0s()()(),t.j41(27,"div",7)(28,"div",8)(29,"div",9)(30,"button",16),t.nrm(31,"lucide-icon",17),t.k0s(),t.j41(32,"div",12),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s(),t.DNE(35,Fg,3,0,"div",13)(36,Eg,2,1,"ng-template",null,2,t.C5r),t.k0s()()(),t.j41(38,"div",7)(39,"div",8)(40,"div",9)(41,"button",18),t.nrm(42,"lucide-icon",19),t.k0s(),t.j41(43,"div",12),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s(),t.DNE(46,Dg,3,0,"div",13)(47,Rg,2,1,"ng-template",null,3,t.C5r),t.k0s()()()()()),2&n){const s=t.sdS(15),r=t.sdS(26),l=t.sdS(37),m=t.sdS(48);t.R7$(2),t.JRh(t.bMT(3,13,o.title)),t.R7$(9),t.JRh(t.bMT(12,15,"lang_student_number_of_sessions_attended")),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s),t.R7$(9),t.JRh(t.bMT(23,17,"lang_student_number_of_sessions_missed")),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",r),t.R7$(9),t.JRh(t.bMT(34,19,"lang_student_number_of_approved_absences")),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",l),t.R7$(9),t.JRh(t.bMT(45,21,"lang_student_number_of_unauthorized_absences")),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",m)}},dependencies:[N.R,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();const Ng=()=>[];function Gg(e,a){if(1&e){const i=t.RV6();t.j41(0,"mat-option",14),t.bIt("click",function(){const o=t.eBV(i).index,s=t.XpG();return t.Njj(s.filterByMonth(o))}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const i=a.index;t.Y8G("value",i),t.R7$(2),t.SpI(" ",i?t.bMT(3,2,"lang_core_thang")+" "+i:t.bMT(4,4,"lang_auto_tat_ca")," ")}}function $g(e,a){1&e&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.nrm(3,"azt-loading-ui"),t.k0s()()())}function zg(e,a){if(1&e&&(t.j41(0,"tr")(1,"td",15),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td",15),t.EFF(7),t.k0s(),t.j41(8,"td",15)(9,"span",20),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"td",15),t.EFF(13),t.k0s()()),2&e){const i=a.$implicit,n=a.index;t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(t.bMT(5,6,i.sessionTime)),t.R7$(3),t.SpI(" ",i.className," "),t.R7$(2),t.Y8G("ngClass",i.absent?"bg-danger":"bg-success"),t.R7$(),t.SpI(" ",t.bMT(11,8,i.absent?"lang_business_vang_mat":"lang_business_co_mat")," "),t.R7$(3),t.SpI(" ",i.reason," ")}}function Lg(e,a){if(1&e&&(t.qex(0),t.DNE(1,zg,14,10,"tr",19),t.bVm()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.attendanceObjs)}}function Ag(e,a){1&e&&(t.j41(0,"tr")(1,"td",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}function Pg(e,a){if(1&e&&t.DNE(0,Lg,2,1,"ng-container",18)(1,Ag,4,3,"ng-template",null,1,t.C5r),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.attendanceObjs.length)("ngIfElse",i)}}let ns=(()=>{var e;class a extends j.H{constructor(n){super(),this.studentService=n,this.classroomIds=[],this.title="lang_student_attendance_info",this.attendanceObjs=[]}getAttendances(n){if(this.initStatusObj(),this.attendanceObjs=[],this.isTqbDomain){const o=this.classroomIds.map(s=>this.studentService.apiStudentsAttendancesMeGet(s,void 0,n));this.wrapApiResponse((0,de.p)(o)).subscribe(s=>{s.data?.forEach(r=>{if(!r)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.attendanceObjs=this.attendanceObjs.concat(r.list)}),this.successStatusObj()})}}filterByMonth(n){this.getAttendances(n)}ngOnChanges(){this.getAttendances()}ngOnInit(){super.ngOnInit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.b0))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-attendance-table"]],inputs:{classroomIds:"classroomIds",title:"title"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:33,vars:29,consts:[["doneLoading",""],["noTuitionFee",""],[1,"flex","items-center","justify-between"],[1,"text-base","font-medium","w-full"],["appearance","outline",2,"border-radius","5px","background","white","width","auto"],[3,"placeholder"],[3,"value","click",4,"ngFor","ngForOf"],["drag-scroll-item","",1,"table","table-bordered","mt-5",2,"white-space","initial","display","table","background","white"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[3,"click","value"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"py-0.5","px-2","rounded-full","text-xs","text-white","cursor-pointer","font-medium",3,"ngClass"],["colspan","4",1,"text-center"]],template:function(n,o){if(1&n&&(t.j41(0,"div")(1,"div",2)(2,"p",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"mat-form-field",4)(6,"mat-select",5),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.DNE(9,Gg,5,6,"mat-option",6),t.k0s()()(),t.j41(10,"drag-scroll")(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",10),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",11),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"th",12),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",11),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.j41(29,"tbody"),t.DNE(30,$g,4,0,"tr",13)(31,Pg,3,2,"ng-template",null,0,t.C5r),t.k0s()()()()),2&n){const s=t.sdS(32);t.R7$(3),t.JRh(t.bMT(4,12,o.title)),t.R7$(3),t.FCK("placeholder","",t.bMT(7,14,"azt_lang_sugg_filter")," ",t.bMT(8,16,"lang_auto_month"),""),t.R7$(3),t.Y8G("ngForOf",t.lJ4(28,Ng).constructor(13)),t.R7$(6),t.SpI(" ",t.bMT(16,18,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(19,20,"lang_core_thoi_gian_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(22,22,"lang_auto_lop_hoc")," "),t.R7$(3),t.SpI(" ",t.bMT(25,24,"lang_student_status")," "),t.R7$(3),t.SpI(" ",t.bMT(28,26,"lang_business_reason_for_leave")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[P.AC,P.jd,P.Ew,N.R,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,at.wT,nt.rl,At.VO,f.flO,x.L,h.i_,C.Id,y.k],encapsulation:2}),a})();const Yg=e=>[e];function Vg(e,a){if(1&e&&t.nrm(0,"azt-attendance-statistics",3),2&e){const i=t.XpG(2);t.Y8G("classroomId",i.classroomId)("title",i.title)}}function Bg(e,a){if(1&e&&t.nrm(0,"azt-attendance-table",4),2&e){const i=t.XpG(2);t.Y8G("classroomIds",t.eq3(2,Yg,i.classroomId))("title",i.title)}}function Xg(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,Vg,1,2,"azt-attendance-statistics",1)(2,Bg,1,4,"azt-attendance-table",2),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.isTqbDomain)}}let is=(()=>{var e;class a extends j.H{constructor(){super(),this.classroomId=0,this.title="lang_student_attendance_info"}ngOnInit(){super.ngOnInit()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["detail-attendance-frontend"]],inputs:{classroomId:"classroomId",title:"title"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[3,"classroomId","title",4,"ngIf"],[3,"classroomIds","title",4,"ngIf"],[3,"classroomId","title"],[3,"classroomIds","title"]],template:function(n,o){1&n&&t.DNE(0,Xg,3,2,"div",0),2&n&&t.Y8G("ngIf",o.classroomId)},dependencies:[Mg,ns,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();function Ug(e,a){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Hg(e,a){1&e&&(t.j41(0,"tr",11)(1,"td",12)(2,"span",13),t.nrm(3,"azt-loading-ui"),t.k0s()()())}function Jg(e,a){if(1&e&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td",11)(9,"span",16),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()),2&e){const i=a.$implicit,n=a.index;t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(t.bMT(5,4,i.createdAt)),t.R7$(3),t.JRh(i.month+"/"+i.year),t.R7$(3),t.SpI(" ",t.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function qg(e,a){if(1&e&&(t.qex(0),t.DNE(1,Jg,12,8,"tr",15),t.bVm()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.historyTuitionFeeList)}}function Wg(e,a){1&e&&(t.j41(0,"tr")(1,"td",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}function Zg(e,a){if(1&e&&t.DNE(0,qg,2,1,"ng-container",14)(1,Wg,4,3,"ng-template",null,1,t.C5r),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.historyTuitionFeeList.length)("ngIfElse",i)}}let os=(()=>{var e;class a extends j.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(n=>{n?(this.historyTuitionFeeList=n.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(n){super(),this.paymentService=n,this.historyTuitionFeeList=[]}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.WG))},e.\u0275cmp=t.VBU({type:e,selectors:[["detail-tuition-fee-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:15,consts:[["doneLoading",""],["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(n,o){if(1&n&&(t.j41(0,"div",2),t.DNE(1,Ug,3,3,"div",3),t.j41(2,"div",4)(3,"drag-scroll")(4,"table",5)(5,"thead",6)(6,"tr")(7,"th",7),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",8),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",9),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()(),t.j41(19,"tbody"),t.DNE(20,Hg,4,0,"tr",10)(21,Zg,3,2,"ng-template",null,0,t.C5r),t.k0s()()()()()),2&n){const s=t.sdS(22);t.R7$(),t.Y8G("ngIf",o.isMobileDevice||o.isMobileWebView),t.R7$(7),t.SpI(" ",t.bMT(9,7,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(12,9,"lang_student_payment_time")," "),t.R7$(3),t.SpI(" ",t.bMT(15,11,"lang_student_monthly_tuition_fee")," "),t.R7$(3),t.SpI(" ",t.bMT(18,13,"lang_student_status")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[P.AC,P.jd,P.Ew,N.R,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,h.bH,C.Id,y.k],encapsulation:2}),a})();function Kg(e,a){1&e&&(t.j41(0,"tr",10)(1,"td",11)(2,"span",12),t.nrm(3,"azt-loading-ui"),t.k0s()()())}function Qg(e,a){if(1&e&&(t.j41(0,"tr")(1,"td",10),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&e){const i=a.$implicit,n=a.index;t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(i.bookName),t.R7$(2),t.JRh(t.bMT(7,3,i.createdAt))}}function th(e,a){if(1&e&&(t.qex(0),t.DNE(1,Qg,8,5,"tr",14),t.bVm()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.bookDistributionList)}}function eh(e,a){1&e&&(t.j41(0,"tr")(1,"td",15),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}function nh(e,a){if(1&e&&t.DNE(0,th,2,1,"ng-container",13)(1,eh,4,3,"ng-template",null,1,t.C5r),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.bookDistributionList.length)("ngIfElse",i)}}let ih=(()=>{var e;class a extends j.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsMeBooksGet().subscribe(n=>{n?(this.bookDistributionList=n.list,this.totalBookDistribution=n.total,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(n){super(),this.studentService=n,this.bookDistributionList=[],this.totalBookDistribution=0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.b0))},e.\u0275cmp=t.VBU({type:e,selectors:[["detail-book-distribution-frontend"]],standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:14,consts:[["doneLoading",""],["noDistribution",""],[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],["class","text-center",4,"ngIf","ngIfElse"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-center"]],template:function(n,o){if(1&n&&(t.j41(0,"div",2)(1,"span",3),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"div",4)(5,"drag-scroll")(6,"table",5)(7,"thead",6)(8,"tr")(9,"th",7),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"th",8),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",8),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,Kg,4,0,"tr",9)(20,nh,3,2,"ng-template",null,0,t.C5r),t.k0s()()()()),2&n){const s=t.sdS(21);t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_student_total")+": "+o.totalBookDistribution," "),t.R7$(8),t.SpI(" ",t.bMT(11,8,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(14,10,"lang_core_ten_sach")," "),t.R7$(3),t.SpI(" ",t.bMT(17,12,"lang_auto_thoi_gian")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[P.AC,P.jd,P.Ew,N.R,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,h.bH,C.Id,y.k],encapsulation:2}),a})();var Rn=g(91346);const oh=(e,a,i,n,o)=>({"mt-3":e,"border-none":a,"bg-slate-100":i,"bg-white":n,"pb-0":o}),ah=e=>({cursor:e}),sh=(e,a)=>({"font-medium":e,"font-normal":a}),rh=e=>({"padding-left.px":e}),lh=e=>({"width.%":e});function ch(e,a){if(1&e&&(t.j41(0,"span"),t.nrm(1,"lucide-icon",15),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.FS9("name",i.showChild?"chevron-up":"chevron-down")}}function mh(e,a){if(1&e&&(t.j41(0,"span",18),t.EFF(1),t.k0s()),2&e){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.averageMark)}}function dh(e,a){if(1&e&&(t.j41(0,"div",16),t.DNE(1,mh,2,1,"span",17),t.k0s()),2&e){const i=t.XpG().$implicit;t.Y8G("ngStyle",t.eq3(2,lh,10*i.averageMark)),t.R7$(),t.Y8G("ngIf",i.averageMark>1)}}function _h(e,a){if(1&e&&(t.j41(0,"div",19),t.nrm(1,"knowledge-by-subject-student-front",20),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG();t.R7$(),t.Y8G("knowledgeDetailObjs",i.children)("countLevelNode",n.countLevelNode+1)}}function uh(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG();return t.Njj(s.showChildKnowledgeData(o))}),t.j41(3,"h3",4),t.EFF(4),t.nI1(5,"mytranslate"),t.DNE(6,ch,2,1,"span",5),t.k0s()(),t.j41(7,"div",6)(8,"h3",7),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"b"),t.EFF(12),t.k0s(),t.EFF(13,"/"),t.j41(14,"b"),t.EFF(15),t.k0s(),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",8)(19,"div",9)(20,"span",10),t.EFF(21,"0"),t.k0s(),t.j41(22,"div",11),t.DNE(23,dh,2,4,"div",12),t.k0s(),t.j41(24,"span",13),t.EFF(25,"10"),t.k0s()()()(),t.DNE(26,_h,2,2,"div",14),t.k0s()}if(2&e){const i=a.$implicit,n=a.first,o=a.last,s=t.XpG();t.Y8G("ngClass",t.s1E(19,oh,n&&0==s.countLevelNode,o,s.countLevelNode%2!=0,s.countLevelNode%2==0,i.showChild)),t.R7$(2),t.Aen(t.eq3(25,ah,i.children&&i.children.length?"pointer":"default")),t.R7$(),t.Y8G("ngClass",t.l_i(27,sh,0==s.countLevelNode||i.showChild,0!=s.countLevelNode&&!i.showChild))("ngStyle",t.eq3(30,rh,5*s.countLevelNode)),t.R7$(),t.SpI(" ",t.bMT(5,13,i.name)," "),t.R7$(2),t.Y8G("ngIf",i.children&&i.children.length),t.R7$(3),t.SpI(" ",t.bMT(10,15,"lang_auto_tra_loi_dung"),":\xa0"),t.R7$(3),t.JRh(i.totalCorrectQuestion),t.R7$(3),t.JRh(i.totalQuestion),t.R7$(),t.SpI("\xa0",t.bMT(17,17,"azt_lang_sugg_question")," "),t.R7$(7),t.Y8G("ngIf",i.averageMark),t.R7$(3),t.Y8G("ngIf",i.children&&i.children.length&&i.showChild)}}let ph=(()=>{var e;class a extends j.H{showChildKnowledgeData(n){n.children&&n.children.length&&(n.showChild=!n.showChild)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.knowledgeDetailObjs=[],this.countLevelNode=1}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["knowledge-by-subject-student-front"]],inputs:{knowledgeDetailObjs:"knowledgeDetailObjs",countLevelNode:"countLevelNode"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","border-b border-slate-200/60 dark:border-darkmode-400","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px;",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center",3,"click"],[1,"",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr","pr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["style","margin-top: 10px",4,"ngIf"],[2,"vertical-align","top","height","16px!important","width","16px!important",3,"name"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[2,"margin-top","10px"],[3,"knowledgeDetailObjs","countLevelNode"]],template:function(n,o){1&n&&t.DNE(0,uh,27,32,"div",0),2&n&&t.Y8G("ngForOf",o.knowledgeDetailObjs)},dependencies:[e,d.MD,d.YU,d.Sq,d.bT,d.B3,c.X1,b.iI,c.YN,f.flO,f.WGl,x.L,h.wp,C.Id,y.k],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),a})();var Li=g(11161);const as=e=>({"width.%":e}),gh=e=>({"border-none":e}),hh=(e,a,i,n)=>({"bg-orange-600":e,"bg-red-600":a,"bg-green-600":i,"bg-blue-600":n});function fh(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",5),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function bh(e,a){if(1&e&&(t.j41(0,"span",26),t.EFF(1),t.k0s()),2&e){const i=t.XpG(3).$implicit;t.R7$(),t.JRh(i.averageMark)}}function vh(e,a){if(1&e&&(t.j41(0,"div",24),t.DNE(1,bh,2,1,"span",25),t.k0s()),2&e){const i=t.XpG(2).$implicit;t.Y8G("ngStyle",t.eq3(2,as,10*i.averageMark)),t.R7$(),t.Y8G("ngIf",i.averageMark&&i.averageMark>1)}}function kh(e,a){if(1&e&&(t.j41(0,"div",17)(1,"div",18)(2,"span",19),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"span",20),t.EFF(6,"0"),t.k0s(),t.j41(7,"div",21),t.DNE(8,vh,2,4,"div",22),t.k0s(),t.j41(9,"span",23),t.EFF(10,"10"),t.k0s()()()),2&e){const i=t.XpG().$implicit;t.R7$(3),t.JRh(t.bMT(4,2,"lang_auto_diem_trung_binh")),t.R7$(5),t.Y8G("ngIf",i.averageMark)}}function Th(e,a){1&e&&(t.j41(0,"div",27)(1,"span",28),t.nrm(2,"azt-loading-ui"),t.k0s()())}function Ch(e,a){1&e&&(t.qex(0),t.j41(1,"div",30)(2,"span",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_profile_student_not_support_subject")))}function xh(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",40)(2,"h4",33),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.nrm(5,"knowledge-by-subject-student-front",41),t.bVm()),2&e){const i=t.XpG(3).$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,3,"lang_student_profile_result_by_topic")," "),t.R7$(2),t.Y8G("knowledgeDetailObjs",i.knowledgeDataObjs)("countLevelNode",0)}}function yh(e,a){if(1&e&&(t.j41(0,"span",26),t.EFF(1),t.k0s()),2&e){const i=t.XpG(2).$implicit;t.R7$(),t.JRh(i.averageMark)}}function Sh(e,a){if(1&e&&(t.j41(0,"div",53),t.DNE(1,yh,2,1,"span",25),t.k0s()),2&e){const i=t.XpG().$implicit;t.Y8G("ngClass",t.ziG(3,hh,1==i.id,3==i.id,2==i.id,4==i.id))("ngStyle",t.eq3(8,as,10*i.averageMark)),t.R7$(),t.Y8G("ngIf",i.averageMark>1)}}function Ih(e,a){if(1&e&&(t.j41(0,"div",43)(1,"div",44)(2,"div",45)(3,"h3",46),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",47)(7,"h3",46),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"b"),t.EFF(11),t.k0s(),t.EFF(12," / "),t.j41(13,"b"),t.EFF(14),t.k0s(),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",48)(18,"div",49)(19,"span",50),t.EFF(20,"0"),t.k0s(),t.j41(21,"div",51),t.DNE(22,Sh,2,10,"div",52),t.k0s(),t.j41(23,"span",23),t.EFF(24,"10"),t.k0s()()()()()),2&e){const i=a.$implicit;t.Y8G("ngClass",t.eq3(13,gh,a.last)),t.R7$(4),t.SpI(" ",t.bMT(5,7,i.name)," "),t.R7$(4),t.SpI(" ",t.bMT(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),t.R7$(3),t.JRh(i.totalCorrectQuestion),t.R7$(3),t.JRh(i.totalQuestion),t.R7$(),t.SpI(" \xa0",t.bMT(16,11,"azt_lang_sugg_question")," "),t.R7$(7),t.Y8G("ngIf",i.averageMark)}}function jh(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",40)(2,"h4",33),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.DNE(5,Ih,25,15,"div",42),t.bVm()),2&e){const i=t.XpG(3).$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,2,"lang_student_profile_result_by_difficulty_level")," "),t.R7$(2),t.Y8G("ngForOf",i.difficultyDataObjs)}}function Oh(e,a){if(1&e&&(t.j41(0,"div",32)(1,"h4",33),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"div",34)(5,"div",35)(6,"div",36)(7,"div",37),t.nrm(8,"div",38),t.k0s()()()(),t.DNE(9,xh,6,5,"ng-container",39)(10,jh,6,4,"ng-container",39)),2&e){const i=t.XpG(2).$implicit,n=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,4,"lang_student_profile_exam_point_by_time")," "),t.R7$(6),t.Y8G("chart",i.chart),t.R7$(),t.Y8G("ngIf",i.knowledgeDataObjs&&i.knowledgeDataObjs.length&&!n.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.difficultyDataObjs&&i.difficultyDataObjs.length&&!n.isTqbDomain)}}function wh(e,a){if(1&e&&t.DNE(0,Ch,5,3,"ng-container",29)(1,Oh,11,6,"ng-template",null,2,t.C5r),2&e){const i=t.sdS(2),n=t.XpG().$implicit;t.Y8G("ngIf",n.errorGetData)("ngIfElse",i)}}function Fh(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"mat-expansion-panel",10),t.bIt("opened",function(){const o=t.eBV(i).index,s=t.XpG(2);return t.Njj(s.getStatisticalById(o))}),t.j41(2,"mat-expansion-panel-header",11)(3,"div",12)(4,"div",13)(5,"h3",14),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,kh,11,4,"div",15),t.k0s()(),t.DNE(10,Th,3,0,"div",16)(11,wh,3,2,"ng-template",null,1,t.C5r),t.k0s(),t.bVm()}if(2&e){const i=a.$implicit,n=t.sdS(12),o=t.XpG(2);t.R7$(6),t.Lme("",t.bMT(7,5,i.subjectName)," ","("+t.bMT(8,7,i.levelName)+")",""),t.R7$(3),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.isLoading)("ngIfElse",n)}}function Eh(e,a){if(1&e&&(t.j41(0,"div",6)(1,"div",7)(2,"mat-accordion",8),t.DNE(3,Fh,13,9,"ng-container",9),t.k0s()()()),2&e){const i=t.XpG();t.R7$(3),t.Y8G("ngForOf",i.levelSubjectObjs)}}let Dh=(()=>{var e;class a extends j.H{getStatisticalById(n){this.levelSubjectObjs.length&&this.levelSubjectObjs[n]&&(this.levelSubjectObjs[n].isLoading=!0,this.levelSubjectObjs[n].errorGetData=!1,this.wrapApiResponse(this.studentService.apiStudentsMeFieldGet(this.levelSubjectObjs[n].levelId??0,this.levelSubjectObjs[n].subjectId??0)).subscribe(o=>(this.levelSubjectObjs[n].isLoading=!1,this.levelSubjectObjs[n].errorGetData=!0,o.success?o.data?(this.levelSubjectObjs[n].difficultyDataObjs=o.data?.difficulty??[],this.levelSubjectObjs[n].knowledgeDataObjs=o.data?.knowledge??[],void(this.levelSubjectObjs[n].chart=this.createChart(o.data?.examResults??[]))):this.stopStatusObj():this.errorStatusObj(o.message,!0))))}createChart(n){let o=this.commonService.myTranslateInstant("lang_auto_Diem")??"",s=this.commonService.myTranslateInstant("lang_student_profile_exam_point_by_time")??"",r=[],l=[];return n.forEach(_=>{r.push(_.mark??0),l.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(_.createdAt))}),new Rn.t1({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:s,useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:l},yAxis:{title:{text:o}},series:[{name:o,type:"line",data:r}]})}getDataSubject(){this.initStatusObj(),this.isBusinessDomain?this.wrapApiResponse(this.studentService.apiStudentsMeAverageLevelSubjectMarksGet()).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.levelSubjectObjs=n.data?.list??[],this.getStatisticalById(0),this.stopStatusObj()}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(0).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.levelSubjectObjs=n.data?.objs??[],this.getStatisticalById(0),this.stopStatusObj()})}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(n,o,s){super(),this.examPageResultService=n,this.studentService=o,this.sAztTimeService=s,this.levelSubjectObjs=[],this.chart=new Rn.t1}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Fe.TE),t.rXU(G.b0),t.rXU(V.F))},e.\u0275cmp=t.VBU({type:e,selectors:[["detail-by-subject-student-front"]],inputs:{classroomId:"classroomId"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["doneLoading",""],["doneLoadingPage",""],["hasData",""],[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],["class","col-span-12 lg:col-span-9 text-center",4,"ngIf"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"box","p-5"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[3,"knowledgeDetailObjs","countLevelNode"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(n,o){if(1&n&&(t.j41(0,"div",3),t.DNE(1,fh,1,1,"azt-loading-effect",4)(2,Eh,4,1,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[Rn.Fr,Rn.S6,X.K,N.R,ph,d.MD,d.YU,d.Sq,d.bT,d.B3,c.X1,b.iI,c.YN,h.wp,S.s,Li.BS,Li.GK,Li.Z2,f.flO,x.L,C.Id,y.k],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),a})();var Ai=g(48314);let Rh=(()=>{var e;class a extends j.H{ngOnInit(){super.ngOnInit()}constructor(n,o){super(),this.activeRoute=n,this.frontClassroomService=o}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX),t.rXU(Ai.Kf))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-statistical-student-board"]],inputs:{classroomObj:"classroomObj"},standalone:!0,features:[t.Vt3,t.aNF],decls:17,vars:11,consts:[[1,"mt-5"],[3,"classroomId"],[1,"mb-3","text-base","font-medium"],[1,"mt-md-5"]],template:function(n,o){if(1&n&&(t.j41(0,"div",0),t.nrm(1,"detail-attendance-frontend",1),t.k0s(),t.j41(2,"div",0)(3,"p",2),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.nrm(6,"detail-tuition-fee-student"),t.k0s(),t.j41(7,"div",0)(8,"p",2),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.nrm(11,"detail-book-distribution-frontend"),t.k0s(),t.j41(12,"div",3)(13,"p",2),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"detail-by-subject-student-front",1),t.k0s()),2&n){let s,r;t.R7$(),t.Y8G("classroomId",null!==(s=null==o.classroomObj?null:o.classroomObj.id)&&void 0!==s?s:0),t.R7$(3),t.JRh(t.bMT(5,5,"lang_student_tuition_fee_info")),t.R7$(5),t.JRh(t.bMT(10,7,"lang_student_book_distribution_info")),t.R7$(5),t.JRh(t.bMT(15,9,"lang_student_academic_results_report")),t.R7$(2),t.Y8G("classroomId",null!==(r=null==o.classroomObj?null:o.classroomObj.id)&&void 0!==r?r:0)}},dependencies:[is,os,ih,Dh,d.MD,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var vt=function(e){return e.none="None",e.asc="Asc",e.desc="Desc",e}(vt||{});class Mn{resetSortFieldName(a){this.fieldNameList.forEach(i=>{i.fieldName!==a.fieldName&&(i.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(a){this.fieldNameList=a}convertDataSort(a){switch(this.resetSortFieldName(a),a.typeFieldSort){case this.typeFieldSort.none:a.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:a.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:a.typeFieldSort=this.typeFieldSort.none}return{fieldName:a.fieldName,descending:a.typeFieldSort===this.typeFieldSort.desc,ignore:a.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=vt,this.fieldNameList=[]}}let ss=(()=>{var e;class a{makeListFormArrayComment(n,o){let s=new c.Yp([]);return n&&n.forEach(r=>{s.push(new c.gE({id:new c.MJ({value:r.id,disabled:!o},{nonNullable:!0}),updatedAt:new c.MJ({value:r.updatedAt?.toString()??"",disabled:!o},{nonNullable:!0}),comment:new c.MJ({value:r.comment??"",disabled:!o},{nonNullable:!0}),isEdited:new c.MJ(!1,{nonNullable:!0})}))}),s}getLastAssessmentStudent(n){if(n.assessments&&n.assessments.length)return n.assessments[0]}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();const Mh=()=>({"ml-2 cursor-pointer":!0});function Nh(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeEditStatus(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_sua")," "))}function Gh(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.changeEditStatus(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&e){const i=t.XpG();t.Y8G("disabled",i.isSave),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_huy_sua")," ")}}function $h(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.saveEdit())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&e){const i=t.XpG();t.Y8G("disabled",i.isSave||i.countChangedComment()),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_luu")," ")}}function zh(e,a){1&e&&(t.j41(0,"div",16)(1,"span",17),t.nrm(2,"azt-loading-ui"),t.k0s()())}function Lh(e,a){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Ah(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(3);return t.Njj(s.deleteAssesment(o.controls.id.value))}),t.nrm(1,"lucide-icon",29),t.nI1(2,"mytranslate"),t.k0s()}if(2&e){const i=t.XpG(4);t.Y8G("disabled",i.isSave),t.R7$(),t.FS9("matTooltip",t.bMT(2,2,"lang_auto_xoa"))}}function Ph(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.DNE(7,Ah,3,4,"button",26),t.k0s(),t.j41(8,"textarea",27),t.bIt("change",function(){const o=t.eBV(i).$implicit;return t.Njj(o.controls.isEdited.setValue(!0))}),t.k0s()()()}if(2&e){const i=a.$implicit,n=t.XpG(3);t.R7$(),t.Y8G("formGroup",i),t.R7$(3),t.Lme("",t.bMT(5,4,"lang_student_add_comment_date"),": ",t.bMT(6,6,i.controls.updatedAt.value),""),t.R7$(3),t.Y8G("ngIf",n.isEdit)}}function Yh(e,a){if(1&e&&(t.j41(0,"div",20),t.DNE(1,Ph,9,8,"div",21),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",null==i.data.student.listCommentControl?null:i.data.student.listCommentControl.controls)}}function Vh(e,a){if(1&e&&t.DNE(0,Lh,3,3,"div",18)(1,Yh,2,1,"ng-template",null,1,t.C5r),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngIf",!n.data.student.assessments||!n.data.student.assessments.length)("ngIfElse",i)}}let Bh=(()=>{var e;class a extends pt._{filterData(n){this.dataFilter=n,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(o=>o.controls.isEdited.value&&!o.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let n=this.data.student.listCommentControl?.controls.filter(s=>s.controls.isEdited.value).map(s=>({id:s.controls.id.value,studentId:this.data.student.id,comment:s.controls.comment.value}))??[];if(!n.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:n}).subscribe(s=>{s.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(n){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(n).subscribe(o=>{o.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(n){this.isEdit=n,this.data.student.listCommentControl?.controls.map(o=>n?o.enable():o.disable())}getStudent(n){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0})).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);if(!s.data?.list.length)return this.stopStatusObj();var r=s.data.list[0];let l=this.sAztAssessmentStudentService.getLastAssessmentStudent(r);this.data.student={...r,commentControl:new c.gE({id:new c.MJ(0,{nonNullable:!0}),updatedAt:new c.MJ(l?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new c.MJ(l?.comment??"",{nonNullable:!0}),isEdited:new c.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(r.assessments,n)},this.stopStatusObj()}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(n,o,s,r,l,m,_){super(_,m),this.sAztAssessmentStudentService=n,this.sAztTimeService=o,this.shareFileFlutterService=s,this.exportExcelService=r,this.studentService=l,this.dialogRef=m,this.data=_,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,t.WQX)(an.R)}ngOnDestroy(){super.ngOnDestroy()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ss),t.rXU(V.F),t.rXU(Ni.R),t.rXU(Gi.x),t.rXU($i.b),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-student-comments"]],standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,te.ij]},{provide:Y.vq,useFactory:Wt.fJ,deps:[V.F]}]),t.Vt3,t.aNF],decls:15,vars:19,consts:[["doneLoading",""],["hasData",""],[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"click","matTooltip","ngClass"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"click","disabled"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2","items-center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","trash-2","size","16",3,"matTooltip"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"azt-student-info-box",5),t.j41(4,"div",6)(5,"lucide-icon",7),t.nI1(6,"mytranslate"),t.bIt("click",function(){return t.eBV(s),t.Njj(o.closeDialog())}),t.k0s()()(),t.j41(7,"div",8),t.DNE(8,Nh,3,3,"button",9)(9,Gh,3,4,"button",10)(10,$h,3,4,"button",11),t.k0s()(),t.j41(11,"azt-mat-dialog-content"),t.DNE(12,zh,3,0,"div",12)(13,Vh,3,2,"ng-template",null,0,t.C5r),t.k0s()()}if(2&n){const s=t.sdS(14);t.R7$(3),t.Y8G("name",o.data.student.fullName)("parentFullName",o.data.student.parentFullName)("parentId",o.data.student.parentId)("parentPhone",o.data.student.parentPhone)("phone",o.data.student.phone)("email",o.data.student.email)("avatar",o.data.student.avatar)("gender",o.data.student.gender)("hasUser",o.data.student.hasUser),t.R7$(2),t.FS9("matTooltip",t.bMT(6,16,"lang_auto_dong")),t.Y8G("ngClass",t.lJ4(18,Mh)),t.R7$(3),t.Y8G("ngIf",!o.isEdit&&o.data.isTeacher),t.R7$(),t.Y8G("ngIf",o.isEdit),t.R7$(),t.Y8G("ngIf",o.isEdit),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[we.B,kt.U,N.R,d.MD,d.YU,d.Sq,d.bT,c.X1,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,h.vv,C.Id,y.k,He.t],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),a})();const Xh=e=>({"text-primary stroke-width-2.5":e}),Uh=e=>({"text-primary stroke-width-2.5":e,"-mt-2":!0});function Hh(e,a){1&e&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Jh(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"azt-search-box",13),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.onSearchBox(o.searchObj))}),t.k0s()()()}2&e&&(t.R7$(2),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function qh(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",15),2&e){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function Wh(e,a){if(1&e&&(t.j41(0,"div",25),t.nrm(1,"lucide-icon",26)(2,"lucide-icon",27),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(3);t.R7$(),t.Y8G("ngClass",t.eq3(2,Xh,i.typeFieldSort===n.typeFieldSort.asc)),t.R7$(),t.Y8G("ngClass",t.eq3(4,Uh,i.typeFieldSort===n.typeFieldSort.desc))}}function Zh(e,a){if(1&e){const i=t.RV6();t.j41(0,"th",22)(1,"div",23),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(3);return t.Njj(s.sortTableByFieldName(o))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Wh,3,6,"div",24),t.k0s()()}if(2&e){const i=a.$implicit;t.R7$(),t.Aen(i.customStyle),t.HbH(i.customClassCss),t.R7$(),t.SpI(" ",t.bMT(3,6,i.key)," "),t.R7$(2),t.Y8G("ngIf",!i.ignore)}}function Kh(e,a){if(1&e){const i=t.RV6();t.j41(0,"tr",28)(1,"td"),t.nrm(2,"azt-student-info-box",29),t.k0s(),t.j41(3,"td",30),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",30),t.EFF(7),t.nI1(8,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(9,"td",30)(10,"div",31),t.nrm(11,"textarea",32),t.nI1(12,"mytranslate"),t.j41(13,"span",33,1),t.nI1(15,"mytranslate"),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(3);return t.Njj(s.showAllComment(o))}),t.nrm(16,"lucide-icon",34),t.k0s()()()()}if(2&e){const i=a.$implicit,n=t.sdS(14),o=t.XpG(3);t.Y8G("id","row_student_"+i.id),t.R7$(2),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("phone",i.phone)("parentPhone",i.parentPhone)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt)("identificationNumber",i.identificationNumber),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,22,i.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.JRh(t.bMT(8,25,null!=i.assessments&&i.assessments[0]?null==i.assessments||null==i.assessments[0]?null:i.assessments[0].createdAt:"")),t.R7$(4),t.FS9("placeholder",t.bMT(12,27,"lang_azt_enter_comment")),t.Y8G("id","assessment_content_"+i.id)("disabled",!0)("value",i.lastAssessmentComment),t.R7$(2),t.FS9("matTooltip",t.bMT(15,29,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled)}}function Qh(e,a){if(1&e){const i=t.RV6();t.j41(0,"azt-paging",38),t.bIt("goToPaginationPage",function(o){t.eBV(i);const s=t.XpG(4);return t.Njj(s.setPageStudent(o))}),t.k0s()}if(2&e){const i=t.XpG(4);t.Y8G("pageObj",i.pageObj)}}function tf(e,a){if(1&e&&(t.j41(0,"div",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG(4);t.R7$(),t.Lme("",i.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function ef(e,a){if(1&e&&(t.j41(0,"div",35),t.nrm(1,"div"),t.DNE(2,Qh,1,1,"azt-paging",36)(3,tf,3,4,"div",37),t.k0s()),2&e){const i=t.XpG(3);t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!i.isStudent)}}function nf(e,a){if(1&e&&(t.j41(0,"div",16)(1,"drag-scroll")(2,"table",17)(3,"thead")(4,"tr",18),t.DNE(5,Zh,5,8,"th",19),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,Kh,17,31,"tr",20),t.k0s()()()(),t.DNE(8,ef,4,2,"div",21)),2&e){const i=t.XpG(2);t.R7$(5),t.Y8G("ngForOf",i.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",i.listStudent),t.R7$(),t.Y8G("ngIf",i.listStudent&&i.totalStudent&&i.totalStudent>0)}}function of(e,a){if(1&e&&(t.j41(0,"div",5),t.DNE(1,qh,1,1,"azt-loading-effect",14)(2,nf,9,3,"ng-template",null,0,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG();t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",i)}}function af(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",15),2&e){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function sf(e,a){1&e&&(t.j41(0,"div",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_no_comments_yet")," "))}function rf(e,a){if(1&e&&(t.j41(0,"div",44)(1,"div",45)(2,"p",46),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.nrm(6,"div",47),t.nI1(7,"safeNormalHtmlContent"),t.k0s()),2&e){const i=a.$implicit;t.R7$(3),t.Lme("",t.bMT(4,3,"lang_student_add_comment_date"),": ",t.bMT(5,5,i.updatedAt),""),t.R7$(3),t.Y8G("innerHTML",t.bMT(7,7,i.comment),t.npT)}}function lf(e,a){if(1&e&&(t.j41(0,"div",42),t.DNE(1,rf,8,9,"div",43),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",null==i.firstStudent?null:i.firstStudent.assessments)}}function cf(e,a){if(1&e&&t.DNE(0,sf,3,3,"div",40)(1,lf,2,1,"ng-template",null,3,t.C5r),2&e){const i=t.sdS(2),n=t.XpG(2);t.Y8G("ngIf",!(null!=n.firstStudent&&n.firstStudent.assessments&&null!=n.firstStudent&&null!=n.firstStudent.assessments&&n.firstStudent.assessments.length))("ngIfElse",i)}}function mf(e,a){if(1&e&&(t.j41(0,"div",5),t.DNE(1,af,1,1,"azt-loading-effect",14)(2,cf,3,2,"ng-template",null,2,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG();t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",i)}}let df=(()=>{var e;class a extends j.H{onSearchBox(n){this.searchContentObj=n,this.getData()}showAllComment(n){this.sAztDialogService.open(Bh,{width:"700px",restoreFocus:!1,data:{student:n,isTeacher:!1}}).afterClosed().subscribe(o=>{o&&this.getData()})}setPageStudent(n){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+n),this.pageObj.setPageNumber(n),this.getData()}sortTableByFieldName(n){n.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(n),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.list.length&&(this.listStudent=[]),o.data?.list.forEach(s=>{let r=this.sAztAssessmentStudentService.getLastAssessmentStudent(s);this.listStudent.push({...s,commentControl:new c.gE({id:new c.MJ(0,{nonNullable:!0}),updatedAt:new c.MJ(r?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new c.MJ(r?.comment??"",{nonNullable:!0}),isEdited:new c.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(s.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=o.data?.total??0,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()}))}convertBreakLine(n){if(!n)return;const o=n.assessments?.map(s=>({...s,comment:s.comment?.replace(/\n/g,"<br/>")}));return{...n,assessments:o}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:vt.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:vt.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:vt.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:vt.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(n,o,s,r,l){super(),this.activeRoute=n,this.studentService=o,this.sAztDialogService=s,this.sAztAssessmentStudentService=r,this.sortTableByFieldNameService=l,this.classroomId=0,this.searchContentObj=new v.Z,this.pageObj=new Mi.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=vt}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX),t.rXU(G.b0),t.rXU(ot.i),t.rXU(ss),t.rXU(Mn))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Jv_([Mn]),t.Vt3,t.aNF],decls:9,vars:7,consts:[["doneLoading",""],["c","isDisabled"],["doneLoadingStudent",""],["hasData",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","phone","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(n,o){1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"h3",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Hh,3,3,"div",7),t.k0s(),t.DNE(6,Jh,4,4,"div",8)(7,of,4,2,"div",9)(8,mf,4,2,"div",9),t.k0s()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,5,"lang_azt_comments")),t.R7$(2),t.Y8G("ngIf",o.isMobileDevice&&o.listStudent.length>0&&!o.isStudent),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.isStudent))},dependencies:[En.f,P.AC,P.jd,P.Ew,R.W,X.K,we.B,Ri.q,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,h._y,h.Po,h.vv,C.Id,y.k],encapsulation:2}),a})();class Pi{static formGroupClassrooms(a){return void 0!==a.controls.find(o=>o.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}class Yi{static validateUserName(a){let s=a.value??"";return 0==s.length?null:/[a-zA-Z]/.test(s)&&/^[a-zA-Z0-9_-]+$/.test(s)?s.length<3&&s.length>0?{isShort:!0}:s.length>50?{isLong:!0}:null:{isLetter:!0}}}class rs{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}class _f{static isInvalidPassword(a){let n=a.value?.trim()??"";return n&&n.length<6?{isInvalidPassword:!0}:null}}class Vi{constructor(){this.form=new c.gE({fullName:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),gender:new c.MJ(0,{nonNullable:!0}),birthday:new c.MJ(void 0,{nonNullable:!0}),email:new c.MJ("",{nonNullable:!0,validators:[c.k0.email,c.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new c.MJ("",{nonNullable:!0,validators:[c.k0.pattern(/^[0-9\-]*$/),c.k0.minLength(10),c.k0.maxLength(10)]}),parentPhoneNumber:new c.MJ("",{nonNullable:!0,validators:[c.k0.pattern(/^[0-9\-]*$/),c.k0.minLength(10),c.k0.maxLength(10)]}),identificationNumber:new c.MJ("",{nonNullable:!0,validators:[c.k0.min(1),c.k0.maxLength(Fn.c.maxStudentCodeLength),c.k0.pattern("^[0-9]*$")]}),password:new c.MJ("",{nonNullable:!0,validators:[_f.isInvalidPassword]}),facebookLink:new c.MJ("",{nonNullable:!0}),school:new c.MJ("",{nonNullable:!0}),userName:new c.MJ("",{nonNullable:!0,validators:[Yi.validateUserName]})})}removeValidatePhoneWhenNotBusiness(a){a||this.form.controls.phoneNumber.removeValidators(c.k0.required)}}var ls=g(82601),cs=g(82765);function uf(e,a){1&e&&(t.j41(0,"div",7),t.nrm(1,"azt-loading-ui"),t.k0s())}function pf(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",11)(1,"mat-checkbox",12),t.mxI("ngModelChange",function(o){t.eBV(i);const s=t.XpG().$implicit;return t.DH7(s.selected,o)||(s.selected=o),t.Njj(o)}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG().$implicit;t.R7$(),t.R50("ngModel",i.selected),t.Y8G("checked",i.selected),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_core_thang")+" "+i.month+"/"+i.year," ")}}function gf(e,a){if(1&e&&(t.qex(0),t.DNE(1,pf,4,5,"div",10),t.bVm()),2&e){const i=a.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngIf",i.year==n.currentYearSelect)}}function hf(e,a){if(1&e&&(t.j41(0,"div",8),t.DNE(1,gf,2,1,"ng-container",9),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.checkboxMonth.checkboxMonth)}}let ff=(()=>{var e;class a extends j.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(n=>1==n.selected)}getHistoriesMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId)).subscribe(n=>{if(!n.success)return this.isSaving=!1,void this.errorStatusObj(n.message,!0);this.checkboxMonth.checkboxMonth.map(o=>o.selected=null!=n.data?.histories.find(s=>s.month==o.month&&o.year==s.year)),this.stopStatusObj()})))}ngOnInit(){super.ngOnInit(),this.getHistoriesMonth()}constructor(n,o,s){super(),this.sAztDialogService=n,this.sAztTimeService=o,this.paymentService=s,this.checkboxMonth=new rs,this.sendListMonth=new t.bkB,this.studentForm=new Vi,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i),t.rXU(V.F),t.rXU(ls.W))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,te.ij]},{provide:Y.vq,useFactory:Wt.fJ,deps:[V.F]}]),t.Vt3,t.aNF],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"valueChange","value"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModelChange","ngModel","checked"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.j41(6,"mat-form-field",2)(7,"mat-select",3),t.mxI("valueChange",function(r){return t.DH7(o.currentYearSelect,r)||(o.currentYearSelect=r),r}),t.j41(8,"mat-option",4)(9,"span"),t.EFF(10),t.k0s()(),t.j41(11,"mat-option",4)(12,"span"),t.EFF(13),t.k0s()(),t.j41(14,"mat-option",4)(15,"span"),t.EFF(16),t.k0s()()()()(),t.DNE(17,uf,2,0,"div",5)(18,hf,2,1,"div",6),t.k0s()),2&n&&(t.R7$(2),t.E5c(" ",t.bMT(3,12,"lang_test_market_withdraw_time")," ",t.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",t.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),t.R7$(5),t.R50("value",o.currentYearSelect),t.R7$(),t.Y8G("value",o.currentDate.getFullYear()-1),t.R7$(2),t.SpI(" ",o.currentDate.getFullYear()-1," "),t.R7$(),t.Y8G("value",o.currentDate.getFullYear()),t.R7$(2),t.SpI(" ",o.currentDate.getFullYear()," "),t.R7$(),t.Y8G("value",o.currentDate.getFullYear()+1),t.R7$(2),t.SpI(" ",o.currentDate.getFullYear()+1," "),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.Y8G("ngIf",!o.statusObj.loading))},dependencies:[N.R,d.MD,d.Sq,d.bT,c.X1,c.BC,b.iI,c.YN,c.vS,h.wp,S.s,at.wT,cs.So,nt.rl,At.VO,f.flO,x.L,C.Id,y.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),a})();var Bi=g(44039),bf=g(7157),vf=g(92473),ms=function(e){return e.Default="DEFAULT",e.ADD_STUDENT="ADD_STUDENT",e}(ms||{}),kf=g(5717);function Tf(e,a){1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function Cf(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function xf(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function yf(e,a){if(1&e&&(t.j41(0,"div",25),t.DNE(1,Cf,3,3,"span",26)(2,xf,3,3,"span",26),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",i.studentForm.form.controls.identificationNumber.errors.min),t.R7$(),t.Y8G("ngIf",i.studentForm.form.controls.identificationNumber.errors.maxlength||i.studentForm.form.controls.identificationNumber.errors.pattern)}}function Sf(e,a){if(1&e&&(t.j41(0,"div",2),t.nrm(1,"input",23),t.nI1(2,"mytranslate"),t.DNE(3,yf,3,2,"div",24),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(2,2,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngIf",i.studentForm.form.controls.identificationNumber.errors&&(i.studentForm.form.controls.identificationNumber.dirty||i.studentForm.form.controls.identificationNumber.touched))}}function If(e,a){1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function jf(e,a){1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Of(e,a){1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function wf(e,a){if(1&e&&(t.j41(0,"div",2),t.nrm(1,"input",27),t.nI1(2,"mytranslate"),t.DNE(3,Of,3,3,"div",4),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(2,2,"lang_parent_number_phone")),t.R7$(2),t.Y8G("ngIf",i.studentForm.form.controls.parentPhoneNumber.errors)}}function Ff(e,a){1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_invalid_email")," "))}function Ef(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function Df(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function Rf(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function Mf(e,a){if(1&e&&(t.j41(0,"div",22),t.DNE(1,Ef,3,3,"span",26)(2,Df,3,3,"span",26)(3,Rf,3,3,"span",26),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==i.studentForm.form.controls.userName||null==i.studentForm.form.controls.userName.errors?null:i.studentForm.form.controls.userName.errors.isShort),t.R7$(),t.Y8G("ngIf",null==i.studentForm.form.controls.userName||null==i.studentForm.form.controls.userName.errors?null:i.studentForm.form.controls.userName.errors.isLong),t.R7$(),t.Y8G("ngIf",null==i.studentForm.form.controls.userName||null==i.studentForm.form.controls.userName.errors?null:i.studentForm.form.controls.userName.errors.isLetter)}}function Nf(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",2)(1,"azt-check-vip-account",28),t.bIt("closeDialog",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.handleCloseCheckVip(o))}),t.nrm(2,"input",29),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Mf,4,3,"div",4),t.k0s()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("vipPackageType","VIP_FOR_TEACHER")("isShowBadgeVip",!i.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_ENTER_USERNAME"),t.R7$(),t.FS9("placeholder",t.bMT(3,6,"lang_auto_nhap_ten_dang_ky")),t.R7$(2),t.Y8G("ngIf",null==i.studentForm.form.controls.userName?null:i.studentForm.form.controls.userName.errors)}}function Gf(e,a){1&e&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_azt_note_not_enter_password_one"),""))}function $f(e,a){1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function zf(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",2)(1,"div",30),t.nrm(2,"input",31),t.nI1(3,"mytranslate"),t.j41(4,"button",32),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.togglePassword())}),t.nrm(5,"lucide-icon",33),t.k0s()(),t.DNE(6,Gf,3,3,"div",34)(7,$f,3,3,"div",4),t.k0s()}if(2&e){const i=t.XpG();t.R7$(2),t.FS9("placeholder",t.bMT(3,5,"lang_auto_mat_khau")),t.Y8G("type",i.showPassword?"text":"password"),t.R7$(3),t.FS9("name",i.showPassword?"eye":"eye-off"),t.R7$(),t.Y8G("ngIf",!i.isAddParent),t.R7$(),t.Y8G("ngIf",i.studentForm.form.controls.password.errors)}}function Lf(e,a){1&e&&(t.j41(0,"div",2),t.nrm(1,"input",36),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function Af(e,a){1&e&&(t.j41(0,"div",2),t.nrm(1,"input",37),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.FS9("placeholder",t.bMT(2,1,"lang_core_nhap_link_facebook")))}let ds=(()=>{var e;class a extends j.H{togglePassword(){this.showPassword=!this.showPassword}handleCloseCheckVip(n){this.studentForm.form.controls.userName?.reset(),this.studentForm.form.controls.userName?.disable(),this.studentForm.form.controls.userName?.enable(),n&&this.closeDialog.emit(n)}ngOnInit(){super.ngOnInit(),this.isFamilyMartDomain=this.commonService.isFamilyMart(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain),this.initStatusObj(),this.checkVipAccountService.getVipInfo(Bi.W5.VIPFORTEACHER,!0,void 0).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message);this.isVipAccount=n.data?.vipSubscriptionObj?.isVipTeacher??!1,this.successStatusObj()})}constructor(n){super(),this.checkVipAccountService=n,this.hasUser=!1,this.modeView=ms.Default,this.isAddParent=!1,this.closeDialog=new t.bkB,this.showPassword=!1,this.maxDate=Fn.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006"),this.isVipAccount=!1,this.isFamilyMartDomain=!1}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(kf.K))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",modeView:"modeView",isAddParent:"isAddParent"},outputs:{closeDialog:"closeDialog"},standalone:!0,features:[t.Vt3,t.aNF],decls:47,vars:39,consts:[["birthDay",""],[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime","startAt"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],["id","parentPhoneNumber","formControlName","parentPhoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],[3,"closeDialog","vipPackageType","isShowBadgeVip","isAction","trackingKey"],["id","username","formControlName","userName","autocomplete","new-phone","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","50%","right","5px","border","none","background","transparent","z-index","99","transform","translate(0, -50%)",3,"click"],["size","16",3,"name"],["class","text-xs mt-1 text-warning",4,"ngIf"],[1,"text-xs","mt-1","text-warning"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"form",1)(1,"div",2),t.nrm(2,"input",3),t.nI1(3,"mytranslate"),t.DNE(4,Tf,3,3,"div",4),t.k0s(),t.DNE(5,Sf,4,4,"div",5),t.j41(6,"div",2)(7,"div",6)(8,"label",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",8)(12,"div",9),t.nrm(13,"input",10),t.j41(14,"label",11),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",9),t.nrm(18,"input",12),t.j41(19,"label",13),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()(),t.j41(22,"div",2)(23,"mat-form-field",14)(24,"input",15),t.nI1(25,"mytranslate"),t.bIt("click",function(){t.eBV(s);const l=t.sdS(29);return t.Njj(l.open())}),t.k0s(),t.j41(26,"button",16),t.bIt("click",function(l){return t.eBV(s),t.sdS(29).open(),t.Njj(l.stopPropagation())}),t.nrm(27,"lucide-icon",17),t.k0s(),t.j41(28,"ngx-mat-datetime-picker",18,0)(30,"ngx-mat-datepicker-actions")(31,"button",19),t.EFF(32,"OK"),t.k0s()()()(),t.DNE(33,If,3,3,"div",4),t.k0s(),t.j41(34,"div",2),t.nrm(35,"input",20),t.nI1(36,"mytranslate"),t.DNE(37,jf,3,3,"div",4),t.k0s(),t.DNE(38,wf,4,4,"div",5),t.j41(39,"div",2),t.nrm(40,"input",21),t.nI1(41,"mytranslate"),t.DNE(42,Ff,3,3,"div",4),t.k0s(),t.DNE(43,Nf,5,8,"div",5)(44,zf,8,7,"div",5)(45,Lf,3,3,"div",5)(46,Af,3,3,"div",5),t.k0s()}if(2&n){let s;const r=t.sdS(29);t.Y8G("formGroup",o.studentForm.form),t.R7$(2),t.FS9("placeholder",t.bMT(3,25,"lang_auto_nhap_ho_va_ten")),t.R7$(2),t.Y8G("ngIf",o.studentForm.form.controls.fullName.errors),t.R7$(),t.Y8G("ngIf",o.studentForm.form.controls.identificationNumber&&!o.isAddParent),t.R7$(4),t.SpI(" ",t.bMT(10,27,"lang_auto_gioi_tinh")," "),t.R7$(4),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(16,29,"lang_auto_nam")," "),t.R7$(3),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(21,31,"lang_auto_nu")," "),t.R7$(4),t.FS9("placeholder",t.bMT(25,33,"lang_auto_ngay_sinh")),t.Y8G("max",o.maxDate)("ngxMatDatetimePicker",r),t.R7$(4),t.Y8G("touchUi",!0)("hideTime",!0)("startAt",null!==(s=null==o.studentForm.form.controls.birthday?null:o.studentForm.form.controls.birthday.value)&&void 0!==s?s:o.startAtTime),t.R7$(5),t.Y8G("ngIf",null==o.studentForm.form.controls.birthday?null:o.studentForm.form.controls.birthday.errors),t.R7$(2),t.FS9("placeholder",t.bMT(36,35,"lang_number_phone")),t.R7$(2),t.Y8G("ngIf",o.studentForm.form.controls.phoneNumber.errors),t.R7$(),t.Y8G("ngIf",!o.isTqbDomain&&!o.isFamilyMartDomain),t.R7$(2),t.FS9("placeholder",t.bMT(41,37,"lang_auto_nhap_email")),t.R7$(2),t.Y8G("ngIf",o.studentForm.form.controls.email.errors),t.R7$(),t.Y8G("ngIf",!o.isAddParent&&(o.isVipAccount||o.isBusinessDomain&&!o.isTqbDomain)),t.R7$(),t.Y8G("ngIf",o.studentForm.form.controls.password&&!o.hasUser&&(o.isVipAccount||o.isBusinessDomain)),t.R7$(),t.Y8G("ngIf",o.isBusinessDomain&&!o.isAddParent),t.R7$(),t.Y8G("ngIf",o.isBusinessDomain&&!o.isAddParent)}},dependencies:[vf.F,d.MD,d.bT,c.X1,c.qT,c.me,c.Fm,c.BC,c.cb,c.j4,c.JD,b.iI,c.YN,h.wp,S.s,bt.$z,Gt.fg,nt.rl,nt.yw,Y.m7,Y.yF,Y.HF,Y.Uq,f.flO,f.WGl,x.L,C.Id,bf.Z,y.k,He.t],encapsulation:2}),a})();var Pf=g(93371);const _s=()=>({"text-danger":!0});function Yf(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",7),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Vf(e,a){1&e&&(t.j41(0,"div",21),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function Bf(e,a){if(1&e&&(t.j41(0,"mat-option",34),t.EFF(1),t.k0s()),2&e){const i=a.$implicit,n=t.XpG(3);t.Y8G("value",i.id)("disabled",n.isSelectClassroom(i.id)),t.R7$(),t.SpI(" ",i.name," ")}}function Xf(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",35),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.removeClassroom(o))}),t.nrm(2,"lucide-icon",36),t.k0s()}2&e&&(t.FS9("matTooltip",t.bMT(1,2,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngClass",t.lJ4(4,_s)))}function Uf(e,a){1&e&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function Hf(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",38)(1,"mat-checkbox",39),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",40),t.nI1(5,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.removeClassroom(o))}),t.nrm(6,"lucide-icon",36),t.k0s()()}if(2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("checked",i.controls.isTryLearning.value),t.R7$(),t.SpI(" ",t.bMT(3,4,"lang_core_hoc_thu")," "),t.R7$(2),t.FS9("matTooltip",t.bMT(5,6,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngClass",t.lJ4(8,_s))}}function Jf(e,a){if(1&e&&(t.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"div",14)(4,"div",25)(5,"mat-form-field",26)(6,"mat-select",27,1)(8,"mat-option"),t.nrm(9,"ngx-mat-select-search",28),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"mat-option",29),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.DNE(15,Bf,2,3,"mat-option",30),t.k0s()(),t.DNE(16,Xf,3,5,"button",31),t.k0s(),t.DNE(17,Uf,3,3,"div",32),t.k0s()(),t.DNE(18,Hf,7,9,"div",33),t.k0s()()),2&e){const i=a.$implicit,n=t.sdS(7),o=t.XpG(2);t.R7$(),t.Y8G("formGroup",i),t.R7$(5),t.Y8G("formControl",i.controls.classroomId),t.R7$(3),t.FS9("placeholderLabel",t.bMT(10,11,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(11,13,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("---",t.bMT(14,15,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),t.R7$(2),t.Y8G("ngForOf",n.filter(o.classroomOwner,"name")),t.R7$(),t.Y8G("ngIf",o.isSelectedMonth()),t.R7$(),t.Y8G("ngIf",i.controls.classroomId.errors),t.R7$(),t.Y8G("ngIf",!o.isSelectedMonth())}}function qf(e,a){if(1&e){const i=t.RV6();t.j41(0,"azt-mat-dialog-content")(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"azt-form-enter-info-student",12),t.bIt("closeDialog",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.dialogRef.close())}),t.k0s()(),t.j41(8,"div",13)(9,"div",14),t.nrm(10,"azt-checkbox-month",15),t.j41(11,"h3",16),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,Vf,3,3,"div",17)(15,Jf,19,17,"div",18),t.j41(16,"div",19)(17,"div",20),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.addClassroom())}),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()()()()()}if(2&e){const i=t.XpG();t.R7$(5),t.SpI(" ",t.bMT(6,9,"lang_auto_thong_tin_chung")," "),t.R7$(2),t.Y8G("studentForm",i.studentForm)("hasUser",!!i.data&&i.data.hasUser),t.R7$(3),t.Y8G("checkboxMonth",i.checkboxMonth)("histories",i.histories),t.R7$(2),t.SpI(" ",t.bMT(13,11,"lang_auto_lop_hoc")," "),t.R7$(2),t.Y8G("ngIf",0==i.formClassrooms.controls.length),t.R7$(),t.Y8G("ngForOf",i.formClassrooms.controls),t.R7$(3),t.SpI("+ ",t.bMT(19,13,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let Wf=(()=>{var e;class a extends pt._{removeClassroom(n){let o=this.formClassrooms.controls.filter(s=>s!=n);this.formClassrooms=new c.Yp(o)}addClassroom(){let n=this.formClassrooms.controls;n.push(new c.gE({classroomId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.min(1)]}),isTryLearning:new c.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new c.Yp(n,{validators:[Pi.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(n){return null!=this.formClassrooms.controls.find(o=>o.controls.classroomId.value==n)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(n=>1==n.selected)}saveData(){var n=this.studentForm.form.getRawValue(),o=[],s=[];this.checkboxMonth.checkboxMonth.filter(l=>1==l.selected).forEach(l=>{s.push({month:l.month,year:l.year})}),this.formClassrooms.controls.forEach(l=>{o.push({classroomId:l.controls.classroomId.value,trialLearning:!(s.length>0)&&l.controls.isTryLearning.value})}),this.isSaving=!0;var r={id:this.data?this.data.id:void 0,fullName:n.fullName,gender:n.gender,phone:n.phoneNumber,email:n.email,userName:n.userName,birthday:n.birthday?this.timeService.formatDateTimeToPostToServer(new Date(n.birthday).toDateString()):void 0,password:n.password,classrooms:o,attachPayments:s,schoolName:n.school,facebookLink:n.facebookLink,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0};this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentPost(r)).subscribe(l=>{if(this.isSaving=!1,!l.success)return this.errorStatusObj(l.message,!0);this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)}))}getClassroomName(n){var o=this.classroomOwner.filter(s=>n==s.id)??[];return o.length>0?o[0].name:""}getHistories(){if(!this.data)return this.stopStatusObj();this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.data.id)).subscribe(n=>{if(this.isSaving=!1,!n.success)return this.errorStatusObj(n.message,!0);this.histories=n.data?.histories??[],this.checkboxMonth.checkboxMonth.map(s=>s.selected=null!=this.histories.find(r=>r.month==s.month&&s.year==r.year));var o=[];n.data?.classrooms.forEach(s=>{o.push(new c.gE({classroomId:new c.MJ(s.classroomId,{nonNullable:!0,validators:[c.k0.min(1)]}),isTryLearning:new c.MJ(s.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new c.Yp(o,{validators:[Pi.formGroupClassrooms]}),this.stopStatusObj()}))}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0),void this.stopStatusObj();this.classroomOwner=n.data?.objs??[],this.getHistories()}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(n,o,s,r,l,m,_){super(_,m),this.classroomGroupService=n,this.sAztDialogService=o,this.sAztTimeService=s,this.timeService=r,this.paymentService=l,this.dialogRef=m,this.data=_,this.histories=[],this.checkboxMonth=new rs,this.studentForm=new Vi,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,_&&(this.checkboxMonth.studentId=this.data.id,_.hasUser?this.studentForm.form=new c.gE({fullName:new c.MJ(_.fullName??"",{nonNullable:!0,validators:[c.k0.required]}),gender:new c.MJ(_.gender??0,{nonNullable:!0}),birthday:new c.MJ(_.birthday,{nonNullable:!0}),email:new c.MJ(_.email??"",{nonNullable:!0,validators:[c.k0.email,c.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new c.MJ(_.phone??"",{nonNullable:!0,validators:[c.k0.pattern(/^[0-9\-]*$/),c.k0.minLength(10),c.k0.maxLength(10)]}),parentPhoneNumber:new c.MJ(_.phone??"",{nonNullable:!0,validators:[c.k0.pattern(/^[0-9\-]*$/),c.k0.minLength(10),c.k0.maxLength(10)]}),identificationNumber:new c.MJ(_.identificationNumber?_.identificationNumber.toString():"",{nonNullable:!0,validators:[c.k0.min(1),c.k0.maxLength(this.myEnvironment.maxStudentCodeLength),c.k0.pattern("^[0-9]*$")]}),facebookLink:new c.MJ(_.facebookLink,{nonNullable:!0}),school:new c.MJ(_.schoolName,{nonNullable:!0}),userName:new c.MJ(_.parentUserName??"",{nonNullable:!0,validators:[Yi.validateUserName]})}):this.studentForm.form.setValue({fullName:_.fullName??"",gender:_.gender??0,birthday:_.birthday,email:_.email??"",phoneNumber:_.phone??"",parentPhoneNumber:_.parentPhone??"",identificationNumber:_.identificationNumber?_.identificationNumber.toString():"",facebookLink:_.facebookLink,school:_.schoolName,password:"",userName:_.parentUserName??""})),this.formClassrooms=new c.Yp([new c.gE({classroomId:new c.MJ(0,{nonNullable:!0,validators:[c.k0.min(1)]}),isTryLearning:new c.MJ(!1,{nonNullable:!0})})],{validators:[Pi.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Pf.kG),t.rXU(ot.i),t.rXU(V.F),t.rXU(V.F),t.rXU(ls.W),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-send-feedback"]],standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,te.ij]},{provide:Y.vq,useFactory:Wt.fJ,deps:[V.F]}]),t.Vt3,t.aNF],decls:11,vars:10,consts:[["doneLoading",""],["searchInListClassroomName","searchInList"],[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"click","disabled"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"click","disabled"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"closeDialog","studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["searchInList","","name","classroomId",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],[1,"btn-delete-room","ml-2",3,"click","matTooltip"],["name","trash-2","size","20",3,"ngClass"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],[1,"btn-delete-room",3,"click","matTooltip"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",2),t.DNE(1,Yf,1,1,"azt-loading-effect",3)(2,qf,20,15,"ng-template",null,0,t.C5r),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(s),t.Njj(o.dialogRef.close())}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return t.eBV(s),t.Njj(o.saveData())}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()}if(2&n){const s=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s),t.R7$(4),t.Y8G("disabled",o.isSaving),t.R7$(),t.JRh(t.bMT(7,6,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",!o.isSaving&&(o.formClassrooms.invalid||o.studentForm.form.invalid)||0==o.formClassrooms.controls.length),t.R7$(),t.SpI(" ",t.bMT(10,8,"lang_button_save")," ")}},dependencies:[Xt.An,Xt.U9,wn.x,X.K,kt.U,ds,ff,d.MD,d.YU,d.Sq,d.bT,c.X1,c.qT,c.BC,c.cb,c.l_,c.j4,c.JD,b.iI,c.YN,h.wp,S.s,at.wT,cs.So,nt.rl,At.VO,et.oV,f.flO,f.WGl,x.L,C.Id,y.k,He.t],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),a})();const us=()=>[],Zf=e=>({"text-primary stroke-width-2.5":e}),Kf=e=>({"text-primary stroke-width-2.5":e,"-mt-2":!0});function Qf(e,a){1&e&&(t.j41(0,"div",7),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function tb(e,a){if(1&e&&(t.j41(0,"div",13),t.nrm(1,"azt-loading-effect",14),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("currentStatusObj",i.statusObj)}}function eb(e,a){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function nb(e,a){if(1&e&&(t.j41(0,"div",29),t.nrm(1,"lucide-icon",30)(2,"lucide-icon",31),t.k0s()),2&e){const i=t.XpG().$implicit,n=t.XpG(5);t.R7$(),t.Y8G("ngClass",t.eq3(2,Zf,i.typeFieldSort===n.typeFieldSort.asc)),t.R7$(),t.Y8G("ngClass",t.eq3(4,Kf,i.typeFieldSort===n.typeFieldSort.desc))}}function ib(e,a){if(1&e){const i=t.RV6();t.j41(0,"th",26)(1,"div",27),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(5);return t.Njj(s.sortTableByFieldName(o))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,nb,3,6,"div",28),t.k0s()()}if(2&e){const i=a.$implicit;t.R7$(),t.Aen(i.customStyle),t.HbH(i.customClassCss),t.R7$(),t.SpI(" ",t.bMT(3,6,i.key)," "),t.R7$(2),t.Y8G("ngIf",!i.ignore)}}function ob(e,a){1&e&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function ab(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,ob,2,0,"span",5),t.EFF(3),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.lastMonthPaid," "),t.R7$(),t.Y8G("ngIf",i.lastMonthPaid),t.R7$(),t.SpI(" ",i.lastYearPaid," ")}}function sb(e,a){1&e&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function rb(e,a){if(1&e){const i=t.RV6();t.j41(0,"tr")(1,"td",32),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(5);return t.Njj(s.addOrEditTuitionFee(o))}),t.nrm(2,"azt-student-info-box",33),t.k0s(),t.j41(3,"td",34),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",35),t.EFF(7),t.k0s(),t.j41(8,"td",36),t.DNE(9,ab,4,3,"span",5)(10,sb,3,3,"span",37),t.k0s()()}if(2&e){let i;const n=a.$implicit,o=t.XpG(5);t.R7$(2),t.Y8G("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("schoolName",n.schoolName)("hasUser",n.hasUser)("classrooms",n.classrooms)("joinedAt",n.joinedAt)("phone",n.phone)("identificationNumber",n.identificationNumber),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,13,n.identificationNumber,o.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.SpI(" ",null!==(i=null==n.classroom?null:n.classroom.name)&&void 0!==i?i:""," "),t.R7$(2),t.Y8G("ngIf",!n.isTrial),t.R7$(),t.Y8G("ngIf",n.isTrial)}}function lb(e,a){if(1&e&&(t.j41(0,"div")(1,"div",21)(2,"drag-scroll")(3,"table",22)(4,"thead")(5,"tr",23),t.DNE(6,ib,5,8,"th",24),t.k0s()(),t.j41(7,"tbody"),t.DNE(8,rb,11,16,"tr",25),t.k0s()()()()()),2&e){let i;const n=t.XpG(4);t.R7$(6),t.Y8G("ngForOf",n.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",null!==(i=null==n.listPayment?null:n.listPayment.list)&&void 0!==i?i:t.lJ4(2,us))}}function cb(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",39),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",40),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.goBack())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function mb(e,a){if(1&e&&(t.j41(0,"div",17),t.DNE(1,eb,3,3,"div",18)(2,lb,9,3,"div",5)(3,cb,6,6,"div",19),t.k0s()),2&e){let i,n;const o=t.XpG(3);t.R7$(),t.Y8G("ngIf",!o.searchContentObj.isLoading&&0==(null==o.listPayment?null:o.listPayment.total)&&""==o.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",(null!==(i=null==o.listPayment?null:o.listPayment.total)&&void 0!==i?i:0)>0),t.R7$(),t.Y8G("ngIf",!o.searchContentObj.isLoading&&0==(null!==(n=null==o.listPayment?null:o.listPayment.list)&&void 0!==n?n:t.lJ4(3,us)).length&&""!=o.searchContentObj.searchContent)}}function db(e,a){if(1&e){const i=t.RV6();t.j41(0,"azt-paging",44),t.bIt("goToPaginationPage",function(o){t.eBV(i);const s=t.XpG(4);return t.Njj(s.setPageStudent(o))}),t.k0s()}if(2&e){const i=t.XpG(4);t.Y8G("pageObj",i.pageObj)}}function _b(e,a){if(1&e&&(t.j41(0,"div",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG(4);t.R7$(),t.Lme("",i.listPayment.total," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function ub(e,a){if(1&e&&(t.j41(0,"div",41),t.nrm(1,"div"),t.DNE(2,db,1,1,"azt-paging",42)(3,_b,3,4,"div",43),t.k0s()),2&e){const i=t.XpG(3);t.R7$(2),t.Y8G("ngIf",i.listPayment.total>i.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!i.isStudent)}}function pb(e,a){if(1&e&&t.DNE(0,mb,4,4,"div",15)(1,ub,4,2,"div",16),2&e){let i;const n=t.XpG(2);t.Y8G("ngIf",!n.isStudent),t.R7$(),t.Y8G("ngIf",n.listPayment&&n.listPayment.total&&(null!==(i=null==n.listPayment?null:n.listPayment.total)&&void 0!==i?i:0)>0)}}function gb(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"azt-search-box",11),t.nI1(5,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.onSearchBox(o.searchObj))}),t.k0s()()()(),t.DNE(6,tb,2,1,"div",12)(7,pb,2,2,"ng-template",null,0,t.C5r),t.bVm()}if(2&e){const i=t.sdS(8),n=t.XpG();t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",n.searchContentObj),t.R7$(2),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",i)}}function hb(e,a){1&e&&(t.j41(0,"div",46),t.nrm(1,"detail-tuition-fee-student"),t.k0s())}let fb=(()=>{var e;class a extends j.H{onSearchBox(n){this.searchContentObj=n,this.getData()}addOrEditTuitionFee(n){this.sAztDialogService.open(Wf,{width:"900px",restoreFocus:!1,data:n}).afterClosed().subscribe(o=>{o&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent("EMIT_EVENT")}sortTableByFieldName(n){n.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(n),this.getData())}setPageStudent(n){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+n),this.pageObj.setPageNumber(n),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.listPayment=o.data,this.pageObj.setTotalPages(o.data?.total??0),this.successStatusObj()}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:vt.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:vt.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:vt.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:vt.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(n,o,s,r){super(),this.activeRoute=n,this.sAztDialogService=o,this.studentService=s,this.sortTableByFieldNameService=r,this.pageStudent=1,this.searchContentObj=new v.Z,this.classroomId=0,this.pageObj=new Mi.d(50),this.typeFieldSort=vt}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX),t.rXU(ot.i),t.rXU(G.b0),t.rXU(Mn))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Jv_([Mn]),t.Vt3,t.aNF],decls:8,vars:6,consts:[["doneLoading",""],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(n,o){1&n&&(t.j41(0,"div",1)(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Qf,3,3,"div",4),t.k0s(),t.DNE(6,gb,9,7,"ng-container",5)(7,hb,2,0,"div",6),t.k0s()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,4,o.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),t.R7$(2),t.Y8G("ngIf",(o.isMobileDevice||o.isMobileWebView)&&!o.isStudent),t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.isStudent))},dependencies:[P.AC,P.jd,P.Ew,R.W,X.K,we.B,Ri.q,os,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,h.Po,C.Id,y.k],encapsulation:2}),a})();var ps=g(58850);const bb=e=>({cursor:e}),vb=(e,a,i)=>({"p-5 bg-primary text-white":e,"p-3":a,"border border-primary p-4 border-w-2":i}),kb=e=>({"text-base":e}),gs=e=>({"text-white":e});function Tb(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Cb(e,a){if(1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG(),n=i.$implicit;t.Y8G("ngClass",t.eq3(4,gs,0===i.index)),t.R7$(),t.JRh(n.averageMark+" "+t.bMT(2,2,"lang_auto_diem"))}}function xb(e,a){if(1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG();t.Y8G("ngClass",t.eq3(4,gs,0===i.index&&i.$implicit.averageMark)),t.R7$(),t.JRh(t.bMT(2,2,"lang_not_data"))}}function yb(e,a){1&e&&(t.j41(0,"div",23),t.nrm(1,"azt-svg-icon",24),t.k0s()),2&e&&(t.R7$(),t.Y8G("size",40))}function Sb(e,a){1&e&&(t.j41(0,"div",25),t.nrm(1,"azt-svg-icon",26),t.k0s()),2&e&&(t.R7$(),t.Y8G("size",40))}function Ib(e,a){1&e&&(t.j41(0,"div",27),t.nrm(1,"azt-svg-icon",28),t.k0s()),2&e&&(t.R7$(),t.Y8G("size",40))}function jb(e,a){if(1&e&&(t.j41(0,"div",29)(1,"div",30),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",31),t.EFF(5),t.k0s()()),2&e){const i=t.XpG().index,n=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_azt_final_score_ranking")+" "+(i+1)+"/"+n.dataStudent.total," "),t.R7$(3),t.JRh(n.commentByRanking)}}function Ob(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",8),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(3);return t.Njj(s.goToProfile(o.classroomId,o.id))}),t.j41(2,"div",9)(3,"span",10),t.EFF(4),t.k0s()(),t.j41(5,"div",11)(6,"div",12),t.nrm(7,"azt-create-avatar",13),t.k0s(),t.j41(8,"div",14)(9,"div",15),t.EFF(10),t.k0s(),t.DNE(11,Cb,3,6,"div",16)(12,xb,3,6,"div",16),t.k0s()(),t.j41(13,"div",17),t.DNE(14,yb,2,1,"div",18)(15,Sb,2,1,"div",19)(16,Ib,2,1,"div",20),t.k0s()(),t.DNE(17,jb,6,4,"div",21),t.bVm()}if(2&e){const i=a.$implicit,n=a.index,o=t.XpG(3);t.R7$(),t.Y8G("ngStyle",t.eq3(15,bb,o.isStudent?"default":"pointer"))("ngClass",t.sMw(17,vb,0===n&&i.averageMark,0!==n||!i.averageMark,(2===n||1===n)&&i.averageMark))("hidden",!(!o.isTqbDomain||!o.isStudent)&&i.parentId!=o.curUserId),t.R7$(3),t.JRh(n+1),t.R7$(3),t.Y8G("linkAvatar",i.avatar)("nameCreateAvatar",i.fullName)("size",0===n?48:44),t.R7$(2),t.Y8G("ngClass",t.eq3(21,kb,0===n)),t.R7$(),t.JRh(i.fullName),t.R7$(),t.Y8G("ngIf",i.averageMark),t.R7$(),t.Y8G("ngIf",!i.averageMark),t.R7$(2),t.Y8G("ngIf",0===n&&i.averageMark),t.R7$(),t.Y8G("ngIf",1===n&&i.averageMark),t.R7$(),t.Y8G("ngIf",2===n&&i.averageMark),t.R7$(),t.Y8G("ngIf",o.isTqbDomain&&o.isStudent&&i.parentId===o.curUserId)}}function wb(e,a){if(1&e&&(t.j41(0,"div",5)(1,"div",6),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ob,18,23,"ng-container",7),t.k0s()),2&e){const i=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_azt_leaderboard")," "),t.R7$(2),t.Y8G("ngForOf",i.dataStudent.list)}}function Fb(e,a){1&e&&(t.j41(0,"div",32)(1,"div",33),t.nrm(2,"azt-svg-icon",34),t.j41(3,"p",35),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(2),t.Y8G("size",82),t.R7$(2),t.JRh(t.bMT(5,2,"lang_not_data")+"!"))}function Eb(e,a){if(1&e&&t.DNE(0,wb,5,4,"div",4)(1,Fb,6,4,"ng-template",null,1,t.C5r),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.dataStudent&&n.dataStudent.list&&n.dataStudent.list.length)("ngIfElse",i)}}let Db=(()=>{var e;class a extends j.H{goToProfile(n,o){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+o,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${n}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}})).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);if(this.dataStudent=o.data,!this.isTqbDomain)return this.stopStatusObj();const s=this.splitIntoGroups(this.dataStudent?.list??[]);this.loadTextCdn(this.sAztCommonCdnService.addRandomQueryParam(this.linkTopMess)).subscribe(r=>{const l=this.castJsonToObj(r)??[];l.length&&s.forEach((m,_)=>{m.forEach(u=>{u.parentId===this.curUserId&&0==_&&(this.commentByRanking=l[0].mess),u.parentId===this.curUserId&&1==_&&(this.commentByRanking=l[1].mess),u.parentId===this.curUserId&&2==_&&(this.commentByRanking=l[2].mess),u.parentId===this.curUserId&&3==_&&(this.commentByRanking=l[3].mess)})})}),this.stopStatusObj()}))}loadTextCdn(n){return this.http.get(n,{responseType:"text"})}splitIntoGroups(n){const s=n.length,r=Math.min(4,s),l=Math.ceil(s/r);let m=[];for(let _=0;_<r;_++)m.push(n.slice(_*l,(_+1)*l));return m}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.curUserId=this.sAztUserService.getUserObj().id,this.getListStudent()}constructor(n,o,s,r,l){super(),this.studentService=n,this.http=o,this.activeRoute=s,this.sAztUserService=r,this.sAztCommonCdnService=l,this.classroomId=0,this.curUserId=0,this.linkTopMess="https://azota889.github.io/storage_public_v2/topmess.json",this.commentByRanking=""}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.b0),t.rXU(qn.Qq),t.rXU(b.nX),t.rXU(wt.R),t.rXU(ps.c))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["emptyData",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],[4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"click","ngStyle","ngClass","hidden"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"mt-4"],[1,"font-bold","uppercase","text-center"],[1,"text-center",2,"font-style","italic"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(n,o){if(1&n&&t.DNE(0,Tb,1,1,"azt-loading-effect",2)(1,Eb,3,2,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,jt.p,tn.m,d.MD,d.YU,d.Sq,d.bT,d.B3,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),a})();const Kt=e=>({"text-white bg-primary":e}),Vt=e=>[e],Rb=e=>({"font-medium text-white bg-primary":e});function Mb(e,a){if(1&e&&(t.j41(0,"a",20),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",21),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG();t.Y8G("ngClass",t.eq3(7,Rb,2===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/2"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_news_board"))}}function Nb(e,a){if(1&e&&(t.j41(0,"a",31),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",32),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Kt,3===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/3"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_educational_program"))}}function Gb(e,a){if(1&e&&(t.j41(0,"a",33),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",5),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Kt,4===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/4"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_student_grade_sheet"))}}function $b(e,a){if(1&e&&(t.j41(0,"a",34),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",35),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Kt,6===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/6"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_comments"))}}function zb(e,a){if(1&e&&(t.j41(0,"a",36),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",37),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Kt,7===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/7"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_attendance"))}}function Lb(e,a){if(1&e&&(t.j41(0,"a",38),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",39),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Kt,8===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/8"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_tuition_fee_board"))}}function Ab(e,a){if(1&e&&(t.j41(0,"a",40),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",41),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Kt,9===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/9"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_azt_leaderboard"))}}function Pb(e,a){if(1&e&&(t.j41(0,"a",42),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",43),t.j41(3,"span",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Kt,5===i.tabActive))("routerLink",t.eq3(9,Vt,t.bMT(1,3,"/student/classroom-details/"+i.classroomId+"/5"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_auto_thong_ke"))}}function Yb(e,a){1&e&&(t.j41(0,"div",22)(1,"div",23),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",22),t.DNE(5,Nb,6,11,"a",24),t.nI1(6,"allowFeatureBusinessForUser"),t.nI1(7,"async"),t.DNE(8,Gb,6,11,"a",25),t.nI1(9,"allowFeatureBusinessForUser"),t.nI1(10,"async"),t.DNE(11,$b,6,11,"a",26),t.nI1(12,"allowFeatureBusinessForUser"),t.nI1(13,"async"),t.DNE(14,zb,6,11,"a",27),t.nI1(15,"allowFeatureBusinessForUser"),t.nI1(16,"async"),t.DNE(17,Lb,6,11,"a",28),t.nI1(18,"allowFeatureBusinessForUser"),t.nI1(19,"async"),t.DNE(20,Ab,6,11,"a",29),t.nI1(21,"allowFeatureBusinessForUser"),t.nI1(22,"async"),t.DNE(23,Pb,6,11,"a",30),t.nI1(24,"allowFeatureBusinessForUser"),t.nI1(25,"async"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,8,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(7,13,t.i5U(6,10,"training_center_curriculum_in_classroom",!0))),t.R7$(3),t.Y8G("ngIf",t.bMT(10,18,t.i5U(9,15,"training_center_student_mark",!0))),t.R7$(3),t.Y8G("ngIf",t.bMT(13,23,t.i5U(12,20,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(16,28,t.i5U(15,25,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(19,33,t.i5U(18,30,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(22,38,t.i5U(21,35,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(25,43,t.i5U(24,40,"training_center_student_mark",!0))))}function Vb(e,a){1&e&&(t.j41(0,"div",44),t.nrm(1,"app-exam-exercises-student"),t.k0s())}function Bb(e,a){if(1&e&&(t.j41(0,"div",45),t.nrm(1,"app-news-board",46),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("classroomId",i.classroomId)("isStudent",!0)}}function Xb(e,a){1&e&&(t.j41(0,"div",47),t.nrm(1,"app-educational-program",48),t.k0s()),2&e&&(t.R7$(),t.Y8G("isStudent",!0))}function Ub(e,a){1&e&&(t.j41(0,"div",49),t.nrm(1,"app-grand-board",48),t.k0s()),2&e&&(t.R7$(),t.Y8G("isStudent",!0))}function Hb(e,a){if(1&e&&(t.j41(0,"div",50),t.nrm(1,"app-statistical-student-board",51),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("classroomObj",i.classroomObj)}}function Jb(e,a){1&e&&(t.j41(0,"div",52)(1,"div",53),t.nrm(2,"app-assessment-board",48),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("isStudent",!0))}function qb(e,a){if(1&e&&(t.j41(0,"div",54)(1,"div",53)(2,"div",55),t.nrm(3,"detail-attendance-frontend",56),t.k0s()()()),2&e){const i=t.XpG();t.R7$(3),t.Y8G("title","lang_azt_attendance")("classroomId",i.classroomId)}}function Wb(e,a){1&e&&(t.j41(0,"div",57)(1,"div",53),t.nrm(2,"app-tuition-fee-board",48),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("isStudent",!0))}function Zb(e,a){1&e&&(t.j41(0,"div",58)(1,"div",59),t.nrm(2,"app-leader-board",48),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("isStudent",!0))}let Kb=(()=>{var e;class a extends j.H{getClassroomName(){this.waitDestroy(this.frontClassroomService.apiFrontClassroomGetObjGet(this.classroomId).subscribe(n=>{n&&n.success&&(this.classroomObj=n.data?.obj,this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomObj?.name,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomObj?.name,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomObj?.name,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomObj?.name,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomObj?.name,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"})):5==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_auto_thong_ke")+" "+this.classroomObj?.name,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_student_statistical_board_title",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,ce.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),!this.classroomId||this.classroomObj&&this.classroomObj.id==this.classroomId?this.setTitle():this.getClassroomName()}));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||"/student/classroom/0"}constructor(n,o){super(),this.activeRoute=n,this.frontClassroomService=o,this.backToLink="",this.tabActive=0,this.classroomId=0,this.headerTitle=""}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX),t.rXU(Ai.Kf))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-student-classroom-details"]],standalone:!0,features:[t.Vt3,t.aNF],decls:28,vars:34,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"p-3"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["size","16","name","calendar-check"],[1,"ml-2"],["azt-track-service","class-list-details-Fqqucj0PCd","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-3","px-3"],["class","exam-exercises-student",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","statistical-board",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["size","16","name","newspaper"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","classroom-details-dp0AIgPsv","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","classroom-details-fUikNweRbk","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","classroom-details-NYcIsync1Q","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","classroom-details-hF0JaZF5g","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","classroom-details-iQ_qNn5XFO","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["size","16","name","library"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","classroom-details-dp0AIgPsv",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16"],["azt-track-service","classroom-details-fUikNweRbk",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16"],["azt-track-service","classroom-details-NYcIsync1Q",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["size","16","name","clipboard-list"],["azt-track-service","classroom-details-hF0JaZF5g",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["size","16","name","medal"],["azt-track-service","classroom-details-iQ_qNn5XFO",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["size","16","name","bar-chart-3"],[1,"exam-exercises-student"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[3,"isStudent"],[1,"grand-board"],[1,"statistical-board"],[3,"classroomObj"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"attendance"],[3,"title","classroomId"],[1,"tuition-fee-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"]],template:function(n,o){if(1&n&&(t.j41(0,"student-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,Mb,6,11,"a",7),t.k0s(),t.DNE(12,Yb,26,45,"div",8),t.nI1(13,"allowFeatureBusinessForUser"),t.nI1(14,"async"),t.nI1(15,"allowFeatureBusinessForUser"),t.nI1(16,"async"),t.k0s()(),t.j41(17,"div",9)(18,"div",10),t.DNE(19,Vb,2,0,"div",11)(20,Bb,2,2,"div",12)(21,Xb,2,1,"div",13)(22,Ub,2,1,"div",14)(23,Hb,2,1,"div",15)(24,Jb,3,1,"div",16)(25,qb,4,2,"div",17)(26,Wb,3,1,"div",18)(27,Zb,3,1,"div",19),t.k0s()()()()),2&n){let s;t.Y8G("headerBackToLink",o.backToLink)("headerTitle",null!==(s=null==o.classroomObj?null:o.classroomObj.name)&&void 0!==s?s:""),t.R7$(5),t.Y8G("ngClass",t.eq3(30,Kt,1===o.tabActive))("routerLink",t.eq3(32,Vt,t.bMT(6,16,"/student/classroom-details/"+o.classroomId+"/1"))),t.R7$(4),t.JRh(t.bMT(10,18,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngIf",o.classroomId),t.R7$(),t.Y8G("ngIf",(t.bMT(14,23,t.i5U(13,20,"training_center_curriculum_in_classroom",!0))||t.bMT(16,28,t.i5U(15,25,"training_center_student_mark",!0)))&&o.classroomId),t.R7$(7),t.Y8G("ngIf",1===o.tabActive),t.R7$(),t.Y8G("ngIf",2===o.tabActive&&o.classroomId),t.R7$(),t.Y8G("ngIf",3===o.tabActive&&o.classroomId),t.R7$(),t.Y8G("ngIf",4===o.tabActive&&o.classroomId),t.R7$(),t.Y8G("ngIf",5===o.tabActive&&o.classroomId),t.R7$(),t.Y8G("ngIf",6===o.tabActive&&o.classroomId),t.R7$(),t.Y8G("ngIf",7===o.tabActive&&o.classroomId),t.R7$(),t.Y8G("ngIf",8===o.tabActive&&o.classroomId),t.R7$(),t.Y8G("ngIf",9===o.tabActive)}},dependencies:[w.j,Yr,Ql,Ap,Sg,Rh,df,is,fb,Db,h.F2,d.MD,d.YU,d.bT,d.Jj,c.X1,b.iI,b.Wk,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,h.bj,C.Id,y.k],encapsulation:2}),a})();var hs=g(90625),fs=g(7673),bs=g(42488);function Qb(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function t0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div")(1,"div",8),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(2);return t.Njj(s.clickToExam(o))}),t.j41(2,"div",9),t.EFF(3),t.k0s()()()}if(2&e){const i=a.$implicit;t.R7$(3),t.JRh(i.examName)}}function e0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div")(1,"b"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"azt-mat-dialog-content",4),t.DNE(5,t0,4,1,"div",5),t.k0s(),t.j41(6,"div",6)(7,"button",7),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.btnCloseDialog())}),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"lang_testbank_frontend_student_combo_title")),t.R7$(2),t.Y8G("minHeight","200px"),t.R7$(),t.Y8G("ngForOf",i.objs),t.R7$(3),t.SpI(" ",t.bMT(9,6,"lang_auto_dong")," ")}}let n0=(()=>{var e;class a extends pt._{clickToExam(n){this.btnCloseDialog(),this.commonService.myNavigation("/de-thi/"+n.examHashId)}btnCloseDialog(){this.dialogRef.close()}getData(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamListMyComboExamsComboIdPost(this.data.comboId,{page:1,size:1e3}).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.objs=(n.data?.objs??[]).sort((o,s)=>(o.levelId+"_"+o.subjectId+"_"+o.examName).localeCompare(s.levelId+"_"+s.subjectId+"_"+s.examName)),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}ngOnDestroy(){this.dialogRef.close()}constructor(n,o,s){super(s,o),this.frontExamService=n,this.dialogRef=o,this.objs=[]}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(bs.iB),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-student-exam-combo-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3","skill-statistical"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"minHeight"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],[1,"btn","btn-secondary","w-32",3,"click"],[1,"box","px-4","py-4","mt-3","flex","clickable","hover:border-yellow",3,"click"],[1,"font-medium"]],template:function(n,o){if(1&n&&(t.j41(0,"div",1),t.DNE(1,Qb,1,1,"azt-loading-effect",2)(2,e0,10,8,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,kt.U,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();function o0(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",2),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function a0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div")(1,"div",7),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(3);return t.Njj(s.clickToCombo(o))}),t.j41(2,"div",4),t.EFF(3),t.j41(4,"span",8),t.EFF(5),t.nI1(6,"formatMoney"),t.nI1(7,"mytranslate"),t.k0s()()()()}if(2&e){const i=a.$implicit;t.R7$(3),t.SpI(" ",i.name," "),t.R7$(2),t.SpI("(",t.bMT(6,2,i.price)+" "+t.bMT(7,4,"lang_auto_vnd_upper"),")")}}function s0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",9),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.loadMore())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_testbank_frontend_load_more_exam_bought")))}function r0(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,a0,8,6,"div",5)(5,s0,3,3,"div",6),t.bVm()),2&e){const i=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_student_dashboard_exam_bought")," "),t.R7$(2),t.Y8G("ngForOf",i.objs),t.R7$(),t.Y8G("ngIf",i.enableLoadMore)}}function l0(e,a){if(1&e&&t.DNE(0,r0,6,5,"ng-container",3),2&e){const i=t.XpG();t.Y8G("ngIf",i.objs.length>0)}}let c0=(()=>{var e;class a extends j.H{clickToCombo(n){this.sAztDialogService.open(n0,{width:"60vw",data:{comboId:n.id},restoreFocus:!1})}loadMore(){this.objs=this.allObjs.slice(0,this.objs.length+this.itemInLoadMoreAction),this.enableLoadMore=this.objs<this.allObjs}getData(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamListMyComboPackagesPost({page:1,size:1e3}).subscribe(n=>{if(!n.success)return this.stopStatusObj();this.allObjs=n.data?.objs??[],this.loadMore(),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(n,o){super(),this.frontExamService=n,this.sAztDialogService=o,this.enableLoadMore=!1,this.objs=[],this.allObjs=[],this.itemInLoadMoreAction=3}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(bs.iB),t.rXU(ot.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-student-exam-bought"]],standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf"],[1,"font-medium"],[4,"ngFor","ngForOf"],["class","pt-3 clickable text-center link__color",3,"click",4,"ngIf"],[1,"box","px-4","py-4","mt-3","flex","clickable","hover:bg-gray-soft",3,"click"],[1,"ml-2","text-slate-500","text-xs"],[1,"pt-3","clickable","text-center","link__color",3,"click"]],template:function(n,o){if(1&n&&t.DNE(0,o0,1,1,"azt-loading-effect",1)(1,l0,1,1,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,h.t0,C.Id,y.k],encapsulation:2}),a})();var m0=g(99558),d0=g(20033),_0=g(47906),u0=g(15545);const p0=e=>[e],g0=e=>({backto:e});function h0(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",3)(2,"div",4)(3,"b"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.EFF(6),t.nI1(7,"formatFullDateTimeByUserUnitPipe"),t.j41(8,"span",5),t.EFF(9),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"a",6),t.nI1(13,"navigationLocalize"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.bVm()),2&e){const i=t.XpG(2);t.R7$(4),t.SpI("",t.bMT(5,9,"lang_business_config_billing_end_time"),":"),t.R7$(2),t.SpI(" ",t.bMT(7,11,i.vipAccountObj.endTime)," ( "),t.R7$(3),t.LHq("",i.vipAccountObj.subscriptionTimeDtoObj.days," ",t.bMT(10,13,"lang_auto_day"),", ",i.vipAccountObj.subscriptionTimeDtoObj.hours," ",t.bMT(11,15,"lang_auto_clock"),")"),t.R7$(3),t.Y8G("routerLink",t.eq3(21,p0,t.bMT(13,17,"/auth/vip-packages/"+(i.type===i.vipPackageType.VIPFORSTUDENT?"studentVip":"teacherVip"))))("queryParams",t.eq3(23,g0,i.backToLink)),t.R7$(2),t.SpI(" ",t.bMT(15,19,"lang_azt_renew_now")," ")}}function f0(e,a){if(1&e&&(t.j41(0,"div",1),t.DNE(1,h0,16,25,"ng-container",2),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.vipAccountObj.isVipTeacher&&i.type===i.vipPackageType.VIPFORTEACHER||i.vipAccountObj.isVipStudent&&i.type===i.vipPackageType.VIPFORSTUDENT)}}let b0=(()=>{var e;class a extends j.H{getData(){this.checkVipAccountService.getVipInfo(this.type,!0,void 0).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message);this.vipAccountObj=n.data?.vipSubscriptionObj,this.successStatusObj(),this.vipAccountObj&&(this.vipAccountObj.subscriptionTimeDtoObj=this.sAztTimeService.getDayHourMinuteOfSubtract(this.vipAccountObj?.endTime),(this.vipAccountObj.subscriptionTimeDtoObj.days<0||this.vipAccountObj.subscriptionTimeDtoObj.hours<0||this.vipAccountObj.subscriptionTimeDtoObj.minutes<0)&&(this.vipAccountObj.subscriptionTimeDtoObj={days:0,hours:0,minutes:0}))})}ngOnInit(){super.ngOnInit(),this.backToLink=this.type===this.vipPackageType.VIPFORTEACHER?"/admin/dashboard":"/student/classroom/0",this.getData()}constructor(n){super(),this.sAztTimeService=n,this.vipPackageType=Bi.W5,this.backToLink=""}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(V.F))},e.\u0275cmp=t.VBU({type:e,selectors:[["azota-vip-package-warning-box"]],inputs:{type:"type"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","p-2 box",4,"ngIf"],[1,"p-2","box"],[4,"ngIf"],[1,"flex","items-center"],[1,"mr-auto"],[1,"text-danger"],["azt-track-service","azota-business-package-expired-v3CxKNRMa",1,"btn","btn-sm","btn-outline-primary","px-2","py-1",3,"routerLink","queryParams"]],template:function(n,o){1&n&&t.DNE(0,f0,2,1,"div",0),2&n&&t.Y8G("ngIf",o.vipAccountObj&&o.vipAccountObj.subscriptionTimeDtoObj&&o.vipAccountObj.subscriptionTimeDtoObj.days<=10&&o.vipAccountObj.subscriptionTimeDtoObj.days>0)},dependencies:[h.F2,d.MD,d.bT,c.X1,b.iI,b.Wk,c.YN,h.wp,S.s,f.flO,x.L,h.Rr,C.Id,y.k],encapsulation:2}),a})();var v0=g(70453);const k0=()=>({"mr-2 flex-none":!0}),Bt=e=>[e],T0=()=>({backto:"/student/classroom/0"}),St=()=>({"mr-2":!0}),vs=()=>["name"],se=e=>({backto:e}),C0=e=>({"mt-3":e});function x0(e,a){if(1&e){const i=t.RV6();t.qex(0),t.j41(1,"div",13),t.nrm(2,"coazt-convert-account-role",14),t.j41(3,"div",15)(4,"button",16),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.mobLogout())}),t.nrm(5,"lucide-icon",17),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()(),t.bVm()}2&e&&(t.R7$(2),t.Y8G("isTeacherDashboard",!1)("hasTeacherRole",!1),t.R7$(3),t.Y8G("ngClass",t.lJ4(6,k0)),t.R7$(),t.SpI(" ",t.bMT(7,4,"lang_auto_dang_xuat")," "))}function y0(e,a){if(1&e&&(t.j41(0,"div",20)(1,"h3",29),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()()),2&e){const i=t.XpG(2);t.R7$(2),t.SpI(" ",i.showStorageClassroom?t.bMT(3,1,"lang_auto_kho_luu_tru"):t.bMT(4,3,"lang_student_classroom_list_header_title")," ")}}function S0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",30)(1,"azt-search-box",31),t.nI1(2,"mytranslate"),t.bIt("onSearch",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.onSearchBox(o.searchObj))}),t.k0s()()}2&e&&(t.R7$(),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(2,2,"lang_student_classroom_list_sort_name_class")))}function I0(e,a){1&e&&(t.j41(0,"a",35),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",36),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&e&&(t.Y8G("routerLink",t.eq3(8,Bt,t.bMT(1,4,"/student/add-teacher")))("queryParams",t.lJ4(10,T0)),t.R7$(2),t.Y8G("ngClass",t.lJ4(11,St)),t.R7$(),t.SpI(" ",t.bMT(4,6,"lang_student_frontend_dashboard_exam_search_exam")," "))}function j0(e,a){if(1&e){const i=t.RV6();t.j41(0,"a",37),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.showTeacherOfCenter())}),t.nrm(1,"lucide-icon",36),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,St)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_frontend_dashboard_exam_search_exam")," "))}function O0(e,a){if(1&e&&(t.j41(0,"div",32),t.DNE(1,I0,5,12,"a",33)(2,j0,4,5,"a",34),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",!i.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.isTqbDomain)}}function w0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",42),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(3);return t.Njj(s.goToLinkProfile(o.link))}),t.j41(1,"span"),t.EFF(2),t.k0s(),t.EFF(3," - "),t.j41(4,"span"),t.EFF(5),t.k0s()()}if(2&e){const i=a.$implicit;t.R7$(2),t.JRh(i.fullName),t.R7$(3),t.JRh(i.subjectName)}}function F0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",38)(1,"div",39),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"lucide-icon",40),t.bIt("click",function(){t.eBV(i);const o=t.XpG(2);return t.Njj(o.showTeacherOfCenter())}),t.k0s()(),t.DNE(5,w0,6,2,"div",41),t.k0s()}if(2&e){const i=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"Gi\u1ea3ng vi\xean trong trung t\xe2m")," "),t.R7$(3),t.Y8G("ngForOf",i.teachersTqb)}}function E0(e,a){if(1&e&&(t.j41(0,"div",20),t.nrm(1,"azt-frontend-banner-ads-box",43),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("adsPosition",i.allAdsPositions.STUDENTMAINDASHBOARD)}}function D0(e,a){1&e&&(t.j41(0,"div",20),t.nrm(1,"app-student-exam-bought"),t.k0s())}function R0(e,a){1&e&&(t.j41(0,"div",20),t.nrm(1,"azt-practice-box",44),t.k0s()),2&e&&(t.R7$(),t.Y8G("resultId",void 0)("webPage","STUDENT_DASHBOARD"))}function M0(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",45),2&e){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function N0(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",75),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit,s=t.XpG(4);return t.Njj(s.goToDetail(o.classroomObj.id))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vao_lop")," "))}function G0(e,a){1&e&&t.nrm(0,"lucide-icon",85),2&e&&t.Y8G("ngClass",t.lJ4(1,St))}function $0(e,a){1&e&&t.nrm(0,"azt-loading-ui",86)}function z0(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",76)(1,"a",77),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.nrm(2,"lucide-icon",78),t.k0s(),t.j41(3,"mat-menu",79,3)(5,"div",80)(6,"ul",81)(7,"li")(8,"a",82),t.bIt("click",function(o){t.eBV(i);const s=t.XpG(),r=s.$implicit,l=s.index;return t.XpG(4).markedClassroomAsArchive(r,1,l),t.Njj(o.stopPropagation())}),t.DNE(9,G0,1,2,"lucide-icon",83),t.EFF(10),t.nI1(11,"mytranslate"),t.DNE(12,$0,1,0,"azt-loading-ui",84),t.k0s()()()()()()}if(2&e){const i=t.sdS(4),n=t.XpG().index,o=t.XpG(4);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(8),t.Y8G("ngIf",o.loadingIndexArchiveClassroom!=n),t.R7$(),t.SpI(" ",t.bMT(11,4,"lang_auto_dua_vao_luu_tru")," "),t.R7$(2),t.Y8G("ngIf",o.loadingIndexArchiveClassroom==n)}}function L0(e,a){if(1&e&&(t.j41(0,"div",87),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_si_so"),": ",i.classroomObj.countStudents,"")}}function A0(e,a){1&e&&(t.j41(0,"div",91),t.nrm(1,"div",92),t.k0s())}function P0(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",93)(2,"span",94),t.EFF(3),t.k0s()(),t.bVm()),2&e){const i=t.XpG(3).$implicit;t.R7$(3),t.JRh(i.errorDocument)}}function Y0(e,a){if(1&e&&(t.qex(0),t.j41(1,"a",101),t.nI1(2,"navigationLocalize"),t.nrm(3,"azt-block-homework",102),t.k0s(),t.bVm()),2&e){const i=t.XpG(2).$implicit,n=t.XpG(6).$implicit;t.R7$(),t.Y8G("routerLink",t.eq3(5,Bt,t.bMT(2,3,"/bai-tap/"+i.homework.hashId)))("queryParams",t.eq3(7,se,"/student/classroom-details/"+n.classroomObj.id+"/1")),t.R7$(2),t.Y8G("data",i.homework)}}function V0(e,a){if(1&e&&(t.j41(0,"a",103),t.nI1(1,"navigationLocalize"),t.nrm(2,"azt-block-exam",104),t.k0s()),2&e){const i=t.XpG(2).$implicit,n=t.XpG(6).$implicit;t.Y8G("routerLink",t.eq3(6,Bt,t.bMT(1,4,"/de-thi/"+(null==i.exam?null:i.exam.hashId))))("queryParams",t.eq3(8,se,"/student/classroom-details/"+n.classroomObj.id+"/1")),t.R7$(2),t.Y8G("data",i.exam)("type",0)}}function B0(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,Y0,4,9,"ng-container",12)(2,V0,3,10,"ng-template",null,6,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",n.homework)("ngIfElse",i)}}function X0(e,a){if(1&e&&(t.j41(0,"div",100),t.DNE(1,B0,4,2,"div",90),t.k0s()),2&e){const i=a.index;t.Y8G("ngClass",t.eq3(2,C0,0!=i)),t.R7$(),t.Y8G("ngIf",i<2)}}function U0(e,a){if(1&e&&(t.qex(0),t.DNE(1,X0,2,4,"div",95),t.j41(2,"div",96)(3,"a",97),t.nI1(4,"navigationLocalize"),t.j41(5,"div",98),t.nrm(6,"lucide-icon",99),t.j41(7,"span"),t.EFF(8),t.k0s()(),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.bVm()),2&e){const i=t.XpG(5).$implicit,n=t.XpG(4);t.R7$(),t.Y8G("ngForOf",i.documentList),t.R7$(2),t.Y8G("routerLink",t.eq3(10,Bt,t.bMT(4,6,"/student/classroom-details/"+i.classroomObj.id+"/1")))("queryParams",t.eq3(12,se,n.backToLink?n.backToLink:"/student/classroom/0")),t.R7$(3),t.Y8G("ngClass",t.lJ4(14,St)),t.R7$(2),t.JRh(i.totalDocumentNotDone&&i.totalDocumentNotDone>2?i.totalDocumentNotDone-2:""),t.R7$(),t.SpI(" ",t.bMT(10,8,"lang_button_see_more")," ")}}function H0(e,a){if(1&e&&(t.j41(0,"div",105),t.nrm(1,"azt-svg-icon",106),t.j41(2,"p",107)(3,"span",86),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"a",108),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()),2&e){const i=t.XpG(5).$implicit,n=t.XpG(4);t.R7$(),t.Y8G("size",50),t.R7$(3),t.JRh(t.bMT(5,5,"lang_azt_all_exams_completed")+". "),t.R7$(2),t.Y8G("routerLink",t.eq3(11,Bt,t.bMT(7,7,"/student/classroom-details/"+i.classroomObj.id+"/1")))("queryParams",t.eq3(13,se,n.backToLink?n.backToLink:"/student/classroom/0")),t.R7$(2),t.SpI(" ",t.bMT(9,9,"lang_auto_xem_chi_tiet")," ")}}function J0(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,U0,11,15,"ng-container",12)(2,H0,10,15,"ng-template",null,5,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG(4).$implicit;t.R7$(),t.Y8G("ngIf",n.documentList&&n.documentList.length)("ngIfElse",i)}}function q0(e,a){1&e&&(t.j41(0,"div")(1,"div",105),t.nrm(2,"azt-svg-icon",109),t.j41(3,"p",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(2),t.Y8G("size",50),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function W0(e,a){if(1&e&&t.DNE(0,J0,4,2,"div",90)(1,q0,6,4,"div",90),2&e){const i=t.XpG(3).$implicit;t.Y8G("ngIf",i.totalDocument),t.R7$(),t.Y8G("ngIf",!i.totalDocument)}}function Z0(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,P0,4,1,"ng-container",12)(2,W0,2,2,"ng-template",null,4,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",n.errorDocument)("ngIfElse",i)}}function K0(e,a){if(1&e&&(t.j41(0,"div",88),t.DNE(1,A0,2,0,"div",89)(2,Z0,4,2,"div",90),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.isLoadingDocument),t.R7$(),t.Y8G("ngIf",!i.isLoadingDocument)}}function Q0(e,a){1&e&&(t.j41(0,"div",91),t.nrm(1,"div",112),t.k0s())}function t2(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",93)(2,"span",94),t.EFF(3),t.k0s()(),t.bVm()),2&e){const i=t.XpG(3).$implicit;t.R7$(3),t.JRh(i.errorNews)}}function e2(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"azt-see-more-multiple-lines",116),t.k0s()),2&e){const i=a.$implicit;t.R7$(),t.Y8G("content",i.content)("maxLine",3)}}function n2(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",113),t.DNE(2,e2,2,2,"div",114),t.k0s(),t.j41(3,"div",96)(4,"a",115),t.nI1(5,"navigationLocalize"),t.nrm(6,"lucide-icon",99),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.bVm()),2&e){const i=t.XpG(4).$implicit,n=t.XpG(4);t.R7$(2),t.Y8G("ngForOf",i.newsList),t.R7$(2),t.Y8G("routerLink",t.eq3(9,Bt,t.bMT(5,5,"/student/classroom-details/"+i.classroomObj.id+"/2")))("queryParams",t.eq3(11,se,n.backToLink?n.backToLink:"/student/classroom/0")),t.R7$(2),t.Y8G("ngClass",t.lJ4(13,St)),t.R7$(),t.SpI(" ",t.bMT(8,7,"lang_button_see_more")," ")}}function i2(e,a){if(1&e&&t.DNE(0,n2,9,14,"ng-container",12),2&e){t.XpG();const i=t.sdS(5),n=t.XpG(2).$implicit;t.Y8G("ngIf",n.newsList&&n.newsList.length)("ngIfElse",i)}}function o2(e,a){1&e&&(t.j41(0,"div",117),t.nrm(1,"azt-svg-icon",118),t.j41(2,"p",110),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e&&(t.R7$(),t.Y8G("size",50),t.R7$(2),t.JRh(t.bMT(4,2,"lang_student_news_there_is_no_news")))}function a2(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,t2,4,1,"ng-container",12)(2,i2,1,2,"ng-template",null,7,t.C5r)(4,o2,5,4,"ng-template",null,8,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",n.errorNews)("ngIfElse",i)}}function s2(e,a){if(1&e&&(t.j41(0,"div",111),t.DNE(1,Q0,2,0,"div",89)(2,a2,6,2,"div",90),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.isLoadingNews),t.R7$(),t.Y8G("ngIf",!i.isLoadingNews)}}function r2(e,a){1&e&&(t.j41(0,"div",91),t.nrm(1,"div",123),t.k0s())}function l2(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",93)(2,"span",94),t.EFF(3),t.k0s()(),t.bVm()),2&e){const i=t.XpG(4).$implicit;t.R7$(3),t.JRh(i.errorComments)}}function c2(e,a){if(1&e&&t.nrm(0,"azt-see-more-multiple-lines",116),2&e){const i=t.XpG().$implicit;t.Y8G("content",i.comment)("maxLine",3)}}function m2(e,a){if(1&e&&(t.qex(0),t.DNE(1,c2,1,2,"azt-see-more-multiple-lines",127),t.bVm()),2&e){const i=a.index;t.R7$(),t.Y8G("ngIf",0===i)}}function d2(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",125),t.DNE(2,m2,2,1,"ng-container",114),t.k0s(),t.j41(3,"div",96)(4,"a",115),t.nI1(5,"navigationLocalize"),t.j41(6,"div",126),t.nrm(7,"lucide-icon",99),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.bVm()),2&e){const i=t.XpG(5).$implicit,n=t.XpG(4);t.R7$(2),t.Y8G("ngForOf",i.commentsList),t.R7$(2),t.Y8G("routerLink",t.eq3(9,Bt,t.bMT(5,5,"/student/classroom-details/"+i.classroomObj.id+"/6")))("queryParams",t.eq3(11,se,n.backToLink?n.backToLink:"/student/classroom/0")),t.R7$(3),t.Y8G("ngClass",t.lJ4(13,St)),t.R7$(),t.SpI(" ",t.bMT(9,7,"lang_button_see_more")," ")}}function _2(e,a){1&e&&(t.j41(0,"div",117),t.nrm(1,"azt-svg-icon",128),t.j41(2,"p",110),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e&&(t.R7$(),t.Y8G("size",50),t.R7$(2),t.JRh(t.bMT(4,2,"lang_azt_no_comments_yet")+"!"))}function u2(e,a){if(1&e&&t.DNE(0,d2,10,14,"ng-container",12)(1,_2,5,4,"ng-template",null,10,t.C5r),2&e){const i=t.sdS(2),n=t.XpG(4).$implicit;t.Y8G("ngIf",n.commentsList&&n.commentsList.length)("ngIfElse",i)}}function p2(e,a){if(1&e&&(t.j41(0,"div",124),t.DNE(1,l2,4,1,"ng-container",12)(2,u2,3,2,"ng-template",null,9,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG(3).$implicit;t.R7$(),t.Y8G("ngIf",n.errorComments)("ngIfElse",i)}}function g2(e,a){if(1&e&&(t.j41(0,"div",121),t.DNE(1,r2,2,0,"div",89)(2,p2,4,2,"div",122),t.k0s()),2&e){const i=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",i.isLoadingComment),t.R7$(),t.Y8G("ngIf",!i.isLoadingComment)}}function h2(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",64)(1,"div",65),t.bIt("click",function(){t.eBV(i);const o=t.XpG().$implicit;return t.Njj(o.isExpandComments=!o.isExpandComments)}),t.nrm(2,"lucide-icon",119),t.j41(3,"span",67),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",68)(7,"button",69),t.nrm(8,"lucide-icon",70),t.k0s()()(),t.DNE(9,g2,3,2,"div",120),t.k0s()}if(2&e){const i=t.XpG().$implicit;t.R7$(2),t.Y8G("ngClass",t.lJ4(6,St)),t.R7$(2),t.SpI(" ",t.bMT(5,4,"lang_azt_teacher_comments")," "),t.R7$(4),t.Y8G("name",i.isExpandComments?"chevron-down":"chevron-right"),t.R7$(),t.Y8G("ngIf",i.isExpandComments)}}function f2(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG(4);return t.Njj(s.goToDetail(o.classroomObj.id))}),t.nrm(4,"azt-create-avatar",55),t.j41(5,"div",56)(6,"span",57,2),t.EFF(8),t.k0s(),t.j41(9,"span",58,2),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s()()(),t.DNE(14,N0,3,3,"button",59)(15,z0,13,6,"div",60),t.nI1(16,"isParentViewOnly"),t.k0s(),t.j41(17,"div",61),t.DNE(18,L0,3,4,"div",62),t.j41(19,"div",63),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()(),t.j41(22,"div",64)(23,"div",65),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.isExpandDocument=!o.isExpandDocument)}),t.nrm(24,"lucide-icon",66),t.j41(25,"span",67),t.EFF(26),t.nI1(27,"mytranslate"),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"div",68)(30,"button",69),t.nrm(31,"lucide-icon",70),t.k0s()()(),t.DNE(32,K0,3,2,"div",71),t.k0s(),t.j41(33,"div",64)(34,"div",65),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.isExpandNews=!o.isExpandNews)}),t.nrm(35,"lucide-icon",72),t.j41(36,"span",67),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",68)(40,"button",69),t.nrm(41,"lucide-icon",70),t.k0s()()(),t.DNE(42,s2,3,2,"div",73),t.k0s(),t.DNE(43,h2,10,7,"div",74),t.k0s()()}if(2&e){const i=a.$implicit,n=t.sdS(7),o=t.XpG(4);t.R7$(4),t.Y8G("nameCreateAvatar",i.teacherObj.fullName)("size",45)("linkAvatar",i.teacherObj.avatar),t.R7$(2),t.FS9("matTooltip",i.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.R7$(2),t.SpI(" ",i.classroomObj.name," "),t.R7$(),t.FS9("matTooltip",i.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.R7$(2),t.Lme(" ",1==i.teacherObj.gender?t.bMT(12,27,"lang_auto_thay"):t.bMT(13,29,"lang_auto_co_giao")+" "," ",i.teacherObj.fullName," "),t.R7$(3),t.Y8G("ngIf",o.isBusinessDomain),t.R7$(),t.Y8G("ngIf",!t.bMT(16,31,"")&&!o.isBusinessDomain),t.R7$(3),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(2),t.Lme("",t.bMT(21,33,"lang_auto_nam_hoc"),": ",i.classroomObj.year,""),t.R7$(4),t.Y8G("ngClass",t.lJ4(41,St)),t.R7$(2),t.Lme(" ",t.bMT(27,35,"lang_azt_unattempted_exercises_exams")," "," ("+i.totalDocumentNotDone+" "+t.bMT(28,37,"lang_azt_exam")+")"," "),t.R7$(5),t.Y8G("name",i.isExpandDocument?"chevron-down":"chevron-right"),t.R7$(),t.Y8G("ngIf",i.isExpandDocument),t.R7$(3),t.Y8G("ngClass",t.lJ4(42,St)),t.R7$(2),t.SpI(" ",t.bMT(38,39,"lang_cms_classroom_news_board_title")," "),t.R7$(4),t.Y8G("name",i.isExpandNews?"chevron-down":"chevron-right"),t.R7$(),t.Y8G("ngIf",i.isExpandNews),t.R7$(),t.Y8G("ngIf",o.isBusinessDomain)}}function b2(e,a){if(1&e&&(t.j41(0,"div",137)(1,"a",138),t.nI1(2,"navigationLocalize"),t.nrm(3,"azt-block-exam",102),t.k0s()()),2&e){const i=a.$implicit;t.Y8G("hidden",a.index>1),t.R7$(),t.Y8G("routerLink",t.eq3(5,Bt,t.bMT(2,3,"/de-thi/"+(null==i.exam?null:i.exam.hashId)))),t.R7$(2),t.Y8G("data",i.exam)}}function v2(e,a){if(1&e&&(t.j41(0,"div",129)(1,"div",130)(2,"a",131)(3,"div",132)(4,"div",133)(5,"span",134),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()(),t.DNE(8,b2,4,7,"div",135),t.j41(9,"div",96)(10,"a",136),t.nI1(11,"navigationLocalize"),t.j41(12,"div",126),t.nrm(13,"lucide-icon",99),t.k0s(),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()()),2&e){const i=t.XpG(4);t.R7$(6),t.SpI(" ",t.bMT(7,6,"lang_auto_tu_do")," "),t.R7$(2),t.Y8G("ngForOf",i.studentsFreeExams.documentObjs),t.R7$(2),t.Y8G("routerLink",t.eq3(12,Bt,t.bMT(11,8,"/student/classroom-details/0/1")))("queryParams",t.eq3(14,se,i.backToLink?i.backToLink:"/student/classroom/0")),t.R7$(3),t.Y8G("ngClass",t.lJ4(16,St)),t.R7$(),t.SpI(" ",t.bMT(15,10,"lang_button_see_more")," ")}}function k2(e,a){if(1&e&&(t.j41(0,"div",48),t.DNE(1,f2,44,43,"div",49),t.nI1(2,"appFilterClassroom"),t.DNE(3,v2,16,17,"div",50),t.k0s()),2&e){const i=t.XpG(3);t.Y8G("ngClass",i.isMobileWebView?"":"mt-8"),t.R7$(),t.Y8G("ngForOf",t.brH(2,3,i.classroomList,i.searchContentObj.searchContent,t.lJ4(7,vs))),t.R7$(2),t.Y8G("ngIf",i.studentsFreeExams&&i.studentsFreeExams.total>0&&!i.isTqbDomain)}}function T2(e,a){1&e&&t.nrm(0,"lucide-icon",153),2&e&&t.Y8G("ngClass",t.lJ4(1,St))}function C2(e,a){1&e&&t.nrm(0,"azt-loading-ui",126)}function x2(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",141)(1,"div",142)(2,"div")(3,"div",132),t.nrm(4,"azt-create-avatar",55),t.j41(5,"div",56)(6,"span",143),t.EFF(7),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"span",144,2),t.EFF(12),t.k0s()()(),t.j41(13,"div",145)(14,"div",146),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"div",147),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()(),t.j41(20,"div",76)(21,"a",148),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.nrm(22,"lucide-icon",149),t.k0s(),t.j41(23,"mat-menu",79,11)(25,"div",80)(26,"ul",81)(27,"li")(28,"a",150),t.bIt("click",function(o){const s=t.eBV(i),r=s.$implicit,l=s.index;return t.XpG(4).markedClassroomAsArchive(r,0,l),t.Njj(o.stopPropagation())}),t.DNE(29,T2,1,2,"lucide-icon",151),t.EFF(30),t.nI1(31,"mytranslate"),t.DNE(32,C2,1,0,"azt-loading-ui",152),t.k0s()()()()()()()()}if(2&e){const i=a.$implicit,n=a.index,o=t.sdS(11),s=t.sdS(24),r=t.XpG(4);t.R7$(4),t.Y8G("nameCreateAvatar",i.teacherObj.fullName)("size",30)("linkAvatar",i.teacherObj.avatar),t.R7$(2),t.FS9("matTooltip",i.classroomObj.name),t.R7$(),t.Lme(" ",1==i.teacherObj.gender?t.bMT(8,18,"lang_auto_thay"):t.bMT(9,20,"lang_auto_co_giao")+" "," ",i.teacherObj.fullName," "),t.R7$(3),t.FS9("matTooltip",i.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.JRh(i.classroomObj.name),t.R7$(3),t.Lme("",t.bMT(16,22,"lang_auto_si_so"),": ",i.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(19,24,"lang_auto_nam_hoc"),": ",i.classroomObj.year,""),t.R7$(3),t.Y8G("matMenuTriggerFor",s),t.R7$(8),t.Y8G("ngIf",r.loadingIndexArchiveClassroom!=n),t.R7$(),t.SpI(" ",t.bMT(31,26,"lang_auto_khoi_phuc")," "),t.R7$(2),t.Y8G("ngIf",r.loadingIndexArchiveClassroom==n)}}function y2(e,a){if(1&e&&(t.j41(0,"div",139),t.DNE(1,x2,33,28,"div",140),t.nI1(2,"appFilterClassroom"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",t.brH(2,1,i.storageClassrooms,i.searchContentObj.searchContent,t.lJ4(5,vs)))}}function S2(e,a){if(1&e&&t.DNE(0,k2,4,8,"div",46)(1,y2,3,6,"div",47),2&e){const i=t.XpG(2);t.Y8G("ngIf",!i.showStorageClassroom),t.R7$(),t.Y8G("ngIf",i.showStorageClassroom)}}function I2(e,a){if(1&e&&(t.j41(0,"a",156),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e){const i=t.XpG(3);t.Y8G("routerLink",t.bMT(1,3,"/student/classroom/1")),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",i.storageClassrooms.length,") ")}}function j2(e,a){if(1&e&&(t.j41(0,"div",154),t.DNE(1,I2,4,7,"a",155),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",i.storageClassrooms&&i.storageClassrooms.length>0)}}function O2(e,a){if(1&e&&(t.j41(0,"student-layout",18)(1,"div",19)(2,"div",20),t.nrm(3,"azota-vip-package-warning-box",21),t.k0s(),t.DNE(4,y0,5,5,"div",22),t.j41(5,"div",20)(6,"div",23),t.DNE(7,S0,3,4,"div",24)(8,O0,3,2,"div",25),t.nI1(9,"isParentViewOnly"),t.k0s(),t.DNE(10,F0,6,4,"div",26),t.k0s(),t.DNE(11,E0,2,1,"div",22)(12,D0,2,0,"div",22)(13,R0,2,2,"div",22),t.j41(14,"div",20),t.DNE(15,M0,1,1,"azt-loading-effect",27)(16,S2,2,2,"ng-template",null,1,t.C5r),t.k0s(),t.DNE(18,j2,2,1,"div",28),t.k0s()()),2&e){const i=t.sdS(17),n=t.XpG();t.Y8G("headerBackToLink",n.backToLink),t.R7$(),t.Y8G("ngClass",n.isMobileWebView?"mt-3":"mt-8"),t.R7$(2),t.Y8G("type",n.vipPackageType.VIPFORSTUDENT),t.R7$(),t.Y8G("ngIf",!n.isTqbDomain),t.R7$(3),t.Y8G("ngIf",!n.isTqbDomain),t.R7$(),t.Y8G("ngIf",!t.bMT(9,13,"")),t.R7$(2),t.Y8G("ngIf",n.isTqbDomain&&n.isShowListTeacher),t.R7$(),t.Y8G("ngIf",!n.isTqbDomain),t.R7$(),t.Y8G("ngIf",!n.isTqbDomain),t.R7$(),t.Y8G("ngIf",!n.isTqbDomain),t.R7$(2),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",!n.showStorageClassroom&&!n.statusObj.loading&&!n.isTqbDomain)}}let Nn=(()=>{var e;class a extends j.H{mobLogout(){this.sAztUserLogoutService.mobLogout()}goToLinkProfile(n){window.open(n,"_blank")}showTeacherOfCenter(){this.isShowListTeacher=!this.isShowListTeacher}goToDetail(n){this.myNavigationWithQueryString("/student/classroom-details/"+n+"/1","?backto="+(this.backToLink?this.backToLink:"/student/classroom/0"))}onSearchBox(n){this.searchContentObj=n}markedClassroomAsArchive(n,o,s){this.loadingIndexArchiveClassroom=s;const r=n,l=r?.classroomObj?.id;if(!l)return this.loadingIndexArchiveClassroom=-1,void this.errorStatusObj("lang_core_invalid",!0);(1===o?this.frontClassroomService.apiFrontClassroomArchiveObjGet(l):this.frontClassroomService.apiFrontClassroomUnArchiveObjGet(l)).subscribe(_=>{this.loadingIndexArchiveClassroom=-1,1===_.success?(this.localStorageObject.removeCacheByValue("FrontPageStudent/GetExamObjsInDashboard"),this.localStorageObject.removeCacheByValue("FrontPageStudent/GetClassroomInHomeworkObjsInDashboard"),1===o?(this.storageClassrooms.push(r),this.classroomList=this.classroomList.filter(u=>u.classroomObj?.id!==l),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong",!0)):(this.storageClassrooms=this.storageClassrooms?.filter(u=>u.classroomObj?.id!==l),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong",!0)),n.classroomObj&&(n.classroomObj.isMarkedArchive=1===o)):this.errorStatusObj(_.message??"",!0)})}getStudentsFreeExams(){this.waitDestroy(this.documentService.apiDocumentsStudentsFreeExamsGet().subscribe(n=>{n.success&&(this.studentsFreeExams=n.data)}))}callMultipleApi(){this.initStatusObj(),this.frontPageStudentService.apiFrontPageStudentGetExamObjsInDashboardGet().subscribe(n=>{if(1!==n.success)return this.errorStatusObj(n.message??"",!0);this.classroomList=n.data?.objs??[],this.storageClassrooms=n.data?.storageObjs??[],this.checkClassroomInStorage(),this.successStatusObj();const o=this.classroomList.map(s=>(this.initializeClassroomState(s),(0,de.p)({documentResponse:this.documentService.apiDocumentsStudentsGet(s.classroomObj.id),newsResponse:this.wrapApiResponse(this.newsService.apiNewsListPost({page:1,size:1,classroomId:s.classroomObj.id,student:!0})),commentResponse:this.isTqbDomain?this.wrapApiResponse(this.studentService.apiStudentsMeClassroomIdAssessmentsGet(s.classroomObj.id)):(0,fs.of)(void 0)}).pipe((0,Ie.M)(({documentResponse:r,newsResponse:l,commentResponse:m})=>{this.processClassroomApiResponses(s,r,l,m)}))));(0,de.p)(o).subscribe({error:s=>{this.errorStatusObj(`Error during API calls: ${s}`,!0)}})})}initializeClassroomState(n){n.isLoadingDocument=!0,n.isLoadingNews=!0,n.isLoadingComment=!0,n.totalDocumentNotDone=0,n.isExpandDocument=!0,n.isExpandNews=!0,n.isExpandComments=!0}processClassroomApiResponses(n,o,s,r){n.documentList=o.data?.documentObjs.filter(l=>l.exam&&!l.exam.examResultObj||l.homework&&!l.homework.answerObj)??[],n.totalDocument=o.data?.documentObjs.length??0,n.totalDocumentNotDone=n.documentList.length,n.errorDocument=o.success?void 0:o.message,n.newsList=s.success?s.data?.list??[]:void 0,n.errorNews=s.success?void 0:s.message,r&&(n.commentsList=r.success?r.data?.list??[]:void 0,n.errorComments=r.success?void 0:r.message),Object.assign(n,{isLoadingDocument:!1,isLoadingNews:!1,isLoadingComment:!1,isExpandDocument:!!n.documentList.length,isExpandNews:!!n.newsList?.length,isExpandComments:!!n.commentsList?.length})}checkClassroomInStorage(){this.classroomList.forEach(n=>{this.storageClassrooms.forEach(o=>{n.classroomObj&&o.classroomObj&&o.classroomObj.id==n.classroomObj?.id&&(n.classroomObj.isMarkedArchive=!0)})})}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,ce.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{const n=this.commonService.getMyParam(this.activeRoute,"type")?.toString();let o=this.commonService.getMyQueryParam("backto");this.showStorageClassroom="1"==n,this.backToLink=o||(this.showStorageClassroom?"/student/classroom/0":""),this.callMultipleApi()})),this.getStudentsFreeExams(),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"}),this.mobileWebviewService.sendSimpleMessage("OPEN_MAIN_DASHBOARD")}constructor(n,o,s,r,l,m,_,u,p){super(),this.mobileWebviewService=n,this.frontPageStudentService=o,this.frontClassroomService=s,this.documentService=r,this.newsService=l,this.studentService=m,this.localStorageObject=_,this.sAztUserService=u,this.activeRoute=p,this.sAztUserLogoutService=(0,t.WQX)(m0.d),this.backToLink="",this.showStorageClassroom=!1,this.searchContentObj=new v.Z,this.classroomList=[],this.storageClassrooms=[],this.loadingIndexArchiveClassroom=-1,this.allAdsPositions=hs.rA,this.allAdsDisplayTypes=hs.ud,this.vipPackageType=Bi.W5,this.isShowListTeacher=!1,this.teachersTqb=[{fullName:"Th\u1ea7y Nguy\u1ec5n Qu\u1ed1c Ch\xed",subjectName:"M\xf4n To\xe1n",link:"https://100study.vn/lich-hoc-mon-toan/"},{fullName:"Th\u1ea7y Ph\u1ea1m Minh Nh\u1eadt",subjectName:"M\xf4n V\u0103n",link:"https://100study.vn/lich-hoc-mon-van/"},{fullName:"Th\u1ea7y Ng\xf4 Th\xe1i Ng\u1ecd",subjectName:"M\xf4n V\u1eadt L\xfd",link:"https://100study.vn/lich-hoc-mon-ly/"},{fullName:"Th\u1ea7y L\u01b0u Ti\u1ebfn \u0110\u1ea1t",subjectName:"M\xf4n Ti\u1ebfng Anh",link:"https://100study.vn/lich-hoc-mon-anh/"}],this.isMobileWebViewOfTeacherApp=!1,this.isTeacherRole=!1,this.isMobileWebViewOfTeacherApp=this.commonService.isMobileWebViewOfTeacher(void 0),this.isTeacherRole=this.sAztUserService.isTeacherRole()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Yn.f),t.rXU(v0.Hx),t.rXU(Ai.Kf),t.rXU(Fe.DK),t.rXU(G.bH),t.rXU(G.b0),t.rXU(Ln.G),t.rXU(wt.R),t.rXU(b.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-student-dashboard"]],standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["validRole",""],["doneLoading",""],["c","isDisabled"],["mainMenu","matMenu"],["noErrorDocument",""],["emptyDocument",""],["isExamDocument",""],["noErrorNews",""],["emptyNews",""],["noErrorComments",""],["emptyComments",""],["matMenuStorage","matMenu"],[4,"ngIf","ngIfElse"],[1,"p-3","mt-8"],[3,"isTeacherDashboard","hasTeacherRole"],[1,"mt-3","flex","justify-center"],[1,"flex","items-center","px-3","py-2","mt-2","rounded-md","text-danger",3,"click"],["name","log-out","size","16",3,"ngClass"],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-5",3,"ngClass"],[1,"col-span-12"],[3,"type"],["class","col-span-12",4,"ngIf"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],["class","w-full sm:w-auto mt-3 sm:mt-0 mr-auto",4,"ngIf"],["class","w-full sm:w-auto flex",4,"ngIf"],["class","mb-5 box mt-2 p-2",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","col-span-12 intro-y",4,"ngIf"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"onSearch","isServerSearch","placeholder"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","dashboard-ep_ynD9kk","class","btn btn-primary shadow-md",3,"routerLink","queryParams",4,"ngIf"],["class","btn btn-primary shadow-md",3,"click",4,"ngIf"],["azt-track-service","dashboard-ep_ynD9kk",1,"btn","btn-primary","shadow-md",3,"routerLink","queryParams"],["name","plus","size","18","strokeWidth","2",3,"ngClass"],[1,"btn","btn-primary","shadow-md",3,"click"],[1,"mb-5","box","mt-2","p-2"],[1,"font-medium","mb-3","flex","justify-between","items-center"],["name","x","size","18","strokeWidth","2",1,"clickable",3,"click"],["class","clickable font-medium mt-1 p-2 box bg-slate-200 flex justify-between",3,"click",4,"ngFor","ngForOf"],[1,"clickable","font-medium","mt-1","p-2","box","bg-slate-200","flex","justify-between",3,"click"],[3,"adsPosition"],[3,"resultId","webPage"],[3,"currentStatusObj"],["class","grid grid-cols-12 gap-6",3,"ngClass",4,"ngIf"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-5 intro-y",4,"ngIf"],[1,"grid","grid-cols-12","gap-6",3,"ngClass"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],["class","col-span-12 sm:col-span-4",4,"ngIf"],[1,"col-span-12","md:col-span-4"],[1,"box","h-full","p-4"],[1,"flex","w-full","items-center","relative"],["azt-track-service","dashboard-C_fXxmhNY",1,"flex","clickable","w-full",3,"click"],[1,"mr-2",2,"cursor","pointer",3,"nameCreateAvatar","size","linkAvatar"],[1,"text-md","flex","flex-col",2,"width","80%"],[1,"btn-text-primary","text-lg","font-bold","truncate",3,"isDisabledTooltip","matTooltipDisabled","matTooltip"],[1,"font-medium","text-xs","truncate","name-teacher",3,"isDisabledTooltip","matTooltipDisabled","matTooltip"],["class","flex-none btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","absolute top-0 right-0 p-1 z-40",4,"ngIf"],[1,"flex","mt-2"],["class","text-slate-500 mr-auto text-xs",4,"ngIf"],[1,"text-slate-500","text-xs"],[1,"mt-4"],[1,"flex","items-center","cursor-pointer",3,"click"],["name","calendar-check","size","18","strokeWidth","2",3,"ngClass"],[1,"font-medium"],[1,"ml-auto"],[1,"btn","btn-sm","btn-transparent"],["size","18","strokeWidth","2",3,"name"],["class","py-3 pb-0",4,"ngIf"],["name","building-2","size","18","strokeWidth","2",3,"ngClass"],["class","p-3 pb-0",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex-none","btn","btn-primary","btn-sm",3,"click"],[1,"absolute","top-0","right-0","p-1","z-40"],["azt-track-service","dashboard-uqMdOfHKP7",1,"p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",2,"right","20px","z-index","999",3,"click","matMenuTriggerFor"],["name","ellipsis","size","20"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","dashboard-jRno-gvxAh",1,"dropdown-item","items-center",3,"click"],["name","database","size","18","strokeWidth","2",3,"ngClass",4,"ngIf"],["class","ml-1",4,"ngIf"],["name","database","size","18","strokeWidth","2",3,"ngClass"],[1,"ml-1"],[1,"text-slate-500","mr-auto","text-xs"],[1,"py-3","pb-0"],["class","flex items-center justify-center",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"skeleton-box-loading","w-full","rounded-md","h-56-important"],[1,"box","border","border-danger","flex","items-center","justify-center"],[1,"text-danger"],["class","document",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],["azt-track-service","dashboard-LJE_baXEhm",1,"btn-text-primary","text-xs","font-medium",3,"routerLink","queryParams"],[1,"flex","items-center","mr-1"],["name","plus","size","16","strokeWidth","2",3,"ngClass"],[1,"document",3,"ngClass"],["azt-track-service","dashboard-a3EU2KC0CU",3,"routerLink","queryParams"],[3,"data"],["azt-track-service","dashboard-Oyuami8uHB",3,"routerLink","queryParams"],[3,"data","type"],[1,"text-center","mx-auto","pt-5",2,"min-height","155px"],["type","search-check",3,"size"],[1,"flex","items-center","justify-center","font-medium","text-slate-500","mt-3","text-xs","mb-5"],["azt-track-service","dashboard-ehU6kOLuk",1,"btn-text-primary","text-xs","font-medium",3,"routerLink","queryParams"],["type","file-empty",3,"size"],[1,"font-medium","text-slate-500","mt-3","text-xs","mb-5"],[1,"p-3","pb-0"],[1,"skeleton-box-loading","w-full","rounded-md",2,"min-height","76px"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",2,"min-height","76px"],[4,"ngFor","ngForOf"],["azt-track-service","dashboard-TtAo6gT7Yo",1,"btn-text-primary","text-xs","font-medium",3,"routerLink","queryParams"],[3,"content","maxLine"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],["name","message-square-text","size","18","strokeWidth","2",3,"ngClass"],["class","p-3 pb-0 h-full",4,"ngIf"],[1,"p-3","pb-0","h-full"],["style","min-height: 110px",4,"ngIf"],[1,"skeleton-box-loading","w-full","rounded-md",2,"min-height","110px"],[2,"min-height","110px"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2"],[1,"mr-1"],[3,"content","maxLine",4,"ngIf"],["type","message-empty",3,"size"],[1,"col-span-12","sm:col-span-4"],[1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-5","relative",2,"min-height","104px"],[1,"cursor-pointer"],[1,"flex","w-full","items-center"],[1,"text-md","flex","items-center",2,"width","80%"],[1,"font-medium","truncate","name-teacher",2,"font-size","inherit"],["class","pt-3",3,"hidden",4,"ngFor","ngForOf"],[1,"btn-text-primary","text-xs","font-medium",3,"routerLink","queryParams"],[1,"pt-3",3,"hidden"],[3,"routerLink"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5","intro-y"],["class","col-span-12 sm:col-span-4 md:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-4","md:col-span-3","2xl:col-span-2"],[1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-5","relative"],[1,"font-medium","truncate","name-teacher",2,"font-size","inherit",3,"matTooltip"],[1,"truncate",2,"max-width","90%",3,"isDisabledTooltip","matTooltipDisabled","matTooltip"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["azt-track-service","dashboard-Mcxl4iZp7I",1,"p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",2,"right","20px","z-index","999",3,"click","matMenuTriggerFor"],["name","ellipsis","size","20","strokeWidth","2"],["azt-track-service","dashboard-R2VIIpZj3e",1,"dropdown-item","items-center",3,"click"],["name","timer-reset","size","16","strokeWidth","2",3,"ngClass",4,"ngIf"],["class","mr-1",4,"ngIf"],["name","timer-reset","size","16","strokeWidth","2",3,"ngClass"],[1,"col-span-12","intro-y"],["azt-track-service","dashboard-yuM_Om-3R2","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["azt-track-service","dashboard-yuM_Om-3R2",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(n,o){if(1&n&&t.DNE(0,x0,8,7,"ng-container",12)(1,O2,19,15,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.isMobileWebViewOfTeacherApp&&!o.isTeacherRole)("ngIfElse",s)}},dependencies:[En.f,u0.n,w.j,b0,R.W,d0.K,c0,_0.X,X.K,jt.p,N.R,Pn,An,tn.m,Xn,h.F2,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,b.Wk,c.YN,h.wp,S.s,_t.kk,_t.Cp,et.oV,f.flO,f.WGl,x.L,h.F4,h.hx,C.Id,y.k],encapsulation:2}),a})();var w2=g(17441);const F2=()=>({"mr-2 text-pending":!0});function E2(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",9)(1,"button",10),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.goToRegister())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_ky")," "))}function D2(e,a){1&e&&(t.j41(0,"div",11)(1,"p",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_ban_da_co_tai_khoan")," "))}let R2=(()=>{var e;class a extends pt._{goToRegister(){this.redirectService.redirectRegisterForStudent(),this.dialogRef.close()}goToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`),this.dialogRef.close()}constructor(n,o,s,r){super(r,s),this.redirectService=n,this.router=o,this.dialogRef=s,this.data=r}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(w2.m),t.rXU(b.Ix),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-check-login-join-classroom"]],standalone:!0,features:[t.Vt3,t.aNF],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-5","text-center"],[1,"text-md","font-medium","flex","items-center"],["name","badge-info","size","24",3,"ngClass"],["class","mx-auto mt-2",4,"ngIf"],["class","mb-2 text-md font-medium mt-2 ",4,"ngIf"],[1,"mx-auto"],["azt-track-service","submit-name-UNDqa4pBGe9",1,"btn","w-24","btn-primary",3,"click"],[1,"mx-auto","mt-2"],["azt-track-service","submit-name-DfdZNdp-7E-",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"h3",3),t.nrm(5,"lucide-icon",4),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,E2,4,3,"div",5)(9,D2,4,3,"div",6),t.j41(10,"div",7)(11,"button",8),t.bIt("click",function(){return o.goToLogin()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()()()()),2&n&&(t.R7$(5),t.Y8G("ngClass",t.lJ4(9,F2)),t.R7$(),t.SpI(" ",t.bMT(7,5,"lang_join_classroom_must_login")," "),t.R7$(2),t.Y8G("ngIf",!o.isBusinessDomain),t.R7$(),t.Y8G("ngIf",!o.isBusinessDomain),t.R7$(3),t.SpI(" ",t.bMT(13,7,"lang_auto_dang_nhap")," "))},dependencies:[kt.U,d.MD,d.YU,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();const M2=e=>({joinByClassroomHashId:e});function N2(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",2)(1,"app-join-classroom-box",3),t.bIt("selectStudentEvent",function(o){t.eBV(i);const s=t.XpG();return t.Njj(s.selectStudentEvent(o))}),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("joinClassroomByType",t.eq3(1,M2,i.classroomHashId))}}let G2=(()=>{var e;class a extends j.H{selectStudentEvent(n){this.localStorageObject.removeCacheByValue("FrontPageStudent"),this.localStorageObject.removeCacheByValue("GetExamObjsInDashboard"),this.localStorageObject.removeCacheByValue("GetClassroomInHomeworkObjsInDashboard"),this.commonService.myNavigation(`/student/classroom-details/${n.classroomObj.id}/1`)}ngOnInit(){super.ngOnInit(),this.backToParam=this.commonService.getMyQueryParam("backto")||this.backToParam,this.classroomHashId=this.commonService.getMyParam(this.activatedRoute,"hashId")??"",this.commonService.translateMetaData({title:"lang_cms_student_add_teacher_title",description:"lang_cms_student_add_teacher_description",image:"lang_cms_test_image"}),this.loginRequired=this.userService.isNotLoginOrIsAnonymous(),this.loginRequired&&this.sAztDialogService.open(R2,{width:"600px",data:!0,restoreFocus:!1})}constructor(n,o,s,r){super(),this.activatedRoute=n,this.localStorageObject=o,this.userService=s,this.sAztDialogService=r,this.classroomHashId="",this.backToParam="/student/classroom/0",this.loginRequired=!1}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX),t.rXU(Ln.G),t.rXU(wt.R),t.rXU(ot.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-join-classroom-for-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:2,consts:[[3,"headerBackToLink"],["class","app mx-auto mt-8 p-3",4,"ngIf"],[1,"app","mx-auto","mt-8","p-3"],[3,"selectStudentEvent","joinClassroomByType"]],template:function(n,o){1&n&&(t.j41(0,"student-layout",0),t.DNE(1,N2,2,3,"div",1),t.k0s()),2&n&&(t.Y8G("headerBackToLink",o.backToParam),t.R7$(),t.Y8G("ngIf",!o.loginRequired))},dependencies:[w.j,B.l,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})(),ks=(()=>{var e;class a extends j.H{}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["homework-front-master-page"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["id","student-frontend-layout"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[d.MD,c.X1,b.iI,b.n3,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var $2=g(69593),Ts=g(84398);let z2=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.allProductViewType=Ts.V}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["coazt-app-student-all-product"]],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:3,consts:[[1,"mt-3"],[3,"showAllClassroom","listViewType","productViewType"]],template:function(n,o){1&n&&(t.j41(0,"student-layout")(1,"div",0),t.EFF(2,"DANH S\xc1CH C\xc1C S\u1ea2N PH\u1ea8M"),t.k0s(),t.j41(3,"div",0),t.nrm(4,"app-student-list-product",1),t.k0s()()),2&n&&(t.R7$(4),t.Y8G("showAllClassroom",!0)("listViewType","grid")("productViewType",o.allProductViewType.AD_VIEW_POPUP))},dependencies:[w.j,$2.B,d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})(),L2=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.vendorGoogleAnalyticsService=(0,t.WQX)(Ot.bk),this.eventCounter=0}getData(){this.initStatusObj(),this.waitDestroy(this.vendorGoogleAnalyticsService.apiVendorGoogleAnalyticsGetTotalFiredEventByNameGet(this.eventKey,5).subscribe(n=>{if(!n.success)return this.stopStatusObj();this.eventCounter=n.data?.value??0,this.stopStatusObj()}))}ngOnInit(){this.getData()}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-student-google-analytics-realtime-by-event"]],inputs:{eventKey:"eventKey",eventName:"eventName"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:4,template:function(n,o){1&n&&(t.j41(0,"b"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.EFF(3)),2&n&&(t.R7$(),t.JRh(t.bMT(2,2,o.eventName)),t.R7$(2),t.SpI(": ",o.eventCounter,"\n"))},dependencies:[d.MD,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})(),A2=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.backToParam="/student/classroom/0"}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-student-google-analytics-realtime"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:5,consts:[[3,"headerBackToLink"],[1,"box","p-3"],[3,"eventKey","eventName"],[1,"mt-3"]],template:function(n,o){1&n&&(t.j41(0,"student-layout",0)(1,"div",1)(2,"div"),t.nrm(3,"app-student-google-analytics-realtime-by-event",2),t.k0s(),t.j41(4,"div",3),t.nrm(5,"app-student-google-analytics-realtime-by-event",2),t.k0s()()()),2&n&&(t.Y8G("headerBackToLink",o.backToParam),t.R7$(3),t.Y8G("eventKey","startTestLogin")("eventName","lang_google_analytics_start_test_login"),t.R7$(2),t.Y8G("eventKey","startTestAnonymous")("eventName","lang_google_analytics_start_test_anonymous"))},dependencies:[w.j,L2,d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var Xi=g(70701),Cs=g(70974);var Y2=g(6420);const V2=e=>({grid:e}),Gn=(e,a)=>({"mt-2":e,"ml-2":a}),xs=e=>({width:e}),B2=e=>({flex:e});function X2(e,a){if(1&e&&t.eu8(0,8),2&e){t.XpG();const i=t.sdS(5);t.Y8G("ngTemplateOutlet",i)}}function U2(e,a){if(1&e&&t.eu8(0,8),2&e){t.XpG();const i=t.sdS(7);t.Y8G("ngTemplateOutlet",i)}}function H2(e,a){if(1&e&&t.eu8(0,8),2&e){t.XpG();const i=t.sdS(9);t.Y8G("ngTemplateOutlet",i)}}function J2(e,a){if(1&e&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.key)," ")}}function q2(e,a){if(1&e&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.key)," ")}}function W2(e,a){if(1&e&&(t.qex(0),t.j41(1,"mat-option",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e){const i=a.$implicit;t.R7$(),t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(3,2,i.title)," ")}}function Z2(e,a){if(1&e&&(t.j41(0,"div",23)(1,"div",12)(2,"label",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"mat-form-field",14)(6,"mat-select",15,5)(8,"mat-option"),t.nrm(9,"ngx-mat-select-search",16),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"mat-option",22),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.DNE(15,W2,4,4,"ng-container",25),t.k0s()()()),2&e){const i=t.sdS(7),n=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,8,"lang_core_sach")," "),t.R7$(3),t.Y8G("formControl",n.form.controls.bookIdFormControl),t.R7$(3),t.FS9("placeholderLabel",t.bMT(10,10,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(11,12,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("- ",t.bMT(14,14,"lang_create_tree_category_default_book")," -"),t.R7$(2),t.Y8G("ngForOf",i.filter(n.listBookObjs,"title"))}}function K2(e,a){1&e&&(t.j41(0,"div",26)(1,"div",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_vui_long_chon_khoi_hoc_va_mon_hoc")," "))}function Q2(e,a){if(1&e&&(t.j41(0,"form",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"label",13),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"mat-form-field",14)(8,"mat-select",15,3)(10,"mat-option"),t.nrm(11,"ngx-mat-select-search",16),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"mat-option",17),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,J2,3,4,"mat-option",18),t.k0s()()(),t.j41(18,"div",11)(19,"div",12)(20,"label",19),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"mat-form-field",14)(24,"mat-select",15,4)(26,"mat-option"),t.nrm(27,"ngx-mat-select-search",16),t.nI1(28,"mytranslate"),t.nI1(29,"mytranslate"),t.k0s(),t.j41(30,"mat-option",17),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.DNE(33,q2,3,4,"mat-option",18),t.k0s()()(),t.DNE(34,Z2,16,16,"div",20)(35,K2,4,3,"div",21),t.k0s()()),2&e){const i=t.sdS(9),n=t.sdS(25),o=t.XpG();t.Y8G("formGroup",o.form),t.R7$(5),t.SpI(" ",t.bMT(6,19,"lang_auto_khoi_hoc")," "),t.R7$(3),t.Y8G("formControl",o.form.controls.schoolLevel),t.R7$(3),t.FS9("placeholderLabel",t.bMT(12,21,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(13,23,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(16,25,"lang_auto_---chon_khoi"),"---"),t.R7$(2),t.Y8G("ngForOf",i.filter(i.mergeSchoolLevel(o.schoolLevelObjs),"key")),t.R7$(4),t.SpI(" ",t.bMT(22,27,"lang_auto_mon_hoc")," "),t.R7$(3),t.Y8G("formControl",o.form.controls.schoolSubject),t.R7$(3),t.FS9("placeholderLabel",t.bMT(28,29,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(29,31,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(32,33,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",n.filter(o.schoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",o.form.controls.bookIdFormControl),t.R7$(),t.Y8G("ngIf",o.form.controls.schoolLevel.invalid||o.form.controls.schoolSubject.invalid)}}function tv(e,a){if(1&e&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.key)," ")}}function ev(e,a){if(1&e&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.key)," ")}}function nv(e,a){if(1&e&&(t.qex(0),t.j41(1,"mat-option",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e){const i=a.$implicit;t.R7$(),t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(3,2,i.title)," ")}}function iv(e,a){if(1&e&&(t.j41(0,"div",36)(1,"label",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"mat-form-field",31)(5,"mat-select",15,5)(7,"mat-option"),t.nrm(8,"ngx-mat-select-search",16),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"mat-option",22),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,nv,4,4,"ng-container",25),t.k0s()()()),2&e){const i=t.sdS(6),n=t.XpG(2);t.Y8G("ngClass",t.l_i(18,Gn,n.isMobileDevice,!n.isMobileDevice)),t.R7$(),t.Y8G("ngStyle",t.eq3(21,xs,n.isMobileDevice?"54px":"")),t.R7$(),t.SpI(" ",t.bMT(3,10,"lang_core_sach")," "),t.R7$(3),t.Y8G("formControl",n.form.controls.bookIdFormControl),t.R7$(3),t.FS9("placeholderLabel",t.bMT(9,12,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(10,14,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("- ",t.bMT(13,16,"lang_create_tree_category_default_book")," -"),t.R7$(2),t.Y8G("ngForOf",i.filter(n.listBookObjs,"title"))}}function ov(e,a){1&e&&(t.j41(0,"div",38)(1,"div",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_vui_long_chon_khoi_hoc_va_mon_hoc")," "))}function av(e,a){if(1&e&&(t.j41(0,"form",9)(1,"div",28)(2,"div",29)(3,"label",30),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"mat-form-field",31)(7,"mat-select",15,3)(9,"mat-option"),t.nrm(10,"ngx-mat-select-search",16),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"mat-option",17),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,tv,3,4,"mat-option",18),t.k0s()()(),t.j41(17,"div",32)(18,"label",33),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",31)(22,"mat-select",15,4)(24,"mat-option"),t.nrm(25,"ngx-mat-select-search",16),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"mat-option",17),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.DNE(31,ev,3,4,"mat-option",18),t.k0s()()(),t.DNE(32,iv,15,23,"div",34),t.k0s(),t.DNE(33,ov,4,3,"div",35),t.k0s()),2&e){const i=t.sdS(8),n=t.sdS(23),o=t.XpG();t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("ngClass",t.eq3(37,V2,!o.isMobileDevice)),t.R7$(3),t.SpI(" ",t.bMT(5,21,"lang_auto_khoi_hoc")," "),t.R7$(3),t.Y8G("formControl",o.form.controls.schoolLevel),t.R7$(3),t.FS9("placeholderLabel",t.bMT(11,23,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(12,25,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(15,27,"lang_auto_---chon_khoi"),"---"),t.R7$(2),t.Y8G("ngForOf",i.filter(i.mergeSchoolLevel(o.schoolLevelObjs),"key")),t.R7$(),t.Y8G("ngClass",t.l_i(39,Gn,o.isMobileDevice,!o.isMobileDevice)),t.R7$(2),t.SpI(" ",t.bMT(20,29,"lang_auto_mon_hoc")," "),t.R7$(3),t.Y8G("formControl",o.form.controls.schoolSubject),t.R7$(3),t.FS9("placeholderLabel",t.bMT(26,31,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(27,33,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(30,35,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",n.filter(o.schoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",o.form.controls.bookIdFormControl),t.R7$(),t.Y8G("ngIf",o.form.controls.schoolLevel.invalid||o.form.controls.schoolSubject.invalid)}}function sv(e,a){if(1&e&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.key)," ")}}function rv(e,a){if(1&e&&(t.j41(0,"mat-option",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(2,2,i.key)," ")}}function lv(e,a){if(1&e&&(t.qex(0),t.j41(1,"mat-option",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e){const i=a.$implicit;t.R7$(),t.Y8G("value",i.id),t.R7$(),t.SpI(" ",t.bMT(3,2,i.title)," ")}}function cv(e,a){if(1&e&&(t.j41(0,"div",36)(1,"label",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"mat-form-field",31)(5,"mat-select",15,5)(7,"mat-option"),t.nrm(8,"ngx-mat-select-search",16),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"mat-option",22),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,lv,4,4,"ng-container",25),t.k0s()()()),2&e){const i=t.sdS(6),n=t.XpG(2);t.Y8G("ngClass",t.l_i(18,Gn,n.isMobileDevice,!n.isMobileDevice)),t.R7$(),t.Y8G("ngStyle",t.eq3(21,xs,n.isMobileDevice?"54px":"")),t.R7$(),t.SpI(" ",t.bMT(3,10,"lang_core_sach")," "),t.R7$(3),t.Y8G("formControl",n.form.controls.bookIdFormControl),t.R7$(3),t.FS9("placeholderLabel",t.bMT(9,12,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(10,14,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("- ",t.bMT(13,16,"lang_create_tree_category_default_book")," -"),t.R7$(2),t.Y8G("ngForOf",i.filter(n.listBookObjs,"title"))}}function mv(e,a){1&e&&(t.j41(0,"div",38)(1,"div",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_vui_long_chon_khoi_hoc_va_mon_hoc")," "))}function dv(e,a){if(1&e&&(t.j41(0,"form",9)(1,"div",39)(2,"div",29)(3,"mat-form-field",31)(4,"mat-select",15,3)(6,"mat-option"),t.nrm(7,"ngx-mat-select-search",16),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"mat-option",17),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.DNE(13,sv,3,4,"mat-option",18),t.k0s()()(),t.j41(14,"div",32)(15,"mat-form-field",31)(16,"mat-select",15,4)(18,"mat-option"),t.nrm(19,"ngx-mat-select-search",16),t.nI1(20,"mytranslate"),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"mat-option",17),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.DNE(25,rv,3,4,"mat-option",18),t.k0s()()(),t.DNE(26,cv,15,23,"div",34),t.k0s(),t.DNE(27,mv,4,3,"div",35),t.k0s()),2&e){const i=t.sdS(5),n=t.sdS(17),o=t.XpG();t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("ngClass",t.eq3(31,B2,!o.useDynamicMobile||o.useDynamicMobile&&!o.isMobileDevice)),t.R7$(3),t.Y8G("formControl",o.form.controls.schoolLevel),t.R7$(3),t.FS9("placeholderLabel",t.bMT(8,19,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(9,21,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(12,23,"lang_auto_---chon_khoi"),"---"),t.R7$(2),t.Y8G("ngForOf",i.filter(i.mergeSchoolLevel(o.schoolLevelObjs),"key")),t.R7$(),t.Y8G("ngClass",t.l_i(33,Gn,o.isMobileDevice,!o.isMobileDevice)),t.R7$(2),t.Y8G("formControl",o.form.controls.schoolSubject),t.R7$(3),t.FS9("placeholderLabel",t.bMT(20,25,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(21,27,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("",t.bMT(24,29,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",n.filter(o.schoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",o.form.controls.bookIdFormControl),t.R7$(),t.Y8G("ngIf",o.form.controls.schoolLevel.invalid||o.form.controls.schoolSubject.invalid)}}let _v=(()=>{var e;class a extends j.H{getChangeKey(){let n=this.form.getRawValue();return n.schoolLevel+"_"+n.schoolSubject+"_"+(n.bookIdFormControl??0)}updateLevelAndSubjectToForm(n,o,s){let r=this.commonService.concatMultipleArray(this.schoolLevelObjs.map(u=>u.schoolSubjectObjs)).find(u=>u.id==o)?.key,l=this.schoolLevelObjs.find(u=>u.schoolLevel?.id==n);this.schoolSubjectObjs=l?.schoolSubjectObjs??[];let m=this.schoolSubjectObjs.find(u=>u.id==o||u.key?.toLowerCase()==r?.toLowerCase());n=l?.schoolLevel?.id??0,o=m?.id??0,s=s??0;let _=this.form.getRawValue();_.schoolLevel!=n&&n&&this.form.controls.schoolLevel.setValue(n,{emitEvent:!1}),_.schoolSubject!=o&&o&&this.form.controls.schoolSubject.setValue(o,{emitEvent:!1}),_.bookIdFormControl!=s&&s&&this.form.controls.bookIdFormControl?.setValue(s,{emitEvent:!1}),(0!==n||0!==o||0!==s)&&this.getBookObjs(n,o,s,u=>{let p=this.form.getRawValue();if(p.schoolLevel!=u.schoolLevelId||p.schoolSubject!=u.schoolSubjectId||(p.bookIdFormControl??0)!=u.bookId)return;this.listBookObjs=u.books;let T=this.listBookObjs.find(F=>F.id==s);s=T?.id??0,this.showBookData&&p.bookIdFormControl!=s&&this.form.controls.bookIdFormControl?.setValue(s,{emitEvent:!1});let k=this.getChangeKey();this.lastChangeKey!=k&&(this.lastChangeKey=k,this.changeDataEvent.emit({bookName:T?.title}))})}getBookObjs(n,o,s,r){if(!this.showBookData)return r({schoolLevelId:n,schoolSubjectId:o,bookId:s,books:[]});if(!n||!o)return r({schoolLevelId:n,schoolSubjectId:o,bookId:s,books:[]});let l=this.listBookByLevelSubject.find(m=>m.levelId==n&&m.subjectId==o);if(null!=l)return r({schoolLevelId:n,schoolSubjectId:o,bookId:s,books:l.books});this.isLoadingBook=!0,this.waitDestroy(this.wrapApiResponse(this.aiElearningService.aiApiV1ElearningGetElearningBookGet(n,o)).subscribe(m=>{if(!m.success)return this.isLoadingBook=!1,this.errorStatusObj(m.message,!0),r({schoolLevelId:n,schoolSubjectId:o,bookId:s,books:[]});m.data=m.data?.filter(_=>_.isActive),this.listBookByLevelSubject.push({levelId:n,subjectId:o,books:m.data??[]}),this.isLoadingBook=!1,r({schoolLevelId:n,schoolSubjectId:o,bookId:s,books:m.data??[]})}))}getSubjectAndLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);if(this.schoolLevelObjs=n.data?.schoolLevelSubjectObjs??[],this.removeLevelSubjectWithOtherName&&(this.schoolLevelObjs=this.schoolLevelObjs.filter(o=>"azt_lang_core_khoi_khac"!=o.schoolLevel?.key),this.schoolLevelObjs.forEach(o=>o.schoolSubjectObjs=o.schoolSubjectObjs.filter(s=>"azt_auto_lang_khac"!=s.key))),this.useExamSchoolLogData&&0==this.form.controls.schoolLevel.value)return this.updateLevelAndSubjectToForm(n.data?.examSchoolLogObj?.lastSchoolLevelId??0,n.data?.examSchoolLogObj?.lastSchoolSubjectId??0,void 0),this.stopStatusObj();if(this.useFirstAsDefault&&0==this.form.controls.schoolLevel.value){let o=this.commonService.getLastOfArray(this.schoolLevelObjs),s=this.commonService.getFirstOfArray(o?.schoolSubjectObjs??[]);if(o&&s)return this.updateLevelAndSubjectToForm(o.schoolLevel?.id??0,s.id,this.form.controls.bookIdFormControl?.value),this.stopStatusObj()}this.updateLevelAndSubjectToForm(this.form.controls.schoolLevel.value,this.form.controls.schoolSubject.value,this.form.controls.bookIdFormControl?.value),this.stopStatusObj()}))}listenChangeLevelSubjectBook(){this.form.controls.schoolLevel.valueChanges.subscribe(n=>{let o=this.form.getRawValue();this.updateLevelAndSubjectToForm(o.schoolLevel,o.schoolSubject,o.bookIdFormControl)}),this.form.controls.schoolSubject.valueChanges.subscribe(n=>{let o=this.form.getRawValue();this.updateLevelAndSubjectToForm(o.schoolLevel,o.schoolSubject,o.bookIdFormControl)}),this.form.controls.bookIdFormControl?.valueChanges.subscribe(n=>{let o=this.form.getRawValue();this.updateLevelAndSubjectToForm(o.schoolLevel,o.schoolSubject,o.bookIdFormControl)})}ngOnInit(){this.getSubjectAndLevel(),this.listenChangeLevelSubjectBook()}constructor(n,o){super(),this.commonListService=n,this.aiElearningService=o,this.removeLevelSubjectWithOtherName=!1,this.showBookData=!1,this.useExamSchoolLogData=!1,this.useFirstAsDefault=!1,this.useDynamicMobile=!1,this.layout="default",this.changeDataEvent=new t.bkB,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.listBookObjs=[],this.lastChangeKey=void 0,this.listBookByLevelSubject=[],this.isLoadingBook=!1}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Xa.Nz),t.rXU(Cs.T5))},e.\u0275cmp=t.VBU({type:e,selectors:[["config-level-subject-book"]],inputs:{form:"form",removeLevelSubjectWithOtherName:"removeLevelSubjectWithOtherName",showBookData:"showBookData",useExamSchoolLogData:"useExamSchoolLogData",useFirstAsDefault:"useFirstAsDefault",useDynamicMobile:"useDynamicMobile",layout:"layout"},outputs:{changeDataEvent:"changeDataEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:3,consts:[["defaultLayoutTpl",""],["labelInOneLineTpl",""],["labelHiddenTpl",""],["searchInListSchoolLevel","searchInList"],["searchInListSchoolSubject","searchInList"],["searchInListBook","searchInList"],[1,"config-level-subject"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"formGroup"],["id","azt-config-level-subject",1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","lg:col-span-6"],[1,"font-medium"],["for","schoolLevel",1,"form-label","flex","items-center"],["appearance","outline"],["searchInList","",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubject",1,"form-label","flex","items-center"],["class","col-span-12",4,"ngIf"],["class","col-span-12","style","margin-top: -20px",4,"ngIf"],[3,"value"],[1,"col-span-12"],["for","bookSelected",1,"form-label","flex","items-center"],[4,"ngFor","ngForOf"],[1,"col-span-12",2,"margin-top","-20px"],[1,"text-xs","mt-2","text-danger"],["id","azt-config-level-subject",1,"grid-cols-12","gap-4",3,"ngClass"],[1,"col-span-12","sm:col-span-3","flex","items-center"],["for","schoolLevel",1,"mr-1","flex-none","whitespace-nowrap"],["appearance","outline",1,"box",2,"width","100%"],[1,"col-span-12","sm:col-span-4","flex","items-center",3,"ngClass"],["for","schoolSubject",1,"mr-1","whitespace-nowrap","flex-none"],["class","col-span-5 flex items-center",3,"ngClass",4,"ngIf"],["style","margin-top: -20px",4,"ngIf"],[1,"col-span-5","flex","items-center",3,"ngClass"],["for","bookSelected",1,"mr-1","flex-none","whitespace-nowrap",3,"ngStyle"],[2,"margin-top","-20px"],["id","azt-config-level-subject",1,"justify-end","ml-auto",3,"ngClass"]],template:function(n,o){1&n&&(t.j41(0,"div",6),t.DNE(1,X2,1,1,"ng-container",7)(2,U2,1,1,"ng-container",7)(3,H2,1,1,"ng-container",7),t.k0s(),t.DNE(4,Q2,36,35,"ng-template",null,0,t.C5r)(6,av,34,42,"ng-template",null,1,t.C5r)(8,dv,28,36,"ng-template",null,2,t.C5r)),2&n&&(t.R7$(),t.Y8G("ngIf","default"==o.layout),t.R7$(),t.Y8G("ngIf","label_in_one_line"==o.layout),t.R7$(),t.Y8G("ngIf","label_hidden"==o.layout))},dependencies:[Xt.An,Xt.U9,wn.x,d.MD,d.YU,d.Sq,d.bT,d.T3,d.B3,c.X1,c.qT,c.BC,c.cb,c.l_,c.j4,b.iI,c.YN,h.wp,S.s,at.wT,nt.rl,At.VO,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();const uv=(e,a)=>({"":e,"flex items-center ":a});function pv(e,a){if(1&e){const i=t.RV6();t.j41(0,"span",5),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.removeFilter())}),t.EFF(1,"X\xf3a b\u1ed9 l\u1ecdc"),t.k0s()}}function gv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",8),t.nrm(2,"app-box-view-live-classroom",9),t.k0s(),t.bVm()),2&e){const i=a.$implicit;t.R7$(2),t.Y8G("liveClassData",i)}}function hv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",6),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,gv,3,1,"ng-container",7),t.bVm()),2&e){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,"\u0110ANG DI\u1ec4N RA")),t.R7$(2),t.Y8G("ngForOf",i.currentLiveObjs)}}function fv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",8),t.nrm(2,"app-box-view-live-classroom",9),t.k0s(),t.bVm()),2&e){const i=a.$implicit;t.R7$(2),t.Y8G("liveClassData",i)}}function bv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",6),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.DNE(5,fv,3,1,"ng-container",7),t.bVm()),2&e){const i=t.XpG();t.R7$(2),t.Lme("",t.bMT(3,3,"H\xd4M NAY"),"\xa0","("+t.bMT(4,5,i.todayDate)+")",""),t.R7$(3),t.Y8G("ngForOf",i.todayLiveObjs)}}function vv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",8),t.nrm(2,"app-box-view-live-classroom",9),t.k0s(),t.bVm()),2&e){const i=a.$implicit;t.R7$(2),t.Y8G("liveClassData",i)}}function kv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",6),t.EFF(2),t.nI1(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(4,"getDayOfWeek"),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,vv,3,1,"ng-container",7),t.bVm()),2&e){const i=t.XpG().$implicit;t.R7$(2),t.Lme(" ",i.startLive?t.bMT(3,3,i.startLive):"Kh\xf4ng c\u1ea5u h\xecnh th\u1eddi gian","\xa0",i.startLive?"("+t.bMT(5,7,t.bMT(4,5,i.startLive))+")":""," "),t.R7$(4),t.Y8G("ngForOf",i.objs)}}function Tv(e,a){if(1&e&&(t.qex(0),t.DNE(1,kv,7,9,"ng-container",4),t.bVm()),2&e){const i=a.$implicit;t.R7$(),t.Y8G("ngIf",i.objs.length>0)}}function Cv(e,a){if(1&e&&(t.qex(0),t.DNE(1,Tv,2,1,"ng-container",7),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.otherDayGroupLiveObjs)}}let xv=(()=>{var e;class a extends j.H{removeFilter(){this.form.controls.schoolLevel.setValue(0),this.form.controls.schoolSubject.setValue(0),this.searchContentStr=void 0,this.filterData()}onSearchBox(n){this.searchContentStr=n.searchContent,this.filterData()}filterData(){let n=this.form.getRawValue(),o=n.schoolLevel,s=n.schoolSubject,r=this.allObjs;o&&(r=r.filter(u=>u.liveClassProductObj?.metadata?.data.classId==o)),s&&(r=r.filter(u=>u.liveClassProductObj?.metadata?.data.subjectId==s)),this.searchContentStr&&(r=r.filter(u=>this.searchByKeyword(u,this.searchContentStr??""))),this.currentLiveObjs=r.filter(u=>this.isCurrentLive(u));let l=this.currentLiveObjs.map(u=>u.id);this.todayLiveObjs=r.filter(u=>!l.includes(u.id)&&u.startLive&&this.sAztTimeService.getFormatDate(u.startLive)==this.sAztTimeService.getTodayFormatDate()),l=l.concat(this.todayLiveObjs.map(u=>u.id));let m=r.filter(u=>!l.includes(u.id)),_=this.commonService.arrayToDictionary(m,u=>this.sAztTimeService.getFormatDate(u.startLive??new Date));this.otherDayGroupLiveObjs=[],Object.entries(_).forEach(([u,p],T)=>{let k=this.commonService.getFirstOfArray(p);k&&this.otherDayGroupLiveObjs.push({startLive:k.startLive,objs:p})})}isCurrentLive(n){return"RUNNING"==this.sAztTimeService.calculationTimeUntil(n.startLive,n.productStatusEnum).productStatus}searchByKeyword(n,o){o=o.toLowerCase(),o=this.commonService.removeSpecialStringInSearch(o),o=this.commonService.convertVietnameseToEnglish(o);let s=n.name;return s=s.toLowerCase(),s=this.commonService.removeSpecialStringInSearch(s),s=this.commonService.convertVietnameseToEnglish(s),-1!=s.indexOf(o)}initData(){this.initStatusObj();let n={userId:this.sAztUserService.getUserObj().id,numberOfProduct:100,type:Xi.i_.LIVECLASS.toString(),tags:[]};this.waitDestroy(this.wrapApiResponse(this.AIRecommendationService.aiApiV1RecommendationGetRecommendedProductsV2Post(n)).subscribe(o=>{let s=o.data??[];if(s.length<=0)return this.successStatusObj();let r=this.customerProductManagementService.apiCustomerProductManagementGetObjsByIdsPost(s);this.waitDestroy(r.subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.allObjs=l.data?.objs??[],this.filterData(),this.stopStatusObj()}))}))}ngOnInit(){this.initData(),this.waitDestroy(this.form.controls.schoolLevel.valueChanges.subscribe(n=>{this.filterData()})),this.waitDestroy(this.form.controls.schoolSubject.valueChanges.subscribe(n=>{this.filterData()}))}constructor(){super(),this.customerProductManagementService=(0,t.WQX)(Ot.AC),this.sAztTimeService=(0,t.WQX)(V.F),this.allObjs=[],this.AIRecommendationService=(0,t.WQX)(Cs.h8),this.sAztUserService=(0,t.WQX)(wt.R),this.currentLiveObjs=[],this.todayLiveObjs=[],this.otherDayGroupLiveObjs=[],this.todayDate=new Date,this.form=new c.gE({schoolLevel:new c.MJ(0,{nonNullable:!0}),schoolSubject:new c.MJ(0,{nonNullable:!0})})}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-list-all-live-class"]],standalone:!0,features:[t.Vt3,t.aNF],decls:8,vars:17,consts:[[1,"mb-5",3,"ngClass"],[3,"layout","useDynamicMobile","form","removeLevelSubjectWithOtherName","showBookData"],[1,"ml-2",3,"onSearch","isServerSearch","placeholder"],["class","ml-2 text-danger clickable",3,"click",4,"ngIf"],[4,"ngIf"],[1,"ml-2","text-danger","clickable",3,"click"],[1,"mt-5",2,"font-size","18px"],[4,"ngFor","ngForOf"],[1,"mt-3"],[3,"liveClassData"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.nrm(1,"config-level-subject-book",1),t.j41(2,"azt-search-box",2),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(r){return o.onSearchBox(r.searchObj)}),t.k0s(),t.DNE(4,pv,2,0,"span",3),t.k0s(),t.DNE(5,hv,5,4,"ng-container",4)(6,bv,6,7,"ng-container",4)(7,Cv,2,1,"ng-container",4)),2&n&&(t.Y8G("ngClass",t.l_i(14,uv,o.isMobileDevice,!o.isMobileDevice)),t.R7$(),t.Y8G("layout","label_hidden")("useDynamicMobile",!0)("form",o.form)("removeLevelSubjectWithOtherName",!0)("showBookData",!1),t.R7$(),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,12,"lang_auto_tim_kiem")),t.R7$(2),t.Y8G("ngIf",o.searchContentStr||o.form.controls.schoolLevel.value||o.form.controls.schoolSubject.value),t.R7$(),t.Y8G("ngIf",o.currentLiveObjs.length>0),t.R7$(),t.Y8G("ngIf",o.todayLiveObjs.length>0),t.R7$(),t.Y8G("ngIf",o.otherDayGroupLiveObjs.length>0))},dependencies:[_v,R.W,Y2.f,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,h.bH,h.vv,h.hZ,C.Id,y.k],encapsulation:2}),a})();var yv=g(40605);let Ui=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.sAZTranslateService=(0,t.WQX)(Wn.o),this.countdownText="",this.diffTime=0,this.monthTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_month")??" th\xe1ng",this.dayTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_day")??" ng\xe0y",this.clockTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_clock")??" gi\u1edd",this.minuteTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_minute")??" ph\xfat",this.secondTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_giay")??" gi\xe2y",this.moreTrans=this.sAZTranslateService.myTranslateInstant("lang_time_more")??" n\u1eefa",this.soonTrans=this.sAZTranslateService.myTranslateInstant("lang_time_start_soon")??"S\u1eafp di\u1ec5n ra",this.startedTrans=this.sAZTranslateService.myTranslateInstant("lang_time_started")??"\u0110\xe3 di\u1ec5n ra",this.startingTrans=this.sAZTranslateService.myTranslateInstant("lang_time_starting")??"\u0110ang di\u1ec5n ra"}updateCountdown(){if(!this.time)return void(this.countdownText="");let s=new Date(this.time).getTime()-Date.now();this.diffTime=s;const r=Math.floor(s/2592e6);s-=2592e6*r;const l=Math.floor(s/864e5);s-=864e5*l;const m=Math.floor(s/36e5);s-=36e5*m;const _=Math.floor(s/6e4);s-=6e4*_;const u=Math.floor(s/1e3);this.countdownText=this.productStatus!=Ot.WD.RUNNING?this.productStatus!=Ot.WD.COMPLETED?s<=0||this.diffTime<=0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center; opacity: 0.5">${this.startedTrans}</span>`:r>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium  text-xs text-slate-300 inline-block" style="align-content: center;">${r}&nbsp;${this.monthTrans}${this.moreTrans}</span>`:l>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${l}&nbsp;${this.dayTrans}${this.moreTrans}</span>`:m>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${m}&nbsp;${this.clockTrans}${_>0?"&nbsp;"+_+"&nbsp;"+this.minuteTrans:""}${this.moreTrans}</span>`:_>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${_}&nbsp;${this.minuteTrans}${u>0?"&nbsp;"+u+"&nbsp;"+this.secondTrans:""}${this.moreTrans}</span>`:`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${u}&nbsp;${this.secondTrans}${this.moreTrans}</span>`:`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center; opacity: 0.5">${this.startedTrans}</span>`:`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-success inline-block" style="align-content: center">${this.startingTrans}</span>`}startCountdown(){if(this.updateCountdown(),this.time){const n=new Date(this.time).getTime(),o=Date.now();if(0===Math.floor((n-o)/864e5)){const l=new Se.B,m=(0,yv.Y)(1e3).pipe((0,yn.Q)(l));this.waitDestroy(m.subscribe(_=>{if(this.diffTime<=0)return this.countdownText=`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center; opacity: 0.5">${this.startedTrans}</span>`,l.next(!0);this.updateCountdown()}))}}}ngOnInit(){this.updateCountdown(),this.startCountdown()}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["azt-countdown-timer"]],inputs:{time:"time",productStatus:"productStatus"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:3,consts:[[3,"innerHTML"]],template:function(n,o){1&n&&(t.nrm(0,"span",0),t.nI1(1,"safeNormalHtmlContent")),2&n&&t.Y8G("innerHTML",t.bMT(1,1,o.countdownText),t.npT)},dependencies:[d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,h._y,C.Id,y.k],encapsulation:2}),a})();const Sv=e=>[e];function Iv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",3)(2,"a",4),t.nI1(3,"navigationLocalize"),t.j41(4,"div")(5,"span",5),t.EFF(6),t.k0s()(),t.j41(7,"div")(8,"span"),t.EFF(9,"Gi\xe1o vi\xean:\xa0"),t.k0s(),t.j41(10,"span",6),t.EFF(11),t.k0s()(),t.j41(12,"div",7)(13,"span",8),t.EFF(14),t.nI1(15,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.nrm(16,"azt-countdown-timer",9),t.k0s()()(),t.bVm()),2&e){const i=a.$implicit;t.R7$(2),t.Y8G("routerLink",t.eq3(10,Sv,t.bMT(3,6,"/student/view-product/"+i.id))),t.R7$(4),t.SpI("Ch\u1ee7 \u0111\u1ec1:\xa0",i.name,""),t.R7$(5),t.JRh(null==i.creatorInfoObj?null:i.creatorInfoObj.fullName),t.R7$(3),t.JRh(t.bMT(15,8,i.startLive)),t.R7$(2),t.Y8G("time",i.startLive)("productStatus",i.productStatusEnum)}}function jv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",1),t.EFF(2,"C\xc1C L\u1edaP B\u1ea0N \u0110\xc3 \u0110\u0102NG K\xdd"),t.k0s(),t.j41(3,"div"),t.DNE(4,Iv,17,12,"ng-container",2),t.k0s(),t.bVm()),2&e){const i=t.XpG();t.R7$(4),t.Y8G("ngForOf",i.objs)}}let Ov=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.customerProductManagementService=(0,t.WQX)(Ot.AC),this.hasJoinedLiveClassEvent=new t.bkB,this.objs=[]}initData(){this.initStatusObj(),this.waitDestroy(this.customerProductManagementService.apiCustomerProductManagementGetJoinedProductObjsGet().subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.objs=n.data?.objs??[],this.stopStatusObj(),this.hasJoinedLiveClassEvent.emit(!!this.objs.length)}))}ngOnInit(){this.initData()}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-list-joined-live-class"]],outputs:{hasJoinedLiveClassEvent:"hasJoinedLiveClassEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[1,"font-medium","pl-1","pr-1"],[4,"ngFor","ngForOf"],[1,"mt-2","mb-2"],[1,"block","hover:bg-slate-100","dark:hover:bg-darkmode-400","p-1",3,"routerLink"],[1,"font-medium"],[1,"link__color"],[1,"mt-1"],[1,"font-bold",2,"font-size","14px"],[3,"time","productStatus"]],template:function(n,o){1&n&&t.DNE(0,jv,5,1,"ng-container",0),2&n&&t.Y8G("ngIf",o.objs.length)},dependencies:[Ui,h.F2,d.MD,d.Sq,d.bT,c.X1,b.iI,b.Wk,c.YN,S.s,f.flO,x.L,h.i_,C.Id,y.k],encapsulation:2}),a})();const wv=e=>({"md:col-span-4":e}),Fv=e=>({"md:col-span-8":e});let Ev=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.hasJoinedData=void 0,this.allProductTypeEnum=Xi.i_,this.allProductViewType=Ts.V}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-list-live-class"]],standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:7,consts:[[3,"headerBackToLink"],[1,"container","mx-auto",2,"max-width","1100px"],[1,"grid","grid-cols-12","gap-6","mt-4"],[1,"col-span-12",3,"ngClass"],[1,"box","p-3"],[3,"hasJoinedLiveClassEvent"]],template:function(n,o){1&n&&(t.j41(0,"student-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-list-joined-live-class",5),t.bIt("hasJoinedLiveClassEvent",function(r){return o.hasJoinedData=r}),t.k0s()()(),t.j41(6,"div",3)(7,"div",4),t.nrm(8,"app-list-all-live-class"),t.k0s()()()()()),2&n&&(t.Y8G("headerBackToLink","/student/classroom/0"),t.R7$(3),t.Y8G("ngClass",t.eq3(3,wv,o.hasJoinedData)),t.R7$(3),t.Y8G("ngClass",t.eq3(5,Fv,o.hasJoinedData)))},dependencies:[w.j,Ov,xv,d.MD,d.YU,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();function Dv(e,a){1&e&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Rv(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",9),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Mv(e,a){if(1&e&&(t.j41(0,"tr",19)(1,"td")(2,"div",20)(3,"div",21),t.EFF(4),t.k0s(),t.j41(5,"div",22),t.EFF(6),t.k0s()()(),t.j41(7,"td")(8,"span"),t.EFF(9),t.nI1(10,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s()(),t.j41(11,"td",23)(12,"span"),t.EFF(13),t.nI1(14,"formatMoney"),t.nI1(15,"mytranslate"),t.k0s()()()),2&e){const i=a.$implicit;t.Y8G("id","row_product_payment_"+i.id),t.R7$(4),t.JRh(null==i.productObj?null:i.productObj.name),t.R7$(2),t.JRh(null==i.productObj?null:i.productObj.type),t.R7$(3),t.JRh(t.bMT(10,5,i.createdAt)),t.R7$(4),t.JRh(t.bMT(14,7,i.money)+" "+t.bMT(15,9,"lang_auto_vnd_upper"))}}function Nv(e,a){if(1&e&&(t.qex(0),t.DNE(1,Mv,16,11,"tr",18),t.bVm()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.productPaymentList)}}function Gv(e,a){1&e&&(t.j41(0,"tr")(1,"td",24)(2,"span",25),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_not_data")))}function $v(e,a){1&e&&t.nrm(0,"azt-loading-ui",28),2&e&&t.Y8G("size",16)}function zv(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",29),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.getData())}),t.j41(2,"span",30),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",31),t.k0s()}if(2&e){const i=t.XpG(3);t.FS9("matTooltip",t.bMT(1,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Y8G("disabled",!i.nextPage),t.R7$(3),t.JRh(t.bMT(4,5,"lang_auto_xem_them"))}}function Lv(e,a){if(1&e&&(t.j41(0,"div",26),t.DNE(1,$v,1,1,"azt-loading-ui",27)(2,zv,6,7,"ng-template",null,2,t.C5r),t.k0s()),2&e){const i=t.sdS(3),n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.loadingMore)("ngIfElse",i)}}function Av(e,a){if(1&e&&(t.j41(0,"div",10)(1,"drag-scroll")(2,"table",11)(3,"thead")(4,"tr",12)(5,"th",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",14),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",15),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,Nv,2,1,"ng-container",16)(16,Gv,5,3,"ng-template",null,1,t.C5r),t.k0s()()()(),t.DNE(18,Lv,4,2,"div",17)),2&e){const i=t.sdS(17),n=t.XpG();t.R7$(6),t.JRh(t.bMT(7,6,"lang_azt_product")),t.R7$(3),t.JRh(t.bMT(10,8,"lang_azt_purchase_date")),t.R7$(3),t.JRh(t.bMT(13,10,"lang_azt_price")),t.R7$(3),t.Y8G("ngIf",n.productPaymentList.length)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",n.productPaymentList.length>0)}}let Pv=(()=>{var e;class a extends j.H{getData(){this.nextPage||this.initStatusObj(),this.loadingMore=!0,this.waitDestroy(this.customerProductManagementService.apiCustomerProductManagementGetPaymentHistoryObjsGet().subscribe(n=>{if(!n.success)return this.loadingMore=!1,this.errorStatusObj(n.message,!0);this.productPaymentList=n.data?.objs??[],this.nextPage=n.data?.nextPage??"",this.loadingMore=!1,this.successStatusObj()}))}constructor(){super(),this.customerProductManagementService=(0,t.WQX)(Ot.AC),this.backToParam="/student/classroom/0",this.productPaymentList=[],this.nextPage=void 0,this.loadingMore=!1}ngOnInit(){this.getData()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["coazt-product-payment-history"]],standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:7,consts:[["doneLoading",""],["emptyPayment",""],["doneLoadNextPage",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mt-1"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"width","300px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-right"],[4,"ngIf","ngIfElse"],["class","mt-3 mb-3 flex justify-center",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"product"],[1,"font-medium"],[1,"mt-1","text-xs","text-slate-500"],[1,"text-right"],["colspan","4",1,"text-center"],[1,"font-medium","text-slate-500"],[1,"mt-3","mb-3","flex","justify-center"],[3,"size",4,"ngIf","ngIfElse"],[3,"size"],[1,"btn","btn-transparent",3,"click","matTooltip","disabled"],[1,"mr-2"],["name","chevron-down","size","20"]],template:function(n,o){if(1&n&&(t.j41(0,"student-layout",3)(1,"div",4)(2,"h3",5),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Dv,3,3,"div",6),t.k0s(),t.DNE(6,Rv,1,1,"azt-loading-effect",7)(7,Av,19,12,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(8);t.Y8G("headerBackToLink",o.backToParam),t.R7$(3),t.JRh(t.bMT(4,5,"lang_azt_product_payment_history")),t.R7$(2),t.Y8G("ngIf",o.productPaymentList.length>0&&o.isMobileDevice),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[P.AC,P.jd,P.Ew,w.j,X.K,N.R,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,h.i_,h.t0,C.Id,y.k],encapsulation:2}),a})();var Yv=g(34500),Vv=g(31659);const Bv=["*"];let Xv=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.sAztDialogService=(0,t.WQX)(ot.i)}previewMedia(){this.sAztDialogService.open(nn.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...this.mediaFile,index:0},showDownloadIcon:!1},restoreFocus:!1})}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["azt-preview-media-box"]],inputs:{mediaFile:"mediaFile"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:Bv,decls:2,vars:0,consts:[[1,"inline-block","clickable",3,"click"]],template:function(n,o){1&n&&(t.NAR(),t.j41(0,"div",0),t.bIt("click",function(){return o.previewMedia()}),t.SdG(1),t.k0s())},dependencies:[d.MD,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();const Uv=e=>[e];function Hv(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",6),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Jv(e,a){1&e&&t.nrm(0,"lucide-icon",32)}function qv(e,a){if(1&e&&(t.nrm(0,"img",33),t.nI1(1,"mycdn")),2&e){const i=t.XpG().$implicit,n=t.XpG(4);t.Y8G("src",t.bMT(1,1,n.getFileIcon(i)),t.B4B)}}function Wv(e,a){if(1&e&&(t.qex(0),t.j41(1,"azt-preview-media-box",25)(2,"div",26)(3,"div",27),t.DNE(4,Jv,1,0,"lucide-icon",28),t.nI1(5,"isVideo"),t.DNE(6,qv,2,3,"ng-template",null,4,t.C5r),t.k0s(),t.j41(8,"div",29)(9,"div",30)(10,"span",31),t.EFF(11),t.k0s()()()()(),t.bVm()),2&e){let i;const n=a.$implicit,o=t.sdS(7);t.R7$(),t.Y8G("mediaFile",n),t.R7$(3),t.Y8G("ngIf",t.bMT(5,4,null!==(i=n.mimes)&&void 0!==i?i:""))("ngIfElse",o),t.R7$(7),t.JRh(n.name)}}function Zv(e,a){if(1&e&&(t.qex(0),t.DNE(1,Wv,12,6,"ng-container",24),t.bVm()),2&e){const i=t.XpG(3);t.R7$(),t.Y8G("ngForOf",null==i.obj.liveClassProductObj||null==i.obj.liveClassProductObj.privateInfo||null==i.obj.liveClassProductObj.privateInfo.data?null:i.obj.liveClassProductObj.privateInfo.data.files)}}function Kv(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",34)(2,"div",27),t.nrm(3,"i",35),t.k0s(),t.j41(4,"div",29)(5,"div",30)(6,"span",36),t.EFF(7),t.k0s()()()(),t.bVm()),2&e){const i=a.$implicit;t.R7$(7),t.JRh(i.name)}}function Qv(e,a){if(1&e&&t.DNE(0,Kv,8,1,"ng-container",24),2&e){const i=t.XpG(3);t.Y8G("ngForOf",i.obj.publicFileNames)}}function tk(e,a){if(1&e&&(t.j41(0,"div",16)(1,"div",17),t.EFF(2,"T\xe0i li\u1ec7u \u0111\xednh k\xe8m"),t.k0s(),t.DNE(3,Zv,2,1,"ng-container",21)(4,Qv,1,1,"ng-template",null,3,t.C5r),t.k0s()),2&e){const i=t.sdS(5),n=t.XpG(2);t.R7$(3),t.Y8G("ngIf",n.obj.hasJoined)("ngIfElse",i)}}function ek(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",37)(2,"a",38),t.nI1(3,"navigationLocalize"),t.EFF(4),t.k0s()(),t.bVm()),2&e){const i=a.$implicit;t.R7$(2),t.Y8G("routerLink",t.eq3(4,Uv,t.bMT(3,2,"/de-thi/"+i.hashId))),t.R7$(2),t.JRh(i.name)}}function nk(e,a){if(1&e&&(t.qex(0),t.DNE(1,ek,5,6,"ng-container",24),t.bVm()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",null==i.obj.liveClassProductObj||null==i.obj.liveClassProductObj.privateInfo||null==i.obj.liveClassProductObj.privateInfo.data?null:i.obj.liveClassProductObj.privateInfo.data.examObjs)}}function ik(e,a){1&e&&(t.j41(0,"div",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"N\u1ed9i dung \u1ea9n")))}function ok(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",37)(1,"a",40),t.bIt("click",function(){let o;t.eBV(i);const s=t.XpG(2);return t.Njj(s.clickToLink(null!==(o=null==s.obj.liveClassProductObj||null==s.obj.liveClassProductObj.privateInfo||null==s.obj.liveClassProductObj.privateInfo.data?null:s.obj.liveClassProductObj.privateInfo.data.liveLink)&&void 0!==o?o:""))}),t.EFF(2),t.k0s()()}if(2&e){const i=t.XpG(2);t.R7$(2),t.JRh(null==i.obj.liveClassProductObj||null==i.obj.liveClassProductObj.privateInfo||null==i.obj.liveClassProductObj.privateInfo.data?null:i.obj.liveClassProductObj.privateInfo.data.liveLink)}}function ak(e,a){1&e&&(t.j41(0,"div",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"N\u1ed9i dung \u1ea9n")))}function sk(e,a){if(1&e){const i=t.RV6();t.j41(0,"span",44),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.checkLoginUser(o.obj,"buy"))}),t.EFF(1),t.nI1(2,"formatMoney"),t.k0s()}if(2&e){const i=t.XpG(3);t.R7$(),t.SpI("\u0110\u0103ng k\xfd tham gia (",t.bMT(2,1,i.obj.price),"\u0111)")}}function rk(e,a){if(1&e){const i=t.RV6();t.j41(0,"span",44),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.checkLoginUser(o.obj,"join"))}),t.EFF(1,"\u0110\u0103ng k\xfd tham gia (Mi\u1ec5n ph\xed)"),t.k0s()}}function lk(e,a){if(1&e&&(t.j41(0,"div",42),t.DNE(1,sk,3,3,"span",43)(2,rk,2,0,"span",43),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngIf",i.obj.price),t.R7$(),t.Y8G("ngIf",!i.obj.price)}}function ck(e,a){1&e&&(t.j41(0,"div",42)(1,"span",45),t.EFF(2,"\u0110\xe3 tham gia l\u1edbp"),t.k0s()())}function mk(e,a){if(1&e&&(t.j41(0,"div",7)(1,"div")(2,"div",8),t.EFF(3,"Th\xf4ng tin phi\xean d\u1ea1y"),t.k0s(),t.j41(4,"div",9)(5,"span",10),t.EFF(6),t.nI1(7,"getLevelNameById"),t.nI1(8,"async"),t.k0s(),t.j41(9,"span",11),t.EFF(10," M\xf4n h\u1ecdc: "),t.j41(11,"span",10),t.EFF(12),t.nI1(13,"getSubjectNameById"),t.nI1(14,"async"),t.k0s()()(),t.j41(15,"div",9)(16,"span",10),t.EFF(17,"Ch\u1ee7 \u0111\u1ec1:"),t.k0s(),t.EFF(18),t.k0s()(),t.j41(19,"div",12)(20,"div",13)(21,"span",14),t.EFF(22),t.nI1(23,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.nrm(24,"br")(25,"azt-countdown-timer",15),t.k0s()()(),t.j41(26,"div",16)(27,"div",17),t.EFF(28,"N\u1ed9i dung d\u1ea1y"),t.k0s(),t.nrm(29,"div",18),t.nI1(30,"makeLinkToTag"),t.k0s(),t.DNE(31,tk,6,2,"div",19),t.j41(32,"div",16)(33,"div",20),t.EFF(34,"\u0110\u1ec1 thi Azota"),t.k0s(),t.DNE(35,nk,2,1,"ng-container",21)(36,ik,3,3,"ng-template",null,1,t.C5r),t.k0s(),t.j41(38,"div",16)(39,"div",20),t.EFF(40,"Link tham gia"),t.k0s(),t.DNE(41,ok,3,1,"div",22)(42,ak,3,3,"ng-template",null,2,t.C5r),t.k0s(),t.DNE(44,lk,3,2,"div",23)(45,ck,3,0,"div",23)),2&e){const i=t.sdS(37),n=t.sdS(43),o=t.XpG();t.R7$(6),t.JRh(t.bMT(8,16,t.bMT(7,14,null==o.obj.liveClassProductObj||null==o.obj.liveClassProductObj.metadata||null==o.obj.liveClassProductObj.metadata.data?null:o.obj.liveClassProductObj.metadata.data.classId))),t.R7$(6),t.JRh(t.bMT(14,20,t.bMT(13,18,null==o.obj.liveClassProductObj||null==o.obj.liveClassProductObj.metadata||null==o.obj.liveClassProductObj.metadata.data?null:o.obj.liveClassProductObj.metadata.data.subjectId))),t.R7$(6),t.SpI(" ",o.obj.name," "),t.R7$(4),t.JRh(t.bMT(23,22,o.obj.startLive)),t.R7$(3),t.Y8G("time",o.obj.startLive)("productStatus",o.obj.productStatusEnum),t.R7$(4),t.Y8G("innerHTML",t.bMT(30,24,o.obj.shortDescription),t.npT),t.R7$(2),t.Y8G("ngIf",(null==o.obj.liveClassProductObj||null==o.obj.liveClassProductObj.privateInfo||null==o.obj.liveClassProductObj.privateInfo.data||null==o.obj.liveClassProductObj.privateInfo.data.files?null:o.obj.liveClassProductObj.privateInfo.data.files.length)||(null==o.obj.publicFileNames?null:o.obj.publicFileNames.length)),t.R7$(4),t.Y8G("ngIf",o.obj.hasJoined)("ngIfElse",i),t.R7$(6),t.Y8G("ngIf",(null==o.obj.liveClassProductObj||null==o.obj.liveClassProductObj.privateInfo||null==o.obj.liveClassProductObj.privateInfo.data?null:o.obj.liveClassProductObj.privateInfo.data.liveLink)&&o.obj.hasJoined)("ngIfElse",n),t.R7$(3),t.Y8G("ngIf",!o.obj.hasJoined),t.R7$(),t.Y8G("ngIf",o.obj.hasJoined)}}let dk=(()=>{var e;class a extends j.H{constructor(){super(...arguments),this.productOrderService=(0,t.WQX)(Yv.Hg),this.productSv=(0,t.WQX)(Ot.AC),this.sAztDialogService=(0,t.WQX)(ot.i),this.userService=(0,t.WQX)(wt.R),this.sAztCommonCdnService=(0,t.WQX)(ps.c)}getFileIcon(n){return(0,Q.wu)(n.mimes??"")?n.url??"":(0,Q.Ev)(n.mimes??"")?this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub("images/ext_pdf_filetype_icon_176234.svg"):(0,Q.JK)(n.mimes??"")?this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub("images/ext_audio.svg"):(0,Q.I7)(n.mimes??"")?this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub("images/ext_word.svg"):(0,Q.rl)(n.mimes??"")?this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub("images/ext_powerpoint.svg"):(0,Q.nL)(n.extension??"")||"xlsx"==n.extension?this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub("images/ext_excel.svg"):n.url??""}checkLoginUser(n,o){if(this.userService.isNotLoginOrIsAnonymous())this.sAztDialogService.open(Vv.J,{data:{keytrans:"lang_azt_check_login_require"},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0});else if(this.initStatusObj(),"join"==o&&this.waitDestroy(this.productSv.apiCustomerProductManagementJoinProductGet(n.id).subscribe(s=>{this.loadProduct(this.obj.id)})),"buy"==o){const s="userRole=teacher&productType=live_classroom&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyProductGet(this.commonService.getActualCurrentHostName(),this.commonService.getCurrentLang(),n.id,s).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);window.location.href=r.data?.value??""}))}}clickToLink(n){this.initStatusObj(),this.waitDestroy(this.productSv.apiCustomerProductManagementHitLinkPost({productId:this.obj.id,link:n}).subscribe(o=>{this.stopStatusObj(),window.location.href=n}))}loadProduct(n){this.initStatusObj(),this.waitDestroy(this.productSv.apiCustomerProductManagementGetObjGet(n).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.obj&&(this.obj=o.data?.obj),this.successStatusObj()}))}}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-product-details"]],inputs:{obj:"obj"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["showHiddenExam",""],["notJoined",""],["showPublicFileNames",""],["noVideo",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[1,"mt-2"],[1,"font-medium"],[1,"ml-3"],[1,"ml-auto"],[1,"box","p-3","text-center","pl-5","pr-5",2,"border","1px solid #ccc"],[1,"font-bold",2,"font-size","14px"],[3,"time","productStatus"],[1,"mt-3"],[1,"font-medium","mb-2"],[3,"innerHTML"],["class","mt-3",4,"ngIf"],[1,"font-medium","mb-1"],[4,"ngIf","ngIfElse"],["class","mt-1",4,"ngIf","ngIfElse"],["class","mt-3 text-right",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-1","block",3,"mediaFile"],[1,"flex","items-center","mt-1"],[1,"w-10","h-10","flex","items-center","justify-center","bg-gray-200","rounded-lg","mr-2"],["name","video","size","24",4,"ngIf","ngIfElse"],[1,"flex-1"],[1,"font-medium","flex","items-center"],[1,"link-color",2,"align-content","center"],["name","video","size","24"],["alt","Azota-non-image-Loading",1,"rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","position","unset",3,"src"],[1,"flex","items-center","mt-1","mr-2"],[1,"bx","bx-file"],[2,"align-content","center"],[1,"mt-1"],["target","_blank",1,"link-color",3,"routerLink"],[1,"text-slate-400","mb-0"],[1,"link-color",3,"click"],[1,"text-slate-400","mt-1"],[1,"mt-3","text-right"],["class","btn btn-primary clickable",3,"click",4,"ngIf"],[1,"btn","btn-primary","clickable",3,"click"],[1,"text-success"]],template:function(n,o){if(1&n&&t.DNE(0,Hv,1,1,"azt-loading-effect",5)(1,mk,46,26,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,Ui,Xv,h.F2,d.MD,d.Sq,d.bT,d.Jj,c.X1,b.iI,b.Wk,c.YN,h.nf,h.wp,S.s,f.flO,f.WGl,x.L,h.i_,h.Qu,h.t0,h.xG,h.xc,h.hd,C.Id,y.k],encapsulation:2}),a})();var _k=g(89272);let uk=(()=>{var e;class a extends j.H{constructor(){super()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-vendor-info"]],inputs:{obj:"obj"},standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:7,consts:[[1,"mt-3","mx-auto",2,"max-width","618px"],[1,"flex","items-center","mb-2"],[1,"relative"],[3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"d-block","ml-5","w-full"],[1,"mb-1","h5","font-bold",2,"font-size","24px","vertical-align","middle"],[1,"mb-1","h5",2,"font-size","16px","vertical-align","middle"],[1,"mb-2","h5","flex","text-slate-500",2,"font-size","14px","vertical-align","middle"],[3,"content"]],template:function(n,o){if(1&n&&(t.j41(0,"form",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-create-avatar",3),t.k0s(),t.j41(4,"div",4)(5,"p",5),t.EFF(6),t.k0s(),t.j41(7,"p",6),t.EFF(8),t.k0s()()(),t.j41(9,"p",7),t.nrm(10,"azt-dynamic-hook",8),t.k0s()()),2&n){let s;t.R7$(3),t.Y8G("nameCreateAvatar",o.obj.fullName)("size",72)("showTooltip",o.isMobileDevice)("linkAvatar",o.obj.avatar),t.R7$(3),t.JRh(o.obj.fullName),t.R7$(2),t.SpI(" ",o.obj.vendorSchoolName," "),t.R7$(2),t.Y8G("content",null!==(s=o.obj.vendorDescription)&&void 0!==s?s:"")}},dependencies:[jt.p,_k.x,d.MD,c.X1,c.qT,c.cb,b.iI,c.YN,c.cV,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();const pk=e=>[e],gk=()=>({"text-primary mr-2":!0});function hk(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",2)(2,"a",3),t.nI1(3,"navigationLocalize"),t.j41(4,"div",4)(5,"span",5),t.EFF(6),t.nI1(7,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.nrm(8,"azt-countdown-timer",6),t.k0s(),t.j41(9,"div",7),t.nrm(10,"lucide-icon",8),t.j41(11,"div",9)(12,"p",10),t.EFF(13),t.nI1(14,"getLevelNameById"),t.nI1(15,"async"),t.k0s(),t.j41(16,"div",11)(17,"p",12),t.EFF(18),t.k0s(),t.j41(19,"p",13),t.EFF(20),t.k0s()(),t.j41(21,"p",14),t.EFF(22),t.nI1(23,"formatMoney"),t.k0s()()()()(),t.bVm()),2&e){let i,n;const o=a.$implicit,s=t.XpG();t.R7$(2),t.Y8G("routerLink",t.eq3(20,pk,t.bMT(3,10,s.prefixOfDetailLink+"/"+o.id))),t.R7$(4),t.JRh(t.bMT(7,12,o.startLive)),t.R7$(2),t.Y8G("time",o.startLive)("productStatus",o.productStatusEnum),t.R7$(2),t.Y8G("ngClass",t.lJ4(22,gk)),t.R7$(3),t.Lme("",o.name," (",t.bMT(15,16,t.bMT(14,14,null==o.liveClassProductObj||null==o.liveClassProductObj.metadata||null==o.liveClassProductObj.metadata.data?null:o.liveClassProductObj.metadata.data.classId)),")"),t.R7$(5),t.SpI("\u0110\xe3 xem: ",null!==(i=null==o.paymentInfoObj?null:o.paymentInfoObj.totalView)&&void 0!==i?i:0,""),t.R7$(2),t.SpI("\u0110\xe3 \u0111\u0103ng k\xfd: ",null!==(n=null==o.paymentInfoObj?null:o.paymentInfoObj.totalJoin)&&void 0!==n?n:0,""),t.R7$(2),t.JRh(o.price>0?t.bMT(23,18,o.price)+"\u0111":"Mi\u1ec5n ph\xed")}}let fk=(()=>{var e;class a extends j.H{}return(e=a).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-list-live-classroom"]],inputs:{objs:"objs",prefixOfDetailLink:"prefixOfDetailLink"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:1,consts:[[1,"mt-3"],[4,"ngFor","ngForOf"],[1,"mb-3"],[1,"hover-border-secondary","block",3,"routerLink"],[1,"flex","mb-1"],[1,"font-bold",2,"font-size","14px"],[3,"time","productStatus"],[1,"flex","items-center"],["name","calendar-days","size","64",3,"ngClass"],[1,"d-block"],[1,"mb-1","h5"],[1,"flex"],[1,"mb-1"],[1,"mb-1","ml-5","text-sm"],[1,"mb-1","text-sm","text-info",2,"color","#3c8ebc"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.DNE(1,hk,24,23,"ng-container",1),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngForOf",o.objs))},dependencies:[Ui,h.F2,d.MD,d.YU,d.Sq,d.Jj,c.X1,b.iI,b.Wk,c.YN,S.s,f.flO,f.WGl,x.L,h.i_,h.t0,h.xc,C.Id,y.k],styles:[".ps-SUCCESS[_ngcontent-%COMP%]{color:green}.ps-PENDING[_ngcontent-%COMP%]{color:orange}"]}),a})();function bk(e,a){if(1&e&&(t.j41(0,"div",3),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.SpI("C\xe1c l\u1edbp h\u1ecdc kh\xe1c c\u1ee7a: ",i.creatorUserObj.fullName,"")}}function vk(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function kk(e,a){if(1&e&&t.nrm(0,"app-view-list-live-classroom",5),2&e){const i=t.XpG();t.Y8G("objs",i.objs)("prefixOfDetailLink","/student/view-product")}}let Tk=(()=>{var e;class a extends j.H{initData(){this.initStatusObj(),this.waitDestroy(this.productSv.apiCustomerProductManagementGetObjsByCreatorIdsPost({productType:Xi.i_.LIVECLASS,creatorUserId:this.creatorUserObj.id}).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.objs=n.data?.objs??[],this.skipProductId&&(this.objs=this.objs.filter(o=>o.id!=this.skipProductId)),this.successStatusObj()}))}ngOnInit(){this.initData()}constructor(){super(),this.productSv=(0,t.WQX)(Ot.AC),this.objs=[]}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-product-by-creator"]],inputs:{creatorUserObj:"creatorUserObj",skipProductId:"skipProductId"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["doneLoading",""],["class","mb-3 text-lg font-medium",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mb-3","text-lg","font-medium"],[3,"currentStatusObj"],[3,"objs","prefixOfDetailLink"]],template:function(n,o){if(1&n&&t.DNE(0,bk,2,1,"div",1)(1,vk,1,1,"azt-loading-effect",2)(2,kk,1,2,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(3);t.Y8G("ngIf",o.objs.length>0),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,fk,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();function Ck(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function xk(e,a){if(1&e&&t.nrm(0,"app-view-vendor-info",8),2&e){const i=t.XpG(3);t.Y8G("obj",i.product.creatorInfoObj)}}function yk(e,a){if(1&e&&t.nrm(0,"app-view-product-by-creator",12),2&e){const i=t.XpG(3);t.Y8G("creatorUserObj",i.product.creatorInfoObj)("skipProductId",i.product.id)}}function Sk(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",5)(2,"div",6)(3,"div",7),t.nrm(4,"app-view-product-details",8),t.k0s()(),t.j41(5,"div",9)(6,"div",7),t.DNE(7,xk,1,1,"app-view-vendor-info",10)(8,yk,1,2,"app-view-product-by-creator",11),t.k0s()()(),t.bVm()),2&e){const i=t.XpG(2);t.R7$(4),t.Y8G("obj",i.product),t.R7$(3),t.Y8G("ngIf",i.product.creatorInfoObj),t.R7$(),t.Y8G("ngIf",i.product.creatorInfoObj)}}function Ik(e,a){if(1&e&&t.DNE(0,Sk,9,3,"ng-container",4),2&e){const i=t.XpG();t.Y8G("ngIf",i.product)}}let jk=(()=>{var e;class a extends j.H{loadProduct(n){this.initStatusObj(),this.waitDestroy(this.productSv.apiCustomerProductManagementGetObjGet(n).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.product=o.data?.obj,this.successStatusObj()}))}hitView(n){this.waitDestroy(this.productSv.apiCustomerProductManagementHitViewGet(n).subscribe(o=>{}))}ngOnInit(){this.waitDestroy((0,ce.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let n=Number(this.commonService.getMyParam(this.activatedRoute,"id")??"0");n&&(this.loadProduct(n),this.hitView(n))}))}constructor(n){super(),this.activatedRoute=n,this.productSv=(0,t.WQX)(Ot.AC),this.activeRoute=(0,t.WQX)(b.nX)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(b.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-live-class-details"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-6","mt-4"],[1,"col-span-12","md:col-span-8"],[1,"box","p-3"],[3,"obj"],[1,"col-span-12","md:col-span-4"],[3,"obj",4,"ngIf"],["class","mb-3",3,"creatorUserObj","skipProductId",4,"ngIf"],[1,"mb-3",3,"creatorUserObj","skipProductId"]],template:function(n,o){if(1&n&&(t.j41(0,"student-layout",1),t.DNE(1,Ck,1,1,"azt-loading-effect",2)(2,Ik,1,1,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.Y8G("headerBackToLink","/student/list-liveclass"),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[w.j,X.K,dk,uk,Tk,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var re=g(11619);function Ok(e,a){1&e&&t.nrm(0,"azt-loading-ui",11)}let wk=(()=>{var e;class a extends pt._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(n=>{1==n.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(n.message??"",!0))}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,o,s){super(s,o),this.studentService=n,this.dialogRef=o,this.data=s,this.studentObj=s.studentObj,this.classroomObj=s.classroomObj}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(re.b0),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-delete-parent"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b",4),t.EFF(8),t.k0s(),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"span",5),t.EFF(12),t.k0s(),t.EFF(13,"\xa0 "),t.j41(14,"span",6),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",7)(18,"button",8),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",9),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(22,Ok,1,0,"azt-loading-ui",10),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(5),t.SpI(" ",t.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),t.R7$(3),t.JRh(o.studentObj.fullName),t.R7$(),t.SpI(" ",t.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),t.R7$(2),t.FS9("matTooltip",o.classroomObj.name),t.R7$(),t.SpI(" ",o.classroomObj.name,""),t.R7$(3),t.SpI("* ",t.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),t.R7$(4),t.SpI(" ",t.bMT(20,15,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[kt.U,N.R,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();function Fk(e,a){if(1&e&&(t.qex(0),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"b",10),t.EFF(4),t.k0s(),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.SpI(" \xa0",t.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(null==i.classroomObj?null:i.classroomObj.name)}}function Ek(e,a){1&e&&t.nrm(0,"azt-loading-ui",11)}let Dk=(()=>{var e;class a extends pt._{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(n=>{1==n.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(n.message,!0),this.btnCloseDialog(!1))})))}constructor(n,o,s){super(s,o),this.studentService=n,this.dialogRef=o,this.data=s,this.studentObj=s.studentObj,this.classroomObj=s.classroomObj}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(re.b0),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-delete-single-student"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"b",4),t.EFF(8),t.k0s(),t.DNE(9,Fk,5,4,"ng-container",5),t.EFF(10," ? "),t.k0s()()()(),t.j41(11,"div",6)(12,"button",7),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"button",8),t.bIt("click",function(){return o.confirmDelete()}),t.DNE(16,Ek,1,0,"azt-loading-ui",9),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),t.R7$(3),t.JRh(null==o.studentObj?null:o.studentObj.fullName),t.R7$(),t.Y8G("ngIf",null==o.classroomObj?null:o.classroomObj.name),t.R7$(4),t.SpI(" ",t.bMT(14,8,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[kt.U,N.R,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();var Rk=g(34855);function Mk(e,a){if(1&e&&(t.j41(0,"div",10)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e){const i=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,1,i.msgError),"!")}}function Nk(e,a){1&e&&t.nrm(0,"azt-loading-ui",11)}let Gk=(()=>{var e;class a extends pt._{confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let o={id:this.studentObj?.id??0,fullName:n.fullName,phone:n.phoneNumber,email:n.email,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,gender:Number(n.gender),birthday:n.birthday?this.timeService.formatOnlyDateToPostToServer(n.birthday):void 0,classroomId:this.classroomObj?.id??0,facebookLink:n.facebookLink,schoolName:n.school,userName:n.userName,parentPhone:n.parentPhoneNumber};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(o).subscribe(s=>{1==s.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=s.message??"",this.stopStatusObj())}))}}btnCloseDialog(n){this.dialogRef.close(n)}ngOnInit(){super.ngOnInit()}constructor(n,o,s,r){super(r,s),this.studentService=n,this.timeService=o,this.dialogRef=s,this.data=r,this.msgError="",this.maxDate=Fn.c.maxDateTimePicker,this.studentForm=new Vi,this.studentObj=r.studentObj,this.classroomObj=r.classroomObj,this.studentForm.form=new c.gE({fullName:new c.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[c.k0.required]}),userName:new c.MJ(this.studentObj?.parentUserName??"",{nonNullable:!0,validators:[Yi.validateUserName]}),gender:new c.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new c.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new c.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[Rk.U.isInvalidEmail,c.k0.email,c.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new c.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[c.k0.pattern(/^[0-9\-]*$/),c.k0.minLength(10),c.k0.maxLength(10)]}),parentPhoneNumber:new c.MJ(this.studentObj?.parentPhone??"",{nonNullable:!0,validators:[c.k0.pattern(/^[0-9\-]*$/),c.k0.minLength(10),c.k0.maxLength(10)]}),identificationNumber:new c.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,this.myEnvironment.maxStudentCodeLength),{nonNullable:!0,validators:[c.k0.min(1),c.k0.maxLength(this.myEnvironment.maxStudentCodeLength),c.k0.pattern("^[0-9]*$")]}),facebookLink:new c.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new c.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(re.b0),t.rXU(V.F),t.rXU(M.CP,8),t.rXU(M.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-edit-student"]],standalone:!0,features:[t.Jv_([{provide:Y.$O,useClass:Yt.fb,deps:[at.Ju,Yt.ij]},{provide:Y.vq,useFactory:Wt.fJ,deps:[V.F]},{provide:nt.U$,useValue:{floatLabel:"never"}}]),t.Vt3,t.aNF],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"closeDialog","studentForm"],["class","text-xs font-medium text-danger mt-2 pl-3 mb-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","pl-3","mb-2","fade"],[1,"mr-1"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"azt-form-enter-info-student",4),t.bIt("closeDialog",function(r){return o.btnCloseDialog(r)}),t.k0s()()(),t.DNE(8,Mk,4,3,"div",5),t.k0s(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return o.confirmAction()}),t.DNE(14,Nk,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(5),t.SpI(" ",t.bMT(6,7,"lang_student_utils_edit_student")," "),t.R7$(2),t.Y8G("studentForm",o.studentForm),t.R7$(),t.Y8G("ngIf",""!==o.msgError),t.R7$(3),t.SpI(" ",t.bMT(12,9,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",o.statusObj.loading||o.studentForm.form.invalid),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(16,11,"lang_button_update")," "))},dependencies:[kt.U,ds,N.R,d.MD,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();const $k=e=>({"pb-5":e}),zk=()=>[],ys=()=>({" mr-2 text-primary":!0}),Ss=()=>({" mr-2 text-danger":!0}),Lk=()=>({" mr-2 text-warning":!0});function Ak(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Pk(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.editStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",16),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,ys)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_edit")," "))}function Yk(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.deleteStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",18),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ss)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Vk(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.deleteParentOfStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Lk)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function Bk(e,a){if(1&e&&(t.j41(0,"div",11),t.DNE(1,Pk,4,5,"button",12),t.nI1(2,"editPermission"),t.DNE(3,Yk,4,5,"button",13),t.nI1(4,"fullPermission"),t.nI1(5,"editPermission"),t.DNE(6,Vk,4,5,"button",14),t.nI1(7,"editPermission"),t.k0s()),2&e){const i=t.XpG(3);t.R7$(),t.Y8G("ngIf",t.i5U(2,3,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(4,6,i.classroomObj,"student")||t.i5U(5,9,i.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",0!=i.studentObj.parentId&&t.i5U(7,12,i.classroomObj,"student"))}}function Xk(e,a){if(1&e){const i=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(i);const o=t.XpG(4);return t.Njj(o.deleteStudentDialog(o.studentObj))}),t.nrm(1,"lucide-icon",18),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ss)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Uk(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",11)(1,"button",21),t.bIt("click",function(){t.eBV(i);const o=t.XpG(3);return t.Njj(o.editStudentDialog(o.studentObj))}),t.nrm(2,"lucide-icon",16),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Xk,4,5,"button",22),t.nI1(6,"fullPermission"),t.nI1(7,"editPermission"),t.k0s()}if(2&e){const i=t.XpG(3);t.R7$(2),t.Y8G("ngClass",t.lJ4(11,ys)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_button_edit")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(6,5,i.classroomObj,"student")||t.i5U(7,8,i.classroomObj,"student"))}}function Hk(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",6)(2,"div",7),t.nrm(3,"azt-student-info-box",8),t.k0s(),t.j41(4,"div",9),t.DNE(5,Bk,8,15,"div",10),t.nI1(6,"editPermission"),t.DNE(7,Uk,8,12,"div",10),t.nI1(8,"editPermission"),t.k0s()(),t.bVm()),2&e){let i;const n=t.XpG(2);t.R7$(3),t.Y8G("name",n.studentObj.fullName)("parentFullName",n.studentObj.parentFullName)("parentUserName",n.studentObj.parentUserName)("parentId",n.studentObj.parentId)("parentPhone",n.studentObj.parentPhone)("phone",n.studentObj.phone)("email",n.studentObj.email)("birthday",n.studentObj.birthday)("avatar",n.studentObj.avatar)("gender",n.studentObj.gender)("schoolName",null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.schoolName)("facebookLink",null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.facebookLink)("identificationNumber",n.studentObj.identificationNumber)("hasUser",1==n.studentObj.isVerified)("classrooms",null!==(i=null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.classrooms)&&void 0!==i?i:t.lJ4(24,zk))("joinedAt",null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.joinedAt),t.R7$(2),t.Y8G("ngIf",n.isTeacher&&0!=n.studentObj.parentId&&t.i5U(6,18,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",n.isTeacher&&0==n.studentObj.parentId&&t.i5U(8,21,n.classroomObj,"student"))}}function Jk(e,a){1&e&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_profile_student_not_found")))}function qk(e,a){if(1&e&&t.DNE(0,Hk,9,25,"ng-container",5)(1,Jk,4,3,"ng-template",null,1,t.C5r),2&e){const i=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.studentObj)("ngIfElse",i)}}let Wk=(()=>{var e;class a extends j.H{deleteStudentDialog(n){this.sAztDialogService.open(Dk,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(s=>{s&&this.commonService.myNavigationBySpecialQueryString(this.paramBackToLink)})}editStudentDialog(n){this.sAztDialogService.open(Gk,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(s=>{s&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(n){this.sAztDialogService.open(wk,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(s=>{s&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(n){super(),this.sAztDialogService=n,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new t.bkB}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ot.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:5,consts:[["doneLoading",""],["noStudentObj",""],[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","phone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(n,o){if(1&n&&(t.j41(0,"div",2),t.DNE(1,Ak,1,1,"azt-loading-effect",3)(2,qk,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.Y8G("ngClass",t.eq3(3,$k,!o.studentObj)),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[X.K,we.B,d.MD,d.YU,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,h.gC,h.FV,C.Id,y.k],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),a})();function Zk(e,a){1&e&&(t.j41(0,"p",13),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_diem_tong_ket")))}function Kk(e,a){if(1&e){const i=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.showTotalPointDetail())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI("(",t.bMT(2,1,"lang_auto_xem_chi_tiet"),")"))}function Qk(e,a){if(1&e&&(t.j41(0,"div",15),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.JRh(i.avgPoint)}}function tT(e,a){if(1&e&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&e){let i;const n=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,(null!==(i=null==n.attendanceObj?null:n.attendanceObj.averageMark)&&void 0!==i?i:0)/n.classroomList.length,"1.2-2"))}}function eT(e,a){if(1&e&&(t.j41(0,"div",2),t.nrm(1,"azt-attendance-table",16),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.Y8G("classroomIds",i.classroomIds)}}let nT=(()=>{var e;class a extends j.H{showTotalPointDetail(){this.sAztDialogService.open(ts,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(n=>{this.getInfoAttendance()})}getInfoAttendance(){if(this.initStatusObj(),this.isTqbDomain){const n=this.classroomList.map(o=>this.studentService.apiStudentsStudentIdProfileGet(o.studentId,o.id));this.wrapApiResponse((0,de.p)(n)).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);o.data?.forEach(s=>{if(!s)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.updateAttendanceObj(s)}),this.successStatusObj()})}else this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId)).subscribe(n=>{if(!n.success||!n.data)return this.errorStatusObj(n.message,!0);this.attendanceObj=n.data,this.studentObj=n.data.student,this.avgPoint=this.studentObj?.averageMark??0,this.successStatusObj()}))}updateAttendanceObj(n){this.attendanceObj={averageMark:(this.attendanceObj?.averageMark??0)+(n.student?.averageMark??0),totalAttend:(this.attendanceObj?.totalAttend??0)+(n?.totalAttend??0),totalAbsence:(this.attendanceObj?.totalAbsence??0)+(n?.totalAbsence??0),totalAbsentPermission:(this.attendanceObj?.totalAbsentPermission??0)+(n?.totalAbsentPermission??0),totalAbsentWithoutPermission:(this.attendanceObj?.totalAbsentWithoutPermission??0)+(n?.totalAbsentWithoutPermission??0),totalReceivedBook:(this.attendanceObj?.totalReceivedBook??0)+(n?.totalReceivedBook??0),totalReceivedDoc:(this.attendanceObj?.totalReceivedDoc??0)+(n?.totalReceivedDoc??0)}}ngOnChanges(){this.getInfoAttendance(),this.classroomIds=this.classroomList.map(n=>n.id)}ngOnInit(){super.ngOnInit()}constructor(n,o){super(),this.studentService=n,this.sAztDialogService=o,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.classroomList=[],this.avgPoint=0,this.classroomIds=[]}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.b0),t.rXU(ot.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole",classroomList:"classroomList"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:16,vars:8,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],["class","mb-3 text-base font-medium",4,"ngIf"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],["class","ml-2 link__hover link__color",3,"click",4,"ngIf"],["class","text-2xl text-primary font-medium",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mb-3","text-base","font-medium"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[3,"classroomIds"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,Zk,3,3,"p",3),t.j41(4,"div",4)(5,"div",5)(6,"button",6)(7,"div",7),t.nrm(8,"lucide-icon",8),t.k0s()(),t.j41(9,"div",9),t.EFF(10),t.nI1(11,"mytranslate"),t.DNE(12,Kk,3,3,"a",10),t.k0s(),t.DNE(13,Qk,2,1,"div",11)(14,tT,3,4,"div",11),t.k0s()()(),t.DNE(15,eT,2,1,"div",12),t.k0s()()),2&n&&(t.R7$(3),t.Y8G("ngIf",o.isTqbDomain),t.R7$(7),t.SpI(" ",t.bMT(11,6,"lang_business_diem_tong_ket")," "),t.R7$(2),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(),t.Y8G("ngIf",o.isTqbDomain),t.R7$(),t.Y8G("ngIf",o.isTqbDomain))},dependencies:[ns,d.MD,d.bT,d.QX,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();function iT(e,a){if(1&e&&(t.j41(0,"tr")(1,"td",10),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()),2&e){const i=a.$implicit,n=a.index;t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(i.bookName),t.R7$(2),t.JRh(t.bMT(7,3,i.createdAt))}}function oT(e,a){if(1&e&&(t.qex(0),t.DNE(1,iT,8,5,"tr",9),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.bookDistributionList)}}function aT(e,a){1&e&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}let sT=(()=>{var e;class a extends j.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(n=>{n?(this.bookDistributionList=n.list,this.totalBookDistribution=n.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(n){super(),this.studentService=n,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.b0))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:14,consts:[["noDistribution",""],[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(n,o){if(1&n&&(t.j41(0,"div",1)(1,"span",2),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"div",3)(5,"drag-scroll")(6,"table",4)(7,"thead",5)(8,"tr")(9,"th",6),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"th",7),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",7),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,oT,2,1,"ng-container",8)(20,aT,4,3,"ng-template",null,0,t.C5r),t.k0s()()()()),2&n){const s=t.sdS(21);t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_student_total")+": "+o.totalBookDistribution," "),t.R7$(8),t.SpI(" ",t.bMT(11,8,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(14,10,"lang_core_ten_sach")," "),t.R7$(3),t.SpI(" ",t.bMT(17,12,"lang_auto_thoi_gian")," "),t.R7$(3),t.Y8G("ngIf",o.bookDistributionList.length)("ngIfElse",s)}},dependencies:[P.AC,P.jd,P.Ew,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,h.bH,C.Id,y.k],encapsulation:2}),a})();function rT(e,a){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function lT(e,a){if(1&e&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td",11)(9,"span",12),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()),2&e){let i;const n=a.$implicit,o=a.index;t.R7$(2),t.JRh(o+1),t.R7$(2),t.JRh(t.bMT(5,4,null!==(i=n.updatedAt)&&void 0!==i?i:n.createdAt)),t.R7$(3),t.JRh(n.month+"/"+n.year),t.R7$(3),t.SpI(" ",t.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function cT(e,a){if(1&e&&(t.qex(0),t.DNE(1,lT,12,8,"tr",10),t.bVm()),2&e){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",i.historyTuitionFeeList)}}function mT(e,a){1&e&&(t.j41(0,"tr")(1,"td",13),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_student_profile_not_data_view")," "))}let dT=(()=>{var e;class a extends j.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(n=>{n?this.historyTuitionFeeList=n.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(n){super(),this.paymentService=n,this.studentId=0,this.historyTuitionFeeList=[]}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(G.WG))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:15,consts:[["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(n,o){if(1&n&&(t.j41(0,"div",1),t.DNE(1,rT,3,3,"div",2),t.j41(2,"div",3)(3,"drag-scroll")(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",7),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"th",8),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()(),t.j41(19,"tbody"),t.DNE(20,cT,2,1,"ng-container",9)(21,mT,4,3,"ng-template",null,0,t.C5r),t.k0s()()()()()),2&n){const s=t.sdS(22);t.R7$(),t.Y8G("ngIf",o.isMobileDevice||o.isMobileWebView),t.R7$(7),t.SpI(" ",t.bMT(9,7,"lang_auto_stt")," "),t.R7$(3),t.SpI(" ",t.bMT(12,9,"lang_student_payment_time")," "),t.R7$(3),t.SpI(" ",t.bMT(15,11,"lang_student_monthly_tuition_fee")," "),t.R7$(3),t.SpI(" ",t.bMT(18,13,"lang_student_status")," "),t.R7$(3),t.Y8G("ngIf",o.historyTuitionFeeList.length)("ngIfElse",s)}},dependencies:[P.AC,P.jd,P.Ew,d.MD,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,f.flO,x.L,h.bH,C.Id,y.k],encapsulation:2}),a})();var _T=g(89311);let Hi=(()=>{var e;class a{countChecked(n){var o=0;for(var s in n)!0===n[s]&&(o+=1);return o}getDefaultFilterObj(n){var o=this.localStorageSlug+n;if(this.listFilterObjs[o])return this.listFilterObjs[o];var s=this.getInitFilterObj(),r=this.browserStorageService.getSimpleStorage(o),l=this.commonService.castJsonToObj(r??"");return l&&(s=l),s}saveFilterObj(n,o){var s=this.localStorageSlug+n;this.listFilterObjs[s]=o,this.browserStorageService.saveSimpleStorage(s,this.commonService.serializeJson(o))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(n,o){this.commonService=n,this.browserStorageService=o,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(an.R),t.KVO(_T.z))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();const uT=()=>({"mr-2":!0});function pT(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",20),t.EFF(3),t.k0s()()),2&e){const i=t.XpG();t.R7$(3),t.JRh(i.totalCustomFilter)}}function gT(e,a){if(1&e){const i=t.RV6();t.j41(0,"li")(1,"label",21),t.bIt("click",function(o){return t.eBV(i),t.Njj(o.stopPropagation())}),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"div",9)(5,"input",22),t.bIt("change",function(){t.eBV(i);const o=t.XpG();return o.filterObj.getResendAnswer=!o.filterObj.getResendAnswer,t.Njj(o.changeFilter())}),t.k0s()()()()}if(2&e){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),t.R7$(3),t.Y8G("checked",i.filterObj.getResendAnswer)}}let Is=(()=>{var e;class a extends j.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(n){super(),this.studentProfileFilterService=n,this.filterType="",this.changeFilterEvent=new t.bkB,this.totalCustomFilter=0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Hi))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:40,vars:26,consts:[["filterMenu","matMenu"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"button",1),t.nrm(1,"lucide-icon",2),t.j41(2,"span",3),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,pT,4,1,"span",4),t.k0s()(),t.j41(6,"mat-menu",5,0)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),t.bIt("click",function(l){return t.eBV(s),t.Njj(l.stopPropagation())}),t.EFF(12),t.nI1(13,"mytranslate"),t.j41(14,"div",9)(15,"input",10),t.bIt("change",function(){return t.eBV(s),o.filterObj.getHasMark=!o.filterObj.getHasMark,t.Njj(o.changeFilter())}),t.k0s()()()(),t.j41(16,"li")(17,"label",11),t.bIt("click",function(l){return t.eBV(s),t.Njj(l.stopPropagation())}),t.EFF(18),t.nI1(19,"mytranslate"),t.j41(20,"div",9)(21,"input",12),t.bIt("change",function(){return t.eBV(s),o.filterObj.getNotMarked=!o.filterObj.getNotMarked,t.Njj(o.changeFilter())}),t.k0s()()()(),t.j41(22,"li")(23,"label",13),t.bIt("click",function(l){return t.eBV(s),t.Njj(l.stopPropagation())}),t.EFF(24),t.nI1(25,"mytranslate"),t.j41(26,"div",9)(27,"input",14),t.bIt("change",function(){return t.eBV(s),o.filterObj.getNotDone=!o.filterObj.getNotDone,t.Njj(o.changeFilter())}),t.k0s()()()(),t.DNE(28,gT,6,4,"li",4),t.j41(29,"li"),t.nrm(30,"hr",15),t.k0s(),t.j41(31,"li")(32,"div",16)(33,"button",17),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"div",18),t.bIt("click",function(l){return t.eBV(s),t.Njj(l.stopPropagation())}),t.j41(37,"button",19),t.bIt("click",function(){return t.eBV(s),t.Njj(o.clearFilter())}),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s()()()()()()()}if(2&n){const s=t.sdS(7);t.Y8G("matMenuTriggerFor",s),t.R7$(),t.Y8G("ngClass",t.lJ4(25,uT)),t.R7$(2),t.SpI(" ",t.bMT(4,13,"lang_testbank_tested_list_sort")," "),t.R7$(2),t.Y8G("ngIf",o.totalCustomFilter>0),t.R7$(7),t.SpI(" ",t.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),t.R7$(3),t.Y8G("checked",o.filterObj.getHasMark),t.R7$(3),t.SpI(" ",t.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),t.R7$(3),t.Y8G("checked",o.filterObj.getNotMarked),t.R7$(3),t.SpI(" ",t.bMT(25,19,"exam"==o.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),t.R7$(3),t.Y8G("checked",o.filterObj.getNotDone),t.R7$(),t.Y8G("ngIf","homework"==o.filterType),t.R7$(6),t.JRh(t.bMT(35,21,"lang_button_close")),t.R7$(4),t.JRh(t.bMT(39,23,"lang_button_delete"))}},dependencies:[d.MD,d.YU,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,_t.kk,_t.Cp,f.flO,f.WGl,x.L,C.Id,y.k],encapsulation:2}),a})();var js=g(25311);const hT=()=>({"text-primary":!0});function fT(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"azt-check-mark",17),t.k0s()),2&e){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_point"),": "),t.R7$(2),t.Y8G("mark",i.resultMarkObj.point)}}function bT(e,a){1&e&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function vT(e,a){if(1&e&&(t.j41(0,"span"),t.DNE(1,fT,4,4,"span",13)(2,bT,3,3,"span",16),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.resultMarkObj.confirmedAt),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj.confirmedAt)}}function kT(e,a){1&e&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_profile_no_result")," "))}function TT(e,a){if(1&e&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",i.resendAnswerObj.resendNote,"")}}function CT(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG();return t.Njj(s.clickToHomeworkObj(o))}),t.j41(1,"div",8),t.nrm(2,"lucide-icon",9),t.k0s(),t.j41(3,"div",10)(4,"p",11),t.EFF(5),t.k0s(),t.j41(6,"div",12),t.DNE(7,vT,3,2,"span",13)(8,kT,3,3,"span",14)(9,TT,3,4,"span",14),t.k0s(),t.j41(10,"div",15),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()}if(2&e){const i=a.$implicit,n=a.index;t.ZvI("clickable zoom-in flex items-center ",n>0?"mt-5":""," pb-2"),t.R7$(2),t.Y8G("ngClass",t.lJ4(16,hT)),t.R7$(2),t.FS9("matTooltip",i.name),t.R7$(),t.Lme("",n+1,". ",i.name,""),t.R7$(2),t.Y8G("ngIf",i.resultMarkObj),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj&&!i.resendAnswerObj),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj&&i.resendAnswerObj),t.R7$(2),t.Lme("",t.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",t.bMT(13,14,i.createdAt),"")}}function xT(e,a){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_list_null")))}function yT(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",25),2&e){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function ST(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",21),t.DNE(1,yT,1,1,"azt-loading-effect",22),t.j41(2,"button",23),t.nI1(3,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.getNextHomeworkAnswerObjs())}),t.nrm(4,"lucide-icon",24),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(),t.FS9("matTooltip",t.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Y8G("disabled",!i.homeworkNextPage)}}let IT=(()=>{var e;class a extends j.H{clickToHomeworkObj(n){this.isTeacher?n.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",n)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+n.resultMarkObj?.resultId+"/"+n.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(n.classroomId??0)+"/"+n.id+"/"+n.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(n.resultMarkObj?.resultId?"/homework/switch-view-homework/"+n.resultMarkObj?.resultId+"/"+n.hashId:"/bai-tap/"+n.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var n=this.studentProfileFilterService.getDefaultFilterObj("homework");n.classroomId=this.classroomId,n.studentId=this.studentId,n.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(n).subscribe(o=>{1==o.success?(this.homeworkObjs=this.homeworkObjs.concat(o.data?.objs??[]),this.homeworkNextPage=o.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(n,o,s){super(),this.studentProfileV2Service=n,this.studentProfileFilterService=o,this.permissionService=s,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(re.m_),t.rXU(Hi),t.rXU(js.p))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-student-profile-filter-menu",2),t.bIt("changeFilterEvent",function(){return o.reInitData()}),t.k0s()(),t.j41(5,"div",3),t.DNE(6,CT,14,17,"div",4)(7,xT,3,3,"div",5)(8,ST,5,5,"div",6),t.k0s()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),t.R7$(2),t.Y8G("filterType","homework"),t.R7$(2),t.Y8G("ngForOf",o.homeworkObjs),t.R7$(),t.Y8G("ngIf",0==o.homeworkObjs.length&&!o.homeworkNextPage),t.R7$(),t.Y8G("ngIf",o.homeworkObjs.length>0&&o.homeworkNextPage))},dependencies:[Is,me.D,X.K,d.MD,d.YU,d.Sq,d.bT,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,h.bH,C.Id,y.k],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),a})();const jT=e=>({truncate:e}),OT=()=>({"max-width":"85%"}),wT=()=>({}),FT=()=>({"text-pending":!0});function ET(e,a){1&e&&(t.nrm(0,"lucide-icon",17),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&e&&t.FCK("matTooltip","",t.bMT(1,3,"lang_core_danh_gia_nang_luc")," - ",t.bMT(2,5,"lang_testbank_folder_and_file_published"),"")}function DT(e,a){1&e&&t.nrm(0,"lucide-icon",18),2&e&&t.Y8G("ngClass",t.lJ4(1,FT))}function RT(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"azt-check-mark",20),t.k0s()),2&e){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_point"),": "),t.R7$(2),t.Y8G("mark",i.resultMarkObj.point)}}function MT(e,a){1&e&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function NT(e,a){if(1&e&&(t.qex(0),t.DNE(1,RT,4,4,"span",14)(2,MT,3,3,"span",19),t.bVm()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.resultMarkObj.confirmedAt),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj.confirmedAt)}}function GT(e,a){1&e&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function $T(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){const o=t.eBV(i).$implicit,s=t.XpG();return t.Njj(s.clickToExamObj(o))}),t.j41(1,"div",8),t.DNE(2,ET,3,7,"lucide-icon",9),t.nI1(3,"isCapacityExam"),t.DNE(4,DT,1,2,"lucide-icon",10),t.nI1(5,"isCapacityExam"),t.k0s(),t.j41(6,"div",11)(7,"p",12),t.EFF(8),t.k0s(),t.j41(9,"div",13),t.DNE(10,NT,3,2,"ng-container",14)(11,GT,3,3,"span",15),t.k0s(),t.j41(12,"div",16),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()}if(2&e){const i=a.$implicit,n=a.index,o=t.XpG();t.ZvI("clickable zoom-in flex items-center ",n>0?"mt-3":""," pb-2"),t.R7$(2),t.Y8G("ngIf",t.bMT(3,14,i)),t.R7$(2),t.Y8G("ngIf",!t.bMT(5,16,i)),t.R7$(3),t.FS9("matTooltip",i.name),t.Y8G("ngClass",t.eq3(22,jT,!o.isMobileDevice))("ngStyle",o.isMobileDevice?t.lJ4(25,wT):t.lJ4(24,OT)),t.R7$(),t.Lme("",n+1,". ",i.name,""),t.R7$(2),t.Y8G("ngIf",i.resultMarkObj),t.R7$(),t.Y8G("ngIf",!i.resultMarkObj),t.R7$(2),t.Lme("",t.bMT(14,18,"lang_student_profile_utils_list_exam_created_at"),": ",t.bMT(15,20,i.createdAt),"")}}function zT(e,a){1&e&&(t.j41(0,"div",23),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_list_null")))}function LT(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",28),2&e){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}function AT(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",24),t.DNE(1,LT,1,1,"azt-loading-effect",25),t.j41(2,"button",26),t.nI1(3,"mytranslate"),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.getNextExamResultObjs())}),t.nrm(4,"lucide-icon",27),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(),t.FS9("matTooltip",t.bMT(3,2,"lang_student_profile_utils_list_exam_tooltip_view"))}}let Ji=(()=>{var e;class a extends j.H{clickToExamObj(n){this.isTeacher?n.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",n)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+n.id+"/"+n.resultMarkObj?.userId+"/"+n.resultMarkObj?.studentId+"/"+(n.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)+("CAPACITY"==n.objectType?"&isCapacity=1":"")):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(n.categoryId??0)+"/"+n.id+"/0","?backto="+encodeURIComponent(this.backToLink)):n.resultMarkObj?.resultId?this.commonService.myNavigationWithQueryString("/test/answer-test/"+n.resultMarkObj?.userId+"/0/"+n.hashId+"/"+(n.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)+("CAPACITY"==n.objectType?"&capacity=1":"")):this.commonService.myNavigationWithQueryString("/de-thi/"+n.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.getNextExamResultObjs()}getNextExamResultObjs(){if(!this.isTqbDomain){this.initStatusObj();const o=this.buildFilterObj(this.classroomId,this.studentId,this.currentNextPage);return void this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(o).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);this.examObjs=this.examObjs.concat(s.data?.objs??[]),this.currentNextPage=s.data?.nextPage,this.hasNextPage=!!this.currentNextPage,this.stopStatusObj()})}this.initStatusObj();const n=this.classroomList.map(o=>{let s=this.classroomIdToNextPages.get(o.id.toString());if(s==this.endPageStr)return(0,fs.of)({errorMessage:void 0,nextPage:void 0,classroomObj:o,examResultObjs:[]});const r=this.buildFilterObj(o.id,o.studentId,s);return new Jn.c(l=>{this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(r).subscribe(m=>{if(!m.success)return l.next({errorMessage:m.message,nextPage:m.data?.nextPage,classroomObj:o,examResultObjs:[]}),void l.complete();l.next({errorMessage:void 0,nextPage:m.data?.nextPage,classroomObj:o,examResultObjs:m.data?.objs??[]}),l.complete()})})});(0,de.p)(n).subscribe(o=>{let s=this.commonService.getFirstOfArray(o.filter(r=>r?.errorMessage).map(r=>r?.errorMessage));if(s)return this.errorStatusObj(s,!0);this.handleExamResultResponses(o),this.successStatusObj()})}buildFilterObj(n,o,s){const r=this.studentProfileFilterService.getDefaultFilterObj("exam");return r.classroomId=n,r.studentId=o,r.nextPage=s,r}handleExamResultResponses(n){n.forEach(o=>{this.classroomIdToNextPages.set(o.classroomObj.id.toString(),o.nextPage?o.nextPage:this.endPageStr),this.examObjs=this.examObjs.concat(o.examResultObjs),this.hasNextPage=Array.from(this.classroomIdToNextPages.values()).some(s=>s!=this.endPageStr)})}ngOnInit(){this.getNextExamResultObjs()}constructor(n,o,s){super(),this.studentProfileV2Service=n,this.studentProfileFilterService=o,this.permissionService=s,this.backToLink="",this.isTeacher=!0,this.classroomList=[],this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.endPageStr="END_PAGE"}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(re.m_),t.rXU(Hi),t.rXU(js.p))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher",classroomList:"classroomList"},standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","clipboard-check","size","40","class","text-primary",3,"matTooltip",4,"ngIf"],["name","file-check","size","48",3,"ngClass",4,"ngIf"],[1,"ml-4","content-right"],[1,"font-medium",3,"ngClass","ngStyle","matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["name","clipboard-check","size","40",1,"text-primary",3,"matTooltip"],["name","file-check","size","48",3,"ngClass"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",3,"click","matTooltip"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-student-profile-filter-menu",2),t.bIt("changeFilterEvent",function(){return o.reInitData()}),t.k0s()(),t.j41(5,"div",3),t.DNE(6,$T,16,26,"div",4)(7,zT,3,3,"div",5)(8,AT,5,4,"div",6),t.k0s()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),t.R7$(2),t.Y8G("filterType","exam"),t.R7$(2),t.Y8G("ngForOf",o.examObjs),t.R7$(),t.Y8G("ngIf",0==o.examObjs.length&&!o.hasNextPage),t.R7$(),t.Y8G("ngIf",o.examObjs.length>0&&o.hasNextPage))},dependencies:[Is,me.D,X.K,d.MD,d.YU,d.Sq,d.bT,d.B3,c.X1,b.iI,c.YN,h.wp,S.s,et.oV,f.flO,f.WGl,x.L,h.bH,h.Xc,C.Id,y.k],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),a})();function PT(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",5),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function YT(e,a){if(1&e&&(t.j41(0,"mat-option",23),t.EFF(1),t.k0s()),2&e){const i=a.$implicit;t.Y8G("value",i.id+"-"+i.studentId),t.R7$(),t.SpI(" ",i.name," ")}}function VT(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",17)(1,"mat-form-field",18)(2,"mat-select",19,3),t.bIt("selectionChange",function(o){t.eBV(i);const s=t.XpG(2);return t.Njj(s.selectedClassroom(o))}),t.j41(4,"mat-option"),t.nrm(5,"ngx-mat-select-search",20),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"mat-option",21),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,YT,2,2,"mat-option",22),t.k0s()()()}if(2&e){const i=t.sdS(3),n=t.XpG(2);t.R7$(2),t.Y8G("formControl",n.select),t.R7$(3),t.FS9("placeholderLabel",t.bMT(6,8,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(7,10,"lang_search_not_found")),t.Y8G("formControl",i.searchControl),t.R7$(3),t.Y8G("value","")("disabled",!0),t.R7$(),t.SpI("---",t.bMT(10,12,"lang_auto_chon_lop"),"---"),t.R7$(2),t.Y8G("ngForOf",i.filter(n.classroomList,"name"))}}function BT(e,a){if(1&e&&(t.j41(0,"div",24),t.nrm(1,"azt-detail-attendance",25),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("studentId",i.studentId)("isTeacherRole",i.isTeacherDashboard)("selectClassroomId",i.classroomId)("classroomList",i.classroomList)}}function XT(e,a){if(1&e&&(t.j41(0,"div",24)(1,"p",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"azt-detail-tuition-fee",27),t.k0s()),2&e){const i=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"lang_student_tuition_fee_info")),t.R7$(2),t.Y8G("studentId",i.studentId)}}function UT(e,a){if(1&e&&(t.j41(0,"div",24)(1,"p",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"azt-detail-book-distribution",27),t.k0s()),2&e){const i=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"lang_student_book_distribution_info")),t.R7$(2),t.Y8G("studentId",i.studentId)}}function HT(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h3",8),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,VT,12,14,"div",9),t.k0s(),t.j41(6,"div",10)(7,"azt-detail-account-student",11),t.bIt("reInitComponentEvent",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.reInitOtherComponent())}),t.k0s(),t.j41(8,"div",12)(9,"div",13),t.nrm(10,"azt-student-profile-list-exams",14,1),t.k0s(),t.j41(12,"div",13),t.nrm(13,"azt-student-profile-list-homeworks",15,2),t.k0s()(),t.DNE(15,BT,2,4,"div",16)(16,XT,5,4,"div",16)(17,UT,5,4,"div",16),t.k0s()()}if(2&e){const i=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,21,"lang_student_classroom_profile_student")," "),t.R7$(2),t.Y8G("ngIf",!i.isTqbDomain),t.R7$(2),t.Y8G("studentObj",i.studentObj)("classroomObj",i.classroomObj)("classroomList",i.classroomList)("classroomId",i.classroomId)("backToLink",i.backToLink)("paramBackToLink",i.paramBackToLink)("isTeacher",i.isTeacherDashboard),t.R7$(3),t.Y8G("studentId",i.studentId)("isTeacher",i.isTeacherDashboard)("classroomId",i.classroomId)("backToLink",i.backToLink)("classroomList",i.classroomList),t.R7$(3),t.Y8G("studentId",i.studentId)("isTeacher",i.isTeacherDashboard)("classroomId",i.classroomId)("backToLink",i.backToLink),t.R7$(2),t.Y8G("ngIf",i.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.isTqbDomain),t.R7$(),t.Y8G("ngIf",i.isTqbDomain)}}let JT=(()=>{var e;class a extends j.H{reInitOtherComponent(n){this.listExam?.reInitData(),this.listHomework?.reInitData(),n&&this.getData()}selectedClassroom(n){let o=n.value.split("-")[0],s=n.value.split("-")[1],r=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+o+"/"+s,r?"?backTo="+encodeURIComponent(r):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(o=>{1==o.success?(o.data?.studentObj&&o.data?.classroomObj&&o.data.classroomObj.permissionObj&&(this.studentObj=o.data.studentObj,this.classroomObj=o.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(n){super(),this.studentProfileV2Service=n,this.select=new c.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(re.m_))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-student-profile"]],viewQuery:function(n,o){if(1&n&&(t.GBs(Ji,5),t.GBs(Ji,5)),2&n){let s;t.mGM(s=t.lsd())&&(o.listExam=s.first),t.mGM(s=t.lsd())&&(o.listHomework=s.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["listExam",""],["listHomework",""],["searchInListClassroom","searchInList"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],["class","ml-5 box","style","font-size: 12px",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"reInitComponentEvent","studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink","classroomList"],[3,"studentId","isTeacher","classroomId","backToLink"],["class","mt-5",4,"ngIf"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["searchInList","","name","classroom",3,"selectionChange","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId","classroomList"],[1,"mb-3","text-base","font-medium"],[3,"studentId"]],template:function(n,o){if(1&n&&t.DNE(0,PT,1,1,"azt-loading-effect",4)(1,HT,18,23,"ng-template",null,0,t.C5r),2&n){const s=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[Xt.An,Xt.U9,wn.x,X.K,Wk,Ji,IT,nT,dT,sT,d.MD,d.Sq,d.bT,c.X1,c.BC,c.l_,b.iI,c.YN,h.wp,S.s,at.wT,nt.rl,At.VO,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})();function qT(e,a){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function WT(e,a){if(1&e&&t.nrm(0,"azt-student-profile",4),2&e){const i=t.XpG();t.Y8G("studentId",i.studentId)("select",i.select)("classroomId",i.classroomId)("backToLink",i.backToLink)("paramBackToLink",i.paramBackToLink)("classroomList",i.classroomList)("isTeacherDashboard",!1)}}const KT=[{path:"",component:ks,canActivate:[Qt.L],children:[{path:"",component:Nn},{path:"classroom/:type",component:Nn},{path:"classroom-details/:id/:tabId",component:Kb},{path:"profile-student/:classroom_id/:id",component:(()=>{var e;class a extends j.H{getListClassroomByStudentId(){this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(n=>{1===n.success?(this.classroomList=n.data?.objs??[],this.classroomList.find(o=>o.id+"-"+o.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}getProfileStudent(){this.initStatusObj(),this.studentService.apiStudentsMeProfileGet().subscribe(n=>{n?(n.student?(this.classroomId=n.student.classroomId,this.studentId=n.student.id,this.backToLink="/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backTo")??"/student/classroom/0",this.myNavigationWithQueryString("/student/profile-student/"+n.student.classroomId+"/"+n.student.id,"?backTo="+encodeURIComponent(this.paramBackToLink))):(this.backToLink="/student/classroom/0",this.paramBackToLink=this.commonService.getMyQueryParam("backTo")??this.backToLink),this.prepareData()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)})}prepareData(){this.initStatusObj(),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,ce.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"classroom_id"),o=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(n||"",10),this.studentId=parseInt(o||"",10),this.classroomId&&this.studentId?this.prepareData():this.getProfileStudent(),this.mobileWebviewService.sendSimpleMessage("OPEN_STATISTICAL"),this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"})}))}constructor(n,o,s,r){super(),this.mobileWebviewService=n,this.studentService=o,this.activeRoute=s,this.studentProfileV2Service=r,this.select=new c.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Yn.f),t.rXU(G.b0),t.rXU(b.nX),t.rXU(re.m_))},e.\u0275cmp=t.VBU({type:e,selectors:[["student-profile-frontend"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(n,o){if(1&n&&(t.j41(0,"student-layout",1),t.DNE(1,qT,1,1,"azt-loading-effect",2)(2,WT,1,7,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.Y8G("headerBackToLink",o.paramBackToLink),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[w.j,X.K,JT,d.MD,d.bT,c.X1,b.iI,c.YN,S.s,f.flO,x.L,C.Id,y.k],encapsulation:2}),a})()},{path:"add-teacher",component:Es},{path:"dashboard-v2",component:Nn},{path:"dashboard",redirectTo:"classroom/0"},{path:"student-dashboard/:type",component:Nn},{path:"dashboard/:id",redirectTo:"classroom/0"},{path:"dashboard/:id/:classroomId",redirectTo:"classroom/0"},{path:"dashboard/:id/:classroomId/:type",redirectTo:"classroom/0"},{path:"dashboard/:id/:classroomId",redirectTo:"classroom/0"},{path:"dashboard/:id/:classroomId/:type",redirectTo:"classroom/0"},{path:"all-products",component:z2},{path:"product-payment-history",component:Pv},{path:"google-analytics-realtime",component:A2},{path:"list-liveclass",component:Ev},{path:"list-liveclass-for-ads",component:Qe.X},{path:"view-product/:id",component:jk}]}],QT=[{path:"",component:ks,children:[{path:"join-classroom/:hashId",component:G2}]}];let tC=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[b.iI.forChild(KT),b.iI.forChild(QT),b.iI,zn.XE]}),a})()},7157:(Os,Ke,g)=>{g.d(Ke,{Z:()=>zn});var b=g(93953);let zn=(()=>{var Qt;class Qe{constructor(v){this.el=v,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator=".",this.decimalSeparator1=".",this.decimalSeparator2=",",this.allowNegatives=!1,this.allowPaste=!0,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=v.nativeElement}ngOnChanges(v){if(v.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),v.min){const w=Number(this.min);this.min=isNaN(w)?-1/0:w}if(v.max){const w=Number(this.max);this.max=isNaN(w)?1/0:w}}onBeforeInput(v){if(isNaN(Number(v.data))){if(v.data===this.decimalSeparator1||v.data===this.decimalSeparator2||v.data===this.negativeSign&&this.allowNegatives)return;v.preventDefault(),v.stopPropagation()}}onKeyDown(v){if(this.navigationKeys.indexOf(v.key)>-1||("a"===v.key||"KeyA"===v.code)&&!0===v.ctrlKey||("c"===v.key||"KeyC"===v.code)&&!0===v.ctrlKey||("v"===v.key||"KeyV"===v.code)&&!0===v.ctrlKey||("x"===v.key||"KeyX"===v.code)&&!0===v.ctrlKey||("a"===v.key||"KeyA"===v.code)&&!0===v.metaKey||("c"===v.key||"KeyC"===v.code)&&!0===v.metaKey||("v"===v.key||"KeyV"===v.code)&&!0===v.metaKey||("x"===v.key||"KeyX"===v.code)&&!0===v.metaKey)return;let w="";var R=v.key;if(v.key===this.decimalSeparator2&&(R=this.decimalSeparator1),this.decimal&&R===this.decimalSeparator1)return w=this.forecastValue(R),w.split(this.decimalSeparator1).length>2||(this.hasDecimalPoint=w.indexOf(this.decimalSeparator1)>-1,this.setNewValue(R)),void v.preventDefault();if(R===this.negativeSign&&this.allowNegatives)return w=this.forecastValue(R),w.charAt(0)!==this.negativeSign||w.split(this.negativeSign).length>2?void v.preventDefault():void(this.hasNegativeSign=w.split(this.negativeSign).length>-1);if(" "===R||isNaN(Number(R)))return void v.preventDefault();if(w=w||this.forecastValue(R),this.regex&&!this.regex.test(w))return void v.preventDefault();const B=Number(w);(B>this.max||B<this.min)&&v.preventDefault()}onPaste(v){if(!0===this.allowPaste){let w="";window.clipboardData?w=window.clipboardData.getData("text"):v.clipboardData&&v.clipboardData.getData&&(w=v.clipboardData.getData("text/plain")),this.pasteData(w),v.preventDefault()}else v.preventDefault(),v.stopPropagation()}onDrop(v){const w=v.dataTransfer?.getData("text")??"";this.inputElement.focus(),this.pasteData(w),v.preventDefault()}pasteData(v){v=this.replaceDecimalSeparator(v);const w=this.sanitizeInput(v);if(!w.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,w))if(this.inputElement.setRangeText){const{selectionStart:B,selectionEnd:d}=this.inputElement;this.inputElement.setRangeText(w,B??0,d??0,"end"),typeof window.InstallTrigger<"u"&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,w);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}setNewValue(v){v=this.replaceDecimalSeparator(v),this.insertAtCursor(this.inputElement,v),this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}insertAtCursor(v,w){const R=v.selectionStart??0,B=v.selectionEnd??0;v.value=v.value.substring(0,R)+w+v.value.substring(B,v.value.length);const d=R+w.length;v.focus(),v.setSelectionRange(d,d),this.triggerEvent(v,"input")}triggerEvent(v,w){if("createEvent"in document){const R=document.createEvent("HTMLEvents");R.initEvent(w,!1,!0),v.dispatchEvent(R)}}sanitizeInput(v){let R,w="";R=this.decimal&&this.isValidDecimal(v)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator1}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),w=v.replace(R,"");const B=this.inputElement.maxLength;if(B>0){const d=B-this.inputElement.value.length+(w.includes(`${this.negativeSign}`)?1:0);w=d>0?w.substring(0,d):""}return w}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(v){if(this.hasDecimalPoint){const w=this.getSelection();return w&&w.indexOf(this.decimalSeparator1)>-1?v.split(this.decimalSeparator1).length<=2:v.indexOf(this.decimalSeparator1)<0}return v.split(this.decimalSeparator1).length<=2}getSelection(){return this.inputElement.value.substring(this.inputElement.selectionStart??0,this.inputElement.selectionEnd??0)}forecastValue(v){const R=this.inputElement.selectionEnd??0,B=this.inputElement.value;return B.substring(0,this.inputElement.selectionStart??0)+v+B.substring(R)}replaceDecimalSeparator(v){return v.replace(",",this.decimalSeparator).replace(".",this.decimalSeparator)}}return(Qt=Qe).\u0275fac=function(v){return new(v||Qt)(b.rXU(b.aKT))},Qt.\u0275dir=b.FsC({type:Qt,selectors:[["","appOnlyNumber",""]],hostBindings:function(v,w){1&v&&b.bIt("beforeinput",function(B){return w.onBeforeInput(B)})("keydown",function(B){return w.onKeyDown(B)})("paste",function(B){return w.onPaste(B)})("drop",function(B){return w.onDrop(B)})},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",decimalSeparator1:"decimalSeparator1",decimalSeparator2:"decimalSeparator2",allowNegatives:"allowNegatives",allowPaste:"allowPaste",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},standalone:!0,features:[b.OA$]}),Qe})()}}]);