"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[1490],{97849:(Ce,ct,m)=>{m.r(ct),m.d(ct,{TestFrontRoutingModule:()=>a1});var l=m(65162),ut=m(1133),Tt=m(34158),c=m(54460),p=m(10936),d=m(15343),G=m(76627),b=m(21656),at=m(69135),g=m(47348),h=m(70050),S=m(59640),Y=m(69502),pt=m(22613),ht=m(37497),A=m(18718),wt=m(94743),T=m(5502),x=m(36894),t=m(48891),j=m(38945),V=m(543);let qt=(()=>{var n;class s{isInIframe(){try{return window.self!==window.top}catch{return!0}}sendMessageToParentIframe(o){try{window.parent.postMessage(o,"*")}catch{}}sendMessageToIFrame(o,a){const i=document.getElementById(o),r=i?i.contentWindow:null;r?.postMessage(a,"*")}constructor(o){this.commonService=o}}return(n=s).\u0275fac=function(o){return new(o||n)(t.KVO(V.R))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();var Ht=m(28787),H=m(47712);const Wt=n=>({active:n}),Jt=n=>({clickable:n}),Kt=n=>({"truncate-bread":n});function Zt(n,s){if(1&n&&(t.j41(0,"student-layout",5),t.eu8(1,6),t.k0s()),2&n){const e=t.XpG(),o=t.sdS(3);t.Y8G("headerBackToLink",e.backToLink),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function C(n,s){if(1&n&&(t.j41(0,"div",7),t.eu8(1,6),t.k0s()),2&n){t.XpG();const e=t.sdS(3);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function L(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",9),2&n){const e=t.XpG(2);t.Y8G("currentStatusObj",e.statusObj)}}function y(n,s){1&n&&(t.j41(0,"h3",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_danh_sach_de_thi")," "))}function F(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function w(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function Z(n,s){if(1&n){const e=t.RV6();t.j41(0,"li",23)(1,"a",24),t.bIt("click",function(){const a=t.eBV(e).$implicit,i=t.XpG(3);return t.Njj(i.goBackParent(a.id?a.id:0))}),t.j41(2,"span",25,2),t.nI1(4,"mytranslate"),t.DNE(5,F,3,3,"span",26)(6,w,2,1,"span",26),t.k0s()()()}if(2&n){const e=s.$implicit,o=t.sdS(3),a=t.XpG(3);t.Y8G("ngClass",t.eq3(10,Wt,e.id==a.categoryId)),t.R7$(),t.Y8G("ngClass",t.eq3(12,Jt,e.id!=a.categoryId)),t.R7$(),t.FS9("matTooltip",t.bMT(4,8,e.name)),t.Y8G("ngClass",t.eq3(14,Kt,e.id!=a.categoryId))("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(3),t.Y8G("ngIf",-1==e.id),t.R7$(),t.Y8G("ngIf",-1!=e.id)}}function Ie(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){const a=t.eBV(e).$implicit,i=t.XpG(3);return t.Njj(i.cateDetail(a))}),t.j41(1,"div",28)(2,"div",29),t.nrm(3,"azt-svg-icon",30),t.k0s(),t.j41(4,"div",31,2),t.EFF(6),t.k0s()()()}if(2&n){const e=s.$implicit,o=t.sdS(5);t.R7$(4),t.FS9("matTooltip",e.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.SpI(" ",e.name," ")}}function Fn(n,s){if(1&n&&(t.j41(0,"div",42)(1,"span",43),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),": "),t.R7$(3),t.JRh(e.mark)}}function Gn(n,s){1&n&&(t.j41(0,"div",42),t.nrm(1,"div",44),t.k0s())}function Dn(n,s){if(1&n){const e=t.RV6();t.j41(0,"a",35),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,i=t.XpG(3);return t.Njj(i.redirectToExamDetail(a.hashId?a.hashId:""))}),t.j41(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",29),t.nrm(5,"azt-svg-icon",39),t.k0s(),t.j41(6,"div",31,2),t.EFF(8),t.k0s(),t.j41(9,"div",40)(10,"span"),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,Fn,6,4,"div",41)(15,Gn,2,0,"div",41),t.k0s()()()()}if(2&n){const e=t.sdS(7),o=t.XpG().$implicit,a=t.XpG(3);t.FS9("target",a.target),t.R7$(5),t.Y8G("size",80),t.R7$(),t.FS9("matTooltip",o.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.R7$(2),t.SpI(" ",o.name," "),t.R7$(3),t.JRh(o.attended),t.R7$(),t.SpI(" ",t.bMT(13,10,"lang_auto_luot_lam_de")," "),t.R7$(2),t.Y8G("ngIf",null!=o.mark),t.R7$(),t.Y8G("ngIf",null==o.mark)}}function Mn(n,s){if(1&n&&(t.j41(0,"div",42)(1,"span",43),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),": "),t.R7$(3),t.JRh(e.mark)}}function Ln(n,s){if(1&n&&(t.j41(0,"a",45)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",29),t.nrm(5,"azt-svg-icon",39),t.k0s(),t.j41(6,"div",31,2),t.EFF(8),t.k0s(),t.j41(9,"div",40)(10,"span"),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,Mn,6,4,"div",41),t.k0s()()()()),2&n){const e=t.sdS(7),o=t.XpG().$implicit,a=t.XpG(3);t.FS9("target",a.target),t.Y8G("href","/de-thi/"+o.hashId,t.B4B),t.R7$(5),t.Y8G("size",60),t.R7$(),t.FS9("matTooltip",o.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.R7$(2),t.SpI(" ",o.name," "),t.R7$(3),t.JRh(o.attended),t.R7$(),t.SpI(" ",t.bMT(13,10,"lang_auto_luot_lam_de")," "),t.R7$(2),t.Y8G("ngIf",null!=o.mark)}}function Qn(n,s){if(1&n&&(t.j41(0,"div",32),t.DNE(1,Dn,16,12,"a",33)(2,Ln,15,12,"a",34),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf","_blank"!=e.target),t.R7$(),t.Y8G("ngIf","_blank"==e.target)}}function Nn(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",10),t.DNE(1,y,3,3,"h3",11),t.j41(2,"div",12)(3,"ol",13)(4,"li",14)(5,"a",15),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.backToAllCate())}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.DNE(8,Z,7,16,"li",16),t.k0s()(),t.j41(9,"div",17),t.DNE(10,Ie,7,4,"div",18)(11,Qn,3,2,"div",19),t.k0s(),t.j41(12,"div",20)(13,"azt-paging",21),t.bIt("goToPaginationPage",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.goToPage(a))}),t.k0s()()()}if(2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.isInIframe),t.R7$(5),t.SpI(" ",t.bMT(7,6,"lang_auto_tat_ca")," "),t.R7$(2),t.Y8G("ngForOf",e.listBreadcrumb),t.R7$(2),t.Y8G("ngForOf",e.cateObjs),t.R7$(),t.Y8G("ngForOf",e.examObjs),t.R7$(2),t.Y8G("pageObj",e.pageObj)}}function Bn(n,s){if(1&n&&t.DNE(0,L,1,1,"azt-loading-effect",8)(1,Nn,14,8,"ng-template",null,1,t.C5r),2&n){const e=t.sdS(2),o=t.XpG();t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",e)}}let $n=(()=>{var n;class s extends S.H{getListParentCate(){this.waitDestroy(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.categoryId).subscribe(o=>{1==o.success?this.listBreadcrumb=o.data?.objs??new Array:this.errorStatusObj(o.message??"",!0)}))}getData(){this.backToLink=0!=this.categoryId?"/test/category/"+this.tenantId+"/0/"+this.pageObj.page:"/student/classroom/0";var o=Number(this.commonService.getMyParam(this.activeRoute,"page"));this.pageObj.setPageNumber(o>0?o:1),this.initStatusObj(),this.waitDestroy(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.categoryId>0?this.categoryId:0,this.pageObj.page).subscribe(a=>{1==a.success?(this.cateObjs=a.data?.categoryObjs??new Array,this.examObjs=a.data?.examObjs??new Array,this.totalExam=a.data?.totalExam??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)):this.errorStatusObj(a.message??"",!0)}))}goToPage(o){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.categoryId+"/"+o)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(o){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+o.id+"/1")}goBackParent(o){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+o+"/1")}redirectToExamDetail(o){this.commonService.myNavigationWithQueryString(`/de-thi/${o}`,"?backto="+encodeURIComponent(this.paramBackToLink))}resizeHeight(){var o=document.body,a=document.documentElement,i=Math.max(o.scrollHeight,o.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);this.contentHeight=i,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}checkHeight(){var o=document.body,a=document.documentElement,i=Math.max(o.scrollHeight,o.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);this.contentHeight=i,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){super.ngOnInit(),this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.waitDestroy((0,G.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let o=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.categoryId}/${o}`,this.getData(),this.userLoginStateService.loginMessage.subscribe(a=>this.changeLogin()),this.commonService.translateMetaData({title:"lang_auto_danh_sach_de_thi",description:"lang_auto_danh_sach_de_thi"})}))}constructor(o,a,i,r,_){super(),this.activeRoute=o,this.frontExamCategoryService=a,this.frontExamPageService=i,this.iframeService=r,this.userLoginStateService=_,this.totalExam=0,this.tenantId=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.categoryId=0,this.backToLink="",this.paramBackToLink="",this.pageObj=new ht.d(18)}ngOnDestroy(){super.ngOnDestroy()}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(l.nX),t.rXU(j.EC),t.rXU(j.zW),t.rXU(qt),t.rXU(Ht.X))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-student-index"]],hostBindings:function(o,a){1&o&&t.bIt("resize",function(r){return a.resizeHeight(r)},!1,t.tSv)},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["categoryTemplate",""],["doneLoading",""],["c","isDisabled"],[3,"headerBackToLink",4,"ngIf"],["class","in-iframe",4,"ngIf"],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[1,"in-iframe"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"mt-5","mx-auto",2,"max-width","1200px"],["class","text-md uppercase font-medium",4,"ngIf"],[1,"box","p-3","mt-5"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","category--SCvgQNgc",3,"click"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["azt-track-service","category-P9OVEFAeM7","class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3",3,"click",4,"ngFor","ngForOf"],["class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3 cursor-pointer",4,"ngFor","ngForOf"],[1,"mt-3","p-2"],[3,"goToPaginationPage","pageObj"],[1,"text-md","uppercase","font-medium"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","category-4ZVvjZOwmm",3,"click","ngClass"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],[4,"ngIf"],["azt-track-service","category-P9OVEFAeM7",1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3",3,"click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","h-full"],[1,"w-3/5","mx-auto"],["type","folder",1,"w-full","h-full"],[1,"block","font-medium","mt-4","text-center","truncate","w-full",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3","cursor-pointer"],["azt-track-service","category-36xAyNdE6R","class","flex h-full",3,"target","click",4,"ngIf"],["azt-track-service","category-QMZDKTOTgR","class","flex h-full",3,"href","target",4,"ngIf"],["azt-track-service","category-36xAyNdE6R",1,"flex","h-full",3,"click","target"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","w-full"],[1,"box-title","text-center"],[1,"test","p-2","pl-3","pr-3"],["type","file",3,"size"],[1,"text-slate-500","text-xs","text-center","mt-0.5"],["class","mt-0.5",4,"ngIf"],[1,"mt-0.5"],[1,"text-center","font-medium"],[2,"height","16px"],["azt-track-service","category-QMZDKTOTgR",1,"flex","h-full",3,"href","target"]],template:function(o,a){1&o&&t.DNE(0,Zt,2,2,"student-layout",3)(1,C,2,1,"div",4)(2,Bn,3,2,"ng-template",null,0,t.C5r),2&o&&(t.Y8G("ngIf",!a.isInIframe),t.R7$(),t.Y8G("ngIf",a.isInIframe))},dependencies:[at.f,Y.j,A.K,wt.m,pt.q,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,l.iI,p.YN,g.wp,b.s,H.oV,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();var mt=m(34828),ot=m(9691),Yn=m(47020),bt=m(78745),Pn=m(8022),xt=m(18447),St=m(69372),At=m(5424);class zt{defaultTime(s=!1){return{hour:0,minute:0,second:0,almostEnd:s,hourStr:"00",minuteStr:"00",secondStr:"00"}}parseTime(s){const e=Math.floor(s/3600),a=Math.floor(s%3600/60),i=s%60;return{hour:e,minute:a,second:i,almostEnd:0==e&&0==a,hourStr:e<10?"0"+e:e.toString(),minuteStr:a<10?"0"+a:a.toString(),secondStr:i<10?"0"+i:i.toString()}}}const Xn=n=>({"time-almost-end":n});let W=(()=>{var n;class s extends S.H{intervalTime(){let o=this.totalSecond,a=this.timeService.getCurrentSecond();const i=new xt.B,r=(0,St.Y)(1e3).pipe((0,At.Q)(i));this.waitDestroy(r.subscribe(_=>{this.timeCount=(new zt).parseTime(this.totalSecond);let u=this.timeService.getCurrentSecond();this.totalSecond=o-(u-a),this.totalSecond<=0&&(i.next(!0),this.endCountDownEvent.emit(!0))}))}ngOnChanges(){this.timeCount=(new zt).parseTime(this.totalSecond)}ngOnInit(){super.ngOnInit(),this.timeCount=(new zt).parseTime(this.totalSecond),this.useCountDown&&this.intervalTime()}constructor(o){super(),this.timeService=o,this.customClass="font-medium",this.endCountDownEvent=new t.bkB,this.timeCount=(new zt).defaultTime()}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(ot.F))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-frontend-count-down-box"]],inputs:{totalSecond:"totalSecond",useCountDown:"useCountDown",customClass:"customClass"},outputs:{endCountDownEvent:"endCountDownEvent"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:2,vars:9,consts:[[3,"ngClass"]],template:function(o,a){1&o&&(t.j41(0,"span",0),t.EFF(1),t.k0s()),2&o&&(t.HbH(a.customClass),t.Y8G("ngClass",t.eq3(7,Xn,a.timeCount.almostEnd)),t.R7$(),t.E5c("",a.timeCount.hourStr," : ",a.timeCount.minuteStr," : ",a.timeCount.secondStr,""))},dependencies:[c.MD,c.YU,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();var tt=m(52811),Vn=m(66729);const jt=()=>({"mr-2":!0}),Un=n=>[n],qn=(n,s)=>({backto:n,capacity:s}),ye=()=>({"ml-2":!0});function Hn(n,s){1&n&&t.nrm(0,"azt-loading-ui",6)}function Wn(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"button",4),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.getExamHistoryByHashId(!0))}),t.DNE(2,Hn,1,0,"azt-loading-ui",5),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_exam_detail_show_exam_history")," ")}}function Jn(n,s){1&n&&(t.j41(0,"h3",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_exam_detail_no_exam_history")," "))}function Kn(n,s){1&n&&(t.j41(0,"h3",11),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_lich_su_lam_bai_cua_ban")," "))}function Zn(n,s){if(1&n&&(t.j41(0,"span",30),t.nrm(1,"azt-check-mark",31),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.Y8G("mark",e.mark)}}function ta(n,s){if(1&n&&(t.qex(0),t.j41(1,"span",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Zn,2,1,"span",28),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_diem_cua_ban"),":\xa0"),t.R7$(2),t.Y8G("ngIf",null!=e.mark)}}function ea(n,s){1&n&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":\xa0"))}function na(n,s){1&n&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":\xa0"))}function aa(n,s){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",e.mark," ")}}function oa(n,s){if(1&n&&(t.qex(0),t.DNE(1,ea,3,3,"span",32)(2,na,3,3,"span",32)(3,aa,2,1,"span",28),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",null==e.essayMark),t.R7$(),t.Y8G("ngIf",null!=e.essayMark),t.R7$(),t.Y8G("ngIf",null!=e.mark)}}function sa(n,s){1&n&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":\xa0"))}function ia(n,s){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",e.mark," ")}}function ra(n,s){1&n&&(t.j41(0,"span",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_diem")," "))}function la(n,s){if(1&n&&(t.qex(0),t.DNE(1,sa,3,3,"span",32)(2,ia,2,1,"span",28)(3,ra,3,3,"span",33),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",null!=e.essayMark),t.R7$(),t.Y8G("ngIf",null!=e.mark&&null!=e.essayMark),t.R7$(),t.Y8G("ngIf",null==e.essayMark)}}function _a(n,s){1&n&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_diem")," "))}function ca(n,s){if(1&n&&(t.j41(0,"div",27),t.DNE(1,ta,5,4,"ng-container",2),t.nI1(2,"isOnlyTrueFalse"),t.DNE(3,oa,4,3,"ng-container",2),t.nI1(4,"isMixTrueFalseAndEssay"),t.DNE(5,la,4,3,"ng-container",2),t.nI1(6,"isOnlyEssay"),t.DNE(7,_a,3,3,"span",28),t.k0s()),2&n){const e=t.XpG().$implicit,o=t.XpG(3);t.R7$(),t.Y8G("ngIf",t.bMT(2,4,o.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,6,o.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,8,o.examObj)),t.R7$(2),t.Y8G("ngIf",null==e.mark)}}function ua(n,s){1&n&&(t.j41(0,"div",27)(1,"span",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",30),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_diem_cua_ban"),":\xa0"),t.R7$(3),t.SpI(" ",t.bMT(6,4,"lang_auto_chua_duoc_xem_diem")," "))}function pa(n,s){if(1&n&&(t.j41(0,"div",20)(1,"p",17),t.nrm(2,"lucide-icon",35),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",36),t.EFF(6),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.Y8G("ngClass",t.lJ4(5,jt)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_so_luong_dung")," "),t.R7$(3),t.SpI(" ",e.rightAnswer," ")}}function ma(n,s){if(1&n&&(t.j41(0,"button",37),t.nI1(1,"navigationLocalize"),t.nI1(2,"isCapacityExam"),t.EFF(3),t.nI1(4,"mytranslate"),t.nrm(5,"lucide-icon",38),t.k0s()),2&n){const e=t.XpG().$implicit,o=t.XpG(3);t.Y8G("routerLink",t.eq3(10,Un,t.bMT(1,4,"/test/answer-test/"+o.curTenantId+"/"+(null!=o.curCategoryId?o.curCategoryId:0)+"/"+o.hashId+"/"+e.id)))("queryParams",t.l_i(12,qn,o.backToLink,t.bMT(2,6,o.examObj)?"1":"0")),t.R7$(3),t.SpI(" ",t.bMT(4,8,"lang_auto_xem_chi_tiet_bai_lam")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(15,ye))}}function da(n,s){1&n&&(t.j41(0,"button",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.Y8G("disabled",!0),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}function ga(n,s){if(1&n&&(t.j41(0,"div",13),t.DNE(1,ca,8,10,"div",14)(2,ua,7,6,"div",14),t.j41(3,"div",15)(4,"div",16)(5,"p",17),t.nrm(6,"lucide-icon",18),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"p",19),t.EFF(10),t.k0s()(),t.j41(11,"div",20)(12,"p",17),t.nrm(13,"lucide-icon",21),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"p",19),t.EFF(17),t.nI1(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()(),t.DNE(19,pa,7,6,"div",22),t.j41(20,"div",20)(21,"p",17),t.nrm(22,"lucide-icon",23),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"p",19),t.EFF(26),t.k0s()()(),t.j41(27,"div",24),t.DNE(28,ma,6,16,"button",25)(29,da,3,4,"button",26),t.k0s()()),2&n){const e=s.$implicit,o=t.XpG(3);t.R7$(),t.Y8G("ngIf",2!=o.examObj.whenShowResult),t.R7$(),t.Y8G("ngIf",2==o.examObj.whenShowResult),t.R7$(4),t.Y8G("ngClass",t.lJ4(22,jt)),t.R7$(),t.SpI(" ",t.bMT(8,14,"lang_auto_thoi_gian_lam_bai"),":\xa0 "),t.R7$(3),t.SpI(" ",o.calculateTime(e.startedTest,e.createdAt)," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(23,jt)),t.R7$(),t.SpI(" ",t.bMT(15,16,"lang_auto_thoi_gian_nop_bai"),":\xa0 "),t.R7$(3),t.SpI(" ",t.bMT(18,18,e.createdAt)," "),t.R7$(2),t.Y8G("ngIf",null!=e.rightAnswer&&2!=o.examObj.whenShowResult),t.R7$(3),t.Y8G("ngClass",t.lJ4(24,jt)),t.R7$(),t.SpI(" ",t.bMT(24,20,"lang_auto_so_cau_hoi")," "),t.R7$(3),t.SpI(" ",e.totalQuestion," "),t.R7$(2),t.Y8G("ngIf",!1!==o.examObj.allowStudentView),t.R7$(),t.Y8G("ngIf",!1===o.examObj.allowStudentView)}}function fa(n,s){if(1&n&&(t.qex(0),t.DNE(1,ga,30,25,"div",12),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.historyObjs)}}function Ta(n,s){1&n&&t.nrm(0,"azt-loading-ui",44)}function ha(n,s){1&n&&t.nrm(0,"lucide-icon",45),2&n&&t.Y8G("ngClass",t.lJ4(1,ye))}function ba(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",40)(1,"button",41),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.pagingData())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Ta,1,0,"azt-loading-ui",42)(5,ha,1,2,"lucide-icon",43),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_xem_them")," "),t.R7$(2),t.Y8G("ngIf",e.statusObj.loading),t.R7$(),t.Y8G("ngIf",!e.statusObj.loading)}}function xa(n,s){if(1&n&&(t.qex(0),t.DNE(1,Jn,3,3,"h3",7)(2,Kn,3,3,"h3",8)(3,fa,2,1,"ng-container",2)(4,ba,6,5,"div",9),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",!e.historyObjs.length),t.R7$(),t.Y8G("ngIf",e.historyObjs.length>0),t.R7$(),t.Y8G("ngIf",e.examObj&&e.historyObjs.length>0),t.R7$(),t.Y8G("ngIf",!e.disableBtn&&e.initDataCalled)}}let Sa=(()=>{var n;class s extends S.H{pagingData(){this.getExamHistoryByHashId()}calculateTime(o,a){return o?this.timeService.calculationTimeExamTested(o,a):""}getExamHistoryByHashId(o){this.initStatusObj(),this.waitDestroy(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(a=>{if(1==a.success){o&&(this.initDataCalled=!0);let i=a.data?.objs?a.data?.objs?.length:0;if(a.data?.objs)for(let r=0;r<i;r++)this.historyObjs.push(a.data.objs[r]??{});else this.initDataCalled=!0,this.errorStatusObj(a.message??"");this.page=a.data?.nextPage??"",a.data?.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(a.message??"")}))}ngOnInit(){this.backToLink=this.commonService.getCurrentUrlWithoutLocale()}constructor(o,a){super(),this.frontExamResultHistoryService=o,this.timeService=a,this.curTenantId=0,this.curCategoryId=0,this.backToLink="",this.historyObjs=[],this.page="",this.disableBtn=!1,this.initDataCalled=!1}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(j.zd),t.rXU(ot.F))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",examObj:"examObj",curTenantId:"curTenantId",curCategoryId:"curCategoryId"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[[1,"exam-history","mx-auto","mt-5",2,"max-width","560px"],["class","mx-auto w-full",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","w-full"],["azt-track-service","exam-history-_84BMuODi",1,"btn","btn-outline-secondary","p-3","block","mx-auto",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["class","font-medium mx-auto",4,"ngIf"],["class","font-medium",4,"ngIf"],["class","mt-5 text-center",4,"ngIf"],[1,"font-medium","mx-auto"],[1,"font-medium"],["class","box mx-auto mt-5",4,"ngFor","ngForOf"],[1,"box","mx-auto","mt-5"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["name","clock-4","size","16",3,"ngClass"],[1,"text-md","font-medium","ml-auto"],[1,"flex","items-center","mt-3"],["name","alarm-clock-check","size","16",3,"ngClass"],["class","flex items-center mt-3",4,"ngIf"],["name","circle-help","size","16",3,"ngClass"],[1,"p-5"],["azt-track-service","exam-history-1BV_WDkCER","class","btn btn-secondary w-full",3,"routerLink","queryParams",4,"ngIf"],["class","btn btn-secondary w-full",3,"disabled",4,"ngIf"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],["class","font-medium text-lg","style","font-size: 25px",4,"ngIf"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[3,"mark"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-md","style","font-size: 25px",4,"ngIf"],[1,"font-medium","text-md",2,"font-size","25px"],["name","circle-check","size","16",3,"ngClass"],[1,"text-md","font-medium","text-success","ml-auto"],["azt-track-service","exam-history-1BV_WDkCER",1,"btn","btn-secondary","w-full",3,"routerLink","queryParams"],["name","chevron-right","size","16",3,"ngClass"],[1,"btn","btn-secondary","w-full",3,"disabled"],[1,"mt-5","text-center"],["azt-track-service","exam-history-tzgH_6R1Ki",1,"btn","btn-outline-secondary","btn-transparent",3,"click"],["class","ml-1",4,"ngIf"],["name","chevron-down","size","16",3,"ngClass",4,"ngIf"],[1,"ml-1"],["name","chevron-down","size","16",3,"ngClass"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.DNE(1,Wn,5,4,"div",1)(2,xa,5,4,"ng-container",2),t.k0s()),2&o&&(t.R7$(),t.Y8G("ngIf",!a.initDataCalled),t.R7$(),t.Y8G("ngIf",a.initDataCalled))},dependencies:[tt.R,Vn.D,g.F2,c.MD,c.YU,c.Sq,c.bT,p.X1,l.iI,l.Wk,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,g.PP,g.Pj,g.ZY,g.bH,g.Xc,T.Id,x.k],encapsulation:2}),s})();var te=m(76630),ee=m(35024),Oe=m(91640),Ee=m(57998),dt=m(46899),ka=m(27175),st=m(36484);let va=(()=>{var n;class s{constructor(){this.googleAnalyticsService=(0,t.WQX)(ka.p),this.sAztUserService=(0,t.WQX)(st.R)}sendStartTestEvent(){let o=this.sAztUserService.isLoginAndNotAnonymous()?"startTestAnonymous":"startTestLogin";this.googleAnalyticsService.event(o)}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const Ca=(n,s)=>({"monitor-height":n,"mobile-monitor":s}),P=()=>({"mr-2":!0}),Ia=()=>({"ml-1 flex":!0});function ya(n,s){if(1&n&&(t.j41(0,"div",6),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,e.hasErrorMessage)," ")}}function Oa(n,s){if(1&n&&(t.j41(0,"div",19),t.nrm(1,"div",20,1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.l_i(1,Ca,!e.isMobileDevice,e.isMobileDevice))}}function Ea(n,s){if(1&n&&(t.j41(0,"div",23)(1,"p",24),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",26),t.EFF(6),t.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(8,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.Y8G("ngClass",t.lJ4(9,P)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_thoi_gian_vao_thi")," "),t.R7$(3),t.SpI(" ",e.examObj.startTime?t.bMT(7,5,e.examObj.startTime):t.bMT(8,7,"lang_auto_khong_thoi_han")," ")}}function wa(n,s){if(1&n&&(t.j41(0,"div",23)(1,"p",24),t.nrm(2,"lucide-icon",32),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",26),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(3),o=t.r8f(0);t.R7$(2),t.Y8G("ngClass",t.lJ4(7,P)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_your_remaining_test")," "),t.R7$(3),t.SpI(" ",(o<=0?e.examObj.isTakeTestOnce:e.totalTested)+"/"+e.examObj.isTakeTestOnce+" "+t.bMT(7,5,"lang_auto_luot")," ")}}function Aa(n,s){if(1&n&&(t.j41(0,"div",21),t.DNE(1,Ea,9,10,"div",22),t.j41(2,"div",23)(3,"p",24),t.nrm(4,"lucide-icon",25),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"p",26),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",23)(11,"p",24),t.nrm(12,"lucide-icon",27),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"p",26),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.DNE(18,wa,8,8,"div",22),t.j41(19,"div")(20,"div",28)(21,"span",29),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()(),t.nrm(24,"app-capacity-exam-tree-in-view-mode-component",30),t.k0s()()),2&n){let e;const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",1!=o.examConfigObj.allowTestingEachQuestion),t.R7$(3),t.Y8G("ngClass",t.lJ4(23,P)),t.R7$(),t.SpI(" ",t.bMT(6,13,"lang_auto_loai_de")," "),t.R7$(3),t.SpI(" ",t.bMT(9,15,"lang_core_danh_gia_nang_luc")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(24,P)),t.R7$(),t.SpI(" ",t.bMT(14,17,"lang_auto_so_luot_lam_de")," "),t.R7$(3),t.SpI(" ",null==o.totalAttended?0:o.totalAttended+" "+t.bMT(17,19,"lang_auto_luot")," "),t.R7$(2),t.Y8G("ngIf",(null!==(e=null==o.examObj?null:o.examObj.isTakeTestOnce)&&void 0!==e?e:0)>0),t.R7$(4),t.JRh(t.bMT(23,21,"lang_testbank_frontend_exam_structure_view_structure")),t.R7$(2),t.Y8G("isExpand",!1)("showCountInfo",!0)("isShowLabel",!1)("rawNodes",o.examComponents)}}function za(n,s){if(1&n&&(t.j41(0,"div",23)(1,"p",24),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",26),t.EFF(6),t.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(8,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.Y8G("ngClass",t.lJ4(9,P)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_thoi_gian_vao_thi")," "),t.R7$(3),t.SpI(" ",e.examObj.startTime?t.bMT(7,5,e.examObj.startTime):t.bMT(8,7,"lang_auto_khong_thoi_han")," ")}}function ja(n,s){if(1&n&&(t.j41(0,"div",23)(1,"p",24),t.nrm(2,"lucide-icon",32),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",26),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(3),o=t.r8f(0);t.R7$(2),t.Y8G("ngClass",t.lJ4(7,P)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_your_remaining_test")," "),t.R7$(3),t.SpI(" ",(o<=0?e.examObj.isTakeTestOnce:e.totalTested)+"/"+e.examObj.isTakeTestOnce+" "+t.bMT(7,5,"lang_auto_luot")," ")}}function Ra(n,s){if(1&n&&(t.j41(0,"div",21)(1,"div",33)(2,"p",24),t.nrm(3,"lucide-icon",34),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"p",26),t.EFF(7),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.k0s()(),t.DNE(10,za,9,10,"div",22),t.j41(11,"div",23)(12,"p",24),t.nrm(13,"lucide-icon",35),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"p",26),t.EFF(17),t.k0s()(),t.j41(18,"div",23)(19,"p",24),t.nrm(20,"lucide-icon",25),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"p",26),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()(),t.j41(26,"div",23)(27,"p",24),t.nrm(28,"lucide-icon",27),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"p",26),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()(),t.DNE(34,ja,8,8,"div",22),t.k0s()),2&n){let e;const o=t.XpG(2),a=t.r8f(0);t.R7$(3),t.Y8G("ngClass",t.lJ4(30,P)),t.R7$(),t.SpI(" ",t.bMT(5,14,"lang_testbank_tested_list_time_homework")," "),t.R7$(3),t.SpI(" ",o.examObj.minutes&&o.examObj.minutes>0?o.examObj.minutes+" "+t.bMT(8,16,"lang_auto_phut"):t.bMT(9,18,"lang_auto_khong_gioi_han")," "),t.R7$(3),t.Y8G("ngIf",1!=o.examConfigObj.allowTestingEachQuestion),t.R7$(3),t.Y8G("ngClass",t.lJ4(31,P)),t.R7$(),t.SpI(" ",t.bMT(15,20,"lang_auto_so_luong_cau_hoi")," "),t.R7$(3),t.SpI(" ",2==o.examObj.mixQuestion?o.examObj.limitMixQuestion:o.examObj.countQuestion," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(32,P)),t.R7$(),t.SpI(" ",t.bMT(22,22,"lang_auto_loai_de")," "),t.R7$(3),t.SpI(" ",t.bMT(25,24,o.getExamType(o.examObj))," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(33,P)),t.R7$(),t.SpI(" ",t.bMT(30,26,"lang_auto_so_luot_lam_de")," "),t.R7$(3),t.SpI(" ",null==o.totalAttended?0:o.totalAttended+" "+t.bMT(33,28,"lang_auto_luot")," "),t.R7$(2),t.Y8G("ngIf",(null!==(e=null==o.examObj?null:o.examObj.isTakeTestOnce)&&void 0!==e?e:0)>0&&a>=0)}}function Fa(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",36)(2,"div",37),t.nrm(3,"lucide-icon",38),t.j41(4,"app-testbank-frontend-count-down-box",39),t.bIt("endCountDownEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.endCountDown(a))}),t.k0s()(),t.j41(5,"div",40)(6,"span"),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"span",41),t.EFF(10),t.nI1(11,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("ngClass",t.lJ4(9,P)),t.R7$(),t.Y8G("totalSecond",e.countDownSecond)("useCountDown",!0),t.R7$(3),t.JRh(t.bMT(8,5,"lang_core_time_smaller_than_start_time")+" "),t.R7$(3),t.JRh(t.bMT(11,7,e.examObj.startTime))}}function Ga(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_bat_dau_thi")," "))}function Da(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_start_practicing")," "))}function Ma(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",42)(1,"div",43)(2,"button",44),t.nI1(3,"isParentViewOnly"),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.redirectToTakeTest())}),t.DNE(4,Ga,3,3,"span",45)(5,Da,3,3,"span",45),t.nrm(6,"lucide-icon",46),t.k0s()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("disabled",t.bMT(3,4,"")),t.R7$(2),t.Y8G("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.R7$(),t.Y8G("ngIf",1==e.examConfigObj.allowTestingEachQuestion),t.R7$(),t.Y8G("ngClass",t.lJ4(6,Ia))}}function La(n,s){1&n&&(t.j41(0,"div",47)(1,"strong"),t.EFF(2,"(*)"),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.j41(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"b"),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,4,"lang_auto_he_thong_chi_gui_hinh_anh_va_am_thanh_den_giao_vien")," "),t.R7$(3),t.JRh(t.bMT(7,6,"lang_auto_trong_qua_trinh_lam_bai_thi")),t.R7$(2),t.SpI(" ",t.bMT(9,8,"lang_auto__ngay_sau_khi_ket_thuc_bai_lam_he_thong_ngung_gui_du_lieu_du_lieu_thu_thap_chi_su_dung_phuc_vu_cho_cong_tac")," "),t.R7$(3),t.JRh(t.bMT(12,10,"lang_auto_to_chuc_ky_thi")))}function Qa(n,s){if(1&n&&(t.j41(0,"div",7)(1,"div",8)(2,"h3",9),t.EFF(3),t.k0s(),t.j41(4,"div",10),t.EFF(5),t.nI1(6,"mytranslate"),t.nrm(7,"azt-download-qr-code",11),t.k0s(),t.DNE(8,Oa,3,4,"div",12)(9,Aa,25,25,"div",13),t.nI1(10,"isCapacityExam"),t.DNE(11,Ra,35,34,"div",13),t.nI1(12,"isCapacityExam"),t.j41(13,"div",14),t.DNE(14,Fa,12,10,"ng-container",15)(15,Ma,7,7,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(17,La,13,12,"div",16),t.k0s(),t.nrm(18,"app-exam-history",17)(19,"azt-frontend-banner-ads-box",18),t.k0s()),2&n){const e=t.sdS(16),o=t.XpG();t.R7$(3),t.SpI(" ",o.examObj.name," "),t.R7$(2),t.SpI(" ",t.bMT(6,15,"lang_auto_ma_de_thi")+": "+o.examObj.hashId," "),t.R7$(2),t.Y8G("fileName","azota_exam_qr_code_"+o.examObj.hashId)("linkUrl",o.copyLinkToClipboard()),t.R7$(),t.Y8G("ngIf",o.examObj.autoMonitor&&0!=o.examObj.autoMonitor),t.R7$(),t.Y8G("ngIf",t.bMT(10,17,o.examObj)),t.R7$(2),t.Y8G("ngIf",!t.bMT(12,19,o.examObj)),t.R7$(3),t.Y8G("ngIf",o.countDownSecond>0&&!o.statusEndCountDown)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",o.examObj.autoMonitor&&3==o.examObj.autoMonitor),t.R7$(),t.Y8G("examObj",o.examObj)("curTenantId",o.curTenantId)("curCategoryId",o.curCategoryId)("hashId",o.hashId),t.R7$(),t.Y8G("adsPosition",o.allAdsPositions.STUDENTSTARTTESTATLIST)}}let Na=(()=>{var n;class s extends S.H{copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/de-thi/${this.examObj?.hashId}`}redirectToTakeTest(){this.commonService.myNavigationWithQueryString("CAPACITY"!=this.examObj?.objectType?1!==this.examConfigObj.allowTestingEachQuestion?"/test/take-test/"+this.curTenantId+"/"+(this.curCategoryId??0)+"/"+this.hashId:"/test/take-training/"+this.curTenantId+"/"+(this.curCategoryId??0)+"/"+this.hashId:"/test/capacity-exam/"+this.curTenantId+"/"+(this.curCategoryId??0)+"/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}getExamType(o){return this.homeworkExamService.isOnlyEssay(o)?"lang_auto_tu_luan":this.homeworkExamService.isOnlyTrueFalse(o)?"lang_auto_trac_nghiem":"lang_auto_hon_hop"}dialogGiveTeacherGifts(){const o="userRole=student&productType=gift&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.sAztDialogService.open(Yn.D,{data:{examHashId:this.hashId,queryString:o},width:"600px"})}endCountDown(o){this.statusEndCountDown=o??!1}getExamCapacityComponents(){this.examObj&&(this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamListExamComponentsHashIdGet(this.examObj.hashId??"").subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message??"");this.examComponents=o.data?.objs??[],this.stopStatusObj()})))}getExamByHashId(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamGetExamObjGet(this.hashId).subscribe(o=>{if(1==o.success){if(this.hasErrorMessage=o.data?.errorMessage?o.data.errorMessage:"",this.examObj=o.data?.examObj,this.examConfigObj=o.data?.examConfigObj??{},this.countDownSecond=this.timeService.compareSecondsWithCurrentTime(this.examObj?.startTime??new Date),this.totalAttended=o.data?.totalAttended??0,this.totalTested=o.data?.totalTested??0,!this.examObj)return this.successStatusObj();if(this.curCategoryId=this.examObj.categoryId??0,this.curTenantId=this.examObj.tenantId??0,this.userInfoService.apiUserInfoSaveUserActionPost({actionType:"take-test",objectId:this.examObj.id,objectKey:this.examObj.hashId}).subscribe(a=>{}),this.commonService.translateMetaData({title:this.commonService.myTranslateInstant("lang_auto_bat_dau_thi")+": "+this.examObj.name,description:this.examObj.name}),3==this.examObj.autoMonitor&&this.openVideoMonitor(),"CAPACITY"!=this.examObj.objectType)return this.successStatusObj();this.getExamCapacityComponents()}else this.errorStatusObj(o.message??"",!0)}))}openVideoMonitor(){this.sAztShowMonitorService.monitorAtStudentDashboard(this.hashId,this.examObj)}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.waitDestroy((0,G.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.hashId=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString()??"";let o=this.commonService.getMyQueryParam("offline");if(o)return this.myNavigation(`/test/share-offline-result/${this.hashId}/${o}/-1`);this.password=this.commonService.getMyQueryParam("password")??"",this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=this.commonService.getMyQueryParam("backto")??"/student/classroom/0",this.getExamByHashId()}))}constructor(o,a,i,r,_,u,f){super(),this.userInfoService=o,this.activeRoute=a,this.homeworkExamService=i,this.frontExamService=r,this.sAztShowMonitorService=_,this.sAztDialogService=u,this.sAztGAService=f,this.backToLink="",this.curTenantId=0,this.curCategoryId=0,this.hashId="",this.totalAttended=0,this.totalTested=0,this.hasErrorMessage="",this.password="",this.examConfigObj={},this.examComponents=[],this.allAdsPositions=mt.rA,this.allAdsDisplayTypes=mt.ud,this.countDownSecond=0,this.statusEndCountDown=!1,this.timeService=(0,t.WQX)(ot.F),this.sAztGAService.sendStartTestEvent()}ngOnDestroy(){this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),super.ngOnDestroy()}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(ee.fv),t.rXU(l.nX),t.rXU(Oe.Z),t.rXU(j.iB),t.rXU(Ee.J),t.rXU(dt.i),t.rXU(va))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-student-view"]],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:4,consts:[["normalMode",""],["monitorScreen",""],[3,"headerBackToLink"],[1,"relative"],["class","alert alert-danger mt-2",4,"ngIf"],["class","intro-y mt-8",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[1,"intro-y","mt-8"],[1,"box","mx-auto","mt-5","p-5",2,"max-width","560px"],[1,"text-lg","font-medium","text-center","text-break"],[1,"text-md","justify-center","font-medium","mt-2","flex","items-center"],[1,"pl-2","ml-2",3,"fileName","linkUrl"],["class","row my-2",4,"ngIf"],["class","azt-info-exam mt-5",4,"ngIf"],[1,"mt-5","w-full","flex"],[4,"ngIf","ngIfElse"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","curTenantId","curCategoryId","hashId"],[1,"mb-3","mt-3",3,"adsPosition"],[1,"row","my-2"],["id","monitorScreen",1,"self-center","text-center",2,"margin","auto",3,"ngClass"],[1,"azt-info-exam","mt-5"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],[1,"text-md","flex","items-center"],["name","clipboard-type","size","16",3,"ngClass"],[1,"text-md","font-medium","ml-auto"],["name","users","size","16",3,"ngClass"],[1,"mt-2","mb-2","text-center"],[1,"font-bold"],[3,"isExpand","showCountInfo","isShowLabel","rawNodes"],["name","calendar-clock","size","16",3,"ngClass"],["name","file-sliders","size","16",3,"ngClass"],[1,"flex","items-center"],["name","clock-4","size","16",3,"ngClass"],["name","circle-help","size","16",3,"ngClass"],[1,"mx-auto",2,"max-width","300px"],[1,"btn","w-full","btn-pending-soft","text-lg"],["name","alarm-clock","size","24",3,"ngClass"],["type","wait",3,"endCountDownEvent","totalSecond","useCountDown"],[1,"mt-5","font-medium","text-center"],[1,"text-pending"],[1,"grid","grid-cols-12","gap-5","w-full"],[1,"col-span-12"],["azt-track-service","exam-details-OgNF7kiBSP",1,"btn","btn-pending","w-full","text-white",3,"click","disabled"],[4,"ngIf"],["name","chevron-right","size","16",3,"ngClass"],[1,"note-exam","mt-1"]],template:function(o,a){if(1&o&&(t.SS7(0),t.j41(1,"student-layout",2)(2,"div",3),t.DNE(3,ya,3,3,"div",4)(4,Qa,20,21,"div",5),t.k0s()()),2&o){let i;t.bH3((null!==(i=null==a.examObj?null:a.examObj.isTakeTestOnce)&&void 0!==i?i:0)-a.totalTested),t.R7$(),t.Y8G("headerBackToLink",a.backToLink),t.R7$(2),t.Y8G("ngIf",""!=a.hasErrorMessage),t.R7$(),t.Y8G("ngIf",""==a.hasErrorMessage&&a.examObj)}},dependencies:[Y.j,bt.d,Pn.n,W,Sa,te.K,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,g.bH,g.hx,g.Xc,T.Id,x.k],encapsulation:2}),s})();var we=m(59174);let Ba=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.activatedRoute=(0,t.WQX)(l.nX),this.hashId="",this.backToLink=""}ngOnInit(){super.ngOnInit(),this.hashId=this.getMyParam(this.activatedRoute,"hash_id")??"",this.backToLink=this.getMyQueryParam("backto")??`de-thi/${this.hashId}`}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-leaderboard-test"]],standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:3,consts:[[3,"headerBackToLink"],[1,"leaderboard-test","mt-5","mx-auto",2,"max-width","1100px"],[3,"hashId","view"]],template:function(o,a){1&o&&(t.j41(0,"student-layout",0)(1,"div",1),t.nrm(2,"azt-leaderboard",2),t.k0s()()),2&o&&(t.Y8G("headerBackToLink",a.backToLink),t.R7$(2),t.Y8G("hashId",a.hashId)("view","full"))},dependencies:[Y.j,we.g,c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})(),$a=(()=>{var n;class s extends S.H{}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-dashboard"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[c.MD,p.X1,l.iI,l.n3,p.YN,b.s,d.flO,h.L,T.Id,x.k],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),s})();var Ya=m(79767),Ae=m(25539),ze=m(74151),Rt=m(78111),Pa=m(32399);function Xa(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.JRh(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):""):t.bMT(2,1,"lang_auto_chua_co_diem"))}}function Va(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.JRh(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"/10"):t.bMT(2,1,"lang_auto_chua_co_diem"))}}function Ua(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_chua_duoc_xem")))}let qa=(()=>{var n;class s extends S.H{ngOnInit(){super.ngOnInit()}constructor(o){super(),this.commonService=o,this.viewPractice=!1}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(V.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-test-review-show-mark-info-of-student"]],inputs:{examObj:"examObj",examResultObj:"examResultObj",viewPractice:"viewPractice"},standalone:!0,features:[t.Vt3,t.aNF],decls:7,vars:6,consts:[[1,"font-medium","text-lg","flex","items-center"],[1,"mr-3"],[4,"ngIf"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"span",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Xa,3,3,"span",2)(5,Va,3,3,"span",2)(6,Ua,3,3,"span",2),t.k0s()),2&o&&(t.R7$(2),t.SpI("",t.bMT(3,4,"lang_auto_diem_cuoi"),": "),t.R7$(2),t.Y8G("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&!a.viewPractice),t.R7$(),t.Y8G("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&a.viewPractice),t.R7$(),t.Y8G("ngIf",2==(null==a.examObj?null:a.examObj.whenShowResult)))},dependencies:[c.MD,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();var z=m(89163),X=m(33887),kt=m(2915),Ha=m(30551),je=m(51113),Wa=m(32835);function Ja(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Ka(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-mat-dialog-content")(1,"div",4),t.nrm(2,"azt-test-result-tracking",5),t.k0s()(),t.j41(3,"div",6)(4,"button",7),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.dialogRef.close())}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}if(2&n){let e;const o=t.XpG();t.R7$(2),t.Y8G("questionObjs",o.data.questionObjs)("isShowOriginAnswer",o.data.isShowOriginAnswer)("startQuestionIndex",null!==(e=null==o.examObj?null:o.examObj.startQuestionIndex)&&void 0!==e?e:1)("dataResultObjs",o.dataResultObjs)("dataScrollObjs",o.dataScrollObjs)("ipTrackingDataObjs",o.ipTrackingDataObjs),t.R7$(3),t.SpI(" ",t.bMT(6,7,"lang_auto_thoat")," ")}}let Za=(()=>{var n;class s extends X._{getData(o){this.initStatusObj(),this.frontExamResultTrackService.apiFrontExamResultTrackGetObjGet(this.examHashId,o).subscribe(a=>{if(1==a.success){this.examObj=a.data?.examObj;var i=this.castJsonToObj(this.zipDataService.decodeContentGzip(a?.data?.examResultTrackObj?.trackData??""));i&&i&&([this.dataResultObjs,this.dataScrollObjs]=this.sAztTestResultTrackingService.processData(i)),this.ipTrackingDataObjs=a.data?.ipTracks??[],this.successStatusObj()}else this.errorStatusObj(a.message??"",!0);this.isLoading=!1})}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",description:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",image:"lang_cms_test_image"});let o=Number(this.data.examResultIdParam?.toString());this.examHashId=this.data.hashId??"",this.getData(o),super.ngOnInit()}constructor(o,a,i,r,_){super(_,r),this.frontExamResultTrackService=o,this.zipDataService=a,this.sAztTestResultTrackingService=i,this.dialogRef=r,this.data=_,this.dataResultObjs=[],this.dataScrollObjs=[],this.ipTrackingDataObjs=[],this.backToLink="",this.examHashId="",this.isLoading=!0}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(j.Wq),t.rXU(je.j),t.rXU(Wa.i),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-front-result-tracking"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","scroll-menu-test",2,"height","calc(100vh - 200px)","min-height","75vh"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"p-3"],[3,"questionObjs","isShowOriginAnswer","startQuestionIndex","dataResultObjs","dataScrollObjs","ipTrackingDataObjs"],[1,"mt-2","pt-2","pb-2","px-3","text-right","absolute","bottom-0","right-0"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary",3,"click"]],template:function(o,a){if(1&o&&(t.j41(0,"div",1),t.DNE(1,Ja,1,1,"azt-loading-effect",2)(2,Ka,7,9,"ng-template",null,0,t.C5r),t.k0s()),2&o){const i=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.isLoading)("ngIfElse",i)}},dependencies:[A.K,kt.U,Ha.P,c.MD,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,T.Id,x.k],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff;width:100vh;max-height:95vh;padding:.5rem 1.25rem 1.25rem;overflow-y:auto}"]}),s})();var to=m(56562),eo=m(86067),R=m(5601);const ne=(n,s)=>({"btn-primary-soft":n,"btn-secondary-soft":s}),no=n=>({"block w-28":n}),Re=n=>({"width.%":n}),Fe=(n,s)=>({"text-success":n,"text-danger":s}),Ge=()=>({"text-success":!0}),De=()=>({"text-danger":!0}),ao=()=>({"mr-2":!0});function oo(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function so(n,s){1&n&&(t.j41(0,"th",27),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_don_vi_kien_thuc")))}function io(n,s){if(1&n&&(t.j41(0,"td",28)(1,"span",29),t.EFF(2),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.JRh(e.title)}}function ro(n,s){1&n&&(t.j41(0,"th",30),t.nrm(1,"span",31),t.k0s())}function lo(n,s){1&n&&(t.j41(0,"span",34),t.nrm(1,"azt-loading-ui"),t.k0s())}function _o(n,s){if(1&n){const e=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.practiceMore(a))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("ngClass",t.eq3(4,no,!e.isMobileDevice)),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_testbank_practice")," ")}}function co(n,s){if(1&n&&(t.j41(0,"td",28),t.DNE(1,lo,2,0,"span",32)(2,_o,3,6,"span",33),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("ngIf",e.loadingPracticeMore),t.R7$(),t.Y8G("ngIf",!e.loadingPracticeMore)}}function uo(n,s){1&n&&(t.j41(0,"th",36)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_skill_statistical_total_question_completed")))}function po(n,s){if(1&n&&(t.j41(0,"td",28)(1,"span",31),t.EFF(2),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.JRh(e.numberOfQuestion)}}function mo(n,s){1&n&&(t.j41(0,"th",36)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_skill_statistical_total_question_true")))}function go(n,s){if(1&n&&(t.j41(0,"td",28)(1,"span",31),t.EFF(2),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.JRh(e.numberOfCorrectQuestion)}}function fo(n,s){1&n&&(t.j41(0,"th",36)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_ty_le")))}function To(n,s){if(1&n&&(t.j41(0,"td",28)(1,"div",37)(2,"div",38)(3,"span",39),t.EFF(4),t.nI1(5,"number"),t.nI1(6,"replace"),t.k0s()()()()),2&n){const e=s.$implicit;t.R7$(2),t.Y8G("ngStyle",t.eq3(9,Re,e.currentPercent)),t.R7$(2),t.JRh(e.numberOfQuestion&&e.numberOfCorrectQuestion?t.brH(6,5,t.i5U(5,2,e.currentPercent,"1.0-1"),",",".")+"%":"")}}function ho(n,s){1&n&&(t.j41(0,"th",36),t.nrm(1,"span",31),t.k0s())}function bo(n,s){1&n&&t.nrm(0,"lucide-icon",44),2&n&&t.Y8G("ngClass",t.lJ4(1,Ge))}function xo(n,s){1&n&&t.nrm(0,"lucide-icon",45),2&n&&t.Y8G("ngClass",t.lJ4(1,De))}function So(n,s){if(1&n&&(t.j41(0,"td",28)(1,"div",40),t.DNE(2,bo,1,2,"lucide-icon",41)(3,xo,1,2,"lucide-icon",42),t.j41(4,"span",43),t.EFF(5),t.nI1(6,"number"),t.nI1(7,"replace"),t.k0s()()()),2&n){const e=s.$implicit;t.R7$(2),t.Y8G("ngIf",e.adjustment>0),t.R7$(),t.Y8G("ngIf",e.adjustment<0),t.R7$(),t.Y8G("ngClass",t.l_i(11,Fe,e.adjustment>0,e.adjustment<0)),t.R7$(),t.SpI(" ",e.adjustment?t.brH(7,7,t.i5U(6,4,100*e.adjustment,"1.0-1"),",",".")+"%":""," ")}}function ko(n,s){1&n&&t.nrm(0,"tr",46)}function vo(n,s){1&n&&t.nrm(0,"tr",47)}function Co(n,s){1&n&&t.nrm(0,"lucide-icon",44),2&n&&t.Y8G("ngClass",t.lJ4(1,Ge))}function Io(n,s){1&n&&t.nrm(0,"lucide-icon",45),2&n&&t.Y8G("ngClass",t.lJ4(1,De))}function yo(n,s){if(1&n&&(t.j41(0,"div",51)(1,"div",54),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",40),t.DNE(5,Co,1,2,"lucide-icon",41)(6,Io,1,2,"lucide-icon",42),t.j41(7,"span",43),t.EFF(8),t.nI1(9,"number"),t.nI1(10,"replace"),t.k0s()()()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_ty_le_truoc_do")+":"," "),t.R7$(3),t.Y8G("ngIf",e.adjustment>0),t.R7$(),t.Y8G("ngIf",e.adjustment<0),t.R7$(),t.Y8G("ngClass",t.l_i(14,Fe,e.adjustment>0,e.adjustment<0)),t.R7$(),t.SpI(" ",e.adjustment?t.brH(10,10,t.i5U(9,7,100*e.adjustment,"1.0-1"),",",".")+"%":""," ")}}function Oo(n,s){1&n&&(t.j41(0,"span",34),t.nrm(1,"azt-loading-ui"),t.k0s())}function Eo(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.practiceMore(a))}),t.nrm(1,"lucide-icon",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,ao)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_testbank_practice")," "))}function wo(n,s){if(1&n&&(t.j41(0,"div",48)(1,"div",49)(2,"div",50),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",51)(6,"div",52),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",53),t.EFF(10),t.k0s()(),t.j41(11,"div",51)(12,"div",52),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"div",53),t.EFF(16),t.k0s()(),t.j41(17,"div",51)(18,"div",54),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",37)(22,"div",38)(23,"span",39),t.EFF(24),t.nI1(25,"number"),t.nI1(26,"replace"),t.k0s()()()(),t.DNE(27,yo,11,17,"div",55),t.j41(28,"div",56),t.DNE(29,Oo,2,0,"span",32)(30,Eo,4,5,"button",57),t.k0s()()),2&n){const e=s.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,11,e.title)," "),t.R7$(4),t.SpI(" ",t.bMT(8,13,"lang_skill_statistical_total_question_completed")+":"," "),t.R7$(3),t.SpI(" ",e.numberOfQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(14,15,"lang_skill_statistical_total_question_true")+":"," "),t.R7$(3),t.SpI(" ",e.numberOfCorrectQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(20,17,"lang_auto_ty_le")+":"," "),t.R7$(3),t.Y8G("ngStyle",t.eq3(26,Re,e.currentPercent)),t.R7$(2),t.JRh(e.numberOfQuestion&&e.numberOfCorrectQuestion?t.brH(26,22,t.i5U(25,19,e.currentPercent,"1.0-1"),",",".")+"%":""),t.R7$(3),t.Y8G("ngIf",e.adjustment),t.R7$(2),t.Y8G("ngIf",e.loadingPracticeMore),t.R7$(),t.Y8G("ngIf",!e.loadingPracticeMore)}}function Ao(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-mat-dialog-content",4)(1,"div",5)(2,"b",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.selectPreviousDay(1))}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"button",9),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.selectPreviousDay(3))}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.selectPreviousDay(7))}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"table",11),t.qex(16,12),t.DNE(17,so,3,3,"th",13)(18,io,3,1,"td",14),t.bVm(),t.qex(19,15),t.DNE(20,ro,2,0,"th",16)(21,co,3,2,"td",14),t.bVm(),t.qex(22,17),t.DNE(23,uo,4,3,"th",18)(24,po,3,1,"td",14),t.bVm(),t.qex(25,19),t.DNE(26,mo,4,3,"th",18)(27,go,3,1,"td",14),t.bVm(),t.qex(28,20),t.DNE(29,fo,4,3,"th",18)(30,To,7,11,"td",14),t.bVm(),t.qex(31,21),t.DNE(32,ho,2,0,"th",18)(33,So,8,14,"td",14),t.bVm(),t.DNE(34,ko,1,0,"tr",22)(35,vo,1,0,"tr",23),t.k0s(),t.DNE(36,wo,31,28,"div",24),t.k0s(),t.j41(37,"div",25)(38,"button",26),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.btnCloseDialog())}),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("minHeight","200px"),t.R7$(3),t.JRh(t.bMT(4,14,"lang_testbank_frontend_student_skill_statistic_title")),t.R7$(3),t.Y8G("ngClass",t.l_i(24,ne,1==e.currentPreviousDay,1!=e.currentPreviousDay)),t.R7$(),t.SpI(" 1 ",t.bMT(8,16,"lang_auto_ngay")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(27,ne,3==e.currentPreviousDay,3!=e.currentPreviousDay)),t.R7$(),t.SpI(" 3 ",t.bMT(11,18,"lang_auto_ngay")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(30,ne,7==e.currentPreviousDay,7!=e.currentPreviousDay)),t.R7$(),t.SpI(" 7 ",t.bMT(14,20,"lang_auto_ngay")," "),t.R7$(2),t.Y8G("dataSource",e.objs),t.R7$(19),t.Y8G("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns),t.R7$(),t.Y8G("ngForOf",e.objs),t.R7$(3),t.SpI(" ",t.bMT(40,22,"lang_auto_dong")," ")}}let Me=(()=>{var n;class s extends X._{btnCloseDialog(){this.dialogRef.close()}selectPreviousDay(o){this.currentPreviousDay=o,this.initData(this.currentPreviousDay)}practiceMore(o){null==this.objs.find(a=>a.loadingPracticeMore)&&(o.loadingPracticeMore=!0,this.waitDestroy(this.sLearningService.apiLearningAiKnowledgeIdGet(o.id??0).subscribe(a=>{if(a.success){let i=this.commonService.getMyQueryParam("backto")??"/student/classroom/0";this.commonService.myNavigationWithQueryString("/test/take-test/"+a.data?.tenantId+"/"+a.data?.categoryId+"/"+a.data?.hashId,"?backto="+encodeURIComponent(i)),this.btnCloseDialog()}else this.showErrorSnack(a.message);o.loadingPracticeMore=!1})))}initData(o){o||this.sAztAzotaTrackingService.sendCustomEvent("CLICK_STUDENT_SKILL_STATISTIC",[]);let a=this.sAztUserService.getUserObj();o||this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentPracticeService.aiApiV1StudentPracticeTnthptProfileGet(a.id,this.data.examSchoolSubjectId,o??7)).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.objs=(i.data?.knowledgeItems??[]).map(r=>({...r,loadingPracticeMore:!1,currentPercent:r.numberOfQuestion?r.numberOfCorrectQuestion/r.numberOfQuestion*100:0})),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(o,a,i,r,_,u){super(u,_),this.sAztAzotaTrackingService=o,this.sAztUserService=a,this.sLearningService=i,this.studentPracticeService=r,this.dialogRef=_,this.objs=[],this.displayedColumns=["name","actionCol","questionTotal","questionTrue","percent","oldPercent"],this.previousDayControl=new p.MJ(7,{nonNullable:!0}),this.currentPreviousDay=7}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(to.M),t.rXU(st.R),t.rXU(j.MU),t.rXU(eo.K),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["coazt-student-skill-statistic-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3","skill-statistical"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"minHeight"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],[2,"align-content","center"],[1,"flex","items-center","mt-3","sm:mt-0","sm:ml-2"],["azt-track-service","student-skill-statistic-zSJvSbnQR",1,"btn",3,"click","ngClass"],["azt-track-service","student-skill-statistic-UttohfO5q_",1,"btn","ml-2",3,"click","ngClass"],["azt-track-service","student-skill-statistic-tuRhGryjOa",1,"btn","ml-2",3,"click","ngClass"],["mat-table","",1,"mat-elevation-z8","mt-2","azt-hidden","md:block",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","whitespace-nowrap",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actionCol"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","questionTotal"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","questionTrue"],["matColumnDef","percent"],["matColumnDef","oldPercent"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","box p-3 md:hidden mt-4 border border-slate-200 dark:border-darkmode-400",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],["azt-track-service","student-skill-statistic-6PnY6_T3S2",1,"btn","btn-secondary","w-32",3,"click"],["mat-header-cell","",1,"whitespace-nowrap"],["mat-cell",""],[1,"whitespace-nowrap"],["mat-header-cell",""],[1,"center-span"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["azt-track-service","student-skill-statistic-cK-mF-GKd","class","text-white btn btn-pending","style","font-weight: 430",3,"ngClass","click",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","student-skill-statistic-cK-mF-GKd",1,"text-white","btn","btn-pending",2,"font-weight","430",3,"click","ngClass"],["mat-header-cell","",1,"text-center"],[1,"progress"],[1,"progress-done",3,"ngStyle"],[1,"text-md","font-medium","span-baseline-middle"],[1,"flex"],["name","arrow-big-up-dash","size","24","style","z-index: 99; align-self: center",3,"ngClass",4,"ngIf"],["name","arrow-big-down-dash","size","24","style","z-index: 99; align-self: center",3,"ngClass",4,"ngIf"],[1,"text-md","font-medium","ml-1",2,"align-content","center",3,"ngClass"],["name","arrow-big-up-dash","size","24",2,"z-index","99","align-self","center",3,"ngClass"],["name","arrow-big-down-dash","size","24",2,"z-index","99","align-self","center",3,"ngClass"],["mat-header-row",""],["mat-row",""],[1,"box","p-3","md:hidden","mt-4","border","border-slate-200","dark:border-darkmode-400"],[1,"mt-0"],[1,"text-base","font-medium"],[1,"mt-3","flex","items-center"],[1,"mr-2"],[1,"font-medium"],[1,"whitespace-nowrap","mr-2"],["class","mt-3 flex items-center",4,"ngIf"],[1,"mt-3"],["azt-track-service","student-skill-statistic-cK-mF-GKd","class","text-white btn btn-gradient-primary","style","font-weight: 430",3,"click",4,"ngIf"],["azt-track-service","student-skill-statistic-cK-mF-GKd",1,"text-white","btn","btn-gradient-primary",2,"font-weight","430",3,"click"],["name","notebook-pen","size","16",3,"ngClass"]],template:function(o,a){if(1&o&&(t.j41(0,"div",1),t.DNE(1,oo,1,1,"azt-loading-effect",2)(2,Ao,41,33,"ng-template",null,0,t.C5r),t.k0s()),2&o){const i=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,kt.U,tt.R,c.MD,c.YU,c.Sq,c.bT,c.B3,c.QX,p.X1,l.iI,p.YN,g.wp,b.s,R.Zl,R.tL,R.ji,R.cC,R.YV,R.iL,R.KS,R.$R,R.YZ,R.NB,d.flO,d.WGl,h.L,g.Ss,T.Id,x.k],encapsulation:2}),s})();var ae=m(23047),Le=m(40679);const zo=n=>({"block w-28":n}),jo=n=>({"width.%":n});function Ro(n,s){1&n&&(t.j41(0,"div",9)(1,"b"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_muc_do_thuon_thuc_ky_nang")))}function Fo(n,s){1&n&&(t.j41(0,"div",10)(1,"h4",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_azt_muc_do_thuon_thuc_ky_nang")," "))}function Go(n,s){1&n&&(t.j41(0,"div",12)(1,"span",13),t.nrm(2,"azt-loading-ui"),t.k0s()())}function Do(n,s){if(1&n&&(t.j41(0,"div",16)(1,"div",17)(2,"div",18),t.nrm(3,"div",19),t.k0s()()()),2&n){const e=t.XpG(4);t.R7$(3),t.Y8G("chart",e.chartSkill)}}function Mo(n,s){1&n&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"long_core_khong_tim_thay_Muc_do_thuan_thuc_ky_nang")," "))}function Lo(n,s){if(1&n&&t.DNE(0,Do,4,1,"div",14)(1,Mo,3,3,"div",15),2&n){const e=t.XpG(3);t.Y8G("ngIf",e.chartSkill),t.R7$(),t.Y8G("ngIf",!e.chartSkill)}}function Qo(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",21)(1,"button",22),t.bIt("click",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.dialogRef.close())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dong")," "))}function No(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,Ro,4,3,"div",5)(2,Fo,4,3,"div",6)(3,Go,3,0,"div",7),t.j41(4,"azt-mat-dialog-content"),t.DNE(5,Lo,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(7,Qo,4,3,"div",8),t.k0s()),2&n){const e=t.sdS(6),o=t.XpG(2);t.R7$(),t.Y8G("ngIf",1==o.type),t.R7$(),t.Y8G("ngIf",!o.type),t.R7$(),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",e),t.R7$(4),t.Y8G("ngIf",1==o.type)}}function Bo(n,s){1&n&&(t.j41(0,"th",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_don_vi_kien_thuc")))}function $o(n,s){if(1&n&&(t.j41(0,"td",34)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.JRh(e.title)}}function Yo(n,s){1&n&&(t.j41(0,"th",33),t.nrm(1,"span",35),t.k0s())}function Po(n,s){if(1&n){const e=t.RV6();t.j41(0,"span",37),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,i=t.XpG(3);return t.Njj(i.goToPractice(a.examHashId))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG(4);t.Y8G("ngClass",t.eq3(4,zo,!e.isMobileDevice)),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_testbank_practice")," ")}}function Xo(n,s){if(1&n&&(t.j41(0,"td",34),t.DNE(1,Po,3,6,"span",36),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("ngIf",e.examHashId)}}function Vo(n,s){1&n&&(t.j41(0,"th",38)(1,"span",35),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_ty_le")))}function Uo(n,s){if(1&n&&(t.j41(0,"td",34)(1,"div",39)(2,"div",40),t.nI1(3,"number"),t.j41(4,"span",41),t.EFF(5),t.nI1(6,"number"),t.k0s()()()()),2&n){const e=s.$implicit;t.R7$(2),t.Y8G("ngStyle",t.eq3(8,jo,t.i5U(3,2,100*e.point,"1.0-1"))),t.R7$(3),t.JRh(e.point?t.i5U(6,5,100*e.point,"1.0-1")+"%":"")}}function qo(n,s){1&n&&t.nrm(0,"tr",42)}function Ho(n,s){1&n&&t.nrm(0,"tr",43)}function Wo(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",23)(1,"div",9)(2,"b"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"azt-mat-dialog-content")(6,"table",24),t.qex(7,25),t.DNE(8,Bo,3,3,"th",26)(9,$o,3,1,"td",27),t.bVm(),t.qex(10,28),t.DNE(11,Yo,2,0,"th",26)(12,Xo,2,1,"td",27),t.bVm(),t.qex(13,29),t.DNE(14,Vo,4,3,"th",30)(15,Uo,7,10,"td",27),t.bVm(),t.DNE(16,qo,1,0,"tr",31)(17,Ho,1,0,"tr",32),t.k0s()(),t.j41(18,"div",21)(19,"button",22),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.closeDetailSkill())}),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,6,"lang_testbank_frontend_student_skill_statistic_title")),t.R7$(3),t.Y8G("dataSource",e.skillItem),t.R7$(10),t.Y8G("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns),t.R7$(3),t.SpI(" ",t.bMT(21,8,"lang_auto_dong")," ")}}function Jo(n,s){if(1&n&&(t.j41(0,"div",2),t.DNE(1,No,8,5,"div",3)(2,Wo,22,10,"div",4),t.k0s()),2&n){const e=t.XpG();t.Y8G("ngClass",1==e.type?"box p-3":""),t.R7$(),t.Y8G("ngIf",!e.skillItem.length),t.R7$(),t.Y8G("ngIf",e.skillItem.length)}}let Qe=(()=>{var n;class s extends X._{getSkillProfile(){this.createChartSkill([])}convertTitle(o,a){return this.commonService.myTranslateInstant(o)+" ("+(a.reduce((r,_)=>(r??0)+(_??0),0)?.toString()??"")+")"}createChartSkill(o){if(!o||!o.length)return;let a=o.map(I=>I.title??""),i=o.map(I=>0==I.countExcellent?null:I.countExcellent),r=o.map(I=>0==I.countGood?null:I.countGood),_=o.map(I=>0==I.countNotGood?null:I.countNotGood),u=o.map(I=>0==I.countTerrible?null:I.countTerrible),f=o.map(I=>0==I.countNonePractice?null:I.countNonePractice),v=this.convertTitle("lang_azt_xuat_sac",i),E=this.convertTitle("lang_azt_kha",r),et=this.convertTitle("lang_azt_trung_binh",_),q=this.convertTitle("lang_azt_yeu",u),J=this.convertTitle("lang_auto_chua_thi",f),K=new ae.t1({chart:{type:"column",style:{fontFamily:"Arial"}},title:{text:"",align:"center"},xAxis:{categories:a},yAxis:{min:0,title:{text:this.commonService.myTranslateInstant("lang_azt_so_kien_thuc")},stackLabels:{enabled:!0}},credits:{enabled:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[{name:v,type:"column",data:i,color:"green",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return o[this.index].excellentSkills.map((M,B)=>B+1+": "+M.title).join("<br/>")}},events:{click:I=>{this.openDetailSkill(o[I.point.index].excellentSkills)}}},{name:E,type:"column",data:r,color:"yellow",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return o[this.index].goodSkills.map((M,B)=>B+1+": "+M.title).join("<br/>")}},events:{click:I=>{this.openDetailSkill(o[I.point.index].goodSkills)}}},{name:et,type:"column",data:_,color:"orange",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return o[this.index].notGoodSkills.map((M,B)=>B+1+": "+M.title).join("<br/>")}},events:{click:I=>{this.openDetailSkill(o[I.point.index].notGoodSkills)}}},{name:q,type:"column",data:u,color:"red",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return o[this.index].terribleSkills.map((M,B)=>B+1+": "+M.title).join("<br/>")}},events:{click:I=>{this.openDetailSkill(o[I.point.index].terribleSkills)}}},{name:J,type:"column",data:f,color:"grey",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return o[this.index].nonePracticeSkills.map((M,B)=>B+1+": "+M.title).join("<br/>")}},events:{click:I=>{this.openDetailSkill(o[I.point.index].nonePracticeSkills)}}}]});this.chartSkill=K,this.stopStatusObj()}goToPractice(o){if(!o)return;let a=this.commonService.getMyQueryParam("backto"),i=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/de-thi/"+o,"?backto="+encodeURIComponent(i+"?backto="+a)),this.dialogRef.close()}openDetailSkill(o){1==this.type&&(this.skillItem=o)}closeDetailSkill(){this.skillItem=[]}ngOnInit(){super.ngOnInit(),this.validLevelAndSubject=10==this.levelId||11==this.levelId||32==this.subjectId&&12==this.levelId,this.validLevelAndSubject&&(this.initStatusObj(),this.getSkillProfile())}constructor(o,a,i){super(i,a),this.studentPracticeService=o,this.dialogRef=a,this.validLevelAndSubject=!1,this.skillItem=[],this.displayedColumns=["name","actionCol","percent"],i&&(this.subjectId=i.subjectId,this.levelId=i.levelId,this.userId=i.userId,this.type=1)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(Le.Kw),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["coazt-student-skill-chapter"]],inputs:{type:"type",userId:"userId",levelId:"levelId",subjectId:"subjectId"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["doneLoading",""],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],["class","skill-statistical",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","w-auto text-left bg-gray-200","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px",4,"ngIf"],["class","flex justify-center items-center m-5",4,"ngIf","ngIfElse"],["class","flex items-center justify-end pt-2 w-full bg-white",4,"ngIf"],[1,"mb-3"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"flex","justify-center","items-center","m-5"],[1,"w-6","h-6","m-5"],["class","report-box intro-x mt-3",4,"ngIf"],["class","flex p-4 justify-center items-center",4,"ngIf"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[1,"flex","p-4","justify-center","items-center"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],[1,"btn","btn-secondary","w-32",3,"click"],[1,"skill-statistical"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actionCol"],["matColumnDef","percent"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"center-span"],["class","text-white btn btn-pending","style","font-weight: 430",3,"ngClass","click",4,"ngIf"],[1,"text-white","btn","btn-pending",2,"font-weight","430",3,"click","ngClass"],["mat-header-cell","",1,"text-center"],[1,"progress"],[1,"progress-done",3,"ngStyle"],[1,"text-md","font-medium","span-baseline-middle"],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&t.DNE(0,Jo,3,3,"div",1),2&o&&t.Y8G("ngIf",a.validLevelAndSubject)},dependencies:[ae.Fr,ae.S6,tt.R,kt.U,c.MD,c.YU,c.bT,c.B3,c.QX,p.X1,l.iI,p.YN,g.wp,b.s,R.Zl,R.tL,R.ji,R.cC,R.YV,R.iL,R.KS,R.$R,R.YZ,R.NB,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();var Ko=m(92801),Ne=m(64160);let Zo=(()=>{var n;class s extends S.H{copyLinkToClipboard(){return`${this.commonService.getCurrentDomainWithLanguage()}/admin/testbank/test-review/${this.examIdParam}/${this.userIdParam}/${this.studentIdParam}/${this.examResultIdParam??0}`+(this.isCapacity?"?isCapacity=1":"")}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngOnInit(){super.ngOnInit()}constructor(o){super(),this.commonService=o}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(V.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-test-review-show-copy-link-button"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam",isCapacity:"isCapacity"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:4,consts:[[1,"flex","items-center","mt-2"],["azt-track-service","show-copy-link-button-DYZc-0oRwh",1,"btn-text-primary","font-medium",3,"click","cdkCopyToClipboard"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return a.showCopySuccess()}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&o&&(t.R7$(),t.Y8G("cdkCopyToClipboard",a.copyLinkToClipboard()),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_copy_link_gui_giao_vien")," "))},dependencies:[c.MD,p.X1,l.iI,p.YN,g.wp,b.s,Ne.dF,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();var Ft=m(99927);function ts(n,s){if(1&n&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"b"),t.EFF(4),t.nI1(5,"number"),t.k0s()()),2&n){const e=s.$implicit,o=s.index,a=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_combine_exam_component")+(o+1),":\xa0 "),t.R7$(3),t.JRh(e+(a.totalMarkSubject?"/"+t.i5U(5,4,a.totalMarkSubject/a.totalSubject,"1.0-2"):""))}}function es(n,s){if(1&n&&(t.qex(0),t.DNE(1,ts,6,7,"div",12),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",null==e.examResultObj?null:e.examResultObj.subjectMarkValues)}}function ns(n,s){if(1&n&&(t.j41(0,"span",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.E5c("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.bMT(2,3,"lang_auto_cau_brackets"),"")}}function as(n,s){if(1&n&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.DNE(4,ns,3,5,"span",13),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Lme(" ",t.bMT(2,3,"lang_auto_trac_nghiem"),": ",null!=e.examResultObj.trueFalseMark?e.examResultObj.trueFalseMark:t.bMT(3,5,"lang_auto_chua_co_diem")," "),t.R7$(3),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function os(n,s){if(1&n&&(t.j41(0,"span",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.E5c("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.bMT(2,3,"lang_auto_cau_brackets"),"")}}function ss(n,s){if(1&n&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.DNE(3,os,3,5,"span",13),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Lme(" ",t.bMT(2,3,"lang_auto_trac_nghiem"),": ",e.examResultObj.mark," "),t.R7$(2),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function is(n,s){if(1&n&&t.DNE(0,as,5,7,"div",10)(1,ss,4,5,"div",10),2&n){const e=t.XpG();t.Y8G("ngIf",2!=(null==e.examObj?null:e.examObj.whenShowResult)&&e.trueFalseChoiceQuestionObjs.length>0&&e.examResultObj&&e.examResultObj.totalQuestion&&!e.viewPractice),t.R7$(),t.Y8G("ngIf",e.examResultObj&&e.examResultObj.totalQuestion&&e.viewPractice)}}function rs(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.LHq("",t.bMT(2,4,"lang_auto_tu_luan"),": ",null==e.examResultObj?null:e.examResultObj.essayMark," (",e.essayQuestionObjs.length," ",t.bMT(3,6,"lang_auto_cau_brackets"),"")}}function ls(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",16),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,4,"lang_auto_tu_luan"),": "),t.R7$(3),t.JRh(t.bMT(5,6,"lang_auto_chua_cham")),t.R7$(2),t.Lme(" (",e.essayQuestionObjs.length," ",t.bMT(7,8,"lang_auto_cau_brackets")," ")}}function _s(n,s){if(1&n&&(t.j41(0,"div",8),t.DNE(1,rs,4,8,"span",15)(2,ls,8,10,"span",15),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",null==e.examResultObj?null:e.examResultObj.confirmedAt),t.R7$(),t.Y8G("ngIf",!(null!=e.examResultObj&&e.examResultObj.confirmedAt))}}function cs(n,s){if(1&n&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_so_file_da_nop"),": ",e.files.length,"")}}function us(n,s){if(1&n&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_so_lan_thoat_man_hinh"),": ",e.examTracks.exitFullScreen,"")}}function ps(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"button",17),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.clickResultTrack())}),t.nrm(4,"lucide-icon",18),t.k0s()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_xem_chi_tiet_qua_trinh_lam_bai"),": "))}function ms(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",8),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"button",19),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showResultInfors())}),t.nrm(4,"lucide-icon",20),t.k0s()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_show_infos_test_submit"),": "))}function ds(n,s){if(1&n&&(t.nrm(0,"app-testbank-test-review-show-copy-link-button",21),t.nI1(1,"isCapacityExam")),2&n){const e=t.XpG();t.Y8G("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("isCapacity",t.bMT(1,5,e.examObj))}}let gs=(()=>{var n;class s extends S.H{get checkHasType1Question(){let o=!1;for(let a=0;a<(this.questionObjs?.length??0);a++)if(this.answerTypeService.isOneChoiceAnswer(this.questionObjs?.[a])){o=!0;break}return o}calculateTime(o,a){return o?this.timeService.calculationTimeExamTested(o,a):""}showResultInfors(){this.sAztDialogService.open(Ko.$,{width:"500px",data:this.resultInfos,restoreFocus:!1})}clickResultTrack(){this.sAztDialogService.open(Za,{width:"750px",data:{questionObjs:this.questionObjs??[],isShowOriginAnswer:this.isShowOriginAnswer,examResultIdParam:this.examResultIdParam,hashId:this.examObj?.hashId},restoreFocus:!1})}showStudentSkillStatisticDialog(){if(this.examObj?.schoolSubjectId&&(10==this.examObj?.schoolLevelId||11==this.examObj?.schoolLevelId||32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId)){let o={subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:Number(this.userIdParam??"0")};this.sAztDialogService.open(Qe,{width:"100vw",data:o,restoreFocus:!1})}else this.sAztDialogService.open(Me,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.totalSubject=this.examResultObj?.subjectMarkValues?.length??3,this.totalMarkSubject=this.examResultObj?.examResultStatisticObj?.examQuestionStatisticObj?.totalMark??0}constructor(o,a,i){super(),this.answerTypeService=o,this.sAztDialogService=a,this.timeService=i,this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.files=[],this.isShowOriginAnswer=!0,this.historyExamResultObjs=[],this.resultInfos=[],this.viewPractice=!1,this.totalSubject=3,this.totalMarkSubject=30}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(Ft._),t.rXU(dt.i),t.rXU(ot.F))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-test-review-show-detail-info-for-student"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam",offlineHashIdParam:"offlineHashIdParam",studentObj:"studentObj",examObj:"examObj",examResultObj:"examResultObj",markedByObj:"markedByObj",questionObjs:"questionObjs",essayQuestionObjs:"essayQuestionObjs",trueFalseChoiceQuestionObjs:"trueFalseChoiceQuestionObjs",files:"files",isShowOriginAnswer:"isShowOriginAnswer",historyExamResultObjs:"historyExamResultObjs",examTracks:"examTracks",resultInfos:"resultInfos",viewPractice:"viewPractice"},standalone:!0,features:[t.Vt3,t.aNF],decls:30,vars:21,consts:[["showNormalMark",""],[1,"info-exam-online"],[1,"rounded-md","bg-slate-200","dark:bg-darkmode-400","p-3",2,"border-bottom-left-radius","0","border-bottom-right-radius","0"],[1,"flex","items-center"],[1,"text-md"],[1,"info-exam-body","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2",2,"border-top-left-radius","0","border-top-right-radius","0"],[1,"text-md","flex","items-center"],[1,"text-md","font-medium","ml-auto"],[1,"flex","items-center","mt-2"],[4,"ngIf","ngIfElse"],["class","flex items-center mt-2",4,"ngIf"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam","isCapacity",4,"ngIf"],["class","flex items-center mt-2",4,"ngFor","ngForOf"],["class","ml-2",4,"ngIf"],[1,"ml-2"],[4,"ngIf"],[1,"text-pending"],["azt-track-service","show-detail-info-box-for-student-yw3gtIAU5N",1,"btn-text-primary","ml-2",3,"click"],["name","file-clock","size","20"],["azt-track-service","show-detail-info-box-for-student-d5Ae8h9_DU",1,"btn-text-primary","ml-2",3,"click"],["name","circle-ellipsis","size","20"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam","isCapacity"]],template:function(o,a){if(1&o&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4)(4,"span"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()(),t.j41(7,"div",5)(8,"div",3)(9,"p",6),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"p",7),t.EFF(13),t.k0s()(),t.j41(14,"div",8)(15,"p",6),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"p",7),t.EFF(19),t.nI1(20,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()(),t.DNE(21,es,2,1,"ng-container",9)(22,is,2,2,"ng-template",null,0,t.C5r)(24,_s,3,2,"div",10)(25,cs,3,4,"div",10)(26,us,3,4,"div",10)(27,ps,5,3,"div",10)(28,ms,5,3,"div",10)(29,ds,2,7,"app-testbank-test-review-show-copy-link-button",11),t.k0s()()),2&o){const i=t.sdS(23);t.R7$(5),t.JRh(t.bMT(6,13,"lang_auto_thong_tin_chi_tiet")),t.R7$(5),t.SpI("",t.bMT(11,15,"lang_auto_thoi_gian_lam_bai"),":\xa0"),t.R7$(3),t.SpI(" ",a.calculateTime(null==a.examResultObj?null:a.examResultObj.startedTest,null==a.examResultObj?null:a.examResultObj.createdAt)," "),t.R7$(3),t.SpI("",t.bMT(17,17,"lang_auto_thoi_gian_nop_bai"),":\xa0"),t.R7$(3),t.SpI(" ",t.bMT(20,19,null==a.examResultObj?null:a.examResultObj.createdAt)," "),t.R7$(2),t.Y8G("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&(null==a.examObj?null:a.examObj.subjectMarks)&&(null==a.examResultObj||null==a.examResultObj.subjectMarkValues?null:a.examResultObj.subjectMarkValues.length))("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&a.essayQuestionObjs.length),t.R7$(),t.Y8G("ngIf",a.essayQuestionObjs.length),t.R7$(),t.Y8G("ngIf",a.examTracks&&0!=(null==a.examObj?null:a.examObj.autoMonitor)),t.R7$(),t.Y8G("ngIf",2!=(null==a.examObj?null:a.examObj.whenShowResult)&&a.checkHasType1Question&&!a.offlineHashIdParam&&a.trueFalseChoiceQuestionObjs.length>0&&(null==a.examResultObj?null:a.examResultObj.totalQuestion)&&!a.viewPractice),t.R7$(),t.Y8G("ngIf",a.resultInfos.length&&!a.viewPractice),t.R7$(),t.Y8G("ngIf",!a.viewPractice)}},dependencies:[Zo,c.MD,c.Sq,c.bT,c.QX,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,g.bH,g.Xc,T.Id,x.k],encapsulation:2}),s})();var fs=m(74104),Be=m(42244),$e=m(63958),Ts=m(84278),hs=m(54479),bs=m(72802),xs=m(1382),Ss=m(55465),oe=m(50589),ks=m(72267),vs=m(9797),Cs=m(51935),Ye=m(74978),U=m(17818),se=m(45785),Gt=m(60303);const Is=["drawer"],ys=(n,s)=>({"w-85":n,"w-25":s}),Os=n=>({"azt-mobile-draw-left":n}),Es=()=>[],ws=n=>({"ml-5":n}),As=(n,s)=>({correct:n,incorrect:s}),zs=()=>({"mr-2":!0});function js(n,s){1&n&&(t.j41(0,"div",7),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_du_lieu_nop_bai")," "))}function Rs(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-select-capacity-exam-result",36),t.bIt("selectedExamEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectCapacityExamEmitter(a))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("examObj",e.examObj)("examComponentObj",e.examComponentObj)("capacityComponents",e.capacityComponents)("currentResultObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.examResultObj)}}function Fs(n,s){if(1&n&&(t.j41(0,"div",34),t.DNE(1,Rs,1,4,"app-select-capacity-exam-result",35),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.examObj&&e.capacityComponents)}}function Gs(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",37),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.sAztMatDrawerService.openDrawer())}),t.nrm(2,"lucide-icon",38),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_mo_menu"))}function Ds(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",39),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.sAztMatDrawerService.closeDrawer())}),t.nrm(2,"lucide-icon",40),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_dong_menu"))}function Ms(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",41)(2,"span",42),t.nrm(3,"lucide-icon",43),t.k0s(),t.j41(4,"span",44),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.bVm()),2&n){const e=t.XpG(2);t.R7$(5),t.SpI(" ",t.bMT(6,1,"lang_answer_test_must_reach_mark_to_show_answer_1")+(null==e.examConfigObj?null:e.examConfigObj.viewAnswerResultMinMark)+t.bMT(7,3,"lang_answer_test_must_reach_mark_to_show_answer_2")," ")}}function Ls(n,s){1&n&&(t.j41(0,"div",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_note_xem_noi_dung_con_thieu")," "))}function Qs(n,s){if(1&n&&t.nrm(0,"azt-loaded-img",52),2&n){const e=t.XpG(3);t.Y8G("imgSrc",null==e.examObj?null:e.examObj.examHeader)}}function Ns(n,s){if(1&n&&(t.j41(0,"div",53),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_tong_so_cau_dung")," ",null==e.examResultObj?null:e.examResultObj.rightAnswer,".")}}function Bs(n,s){if(1&n&&(t.j41(0,"div",53),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){let e;const o=t.XpG(3);t.R7$(),t.Lme(" ",t.bMT(2,2,"lang_auto_tong_so_cau_sai")," ",(null!==(e=null==o.examResultObj?null:o.examResultObj.totalQuestion)&&void 0!==e?e:0)-o.essayQuestionObjs.length-(null!==(e=null==o.examResultObj?null:o.examResultObj.rightAnswer)&&void 0!==e?e:0),". ")}}function $s(n,s){if(1&n&&t.nrm(0,"azt-question-standalone-for-student-at-review-page",55),2&n){const e=t.XpG(),o=e.$implicit,a=e.index,i=t.XpG(3);t.Y8G("examObj",i.examObj)("examConfig",i.examConfigObj)("isShowOriginAnswer",!i.isMixQuestionExam||i.showOriginAnswerControl.value)("questionObj",o)("curQuestionIndex",a)("follower",i.followerRenderQuest)("isOfflineMark",!(null==i.initDataResult||null==i.initDataResult.data||!i.initDataResult.data.offlineMarkObj))("userAnswersObj",i.userAnswersObj)("curExamResultId",i.examResultIdParam)("currentTab","multiple_choice_tab")("ngClass",t.l_i(11,As,null==o?null:o.correctAnswer,!o.correctAnswer))}}function Ys(n,s){if(1&n&&t.DNE(0,$s,1,14,"azt-question-standalone-for-student-at-review-page",54),2&n){const e=t.XpG(3);t.Y8G("ngIf",e.examObj)}}function Ps(n,s){if(1&n&&(t.j41(0,"mat-tab",46),t.nI1(1,"mytranslate"),t.j41(2,"div")(3,"div",47)(4,"div",48),t.DNE(5,Qs,1,1,"azt-loaded-img",49)(6,Ns,3,4,"div",50)(7,Bs,3,4,"div",50)(8,Ys,1,1,"ng-template",51),t.k0s()()()()),2&n){const e=t.XpG(2);t.FS9("label",t.bMT(1,8,"lang_auto_trac_nghiem")),t.R7$(2),t.HbH(e.viewOption),t.R7$(3),t.Y8G("ngIf",null==e.examObj?null:e.examObj.examHeader),t.R7$(),t.Y8G("ngIf","viewRight"==e.viewOption),t.R7$(),t.Y8G("ngIf","viewWrong"==e.viewOption),t.R7$(),t.Y8G("ngForOf",e.questionObjs)}}function Xs(n,s){if(1&n&&t.nrm(0,"azt-mark-essay-new",61),2&n){let e;const o=t.XpG(4);t.Y8G("examObj",o.examObj)("examConfig",o.examConfigObj)("showForTeacher",!1)("curSelectedTab",o.curSelectedTab)("questions",o.essayQuestionObjs)("userAnswersObj",o.userAnswersObj)("examResultObj",o.examResultObj)("files",o.files)("resultID",null!==(e=o.examResultIdParam)&&void 0!==e?e:0)}}function Vs(n,s){if(1&n&&(t.qex(0),t.DNE(1,Xs,1,9,"azt-mark-essay-new",60),t.bVm()),2&n){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf",1==e.curSelectedTab)}}function Us(n,s){if(1&n&&t.nrm(0,"azt-mark-essay",62),2&n){let e;const o=t.XpG(3);t.Y8G("examObj",o.examObj)("examConfig",o.examConfigObj)("showForTeacher",!1)("questions",o.essayQuestionObjs)("userAnswersObj",o.userAnswersObj)("examResultObj",o.examResultObj)("resultID",null!==(e=o.examResultIdParam)&&void 0!==e?e:0)("files",o.files)("iframeViewMode","view")("hasLoadedData",o.hasLoadedData)}}function qs(n,s){if(1&n&&(t.j41(0,"mat-tab",56),t.nI1(1,"mytranslate"),t.j41(2,"div",57)(3,"div",58),t.DNE(4,Vs,2,1,"ng-container",59)(5,Us,1,10,"ng-template",null,3,t.C5r),t.k0s()()()),2&n){const e=t.sdS(6),o=t.XpG(2);t.FS9("label",t.bMT(1,3,"lang_auto_tu_luan")),t.R7$(4),t.Y8G("ngIf",o.checkMarkNote)("ngIfElse",e)}}function Hs(n,s){if(1&n){const e=t.RV6();t.j41(0,"mat-drawer-container",8)(1,"mat-drawer",9,2),t.bIt("closedStart",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.changeStatusNav())}),t.j41(3,"div",10)(4,"div",11),t.DNE(5,Fs,2,1,"div",12),t.j41(6,"div",13),t.nrm(7,"app-testbank-test-review-show-mark-info-of-student",14),t.k0s(),t.j41(8,"div",15),t.nrm(9,"app-testbank-test-review-show-detail-info-for-student",16)(10,"app-testbank-show-offline-result",17),t.nI1(11,"mytranslate"),t.k0s()(),t.nrm(12,"azt-practice-box",18)(13,"azt-frontend-banner-ads-box",19),t.k0s()(),t.j41(14,"mat-drawer-content")(15,"div",20)(16,"div",21)(17,"div",22),t.DNE(18,Gs,3,3,"button",23)(19,Ds,3,3,"button",24),t.j41(20,"div",25),t.EFF(21),t.k0s(),t.j41(22,"div",26),t.eu8(23,27),t.k0s()(),t.DNE(24,Ms,8,5,"ng-container",28),t.j41(25,"div",29),t.DNE(26,Ls,3,3,"div",30),t.j41(27,"mat-tab-group",31),t.bIt("selectedTabChange",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.onTabChanged(a))}),t.mxI("selectedIndexChange",function(a){t.eBV(e);const i=t.XpG();return t.DH7(i.curSelectedTab,a)||(i.curSelectedTab=a),t.Njj(a)}),t.DNE(28,Ps,9,10,"mat-tab",32)(29,qs,7,5,"mat-tab",33),t.k0s()()()()()()}if(2&n){let e,o;const a=t.XpG(),i=t.sdS(5);t.Y8G("hasBackdrop",a.sAztMatDrawerService.hasBackdrop),t.R7$(),t.FS9("opened",a.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Y8G("ngClass",t.l_i(59,ys,a.isMobileDevice,!a.isMobileDevice))("mode",a.sAztMatDrawerService.mode),t.R7$(2),t.Y8G("ngClass",t.eq3(62,Os,a.isMobileDevice)),t.R7$(2),t.Y8G("ngIf",null==a.capacityComponents?null:a.capacityComponents.length),t.R7$(2),t.Y8G("examObj",a.examObj)("examResultObj",a.examResultObj)("viewPractice",a.viewPractice),t.R7$(2),t.Y8G("examResultIdParam",a.examResultIdParam)("userIdParam",a.userIdParam)("studentIdParam",a.studentIdParam)("examIdParam",a.examIdParam)("offlineHashIdParam",a.offlineHashIdParam)("viewPractice",a.viewPractice)("studentObj",a.studentObj)("examObj",a.examObj)("examResultObj",a.examResultObj)("markedByObj",null==a.initDataResult||null==a.initDataResult.data?null:a.initDataResult.data.markedByObj)("questionObjs",a.questionObjs)("essayQuestionObjs",a.essayQuestionObjs)("trueFalseChoiceQuestionObjs",a.trueFalseChoiceQuestionObjs)("isShowOriginAnswer",!a.isMixQuestionExam||a.showOriginAnswerControl.value)("files",a.files)("historyExamResultObjs",null!==(e=null==a.initDataResult||null==a.initDataResult.data?null:a.initDataResult.data.historyExamResultObjs)&&void 0!==e?e:t.lJ4(64,Es))("examTracks",null==a.initDataResult||null==a.initDataResult.data?null:a.initDataResult.data.examTracks)("resultInfos",a.resultInfos),t.R7$(),t.Y8G("backToLink",a.backToLink)("examResultIdParam",a.examResultIdParam)("userIdParam",a.userIdParam)("studentIdParam",a.studentIdParam)("examIdParam",a.examIdParam)("examObj",a.examObj)("essayExam",!!a.essayQuestionObjs.length)("essayMark",null!=a.examResultObj&&a.examResultObj.confirmedAt?(null!==(o=null==a.examResultObj?null:a.examResultObj.essayMark)&&void 0!==o?o:0).toString():t.bMT(11,57,"lang_auto_chua_cham"))("questionObjs",null==a.initDataResult||null==a.initDataResult.data?null:a.initDataResult.data.questionObjs)("offlineMarkObj",null==a.initDataResult||null==a.initDataResult.data?null:a.initDataResult.data.offlineMarkObj)("offlineMixQuestionObj",null==a.initDataResult||null==a.initDataResult.data?null:a.initDataResult.data.offlineMixQuestionObj)("isDeletableExamResultObj",!1)("currentScreen","student"),t.R7$(2),t.Y8G("cssClass","mt-3 block")("showLikeMobile",!0)("resultId",a.examResultIdParam)("webPage","STUDENT_VIEW_RESULT"),t.R7$(),t.Y8G("classStyle","mt-3 block")("adsPosition",a.allAdsPositions.STUDENTANSWERTESTATLEFT),t.R7$(2),t.Y8G("ngClass",t.eq3(65,ws,!a.isMobileDevice&&a.sAztMatDrawerService.isOpenSideNav)),t.R7$(3),t.Y8G("ngIf",!a.sAztMatDrawerService.isOpenSideNav||a.isMobileDevice),t.R7$(),t.Y8G("ngIf",a.sAztMatDrawerService.isOpenSideNav&&!a.isMobileDevice),t.R7$(),t.FS9("matTooltip",a.examComponentObj?a.examComponentObj.name:null==a.examObj?null:a.examObj.name),t.R7$(),t.SpI(" ",a.examComponentObj?a.examComponentObj.name:null==a.examObj?null:a.examObj.name," "),t.R7$(2),t.Y8G("ngTemplateOutlet",i),t.R7$(),t.Y8G("ngIf","lang_core_dont_allow_show_answer_by_min_mark"==a.errorMessage),t.R7$(2),t.Y8G("ngIf",a.isMobileWebView),t.R7$(),t.R50("selectedIndex",a.curSelectedTab),t.R7$(),t.Y8G("ngIf",a.trueFalseChoiceQuestionObjs.length>0),t.R7$(),t.Y8G("ngIf",a.essayQuestionObjs.length>0&&a.examObj&&a.examResultObj)}}function Ws(n,s){1&n&&(t.j41(0,"button",79)(1,"span",80),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_sai")," "))}function Js(n,s){1&n&&(t.j41(0,"button",81)(1,"span",80),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dung")," "))}function Ks(n,s){1&n&&(t.j41(0,"button",82)(1,"span",80),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_question_origin")," "))}function Zs(n,s){1&n&&(t.j41(0,"button",83)(1,"span",84),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_question_mix")," "))}function ti(n,s){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"label",85),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"div",75)(5,"input",86),t.bIt("change",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeViewOriginAnswer(a))})("click",function(a){return t.eBV(e),t.Njj(a.stopPropagation())}),t.k0s()()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_test_review_show_origin_answer")," "),t.R7$(3),t.Y8G("formControl",e.showOriginAnswerControl)}}function ei(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",63),t.DNE(1,Ws,4,3,"button",64)(2,Js,4,3,"button",65)(3,Ks,4,3,"button",66)(4,Zs,4,3,"button",67),t.j41(5,"button",68),t.nrm(6,"lucide-icon",69),t.j41(7,"span",70),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"mat-menu",71,4)(12,"div",72)(13,"ul",73)(14,"li")(15,"label",74),t.EFF(16),t.nI1(17,"mytranslate"),t.j41(18,"div",75)(19,"input",76),t.bIt("change",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.onChangeViewOption("viewRight"))})("click",function(a){return t.eBV(e),t.Njj(a.stopPropagation())}),t.k0s()()()(),t.j41(20,"li")(21,"label",77),t.EFF(22),t.nI1(23,"mytranslate"),t.j41(24,"div",75)(25,"input",78),t.bIt("change",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.onChangeViewOption("viewWrong"))})("click",function(a){return t.eBV(e),t.Njj(a.stopPropagation())}),t.k0s()()()(),t.DNE(26,ti,6,4,"li",28),t.k0s()()()}if(2&n){const e=t.sdS(11),o=t.XpG();t.R7$(),t.Y8G("ngIf","viewWrong"===o.viewOption),t.R7$(),t.Y8G("ngIf","viewRight"===o.viewOption),t.R7$(),t.Y8G("ngIf",o.isMixQuestionExam&&o.showOriginAnswerControl.value),t.R7$(),t.Y8G("ngIf",o.isMixQuestionExam&&!o.showOriginAnswerControl.value),t.R7$(),t.Y8G("matMenuTriggerFor",e),t.R7$(),t.Y8G("ngClass",t.lJ4(18,zs)),t.R7$(2),t.SpI(" ",t.bMT(9,12,"lang_testbank_tested_list_sort")," "),t.R7$(8),t.SpI(" ",t.bMT(17,14,"lang_auto_cau_dung")," "),t.R7$(3),t.Y8G("checked","viewRight"==o.viewOption),t.R7$(3),t.SpI(" ",t.bMT(23,16,"lang_auto_cau_sai")," "),t.R7$(3),t.Y8G("checked","viewWrong"==o.viewOption),t.R7$(),t.Y8G("ngIf",o.isMixQuestionExam)}}let ni=(()=>{var n;class s extends S.H{set drawer(o){this.sAztMatDrawerService.resizeDrawerHeight(!0,o)}onResize(o){this.isMobileDevice=o.target.innerWidth<980,this.sAztMatDrawerService.changeToMobileMode(this.isMobileDevice)}changeStatusNav(){this.isMobileDevice&&(document.body.style.overflow="auto")}onChangeViewOption(o){this.viewOption=this.viewOption==o?"viewAll":o}onTabChanged(o){this.matTabGroupIndex=o.index}changeViewOriginAnswer(o){this.sAztBrowserStorageService.saveSimpleSessionStorage("test-review-showing-answer-view",this.showOriginAnswerControl.value?"1":"0")}checkingShowAnswerConfig(){return!(!this.examConfigObj||!this.examResultObj||3!=this.examObj?.whenShowAnswer||!(this.examResultObj.mark&&this.examConfigObj.viewAnswerResultMinMark&&this.examResultObj.mark<this.examConfigObj.viewAnswerResultMinMark))}getQuestionCanFeedback(){if(Array.isArray(this.questionObjs)){let o=[];this.questionObjs.forEach(i=>{i.id&&!this.commonService.isExistInArray(o,i.id)&&o.push(i.id)});const a={examId:Number(this.examIdParam??0),questionIds:o};this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsListPost(a).subscribe(i=>{if(1==i.success){let r=i.data?.objs??[];if(Array.isArray(this.questionObjs))for(let _=0;_<this.questionObjs.length;_++)r.forEach(u=>{this.questionObjs&&this.questionObjs[_].id==u.questionId&&(this.questionObjs[_].enableFeedback=u.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}else this.stopStatusObj()}selectCapacityExamEmitter(o){this.selectedExamEmitter.emit(o)}processConvertData(o){if(o.data){this.studentObj=this.testReviewService.mapStudentObjWithTestedObjForFrontendStudent(o.data,this.testedUserObjs,this.studentObj),this.examObj=o?.data?.examObj,this.examComponentObj=o?.data?.examComponentObj,this.examResultObj=o?.data?.examResultObj,this.examConfigObj=o?.data?.examConfigObj,this.files=this.commonService.myParseJson(this.examResultObj?.files??"")??[],this.resultInfos=this.commonService.willDeleteParseJson(this.examResultObj?.infors??"")??[],this.errorMessage=o?.data?.errorMessage??"";const a=this.commonService.castJsonToClassObjs(Ae.I,JSON.stringify(o.data.questionObjs??[]));this.followerRenderQuest.setNumQuest(a?.length||0),this.questionObjs=a,this.questionObjs?.forEach(f=>{f.correctAnswer=this.commonService.isExistInArray(o?.data?.correctQuestionIds,f.id),f.isRoleTeacher=!1}),this.docxService.replaceCanvasBackgroundTS(this.questionObjs??[]),this.questionObjs=this.testReviewService.addIndexLabelToQuestionObjs(this.questionObjs),this.essayQuestionObjs=this.testReviewService.getEssayQuestionObjs(this.questionObjs),this.trueFalseChoiceQuestionObjs=this.testReviewService.getTrueFalseQuestionObjs(this.questionObjs),0==this.trueFalseChoiceQuestionObjs.length&&(this.curSelectedTab=1),this.userAnswersObj=this.testReviewService.convertAnswersArr(this.castJsonToObj(o.data.examResultObj?.answers??"")??[]);let i=0,r=0;this.questionObjs?.forEach((f,v)=>{f.labelIndex=v,this.examConfigObj?.resetQuestionIndex&&f.groupInfo&&f.groupInfo.groupId&&(i!=f.groupInfo.groupId&&(i=f.groupInfo.groupId,r=0),f.labelIndex=r,r++)}),this.isMixQuestionExam=!!this.questionObjs?.find(f=>f.answers.find(v=>v.alpha&&v.alpha!=v.key)),this.examResultIdParam=this.examResultObj?.id??0,this.examIdParam=this.examObj?.id?.toString()??"0",this.userIdParam=this.examResultObj?.userId?.toString()??"0",this.studentIdParam=this.examResultObj?.studentId?.toString()??this.studentObj?.id.toString()??"0",this.getQuestionCanFeedback(),this.hasLoadedData=!0;const _=this.envService.getVersionMarkNote(this.envService.getEnvValue("classliveUrl")??""),u=1e6;if(this.examResultObj?.result){const f=this.castJsonToObj(this.examResultObj?.result??"");this.checkMarkNote=!(!f||!f.urlDataMark)}else this.checkMarkNote=_>u}}ngOnInit(){this.waitDestroy((0,G.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.offlineHashIdParam=this.commonService.getMyQueryParam("offline"),this.examResultIdParam=Number(this.activeRoute.snapshot.paramMap.get("result_id")),this.userIdParam=this.activeRoute.snapshot.paramMap.get("user_id")??void 0,this.studentIdParam=this.activeRoute.snapshot.paramMap.get("student_id")??void 0,this.examIdParam=this.activeRoute.snapshot.paramMap.get("exam_id")??void 0,this.initDataResult&&(this.userAnswersObj={},this.processConvertData(this.initDataResult)),this.showOriginAnswerControl.setValue("1"==this.sAztBrowserStorageService.getSimpleSessionStorage("test-review-showing-answer-view"))})),this.answerBoxService.switchEssayTabMessage.subscribe(o=>{this.curSelectedTab=1,setTimeout(()=>Ya.A.scroll(0,0),0)}),super.ngOnInit()}constructor(o,a,i,r,_,u,f,v,E){super(),this.activeRoute=o,this.docxService=a,this.envService=i,this.sAztBrowserStorageService=r,this.testReviewService=_,this.answerBoxService=u,this.exportResultService=f,this.testMarketFeedbackService=v,this.sAztMatDrawerService=E,this.capacityComponents=[],this.selectedExamEmitter=new t.bkB,this.viewPractice=!1,this.allAdsPositions=mt.rA,this.allAdsDisplayTypes=mt.ud,this.curSelectedTab=0,this.backToLink="",this.examResultIdParam=0,this.viewOption="viewAll",this.matTabGroupIndex=0,this.userAnswersObj={},this.files=[],this.resultInfos=[],this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.showOriginAnswerControl=new p.MJ(!1,{nonNullable:!0}),this.followerRenderQuest=new Rt.e,this.isMixQuestionExam=!1,this.hasLoadedData=!1,this.checkMarkNote=!1,this.errorMessage=""}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(l.nX),t.rXU(xs.I),t.rXU(Ss.t),t.rXU(oe.z),t.rXU(ks.E),t.rXU(vs.C),t.rXU(Cs.h),t.rXU(Ye.l_),t.rXU(ze.n))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-test-review-for-student"]],viewQuery:function(o,a){if(1&o&&t.GBs(Is,5),2&o){let i;t.mGM(i=t.lsd())&&(a.drawer=i.first)}},inputs:{initDataResult:"initDataResult",testedUserObjs:"testedUserObjs",capacityComponents:"capacityComponents",viewPractice:"viewPractice"},outputs:{selectedExamEmitter:"selectedExamEmitter"},standalone:!0,features:[t.Jv_([ze.n]),t.Vt3,t.aNF],decls:6,vars:2,consts:[["hasResult",""],["ShowCorrectIncorrectFilterTpl",""],["drawer",""],["isFrameMark",""],["filterMenu","matMenu"],["id","test-review-for-student",1,"azt-result-list",3,"resize"],["class","p-3 m-3 text-center alert text-slate-500 font-medium",4,"ngIf","ngIfElse"],[1,"p-3","m-3","text-center","alert","text-slate-500","font-medium"],[1,"azt-drawer-container","mt-5",2,"height","auto",3,"hasBackdrop"],[3,"closedStart","ngClass","mode","opened"],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],["class","mb-2 box p-3",4,"ngIf"],[1,"info-user","border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[3,"examObj","examResultObj","viewPractice"],[1,"p-3"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam","offlineHashIdParam","viewPractice","studentObj","examObj","examResultObj","markedByObj","questionObjs","essayQuestionObjs","trueFalseChoiceQuestionObjs","isShowOriginAnswer","files","historyExamResultObjs","examTracks","resultInfos"],[3,"backToLink","examResultIdParam","userIdParam","studentIdParam","examIdParam","examObj","essayExam","essayMark","questionObjs","offlineMarkObj","offlineMixQuestionObj","isDeletableExamResultObj","currentScreen"],[3,"cssClass","showLikeMobile","resultId","webPage"],[3,"classStyle","adsPosition"],[1,"azt-drawer-content","azt-test-review-for-teacher-new","relative",3,"ngClass"],[1,"p-0","slide-main"],[1,"flex","box","sm:h-auto","items-center","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-5"],["azt-track-service","test-review-for-student-ZI4M15FHLQ","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","test-review-for-student-lnUiT-MGaoA","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"truncate","font-medium","mx-auto","text-slate-600","dark:text-slate-300",2,"max-width","50%",3,"matTooltip"],[1,"relative","flex"],[3,"ngTemplateOutlet"],[4,"ngIf"],[1,"box","flex-1"],["class","p-3 text-danger",4,"ngIf"],[3,"selectedTabChange","selectedIndexChange","selectedIndex"],[3,"label",4,"ngIf"],["id","tabEssay",3,"label",4,"ngIf"],[1,"mb-2","box","p-3"],[3,"examObj","examComponentObj","capacityComponents","currentResultObj","selectedExamEmitter",4,"ngIf"],[3,"selectedExamEmitter","examObj","examComponentObj","capacityComponents","currentResultObj"],["azt-track-service","test-review-for-student-ZI4M15FHLQ",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-open","size","16"],["azt-track-service","test-review-for-student-lnUiT-MGaoA",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-close","size","16"],[1,"alert","alert-danger","mb-5",2,"align-items","center"],[1,"w-6","h-6","mr-1"],["name","octagon-alert","size","20"],[2,"vertical-align","midle"],[1,"p-3","text-danger"],[3,"label"],[1,"azt-student-list"],[1,"p-3",2,"padding-bottom","80px"],["style","display: block","class","mb-1",3,"imgSrc",4,"ngIf"],["class","p-2 font-bold",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-1",2,"display","block",3,"imgSrc"],[1,"p-2","font-bold"],["class","relative",3,"examObj","examConfig","isShowOriginAnswer","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass",4,"ngIf"],[1,"relative",3,"examObj","examConfig","isShowOriginAnswer","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass"],["id","tabEssay",3,"label"],["id","markEssay"],[1,"p-3",2,"padding-bottom","20px"],[4,"ngIf","ngIfElse"],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID",4,"ngIf"],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID"],[3,"examObj","examConfig","showForTeacher","questions","userAnswersObj","examResultObj","resultID","files","iframeViewMode","hasLoadedData"],[1,"filter","flex"],["class","btn btn-sm btn-danger ml-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-success ml-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-pending mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-secondary mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"azt-hidden","md:block"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["for","viewRight",1,"dropdown-item","cursor-pointer"],[1,"form-check","form-switch","ml-auto"],["azt-track-service","test-review-for-student-AzpxXYDv2dW","id","viewRight","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","click","checked"],["for","viewWrong",1,"dropdown-item","cursor-pointer"],["azt-track-service","test-review-for-student-FiRglRqPWZP","id","viewWrong","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","click","checked"],[1,"btn","btn-sm","btn-danger","ml-2",2,"cursor","default","padding","6px 4px"],[1,"text-white","block"],[1,"btn","btn-sm","btn-success","ml-2",2,"cursor","default","padding","6px 4px"],[1,"btn","btn-sm","btn-pending","mx-2",2,"cursor","default","padding","6px 4px"],[1,"btn","btn-sm","btn-secondary","mx-2",2,"cursor","default","padding","6px 4px"],[1,"block"],["for","show-origin-answer",1,"dropdown-item","cursor-pointer"],["azt-track-service","test-review-for-student-FiRglRqPWZP","id","show-origin-answer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","click","formControl"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",5),t.bIt("resize",function(_){return t.eBV(i),t.Njj(a.onResize(_))},!1,t.tSv),t.DNE(1,js,3,3,"div",6)(2,Hs,30,67,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(4,ei,27,19,"ng-template",null,1,t.C5r)}if(2&o){const i=t.sdS(3);t.R7$(),t.Y8G("ngIf",!(null!=a.initDataResult&&null!=a.initDataResult.data&&a.initDataResult.data.examResultObj||null!=a.initDataResult&&null!=a.initDataResult.data&&a.initDataResult.data.historyExamResultObjs))("ngIfElse",i)}},dependencies:[Pa.B,qa,gs,fs.U,Be.X,te.K,$e.H,Ts.x,hs.t,bs.f,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,p.Zm,p.BC,p.l_,l.iI,p.YN,g.wp,b.s,U.kk,U.Cp,se.qe,se.$C,se.$l,Gt.mq,Gt.T8,H.oV,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();function ai(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function oi(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-test-review-for-student",4),t.bIt("selectedExamEmitter",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.selectedExamCapacity(a))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("initDataResult",e.initDataAnswerTest)("capacityComponents",e.combineExamCapacity)}}let si=(()=>{var n;class s extends S.H{redirectToBackLink(){let o=this.commonService.getMyQueryParam("backto")??"/student/classroom/0";this.backToLink=this.commonService.getMyQueryParam("offline")?o||"/student/classroom/0":o}translateMetaTitle(o){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(a=>{this.commonService.translateMetaData({title:a+": "+o,description:a+": "+o,image:"lang_cms_test_image"})})}selectedExamCapacity(o){let a=this.commonService.getMyParam(this.activeRoute,"tenant_id")?.toString(),i=this.commonService.getMyParam(this.activeRoute,"cate_id"),r=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString(),_=Number(this.commonService.getMyQueryParam("capacity")??"");this.initStatusObj(),this.frontExamResultService.apiFrontExamResultGetExamCapacityAnswerGet(r,o.examHashId,o.examCapacityTestId).subscribe(u=>{if(!u.success)return this.errorStatusObj(u.message,!0);this.initDataAnswerTest=u,this.commonService.myNavigationWithQueryString(`/test/answer-test/${a}/${i}/${r}/${this.initDataAnswerTest?.data?.examResultObj?.id??0}`,`?backto=${this.backToLink}${_?"&capacity=1":""}`),this.headerTitle=u?.data?.examObj?.name??"",this.translateMetaTitle(u.data?.examObj?.name),this.successStatusObj()})}getCapacityExamObjs(){var o=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();if(!o)return this.successStatusObj();this.waitDestroy(this.frontExamService.apiFrontExamGetTestCapacityExamHashIdGet(o,this.initDataAnswerTest?.data?.examResultObj?.examCapacityTestId).subscribe(a=>{if(!a.success)return this.forceShowErrorBox(a.message,!0);this.combineExamCapacity=a.data?.testingComponents??[],this.successStatusObj()}))}getAndProcessDataForStudent(){this.initStatusObj();var o=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();let a=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),i=this.commonService.getMyQueryParam("offline")??"",r=this.commonService.myTranslateInstant("lang_auto_ket_qua"),_=Number(this.commonService.getMyQueryParam("capacity"));this.frontExamResultService.apiFrontExamResultGetExamAnswerGet(o,a,i).subscribe(u=>{if(1==u.success){if(this.initDataAnswerTest=u,this.headerTitle=`${r}: ${u?.data?.examObj?.name}`,this.translateMetaTitle(u.data?.examObj?.name),!_)return this.successStatusObj();this.getCapacityExamObjs()}else{if(!_)return this.errorStatusObj(u.message??"",!0);this.getCapacityExamObjs()}})}ngOnInit(){super.ngOnInit(),this.getAndProcessDataForStudent(),this.redirectToBackLink()}constructor(o,a){super(),this.activeRoute=o,this.frontExamResultService=a,this.frontExamService=(0,t.WQX)(j.iB),this.combineExamCapacity=[],this.headerTitle="",this.backToLink=""}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(l.nX),t.rXU(j.Ry))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-answer-test"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"selectedExamEmitter","initDataResult","capacityComponents"]],template:function(o,a){if(1&o&&(t.j41(0,"student-layout",1),t.DNE(1,ai,1,1,"azt-loading-effect",2)(2,oi,1,2,"ng-template",null,0,t.C5r),t.k0s()),2&o){const i=t.sdS(3);t.Y8G("headerBackToLink",a.backToLink),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[Y.j,A.K,ni,c.MD,c.bT,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();var Q=m(43234);function ii(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",1),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showGame())}),t.j41(1,"div",2),t.nrm(2,"img",3),t.k0s(),t.j41(3,"div",4),t.EFF(4," Ch\u01a1i game tr\xean Azota "),t.nrm(5,"br"),t.EFF(6," c\xf9ng v\u1edbi b\u1ea1n b\xe8 !!! "),t.k0s()()}}let ri=(()=>{var n;class s extends S.H{ngOnInit(){if(super.ngOnInit(),!Q.c.gameEnable||!this.userService.isLogin())return;const o=this.userService.getUserObj();fetch(`${Q.c.gameServiceApiUrl}/api/reference/player`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referenceId:o.id,referenceName:o.fullName,referenceAvatar:o.avatar,consumerKey:Q.c.gameGlobalConsumerKey,sharedSecret:Q.c.gameGlobalSharedSecret})}).then(i=>{if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}).then(i=>{this.rememberToken=i.data.rememberToken,this.referenceEnabled=i.data.referenceEnabled}).catch(i=>{console.error("Error fetching user data:",i)})}showGame(){this.opening||window.open(`${Q.c.gameServiceMainUrl}/game/1?rememberToken=${this.rememberToken}`,"_blank")}constructor(o){super(),this.sAztDialogService=o,this.opening=!1,this.userService=(0,t.WQX)(st.R),this.rememberToken=void 0,this.referenceEnabled=!1}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(dt.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-game-show-button"]],standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","game-show-button btn btn-primary shadown-lg",3,"click",4,"ngIf"],[1,"game-show-button","btn","btn-primary","shadown-lg",3,"click"],[1,"btn-game","border","dark:border-darkmode-400","border-slate-200","box"],["src","https://game.textandtool.com/caro/logo.png","alt","Caro",2,"width","40px","height","40px"],[1,"ml-4","font-medium","text-base"]],template:function(o,a){1&o&&t.DNE(0,ii,7,0,"div",0),2&o&&t.Y8G("ngIf",a.rememberToken&&a.referenceEnabled)},dependencies:[c.MD,c.bT,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],styles:['@charset "UTF-8";.game-show-button[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:50px;padding:10px;justify-content:flex-start;text-align:left}.btn-game[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:hidden;outline:none;animation:_ngcontent-%COMP%_shake 1.5s infinite ease-in-out;border-radius:50%;width:60px;height:60px;display:flex;justify-content:center;align-items:center}.btn-game[_ngcontent-%COMP%]:before, .btn-game[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:10px;height:10px;background:#fff6;border-radius:50%;transform:translate(-50%,-50%) scale(0);animation:_ngcontent-%COMP%_ripple 2s infinite ease-out}.btn-game[_ngcontent-%COMP%]:after{animation-delay:1s}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-1px) rotate(-20deg)}50%{transform:translate(1px) rotate(-20deg)}75%{transform:translate(-.5px) rotate(-.5deg)}}@keyframes _ngcontent-%COMP%_ripple{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-50%,-50%) scale(10);opacity:0}}']}),s})();var Pe=m(50334);function li(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function _i(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit,o=t.XpG().$implicit;t.R7$(),t.JRh(e.mark+"/"+o.examMark)}}function ci(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_chua_duoc_xem_diem")))}function ui(n,s){if(1&n&&(t.j41(0,"tr")(1,"td")(2,"span"),t.EFF(3),t.k0s()(),t.j41(4,"td",17)(5,"span"),t.EFF(6),t.k0s()(),t.j41(7,"td",17),t.DNE(8,_i,2,1,"span",18)(9,ci,3,3,"span",18),t.k0s()()),2&n){const e=s.$implicit,o=t.XpG().$implicit,a=t.XpG(3);t.R7$(3),t.JRh(o.folderName),t.R7$(3),t.JRh(e.totalQuestion),t.R7$(2),t.Y8G("ngIf",2!=a.capacityExam.whenShowResult),t.R7$(),t.Y8G("ngIf",2==a.capacityExam.whenShowResult)}}function pi(n,s){if(1&n&&(t.qex(0),t.DNE(1,ui,10,4,"tr",13),t.bVm()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("ngForOf",e.examResults)}}function mi(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"span",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",7)(6,"span",8),t.EFF(7),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11)(15,"span",6),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"th",12)(19,"span",6),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()(),t.j41(22,"th",12)(23,"span",6),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()(),t.j41(26,"tbody"),t.DNE(27,pi,2,1,"ng-container",13),t.k0s()()(),t.j41(28,"div",9)(29,"button",14),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.redirectToAnswerTest())}),t.j41(30,"span",15),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.nrm(33,"lucide-icon",16),t.k0s()()()}if(2&n){const e=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,7,"lang_azt_exam_results")+" "+e.capacityExam.name),t.R7$(4),t.SpI(" ",t.bMT(8,9,"lang_auto_tong_diem")+": "+(2!=e.capacityExam.whenShowResult?e.totalMark+"/"+e.totalExamMark:t.bMT(9,11,"lang_auto_chua_duoc_xem_diem"))," "),t.R7$(9),t.JRh(t.bMT(17,13,"lang_azt_exam_part")),t.R7$(4),t.JRh(t.bMT(21,15,"lang_azt_question_number")),t.R7$(4),t.JRh(t.bMT(25,17,"lang_azt_points_reach_the_total_score")),t.R7$(3),t.Y8G("ngForOf",e.examFolders),t.R7$(4),t.JRh(t.bMT(32,19,"lang_auto_xem_dap_an_chi_tiet"))}}function di(n,s){if(1&n&&t.DNE(0,mi,34,21,"div",3),2&n){const e=t.XpG();t.Y8G("ngIf",e.capacityExam)}}let gi=(()=>{var n;class s extends Pe.C{redirectToAnswerTest(){this.capacityExam&&this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.capacityExam.tenantId+"/"+(this.capacityExam.categoryId??0)+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(`/test/submit-test/${this.capacityExam.tenantId}/${this.capacityExam.categoryId??0}/${this.hashId}/${this.resultId}?capacity=1`)+"&capacity=1")}timeTested(o){return this.timeService.calculationTimeExamTested(o.startedTest,o.createdAt)}getCapacityExamObjs(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamGetTestCapacityExamHashIdGet(this.hashId).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.examFolders=this.handleData(o.data?.testingComponents??[]),this.userObj=o.data?.student,this.capacityExam=o.data?.capacityExam,this.totalMark=o.data?.mark??0,this.totalExamMark=o.data?.examMark??0,this.successStatusObj()}))}handleData(o,a,i){const r=[...o.filter(u=>"EXAM"===u.objectType),...o.filter(u=>"EXAM"!==u.objectType)];let _=[];return r.forEach(u=>{if("FOLDER"==u.objectType){const E=this.handleData(u.children,(a?a+" > ":"")+u.objectName,u.mark);return void _.push(...E)}if(!u.examResult)return;const f={name:u.objectName,...u.examResult},v=_.find(E=>E.folderName==a);v?v.examResults.push(f):_.push({id:u.id,folderName:a,mark:i,totalQuestion:f.totalQuestion,rightAnswer:f.rightAnswer,examResults:[f],examMark:u?.examMark})}),_}ngOnInit(){this.getCapacityExamObjs()}constructor(o,a){super(),this.timeService=o,this.frontExamService=a,this.hashId="",this.resultId=0,this.examFolders=[],this.totalMark=0,this.totalExamMark=0}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(ot.F),t.rXU(j.iB))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-capacity-exam-tree-in-mar-result-mode-component"]],inputs:{hashId:"hashId",resultId:"resultId"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","box mx-auto p-3",4,"ngIf"],[1,"box","mx-auto","p-3"],[1,"text-lg","text-center","uppercase"],[1,"font-medium"],[1,"flex","items-center","uppercase","justify-center","mt-2","text-danger"],[1,"text-md","font-bold"],[1,"mt-3"],[1,"table","table-bordered","border"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[4,"ngFor","ngForOf"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-primary","w-full",3,"click"],[1,"mr-1"],["name","chevron-right","size","16"],[1,"text-center"],[4,"ngIf"]],template:function(o,a){if(1&o&&t.DNE(0,li,1,1,"azt-loading-effect",1)(1,di,1,1,"ng-template",null,0,t.C5r),2&o){const i=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,c.MD,c.Sq,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const Xe=()=>({"max-width":"100%"}),ie=()=>({"mr-2":!0}),Ve=(n,s)=>({"md:col-span-4":n,"md:col-span-6":s}),re=()=>({"ml-1 flex":!0});function fi(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",7),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Ti(n,s){if(1&n&&(t.qex(0),t.nrm(1,"div",16),t.j41(2,"div",17),t.eu8(3,18),t.k0s(),t.nrm(4,"div",16),t.bVm()),2&n){t.XpG(2);const e=t.sdS(5);t.R7$(3),t.Y8G("ngTemplateOutlet",e)}}function hi(n,s){1&n&&(t.j41(0,"div",12),t.nrm(1,"app-game-show-button",22),t.k0s())}function bi(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",19),t.eu8(2,18),t.k0s(),t.DNE(3,hi,2,0,"div",20),t.j41(4,"div",19),t.nrm(5,"azt-leaderboard",21),t.k0s(),t.j41(6,"div",19),t.nrm(7,"azt-frontend-banner-ads-box",14),t.k0s(),t.bVm()),2&n){const e=t.XpG(2),o=t.sdS(5);t.R7$(2),t.Y8G("ngTemplateOutlet",o),t.R7$(),t.Y8G("ngIf",e.isMobileDevice),t.R7$(2),t.Y8G("hashId",e.hashId)("view","part"),t.R7$(2),t.Y8G("classStyle","mb-3 block")("adsPosition",e.allAdsPositions.STUDENTSUBMITTESTATRIGHT)}}function xi(n,s){if(1&n&&t.nrm(0,"azt-practice-box",23),2&n){const e=t.XpG(2);t.Y8G("resultId",e.resultId)("webPage","STUDENT_SUBMIT_TEST")}}function Si(n,s){if(1&n&&(t.j41(0,"div",8)(1,"div",9),t.DNE(2,Ti,5,1,"ng-container",10)(3,bi,8,6,"ng-container",10),t.k0s(),t.j41(4,"div",11)(5,"div",12)(6,"div",13),t.nrm(7,"azt-frontend-banner-ads-box",14),t.DNE(8,xi,1,2,"azt-practice-box",15),t.nI1(9,"getWebUIDynamicConfig"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.isBusinessDomain),t.R7$(),t.Y8G("ngIf",!e.isBusinessDomain),t.R7$(4),t.Y8G("classStyle","mb-3 block")("adsPosition",e.allAdsPositions.STUDENTSUBMITTESTATLIST),t.R7$(),t.Y8G("ngIf","0"!=t.bMT(9,5,"showPracticeAtSubmitTest"))}}function ki(n,s){if(1&n&&(t.j41(0,"div",26),t.nrm(1,"app-capacity-exam-tree-in-mar-result-mode-component",27),t.k0s()),2&n){const e=t.XpG(2);t.Y8G("ngStyle",t.lJ4(3,Xe)),t.R7$(),t.Y8G("hashId",e.hashId)("resultId",e.resultId)}}function vi(n,s){1&n&&(t.j41(0,"div")(1,"div",30)(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function Ci(n,s){if(1&n&&(t.j41(0,"span",49),t.EFF(1),t.k0s()),2&n){const e=t.XpG(6);t.R7$(),t.SpI(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function Ii(n,s){if(1&n&&(t.qex(0),t.j41(1,"span",47),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ci,2,1,"span",48),t.bVm()),2&n){const e=t.XpG(5);t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_diem_cua_ban"),":"),t.R7$(2),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function yi(n,s){1&n&&(t.j41(0,"span",47),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":"))}function Oi(n,s){1&n&&(t.j41(0,"span",47),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":"))}function Ei(n,s){if(1&n&&(t.j41(0,"span",49),t.EFF(1),t.k0s()),2&n){const e=t.XpG(6);t.R7$(),t.SpI(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function wi(n,s){if(1&n&&(t.qex(0),t.DNE(1,yi,3,3,"span",50)(2,Oi,3,3,"span",50)(3,Ei,2,1,"span",48),t.bVm()),2&n){const e=t.XpG(5);t.R7$(),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function Ai(n,s){1&n&&(t.j41(0,"span",47),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":"))}function zi(n,s){if(1&n&&(t.j41(0,"span",52),t.EFF(1),t.k0s()),2&n){const e=t.XpG(6);t.R7$(),t.SpI(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function ji(n,s){1&n&&(t.j41(0,"span",53),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_chua_co_diem")))}function Ri(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ai,3,3,"span",50)(2,zi,2,1,"span",51)(3,ji,3,3,"span",46),t.bVm()),2&n){const e=t.XpG(5);t.R7$(),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark)&&null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark))}}function Fi(n,s){1&n&&(t.j41(0,"span",53),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_chua_co_diem")))}function Gi(n,s){if(1&n&&(t.j41(0,"div",45),t.DNE(1,Ii,5,4,"ng-container",10),t.nI1(2,"isOnlyTrueFalse"),t.DNE(3,wi,4,3,"ng-container",10),t.nI1(4,"isMixTrueFalseAndEssay"),t.DNE(5,Ri,4,3,"ng-container",10),t.nI1(6,"isOnlyEssay"),t.DNE(7,Fi,3,3,"span",46),t.k0s()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("ngIf",t.bMT(2,4,e.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,6,e.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,8,e.examObj)),t.R7$(2),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.mark))}}function Di(n,s){1&n&&(t.j41(0,"span",47),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":"))}function Mi(n,s){if(1&n&&(t.j41(0,"div",54),t.DNE(1,Di,3,3,"span",50),t.j41(2,"span",49),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_auto_chua_duoc_xem_diem")," ")}}function Li(n,s){if(1&n&&(t.j41(0,"div",55)(1,"p",40),t.nrm(2,"lucide-icon",56),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",42),t.EFF(6),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(2),t.Y8G("ngClass",t.lJ4(5,ie)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_thi_sinh")," "),t.R7$(3),t.SpI(" ",null!=e.studentObj&&e.studentObj.fullName?null==e.studentObj?null:e.studentObj.fullName:null==e.userObj?null:e.userObj.fullName," ")}}function Qi(n,s){if(1&n&&(t.j41(0,"div",57)(1,"p",40),t.nrm(2,"lucide-icon",58),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",42),t.EFF(6),t.k0s()()),2&n){let e;const o=t.XpG(4);t.R7$(2),t.Y8G("ngClass",t.lJ4(5,ie)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_so_luong_trac_nghiem_dung")," "),t.R7$(3),t.SpI(" ",(null==o.examResultObj?null:o.examResultObj.rightAnswer)+"/"+(null!==(e=null==o.examResultObj||null==o.examResultObj.examResultStatisticObj||null==o.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:o.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&void 0!==e?e:0)," ")}}function Ni(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",66)(1,"button",67),t.bIt("click",function(){t.eBV(e);const a=t.XpG(5);return t.Njj(a.showStudentSkillStatisticDialog())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_frontend_student_skill_statistic_button")," "))}function Bi(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",59),t.DNE(2,Ni,4,3,"div",60),t.j41(3,"div",61)(4,"button",62),t.bIt("click",function(){t.eBV(e);const a=t.XpG(4);return t.Njj(a.redirectToTakeTraining())}),t.EFF(5),t.nI1(6,"mytranslate"),t.nrm(7,"lucide-icon",63),t.k0s()(),t.j41(8,"div",61)(9,"button",64),t.bIt("click",function(){t.eBV(e);const a=t.XpG(4);return t.Njj(a.redirectToAnswerTest())}),t.EFF(10),t.nI1(11,"mytranslate"),t.nrm(12,"lucide-icon",65),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG(4);t.R7$(2),t.Y8G("ngIf",!e.isTqbDomain),t.R7$(),t.Y8G("ngClass",t.l_i(11,Ve,!e.isTqbDomain,e.isTqbDomain)),t.R7$(2),t.SpI(" ",t.bMT(6,7,"lang_testbank_frontend_practice_again")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(14,re)),t.R7$(),t.Y8G("ngClass",t.l_i(15,Ve,!e.isTqbDomain,e.isTqbDomain)),t.R7$(2),t.SpI(" ",t.bMT(11,9,"lang_auto_xem_dap_an_chi_tiet")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(18,re))}}function $i(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",64),t.bIt("click",function(){t.eBV(e);const a=t.XpG(5);return t.Njj(a.redirectToAnswerTest())}),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"lucide-icon",65),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_xem_dap_an_chi_tiet")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(4,re)))}function Yi(n,s){1&n&&(t.j41(0,"button",70),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.Y8G("disabled",!0),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}function Pi(n,s){if(1&n&&(t.j41(0,"div",59)(1,"div",12),t.DNE(2,$i,4,5,"button",68)(3,Yi,3,4,"button",69),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(2),t.Y8G("ngIf",!1!==(null==e.examObj?null:e.examObj.allowStudentView)),t.R7$(),t.Y8G("ngIf",!1===(null==e.examObj?null:e.examObj.allowStudentView))}}function Xi(n,s){if(1&n&&(t.j41(0,"div",31)(1,"div",32)(2,"h2",33),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.DNE(5,Gi,8,10,"div",34)(6,Mi,5,4,"div",35),t.j41(7,"h3",36),t.EFF(8),t.k0s(),t.j41(9,"div",37),t.DNE(10,Li,7,6,"div",38),t.j41(11,"div",39)(12,"p",40),t.nrm(13,"lucide-icon",41),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"p",42),t.EFF(17),t.k0s()(),t.DNE(18,Qi,7,6,"div",43),t.k0s(),t.j41(19,"div",44),t.DNE(20,Bi,13,19,"ng-container",29)(21,Pi,4,2,"ng-template",null,3,t.C5r),t.k0s()()),2&n){const e=t.sdS(22),o=t.XpG(3);t.R7$(3),t.JRh(t.bMT(4,11,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.R7$(2),t.Y8G("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)),t.R7$(),t.Y8G("ngIf",2==(null==o.examObj?null:o.examObj.whenShowResult)),t.R7$(2),t.SpI(" ",null==o.examObj?null:o.examObj.name," "),t.R7$(2),t.Y8G("ngIf",(null==o.studentObj?null:o.studentObj.fullName)||(null==o.userObj?null:o.userObj.fullName)),t.R7$(3),t.Y8G("ngClass",t.lJ4(15,ie)),t.R7$(),t.SpI(" ",t.bMT(15,13,"lang_auto_thoi_gian_lam_bai")," "),t.R7$(3),t.SpI(" ",o.timeTested," "),t.R7$(),t.Y8G("ngIf",null!=(null==o.examResultObj?null:o.examResultObj.rightAnswer)),t.R7$(2),t.Y8G("ngIf",1==o.examConfigObj.allowTestingEachQuestion)("ngIfElse",e)}}function Vi(n,s){if(1&n&&(t.j41(0,"div",28),t.DNE(1,vi,5,3,"div",29)(2,Xi,23,16,"ng-template",null,2,t.C5r),t.k0s()),2&n){const e=t.sdS(3),o=t.XpG(2);t.Y8G("ngStyle",t.lJ4(3,Xe)),t.R7$(),t.Y8G("ngIf",""!=o.statusObj.errorMessage)("ngIfElse",e)}}function Ui(n,s){if(1&n&&t.DNE(0,ki,2,4,"div",24)(1,Vi,4,4,"div",25),2&n){const e=t.XpG();t.Y8G("ngIf",e.isCapacity),t.R7$(),t.Y8G("ngIf",!e.isCapacity)}}function qi(n,s){1&n&&(t.j41(0,"div",71),t.nrm(1,"app-game-show-button",22),t.k0s())}let Hi=(()=>{var n;class s extends S.H{showStudentSkillStatisticDialog(){if(this.examObj?.schoolSubjectId&&(10==this.examObj?.schoolLevelId||11==this.examObj?.schoolLevelId||32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId)){let o={subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:Number(this.userObj?.id??"0")};this.sAztDialogService.open(Qe,{width:"100vw",data:o,restoreFocus:!1})}else this.sAztDialogService.open(Me,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.returnLink))}redirectToTakeTraining(){this.commonService.myNavigationWithQueryString(null!=this.curCategoryId?"/test/take-training/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.tenantId+"/0/"+this.hashId,"?backto="+encodeURIComponent(this.backToLink))}getExamResult(){this.initStatusObj(),this.waitDestroy(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(o=>{if(1==o.success){this.hasErrorMessage=o.message?o.message:"",this.examObj=o.data?.examObj,this.examResultObj=o.data?.examResultObj,this.studentObj=o.data?.studentObj,this.examConfigObj=o.data?.examConfigObj??{};var a=new Date(o.data?.examResultObj?.startedTest??""),i=new Date(o.data?.examResultObj?.createdAt??"");this.timeTested=this.timeService.calculationTimeExamTested(a,i);let r="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(_=>{r=_}),this.commonService.translateMetaData({title:r+": "+this.examObj?.name,description:this.examObj?.name}),this.stopStatusObj()}else this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,G.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var o=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=o||"",this.userObj=this.userService.getUserObj(),this.isCapacity=Number(this.commonService.getMyQueryParam("capacity"))>0,this.isCapacity||this.getExamResult()})),this.backToLink=`/de-thi/${this.hashId}`,this.returnLink=`/test/submit-test/${this.tenantId}/${this.curCategoryId}/${this.hashId}/${this.resultId}`,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??"",this.checkMobileScreen=!this.commonService.compareDeviceScreen(768)}constructor(o,a,i,r,_){super(),this.sAztDialogService=o,this.activeRoute=a,this.frontExamResultService=i,this.timeService=r,this.userService=_,this.backToLink="",this.paramBackToLink="",this.returnLink="",this.hashId="",this.curCategoryId=0,this.resultId=0,this.isCapacity=!1,this.tenantId=0,this.examConfigObj={},this.allAdsPositions=mt.rA,this.allAdsDisplayTypes=mt.ud,this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.timeTested="",this.checkMobileScreen=!1}ngOnDestroy(){super.ngOnDestroy()}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(dt.i),t.rXU(l.nX),t.rXU(j.Ry),t.rXU(ot.F),t.rXU(st.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-submit-test"]],standalone:!0,features:[t.Vt3,t.aNF],decls:7,vars:4,consts:[["doneLoading",""],["showSubmitExamTpl",""],["notError",""],["testingFlow",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["style","position: fixed; right: 30px; bottom: 120px; z-index: 9999; width: 265px",4,"ngIf"],[3,"currentStatusObj"],[1,"intro-y","mt-5"],[1,"grid","grid-cols-12","gap-5","mt-5"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-5","mx-auto"],[3,"classStyle","adsPosition"],[3,"resultId","webPage",4,"ngIf"],[1,"md:col-span-1"],[1,"col-span-12","md:col-span-10"],[3,"ngTemplateOutlet"],[1,"col-span-12","md:col-span-6","lg:col-span-4"],["class","col-span-12",4,"ngIf"],[3,"hashId","view"],[1,"w-full"],[3,"resultId","webPage"],[3,"ngStyle",4,"ngIf"],["class","box h-full mx-auto",3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[3,"hashId","resultId"],[1,"box","h-full","mx-auto",3,"ngStyle"],[4,"ngIf","ngIfElse"],[1,"alert","alert-danger"],[1,"flex","flex-col","h-full"],[1,"text-center","pt-3"],[1,"text-lg","font-bold"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-2",4,"ngIf"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"text-md","font-medium","text-center","mt-3","px-5","text-break"],[1,"azt-info-exam","mt-3","px-5"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-2"],[1,"text-md","flex","items-center"],["name","clock","size","16",3,"ngClass"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"p-3","px-5","pb-5",2,"margin-top","auto"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-2"],["class","font-medium text-lg text-danger",4,"ngIf"],[1,"font-medium","text-md","mr-2"],["class","font-medium text-lg","style","font-size: 25px",4,"ngIf"],[1,"font-medium","text-lg",2,"font-size","25px"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-lg",4,"ngIf"],[1,"font-medium","text-lg"],[1,"font-medium","text-lg","text-danger"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[1,"flex","items-center"],["name","user","size","16",3,"ngClass"],[1,"flex","items-center","mt-3"],["name","circle-check","size","16",3,"ngClass"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 md:col-span-4",4,"ngIf"],[1,"col-span-12",3,"ngClass"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-pending","w-full",3,"click"],["name","clipboard-pen-line","size","16",3,"ngClass"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-primary","w-full",3,"click"],["name","chevron-right","size","16",3,"ngClass"],[1,"col-span-12","md:col-span-4"],["azt-track-service","submit-test-ITr-NliUJ",1,"btn","btn-success-soft","w-full",3,"click"],["azt-track-service","submit-test-ikX9fXn-mw","class","btn btn-outline-primary w-full",3,"click",4,"ngIf"],["class","btn btn-outline-primary w-full",3,"disabled",4,"ngIf"],[1,"btn","btn-outline-primary","w-full",3,"disabled"],[2,"position","fixed","right","30px","bottom","120px","z-index","9999","width","265px"]],template:function(o,a){if(1&o&&(t.j41(0,"student-layout",4),t.DNE(1,fi,1,1,"azt-loading-effect",5)(2,Si,10,7,"ng-template",null,0,t.C5r)(4,Ui,2,2,"ng-template",null,1,t.C5r),t.k0s(),t.DNE(6,qi,2,0,"div",6)),2&o){const i=t.sdS(3);t.Y8G("headerBackToLink",a.backToLink),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i),t.R7$(5),t.Y8G("ngIf",!a.isMobileDevice)}},dependencies:[Y.j,A.K,ri,we.g,te.K,Be.X,gi,c.MD,c.YU,c.bT,c.T3,c.B3,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,g.PP,g.Pj,g.ZY,g.jY,T.Id,x.k],encapsulation:2}),s})();var Wi=m(86386),Ji=m(59702),N=function(n){return n.LIST_QUESTION="LIST_QUESTION",n.STEP_QUESTION="STEP_QUESTION",n.TRAINING_QUESTION="TRAINING_QUESTION",n.GROUP_QUESTION="GROUP_QUESTION",n}(N||{}),le=m(85710),Ki=m(58112);let Zi=(()=>{var n;class s{constructor(o,a,i,r,_){this.commonService=o,this.sAztCommonCdnService=a,this.trackJsExceptionService=i,this.answerTypeService=r,this.userService=_,this.labelsImg=new Image,this.questionLabelMap=[],this.abcdLabelPos={},this.subscription=new le.yU}cancelSubscription(){this.subscription.unsubscribe()}makeRetry(o,a,i,r,_,u,f,v){o.crossOrigin="anonymous",o.setAttribute("totalRetry","0"),o.onerror=()=>{let E=parseInt(o.getAttribute("totalRetry")||"0");if(E++,E<=a)setTimeout(()=>{if(E>Math.floor(a/2))o.src=this.sAztCommonCdnService.getMyCdn(o.src);else{let J=o.src.split("?")[0];o.src=J+"?t="+Date.now()}o.setAttribute("totalRetry",E.toString())},i);else{var et=0,q=this.userService.getUserObj();q&&q.id&&(et=q.id);let J=document.URL.split("?")[0].split("/"),K={userId:et,trackKey:"V2_ERR_DISPLAY",name:"Track l\u1ed7i kh\xf4ng hi\u1ec3n th\u1ecb c\xe2u h\u1ecfi v2",userAgent:navigator.userAgent,url:document.URL,content:o.src,error:J[J.length-1]};if(this.subscription.add(this.trackJsExceptionService.apiTrackJsExceptionSaveObjPost(K).subscribe(()=>{console.log("Track l\u1ed7i th\xe0nh c\xf4ng!")})),(r||0===r)&&_&&u&&f){f[r].mixDataImg=this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub("svgs/Img_dat-01.svg");let I=document.getElementById("questionPlaceholder_"+r);I?.setAttribute("loadSuccess","0");let M=document.getElementById("media_content_all_"+f[r].id);M?.setAttribute("loadSuccess","0");const B=lt=>{"0"===lt?.getAttribute("loadSuccess")&&(v?this.prepareImageForOtherTypes(u,r,f):this.prepareImageToDrawForType1(_,u,r,f))};M?M.onclick=()=>{B(M)}:I&&(I.onclick=()=>{B(I)})}}}}prepareImageToDrawForType1(o,a,i,r){if(a.metaData&&a.metaData.question){let _=1+o.length,u=0,f=new Image;f.crossOrigin="anonymous",f.onload=()=>{u++,u==_&&this.drawEachQuestion(o,a,i,f,v,r)},this.makeRetry(f,3,1e3,i,o,a,r),f.src=this.sAztCommonCdnService.getMyCdn(a.metaData.question.url||"");let v=[];for(let E=0;E<o.length;E++)v[E]=new Image,v[E].crossOrigin="anonymous",v[E].onload=()=>{u++,u==_&&this.drawEachQuestion(o,a,i,f,v,r)},this.makeRetry(v[E],3,1e3,i,o,a,r),v[E].src=this.sAztCommonCdnService.getMyCdn(o[E].content)}}prepareImageForOtherTypes(o,a,i){if(o.metaData&&o.metaData.question){let r=document.createElement("canvas");r.width=o.metaData.question.width+10,r.height=o.metaData.question.height;let _=r.getContext("2d"),u=new Image;u.crossOrigin="anonymous";const f=o.metaData.question.remove.x,v=o.metaData.question.remove.y;u.onload=()=>{_?.drawImage(u,10,0),_?.drawImage(this.labelsImg,this.questionLabelMap[a].left,this.questionLabelMap[a].top,this.questionLabelMap[a].width,this.questionLabelMap[a].height,f,v,this.questionLabelMap[a].width,this.questionLabelMap[a].height),i[a].mixDataImg=r.toDataURL("image/png")},this.makeRetry(u,3,1e3,void 0,void 0,void 0,void 0,"others"),u.src=this.sAztCommonCdnService.getMyCdn(o.metaData.question.url||"")}}drawEachQuestion(o,a,i,r,_,u){if(a.metaData&&a.metaData.answers&&a.metaData.question){let f=document.createElement("canvas");f.width=a.metaData.question.width+15,f.height=a.metaData.question.height;let v=f.getContext("2d");v?.drawImage(r,15,0),v?.drawImage(this.labelsImg,this.questionLabelMap[i].left,this.questionLabelMap[i].top,this.questionLabelMap[i].width,this.questionLabelMap[i].height,a.metaData.question.remove.x,a.metaData.question.remove.y,this.questionLabelMap[i].width,this.questionLabelMap[i].height);let E=_[0],et=0,q=0,J=0,K=a.metaData.answers[0].x,I=a.metaData.answers[0].y;et=K,q=K+E.width,J=K+E.width;let M=_[0].height-a.metaData.answers[0].height;v?.drawImage(E,K,I);let B=o[0].alpha?o[0].alpha:o[0].key,lt=0;if(o[0].alpha){let O=o[0].key;for(let $=0;$<o.length;$++)if(O==o[$].alpha){lt=$;break}}let yt={left:void 0!==a.metaData.answers[lt].remove.xAns?K+(a.metaData.answers[lt].remove.xAns||0):a.metaData.answers[0].remove.x,top:void 0!==a.metaData.answers[lt].remove.yAns?I+(a.metaData.answers[lt].remove.yAns||0):a.metaData.answers[0].remove.y,width:a.metaData.answers[0].remove.width,height:a.metaData.answers[0].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(B)&&v?.drawImage(this.labelsImg,this.abcdLabelPos[B].left,this.abcdLabelPos[B].top,a.metaData.answers[0].remove.width,a.metaData.answers[0].remove.height,yt.left,yt.top,yt.width,yt.height),u[i].answerLabelsMockup[`label-${o[0].alpha?o[0].alpha:o[0].key}`]=yt;for(let O=1;O<o.length;O++){let $=a.metaData.answers[O].x,ft=a.metaData.answers[O].y;if(et+30<$){let nt=[J,q];$<Math.max(...nt)&&($=Math.max(...nt),$+_[O].width>f.width&&($-=$+_[O].width-f.width),a.metaData.answers[O].remove.x=$),q+=_[O].width}else if(q=et+_[O].width,ft+=M,M+=_[O].height-a.metaData.answers[O].height,ft+_[O].height>f.height){let nt=ft+_[O].height-f.height;ft-=nt,a.metaData.answers[O].remove.y-=nt}v?.drawImage(_[O],$,ft);let Ot=O,ve=o[O].alpha?o[O].alpha:o[O].key;if(o[O].alpha){let nt=o[O].key;for(let _t=0;_t<o.length;_t++)if(nt==o[_t].alpha){Ot=_t;break}}let Et={left:void 0!==a.metaData.answers[Ot].remove.xAns?$+(a.metaData.answers[Ot].remove.xAns||0):a.metaData.answers[O].remove.x,top:void 0!==a.metaData.answers[Ot].remove.yAns?ft+(a.metaData.answers[Ot].remove.yAns||0):a.metaData.answers[O].remove.y,width:a.metaData.answers[O].remove.width,height:a.metaData.answers[O].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(ve||"a")&&v?.drawImage(this.labelsImg,this.abcdLabelPos[ve||"a"].left,this.abcdLabelPos[ve||"b"].top,a.metaData.answers[O].remove.width,a.metaData.answers[O].remove.height,Et.left,Et.top,Et.width,Et.height),u[i].answerLabelsMockup[`label-${o[O].alpha?o[O].alpha:o[O].key}`]=Et,O==o.length-1&&(u[i].mixDataImg=f.toDataURL("image/png"),document.getElementById("media_content_all_"+u[i].id)?.setAttribute("loadSuccess","1"),document.getElementById("questionPlaceholder_"+i)?.setAttribute("loadSuccess","1"))}}}}return(n=s).\u0275fac=function(o){return new(o||n)(t.KVO(V.R),t.KVO(Ki.c),t.KVO(ee.rk),t.KVO(Ft._),t.KVO(st.R))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();var Ue=m(29501),qe=m(58227),He=m(10933),k=function(n){return n[n.INIT=0]="INIT",n[n.LOGIN_DIALOG=1]="LOGIN_DIALOG",n[n.PAYMENT_DIALOG=2]="PAYMENT_DIALOG",n[n.INFO_REQUIRED_DIALOG=3]="INFO_REQUIRED_DIALOG",n[n.WAIT_TO_TEST_TIME=4]="WAIT_TO_TEST_TIME",n[n.CHOOSE_STUDENT=5]="CHOOSE_STUDENT",n[n.SEQUENCE_STEP=6]="SEQUENCE_STEP",n[n.CAPACITY_EXAM_SELECT=7]="CAPACITY_EXAM_SELECT",n[n.CAPACITY_EXAM_INTRO=8]="CAPACITY_EXAM_INTRO",n[n.SHOW_ESSAY_WARNING_DIALOG=9]="SHOW_ESSAY_WARNING_DIALOG",n[n.SHOW_FULL_SCREEN=10]="SHOW_FULL_SCREEN",n[n.SHOW_VIDEO_REQUIRED=11]="SHOW_VIDEO_REQUIRED",n[n.RUN_OUT_OF_TIME_AFTER_TEST=12]="RUN_OUT_OF_TIME_AFTER_TEST",n[n.RUN_OUT_OF_TIME_WHEN_F5=13]="RUN_OUT_OF_TIME_WHEN_F5",n[n.START_TEST=14]="START_TEST",n[n.SHOW_ERROR_MESSAGE=15]="SHOW_ERROR_MESSAGE",n[n.SHOW_APP_ONLY_MESSAGE=16]="SHOW_APP_ONLY_MESSAGE",n}(k||{});class it{constructor(){this.customDocument={...document}}showFullScreen(){try{const s=document.documentElement;let e=s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullscreen||s.msRequestFullscreen;e&&e.call(s)}catch{}}exitFullscreen(){try{const s=document;if(window.innerHeight==screen.height){let e=s.exitFullscreen||s.webkitExitFullscreen||s.msExitFullscreen;e&&e.call(s)}}catch{}}checkFullScreen(){switch(this.detectBrowserName()){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}detectBrowserName(){const s=navigator.userAgent.toLowerCase();return s.match(/chrome|chromium|crios/i)?"chrome":s.match(/firefox|fxios/i)?"firefox":s.match(/safari/i)?"safari":s.match(/opr\//i)?"opera":s.match(/edg/i)?"edge":"other"}}let Dt=(()=>{var n;class s{constructor(){this.allowTrackVisible=!0,this.allowTrackFullScreen=!0,this._isSendingToApi=!1}reset(){this.allowTrackVisible=!0,this.allowTrackFullScreen=!0}isAllowTrackVisible(){return this.allowTrackVisible}setAllowTrackVisibleStatus(o){this.allowTrackVisible=o}isAllowTrackFullScreen(){return this.allowTrackFullScreen}setAllowTrackFullScreenStatus(o){this.allowTrackFullScreen=o}setSendingToApiStatus(o){this._isSendingToApi=o}isSendingToApi(){return this._isSendingToApi}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();class D{getPassword(){return this.browserStorageService.getSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}savePassword(s){null==s||""==s||this.browserStorageService.saveSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId,s)}removePassword(){this.browserStorageService.removeSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}hasInfo(){let s=this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId);return null!=s&&null!=s&&"[]"!=s&&""!=s}getInfo(){return this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}saveInfo(s){null==s||""==s||this.browserStorageService.saveSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId,s)}removeInfo(){this.browserStorageService.removeSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}constructor(s,e){this.examHashId=s,this.browserStorageService=e,this.PASSWORD_LOCAL_STORAGE_KEY="password_",this.USER_INFO_LOCAL_STORAGE_KEY="userInfoV3_"}}class _e{sendAudioForQuestion(s,e){if(!s.termExamResultId)return s;var o=s.viewQuestionObjs;let a=o.find(i=>i.id==e.obj?.id);return a&&(1==e.play?a.limitPlay=(a.limitPlay??0)+1:(a.limitPlay=(a.limitPlay??0)-1,a.limitAudio=(a.limitAudio??0)+1,a.audioLimitObjs?.map(i=>i.status=i.index!=e.index&&i.status)),this.saveAudioLimitStorage(s.examObj,s.termExamResultId,o),s.viewQuestionObjs=o),s}addAudioInfoToQuestionObjs(s,e){return e.forEach(o=>{if(o.attachments.length<=0)return;o.audioLimitObjs=[];let a=(s.limitAudio??0)-(o.limitAudio??0);for(var i=0;i<a;i++)o.audioLimitObjs.push({index:i,status:!0})}),e}saveAudioLimitStorage(s,e,o){let a=o.filter(i=>i.attachments.length>0).map(i=>({questionId:i.id,limitTimes:i.limitAudio,limitPlay:i.limitPlay}));a.length>0&&this.browserStorageService.saveSimpleStorage("limitAudioV6_"+s.id+"_"+e,JSON.stringify(a))}getLimitAudioFromLocalStorage(s,e){return this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("limitAudioV6_"+s.id+"_"+e)??"")??[]}constructor(s,e){this.commonService=s,this.browserStorageService=e}}class tr{getQuestionThatCanFeedbackFromApi(s,e){let o=s.viewQuestionObjs,a=this.commonService.uniqueArray(o.map(r=>r.id)??[]);this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsListPost({examId:s.examObj.id,questionIds:a}).subscribe(r=>r.success?(r.data?.objs?.forEach(_=>{let u=o.find(f=>f.id==_.questionId);u&&(u.enableFeedback=_.allowFeedback)}),e(void 0,o)):e(r.message,[])))}getDataSyncFromApi(s,e){this.waitDestroy(this.testLogExamResultAnswerService.listExamResultAnswers(s.termExamResultId??0).subscribe(o=>{if(!o.success)return e(void 0);let a={version:o.version??"",code:o.code??0,success:o.success??0,data:{content:o.data?.content??"",typeHash:0,keyHash:""},detailMessage:"",message:o.message??""},r=this.encryptionHelper.result(a)?.data??{answers:[],files:"",infors:"",updatedAt:o?.data?.updated_at??"",resultTrack:""};e(r)}))}setSyncDataFromApi(s,e,o){let a=this.sAztTestResultTrackService.getStudentAnswerFromLocalStorage(o.examObj,s.termExamResultId??0);return e&&e.updatedAt?(o.resultTracks=this.commonService.myParseJson(this.zipDataService.decodeContentGzip(e.resultTrack??""))??[],a?new Date(e.updatedAt).getTime()<a.saveTime?(o.answerList=a.answers??new Array,o.files=this.commonService.myParseJson(a.files)??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList)):(o.answerList=e.answers??new Array,o.files=this.commonService.myParseJson(e.files)??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList)):(o.answerList=e.answers??new Array,o.files=this.commonService.myParseJson(e.files??"")??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList))):a&&(o.answerList=a.answers??[],o.files=this.commonService.myParseJson(a.files)??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList)),o}saveAnswerAndTrackInfoToApi(s){var e=this.commonService.myClone(s.resultTracks);try{let o={answers:s.answerList,files:JSON.stringify(s.files),infors:new D(s?.examObj.hashId??"",this.browserStorageService).getInfo()??"",resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(e)),updatedAt:""},a=this.encryptionHelper.payload(o);this.testLogExamResultAnswerService.answerExamResult(a,s.termExamResultId??0).subscribe(i=>{})}catch{}}getSyncQuestionDataFromApi(s,e,o,a,i){if(a.hasAlreadyGenerateQuestion)return i(a);this.getDataSyncFromApi(a,r=>{this.getQuestionThatCanFeedbackFromApi(a,(_,u)=>{this.sAztTestQuestionService.generateQuestionView(s,e,o,a.viewQuestionObjs,f=>{if(_||(a.viewQuestionObjs=u),r&&(a=this.setSyncDataFromApi(a,r,a)),!f)return i(a);a.viewQuestionObjs=f,a.hasAlreadyGenerateQuestion=!0,i(a)})})})}getHistoryAnswerOfTrainingFromApi(s,e){null!=s.trainingAnswerQuestions&&e(void 0,s.trainingAnswerQuestions),this.waitDestroy(this.frontExamService.apiFrontExamReloadExamResultGet(s.examObj.hashId??"").subscribe(o=>{if(!o.success)return e(o.message,[]);const i=this.encryptionHelper.result(o)?.data?.questions??[];return e(void 0,i)}))}updateEssayFilesToApi(s){return new Promise(e=>{let o={hashCode:s.uploadHashCode,files:JSON.stringify(s.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(o).subscribe(a=>{a.success&&e(!0)})})}getImagesThatUploadAtMobileQrCodeFromApi(s,e){if(!s)return e(void 0);this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(s).subscribe(o=>{if(!o.success)return e(void 0);let a=this.commonService.myParseJson(o.data?.tmpObj?.files??"")??[];return e(a)})}destroyAll(){this.subscriptions.unsubscribe()}waitDestroy(s){this.subscriptions.add(s)}constructor(s,e,o,a,i,r,_,u,f,v){this.commonService=s,this.zipDataService=e,this.browserStorageService=o,this.testMarketFeedbackService=a,this.encryptionHelper=i,this.testLogExamResultAnswerService=r,this.sAztTestQuestionService=_,this.sAztTestResultTrackService=u,this.frontExamResultUploadService=f,this.frontExamService=v,this.subscriptions=new le.yU}}class We{checkByWidth(){return window.innerWidth<1200}}class Je{makeDeviceId(s=10){for(var e="",i=0;i<s;i++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}getDeviceId(){var s=this.browserStorageService.getSimpleStorage("device_session");return this.deviceId=s||this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId),this.deviceId}constructor(s){this.browserStorageService=s,this.deviceId=""}}class er{init(s){if(null!=s.nextBackQuestionModel||s.viewQuestionObjs.length<=0)return s;let e=this.commonService.getFirstOfArray(s.viewQuestionObjs);if(null==e)return s;let o={curQuestionIndex:e.index??0,curQuestionObj:e,isLastQuestion:this.commonService.getLastOfArray(s.viewQuestionObjs)?.id==e.id};return s.nextBackQuestionModel=o,s}nextTo(s,e){if(null==(s=this.init(s)).nextBackQuestionModel)return s;let o=e.index??0,a=this.commonService.getItemAtIndexOfArray(s.viewQuestionObjs,o+(o===s.viewQuestionObjs.length-1?0:1));return null==a||(s.nextBackQuestionModel.curQuestionIndex=a.index??0,s.nextBackQuestionModel.curQuestionObj=a,s.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(s.viewQuestionObjs)?.id==a.id),s}backTo(s,e){if(null==(s=this.init(s)).nextBackQuestionModel)return s;let a=this.commonService.getItemAtIndexOfArray(s.viewQuestionObjs,(e.index??0)-1);return null==a||(s.nextBackQuestionModel.curQuestionIndex=a.index??0,s.nextBackQuestionModel.curQuestionObj=a,s.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(s.viewQuestionObjs)?.id==a.id),s}goTo(s,e){if(null==(s=this.init(s)).nextBackQuestionModel)return s;let o=s.viewQuestionObjs.find(a=>a.id==e.id);return null==o||(s.nextBackQuestionModel.curQuestionIndex=o.index??0,s.nextBackQuestionModel.curQuestionObj=o,s.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(s.viewQuestionObjs)?.id==o.id),s}scrollTo(s){var e=document.getElementById("question_all_"+s.id);e&&window.scrollTo({top:e.offsetTop-90,behavior:"smooth"})}constructor(s){this.commonService=s}}var nr=m(81245);class ar{takeAnswerForQuestion(s,e){return e.forEach(o=>{s.forEach(a=>{if(a.questionId==o.id)if(this.answerTypeService.isFillAnswer(o)||this.answerTypeService.isEssayAnswer(o))o.choseAnswer=[a.answerContent[0].content];else if((this.answerTypeService.isOneChoiceAnswer(o)||this.answerTypeService.isMultipleChoiceAnswer(o))&&o.answers)o.choseAnswer=[(o.answers[i=a.answerContent[0].index].alpha?o.answers[i].alpha:o.answers[i].key)??""];else if(this.answerTypeService.isTrueFalseAnswer(o)){var i=a.answerContent[0].index;let _=this.commonService.myTranslateInstant("T"==a.answerContent[0].status?"lang_auto_dung":"lang_auto_sai");o.choseAnswer?.push((o.answers[i].alpha?o.answers[i].alpha:o.answers[i].key)?.toLowerCase()+") - "+(_??""))}})}),e}checkFinishedAnswering(s){s.finishedAnswering=this.answerTypeService.isTrueFalseAnswer(s)?0===s.answers.filter(e=>void 0===e.checked).length:s.status}reBindDataQuestion(s,e){var o=[];return s.forEach(a=>{e.forEach(i=>{if(i.questionId==a.id){if(this.answerTypeService.isEssayAnswer(a))(r=i.answerContent&&i.answerContent.length>0?i.answerContent[0].content:"")&&(a.essayText=r);else if(this.answerTypeService.isFillAnswer(a)){var r;(r=i.answerContent&&i.answerContent.length>0?i.answerContent[0].content:"")&&(a.essayText=r)}else for(var _ of a.answers)if(this.answerTypeService.isTrueFalseAnswer(a))_.checked=this.compareTrueFalseQuestionContent(_,i.answerContent);else{if(this.compareContent(_,i.answerContent&&i.answerContent.length>0?i.answerContent[0]:{index:0,content:""})){_.checked=!0;break}_.checked=!1}a.status=!0}}),this.checkFinishedAnswering(a),o.push(a)}),o}getEssayQuestionIds(s){return s.filter(e=>this.answerTypeService.isEssayAnswer(e)).map(e=>e.id)}changeQuestionContent(s,e,o){var a=[],i=new _e(this.commonService,this.browserStorageService).getLimitAudioFromLocalStorage(s,e);return o.forEach((r,_)=>{if(r.essayText=this.answerTypeService.isEssayAnswer(r)?"":r.essayText,r.essayText=this.answerTypeService.isFillAnswer(r)?"":r.essayText,s.limitAudio)if(i.length>0){var u=i.find(f=>f.questionId==r.id);u&&null!=u.limitTimes&&null!=u.limitPlay&&(r.limitAudio=u.limitTimes+u.limitPlay,r.limitPlay=0)}else r.attachments.length>0&&(r.limitAudio=0,r.limitPlay=0);r={...r,index:_,status:!1},a.push(r)}),s.limitAudio?new _e(this.commonService,this.browserStorageService).addAudioInfoToQuestionObjs(s,a):a}setShowHint(s,e){let o=s.viewQuestionObjs.find(a=>a.id==e);return o&&(o.isShowHint=!0),s}setQuestionTrueFalseAnswer(s,e){let o=s.examObj,a=s.viewQuestionObjs,i=s.answerList,r=i.find(f=>f.questionId==e.questionId),_={index:e.answerIndex,content:e.answerConfig.key,status:e.answerConfig.status},u={questionId:e.questionId,answerContent:[_]};if(r){let f=r.answerContent.find(v=>v.index==_.index&&v.content==_.content);f?f.status=_.status:r.answerContent.push(_)}else i.push(u);return a=this.changeStatusOfTrueFalseAnswer(o,a,e),a=this.changeStatusOfQuestion(a,e.questionId,!0),s.viewQuestionObjs=a,s.answerList=i,s}setQuestionOneChoiceAnswer(s,e){let o=s.examObj,a=s.viewQuestionObjs,i=s.answerList,r=i.find(u=>u.questionId==e.questionId);var _={questionId:e.questionId,answerContent:[{index:e.answerIndex,content:e.answerConfig.key}]};return r?r.answerContent=_.answerContent:i.push(_),a=this.changeStatusOfOneChoiceAnswer(o,a,e),a=this.changeStatusOfQuestion(a,e.questionId,!0),s.viewQuestionObjs=a,s.answerList=i,s}setQuestionFillAnswer(s,e){return this.setQuestionEssayAnswer(s,{questionId:e.questionId,value:e.value})}setQuestionEssayAnswer(s,e){let o=s.answerList.find(r=>r.questionId==e.questionId),a=""==e.value.trim(),i={questionId:e.questionId,answerContent:[{index:0,content:e.value}]};return s.viewQuestionObjs=this.changeEssayTextQuestion(s.viewQuestionObjs,e.questionId,e.value),s.viewQuestionObjs=this.changeStatusOfQuestion(s.viewQuestionObjs,e.questionId,!a),o?a?(s.answerList=s.answerList.filter(r=>r.questionId!=e.questionId),s):(o.answerContent=i.answerContent,s):(s.answerList.push(i),s)}changeEssayTextQuestion(s,e,o){let a=s.find(i=>i.id==e);return a&&(a.essayText=o),s}changeStatusOfQuestion(s,e,o){let a=s.find(i=>i.id==e);return a&&(a.status=o,this.checkFinishedAnswering(a)),s}changeStatusOfOneChoiceAnswer(s,e,o){let a=e.find(_=>_.id==o.questionId);if(!a||!a.answers.length||(a.answers.map((_,u)=>_.checked=u==o.answerIndex),!this.commonService.isMobileOrTable()))return e;let i=this.commonService.myTranslateInstant("lang_auto_cau"),r=this.commonService.myTranslateInstant("lang_auto_chon");return this.commonService.snackChoiceAnswer(i+" "+((a.index??0)+(s.startQuestionIndex??1))+" - "+r+" "+(o.answerConfig.alpha?o.answerConfig.alpha:o.answerConfig.key)),e}changeStatusOfTrueFalseAnswer(s,e,o){let a=e.find(v=>v.id==o.questionId);if(!a||!a.answers.length)return e;let i="T"==o.answerConfig?.status;if(a.answers[o.answerIndex].checked=a.answers[o.answerIndex].checked!=i?i:void 0,!this.commonService.isMobileOrTable())return e;let r=this.commonService.myTranslateInstant("lang_auto_cau"),_=this.commonService.myTranslateInstant("lang_auto_chon"),u=this.commonService.myTranslateInstant("lang_auto_dung"),f=this.commonService.myTranslateInstant("lang_auto_sai");return this.commonService.snackChoiceAnswer(r+" "+((a.index??0)+(s.startQuestionIndex??1))+" - "+_+" "+(o.answerConfig.alpha?o.answerConfig.alpha:o.answerConfig.key).toLocaleLowerCase()+")"+(o.answerConfig.status?" - "+("T"==o.answerConfig.status?u:f):"")),e}getAnswerOfQuestion(s,e){return s.answerList.find(o=>o.questionId==e)}checkQuestionHasAnswer(s,e){let o=s.answerList.find(a=>a.questionId==e);return!!o&&o.answerContent.length>0}resetQuestionIndex(s,e){if(!e)return s;let o=0,a=0;return s.forEach((i,r)=>{i.groupInfo?.groupId&&(o!=i.groupInfo.groupId&&(a=0),i.labelIndex=a,a++,o=i.groupInfo.groupId)}),s}convertViewQuestionToQuestionInGroup(s){s.viewQuestionInGroupList=[],s.viewQuestionObjs.forEach((e,o)=>{const a=e?.groupInfo?.groupId??0;e.startQuestionIndexWidthViewGroup=o,s.viewQuestionInGroupList[a]||(s.viewQuestionInGroupList[a]={groupInfo:e?.groupInfo,groupId:a,isExistEssay:!1,isShowGroupMobile:!0,totalQuestion:0,totalCompletedQuestion:0,startLabel:0,endLabel:0,questionList:[]}),s.viewQuestionInGroupList[a].questionList.push(e)}),s.viewQuestionInGroupList=s.viewQuestionInGroupList.filter(e=>e&&e.questionList.length).map(e=>(e.totalQuestion=e.questionList.length,e.totalCompletedQuestion=e.questionList.filter(o=>o.status).length,e.startLabel=(e.questionList[0].startQuestionIndexWidthViewGroup??0)+1,e.endLabel=(e.questionList[e.totalQuestion-1].startQuestionIndexWidthViewGroup??0)+1,e.isExistEssay=e.questionList.filter(o=>this.answerTypeService.isEssayAnswer(o)).length>0,e))}generateQuestionView(s,e,o,a,i){s.startLoad=!0,e.setNumQuest(a.length),o.parseRenderQuestions(a,r=>{s.loadPercent=Math.floor(r)}).then(r=>{s.startLoad=!1,s.hasErrs=!1,i(r)}).catch(r=>{s.startLoad=!1,s.hasErrs=!0,s.errData=r,i(void 0)})}calculateNewCountDown(s){return s.isAutoSubmit=!s.isUnLimitedTime&&s.countDownSecond<=0&&s.countDownSecond>=-90,s.isActualEndTime=!s.isUnLimitedTime&&s.countDownSecond>=-300,s.autoSubmitAfterSeconds=s.isAutoSubmit?s.countDownSecond+90:void 0,s.allowUploadEssayFileWhenEndTime=s.isAutoSubmit&&s.countDownSecond>=-200,s}clearAllData(s){new D(s.examObj.hashId??"",this.browserStorageService).removeInfo(),this.browserStorageService.removeSimpleStorage("saveResultTrack_"+s.examObj.hashId+"_"+s.termExamResultId),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+s.examObj.hashId+"_"+s.termExamResultId),this.browserStorageService.removeSimpleStorage("saveDataV4_"+s.examObj.id+"_"+s.termExamResultId),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+s.examObj.id+"_"+s.termExamResultId),this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard()}compareContent(s,e){return s.key==e.content}compareTrueFalseQuestionContent(s,e){let o=e.find(a=>a.content==s.key);if(o)return"T"==o.status}constructor(s,e,o,a,i){this.commonService=s,this.answerTypeService=e,this.browserStorageService=o,this.localStorageObject=a,this.sAztShowMonitorService=i,this.sAztFullScreenService=new it,this.sAztCoreModCdnService=(0,t.WQX)(nr.O),this.isCheckingAnswer=!1,this.isShowAnswerStatusBox=!1,this.isShowSuccessAnimationBox=!1,this.trainingAudioSuccess=new Audio(this.sAztCoreModCdnService.convertCdnLinkOfGitHub("audio/correct.mp3")),this.hasWrongAnswer=!1}}class or{constructor(){this.fontSize=1}changeSizeImgOrMathJax(s){let e=document.getElementsByClassName("img-docx"),o=document.getElementsByClassName("MJX-TEX");e.length&&Array.from(e).forEach(a=>{if(a instanceof HTMLElement){let i=a.offsetWidth;a.style.width=s?i+10+"px":i-10+"px",a.style.height="auto"}}),o.length&&Array.from(o).forEach(a=>{a instanceof HTMLElement&&(a.style.fontSize=this.fontSize+"em")})}zoomIn(){this.fontSize<2&&(this.fontSize+=.1,this.changeSizeImgOrMathJax(!0))}zoomOut(){this.fontSize>1&&(this.fontSize-=.1,this.changeSizeImgOrMathJax(!1))}}class sr{saveAnswerAndTrackInfoToLocalStorage(s){if(!s.termExamResultId||!s.testingUserObj)return;let e=s.examObj,o=s.termExamResultId,a=s.answerList,i=s.files,u={autoSubmit:void 0,serverCountDown:s.countDownSecond,examMinutes:e.minutes,saveStudentId:s.testingUserObj.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()},f={answers:a,notes:[],files:JSON.stringify(i),infors:new D(e.hashId??"",this.browserStorageService).getInfo()??"",trackInfos:JSON.stringify(u),saveTime:(new Date).getTime()};this.saveStudentAnswerToLocalStorage(e,o,f)}saveStudentAnswerToLocalStorage(s,e,o){this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+s.id+"_"+e,JSON.stringify(this.encryptionHelper.payload(o)),[s.id.toString(),s.hashId??""])}getStudentAnswerFromLocalStorage(s,e){var o=this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+s.id+"_"+e)??"");return this.encryptionHelper.result({success:1,version:"",code:1,detailMessage:"",message:"",data:o})?.data}removeStudentAnswerInLocalStorage(s,e){this.browserStorageService.removeSimpleStorage(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+s.id+"_"+e)}getResultTrackFromLocalStorage(s,e){let o=this.browserStorageService.getSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(s.hashId??"")+"_"+e);return this.commonService.myParseJson(o??"")??[]}setResultTracking(s,e){if(!s.termExamResultId)return s;let o=s.termExamResultId,a=s.examObj,i=s.resultTracks;return i.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(a.hashId??"")+"_"+o,JSON.stringify(i),[a.id.toString(),a.hashId??""]),s.resultTracks=i,s}removeResultTracking(s,e){this.browserStorageService.removeSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+s.hashId+"_"+e)}constructor(s,e,o,a){this.commonService=s,this.encryptionHelper=e,this.timeService=o,this.browserStorageService=a,this.sAztTestDeviceIdService=new Je(this.browserStorageService),this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY="saveResultTrack_",this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY="saveDataV4_"}}var ir=m(41715);const Ke=()=>({"mr-2 text-success":!0});function rr(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.E5c(" ",t.bMT(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.bMT(3,5,"lang_auto_va")," ",t.bMT(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.bMT(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function lr(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function _r(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.bMT(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function cr(n,s){if(1&n&&(t.j41(0,"div",15)(1,"span",17)(2,"span",18),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,rr,6,11,"span",19)(6,lr,3,3,"span",19)(7,_r,4,5,"span",19),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_canh_bao")+": "," "),t.R7$(2),t.Y8G("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.R7$(),t.Y8G("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.R7$(),t.Y8G("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.R7$(2),t.SpI(" ",t.bMT(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function ur(n,s){if(1&n&&(t.qex(0),t.j41(1,"h3",9),t.nrm(2,"lucide-icon",10),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",11)(6,"span",12),t.EFF(7),t.nI1(8,"mytranslate"),t.nrm(9,"app-testbank-frontend-count-down-box",13),t.k0s()(),t.DNE(10,cr,11,9,"div",14),t.j41(11,"div",15)(12,"p",16),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(13,Ke)),t.R7$(),t.SpI(" ",t.bMT(4,7,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.R7$(4),t.SpI(" ",t.bMT(8,9,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.R7$(2),t.Y8G("totalSecond",e.data.countDownSecond)("useCountDown",!0),t.R7$(),t.Y8G("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.R7$(3),t.SpI(" ",t.bMT(14,11,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function pr(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.E5c(" ",t.bMT(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.bMT(3,5,"lang_auto_va")," ",t.bMT(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.bMT(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function mr(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function dr(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.bMT(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function gr(n,s){if(1&n&&(t.j41(0,"div",15)(1,"span",17)(2,"span",18),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,pr,6,11,"span",19)(6,mr,3,3,"span",19)(7,dr,4,5,"span",19),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_canh_bao")+": "," "),t.R7$(2),t.Y8G("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.R7$(),t.Y8G("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.R7$(),t.Y8G("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.R7$(2),t.SpI(" ",t.bMT(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function fr(n,s){if(1&n&&(t.j41(0,"h3",9),t.nrm(1,"lucide-icon",10),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,gr,11,9,"div",14),t.j41(5,"div",15)(6,"p",16),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.lJ4(8,Ke)),t.R7$(),t.SpI(" ",t.bMT(3,4,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.R7$(2),t.Y8G("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.R7$(3),t.SpI(" ",t.bMT(8,6,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function Tr(n,s){1&n&&(t.j41(0,"span",20),t.nrm(1,"azt-loading-ui"),t.k0s())}let hr=(()=>{var n;class s extends X._{enableSubmitBtn(){this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable>0&&(this.countTimeEnable--,this.enableSubmitBtn())},1e3):this.countTimeEnable=0}btnCloseDialog(){this.dialogRef.close(!1)}confirmFinish(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit(),this.enableSubmitBtn()}constructor(o,a,i,r){super(r,i),this.commonService=o,this.globalService=a,this.dialogRef=i,this.countTimeEnable=5}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(V.R),t.rXU(ir.r),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-confirm-exam-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:14,vars:11,consts:[["unlimitedTpl",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[4,"ngIf","ngIfElse"],[1,"p-3","flex","justify-end"],["azt-track-service","comfirm-exam-GwLo2uv__",1,"btn","btn-secondary","w-40","mr-2",2,"vertical-align","middle",3,"click"],["azt-track-service","comfirm-exam-x-4M3WDlkE",1,"btn","w-40","btn-primary",2,"vertical-align","middle",3,"click","disabled"],["class","w-4 inline-block mr-2",4,"ngIf"],[1,"text-md","font-medium","flex","items-center"],["name","file-check-2","size","24",3,"ngClass"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"text-danger"],[1,"font-medium"],[4,"ngIf"],[1,"w-4","inline-block","mr-2"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.DNE(3,ur,15,14,"ng-container",4)(4,fr,9,9,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(6,"div",5)(7,"button",6),t.bIt("click",function(){return t.eBV(i),t.Njj(a.btnCloseDialog())}),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"button",7),t.bIt("click",function(){return t.eBV(i),t.Njj(a.confirmFinish())}),t.DNE(11,Tr,2,0,"span",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&o){const i=t.sdS(5);t.R7$(3),t.Y8G("ngIf",!a.data.isUnLimitedTime)("ngIfElse",i),t.R7$(5),t.SpI(" ",t.bMT(9,7,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",a.countTimeEnable>0),t.R7$(),t.Y8G("ngIf",a.countTimeEnable>0),t.R7$(),t.Lme(" ",t.bMT(13,9,"lang_auto_nop_bai")," ",a.countTimeEnable>0?"("+a.countTimeEnable+")":""," ")}},dependencies:[W,tt.R,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const br=()=>({"mr-2 text-pending":!0});let xr=(()=>{var n;class s extends X._{closeDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(o,a,i){super(i,a),this.commonService=o,this.dialogRef=a}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(V.R),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-essay-warning-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:17,vars:14,consts:[[1,"bg-white"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","badge-info","size","24",3,"ngClass"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],["azt-track-service","check-essay-_8FjX2B80z",1,"btn","w-24","btn-primary",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",5)(8,"p",6),t.EFF(9),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()()()(),t.j41(12,"div",7),t.nrm(13,"div",8),t.j41(14,"button",9),t.bIt("click",function(){return a.closeDialog()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(13,br)),t.R7$(),t.SpI(" ",t.bMT(6,5,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan")," "),t.R7$(4),t.Lme("",t.bMT(10,7,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.bMT(11,9,"lang_auto_dinh_kem_tu_luan"),'"'),t.R7$(6),t.SpI(" ",t.bMT(16,11,"lang_auto_toi_da_hieu")," "))},dependencies:[c.MD,c.YU,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const Sr=()=>({"mr-2 text-danger":!0});function kr(n,s){if(1&n&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"app-testbank-frontend-count-down-box",11),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.R7$(2),t.Y8G("totalSecond",e.data.countDownSecond)("useCountDown",!0)}}let vr=(()=>{var n;class s extends X._{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(o,a,i){super(i,a),this.commonService=o,this.dialogRef=a}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(V.R),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-exit-exam"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","triangle-alert","size","24",3,"ngClass"],["class","mt-5 flex items-center",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","exit-exam-kt6CrvSrn7",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","exit-exam-HDzj9p0Z53",1,"btn","w-24","btn-primary",3,"click"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,kr,5,5,"div",5),t.k0s()(),t.j41(8,"div",6)(9,"button",7),t.bIt("click",function(){return a.btnCloseDialog()}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",8),t.bIt("click",function(){return a.confirmQuit()}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(11,Sr)),t.R7$(),t.SpI(" ",t.bMT(6,5,"lang_testbank_frontend_are_your_sure_go_back")+" ?"," "),t.R7$(2),t.Y8G("ngIf",!a.data.isUnLimitedTime),t.R7$(3),t.SpI(" ",t.bMT(11,7,"lang_auto_dong")," "),t.R7$(3),t.SpI(" ",t.bMT(14,9,"lang_auto_xac_nhan")," "))},dependencies:[W,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();var Cr=m(37);const Ir=()=>({"mr-2 text-pending":!0});let yr=(()=>{var n;class s extends X._{confirmQuit(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit()}constructor(o,a,i){super(i,a),this.commonService=o,this.dialogRef=a}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(V.R),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-monitor-screen"]],standalone:!0,features:[t.Vt3,t.aNF],decls:16,vars:20,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","octagon-alert","size","24",3,"ngClass"],[1,"mb-0","h5"],[1,"p-3","text-right","items-center"],["azt-track-service","monitoring-dialog-dvRk43CCy8",1,"btn","w-24","btn-primary",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"p",5),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()()()(),t.j41(12,"div",6)(13,"button",7),t.bIt("click",function(){return a.confirmQuit()}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(19,Ir)),t.R7$(2),t.SjE(" ",t.bMT(7,7,"lang_auto_day_la_bai_thi_duoc"),' "',t.bMT(8,9,"lang_auto_giam_sat"),'"',t.bMT(9,11,"lang_auto__vui_long_bam"),' "',t.bMT(10,13,"lang_auto_xac_nhan"),'" ',t.bMT(11,15,"lang_auto_de_tiep_tuc_bai_thi")," "),t.R7$(8),t.SpI(" ",t.bMT(15,17,"lang_auto_xac_nhan")," "))},dependencies:[c.MD,c.YU,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();var vt=m(15766),Ze=m(47426),Or=m(95670),Er=m(4375);const wr=()=>({"mr-2 text-pending":!0}),gt=n=>({"mt-3":n});function Ar(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",18)(2,"div",19),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"input",20),t.k0s(),t.j41(6,"div",21)(7,"i"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(8,gt,0!==e.index)),t.R7$(3),t.SpI(" ",t.bMT(4,4,"lang_testbank_frontend_please_enter_full_name")," "),t.R7$(2),t.Y8G("formControl",o.anonymousFullNameFormControl),t.R7$(3),t.JRh(t.bMT(9,6,"lang_testbank_frontend_anonymous_account_need_enter_full_name"))}}function zr(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",18)(2,"div",19),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"input",20),t.k0s(),t.j41(6,"div",22)(7,"i"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(8,gt,0!==e.index)),t.R7$(3),t.SpI(" ",t.bMT(4,4,"lang_auto_mat_khau_bai_thi")," "),t.R7$(2),t.Y8G("formControl",o.passwordFormControl),t.R7$(3),t.JRh(t.bMT(9,6,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban"))}}function jr(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",18)(2,"div",19),t.EFF(3),t.k0s(),t.nrm(4,"input",20),t.k0s()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(3,gt,0!==e.index)),t.R7$(3),t.SpI(" ",o.textInputInfoField.title," "),t.R7$(),t.Y8G("formControl",o.textInputInfoField.textInputFormControl)}}function Rr(n,s){if(1&n&&(t.j41(0,"div",28)(1,"div",29)(2,"div",30),t.nrm(3,"input",31),t.k0s(),t.j41(4,"label",32,0),t.EFF(6),t.k0s()()()),2&n){const e=s.$implicit,o=s.index,a=t.sdS(5),i=t.XpG(2).index;t.R7$(3),t.Y8G("id","checkboxData_"+i+"_"+o)("formControl",e.checkboxFormControl),t.R7$(),t.FS9("matTooltip",e.optionName),t.Y8G("for","checkboxData_"+i+"_"+o)("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.R7$(2),t.SpI(" ",e.optionName," ")}}function Fr(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",23)(2,"div",24)(3,"span",25),t.EFF(4),t.k0s()(),t.j41(5,"div",26),t.DNE(6,Rr,7,7,"div",27),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(3,gt,0!==e.index)),t.R7$(4),t.JRh(o.checkboxInfoField.title),t.R7$(2),t.Y8G("ngForOf",o.checkboxInfoField.data)}}function Gr(n,s){if(1&n&&(t.j41(0,"div",34)(1,"div",29)(2,"div",30),t.nrm(3,"input",35),t.k0s(),t.j41(4,"label",32,0),t.EFF(6),t.k0s()()()),2&n){const e=s.$implicit,o=s.index,a=t.sdS(5),i=t.XpG(2),r=i.$implicit,_=i.index;t.R7$(3),t.Y8G("id","radioInfoField_"+_+"_"+o)("name",r.radioInfoField.title+"_"+r.radioInfoField.rawIndex)("formControl",r.radioInfoField.radioFormControl)("value",e.optionName),t.R7$(),t.FS9("matTooltip",e.optionName),t.Y8G("for","radioInfoField_"+_+"_"+o)("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.R7$(2),t.SpI(" ",e.optionName," ")}}function Dr(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",23)(2,"div",24)(3,"span",25),t.EFF(4),t.k0s()(),t.j41(5,"div",26),t.DNE(6,Gr,7,9,"div",33),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(3,gt,0!==e.index)),t.R7$(4),t.JRh(o.radioInfoField.title),t.R7$(2),t.Y8G("ngForOf",o.radioInfoField.data)}}function Mr(n,s){if(1&n&&(t.j41(0,"mat-option",42),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.FS9("value",e.optionName),t.R7$(),t.JRh(e.optionName)}}function Lr(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",36)(2,"span",37),t.EFF(3),t.k0s(),t.j41(4,"div",38)(5,"mat-form-field",39)(6,"mat-select",40),t.DNE(7,Mr,2,2,"mat-option",41),t.k0s()()()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(4,gt,0!==e.index)),t.R7$(3),t.JRh(o.dropDownMenuInfoField.title),t.R7$(3),t.Y8G("formControl",o.dropDownMenuInfoField.dropDownFormControl),t.R7$(),t.Y8G("ngForOf",o.dropDownMenuInfoField.data)}}function Qr(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",15),t.DNE(2,Ar,10,10,"div",16)(3,zr,10,10,"div",16)(4,jr,5,5,"div",16)(5,Fr,7,5,"div",16)(6,Dr,7,5,"div",16)(7,Lr,8,6,"div",16),t.k0s(),t.bVm()),2&n){const e=s.$implicit;t.R7$(2),t.Y8G("ngIf",e.anonymousFullNameFormControl),t.R7$(),t.Y8G("ngIf",e.passwordFormControl),t.R7$(),t.Y8G("ngIf",e.textInputInfoField),t.R7$(),t.Y8G("ngIf",e.checkboxInfoField),t.R7$(),t.Y8G("ngIf",e.radioInfoField),t.R7$(),t.Y8G("ngIf",e.dropDownMenuInfoField)}}function Nr(n,s){1&n&&(t.j41(0,"span",43),t.nrm(1,"azt-loading-ui"),t.k0s())}let Br=(()=>{var n;class s extends X._{handleConfirm(){this.initStatusObj();let a,o=[];this.infoObjs.forEach(i=>{let r={contents:[]};i.checkboxInfoField&&(r.index=i.checkboxInfoField.rawIndex,r.type=i.checkboxInfoField.type,r.title=i.checkboxInfoField.title,r.isFullName=i.checkboxInfoField.isFullName,i.checkboxInfoField.data.forEach(_=>{_.checkboxFormControl.value&&r.contents.push(_.optionName)}),o.push(r)),i.radioInfoField&&(r.index=i.radioInfoField.rawIndex,r.type=i.radioInfoField.type,r.title=i.radioInfoField.title,r.isFullName=i.radioInfoField.isFullName,r.contents.push(i.radioInfoField.radioFormControl.value),o.push(r)),i.dropDownMenuInfoField&&(r.index=i.dropDownMenuInfoField.rawIndex,r.type=i.dropDownMenuInfoField.type,r.title=i.dropDownMenuInfoField.title,r.isFullName=i.dropDownMenuInfoField.isFullName,r.contents.push(i.dropDownMenuInfoField.dropDownFormControl.value),o.push(r)),i.textInputInfoField&&(r.index=i.textInputInfoField.rawIndex,r.type=i.textInputInfoField.type,r.title=i.textInputInfoField.title,r.isFullName=i.textInputInfoField.isFullName,r.contents.push(i.textInputInfoField.textInputFormControl.value),o.push(r))}),this.data.obj.enterAnonymousFullNameRequired&&(a=this.form.controls.anonymousFullNameFormControl?.value,this.hasFullNameFieldInConfigData&&(a=this.commonService.getFirstOfArray(o.find(i=>i.isFullName)?.contents??[]))),this.updateAnonymousFullName(a,i=>{i&&this.showErrorSnack(i),this.data.obj.passwordRequired&&new D(this.data.obj.examObj.hashId??"",this.browserStorageService).savePassword(this.form.controls.passwordFormControl?.value),this.data.obj.enterInfoRequired&&new D(this.data.obj.examObj.hashId??"",this.browserStorageService).saveInfo(JSON.stringify(o)),this.dialogRef.close(!0)})}updateAnonymousFullName(o,a){if(null==o)return a(void 0);this.waitDestroy(this.userInfoService.apiUserInfoChangeNamePost({id:0,name:o}).subscribe(i=>a(i.success?void 0:i.message)))}initFieldForm(){this.data.obj.enterAnonymousFullNameRequired&&!this.hasFullNameFieldInConfigData&&this.form.controls.anonymousFullNameFormControl&&(this.form.controls.anonymousFullNameFormControl.setValue(""),this.infoObjs.push({anonymousFullNameFormControl:this.form.controls.anonymousFullNameFormControl})),this.data.obj.passwordRequired&&this.form.controls.passwordFormControl&&(this.form.controls.passwordFormControl.setValue(""),this.infoObjs.push({passwordFormControl:this.form.controls.passwordFormControl})),new D(this.data.obj.examObj.hashId??"",this.browserStorageService).hasInfo()||this.data.obj.infoFields.forEach((o,a)=>{switch(o.type){case 1:let i={checkboxInfoField:{rawIndex:a,type:o.type,title:o.title??"",isFullName:o.isFullName??!1,data:[],checkboxFormArray:new p.Yp([],$r(1))}};o.contents.forEach((v,E)=>{i.checkboxInfoField?.data.push({index:E,optionName:v,checkboxFormControl:new p.MJ(!1,{nonNullable:!0})})}),i.checkboxInfoField?.data.forEach(v=>i.checkboxInfoField?.checkboxFormArray.push(v.checkboxFormControl)),this.infoObjs.push(i);break;case 2:let r=this.commonService.getFirstOfArray(o.contents),_={radioInfoField:{rawIndex:a,type:o.type,title:o.title??"",isFullName:o.isFullName??!1,data:[],radioFormControl:new p.MJ(r??"",{nonNullable:!0,validators:[vt.M.noWhiteSpace]})}};o.contents.forEach((v,E)=>{_.radioInfoField?.data.push({index:E,optionName:v})}),this.infoObjs.push(_);break;case 3:let u={dropDownMenuInfoField:{rawIndex:a,type:o.type,title:o.title??"",isFullName:o.isFullName??!1,data:[],dropDownFormControl:new p.MJ("",{nonNullable:!0,validators:[vt.M.noWhiteSpace]})}};o.contents.forEach((v,E)=>{u.dropDownMenuInfoField?.data.push({index:E,optionName:v})}),this.infoObjs.push(u);break;default:let f={textInputInfoField:{rawIndex:a,type:o.type??0,title:o.title??"",isFullName:o.isFullName??!1,textInputFormControl:new p.MJ("",{nonNullable:!0,validators:[vt.M.noWhiteSpace]})}};this.infoObjs.push(f)}}),this.infoObjs.forEach(o=>{o.anonymousFullNameFormControl&&(this.form.controls.anonymousFullNameFormControl=o.anonymousFullNameFormControl),o.passwordFormControl&&(this.form.controls.passwordFormControl=o.passwordFormControl),o.checkboxInfoField&&this.form.controls.checkboxInfoField?.push(o.checkboxInfoField.checkboxFormArray),o.radioInfoField&&this.form.controls.radioInfoField?.push(o.radioInfoField.radioFormControl),o.dropDownMenuInfoField&&this.form.controls.dropDownMenuInfoField?.push(o.dropDownMenuInfoField.dropDownFormControl),o.textInputInfoField&&this.form.controls.textInputInfoField?.push(o.textInputInfoField.textInputFormControl)})}goBack(){let o=this.commonService.getMyQueryParam("backto")??"";this.commonService.myNavigationWithQueryString("/de-thi/"+this.data.obj.examObj.hashId,"?backto="+encodeURIComponent(o))}ngOnInit(){super.ngOnInit(),this.hasFullNameFieldInConfigData=null!=this.data.obj.infoFields.find(o=>o.isFullName),this.initFieldForm()}constructor(o,a,i,r){super(r,i),this.userInfoService=o,this.browserStorageService=a,this.dialogRef=i,this.form=new p.gE({passwordFormControl:new p.MJ("empty",{nonNullable:!0,validators:[vt.M.noWhiteSpace]}),anonymousFullNameFormControl:new p.MJ("empty",{nonNullable:!0,validators:[vt.M.noWhiteSpace]}),checkboxInfoField:new p.Yp([]),radioInfoField:new p.Yp([]),dropDownMenuInfoField:new p.Yp([]),textInputInfoField:new p.Yp([])}),this.infoObjs=[],this.hasFullNameFieldInConfigData=!1}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(ee.fv),t.rXU(oe.z),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-submit-info"]],standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:19,consts:[["c","isDisabled"],["id","test-info-form","autocomplete","off",3,"formGroup"],[1,"box"],[1,"border-b","border-slate-200","dark:border-darkmode-400"],[1,"p-3","mb-0","border-b","border-slate-200","dark:border-darkmode-400"],[1,"intro-x","font-bold","flex","items-center"],["name","octagon-alert","size","24",3,"ngClass"],[1,"intro-x","text-xs","text-slate-600","mt-1"],[1,"mt-3","pb-3"],[3,"defaultHeight"],[4,"ngFor","ngForOf"],[1,"text-right","p-3"],["type","button",1,"btn","w-32","btn-secondary","mr-2",3,"keydown.enter","click"],["azt-track-service","submit-info-5wWwRj07M5L","type","submit",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"px-2",2,"margin-left","5px"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"input-group"],[1,"input-group-text","font-medium","whitespace-nowrap",2,"min-width","134px"],["type","text",1,"form-control",3,"formControl"],[1,"pt-1","text-xs"],[1,"pt-1","text-xs","text-danger"],[1,"border","border","border-slate-200","dark:border-darkmode-400","rounded-md"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","border-b","border-slate-200","dark:border-darkmode-400"],[1,"font-medium"],[1,"grid","grid-cols-12","gap-3","p-3"],["class","col-span-12 md:col-span-4 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4","mb-1"],[1,"flex","items-center"],[1,"form-check","mr-2"],["type","checkbox",1,"form-check-input","ml-2",3,"id","formControl"],[1,"cursor-pointer","truncate",3,"for","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","col-span-12 sm:col-span-12 md:col-span-4 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","mb-1"],["type","radio",1,"form-check-input","ml-2",3,"id","name","formControl","value"],[1,"input-group","w-full"],[1,"input-group-text","font-medium","whitespace-nowrap",2,"min-width","134px","transform","translateX(3px)","z-index","2"],[1,"w-full","overflow-hidden"],["appearance","outline"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,a){1&o&&(t.j41(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),t.nrm(5,"lucide-icon",6),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"h6",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",8)(12,"azt-mat-dialog-content",9),t.DNE(13,Qr,8,6,"ng-container",10),t.k0s()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("keydown.enter",function(r){return r.preventDefault()})("click",function(){return a.goBack()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return a.handleConfirm()}),t.DNE(19,Nr,2,0,"span",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&o&&(t.Y8G("formGroup",a.form),t.R7$(5),t.Y8G("ngClass",t.lJ4(18,wr)),t.R7$(),t.SpI(" ",t.bMT(7,10,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")," "),t.R7$(3),t.SpI(" ",t.bMT(10,12,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")," "),t.R7$(3),t.Y8G("defaultHeight",55),t.R7$(),t.Y8G("ngForOf",a.infoObjs),t.R7$(3),t.SpI(" ",t.bMT(17,14,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!a.form.valid||a.statusObj.loading),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(21,16,"lang_auto_xac_nhan")," "))},dependencies:[at.f,kt.U,tt.R,c.MD,c.YU,c.Sq,c.bT,p.X1,p.qT,p.me,p.Zm,p.Fm,p.BC,p.cb,p.l_,p.j4,l.iI,p.YN,g.wp,b.s,Ze.wT,Or.rl,Er.VO,H.oV,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();function $r(n=1){return e=>e.getRawValue().filter(a=>a).length>=n?null:{required:!0}}var Yr=m(57654);const Pr=()=>({"mr-2":!0});let Xr=(()=>{var n;class s extends S.H{copyLinkToClipboard(o){return o}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}bindUrlToQrCode(o){this.urlToUploadEssayFilesInMobile=`${this.commonService.getCurrentDomain()}/n/${o}`}ngOnInit(){super.ngOnInit(),this.bindUrlToQrCode(this.uploadHashCode)}constructor(){super(),this.urlToUploadEssayFilesInMobile=""}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-qr-code-of-upload-essay-files"]],inputs:{uploadHashCode:"uploadHashCode"},standalone:!0,features:[t.Vt3,t.aNF],decls:16,vars:15,consts:[[1,"p-2","mt-3"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"mt-3"],[1,"mt-2","flex","items-center"],["type","text","readonly","",1,"w-full","p-2","bg-white","mr-2",3,"value"],["azt-track-service","upload-image-X_utJrb2bC",1,"btn","btn-outline-primary","flex-none",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"],[1,"ml-2",3,"fileName","linkUrl"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"div"),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",4),t.nrm(10,"input",5),t.j41(11,"button",6),t.bIt("click",function(){return a.clickCopyLink()}),t.nrm(12,"lucide-icon",7),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.nrm(15,"azt-download-qr-code",8),t.k0s()()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,8,"lang_auto_hoac_nop_bang_dien_thoai")),t.R7$(4),t.SpI(" ",t.bMT(8,10,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len")," "),t.R7$(3),t.FS9("value",a.urlToUploadEssayFilesInMobile),t.R7$(),t.Y8G("cdkCopyToClipboard",a.copyLinkToClipboard(a.urlToUploadEssayFilesInMobile)),t.R7$(),t.Y8G("ngClass",t.lJ4(14,Pr)),t.R7$(),t.SpI(" ",t.bMT(14,12,"lang_auto_sao_chep")," "),t.R7$(2),t.Y8G("fileName","azota_upload_essay_files")("linkUrl",a.copyLinkToClipboard(a.urlToUploadEssayFilesInMobile)))},dependencies:[bt.d,c.MD,c.YU,p.X1,l.iI,p.YN,g.wp,b.s,Ne.dF,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();function Vr(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-azt-essay-files-upload-box",3),t.bIt("changeEssayFilesEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.changeEssayFiles(a))})("cancelChangeEssayFilesEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.cancelChangeEssayFiles())})("uploadActionsEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadActionsEvent(a))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("uploadHashCode",e.data.uploadHashCode)("showCancelButton",!0)}}function Ur(n,s){if(1&n&&t.nrm(0,"app-coazt-qr-code-of-upload-essay-files",4),2&n){const e=t.XpG();t.Y8G("uploadHashCode",e.data.uploadHashCode)}}let qr=(()=>{var n;class s extends X._{changeEssayFiles(o){this.data.isFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.dialogRef.close(o)}cancelChangeEssayFiles(){this.data.isFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.dialogRef.close(void 0)}uploadActionsEvent(o){return"SELECT_FILE"==o?(this.sAztFullScreenVisibleService.setAllowTrackFullScreenStatus(!1),void this.sAztFullScreenVisibleService.setAllowTrackVisibleStatus(!1)):"SELECTED"==o?this.sAztFullScreenVisibleService.setAllowTrackVisibleStatus(!0):void 0}constructor(o,a,i){super(i,a),this.sAztFullScreenVisibleService=o,this.dialogRef=a,this.sAztFullScreenService=new it}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(Dt),t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-upload-essay-files-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:3,consts:[["scrollViewport","","pointerEventsMethod","scrollbar",1,"upload-essay-dialog-box",2,"--scrollbar-size","5px","height","100%",3,"visibility"],[3,"uploadHashCode","showCancelButton","changeEssayFilesEvent","cancelChangeEssayFilesEvent","uploadActionsEvent",4,"ngIf"],[3,"uploadHashCode",4,"ngIf"],[3,"changeEssayFilesEvent","cancelChangeEssayFilesEvent","uploadActionsEvent","uploadHashCode","showCancelButton"],[3,"uploadHashCode"]],template:function(o,a){1&o&&(t.j41(0,"ng-scrollbar",0),t.DNE(1,Vr,1,2,"app-azt-essay-files-upload-box",1)(2,Ur,1,1,"app-coazt-qr-code-of-upload-essay-files",2),t.k0s()),2&o&&(t.Y8G("visibility","hover"),t.R7$(),t.Y8G("ngIf",a.data.uploadHashCode),t.R7$(),t.Y8G("ngIf",!a.isMobileDevice&&a.data.uploadHashCode))},dependencies:[Yr.t,Xr,c.MD,c.bT,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,T.Yh,T.Gl,x.k],encapsulation:2}),s})(),ce=(()=>{var n;class s extends S.H{onResize(){this.isMobileScreenSize=(new We).checkByWidth()}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+(this.hashId?this.hashId:this.currentTakeTestStepData.examObj.hashId),"?backto="+encodeURIComponent(this.backToLink))}checkScrollToShowTopBar(){return window.scrollY>50}selectStudentEvent(o){this.getInitDataFromApi()}showUploadEssayFilesDialog(){this.sAztFullScreenVisibleService.reset(),document.getElementById("monitorScreenTakeTest")?.style.setProperty("display","none"),this.currentTakeTestStepData.essayQuestionSubmitting=!0,this.sAztDialogService.open(qr,{data:{uploadHashCode:this.currentTakeTestStepData.uploadHashCode,isFullScreenRequired:this.currentTakeTestStepData.showFullScreenRequired},restoreFocus:!1,width:"100vw",maxWidth:"100vw",height:"100vh",backdropClass:"azt-backdrop-full-width-height",disableClose:!0}).afterClosed().subscribe(a=>{this.currentTakeTestStepData.essayQuestionSubmitting=!1,this.sAztFullScreenVisibleService.reset(),null!=a&&(window.scrollTo({top:0}),this.currentTakeTestStepData.files=a,window.scrollTo({top:0}),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.currentTakeTestStepData.showFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.openVideoMonitor())})}changeAnswerFiles(o){this.currentTakeTestStepData.files=o,this.sAztTakeTestCallApiService.updateEssayFilesToApi(this.currentTakeTestStepData).then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}checkVipOrBasicExam(o,a){if(this.isBusinessDomain||this.isMobileWebView)return a(!0);this.waitDestroy(this.frontVipService.apiFrontVipCheckVipOrBasicObjectGet(o,"exam").subscribe(i=>{if(!i.success||i.data)return a(!0);this.checkAttempsExam(o,a)}))}redirectToVipUpgrade(){this.myNavigationWithQueryString("/auth/vip-packages/studentVip",`?backto=${encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale())}&trackingKey=TAKE_TEST`)}checkAttempsExam(o,a){this.waitDestroy(this.commonService.wrapApiResponse(this.studentPracticeService.aiApiV1StudentPracticeCanAttemptExamGet(o)).subscribe(i=>{if(!i.success||i.data?.value)return a(!0);a(!1)}))}openVideoMonitor(){this.currentTakeTestStepData.showVideoRequired&&(document.getElementById("monitorScreenTakeTest")?.style?.setProperty("display","block"),this.sAztShowMonitorService.monitorAtTestPage({roomId:this.hashId,examConfig:this.currentTakeTestStepData.examObj,examId:this.currentTakeTestStepData.examObj.id,resultId:this.currentTakeTestStepData.termExamResultId,userList:[]},this.currentTakeTestStepData.testingUserObj,o=>{o&&(this.currentTakeTestStepData.isShowVideoMonitor=!0)}))}intervalExamTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const o=new xt.B,a=(0,St.Y)(1e3).pipe((0,At.Q)(o));this.waitDestroy(a.subscribe(i=>{if(this.currentTakeTestStepData.countDownSecond<=0)this.getServerTime(r=>{if(this.currentTakeTestStepData.countDownSecond<=0)return this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(this.currentTakeTestStepData.answerList,this.currentTakeTestStepData.viewQuestionObjs),this.currentTakeTestStepData.isAutoSubmit=!0,this.processByStep(k.RUN_OUT_OF_TIME_AFTER_TEST,this.currentTakeTestStepData),this.sAztDialogService.dialog.closeAll(),o.next(!0)});else{let r=this.timeService.getCurrentSecond();this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.rawCountDownSecond-(r-this.currentTakeTestStepData.clientTimeSecond),this.currentTakeTestStepData=this.sAztTestQuestionService.calculateNewCountDown(this.currentTakeTestStepData)}}))}intervalToGetServerTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const o=new xt.B,a=(0,St.Y)(1e3*this.commonService.getRandomNumber(200,300)).pipe((0,At.Q)(o));this.waitDestroy(a.subscribe(i=>{this.getServerTime(r=>{})}))}getServerTime(o){this.waitDestroy(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(a=>{a.success&&a.data?.curServerTime?(this.currentTakeTestStepData.currentServerTime=a.data.curServerTime,this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.startTestTimeAtServerTime+60*(this.currentTakeTestStepData.examObj.minutes??0)-this.currentTakeTestStepData.currentServerTime,this.currentTakeTestStepData.clientTimeSecond=this.timeService.getCurrentSecond(),this.currentTakeTestStepData.rawCountDownSecond=this.currentTakeTestStepData.countDownSecond,this.currentTakeTestStepData=this.sAztTestQuestionService.calculateNewCountDown(this.currentTakeTestStepData),o(!0)):o(!1)}))}intervalToSendTestDataToApi(){const o=new xt.B,a=(0,St.Y)(1e3*this.commonService.getRandomNumber(120,180)).pipe((0,At.Q)(o));this.waitDestroy(a.subscribe(i=>{this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData)}))}openQuitDialog(){this.sAztDialogService.open(vr,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(a=>{a&&this.goBackToExamDetails()})}openSubmitExam(){let o=this.currentTakeTestStepData.answerList.filter(r=>!this.commonService.isExistInArray(this.currentTakeTestStepData.essayQuestionIds,r.questionId)).length;this.sAztDialogService.open(hr,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime,notHasFiles:this.currentTakeTestStepData.hasEssayQuestion&&0==this.currentTakeTestStepData.files.length,totalTrueFalseLeftBlank:this.currentTakeTestStepData.countQuestion-this.currentTakeTestStepData.countEssayQuestion-o},restoreFocus:!1,width:"550px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(r=>{r&&this.submitTestToApi(!1)})}sendAudioForQuestion(o){this.currentTakeTestStepData=this.sAztTestAudioService.sendAudioForQuestion(this.currentTakeTestStepData,o)}setResultTracking(o){this.currentTakeTestStepData=this.sAztTestResultTrackService.setResultTracking(this.currentTakeTestStepData,o)}setQuestionTrueFalseAnswer(o){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionTrueFalseAnswer(this.currentTakeTestStepData,o),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTestQuestionService.isShowAnswerStatusBox=!1}setQuestionOneChoiceAnswer(o){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionOneChoiceAnswer(this.currentTakeTestStepData,o),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTestQuestionService.isShowAnswerStatusBox=!1}checkAnswerQuestionByApi(){if(!this.currentTakeTestStepData||"training"!=this.modeViewTest||!this.sAztTestQuestionService.checkQuestionHasAnswer(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id))return;let o=this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj,a={questionId:o.id,answerContent:[{index:999,content:""}]};const i={examResultId:this.currentTakeTestStepData.termExamResultId,answer:this.sAztTestQuestionService.getAnswerOfQuestion(this.currentTakeTestStepData,o.id)??a};this.answerTypeService.isTrueFalseAnswer(o)&&i.answer&&i.answer.answerContent.length<o.answers.length||(this.sAztTestQuestionService.isCheckingAnswer=!0,this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveQuestionResultEncryptPost(this.encryptionHelper.payload(i),this.currentTakeTestStepData.examObj.hashId).subscribe(r=>{if(!r.success)return this.sAztTestQuestionService.isCheckingAnswer=!1,this.errorStatusObj(r.message,!0);let _=r.data;o.numberOfChecks=(o.numberOfChecks??0)+1,this.sAztTestQuestionService.isShowAnswerStatusBox=!0,o.practiceCheckAnswer=_?.correct?"correct":"wrong","correct"==o.practiceCheckAnswer&&(this.sAztTestQuestionService.isShowSuccessAnimationBox=!0,this.currentTakeTestStepData?.nextBackQuestionModel.isLastQuestion||(this.sAztTestQuestionService.trainingAudioSuccess.play(),setTimeout(()=>{this.sAztTestQuestionService.trainingAudioSuccess.pause(),this.nextQuestion(o.id)},2e3))),"correct"!==o.practiceCheckAnswer&&(this.sAztTestQuestionService.hasWrongAnswer=!0),this.sAztTestQuestionService.isCheckingAnswer=!1})))}nextQuestion(o){this.currentTakeTestStepData&&this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id==o&&(this.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion||(this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj),this.sAztTestQuestionService.isShowSuccessAnimationBox=!1))}setQuestionFillAnswer(o){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionFillAnswer(this.currentTakeTestStepData,o),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}setQuestionEssayAnswer(o){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionEssayAnswer(this.currentTakeTestStepData,o),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}submitTestToApi(o){if(this.isSubmittingAnswer)return;this.isSubmittingAnswer=!0,this.initStatusObj();var a=new D(this.hashId,this.browserStorageService).getInfo(),i=this.commonService.myClone(this.currentTakeTestStepData.resultTracks);let r=JSON.stringify({type:"exam",id:this.currentTakeTestStepData.examObj.id,user:this.currentTakeTestStepData.examObj.tenantId});var _={autoSubmit:o,serverCountDown:this.currentTakeTestStepData.countDownSecond,examMinutes:this.currentTakeTestStepData.examObj.minutes,saveStudentId:this.currentTakeTestStepData.testingUserObj.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()};let u={answers:this.currentTakeTestStepData.answerList,notes:[],files:JSON.stringify(this.currentTakeTestStepData.files),infors:a,trackInfos:JSON.stringify(_),resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(i)),saveTime:0,id:this.currentTakeTestStepData.termExamResultId??0};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(u),r,this.hashId).subscribe(f=>f.success?"capacity"==this.modeViewTest&&f.data?.nextExamObj?.hashId?(this.isSubmittingAnswer=!1,void this.recallApiForNextExam()):(this.sAztTestQuestionService.clearAllData(this.currentTakeTestStepData),void this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+f.data?.id,"?backto="+encodeURIComponent(this.backToLink)+("capacity"==this.modeViewTest?"&capacity=1":""))):o?(this.showErrorSnack(f.message),void setTimeout(()=>{this.isSubmittingAnswer=!1,this.submitTestToApi(!0)},5e3)):(this.isSubmittingAnswer=!1,void this.errorStatusObj(f.message,!0))))}recallApiForNextExam(){new D(this.currentTakeTestStepData.examObj.hashId??"",this.browserStorageService).removeInfo(),this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.currentTakeTestStepData.examObj.hashId+"_"+this.currentTakeTestStepData.termExamResultId),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.currentTakeTestStepData.examObj.hashId+"_"+this.currentTakeTestStepData.termExamResultId),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.currentTakeTestStepData.examObj.id+"_"+this.currentTakeTestStepData.termExamResultId),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+this.currentTakeTestStepData.examObj.id+"_"+this.currentTakeTestStepData.termExamResultId),this.localStorageObject.clearAllCache();let o=new D(this.hashId,this.browserStorageService).getPassword(),a=new D(this.hashId,this.browserStorageService).hasInfo(),i=Q.c.production||Q.c.isProdAzotaVn;this.destroyAllSubs(),this.initStatusObj(),this.waitDestroy(i?this.frontExamService.apiFrontExamInitDataGet(this.hashId,o,a?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(r=>{const _=this.encryptionHelper.result(r);this.processInitData(""!=o,_)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,o,a?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(r=>{this.processInitData(""!=o,r)}))}processInitData(o,a){if(!(a&&a?.success&&a?.data&&a.data.examObj))return this.currentTakeTestStepData=void 0,this.forceShowErrorBox(a?.message??"");const i=this.userService.getUserObj();let r=a?.data?.errorMessage??"",_=""!=r,u={examObj:a.data.examObj,examConfigObj:a.data.examConfigObj,infoFields:this.commonService.myParseJson(a.data.examObj.infoFieldsV2??"")??[],authUserObj:i,studentObj:a.data.studentObj,termExamResultId:a.data.testingExamResultObj?.id,testingResultObj:a.data.testingExamResultObj,testingUserObj:this.homeworkExamService.mustInClassroom(a.data.examObj)?a.data.studentObj??i:i,uploadHashCode:a.data?.hashCodeUpload??"",currentStep:k.INIT,sequenceSteps:[k.SHOW_ESSAY_WARNING_DIALOG,k.SHOW_FULL_SCREEN,k.SHOW_VIDEO_REQUIRED],questionTestObjs:a.data.questionObjs,viewQuestionObjs:this.commonService.castJsonToClassObjs(Ae.I,JSON.stringify(a.data.questionObjs))??[],viewQuestionInGroupList:[],hasEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(a.data.questionObjs).length>0,countEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(a.data.questionObjs).length,essayQuestionIds:this.sAztTestQuestionService.getEssayQuestionIds(a.data.questionObjs),countQuestion:a.data.questionObjs.length,isAnonymousUser:this.userService.isAnonymousRoleOfCurrentUser(),isShowVideoMonitor:!1,startTestTimeAtServerTime:a.data?.startServerSecond??0,currentServerTime:a.data?.currentServerSecond??0,countDownSecond:a.data?.countDownSecond??0,rawCountDownSecond:a.data?.countDownSecond??0,isUnLimitedTime:(a.data.examObj.minutes??0)<=0,clientTimeSecond:this.timeService.getCurrentSecond(),isAutoSubmit:!1,isActualEndTime:!1,allowUploadEssayFileWhenEndTime:!0,autoSubmitAfterSeconds:void 0,loginRequired:!1,errorMessage:r,oldOrNotFoundResult:"lang_core_not_found_result_or_old_result"===r,cantTakeTestOnline:"lang_testbank_offline_exam_cant_be_test_online"===r,waitToTestTime:"lang_core_time_smaller_than_start_time"===r,isUnPurchased:"lang_core_does_not_owner_exam"===r,passwordRequired:"lang_core_exam_password_invalid"===r,isInvalidPassword:"lang_core_exam_password_invalid"===r&&o,isOnlyApp:1==a.data.examConfigObj?.allowAppOnly&&!this.isMobileWebView&&!a.data.examConfigObj?.allowWebUserIds?.includes(i.id),essayQuestionSubmitting:!1,showFullScreenRequired:null!=a.data.examObj.autoMonitor&&0!=a.data.examObj.autoMonitor&&!this.isMobileDevice,showVideoRequired:null!=a.data.examObj.autoMonitor&&3==a.data.examObj.autoMonitor,enterAnonymousFullNameRequired:!!this.userService.isAnonymousName(this.userService.getUserObj()),enterInfoRequired:!1,chooseStudentRequired:!1,chooseCapacityExamRequired:"lang_core_there_are_not_testing_component_for_capacity_exam"==r&&"WAITING"!==a.data.capacityTestStatus,capacityExamIntro:"WAITING"===a.data.capacityTestStatus,isRunOutOfTime:!1,resultTracks:[],files:[],answerList:[],trainingAnswerQuestions:void 0,nextBackQuestionModel:void 0,hasAlreadyGenerateQuestion:!1,hasAlreadyRunIntervalCountDown:!1,capacityComponent:a.data.capacityComponent,waitingTime:120};return u=this.sAztTestQuestionService.calculateNewCountDown(u),this.commonService.translateMetaData({title:u.examObj.name,description:u.examObj.name}),u.testingResultObj&&(u.resultTracks=this.sAztTestResultTrackService.getResultTrackFromLocalStorage(u.examObj,u.testingResultObj.id),u.viewQuestionObjs=this.sAztTestQuestionService.changeQuestionContent(u.examObj,u.testingResultObj.id,u.viewQuestionObjs),this.sAztTestAudioService.saveAudioLimitStorage(u.examObj,u.testingResultObj.id,u.viewQuestionObjs)),u.viewQuestionObjs=this.sAztTestQuestionService.resetQuestionIndex(u.viewQuestionObjs,u.examConfigObj?.resetQuestionIndex??!1),u=this.sAztTestNextBackQuestionService.init(u),this.sAztTestQuestionService.convertViewQuestionToQuestionInGroup(u),u.enterInfoRequired=1==u.examObj.enterInfo&&u.infoFields.length>0&&!new D(this.hashId,this.browserStorageService).hasInfo(),u.loginRequired=!this.homeworkExamService.allowAnonymousUser(u.examObj)&&u.isAnonymousUser||u.isOnlyApp&&u.isAnonymousUser,u.chooseStudentRequired=this.homeworkExamService.mustInClassroom(u.examObj)&&null==u.studentObj,u.isRunOutOfTime=!_&&u.countDownSecond<=0&&!u.isUnLimitedTime,this.processByStep(u.loginRequired?k.LOGIN_DIALOG:u.cantTakeTestOnline||u.oldOrNotFoundResult?k.SHOW_ERROR_MESSAGE:u.isOnlyApp?k.SHOW_APP_ONLY_MESSAGE:u.isUnPurchased?k.PAYMENT_DIALOG:u.passwordRequired||u.enterAnonymousFullNameRequired||u.enterInfoRequired?k.INFO_REQUIRED_DIALOG:u.waitToTestTime?k.WAIT_TO_TEST_TIME:u.chooseStudentRequired?k.CHOOSE_STUDENT:u.isRunOutOfTime?k.RUN_OUT_OF_TIME_WHEN_F5:u.chooseCapacityExamRequired?k.CAPACITY_EXAM_SELECT:u.capacityExamIntro?k.CAPACITY_EXAM_INTRO:_?k.SHOW_ERROR_MESSAGE:k.SEQUENCE_STEP,u)}processByStep(o,a){return this.currentTakeTestStepData=a,this.currentTakeTestStepData.currentStep=o,o==k.SHOW_ERROR_MESSAGE||o==k.SHOW_APP_ONLY_MESSAGE?this.stopStatusObj():o==k.LOGIN_DIALOG?(this.sAztDialogService.open(Cr.J,{data:{},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}),this.stopStatusObj()):o==k.PAYMENT_DIALOG?(this.sAztDialogService.open(Ji.Q,{data:{examObj:a.examObj},restoreFocus:!1,width:"100vw",maxWidth:"100vw",height:"100vh",backdropClass:"azt-backdrop-full-width-height",disableClose:!0}).afterClosed().subscribe(_=>{"close"==_&&this.myNavigation(`/de-thi/${a.examObj.hashId}`)}),this.stopStatusObj()):o==k.INFO_REQUIRED_DIALOG?(this.sAztDialogService.open(Br,{data:{obj:a},restoreFocus:!1,width:"750px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(r=>{r&&this.getInitDataFromApi()}),this.stopStatusObj()):o==k.RUN_OUT_OF_TIME_WHEN_F5||o==k.RUN_OUT_OF_TIME_AFTER_TEST?this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,a,i=>(this.currentTakeTestStepData=i,this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(a.answerList,a.viewQuestionObjs),this.stopStatusObj())):o==k.CHOOSE_STUDENT||o==k.CAPACITY_EXAM_SELECT||o==k.CAPACITY_EXAM_INTRO||o==k.WAIT_TO_TEST_TIME?this.stopStatusObj():o==k.SEQUENCE_STEP?this.startShowTestContent(a,i=>{if(i)return this.setProcessToErrorStep(i);let r=this.commonService.getFirstOfArray(a.sequenceSteps);return a.sequenceSteps=a.sequenceSteps.filter(_=>_!=r),this.processByStep(r||k.START_TEST,a)}):o==k.SHOW_ESSAY_WARNING_DIALOG?a.hasEssayQuestion?(this.sAztDialogService.open(xr,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>{this.processByStep(k.SEQUENCE_STEP,a)}),this.stopStatusObj()):this.processByStep(k.SEQUENCE_STEP,a):o==k.SHOW_FULL_SCREEN?a.showFullScreenRequired?(this.sAztDialogService.open(yr,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>(this.sAztFullScreenService.showFullScreen(),this.processByStep(k.SEQUENCE_STEP,a))),this.stopStatusObj()):this.processByStep(k.SEQUENCE_STEP,a):o==k.SHOW_VIDEO_REQUIRED?a.showVideoRequired?(this.openVideoMonitor(),this.processByStep(k.SEQUENCE_STEP,a)):this.processByStep(k.SEQUENCE_STEP,a):o==k.START_TEST?this.startShowTestContent(a,i=>{if(i)return this.setProcessToErrorStep(i);this.stopStatusObj()}):void this.errorStatusObj("lang_take_test_not_found_process_step",!0)}setProcessToErrorStep(o){this.currentTakeTestStepData.errorMessage=o,this.processByStep(k.SHOW_ERROR_MESSAGE,this.currentTakeTestStepData)}initParams(){this.sAztFullScreenVisibleService.reset(),this.sAztTestDeviceIdService.getDeviceId(),document.getElementById("azota-app-html")?.classList.add("azotaHtml"),this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.hashId=(this.commonService.getMyParam(this.activeRoute,"hash_id")??"").toString(),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.getInitDataFromApi()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){document.getElementById("azota-app-html")?.classList.remove("azotaHtml"),this.mixService.cancelSubscription(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.sAztTakeTestCallApiService.destroyAll(),this.sAztDialogService.closeAll(),super.ngOnDestroy()}constructor(){super(),this.activeRoute=(0,t.WQX)(l.nX),this.userService=(0,t.WQX)(st.R),this.mixService=(0,t.WQX)(Zi),this.localStorageObject=(0,t.WQX)(qe.G),this.zipDataService=(0,t.WQX)(je.j),this.timeService=(0,t.WQX)(ot.F),this.browserStorageService=(0,t.WQX)(oe.z),this.frontExamResultService=(0,t.WQX)(j.Ry),this.frontExamService=(0,t.WQX)(j.iB),this.frontExamResultUploadService=(0,t.WQX)(j.sc),this.sAztDialogService=(0,t.WQX)(dt.i),this.answerTypeService=(0,t.WQX)(Ft._),this.homeworkExamService=(0,t.WQX)(Oe.Z),this.questionRenderService=(0,t.WQX)(He.g),this.testMarketFeedbackService=(0,t.WQX)(Ye.l_),this.encryptionHelper=(0,t.WQX)(Ue.w),this.testLogExamResultAnswerService=(0,t.WQX)(Wi.dO),this.sAztShowMonitorService=(0,t.WQX)(Ee.J),this.sAztFullScreenVisibleService=(0,t.WQX)(Dt),this.frontVipService=(0,t.WQX)(j.uj),this.studentPracticeService=(0,t.WQX)(Le.Kw),this.sAztFullScreenService=new it,this.sAztTestResizeService=new or,this.sAztTestNextBackQuestionService=new er(this.commonService),this.sAztTestQuestionService=new ar(this.commonService,this.answerTypeService,this.browserStorageService,this.localStorageObject,this.sAztShowMonitorService),this.sAztTestDeviceIdService=new Je(this.browserStorageService),this.sAztTestAudioService=new _e(this.commonService,this.browserStorageService),this.sAztTestResultTrackService=new sr(this.commonService,this.encryptionHelper,this.timeService,this.browserStorageService),this.sAztTakeTestCallApiService=new tr(this.commonService,this.zipDataService,this.browserStorageService,this.testMarketFeedbackService,this.encryptionHelper,this.testLogExamResultAnswerService,this.sAztTestQuestionService,this.sAztTestResultTrackService,this.frontExamResultUploadService,this.frontExamService),this.followerRenderQuest=new Rt.e,this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.isMobileScreenSize=(new We).checkByWidth(),this.allTakeTestLayouts=N,this.backToLink="",this.homeLink="/student/classroom/0",this.hashId="",this.tenantId=1,this.curCateId=0,this.isSubmittingAnswer=!1,this.allowAttempExam=!0}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-base-test-component"]],hostBindings:function(o,a){1&o&&t.bIt("resize",function(r){return a.onResize(r)},!1,t.tSv)},standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(o,a){},dependencies:[c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})(),Mt=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.isConfirmReload=!0}stopConfirm(){this.isConfirmReload=!1}askBeforeCloseWindow(o){if(this.isConfirmReload)return o.returnValue=!1}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-leave-window-event"]],hostBindings:function(o,a){1&o&&t.bIt("beforeunload",function(r){return a.askBeforeCloseWindow(r)},!1,t.tSv)},standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(o,a){},dependencies:[c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})(),Lt=(()=>{var n;class s extends S.H{onResize(){var o=()=>!(this.currentTakeTestStepData.currentStep!=k.START_TEST||this.currentTakeTestStepData.essayQuestionSubmitting||!this.currentTakeTestStepData.showFullScreenRequired||this.sAztFullScreenService.checkFullScreen()||this.sAztFullScreenVisibleService.isSendingToApi()||!this.sAztFullScreenVisibleService.isAllowTrackFullScreen());o()&&setTimeout(()=>{o()&&(this.sAztFullScreenVisibleService.setSendingToApiStatus(!0),this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id,name:"exit_full_screen",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(i=>{i.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),setTimeout(()=>{this.sAztFullScreenVisibleService.setSendingToApiStatus(!1)},1e3)})))},5e3)}ngOnInit(){this.onResize(),super.ngOnInit()}constructor(o,a){super(),this.frontExamTrackService=o,this.sAztFullScreenVisibleService=a,this.sAztFullScreenService=new it}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(j.XJ),t.rXU(Dt))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-tracking-full-screen-event"]],hostBindings:function(o,a){1&o&&t.bIt("resize",function(r){return a.onResize(r)},!1,t.tSv)},inputs:{currentTakeTestStepData:"currentTakeTestStepData"},standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(o,a){},dependencies:[c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})(),Qt=(()=>{var n;class s extends S.H{visibilitychange(){var o=()=>!(this.currentTakeTestStepData.currentStep!=k.START_TEST||this.currentTakeTestStepData.essayQuestionSubmitting||!this.currentTakeTestStepData.showFullScreenRequired||this.sAztFullScreenVisibleService.isSendingToApi()||!this.sAztFullScreenVisibleService.isAllowTrackVisible()||"visible"==document.visibilityState);o()&&setTimeout(()=>{o()&&(this.sAztFullScreenVisibleService.setSendingToApiStatus(!0),this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id,name:"blur_window",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(i=>{i.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi"),setTimeout(()=>{this.sAztFullScreenVisibleService.setSendingToApiStatus(!1)},1e3)})))},5e3)}ngOnInit(){super.ngOnInit()}constructor(o,a){super(),this.frontExamTrackService=o,this.sAztFullScreenVisibleService=a}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(j.XJ),t.rXU(Dt))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-tracking-visible-event"]],hostBindings:function(o,a){1&o&&t.bIt("visibilitychange",function(r){return a.visibilitychange(r)},!1,t.EBC)},inputs:{currentTakeTestStepData:"currentTakeTestStepData"},standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(o,a){},dependencies:[c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();const Hr=n=>({"sheet-screen-monitor":n}),Wr=(n,s)=>({"col-span-1":n,"col-span-2":s}),Jr=n=>({background:n}),Kr=(n,s)=>({"btn-primary-soft":n,"btn-outline-secondary":s});function Zr(n,s){if(1&n&&(t.j41(0,"div",5),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG().index;t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_nhom")+" "+(e+1))}}function tl(n,s){1&n&&(t.j41(0,"span",10),t.EFF(1,"*"),t.k0s())}function el(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",6)(2,"button",7),t.bIt("click",function(){const a=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj(i.layoutType==i.allTakeTestLayouts.LIST_QUESTION?i.sAztTestNextBackQuestionService.scrollTo(a):i.sAztTestNextBackQuestionService.goTo(i.currentTakeTestStepData,a))}),t.j41(3,"span",8),t.EFF(4),t.nI1(5,"examDisplayNumber"),t.DNE(6,tl,2,0,"span",9),t.k0s()()(),t.bVm()}if(2&n){let e;const o=s.$implicit,a=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.l_i(7,Wr,!a.isMobileScreenSize&&a.layoutType==a.allTakeTestLayouts.STEP_QUESTION,a.isMobileScreenSize||a.layoutType!=a.allTakeTestLayouts.STEP_QUESTION)),t.R7$(),t.Y8G("ngStyle",t.eq3(10,Jr,o.status&&!o.finishedAnswering?"#faebd7":""))("ngClass",t.l_i(12,Kr,o.status,!o.status)),t.R7$(2),t.SpI(" ",t.bMT(5,5,null!==(e=o.originalLabel)&&void 0!==e?e:(null!==(e=null!==(e=o.labelIndex)&&void 0!==e?e:o.startQuestionIndexWidthViewGroup)&&void 0!==e?e:0)+(null!==(e=a.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==e?e:1))," "),t.R7$(2),t.Y8G("ngIf",a.layoutType==a.allTakeTestLayouts.STEP_QUESTION&&(null==a.currentTakeTestStepData.nextBackQuestionModel||null==a.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj?null:a.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)==o.id)}}function nl(n,s){if(1&n&&(t.j41(0,"div",0),t.DNE(1,Zr,3,3,"div",2),t.j41(2,"div",3),t.DNE(3,el,7,15,"ng-container",4),t.k0s()()),2&n){const e=s.$implicit,o=t.XpG();t.R7$(),t.Y8G("ngIf",o.currentTakeTestStepData.viewQuestionInGroupList.length>1),t.R7$(),t.Y8G("ngClass",t.eq3(3,Hr,!o.isMobileScreenSize&&o.currentTakeTestStepData.isShowVideoMonitor)),t.R7$(),t.Y8G("ngForOf",e.questionList)}}let Nt=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.allTakeTestLayouts=N}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-list-shortcut-question-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",requiredNextBackQuestionModel:"requiredNextBackQuestionModel",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",isMobileScreenSize:"isMobileScreenSize",layoutType:"layoutType"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:1,consts:[[1,"flex","flex-col","gap-2"],["class","flex flex-col gap-2",4,"ngFor","ngForOf"],["class","text-md font-medium",4,"ngIf"],[1,"grid","grid-cols-10","gap-2","sheet-screen",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"text-md","font-medium"],[3,"ngClass"],["azt-track-service","take-test-wdi0TAS3bgU",1,"btn","p-4","border-slate-300","dark:border-darkmode-400","relative","user-select-none","w-full","h-full",3,"click","ngStyle","ngClass"],[1,"absolute","absolute-center"],["class","relative","style","color: #ffa700; top: -7px",4,"ngIf"],[1,"relative",2,"color","#ffa700","top","-7px"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.DNE(1,nl,4,5,"div",1),t.k0s()),2&o&&(t.R7$(),t.Y8G("ngForOf",a.currentTakeTestStepData.viewQuestionInGroupList))},dependencies:[c.MD,c.YU,c.Sq,c.bT,c.B3,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,g.Em,T.Id,x.k],styles:[".absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]}),s})();function al(n,s){if(1&n&&(t.j41(0,"p",9),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.JRh(e)}}function ol(n,s){if(1&n&&(t.j41(0,"div")(1,"p")(2,"strong"),t.EFF(3),t.k0s()(),t.DNE(4,al,2,1,"p",8),t.k0s()),2&n){const e=s.$implicit,o=s.index;t.R7$(3),t.Lme("",o+1,". ",e.message,":"),t.R7$(),t.Y8G("ngForOf",e.data)}}let Bt=(()=>{var n;class s extends S.H{goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}reloadCurrentPage(){location.reload()}ngOnInit(){super.ngOnInit()}constructor(){super()}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-bank-frontend-load-question-error-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink"},standalone:!0,features:[t.Vt3,t.aNF],decls:32,vars:28,consts:[[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-test-4_EDv4k0GO7",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-test-Z7YL5G4GC5F",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"p"),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"strong"),t.EFF(12),t.k0s()(),t.j41(13,"p"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"p"),t.EFF(17),t.nI1(18,"mytranslate"),t.j41(19,"strong"),t.EFF(20),t.j41(21,"span",3),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.DNE(24,ol,5,3,"div",4),t.j41(25,"p",5)(26,"button",6),t.bIt("click",function(){return a.goBackToExamDetails()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"button",7),t.bIt("click",function(){return a.reloadCurrentPage()}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.R7$(3),t.JRh(t.bMT(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.R7$(3),t.SpI(" ",t.bMT(10,16,"lang_auto_ma_de_thi")+": "," "),t.R7$(3),t.Lme("",a.currentTakeTestStepData.examObj.hashId," - ",a.currentTakeTestStepData.termExamResultId,""),t.R7$(2),t.SpI("",t.bMT(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+a.questsLoadState.loadPercent,"%"),t.R7$(3),t.SpI(" ",t.bMT(18,20,"lang_auto_so_luong_phat_hien")+": "," "),t.R7$(3),t.SpI(" ",a.questsLoadState.errData.length," "),t.R7$(2),t.JRh(t.bMT(23,22,"lang_auto_loi")),t.R7$(2),t.Y8G("ngForOf",a.questsLoadState.errData),t.R7$(3),t.SpI(" ",t.bMT(28,24,"lang_core_print_exam_back")," "),t.R7$(3),t.SpI(" ",t.bMT(31,26,"lang_auto_thu_lai")," "))},dependencies:[c.MD,c.Sq,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();var tn=m(65106),sl=m(5955),$t=m(9570),en=m(99965);const il=n=>({"selected-answer border-selected-answer":n}),rl=(n,s,e,o)=>({"border-radius":n,width:s,height:e,"line-height:":o}),ll=n=>({"border-selected-answer":n}),_l=n=>({"pb-2":n}),cl=(n,s)=>({"border-selected-answer":n,"w-full":s}),nn=(n,s,e)=>({"border-radius":"50%",width:n,height:s,"line-height:":e}),an=n=>({"border-selected-answer selected-answer":n}),ul=n=>({"list-answer-mobile":n}),pl=()=>({"mr-1":!0});function ml(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_please_select_one_correct_answer")," "))}function dl(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_please_select_corrects_answer")," "))}function gl(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",11)(1,"div",12),t.bIt("click",function(){const a=t.eBV(e),i=a.$implicit,r=a.index,_=t.XpG(2);return t.Njj(_.setOneChoiceAnswer(i,r,i.alpha,i.key))}),t.j41(2,"button",13),t.nI1(3,"isOneChoiceAnswer"),t.nI1(4,"isOneChoiceAnswer"),t.nI1(5,"isOneChoiceAnswer"),t.nI1(6,"isOneChoiceAnswer"),t.EFF(7),t.k0s(),t.j41(8,"div",14),t.nrm(9,"azt-dynamic-hook",15),t.k0s()()()}if(2&n){const e=s.$implicit,o=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.eq3(13,il,e.checked))("ngStyle",t.ziG(15,rl,t.bMT(3,5,o.question)?"50%":"none",t.bMT(4,7,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.bMT(5,9,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.bMT(6,11,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px")),t.R7$(5),t.SpI(" ",e.alpha?e.alpha:e.key," "),t.R7$(),t.Y8G("ngClass",t.eq3(20,ll,e.checked)),t.R7$(),t.Y8G("content",e.content)}}function fl(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",6)(2,"span",7),t.DNE(3,ml,3,3,"span",5),t.nI1(4,"isOneChoiceAnswer"),t.DNE(5,dl,3,3,"span",5),t.nI1(6,"isMultipleChoiceAnswer"),t.k0s()(),t.j41(7,"div",null,0)(9,"div",8)(10,"div",9),t.DNE(11,gl,10,22,"div",10),t.k0s()()(),t.bVm()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",t.bMT(4,7,e.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,9,e.question)),t.R7$(5),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.R7$(),t.Y8G("ngForOf",e.question.answers)}}function Tl(n,s){1&n&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function hl(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",18),t.DNE(1,Tl,3,3,"div",19),t.j41(2,"div",20,2)(4,"div",14)(5,"span",21),t.EFF(6),t.k0s(),t.nrm(7,"azt-dynamic-hook",15),t.k0s(),t.j41(8,"button",22),t.bIt("click",function(){const a=t.eBV(e),i=a.$implicit,r=a.index,_=t.XpG(2);return t.Njj(_.setTrueFalseAnswer(i,r,i.alpha,i.key,"T"))}),t.j41(9,"span",23),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"button",24),t.bIt("click",function(){const a=t.eBV(e),i=a.$implicit,r=a.index,_=t.XpG(2);return t.Njj(_.setTrueFalseAnswer(i,r,i.alpha,i.key,"F"))}),t.j41(13,"span",23),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()}if(2&n){const e=s.$implicit,o=t.sdS(3);t.XpG();const a=t.sdS(7),i=t.XpG();t.R7$(),t.Y8G("ngIf",a.offsetWidth<o.offsetWidth),t.R7$(),t.Y8G("ngClass",t.eq3(15,_l,a.offsetWidth<o.offsetWidth)),t.R7$(2),t.Y8G("ngClass",t.l_i(17,cl,null!=e.checked,i.isMobileDevice)),t.R7$(2),t.JRh((e.alpha?e.alpha:e.key).toLowerCase()+") "),t.R7$(),t.Y8G("content",e.content),t.R7$(),t.Y8G("ngStyle",t.sMw(20,nn,i.fontSize>1.6?i.fontSize+"em":"40px",i.fontSize>1.6?i.fontSize+"em":"40px",i.fontSize>1.6?i.fontSize+"em":"40px"))("ngClass",t.eq3(24,an,null!=e.checked&&1==e.checked)),t.R7$(2),t.JRh(t.bMT(11,11,"lang_auto_dung")),t.R7$(2),t.Y8G("ngStyle",t.sMw(26,nn,i.fontSize>1.6?i.fontSize+"em":"40px",i.fontSize>1.6?i.fontSize+"em":"40px",i.fontSize>1.6?i.fontSize+"em":"40px"))("ngClass",t.eq3(30,an,null!=e.checked&&0==e.checked)),t.R7$(2),t.JRh(t.bMT(15,13,"lang_auto_sai"))}}function bl(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",6)(2,"span",7),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",16)(6,"div",9,1),t.DNE(8,hl,16,32,"div",17),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,6,"lang_core_please_select_answer_true_or_false")," "),t.R7$(3),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.R7$(2),t.Y8G("ngForOf",e.question.answers)}}function xl(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",26)(2,"div",6)(3,"span",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",27)(7,"div",28)(8,"textarea",29,3),t.nI1(10,"mytranslate"),t.bIt("input",function(){t.eBV(e);const a=t.sdS(9),i=t.XpG();return t.Njj(i.setFillAnswer(a.value))}),t.k0s(),t.j41(11,"span",30),t.nrm(12,"lucide-icon",31),t.j41(13,"span",32),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.bVm()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(14,ul,e.isMobileDevice)),t.R7$(3),t.JRh(t.bMT(5,8,"lang_auto_nhap_dap_an")),t.R7$(4),t.FS9("placeholder",t.bMT(10,10,"lang_auto_dap_an_cua_ban")),t.Y8G("value",e.question.essayText),t.BMQ("isImage",!1)("question_id",e.question.id),t.R7$(4),t.Y8G("ngClass",t.lJ4(16,pl)),t.R7$(2),t.JRh(t.bMT(15,12,"lang_fill_question_note"))}}function Sl(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",33)(2,"div",6)(3,"span",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",28)(7,"textarea",29,4),t.nI1(9,"mytranslate"),t.bIt("input",function(){t.eBV(e);const a=t.sdS(8),i=t.XpG();return t.Njj(i.setEssayAnswer(a.value))}),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,5,"lang_auto_bai_lam")),t.R7$(3),t.FS9("placeholder",t.bMT(9,7,"lang_auto_bai_lam_cua_ban")),t.Y8G("value",e.question.essayText),t.BMQ("isImage",!1)("question_id",e.question.id)}}let on=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.fontSize=1,this.setResultTracking=new t.bkB,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.configRenderService=new tn.y}setOneChoiceAnswer(o,a,i,r){if(!r&&!i)return;let _=[this.questionIndex.toString(),i??"",r??"",this.question.id.toString()];this.setResultTracking.emit(_),this.setOneChoiceAnswerEmitter.emit({questionId:this.question.id,answerConfig:o,answerIndex:a})}setTrueFalseAnswer(o,a,i,r,_){if(_===o.status)return;o.status=_,i&&(i+="-"+_),r&&(r+="-"+_);let u=[this.questionIndex.toString(),i??"",r??"",this.question.id.toString()];this.setResultTracking.emit(u),this.setTrueFalseAnswerEmitter.emit({questionId:this.question.id,answerConfig:o,answerIndex:a})}setFillAnswer(o){this.setFillAnswerEmitter.emit({questionId:this.question.id,value:o})}setEssayAnswer(o){this.setEssayAnswerEmitter.emit({questionId:this.question.id,value:o})}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-answer-view-for-student-at-step-page"]],inputs:{question:"question",questionIndex:"questionIndex",fontSize:"fontSize"},outputs:{setResultTracking:"setResultTracking",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter"},standalone:!0,features:[t.Vt3,t.aNF],decls:9,vars:14,consts:[["lisAnswerGroup",""],["answerGroup",""],["answer",""],["curEssayFillInput",""],["curEssayAnswerInput",""],[4,"ngIf"],[1,"strike"],[1,"font-medium","text-slate-600","dark:text-slate-500"],[1,"p-3",2,"overflow","auto"],[1,"list-answer"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"item-answer","inline-flex","items-center","cursor-pointer","hover-border-primary",3,"click"],[1,"btn","border-slate-400","mr-3",3,"ngClass","ngStyle"],[1,"answer-content","p-2","border","border-slate-400","dark:border-darkmode-400","rounded-md",3,"ngClass"],[3,"content"],[1,"p-3"],["class","overflow-auto",4,"ngFor","ngForOf"],[1,"overflow-auto"],["class","mt-2 text-danger",4,"ngIf"],[1,"item-answer","flex","items-center","mt-2","cursor-pointer","hover-border-primary",2,"width","fit-content","min-width","100%",3,"ngClass"],[1,"font-medium"],[1,"btn","border-slate-400","nohover","rounded-full","ml-2","mr-2",3,"click","ngStyle","ngClass"],[1,"text-xs"],[1,"btn","border-slate-400","nohover","rounded-full",3,"click","ngStyle","ngClass"],[1,"mt-2","text-danger"],[1,"azt-answer",3,"ngClass"],[1,"flex","items-center","justify-between","w-full"],[1,"azt-answer-content","p-3","w-full"],["autoResize","",1,"w-full","form-control",3,"input","placeholder","value"],[1,"text-slate-400","text-xs","mt-1",2,"align-content","center"],["name","info","size","16",3,"ngClass"],[2,"vertical-align","middle","align-content","center"],[1,"azt-answer"]],template:function(o,a){1&o&&(t.DNE(0,fl,12,11,"ng-container",5),t.nI1(1,"isOneChoiceAnswer"),t.nI1(2,"isMultipleChoiceAnswer"),t.DNE(3,bl,9,8,"ng-container",5),t.nI1(4,"isTrueFalseAnswer"),t.DNE(5,xl,16,17,"ng-container",5),t.nI1(6,"isFillAnswer"),t.DNE(7,Sl,10,9,"ng-container",5),t.nI1(8,"isEssayAnswer")),2&o&&(t.Y8G("ngIf",t.bMT(1,4,a.question)||t.bMT(2,6,a.question)),t.R7$(3),t.Y8G("ngIf",t.bMT(4,8,a.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,10,a.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(8,12,a.question)))},dependencies:[$t.x,c.MD,c.YU,c.Sq,c.bT,c.B3,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,g.V6,g.nn,g.Zm,g.N3,g.FC,T.Id,x.k,en.j],encapsulation:2}),s})();var sn=m(60780);class kl{constructor(){this.isDestroy=!1}}var rn=m(42789);const vl=n=>({"skeleton-box-loading":n}),Cl=n=>({"pb-2":n}),Il=n=>({"remove-grid":n}),yl=n=>({"pr-7":n}),Ol=n=>({"mt-4":n}),El=n=>({"w-100":n});function wl(n,s){if(1&n&&t.nrm(0,"div",7),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,vl,e.isFirstRender))}}function Al(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-test-audio-ui",16),t.bIt("sendAudioEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioEmit.emit(a))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("questionObj",e.question)("isShowList",!0)("totalLimit",((null==e.examObj?null:e.examObj.limitAudio)||-1)>0?(null==e.examObj?null:e.examObj.limitAudio)||-1:0)}}function zl(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI("(",t.bMT(2,1,"lang_auto_hoi_de_thi_offline"),")"))}function jl(n,s){if(1&n&&(t.j41(0,"div",17),t.EFF(1),t.DNE(2,zl,3,3,"span",15),t.nI1(3,"isOfflineExam"),t.k0s()),2&n){let e;const o=t.XpG(2);t.R7$(),t.SpI(" ",o.customQuestionLabel+" "+(null!==(e=o.question.originalLabel)&&void 0!==e?e:(void 0!==o.question.labelIndex?o.question.labelIndex:o.index)+(null!==(e=o.startQuestionIndex)&&void 0!==e?e:1))," "),t.R7$(),t.Y8G("ngIf",t.bMT(3,2,o.examObj))}}function Rl(n,s){if(1&n&&(t.j41(0,"div",22)(1,"b",23),t.EFF(2),t.nI1(3,"isTrueFalseAnswer"),t.k0s(),t.j41(4,"div",24),t.nrm(5,"azt-dynamic-hook",18),t.k0s()()),2&n){let e;const o=s.$implicit,a=t.XpG(4);t.R7$(),t.Y8G("ngClass",t.eq3(5,yl,a.fontSize>1.5)),t.R7$(),t.JRh(t.bMT(3,3,a.question)?(null!==(e=o.alpha)&&void 0!==e?e:o.key).toLowerCase()+")":(null!==(e=o.alpha)&&void 0!==e?e:o.key)+"."),t.R7$(3),t.Y8G("content",o.content)}}function Fl(n,s){if(1&n&&(t.j41(0,"div",20),t.DNE(1,Rl,6,7,"div",21),t.k0s()),2&n){const e=t.XpG(3);t.Y8G("ngClass",t.eq3(3,Il,e.fontSize>1.5))("answerSizeManager",e.answerSizeManager),t.R7$(),t.Y8G("ngForOf",e.question.answers)}}function Gl(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",8),t.nrm(2,"azt-dynamic-hook",18),t.k0s(),t.DNE(3,Fl,2,5,"div",19),t.nI1(4,"isTrueFalseAnswer"),t.nI1(5,"isOneChoiceAnswer"),t.bVm()),2&n){let e;const o=t.XpG(2);t.R7$(2),t.Y8G("content",null!==(e=o.question.content)&&void 0!==e?e:""),t.R7$(),t.Y8G("ngIf",(t.bMT(4,2,o.question)||t.bMT(5,4,o.question))&&o.question.answers&&o.question.answers.length>0&&o.overTime)}}function Dl(n,s){if(1&n&&(t.j41(0,"div",8)(1,"div",9),t.eu8(2,10),t.j41(3,"div",11),t.DNE(4,Al,1,3,"azt-test-audio-ui",12),t.j41(5,"div",13),t.DNE(6,jl,4,4,"div",14),t.k0s(),t.DNE(7,Gl,6,6,"ng-container",15),t.nI1(8,"isOfflineExam"),t.k0s()(),t.eu8(9,10),t.k0s()),2&n){const e=t.XpG(),o=t.sdS(5),a=t.sdS(7),i=t.sdS(9);t.R7$(),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Y8G("id","question_render_container_"+e.question.id)("ngClass",t.eq3(13,Cl,e.question.attachments.length>0)),t.R7$(),t.Y8G("ngTemplateOutlet",o),t.R7$(2),t.Y8G("ngIf",e.question.attachments.length>0),t.R7$(2),t.Y8G("ngIf",!e.hideQuestionLabel),t.R7$(),t.Y8G("ngIf",!t.bMT(8,11,e.examObj)),t.R7$(2),t.Y8G("ngTemplateOutlet",e.overTime?i:a)}}function Ml(n,s){if(1&n&&(t.j41(0,"div",26),t.nrm(1,"azt-dynamic-hook",18),t.k0s()),2&n){let e;const o=t.XpG(3);t.Y8G("ngClass",t.eq3(2,Ol,o.isMobile)),t.R7$(),t.Y8G("content",null!==(e=null==o.question.groupInfo?null:o.question.groupInfo.groupContent)&&void 0!==e?e:"")}}function Ll(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ml,2,4,"div",25),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==e.question.groupInfo?null:e.question.groupInfo.isFirstInGroup)}}function Ql(n,s){if(1&n&&t.DNE(0,Ll,2,1,"ng-container",15),2&n){const e=t.XpG();t.Y8G("ngIf",!(null!=e.examObj&&e.examObj.hideGroupQuestion)||(null==e.question?null:e.question.isRoleTeacher))}}function Nl(n,s){if(1&n&&t.eu8(0,10),2&n){t.XpG();const e=t.sdS(3);t.Y8G("ngTemplateOutlet",e)}}function Bl(n,s){if(1&n&&(t.j41(0,"div",29),t.eu8(1,10),t.k0s()),2&n){t.XpG();const e=t.sdS(3);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function $l(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-question-answer-view-for-student-at-step-page",30),t.bIt("setResultTracking",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setResultTracking.emit(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setEssayAnswerEmitter.emit(a))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("question",e.question)("questionIndex",e.index)("fontSize",e.fontSize)}}function Yl(n,s){if(1&n&&t.DNE(0,Nl,1,1,"ng-container",27)(1,Bl,2,1,"div",28)(2,$l,1,3,"ng-template",null,4,t.C5r),2&n){const e=t.XpG();t.Y8G("ngIf",e.takeTestLayout==e.allTakeTestLayouts.LIST_QUESTION),t.R7$(),t.Y8G("ngIf",e.takeTestLayout!=e.allTakeTestLayouts.LIST_QUESTION)}}function Pl(n,s){if(1&n&&(t.j41(0,"span",36),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.question.choseAnswer," ")}}function Xl(n,s){1&n&&(t.j41(0,"span")(1,"b",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_chua_tra_loi")))}function Vl(n,s){if(1&n&&(t.j41(0,"div",33)(1,"p",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Pl,2,1,"span",35)(5,Xl,4,3,"span",15),t.k0s()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,3,"lang_auto_dap_an_cua_ban"),":"),t.R7$(2),t.Y8G("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.R7$(),t.Y8G("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function Ul(n,s){if(1&n&&(t.j41(0,"span",39)(1,"b",40),t.EFF(2),t.k0s(),t.j41(3,"b",41),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.JRh((e.alpha?e.alpha:e.key).toLowerCase()+") - "),t.R7$(2),t.JRh(t.bMT(5,2,e.checked?"lang_auto_dung":"lang_auto_sai"))}}function ql(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ul,6,4,"span",38),t.bVm()),2&n){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.question.answers)}}function Hl(n,s){1&n&&(t.j41(0,"span")(1,"b",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_chua_tra_loi")))}function Wl(n,s){if(1&n&&(t.j41(0,"div",33)(1,"p",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,ql,2,1,"ng-container",15)(5,Hl,4,3,"span",15),t.k0s()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,3,"lang_auto_dap_an_cua_ban"),":"),t.R7$(2),t.Y8G("ngIf",e.hasAnswerChecking()),t.R7$(),t.Y8G("ngIf",!e.hasAnswerChecking())}}function Jl(n,s){if(1&n&&t.nrm(0,"textarea",45),2&n){const e=t.XpG(3);t.Y8G("value",e.question.choseAnswer),t.BMQ("question_id",e.question.id)}}function Kl(n,s){if(1&n&&(t.nrm(0,"textarea",45),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("value",t.bMT(1,2,"lang_auto_thi_sinh_chua_nhap_thong_tin")),t.BMQ("question_id",e.question.id)}}function Zl(n,s){if(1&n&&(t.j41(0,"div",33)(1,"p",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",42)(5,"div",43),t.DNE(6,Jl,1,2,"textarea",44)(7,Kl,2,4,"textarea",44),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,4,"lang_auto_dap_an_cua_ban"),":"),t.R7$(2),t.Y8G("ngClass",t.eq3(6,El,e.isMobile)),t.R7$(2),t.Y8G("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.R7$(),t.Y8G("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function t_(n,s){if(1&n&&(t.j41(0,"div",31),t.DNE(1,Vl,6,5,"div",32),t.nI1(2,"isOneChoiceAnswer"),t.DNE(3,Wl,6,5,"div",32),t.nI1(4,"isTrueFalseAnswer"),t.DNE(5,Zl,8,8,"div",32),t.nI1(6,"isEssayAnswer"),t.nI1(7,"isFillAnswer"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,3,e.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,5,e.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,7,e.question)||t.bMT(7,9,e.question))}}let Yt=(()=>{var n;class s extends S.H{startRenderQuestion(){!this.question||this.disableRender||this.flagObjectComponent.isDestroy?this.disableRender&&!this.flagObjectComponent.isDestroy&&this.doneRender.emit():this.questionRenderService.parseRenderQuestion(this.question,this.configRenderService).then(()=>{this.flagObjectComponent.isDestroy||this.doneRender.emit()}).catch(o=>{this.flagObjectComponent.isDestroy||this.showErrorSnack(o.message)})}get customQuestionLabel(){return(this.commonService.castJsonToObj(this.expandInfo??"{}")??{}).label??"C\xe2u"}hasAnswerChecking(){return null!=this.question.answers.filter(o=>1==o.checked)}ngOnChanges(){this.fontSize&&(this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.startRenderQuestion())}ngDoCheck(){if(this.isRenderElement)return;const o=document.getElementById("question_render_element_"+this.question.id);o&&(this.disableLazy||o.getAttribute("start_loading")&&"true"==o.getAttribute("start_loading"))&&(this.isRenderElement||(this.isFirstRender&&(this.startRenderQuestion(),this.follower.doneItemPartQuest()),this.isFirstRender=!1,this.isRenderElement=!0))}ngOnInit(){super.ngOnInit(),this.backToLink=`/test/answer-test/${this.configExam?.tenantId??0}/${this.configExam?.categoryId??0}/${this.configExam?.hashId}/${this.curResultId}`,this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.flagObjectComponent.isDestroy=!1}ngOnDestroy(){this.flagObjectComponent.isDestroy=!0,super.ngOnDestroy()}constructor(o){super(),this.questionRenderService=o,this.follower=new Rt.e,this.mathJaxImage=!1,this.disableLazy=!1,this.disableRender=!1,this.index=0,this.last=!1,this.hideQuestionLabel=!1,this.answerSizeManager=0,this.fontSize=1,this.orgExamObjs=[],this.isMobile=!1,this.overTime=!1,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.sendAudioEmit=new t.bkB,this.setResultTracking=new t.bkB,this.nextQuestionEmitter=new t.bkB,this.prevQuestionEmitter=new t.bkB,this.doneRender=new t.bkB,this.allTakeTestLayouts=N,this.isFirstRender=!0,this.isRenderElement=!1,this.flagObjectComponent=new kl,this.backToLink="",this.configRenderService=new tn.y}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(He.g))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-standalone-for-student-at-full-test"]],inputs:{follower:"follower",mathJaxImage:"mathJaxImage",disableLazy:"disableLazy",disableRender:"disableRender",curResultId:"curResultId",index:"index",last:"last",questionListLength:"questionListLength",configExam:"configExam",expandInfo:"expandInfo",question:"question",hideQuestionLabel:"hideQuestionLabel",answerSizeManager:"answerSizeManager",fontSize:"fontSize",orgExamObjs:"orgExamObjs",startQuestionIndex:"startQuestionIndex",isMobile:"isMobile",takeTestLayout:"takeTestLayout",overTime:"overTime",examObj:"examObj"},outputs:{setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",sendAudioEmit:"sendAudioEmit",setResultTracking:"setResultTracking",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",doneRender:"doneRender"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:10,vars:3,consts:[["elementRended",""],["showQuestionGroupContent",""],["normalShowTpl",""],["overTimeTpl",""],["viewQuestionAnswerBox",""],["load_effect_lazy","",1,"question-standalone-box",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container","mb-0","no-border-question","border-slate-200/60","dark:border-darkmode-400",3,"id","ngClass"],[3,"ngTemplateOutlet"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],["class","question-standalone-label",4,"ngIf"],[4,"ngIf"],[3,"sendAudioEmitter","questionObj","isShowList","totalLimit"],[1,"question-standalone-label"],[3,"content"],["class","row answers",3,"ngClass","answerSizeManager",4,"ngIf"],[1,"row","answers",3,"ngClass","answerSizeManager"],["class","answer col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6"],[1,"answer-label",3,"ngClass"],[1,"answer-content"],["class","group-content-of-question-standalone",3,"ngClass",4,"ngIf"],[1,"group-content-of-question-standalone",3,"ngClass"],[3,"ngTemplateOutlet",4,"ngIf"],["class","ml-auto mr-auto w-full",4,"ngIf"],[1,"ml-auto","mr-auto","w-full"],[3,"setResultTracking","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","question","questionIndex","fontSize"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content-front",4,"ngIf"],[1,"answer-content-front"],[1,"h5","mb-0","mr-2",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],["class","mr-2",4,"ngFor","ngForOf"],[1,"mr-2"],[2,"font-weight","450"],[1,"text-warning",2,"font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["autoResize","","class","form-control mt-1","readonly","",3,"value",4,"ngIf"],["autoResize","","readonly","",1,"form-control","mt-1",3,"value"]],template:function(o,a){if(1&o&&(t.j41(0,"div",5),t.DNE(1,wl,1,3,"div",6)(2,Dl,10,15,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(4,Ql,1,1,"ng-template",null,1,t.C5r)(6,Yl,4,2,"ng-template",null,2,t.C5r)(8,t_,8,11,"ng-template",null,3,t.C5r)),2&o){const i=t.sdS(3);t.Y8G("id","question_render_element_"+a.question.id),t.R7$(),t.Y8G("ngIf",!a.isRenderElement)("ngIfElse",i)}},dependencies:[sl.C,sn.c,$t.x,on,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,g.st,g.V6,g.Zm,g.N3,g.FC,T.Id,x.k,en.j,rn.N],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px 30px 0 0}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),s})();const e_=["*"],ue=()=>({"mr-2":!0}),pe=()=>({"mr-1":!0}),n_=()=>({"mr-2 text-danger":!0});function a_(n,s){if(1&n&&(t.j41(0,"p",8),t.nrm(1,"lucide-icon",19),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.lJ4(10,pe)),t.R7$(),t.E5c(" ",t.bMT(3,4,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.bMT(4,6,e.currentTakeTestStepData.examObj.startTime)," - ",t.bMT(5,8,e.currentTakeTestStepData.examObj.endTime)," ")}}function o_(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"app-testbank-frontend-count-down-box",21),t.bIt("endCountDownEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(a&&i.submitTestToApi(!0))}),t.k0s(),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.R7$(2),t.Y8G("totalSecond",e.currentTakeTestStepData.autoSubmitAfterSeconds)("useCountDown",!0),t.R7$(),t.SpI(" ",t.bMT(5,6,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function s_(n,s){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",22),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.bVm()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(10,pe)),t.R7$(),t.E5c(" ",t.bMT(3,4,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.bMT(4,6,"lang_auto_nop_bai"),'" ',t.bMT(5,8,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function i_(n,s){1&n&&(t.nrm(0,"lucide-icon",22),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate")),2&n&&(t.Y8G("ngClass",t.lJ4(10,pe)),t.R7$(),t.E5c(" ",t.bMT(2,4,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.bMT(3,6,"lang_auto_nop_muon"),'" ',t.bMT(4,8,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function r_(n,s){if(1&n&&(t.j41(0,"div",26)(1,"div",27),t.nrm(2,"azt-question-standalone-for-student-at-full-test",28),t.k0s()()),2&n){const e=s.$implicit,o=s.index,a=t.XpG(2);t.R7$(2),t.Y8G("startQuestionIndex",a.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",a.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("takeTestLayout",a.allTakeTestLayouts.STEP_QUESTION)("isMobile",a.isMobile)("examObj",a.currentTakeTestStepData.examObj)("question",e)("fontSize",a.sAztTestResizeService.fontSize)("index",o)("overTime",!0)("questionListLength",a.currentTakeTestStepData.viewQuestionObjs.length)}}function l_(n,s){if(1&n&&(t.j41(0,"mat-tab",23),t.nI1(1,"mytranslate"),t.j41(2,"div",29),t.SdG(3),t.k0s()()),2&n){const e=t.XpG(2);t.FS9("label",t.bMT(1,1,"lang_auto_tu_luan")+" ("+e.files.length+")")}}function __(n,s){if(1&n&&(t.j41(0,"mat-tab-group")(1,"mat-tab",23),t.nI1(2,"mytranslate"),t.DNE(3,r_,3,13,"div",24),t.k0s(),t.DNE(4,l_,4,3,"mat-tab",25),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.FS9("label",t.bMT(2,3,"lang_auto_trac_nghiem")),t.R7$(2),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.hasEssayQuestion)}}function c_(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",30)(1,"div",31)(2,"button",32),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.goBackToExamDetails())}),t.nrm(3,"lucide-icon",33),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",34)(7,"button",35),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.submitTestToApi(!0))}),t.nrm(8,"lucide-icon",36),t.EFF(9),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngClass",t.lJ4(10,n_)),t.R7$(),t.SpI(" ",t.bMT(5,4,"lang_auto_thoat")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(11,ue)),t.R7$(),t.SpI(" ",e.currentTakeTestStepData.countDownSecond<-300?t.bMT(10,6,"lang_auto_nop_muon"):t.bMT(11,8,"lang_powerpoint_frontend_detail_submit")," ")}}let Pt=(()=>{var n;class s extends S.H{submitTestToApi(o){this.submitTestEvent.emit(o)}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.submitTestEvent=new t.bkB,this.allTakeTestLayouts=N}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-bank-frontend-over-time-of-exam"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink",isMobile:"isMobile",files:"files",followerRenderQuest:"followerRenderQuest",sAztTestResizeService:"sAztTestResizeService",userObj:"userObj"},outputs:{submitTestEvent:"submitTestEvent"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:e_,decls:36,vars:37,consts:[["notActualEndTime",""],["questionAndAnswerTpl",""],["submitButtonBox",""],[1,"p-3",2,"padding-bottom","50px"],[1,"box","p-5","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["name","timer","size","20",3,"ngClass"],[1,"flex","items-center"],["name","circle-help","size","20",3,"ngClass"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],[1,"mt-3","text-danger","font-medium","text-center"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["name","clock","size","24",3,"ngClass"],[1,"p-3","m-2","text-center","text-pending"],[3,"endCountDownEvent","totalSecond","useCountDown"],["name","timer-off","size","24",3,"ngClass"],[3,"label"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","index","overTime","questionListLength"],[1,"box","mt-2"],[1,"mt-2","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-test-zYDkrlktkR",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","power","size","16",3,"ngClass"],[1,"intro-x"],["azt-track-service","take-test-HI_SB5_l-P",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"]],template:function(o,a){if(1&o&&(t.NAR(),t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3",6),t.EFF(4),t.k0s(),t.j41(5,"p",7),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"div",8)(9,"div",9),t.nrm(10,"lucide-icon",10),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",11),t.nrm(15,"lucide-icon",12),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.DNE(18,a_,6,11,"p",13),t.j41(19,"p",14),t.EFF(20),t.nI1(21,"mytranslate"),t.nI1(22,"mytranslate"),t.nI1(23,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()(),t.DNE(24,o_,6,8,"div",15),t.k0s(),t.j41(25,"div",16),t.DNE(26,s_,6,11,"ng-container",17)(27,i_,5,11,"ng-template",null,0,t.C5r),t.k0s(),t.eu8(29,18)(30,18)(31,18),t.k0s(),t.DNE(32,__,5,5,"ng-template",null,1,t.C5r)(34,c_,12,12,"ng-template",null,2,t.C5r)),2&o){const i=t.sdS(28),r=t.sdS(33),_=t.sdS(35);t.R7$(4),t.JRh(a.currentTakeTestStepData.examObj.name),t.R7$(2),t.Lme("",t.bMT(7,21,"lang_auto_ma_de"),": ",a.currentTakeTestStepData.examObj.hashId,""),t.R7$(4),t.Y8G("ngClass",t.lJ4(35,ue)),t.R7$(),t.E5c(" ",t.bMT(12,23,"lang_auto_thoi_gian"),": ",a.currentTakeTestStepData.examObj.minutes," ",t.bMT(13,25,"lang_auto_phut")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(36,ue)),t.R7$(),t.Lme(" ",t.bMT(17,27,"lang_auto_so_cau"),": ",a.currentTakeTestStepData.countQuestion," "),t.R7$(2),t.Y8G("ngIf",a.currentTakeTestStepData.examObj.startTime&&a.currentTakeTestStepData.examObj.endTime),t.R7$(2),t.LHq(" ",t.bMT(21,29,"lang_auto_thi_sinh"),": ",null==a.userObj?null:a.userObj.fullName," ",t.bMT(22,31,"lang_auto_-_vao_thi_luc"),": ",t.bMT(23,33,null==a.currentTakeTestStepData.testingResultObj?null:a.currentTakeTestStepData.testingResultObj.startedTest)," "),t.R7$(4),t.Y8G("ngIf",a.currentTakeTestStepData.autoSubmitAfterSeconds),t.R7$(2),t.Y8G("ngIf",a.currentTakeTestStepData.isActualEndTime)("ngIfElse",i),t.R7$(3),t.Y8G("ngTemplateOutlet",_),t.R7$(),t.Y8G("ngTemplateOutlet",r),t.R7$(),t.Y8G("ngTemplateOutlet",_)}},dependencies:[W,Yt,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,l.iI,p.YN,g.wp,b.s,Gt.mq,Gt.T8,d.flO,d.WGl,h.L,g.bH,T.Id,x.k],encapsulation:2}),s})();var Ct=m(26217);const u_=()=>({"mr-2":!0});function p_(n,s){1&n&&(t.j41(0,"div",3),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_you_are_not_upload_any_essay_files"),"\n"))}function m_(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",4)(2,"div")(3,"button",5),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showUploadEssayFilesDialogEvent.emit())}),t.nrm(4,"lucide-icon",6),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"p",7),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.bVm()}2&n&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(7,u_)),t.R7$(),t.SpI(" ",t.bMT(6,3,"lang_testbank_frontend_upload_essay_files")," "),t.R7$(3),t.JRh(t.bMT(9,5,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}let Xt=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.showUploadEssayFilesDialogEvent=new t.bkB,this.changeAnswerFilesEvent=new t.bkB}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-upload-essay-file-at-over-time-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData"},outputs:{showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",changeAnswerFilesEvent:"changeAnswerFilesEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:3,consts:[["class","p-3 m-2 alert alert-danger",4,"ngIf"],[4,"ngIf"],[3,"changeAnswerFiles","answerFiles"],[1,"p-3","m-2","alert","alert-danger"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-test-EkxWzdqkfZ",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],[1,"h6","mb-2","mt-1"]],template:function(o,a){1&o&&(t.DNE(0,p_,3,3,"div",0)(1,m_,10,8,"ng-container",1),t.j41(2,"app-sort-essay-files-box",2),t.bIt("changeAnswerFiles",function(r){return a.changeAnswerFilesEvent.emit(r)}),t.k0s()),2&o&&(t.Y8G("ngIf",0==a.currentTakeTestStepData.files.length),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.allowUploadEssayFileWhenEndTime),t.R7$(),t.Y8G("answerFiles",a.currentTakeTestStepData.files))},dependencies:[Ct.s,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const d_=n=>[n];let Vt=(()=>{var n;class s extends S.H{}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-wait-to-test-time-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",homeLink:"homeLink"},standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:17,consts:[[1,"p-4"],[1,"box","p-3","text-danger","text-center"],[1,"text-center","clickable","mt-3"],["azt-track-service","take-test-8oUvqrS4hCo",1,"link__color","link__hover",3,"routerLink"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"div",2)(7,"a",3),t.nI1(8,"navigationLocalize"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(2),t.E5c(" ",t.bMT(3,5,a.currentTakeTestStepData.errorMessage)," ",t.bMT(4,7,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.bMT(5,9,a.currentTakeTestStepData.examObj.startTime)," "),t.R7$(5),t.Y8G("routerLink",t.eq3(15,d_,t.bMT(8,11,a.homeLink))),t.R7$(2),t.JRh(t.bMT(10,13,"lang_auto_quay_lai_trang_chu")))},dependencies:[g.F2,c.MD,p.X1,l.iI,l.Wk,p.YN,g.wp,b.s,d.flO,h.L,g.bH,T.Id,x.k],encapsulation:2}),s})();function g_(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"span",3),t.EFF(3),t.k0s()(),t.j41(4,"div",4)(5,"span",5),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"span",5),t.EFF(9),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",6),t.nrm(13,"span",7),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"div",8)(16,"app-testbank-frontend-count-down-box",9),t.bIt("endCountDownEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.startedExamEvent.emit())}),t.k0s()(),t.j41(17,"div",10)(18,"button",11),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.startedExamEvent.emit())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(3),t.JRh(e.capacityComponent.name),t.R7$(3),t.JRh(e.capacityComponent.totalQuestion+" "+t.bMT(7,8,"lang_auto_cau_hoi")+" - "),t.R7$(3),t.JRh(e.capacityComponent.totalMinute?e.capacityComponent.totalMinute+" "+t.bMT(10,10,"lang_auto_phut"):t.bMT(11,12,"lang_auto_khong_thoi_han")),t.R7$(4),t.Y8G("innerHtml",t.bMT(14,14,"lang_azt_capacity_exam_intro_description"),t.npT),t.R7$(3),t.Y8G("totalSecond",e.waitingTime)("useCountDown",!0)("customClass","font-bold"),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_auto_bat_dau_audio")," ")}}let me=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.startedExamEvent=new t.bkB}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-capacity-exam-intro"]],inputs:{capacityComponent:"capacityComponent",waitingTime:"waitingTime"},outputs:{startedExamEvent:"startedExamEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","box p-5 container mt-10 text-center",4,"ngIf"],[1,"box","p-5","container","mt-10","text-center"],[1,"text-xl","uppercase","text-primary"],[1,"font-bold"],[1,"mt-1","text-lg"],[1,"font-medium"],[1,"mt-3"],[1,"text-base",3,"innerHtml"],[1,"mt-10","text-2xl","text-primary"],[3,"endCountDownEvent","totalSecond","useCountDown","customClass"],[1,"mt-5"],[1,"btn","btn-primary","w-24","h-24","text-lg","rounded-full","shadow-md",3,"click"]],template:function(o,a){1&o&&t.DNE(0,g_,21,18,"div",0),2&o&&t.Y8G("ngIf",a.capacityComponent)},dependencies:[W,c.MD,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,T.Id,x.k],styles:["@media screen and (max-width: 480px){.container[_ngcontent-%COMP%]{width:auto;margin-right:1rem;margin-left:1rem}}"]}),s})();var f_=m(52909);const ln=n=>({nodeObjs:n}),T_=n=>({"margin-left":n}),h_=n=>({"font-bold clickable":n}),b_=()=>({"text-pending":!0}),x_=(n,s)=>({"text-danger":n,"text-slate-500":s});function S_(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",4),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function k_(n,s){if(1&n&&(t.j41(0,"div",17)(1,"div",18),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,1,e.errorMessage))}}function v_(n,s){1&n&&t.eu8(0)}function C_(n,s){if(1&n&&(t.qex(0),t.DNE(1,v_,1,0,"ng-container",19),t.bVm()),2&n){const e=t.XpG(2),o=t.sdS(5);t.R7$(),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(2,ln,e.combineExamCapacity))}}function I_(n,s){1&n&&t.nrm(0,"azt-loading-ui",20)}function y_(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"h3",6),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"h3",7),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"h3",8),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.DNE(12,k_,4,3,"div",9),t.j41(13,"div",10)(14,"div",11),t.DNE(15,C_,2,4,"ng-container",12),t.k0s()(),t.j41(16,"div",13)(17,"button",14),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.goBack())}),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"button",15),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.confirmSelected())}),t.DNE(21,I_,1,0,"azt-loading-ui",16),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.Lme("",t.bMT(3,11,"lang_auto_only_de_thi"),": ",t.bMT(4,13,null==e.capacityObj?null:e.capacityObj.name),""),t.R7$(4),t.Lme("",t.bMT(7,15,"lang_cms_publish_test_exam")," ",t.bMT(8,17,null==e.capacityObj?null:e.capacityObj.hashId),""),t.R7$(4),t.JRh(t.bMT(11,19,"lang_capacity_selected_exam")),t.R7$(2),t.Y8G("ngIf",e.errorMessage),t.R7$(3),t.Y8G("ngIf",e.combineExamCapacity.length),t.R7$(3),t.SpI(" ",t.bMT(19,21,"lang_auto_quay_lai")," "),t.R7$(2),t.Y8G("disabled",e.statusObj.loading||e.isInValidSubmitSave()),t.R7$(),t.Y8G("ngIf",e.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(23,23,"lang_button_confirm")," ")}}function O_(n,s){if(1&n){const e=t.RV6();t.j41(0,"span")(1,"input",29),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.selectedFolder(a))})("change",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.checkValidationErrorAgain())}),t.k0s()()}if(2&n){const e=t.XpG().$implicit;t.R7$(),t.Y8G("formControl",e.isSelectedFormControl)}}function E_(n,s){1&n&&t.nrm(0,"span",30)}function w_(n,s){1&n&&t.nrm(0,"azt-svg-icon",33),2&n&&t.Y8G("size",20)}function A_(n,s){if(1&n){const e=t.RV6();t.j41(0,"i",31),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.selectedFolder(a))}),t.DNE(1,w_,1,1,"azt-svg-icon",32),t.k0s()}if(2&n){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf","FOLDER"==e.data.objectType)}}function z_(n,s){1&n&&t.nrm(0,"lucide-icon",34),2&n&&t.Y8G("ngClass",t.lJ4(1,b_))}function j_(n,s){if(1&n&&(t.j41(0,"span",35),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()),2&n){const e=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngClass",t.l_i(13,x_,e.hasError,!e.hasError)),t.R7$(),t.ZXR(" (",t.bMT(2,7,"lang_cms_auto_gen_test_select")," ",e.totalPart," ",t.bMT(3,9,"lang_azt_in")," ",e.children.length," - ",t.bMT(4,11,"lang_auto_da_chon"),": ",o.countSelectedPart(e),") ")}}function R_(n,s){1&n&&t.eu8(0)}function F_(n,s){if(1&n&&(t.qex(0),t.DNE(1,R_,1,0,"ng-container",19),t.bVm()),2&n){const e=t.XpG().$implicit;t.XpG(2);const o=t.sdS(5);t.R7$(),t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.eq3(2,ln,e.children))}}function G_(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",22)(2,"div",23),t.DNE(3,O_,2,1,"span",12)(4,E_,1,0,"span",24)(5,A_,2,1,"i",25)(6,z_,1,2,"lucide-icon",26),t.j41(7,"p",27),t.bIt("click",function(){const a=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj("FOLDER"==a.data.objectType?i.selectedFolder(a):null)}),t.EFF(8),t.DNE(9,j_,5,16,"span",28),t.k0s()(),t.DNE(10,F_,2,4,"ng-container",12),t.k0s(),t.bVm()}if(2&n){const e=s.$implicit;t.R7$(2),t.Y8G("ngStyle",t.eq3(9,T_,15*e.level+"px")),t.R7$(),t.Y8G("ngIf",e.showCheckbox),t.R7$(),t.Y8G("ngIf",!e.showCheckbox),t.R7$(),t.Y8G("ngIf","FOLDER"==e.data.objectType),t.R7$(),t.Y8G("ngIf","EXAM"==e.data.objectType),t.R7$(),t.Y8G("ngClass",t.eq3(11,h_,"FOLDER"==e.data.objectType)),t.R7$(),t.SpI(" ",e.text," "),t.R7$(),t.Y8G("ngIf",e.showSelectCount&&e.isExpand),t.R7$(),t.Y8G("ngIf",e.isExpand&&e.children.length)}}function D_(n,s){if(1&n&&t.DNE(0,G_,11,13,"ng-container",21),2&n){const e=s.nodeObjs,o=t.XpG();t.Y8G("ngForOf",o.asTemplateDataObj(e))}}let de=(()=>{var n;class s extends Pe.C{confirmSelected(){this.initStatusObj();let o=this.getListSelectedExam(this.combineExamCapacity,[]);this.waitDestroy(this.frontExamService.apiFrontExamSaveTestCapacityExamComponentHashIdPost(this.hashId,{examHashIds:o}).subscribe(a=>{a.success||this.forceShowErrorBox(a.message,!0),this.selectCapacityExamEmitter.emit(!0)}))}countSelectedPart(o){return o.children.filter(a=>a.isSelectedFormControl.value).length}goBack(){let o=this.commonService.getMyQueryParam("backto")??"";this.commonService.myNavigationWithQueryString("/de-thi/"+this.capacityObj?.hashId,"?backto="+encodeURIComponent(o))}selectedFolder(o){"EXAM"!=o.data.objectType&&(o.isExpand=!o.isExpand,o.isExpand||(o.hasError=!1),o.isSelectedFormControl.setValue(o.isExpand),o.isSelectedFormControl.value?this.processRequiredData(o.children,o.totalPart):this.setCheckboxToFalse(o.children),this.checkValidationErrorAgain())}checkValidationErrorAgain(){this.processRequiredData(this.combineExamCapacity,void 0)}processRequiredData(o,a){o.forEach(i=>{let r=this.isDefaultSelectAll(i.children.length,i.totalPart);"FOLDER"==i.data.objectType&&!r&&(i.showSelectCount=!0);let _=i.isSelectedFormControl.value;i.isExpand=_;let u=this.isDefaultSelectAll(o.length,a);u&&(_=!0),i.isSelectedFormControl.value!=_&&i.isSelectedFormControl.setValue(_),i.showCheckbox=!u,"FOLDER"==i.data.objectType&&_&&(i.isExpand=!0,this.processRequiredData(i.children,i.totalPart),i.hasError=(i.totalPart?i.totalPart:i.children.length)!=this.countSelectedPart(i))})}setCheckboxToFalse(o){o.forEach(a=>{a.isSelectedFormControl.setValue(!1),a.children.length&&this.setCheckboxToFalse(a.children)})}isDefaultSelectAll(o,a){return null==a||a<=0||a==o}isInValidSubmitSave(){return!this.getListSelectedExam(this.combineExamCapacity,[]).length||this.hasErrorInFolder(this.combineExamCapacity)}hasErrorInFolder(o){let a=!1;return o.forEach(i=>{i.hasError&&(a=!0),i.children.length&&this.hasErrorInFolder(i.children)&&(a=!0)}),a}getListSelectedExam(o,a){return o.forEach(i=>{"EXAM"==i.data.objectType&&i.isSelectedFormControl.value&&i.data.exam?.hashId&&a.push(i.data.exam.hashId),i.children.length&&(a=this.getListSelectedExam(i.children,a))}),a}asTemplateDataObj(o){return o}standardTreeNodes(o,a){let i=[];return o.forEach((r,_)=>{let u={level:a,isExpand:!1,isShow:!0,nodeIndex:_,randomHashId:this.uuidService.getUuid(),data:r,children:[],text:r.objectName??"",isSelectedFormControl:new p.MJ(!1,{nonNullable:!0}),totalPart:r.totalPart,showCheckbox:!0,showSelectCount:!1,hasError:!1};u.children=this.standardTreeNodes(r.children,a+1),i.push(u)}),i}getCapacityExamObjs(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamGetTestCapacityExamHashIdGet(this.hashId,-1).subscribe(o=>o.success?o.data?.isSelectedComponent?this.selectCapacityExamEmitter.emit(!0):(this.capacityObj=o.data?.capacityExam,this.combineExamCapacity=this.standardTreeNodes(o.data?.testingComponents??[],0),this.processRequiredData(this.combineExamCapacity,void 0),void this.successStatusObj()):this.forceShowErrorBox(o.message,!0)))}ngOnInit(){super.ngOnInit(),this.getCapacityExamObjs()}constructor(){super(),this.selectCapacityExamEmitter=new t.bkB,this.uuidService=(0,t.WQX)(f_.D),this.frontExamService=(0,t.WQX)(j.iB),this.combineExamCapacity=[],this.errorMessage=""}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-select-capacity-exam"]],inputs:{hashId:"hashId"},outputs:{selectCapacityExamEmitter:"selectCapacityExamEmitter"},standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:2,consts:[["doneLoading",""],["recursiveListTmpl",""],[1,"box","p-3","container","mt-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"mx-auto","text-center"],[1,"text-xl","text-center","font-bold"],[1,"text-md","mt-2","text-center","font-bold","text-info"],[1,"text-md","font-bold","mt-2"],["class","text-center py-2",4,"ngIf"],[1,"px-2","mt-2"],[1,"grid","grid-cols-12","gap-1"],[4,"ngIf"],[1,"text-right","mt-2"],[1,"btn","btn-secondary","ml-auto",3,"click"],[1,"btn","btn-primary","ml-2",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-center","py-2"],[1,"block","text-danger","text-center"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mr-1"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-1","w-full",2,"align-items","center","grid-column","span 12 / span 12"],[1,"col-span-12","flex","items-center","mt-1",3,"ngStyle"],["class","mr-2",4,"ngIf"],["class","clickable","aria-hidden","true",3,"click",4,"ngIf"],["name","file-check","size","20",3,"ngClass",4,"ngIf"],[1,"mb-0","ml-1",3,"click","ngClass"],["class","text-xs ml-1 font-normal",3,"ngClass",4,"ngIf"],["type","checkbox",1,"form-check-input","mr-2",3,"click","change","formControl"],[1,"mr-2"],["aria-hidden","true",1,"clickable",3,"click"],["type","folder",3,"size",4,"ngIf"],["type","folder",3,"size"],["name","file-check","size","20",3,"ngClass"],[1,"text-xs","ml-1","font-normal",3,"ngClass"]],template:function(o,a){if(1&o&&(t.j41(0,"div",2),t.DNE(1,S_,1,1,"azt-loading-effect",3)(2,y_,24,25,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(4,D_,1,1,"ng-template",null,1,t.C5r)),2&o){const i=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,tt.R,wt.m,c.MD,c.YU,c.Sq,c.bT,c.T3,c.B3,p.X1,p.Zm,p.BC,p.l_,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const _n=()=>({"mr-2":!0}),ge=n=>({"btn-primary text-white":n}),M_=()=>({"mr-2 text-primary":!0}),L_=()=>({"mr-2 text-danger":!0});function Q_(n,s){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",24),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function N_(n,s){1&n&&(t.j41(0,"span",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_khong_gioi_han")))}function B_(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.GROUP_QUESTION))}),t.nrm(1,"lucide-icon",27),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,ge,e.layoutType===e.allTakeTestLayouts.GROUP_QUESTION))}}function $_(n,s){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",28),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",!0)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}function Y_(n,s){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",29),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showUploadEssayFilesDialogEvent.emit())}),t.nrm(2,"lucide-icon",30),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,_n)),t.R7$(2),t.JRh(t.bMT(5,2,"lang_auto_dinh_kem_tu_luan")))}let cn=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.setQuestionInGroupEvent=new t.bkB,this.toggleShowListQuestionInGroupEvent=new t.bkB,this.prevIndexGroupEvent=new t.bkB,this.nextIndexGroupEvent=new t.bkB,this.submitExamEvent=new t.bkB,this.goToQuestionEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=N,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(o=>!o?.groupInfo?.groupId)}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-menu-bar"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",layoutType:"layoutType",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService"},outputs:{setQuestionInGroupEvent:"setQuestionInGroupEvent",toggleShowListQuestionInGroupEvent:"toggleShowListQuestionInGroupEvent",prevIndexGroupEvent:"prevIndexGroupEvent",nextIndexGroupEvent:"nextIndexGroupEvent",submitExamEvent:"submitExamEvent",goToQuestionEvent:"goToQuestionEvent",changeShowTypeEvent:"changeShowTypeEvent",openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:35,vars:24,consts:[["unlimitedTimeTpl",""],["scrollbarRef",""],[1,"dropdown-menu","show","relative","mb-2"],[1,"dropdown-content"],[1,"p-1","flex","items-center"],[1,"inline-flex","border","whitespace-nowrap","border-slate-200","dark:border-darkmode-400","p-1","rounded-md","items-center","justify-center","mr-2"],["name","timer","size","20","strokeWidth","2",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["azt-track-service","simple-test-menu-bar-lV1kU-823",1,"btn","btn-sm","btn-outline-secondary","mr-2",3,"click","ngClass"],["name","list","size","16"],["azt-track-service","simple-test-menu-bar-EvCVyvwQzF",1,"btn","btn-sm","btn-outline-secondary","mr-2",3,"click","ngClass"],["name","computer","size","16"],["azt-track-service","simple-test-menu-bar-8YbUT33pgv","class","btn btn-sm btn-outline-secondary",3,"ngClass","click",4,"ngIf"],[1,"dropdown-divider","border-slate-200","dark:border-darkmode-400"],[1,"p-0","-m-2"],[1,"height-200px"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],[1,"p-2"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],["azt-track-service","take-test-qCh4rHipyZ7",1,"dropdown-item","font-medium",2,"align-items","center",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],[4,"ngIf"],["azt-track-service","take-test-Sv-5CQ5vRW_",1,"dropdown-item","font-medium",2,"align-items","center",3,"click"],["name","power","size","16",3,"ngClass"],[3,"totalSecond","useCountDown"],[1,"font-medium"],["azt-track-service","simple-test-menu-bar-8YbUT33pgv",1,"btn","btn-sm","btn-outline-secondary",3,"click","ngClass"],["name","layout-panel-left","size","16"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],["azt-track-service","take-test-Hl-nLDepRGa",1,"dropdown-item","font-medium",2,"align-items","center",3,"click"],["name","paperclip","size","16",3,"ngClass"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",2)(1,"ul",3)(2,"li",4)(3,"div",5),t.nrm(4,"lucide-icon",6),t.DNE(5,Q_,1,2,"app-testbank-frontend-count-down-box",7)(6,N_,3,3,"ng-template",null,0,t.C5r),t.k0s(),t.j41(8,"button",8),t.bIt("click",function(){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.LIST_QUESTION))}),t.nrm(9,"lucide-icon",9),t.k0s(),t.j41(10,"button",10),t.bIt("click",function(){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.STEP_QUESTION))}),t.nrm(11,"lucide-icon",11),t.k0s(),t.DNE(12,B_,2,3,"button",12),t.k0s(),t.j41(13,"li"),t.nrm(14,"hr",13),t.k0s(),t.j41(15,"li",14)(16,"div",15)(17,"ng-scrollbar",16,1)(19,"div",17),t.DNE(20,$_,1,5,"app-coazt-list-shortcut-question-box",18),t.k0s()()()(),t.j41(21,"li"),t.nrm(22,"hr",13),t.k0s(),t.j41(23,"li")(24,"a",19),t.bIt("click",function(){return t.eBV(i),t.Njj(a.openSubmitExamEvent.emit())}),t.nrm(25,"lucide-icon",20),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.DNE(29,Y_,6,5,"li",21),t.j41(30,"li")(31,"a",22),t.bIt("click",function(){return t.eBV(i),t.Njj(a.openQuitDialogEvent.emit())}),t.nrm(32,"lucide-icon",23),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()()()()}if(2&o){const i=t.sdS(7);t.R7$(4),t.Y8G("ngClass",t.lJ4(17,_n)),t.R7$(),t.Y8G("ngIf",!a.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(3),t.Y8G("ngClass",t.eq3(18,ge,a.layoutType===a.allTakeTestLayouts.LIST_QUESTION)),t.R7$(2),t.Y8G("ngClass",t.eq3(20,ge,a.layoutType===a.allTakeTestLayouts.STEP_QUESTION)),t.R7$(2),t.Y8G("ngIf",a.isAllQuestionInGroup),t.R7$(5),t.Y8G("visibility","always"),t.R7$(3),t.Y8G("ngIf",a.currentTakeTestStepData.nextBackQuestionModel),t.R7$(5),t.Y8G("ngClass",t.lJ4(22,M_)),t.R7$(2),t.JRh(t.bMT(28,13,"lang_auto_nop_bai")),t.R7$(2),t.Y8G("ngIf",a.currentTakeTestStepData.hasEssayQuestion),t.R7$(3),t.Y8G("ngClass",t.lJ4(23,L_)),t.R7$(),t.SpI(" ",t.bMT(34,15,"lang_auto_thoat")," ")}},dependencies:[W,Nt,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,T.Yh,x.k],styles:[".border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.height-showListQuestion[_ngcontent-%COMP%]{height:calc(100vh - 180px)}.height-hiddenListQuestion[_ngcontent-%COMP%]{height:calc(100vh - 127px)}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:100vw;height:64px}.max-height-400px[_ngcontent-%COMP%]{max-height:400px}.height-200px[_ngcontent-%COMP%]{height:200px}.h-48px[_ngcontent-%COMP%]{height:48px}.p-0[_ngcontent-%COMP%]{padding:0}.-m-2[_ngcontent-%COMP%]{margin:-.5rem}  .dark .azt-progress-value{background-color:#28334e}"]}),s})(),un=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.changeShowTypeEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=N,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(o=>!o?.groupInfo?.groupId)}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-footer-box-for-mobile"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",layoutType:"layoutType",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService"},outputs:{changeShowTypeEvent:"changeShowTypeEvent",openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:4,consts:[["actionMenu","matMenu"],[1,"pos-tool"],[1,"btn","box","rounded-full","shadow-md","border","border-slate-200","dark:border-darkmode-400","w-16","h-16",3,"matMenuTriggerFor"],["name","layout-grid","size","20"],["xPosition","before"],[3,"submitExamEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",1)(1,"button",2),t.nrm(2,"lucide-icon",3),t.k0s()(),t.j41(3,"mat-menu",4,0)(5,"app-coazt-simple-test-menu-bar",5),t.bIt("submitExamEvent",function(){return t.eBV(i),t.Njj(a.openSubmitExamEvent.emit())})("changeShowTypeEvent",function(_){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(_))})("openSubmitExamEvent",function(){return t.eBV(i),t.Njj(a.openSubmitExamEvent.emit())})("showUploadEssayFilesDialogEvent",function(){return t.eBV(i),t.Njj(a.showUploadEssayFilesDialogEvent.emit())})("openQuitDialogEvent",function(){return t.eBV(i),t.Njj(a.openQuitDialogEvent.emit())}),t.k0s()()}if(2&o){const i=t.sdS(4);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(4),t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData)("layoutType",a.layoutType)("sAztTestNextBackQuestionService",a.sAztTestNextBackQuestionService)}},dependencies:[cn,c.MD,p.X1,l.iI,p.YN,b.s,U.kk,U.Cp,d.flO,d.WGl,h.L,T.Id,x.k],styles:[".pos-tool[_ngcontent-%COMP%]{position:fixed;bottom:60px;right:25px;z-index:999}.pb-400[_ngcontent-%COMP%]{padding-bottom:400px}.h-40px[_ngcontent-%COMP%]{height:40px}"]}),s})();const rt=()=>({"mr-2":!0}),fe=n=>({"btn-primary":n});function P_(n,s){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_thi_sinh"),": ",e.currentTakeTestStepData.testingUserObj.fullName,"")}}function X_(n,s){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.currentTakeTestStepData.capacityComponent.name," ")}}function V_(n,s){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",31),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function U_(n,s){1&n&&(t.EFF(0),t.nI1(1,"mytranslate")),2&n&&t.SpI(" ",t.bMT(1,1,"lang_auto_khong_gioi_han")," ")}function q_(n,s){1&n&&t.nrm(0,"lucide-icon",32)}function H_(n,s){1&n&&t.nrm(0,"lucide-icon",33)}function W_(n,s){1&n&&t.nrm(0,"lucide-icon",34)}function J_(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",37),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.sAztFullScreenService.showFullScreen())}),t.nrm(1,"lucide-icon",38),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,rt)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_toan_man_hinh")," "))}function K_(n,s){if(1&n&&(t.j41(0,"div",35),t.DNE(1,J_,4,5,"button",36),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",!e.isMobileScreenSize)}}function Z_(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",35)(1,"button",39),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showUploadEssayFilesDialogEvent.emit())}),t.nrm(2,"lucide-icon",40),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,rt)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_dinh_kem_bai_tu_luan")," "))}function tc(n,s){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",41),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.GROUP_QUESTION))}),t.nrm(2,"lucide-icon",42),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(5,fe,e.layoutType===e.allTakeTestLayouts.GROUP_QUESTION)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,rt)),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_azt_display_questions_by_group")," ")}}let Te=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.openQuitDialogEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.sAztFullScreenService=new it,this.allTakeTestLayouts=N,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(o=>!o?.groupInfo?.groupId)}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-header-box-for-desktop"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",sAztTestResizeService:"sAztTestResizeService",layoutType:"layoutType",isMobileScreenSize:"isMobileScreenSize"},outputs:{openQuitDialogEvent:"openQuitDialogEvent",changeShowTypeEvent:"changeShowTypeEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openSubmitExamEvent:"openSubmitExamEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:51,vars:45,consts:[["unlimitedTimeTpl",""],["layoutTypeMenu","matMenu"],[1,"fixed","w-full","box","rounded-none","items-center","flex","top-0","left-0","ng-star-inserted","p-3","z-index-1000","border-b","border-slate-200","dark:border-darkmode-400"],["azt-track-service","take-test-E4FLezP4kF",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","chevron-left","size","20"],[1,"relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"mr-6"],[1,"flex","items-center"],["name","timer","size","20",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],[1,"flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"click","disabled","matTooltip"],["name","zoom-out","size","20"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"click","disabled","matTooltip"],["name","zoom-in","size","20"],["azt-track-service","take-test-UBz-4Fa9hv",1,"btn","btn-sm","btn-secondary",3,"matMenuTriggerFor"],["name","list","size","20",4,"ngIf"],["name","computer","size","20",4,"ngIf"],["name","layout-panel-left","size","20",4,"ngIf"],["class","mr-2",4,"ngIf"],["azt-track-service","take-test-U5gleH2CsWW",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","simple-test-header-box-for-desktop-LwFLoUqqHP",1,"dropdown-item","mb-1","items-center",3,"click","ngClass"],["name","list","size","16",3,"ngClass"],["azt-track-service","simple-test-header-box-for-desktop-BUfzS1hKTY",1,"dropdown-item","mb-1","items-center",3,"click","ngClass"],["name","computer","size","16",3,"ngClass"],[4,"ngIf"],[1,"text-md","font-medium"],[3,"totalSecond","useCountDown"],["name","list","size","20"],["name","computer","size","20"],["name","layout-panel-left","size","20"],[1,"mr-2"],["azt-track-service","take-test-7o7YbIPIyM","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","take-test-7o7YbIPIyM",1,"btn","btn-sm","btn-secondary",3,"click"],["name","maximize","size","16",3,"ngClass"],["azt-track-service","take-test-EYDOxzj8YnB",1,"btn","btn-sm","btn-secondary",3,"click"],["name","paperclip","size","16",3,"ngClass"],["azt-track-service","simple-test-header-box-for-desktop-NNYZn1EpUR",1,"dropdown-item","items-center",3,"click","ngClass"],["name","layout-panel-left","size","16",3,"ngClass"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",2)(1,"div")(2,"button",3),t.bIt("click",function(){return t.eBV(i),t.Njj(a.openQuitDialogEvent.emit())}),t.nrm(3,"lucide-icon",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",5),t.DNE(7,P_,3,4,"span",6)(8,X_,2,1,"span",6),t.k0s(),t.j41(9,"div",7)(10,"div",8),t.nrm(11,"lucide-icon",9),t.DNE(12,V_,1,2,"app-testbank-frontend-count-down-box",10)(13,U_,2,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(15,"div",11)(16,"button",12),t.nI1(17,"mytranslate"),t.bIt("click",function(){return t.eBV(i),t.Njj(a.sAztTestResizeService.zoomOut())}),t.nrm(18,"lucide-icon",13),t.k0s(),t.j41(19,"button",14),t.nI1(20,"mytranslate"),t.bIt("click",function(){return t.eBV(i),t.Njj(a.sAztTestResizeService.zoomIn())}),t.nrm(21,"lucide-icon",15),t.k0s()(),t.j41(22,"div",11)(23,"button",16),t.DNE(24,q_,1,0,"lucide-icon",17)(25,H_,1,0,"lucide-icon",18)(26,W_,1,0,"lucide-icon",19),t.k0s()(),t.DNE(27,K_,2,1,"div",20)(28,Z_,5,5,"div",20),t.j41(29,"div")(30,"button",21),t.bIt("click",function(){return t.eBV(i),t.Njj(a.openSubmitExamEvent.emit())}),t.nrm(31,"lucide-icon",22),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()()(),t.j41(34,"mat-menu",null,1)(36,"div",23)(37,"ul",24)(38,"li")(39,"a",25),t.bIt("click",function(){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.LIST_QUESTION))}),t.nrm(40,"lucide-icon",26),t.j41(41,"span"),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s()()(),t.j41(44,"li")(45,"a",27),t.bIt("click",function(){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.STEP_QUESTION))}),t.nrm(46,"lucide-icon",28),t.j41(47,"span"),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s()()(),t.DNE(50,tc,6,8,"li",29),t.k0s()()()}if(2&o){const i=t.sdS(14),r=t.sdS(35);t.R7$(4),t.SpI(" ",t.bMT(5,25,"lang_button_back")," "),t.R7$(3),t.Y8G("ngIf",!a.currentTakeTestStepData.capacityComponent),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.capacityComponent),t.R7$(3),t.Y8G("ngClass",t.lJ4(37,rt)),t.R7$(),t.Y8G("ngIf",!a.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(4),t.Y8G("disabled",a.sAztTestResizeService.fontSize<=1)("matTooltip",t.bMT(17,27,"lang_take_test_zoom_out")),t.R7$(3),t.Y8G("disabled",a.sAztTestResizeService.fontSize>=2)("matTooltip",t.bMT(20,29,"lang_take_test_zoom_in")),t.R7$(4),t.Y8G("matMenuTriggerFor",r),t.R7$(),t.Y8G("ngIf",a.layoutType===a.allTakeTestLayouts.LIST_QUESTION),t.R7$(),t.Y8G("ngIf",a.layoutType===a.allTakeTestLayouts.STEP_QUESTION),t.R7$(),t.Y8G("ngIf",a.layoutType===a.allTakeTestLayouts.GROUP_QUESTION),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.showFullScreenRequired),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.hasEssayQuestion),t.R7$(3),t.Y8G("ngClass",t.lJ4(38,rt)),t.R7$(),t.SpI(" ",t.bMT(33,31,"lang_auto_nop_bai")," "),t.R7$(7),t.Y8G("ngClass",t.eq3(39,fe,a.layoutType===a.allTakeTestLayouts.LIST_QUESTION)),t.R7$(),t.Y8G("ngClass",t.lJ4(41,rt)),t.R7$(2),t.SpI(" ",t.bMT(43,33,"lang_auto_show_list")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(42,fe,a.layoutType===a.allTakeTestLayouts.STEP_QUESTION)),t.R7$(),t.Y8G("ngClass",t.lJ4(44,rt)),t.R7$(2),t.SpI(" ",t.bMT(49,35,"lang_auto_show_unit")," "),t.R7$(2),t.Y8G("ngIf",a.isAllQuestionInGroup)}},dependencies:[W,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,U.kk,U.Cp,H.oV,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const ec=()=>({"text-danger":!0}),It=()=>({"mr-2":!0}),he=n=>({"bg-primary text-white font-medium":n});function nc(n,s){1&n&&t.nrm(0,"lucide-icon",26)}function ac(n,s){1&n&&t.nrm(0,"lucide-icon",27)}function oc(n,s){1&n&&t.nrm(0,"lucide-icon",28)}function sc(n,s){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",29),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function ic(n,s){1&n&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_khong_gioi_han")))}function rc(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showUploadEssayFilesDialogEvent.emit())}),t.nrm(1,"lucide-icon",32),t.k0s()}}function lc(n,s){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",33),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.GROUP_QUESTION))}),t.nrm(2,"lucide-icon",34),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(5,he,e.layoutType===e.allTakeTestLayouts.GROUP_QUESTION)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,It)),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_azt_display_questions_by_group")," ")}}let be=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.openSubmitExamEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=N,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(o=>!o?.groupInfo?.groupId)}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-header-box-for-mobile"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",layoutType:"layoutType"},outputs:{openSubmitExamEvent:"openSubmitExamEvent",changeShowTypeEvent:"changeShowTypeEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:39,vars:33,consts:[["unlimitedTimeTpl",""],["layoutTypeMenu","matMenu"],[1,"fixed","w-full","box","border-b","border-slate-200","dark:border-darkmode-400","rounded-none","items-center","flex","top-0","left-0","ng-star-inserted","p-3","z-index-1000"],[1,"flex","items-center","w-full"],[1,"mr-auto","flex","items-center"],["azt-track-service","main-component-WXDHmEOSWA","matRipple","",1,"btn","btn-outline-secondary","rounded-full","w-8","h-8","border-0","shadow-none","p-1",3,"click"],["name","power","size","16","strokeWidth","2",3,"ngClass"],[1,"ml-2","flex","items-center"],[1,"flex","items-center","dropdown","mr-2"],["azt-track-service","take-test-UBz-4Fa9hv","matRipple","",1,"btn","btn-sm","btn-outline-secondary",2,"height","30px",3,"matMenuTriggerFor"],["name","list","size","20",4,"ngIf"],["name","computer","size","20",4,"ngIf"],["name","layout-panel-left","size","20",4,"ngIf"],[1,"inline-flex","border","border-slate-200","dark:border-darkmode-400","p-1","rounded-md","items-center","justify-center","mr-2"],["name","timer","size","20","strokeWidth","2",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["class","btn btn-sm btn-outline-secondary mr-2","matRipple","",3,"click",4,"ngIf"],["matRipple","",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","simple-test-header-box-for-desktop-LwFLoUqqHP","matRipple","",1,"dropdown-item","font-medium","mb-1","items-center",3,"click","ngClass"],["name","list","size","16",3,"ngClass"],["azt-track-service","simple-test-header-box-for-desktop-BUfzS1hKTY","matRipple","",1,"dropdown-item","font-medium","mb-1","items-center",3,"click","ngClass"],["name","computer","size","16",3,"ngClass"],[4,"ngIf"],["name","list","size","20"],["name","computer","size","20"],["name","layout-panel-left","size","20"],[3,"totalSecond","useCountDown"],[1,"font-medium"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","mr-2",3,"click"],["name","paperclip","size","16"],["azt-track-service","simple-test-header-box-for-desktop-NNYZn1EpUR","matRipple","",1,"dropdown-item","font-medium","items-center",3,"click","ngClass"],["name","layout-panel-left","size","16",3,"ngClass"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"a",5),t.bIt("click",function(){return t.eBV(i),t.Njj(a.openQuitDialogEvent.emit())}),t.nrm(4,"lucide-icon",6),t.k0s()(),t.j41(5,"div",7)(6,"div",8)(7,"button",9),t.DNE(8,nc,1,0,"lucide-icon",10)(9,ac,1,0,"lucide-icon",11)(10,oc,1,0,"lucide-icon",12),t.k0s()(),t.j41(11,"div",13),t.nrm(12,"lucide-icon",14),t.DNE(13,sc,1,2,"app-testbank-frontend-count-down-box",15)(14,ic,3,3,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(16,rc,2,0,"button",16),t.j41(17,"button",17),t.bIt("click",function(){return t.eBV(i),t.Njj(a.openSubmitExamEvent.emit())}),t.nrm(18,"lucide-icon",18),t.j41(19,"span"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()(),t.j41(22,"mat-menu",null,1)(24,"div",19)(25,"ul",20)(26,"li")(27,"a",21),t.bIt("click",function(){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.LIST_QUESTION))}),t.nrm(28,"lucide-icon",22),t.j41(29,"span"),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"li")(33,"a",23),t.bIt("click",function(){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.STEP_QUESTION))}),t.nrm(34,"lucide-icon",24),t.j41(35,"span"),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()(),t.DNE(38,lc,6,8,"li",25),t.k0s()()()}if(2&o){const i=t.sdS(15),r=t.sdS(23);t.R7$(4),t.Y8G("ngClass",t.lJ4(24,ec)),t.R7$(3),t.Y8G("matMenuTriggerFor",r),t.R7$(),t.Y8G("ngIf",a.layoutType===a.allTakeTestLayouts.LIST_QUESTION),t.R7$(),t.Y8G("ngIf",a.layoutType===a.allTakeTestLayouts.STEP_QUESTION),t.R7$(),t.Y8G("ngIf",a.layoutType===a.allTakeTestLayouts.GROUP_QUESTION),t.R7$(2),t.Y8G("ngClass",t.lJ4(25,It)),t.R7$(),t.Y8G("ngIf",!a.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",a.currentTakeTestStepData.hasEssayQuestion),t.R7$(2),t.Y8G("ngClass",t.lJ4(26,It)),t.R7$(2),t.JRh(t.bMT(21,18,"lang_auto_nop_bai")),t.R7$(7),t.Y8G("ngClass",t.eq3(27,he,a.layoutType===a.allTakeTestLayouts.LIST_QUESTION)),t.R7$(),t.Y8G("ngClass",t.lJ4(29,It)),t.R7$(2),t.SpI(" ",t.bMT(31,20,"lang_auto_show_list")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(30,he,a.layoutType===a.allTakeTestLayouts.STEP_QUESTION)),t.R7$(),t.Y8G("ngClass",t.lJ4(32,It)),t.R7$(2),t.SpI(" ",t.bMT(37,22,"lang_auto_show_unit")," "),t.R7$(2),t.Y8G("ngIf",a.isAllQuestionInGroup)}},dependencies:[W,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,U.kk,U.Cp,Ze.r6,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();var _c=m(51387),Ut=m(25571),cc=m(13976);let xe=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.sAztUserService=(0,t.WQX)(st.R),this.recommendationService=(0,t.WQX)(cc.h)}ngOnInit(){this.sAztUserService.isLogin()&&this.waitDestroy(this.recommendationService.aiApiV1RecommendationUpdateTagsForUserPost().subscribe(o=>{}))}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["azt-tracking-user-tags"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(o,a){},dependencies:[c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})(),Se=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.changeShowType=new t.bkB,this.openQuitDialog=new t.bkB,this.showUploadEssayFilesDialog=new t.bkB,this.openSubmitExam=new t.bkB,this.selectStudentEvent=new t.bkB,this.changeAnswerFiles=new t.bkB,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.setResultTracking=new t.bkB,this.sendAudioForQuestion=new t.bkB,this.submitTestToApi=new t.bkB,this.selectCapacityExamEmitter=new t.bkB,this.startedExamEvent=new t.bkB,this.allTakeTestSteps=k,this.allTakeTestLayouts=N,this.allowContextMenu=!Q.c.production,this.answerTypeService=(0,t.WQX)(Ft._)}goBack(){let o=this.commonService.getMyQueryParam("backto")??"";this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(o))}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-base-layout"]],inputs:{sAztTestResizeService:"sAztTestResizeService",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",currentTakeTestStepData:"currentTakeTestStepData",followerRenderQuest:"followerRenderQuest",questsLoadState:"questsLoadState",isMobileScreenSize:"isMobileScreenSize",homeLink:"homeLink",backToLink:"backToLink"},outputs:{changeShowType:"changeShowType",openQuitDialog:"openQuitDialog",showUploadEssayFilesDialog:"showUploadEssayFilesDialog",openSubmitExam:"openSubmitExam",selectStudentEvent:"selectStudentEvent",changeAnswerFiles:"changeAnswerFiles",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",setResultTracking:"setResultTracking",sendAudioForQuestion:"sendAudioForQuestion",submitTestToApi:"submitTestToApi",selectCapacityExamEmitter:"selectCapacityExamEmitter",startedExamEvent:"startedExamEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(o,a){},dependencies:[c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();const pn=(n,s)=>[n,s],uc=(n,s,e,o,a,i,r,_,u,f)=>[n,s,e,o,a,i,r,_,u,f],pc=(n,s,e,o)=>[n,s,e,o],mc=(n,s)=>({"container-content-mobile":n,"container-content-desktop":s}),dc=(n,s)=>({"margin-question-bar-for-simple-test-for-desktop":n,"margin-question-bar-for-simple-test-for-mobile":s}),gc=(n,s)=>({"monitor-screen":n,"monitor-screen-mobile":s}),fc=n=>({joinByExamHashId:n}),mn=n=>[n];function Tc(n,s){1&n&&t.nrm(0,"app-coazt-leave-window-event")}function hc(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG();const e=t.sdS(21);t.Y8G("ngTemplateOutlet",e)}}function bc(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG();const e=t.sdS(23);t.Y8G("ngTemplateOutlet",e)}}function xc(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",17),t.bIt("contextmenu",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.allowContextMenu)}),t.j41(2,"div",18),t.eu8(3,15),t.k0s()(),t.nrm(4,"azt-tracking-user-tags"),t.bVm()}if(2&n){const e=t.XpG(3),o=t.sdS(7);t.R7$(2),t.Y8G("ngClass",t.l_i(2,mc,e.isMobileScreenSize,!e.isMobileScreenSize)),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function Sc(n,s){if(1&n&&(t.nrm(0,"azt-loading-effect",19),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function kc(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG(3);const e=t.sdS(27);t.Y8G("ngTemplateOutlet",e)}}function vc(n,s){if(1&n&&(t.qex(0),t.DNE(1,xc,5,5,"ng-container",13)(2,Sc,2,4,"azt-loading-effect",16)(3,kc,1,1,"ng-container",14),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function Cc(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG(2);const e=t.sdS(25);t.Y8G("ngTemplateOutlet",e)}}function Ic(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG(2);const e=t.sdS(11);t.Y8G("ngTemplateOutlet",e)}}function yc(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG(2);const e=t.sdS(13);t.Y8G("ngTemplateOutlet",e)}}function Oc(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG(2);const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}function Ec(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG(2);const e=t.sdS(19);t.Y8G("ngTemplateOutlet",e)}}function wc(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,vc,4,3,"ng-container",13)(2,Cc,1,1,"ng-container",14)(3,Ic,1,1,"ng-container",14)(4,yc,1,1,"ng-container",14)(5,Oc,1,1,"ng-container",14)(6,Ec,1,1,"ng-container",14),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",t.ziG(6,pc,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CAPACITY_EXAM_SELECT),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CAPACITY_EXAM_INTRO),t.R7$(),t.Y8G("ngIf",t.l_i(11,pn,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function Ac(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-desktop",26),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())})("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function zc(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-mobile",27),t.bIt("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}function jc(n,s){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName)}}function Rc(n,s){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.currentTakeTestStepData.capacityComponent.name," ")}}function Fc(n,s){if(1&n&&(t.j41(0,"div",28),t.DNE(1,jc,3,3,"span",29)(2,Rc,2,1,"span",29),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.currentTakeTestStepData.capacityComponent),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.capacityComponent)}}function Gc(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-mobile",31),t.bIt("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)}}function Dc(n,s){if(1&n&&(t.DNE(0,Ac,1,4,"app-coazt-simple-test-header-box-for-desktop",20)(1,zc,1,2,"app-coazt-simple-test-header-box-for-mobile",21),t.j41(2,"div",22),t.nrm(3,"div",23),t.DNE(4,Fc,3,2,"div",24),t.eu8(5,15),t.k0s(),t.DNE(6,Gc,1,3,"app-coazt-simple-test-footer-box-for-mobile",25)),2&n){const e=t.XpG(),o=t.sdS(9);t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(),t.Y8G("ngClass",t.l_i(7,dc,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(),t.Y8G("ngClass",t.l_i(10,gc,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(),t.Y8G("ngTemplateOutlet",o),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize)}}function Mc(n,s){if(1&n&&t.nrm(0,"azt-loaded-img",38),2&n){const e=t.XpG(2);t.Y8G("imgSrc",e.currentTakeTestStepData.examObj.examHeader)}}function Lc(n,s){if(1&n&&(t.j41(0,"div",39),t.nrm(1,"div",40),t.nI1(2,"safeNormalHtmlContent"),t.k0s()),2&n){let e;const o=t.XpG(2);t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,null!==(e=null==o.currentTakeTestStepData.examConfigObj?null:o.currentTakeTestStepData.examConfigObj.header)&&void 0!==e?e:""),t.npT)}}function Qc(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",41)(1,"div",42)(2,"azt-question-standalone-for-student-at-full-test",43),t.bIt("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setEssayAnswerEmitter.emit(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setResultTracking.emit(a))})("nextQuestionEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sAztTestNextBackQuestionService.nextTo(i.currentTakeTestStepData,a))})("prevQuestionEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sAztTestNextBackQuestionService.backTo(i.currentTakeTestStepData,a))})("sendAudioEmit",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioForQuestion.emit(a))}),t.k0s()()()}if(2&n){const e=s.$implicit,o=s.index,a=t.XpG(2);t.R7$(),t.FS9("id","question_all_"+e.id),t.R7$(),t.Y8G("startQuestionIndex",a.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",a.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("takeTestLayout",a.allTakeTestLayouts.LIST_QUESTION)("isMobile",a.isMobileScreenSize)("examObj",a.currentTakeTestStepData.examObj)("question",e)("fontSize",a.sAztTestResizeService.fontSize)("overTime",!1)("index",o)}}function Nc(n,s){if(1&n&&t.eu8(0,15),2&n){t.XpG(2);const e=t.sdS(17);t.Y8G("ngTemplateOutlet",e)}}function Bc(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",32)(1,"div",33)(2,"app-sort-essay-files-box",34),t.bIt("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s(),t.DNE(3,Mc,1,1,"azt-loaded-img",35)(4,Lc,3,3,"div",36)(5,Qc,3,13,"div",37),t.k0s(),t.DNE(6,Nc,1,1,"ng-container",14),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("answerFiles",e.currentTakeTestStepData.files),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.examObj.examHeader),t.R7$(),t.Y8G("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.R7$(),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.R7$(),t.Y8G("ngIf",!e.isMobileScreenSize)}}function $c(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",44),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.goBack())}),t.nrm(1,"lucide-icon",45),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"app-join-classroom-box",46),t.bIt("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.selectStudentEvent.emit(a))}),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_button_back")," "),t.R7$(2),t.Y8G("joinClassroomByType",t.eq3(4,fc,e.currentTakeTestStepData.examObj.hashId))}}function Yc(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-select-capacity-exam",47),t.bIt("selectCapacityExamEmitter",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.selectCapacityExamEmitter.emit(a))}),t.k0s()}if(2&n){let e;const o=t.XpG();t.Y8G("hashId",null!==(e=o.currentTakeTestStepData.examObj.hashId)&&void 0!==e?e:"")}}function Pc(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-capacity-exam-intro",48),t.bIt("startedExamEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.startedExamEvent.emit())}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("capacityComponent",e.currentTakeTestStepData.capacityComponent)("waitingTime",e.currentTakeTestStepData.waitingTime)}}function Xc(n,s){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",54),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}function Vc(n,s){if(1&n&&(t.j41(0,"div",49,11)(2,"div",50)(3,"div",51)(4,"h3",52),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,Xc,1,5,"app-coazt-list-shortcut-question-box",53),t.k0s()()()),2&n){const e=t.sdS(1),o=t.XpG();t.R7$(2),t.BMQ("style","width:"+e.offsetWidth+"px",t.$dS),t.R7$(3),t.SpI(" ",t.bMT(6,3,"lang_auto_danh_sach_cau_hoi")," "),t.R7$(2),t.Y8G("ngIf",o.currentTakeTestStepData.nextBackQuestionModel)}}function Uc(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",55),t.bIt("submitTestEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.submitTestToApi.emit(a))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",56),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}function qc(n,s){if(1&n&&(t.j41(0,"div",57)(1,"div",58)(2,"div",59),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",60)(6,"a",61),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,mn,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function Hc(n,s){1&n&&(t.j41(0,"div",67)(1,"div",68)(2,"a",69),t.nrm(3,"img",70),t.nI1(4,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.j41(5,"a",71),t.nrm(6,"img",72),t.nI1(7,"coreModConvertCdnLinkOfGitHub"),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("src",t.bMT(4,2,"images/google-play-badge.svg"),t.B4B),t.R7$(3),t.Y8G("src",t.bMT(7,4,"images/2928664.svg"),t.B4B))}function Wc(n,s){1&n&&(t.j41(0,"div",63)(1,"p",64),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",67)(5,"div",73)(6,"p",74)(7,"span",75),t.EFF(8,"Google Play"),t.k0s(),t.nrm(9,"azt-download-qr-code",76),t.k0s(),t.j41(10,"p",77)(11,"span",75),t.EFF(12,"App Store"),t.k0s(),t.nrm(13,"azt-download-qr-code",76),t.k0s()()()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_su_dung_ma_qr_de_tai_app_azota")," "),t.R7$(7),t.Y8G("fileName","azota_exam_qr_code_google_app")("linkUrl","https://play.google.com/store/apps/details?id=azt.azt"),t.R7$(4),t.Y8G("fileName","azota_exam_qr_code_app_store")("linkUrl","https://apps.apple.com/vn/app/azota-student/id1556025594"))}function Jc(n,s){if(1&n&&(t.j41(0,"div",57)(1,"div",58)(2,"div",59),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",62)(6,"div",63)(7,"p",64),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.DNE(10,Hc,8,6,"div",65),t.k0s(),t.DNE(11,Wc,14,7,"div",66),t.k0s(),t.j41(12,"div",60)(13,"a",61),t.nI1(14,"navigationLocalize"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_take_test_only_app_available")),t.R7$(5),t.SpI(" ",t.bMT(9,8,"lang_core_tai_app_tai_day")," "),t.R7$(2),t.Y8G("ngIf",!e.isMobileWebView),t.R7$(),t.Y8G("ngIf",!e.isMobileWebView&&!e.isMobileDevice),t.R7$(2),t.Y8G("routerLink",t.eq3(14,mn,t.bMT(14,10,e.homeLink))),t.R7$(2),t.JRh(t.bMT(16,12,"lang_auto_quay_lai_trang_chu"))}}function Kc(n,s){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",78),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function Zc(n,s){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",79),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}let dn=(()=>{var n;class s extends Se{ngOnInit(){super.ngOnInit(),this.currentTakeTestStepData.currentStep==this.allTakeTestSteps.SHOW_APP_ONLY_MESSAGE&&this.commonService.openAppMobile(_c.t.AZOTA_STUDENT,{type:"take_test",data:this.currentTakeTestStepData.examObj.hashId})}constructor(){super()}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-in-list-layout"]],standalone:!0,features:[t.Vt3,t.aNF],decls:28,vars:20,consts:[["mainTakeTestContentTpl",""],["showListQuestionTpl",""],["chooseStudentTpl",""],["chooseCapacityExamTpl",""],["capacityExamIntro",""],["listQuestionSelectedInDesktop",""],["overTimeTpl",""],["commonErrorTpl",""],["showOnlyAppMessage",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],["listQuestionBar",""],[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent","currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize"],[3,"changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","currentTakeTestStepData","layoutType"],[1,"p-1","text-center","mt-1"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[3,"changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService"],[1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","sm:mt-0"],[3,"changeAnswerFiles","answerFiles"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","box p-3 mb-3",4,"ngIf"],["class","mt-2",4,"ngFor","ngForOf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],[1,"mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit","startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","overTime","index"],[1,"btn","btn-sm","btn-outline-secondary","mb-5","mt-5","mr-auto",3,"click"],["name","chevron-left","size","20"],[3,"selectStudentEvent","joinClassroomByType"],[3,"selectCapacityExamEmitter","hashId"],[3,"startedExamEvent","capacityComponent","waitingTime"],[1,"col-span-12","lg:col-span-3","mt-3"],[1,"top_gameBar","custom-scroll"],[1,"box","p-3"],[1,"text-md","font-medium","mb-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[3,"submitTestEvent","currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj"],[3,"showUploadEssayFilesDialogEvent","changeAnswerFilesEvent","currentTakeTestStepData"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[1,"mt-5","text-center"],[1,"block"],[1,"mt-2","font-medium"],["class","grid grid-cols-12 mt-2 ml-auto mr-auto justify-center",4,"ngIf"],["class","block",4,"ngIf"],[1,"grid","grid-cols-12","mt-2","ml-auto","mr-auto","justify-center"],[1,"col-span-12","w-full","self-center","mb-2"],["azt-track-service","print-exam-and-ticket-AVrdnS9P7","href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener",1,"pl-1","pr-1","mb-2","display-inline-block"],["alt","Get it on Google Play","width","150px",1,"play-store-badge",3,"src"],["azt-track-service","print-exam-and-ticket-ZrLBZdsFfU","href","https://apps.apple.com/vn/app/azota-student/id1556025594","target","_blank","rel","noopener",1,"pl-1","pl-1","mb-2","display-inline-block"],["alt","Download on the App Store","width","135px",1,"app-store-badge",3,"src"],[1,"col-span-12","items-center","mb-2"],[1,"px-1","mb-1","py-1","inline-flex","border","border-slate-200","rounded"],[1,"my-auto","font-medium"],[1,"ml-1",3,"fileName","linkUrl"],[1,"ml-2","px-1","py-1","mb-1","inline-flex","border","border-slate-200","rounded"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(o,a){1&o&&(t.nrm(0,"app-coazt-tracking-full-screen-event",12)(1,"app-coazt-tracking-visible-event",12),t.DNE(2,Tc,1,0,"app-coazt-leave-window-event",13)(3,hc,1,1,"ng-container",14)(4,bc,1,1,"ng-container",14)(5,wc,7,14,"div",13)(6,Dc,7,13,"ng-template",null,0,t.C5r)(8,Bc,7,5,"ng-template",null,1,t.C5r)(10,$c,5,6,"ng-template",null,2,t.C5r)(12,Yc,1,1,"ng-template",null,3,t.C5r)(14,Pc,1,2,"ng-template",null,4,t.C5r)(16,Vc,8,5,"ng-template",null,5,t.C5r)(18,Uc,2,9,"ng-template",null,6,t.C5r)(20,qc,10,11,"ng-template",null,7,t.C5r)(22,Jc,17,16,"ng-template",null,8,t.C5r)(24,Kc,1,2,"ng-template",null,9,t.C5r)(26,Zc,1,3,"ng-template",null,10,t.C5r)),2&o&&(t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData),t.R7$(),t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData),t.R7$(),t.Y8G("ngIf",t.l_i(6,pn,a.allTakeTestSteps.START_TEST,a.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(a.currentTakeTestStepData.currentStep)&&!a.questsLoadState.startLoad&&!a.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.currentStep==a.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.currentStep==a.allTakeTestSteps.SHOW_APP_ONLY_MESSAGE),t.R7$(),t.Y8G("ngIf",t.zJS(9,uc,[a.allTakeTestSteps.WAIT_TO_TEST_TIME,a.allTakeTestSteps.CHOOSE_STUDENT,a.allTakeTestSteps.CAPACITY_EXAM_SELECT,a.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,a.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,a.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,a.allTakeTestSteps.SHOW_FULL_SCREEN,a.allTakeTestSteps.SHOW_VIDEO_REQUIRED,a.allTakeTestSteps.START_TEST,a.allTakeTestSteps.CAPACITY_EXAM_INTRO]).includes(a.currentTakeTestStepData.currentStep)))},dependencies:[Lt,Qt,Mt,xe,A.K,Te,be,un,Ct.s,$e.H,Yt,Ut.l,de,me,Nt,Pt,Xt,bt.d,Vt,Bt,g.F2,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,l.iI,l.Wk,p.YN,g.wp,g.Vs,b.s,d.flO,d.WGl,h.L,g._y,T.Id,x.k],styles:[".top_gameBar[_ngcontent-%COMP%]{position:fixed;top:87px;right:10px;min-width:23.5vw;max-height:70vh;overflow:auto}.margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 30px)!important}.margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 27px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),s})();const gn=(n,s)=>[n,s],tu=(n,s,e,o,a,i,r,_,u,f)=>[n,s,e,o,a,i,r,_,u,f],eu=(n,s,e,o)=>[n,s,e,o],nu=(n,s)=>({"container-content-mobile":n,"container-content-desktop":s}),au=(n,s)=>({"margin-question-bar-for-simple-test-for-desktop":n,"margin-question-bar-for-simple-test-for-mobile":s}),ou=(n,s)=>({"monitor-screen":n,"monitor-screen-mobile":s}),su=n=>({joinByExamHashId:n}),fn=n=>[n];function iu(n,s){1&n&&t.nrm(0,"app-coazt-leave-window-event")}function ru(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG();const e=t.sdS(21);t.Y8G("ngTemplateOutlet",e)}}function lu(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG();const e=t.sdS(23);t.Y8G("ngTemplateOutlet",e)}}function _u(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",16),t.bIt("contextmenu",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.allowContextMenu)}),t.j41(2,"div",17),t.eu8(3,14),t.k0s()(),t.nrm(4,"azt-tracking-user-tags"),t.bVm()}if(2&n){const e=t.XpG(3),o=t.sdS(7);t.R7$(2),t.Y8G("ngClass",t.l_i(2,nu,e.isMobileScreenSize,!e.isMobileScreenSize)),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function cu(n,s){if(1&n&&(t.nrm(0,"azt-loading-effect",18),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function uu(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG(3);const e=t.sdS(27);t.Y8G("ngTemplateOutlet",e)}}function pu(n,s){if(1&n&&(t.qex(0),t.DNE(1,_u,5,5,"ng-container",12)(2,cu,2,4,"azt-loading-effect",15)(3,uu,1,1,"ng-container",13),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function mu(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(25);t.Y8G("ngTemplateOutlet",e)}}function du(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(11);t.Y8G("ngTemplateOutlet",e)}}function gu(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(13);t.Y8G("ngTemplateOutlet",e)}}function fu(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}function Tu(n,s){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(19);t.Y8G("ngTemplateOutlet",e)}}function hu(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,pu,4,3,"ng-container",12)(2,mu,1,1,"ng-container",13)(3,du,1,1,"ng-container",13)(4,gu,1,1,"ng-container",13)(5,fu,1,1,"ng-container",13)(6,Tu,1,1,"ng-container",13),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",t.ziG(6,eu,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CAPACITY_EXAM_SELECT),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CAPACITY_EXAM_INTRO),t.R7$(),t.Y8G("ngIf",t.l_i(11,gn,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function bu(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-desktop",25),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())})("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function xu(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-mobile",26),t.bIt("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)}}function Su(n,s){if(1&n&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName)}}function ku(n,s){if(1&n&&(t.j41(0,"span",29),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.currentTakeTestStepData.capacityComponent.name," ")}}function vu(n,s){if(1&n&&(t.j41(0,"div",27),t.DNE(1,Su,3,3,"span",28)(2,ku,2,1,"span",28),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.currentTakeTestStepData.capacityComponent),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.capacityComponent)}}function Cu(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-mobile",30),t.bIt("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)}}function Iu(n,s){if(1&n&&(t.DNE(0,bu,1,4,"app-coazt-simple-test-header-box-for-desktop",19)(1,xu,1,2,"app-coazt-simple-test-header-box-for-mobile",20),t.j41(2,"div",21),t.nrm(3,"div",22),t.DNE(4,vu,3,2,"div",23),t.eu8(5,14)(6,14),t.k0s(),t.DNE(7,Cu,1,3,"app-coazt-simple-test-footer-box-for-mobile",24)),2&n){const e=t.XpG(),o=t.sdS(9),a=t.sdS(17);t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(),t.Y8G("ngClass",t.l_i(8,au,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(),t.Y8G("ngClass",t.l_i(11,ou,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(),t.Y8G("ngTemplateOutlet",o),t.R7$(),t.Y8G("ngTemplateOutlet",a),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize)}}function yu(n,s){if(1&n&&(t.j41(0,"div",33),t.nrm(1,"div",34),t.nI1(2,"safeNormalHtmlContent"),t.k0s()),2&n){let e;const o=t.XpG(2);t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,null!==(e=null==o.currentTakeTestStepData.examConfigObj?null:o.currentTakeTestStepData.examConfigObj.header)&&void 0!==e?e:""),t.npT)}}function Ou(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"azt-question-standalone-for-student-at-full-test",38),t.bIt("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setEssayAnswerEmitter.emit(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking.emit(a))})("nextQuestionEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.nextTo(i.currentTakeTestStepData,a))})("prevQuestionEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.backTo(i.currentTakeTestStepData,a))})("sendAudioEmit",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion.emit(a))}),t.k0s()()()}if(2&n){const e=s.$implicit,o=s.index,a=s.last,i=t.XpG(3);t.R7$(),t.FS9("id","question_"+e.id),t.Y8G("hidden",o!=i.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex),t.R7$(),t.Y8G("startQuestionIndex",i.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",i.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",i.followerRenderQuest)("takeTestLayout",i.allTakeTestLayouts.STEP_QUESTION)("isMobile",i.isMobileScreenSize)("examObj",i.currentTakeTestStepData.examObj)("question",e)("index",o)("last",a)("overTime",!1)("fontSize",i.sAztTestResizeService.fontSize)("questionListLength",i.currentTakeTestStepData.viewQuestionObjs.length)}}function Eu(n,s){if(1&n&&(t.qex(0),t.DNE(1,Ou,3,16,"div",35),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}function wu(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-sort-essay-files-box",31),t.bIt("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s(),t.DNE(1,yu,3,3,"div",32)(2,Eu,2,1,"ng-container",12)}if(2&n){const e=t.XpG();t.Y8G("answerFiles",e.currentTakeTestStepData.files),t.R7$(),t.Y8G("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function Au(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",39),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.goBack())}),t.nrm(1,"lucide-icon",40),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"app-join-classroom-box",41),t.bIt("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.selectStudentEvent.emit(a))}),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_button_back")," "),t.R7$(2),t.Y8G("joinClassroomByType",t.eq3(4,su,e.currentTakeTestStepData.examObj.hashId))}}function zu(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-select-capacity-exam",42),t.bIt("selectCapacityExamEmitter",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.selectCapacityExamEmitter.emit(a))}),t.k0s()}if(2&n){let e;const o=t.XpG();t.Y8G("hashId",null!==(e=o.currentTakeTestStepData.examObj.hashId)&&void 0!==e?e:"")}}function ju(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-capacity-exam-intro",43),t.bIt("startedExamEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.startedExamEvent.emit())}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("capacityComponent",e.currentTakeTestStepData.capacityComponent)("waitingTime",e.currentTakeTestStepData.waitingTime)}}function Ru(n,s){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",46),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)}}function Fu(n,s){if(1&n&&(t.j41(0,"div",44),t.DNE(1,Ru,1,5,"app-coazt-list-shortcut-question-box",45),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function Gu(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",47),t.bIt("submitTestEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.submitTestToApi.emit(a))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",48),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}function Du(n,s){if(1&n&&(t.j41(0,"div",49)(1,"div",50)(2,"div",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",52)(6,"a",53),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,fn,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function Mu(n,s){1&n&&(t.j41(0,"div",59)(1,"div",60)(2,"a",61),t.nrm(3,"img",62),t.nI1(4,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.j41(5,"a",63),t.nrm(6,"img",64),t.nI1(7,"coreModConvertCdnLinkOfGitHub"),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("src",t.bMT(4,2,"images/google-play-badge.svg"),t.B4B),t.R7$(3),t.Y8G("src",t.bMT(7,4,"images/2928664.svg"),t.B4B))}function Lu(n,s){1&n&&(t.j41(0,"div",55)(1,"p",56),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",59)(5,"div",65)(6,"p",66)(7,"span",67),t.EFF(8,"Google Play"),t.k0s(),t.nrm(9,"azt-download-qr-code",68),t.k0s(),t.j41(10,"p",69)(11,"span",67),t.EFF(12,"App Store"),t.k0s(),t.nrm(13,"azt-download-qr-code",68),t.k0s()()()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_su_dung_ma_qr_de_tai_app_azota")," "),t.R7$(7),t.Y8G("fileName","azota_exam_qr_code_google_app")("linkUrl","https://play.google.com/store/apps/details?id=azt.azt"),t.R7$(4),t.Y8G("fileName","azota_exam_qr_code_app_store")("linkUrl","https://apps.apple.com/vn/app/azota-student/id1556025594"))}function Qu(n,s){if(1&n&&(t.j41(0,"div",49)(1,"div",50)(2,"div",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",54)(6,"div",55)(7,"p",56),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.DNE(10,Mu,8,6,"div",57),t.k0s(),t.DNE(11,Lu,14,7,"div",58),t.k0s(),t.j41(12,"div",52)(13,"a",53),t.nI1(14,"navigationLocalize"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_take_test_only_app_available")),t.R7$(5),t.SpI(" ",t.bMT(9,8,"lang_core_tai_app_tai_day")," "),t.R7$(2),t.Y8G("ngIf",!e.isMobileWebView),t.R7$(),t.Y8G("ngIf",!e.isMobileWebView&&!e.isMobileDevice),t.R7$(2),t.Y8G("routerLink",t.eq3(14,fn,t.bMT(14,10,e.homeLink))),t.R7$(2),t.JRh(t.bMT(16,12,"lang_auto_quay_lai_trang_chu"))}}function Nu(n,s){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",70),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function Bu(n,s){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",71),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}let Tn=(()=>{var n;class s extends Se{}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-in-step-layout"]],standalone:!0,features:[t.Vt3,t.aNF],decls:28,vars:20,consts:[["mainTakeTestContentTpl",""],["showStepQuestionTpl",""],["chooseStudentTpl",""],["chooseCapacityExamTpl",""],["capacityExamIntro",""],["listQuestionsSelectedInMobile",""],["overTimeTpl",""],["commonErrorTpl",""],["showOnlyAppMessage",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent","currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize"],[3,"changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","currentTakeTestStepData","layoutType"],[1,"p-1","text-center","mt-1"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[3,"changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService"],[3,"changeAnswerFiles","answerFiles"],["class","box p-3 mb-3",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],["class","mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit","startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","index","last","overTime","fontSize","questionListLength"],[1,"btn","btn-sm","btn-outline-secondary","mb-5","mt-5","mr-auto",3,"click"],["name","chevron-left","size","20"],[3,"selectStudentEvent","joinClassroomByType"],[3,"selectCapacityExamEmitter","hashId"],[3,"startedExamEvent","capacityComponent","waitingTime"],[1,"box","p-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[3,"submitTestEvent","currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj"],[3,"showUploadEssayFilesDialogEvent","changeAnswerFilesEvent","currentTakeTestStepData"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[1,"mt-5","text-center"],[1,"block"],[1,"mt-2","font-medium"],["class","grid grid-cols-12 mt-2 ml-auto mr-auto justify-center",4,"ngIf"],["class","block",4,"ngIf"],[1,"grid","grid-cols-12","mt-2","ml-auto","mr-auto","justify-center"],[1,"col-span-12","w-full","self-center","mb-2"],["azt-track-service","print-exam-and-ticket-AVrdnS9P7","href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener",1,"pl-1","pr-1","mb-2","display-inline-block"],["alt","Get it on Google Play","width","150px",1,"play-store-badge",3,"src"],["azt-track-service","print-exam-and-ticket-ZrLBZdsFfU","href","https://apps.apple.com/vn/app/azota-student/id1556025594","target","_blank","rel","noopener",1,"pl-1","pl-1","mb-2","display-inline-block"],["alt","Download on the App Store","width","135px",1,"app-store-badge",3,"src"],[1,"col-span-12","items-center","mb-2"],[1,"px-1","mb-1","py-1","inline-flex","border","border-slate-200","rounded"],[1,"my-auto","font-medium"],[1,"ml-1",3,"fileName","linkUrl"],[1,"ml-2","px-1","py-1","mb-1","inline-flex","border","border-slate-200","rounded"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(o,a){1&o&&(t.nrm(0,"app-coazt-tracking-full-screen-event",11)(1,"app-coazt-tracking-visible-event",11),t.DNE(2,iu,1,0,"app-coazt-leave-window-event",12)(3,ru,1,1,"ng-container",13)(4,lu,1,1,"ng-container",13)(5,hu,7,14,"div",12)(6,Iu,8,14,"ng-template",null,0,t.C5r)(8,wu,3,3,"ng-template",null,1,t.C5r)(10,Au,5,6,"ng-template",null,2,t.C5r)(12,zu,1,1,"ng-template",null,3,t.C5r)(14,ju,1,2,"ng-template",null,4,t.C5r)(16,Fu,2,1,"ng-template",null,5,t.C5r)(18,Gu,2,9,"ng-template",null,6,t.C5r)(20,Du,10,11,"ng-template",null,7,t.C5r)(22,Qu,17,16,"ng-template",null,8,t.C5r)(24,Nu,1,2,"ng-template",null,9,t.C5r)(26,Bu,1,3,"ng-template",null,10,t.C5r)),2&o&&(t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData),t.R7$(),t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData),t.R7$(),t.Y8G("ngIf",t.l_i(6,gn,a.allTakeTestSteps.START_TEST,a.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(a.currentTakeTestStepData.currentStep)&&!a.questsLoadState.startLoad&&!a.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.currentStep==a.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.currentStep==a.allTakeTestSteps.SHOW_APP_ONLY_MESSAGE),t.R7$(),t.Y8G("ngIf",t.zJS(9,tu,[a.allTakeTestSteps.WAIT_TO_TEST_TIME,a.allTakeTestSteps.CHOOSE_STUDENT,a.allTakeTestSteps.CAPACITY_EXAM_SELECT,a.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,a.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,a.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,a.allTakeTestSteps.SHOW_FULL_SCREEN,a.allTakeTestSteps.SHOW_VIDEO_REQUIRED,a.allTakeTestSteps.START_TEST,a.allTakeTestSteps.CAPACITY_EXAM_INTRO]).includes(a.currentTakeTestStepData.currentStep)))},dependencies:[Lt,Qt,Mt,xe,A.K,Te,be,un,Ct.s,Yt,Ut.l,de,me,Nt,Pt,Xt,bt.d,Vt,Bt,g.F2,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,l.iI,l.Wk,p.YN,g.wp,g.Vs,b.s,d.flO,d.WGl,h.L,g._y,T.Id,x.k],styles:[".margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%], .margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 24px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),s})();const $u=()=>({"transition-3":!0}),Yu=n=>({"bg-primary/10":n}),Pu=n=>({"text-primary":n}),hn=()=>({"mr-2":!0}),Xu=()=>({"ml-2":!0}),Vu=(n,s)=>({"btn-primary-soft":n,"btn-outline-secondary":s});function Uu(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",18)(1,"a",19),t.bIt("click",function(){t.eBV(e);const a=t.XpG().index,i=t.XpG();return t.Njj(i.setQuestionInGroup(a))}),t.j41(2,"div",20)(3,"div",21)(4,"div",22),t.EFF(5),t.k0s()(),t.j41(6,"div",23)(7,"div",24),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",25),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()()}if(2&n){const e=t.XpG(),o=e.$implicit,a=e.index,i=t.XpG();t.Y8G("ngClass",t.eq3(14,Yu,a===i.indexGroup)),t.R7$(),t.FS9("id","azt_group_"+o.groupId),t.R7$(),t.Y8G("ngClass",t.eq3(16,Pu,a===i.indexGroup)),t.R7$(),t.tcI("background: conic-gradient(#1e40afe6 ",o.totalCompletedQuestion/o.totalQuestion*100,"%, #e2e8f0 ",o.totalCompletedQuestion/o.totalQuestion*100,"%)"),t.R7$(2),t.SpI(" ",o.totalCompletedQuestion+"/"+o.totalQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(9,10,"lang_auto_nhom")+" "+(a+1)," "),t.R7$(3),t.SpI(" ",o.totalQuestion+" "+t.bMT(12,12,"lang_notice_question")," ")}}function qu(n,s){if(1&n&&(t.qex(0),t.DNE(1,Uu,13,18,"div",17),t.bVm()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("ngIf",e&&(null==e||null==e.questionList?null:e.questionList.length))}}function Hu(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.prevIndexGroup())}),t.nrm(1,"lucide-icon",27),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.lJ4(6,hn)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_auto_nhom")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1].groupId+" ("+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1].totalQuestion+" "+t.bMT(5,4,"lang_auto_cau_thuong")+")","")}}function Wu(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.nextIndexGroup())}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",29),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_nhom")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].groupId+" ("+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].totalQuestion+" "+t.bMT(4,4,"lang_auto_cau_thuong")+")",""),t.R7$(3),t.Y8G("ngClass",t.lJ4(6,Xu))}}function Ju(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.submitExamEvent.emit())}),t.nrm(1,"lucide-icon",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,hn)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_nop_bai")," "))}function Ku(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){const a=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.goToQuestionEvent.emit(a.id))}),t.j41(1,"span",33),t.EFF(2),t.k0s()()}if(2&n){let e;const o=s.$implicit,a=t.XpG();t.Y8G("ngClass",t.l_i(2,Vu,o.status,!o.status)),t.R7$(2),t.SpI(" ",(null!==(e=null!=(null==o?null:o.labelIndex)?o.labelIndex:null!==(e=o.startQuestionIndexWidthViewGroup)&&void 0!==e?e:0)&&void 0!==e?e:0)+(null!==(e=a.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==e?e:1)," ")}}let Zu=(()=>{var n;class s extends S.H{nextIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1].groupId}`),this.nextIndexGroupEvent.emit())}prevIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1].groupId}`),this.prevIndexGroupEvent.emit())}setQuestionInGroup(o){this.indexGroup!==o&&this.currentTakeTestStepData.viewQuestionInGroupList[o]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[o].groupId}`,{left:this.indexGroup<o?-20:-150}),this.setQuestionInGroupEvent.emit(o))}constructor(){super(),this.setQuestionInGroupEvent=new t.bkB,this.toggleShowListQuestionInGroupEvent=new t.bkB,this.prevIndexGroupEvent=new t.bkB,this.nextIndexGroupEvent=new t.bkB,this.submitExamEvent=new t.bkB,this.goToQuestionEvent=new t.bkB}ngOnInit(){}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-footer-box-for-group-layout"]],viewQuery:function(o,a){if(1&o&&t.GBs(T.Yh,7),2&o){let i;t.mGM(i=t.lsd())&&(a.scrollable=i.first)}},inputs:{currentTakeTestStepData:"currentTakeTestStepData",indexGroup:"indexGroup",layoutType:"layoutType"},outputs:{setQuestionInGroupEvent:"setQuestionInGroupEvent",toggleShowListQuestionInGroupEvent:"toggleShowListQuestionInGroupEvent",prevIndexGroupEvent:"prevIndexGroupEvent",nextIndexGroupEvent:"nextIndexGroupEvent",submitExamEvent:"submitExamEvent",goToQuestionEvent:"goToQuestionEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:9,consts:[["scrollbarRef",""],[1,"box","fixed","w-full","bottom-0","left-0","rounded-none","border-t","border-slate-200","z-999"],[1,"flex","items-center"],[1,"flex","items-center","mr-auto"],[1,"h-full","box-group-question"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],[1,"flex","items-center","p-2","user-select-none"],[4,"ngFor","ngForOf"],[1,"ml-auto","flex","itemcs-center","p-3"],["azt-track-service","take-test-in-group-layout-xO-By9VnKm",1,"btn","btn-outline-secondary","border-3","rounded-full","p-3","mr-3","w-10","h-10",3,"click"],["name","chevron-up","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ","class","btn btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj","class","btn btn-outline-primary",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_","class","btn btn-primary",3,"click",4,"ngIf"],["id","contentBlock",1,"shadow","border-t","border-slate-200/60","px-3","pb-3","questionListInGroup"],[1,"mt-0"],["azt-track-service","take-test-in-group-layout-2fFqi7pOaJ","class","btn p-4 border-slate-300 dark:border-darkmode-400 relative mr-3 mt-3 user-select-none","style","width: 55px; height: 30px;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","p-1 mr-5 rounded-md",3,"ngClass",4,"ngIf"],[1,"p-1","mr-5","rounded-md",3,"ngClass"],["azt-track-service","take-test-in-group-layout-Go4BLT6di",1,"cursor-pointer",3,"click","id"],[1,"flex","items-center","transition-3",3,"ngClass"],[1,"azt-progress-circle"],[1,"azt-progress-value","text-xs","font-medium"],[1,"ml-2","whitespace-nowrap"],[1,"font-medium","uppercase"],[1,"text-upercase","text-xs"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ",1,"btn","btn-outline-primary","mr-3",3,"click"],["name","move-left","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj",1,"btn","btn-outline-primary",3,"click"],["name","move-right","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_",1,"btn","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-2fFqi7pOaJ",1,"btn","p-4","border-slate-300","dark:border-darkmode-400","relative","mr-3","mt-3","user-select-none",2,"width","55px","height","30px",3,"click","ngClass"],[1,"absolute","absolute-center"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"ng-scrollbar",5,0)(6,"div",6),t.DNE(7,qu,2,1,"ng-container",7),t.k0s()()()(),t.j41(8,"div",8)(9,"button",9),t.bIt("click",function(){return t.eBV(i),t.Njj(a.toggleShowListQuestionInGroupEvent.emit())}),t.nrm(10,"lucide-icon",10),t.k0s(),t.DNE(11,Hu,6,7,"button",11)(12,Wu,6,7,"button",12)(13,Ju,4,5,"button",13),t.k0s()(),t.j41(14,"div",14)(15,"ng-scrollbar",5,0)(17,"div",15),t.DNE(18,Ku,3,5,"button",16),t.k0s()()()()}2&o&&(t.R7$(4),t.Y8G("visibility","always"),t.R7$(3),t.Y8G("ngForOf",a.currentTakeTestStepData.viewQuestionInGroupList),t.R7$(3),t.Y8G("ngClass",t.lJ4(8,$u)),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup-1]),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup+1]),t.R7$(),t.Y8G("ngIf",!a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup+1]),t.R7$(2),t.Y8G("visibility","always"),t.R7$(3),t.Y8G("ngForOf",null==a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup]?null:a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].questionList))},dependencies:[c.MD,c.YU,c.Sq,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,T.Yh,x.k],styles:[".border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{height:60px;max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:calc(100vw - 600px);height:64px}  .dark .azt-progress-value{background-color:#28334e}"]}),s})();const tp=(n,s)=>({"rotate-180deg":n,"rotate-0":s}),ep=n=>({"text-primary":n});function np(n,s){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",24),t.bIt("click",function(){const a=t.eBV(e).index,i=t.XpG();return t.Njj(i.setQuestionInGroupEvent.emit(a))}),t.j41(2,"div",25)(3,"div",9)(4,"div",10),t.EFF(5),t.k0s()(),t.j41(6,"div",11)(7,"div",12),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()()}if(2&n){const e=s.$implicit,o=s.index,a=t.XpG();t.R7$(),t.FS9("id","azt_group_"+e.groupId),t.R7$(),t.Y8G("ngClass",t.eq3(13,ep,o===a.indexGroup)),t.R7$(),t.tcI("background: conic-gradient(#1e40afe6 ",e.totalCompletedQuestion/e.totalQuestion*100,"%, #e2e8f0 ",e.totalCompletedQuestion/e.totalQuestion*100,"%)"),t.R7$(2),t.SpI(" ",e.totalCompletedQuestion+"/"+e.totalQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(9,9,"lang_auto_nhom")+" "+(o+1)," "),t.R7$(3),t.SpI(" ",e.totalQuestion+" "+t.bMT(12,11,"lang_notice_question")," ")}}let ap=(()=>{var n;class s extends S.H{nextIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1].groupId}`),this.nextIndexGroupEvent.emit())}prevIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1].groupId}`),this.prevIndexGroupEvent.emit())}constructor(){super(),this.setQuestionInGroupEvent=new t.bkB,this.toggleShowListQuestionInGroupEvent=new t.bkB,this.prevIndexGroupEvent=new t.bkB,this.nextIndexGroupEvent=new t.bkB,this.submitExamEvent=new t.bkB,this.goToQuestionEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=N}ngOnInit(){}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-footer-box-for-group-layout-mobile"]],viewQuery:function(o,a){if(1&o&&t.GBs(T.Yh,7),2&o){let i;t.mGM(i=t.lsd())&&(a.scrollable=i.first)}},inputs:{currentTakeTestStepData:"currentTakeTestStepData",indexGroup:"indexGroup",layoutType:"layoutType",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService"},outputs:{setQuestionInGroupEvent:"setQuestionInGroupEvent",toggleShowListQuestionInGroupEvent:"toggleShowListQuestionInGroupEvent",prevIndexGroupEvent:"prevIndexGroupEvent",nextIndexGroupEvent:"nextIndexGroupEvent",submitExamEvent:"submitExamEvent",goToQuestionEvent:"goToQuestionEvent",changeShowTypeEvent:"changeShowTypeEvent",openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:30,vars:22,consts:[["menuTrigger","matMenuTrigger"],["questionGroupListMenu","matMenu"],["actionMenu","matMenu"],[1,"box","fixed","w-full","bottom-0","left-0","rounded-none","border-t","border-slate-200","z-999"],[1,"flex","items-center"],[1,"p-2","mr-auto"],[1,"py-1","px-3","mr-5","rounded-md","bg-primary/10"],[1,"cursor-pointer",3,"id","matMenuTriggerFor"],[1,"flex","items-center","transition-3","text-primary"],[1,"azt-progress-circle"],[1,"azt-progress-value","text-xs","font-medium"],[1,"ml-2","whitespace-nowrap"],[1,"font-medium","uppercase"],[1,"text-upercase","text-xs"],[1,"ml-2","transition-3",3,"ngClass"],["name","chevron-down","size","20"],[1,"ml-3","pr-2"],[1,"btn","btn-outline-secondary","rounded-full","h-48px","w-48px",3,"matMenuTriggerFor"],["name","layout-grid","size","20"],["xPosition","before"],[1,"dropdown-menu","show","white-scroll","relative","w-64","mb-2"],[1,"dropdown-content","max-height-400px","overflow-auto","custom-scroll"],[4,"ngFor","ngForOf"],[3,"submitExamEvent","goToQuestionEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService"],["azt-track-service","simple-test-footer-box-for-group-layout-mobile-ka0g-91UQ",1,"cursor-pointer","dropdown-item",3,"click","id"],[1,"flex","items-center","transition-3",3,"ngClass"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"a",7,0)(6,"div",8)(7,"div",9)(8,"div",10),t.EFF(9),t.k0s()(),t.j41(10,"div",11)(11,"div",12),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",14),t.nrm(18,"lucide-icon",15),t.k0s()()()()(),t.j41(19,"div",16)(20,"button",17),t.nrm(21,"lucide-icon",18),t.k0s()()()(),t.j41(22,"mat-menu",19,1)(24,"div",20)(25,"ul",21),t.DNE(26,np,13,15,"li",22),t.k0s()()(),t.j41(27,"mat-menu",19,2)(29,"app-coazt-simple-test-menu-bar",23),t.bIt("submitExamEvent",function(){return t.eBV(i),t.Njj(a.submitExamEvent.emit())})("goToQuestionEvent",function(_){return t.eBV(i),t.Njj(a.goToQuestionEvent.emit(_))})("changeShowTypeEvent",function(_){return t.eBV(i),t.Njj(a.changeShowTypeEvent.emit(_))})("openSubmitExamEvent",function(){return t.eBV(i),t.Njj(a.openSubmitExamEvent.emit())})("showUploadEssayFilesDialogEvent",function(){return t.eBV(i),t.Njj(a.showUploadEssayFilesDialogEvent.emit())})("openQuitDialogEvent",function(){return t.eBV(i),t.Njj(a.openQuitDialogEvent.emit())}),t.k0s()()}if(2&o){const i=t.sdS(5),r=t.sdS(23),_=t.sdS(28);t.R7$(4),t.FS9("id","azt_group_"+a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].groupId),t.Y8G("matMenuTriggerFor",r),t.R7$(3),t.tcI("background: conic-gradient(#1e40afe6 ",a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].totalCompletedQuestion/a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].totalQuestion*100,"%, #e2e8f0 ",a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].totalCompletedQuestion/a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].totalQuestion*100,"%)"),t.R7$(2),t.SpI(" ",a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].totalCompletedQuestion+"/"+a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].totalQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(13,15,"lang_auto_nhom")+" "+(a.indexGroup+1)," "),t.R7$(3),t.SpI(" ",a.currentTakeTestStepData.viewQuestionInGroupList[a.indexGroup].totalQuestion+" "+t.bMT(16,17,"lang_notice_question")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(19,tp,i.menuOpen,!i.menuOpen)),t.R7$(3),t.Y8G("matMenuTriggerFor",_),t.R7$(6),t.Y8G("ngForOf",a.currentTakeTestStepData.viewQuestionInGroupList),t.R7$(3),t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData)("layoutType",a.allTakeTestLayouts.GROUP_QUESTION)("sAztTestNextBackQuestionService",a.sAztTestNextBackQuestionService)}},dependencies:[cn,c.MD,c.YU,c.Sq,p.X1,l.iI,p.YN,g.wp,b.s,U.kk,U.Cp,d.flO,d.WGl,h.L,T.Id,x.k],styles:[".border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.h-55px[_ngcontent-%COMP%]{height:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:100vw;height:64px}.max-height-400px[_ngcontent-%COMP%]{max-height:400px}.h-48px[_ngcontent-%COMP%]{height:48px}.w-48px[_ngcontent-%COMP%]{width:48px}  .dark .azt-progress-value{background-color:#28334e}.rotate-180deg[_ngcontent-%COMP%]{transform:rotate(-180deg)}.rotate-0[_ngcontent-%COMP%]{transform:rotate(0)}"]}),s})();const bn=(n,s)=>[n,s],op=(n,s,e,o,a,i,r,_,u,f)=>[n,s,e,o,a,i,r,_,u,f],sp=(n,s,e,o)=>[n,s,e,o],ip=(n,s)=>({"container-content-mobile":n,"container-content-desktop":s}),rp=(n,s)=>({"monitor-screen":n,"monitor-screen-mobile":s}),lp=(n,s)=>({"height-showListQuestion":n,"height-hiddenListQuestion":s}),xn=()=>({"mr-2":!0}),_p=()=>({"ml-2":!0}),cp=n=>({joinByExamHashId:n}),Sn=n=>[n];function up(n,s){1&n&&t.nrm(0,"app-coazt-leave-window-event")}function pp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG();const e=t.sdS(27);t.Y8G("ngTemplateOutlet",e)}}function mp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG();const e=t.sdS(29);t.Y8G("ngTemplateOutlet",e)}}function dp(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",20),t.bIt("contextmenu",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.allowContextMenu)}),t.j41(2,"div",21),t.eu8(3,18),t.k0s()(),t.nrm(4,"azt-tracking-user-tags"),t.bVm()}if(2&n){const e=t.XpG(3),o=t.sdS(7);t.R7$(2),t.Y8G("ngClass",t.l_i(2,ip,e.isMobileScreenSize,!e.isMobileScreenSize)),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function gp(n,s){if(1&n&&(t.nrm(0,"azt-loading-effect",22),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function fp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG(3);const e=t.sdS(33);t.Y8G("ngTemplateOutlet",e)}}function Tp(n,s){if(1&n&&(t.qex(0),t.DNE(1,dp,5,5,"ng-container",16)(2,gp,2,4,"azt-loading-effect",19)(3,fp,1,1,"ng-container",17),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function hp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG(2);const e=t.sdS(31);t.Y8G("ngTemplateOutlet",e)}}function bp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG(2);const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}function xp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG(2);const e=t.sdS(17);t.Y8G("ngTemplateOutlet",e)}}function Sp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG(2);const e=t.sdS(19);t.Y8G("ngTemplateOutlet",e)}}function kp(n,s){if(1&n&&t.eu8(0,18),2&n){t.XpG(2);const e=t.sdS(25);t.Y8G("ngTemplateOutlet",e)}}function vp(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,Tp,4,3,"ng-container",16)(2,hp,1,1,"ng-container",17)(3,bp,1,1,"ng-container",17)(4,xp,1,1,"ng-container",17)(5,Sp,1,1,"ng-container",17)(6,kp,1,1,"ng-container",17),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",t.ziG(6,sp,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CAPACITY_EXAM_SELECT),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CAPACITY_EXAM_INTRO),t.R7$(),t.Y8G("ngIf",t.l_i(11,bn,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function Cp(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-desktop",32),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())})("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function Ip(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-mobile",33),t.bIt("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)("currentTakeTestStepData",e.currentTakeTestStepData)}}function yp(n,s){if(1&n&&(t.j41(0,"span",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName)}}function Op(n,s){if(1&n&&(t.j41(0,"span",36),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.currentTakeTestStepData.capacityComponent.name," ")}}function Ep(n,s){if(1&n&&(t.j41(0,"div",34),t.DNE(1,yp,3,3,"span",35)(2,Op,2,1,"span",35),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.currentTakeTestStepData.capacityComponent),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.capacityComponent)}}function wp(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-group-layout",37),t.bIt("setQuestionInGroupEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionInGroup(a))})("toggleShowListQuestionInGroupEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.toggleShowListQuestionInGroup())})("prevIndexGroupEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.prevIndexGroup())})("nextIndexGroupEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.nextIndexGroup())})("submitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.submitExam())})("goToQuestionEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.goToQuestion(a))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("indexGroup",e.indexGroup)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function Ap(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-group-layout-mobile",38),t.bIt("setQuestionInGroupEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionInGroup(a))})("toggleShowListQuestionInGroupEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.toggleShowListQuestionInGroup())})("prevIndexGroupEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.prevIndexGroup())})("nextIndexGroupEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.nextIndexGroup())})("submitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.submitExam())})("goToQuestionEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.goToQuestion(a))})("changeShowTypeEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(a))})("openSubmitExamEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("indexGroup",e.indexGroup)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)}}function zp(n,s){if(1&n&&(t.DNE(0,Cp,1,4,"app-coazt-simple-test-header-box-for-desktop",23)(1,Ip,1,2,"app-coazt-simple-test-header-box-for-mobile",24),t.j41(2,"div",25),t.nrm(3,"div",26),t.DNE(4,Ep,3,2,"div",27),t.j41(5,"div",28),t.eu8(6,18),t.k0s(),t.j41(7,"div",29),t.eu8(8,18),t.k0s()(),t.DNE(9,wp,1,3,"app-coazt-simple-test-footer-box-for-group-layout",30)(10,Ap,1,4,"app-coazt-simple-test-footer-box-for-group-layout-mobile",31)),2&n){const e=t.XpG(),o=t.sdS(9),a=t.sdS(11);t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(2),t.Y8G("ngClass",t.l_i(8,rp,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(2),t.Y8G("ngTemplateOutlet",o),t.R7$(2),t.Y8G("ngTemplateOutlet",a),t.R7$(),t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize)}}function jp(n,s){if(1&n&&(t.j41(0,"div",39),t.qex(1),t.j41(2,"div",40)(3,"div",41)(4,"div",42),t.nrm(5,"azt-dynamic-hook",43),t.k0s()()(),t.bVm(),t.j41(6,"div",44),t.eu8(7,18),t.k0s()()),2&n){let e;const o=t.XpG(),a=t.sdS(13);t.Y8G("ngClass",t.l_i(7,lp,o.isShowListQuestionInGroup,!o.isShowListQuestionInGroup)),t.R7$(4),t.xc7("font-size",o.sAztTestResizeService.fontSize+"em")("line-height",o.sAztTestResizeService.fontSize<1.5?o.sAztTestResizeService.fontSize+.5:"1.7"),t.R7$(),t.Y8G("content",null!==(e=null==o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].groupInfo?null:o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].groupInfo.groupContent)&&void 0!==e?e:""),t.R7$(2),t.Y8G("ngTemplateOutlet",a)}}function Rp(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",55)(2,"div",41)(3,"div",42),t.nrm(4,"azt-dynamic-hook",43),t.k0s()()(),t.bVm()),2&n){let e;const o=t.XpG(2);t.R7$(3),t.xc7("font-size",o.sAztTestResizeService.fontSize+"em")("line-height",o.sAztTestResizeService.fontSize<1.5?o.sAztTestResizeService.fontSize+.5:"1.7"),t.R7$(),t.Y8G("content",null!==(e=null==o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].groupInfo?null:o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].groupInfo.groupContent)&&void 0!==e?e:"")}}function Fp(n,s){if(1&n&&(t.j41(0,"div",56)(1,"span",36),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName)}}function Gp(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",57),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.prevIndexGroup())}),t.nrm(1,"lucide-icon",58),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,xn)))}function Dp(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",59),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.nextIndexGroup())}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",60),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_nhom")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].groupId+" ("+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].totalQuestion+" "+t.bMT(4,4,"lang_auto_cau_thuong")+")"," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(6,_p))}}function Mp(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",61),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.submitExam())}),t.nrm(1,"lucide-icon",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,xn)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_nop_bai")," "))}function Lp(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"lucide-icon",63),t.k0s())}function Qp(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"lucide-icon",64),t.k0s())}function Np(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",45)(1,"div",46),t.DNE(2,Rp,5,5,"ng-container",16),t.k0s(),t.j41(3,"div",47),t.DNE(4,Fp,4,3,"div",48),t.eu8(5,18),t.j41(6,"div",49),t.DNE(7,Gp,2,2,"button",50)(8,Dp,6,7,"button",51)(9,Mp,4,5,"button",52),t.k0s()()(),t.j41(10,"div",53)(11,"button",54),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.toggleViewMobile())}),t.DNE(12,Lp,2,0,"span",16)(13,Qp,2,0,"span",16),t.k0s()()}if(2&n){const e=t.XpG(),o=t.sdS(13);t.R7$(),t.Y8G("hidden",!e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].groupInfo),t.R7$(),t.Y8G("hidden",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile),t.R7$(),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(),t.Y8G("ngTemplateOutlet",o),t.R7$(2),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1]),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1]),t.R7$(),t.Y8G("ngIf",!e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1]),t.R7$(3),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile),t.R7$(),t.Y8G("ngIf",!e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile)}}function Bp(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",67)(1,"app-sort-essay-files-box",68),t.bIt("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(),t.Y8G("answerFiles",e.currentTakeTestStepData.files)}}function $p(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",70)(1,"div",71)(2,"azt-question-standalone-for-student-at-full-test",72),t.bIt("setOneChoiceAnswerEmitter",function(a){const i=t.eBV(e).index,r=t.XpG(3);return t.Njj(r.setOneChoiceAnswer(a,i))})("setTrueFalseAnswerEmitter",function(a){const i=t.eBV(e).index,r=t.XpG(3);return t.Njj(r.setTrueFalseAnswer(a,i))})("setFillAnswerEmitter",function(a){const i=t.eBV(e).index,r=t.XpG(3);return t.Njj(r.setFillAnswer(a,i))})("setEssayAnswerEmitter",function(a){const i=t.eBV(e).index,r=t.XpG(3);return t.Njj(r.setEssayAnswer(a,i))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking.emit(a))})("nextQuestionEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.nextTo(i.currentTakeTestStepData,a))})("prevQuestionEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.backTo(i.currentTakeTestStepData,a))})("sendAudioEmit",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion.emit(a))}),t.k0s()()()}if(2&n){let e;const o=s.$implicit,a=t.XpG().index,i=t.XpG(2);t.Y8G("hidden",a!==i.indexGroup),t.R7$(),t.FS9("id","question_in_group_"+o.id),t.R7$(),t.Y8G("startQuestionIndex",i.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",i.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",i.followerRenderQuest)("takeTestLayout",i.allTakeTestLayouts.GROUP_QUESTION)("isMobile",i.isMobileScreenSize)("examObj",i.currentTakeTestStepData.examObj)("question",o)("fontSize",i.sAztTestResizeService.fontSize)("overTime",!1)("index",null!==(e=o.startQuestionIndexWidthViewGroup)&&void 0!==e?e:0)}}function Yp(n,s){if(1&n&&(t.qex(0),t.DNE(1,$p,3,14,"div",69),t.bVm()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("ngForOf",null==e?null:e.questionList)}}function Pp(n,s){if(1&n&&t.DNE(0,Bp,2,1,"div",65)(1,Yp,2,1,"ng-container",66),2&n){const e=t.XpG();t.Y8G("ngIf",null==e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup]?null:e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isExistEssay),t.R7$(),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionInGroupList)}}function Xp(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",73),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.goBack())}),t.nrm(1,"lucide-icon",74),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"app-join-classroom-box",75),t.bIt("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.selectStudentEvent.emit(a))}),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_button_back")," "),t.R7$(2),t.Y8G("joinClassroomByType",t.eq3(4,cp,e.currentTakeTestStepData.examObj.hashId))}}function Vp(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-select-capacity-exam",76),t.bIt("selectCapacityExamEmitter",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.selectCapacityExamEmitter.emit(a))}),t.k0s()}if(2&n){let e;const o=t.XpG();t.Y8G("hashId",null!==(e=o.currentTakeTestStepData.examObj.hashId)&&void 0!==e?e:"")}}function Up(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-capacity-exam-intro",77),t.bIt("startedExamEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.startedExamEvent.emit())}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("capacityComponent",e.currentTakeTestStepData.capacityComponent)("waitingTime",e.currentTakeTestStepData.waitingTime)}}function qp(n,s){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",80),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function Hp(n,s){if(1&n&&(t.j41(0,"div",78),t.DNE(1,qp,1,5,"app-coazt-list-shortcut-question-box",79),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function Wp(n,s){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",80),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function Jp(n,s){if(1&n&&(t.j41(0,"div",81,14)(2,"div",82)(3,"div",78)(4,"h3",83),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,Wp,1,5,"app-coazt-list-shortcut-question-box",79),t.k0s()()()),2&n){const e=t.sdS(1),o=t.XpG();t.R7$(2),t.BMQ("style","width:"+e.offsetWidth+"px",t.$dS),t.R7$(3),t.SpI(" ",t.bMT(6,3,"lang_auto_danh_sach_cau_hoi")," "),t.R7$(2),t.Y8G("ngIf",o.currentTakeTestStepData.nextBackQuestionModel)}}function Kp(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",84),t.bIt("submitTestEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.submitTestToApi.emit(a))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",85),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}function Zp(n,s){if(1&n&&(t.j41(0,"div",86)(1,"div",87)(2,"div",88),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",89)(6,"a",90),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,Sn,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function tm(n,s){1&n&&(t.j41(0,"div",96)(1,"div",97)(2,"a",98),t.nrm(3,"img",99),t.nI1(4,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.j41(5,"a",100),t.nrm(6,"img",101),t.nI1(7,"coreModConvertCdnLinkOfGitHub"),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("src",t.bMT(4,2,"images/google-play-badge.svg"),t.B4B),t.R7$(3),t.Y8G("src",t.bMT(7,4,"images/2928664.svg"),t.B4B))}function em(n,s){1&n&&(t.j41(0,"div",92)(1,"p",93),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",96)(5,"div",102)(6,"p",103)(7,"span",104),t.EFF(8,"Google Play"),t.k0s(),t.nrm(9,"azt-download-qr-code",105),t.k0s(),t.j41(10,"p",106)(11,"span",104),t.EFF(12,"App Store"),t.k0s(),t.nrm(13,"azt-download-qr-code",105),t.k0s()()()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_su_dung_ma_qr_de_tai_app_azota")," "),t.R7$(7),t.Y8G("fileName","azota_exam_qr_code_google_app")("linkUrl","https://play.google.com/store/apps/details?id=azt.azt"),t.R7$(4),t.Y8G("fileName","azota_exam_qr_code_app_store")("linkUrl","https://apps.apple.com/vn/app/azota-student/id1556025594"))}function nm(n,s){if(1&n&&(t.j41(0,"div",86)(1,"div",87)(2,"div",88),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",91)(6,"div",92)(7,"p",93),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.DNE(10,tm,8,6,"div",94),t.k0s(),t.DNE(11,em,14,7,"div",95),t.k0s(),t.j41(12,"div",89)(13,"a",90),t.nI1(14,"navigationLocalize"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_take_test_only_app_available")),t.R7$(5),t.SpI(" ",t.bMT(9,8,"lang_core_tai_app_tai_day")," "),t.R7$(2),t.Y8G("ngIf",!e.isMobileWebView),t.R7$(),t.Y8G("ngIf",!e.isMobileWebView&&!e.isMobileDevice),t.R7$(2),t.Y8G("routerLink",t.eq3(14,Sn,t.bMT(14,10,e.homeLink))),t.R7$(2),t.JRh(t.bMT(16,12,"lang_auto_quay_lai_trang_chu"))}}function am(n,s){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",107),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function om(n,s){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",108),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}let kn=(()=>{var n;class s extends Se{constructor(){super(...arguments),this.indexGroup=0,this.isShowListQuestionInGroup=!0}toggleShowListQuestionInGroup(){this.isShowListQuestionInGroup=!this.isShowListQuestionInGroup;const o=document.getElementById("contentBlock"),a=document.getElementById("lucide-chevron-up");a&&o&&(this.isShowListQuestionInGroup?(o.style.maxHeight="60px",a.style.transform="rotate(0)"):(o.style.maxHeight="0px",a.style.transform="rotate(180deg)"))}setQuestionInGroup(o){this.indexGroup!=o&&(this.indexGroup=o,this.scrollQuestion())}goToQuestion(o){document.getElementById("question_in_group_"+o)?.scrollIntoView({behavior:"smooth"})}setStatusAnswer(o,a){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList[o]&&(this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList[o].status=a,this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].totalCompletedQuestion=this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList.filter(i=>i.status).length)}setOneChoiceAnswer(o,a){this.setOneChoiceAnswerEmitter.emit(o),this.setStatusAnswer(a,!0)}setTrueFalseAnswer(o,a){this.setTrueFalseAnswerEmitter.emit(o),this.setStatusAnswer(a,void 0!==o?.answerConfig?.checked)}setFillAnswer(o,a){this.setFillAnswerEmitter.emit(o),this.setStatusAnswer(a,""!==o.value)}setEssayAnswer(o,a){this.setEssayAnswerEmitter.emit(o),this.setStatusAnswer(a,""!==o.value)}prevIndexGroup(){this.indexGroup--,this.scrollQuestion()}nextIndexGroup(){this.indexGroup++,this.scrollQuestion()}submitExam(){this.openSubmitExam.emit()}toggleViewMobile(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].isShowGroupMobile=!this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].isShowGroupMobile}scrollQuestion(){const o=this.isMobileScreenSize?document.getElementById("questionListMobile"):document.getElementById("questionList");o&&(o.scrollTop=0)}ngOnInit(){super.ngOnInit(),this.currentTakeTestStepData.examObj.hideGroupQuestion=1}ngOnDestroy(){super.ngOnDestroy(),this.currentTakeTestStepData.examObj.hideGroupQuestion=0}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-in-group-layout"]],standalone:!0,features:[t.Vt3,t.aNF],decls:34,vars:20,consts:[["mainTakeTestContentTpl",""],["showListQuestionTplDesktop",""],["showListQuestionTplMobile",""],["questionList",""],["chooseStudentTpl",""],["chooseCapacityExamTpl",""],["capacityExamIntro",""],["listQuestionsSelectedInMobile",""],["listQuestionSelectedInDesktop",""],["overTimeTpl",""],["commonErrorTpl",""],["showOnlyAppMessage",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],["listQuestionBar",""],[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0","min-height","100vh",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"layoutType","currentTakeTestStepData","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[1,"azt-hidden","lg:block"],[1,"lg:hidden"],[3,"currentTakeTestStepData","indexGroup","layoutType","setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent",4,"ngIf"],[3,"currentTakeTestStepData","indexGroup","layoutType","sAztTestNextBackQuestionService","setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent","currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize"],[3,"changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","layoutType","currentTakeTestStepData"],[1,"p-1","text-center","mt-1"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[3,"setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent","currentTakeTestStepData","indexGroup","layoutType"],[3,"setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent","currentTakeTestStepData","indexGroup","layoutType","sAztTestNextBackQuestionService"],[1,"intro-y","grid","grid-cols-12","gap-5","mt-55px","transition-3",3,"ngClass"],[1,"col-span-6","px-4","py-4","box","overflow-auto","custom-scroll","rounded-none"],[1,"font-medium","h-full"],[1,"group-content-of-question-standalone",2,"padding-bottom","100px"],[3,"content"],["id","questionList",1,"col-span-6","h-full","py-5","pr-5","overflow-auto","custom-scroll"],[1,"intro-y","mt-6","transition-3","height-list-question-mobile"],[1,"group-content","h-full",3,"hidden"],["id","questionListMobile",1,"question-content","pb-400","overflow-auto","h-full",3,"hidden"],["class","p-1 text-center mt-2",4,"ngIf"],[1,"flex","items-center","justify-center","p-3"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ","class","btn btn-outline-primary h-40px mr-3",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj","class","btn btn-outline-primary h-40px w-full",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_","class","btn btn-primary h-40px w-32",3,"click",4,"ngIf"],[1,"pos-tool"],["azt-track-service","take-test-in-group-layout-Wdat3Pseg",1,"btn","box","rounded-full","shadow-lg","border","border-slate-200","dark:border-darkmode-400","w-16","h-16",3,"click"],[1,"px-4","py-4","h-full","box","overflow-auto","custom-scroll","rounded-none"],[1,"p-1","text-center","mt-2"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ",1,"btn","btn-outline-primary","h-40px","mr-3",3,"click"],["name","move-left","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj",1,"btn","btn-outline-primary","h-40px","w-full",3,"click"],["name","move-right","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_",1,"btn","btn-primary","h-40px","w-32",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],["name","list-todo","size","20"],["name","file-text","size","20"],["class","mt-5",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-5"],[3,"changeAnswerFiles","answerFiles"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit","startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","overTime","index"],[1,"btn","btn-sm","btn-outline-secondary","mb-5","mt-5","mr-auto",3,"click"],["name","chevron-left","size","20"],[3,"selectStudentEvent","joinClassroomByType"],[3,"selectCapacityExamEmitter","hashId"],[3,"startedExamEvent","capacityComponent","waitingTime"],[1,"box","p-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[1,"col-span-12","lg:col-span-3","mt-3"],[1,"top_gameBar"],[1,"text-md","font-medium","mb-3"],[3,"submitTestEvent","currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj"],[3,"showUploadEssayFilesDialogEvent","changeAnswerFilesEvent","currentTakeTestStepData"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[1,"mt-5","text-center"],[1,"block"],[1,"mt-2","font-medium"],["class","grid grid-cols-12 mt-2 ml-auto mr-auto justify-center",4,"ngIf"],["class","block",4,"ngIf"],[1,"grid","grid-cols-12","mt-2","ml-auto","mr-auto","justify-center"],[1,"col-span-12","w-full","self-center","mb-2"],["azt-track-service","print-exam-and-ticket-AVrdnS9P7","href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener",1,"pl-1","pr-1","mb-2","display-inline-block"],["alt","Get it on Google Play","width","150px",1,"play-store-badge",3,"src"],["azt-track-service","print-exam-and-ticket-ZrLBZdsFfU","href","https://apps.apple.com/vn/app/azota-student/id1556025594","target","_blank","rel","noopener",1,"pl-1","pl-1","mb-2","display-inline-block"],["alt","Download on the App Store","width","135px",1,"app-store-badge",3,"src"],[1,"col-span-12","items-center","mb-2"],[1,"px-1","mb-1","py-1","inline-flex","border","border-slate-200","rounded"],[1,"my-auto","font-medium"],[1,"ml-1",3,"fileName","linkUrl"],[1,"ml-2","px-1","py-1","mb-1","inline-flex","border","border-slate-200","rounded"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(o,a){1&o&&(t.nrm(0,"app-coazt-tracking-full-screen-event",15)(1,"app-coazt-tracking-visible-event",15),t.DNE(2,up,1,0,"app-coazt-leave-window-event",16)(3,pp,1,1,"ng-container",17)(4,mp,1,1,"ng-container",17)(5,vp,7,14,"div",16)(6,zp,11,11,"ng-template",null,0,t.C5r)(8,jp,8,10,"ng-template",null,1,t.C5r)(10,Np,14,10,"ng-template",null,2,t.C5r)(12,Pp,2,2,"ng-template",null,3,t.C5r)(14,Xp,5,6,"ng-template",null,4,t.C5r)(16,Vp,1,1,"ng-template",null,5,t.C5r)(18,Up,1,2,"ng-template",null,6,t.C5r)(20,Hp,2,1,"ng-template",null,7,t.C5r)(22,Jp,8,5,"ng-template",null,8,t.C5r)(24,Kp,2,9,"ng-template",null,9,t.C5r)(26,Zp,10,11,"ng-template",null,10,t.C5r)(28,nm,17,16,"ng-template",null,11,t.C5r)(30,am,1,2,"ng-template",null,12,t.C5r)(32,om,1,3,"ng-template",null,13,t.C5r)),2&o&&(t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData),t.R7$(),t.Y8G("currentTakeTestStepData",a.currentTakeTestStepData),t.R7$(),t.Y8G("ngIf",t.l_i(6,bn,a.allTakeTestSteps.START_TEST,a.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(a.currentTakeTestStepData.currentStep)&&!a.questsLoadState.startLoad&&!a.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.currentStep==a.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(),t.Y8G("ngIf",a.currentTakeTestStepData.currentStep==a.allTakeTestSteps.SHOW_APP_ONLY_MESSAGE),t.R7$(),t.Y8G("ngIf",t.zJS(9,op,[a.allTakeTestSteps.WAIT_TO_TEST_TIME,a.allTakeTestSteps.CHOOSE_STUDENT,a.allTakeTestSteps.CAPACITY_EXAM_SELECT,a.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,a.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,a.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,a.allTakeTestSteps.SHOW_FULL_SCREEN,a.allTakeTestSteps.SHOW_VIDEO_REQUIRED,a.allTakeTestSteps.START_TEST,a.allTakeTestSteps.CAPACITY_EXAM_INTRO]).includes(a.currentTakeTestStepData.currentStep)))},dependencies:[Lt,Qt,Mt,xe,A.K,Te,be,Zu,ap,$t.x,Ct.s,Yt,Ut.l,de,me,Nt,Pt,Xt,bt.d,Vt,Bt,g.F2,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,l.iI,l.Wk,p.YN,g.wp,g.Vs,b.s,d.flO,d.WGl,h.L,T.Id,x.k],styles:[".top_gameBar[_ngcontent-%COMP%]{position:fixed;top:87px;right:10px;min-width:23.5vw}.margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 30px)!important}.border-2[_ngcontent-%COMP%]   .margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 27px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(var(--vh, 1vh) * 100 - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(var(--vh, 1vh) * 100 - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}.border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.height-showListQuestion[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100 - 55px - 125px)}.height-hiddenListQuestion[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100 - 55px - 72px)}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:calc(100vw - 600px);height:64px}  .dark .azt-progress-value{background-color:#28334e}.height-list-question-mobile[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100 - 110px)}.pos-tool[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:25px;z-index:999}.pb-400[_ngcontent-%COMP%]{padding-bottom:400px}.h-40px[_ngcontent-%COMP%]{height:40px}"]}),s})();const sm=()=>({"mr-2 azt-hidden md:block":!0});function im(n,s){if(1&n&&(t.j41(0,"div",2),t.nrm(1,"azt-loading-effect",3),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("currentStatusObj",e.statusObj)}}function rm(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-list-layout",6),t.bIt("changeShowType",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(a))})("openQuitDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openSubmitExam())})("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(a))})("sendAudioForQuestion",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(a))})("selectCapacityExamEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectCapacityExamEvent(a))})("startedExamEvent",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.startedExam())}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function lm(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-step-layout",6),t.bIt("changeShowType",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(a))})("openQuitDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openSubmitExam())})("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(a))})("sendAudioForQuestion",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(a))})("selectCapacityExamEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectCapacityExamEvent(a))})("startedExamEvent",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.startedExam())}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function _m(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-group-layout",6),t.bIt("changeShowType",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(a))})("openQuitDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openSubmitExam())})("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(a))})("sendAudioForQuestion",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(a))})("selectCapacityExamEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectCapacityExamEvent(a))})("startedExamEvent",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.startedExam())}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function cm(n,s){if(1&n&&(t.qex(0),t.DNE(1,rm,1,8,"app-coazt-take-test-in-list-layout",5)(2,lm,1,8,"app-coazt-take-test-in-step-layout",5)(3,_m,1,8,"app-coazt-take-test-in-group-layout",5),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.LIST_QUESTION),t.R7$(),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.STEP_QUESTION),t.R7$(),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.GROUP_QUESTION)}}function um(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",7)(2,"div",8),t.nrm(3,"div",9),t.nI1(4,"mytranslate"),t.j41(5,"div",10)(6,"a",11),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.redirectToVipUpgrade())}),t.nrm(7,"lucide-icon",12),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()(),t.bVm()}2&n&&(t.R7$(3),t.Y8G("innerHTML",t.bMT(4,3,"lang_take_test_attemps_exam_warning"),t.npT),t.R7$(4),t.Y8G("ngClass",t.lJ4(7,sm)),t.R7$(),t.SpI(" ",t.bMT(9,5,"lang_azt_upgrade_vip")," "))}function pm(n,s){if(1&n&&t.DNE(0,cm,4,3,"ng-container",4)(1,um,10,8,"ng-container",4),2&n){const e=t.XpG();t.Y8G("ngIf",e.currentTakeTestStepData&&e.allowAttempExam),t.R7$(),t.Y8G("ngIf",!e.allowAttempExam)}}const vn="azota_capacity_exam_layout";let mm=(()=>{var n;class s extends ce{changeShowType(o){this.layoutType=o,this.browserStorageService.saveSimpleStorage(vn+"_"+this.hashId,this.layoutType)}getShowType(){const o=this.browserStorageService.getSimpleStorage(vn+"_"+this.hashId);this.layoutType=o&&"undefined"!==o?o:N.LIST_QUESTION}selectCapacityExamEvent(o){this.getInitDataFromApi()}startedExam(){this.frontExamService.apiFrontExamStartTestComponentHashIdPost(this.hashId).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.getInitDataFromApi()})}startShowTestContent(o,a){return this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,o,i=>{if(this.currentTakeTestStepData=i,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown)return a(void 0);this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.uploadHashCode,r=>{null!=r&&(this.currentTakeTestStepData.files=r)}),this.intervalToSendTestDataToApi(),a(void 0)})}getInitDataFromApi(){this.initStatusObj(),this.checkVipOrBasicExam(this.hashId,o=>{if(!o)return this.allowAttempExam=!1,this.stopStatusObj();let a=new D(this.hashId,this.browserStorageService).getPassword(),i=new D(this.hashId,this.browserStorageService).hasInfo();this.waitDestroy(Q.c.production||Q.c.isProdAzotaVn?this.frontExamService.apiFrontExamInitDataGet(this.hashId,a,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(_=>{const u=this.encryptionHelper.result(_);this.processInitData(""!=a,u)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,a,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(_=>{this.processInitData(""!=a,_)}))})}ngOnInit(){super.ngOnInit(),this.initParams(),this.getShowType()}constructor(){super(),this.layoutType=N.LIST_QUESTION,this.modeViewTest="capacity"}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-capacity-exam"]],standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["class","p-3",4,"ngIf","ngIfElse"],[1,"p-3"],[3,"currentStatusObj"],[4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi","selectCapacityExamEmitter","startedExamEvent",4,"ngIf"],[3,"changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi","selectCapacityExamEmitter","startedExamEvent","sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink"],[1,"flex","justify-center","ml-3","mr-3"],[1,"box","p-3","mt-20",2,"max-width","500px","line-height","35px"],[1,"text-danger",2,"font-size","18px",3,"innerHTML"],[1,"text-center"],[1,"btn","btn-sm","btn-gradient-primary","mt-3",2,"font-size","18px",3,"click"],["name","gem","size","24",3,"ngClass"]],template:function(o,a){if(1&o&&t.DNE(0,im,2,1,"div",1)(1,pm,2,2,"ng-template",null,0,t.C5r),2&o){const i=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,dn,Tn,kn,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const dm=()=>({"mr-2 azt-hidden md:block":!0});function gm(n,s){if(1&n&&(t.j41(0,"div",2),t.nrm(1,"azt-loading-effect",3),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("currentStatusObj",e.statusObj)}}function fm(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-list-layout",6),t.bIt("changeShowType",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(a))})("openQuitDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openSubmitExam())})("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(a))})("sendAudioForQuestion",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(a))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function Tm(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-step-layout",6),t.bIt("changeShowType",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(a))})("openQuitDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openSubmitExam())})("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(a))})("sendAudioForQuestion",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(a))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function hm(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-group-layout",6),t.bIt("changeShowType",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(a))})("openQuitDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openSubmitExam())})("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(a))})("sendAudioForQuestion",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(a))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function bm(n,s){if(1&n&&(t.qex(0),t.DNE(1,fm,1,8,"app-coazt-take-test-in-list-layout",5)(2,Tm,1,8,"app-coazt-take-test-in-step-layout",5)(3,hm,1,8,"app-coazt-take-test-in-group-layout",5),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.LIST_QUESTION),t.R7$(),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.STEP_QUESTION),t.R7$(),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.GROUP_QUESTION)}}function xm(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",7)(2,"div",8),t.nrm(3,"div",9),t.nI1(4,"mytranslate"),t.j41(5,"div",10)(6,"a",11),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.redirectToVipUpgrade())}),t.nrm(7,"lucide-icon",12),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()(),t.bVm()}2&n&&(t.R7$(3),t.Y8G("innerHTML",t.bMT(4,3,"lang_take_test_attemps_exam_warning"),t.npT),t.R7$(4),t.Y8G("ngClass",t.lJ4(7,dm)),t.R7$(),t.SpI(" ",t.bMT(9,5,"lang_azt_upgrade_vip")," "))}function Sm(n,s){if(1&n&&t.DNE(0,bm,4,3,"ng-container",4)(1,xm,10,8,"ng-container",4),2&n){const e=t.XpG();t.Y8G("ngIf",e.currentTakeTestStepData&&e.allowAttempExam),t.R7$(),t.Y8G("ngIf",!e.allowAttempExam)}}const Cn="azota_take_test_layout";let km=(()=>{var n;class s extends ce{changeShowType(o){this.layoutType=o,this.browserStorageService.saveSimpleStorage(Cn+"_"+this.hashId,this.layoutType)}getShowType(){const o=this.browserStorageService.getSimpleStorage(Cn+"_"+this.hashId);this.layoutType=o&&"undefined"!==o?o:N.LIST_QUESTION}startShowTestContent(o,a){return this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,o,i=>{if(this.currentTakeTestStepData=i,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown)return a(void 0);this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.uploadHashCode,r=>{null!=r&&(this.currentTakeTestStepData.files=r)}),this.intervalToSendTestDataToApi(),a(void 0)})}getInitDataFromApi(){this.initStatusObj(),this.checkVipOrBasicExam(this.hashId,o=>{if(!o)return this.allowAttempExam=!1,this.stopStatusObj();let a=new D(this.hashId,this.browserStorageService).getPassword(),i=new D(this.hashId,this.browserStorageService).hasInfo();this.waitDestroy(Q.c.production||Q.c.isProdAzotaVn?this.frontExamService.apiFrontExamInitDataGet(this.hashId,a,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(_=>{const u=this.encryptionHelper.result(_);this.processInitData(""!=a,u)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,a,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(_=>{this.processInitData(""!=a,_)}))})}ngOnInit(){super.ngOnInit(),this.initParams(),this.getShowType()}constructor(){super(),this.layoutType=N.LIST_QUESTION,this.modeViewTest="test"}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test"]],standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["class","p-3",4,"ngIf","ngIfElse"],[1,"p-3"],[3,"currentStatusObj"],[4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi",4,"ngIf"],[3,"changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi","sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink"],[1,"flex","justify-center","ml-3","mr-3"],[1,"box","p-3","mt-20",2,"max-width","500px","line-height","35px"],[1,"text-danger",2,"font-size","18px",3,"innerHTML"],[1,"text-center"],[1,"btn","btn-sm","btn-gradient-primary","mt-3",2,"font-size","18px",3,"click"],["name","gem","size","24",3,"ngClass"]],template:function(o,a){if(1&o&&t.DNE(0,gm,2,1,"div",1)(1,Sm,2,2,"ng-template",null,0,t.C5r),2&o){const i=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,dn,Tn,kn,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();class In{setQuestionAnswers(s,e){return s.viewQuestionObjs.forEach(o=>{let a=e.find(i=>1==i.answered&&i.id==o.id);null!=a&&(o.practiceCheckAnswer=a.correct?"correct":"wrong",o.numberOfChecks=a.correct?1:2)}),s}hasWrongAnswer(s){return null!=s.viewQuestionObjs.find(e=>"wrong"==e.practiceCheckAnswer)}calculateStartQuestionPosition(s,e){return Math.floor(s/e)*e}findLastQuestionObjThatHasAnswer(s){return s.viewQuestionObjs.slice().reverse().find(o=>null!=o.practiceCheckAnswer)}}let yn=(()=>{var n;class s{constructor(){this.checkQuestion=new xt.B}listenCheckQuestionEvent(){return this.checkQuestion}sendCheckQuestionEvent(o){this.checkQuestion.next(o)}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();var vm=m(37610);const Cm=()=>({"mr-2 text-pending":!0});let Im=(()=>{var n;class s extends X._{btnCloseDialog(o){this.dialogRef.close(o)}constructor(o,a){super(a,o),this.dialogRef=o,this.data=a}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["confirm-reset-answer"]],standalone:!0,features:[t.Vt3,t.aNF],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","px-3","pt-3"],["name","octagon-alert","size","24",3,"ngClass"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","confirm-reset-answer-IROMXJMuQD",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","confirm-reset-answer-Dau1W0YPOB",1,"btn","w-24","btn-primary",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",5)(8,"azt-mat-dialog-content",6),t.nrm(9,"div",7),t.k0s()()()(),t.j41(10,"div",8)(11,"button",9),t.bIt("click",function(){return a.btnCloseDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",10),t.bIt("click",function(){return a.btnCloseDialog(!0)}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(12,Cm)),t.R7$(),t.SpI(" ",t.bMT(6,6,"lang_auto_canh_bao")," "),t.R7$(3),t.Y8G("defaultHeight",60),t.R7$(),t.Y8G("innerHtml",a.data.content,t.npT),t.R7$(3),t.SpI(" ",t.bMT(13,8,"lang_auto_huy")," "),t.R7$(3),t.SpI(" ",t.bMT(16,10,"lang_auto_xac_nhan")," "))},dependencies:[kt.U,c.MD,c.YU,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const ym=()=>[];function Om(n,s){if(1&n&&(t.j41(0,"button",13)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG().index;t.R7$(2),t.JRh(e+1)}}function Em(n,s){if(1&n&&(t.j41(0,"button",14)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG().index;t.R7$(2),t.JRh(e+1)}}function wm(n,s){if(1&n&&(t.j41(0,"button",15)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG().index;t.R7$(2),t.JRh(e+1)}}function Am(n,s){if(1&n&&(t.j41(0,"div",9),t.DNE(1,Om,3,1,"button",10)(2,Em,3,1,"button",11)(3,wm,3,1,"button",12),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("ngIf",!e.practiceCheckAnswer),t.R7$(),t.Y8G("ngIf","wrong"===e.practiceCheckAnswer||"correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks>1),t.R7$(),t.Y8G("ngIf","correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks<=1)}}let zm=(()=>{var n;class s extends X._{constructor(o,a){super(a,o),this.dialogRef=o,this.data=a,this.isDialog=!1}closeDialog(){this.dialogRef.close()}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(z.CP,8),t.rXU(z.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["show-answer-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:10,consts:[[1,"box","py-4","px-4"],[1,"flex","items-center"],[1,"text-md","font-medium","inline-block","mr-2"],[1,"border","border-slate-200","dark:border-darkmode-400","mt-2","overflow-auto"],["pointerEventsMethod","scrollbar",2,"max-height","50vh",3,"visibility","autoHeightDisabled"],[1,"flex","items-center","p-3",2,"flex-wrap","wrap","padding-right","0"],["class","mr-3 mb-3 answer-training-block h-full",4,"ngFor","ngForOf"],[1,"text-right","mt-4"],["azt-track-service","preview-offline-exam-pMnvQqQQGlC",1,"btn","btn-primary","w-24",3,"click"],[1,"mr-3","mb-3","answer-training-block","h-full"],["class","btn border-slate-400 btn-sm w-full h-full",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full bg-slate-400 dark:bg-darkmode-800",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full btn-success text-white",4,"ngIf"],[1,"btn","border-slate-400","btn-sm","w-full","h-full"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","bg-slate-400","dark:bg-darkmode-800"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","btn-success","text-white"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"ng-scrollbar",4)(7,"div",5),t.DNE(8,Am,4,3,"div",6),t.k0s()()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){return a.closeDialog()}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()),2&o){let i;t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_danh_sach_cau_hoi")," "),t.R7$(3),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(2),t.Y8G("ngForOf",null!==(i=a.data.questionList)&&void 0!==i?i:t.lJ4(9,ym)),t.R7$(3),t.SpI(" ",t.bMT(12,7,"lang_auto_dong")," ")}},dependencies:[c.MD,c.Sq,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,T.Id,T.Yh,x.k],encapsulation:2}),s})();const ke=()=>({"text-success":!0}),On=()=>({"text-danger":!0}),En=()=>({"text-warning":!0});function jm(n,s){1&n&&(t.j41(0,"div"),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,ke)))}function Rm(n,s){1&n&&t.nrm(0,"div",10)}function Fm(n,s){if(1&n&&(t.j41(0,"div",7),t.DNE(1,jm,2,2,"div",4)(2,Rm,1,0,"div",8),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf","correct"===e.practiceCheckAnswer&&1==e.numberOfChecks),t.R7$(),t.Y8G("ngIf","correct"===e.practiceCheckAnswer&&1!=e.numberOfChecks||"correct"!==e.practiceCheckAnswer)}}function Gm(n,s){1&n&&t.nrm(0,"div",12)}function Dm(n,s){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",13),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,On)))}function Mm(n,s){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,ke)))}function Lm(n,s){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,En)))}function Qm(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,Gm,1,0,"div",11)(2,Dm,2,2,"div",6)(3,Mm,2,2,"div",6)(4,Lm,2,2,"div",6),t.k0s()),2&n){const e=t.XpG(),o=e.$implicit,a=e.index,i=t.XpG(3);t.R7$(),t.Y8G("ngIf",a>i.curQuestion),t.R7$(),t.Y8G("ngIf","wrong"===o.practiceCheckAnswer),t.R7$(),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1==o.numberOfChecks),t.R7$(),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1!=o.numberOfChecks)}}function Nm(n,s){if(1&n&&(t.j41(0,"li"),t.DNE(1,Fm,3,2,"div",6)(2,Qm,5,4,"div",4),t.k0s()),2&n){const e=s.index,o=t.XpG(3);t.R7$(),t.Y8G("ngIf",e===o.curQuestion),t.R7$(),t.Y8G("ngIf",e!==o.curQuestion)}}function Bm(n,s){if(1&n&&(t.qex(0),t.DNE(1,Nm,3,2,"li",5),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.questionList)}}function $m(n,s){1&n&&t.nrm(0,"div",15)}function Ym(n,s){1&n&&t.nrm(0,"div",12)}function Pm(n,s){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",13),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,On)))}function Xm(n,s){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,ke)))}function Vm(n,s){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,En)))}function Um(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,Ym,1,0,"div",11)(2,Pm,2,2,"div",6)(3,Xm,2,2,"div",6)(4,Vm,2,2,"div",6),t.k0s()),2&n){const e=t.XpG(2),o=e.$implicit,a=e.index,i=t.XpG(3);t.R7$(),t.Y8G("ngIf",a>i.curQuestion),t.R7$(),t.Y8G("ngIf","wrong"===o.practiceCheckAnswer),t.R7$(),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1==o.numberOfChecks),t.R7$(),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1!=o.numberOfChecks)}}function qm(n,s){if(1&n&&(t.qex(0),t.DNE(1,$m,1,0,"div",14)(2,Um,5,4,"div",4),t.bVm()),2&n){const e=t.XpG().index,o=t.XpG(3);t.R7$(),t.Y8G("ngIf",e===o.curQuestion),t.R7$(),t.Y8G("ngIf",e!==o.curQuestion)}}function Hm(n,s){if(1&n&&(t.j41(0,"li"),t.DNE(1,qm,3,2,"ng-container",4),t.k0s()),2&n){const e=s.index,o=t.XpG(3);t.R7$(),t.Y8G("ngIf",e>=o.startQuestionPositionInPagination&&e<o.startQuestionPositionInPagination+o.numberOfShowItem)}}function Wm(n,s){if(1&n&&(t.qex(0),t.DNE(1,Hm,2,1,"li",5),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.questionList)}}function Jm(n,s){if(1&n&&(t.j41(0,"div",1)(1,"nav",2)(2,"ul",3),t.DNE(3,Bm,2,1,"ng-container",4)(4,Wm,2,1,"ng-container",4),t.k0s()()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.questionList.length<=e.numberOfShowItem),t.R7$(),t.Y8G("ngIf",e.questionList.length>e.numberOfShowItem)}}let Km=(()=>{var n;class s extends S.H{}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["list-status-answer"]],inputs:{questionList:"questionList",curQuestion:"curQuestion",startQuestionPositionInPagination:"startQuestionPositionInPagination",numberOfShowItem:"numberOfShowItem"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","azt-hidden md:block",4,"ngIf"],[1,"azt-hidden","md:block"],[1,"inline-block",2,"vertical-align","middle"],[1,"pagination","items-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","mx-1",4,"ngIf"],[1,"mx-1"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400",4,"ngIf"],["name","check","size","16",3,"ngClass"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400"],["class","w-2 h-2 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-2","h-2","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"],["name","x","size","16",3,"ngClass"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"]],template:function(o,a){1&o&&t.DNE(0,Jm,5,2,"div",0),2&o&&t.Y8G("ngIf",a.questionList.length)},dependencies:[c.MD,c.YU,c.Sq,c.bT,p.X1,l.iI,p.YN,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();function Zm(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",4),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function td(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_well_done")," "))}function ed(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_pay_more_attention_okay")," "))}function nd(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_keep_up_the_good_work_keep_going")," "))}function ad(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_keep_trying_harder_okay")," "))}function od(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",30),t.nrm(2,"lucide-icon",31),t.k0s(),t.j41(3,"div",32)(4,"div",33),t.DNE(5,td,3,3,"span",21)(6,ed,3,3,"span",21),t.k0s(),t.j41(7,"div",34),t.DNE(8,nd,3,3,"span",21)(9,ad,3,3,"span",21),t.k0s()(),t.bVm()),2&n){const e=t.XpG(3);t.R7$(5),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks<=1),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks>1),t.R7$(2),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks<=1),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks>1)}}function sd(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",35),t.nrm(1,"lucide-icon",36),t.k0s(),t.j41(2,"div",32)(3,"div",33)(4,"span"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",34)(8,"span")(9,"span"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"a",37),t.bIt("click",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.skipQuestion())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()}2&n&&(t.R7$(5),t.JRh(t.bMT(6,3,"lang_testbank_frontend_not_correct")+"!"),t.R7$(5),t.JRh(t.bMT(11,5,"lang_testbank_frontend_try_again_or_you_can")+" "),t.R7$(3),t.SpI(" ",t.bMT(14,7,"lang_testbank_frontend_skip")," "))}function id(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",22)(1,"div",23)(2,"div",24),t.DNE(3,od,10,4,"ng-container",25)(4,sd,15,9,"ng-template",null,1,t.C5r),t.j41(6,"div",26)(7,"button",27),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.closeStatusBoxAnswer())}),t.j41(8,"span",28),t.nrm(9,"lucide-icon",29),t.k0s()()()()()()}if(2&n){const e=t.sdS(5),o=t.XpG(2);t.R7$(3),t.Y8G("ngIf","correct"==o.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer)("ngIfElse",e)}}function rd(n,s){1&n&&t.nrm(0,"azt-loading-ui",40)}function ld(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",38),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.checkAnswerQuestionByApi(!1))}),t.DNE(1,rd,1,0,"azt-loading-ui",39),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG(2);t.Y8G("disabled",!e.sAztTestQuestionService.checkQuestionHasAnswer(e.currentTakeTestStepData,e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)),t.R7$(),t.Y8G("ngIf",e.statusObj.loading),t.R7$(2),t.JRh(t.bMT(4,3,null==e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer?"lang_testbank_check":"lang_testbank_try_again"))}}function _d(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.nextQuestion(a.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id))}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,e.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion?"lang_testbank_frontend_view_results":"lang_testbank_next_question")),t.R7$(3),t.SpI("(",e.countdown+"s",")")}}function cd(n,s){1&n&&(t.qex(0),t.j41(1,"div",42),t.nrm(2,"div",43)(3,"div",44),t.k0s(),t.bVm())}function ud(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"button",6),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.resetAnswerQuestion())}),t.j41(2,"span",7),t.nrm(3,"lucide-icon",8),t.k0s(),t.j41(4,"span",9),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"button",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showAnswerDialog())}),t.j41(8,"span",11),t.nrm(9,"lucide-icon",12),t.k0s(),t.j41(10,"span",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",14),t.nrm(14,"list-status-answer",15),t.k0s()(),t.j41(15,"div",16)(16,"div",17),t.DNE(17,id,10,2,"div",18)(18,ld,5,5,"button",19)(19,_d,6,4,"button",20)(20,cd,4,0,"ng-container",21),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("disabled",!e.sAztTestQuestionService.hasWrongAnswer||e.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion),t.R7$(4),t.SpI(" ",t.bMT(6,11,"lang_testbank_start_over")," "),t.R7$(6),t.SpI(" ",t.bMT(12,13,"lang_auto_cau")+" "+(e.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex+1)+"/"+e.currentTakeTestStepData.viewQuestionObjs.length," "),t.R7$(3),t.Y8G("questionList",e.currentTakeTestStepData.viewQuestionObjs)("curQuestion",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex)("startQuestionPositionInPagination",e.startQuestionPositionInPagination)("numberOfShowItem",e.limitNumberQuestionsInPagination),t.R7$(3),t.Y8G("ngIf",e.sAztTestQuestionService.isShowAnswerStatusBox&&e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer&&e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks),t.R7$(),t.Y8G("ngIf",null==e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer||"wrong"===e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer),t.R7$(),t.Y8G("ngIf","correct"===e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer),t.R7$(),t.Y8G("ngIf",e.sAztTestQuestionService.isShowSuccessAnimationBox)}}let pd=(()=>{var n;class s extends S.H{checkAnswerQuestionByApi(o){o||(this.sAztTestQuestionService.isCheckingAnswer=!0);let a=this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj,i={questionId:a.id,answerContent:[{index:999,content:""}]};const r={examResultId:this.currentTakeTestStepData.termExamResultId,answer:o?i:this.sAztTestQuestionService.getAnswerOfQuestion(this.currentTakeTestStepData,a.id)??i};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveQuestionResultEncryptPost(this.encryptionHelper.payload(r),this.currentTakeTestStepData.examObj.hashId).subscribe(_=>{if(!_.success)return this.sAztTestQuestionService.isCheckingAnswer=!1,this.errorStatusObj(_.message,!0);let u=_.data;a.numberOfChecks=(a.numberOfChecks??0)+1,o?a.practiceCheckAnswer="wrong":(this.sAztTestQuestionService.isShowAnswerStatusBox=!0,a.practiceCheckAnswer=u?.correct?"correct":"wrong","correct"==a.practiceCheckAnswer&&(this.sAztTestQuestionService.isShowSuccessAnimationBox=!0,a.numberOfChecks<=1&&this.sAztTestQuestionService.trainingAudioSuccess.play(),this.startCountdown(a.id))),"correct"!==a.practiceCheckAnswer&&(this.sAztTestQuestionService.hasWrongAnswer=!0),this.sAztTestQuestionService.isCheckingAnswer=!1}))}finishTrainingTest(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamFinishExamResultGet(this.currentTakeTestStepData.examObj.hashId??"",this.currentTakeTestStepData.termExamResultId).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);if(o.data?.status){try{this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen()}catch{}this.stopStatusObj(),this.myNavigation(`/test/submit-test/${this.tenantId}/${this.curCateId}/${this.currentTakeTestStepData.examObj.hashId}/${this.currentTakeTestStepData.termExamResultId}`)}}))}nextQuestion(o){if(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id==o){if(this.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion)return this.finishTrainingTest();this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination),this.sAztTestQuestionService.isShowSuccessAnimationBox=!1}}skipQuestion(){this.nextQuestion(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)}resetAnswerQuestion(){const a={content:this.commonService.myTranslateInstant("lang_testbank_when_confirming_the_system_will_reset_all_the_answers_you_have_chosen")+"!"};this.sAztDialogService.open(Im,{data:a,width:"500px"}).afterClosed().subscribe(r=>{r&&(this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamResetExamResultGet(this.currentTakeTestStepData.examObj.hashId??"",this.currentTakeTestStepData.termExamResultId).subscribe(_=>{if(!_.success)return this.errorStatusObj(_.message,!0);this.sAztTestQuestionService.clearAllData(this.currentTakeTestStepData),this.stopStatusObj(),this.resetTrainingTestEvent.emit()})))})}showHintAnswer(){this.currentTakeTestStepData=this.sAztTestQuestionService.setShowHint(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id),"correct"!==this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer&&this.checkAnswerQuestionByApi(!0)}showAnswerDialog(){this.sAztDialogService.open(zm,{data:{questionList:this.currentTakeTestStepData.viewQuestionObjs},width:"800px"})}closeStatusBoxAnswer(){this.sAztTestQuestionService.isShowAnswerStatusBox=!1}startCountdown(o){this.countdownSubscription&&this.countdownSubscription.unsubscribe(),this.countdown=3,this.countdownSubscription=(0,St.Y)(1e3).pipe((0,vm.s)(this.countdown)).subscribe({next:a=>this.countdown=this.countdown-1-a,complete:()=>this.nextQuestion(o)})}ngOnInit(){let o=this.sAztTrainingService.findLastQuestionObjThatHasAnswer(this.currentTakeTestStepData);null!=o&&(this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,o)),this.sAztTestQuestionService.hasWrongAnswer=this.sAztTrainingService.hasWrongAnswer(this.currentTakeTestStepData),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination),this.testCheckQuestionService.listenCheckQuestionEvent().subscribe(a=>this.checkAnswerQuestionByApi(!1))}ngOnDestroy(){this.countdownSubscription&&this.countdownSubscription.unsubscribe()}constructor(o,a,i,r,_){super(),this.localStorageObject=o,this.frontExamResultService=a,this.frontExamService=i,this.sAztDialogService=r,this.encryptionHelper=_,this.resetTrainingTestEvent=new t.bkB,this.startQuestionPositionInPagination=0,this.limitNumberQuestionsInPagination=15,this.countdown=3,this.countdownSubscription=new le.yU,this.sAztFullScreenService=new it,this.sAztTrainingService=new In,this.testCheckQuestionService=(0,t.WQX)(yn)}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(qe.G),t.rXU(j.Ry),t.rXU(j.iB),t.rXU(dt.i),t.rXU(Ue.w))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-training-footer-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",requiredNextBackQuestionModel:"requiredNextBackQuestionModel",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",sAztTestQuestionService:"sAztTestQuestionService",tenantId:"tenantId",curCateId:"curCateId"},outputs:{resetTrainingTestEvent:"resetTrainingTestEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[["doneLoading",""],["incorrectTpl",""],[1,"box","z-50","rounded-none","fixed","flex","items-center","bottom-0","left-0","p-3","w-full"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center","mr-auto"],["azt-track-service","take-training-q7-dI4je6b",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"click","disabled"],[1,"w-5","h-5"],["name","rotate-ccw","size","20"],[1,"azt-hidden","md:block","ml-2"],["azt-track-service","take-training-QglPB2g4wq",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"click"],[1,"w-5","h-5","mr-2"],["name","clipboard-list","size","20"],[1,"font-medium"],[1,"list-status-answer"],[3,"questionList","curQuestion","startQuestionPositionInPagination","numberOfShowItem"],[1,"ml-auto"],[1,"relative"],["class","box-status",4,"ngIf"],["azt-track-service","take-training-Vy9M0G9VK1u","class","btn btn-primary w-32",3,"disabled","click",4,"ngIf"],["azt-track-service","take-training-EtpBWukccKO","class","btn btn-primary w-48",3,"click",4,"ngIf"],[4,"ngIf"],[1,"box-status"],[1,"box","box-status-answer","absolute","p-3"],[1,"flex","items-center","box-status-answer-content","relative"],[4,"ngIf","ngIfElse"],[1,"absolute",2,"top","-8px","right","-8px"],["azt-track-service","take-training-7mWj7MPCixD",1,"btn","btn-sm","btn-outline-danger","btn-transparent",3,"click"],[1,"w-4","h-4","inline-block"],["name","x","size","18"],[1,"w-10","h-10","text-pending"],["name","star","size","40"],[1,"ml-3"],[1,"font-medium","text-lg"],[1,"mt-0.5"],[1,"w-10","h-10","text-primary"],["name","rotate-ccw","size","40"],["azt-track-service","take-training-CInmJPjmtb",1,"btn-text-primary","font-medium",3,"click"],["azt-track-service","take-training-Vy9M0G9VK1u",1,"btn","btn-primary","w-32",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","take-training-EtpBWukccKO",1,"btn","btn-primary","w-48",3,"click"],[1,"pyro"],[1,"before"],[1,"after"]],template:function(o,a){if(1&o&&(t.j41(0,"div",2),t.DNE(1,Zm,1,1,"azt-loading-effect",3)(2,ud,21,15,"ng-template",null,0,t.C5r),t.k0s()),2&o){const i=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,Km,tt.R,c.MD,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],styles:['.box-status-answer[_ngcontent-%COMP%]{width:280px;top:-110px;right:50px}.box-status-answer-content[_ngcontent-%COMP%]:after{border-left:20px solid transparent;border-top:20px solid #fff;bottom:-30px;content:"";position:absolute;right:20px}.icon-triangle[_ngcontent-%COMP%]{top:7px;right:55px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.pyro[_ngcontent-%COMP%] > .before[_ngcontent-%COMP%], .pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{position:absolute;width:5px;height:5px;border-radius:50%;box-shadow:0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff;animation:1s _ngcontent-%COMP%_bang ease-out infinite backwards,1s _ngcontent-%COMP%_gravity ease-in infinite backwards,5s _ngcontent-%COMP%_position linear infinite backwards}.pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{animation-delay:1.25s,1.25s,1.25s;animation-duration:1.25s,1.25s,6.25s}@keyframes _ngcontent-%COMP%_bang{to{box-shadow:-231px -282.6666666667px #d9ff00,-75px -61.6666666667px #ff0084,-237px -58.6666666667px #00ffbf,59px -159.6666666667px #30f,-223px -257.6666666667px #00ffa2,-105px -41.6666666667px #001eff,-6px -176.6666666667px #9000ff,40px 35.3333333333px #f0e,52px 61.3333333333px #2fff00,175px -16.6666666667px #7bff00,214px -127.6666666667px #ff0d00,-92px -74.6666666667px #ff4800,237px -240.6666666667px #f70,-231px -265.6666666667px #0fd,246px -318.6666666667px #0084ff,42px -345.6666666667px #006aff,4px -375.6666666667px #0019ff,-85px 74.3333333333px #3cff00,-152px -38.6666666667px #df0,152px -382.6666666667px #00b2ff,-215px -176.6666666667px #80f,46px -372.6666666667px #1500ff,53px 39.3333333333px #008cff,-197px -374.6666666667px #0073ff,177px 24.3333333333px #0f3,-26px -31.6666666667px #ffc800,178px -352.6666666667px #00ff4d,207px -386.6666666667px #00e5ff,-7px 73.3333333333px #f01,-87px -170.6666666667px #c3ff00,143px -310.6666666667px #ff7300,-235px -319.6666666667px #d000ff,-133px -79.6666666667px #ff6e00,206px -377.6666666667px #00ffc8,-132px 5.3333333333px #f10,230px -324.6666666667px #00ff9d,-138px -284.6666666667px #4800ff,156px -287.6666666667px #ffc300,-48px -132.6666666667px #fe0,190px 10.3333333333px #002bff,-65px 68.3333333333px #ea00ff,-228px -251.6666666667px #ff0062,78px 75.3333333333px #ff00e6,2px 41.3333333333px #7300ff,-185px -187.6666666667px #1aff00,-116px -387.6666666667px #40ff00,245px 36.3333333333px #00ffd5,112px -51.6666666667px #e6ff00,-238px -229.6666666667px #fb00ff,-104px -127.6666666667px #00ff80,-169px -18.6666666667px #8400ff}}@keyframes _ngcontent-%COMP%_gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@keyframes _ngcontent-%COMP%_position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}']}),s})(),md=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.showUploadEssayFilesDialog=new t.bkB,this.selectStudentEvent=new t.bkB,this.changeAnswerFiles=new t.bkB,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.setResultTracking=new t.bkB,this.sendAudioForQuestion=new t.bkB,this.submitTestToApi=new t.bkB,this.allTakeTestSteps=k,this.allTakeTestLayouts=N,this.allowContextMenu=!Q.c.production}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-training-base-layout"]],inputs:{sAztTestResizeService:"sAztTestResizeService",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",sAztTestQuestionService:"sAztTestQuestionService",currentTakeTestStepData:"currentTakeTestStepData",followerRenderQuest:"followerRenderQuest",questsLoadState:"questsLoadState",isMobileScreenSize:"isMobileScreenSize",homeLink:"homeLink",backToLink:"backToLink",tenantId:"tenantId",curCateId:"curCateId"},outputs:{showUploadEssayFilesDialog:"showUploadEssayFilesDialog",selectStudentEvent:"selectStudentEvent",changeAnswerFiles:"changeAnswerFiles",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",setResultTracking:"setResultTracking",sendAudioForQuestion:"sendAudioForQuestion",submitTestToApi:"submitTestToApi"},standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(o,a){},dependencies:[c.MD,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k],encapsulation:2}),s})();function dd(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",1),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.changeFullScreenMode())}),t.nrm(2,"lucide-icon",2),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_toan_man_hinh"))}function gd(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",1),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.changeFullScreenMode())}),t.nrm(2,"lucide-icon",3),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_tested_list_exit_full_screen"))}let fd=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.sAztFullScreenService=new it,this.isFullScreenMode=!1}changeFullScreenMode(){this.isFullScreenMode?this.sAztFullScreenService.exitFullscreen():this.sAztFullScreenService.showFullScreen(),this.isFullScreenMode=!this.isFullScreenMode}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-full-screen-mode-box"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:2,consts:[["class","btn btn-sm btn-secondary",3,"matTooltip","click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary",3,"click","matTooltip"],["name","maximize","size","18"],["name","minimize","size","18"]],template:function(o,a){1&o&&t.DNE(0,dd,3,3,"button",0)(1,gd,3,3,"button",0),2&o&&(t.Y8G("ngIf",!a.isFullScreenMode),t.R7$(),t.Y8G("ngIf",a.isFullScreenMode))},dependencies:[c.MD,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,H.oV,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const wn=()=>({"mr-2":!0});function Td(n,s){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"mytranslate"),t.bVm()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_button_back")))}function hd(n,s){if(1&n&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_thi_sinh"),": ",e.currentTakeTestStepData.testingUserObj.fullName,"")}}function bd(n,s){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",18),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function xd(n,s){1&n&&(t.EFF(0),t.nI1(1,"mytranslate")),2&n&&t.SpI(" ",t.bMT(1,1,"lang_auto_khong_gioi_han")," ")}let Sd=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.openQuitDialogEvent=new t.bkB}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-training-header-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",sAztTestResizeService:"sAztTestResizeService",isMobileScreenSize:"isMobileScreenSize"},outputs:{openQuitDialogEvent:"openQuitDialogEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:22,vars:16,consts:[["unlimitedTimeTpl",""],[1,"fixed","w-full","bg-white","items-center","flex","top-0","left-0","ng-star-inserted","p-3",2,"z-index","111","border-bottom","1px solid #ccc"],["azt-track-service","training-header-box-phEe7AjEd",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","chevron-left","size","20",3,"ngClass"],[4,"ngIf"],[1,"relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"mr-6"],[1,"flex","items-center"],["name","timer","size","20",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],[1,"flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"click","disabled","matTooltip"],["name","zoom-out","size","18"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"click","disabled","matTooltip"],["name","zoom-in","size","18"],[1,"flex","items-center","dropdown"],[1,"text-md","font-medium"],[3,"totalSecond","useCountDown"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",1)(1,"div")(2,"button",2),t.bIt("click",function(){return t.eBV(i),t.Njj(a.openQuitDialogEvent.emit())}),t.nrm(3,"lucide-icon",3),t.DNE(4,Td,3,3,"ng-container",4),t.k0s()(),t.j41(5,"div",5),t.DNE(6,hd,3,4,"span",6),t.k0s(),t.j41(7,"div",7)(8,"div",8),t.nrm(9,"lucide-icon",9),t.DNE(10,bd,1,2,"app-testbank-frontend-count-down-box",10)(11,xd,2,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(13,"div",11)(14,"button",12),t.nI1(15,"mytranslate"),t.bIt("click",function(){return t.eBV(i),t.Njj(a.sAztTestResizeService.zoomOut())}),t.nrm(16,"lucide-icon",13),t.k0s(),t.j41(17,"button",14),t.nI1(18,"mytranslate"),t.bIt("click",function(){return t.eBV(i),t.Njj(a.sAztTestResizeService.zoomIn())}),t.nrm(19,"lucide-icon",15),t.k0s()(),t.j41(20,"div",16),t.nrm(21,"app-coazt-full-screen-mode-box"),t.k0s()()}if(2&o){const i=t.sdS(12);t.R7$(3),t.Y8G("ngClass",t.lJ4(14,wn)),t.R7$(),t.Y8G("ngIf",!a.isMobileScreenSize),t.R7$(2),t.Y8G("ngIf",!a.isMobileScreenSize),t.R7$(3),t.Y8G("ngClass",t.lJ4(15,wn)),t.R7$(),t.Y8G("ngIf",!a.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(4),t.Y8G("disabled",a.sAztTestResizeService.fontSize<=1)("matTooltip",t.bMT(15,10,"lang_take_test_zoom_out")),t.R7$(3),t.Y8G("disabled",a.sAztTestResizeService.fontSize>=2)("matTooltip",t.bMT(18,12,"lang_take_test_zoom_in"))}},dependencies:[W,fd,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,H.oV,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();var kd=m(54313);function vd(n,s){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"span",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",5),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showExplainOfQuestion.emit())}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.JRh(t.bMT(3,2,"lang_testbank_frontend_you_dont_know_how_to_do_it")+"? "),t.R7$(3),t.SpI(" ",t.bMT(6,4,"lang_testbank_frontend_please_use_the_hint")," "))}function Cd(n,s){if(1&n&&(t.j41(0,"div",6)(1,"div",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",7),t.nrm(5,"azt-dynamic-hook",8),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_testbank_hint")," "),t.R7$(3),t.Y8G("content",e.questionObj.help)}}function Id(n,s){if(1&n&&(t.j41(0,"div",1),t.DNE(1,vd,7,6,"div",2)(2,Cd,6,4,"div",3),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",!e.isShowExplain),t.R7$(),t.Y8G("ngIf",e.isShowExplain)}}let yd=(()=>{var n;class s extends S.H{constructor(){super(...arguments),this.isShowExplain=!1,this.showExplainOfQuestion=new t.bkB}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-explain-box-for-student-at-step-test"]],inputs:{isShowExplain:"isShowExplain",questionObj:"questionObj",renderConfigObj:"renderConfigObj"},outputs:{showExplainOfQuestion:"showExplainOfQuestion"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:1,consts:[["class","p-3",4,"ngIf"],[1,"p-3"],[4,"ngIf"],["class","p-3 mt-4",4,"ngIf"],[1,"font-medium"],[1,"btn-text-primary","font-medium",3,"click"],[1,"p-3","mt-4"],[1,"mt-2"],[3,"content"]],template:function(o,a){1&o&&t.DNE(0,Id,3,2,"div",0),2&o&&t.Y8G("ngIf",a.questionObj.help)},dependencies:[$t.x,c.MD,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,h.L,T.Id,x.k],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px 30px 0 0}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),s})();var Od=m(58447),Ed=m(34660),wd=m(64486),Ad=m(66793);const zd=n=>({"skeleton-box-loading":n}),jd=n=>({"pb-2":n});function Rd(n,s){if(1&n&&t.nrm(0,"div",10),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,zd,e.renderConfigObj.isFirstRender))}}function Fd(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-test-audio-ui",18),t.bIt("sendAudioEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioEmit.emit(a))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("questionObj",e.questionObj)("isShowList",!0)("totalLimit",(e.examObj.limitAudio||-1)>0?e.examObj.limitAudio||-1:0)}}function Gd(n,s){if(1&n&&(t.j41(0,"div",11)(1,"div",12),t.nrm(2,"azt-question-group-content-box",13),t.j41(3,"div",14),t.DNE(4,Fd,1,3,"azt-test-audio-ui",15),t.j41(5,"div",16),t.nrm(6,"azt-question-label-box",17),t.k0s(),t.nrm(7,"azt-question-content-box",13),t.k0s()()()),2&n){const e=t.XpG();t.R7$(),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize&&e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Y8G("id","question_render_container_"+e.questionObj.id)("ngClass",t.eq3(17,jd,e.questionObj.attachments.length>0)),t.R7$(),t.Y8G("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj),t.R7$(2),t.Y8G("ngIf",e.questionObj.attachments.length>0),t.R7$(2),t.Y8G("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("curQuestionIndex",e.curQuestionIndex),t.R7$(),t.Y8G("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)}}function Dd(n,s){1&n&&t.nrm(0,"div",19)}function Md(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-question-explain-box-for-student-at-step-test",20),t.bIt("showExplainOfQuestion",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.showExplainOfQuestion())}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("isShowExplain",e.isShowExplain)}}let Ld=(()=>{var n;class s extends wd.I{showExplainOfQuestion(){this.showHintAnswer.emit()}ngOnInit(){super.ngOnInit();let o=new Ad.C(!0,!0,!1);super.initData(o,this.follower,this.questionObj),this.listenFontChanged&&this.waitDestroy(this.listenFontChanged.subscribe(()=>{this.reRenderContent()}))}constructor(){super(),this.follower=new Rt.e,this.curQuestionIndex=0,this.fontSize=1,this.isShowExplain=!1,this.currentAnswerIsCorrect=!1,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.sendAudioEmit=new t.bkB,this.setResultTracking=new t.bkB,this.showHintAnswer=new t.bkB}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-standalone-for-step-test"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",fontSize:"fontSize",listenFontChanged:"listenFontChanged",isShowExplain:"isShowExplain",currentAnswerIsCorrect:"currentAnswerIsCorrect",currentAnswerStatus:"currentAnswerStatus"},outputs:{setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",sendAudioEmit:"sendAudioEmit",setResultTracking:"setResultTracking",showHintAnswer:"showHintAnswer"},standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:8,consts:[["elementRended",""],[1,"question-standalone-step-container-box","box"],[1,"question-standalone-step-question-box","p-3"],["load_effect_lazy","",1,"question-standalone-box",2,"box-shadow","none","margin","0px",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],[1,"question-standalone-step-answer-container-box"],[1,"ml-auto","mr-auto","w-full","relative"],[3,"setResultTracking","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","question","questionIndex","fontSize"],["class","absolute w-full h-full top-0 left-0 z-50",4,"ngIf"],[3,"questionObj","renderConfigObj","isShowExplain","showExplainOfQuestion",4,"ngIf"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container",2,"padding","0px",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"examObj","questionObj","renderConfigObj","curQuestionIndex"],[3,"sendAudioEmitter","questionObj","isShowList","totalLimit"],[1,"absolute","w-full","h-full","top-0","left-0","z-50"],[3,"showExplainOfQuestion","questionObj","renderConfigObj","isShowExplain"]],template:function(o,a){if(1&o){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.DNE(3,Rd,1,3,"div",4)(4,Gd,8,19,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"azt-question-answer-view-for-student-at-step-page",7),t.bIt("setResultTracking",function(_){return t.eBV(i),t.Njj(a.setResultTracking.emit(_))})("setOneChoiceAnswerEmitter",function(_){return t.eBV(i),t.Njj(a.setOneChoiceAnswerEmitter.emit(_))})("setTrueFalseAnswerEmitter",function(_){return t.eBV(i),t.Njj(a.setTrueFalseAnswerEmitter.emit(_))})("setFillAnswerEmitter",function(_){return t.eBV(i),t.Njj(a.setFillAnswerEmitter.emit(_))})("setEssayAnswerEmitter",function(_){return t.eBV(i),t.Njj(a.setEssayAnswerEmitter.emit(_))}),t.k0s(),t.DNE(9,Dd,1,0,"div",8),t.k0s()(),t.DNE(10,Md,1,3,"azt-question-explain-box-for-student-at-step-test",9),t.k0s()}if(2&o){const i=t.sdS(5);t.R7$(2),t.Y8G("id","question_render_element_"+a.questionObj.id),t.R7$(),t.Y8G("ngIf",!a.renderConfigObj.isRenderElement)("ngIfElse",i),t.R7$(5),t.Y8G("question",a.questionObj)("questionIndex",a.curQuestionIndex)("fontSize",a.fontSize),t.R7$(),t.Y8G("ngIf",a.currentAnswerIsCorrect),t.R7$(),t.Y8G("ngIf","wrong"==a.currentAnswerStatus)}},dependencies:[Od.y,sn.c,Ed.S,kd.$,on,yd,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,b.s,d.flO,h.L,T.Id,x.k,rn.N],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px 30px 0 0}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),s})();const Qd=["trainingFooterBox"],Nd=["leaveWindowBox"],An=(n,s)=>[n,s],Bd=(n,s,e,o,a,i,r,_)=>[n,s,e,o,a,i,r,_],$d=(n,s,e,o)=>[n,s,e,o],Yd=(n,s)=>({"container-content-mobile":n,"container-content-desktop":s}),Pd=(n,s)=>({"margin-question-bar-for-training-for-desktop":n,"margin-question-bar-for-training-for-mobile":s}),Xd=(n,s)=>({"monitor-screen":n,"monitor-screen-mobile":s}),Vd=n=>({joinByExamHashId:n}),Ud=n=>[n];function qd(n,s){if(1&n&&(t.j41(0,"div",11),t.nrm(1,"azt-loading-effect",12),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("currentStatusObj",e.statusObj)}}function Hd(n,s){1&n&&t.nrm(0,"app-coazt-leave-window-event",null,8)}function Wd(n,s){if(1&n&&t.eu8(0,16),2&n){t.XpG();const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}function Jd(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",18),t.bIt("contextmenu",function(){t.eBV(e);const a=t.XpG(5);return t.Njj(a.allowContextMenu)}),t.j41(2,"div",19),t.eu8(3,16),t.k0s()(),t.bVm()}if(2&n){t.XpG(3);const e=t.sdS(7),o=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.l_i(2,Yd,o.isMobileScreenSize,!o.isMobileScreenSize)),t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function Kd(n,s){if(1&n&&(t.nrm(0,"azt-loading-effect",20),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(5);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Zd(n,s){if(1&n&&t.eu8(0,16),2&n){t.XpG(3);const e=t.sdS(19);t.Y8G("ngTemplateOutlet",e)}}function tg(n,s){if(1&n&&(t.qex(0),t.DNE(1,Jd,4,5,"ng-container",13)(2,Kd,2,4,"azt-loading-effect",17)(3,Zd,1,1,"ng-container",15),t.bVm()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function eg(n,s){if(1&n&&t.eu8(0,16),2&n){t.XpG(2);const e=t.sdS(17);t.Y8G("ngTemplateOutlet",e)}}function ng(n,s){if(1&n&&t.eu8(0,16),2&n){t.XpG(2);const e=t.sdS(11);t.Y8G("ngTemplateOutlet",e)}}function ag(n,s){if(1&n&&t.eu8(0,16),2&n){t.XpG(2);const e=t.sdS(13);t.Y8G("ngTemplateOutlet",e)}}function og(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,tg,4,3,"ng-container",13)(2,eg,1,1,"ng-container",15)(3,ng,1,1,"ng-container",15)(4,ag,1,1,"ng-container",15),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf",t.ziG(4,$d,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(),t.Y8G("ngIf",t.l_i(9,An,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function sg(n,s){1&n&&t.nrm(0,"azt-loading-ui",30)}function ig(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(e);const a=t.XpG(4);return t.Njj(a.checkAnswerQuestionByApi())}),t.DNE(1,sg,1,0,"azt-loading-ui",29),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG(4);t.Y8G("disabled",!e.sAztTestQuestionService.checkQuestionHasAnswer(e.currentTakeTestStepData,e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)),t.R7$(),t.Y8G("ngIf",e.statusObj.loading),t.R7$(2),t.JRh(t.bMT(4,3,null==e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer?"lang_testbank_check":"lang_testbank_try_again"))}}function rg(n,s){if(1&n&&(t.j41(0,"div",31)(1,"span",32),t.EFF(2),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(2),t.JRh(e.currentTakeTestStepData.testingUserObj.fullName)}}function lg(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-training-footer-box",33,9),t.bIt("resetTrainingTestEvent",function(){t.eBV(e);const a=t.XpG(4);return t.Njj(a.reloadPage())}),t.k0s()}if(2&n){const e=t.XpG(4);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("sAztTestQuestionService",e.sAztTestQuestionService)("tenantId",e.tenantId)("curCateId",e.curCateId)}}function _g(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-training-header-box",21),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.openQuitDialogEvent.emit())}),t.k0s(),t.j41(1,"div",22),t.nrm(2,"div",23),t.j41(3,"div",24),t.DNE(4,ig,5,5,"button",25),t.k0s(),t.DNE(5,rg,3,1,"div",26),t.eu8(6,16),t.k0s(),t.DNE(7,lg,2,6,"app-coazt-training-footer-box",27)}if(2&n){t.XpG();const e=t.sdS(9),o=t.XpG(2);t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData)("sAztTestResizeService",o.sAztTestResizeService)("isMobileScreenSize",o.isMobileScreenSize),t.R7$(),t.Y8G("ngClass",t.l_i(9,Pd,!o.isMobileScreenSize,o.isMobileScreenSize)),t.R7$(),t.Y8G("ngClass",t.l_i(12,Xd,!o.isMobileScreenSize,o.isMobileScreenSize)),t.R7$(2),t.Y8G("ngIf",null==o.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer||"wrong"===o.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer),t.R7$(),t.Y8G("ngIf",o.isMobileScreenSize),t.R7$(),t.Y8G("ngTemplateOutlet",e),t.R7$(),t.Y8G("ngIf",o.currentTakeTestStepData.nextBackQuestionModel)}}function cg(n,s){if(1&n&&(t.j41(0,"div",36),t.nrm(1,"div",37),t.nI1(2,"safeNormalHtmlContent"),t.k0s()),2&n){let e;const o=t.XpG(4);t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,null!==(e=null==o.currentTakeTestStepData.examConfigObj?null:o.currentTakeTestStepData.examConfigObj.header)&&void 0!==e?e:""),t.npT)}}function ug(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",39)(1,"div",40)(2,"azt-question-standalone-for-step-test",41),t.bIt("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setEssayAnswerEmitter.emit(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setResultTracking.emit(a))})("sendAudioEmit",function(a){t.eBV(e);const i=t.XpG(5);return t.Njj(i.sendAudioForQuestion.emit(a))})("showHintAnswer",function(){t.eBV(e);const a=t.XpG(5);return t.Njj(null==a.trainingFooterBox?null:a.trainingFooterBox.showHintAnswer())}),t.k0s()()()}if(2&n){let e;const o=s.$implicit,a=t.XpG(5);t.R7$(),t.FS9("id","question_"+o.id),t.Y8G("hidden",o.id!=a.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id),t.R7$(),t.Y8G("examObj",a.currentTakeTestStepData.examObj)("questionObj",o)("follower",a.followerRenderQuest)("curQuestionIndex",a.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex)("fontSize",a.sAztTestResizeService.fontSize)("isShowExplain",null!==(e=o.isShowHint)&&void 0!==e&&e)("currentAnswerIsCorrect","correct"===o.practiceCheckAnswer)("currentAnswerStatus",o.practiceCheckAnswer)}}function pg(n,s){if(1&n&&(t.qex(0),t.DNE(1,ug,3,10,"div",38),t.bVm()),2&n){const e=t.XpG(4);t.R7$(),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}function mg(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-sort-essay-files-box",34),t.bIt("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s(),t.DNE(1,cg,3,3,"div",35)(2,pg,2,1,"ng-container",13)}if(2&n){const e=t.XpG(3);t.Y8G("answerFiles",e.currentTakeTestStepData.files),t.R7$(),t.Y8G("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function dg(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-join-classroom-box",42),t.bIt("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent.emit(a))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("joinClassroomByType",t.eq3(1,Vd,e.currentTakeTestStepData.examObj.hashId))}}function gg(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",43),t.bIt("submitTestEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi.emit(a))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",44),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles.emit(a))}),t.k0s()()}if(2&n){const e=t.XpG(3);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}function fg(n,s){if(1&n&&(t.j41(0,"div",45)(1,"div",46)(2,"div",47),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",48)(6,"a",49),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG(3);t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,Ud,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function Tg(n,s){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",50),2&n){const e=t.XpG(3);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function hg(n,s){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",51),2&n){const e=t.XpG(3);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}function bg(n,s){if(1&n&&(t.qex(0),t.nrm(1,"app-coazt-tracking-full-screen-event",14)(2,"app-coazt-tracking-visible-event",14),t.DNE(3,Hd,2,0,"app-coazt-leave-window-event",13)(4,Wd,1,1,"ng-container",15)(5,og,5,12,"div",13)(6,_g,8,15,"ng-template",null,1,t.C5r)(8,mg,3,3,"ng-template",null,2,t.C5r)(10,dg,1,3,"ng-template",null,3,t.C5r)(12,gg,2,9,"ng-template",null,4,t.C5r)(14,fg,10,11,"ng-template",null,5,t.C5r)(16,Tg,1,2,"ng-template",null,6,t.C5r)(18,hg,1,3,"ng-template",null,7,t.C5r),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData),t.R7$(),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData),t.R7$(),t.Y8G("ngIf",t.l_i(5,An,e.allTakeTestSteps.START_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(e.currentTakeTestStepData.currentStep)&&!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(),t.Y8G("ngIf",t.lV(8,Bd,e.allTakeTestSteps.WAIT_TO_TEST_TIME,e.allTakeTestSteps.CHOOSE_STUDENT,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep))}}function xg(n,s){if(1&n&&t.DNE(0,bg,20,17,"ng-container",13),2&n){const e=t.XpG();t.Y8G("ngIf",e.currentTakeTestStepData)}}let Sg=(()=>{var n;class s extends md{constructor(){super(...arguments),this.openQuitDialogEvent=new t.bkB,this.testCheckQuestionService=(0,t.WQX)(yn)}checkAnswerQuestionByApi(){this.testCheckQuestionService.sendCheckQuestionEvent(!0)}reloadPage(){this.leaveWindowBox?.stopConfirm(),setTimeout(()=>{window.location.reload()},0)}}return(n=s).\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-training-in-step-layout"]],viewQuery:function(o,a){if(1&o&&(t.GBs(Qd,5),t.GBs(Nd,5)),2&o){let i;t.mGM(i=t.lsd())&&(a.trainingFooterBox=i.first),t.mGM(i=t.lsd())&&(a.leaveWindowBox=i.first)}},outputs:{openQuitDialogEvent:"openQuitDialogEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["mainTakeTestContentTpl",""],["showStepQuestionTpl",""],["chooseStudentTpl",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],["leaveWindowBox",""],["trainingFooterBox",""],["class","p-3",4,"ngIf","ngIfElse"],[1,"p-3"],[3,"currentStatusObj"],[4,"ngIf"],[3,"currentTakeTestStepData"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"openQuitDialogEvent","currentTakeTestStepData","sAztTestResizeService","isMobileScreenSize"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],[1,"text-right"],["azt-track-service","take-training-Vy9M0G9VK1u","class","btn btn-primary w-32","style","position: absolute; right: 10px",3,"disabled","click",4,"ngIf"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","sAztTestQuestionService","tenantId","curCateId","resetTrainingTestEvent",4,"ngIf"],["azt-track-service","take-training-Vy9M0G9VK1u",1,"btn","btn-primary","w-32",2,"position","absolute","right","10px",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],[1,"p-1","text-center","mt-1"],[2,"vertical-align","middle","font-weight","420"],[3,"resetTrainingTestEvent","currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","sAztTestQuestionService","tenantId","curCateId"],[3,"changeAnswerFiles","answerFiles"],["class","box p-3 mb-3",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],["class","mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioEmit","showHintAnswer","examObj","questionObj","follower","curQuestionIndex","fontSize","isShowExplain","currentAnswerIsCorrect","currentAnswerStatus"],[3,"selectStudentEvent","joinClassroomByType"],[3,"submitTestEvent","currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj"],[3,"showUploadEssayFilesDialogEvent","changeAnswerFilesEvent","currentTakeTestStepData"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(o,a){if(1&o&&t.DNE(0,qd,2,1,"div",10)(1,xg,1,1,"ng-template",null,0,t.C5r),2&o){const i=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,Lt,Qt,Mt,Sd,tt.R,pd,Ct.s,Ld,Ut.l,Pt,Xt,Vt,Bt,g.F2,c.MD,c.YU,c.Sq,c.bT,c.T3,p.X1,l.iI,l.Wk,p.YN,g.wp,b.s,d.flO,h.L,g._y,T.Id,x.k],styles:[".margin-question-bar-for-training-for-desktop[_ngcontent-%COMP%], .margin-question-bar-for-training-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),s})();const kg=["trainingFooterBox"],vg=["leaveWindowBox"],Cg=()=>({"mr-2 azt-hidden md:block":!0});function Ig(n,s){if(1&n&&(t.j41(0,"div",2),t.nrm(1,"azt-loading-effect",3),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("currentStatusObj",e.statusObj)}}function yg(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"app-coazt-take-training-in-step-layout",5),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSubmitExam())})("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setResultTracking(a))})("sendAudioForQuestion",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.eBV(e);const i=t.XpG(2);return t.Njj(i.submitTestToApi(a))}),t.k0s(),t.bVm()}if(2&n){const e=t.XpG(2);t.R7$(),t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("sAztTestQuestionService",e.sAztTestQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)("tenantId",e.tenantId)("curCateId",e.curCateId)}}function Og(n,s){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",6)(2,"div",7),t.nrm(3,"div",8),t.nI1(4,"mytranslate"),t.j41(5,"div",9)(6,"a",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.redirectToVipUpgrade())}),t.nrm(7,"lucide-icon",11),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()(),t.bVm()}2&n&&(t.R7$(3),t.Y8G("innerHTML",t.bMT(4,3,"lang_take_test_attemps_exam_warning"),t.npT),t.R7$(4),t.Y8G("ngClass",t.lJ4(7,Cg)),t.R7$(),t.SpI(" ",t.bMT(9,5,"lang_azt_upgrade_vip")," "))}function Eg(n,s){if(1&n&&t.DNE(0,yg,2,11,"ng-container",4)(1,Og,10,8,"ng-container",4),2&n){const e=t.XpG();t.Y8G("ngIf",e.currentTakeTestStepData&&e.allowAttempExam),t.R7$(),t.Y8G("ngIf",!e.allowAttempExam)}}let wg=(()=>{var n;class s extends ce{reloadPage(){this.leaveWindowBox?.stopConfirm(),setTimeout(()=>{window.location.reload()},0)}startShowTestContent(o,a){return this.sAztTakeTestCallApiService.getHistoryAnswerOfTrainingFromApi(this.currentTakeTestStepData,(i,r)=>{if(i)return a(i);o=(new In).setQuestionAnswers(o,r),this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,o,_=>{if(this.currentTakeTestStepData=_,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown)return a(void 0);this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.uploadHashCode,u=>{null!=u&&(this.currentTakeTestStepData.files=u)}),this.intervalToSendTestDataToApi(),a(void 0)})})}getInitDataFromApi(){this.initStatusObj(),this.checkVipOrBasicExam(this.hashId,o=>{if(!o)return this.allowAttempExam=!1,this.stopStatusObj();let a=new D(this.hashId,this.browserStorageService).getPassword(),i=new D(this.hashId,this.browserStorageService).hasInfo();this.waitDestroy(Q.c.production||Q.c.isProdAzotaVn?this.frontExamService.apiFrontExamInitDataGet(this.hashId,a,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),1).subscribe(_=>{const u=this.encryptionHelper.result(_);this.processInitData(""!=a,u)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,a,i?1:0,this.sAztTestDeviceIdService.getDeviceId(),1).subscribe(_=>{this.processInitData(""!=a,_)}))})}ngOnInit(){this.initParams(),super.ngOnInit()}constructor(){super(),this.allTakeTestSteps=k,this.allowContextMenu=!Q.c.production,this.modeViewTest="training"}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-training"]],viewQuery:function(o,a){if(1&o&&(t.GBs(kg,5),t.GBs(vg,5)),2&o){let i;t.mGM(i=t.lsd())&&(a.trainingFooterBox=i.first),t.mGM(i=t.lsd())&&(a.leaveWindowBox=i.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],["class","p-3",4,"ngIf","ngIfElse"],[1,"p-3"],[3,"currentStatusObj"],[4,"ngIf"],[3,"openQuitDialogEvent","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi","sAztTestResizeService","sAztTestNextBackQuestionService","sAztTestQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","tenantId","curCateId"],[1,"flex","justify-center","ml-3","mr-3"],[1,"box","p-3","mt-20",2,"max-width","500px","line-height","35px"],[1,"text-danger",2,"font-size","18px",3,"innerHTML"],[1,"text-center"],[1,"btn","btn-sm","btn-gradient-primary","mt-3",2,"font-size","18px",3,"click"],["name","gem","size","24",3,"ngClass"]],template:function(o,a){if(1&o&&t.DNE(0,Ig,2,1,"div",1)(1,Eg,2,2,"ng-template",null,0,t.C5r),2&o){const i=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[A.K,Sg,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();var Ag=m(90796),zg=m(68323),jg=m(27208),zn=m(35450),Rg=m(68774),Fg=m(9241);function Gg(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Dg(n,s){if(1&n&&(t.nrm(0,"img",23),t.nI1(1,"mycdn")),2&n){const e=t.XpG().$implicit;t.FS9("src",t.bMT(1,1,e.avatar),t.B4B)}}function Mg(n,s){if(1&n&&t.nrm(0,"azt-create-avatar",24),2&n){const e=t.XpG().$implicit;t.Y8G("nameCreateAvatar",e.fullName)("size",30)}}function Lg(n,s){if(1&n&&t.nrm(0,"img",25),2&n){const e=t.XpG().$implicit;t.Y8G("nameImages",e.nameImages)}}function Qg(n,s){if(1&n&&(t.j41(0,"p",20),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"formatOnlyDateByUserUnitPipe"),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_ngay_sinh"),": "),t.R7$(3),t.JRh(t.bMT(5,4,e.birthday))}}function Ng(n,s){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_Diem"),"\xa0",e.mark,"")}}function Bg(n,s){1&n&&(t.j41(0,"span",26),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_test_result_not_marked_essay")," "))}function $g(n,s){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_diem")," "))}function Yg(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",7)(1,"button",8),t.bIt("click",function(){const a=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj(i.selectStudentAction(a))}),t.j41(2,"div",9)(3,"div",10)(4,"div",11),t.DNE(5,Dg,2,3,"img",12)(6,Mg,1,2,"azt-create-avatar",13),t.k0s()(),t.j41(7,"div",14)(8,"div",15)(9,"p",16),t.EFF(10),t.nI1(11,"slice"),t.k0s(),t.j41(12,"div",17),t.DNE(13,Lg,1,1,"img",18),t.k0s(),t.DNE(14,Qg,6,6,"p",19),t.j41(15,"p",20),t.DNE(16,Ng,3,4,"span",21)(17,Bg,3,3,"span",22)(18,$g,3,3,"span",21),t.k0s()()()()()()}if(2&n){let e;const o=s.$implicit;t.R7$(),t.Y8G("disabled",!o.examResultId),t.R7$(4),t.Y8G("ngIf",o.avatar),t.R7$(),t.Y8G("ngIf",!o.avatar),t.R7$(3),t.FS9("matTooltip",o.fullName&&o.fullName.length>25?o.fullName:""),t.R7$(),t.SpI(" ",o.fullName&&o.fullName.length>25?t.brH(11,10,o.fullName,0,25)+"..":o.fullName," "),t.R7$(3),t.Y8G("ngIf",o.nameImages&&(null!==(e=o.id)&&void 0!==e?e:0)<=0),t.R7$(),t.Y8G("ngIf",o.birthday),t.R7$(2),t.Y8G("ngIf",o.examResultId&&o.examResultConfirmedAt),t.R7$(),t.Y8G("ngIf",o.examResultId&&!o.examResultConfirmedAt),t.R7$(),t.Y8G("ngIf",!o.examResultId)}}function Pg(n,s){if(1&n&&(t.j41(0,"div",3)(1,"h3",4),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",5),t.DNE(7,Yg,19,14,"div",6),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.E5c("",t.bMT(3,4,e.classroomGroupObj.groupObj.name)," - ",t.bMT(4,6,e.classroomGroupObj.classroomObj.name),": ",t.bMT(5,8,"lang_auto_danh_sach_hoc_sinh"),""),t.R7$(5),t.Y8G("ngForOf",e.classroomGroupObj.classroomObj.studentObjs)}}let Xg=(()=>{var n;class s extends S.H{selectStudentAction(o){this.selectStudentEvent.emit(o)}onSearchBox(o){this.searchContentObj=o}sortStudents(){this.classroomGroupObj.classroomObj.studentObjs=0==this.classroomGroupObj.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[],"pos","id")}getData(){this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost({examHashId:this.examHashId,shareHashId:this.shareOfflineCode,classroomId:this.classroomGroupObj.classroomObj.id}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);let i=this.commonService.concatMultipleArray(a.data?.classroomGroupObjs.map(r=>r.classroomObjs)??[]).find(r=>r.id==this.classroomGroupObj.classroomObj.id);i&&(this.classroomGroupObj.classroomObj=i),this.sortStudents(),this.stopStatusObj()}))}ngOnInit(){if(super.ngOnInit(),this.classroomGroupObj.classroomObj.dataInApi)return this.sortStudents();this.getData()}constructor(o,a){super(),this.frontOfflineShareService=o,this.sortService=a,this.selectStudentEvent=new t.bkB,this.searchContentObj=new jg.Z}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(zn.pC),t.rXU(Rg.g))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-choose-student-in-share-offline-result"]],inputs:{classroomGroupObj:"classroomGroupObj",examHashId:"examHashId",shareOfflineCode:"shareOfflineCode"},outputs:{selectStudentEvent:"selectStudentEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"block-main","mt-3"],[1,"font-medium","mb-3"],[1,"grid","grid-cols-12","p-2","pt-4","box",2,"background-color","#fff","min-height","100px"],["class","col-span-12 sm:col-span-12 md:col-span-4 lg:col-span-3 mb-3 px-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","lg:col-span-3","mb-3","px-2"],["azt-track-service","share-offline-result-cxL-TXi9YY",1,"flex","items-center","p-3","rounded-md","bg-slate-100","dark:bg-darkmode-300","w-full",2,"min-height","80px",3,"click","disabled"],[1,"grid","grid-cols-12","gap-2","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-span-3"],[1,"flex","items-center",2,"height","100%","justify-content","center"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-span-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-name-fluid","style","height: auto","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","text-xs mb-0",4,"ngIf"],[1,"text-xs","mb-0"],[4,"ngIf"],["class","text-pending",4,"ngIf"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1","img-name-fluid",2,"height","auto",3,"nameImages"],[1,"text-pending"]],template:function(o,a){if(1&o&&t.DNE(0,Gg,1,1,"azt-loading-effect",1)(1,Pg,8,10,"ng-template",null,0,t.C5r),2&o){const i=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[Ag.y,A.K,zg.p,c.MD,c.Sq,c.bT,c.P9,p.X1,l.iI,p.YN,g.nf,g.wp,b.s,H.oV,d.flO,h.L,g.vv,T.Id,x.k,Fg.w],encapsulation:2}),s})();var Vg=m(4975);const Ug=()=>({"mr-2":!0});function qg(n,s){if(1&n&&t.nrm(0,"azt-loading-effect",5),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Hg(n,s){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"a",11),t.bIt("click",function(){t.eBV(e);const a=t.XpG(4);return t.Njj(a.backToClassroomList())}),t.j41(2,"span",12),t.nrm(3,"lucide-icon",13),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(3),t.Y8G("ngClass",t.lJ4(4,Ug)),t.R7$(),t.SpI(" ",t.bMT(5,2,"lang_student_join_classroom_back_to_classrooms_list")," "))}function Wg(n,s){if(1&n){const e=t.RV6();t.j41(0,"div"),t.DNE(1,Hg,6,5,"div",9),t.j41(2,"app-choose-student-in-share-offline-result",10),t.bIt("selectStudentEvent",function(a){t.eBV(e);const i=t.XpG(3);return t.Njj(i.chooseStudentSuccess(a))}),t.k0s()()}if(2&n){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf",e.allClassroomObjs.length>1),t.R7$(),t.Y8G("classroomGroupObj",e.currentClassroomGroupObj)("examHashId",e.examHashIdParam)("shareOfflineCode",e.shareOfflineCodeParam)}}function Jg(n,s){if(1&n){const e=t.RV6();t.j41(0,"azt-list-classroom-view-for-join-classroom",15),t.bIt("clickToClassroomEmitter",function(a){t.eBV(e);const i=t.XpG(4);return t.Njj(i.clickToClassroomEvent(a))}),t.k0s()}if(2&n){const e=t.XpG(4);t.Y8G("isExpandAll",!0)("classroomGroupData",e.classroomWithGroup)}}function Kg(n,s){if(1&n&&t.DNE(0,Jg,1,2,"azt-list-classroom-view-for-join-classroom",14),2&n){const e=t.XpG(3);t.Y8G("ngIf",e.classroomWithGroup)}}function Zg(n,s){if(1&n&&(t.j41(0,"div",7),t.DNE(1,Wg,3,4,"div",8)(2,Kg,1,1,"ng-template",null,2,t.C5r),t.k0s()),2&n){const e=t.sdS(3),o=t.XpG(2);t.R7$(),t.Y8G("ngIf",o.currentClassroomGroupObj)("ngIfElse",e)}}function t1(n,s){1&n&&(t.j41(0,"div",16)(1,"div",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_giao_vien_chua_cho_xem_ket_qua_thi")," "))}function e1(n,s){if(1&n&&t.DNE(0,Zg,4,2,"div",6)(1,t1,4,3,"ng-template",null,1,t.C5r),2&n){const e=t.sdS(2),o=t.XpG();t.Y8G("ngIf",o.allClassroomObjs.length)("ngIfElse",e)}}let jn=(()=>{var n;class s extends S.H{chooseStudentSuccess(o){this.myNavigationWithQueryString(`/test/answer-test/${this.examObj?.tenantId??0}/${this.examObj?.categoryId??0}/${this.examObj?.hashId}/${o.examResultId}`,`?offline=${this.shareOfflineCodeParam}&backto=${this.returnLink}`)}backToClassroomList(){this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/-1"),this.getParamUrl(),this.currentClassroomGroupObj=void 0}clickToClassroomEvent(o){let a=this.allClassroomObjs.find(i=>i.id==o.classroomObj.id);a&&(this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+a.id),this.getParamUrl(),this.currentClassroomGroupObj={groupObj:o.classroomGroupObj,classroomObj:a})}getData(){if(!this.examHashIdParam||!this.shareOfflineCodeParam)return;let o={examHashId:this.examHashIdParam,shareHashId:this.shareOfflineCodeParam,classroomId:-1!=this.classroomIdParam?this.classroomIdParam:void 0};this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost(o).subscribe(a=>{if(!a.success)return this.forceShowErrorBox(a.message);if(this.examObj=a.data?.examObj,this.classroomWithGroup=(a.data?.classroomGroupObjs??[]).map(_=>({groupObj:_.groupObj,isOwned:!0,classroomObjs:_.classroomObjs})),this.allClassroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(_=>_.classroomObjs)),-1!=this.classroomIdParam){let _=this.allClassroomObjs.find(f=>f.id==this.classroomIdParam),u=this.classroomWithGroup.find(f=>f.classroomObjs.find(v=>v.id==this.classroomIdParam));if(_&&u)return this.currentClassroomGroupObj={groupObj:u.groupObj,classroomObj:_},void this.successStatusObj()}let i=1==this.allClassroomObjs.length?this.commonService.getFirstOfArray(this.allClassroomObjs):void 0,r=this.classroomWithGroup.find(_=>_.classroomObjs.find(u=>u.id==i?.id));i&&r&&(this.currentClassroomGroupObj={groupObj:r.groupObj,classroomObj:i}),this.successStatusObj()}))}getParamUrl(){this.examHashIdParam=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.shareOfflineCodeParam=this.commonService.getMyParam(this.activeRoute,"offline_code")??"",this.classroomIdParam=this.commonService.getMyParamToNumber(this.activeRoute,"classroom_id")??-1,this.returnLink="/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+this.classroomIdParam,this.backToLink="/student/classroom/0"}ngOnInit(){super.ngOnInit(),this.getParamUrl(),this.getData()}constructor(o,a){super(),this.frontOfflineShareService=o,this.activeRoute=a,this.backToLink="",this.returnLink="",this.shareOfflineCodeParam="",this.classroomIdParam=-1,this.examHashIdParam="",this.allClassroomObjs=[],this.currentClassroomGroupObj=void 0,this.classroomWithGroup=[]}}return(n=s).\u0275fac=function(o){return new(o||n)(t.rXU(zn.pC),t.rXU(l.nX))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-share-offline-result"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["doneLoading",""],["noClassroom",""],["showChooseClassrooms",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","mt-5",4,"ngIf","ngIfElse"],[1,"mt-5"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"selectStudentEvent","classroomGroupObj","examHashId","shareOfflineCode"],["azt-track-service","share-offline-result-kZ8e0tmTZ",1,"display-inline-block",3,"click"],[1,"text-primary","flex","items-center"],["name","chevron-left","size","16",3,"ngClass"],[3,"isExpandAll","classroomGroupData","clickToClassroomEmitter",4,"ngIf"],[3,"clickToClassroomEmitter","isExpandAll","classroomGroupData"],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"]],template:function(o,a){if(1&o&&(t.j41(0,"student-layout",3),t.DNE(1,qg,1,1,"azt-loading-effect",4)(2,e1,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&o){const i=t.sdS(3);t.Y8G("headerBackToLink",a.backToLink),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",i)}},dependencies:[Y.j,A.K,Xg,Vg.B,c.MD,c.YU,c.bT,p.X1,l.iI,p.YN,g.wp,b.s,d.flO,d.WGl,h.L,T.Id,x.k],encapsulation:2}),s})();const n1=[{path:"",component:$a,canActivate:[Tt.L],children:[{path:":hash_id",component:Na},{path:"leaderboard/:hash_id",component:Ba},{path:"category/:tenant_id/:cate_id/:page",component:$n},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:Hi},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:km},{path:"take-training/:tenant_id/:cate_id/:hash_id",component:wg},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:si},{path:"share-offline-result/:hash_id/:offline_code",component:jn},{path:"share-offline-result/:hash_id/:offline_code/:classroom_id",component:jn},{path:"capacity-exam/:tenant_id/:cate_id/:hash_id",component:mm}]}];let a1=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[l.iI.forChild(n1),l.iI,ut.XE]}),s})()},74151:(Ce,ct,m)=>{m.d(ct,{n:()=>Tt});var l=m(48891),ut=m(543);let Tt=(()=>{var c;class p{resizeDrawerHeight(G,b){if(this.autoResizeHeight=G,this.drawer=b,this.drawer&&this.autoResizeHeight){let at=()=>{let S=document.querySelector(".azt-drawer-content"),Y=document.querySelector(".azt-draw-left");if(Y&&Y instanceof HTMLElement&&S&&S instanceof HTMLElement){let pt=S;pt.style.minHeight=this.isOpenSideNav?Y.clientHeight+10+"px":"auto"}},g=new ResizeObserver(S=>{at()}),h=document.querySelector(".azt-draw-left");h&&g.observe(h),at()}}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}toggleDrawer(){this.drawer?.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openedChange(G){this.isOpenSideNav=G,this.resizeDrawerHeight(this.autoResizeHeight)}changeToMobileMode(G){G?(this.mode="over",this.hasBackdrop=!0):(this.mode="side",this.hasBackdrop=!1)}constructor(G){this.commonService=G,this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.autoResizeHeight=!1}}return(c=p).\u0275fac=function(G){return new(G||c)(l.KVO(ut.R))},c.\u0275prov=l.jDH({token:c,factory:c.\u0275fac,providedIn:null}),p})()},14490:(Ce,ct,m)=>{m.d(ct,{T:()=>Zt});var l=m(48891),ut=m(89163),Tt=m(33887),c=m(71812),p=m(52811),d=m(54460),G=m(10936),b=m(65162),at=m(47348),g=m(21656),h=m(15343),S=m(70050),Y=m(5502),pt=m(36894),ht=m(56562);const A=()=>({"mr-2":!0});function wt(C,L){1&C&&(l.j41(0,"div",7),l.nrm(1,"azt-loading-ui",8),l.k0s()),2&C&&(l.R7$(),l.Y8G("size",32))}function T(C,L){if(1&C&&(l.j41(0,"span"),l.EFF(1),l.nI1(2,"mytranslate"),l.k0s()),2&C){const y=l.XpG(3);l.R7$(),l.JRh(l.bMT(2,1,y.title))}}function x(C,L){if(1&C&&(l.j41(0,"h3",13)(1,"div",14),l.nrm(2,"lucide-icon",15),l.EFF(3," POINT "),l.k0s(),l.DNE(4,T,3,3,"span",6),l.k0s()),2&C){const y=l.XpG(2);l.R7$(2),l.Y8G("ngClass",l.lJ4(2,A)),l.R7$(2),l.Y8G("ngIf",y.title)}}function t(C,L){1&C&&(l.j41(0,"h3",13)(1,"div",14),l.nrm(2,"lucide-icon",15),l.EFF(3," POINT "),l.k0s()()),2&C&&(l.R7$(2),l.Y8G("ngClass",l.lJ4(1,A)))}function j(C,L){if(1&C&&(l.j41(0,"div",16),l.DNE(1,t,4,2,"h3",10),l.nrm(2,"span",17),l.nI1(3,"mytranslate"),l.k0s()),2&C){const y=l.XpG(2);l.R7$(),l.Y8G("ngIf","export-excel-per-50"==y.data.transactionType),l.R7$(),l.Y8G("innerHTML",l.bMT(3,2,y.counterRequireNote),l.npT)}}function V(C,L){if(1&C&&(l.j41(0,"div",18),l.nrm(1,"p",19),l.nI1(2,"mytranslate"),l.k0s()),2&C){const y=l.XpG(2);l.R7$(),l.Y8G("innerHTML",l.bMT(2,1,"export-excel-per-50"==y.data.transactionType?"lang_azt_export_exceeds_50_records":"lang_azt_point_required_cant_using"),l.npT)}}function qt(C,L){if(1&C&&(l.j41(0,"div",9),l.DNE(1,x,5,3,"h3",10)(2,j,4,4,"div",11)(3,V,3,3,"div",12),l.k0s()),2&C){const y=l.XpG();l.R7$(),l.Y8G("ngIf","export-excel-per-50"!=y.data.transactionType),l.R7$(),l.Y8G("ngIf",y.counterRequireNote),l.R7$(),l.Y8G("ngIf",!(null!=y.dataChecked&&y.dataChecked.canUsing))}}function Ht(C,L){if(1&C){const y=l.RV6();l.j41(0,"button",21),l.bIt("click",function(){l.eBV(y);const w=l.XpG(2);return l.Njj(w.confirmDialog("confirm"))}),l.EFF(1),l.nI1(2,"mytranslate"),l.k0s()}2&C&&(l.R7$(),l.SpI(" ",l.bMT(2,1,"lang_auto_tiep_tuc")," "))}function H(C,L){if(1&C){const y=l.RV6();l.j41(0,"button",21),l.bIt("click",function(){l.eBV(y);const w=l.XpG(2);return l.Njj(w.goBuyMorePoint())}),l.EFF(1),l.nI1(2,"mytranslate"),l.k0s()}2&C&&(l.R7$(),l.SpI(" ",l.bMT(2,1,"lang_point_require_buy_more_point")," "))}function Wt(C,L){if(1&C&&(l.qex(0),l.DNE(1,Ht,3,3,"button",20)(2,H,3,3,"button",20),l.bVm()),2&C){const y=l.XpG();l.R7$(),l.Y8G("ngIf","ai-platform"!=y.data.transactionType||"ai-platform"==y.data.transactionType&&y.totalPoint>0),l.R7$(),l.Y8G("ngIf","ai-platform"==y.data.transactionType&&y.totalPoint<=0)}}function Jt(C,L){if(1&C){const y=l.RV6();l.j41(0,"button",23),l.bIt("click",function(){l.eBV(y);const w=l.XpG(2);return l.Njj(w.confirmDialog("continue"))}),l.EFF(1),l.nI1(2,"mytranslate"),l.k0s()}2&C&&(l.R7$(),l.SpI(" ",l.bMT(2,1,"lang_auto_tiep_tuc")," "))}function Kt(C,L){if(1&C){const y=l.RV6();l.qex(0),l.DNE(1,Jt,3,3,"button",22),l.j41(2,"button",21),l.bIt("click",function(){l.eBV(y);const w=l.XpG();return l.Njj(w.goBuyMorePoint())}),l.EFF(3),l.nI1(4,"mytranslate"),l.k0s(),l.bVm()}if(2&C){const y=l.XpG();l.R7$(),l.Y8G("ngIf","export-excel-per-50"==y.data.transactionType),l.R7$(2),l.SpI(" ",l.bMT(4,2,"azt-ocr"==y.data.transactionType||"ai-platform"==y.data.transactionType?"lang_point_require_buy_more_point":"lang_azt_upgrade_now")," ")}}let Zt=(()=>{var C;class L extends Tt._{handlerCloseDialog(){this.dialogRef.close("cancel")}goBuyMorePoint(){this.dialogRef.close("upgrade"),this.commonService.myNavigationWithQueryString("/auth/vip-packages/teacherVip",`?backto=${encodeURIComponent(this.data.returnUrl)}&trackingKey=${this.data.transactionType.toUpperCase()}`)}confirmDialog(F){this.dialogRef.close(F)}getPointRequire(){this.initStatusObj();let F="export-excel-per-50"!=this.data.transactionType?this.data.times:this.payAsGoService.getExportExcel50ByTime(this.data.times);this.payAsGoService.getPointsRequired(this.data.transactionType,F??0).subscribe(w=>w&&w.success?(this.dataChecked=w.data,this.title=w.data?.canUsing?"ai-platform"==this.data.transactionType?this.commonService.translateToKeyParam("lang_point_required_ai_using_action_note",this.totalPoint.toString()):"":"lang_point_required_cant_using_action_title","ai-platform"!=this.data.transactionType&&w.data?.canUsing&&0==w.data?.requiredPoints?this.confirmDialog("confirm"):(this.counterRequireNote="ai-platform"==this.data.transactionType?"":this.commonService.translateToKeyParam(w.data?.requiredPoints&&w.data?.requiredPoints>0?"lang_point_required_cant_using_action_point":"lang_point_required_to_action",this.commonService.parseNumberFixed(w.data?.requiredPoints??0,4).toString()),void this.successStatusObj())):this.errorStatusObj(w.message,!0))}getCurrentPoint(){this.waitDestroy(this.payAsGoService.getTotalPoint(!0,void 0).subscribe(F=>{this.totalPoint=this.commonService.parseNumberFixed(F.data?.totalPoint??0,4),this.getPointRequire()}))}constructor(F,w,Z){super(Z,w),this.sAztAzotaTrackingService=F,this.dialogRef=w,this.data=Z,this.payAsGoService=(0,l.WQX)(c.Q),this.counterRequireNote="",this.title="",this.totalPoint=0,"ai-platform"==this.data.transactionType&&this.getCurrentPoint(),"ai-platform"!=this.data.transactionType&&this.getPointRequire()}}return(C=L).\u0275fac=function(F){return new(F||C)(l.rXU(ht.M),l.rXU(ut.CP,8),l.rXU(ut.Vh,8))},C.\u0275cmp=l.VBU({type:C,selectors:[["azt-checkpoint-require-dialog"]],standalone:!0,features:[l.Vt3,l.aNF],decls:11,vars:7,consts:[["doneLoad",""],[1,"box","w-72","sm:w-80"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],["class","mx-auto my-auto text-center midle-box p-5","style","height: 130px",4,"ngIf","ngIfElse"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[4,"ngIf"],[1,"mx-auto","my-auto","text-center","midle-box","p-5",2,"height","130px"],[3,"size"],[1,"p-5"],["class","text-lg font-medium mb-2",4,"ngIf"],["class","mt-3 flex",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"text-lg","font-medium","mb-2"],[1,"badge-vip","inline-flex","items-center","mr-2",2,"height","25px"],["name","gem","size","12",3,"ngClass"],[1,"mt-3","flex"],[1,"text-md","font-normal",3,"innerHTML"],[1,"mt-3"],[1,"text-md",3,"innerHTML"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","btn btn-primary-soft mr-3",3,"click",4,"ngIf"],[1,"btn","btn-primary-soft","mr-3",3,"click"]],template:function(F,w){if(1&F){const Z=l.RV6();l.j41(0,"div",1)(1,"div",2),l.DNE(2,wt,2,1,"div",3)(3,qt,4,3,"ng-template",null,0,l.C5r),l.k0s(),l.j41(5,"div",4)(6,"button",5),l.bIt("click",function(){return l.eBV(Z),l.Njj(w.handlerCloseDialog())}),l.EFF(7),l.nI1(8,"mytranslate"),l.k0s(),l.DNE(9,Wt,3,2,"ng-container",6)(10,Kt,5,4,"ng-container",6),l.k0s()()}if(2&F){const Z=l.sdS(4);l.R7$(2),l.Y8G("ngIf",w.statusObj.loading)("ngIfElse",Z),l.R7$(5),l.SpI(" ",l.bMT(8,5,"lang_auto_huy")," "),l.R7$(2),l.Y8G("ngIf",null==w.dataChecked?null:w.dataChecked.canUsing),l.R7$(),l.Y8G("ngIf",!(null!=w.dataChecked&&w.dataChecked.canUsing))}},dependencies:[p.R,d.MD,d.YU,d.bT,G.X1,b.iI,G.YN,at.wp,g.s,h.flO,h.WGl,S.L,Y.Id,pt.k],encapsulation:2}),L})()}}]);