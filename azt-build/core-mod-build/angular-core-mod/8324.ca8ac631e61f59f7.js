(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[8324],{51034:(k,O,r)=>{"use strict";r.r(O),r.d(O,{LadingPageModule:()=>Ye});var t=r(54460),f=r(10936),v=r(89163),c=r(65162),_=r(81275),T=r(69223),p=r(15437),S=r(15343),j=r(13763),u=r(25571),g=r(5502),x=r(70050),h=r(7050),E=r(35143),B=r(43234),L=r(21656),z=r(1133),P=r(76627),w=r(59640),M=r(37497),e=r(48891),F=r(78472),Y=r(15485),X=r(52509),V=r(36484),U=r(18718),W=r(22613),J=r(86972),K=r(92274),l=r(45306),C=r(43362),d=r(51221),y=r(86925),A=r(37581),G=r(92654),N=r(46899),D=r(30977),H=r(50589),Q=r(31291),Z=r(23356),$=r(47712),ie=r(69135),se=r(52811),re=r(94743),q=r(47348);const ae=n=>({active:n}),le=n=>[n],ce=n=>({clickable:n}),me=n=>({"truncate-bread":n}),de=(n,m)=>({"overflow-x-auto":n,"overflow-x-visible":m}),ne=n=>({"min-width":n}),ge=(n,m)=>({"col-span-4":n,"col-span-12":m}),ue=(n,m)=>({"ml-5":n,"ml-3":m}),oe=n=>({"text-primary stroke-width-2.5":n}),_e=()=>({"-mt-2":!0}),pe=(n,m)=>({"col-span-8":n,"col-span-12":m}),he=(n,m)=>({"w-60":n,"w-52":m});function be(n,m){if(1&n&&(e.j41(0,"li",15)(1,"a",16),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&n){const i=e.XpG();e.Y8G("ngClass",e.eq3(7,ae,2885==i.currentCategoryId||0==i.currentCategoryId)),e.R7$(),e.Y8G("routerLink",e.eq3(9,le,e.bMT(2,3,"/ladingpage/document-management/0/0/1"))),e.R7$(2),e.SpI(" ",e.bMT(4,5,"azt_lang_core_share_global_azota")," ")}}function fe(n,m){if(1&n){const i=e.RV6();e.j41(0,"li",17)(1,"a",18),e.bIt("click",function(){const o=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.backToParentCategoryEvent(o))}),e.j41(2,"span",19,1),e.nI1(4,"mytranslate"),e.j41(5,"span"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()()}if(2&n){const i=m.$implicit,a=e.sdS(3),o=e.XpG();e.Y8G("ngClass",e.eq3(11,ae,i.id==o.currentCategoryId)),e.R7$(),e.Y8G("ngClass",e.eq3(13,ce,i.id!=o.currentCategoryId)),e.R7$(),e.FS9("matTooltip",e.bMT(4,7,i.name)),e.Y8G("ngClass",e.eq3(15,me,i.id!=o.currentCategoryId))("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),e.R7$(4),e.JRh(e.bMT(7,9,i.name))}}function ye(n,m){1&n&&(e.j41(0,"div",20)(1,"div",21),e.nrm(2,"azt-svg-icon",22),e.j41(3,"p",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("size",84),e.R7$(2),e.SpI("",e.bMT(5,2,"lang_not_found_search"),"!"))}function ve(n,m){if(1&n&&(e.qex(0),e.eu8(1,24),e.bVm()),2&n){e.XpG();const i=e.sdS(14);e.R7$(),e.Y8G("ngTemplateOutlet",i)}}function xe(n,m){1&n&&e.nrm(0,"azt-loading-ui",41)}function Ce(n,m){1&n&&(e.qex(0),e.nrm(1,"azt-svg-icon",54),e.bVm()),2&n&&(e.R7$(),e.Y8G("size",24))}function Te(n,m){1&n&&(e.j41(0,"span"),e.nrm(1,"azt-svg-icon",55),e.k0s()),2&n&&(e.R7$(),e.Y8G("size",24))}function Ee(n,m){1&n&&e.nrm(0,"azt-svg-icon",56),2&n&&e.Y8G("size",24)}function Se(n,m){if(1&n&&e.DNE(0,Te,2,1,"span",49)(1,Ee,1,1,"ng-template",null,3,e.C5r),2&n){const i=e.sdS(2),a=e.XpG().$implicit;e.Y8G("ngIf",a.shared)("ngIfElse",i)}}function De(n,m){1&n&&(e.j41(0,"span",57),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_de_chung_azota")," "))}function Ie(n,m){1&n&&(e.j41(0,"span",58),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_chia_se")))}function Oe(n,m){if(1&n){const i=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46)(5,"div",47),e.bIt("click",function(){const o=e.eBV(i).$implicit,s=e.XpG(2);return e.Njj(s.handleOpenFolder(o))}),e.j41(6,"div",48),e.DNE(7,Ce,2,1,"ng-container",49)(8,Se,3,2,"ng-template",null,2,e.C5r),e.k0s(),e.j41(10,"div",50,1),e.nI1(12,"mytranslate"),e.j41(13,"span"),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.DNE(16,De,3,3,"span",51)(17,Ie,3,3,"span",52),e.k0s()()(),e.nrm(18,"div",53),e.k0s()()()}if(2&n){const i=m.$implicit,a=e.sdS(9),o=e.sdS(11),s=e.XpG(2);e.FS9("id","folder_"+i.id),e.R7$(5),e.Y8G("ngClass",e.l_i(17,he,-1==i.id,-1!=i.id)),e.R7$(2),e.Y8G("ngIf",1==i.isGlobalAzota)("ngIfElse",a),e.R7$(3),e.FS9("matTooltip",e.bMT(12,13,i.name)),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),e.R7$(3),e.HbH(s.isMobileWebView&&-1!=i.id?"azt-wv-item-name":""),e.R7$(),e.JRh(e.bMT(15,15,i.name)),e.R7$(2),e.Y8G("ngIf",-1!=i.id&&1==i.isGlobalAzota),e.R7$(),e.Y8G("ngIf",-1==i.id)}}function je(n,m){1&n&&(e.nrm(0,"lucide-icon",73),e.nI1(1,"mytranslate")),2&n&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_published"))}function Ae(n,m){1&n&&(e.nrm(0,"lucide-icon",74),e.nI1(1,"mytranslate")),2&n&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function we(n,m){if(1&n&&(e.j41(0,"span",75),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const i=e.XpG(2).$implicit;e.R7$(),e.Lme("",e.bMT(2,2,"lang_testbank_folder_and_file_number_attended"),": ",i.exam.attended,"")}}function Me(n,m){1&n&&(e.j41(0,"div",76),e.nrm(1,"azt-svg-icon",77),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.FS9("matTooltip",e.bMT(2,2,"lang_auto_da_chia_se")),e.Y8G("size",16))}function Ge(n,m){if(1&n){const i=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"div",62)(3,"div")(4,"div",63),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.doExamAction(o.exam,s.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.j41(5,"div",64),e.DNE(6,je,2,3,"lucide-icon",65)(7,Ae,2,3,"lucide-icon",66),e.k0s(),e.j41(8,"div",67,1)(10,"span",68),e.EFF(11),e.k0s(),e.DNE(12,we,3,4,"span",69),e.k0s(),e.DNE(13,Me,3,4,"div",70),e.k0s()(),e.j41(14,"div")(15,"a",71),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.doExamAction(o.exam,s.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"a",72),e.nI1(19,"mytranslate"),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.downLoadExam(o.exam))}),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()()()}if(2&n){const i=e.sdS(9),a=e.XpG().$implicit,o=e.XpG(2);e.R7$(3),e.ZvI("w-full flex items-center ",o.isMobileWebView?"":"mobile-80vw",""),e.R7$(3),e.Y8G("ngIf",a.exam.isPublished),e.R7$(),e.Y8G("ngIf",!a.exam.isPublished),e.R7$(),e.ZvI("ml-3 ",o.isMobileDevice?"truncate":"mr-5",""),e.FS9("matTooltip",a.exam.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),e.R7$(2),e.ZvI("mb-0 d-block ",o.isMobileWebView?"azt-wv-item-name":"",""),e.R7$(),e.JRh(a.exam.name),e.R7$(),e.Y8G("ngIf",o.isMobileWebView),e.R7$(),e.Y8G("ngIf",a.shared),e.R7$(),e.ZvI("flex items-center py-1 ",o.isMobileDevice?"mt-2":"",""),e.R7$(2),e.SpI(" ",e.bMT(17,23,"lang_auto_xem_noi_dung_de")," "),e.R7$(2),e.FS9("matTooltip",e.bMT(19,25,"lang_global_azota_download")),e.R7$(2),e.SpI(" ",e.bMT(21,27,"lang_global_azota_download")," ")}}function Re(n,m){if(1&n&&(e.qex(0),e.DNE(1,Ge,22,29,"div",59),e.bVm()),2&n){const i=m.$implicit;e.R7$(),e.Y8G("ngIf",i.exam)}}function ke(n,m){if(1&n){const i=e.RV6();e.j41(0,"form",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.sortDocumentByColumn(o.enumDocumentSortType.BY_NAME,null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isAscSort))}),e.EFF(6),e.nI1(7,"mytranslate"),e.j41(8,"div",31),e.nrm(9,"lucide-icon",32)(10,"lucide-icon",33),e.k0s()()(),e.j41(11,"div",34)(12,"button",35,1),e.nI1(14,"mytranslate"),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.downloadAllFolder())}),e.DNE(15,xe,1,0,"azt-loading-ui",36),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()(),e.j41(18,"div",37),e.DNE(19,Oe,19,20,"div",38)(20,Re,2,1,"ng-container",39),e.k0s(),e.nrm(21,"div",40),e.k0s()()}if(2&n){const i=e.sdS(13),a=e.XpG();e.Y8G("formGroup",a.form),e.R7$(),e.Y8G("ngClass",e.l_i(25,de,!a.isMobileDevice,a.isMobileDevice)),e.R7$(),e.Y8G("ngStyle",e.eq3(28,ne,a.isMobileWebView?"":"1100px")),e.R7$(2),e.Y8G("ngClass",e.l_i(30,ge,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.Y8G("ngClass",e.l_i(33,ue,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.SpI(" ",e.bMT(7,19,"lang_testbank_folder_and_file_name")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(36,oe,1==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.lJ4(38,_e))("ngClass",e.eq3(39,oe,0==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.l_i(41,pe,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.FS9("matTooltip",e.bMT(14,21,"lang_global_azota_download_all_folder_desc")),e.Y8G("disabled",a.loadingDownload)("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),e.R7$(3),e.Y8G("ngIf",a.loadingDownload),e.R7$(),e.SpI(" ",e.bMT(17,23,"lang_global_azota_download_all_folder")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(44,ne,a.isMobileWebView?"":"1100px")),e.R7$(),e.Y8G("ngForOf",a.categoryObjs),e.R7$(),e.Y8G("ngForOf",a.documentObjs)}}let ze=(()=>{var n;class m extends w.H{sendReloadData(){this.clipboardService.resetClipBoardAfterPasteOrCancelAllActions(),this.loadApiData.emit(!0)}handleOpenFolder(a){this.goToChildCategoryPage.emit(a)}goBackToAllCategoryPageEvent(){this.goBackToAllCategoryPage.emit()}backToParentCategoryEvent(a){this.backToParentCategory.emit(a)}doExamAction(a,o){this.documentDoExamActionService.doExamAction({categoryId:this.currentCategoryId,examObj:a,globalLadingPage:!0},o).subscribe(b=>{b&&b.reloadData&&this.sendReloadData()})}downloadAllFolder(){if(this.userService.isLoginAndNotAnonymous()){this.loadingDownload=!0;let a=(this.documentObjs?.filter(o=>o.exam)??[]).map(o=>({id:o.exam?.id??0,type:y.Y.EXAM,action:d.$.COPY,documentType:"exam"}));this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:a}).subscribe(o=>{if(this.loadingDownload=!1,o&&1==o.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=o.message)return this.errorStatusObj(o.message,!0);let s=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,b=this.commonService.translateToKeyParam(o.message??"",s.toString(),s.toString());this.errorStatusObj(b??"",!0)}))}else this.sAztDialogService.open(A.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}downLoadExam(a){if(this.userService.isLoginAndNotAnonymous()){let o=[];o.push({id:a.id,type:y.Y.EXAM,action:d.$.COPY,documentType:"exam"}),this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:o}).subscribe(s=>{if(s&&1==s.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=s.message)return this.errorStatusObj(s.message,!0);let b=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,I=this.commonService.translateToKeyParam(s.message??"",b.toString(),b.toString());this.errorStatusObj(I??"",!0)}))}else this.sAztDialogService.open(A.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}sortDocumentByColumn(a,o){let b=this.documentSortActionService.sortExamByColumn({rootCategoryObjs:this.rootCategoryObjs,rootDocumentObjs:this.rootDocumentObjs,currentCategoryObjs:this.categoryObjs??[],currentDocumentObjs:this.documentObjs??[]},a,o=null==o||!o);this.categoryObjs=b.categoryObjs,this.documentObjs=b.documentObjs,this.currentDocumentSortTypeObj={isAscSort:o,isColumnSortType:a},this.browserStorageService.saveSimpleSessionStorage("documentSort",JSON.stringify(this.currentDocumentSortTypeObj))}ngOnInit(){this.waitDestroy((0,P.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id"))}));let a=this.commonService.myParseJson(this.browserStorageService.getSimpleSessionStorage("documentSort")??"");a&&this.sortDocumentByColumn(a.isColumnSortType,!a.isAscSort)}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,s,b,I,R,ee,te,Xe){super(),this.documentDoExamActionService=a,this.activeRoute=o,this.sAztDialogService=s,this.clipboardService=b,this.browserStorageService=I,this.documentSortActionService=R,this.userService=ee,this.sAztConfigService=te,this.examCategoryService=Xe,this.rootCategoryObjs=[],this.rootDocumentObjs=[],this.isShowSearchResult=!1,this.currentPage=0,this.listBreadcrumb=[],this.goBackToAllCategoryPage=new e.bkB,this.backToParentCategory=new e.bkB,this.goToChildCategoryPage=new e.bkB,this.loadApiData=new e.bkB,this.currentDocumentSortTypeObj=void 0,this.enumDocumentSortType=C.N,this.enumDocumentRedirectType=l.d,this.enumDocumentDoExamActionType=K.$,this.currentCategoryId=0,this.totalCheckboxSelected=0,this.shareType="",this.loadingDownload=!1,this.form=new f.gE({clipboardObjs:new f.Yp([]),isSelectAll:new f.MJ(!1,{nonNullable:!0,validators:[f.k0.required]})})}}return(n=m).\u0275fac=function(a){return new(a||n)(e.rXU(G.x),e.rXU(c.nX),e.rXU(N.i),e.rXU(D.g),e.rXU(H.z),e.rXU(Q.n),e.rXU(V.R),e.rXU(Z.u),e.rXU(F.Ns))},n.\u0275cmp=e.VBU({type:n,selectors:[["global-exam-and-category-list"]],inputs:{rootCategoryObjs:"rootCategoryObjs",rootDocumentObjs:"rootDocumentObjs",categoryObjs:"categoryObjs",currentCategory:"currentCategory",documentObjs:"documentObjs",isShowSearchResult:"isShowSearchResult",backToData:"backToData",currentPage:"currentPage",listBreadcrumb:"listBreadcrumb"},outputs:{goBackToAllCategoryPage:"goBackToAllCategoryPage",backToParentCategory:"backToParentCategory",goToChildCategoryPage:"goToChildCategoryPage",loadApiData:"loadApiData"},features:[e.Vt3],decls:15,vars:7,consts:[["DefaultDocumentTableTpl",""],["c","isDisabled"],["normalCate",""],["noShare",""],[1,"azt-file-manager"],[1,"mt-3","mb-3","h-auto","sm:h-10","flex","flex-col","sm:flex-row","items-center"],[1,"mr-auto"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","global-exam-category-list-mLrqTdVRx",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngIf"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"table-zone"],["class","box p-5 flex items-center","style","height: 300px",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item",3,"ngClass"],["azt-track-service","global-exam-category-list-NdujkQJ24",3,"routerLink"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","global-exam-category-list-_rMqLAn4k6",3,"click","ngClass"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"box","p-5","flex","items-center",2,"height","300px"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[3,"ngTemplateOutlet"],[3,"formGroup"],[1,"inbox","box",2,"scroll-snap-type","x mandatory",3,"ngClass"],[1,"p-5","text-slate-500","border-b","border-slate-200/60",3,"ngStyle"],[1,"grid","grid-cols-12","gap-3","items-center","-mx-5","px-5"],[1,"flex","items-center",3,"ngClass"],["azt-track-service","global-exam-category-list-5-CYQgv-EU",1,"inbox__item--sender","flex","items-center","cursor-pointer",3,"click","ngClass"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[1,"text-right",3,"ngClass"],[1,"btn","btn-sm","btn-success","text-white",2,"white-space","nowrap",3,"click","disabled","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","mr-2",4,"ngIf"],[1,"azt-table-body",2,"min-height","50vh",3,"ngStyle"],["class","folder-item",3,"id",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-5","flex","flex-col","sm:flex-row","items-center","text-center","sm:text-left","text-slate-500"],[1,"mr-2"],[1,"folder-item",3,"id"],[1,"inbox__item","inline-block","sm:block","hover:shadow-md","text-slate-600","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"block","sm:grid","grid-cols-12","gap-3","items-center","px-5","box-exam"],[1,"flex","col-span-12","md:col-span-4",2,"width","80vw","justify-content","space-between"],[1,"flex-none","flex","items-center","w-full"],["azt-track-service","global-exam-category-list-VueJbv5yf5",1,"title-exam","flex","items-center","clickable","sm:w-full",3,"click","ngClass"],[1,"image-fit"],[4,"ngIf","ngIfElse"],[1,"truncate","ml-3",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-info text-white font-medium",4,"ngIf"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white font-medium",4,"ngIf"],[1,"col-span-8","py-1"],["type","folder-azota",3,"size"],["type","folder-share",3,"size"],["type","folder",3,"size"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-info","text-white","font-medium"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","font-medium"],["class","exam-item",4,"ngIf"],[1,"exam-item"],[1,"inbox__item","sm:block","text-slate-600","hover:shadow-md","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"px-5","md:flex","block","box-exam"],["azt-track-service","global-exam-category-list-8ugbR7o5-K",1,"title-exam","flex","items-center","clickable",3,"click"],[1,"text-pending","image-fit"],["name","file-check","size","24",3,"matTooltip",4,"ngIf"],["name","file","size","24",3,"matTooltip",4,"ngIf"],[3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[2,"width","100% !important"],["class","azt-wv-sub-info mx-auto",4,"ngIf"],["class","icon-share ml-2",4,"ngIf"],["azt-track-service","global-exam-category-list--JVXwK7So7",1,"btn","btn-sm","btn-outline-success","mr-2",2,"white-space","nowrap",3,"click"],["azt-track-service","global-exam-category-list-pEOorzBaKX",1,"btn","btn-sm","btn-outline-primary",2,"white-space","nowrap",3,"click","matTooltip"],["name","file-check","size","24",3,"matTooltip"],["name","file","size","24",3,"matTooltip"],[1,"azt-wv-sub-info","mx-auto"],[1,"icon-share","ml-2"],["type","book",2,"padding","3px",3,"size","matTooltip"]],template:function(a,o){if(1&a){const s=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"ol",7)(4,"li",8)(5,"a",9),e.bIt("click",function(){return e.eBV(s),e.Njj(o.goBackToAllCategoryPageEvent())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.DNE(8,be,5,11,"li",10)(9,fe,8,17,"li",11),e.k0s()()(),e.j41(10,"div",12),e.DNE(11,ye,6,4,"div",13)(12,ve,2,1,"ng-container",14),e.k0s()(),e.DNE(13,ke,22,46,"ng-template",null,0,e.C5r)}2&a&&(e.R7$(6),e.SpI(" ",e.bMT(7,5,"lang_auto_tat_ca")," "),e.R7$(2),e.Y8G("ngIf",o.userService.isLogin()),e.R7$(),e.Y8G("ngForOf",o.listBreadcrumb),e.R7$(2),e.Y8G("ngIf",0==(null==o.categoryObjs?null:o.categoryObjs.length)&&0==(null==o.documentObjs?null:o.documentObjs.length)),e.R7$(),e.Y8G("ngIf",0!=(null==o.categoryObjs?null:o.categoryObjs.length)||0!=(null==o.documentObjs?null:o.documentObjs.length)))},dependencies:[c.Wk,t.YU,t.Sq,t.bT,t.T3,t.B3,$.oV,f.qT,f.cb,f.j4,ie.f,se.R,re.m,S.WGl,q.F2,q.wp],styles:[".title-exam[_ngcontent-%COMP%]{padding-top:14px;padding-bottom:14px}@media (max-width: 640px){.mobile-80vw[_ngcontent-%COMP%]{width:80vw!important}.title-exam[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:90%!important}.box-exam[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}}"]}),m})();const Pe=()=>[];function Le(n,m){if(1&n&&e.nrm(0,"azt-loading-effect",5),2&n){const i=e.XpG();e.Y8G("currentStatusObj",i.statusObj)}}function Be(n,m){1&n&&(e.qex(0),e.j41(1,"div",9)(2,"span",10),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_global_azota_not_support_student_role")))}function Fe(n,m){if(1&n){const i=e.RV6();e.j41(0,"div",11)(1,"global-exam-and-category-list",12),e.bIt("goToChildCategoryPage",function(o){e.eBV(i);const s=e.XpG(2);return e.Njj(s.goToChildCategoryPage(o))})("goBackToAllCategoryPage",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.goBackToAllCategoryPage())})("backToParentCategory",function(o){e.eBV(i);const s=e.XpG(2);return e.Njj(s.backToParentCategory(o))})("loadApiData",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.reloadApi())}),e.k0s()(),e.j41(2,"div",13)(3,"div",14)(4,"azt-paging",15),e.bIt("goToPaginationPage",function(o){e.eBV(i);const s=e.XpG(2);return e.Njj(s.goToPage(o))}),e.k0s()(),e.j41(5,"div",16)(6,"p",17),e.EFF(7),e.nI1(8,"number"),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",18)(11,"p",17),e.EFF(12),e.nI1(13,"number"),e.nI1(14,"mytranslate"),e.k0s()()()}if(2&n){const i=e.XpG(2);e.R7$(),e.Y8G("rootCategoryObjs",i.cloneCategoryObjs)("rootDocumentObjs",i.cloneDocumentObjs)("categoryObjs",i.categoryObjs)("documentObjs",i.documentObjs)("backToData",i.backToData)("currentPage",i.pageObj.page)("currentCategory",i.currentCategory)("isShowSearchResult",i.isShowSearchResult)("listBreadcrumb",i.listBreadcrumb||e.lJ4(20,Pe)),e.R7$(3),e.Y8G("pageObj",i.pageObj),e.R7$(3),e.JRh(e.bMT(8,12,i.totalExam)+" "+e.bMT(9,14,"lang_testbank_test_list_document")),e.R7$(5),e.JRh(e.bMT(13,16,i.totalExam)+" "+e.bMT(14,18,"lang_testbank_test_list_document"))}}function $e(n,m){if(1&n&&(e.j41(0,"div",6)(1,"div",7),e.DNE(2,Be,5,3,"ng-container",8)(3,Fe,15,21,"ng-template",null,1,e.C5r),e.k0s()()),2&n){const i=e.sdS(4),a=e.XpG();e.R7$(2),e.Y8G("ngIf",a.userService.isLogin()&&!a.userService.isTeacherRole()&&!a.userService.isAnonymousRoleOfCurrentUser())("ngIfElse",i)}}const Ve=[{path:"",component:(()=>{var n;class m extends w.H{}return(n=m).\u0275fac=(()=>{let i;return function(o){return(i||(i=e.xGo(n)))(o||n)}})(),n.\u0275cmp=e.VBU({type:n,selectors:[["lading-master-page"]],features:[e.Vt3],decls:2,vars:0,consts:[["id","lading-page-layout"]],template:function(a,o){1&a&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[c.n3],encapsulation:2}),m})(),children:[{path:"document-management/0/:cat_id/:page",component:(()=>{var n;class m extends w.H{goToPage(a){this.backToData?this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a,"?data="+this.commonService.serializeJson(this.backToData)):this.commonService.myNavigation("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a)}resetSearchForm(){this.form.patchValue({searchContent:""}),this.isShowSearchResult=!1}convertExamObj(a){var o=[];return a.forEach(s=>{s.exam&&o.push({name:s.exam.name,updatedAt:s.exam.updatedAt,createdAt:s.exam.createdAt,attended:s.exam.attended,isPublished:s.exam.isPublished,exam:s.exam,shared:s.shared,type:"exam",paths:s.paths,isGlobalAzota:0})}),o}goBackToAllCategoryPage(){var a=this.getFormValue();let o=this.userService.isLogin()&&this.userService.isTeacherRole()?"/admin/testbank":"/ladingpage";a.searchContent?(this.resetSearchForm(),0==this.currentCategoryId?this.getData():this.commonService.myNavigation(o+"/document-management/0/0/1")):this.commonService.myNavigation(o+"/document-management/0/0/1")}backToParentCategory(a){a.id!=this.currentCategoryId&&(this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,backTo:`/ladingpage/document-management/0/${this.currentCategoryId}/1`,suggest:a.isGlobalAzota>1?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):""))}goToChildCategoryPage(a){this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,suggest:0!=a.isGlobalAzota?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):"")}getFormValue(){return this.form.getRawValue()}getListParentCategoryObjs(){this.waitDestroy(this.examCategoryService.apiExamCategoryGetGlobalBreadcrumbsGet(this.currentCategoryId).subscribe(a=>{if(a&&1==a.success){var o=[];a.data?.objs&&a.data?.objs.forEach(s=>{o.push({...s,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]})}),this.listBreadcrumb=o;for(let s=0;s<this.listBreadcrumb?.length;s++)if(this.listBreadcrumb[s].id==this.currentCategoryId){let b="",I=0,R=0;0!=this.listBreadcrumb[s].isGlobalAzota&&(R=1),!this.listBreadcrumb[s].parentId&&this.listBreadcrumb[s].shareType?(b=0!=this.listBreadcrumb[s].isGlobalAzota?"":"user",I=s>1?this.listBreadcrumb[s-1].id??-1:0==s&&0!=this.listBreadcrumb[s].isGlobalAzota?0:this.listBreadcrumb[s].parentId??this.listBreadcrumb[s].tenantId??-1):this.listBreadcrumb[s].parentId&&this.listBreadcrumb[s].shareType?(b=s>1?this.listBreadcrumb[s-1].shareType??"":s<=1&&0!=this.listBreadcrumb[s].isGlobalAzota?this.listBreadcrumb[s].shareType??"":"",I=this.listBreadcrumb[s].parentId??-1):I=this.listBreadcrumb[s].parentId??0;let ee=I?`/ladingpage/document-management/0/${I}/1`+(this.backToData?"?data="+this.commonService.serializeJson({shareType:b}):""):"/ladingpage/document-management/0/0/1";this.backToLink=this.commonService.serializeJson({shareType:b,backTo:ee,suggest:R})}}else this.showErrorSnack(a.message??"")}))}getData(){var a=Number(this.commonService.getMyParam(this.activeRoute,"page"));let o=this.getFormValue();this.pageObj.setPageNumber(a),this.initStatusObj();let s={categoryId:0!=this.currentCategoryId?this.currentCategoryId:0,documentType:void 0,shareType:this.backToData?.shareType??"",fileType:"exam",classroomId:void 0,name:this.isShowSearchResult?o.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:1,page:this.pageObj.page,itemPerPage:void 0};this.waitDestroy(this.documentService.apiDocumentsGlobalGet(s.categoryId,s.suggestExamPurpose,s.page,s.itemPerPage).subscribe(b=>{if(b&&1==b.success){var I=this.commonService.castObj(b.data?.documentObjs)??[],R=this.convertExamObj(I);this.documentObjs=R,this.cloneDocumentObjs=R,this.categoryObjs=b.data?.categoryObjs,this.cloneCategoryObjs=b.data?.categoryObjs??[],this.currentCategory=b.data?.currentCategory?{...b.data?.currentCategory,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]}:void 0,this.totalExam=b.data?.total??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCategoryObjs(),this.stopStatusObj()}else this.showErrorSnack(b.message??"")}))}reloadApi(){this.getData()}ngOnInit(){this.waitDestroy((0,P.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id")),this.backToData=this.commonService.myParseJson(this.commonService.getMyQueryParam("data")??"");let a={shareType:this.backToData?.shareType,suggest:this.backToData?.suggest,backTo:this.backToData?.backTo??(this.userService.isTeacherRole()?"/admin/testbank/document-management/0/0/1":"/student/dashboard")};this.backToLink=this.commonService.serializeJson(a),this.mobileWebviewService.sendSimpleMessage("OPEN_EXAM"),this.getData()})),this.commonService.translateMetaData({title:"lang_testbank_document_list_header_title",description:"lang_testbank_document_list_header_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,s,b,I,R){super(),this.activeRoute=a,this.examCategoryService=o,this.documentService=s,this.aztShareService=b,this.mobileWebviewService=I,this.userService=R,this.isShowSearchResult=!1,this.totalExam=0,this.recommendExamObjs=[],this.documentObjs=[],this.cloneDocumentObjs=[],this.cloneCategoryObjs=[],this.listBreadcrumb=[],this.currentCategoryId=0,this.backToLink="",this.pageObj=new M.d(24),this.form=new f.gE({searchContent:new f.MJ("",{nonNullable:!0,validators:[f.k0.required]})})}}return(n=m).\u0275fac=function(a){return new(a||n)(e.rXU(c.nX),e.rXU(F.Ns),e.rXU(F.DK),e.rXU(Y.l),e.rXU(X.f),e.rXU(V.R))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-global-exam-management-list"]],features:[e.Vt3],decls:5,vars:4,consts:[["doneLoading",""],["normalTeacherView",""],[3,"layoutName","headerBackToLink"],[1,"container-fluid","mt-3","overflow-hidden"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"azt-view-file-manager"],[3,"goToChildCategoryPage","goBackToAllCategoryPage","backToParentCategory","loadApiData","rootCategoryObjs","rootDocumentObjs","categoryObjs","documentObjs","backToData","currentPage","currentCategory","isShowSearchResult","listBreadcrumb"],[1,"azt-document-footer","flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2"],[3,"goToPaginationPage","pageObj"],[1,"text-right","mt-2","azt-hidden","md:block"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"]],template:function(a,o){if(1&a&&(e.j41(0,"public-layout",2)(1,"div",3),e.DNE(2,Le,1,1,"azt-loading-effect",4)(3,$e,5,2,"ng-template",null,0,e.C5r),e.k0s()()),2&a){const s=e.sdS(4);e.Y8G("layoutName","landing-page")("headerBackToLink",o.userService.isLogin()?o.backToLink:0==o.currentCategoryId?"":o.backToLink),e.R7$(2),e.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[t.bT,U.K,W.q,J.J,ze,t.QX,q.wp],encapsulation:2}),m})()}]}];let Ne=(()=>{var n;class m{}return(n=m).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.iI.forChild(Ve),c.iI,z.XE]}),m})(),Ye=(()=>{var n;class m{}return(n=m).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({providers:[{provide:T.vn,useValue:B.c.azt_tiny_mce_script_src}],imports:[c.iI,t.MD,L.s,T.sv,Ne,f.YN,f.X1,v.hM,x.L,j.Lk,u.xv,E.Q,h.b,S.flO.pick(S.Ptg),g.Id,p.f,_.rc]}),m})()},10296:(k,O,r)=>{"use strict";r.d(O,{R:()=>p});var t=r(43277),v=r(18148),c=r(48891),_=r(52509),T=r(53793);let p=(()=>{var S;class j{constructor(g,x){this.mobileWebviewService=g,this.commonService=x}shareFileWithBlob(g,x){if(this.commonService.businessIdCanvasLMSCloudView(void 0)>0)return t.saveAs(g,x);if(this.commonService.isMobileWebview(void 0)){v.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let h=new FileReader;h.readAsDataURL(g),h.onloadend=()=>{let E=h.result;"string"==typeof E&&(this.mobileWebviewService.sendShareFileBase64(x,String(E)),v.L.closeLoadingEffect(100))}}else t.saveAs(g,x)}shareFileWithBase64(g,x){if(this.commonService.businessIdCanvasLMSCloudView(void 0)>0)return t.saveAs(g,x);this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(x,g):t.saveAs(g,x)}}return(S=j).\u0275fac=function(g){return new(g||S)(c.KVO(_.f),c.KVO(T.R))},S.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),j})()},18148:(k,O,r)=>{"use strict";r.d(O,{L:()=>t});let t=(()=>{var f;class v{static openLoadingEffect(_){v.getDomElement().style.display="flex",setTimeout(()=>{v.changeMsgLoadingEffect(_)},50)}static closeLoadingEffect(_){return new Promise(T=>{setTimeout(()=>{const p=v.getDomElement();p&&(p.style.display="none"),T(!0)},_)})}static changeMsgLoadingEffect(_){v.getDomContent().innerText=_}static getDomContent(){return document.getElementById(v.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(v.idComponent)??this.createDomElement()}static createDomElement(){const _=document.createElement("div");return _.id=v.idComponent,_.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),_.style.display="none",_.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${v.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(_),_}}return(f=v).idComponent="azt-status-loading-effect",f.idStatusContent="azt-status-loading-effect-content",v})()},50334:(k,O,r)=>{"use strict";r.d(O,{C:()=>f});var t=r(59640);class f extends t.H{constructor(){super(...arguments),this.nodeObjs=[]}searchByText(c){this.nodeObjs=(c=this.standardSearchText(c)).trim()?this.doSearchByText(c,this.nodeObjs,[]):this.showAndExpandAll(this.nodeObjs)}expand(c){c.isExpand=!0}collapse(c){c.isExpand=!1}doSearchByText(c,_,T){for(var p of _){p.isShow=!1;let S=this.standardSearchText(p.text);(c.includes(S)||S.includes(c))&&(p.isShow=!0,p.isExpand=!0,T.forEach(j=>{j.isShow=!0,j.isExpand=!0})),p.children.length&&(p.children=this.doSearchByText(c,p.children,T.concat(p)))}return _}showAndExpandAll(c){for(var _ of c)_.isShow=!0,_.isExpand=!0,_.children=this.showAndExpandAll(_.children);return c}standardSearchText(c){return c=c.toLowerCase(),c=this.commonService.removeSpecialStringInSearch(c),this.commonService.convertVietnameseToEnglish(c)}}},15485:(k,O,r)=>{"use strict";r.d(O,{l:()=>v});var t=r(18447),f=r(48891);let v=(()=>{var c;class _{constructor(){this.hasDataChanged=new t.B,this.currentMessage=this.hasDataChanged.asObservable()}changeStatus(p){this.hasDataChanged.next(p)}}return(c=_).\u0275fac=function(p){return new(p||c)},c.\u0275prov=f.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),_})()},8022:(k,O,r)=>{"use strict";r.d(O,{n:()=>K});var t=r(48891),f=r(52909),v=r(50334),c=r(54460),_=r(15343),T=r(47348);const p=l=>({nodeObjs:l}),S=l=>({"padding-left":l}),j=()=>({"rotate-90deg":!0}),u=()=>({"transition-3s":!0}),g=()=>({"ml-1":!0});function x(l,C){1&l&&t.eu8(0)}function h(l,C){1&l&&(t.j41(0,"label",6)(1,"span",7),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_structure_of_the_capacity_exam")))}function E(l,C){1&l&&t.eu8(0)}function B(l,C){if(1&l&&(t.qex(0),t.DNE(1,E,1,0,"ng-container",8),t.bVm()),2&l){const d=t.XpG(2),y=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",y)("ngTemplateOutletContext",t.eq3(2,p,d.nodeObjs))}}function L(l,C){if(1&l&&(t.DNE(0,h,4,3,"label",3),t.j41(1,"div",4),t.DNE(2,B,2,4,"ng-container",5),t.k0s()),2&l){const d=t.XpG();t.Y8G("ngIf",d.isShowLabel),t.R7$(2),t.Y8G("ngIf",d.nodeObjs.length)}}function z(l,C){1&l&&t.nrm(0,"lucide-icon",20),2&l&&t.Y8G("ngClass",t.lJ4(1,j))}function P(l,C){1&l&&t.nrm(0,"lucide-icon",21),2&l&&t.Y8G("ngClass",t.lJ4(1,u))}function w(l,C){if(1&l&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()),2&l){const d=t.XpG(2).$implicit;t.R7$(),t.SpI(" ","("+t.bMT(2,1,"lang_auto_chon")+" "+d.data.folderData.totalPart+" "+t.bMT(3,3,"lang_azt_in")+" "+d.children.length+" "+t.bMT(4,5,"lang_azt_hereafter")+")"," ")}}function M(l,C){if(1&l){const d=t.RV6();t.qex(0),t.j41(1,"div",13),t.bIt("click",function(){t.eBV(d);const A=t.XpG().$implicit,G=t.XpG(3);return t.Njj(G.clickToNode(A))}),t.j41(2,"div",14),t.DNE(3,z,1,2,"lucide-icon",15)(4,P,1,2,"lucide-icon",16),t.nrm(5,"lucide-icon",17),t.j41(6,"span",18),t.EFF(7),t.k0s(),t.DNE(8,w,5,7,"span",19),t.k0s()(),t.bVm()}if(2&l){const d=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",!d.isExpand),t.R7$(),t.Y8G("ngIf",d.isExpand),t.R7$(3),t.JRh(d.data.folderData.name),t.R7$(),t.Y8G("ngIf",d.children.length&&d.data.folderData.totalPart&&d.children.length!=d.data.folderData.totalPart)}}function e(l,C){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const d=t.XpG(2).$implicit;t.R7$(),t.Lme("\xa0(",d.data.examData.minutes," ",t.bMT(2,2,"lang_auto_minute"),")")}}function F(l,C){1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(),t.SpI("\xa0(",t.bMT(2,1,"lang_auto_khong_gioi_han"),")"))}function Y(l,C){if(1&l){const d=t.RV6();t.qex(0),t.j41(1,"div",23),t.bIt("click",function(){t.eBV(d);const A=t.XpG().$implicit,G=t.XpG(3);return t.Njj(G.selectExam(A.data.examData))}),t.nrm(2,"lucide-icon",24),t.j41(3,"span",18),t.EFF(4),t.DNE(5,e,3,4,"span",5)(6,F,3,3,"span",5),t.k0s()(),t.bVm()}if(2&l){const d=t.XpG().$implicit;t.R7$(2),t.Y8G("name",d.data.examData.isPublished?"file-check":"file")("ngClass",t.lJ4(5,g)),t.R7$(2),t.SpI(" ",d.data.examData.name," "),t.R7$(),t.Y8G("ngIf",d.data.examData.minutes),t.R7$(),t.Y8G("ngIf",!d.data.examData.minutes)}}function X(l,C){1&l&&t.eu8(0)}function V(l,C){if(1&l&&(t.qex(0),t.j41(1,"div",25),t.DNE(2,X,1,0,"ng-container",8),t.k0s(),t.bVm()),2&l){const d=t.XpG().$implicit;t.XpG(3);const y=t.sdS(4);t.R7$(2),t.Y8G("ngTemplateOutlet",y)("ngTemplateOutletContext",t.eq3(2,p,d.children))}}function U(l,C){if(1&l&&(t.qex(0),t.j41(1,"div",10)(2,"div",11)(3,"div",12),t.DNE(4,M,9,4,"ng-container",5)(5,Y,7,6,"ng-container",5),t.k0s(),t.DNE(6,V,3,4,"ng-container",5),t.k0s()(),t.bVm()),2&l){const d=C.$implicit;t.R7$(),t.Y8G("hidden",!d.isShow),t.R7$(),t.Y8G("ngStyle",t.eq3(9,S,d.level>0?"20px":"")),t.R7$(),t.yjJ("id","node-",d.randomHashId,"-",d.level,"-",d.nodeIndex,""),t.R7$(),t.Y8G("ngIf",d.data.folderData),t.R7$(),t.Y8G("ngIf",d.data.examData),t.R7$(),t.Y8G("ngIf",d.isExpand)}}function W(l,C){if(1&l&&(t.qex(0),t.DNE(1,U,7,11,"ng-container",9),t.bVm()),2&l){const d=C.$implicit;t.R7$(),t.Y8G("ngForOf",d)}}function J(l,C){if(1&l&&t.DNE(0,W,2,1,"ng-container",5),2&l){const d=C.nodeObjs,y=t.XpG();t.Y8G("ngIf",y.asTemplateDataObj(d))}}let K=(()=>{var l;class C extends v.C{constructor(){super(...arguments),this.isShowLabel=!0,this.isExpand=!0,this.showCountInfo=!1,this.getExamData=new t.bkB,this.nodeObjs=[],this.uuidService=(0,t.WQX)(f.D)}selectExam(y){this.getExamData.emit(y)}clickToNode(y){y.isExpand?this.collapse(y):this.expand(y)}asTemplateDataObj(y){return y}standardTreeNodes(y,A,G){let N=[];return y.forEach((D,H)=>{let Q=D.exam?void 0:{name:D.objectName??"Empty",totalPart:D.totalPart},Z=D.exam?{id:D.exam.id,hashId:D.exam.hashId??"",categoryId:D.exam.categoryId??0,name:D.exam.name,minutes:D.exam.minutes??0,totalQuestion:D.exam.countQuestion,isPublished:!!D.exam.isPublished}:void 0,$={level:A,isExpand:this.isExpand,isShow:!0,nodeIndex:H,selected:!1,randomHashId:this.uuidService.getUuid(),data:{nodeId:D.objectId??0,isEdited:!1,folderData:Q,examData:Z,parentNodeId:G,children:D.children},children:[],text:"Not use"};$.children=this.standardTreeNodes(D.children,A+1,$.data.nodeId),N.push($)}),N}ngOnChanges(y){y.rawNodes&&(this.nodeObjs=this.standardTreeNodes(this.rawNodes,0,0))}}return(l=C).\u0275fac=(()=>{let d;return function(A){return(d||(d=t.xGo(l)))(A||l)}})(),l.\u0275cmp=t.VBU({type:l,selectors:[["app-capacity-exam-tree-in-view-mode-component"]],inputs:{rawNodes:"rawNodes",isShowLabel:"isShowLabel",isExpand:"isExpand",showCountInfo:"showCountInfo"},outputs:{getExamData:"getExamData"},features:[t.Vt3,t.OA$],decls:5,vars:1,consts:[["mainContent",""],["recursiveListTmpl",""],[4,"ngTemplateOutlet"],["class","flex items-center",4,"ngIf"],["id","list-category-arr",1,"grid","grid-cols-12","gap-1"],[4,"ngIf"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"col-span-12",3,"hidden"],[3,"ngStyle"],[1,"flex","items-center","mb-1","w-full","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded",3,"id"],[1,"flex","items-center","clickable","w-full",3,"click"],[1,"pt-2","pb-2"],["name","chevron-right","size","18",3,"ngClass",4,"ngIf"],["name","chevron-down","size","18",3,"ngClass",4,"ngIf"],["name","folder","size","18",2,"padding-left","5px"],[1,"ml-2"],["class","ml-1 text-slate-500 text-xs",4,"ngIf"],["name","chevron-right","size","18",3,"ngClass"],["name","chevron-down","size","18",3,"ngClass"],[1,"ml-1","text-slate-500","text-xs"],[1,"flex","items-center","pb-2","pt-2","clickable",3,"click"],["size","18",1,"text-pending",3,"name","ngClass"],[1,"grid","grid-cols-12","gap-1","w-full","children-tmp"]],template:function(y,A){if(1&y&&t.DNE(0,x,1,0,"ng-container",2)(1,L,3,2,"ng-template",null,0,t.C5r)(3,J,1,1,"ng-template",null,1,t.C5r),2&y){const G=t.sdS(2);t.Y8G("ngTemplateOutlet",G)}},dependencies:[c.YU,c.Sq,c.bT,c.T3,c.B3,_.WGl,T.wp],encapsulation:2}),C})()},43277:function(k,O){var r,f;void 0!==(f="function"==typeof(r=function(){"use strict";function c(u,g,x){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){j(h.response,g,x)},h.onerror=function(){console.error("could not download file")},h.send()}function _(u){var g=new XMLHttpRequest;g.open("HEAD",u,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function T(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(g)}}var p="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,S=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),j=p.saveAs||("object"!=typeof window||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!S?function(u,g,x){var h=p.URL||p.webkitURL,E=document.createElement("a");E.download=g=g||u.name||"download",E.rel="noopener","string"==typeof u?(E.href=u,E.origin===location.origin?T(E):_(E.href)?c(u,g,x):T(E,E.target="_blank")):(E.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(E.href)},4e4),setTimeout(function(){T(E)},0))}:"msSaveOrOpenBlob"in navigator?function(u,g,x){if(g=g||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function v(u,g){return typeof g>"u"?g={autoBom:!1}:"object"!=typeof g&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,x),g);else if(_(u))c(u,g,x);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){T(h)})}}:function(u,g,x,h){if((h=h||open("","_blank"))&&(h.document.title=h.document.body.innerText="downloading..."),"string"==typeof u)return c(u,g,x);var E="application/octet-stream"===u.type,B=/constructor/i.test(p.HTMLElement)||p.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||E&&B||S)&&typeof FileReader<"u"){var z=new FileReader;z.onloadend=function(){var M=z.result;M=L?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=M:location=M,h=null},z.readAsDataURL(u)}else{var P=p.URL||p.webkitURL,w=P.createObjectURL(u);h?h.location=w:location.href=w,h=null,setTimeout(function(){P.revokeObjectURL(w)},4e4)}});p.saveAs=j.saveAs=j,k.exports=j})?r.apply(O,[]):r)&&(k.exports=f)}}]);