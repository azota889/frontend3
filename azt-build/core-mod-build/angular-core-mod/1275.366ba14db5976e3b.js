"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[1275],{81275:($,S,l)=>{function C(n,s,i){if("function"==typeof n?n===s:n.has(s))return arguments.length<3?s:i;throw new TypeError("Private element is not present on this object")}function g(n,s){return n.get(C(n,s))}function y(n,s,i){return n.set(C(n,s),i),i}l.d(S,{Ek:()=>F,Q5:()=>j,JO:()=>b,rc:()=>P,Kf:()=>N});var h=l(29666),v=l(54460),t=l(48891),D=l(30470),m=l(85710),E=l(18447),I=l(46192);const X=["li"],_=n=>({$implicit:n});function A(n,s){1&n&&t.nrm(0,"hr",9)}function Y(n,s){}function T(n,s){if(1&n){const i=t.RV6();t.j41(0,"button",10),t.bIt("click",function(o){t.eBV(i);const r=t.XpG().$implicit,u=t.XpG();return t.Njj(u.onMenuItemSelect(r,o))})("mouseenter",function(o){t.eBV(i);const r=t.XpG().$implicit,u=t.XpG();return t.Njj(u.onOpenSubMenu(r,o))}),t.DNE(1,Y,0,0,"ng-template",11),t.k0s()}if(2&n){const i=t.XpG().$implicit,e=t.XpG();t.AVh("ngx-contextmenu--parent-menu",!!i.subMenu)("active",i.isActive&&!e.isMenuItemDisabled(i))("disabled",e.isMenuItemDisabled(i)),t.BMQ("aria-haspopup",!!i.subMenu)("disabled",e.isMenuItemDisabled(i)?"disabled":null),t.R7$(),t.Y8G("ngTemplateOutlet",i.template)("ngTemplateOutletContext",t.eq3(10,_,e.value))}}function R(n,s){}function B(n,s){if(1&n){const i=t.RV6();t.j41(0,"span",12),t.bIt("click",function(o){t.eBV(i);const r=t.XpG(2);return t.Njj(r.stopEvent(o))})("contextmenu",function(o){t.eBV(i);const r=t.XpG(2);return t.Njj(r.stopEvent(o))}),t.DNE(1,R,0,0,"ng-template",11),t.k0s()}if(2&n){const i=t.XpG().$implicit,e=t.XpG();t.AVh("disabled",e.isMenuItemDisabled(i)),t.R7$(),t.Y8G("ngTemplateOutlet",i.template)("ngTemplateOutletContext",t.eq3(4,_,e.value))}}function O(n,s){if(1&n&&(t.j41(0,"li",5,1),t.DNE(2,A,1,0,"hr",6)(3,T,2,12,"button",7)(4,B,2,6,"span",8),t.k0s()),2&n){const i=s.$implicit,e=t.XpG();t.AVh("disabled",e.isMenuItemDisabled(i))("divider",i.divider)("active",i.isActive&&!e.isMenuItemDisabled(i)),t.BMQ("role",i.divider?"separator":void 0),t.R7$(2),t.Y8G("ngIf",i.divider),t.R7$(),t.Y8G("ngIf",!i.divider&&!i.passive),t.R7$(),t.Y8G("ngIf",!i.divider&&i.passive)}}const M=(n,s)=>n instanceof Function?n(s):n,V={ActiveDescendantKeyManager:D.Au};let G=(()=>{var n;class s{constructor(e){this._elementRef=e,this.menuDirectives=[],this.menuClass="",this.isLeaf=!1,this.execute=new t.bkB,this.openSubMenu=new t.bkB,this.closeLeafMenu=new t.bkB,this.closeSubMenus=new t.bkB,this.closeAllMenus=new t.bkB,this.subscription=new m.yU}ngOnInit(){this.setupDirectives()}ngAfterViewInit(){this.overlayRef?.updatePosition()}ngOnDestroy(){this.subscription.unsubscribe()}onKeyArrowDownOrUp(e){this.isLeaf&&this.keyManager.onKeydown(e)}onKeyArrowRight(e){if(this.isLeaf){if("rtl"===this.dir)return void this.closeActiveItemSubMenu(e);this.openActiveItemSubMenu(e)}}onKeyArrowLeft(e){if(this.isLeaf){if("rtl"===this.dir)return void this.openActiveItemSubMenu(e);this.closeActiveItemSubMenu(e)}}onKeyEnterOrSpace(e){this.isLeaf&&this.keyManager.activeItem&&this.onMenuItemSelect(this.keyManager.activeItem,e)}onKeyArrowEscape(e){this.isLeaf&&this.closeActiveItemSubMenu(e)}onClickOrRightClick(e){"click"===e.type&&2===e.button||this._elementRef.nativeElement.contains(e.target)||this.closeAllMenus.emit({event:e})}stopEvent(e){e.stopPropagation()}isMenuItemDisabled(e){return M(e.disabled,this.value)}isMenuItemVisible(e){return M(e.visible,this.value)}onOpenSubMenu(e,o){if(e.subMenu||this.closeSubMenus.next(),null===this.keyManager.activeItemIndex||!e.subMenu)return;const r=this.liElementRefs.toArray()[this.keyManager.activeItemIndex],u=r&&r.nativeElement;u&&o instanceof KeyboardEvent?this.openSubMenu.emit({anchoredTo:"element",anchorElement:u,contextMenu:e.subMenu,value:this.value,parentContextMenu:this}):this.openSubMenu.emit(o.currentTarget?{anchoredTo:"element",anchorElement:o.currentTarget,contextMenu:e.subMenu,value:this.value,parentContextMenu:this}:{anchoredTo:"position",x:o.clientX,y:o.clientY,contextMenu:e.subMenu,value:this.value})}onMenuItemSelect(e,o){this.cancelEvent(o),this.onOpenSubMenu(e,o),e.subMenu||this.triggerExecute(e,o)}triggerExecute(e,o){e.triggerExecute(o,this.value)}setupDirectives(){this.menuDirectives.forEach(o=>{o.value=this.value,this.subscription.add(o.execute.subscribe(r=>this.execute.emit({...r,menuDirective:o})))});const e=new t.rOR;e.reset(this.menuDirectives),this.keyManager=new V.ActiveDescendantKeyManager(e).withWrap()}openActiveItemSubMenu(e){null!==this.keyManager.activeItemIndex&&(this.cancelEvent(e),this.keyManager.activeItem&&this.onOpenSubMenu(this.keyManager.activeItem,e))}closeActiveItemSubMenu(e){null!==this.keyManager.activeItemIndex&&(this.cancelEvent(e),this.closeLeafMenu.emit({excludeRootMenu:"rtl"===this.dir?39===e.keyCode:37===e.keyCode,event:e}))}cancelEvent(e){if(!e||!e.target)return;const o=e.target;["INPUT","TEXTAREA","SELECT"].includes(o.tagName)||o.isContentEditable||(e.preventDefault(),e.stopPropagation())}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(t.aKT))},n.\u0275cmp=t.VBU({type:n,selectors:[["context-menu-content"]],viewQuery:function(e,o){if(1&e&&t.GBs(X,5),2&e){let r;t.mGM(r=t.lsd())&&(o.liElementRefs=r)}},hostVars:1,hostBindings:function(e,o){1&e&&t.bIt("keydown.ArrowDown",function(u){return o.onKeyArrowDownOrUp(u)},!1,t.tSv)("keydown.ArrowUp",function(u){return o.onKeyArrowDownOrUp(u)},!1,t.tSv)("keydown.ArrowRight",function(u){return o.onKeyArrowRight(u)},!1,t.tSv)("keydown.ArrowLeft",function(u){return o.onKeyArrowLeft(u)},!1,t.tSv)("keydown.Enter",function(u){return o.onKeyEnterOrSpace(u)},!1,t.tSv)("keydown.Space",function(u){return o.onKeyEnterOrSpace(u)},!1,t.tSv)("keydown.Escape",function(u){return o.onKeyArrowEscape(u)},!1,t.tSv)("click",function(u){return o.onClickOrRightClick(u)},!1,t.EBC)("contextmenu",function(u){return o.onClickOrRightClick(u)},!1,t.EBC),2&e&&t.BMQ("dir",o.dir)},inputs:{menuDirectives:"menuDirectives",value:"value",dir:"dir",parentContextMenu:"parentContextMenu",menuClass:"menuClass",overlayRef:"overlayRef",isLeaf:"isLeaf"},outputs:{execute:"execute",openSubMenu:"openSubMenu",closeLeafMenu:"closeLeafMenu",closeSubMenus:"closeSubMenus",closeAllMenus:"closeAllMenus"},decls:4,vars:3,consts:[["menu",""],["li",""],[1,"ngx-contextmenu",3,"ngClass"],["role","menu","tabindex","0",1,"ngx-contextmenu--dropdown-menu"],["role","none",3,"disabled","divider","active",4,"ngFor","ngForOf"],["role","none"],["role","separator",4,"ngIf"],["type","button","role","menuitem","class","ngx-contextmenu--item-content",3,"ngx-contextmenu--parent-menu","active","disabled","click","mouseenter",4,"ngIf"],["class","ngx-contextmenu--item-content ngx-contextmenu--item-content-passive","role","menuitem",3,"disabled","click","contextmenu",4,"ngIf"],["role","separator"],["type","button","role","menuitem",1,"ngx-contextmenu--item-content",3,"click","mouseenter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","menuitem",1,"ngx-contextmenu--item-content","ngx-contextmenu--item-content-passive",3,"click","contextmenu"]],template:function(e,o){1&e&&(t.j41(0,"div",2)(1,"ul",3,0),t.DNE(3,O,5,10,"li",4),t.k0s()()),2&e&&(t.Y8G("ngClass",o.menuClass),t.BMQ("dir",o.dir),t.R7$(3),t.Y8G("ngForOf",o.menuDirectives))},dependencies:[v.YU,v.Sq,v.bT,v.T3],encapsulation:2,changeDetection:0}),s})(),b=(()=>{var n,s=new WeakMap;class i{set disabled(o){y(s,this,o)}get disabled(){return this.passive||this.divider||M(g(s,this),this.value)}constructor(o){(function w(n,s,i){(function k(n,s){if(s.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")})(n,s),s.set(n,i)})(this,s,void 0),this.template=o,this.divider=!1,this.passive=!1,this.visible=!0,this.execute=new t.bkB,this.isActive=!1,y(s,this,!1)}setActiveStyles(){this.isActive=!0}setInactiveStyles(){this.isActive=!1}triggerExecute(o,r){M(g(s,this),r)||this.execute.emit({event:o,value:r})}}return(n=i).\u0275fac=function(o){return new(o||n)(t.rXU(t.C4Q,8))},n.\u0275dir=t.FsC({type:n,selectors:[["","contextMenuItem",""]],inputs:{subMenu:"subMenu",divider:"divider",disabled:"disabled",passive:"passive",visible:"visible"},outputs:{execute:"execute"}}),i})(),f=(()=>{var n;class s{constructor(){this.stack=[]}push(e){this.stack.push(e)}size(){return this.stack.length}isEmpty(){return 0===this.size()}closeAll(){this.stack.forEach(e=>this.dispose(e)),this.stack=[]}destroySubMenus(e){if(!e)return;const o=this.stack.findIndex(({overlayRef:r})=>r===e.overlayRef);this.stack.slice(o+1).forEach(r=>{this.dispose(r)})}closeLeafMenu(e){const o=this.disposeLastDetached();if(!o)return!1;const r=this.size()>1,u=!e&&!this.isEmpty();if((r||u)&&this.dispose(o),u)return!0;const c=this.disposeLastDetached();return c&&(c.contextMenuContentComponent.isLeaf=!0),!1}disposeLastDetached(){let e=this.last();if(e){for(;e&&this.size()>1&&e.overlayRef&&this.isDetached(e);)this.dispose(e),this.pop(),e=this.last();return e}}last(){if(!this.isEmpty())return this.stack[this.stack.length-1]}pop(){const e=this.stack.pop();return this.dispose(e)}isDetached(e){return!e.overlayRef.hasAttached()}dispose(e){return e&&(e.overlayRef.detach(),e.overlayRef.dispose()),e}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),x=(()=>{var n;class s{constructor(){this.onShow=new E.B}show(e){this.onShow.next(e)}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),F=(()=>{var n;class s{constructor(e,o,r,u){this.overlay=e,this.scrollStrategy=o,this.contextMenuStack=r,this.contextMenuEventService=u,this.menuClass="",this.disabled=!1,this.open=new t.bkB,this.close=new t.bkB,this.visibleMenuItems=[],this.subscription=new m.yU}ngOnInit(){const e=this.contextMenuEventService.onShow.subscribe(o=>{this.onMenuEvent(o)});this.subscription.add(e)}ngOnDestroy(){this.subscription.unsubscribe()}openContextMenu(e){let o;if("position"===e.anchoredTo)o=this.overlay.position().flexibleConnectedTo({x:e.x,y:e.y}).withPositions(((n="ltr")=>"ltr"===n?[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"center",overlayX:"start",overlayY:"center"},{originX:"start",originY:"center",overlayX:"end",overlayY:"center"}]:[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"center",overlayX:"end",overlayY:"center"},{originX:"end",originY:"center",overlayX:"start",overlayY:"center"}])(e.dir)),this.closeAllContextMenus();else{const{anchorElement:u,parentContextMenu:c}=e;o=this.overlay.position().flexibleConnectedTo(new t.aKT(u)).withPositions(((n="ltr")=>"ltr"===n?[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}]:[{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"}])(c.dir)),this.contextMenuStack.destroySubMenus(c)}const r=this.overlay.create({positionStrategy:o,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()});this.attachContextMenu(r,e)}onMenuEvent(e){if(this.disabled)return;const{contextMenu:o,value:r}=e;o&&o!==this||(this.value=r,this.setVisibleMenuItems(),this.openContextMenu({...e,menuItemDirectives:this.visibleMenuItems,menuClass:this.menuClass,dir:this.dir}),this.open.next(e))}attachContextMenu(e,o){const{value:r,menuItemDirectives:u}=o,c=e.attach(new I.A8(G)),{instance:a}=c;a.value=r,a.menuDirectives=u,a.overlayRef=e,a.isLeaf=!0,a.menuClass=this.getMenuClass(o),a.dir=this.getDir(o),this.contextMenuStack.push({overlayRef:e,contextMenuContentComponent:a});const d=new m.yU;d.add(a.execute.subscribe(()=>this.closeAllContextMenus())),d.add(a.closeAllMenus.subscribe(()=>this.closeAllContextMenus())),d.add(a.closeLeafMenu.subscribe(p=>this.destroyLeafMenu(!!p.excludeRootMenu))),d.add(a.openSubMenu.subscribe(p=>{this.contextMenuStack.destroySubMenus(a),p.contextMenu?(a.isLeaf=!1,this.contextMenuEventService.show(p)):a.isLeaf=!0})),d.add(a.closeSubMenus.subscribe(()=>{this.contextMenuStack.destroySubMenus(a)})),c.onDestroy(()=>{this.close.next(),u.forEach(p=>p.isActive=!1),d.unsubscribe()}),c.changeDetectorRef.detectChanges()}getMenuClass(e){return e.menuClass||"element"===e.anchoredTo&&e?.parentContextMenu?.menuClass||""}getDir(e){return e.dir||"element"===e.anchoredTo&&e?.parentContextMenu?.dir||void 0}closeAllContextMenus(){this.contextMenuStack.closeAll()}destroyLeafMenu(e){this.contextMenuStack.closeLeafMenu(e)}isMenuItemVisible(e){return M(e.visible,this.value)}setVisibleMenuItems(){this.visibleMenuItems=this.menuItems.filter(e=>this.isMenuItemVisible(e))}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(h.hJ),t.rXU(h.Tv),t.rXU(f),t.rXU(x))},n.\u0275cmp=t.VBU({type:n,selectors:[["context-menu"]],contentQueries:function(e,o,r){if(1&e&&t.wni(r,b,4),2&e){let u;t.mGM(u=t.lsd())&&(o.menuItems=u)}},inputs:{menuClass:"menuClass",disabled:"disabled",dir:"dir"},outputs:{open:"open",close:"close"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),s})(),j=(()=>{var n;class s{constructor(e,o,r){this.contextMenuEventService=e,this.elementRef=o,this.contextMenuStackService=r,this.tabindex="0",this.ariaHasPopup="true"}open(e){if(!this.canOpen())return;if(e instanceof MouseEvent)return void this.onContextMenu(e);const{x:o,y:r,height:u}=this.elementRef.nativeElement.getBoundingClientRect();this.contextMenuEventService.show({anchoredTo:"position",x:o,y:r+u,contextMenu:this.contextMenu,value:this.contextMenuValue})}close(){this.contextMenuStackService.closeAll()}onContextMenu(e){this.canOpen()&&(this.contextMenuEventService.show({anchoredTo:"position",contextMenu:this.contextMenu,x:e.clientX,y:e.clientY,value:this.contextMenuValue}),e.preventDefault(),e.stopPropagation())}canOpen(){return this.contextMenu&&!this.contextMenu.disabled}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(x),t.rXU(t.aKT),t.rXU(f))},n.\u0275dir=t.FsC({type:n,selectors:[["","contextMenu",""]],hostVars:2,hostBindings:function(e,o){1&e&&t.bIt("contextmenu",function(u){return o.onContextMenu(u)}),2&e&&t.BMQ("tabindex",o.tabindex)("aria-haspopup",o.ariaHasPopup)},inputs:{contextMenuValue:"contextMenuValue",contextMenu:"contextMenu",tabindex:"tabindex"},exportAs:["ngxContextMenu"]}),s})(),P=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({providers:[{provide:h.Sf,useClass:h.DW}],imports:[v.MD,h.z_]}),s})(),N=(()=>{var n;class s{constructor(e,o){this.contextMenuEventService=e,this.contextMenuStackService=o}show(e,o={x:0,y:0}){this.contextMenuEventService.show({anchoredTo:"position",contextMenu:e,value:o.value,x:o.x,y:o.y})}closeAll(){this.contextMenuStackService.closeAll()}hasOpenMenu(){return!this.contextMenuStackService.isEmpty()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.KVO(x),t.KVO(f))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})()}}]);