"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[343],{78416:(B,x,s)=>{s.d(x,{x:()=>R});var t=s(89417),O=s(93953),A=s(1300);let R=(()=>{var I;class P{filter(r,f){return null==r?[]:r=r.filter(g=>this.removeAllSpecialChars((null!=f?g[f]:g).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(r){let f=[];return r.forEach(g=>null!=g.schoolLevel&&f.push(g.schoolLevel)),f}removeAllSpecialChars(r){return r=(r=this.commonService.myTranslateInstant(r)??r).toLowerCase().trim(),r=this.commonService.convertVietnameseToEnglish(r),r=this.commonService.removeSpecialStringInSearch(r),(r=this.commonService.removeNonAlphabetic(r)).toLowerCase().trim()}constructor(r){this.commonService=r,this.searchControl=new t.MJ("",{nonNullable:!0})}}return(I=P).\u0275fac=function(r){return new(r||I)(O.rXU(A.R))},I.\u0275dir=O.FsC({type:I,selectors:[["","searchInList",""]],exportAs:["searchInList"],standalone:!0}),P})()},57988:(B,x,s)=>{s.d(x,{u:()=>d});var t=s(89417),O=s(34006),A=s(85389),R=s(60177),I=s(32108),P=s(88048),L=s(72093),r=s(8516),f=s(23424),g=s(11782),n=s(9788),e=s(93953);const l=()=>({"mr-2 text-danger":!0});function c(_,C){if(1&_&&e.nrm(0,"lucide-icon",10),2&_){const b=e.XpG();e.Y8G("name",b.data.iconName)("ngClass",e.lJ4(2,l))}}function E(_,C){if(1&_&&(e.j41(0,"div",11)(1,"div",3)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"b"),e.EFF(6),e.k0s(),e.j41(7,"span"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",12),e.nrm(11,"input",13),e.k0s()()),2&_){const b=e.XpG();e.R7$(3),e.JRh(e.bMT(4,4,"lang_azt_enter")+" "),e.R7$(3),e.JRh('"'+b.data.textConfirm+'" '),e.R7$(2),e.JRh(e.bMT(9,6,"lang_azt_for_delete_data")),e.R7$(3),e.Y8G("formControl",b.confirmValue)}}let d=(()=>{var _;class C extends A._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(h,p){super(p,h),this.dialogRef=h,this.data=p,this.confirmValue=new t.MJ("",{nonNullable:!0})}}return(_=C).\u0275fac=function(h){return new(h||_)(e.rXU(O.CP,8),e.rXU(O.Vh,8))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-dialog-danger"]],standalone:!0,features:[e.Vt3,e.aNF],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(h,p){1&h&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.DNE(4,c,1,3,"lucide-icon",4),e.nrm(5,"span",5),e.k0s(),e.DNE(6,E,12,8,"div",6),e.k0s()(),e.j41(7,"div",7)(8,"button",8),e.bIt("click",function(){return p.btnCloseDialog()}),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"button",9),e.bIt("click",function(){return p.confirmDialog()}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()()),2&h&&(e.R7$(4),e.Y8G("ngIf",p.data.iconName),e.R7$(),e.Y8G("innerHtml",p.data.content,e.npT),e.R7$(),e.Y8G("ngIf",p.data.textConfirm),e.R7$(3),e.SpI(" ",e.bMT(10,6,"lang_auto_huy")," "),e.R7$(2),e.Y8G("disabled",p.data.textConfirm&&p.data.textConfirm!==p.confirmValue.value),e.R7$(),e.SpI(" ",e.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[R.MD,R.YU,R.bT,t.X1,t.me,t.BC,t.l_,I.iI,t.YN,P.wp,L.s,r.flO,r.WGl,f.L,g.Id,n.k],encapsulation:2}),C})()},15545:(B,x,s)=>{s.d(x,{n:()=>b});var t=s(69365),O=s(30665),A=s(60177),R=s(89417),I=s(32108),P=s(88048),L=s(72093),r=s(8516),f=s(23424),g=s(11782),n=s(9788),e=s(93953),l=s(28790),c=s(58907);function E(h,p){1&h&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auth_remove_teacher_role")))}function d(h,p){if(1&h&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&h){const D=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,D.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function _(h,p){if(1&h&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&h){const D=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,D.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function C(h,p){1&h&&e.nrm(0,"azt-loading-ui",7)}let b=(()=>{var h;class p extends t.H{becomeTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(S=>{if(!S.success)return this.errorStatusObj(S.message,!0);this.redirectByRoleService.redirectLoginByRole("")}))}becomeStudent(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(S=>{S.success||this.errorStatusObj(S.message,!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/classroom/0"))}))}ngOnInit(){super.ngOnInit()}constructor(S,M){super(),this.redirectByRoleService=S,this.userInfoService=M,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return(h=p).\u0275fac=function(S){return new(S||h)(e.rXU(l.b),e.rXU(c.fv))},h.\u0275cmp=e.VBU({type:h,selectors:[["coazt-convert-account-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"h5"],[1,"mr-1"]],template:function(S,M){1&S&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,E,3,3,"span",3)(4,d,3,3,"span",3)(5,_,3,3,"span",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return M.isTeacherDashboard?M.becomeStudent():M.becomeTeacher()}),e.DNE(7,C,1,0,"azt-loading-ui",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()),2&S&&(e.R7$(3),e.Y8G("ngIf",M.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",!M.isTeacherDashboard&&!M.isMobileWebView),e.R7$(),e.Y8G("ngIf",!M.isTeacherDashboard&&M.isMobileWebView),e.R7$(2),e.Y8G("ngIf",M.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[O.R,A.MD,A.bT,R.X1,I.iI,R.YN,P.wp,L.s,r.flO,f.L,g.Id,n.k],encapsulation:2}),p})()},11736:(B,x,s)=>{s.d(x,{AC:()=>L,Ew:()=>I,jd:()=>P});var t=s(93953),O=s(60177);const A=["contentRef"],R=["*"];let I=(()=>{var r;class f{get dragDisabled(){return this._dragDisabled}set dragDisabled(n){this._dragDisabled=n}constructor(n){this.display="inline-block",this._dragDisabled=!1,this._elementRef=n}}return(r=f).\u0275fac=function(n){return new(n||r)(t.rXU(t.aKT))},r.\u0275dir=t.FsC({type:r,selectors:[["","drag-scroll-item",""]],hostVars:2,hostBindings:function(n,e){2&n&&t.xc7("display",e.display)},inputs:{dragDisabled:[0,"drag-disabled","dragDisabled"]}}),f})(),P=(()=>{var r;class f{get isDragging(){return this._isDragging}get currIndex(){return this._index}set currIndex(n){n!==this._index&&(this._index=n,this.indexChanged.emit(n))}get scrollbarHidden(){return this._scrollbarHidden}set scrollbarHidden(n){this._scrollbarHidden=n}get disabled(){return this._disabled}set disabled(n){this._disabled=n}get xDisabled(){return this._xDisabled}set xDisabled(n){this._xDisabled=n}get yDisabled(){return this._yDisabled}set yDisabled(n){this._yDisabled=n}get xWheelEnabled(){return this._xWheelEnabled}set xWheelEnabled(n){this._xWheelEnabled=n}get dragDisabled(){return this._dragDisabled}set dragDisabled(n){this._dragDisabled=n}get snapDisabled(){return this._snapDisabled}set snapDisabled(n){this._snapDisabled=n}get snapOffset(){return this._snapOffset}set snapOffset(n){this._snapOffset=n}get snapDuration(){return this._snapDuration}set snapDuration(n){this._snapDuration=n}constructor(n,e,l){this._elementRef=n,this._renderer=e,this._document=l,this._index=0,this._scrollbarHidden=!1,this._disabled=!1,this._xDisabled=!1,this._xWheelEnabled=!1,this._yDisabled=!1,this._dragDisabled=!1,this._snapDisabled=!1,this._snapOffset=0,this._snapDuration=500,this._isDragging=!1,this.isPressed=!1,this.isScrolling=!1,this.scrollTimer=-1,this.scrollToTimer=-1,this.downX=0,this.downY=0,this.displayType="block",this.elWidth=null,this.elHeight=null,this._pointerEvents="auto",this.scrollbarWidth=null,this.isAnimating=!1,this.prevChildrenLength=0,this.indexBound=0,this.rtl=!1,this.dsInitialized=new t.bkB,this.indexChanged=new t.bkB,this.reachesLeftBound=new t.bkB,this.reachesRightBound=new t.bkB,this.snapAnimationFinished=new t.bkB,this.dragStart=new t.bkB,this.dragEnd=new t.bkB,this.scrollbarWidth=`${this.getScrollbarWidth()}px`}ngOnChanges(){this.setScrollBar(),this.xDisabled||this.disabled||this._scrollbarHidden?this.disableScroll("x"):this.enableScroll("x"),this.yDisabled||this.disabled?this.disableScroll("y"):this.enableScroll("y")}ngAfterViewInit(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","true"),this.displayType=typeof window<"u"?window.getComputedStyle(this._elementRef.nativeElement).display:"block",this._renderer.setStyle(this._contentRef.nativeElement,"display",this.displayType),this._renderer.setStyle(this._contentRef.nativeElement,"whiteSpace","noWrap"),this.markElDimension(),this._renderer.setStyle(this._contentRef.nativeElement,"width",this.elWidth),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.elHeight),this.wrapper&&this.checkScrollbar(),this._onMouseDownListener=this._renderer.listen(this._contentRef.nativeElement,"mousedown",this.onMouseDownHandler.bind(this)),this._onScrollListener=this._renderer.listen(this._contentRef.nativeElement,"scroll",this.onScrollHandler.bind(this)),this._onDragStartListener=this._renderer.listen(this._contentRef.nativeElement,"dragstart",n=>{n.preventDefault()}),this.checkNavStatus(),this.dsInitialized.emit(),this.adjustMarginToLastChild(),this.rtl="rtl"===getComputedStyle(this._contentRef.nativeElement).getPropertyValue("direction")}ngAfterViewChecked(){this._children.length!==this.prevChildrenLength&&(this.markElDimension(),this.checkScrollbar(),this.prevChildrenLength=this._children.length,this.checkNavStatus())}ngOnDestroy(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","false"),this._onMouseDownListener&&(this._onMouseDownListener=this._onMouseDownListener()),this._onScrollListener&&(this._onScrollListener=this._onScrollListener()),this._onDragStartListener&&(this._onDragStartListener=this._onDragStartListener())}onMouseMoveHandler(n){this.onMouseMove(n)}onMouseMove(n){if((n.clientX!==this.downX||n.clientY!==this.downY)&&this.isPressed&&!this.disabled){if(!n.buttons&&!n.which)return this.onMouseUpHandler(n);if(this._pointerEvents="none",this._setIsDragging(!0),!this.xDisabled&&!this.dragDisabled){const e=n.clientX;this._contentRef.nativeElement.scrollLeft=this._contentRef.nativeElement.scrollLeft-e+this.downX,this.downX=e}if(!this.yDisabled&&!this.dragDisabled){const e=n.clientY;this._contentRef.nativeElement.scrollTop=this._contentRef.nativeElement.scrollTop-e+this.downY,this.downY=e}}}onMouseDownHandler(n){const e=this.locateDragScrollItem(n.target);if(e&&e.dragDisabled)return;this._startGlobalListening("touchstart"===n.type),this.isPressed=!0;const c=n;this.downX=c.clientX,this.downY=c.clientY,clearTimeout(this.scrollToTimer)}onScrollHandler(){this.checkNavStatus(),this.isPressed||this.isAnimating||this.snapDisabled?this.locateCurrentIndex():(this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1,this.locateCurrentIndex(!0)},500))}onMouseUpHandler(n){this.isPressed&&(this.isPressed=!1,this._pointerEvents="auto",this._setIsDragging(!1),this.snapDisabled?this.locateCurrentIndex():this.locateCurrentIndex(!0),this._stopGlobalListening())}moveLeft(){(0!==this.currIndex||this.snapDisabled)&&(this.currIndex--,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveRight(){const n=this.wrapper||this.parentNode,e=n?n.clientWidth:0;!this.isScrollReachesRightEnd()&&this.currIndex<this.maximumIndex(e,this._children.toArray())&&(this.currIndex++,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveTo(n){const e=this.wrapper||this.parentNode,l=e?e.clientWidth:0;n>=0&&n!==this.currIndex&&this.currIndex<=this.maximumIndex(l,this._children.toArray())&&(this.currIndex=Math.min(n,this.maximumIndex(l,this._children.toArray())),clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}checkNavStatus(){setTimeout(()=>{this._children.length<=1||this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!0)):this.isScrollReachesRightEnd()?(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!0)):0===this._contentRef.nativeElement.scrollLeft&&this._contentRef.nativeElement.scrollWidth>this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!1)):(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!1))},0)}onWheel(n){this._xWheelEnabled&&(n.preventDefault(),this._snapDisabled?this._contentRef.nativeElement.scrollBy(n.deltaY,0):n.deltaY<0?this.moveLeft():n.deltaY>0&&this.moveRight())}onWindowResize(){this.refreshWrapperDimensions(),this.checkNavStatus()}_setIsDragging(n){this._isDragging!==n&&(this._isDragging=n,n?this.dragStart.emit():this.dragEnd.emit())}_startGlobalListening(n){this._onMouseMoveListener||(this._onMouseMoveListener=this._renderer.listen("document",n?"touchmove":"mousemove",this.onMouseMoveHandler.bind(this))),this._onMouseUpListener||(this._onMouseUpListener=this._renderer.listen("document",n?"touchend":"mouseup",this.onMouseUpHandler.bind(this)))}_stopGlobalListening(){this._onMouseMoveListener&&(this._onMouseMoveListener=this._onMouseMoveListener()),this._onMouseUpListener&&(this._onMouseUpListener=this._onMouseUpListener())}disableScroll(n){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${n}`,"hidden")}enableScroll(n){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${n}`,"auto")}hideScrollbar(){"none"!==this._contentRef.nativeElement.style.display&&!this.wrapper&&(this.parentNode=this._contentRef.nativeElement.parentNode,this.wrapper=this._renderer.createElement("div"),this._renderer.setAttribute(this.wrapper,"class","drag-scroll-wrapper"),this._renderer.addClass(this.wrapper,"drag-scroll-container"),this.refreshWrapperDimensions(),this._renderer.setStyle(this.wrapper,"overflow","hidden"),this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._renderer.appendChild(this._elementRef.nativeElement,this.wrapper),this._renderer.appendChild(this.wrapper,this._contentRef.nativeElement),this.adjustMarginToLastChild())}showScrollbar(){this.wrapper&&(this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.wrapper.style.height),null!==this.parentNode&&(this.parentNode.removeChild(this.wrapper),this.parentNode.appendChild(this._contentRef.nativeElement)),this.wrapper=null,this.adjustMarginToLastChild())}checkScrollbar(){this._renderer.setStyle(this._contentRef.nativeElement,"height",this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?"100%":`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"width",this._contentRef.nativeElement.scrollHeight<=this._contentRef.nativeElement.clientHeight?"100%":`calc(100% + ${this.scrollbarWidth})`)}setScrollBar(){this.scrollbarHidden?this.hideScrollbar():this.showScrollbar()}getScrollbarWidth(){const n=this._renderer.createElement("div");this._renderer.setStyle(n,"visibility","hidden"),this._renderer.setStyle(n,"width","100px"),this._renderer.setStyle(n,"msOverflowStyle","scrollbar"),this._renderer.appendChild(this._document.body,n);const e=n.offsetWidth;this._renderer.setStyle(n,"overflow","scroll");const l=this._renderer.createElement("div");this._renderer.setStyle(l,"width","100%"),this._renderer.appendChild(n,l);const c=l.offsetWidth;return this._renderer.removeChild(this._document.body,n),e-c||20}refreshWrapperDimensions(){this.wrapper&&(this._renderer.setStyle(this.wrapper,"width","100%"),this._renderer.setStyle(this.wrapper,"height",this._elementRef.nativeElement.style.height>0||this._elementRef.nativeElement.offsetHeight>0?this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px":"100%"))}scrollTo(n,e,l){const c=this;c.isAnimating=!0;const d=n.scrollLeft,_=(this.rtl?-1:1)*e-d-this.snapOffset;let b=0;const p=function(){var D,S,M;b+=20,n.scrollLeft=(D=b,S=d,M=_,(D/=l/2)<1?M/2*D*D+S:-M/2*(--D*(D-2)-1)+S),b<l?c.scrollToTimer=setTimeout(p,20):setTimeout(()=>{c.isAnimating=!1,c.snapAnimationFinished.emit(c.currIndex)},20)};p()}locateCurrentIndex(n){const e=Math.abs(this._contentRef.nativeElement.scrollLeft);this.currentChildWidth((l,c,E,d,_)=>{e>=E&&e<=c?(c-e>l/2&&!this.isScrollReachesRightEnd()?(this.isAnimating||(this.currIndex=d),n&&this.scrollTo(this._contentRef.nativeElement,E,this.snapDuration)):0!==e&&(this.isAnimating||(this.currIndex=d+1),n&&this.scrollTo(this._contentRef.nativeElement,E+l,this.snapDuration)),_()):d+1===this._children.length-1&&(this.isAnimating||(this.currIndex=d+1),_())})}currentChildWidth(n){let e=0,l=!1;const c=function(){l=!0},E=this._children.toArray();for(let d=0;d<E.length&&d!==E.length-1&&!l;d++){const C=E[d]._elementRef.nativeElement.clientWidth;n(C,e+E[d+1]._elementRef.nativeElement.clientWidth,e,d,c),e+=C}}toChildrenLocation(){let n=0;const e=this._children.toArray();for(let l=0;l<this.currIndex;l++)n+=e[l]._elementRef.nativeElement.clientWidth;return n}locateDragScrollItem(n){let e=null;const l=this._children.toArray();for(let c=0;c<l.length;c++)n===l[c]._elementRef.nativeElement&&(e=l[c]);return e}markElDimension(){this.wrapper?(this.elWidth=this.wrapper.style.width,this.elHeight=this.wrapper.style.height):(this.elWidth=this._elementRef.nativeElement.style.width||this._elementRef.nativeElement.offsetWidth+"px",this.elHeight=this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px");const n=this.wrapper||this.parentNode;this._children.length>1&&(this.indexBound=this.maximumIndex(n?n.clientWidth:0,this._children.toArray()))}maximumIndex(n,e){let l=0,c=0;for(let E=0;E<=e.length;E++){const d=e[e.length-1-E];if(!d)break;{const _=d._elementRef.nativeElement;let C=_.clientWidth;if(0===C&&_.firstElementChild&&(C=d._elementRef.nativeElement.firstElementChild.clientWidth),c+=C,!(c<n))break;l++}}return e.length-l}isScrollReachesRightEnd(){return Math.abs(this._contentRef.nativeElement.scrollLeft)+this._contentRef.nativeElement.offsetWidth>=this._contentRef.nativeElement.scrollWidth}adjustMarginToLastChild(){if(this._children&&this._children.length>0&&this.hideScrollbar){const n=this._children.toArray();this._renderer.setStyle(n[n.length-1]._elementRef.nativeElement,"margin-right",this.wrapper&&n.length>1?this.scrollbarWidth:0)}}}return(r=f).\u0275fac=function(n){return new(n||r)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(O.qQ))},r.\u0275cmp=t.VBU({type:r,selectors:[["drag-scroll"]],contentQueries:function(n,e,l){if(1&n&&t.wni(l,I,5),2&n){let c;t.mGM(c=t.lsd())&&(e._children=c)}},viewQuery:function(n,e){if(1&n&&t.GBs(A,7),2&n){let l;t.mGM(l=t.lsd())&&(e._contentRef=l.first)}},hostVars:2,hostBindings:function(n,e){1&n&&t.bIt("wheel",function(c){return e.onWheel(c)})("resize",function(){return e.onWindowResize()},!1,t.tSv),2&n&&t.xc7("pointer-events",e._pointerEvents)},inputs:{scrollbarHidden:[0,"scrollbar-hidden","scrollbarHidden"],disabled:[0,"drag-scroll-disabled","disabled"],xDisabled:[0,"drag-scroll-x-disabled","xDisabled"],yDisabled:[0,"drag-scroll-y-disabled","yDisabled"],xWheelEnabled:[0,"scroll-x-wheel-enabled","xWheelEnabled"],dragDisabled:[0,"drag-disabled","dragDisabled"],snapDisabled:[0,"snap-disabled","snapDisabled"],snapOffset:[0,"snap-offset","snapOffset"],snapDuration:[0,"snap-duration","snapDuration"]},outputs:{dsInitialized:"dsInitialized",indexChanged:"indexChanged",reachesLeftBound:"reachesLeftBound",reachesRightBound:"reachesRightBound",snapAnimationFinished:"snapAnimationFinished",dragStart:"dragStart",dragEnd:"dragEnd"},features:[t.OA$],ngContentSelectors:R,decls:3,vars:0,consts:[["contentRef",""],[1,"drag-scroll-content"]],template:function(n,e){1&n&&(t.NAR(),t.j41(0,"div",1,0),t.SdG(2),t.k0s())},styles:["[_nghost-%COMP%]{overflow:hidden;display:block}.drag-scroll-content[_ngcontent-%COMP%]{height:100%;overflow:auto;white-space:nowrap}"]}),f})(),L=(()=>{var r;class f{}return(r=f).\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({}),f})()},24110:(B,x,s)=>{s.d(x,{An:()=>ne,U9:()=>te});var t=s(93953),O=s(89417),A=s(86600),R=s(53719),I=s(82798),P=s(84412),L=s(7673),r=s(84572),f=s(21413),g=s(25558),n=s(96354),e=s(99172),l=s(91986),c=s(56977),E=s(96697),d=s(88141),_=s(5964),C=s(65478),b=s(60177),h=s(88834),p=s(82765),D=s(99213),S=s(9183),M=s(14823),W=s(71997);const U=["searchSelectInput"],F=["innerSelectSearch"],z=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],K=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"],N=(a,v)=>({"mat-select-search-inner-multiple":a,"mat-select-search-inner-toggle-all":v});function G(a,v){if(1&a){const i=t.RV6();t.j41(0,"mat-checkbox",12),t.bIt("change",function(m){t.eBV(i);const u=t.XpG();return t.Njj(u._emitSelectAllBooleanToParent(m.checked))}),t.k0s()}if(2&a){const i=t.XpG();t.Y8G("color",null==i.matFormField?null:i.matFormField.color)("checked",i.toggleAllCheckboxChecked)("indeterminate",i.toggleAllCheckboxIndeterminate)("matTooltip",i.toggleAllCheckboxTooltipMessage)("matTooltipPosition",i.toggleAllCheckboxTooltipPosition)}}function j(a,v){1&a&&t.nrm(0,"mat-spinner",13)}function H(a,v){1&a&&t.SdG(0,1,["*ngIf","clearIcon; else defaultIcon"])}function $(a,v){if(1&a&&(t.j41(0,"mat-icon",16),t.EFF(1),t.k0s()),2&a){const i=t.XpG(2);t.Y8G("svgIcon",i.closeSvgIcon),t.R7$(),t.SpI(" ",i.closeSvgIcon?null:i.closeIcon," ")}}function V(a,v){if(1&a){const i=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(i);const m=t.XpG();return t.Njj(m._reset(!0))}),t.DNE(1,H,1,0,"ng-content",15)(2,$,2,2,"ng-template",null,2,t.C5r),t.k0s()}if(2&a){const i=t.sdS(3),o=t.XpG();t.R7$(),t.Y8G("ngIf",o.clearIcon)("ngIfElse",i)}}function X(a,v){1&a&&t.SdG(0,2,["*ngIf","noEntriesFound; else defaultNoEntriesFound"])}function Y(a,v){if(1&a&&t.EFF(0),2&a){const i=t.XpG(2);t.JRh(i.noEntriesFoundLabel)}}function Q(a,v){if(1&a&&(t.j41(0,"div",17),t.DNE(1,X,1,0,"ng-content",15)(2,Y,1,1,"ng-template",null,3,t.C5r),t.k0s()),2&a){const i=t.sdS(3),o=t.XpG();t.R7$(),t.Y8G("ngIf",o.noEntriesFound)("ngIfElse",i)}}let J=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.FsC({type:a,selectors:[["","ngxMatSelectSearchClear",""]]}),a})();const Z=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],q=new t.nKC("mat-selectsearch-default-options");let ee=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.FsC({type:a,selectors:[["","ngxMatSelectNoEntriesFound",""]]}),a})(),te=(()=>{class a{constructor(i,o,m,u,y,k){this.matSelect=i,this.changeDetectorRef=o,this._viewportRuler=m,this.matOption=u,this.matFormField=y,this.placeholderLabel="Suche",this.type="text",this.closeIcon="close",this.noEntriesFoundLabel="Keine Optionen gefunden",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toggleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.recreateValuesArray=!1,this.toggleAll=new t.bkB,this.onTouched=T=>{},this._options$=new P.t(null),this.optionsList$=this._options$.pipe((0,g.n)(T=>T?T.changes.pipe((0,n.T)(w=>w.toArray()),(0,e.Z)(T.toArray())):(0,L.of)(null))),this.optionsLength$=this.optionsList$.pipe((0,n.T)(T=>T?T.length:0)),this._formControl=new O.MJ("",{nonNullable:!0}),this._showNoEntriesFound$=(0,r.z)([this._formControl.valueChanges,this.optionsLength$]).pipe((0,n.T)(([T,w])=>!(!this.noEntriesFoundLabel||!T||w!==this.getOptionsLengthOffset()))),this._onDestroy=new f.B,this.applyDefaultOptions(k)}get value(){return this._formControl.value}set _options(i){this._options$.next(i)}get _options(){return this._options$.getValue()}applyDefaultOptions(i){if(i)for(const o of Z)i.hasOwnProperty(o)&&(this[o]=i[o])}ngOnInit(){this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search"),this.matOption._getHostElement().setAttribute("role","presentation")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe((0,l.c)(1),(0,c.Q)(this._onDestroy)).subscribe(i=>{i?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe((0,E.s)(1),(0,g.n)(i=>{this._options=this.matSelect.options;let o=this._options.toArray()[this.getOptionsLengthOffset()];return this._options.changes.pipe((0,d.M)(()=>{setTimeout(()=>{const m=this._options.toArray(),u=m[this.getOptionsLengthOffset()],y=this.matSelect._keyManager;y&&this.matSelect.panelOpen&&u&&((!o||!this.matSelect.compareWith(o.value,u.value)||!y.activeItem||!m.find(T=>this.matSelect.compareWith(T.value,y.activeItem?.value)))&&y.setActiveItem(this.getOptionsLengthOffset()),setTimeout(()=>{this.updateInputWidth()})),o=u})}))})).pipe((0,c.Q)(this._onDestroy)).subscribe(),this._showNoEntriesFound$.pipe((0,c.Q)(this._onDestroy)).subscribe(i=>{this.matOption&&(i?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe((0,c.Q)(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe((0,c.Q)(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(i){this.toggleAll.emit(i)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(i){(i.key&&1===i.key.length||this.preventHomeEndKeyPropagation&&("Home"===i.key||"End"===i.key))&&i.stopPropagation(),this.matSelect.multiple&&i.key&&"Enter"===i.key&&setTimeout(()=>this._focus()),this.enableClearOnEscapePressed&&"Escape"===i.key&&this.value&&(this._reset(!0),i.stopPropagation())}_handleKeyup(i){if("ArrowUp"===i.key||"ArrowDown"===i.key){const o=this.matSelect._getAriaActiveDescendant(),m=this._options.toArray().findIndex(u=>u.id===o);-1!==m&&(this.unselectActiveDescendant(),this.activeDescendant=this._options.toArray()[m]._getHostElement(),this.activeDescendant.setAttribute("aria-selected","true"),this.searchSelectInput.nativeElement.setAttribute("aria-activedescendant",o))}}writeValue(i){this._lastExternalInputValue=i,this._formControl.setValue(i),this.changeDetectorRef.markForCheck()}onBlur(){this.unselectActiveDescendant(),this.onTouched()}registerOnChange(i){this._formControl.valueChanges.pipe((0,_.p)(o=>o!==this._lastExternalInputValue),(0,d.M)(()=>this._lastExternalInputValue=void 0),(0,c.Q)(this._onDestroy)).subscribe(i)}registerOnTouched(i){this.onTouched=i}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;const i=this.matSelect.panel.nativeElement,o=i.scrollTop;this.searchSelectInput.nativeElement.focus(),i.scrollTop=o}_reset(i){this._formControl.setValue(""),i&&this._focus()}initMultipleHandling(){this.matSelect.ngControl?(this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges&&this.matSelect.ngControl.valueChanges.pipe((0,c.Q)(this._onDestroy)).subscribe(i=>{let o=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!i||!Array.isArray(i))&&(i=[]);const m=this.matSelect.options.map(u=>u.value);this.previousSelectedValues.forEach(u=>{!i.some(y=>this.matSelect.compareWith(y,u))&&!m.some(y=>this.matSelect.compareWith(y,u))&&(this.recreateValuesArray?i=[...i,u]:i.push(u),o=!0)})}this.previousSelectedValues=i,o&&this.matSelect._onChange(i)})):this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true")}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let i=this.innerSelectSearch.nativeElement,o=null;for(;i&&i.parentElement;)if(i=i.parentElement,i.classList.contains("mat-select-panel")){o=i;break}o&&(this.innerSelectSearch.nativeElement.style.width=o.clientWidth+"px")}getOptionsLengthOffset(){return this.matOption?1:0}unselectActiveDescendant(){this.activeDescendant?.removeAttribute("aria-selected"),this.searchSelectInput.nativeElement.removeAttribute("aria-activedescendant")}}return a.\u0275fac=function(i){return new(i||a)(t.rXU(I.VO),t.rXU(t.gRc),t.rXU(C.Xj),t.rXU(A.wT,8),t.rXU(R.rl,8),t.rXU(q,8))},a.\u0275cmp=t.VBU({type:a,selectors:[["ngx-mat-select-search"]],contentQueries:function(i,o,m){if(1&i&&(t.wni(m,J,5),t.wni(m,ee,5)),2&i){let u;t.mGM(u=t.lsd())&&(o.clearIcon=u.first),t.mGM(u=t.lsd())&&(o.noEntriesFound=u.first)}},viewQuery:function(i,o){if(1&i&&(t.GBs(U,7,t.aKT),t.GBs(F,7,t.aKT)),2&i){let m;t.mGM(m=t.lsd())&&(o.searchSelectInput=m.first),t.mGM(m=t.lsd())&&(o.innerSelectSearch=m.first)}},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toggleAllCheckboxTooltipPosition:"toggleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti",recreateValuesArray:"recreateValuesArray"},outputs:{toggleAll:"toggleAll"},features:[t.Jv_([{provide:O.kq,useExisting:(0,t.Rfq)(()=>a),multi:!0}])],ngContentSelectors:K,decls:13,vars:14,consts:[["innerSelectSearch",""],["searchSelectInput",""],["defaultIcon",""],["defaultNoEntriesFound",""],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],[1,"mat-select-search-inner-row"],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input",3,"keydown","keyup","blur","type","formControl","placeholder"],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"change","color","checked","indeterminate","matTooltip","matTooltipPosition"],["diameter","16",1,"mat-select-search-spinner"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],[3,"svgIcon"],[1,"mat-select-search-no-entries-found"]],template:function(i,o){if(1&i){const m=t.RV6();t.NAR(z),t.nrm(0,"input",4),t.j41(1,"div",5,0)(3,"div",6),t.DNE(4,G,1,5,"mat-checkbox",7),t.j41(5,"input",8,1),t.bIt("keydown",function(y){return t.eBV(m),t.Njj(o._handleKeydown(y))})("keyup",function(y){return t.eBV(m),t.Njj(o._handleKeyup(y))})("blur",function(){return t.eBV(m),t.Njj(o.onBlur())}),t.k0s(),t.DNE(7,j,1,0,"mat-spinner",9)(8,V,4,2,"button",10),t.SdG(9),t.k0s(),t.nrm(10,"mat-divider"),t.k0s(),t.DNE(11,Q,4,2,"div",11),t.nI1(12,"async")}2&i&&(t.R7$(),t.Y8G("ngClass",t.l_i(11,N,o.matSelect.multiple,o._isToggleAllCheckboxVisible())),t.R7$(3),t.Y8G("ngIf",o._isToggleAllCheckboxVisible()),t.R7$(),t.Y8G("type",o.type)("formControl",o._formControl)("placeholder",o.placeholderLabel),t.BMQ("aria-label",o.ariaLabel),t.R7$(2),t.Y8G("ngIf",o.searching),t.R7$(),t.Y8G("ngIf",!o.hideClearSearchButton&&o.value&&!o.searching),t.R7$(3),t.Y8G("ngIf",t.bMT(12,9,o._showNoEntriesFound$)))},dependencies:[b.YU,b.bT,O.me,O.BC,O.l_,h.iY,p.So,D.An,S.LG,M.oV,W.q,b.Jj],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:100;font-size:inherit;box-shadow:none;background-color:var(--mat-select-panel-background-color)}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border:none;font-family:inherit;font-size:inherit;color:currentColor;outline:none;background-color:var(--mat-select-panel-background-color);padding:0 44px 0 16px;height:calc(3em - 1px);line-height:calc(3em - 1px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-input[_ngcontent-%COMP%]::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-left:5px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding-top:8px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:0}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search{position:sticky;top:-8px;z-index:1;opacity:1;margin-top:-8px;pointer-events:all}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search mat-pseudo-checkbox{display:none}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mdc-list-item__primary-text{opacity:1}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}"],changeDetection:0}),a})(),ne=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.$C({type:a}),a.\u0275inj=t.G2t({imports:[b.MD,O.X1,h.Hl,p.g7,D.m_,S.D6,M.uc,W.w]}),a})()}}]);