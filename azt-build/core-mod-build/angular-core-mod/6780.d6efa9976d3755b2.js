"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[6780],{21713:(gt,Y,c)=>{c.d(Y,{C:()=>tt});var u=c(81519),i=c(48891),_=c(10936),p=c(34514),y=c(47426),t=c(99503),q=c(79347),L=c(9691),D=c(59640),R=c(39712),M=c(43234),P=c(74978),b=c(54460),w=c(39471),v=c(97839),I=c(95670),C=c(4375),J=c(81587),It=c(74175),St=c(63349),O=c(43166),Z=c(15343),j=c(44233),B=c(47348);const A=()=>({"ml-5 mr-2":!0}),xt=f=>({"error-border":f}),S=f=>[f],Kt=()=>({"mr-2":!0});function Zt(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function H(f,z){if(1&f&&(i.j41(0,"mat-option",62),i.EFF(1),i.k0s()),2&f){const k=z.$implicit;i.Y8G("value",k.id),i.R7$(),i.SpI(" ",k.name," ")}}function st(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Rt(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function nt(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function N(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function $t(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_test_market_request_with_draw_note_birthday")," "))}function te(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function At(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function zt(f,z){1&f&&(i.j41(0,"div",61),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&f&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_test_market_must_accept_policy")," "))}function lt(f,z){if(1&f){const k=i.RV6();i.j41(0,"div",63)(1,"button",64),i.nI1(2,"calcYearOldUser"),i.bIt("click",function(){i.eBV(k);const h=i.XpG();return i.Njj(h.acceptSendRequest(!0))}),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s(),i.j41(5,"button",65),i.bIt("click",function(){i.eBV(k);const h=i.XpG();return i.Njj(h.acceptSendRequest(!1))}),i.EFF(6),i.nI1(7,"mytranslate"),i.k0s()()}if(2&f){const k=i.XpG();i.R7$(),i.Y8G("disabled",k.form.invalid||k.sendRequest||!k.totalBalance||k.totalBalance<k.minimumWithdraw||2!=k.citizenIdImages.length||i.bMT(2,3,k.form.controls.birthday.value)<18),i.R7$(2),i.SpI(" ",i.bMT(4,5,"lang_test_market_request_with_draw")," "),i.R7$(3),i.SpI(" ",i.bMT(7,7,"lang_auto_huy")," ")}}function vt(f,z){if(1&f){const k=i.RV6();i.j41(0,"div",71),i.bIt("click",function(){i.eBV(k);const h=i.XpG().$implicit,x=i.XpG(2);return i.Njj(x.removeImg(h))}),i.nrm(1,"lucide-icon",72),i.k0s()}}function ct(f,z){if(1&f&&(i.j41(0,"div",67)(1,"div",68),i.nrm(2,"img",69),i.nI1(3,"mycdn"),i.k0s(),i.DNE(4,vt,2,0,"div",70),i.k0s()),2&f){const k=z.$implicit,E=i.XpG(2);i.R7$(2),i.Y8G("src",i.bMT(3,2,k),i.B4B),i.R7$(2),i.Y8G("ngIf",E.enableEditInfo)}}function Lt(f,z){if(1&f&&(i.j41(0,"div"),i.DNE(1,ct,5,4,"div",66),i.k0s()),2&f){const k=i.XpG();i.R7$(),i.Y8G("ngForOf",k.citizenIdImages)}}function ee(f,z){1&f&&(i.j41(0,"div",73)(1,"div",74),i.nrm(2,"lucide-icon",75),i.j41(3,"span",76),i.EFF(4),i.nI1(5,"mytranslate"),i.k0s()()()),2&f&&(i.R7$(2),i.Y8G("ngClass",i.lJ4(4,Kt)),i.R7$(2),i.JRh(i.bMT(5,2,"lang_auto_upload_file")))}function bt(f,z){if(1&f){const k=i.RV6();i.j41(0,"div",77)(1,"div",63)(2,"button",78),i.nI1(3,"calcYearOldUser"),i.bIt("click",function(){i.eBV(k);const h=i.XpG();return i.Njj(h.acceptSendRequest(!0))}),i.EFF(4),i.nI1(5,"mytranslate"),i.k0s(),i.j41(6,"button",79),i.bIt("click",function(){i.eBV(k);const h=i.XpG();return i.Njj(h.acceptSendRequest(!1))}),i.EFF(7),i.nI1(8,"mytranslate"),i.k0s()()()}if(2&f){const k=i.XpG();i.R7$(2),i.Y8G("disabled",k.form.invalid||k.sendRequest||!k.totalBalance||k.totalBalance<k.minimumWithdraw||2!=k.citizenIdImages.length||i.bMT(3,3,k.form.controls.birthday.value)<18),i.R7$(2),i.SpI(" ",i.bMT(5,5,"lang_test_market_request_with_draw")," "),i.R7$(3),i.SpI(" ",i.bMT(8,7,"lang_auto_huy")," ")}}let tt=(()=>{var f;class z extends D.H{getCurLang(){return this.commonService.getCurrentLang()}handleUploadComplete(E){E.forEach(h=>{this.citizenIdImages.push(h.url??"")})}removeImg(E){let h=this.citizenIdImages?.filter(x=>x!==E);this.citizenIdImages=h}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo?.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo?.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo?.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo?.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo?.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo?.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo?.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo?.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo?.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo?.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(E){this.currentBankId=E}removeSignatureKeyImages(E){if(0==E.length)return[];{let h=[];return E.forEach(x=>{h.push(x.substring(0,x.indexOf("?")))}),h}}acceptSendRequest(E){if(E){this.sendRequest=!0;let h=this.getFormValue(),x={bankId:h.bankId??this.transactionInfo?.bankId,bankHolder:h.accountNameControl??this.transactionInfo?.bankHolder,address:h.address??this.transactionInfo?.address,bankAccountNumber:h.bankNumber??this.transactionInfo?.bankAccountNumber,contactPhone:h.contactPhone??this.balanceUserInfo?.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(h.birthday??this.balanceUserInfo?.birthday??""),idCard:h.idCard??this.balanceUserInfo?.idCard,idIssuedBy:h.idIssuedBy??this.balanceUserInfo?.idIssuedBy,idIssuedAt:new Date(h.idIssuedAt??this.balanceUserInfo?.idIssuedAt??"")};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(x).subscribe(U=>{U.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(U.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(E=>{E.success?(this.listBanks=E.data?.objs??[],this.successStatusObj()):this.errorStatusObj(E.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.getBankObjs(),this.transactionInfo||(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo?.idImages&&this.balanceUserInfo?.idImages.length?this.balanceUserInfo.idImages:[],this.form=new _.gE({accountNameControl:new _.MJ({value:this.transactionInfo?.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),bankId:new _.MJ({value:this.transactionInfo?.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),bankNumber:new _.MJ({value:this.transactionInfo?.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required,_.k0.pattern("^[A-Za-z0-9]*$")]}),address:new _.MJ({value:this.transactionInfo?.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),contactPhone:new _.MJ({value:this.balanceUserInfo?.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required,_.k0.pattern("^[0-9]*$"),_.k0.minLength(10)]}),idCard:new _.MJ({value:this.balanceUserInfo?.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required,_.k0.pattern("^[0-9]*$")]}),idIssuedBy:new _.MJ({value:this.balanceUserInfo?.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),idIssuedAt:new _.MJ({value:this.balanceUserInfo?.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),birthday:new _.MJ({value:this.balanceUserInfo?.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),acceptPolicy:new _.MJ(!1,{nonNullable:!0,validators:[_.k0.requiredTrue]})}),this.currentBankId=this.transactionInfo?.bankId??1}constructor(E){super(),this.testMarketQuestionService=E,this.totalBalance=0,this.closeRequest=new i.bkB,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=M.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=R.b8,this.allUploadFileTypes=R.PO,this.minimumWithdraw=2e5,this.form=new _.gE({accountNameControl:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),bankId:new _.MJ({value:1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),bankNumber:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required,_.k0.pattern("^[A-Za-z0-9]*$")]}),address:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),contactPhone:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required,_.k0.pattern("^[0-9]*$"),_.k0.minLength(10)]}),idCard:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required,_.k0.pattern("^[0-9]*$")]}),idIssuedBy:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),idIssuedAt:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),birthday:new _.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[_.k0.required]}),acceptPolicy:new _.MJ(!1,{nonNullable:!0,validators:[_.k0.requiredTrue]})})}}return(f=z).\u0275fac=function(E){return new(E||f)(i.rXU(P.e2))},f.\u0275cmp=i.VBU({type:f,selectors:[["withdraw-balance"]],inputs:{balanceUserInfo:"balanceUserInfo",transactionInfo:"transactionInfo",totalBalance:"totalBalance"},outputs:{closeRequest:"closeRequest"},features:[i.Jv_([{provide:u.$O,useClass:t.fb,deps:[y.Ju,p.ij]},{provide:u.vq,useFactory:q.fJ,deps:[L.F]}]),i.Vt3],decls:132,vars:116,consts:[["searchInListBank","searchInList"],["idIssuedAt",""],["birthday",""],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"text-danger","text-xs"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","square-pen",2,"width","1.25rem !important",3,"ngClass"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline",3,"ngClass"],["searchInList","","formControlName","bankId","name","bankIdInput",3,"valueChange","selectionChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","20"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],[2,"display","block",3,"uploadComplete","uploadToCdnMenu","fileType"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","x","size","16"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["name","upload","size","16",3,"ngClass"],[1,"text-primary","mr-1"],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(E,h){if(1&E){const x=i.RV6();i.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h2",7),i.EFF(5),i.nI1(6,"mytranslate"),i.nI1(7,"number"),i.k0s(),i.j41(8,"span",8),i.EFF(9),i.nI1(10,"mytranslate"),i.k0s()(),i.j41(11,"div",9)(12,"h2",10),i.EFF(13),i.nI1(14,"mytranslate"),i.k0s(),i.j41(15,"div",11),i.bIt("click",function(){return i.eBV(x),i.Njj(h.enableEdit())}),i.nrm(16,"lucide-icon",12),i.EFF(17),i.nI1(18,"mytranslate"),i.k0s()(),i.j41(19,"form",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"label",18),i.EFF(25),i.nI1(26,"mytranslate"),i.k0s(),i.nrm(27,"input",19),i.DNE(28,Zt,3,3,"div",20),i.k0s(),i.j41(29,"div",17)(30,"label",21),i.EFF(31),i.nI1(32,"mytranslate"),i.k0s(),i.j41(33,"mat-form-field",22)(34,"mat-select",23,0),i.mxI("valueChange",function(d){return i.eBV(x),i.DH7(h.currentBankId,d)||(h.currentBankId=d),i.Njj(d)}),i.bIt("selectionChange",function(d){return i.eBV(x),i.Njj(h.selectBank(d.value))}),i.j41(36,"mat-option"),i.nrm(37,"ngx-mat-select-search",24),i.nI1(38,"mytranslate"),i.nI1(39,"mytranslate"),i.k0s(),i.DNE(40,H,2,2,"mat-option",25),i.k0s()(),i.DNE(41,st,3,3,"div",20),i.k0s(),i.j41(42,"div",17)(43,"label",26),i.EFF(44),i.nI1(45,"mytranslate"),i.k0s(),i.nrm(46,"input",27),i.DNE(47,Rt,3,3,"div",20),i.k0s(),i.j41(48,"div",28)(49,"h2",29),i.EFF(50),i.nI1(51,"mytranslate"),i.k0s()(),i.j41(52,"div",17)(53,"label",30),i.EFF(54),i.nI1(55,"mytranslate"),i.k0s(),i.nrm(56,"input",31),i.DNE(57,nt,3,3,"div",20),i.k0s(),i.j41(58,"div",17)(59,"label",32),i.EFF(60),i.nI1(61,"mytranslate"),i.k0s(),i.nrm(62,"input",33),i.DNE(63,N,3,3,"div",20),i.k0s(),i.j41(64,"div",17)(65,"label",34),i.EFF(66),i.nI1(67,"mytranslate"),i.k0s(),i.j41(68,"mat-form-field",35)(69,"input",36),i.nI1(70,"mytranslate"),i.bIt("click",function(){i.eBV(x);const d=i.sdS(74);return i.Njj(d.open())}),i.k0s(),i.j41(71,"button",37),i.bIt("click",function(d){return i.eBV(x),i.sdS(74).open(),i.Njj(d.stopPropagation())}),i.nrm(72,"lucide-icon",38),i.k0s(),i.j41(73,"ngx-mat-datetime-picker",39,1)(75,"ngx-mat-datepicker-actions")(76,"button",40),i.EFF(77,"OK"),i.k0s()()()()(),i.j41(78,"div",17)(79,"label",41),i.EFF(80),i.nI1(81,"mytranslate"),i.k0s(),i.j41(82,"mat-form-field",35)(83,"input",42),i.nI1(84,"mytranslate"),i.bIt("click",function(){i.eBV(x);const d=i.sdS(88);return i.Njj(d.open())}),i.k0s(),i.j41(85,"button",43),i.bIt("click",function(d){return i.eBV(x),i.sdS(88).open(),i.Njj(d.stopPropagation())}),i.nrm(86,"lucide-icon",38),i.k0s(),i.j41(87,"ngx-mat-datetime-picker",39,2)(89,"ngx-mat-datepicker-actions")(90,"button",40),i.EFF(91,"OK"),i.k0s()()()(),i.DNE(92,$t,3,3,"div",20),i.nI1(93,"calcYearOldUser"),i.k0s(),i.j41(94,"div",17)(95,"label",44),i.EFF(96),i.nI1(97,"mytranslate"),i.k0s(),i.nrm(98,"input",45),i.DNE(99,te,3,3,"div",20),i.k0s(),i.j41(100,"div",17)(101,"label",46),i.EFF(102),i.nI1(103,"mytranslate"),i.k0s(),i.nrm(104,"input",47),i.DNE(105,At,3,3,"div",20),i.k0s(),i.j41(106,"div",17)(107,"div",48),i.nrm(108,"input",49),i.j41(109,"label",50),i.EFF(110),i.nI1(111,"mytranslate"),i.j41(112,"a",51),i.EFF(113),i.nI1(114,"mytranslate"),i.k0s(),i.EFF(115),i.nI1(116,"mytranslate"),i.nrm(117,"azt-download-link-item",52),i.nI1(118,"coreModConvertRawLinkOfGitHubWithLocale"),i.EFF(119),i.nI1(120,"mytranslate"),i.k0s()(),i.DNE(121,zt,3,3,"div",20),i.k0s(),i.DNE(122,lt,8,9,"div",53),i.k0s(),i.j41(123,"div",54)(124,"div",55)(125,"h2",56),i.EFF(126),i.nI1(127,"mytranslate"),i.k0s()(),i.DNE(128,Lt,2,1,"div",57),i.j41(129,"azt-upload-multiple-box",58),i.bIt("uploadComplete",function(d){return i.eBV(x),i.Njj(h.handleUploadComplete(d))}),i.DNE(130,ee,6,5,"div",59),i.k0s()(),i.DNE(131,bt,9,9,"div",60),i.k0s()()()()()()}if(2&E){const x=i.sdS(35),U=i.sdS(74),d=i.sdS(88);i.R7$(5),i.Lme("",i.bMT(6,59,"lang_test_market_balance"),"",i.bMT(7,61,h.totalBalance),"\u0111"),i.R7$(4),i.JRh(i.bMT(10,63,"lang_test_market_request_with_draw_notice")),i.R7$(4),i.SpI(" ",i.bMT(14,65,"lang_test_market_bank_information")," "),i.R7$(3),i.Y8G("ngClass",i.lJ4(111,A)),i.R7$(),i.SpI(" ",i.bMT(18,67,h.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),i.R7$(2),i.Y8G("formGroup",h.form),i.R7$(6),i.SpI(" ",i.bMT(26,69,"lang_test_market_bankHolder")," "),i.R7$(3),i.Y8G("ngIf",h.form.controls.accountNameControl.dirty&&h.form.controls.accountNameControl.errors),i.R7$(3),i.SpI(" ",i.bMT(32,71,"lang_test_market_bankName")," "),i.R7$(2),i.Y8G("ngClass",i.eq3(112,xt,h.form.controls.bankId.invalid)),i.R7$(),i.R50("value",h.currentBankId),i.R7$(3),i.FS9("placeholderLabel",i.bMT(38,73,"lang_search_by_name")),i.FS9("noEntriesFoundLabel",i.bMT(39,75,"lang_search_not_found")),i.Y8G("formControl",x.searchControl),i.R7$(3),i.Y8G("ngForOf",x.filter(h.listBanks,"name")),i.R7$(),i.Y8G("ngIf",h.form.controls.bankId.dirty&&h.form.controls.bankId.errors),i.R7$(3),i.SpI(" ",i.bMT(45,77,"lang_test_market_bankNumber")," "),i.R7$(3),i.Y8G("ngIf",h.form.controls.bankNumber.dirty&&h.form.controls.bankNumber.errors),i.R7$(3),i.SpI(" ",i.bMT(51,79,"lang_test_market_personal_information")," "),i.R7$(4),i.SpI(" ",i.bMT(55,81,"lang_test_market_citizen_id")," "),i.R7$(3),i.Y8G("ngIf",h.form.controls.idCard.dirty&&h.form.controls.idCard.errors),i.R7$(3),i.SpI(" ",i.bMT(61,83,"lang_test_market_issued_by")," "),i.R7$(3),i.Y8G("ngIf",h.form.controls.idIssuedBy.dirty&&h.form.controls.idIssuedBy.errors),i.R7$(3),i.SpI(" ",i.bMT(67,85,"lang_test_market_issued_at")," "),i.R7$(3),i.FS9("placeholder",i.bMT(70,87,"lang_test_market_issued_at")),i.Y8G("max",h.maxDate)("ngxMatDatetimePicker",U),i.R7$(4),i.Y8G("touchUi",!0)("hideTime",!0),i.R7$(7),i.SpI(" ",i.bMT(81,89,"lang_auto_ngay_sinh")," "),i.R7$(3),i.FS9("placeholder",i.bMT(84,91,"lang_auto_ngay_sinh")),i.Y8G("max",h.maxDate)("ngxMatDatetimePicker",d),i.R7$(4),i.Y8G("touchUi",!0)("hideTime",!0),i.R7$(5),i.Y8G("ngIf",i.bMT(93,93,h.form.controls.birthday.value)<18),i.R7$(4),i.SpI(" ",i.bMT(97,95,"lang_number_phone")," "),i.R7$(3),i.Y8G("ngIf",h.form.controls.contactPhone.dirty&&h.form.controls.contactPhone.errors),i.R7$(3),i.SpI(" ",i.bMT(103,97,"lang_test_market_address")," "),i.R7$(3),i.Y8G("ngIf",h.form.controls.address.dirty&&h.form.controls.address.errors),i.R7$(5),i.SpI(" ",i.bMT(111,99,"lang_test_market_Azota_policy_1")," "),i.R7$(2),i.FS9("href","/"+h.getCurLang()+"/admin/test-market/privacy",i.B4B),i.R7$(),i.SpI(" ",i.bMT(114,101,"lang_test_market_Azota_policy_2")," "),i.R7$(2),i.SpI(" \xa0",i.bMT(116,103,"lang_auto_va"),"\xa0 "),i.R7$(2),i.Y8G("dataUrl",i.bMT(118,105,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),i.R7$(2),i.SpI(" ",i.bMT(120,107,"lang_test_market_Azota_policy_3")," "),i.R7$(2),i.Y8G("ngIf",(null==h.form.controls.acceptPolicy?null:h.form.controls.acceptPolicy.dirty)&&(null==h.form.controls.acceptPolicy?null:h.form.controls.acceptPolicy.errors)&&!(null!=h.form.controls.acceptPolicy&&h.form.controls.acceptPolicy.value)),i.R7$(),i.Y8G("ngIf",!h.isMobile),i.R7$(4),i.SpI(" ",i.bMT(127,109,"lang_test_market_upload_citizenID_images")," "),i.R7$(2),i.Y8G("ngIf",h.citizenIdImages.length>0),i.R7$(),i.Y8G("uploadToCdnMenu",h.allUploadToCdnMenuTypes.GET_PUBLIC_UPLOAD_URL_FOR_ID_NUMBER)("fileType",i.eq3(114,S,h.allUploadFileTypes.IMAGE)),i.R7$(),i.Y8G("ngIf",h.enableEditInfo),i.R7$(),i.Y8G("ngIf",h.isMobile)}},dependencies:[b.YU,b.Sq,b.bT,_.qT,_.me,_.Zm,_.BC,_.cb,y.wT,w.$z,v.fg,I.rl,I.yw,C.VO,u.m7,u.yF,u.HF,u.Uq,_.l_,_.j4,_.JD,J.t,It.W,St.V,O.x,Z.WGl,j.U9,b.QX,B.wp,B.nf,B.Kf,B.gs],encapsulation:2}),z})()},66780:(gt,Y,c)=>{c.r(Y),c.d(Y,{AuthModule:()=>jm});var u=c(54460),i=c(10936),_=c(65162),p=c(69223),y=c(15343),t=c(48891);let R=(()=>{class e{transform(n){return Object.keys(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.EJ8({name:"keys",type:e,pure:!0}),e})(),P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[R],imports:[[u.MD,i.YN,i.X1]]}),e})();var w=c(13763),v=c(10123),I=c(25571),C=c(44233),J=c(5502),It=c(21656),St=c(70050),O=c(7050),Z=c(35143),j=c(43234),B=c(1133),A=c(76627),xt=c(78248),S=c(59640),Kt=c(73402),Zt=c(69988),H=c(36484),st=c(39307),Rt=c(52509),nt=c(46899),N=c(18718),$t=c(22783),te=c(99391),At=c(96451),zt=c(69715),lt=c(81519),vt=c(47426),ct=c(95670),Lt=c(99503),ee=c(79347),bt=c(9691),tt=c(15766),f=c(89163),z=c(33887),k=c(35024),E=c(92540),h=c(4375),x=c(52811),U=c(43166),d=c(47348);function ne(e,s){if(1&e&&(t.j41(0,"mat-option",21),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function Ae(e,s){if(1&e&&(t.j41(0,"mat-option",21),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function ze(e,s){if(1&e&&(t.j41(0,"mat-option",21),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function Le(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",8)(1,"mat-form-field",9)(2,"mat-select",22,3),t.nI1(4,"mytranslate"),t.mxI("valueChange",function(a){t.eBV(n);const r=t.XpG();return t.DH7(r.department_select,a)||(r.department_select=a),t.Njj(a)}),t.bIt("selectionChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.selectDepartment(a.value))}),t.j41(5,"mat-option"),t.nrm(6,"ngx-mat-select-search",11),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,ze,2,2,"mat-option",12),t.k0s()()()}if(2&e){const n=t.sdS(3),o=t.XpG();t.R7$(2),t.FS9("placeholder",t.bMT(4,6,"lang_testbank_utils_school_info_select_department")),t.R50("value",o.department_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(7,8,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(8,10,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("ngForOf",n.filter(o.departments,"name"))}}function De(e,s){if(1&e&&(t.j41(0,"mat-option",21),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function Be(e,s){1&e&&(t.j41(0,"span",23),t.nrm(1,"azt-loading-ui"),t.k0s())}let Ne=(()=>{var e;class s extends z._{initData(){this.getProvinces(),this.getTypeSchool()}selectLocation(o){this.location_select=o,this.department_select=null,this.departments=[],this.getDistrictsByProvince()}selectLevel(o){this.schools=[],this.school_select=null,this.level_select=o,o<=3?(this.getListSchool(),this.getDistrictsByProvince()):o>3&&this.getListSchoolByProvince()}selectDepartment(o){this.schools=[],this.school_select=null,this.department_select=o,this.getListSchool()}selectSchool(o){this.school_select=o}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(a=>{a&&1==a.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(a.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack(this.sAztUserService.isTeacherRole()?"lang_auto_vui_long_chon_truong_minh_dang_giang_day":"lang_auto_vui_long_chon_truong_minh_dang_theo_hoc")}btnCloseDialog(o){this.dialogRef.close(o)}getProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(o=>{o&&(this.locations=o.data?.objs??new Array,this.locations=this.sortName(this.locations))})}getTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(o=>{o&&(this.levels=o.data?.objs??new Array)})}getDistrictsByProvince(o=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(a=>{a&&(this.departments=a.data?.objs??new Array,this.departments=this.sortName(this.departments),o())})}getListSchoolByProvince(o=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(a=>{a&&(this.schools=a.data?.objs??new Array,this.schools=this.sortName(this.schools),o())})}getListSchool(o=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(a=>{a&&(this.schools=a.data?.objs??new Array,this.schools=this.sortName(this.schools),o())})}sortName(o){return o.sort((a,r)=>a.name?.trim().localeCompare(r.name?.trim()??"")??-1),o}ngOnInit(){this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.getDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),super.ngOnInit()}constructor(o,a,r,l,m){super(m,l),this.schoolConfigService=o,this.schoolInfoService=a,this.sAztUserService=r,this.dialogRef=l,this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=m.infoSchool,this.form=new i.gE({LocationName:new i.MJ("",{nonNullable:!0}),LevelName:new i.MJ("",{nonNullable:!0}),DepartmentName:new i.MJ("",{nonNullable:!0}),SchoolName:new i.MJ("",{nonNullable:!0}),multiChooseLevel:new i.MJ([]),listMultiChooseSubject:new i.Yp([])})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.C1),t.rXU(E.OC),t.rXU(H.R),t.rXU(f.CP,8),t.rXU(f.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-school-info"]],features:[t.Vt3],decls:47,vars:52,consts:[["searchInListLocation","searchInList"],["searchInListLevel","searchInList"],["searchInListSchool","searchInList"],["searchInListDepartment","searchInList"],[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["searchInList","","name","LocationName",3,"valueChange","selectionChange","value","placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["searchInList","","name","LevelName",3,"valueChange","selectionChange","value","placeholder"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["searchInList","","name","SchoolName",3,"valueChange","selectionChange","value","placeholder"],[1,"mt-3","mb-2","flex","justify-end"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value"],["searchInList","","name","DepartmentName",3,"valueChange","selectionChange","value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"form",7)(8,"div",8)(9,"mat-form-field",9)(10,"mat-select",10,0),t.nI1(12,"mytranslate"),t.mxI("valueChange",function(m){return t.eBV(r),t.DH7(a.location_select,m)||(a.location_select=m),t.Njj(m)}),t.bIt("selectionChange",function(m){return t.eBV(r),t.Njj(a.selectLocation(m.value))}),t.j41(13,"mat-option"),t.nrm(14,"ngx-mat-select-search",11),t.nI1(15,"mytranslate"),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,ne,2,2,"mat-option",12),t.k0s()()(),t.j41(18,"div",8)(19,"mat-form-field",9)(20,"mat-select",13,1),t.nI1(22,"mytranslate"),t.mxI("valueChange",function(m){return t.eBV(r),t.DH7(a.level_select,m)||(a.level_select=m),t.Njj(m)}),t.bIt("selectionChange",function(m){return t.eBV(r),t.Njj(a.selectLevel(m.value))}),t.j41(23,"mat-option"),t.nrm(24,"ngx-mat-select-search",11),t.nI1(25,"mytranslate"),t.nI1(26,"mytranslate"),t.k0s(),t.DNE(27,Ae,2,2,"mat-option",12),t.k0s()()(),t.DNE(28,Le,10,12,"div",14),t.j41(29,"div",15)(30,"mat-form-field",9)(31,"mat-select",16,2),t.nI1(33,"mytranslate"),t.mxI("valueChange",function(m){return t.eBV(r),t.DH7(a.school_select,m)||(a.school_select=m),t.Njj(m)}),t.bIt("selectionChange",function(m){return t.eBV(r),t.Njj(a.selectSchool(m.value))}),t.j41(34,"mat-option"),t.nrm(35,"ngx-mat-select-search",11),t.nI1(36,"mytranslate"),t.nI1(37,"mytranslate"),t.k0s(),t.DNE(38,De,2,2,"mat-option",12),t.k0s()()()(),t.j41(39,"div",17)(40,"button",18),t.bIt("click",function(){return t.eBV(r),t.Njj(a.btnCloseDialog(void 0))}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s(),t.j41(43,"button",19),t.bIt("click",function(){return t.eBV(r),t.Njj(a.saveInfo())}),t.DNE(44,Be,2,0,"span",20),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()}if(2&o){let r;const l=t.sdS(11),m=t.sdS(21),g=t.sdS(32);t.R7$(2),t.SpI(" ",t.bMT(3,26,"lang_auto_cap_nhat_thong_tin_truong")," "),t.R7$(3),t.SpI(" ",t.bMT(6,28,"lang_testbank_utils_school_info_note_tutorial")," "),t.R7$(2),t.Y8G("formGroup",a.form),t.R7$(3),t.FS9("placeholder",t.bMT(12,30,"lang_testbank_utils_school_info_select_province")),t.R50("value",a.location_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(15,32,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(16,34,"lang_search_not_found")),t.Y8G("formControl",l.searchControl),t.R7$(3),t.Y8G("ngForOf",l.filter(a.locations,"name")),t.R7$(3),t.FS9("placeholder",t.bMT(22,36,"lang_testbank_utils_school_info_select_level")),t.R50("value",a.level_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(25,38,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(26,40,"lang_search_not_found")),t.Y8G("formControl",m.searchControl),t.R7$(3),t.Y8G("ngForOf",m.filter(a.levels,"name")),t.R7$(),t.Y8G("ngIf",(null!==(r=a.level_select)&&void 0!==r?r:0)<=3),t.R7$(3),t.FS9("placeholder",t.bMT(33,42,"lang_testbank_utils_school_info_select_school")),t.R50("value",a.school_select),t.R7$(4),t.FS9("placeholderLabel",t.bMT(36,44,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(37,46,"lang_search_not_found")),t.Y8G("formControl",g.searchControl),t.R7$(3),t.Y8G("ngForOf",g.filter(a.schools,"name")),t.R7$(3),t.SpI(" ",t.bMT(42,48,"lang_testbank_utils_school_info_later")," "),t.R7$(2),t.Y8G("disabled",a.statusObj.loading),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(46,50,"lang_button_save")," ")}},dependencies:[u.Sq,u.bT,vt.wT,ct.rl,h.VO,i.qT,i.BC,i.cb,i.l_,i.j4,C.U9,x.R,U.x,d.wp],encapsulation:2}),s})();var Ve=c(40246);function Ye(e,s){1&e&&(t.j41(0,"span",7),t.nrm(1,"azt-loading-ui"),t.k0s())}let Ue=(()=>{var e;class s extends z._{setData(o){this.dataObjs=o}checkValidChooseGradeAndSubject(o){let a=!0;return o.length?o.forEach(r=>{(!r.subjectsIds||!r.subjectsIds.length)&&(a=!1)}):a=!1,a}saveInfo(){let o=[],a=[],r=[];for(let l=0;l<this.dataObjs.length;l++)if(this.commonService.isExistInArray(a,this.dataObjs[l].class?.value)||(a.push(Number(this.dataObjs[l].class?.value)),r.push(String(this.dataObjs[l].class?.desc))),this.dataObjs[l].subjectsIds&&Array.isArray(this.dataObjs[l].subjectsIds)){let m=this.dataObjs[l].subjectsIds??[];if(m.length)for(let g=0;g<m.length;g++)o.push({classId:this.dataObjs[l].class?.value??0,subjectId:m[g]})}o.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:o}).subscribe(l=>{l&&1==l.success?(this.classroomGradePathValue=a,this.dialogRef.close({classroomIds:a,classroomDescs:r})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(o,a,r){super(r,a),this.surveyConfigService=o,this.dialogRef=a,this.dataDialog=r,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((l,m)=>(l.class?.value??0)-(m.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey,this.form=new i.gE({LocationName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),LevelName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),DepartmentName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),SchoolName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),multiChooseLevel:new i.MJ([]),listMultiChooseSubject:new i.Yp([])})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.K0),t.rXU(f.CP,8),t.rXU(f.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-grade-subject-info"]],features:[t.Vt3],decls:11,vars:13,consts:[[1,"box","p-5"],[3,"formGroup"],[3,"sendData","valueSurvey","valueSubjectSurvey","classroomGradePathValue","dataObjs"],[1,"mt-3","flex","justify-end"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"form",1)(2,"azt-multi-choose-level-subject",2),t.bIt("sendData",function(l){return a.setData(l)}),t.k0s()(),t.j41(3,"div",3)(4,"button",4),t.bIt("click",function(){return a.btnCloseDialog()}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){return a.saveInfo()}),t.DNE(8,Ye,2,0,"span",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(),t.Y8G("valueSurvey",a.valueSurvey)("valueSubjectSurvey",a.valueSubjectSurvey)("classroomGradePathValue",a.classroomGradePathValue)("dataObjs",a.dataObjs),t.R7$(3),t.SpI(" ",t.bMT(6,9,"lang_testbank_utils_school_info_later")," "),t.R7$(2),t.Y8G("disabled",a.statusObj.loading||!a.checkValidChooseGradeAndSubject(a.dataObjs)),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(10,11,"lang_button_save")," "))},dependencies:[u.bT,i.qT,i.cb,i.j4,x.R,Ve.C,d.wp],encapsulation:2}),s})();var Dt=c(39712),Qe=c(97357),Xe=c(62363),qe=c(62221),Bt=c(39471),We=c(97839),oe=c(68323),W=c(81587),Je=c(96670);const He=e=>[e],ae=()=>({"mr-2":!0});function Ke(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Ze(e,s){1&e&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function tn(e,s){1&e&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_user_name_no_whitespace")," "))}function en(e,s){if(1&e&&(t.j41(0,"div",17)(1,"label",49),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"input",50),t.nI1(5,"mytranslate"),t.DNE(6,tn,3,3,"div",20),t.k0s()),2&e){const n=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,3,"Username")," "),t.R7$(2),t.FS9("placeholder",t.bMT(5,5,"Username")+"..."),t.R7$(2),t.Y8G("ngIf",""!=n.form.controls.userName.value&&n.form.controls.userName.errors)}}function nn(e,s){1&e&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function on(e,s){1&e&&t.nrm(0,"input",51)}function an(e,s){1&e&&(t.nrm(0,"input",52),t.nI1(1,"mytranslate")),2&e&&t.FS9("placeholder",t.bMT(1,1,"lang_auto_nhap_email")+"...")}function sn(e,s){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function rn(e,s){if(1&e&&(t.j41(0,"div",53),t.DNE(1,sn,3,3,"div",44),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.getErrorType("email","email")||n.getErrorType("email","pattern"))}}function ln(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",54),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.goToConfirmEmail())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")," "))}function cn(e,s){1&e&&t.nrm(0,"input",55)}function _n(e,s){1&e&&(t.nrm(0,"input",56),t.nI1(1,"mytranslate")),2&e&&t.FS9("placeholder",t.bMT(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function mn(e,s){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function un(e,s){if(1&e&&(t.j41(0,"div",53),t.DNE(1,mn,3,3,"div",44),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.getErrorType("phone","pattern")||n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function dn(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",57),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.goToConfirm())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")," "))}function pn(e,s){1&e&&(t.j41(0,"div",65)(1,"div"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_account_general_require_school"),""))}function gn(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",58)(1,"label",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",60),t.nrm(5,"input",61),t.j41(6,"button",62),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.openDialogInfoSchool())}),t.nrm(7,"lucide-icon",63),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.DNE(10,pn,4,3,"div",64),t.k0s()}if(2&e){const n=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,5,"lang_auto_thong_tin_truong")),t.R7$(3),t.FS9("value",null==n.infoSchool?null:n.infoSchool.name),t.R7$(2),t.Y8G("ngClass",t.lJ4(9,ae)),t.R7$(),t.SpI(" ",t.bMT(9,7,null!=n.infoSchool&&n.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),t.R7$(2),t.Y8G("ngIf",!(null!=n.infoSchool&&n.infoSchool.name))}}function hn(e,s){if(1&e&&(t.j41(0,"div",58)(1,"label",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",60),t.nrm(5,"input",61),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_thong_tin_truong")),t.R7$(3),t.FS9("value",n.dataStudent.schoolName)}}function fn(e,s){1&e&&(t.j41(0,"div",65)(1,"div"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_account_general_require_grade_subject"),""))}function vn(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",66)(2,"label",59),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",60),t.nrm(6,"input",61),t.j41(7,"button",67),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.openSelectGradeSubjectDialog())}),t.nrm(8,"lucide-icon",63),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,fn,4,3,"div",64),t.k0s(),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,5,"lang_auto_chon_khoi_day_mon_day")),t.R7$(3),t.FS9("value",n.classroomGradeDesc.join(", ")),t.R7$(2),t.Y8G("ngClass",t.lJ4(9,ae)),t.R7$(),t.SpI(" ",t.bMT(10,7,n.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),t.R7$(2),t.Y8G("ngIf",!n.classroomGradeDesc.length)}}function bn(e,s){1&e&&t.nrm(0,"azt-loading-ui",68)}function kn(e,s){if(1&e){const n=t.RV6();t.j41(0,"form",5)(1,"div",6)(2,"div",7),t.nrm(3,"azt-create-avatar",8),t.k0s(),t.j41(4,"azt-upload-image-cropper",9),t.bIt("uploadComplete",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.submitAvatar(a))}),t.j41(5,"div",10)(6,"div",11)(7,"button",12),t.nrm(8,"lucide-icon",13),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",14),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"div",15),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"div",16)(18,"div",17)(19,"label",18),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.nrm(22,"input",19),t.nI1(23,"mytranslate"),t.DNE(24,Ze,3,3,"div",20),t.k0s(),t.DNE(25,en,7,7,"div",21),t.j41(26,"div",17)(27,"label",22),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s(),t.j41(30,"mat-form-field",23)(31,"input",24),t.nI1(32,"mytranslate"),t.bIt("click",function(){t.eBV(n);const a=t.sdS(36);return t.Njj(a.open())}),t.k0s(),t.j41(33,"button",25),t.bIt("click",function(a){return t.eBV(n),t.sdS(36).open(),t.Njj(a.stopPropagation())}),t.nrm(34,"lucide-icon",26),t.k0s(),t.j41(35,"ngx-mat-datetime-picker",27,1)(37,"ngx-mat-datepicker-actions")(38,"button",28),t.EFF(39,"OK"),t.k0s()()()(),t.DNE(40,nn,3,3,"div",20),t.k0s(),t.j41(41,"div",17)(42,"label",29),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.DNE(45,on,1,0,"input",30)(46,an,2,3,"input",31)(47,rn,2,1,"div",32)(48,ln,3,3,"a",33),t.k0s(),t.j41(49,"div",17)(50,"label",29),t.EFF(51),t.nI1(52,"mytranslate"),t.k0s(),t.DNE(53,cn,1,0,"input",34)(54,_n,2,3,"input",35)(55,un,2,1,"div",32)(56,dn,3,3,"a",36),t.k0s(),t.j41(57,"div",17)(58,"label",29),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s(),t.j41(61,"div",37)(62,"div",38),t.nrm(63,"input",39),t.j41(64,"label",40),t.EFF(65),t.nI1(66,"mytranslate"),t.k0s()(),t.j41(67,"div",38),t.nrm(68,"input",41),t.j41(69,"label",42),t.EFF(70),t.nI1(71,"mytranslate"),t.k0s()()()(),t.DNE(72,gn,11,10,"div",43)(73,hn,6,4,"div",43)(74,vn,12,10,"ng-container",44),t.k0s(),t.j41(75,"div",45)(76,"button",46),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.parseInfoFieldForStudentObjsInExportExcel())}),t.DNE(77,bn,1,0,"azt-loading-ui",47),t.EFF(78),t.nI1(79,"mytranslate"),t.k0s()()()}if(2&e){const n=t.sdS(36),o=t.XpG();t.Y8G("formGroup",o.form),t.R7$(3),t.Y8G("linkAvatar",null==o.userObj?null:o.userObj.avatar)("nameCreateAvatar",null==o.userObj?null:o.userObj.fullName)("size",96),t.R7$(),t.Y8G("uploadToCdnMenu",o.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(67,He,o.allUploadFileTypes.IMAGE))("limitSize",o.limitSize),t.R7$(4),t.Y8G("ngClass",t.lJ4(69,ae)),t.R7$(),t.SpI(" ",t.bMT(10,41,"lang_auto_tai_len")," "),t.R7$(3),t.SpI(" ",t.bMT(13,43,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),t.R7$(3),t.JRh(t.bMT(16,45,"lang_auto_cap_nhat_anh_dai_dien")),t.R7$(5),t.SpI(" ",t.bMT(21,47,"lang_auto_ho_va_ten")," "),t.R7$(2),t.FS9("placeholder",t.bMT(23,49,"lang_auto_nhap_ho_va_ten")+"..."),t.R7$(2),t.Y8G("ngIf",o.form.controls.fullName.errors),t.R7$(),t.Y8G("ngIf",!o.isTqbDomain),t.R7$(3),t.JRh(t.bMT(29,51,"lang_auto_ngay_sinh")),t.R7$(3),t.FS9("placeholder",t.bMT(32,53,"lang_auto_ngay_sinh")),t.Y8G("max",o.maxDate)("ngxMatDatetimePicker",n),t.R7$(4),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(5),t.Y8G("ngIf",o.form.controls.birthday.errors),t.R7$(3),t.SpI(" ",t.bMT(44,55,"lang_auto_email")," "),t.R7$(2),t.Y8G("ngIf",null==o.userObj?null:o.userObj.email),t.R7$(),t.Y8G("ngIf",!(null!=o.userObj&&o.userObj.email)),t.R7$(),t.Y8G("ngIf",o.form.controls.email.invalid&&o.form.controls.email.dirty),t.R7$(),t.Y8G("ngIf",(null==o.userObj?null:o.userObj.email)&&!o.isBusinessDomain),t.R7$(3),t.SpI(" ",t.bMT(52,57,"lang_auto_so_dien_thoai")," "),t.R7$(2),t.Y8G("ngIf",null==o.userObj?null:o.userObj.phone),t.R7$(),t.Y8G("ngIf",!(null!=o.userObj&&o.userObj.phone)),t.R7$(),t.Y8G("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),t.R7$(),t.Y8G("ngIf",(null==o.userObj?null:o.userObj.phone)&&!o.isBusinessDomain),t.R7$(3),t.SpI(" ",t.bMT(60,59,"lang_auto_gioi_tinh")," "),t.R7$(6),t.SpI(" ",t.bMT(66,61,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(71,63,"lang_auto_nu")," "),t.R7$(2),t.Y8G("ngIf",!o.dataStudent),t.R7$(),t.Y8G("ngIf",o.dataStudent),t.R7$(),t.Y8G("ngIf",o.isTeacherDashboard),t.R7$(2),t.Y8G("disabled",!o.form.valid||!(null!=o.infoSchool&&o.infoSchool.name)||o.isTeacherDashboard&&!o.classroomGradeDesc.length),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(79,65,"lang_auto_cap_nhat")," ")}}let yn=(()=>{var e;class s extends S.H{openSelectGradeSubjectDialog(){this.sAztDialogService.open(Ue,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.multiChooseLevelSubjectService.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.multiChooseLevelSubjectService.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&r.classroomIds.length&&r.classroomDescs.length?(this.classroomGradePathValue=r.classroomIds,this.classroomGradeDesc=r.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(o=>{1==o.success?(this.multiChooseLevelSubjectService.processDataSchoolAndLevel(o.data?.schoolLevelSubjectObjs??[]),this.checkSurveySubmitted()):this.errorStatusObj(o.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(o=>{o&&1==o.success?((o.data?.objs??[]).forEach(r=>{let l=this.multiChooseLevelSubjectService.valueSurvey.find(m=>m.value==r.classId);if(l){l.value&&l.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,l.value)&&(this.classroomGradePathValue.push(l.value),this.classroomGradeDesc.push(l.desc));let m=this.dataObjs.filter(g=>g.class?.value==l?.value);m&&m.length?this.dataObjs.forEach(g=>{g.class?.value==l?.value&&r.subjectId&&g.subjectsIds?.push(r.subjectId)},this.dataObjs):this.dataObjs.push({class:l,subjectsIds:r.subjectId?[r.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}submitAvatar(o){this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:o.url??""}).subscribe(r=>{1==r.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)}))}openDialogInfoSchool(){this.sAztDialogService.open(Ne,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&(this.infoSchool=a)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(o=>{this.infoSchool=o.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let o=this.getFormValue(),a=this.userObj?.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),r=o.birthday?o.birthday:a.toString(),l={fullName:o.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(r),gender:Number(o.gender)??0,email:o.email,phone:o.phone};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(l).subscribe(m=>{1==m.success?(m.data&&(this.saveUserObj.emit(m.data),this.userObj=m.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(m.message??"",!0)}))}}initData(){let o=this.userObj?.birthday?this.userObj.birthday:"";this.isTqbDomain&&!this.isTeacherDashboard?this.getStudentInfo():(this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",userName:this.userObj?.userName??"",email:this.userObj?.email??"",phone:this.userObj?.phone??"",gender:1!=this.userObj?.gender?"0":"1"}),this.form.controls.birthday.setValue(o.toString()))}getStudentInfo(){this.waitDestroy(this.frontPageStudentService.apiFrontPageStudentGetExamObjsInDashboardGet().subscribe(o=>{const a=o.data?.objs??[];a.length&&this.getStudent(a[0]?.classroomObj?.id)}))}getStudent(o){o&&this.waitDestroy(this.commonService.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:50,name:"",programId:0,classroomId:o,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!0,getAssessment:!1})).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);if(this.dataStudent=r.data?.list?.[0],!this.dataStudent)return;let l=this.dataStudent?.birthday?this.dataStudent.birthday:"";this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",userName:this.dataStudent?.parentUserName??this.userObj?.userName??"",email:this.dataStudent?.email??"",phone:this.dataStudent?.phone??"",gender:1!=this.dataStudent?.gender?"0":"1",birthday:l.toString()}),this.stopStatusObj()}))}getFormValue(){return this.form.getRawValue()}getErrorType(o,a){return!!this.form.controls?.[o]?.errors?.[a]&&this.form.controls?.[o]?.errors?.[a]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var o="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/confirm_account",o)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var o="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",o)}checkEnableChangeEmailOrPhone(o,a){if("email"==a){if(!o||!o.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==a&&(!o||o.length>15))return!0;return!1}ngOnInit(){this.userObj?.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj?.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(o,a,r,l,m,g,T,F,$,Q){super(),this.userInfoService=o,this.userService=a,this.timeService=r,this.sAztDialogService=l,this.schoolConfigService=m,this.surveyConfigService=g,this.commonListService=T,this.multiChooseLevelSubjectService=F,this.frontPageStudentService=$,this.studentService=Q,this.isTeacherDashboard=!1,this.saveUserObj=new t.bkB,this.returnUrl="",this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1,this.maxDate=j.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=Dt.b8,this.allUploadFileTypes=Dt.PO,this.limitSize=5,this.userObj=this.userService.getUserObj(),this.form=new i.gE({fullName:new i.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace]}),userName:new i.MJ({value:"",disabled:!0},{nonNullable:!0,validators:[tt.M.noWhiteSpace]}),gender:new i.MJ({value:"",disabled:!!this.userObj?.isParentViewOnly},{nonNullable:!0}),birthday:new i.MJ({value:"",disabled:!!this.userObj?.isParentViewOnly},{nonNullable:!0,validators:[i.k0.required]}),phone:new i.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[i.k0.pattern("^[0-9]{10}$")]}),email:new i.MJ({value:"",disabled:!(!this.userObj?.isParentViewOnly&&!this.userObj?.createdBy)},{nonNullable:!0,validators:[i.k0.email,i.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.fv),t.rXU(H.R),t.rXU(bt.F),t.rXU(nt.i),t.rXU(k.C1),t.rXU(k.K0),t.rXU(E.Nz),t.rXU(Qe.Y),t.rXU(Xe.Hx),t.rXU(qe.b0))},e.\u0275cmp=t.VBU({type:e,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[t.Jv_([u.vh,{provide:lt.$O,useClass:Lt.fb,deps:[vt.Ju,Lt.ij]},{provide:lt.vq,useFactory:ee.fJ,deps:[bt.F]},{provide:ct.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:4,vars:3,consts:[["doneLoad",""],["birthDay",""],[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[3,"uploadComplete","uploadToCdnMenu","fileType","limitSize"],["body","",1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary"],["name","upload","size","16",3,"ngClass"],[1,"text-slate-500","mt-1","text-xs"],["header","",1,"font-medium","text-base","mr-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["class","col-span-12 lg:col-span-6",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["class","mt-1 text-xs","style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],["class","col-span-12",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["for","azt-acs-username",1,"form-label","font-medium"],["id","azt-acs-username","type","text","formControlName","userName",1,"form-control",3,"placeholder"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[1,"mt-1","text-xs",2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["name","square-pen","size","16",3,"ngClass"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],[1,"mr-1"]],template:function(o,a){if(1&o&&(t.j41(0,"div",2),t.DNE(1,Ke,1,1,"azt-loading-effect",3)(2,kn,80,70,"ng-template",null,0,t.C5r),t.k0s()),2&o){const r=t.sdS(3);t.BMQ("style",a.isMobileWebView?"transform: none !important; animation: none":"",t.$dS),t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.YU,u.bT,i.qT,i.me,i.Fm,i.BC,i.cb,Bt.$z,We.fg,ct.rl,ct.yw,lt.m7,lt.yF,lt.HF,lt.Uq,i.j4,i.JD,N.K,oe.p,W.t,x.R,Je.y,y.WGl,d.wp],encapsulation:2}),s})();const de=()=>({"dark:text-slate-500":!0});function Cn(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function In(e,s){if(1&e&&(t.j41(0,"div",18),t.DNE(1,Cn,3,3,"span",19),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.form.controls.oldPassword.errors.required)}}function Sn(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function xn(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Rn(e,s){if(1&e&&(t.j41(0,"div",18),t.DNE(1,Sn,3,3,"span",19)(2,xn,3,3,"span",19),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.form.controls.newPassword.errors.required),t.R7$(),t.Y8G("ngIf",n.form.controls.newPassword.errors.minlength)}}function Tn(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",20),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.forgotPassword())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_quen_mat_khau")))}function wn(e,s){1&e&&t.nrm(0,"azt-loading-ui",21)}let jn=(()=>{var e;class s extends S.H{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let o=this.getFormValue(),a={password:o.newPassword,oldPassword:o.oldPassword};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(a).subscribe(r=>{1==r.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(r.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let o=this.commonService.getMyParam(this.activeRoute,"roleType"),a=this.commonService.getMyParam(this.activeRoute,"modeType");var r="?return_url="+encodeURIComponent(`/auth/account-setting/${o}/${a}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",r)}getFormValue(){return this.form.getRawValue()}constructor(o,a){super(),this.userInfoService=o,this.activeRoute=a,this.showPasswordOld=!1,this.showPasswordNew=!1,this.form=new i.gE({oldPassword:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),newPassword:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,i.k0.minLength(6)]})})}ngOnInit(){}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.fv),t.rXU(_.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["setting-password"]],features:[t.Vt3],decls:32,vars:32,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_","class","text-primary font-medium inline-block mr-auto",3,"click",4,"ngIf"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],[1,"mr-1"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",5),t.nrm(8,"input",6),t.nI1(9,"mytranslate"),t.j41(10,"button",7),t.bIt("click",function(){return a.togglePasswordOld()}),t.nrm(11,"lucide-icon",8),t.k0s()(),t.j41(12,"div",9),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.DNE(15,In,2,1,"div",10),t.k0s(),t.j41(16,"div",3)(17,"label",11),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",5),t.nrm(21,"input",12),t.nI1(22,"mytranslate"),t.j41(23,"button",13),t.bIt("click",function(){return a.togglePasswordNew()}),t.nrm(24,"lucide-icon",8),t.k0s()(),t.DNE(25,Rn,3,2,"div",10),t.k0s()(),t.j41(26,"div",14),t.DNE(27,Tn,3,3,"a",15),t.j41(28,"button",16),t.bIt("click",function(){return a.parseInfoFieldForStudentObjsInExportExcel()}),t.DNE(29,wn,1,0,"azt-loading-ui",17),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()),2&o&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(4),t.SpI(" ",t.bMT(6,18,"lang_auto_mat_khau_hien_tai")," "),t.R7$(3),t.FS9("placeholder",t.bMT(9,20,"lang_auto_nhap_mat_khau")+"..."),t.Y8G("type",a.showPasswordOld?"text":"password"),t.R7$(3),t.Y8G("name",a.showPasswordOld?"eye":"eye-off")("ngClass",t.lJ4(30,de)),t.R7$(2),t.SpI(" ",t.bMT(14,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),t.R7$(2),t.Y8G("ngIf",a.form.controls.oldPassword.errors&&(a.form.controls.oldPassword.dirty||a.form.controls.oldPassword.touched)),t.R7$(3),t.JRh(t.bMT(19,24,"lang_auto_mat_khau_moi")),t.R7$(3),t.FS9("placeholder",t.bMT(22,26,"lang_auto_nhap_mat_khau")+"..."),t.Y8G("type",a.showPasswordNew?"text":"password"),t.R7$(3),t.Y8G("name",a.showPasswordNew?"eye":"eye-off")("ngClass",t.lJ4(31,de)),t.R7$(),t.Y8G("ngIf",a.form.controls.newPassword.errors&&(a.form.controls.newPassword.dirty||a.form.controls.newPassword.touched)),t.R7$(2),t.Y8G("ngIf",!a.isBusinessDomain),t.R7$(),t.Y8G("disabled",a.form.invalid),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(31,28,"lang_auto_cap_nhat")," "))},dependencies:[u.YU,u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,W.t,x.R,y.WGl,d.wp],encapsulation:2}),s})();var Fn=c(23356);function En(e,s){if(1&e&&(t.j41(0,"option",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=s.$implicit,o=t.XpG();t.Y8G("value",n)("selected",n==o.form.controls.dateFormat.value),t.R7$(),t.Lme(" ",n," - ",t.bMT(2,4,"lang_auth_user_setting_unit_"+n)," ")}}function On(e,s){1&e&&t.nrm(0,"azt-loading-ui",11)}let Gn=(()=>{var e;class s extends S.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(a=>{1==a.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(a.message??"",!0)}))}constructor(o,a,r){super(),this.timeService=o,this.userUnitService=a,this.configService=r,this.form=new i.gE({dateFormat:new i.MJ("",[i.k0.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var o=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(o??null)}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(bt.F),t.rXU(k.lV),t.rXU(Fn.u))},e.\u0275cmp=t.VBU({type:e,selectors:[["setting-unit"]],features:[t.Vt3],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[3,"value","selected"],[1,"mr-1"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"select",5),t.DNE(8,En,3,6,"option",6),t.k0s()()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){return a.saveUnitObj()}),t.DNE(11,On,1,0,"azt-loading-ui",9),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()()),2&o&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(4),t.SpI(" ",t.bMT(6,5,"lang_auth_user_setting_unit_format_date")," "),t.R7$(3),t.Y8G("ngForOf",a.formatDataObjs),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[u.Sq,u.bT,i.qT,i.xH,i.y7,i.wz,i.BC,i.cb,i.j4,i.JD,W.t,x.R,d.wp],encapsulation:2}),s})();var Mn=c(42657),Nt=c(74978),Tt=c(50589),pe=c(21713),rt=c(45269);const Pn=e=>[e],$n=()=>({backTo:"/auth/account-setting/0/3?tab=0"}),An=()=>({"flex-none":!0});function zn(e,s){if(1&e&&(t.j41(0,"div",3),t.nrm(1,"azt-loading-effect",4),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("currentStatusObj",n.statusObj)}}function Ln(e,s){if(1&e&&(t.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"p",14),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"a",15),t.nI1(8,"navigationLocalize"),t.j41(9,"b"),t.EFF(10),t.k0s()()(),t.j41(11,"div",16)(12,"p",17),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"div",18),t.nrm(16,"azt-create-avatar",19),t.j41(17,"div",20)(18,"div",21),t.EFF(19),t.k0s()()()(),t.j41(20,"p",22),t.EFF(21),t.nI1(22,"mytranslate"),t.j41(23,"b"),t.EFF(24),t.nI1(25,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()(),t.j41(26,"div",23)(27,"b",24),t.EFF(28),t.nI1(29,"number"),t.k0s()()()()()),2&e){let n;const o=s.$implicit;t.R7$(5),t.SpI(" ",t.bMT(6,13,"lang_auto_de_thi"),": "),t.R7$(2),t.Y8G("routerLink",t.eq3(25,Pn,t.bMT(8,15,"/admin/testbank/exam-results-list/"+(null!==(n=o.examCategoryId)&&void 0!==n?n:0)+"/"+o.examId+"/0")))("queryParams",t.lJ4(27,$n)),t.R7$(3),t.JRh(o.examName),t.R7$(3),t.SpI("",t.bMT(14,17,"lang_history_sold_exam_relative_user"),":"),t.R7$(3),t.Y8G("nameCreateAvatar",o.relativeName)("size",32)("showTooltip",!1)("linkAvatar",o.relativeAvatar),t.R7$(3),t.SpI(" ",o.relativeName," "),t.R7$(2),t.SpI(" ",t.bMT(22,19,"lang_history_sold_exam_create_at"),": "),t.R7$(3),t.JRh(t.bMT(25,21,o.createdAt)),t.R7$(4),t.SpI("",t.bMT(29,23,o.money),"\u0111")}}function Dn(e,s){if(1&e&&(t.j41(0,"drag-scroll",8),t.DNE(1,Ln,30,28,"div",9),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.examHistorySoldObjs)}}function Bn(e,s){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_withdraw_not_have_history_sold_exam")," "))}function Nn(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",26)(1,"button",27),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.getExamSoldHistory())}),t.j41(2,"span",28),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",29),t.k0s()()}2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,2,"lang_auto_xem_them")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(4,An)))}function Vn(e,s){if(1&e&&(t.j41(0,"div",3),t.DNE(1,Dn,2,1,"drag-scroll",5)(2,Bn,3,3,"div",6),t.k0s(),t.DNE(3,Nn,6,5,"div",7)),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",0!=n.examHistorySoldObjs.length),t.R7$(),t.Y8G("ngIf",0==n.examHistorySoldObjs.length),t.R7$(),t.Y8G("ngIf",n.nextPage)}}let Yn=(()=>{var e;class s extends S.H{getExamSoldHistory(){this.initStatusObj(),this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetObjsGet(this.nextPage).subscribe(o=>{o.success?(this.examHistorySoldObjs=o.data?.objs??[],this.nextPage=o.data?.nextPage??void 0,this.totalSoldExam=o.data?.total??0,this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,A.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getExamSoldHistory()}))}constructor(o,a){super(),this.activeRoute=o,this.examPaymentHistoryService=a,this.nextPage="",this.examHistorySoldObjs=[],this.totalSoldExam=0}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(_.nX),t.rXU(rt.hl))},e.\u0275cmp=t.VBU({type:e,selectors:[["view-exam-sold-history"]],features:[t.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],["class","col-span-12 flex flex-wrap sm:flex-row sm:flex-nowrap items-center",4,"ngIf"],[2,"height","100%"],["class","pb-2",4,"ngFor","ngForOf"],[1,"pb-2"],[1,"box","p-2"],[1,"flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2",2,"white-space","normal"],[3,"routerLink","queryParams"],[1,"mt-2","flex"],[1,"flex",2,"align-items","center"],[1,"dropdown-toggle","w-full","h-10","rounded-full","flex","trigger-menu","ml-2",2,"align-items","center"],[3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"px-2"],[1,"font-medium"],[1,"mt-2"],[1,"font-medium","md:flex","text-xs"],[1,"p-2","bg-success","text-white",2,"border-radius","10px"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"btn","btn-outline-secondary","btn-transparent","mt-2","mx-auto",3,"click"],[1,"mr-2"],["name","chevron-down","size","20",3,"ngClass"]],template:function(o,a){if(1&o&&(t.j41(0,"div",1),t.DNE(1,zn,2,1,"div",2)(2,Vn,4,3,"ng-template",null,0,t.C5r),t.k0s()),2&o){const r=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[_.Wk,u.YU,u.Sq,u.bT,N.K,oe.p,y.WGl,v.jd,u.QX,d.F2,d.wp,d.bH],encapsulation:2}),s})();var Un=c(65106),Qn=c(25539),ge=c(37497),Xn=c(50282),ie=c(29660),he=c(78472),wt=c(30683),_t=c(94743);const qn=e=>({"mt-2 sm:mt-0":e}),Wn=e=>({"azt-text-primary":e}),fe=()=>({"mr-2 text-slate-600 dark:text-slate-500 flex-none":!0}),ve=()=>({"mr-2 text-slate-600 dark:text-slate-500":!0}),Jn=e=>({"azt-text-primary azt-font-bold":e});function Hn(e,s){if(1&e&&(t.j41(0,"div",31),t.nrm(1,"input",32),t.j41(2,"label",33),t.EFF(3),t.k0s()()),2&e){let n;const o=s.$implicit,a=s.index,r=t.XpG();t.Y8G("ngClass",t.eq3(5,qn,0!==a)),t.R7$(),t.FS9("id","tag_"+o.id),t.FS9("value",o.id),t.R7$(),t.FS9("for","tag_"+o.id),t.R7$(),t.SpI(" ",null!==(n=o[r.commonService.getCurrentLang()+"Name"])&&void 0!==n?n:o.enName," ")}}function Kn(e,s){if(1&e&&(t.j41(0,"option",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=s.$implicit,o=t.XpG();t.Y8G("value",null==n.schoolLevel?null:n.schoolLevel.id)("selected",(null==n.schoolLevel?null:n.schoolLevel.id)==o.form.controls.schoolLevel.value),t.R7$(),t.SpI(" ",t.bMT(2,3,null==n.schoolLevel?null:n.schoolLevel.key)," ")}}function Zn(e,s){if(1&e&&(t.j41(0,"option",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=s.$implicit,o=t.XpG();t.Y8G("value",n.id)("selected",n.id==o.form.controls.schoolSubject.value),t.R7$(),t.SpI(" ",t.bMT(2,3,n.key)," ")}}function to(e,s){1&e&&(t.qex(0),t.j41(1,"div",37)(2,"span",38),t.nrm(3,"azt-loading-ui"),t.k0s()(),t.bVm())}function eo(e,s){1&e&&(t.j41(0,"span",47),t.nrm(1,"lucide-icon",48),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,fe)))}function no(e,s){if(1&e){const n=t.RV6();t.qex(0),t.DNE(1,eo,2,2,"span",45),t.j41(2,"span",46),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(4);return t.Njj(r.onPressNode(a))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",n.isLeaf),t.R7$(2),t.SpI(" ",t.bMT(4,2,n.item)," ")}}function oo(e,s){if(1&e){const n=t.RV6();t.j41(0,"span",49),t.nrm(1,"lucide-icon",50),t.k0s(),t.j41(2,"string",51),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(4);return t.Njj(r.onPressNode(a))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngClass",t.lJ4(4,ve)),t.R7$(2),t.SpI(" ",t.bMT(4,2,n.item)," ")}}function ao(e,s){if(1&e&&(t.j41(0,"mat-tree-node",43),t.nrm(1,"button",44),t.DNE(2,no,5,4,"ng-container",36)(3,oo,5,5,"ng-template",null,2,t.C5r),t.k0s()),2&e){const n=s.$implicit,o=t.sdS(4),a=t.XpG(4);t.Y8G("ngClass",t.eq3(3,Wn,a.form.controls.classifyMaterials.value==n.id)),t.R7$(2),t.Y8G("ngIf",n.isLeaf)("ngIfElse",o)}}function io(e,s){if(1&e&&(t.j41(0,"button",54),t.nrm(1,"lucide-icon",55),t.k0s()),2&e){const n=t.XpG().$implicit,o=t.XpG(4);t.BMQ("aria-label","Toggle "+n.item),t.R7$(),t.Y8G("name",o.treeControl.isExpanded(n)?"chevron-down":"chevron-right")}}function so(e,s){1&e&&(t.j41(0,"span",47),t.nrm(1,"lucide-icon",48),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,fe)))}function ro(e,s){if(1&e){const n=t.RV6();t.qex(0),t.DNE(1,so,2,2,"span",45),t.j41(2,"span",56),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(4);return t.Njj(r.onPressNode(a))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",n.isLeaf),t.R7$(2),t.SpI(" ",t.bMT(4,2,n.item)," ")}}function lo(e,s){if(1&e){const n=t.RV6();t.j41(0,"span",49),t.nrm(1,"lucide-icon",50),t.k0s(),t.j41(2,"span",57),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(4);return t.Njj(r.onPressNode(a))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngClass",t.lJ4(4,ve)),t.R7$(2),t.SpI(" ",t.bMT(4,2,n.item)," ")}}function co(e,s){1&e&&t.nrm(0,"azt-loading-ui",58)}function _o(e,s){if(1&e&&(t.j41(0,"mat-tree-node",43),t.DNE(1,io,2,2,"button",52)(2,ro,5,4,"ng-container",36)(3,lo,5,5,"ng-template",null,3,t.C5r)(5,co,1,0,"azt-loading-ui",53),t.k0s()),2&e){const n=s.$implicit,o=t.sdS(4),a=t.XpG(4);t.Y8G("ngClass",t.eq3(5,Jn,a.form.controls.classifyMaterials.value==n.id)),t.R7$(),t.Y8G("ngIf",!n.isLeaf),t.R7$(),t.Y8G("ngIf",n.isLeaf)("ngIfElse",o),t.R7$(3),t.Y8G("ngIf",n.isLoading)}}function mo(e,s){if(1&e&&(t.qex(0),t.j41(1,"mat-tree",40),t.DNE(2,ao,5,5,"mat-tree-node",41)(3,_o,6,7,"mat-tree-node",42),t.k0s(),t.bVm()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("dataSource",n.dataSource)("treeControl",n.treeControl),t.R7$(2),t.Y8G("matTreeNodeDefWhen",n.hasChild)}}function uo(e,s){1&e&&(t.j41(0,"div",37)(1,"div",59),t.nrm(2,"azt-svg-icon",60),t.j41(3,"p",61),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(2),t.Y8G("size",84),t.R7$(2),t.SpI(" ",t.bMT(5,2,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function po(e,s){if(1&e&&(t.j41(0,"ng-scrollbar",39),t.DNE(1,mo,4,3,"ng-container",36)(2,uo,6,4,"ng-template",null,1,t.C5r),t.k0s()),2&e){const n=t.sdS(3),o=t.XpG(2);t.Y8G("visibility","hover"),t.R7$(),t.Y8G("ngIf",o.dataSource.data.length)("ngIfElse",n)}}function go(e,s){if(1&e&&(t.j41(0,"div",16)(1,"div",35),t.DNE(2,to,4,0,"ng-container",36)(3,po,4,3,"ng-template",null,0,t.C5r),t.k0s()()),2&e){const n=t.sdS(4),o=t.XpG();t.R7$(2),t.Y8G("ngIf",o.loadingUnitSubject)("ngIfElse",n)}}function ho(e,s){1&e&&t.nrm(0,"azt-loading-ui",62)}let fo=(()=>{var e;class s extends z._{handleCloseDialog(){this.dialogRef.close()}initData(o){let a=this.form.controls.schoolLevel.value,r=this.form.controls.schoolSubject.value;this.dataSource=new ie.d1(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!o?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(a,r).then(l=>{if(this.dataSource.data=l,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let m=this.data.questionShared?.knowledgeParentIds;for(let g=0;g<m.length;g++)(T=>{setTimeout(()=>{let F=this.dataSource.getNode(m[g]);F&&this.treeControl.expand(F)},500*g)})()}this.loadingUnitSubject=!1}))}onPressNode(o){if(o){if(o.isLeaf){let a=this.commonService.myClone(o);for(this.breadcrumbs=[a];a.prNode;)if(this.breadcrumbs.unshift(a.prNode),a=a.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(o)}}else this.breadcrumbs=[]}chooseLeafFolder(o){o.isLeaf?this.form.controls.classifyMaterials.setValue(o.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.initStatusObj();let o={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},a={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(o.questionId??0,o).subscribe(r=>{r.success?1==r.data?.status&&(this.dialogRef.close(a),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(r.message??"",!0)}))}patchValueForm(){let o=12,a=40,r=1,l=0;this.data.configShareQuestionLog.classifyMaterials?(r=this.data.configShareQuestionLog.awarenessLevel??1,o=this.data.configShareQuestionLog.schoolLevel??12,a=this.data.configShareQuestionLog.schoolSubject??40,l=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(o=this.data.questionShared.levelId??12,a=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(r=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(o),this.form.controls.awarenessLevel.setValue(r),this.form.controls.schoolLevel.setValue(o),this.form.controls.schoolSubject.setValue(a),this.form.controls.classifyMaterials.setValue(l),this.initData()}filterSchoolSubject(o){if(this.form.controls.classifyMaterials.setValue(0),0==this.subjectSelectedList.length)this.filterSubject(o??1);else{let a=!1;for(let r=0;r<this.subjectSelectedList.length;r++)o&&(o<(this.subjectSelectedList[r].from??0)||o>(this.subjectSelectedList[r].to??0))&&(a=!0);a&&(this.filterSubject(o??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(o){this.subjectSelectedList=this.data.schoolLevelAndSubjectObjs.find(a=>a.schoolLevel?.id==o)?.schoolSubjectObjs??[]}ngOnInit(){super.ngOnInit(),this.patchValueForm()}constructor(o,a,r,l,m){super(m,l),this.documentConfigService=o,this.database=a,this.testMarketQuestionService=r,this.dialogRef=l,this.data=m,this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=g=>g.level,this.isExpandable=g=>g.expandable,this.hasChild=(g,T)=>T.expandable,this.treeControl=new Xn.XW(this.getLevel,this.isExpandable),this.dataSource=new ie.d1(this.treeControl,a),this.form=new i.gE({awarenessLevel:new i.MJ(1,{nonNullable:!0}),schoolLevel:new i.MJ(0,{nonNullable:!0}),schoolSubject:new i.MJ(0,{nonNullable:!0}),classifyMaterials:new i.MJ(0,{nonNullable:!0})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(he.x_),t.rXU(ie._8),t.rXU(Nt.e2),t.rXU(f.CP,8),t.rXU(f.Vh))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-edit-share-question"]],features:[t.Vt3],decls:53,vars:37,consts:[["doneLoading",""],["noDataSource",""],["notIsLeaf",""],["notIsLeafChild",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],["name","file-text","size","24",3,"ngClass"],["matTreeNodeToggle","",1,"cursor-pointer"],["name","folder","size","24",3,"ngClass"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["class","ml-3",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],["size","20",3,"name"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"ml-3"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[1,"mr-1"]],template:function(o,a){1&o&&(t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h3",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()(),t.j41(6,"div",5)(7,"div",8)(8,"form",9)(9,"div",10)(10,"div",11)(11,"div",12)(12,"label",13),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"div",14),t.DNE(16,Hn,4,7,"div",15),t.k0s()(),t.j41(17,"div",16)(18,"label",13),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"label",21),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"select",22),t.bIt("change",function(){return a.filterSchoolSubject(a.form.controls.schoolLevel.value)}),t.j41(29,"option",23),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.DNE(32,Kn,3,5,"option",24),t.k0s()()(),t.j41(33,"div",19)(34,"div",20)(35,"label",21),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s(),t.j41(38,"select",25),t.bIt("change",function(){return a.initData("change")}),t.j41(39,"option",23),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s(),t.DNE(42,Zn,3,5,"option",24),t.k0s()()()()()()(),t.j41(43,"div",11),t.DNE(44,go,5,2,"div",26),t.k0s()()()()(),t.j41(45,"div",27)(46,"button",28),t.bIt("click",function(){return a.handleCloseDialog()}),t.EFF(47),t.nI1(48,"mytranslate"),t.k0s(),t.j41(49,"button",29),t.bIt("click",function(){return a.confirmAction()}),t.DNE(50,ho,1,0,"azt-loading-ui",30),t.EFF(51),t.nI1(52,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(4),t.SpI(" ",t.bMT(5,19,"lang_test_market_edit_shared_question")," "),t.R7$(4),t.Y8G("formGroup",a.form),t.R7$(5),t.SpI(" ",t.bMT(14,21,"lang_auto_muc_do_nhan_biet")," "),t.R7$(3),t.Y8G("ngForOf",a.data.questionTags),t.R7$(3),t.SpI(" ",t.bMT(20,23,"lang_auto_don_vi_kien_thuc")," "),t.R7$(7),t.SpI(" ",t.bMT(27,25,"lang_auto_lop_hoc")," "),t.R7$(3),t.Y8G("selected",0==a.form.controls.schoolLevel.value),t.R7$(),t.SpI("",t.bMT(31,27,"lang_auto_---chon_khoi"),"---"),t.R7$(2),t.Y8G("ngForOf",a.data.schoolLevelAndSubjectObjs),t.R7$(4),t.SpI(" ",t.bMT(37,29,"lang_auto_mon_hoc")," "),t.R7$(2),t.BMQ("disabled",0==a.form.controls.schoolLevel.value?"":null),t.R7$(),t.Y8G("selected",0==a.form.controls.schoolSubject.value),t.R7$(),t.SpI("",t.bMT(41,31,"lang_auto_---chon_mon"),"---"),t.R7$(2),t.Y8G("ngForOf",a.subjectSelectedList),t.R7$(2),t.Y8G("ngIf",0!=a.form.controls.schoolSubject.value),t.R7$(3),t.SpI(" ",t.bMT(48,33,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",a.statusObj.loading||!a.form.controls.classifyMaterials.value),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(52,35,"lang_auto_sua")," "))},dependencies:[u.YU,u.Sq,u.bT,i.qT,i.xH,i.y7,i.me,i.wz,i.Fm,i.BC,i.cb,Bt.iY,wt.yI,wt.yF,wt.pO,wt.lQ,wt.d6,i.j4,i.JD,W.t,x.R,_t.m,J.Yh,y.WGl,d.wp],encapsulation:2}),s})();var vo=c(50065),bo=c(10933),be=c(22613),ko=c(9570);const yo=e=>({"selected-border-box":e});function Co(e,s){if(1&e&&(t.j41(0,"div",3),t.nrm(1,"azt-loading-effect",4),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("currentStatusObj",n.statusObj)}}function Io(e,s){1&e&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_new")," "))}function So(e,s){1&e&&(t.j41(0,"span",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_approved")," "))}function xo(e,s){if(1&e&&(t.j41(0,"span",32),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_status_rejected"),"",n.rejectedReason?t.bMT(3,4," - "+n.rejectedReason):"","")}}function Ro(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",33),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.editQuestionShared(a))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_sua")," "))}function To(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){const a=t.eBV(n).index,r=t.XpG(3);return t.Njj(r.selected=a)}),t.j41(1,"div",14)(2,"div",15)(3,"p",16),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",17),t.nrm(7,"azt-dynamic-hook",18),t.k0s()(),t.j41(8,"div",19)(9,"div",20)(10,"p",21),t.EFF(11),t.nI1(12,"mytranslate"),t.DNE(13,Io,3,3,"span",22)(14,So,3,3,"span",23)(15,xo,4,6,"span",24),t.k0s(),t.j41(16,"p",21),t.EFF(17),t.nI1(18,"mytranslate"),t.j41(19,"b"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()(),t.j41(22,"p",21),t.EFF(23),t.nI1(24,"mytranslate"),t.j41(25,"b"),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()(),t.j41(28,"p",25),t.EFF(29),t.nI1(30,"mytranslate"),t.nI1(31,"mytranslate"),t.k0s()(),t.j41(32,"div",26)(33,"div",27)(34,"a",28),t.bIt("click",function(){const a=t.eBV(n).$implicit,r=t.XpG(3);return t.Njj(r.viewQuestionDetail(a))}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.DNE(37,Ro,3,3,"a",29),t.k0s()()()()()}if(2&e){let n;const o=s.$implicit,a=s.index,r=t.XpG(3);t.Y8G("ngClass",t.eq3(33,yo,a==r.selected)),t.R7$(4),t.SpI("",t.bMT(5,15,"lang_auto_cau_hoi"),":"),t.R7$(3),t.Y8G("content",null!==(n=null==o.question?null:o.question.content)&&void 0!==n?n:""),t.R7$(4),t.SpI(" ",t.bMT(12,17,"lang_auto_trang_thai"),": "),t.R7$(2),t.Y8G("ngIf","new"==o.status),t.R7$(),t.Y8G("ngIf","approved"==o.status),t.R7$(),t.Y8G("ngIf","rejected"==o.status),t.R7$(2),t.SpI(" ",t.bMT(18,19,"lang_auto_muc_do_nhan_biet"),": "),t.R7$(3),t.JRh(t.bMT(21,21,o.questionTagName)),t.R7$(3),t.SpI(" ",t.bMT(24,23,"lang_auto_don_vi_kien_thuc"),": "),t.R7$(3),t.JRh(t.bMT(27,25,o.knowledgeName)),t.R7$(3),t.Lme("",t.bMT(30,27,o.levelName)," - ",t.bMT(31,29,o.subjectName),""),t.R7$(6),t.SpI(" ",t.bMT(36,31,"lang_test_market_view_question")," "),t.R7$(2),t.Y8G("ngIf","approved"!=o.status)}}function wo(e,s){if(1&e&&(t.j41(0,"drag-scroll",11),t.DNE(1,To,38,35,"div",12),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.shareQuestionList)}}function jo(e,s){1&e&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_co_cau_hoi_nao")," "))}function Fo(e,s){if(1&e&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.SpI(" ",n.totalShareQuestion+" "+t.bMT(2,1,"lang_auto_cau_hoi")," ")}}function Eo(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",3),t.DNE(1,wo,2,1,"drag-scroll",5)(2,jo,3,3,"div",6),t.k0s(),t.j41(3,"div",7)(4,"div",8)(5,"azt-paging",9),t.bIt("goToPaginationPage",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.getData(a))}),t.k0s()(),t.DNE(6,Fo,3,3,"div",10),t.k0s()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",0!=n.totalShareQuestion),t.R7$(),t.Y8G("ngIf",0==n.totalShareQuestion),t.R7$(3),t.Y8G("pageObj",n.pageObj),t.R7$(),t.Y8G("ngIf",0!=n.totalShareQuestion)}}let Oo=(()=>{var e;class s extends S.H{editQuestionShared(o){this.sAztDialogService.open(fo,{width:"95vw",data:{questionShared:o,schoolLevelAndSubjectObjs:this.schoolLevelAndSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:o.levelId,schoolSubject:o.subjectId,awarenessLevel:o.questionTagId,questionId:o.questionId,classifyMaterials:o.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(r=>{if(r){let l=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=l??"",this.getData(this.pageObj.page)}})}viewQuestionDetail(o){this.sAztDialogService.open(vo._,{width:"700px",data:{obj:o},restoreFocus:!1}).afterClosed().subscribe(r=>{})}getData(o){this.initStatusObj(),this.pageObj.setPageNumber(o),this.selected=-1,this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,o,void 0).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.shareQuestionList=a.data?.objs??[];let r=a.data?.total??1;this.totalShareQuestion=r,this.pageObj.setTotalPages(r);let l=this.shareQuestionList.filter(m=>m.question).map(m=>m.question).filter(this.commonService.notEmpty);this.loadQuest(this.shareQuestionList,l,m=>{this.shareQuestionList=m,this.stopStatusObj()})}))}loadQuest(o,a,r){const l=this.commonService.castJsonToClassObjs(Qn.I,JSON.stringify(a));this.questionRenderService.parseRenderQuestions(l??[],m=>{},this.configRenderService).then(m=>{m.forEach(g=>{let T=o.find(F=>F.question?.id==g.id);T&&(T.question=this.commonService.castObj(g))}),r(o)}).catch(m=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),r(o)})}ngOnChanges(o){o.fillStatus&&!o.fillStatus.firstChange&&this.getData(1)}ngOnInit(){this.waitDestroy((0,A.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(o,a,r,l,m){super(),this.testMarketQuestionService=o,this.activeRoute=a,this.questionRenderService=r,this.browserStorageService=l,this.sAztDialogService=m,this.fillStatus="",this.shareQuestionList=[],this.configRenderService=new Un.y(!0),this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.schoolLevelAndSubjectObjs=[],this.questionTags=[],this.isWithDraw=!1,this.selected=-1,this.pageObj=new ge.d(10)}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(Nt.e2),t.rXU(_.nX),t.rXU(bo.g),t.rXU(Tt.z),t.rXU(nt.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["view-question-shared"]],inputs:{fillStatus:"fillStatus"},features:[t.Vt3,t.OA$],decls:4,vars:2,consts:[["doneLoading",""],[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],["class","w-20 mt-3 sm:mt-0",4,"ngIf"],[2,"height","100%"],["class","pb-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pb-2",3,"click","ngClass"],[1,"box","p-2"],[1,"px-2","pb-2","border-b","border-slate-300"],[2,"font-weight","450"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],[1,"mt-2","flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"mt-2",2,"font-weight","450"],[1,"font-medium","md:flex","text-xs"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(o,a){if(1&o&&(t.j41(0,"div",1),t.DNE(1,Co,2,1,"div",2)(2,Eo,7,4,"ng-template",null,0,t.C5r),t.k0s()),2&o){const r=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.YU,u.Sq,u.bT,N.K,be.q,ko.x,v.jd,d.wp],encapsulation:2}),s})();var ke=c(17818);const Vt=e=>({"bg-primary text-white no-hover":e}),Go=(e,s,n)=>({"bg-danger":e,"bg-success":s,"bg-warning":n});function Mo(e,s){if(1&e&&(t.j41(0,"div",13),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()),2&e){const n=t.XpG();t.Y8G("ngClass",t.sMw(8,Go,"rejected"==n.fillStatus,"approved"==n.fillStatus,"new"==n.fillStatus)),t.R7$(),t.SpI(" ","new"==n.fillStatus?t.bMT(2,2,"lang_status_new_icon"):"approved"==n.fillStatus?t.bMT(3,4,"lang_status_approved_icon"):t.bMT(4,6,"lang_status_rejected_icon")," ")}}let Po=(()=>{var e;class s extends S.H{filterStatus(o){this.fillStatus=o??"",this.changeFilterStatus.emit(o??"")}ngOnInit(){}constructor(){super(),this.fillStatus="",this.changeFilterStatus=new t.bkB}}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["filter-question-shared-status"]],inputs:{fillStatus:"fillStatus"},outputs:{changeFilterStatus:"changeFilterStatus"},features:[t.Vt3],decls:25,vars:26,consts:[["filterMenu","matMenu"],[1,"w-full","text-right"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","box","relative",3,"matMenuTriggerFor"],["name","filter","size","12"],["class","absolute text-white rounded-full font-bold","style","top: -5px; right: -5px; font-size: 7px; overflow: hidden; width: 15px; height: 15px; line-height: 15px; text-align: center",3,"ngClass",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"click","ngClass"],[1,"absolute","text-white","rounded-full","font-bold",2,"top","-5px","right","-5px","font-size","7px","overflow","hidden","width","15px","height","15px","line-height","15px","text-align","center",3,"ngClass"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"button",3),t.nrm(3,"lucide-icon",4),t.DNE(4,Mo,5,12,"div",5),t.k0s()(),t.j41(5,"mat-menu",6,0)(7,"div",7)(8,"ul",8)(9,"li")(10,"span",9),t.bIt("click",function(){return t.eBV(r),t.Njj(a.filterStatus(void 0))}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"li")(14,"span",10),t.bIt("click",function(){return t.eBV(r),t.Njj(a.filterStatus("new"))}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"li")(18,"span",11),t.bIt("click",function(){return t.eBV(r),t.Njj(a.filterStatus("approved"))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"li")(22,"span",12),t.bIt("click",function(){return t.eBV(r),t.Njj(a.filterStatus("rejected"))}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()()()()}if(2&o){const r=t.sdS(6);t.R7$(2),t.Y8G("matMenuTriggerFor",r),t.R7$(2),t.Y8G("ngIf",a.fillStatus),t.R7$(6),t.Y8G("ngClass",t.eq3(18,Vt,!a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(12,10,"lang_auto_tat_ca")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(20,Vt,"new"==a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(16,12,"lang_auto_status_new")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(22,Vt,"approved"==a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(20,14,"lang_auto_status_approved")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(24,Vt,"rejected"==a.fillStatus)),t.R7$(),t.SpI(" ",t.bMT(24,16,"lang_auto_status_rejected")," ")}},dependencies:[u.YU,u.bT,ke.kk,ke.Cp,y.WGl,d.wp],encapsulation:2}),s})();function $o(e,s){1&e&&t.nrm(0,"azt-loading-ui",10)}function Ao(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,n.totalShared),"")}}function zo(e,s){1&e&&t.nrm(0,"azt-loading-ui",10)}function Lo(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,n.totalSoldExam),"")}}let Do=(()=>{var e;class s extends S.H{withdrawBalance(){this.openWithdrawForm.emit(!0)}ngOnInit(){}constructor(){super(),this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0,this.totalShared=0,this.totalSoldExam=0,this.totalApproved=0,this.totalUsed=0,this.totalBalance=0,this.openWithdrawForm=new t.bkB}}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["withdraw-information"]],inputs:{loadingSoldExamCount:"loadingSoldExamCount",loadingSharedQuestionCount:"loadingSharedQuestionCount",totalShared:"totalShared",totalSoldExam:"totalSoldExam",totalApproved:"totalApproved",totalUsed:"totalUsed",totalBalance:"totalBalance"},outputs:{openWithdrawForm:"openWithdrawForm"},features:[t.Vt3],decls:38,vars:36,consts:[[1,"box","p-5","w-full"],[1,"justify-between","items-center",3,"ngClass"],[1,"text-md","items-center"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],[1,"text-md","items-center","mt-2"],[3,"ngClass"],[1,"text-md","items-center",3,"ngClass"],[1,"text-right",3,"ngClass"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md",3,"click","disabled"],["type","bootstrap-spinner",1,"loading-upload","mr-2"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"b"),t.DNE(7,$o,1,0,"azt-loading-ui",3)(8,Ao,3,3,"span",4),t.k0s()(),t.j41(9,"h3",5),t.EFF(10),t.nI1(11,"mytranslate"),t.j41(12,"b"),t.DNE(13,zo,1,0,"azt-loading-ui",3)(14,Lo,3,3,"span",4),t.k0s()()(),t.j41(15,"div",6)(16,"h3",2),t.EFF(17),t.nI1(18,"mytranslate"),t.j41(19,"b"),t.EFF(20),t.nI1(21,"number"),t.k0s()(),t.j41(22,"h3",5),t.EFF(23),t.nI1(24,"mytranslate"),t.j41(25,"b"),t.EFF(26),t.nI1(27,"number"),t.k0s()()(),t.j41(28,"h3",7),t.EFF(29),t.nI1(30,"mytranslate"),t.j41(31,"b"),t.EFF(32),t.nI1(33,"number"),t.k0s()(),t.j41(34,"div",8)(35,"button",9),t.bIt("click",function(){return a.withdrawBalance()}),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()),2&o&&(t.R7$(),t.Y8G("ngClass",a.isMobileDevice?"":"flex"),t.R7$(3),t.SpI(" ",t.bMT(5,18,"lang_test_market_total_questions_share")," "),t.R7$(3),t.Y8G("ngIf",a.loadingSharedQuestionCount),t.R7$(),t.Y8G("ngIf",!a.loadingSharedQuestionCount),t.R7$(2),t.SpI(" ",t.bMT(11,20,"lang_test_market_total_exam_sold")," "),t.R7$(3),t.Y8G("ngIf",a.loadingSoldExamCount),t.R7$(),t.Y8G("ngIf",!a.loadingSoldExamCount),t.R7$(),t.Y8G("ngClass",a.isMobileDevice?"mt-2":""),t.R7$(2),t.SpI(" ",t.bMT(18,22,"lang_test_market_total_questions_approve")," "),t.R7$(3),t.JRh(t.bMT(21,24,a.totalApproved)),t.R7$(3),t.SpI(" ",t.bMT(24,26,"lang_test_market_total_questions_used")," "),t.R7$(3),t.JRh(t.bMT(27,28,a.totalUsed)),t.R7$(2),t.Y8G("ngClass",a.isMobileDevice?"mt-2":""),t.R7$(),t.SpI(" ",t.bMT(30,30,"lang_test_market_total_balance")," "),t.R7$(3),t.SpI("",t.bMT(33,32,a.totalBalance),"\u0111"),t.R7$(2),t.Y8G("ngClass",a.isMobileDevice?"mt-2":""),t.R7$(),t.Y8G("disabled",!a.totalBalance),t.R7$(),t.SpI(" ",t.bMT(37,34,"lang_test_market_withdraw")," "))},dependencies:[u.YU,u.bT,x.R,u.QX,d.wp],encapsulation:2}),s})();const ye=e=>({"border-bottom-width.px":e}),Ce=e=>({"font-weight":e});function Bo(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function No(e,s){if(1&e){const n=t.RV6();t.j41(0,"withdraw-balance",7),t.bIt("closeRequest",function(a){t.eBV(n);const r=t.XpG(2);return t.Njj(r.closeRequest(a))}),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("transactionInfo",n.transactionInfo)("balanceUserInfo",n.balanceUserInfo)("totalBalance",n.totalBalance)}}function Vo(e,s){if(1&e){const n=t.RV6();t.j41(0,"filter-question-shared-status",18),t.bIt("changeFilterStatus",function(a){t.eBV(n);const r=t.XpG(3);return t.Njj(r.changeFilterStatus(a))}),t.k0s()}if(2&e){const n=t.XpG(3);t.Y8G("fillStatus",n.fillStatus)}}function Yo(e,s){1&e&&(t.qex(0),t.nrm(1,"view-exam-sold-history"),t.bVm())}function Uo(e,s){if(1&e&&(t.qex(0),t.nrm(1,"view-question-shared",19),t.bVm()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("fillStatus",n.fillStatus)}}function Qo(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"withdraw-information",8),t.bIt("openWithdrawForm",function(a){t.eBV(n);const r=t.XpG(2);return t.Njj(r.withdrawBalance(a))}),t.k0s(),t.j41(2,"div",9)(3,"div",10)(4,"div",11),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.onTabChanged(0))}),t.j41(5,"span",12),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",13)(9,"div",14),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.onTabChanged(1))}),t.j41(10,"div",15)(11,"span",16),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,Vo,1,1,"filter-question-shared-status",17),t.k0s()()()(),t.DNE(15,Yo,2,0,"ng-container",6)(16,Uo,2,1,"ng-container",6),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(),t.Y8G("loadingSoldExamCount",n.loadingSoldExamCount)("loadingSharedQuestionCount",n.loadingSharedQuestionCount)("totalShared",n.totalShared)("totalSoldExam",n.totalSoldExam)("totalApproved",n.totalApproved)("totalUsed",n.totalUsed)("totalBalance",n.totalBalance),t.R7$(3),t.Y8G("ngStyle",t.eq3(20,ye,0==n.selectedIndexTab?2:0)),t.R7$(),t.Y8G("ngStyle",t.eq3(22,Ce,0==n.selectedIndexTab?"500":"400")),t.R7$(),t.JRh(t.bMT(7,16,"lang_withdraw_history_sold_exam")),t.R7$(3),t.Y8G("ngStyle",t.eq3(24,ye,1==n.selectedIndexTab?2:0)),t.R7$(2),t.Y8G("ngStyle",t.eq3(26,Ce,1==n.selectedIndexTab?"500":"400")),t.R7$(),t.JRh(t.bMT(13,18,"lang_auto_danh_sach_cau_hoi_chia_se")),t.R7$(2),t.Y8G("ngIf",1==n.selectedIndexTab),t.R7$(),t.Y8G("ngIf",0==n.selectedIndexTab),t.R7$(),t.Y8G("ngIf",1==n.selectedIndexTab)}}function Xo(e,s){if(1&e&&(t.j41(0,"div",4),t.DNE(1,No,1,3,"withdraw-balance",5)(2,Qo,17,28,"ng-container",6),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.isWithDraw&&n.balanceUserInfo),t.R7$(),t.Y8G("ngIf",!n.isWithDraw)}}let qo=(()=>{var e;class s extends S.H{changeFilterStatus(o){this.fillStatus=o??"",this.browserStorageService.saveSimpleStorage("view_question_filter",o??"")}withdrawBalance(o){this.isWithDraw=!this.isWithDraw}closeRequest(o){if(o){let a=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),r=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${a}/${r}`,"?tab="+this.selectedIndexTab),this.isWithDraw=!1}else this.isWithDraw=!1}getBalanceQuestionShared(){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(o=>{o.success?(this.totalShared=o.data?.shared??0,this.totalUsed=o.data?.used??0,this.totalApproved=o.data?.approved??0,this.totalBalance=o.data?.balance??0,this.transactionInfo=o.data?.lastTransaction,this.balanceUserInfo=o.data,this.loadingSharedQuestionCount=!1,this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}getTotalSoldExam(){this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetTotalSoldGet().subscribe(o=>{o.success?(this.totalSoldExam=o.data?.value??0,this.loadingSoldExamCount=!1,this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}onTabChanged(o){this.selectedIndexTab=o;let a=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),r=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${a}/${r}`,"?tab="+this.selectedIndexTab)}ngOnInit(){this.initStatusObj(),this.waitDestroy((0,A.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let o=this.browserStorageService.getSimpleStorage("view_question_filter"),a=this.commonService.getMyQueryParam("tab")??0;this.fillStatus=o??"",this.selectedIndexTab=Number(a),this.getBalanceQuestionShared(),this.getTotalSoldExam()}))}constructor(o,a,r,l){super(),this.examPaymentHistoryService=o,this.testMarketQuestionService=a,this.activeRoute=r,this.browserStorageService=l,this.isWithDraw=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.fillStatus="",this.selectedIndexTab=0,this.totalSoldExam=0,this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(Mn.h),t.rXU(Nt.e2),t.rXU(_.nX),t.rXU(Tt.z))},e.\u0275cmp=t.VBU({type:e,selectors:[["view-share-question"]],features:[t.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"relative"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"closeRequest","transactionInfo","balanceUserInfo","totalBalance"],[3,"openWithdrawForm","loadingSoldExamCount","loadingSharedQuestionCount","totalShared","totalSoldExam","totalApproved","totalUsed","totalBalance"],[1,"flex"],[1,"w-40","hover-tab",2,"align-self","center"],[1,"px-3","pt-5","pb-3","border-slate-300","text-center",2,"cursor","pointer","align-self","center",3,"click","ngStyle"],[2,"align-self","center",3,"ngStyle"],[1,"w-44","hover-tab"],[1,"px-3","pt-5","pb-3","border-slate-300","relative","text-center",2,"cursor","pointer","align-self","center",3,"click","ngStyle"],[1,"flex","w-full","text-center"],[1,"mr-2",2,"align-self","center",3,"ngStyle"],[3,"fillStatus","changeFilterStatus",4,"ngIf"],[3,"changeFilterStatus","fillStatus"],[3,"fillStatus"]],template:function(o,a){if(1&o&&(t.j41(0,"div",1),t.DNE(1,Bo,1,1,"azt-loading-effect",2)(2,Xo,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&o){const r=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.bT,u.B3,N.K,pe.C,Yn,Oo,Po,Do,d.wp],encapsulation:2}),s})();function Wo(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",2),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Jo(e,s){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_new")," "))}function Ho(e,s){1&e&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_approved")," "))}function Ko(e,s){1&e&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_settled")," "))}function Zo(e,s){1&e&&(t.j41(0,"div",21),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_status_rejected")," "))}function ta(e,s){if(1&e&&(t.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"p"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"p"),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"p"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"p"),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"p"),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()(),t.j41(19,"div",14)(20,"b",15),t.EFF(21),t.nI1(22,"number"),t.k0s(),t.j41(23,"div",16),t.DNE(24,Jo,3,3,"div",17)(25,Ho,3,3,"div",18)(26,Ko,3,3,"div",18)(27,Zo,3,3,"div",19),t.k0s()()()()),2&e){const n=s.$implicit;t.R7$(4),t.Lme("",t.bMT(5,15,"lang_test_market_bankHolder"),": ",n.bankHolder,""),t.R7$(3),t.Lme("",t.bMT(8,17,"lang_test_market_bankName"),": ",n.bankName,""),t.R7$(3),t.Lme("",t.bMT(11,19,"lang_test_market_bankNumber"),": ",n.bankAccountNumber,""),t.R7$(3),t.Lme("",t.bMT(14,21,"lang_test_market_address"),": ",n.address,""),t.R7$(3),t.Lme("",t.bMT(17,23,"lang_auto_ngay_tao"),": ",t.bMT(18,25,n.createdAt),""),t.R7$(5),t.SpI("",t.bMT(22,27,n.amount),"\u0111"),t.R7$(3),t.Y8G("ngIf","new"==n.status),t.R7$(),t.Y8G("ngIf","approved"==n.status),t.R7$(),t.Y8G("ngIf","settled"==n.status),t.R7$(),t.Y8G("ngIf","rejected"==n.status)}}function ea(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.DNE(3,ta,28,29,"div",6),t.k0s(),t.j41(4,"div",7)(5,"div",8)(6,"azt-paging",9),t.bIt("goToPaginationPage",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.getData(a))}),t.k0s()(),t.j41(7,"div",10),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&e){const n=t.XpG();t.R7$(3),t.Y8G("ngForOf",n.withdrawHistoryObjs),t.R7$(3),t.Y8G("pageObj",n.pageObj),t.R7$(2),t.SpI(" ",n.totalWithdrawTimes+" "+t.bMT(9,3,"lang_test_market_withdraw_times")," ")}}let na=(()=>{var e;class s extends S.H{getData(o){this.initStatusObj(),this.pageObj.setPageNumber(o),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(a=>{if(a.success){this.withdrawHistoryObjs=a.data?.objs??[];let r=a.data?.total??1;this.totalWithdrawTimes=r,this.pageObj.setTotalPages(r),this.successStatusObj()}else this.errorStatusObj(a.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,A.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(o,a){super(),this.testMarketQuestionService=o,this.activeRoute=a,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[],this.pageObj=new ge.d(10)}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(Nt.e2),t.rXU(_.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["history-withdraw"]],features:[t.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],["class","pb-2",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"goToPaginationPage","pageObj"],[1,"mt-3","sm:mt-0"],[1,"pb-2"],[1,"box","p-2","flex","items-center"],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","md:flex","text-xs"],[1,"px-2","bg-success","text-white"],[1,"ml-0","md:ml-2","mt-1","md:mt-0","text-center"],["class","px-2 bg-pending text-white",4,"ngIf"],["class","px-2 bg-success text-white",4,"ngIf"],["class","px-2 bg-danger text-white",4,"ngIf"],[1,"px-2","bg-pending","text-white"],[1,"px-2","bg-danger","text-white"]],template:function(o,a){if(1&o&&t.DNE(0,Wo,1,1,"azt-loading-effect",1)(1,ea,10,5,"ng-template",null,0,t.C5r),2&o){const r=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.Sq,u.bT,N.K,be.q,u.QX,d.wp,d.bH],encapsulation:2}),s})();function oa(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function aa(e,s){if(1&e&&(t.j41(0,"div",12),t.DNE(1,oa,3,3,"span",13),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.form.controls.reason.errors.required)}}function ia(e,s){1&e&&t.nrm(0,"azt-loading-ui",14)}let sa=(()=>{var e;class s extends S.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(o=>{1==o.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(o.message??"",!0)}))}constructor(o,a){super(),this.authService=o,this.mobileWebviewService=a,this.form=new i.gE({reason:new i.MJ("",[i.k0.required])})}ngOnInit(){this.form.controls.reason.setValue("")}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.uR),t.rXU(Rt.f))},e.\u0275cmp=t.VBU({type:e,selectors:[["remove-account"]],features:[t.Vt3],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],[1,"mr-1"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",5),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",6),t.nrm(11,"input",7),t.k0s(),t.DNE(12,aa,2,1,"div",8),t.k0s()(),t.j41(13,"div",9)(14,"button",10),t.bIt("click",function(){return a.saveUnitObj()}),t.DNE(15,ia,1,0,"azt-loading-ui",11),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()),2&o&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(4),t.SpI(" ",t.bMT(6,7,"lang_auto_xoa_tai_khoan")," "),t.R7$(3),t.SpI(" ",t.bMT(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),t.R7$(4),t.Y8G("ngIf",a.form.controls.reason.errors&&(a.form.controls.reason.dirty||a.form.controls.reason.touched)),t.R7$(2),t.Y8G("disabled",a.statusObj.loading||a.form.controls.reason.errors),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,11,"lang_auto_xac_nhan")," "))},dependencies:[u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,W.t,x.R,d.wp],encapsulation:2}),s})();const ra=()=>({"mr-2 flex-none":!0});function la(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",2),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function ca(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"label",7),t.nrm(5,"lucide-icon",8),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"input",9),t.bIt("change",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.mobLoginFingerprintOrFace())}),t.k0s()()()()()}if(2&e){const n=t.XpG();t.R7$(5),t.Y8G("name",n.enableForFace?"scan-face":"fingerprint")("ngClass",t.lJ4(8,ra)),t.R7$(),t.SpI(" ",n.enableForFace?t.bMT(7,4,"lang_core_login_with_face"):t.bMT(8,6,"lang_core_login_with_fingerprint")," "),t.R7$(3),t.Y8G("formControl",n.checkLoginFingerprintOrFaceControl)}}let _a=(()=>{var e;class s extends S.H{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(o){super(),this.mobileWebviewService=o,this.checkLoginFingerprintOrFaceControl=new i.MJ(!1,{nonNullable:!0}),this.enableForFace=!1}ngOnInit(){}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(Rt.f))},e.\u0275cmp=t.VBU({type:e,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[t.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],["size","20",3,"name","ngClass"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"change","formControl"]],template:function(o,a){if(1&o&&t.DNE(0,la,1,1,"azt-loading-effect",1)(1,ca,10,9,"ng-template",null,0,t.C5r),2&o){const r=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.YU,u.bT,i.Zm,i.BC,i.l_,N.K,y.WGl,d.wp],encapsulation:2}),s})();var ht=c(10839),ma=c(75421),ua=c(92401),da=c(26651),pa=c(20013),ga=c(71812);const ha=(e,s)=>({"text-danger":e,"text-success":s});function fa(e,s){if(1&e&&(t.j41(0,"tr")(1,"td",9),t.EFF(2),t.k0s(),t.j41(3,"td",9),t.EFF(4),t.nI1(5,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td",9),t.EFF(7),t.k0s(),t.j41(8,"td",10),t.EFF(9),t.nI1(10,"number"),t.nI1(11,"mytranslate"),t.k0s()()),2&e){const n=s.$implicit,o=s.index;t.R7$(2),t.SpI(" ",o+1," "),t.R7$(2),t.SpI(" ",t.bMT(5,5,n.createdAt)," "),t.R7$(3),t.SpI(" ",n.typeName," "),t.R7$(),t.Y8G("ngClass",t.l_i(12,ha,n.point<=0,n.point>0)),t.R7$(),t.SpI(" ",t.i5U(10,7,n.point,"1.4-4")+" "+t.bMT(11,10,"lang_vip_package_total_point")," ")}}function va(e,s){if(1&e&&(t.j41(0,"div",1)(1,"div")(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",3),t.EFF(9),t.nI1(10,"number"),t.nI1(11,"mytranslate"),t.k0s(),t.EFF(12," ) "),t.k0s()(),t.j41(13,"div",4)(14,"drag-scroll")(15,"table",5)(16,"thead")(17,"tr")(18,"th",6),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",6),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",6),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"th",7),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()(),t.j41(30,"tbody"),t.DNE(31,fa,12,15,"tr",8),t.k0s()()()()()),2&e){const n=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,9,"lang_vip_pay_as_go_transaction_history")," "),t.R7$(3),t.SpI(" (",t.bMT(7,11,"lang_vip_package_total_remaining_point"),": "),t.R7$(3),t.Lme("",t.i5U(10,13,n.totalRemainingPoint,"1.0-2")," ",t.bMT(11,16,"lang_vip_package_total_point"),""),t.R7$(10),t.JRh(t.bMT(20,18,"lang_common_stt")),t.R7$(3),t.JRh(t.bMT(23,20,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(26,22,"lang_vip_pay_as_go_transaction_type")),t.R7$(3),t.JRh(t.bMT(29,24,"lang_vip_pay_as_go_transaction_point")),t.R7$(3),t.Y8G("ngForOf",n.objs)}}let ba=(()=>{var e;class s extends S.H{constructor(){super(...arguments),this.payAsGoPaymentService=(0,t.WQX)(rt.S5),this.sAztPayAsGoService=(0,t.WQX)(ga.Q),this.objs=[],this.totalRemainingPoint=0}getData(){this.initStatusObj(),this.waitDestroy((0,A.z)([this.sAztPayAsGoService.getTotalPoint(!1,void 0),this.payAsGoPaymentService.apiPayAsGoPaymentGetHistoryObjsGet()]).subscribe(([o,a])=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.objs=a.data?.objs??[],this.totalRemainingPoint=o.data?.totalPoint??0,this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["coazt-pay-as-go-history"]],features:[t.Vt3],decls:1,vars:1,consts:[["class","box p-5",4,"ngIf"],[1,"box","p-5"],[1,"text-lg","font-medium"],[1,"text-success"],[1,"w-full","h-full"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[2,"text-align","right","padding-right","20px",3,"ngClass"]],template:function(o,a){1&o&&t.DNE(0,va,32,26,"div",0),2&o&&t.Y8G("ngIf",a.objs.length||a.totalRemainingPoint>0)},dependencies:[u.YU,u.Sq,u.bT,v.jd,v.Ew,u.QX,d.wp,d.i_],encapsulation:2}),s})();var ka=c(5800);function ya(e,s){if(1&e&&(t.j41(0,"tr")(1,"td",7),t.nrm(2,"azt-student-info-box",8),t.k0s()()),2&e){const n=s.$implicit;t.R7$(2),t.Y8G("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("phone",n.phone)("email",n.email)("createdAt",n.createdAt)}}function Ca(e,s){if(1&e&&(t.j41(0,"div",1)(1,"div")(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"drag-scroll")(7,"table",4)(8,"thead")(9,"tr")(10,"th",5),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()(),t.j41(13,"tbody"),t.DNE(14,ya,3,6,"tr",6),t.k0s()()()()()),2&e){const n=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,3,"lang_azt_list_user_limit_ads_title")," "),t.R7$(8),t.JRh(t.bMT(12,5,"lang_auto_ten")),t.R7$(3),t.Y8G("ngForOf",n.listUsers)}}let Ia=(()=>{var e;class s extends S.H{constructor(){super(...arguments),this.examService=(0,t.WQX)(he.RW),this.listUsers=[]}getData(){this.initStatusObj(),this.waitDestroy(this.examService.apiExamListTestedStudentsInMonthGet().subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.listUsers=o.data?.users??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["coazt-list-users-limit-ads"]],features:[t.Vt3],decls:1,vars:1,consts:[["class","box p-5",4,"ngIf"],[1,"box","p-5"],[1,"text-lg","font-medium"],[1,"w-full","h-full"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[3,"name","avatar","gender","phone","email","createdAt"]],template:function(o,a){1&o&&t.DNE(0,Ca,15,7,"div",0),2&o&&t.Y8G("ngIf",a.listUsers.length)},dependencies:[u.Sq,u.bT,ka.B,v.jd,v.Ew,d.wp],encapsulation:2}),s})();function Sa(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"a",14),t.nI1(4,"navigationLocalize"),t.EFF(5),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,3,"lang_coin_package_buy_exam_type"),": "),t.R7$(2),t.Y8G("href",t.bMT(4,5,"/de-thi/"+(null==n?null:n.examHashId)),t.B4B),t.R7$(2),t.JRh(null==n?null:n.examName)}}function xa(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_coin_package_buy_coin_package_type")," "))}function Ra(e,s){if(1&e&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI("-",n.money+" "+t.bMT(2,1,"lang_coin_package_total_coin"),"")}}function Ta(e,s){if(1&e&&(t.j41(0,"span",3),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI("+",n.money+" "+t.bMT(2,1,"lang_coin_package_total_coin"),"")}}function wa(e,s){if(1&e&&(t.j41(0,"tr")(1,"td",9),t.EFF(2),t.k0s(),t.j41(3,"td",9),t.EFF(4),t.nI1(5,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"td",9),t.DNE(7,Sa,6,7,"span",10)(8,xa,3,3,"span",10),t.k0s(),t.j41(9,"td",11),t.DNE(10,Ra,3,3,"span",12)(11,Ta,3,3,"span",13),t.k0s()()),2&e){const n=s.$implicit,o=s.index,a=t.XpG(2);t.R7$(2),t.SpI(" ",o+1," "),t.R7$(2),t.SpI(" ",t.bMT(5,6,n.createdAt)," "),t.R7$(3),t.Y8G("ngIf",n.productTypeEnum==a.allProductOrderTypeEnum.EXAM),t.R7$(),t.Y8G("ngIf",n.productTypeEnum==a.allProductOrderTypeEnum.COINPACKAGE),t.R7$(2),t.Y8G("ngIf",n.productTypeEnum==a.allProductOrderTypeEnum.EXAM),t.R7$(),t.Y8G("ngIf",n.productTypeEnum==a.allProductOrderTypeEnum.COINPACKAGE)}}function ja(e,s){if(1&e&&(t.j41(0,"div",1)(1,"div")(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",3),t.EFF(9),t.nI1(10,"number"),t.nI1(11,"mytranslate"),t.k0s(),t.EFF(12," ) "),t.k0s()(),t.j41(13,"div",4)(14,"drag-scroll")(15,"table",5)(16,"thead")(17,"tr")(18,"th",6),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",6),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",6),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"th",7),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()(),t.j41(30,"tbody"),t.DNE(31,wa,12,8,"tr",8),t.k0s()()()()()),2&e){const n=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,9,"lang_coin_package_transaction_history")," "),t.R7$(3),t.SpI(" (",t.bMT(7,11,"lang_coin_package_total_remaining_coin"),": "),t.R7$(3),t.Lme("",t.i5U(10,13,n.totalRemainingCoin,"1.0-2")," ",t.bMT(11,16,"lang_coin_package_total_coin"),""),t.R7$(10),t.JRh(t.bMT(20,18,"lang_common_stt")),t.R7$(3),t.JRh(t.bMT(23,20,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(26,22,"lang_coin_package_transaction_type")),t.R7$(3),t.JRh(t.bMT(29,24,"lang_coin_package_transaction_coin")),t.R7$(3),t.Y8G("ngForOf",n.objs)}}let Fa=(()=>{var e;class s extends S.H{constructor(){super(...arguments),this.coinPaymentService=(0,t.WQX)(rt.dC),this.objs=[],this.totalRemainingCoin=0,this.allProductOrderTypeEnum=rt.As}getData(){this.initStatusObj(),this.waitDestroy((0,A.z)([this.coinPaymentService.apiCoinPaymentGetCurrentCoinGet(),this.coinPaymentService.apiCoinPaymentGetHistoryObjsGet()]).subscribe(([o,a])=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.objs=a.data?.objs??[],this.totalRemainingCoin=o.data?.obj?.totalCoin??0,this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["coazt-coin-payment-history"]],features:[t.Vt3],decls:1,vars:1,consts:[["class","box p-5",4,"ngIf"],[1,"box","p-5"],[1,"text-lg","font-medium"],[1,"text-success"],[1,"w-full","h-full"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[4,"ngIf"],[2,"text-align","right","padding-right","20px"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["target","_blank",1,"link-color",3,"href"],[1,"text-danger"]],template:function(o,a){1&o&&t.DNE(0,ja,32,26,"div",0),2&o&&t.Y8G("ngIf",a.objs.length||a.totalRemainingCoin>0)},dependencies:[u.Sq,u.bT,v.jd,v.Ew,u.QX,d.F2,d.wp,d.i_],encapsulation:2}),s})();const Ie=()=>({"mr-2 flex-none":!0}),Ea=e=>({"text-danger":e}),Oa=e=>[e],Ga=e=>({"bg-blue-800":e}),Ma=()=>[];function Pa(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",7),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function $a(e,s){if(1&e&&(t.qex(0),t.j41(1,"div",24)(2,"div",25),t.nrm(3,"lucide-icon",26),t.j41(4,"span",12),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"span"),t.EFF(8),t.nI1(9,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s()(),t.j41(10,"div",27),t.nrm(11,"lucide-icon",28),t.j41(12,"span",29),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"span",30),t.EFF(16),t.nI1(17,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.nI1(18,"mytranslate"),t.k0s()()(),t.bVm()),2&e){const n=t.XpG(2);t.R7$(3),t.Y8G("ngClass",t.lJ4(17,Ie)),t.R7$(2),t.SpI(" ",t.bMT(6,7,"lang_azt_vip_purchase_date")+":"," "),t.R7$(3),t.JRh(t.bMT(9,9,null==n.vipPackageObj?null:n.vipPackageObj.startTime)),t.R7$(2),t.Y8G("ngClass",t.eq3(18,Ea,n.expirationDate<=n.flatWarning)),t.R7$(),t.Y8G("ngClass",t.lJ4(20,Ie)),t.R7$(2),t.SpI(" ",t.bMT(14,11,"lang_azt_expiration_date")+":"," "),t.R7$(3),t.JRh(t.bMT(17,13,null==n.vipPackageObj?null:n.vipPackageObj.endTime)+" ( "+n.expirationDate+" "+t.bMT(18,15,"lang_auto_ngay")+" )")}}function Aa(e,s){1&e&&(t.j41(0,"div",32)(1,"div",33),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip")+" !"))}function za(e,s){1&e&&(t.j41(0,"div",32)(1,"div",33),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip_student")+" !"))}function La(e,s){if(1&e&&t.DNE(0,Aa,4,3,"div",31)(1,za,4,3,"div",31),2&e){const n=t.XpG(2);t.Y8G("ngIf",n.isTeacherDashboard),t.R7$(),t.Y8G("ngIf",!n.isTeacherDashboard)}}function Da(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",34)(1,"button",35),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.getVipBill())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_vip_print_bill")))}function Ba(e,s){if(1&e){const n=t.RV6();t.j41(0,"span",41)(1,"azt-check-vip-account",42)(2,"azt-upload-single-box",43),t.bIt("uploadComplete",function(a){t.eBV(n);const r=t.XpG(3);return t.Njj(r.uploadNewLogo("thumb",a))}),t.j41(3,"span",12),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()()}if(2&e){const n=t.XpG(3);t.R7$(),t.Y8G("vipPackageType","VIP_FOR_TEACHER")("isAction",!0)("isShowBadgeVip",!0)("trackingKey","ACCOUNT_SETTING_TEACHER_THUMBNAIL"),t.R7$(),t.Y8G("uploadToCdnMenu",n.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(10,Oa,n.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(2),t.JRh(t.bMT(5,8,"lang_business_config_upload_new_logo"))}}function Na(e,s){if(1&e){const n=t.RV6();t.j41(0,"azt-check-vip-account",44),t.bIt("checkAction",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.uploadNewLogo("thumb"))}),t.j41(1,"span",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("isAction",!0)("isShowBadgeVip",!0)("classCSSCustom","btn-text-primary font-medium flex items-center cursor-pointer ml-2")("trackingKey","ACCOUNT_SETTING_TEACHER_THUMBNAIL"),t.R7$(2),t.JRh(t.bMT(3,6,"lang_business_config_upload_new_logo")))}function Va(e,s){if(1&e){const n=t.RV6();t.j41(0,"span",34),t.EFF(1," | "),t.j41(2,"span",45),t.bIt("click",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.deleteLogo("thumb"))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_button_delete")))}function Ya(e,s){1&e&&t.nrm(0,"azt-loading-ui",46)}function Ua(e,s){if(1&e&&(t.j41(0,"div",47),t.nrm(1,"img",48),t.nI1(2,"getSystemDefaultLogo"),t.k0s()),2&e){const n=t.XpG(3);t.Y8G("ngClass",t.eq3(4,Ga,!n.thumbnailLogoURL)),t.R7$(),t.Y8G("src",n.thumbnailLogoURL?n.thumbnailLogoURL:t.bMT(2,2,"thumb"),t.B4B)}}function Qa(e,s){if(1&e&&(t.j41(0,"div",36)(1,"div",37)(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Ba,6,12,"span",38)(6,Na,4,8,"ng-template",null,3,t.C5r)(8,Va,5,3,"span",14),t.k0s(),t.j41(9,"div",39),t.DNE(10,Ya,1,0,"azt-loading-ui",40)(11,Ua,3,6,"ng-template",null,4,t.C5r),t.k0s()()),2&e){const n=t.sdS(7),o=t.sdS(12),a=t.XpG(2);t.R7$(3),t.SpI("",t.bMT(4,6,"lang_user_config_thumbnail_img")+" | ","\xa0"),t.R7$(2),t.Y8G("ngIf",null==a.vipPackageObj?null:a.vipPackageObj.isVipTeacher)("ngIfElse",n),t.R7$(3),t.Y8G("ngIf",a.thumbnailLogoURL),t.R7$(2),t.Y8G("ngIf",a.loadingThumb)("ngIfElse",o)}}function Xa(e,s){if(1&e&&(t.j41(0,"tr")(1,"td",50),t.EFF(2),t.nI1(3,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"td",51),t.EFF(8),t.nI1(9,"formatMoney"),t.nI1(10,"mytranslate"),t.k0s()()),2&e){const n=s.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,3,n.createdAt)," "),t.R7$(3),t.SpI(" ",t.bMT(6,5,null!=n&&n.packageName?null==n?null:n.packageName:"lang_azt_azota_vip")," "),t.R7$(3),t.SpI(" ",t.bMT(9,7,n.packageMoney)+" "+t.bMT(10,9,"lang_auto_vnd_upper")," ")}}function qa(e,s){if(1&e&&(t.qex(0),t.DNE(1,Xa,11,11,"tr",49),t.bVm()),2&e){let n;const o=t.XpG(2);t.R7$(),t.Y8G("ngForOf",null!==(n=null==o.vipPackageObj?null:o.vipPackageObj.subscriptionHistories)&&void 0!==n?n:t.lJ4(1,Ma))}}function Wa(e,s){1&e&&(t.j41(0,"tr")(1,"td",52),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_khong_co_du_lieu")+"!"))}function Ja(e,s){1&e&&(t.j41(0,"div",53),t.nrm(1,"coazt-coin-payment-history"),t.k0s())}function Ha(e,s){1&e&&(t.j41(0,"div",53),t.nrm(1,"coazt-pay-as-go-history"),t.k0s())}function Ka(e,s){1&e&&(t.j41(0,"div",53),t.nrm(1,"coazt-list-users-limit-ads"),t.k0s())}function Za(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",8)(1,"div",9),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,$a,19,21,"ng-container",10)(5,La,2,2,"ng-template",null,1,t.C5r),t.j41(7,"div",11)(8,"div",12)(9,"button",13),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.redirectToVipPackages())}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.DNE(12,Da,4,3,"div",14),t.k0s()(),t.DNE(13,Qa,13,8,"div",15),t.j41(14,"div",16)(15,"div",17),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"div",18)(19,"drag-scroll")(20,"table",19)(21,"thead")(22,"tr")(23,"th",20),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",21),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",22),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,qa,2,2,"ng-container",10)(34,Wa,4,3,"ng-template",null,2,t.C5r),t.k0s()()()()(),t.DNE(36,Ja,2,0,"div",23)(37,Ha,2,0,"div",23)(38,Ka,2,0,"div",23)}if(2&e){const n=t.sdS(6),o=t.sdS(35),a=t.XpG();t.R7$(2),t.JRh(t.bMT(3,15,"lang_azt_your_subscription_package")),t.R7$(2),t.Y8G("ngIf",(null==a.vipPackageObj?null:a.vipPackageObj.isVipStudent)||(null==a.vipPackageObj?null:a.vipPackageObj.isVipTeacher))("ngIfElse",n),t.R7$(6),t.JRh(t.bMT(11,17,"lang_azt_upgrade_now")),t.R7$(2),t.Y8G("ngIf",a.showBtnTakeInvoice),t.R7$(),t.Y8G("ngIf",a.isTeacherDashboard),t.R7$(3),t.JRh(t.bMT(17,19,"lang_azt_purchase_history")),t.R7$(8),t.JRh(t.bMT(25,21,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(28,23,"lang_business_config_billing_history_package_name")),t.R7$(3),t.JRh(t.bMT(31,25,"lang_azt_price")),t.R7$(3),t.Y8G("ngIf",a.vipPackageObj&&(null==a.vipPackageObj.subscriptionHistories?null:a.vipPackageObj.subscriptionHistories.length))("ngIfElse",o),t.R7$(3),t.Y8G("ngIf",!a.isTeacherDashboard),t.R7$(),t.Y8G("ngIf",a.isTeacherDashboard),t.R7$(),t.Y8G("ngIf",a.isTeacherDashboard)}}let ti=(()=>{var e;class s extends S.H{redirectToVipPackages(){this.commonService.myNavigationWithQueryString("/auth/vip-packages/"+(this.isTeacherDashboard?"teacherVip":"studentVip"),`?backto=${encodeURIComponent(`/auth/account-setting/${this.isTeacherDashboard?0:1}/8`)}&trackingKey=${this.isTeacherDashboard?"ACCOUNT_SETTING_TEACHER":"ACCOUNT_SETTING_STUDENT"}`)}deleteLogo(o){const a=this.commonService.myTranslateInstant("lang_business_config_are_your_sure_to_delete_this_logo");this.sAztDialogService.open(ma.u,{data:{content:a,iconName:"trash-2"},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(l=>{l&&(this.thumbnailLogoURL="",this.saveConfigLogo())})}uploadNewLogo(o,a){"thumb"==o&&a?.url&&(this.thumbnailLogoURL=a.url),this.saveConfigLogo()}saveConfigLogo(){this.loadingThumb=!0,this.waitDestroy(this.userInfoService.apiUserInfoUpdateConfigPost({logo:this.thumbnailLogoURL}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message?o.message:"lang_cms_add_homework_upload_file_error",!0);this.loadingThumb=!1,this.successStatusObj("lang_user_config_thumbnail_upload_img_success",!0)}))}getVipBill(){this.sAztDialogService.open(ua.V,{data:{askForInvoice:!1},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.getData()})}getData(){this.initStatusObj(),this.loadingThumb=!0,this.waitDestroy(this.vipPackageService.apiVipPackageGetMyPackagePost({vipPackageType:this.isTeacherDashboard?ht.W.VIPFORTEACHER:ht.W.VIPFORSTUDENT}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.vipPackageObj=o.data?.obj,this.showBtnTakeInvoice=o.data?.obj?.showInvoice??!1,this.thumbnailLogoURL=o.data?.obj?.userConfig?.logo??"",this.loadingThumb=!1,this.expirationDate=this.timeService.calculationTimeOnlyDate(void 0,this.vipPackageObj?.endTime),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.getData()}constructor(o,a,r,l,m){super(),this.userInfoService=o,this.activeRoute=a,this.vipPackageService=r,this.timeService=l,this.sAztDialogService=m,this.expirationDate=0,this.flatWarning=10,this.isTeacherDashboard=!1,this.thumbnailLogoURL="",this.loadingThumb=!1,this.allUploadToCdnMenuTypes=Dt.b8,this.allUploadFileTypes=Dt.PO,this.showBtnTakeInvoice=!1}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.fv),t.rXU(_.nX),t.rXU(da.vg),t.rXU(bt.F),t.rXU(nt.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["setting-azota-vip"]],features:[t.Vt3],decls:4,vars:2,consts:[["doneLoading",""],["noVipPackage",""],["noHistory",""],["noVip",""],["doneLoadThumb",""],[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"azota-vip","box","p-5"],[1,"text-lg","font-medium","mb-2"],[4,"ngIf","ngIfElse"],[1,"flex","text-right","mt-3","items-center",2,"justify-content","end"],[1,"mr-2"],[1,"btn","btn-primary",3,"click"],["class","ml-2",4,"ngIf"],["class","intro-x box p-5 mt-4",4,"ngIf"],[1,"subscription-history","mt-4","box","p-5"],[1,"text-lg","font-medium"],[1,"w-full","h-full"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px","width","250px"],[1,"whitespace-nowrap",2,"width","350px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],["class","subscription-history mt-4",4,"ngIf"],[1,"vip"],[1,"flex","items-center","font-medium","mt-2"],["name","calendar-check","size","20",3,"ngClass"],[1,"flex","items-center","flex-wrap","font-medium","mt-2",3,"ngClass"],["name","calendar-off","size","20",3,"ngClass"],[1,"mr-2","mt-1","sm:mt-0"],[1,"mr-1"],["class","no-vip",4,"ngIf"],[1,"no-vip"],[1,"note"],[1,"ml-2"],[1,"btn","btn-success","text-white",3,"click"],[1,"intro-x","box","p-5","mt-4"],[1,"text-md","font-medium","mb-2","flex","items-center","w-full","flex-wrap"],["class","clickable link-color",4,"ngIf","ngIfElse"],[1,"p-2","text-center","w-full"],["class","mx-auto my-auto",4,"ngIf","ngIfElse"],[1,"clickable","link-color"],[3,"vipPackageType","isAction","isShowBadgeVip","trackingKey"],[1,"inline-block",3,"uploadComplete","uploadToCdnMenu","fileType","allowCompressImage"],[3,"checkAction","vipPackageType","isAction","isShowBadgeVip","classCSSCustom","trackingKey"],[1,"clickable","text-danger",3,"click"],[1,"mx-auto","my-auto"],[1,"mx-auto",2,"width","200px","height","auto",3,"ngClass"],["width","100%","height","100%",3,"src"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[2,"text-align","right","padding-right","20px"],["colspan","3",1,"text-center"],[1,"subscription-history","mt-4"]],template:function(o,a){if(1&o&&(t.j41(0,"div",5),t.DNE(1,Pa,1,1,"azt-loading-effect",6)(2,Za,39,27,"ng-template",null,0,t.C5r),t.k0s()),2&o){const r=t.sdS(3);t.R7$(),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.YU,u.Sq,u.bT,N.K,x.R,pa.T,$t.F,y.WGl,v.jd,v.Ew,ba,Ia,Fa,d.wp,d.i_,d.t0,d.Vo],encapsulation:2}),s})();var ei=c(5690),ni=c(47712);function oi(e,s){if(1&e){const n=t.RV6();t.j41(0,"withdraw-balance",5),t.bIt("closeRequest",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.closeRequest(a))}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("transactionInfo",n.balanceUserInfo.lastTransaction)("balanceUserInfo",n.balanceUserInfo)("totalBalance",n.balanceUserInfo.balance)}}function ai(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"h3",12),t.EFF(3),t.nI1(4,"mytranslate"),t.j41(5,"b"),t.EFF(6),t.nI1(7,"number"),t.k0s()(),t.j41(8,"div",13)(9,"button",14),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.withdrawBalance())}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()()}if(2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngClass",n.isMobileDevice?"":"flex"),t.R7$(),t.Y8G("ngClass",n.isMobileDevice?"mt-2":""),t.R7$(),t.SpI(" ",t.bMT(4,7,"lang_test_market_total_balance")," "),t.R7$(3),t.SpI("",t.bMT(7,9,n.balanceUserInfo.balance),"\u0111"),t.R7$(2),t.Y8G("ngClass",n.isMobileDevice?"mt-2":""),t.R7$(),t.Y8G("disabled",!n.balanceUserInfo.balance),t.R7$(),t.SpI(" ",t.bMT(11,11,"lang_test_market_withdraw")," ")}}function ii(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",15),2&e){const n=t.XpG(2);t.Y8G("currentStatusObj",n.statusObj)}}function si(e,s){1&e&&t.nrm(0,"azt-svg-icon",38),2&e&&t.Y8G("size",24)}function ri(e,s){1&e&&t.nrm(0,"azt-svg-icon",39),2&e&&t.Y8G("size",24)}function li(e,s){1&e&&t.nrm(0,"azt-svg-icon",40),2&e&&t.Y8G("size",24)}function ci(e,s){if(1&e&&(t.j41(0,"div",41),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",null==n.giftPackageGiverObj?null:n.giftPackageGiverObj.phone," ")}}function _i(e,s){if(1&e&&(t.j41(0,"div",41),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",null==n.giftPackageGiverObj?null:n.giftPackageGiverObj.email," ")}}function mi(e,s){if(1&e&&(t.j41(0,"tr")(1,"td",27),t.EFF(2),t.nI1(3,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(4,"td"),t.DNE(5,si,1,1,"azt-svg-icon",28)(6,ri,1,1,"azt-svg-icon",29)(7,li,1,1,"azt-svg-icon",30),t.j41(8,"span",31),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"td")(12,"div",32)(13,"div",33),t.nrm(14,"azt-create-avatar",34),t.k0s(),t.j41(15,"div",35)(16,"div",36)(17,"span"),t.EFF(18),t.k0s()(),t.DNE(19,ci,2,1,"div",37)(20,_i,2,1,"div",37),t.k0s()()(),t.j41(21,"td",22),t.EFF(22),t.nI1(23,"formatMoney"),t.nI1(24,"mytranslate"),t.k0s()()),2&e){const n=s.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,12,n.createdAt)," "),t.R7$(3),t.Y8G("ngIf","lang_core_gift_rose_flower"===(null==n.giftPackageObj?null:n.giftPackageObj.name)),t.R7$(),t.Y8G("ngIf","lang_core_gift_book"===(null==n.giftPackageObj?null:n.giftPackageObj.name)),t.R7$(),t.Y8G("ngIf","lang_core_gift_pen"===(null==n.giftPackageObj?null:n.giftPackageObj.name)),t.R7$(2),t.JRh(t.bMT(10,14,null==n.giftPackageObj?null:n.giftPackageObj.name)),t.R7$(5),t.Y8G("linkAvatar",null==n.giftPackageGiverObj?null:n.giftPackageGiverObj.avatar)("nameCreateAvatar",null==n.giftPackageGiverObj?null:n.giftPackageGiverObj.fullName)("size",50),t.R7$(4),t.JRh(null==n.giftPackageGiverObj?null:n.giftPackageGiverObj.fullName),t.R7$(),t.Y8G("ngIf",null==n.giftPackageGiverObj?null:n.giftPackageGiverObj.phone),t.R7$(),t.Y8G("ngIf",null==n.giftPackageGiverObj?null:n.giftPackageGiverObj.email),t.R7$(2),t.SpI(" ",t.bMT(23,16,n.money)+" "+t.bMT(24,18,"lang_auto_vnd_upper")," ")}}function ui(e,s){if(1&e&&(t.qex(0),t.DNE(1,mi,25,20,"tr",26),t.bVm()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("ngForOf",n.revenueList)}}function di(e,s){1&e&&(t.j41(0,"tr")(1,"td",42),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_khong_co_du_lieu")+"!"))}function pi(e,s){1&e&&t.nrm(0,"azt-loading-ui",43),2&e&&t.Y8G("size",16)}function gi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",44),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.getRevenueList(a.nextPage))}),t.nrm(2,"lucide-icon",45),t.j41(3,"span",46),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}if(2&e){const n=t.XpG(3);t.FS9("matTooltip",t.bMT(1,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Y8G("disabled",!n.nextPage),t.R7$(4),t.JRh(t.bMT(5,5,"lang_auto_xem_them"))}}function hi(e,s){if(1&e&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"div",17)(4,"drag-scroll")(5,"table",18)(6,"thead")(7,"tr")(8,"th",19),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",20),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",21),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",22),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()(),t.j41(20,"tbody"),t.DNE(21,ui,2,1,"ng-container",23)(22,di,4,3,"ng-template",null,1,t.C5r),t.k0s()()()(),t.j41(24,"div",24),t.DNE(25,pi,1,1,"azt-loading-ui",25)(26,gi,6,7,"ng-template",null,2,t.C5r),t.k0s()),2&e){const n=t.sdS(23),o=t.sdS(27),a=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,9,"lang_azt_revenue_from_gifts_list")),t.R7$(8),t.JRh(t.bMT(10,11,"lang_azt_gift_day")),t.R7$(3),t.JRh(t.bMT(13,13,"lang_azt_gift_name")),t.R7$(3),t.JRh(t.bMT(16,15,"lang_azt_donor")),t.R7$(3),t.JRh(t.bMT(19,17,"lang_azt_value")),t.R7$(3),t.Y8G("ngIf",a.revenueList.length)("ngIfElse",n),t.R7$(4),t.Y8G("ngIf",a.loadingMore)("ngIfElse",o)}}function fi(e,s){if(1&e&&(t.j41(0,"div",6),t.DNE(1,ai,12,13,"div",7),t.j41(2,"div",8),t.DNE(3,ii,1,1,"azt-loading-effect",9)(4,hi,28,19,"ng-template",null,0,t.C5r),t.k0s()()),2&e){const n=t.sdS(5),o=t.XpG();t.R7$(),t.Y8G("ngIf",o.balanceUserInfo),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",n)}}let vi=(()=>{var e;class s extends S.H{closeRequest(o){this.isWithDraw=o}getRevenueList(o){o||this.initStatusObj(),this.loadingMore=!0,this.waitDestroy(this.giftPackagePaymentService.apiGiftPackagePaymentGetHistoryObjsGet(o).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.revenueList=a.data?.objs??[],this.total=a.data?.total??0,this.nextPage=a.data?.nextPage,this.loadingMore=!1,this.successStatusObj()}))}getBalanceAccount(){this.loadingBalanceAccount=!0,this.balanceService.getBalanceAccount().subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.balanceUserInfo=o.data,this.loadingBalanceAccount=!1})}withdrawBalance(){this.isWithDraw=!0}ngOnInit(){super.ngOnInit(),this.getRevenueList(),this.getBalanceAccount()}constructor(o,a){super(),this.giftPackagePaymentService=o,this.balanceService=a,this.nextPage=void 0,this.total=0,this.revenueList=[],this.loadingMore=!1,this.loadingBalanceAccount=!1,this.isWithDraw=!1}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(rt.SM),t.rXU(ei.C))},e.\u0275cmp=t.VBU({type:e,selectors:[["revenue-from-gift"]],features:[t.Vt3],decls:2,vars:2,consts:[["doneLoading",""],["noHistory",""],["doneLoadNextPage",""],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],["class","intro-x",4,"ngIf"],[3,"closeRequest","transactionInfo","balanceUserInfo","totalBalance"],[1,"intro-x"],["class","box p-5",4,"ngIf"],[1,"box","p-5","mt-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"box","p-5"],[1,"justify-between","items-center",3,"ngClass"],[1,"text-md","items-center",3,"ngClass"],[1,"text-right",3,"ngClass"],[1,"btn","btn-primary","w-32","shadow-md",3,"click","disabled"],[3,"currentStatusObj"],[1,"text-lg","font-medium"],[1,"w-full","h-full","mt-5"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px","width","250px"],[1,"whitespace-nowrap",2,"width","250px"],[1,"whitespace-nowrap",2,"width","350px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],[4,"ngIf","ngIfElse"],[1,"mt-3","mb-3","flex","justify-center"],[3,"size",4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],["type","flower-gift",3,"size",4,"ngIf"],["type","book-gift",3,"size",4,"ngIf"],["type","pen-gift",3,"size",4,"ngIf"],[1,"ml-1"],[1,"flex","items-center"],[1,"flex-none","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","overflow-hidden",2,"width","100%"],[1,"flex","items-center","font-medium"],["class","w-full text-xs text-slate-500 mt-0.5",4,"ngIf"],["type","flower-gift",3,"size"],["type","book-gift",3,"size"],["type","pen-gift",3,"size"],[1,"w-full","text-xs","text-slate-500","mt-0.5"],["colspan","3",1,"text-center"],[3,"size"],[1,"btn","btn-transparent",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"],[1,"ml-2"]],template:function(o,a){1&o&&t.DNE(0,oi,1,3,"withdraw-balance",3)(1,fi,6,3,"div",4),2&o&&(t.Y8G("ngIf",a.isWithDraw&&a.balanceUserInfo),t.R7$(),t.Y8G("ngIf",!a.isWithDraw))},dependencies:[u.YU,u.Sq,u.bT,ni.oV,N.K,oe.p,x.R,_t.m,y.WGl,v.jd,v.Ew,pe.C,u.QX,d.wp,d.i_,d.t0],encapsulation:2}),s})();const bi=e=>({"margin-bottom":e}),ot=e=>({"bg-primary text-white font-medium":e}),et=()=>({"mr-2 flex-none":!0});function ki(e,s){if(1&e&&(t.j41(0,"teacher-layout",2),t.eu8(1,3),t.k0s()),2&e){const n=t.XpG(),o=t.sdS(3);t.Y8G("headerBackToLink",n.backLink),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function yi(e,s){if(1&e&&(t.j41(0,"student-layout",2),t.eu8(1,3),t.k0s()),2&e){const n=t.XpG(),o=t.sdS(3);t.Y8G("headerBackToLink",n.backLink),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function Ci(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",27),2&e){const n=t.XpG(2);t.Y8G("currentStatusObj",n.statusObj)}}function Ii(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(0))}),t.nrm(1,"lucide-icon",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"general"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_auto_chung")," ")}}function Si(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(1))}),t.nrm(1,"lucide-icon",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"password"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_auto_doi_mat_khau")," ")}}function xi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(5))}),t.nrm(1,"lucide-icon",33),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"setting-unit"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_auth_setting_user_unit")," ")}}function Ri(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",34),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(3))}),t.nrm(1,"lucide-icon",35),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"share-question"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_payment_history_transaction_history")," ")}}function Ti(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",36),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(4))}),t.nrm(1,"lucide-icon",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"history-withdraw"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_test_market_withdraw_history")," ")}}function wi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",38),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(2))}),t.nrm(1,"lucide-icon",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"setting-role"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_auth_user_setting_change_role")," ")}}function ji(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",39),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(7))}),t.nrm(1,"lucide-icon",40),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(8,ot,"setting-fingerprint-or-face"==n.modeView)),t.R7$(),t.Y8G("name",n.enableForFace?"scan-face":"fingerprint")("ngClass",t.lJ4(10,et)),t.R7$(),t.SpI(" ",n.enableForFace?t.bMT(3,4,"lang_core_login_with_face"):t.bMT(4,6,"lang_core_login_with_fingerprint")," ")}}function Fi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(9))}),t.nrm(1,"lucide-icon",42),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"revenue-from-gift"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_azt_revenue_from_gifts")," ")}}function Ei(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.goToProfileStudent())}),t.nrm(1,"lucide-icon",44),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,et)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_thong_ke_hoc_tap")," "))}function Oi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(8))}),t.j41(1,"div",46),t.nrm(2,"azt-check-vip-account",47),t.k0s(),t.j41(3,"span"),t.EFF(4,"Azota VIP"),t.k0s()()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(4,ot,"setting-azota-vip"==n.modeView)),t.R7$(2),t.Y8G("vipPackageType",n.isTeacherDashboard?"VIP_FOR_TEACHER":"VIP_FOR_STUDENT")("isShowBadgeVip",!0)("trackingKey",n.isTeacherDashboard?"ACCOUNT_SETTING_TEACHER":"ACCOUNT_SETTING_STUDENT")}}function Gi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",48),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changModeView(6))}),t.nrm(1,"lucide-icon",49),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ot,"remove-account"==n.modeView)),t.R7$(),t.Y8G("ngClass",t.lJ4(7,et)),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_auto_xoa_tai_khoan")," ")}}function Mi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changeAccountStudent())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,et)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_core_chon_lai_con")," "))}function Pi(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.mobLogout())}),t.nrm(1,"lucide-icon",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,et)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_dang_xuat")," "))}function $i(e,s){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"setting-general",54),t.bIt("saveUserObj",function(a){t.eBV(n);const r=t.XpG(2);return t.Njj(r.saveUserObjData(a))}),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(),t.Y8G("userObj",n.userObj)("isTeacherDashboard",n.isTeacherDashboard)}}function Ai(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"setting-password"),t.k0s())}function zi(e,s){if(1&e&&(t.j41(0,"div"),t.nrm(1,"coazt-convert-account-role",55),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("isTeacherDashboard",n.isTeacherDashboard)("hasTeacherRole",n.hasTeacherRole)}}function Li(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"setting-unit"),t.k0s())}function Di(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"view-share-question"),t.k0s())}function Bi(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"history-withdraw"),t.k0s())}function Ni(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"remove-account"),t.k0s())}function Vi(e,s){if(1&e&&(t.j41(0,"div"),t.nrm(1,"setting-fingerprint-or-face",56),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("checkLoginFingerprintOrFaceControl",n.checkLoginFingerprintOrFace)("enableForFace",n.enableForFace)}}function Yi(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"setting-azota-vip"),t.k0s())}function Ui(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"revenue-from-gift"),t.k0s())}function Qi(e,s){if(1&e&&(t.DNE(0,Ci,1,1,"azt-loading-effect",4),t.j41(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",9)(8,"div",10)(9,"div",11),t.DNE(10,Ii,4,8,"button",12)(11,Si,4,8,"button",13)(12,xi,4,8,"button",14)(13,Ri,4,8,"button",15)(14,Ti,4,8,"button",16)(15,wi,4,8,"button",17)(16,ji,5,11,"button",18)(17,Fi,4,8,"button",19)(18,Ei,4,5,"button",20)(19,Oi,5,6,"button",21)(20,Gi,4,8,"button",22)(21,Mi,4,5,"button",23),t.nI1(22,"isParentViewOnly"),t.DNE(23,Pi,4,5,"button",24),t.k0s()()(),t.j41(24,"div",25),t.DNE(25,$i,2,2,"div",26)(26,Ai,2,0,"div",26)(27,zi,2,2,"div",26)(28,Li,2,0,"div",26)(29,Di,2,0,"div",26)(30,Bi,2,0,"div",26)(31,Ni,2,0,"div",26)(32,Vi,2,2,"div",26)(33,Yi,2,0,"div",26)(34,Ui,2,0,"div",26),t.k0s()()()),2&e){const n=t.XpG();t.Y8G("ngIf",n.isLoading),t.R7$(5),t.SpI(" ",t.bMT(6,26,"lang_auto_cai_dat_tai_khoan")," "),t.R7$(5),t.Y8G("ngIf","setting-role"!=n.modeView),t.R7$(),t.Y8G("ngIf","setting-role"!=n.modeView),t.R7$(),t.Y8G("ngIf","setting-role"!=n.modeView&&!n.isTqbDomain),t.R7$(),t.Y8G("ngIf","setting-role"!=n.modeView&&n.isTeacherDashboard&&!n.isBusinessDomain),t.R7$(),t.Y8G("ngIf","setting-role"!=n.modeView&&n.isTeacherDashboard&&!n.isBusinessDomain),t.R7$(),t.Y8G("ngIf","setting-role"==n.modeView&&!n.isMobileWebView),t.R7$(),t.Y8G("ngIf",n.isMobileWebView&&n.isShowBiometricSetting),t.R7$(),t.Y8G("ngIf",!n.isBusinessDomain&&n.isTeacherDashboard),t.R7$(),t.Y8G("ngIf",!n.isTeacherDashboard&&n.isBusinessDomain),t.R7$(),t.Y8G("ngIf",!n.isBusinessDomain&&!n.isMobileWebView),t.R7$(),t.Y8G("ngIf",n.isMobileWebView),t.R7$(),t.Y8G("ngIf",n.isMobileWebView&&t.bMT(22,28,"")&&n.sAztParentUserService.getCurrentLoginStudent(n.userObj)),t.R7$(2),t.Y8G("ngIf",n.isMobileWebView),t.R7$(),t.Y8G("ngStyle",t.eq3(30,bi,n.isMobileWebView?"200px":"0")),t.R7$(),t.Y8G("ngIf","general"==n.modeView&&n.userObj),t.R7$(),t.Y8G("ngIf","password"==n.modeView),t.R7$(),t.Y8G("ngIf","setting-role"==n.modeView&&!n.isMobileWebView),t.R7$(),t.Y8G("ngIf","setting-unit"==n.modeView),t.R7$(),t.Y8G("ngIf","share-question"==n.modeView),t.R7$(),t.Y8G("ngIf","history-withdraw"==n.modeView),t.R7$(),t.Y8G("ngIf","remove-account"==n.modeView),t.R7$(),t.Y8G("ngIf","setting-fingerprint-or-face"==n.modeView),t.R7$(),t.Y8G("ngIf","setting-azota-vip"==n.modeView),t.R7$(),t.Y8G("ngIf","revenue-from-gift"==n.modeView)}}let Xi=(()=>{var e;class s extends S.H{goToProfileStudent(){this.initStatusObj();const o=Number(this.commonService.getMyParam(this.activeRoute,"modeType"));this.myNavigationWithQueryString("/student/profile-student/0/0","?backTo="+encodeURIComponent("/auth/account-setting/1/"+(this.isTeacherDashboard?0:1)+o+"?tab=0"))}changModeView(o){let a=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString(`/auth/account-setting/${this.isTeacherDashboard?0:1}/`+o,a?"?backTo="+encodeURIComponent(a)+"&tab=0":"?tab=0")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(o){this.userObj=o}mobLogout(){this.sAztUserLogoutService.mobLogout()}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.isTeacherDashboard||this.mobileWebviewService.sendSimpleMessage("OPEN_PROFILE"),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.waitDestroy(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(o=>{(o?.supportFace||o?.supportFingerprint)&&(this.enableForFace=o.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(o?.isOnOfOff??!1)),this.stopStatusObj()}))}changeAccountStudent(){this.sAztDialogService.open(Kt.q,{data:!0,restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"})),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.waitDestroy((0,A.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;case 8:this.modeView="setting-azota-vip";break;case 9:this.modeView="revenue-from-gift";break;default:this.modeView="general"}const a=this.commonService.getMyQueryParam("modeView");a&&(this.modeView=a);let r=this.commonService.getMyQueryParam("backTo");this.backLink=r??(this.isTeacherDashboard?"/admin/dashboard":"/student/classroom/0")}))}constructor(o,a,r,l,m){super(),this.userService=o,this.redirectService=a,this.activeRoute=r,this.mobileWebviewService=l,this.sAztDialogService=m,this.sAztUserLogoutService=(0,t.WQX)(xt.d),this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new i.MJ(!1,{nonNullable:!0}),this.enableForFace=!1,this.isShowBiometricSetting=!1,this.sAztParentUserService=(0,t.WQX)(Zt.V)}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(H.R),t.rXU(st.m),t.rXU(_.nX),t.rXU(Rt.f),t.rXU(nt.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-account-setting"]],features:[t.Vt3],decls:4,vars:2,consts:[["MainContentTpl",""],[3,"headerBackToLink",4,"ngIf"],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-1aaFkwubF","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-pOR0okU-y","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],[3,"currentStatusObj"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"click","ngClass"],["name","user","size","16",3,"ngClass"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","lock","size","16",3,"ngClass"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","ruler","size","16",3,"ngClass"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","history","size","16",3,"ngClass"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["size","16",3,"name","ngClass"],[1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","gift","size","16",3,"ngClass"],["azt-track-service","account-setting-1aaFkwubF",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","bar-chart-3","size","16",3,"ngClass"],["azt-track-service","account-setting-pOR0okU-y",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],[1,"mr-2"],[3,"vipPackageType","isShowBadgeVip","trackingKey"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click","ngClass"],["name","trash-2","size","16",3,"ngClass"],[1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","hand","size","16",3,"ngClass"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["name","log-out","size","16",3,"ngClass"],[3,"saveUserObj","userObj","isTeacherDashboard"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(o,a){1&o&&t.DNE(0,ki,2,2,"teacher-layout",1)(1,yi,2,2,"student-layout",1)(2,Qi,35,32,"ng-template",null,0,t.C5r),2&o&&(t.Y8G("ngIf",a.isTeacherDashboard),t.R7$(),t.Y8G("ngIf",!a.isTeacherDashboard))},dependencies:[u.YU,u.bT,u.T3,u.B3,N.K,$t.F,te.n,At.Q,zt.j,y.WGl,yn,jn,Gn,qo,na,sa,_a,ti,vi,d.wp,d.hx],encapsulation:2}),s})();var jt=function(e){return e.NEW_PACKAGE="NEW_PACKAGE",e.EXTEND_PACKAGE="EXTEND_PACKAGE",e.UPGRADE_PACKAGE="UPGRADE_PACKAGE",e}(jt||{}),K=c(40509),se=c(60260);let re=(()=>{var e;class s extends S.H{getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesGet().subscribe(o=>{1===o.success?(this.packageList=o.data?.objs??[],this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.businessPackageService=(0,t.WQX)(se.WC),this.packageList=[]}}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-base-business-packages"]],inputs:{businessPackageType:"businessPackageType",businessRegisterId:"businessRegisterId",businessRegisterHash:"businessRegisterHash"},features:[t.Vt3],decls:0,vars:0,template:function(o,a){},encapsulation:2}),s})();const qi=()=>({"mr-2 flex-none":!0}),Yt=(e,s)=>({"text-slate-400":e,"text-success":s}),Ut=()=>({"flex-none":!0}),Qt=e=>({"text-slate-400":e});function Wi(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",6)(4,"div",7),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()(),t.j41(7,"div",8)(8,"div",9),t.EFF(9),t.nI1(10,"formatMoney"),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",10),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"div",11)(16,"div",12),t.nrm(17,"lucide-icon",13),t.j41(18,"div",14)(19,"span",15),t.EFF(20),t.nI1(21,"formatMoney"),t.nI1(22,"mytranslate"),t.k0s()()(),t.j41(23,"div",16)(24,"div",17),t.nrm(25,"lucide-icon",18),t.k0s(),t.j41(26,"div",14)(27,"span",19),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()(),t.j41(30,"div",16)(31,"div",20),t.nrm(32,"lucide-icon",18),t.k0s(),t.j41(33,"div",14)(34,"span",19),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s()()(),t.j41(37,"div",16)(38,"div",20),t.nrm(39,"lucide-icon",18),t.k0s(),t.j41(40,"div",14)(41,"span",19),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s()()(),t.j41(44,"div",16)(45,"div",17),t.nrm(46,"lucide-icon",18),t.k0s(),t.j41(47,"div",14)(48,"span",19),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()()(),t.j41(51,"div",21)(52,"button",22),t.bIt("click",function(){const a=t.eBV(n).$implicit,r=t.XpG();return t.Njj(r.choosePackage(a.id))}),t.EFF(53),t.nI1(54,"mytranslate"),t.k0s()()()()}if(2&e){const n=s.$implicit;t.R7$(5),t.JRh(t.bMT(6,26,n.name)),t.R7$(4),t.SpI(" ",t.bMT(10,28,n.price)+" "+t.bMT(11,30,"lang_auto_vnd_upper")," "),t.R7$(4),t.SpI(" "," / "+t.bMT(14,32,n.timeUnit)," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(48,qi)),t.R7$(3),t.SpI(" ",t.bMT(21,34,n.totalActiveStudentPerMonth)+" "+t.bMT(22,36,"lang_core_active_students_per_month")," "),t.R7$(4),t.Y8G("ngClass",t.l_i(49,Yt,!n.supportToIntegrateToOwnSystem,n.supportToIntegrateToOwnSystem)),t.R7$(),t.Y8G("name",n.supportToIntegrateToOwnSystem?"check":"x")("ngClass",t.lJ4(52,Ut)),t.R7$(2),t.Y8G("ngClass",t.eq3(53,Qt,!n.supportToIntegrateToOwnSystem)),t.R7$(),t.SpI(" ",t.bMT(29,38,"lang_core_support_integration_with_existing_system_users")," "),t.R7$(3),t.Y8G("ngClass",t.l_i(55,Yt,!n.supportOwnDomain,n.supportOwnDomain)),t.R7$(),t.Y8G("name",n.supportOwnDomain?"check":"x")("ngClass",t.lJ4(58,Ut)),t.R7$(2),t.Y8G("ngClass",t.eq3(59,Qt,!n.supportOwnDomain)),t.R7$(),t.SpI(" ",t.bMT(36,40,"lang_core_support_custom_domain")," "),t.R7$(3),t.Y8G("ngClass",t.l_i(61,Yt,!n.supportTechnical,n.supportTechnical)),t.R7$(),t.Y8G("name",n.supportTechnical?"check":"x")("ngClass",t.lJ4(64,Ut)),t.R7$(2),t.Y8G("ngClass",t.eq3(65,Qt,!n.supportTechnical)),t.R7$(),t.SpI(" ",t.bMT(43,42,"lang_core_dedicated_technical_support_during_usage")," "),t.R7$(3),t.Y8G("ngClass",t.l_i(67,Yt,!n.supportAdvanceReport,n.supportAdvanceReport)),t.R7$(),t.Y8G("name",n.supportAdvanceReport?"check":"x")("ngClass",t.lJ4(70,Ut)),t.R7$(2),t.Y8G("ngClass",t.eq3(71,Qt,!n.supportAdvanceReport)),t.R7$(),t.SpI(" ",t.bMT(50,44,"lang_core_support_building_extended_analysis_reports")," "),t.R7$(4),t.SpI(" ",t.bMT(54,46,"lang_auth_use")," ")}}let Se=(()=>{var e;class s extends S.H{constructor(){super(...arguments),this.packageList=[],this.choosePackageEvent=new t.bkB}choosePackage(o){this.choosePackageEvent.emit(o)}}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-packages-package-box"]],inputs:{packageList:"packageList"},outputs:{choosePackageEvent:"choosePackageEvent"},features:[t.Vt3],decls:7,vars:7,consts:[[1,"intro-y","text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8"],["class","col-span-12 md:col-span-6 lg:col-span-4",4,"ngFor","ngForOf"],[1,"text-center","pt-6","font-medium",3,"innerHTML"],[1,"col-span-12","md:col-span-6","lg:col-span-4"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center"],[1,"text-xl","font-medium"],[1,"mt-8","flex","items-center"],[1,"font-semibold","text-2xl","mr-1"],[1,"text-slate-500"],[1,"mt-8","text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-4"],["name","graduation-cap","size","20",3,"ngClass"],[1,"mt-0"],[1,"font-medium"],[1,"flex","mt-4"],[1,"mr-2",3,"ngClass"],["size","20",3,"name","ngClass"],[1,"font-medium",3,"ngClass"],[1,"flex-none","mr-2",3,"ngClass"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"div",1),t.DNE(4,Wi,55,73,"div",2),t.k0s(),t.nrm(5,"div",3),t.nI1(6,"mytranslate")),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,3,"lang_auth_choose_package_to_use"),"\n"),t.R7$(3),t.Y8G("ngForOf",a.packageList),t.R7$(),t.Y8G("innerHTML",t.bMT(6,5,"lang_business_package_please_contact_us_if_you_have_any_questions"),t.npT))},dependencies:[u.YU,u.Sq,y.WGl,d.wp,d.t0],encapsulation:2}),s})();function Ji(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",2),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Hi(e,s){if(1&e){const n=t.RV6();t.j41(0,"app-business-packages-package-box",3),t.bIt("choosePackageEvent",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.buyBusinessPackage(a))}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("packageList",n.packageList)}}let Ki=(()=>{var e;class s extends re{buyBusinessPackage(o){const a="userRole=teacher&productType=business_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o,this.businessRegisterId,this.businessRegisterHash,a).subscribe(r=>{1===r.success?(window.location.href=r.data?.value??"",this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getBusinessPackages()}constructor(o){super(),this.productOrderService=o}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(rt.Hg))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-packages-buy-new-package"]],features:[t.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"choosePackageEvent","packageList"]],template:function(o,a){if(1&o&&t.DNE(0,Ji,1,1,"azt-loading-effect",1)(1,Hi,1,1,"ng-template",null,0,t.C5r),2&o){const r=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.bT,N.K,Se],encapsulation:2}),s})(),Zi=(()=>{var e;class s extends re{buyBusinessPackage(){const o="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderExtendBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o).subscribe(a=>{1===a.success?(window.location.href=a.data?.value??"",this.successStatusObj()):this.errorStatusObj(a.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.buyBusinessPackage()}constructor(o,a,r){super(),this.userService=o,this.redirectService=a,this.productOrderService=r}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(H.R),t.rXU(st.m),t.rXU(rt.Hg))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-packages-extend-package"]],features:[t.Vt3],decls:1,vars:1,consts:[[3,"currentStatusObj"]],template:function(o,a){1&o&&t.nrm(0,"azt-loading-effect",0),2&o&&t.Y8G("currentStatusObj",a.statusObj)},dependencies:[N.K],encapsulation:2}),s})();function ts(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",2),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function es(e,s){if(1&e){const n=t.RV6();t.j41(0,"app-business-packages-package-box",3),t.bIt("choosePackageEvent",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.buyBusinessPackage(a))}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("packageList",n.packageList)}}let ns=(()=>{var e;class s extends re{buyBusinessPackage(o){const a="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderUpgradeBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o,a).subscribe(r=>{1===r.success?(window.location.href=r.data?.value??"",this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.getBusinessPackages()}constructor(o,a,r){super(),this.userService=o,this.redirectService=a,this.productOrderService=r}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(H.R),t.rXU(st.m),t.rXU(rt.Hg))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-packages-upgrade-package"]],features:[t.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"choosePackageEvent","packageList"]],template:function(o,a){if(1&o&&t.DNE(0,ts,1,1,"azt-loading-effect",1)(1,es,1,1,"ng-template",null,0,t.C5r),2&o){const r=t.sdS(2);t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[u.bT,N.K,Se],encapsulation:2}),s})();function os(e,s){if(1&e&&(t.qex(0),t.nrm(1,"app-business-packages-buy-new-package",2),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}function as(e,s){if(1&e&&(t.qex(0),t.nrm(1,"app-business-packages-extend-package",2),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}function is(e,s){if(1&e&&(t.qex(0),t.nrm(1,"app-business-packages-upgrade-package",2),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("businessPackageType",n.businessPackageType)("businessRegisterId",n.businessRegisterId)("businessRegisterHash",n.businessRegisterHash)}}let ss=(()=>{var e;class s extends S.H{ngOnInit(){super.ngOnInit(),this.businessPackageType=this.commonService.getEnumTypeWithDefault(jt,this.commonService.getMyParam(this.activeRoute,"businessPackageType")?.toUpperCase()??"",jt.NEW_PACKAGE),this.businessRegisterId=Number(this.commonService.getMyParam(this.activeRoute,"businessRegisterId")),this.businessRegisterHash=String(this.commonService.getMyParam(this.activeRoute,"businessRegisterHash"))}constructor(o){super(),this.activeRoute=o,this.allBusinessPackageType=jt,this.businessPackageType=jt.NEW_PACKAGE,this.businessRegisterId=0,this.businessRegisterHash=""}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(_.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-packages"]],features:[t.Vt3],decls:4,vars:5,consts:[[3,"maxWidth","contentBoxClass"],[4,"ngIf"],[3,"businessPackageType","businessRegisterId","businessRegisterHash"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout",0),t.DNE(1,os,2,3,"ng-container",1)(2,as,2,3,"ng-container",1)(3,is,2,3,"ng-container",1),t.k0s()),2&o&&(t.Y8G("maxWidth","950px")("contentBoxClass","bg-transparent shadow-none"),t.R7$(),t.Y8G("ngIf",a.businessPackageType==a.allBusinessPackageType.NEW_PACKAGE),t.R7$(),t.Y8G("ngIf",a.businessPackageType==a.allBusinessPackageType.EXTEND_PACKAGE),t.R7$(),t.Y8G("ngIf",a.businessPackageType==a.allBusinessPackageType.UPGRADE_PACKAGE))},dependencies:[u.bT,K.K,Ki,Zi,ns],encapsulation:2}),s})();var Ft=c(58227);const rs=()=>({"mr-2":!0}),ls=()=>({"dark:text-slate-500":!0});function cs(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_email")," "))}function _s(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function ms(e,s){if(1&e&&(t.j41(0,"div",17),t.DNE(1,cs,3,3,"span",2)(2,_s,3,3,"span",2),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.form.controls.email.errors.required),t.R7$(),t.Y8G("ngIf",n.form.controls.email.errors.email||n.form.controls.email.errors.pattern)}}function us(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function ds(e,s){if(1&e&&(t.j41(0,"div",18),t.DNE(1,us,3,3,"span",2),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors.required)}}function ps(e,s){1&e&&t.nrm(0,"azt-loading-ui",19)}function gs(e,s){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"form",6)(2,"div",7),t.nrm(3,"input",8),t.nI1(4,"mytranslate"),t.DNE(5,ms,3,2,"div",9),t.k0s(),t.j41(6,"div",7)(7,"div",10),t.nrm(8,"input",11),t.nI1(9,"mytranslate"),t.j41(10,"button",12),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.togglePassword())}),t.nrm(11,"lucide-icon",13),t.k0s()(),t.DNE(12,ds,2,1,"div",14),t.k0s(),t.j41(13,"div",3)(14,"button",15),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.confirmChangeEmail())}),t.DNE(15,ps,1,0,"azt-loading-ui",16),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("formGroup",n.form),t.R7$(2),t.FS9("placeholder",t.bMT(4,11,"lang_auto_nhap_email_moi")),t.R7$(2),t.Y8G("ngIf",n.form.controls.email.errors&&n.form.controls.email.dirty),t.R7$(3),t.FS9("placeholder",t.bMT(9,13,"lang_auto_mat_khau")),t.Y8G("type",n.showPassword?"text":"password"),t.R7$(3),t.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",t.lJ4(17,ls)),t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors&&(n.form.controls.password.dirty||n.form.controls.password.touched)),t.R7$(2),t.Y8G("disabled",n.statusObj.loading||n.form.invalid),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,15,"lang_button_confirm")," ")}}function hs(e,s){if(1&e&&(t.j41(0,"div")(1,"div",20)(2,"div",21)(3,"p",22),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"b"),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),t.R7$(3),t.JRh(n.oldEmail),t.R7$(),t.SpI(" ",t.bMT(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let fs=(()=>{var e;class s extends S.H{confirmChangeEmail(){this.form.valid&&(this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoChangeEmailByPasswordPost({newEmail:this.form.controls.email.value,password:this.form.controls.password.value}).subscribe(a=>{if(1==a.success){let r=a.data?.value;if(r){this.successStatusObj("lang_auth_email_changed_successfully",!0);let l=this.userService.getUserObj();l.email=r,this.userService.saveUserObj(l),this.localStorageObject.clearAllCache(),this.backToRedirect()}else this.errorStatusObj("lang_auto_vui_long_nhap_email",!0)}else this.errorStatusObj(a.message??"",!0)})))}backToRedirect(){let o=this.getMyQueryParam("return_url");o&&this.myNavigation(o)}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,a,r){super(),this.userInfoService=o,this.localStorageObject=a,this.userService=r,this.step=1,this.oldEmail="",this.showPassword=!1,this.form=new i.gE({email:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,i.k0.email,i.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),password:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.fv),t.rXU(Ft.G),t.rXU(H.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-account"]],features:[t.Vt3],decls:12,vars:10,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","autocomplete","new-email","name","email","formControlName","email",1,"form-control","py-3","px-4",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[2,"position","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","py-3","px-4","w-full",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","font-medium","mt-1"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout")(1,"h2",0),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",1),t.DNE(5,gs,18,18,"div",2)(6,hs,10,7,"div",2),t.j41(7,"div",3)(8,"a",4),t.bIt("click",function(){return a.backToRedirect()}),t.nrm(9,"lucide-icon",5),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()()),2&o&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_doi_email_moi")," "),t.R7$(3),t.Y8G("ngIf",1==a.step),t.R7$(),t.Y8G("ngIf",!a.statusObj.loading&&2==a.step),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,rs)),t.R7$(),t.SpI(" ",t.bMT(11,7,"lang_auto_quay_lai")," "))},dependencies:[u.YU,u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,W.t,x.R,K.K,y.WGl,d.wp],encapsulation:2}),s})();var at=c(64396);function vs(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",16),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}let bs=(()=>{var e;class s extends S.H{chooseRegisterStudent(){let o=this.commonService.getMyQueryParam("return_url");o&&(o.includes("/vi")||o.includes("/en"))&&(o=o.substring(3)),this.myNavigation(o||"/student/classroom/0")}chooseRegisterTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(o=>{if(1==o.success){let a=this.commonService.getMyQueryParam("return_url");a&&(a.includes("/vi")||a.includes("/en"))&&(a=a.substring(3)),this.myNavigation(a||"/admin/dashboard")}else this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(o,a){super(),this.userInfoService=o,this.redirectByRoleService=a}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.fv),t.rXU(at.b))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-download-answer-sheet"]],features:[t.Vt3],decls:28,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["name","graduation-cap","size","36"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"],[3,"currentStatusObj"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"div",2),t.j41(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"img",6),t.nI1(7,"getLinkLogo"),t.j41(8,"h3",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",8)(12,"div",9),t.DNE(13,vs,1,1,"azt-loading-effect",10),t.j41(14,"div",11),t.bIt("click",function(){return a.chooseRegisterStudent()}),t.j41(15,"div",12),t.nrm(16,"lucide-icon",13),t.j41(17,"p"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()(),t.j41(20,"div",14),t.bIt("click",function(){return a.chooseRegisterTeacher()}),t.j41(21,"div",12),t.nrm(22,"img",15),t.nI1(23,"coreModConvertCdnLinkOfGitHub"),t.j41(24,"p"),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()()()()(),t.nrm(27,"div",2),t.k0s()()),2&o&&(t.R7$(6),t.Y8G("src",t.bMT(7,6,"bigLogo"),t.B4B),t.R7$(3),t.JRh(t.bMT(10,8,"lang_auto_chon_vai_tro")),t.R7$(4),t.Y8G("ngIf",a.statusObj.loading),t.R7$(5),t.JRh(t.bMT(19,10,"lang_auto_toi_la_hoc_sinh")),t.R7$(4),t.Y8G("src",t.bMT(23,12,"images/teacher.png"),t.B4B),t.R7$(3),t.JRh(t.bMT(26,14,"lang_auto_toi_la_giao_vien")))},dependencies:[u.bT,N.K,y.WGl,d.wp,d.Vs,d.ph],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),s})();const ks=e=>[e],ys=()=>({user_click:"true"});function Cs(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",13)(1,"div",14),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"div",15)(9,"button",16),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.ignoreRequest())}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",17),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.confirmPassword())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()}2&e&&(t.R7$(2),t.SjE(" ",t.bMT(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',t.bMT(4,9,"lang_auto_xac_nhan"),'" ',t.bMT(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',t.bMT(6,13,"lang_auto_huy"),'" ',t.bMT(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),t.R7$(8),t.SpI(" ",t.bMT(11,17,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(14,19,"lang_cms_common_confirm_btn")," "))}function Is(e,s){1&e&&(t.j41(0,"div")(1,"div",18),t.nrm(2,"azt-loading-ui",19),t.j41(3,"span",20),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(4),t.SpI("",t.bMT(5,1,"lang_cms_common_loading"),"..."))}function Ss(e,s){1&e&&(t.j41(0,"div",22)(1,"div",23),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",24)(5,"div",25)(6,"a",26),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),t.R7$(4),t.Y8G("routerLink",t.eq3(10,ks,t.bMT(7,6,"/auth/login")))("queryParams",t.lJ4(12,ys)),t.R7$(2),t.JRh(t.bMT(9,8,"lang_auto_dang_nhap_tai_khoan")))}function xs(e,s){if(1&e&&(t.j41(0,"div",22)(1,"div",27),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(2),t.E5c("",t.bMT(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",t.bMT(4,5,n.hasErrorMessage),"",t.bMT(5,7,"lang_auto__vui_long_thu_lai_sau"),"")}}function Rs(e,s){if(1&e&&(t.j41(0,"div"),t.DNE(1,Ss,10,13,"div",21)(2,xs,6,9,"ng-template",null,0,t.C5r),t.k0s()),2&e){const n=t.sdS(3),o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.hasErrorMessage)("ngIfElse",n)}}let Ts=(()=>{var e;class s extends S.H{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var a={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(a).subscribe(r=>{1==r.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=r.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,a){super(),this.redirectByRoleService=o,this.smsService=a,this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(at.b),t.rXU(k.$T))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-forgot-password-email"]],features:[t.Vt3],decls:18,vars:9,consts:[["errorChangePass",""],[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],[1,"mr-1"],[1,"sr-only","ml-2"],["class","col-sm-12",4,"ngIf","ngIfElse"],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(o,a){1&o&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"div",4),t.j41(4,"div",5),t.nrm(5,"img",6),t.nI1(6,"getLinkLogo"),t.j41(7,"div",7)(8,"div",8)(9,"span",9),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",10)(13,"div"),t.DNE(14,Cs,15,21,"div",11),t.k0s(),t.DNE(15,Is,6,3,"div",12)(16,Rs,4,2,"div",12),t.k0s()()(),t.nrm(17,"div",4),t.k0s()()()),2&o&&(t.R7$(5),t.Y8G("src",t.bMT(6,5,"bigLogo"),t.B4B),t.R7$(5),t.JRh(t.bMT(11,7,"lang_auto_doi_mat_khau_moi")),t.R7$(4),t.Y8G("ngIf",1==a.step),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.Y8G("ngIf",!a.statusObj.loading&&2==a.step))},dependencies:[_.Wk,u.bT,Bt.$z,x.R,d.F2,d.wp,d.ph],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),s})(),ws=(()=>{var e;class s{get windowRef(){return window}}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac}),s})();var js=c(7919);const Fs=()=>({"dark:text-slate-500":!0}),Es=()=>({"mr-2":!0});function Os(e,s){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Gs(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Ms(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ps(e,s){if(1&e&&(t.j41(0,"div",20),t.DNE(1,Gs,3,3,"span",21)(2,Ms,3,3,"span",21),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors.required),t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function $s(e,s){1&e&&t.nrm(0,"azt-loading-ui",22)}let As=(()=>{var e;class s extends S.H{handleClickLogout(){if("forgot_password"==this.confirmType||"change_phone"==this.confirmType)return this.redirectByRoleService.redirectLoginByRole("");this.sAztUserLogoutService.logout("redirectToSimpleLogin")}togglePassword(){this.showPassword=!this.showPassword}handleBackToLink(){let o=this.getMyQueryParam("return_url")??"/auth/account-setting/0/0";this.commonService.myNavigation(o)}handleUpdatePhoneNumber(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj(),this.userInfoService.apiUserInfoChangePhoneByPasswordPost({newPhone:this.form.controls.newPhone.value,password:this.form.controls.password.value}).subscribe(a=>{if(1==a.success){const r=a.data?.value;if(r){this.successStatusObj("lang_auto_cap_nhat_so_dien_thoai_thanh_cong",!0);let l=this.userService.getUserObj();l.phone=r,this.userService.saveUserObj(l),this.localStorageObject.clearAllCache(),this.handleBackToLink()}}else this.errorStatusObj(a.message??"",!0)})}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}getTranslateMetaData(o){switch(o){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}getData(){"forgot_password"!==this.confirmType&&this.userInfoService.apiUserInfoInfoGet().subscribe(o=>{1==o.success?1==o?.new_user?.isVerifyPhone?"change_phone"!=this.confirmType&&this.redirectByRoleService.redirectLoginByRole(""):o?.new_user?.phone&&o?.new_user?.phone.length<=10?this.form.controls.newPhone.setValue(""):(this.form.controls.newPhone.setValue(""),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(a=>{this.showErrorSnack(a+(o.message?" | "+o.message:""))})})}ngOnInit(){super.ngOnInit(),this.confirmType=this.getConfirmType(),this.getData(),this.getTranslateMetaData(this.confirmType)}constructor(o,a,r,l,m){super(),this.redirectByRoleService=o,this.userService=a,this.userInfoService=r,this.redirectService=l,this.localStorageObject=m,this.sAztUserLogoutService=(0,t.WQX)(xt.d),this.confirmType="forgot_password",this.showPassword=!1,this.form=new i.gE({newPhone:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,i.k0.minLength(10),i.k0.maxLength(10),i.k0.pattern(/^[0-9]*$/)]}),password:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(at.b),t.rXU(H.R),t.rXU(k.fv),t.rXU(st.m),t.rXU(Ft.G))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-account"]],features:[t.Jv_([ws]),t.Vt3],decls:30,vars:28,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"mt-2"],[3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"azt-form-group"],["id","phoneInput","type","text","appOnlyNumber","","formControlName","newPhone","name","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"btn","btn-primary","px-4","py-3","w-full","mt-4",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mt-4"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout")(1,"div",0)(2,"h2",1),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",2)(7,"form",3)(8,"div",4)(9,"div",5)(10,"div",6),t.nrm(11,"input",7),t.nI1(12,"mytranslate"),t.DNE(13,Os,3,3,"div",8),t.k0s(),t.j41(14,"div",9),t.nrm(15,"input",10),t.nI1(16,"mytranslate"),t.j41(17,"button",11),t.bIt("click",function(){return a.togglePassword()}),t.nrm(18,"lucide-icon",12),t.k0s(),t.DNE(19,Ps,3,2,"div",13),t.k0s(),t.j41(20,"button",14),t.bIt("click",function(){return a.handleUpdatePhoneNumber()}),t.DNE(21,$s,1,0,"azt-loading-ui",15),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()(),t.nrm(24,"hr"),t.j41(25,"div",16)(26,"a",17),t.bIt("click",function(){return a.handleBackToLink()}),t.nrm(27,"lucide-icon",18),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()()()()),2&o&&(t.R7$(3),t.SpI(" ","change_phone"==a.confirmType?t.bMT(4,14,"lang_auto_doi_so_diem_thoai_moi"):t.bMT(5,16,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),t.R7$(4),t.Y8G("formGroup",a.form),t.R7$(4),t.FS9("placeholder",t.bMT(12,18,"lang_auto_nhap_so_dien_thoai_moi")),t.R7$(2),t.Y8G("ngIf",(a.form.controls.newPhone.dirty||a.form.controls.newPhone.touched)&&a.form.controls.newPhone.errors),t.R7$(2),t.FS9("type",a.showPassword?"text":"password"),t.FS9("placeholder",t.bMT(16,20,"lang_auto_mat_khau")),t.R7$(3),t.Y8G("name",a.showPassword?"eye":"eye-off")("ngClass",t.lJ4(26,Fs)),t.R7$(),t.Y8G("ngIf",a.form.controls.password.errors&&(a.form.controls.password.dirty||a.form.controls.password.touched)),t.R7$(),t.Y8G("disabled",a.statusObj.loading),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(23,22,"lang_cms_common_confirm_btn")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(27,Es)),t.R7$(),t.SpI(" ",t.bMT(29,24,"lang_auto_quay_lai")," "))},dependencies:[u.YU,u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,js.Z,W.t,x.R,K.K,y.WGl,d.wp],encapsulation:2}),s})();var zs=c(407),mt=c(44477),le=c(23837);const kt=e=>[e],Ls=e=>({return_url:e}),yt=()=>({"mr-2":!0}),Et=()=>({user_click:"true"}),Ds=()=>({"text-success":!0}),Bs=()=>({"mx-auto text-success":!0});function Ns(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",2),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Vs(e,s){1&e&&(t.j41(0,"h2",7),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_quen_mat_khau")," "))}function Ys(e,s){1&e&&(t.j41(0,"div",30)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Us(e,s){if(1&e&&(t.j41(0,"div",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,n.msgError)," ")}}function Qs(e,s){1&e&&(t.j41(0,"span",31),t.nrm(1,"lucide-icon",32),t.k0s())}function Xs(e,s){1&e&&(t.j41(0,"span",31),t.nrm(1,"lucide-icon",33),t.k0s())}function qs(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Ws(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Js(e,s){if(1&e&&(t.j41(0,"div",30),t.DNE(1,qs,3,3,"span",6)(2,Ws,3,3,"span",6),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors.required),t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function Hs(e,s){1&e&&t.nrm(0,"azt-loading-ui",34)}function Ks(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",8)(2,"div",9)(3,"input",10),t.nI1(4,"mytranslate"),t.bIt("input",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.isInvalidUserPhoneOrEmail(a.form.controls.emailOrPhone.value))}),t.k0s(),t.DNE(5,Ys,4,3,"div",11)(6,Us,3,3,"div",11),t.k0s(),t.j41(7,"div",12),t.nrm(8,"input",13),t.nI1(9,"mytranslate"),t.j41(10,"button",14),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.togglePassword())}),t.DNE(11,Qs,2,0,"span",15)(12,Xs,2,0,"span",15),t.k0s(),t.DNE(13,Js,3,2,"div",11),t.k0s()(),t.j41(14,"div",16)(15,"a",17),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",18)(19,"button",19),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.changePassword())}),t.DNE(20,Hs,1,0,"azt-loading-ui",20),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"div",21)(24,"span",22),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",23)(28,"button",24),t.nI1(29,"navigationLocalize"),t.nrm(30,"lucide-icon",25),t.j41(31,"span",26),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()()(),t.j41(34,"div",27)(35,"a",28),t.nI1(36,"navigationLocalize"),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.removeKeyStorage())}),t.nrm(37,"lucide-icon",29),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s()(),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(3),t.FS9("placeholder",t.bMT(4,21,"lang_auto_email_hoac_so_dien_thoai")),t.R7$(2),t.Y8G("ngIf",n.form.controls.emailOrPhone.errors&&(n.form.controls.emailOrPhone.dirty||n.form.controls.emailOrPhone.touched)&&!n.msgError),t.R7$(),t.Y8G("ngIf",n.msgError),t.R7$(2),t.FS9("type",n.showPassword?"text":"password"),t.FS9("placeholder",t.bMT(9,23,"lang_auto_mat_khau_moi")),t.R7$(3),t.Y8G("ngIf",n.showPassword),t.R7$(),t.Y8G("ngIf",!n.showPassword),t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors&&(n.form.controls.password.dirty||n.form.controls.password.touched)),t.R7$(3),t.SpI(" ",t.bMT(17,25,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),t.R7$(3),t.Y8G("disabled",n.form.invalid),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(22,27,"lang_auto_tiep_tuc")," "),t.R7$(4),t.SpI(" ",t.bMT(26,29,"lang_auto_hoac")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(39,kt,t.bMT(29,31,"/auth/confirm_forgot_password_qr")))("queryParams",t.eq3(41,Ls,n.backLink)),t.R7$(2),t.Y8G("ngClass",t.lJ4(43,yt)),t.R7$(2),t.SpI(" ",t.bMT(33,33,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(44,kt,t.bMT(36,35,n.backLink?n.backLink:"/auth/login")))("queryParams",t.lJ4(46,Et)),t.R7$(2),t.Y8G("ngClass",t.lJ4(47,yt)),t.R7$(),t.SpI(" ",t.bMT(39,37,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Zs(e,s){if(1&e&&(t.j41(0,"div",44)(1,"a",45),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e){const n=t.XpG(3);t.R7$(),t.BMQ("href","sms:"+n.phoneSend+(n.isCheckIos?"&":"?")+"body=MK "+(null==n.responseChangePass?null:n.responseChangePass.otp),t.B4B),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets")," ")}}function tr(e,s){1&e&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "))}function er(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",46),t.bIt("click",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.changeStepByNext())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_tiep_tuc")," "))}function nr(e,s){if(1&e&&(t.j41(0,"div",47),t.nrm(1,"azt-loading-ui",34),t.j41(2,"div",47),t.EFF(3),t.k0s()()),2&e){const n=t.XpG(3);t.R7$(3),t.JRh(n.currentMessage)}}function or(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",35)(2,"div",26),t.EFF(3),t.nI1(4,"mytranslate"),t.j41(5,"strong"),t.EFF(6),t.k0s(),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",36)(10,"strong"),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.j41(14,"strong"),t.EFF(15),t.k0s()(),t.DNE(16,Zs,4,4,"div",37),t.j41(17,"div",38),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.DNE(20,tr,3,3,"div",37),t.j41(21,"div",39),t.DNE(22,er,3,3,"button",40)(23,nr,4,1,"div",41),t.k0s()(),t.j41(24,"div",27)(25,"a",42),t.nI1(26,"navigationLocalize"),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.removeKeyStorage())}),t.nrm(27,"lucide-icon",43),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()(),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,15,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),t.R7$(3),t.JRh(n.form.controls.emailOrPhone.value),t.R7$(),t.SpI(" ",t.bMT(8,17,"lang_auto_va_soan_tin_nhan"),": "),t.R7$(4),t.SpI("MK ",null==n.responseChangePass?null:n.responseChangePass.otp,""),t.R7$(),t.SpI(" ",t.bMT(13,19,"lang_auto_gui")," "),t.R7$(3),t.JRh(n.phoneSend),t.R7$(),t.Y8G("ngIf",n.isMobileDevice),t.R7$(2),t.SpI("(",t.bMT(19,21,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),")"),t.R7$(2),t.Y8G("ngIf",2===n.step),t.R7$(2),t.Y8G("ngIf",2==n.step),t.R7$(),t.Y8G("ngIf",3===n.step),t.R7$(2),t.Y8G("routerLink",t.eq3(27,kt,t.bMT(26,23,n.backLink?n.backLink:"/auth/login")))("queryParams",t.lJ4(29,Et)),t.R7$(2),t.Y8G("ngClass",t.lJ4(30,yt)),t.R7$(),t.SpI(" ",t.bMT(29,25,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function ar(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",48)(2,"div",49),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",50)(6,"a",51),t.nI1(7,"navigationLocalize"),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.removeKeyStorage())}),t.nrm(8,"lucide-icon",29),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(11,kt,t.bMT(7,7,n.backLink?n.backLink:"/auth/login")))("queryParams",t.lJ4(13,Et)),t.R7$(2),t.Y8G("ngClass",t.lJ4(14,yt)),t.R7$(),t.SpI(" ",t.bMT(10,9,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function ir(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",35)(2,"div",47),t.nrm(3,"lucide-icon",52),t.k0s(),t.j41(4,"div",53),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",54),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"b"),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",50)(15,"div",55)(16,"a",56),t.nI1(17,"navigationLocalize"),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.removeKeyStorage())}),t.nrm(18,"lucide-icon",29),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()(),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(3),t.Y8G("ngClass",t.lJ4(19,Ds)),t.R7$(2),t.SpI(" ",t.bMT(6,9,"lang_auto_kiem_tra_email_cua_ban")," "),t.R7$(3),t.SpI(" ",t.bMT(9,11,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),t.R7$(3),t.JRh(n.form.controls.emailOrPhone.value),t.R7$(),t.SpI(" ",t.bMT(13,13,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),t.R7$(4),t.Y8G("routerLink",t.eq3(20,kt,t.bMT(17,15,n.backLink?n.backLink:"/auth/login")))("queryParams",t.lJ4(22,Et)),t.R7$(2),t.Y8G("ngClass",t.lJ4(23,yt)),t.R7$(),t.SpI(" ",t.bMT(20,17,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function sr(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",57)(2,"div",47),t.nrm(3,"lucide-icon",58),t.k0s(),t.j41(4,"div",53),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",59),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",60)(11,"div",55)(12,"a",56),t.nI1(13,"navigationLocalize"),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.removeKeyStorage())}),t.nrm(14,"lucide-icon",29),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()(),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(3),t.Y8G("ngClass",t.lJ4(15,Bs)),t.R7$(2),t.SpI(" ",t.bMT(6,7,"lang_auth_password_changed")," "),t.R7$(3),t.SpI(" ",t.bMT(9,9,"lang_auth_your_password_has_been_changed_successfully")," "),t.R7$(4),t.Y8G("routerLink",t.eq3(16,kt,t.bMT(13,11,n.backLink?n.backLink:"/auth/login")))("queryParams",t.lJ4(18,Et)),t.R7$(2),t.Y8G("ngClass",t.lJ4(19,yt)),t.R7$(),t.SpI(" ",t.bMT(16,13,n.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function rr(e,s){if(1&e&&(t.j41(0,"div",3)(1,"form",4),t.DNE(2,Vs,3,3,"h2",5)(3,Ks,40,48,"ng-container",6)(4,or,30,31,"ng-container",6)(5,ar,11,15,"ng-container",6)(6,ir,21,24,"ng-container",6)(7,sr,17,20,"ng-container",6),t.k0s()()),2&e){const n=t.XpG();t.R7$(),t.Y8G("formGroup",n.form),t.R7$(),t.Y8G("ngIf",7!==n.step&&6!==n.step),t.R7$(),t.Y8G("ngIf",1==n.step),t.R7$(),t.Y8G("ngIf",2==n.step||3==n.step),t.R7$(),t.Y8G("ngIf",!n.statusObj.loading&&4==n.step),t.R7$(),t.Y8G("ngIf",5==n.step),t.R7$(),t.Y8G("ngIf",6==n.step)}}let lr=(()=>{var e;class s extends S.H{isInvalidUserPhoneOrEmail(o){this.msgError=mt.U.validPhoneOrEmail(o)}randomPhone(o){if(o.includes(",")){let a=o.split(",");return a[this.commonService.getRandomNumber(0,a.length-1)]}return o}removeKeyStorage(){this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"),this.browserStorageService.removeStorage("azt_response_change_pass")}onOtpChange(o){this.otp=o}togglePassword(){this.showPassword=!this.showPassword}changePassword(){this.form.valid?(this.initStatusObj(),this.smsService.apiSmsChangePassPost({phone:this.form.controls.emailOrPhone.value,password:this.form.controls.password.value}).subscribe(a=>{if(1==a.success)if(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@"))this.step=5;else{this.step=2,this.responseChangePass=a.data;const r=this.serializeJson(this.responseChangePass??{});this.browserStorageService.saveStorage("azt_response_change_pass",r)}else this.errorStatusObj(a.message??"",!0)})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callChangePasswordOtpApi(o,a){this.smsService.apiSmsSendOtpPost(o).subscribe(r=>{1==r.success?(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@")?this.step=5:(this.step=7,this.tokenChangePass=r.data?.value??"",this.durationOtp=300,this.timerOtp(this.durationOtp),this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.saveStorage("duration_otp_forgot_password",this.durationOtp.toString()),this.browserStorageService.saveStorage("token_forgot_password",this.tokenChangePass.toString()))):this.errorStatusObj(r.message??"",!0)})}changePasswordOtp(){this.initStatusObj();const o=this.browserStorageService.getStorage("azt_phone_change_password")??"",a=this.browserStorageService.getStorage("azt_pass_change_password")??"";if(!o||!a)return;const r={phone:o,password:a};this.executeImportantAction().then(l=>{this.callChangePasswordOtpApi(r,l)}).catch(l=>{this.callChangePasswordOtpApi(r,"")})}verifyOTP(){6===this.otp.length?this.waitDestroy(this.smsService.apiSmsConfirmChangePassByPhoneOtpPost({otp:this.otp,secret:this.tokenChangePass}).subscribe(o=>{o.success?(this.step=6,this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password")):this.errorStatusObj(o.message??"",!0)})):this.showErrorSnack("lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(o=>{1==o.success?(this.successStatusObj(),this.phoneSend=this.randomPhone(o.data?.phone??"")):this.errorStatusObj(o.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(a=>{this.currentMessage=a}),this.form.controls.emailOrPhone.value&&this.form.controls.password.value&&(this.browserStorageService.saveStorage("azt_phone_change_password",this.form.controls.emailOrPhone.value),this.browserStorageService.saveStorage("azt_pass_change_password",this.form.controls.password.value)),this.getSecondTimeChangePassword(),this.step=3;const o=this.browserStorageService.getStorage("azt_phone_change_password")??"";this.loopCheck=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(o).subscribe(a=>{1==a.success?(this.successStatusObj(),1==a.data?.status&&(this.step=6,clearInterval(this.loopCheck))):(this.errorStatusObj(a.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(r=>{this.currentMessage=r}),clearInterval(this.loopCheck))})},1e3)}saveRemaining(o){o&&!(0,zs.isNaN)(o)&&this.browserStorageService.saveStorage("duration_otp_forgot_password",o.toString())}executeImportantAction(){return new Promise(o=>{this.recaptchaV3Service.execute("importantAction").subscribe(a=>{o(a)})})}getSecondTimeChangePassword(){const o=this.browserStorageService.getStorage("azt_phone_change_password");o&&(this.form.controls.emailOrPhone.value||this.form.controls.emailOrPhone.setValue(o),this.loading=!0,this.waitDestroy(this.smsService.apiSmsGetSecondGet(o).subscribe(a=>{if(a.success){const r=a.data?.status;if(0===r&&(this.changePasswordOtp(),this.browserStorageService.removeStorage("azt_response_change_pass")),r&&r>0){const l=this.browserStorageService.getStorage("azt_response_change_pass")??"";this.responseChangePass=this.castJsonToObj(l),this.step=3,this.timer(r),this.loopCheck||this.changeStepByNext()}-1===r&&(this.step=1,this.removeKeyStorage())}else this.errorStatusObj(a.message??"");this.loading=!1})))}timerOtp(o){let a="0",r=o%60;const l=o/60<10?"0":"";this.loopCheckTimeOtp=window.setInterval(()=>{o--,0!=r?r--:r=o%60,a=r<10?"0"+r:r,this.displayTimeOtp=`${l}${Math.floor(o/60)}:${a}`,this.saveRemaining(o),0==o&&(clearInterval(this.loopCheckTimeOtp),this.showErrorSnack("lang_core_expired_otp"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"))},1e3)}timer(o){let a="0",r=o%60;const l=o/60<10?"0":"";this.loopCheckTime=window.setInterval(()=>{o--,0!=r?r--:r=o%60,a=r<10?"0"+r:r,this.displayTime=`${l}${Math.floor(o/60)}:${a}`,this.saveRemaining(o)},1e3)}ngOnInit(){super.ngOnInit(),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),this.getSecondTimeChangePassword()}constructor(o,a,r){super(),this.smsService=o,this.browserStorageService=a,this.recaptchaV3Service=r,this.backLink="",this.step=1,this.currentMessage="",this.phoneSend="",this.isOnApp=!1,this.isCheckIos=!1,this.tokenChangePass="",this.msgError="",this.showPassword=!1,this.otp="",this.durationOtp=0,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:""},this.displayTimeOtp="",this.displayTime="",this.loading=!1,this.form=new i.gE({emailOrPhone:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),hash:new i.MJ("",{nonNullable:!0}),password:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,i.k0.minLength(6)]}),confirm_password:new i.MJ("",{nonNullable:!0})})}ngOnDestroy(){this.loopCheck&&clearInterval(this.loopCheck),this.loopCheckTimeOtp&&clearInterval(this.loopCheckTimeOtp),this.loopCheckTime&&clearInterval(this.loopCheckTime),super.ngOnDestroy()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.$T),t.rXU(Tt.z),t.rXU(le.ob))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf"],["class","azt-forget-password",4,"ngIf"],[3,"currentStatusObj"],[1,"azt-forget-password"],[3,"formGroup"],["class","intro-x font-bold text-2xl text-center",4,"ngIf"],[4,"ngIf"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"input","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","dark:text-slate-500",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],["name","scan-line","size","18",3,"ngClass"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200","flex","items-center",3,"click","routerLink","queryParams"],["name","chevron-left","size","18",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"dark:text-slate-500"],["name","eye","size","24"],["name","eye-off","size","24"],[1,"mr-1"],[1,"index-x","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3",2,"font-style","italic"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-primary","dark:text-slate-200","flex","items-center",3,"click","routerLink","queryParams"],["name","chevron-left","size","16",3,"ngClass"],[1,"sms-info","text-center","mb-3"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I",1,"btn-text-primary"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],[1,"index-x","box","p-5","mt-8","test"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"click","routerLink","queryParams"],["name","mail-check","size","64",3,"ngClass"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"click","routerLink","queryParams"],[1,"index-x","mt-5"],["name","circle-check","size","64",3,"ngClass"],[1,"text-md","mt-1","px-5","text-center"],[1,"text-center","mt-5"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout"),t.DNE(1,Ns,1,1,"azt-loading-effect",0)(2,rr,8,7,"div",1),t.k0s()),2&o&&(t.R7$(),t.Y8G("ngIf",a.loading),t.R7$(),t.Y8G("ngIf",!a.loading))},dependencies:[_.Wk,u.YU,u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,N.K,W.t,x.R,K.K,y.WGl,d.F2,d.wp]}),s})();const cr=e=>[e],_r=()=>({user_click:"true"});function mr(e,s){1&e&&(t.j41(0,"div")(1,"div",11),t.nrm(2,"azt-loading-ui"),t.j41(3,"span",12),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(4),t.SpI("",t.bMT(5,1,"lang_cms_common_loading"),"..."))}function ur(e,s){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function dr(e,s){if(1&e&&(t.j41(0,"div",27),t.DNE(1,ur,3,3,"div",10),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function pr(e,s){if(1&e&&(t.j41(0,"div",13)(1,"label",28),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(2),t.SpI("*** ",t.bMT(3,1,n.statusObj.errorMessage),"")}}function gr(e,s){1&e&&t.nrm(0,"azt-loading-ui",29)}function hr(e,s){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),t.nrm(4,"input",16),t.nI1(5,"mytranslate"),t.j41(6,"div",17),t.nrm(7,"lucide-icon",18),t.k0s()(),t.DNE(8,dr,2,1,"div",19),t.k0s()(),t.DNE(9,pr,4,3,"div",20),t.j41(10,"div",21)(11,"div",14)(12,"div",22)(13,"button",23),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.form.invalid||a.statusObj.loading||a.changePassword())}),t.DNE(14,gr,1,0,"azt-loading-ui",24),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()(),t.nrm(17,"hr"),t.j41(18,"div",25)(19,"a",26),t.nI1(20,"navigationLocalize"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(4),t.FS9("placeholder",t.bMT(5,9,"lang_auto_mat_khau_moi")),t.R7$(4),t.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),t.R7$(),t.Y8G("ngIf",n.statusObj.errorMessage),t.R7$(4),t.Y8G("disabled",n.form.invalid||n.statusObj.loading),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(16,11,"lang_auto_doi_mat_khau")," "),t.R7$(4),t.Y8G("routerLink",t.eq3(17,cr,t.bMT(20,13,"/auth/login")))("queryParams",t.lJ4(19,_r)),t.R7$(2),t.SpI(" ",t.bMT(22,15,"lang_auto_dang_nhap_tai_khoan")," ")}}let fr=(()=>{var e;class s extends S.H{getError(o){return!!this.form.controls[o].errors&&this.form.controls[o].errors}getErrorType(o,a){return!!this.form.controls[o].errors?.[a]&&this.form.controls[o].errors?.[a]}getFormValue(){return this.form.getRawValue()}changePassword(){if(this.form.valid){var o=this.getFormValue(),a=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(a??"",o.password).subscribe(r=>{1==r.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(r.message??"")}))}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,a){super(),this.redirectByRoleService=o,this.userInfoService=a,this.form=new i.gE({emailOrPhone:new i.MJ("",{nonNullable:!0}),hash:new i.MJ("",{nonNullable:!0}),password:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,i.k0.minLength(6)]}),confirm_password:new i.MJ("",{nonNullable:!0})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(at.b),t.rXU(k.fv))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-forgot-password-admin"]],features:[t.Vt3],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["name","lock","size","20","id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mr-1"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2),t.nrm(3,"div",3),t.j41(4,"div",4),t.nrm(5,"img",5),t.nI1(6,"getLinkLogo"),t.j41(7,"div",6)(8,"div",7)(9,"span",8),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",9),t.DNE(13,mr,6,3,"div",10)(14,hr,23,20,"div",10),t.k0s()()(),t.nrm(15,"div",3),t.k0s()()()),2&o&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(4),t.Y8G("src",t.bMT(6,5,"bigLogo"),t.B4B),t.R7$(5),t.JRh(t.bMT(11,7,"lang_auto_doi_mat_khau_moi")),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.Y8G("ngIf",!a.statusObj.loading))},dependencies:[_.Wk,u.bT,i.qT,i.me,i.BC,i.cb,Bt.$z,i.j4,i.JD,W.t,x.R,y.WGl,d.F2,d.wp,d.ph],encapsulation:2}),s})();var Xt=c(42358),V=c(73014);const vr=(()=>{class e{constructor(n,o,a,r,l){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=n,this.$canvas=document.createElement("canvas"),a&&"object"==typeof a?this._onDecode=o:(console.warn(a||r||l?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=o),this._onDecodeError=(o="object"==typeof a?a:{}).onDecodeError||("function"==typeof a?a:this._onDecodeError),this._calculateScanRegion=o.calculateScanRegion||("function"==typeof r?r:this._calculateScanRegion),this._preferredCamera=o.preferredCamera||l||this._preferredCamera,this._legacyCanvasSize="number"==typeof a?a:"number"==typeof r?r:this._legacyCanvasSize,this._maxScansPerSecond=o.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),n.disablePictureInPicture=!0,n.playsInline=!0,n.muted=!0;let m=!1;if(n.hidden&&(n.hidden=!1,m=!0),document.body.contains(n)||(document.body.appendChild(n),m=!0),a=n.parentElement,o.highlightScanRegion||o.highlightCodeOutline){if(r=!!o.overlay,this.$overlay=o.overlay||document.createElement("div"),(l=this.$overlay.style).position="absolute",l.display="none",l.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!r&&o.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}a.insertBefore(this.$overlay,this.$video.nextSibling)}o.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(n),requestAnimationFrame(()=>{let g=window.getComputedStyle(n);"none"===g.display&&(n.style.setProperty("display","block","important"),m=!0),"visible"!==g.visibility&&(n.style.setProperty("visibility","visible","important"),m=!0),m&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),n.style.opacity="0",n.style.width="0",n.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),n.addEventListener("play",this._onPlay),n.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(n){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,V.A)(function*(){try{return!!(yield e.listCameras(!1)).length}catch{return!1}})()}static listCameras(n=!1){return(0,V.A)(function*(){if(!navigator.mediaDevices)return[];let a,o=function(){var r=(0,V.A)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(l=>"videoinput"===l.kind)});return function(){return r.apply(this,arguments)}}();try{n&&(yield o()).every(r=>!r.label)&&(a=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield o()).map((r,l)=>({id:r.deviceId,label:r.label||(0===l?"Default Camera":`Camera ${l+1}`)}))}finally{a&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(a))}})()}hasFlash(){var n=this;return(0,V.A)(function*(){let o;try{if(n.$video.srcObject){if(!(n.$video.srcObject instanceof MediaStream))return!1;o=n.$video.srcObject}else o=(yield n._getCameraStream()).stream;return"torch"in o.getVideoTracks()[0].getSettings()}catch{return!1}finally{o&&o!==n.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(o))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var n=this;return(0,V.A)(function*(){n._flashOn?yield n.turnFlashOff():yield n.turnFlashOn()})()}turnFlashOn(){var n=this;return(0,V.A)(function*(){if(!n._flashOn&&!n._destroyed&&(n._flashOn=!0,n._active&&!n._paused))try{if(!(yield n.hasFlash()))throw"No flash available";yield n.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(o){throw n._flashOn=!1,o}})()}turnFlashOff(){var n=this;return(0,V.A)(function*(){n._flashOn&&(n._flashOn=!1,yield n._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}start(){var n=this;return(0,V.A)(function*(){if(n._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!n._active||n._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),n._active=!0,!document.hidden))if(n._paused=!1,n.$video.srcObject)yield n.$video.play();else try{let{stream:o,facingMode:a}=yield n._getCameraStream();!n._active||n._paused?e._stopVideoStream(o):(n._setVideoMirror(a),n.$video.srcObject=o,yield n.$video.play(),n._flashOn&&(n._flashOn=!1,n.turnFlashOn().catch(()=>{})))}catch(o){if(!n._paused)throw n._active=!1,o}})()}stop(){this.pause(),this._active=!1}pause(n=!1){var o=this;return(0,V.A)(function*(){if(o._paused=!0,!o._active)return!0;o.$video.pause(),o.$overlay&&(o.$overlay.style.display="none");let a=()=>{o.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(o.$video.srcObject),o.$video.srcObject=null)};return n?(a(),!0):(yield new Promise(r=>setTimeout(r,300)),!!o._paused&&(a(),!0))})()}setCamera(n){var o=this;return(0,V.A)(function*(){n!==o._preferredCamera&&(o._preferredCamera=n,yield o._restartVideoStream())})()}static scanImage(n,o,a,r,l=!1,m=!1){return(0,V.A)(function*(){let g,T=!1;o&&("scanRegion"in o||"qrEngine"in o||"canvas"in o||"disallowCanvasResizing"in o||"alsoTryWithoutScanRegion"in o||"returnDetailedScanResult"in o)?(g=o.scanRegion,a=o.qrEngine,r=o.canvas,l=o.disallowCanvasResizing||!1,m=o.alsoTryWithoutScanRegion||!1,T=!0):console.warn(o||a||r||l||m?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),o=!!a;try{let F,$,Q;if([a,F]=yield Promise.all([a||e.createQrEngine(),e._loadImage(n)]),[r,$]=e._drawToCanvas(F,g,r,l),a instanceof Worker){let G=a;o||e._postWorkerMessageSync(G,"inversionMode","both"),Q=yield new Promise((X,Gt)=>{let Mt,Ct,dt,Ht=-1;Ct=pt=>{pt.data.id===Ht&&(G.removeEventListener("message",Ct),G.removeEventListener("error",dt),clearTimeout(Mt),null!==pt.data.data?X({data:pt.data.data,cornerPoints:e._convertPoints(pt.data.cornerPoints,g)}):Gt(e.NO_QR_CODE_FOUND))},dt=pt=>{G.removeEventListener("message",Ct),G.removeEventListener("error",dt),clearTimeout(Mt),Gt("Scanner error: "+(pt?pt.message||pt:"Unknown Error"))},G.addEventListener("message",Ct),G.addEventListener("error",dt),Mt=setTimeout(()=>dt("timeout"),1e4);let Pt=$.getImageData(0,0,r.width,r.height);Ht=e._postWorkerMessageSync(G,"decode",Pt,[Pt.data.buffer])})}else Q=yield Promise.race([new Promise((G,X)=>window.setTimeout(()=>X("Scanner error: timeout"),1e4)),(0,V.A)(function*(){try{var[G]=yield a.detect(r);if(!G)throw e.NO_QR_CODE_FOUND;return{data:G.rawValue,cornerPoints:e._convertPoints(G.cornerPoints,g)}}catch(X){if(/not implemented|service unavailable/.test(G=X.message||X))return e._disableBarcodeDetector=!0,e.scanImage(n,{scanRegion:g,canvas:r,disallowCanvasResizing:l,alsoTryWithoutScanRegion:m});throw`Scanner error: ${G}`}})()]);return T?Q:Q.data}catch(F){if(!g||!m)throw F;let $=yield e.scanImage(n,{qrEngine:a,canvas:r,disallowCanvasResizing:l});return T?$:$.data}finally{o||e._postWorkerMessage(a,"close")}})()}setGrayscaleWeights(n,o,a,r=!0){e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:n,green:o,blue:a,useIntegerApproximation:r})}setInversionMode(n){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",n)}static createQrEngine(n){return(0,V.A)(function*(){if(n&&console.warn("Specifying a worker path is not required and not supported anymore."),n=()=>c.e(2402).then(c.bind(c,32402)).then(a=>a.createWorker()),e._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return n();let o=navigator.userAgentData;return o&&o.brands.some(({brand:a})=>/Chromium/i.test(a))&&/mac ?OS/i.test(o.platform)&&(yield o.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:a,platformVersion:r})=>/arm/i.test(a||"arm")&&13<=parseInt(r||"13")).catch(()=>!0))?n():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(n){let o=Math.round(.6666666666666666*Math.min(n.videoWidth,n.videoHeight));return{x:Math.round((n.videoWidth-o)/2),y:Math.round((n.videoHeight-o)/2),width:o,height:o,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var n=this.$video,o=n.videoWidth,a=n.videoHeight,r=n.offsetWidth,l=n.offsetHeight,m=n.offsetLeft,g=n.offsetTop,T=window.getComputedStyle(n),F=T.objectFit,$=o/a,Q=r/l;switch(F){case"none":var G=o,X=a;break;case"fill":G=r,X=l;break;default:("cover"===F?$>Q:$<Q)?G=(X=l)*$:X=(G=r)/$,"scale-down"===F&&(G=Math.min(G,o),X=Math.min(X,a))}var[Gt,Mt]=T.objectPosition.split(" ").map((dt,Ht)=>{const Pt=parseFloat(dt);return dt.endsWith("%")?(Ht?l-X:r-G)*Pt/100:Pt});Q=this._scanRegion.height||a,F=this._scanRegion.x||0;var Ct=this._scanRegion.y||0;($=this.$overlay.style).width=(T=this._scanRegion.width||o)/o*G+"px",$.height=Q/a*X+"px",$.top=`${g+Mt+Ct/a*X}px`,a=/scaleX\(-1\)/.test(n.style.transform),$.left=`${m+(a?r-Gt-G:Gt)+(a?o-F-T:F)/o*G}px`,$.transform=n.style.transform}})}static _convertPoints(n,o){if(!o)return n;let a=o.x||0,r=o.y||0,l=o.width&&o.downScaledWidth?o.width/o.downScaledWidth:1;o=o.height&&o.downScaledHeight?o.height/o.downScaledHeight:1;for(let m of n)m.x=m.x*l+a,m.y=m.y*o+r;return n}_scanFrame(){var n=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,V.A)(function*(){if(!(1>=n.$video.readyState)){var o=Date.now()-n._lastScanTimestamp,a=1e3/n._maxScansPerSecond;o<a&&(yield new Promise(l=>setTimeout(l,a-o))),n._lastScanTimestamp=Date.now();try{var r=yield e.scanImage(n.$video,{scanRegion:n._scanRegion,qrEngine:n._qrEnginePromise,canvas:n.$canvas})}catch(l){if(!n._active)return;n._onDecodeError(l)}!e._disableBarcodeDetector||(yield n._qrEnginePromise)instanceof Worker||(n._qrEnginePromise=e.createQrEngine()),r?(n._onDecode?n._onDecode(r):n._legacyOnDecode&&n._legacyOnDecode(r.data),n.$codeOutlineHighlight&&(clearTimeout(n._codeOutlineHighlightRemovalTimeout),n._codeOutlineHighlightRemovalTimeout=void 0,n.$codeOutlineHighlight.setAttribute("viewBox",`${n._scanRegion.x||0} ${n._scanRegion.y||0} ${n._scanRegion.width||n.$video.videoWidth} ${n._scanRegion.height||n.$video.videoHeight}`),n.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:l,y:m})=>`${l},${m}`).join(" ")),n.$codeOutlineHighlight.style.display="")):n.$codeOutlineHighlight&&!n._codeOutlineHighlightRemovalTimeout&&(n._codeOutlineHighlightRemovalTimeout=setTimeout(()=>n.$codeOutlineHighlight.style.display="none",100))}n._scanFrame()}))}_onDecodeError(n){n!==e.NO_QR_CODE_FOUND&&console.log(n)}_getCameraStream(){var n=this;return(0,V.A)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let o=/^(environment|user)$/.test(n._preferredCamera)?"facingMode":"deviceId",a=[{width:{min:1024}},{width:{min:768}},{}],r=a.map(l=>Object.assign({},l,{[o]:{exact:n._preferredCamera}}));for(let l of[...r,...a])try{let m=yield navigator.mediaDevices.getUserMedia({video:l,audio:!1});return{stream:m,facingMode:n._getFacingMode(m)||(l.facingMode?n._preferredCamera:"environment"===n._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var n=this;return(0,V.A)(function*(){let o=n._paused;(yield n.pause(!0))&&!o&&n._active&&(yield n.start())})()}static _stopVideoStream(n){for(let o of n.getTracks())o.stop(),n.removeTrack(o)}_setVideoMirror(n){this.$video.style.transform="scaleX("+("user"===n?-1:1)+")"}_getFacingMode(n){return(n=n.getVideoTracks()[0])?/rear|back|environment/i.test(n.label)?"environment":/front|user|face/i.test(n.label)?"user":null:null}static _drawToCanvas(n,o,a,r=!1){a=a||document.createElement("canvas");let l=o&&o.x?o.x:0,m=o&&o.y?o.y:0,g=o&&o.width?o.width:n.videoWidth||n.width,T=o&&o.height?o.height:n.videoHeight||n.height;return r||(r=o&&o.downScaledWidth?o.downScaledWidth:g,o=o&&o.downScaledHeight?o.downScaledHeight:T,a.width!==r&&(a.width=r),a.height!==o&&(a.height=o)),(o=a.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,o.drawImage(n,l,m,g,T,0,0,a.width,a.height),[a,o]}static _loadImage(n){return(0,V.A)(function*(){if(n instanceof Image)return yield e._awaitImageLoad(n),n;if(n instanceof HTMLVideoElement||n instanceof HTMLCanvasElement||n instanceof SVGImageElement||"OffscreenCanvas"in window&&n instanceof OffscreenCanvas||"ImageBitmap"in window&&n instanceof ImageBitmap)return n;if(!(n instanceof File||n instanceof Blob||n instanceof URL||"string"==typeof n))throw"Unsupported image type.";{let o=new Image;o.src=n instanceof File||n instanceof Blob?URL.createObjectURL(n):n.toString();try{return yield e._awaitImageLoad(o),o}finally{(n instanceof File||n instanceof Blob)&&URL.revokeObjectURL(o.src)}}})()}static _awaitImageLoad(n){return(0,V.A)(function*(){n.complete&&0!==n.naturalWidth||(yield new Promise((o,a)=>{let r=l=>{n.removeEventListener("load",r),n.removeEventListener("error",r),l instanceof ErrorEvent?a("Image load error"):o()};n.addEventListener("load",r),n.addEventListener("error",r)}))})()}static _postWorkerMessage(n,o,a,r){return(0,V.A)(function*(){return e._postWorkerMessageSync(yield n,o,a,r)})()}static _postWorkerMessageSync(n,o,a,r){if(!(n instanceof Worker))return-1;let l=e._workerMessageId++;return n.postMessage({id:l,type:o,data:a},r),l}}return e.DEFAULT_CANVAS_SIZE=400,e.NO_QR_CODE_FOUND="No QR code found",e._disableBarcodeDetector=!1,e._workerMessageId=0,e})();var br=c(18447);class Ot{static encode(s){return"azt:$"+btoa(s)}static decode(s){return s=s.replace("azt:$",""),atob(s)}static isEncode(s){return 0===s.indexOf("azt:$")}}var kr=c(53793),yr=c(76688);const Cr=()=>({"mr-1":!0});function Ir(e,s){if(1&e){const n=t.RV6();t.j41(0,"zxing-scanner",8),t.mxI("deviceChange",function(a){t.eBV(n);const r=t.XpG();return t.DH7(r.currentDevice,a)||(r.currentDevice=a),t.Njj(a)}),t.bIt("scanSuccess",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.onCodeResult(a))})("permissionResponse",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.onHasPermission(a))})("camerasFound",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.onCamerasFound(a))})("torchCompatible",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.onTorchCompatible(a))}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("torch",n.torchEnabled),t.R50("device",n.currentDevice),t.Y8G("tryHarder",n.tryHarder)("formats",n.formatsEnabled)}}function Sr(e,s){if(1&e&&(t.j41(0,"span",9),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.SpI("( ",n.contentResult," )")}}let xe=(()=>{var e;class s extends S.H{constructor(o){super(),this.commonService=o,this.outContentScan=new t.bkB,this.outNotCamAllow=new t.bkB,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new br.B,this.tryHarder=!1,this.formatsEnabled=[Xt.BarcodeFormat.CODE_128,Xt.BarcodeFormat.DATA_MATRIX,Xt.BarcodeFormat.EAN_13,Xt.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(o){this.availableDevices=o,this.hasDevices=!(!o||!o.length)}onCodeResult(o){this.qrResultString=o,Ot.isEncode(o)?this.switchChangeContent(Ot.decode(o)):this.switchChangeContent(null)}onDeviceSelectChange(o){const a=this.availableDevices.find(r=>r.deviceId===o);this.currentDevice=a||void 0}onHasPermission(o){this.hasPermission=o}onTorchCompatible(o){this.torchAvailable$.next(o)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(o){let l=o.target.files;if(l?.length){var m=l[0];if(!m)return;this.scanProcessSelectFile(o,m,0)}else this.switchChangeContent(null)}scanProcessSelectFile(o,a,r){vr.scanImage(a,{returnDetailedScanResult:!0}).then(l=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(l)),o.target.value="";var m=l.data;this.thatLog("onFileSelected: 1 "+m),Ot.isEncode(m)?this.switchChangeContent(Ot.decode(m)):this.switchChangeContent(null)}).catch(l=>{r>=2?(o.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(l)),this.switchChangeContent(null)):this.scanProcessSelectFile(o,a,r++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(o){this.contentResult=o,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+o),this.outContentScan.emit(this.contentResult)}thatLog(o){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+o)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(kr.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[t.Vt3],decls:10,vars:7,consts:[["formChoseFile",""],[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],["name","upload","size","24",3,"ngClass"],[3,"deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible","torch","device","tryHarder","formats"],[1,"text-center"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"div",1),t.DNE(1,Ir,1,4,"zxing-scanner",2),t.k0s(),t.j41(2,"div",3),t.DNE(3,Sr,2,1,"span",4),t.j41(4,"input",5,0),t.bIt("change",function(m){return t.eBV(r),t.Njj(a.onFileSelected(m))}),t.k0s(),t.j41(6,"a",6),t.bIt("click",function(){t.eBV(r);const m=t.sdS(5);return t.Njj(m.click())}),t.nrm(7,"lucide-icon",7),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()}2&o&&(t.R7$(),t.Y8G("ngIf",a.isShowScanner),t.R7$(2),t.Y8G("ngIf",a.isShowLog),t.R7$(4),t.Y8G("ngClass",t.lJ4(6,Cr)),t.R7$(),t.SpI(" ",t.bMT(9,4,"lang_auto_tai_len_ma_co_san")," "))},dependencies:[u.YU,u.bT,yr.M,y.WGl,d.wp],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),s})();const xr=["aztScanQrcode"],Rr=e=>({hiddenIpt:e}),Tr=e=>[e],wr=()=>({user_click:"true"}),jr=()=>({"dark:text-slate-500":!0});function Fr(e,s){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Er(e,s){if(1&e&&(t.j41(0,"div",38),t.DNE(1,Fr,3,3,"div",39),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function Or(e,s){1&e&&t.nrm(0,"azt-loading-ui",40)}function Gr(e,s){1&e&&(t.j41(0,"div",41)(1,"span",42),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("***",t.bMT(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai"),""))}function Mr(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",43)(1,"button",44),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.reloadProcessForgot())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_thu_lai")," "))}function Pr(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",22)(1,"div",23),t.nrm(2,"input",24),t.nI1(3,"mytranslate"),t.j41(4,"button",25)(5,"span",26),t.nrm(6,"lucide-icon",27),t.k0s()()(),t.j41(7,"div",23),t.nrm(8,"input",28),t.nI1(9,"mytranslate"),t.j41(10,"button",29),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.togglePassword())}),t.nrm(11,"lucide-icon",30),t.k0s(),t.DNE(12,Er,2,1,"div",31),t.k0s(),t.j41(13,"div",32)(14,"div",33)(15,"button",34),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.changePassword())}),t.DNE(16,Or,1,0,"azt-loading-ui",35),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.DNE(19,Gr,4,3,"div",36)(20,Mr,4,3,"div",37),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(2),t.FS9("placeholder",t.bMT(3,12,"lang_auto_ma_xac_thuc")),t.BMQ("disabled",!0),t.R7$(6),t.FS9("type",n.showPassword?"text":"password"),t.FS9("placeholder",t.bMT(9,14,"lang_auto_mat_khau_moi")),t.R7$(3),t.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",t.lJ4(18,jr)),t.R7$(),t.Y8G("ngIf",n.form.controls.password.invalid&&n.form.controls.password.dirty),t.R7$(3),t.Y8G("disabled",n.statusObj.errorMessage||n.form.invalid||n.statusObj.loading),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(18,16,"lang_auto_tiep_tuc")," "),t.R7$(2),t.Y8G("ngIf",n.statusObj.errorMessage),t.R7$(),t.Y8G("ngIf",n.statusObj.errorMessage)}}let $r=(()=>{var e;class s extends S.H{getError(o){return!!this.form.controls[o].errors&&this.form.controls[o].errors}getErrorType(o,a){return!!this.form.controls[o].errors?.[a]&&this.form.controls[o].errors?.[a]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(o){null!==o?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:o}).subscribe(r=>{1==r.success&&1==r?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(o),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var o=this.getFormValue();this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:o.hash,password:o.password}).subscribe(r=>{0!=r.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}getFormValue(){return this.form.getRawValue()}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",super.ngOnInit()}constructor(o,a){super(),this.localStorageObject=o,this.qrCodeForgotPasswordService=a,this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink="",this.form=new i.gE({emailOrPhone:new i.MJ("",{nonNullable:!0}),hash:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),password:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,i.k0.minLength(6)]}),confirm_password:new i.MJ("",{nonNullable:!0})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(Ft.G),t.rXU(k.Cu))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-forgot-password"]],viewQuery:function(o,a){if(1&o&&t.GBs(xr,5),2&o){let r;t.mGM(r=t.lsd())&&(a.elementZztScanQrcode=r.first)}},features:[t.Vt3],decls:38,vars:27,consts:[["aztScanQrcode",""],[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","'images/logo.svg' | coreModConvertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["name","qr-code","size","20"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5 text-center xl:text-left",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"div",1)(1,"form",2)(2,"div",3),t.nrm(3,"div",4),t.j41(4,"div",5),t.nrm(5,"img",6),t.j41(6,"div",7)(7,"div",8),t.nrm(8,"div",9)(9,"div",9)(10,"div",9),t.k0s()(),t.nrm(11,"br")(12,"br"),t.j41(13,"div",10)(14,"div",11)(15,"span",12),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",13)(19,"div",14)(20,"div",15),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"azt-scan-qrcode",16,0),t.bIt("outContentScan",function(m){return t.eBV(r),t.Njj(a.outContentScan(m))}),t.k0s()(),t.DNE(25,Pr,21,19,"div",17),t.k0s(),t.nrm(26,"hr"),t.j41(27,"div",18)(28,"div",19)(29,"a",20),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()(),t.j41(32,"div")(33,"a",21),t.nI1(34,"navigationLocalize"),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s()()()()(),t.nrm(37,"div",4),t.k0s()()()}2&o&&(t.R7$(),t.Y8G("formGroup",a.form),t.R7$(7),t.Y8G("ngClass",a.stepByStep+2==1?"active":a.stepByStep+2>1?"active pro":""),t.R7$(),t.Y8G("ngClass",a.stepByStep+2==2?"active":a.stepByStep+2>2?"active pro":""),t.R7$(),t.Y8G("ngClass",a.stepByStep+2==3?"active":a.stepByStep+2>3?"active pro":""),t.R7$(6),t.JRh(t.bMT(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),t.R7$(3),t.Y8G("ngClass",t.eq3(22,Rr,a.sussScanNextConf)),t.R7$(2),t.SpI(" ",t.bMT(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),t.R7$(4),t.Y8G("ngIf",a.sussScanNextConf),t.R7$(5),t.JRh(t.bMT(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),t.R7$(3),t.Y8G("routerLink",t.eq3(24,Tr,t.bMT(34,18,a.backLink?a.backLink:"/auth/login")))("queryParams",t.lJ4(26,wr)),t.R7$(2),t.SpI(" ",t.bMT(36,20,a.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan")," "))},dependencies:[_.Wk,u.YU,u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,xe,W.t,x.R,y.WGl,d.F2,d.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),s})();var Ar=c(15437);const zr=()=>({"mr-2":!0});function Lr(e,s){if(1&e&&(t.j41(0,"div",3),t.nrm(1,"lucide-icon",4),t.EFF(2),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngClass",t.lJ4(2,zr)),t.R7$(),t.SpI(" ",n.stringDuration," ")}}let Re=(()=>{var e;class s extends S.H{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new t.bkB,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink="",this.contentNew=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.qrCode&&(this.loopDuration=setInterval(()=>{var o=Math.floor(Date.now()/1e3),r=this.expired-(o-this.startDuration);if(r<0)this.clearLoopDuration(),this.qrCode.clear(),this.expiredAction.emit();else{var l=Math.floor(r/60),m=r-60*l;this.stringDuration=(l<10?"0"+l:""+l)+" : "+(m<10?"0"+m:""+m)}},1e3))}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=Ot.encode(this.content)}onChangeURL(o){this.qrCodeDownloadLink=o}downloadQrCode(o){this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,o=o||"azota-qr")}}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[t.Vt3],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | coreModConvertCdnLinkOfGitHub",3,"qrCodeURL","qrdata","width","errorCorrectionLevel"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["name","timer","size","20",3,"ngClass"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.DNE(1,Lr,3,3,"div",1),t.j41(2,"qrcode",2),t.bIt("qrCodeURL",function(l){return a.onChangeURL(l)}),t.k0s()()),2&o&&(t.R7$(),t.Y8G("ngIf",a.isDuration),t.R7$(),t.Y8G("qrdata",a.contentNew)("width",a.width)("errorCorrectionLevel","M"))},dependencies:[u.YU,u.bT,y.WGl,Ar.c],encapsulation:2}),s})();const Dr=["elementCreateQr"],Br=()=>({"mx-auto":!0}),qt=()=>({"mr-2":!0}),Te=e=>[e];function Nr(e,s){if(1&e&&(t.j41(0,"div",12),t.nrm(1,"azt-create-qr-image",13,0),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("content",n.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function Vr(e,s){if(1&e&&(t.j41(0,"div",14),t.nrm(1,"lucide-icon",15),t.j41(2,"div",16),t.EFF(3),t.k0s()()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngClass",t.lJ4(2,Br)),t.R7$(2),t.SpI(" ",n.noticeContentString," ")}}function Yr(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",17)(1,"button",18),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.downloadQrCode())}),t.nrm(2,"lucide-icon",19),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,qt)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_tai_xuong_ma")," "))}function Ur(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",17)(1,"button",20),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.openDialog())}),t.nrm(2,"lucide-icon",21),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,qt)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}function Qr(e,s){1&e&&(t.j41(0,"a",22),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",23),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&e&&(t.Y8G("routerLink",t.eq3(7,Te,t.bMT(1,3,"/admin/dashboard"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(9,qt)),t.R7$(),t.SpI(" ",t.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}function Xr(e,s){1&e&&(t.j41(0,"a",24),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",23),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&e&&(t.Y8G("routerLink",t.eq3(7,Te,t.bMT(1,3,"/student/classroom/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(9,qt)),t.R7$(),t.SpI(" ",t.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}const qr=()=>({"mr-2 text-pending":!0});let Wr=(()=>{var e;class s extends S.H{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(o=>{1==o.success?0!=o?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(a=>{this.noticeContentString=a}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(a=>{this.noticeContentString=a}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(o=>{1==o.success?this.contentQrcodeHash=o.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.sAztDialogService.open(Jr,{restoreFocus:!1}).afterClosed().subscribe(a=>{!0===a&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-forgot")}ngOnInit(){var o=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(o,10),this.checkQrThisMe(),super.ngOnInit()}constructor(o,a,r){super(),this.sAztDialogService=o,this.activeRoute=a,this.qrCodeForgotPasswordService=r,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(nt.i),t.rXU(_.nX),t.rXU(k.Cu))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-gzip-tool"]],viewQuery:function(o,a){if(1&o&&t.GBs(Dr,5),2&o){let r;t.mGM(r=t.lsd())&&(a.elementCreateQr=r.first)}},features:[t.Vt3],decls:15,vars:9,consts:[["elementCreateQr",""],[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],[1,"text-center"],["name","eye","size","24",3,"ngClass"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["name","upload","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["name","image-plus","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout")(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",3)(6,"div",4),t.DNE(7,Nr,3,4,"div",5)(8,Vr,4,3,"div",6),t.k0s(),t.j41(9,"div",7),t.DNE(10,Yr,5,5,"div",8)(11,Ur,5,5,"div",8),t.k0s()(),t.j41(12,"div",9),t.DNE(13,Qr,5,10,"a",10)(14,Xr,5,10,"a",11),t.k0s()()()),2&o&&(t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_auto_qrcode_quen_mat_khau")," "),t.R7$(4),t.Y8G("ngIf",a.contentQrcodeHash),t.R7$(),t.Y8G("ngIf",!a.contentQrcodeHash&&a.noticeContentString),t.R7$(2),t.Y8G("ngIf",a.contentQrcodeHash),t.R7$(),t.Y8G("ngIf",!a.contentQrcodeHash),t.R7$(2),t.Y8G("ngIf",0==a.role),t.R7$(),t.Y8G("ngIf",1==a.role))},dependencies:[_.Wk,u.YU,u.bT,Re,K.K,y.WGl,d.F2,d.wp]}),s})(),Jr=(()=>{var e;class s extends z._{}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["dialog-conf-content-qrcode-dialog"]],features:[t.Vt3],decls:29,vars:30,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["name","qr-code","size","32",3,"ngClass"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",5)(8,"p",6),t.EFF(9),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"p",7),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"p",7),t.EFF(17),t.nI1(18,"mytranslate"),t.nrm(19,"br"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()(),t.j41(22,"div",8)(23,"button",9),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"button",10),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(29,qr)),t.R7$(),t.SpI(" ",t.bMT(6,11,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),t.R7$(4),t.E5c(" ",t.bMT(10,13,"lang_auto_bam"),' "',t.bMT(11,15,"lang_auto_xac_nhan"),'" ',t.bMT(12,17,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),t.R7$(5),t.SpI(" ",t.bMT(15,19,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),t.R7$(3),t.SpI(" ",t.bMT(18,21,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),t.R7$(3),t.SpI(" ",t.bMT(21,23,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),t.R7$(4),t.SpI(" ",t.bMT(25,25,"lang_auto_huy")," "),t.R7$(2),t.Y8G("mat-dialog-close",!0),t.R7$(),t.SpI(" ",t.bMT(28,27,"lang_auto_xac_nhan")," "))},dependencies:[u.YU,f.tx,y.WGl,d.wp],encapsulation:2}),s})(),Hr=(()=>{var e;class s extends S.H{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-confirm-forgot-password"]],features:[t.Vt3],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","'images/logo.svg' | coreModConvertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"div",3),t.j41(4,"div",4),t.nrm(5,"img",5),t.j41(6,"div",6)(7,"div",7),t.nrm(8,"div",8)(9,"div",8)(10,"div",8),t.k0s()(),t.nrm(11,"br")(12,"br"),t.j41(13,"div",9)(14,"div",10)(15,"span",11),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",12)(19,"p"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"div",13)(23,"a",14),t.bIt("click",function(){return a.redirectToHome()}),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"a",15),t.bIt("click",function(){return a.redirectToCreateQrCode()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()(),t.nrm(29,"div",3),t.k0s()()()),2&o&&(t.R7$(8),t.Y8G("ngClass",a.step_by_step+2==1?"active":a.step_by_step+2>1?"active pro":""),t.R7$(),t.Y8G("ngClass",a.step_by_step+2==2?"active":a.step_by_step+2>2?"active pro":""),t.R7$(),t.Y8G("ngClass",a.step_by_step+2==3?"active":a.step_by_step+2>3?"active pro":""),t.R7$(6),t.JRh(t.bMT(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),t.R7$(4),t.JRh(t.bMT(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),t.R7$(4),t.JRh(t.bMT(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),t.R7$(3),t.JRh(t.bMT(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[u.YU,d.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),s})(),Kr=(()=>{var e;class s extends S.H{ngOnInit(){super.ngOnInit();var o=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString()??"",a=this.commonService.getMyQueryParam("data");"teacher"==o?window.location.replace("azota://open.azota.teacher"):window.location.replace(o+"://open"+(a?"?data="+a:""))}constructor(o){super(),this.activeRoute=o}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(_.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-go-to-mobile"]],features:[t.Vt3],decls:6,vars:4,consts:[[1,"centerBoth"],[1,"text-center"],["type","logo-azota","id","jobing-j-drawit","id","Layer_1",3,"size"],[1,"p-0","mt-2"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"azt-svg-icon",2),t.j41(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("size",48),t.R7$(2),t.SpI("",t.bMT(5,2,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[_t.m,d.wp],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]}),s})();var Wt=c(92757),it=c(73990);let Zr=(()=>{var e;class s extends S.H{signInWithTokenGoogle(o){const a=this.commonService.getMyQueryParam("type");o.getIdToken().then(r=>{let l={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:r??"",language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(l).subscribe(m=>{if(!m.success){this.errorStatusObj(m.message,!0);const F=this.commonService.getMyQueryParam("backto")??"/auth/login";return void this.myNavigation(F)}let g=this.commonService.getMyQueryParam("return_url")??"";if(""===g){var T=this.commonService.getMyQueryParam("backto")?.split("return_url=")?.[1];g=T?decodeURIComponent(T):""}return 1==m.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${encodeURIComponent(g)}`):"0"==a?this.redirectByRoleService.redirectLoginForStudent(g):void this.redirectByRoleService.redirectLoginByRole(g)}))})}googleSignIn(){const o=new it.HF;o.addScope("https://www.googleapis.com/auth/userinfo.email"),(0,it.$2)((0,it.xI)((0,Wt.Wp)(j.c.firebaseConfig_app1,"authApp")),o)}getLoginStatus(){(0,it.Q4)((0,it.xI)((0,Wt.Wp)(j.c.firebaseConfig_app1,"authApp"))).then(o=>{if(!o)return this.googleSignIn();this.signInWithTokenGoogle(o.user)}).catch(o=>this.googleSignIn())}constructor(o,a){super(),this.authService=o,this.redirectByRoleService=a,this.getLoginStatus()}ngOnDestroy(){super.ngOnDestroy()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.uR),t.rXU(at.b))},e.\u0275cmp=t.VBU({type:e,selectors:[["login-by-openapi"]],features:[t.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"azt-loading-ui",2),t.k0s(),t.j41(3,"div",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("type","azota-logo"),t.R7$(2),t.SpI(" ",t.bMT(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[x.R,d.wp],encapsulation:2}),s})(),tl=(()=>{var e;class s extends S.H{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(o){var a=this.userService.getUserObjFromJwtToken(o);null!=a?(this.userService.saveUserObj(a),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var o=this.commonService.getMyQueryParam("zaccess_token")??"",a=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=j.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_login=1");let r=this.commonService.getMyQueryParam("hasError");!a&&o?this.loginWithAccessToken(o):a&&!this.isBusinessDomain?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`):r?(this.commonService.snackError("lang_auth_login_by_zalo_error"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`)):this.loginZalo()}constructor(o,a,r){super(),this.redirectByRoleService=o,this.redirectService=a,this.userService=r,this.returnUrl="",this.zaloLoginUrl=""}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(at.b),t.rXU(st.m),t.rXU(H.R))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-login-by-zalo"]],features:[t.Vt3],decls:3,vars:1,consts:[[1,"azt-login-form"],[3,"currentStatusObj"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout")(1,"div",0),t.nrm(2,"azt-loading-effect",1),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("currentStatusObj",a.statusObj))},dependencies:[N.K,K.K],encapsulation:2}),s})();const el=["elementCreateQr"],nl=["aztScanQrcode"],ce=e=>({hiddenIpt:e}),ol=e=>[e],_e=()=>({"mr-2":!0});function al(e,s){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function il(e,s){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function sl(e,s){if(1&e&&(t.j41(0,"div",26),t.nrm(1,"azt-loading-ui",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e){const n=t.XpG();t.R7$(2),t.Lme(" ",t.bMT(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",n.nameSessionConfirm," ")}}function rl(e,s){1&e&&(t.j41(0,"div",26),t.nrm(1,"azt-loading-ui",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_cho_quet_ma_qrcode")," "))}function ll(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"br"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),t.R7$(3),t.Lme(" ",t.bMT(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",n.nameSessionConfirm," ")}}function cl(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"azt-loading-ui",27),t.j41(2,"span",35),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function _l(e,s){if(1&e&&(t.j41(0,"div",36),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.JRh(n.textResultErr)}}function ml(e,s){if(1&e&&(t.j41(0,"div",37),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.JRh(n.textResultSuss)}}function ul(e,s){1&e&&t.nrm(0,"azt-loading-ui",27)}function dl(e,s){1&e&&t.nrm(0,"azt-loading-ui",27)}function pl(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",38)(1,"button",39),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.confContentPendingLogin(1))}),t.DNE(2,ul,1,0,"azt-loading-ui",40),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"button",41),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.confContentPendingLogin(2))}),t.DNE(6,dl,1,0,"azt-loading-ui",40),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(),t.Y8G("disabled",n.isLoadingBtn||n.textResultErr),t.R7$(),t.Y8G("ngIf",n.isLoadingBtn),t.R7$(),t.SpI(" ",t.bMT(4,6,"lang_auto_chap_nhan")," "),t.R7$(2),t.Y8G("disabled",n.isLoadingBtn||n.textResultErr),t.R7$(),t.Y8G("ngIf",n.isLoadingBtn),t.R7$(),t.SpI(" ",t.bMT(8,8,"lang_auto_tu_choi")," ")}}function gl(e,s){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"button",42),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.backScanActionWithIsLogin())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_quay_lai")))}function hl(e,s){if(1&e&&(t.j41(0,"div",28)(1,"div",29)(2,"div",30),t.DNE(3,ll,6,7,"span",31),t.k0s(),t.DNE(4,cl,5,3,"div",31)(5,_l,2,1,"div",32)(6,ml,2,1,"div",33)(7,pl,9,10,"div",34)(8,gl,4,3,"div",31),t.k0s()()),2&e){const n=t.XpG();t.R7$(3),t.Y8G("ngIf",n.nameSessionConfirm),t.R7$(),t.Y8G("ngIf",n.isLoadingBtn),t.R7$(),t.Y8G("ngIf",n.textResultErr),t.R7$(),t.Y8G("ngIf",n.textResultSuss),t.R7$(),t.Y8G("ngIf",!n.textResultSuss||!n.isConfirmBtn),t.R7$(),t.Y8G("ngIf",n.isLogin&&!1===n.isLoadingBtn&&!0===n.isConfirmBtn)}}function fl(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",46),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.createRequestLoginHashCodeAction())}),t.j41(1,"div",47),t.nrm(2,"lucide-icon",48),t.j41(3,"div"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&e&&(t.R7$(4),t.JRh(t.bMT(5,1,"lang_auto_tao_moi_ma")))}function vl(e,s){if(1&e){const n=t.RV6();t.j41(0,"azt-create-qr-image",49,1),t.bIt("expiredAction",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.expiredQrcodeAction())}),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("content",n.contentCreateQrcode)("width",300)("height",300)("expired",n.durationQrcodeExpire)}}function bl(e,s){if(1&e&&(t.j41(0,"div",43),t.DNE(1,fl,6,3,"div",44)(2,vl,2,4,"azt-create-qr-image",45),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",!1===n.isLogin&&!n.contentCreateQrcode),t.R7$(),t.Y8G("ngIf",n.contentCreateQrcode)}}function kl(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",50),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.downloadQrCode())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,_e)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_tai_xuong_ma")," "))}function yl(e,s){1&e&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_hoac")," "))}function Cl(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",13)(1,"a",54),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.switchModeView())}),t.nrm(2,"lucide-icon",55),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,_e)),t.R7$(2),t.JRh(t.bMT(5,2,"lang_auto_quet_ma_qr_co_san")))}function Il(e,s){if(1&e&&(t.j41(0,"div",36),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.JRh(n.textResultErr)}}function Sl(e,s){if(1&e&&(t.j41(0,"div",37),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.JRh(n.textResultSuss)}}function xl(e,s){1&e&&t.nrm(0,"azt-loading-ui",27)}function Rl(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",38)(1,"button",56),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.confContentLogin())}),t.DNE(2,xl,1,0,"azt-loading-ui",40),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"button",57),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.reopenScanCamInit())}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(),t.Y8G("disabled",n.isLoadingBtn||n.textResultErr),t.R7$(),t.Y8G("ngIf",n.isLoadingBtn),t.R7$(),t.SpI(" ",t.bMT(4,5,"lang_auto_dang_nhap")," "),t.R7$(2),t.Y8G("disabled",n.isLoadingBtn),t.R7$(),t.JRh(t.bMT(7,7,"lang_auto_thu_lai"))}}function Tl(e,s){if(1&e&&(t.j41(0,"div",28)(1,"div",29)(2,"div",30),t.EFF(3),t.nI1(4,"mytranslate"),t.nrm(5,"br"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,Il,2,1,"div",32)(9,Sl,2,1,"div",33)(10,Rl,8,9,"div",34),t.k0s()()),2&e){const n=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),t.R7$(3),t.SpI(" ",t.bMT(7,7,"lang_auto_voi_ma_qr_da_phat_hien")," "),t.R7$(2),t.Y8G("ngIf",n.textResultErr),t.R7$(),t.Y8G("ngIf",n.textResultSuss),t.R7$(),t.Y8G("ngIf",!n.textResultSuss)}}function wl(e,s){1&e&&(t.j41(0,"div"),t.nrm(1,"azt-loading-ui",27),t.j41(2,"span",35),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function jl(e,s){if(1&e&&t.nrm(0,"div",61),2&e){const n=t.XpG(2);t.Y8G("innerHTML",n.textResultErr,t.npT)}}function Fl(e,s){1&e&&t.nrm(0,"azt-loading-ui",27)}function El(e,s){if(1&e&&(t.j41(0,"button",62),t.DNE(1,Fl,1,0,"azt-loading-ui",40),t.EFF(2),t.k0s()),2&e){const n=t.XpG(2);t.Y8G("disabled",!n.textResultSuss),t.R7$(),t.Y8G("ngIf",n.isLoadingBtn),t.R7$(),t.SpI(" ",n.textResultSuss," ")}}function Ol(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.nrm(6,"br"),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,wl,5,3,"div",31)(10,jl,1,1,"div",58),t.j41(11,"div",38),t.DNE(12,El,3,3,"button",59),t.j41(13,"button",60),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.reopenScanCamInit())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()}if(2&e){const n=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,8,"lang_auto_dang_nhap_tai_khoan")," "),t.R7$(3),t.Lme(" ",t.bMT(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",n.nameSessionConfirm," "),t.R7$(2),t.Y8G("ngIf",n.isLoadingBtn),t.R7$(),t.Y8G("ngIf",n.textResultErr),t.R7$(2),t.Y8G("ngIf",!n.textResultSuss&&n.isLoadingBtn),t.R7$(),t.Y8G("disabled",n.isLoadingBtn),t.R7$(),t.JRh(t.bMT(15,12,"lang_auto_thu_lai"))}}let Gl=(()=>{var e;class s extends S.H{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.waitDestroy(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(o=>{1==o.success?(this.successStatusObj(),this.contentCreateQrcode=o?.data?.qrCode??"",this.durationQrcodeExpire=o?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(o){null!==o?(this.scanQrContent=o,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(r=>{this.isLoadingBtn=!1,1==r.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=r?.data?.qrCode??"",this.nameSessionConfirm=r?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(l=>{this.textResultErr=l}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(r=>{this.textResultErr=r}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(a=>{1==a.success&&(1==a.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):a.data&&2===a.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(r=>{this.textResultErr=r}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(o=>{1==o.success&&o.data&&""!==o.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=o?.data?.qrCode??"",this.nameSessionConfirm=o?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(o){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:o}).subscribe(r=>{1==r.success?this.textResultSuss=1==o?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(l=>{this.textResultErr=l}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(o=>{1==o.success&&(this.contentCreateQrcode=o?.data?.qrCode??"",this.nameSessionConfirm=o?.data?.name??"",this.durationQrcodeExpire=o?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(a=>{1===a.success&&404!=a?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(a=>{this.isLoadingBtn=!1,a.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(r=>{this.textResultSuss=r}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(r=>{this.textResultErr=r})})}ngOnInit(){var o=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(o,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/classroom/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,a,r,l,m,g){super(),this.redirectByRoleService=o,this.userService=a,this.localStorageObject=r,this.activeRoute=l,this.qrCodeLoginService=m,this.redirectService=g,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(at.b),t.rXU(H.R),t.rXU(Ft.G),t.rXU(_.nX),t.rXU(k.f0),t.rXU(st.m))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-login"]],viewQuery:function(o,a){if(1&o&&(t.GBs(el,5),t.GBs(nl,5)),2&o){let r;t.mGM(r=t.lsd())&&(a.elementCreateQr=r.first),t.mGM(r=t.lsd())&&(a.elementZztScanQrcode=r.first)}},features:[t.Vt3],decls:38,vars:39,consts:[["aztScanQrcode",""],["elementCreateQr",""],[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center flex items-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-center"],[1,"mb-3","text-center"],[1,"mr-1"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"click","disabled"],["class","mr-1",4,"ngIf"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"click","disabled"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],["name","refresh-ccw","size","20"],[3,"expiredAction","content","width","height","expired"],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center","flex","items-center",3,"click"],["name","download","size","20",3,"ngClass"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],["name","focus","size","20",3,"ngClass"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"click","disabled"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"click","disabled"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"click","disabled"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"auth-layout")(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",4),t.DNE(6,al,3,3,"div",5)(7,il,3,3,"div",5)(8,sl,4,4,"div",6)(9,rl,4,3,"div",6),t.k0s(),t.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),t.DNE(14,hl,9,6,"div",11)(15,bl,3,2,"div",12),t.j41(16,"div",13),t.DNE(17,kl,4,5,"a",14),t.k0s(),t.DNE(18,yl,4,3,"div",15)(19,Cl,6,5,"div",16),t.k0s(),t.j41(20,"div",17)(21,"div",18),t.EFF(22),t.nI1(23,"mytranslate"),t.j41(24,"a",19),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",20)(28,"azt-scan-qrcode",21,0),t.bIt("outContentScan",function(m){return t.eBV(r),t.Njj(a.outContentScan(m))}),t.k0s()(),t.DNE(30,Tl,11,9,"div",11)(31,Ol,16,14,"div",11),t.k0s()()()(),t.j41(32,"div",22)(33,"a",23),t.nI1(34,"navigationLocalize"),t.nrm(35,"lucide-icon",24),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()}2&o&&(t.R7$(3),t.SpI(" ",t.bMT(4,20,"lang_auto_dang_nhap_voi_ma_qr_code")," "),t.R7$(3),t.Y8G("ngIf",!a.isLogin),t.R7$(),t.Y8G("ngIf",a.isLogin),t.R7$(),t.Y8G("ngIf",!a.isLogin&&a.contentCreateQrcode),t.R7$(),t.Y8G("ngIf",a.isLogin&&a.contentCreateQrcode&&!a.scanQrContentConfirm),t.R7$(4),t.Y8G("ngClass",t.eq3(30,ce,"create"!==a.modeShowInit)),t.R7$(),t.Y8G("ngIf",a.scanQrContentConfirm&&a.isLogin),t.R7$(),t.Y8G("ngIf",!a.scanQrContentConfirm),t.R7$(2),t.Y8G("ngIf",a.contentCreateQrcode&&!a.scanQrContentConfirm),t.R7$(),t.Y8G("ngIf",!a.scanQrContentConfirm),t.R7$(),t.Y8G("ngIf",!a.scanQrContentConfirm),t.R7$(),t.Y8G("ngClass",t.eq3(32,ce,"scan"!==a.modeShowInit)),t.R7$(2),t.SpI(" ",t.bMT(23,22,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),t.R7$(3),t.JRh(t.bMT(26,24,"lang_auto_huong_dan")),t.R7$(2),t.Y8G("ngClass",t.eq3(34,ce,!1!==a.sussScanNextConf)),t.R7$(3),t.Y8G("ngIf",!0===a.sussScanNextConf&&a.isLogin),t.R7$(),t.Y8G("ngIf",!0===a.sussScanNextConf&&!a.isLogin),t.R7$(2),t.Y8G("routerLink",t.eq3(36,ol,t.bMT(34,26,a.backToLink))),t.R7$(2),t.Y8G("ngClass",t.lJ4(38,_e)),t.R7$(),t.SpI(" ",t.bMT(37,28,"lang_auto_quay_lai")," "))},dependencies:[_.Wk,u.YU,u.bT,Re,xe,x.R,K.K,y.WGl,d.F2,d.wp],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),s})();var we=c(46247),me=c(58112),je=c(79767);let Fe=(()=>{var e;class s{constructor(){}isCommonInAppBrowser(){const o=navigator.userAgent?.toLowerCase(),a=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let r=0;r<a.length;r++)if(-1!==o.indexOf(a[r]))return!0;return!1}getMobileOperatingSystem(){let o=navigator.userAgent||navigator.vendor||je.A.opera,a="Android";return/android/i.test(o)&&(a="Android"),/iPad|iPhone|iPod/.test(o)&&!je.A.MSStream&&(a="iOS"),a}getCommonInAppBrowser(){const o=navigator.userAgent;let a="";return o.indexOf("FBAN")>-1||o.indexOf("FBAV")>-1?a="Facebook":o.indexOf("Zalo")>-1?a="Zalo":o.indexOf("Twitter")>-1?a="Twitter":o.indexOf("Instagram")>-1?a="Instagram":o.indexOf("Line")>-1?a="Line":o.indexOf("MicroMessenger")>-1?a="WeChat":o.indexOf("QQ")>-1?a="QQ":o.indexOf("KAKAOTALK")>-1&&(a="KakaoTalk"),a}}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();const Ml=()=>({"dark:text-slate-500":!0}),Pl=e=>[e],$l=e=>({return_url:e,user_click:"true"}),Al=()=>({"mr-2":!0});function zl(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.loadingDomainConfigStatus)}}function Ll(e,s){if(1&e&&(t.qex(0),t.j41(1,"auth-layout",6)(2,"div",7)(3,"div",8)(4,"div",9),t.nrm(5,"div",10),t.nI1(6,"mycdn"),t.k0s(),t.j41(7,"div",11)(8,"div",12),t.eu8(9,13),t.k0s()()()()(),t.bVm()),2&e){const n=t.XpG(2),o=t.sdS(4);t.R7$(),t.Y8G("maxWidth","")("removeBoxClass",!0)("contentBoxClass","mx-auto w-full"),t.R7$(4),t.Y8G("innerHtml",t.bMT(6,5,n.businessWelcomeText),t.npT),t.R7$(4),t.Y8G("ngTemplateOutlet",o)}}function Dl(e,s){if(1&e&&(t.j41(0,"div",15),t.eu8(1,13),t.k0s()),2&e){t.XpG(3);const n=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function Bl(e,s){if(1&e&&(t.j41(0,"div",15),t.nrm(1,"azt-loading-effect",4),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("currentStatusObj",n.statusObj)}}function Nl(e,s){if(1&e&&(t.j41(0,"auth-layout"),t.DNE(1,Dl,2,1,"div",14)(2,Bl,2,1,"div",14),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",!n.loginByToken),t.R7$(),t.Y8G("ngIf",n.loginByToken)}}function Vl(e,s){if(1&e&&t.DNE(0,Ll,10,7,"ng-container",5)(1,Nl,3,2,"ng-template",null,2,t.C5r),2&e){const n=t.sdS(2),o=t.XpG();t.Y8G("ngIf",o.businessWelcomeText&&!o.loginByToken)("ngIfElse",n)}}function Yl(e,s){1&e&&(t.j41(0,"div",33)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email_hoac_username")))}function Ul(e,s){1&e&&(t.j41(0,"div",34)(1,"div"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Ql(e,s){if(1&e&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,n.messageError)," ")}}function Xl(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",36)(1,"a",37),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.forgotPassword())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_quen_mat_khau")))}function ql(e,s){1&e&&t.nrm(0,"azt-loading-ui",38)}function Wl(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",39)(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"a",40),t.nI1(6,"navigationLocalize"),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"div",41)(10,"span",42),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",43)(14,"button",44),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.googleSignIn())})("keydown.enter",function(a){return t.eBV(n),t.Njj(a.preventDefault())}),t.nrm(15,"azt-svg-icon",45),t.j41(16,"span",46),t.EFF(17,"Google"),t.k0s()(),t.j41(18,"button",47),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.loginByQrCode())})("keydown.enter",function(a){return t.eBV(n),t.Njj(a.preventDefault())}),t.nrm(19,"lucide-icon",48),t.j41(20,"span",46),t.EFF(21,"Qrcode"),t.k0s()()(),t.bVm()}if(2&e){const n=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,7,"lang_auto_ban_chua_co_tai_khoan")),t.R7$(2),t.Y8G("routerLink",t.eq3(15,Pl,t.bMT(6,9,"/auth/register")))("queryParams",t.eq3(17,$l,n.returnUrl)),t.R7$(2),t.SpI(" ",t.bMT(8,11,"lang_auto_tao_mot_tai_khoan_moi")," "),t.R7$(4),t.SpI(" ",t.bMT(12,13,"lang_auto_hoac")," "),t.R7$(4),t.Y8G("size",16),t.R7$(4),t.Y8G("ngClass",t.lJ4(19,Al))}}function Jl(e,s){if(1&e){const n=t.RV6();t.j41(0,"form",16)(1,"h2",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",18)(5,"div",19)(6,"input",20),t.nI1(7,"mytranslate"),t.bIt("keydown.enter",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.login())}),t.k0s(),t.DNE(8,Yl,4,3,"div",21),t.k0s(),t.j41(9,"div",19)(10,"div",22)(11,"input",23),t.nI1(12,"mytranslate"),t.bIt("keydown.enter",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.login())}),t.k0s(),t.j41(13,"button",24),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.togglePassword())}),t.nrm(14,"lucide-icon",25),t.k0s()(),t.DNE(15,Ul,4,3,"div",26),t.k0s()(),t.DNE(16,Ql,3,3,"div",27)(17,Xl,4,3,"div",28),t.j41(18,"div",29)(19,"button",30),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.login())}),t.DNE(20,ql,1,0,"azt-loading-ui",31),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.DNE(23,Wl,22,20,"ng-container",32),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("formGroup",n.form),t.R7$(2),t.SpI(" ",t.bMT(3,15,"lang_auto_dang_nhap")," "),t.R7$(4),t.FS9("placeholder",t.bMT(7,17,"lang_auto_nhap_sdt_hoac_email_hoac_username")),t.R7$(2),t.Y8G("ngIf",n.form.controls.username.invalid&&(n.form.controls.username.dirty||n.form.controls.username.touched)),t.R7$(3),t.FS9("placeholder",t.bMT(12,19,"lang_auto_mat_khau")),t.Y8G("type",n.showPassword?"text":"password"),t.R7$(3),t.Y8G("name",n.showPassword?"eye":"eye-off")("ngClass",t.lJ4(23,Ml)),t.R7$(),t.Y8G("ngIf",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),t.R7$(),t.Y8G("ngIf",""!=n.messageError),t.R7$(),t.Y8G("ngIf",!n.isBusinessDomain),t.R7$(2),t.Y8G("disabled",n.form.controls.password.invalid&&(n.form.controls.password.dirty||n.form.controls.password.touched)),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(22,21,"lang_auto_dang_nhap")," "),t.R7$(2),t.Y8G("ngIf",!n.isBusinessDomain)}}let Hl=(()=>{var e;class s extends S.H{executeImportantAction(){return new Promise(o=>{this.recaptchaV3Service.execute("importantAction").subscribe(a=>{o(a)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}callLoginApi(o){var a=this.getFormValue(),r={phone:a.username,password:a.password,tokenCaptcha:o,domain:this.commonService.getBusinessDomainUrl()};this.waitDestroy(this.authService.apiAuthLoginWebPost(r).subscribe(l=>{1==l.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=l.message??"",this.errorStatusObj(l.message??""))}))}login(){this.form.valid?(this.initStatusObj(),this.executeImportantAction().then(o=>{this.callLoginApi(o)}).catch(o=>{this.callLoginApi("")})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callLoginAnonymousApi(o){this.waitDestroy(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:o}).subscribe(r=>{1==r.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(r.message??"")}))}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(o=>{this.callLoginAnonymousApi(o)}).catch(o=>{this.callLoginAnonymousApi("")})}loginWithAccessToken(o){var a=this.userService.getUserObjFromJwtToken(o);if(null!=a){if(j.c.isProdAzotaVn&&(a.domainName=a.domainName?.replace("tqb.azota.vn","tqb-live.azota.io")),a.domainName&&a.domainName!=this.commonService.getCurrentHostName())return this.sAztRedirectService.redirectLoginWithToken(a.domainName,a.rememberToken??"",this.commonService.getMyQueryParam("return_url")??"");this.userService.saveUserObj(a),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")}else this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1}googleSignIn(){if(!this.browserUserAgentService.isCommonInAppBrowser()){const g=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;return void this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(g)}&click_login=1`)}let o=this.browserUserAgentService.getCommonInAppBrowser(),a=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),r="facebook"===o.toLowerCase()?"fb":"zalo",l=this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub(`images/open_browser_to_in_app/${a}/${a}_${r}_1.png`),m=this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub(`images/open_browser_to_in_app/${a}/${a}_${r}_2.png`);this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(g=>{let T=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),F=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(we.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${g+" "+o}. ${T}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${F} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${l}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${F} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${m}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})})}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}getFormValue(){return this.form.getRawValue()}loadDomainConfig(){this.isBusinessDomain&&(this.loadingDomainConfigStatus.loading=!0,this.waitDestroy(this.infoService.apiInfoGetDomainConfigsGet(this.commonService.getCurrentHostName()).subscribe(o=>{this.loadingDomainConfigStatus.loading=!1,o.success&&(this.businessWelcomeText=o.data?.welcomeTextAtLogin)})))}checkRedirect(o){return o&&!this.isBusinessDomain?(this.commonService.myNavigation("/auth/register"),!0):this.userService.isLoginAndNotAnonymous()?(this.redirectByRoleService.redirectLoginByRole(this.returnUrl),!0):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous(),!0)}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var o=this.commonService.getMyQueryParam("not_register"),a=this.commonService.getMyQueryParam("user_click");if("1"==this.commonService.getMyQueryParam("isFirstTime")&&this.browserStorageService.saveStorage("isFirstTime","1"),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),!o&&this.mobileAccessTkn)return this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn),void(this.userObj=this.userService.getUserObj());if(this.initStatusObj(),!this.checkRedirect(o)){if(!a&&this.userService.isAnonymousRoleOfCurrentUser())return void this.myNavigation("/student/classroom/0");this.loadDomainConfig(),this.loginByToken=!1,this.userObj=this.userService.getUserObj(),this.stopStatusObj()}}constructor(o,a,r,l,m,g,T,F,$,Q,G){super(),this.sAztRedirectService=o,this.userService=a,this.browserStorageService=r,this.localStorageObject=l,this.authService=m,this.redirectByRoleService=g,this.recaptchaV3Service=T,this.sAztCommonCdnService=F,this.browserUserAgentService=$,this.sAztDialogService=Q,this.infoService=G,this.mobileAccessTkn="",this.returnUrl="",this.msgError="",this.messageError="",this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1,this.loginByToken=!0,this.businessWelcomeText=void 0,this.loadingDomainConfigStatus={loading:!1,errorMessage:"",mustShowErrorBox:!1},this.form=new i.gE({username:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace]}),fullName:new i.MJ("",{nonNullable:!0}),password:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(st.m),t.rXU(H.R),t.rXU(Tt.z),t.rXU(Ft.G),t.rXU(k.uR),t.rXU(at.b),t.rXU(le.ob),t.rXU(me.c),t.rXU(Fe),t.rXU(nt.i),t.rXU(k.OE))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-login"]],features:[t.Vt3],decls:5,vars:2,consts:[["doneLoadDomainConfig",""],["loginForm",""],["normalTemplate",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[3,"maxWidth","removeBoxClass","contentBoxClass"],[1,"mx-auto",2,"max-width","1200px"],[1,"grid","grid-cols-12","bg-white"],[1,"col-span-12","md:col-span-6","p-3"],[1,"w-full",3,"innerHtml"],[1,"col-span-12","md:col-span-6","p-3",2,"background","#f8f7f7"],[1,"flex","items-center","h-full"],[3,"ngTemplateOutlet"],["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[1,"w-full",3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"keydown.enter","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"keydown.enter","type","placeholder"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],["class","intro-x flex text-slate-600 dark:text-slate-500 text-xs sm:text-sm mt-4",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],[4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],[1,"mr-1"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["name","qr-code","size","16",3,"ngClass"]],template:function(o,a){if(1&o&&t.DNE(0,zl,1,1,"azt-loading-effect",3)(1,Vl,3,2,"ng-template",null,0,t.C5r)(3,Jl,24,24,"ng-template",null,1,t.C5r),2&o){const r=t.sdS(2);t.Y8G("ngIf",a.loadingDomainConfigStatus.loading)("ngIfElse",r)}},dependencies:[_.Wk,u.YU,u.bT,u.T3,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,N.K,W.t,x.R,_t.m,K.K,y.WGl,d.F2,d.wp,d.nf],encapsulation:2}),s})(),Kl=(()=>{var e;class s extends S.H{constructor(){super(...arguments),this.sAztUserLogoutService=(0,t.WQX)(xt.d)}ngOnInit(){super.ngOnInit(),this.sAztUserLogoutService.logout("redirectToSimpleLogin",this.commonService.getMyQueryParam("return_url"))}}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-register"]],features:[t.Vt3],decls:0,vars:0,template:function(o,a){},encapsulation:2}),s})(),Zl=(()=>{var e;class s extends S.H{}return(e=s).\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["auth-master-page"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[_.n3],encapsulation:2}),s})(),tc=(()=>{var e;class s extends S.H{signInWithTokenGoogle(o){this.checkLoadingLogin=!0;let a=this.commonService.getMyParam(this.activeRoute,"type"),r=parseInt(a??"0",10);o.getIdToken().then(l=>{let m={isRegisterForm:1,isRegisterForTeacher:r,firebaseToken:l,language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(m).subscribe(g=>{if(!g.success){this.errorStatusObj(g.message,!0);const $=this.commonService.getMyQueryParam("backto")??"/auth/login";return void this.myNavigation($)}let T=this.commonService.getMyQueryParam("return_url")??"";if(""===T){var F=this.commonService.getMyQueryParam("backto")?.split("return_url=")?.[1];T=F?decodeURIComponent(F):""}0==Number(a)?this.redirectByRoleService.redirectLoginForStudent(T):this.redirectByRoleService.redirectLoginByRole(T),this.successStatusObj(),this.checkLoadingLogin=!1}))})}googleSignIn(){const o=new it.HF;o.addScope("https://www.googleapis.com/auth/userinfo.email"),(0,it.$2)((0,it.xI)((0,Wt.Wp)(j.c.firebaseConfig_app1,"authApp")),o)}getLoginStatus(){(0,it.Q4)((0,it.xI)((0,Wt.Wp)(j.c.firebaseConfig_app1,"authApp"))).then(o=>{if(!o)return this.googleSignIn();this.signInWithTokenGoogle(o.user)}).catch(o=>this.googleSignIn())}constructor(o,a,r){super(),this.activeRoute=o,this.authService=a,this.redirectByRoleService=r,this.checkLoadingLogin=!1,this.getLoginStatus()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(_.nX),t.rXU(k.uR),t.rXU(at.b))},e.\u0275cmp=t.VBU({type:e,selectors:[["register-by-openapi"]],features:[t.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"azt-loading-ui",2),t.k0s(),t.j41(3,"div",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("type","azota-logo"),t.R7$(2),t.SpI(" ",t.bMT(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[x.R,d.wp],encapsulation:2}),s})();const ec=()=>({"mr-2 text-success":!0}),nc=()=>({"text-white bg-success rounded-full p-1":!0}),oc=()=>({"text-white bg-danger rounded-full p-1":!0}),ac=e=>[e],ic=()=>({"mr-2":!0}),sc=()=>({"ml-2":!0});function rc(e,s){1&e&&(t.j41(0,"div",4),t.nrm(1,"azt-loading-ui",5),t.k0s()),2&e&&(t.R7$(),t.Y8G("size",40))}function lc(e,s){1&e&&(t.j41(0,"div",22),t.nrm(1,"lucide-icon",23),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,nc)))}function cc(e,s){1&e&&(t.j41(0,"div",24),t.nrm(1,"lucide-icon",25),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,oc)))}function _c(e,s){1&e&&(t.j41(0,"a",26),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",27),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e&&(t.Y8G("routerLink",t.eq3(7,ac,t.bMT(1,3,"/auth/login"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(9,ic)),t.R7$(2),t.JRh(t.bMT(5,5,"lang_powerpoint_frontend_chart_back")))}function mc(e,s){if(1&e&&(t.j41(0,"a",28)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.nrm(4,"lucide-icon",29),t.k0s()),2&e){const n=t.XpG(2);t.Y8G("href","https://"+n.businessRegister.domain+"/"+n.language+"/auth/login",t.B4B),t.R7$(2),t.JRh(t.bMT(3,3,"lang_azt_login_now")),t.R7$(2),t.Y8G("ngClass",t.lJ4(5,sc))}}function uc(e,s){if(1&e&&(t.j41(0,"div",6),t.DNE(1,lc,2,2,"div",7)(2,cc,2,2,"div",8),t.j41(3,"div",9)(4,"span"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",10)(8,"div",11),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",12)(12,"div",13),t.nrm(13,"lucide-icon",14),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",15),t.EFF(18,":"),t.k0s(),t.j41(19,"div",16),t.EFF(20," 0972 112 969 "),t.k0s()(),t.j41(21,"div",17)(22,"div",13),t.nrm(23,"azt-svg-icon",18),t.j41(24,"span"),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",15),t.EFF(28,":"),t.k0s(),t.j41(29,"div",16),t.EFF(30," 0972 112 969 "),t.k0s()()()(),t.j41(31,"div",19),t.DNE(32,_c,6,10,"a",20)(33,mc,5,6,"a",21),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.businessRegister),t.R7$(),t.Y8G("ngIf",!n.businessRegister),t.R7$(3),t.JRh(t.bMT(6,10,n.businessRegister?"lang_auto_xac_nhan_thanh_cong":"lang_azt_confirmation_failed")),t.R7$(4),t.SpI(" ",t.bMT(10,12,n.businessRegister?"lang_azt_confirmation_success_desc":"lang_azt_confirmation_failed_desc")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(18,ec)),t.R7$(2),t.SpI(" ",t.bMT(16,14,"lang_auto_dien_thoai"),""),t.R7$(8),t.Y8G("size",16),t.R7$(2),t.SpI(" ",t.bMT(26,16,"Zalo"),""),t.R7$(7),t.Y8G("ngIf",!n.businessRegister),t.R7$(),t.Y8G("ngIf",n.businessRegister)}}let dc=(()=>{var e;class s extends S.H{getRegistersConfirm(o){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersConfirmPost({secret:o}).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.businessRegister=a.data,this.successStatusObj()}))}constructor(o){super(),this.businessPackageService=o,this.secret="",this.language=this.commonService.getCurrentLang()}ngOnInit(){super.ngOnInit(),this.secret=this.getMyQueryParam("secret")??"",this.getRegistersConfirm(this.secret)}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(se.WC))},e.\u0275cmp=t.VBU({type:e,selectors:[["register-confirm"]],features:[t.Vt3],decls:5,vars:4,consts:[["doneLoading",""],[3,"maxWidth","contentBoxClass"],[1,"box","text-center",2,"min-height","300px"],["class","h-full flex items-center justify-center",4,"ngIf","ngIfElse"],[1,"h-full","flex","items-center","justify-center"],[3,"size"],[1,"p-4"],["class","rounded-full shadow-md inline-block p-3 bg-success/20",4,"ngIf"],["class","rounded-full shadow-md inline-block p-3 bg-danger/20",4,"ngIf"],[1,"mt-3","text-lg","font-bold"],[1,"mt-3","mx-auto",2,"max-width","400px"],[1,"text-slate-500"],[1,"mt-2","flex","items-center","font-medium","justify-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","16",3,"ngClass"],[1,"mx-1"],[1,"ml-0"],[1,"mt-3","flex","items-center","font-medium","justify-center"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-3","border-t","border-slate-200","dark:border-darkmode-400","p-3"],["class","btn btn-primary w-full",3,"routerLink",4,"ngIf"],["class","btn btn-primary w-full",3,"href",4,"ngIf"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-success/20"],["name","check","size","20",3,"ngClass"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-danger/20"],["name","x",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"href"],["name","chevron-right","size","16",3,"ngClass"]],template:function(o,a){if(1&o&&(t.j41(0,"auth-layout",1)(1,"div",2),t.DNE(2,rc,2,1,"div",3)(3,uc,34,19,"ng-template",null,0,t.C5r),t.k0s()()),2&o){const r=t.sdS(4);t.Y8G("maxWidth","500px")("contentBoxClass","mt-10"),t.R7$(2),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",r)}},dependencies:[_.Wk,u.YU,u.bT,x.R,_t.m,K.K,y.WGl,d.F2,d.wp],encapsulation:2}),s})();class Ee{static isInvalidPhone(s){let o=s.value?.trim()??"";return o&&(isNaN(Number(o))||10!=o.length)?{isInvalidPhone:!0}:null}}const Oe=e=>[e],pc=e=>({waiting:e});function gc(e,s){if(1&e&&(t.j41(0,"div"),t.nrm(1,"div",13),t.nI1(2,"mytranslate"),t.j41(3,"a",14),t.nI1(4,"navigationLocalize"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()),2&e){const n=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,3,"lang_register_for_business_success"),t.npT),t.R7$(2),t.Y8G("routerLink",t.eq3(9,Oe,t.bMT(4,5,n.backTo))),t.R7$(2),t.JRh(t.bMT(6,7,"lang_register_for_business_back_to"))}}function hc(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",17),2&e){const n=t.XpG(2);t.Y8G("currentStatusObj",n.statusObj)}}function fc(e,s){1&e&&(t.j41(0,"div",41)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_register_for_business_please_enter_full_name")))}function vc(e,s){1&e&&(t.j41(0,"div",41)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function bc(e,s){1&e&&(t.j41(0,"div",41)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function kc(e,s){1&e&&(t.j41(0,"div",41)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function yc(e,s){if(1&e&&(t.j41(0,"mat-option",42),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function Cc(e,s){1&e&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function Ic(e,s){if(1&e&&(t.j41(0,"mat-option",42),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function Sc(e,s){1&e&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function xc(e,s){if(1&e&&(t.qex(0),t.j41(1,"mat-form-field",31)(2,"mat-select",44,4),t.nI1(4,"mytranslate"),t.j41(5,"mat-option"),t.nrm(6,"ngx-mat-select-search",33),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,Ic,2,2,"mat-option",34),t.k0s()(),t.DNE(10,Sc,3,3,"div",35),t.bVm()),2&e){const n=t.sdS(3),o=t.XpG(3);t.R7$(2),t.FS9("placeholder",t.bMT(4,6,"lang_register_for_business_select_district")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(7,8,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(8,10,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("ngForOf",n.filter(o.districtObjs,"name")),t.R7$(),t.Y8G("ngIf",o.form.controls.districtId.invalid&&(o.form.controls.districtId.dirty||o.form.controls.districtId.touched))}}function Rc(e,s){1&e&&(t.j41(0,"span",45),t.nrm(1,"azt-loading-ui"),t.k0s())}function Tc(e,s){1&e&&t.nrm(0,"azt-loading-ui",46)}function wc(e,s){if(1&e){const n=t.RV6();t.j41(0,"form",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22),t.nrm(5,"input",23),t.nI1(6,"mytranslate"),t.DNE(7,fc,4,3,"div",24),t.k0s(),t.j41(8,"div",22),t.nrm(9,"input",25),t.nI1(10,"mytranslate"),t.DNE(11,vc,4,3,"div",24),t.k0s(),t.j41(12,"div",22),t.nrm(13,"input",26),t.nI1(14,"mytranslate"),t.DNE(15,bc,4,3,"div",24),t.k0s(),t.j41(16,"div",22),t.nrm(17,"input",27),t.nI1(18,"mytranslate"),t.DNE(19,kc,4,3,"div",24),t.k0s(),t.j41(20,"div",22),t.nrm(21,"textarea",28),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",29)(24,"div",30)(25,"div",22)(26,"mat-form-field",31)(27,"mat-select",32,2),t.nI1(29,"mytranslate"),t.bIt("selectionChange",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.selectProvinceObj(a.form.controls.provinceId.value))}),t.j41(30,"mat-option"),t.nrm(31,"ngx-mat-select-search",33),t.nI1(32,"mytranslate"),t.nI1(33,"mytranslate"),t.k0s(),t.DNE(34,yc,2,2,"mat-option",34),t.k0s()(),t.DNE(35,Cc,3,3,"div",35),t.k0s()(),t.j41(36,"div",30)(37,"div",22),t.DNE(38,xc,11,12,"ng-container",12)(39,Rc,2,0,"ng-template",null,3,t.C5r),t.k0s()()()()()(),t.j41(41,"div",36)(42,"div",37)(43,"a",38),t.nI1(44,"navigationLocalize"),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()(),t.j41(47,"button",39),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.registerForBusiness())}),t.DNE(48,Tc,1,0,"azt-loading-ui",40),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()()}if(2&e){const n=t.sdS(28),o=t.sdS(40),a=t.XpG(2);t.Y8G("formGroup",a.form),t.R7$(5),t.FS9("placeholder",t.bMT(6,24,"lang_register_for_business_full_name")),t.R7$(2),t.Y8G("ngIf",a.form.controls.fullName.errors&&(a.form.controls.fullName.dirty||a.form.controls.fullName.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(10,26,"lang_register_for_business_phone")),t.R7$(2),t.Y8G("ngIf",a.form.controls.phone.errors&&(a.form.controls.phone.dirty||a.form.controls.phone.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(14,28,"lang_register_for_business_email")),t.R7$(2),t.Y8G("ngIf",a.form.controls.email.errors&&(a.form.controls.email.dirty||a.form.controls.email.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(18,30,"lang_register_for_business_business_name")),t.R7$(2),t.Y8G("ngIf",a.form.controls.businessName.errors&&(a.form.controls.businessName.dirty||a.form.controls.businessName.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(22,32,"lang_register_for_business_note")),t.R7$(6),t.FS9("placeholder",t.bMT(29,34,"lang_register_for_business_select_province")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(32,36,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(33,38,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("ngForOf",n.filter(a.provinceObjs,"name")),t.R7$(),t.Y8G("ngIf",a.form.controls.provinceId.invalid&&(a.form.controls.provinceId.dirty||a.form.controls.provinceId.touched)),t.R7$(3),t.Y8G("ngIf",!a.isLoadingDistrictData)("ngIfElse",o),t.R7$(5),t.Y8G("routerLink",t.eq3(46,Oe,t.bMT(44,40,a.backTo))),t.R7$(2),t.JRh(t.bMT(46,42,"lang_register_for_business_back_to")),t.R7$(2),t.Y8G("ngClass",t.eq3(48,pc,a.statusObj.loading))("disabled",a.form.invalid),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(50,44,"lang_register_for_business_register")," ")}}function jc(e,s){if(1&e&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"div"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,hc,1,1,"azt-loading-effect",16)(7,wc,51,50,"ng-template",null,1,t.C5r)),2&e){const n=t.sdS(8),o=t.XpG();t.R7$(),t.JRh(t.bMT(2,4,"lang_register_for_business_contact_info")),t.R7$(3),t.JRh(t.bMT(5,6,"lang_register_for_business_detail_contact_info")),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",n)}}let Fc=(()=>{var e;class s extends S.H{selectProvinceObj(o){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(o).subscribe(a=>{a.success?(this.districtObjs=a.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(a.message,!0),this.isLoadingDistrictData=!1}))}initData(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListProvincesGet().subscribe(o=>{o.success?(this.provinceObjs=o.data?.objs??[],this.districtObjs=[],this.stopStatusObj()):this.errorStatusObj(o.message,!0)}))}registerForBusiness(){var o={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,note:this.form.controls.note.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value};this.registerSuccessfully=!1,this.initStatusObj(),this.waitDestroy(this.registerForBusinessService.apiRegisterForBusinessRegisterPost(o).subscribe(a=>{1==a.success?(this.successStatusObj(),this.registerSuccessfully=!0):this.errorStatusObj(a.message??"")}))}ngOnInit(){super.ngOnInit(),this.initData();let o=this.commonService.getMyQueryParam("backTo")??"";this.backTo=o||"/auth/register"}constructor(o,a){super(),this.commonListService=o,this.registerForBusinessService=a,this.backTo="",this.isLoadingDistrictData=!1,this.registerSuccessfully=!1,this.provinceObjs=[],this.districtObjs=[],this.form=new i.gE({fullName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace]}),phone:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,Ee.isInvalidPhone]}),email:new i.MJ("",{nonNullable:!0,validators:[mt.U.isInvalidEmail]}),businessName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),provinceId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.required,i.k0.min(1)]}),districtId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.required,i.k0.min(1)]}),note:new i.MJ("",{nonNullable:!0})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(E.Nz),t.rXU(k.eM))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-register-for-business"]],features:[t.Vt3],decls:14,vars:10,consts:[["registerForm",""],["doneLoading",""],["searchInListProvince","searchInList"],["isLoadingDistrict",""],["searchInListDistrict","searchInList"],[3,"maxWidth","contentBoxClass"],[1,"grid","grid-cols-12"],[1,"col-span-12","sm:col-span-12","lg:col-span-6"],[1,"left_box","text-white","p-5","text-slate-600","box"],[1,"text-lg","pb-5"],[3,"innerHTML"],[1,"p-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],[1,"pb-5","text-lg","text-success",3,"innerHTML"],[1,"pt-3","text-primary","clickable","dark:text-slate-200",3,"routerLink"],[1,"text-lg","mb-2"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"formGroup"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","email",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","businessName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","note",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",2,"min-height","150px",3,"placeholder"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["appearance","fill",1,"box","mt-4",2,"width","100%"],["searchInList","","formControlName","provinceId",3,"selectionChange","placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[1,"flex","mt-4"],[1,"mr-auto","flex","items-center","text-primary","clickable","dark:text-slate-200"],[3,"routerLink"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-info","align-top",3,"click","ngClass","disabled"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[3,"value"],[1,"alert","alert-danger"],["searchInList","","formControlName","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block","mt-4"],[1,"mr-1"]],template:function(o,a){if(1&o&&(t.j41(0,"auth-layout",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.nrm(7,"div",10),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"div",7)(10,"div",11),t.DNE(11,gc,7,11,"div",12)(12,jc,9,8,"ng-template",null,0,t.C5r),t.k0s()()()()),2&o){const r=t.sdS(13);t.Y8G("maxWidth","1000px")("contentBoxClass",""),t.R7$(5),t.JRh(t.bMT(6,6,"lang_register_for_business_free_to_register")),t.R7$(2),t.Y8G("innerHTML",t.bMT(8,8,"lang_register_for_business_all_feature"),t.npT),t.R7$(4),t.Y8G("ngIf",a.registerSuccessfully)("ngIfElse",r)}},dependencies:[_.Wk,u.YU,u.Sq,u.bT,i.qT,i.me,i.BC,i.cb,vt.wT,ct.rl,h.VO,i.l_,i.j4,i.JD,N.K,W.t,x.R,U.x,K.K,C.U9,d.F2,d.wp],styles:[".left_box[_ngcontent-%COMP%]{background-color:#3c8dbc;border-radius:.375rem 0 0 .375rem;height:100%}@media (max-width: 576px){.left_box[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0;height:auto}}"]}),s})();var Ec=c(47947),Oc=c(17178);let Gc=(()=>{class s{static invalidFormat(o){let r=o.value?.trim();return r?s.isValidSubdomain(r)?null:{invalidFormat:!0}:null}}return s.isValidSubdomain=n=>/^[a-zA-Z0-9-]+$/.test(n),s})();var Mc=c(48188),Pc=c(9002);const ft=()=>({"mr-2":!0}),$c=e=>({"error-border":e}),Ac=e=>({waiting:e}),zc=e=>[e];function Lc(e,s){1&e&&(t.j41(0,"div",68)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Dc(e,s){1&e&&(t.j41(0,"div",68)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function Bc(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_vui_long_nhap_email")))}function Nc(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function Vc(e,s){if(1&e&&(t.j41(0,"div",68),t.DNE(1,Bc,3,3,"span",69)(2,Nc,3,3,"span",69),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.required),t.R7$(),t.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.isInvalidEmail)}}function Yc(e,s){1&e&&(t.j41(0,"div",68)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function Uc(e,s){if(1&e&&(t.j41(0,"mat-option",70),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function Qc(e,s){1&e&&(t.j41(0,"div",68),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function Xc(e,s){if(1&e&&(t.j41(0,"mat-option",70),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function qc(e,s){1&e&&(t.j41(0,"div",68),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function Wc(e,s){if(1&e&&(t.qex(0)(1),t.j41(2,"mat-form-field",44)(3,"mat-select",71,4),t.nI1(5,"mytranslate"),t.j41(6,"mat-option"),t.nrm(7,"ngx-mat-select-search",40),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.k0s(),t.DNE(10,Xc,2,2,"mat-option",41),t.k0s()(),t.DNE(11,qc,3,3,"div",33),t.bVm()()),2&e){const n=t.sdS(4),o=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(5,6,"lang_register_for_business_select_district")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(8,8,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(9,10,"lang_search_not_found")),t.Y8G("formControl",n.searchControl),t.R7$(3),t.Y8G("ngForOf",n.filter(o.districtObjs,"name")),t.R7$(),t.Y8G("ngIf",o.districtObjs.length>0&&o.form.controls.districtId.invalid&&(o.form.controls.districtId.dirty||o.form.controls.districtId.touched))}}function Jc(e,s){1&e&&(t.j41(0,"span",72),t.nrm(1,"azt-loading-ui"),t.k0s())}function Hc(e,s){1&e&&(t.j41(0,"div",68)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function Kc(e,s){if(1&e&&(t.j41(0,"mat-option",70),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",t.bMT(2,2,n.name)," ")}}function Zc(e,s){1&e&&(t.j41(0,"div",68),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auth_please_select")+" "+t.bMT(3,3,"lang_auth_school_organization_type"),". "))}function t_(e,s){if(1&e&&(t.j41(0,"mat-option",70),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",t.bMT(2,2,n.name)," ")}}function e_(e,s){1&e&&(t.j41(0,"div",68),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auth_please_select")+" "+t.bMT(3,3,"lang_auth_scale_of_organization_environment"),". "))}function n_(e,s){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auth_please_enter")+" "+t.bMT(3,3,"lang_auth_system_domain"),"."))}function o_(e,s){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auth_business_domain_invalid_format"),"."))}function a_(e,s){if(1&e&&(t.j41(0,"div",68),t.DNE(1,n_,4,5,"div",69)(2,o_,3,3,"div",69),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.form.controls.desiredDomain.errors.noWhiteSpace),t.R7$(),t.Y8G("ngIf",n.form.controls.desiredDomain.errors.invalidFormat)}}function i_(e,s){1&e&&(t.j41(0,"div",68)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_core_vui_long_nhap_ky_vong_cua_ban")))}function s_(e,s){1&e&&t.nrm(0,"azt-loading-ui",73)}let r_=(()=>{var e;class s extends S.H{selectProvinceObj(o){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(o).subscribe(a=>{a.success?(this.districtObjs=a.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(a.message,!0),this.isLoadingDistrictData=!1}))}togglePassword(){this.showPassword=!this.showPassword}registerForBusiness(){if(this.form.invalid)return this.form.markAllAsTouched(),this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin");const o={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value,businessTypeId:this.form.controls.businessTypeId.value,businessWebUrl:this.form.controls.businessWebUrl.value,businessScaleId:this.form.controls.businessScaleId.value,adminPassword:"",domain:this.getDomainUrl(),description:this.form.controls.description.value};this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersPost(o).subscribe(a=>{1==a.success?(this.successStatusObj(),this.myNavigation("/auth/thank-for-business")):this.errorStatusObj(a.message??"",!0)}))}toggleDrawer(){this.chatBoxDrawer.toggle(),this.chatBoxDrawer.drawerType=this.drawerType.guide,this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.chatBoxDrawer.isOpened()}))}callMultipleApi(){const o=this.commonListService.apiCommonListBusinessTypesGet(),a=this.commonListService.apiCommonListBusinessScalesGet(),r=this.commonListService.apiCommonListProvincesGet();return(0,A.z)([o,a,r]).pipe((0,Ec.T)(([l,m,g])=>({resType:l,resScale:m,resProvince:g})),(0,Oc.W)(l=>{throw l}))}initData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.provinceObjs=o.data?.resProvince.data?.objs??[],this.businessTypeList=o.data?.resType.data?.objs??[],this.businessScaleList=o.data?.resScale.data?.objs??[],this.stopStatusObj()}))}getDomainUrl(){return this.form.controls.desiredDomain.value+"."+j.c.businessDomain}ngOnInit(){super.ngOnInit(),this.initData();let o=this.commonService.getMyQueryParam("backTo")??"";this.backTo=o||"/auth/register"}constructor(o,a,r,l){super(),this.commonListService=o,this.businessPackageService=a,this.browserStorageService=r,this.chatBoxDrawer=l,this.backTo="",this.isLoadingDistrictData=!1,this.provinceObjs=[],this.districtObjs=[],this.businessScaleList=[],this.businessTypeList=[],this.azotaDomain=j.c.businessDomain,this.showPassword=!1,this.isLoadingCheckDomain=!1,this.drawerType=Mc.I,this.form=new i.gE({fullName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace]}),phone:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,Ee.isInvalidPhone]}),email:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,mt.U.isInvalidEmail]}),businessName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),provinceId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.required,i.k0.min(1)]}),districtId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.required,i.k0.min(1)]}),businessTypeId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.required,i.k0.min(1)]}),businessWebUrl:new i.MJ("",{nonNullable:!0}),businessScaleId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.required,i.k0.min(1)]}),desiredDomain:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace,Gc.invalidFormat]}),description:new i.MJ("",{nonNullable:!0,validators:[i.k0.required]})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(E.Nz),t.rXU(se.WC),t.rXU(Tt.z),t.rXU(Pc.o))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-register-for-business"]],features:[t.Vt3],decls:157,vars:150,consts:[["searchInListProvince","searchInList"],["isLoadingDistrict",""],["searchInListBusinessType","searchInList"],["searchInListBusinessScale","searchInList"],["searchInListDistrict","searchInList"],[3,"maxWidth","contentBoxClass"],[3,"formGroup"],["id","register-for-business",1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-6","p-1"],[1,"box","intro-x","bg-gradient-primary","border-r","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","flex-col","p-4","h-full","justify-between"],[1,"text-white"],[1,"text-xl","font-semibold"],[1,"mt-4","text-base","font-medium"],[1,"flex","items-center","mt-4"],[1,"flex-none"],["name","layers","size","18",3,"ngClass"],[1,"flex","items-center","mt-3"],["name","database","size","18",3,"ngClass"],["name","book","size","18",3,"ngClass"],["name","webcam","size","18",3,"ngClass"],["name","bar-chart-3","size","18",3,"ngClass"],[1,"text-center"],["alt","bg",3,"src"],[1,"col-span-12","md:col-span-6"],[1,"p-4"],[1,"text-xl","font-semibold","mb-2"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"grid","grid-cols-12","gap-4","mt-4"],[1,"azt-form-group"],["type","text","formControlName","fullName","name","fullName","id","fullName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone","name","phone","id","phone",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"azt-form-group","mt-4"],["type","text","formControlName","email","name","email","id","email",1,"intro-x","login__input","form-control","block",3,"placeholder"],["type","text","formControlName","businessName","name","businessName","id","businessName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%",3,"ngClass"],["searchInList","","formControlName","provinceId","name","provinceId","id","provinceId",3,"selectionChange","placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["type","text","formControlName","businessWebUrl","name","businessWebUrl","id","businessWebUrl",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%"],["searchInList","","formControlName","businessTypeId","name","businessTypeId","id","businessTypeId",3,"placeholder"],["searchInList","","formControlName","businessScaleId","name","businessScaleId","id","businessScaleId",3,"placeholder"],[1,"azt-form-group","w-full","mt-4"],[1,"flex","items-center"],[1,"w-full"],["type","text","formControlName","desiredDomain","name","domain","id","desiredDomain",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"flex"],[1,"ml-2"],[1,"mt-4"],["formControlName","description",1,"form-control",3,"placeholder"],[1,"flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/business-terms-of-use.html","target","_blank",1,"text-primary","font-medium","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/business-privacy.html","target","_blank",1,"text-primary","font-medium","dark:text-slate-200"],[1,"flex","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","align-top","w-full",3,"click","ngClass"],["class","mr-1",4,"ngIf"],[1,"mt-5"],[1,"font-medium","btn-text-primary",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"],[1,"relative","md:fixed","bottom-0","left-0","p-5"],[1,"btn","btn-primary-soft",3,"click"],["name","circle-help","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[3,"value"],["searchInList","","formControlName","districtId","name","districtId","id","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block"],[1,"mr-1"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"auth-layout",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"div",12),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"div",14)(14,"div",15),t.nrm(15,"lucide-icon",16),t.k0s(),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"div",17)(19,"div",15),t.nrm(20,"lucide-icon",18),t.k0s(),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",17)(24,"div",15),t.nrm(25,"lucide-icon",19),t.k0s(),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"div",17)(29,"div",15),t.nrm(30,"lucide-icon",20),t.k0s(),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",17)(34,"div",15),t.nrm(35,"lucide-icon",21),t.k0s(),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()(),t.j41(38,"div",22),t.nrm(39,"img",23),t.nI1(40,"coreModConvertCdnLinkOfGitHub"),t.k0s()()()(),t.j41(41,"div",24)(42,"div",25)(43,"div",26),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s(),t.j41(46,"div",27)(47,"div",28)(48,"div",29)(49,"div",30)(50,"div",24)(51,"div",31),t.nrm(52,"input",32),t.nI1(53,"mytranslate"),t.DNE(54,Lc,4,3,"div",33),t.k0s()(),t.j41(55,"div",24)(56,"div",31),t.nrm(57,"input",34),t.nI1(58,"mytranslate"),t.DNE(59,Dc,4,3,"div",33),t.k0s()()(),t.j41(60,"div",35),t.nrm(61,"input",36),t.nI1(62,"mytranslate"),t.DNE(63,Vc,3,2,"div",33),t.k0s(),t.j41(64,"div",35),t.nrm(65,"input",37),t.nI1(66,"mytranslate"),t.DNE(67,Yc,4,3,"div",33),t.k0s(),t.j41(68,"div",30)(69,"div",24)(70,"div",31)(71,"mat-form-field",38)(72,"mat-select",39,0),t.nI1(74,"mytranslate"),t.bIt("selectionChange",function(){return t.eBV(r),t.Njj(a.selectProvinceObj(a.form.controls.provinceId.value))}),t.j41(75,"mat-option"),t.nrm(76,"ngx-mat-select-search",40),t.nI1(77,"mytranslate"),t.nI1(78,"mytranslate"),t.k0s(),t.DNE(79,Uc,2,2,"mat-option",41),t.k0s()(),t.DNE(80,Qc,3,3,"div",33),t.k0s()(),t.j41(81,"div",24)(82,"div",31),t.DNE(83,Wc,12,12,"ng-container",42)(84,Jc,2,0,"ng-template",null,1,t.C5r),t.k0s()()(),t.j41(86,"div",35),t.nrm(87,"input",43),t.nI1(88,"mytranslate"),t.DNE(89,Hc,4,3,"div",33),t.k0s(),t.j41(90,"div",35)(91,"mat-form-field",44)(92,"mat-select",45,2),t.nI1(94,"mytranslate"),t.j41(95,"mat-option"),t.nrm(96,"ngx-mat-select-search",40),t.nI1(97,"mytranslate"),t.nI1(98,"mytranslate"),t.k0s(),t.DNE(99,Kc,3,4,"mat-option",41),t.k0s()(),t.DNE(100,Zc,4,5,"div",33),t.k0s(),t.j41(101,"div",35)(102,"mat-form-field",44)(103,"mat-select",46,3),t.nI1(105,"mytranslate"),t.j41(106,"mat-option"),t.nrm(107,"ngx-mat-select-search",40),t.nI1(108,"mytranslate"),t.nI1(109,"mytranslate"),t.k0s(),t.DNE(110,t_,3,4,"mat-option",41),t.k0s()(),t.DNE(111,e_,4,5,"div",33),t.k0s(),t.j41(112,"div",47)(113,"div",48)(114,"div",49),t.nrm(115,"input",50),t.nI1(116,"mytranslate"),t.nrm(117,"div",51),t.k0s(),t.j41(118,"div",52)(119,"div",51),t.EFF(120),t.k0s()()(),t.DNE(121,a_,3,2,"div",33),t.k0s(),t.j41(122,"div",53),t.nrm(123,"textarea",54),t.nI1(124,"mytranslate"),t.DNE(125,i_,4,3,"div",33),t.k0s(),t.j41(126,"div",55)(127,"p",56),t.EFF(128),t.nI1(129,"mytranslate"),t.nI1(130,"mytranslate"),t.nI1(131,"mytranslate"),t.j41(132,"a",57),t.EFF(133),t.nI1(134,"mytranslate"),t.k0s(),t.EFF(135),t.nI1(136,"mytranslate"),t.j41(137,"a",58),t.EFF(138),t.nI1(139,"mytranslate"),t.k0s()()(),t.j41(140,"div",59)(141,"button",60),t.bIt("click",function(){return t.eBV(r),t.Njj(a.registerForBusiness())}),t.DNE(142,s_,1,0,"azt-loading-ui",61),t.EFF(143),t.nI1(144,"mytranslate"),t.k0s()(),t.j41(145,"div",62)(146,"a",63),t.nI1(147,"navigationLocalize"),t.nrm(148,"lucide-icon",64),t.EFF(149),t.nI1(150,"mytranslate"),t.k0s()()()()()()()()(),t.j41(151,"div",65)(152,"button",66),t.bIt("click",function(){return t.eBV(r),t.Njj(a.toggleDrawer())}),t.nrm(153,"lucide-icon",67),t.j41(154,"span"),t.EFF(155),t.nI1(156,"mytranslate"),t.k0s()()()()}if(2&o){const r=t.sdS(73),l=t.sdS(85),m=t.sdS(93),g=t.sdS(104);t.Y8G("maxWidth","1050px")("contentBoxClass","margin-top--50"),t.R7$(),t.Y8G("formGroup",a.form),t.R7$(7),t.SpI(" ",t.bMT(9,67,"lang_azt_feature_introduction")," "),t.R7$(3),t.SpI(" ",t.bMT(12,69,"lang_auth_register_business_desc_one")+": "," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(137,ft)),t.R7$(),t.SpI(" ",t.bMT(17,71,"lang_auth_register_business_desc_two")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(138,ft)),t.R7$(),t.SpI(" ",t.bMT(22,73,"lang_auth_register_business_desc_three")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(139,ft)),t.R7$(),t.SpI(" ",t.bMT(27,75,"lang_auth_register_business_desc_four")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(140,ft)),t.R7$(),t.SpI(" ",t.bMT(32,77,"lang_auth_register_business_desc_five")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(141,ft)),t.R7$(),t.SpI(" ",t.bMT(37,79,"lang_auth_register_business_desc_six")," "),t.R7$(3),t.Y8G("src",t.bMT(40,81,"images/illustration.svg"),t.B4B),t.R7$(5),t.JRh(t.bMT(45,83,"lang_azt_experience_registration")),t.R7$(8),t.FS9("placeholder",t.bMT(53,85,"lang_first_and_last_name")),t.R7$(2),t.Y8G("ngIf",a.form.controls.fullName.errors&&(a.form.controls.fullName.dirty||a.form.controls.fullName.touched)),t.R7$(3),t.FS9("placeholder",t.bMT(58,87,"lang_number_phone")),t.R7$(2),t.Y8G("ngIf",a.form.controls.phone.errors&&(a.form.controls.phone.dirty||a.form.controls.phone.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(62,89,"lang_azt_email_address")),t.R7$(2),t.Y8G("ngIf",a.form.controls.email.errors&&(a.form.controls.email.dirty||a.form.controls.email.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(66,91,"lang_register_for_business_business_name")),t.R7$(2),t.Y8G("ngIf",a.form.controls.businessName.errors&&(a.form.controls.businessName.dirty||a.form.controls.businessName.touched)),t.R7$(4),t.Y8G("ngClass",t.eq3(142,$c,a.form.controls.provinceId.invalid)),t.R7$(),t.FS9("placeholder",t.bMT(74,93,"lang_register_for_business_select_province")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(77,95,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(78,97,"lang_search_not_found")),t.Y8G("formControl",r.searchControl),t.R7$(3),t.Y8G("ngForOf",r.filter(a.provinceObjs,"name")),t.R7$(),t.Y8G("ngIf",a.form.controls.provinceId.invalid&&(a.form.controls.provinceId.dirty||a.form.controls.provinceId.touched)),t.R7$(3),t.Y8G("ngIf",!a.isLoadingDistrictData)("ngIfElse",l),t.R7$(4),t.FS9("placeholder",t.bMT(88,99,"lang_auth_school_organization_website")),t.R7$(2),t.Y8G("ngIf",a.form.controls.businessWebUrl.errors&&(a.form.controls.businessWebUrl.dirty||a.form.controls.businessWebUrl.touched)),t.R7$(3),t.FS9("placeholder",t.bMT(94,101,"lang_auth_school_organization_type")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(97,103,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(98,105,"lang_search_not_found")),t.Y8G("formControl",m.searchControl),t.R7$(3),t.Y8G("ngForOf",m.filter(a.businessTypeList,"name")),t.R7$(),t.Y8G("ngIf",a.form.controls.businessTypeId.invalid&&(a.form.controls.businessTypeId.dirty||a.form.controls.businessTypeId.touched)),t.R7$(3),t.FS9("placeholder",t.bMT(105,107,"lang_auth_scale_of_organization_environment")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(108,109,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(109,111,"lang_search_not_found")),t.Y8G("formControl",g.searchControl),t.R7$(3),t.Y8G("ngForOf",g.filter(a.businessScaleList,"name")),t.R7$(),t.Y8G("ngIf",a.form.controls.businessScaleId.invalid&&(a.form.controls.businessScaleId.dirty||a.form.controls.businessScaleId.touched)),t.R7$(4),t.FS9("placeholder",t.bMT(116,113,"lang_auth_system_domain")),t.R7$(5),t.SpI(" ","."+a.azotaDomain," "),t.R7$(),t.Y8G("ngIf",a.form.controls.desiredDomain.errors&&(a.form.controls.desiredDomain.dirty||a.form.controls.desiredDomain.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(124,115,"lang_core_ban_ky_vong_azota_co_the_ho_tro_dieu_gi_cho_to_chuc_cua_ban")),t.R7$(2),t.Y8G("ngIf",a.form.controls.description.errors&&(a.form.controls.description.dirty||a.form.controls.description.touched)),t.R7$(3),t.E5c(" ",t.bMT(129,117,"lang_auto_bang_cach_an_vao_nut"),' "',t.bMT(130,119,"lang_azt_send_experience_request_and_feature_introduction"),'" ',t.bMT(131,121,"lang_auto__toi_dong_y_voi")," "),t.R7$(5),t.JRh(t.bMT(134,123,"lang_auto_dieu_khoan_su_dung")),t.R7$(2),t.SpI(" ",t.bMT(136,125,"lang_auto_va")," "),t.R7$(3),t.SpI(" ",t.bMT(139,127,"lang_auto_chinh_sach_bao_mat_cua_azota")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(144,Ac,a.statusObj.loading)),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(144,129,"lang_azt_send_experience_request_and_feature_introduction")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(146,zc,t.bMT(147,131,a.backTo))),t.R7$(2),t.Y8G("ngClass",t.lJ4(148,ft)),t.R7$(),t.SpI(" ",t.bMT(150,133,"lang_register_for_business_back_to")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(149,ft)),t.R7$(2),t.JRh(t.bMT(156,135,"lang_testbank_test_dashboard_support"))}},dependencies:[_.Wk,u.YU,u.Sq,u.bT,i.qT,i.me,i.BC,i.cb,vt.wT,ct.rl,h.VO,i.l_,i.j4,i.JD,W.t,x.R,U.x,K.K,y.WGl,C.U9,d.F2,d.wp,d.Vs],encapsulation:2}),s})();const Ge=e=>({active:e}),Me=()=>({"mr-2":!0}),l_=()=>({"dark:text-slate-500":!0}),Jt=e=>[e],c_=()=>({backTo:"/auth/register"}),Pe=(e,s)=>({return_url:e,from:"register",user_click:"true",type:s}),__=e=>({return_url:e,from:"register",user_click:"true"});function m_(e,s){1&e&&(t.j41(0,"div",48)(1,"a",49),t.nI1(2,"navigationLocalize"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,Jt,t.bMT(2,3,"/auth/register-for-organization")))("queryParams",t.lJ4(9,c_)),t.R7$(2),t.SpI(" ",t.bMT(4,5,"lang_register_for_business_register_for_business")," "))}function u_(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",40)(1,"div",41)(2,"div",42),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.changeRegisterType(0))}),t.nrm(3,"lucide-icon",43),t.j41(4,"p",44),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()(),t.j41(7,"div",41)(8,"div",45),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.changeRegisterType(1))}),t.nrm(9,"azt-svg-icon",46),t.j41(10,"p",44),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()(),t.DNE(13,m_,5,10,"div",47),t.k0s()}if(2&e){const n=t.XpG();t.R7$(3),t.Y8G("size",128),t.R7$(2),t.JRh(t.bMT(6,5,"lang_auto_toi_la_hoc_sinh")),t.R7$(4),t.Y8G("size",128),t.R7$(2),t.JRh(t.bMT(12,7,"lang_auto_toi_la_giao_vien")),t.R7$(2),t.Y8G("ngIf",!(null!=n.userObj&&null!=n.userObj.roles&&n.userObj.roles.includes("STUDENT")))}}function d_(e,s){1&e&&(t.j41(0,"div",50)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function p_(e,s){1&e&&(t.j41(0,"div",50)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function g_(e,s){if(1&e&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,n.msgError)," ")}}function h_(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function f_(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function v_(e,s){if(1&e&&(t.j41(0,"div",50),t.DNE(1,h_,3,3,"span",51)(2,f_,3,3,"span",51),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors.required),t.R7$(),t.Y8G("ngIf",n.form.controls.password.errors.minlength)}}function b_(e,s){if(1&e&&(t.j41(0,"div",54),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"a",55),t.nI1(4,"navigationLocalize"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,5,n.statusObj.errorMessage)," Click "),t.R7$(2),t.Y8G("routerLink",t.eq3(13,Jt,t.bMT(4,7,"/auth/login")))("queryParams",t.l_i(15,Pe,n.returnUrl,n.isStudent?0:1)),t.R7$(2),t.SpI(" ",t.bMT(6,9,"lang_auto_vao_day")," "),t.R7$(2),t.SpI(" ",t.bMT(8,11,"lang_auto_de_dang_nhap")," ")}}function k_(e,s){if(1&e&&(t.j41(0,"label",56),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,n.statusObj.errorMessage)," ")}}function y_(e,s){if(1&e&&(t.j41(0,"div",52),t.DNE(1,b_,9,18,"div",53)(2,k_,3,3,"ng-template",null,1,t.C5r),t.k0s()),2&e){const n=t.sdS(3),o=t.XpG();t.R7$(),t.Y8G("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",n)}}function C_(e,s){1&e&&t.nrm(0,"azt-loading-ui",57)}function I_(e,s){if(1&e&&(t.qex(0),t.j41(1,"a",58),t.nI1(2,"navigationLocalize"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("routerLink",t.eq3(7,Jt,t.bMT(2,3,"/auth/login")))("queryParams",t.l_i(9,Pe,n.returnUrl,n.isStudent?0:1)),t.R7$(2),t.SpI(" ",t.bMT(4,5,"lang_auto_dang_nhap")," ")}}function S_(e,s){if(1&e&&(t.j41(0,"a",59),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e){const n=t.XpG();t.Y8G("routerLink",t.eq3(7,Jt,t.bMT(1,3,"/auth/login")))("queryParams",t.eq3(9,__,n.returnUrl)),t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_dang_nhap")," ")}}let $e=(()=>{var e;class s extends S.H{isInvalidUserPhoneOrEmail(o){this.msgError=mt.U.validPhoneOrEmail(o)}executeImportantAction(){return new Promise(o=>{this.recaptchaV3Service.execute("importantAction").subscribe(a=>{o(a)})})}getFormValue(){return this.form.getRawValue()}changeRegisterType(o){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${o}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==o?(this.isTeacher=!1,this.isStudent=!0,this.msgError=""):(this.isTeacher=!0,this.isStudent=!1,this.msgError="")}loginZalo(){window.location.href=this.zaloLoginUrl}callRegisterForTeacherApi(o){var a=this.getFormValue(),r={fullName:a.fullName,password:a.password,tokenCaptcha:o,language:this.commonService.getCurrentLang()};mt.U.validateEmail(a.username)?r.email=a.username:r.phone=a.username,this.waitDestroy(this.authService.apiAuthRegisterPost(r).subscribe(l=>{1==l.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"",this.isBusinessDomain,this.isMobileWebView)):(this.errorStatusObj(l.message??""),this.isDuplicateEmailOrPhone=l.data?.isDuplicateEmailOrPhone??0)}))}registerForTeacher(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(o=>{this.callRegisterForTeacherApi(o)}).catch(o=>{this.callRegisterForTeacherApi("")}))}callRegisterForStudentApi(o){var a=this.getFormValue(),r={fullName:a.fullName,password:a.password,tokenCaptcha:o,language:this.commonService.getCurrentLang()};mt.U.validateEmail(a.username)?r.email=a.username:r.phone=a.username,this.waitDestroy(this.authService.apiAuthRegisterForStudentPost(r).subscribe(l=>{1==l.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(l.message??""),this.isDuplicateEmailOrPhone=l.data?.isDuplicateEmailOrPhone??0)}))}registerForStudent(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(o=>{this.callRegisterForStudentApi(o)}).catch(o=>{this.callRegisterForStudentApi("")}))}googleSignIn(){const o=this.browserUserAgentService.isCommonInAppBrowser();let a=this.browserUserAgentService.getCommonInAppBrowser(),r=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),l="zalo";"facebook"===a.toLowerCase()&&(l="fb");let m=this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${l}_1.png`),g=this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${l}_2.png`);if(o)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(T=>{let F=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),$=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(we.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${T+" "+a}. ${F}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${$} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${m}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${$} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${g}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const T=this.commonService.getMyParam(this.activeRoute,"type"),F=`/auth/register/${T}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${T}`,`?backto=${encodeURIComponent(F)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLoginAndNotAnonymous())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=j.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_register=1");let r=this.commonService.getMyQueryParam("user_click");var o=this.commonService.getMyParam(this.activeRoute,"type");if(this.isBusinessDomain&&this.myNavigation("/auth/login"),null!=o){var a=parseInt(o?.toString(),10);this.changeRegisterType(0==a?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),!r&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/classroom/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}this.userObj=this.userService.getUserObj()}constructor(o,a,r,l,m,g,T,F){super(),this.redirectByRoleService=o,this.activeRoute=a,this.userService=r,this.recaptchaV3Service=l,this.sAztCommonCdnService=m,this.sAztDialogService=g,this.authService=T,this.browserUserAgentService=F,this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1,this.form=new i.gE({username:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace]}),fullName:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace]}),password:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,i.k0.minLength(5),tt.M.noWhiteSpace]})})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(at.b),t.rXU(_.nX),t.rXU(H.R),t.rXU(le.ob),t.rXU(me.c),t.rXU(nt.i),t.rXU(k.uR),t.rXU(Fe))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-register"]],features:[t.Vt3],decls:72,vars:72,consts:[["normalRedirectLogin",""],["anotherError",""],[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"click","ngClass"],["name","graduation-cap","size","16",3,"ngClass"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"click","ngClass"],["name","user","size","16",3,"ngClass"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"input","placeholder"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["name","graduation-cap",3,"size"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["type","teacher",3,"size"],["class","col-span-12 text-center w-width",4,"ngIf"],[1,"col-span-12","text-center","w-width"],["azt-track-service","register--fhLRd1G4",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],[1,"mr-1"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"auth-layout")(1,"h2",2),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,u_,14,9,"div",3),t.j41(5,"div",4)(6,"form",5)(7,"div",6)(8,"ul",7)(9,"li",8)(10,"button",9),t.bIt("click",function(){return t.eBV(r),t.Njj(a.changeRegisterType(0))}),t.nrm(11,"lucide-icon",10),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"li",11)(15,"button",12),t.bIt("click",function(){return t.eBV(r),t.Njj(a.changeRegisterType(1))}),t.nrm(16,"lucide-icon",13),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()(),t.j41(19,"div",14)(20,"div",15)(21,"div",16),t.nrm(22,"input",17),t.nI1(23,"mytranslate"),t.DNE(24,d_,4,3,"div",18),t.k0s(),t.j41(25,"div",16)(26,"input",19),t.nI1(27,"mytranslate"),t.bIt("input",function(){return t.eBV(r),t.Njj(a.isInvalidUserPhoneOrEmail(a.form.controls.username.value))}),t.k0s(),t.DNE(28,p_,4,3,"div",18)(29,g_,3,3,"div",18),t.k0s(),t.j41(30,"div",16)(31,"div",20),t.nrm(32,"input",21),t.nI1(33,"mytranslate"),t.j41(34,"button",22),t.bIt("click",function(){return t.eBV(r),t.Njj(a.togglePassword())}),t.nrm(35,"lucide-icon",23),t.k0s()(),t.DNE(36,v_,3,2,"div",18),t.k0s()()()(),t.DNE(37,y_,4,2,"div",24),t.j41(38,"div",25)(39,"p",26),t.EFF(40),t.nI1(41,"mytranslate"),t.nI1(42,"mytranslate"),t.nI1(43,"mytranslate"),t.j41(44,"a",27),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s(),t.EFF(47),t.nI1(48,"mytranslate"),t.j41(49,"a",28),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s()()(),t.j41(52,"div",29)(53,"button",30),t.bIt("click",function(){return t.eBV(r),t.Njj(1==a.isStudent?a.registerForStudent():a.registerForTeacher())}),t.DNE(54,C_,1,0,"azt-loading-ui",31),t.EFF(55),t.nI1(56,"mytranslate"),t.k0s()(),t.j41(57,"div",32),t.EFF(58),t.nI1(59,"mytranslate"),t.DNE(60,I_,5,12,"ng-container",33)(61,S_,4,11,"ng-template",null,0,t.C5r),t.k0s(),t.j41(63,"div",34)(64,"span",35),t.EFF(65),t.nI1(66,"mytranslate"),t.k0s()(),t.j41(67,"div",36)(68,"button",37),t.bIt("click",function(){return t.eBV(r),t.Njj(a.googleSignIn())}),t.nrm(69,"azt-svg-icon",38),t.j41(70,"span",39),t.EFF(71,"Google"),t.k0s()()()()()()}if(2&o){const r=t.sdS(62);t.R7$(2),t.SpI(" ",t.bMT(3,35,"lang_auto_dang_ky")," "),t.R7$(2),t.Y8G("ngIf",1==a.isShowOption),t.R7$(),t.Y8G("hidden",a.isShowOption),t.R7$(),t.Y8G("formGroup",a.form),t.R7$(4),t.Y8G("ngClass",t.eq3(65,Ge,a.isStudent)),t.R7$(),t.Y8G("ngClass",t.lJ4(67,Me)),t.R7$(),t.SpI(" ",t.bMT(13,37,"lang_auto_hoc_sinh")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(68,Ge,a.isTeacher)),t.R7$(),t.Y8G("ngClass",t.lJ4(70,Me)),t.R7$(),t.SpI(" ",t.bMT(18,39,"lang_auto_giao_vien")," "),t.R7$(5),t.FS9("placeholder",t.bMT(23,41,"lang_auto_ho_ten")),t.R7$(2),t.Y8G("ngIf",a.form.controls.fullName.errors&&(a.form.controls.fullName.dirty||a.form.controls.fullName.touched)),t.R7$(2),t.FS9("placeholder",t.bMT(27,43,"lang_auto_nhap_sdt_hoac_email")),t.R7$(2),t.Y8G("ngIf",a.form.controls.username.errors&&(a.form.controls.username.dirty||a.form.controls.username.touched)&&!a.msgError),t.R7$(),t.Y8G("ngIf",a.msgError),t.R7$(3),t.FS9("placeholder",t.bMT(33,45,"lang_auto_mat_khau")),t.Y8G("type",a.showPassword?"text":"password"),t.R7$(3),t.Y8G("name",a.showPassword?"eye":"eye-off")("ngClass",t.lJ4(71,l_)),t.R7$(),t.Y8G("ngIf",a.form.controls.password.errors&&(a.form.controls.password.dirty||a.form.controls.password.touched)),t.R7$(),t.Y8G("ngIf",a.statusObj.errorMessage),t.R7$(3),t.E5c(" ",t.bMT(41,47,"lang_auto_bang_cach_an_vao_nut"),' "',t.bMT(42,49,"lang_auto_dang_ky"),'" ',t.bMT(43,51,"lang_auto__toi_dong_y_voi")," "),t.R7$(5),t.JRh(t.bMT(46,53,"lang_auto_dieu_khoan_su_dung")),t.R7$(2),t.SpI(" ",t.bMT(48,55,"lang_auto_va")," "),t.R7$(3),t.JRh(t.bMT(51,57,"lang_auto_chinh_sach_bao_mat_cua_azota")),t.R7$(3),t.Y8G("disabled",a.form.invalid||a.statusObj.loading),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(56,59,"lang_auto_dang_ky")," "),t.R7$(3),t.SpI(" ",t.bMT(59,61,"lang_auto_ban_da_co_tai_khoan")," "),t.R7$(2),t.Y8G("ngIf",a.isDuplicateEmailOrPhone>0)("ngIfElse",r),t.R7$(5),t.JRh(t.bMT(66,63,"lang_auto_hoac")),t.R7$(4),t.Y8G("size",16)}},dependencies:[_.Wk,u.YU,u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,W.t,x.R,_t.m,K.K,y.WGl,d.F2,d.wp],encapsulation:2}),s})();var x_=c(39763);const R_=()=>({"mr-2":!0});function T_(e,s){1&e&&(t.j41(0,"div",11)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function w_(e,s){if(1&e&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,n.msgError)," ")}}function j_(e,s){1&e&&t.nrm(0,"azt-loading-ui",12)}let F_=(()=>{var e;class s extends S.H{isInvalidUserPhoneOrEmail(o){this.msgError=mt.U.validPhoneOrEmail(o)}addEmailOrPhone(){if(this.form.valid){let o,a;this.initStatusObj(),mt.U.validateEmail(this.form.controls.phone.value)?a=this.form.controls.phone.value:o=this.form.controls.phone.value,this.waitDestroy(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(o,a).subscribe(r=>{if(1==r.success){let l=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(l),this.successStatusObj()}else this.errorStatusObj(r.message??"",!0)}))}}backToRedirect(){let o=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(o)}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(o,a){super(),this.userZaloService=o,this.zaloService=a,this.msgError="",this.form=new i.gE({phone:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,tt.M.noWhiteSpace]})}),this.zaloService.checkLoginZalo()||this.backToRedirect()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(k.lM),t.rXU(x_.m))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-required-phone-or-email"]],features:[t.Vt3],decls:21,vars:19,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"input","placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"click","disabled"],["class","mr-1",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout")(1,"h2",0),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),t.nI1(8,"mytranslate"),t.bIt("input",function(){return a.isInvalidUserPhoneOrEmail(a.form.controls.phone.value)}),t.k0s(),t.DNE(9,T_,4,3,"div",5)(10,w_,3,3,"div",5),t.k0s(),t.j41(11,"div",6)(12,"button",7),t.bIt("click",function(){return a.addEmailOrPhone()}),t.DNE(13,j_,1,0,"azt-loading-ui",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"div",6)(17,"a",9),t.bIt("click",function(){return a.backToRedirect()}),t.nrm(18,"lucide-icon",10),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&o&&(t.R7$(2),t.SpI(" ",t.bMT(3,10,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),t.R7$(3),t.Y8G("formGroup",a.form),t.R7$(2),t.FS9("placeholder",t.bMT(8,12,"lang_auto_nhap_sdt_hoac_email")),t.R7$(2),t.Y8G("ngIf",a.form.controls.phone.invalid&&(a.form.controls.phone.dirty||a.form.controls.phone.touched)&&!a.msgError),t.R7$(),t.Y8G("ngIf",a.msgError),t.R7$(2),t.Y8G("disabled",a.statusObj.loading||a.form.invalid),t.R7$(),t.Y8G("ngIf",a.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(15,14,"lang_auto_tiep_tuc")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(18,R_)),t.R7$(),t.SpI(" ",t.bMT(20,16,"lang_auto_quay_lai")," "))},dependencies:[u.YU,u.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,W.t,x.R,K.K,y.WGl,d.wp],encapsulation:2}),s})();const ue=()=>({"mr-2":!0}),E_=e=>[e];let O_=(()=>{var e;class s extends S.H{ngOnInit(){super.ngOnInit()}constructor(){super()}}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-thank-for-business"]],features:[t.Vt3],decls:52,vars:35,consts:[[3,"maxWidth","contentBoxClass"],[1,"box","h-full","p-5","thank-for-business"],[1,"font-semibold","text-center","intro-x",2,"font-family","'Kaushan Script', cursive","font-size","4em","line-height","1","color","#5892FF"],[1,"mx-auto","mt-5","text-center","intro-x",2,"max-width","700px"],[1,"text-slate-500"],[1,"mt-4","mx-auto",2,"max-width","190px"],[1,"font-medium","text-center"],[1,"ml-0"],[1,"mt-3","flex","items-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","18",3,"ngClass"],[1,"mx-1"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-4"],[1,"font-medium"],[1,"mt-3"],[1,"azt-copy","relative","intro-x","mx-auto"],["type","text","readonly","","value","Azota For School.pdf",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10","text-primary","cursor-pointer"],["azt-track-service","thank-for-business-npZYLKAD0","href","https://drive.google.com/file/d/1qG4uKTl1UC1lMQ96LX_dQjb2FPbeejyn/view?usp=sharing","target","_blank",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0"],["name","square-arrow-out-up-right","size","18",3,"ngClass"],[1,"text-center","mt-8","intro-x"],["azt-track-service","thank-for-business-fr0dFQRDKx",1,"btn","btn-outline-primary","w-72",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"]],template:function(o,a){1&o&&(t.j41(0,"auth-layout",0)(1,"div",1)(2,"h1",2),t.EFF(3,"Thank you ! "),t.k0s(),t.j41(4,"div",3)(5,"span",4),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",5)(9,"div",6),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",7)(13,"div",8)(14,"div",9),t.nrm(15,"lucide-icon",10),t.j41(16,"span"),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",11),t.EFF(20,":"),t.k0s(),t.j41(21,"div",7),t.EFF(22," 0972 112 969 "),t.k0s()(),t.j41(23,"div",8)(24,"div",9),t.nrm(25,"azt-svg-icon",12),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()(),t.j41(29,"div",11),t.EFF(30,":"),t.k0s(),t.j41(31,"div",7),t.EFF(32," 0972 112 969 "),t.k0s()()()(),t.j41(33,"div",13)(34,"div",14),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.j41(37,"div",15)(38,"div",16),t.nrm(39,"input",17),t.j41(40,"a",18),t.nrm(41,"lucide-icon",19),t.j41(42,"span"),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s()()()()(),t.j41(45,"div",20)(46,"a",21),t.nI1(47,"navigationLocalize"),t.nrm(48,"lucide-icon",22),t.j41(49,"span"),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s()()()()()),2&o&&(t.Y8G("maxWidth","800px")("contentBoxClass","margin-top--50"),t.R7$(6),t.SpI(" ",t.bMT(7,14,"lang_azt_thank_you_for_interest_in_azotas_features")," "),t.R7$(4),t.SpI(" ",t.bMT(11,16,"lang_azt_live_support_advice")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(30,ue)),t.R7$(2),t.SpI(" ",t.bMT(18,18,"lang_auto_dien_thoai"),""),t.R7$(8),t.Y8G("size",16),t.R7$(2),t.SpI(" ",t.bMT(28,20,"Zalo"),""),t.R7$(8),t.SpI(" ",t.bMT(36,22,"lang_azt_feature_solution_overview")," "),t.R7$(6),t.Y8G("ngClass",t.lJ4(31,ue)),t.R7$(2),t.JRh(t.bMT(44,24,"lang_testbank_create_wibsite_result_Access")),t.R7$(3),t.Y8G("routerLink",t.eq3(32,E_,t.bMT(47,26,"/auth/login"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(34,ue)),t.R7$(2),t.SpI(" ",t.bMT(51,28,"lang_auto_quay_lai_dang_nhap"),""))},dependencies:[_.Wk,u.YU,_t.m,K.K,y.WGl,d.F2,d.wp],encapsulation:2}),s})();var G_=c(18565),M_=c(52909),P_=c(30105);let $_=(()=>{var e;class s{constructor(){this.frontTrackCustomEventService=(0,t.WQX)(G_.r),this.sAztUuidService=(0,t.WQX)(M_.D),this.sAztAzotaTrackingEventData=(0,t.WQX)(P_.D)}sendCustomEvent(o){this.frontTrackCustomEventService.apiFrontTrackCustomEventSaveEventObjPost(o,"useBeacon").subscribe(a=>{})}createGroupRequest(o,a=[]){let r=this.sAztUuidService.getSmallUuid();return o.objs.forEach(l=>a.push({type:o.type,groupUuid:r,name:l.name,value:l.value})),a}createGroupRequests(o,a=[]){return o.forEach(r=>{let l=this.sAztUuidService.getSmallUuid();r.objs.forEach(m=>a.push({type:r.type,groupUuid:l,name:m.name,value:m.value}))}),a}}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var A_=c(53043),z_=c(20951);const L_=(e,s)=>({"btn-primary":e,"btn-outline-primary":s});function D_(e,s){if(1&e&&(t.j41(0,"teacher-layout",9),t.eu8(1,10),t.k0s()),2&e){const n=t.XpG(),o=t.sdS(3);t.Y8G("headerBackToLink",n.backLink),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function B_(e,s){if(1&e&&(t.j41(0,"student-layout",9),t.eu8(1,10),t.k0s()),2&e){const n=t.XpG(),o=t.sdS(3);t.Y8G("headerBackToLink",n.backLink),t.R7$(),t.Y8G("ngTemplateOutlet",o)}}function N_(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",12),2&e){const n=t.XpG(2);t.Y8G("currentStatusObj",n.statusObj)}}function V_(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auth_choose_package_to_use")))}function Y_(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auth_choose_charge_coin_package")))}function U_(e,s){if(1&e&&t.eu8(0,10),2&e){t.XpG(2);const n=t.sdS(2);t.Y8G("ngTemplateOutlet",n)}}function Q_(e,s){if(1&e&&t.eu8(0,10),2&e){t.XpG(2);const n=t.sdS(4);t.Y8G("ngTemplateOutlet",n)}}function X_(e,s){if(1&e&&t.eu8(0,10),2&e){t.XpG(2);const n=t.sdS(6);t.Y8G("ngTemplateOutlet",n)}}function q_(e,s){if(1&e&&(t.j41(0,"div",14)(1,"div",15),t.DNE(2,V_,3,3,"span",16)(3,Y_,3,3,"span",16),t.k0s(),t.DNE(4,U_,1,1,"ng-container",17)(5,Q_,1,1,"ng-container",17)(6,X_,1,1,"ng-container",17),t.k0s()),2&e){const n=t.XpG(3);t.R7$(2),t.Y8G("ngIf",!n.isBuyCoinPackage),t.R7$(),t.Y8G("ngIf",n.isBuyCoinPackage),t.R7$(),t.Y8G("ngIf",n.isTeacherDashboard),t.R7$(),t.Y8G("ngIf",!n.isTeacherDashboard&&!n.isBuyCoinPackage),t.R7$(),t.Y8G("ngIf",!n.isTeacherDashboard&&n.isBuyCoinPackage)}}function W_(e,s){1&e&&(t.j41(0,"div",39),t.nrm(1,"lucide-icon",40),t.k0s())}function J_(e,s){1&e&&(t.j41(0,"div",41),t.nrm(1,"lucide-icon",42),t.k0s())}function H_(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"formatMoney"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_pay")+" "+t.bMT(3,3,n.price)+" "+t.bMT(4,5,"lang_auto_vnd_upper")+" "+t.bMT(5,7,"lang_azt_every_year_equivalent")," ")}}function K_(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"formatMoney"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_pay")+" "+t.bMT(3,3,n.price)+" "+t.bMT(4,5,"lang_auto_vnd_upper")+" "+t.bMT(5,7,"lang_azt_6_month_equivalent")," ")}}function Z_(e,s){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_pay_today")))}function tm(e,s){if(1&e&&(t.qex(0),t.j41(1,"div",31),t.DNE(2,W_,2,0,"div",32)(3,J_,2,0,"div",33),t.j41(4,"div",34),t.EFF(5),t.k0s()(),t.j41(6,"div",35),t.DNE(7,H_,6,9,"span",16)(8,K_,6,9,"span",16)(9,Z_,3,3,"span",16),t.k0s(),t.j41(10,"div",36)(11,"span",37),t.EFF(12),t.nI1(13,"formatMoney"),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"span",38),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.bVm()),2&e){const n=t.XpG().$implicit,o=t.r8f(1);t.R7$(2),t.Y8G("ngIf",16!==n.id),t.R7$(),t.Y8G("ngIf",16===n.id),t.R7$(2),t.SpI(" ",n.description," "),t.R7$(2),t.Y8G("ngIf",12===n.totalMonth),t.R7$(),t.Y8G("ngIf",6===n.totalMonth),t.R7$(),t.Y8G("ngIf",1===n.totalMonth),t.R7$(3),t.JRh(t.bMT(13,8,o)+" "+t.bMT(14,10,"lang_auto_vnd_upper")),t.R7$(4),t.JRh("/"+t.bMT(17,12,"lang_auto_"+n.timeUnit))}}function em(e,s){if(1&e&&(t.j41(0,"div",31)(1,"div",41),t.nrm(2,"lucide-icon",43),t.k0s(),t.j41(3,"div",34),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",35),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",36)(10,"span",37),t.EFF(11),t.nI1(12,"formatMoney"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"span",38),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,4,"lang_vip_package_type_custom_package")," "),t.R7$(3),t.SpI(" ",t.bMT(8,6,"lang_azt_pay_today")," "),t.R7$(4),t.JRh(t.bMT(12,8,n.price)+" "+t.bMT(13,10,"lang_auto_vnd_upper")),t.R7$(4),t.JRh("\xa0/\xa0"+n.totalPoint+"\xa0"+t.bMT(16,12,"lang_vip_package_total_point"))}}function nm(e,s){1&e&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_azt_most_economical")," "))}function om(e,s){if(1&e&&t.eu8(0,10),2&e){t.XpG();const n=t.sdS(13);t.Y8G("ngTemplateOutlet",n)}}function am(e,s){if(1&e&&t.eu8(0,10),2&e){t.XpG();const n=t.sdS(15);t.Y8G("ngTemplateOutlet",n)}}function im(e,s){1&e&&t.nrm(0,"lucide-icon",45)}function sm(e,s){1&e&&t.nrm(0,"lucide-icon",52)}function rm(e,s){1&e&&t.nrm(0,"lucide-icon",45)}function lm(e,s){1&e&&t.nrm(0,"lucide-icon",52)}function cm(e,s){1&e&&t.nrm(0,"lucide-icon",45)}function _m(e,s){1&e&&t.nrm(0,"lucide-icon",52)}function mm(e,s){1&e&&t.nrm(0,"lucide-icon",45)}function um(e,s){1&e&&t.nrm(0,"lucide-icon",52)}function dm(e,s){1&e&&t.nrm(0,"lucide-icon",45)}function pm(e,s){1&e&&t.nrm(0,"lucide-icon",52)}function gm(e,s){1&e&&t.nrm(0,"lucide-icon",45)}function hm(e,s){1&e&&t.nrm(0,"lucide-icon",52)}function fm(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",31),t.nrm(1,"lucide-icon",45),t.j41(2,"div",46),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",47),t.DNE(6,im,1,0,"lucide-icon",48)(7,sm,1,0,"lucide-icon",49),t.j41(8,"div",46),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",47),t.DNE(12,rm,1,0,"lucide-icon",48)(13,lm,1,0,"lucide-icon",49),t.j41(14,"div",46),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",47),t.DNE(18,cm,1,0,"lucide-icon",48)(19,_m,1,0,"lucide-icon",49),t.j41(20,"div",46),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"div",47),t.DNE(24,mm,1,0,"lucide-icon",48)(25,um,1,0,"lucide-icon",49),t.j41(26,"div",46),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()(),t.j41(29,"div",47),t.DNE(30,dm,1,0,"lucide-icon",48)(31,pm,1,0,"lucide-icon",49),t.j41(32,"div",46),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()(),t.j41(35,"div",47),t.DNE(36,gm,1,0,"lucide-icon",48)(37,hm,1,0,"lucide-icon",49),t.j41(38,"div",46),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()(),t.j41(41,"div",50)(42,"button",51),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(4);return t.Njj(r.choosePackage(a.id))}),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s()()}if(2&e){const n=t.XpG().$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,21,"lang_azt_unlimited_number_of_exams")," "),t.R7$(3),t.Y8G("ngIf",16!==n.id),t.R7$(),t.Y8G("ngIf",16===n.id),t.R7$(2),t.SpI(" ",t.bMT(10,23,"lang_auto_tai_de_thi_dinh_dang_docx")," "),t.R7$(3),t.Y8G("ngIf",16!==n.id),t.R7$(),t.Y8G("ngIf",16===n.id),t.R7$(2),t.SpI(" ",t.bMT(16,25,"lang_auto_tai_excel_ket_qua_thi_tren_50_hoc_sinh")," "),t.R7$(3),t.Y8G("ngIf",16!==n.id),t.R7$(),t.Y8G("ngIf",16===n.id),t.R7$(2),t.SpI(" ",t.bMT(22,27,"lang_auto_hoc_sinh_l\xe0m_de_thi_bai_tap_khong_co_quang_cao")," "),t.R7$(3),t.Y8G("ngIf",16!==n.id),t.R7$(),t.Y8G("ngIf",16===n.id),t.R7$(2),t.SpI(" ",t.bMT(28,29,"lang_auto_quan_ly_tai_khoan_hoc_sinh_tao_tai_khoan_doi_mat_khau")," "),t.R7$(3),t.Y8G("ngIf",16!==n.id),t.R7$(),t.Y8G("ngIf",16===n.id),t.R7$(2),t.SpI(" ",t.bMT(34,31,"lang_auto_duoc_dung_ngan_hang_phan_loai_cua_azota")," "),t.R7$(3),t.Y8G("ngIf",16!==n.id),t.R7$(),t.Y8G("ngIf",16===n.id),t.R7$(2),t.SpI(" ",t.bMT(40,33,"lang_auto_tu_dong_phan_tich_cau_truc_de_giup_danh_gia_nang_luc_hoc_sinh")," "),t.R7$(3),t.Y8G("ngClass",t.l_i(37,L_,12===n.totalMonth,12!==n.totalMonth)),t.R7$(),t.SpI(" ",t.bMT(44,35,"lang_auth_use")," ")}}function vm(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",53)(1,"b"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"div",31),t.nrm(5,"lucide-icon",45),t.j41(6,"div",46),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"div",47),t.nrm(10,"lucide-icon",45),t.j41(11,"div",46),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"div",47),t.nrm(15,"lucide-icon",45),t.j41(16,"div",46),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",50)(20,"button",54),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(4);return t.Njj(r.choosePackage(a.id))}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.JRh(t.bMT(3,5,"lang_vip_package_info_point_use_for_bellow")),t.R7$(5),t.JRh(t.bMT(8,7,"lang_vip_package_info_download_docx")),t.R7$(5),t.JRh(t.bMT(13,9,"lang_vip_package_info_ocr_pdf_or_image")),t.R7$(5),t.SpI(" ",t.bMT(18,11,"lang_vip_package_info_export_student_result")," "),t.R7$(4),t.SpI(" ",t.bMT(22,13,"lang_auth_use")," "))}function bm(e,s){if(1&e&&(t.j41(0,"div",25),t.SS7(1),t.nI1(2,"number"),t.j41(3,"div",26)(4,"div",27),t.DNE(5,tm,18,14,"ng-container",28)(6,em,17,14,"ng-template",null,5,t.C5r),t.k0s(),t.DNE(8,nm,3,3,"div",29),t.j41(9,"div",30),t.DNE(10,om,1,1,"ng-container",17)(11,am,1,1,"ng-container",17),t.k0s()(),t.DNE(12,fm,45,40,"ng-template",null,6,t.C5r)(14,vm,23,15,"ng-template",null,7,t.C5r),t.k0s()),2&e){const n=s.$implicit,o=t.sdS(7);t.R7$(),t.bH3(t.i5U(2,5,n.price/n.totalMonth,"1.0-0")),t.R7$(4),t.Y8G("ngIf",!n.totalPoint)("ngIfElse",o),t.R7$(3),t.Y8G("ngIf",12===n.totalMonth),t.R7$(2),t.Y8G("ngIf",!n.totalPoint),t.R7$(),t.Y8G("ngIf",n.totalPoint)}}function km(e,s){if(1&e&&(t.j41(0,"div",18)(1,"div",19)(2,"div",20),t.nrm(3,"input",21),t.k0s(),t.j41(4,"label",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()(),t.j41(7,"div",23),t.DNE(8,bm,16,9,"div",24),t.k0s()),2&e){const n=t.XpG(3);t.R7$(3),t.Y8G("formControl",n.getInvoiceControl),t.R7$(2),t.SpI(" ",t.bMT(6,3,"lang_vip_invoice_print_current_transaction")," "),t.R7$(3),t.Y8G("ngForOf",n.vipPackageList)}}function ym(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",58)(1,"div",59)(2,"div",60)(3,"div",61),t.nrm(4,"lucide-icon",62),t.k0s(),t.j41(5,"div",63)(6,"div",64),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",47)(10,"div",65),t.EFF(11),t.nI1(12,"formatMoney"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",66),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()(),t.j41(17,"div",67),t.nrm(18,"azt-svg-icon",68),t.j41(19,"div",69),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()(),t.j41(22,"div",67),t.nrm(23,"azt-svg-icon",70),t.j41(24,"div",69),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",50)(28,"button",71),t.bIt("click",function(){const a=t.eBV(n).$implicit,r=t.XpG(4);return t.Njj(r.choosePackage(a.id))}),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()()}if(2&e){const n=s.$implicit;t.R7$(7),t.JRh(t.bMT(8,8,n.name)),t.R7$(4),t.SpI(" ",t.bMT(12,10,n.price)+" "+t.bMT(13,12,"lang_auto_vnd_upper")," "),t.R7$(4),t.SpI(" "," / "+n.totalMonth+" "+t.bMT(16,14,"lang_auto_"+n.timeUnit)," "),t.R7$(3),t.Y8G("size",25),t.R7$(2),t.SpI(" ",t.bMT(21,16,"lang_azt_no_ads")," "),t.R7$(3),t.Y8G("size",25),t.R7$(2),t.SpI(" ",t.bMT(26,18,"lang_package_allow_access_when_system_busy")," "),t.R7$(4),t.SpI(" ",t.bMT(30,20,"lang_auth_use")," ")}}function Cm(e,s){if(1&e&&(t.j41(0,"div",55),t.nrm(1,"div",56),t.DNE(2,ym,31,22,"div",57),t.k0s()),2&e){const n=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",n.vipPackageList)}}function Im(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",73)(4,"span",37),t.EFF(5),t.nI1(6,"formatMoney"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"span",38),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.j41(11,"div",30)(12,"div",53)(13,"b"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",31),t.nrm(17,"lucide-icon",45),t.j41(18,"div",46),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div",50)(22,"button",54),t.bIt("click",function(){const a=t.eBV(n).$implicit,r=t.XpG(4);return t.Njj(r.choosePackage(a.id))}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()()()()}if(2&e){const n=s.$implicit;t.R7$(5),t.JRh(t.bMT(6,5,n.price)+" "+t.bMT(7,7,"lang_auto_vnd_upper")),t.R7$(4),t.JRh("\xa0/\xa0"+n.totalPoint+"\xa0"+t.bMT(10,9,"lang_vip_package_total_coin")),t.R7$(5),t.JRh(t.bMT(15,11,"lang_vip_package_info_coin_use_for_bellow")),t.R7$(5),t.JRh(t.bMT(20,13,"lang_vip_package_info_buy_exam")),t.R7$(4),t.SpI(" ",t.bMT(24,15,"lang_package_recharge_this")," ")}}function Sm(e,s){if(1&e&&(t.j41(0,"div",72),t.DNE(1,Im,25,17,"div",24),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("ngForOf",n.vipPackageList)}}function xm(e,s){if(1&e&&t.DNE(0,q_,7,5,"div",13)(1,km,9,5,"ng-template",null,2,t.C5r)(3,Cm,3,1,"ng-template",null,3,t.C5r)(5,Sm,2,1,"ng-template",null,4,t.C5r),2&e){const n=t.XpG(2);t.Y8G("ngIf",!n.isMobileWebView)}}function Rm(e,s){if(1&e&&t.DNE(0,N_,1,1,"azt-loading-effect",11)(1,xm,7,1,"ng-template",null,1,t.C5r),2&e){const n=t.sdS(2),o=t.XpG();t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",n)}}const Tm=[{path:"",component:Zl,children:[{path:"login",component:Hl},{path:"login-scan/:role",component:Gl},{path:"login-by-zalo",component:tl},{path:"register",component:$e},{path:"register/:type",component:$e},{path:"choose-role",component:bs},{path:"required-phone-or-email",component:F_},{path:"login-by-openapi",component:Zr},{path:"logout",component:Kl},{path:"register-by-openapi/:type",component:tc},{path:"confirm_forgot_password",component:lr},{path:"confirm-forgot-password-email",component:Ts},{path:"forgot_password_success",component:Hr},{path:"confirm_forgot_password_qr",component:$r},{path:"confirm_forgot_password_old",component:fr},{path:"create-qr-forgot-pass/:role",component:Wr},{path:"confirm_account",component:As},{path:"change-email",component:fs},{path:"account-setting/:roleType/:modeType",component:Xi},{path:"go-to-mobile/:fromApp",component:Kr},{path:"register-for-organization",component:r_},{path:"register-for-business-old",component:Fc},{path:"thank-for-business",component:O_},{path:"register-confirm",component:dc},{path:"vip-packages/:vipPackageType",component:(()=>{var e;class s extends S.H{choosePackage(o){let a=this.commonService.getMyQueryParam("backTo")?this.commonService.getMyQueryParam("backTo"):void 0;const r=`userRole=${this.vipPackageType==ht.W.VIPFORTEACHER?"teacher":"student"}${this.getInvoiceControl.value?"&getInvoice=1":""}&productType=vip_package&backTo=`+encodeURIComponent(a??this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyVipMemberGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),o,this.trackingKey,r).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);window.location.href=l.data?.value??"",this.successStatusObj()}))}onShowFile(o){(()=>{let m=window.pageYOffset||document.documentElement.scrollLeft,g=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=()=>{window.scrollTo(m,g)}})(),this.sAztDialogService.open(A_.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{url:this.sAztCommonCdnService.coreModConvertCdnLinkOfGitHub(o),mimes:"image/jpeg"},viewFullImageWithScroll:!0},restoreFocus:!1}).afterClosed().subscribe(m=>{window.onscroll=()=>{}})}getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.vipPackageService.apiVipPackageGetPackageObjsPost({vipPackageType:this.vipPackageType}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.vipPackageList=o.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit();let o="VIEW_TEACHER_VIP_PACKAGE",a=this.commonService.getMyParam(this.activeRoute,"vipPackageType");this.vipPackageType=ht.W.VIPFORTEACHER,"studentVip"==a&&(this.vipPackageType=ht.W.VIPFORSTUDENT,o="VIEW_STUDENT_VIP_PACKAGE"),"studentCoin"==a&&(this.vipPackageType=ht.W.COINFORSTUDENT,o="VIEW_STUDENT_COIN_PACKAGE",this.isBuyCoinPackage=!0),this.isTeacherDashboard="teacherVip"==a,this.backLink=this.commonService.getMyQueryParam("backto")??`/auth/account-setting/${this.isTeacherDashboard?0:1}/8`,this.trackingKey=this.commonService.getMyQueryParam("trackingKey")?this.commonService.getMyQueryParam("trackingKey"):void 0,this.getBusinessPackages(),this.sAztAzotaCustomTrackingService.sendCustomEvent(this.sAztAzotaCustomTrackingService.createGroupRequest({type:o,objs:[{name:"trackingKey",value:this.trackingKey??""},{name:"userId",value:this.sAztUserService.getUserObj()?.id?.toString()??""},{name:"referenceUrl",value:this.sAztAzotaCustomTrackingService.sAztAzotaTrackingEventData.getReferenceUrl()??""}]}))}constructor(o,a,r,l,m){super(),this.activeRoute=o,this.vipPackageService=a,this.productOrderService=r,this.sAztDialogService=l,this.sAztCommonCdnService=m,this.sAztAzotaCustomTrackingService=(0,t.WQX)($_),this.sAztUserService=(0,t.WQX)(H.R),this.vipPackageList=[],this.backLink="",this.allPackages=ht.W,this.isTeacherDashboard=!1,this.isBuyCoinPackage=!1,this.trackingKey=void 0,this.getInvoiceControl=new i.MJ(!1,{nonNullable:!0})}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(_.nX),t.rXU(z_.v),t.rXU(rt.Hg),t.rXU(nt.i),t.rXU(me.c))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-vip-packages"]],features:[t.Vt3],decls:4,vars:2,consts:[["MainContentTpl",""],["doneLoading",""],["teacherVipTpl",""],["studentVipTpl",""],["studentCoinTpl",""],["havePoint",""],["vipPackageInfoTpl",""],["payAsGoInfoTpl",""],[3,"headerBackToLink",4,"ngIf"],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","mx-auto mt-8",4,"ngIf"],[1,"mx-auto","mt-8"],[1,"text-center","text-2xl","font-medium"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"mx-auto","text-center","mt-3"],[1,"inline-flex","items-center"],[1,"setting-input","form-switch"],["id","get-invoice","type","checkbox",1,"form-check-input",3,"formControl"],["for","get-invoice",1,"form-check-label","text-base","font-medium","text-slate-600","ml-1"],[1,"grid","grid-cols-12","gap-5","mt-8","mx-auto","teacherVipTpl","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],[1,"intro-y","box","package-teacher","flex-1","w-full"],[1,"border-b","border-slate-200","dark:border-darkmode-400","p-5"],[4,"ngIf","ngIfElse"],["class","py-1 px-2 rounded-full text-xs bg-pending text-white cursor-pointer font-medium box-save",4,"ngIf"],[1,"p-5"],[1,"flex","items-center"],["class","vip-icon btn btn-gradient-primary mr-2",4,"ngIf"],["class","vip-icon btn btn-secondary mr-2",4,"ngIf"],[1,"font-bold","text-2xl"],[1,"leading-relaxed","font-medium","mt-4"],[1,"package-price","mt-4"],[1,"font-bold",2,"font-size","30px"],[1,"text-base","font-bold"],[1,"vip-icon","btn","btn-gradient-primary","mr-2"],["name","gem","size","20"],[1,"vip-icon","btn","btn-secondary","mr-2"],["name","lightbulb","size","20"],["name","coins","size","20"],[1,"py-1","px-2","rounded-full","text-xs","bg-pending","text-white","cursor-pointer","font-medium","box-save"],["name","check","size","20",1,"text-success","flex-none"],[1,"font-medium","ml-2"],[1,"mt-2","flex","items-center"],["name","check","size","20","class","text-success flex-none",4,"ngIf"],["name","x","size","20","class","text-danger flex-none",4,"ngIf"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","w-full","px-4","py-3",3,"click","ngClass"],["name","x","size","20",1,"text-danger","flex-none"],[1,"flex","items-center","mb-3","font-medium"],[1,"btn","w-full","px-4","py-3","btn-outline-primary",3,"click"],[1,"grid","grid-cols-12","gap-5","mt-8","mx-auto",2,"max-width","800px"],[1,"md:col-span-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center","pb-5","border-b","border-slate-200","dark:border-darkmode-400"],[1,"vip-icon","btn","btn-gradient-primary",2,"width","80px","height","80px","font-size","30px","font-weight","600","font-style","italic"],["name","gem","size","30"],[1,"ml-3"],[1,"text-xl","font-medium"],[1,"font-medium","text-lg","mr-1"],[1,"text-slate-500"],[1,"mt-5","flex","items-center"],["type","noads",1,"mr-2","flex-none",3,"size"],[1,"ml-2","font-medium"],["type","badge",1,"mr-2","flex-none",3,"size"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"],[1,"grid","grid-cols-12","gap-5","mt-8","mx-auto","teacherVipTpl"],[1,"package-price","text-center"]],template:function(o,a){1&o&&t.DNE(0,D_,2,2,"teacher-layout",8)(1,B_,2,2,"student-layout",8)(2,Rm,3,2,"ng-template",null,0,t.C5r),2&o&&(t.Y8G("ngIf",a.isTeacherDashboard),t.R7$(),t.Y8G("ngIf",!a.isTeacherDashboard))},dependencies:[u.YU,u.Sq,u.bT,u.T3,i.Zm,i.BC,i.l_,N.K,_t.m,At.Q,zt.j,y.WGl,u.QX,d.wp,d.t0],styles:[".package-teacher[_ngcontent-%COMP%]{position:relative}.box-save[_ngcontent-%COMP%]{position:absolute;top:-12px;right:20px}.vip-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:20px;font-weight:600;font-style:italic}[_ngcontent-%COMP%]:ng-deep   .teacherVipTpl[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{stroke-width:2.5}"]}),s})()},{path:"business-packages/:businessPackageType/:businessRegisterId/:businessRegisterHash",component:ss}]}];let wm=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[_.iI.forChild(Tm),_.iI,B.XE]}),s})(),jm=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[{provide:p.vn,useValue:j.c.azt_tiny_mce_script_src}],imports:[_.iI,u.MD,i.YN,p.sv,It.s,i.X1,wm,Z.Q,O.b,St.L,I.xv,J.Id,y.flO.pick(y.Ptg),v.AC,P,w.Lk,C.An]}),s})()},29660:(gt,Y,c)=>{c.d(Y,{_8:()=>q,d1:()=>L});var u=c(71217),i=c(17509),_=c(47947),p=c(48891),y=c(74978);class t{constructor(R,M,P,b,w=1,v=!1,I=!1,C,J){this.id=R,this.pr=M,this.type=P,this.item=b,this.level=w,this.expandable=v,this.isLoading=I,this.prNode=C,this.isLeaf=J}}let q=(()=>{var D;class R{constructor(P){this.testMarketQuestionService=P,this.levelId=0,this.subjectId=0}initialData(P,b){return this.levelId=P,this.subjectId=b,new Promise(w=>{this.apiLeechData(void 0).then(v=>{w(v.map(I=>new t(I.id,I.pr,I.type,I.name,0,"cate"===I.type,!1,void 0,I.isLeaf)))})})}apiLeechData(P){return new Promise(b=>{const w=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,P).subscribe(v=>{1===v.success&&v.data&&(v.data.objs||[]).forEach(C=>{w.push({pr:P??0,id:C.id??0,name:C.name?`${C.name}`:"",type:"cate",isLeaf:C.isLeaf??!1})}),b(w)})})}}return(D=R).\u0275fac=function(P){return new(P||D)(p.KVO(y.e2))},D.\u0275prov=p.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),R})();class L{get data(){return this.dataChange.value}set data(R){this._treeControl.dataNodes=R,this.dataChange.next(R)}constructor(R,M){this._treeControl=R,this._database=M,this.dataChange=new u.t([])}connect(R){return this._treeControl.expansionModel.changed.subscribe(M=>{(M.added||M.removed)&&this.handleTreeControl(M)}),(0,i.h)(R.viewChange,this.dataChange).pipe((0,_.T)(()=>this.data))}getNode(R){let M=this.data.filter(P=>P.id==R);return M&&M.length>0?M[0]:null}disconnect(R){}handleTreeControl(R){R.added&&R.added.forEach(M=>this.toggleNode(M,!0)),R.removed&&R.removed.slice().reverse().forEach(M=>this.toggleNode(M,!1))}toggleNode(R,M){if("cate"!==R.type)return;const P=this.data.indexOf(R);if(M)R.isLoading=!0,this._database.apiLeechData(R.id).then(b=>{const w=b.map(v=>new t(v.id,v.pr,v.type,v.name,R.level+1,"cate"===v.type,!1,R,v.isLeaf));this.data.splice(P+1,0,...w),this.dataChange.next(this.data),R.isLoading=!1});else{let b=0;for(let w=P+1;w<this.data.length&&this.data[w].level>R.level;w++,b++);this.data.splice(P+1,b),this.dataChange.next(this.data)}}}},39763:(gt,Y,c)=>{c.d(Y,{m:()=>p});var u=c(48891),i=c(36484),_=c(53793);let p=(()=>{var y;class t{constructor(L,D){this.userService=L,this.commonService=D}checkLoginZalo(){if(!this.userService.isLogin())return!1;const L=this.userService.getUserObj();return!(!L.zaloId||L.phone&&10==L.phone.length||L.email&&-1!==L.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}}return(y=t).\u0275fac=function(L){return new(L||y)(u.KVO(i.R),u.KVO(_.R))},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),t})()},40509:(gt,Y,c)=>{c.d(Y,{K:()=>St});var u=c(59640),i=c(48891),_=c(50589),p=c(65162),y=c(54460),t=c(61318),q=c(15343),L=c(19938),D=c(47348);const R=["*"],M=O=>[O],P=()=>({"mr-2":!0});function b(O,Z){if(1&O&&(i.j41(0,"div",6),i.eu8(1,7),i.k0s()),2&O){i.XpG();const j=i.sdS(6);i.R7$(),i.Y8G("ngTemplateOutlet",j)}}function w(O,Z){if(1&O&&(i.j41(0,"div",6),i.eu8(1,7),i.k0s()),2&O){i.XpG();const j=i.sdS(8);i.R7$(),i.Y8G("ngTemplateOutlet",j)}}function v(O,Z){1&O&&i.SdG(0)}function I(O,Z){if(1&O){const j=i.RV6();i.j41(0,"button",19),i.bIt("click",function(){i.eBV(j);const A=i.XpG(2);return i.Njj(A.switchModeUI("dark"))}),i.nrm(1,"lucide-icon",20),i.j41(2,"span",21),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s()()}2&O&&(i.R7$(),i.Y8G("ngClass",i.lJ4(4,P)),i.R7$(2),i.JRh(i.bMT(4,2,"lang_auto_che_de_toi")))}function C(O,Z){if(1&O){const j=i.RV6();i.j41(0,"button",22),i.bIt("click",function(){i.eBV(j);const A=i.XpG(2);return i.Njj(A.switchModeUI("light"))}),i.nrm(1,"lucide-icon",23),i.j41(2,"span"),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s()()}2&O&&(i.R7$(),i.Y8G("ngClass",i.lJ4(4,P)),i.R7$(2),i.JRh(i.bMT(4,2,"lang_auto_che_de_sang")))}function J(O,Z){if(1&O&&(i.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"a",11),i.nI1(4,"navigationLocalize"),i.nrm(5,"img",12),i.nI1(6,"getLinkLogo"),i.k0s()(),i.j41(7,"div",13),i.nrm(8,"azt-switch-language"),i.k0s(),i.j41(9,"div",14),i.DNE(10,I,5,5,"button",15)(11,C,5,5,"button",16),i.k0s()(),i.j41(12,"div",17)(13,"div")(14,"div",18),i.eu8(15,7),i.k0s()()()()),2&O){const j=i.XpG(),B=i.sdS(4);i.R7$(3),i.Y8G("routerLink",i.eq3(13,M,i.bMT(4,9,"/auth/login"))),i.R7$(2),i.Y8G("src",i.bMT(6,11,"bigLogo"),i.B4B),i.R7$(5),i.Y8G("ngIf","light"==j.modeUI),i.R7$(),i.Y8G("ngIf","dark"==j.modeUI),i.R7$(2),i.Aen("max-width:"+j.maxWidth),i.HbH(j.contentBoxClass+(j.removeBoxClass?"":" box mx-auto w-full")),i.R7$(2),i.Y8G("ngTemplateOutlet",B)}}function It(O,Z){if(1&O&&(i.j41(0,"div",8)(1,"div",17)(2,"div")(3,"div",18),i.eu8(4,7),i.k0s()()()()),2&O){const j=i.XpG(),B=i.sdS(4);i.R7$(2),i.Aen("max-width:"+j.maxWidth),i.HbH(j.contentBoxClass+(j.removeBoxClass?"":" box mx-auto w-full")),i.R7$(2),i.Y8G("ngTemplateOutlet",B)}}let St=(()=>{var O;class Z extends u.H{switchModeUI(B){let A=document.getElementById("azota-app-html");A&&(this.modeUI=B,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(A.classList.remove("dark"),A.classList.add("light")):(A.classList.remove("light"),A.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(B){super(),this.browserStorageService=B,this.maxWidth="500px",this.contentBoxClass="p-5",this.removeBoxClass=!1,this.modeUI="",this.initStatusObj()}}return(O=Z).\u0275fac=function(B){return new(B||O)(i.rXU(_.z))},O.\u0275cmp=i.VBU({type:O,selectors:[["auth-layout"]],inputs:{maxWidth:"maxWidth",contentBoxClass:"contentBoxClass",removeBoxClass:"removeBoxClass"},features:[i.Vt3],ngContentSelectors:R,decls:11,vars:2,consts:[["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden"],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","moon","size","20",3,"ngClass"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","sun","size","20",3,"ngClass"]],template:function(B,A){1&B&&(i.NAR(),i.j41(0,"div",3),i.DNE(1,b,2,1,"div",4)(2,w,2,1,"div",4),i.k0s(),i.DNE(3,v,1,0,"ng-template",null,0,i.C5r)(5,J,16,15,"ng-template",null,1,i.C5r)(7,It,5,5,"ng-template",null,2,i.C5r),i.j41(9,"div",5),i.nrm(10,"header-setting-color"),i.k0s()),2&B&&(i.R7$(),i.Y8G("ngIf",!A.isMobileWebView&&!A.statusObj.loading),i.R7$(),i.Y8G("ngIf",A.isMobileWebView&&!A.statusObj.loading))},dependencies:[p.Wk,y.YU,y.bT,y.T3,t.V,q.WGl,L.o,D.F2,D.wp,D.ph],encapsulation:2}),Z})()},46247:(gt,Y,c)=>{c.d(Y,{l:()=>P});var u=c(10936),i=c(89163),_=c(33887),p=c(48891),y=c(54460),t=c(15343),q=c(2915),L=c(47348);const D=()=>({"mr-2":!0});function R(b,w){if(1&b&&(p.nrm(0,"iframe",14),p.nI1(1,"safe")),2&b){const v=p.XpG();p.Y8G("src",p.bMT(1,1,v.data.introLink),p.f$h)}}function M(b,w){if(1&b&&(p.j41(0,"div",15),p.nrm(1,"input",16),p.j41(2,"label",17),p.EFF(3),p.nI1(4,"mytranslate"),p.k0s()()),2&b){const v=p.XpG();p.R7$(),p.Y8G("formControl",v.isHiddenShowAgain),p.R7$(2),p.JRh(p.bMT(4,2,"lang_testbank_create_exam_width_file_pdf_not_view"))}}let P=(()=>{var b;class w extends _._{handleCloseDialog(){this.dialogRef.close(this.isHiddenShowAgain.value)}constructor(I,C){super(C,I),this.dialogRef=I,this.data=C,this.isHiddenShowAgain=new u.MJ(!1,{nonNullable:!0}),this.title="lang_auto_canh_bao",this.iconName="octagon-alert",this.iconClass="text-pending",C.title&&(this.title=C.title),C.iconName&&(this.iconName=C.iconName),C.iconClass&&(this.iconClass=C.iconClass)}}return(b=w).\u0275fac=function(I){return new(I||b)(p.rXU(i.CP,8),p.rXU(i.Vh,8))},b.\u0275cmp=p.VBU({type:b,selectors:[["azt-dialog-warning"]],features:[p.Vt3],decls:19,vars:18,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-base","font-medium","flex","items-center","p-3","pb-0"],["size","24",3,"name","ngClass"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-md","text-slate-500","dark:text-slate-400","px-3",3,"innerHtml"],[1,"p-3"],["class","w-full h-full","style","min-height: 300px","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",3,"src",4,"ngIf"],[1,"p-3","flex","items-center"],["class","form-check",4,"ngIf"],[1,"ml-auto"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"],["title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",1,"w-full","h-full",2,"min-height","300px",3,"src"],[1,"form-check"],["id","is-not-show-again","type","checkbox",1,"form-check-input",3,"formControl"],["for","is-not-show-again",1,"form-check-label"]],template:function(I,C){1&I&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),p.nrm(4,"lucide-icon",4),p.EFF(5),p.nI1(6,"mytranslate"),p.k0s(),p.j41(7,"div",5)(8,"azt-mat-dialog-content",6),p.nrm(9,"div",7),p.nI1(10,"safeContentQuestion"),p.j41(11,"div",8),p.DNE(12,R,2,3,"iframe",9),p.k0s()()()()(),p.j41(13,"div",10),p.DNE(14,M,5,4,"div",11),p.j41(15,"div",12)(16,"button",13),p.bIt("click",function(){return C.handleCloseDialog()}),p.EFF(17),p.nI1(18,"mytranslate"),p.k0s()()()()),2&I&&(p.R7$(4),p.HbH(C.iconClass),p.Y8G("name",C.iconName)("ngClass",p.lJ4(17,D)),p.R7$(),p.SpI(" ",p.bMT(6,11,C.title)," "),p.R7$(3),p.Y8G("defaultHeight",60),p.R7$(),p.Y8G("innerHtml",p.bMT(10,13,C.data.content),p.npT),p.R7$(3),p.Y8G("ngIf",C.data.introLink),p.R7$(2),p.Y8G("ngIf",C.data.isUsingDoneShowAgain),p.R7$(3),p.SpI(" ",p.bMT(18,15,"lang_auto_dong")," "))},dependencies:[y.YU,y.bT,u.Zm,u.BC,u.l_,t.WGl,q.U,L.wp,L.ep,L.JI],encapsulation:2}),w})()},74175:(gt,Y,c)=>{c.d(Y,{W:()=>P});var u=c(47947),i=c(59640),_=c(48891),p=c(10296),y=c(53793),t=c(27691),q=c(54460),L=c(47348);const D=["*","*"];function R(b,w){if(1&b){const v=_.RV6();_.qex(0),_.j41(1,"a",2),_.bIt("click",function(){_.eBV(v);const C=_.XpG();return _.Njj(C.shareFileToFlutter())}),_.j41(2,"span"),_.EFF(3),_.nI1(4,"mytranslate"),_.k0s(),_.SdG(5),_.k0s(),_.bVm()}if(2&b){const v=_.XpG();_.R7$(),_.Aen(v.style),_.HbH(v.classStyle),_.FS9("target",v.target),_.R7$(2),_.JRh(_.bMT(4,7,v.fileDescription))}}function M(b,w){if(1&b&&(_.j41(0,"a",3)(1,"span"),_.EFF(2),_.nI1(3,"mytranslate"),_.k0s(),_.SdG(4,1),_.k0s()),2&b){const v=_.XpG();_.Aen(v.style),_.HbH(v.classStyle),_.FS9("href",v.dataUrl,_.B4B),_.FS9("target",v.target),_.FS9("download",v.fileName),_.R7$(2),_.JRh(_.bMT(3,9,v.fileDescription))}}let P=(()=>{var b;class w extends i.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,u.T)(I=>I))}shareFileToFlutter(){this.downloadFile().subscribe(I=>{this.shareFileFlutterService.shareFileWithBlob(I,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(I,C,J){super(),this.shareFileFlutterService=I,this.commonService=C,this.http=J,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return(b=w).\u0275fac=function(I){return new(I||b)(_.rXU(p.R),_.rXU(y.R),_.rXU(t.Qq))},b.\u0275cmp=_.VBU({type:b,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[_.Vt3],ngContentSelectors:D,decls:3,vars:2,consts:[["NormalWeb",""],[4,"ngIf","ngIfElse"],[3,"click","target"],[3,"href","target","download"]],template:function(I,C){if(1&I&&(_.NAR(D),_.DNE(0,R,6,9,"ng-container",1)(1,M,5,11,"ng-template",null,0,_.C5r)),2&I){const J=_.sdS(2);_.Y8G("ngIf",C.isMobileWebView)("ngIfElse",J)}},dependencies:[q.bT,L.wp],encapsulation:2}),w})()},99391:(gt,Y,c)=>{c.d(Y,{n:()=>P});var u=c(59640),i=c(48891),_=c(64396),p=c(35024),y=c(54460),t=c(52811),q=c(47348);function L(b,w){1&b&&(i.j41(0,"span",6),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&b&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_auth_remove_teacher_role")))}function D(b,w){if(1&b&&(i.j41(0,"span",6),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&b){const v=i.XpG();i.R7$(),i.SpI(" ",i.bMT(2,1,v.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function R(b,w){if(1&b&&(i.j41(0,"span",6),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&b){const v=i.XpG();i.R7$(),i.SpI(" ",i.bMT(2,1,v.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function M(b,w){1&b&&i.nrm(0,"azt-loading-ui",7)}let P=(()=>{var b;class w extends u.H{becomeTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(I=>{if(!I.success)return this.errorStatusObj(I.message,!0);this.redirectByRoleService.redirectLoginByRole("")}))}becomeStudent(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(I=>{I.success||this.errorStatusObj(I.message,!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/classroom/0"))}))}ngOnInit(){super.ngOnInit()}constructor(I,C){super(),this.redirectByRoleService=I,this.userInfoService=C,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return(b=w).\u0275fac=function(I){return new(I||b)(i.rXU(_.b),i.rXU(p.fv))},b.\u0275cmp=i.VBU({type:b,selectors:[["coazt-convert-account-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[i.Vt3],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"h5"],[1,"mr-1"]],template:function(I,C){1&I&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2),i.DNE(3,L,3,3,"span",3)(4,D,3,3,"span",3)(5,R,3,3,"span",3),i.k0s(),i.j41(6,"button",4),i.bIt("click",function(){return C.isTeacherDashboard?C.becomeStudent():C.becomeTeacher()}),i.DNE(7,M,1,0,"azt-loading-ui",5),i.EFF(8),i.nI1(9,"mytranslate"),i.k0s()()()),2&I&&(i.R7$(3),i.Y8G("ngIf",C.isTeacherDashboard),i.R7$(),i.Y8G("ngIf",!C.isTeacherDashboard&&!C.isMobileWebView),i.R7$(),i.Y8G("ngIf",!C.isTeacherDashboard&&C.isMobileWebView),i.R7$(2),i.Y8G("ngIf",C.statusObj.loading),i.R7$(),i.SpI(" ",i.bMT(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[y.bT,t.R,q.wp],encapsulation:2}),w})()}}]);